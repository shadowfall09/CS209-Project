{"items":[{"tags":["java","reactive-programming","apache-commons-httpclient","reactor"],"comments":[{"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1571748358,"post_id":58504527,"comment_id":103337601,"body_markdown":"Can you show the code that is blocking? Maybe it&#39;s not `toFuture` but another call that blocks?","body":"Can you show the code that is blocking? Maybe it&#39;s not <code>toFuture</code> but another call that blocks?"},{"owner":{"account_id":3868372,"reputation":4436,"user_id":3204335,"display_name":"MD Ruhul Amin"},"score":0,"creation_date":1571749624,"post_id":58504527,"comment_id":103338293,"body_markdown":"@Sweeper I&#39;ve added sample code snippet, please check.","body":"@Sweeper I&#39;ve added sample code snippet, please check."}],"answers":[{"tags":[],"owner":{"account_id":15968321,"reputation":490,"user_id":11523207,"display_name":"Joost Lambregts"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1659640053,"creation_date":1658737829,"answer_id":73106152,"question_id":58504527,"body_markdown":"-- EDIT: I was wrong. mono.toFuture() doesn&#39;t block --\r\n\r\nmono.toFuture() isn&#39;t blocking. Look at this test:\r\n```\r\n    @Test\r\n    void testMonoToFuture() throws ExecutionException, InterruptedException {\r\n        System.out.println(LocalTime.now() + &quot;: start&quot;);\r\n        Mono&lt;String&gt; mono = Mono.just(&quot;hello StackOverflow&quot;)\r\n            .delayElement(Duration.ofMillis(500))\r\n            .doOnNext((s) -&gt; System.out.println(LocalTime.now() + &quot;: mono completed&quot;));\r\n        Future&lt;String&gt; future = mono.toFuture();\r\n        System.out.println(LocalTime.now() + &quot;: future created&quot;);\r\n        String result = future.get();\r\n        System.out.println(LocalTime.now() + &quot;: future completed&quot;);\r\n        assertThat(result).isEqualTo(&quot;hello StackOverflow&quot;);\r\n    }\r\n```\r\nThis is the result:\r\n```\r\n20:18:49.557: start\r\n20:18:49.575: future created\r\n20:18:50.088: mono completed\r\n20:18:50.088: future completed\r\n```\r\nThe future is created almost immediately. Half a second later, the mono completes and immediately after that, the future completes. This is exactly what I would expect to happen.\r\n\r\n\r\nSo why does the mono seem blocking in the example provided in the question? It&#39;s because of the way mono.fromCallable() works. When and where does that callable actually run? mono.fromCallable() doesn&#39;t spawn an extra thread to do the work. From my tests it seems that the callable runs when you first call subscribe() or block() or something similar on the mono, and it will run in the thread that does that. \r\n\r\nHere is a test that shows that if you create a mono with fromCallable(), subscribe will cause the callable to be executed in the main thread and even the subscribe() method will seem blocking.\r\n\r\n```\r\n    @Test\r\n    void testMonoToFuture() throws ExecutionException, InterruptedException {\r\n        System.out.println(LocalTime.now() + &quot;: start&quot;);\r\n        System.out.println(&quot;main thread: &quot; + Thread.currentThread().getName());\r\n        Mono&lt;String&gt; mono = Mono.fromCallable(() -&gt; {\r\n                System.out.println(&quot;callabel running in thread: &quot; + Thread.currentThread().getName());\r\n            Thread.sleep(1000);\r\n            return &quot;Hello StackOverflow&quot;;\r\n            })\r\n            .doOnNext((s) -&gt; System.out.println(LocalTime.now() + &quot;: mono completed&quot;));\r\n        System.out.println(&quot;before subscribe&quot;);\r\n        mono.subscribe(System.out::println);\r\n        System.out.println(LocalTime.now() + &quot;: after subscribe&quot;);\r\n    }\r\n```\r\nresult:\r\n```\r\n20:53:37.071: start\r\nmain thread: main\r\nbefore subscribe\r\ncallabel running in thread: main\r\n20:53:38.099: mono completed\r\nHello StackOverflow\r\n20:53:38.100: after subscribe\r\n```\r\n\r\nConclusion: mono.toFuture() isn&#39;t any more blocking than mono.subscribe(). If you want to execute some piece of code asynchronously, you shouldn&#39;t be using Mono.fromCallable(). You could consider using Executors.newSingleThreadExecutor().submit(someCallable)\r\n\r\nFor reference, here is my original (wrong) answer where I belittle the mono.block() method that was assuredly written by people who know a lot more about Java and coding than I do. A personal lesson in humility, I guess.\r\n\r\nEVERYTHING BELOW THIS IS NONSENSE\r\n\r\nI wanted to verify exactly how this works so I wrote some tests. Unfortunately, it turns out that mono.toFuture() is indeed blocking and the result is evaluated synchronously. I honestly don&#39;t know why you would ever use this feature. The whole point of a Future is to hold the result of an asynchronous evaluation.\r\n\r\nHere is my test:\r\n```\r\n@Test\r\n  void testMonoToFuture() throws ExecutionException, InterruptedException {\r\n    Mono&lt;Integer&gt; mono = Mono.fromCallable(() -&gt; {\r\n      System.out.println(&quot;start mono&quot;);\r\n      Thread.sleep(1000);\r\n      System.out.println(&quot;mono completed&quot;);\r\n      return 0;\r\n    });\r\n    Future&lt;Integer&gt; future = mono.toFuture();\r\n    System.out.println(&quot;future created&quot;);\r\n    future.get();\r\n    System.out.println(&quot;future completed&quot;);\r\n  }\r\n```\r\nResult:\r\n```\r\nstart mono\r\nmono completed\r\nfuture created\r\nfuture completed\r\n```\r\n\r\nHere is an implementation of monoToFuture() that works the way that I would expect it to:\r\n\r\n```\r\n@Test\r\n  void testMonoToFuture() throws ExecutionException, InterruptedException {\r\n    Mono&lt;Integer&gt; mono = Mono.fromCallable(() -&gt; {\r\n      System.out.println(&quot;start mono&quot;);\r\n      Thread.sleep(1000);\r\n      System.out.println(&quot;mono completed&quot;);\r\n      return 0;\r\n    });\r\n    Future&lt;Integer&gt; future = monoToFuture(mono, Executors.newSingleThreadExecutor());\r\n    System.out.println(&quot;future created&quot;);\r\n    future.get();\r\n    System.out.println(&quot;future completed&quot;);\r\n  }\r\n\r\n  private &lt;T&gt; Future&lt;T&gt; monoToFuture(Mono&lt;T&gt; mono, ExecutorService executorService){\r\n    return executorService.submit((Callable&lt;T&gt;) mono::block);\r\n  }\r\n```\r\nResult:\r\n```\r\nfuture created\r\nstart mono\r\nmono completed\r\nfuture completed\r\n```","title":"Is Mono.toFuture() blocking?","body":"<p>-- EDIT: I was wrong. mono.toFuture() doesn't block --</p>\n<p>mono.toFuture() isn't blocking. Look at this test:</p>\n<pre><code>    @Test\n    void testMonoToFuture() throws ExecutionException, InterruptedException {\n        System.out.println(LocalTime.now() + &quot;: start&quot;);\n        Mono&lt;String&gt; mono = Mono.just(&quot;hello StackOverflow&quot;)\n            .delayElement(Duration.ofMillis(500))\n            .doOnNext((s) -&gt; System.out.println(LocalTime.now() + &quot;: mono completed&quot;));\n        Future&lt;String&gt; future = mono.toFuture();\n        System.out.println(LocalTime.now() + &quot;: future created&quot;);\n        String result = future.get();\n        System.out.println(LocalTime.now() + &quot;: future completed&quot;);\n        assertThat(result).isEqualTo(&quot;hello StackOverflow&quot;);\n    }\n</code></pre>\n<p>This is the result:</p>\n<pre><code>20:18:49.557: start\n20:18:49.575: future created\n20:18:50.088: mono completed\n20:18:50.088: future completed\n</code></pre>\n<p>The future is created almost immediately. Half a second later, the mono completes and immediately after that, the future completes. This is exactly what I would expect to happen.</p>\n<p>So why does the mono seem blocking in the example provided in the question? It's because of the way mono.fromCallable() works. When and where does that callable actually run? mono.fromCallable() doesn't spawn an extra thread to do the work. From my tests it seems that the callable runs when you first call subscribe() or block() or something similar on the mono, and it will run in the thread that does that.</p>\n<p>Here is a test that shows that if you create a mono with fromCallable(), subscribe will cause the callable to be executed in the main thread and even the subscribe() method will seem blocking.</p>\n<pre><code>    @Test\n    void testMonoToFuture() throws ExecutionException, InterruptedException {\n        System.out.println(LocalTime.now() + &quot;: start&quot;);\n        System.out.println(&quot;main thread: &quot; + Thread.currentThread().getName());\n        Mono&lt;String&gt; mono = Mono.fromCallable(() -&gt; {\n                System.out.println(&quot;callabel running in thread: &quot; + Thread.currentThread().getName());\n            Thread.sleep(1000);\n            return &quot;Hello StackOverflow&quot;;\n            })\n            .doOnNext((s) -&gt; System.out.println(LocalTime.now() + &quot;: mono completed&quot;));\n        System.out.println(&quot;before subscribe&quot;);\n        mono.subscribe(System.out::println);\n        System.out.println(LocalTime.now() + &quot;: after subscribe&quot;);\n    }\n</code></pre>\n<p>result:</p>\n<pre><code>20:53:37.071: start\nmain thread: main\nbefore subscribe\ncallabel running in thread: main\n20:53:38.099: mono completed\nHello StackOverflow\n20:53:38.100: after subscribe\n</code></pre>\n<p>Conclusion: mono.toFuture() isn't any more blocking than mono.subscribe(). If you want to execute some piece of code asynchronously, you shouldn't be using Mono.fromCallable(). You could consider using Executors.newSingleThreadExecutor().submit(someCallable)</p>\n<p>For reference, here is my original (wrong) answer where I belittle the mono.block() method that was assuredly written by people who know a lot more about Java and coding than I do. A personal lesson in humility, I guess.</p>\n<p>EVERYTHING BELOW THIS IS NONSENSE</p>\n<p>I wanted to verify exactly how this works so I wrote some tests. Unfortunately, it turns out that mono.toFuture() is indeed blocking and the result is evaluated synchronously. I honestly don't know why you would ever use this feature. The whole point of a Future is to hold the result of an asynchronous evaluation.</p>\n<p>Here is my test:</p>\n<pre><code>@Test\n  void testMonoToFuture() throws ExecutionException, InterruptedException {\n    Mono&lt;Integer&gt; mono = Mono.fromCallable(() -&gt; {\n      System.out.println(&quot;start mono&quot;);\n      Thread.sleep(1000);\n      System.out.println(&quot;mono completed&quot;);\n      return 0;\n    });\n    Future&lt;Integer&gt; future = mono.toFuture();\n    System.out.println(&quot;future created&quot;);\n    future.get();\n    System.out.println(&quot;future completed&quot;);\n  }\n</code></pre>\n<p>Result:</p>\n<pre><code>start mono\nmono completed\nfuture created\nfuture completed\n</code></pre>\n<p>Here is an implementation of monoToFuture() that works the way that I would expect it to:</p>\n<pre><code>@Test\n  void testMonoToFuture() throws ExecutionException, InterruptedException {\n    Mono&lt;Integer&gt; mono = Mono.fromCallable(() -&gt; {\n      System.out.println(&quot;start mono&quot;);\n      Thread.sleep(1000);\n      System.out.println(&quot;mono completed&quot;);\n      return 0;\n    });\n    Future&lt;Integer&gt; future = monoToFuture(mono, Executors.newSingleThreadExecutor());\n    System.out.println(&quot;future created&quot;);\n    future.get();\n    System.out.println(&quot;future completed&quot;);\n  }\n\n  private &lt;T&gt; Future&lt;T&gt; monoToFuture(Mono&lt;T&gt; mono, ExecutorService executorService){\n    return executorService.submit((Callable&lt;T&gt;) mono::block);\n  }\n</code></pre>\n<p>Result:</p>\n<pre><code>future created\nstart mono\nmono completed\nfuture completed\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12455565,"reputation":5317,"user_id":9068895,"display_name":"Alex"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1676482830,"creation_date":1676482830,"answer_id":75463568,"question_id":58504527,"body_markdown":"**TL;DR** \r\n`Mono.toFuture()` is not blocking but `Mono.toFuture().get()` is blocking. `block()` is technically the same as `toFuture().get()` and both are blocking.\r\n\r\n`Mono.toFuture()` just transforms `Mono` into a `CompletableFuture` by subscribing to it and resolving immediately. But it doesn&#39;t mean that you can access result (in your case `String`) of the corresponding `Mono` after this. `CompletableFuture` is still async and you can use methods like `thenApply()`, `thenCompose()`, `thenCombine()`, ... to continue async processing.\r\n\r\n\r\n```\r\nCompletableFuture&lt;Double&gt; result = getUserDetail(userId)\r\n    .toFuture()\r\n    .thenCompose(user -&gt; getCreditRating(user));\r\n```\r\n\r\nwhere `getUserDetail` is defined as \r\n```\r\nMono&lt;User&gt; getUserDetail(String userId);\r\n```\r\n\r\n`Mono.toFuture` is useful when you need to combine different async APIs. For example, AWS Java v2 API is async but based on `CompletableFuture` but we can combine APIs using `Mono.toFuture` or `Mono.fromFuture`.\r\n\r\n\r\n\r\n","title":"Is Mono.toFuture() blocking?","body":"<p><strong>TL;DR</strong>\n<code>Mono.toFuture()</code> is not blocking but <code>Mono.toFuture().get()</code> is blocking. <code>block()</code> is technically the same as <code>toFuture().get()</code> and both are blocking.</p>\n<p><code>Mono.toFuture()</code> just transforms <code>Mono</code> into a <code>CompletableFuture</code> by subscribing to it and resolving immediately. But it doesn't mean that you can access result (in your case <code>String</code>) of the corresponding <code>Mono</code> after this. <code>CompletableFuture</code> is still async and you can use methods like <code>thenApply()</code>, <code>thenCompose()</code>, <code>thenCombine()</code>, ... to continue async processing.</p>\n<pre><code>CompletableFuture&lt;Double&gt; result = getUserDetail(userId)\n    .toFuture()\n    .thenCompose(user -&gt; getCreditRating(user));\n</code></pre>\n<p>where <code>getUserDetail</code> is defined as</p>\n<pre><code>Mono&lt;User&gt; getUserDetail(String userId);\n</code></pre>\n<p><code>Mono.toFuture</code> is useful when you need to combine different async APIs. For example, AWS Java v2 API is async but based on <code>CompletableFuture</code> but we can combine APIs using <code>Mono.toFuture</code> or <code>Mono.fromFuture</code>.</p>\n"}],"owner":{"account_id":3868372,"reputation":4436,"user_id":3204335,"display_name":"MD Ruhul Amin"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9132,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":75463568,"answer_count":2,"score":6,"last_activity_date":1676482830,"creation_date":1571747958,"question_id":58504527,"body_markdown":"From the [Official Documentation of Mono#block()][1] it is said that:\r\n\r\n&gt; Subscribe to this Mono and **block indefinitely** until a next signal is received. Returns that value, or null if the Mono completes empty. In case the Mono errors, the original exception is thrown (wrapped in a RuntimeException if it was a checked exception).\r\n\r\nSo it is sure that block() method is blocking and it will not execute the next line untill `block()` resolved.\r\n\r\nBut my confusion is while I was using `toFuture()` expecting it will be non-blocking but it is behaving exactly like `block` method. And in the [Documentation of Mono#toFuture()][3] it is stated:\r\n\r\n&gt; Transform this Mono into a CompletableFuture completing on onNext or onComplete and failing on onError.\r\n\r\n[![Mono#toFuture()][2]][2]\r\n\r\nNot much clear. Nowhere in this doc said **`Mono#toFuture()` is blocking**. \r\n\r\n 1. Please confirm me if `toFuture()` method blocking or non-blocking?\r\n 2. Also If it is **non-blocking** then, which thread will responsible to execute the code inside `CompletableFuture`?\r\n\r\n**Update: added code snippet**\r\n\r\nusing **`Mono.block()`** method:\r\n\r\n\t\tlong time = System.currentTimeMillis();\r\n\t\tString block = Mono.fromCallable(() -&gt; {\r\n\t\t\tlogger.debug(&quot;inside in fromCallable() block()&quot;);\r\n\t\t\t//Upstream httpcall with apache httpClient().\r\n\t\t\t// which takes atleast 1sec to complete.\r\n\t\t\treturn &quot;Http response as string&quot;;\r\n\t\t}).block();\r\n\t\tlogger.info(&quot;total time needed {}&quot;, (System.currentTimeMillis()-time));\r\n\r\n\t\treturn CompletableFuture.completedFuture(block);\r\n\r\n-----\r\nUsing **`Mono.ToFuture()`** method:\r\n\r\n\t\tlong time = System.currentTimeMillis();\r\n\t\tCompletableFuture&lt;String&gt; toFuture = Mono.fromCallable(() -&gt; {\r\n\t\t\tlogger.debug(&quot;inside in fromCallable() block()&quot;);\r\n\t\t\t//Upstream httpcall with apache httpClient().\r\n\t\t\t// which takes atleast 1sec to complete.\r\n\t\t\treturn &quot;Http response as string&quot;;\r\n\t\t}).toFuture();\r\n\t\tlogger.info(&quot;total time needed {}&quot;, (System.currentTimeMillis()-time));\r\n\t\treturn toFuture;\r\n\r\n\r\n**these two code snippets behaves exactly same.**\r\n\r\n\r\n  [1]: https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Mono.html#block--\r\n  [2]: https://i.stack.imgur.com/gAJSR.png\r\n  [3]: https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Mono.html#toFuture--","title":"Is Mono.toFuture() blocking?","body":"<p>From the <a href=\"https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Mono.html#block--\" rel=\"noreferrer\">Official Documentation of Mono#block()</a> it is said that:</p>\n\n<blockquote>\n  <p>Subscribe to this Mono and <strong>block indefinitely</strong> until a next signal is received. Returns that value, or null if the Mono completes empty. In case the Mono errors, the original exception is thrown (wrapped in a RuntimeException if it was a checked exception).</p>\n</blockquote>\n\n<p>So it is sure that block() method is blocking and it will not execute the next line untill <code>block()</code> resolved.</p>\n\n<p>But my confusion is while I was using <code>toFuture()</code> expecting it will be non-blocking but it is behaving exactly like <code>block</code> method. And in the <a href=\"https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Mono.html#toFuture--\" rel=\"noreferrer\">Documentation of Mono#toFuture()</a> it is stated:</p>\n\n<blockquote>\n  <p>Transform this Mono into a CompletableFuture completing on onNext or onComplete and failing on onError.</p>\n</blockquote>\n\n<p><a href=\"https://i.stack.imgur.com/gAJSR.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/gAJSR.png\" alt=\"Mono#toFuture()\"></a></p>\n\n<p>Not much clear. Nowhere in this doc said <strong><code>Mono#toFuture()</code> is blocking</strong>. </p>\n\n<ol>\n<li>Please confirm me if <code>toFuture()</code> method blocking or non-blocking?</li>\n<li>Also If it is <strong>non-blocking</strong> then, which thread will responsible to execute the code inside <code>CompletableFuture</code>?</li>\n</ol>\n\n<p><strong>Update: added code snippet</strong></p>\n\n<p>using <strong><code>Mono.block()</code></strong> method:</p>\n\n<pre><code>    long time = System.currentTimeMillis();\n    String block = Mono.fromCallable(() -&gt; {\n        logger.debug(\"inside in fromCallable() block()\");\n        //Upstream httpcall with apache httpClient().\n        // which takes atleast 1sec to complete.\n        return \"Http response as string\";\n    }).block();\n    logger.info(\"total time needed {}\", (System.currentTimeMillis()-time));\n\n    return CompletableFuture.completedFuture(block);\n</code></pre>\n\n<hr>\n\n<p>Using <strong><code>Mono.ToFuture()</code></strong> method:</p>\n\n<pre><code>    long time = System.currentTimeMillis();\n    CompletableFuture&lt;String&gt; toFuture = Mono.fromCallable(() -&gt; {\n        logger.debug(\"inside in fromCallable() block()\");\n        //Upstream httpcall with apache httpClient().\n        // which takes atleast 1sec to complete.\n        return \"Http response as string\";\n    }).toFuture();\n    logger.info(\"total time needed {}\", (System.currentTimeMillis()-time));\n    return toFuture;\n</code></pre>\n\n<p><strong>these two code snippets behaves exactly same.</strong></p>\n"},{"tags":["java","mysql","workbench"],"comments":[{"owner":{"account_id":17741504,"reputation":1083,"user_id":12881733,"display_name":"Bill Mair"},"score":0,"creation_date":1676402635,"post_id":75452358,"comment_id":133128972,"body_markdown":"I don&#39;t see the advantage of this. What if you delete the 3rd user? The IDs are then 1,2,4,5,6,7,8. Do you want to identify and reuse 3 again? You are going to be causing some serious performance issues in your database.","body":"I don&#39;t see the advantage of this. What if you delete the 3rd user? The IDs are then 1,2,4,5,6,7,8. Do you want to identify and reuse 3 again? You are going to be causing some serious performance issues in your database."},{"owner":{"account_id":24951619,"reputation":66,"user_id":18816352,"display_name":"NickP"},"score":0,"creation_date":1676403132,"post_id":75452358,"comment_id":133129128,"body_markdown":"There is not a way to do that. Using Auto Increment or Identity makes a value no longer usable once it is used.\n\nSo a user with an ID of 1 will always have an ID of 1. A possible workaround is to not delete users, but instead put in a column of TinyInt(1) labeled &#39;Deleted&#39;\n\nNew Users will have Deleted set to 0. When a user is deleted, their record gets set to 1. It will keep your IDs in order and then you just need to account for querying users who are not deleted.","body":"There is not a way to do that. Using Auto Increment or Identity makes a value no longer usable once it is used.  So a user with an ID of 1 will always have an ID of 1. A possible workaround is to not delete users, but instead put in a column of TinyInt(1) labeled &#39;Deleted&#39;  New Users will have Deleted set to 0. When a user is deleted, their record gets set to 1. It will keep your IDs in order and then you just need to account for querying users who are not deleted."},{"owner":{"account_id":17741504,"reputation":1083,"user_id":12881733,"display_name":"Bill Mair"},"score":0,"creation_date":1676409059,"post_id":75452358,"comment_id":133130635,"body_markdown":"@NickP Of course you can do it, you don&#39;t have the Id auto generated but defined as the result of a sub select on max(id)+1, but it is a ludicrous solution. As I said, before, does the OP want to start filling holes too?","body":"@NickP Of course you can do it, you don&#39;t have the Id auto generated but defined as the result of a sub select on max(id)+1, but it is a ludicrous solution. As I said, before, does the OP want to start filling holes too?"},{"owner":{"account_id":24951619,"reputation":66,"user_id":18816352,"display_name":"NickP"},"score":1,"creation_date":1676579561,"post_id":75452358,"comment_id":133170920,"body_markdown":"@BillMair I meant there is no way to reuse numbers when using Auto Increment. But I agree, manually assigning ids will also work.","body":"@BillMair I meant there is no way to reuse numbers when using Auto Increment. But I agree, manually assigning ids will also work."}],"answers":[{"tags":[],"owner":{"account_id":27788083,"reputation":44,"user_id":21215081,"display_name":"Nantodou"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676415978,"creation_date":1676415978,"answer_id":75454062,"question_id":75452358,"body_markdown":"I&#39;m not familiar with MYSQL Workbench, but I think you might be able to alter your table and to change the value of the AUTO_INCREMENT. \r\n\r\nHere&#39;s a link that talk about it in more details and even has an example:[https://www.w3schools.com/mysql/mysql_autoincrement.asp][1] \r\n\r\nI hope this help you.\r\n\r\n\r\n  [1]: https://www.w3schools.com/mysql/mysql_autoincrement.asp","title":"MYSQL Workbench - indexes after delete (Java)","body":"<p>I'm not familiar with MYSQL Workbench, but I think you might be able to alter your table and to change the value of the AUTO_INCREMENT.</p>\n<p>Here's a link that talk about it in more details and even has an example:<a href=\"https://www.w3schools.com/mysql/mysql_autoincrement.asp\" rel=\"nofollow noreferrer\">https://www.w3schools.com/mysql/mysql_autoincrement.asp</a></p>\n<p>I hope this help you.</p>\n"},{"tags":[],"owner":{"account_id":24951619,"reputation":66,"user_id":18816352,"display_name":"NickP"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676482771,"creation_date":1676482771,"answer_id":75463560,"question_id":75452358,"body_markdown":"There is not a way to do that. Using Auto Increment or Identity makes a value no longer usable once it is used.\r\n\r\nSo a user with an ID of 1 will always have an ID of 1. A possible workaround is to not delete users, but instead put in a column of TinyInt(1) labeled &#39;Deleted&#39;\r\n\r\nNew Users will have Deleted set to 0. When a user is deleted, their record gets set to 1. It will keep your IDs in order and then you just need to account for querying users who are not deleted.","title":"MYSQL Workbench - indexes after delete (Java)","body":"<p>There is not a way to do that. Using Auto Increment or Identity makes a value no longer usable once it is used.</p>\n<p>So a user with an ID of 1 will always have an ID of 1. A possible workaround is to not delete users, but instead put in a column of TinyInt(1) labeled 'Deleted'</p>\n<p>New Users will have Deleted set to 0. When a user is deleted, their record gets set to 1. It will keep your IDs in order and then you just need to account for querying users who are not deleted.</p>\n"}],"owner":{"account_id":27767204,"reputation":25,"user_id":21198312,"display_name":"ShadyRaso"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":71,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1676482771,"creation_date":1676402253,"question_id":75452358,"body_markdown":"I have a problem with MYSQL Workbench. Let&#39;s say I have this table, the user &#39;x&#39; has index 8. Let&#39;s say I delete this user, so now I have only 7 users. If I create a new user with Java Console, the new user will be created with ID 9 because it&#39;s in auto increment. Is there a way to tell Workbench to start from where it is the last number? in that specific case, start creating the new user from 8 and not 9?\r\n\r\nI tried to check everywhere on the web, but found only some query to recreate the table, but its not what I want because I have some foreign keys linked to that table, so I can&#39;t just delete the table and recreate another one.","title":"MYSQL Workbench - indexes after delete (Java)","body":"<p>I have a problem with MYSQL Workbench. Let's say I have this table, the user 'x' has index 8. Let's say I delete this user, so now I have only 7 users. If I create a new user with Java Console, the new user will be created with ID 9 because it's in auto increment. Is there a way to tell Workbench to start from where it is the last number? in that specific case, start creating the new user from 8 and not 9?</p>\n<p>I tried to check everywhere on the web, but found only some query to recreate the table, but its not what I want because I have some foreign keys linked to that table, so I can't just delete the table and recreate another one.</p>\n"},{"tags":["java","android"],"owner":{"account_id":2160535,"reputation":8860,"user_id":1914781,"accept_rate":80,"display_name":"lucky1928"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":13,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676482544,"creation_date":1676482544,"question_id":75463515,"body_markdown":"I have a android A.jar file deployed at system path.\r\n\r\n    /product/framework/A.jar\r\n\r\nit has dependency to B.jar. but looks like if use A.jar as dependency in D project, it will expose B.jar file to D as well.\r\n\r\nD project use A.jar and B.jar as below:\r\n\r\n    complieOnly A.jar\r\n    implementation B.jar\r\n\r\nI found this since when I add B.jar to D as dependency, it actually use the version from A.jar file.\r\n\r\nThat&#39;s very weird since the version of B.jar maybe different, how to prevent A.jar expose it&#39;s dependency?","title":"android jar file exposed dependency libs unexpectly","body":"<p>I have a android A.jar file deployed at system path.</p>\n<pre><code>/product/framework/A.jar\n</code></pre>\n<p>it has dependency to B.jar. but looks like if use A.jar as dependency in D project, it will expose B.jar file to D as well.</p>\n<p>D project use A.jar and B.jar as below:</p>\n<pre><code>complieOnly A.jar\nimplementation B.jar\n</code></pre>\n<p>I found this since when I add B.jar to D as dependency, it actually use the version from A.jar file.</p>\n<p>That's very weird since the version of B.jar maybe different, how to prevent A.jar expose it's dependency?</p>\n"},{"tags":["java","android","android-listview","android-viewpager"],"comments":[{"owner":{"account_id":26355370,"reputation":1,"user_id":20012438,"display_name":"matmirowski"},"score":0,"creation_date":1676549652,"post_id":75463458,"comment_id":133161416,"body_markdown":"fixed it lol, i just changed FragmentPagerAdapter class to FragmentStatePagerAdapter","body":"fixed it lol, i just changed FragmentPagerAdapter class to FragmentStatePagerAdapter"}],"owner":{"account_id":26355370,"reputation":1,"user_id":20012438,"display_name":"matmirowski"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":17,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676482240,"creation_date":1676482240,"question_id":75463458,"body_markdown":"I have navigation drawer used to navigate through my application.\r\nWhen I switch to fragment with ViewPagers containing three ListViews, everything is displayed normally.\r\nThe problem appears when I switch to another fragment, and then go back to my ListViews. Everything is empty.\r\nVideo with a problem:\r\nhttps://youtu.be/hsZAGaAG_vs\r\n\r\nCode of my Fragment containing ViewPagers:\r\n\r\n```java\r\npublic class PlayerListFragment extends Fragment {\r\n\r\n    private class RolePagerAdapter extends FragmentPagerAdapter {\r\n\r\n        public RolePagerAdapter(FragmentManager fm) {\r\n            super(fm);\r\n        }\r\n\r\n        @Override\r\n        public Fragment getItem(int position) {\r\n            switch (position) {\r\n                case 0:\r\n                    return new SniperFragment();\r\n                case 1:\r\n                    return new RiflerFragment();\r\n                case 2:\r\n                    return new IglFragment();\r\n            }\r\n            return null;\r\n        }\r\n\r\n        @Override\r\n        public int getCount() { // 3 pages\r\n            return 3;\r\n        }\r\n\r\n        @Nullable\r\n        @Override\r\n        public CharSequence getPageTitle(int position) {\r\n            switch (position) {\r\n                case 0:\r\n                    return getActivity().getResources().getText(R.string.sniper_tab);\r\n                case 1:\r\n                    return getActivity().getResources().getText(R.string.riflers_tab);\r\n                case 2:\r\n                    return getActivity().getResources().getText(R.string.igls_tab);\r\n            }\r\n            return null;\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n                             Bundle savedInstanceState) {\r\n\r\n        return inflater.inflate(R.layout.fragment_player_list, container, false);\r\n\r\n    }\r\n\r\n    @Override\r\n    public void onStart() {\r\n        super.onStart();\r\n        // setup viewpager\r\n        RolePagerAdapter adapter = new RolePagerAdapter(getActivity().getSupportFragmentManager());\r\n        ViewPager pager = getActivity().findViewById(R.id.pager);\r\n        pager.setAdapter(adapter);\r\n\r\n        // setup tablayout\r\n        TabLayout tabLayout = getActivity().findViewById(R.id.tabs);\r\n        tabLayout.setupWithViewPager(pager);\r\n\r\n        // hide default toolbar and set new\r\n        ((AppCompatActivity)getActivity()).getSupportActionBar().hide();\r\n        Toolbar listToolbar = getActivity().findViewById(R.id.player_list_toolbar);\r\n        ((AppCompatActivity) getActivity()).setSupportActionBar(listToolbar);\r\n        DrawerLayout drawerLayout = getActivity().findViewById(R.id.drawer_layout);\r\n        ActionBarDrawerToggle toggle = new ActionBarDrawerToggle(\r\n                getActivity(),\r\n                drawerLayout,\r\n                listToolbar,\r\n                R.string.nav_open_drawer,\r\n                R.string.nav_close_drawer);\r\n        drawerLayout.addDrawerListener(toggle);\r\n        toggle.syncState();\r\n    }\r\n```\r\n\r\nCode of my fragment containing listview:\r\n```\r\n\r\npublic class SniperFragment extends AbstractRoleListFragment {\r\n\r\n    @Nullable\r\n    @Override\r\n    public View onCreateView(@NonNull LayoutInflater inflater, @Nullable ViewGroup container, @Nullable Bundle savedInstanceState) {\r\n        return super.onCreateView(inflater, container, savedInstanceState);\r\n    }\r\n    \r\n    @Override\r\n    public void onResume() {\r\n        super.onResume();\r\n        new SetupAdapterTask().execute(Role.Sniper);\r\n    }\r\n\r\n}\r\n```\r\n\r\nCode of parent class of that fragment:\r\n\r\n```\r\npublic abstract class AbstractRoleListFragment extends ListFragment {\r\n    SQLiteDatabase db;\r\n    Cursor cursor;\r\n\r\n    protected class SetupAdapterTask extends AsyncTask&lt;Role, Void, SimpleCursorAdapter&gt; {\r\n\r\n        @Override\r\n        protected SimpleCursorAdapter doInBackground(Role... role) {\r\n            SQLiteOpenHelper helper = new MyDatabaseHelper(getActivity());\r\n            try {\r\n                db = helper.getReadableDatabase();\r\n                cursor = db.query(&quot;PLAYERS&quot;,\r\n                        new String[]{&quot;_id&quot;, &quot;NAME&quot;}, &quot;ROLE = ?&quot;,\r\n                        new String[]{role[0].toString()},\r\n                        null, null, null);\r\n                return new SimpleCursorAdapter(getActivity(),\r\n                        android.R.layout.simple_list_item_1,\r\n                        cursor,\r\n                        new String[]{&quot;NAME&quot;},\r\n                        new int[] {android.R.id.text1},\r\n                        0);\r\n            } catch (SQLiteException e) {\r\n                Log.e(&quot;ERR&quot;, &quot;Error while setting up adapter in SniperFragment&quot;, e);\r\n                return null;\r\n            }\r\n        }\r\n\r\n        @Override\r\n        protected void onPostExecute(SimpleCursorAdapter adapter) {\r\n            if (adapter != null) {\r\n                setListAdapter(adapter);\r\n            } else {\r\n                Toast.makeText(getActivity(), &quot;Database unavailable&quot;, Toast.LENGTH_SHORT)\r\n                        .show();\r\n            }\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void onDestroy() {\r\n        super.onDestroy();\r\n        cursor.close();\r\n        db.close();\r\n    }\r\n}\r\n```\r\n\r\nI tried to change code filling my listview with data to another method like onResume, onStart but none worked","title":"ListView content not displaying after switching to another fragment","body":"<p>I have navigation drawer used to navigate through my application.\nWhen I switch to fragment with ViewPagers containing three ListViews, everything is displayed normally.\nThe problem appears when I switch to another fragment, and then go back to my ListViews. Everything is empty.\nVideo with a problem:\n<a href=\"https://youtu.be/hsZAGaAG_vs\" rel=\"nofollow noreferrer\">https://youtu.be/hsZAGaAG_vs</a></p>\n<p>Code of my Fragment containing ViewPagers:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class PlayerListFragment extends Fragment {\n\n    private class RolePagerAdapter extends FragmentPagerAdapter {\n\n        public RolePagerAdapter(FragmentManager fm) {\n            super(fm);\n        }\n\n        @Override\n        public Fragment getItem(int position) {\n            switch (position) {\n                case 0:\n                    return new SniperFragment();\n                case 1:\n                    return new RiflerFragment();\n                case 2:\n                    return new IglFragment();\n            }\n            return null;\n        }\n\n        @Override\n        public int getCount() { // 3 pages\n            return 3;\n        }\n\n        @Nullable\n        @Override\n        public CharSequence getPageTitle(int position) {\n            switch (position) {\n                case 0:\n                    return getActivity().getResources().getText(R.string.sniper_tab);\n                case 1:\n                    return getActivity().getResources().getText(R.string.riflers_tab);\n                case 2:\n                    return getActivity().getResources().getText(R.string.igls_tab);\n            }\n            return null;\n        }\n    }\n\n    @Override\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\n                             Bundle savedInstanceState) {\n\n        return inflater.inflate(R.layout.fragment_player_list, container, false);\n\n    }\n\n    @Override\n    public void onStart() {\n        super.onStart();\n        // setup viewpager\n        RolePagerAdapter adapter = new RolePagerAdapter(getActivity().getSupportFragmentManager());\n        ViewPager pager = getActivity().findViewById(R.id.pager);\n        pager.setAdapter(adapter);\n\n        // setup tablayout\n        TabLayout tabLayout = getActivity().findViewById(R.id.tabs);\n        tabLayout.setupWithViewPager(pager);\n\n        // hide default toolbar and set new\n        ((AppCompatActivity)getActivity()).getSupportActionBar().hide();\n        Toolbar listToolbar = getActivity().findViewById(R.id.player_list_toolbar);\n        ((AppCompatActivity) getActivity()).setSupportActionBar(listToolbar);\n        DrawerLayout drawerLayout = getActivity().findViewById(R.id.drawer_layout);\n        ActionBarDrawerToggle toggle = new ActionBarDrawerToggle(\n                getActivity(),\n                drawerLayout,\n                listToolbar,\n                R.string.nav_open_drawer,\n                R.string.nav_close_drawer);\n        drawerLayout.addDrawerListener(toggle);\n        toggle.syncState();\n    }\n</code></pre>\n<p>Code of my fragment containing listview:</p>\n<pre><code>\npublic class SniperFragment extends AbstractRoleListFragment {\n\n    @Nullable\n    @Override\n    public View onCreateView(@NonNull LayoutInflater inflater, @Nullable ViewGroup container, @Nullable Bundle savedInstanceState) {\n        return super.onCreateView(inflater, container, savedInstanceState);\n    }\n    \n    @Override\n    public void onResume() {\n        super.onResume();\n        new SetupAdapterTask().execute(Role.Sniper);\n    }\n\n}\n</code></pre>\n<p>Code of parent class of that fragment:</p>\n<pre><code>public abstract class AbstractRoleListFragment extends ListFragment {\n    SQLiteDatabase db;\n    Cursor cursor;\n\n    protected class SetupAdapterTask extends AsyncTask&lt;Role, Void, SimpleCursorAdapter&gt; {\n\n        @Override\n        protected SimpleCursorAdapter doInBackground(Role... role) {\n            SQLiteOpenHelper helper = new MyDatabaseHelper(getActivity());\n            try {\n                db = helper.getReadableDatabase();\n                cursor = db.query(&quot;PLAYERS&quot;,\n                        new String[]{&quot;_id&quot;, &quot;NAME&quot;}, &quot;ROLE = ?&quot;,\n                        new String[]{role[0].toString()},\n                        null, null, null);\n                return new SimpleCursorAdapter(getActivity(),\n                        android.R.layout.simple_list_item_1,\n                        cursor,\n                        new String[]{&quot;NAME&quot;},\n                        new int[] {android.R.id.text1},\n                        0);\n            } catch (SQLiteException e) {\n                Log.e(&quot;ERR&quot;, &quot;Error while setting up adapter in SniperFragment&quot;, e);\n                return null;\n            }\n        }\n\n        @Override\n        protected void onPostExecute(SimpleCursorAdapter adapter) {\n            if (adapter != null) {\n                setListAdapter(adapter);\n            } else {\n                Toast.makeText(getActivity(), &quot;Database unavailable&quot;, Toast.LENGTH_SHORT)\n                        .show();\n            }\n        }\n    }\n\n    @Override\n    public void onDestroy() {\n        super.onDestroy();\n        cursor.close();\n        db.close();\n    }\n}\n</code></pre>\n<p>I tried to change code filling my listview with data to another method like onResume, onStart but none worked</p>\n"},{"tags":["java","android","android-studio"],"comments":[{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1676483973,"post_id":75463313,"comment_id":133147692,"body_markdown":"because `30 * 24 * 60 *60 * 1000` is being evaluated as an `int`... and it is overflowing, returning a negative value in this case... should have used `long` literal(s) instead (`30L * 24 * 60 *60 * 1000`)","body":"because <code>30 * 24 * 60 *60 * 1000</code> is being evaluated as an <code>int</code>... and it is overflowing, returning a negative value in this case... should have used <code>long</code> literal(s) instead (<code>30L * 24 * 60 *60 * 1000</code>)"},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1676484500,"post_id":75463313,"comment_id":133147832,"body_markdown":"BTW it is highly recommended not to use the `Date` class anymore... outdated since Java 8 by the `java.time` package","body":"BTW it is highly recommended not to use the <code>Date</code> class anymore... outdated since Java 8 by the <code>java.time</code> package"}],"answers":[{"comments":[{"owner":{"account_id":13508756,"reputation":29,"user_id":9745849,"display_name":"Mahdi Esmaili"},"score":0,"creation_date":1676482517,"post_id":75463432,"comment_id":133147298,"body_markdown":"my problem has solved","body":"my problem has solved"}],"tags":[],"owner":{"account_id":199665,"reputation":17566,"user_id":445123,"display_name":"scartag"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1676482076,"creation_date":1676482076,"answer_id":75463432,"question_id":75463313,"body_markdown":"You can use the actual value of the milliseconds you want. Convert from days to milliseconds for instance, in a clearer way.\r\n\r\n    long millis = date.getTime() + TimeUnit.MILLISECONDS.convert(30, TimeUnit.DAYS);\r\n    //this will add 30 days\r\n\r\nYou can change the 30 to whatever days you&#39;d prefer.","title":"Change the session time","body":"<p>You can use the actual value of the milliseconds you want. Convert from days to milliseconds for instance, in a clearer way.</p>\n<pre><code>long millis = date.getTime() + TimeUnit.MILLISECONDS.convert(30, TimeUnit.DAYS);\n//this will add 30 days\n</code></pre>\n<p>You can change the 30 to whatever days you'd prefer.</p>\n"}],"owner":{"account_id":13508756,"reputation":29,"user_id":9745849,"display_name":"Mahdi Esmaili"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75463432,"answer_count":1,"score":1,"last_activity_date":1676482076,"creation_date":1676481476,"question_id":75463313,"body_markdown":"i need to add more time session life time . but cant add more 10-12 days\r\n\r\n     /**\r\n     * Logs in the user by saving user details and setting session\r\n     *\r\n     * @param username\r\n     * @param fullName\r\n     */\r\n    public void loginUser(String username, String fullName) {\r\n        mEditor.putString(KEY_USERNAME, username);\r\n        mEditor.putString(KEY_FULL_NAME, fullName);\r\n        Date date = new Date();\r\n\r\n        //Set user session for next 7 days\r\n        long millis = date.getTime() + (30 * 24 * 60 *60 * 1000);\r\n        mEditor.putLong(KEY_EXPIRES, millis);\r\n        mEditor.commit();\r\n    }","title":"Change the session time","body":"<p>i need to add more time session life time . but cant add more 10-12 days</p>\n<pre><code> /**\n * Logs in the user by saving user details and setting session\n *\n * @param username\n * @param fullName\n */\npublic void loginUser(String username, String fullName) {\n    mEditor.putString(KEY_USERNAME, username);\n    mEditor.putString(KEY_FULL_NAME, fullName);\n    Date date = new Date();\n\n    //Set user session for next 7 days\n    long millis = date.getTime() + (30 * 24 * 60 *60 * 1000);\n    mEditor.putLong(KEY_EXPIRES, millis);\n    mEditor.commit();\n}\n</code></pre>\n"},{"tags":["java","maven","intellij-idea","licensing"],"comments":[{"owner":{"account_id":7498975,"reputation":347,"user_id":5698125,"display_name":"Francisco Javier Rojas"},"score":0,"creation_date":1676061224,"post_id":75414813,"comment_id":133068850,"body_markdown":"I cannot understand what is happening with the answer to my question ... What is happening? why have them erased it? The answer seemed to make sense, and the replier seemed to be able to help me with that ... but ... what now ? nothing ? Why have you removed that answer?","body":"I cannot understand what is happening with the answer to my question ... What is happening? why have them erased it? The answer seemed to make sense, and the replier seemed to be able to help me with that ... but ... what now ? nothing ? Why have you removed that answer?"},{"owner":{"account_id":7498975,"reputation":347,"user_id":5698125,"display_name":"Francisco Javier Rojas"},"score":0,"creation_date":1676061311,"post_id":75414813,"comment_id":133068869,"body_markdown":"Who is responsible of having erased that answer? Can I know it?","body":"Who is responsible of having erased that answer? Can I know it?"},{"owner":{"account_id":7498975,"reputation":347,"user_id":5698125,"display_name":"Francisco Javier Rojas"},"score":0,"creation_date":1676061387,"post_id":75414813,"comment_id":133068891,"body_markdown":"Or it was simply the black hand ?","body":"Or it was simply the black hand ?"},{"owner":{"account_id":7498975,"reputation":347,"user_id":5698125,"display_name":"Francisco Javier Rojas"},"score":0,"creation_date":1676062093,"post_id":75414813,"comment_id":133069046,"body_markdown":"Los poderes f&#225;cticos contra el piltrafilla ... qu&#233; grande ...","body":"Los poderes f&#225;cticos contra el piltrafilla ... qu&#233; grande ..."},{"owner":{"account_id":7498975,"reputation":347,"user_id":5698125,"display_name":"Francisco Javier Rojas"},"score":0,"creation_date":1676062413,"post_id":75414813,"comment_id":133069128,"body_markdown":"do you know you are aligned with assassins?","body":"do you know you are aligned with assassins?"},{"owner":{"account_id":7498975,"reputation":347,"user_id":5698125,"display_name":"Francisco Javier Rojas"},"score":0,"creation_date":1676063147,"post_id":75414813,"comment_id":133069293,"body_markdown":"I am only asking ... as I think you do not know the details of the situation ...","body":"I am only asking ... as I think you do not know the details of the situation ..."},{"owner":{"account_id":7498975,"reputation":347,"user_id":5698125,"display_name":"Francisco Javier Rojas"},"score":0,"creation_date":1676063894,"post_id":75414813,"comment_id":133069460,"body_markdown":"I suffer from harassment in my real life and it seems that this harassment has reached this far","body":"I suffer from harassment in my real life and it seems that this harassment has reached this far"}],"answers":[{"tags":[],"owner":{"account_id":24517308,"reputation":401,"user_id":18430882,"display_name":"quickfix"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676481990,"creation_date":1676481990,"answer_id":75463413,"question_id":75414813,"body_markdown":" - create a shared scope in &quot;Preferences | Appearance &amp; Behavior | Scopes&quot; and include the desired module into it\r\n - create a profile in &quot;Preferences | Editor | Copyright | Copyright Profiles&quot;\r\n - assign profile to a scope in &quot;Preferences | Editor | Copyright&quot;","title":"Configure a different Copyright profile for different Java (maven) modules in Intellij Idea","body":"<ul>\n<li>create a shared scope in &quot;Preferences | Appearance &amp; Behavior | Scopes&quot; and include the desired module into it</li>\n<li>create a profile in &quot;Preferences | Editor | Copyright | Copyright Profiles&quot;</li>\n<li>assign profile to a scope in &quot;Preferences | Editor | Copyright&quot;</li>\n</ul>\n"}],"owner":{"account_id":7498975,"reputation":347,"user_id":5698125,"display_name":"Francisco Javier Rojas"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1676481990,"creation_date":1676053541,"question_id":75414813,"body_markdown":"I am using Intellij Idea 2022.3.2, Community Edition, and I wonder if I can set a different Copyright Profile to different (maven) modules of my project.\r\n\r\n(Note that I have not been able to add the copyright header to my existing source files that did not have that header)\r\n\r\nI have been looking for it on the internet, but I have not been successful with that ...\r\n\r\nSo the questions are two:\r\n * How can I add a Copyright profile (header) to my existing files without that header ?\r\n * Can diferent (maven) modules be configured with different Copyright profiles?\r\n\r\nCan anyone help me, please?\r\n","title":"Configure a different Copyright profile for different Java (maven) modules in Intellij Idea","body":"<p>I am using Intellij Idea 2022.3.2, Community Edition, and I wonder if I can set a different Copyright Profile to different (maven) modules of my project.</p>\n<p>(Note that I have not been able to add the copyright header to my existing source files that did not have that header)</p>\n<p>I have been looking for it on the internet, but I have not been successful with that ...</p>\n<p>So the questions are two:</p>\n<ul>\n<li>How can I add a Copyright profile (header) to my existing files without that header ?</li>\n<li>Can diferent (maven) modules be configured with different Copyright profiles?</li>\n</ul>\n<p>Can anyone help me, please?</p>\n"},{"tags":["java","regex","spring-boot","spring-mvc"],"answers":[{"comments":[{"owner":{"account_id":12695732,"reputation":3378,"user_id":9224219,"display_name":"Datz"},"score":0,"creation_date":1676481815,"post_id":75463337,"comment_id":133147101,"body_markdown":"Thanks four your answer. Please see my solution for better understanding. The question is not really about the annotations but about matching the strings. (I only explained where the strings with the {...} come from.)","body":"Thanks four your answer. Please see my solution for better understanding. The question is not really about the annotations but about matching the strings. (I only explained where the strings with the {...} come from.)"},{"owner":{"account_id":8539054,"reputation":1396,"user_id":6399762,"display_name":"Andy A."},"score":0,"creation_date":1676553229,"post_id":75463337,"comment_id":133162547,"body_markdown":"It sounds not as an answer first. If you need more Information write better a comment first.","body":"It sounds not as an answer first. If you need more Information write better a comment first."}],"tags":[],"owner":{"account_id":20401440,"reputation":1,"user_id":14967070,"display_name":"amit kumar Sharma"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676481603,"creation_date":1676481603,"answer_id":75463337,"question_id":75462657,"body_markdown":"Can you explain more about what you are exactly trying to do...?\r\n\r\nBecause as per my understanding u don&#39;t wanna use @pathvariable annotation.\r\n\r\nAlso, you can do the same thing with @Requestparam annotation.\r\n\r\nLike below:\r\n/customer?id=1234&amp;whatever=xyz\r\n\r\nAnd in the controller you can use as @RequestParam(name = &quot;id&quot; int id) and @RequestParam(name = &quot;whatever&quot; String whatever)","title":"Match request path against @PathVariable string?","body":"<p>Can you explain more about what you are exactly trying to do...?</p>\n<p>Because as per my understanding u don't wanna use @pathvariable annotation.</p>\n<p>Also, you can do the same thing with @Requestparam annotation.</p>\n<p>Like below:\n/customer?id=1234&amp;whatever=xyz</p>\n<p>And in the controller you can use as @RequestParam(name = &quot;id&quot; int id) and @RequestParam(name = &quot;whatever&quot; String whatever)</p>\n"},{"tags":[],"owner":{"account_id":12695732,"reputation":3378,"user_id":9224219,"display_name":"Datz"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676481693,"creation_date":1676481693,"answer_id":75463351,"question_id":75462657,"body_markdown":"I tried to solve it with regular expressions but I think it is not very stable and will fail for special cases:\r\n\r\n```\r\nprotected static Map&lt;String, String&gt; matchPath(String pathPattern, String path) {\r\n    final Matcher matcher = Pattern.compile(&quot;\\\\{([^\\\\/\\\\}]+)\\\\}&quot;).matcher(pathPattern);\r\n    List&lt;String&gt; keys = matcher.results().map(x -&gt; x.group(1)).toList();\r\n    final String newRegex = matcher.replaceAll(&quot;([^\\\\/\\\\}]+)&quot;);\r\n\r\n    final Matcher newMatcher = Pattern.compile(newRegex).matcher(path);\r\n    newMatcher.find();\r\n    final List&lt;String&gt; values = IntStream.rangeClosed(1, newMatcher.groupCount()).mapToObj(i -&gt; newMatcher.group(i)).toList();\r\n\r\n    return IntStream.range(0, keys.size()).boxed().collect(Collectors.toMap(keys::get, values::get));\r\n}\r\n\r\n```\r\n\r\nTest:\r\n```\r\n@Test\r\nvoid matchPath() {\r\n    final Map&lt;String, String&gt; results = matchPath(&quot;/customer/{id}/{whatever}&quot;, &quot;/customer/1234/xyz&quot;);\r\n    \r\n    assertThat(results.size(), is(2));\r\n    assertThat(results.get(&quot;id&quot;), is(&quot;1234&quot;));\r\n    assertThat(results.get(&quot;whatever&quot;), is(&quot;xyz&quot;));\r\n}\r\n```\r\n\r\nFirst I find all &quot;keys&quot; and replace the {...} placeholders with the `&quot;([^\\\\/\\\\}]+)&quot;` expression.\r\nThis gives me a new regular expression which I use to match find the values.\r\n\r\nBut I am not very happy with this handmade solution...","title":"Match request path against @PathVariable string?","body":"<p>I tried to solve it with regular expressions but I think it is not very stable and will fail for special cases:</p>\n<pre><code>protected static Map&lt;String, String&gt; matchPath(String pathPattern, String path) {\n    final Matcher matcher = Pattern.compile(&quot;\\\\{([^\\\\/\\\\}]+)\\\\}&quot;).matcher(pathPattern);\n    List&lt;String&gt; keys = matcher.results().map(x -&gt; x.group(1)).toList();\n    final String newRegex = matcher.replaceAll(&quot;([^\\\\/\\\\}]+)&quot;);\n\n    final Matcher newMatcher = Pattern.compile(newRegex).matcher(path);\n    newMatcher.find();\n    final List&lt;String&gt; values = IntStream.rangeClosed(1, newMatcher.groupCount()).mapToObj(i -&gt; newMatcher.group(i)).toList();\n\n    return IntStream.range(0, keys.size()).boxed().collect(Collectors.toMap(keys::get, values::get));\n}\n\n</code></pre>\n<p>Test:</p>\n<pre><code>@Test\nvoid matchPath() {\n    final Map&lt;String, String&gt; results = matchPath(&quot;/customer/{id}/{whatever}&quot;, &quot;/customer/1234/xyz&quot;);\n    \n    assertThat(results.size(), is(2));\n    assertThat(results.get(&quot;id&quot;), is(&quot;1234&quot;));\n    assertThat(results.get(&quot;whatever&quot;), is(&quot;xyz&quot;));\n}\n</code></pre>\n<p>First I find all &quot;keys&quot; and replace the {...} placeholders with the <code>&quot;([^\\\\/\\\\}]+)&quot;</code> expression.\nThis gives me a new regular expression which I use to match find the values.</p>\n<p>But I am not very happy with this handmade solution...</p>\n"}],"owner":{"account_id":12695732,"reputation":3378,"user_id":9224219,"display_name":"Datz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1676481693,"creation_date":1676478201,"question_id":75462657,"body_markdown":"On my controller class I have a typical `@RequestMapping` annotation with placeholders for `@PathVariable` annotations:\r\n\r\n```\r\n@RequestMapping(&quot;/customer/{id}/{whatever}&quot;)\r\npublic class CustomerController {\r\n    @GetMapping\r\n    public Customer getCustomer(@PathVariable final int id, @PathVariable final String whatever) {...}\r\n}\r\n```\r\n\r\n**Now I need to match a `@RequestMapping` pattern-string like `/customer/{id}/{whatever}` against a real path like `/customer/1234/xyz`. As a result I need to know that `id` is `1234` and `whatever` is `xyz`.**\r\n\r\nAre there any utility methods which can do this? (I need a generic solution, not the regular expression for the path above.)\r\n","title":"Match request path against @PathVariable string?","body":"<p>On my controller class I have a typical <code>@RequestMapping</code> annotation with placeholders for <code>@PathVariable</code> annotations:</p>\n<pre><code>@RequestMapping(&quot;/customer/{id}/{whatever}&quot;)\npublic class CustomerController {\n    @GetMapping\n    public Customer getCustomer(@PathVariable final int id, @PathVariable final String whatever) {...}\n}\n</code></pre>\n<p><strong>Now I need to match a <code>@RequestMapping</code> pattern-string like <code>/customer/{id}/{whatever}</code> against a real path like <code>/customer/1234/xyz</code>. As a result I need to know that <code>id</code> is <code>1234</code> and <code>whatever</code> is <code>xyz</code>.</strong></p>\n<p>Are there any utility methods which can do this? (I need a generic solution, not the regular expression for the path above.)</p>\n"},{"tags":["java","android","kotlin","gradle"],"comments":[{"owner":{"account_id":16810116,"reputation":1186,"user_id":12153321,"display_name":"Javlon"},"score":0,"creation_date":1676482778,"post_id":75463330,"comment_id":133147375,"body_markdown":"You can pass `VERSION_CODE` to your base module. Take a look at this https://stackoverflow.com/a/21405744/12153321","body":"You can pass <code>VERSION_CODE</code> to your base module. Take a look at this <a href=\"https://stackoverflow.com/a/21405744/12153321\">stackoverflow.com/a/21405744/12153321</a>"},{"owner":{"account_id":16404440,"reputation":11,"user_id":11849408,"display_name":"Ansab"},"score":0,"creation_date":1676573573,"post_id":75463330,"comment_id":133169282,"body_markdown":"Thanks, @Javlon. This answer is helpful.","body":"Thanks, @Javlon. This answer is helpful."}],"owner":{"account_id":16404440,"reputation":11,"user_id":11849408,"display_name":"Ansab"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676481583,"creation_date":1676481583,"question_id":75463330,"body_markdown":"I have two different app in one android project, as they both use similar components. One is client app and other is admin app. I also have an base module which constis of common util classes, ui components and other shared code.\r\nLet say App1, App2 and BaseModule. Now I want to access `BuildConfig.VERSION_CODE` of App1 or App2 depending on which app is build, in base module. How to access it. Do I need some gradle script to transfer current app version_code to base mode?\r\n\r\nI am trying to use shared preferances to share version code. But is there any to use it like `BuildConfig.VERSION_CODE`","title":"Android get top level module details in base module in android project","body":"<p>I have two different app in one android project, as they both use similar components. One is client app and other is admin app. I also have an base module which constis of common util classes, ui components and other shared code.\nLet say App1, App2 and BaseModule. Now I want to access <code>BuildConfig.VERSION_CODE</code> of App1 or App2 depending on which app is build, in base module. How to access it. Do I need some gradle script to transfer current app version_code to base mode?</p>\n<p>I am trying to use shared preferances to share version code. But is there any to use it like <code>BuildConfig.VERSION_CODE</code></p>\n"},{"tags":["java","postgresql","spring-boot","printwriter","stringwriter"],"comments":[{"owner":{"account_id":101001,"reputation":119808,"user_id":271959,"display_name":"Frank Heikens"},"score":0,"creation_date":1676040882,"post_id":75412657,"comment_id":133063172,"body_markdown":"What is lakhs? Please use metric names","body":"What is lakhs? Please use metric names"},{"owner":{"account_id":12978900,"reputation":75,"user_id":9382034,"display_name":"Himanshu Arya"},"score":0,"creation_date":1676040985,"post_id":75412657,"comment_id":133063195,"body_markdown":"edited. Apologies for that","body":"edited. Apologies for that"},{"owner":{"account_id":374094,"reputation":6654,"user_id":724109,"accept_rate":100,"display_name":"Avishek Bhattacharya"},"score":0,"creation_date":1676044433,"post_id":75412657,"comment_id":133064353,"body_markdown":"Do you need to create the sql string inside the loop? \n\n    String sql = null;\n                                    sql = &quot;SELECT &quot; + table.getAttributeList() + &quot; FROM &quot; + table.getSchemaName().trim() + &quot;.&quot;\n                                            + table.getTableName().trim() + &quot; WHERE &quot; + &quot;modified_ts&quot; + &quot; &gt; &quot; + &quot;&#39;&quot; + dateTime + &quot;&#39;&quot;\n                                            + &quot; OFFSET &quot; + OFFSET + &quot; LIMIT &quot; + LIMIT;\n            \n            ?","body":"Do you need to create the sql string inside the loop?       String sql = null;                                     sql = &quot;SELECT &quot; + table.getAttributeList() + &quot; FROM &quot; + table.getSchemaName().trim() + &quot;.&quot;                                             + table.getTableName().trim() + &quot; WHERE &quot; + &quot;modified_ts&quot; + &quot; &gt; &quot; + &quot;&#39;&quot; + dateTime + &quot;&#39;&quot;                                             + &quot; OFFSET &quot; + OFFSET + &quot; LIMIT &quot; + LIMIT;                          ?"},{"owner":{"account_id":12978900,"reputation":75,"user_id":9382034,"display_name":"Himanshu Arya"},"score":0,"creation_date":1676057329,"post_id":75412657,"comment_id":133067963,"body_markdown":"I can remove that for sure.","body":"I can remove that for sure."},{"owner":{"account_id":9596641,"reputation":873,"user_id":7125557,"display_name":"dimirsen Z"},"score":0,"creation_date":1676479291,"post_id":75412657,"comment_id":133146236,"body_markdown":"In Spring/hibernate/postgresql I created a temp view with ids of the entities. After that I could retrieve them all at once, and slice the huge list into sublists. And process each sublist freeing it&#39;s memory after that.","body":"In Spring/hibernate/postgresql I created a temp view with ids of the entities. After that I could retrieve them all at once, and slice the huge list into sublists. And process each sublist freeing it&#39;s memory after that."}],"answers":[{"tags":[],"owner":{"account_id":12305345,"reputation":450,"user_id":8978587,"display_name":"ShaharT"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676242673,"creation_date":1676242673,"answer_id":75430697,"question_id":75412657,"body_markdown":"There are no magics with memory mgmt., and it seems you need to find the balance: either expand the Xmx of the heap, or reduce the *LIMIT* (which is quite large). Assuming you can leave the CopyManager, iterate the ResultSet, and remove the element once you have converted it to text (otherwise you have the data twice in memory). This approach allows the Garbage-Collector to reclaim the memory as you move the results from sql to text (and having the data in memory one time). So, basic idea is\r\n\r\n\t   List&lt;Object[]&gt; resultValues = query.getResultList();\r\n       Iterator&lt;Object[]&gt; it = resultValues.iterator();\r\n       while (it.hasNext()) {\r\n           Object[] result = it.next();\r\n           ... // the conversion to text\r\n           it.remove();\r\n        }","title":"Fetch Millions of Records using CopyManager throwing OutOfMemoryError","body":"<p>There are no magics with memory mgmt., and it seems you need to find the balance: either expand the Xmx of the heap, or reduce the <em>LIMIT</em> (which is quite large). Assuming you can leave the CopyManager, iterate the ResultSet, and remove the element once you have converted it to text (otherwise you have the data twice in memory). This approach allows the Garbage-Collector to reclaim the memory as you move the results from sql to text (and having the data in memory one time). So, basic idea is</p>\n<pre><code>   List&lt;Object[]&gt; resultValues = query.getResultList();\n   Iterator&lt;Object[]&gt; it = resultValues.iterator();\n   while (it.hasNext()) {\n       Object[] result = it.next();\n       ... // the conversion to text\n       it.remove();\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12978900,"reputation":75,"user_id":9382034,"display_name":"Himanshu Arya"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1676481521,"creation_date":1676481521,"answer_id":75463316,"question_id":75412657,"body_markdown":"The issue was with the following line:\r\n\r\n    while (OFFSET &lt;= totalRecords &amp;&amp; totalRecords &gt; 0) {\r\n    \r\n    // some code\r\n    i = copyManager.copyOut(&quot;COPY (&quot; + sql + &quot; ) TO STDOUT WITH (FORMAT CSV)&quot;, printWriter);\r\n    }\r\n\r\nI was iterating the  loop and was copying the result set of the query to the printwriter. It store as much records as possible but in the end, ran out of memory.\r\n\r\nTo resolve this, I simply used the data inside the printwriter in every iteration.\r\nThe basic idea which solved this was:\r\n\r\n    while (OFFSET &lt;= totalRecords &amp;&amp; totalRecords &gt; 0) {\r\n    printwriter = new PrintWriter(out);\r\n    // some code\r\n    i = copyManager.copyOut(&quot;COPY (&quot; + sql + &quot; ) TO STDOUT WITH (FORMAT CSV)&quot;, printWriter);\r\n    /* Used printwriter data to create a file or append the data if file exists. Closed the printwriter.*/\r\n    }\r\n\r\nHope this clarifies the problem and the solution. Let me know if more clarification is needed.\r\n ","title":"Fetch Millions of Records using CopyManager throwing OutOfMemoryError","body":"<p>The issue was with the following line:</p>\n<pre><code>while (OFFSET &lt;= totalRecords &amp;&amp; totalRecords &gt; 0) {\n\n// some code\ni = copyManager.copyOut(&quot;COPY (&quot; + sql + &quot; ) TO STDOUT WITH (FORMAT CSV)&quot;, printWriter);\n}\n</code></pre>\n<p>I was iterating the  loop and was copying the result set of the query to the printwriter. It store as much records as possible but in the end, ran out of memory.</p>\n<p>To resolve this, I simply used the data inside the printwriter in every iteration.\nThe basic idea which solved this was:</p>\n<pre><code>while (OFFSET &lt;= totalRecords &amp;&amp; totalRecords &gt; 0) {\nprintwriter = new PrintWriter(out);\n// some code\ni = copyManager.copyOut(&quot;COPY (&quot; + sql + &quot; ) TO STDOUT WITH (FORMAT CSV)&quot;, printWriter);\n/* Used printwriter data to create a file or append the data if file exists. Closed the printwriter.*/\n}\n</code></pre>\n<p>Hope this clarifies the problem and the solution. Let me know if more clarification is needed.</p>\n"}],"owner":{"account_id":12978900,"reputation":75,"user_id":9382034,"display_name":"Himanshu Arya"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":342,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75463316,"answer_count":2,"score":0,"last_activity_date":1676481521,"creation_date":1676040589,"question_id":75412657,"body_markdown":"When I tried running my code in tables with rows in thousands, it worked fine but as a performance testing, I tried it with tables having millions of records and then I encountered this issue.\r\n\r\nI have tried the above approach. I can try an alternate approach without the copymanager but it would be great if I can use this piece of code. Any suggestions are welcome.\r\n\r\n    OFFSET is 0;\r\n    LIMIT is 3 million\r\n\r\nHere is the code:\r\n\r\n```\r\nConnection connection = null;\r\n            \r\n            \t\ttry(StringWriter out = new StringWriter(); Writer printWriter = new PrintWriter(out, true)) {\r\n            \t\t\tconnection = dataSource.getConnection();\r\n            \t\t\tOFFSET = 0;\r\n    // totalRecords is the total rows in the table\r\n            \t\t\twhile (OFFSET &lt;= totalRecords &amp;&amp; totalRecords &gt; 0) {\r\n            \r\n            \t\t\t\tif (connection != null &amp;&amp; connection.isWrapperFor(PGConnection.class)) {\r\n            \r\n            \t\t\t\t\tPGConnection pgConnection = connection.unwrap(PGConnection.class);\r\n            \t\t\t\t\tCopyManager copyManager = null;\r\n            \t\t\t\t\tcopyManager = pgConnection.getCopyAPI();\r\n            \r\n            \t\t\t\t\tString sql = null;\r\n            \t\t\t\t\t\tsql = &quot;SELECT &quot; + table.getAttributeList() + &quot; FROM &quot; + table.getSchemaName().trim() + &quot;.&quot;\r\n            \t\t\t\t\t\t\t\t+ table.getTableName().trim() + &quot; WHERE &quot; + &quot;modified_ts&quot; + &quot; &gt; &quot; + &quot;&#39;&quot; + dateTime + &quot;&#39;&quot;\r\n            \t\t\t\t\t\t\t\t+ &quot; OFFSET &quot; + OFFSET + &quot; LIMIT &quot; + LIMIT;\r\n            \r\n            \r\n            \t\t\t\t\tLOGGER.info(sql);\r\n            \r\n            \t\t\t\t\tlong i;\r\n    // Here I am trying to copy the Result into the printwriter\r\n            \t\t\t\t\ti = copyManager.copyOut(&quot;COPY (&quot; + sql + &quot; ) TO STDOUT WITH (FORMAT CSV)&quot;, printWriter);\r\n            \t\t\t\t\tLOGGER.info(&quot;Total no of records in {} : {}&quot;, table.getTableName(), i);\r\n            \t\t\t\t\tprintWriter.flush();\r\n            \t\t\t\t\tOFFSET = OFFSET + LIMIT;\r\n            \t\t\t\t\t\r\n            \r\n            \t\t\t\t}\r\n            \t\t\t}\r\n            \t\t\tString now = LocalDate.now().format(DateTimeFormatter.ofPattern(&quot;dd/MM/yyyy&quot;)).replace(&quot;/&quot;, &quot;&quot;);\r\n            \t\t\tString localFileName = table.getTableName() + &quot;_&quot; + now + &quot;.csv&quot;;\r\n            \t\t\tInputStream inputStream = new ByteArrayInputStream(out.toString().getBytes(UTF8));\r\n            \t\t\tpostObjectToS3.uploadFile(saveFilePath + localFileName, inputStream);\r\n            \t\t\t\r\n            \t\t\tinputStream.close();\r\n            \t\t}\r\n```\r\n\r\nand here is the stacktrace:\r\n\r\n&gt; Exception in thread &quot;main&quot; java.lang.reflect.InvocationTargetException\r\n&gt;         at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native\r\n&gt; Method)\r\n&gt;         at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n&gt;         at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n&gt;         at java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n&gt;         at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:49)\r\n&gt;         at org.springframework.boot.loader.Launcher.launch(Launcher.java:108)\r\n&gt;         at org.springframework.boot.loader.Launcher.launch(Launcher.java:58)\r\n&gt;         at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:88)\r\n&gt;         Caused by: java.lang.OutOfMemoryError: Java heap space\r\n&gt;         at java.base/java.util.Arrays.copyOf(Arrays.java:3745)\r\n&gt;         at java.base/java.lang.AbstractStringBuilder.ensureCapacityInternal(AbstractStringBuilder.java:172)\r\n&gt;         at java.base/java.lang.AbstractStringBuilder.append(AbstractStringBuilder.java:633)\r\n&gt;         at java.base/java.lang.StringBuffer.append(StringBuffer.java:397)\r\n&gt;         at java.base/java.io.StringWriter.write(StringWriter.java:122)\r\n&gt;         at java.base/java.io.PrintWriter.write(PrintWriter.java:542)\r\n&gt;         at java.base/java.io.PrintWriter.write(PrintWriter.java:559)\r\n&gt;         at org.postgresql.copy.CopyManager.copyOut(CopyManager.java:92)\r\n","title":"Fetch Millions of Records using CopyManager throwing OutOfMemoryError","body":"<p>When I tried running my code in tables with rows in thousands, it worked fine but as a performance testing, I tried it with tables having millions of records and then I encountered this issue.</p>\n<p>I have tried the above approach. I can try an alternate approach without the copymanager but it would be great if I can use this piece of code. Any suggestions are welcome.</p>\n<pre><code>OFFSET is 0;\nLIMIT is 3 million\n</code></pre>\n<p>Here is the code:</p>\n<pre><code>Connection connection = null;\n            \n                    try(StringWriter out = new StringWriter(); Writer printWriter = new PrintWriter(out, true)) {\n                        connection = dataSource.getConnection();\n                        OFFSET = 0;\n    // totalRecords is the total rows in the table\n                        while (OFFSET &lt;= totalRecords &amp;&amp; totalRecords &gt; 0) {\n            \n                            if (connection != null &amp;&amp; connection.isWrapperFor(PGConnection.class)) {\n            \n                                PGConnection pgConnection = connection.unwrap(PGConnection.class);\n                                CopyManager copyManager = null;\n                                copyManager = pgConnection.getCopyAPI();\n            \n                                String sql = null;\n                                    sql = &quot;SELECT &quot; + table.getAttributeList() + &quot; FROM &quot; + table.getSchemaName().trim() + &quot;.&quot;\n                                            + table.getTableName().trim() + &quot; WHERE &quot; + &quot;modified_ts&quot; + &quot; &gt; &quot; + &quot;'&quot; + dateTime + &quot;'&quot;\n                                            + &quot; OFFSET &quot; + OFFSET + &quot; LIMIT &quot; + LIMIT;\n            \n            \n                                LOGGER.info(sql);\n            \n                                long i;\n    // Here I am trying to copy the Result into the printwriter\n                                i = copyManager.copyOut(&quot;COPY (&quot; + sql + &quot; ) TO STDOUT WITH (FORMAT CSV)&quot;, printWriter);\n                                LOGGER.info(&quot;Total no of records in {} : {}&quot;, table.getTableName(), i);\n                                printWriter.flush();\n                                OFFSET = OFFSET + LIMIT;\n                                \n            \n                            }\n                        }\n                        String now = LocalDate.now().format(DateTimeFormatter.ofPattern(&quot;dd/MM/yyyy&quot;)).replace(&quot;/&quot;, &quot;&quot;);\n                        String localFileName = table.getTableName() + &quot;_&quot; + now + &quot;.csv&quot;;\n                        InputStream inputStream = new ByteArrayInputStream(out.toString().getBytes(UTF8));\n                        postObjectToS3.uploadFile(saveFilePath + localFileName, inputStream);\n                        \n                        inputStream.close();\n                    }\n</code></pre>\n<p>and here is the stacktrace:</p>\n<blockquote>\n<p>Exception in thread &quot;main&quot; java.lang.reflect.InvocationTargetException\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native\nMethod)\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\nat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\nat java.base/java.lang.reflect.Method.invoke(Method.java:566)\nat org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:49)\nat org.springframework.boot.loader.Launcher.launch(Launcher.java:108)\nat org.springframework.boot.loader.Launcher.launch(Launcher.java:58)\nat org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:88)\nCaused by: java.lang.OutOfMemoryError: Java heap space\nat java.base/java.util.Arrays.copyOf(Arrays.java:3745)\nat java.base/java.lang.AbstractStringBuilder.ensureCapacityInternal(AbstractStringBuilder.java:172)\nat java.base/java.lang.AbstractStringBuilder.append(AbstractStringBuilder.java:633)\nat java.base/java.lang.StringBuffer.append(StringBuffer.java:397)\nat java.base/java.io.StringWriter.write(StringWriter.java:122)\nat java.base/java.io.PrintWriter.write(PrintWriter.java:542)\nat java.base/java.io.PrintWriter.write(PrintWriter.java:559)\nat org.postgresql.copy.CopyManager.copyOut(CopyManager.java:92)</p>\n</blockquote>\n"},{"tags":["java","android","printing","itext"],"owner":{"account_id":27288952,"reputation":7,"user_id":20807685,"display_name":"Sara Iorgulescu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":252,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676480878,"creation_date":1676478107,"question_id":75462640,"body_markdown":"The ItextPdf library is being used by the Android app to develop a customizable review which may be printed using the Android silkscreen driver, however the printer refuses to accept it and shows the notice &quot;The type of file is not supported by this device.&quot; When printing a conventional PDF on a PC, nevertheless, all appears to be working perfectly.\r\n\r\nI tried and failed to convert the data type of PrintDocumentInfo to PrintDocumentInfo.CONTENT_TYPE_PDF. Any advice or assistance would be much received.\r\n\r\n\r\n```\r\n// Get the PrintManager system service\r\nPrintManager printManager = (PrintManager) getSystemService(Context.PRINT_SERVICE);\r\n\r\n// Set the job name for the print job\r\nString jobName = &quot;MyReport&quot;;\r\n\r\n// Get the path to the app&#39;s internal files directory\r\nFile path = context.getFilesDir();\r\n\r\n// Create a File object for the PDF file to be printed\r\nFile file = new File(path, &quot;report.pdf&quot;);\r\n\r\n// Create a FileOutputStream to write the PDF file\r\nFileOutputStream os = new FileOutputStream(file);\r\n\r\n// Use ItextPdf library to create the PDF file\r\nAdisyon a = new Adisyon(os);\r\na.createFile();\r\n\r\n// Create a FileInputStream to read the PDF file\r\nFileInputStream is = new FileInputStream(file);\r\n\r\n// Create a new PrintDocumentAdapter to handle the printing process\r\nPrintDocumentAdapter adapter = new MyPrintAdapter(this, is);\r\n\r\n// Start the print job\r\nprintManager.print(jobName, adapter, null);\r\n\r\n// Define a custom PrintDocumentAdapter class\r\npublic class MyPrintAdapter extends PrintDocumentAdapter {\r\n    private Context mContext;\r\n    private InputStream mInputStream;\r\n\r\n    public MyPrintAdapter(Context context, InputStream inputStream) {\r\n        mContext = context;\r\n        mInputStream = inputStream;\r\n    }\r\n\r\n    @Override\r\n    public void onLayout(PrintAttributes oldAttributes, PrintAttributes newAttributes, CancellationSignal cancellationSignal, LayoutResultCallback callback, Bundle extras) {\r\n        // If the print job has been cancelled, notify the callback and return\r\n        if (cancellationSignal.isCanceled()) {\r\n            callback.onLayoutCancelled();\r\n            return;\r\n        }\r\n\r\n        // Create a new PrintDocumentInfo object to describe the document to be printed\r\n        PrintDocumentInfo pdi = new PrintDocumentInfo.Builder(&quot;report.pdf&quot;)\r\n                .setContentType(PrintDocumentInfo.CONTENT_TYPE_DOCUMENT)\r\n                .build();\r\n\r\n        // Notify the callback that the layout has finished\r\n        callback.onLayoutFinished(pdi, true);\r\n    }\r\n\r\n    @Override\r\n    public void onWrite(PageRange[] pages, ParcelFileDescriptor destination, CancellationSignal cancellationSignal, WriteResultCallback callback) {\r\n        InputStream input = null;\r\n        OutputStream output = null;\r\n\r\n        try {\r\n            // Open an InputStream to read the PDF file\r\n            input = mInputStream;\r\n\r\n            // Open an OutputStream to write to the printer\r\n            output = new FileOutputStream(destination.getFileDescriptor());\r\n\r\n            // Create a buffer to hold the data being read from the PDF file\r\n            byte[] buf = new byte[1024];\r\n            int bytesRead;\r\n\r\n            // Read the PDF file and write it to the printer\r\n            while ((bytesRead = input.read(buf)) &gt; 0) {\r\n                output.write(buf, 0, bytesRead);\r\n            }\r\n\r\n            // Notify the callback that the write operation has finished\r\n            callback.onWriteFinished(new PageRange[]{PageRange.ALL_PAGES});\r\n\r\n        } catch (FileNotFoundException e) {\r\n            // Catch any exceptions that may occur\r\n            e.printStackTrace();\r\n        } catch (Exception e) {\r\n            // Catch any exceptions that may occur\r\n            e.printStackTrace();\r\n        } finally {\r\n            try {\r\n                // Close the input and output streams\r\n                input.close();\r\n                output.close();\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n\r\nThis software utilizes the PrintManager service and the ItextPdf library for publish a PDF file in an Android app. It contains a special PrintDocumentAdapter class for managing the printing process as well as document formatting and printing techniques.\r\n\r\n----\r\n\r\n# Explanation for a 14yo young man\r\n\r\n&gt; The code uses Android PrintManager to print an item. It launches the print job, displays a print interface for controlling the printing process, and creates a PDF file with ItextPdf. The MyPrintAdapter handles document formatting and printing.\r\n\r\n# Please accept my gratitude for your time and advice. Be at peace!\r\n\r\n","title":"How can an Android app print a PDF file made by the Java iTextPdf library?","body":"<p>The ItextPdf library is being used by the Android app to develop a customizable review which may be printed using the Android silkscreen driver, however the printer refuses to accept it and shows the notice &quot;The type of file is not supported by this device.&quot; When printing a conventional PDF on a PC, nevertheless, all appears to be working perfectly.</p>\n<p>I tried and failed to convert the data type of PrintDocumentInfo to PrintDocumentInfo.CONTENT_TYPE_PDF. Any advice or assistance would be much received.</p>\n<pre><code>// Get the PrintManager system service\nPrintManager printManager = (PrintManager) getSystemService(Context.PRINT_SERVICE);\n\n// Set the job name for the print job\nString jobName = &quot;MyReport&quot;;\n\n// Get the path to the app's internal files directory\nFile path = context.getFilesDir();\n\n// Create a File object for the PDF file to be printed\nFile file = new File(path, &quot;report.pdf&quot;);\n\n// Create a FileOutputStream to write the PDF file\nFileOutputStream os = new FileOutputStream(file);\n\n// Use ItextPdf library to create the PDF file\nAdisyon a = new Adisyon(os);\na.createFile();\n\n// Create a FileInputStream to read the PDF file\nFileInputStream is = new FileInputStream(file);\n\n// Create a new PrintDocumentAdapter to handle the printing process\nPrintDocumentAdapter adapter = new MyPrintAdapter(this, is);\n\n// Start the print job\nprintManager.print(jobName, adapter, null);\n\n// Define a custom PrintDocumentAdapter class\npublic class MyPrintAdapter extends PrintDocumentAdapter {\n    private Context mContext;\n    private InputStream mInputStream;\n\n    public MyPrintAdapter(Context context, InputStream inputStream) {\n        mContext = context;\n        mInputStream = inputStream;\n    }\n\n    @Override\n    public void onLayout(PrintAttributes oldAttributes, PrintAttributes newAttributes, CancellationSignal cancellationSignal, LayoutResultCallback callback, Bundle extras) {\n        // If the print job has been cancelled, notify the callback and return\n        if (cancellationSignal.isCanceled()) {\n            callback.onLayoutCancelled();\n            return;\n        }\n\n        // Create a new PrintDocumentInfo object to describe the document to be printed\n        PrintDocumentInfo pdi = new PrintDocumentInfo.Builder(&quot;report.pdf&quot;)\n                .setContentType(PrintDocumentInfo.CONTENT_TYPE_DOCUMENT)\n                .build();\n\n        // Notify the callback that the layout has finished\n        callback.onLayoutFinished(pdi, true);\n    }\n\n    @Override\n    public void onWrite(PageRange[] pages, ParcelFileDescriptor destination, CancellationSignal cancellationSignal, WriteResultCallback callback) {\n        InputStream input = null;\n        OutputStream output = null;\n\n        try {\n            // Open an InputStream to read the PDF file\n            input = mInputStream;\n\n            // Open an OutputStream to write to the printer\n            output = new FileOutputStream(destination.getFileDescriptor());\n\n            // Create a buffer to hold the data being read from the PDF file\n            byte[] buf = new byte[1024];\n            int bytesRead;\n\n            // Read the PDF file and write it to the printer\n            while ((bytesRead = input.read(buf)) &gt; 0) {\n                output.write(buf, 0, bytesRead);\n            }\n\n            // Notify the callback that the write operation has finished\n            callback.onWriteFinished(new PageRange[]{PageRange.ALL_PAGES});\n\n        } catch (FileNotFoundException e) {\n            // Catch any exceptions that may occur\n            e.printStackTrace();\n        } catch (Exception e) {\n            // Catch any exceptions that may occur\n            e.printStackTrace();\n        } finally {\n            try {\n                // Close the input and output streams\n                input.close();\n                output.close();\n            } catch (IOException e) {\n                e.printStackTrace();\n            }\n        }\n    }\n}\n</code></pre>\n<p>This software utilizes the PrintManager service and the ItextPdf library for publish a PDF file in an Android app. It contains a special PrintDocumentAdapter class for managing the printing process as well as document formatting and printing techniques.</p>\n<hr />\n<h1>Explanation for a 14yo young man</h1>\n<blockquote>\n<p>The code uses Android PrintManager to print an item. It launches the print job, displays a print interface for controlling the printing process, and creates a PDF file with ItextPdf. The MyPrintAdapter handles document formatting and printing.</p>\n</blockquote>\n<h1>Please accept my gratitude for your time and advice. Be at peace!</h1>\n"},{"tags":["java","ms-word","formatting","apache-poi"],"answers":[{"comments":[{"owner":{"account_id":16152922,"reputation":365,"user_id":11660873,"display_name":"Jeet"},"score":0,"creation_date":1676467572,"post_id":75456494,"comment_id":133141926,"body_markdown":"Many thanks for the help! I am sometimes getting the &quot;IndexOutOfBoundsException&quot; Index:6,Size:1.....at the line --    XWPFTable tableTwo = tablerow.getCell(0).insertNewTbl(paragraph.getCTP().newCursor());\nThe paragraph object here is valid. The index is 6 that is also fine as I want to create the table in the 6th Paragraph.---- XWPFParagraph paragraphnestedtable = tableRowThree.getCell(0).getParagraphArray(6);...still why is this exception shown? Is the paragraph has to be always 0 to insert the nested table? can there be other paragraphs before the nested table paragraph?","body":"Many thanks for the help! I am sometimes getting the &quot;IndexOutOfBoundsException&quot; Index:6,Size:1.....at the line --    XWPFTable tableTwo = tablerow.getCell(0).insertNewTbl(paragraph.getCTP().newCurso&zwnj;&#8203;r()); The paragraph object here is valid. The index is 6 that is also fine as I want to create the table in the 6th Paragraph.---- XWPFParagraph paragraphnestedtable = tableRowThree.getCell(0).getParagraphArray(6);...still why is this exception shown? Is the paragraph has to be always 0 to insert the nested table? can there be other paragraphs before the nested table paragraph?"},{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":0,"creation_date":1676468059,"post_id":75456494,"comment_id":133142096,"body_markdown":"@Jeet: My code is complete and tested and works without throwing exceptions. So you are using other code than mine. This is nothing what can be discussed in the comment area. Please ask a question about that issue and provide the full code which is need to reproduce that issue.","body":"@Jeet: My code is complete and tested and works without throwing exceptions. So you are using other code than mine. This is nothing what can be discussed in the comment area. Please ask a question about that issue and provide the full code which is need to reproduce that issue."},{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":0,"creation_date":1676469127,"post_id":75456494,"comment_id":133142456,"body_markdown":"@Jeet: &quot;Is the paragraph has to be always 0 to insert the nested table?&quot; No. It has to be a existent paragraph. Btw.: `tableRowThree.getCell(0).getParagraphArray(6)` does **not** try to get the sixth paragraph but the seventh as index starts at 0. So I guess the exception is thrown from this code line.","body":"@Jeet: &quot;Is the paragraph has to be always 0 to insert the nested table?&quot; No. It has to be a existent paragraph. Btw.: <code>tableRowThree.getCell(0).getParagraphArray(6)</code> does <b>not</b> try to get the sixth paragraph but the seventh as index starts at 0. So I guess the exception is thrown from this code line."},{"owner":{"account_id":16152922,"reputation":365,"user_id":11660873,"display_name":"Jeet"},"score":0,"creation_date":1676472427,"post_id":75456494,"comment_id":133143691,"body_markdown":"https://stackoverflow.com/questions/75461377/how-to-solve-exception-in-thread-main-java-lang-indexoutofboundsexception-ind","body":"<a href=\"https://stackoverflow.com/questions/75461377/how-to-solve-exception-in-thread-main-java-lang-indexoutofboundsexception-ind\" title=\"how to solve exception in thread main java lang indexoutofboundsexception ind\">stackoverflow.com/questions/75461377/&hellip;</a>"},{"owner":{"account_id":16152922,"reputation":365,"user_id":11660873,"display_name":"Jeet"},"score":0,"creation_date":1676476661,"post_id":75456494,"comment_id":133145336,"body_markdown":"@AxelRichter-  The program is working fine if I provide 0 instead of 6 tableRowThree.getCell(0).getParagraphArray(6). I think paragraph 0 is mandatory to provide as it not clear how word handles the paragraphs.","body":"@AxelRichter-  The program is working fine if I provide 0 instead of 6 tableRowThree.getCell(0).getParagraphArray(6). I think paragraph 0 is mandatory to provide as it not clear how word handles the paragraphs."}],"tags":[],"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"comment_count":5,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1676480662,"creation_date":1676444950,"answer_id":75456494,"question_id":75448967,"body_markdown":"The question you linked was about how to **insert** a table into a table cell in a Word-table using  Apache POI. Nothing about how to set  column widths. And, since it is from 2017, it answers this using Apache POI versions of 2017. But Apache POI is highly in development. So current versions will have more straightforward methods to do things.\r\n\r\nEspecially to set widths of `XWPFTable` and/or `XWPFTableCell`, current Apache POI version 5.2.3 provides `setWidth` methods in [XWPFTable](https://poi.apache.org/apidocs/dev/org/apache/poi/xwpf/usermodel/XWPFTable.html) as well as in [XWPFTableCell](https://poi.apache.org/apidocs/dev/org/apache/poi/xwpf/usermodel/XWPFTableCell.html). The most straightforward is `public void setWidth(java.lang.String widthValue)`. There the `String widthValue` may be the width to the value &quot;auto&quot;, an integer value (20ths of a point), or a percentage (&quot;nn.nn%&quot;).\r\n\r\nAlso setting borders is much more straightforward now as there are `XWPFTable.set*Border` methods now.\r\n\r\nSo the code should look like so now using current Apache POI.\r\n\r\n    import java.io.*;\r\n    \r\n    import org.apache.poi.xwpf.usermodel.*;\r\n    \r\n    public class CreateWordTableInTable {\r\n    \t\r\n     static void setAllBorders(XWPFTable table, XWPFTable.XWPFBorderType borderType, int size, int space, java.lang.String rgbColor) {\r\n       table.setTopBorder(borderType, size, space, rgbColor);\r\n       table.setRightBorder(borderType, size, space, rgbColor);\r\n       table.setBottomBorder(borderType, size, space, rgbColor);\r\n       table.setLeftBorder(borderType, size, space, rgbColor);\r\n       table.setInsideHBorder(borderType, size, space, rgbColor);\r\n       table.setInsideVBorder(borderType, size, space, rgbColor);\t \r\n     }\r\n    \r\n     public static void main(String[] args) throws Exception {\r\n    \r\n        XWPFDocument document = new XWPFDocument();\r\n    \r\n        XWPFTable tableOne = document.createTable(2,2);\r\n    \t\r\n    \ttableOne.setWidth(&quot;100%&quot;);\r\n    \t\r\n        XWPFTableRow tablerow = tableOne.getRow(0);\r\n    \t\r\n    \ttablerow.getCell(0).setWidth(&quot;40%&quot;);\r\n    \ttablerow.getCell(1).setWidth(&quot;60%&quot;);\r\n    \t\r\n        tablerow.getCell(0).setText(&quot;Test&quot;);\r\n        tablerow.getCell(1).setText(&quot;Test&quot;);\r\n    \r\n        tablerow = tableOne.getRow(1);\r\n        tablerow.getCell(0).setText(&quot;Test&quot;);\r\n    \r\n        XWPFParagraph paragraph = tablerow.getCell(1).getParagraphArray(0);\r\n        XWPFTable tableTwo = tablerow.getCell(1).insertNewTbl(paragraph.getCTP().newCursor());\r\n    \r\n    \ttableTwo.setWidth(0); // This is necessary because a XWPFTable created by insertNewTbl seems not to have full internally structure. It lacks the cell width field in this case.\r\n    \ttableTwo.setWidth(&quot;100%&quot;);\r\n    \t\r\n    \tsetAllBorders(tableTwo, XWPFTable.XWPFBorderType.SINGLE, 4, 0, &quot;000000&quot;);\r\n    \t\r\n        tablerow = tableTwo.createRow();\r\n        tablerow.createCell().setText(&quot;aaaaaaaaaa&quot;);\r\n        tablerow.createCell().setText(&quot;jjjjjjjj&quot;); \r\n        tablerow = tableTwo.createRow(); \r\n        tablerow.getCell(0).setText(&quot;bbbbbbbbbb&quot;); \r\n        tablerow.getCell(1).setText(&quot;gggggggggg&quot;);\r\n    \r\n        try (FileOutputStream out = new FileOutputStream(&quot;./CreateWordTableInTable.docx&quot;)) {\r\n         document.write(out);\r\n        }\r\n        document.close();\r\n    \r\n     }\r\n    }\r\n\r\n\r\nNote: A `XWPFTable` created by `insertNewTbl` seems not to have full internally structure. It has no default border setting for example and it lacks the internally cell width field. That&#39;s why explicit border setting is necessary. And calling `setWidth(int width)` is necessary before calling `setWidth(java.lang.String widthValue)` as the first sets the internally cell width field while the second relies on the presence of that field and fails if it is not present.\r\n\r\nResult looks like so for me:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/n0ORX.png","title":"How to fix the width of the columns in a table that is within the cell of another table with apache poi and Java?","body":"<p>The question you linked was about how to <strong>insert</strong> a table into a table cell in a Word-table using  Apache POI. Nothing about how to set  column widths. And, since it is from 2017, it answers this using Apache POI versions of 2017. But Apache POI is highly in development. So current versions will have more straightforward methods to do things.</p>\n<p>Especially to set widths of <code>XWPFTable</code> and/or <code>XWPFTableCell</code>, current Apache POI version 5.2.3 provides <code>setWidth</code> methods in <a href=\"https://poi.apache.org/apidocs/dev/org/apache/poi/xwpf/usermodel/XWPFTable.html\" rel=\"nofollow noreferrer\">XWPFTable</a> as well as in <a href=\"https://poi.apache.org/apidocs/dev/org/apache/poi/xwpf/usermodel/XWPFTableCell.html\" rel=\"nofollow noreferrer\">XWPFTableCell</a>. The most straightforward is <code>public void setWidth(java.lang.String widthValue)</code>. There the <code>String widthValue</code> may be the width to the value &quot;auto&quot;, an integer value (20ths of a point), or a percentage (&quot;nn.nn%&quot;).</p>\n<p>Also setting borders is much more straightforward now as there are <code>XWPFTable.set*Border</code> methods now.</p>\n<p>So the code should look like so now using current Apache POI.</p>\n<pre><code>import java.io.*;\n\nimport org.apache.poi.xwpf.usermodel.*;\n\npublic class CreateWordTableInTable {\n    \n static void setAllBorders(XWPFTable table, XWPFTable.XWPFBorderType borderType, int size, int space, java.lang.String rgbColor) {\n   table.setTopBorder(borderType, size, space, rgbColor);\n   table.setRightBorder(borderType, size, space, rgbColor);\n   table.setBottomBorder(borderType, size, space, rgbColor);\n   table.setLeftBorder(borderType, size, space, rgbColor);\n   table.setInsideHBorder(borderType, size, space, rgbColor);\n   table.setInsideVBorder(borderType, size, space, rgbColor);    \n }\n\n public static void main(String[] args) throws Exception {\n\n    XWPFDocument document = new XWPFDocument();\n\n    XWPFTable tableOne = document.createTable(2,2);\n    \n    tableOne.setWidth(&quot;100%&quot;);\n    \n    XWPFTableRow tablerow = tableOne.getRow(0);\n    \n    tablerow.getCell(0).setWidth(&quot;40%&quot;);\n    tablerow.getCell(1).setWidth(&quot;60%&quot;);\n    \n    tablerow.getCell(0).setText(&quot;Test&quot;);\n    tablerow.getCell(1).setText(&quot;Test&quot;);\n\n    tablerow = tableOne.getRow(1);\n    tablerow.getCell(0).setText(&quot;Test&quot;);\n\n    XWPFParagraph paragraph = tablerow.getCell(1).getParagraphArray(0);\n    XWPFTable tableTwo = tablerow.getCell(1).insertNewTbl(paragraph.getCTP().newCursor());\n\n    tableTwo.setWidth(0); // This is necessary because a XWPFTable created by insertNewTbl seems not to have full internally structure. It lacks the cell width field in this case.\n    tableTwo.setWidth(&quot;100%&quot;);\n    \n    setAllBorders(tableTwo, XWPFTable.XWPFBorderType.SINGLE, 4, 0, &quot;000000&quot;);\n    \n    tablerow = tableTwo.createRow();\n    tablerow.createCell().setText(&quot;aaaaaaaaaa&quot;);\n    tablerow.createCell().setText(&quot;jjjjjjjj&quot;); \n    tablerow = tableTwo.createRow(); \n    tablerow.getCell(0).setText(&quot;bbbbbbbbbb&quot;); \n    tablerow.getCell(1).setText(&quot;gggggggggg&quot;);\n\n    try (FileOutputStream out = new FileOutputStream(&quot;./CreateWordTableInTable.docx&quot;)) {\n     document.write(out);\n    }\n    document.close();\n\n }\n}\n</code></pre>\n<p>Note: A <code>XWPFTable</code> created by <code>insertNewTbl</code> seems not to have full internally structure. It has no default border setting for example and it lacks the internally cell width field. That's why explicit border setting is necessary. And calling <code>setWidth(int width)</code> is necessary before calling <code>setWidth(java.lang.String widthValue)</code> as the first sets the internally cell width field while the second relies on the presence of that field and fails if it is not present.</p>\n<p>Result looks like so for me:</p>\n<p><a href=\"https://i.stack.imgur.com/n0ORX.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/n0ORX.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":16152922,"reputation":365,"user_id":11660873,"display_name":"Jeet"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":292,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75456494,"answer_count":1,"score":0,"last_activity_date":1676480662,"creation_date":1676383507,"question_id":75448967,"body_markdown":"I am parsing a XML that has HTML tags in it. After parsing the XML I am trying to create a table that is within the cell of another table and create a word document with these contents. I implemented the table within a table with the help of the answer of this [Question][1]. However, I am unable to set the width of the columns of the nested table. When the word document is generated the generated nested table is so ugly with super narrow columns that has to be manually adjusted to have a desired column width. I would like to set some default values as the desired column width. The generated word document with the nested table has been provided in the picture. I am using the following code to set the column width but no luck so far. [![enter image description here][2]][2]\r\n\r\n      for (int i = 0; i &lt; nestedtable.getNumberOfRows(); i++) {\r\n      XWPFTableRow row = nestedtable.getRow(i);\r\n      int numCells = row.getTableCells().size();\r\n      for (int j = 0; j &lt; numCells; j++) {\r\n        XWPFTableCell cell = row.getCell(j);\r\n        CTTblWidth cellWidth = cell.getCTTc().addNewTcPr().addNewTcW();\r\n        CTTcPr pr = cell.getCTTc().addNewTcPr();\r\n        pr.addNewNoWrap();\r\n        cellWidth.setW(BigInteger.valueOf(400));\r\n      }\r\n    }\r\n\r\n  [1]: https://stackoverflow.com/questions/43271689/how-to-insert-a-table-into-a-cell-in-poi-word\r\n  [2]: https://i.stack.imgur.com/AcrFP.png\r\n\r\nHow should I get out of this problem? The generated word document is looking so ugly due to this nested table structure.","title":"How to fix the width of the columns in a table that is within the cell of another table with apache poi and Java?","body":"<p>I am parsing a XML that has HTML tags in it. After parsing the XML I am trying to create a table that is within the cell of another table and create a word document with these contents. I implemented the table within a table with the help of the answer of this <a href=\"https://stackoverflow.com/questions/43271689/how-to-insert-a-table-into-a-cell-in-poi-word\">Question</a>. However, I am unable to set the width of the columns of the nested table. When the word document is generated the generated nested table is so ugly with super narrow columns that has to be manually adjusted to have a desired column width. I would like to set some default values as the desired column width. The generated word document with the nested table has been provided in the picture. I am using the following code to set the column width but no luck so far. <a href=\"https://i.stack.imgur.com/AcrFP.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/AcrFP.png\" alt=\"enter image description here\" /></a></p>\n<pre><code>  for (int i = 0; i &lt; nestedtable.getNumberOfRows(); i++) {\n  XWPFTableRow row = nestedtable.getRow(i);\n  int numCells = row.getTableCells().size();\n  for (int j = 0; j &lt; numCells; j++) {\n    XWPFTableCell cell = row.getCell(j);\n    CTTblWidth cellWidth = cell.getCTTc().addNewTcPr().addNewTcW();\n    CTTcPr pr = cell.getCTTc().addNewTcPr();\n    pr.addNewNoWrap();\n    cellWidth.setW(BigInteger.valueOf(400));\n  }\n}\n</code></pre>\n<p>How should I get out of this problem? The generated word document is looking so ugly due to this nested table structure.</p>\n"},{"tags":["java","spring-data-jpa","querydsl"],"answers":[{"comments":[{"owner":{"account_id":4382488,"reputation":343,"user_id":6666688,"display_name":"java dev"},"score":0,"creation_date":1631403197,"post_id":50267851,"comment_id":122212848,"body_markdown":"Can we group by week with this solution?","body":"Can we group by week with this solution?"}],"tags":[],"owner":{"account_id":2076966,"reputation":3921,"user_id":1850043,"accept_rate":71,"display_name":"krzakov"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1525937536,"creation_date":1525937536,"answer_id":50267851,"question_id":50211090,"body_markdown":"I solved it myself:\r\n\r\n`GROUP BY &quot;DATE_FORMAT(...)&quot;`\r\n\r\nIn case of query DSL\r\n\r\n`DateTemplate formattedDate = Expressions.dateTemplate(LocalDateTime.class, &quot;DATE_FORMAT({0}, {1})&quot;, queryItem.timestamp, &quot;%d/%m/%Y&quot;);`\r\n\r\n    query.select(...).groupBy(formattedDate);\r\n","title":"QueryDSL 4.1.4, Jpa GROUP BY Date","body":"<p>I solved it myself:</p>\n\n<p><code>GROUP BY \"DATE_FORMAT(...)\"</code></p>\n\n<p>In case of query DSL</p>\n\n<p><code>DateTemplate formattedDate = Expressions.dateTemplate(LocalDateTime.class, \"DATE_FORMAT({0}, {1})\", queryItem.timestamp, \"%d/%m/%Y\");</code></p>\n\n<pre><code>query.select(...).groupBy(formattedDate);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5626834,"reputation":1,"user_id":8722734,"display_name":"Jallow"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676480649,"creation_date":1675787957,"answer_id":75376414,"question_id":50211090,"body_markdown":"Thanks @krzakov\r\n\r\nInspired by you, i got to do it in QueryDSL version 4.4.0 with:\r\n\r\n    Expressions.stringTemplate(&quot;DATE_FORMAT({0}, &#39;%d/%m/%Y&#39;)&quot;, queryItem.date)\r\n\r\n`dateTemplate` didn&#39;t workout for me.","title":"QueryDSL 4.1.4, Jpa GROUP BY Date","body":"<p>Thanks @krzakov</p>\n<p>Inspired by you, i got to do it in QueryDSL version 4.4.0 with:</p>\n<pre><code>Expressions.stringTemplate(&quot;DATE_FORMAT({0}, '%d/%m/%Y')&quot;, queryItem.date)\n</code></pre>\n<p><code>dateTemplate</code> didn't workout for me.</p>\n"}],"owner":{"account_id":2076966,"reputation":3921,"user_id":1850043,"accept_rate":71,"display_name":"krzakov"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1109,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":50267851,"answer_count":2,"score":0,"last_activity_date":1676480649,"creation_date":1525685800,"question_id":50211090,"body_markdown":"I have troubles on grouping my query by date. I need to consolidate some data in daily manner in `QueryDSL 4.1.4`. There is almost none of documentation and examples since Query DSL got an update `4.X`\r\n\r\nDesired output \r\n\r\n    2018-02-02   |   SUM(some_field)\r\n    2018-02-03   |   SUM(some_field)\r\n\r\n`.groupBy(qItem.dateField.dayOfMonth())` is not an option. \r\n\r\nMaybe I should parse row sql somehow into `queryDSL`. Any ideas?\r\n","title":"QueryDSL 4.1.4, Jpa GROUP BY Date","body":"<p>I have troubles on grouping my query by date. I need to consolidate some data in daily manner in <code>QueryDSL 4.1.4</code>. There is almost none of documentation and examples since Query DSL got an update <code>4.X</code></p>\n\n<p>Desired output </p>\n\n<pre><code>2018-02-02   |   SUM(some_field)\n2018-02-03   |   SUM(some_field)\n</code></pre>\n\n<p><code>.groupBy(qItem.dateField.dayOfMonth())</code> is not an option. </p>\n\n<p>Maybe I should parse row sql somehow into <code>queryDSL</code>. Any ideas?</p>\n"},{"tags":["java","aem"],"answers":[{"comments":[{"owner":{"account_id":15190760,"reputation":35,"user_id":10961529,"display_name":"Rashmi Ks"},"score":0,"creation_date":1553497707,"post_id":55301231,"comment_id":97390637,"body_markdown":"Without this assignment asset.listRenditions().next().getPath(), it works fine. Trying to figure out why this asset.listRenditions().hasNext() check is done .. asset.listRenditions().next().getPath() always is assigning the path of the asset as cq.web.48.48.png.","body":"Without this assignment asset.listRenditions().next().getPath(), it works fine. Trying to figure out why this asset.listRenditions().hasNext() check is done .. asset.listRenditions().next().getPath() always is assigning the path of the asset as cq.web.48.48.png."},{"owner":{"account_id":64681,"reputation":20733,"user_id":190823,"accept_rate":81,"display_name":"Jens"},"score":0,"creation_date":1553503250,"post_id":55301231,"comment_id":97392989,"body_markdown":"@RashmiKs You are always getting the same rendition because you ask for an `Iterator` of renditions and then you always ask for the first item, which is going to be the `48` rendition. If you use `listRenditions()`, which returns an `Iterator`, you have to iterate the result with `hasNext()` and `next()` until you get the rendition that you want.","body":"@RashmiKs You are always getting the same rendition because you ask for an <code>Iterator</code> of renditions and then you always ask for the first item, which is going to be the <code>48</code> rendition. If you use <code>listRenditions()</code>, which returns an <code>Iterator</code>, you have to iterate the result with <code>hasNext()</code> and <code>next()</code> until you get the rendition that you want."},{"owner":{"account_id":15190760,"reputation":35,"user_id":10961529,"display_name":"Rashmi Ks"},"score":0,"creation_date":1553518973,"post_id":55301231,"comment_id":97401988,"body_markdown":"without hardcoding how to get 640.640.png","body":"without hardcoding how to get 640.640.png"},{"owner":{"account_id":64681,"reputation":20733,"user_id":190823,"accept_rate":81,"display_name":"Jens"},"score":0,"creation_date":1553519183,"post_id":55301231,"comment_id":97402102,"body_markdown":"@RashmiKs as I wrote in my answer: There is no way to get exactly the `640` rendition without hardcoding it. The best solution in that case would be to use `UIHelper.getBestfitRendition(asset, 640)`. But that is kind of hardcoded as well, with the exception that it will look for a thumbnail rendition that is _nearest_ to the specified width of `640`. So it might give you a `600` rendition (if it exists and the `640` rendition would not exist). But again: There are basically no guarantees when it comes to renditions. That&#39;s why it is so tricky ;)","body":"@RashmiKs as I wrote in my answer: There is no way to get exactly the <code>640</code> rendition without hardcoding it. The best solution in that case would be to use <code>UIHelper.getBestfitRendition(asset, 640)</code>. But that is kind of hardcoded as well, with the exception that it will look for a thumbnail rendition that is <i>nearest</i> to the specified width of <code>640</code>. So it might give you a <code>600</code> rendition (if it exists and the <code>640</code> rendition would not exist). But again: There are basically no guarantees when it comes to renditions. That&#39;s why it is so tricky ;)"},{"owner":{"account_id":15190760,"reputation":35,"user_id":10961529,"display_name":"Rashmi Ks"},"score":0,"creation_date":1553603230,"post_id":55301231,"comment_id":97437802,"body_markdown":"I need to get 640 rendition using listRenditions() itself. But unable to know where the other renditions are available in listRenditions(). Able to see only the 48.48.png path for next().","body":"I need to get 640 rendition using listRenditions() itself. But unable to know where the other renditions are available in listRenditions(). Able to see only the 48.48.png path for next()."}],"tags":[],"owner":{"account_id":64681,"reputation":20733,"user_id":190823,"accept_rate":81,"display_name":"Jens"},"comment_count":5,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1553263593,"creation_date":1553263095,"answer_id":55301231,"question_id":55298293,"body_markdown":"Disclaimer:\r\n\r\nI am only going to mention the &quot;old&quot; Asset API in `com.day.cq.dam.api`. There is a newer API in `com.adobe.granite.asset.api` which is different and lacks some features, which is why I usually prefer to use the &quot;old&quot; API.\r\n\r\n----------\r\n\r\nThere are several ways to get renditions in AEM and all of them come with advantages and disadvantages.\r\n\r\nBefore I start to explain a few ways to get renditions, there are two rules you should follow to make your live easier:\r\n\r\n1. Never expect thumbnail or web renditions to exist.\r\n2. Never use the original rendition except for downloads.\r\n\r\nYou wrote:\r\n\r\n&gt; Need to increase the resolution or get original image.\r\n\r\nIf you just want to get the original rendition, you can simply use:\r\n\r\n    Rendition rendition = asset.getOriginal();\r\n\r\nBut if you want to get _a_ thumbnail or web rendition you should use one of the `RenditionPicker`.\r\n\r\nTo get a thumbnail rendition you can use:\r\n\r\n    PrefixRenditionPicker picker = new PrefixRenditionPicker(DamConstants.PREFIX_ASSET_THUMBNAIL, true)\r\n    Rendition rendition = picker.getRendition(asset);\r\n\r\nThis will give you the _first_ thumbnail rendition that the picker will find. In theory you could force a certain thumbnail rendition by extending the code like this:\r\n\r\n    PrefixRenditionPicker picker = new PrefixRenditionPicker(DamConstants.PREFIX_ASSET_THUMBNAIL + &quot;.319&quot;, true)\r\n    Rendition rendition = picker.getRendition(asset);\r\n\r\nThis would return the `319px` thumbnail rendition with the name `cq5dam.thumbnail.319.319.png`. But remember, there is no guarantee that this rendition exists. If there is no rendition with this name the `RenditionPicker` from above will simply return the `original` rendition (because we used `true` as second parameter).\r\n\r\nThe same process can be used to get the web rendition. You can either use the rendition picker from above and just use another constant:\r\n\r\n    PrefixRenditionPicker picker = new PrefixRenditionPicker(DamConstants.PREFIX_ASSET_WEB, true)\r\n    Rendition rendition = picker.getRendition(asset);\r\n\r\nOr you use the the dedicated `WCMRenditionPicker`:\r\n\r\n    WCMRenditionPicker picker = new WCMRenditionPicker();\r\n    Rendition rendition = picker.getRendition(asset);\r\n\r\nBut as before, this will return the _first_ rendition that is found or _null_ if none is found.\r\n\r\nDepending on your use case you might want to create your own `RenditionPicker` by implementing the following interface:\r\n\r\n    com.day.cq.dam.api.RenditionPicker\r\n\r\nThere is also another API I want to mention which is `com.day.cq.dam.commons.util.UIHelper`. This class contains a few interesting methods like:\r\n\r\n    getBestfitRendition(Asset asset, int width)\r\n\r\nThis method would allow you to specify a desired `width` and it will try to find the _nearest_ best fitting rendition. This can be also quite handy in certain situations.\r\n\r\nLinks:\r\n\r\n 1. [Asset Javadoc][1]\r\n 2. [Rendition Javadoc][2]\r\n 3. [PrefixRenditionPicker Javadoc][3]\r\n 4. [WCMRenditionPicker Javadoc][4]\r\n 5. [PREFIX_ASSET_THUMBNAIL constant Javadoc][5]\r\n 6. [PREFIX_ASSET_WEB constant Javadoc][6]\r\n 7. [UIHelper Javadoc][7]\r\n\r\n\r\n  [1]: https://helpx.adobe.com/experience-manager/6-3/sites/developing/using/reference-materials/javadoc/com/day/cq/dam/api/Asset.html\r\n  [2]: https://helpx.adobe.com/experience-manager/6-3/sites/developing/using/reference-materials/javadoc/com/day/cq/dam/api/RenditionPicker.html\r\n  [3]: https://helpx.adobe.com/experience-manager/6-3/sites/developing/using/reference-materials/javadoc/com/day/cq/dam/commons/util/PrefixRenditionPicker.html\r\n  [4]: https://helpx.adobe.com/experience-manager/6-3/sites/developing/using/reference-materials/javadoc/com/day/cq/wcm/foundation/WCMRenditionPicker.html\r\n  [5]: https://helpx.adobe.com/experience-manager/6-3/sites/developing/using/reference-materials/javadoc/com/day/cq/dam/api/DamConstants.html#PREFIX_ASSET_THUMBNAIL\r\n  [6]: https://helpx.adobe.com/experience-manager/6-3/sites/developing/using/reference-materials/javadoc/com/day/cq/dam/api/DamConstants.html#PREFIX_ASSET_WEB\r\n  [7]: https://helpx.adobe.com/experience-manager/6-3/sites/developing/using/reference-materials/javadoc/com/day/cq/dam/commons/util/UIHelper.html","title":"DAM Asset Renditions - Getting cq5dam.thumbnail.48.48.png rendition but need the original rendition","body":"<p>Disclaimer:</p>\n\n<p>I am only going to mention the \"old\" Asset API in <code>com.day.cq.dam.api</code>. There is a newer API in <code>com.adobe.granite.asset.api</code> which is different and lacks some features, which is why I usually prefer to use the \"old\" API.</p>\n\n<hr>\n\n<p>There are several ways to get renditions in AEM and all of them come with advantages and disadvantages.</p>\n\n<p>Before I start to explain a few ways to get renditions, there are two rules you should follow to make your live easier:</p>\n\n<ol>\n<li>Never expect thumbnail or web renditions to exist.</li>\n<li>Never use the original rendition except for downloads.</li>\n</ol>\n\n<p>You wrote:</p>\n\n<blockquote>\n  <p>Need to increase the resolution or get original image.</p>\n</blockquote>\n\n<p>If you just want to get the original rendition, you can simply use:</p>\n\n<pre><code>Rendition rendition = asset.getOriginal();\n</code></pre>\n\n<p>But if you want to get <em>a</em> thumbnail or web rendition you should use one of the <code>RenditionPicker</code>.</p>\n\n<p>To get a thumbnail rendition you can use:</p>\n\n<pre><code>PrefixRenditionPicker picker = new PrefixRenditionPicker(DamConstants.PREFIX_ASSET_THUMBNAIL, true)\nRendition rendition = picker.getRendition(asset);\n</code></pre>\n\n<p>This will give you the <em>first</em> thumbnail rendition that the picker will find. In theory you could force a certain thumbnail rendition by extending the code like this:</p>\n\n<pre><code>PrefixRenditionPicker picker = new PrefixRenditionPicker(DamConstants.PREFIX_ASSET_THUMBNAIL + \".319\", true)\nRendition rendition = picker.getRendition(asset);\n</code></pre>\n\n<p>This would return the <code>319px</code> thumbnail rendition with the name <code>cq5dam.thumbnail.319.319.png</code>. But remember, there is no guarantee that this rendition exists. If there is no rendition with this name the <code>RenditionPicker</code> from above will simply return the <code>original</code> rendition (because we used <code>true</code> as second parameter).</p>\n\n<p>The same process can be used to get the web rendition. You can either use the rendition picker from above and just use another constant:</p>\n\n<pre><code>PrefixRenditionPicker picker = new PrefixRenditionPicker(DamConstants.PREFIX_ASSET_WEB, true)\nRendition rendition = picker.getRendition(asset);\n</code></pre>\n\n<p>Or you use the the dedicated <code>WCMRenditionPicker</code>:</p>\n\n<pre><code>WCMRenditionPicker picker = new WCMRenditionPicker();\nRendition rendition = picker.getRendition(asset);\n</code></pre>\n\n<p>But as before, this will return the <em>first</em> rendition that is found or <em>null</em> if none is found.</p>\n\n<p>Depending on your use case you might want to create your own <code>RenditionPicker</code> by implementing the following interface:</p>\n\n<pre><code>com.day.cq.dam.api.RenditionPicker\n</code></pre>\n\n<p>There is also another API I want to mention which is <code>com.day.cq.dam.commons.util.UIHelper</code>. This class contains a few interesting methods like:</p>\n\n<pre><code>getBestfitRendition(Asset asset, int width)\n</code></pre>\n\n<p>This method would allow you to specify a desired <code>width</code> and it will try to find the <em>nearest</em> best fitting rendition. This can be also quite handy in certain situations.</p>\n\n<p>Links:</p>\n\n<ol>\n<li><a href=\"https://helpx.adobe.com/experience-manager/6-3/sites/developing/using/reference-materials/javadoc/com/day/cq/dam/api/Asset.html\" rel=\"nofollow noreferrer\">Asset Javadoc</a></li>\n<li><a href=\"https://helpx.adobe.com/experience-manager/6-3/sites/developing/using/reference-materials/javadoc/com/day/cq/dam/api/RenditionPicker.html\" rel=\"nofollow noreferrer\">Rendition Javadoc</a></li>\n<li><a href=\"https://helpx.adobe.com/experience-manager/6-3/sites/developing/using/reference-materials/javadoc/com/day/cq/dam/commons/util/PrefixRenditionPicker.html\" rel=\"nofollow noreferrer\">PrefixRenditionPicker Javadoc</a></li>\n<li><a href=\"https://helpx.adobe.com/experience-manager/6-3/sites/developing/using/reference-materials/javadoc/com/day/cq/wcm/foundation/WCMRenditionPicker.html\" rel=\"nofollow noreferrer\">WCMRenditionPicker Javadoc</a></li>\n<li><a href=\"https://helpx.adobe.com/experience-manager/6-3/sites/developing/using/reference-materials/javadoc/com/day/cq/dam/api/DamConstants.html#PREFIX_ASSET_THUMBNAIL\" rel=\"nofollow noreferrer\">PREFIX_ASSET_THUMBNAIL constant Javadoc</a></li>\n<li><a href=\"https://helpx.adobe.com/experience-manager/6-3/sites/developing/using/reference-materials/javadoc/com/day/cq/dam/api/DamConstants.html#PREFIX_ASSET_WEB\" rel=\"nofollow noreferrer\">PREFIX_ASSET_WEB constant Javadoc</a></li>\n<li><a href=\"https://helpx.adobe.com/experience-manager/6-3/sites/developing/using/reference-materials/javadoc/com/day/cq/dam/commons/util/UIHelper.html\" rel=\"nofollow noreferrer\">UIHelper Javadoc</a></li>\n</ol>\n"}],"owner":{"account_id":15190760,"reputation":35,"user_id":10961529,"display_name":"Rashmi Ks"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1342,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1676480476,"creation_date":1553252765,"question_id":55298293,"body_markdown":"    String itemPath = &quot;/content/dam/global-abc/mcos/benefra/nl/custom/product-images/25-nl-107855/fact3.jpg&quot;;\r\n    \r\n    String thumbnailUrl = itemPath;\r\n    \r\n    if (assetManager != null) {                        \r\n       Asset asset = assetManager.getAsset(itemPath);\r\n    \r\n       thumbnailUrl = asset.listRenditions().hasNext() ?\r\n                      asset.listRenditions().next().getPath() : itemPath;\r\n       \r\n    }\r\n\r\n**asset.listRenditions().next().getPath() gives /content/dam/global-abc/mcos/benefra/nl/custom/product-images/25-nl-107855/fact3.jpg/jcr:content/renditions/cq5dam.thumbnail.48.48.png which will reduce the clarity of the image at UI end. Need to increase the resolution or get original image**\r\n","title":"DAM Asset Renditions - Getting cq5dam.thumbnail.48.48.png rendition but need the original rendition","body":"<pre><code>String itemPath = \"/content/dam/global-abc/mcos/benefra/nl/custom/product-images/25-nl-107855/fact3.jpg\";\n\nString thumbnailUrl = itemPath;\n\nif (assetManager != null) {                        \n   Asset asset = assetManager.getAsset(itemPath);\n\n   thumbnailUrl = asset.listRenditions().hasNext() ?\n                  asset.listRenditions().next().getPath() : itemPath;\n\n}\n</code></pre>\n\n<p><strong>asset.listRenditions().next().getPath() gives /content/dam/global-abc/mcos/benefra/nl/custom/product-images/25-nl-107855/fact3.jpg/jcr:content/renditions/cq5dam.thumbnail.48.48.png which will reduce the clarity of the image at UI end. Need to increase the resolution or get original image</strong></p>\n"},{"tags":["javascript","java","facebook","facebook-graph-api","htmlunit"],"comments":[{"owner":{"account_id":1530592,"reputation":92715,"user_id":1427878,"display_name":"CBroe"},"score":0,"creation_date":1676531985,"post_id":75463088,"comment_id":133156353,"body_markdown":"Trying to mess around with the image URL itself is not going to work. The _other_ answer in that thread you mentioned is the way to go.","body":"Trying to mess around with the image URL itself is not going to work. The <i>other</i> answer in that thread you mentioned is the way to go."}],"owner":{"account_id":15387165,"reputation":23,"user_id":14521298,"display_name":"Jade Kush"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":219,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676480267,"creation_date":1676480267,"question_id":75463088,"body_markdown":"I am trying to get the larger version from the thumbnail of a profile picture on Facebook.  \r\nIs this still achievable?  \r\nI have found an old solution but no longer works: https://stackoverflow.com/questions/26877568/how-to-get-larger-version-of-facebooks-thumbnail-images  \r\nWhen I try to simply change the size in the url (like old times) I get the following: \r\n\r\n```\r\nURL signature mismatch\r\n```\r\n\r\nFor instance, this is the inner element I have inspecting the thumbnail: \r\n\r\n```\r\n&lt;image x=&quot;0&quot; y=&quot;0&quot; height=&quot;100%&quot; preserveAspectRatio=&quot;xMidYMid slice&quot; width=&quot;100%&quot; xlink:href=&quot;https://scontent.fbri2-1.fna.fbcdn.net/v/t39.30808-1/311117637_10228232448266995_8684249587025903653_n.jpg?stp=cp0_dst-jpg_p60x60&amp;amp;_nc_cat=108&amp;amp;ccb=1-7&amp;amp;_nc_sid=7206a8&amp;amp;_nc_ohc=atKyZ3_RwVoAX8QrTbc&amp;amp;_nc_ht=scontent.fbri2-1.fna&amp;amp;oh=00_AfDr6aLZTybVIlYpRScHNxNi-RzWcNPmGabEnOLvT_wL8Q&amp;amp;oe=63F1CAE0&quot; style=&quot;height: 60px; width: 60px;&quot;&gt;&lt;/image&gt;\r\n```\r\n\r\nHowever I have no idea how to get the larger size from that link.  \r\nIf it&#39;s not possible, I guess the only way would be to programatically visit each profile and get the link of the larger profile picture.","title":"Getting larger version of Facebook&#39;s thumbnail images?","body":"<p>I am trying to get the larger version from the thumbnail of a profile picture on Facebook.<br />\nIs this still achievable?<br />\nI have found an old solution but no longer works: <a href=\"https://stackoverflow.com/questions/26877568/how-to-get-larger-version-of-facebooks-thumbnail-images\">How to get larger version of Facebook&#39;s thumbnail images?</a><br />\nWhen I try to simply change the size in the url (like old times) I get the following:</p>\n<pre><code>URL signature mismatch\n</code></pre>\n<p>For instance, this is the inner element I have inspecting the thumbnail:</p>\n<pre><code>&lt;image x=&quot;0&quot; y=&quot;0&quot; height=&quot;100%&quot; preserveAspectRatio=&quot;xMidYMid slice&quot; width=&quot;100%&quot; xlink:href=&quot;https://scontent.fbri2-1.fna.fbcdn.net/v/t39.30808-1/311117637_10228232448266995_8684249587025903653_n.jpg?stp=cp0_dst-jpg_p60x60&amp;amp;_nc_cat=108&amp;amp;ccb=1-7&amp;amp;_nc_sid=7206a8&amp;amp;_nc_ohc=atKyZ3_RwVoAX8QrTbc&amp;amp;_nc_ht=scontent.fbri2-1.fna&amp;amp;oh=00_AfDr6aLZTybVIlYpRScHNxNi-RzWcNPmGabEnOLvT_wL8Q&amp;amp;oe=63F1CAE0&quot; style=&quot;height: 60px; width: 60px;&quot;&gt;&lt;/image&gt;\n</code></pre>\n<p>However I have no idea how to get the larger size from that link.<br />\nIf it's not possible, I guess the only way would be to programatically visit each profile and get the link of the larger profile picture.</p>\n"},{"tags":["java","caching","redis-cache"],"owner":{"account_id":16899073,"reputation":1,"user_id":12220953,"display_name":"Pavlo Khomiak"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676480216,"creation_date":1676478249,"question_id":75462667,"body_markdown":"I configure first_cache and it works fine.\r\nBut when I want add second_cache in FirstCasheResolver CacheOperationInvocationContext has only one cache while RedisCacheManager has two caches.\r\nAlso SecondCacheResolver even not triggered. \r\nPlease help me. \r\n\r\nHere is my CacheConfiguration class\r\n\r\n```\r\n@EnableCaching\r\n@Configuration\r\npublic class CacheConfiguration {\r\n    public static final String FIRST_CACHE_NAME = &quot;first_cache&quot;;\r\n    public static final String SECOND_CACHE_NAME = &quot;second_cache&quot;;\r\n    private int defaultTokenExpirationTime = 1000;\r\n\r\n    @Bean\r\n    public RedisCacheManager redisCacheManager(RedisConnectionFactory redisConnectionFactory) {\r\n        return RedisCacheManager.builder(redisConnectionFactory)\r\n                .cacheDefaults(getDefaultRedisCacheConfiguration())\r\n                .withCacheConfiguration(FIRST_CACHE_NAME, getCustomRedisCacheConfiguration())\r\n                .withCacheConfiguration(SECOND_CACHE_NAME, getCustomRedisCacheConfiguration())\r\n                .build();\r\n    }\r\n\r\n    private RedisCacheConfiguration getDefaultRedisCacheConfiguration() {\r\n        return RedisCacheConfiguration.defaultCacheConfig().disableCachingNullValues();\r\n    }\r\n\r\n    private RedisCacheConfiguration getCustomRedisCacheConfiguration() {\r\n        return RedisCacheConfiguration.defaultCacheConfig().entryTtl(Duration.ofSeconds(defaultTokenExpirationTime));\r\n    }\r\n\r\n    @Bean(&quot;firstCacheResolver&quot;)\r\n    public CacheResolver firstCacheResolver(RedisCacheManager redisCacheManager) {\r\n        return new FirstCacheResolver(redisCacheManager);\r\n    }\r\n\r\n    @Bean(&quot;secondCacheResolver&quot;)\r\n    public CacheResolver secondCacheResolver(RedisCacheManager redisCacheManager) {\r\n        return new SecondCacheResolver(redisCacheManager);\r\n    }\r\n}\r\n```\r\n\r\nHere is my FirstCacheResolver class\r\n\r\n```\r\npublic class FirstCacheResolver extends SimpleCacheResolver {\r\n\r\n    public FirstCacheResolver(CacheManager cacheManager) {\r\n        super(cacheManager);\r\n    }\r\n\r\n    @Override\r\n    public Collection&lt;? extends Cache&gt; resolveCaches(CacheOperationInvocationContext&lt;?&gt; context) {\r\n        return super.resolveCaches(context).stream().toList();\r\n    }\r\n}\r\n```\r\nhere super.resolveCaches(context) returns list only one first_cache but CacheManager has first_cache and second_cache\r\n\r\nHere is my SecondCacheResolver class\r\n\r\n```\r\npublic class SecondCacheResolver extends SimpleCacheResolver {\r\n\r\n    public SecondCacheResolver(CacheManager cacheManager) {\r\n        super(cacheManager);\r\n    }\r\n\r\n    @Override\r\n    public Collection&lt;? extends Cache&gt; resolveCaches(CacheOperationInvocationContext&lt;?&gt; context) {\r\n        return super.resolveCaches(context).stream().toList();\r\n    }\r\n}\r\n```\r\nthis resolveCaches() method even not triggered\r\n\r\nhere is usage of both caches. They\r\n\r\n```\r\npublic class FirstClass {\r\n    @Cacheable(\r\n            cacheNames = {CacheConfiguration.FIRST_CACHE_NAME},\r\n            key = &quot;#params.get(&#39;first&#39;).get(0)&quot;,\r\n            cacheResolver = &quot;firstCacheResolver&quot;\r\n    )\r\n    public int getFirst(MultiValueMap&lt;String, Object&gt; params) {\r\n        // some logic\r\n    }\r\n}\r\n\r\n\r\n\r\npublic class SecondClass {\r\n    @Cacheable(\r\n            cacheNames = {CacheConfiguration.SECOND_CACHE_NAME},\r\n            key = &quot;#params.get(&#39;second&#39;).get(0)&quot;,\r\n            cacheResolver = &quot;secondCacheResolver&quot;\r\n    )\r\n    public int getSecond(MultiValueMap&lt;String, Object&gt; params) {\r\n        // some logic\r\n    }\r\n}\r\n\r\n```\r\n[cacheManager in debug][1]\r\n\r\nI try implement two caches with custom CacheResolvers.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/n6aRb.png","title":"Why triggered only one cache? (RedisCacheManager and CacheOperationInvocationContext issue)","body":"<p>I configure first_cache and it works fine.\nBut when I want add second_cache in FirstCasheResolver CacheOperationInvocationContext has only one cache while RedisCacheManager has two caches.\nAlso SecondCacheResolver even not triggered.\nPlease help me.</p>\n<p>Here is my CacheConfiguration class</p>\n<pre><code>@EnableCaching\n@Configuration\npublic class CacheConfiguration {\n    public static final String FIRST_CACHE_NAME = &quot;first_cache&quot;;\n    public static final String SECOND_CACHE_NAME = &quot;second_cache&quot;;\n    private int defaultTokenExpirationTime = 1000;\n\n    @Bean\n    public RedisCacheManager redisCacheManager(RedisConnectionFactory redisConnectionFactory) {\n        return RedisCacheManager.builder(redisConnectionFactory)\n                .cacheDefaults(getDefaultRedisCacheConfiguration())\n                .withCacheConfiguration(FIRST_CACHE_NAME, getCustomRedisCacheConfiguration())\n                .withCacheConfiguration(SECOND_CACHE_NAME, getCustomRedisCacheConfiguration())\n                .build();\n    }\n\n    private RedisCacheConfiguration getDefaultRedisCacheConfiguration() {\n        return RedisCacheConfiguration.defaultCacheConfig().disableCachingNullValues();\n    }\n\n    private RedisCacheConfiguration getCustomRedisCacheConfiguration() {\n        return RedisCacheConfiguration.defaultCacheConfig().entryTtl(Duration.ofSeconds(defaultTokenExpirationTime));\n    }\n\n    @Bean(&quot;firstCacheResolver&quot;)\n    public CacheResolver firstCacheResolver(RedisCacheManager redisCacheManager) {\n        return new FirstCacheResolver(redisCacheManager);\n    }\n\n    @Bean(&quot;secondCacheResolver&quot;)\n    public CacheResolver secondCacheResolver(RedisCacheManager redisCacheManager) {\n        return new SecondCacheResolver(redisCacheManager);\n    }\n}\n</code></pre>\n<p>Here is my FirstCacheResolver class</p>\n<pre><code>public class FirstCacheResolver extends SimpleCacheResolver {\n\n    public FirstCacheResolver(CacheManager cacheManager) {\n        super(cacheManager);\n    }\n\n    @Override\n    public Collection&lt;? extends Cache&gt; resolveCaches(CacheOperationInvocationContext&lt;?&gt; context) {\n        return super.resolveCaches(context).stream().toList();\n    }\n}\n</code></pre>\n<p>here super.resolveCaches(context) returns list only one first_cache but CacheManager has first_cache and second_cache</p>\n<p>Here is my SecondCacheResolver class</p>\n<pre><code>public class SecondCacheResolver extends SimpleCacheResolver {\n\n    public SecondCacheResolver(CacheManager cacheManager) {\n        super(cacheManager);\n    }\n\n    @Override\n    public Collection&lt;? extends Cache&gt; resolveCaches(CacheOperationInvocationContext&lt;?&gt; context) {\n        return super.resolveCaches(context).stream().toList();\n    }\n}\n</code></pre>\n<p>this resolveCaches() method even not triggered</p>\n<p>here is usage of both caches. They</p>\n<pre><code>public class FirstClass {\n    @Cacheable(\n            cacheNames = {CacheConfiguration.FIRST_CACHE_NAME},\n            key = &quot;#params.get('first').get(0)&quot;,\n            cacheResolver = &quot;firstCacheResolver&quot;\n    )\n    public int getFirst(MultiValueMap&lt;String, Object&gt; params) {\n        // some logic\n    }\n}\n\n\n\npublic class SecondClass {\n    @Cacheable(\n            cacheNames = {CacheConfiguration.SECOND_CACHE_NAME},\n            key = &quot;#params.get('second').get(0)&quot;,\n            cacheResolver = &quot;secondCacheResolver&quot;\n    )\n    public int getSecond(MultiValueMap&lt;String, Object&gt; params) {\n        // some logic\n    }\n}\n\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/n6aRb.png\" rel=\"nofollow noreferrer\">cacheManager in debug</a></p>\n<p>I try implement two caches with custom CacheResolvers.</p>\n"},{"tags":["java","maven","intellij-idea","javafx","fxml"],"comments":[{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":1,"creation_date":1676478254,"post_id":75462287,"comment_id":133145890,"body_markdown":"*“There are similar questions asked but none of them helped me.”* -&gt; edit the question, link them. Follow a pattern from the [eden JavaFX resource guide](https://edencoding.com/where-to-put-resource-files-in-javafx/).  You don’t need (should not have) a resources section in your pom.xml. No useful guide would have done that.","body":"<i>“There are similar questions asked but none of them helped me.”</i> -&gt; edit the question, link them. Follow a pattern from the <a href=\"https://edencoding.com/where-to-put-resource-files-in-javafx/\" rel=\"nofollow noreferrer\">eden JavaFX resource guide</a>.  You don’t need (should not have) a resources section in your pom.xml. No useful guide would have done that."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":2,"creation_date":1676478804,"post_id":75462287,"comment_id":133146069,"body_markdown":"It&#39;s not the cause of the problem, but specifying multiple resource directories, some of which are subdirectories of others, is highly confusing, and I&#39;m not sure how this will be handled. Specifying just the top-level directory (`src/main/resources`) will include all subdirectories, so just the first `&lt;resource&gt;` entry should suffice. Since that is the default, omitting the `&lt;resources&gt;` entirely from the pom.xml will produce the correct results.","body":"It&#39;s not the cause of the problem, but specifying multiple resource directories, some of which are subdirectories of others, is highly confusing, and I&#39;m not sure how this will be handled. Specifying just the top-level directory (<code>src&#47;main&#47;resources</code>) will include all subdirectories, so just the first <code>&lt;resource&gt;</code> entry should suffice. Since that is the default, omitting the <code>&lt;resources&gt;</code> entirely from the pom.xml will produce the correct results."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1676479600,"post_id":75462287,"comment_id":133146337,"body_markdown":"*&quot;I&#39;m not sure how this will be handled. &quot;* Actually, looking at your screenshots, this is simply being taken literally. Note that the content of all the directories you specified are being copied into the root of the classpath. This means elements will be duplicated (or worse): you have `sign-up-logo.png` in the root of the classpath (from `src/main/resources/com/app/converter/fxml/images`), in `images/sign-up-logo.png` (from `src/main/resources/com/app/converter/fxml`), and in the correct place, `com/app/converter/fxml/images/sign-up-logo.png` (from `/src/main/resources`).","body":"<i>&quot;I&#39;m not sure how this will be handled. &quot;</i> Actually, looking at your screenshots, this is simply being taken literally. Note that the content of all the directories you specified are being copied into the root of the classpath. This means elements will be duplicated (or worse): you have <code>sign-up-logo.png</code> in the root of the classpath (from <code>src&#47;main&#47;resources&#47;com&#47;app&#47;converter&#47;fxml&#47;images</code>), in <code>images&#47;sign-up-logo.png</code> (from <code>src&#47;main&#47;resources&#47;com&#47;app&#47;converter&#47;fxml</code>), and in the correct place, <code>com&#47;app&#47;converter&#47;fxml&#47;images&#47;sign-up-logo.png</code> (from <code>&#47;src&#47;main&#47;resources</code>)."},{"owner":{"account_id":19323078,"reputation":11,"user_id":14126355,"display_name":"Vidhan"},"score":0,"creation_date":1676482838,"post_id":75462287,"comment_id":133147386,"body_markdown":"I have implemented your suggestions and everything (except files under config folder) is working fine with no duplicates files either. I am unable to obtain URL object for files under config folder whereas fxml files under fxml folder are being recognized.","body":"I have implemented your suggestions and everything (except files under config folder) is working fine with no duplicates files either. I am unable to obtain URL object for files under config folder whereas fxml files under fxml folder are being recognized."},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1676489074,"post_id":75462287,"comment_id":133149174,"body_markdown":"Config handing is a different issue, you can ask a new question (with a custom, complete and specific [mcve]) specifically about that if needed.  Also there are various questions on StackOverflow on options for dealing with config.  Often config needs to be modified post deployment, which means the default config needs to be extracted from a jar or packaged separately and read from an external read/write location rather than a read only location in a jar.","body":"Config handing is a different issue, you can ask a new question (with a custom, complete and specific <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>) specifically about that if needed.  Also there are various questions on StackOverflow on options for dealing with config.  Often config needs to be modified post deployment, which means the default config needs to be extracted from a jar or packaged separately and read from an external read/write location rather than a read only location in a jar."},{"owner":{"account_id":19323078,"reputation":11,"user_id":14126355,"display_name":"Vidhan"},"score":0,"creation_date":1676565078,"post_id":75462287,"comment_id":133166664,"body_markdown":"I understand. I have followed the guide you provided and it was very helpful. I recommend future visitors to follow the guide for solving related issues.","body":"I understand. I have followed the guide you provided and it was very helpful. I recommend future visitors to follow the guide for solving related issues."}],"answers":[{"comments":[{"owner":{"account_id":19323078,"reputation":11,"user_id":14126355,"display_name":"Vidhan"},"score":0,"creation_date":1676482586,"post_id":75462729,"comment_id":133147315,"body_markdown":"Thankyou. I have got more clarity on the topic as a whole as I am still new in Java and Javafx world. As for why I am looking for this specific way is because somewhere I read that in JAR executable, getResources() method may not work whereas getResourcesAsStream() method will work.","body":"Thankyou. I have got more clarity on the topic as a whole as I am still new in Java and Javafx world. As for why I am looking for this specific way is because somewhere I read that in JAR executable, getResources() method may not work whereas getResourcesAsStream() method will work."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":1,"creation_date":1676488975,"post_id":75462729,"comment_id":133149154,"body_markdown":"@Vidhan *&quot;I read that in JAR executable, getResources() method may not work whereas getResourcesAsStream() method will work.&quot;*. That&#39;s not true, as long as you are using a valid resource path. See https://stackoverflow.com/questions/61531317/how-do-i-determine-the-correct-path-for-fxml-files-css-files-images-and-other as well as the link in the first comment under the question.","body":"@Vidhan <i>&quot;I read that in JAR executable, getResources() method may not work whereas getResourcesAsStream() method will work.&quot;</i>. That&#39;s not true, as long as you are using a valid resource path. See <a href=\"https://stackoverflow.com/questions/61531317/how-do-i-determine-the-correct-path-for-fxml-files-css-files-images-and-other\" title=\"how do i determine the correct path for fxml files css files images and other\">stackoverflow.com/questions/61531317/&hellip;</a> as well as the link in the first comment under the question."}],"tags":[],"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"comment_count":2,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1676480200,"creation_date":1676478586,"answer_id":75462729,"question_id":75462287,"body_markdown":"&gt; Why the image fails to load with `getResourcesAsStream()` method but works fine using `getResources()` method?\r\n\r\n\r\nUsing URL [location resolution](https://openjfx.io/javadoc/19/javafx.fxml/javafx/fxml/doc-files/introduction_to_fxml.html#location_resolution) in the FXML file:\r\n\r\n    &lt;Image url=&quot;@images/sign-up-logo.png&quot; /&gt;\r\n\r\nwill attempt to resolve the URL relative to the location of the FXML file being parsed.\r\n\r\nThat location is only set if you use one of the FXML loading methods specifying a location, e.g. \r\n\r\n    URL url = ... ;\r\n    FMXLLoader.load(url);\r\n\r\nor\r\n\r\n    URL url = ... ;\r\n    FXMLLoader loader = new FXMLLoader(url);\r\n    loader.load();\r\n\r\netc.\r\n\r\nIf you load the FXML [specifying an `InputStream`](https://openjfx.io/javadoc/19/javafx.fxml/javafx/fxml/FXMLLoader.html#load(java.io.InputStream)), such as is returned by `getClass().getResourceAsStream()`, then the `FXMLLoader` will not have a `location` specified and will not be able to resolve any URLs specified in there. (In theory, the stream could even be dynamically generated, and might not even correspond to a location at all.)\r\n\r\nYou can see this from part of the stack trace:\r\n\r\n    null/images/sign-up-logo.png\r\n\r\n\r\nHere the `FXMLLoader` is appending `/images/sign-up-logo.png` to the location of the FXML; since that location is `null` (because you are loading by specifying a stream), the location makes no sense and the image cannot be loaded.\r\n\r\nThe solution is just to specify the URL (e.g. with `getClass().getResource()`), instead of a stream (e.g. with `getClass().getResourceAsStream()`).\r\n\r\nIf you really need to pass a stream, for some reason, and you are using location resolution in the FXML file, then the following should work:\r\n\r\n    String loc = ... ;\r\n    URL location = getClass().getResource(loc);\r\n    InputStream stream = getClass().getResourceAsStream(loc);\r\n    FXMLLoader loader = new FXMLLoader();\r\n    loader.setLocation(location);\r\n    Parent root = loader.load(stream);\r\n\r\nHowever, this is a strange usage. The code above is equivalent to\r\n\r\n    String loc = ... ;\r\n    URL location = getClass().getResource(loc);\r\n    FXMLLoader loader = new FXMLLoader(loc);\r\n    Parent root = loader.load();\r\n\r\nwhich I think is far preferable.\r\n\r\n","title":"IllegalArgumentException: Invalid URL or resource not found while loading FXML file in JavaFX","body":"<blockquote>\n<p>Why the image fails to load with <code>getResourcesAsStream()</code> method but works fine using <code>getResources()</code> method?</p>\n</blockquote>\n<p>Using URL <a href=\"https://openjfx.io/javadoc/19/javafx.fxml/javafx/fxml/doc-files/introduction_to_fxml.html#location_resolution\" rel=\"nofollow noreferrer\">location resolution</a> in the FXML file:</p>\n<pre><code>&lt;Image url=&quot;@images/sign-up-logo.png&quot; /&gt;\n</code></pre>\n<p>will attempt to resolve the URL relative to the location of the FXML file being parsed.</p>\n<p>That location is only set if you use one of the FXML loading methods specifying a location, e.g.</p>\n<pre><code>URL url = ... ;\nFMXLLoader.load(url);\n</code></pre>\n<p>or</p>\n<pre><code>URL url = ... ;\nFXMLLoader loader = new FXMLLoader(url);\nloader.load();\n</code></pre>\n<p>etc.</p>\n<p>If you load the FXML <a href=\"https://openjfx.io/javadoc/19/javafx.fxml/javafx/fxml/FXMLLoader.html#load(java.io.InputStream)\" rel=\"nofollow noreferrer\">specifying an <code>InputStream</code></a>, such as is returned by <code>getClass().getResourceAsStream()</code>, then the <code>FXMLLoader</code> will not have a <code>location</code> specified and will not be able to resolve any URLs specified in there. (In theory, the stream could even be dynamically generated, and might not even correspond to a location at all.)</p>\n<p>You can see this from part of the stack trace:</p>\n<pre><code>null/images/sign-up-logo.png\n</code></pre>\n<p>Here the <code>FXMLLoader</code> is appending <code>/images/sign-up-logo.png</code> to the location of the FXML; since that location is <code>null</code> (because you are loading by specifying a stream), the location makes no sense and the image cannot be loaded.</p>\n<p>The solution is just to specify the URL (e.g. with <code>getClass().getResource()</code>), instead of a stream (e.g. with <code>getClass().getResourceAsStream()</code>).</p>\n<p>If you really need to pass a stream, for some reason, and you are using location resolution in the FXML file, then the following should work:</p>\n<pre><code>String loc = ... ;\nURL location = getClass().getResource(loc);\nInputStream stream = getClass().getResourceAsStream(loc);\nFXMLLoader loader = new FXMLLoader();\nloader.setLocation(location);\nParent root = loader.load(stream);\n</code></pre>\n<p>However, this is a strange usage. The code above is equivalent to</p>\n<pre><code>String loc = ... ;\nURL location = getClass().getResource(loc);\nFXMLLoader loader = new FXMLLoader(loc);\nParent root = loader.load();\n</code></pre>\n<p>which I think is far preferable.</p>\n"}],"owner":{"account_id":19323078,"reputation":11,"user_id":14126355,"display_name":"Vidhan"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":313,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1676480200,"creation_date":1676476351,"question_id":75462287,"body_markdown":"For context, I have a [Maven Project Structure](https://i.stack.imgur.com/sZVHG.png) in Intellij and also the [/target/classes/](https://i.stack.imgur.com/jAuhl.png)\r\n\r\nThe code where I am getting error:\r\n\r\n\r\n```\r\n@Override\r\n    public void start(Stage stage) throws IOException {\r\n\r\n        Parent root;\r\n        FXMLLoader fxmlLoader = new FXMLLoader();\r\n\r\n        // Below line has the problem of loading image inside fxml file.\r\n        root = fxmlLoader.load(getClass().getClassLoader().getResourceAsStream(&quot;AuthorizationPage.fxml&quot;));\r\n\r\n        // not used in code but below line returns inputstream object which is not null so the image loads fine\r\n           when independently verified.\r\n        // System.out.println(Objects.isNull(getClass().getClassLoader().getResourceAsStream(&quot;sign-up-logo.png&quot;)));\r\n\r\n        //Below Line works fine and loads fxml file correctly with images.\r\n        root = FXMLLoader.load(Objects.requireNonNull(getClass().getResource(&quot;/AuthorizationPage.fxml&quot;)));\r\n\r\n        Scene scene = new Scene(root);\r\n        stage.setScene(scene);\r\n\r\n        SceneManager sceneManager = SceneManager.getInstance(stage);\r\n        sceneManager.addScene(&quot;/AuthorizationPage.fxml&quot;, &quot;User Authorization&quot;);\r\n\r\n        if (!SessionManager.hasUserSessionFromLocalFileExpired()) {\r\n\r\n            sceneManager = SceneManager.getInstance(stage);\r\n            sceneManager.addScene(&quot;/convertor.fxml&quot;, &quot;Convert Pdf Documents&quot;);\r\n            sceneManager.activateScene(&quot;Convert Pdf Documents&quot;, &quot;Convert Pdf Documents&quot;, true, true);\r\n        } else {\r\n\r\n            sceneManager.activateScene(&quot;User Authorization&quot;, &quot;User Authorization&quot;, false, false);\r\n        }\r\n    }\r\n```\r\n\r\n\r\nThe stacktrace for the exception:\r\n\r\n```\r\nnull/images/sign-up-logo.png\r\nException in Application start method\r\njava.lang.reflect.InvocationTargetException\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat javafx.graphics@19.0.2/com.sun.javafx.application.LauncherImpl.launchApplicationWithArgs(LauncherImpl.java:465)\r\n\tat javafx.graphics@19.0.2/com.sun.javafx.application.LauncherImpl.launchApplication(LauncherImpl.java:364)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat java.base/sun.launcher.LauncherHelper$FXHelper.main(LauncherHelper.java:1082)\r\nCaused by: java.lang.RuntimeException: Exception in Application start method\r\n\tat javafx.graphics@19.0.2/com.sun.javafx.application.LauncherImpl.launchApplication1(LauncherImpl.java:901)\r\n\tat javafx.graphics@19.0.2/com.sun.javafx.application.LauncherImpl.lambda$launchApplication$2(LauncherImpl.java:196)\r\n\tat java.base/java.lang.Thread.run(Thread.java:833)\r\nCaused by: javafx.fxml.LoadException: \r\nunknown path:33\r\n\r\n\tat javafx.fxml@19.0.2/javafx.fxml.FXMLLoader.constructLoadException(FXMLLoader.java:2714)\r\n\tat javafx.fxml@19.0.2/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:2692)\r\n\tat javafx.fxml@19.0.2/javafx.fxml.FXMLLoader.load(FXMLLoader.java:2539)\r\n\tat com.javafxapp.javafxapplication/com.app.convertor.authorization.Main.start(Main.java:39)\r\n\tat javafx.graphics@19.0.2/com.sun.javafx.application.LauncherImpl.lambda$launchApplication1$9(LauncherImpl.java:847)\r\n\tat javafx.graphics@19.0.2/com.sun.javafx.application.PlatformImpl.lambda$runAndWait$12(PlatformImpl.java:484)\r\n\tat javafx.graphics@19.0.2/com.sun.javafx.application.PlatformImpl.lambda$runLater$10(PlatformImpl.java:457)\r\n\tat java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\r\n\tat javafx.graphics@19.0.2/com.sun.javafx.application.PlatformImpl.lambda$runLater$11(PlatformImpl.java:456)\r\n\tat javafx.graphics@19.0.2/com.sun.glass.ui.InvokeLaterDispatcher$Future.run(InvokeLaterDispatcher.java:96)\r\n\tat javafx.graphics@19.0.2/com.sun.glass.ui.win.WinApplication._runLoop(Native Method)\r\n\tat javafx.graphics@19.0.2/com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:184)\r\n\t... 1 more\r\nCaused by: java.lang.IllegalArgumentException: Invalid URL: Invalid URL or resource not found\r\n\tat javafx.graphics@19.0.2/javafx.scene.image.Image.validateUrl(Image.java:1138)\r\n\tat javafx.graphics@19.0.2/javafx.scene.image.Image.&lt;init&gt;(Image.java:695)\r\n\tat javafx.fxml@19.0.2/com.sun.javafx.fxml.builder.JavaFXImageBuilder.build(JavaFXImageBuilder.java:47)\r\n\tat javafx.fxml@19.0.2/com.sun.javafx.fxml.builder.JavaFXImageBuilder.build(JavaFXImageBuilder.java:37)\r\n\tat javafx.fxml@19.0.2/javafx.fxml.FXMLLoader$ValueElement.processEndElement(FXMLLoader.java:774)\r\n\tat javafx.fxml@19.0.2/javafx.fxml.FXMLLoader.processEndElement(FXMLLoader.java:2961)\r\n\tat javafx.fxml@19.0.2/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:2646)\r\n\t... 11 more\r\nCaused by: java.lang.IllegalArgumentException: Invalid URL or resource not found\r\n\tat javafx.graphics@19.0.2/javafx.scene.image.Image.validateUrl(Image.java:1123)\r\n\t... 17 more\r\nException running application com.app.convertor.authorization.Main\r\n\r\nProcess finished with exit code 1\r\n```\r\n\r\nfxml snippet:\r\n\r\n\r\n```\r\n&lt;HBox prefHeight=&quot;100.0&quot; prefWidth=&quot;200.0&quot;&gt;\r\n                     &lt;children&gt;\r\n                        &lt;AnchorPane prefHeight=&quot;200.0&quot; prefWidth=&quot;200.0&quot; HBox.hgrow=&quot;ALWAYS&quot;&gt;\r\n                           &lt;children&gt;\r\n                              &lt;ImageView fitHeight=&quot;108.0&quot; fitWidth=&quot;101.0&quot; layoutX=&quot;270.0&quot; pickOnBounds=&quot;true&quot; preserveRatio=&quot;true&quot;&gt;\r\n                                 &lt;image&gt;\r\n                                    &lt;Image url=&quot;@images/sign-up-logo.png&quot; /&gt;\r\n                                 &lt;/image&gt;\r\n                              &lt;/ImageView&gt;\r\n                           &lt;/children&gt;\r\n                        &lt;/AnchorPane&gt;\r\n                     &lt;/children&gt;\r\n                  &lt;/HBox&gt;\r\n```\r\nMaven pom file snippet:\r\n\r\n\r\n```\r\n&lt;resources&gt;\r\n            &lt;resource&gt;\r\n                &lt;directory&gt;src/main/resources&lt;/directory&gt;\r\n            &lt;/resource&gt;\r\n            &lt;resource&gt;\r\n                &lt;directory&gt;src/main/resources/com/app/convertor/config&lt;/directory&gt;\r\n            &lt;/resource&gt;\r\n            &lt;resource&gt;\r\n                &lt;directory&gt;src/main/resources/com/app/convertor/fxml/images&lt;/directory&gt;\r\n            &lt;/resource&gt;\r\n            &lt;resource&gt;\r\n                &lt;directory&gt;src/main/resources/com/app/convertor/fxml&lt;/directory&gt;\r\n            &lt;/resource&gt;\r\n&lt;/resources&gt;\r\n```\r\n\r\n\r\nWhy the image fails to load with `getResourcesAsStream()` method but works fine using `getResources()` method? I checked if `getResourcesAsStream()` returns `null`, but it identifies fxml file correctly from resource folder. What I am getting wrong and what should I do to load fxml file correctly? There are similar questions asked but none of them helped me.","title":"IllegalArgumentException: Invalid URL or resource not found while loading FXML file in JavaFX","body":"<p>For context, I have a <a href=\"https://i.stack.imgur.com/sZVHG.png\" rel=\"nofollow noreferrer\">Maven Project Structure</a> in Intellij and also the <a href=\"https://i.stack.imgur.com/jAuhl.png\" rel=\"nofollow noreferrer\">/target/classes/</a></p>\n<p>The code where I am getting error:</p>\n<pre><code>@Override\n    public void start(Stage stage) throws IOException {\n\n        Parent root;\n        FXMLLoader fxmlLoader = new FXMLLoader();\n\n        // Below line has the problem of loading image inside fxml file.\n        root = fxmlLoader.load(getClass().getClassLoader().getResourceAsStream(&quot;AuthorizationPage.fxml&quot;));\n\n        // not used in code but below line returns inputstream object which is not null so the image loads fine\n           when independently verified.\n        // System.out.println(Objects.isNull(getClass().getClassLoader().getResourceAsStream(&quot;sign-up-logo.png&quot;)));\n\n        //Below Line works fine and loads fxml file correctly with images.\n        root = FXMLLoader.load(Objects.requireNonNull(getClass().getResource(&quot;/AuthorizationPage.fxml&quot;)));\n\n        Scene scene = new Scene(root);\n        stage.setScene(scene);\n\n        SceneManager sceneManager = SceneManager.getInstance(stage);\n        sceneManager.addScene(&quot;/AuthorizationPage.fxml&quot;, &quot;User Authorization&quot;);\n\n        if (!SessionManager.hasUserSessionFromLocalFileExpired()) {\n\n            sceneManager = SceneManager.getInstance(stage);\n            sceneManager.addScene(&quot;/convertor.fxml&quot;, &quot;Convert Pdf Documents&quot;);\n            sceneManager.activateScene(&quot;Convert Pdf Documents&quot;, &quot;Convert Pdf Documents&quot;, true, true);\n        } else {\n\n            sceneManager.activateScene(&quot;User Authorization&quot;, &quot;User Authorization&quot;, false, false);\n        }\n    }\n</code></pre>\n<p>The stacktrace for the exception:</p>\n<pre><code>null/images/sign-up-logo.png\nException in Application start method\njava.lang.reflect.InvocationTargetException\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at javafx.graphics@19.0.2/com.sun.javafx.application.LauncherImpl.launchApplicationWithArgs(LauncherImpl.java:465)\n    at javafx.graphics@19.0.2/com.sun.javafx.application.LauncherImpl.launchApplication(LauncherImpl.java:364)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at java.base/sun.launcher.LauncherHelper$FXHelper.main(LauncherHelper.java:1082)\nCaused by: java.lang.RuntimeException: Exception in Application start method\n    at javafx.graphics@19.0.2/com.sun.javafx.application.LauncherImpl.launchApplication1(LauncherImpl.java:901)\n    at javafx.graphics@19.0.2/com.sun.javafx.application.LauncherImpl.lambda$launchApplication$2(LauncherImpl.java:196)\n    at java.base/java.lang.Thread.run(Thread.java:833)\nCaused by: javafx.fxml.LoadException: \nunknown path:33\n\n    at javafx.fxml@19.0.2/javafx.fxml.FXMLLoader.constructLoadException(FXMLLoader.java:2714)\n    at javafx.fxml@19.0.2/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:2692)\n    at javafx.fxml@19.0.2/javafx.fxml.FXMLLoader.load(FXMLLoader.java:2539)\n    at com.javafxapp.javafxapplication/com.app.convertor.authorization.Main.start(Main.java:39)\n    at javafx.graphics@19.0.2/com.sun.javafx.application.LauncherImpl.lambda$launchApplication1$9(LauncherImpl.java:847)\n    at javafx.graphics@19.0.2/com.sun.javafx.application.PlatformImpl.lambda$runAndWait$12(PlatformImpl.java:484)\n    at javafx.graphics@19.0.2/com.sun.javafx.application.PlatformImpl.lambda$runLater$10(PlatformImpl.java:457)\n    at java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\n    at javafx.graphics@19.0.2/com.sun.javafx.application.PlatformImpl.lambda$runLater$11(PlatformImpl.java:456)\n    at javafx.graphics@19.0.2/com.sun.glass.ui.InvokeLaterDispatcher$Future.run(InvokeLaterDispatcher.java:96)\n    at javafx.graphics@19.0.2/com.sun.glass.ui.win.WinApplication._runLoop(Native Method)\n    at javafx.graphics@19.0.2/com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:184)\n    ... 1 more\nCaused by: java.lang.IllegalArgumentException: Invalid URL: Invalid URL or resource not found\n    at javafx.graphics@19.0.2/javafx.scene.image.Image.validateUrl(Image.java:1138)\n    at javafx.graphics@19.0.2/javafx.scene.image.Image.&lt;init&gt;(Image.java:695)\n    at javafx.fxml@19.0.2/com.sun.javafx.fxml.builder.JavaFXImageBuilder.build(JavaFXImageBuilder.java:47)\n    at javafx.fxml@19.0.2/com.sun.javafx.fxml.builder.JavaFXImageBuilder.build(JavaFXImageBuilder.java:37)\n    at javafx.fxml@19.0.2/javafx.fxml.FXMLLoader$ValueElement.processEndElement(FXMLLoader.java:774)\n    at javafx.fxml@19.0.2/javafx.fxml.FXMLLoader.processEndElement(FXMLLoader.java:2961)\n    at javafx.fxml@19.0.2/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:2646)\n    ... 11 more\nCaused by: java.lang.IllegalArgumentException: Invalid URL or resource not found\n    at javafx.graphics@19.0.2/javafx.scene.image.Image.validateUrl(Image.java:1123)\n    ... 17 more\nException running application com.app.convertor.authorization.Main\n\nProcess finished with exit code 1\n</code></pre>\n<p>fxml snippet:</p>\n<pre><code>&lt;HBox prefHeight=&quot;100.0&quot; prefWidth=&quot;200.0&quot;&gt;\n                     &lt;children&gt;\n                        &lt;AnchorPane prefHeight=&quot;200.0&quot; prefWidth=&quot;200.0&quot; HBox.hgrow=&quot;ALWAYS&quot;&gt;\n                           &lt;children&gt;\n                              &lt;ImageView fitHeight=&quot;108.0&quot; fitWidth=&quot;101.0&quot; layoutX=&quot;270.0&quot; pickOnBounds=&quot;true&quot; preserveRatio=&quot;true&quot;&gt;\n                                 &lt;image&gt;\n                                    &lt;Image url=&quot;@images/sign-up-logo.png&quot; /&gt;\n                                 &lt;/image&gt;\n                              &lt;/ImageView&gt;\n                           &lt;/children&gt;\n                        &lt;/AnchorPane&gt;\n                     &lt;/children&gt;\n                  &lt;/HBox&gt;\n</code></pre>\n<p>Maven pom file snippet:</p>\n<pre><code>&lt;resources&gt;\n            &lt;resource&gt;\n                &lt;directory&gt;src/main/resources&lt;/directory&gt;\n            &lt;/resource&gt;\n            &lt;resource&gt;\n                &lt;directory&gt;src/main/resources/com/app/convertor/config&lt;/directory&gt;\n            &lt;/resource&gt;\n            &lt;resource&gt;\n                &lt;directory&gt;src/main/resources/com/app/convertor/fxml/images&lt;/directory&gt;\n            &lt;/resource&gt;\n            &lt;resource&gt;\n                &lt;directory&gt;src/main/resources/com/app/convertor/fxml&lt;/directory&gt;\n            &lt;/resource&gt;\n&lt;/resources&gt;\n</code></pre>\n<p>Why the image fails to load with <code>getResourcesAsStream()</code> method but works fine using <code>getResources()</code> method? I checked if <code>getResourcesAsStream()</code> returns <code>null</code>, but it identifies fxml file correctly from resource folder. What I am getting wrong and what should I do to load fxml file correctly? There are similar questions asked but none of them helped me.</p>\n"},{"tags":["java","pdf","itext","base64"],"comments":[{"owner":{"account_id":9899349,"reputation":20524,"user_id":7329832,"display_name":"jps"},"score":0,"creation_date":1676480453,"post_id":75463020,"comment_id":133146673,"body_markdown":"*Converting the Base64 to a byte array and writing that to the outputStream* - yes, that&#39;s basically what you have to do. If this doesn&#39;t work, the next question would be what does the Base64 look like?","body":"<i>Converting the Base64 to a byte array and writing that to the outputStream</i> - yes, that&#39;s basically what you have to do. If this doesn&#39;t work, the next question would be what does the Base64 look like?"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1676481755,"post_id":75463020,"comment_id":133147076,"body_markdown":"`Base64.Decoder.wrap` would be better (there&#39;s no need to read the whole file into memory)","body":"<code>Base64.Decoder.wrap</code> would be better (there&#39;s no need to read the whole file into memory)"},{"owner":{"account_id":1870797,"reputation":473,"user_id":1693060,"accept_rate":27,"display_name":"james2611nov"},"score":0,"creation_date":1676482614,"post_id":75463020,"comment_id":133147328,"body_markdown":"Doing so leaves a corrupted pdf saying &#39;We can&#39;t open this file&#39;. I am able to decode and save it to a .tiff fine. Just not PDF. The Base64 is a report so it contains some image formatting as well besides text.","body":"Doing so leaves a corrupted pdf saying &#39;We can&#39;t open this file&#39;. I am able to decode and save it to a .tiff fine. Just not PDF. The Base64 is a report so it contains some image formatting as well besides text."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1676491341,"post_id":75463020,"comment_id":133149743,"body_markdown":"Well it would be useful to see a small example of one of these base64 strings","body":"Well it would be useful to see a small example of one of these base64 strings"},{"owner":{"account_id":1870797,"reputation":473,"user_id":1693060,"accept_rate":27,"display_name":"james2611nov"},"score":0,"creation_date":1676565046,"post_id":75463020,"comment_id":133166656,"body_markdown":"Unfortunately I can&#39;t paste the Base64 here but when I try to decode it through base64decode.org it gives me some special characters hinting something is wierd with this incoming Base64. Uploaded snippet snapshot here: https://ibb.co/9yz4D45","body":"Unfortunately I can&#39;t paste the Base64 here but when I try to decode it through base64decode.org it gives me some special characters hinting something is wierd with this incoming Base64. Uploaded snippet snapshot here: <a href=\"https://ibb.co/9yz4D45\" rel=\"nofollow noreferrer\">ibb.co/9yz4D45</a>"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1676567902,"post_id":75463020,"comment_id":133167598,"body_markdown":"That&#39;s not really helpful at all, since there&#39;s no knowing what you told that site about how to decode it. It *looks* as though you might have told it to decode it *as a string*. That&#39;s not going to work if it&#39;s a pdf file. You should paste *a* pdf file that reproduces the problem but with no sensitive info","body":"That&#39;s not really helpful at all, since there&#39;s no knowing what you told that site about how to decode it. It <i>looks</i> as though you might have told it to decode it <i>as a string</i>. That&#39;s not going to work if it&#39;s a pdf file. You should paste <i>a</i> pdf file that reproduces the problem but with no sensitive info"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1676570773,"post_id":75463020,"comment_id":133168429,"body_markdown":"Actually I&#39;m getting confused: *I have a use-case where I am sent Base64 encoded String that needs to be saved as PDF.* If it&#39;s an encoded *string* why is it base64-encoded? Base64 is for binary content","body":"Actually I&#39;m getting confused: <i>I have a use-case where I am sent Base64 encoded String that needs to be saved as PDF.</i> If it&#39;s an encoded <i>string</i> why is it base64-encoded? Base64 is for binary content"},{"owner":{"account_id":1870797,"reputation":473,"user_id":1693060,"accept_rate":27,"display_name":"james2611nov"},"score":0,"creation_date":1676581184,"post_id":75463020,"comment_id":133171301,"body_markdown":"I get it as a part of an interface. It starts with this `^IM^TIFF^Base64^JVBERi0xLjcNC.....blah`. I am able to decode and save it as .tiff however I would like that option to save as a PDF if it has multiple pages in the same report.","body":"I get it as a part of an interface. It starts with this <code>^IM^TIFF^Base64^JVBERi0xLjcNC.....blah</code>. I am able to decode and save it as .tiff however I would like that option to save as a PDF if it has multiple pages in the same report."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1676637201,"post_id":75463020,"comment_id":133182201,"body_markdown":"You can&#39;t &quot;save as&quot; a pdf. You need to take the tif and encapsulate the image(s) in a pdf document you created","body":"You can&#39;t &quot;save as&quot; a pdf. You need to take the tif and encapsulate the image(s) in a pdf document you created"}],"owner":{"account_id":1870797,"reputation":473,"user_id":1693060,"accept_rate":27,"display_name":"james2611nov"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":424,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676479912,"creation_date":1676479912,"question_id":75463020,"body_markdown":"I am exploring usage of iText maven dependency to generate a pdf from the below code.   \r\n\r\n    try {\r\n         \r\n\tDocument document = new Document();\r\n \tOutputStream outputStream = \r\n\t\tnew FileOutputStream(new File(&quot;C:\\\\ImageTester\\\\samplePDF.pdf&quot;));\r\n        \r\n        PdfWriter.getInstance(document, outputStream);\r\n        //Open the document\r\n        document.open();\r\n        document.add(new Paragraph(&quot;Hello world &quot;);\r\n \r\n        //Close document and outputStream.\r\n        document.close();\r\n        outputStream.close();\r\n \r\n        System.out.println(&quot;Pdf created successfully.&quot;);\r\n    } catch (Exception e) {\r\n\te.printStackTrace();\r\n    }  \r\nMaven:  \r\n\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.itextpdf&lt;/groupId&gt;\r\n                &lt;artifactId&gt;itextpdf&lt;/artifactId&gt;\r\n                &lt;version&gt;5.5.10&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n\r\nThis above works fine and generate the PDF. However, I have a use-case where I am sent Base64 encoded String that needs to be saved as PDF. How do I this? Converting the Base64 to a byte array and writing that to the outputStream generates the a corrupted PDF.    \r\n  \r\n\r\n    byte[] bytes = Base64.getDecoder().decode(b64String);\r\n\toutputStream.write(bytes);\r\n\tPdfWriter.getInstance(document, outputStream);\r\n\r\n","title":"Create pdf java from base64","body":"<p>I am exploring usage of iText maven dependency to generate a pdf from the below code.</p>\n<pre><code>try {\n     \nDocument document = new Document();\nOutputStream outputStream = \n    new FileOutputStream(new File(&quot;C:\\\\ImageTester\\\\samplePDF.pdf&quot;));\n    \n    PdfWriter.getInstance(document, outputStream);\n    //Open the document\n    document.open();\n    document.add(new Paragraph(&quot;Hello world &quot;);\n\n    //Close document and outputStream.\n    document.close();\n    outputStream.close();\n\n    System.out.println(&quot;Pdf created successfully.&quot;);\n} catch (Exception e) {\ne.printStackTrace();\n}  \n</code></pre>\n<p>Maven:</p>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;com.itextpdf&lt;/groupId&gt;\n            &lt;artifactId&gt;itextpdf&lt;/artifactId&gt;\n            &lt;version&gt;5.5.10&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>This above works fine and generate the PDF. However, I have a use-case where I am sent Base64 encoded String that needs to be saved as PDF. How do I this? Converting the Base64 to a byte array and writing that to the outputStream generates the a corrupted PDF.</p>\n<pre><code>byte[] bytes = Base64.getDecoder().decode(b64String);\noutputStream.write(bytes);\nPdfWriter.getInstance(document, outputStream);\n</code></pre>\n"},{"tags":["java","apache-commons-csv","apache-commons-dbutils"],"owner":{"account_id":12824901,"reputation":1708,"user_id":9278333,"display_name":"trilogy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":75,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676479629,"creation_date":1676479629,"question_id":75462956,"body_markdown":"    public List&lt;Map&lt;String, Object&gt;&gt; getReport()\r\n    {\r\n        Connection connection = createConnection();\r\n        List&lt;Map&lt;String, Object&gt;&gt; sqlReport = new ArrayList&lt;&gt;();\r\n        if (connection == null)\r\n        {\r\n            return sqlReport;\r\n        }\r\n\r\n        try\r\n        {\r\n\r\n            sqlReport = new QueryRunner().query(connection, &quot;SELECT * FROM TABLE&quot;, new MapListHandler());\r\n\r\n        } catch (SQLException ex)\r\n        {\r\n            Logger.getLogger(SQLManager.class.getName()).log(Level.SEVERE, null, ex);\r\n\r\n        } finally\r\n        {\r\n\r\n            try\r\n            {\r\n                DbUtils.close(connection);\r\n\r\n            } catch (SQLException ex)\r\n            {\r\n                Logger.getLogger(SQLManager.class.getName()).log(Level.SEVERE, null, ex);\r\n\r\n            }\r\n\r\n        }\r\n        return sqlReport;\r\n    }\r\n\r\n\r\n\r\nThis code will return an `Array` of `HashMap`s.  The issue is, I want to save this to CSV (using Apache Commons CSV), but the key values in a `Hashmap` are not ensured to retain order. How do I retain ordering of the columns? I know using a `LinkedHashMap` will do it... but I don&#39;t think dbutils will convert it to this.","title":"Apache Commons DBUtils MapListHandler to get List&lt;Map&lt;String,Object&gt;&gt; How do you save to CSV using Apache Commons CSV","body":"<pre><code>public List&lt;Map&lt;String, Object&gt;&gt; getReport()\n{\n    Connection connection = createConnection();\n    List&lt;Map&lt;String, Object&gt;&gt; sqlReport = new ArrayList&lt;&gt;();\n    if (connection == null)\n    {\n        return sqlReport;\n    }\n\n    try\n    {\n\n        sqlReport = new QueryRunner().query(connection, &quot;SELECT * FROM TABLE&quot;, new MapListHandler());\n\n    } catch (SQLException ex)\n    {\n        Logger.getLogger(SQLManager.class.getName()).log(Level.SEVERE, null, ex);\n\n    } finally\n    {\n\n        try\n        {\n            DbUtils.close(connection);\n\n        } catch (SQLException ex)\n        {\n            Logger.getLogger(SQLManager.class.getName()).log(Level.SEVERE, null, ex);\n\n        }\n\n    }\n    return sqlReport;\n}\n</code></pre>\n<p>This code will return an <code>Array</code> of <code>HashMap</code>s.  The issue is, I want to save this to CSV (using Apache Commons CSV), but the key values in a <code>Hashmap</code> are not ensured to retain order. How do I retain ordering of the columns? I know using a <code>LinkedHashMap</code> will do it... but I don't think dbutils will convert it to this.</p>\n"},{"tags":["java","android","firebase","crashlytics"],"comments":[{"owner":{"account_id":22616962,"reputation":3155,"user_id":16796366,"display_name":"Nitish"},"score":1,"creation_date":1676464846,"post_id":75459758,"comment_id":133141060,"body_markdown":"`// When using the BoM, you don&#39;t specify versions in Firebase library dependencies` -  Also from [firebase bom](https://firebase.google.com/support/release-notes/android#2023-02-10) release notes it seems support for `18.3.4` was added in latest version, Try using latest versions or compatible versions of library","body":"<code>&#47;&#47; When using the BoM, you don&#39;t specify versions in Firebase library dependencies</code> -  Also from <a href=\"https://firebase.google.com/support/release-notes/android#2023-02-10\" rel=\"nofollow noreferrer\">firebase bom</a> release notes it seems support for <code>18.3.4</code> was added in latest version, Try using latest versions or compatible versions of library"},{"owner":{"account_id":25966661,"reputation":49,"user_id":19682526,"display_name":"Katlego"},"score":0,"creation_date":1676478847,"post_id":75459758,"comment_id":133146086,"body_markdown":"@Nitish Oh I see, actually that did solve the issue, I upgraded the BoM version and removed the version of the firebase products and the application built and ran successfully","body":"@Nitish Oh I see, actually that did solve the issue, I upgraded the BoM version and removed the version of the firebase products and the application built and ran successfully"}],"answers":[{"tags":[],"owner":{"account_id":25966661,"reputation":49,"user_id":19682526,"display_name":"Katlego"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1676479546,"creation_date":1676479546,"answer_id":75462936,"question_id":75459758,"body_markdown":"As commented by @Nitish, the BoM version did not support that version of Crashlytics. So I have updated the BoM version and removed the versions on the specific product version. My app build.gradle dependencies now look like this:\r\n\r\n    dependencies { ....\r\n    implementation platform(&#39;com.google.firebase:firebase-bom:31.2.0&#39;)\r\n\r\n    implementation &#39;com.google.firebase:firebase-analytics&#39;\r\n    implementation &#39;com.google.firebase:firebase-database&#39;\r\n    implementation &#39;com.google.firebase:firebase-messaging&#39;\r\n    implementation &#39;com.google.firebase:firebase-crashlytics&#39; ....\r\n\r\nIn line with the latest release by the time of writing taken from [Firebase][1] and the app now builds and runs without crashing on start up. [Firebase][2] also shows here that I did not have to specify the version for the specific firebase products.\r\n\r\n\r\n  [1]: https://firebase.google.com/support/release-notes/android#2023-02-10\r\n  [2]: https://firebase.google.com/docs/android/learn-more","title":"Android application crashing when updating from firebase-crashlytics 18.3.3 to 18.3.4","body":"<p>As commented by @Nitish, the BoM version did not support that version of Crashlytics. So I have updated the BoM version and removed the versions on the specific product version. My app build.gradle dependencies now look like this:</p>\n<pre><code>dependencies { ....\nimplementation platform('com.google.firebase:firebase-bom:31.2.0')\n\nimplementation 'com.google.firebase:firebase-analytics'\nimplementation 'com.google.firebase:firebase-database'\nimplementation 'com.google.firebase:firebase-messaging'\nimplementation 'com.google.firebase:firebase-crashlytics' ....\n</code></pre>\n<p>In line with the latest release by the time of writing taken from <a href=\"https://firebase.google.com/support/release-notes/android#2023-02-10\" rel=\"nofollow noreferrer\">Firebase</a> and the app now builds and runs without crashing on start up. <a href=\"https://firebase.google.com/docs/android/learn-more\" rel=\"nofollow noreferrer\">Firebase</a> also shows here that I did not have to specify the version for the specific firebase products.</p>\n"}],"owner":{"account_id":25966661,"reputation":49,"user_id":19682526,"display_name":"Katlego"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":410,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1676479546,"creation_date":1676463839,"question_id":75459758,"body_markdown":"It seems that changing from\r\n`&#39;implementation com.google.firebase:firebase-crashlytics:18.3.3&#39;`\r\nto\r\n`&#39;implementation com.google.firebase:firebase-crashlytics:18.3.4&#39;`\r\nproduces the following crashlog when the app initialises. Is there any dependencies I could be missing? \r\n\r\n\r\n```\r\n2023-02-14 23:43:27.026 13135-13135/ I/MultiDex: VM has multidex support, MultiDex support library is disabled.\r\n2023-02-14 23:43:27.052 13135-13135/ D/AndroidRuntime: Shutting down VM\r\n2023-02-14 23:43:27.054 13135-13135/ E/AndroidRuntime: FATAL EXCEPTION: main\r\n    Process: , PID: 13135\r\n    java.lang.NoClassDefFoundError: Failed resolution of: Lcom/google/firebase/annotations/concurrent/Background;\r\n        at com.google.firebase.installations.FirebaseInstallationsRegistrar.getComponents(FirebaseInstallationsRegistrar.java:45)\r\n        at com.google.firebase.tracing.ComponentMonitor.processRegistrar(ComponentMonitor.java:28)\r\n        at com.google.firebase.components.ComponentRuntime.discoverComponents(ComponentRuntime.java:117)\r\n        at com.google.firebase.components.ComponentRuntime.&lt;init&gt;(ComponentRuntime.java:99)\r\n        at com.google.firebase.components.ComponentRuntime.&lt;init&gt;(ComponentRuntime.java:46)\r\n        at com.google.firebase.components.ComponentRuntime$Builder.build(ComponentRuntime.java:387)\r\n        at com.google.firebase.FirebaseApp.&lt;init&gt;(FirebaseApp.java:437)\r\n        at com.google.firebase.FirebaseApp.initializeApp(FirebaseApp.java:303)\r\n        at com.google.firebase.FirebaseApp.initializeApp(FirebaseApp.java:271)\r\n        at com.google.firebase.FirebaseApp.initializeApp(FirebaseApp.java:256)\r\n        at com.google.firebase.provider.FirebaseInitProvider.onCreate(FirebaseInitProvider.java:51)\r\n        at android.content.ContentProvider.attachInfo(ContentProvider.java:2404)\r\n        at android.content.ContentProvider.attachInfo(ContentProvider.java:2374)\r\n        at com.google.firebase.provider.FirebaseInitProvider.attachInfo(FirebaseInitProvider.java:45)\r\n        at android.app.ActivityThread.installProvider(ActivityThread.java:7422)\r\n        at android.app.ActivityThread.installContentProviders(ActivityThread.java:6939)\r\n        at android.app.ActivityThread.handleBindApplication(ActivityThread.java:6710)\r\n        at android.app.ActivityThread.access$1500(ActivityThread.java:247)\r\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2053)\r\n        at android.os.Handler.dispatchMessage(Handler.java:106)\r\n        at android.os.Looper.loopOnce(Looper.java:201)\r\n        at android.os.Looper.loop(Looper.java:288)\r\n        at android.app.ActivityThread.main(ActivityThread.java:7839)\r\n        at java.lang.reflect.Method.invoke(Native Method)\r\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:548)\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1003)\r\n     Caused by: java.lang.ClassNotFoundException: Didn&#39;t find class &quot;com.google.firebase.annotations.concurrent.Background&quot; on path: DexPathList[[zip file &quot;/data/app/~~s71FMMPQjbON5bHQXPtW2w==/-mUP09Nn8ZAhW8aCE_JxV8w==/base.apk&quot;],nativeLibraryDirectories=[/data/app/~~s71FMMPQjbON5bHQXPtW2w==/-mUP09Nn8ZAhW8aCE_JxV8w==/lib/x86_64, /data/app/~~s71FMMPQjbON5bHQXPtW2w==/-mUP09Nn8ZAhW8aCE_JxV8w==/base.apk!/lib/x86_64, /system/lib64, /system_ext/lib64]]\r\n        at dalvik.system.BaseDexClassLoader.findClass(BaseDexClassLoader.java:218)\r\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:379)\r\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:312)\r\n        at com.google.firebase.installations.FirebaseInstallationsRegistrar.getComponents(FirebaseInstallationsRegistrar.java:45)&#160;\r\n        at com.google.firebase.tracing.ComponentMonitor.processRegistrar(ComponentMonitor.java:28)&#160;\r\n        at com.google.firebase.components.ComponentRuntime.discoverComponents(ComponentRuntime.java:117)&#160;\r\n        at com.google.firebase.components.ComponentRuntime.&lt;init&gt;(ComponentRuntime.java:99)&#160;\r\n        at com.google.firebase.components.ComponentRuntime.&lt;init&gt;(ComponentRuntime.java:46)&#160;\r\n        at com.google.firebase.components.ComponentRuntime$Builder.build(ComponentRuntime.java:387)&#160;\r\n        at com.google.firebase.FirebaseApp.&lt;init&gt;(FirebaseApp.java:437)&#160;\r\n        at com.google.firebase.FirebaseApp.initializeApp(FirebaseApp.java:303)&#160;\r\n        at com.google.firebase.FirebaseApp.initializeApp(FirebaseApp.java:271)&#160;\r\n        at com.google.firebase.FirebaseApp.initializeApp(FirebaseApp.java:256)&#160;\r\n        at com.google.firebase.provider.FirebaseInitProvider.onCreate(FirebaseInitProvider.java:51)&#160;\r\n        at android.content.ContentProvider.attachInfo(ContentProvider.java:2404)&#160;\r\n        at android.content.ContentProvider.attachInfo(ContentProvider.java:2374)&#160;\r\n        at com.google.firebase.provider.FirebaseInitProvider.attachInfo(FirebaseInitProvider.java:45)&#160;\r\n        at android.app.ActivityThread.installProvider(ActivityThread.java:7422)&#160;\r\n        at android.app.ActivityThread.installContentProviders(ActivityThread.java:6939)&#160;\r\n        at android.app.ActivityThread.handleBindApplication(ActivityThread.java:6710)&#160;\r\n        at android.app.ActivityThread.access$1500(ActivityThread.java:247)&#160;\r\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2053)&#160;\r\n        at android.os.Handler.dispatchMessage(Handler.java:106)&#160;\r\n        at android.os.Looper.loopOnce(Looper.java:201)&#160;\r\n        at android.os.Looper.loop(Looper.java:288)&#160;\r\n        at android.app.ActivityThread.main(ActivityThread.java:7839)&#160;\r\n        at java.lang.reflect.Method.invoke(Native Method)&#160;\r\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:548)&#160;\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1003)&#160;\r\n2023-02-14 23:43:28.677 13135-13147/ W/System: A resource failed to call close. \r\n\r\n```\r\n\r\n\r\nmy module build.gradle has these dependencies \r\n\r\n```\r\ndependencies {\r\n    implementation platform(&#39;com.google.firebase:firebase-bom:30.4.1&#39;)\r\n\r\n    implementation &#39;androidx.multidex:multidex:2.0.1&#39;\r\n    implementation &#39;androidx.appcompat:appcompat:1.6.1&#39;\r\n    implementation &#39;com.google.android.material:material:1.8.0&#39;\r\n    implementation &#39;androidx.constraintlayout:constraintlayout:2.1.4&#39;\r\n    implementation &#39;androidx.navigation:navigation-fragment:2.5.3&#39;\r\n    implementation &#39;androidx.navigation:navigation-ui:2.5.3&#39;\r\n    implementation &#39;androidx.preference:preference:1.2.0&#39;\r\n    implementation &#39;androidx.legacy:legacy-support-v4:1.0.0&#39;\r\n    testImplementation &#39;junit:junit:4.13.2&#39;\r\n    androidTestImplementation &#39;androidx.test.ext:junit:1.1.5&#39;\r\n    androidTestImplementation &#39;androidx.test.espresso:espresso-core:3.5.1&#39;\r\n    implementation &#39;androidx.swiperefreshlayout:swiperefreshlayout:1.1.0&#39;\r\n    implementation &#39;com.android.volley:volley:1.2.1&#39;\r\n    implementation &#39;androidx.core:core:1.9.0&#39;\r\n\r\n    implementation &#39;com.google.firebase:firebase-analytics:21.2.0&#39;\r\n    implementation &#39;com.google.firebase:firebase-database:20.1.0&#39;\r\n    implementation &#39;com.google.firebase:firebase-messaging:23.1.1&#39;\r\n    implementation &#39;com.google.firebase:firebase-crashlytics:18.3.4&#39;\r\n\r\n    implementation &#39;com.google.android.gms:play-services-maps:18.1.0&#39;\r\n    implementation &#39;com.google.android.gms:play-services-analytics:18.0.2&#39;\r\n    implementation &#39;com.google.android.gms:play-services-location:21.0.1&#39;\r\n\r\n    implementation &#39;com.google.android.gms:play-services-auth:20.4.1&#39;\r\n    implementation &#39;com.google.android.gms:play-services-auth-api-phone:18.0.1&#39;\r\n\r\n    implementation &quot;com.github.parse-community.Parse-SDK-Android:parse:1.26.0&quot;\r\n\r\n    implementation &#39;androidx.camera:camera-camera2:1.3.0-alpha02&#39;\r\n    implementation &quot;androidx.camera:camera-lifecycle:1.2.1&quot;\r\n    implementation &#39;androidx.camera:camera-view:1.3.0-alpha02&#39;\r\n\r\n    implementation &#39;com.google.zxing:core:3.5.0&#39;\r\n    implementation &#39;com.google.code.gson:gson:2.9.1&#39;\r\n}\r\n\r\napply plugin: &#39;com.google.firebase.crashlytics&#39;\r\n\r\n```\r\n\r\nand my project project build.gradle has the following dependencies\r\n\r\n```\r\n dependencies {\r\n        classpath &#39;com.android.tools.build:gradle:7.2.2&#39;\r\n        classpath &#39;com.google.gms:google-services:4.3.15&#39;\r\n        classpath &#39;com.google.firebase:firebase-crashlytics-gradle:2.9.4&#39;\r\n        // NOTE: Do not place your application dependencies here; they belong\r\n        // in the individual module build.gradle files\r\n    }\r\n\r\n```\r\n\r\n\r\n\r\n\r\nI am aware that I could just stay with version 18.3.3 but I am trying to understand why this crash is occuring.","title":"Android application crashing when updating from firebase-crashlytics 18.3.3 to 18.3.4","body":"<p>It seems that changing from\n<code>'implementation com.google.firebase:firebase-crashlytics:18.3.3'</code>\nto\n<code>'implementation com.google.firebase:firebase-crashlytics:18.3.4'</code>\nproduces the following crashlog when the app initialises. Is there any dependencies I could be missing?</p>\n<pre><code>2023-02-14 23:43:27.026 13135-13135/ I/MultiDex: VM has multidex support, MultiDex support library is disabled.\n2023-02-14 23:43:27.052 13135-13135/ D/AndroidRuntime: Shutting down VM\n2023-02-14 23:43:27.054 13135-13135/ E/AndroidRuntime: FATAL EXCEPTION: main\n    Process: , PID: 13135\n    java.lang.NoClassDefFoundError: Failed resolution of: Lcom/google/firebase/annotations/concurrent/Background;\n        at com.google.firebase.installations.FirebaseInstallationsRegistrar.getComponents(FirebaseInstallationsRegistrar.java:45)\n        at com.google.firebase.tracing.ComponentMonitor.processRegistrar(ComponentMonitor.java:28)\n        at com.google.firebase.components.ComponentRuntime.discoverComponents(ComponentRuntime.java:117)\n        at com.google.firebase.components.ComponentRuntime.&lt;init&gt;(ComponentRuntime.java:99)\n        at com.google.firebase.components.ComponentRuntime.&lt;init&gt;(ComponentRuntime.java:46)\n        at com.google.firebase.components.ComponentRuntime$Builder.build(ComponentRuntime.java:387)\n        at com.google.firebase.FirebaseApp.&lt;init&gt;(FirebaseApp.java:437)\n        at com.google.firebase.FirebaseApp.initializeApp(FirebaseApp.java:303)\n        at com.google.firebase.FirebaseApp.initializeApp(FirebaseApp.java:271)\n        at com.google.firebase.FirebaseApp.initializeApp(FirebaseApp.java:256)\n        at com.google.firebase.provider.FirebaseInitProvider.onCreate(FirebaseInitProvider.java:51)\n        at android.content.ContentProvider.attachInfo(ContentProvider.java:2404)\n        at android.content.ContentProvider.attachInfo(ContentProvider.java:2374)\n        at com.google.firebase.provider.FirebaseInitProvider.attachInfo(FirebaseInitProvider.java:45)\n        at android.app.ActivityThread.installProvider(ActivityThread.java:7422)\n        at android.app.ActivityThread.installContentProviders(ActivityThread.java:6939)\n        at android.app.ActivityThread.handleBindApplication(ActivityThread.java:6710)\n        at android.app.ActivityThread.access$1500(ActivityThread.java:247)\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2053)\n        at android.os.Handler.dispatchMessage(Handler.java:106)\n        at android.os.Looper.loopOnce(Looper.java:201)\n        at android.os.Looper.loop(Looper.java:288)\n        at android.app.ActivityThread.main(ActivityThread.java:7839)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:548)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1003)\n     Caused by: java.lang.ClassNotFoundException: Didn't find class &quot;com.google.firebase.annotations.concurrent.Background&quot; on path: DexPathList[[zip file &quot;/data/app/~~s71FMMPQjbON5bHQXPtW2w==/-mUP09Nn8ZAhW8aCE_JxV8w==/base.apk&quot;],nativeLibraryDirectories=[/data/app/~~s71FMMPQjbON5bHQXPtW2w==/-mUP09Nn8ZAhW8aCE_JxV8w==/lib/x86_64, /data/app/~~s71FMMPQjbON5bHQXPtW2w==/-mUP09Nn8ZAhW8aCE_JxV8w==/base.apk!/lib/x86_64, /system/lib64, /system_ext/lib64]]\n        at dalvik.system.BaseDexClassLoader.findClass(BaseDexClassLoader.java:218)\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:379)\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:312)\n        at com.google.firebase.installations.FirebaseInstallationsRegistrar.getComponents(FirebaseInstallationsRegistrar.java:45) \n        at com.google.firebase.tracing.ComponentMonitor.processRegistrar(ComponentMonitor.java:28) \n        at com.google.firebase.components.ComponentRuntime.discoverComponents(ComponentRuntime.java:117) \n        at com.google.firebase.components.ComponentRuntime.&lt;init&gt;(ComponentRuntime.java:99) \n        at com.google.firebase.components.ComponentRuntime.&lt;init&gt;(ComponentRuntime.java:46) \n        at com.google.firebase.components.ComponentRuntime$Builder.build(ComponentRuntime.java:387) \n        at com.google.firebase.FirebaseApp.&lt;init&gt;(FirebaseApp.java:437) \n        at com.google.firebase.FirebaseApp.initializeApp(FirebaseApp.java:303) \n        at com.google.firebase.FirebaseApp.initializeApp(FirebaseApp.java:271) \n        at com.google.firebase.FirebaseApp.initializeApp(FirebaseApp.java:256) \n        at com.google.firebase.provider.FirebaseInitProvider.onCreate(FirebaseInitProvider.java:51) \n        at android.content.ContentProvider.attachInfo(ContentProvider.java:2404) \n        at android.content.ContentProvider.attachInfo(ContentProvider.java:2374) \n        at com.google.firebase.provider.FirebaseInitProvider.attachInfo(FirebaseInitProvider.java:45) \n        at android.app.ActivityThread.installProvider(ActivityThread.java:7422) \n        at android.app.ActivityThread.installContentProviders(ActivityThread.java:6939) \n        at android.app.ActivityThread.handleBindApplication(ActivityThread.java:6710) \n        at android.app.ActivityThread.access$1500(ActivityThread.java:247) \n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2053) \n        at android.os.Handler.dispatchMessage(Handler.java:106) \n        at android.os.Looper.loopOnce(Looper.java:201) \n        at android.os.Looper.loop(Looper.java:288) \n        at android.app.ActivityThread.main(ActivityThread.java:7839) \n        at java.lang.reflect.Method.invoke(Native Method) \n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:548) \n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1003) \n2023-02-14 23:43:28.677 13135-13147/ W/System: A resource failed to call close. \n\n</code></pre>\n<p>my module build.gradle has these dependencies</p>\n<pre><code>dependencies {\n    implementation platform('com.google.firebase:firebase-bom:30.4.1')\n\n    implementation 'androidx.multidex:multidex:2.0.1'\n    implementation 'androidx.appcompat:appcompat:1.6.1'\n    implementation 'com.google.android.material:material:1.8.0'\n    implementation 'androidx.constraintlayout:constraintlayout:2.1.4'\n    implementation 'androidx.navigation:navigation-fragment:2.5.3'\n    implementation 'androidx.navigation:navigation-ui:2.5.3'\n    implementation 'androidx.preference:preference:1.2.0'\n    implementation 'androidx.legacy:legacy-support-v4:1.0.0'\n    testImplementation 'junit:junit:4.13.2'\n    androidTestImplementation 'androidx.test.ext:junit:1.1.5'\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.5.1'\n    implementation 'androidx.swiperefreshlayout:swiperefreshlayout:1.1.0'\n    implementation 'com.android.volley:volley:1.2.1'\n    implementation 'androidx.core:core:1.9.0'\n\n    implementation 'com.google.firebase:firebase-analytics:21.2.0'\n    implementation 'com.google.firebase:firebase-database:20.1.0'\n    implementation 'com.google.firebase:firebase-messaging:23.1.1'\n    implementation 'com.google.firebase:firebase-crashlytics:18.3.4'\n\n    implementation 'com.google.android.gms:play-services-maps:18.1.0'\n    implementation 'com.google.android.gms:play-services-analytics:18.0.2'\n    implementation 'com.google.android.gms:play-services-location:21.0.1'\n\n    implementation 'com.google.android.gms:play-services-auth:20.4.1'\n    implementation 'com.google.android.gms:play-services-auth-api-phone:18.0.1'\n\n    implementation &quot;com.github.parse-community.Parse-SDK-Android:parse:1.26.0&quot;\n\n    implementation 'androidx.camera:camera-camera2:1.3.0-alpha02'\n    implementation &quot;androidx.camera:camera-lifecycle:1.2.1&quot;\n    implementation 'androidx.camera:camera-view:1.3.0-alpha02'\n\n    implementation 'com.google.zxing:core:3.5.0'\n    implementation 'com.google.code.gson:gson:2.9.1'\n}\n\napply plugin: 'com.google.firebase.crashlytics'\n\n</code></pre>\n<p>and my project project build.gradle has the following dependencies</p>\n<pre><code> dependencies {\n        classpath 'com.android.tools.build:gradle:7.2.2'\n        classpath 'com.google.gms:google-services:4.3.15'\n        classpath 'com.google.firebase:firebase-crashlytics-gradle:2.9.4'\n        // NOTE: Do not place your application dependencies here; they belong\n        // in the individual module build.gradle files\n    }\n\n</code></pre>\n<p>I am aware that I could just stay with version 18.3.3 but I am trying to understand why this crash is occuring.</p>\n"},{"tags":["java","android-studio","android-recyclerview"],"answers":[{"comments":[{"owner":{"account_id":11462096,"reputation":15,"user_id":8401453,"display_name":"Nacho Novoa Mayo"},"score":0,"creation_date":1676619691,"post_id":75462915,"comment_id":133177331,"body_markdown":"Thank you for your answer. The problem with your answer is that i could hide the buttonholder (which id the layout for the buttons), but i want to hide an element in another layout (MainMenu), the layout where the recyclerview is.","body":"Thank you for your answer. The problem with your answer is that i could hide the buttonholder (which id the layout for the buttons), but i want to hide an element in another layout (MainMenu), the layout where the recyclerview is."}],"tags":[],"owner":{"account_id":14519185,"reputation":184,"user_id":10487304,"display_name":"Hussein Nasereddine"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676479459,"creation_date":1676479459,"answer_id":75462915,"question_id":75458814,"body_markdown":"There&#39;s a method I personally use in my `RecyclerView&#39;s` `Adapter` and `ViewHolder` is to set the `width` and `height` of your item&#39;s `ViewGroup` to `0`.\r\n\r\nHere&#39;s the method you can add to your adapter class which takes item position that you want to hide:\r\n\r\n```\r\npublic void hideFeedItem(int position){\r\n        RecyclerView.ViewHolder holder = getViewHolderAtPosition(position);\r\n        if(holder != null){\r\n            ViewGroup.LayoutParams params = holder.itemView.getLayoutParams();\r\n            params.height=0;\r\n            params.width= 0;\r\n            holder.itemView.setLayoutParams(params);\r\n        }\r\n}\r\n```\r\n\r\nWhere `itemview` is the root `ViewGroup` that should be already defined in your `ViewHolder` in your case should be  `buttonHolder`.","title":"How can I show/hide a layout in the main activity from a RecyclerView in android studio java?","body":"<p>There's a method I personally use in my <code>RecyclerView's</code> <code>Adapter</code> and <code>ViewHolder</code> is to set the <code>width</code> and <code>height</code> of your item's <code>ViewGroup</code> to <code>0</code>.</p>\n<p>Here's the method you can add to your adapter class which takes item position that you want to hide:</p>\n<pre><code>public void hideFeedItem(int position){\n        RecyclerView.ViewHolder holder = getViewHolderAtPosition(position);\n        if(holder != null){\n            ViewGroup.LayoutParams params = holder.itemView.getLayoutParams();\n            params.height=0;\n            params.width= 0;\n            holder.itemView.setLayoutParams(params);\n        }\n}\n</code></pre>\n<p>Where <code>itemview</code> is the root <code>ViewGroup</code> that should be already defined in your <code>ViewHolder</code> in your case should be  <code>buttonHolder</code>.</p>\n"}],"owner":{"account_id":11462096,"reputation":15,"user_id":8401453,"display_name":"Nacho Novoa Mayo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":85,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1676479459,"creation_date":1676458887,"question_id":75458814,"body_markdown":"I have an activity which consists of a recycler view for generating buttons (from a different layout file) and a layout with elements for confirmation.\r\n\r\nI want to make it so when I click on the button &quot;NEW GAME&quot; (in the Recyclerview class), the confirmationLayout (in the MainMenu Activity) shows. But I can&#39;t, can someone help me?\r\n\r\n\r\nMainMenu Class\r\n\r\n```\r\npublic class MainMenu extends AppCompatActivity {\r\n\r\n    private ImageView profileIcon;\r\n    private TextView username;\r\n\r\n    private RelativeLayout newGameConfirmationLayout;\r\n    private TextView yesButton, noButton;\r\n\r\n    private RecyclerView buttonRecyclerView;\r\n    private ButtonRecyclerAdapter adapter;\r\n\r\n    private DataHandler dataHandler;\r\n\r\n    private ArrayList&lt;String&gt; buttonNames = new ArrayList&lt;&gt;();\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main_menu);\r\n\r\n        newGameConfirmationLayout = findViewById(R.id.newGameConfirmationLayout);\r\n        yesButton = findViewById(R.id.yesButton);\r\n        noButton = findViewById(R.id.noButton);\r\n\r\n        buttonRecyclerView = findViewById(R.id.buttonRecyclerView);\r\n        buttonRecyclerView.setLayoutManager(new LinearLayoutManager(MainMenu.this));\r\n\r\n\r\n        if(General.infoSaved){buttonNames.add(&quot;CONTINUE GAME&quot;);}\r\n\r\n        buttonNames.add(&quot;NEW GAME&quot;);\r\n        buttonNames.add(&quot;CHANGE USER&quot;);\r\n        buttonNames.add(&quot;PRACTICE&quot;);\r\n        buttonNames.add(&quot;EXERCISE LIST&quot;);\r\n\r\n        adapter = new ButtonRecyclerAdapter(buttonNames, MainMenu.this);\r\n        buttonRecyclerView.setAdapter(adapter);\r\n\r\n        yesButton.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                \r\n                startGame();\r\n            }\r\n        });\r\n\r\n        noButton.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                newGameConfirmationLayout.setVisibility(View.INVISIBLE);\r\n            }\r\n        });\r\n    }\r\n\r\n    private void startGame(){}\r\n\r\n    public void show_confirmationLayout(){\r\n        newGameConfirmationLayout.setVisibility(View.VISIBLE);\r\n    }\r\n```\r\n\r\n\r\n\r\nRecyclerView Class\r\n\r\n```\r\npublic class ButtonRecyclerAdapter extends RecyclerView.Adapter&lt;ButtonRecyclerAdapter.buttonHolder&gt;{\r\n\r\n    private ArrayList&lt;String&gt; buttonNames;\r\n    private Context context;\r\n \r\n\r\n    public ButtonRecyclerAdapter(ArrayList&lt;String&gt; loginButtonNames, Context context) {\r\n        this.buttonNames = loginButtonNames;\r\n        this.context = context;\r\n    }\r\n\r\n    @NonNull\r\n    @Override\r\n    public buttonHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n        View view = LayoutInflater.from(parent.getContext()).inflate(R.layout.button_block,parent,false);\r\n        return new buttonHolder(view);\r\n    }\r\n\r\n    @Override\r\n    public void onBindViewHolder(@NonNull buttonHolder holder, int position) {\r\n\r\n        holder.button.setText(buttonNames.get(position));\r\n\r\n        holder.button.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                String buttonName = holder.button.getText().toString();\r\n\r\n                switch (buttonName){\r\n\r\n                    case &quot;NEW GAME&quot;:\r\n                        \r\n                        MainMenu mainMenu = new MainMenu();\r\n                        mainMenu.show_confirmationLayout();\r\n                        break;\r\n                }\r\n            }\r\n        });\r\n    }\r\n\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n        return buttonNames.size();\r\n    }\r\n\r\n    public class buttonHolder extends RecyclerView.ViewHolder{\r\n        private Button button;\r\n\r\n        public buttonHolder(@NonNull View itemView) {\r\n            super(itemView);\r\n            button = itemView.findViewById(R.id.buttonblock);\r\n        }\r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\nI tried adding it as a class (as above) but I get the error that the layout is a null object / However when I try to write the ame line of code directly in the activity it works.","title":"How can I show/hide a layout in the main activity from a RecyclerView in android studio java?","body":"<p>I have an activity which consists of a recycler view for generating buttons (from a different layout file) and a layout with elements for confirmation.</p>\n<p>I want to make it so when I click on the button &quot;NEW GAME&quot; (in the Recyclerview class), the confirmationLayout (in the MainMenu Activity) shows. But I can't, can someone help me?</p>\n<p>MainMenu Class</p>\n<pre><code>public class MainMenu extends AppCompatActivity {\n\n    private ImageView profileIcon;\n    private TextView username;\n\n    private RelativeLayout newGameConfirmationLayout;\n    private TextView yesButton, noButton;\n\n    private RecyclerView buttonRecyclerView;\n    private ButtonRecyclerAdapter adapter;\n\n    private DataHandler dataHandler;\n\n    private ArrayList&lt;String&gt; buttonNames = new ArrayList&lt;&gt;();\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main_menu);\n\n        newGameConfirmationLayout = findViewById(R.id.newGameConfirmationLayout);\n        yesButton = findViewById(R.id.yesButton);\n        noButton = findViewById(R.id.noButton);\n\n        buttonRecyclerView = findViewById(R.id.buttonRecyclerView);\n        buttonRecyclerView.setLayoutManager(new LinearLayoutManager(MainMenu.this));\n\n\n        if(General.infoSaved){buttonNames.add(&quot;CONTINUE GAME&quot;);}\n\n        buttonNames.add(&quot;NEW GAME&quot;);\n        buttonNames.add(&quot;CHANGE USER&quot;);\n        buttonNames.add(&quot;PRACTICE&quot;);\n        buttonNames.add(&quot;EXERCISE LIST&quot;);\n\n        adapter = new ButtonRecyclerAdapter(buttonNames, MainMenu.this);\n        buttonRecyclerView.setAdapter(adapter);\n\n        yesButton.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                \n                startGame();\n            }\n        });\n\n        noButton.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                newGameConfirmationLayout.setVisibility(View.INVISIBLE);\n            }\n        });\n    }\n\n    private void startGame(){}\n\n    public void show_confirmationLayout(){\n        newGameConfirmationLayout.setVisibility(View.VISIBLE);\n    }\n</code></pre>\n<p>RecyclerView Class</p>\n<pre><code>public class ButtonRecyclerAdapter extends RecyclerView.Adapter&lt;ButtonRecyclerAdapter.buttonHolder&gt;{\n\n    private ArrayList&lt;String&gt; buttonNames;\n    private Context context;\n \n\n    public ButtonRecyclerAdapter(ArrayList&lt;String&gt; loginButtonNames, Context context) {\n        this.buttonNames = loginButtonNames;\n        this.context = context;\n    }\n\n    @NonNull\n    @Override\n    public buttonHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n        View view = LayoutInflater.from(parent.getContext()).inflate(R.layout.button_block,parent,false);\n        return new buttonHolder(view);\n    }\n\n    @Override\n    public void onBindViewHolder(@NonNull buttonHolder holder, int position) {\n\n        holder.button.setText(buttonNames.get(position));\n\n        holder.button.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                String buttonName = holder.button.getText().toString();\n\n                switch (buttonName){\n\n                    case &quot;NEW GAME&quot;:\n                        \n                        MainMenu mainMenu = new MainMenu();\n                        mainMenu.show_confirmationLayout();\n                        break;\n                }\n            }\n        });\n    }\n\n\n    @Override\n    public int getItemCount() {\n        return buttonNames.size();\n    }\n\n    public class buttonHolder extends RecyclerView.ViewHolder{\n        private Button button;\n\n        public buttonHolder(@NonNull View itemView) {\n            super(itemView);\n            button = itemView.findViewById(R.id.buttonblock);\n        }\n    }\n}\n\n</code></pre>\n<p>I tried adding it as a class (as above) but I get the error that the layout is a null object / However when I try to write the ame line of code directly in the activity it works.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1079173,"reputation":42590,"user_id":1076640,"display_name":"yshavit"},"score":0,"creation_date":1523970386,"post_id":49878929,"comment_id":86773484,"body_markdown":"I&#39;m confused. It sounds like you want the condition to be true only if it matches the string exactly, but you don&#39;t want to look at all the string? How do you expect it to know the string matches exactly it it doesn&#39;t look at the whole string?","body":"I&#39;m confused. It sounds like you want the condition to be true only if it matches the string exactly, but you don&#39;t want to look at all the string? How do you expect it to know the string matches exactly it it doesn&#39;t look at the whole string?"},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":1,"creation_date":1523970390,"post_id":49878929,"comment_id":86773487,"body_markdown":"What *exactly* do you mean by &quot;exact that part exist not longer not shorter&quot;? That string occurs twice within your string - which one to you want to trigger it? Should it trigger if it&#39;s in the middle of the path? If you could provide a [mcve] with various cases that you want to match and not match?","body":"What <i>exactly</i> do you mean by &quot;exact that part exist not longer not shorter&quot;? That string occurs twice within your string - which one to you want to trigger it? Should it trigger if it&#39;s in the middle of the path? If you could provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> with various cases that you want to match and not match?"},{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":1,"creation_date":1523970544,"post_id":49878929,"comment_id":86773601,"body_markdown":"I believe he wants to match exactly `NCC_joh` and not something like `NCC_johjon`(which would be longer)","body":"I believe he wants to match exactly <code>NCC_joh</code> and not something like <code>NCC_johjon</code>(which would be longer)"},{"owner":{"account_id":1980276,"reputation":8081,"user_id":1777072,"accept_rate":60,"display_name":"David Lavender"},"score":1,"creation_date":1523970827,"post_id":49878929,"comment_id":86773836,"body_markdown":"Just include the open bracket in the contains? `if (oysters.contains(&quot;NCC_joh (&quot;)) {`","body":"Just include the open bracket in the contains? <code>if (oysters.contains(&quot;NCC_joh (&quot;)) {</code>"},{"owner":{"account_id":10317817,"reputation":891,"user_id":7611620,"accept_rate":100,"display_name":"novafluff"},"score":0,"creation_date":1523971197,"post_id":49878929,"comment_id":86774098,"body_markdown":"exactly as @XtremeBaumer says i want it to be exactly for example NCC_joh. i will try Mr Spoon solution","body":"exactly as @XtremeBaumer says i want it to be exactly for example NCC_joh. i will try Mr Spoon solution"},{"owner":{"account_id":10317817,"reputation":891,"user_id":7611620,"accept_rate":100,"display_name":"novafluff"},"score":0,"creation_date":1523971343,"post_id":49878929,"comment_id":86774225,"body_markdown":"@MrSpoon Thanks that helped me cause it will always be an ( after the string i check!","body":"@MrSpoon Thanks that helped me cause it will always be an ( after the string i check!"}],"answers":[{"tags":[],"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1523971564,"creation_date":1523971564,"answer_id":49879388,"question_id":49878929,"body_markdown":"Use regular expressions.\r\n\r\n    if (oysters.matches(&quot;(?s).*\\\\bNCC_joh\\\\b.*&quot;)) {\r\n\r\nwhere\r\n\r\n- `(?s)` = single line mode, DOT-ALL, so `.` will match a newline too.\r\n- `.` = any char\r\n- `.*` = zero or more occurrences of `.` (any char)\r\n- `\\b` = word boundary\r\n\r\n`String.matches` does a match of the pattern over the _entire_ string, hence the need for `.*` at begin and end.\r\n\r\n(Word boundaries of course means, that between them a _word_ has to be placed.)","title":"String equal/contain none of them gets what I want","body":"<p>Use regular expressions.</p>\n\n<pre><code>if (oysters.matches(\"(?s).*\\\\bNCC_joh\\\\b.*\")) {\n</code></pre>\n\n<p>where</p>\n\n<ul>\n<li><code>(?s)</code> = single line mode, DOT-ALL, so <code>.</code> will match a newline too.</li>\n<li><code>.</code> = any char</li>\n<li><code>.*</code> = zero or more occurrences of <code>.</code> (any char)</li>\n<li><code>\\b</code> = word boundary</li>\n</ul>\n\n<p><code>String.matches</code> does a match of the pattern over the <em>entire</em> string, hence the need for <code>.*</code> at begin and end.</p>\n\n<p>(Word boundaries of course means, that between them a <em>word</em> has to be placed.)</p>\n"},{"tags":[],"owner":{"account_id":3242704,"reputation":13438,"user_id":2735286,"accept_rate":89,"display_name":"gil.fernandes"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1523972020,"creation_date":1523972020,"answer_id":49879553,"question_id":49878929,"body_markdown":"This is similar to https://stackoverflow.com/a/49879388/2735286, but I would suggest to use the `find` method using this regular expression:\r\n\r\n    \\bNCC_joh\\b\r\n\r\nUsing the find method will simplify the regular expression and you will exclusively search for what is relevant.\r\n\r\nHere is the corresponding method you can use:\r\n\r\n    public static boolean superExactMatch(String expression) {\r\n        Pattern p = Pattern.compile(&quot;\\\\bNCC_joh\\\\b&quot;, Pattern.MULTILINE);\r\n        final Matcher matcher = p.matcher(expression);\r\n        final boolean found = matcher.find();\r\n        if(found) {\r\n            // For debugging purposes to see where the match happened in the expression\r\n            System.out.println(matcher.start() + &quot; &quot; + matcher.end());\r\n        }\r\n        return found;\r\n    }\r\n\r\n","title":"String equal/contain none of them gets what I want","body":"<p>This is similar to <a href=\"https://stackoverflow.com/a/49879388/2735286\">https://stackoverflow.com/a/49879388/2735286</a>, but I would suggest to use the <code>find</code> method using this regular expression:</p>\n\n<pre><code>\\bNCC_joh\\b\n</code></pre>\n\n<p>Using the find method will simplify the regular expression and you will exclusively search for what is relevant.</p>\n\n<p>Here is the corresponding method you can use:</p>\n\n<pre><code>public static boolean superExactMatch(String expression) {\n    Pattern p = Pattern.compile(\"\\\\bNCC_joh\\\\b\", Pattern.MULTILINE);\n    final Matcher matcher = p.matcher(expression);\n    final boolean found = matcher.find();\n    if(found) {\n        // For debugging purposes to see where the match happened in the expression\n        System.out.println(matcher.start() + \" \" + matcher.end());\n    }\n    return found;\n}\n</code></pre>\n"}],"owner":{"account_id":10317817,"reputation":891,"user_id":7611620,"accept_rate":100,"display_name":"novafluff"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":74,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":49879388,"answer_count":2,"score":0,"last_activity_date":1676479420,"creation_date":1523970226,"question_id":49878929,"body_markdown":"I have a string that can look somewhat like:\r\n\r\n    NCC_johjon (\\users\\johanjo\\tomcattest\\oysters\\NCC_johjon, port 16001), utv_johjon (\\users\\johanjo\\tomcattest\\oysters\\utv_johjon, port 16000)\r\n\r\nand there could be like a lot of NCC_etskys, NCC_homyis and so on and I want to check if somewhere in the string there is an part that says &quot;NCC_joh&quot; already existing. I tried with like  \r\n\r\n    if(oysters.contains(&quot;NCC_joh&quot;)){\r\n            System.out.println(&quot;HEJ HEJ HEJ HALL&#197; HALL&#197; HALL&#197;&quot;);\r\n        }\r\n\r\nbut if there is an NCC_johjon in there it will go in the if case, but I only want to go in if exact that part exist not longer not shorter and .equal it needs to look like the whole String which is not what I want either. anyone got any idea? would be better if what I worked with were a list of Strings but I don&#39;t have that.\r\nthe oysterPaths is an Collection at first\r\n\r\n    Collection&lt;TomcatResource&gt; oysterPaths = TomcatResource.listCats(Paths.get(tomcatsPath));","title":"String equal/contain none of them gets what I want","body":"<p>I have a string that can look somewhat like:</p>\n<pre><code>NCC_johjon (\\users\\johanjo\\tomcattest\\oysters\\NCC_johjon, port 16001), utv_johjon (\\users\\johanjo\\tomcattest\\oysters\\utv_johjon, port 16000)\n</code></pre>\n<p>and there could be like a lot of NCC_etskys, NCC_homyis and so on and I want to check if somewhere in the string there is an part that says &quot;NCC_joh&quot; already existing. I tried with like</p>\n<pre><code>if(oysters.contains(&quot;NCC_joh&quot;)){\n        System.out.println(&quot;HEJ HEJ HEJ HALLÅ HALLÅ HALLÅ&quot;);\n    }\n</code></pre>\n<p>but if there is an NCC_johjon in there it will go in the if case, but I only want to go in if exact that part exist not longer not shorter and .equal it needs to look like the whole String which is not what I want either. anyone got any idea? would be better if what I worked with were a list of Strings but I don't have that.\nthe oysterPaths is an Collection at first</p>\n<pre><code>Collection&lt;TomcatResource&gt; oysterPaths = TomcatResource.listCats(Paths.get(tomcatsPath));\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":5,"creation_date":1676363823,"post_id":75445157,"comment_id":133117047,"body_markdown":"&quot;High value item&quot; isn&#39;t printed when shipping - it&#39;s printed by this constructor call: `Order chemistrySet = new Order(false, 72.50, &quot;Regular&quot;);`. That happens before `book.ship()` is called.","body":"&quot;High value item&quot; isn&#39;t printed when shipping - it&#39;s printed by this constructor call: <code>Order chemistrySet = new Order(false, 72.50, &quot;Regular&quot;);</code>. That happens before <code>book.ship()</code> is called."},{"owner":{"account_id":17835,"reputation":303915,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1676364040,"post_id":75445157,"comment_id":133117091,"body_markdown":"One way you can verify what Jon said is to put a `System.out.println(&quot;Constructors are done&quot;);` after the line that creates the `chemistrySet`, then it will be more obvious which parts print which statement.","body":"One way you can verify what Jon said is to put a <code>System.out.println(&quot;Constructors are done&quot;);</code> after the line that creates the <code>chemistrySet</code>, then it will be more obvious which parts print which statement."}],"answers":[{"tags":[],"owner":{"account_id":3938593,"reputation":233,"user_id":3254023,"display_name":"Calfa"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1676479055,"creation_date":1676366659,"answer_id":75445750,"question_id":75445157,"body_markdown":"The first thing happening here is the main() method, which is where the program starts:\r\n\r\n    public static void main(String[] args) {\r\n        // do not alter the main method!\r\n        Order book = new Order(true, 9.99, &quot;Express&quot;);            //(1)\r\n        Order chemistrySet = new Order(false, 72.50, &quot;Regular&quot;);  //(2)\r\n        \r\n        book.ship();                                              //(3)\r\n        chemistrySet.ship();                                      //(4)\r\n        \r\n    }\r\n\r\n1. You call the constructor method of the class for &quot;book&quot;:\r\n    ```\r\n    public Order(boolean filled, double cost, String shippingMethod) {\r\n        if (cost &gt; 24.00) {\r\n          System.out.println(&quot;High value item!&quot;);\r\n        }\r\n        isFilled = filled;\r\n        billAmount = cost;\r\n        shipping = shippingMethod;\r\n    }\r\n    ```\r\n\r\n    And nothing is printed because *cost &lt;  24.00*.\r\n\r\n2. Now you call the constructor again for &quot;chemistrySet&quot;, but this time it prints &quot;High value item!&quot; because its *cost &gt; 24.00*\r\n\r\n3. You call `book.ship()` and, since `filled == true`, it prints: *Shipping* and *Shipping cost: 1.75*\r\n\r\n3. Now you call `chemistrySet.ship()`, but this time `isFilled` equals false, so it prints *Order not ready*\r\n","title":"How to understand the order of this code running","body":"<p>The first thing happening here is the main() method, which is where the program starts:</p>\n<pre><code>public static void main(String[] args) {\n    // do not alter the main method!\n    Order book = new Order(true, 9.99, &quot;Express&quot;);            //(1)\n    Order chemistrySet = new Order(false, 72.50, &quot;Regular&quot;);  //(2)\n    \n    book.ship();                                              //(3)\n    chemistrySet.ship();                                      //(4)\n    \n}\n</code></pre>\n<ol>\n<li><p>You call the constructor method of the class for &quot;book&quot;:</p>\n<pre><code>public Order(boolean filled, double cost, String shippingMethod) {\n    if (cost &gt; 24.00) {\n      System.out.println(&quot;High value item!&quot;);\n    }\n    isFilled = filled;\n    billAmount = cost;\n    shipping = shippingMethod;\n}\n</code></pre>\n<p>And nothing is printed because <em>cost &lt;  24.00</em>.</p>\n</li>\n<li><p>Now you call the constructor again for &quot;chemistrySet&quot;, but this time it prints &quot;High value item!&quot; because its <em>cost &gt; 24.00</em></p>\n</li>\n<li><p>You call <code>book.ship()</code> and, since <code>filled == true</code>, it prints: <em>Shipping</em> and <em>Shipping cost: 1.75</em></p>\n</li>\n<li><p>Now you call <code>chemistrySet.ship()</code>, but this time <code>isFilled</code> equals false, so it prints <em>Order not ready</em></p>\n</li>\n</ol>\n"}],"owner":{"account_id":22857930,"reputation":21,"user_id":17002498,"display_name":"Aris Nguyen"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":82,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"answer_count":1,"score":0,"last_activity_date":1676479055,"creation_date":1676363684,"question_id":75445157,"body_markdown":"As I know, the order of code running is top down. So when call 2 method book.ship(), chemistrySet.ship() at the bottom, I think the 1st one should be called first. So why the result shows as below:\r\n\r\n```none\r\nHigh value item!\r\nShipping\r\nShipping cost: 1.75\r\nOrder not ready\r\n```\r\nFor the book instance, the cost = 9.99, but it still shows `High value item!`. How can I figure this out?\r\n \r\n```\r\npublic class Order {\r\n  boolean isFilled; //true\r\n  double billAmount; //9.99\r\n  String shipping;   //Express\r\n  \r\n  public Order(boolean filled, double cost, String shippingMethod) {\r\n\t\tif (cost &gt; 24.00) {\r\n      System.out.println(&quot;High value item!&quot;);\r\n    }\r\n    isFilled = filled;\r\n    billAmount = cost;\r\n    shipping = shippingMethod;\r\n  }\r\n  \r\n  public void ship() {\r\n    if (isFilled) {\r\n      System.out.println(&quot;Shipping&quot;);\r\n      System.out.println(&quot;Shipping cost: &quot; + calculateShipping());\r\n    } else {\r\n      System.out.println(&quot;Order not ready&quot;);\r\n    }\r\n  }\r\n  \r\n  public double calculateShipping() {\r\n\t \t// declare conditional statement here\r\n      if (shipping.equals(&quot;Regular&quot;)) {\r\n        return 0;\r\n      } else if (shipping.equals(&quot;Express&quot;)){\r\n        return 1.75;\r\n      } else {return .50;}\r\n \t}\r\n  \r\n  public static void main(String[] args) {\r\n    // do not alter the main method!\r\n    Order book = new Order(true, 9.99, &quot;Express&quot;);\r\n    Order chemistrySet = new Order(false, 72.50, &quot;Regular&quot;);\r\n    \r\n    book.ship();\r\n    chemistrySet.ship();\r\n    \r\n  }\r\n}\r\n\r\n```","title":"How to understand the order of this code running","body":"<p>As I know, the order of code running is top down. So when call 2 method book.ship(), chemistrySet.ship() at the bottom, I think the 1st one should be called first. So why the result shows as below:</p>\n<pre class=\"lang-none prettyprint-override\"><code>High value item!\nShipping\nShipping cost: 1.75\nOrder not ready\n</code></pre>\n<p>For the book instance, the cost = 9.99, but it still shows <code>High value item!</code>. How can I figure this out?</p>\n<pre><code>public class Order {\n  boolean isFilled; //true\n  double billAmount; //9.99\n  String shipping;   //Express\n  \n  public Order(boolean filled, double cost, String shippingMethod) {\n        if (cost &gt; 24.00) {\n      System.out.println(&quot;High value item!&quot;);\n    }\n    isFilled = filled;\n    billAmount = cost;\n    shipping = shippingMethod;\n  }\n  \n  public void ship() {\n    if (isFilled) {\n      System.out.println(&quot;Shipping&quot;);\n      System.out.println(&quot;Shipping cost: &quot; + calculateShipping());\n    } else {\n      System.out.println(&quot;Order not ready&quot;);\n    }\n  }\n  \n  public double calculateShipping() {\n        // declare conditional statement here\n      if (shipping.equals(&quot;Regular&quot;)) {\n        return 0;\n      } else if (shipping.equals(&quot;Express&quot;)){\n        return 1.75;\n      } else {return .50;}\n    }\n  \n  public static void main(String[] args) {\n    // do not alter the main method!\n    Order book = new Order(true, 9.99, &quot;Express&quot;);\n    Order chemistrySet = new Order(false, 72.50, &quot;Regular&quot;);\n    \n    book.ship();\n    chemistrySet.ship();\n    \n  }\n}\n\n</code></pre>\n"},{"tags":["java","spring","spring-boot","caffeine-cache"],"comments":[{"owner":{"account_id":10326,"reputation":9293,"user_id":19450,"display_name":"Ben Manes"},"score":1,"creation_date":1676478239,"post_id":75462476,"comment_id":133145886,"body_markdown":"If you look at the micrometer code, it incorrectly maps to the load count (https://github.com/micrometer-metrics/micrometer/issues/2215 and follow ups). It’s not a core metric of the cache and incorrectly captured in their adapter.","body":"If you look at the micrometer code, it incorrectly maps to the load count (<a href=\"https://github.com/micrometer-metrics/micrometer/issues/2215\" rel=\"nofollow noreferrer\">github.com/micrometer-metrics/micrometer/issues/2215</a> and follow ups). It’s not a core metric of the cache and incorrectly captured in their adapter."}],"owner":{"account_id":27794938,"reputation":11,"user_id":21220675,"display_name":"pesto"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":481,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1676478675,"creation_date":1676477284,"question_id":75462476,"body_markdown":"I am using Spring Boot 2.7.2 and Caffeine 2.8.5. I have verified the cache is working correctly and all of the other manage/metrics endpoints for cache give the correct counts (cache.eviction.weight, cache.evictions, cache.gets, cache.size), but the count for cache.puts is always 0, even when there are many items put into the cache.\r\n\r\n\r\n\r\n\r\n```\r\n@Configuration\r\n@ConfigurationProperties(prefix = &quot;importantcache&quot;)\r\npublic class CaffeineCacheConfig {\r\n\r\n   private Long maxSize;\r\n   private Duration expire;\r\n   \r\n  public Long getMaxSize() {\r\n    return maxSize;\r\n  }\r\n  public void setMaxSize(Long maxSize) {\r\n    this.maxSize = maxSize;\r\n  }\r\n  public Duration getExpire() {\r\n    return expire;\r\n  }\r\n  public void setExpire(Duration expire) {\r\n    this.expire = expire;\r\n  }\r\n\r\n}\r\n```\r\n\r\n\r\n```\r\n@Component\r\n@EnableCaching\r\npublic class CaffeineCache {\r\n\r\n  private final CaffeineCacheConfig caffeineCacheConfig;\r\n  \r\n  @Autowired\r\n  public CaffeineCache(CaffeineCacheConfig caffeineCacheConfig) {\r\n      this.caffeineCacheConfig = caffeineCacheConfig;\r\n  }\r\n  \r\n @Bean \r\n public CacheManager cacheManager() {\r\n  CaffeineCacheManager cacheManager = new CaffeineCacheManager(\r\n          &quot;cache1&quot;,\r\n          &quot;cache2&quot;,\r\n          &quot;cache3&quot;\r\n  );\r\n  cacheManager.setCaffeine(caffeineCacheBuilder());\r\n  \r\n  return cacheManager;\r\n }\r\n\r\n Caffeine&lt;Object, Object&gt; caffeineCacheBuilder() {\r\n   Long size = 1000L;\r\n   Duration expire =  Duration.parse(&quot;PT1H&quot;); \r\n   \r\n   if (caffeineCacheConfig.getMaxSize() != null) {\r\n     size = caffeineCacheConfig.getMaxSize();\r\n   }\r\n   if (caffeineCacheConfig.getExpire() != null) {\r\n     expire = caffeineCacheConfig.getExpire();\r\n   }\r\n\r\n   return Caffeine.newBuilder()\r\n     .maximumSize(size)\r\n     .expireAfterWrite(expire)\r\n     .recordStats();\r\n }\r\n}\r\n```\r\n\r\nI have also tried this alternative method in the above class for cacheManager() from [this related question](https://stackoverflow.com/questions/74393289/caffeine-cache-metrics-only-report-cache-size-but-not-hit-miss-ratio-with-microm)\r\n\r\n\r\n```\r\n@Bean\r\n  public CacheManager cacheManager(MeterRegistry meterRegistry) {\r\n    CaffeineCacheManager caffeineCacheManager = new CaffeineCacheManager() {\r\n      protected com.github.benmanes.caffeine.cache.Cache&lt;Object, Object&gt; createNativeCaffeineCache(String name) {\r\n        return CaffeineCacheMetrics.monitor(meterRegistry, super.createNativeCaffeineCache(name), name);\r\n      }\r\n\r\n    };\r\n    caffeineCacheManager.setCaffeine(caffeineCacheBuilder());\r\n\r\n    return caffeineCacheManager;\r\n  }\r\n```\r\n\r\nAny ideas on what else to try to make the cache.puts endpoint accurate?","title":"Using Caffeine Cache, why is the count for cache.puts on manage/metrics endpoint always 0?","body":"<p>I am using Spring Boot 2.7.2 and Caffeine 2.8.5. I have verified the cache is working correctly and all of the other manage/metrics endpoints for cache give the correct counts (cache.eviction.weight, cache.evictions, cache.gets, cache.size), but the count for cache.puts is always 0, even when there are many items put into the cache.</p>\n<pre><code>@Configuration\n@ConfigurationProperties(prefix = &quot;importantcache&quot;)\npublic class CaffeineCacheConfig {\n\n   private Long maxSize;\n   private Duration expire;\n   \n  public Long getMaxSize() {\n    return maxSize;\n  }\n  public void setMaxSize(Long maxSize) {\n    this.maxSize = maxSize;\n  }\n  public Duration getExpire() {\n    return expire;\n  }\n  public void setExpire(Duration expire) {\n    this.expire = expire;\n  }\n\n}\n</code></pre>\n<pre><code>@Component\n@EnableCaching\npublic class CaffeineCache {\n\n  private final CaffeineCacheConfig caffeineCacheConfig;\n  \n  @Autowired\n  public CaffeineCache(CaffeineCacheConfig caffeineCacheConfig) {\n      this.caffeineCacheConfig = caffeineCacheConfig;\n  }\n  \n @Bean \n public CacheManager cacheManager() {\n  CaffeineCacheManager cacheManager = new CaffeineCacheManager(\n          &quot;cache1&quot;,\n          &quot;cache2&quot;,\n          &quot;cache3&quot;\n  );\n  cacheManager.setCaffeine(caffeineCacheBuilder());\n  \n  return cacheManager;\n }\n\n Caffeine&lt;Object, Object&gt; caffeineCacheBuilder() {\n   Long size = 1000L;\n   Duration expire =  Duration.parse(&quot;PT1H&quot;); \n   \n   if (caffeineCacheConfig.getMaxSize() != null) {\n     size = caffeineCacheConfig.getMaxSize();\n   }\n   if (caffeineCacheConfig.getExpire() != null) {\n     expire = caffeineCacheConfig.getExpire();\n   }\n\n   return Caffeine.newBuilder()\n     .maximumSize(size)\n     .expireAfterWrite(expire)\n     .recordStats();\n }\n}\n</code></pre>\n<p>I have also tried this alternative method in the above class for cacheManager() from <a href=\"https://stackoverflow.com/questions/74393289/caffeine-cache-metrics-only-report-cache-size-but-not-hit-miss-ratio-with-microm\">this related question</a></p>\n<pre><code>@Bean\n  public CacheManager cacheManager(MeterRegistry meterRegistry) {\n    CaffeineCacheManager caffeineCacheManager = new CaffeineCacheManager() {\n      protected com.github.benmanes.caffeine.cache.Cache&lt;Object, Object&gt; createNativeCaffeineCache(String name) {\n        return CaffeineCacheMetrics.monitor(meterRegistry, super.createNativeCaffeineCache(name), name);\n      }\n\n    };\n    caffeineCacheManager.setCaffeine(caffeineCacheBuilder());\n\n    return caffeineCacheManager;\n  }\n</code></pre>\n<p>Any ideas on what else to try to make the cache.puts endpoint accurate?</p>\n"},{"tags":["java","postgresql","moqui"],"comments":[{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1656413459,"post_id":72784970,"comment_id":128560851,"body_markdown":"The error suggest that moqui doesn&#39;t support your Java version. Recent versions of Java have tightened things down. You probably need an earlier Java version (e.g. Java 11, maybe even Java 8).","body":"The error suggest that moqui doesn&#39;t support your Java version. Recent versions of Java have tightened things down. You probably need an earlier Java version (e.g. Java 11, maybe even Java 8)."},{"owner":{"account_id":3828929,"reputation":1731,"user_id":3175061,"display_name":"David E. Jones"},"score":0,"creation_date":1656611986,"post_id":72784970,"comment_id":128621527,"body_markdown":"You didn&#39;t mention adding the Postgres JDBC driver... is that on the classpath (in runtime/lib or elsewhere)?","body":"You didn&#39;t mention adding the Postgres JDBC driver... is that on the classpath (in runtime/lib or elsewhere)?"}],"answers":[{"tags":[],"owner":{"account_id":13459592,"reputation":53,"user_id":9712109,"display_name":"M.A.M"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676478350,"creation_date":1676478350,"answer_id":75462688,"question_id":72784970,"body_markdown":"your connection configuration is wrong, use this config\r\n\r\n    &lt;datasource group-name=&quot;transactional&quot; database-conf-name=&quot;postgres&quot; schema-name=&quot;public&quot; startup-add-missing=&quot;true&quot; runtime-add-missing=&quot;false&quot;&gt;\r\n            &lt;inline-jdbc jdbc-uri=&quot;jdbc:postgresql://localhost/moqui&quot; jdbc-username=&quot;dbUsername&quot; jdbc-password=&quot;dbPassword&quot;/&gt;\r\n&lt;/datasource&gt;\r\n\r\nReplace moqui with your database name,\r\n\r\nReplace dbUsername with your database username,\r\n\r\nReplace dbPassword with your database password\r\n\r\n","title":"Some errors when I start Moqui","body":"<p>your connection configuration is wrong, use this config</p>\n<pre><code>&lt;datasource group-name=&quot;transactional&quot; database-conf-name=&quot;postgres&quot; schema-name=&quot;public&quot; startup-add-missing=&quot;true&quot; runtime-add-missing=&quot;false&quot;&gt;\n        &lt;inline-jdbc jdbc-uri=&quot;jdbc:postgresql://localhost/moqui&quot; jdbc-username=&quot;dbUsername&quot; jdbc-password=&quot;dbPassword&quot;/&gt;\n</code></pre>\n\n<p>Replace moqui with your database name,</p>\n<p>Replace dbUsername with your database username,</p>\n<p>Replace dbPassword with your database password</p>\n"}],"owner":{"account_id":24645342,"reputation":1,"user_id":18543060,"display_name":"Đ&#236;nh Hiếu L&#234;"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":101,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1676478350,"creation_date":1656412791,"question_id":72784970,"body_markdown":"I am new to Moqui. I start moqui with these commands:\r\n```none\r\n$ git clone https://github.com/moqui/moqui-framework.git moqui\r\n$ cd moqui\r\n$ ./gradlew getComponent -Pcomponent=PopCommerce\r\n$ ./gradlew getComponent -Pcomponent=HiveMind\r\n$ ./gradlew downloadElasticSearch\r\n$ ./gradlew load\r\n```\r\nAnd I have some problems:\r\n```none\r\n20:33:03.043 ERROR main .moqui.i.e.EntityDatasourceFactoryImpl Error connecting to DataSource transactional (postgres), try 4 of 5: java.lang.ExceptionInInitializerError: Exception bitronix.tm.internal.BitronixRuntimeException: error initializing JdbcProxyFactory [in thread &quot;main&quot;]\r\n\r\n20:32:52.683  WARN c-jmx-worker b.tm.u.ManagementRegistrar Cannot execute ManagementRegisterCommand on object with name bitronix.tm:type=JDBC,UniqueName=transactional_DS,Id=4\r\n\r\n20:32:36.567 ERROR  main .moqui.i.e.EntityDatasourceFactoryImpl Error connecting to DataSource transactional (postgres), try 1 of 5: java.lang.reflect.InaccessibleObjectException: \r\nUnable to make protected final java.lang.Class java.lang.ClassLoader.defineClass(java.lang.String,byte[],int,int,java.security.ProtectionDomain) throws java.lang.ClassFormatError accessible: module java.base does not &quot;opens java.lang&quot; to unnamed module @56620197\r\n```\r\nHere is my file MoquiDefaultConf.xml:\r\n```xml\r\n&lt;default-property name=&quot;instance_purpose&quot; value=&quot;production&quot;/&gt;\r\n\r\n&lt;!-- Locale and Time Zone Properties --&gt;\r\n&lt;default-property name=&quot;default_locale&quot; value=&quot;en_US&quot;/&gt;\r\n&lt;default-property name=&quot;default_time_zone&quot; value=&quot;US/Pacific&quot;/&gt;\r\n&lt;default-property name=&quot;database_time_zone&quot; value=&quot;US/Pacific&quot;/&gt;\r\n\r\n&lt;!-- Web App Properties --&gt;\r\n&lt;default-property name=&quot;webapp_http_host&quot; value=&quot;&quot;/&gt;\r\n&lt;default-property name=&quot;webapp_http_port&quot; value=&quot;&quot;/&gt;\r\n&lt;default-property name=&quot;webapp_https_port&quot; value=&quot;&quot;/&gt;\r\n&lt;default-property name=&quot;webapp_https_enabled&quot; value=&quot;false&quot;/&gt;\r\n&lt;default-property name=&quot;webapp_allow_origins&quot; value=&quot;&quot;/&gt;\r\n&lt;default-property name=&quot;webapp_handle_cors&quot; value=&quot;true&quot;/&gt;\r\n&lt;default-property name=&quot;webapp_status_ips&quot; value=&quot;127.0.0.1&quot;/&gt;\r\n&lt;default-property name=&quot;webapp_require_session_token&quot; value=&quot;true&quot;/&gt;\r\n&lt;default-property name=&quot;webapp_upload_executable_allow&quot; value=&quot;false&quot;/&gt;\r\n&lt;default-property name=&quot;webapp_client_ip_header&quot; value=&quot;&quot;/&gt;\r\n\r\n&lt;!-- Properties for the primary (transactional group) datasource --&gt;\r\n&lt;default-property name=&quot;entity_ds_db_conf&quot; value=&quot;postgres&quot;/&gt;\r\n&lt;default-property name=&quot;entity_ds_host&quot; value=&quot;127.0.0.1&quot;/&gt;\r\n&lt;default-property name=&quot;entity_ds_port&quot; value=&quot;5432&quot;/&gt;\r\n&lt;default-property name=&quot;entity_ds_database&quot; value=&quot;h2&quot;/&gt;\r\n&lt;default-property name=&quot;entity_ds_url&quot; value=&quot;jdbc:h2:${moqui_runtime}/db/h2/${entity_ds_database};lock_timeout=30000&quot;/&gt;\r\n&lt;default-property name=&quot;entity_ds_schema&quot; value=&quot;&quot;/&gt;\r\n&lt;default-property name=&quot;entity_ds_user&quot; value=&quot;postgres&quot;/&gt;\r\n&lt;default-property name=&quot;entity_ds_password&quot; value=&quot;trunghung0804&quot;/&gt;\r\n&lt;default-property name=&quot;entity_ds_crypt_pass&quot; value=&quot;MoquiDefaultPassword:CHANGEME&quot;/&gt;\r\n&lt;default-property name=&quot;entity_ds_crypt_pass_old&quot; value=&quot;MoquiDefaultPassword:CHANGEME&quot;/&gt;\r\n&lt;default-property name=&quot;entity_add_missing_runtime&quot; value=&quot;false&quot;/&gt;\r\n&lt;default-property name=&quot;entity_add_missing_startup&quot; value=&quot;true&quot;/&gt;\r\n&lt;default-property name=&quot;entity_lock_track&quot; value=&quot;false&quot;/&gt;\r\n&lt;default-property name=&quot;entity_statement_timeout&quot; value=&quot;false&quot;/&gt;\r\n&lt;default-property name=&quot;entity_empty_db_load&quot; value=&quot;seed,seed-initial,install&quot;/&gt;\r\n```\r\nAnd my datasource configuration in MoquiDefaultConf.xml:\r\n```xml\r\n&lt;datasource group-name=&quot;transactional&quot; database-conf-name=&quot;${entity_ds_db_conf}&quot; schema-name=&quot;${entity_ds_schema}&quot;\r\n        runtime-add-missing=&quot;${entity_add_missing_runtime}&quot; startup-add-missing=&quot;${entity_add_missing_startup}&quot;&gt;\r\n    &lt;!-- by default no inline-jdbc or jndi-jdbc elements, use default from database conf --&gt;\r\n&lt;/datasource&gt;\r\n&lt;datasource group-name=&quot;transactional&quot; database-conf-name=&quot;postgres&quot; schema-name=&quot;&quot;&gt;\r\n    &lt;inline-jdbc pool-minsize=&quot;5&quot; pool-maxsize=&quot;50&quot;&gt;\r\n        &lt;xa-properties user=&quot;postgres&quot; password=&quot;trunghung0804&quot; pinGlobalTxToPhysicalConnection=&quot;true&quot;\r\n                       serverName=&quot;127.0.0.1&quot; port=&quot;5432&quot; databaseName=&quot;moqui&quot; autoReconnectForPools=&quot;true&quot;\r\n                       useUnicode=&quot;true&quot; encoding=&quot;UTF-8&quot;/&gt;\r\n    &lt;/inline-jdbc&gt;\r\n&lt;/datasource&gt;\r\n```\r\nAnd here is database I connect to:\r\n[enter image description here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/AtcEK.png","title":"Some errors when I start Moqui","body":"<p>I am new to Moqui. I start moqui with these commands:</p>\n<pre class=\"lang-none prettyprint-override\"><code>$ git clone https://github.com/moqui/moqui-framework.git moqui\n$ cd moqui\n$ ./gradlew getComponent -Pcomponent=PopCommerce\n$ ./gradlew getComponent -Pcomponent=HiveMind\n$ ./gradlew downloadElasticSearch\n$ ./gradlew load\n</code></pre>\n<p>And I have some problems:</p>\n<pre class=\"lang-none prettyprint-override\"><code>20:33:03.043 ERROR main .moqui.i.e.EntityDatasourceFactoryImpl Error connecting to DataSource transactional (postgres), try 4 of 5: java.lang.ExceptionInInitializerError: Exception bitronix.tm.internal.BitronixRuntimeException: error initializing JdbcProxyFactory [in thread &quot;main&quot;]\n\n20:32:52.683  WARN c-jmx-worker b.tm.u.ManagementRegistrar Cannot execute ManagementRegisterCommand on object with name bitronix.tm:type=JDBC,UniqueName=transactional_DS,Id=4\n\n20:32:36.567 ERROR  main .moqui.i.e.EntityDatasourceFactoryImpl Error connecting to DataSource transactional (postgres), try 1 of 5: java.lang.reflect.InaccessibleObjectException: \nUnable to make protected final java.lang.Class java.lang.ClassLoader.defineClass(java.lang.String,byte[],int,int,java.security.ProtectionDomain) throws java.lang.ClassFormatError accessible: module java.base does not &quot;opens java.lang&quot; to unnamed module @56620197\n</code></pre>\n<p>Here is my file MoquiDefaultConf.xml:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;default-property name=&quot;instance_purpose&quot; value=&quot;production&quot;/&gt;\n\n&lt;!-- Locale and Time Zone Properties --&gt;\n&lt;default-property name=&quot;default_locale&quot; value=&quot;en_US&quot;/&gt;\n&lt;default-property name=&quot;default_time_zone&quot; value=&quot;US/Pacific&quot;/&gt;\n&lt;default-property name=&quot;database_time_zone&quot; value=&quot;US/Pacific&quot;/&gt;\n\n&lt;!-- Web App Properties --&gt;\n&lt;default-property name=&quot;webapp_http_host&quot; value=&quot;&quot;/&gt;\n&lt;default-property name=&quot;webapp_http_port&quot; value=&quot;&quot;/&gt;\n&lt;default-property name=&quot;webapp_https_port&quot; value=&quot;&quot;/&gt;\n&lt;default-property name=&quot;webapp_https_enabled&quot; value=&quot;false&quot;/&gt;\n&lt;default-property name=&quot;webapp_allow_origins&quot; value=&quot;&quot;/&gt;\n&lt;default-property name=&quot;webapp_handle_cors&quot; value=&quot;true&quot;/&gt;\n&lt;default-property name=&quot;webapp_status_ips&quot; value=&quot;127.0.0.1&quot;/&gt;\n&lt;default-property name=&quot;webapp_require_session_token&quot; value=&quot;true&quot;/&gt;\n&lt;default-property name=&quot;webapp_upload_executable_allow&quot; value=&quot;false&quot;/&gt;\n&lt;default-property name=&quot;webapp_client_ip_header&quot; value=&quot;&quot;/&gt;\n\n&lt;!-- Properties for the primary (transactional group) datasource --&gt;\n&lt;default-property name=&quot;entity_ds_db_conf&quot; value=&quot;postgres&quot;/&gt;\n&lt;default-property name=&quot;entity_ds_host&quot; value=&quot;127.0.0.1&quot;/&gt;\n&lt;default-property name=&quot;entity_ds_port&quot; value=&quot;5432&quot;/&gt;\n&lt;default-property name=&quot;entity_ds_database&quot; value=&quot;h2&quot;/&gt;\n&lt;default-property name=&quot;entity_ds_url&quot; value=&quot;jdbc:h2:${moqui_runtime}/db/h2/${entity_ds_database};lock_timeout=30000&quot;/&gt;\n&lt;default-property name=&quot;entity_ds_schema&quot; value=&quot;&quot;/&gt;\n&lt;default-property name=&quot;entity_ds_user&quot; value=&quot;postgres&quot;/&gt;\n&lt;default-property name=&quot;entity_ds_password&quot; value=&quot;trunghung0804&quot;/&gt;\n&lt;default-property name=&quot;entity_ds_crypt_pass&quot; value=&quot;MoquiDefaultPassword:CHANGEME&quot;/&gt;\n&lt;default-property name=&quot;entity_ds_crypt_pass_old&quot; value=&quot;MoquiDefaultPassword:CHANGEME&quot;/&gt;\n&lt;default-property name=&quot;entity_add_missing_runtime&quot; value=&quot;false&quot;/&gt;\n&lt;default-property name=&quot;entity_add_missing_startup&quot; value=&quot;true&quot;/&gt;\n&lt;default-property name=&quot;entity_lock_track&quot; value=&quot;false&quot;/&gt;\n&lt;default-property name=&quot;entity_statement_timeout&quot; value=&quot;false&quot;/&gt;\n&lt;default-property name=&quot;entity_empty_db_load&quot; value=&quot;seed,seed-initial,install&quot;/&gt;\n</code></pre>\n<p>And my datasource configuration in MoquiDefaultConf.xml:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;datasource group-name=&quot;transactional&quot; database-conf-name=&quot;${entity_ds_db_conf}&quot; schema-name=&quot;${entity_ds_schema}&quot;\n        runtime-add-missing=&quot;${entity_add_missing_runtime}&quot; startup-add-missing=&quot;${entity_add_missing_startup}&quot;&gt;\n    &lt;!-- by default no inline-jdbc or jndi-jdbc elements, use default from database conf --&gt;\n&lt;/datasource&gt;\n&lt;datasource group-name=&quot;transactional&quot; database-conf-name=&quot;postgres&quot; schema-name=&quot;&quot;&gt;\n    &lt;inline-jdbc pool-minsize=&quot;5&quot; pool-maxsize=&quot;50&quot;&gt;\n        &lt;xa-properties user=&quot;postgres&quot; password=&quot;trunghung0804&quot; pinGlobalTxToPhysicalConnection=&quot;true&quot;\n                       serverName=&quot;127.0.0.1&quot; port=&quot;5432&quot; databaseName=&quot;moqui&quot; autoReconnectForPools=&quot;true&quot;\n                       useUnicode=&quot;true&quot; encoding=&quot;UTF-8&quot;/&gt;\n    &lt;/inline-jdbc&gt;\n&lt;/datasource&gt;\n</code></pre>\n<p>And here is database I connect to:\n<a href=\"https://i.stack.imgur.com/AtcEK.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"},{"tags":["java","exception","try-catch","runtimeexception"],"comments":[{"owner":{"account_id":6079355,"reputation":1914,"user_id":4745608,"display_name":"Aleksandr Erokhin"},"score":1,"creation_date":1627991152,"post_id":68635149,"comment_id":121297691,"body_markdown":"Yes, but you don&#39;t have this information anymore in `catch` block. So all is known there is that I am throwing an `Exception`.","body":"Yes, but you don&#39;t have this information anymore in <code>catch</code> block. So all is known there is that I am throwing an <code>Exception</code>."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1627992881,"post_id":68635149,"comment_id":121298350,"body_markdown":"Section 14.18 of the JLS seems relevant. Throwing is fine on compile-time when *The type of the Expression is an unchecked exception class (&#167;11.1.1) …* It doesn’t say directly whether it means the declared type or some inferred runtime type, though, …","body":"Section 14.18 of the JLS seems relevant. Throwing is fine on compile-time when <i>The type of the Expression is an unchecked exception class (&#167;11.1.1) …</i> It doesn’t say directly whether it means the declared type or some inferred runtime type, though, …"},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1627992980,"post_id":68635149,"comment_id":121298390,"body_markdown":"Your code compiles and runs on Java 7.","body":"Your code compiles and runs on Java 7."},{"owner":{"account_id":6079355,"reputation":1914,"user_id":4745608,"display_name":"Aleksandr Erokhin"},"score":1,"creation_date":1628000090,"post_id":68635149,"comment_id":121301764,"body_markdown":"It doesn&#39;t compile with Java 6 though. I&#39;ve update d the question.","body":"It doesn&#39;t compile with Java 6 though. I&#39;ve update d the question."}],"answers":[{"tags":[],"owner":{"account_id":6079355,"reputation":1914,"user_id":4745608,"display_name":"Aleksandr Erokhin"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1628001791,"creation_date":1628001791,"answer_id":68638157,"question_id":68635149,"body_markdown":"It looks like that this is one of the effects of the enhancement in Java 7: [Catching Multiple Exception Types and Rethrowing Exceptions with Improved Type Checking][1]. See section **&quot;Rethrowing Exceptions with More Inclusive Type Checking.&quot;**\r\n\r\n&gt; The Java SE 7 compiler can determine that the exception thrown by the statement throw e must have come from the try block, and the only exceptions thrown by the try block can be FirstException and SecondException. Even though the exception parameter of the catch clause, e, is type Exception, the compiler can determine that it is an instance of either FirstException or SecondException.\r\n\r\nPlease note, that the following will not compile though even in Java 7 and above:\r\n\r\n```\r\npublic class Test {\r\n    public static void main(String[] args){\r\n        try {\r\n            throw new RuntimeException();\r\n        } catch (Exception e) {\r\n\t        Exception e1 = e;\r\n            throw e1;\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nBecause:\r\n&gt; This analysis is disabled if the catch parameter is assigned to another value in the catch block.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/technotes/guides/language/catch-multiple.html","title":"Rethrowing RuntimeException as Exception","body":"<p>It looks like that this is one of the effects of the enhancement in Java 7: <a href=\"https://docs.oracle.com/javase/7/docs/technotes/guides/language/catch-multiple.html\" rel=\"nofollow noreferrer\">Catching Multiple Exception Types and Rethrowing Exceptions with Improved Type Checking</a>. See section <strong>&quot;Rethrowing Exceptions with More Inclusive Type Checking.&quot;</strong></p>\n<blockquote>\n<p>The Java SE 7 compiler can determine that the exception thrown by the statement throw e must have come from the try block, and the only exceptions thrown by the try block can be FirstException and SecondException. Even though the exception parameter of the catch clause, e, is type Exception, the compiler can determine that it is an instance of either FirstException or SecondException.</p>\n</blockquote>\n<p>Please note, that the following will not compile though even in Java 7 and above:</p>\n<pre><code>public class Test {\n    public static void main(String[] args){\n        try {\n            throw new RuntimeException();\n        } catch (Exception e) {\n            Exception e1 = e;\n            throw e1;\n        }\n    }\n}\n</code></pre>\n<p>Because:</p>\n<blockquote>\n<p>This analysis is disabled if the catch parameter is assigned to another value in the catch block.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676478071,"creation_date":1676478071,"answer_id":75462634,"question_id":68635149,"body_markdown":"The part of the Java Language Specification that governs this can be found in [JLS 11.2.2](https://docs.oracle.com/javase/specs/jls/se17/html/jls-11.html#jls-11.2.2)\r\n\r\n&gt; 11.2.2. Exception Analysis of Statements \r\n&gt; ---------------------\r\n&gt;\r\n&gt; ...\r\n&gt;\r\n&gt; A `throw` statement whose thrown expression is a final or effectively\r\n&gt; final exception parameter of a `catch` clause C can throw an exception\r\n&gt; class E *iff*:\r\n&gt; \r\n&gt; - E is an exception class that the try block of the `try` statement which declares C can throw; and\r\n&gt; \r\n&gt; - E is assignment compatible with any of C&#39;s catchable exception classes; and\r\n&gt; \r\n&gt; - E is not assignment compatible with any of the catchable exception classes of the `catch` clauses declared to the left of C in the same `try`\r\n&gt; statement.\r\n\r\nWhen E is `RuntimeException` 1) E can be thrown in the try block, 2) the catch clause can catch it, and 3) there are no catch clauses &quot;to the left&quot;.  Therefore the `throw` in the catch clause **can** throw `RuntimeException`.\r\n\r\nOn the other hand, E is `Exception`, E cannot be thrown in the try block.  Therefore the `throw` in the catch clause **cannot** throw `Exception`.\r\n\r\n\r\n\r\n","title":"Rethrowing RuntimeException as Exception","body":"<p>The part of the Java Language Specification that governs this can be found in <a href=\"https://docs.oracle.com/javase/specs/jls/se17/html/jls-11.html#jls-11.2.2\" rel=\"nofollow noreferrer\">JLS 11.2.2</a></p>\n<blockquote>\n<h2>11.2.2. Exception Analysis of Statements</h2>\n<p>...</p>\n<p>A <code>throw</code> statement whose thrown expression is a final or effectively\nfinal exception parameter of a <code>catch</code> clause C can throw an exception\nclass E <em>iff</em>:</p>\n<ul>\n<li><p>E is an exception class that the try block of the <code>try</code> statement which declares C can throw; and</p>\n</li>\n<li><p>E is assignment compatible with any of C's catchable exception classes; and</p>\n</li>\n<li><p>E is not assignment compatible with any of the catchable exception classes of the <code>catch</code> clauses declared to the left of C in the same <code>try</code>\nstatement.</p>\n</li>\n</ul>\n</blockquote>\n<p>When E is <code>RuntimeException</code> 1) E can be thrown in the try block, 2) the catch clause can catch it, and 3) there are no catch clauses &quot;to the left&quot;.  Therefore the <code>throw</code> in the catch clause <strong>can</strong> throw <code>RuntimeException</code>.</p>\n<p>On the other hand, E is <code>Exception</code>, E cannot be thrown in the try block.  Therefore the <code>throw</code> in the catch clause <strong>cannot</strong> throw <code>Exception</code>.</p>\n"}],"owner":{"account_id":6079355,"reputation":1914,"user_id":4745608,"display_name":"Aleksandr Erokhin"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":392,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":68638157,"answer_count":2,"score":2,"last_activity_date":1676478071,"creation_date":1627989764,"question_id":68635149,"body_markdown":"Java allows me to compile the following code without any issues:\r\n\r\n```\r\npublic class Test {\r\n    public static void main(String[] args){\r\n        try {\r\n            throw new RuntimeException();\r\n        } catch (Exception e) {\r\n            throw e;\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nEven though [java.lang.Exception][1] is a checked exception. Meaning that I am rethrowing unchecked exception as checked and get away with that.\r\n\r\nMost likely Java compiler is able to figure out that no checked exception is thrown in the try block, but I can&#39;t find the section in the specification that backups that.\r\n\r\nCan one rely on this behavior and starting from which JDK version?\r\n\r\nUpdate:\r\nThis class doesn&#39;t compile with Java 1.6.0_38 with the following message:\r\n```\r\nTest.java:6: unreported exception java.lang.Exception; must be caught or declared to be thrown\r\n            throw e;\r\n            ^\r\n1 error\r\n```\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Exception.html","title":"Rethrowing RuntimeException as Exception","body":"<p>Java allows me to compile the following code without any issues:</p>\n<pre><code>public class Test {\n    public static void main(String[] args){\n        try {\n            throw new RuntimeException();\n        } catch (Exception e) {\n            throw e;\n        }\n    }\n}\n</code></pre>\n<p>Even though <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Exception.html\" rel=\"nofollow noreferrer\">java.lang.Exception</a> is a checked exception. Meaning that I am rethrowing unchecked exception as checked and get away with that.</p>\n<p>Most likely Java compiler is able to figure out that no checked exception is thrown in the try block, but I can't find the section in the specification that backups that.</p>\n<p>Can one rely on this behavior and starting from which JDK version?</p>\n<p>Update:\nThis class doesn't compile with Java 1.6.0_38 with the following message:</p>\n<pre><code>Test.java:6: unreported exception java.lang.Exception; must be caught or declared to be thrown\n            throw e;\n            ^\n1 error\n</code></pre>\n"},{"tags":["java","cucumber","cucumber-jvm","cucumber-java","testng-dataprovider"],"owner":{"account_id":6205834,"reputation":1451,"user_id":4833874,"accept_rate":50,"display_name":"Alok"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":116,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676477633,"creation_date":1676477633,"question_id":75462545,"body_markdown":"I am trying to run my Cucumber scenarios in parallel using the TestNG. \r\nBut when I run it `&#39;parallel=true&#39;` it executes the test cases in thread count=10 (testng default). \r\n\r\nI want to customise the thread count to say 2 or 3. How do I do that.?\r\nI want to run this through IntelliJ as well as through the command line (terminal)\r\nTried using the `&#39;jvmArgs([&quot;-Ddataproviderthreadcount=2&quot;])&#39;`\r\n\r\n**CucumberTestNGRunner**\r\n    \r\n    import io.cucumber.junit.Cucumber;\r\n    import io.cucumber.testng.CucumberOptions;\r\n    import io.cucumber.testng.AbstractTestNGCucumberTests;\r\n    import org.apache.logging.log4j.LogManager;\r\n    import org.apache.logging.log4j.Logger;\r\n    import org.junit.runner.RunWith;\r\n    import org.testng.annotations.AfterSuite;\r\n    import org.testng.annotations.DataProvider;\r\n     \r\n    @RunWith(Cucumber.class)\r\n    @CucumberOptions(\r\n            features = {&quot;path/to/features&quot;},\r\n            glue = {&quot;path.to.stepdep.package&quot;},\r\n            plugin = {&quot;pretty&quot;},\r\n            tags = &quot;@smoke&quot;,\r\n            dryRun = false,\r\n            monochrome = true\r\n    )\r\n    public class CucumberTestNGRunner extends AbstractTestNGCucumberTests {\r\n    \r\n        @Override\r\n        @DataProvider(parallel = true)\r\n        public Object[][] scenarios() {\r\n            return super.scenarios();\r\n        }\r\n    }\r\n\r\n\r\n**build.gradle (snippet) :**\r\n\r\n    test {\r\n    \tuseTestNG()\r\n        //jvmArgs([&quot;-Ddataproviderthreadcount=2&quot;])\r\n    \tscanForTestClasses = false\r\n    \ttestLogging.showStandardStreams = true\r\n    \tsystemProperties = System.properties\r\n    }","title":"Cucumber TestNG Gradle Parallel Execution ThreadCount","body":"<p>I am trying to run my Cucumber scenarios in parallel using the TestNG.\nBut when I run it <code>'parallel=true'</code> it executes the test cases in thread count=10 (testng default).</p>\n<p>I want to customise the thread count to say 2 or 3. How do I do that.?\nI want to run this through IntelliJ as well as through the command line (terminal)\nTried using the <code>'jvmArgs([&quot;-Ddataproviderthreadcount=2&quot;])'</code></p>\n<p><strong>CucumberTestNGRunner</strong></p>\n<pre><code>import io.cucumber.junit.Cucumber;\nimport io.cucumber.testng.CucumberOptions;\nimport io.cucumber.testng.AbstractTestNGCucumberTests;\nimport org.apache.logging.log4j.LogManager;\nimport org.apache.logging.log4j.Logger;\nimport org.junit.runner.RunWith;\nimport org.testng.annotations.AfterSuite;\nimport org.testng.annotations.DataProvider;\n \n@RunWith(Cucumber.class)\n@CucumberOptions(\n        features = {&quot;path/to/features&quot;},\n        glue = {&quot;path.to.stepdep.package&quot;},\n        plugin = {&quot;pretty&quot;},\n        tags = &quot;@smoke&quot;,\n        dryRun = false,\n        monochrome = true\n)\npublic class CucumberTestNGRunner extends AbstractTestNGCucumberTests {\n\n    @Override\n    @DataProvider(parallel = true)\n    public Object[][] scenarios() {\n        return super.scenarios();\n    }\n}\n</code></pre>\n<p><strong>build.gradle (snippet) :</strong></p>\n<pre><code>test {\n    useTestNG()\n    //jvmArgs([&quot;-Ddataproviderthreadcount=2&quot;])\n    scanForTestClasses = false\n    testLogging.showStandardStreams = true\n    systemProperties = System.properties\n}\n</code></pre>\n"},{"tags":["java","docker","testcontainers"],"comments":[{"owner":{"account_id":2537085,"reputation":6205,"user_id":2203890,"display_name":"Edd&#250; Mel&#233;ndez"},"score":0,"creation_date":1667510698,"post_id":74309482,"comment_id":131190261,"body_markdown":"when running testcontainers it will be using the docker in your host machine and in your case, the container is where you are building the image and doesn&#39;t have a socker. See this documentation https://www.testcontainers.org/supported_docker_environment/continuous_integration/dind_patterns/#docker-only-example","body":"when running testcontainers it will be using the docker in your host machine and in your case, the container is where you are building the image and doesn&#39;t have a socker. See this documentation <a href=\"https://www.testcontainers.org/supported_docker_environment/continuous_integration/dind_patterns/#docker-only-example\" rel=\"nofollow noreferrer\">testcontainers.org/supported_docker_environment/&hellip;</a>"},{"owner":{"account_id":13863020,"reputation":137043,"user_id":10008173,"display_name":"David Maze"},"score":0,"creation_date":1667511233,"post_id":74309482,"comment_id":131190391,"body_markdown":"The build sequence can&#39;t usually mount anything or call across to other containers.  Can you modify your tests to have pure unit tests without dependencies on external resources, or modify your build sequence to not run these tests during the image build?","body":"The build sequence can&#39;t usually mount anything or call across to other containers.  Can you modify your tests to have pure unit tests without dependencies on external resources, or modify your build sequence to not run these tests during the image build?"},{"owner":{"account_id":13863020,"reputation":137043,"user_id":10008173,"display_name":"David Maze"},"score":0,"creation_date":1667511294,"post_id":74309482,"comment_id":131190411,"body_markdown":"(Also remember that anyone who can access the Docker socket can very easily root the host it&#39;s running on.  My local security team is a little uncomfortable with Testcontainers for all but giving developers unrestricted root access on the CI systems.)","body":"(Also remember that anyone who can access the Docker socket can very easily root the host it&#39;s running on.  My local security team is a little uncomfortable with Testcontainers for all but giving developers unrestricted root access on the CI systems.)"},{"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"score":0,"creation_date":1667513777,"post_id":74309482,"comment_id":131191062,"body_markdown":"For the security aspect podman can be a solution. It would limit the impact, but if a CI/CD system is running everything with the same user it almost shows the same problem.","body":"For the security aspect podman can be a solution. It would limit the impact, but if a CI/CD system is running everything with the same user it almost shows the same problem."},{"owner":{"account_id":1488715,"reputation":1432,"user_id":1396362,"display_name":"Kevin Wittek"},"score":0,"creation_date":1667831930,"post_id":74309482,"comment_id":131255211,"body_markdown":"You can use Testcontainers with a remote Docker host as well, so there is no need to give &quot;root access&quot; to the CI system. In a similar way, you can also use rootless Docker. Regarding the original question, using Testcontainers as part of the Docker build is more complicated and works probably best when using a remote Docker daemon from outside the build process, using `DOCKER_HOST`.","body":"You can use Testcontainers with a remote Docker host as well, so there is no need to give &quot;root access&quot; to the CI system. In a similar way, you can also use rootless Docker. Regarding the original question, using Testcontainers as part of the Docker build is more complicated and works probably best when using a remote Docker daemon from outside the build process, using <code>DOCKER_HOST</code>."}],"owner":{"account_id":1109371,"reputation":14160,"user_id":1100135,"accept_rate":53,"display_name":"piotrek"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":958,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1676477422,"creation_date":1667509140,"question_id":74309482,"body_markdown":"I want to build an application. For testing it uses testcontainers. The build will run on [CI][1] and on the developers&#39; machines. The Dockerfile is more or less:\r\n\r\n```lang-yaml\r\nFROM amazoncorretto:17-alpine as builder\r\nadd . .\r\nrun ./gradlew build\r\n\r\nfrom amazoncorretto:17-alpine\r\ncopy --from=builder build/libs/*.jar app.jar\r\nENTRYPOINT [&quot;java&quot;,&quot;-jar&quot;,&quot;/app.jar&quot;]\r\n```\r\n\r\nAnd I run the build using `docker build .`\r\n\r\nPart of the `./gradlew build` runs tests with Testscontainers and uses\r\n\r\n```\r\nval sftpDocker = GenericContainer(DockerImageName.parse(&quot;atmoz/sftp:alpine&quot;))\r\n```\r\n\r\nAnd it returns\r\n\r\n&gt; java.lang.IllegalStateException: Could not find a valid Docker environment. Please see logs and check configuration\r\n\r\nI know that:\r\n\r\n* Testcontainers has its own docker API client and doesn&#39;t requires installed docker inside the [Alpine][2] container [3]\r\n* Someone made it using `&quot;docker:20.10.14-dind&quot;` image. But I don&#39;t know how it fits in my problem [4]\r\n* I can mount the `/var/run/docker.sock` during `docker run ...` but I&#39;m using `RUN` command inside dockerfile and `docker build ...` instead\r\n* I can expose `DOCKER_HOST` and testcontainers should use the default gateway&#39;s IP address. But it&#39;s way less secure than using socket\r\n\r\nSo is there a way to use a socket in this setup? If not, how should I run my host Docker to expose TCP instead of a socket?\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Continuous_integration\r\n  [2]: https://en.wikipedia.org/wiki/Alpine_Linux\r\n  [3]: https://stackoverflow.com/questions/59579845/testcontainers-running-testcontainers-tests-inside-docker-running-docker-ins#comment106017149_59934439\r\n  [4]: https://stackoverflow.com/a/71779583/1100135\r\n\r\n\r\n","title":"How can I use Testcontainers to build a Dockerfile?","body":"<p>I want to build an application. For testing it uses testcontainers. The build will run on <a href=\"https://en.wikipedia.org/wiki/Continuous_integration\" rel=\"nofollow noreferrer\">CI</a> and on the developers' machines. The Dockerfile is more or less:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>FROM amazoncorretto:17-alpine as builder\nadd . .\nrun ./gradlew build\n\nfrom amazoncorretto:17-alpine\ncopy --from=builder build/libs/*.jar app.jar\nENTRYPOINT [&quot;java&quot;,&quot;-jar&quot;,&quot;/app.jar&quot;]\n</code></pre>\n<p>And I run the build using <code>docker build .</code></p>\n<p>Part of the <code>./gradlew build</code> runs tests with Testscontainers and uses</p>\n<pre><code>val sftpDocker = GenericContainer(DockerImageName.parse(&quot;atmoz/sftp:alpine&quot;))\n</code></pre>\n<p>And it returns</p>\n<blockquote>\n<p>java.lang.IllegalStateException: Could not find a valid Docker environment. Please see logs and check configuration</p>\n</blockquote>\n<p>I know that:</p>\n<ul>\n<li>Testcontainers has its own docker API client and doesn't requires installed docker inside the <a href=\"https://en.wikipedia.org/wiki/Alpine_Linux\" rel=\"nofollow noreferrer\">Alpine</a> container <a href=\"https://stackoverflow.com/questions/59579845/testcontainers-running-testcontainers-tests-inside-docker-running-docker-ins#comment106017149_59934439\">3</a></li>\n<li>Someone made it using <code>&quot;docker:20.10.14-dind&quot;</code> image. But I don't know how it fits in my problem <a href=\"https://stackoverflow.com/a/71779583/1100135\">4</a></li>\n<li>I can mount the <code>/var/run/docker.sock</code> during <code>docker run ...</code> but I'm using <code>RUN</code> command inside dockerfile and <code>docker build ...</code> instead</li>\n<li>I can expose <code>DOCKER_HOST</code> and testcontainers should use the default gateway's IP address. But it's way less secure than using socket</li>\n</ul>\n<p>So is there a way to use a socket in this setup? If not, how should I run my host Docker to expose TCP instead of a socket?</p>\n"},{"tags":["java","android","flutter","android-management-api","android-device-manager"],"answers":[{"tags":[],"owner":{"account_id":20029066,"reputation":71,"user_id":14682276,"display_name":"Gautam Bhateja"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1668435398,"creation_date":1668435398,"answer_id":74433062,"question_id":74241302,"body_markdown":"This thing can be done by implementing pub/sub in which I can subscribe every enterprise to a certain topic and allow ENROLLMENT notification which listens for such notifications.","title":"Get details from Android Device Policy after enrolment via Android Management API using flutter","body":"<p>This thing can be done by implementing pub/sub in which I can subscribe every enterprise to a certain topic and allow ENROLLMENT notification which listens for such notifications.</p>\n"},{"tags":[],"owner":{"account_id":17124311,"reputation":356,"user_id":12391896,"display_name":"Rey V. Aquino"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676477087,"creation_date":1676477087,"answer_id":75462434,"question_id":74241302,"body_markdown":"To identify which enrollment token an admin used during device provisioning, you can use the [devices.get][1] method. When using this method, the following fields will provide relevant information about the token:\r\n\r\n - The [enrollmentTokenName][2] field contains the token&#39;s name.\r\n - The [enrollmentTokenData][3] field - if an enrollment token provides additional data, this field contains that data.\r\n\r\nAdditionally, you can also use [enrollmentTokens.get][4] to get more information about the enrollment used. This method gets an *active, unexpired enrollment token*, and only a partial view of EnrollmentToken is returned (all the fields but `name` and `expirationTimestamp` are empty).\r\n\r\n\r\n  [1]: https://developers.google.com/android/management/reference/rest/v1/enterprises.devices/get\r\n  [2]: https://developers.google.com/android/management/reference/rest/v1/enterprises.devices#Device.FIELDS.enrollment_token_name:~:text=contains%20that%20data.-,enrollmentTokenName,-string\r\n  [3]: https://developers.google.com/android/management/reference/rest/v1/enterprises.devices#Device.FIELDS.enrollment_token_name:~:text=on%20the%20device.-,enrollmentTokenData,-string\r\n  [4]: https://developers.google.com/android/management/reference/rest/v1/enterprises.enrollmentTokens/get","title":"Get details from Android Device Policy after enrolment via Android Management API using flutter","body":"<p>To identify which enrollment token an admin used during device provisioning, you can use the <a href=\"https://developers.google.com/android/management/reference/rest/v1/enterprises.devices/get\" rel=\"nofollow noreferrer\">devices.get</a> method. When using this method, the following fields will provide relevant information about the token:</p>\n<ul>\n<li>The <a href=\"https://developers.google.com/android/management/reference/rest/v1/enterprises.devices#Device.FIELDS.enrollment_token_name:%7E:text=contains%20that%20data.-,enrollmentTokenName,-string\" rel=\"nofollow noreferrer\">enrollmentTokenName</a> field contains the token's name.</li>\n<li>The <a href=\"https://developers.google.com/android/management/reference/rest/v1/enterprises.devices#Device.FIELDS.enrollment_token_name:%7E:text=on%20the%20device.-,enrollmentTokenData,-string\" rel=\"nofollow noreferrer\">enrollmentTokenData</a> field - if an enrollment token provides additional data, this field contains that data.</li>\n</ul>\n<p>Additionally, you can also use <a href=\"https://developers.google.com/android/management/reference/rest/v1/enterprises.enrollmentTokens/get\" rel=\"nofollow noreferrer\">enrollmentTokens.get</a> to get more information about the enrollment used. This method gets an <em>active, unexpired enrollment token</em>, and only a partial view of EnrollmentToken is returned (all the fields but <code>name</code> and <code>expirationTimestamp</code> are empty).</p>\n"}],"owner":{"account_id":20029066,"reputation":71,"user_id":14682276,"display_name":"Gautam Bhateja"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":303,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74433062,"answer_count":2,"score":1,"last_activity_date":1676477087,"creation_date":1666994337,"question_id":74241302,"body_markdown":"I enroll a fully-managed device with Android Management API using qrCode.\r\n\r\nAfter enrollment, **I want to get any kind of detail of enrolmentToken or qrCode that was used to enroll the device**, so I can ping my server of the details and update the database accordingly.\r\n\r\nI want to implement this in flutter framework.","title":"Get details from Android Device Policy after enrolment via Android Management API using flutter","body":"<p>I enroll a fully-managed device with Android Management API using qrCode.</p>\n<p>After enrollment, <strong>I want to get any kind of detail of enrolmentToken or qrCode that was used to enroll the device</strong>, so I can ping my server of the details and update the database accordingly.</p>\n<p>I want to implement this in flutter framework.</p>\n"},{"tags":["java","aws-sdk","amazon-kinesis","amazon-kinesis-kpl"],"owner":{"account_id":27418311,"reputation":33,"user_id":20917163,"display_name":"Govind Yadav"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":139,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676477031,"creation_date":1673891921,"question_id":75137975,"body_markdown":"I am sending data to kinesis data stream using **putRecords** request **asynchronously** (500 records every time). There are 4 shards in the stream in which multiple putRecords requests continuously sends data using a for loop. But when I checked the stream metrics the Incoming data - sum (count) and Incoming data - sum (MB/s) are showing consumption very less comparatively (check screenshot). For example, The incoming data count can hold upto 1,200,000 but showing only 42,183 records being produced. I am expecting the consumption to be at-least half of the limits. \r\n\r\n**What can be reason for this behaviour?**\r\n\r\nAnd\r\n\r\n**How can I utilize the maximum capacity in the Kinesis Stream (At least half the maximum limit)**\r\n\r\nNote: There is no delay while sending the records from application\r\n\r\nCode:\r\n```\r\nAmazonKinesisAsync kinesisClient = AmazonKinesisAsyncClientBuilder.standard() // async cleint\r\n                        .withCredentials(DefaultAWSCredentialsProviderChain.getInstance())\r\n                        .withRegion(kinesisServiceConfig.getAwsRegion())\r\n                        .build();\r\n\r\nfor(long j=0; j&lt;1000000000; j++) {\r\n    PutRecordsRequest putRecordsRequest  = new PutRecordsRequest();\r\n    putRecordsRequest.setStreamName(streamName);\r\n    List &lt;PutRecordsRequestEntry&gt; putRecordsRequestEntryList  = new ArrayList&lt;&gt;(); \r\n    for (int i = 0; i &lt; 500; i++) { // 500 records kinesis limit for putRecords\r\n        PutRecordsRequestEntry putRecordsRequestEntry  = new PutRecordsRequestEntry();\r\n        putRecordsRequestEntry.setData(ByteBuffer.wrap(String.valueOf(i).getBytes()));\r\n        putRecordsRequestEntry.setPartitionKey(String.format(&quot;partitionKey-%d&quot;, i));\r\n        putRecordsRequestEntryList.add(putRecordsRequestEntry); \r\n    }\r\n\r\n    putRecordsRequest.setRecords(putRecordsRequestEntryList);\r\n    PutRecordsResult putRecordsResult  = kinesisClient.putRecords(putRecordsRequest);\r\n}\r\n    \r\n```\r\n[![enter image description here][1]][1]\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/WP17g.png\r\n\r\n\r\n  [2]: https://i.stack.imgur.com/Xg2xN.png","title":"Not utilising the full capacity of Amazon Kinesis Data Stream","body":"<p>I am sending data to kinesis data stream using <strong>putRecords</strong> request <strong>asynchronously</strong> (500 records every time). There are 4 shards in the stream in which multiple putRecords requests continuously sends data using a for loop. But when I checked the stream metrics the Incoming data - sum (count) and Incoming data - sum (MB/s) are showing consumption very less comparatively (check screenshot). For example, The incoming data count can hold upto 1,200,000 but showing only 42,183 records being produced. I am expecting the consumption to be at-least half of the limits.</p>\n<p><strong>What can be reason for this behaviour?</strong></p>\n<p>And</p>\n<p><strong>How can I utilize the maximum capacity in the Kinesis Stream (At least half the maximum limit)</strong></p>\n<p>Note: There is no delay while sending the records from application</p>\n<p>Code:</p>\n<pre><code>AmazonKinesisAsync kinesisClient = AmazonKinesisAsyncClientBuilder.standard() // async cleint\n                        .withCredentials(DefaultAWSCredentialsProviderChain.getInstance())\n                        .withRegion(kinesisServiceConfig.getAwsRegion())\n                        .build();\n\nfor(long j=0; j&lt;1000000000; j++) {\n    PutRecordsRequest putRecordsRequest  = new PutRecordsRequest();\n    putRecordsRequest.setStreamName(streamName);\n    List &lt;PutRecordsRequestEntry&gt; putRecordsRequestEntryList  = new ArrayList&lt;&gt;(); \n    for (int i = 0; i &lt; 500; i++) { // 500 records kinesis limit for putRecords\n        PutRecordsRequestEntry putRecordsRequestEntry  = new PutRecordsRequestEntry();\n        putRecordsRequestEntry.setData(ByteBuffer.wrap(String.valueOf(i).getBytes()));\n        putRecordsRequestEntry.setPartitionKey(String.format(&quot;partitionKey-%d&quot;, i));\n        putRecordsRequestEntryList.add(putRecordsRequestEntry); \n    }\n\n    putRecordsRequest.setRecords(putRecordsRequestEntryList);\n    PutRecordsResult putRecordsResult  = kinesisClient.putRecords(putRecordsRequest);\n}\n    \n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/WP17g.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/WP17g.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/Xg2xN.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Xg2xN.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","java-bytecode-asm"],"comments":[{"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":2,"creation_date":1676285463,"post_id":75434619,"comment_id":133099774,"body_markdown":"Why would you need that? This sounds like an [XY Problem](http://xyproblem.info/). It&#39;s not like there is a contiguous section of the class file that you can just take out and say &quot;this is all the bytes for the method `foo`&quot;. Sure, there is the `method_info` structure that you can get, but the information in it will not make sense unless you also have the constant pool.","body":"Why would you need that? This sounds like an <a href=\"http://xyproblem.info/\" rel=\"nofollow noreferrer\">XY Problem</a>. It&#39;s not like there is a contiguous section of the class file that you can just take out and say &quot;this is all the bytes for the method <code>foo</code>&quot;. Sure, there is the <code>method_info</code> structure that you can get, but the information in it will not make sense unless you also have the constant pool."},{"owner":{"account_id":3139322,"reputation":2855,"user_id":2655092,"accept_rate":80,"display_name":"whoopdedoo"},"score":0,"creation_date":1676290597,"post_id":75434619,"comment_id":133101138,"body_markdown":"i&#39;m trying to get all methods that contains a byte pattern","body":"i&#39;m trying to get all methods that contains a byte pattern"},{"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":1,"creation_date":1676291242,"post_id":75434619,"comment_id":133101318,"body_markdown":"And *why* are you doing that? What does the byte pattern mean?","body":"And <i>why</i> are you doing that? What does the byte pattern mean?"},{"owner":{"account_id":3139322,"reputation":2855,"user_id":2655092,"accept_rate":80,"display_name":"whoopdedoo"},"score":0,"creation_date":1676292438,"post_id":75434619,"comment_id":133101700,"body_markdown":"malware signature","body":"malware signature"},{"owner":{"account_id":17835,"reputation":303915,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1676370963,"post_id":75434619,"comment_id":133119178,"body_markdown":"Would it be too vague if you just searched for that byte sequence in the inputstream? or would you expect false positives?","body":"Would it be too vague if you just searched for that byte sequence in the inputstream? or would you expect false positives?"},{"owner":{"account_id":3139322,"reputation":2855,"user_id":2655092,"accept_rate":80,"display_name":"whoopdedoo"},"score":0,"creation_date":1676371455,"post_id":75434619,"comment_id":133119312,"body_markdown":"not sure i understand, somehow ASM reads the .class and knows how to split into methods, i need raw bytes of a method (for all methods)","body":"not sure i understand, somehow ASM reads the .class and knows how to split into methods, i need raw bytes of a method (for all methods)"}],"answers":[{"comments":[{"owner":{"account_id":3139322,"reputation":2855,"user_id":2655092,"accept_rate":80,"display_name":"whoopdedoo"},"score":0,"creation_date":1676457315,"post_id":75446881,"comment_id":133138952,"body_markdown":"Thank you. Reading classBuffer from bytecodeStartOffset to bytecodeEndOffset does not return the method&#39;s raw bytes","body":"Thank you. Reading classBuffer from bytecodeStartOffset to bytecodeEndOffset does not return the method&#39;s raw bytes"},{"owner":{"account_id":17835,"reputation":303915,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1676459278,"post_id":75446881,"comment_id":133139473,"body_markdown":"@whoopdedoo: how did you verify? And what exactly do you mean by &quot;method&#39;s raw bytes&quot;? Because it should return exactly the content of the `code` array in the [`Code` attribute](https://docs.oracle.com/javase/specs/jvms/se17/html/jvms-4.html#jvms-4.7.3) of the method. That&#39;s where the actual bytecode is. If you need anything else (like the whole `Code` attribute), then that should be findable within this method (or its callers) as well.","body":"@whoopdedoo: how did you verify? And what exactly do you mean by &quot;method&#39;s raw bytes&quot;? Because it should return exactly the content of the <code>code</code> array in the <a href=\"https://docs.oracle.com/javase/specs/jvms/se17/html/jvms-4.html#jvms-4.7.3\" rel=\"nofollow noreferrer\"><code>Code</code> attribute</a> of the method. That&#39;s where the actual bytecode is. If you need anything else (like the whole <code>Code</code> attribute), then that should be findable within this method (or its callers) as well."},{"owner":{"account_id":17835,"reputation":303915,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1676460405,"post_id":75446881,"comment_id":133139779,"body_markdown":"Are you perhaps looking for the entire `method_info` structure instead?","body":"Are you perhaps looking for the entire <code>method_info</code> structure instead?"}],"tags":[],"owner":{"account_id":17835,"reputation":303915,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676379876,"creation_date":1676372488,"answer_id":75446881,"question_id":75434619,"body_markdown":"I was curios, so I inspected the [code of the ASM `ClassReader` class][1].\r\n\r\nObviously, the library understands the class file structure and &quot;knows&quot; where the actual bytecode lives.\r\n\r\nHowever, it doesn&#39;t seem to expose that raw information to the caller, but only allows visiting individual bytecode instructions.\r\n\r\nThe relevant (internal) method is [`ClassReader.readCode`][2]. As far as I know after\r\n\r\n\r\n    final int bytecodeStartOffset = currentOffset;\r\n    final int bytecodeEndOffset = currentOffset + codeLength;\r\n\r\n`bytecodeStartOffset` and `bytecodeEndOffset` hold the limits of the code attribute you seem to be interested in, but those (and the underlying `byte[]`) don&#39;t get exposed to the caller directly.\r\n\r\nYou could try to patch the method to invoke some kind new of `visitRawCode` method on the visitor and/or request such a feature from the project. But as it stands, that doesn&#39;t seem to be a supported feature.\r\n\r\n  [1]: https://gitlab.ow2.org/asm/asm/-/blob/master/asm/src/main/java/org/objectweb/asm/ClassReader.java\r\n  [2]: https://gitlab.ow2.org/asm/asm/-/blob/master/asm/src/main/java/org/objectweb/asm/ClassReader.java#L1535","title":"Extract method raw bytes","body":"<p>I was curios, so I inspected the <a href=\"https://gitlab.ow2.org/asm/asm/-/blob/master/asm/src/main/java/org/objectweb/asm/ClassReader.java\" rel=\"nofollow noreferrer\">code of the ASM <code>ClassReader</code> class</a>.</p>\n<p>Obviously, the library understands the class file structure and &quot;knows&quot; where the actual bytecode lives.</p>\n<p>However, it doesn't seem to expose that raw information to the caller, but only allows visiting individual bytecode instructions.</p>\n<p>The relevant (internal) method is <a href=\"https://gitlab.ow2.org/asm/asm/-/blob/master/asm/src/main/java/org/objectweb/asm/ClassReader.java#L1535\" rel=\"nofollow noreferrer\"><code>ClassReader.readCode</code></a>. As far as I know after</p>\n<pre><code>final int bytecodeStartOffset = currentOffset;\nfinal int bytecodeEndOffset = currentOffset + codeLength;\n</code></pre>\n<p><code>bytecodeStartOffset</code> and <code>bytecodeEndOffset</code> hold the limits of the code attribute you seem to be interested in, but those (and the underlying <code>byte[]</code>) don't get exposed to the caller directly.</p>\n<p>You could try to patch the method to invoke some kind new of <code>visitRawCode</code> method on the visitor and/or request such a feature from the project. But as it stands, that doesn't seem to be a supported feature.</p>\n"},{"comments":[{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":3,"creation_date":1676501307,"post_id":75461858,"comment_id":133152076,"body_markdown":"Nice job finding two examples that compile into identical bytecode. Nicely shows that this approach is futile.","body":"Nice job finding two examples that compile into identical bytecode. Nicely shows that this approach is futile."}],"tags":[],"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1676477017,"creation_date":1676474114,"answer_id":75461858,"question_id":75434619,"body_markdown":"The ASM library is not designed to provide you raw bytes. But it’s not so hard to write a dedicated class file parser for such an extraction task using the [documentation of the class file format].\r\n\r\nThe bigger problem is the idea of performing a malware signature check on the method’s raw bytecode itself.\r\n\r\nConsider the following self-contained example:\r\n\r\n```java\r\nimport java.io.IOException;\r\nimport java.io.InputStream;\r\nimport java.nio.ByteBuffer;\r\nimport java.util.HexFormat;\r\n\r\npublic class BytecodeSignature {\r\n    static class Example1 extends BytecodeSignature {\r\n        void method() throws IOException {\r\n            Runtime.getRuntime().exec(&quot;/sbin/whatever&quot;, new String[0]);\r\n        }\r\n    }\r\n    static class Example2 extends BytecodeSignature {\r\n        void method() throws IOException {\r\n            System.console().printf(&quot;hello&quot;);\r\n        }\r\n    }\r\n\r\n    public static void main(String[] args) throws IOException {\r\n        String methodName = &quot;method&quot;;\r\n\r\n        for(Class&lt;?&gt; c: BytecodeSignature.class.getDeclaredClasses()) {\r\n            System.out.println(c);\r\n            ByteBuffer buf;\r\n            try(InputStream is = c.getResourceAsStream(c.getName() + &quot;.class&quot;)) {\r\n              buf = ByteBuffer.wrap(is.readAllBytes());\r\n            }\r\n            buf.position(8);\r\n            int codeCP = 0, methodNameCP = 0;\r\n            for(int cp = 1, num = buf.getChar(); cp &lt; num; cp++) {\r\n                switch(buf.get()) {\r\n                    default -&gt; throw new IllegalStateException();\r\n                    case Module, Package, Class, String, MethodType\r\n                         -&gt; buf.position(buf.position() + 2);\r\n                    case FieldRef, MethodRef, IfMethodRef, NameAndType,\r\n                         InvokeDynamic, ConstDynamic, Int, Float\r\n                        -&gt; buf.position(buf.position() + 4);\r\n                    case Double, Long -&gt; {buf.position(buf.position() + 8); cp++;}\r\n                    case MethodHandle -&gt; buf.position(buf.position() + 3);\r\n                    case Utf8 -&gt; {\r\n                        if(lookingAt(buf, &quot;Code&quot;)) codeCP = cp;\r\n                        if(lookingAt(buf, methodName)) methodNameCP = cp;\r\n                        buf.position(buf.getChar() + buf.position());\r\n                    }\r\n                }\r\n            }\r\n            if(codeCP == 0 || methodNameCP == 0) continue;\r\n\r\n            buf.position(buf.position() + 6);\r\n            buf.position(buf.getChar() + buf.position()); // skip interfaces\r\n            for(int memberKind = 0; memberKind &lt; 2; memberKind++) {\r\n                int numMembers = buf.getChar(); // memberKind: 0 fields, 1 methods\r\n                for(int m = 0; m &lt; numMembers; m++) {\r\n                    boolean targetMethod = memberKind != 0\r\n                        &amp;&amp; buf.getChar(buf.position() + 2) == methodNameCP;\r\n                    buf.position(buf.position() + 6);\r\n                    int numAttr = buf.getChar();\r\n                    for(int a = 0; a &lt; numAttr; a++) {\r\n                        int name = buf.getChar(), length = buf.getInt();\r\n                        if(targetMethod &amp;&amp; name == codeCP) printCode(buf);\r\n                        buf.position(buf.position() + length);\r\n                    }\r\n                }\r\n            }\r\n            System.out.println();\r\n        }\r\n    }\r\n\r\n    // ASCII only\r\n    private static boolean lookingAt(ByteBuffer buf, String string) {\r\n        int pos = buf.position();\r\n        int num = buf.getChar(pos);\r\n        if(num != string.length()) return false;\r\n        pos += 2;\r\n        for(int six = 0; six &lt; num; six++, pos++)\r\n            if(buf.get(pos) != string.charAt(six)) return false;\r\n        return true;\r\n    }\r\n\r\n    private static void printCode(ByteBuffer buf) {\r\n        int offset = buf.arrayOffset() + buf.position() + 8;\r\n        int length = buf.getInt(buf.position() + 4);\r\n        System.out.println(HexFormat.ofDelimiter(&quot; &quot;)\r\n            .formatHex(buf.array(), offset, offset + length));\r\n    }\r\n\r\n    private static final byte Utf8 = 1, Int = 3, Float = 4, Long = 5, Double = 6,\r\n        Class = 7, String = 8, FieldRef = 9, MethodRef = 10, IfMethodRef = 11,\r\n        NameAndType = 12, MethodHandle = 15, MethodType = 16,\r\n        ConstDynamic = 17, InvokeDynamic = 18, Module = 19, Package = 20;\r\n}\r\n```\r\n\r\nThis prints\r\n\r\n```lang-none\r\nclass BytecodeSignature$Example1\r\nb8 00 12 12 18 03 bd 00 1a b6 00 1c 57 b1\r\n\r\nclass BytecodeSignature$Example2\r\nb8 00 12 12 18 03 bd 00 1a b6 00 1c 57 b1\r\n```\r\nwhen compiled with Eclipse and\r\n\r\n```lang-none\r\nclass BytecodeSignature$Example2\r\nb8 00 07 12 0d 03 bd 00 0f b6 00 11 57 b1\r\n\r\nclass BytecodeSignature$Example1\r\nb8 00 07 12 0d 03 bd 00 0f b6 00 11 57 b1\r\n```\r\n\r\nwhen compiled with JDK&#160;17’s javac.\r\n\r\nResults may vary, but it does already demonstrates that the harmless\r\n```java\r\nSystem.console().printf(&quot;hello&quot;);\r\n```\r\n\r\nproduces exactly the same bytecode as the potentially problematic\r\n```java\r\nRuntime.getRuntime().exec(&quot;/sbin/whatever&quot;, new String[0]);\r\n```\r\nwhen compiled with the same compiler, while the identical code may produce different bytecode when compiled with a different compiler. It may also differ depending on other conditions outside the method.\r\n\r\nThe reason is that the critical aspect of these methods is not the code structure (which is identical), but which classes, members, and string constants have been used and these artifacts are not stored in the method but in the constant pool.\r\n\r\nDecoding the sequence `b8 00 12 12 18 03 bd 00 1a b6 00 1c 57 b1` yields\r\n\r\n```lang-none\r\n  0 invokestatic  [18]    // [7] with javac\r\n  3 ldc           [24]    // [13] with javac\r\n  5 iconst_0\r\n  6 anewarray     [26]    // [15] with javac\r\n  9 invokevirtual [28]    // [17] with javac\r\n 12 pop\r\n 13 return\r\n```\r\nThose differing numbers are indices into the constant pool. The indices depend on whether the constants are shared with other members, have been encountered before by the compiler, or whether the compiler has a sorting strategy for the constants.\r\n\r\nBut not on the actual value.\r\n\r\nSo you can’t tell these two methods apart by looking at the raw bytes and you can’t recognize an already known method by looking at the raw bytes (when subtle unrelated things changed).\r\n\r\nThere is no way around parsing the bytecode and incorporating the referenced constants. But the good news is, the ASM library has an API to do exactly that, decoding the instructions and the referenced constants for you…\r\n\r\n[documentation of the class file format]: https://docs.oracle.com/javase/specs/jvms/se19/html/jvms-4.html","title":"Extract method raw bytes","body":"<p>The ASM library is not designed to provide you raw bytes. But it’s not so hard to write a dedicated class file parser for such an extraction task using the <a href=\"https://docs.oracle.com/javase/specs/jvms/se19/html/jvms-4.html\" rel=\"nofollow noreferrer\">documentation of the class file format</a>.</p>\n<p>The bigger problem is the idea of performing a malware signature check on the method’s raw bytecode itself.</p>\n<p>Consider the following self-contained example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.io.IOException;\nimport java.io.InputStream;\nimport java.nio.ByteBuffer;\nimport java.util.HexFormat;\n\npublic class BytecodeSignature {\n    static class Example1 extends BytecodeSignature {\n        void method() throws IOException {\n            Runtime.getRuntime().exec(&quot;/sbin/whatever&quot;, new String[0]);\n        }\n    }\n    static class Example2 extends BytecodeSignature {\n        void method() throws IOException {\n            System.console().printf(&quot;hello&quot;);\n        }\n    }\n\n    public static void main(String[] args) throws IOException {\n        String methodName = &quot;method&quot;;\n\n        for(Class&lt;?&gt; c: BytecodeSignature.class.getDeclaredClasses()) {\n            System.out.println(c);\n            ByteBuffer buf;\n            try(InputStream is = c.getResourceAsStream(c.getName() + &quot;.class&quot;)) {\n              buf = ByteBuffer.wrap(is.readAllBytes());\n            }\n            buf.position(8);\n            int codeCP = 0, methodNameCP = 0;\n            for(int cp = 1, num = buf.getChar(); cp &lt; num; cp++) {\n                switch(buf.get()) {\n                    default -&gt; throw new IllegalStateException();\n                    case Module, Package, Class, String, MethodType\n                         -&gt; buf.position(buf.position() + 2);\n                    case FieldRef, MethodRef, IfMethodRef, NameAndType,\n                         InvokeDynamic, ConstDynamic, Int, Float\n                        -&gt; buf.position(buf.position() + 4);\n                    case Double, Long -&gt; {buf.position(buf.position() + 8); cp++;}\n                    case MethodHandle -&gt; buf.position(buf.position() + 3);\n                    case Utf8 -&gt; {\n                        if(lookingAt(buf, &quot;Code&quot;)) codeCP = cp;\n                        if(lookingAt(buf, methodName)) methodNameCP = cp;\n                        buf.position(buf.getChar() + buf.position());\n                    }\n                }\n            }\n            if(codeCP == 0 || methodNameCP == 0) continue;\n\n            buf.position(buf.position() + 6);\n            buf.position(buf.getChar() + buf.position()); // skip interfaces\n            for(int memberKind = 0; memberKind &lt; 2; memberKind++) {\n                int numMembers = buf.getChar(); // memberKind: 0 fields, 1 methods\n                for(int m = 0; m &lt; numMembers; m++) {\n                    boolean targetMethod = memberKind != 0\n                        &amp;&amp; buf.getChar(buf.position() + 2) == methodNameCP;\n                    buf.position(buf.position() + 6);\n                    int numAttr = buf.getChar();\n                    for(int a = 0; a &lt; numAttr; a++) {\n                        int name = buf.getChar(), length = buf.getInt();\n                        if(targetMethod &amp;&amp; name == codeCP) printCode(buf);\n                        buf.position(buf.position() + length);\n                    }\n                }\n            }\n            System.out.println();\n        }\n    }\n\n    // ASCII only\n    private static boolean lookingAt(ByteBuffer buf, String string) {\n        int pos = buf.position();\n        int num = buf.getChar(pos);\n        if(num != string.length()) return false;\n        pos += 2;\n        for(int six = 0; six &lt; num; six++, pos++)\n            if(buf.get(pos) != string.charAt(six)) return false;\n        return true;\n    }\n\n    private static void printCode(ByteBuffer buf) {\n        int offset = buf.arrayOffset() + buf.position() + 8;\n        int length = buf.getInt(buf.position() + 4);\n        System.out.println(HexFormat.ofDelimiter(&quot; &quot;)\n            .formatHex(buf.array(), offset, offset + length));\n    }\n\n    private static final byte Utf8 = 1, Int = 3, Float = 4, Long = 5, Double = 6,\n        Class = 7, String = 8, FieldRef = 9, MethodRef = 10, IfMethodRef = 11,\n        NameAndType = 12, MethodHandle = 15, MethodType = 16,\n        ConstDynamic = 17, InvokeDynamic = 18, Module = 19, Package = 20;\n}\n</code></pre>\n<p>This prints</p>\n<pre class=\"lang-none prettyprint-override\"><code>class BytecodeSignature$Example1\nb8 00 12 12 18 03 bd 00 1a b6 00 1c 57 b1\n\nclass BytecodeSignature$Example2\nb8 00 12 12 18 03 bd 00 1a b6 00 1c 57 b1\n</code></pre>\n<p>when compiled with Eclipse and</p>\n<pre class=\"lang-none prettyprint-override\"><code>class BytecodeSignature$Example2\nb8 00 07 12 0d 03 bd 00 0f b6 00 11 57 b1\n\nclass BytecodeSignature$Example1\nb8 00 07 12 0d 03 bd 00 0f b6 00 11 57 b1\n</code></pre>\n<p>when compiled with JDK 17’s javac.</p>\n<p>Results may vary, but it does already demonstrates that the harmless</p>\n<pre class=\"lang-java prettyprint-override\"><code>System.console().printf(&quot;hello&quot;);\n</code></pre>\n<p>produces exactly the same bytecode as the potentially problematic</p>\n<pre class=\"lang-java prettyprint-override\"><code>Runtime.getRuntime().exec(&quot;/sbin/whatever&quot;, new String[0]);\n</code></pre>\n<p>when compiled with the same compiler, while the identical code may produce different bytecode when compiled with a different compiler. It may also differ depending on other conditions outside the method.</p>\n<p>The reason is that the critical aspect of these methods is not the code structure (which is identical), but which classes, members, and string constants have been used and these artifacts are not stored in the method but in the constant pool.</p>\n<p>Decoding the sequence <code>b8 00 12 12 18 03 bd 00 1a b6 00 1c 57 b1</code> yields</p>\n<pre class=\"lang-none prettyprint-override\"><code>  0 invokestatic  [18]    // [7] with javac\n  3 ldc           [24]    // [13] with javac\n  5 iconst_0\n  6 anewarray     [26]    // [15] with javac\n  9 invokevirtual [28]    // [17] with javac\n 12 pop\n 13 return\n</code></pre>\n<p>Those differing numbers are indices into the constant pool. The indices depend on whether the constants are shared with other members, have been encountered before by the compiler, or whether the compiler has a sorting strategy for the constants.</p>\n<p>But not on the actual value.</p>\n<p>So you can’t tell these two methods apart by looking at the raw bytes and you can’t recognize an already known method by looking at the raw bytes (when subtle unrelated things changed).</p>\n<p>There is no way around parsing the bytecode and incorporating the referenced constants. But the good news is, the ASM library has an API to do exactly that, decoding the instructions and the referenced constants for you…</p>\n"}],"owner":{"account_id":3139322,"reputation":2855,"user_id":2655092,"accept_rate":80,"display_name":"whoopdedoo"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":140,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1676477017,"creation_date":1676283834,"question_id":75434619,"body_markdown":"How to extract method raw bytes using ASM ?\r\n\r\nI need a map of method signatures* and raw bytes\r\n\r\n\r\n```java\r\nClassReader classReader = new ClassReader(artifact.getInputStream(jarEntry));\r\nclassReader.accept(new MethodVisitor(Opcodes.ASM9) {\r\n    @Override\r\n    public void visitEnd() {\r\n        super.visitEnd(); \r\n        byte[] methodRawBytes = this.?                \r\n    }\r\n}, 0);\r\n```\r\n\r\nhacks/reflection-based answers are welcome\r\n\r\n\r\n\r\n\r\n*Method signature in a ByteCode format like `Lcom/foo/CustomClass;-&gt;methodName(Ljava/lang/String;B)V`\r\n","title":"Extract method raw bytes","body":"<p>How to extract method raw bytes using ASM ?</p>\n<p>I need a map of method signatures* and raw bytes</p>\n<pre class=\"lang-java prettyprint-override\"><code>ClassReader classReader = new ClassReader(artifact.getInputStream(jarEntry));\nclassReader.accept(new MethodVisitor(Opcodes.ASM9) {\n    @Override\n    public void visitEnd() {\n        super.visitEnd(); \n        byte[] methodRawBytes = this.?                \n    }\n}, 0);\n</code></pre>\n<p>hacks/reflection-based answers are welcome</p>\n<p>*Method signature in a ByteCode format like <code>Lcom/foo/CustomClass;-&gt;methodName(Ljava/lang/String;B)V</code></p>\n"},{"tags":["java","sorting"],"answers":[{"tags":[],"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1676447384,"creation_date":1676447384,"answer_id":75456823,"question_id":75456371,"body_markdown":"Use a map:\r\n\r\n```\r\nMap&lt;String, Integer&gt; counts = Map.of(\r\n        &quot;carrots&quot;, carrots,\r\n        &quot;mushrooms&quot;, mushrooms,\r\n        &quot;salads&quot;, salads,\r\n        &quot;tomatoes&quot;, tomatoes\r\n);\r\ncounts.entrySet().stream() // Stream&lt;Map.Entry&lt;String, Integer&gt;&gt;\r\n        .filter(e -&gt; e.getValue() &gt; 0)\r\n        .sorted(Map.Entry.&lt;String, Integer&gt;comparingByValue().thenComparing(Map.Entry.comparingByKey()))\r\n        .forEach(e -&gt; System.out.printf(&quot;%s: [%d]%n&quot;, e.getKey(), e.getValue()));\r\n```\r\nI know that `.&lt;String, Integer&gt;` is ugly, but Java&#39;s type inference can&#39;t see past the first call in method chains. This tells the compiler that the the first method in the method chain uses `String` and `Integer` as generic types.","title":"Sorting integers in Java with extra condition","body":"<p>Use a map:</p>\n<pre><code>Map&lt;String, Integer&gt; counts = Map.of(\n        &quot;carrots&quot;, carrots,\n        &quot;mushrooms&quot;, mushrooms,\n        &quot;salads&quot;, salads,\n        &quot;tomatoes&quot;, tomatoes\n);\ncounts.entrySet().stream() // Stream&lt;Map.Entry&lt;String, Integer&gt;&gt;\n        .filter(e -&gt; e.getValue() &gt; 0)\n        .sorted(Map.Entry.&lt;String, Integer&gt;comparingByValue().thenComparing(Map.Entry.comparingByKey()))\n        .forEach(e -&gt; System.out.printf(&quot;%s: [%d]%n&quot;, e.getKey(), e.getValue()));\n</code></pre>\n<p>I know that <code>.&lt;String, Integer&gt;</code> is ugly, but Java's type inference can't see past the first call in method chains. This tells the compiler that the the first method in the method chain uses <code>String</code> and <code>Integer</code> as generic types.</p>\n"},{"tags":[],"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1676450325,"creation_date":1676449981,"answer_id":75457167,"question_id":75456371,"body_markdown":"This is a bit of an academic approach. The other answer is a better practical approach.\r\n\r\nSince the arguments are already alphabetical, and java&#39;s sort algorithm is stable. ie if the two values are the same, then they&#39;ll stay in the same order, then.\r\n\r\n    List&lt;Integer&gt; amount = new ArrayList&lt;&gt;(List.of(carrots, mushrooms, salads, tomatoes));\r\n    List&lt;Integer&gt; sorted new ArrayList&lt;&gt;(amount);\r\n    sorted.sort(Integer::compare);\r\n\r\nNow you can map the items back because the order doesn&#39;t change when they&#39;re equal.\r\n    \r\n    String[] names = {&quot;carrots&quot;, &quot;mushrooms&quot;, &quot;salads&quot;, &quot;tomatoes&quot;};\r\n\r\n    for(Integer i: sorted){\r\n        if(i == 0) continue; //skip zero values.\r\n\r\n        int j = amount.indexOf(i);\r\n        System.out.println( names[j] + &quot; : &quot; + i );\r\n        amount.set(j, -1);\r\n    }\r\n\r\nIf the values are all unique, then it is obvious how this works. It finds the index of the value, and prints the corresponding name. \r\n\r\nWhen there are duplicates, the alphabetically lowest name is printed first. The value is replaced with `-1` so that subsequent calls to &quot;indexOf&quot; return the next valid index.","title":"Sorting integers in Java with extra condition","body":"<p>This is a bit of an academic approach. The other answer is a better practical approach.</p>\n<p>Since the arguments are already alphabetical, and java's sort algorithm is stable. ie if the two values are the same, then they'll stay in the same order, then.</p>\n<pre><code>List&lt;Integer&gt; amount = new ArrayList&lt;&gt;(List.of(carrots, mushrooms, salads, tomatoes));\nList&lt;Integer&gt; sorted new ArrayList&lt;&gt;(amount);\nsorted.sort(Integer::compare);\n</code></pre>\n<p>Now you can map the items back because the order doesn't change when they're equal.</p>\n<pre><code>String[] names = {&quot;carrots&quot;, &quot;mushrooms&quot;, &quot;salads&quot;, &quot;tomatoes&quot;};\n\nfor(Integer i: sorted){\n    if(i == 0) continue; //skip zero values.\n\n    int j = amount.indexOf(i);\n    System.out.println( names[j] + &quot; : &quot; + i );\n    amount.set(j, -1);\n}\n</code></pre>\n<p>If the values are all unique, then it is obvious how this works. It finds the index of the value, and prints the corresponding name.</p>\n<p>When there are duplicates, the alphabetically lowest name is printed first. The value is replaced with <code>-1</code> so that subsequent calls to &quot;indexOf&quot; return the next valid index.</p>\n"}],"owner":{"account_id":27790457,"reputation":3,"user_id":21216994,"display_name":"casual Coffee enjoyer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":61,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":75457167,"answer_count":2,"score":-2,"last_activity_date":1676476629,"creation_date":1676443962,"question_id":75456371,"body_markdown":"I want to sort a few variables (int) by size with the added condition, that when two are equal they should be sorted alphabetically. More specifically:\r\n\r\nI have the following method:\r\n\r\n```\r\npublic void doSomething(int carrots, int mushrooms, int salads, int tomatoes) {\r\n    //Here I want to print them in the right order\r\n}\r\n```\r\n\r\nThe printed lines should have the format: &quot;mushrooms: [amount]&quot;\r\nAnd only lines which are not 0 should be printed.\r\nThese things I can manage on my own however.\r\n\r\nI have tried to put them all in a List and sort them, but then its basically impossible to map them back to their names.\r\nI don&#39;t really know where to go from here.","title":"Sorting integers in Java with extra condition","body":"<p>I want to sort a few variables (int) by size with the added condition, that when two are equal they should be sorted alphabetically. More specifically:</p>\n<p>I have the following method:</p>\n<pre><code>public void doSomething(int carrots, int mushrooms, int salads, int tomatoes) {\n    //Here I want to print them in the right order\n}\n</code></pre>\n<p>The printed lines should have the format: &quot;mushrooms: [amount]&quot;\nAnd only lines which are not 0 should be printed.\nThese things I can manage on my own however.</p>\n<p>I have tried to put them all in a List and sort them, but then its basically impossible to map them back to their names.\nI don't really know where to go from here.</p>\n"},{"tags":["java","gradle","testing","java-test-fixtures"],"owner":{"account_id":1345093,"reputation":2590,"user_id":1286009,"accept_rate":75,"display_name":"Hendrik Ebbers"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676476427,"creation_date":1676476427,"question_id":75462300,"body_markdown":"I would like to add the `java-test-fixtures` plugin to a custom conventions plugin under `buildSrc` that I simply add to any of my modules. By doing so I only need to add my custom conventions plugin instead of having multiple (and different) plugins for each  sub-module. By doing so the build won&#39;t work anymore if a sub-module does not have a test fixtures source set (`/src/testFixtures/java/...`). Is there any way in Gradle to make the usage of `java-test-fixtures` optional?","title":"Optional testFixtures in Gradle","body":"<p>I would like to add the <code>java-test-fixtures</code> plugin to a custom conventions plugin under <code>buildSrc</code> that I simply add to any of my modules. By doing so I only need to add my custom conventions plugin instead of having multiple (and different) plugins for each  sub-module. By doing so the build won't work anymore if a sub-module does not have a test fixtures source set (<code>/src/testFixtures/java/...</code>). Is there any way in Gradle to make the usage of <code>java-test-fixtures</code> optional?</p>\n"},{"tags":["java","spring-boot","swagger","springfox"],"answers":[{"comments":[{"owner":{"account_id":10183527,"reputation":2074,"user_id":7519419,"display_name":"Vladas Maier"},"score":0,"creation_date":1551191006,"post_id":52760718,"comment_id":96544306,"body_markdown":"@DanielH&#225;ri do you mean the `OperationsSorter` or the alternative?","body":"@DanielH&#225;ri do you mean the <code>OperationsSorter</code> or the alternative?"},{"owner":{"account_id":1476678,"reputation":7374,"user_id":1386911,"accept_rate":56,"display_name":"Daniel H&#225;ri"},"score":0,"creation_date":1551191358,"post_id":52760718,"comment_id":96544569,"body_markdown":"Neither of them works, it sorts all operations by url.","body":"Neither of them works, it sorts all operations by url."},{"owner":{"account_id":10183527,"reputation":2074,"user_id":7519419,"display_name":"Vladas Maier"},"score":0,"creation_date":1551191773,"post_id":52760718,"comment_id":96544831,"body_markdown":"@DanielH&#225;ri I am using Springfox version 2.9.2 in my project and the `OperationSorter` method works for me. Both `ALPHA` and `METHOD`. Cannot reproduce.","body":"@DanielH&#225;ri I am using Springfox version 2.9.2 in my project and the <code>OperationSorter</code> method works for me. Both <code>ALPHA</code> and <code>METHOD</code>. Cannot reproduce."},{"owner":{"account_id":1476678,"reputation":7374,"user_id":1386911,"accept_rate":56,"display_name":"Daniel H&#225;ri"},"score":0,"creation_date":1551192227,"post_id":52760718,"comment_id":96545170,"body_markdown":"Here is my config that not works: https://gist.github.com/haridaniel/0e8c9ae63ff8daac866c2b6ff53ccc2c","body":"Here is my config that not works: <a href=\"https://gist.github.com/haridaniel/0e8c9ae63ff8daac866c2b6ff53ccc2c\" rel=\"nofollow noreferrer\">gist.github.com/haridaniel/0e8c9ae63ff8daac866c2b6ff53ccc2c</a>"}],"tags":[],"owner":{"account_id":10183527,"reputation":2074,"user_id":7519419,"display_name":"Vladas Maier"},"comment_count":4,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1540990063,"creation_date":1539262893,"answer_id":52760718,"question_id":41801387,"body_markdown":"I am using Springfox version 2.8.0 and following code snippet works for my documented API:\r\n\r\n    @Bean\r\n    UiConfiguration uiConfig() {\r\n        return UiConfigurationBuilder\r\n                .builder()\r\n                .operationsSorter(OperationsSorter.METHOD)\r\n                \r\n                ...\r\n                \r\n                .build();\r\n    }\r\n\r\nThere are 2 possible values:\r\n\r\n - `OperationsSorter.ALPHA` - sorts API endpoints alphabetically by **path**\r\n - `OperationsSorter.METHOD` - sorts API endpoints alphabetically by **method** \r\n\r\n`OperationsSorter.METHOD` is what you are looking for.\r\n\r\n---\r\n\r\n**Alternative** by using `operationOrdering()`:\r\n\r\n    @Bean\r\n    public Docket api() {\r\n        return new Docket(DocumentationType.SWAGGER_2)\r\n            .select()\r\n            .apis(RequestHandlerSelectors.any())\r\n            .paths(PathSelectors.any())\r\n            .build()\r\n\r\n            ...\r\n\r\n            .operationOrdering(new Ordering&lt;Operation&gt;() {\r\n                @Override\r\n                public int compare(Operation left, Operation right) {\r\n                    return left.getMethod().name().compareTo(right.getMethod().name());\r\n                }\r\n            })\r\n    }\r\n\r\nHowever, this does not work because of a bug in Springfox which seems to be still active ([Operation ordering is not working][1]).\r\n\r\n\r\n  [1]: https://github.com/springfox/springfox/issues/1648","title":"Swagger API Operations Ordering","body":"<p>I am using Springfox version 2.8.0 and following code snippet works for my documented API:</p>\n\n<pre><code>@Bean\nUiConfiguration uiConfig() {\n    return UiConfigurationBuilder\n            .builder()\n            .operationsSorter(OperationsSorter.METHOD)\n\n            ...\n\n            .build();\n}\n</code></pre>\n\n<p>There are 2 possible values:</p>\n\n<ul>\n<li><code>OperationsSorter.ALPHA</code> - sorts API endpoints alphabetically by <strong>path</strong></li>\n<li><code>OperationsSorter.METHOD</code> - sorts API endpoints alphabetically by <strong>method</strong> </li>\n</ul>\n\n<p><code>OperationsSorter.METHOD</code> is what you are looking for.</p>\n\n<hr>\n\n<p><strong>Alternative</strong> by using <code>operationOrdering()</code>:</p>\n\n<pre><code>@Bean\npublic Docket api() {\n    return new Docket(DocumentationType.SWAGGER_2)\n        .select()\n        .apis(RequestHandlerSelectors.any())\n        .paths(PathSelectors.any())\n        .build()\n\n        ...\n\n        .operationOrdering(new Ordering&lt;Operation&gt;() {\n            @Override\n            public int compare(Operation left, Operation right) {\n                return left.getMethod().name().compareTo(right.getMethod().name());\n            }\n        })\n}\n</code></pre>\n\n<p>However, this does not work because of a bug in Springfox which seems to be still active (<a href=\"https://github.com/springfox/springfox/issues/1648\" rel=\"noreferrer\">Operation ordering is not working</a>).</p>\n"},{"tags":[],"owner":{"account_id":1878420,"reputation":41,"user_id":1699105,"display_name":"Tran Dinh"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1581068120,"creation_date":1581068120,"answer_id":60110686,"question_id":41801387,"body_markdown":"    @Bean\r\n    public UiConfiguration uiConfig() {\r\n        return UiConfigurationBuilder\r\n                .builder()\r\n                .operationsSorter(OperationsSorter.METHOD)\r\n                .build();\r\n    }\r\nThis works for me. I&#39;m using Spring Boot 2.2.0.M6, Swagger UI 2.9.2","title":"Swagger API Operations Ordering","body":"<pre><code>@Bean\npublic UiConfiguration uiConfig() {\n    return UiConfigurationBuilder\n            .builder()\n            .operationsSorter(OperationsSorter.METHOD)\n            .build();\n}\n</code></pre>\n\n<p>This works for me. I'm using Spring Boot 2.2.0.M6, Swagger UI 2.9.2</p>\n"},{"comments":[{"owner":{"account_id":194960,"reputation":709,"user_id":437579,"display_name":"Sami"},"score":1,"creation_date":1666917739,"post_id":66627532,"comment_id":131054345,"body_markdown":"I&#39;m not sure if there&#39;s a difference between: `springdoc.swagger-ui.operationsSorter=alpha` &amp; `springdoc.swagger-ui.operations-sorter=alpha` but the former is used on their docs:https://springdoc.org/faq.html#_how_can_i_sort_endpoints_alphabetically","body":"I&#39;m not sure if there&#39;s a difference between: <code>springdoc.swagger-ui.operationsSorter=alpha</code> &amp; <code>springdoc.swagger-ui.operations-sorter=alpha</code> but the former is used on their docs:<a href=\"https://springdoc.org/faq.html#_how_can_i_sort_endpoints_alphabetically\" rel=\"nofollow noreferrer\">springdoc.org/faq.html#_how_can_i_sort_endpoints_alphab&zwnj;&#8203;etically</a>"},{"owner":{"account_id":1192733,"reputation":1507,"user_id":1165160,"accept_rate":92,"display_name":"King Midas"},"score":1,"creation_date":1688987782,"post_id":66627532,"comment_id":135144389,"body_markdown":"`operations-sorter` sorts the endpoints from one class, `tags-sorter` sort the classes inside swagger ui. With both of them you sort first the class title, and inside each one, the endpoints.","body":"<code>operations-sorter</code> sorts the endpoints from one class, <code>tags-sorter</code> sort the classes inside swagger ui. With both of them you sort first the class title, and inside each one, the endpoints."}],"tags":[],"owner":{"account_id":66358,"reputation":6551,"user_id":194715,"display_name":"mp31415"},"comment_count":2,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1615742916,"creation_date":1615742916,"answer_id":66627532,"question_id":41801387,"body_markdown":"With **Spring Boot 2.4** and **OpenAPI** the following properties in **application.properties** may be of interest:\r\n- springdoc.swagger-ui.**tagsSorter**=alpha\r\n- springdoc.swagger-ui.**operations-sorter**=alpha\r\n","title":"Swagger API Operations Ordering","body":"<p>With <strong>Spring Boot 2.4</strong> and <strong>OpenAPI</strong> the following properties in <strong>application.properties</strong> may be of interest:</p>\n<ul>\n<li>springdoc.swagger-ui.<strong>tagsSorter</strong>=alpha</li>\n<li>springdoc.swagger-ui.<strong>operations-sorter</strong>=alpha</li>\n</ul>\n"},{"comments":[{"owner":{"account_id":3831593,"reputation":812,"user_id":3177021,"accept_rate":50,"display_name":"EmeraldTablet"},"score":0,"creation_date":1683108396,"post_id":74833364,"comment_id":134314775,"body_markdown":"this alphabetically sorts schema properties also along with the http method.","body":"this alphabetically sorts schema properties also along with the http method."}],"tags":[],"owner":{"account_id":15375039,"reputation":508,"user_id":11092008,"display_name":"Shapur"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671272955,"creation_date":1671272955,"answer_id":74833364,"question_id":41801387,"body_markdown":"`springdoc.swagger-ui.operations-sorter` does not work in  `v3/api-docs`.\r\n\r\nFor  alphabetical ordering in `v3/api-docs` use : \r\n\r\n    springdoc.writer-with-order-by-keys=true","title":"Swagger API Operations Ordering","body":"<p><code>springdoc.swagger-ui.operations-sorter</code> does not work in  <code>v3/api-docs</code>.</p>\n<p>For  alphabetical ordering in <code>v3/api-docs</code> use :</p>\n<pre><code>springdoc.writer-with-order-by-keys=true\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2294145,"reputation":1272,"user_id":2016070,"accept_rate":0,"display_name":"Bilal"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676476401,"creation_date":1676476401,"answer_id":75462296,"question_id":41801387,"body_markdown":"Add this to your application.properties file\r\n\r\n    springdoc.swagger-ui.operationsSorter=method\r\n    springdoc.swagger-ui.tagsSorter=alpha\r\n\r\nResult :\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/qABXr.png","title":"Swagger API Operations Ordering","body":"<p>Add this to your application.properties file</p>\n<pre><code>springdoc.swagger-ui.operationsSorter=method\nspringdoc.swagger-ui.tagsSorter=alpha\n</code></pre>\n<p>Result :\n<a href=\"https://i.stack.imgur.com/qABXr.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/qABXr.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":6170027,"reputation":643,"user_id":4808563,"display_name":"Javatar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":23929,"favorite_count":0,"down_vote_count":0,"up_vote_count":19,"answer_count":5,"score":19,"last_activity_date":1676476401,"creation_date":1485157579,"question_id":41801387,"body_markdown":"How do I sort my operation by method alphabetically e.g. **DELETE**, **GET**, **POST**, **PUT**.\r\n\r\nI have read from this post but it is in HTML but in my case, I have integrated Swagger into Spring Boot so I need to sort it when creating a Docket.\r\n\r\n[Sort API methods in Swagger UI][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/24951268/sort-api-methods-in-swagger-ui\r\n\r\nThen I noticed this method `operationOrdering()` in Docket, but I still cannot make it work.","title":"Swagger API Operations Ordering","body":"<p>How do I sort my operation by method alphabetically e.g. <strong>DELETE</strong>, <strong>GET</strong>, <strong>POST</strong>, <strong>PUT</strong>.</p>\n\n<p>I have read from this post but it is in HTML but in my case, I have integrated Swagger into Spring Boot so I need to sort it when creating a Docket.</p>\n\n<p><a href=\"https://stackoverflow.com/questions/24951268/sort-api-methods-in-swagger-ui\">Sort API methods in Swagger UI</a></p>\n\n<p>Then I noticed this method <code>operationOrdering()</code> in Docket, but I still cannot make it work.</p>\n"},{"tags":["java","spring","spring-boot","unit-testing"],"answers":[{"comments":[{"owner":{"account_id":1109371,"reputation":14160,"user_id":1100135,"accept_rate":53,"display_name":"piotrek"},"score":0,"creation_date":1671708790,"post_id":74886295,"comment_id":132158618,"body_markdown":"that doesn&#39;t load the config files. seems to be working differently than `@SpringBootApplication`","body":"that doesn&#39;t load the config files. seems to be working differently than <code>@SpringBootApplication</code>"}],"tags":[],"owner":{"account_id":470836,"reputation":330,"user_id":878241,"display_name":"Evgeny Cheryomushkin"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671700051,"creation_date":1671700051,"answer_id":74886295,"question_id":74879382,"body_markdown":"Perhaps this will help:\r\n```java\r\nclass ContextloadApplicationTests {\r\n    @Test\r\n    void contextLoadsError() {\r\n        // set environment variables here\r\n        Assertions.assertThrows(UnsatisfiedDependencyException.class, () -&gt; {\r\n            ApplicationContext context = \r\n                new AnnotationConfigApplicationContext(&quot;com.example.contextload&quot;);\r\n        });\r\n    }\r\n}\r\n```\r\nThis will try to load application context aand expect that it is incorrect.","title":"How can I test that a Spring Boot application fails to build context?","body":"<p>Perhaps this will help:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class ContextloadApplicationTests {\n    @Test\n    void contextLoadsError() {\n        // set environment variables here\n        Assertions.assertThrows(UnsatisfiedDependencyException.class, () -&gt; {\n            ApplicationContext context = \n                new AnnotationConfigApplicationContext(&quot;com.example.contextload&quot;);\n        });\n    }\n}\n</code></pre>\n<p>This will try to load application context aand expect that it is incorrect.</p>\n"}],"owner":{"account_id":1109371,"reputation":14160,"user_id":1100135,"accept_rate":53,"display_name":"piotrek"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1676476183,"creation_date":1671642037,"question_id":74879382,"body_markdown":"I want to test that my conditional configuration fails if a specific environment variable is wrongly set. I&#39;d like to have a test that sets some test environment properties and assert that the Spring context failed to start. How can I do that?\r\n\r\nSpring Boot offers `@SpringBootTest`, but it requires the Spring configuration to be correct, and I want to test the opposite scenario.\r\n","title":"How can I test that a Spring Boot application fails to build context?","body":"<p>I want to test that my conditional configuration fails if a specific environment variable is wrongly set. I'd like to have a test that sets some test environment properties and assert that the Spring context failed to start. How can I do that?</p>\n<p>Spring Boot offers <code>@SpringBootTest</code>, but it requires the Spring configuration to be correct, and I want to test the opposite scenario.</p>\n"},{"tags":["java","maven","kotlin","integration-testing","maven-surefire-plugin"],"comments":[{"owner":{"account_id":910975,"reputation":14592,"user_id":944849,"accept_rate":87,"display_name":"user944849"},"score":3,"creation_date":1554908469,"post_id":55609640,"comment_id":97924907,"body_markdown":"First, try using the same version of the surefire and failsafe plugins. They are closely related. Not sure it will fix anything, but IMO consistency is the first step.","body":"First, try using the same version of the surefire and failsafe plugins. They are closely related. Not sure it will fix anything, but IMO consistency is the first step."},{"owner":{"account_id":910975,"reputation":14592,"user_id":944849,"accept_rate":87,"display_name":"user944849"},"score":0,"creation_date":1554908653,"post_id":55609640,"comment_id":97925042,"body_markdown":"Also, the `&lt;useSystemClassLoader&gt;` attribute was added to the Surefire config, but it&#39;s Failsafe that&#39;s having the problem.","body":"Also, the <code>&lt;useSystemClassLoader&gt;</code> attribute was added to the Surefire config, but it&#39;s Failsafe that&#39;s having the problem."},{"owner":{"account_id":11673442,"reputation":390,"user_id":8547799,"display_name":"Tns"},"score":6,"creation_date":1559577246,"post_id":55609640,"comment_id":99455934,"body_markdown":"For Spring Boot see https://stackoverflow.com/a/50804520/8547799 and https://github.com/spring-projects/spring-boot/issues/6254","body":"For Spring Boot see <a href=\"https://stackoverflow.com/a/50804520/8547799\">stackoverflow.com/a/50804520/8547799</a> and <a href=\"https://github.com/spring-projects/spring-boot/issues/6254\" rel=\"nofollow noreferrer\">github.com/spring-projects/spring-boot/issues/6254</a>"},{"owner":{"account_id":4072211,"reputation":2941,"user_id":3344832,"accept_rate":50,"display_name":"Mohamed Ennahdi El Idrissi"},"score":0,"creation_date":1576756451,"post_id":55609640,"comment_id":105005606,"body_markdown":"Are you using jmockit?","body":"Are you using jmockit?"}],"answers":[{"comments":[{"owner":{"account_id":43422,"reputation":3309,"user_id":126952,"accept_rate":100,"display_name":"Ahmad Y. Saleh"},"score":1,"creation_date":1680085602,"post_id":69495385,"comment_id":133836126,"body_markdown":"or you can use `&lt;classesDirectory&gt;${project.build.outputDirectory}&lt;/classesDirectory&gt;`","body":"or you can use <code>&lt;classesDirectory&gt;${project.build.outputDirectory}&lt;&#47;classesD&zwnj;&#8203;irectory&gt;</code>"}],"tags":[],"owner":{"account_id":3751971,"reputation":141,"user_id":3119291,"display_name":"user3119291"},"comment_count":1,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1633693821,"creation_date":1633693821,"answer_id":69495385,"question_id":55609640,"body_markdown":"Faced the same problem, sovled it by adding **target/classes** as additional classpath elements. It feels a little bit dirty but works:\r\n\r\n```\r\n      &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-failsafe-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;2.22.0&lt;/version&gt;\r\n        &lt;configuration&gt;\r\n          &lt;additionalClasspathElements&gt;\r\n            &lt;additionalClasspathElement&gt;${basedir}/target/classes&lt;/additionalClasspathElement&gt;\r\n          &lt;/additionalClasspathElements&gt;\r\n        &lt;/configuration&gt;\r\n      &lt;/plugin&gt;\r\n```","title":"Maven Failsafe: NoClassDefFoundError for integration tests","body":"<p>Faced the same problem, sovled it by adding <strong>target/classes</strong> as additional classpath elements. It feels a little bit dirty but works:</p>\n<pre><code>      &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-failsafe-plugin&lt;/artifactId&gt;\n        &lt;version&gt;2.22.0&lt;/version&gt;\n        &lt;configuration&gt;\n          &lt;additionalClasspathElements&gt;\n            &lt;additionalClasspathElement&gt;${basedir}/target/classes&lt;/additionalClasspathElement&gt;\n          &lt;/additionalClasspathElements&gt;\n        &lt;/configuration&gt;\n      &lt;/plugin&gt;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":6354618,"reputation":76,"user_id":4932418,"display_name":"Bharath B"},"score":0,"creation_date":1677872395,"post_id":75462239,"comment_id":133429793,"body_markdown":"Adding classesDirectory solves my problem","body":"Adding classesDirectory solves my problem"}],"tags":[],"owner":{"account_id":3088921,"reputation":1890,"user_id":2615510,"display_name":"Andrey Lebedenko"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1676476086,"creation_date":1676476086,"answer_id":75462239,"question_id":55609640,"body_markdown":"I&#39;ve faced this issue while migrating the Spring Boot project to JDK 17. In the end, the `failsafe` section of the `pom.xml` looked like this:\r\n\r\n      &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-failsafe-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;2.22.2&lt;/version&gt;\r\n        &lt;executions&gt;\r\n          &lt;execution&gt;\r\n            &lt;id&gt;integration-test&lt;/id&gt;\r\n            &lt;goals&gt;\r\n              &lt;goal&gt;integration-test&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n          &lt;/execution&gt;\r\n          &lt;execution&gt;\r\n            &lt;id&gt;verify&lt;/id&gt;\r\n            &lt;goals&gt;\r\n              &lt;goal&gt;verify&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n          &lt;/execution&gt;\r\n        &lt;/executions&gt;\r\n        &lt;configuration&gt;\r\n          &lt;forkCount&gt;1&lt;/forkCount&gt;\r\n          &lt;reuseForks&gt;false&lt;/reuseForks&gt;\r\n          &lt;argLine&gt;@{argLine}&lt;/argLine&gt;\r\n          &lt;includes&gt;\r\n            &lt;include&gt;**/*IT.java&lt;/include&gt;\r\n          &lt;/includes&gt;\r\n          &lt;classesDirectory&gt;${project.build.outputDirectory}&lt;/classesDirectory&gt;\r\n          &lt;trimStackTrace&gt;false&lt;/trimStackTrace&gt;\r\n        &lt;/configuration&gt;\r\n        &lt;dependencies&gt;\r\n          &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.maven.surefire&lt;/groupId&gt;\r\n            &lt;artifactId&gt;surefire-junit47&lt;/artifactId&gt;\r\n            &lt;version&gt;2.22.2&lt;/version&gt;\r\n          &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n      &lt;/plugin&gt;","title":"Maven Failsafe: NoClassDefFoundError for integration tests","body":"<p>I've faced this issue while migrating the Spring Boot project to JDK 17. In the end, the <code>failsafe</code> section of the <code>pom.xml</code> looked like this:</p>\n<pre><code>  &lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-failsafe-plugin&lt;/artifactId&gt;\n    &lt;version&gt;2.22.2&lt;/version&gt;\n    &lt;executions&gt;\n      &lt;execution&gt;\n        &lt;id&gt;integration-test&lt;/id&gt;\n        &lt;goals&gt;\n          &lt;goal&gt;integration-test&lt;/goal&gt;\n        &lt;/goals&gt;\n      &lt;/execution&gt;\n      &lt;execution&gt;\n        &lt;id&gt;verify&lt;/id&gt;\n        &lt;goals&gt;\n          &lt;goal&gt;verify&lt;/goal&gt;\n        &lt;/goals&gt;\n      &lt;/execution&gt;\n    &lt;/executions&gt;\n    &lt;configuration&gt;\n      &lt;forkCount&gt;1&lt;/forkCount&gt;\n      &lt;reuseForks&gt;false&lt;/reuseForks&gt;\n      &lt;argLine&gt;@{argLine}&lt;/argLine&gt;\n      &lt;includes&gt;\n        &lt;include&gt;**/*IT.java&lt;/include&gt;\n      &lt;/includes&gt;\n      &lt;classesDirectory&gt;${project.build.outputDirectory}&lt;/classesDirectory&gt;\n      &lt;trimStackTrace&gt;false&lt;/trimStackTrace&gt;\n    &lt;/configuration&gt;\n    &lt;dependencies&gt;\n      &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.maven.surefire&lt;/groupId&gt;\n        &lt;artifactId&gt;surefire-junit47&lt;/artifactId&gt;\n        &lt;version&gt;2.22.2&lt;/version&gt;\n      &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n  &lt;/plugin&gt;\n</code></pre>\n"}],"owner":{"account_id":3013537,"reputation":7735,"user_id":3322533,"accept_rate":65,"display_name":"User1291"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4082,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":2,"score":6,"last_activity_date":1676476086,"creation_date":1554889953,"question_id":55609640,"body_markdown":"Setup: Kotlin integration tests in a spring boot application.\r\n\r\nTests work fine when I run them with IntelliJ.\r\nWhen I try to run the integration tests with maven, though:\r\n```\r\n[ERROR] Failed to execute goal org.apache.maven.plugins:maven-failsafe-plugin:2.19.1:integration-test (default) on project myapp: Execution default of goal org.apache.maven.plugins:maven-failsafe-plugin:2.19.1:integration-test failed: There was an error in the forked process\r\n[ERROR] java.lang.NoClassDefFoundError: ch/cypherk/myapp/service/CustomerService\r\n[ERROR]         at java.base/java.lang.Class.getDeclaredConstructors0(Native Method)\r\n[ERROR]         at java.base/java.lang.Class.privateGetDeclaredConstructors(Class.java:3138)\r\n[ERROR]         at java.base/java.lang.Class.getConstructor0(Class.java:3343)\r\n[ERROR]         at java.base/java.lang.Class.getConstructor(Class.java:2152)\r\n[ERROR]         at org.apache.maven.surefire.junit.PojoAndJUnit3Checker.isPojoTest(PojoAndJUnit3Checker.java:51)\r\n...\r\n```\r\nwhich is very annoying since I kind of need bamboo to run the darn things.\r\n\r\nThe `CustomerService` is an interface and yes, it is compiled, there&#39;s a corresponding `.class` file in maven&#39;s `./target` directory and IntelliJ is set up to use the same.\r\n\r\nCan&#39;t quite figure out why this is failing and would appreciate some help with the plugin.\r\n\r\nRelavant excerpt from the `pom.xml`:\r\n```xml\r\n&lt;plugin&gt;\r\n    &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n    &lt;version&gt;2.22.0&lt;/version&gt;\r\n    &lt;configuration&gt;\r\n        &lt;!-- doesn&#39;t make a difference if `true` or `false`--&gt;\r\n        &lt;useSystemClassLoader&gt;false&lt;/useSystemClassLoader&gt;\r\n    &lt;/configuration&gt;\r\n&lt;/plugin&gt;\r\n&lt;plugin&gt;\r\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    &lt;artifactId&gt;maven-failsafe-plugin&lt;/artifactId&gt;\r\n    &lt;version&gt;2.19.1&lt;/version&gt;\r\n    &lt;executions&gt;\r\n        &lt;execution&gt;\r\n            &lt;goals&gt;\r\n                &lt;goal&gt;integration-test&lt;/goal&gt;\r\n                &lt;goal&gt;verify&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n        &lt;/execution&gt;\r\n    &lt;/executions&gt;\r\n    &lt;configuration&gt;\r\n        &lt;includes&gt;\r\n            &lt;include&gt;**/*IT*&lt;/include&gt;\r\n        &lt;/includes&gt;\r\n        &lt;excludes&gt;\r\n            &lt;exclude&gt;**/ui/*&lt;/exclude&gt;\r\n        &lt;/excludes&gt;\r\n        &lt;trimStackTrace&gt;false&lt;/trimStackTrace&gt;\r\n    &lt;/configuration&gt;\r\n&lt;/plugin&gt;\r\n```\r\n\r\n\r\n\r\nFull `pom.xml`: http://freetexthost.com/dbghyawijj\r\n\r\nFull log of the failing integration test step: http://freetexthost.com/gbsmd3mwm2","title":"Maven Failsafe: NoClassDefFoundError for integration tests","body":"<p>Setup: Kotlin integration tests in a spring boot application.</p>\n\n<p>Tests work fine when I run them with IntelliJ.\nWhen I try to run the integration tests with maven, though:</p>\n\n<pre><code>[ERROR] Failed to execute goal org.apache.maven.plugins:maven-failsafe-plugin:2.19.1:integration-test (default) on project myapp: Execution default of goal org.apache.maven.plugins:maven-failsafe-plugin:2.19.1:integration-test failed: There was an error in the forked process\n[ERROR] java.lang.NoClassDefFoundError: ch/cypherk/myapp/service/CustomerService\n[ERROR]         at java.base/java.lang.Class.getDeclaredConstructors0(Native Method)\n[ERROR]         at java.base/java.lang.Class.privateGetDeclaredConstructors(Class.java:3138)\n[ERROR]         at java.base/java.lang.Class.getConstructor0(Class.java:3343)\n[ERROR]         at java.base/java.lang.Class.getConstructor(Class.java:2152)\n[ERROR]         at org.apache.maven.surefire.junit.PojoAndJUnit3Checker.isPojoTest(PojoAndJUnit3Checker.java:51)\n...\n</code></pre>\n\n<p>which is very annoying since I kind of need bamboo to run the darn things.</p>\n\n<p>The <code>CustomerService</code> is an interface and yes, it is compiled, there's a corresponding <code>.class</code> file in maven's <code>./target</code> directory and IntelliJ is set up to use the same.</p>\n\n<p>Can't quite figure out why this is failing and would appreciate some help with the plugin.</p>\n\n<p>Relavant excerpt from the <code>pom.xml</code>:</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;plugin&gt;\n    &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n    &lt;version&gt;2.22.0&lt;/version&gt;\n    &lt;configuration&gt;\n        &lt;!-- doesn't make a difference if `true` or `false`--&gt;\n        &lt;useSystemClassLoader&gt;false&lt;/useSystemClassLoader&gt;\n    &lt;/configuration&gt;\n&lt;/plugin&gt;\n&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-failsafe-plugin&lt;/artifactId&gt;\n    &lt;version&gt;2.19.1&lt;/version&gt;\n    &lt;executions&gt;\n        &lt;execution&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;integration-test&lt;/goal&gt;\n                &lt;goal&gt;verify&lt;/goal&gt;\n            &lt;/goals&gt;\n        &lt;/execution&gt;\n    &lt;/executions&gt;\n    &lt;configuration&gt;\n        &lt;includes&gt;\n            &lt;include&gt;**/*IT*&lt;/include&gt;\n        &lt;/includes&gt;\n        &lt;excludes&gt;\n            &lt;exclude&gt;**/ui/*&lt;/exclude&gt;\n        &lt;/excludes&gt;\n        &lt;trimStackTrace&gt;false&lt;/trimStackTrace&gt;\n    &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n\n<p>Full <code>pom.xml</code>: <a href=\"http://freetexthost.com/dbghyawijj\" rel=\"noreferrer\">http://freetexthost.com/dbghyawijj</a></p>\n\n<p>Full log of the failing integration test step: <a href=\"http://freetexthost.com/gbsmd3mwm2\" rel=\"noreferrer\">http://freetexthost.com/gbsmd3mwm2</a></p>\n"},{"tags":["java","generics","mockito"],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1668434375,"creation_date":1668429658,"answer_id":74431818,"question_id":74426274,"body_markdown":"As stated in the [documentation of `ArgumentCaptor`][ArgumentCaptor] although this class is generic, it doesn&#39;t perform any validation:\r\n\r\n&gt; This utility class **don&#39;t do any type checks**, the generic signatures are only there to avoid casting in your code. \r\n\r\n\r\nHence, if you make use of row types it wouldn&#39;t be less type-safe, but there&#39;s a drawback - the compiler will issue a warning.\r\n\r\n```\r\n@SuppressWarnings(&quot;unchecked&quot;)\r\nArgumentCaptor&lt;Consumer&lt;String&gt;&gt; captor = ArgumentCaptor.forClass(Consumer.class);\r\n```\r\n\r\nThere&#39;s a cleaner option which also mentioned in the documentation linked above, namely to declare the captor as a field and annotate it with [`@Captor`][@Captor].\r\n\r\n```\r\n@Captor\r\nArgumentCaptor&lt;Consumer&lt;String&gt;&gt; captor;\r\n```\r\n\r\n   [ArgumentCaptor]: https://www.javadoc.io/doc/org.mockito/mockito-core/2.6.9/org/mockito/ArgumentCaptor.html\r\n\r\n\r\n   [@Captor]: https://javadoc.io/doc/org.mockito/mockito-core/2.7.9/org/mockito/Captor.html","title":"Generics and ArgumentCaptor in Mockito","body":"<p>As stated in the <a href=\"https://www.javadoc.io/doc/org.mockito/mockito-core/2.6.9/org/mockito/ArgumentCaptor.html\" rel=\"nofollow noreferrer\">documentation of <code>ArgumentCaptor</code></a> although this class is generic, it doesn't perform any validation:</p>\n<blockquote>\n<p>This utility class <strong>don't do any type checks</strong>, the generic signatures are only there to avoid casting in your code.</p>\n</blockquote>\n<p>Hence, if you make use of row types it wouldn't be less type-safe, but there's a drawback - the compiler will issue a warning.</p>\n<pre><code>@SuppressWarnings(&quot;unchecked&quot;)\nArgumentCaptor&lt;Consumer&lt;String&gt;&gt; captor = ArgumentCaptor.forClass(Consumer.class);\n</code></pre>\n<p>There's a cleaner option which also mentioned in the documentation linked above, namely to declare the captor as a field and annotate it with <a href=\"https://javadoc.io/doc/org.mockito/mockito-core/2.7.9/org/mockito/Captor.html\" rel=\"nofollow noreferrer\"><code>@Captor</code></a>.</p>\n<pre><code>@Captor\nArgumentCaptor&lt;Consumer&lt;String&gt;&gt; captor;\n</code></pre>\n"}],"owner":{"account_id":1109371,"reputation":14160,"user_id":1100135,"accept_rate":53,"display_name":"piotrek"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":308,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74431818,"answer_count":1,"score":0,"last_activity_date":1676475804,"creation_date":1668391777,"question_id":74426274,"body_markdown":"In Mockito&#39;s verify I want to capture an argument of type `Consumer&lt;String&gt;`. How should I write the line to avoid type erasure?\r\n\r\nI&#39;m reached this point and it doesn&#39;t compile:\r\n\r\n```\r\nArgumentCaptor&lt;Consumer&lt;String&gt;&gt; captor = ArgumentCaptor.&lt;Consumer&lt;String&gt;, Consumer&lt;String&gt;&gt;forClass(Consumer&lt;String&gt;.class);\r\n```\r\n\r\nHow can I do it?\r\n\r\n","title":"Generics and ArgumentCaptor in Mockito","body":"<p>In Mockito's verify I want to capture an argument of type <code>Consumer&lt;String&gt;</code>. How should I write the line to avoid type erasure?</p>\n<p>I'm reached this point and it doesn't compile:</p>\n<pre><code>ArgumentCaptor&lt;Consumer&lt;String&gt;&gt; captor = ArgumentCaptor.&lt;Consumer&lt;String&gt;, Consumer&lt;String&gt;&gt;forClass(Consumer&lt;String&gt;.class);\n</code></pre>\n<p>How can I do it?</p>\n"},{"tags":["java","string"],"comments":[{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":2,"creation_date":1676468371,"post_id":75460431,"comment_id":133142206,"body_markdown":"`charAt` returns a `char` which is a numerical value, representing the ascii value of that character. If you take a look at an ascii table, 50 represents the character `&#39;2&#39;`. You can convert individual digits using `int j= str1.charAt(1)-&#39;0&#39;`.","body":"<code>charAt</code> returns a <code>char</code> which is a numerical value, representing the ascii value of that character. If you take a look at an ascii table, 50 represents the character <code>&#39;2&#39;</code>. You can convert individual digits using <code>int j= str1.charAt(1)-&#39;0&#39;</code>."}],"answers":[{"comments":[{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1676475799,"post_id":75460809,"comment_id":133144963,"body_markdown":"If you are going to use that trick, then use `&#39;0&#39;` instead of `48`. However, the better approach is to use [`Character.getNumericValue(char)`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Character.html#getNumericValue(char))","body":"If you are going to use that trick, then use <code>&#39;0&#39;</code> instead of <code>48</code>. However, the better approach is to use <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Character.html#getNumericValue(char)\" rel=\"nofollow noreferrer\"><code>Character.getNumericValue(char)</code></a>"}],"tags":[],"owner":{"account_id":22166461,"reputation":104,"user_id":16412574,"display_name":"Sheikh Farid"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1676469046,"creation_date":1676469046,"answer_id":75460809,"question_id":75460431,"body_markdown":" \r\n\r\n    String str1 = &quot;1234&quot;;\r\n    integer j = str1.charAt(1) - 48 ;\r\n    print(j);\r\n\r\n    // because ASCII value of 0 is 48 and ASCII value of 2 is 50\r\n    //so 50 - 48 = 2\r\n\r\n","title":"Is there a function to return a character from string as an integer?","body":"<pre><code>String str1 = &quot;1234&quot;;\ninteger j = str1.charAt(1) - 48 ;\nprint(j);\n\n// because ASCII value of 0 is 48 and ASCII value of 2 is 50\n//so 50 - 48 = 2\n</code></pre>\n"}],"owner":{"account_id":27793542,"reputation":1,"user_id":21219548,"display_name":"Aryan singh"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":4,"up_vote_count":0,"closed_date":1676467590,"answer_count":1,"score":-4,"last_activity_date":1676475730,"creation_date":1676467379,"question_id":75460431,"body_markdown":"    String str1 = &quot;1234&quot;;\r\n    integer j = str1.charAt(1);\r\n    print(j);\r\n\r\nThis returns 50 as a result but I want 2 as an answer. \r\n\r\n\r\n\r\n","title":"Is there a function to return a character from string as an integer?","body":"<pre><code>String str1 = &quot;1234&quot;;\ninteger j = str1.charAt(1);\nprint(j);\n</code></pre>\n<p>This returns 50 as a result but I want 2 as an answer.</p>\n"},{"tags":["java","arrays","generics","variadic-functions"],"answers":[{"comments":[{"owner":{"account_id":18069613,"reputation":55,"user_id":13134578,"display_name":"John Pham"},"score":0,"creation_date":1676476906,"post_id":75460734,"comment_id":133145425,"body_markdown":"So basically in `getArr1` because &lt;all of the passing stuff was done in compile-time&gt; and &lt;generic type was used&gt; --&gt; Compiler has to handle them in some pre-defined rules, in this case `Object[]` is created to pass instead of `T[]` --&gt; In Run-time, `String` is provided but `Object[]` is already embeded in `varargs`. Is my understanding correct?","body":"So basically in <code>getArr1</code> because &lt;all of the passing stuff was done in compile-time&gt; and &lt;generic type was used&gt; --&gt; Compiler has to handle them in some pre-defined rules, in this case <code>Object[]</code> is created to pass instead of <code>T[]</code> --&gt; In Run-time, <code>String</code> is provided but <code>Object[]</code> is already embeded in <code>varargs</code>. Is my understanding correct?"},{"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":1,"creation_date":1676503593,"post_id":75460734,"comment_id":133152483,"body_markdown":"@JohnPham yeah I think you did understand it. The important point is that the type of the array is decided at compile time.","body":"@JohnPham yeah I think you did understand it. The important point is that the type of the array is decided at compile time."},{"owner":{"account_id":31622,"reputation":120351,"user_id":86989,"display_name":"newacct"},"score":0,"creation_date":1676879548,"post_id":75460734,"comment_id":133219152,"body_markdown":"@JohnPham: &quot; In Run-time, String is provided but Object[] is already embeded in varargs.&quot; I am not sure what you mean by this. At runtime, the method has no way of knowing what `T` is. Even if an element of the array is a `String` object, `T` might still be `String`, `Object`, or `Serializable`, etc. And since arrays in Java know their component type at runtime (`Object[]` and `String[]` are different types at runtime), there is no way for the method to create the right runtime type of array. The compiler gives you a warning in the last line of `getArr1()` due to this issue.","body":"@JohnPham: &quot; In Run-time, String is provided but Object[] is already embeded in varargs.&quot; I am not sure what you mean by this. At runtime, the method has no way of knowing what <code>T</code> is. Even if an element of the array is a <code>String</code> object, <code>T</code> might still be <code>String</code>, <code>Object</code>, or <code>Serializable</code>, etc. And since arrays in Java know their component type at runtime (<code>Object[]</code> and <code>String[]</code> are different types at runtime), there is no way for the method to create the right runtime type of array. The compiler gives you a warning in the last line of <code>getArr1()</code> due to this issue."},{"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1676880053,"post_id":75460734,"comment_id":133219286,"body_markdown":"@newacct I think OP is referring to the fact that, even if strings are passed to `getArr1`, the varargs array is still an `Object[]`, because what type of array to create is already decided at compile time. And no, if I remember correctly, there was no warning in the last line of `getArr1` (not in IntelliJ anyway). The warning is in the varargs parameter of `toArr`, saying something about possible pollution.","body":"@newacct I think OP is referring to the fact that, even if strings are passed to <code>getArr1</code>, the varargs array is still an <code>Object[]</code>, because what type of array to create is already decided at compile time. And no, if I remember correctly, there was no warning in the last line of <code>getArr1</code> (not in IntelliJ anyway). The warning is in the varargs parameter of <code>toArr</code>, saying something about possible pollution."},{"owner":{"account_id":31622,"reputation":120351,"user_id":86989,"display_name":"newacct"},"score":0,"creation_date":1678427852,"post_id":75460734,"comment_id":133533873,"body_markdown":"@Sweeper: I get a warning in both the last line of `getArr1` and in the parameters of `toArr` (in Oracle JDK 11).","body":"@Sweeper: I get a warning in both the last line of <code>getArr1</code> and in the parameters of <code>toArr</code> (in Oracle JDK 11)."}],"tags":[],"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"comment_count":5,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1676468719,"creation_date":1676468719,"answer_id":75460734,"question_id":75460470,"body_markdown":"First, varargs are just syntax sugar for &quot;creating an array of the parameters just before the method is called&quot;. That is, a simple varargs method call like this:\r\n\r\n```\r\nmethod(&quot;foo&quot;, &quot;bar&quot;);\r\n\r\n// ...\r\n\r\npublic static void method(String... params) { }\r\n```\r\n\r\nis syntactic sugar for:\r\n\r\n```\r\nString[] params = new String[] { &quot;foo&quot;, &quot;bar&quot; };\r\nmethod(params);\r\n\r\n// ...\r\n\r\npublic static void method(String[] params) { }\r\n```\r\n\r\nSecond, [you cannot create arrays of `T`][1] (generic type parameters). `new T[]` is not allowed. This is because `T` does not exist at runtime. The runtime does not know what `T` is. See also: https://stackoverflow.com/questions/339699/java-generics-type-erasure-when-and-what-happens\r\n\r\nSo what happens at the callsite of `toArr`?\r\n\r\n    return toArr(a1, a2);\r\n\r\nwell, `a1` and `a2` are both `T`s here, but we can&#39;t do this:\r\n\r\n```\r\nT[] params = new T[] { a1, a2 };\r\nreturn toArr(params);\r\n```\r\n\r\nThe compiler can only create an `Object[]` here to store the parameters:\r\n\r\n```\r\nObject[] params = new Object[] { a1, a2 };\r\nreturn toArr(params);\r\n```\r\n\r\nOn the other hand, in `getArr2`, `a1` and `a2` are `String`s, so the compiler knows that it can create a `String[]` to store them.\r\n\r\n\r\n  [1]: https://stackoverflow.com/q/2927391/5133585","title":"Return type of varargs and generics","body":"<p>First, varargs are just syntax sugar for &quot;creating an array of the parameters just before the method is called&quot;. That is, a simple varargs method call like this:</p>\n<pre><code>method(&quot;foo&quot;, &quot;bar&quot;);\n\n// ...\n\npublic static void method(String... params) { }\n</code></pre>\n<p>is syntactic sugar for:</p>\n<pre><code>String[] params = new String[] { &quot;foo&quot;, &quot;bar&quot; };\nmethod(params);\n\n// ...\n\npublic static void method(String[] params) { }\n</code></pre>\n<p>Second, <a href=\"https://stackoverflow.com/q/2927391/5133585\">you cannot create arrays of <code>T</code></a> (generic type parameters). <code>new T[]</code> is not allowed. This is because <code>T</code> does not exist at runtime. The runtime does not know what <code>T</code> is. See also: <a href=\"https://stackoverflow.com/questions/339699/java-generics-type-erasure-when-and-what-happens\">Java generics type erasure: when and what happens?</a></p>\n<p>So what happens at the callsite of <code>toArr</code>?</p>\n<pre><code>return toArr(a1, a2);\n</code></pre>\n<p>well, <code>a1</code> and <code>a2</code> are both <code>T</code>s here, but we can't do this:</p>\n<pre><code>T[] params = new T[] { a1, a2 };\nreturn toArr(params);\n</code></pre>\n<p>The compiler can only create an <code>Object[]</code> here to store the parameters:</p>\n<pre><code>Object[] params = new Object[] { a1, a2 };\nreturn toArr(params);\n</code></pre>\n<p>On the other hand, in <code>getArr2</code>, <code>a1</code> and <code>a2</code> are <code>String</code>s, so the compiler knows that it can create a <code>String[]</code> to store them.</p>\n"}],"owner":{"account_id":18069613,"reputation":55,"user_id":13134578,"display_name":"John Pham"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":170,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75460734,"answer_count":1,"score":1,"last_activity_date":1676475629,"creation_date":1676467639,"question_id":75460470,"body_markdown":"I was learning Java about how _varargs_ works with the generic types. There was this function when I tried to return an array of generic types, which in this case `T` is `String`\r\n\r\n```java\r\nstatic &lt;T&gt; T[] toArr(T... listObj){\r\n    System.out.println(&quot;To arr&quot;);\r\n    System.out.println(listObj.getClass().getName());\r\n    System.out.println(listObj[0].getClass().getName());\r\n    return listObj;\r\n}\r\n\r\nstatic &lt;T&gt; T[] getArr1(T a1, T a2){\r\n    System.out.println(&quot;Get arr 1&quot;);\r\n    System.out.println(a1.getClass().getName());\r\n    return toArr(a1, a2);\r\n}\r\n\r\npublic static void main(String[] args) {\r\n    String[] res1 = getArr1(&quot;one&quot;, &quot;two&quot;);\r\n}\r\n```\r\nAnd the output was this\r\n```none\r\nGet arr 1\r\njava.lang.String\r\nTo arr\r\n[Ljava.lang.Object;\r\njava.lang.String\r\n//Error: casting from [Ljava.lang.Object to [Ljava.lang.String\r\n```\r\nFrom my understanding, while 2 `String` objects were passed from `getArr1` to `toArr`, the array storing them were treated as `Object` array, or `T = Object`. When receiving the return from `toArr` (`Object[]`), the failure to convert to `String[]` at `getArr1` throw the exception.\r\n\r\nThing went differently when I explicitly declare the type with method `getArr2`.\r\n\r\n```java\r\nstatic String[] getArr2(String a1, String a2){\r\n    System.out.println(&quot;Get arr 2&quot;);\r\n    System.out.println(a1.getClass().getName());\r\n    return toArr(a1, a2);\r\n}\r\n```\r\nWhich outputs to\r\n```none\r\nGet arr 2\r\njava.lang.String\r\nTo arr\r\n[Ljava.lang.String;\r\njava.lang.String\r\n```\r\nWent well, no error at all. The _varargs_ were treated as `String[]`\r\n\r\nMay I get some explanation how _varargs_ was treated differently given the same input type as above cases?\r\n\r\n","title":"Return type of varargs and generics","body":"<p>I was learning Java about how <em>varargs</em> works with the generic types. There was this function when I tried to return an array of generic types, which in this case <code>T</code> is <code>String</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>static &lt;T&gt; T[] toArr(T... listObj){\n    System.out.println(&quot;To arr&quot;);\n    System.out.println(listObj.getClass().getName());\n    System.out.println(listObj[0].getClass().getName());\n    return listObj;\n}\n\nstatic &lt;T&gt; T[] getArr1(T a1, T a2){\n    System.out.println(&quot;Get arr 1&quot;);\n    System.out.println(a1.getClass().getName());\n    return toArr(a1, a2);\n}\n\npublic static void main(String[] args) {\n    String[] res1 = getArr1(&quot;one&quot;, &quot;two&quot;);\n}\n</code></pre>\n<p>And the output was this</p>\n<pre class=\"lang-none prettyprint-override\"><code>Get arr 1\njava.lang.String\nTo arr\n[Ljava.lang.Object;\njava.lang.String\n//Error: casting from [Ljava.lang.Object to [Ljava.lang.String\n</code></pre>\n<p>From my understanding, while 2 <code>String</code> objects were passed from <code>getArr1</code> to <code>toArr</code>, the array storing them were treated as <code>Object</code> array, or <code>T = Object</code>. When receiving the return from <code>toArr</code> (<code>Object[]</code>), the failure to convert to <code>String[]</code> at <code>getArr1</code> throw the exception.</p>\n<p>Thing went differently when I explicitly declare the type with method <code>getArr2</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>static String[] getArr2(String a1, String a2){\n    System.out.println(&quot;Get arr 2&quot;);\n    System.out.println(a1.getClass().getName());\n    return toArr(a1, a2);\n}\n</code></pre>\n<p>Which outputs to</p>\n<pre class=\"lang-none prettyprint-override\"><code>Get arr 2\njava.lang.String\nTo arr\n[Ljava.lang.String;\njava.lang.String\n</code></pre>\n<p>Went well, no error at all. The <em>varargs</em> were treated as <code>String[]</code></p>\n<p>May I get some explanation how <em>varargs</em> was treated differently given the same input type as above cases?</p>\n"},{"tags":["java","json","unit-testing"],"answers":[{"tags":[],"owner":{"account_id":13179806,"reputation":91,"user_id":21197077,"display_name":"gneginskiy"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676305632,"creation_date":1676305632,"answer_id":75438631,"question_id":75438386,"body_markdown":"I would recommend to get rid of null values and then compare. \r\ngoogle GSON by default ignores null values while serializing. \r\n\r\nJackson ObjectMapper also can do this with some additional settings.\r\n\r\nThe most straightforward (not necessarily the most proper) way to get rid of nulls in json would be the following: \r\n\r\n```\r\nGson gson = new Gson();\r\nString jsonString = &quot;{ \\&quot;field1\\&quot;:\\&quot;value1\\&quot;, \\&quot;field2\\&quot;:null}&quot;;\r\nString jsonStringWithoutNulls = gson.toJson(gson.fromJson(jsonString, JsonObject.class));\r\n//results in {&quot;field1&quot;:&quot;value1&quot;}\r\n```","title":"How can I compare two JSON strings ignoring nulls in Java?","body":"<p>I would recommend to get rid of null values and then compare.\ngoogle GSON by default ignores null values while serializing.</p>\n<p>Jackson ObjectMapper also can do this with some additional settings.</p>\n<p>The most straightforward (not necessarily the most proper) way to get rid of nulls in json would be the following:</p>\n<pre><code>Gson gson = new Gson();\nString jsonString = &quot;{ \\&quot;field1\\&quot;:\\&quot;value1\\&quot;, \\&quot;field2\\&quot;:null}&quot;;\nString jsonStringWithoutNulls = gson.toJson(gson.fromJson(jsonString, JsonObject.class));\n//results in {&quot;field1&quot;:&quot;value1&quot;}\n</code></pre>\n"}],"owner":{"account_id":1109371,"reputation":14160,"user_id":1100135,"accept_rate":53,"display_name":"piotrek"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":207,"favorite_count":0,"down_vote_count":6,"up_vote_count":1,"answer_count":1,"score":-5,"last_activity_date":1676475568,"creation_date":1676304406,"question_id":75438386,"body_markdown":"I want to be able to compare two JSON strings in my tests, but ignoring null fields.\r\n\r\nExpected:\r\n\r\n```\r\n{ &quot;field1&quot;:&quot;value1&quot;}\r\n```\r\n\r\nActual and match:\r\n\r\n```\r\n{ &quot;field1&quot;:&quot;value1&quot;, &quot;field2&quot;:null}\r\n```\r\n\r\nActual and no match:\r\n\r\n```\r\n{ &quot;field1&quot;:&quot;value1&quot;, &quot;field2&quot;:&quot;non-null&quot;}\r\n```\r\n\r\n","title":"How can I compare two JSON strings ignoring nulls in Java?","body":"<p>I want to be able to compare two JSON strings in my tests, but ignoring null fields.</p>\n<p>Expected:</p>\n<pre><code>{ &quot;field1&quot;:&quot;value1&quot;}\n</code></pre>\n<p>Actual and match:</p>\n<pre><code>{ &quot;field1&quot;:&quot;value1&quot;, &quot;field2&quot;:null}\n</code></pre>\n<p>Actual and no match:</p>\n<pre><code>{ &quot;field1&quot;:&quot;value1&quot;, &quot;field2&quot;:&quot;non-null&quot;}\n</code></pre>\n"},{"tags":["java","junit","bigdecimal"],"comments":[{"owner":{"account_id":17835,"reputation":303915,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1676475747,"post_id":75460691,"comment_id":133144941,"body_markdown":"Not an exact duplicate, but [this question](https://stackoverflow.com/questions/7186204/bigdecimal-to-use-new-or-valueof) covers the topic.","body":"Not an exact duplicate, but <a href=\"https://stackoverflow.com/questions/7186204/bigdecimal-to-use-new-or-valueof\">this question</a> covers the topic."}],"answers":[{"comments":[{"owner":{"account_id":17719845,"reputation":31,"user_id":12865183,"display_name":"CowOO"},"score":0,"creation_date":1676469258,"post_id":75460803,"comment_id":133142498,"body_markdown":"Thanks! I&#39;ll keep that in mind and make sure to check the Javadocs more throughly.","body":"Thanks! I&#39;ll keep that in mind and make sure to check the Javadocs more throughly."}],"tags":[],"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676469016,"creation_date":1676469016,"answer_id":75460803,"question_id":75460691,"body_markdown":"See the Javadoc of the `BigDecimal(double)` constructor: https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/math/BigDecimal.html#%3Cinit%3E(double). It explicitly warns about this. I&#39;d wish they&#39;d deprecate the constructor, because I&#39;ve only had issues with it. I either use the constructor that takes a String, or one of the `valueOf` methods.","title":"Assertion working or failing with BigDecimal depending on the constructor","body":"<p>See the Javadoc of the <code>BigDecimal(double)</code> constructor: <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/math/BigDecimal.html#%3Cinit%3E(double)\" rel=\"nofollow noreferrer\">https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/math/BigDecimal.html#%3Cinit%3E(double)</a>. It explicitly warns about this. I'd wish they'd deprecate the constructor, because I've only had issues with it. I either use the constructor that takes a String, or one of the <code>valueOf</code> methods.</p>\n"}],"owner":{"account_id":17719845,"reputation":31,"user_id":12865183,"display_name":"CowOO"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1676475436,"creation_date":1676468498,"question_id":75460691,"body_markdown":"I am going through JUnit learning and I was doing some basic calculations to see how it works with BigDecimal. Starting with a few values, subtracting them and asserting the final result. \r\n\r\nWhat I found out is that the assertion either fails or passes depending on what I put into the BigDecimal constructor within assertion. \r\n\r\nIt passes if the last constructor has a String in it:\r\n\r\n```java\r\n@Test\r\npublic void areCalculationsDoingOkWithBigDecimal(){\r\n    BigDecimal initialBalance = new BigDecimal(5);\r\n    BigDecimal spendingOne = new BigDecimal(0.25);\r\n    BigDecimal spendingTwo = new BigDecimal(&quot;0.47&quot;);\r\n    BigDecimal spendingThree = new BigDecimal (&quot;1.73&quot;);\r\n\r\n    BigDecimal finalBalance = initialBalance.subtract(spendingOne).subtract(spendingTwo).subtract(spendingThree);\r\n\r\n    System.out.println(&quot;Final balance after all the spendings: &quot; + finalBalance);\r\n\r\n    assertThat(finalBalance, is(new BigDecimal(&quot;2.55&quot;)));\r\n}\r\n```\r\n\r\nIt fails when the last constructor has a double in it:\r\n\r\n```java\r\n@Test\r\npublic void areCalculationsDoingOkWithBigDecimal(){\r\n    BigDecimal initialBalance = new BigDecimal(5);\r\n    BigDecimal spendingOne = new BigDecimal(0.25);\r\n    BigDecimal spendingTwo = new BigDecimal(&quot;0.47&quot;);\r\n    BigDecimal spendingThree = new BigDecimal (&quot;1.73&quot;);\r\n\r\n    BigDecimal finalBalance = initialBalance.subtract(spendingOne).subtract(spendingTwo).subtract(spendingThree);\r\n\r\n    System.out.println(&quot;Final balance after all the spendings: &quot; + finalBalance);\r\n\r\n    assertThat(finalBalance, is(new BigDecimal(2.55)));\r\n}\r\n```\r\n\r\nAt the same time the constructors at the top are a mix of ints, doubles and Strings and it doesn&#39;t affect the outcome in any way. \r\n\r\nWhy would assertion fail depending on the type of the constructor?\r\n\r\nI expected assertion to pass in both of the cases. I didn&#39;t expect the type of constructor to affect the value of BigDecimal. ","title":"Assertion working or failing with BigDecimal depending on the constructor","body":"<p>I am going through JUnit learning and I was doing some basic calculations to see how it works with BigDecimal. Starting with a few values, subtracting them and asserting the final result.</p>\n<p>What I found out is that the assertion either fails or passes depending on what I put into the BigDecimal constructor within assertion.</p>\n<p>It passes if the last constructor has a String in it:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Test\npublic void areCalculationsDoingOkWithBigDecimal(){\n    BigDecimal initialBalance = new BigDecimal(5);\n    BigDecimal spendingOne = new BigDecimal(0.25);\n    BigDecimal spendingTwo = new BigDecimal(&quot;0.47&quot;);\n    BigDecimal spendingThree = new BigDecimal (&quot;1.73&quot;);\n\n    BigDecimal finalBalance = initialBalance.subtract(spendingOne).subtract(spendingTwo).subtract(spendingThree);\n\n    System.out.println(&quot;Final balance after all the spendings: &quot; + finalBalance);\n\n    assertThat(finalBalance, is(new BigDecimal(&quot;2.55&quot;)));\n}\n</code></pre>\n<p>It fails when the last constructor has a double in it:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Test\npublic void areCalculationsDoingOkWithBigDecimal(){\n    BigDecimal initialBalance = new BigDecimal(5);\n    BigDecimal spendingOne = new BigDecimal(0.25);\n    BigDecimal spendingTwo = new BigDecimal(&quot;0.47&quot;);\n    BigDecimal spendingThree = new BigDecimal (&quot;1.73&quot;);\n\n    BigDecimal finalBalance = initialBalance.subtract(spendingOne).subtract(spendingTwo).subtract(spendingThree);\n\n    System.out.println(&quot;Final balance after all the spendings: &quot; + finalBalance);\n\n    assertThat(finalBalance, is(new BigDecimal(2.55)));\n}\n</code></pre>\n<p>At the same time the constructors at the top are a mix of ints, doubles and Strings and it doesn't affect the outcome in any way.</p>\n<p>Why would assertion fail depending on the type of the constructor?</p>\n<p>I expected assertion to pass in both of the cases. I didn't expect the type of constructor to affect the value of BigDecimal.</p>\n"},{"tags":["java","testing","cucumber"],"answers":[{"comments":[{"owner":{"account_id":14930484,"reputation":77,"user_id":10780016,"display_name":"NicolasM"},"score":0,"creation_date":1676537317,"post_id":75462084,"comment_id":133157774,"body_markdown":"I understand that the first snippet is from build.gradle\nThe second is the class used to run your cucumber test\nWhat about the &quot;cucumber.execution.parallel.enabled=true&quot; ? Where should I put it ?","body":"I understand that the first snippet is from build.gradle The second is the class used to run your cucumber test What about the &quot;cucumber.execution.parallel.enabled=true&quot; ? Where should I put it ?"},{"owner":{"account_id":4895787,"reputation":10858,"user_id":3945473,"display_name":"M.P. Korstanje"},"score":0,"creation_date":1676540063,"post_id":75462084,"comment_id":133158569,"body_markdown":"In the `junit-platform.properties` file. The file goes under `src/test/resources`. You can check the working example if you have more questions like this.","body":"In the <code>junit-platform.properties</code> file. The file goes under <code>src&#47;test&#47;resources</code>. You can check the working example if you have more questions like this."}],"tags":[],"owner":{"account_id":4895787,"reputation":10858,"user_id":3945473,"display_name":"M.P. Korstanje"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676475333,"creation_date":1676475333,"answer_id":75462084,"question_id":75461813,"body_markdown":"It is possible! But you have to apply some workarounds. \r\n\r\n```kotlin\r\nplugins {\r\n    java\r\n}\r\ndependencies {\r\n    testImplementation(platform(&quot;org.junit:junit-bom:5.9.2&quot;))\r\n    testImplementation(platform(&quot;io.cucumber:cucumber-bom:7.11.1&quot;))\r\n\r\n    testImplementation(&quot;io.cucumber:cucumber-java&quot;)\r\n    testImplementation(&quot;io.cucumber:cucumber-junit-platform-engine&quot;)\r\n    testImplementation(&quot;org.junit.platform:junit-platform-suite&quot;)\r\n    testImplementation(&quot;org.junit.jupiter:junit-jupiter&quot;)\r\n}\r\n\r\nrepositories {\r\n    mavenLocal()\r\n    mavenCentral()\r\n}\r\n\r\ntasks.withType&lt;Test&gt; {\r\n    useJUnitPlatform()\r\n    // Work around. Gradle does not include enough information to disambiguate\r\n    // between different examples and scenarios.\r\n    systemProperty(&quot;cucumber.junit-platform.naming-strategy&quot;, &quot;long&quot;)\r\n}\r\n```\r\n\r\nBecause Gradle provides rather limited support for tests that aren&#39;t a in class file you have to use the `junit-platform-suite` to declare a suite.\r\n\r\n\r\n```java\r\npackage io.cucumber.skeleton;\r\n\r\nimport org.junit.platform.suite.api.ConfigurationParameter;\r\nimport org.junit.platform.suite.api.IncludeEngines;\r\nimport org.junit.platform.suite.api.SelectClasspathResource;\r\nimport org.junit.platform.suite.api.Suite;\r\n\r\nimport static io.cucumber.junit.platform.engine.Constants.GLUE_PROPERTY_NAME;\r\n\r\n@Suite\r\n@IncludeEngines(&quot;cucumber&quot;)\r\n@SelectClasspathResource(&quot;io/cucumber/skeleton&quot;)\r\n@ConfigurationParameter(key = GLUE_PROPERTY_NAME, value = &quot;io.cucumber.skeleton&quot;)\r\npublic class RunCucumberTest {\r\n}\r\n```\r\n\r\nThis suite will target the `cucumber` TestEngine from [`cucumber-junit-platform-engine`][1]. The [cucumber-java-skeleton][2] contains a working (serial) example. \r\n\r\nTo make the tests execute in parallel you can add to `junit-platform.properties`:\r\n\r\n```properties\r\ncucumber.execution.parallel.enabled=true\r\n```\r\n\r\nThat is it. For more config details check the JUnit 5 and Cucumber JUnit Platform Engine documentation.\r\n\r\n  [1]: https://github.com/cucumber/cucumber-jvm/tree/main/cucumber-junit-platform-engine#cucumber-junit-platform-engine\r\n  [2]: https://github.com/cucumber/cucumber-java-skeleton/tree/main/gradle","title":"Parallel testing with cucumber and Gradle","body":"<p>It is possible! But you have to apply some workarounds.</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>plugins {\n    java\n}\ndependencies {\n    testImplementation(platform(&quot;org.junit:junit-bom:5.9.2&quot;))\n    testImplementation(platform(&quot;io.cucumber:cucumber-bom:7.11.1&quot;))\n\n    testImplementation(&quot;io.cucumber:cucumber-java&quot;)\n    testImplementation(&quot;io.cucumber:cucumber-junit-platform-engine&quot;)\n    testImplementation(&quot;org.junit.platform:junit-platform-suite&quot;)\n    testImplementation(&quot;org.junit.jupiter:junit-jupiter&quot;)\n}\n\nrepositories {\n    mavenLocal()\n    mavenCentral()\n}\n\ntasks.withType&lt;Test&gt; {\n    useJUnitPlatform()\n    // Work around. Gradle does not include enough information to disambiguate\n    // between different examples and scenarios.\n    systemProperty(&quot;cucumber.junit-platform.naming-strategy&quot;, &quot;long&quot;)\n}\n</code></pre>\n<p>Because Gradle provides rather limited support for tests that aren't a in class file you have to use the <code>junit-platform-suite</code> to declare a suite.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package io.cucumber.skeleton;\n\nimport org.junit.platform.suite.api.ConfigurationParameter;\nimport org.junit.platform.suite.api.IncludeEngines;\nimport org.junit.platform.suite.api.SelectClasspathResource;\nimport org.junit.platform.suite.api.Suite;\n\nimport static io.cucumber.junit.platform.engine.Constants.GLUE_PROPERTY_NAME;\n\n@Suite\n@IncludeEngines(&quot;cucumber&quot;)\n@SelectClasspathResource(&quot;io/cucumber/skeleton&quot;)\n@ConfigurationParameter(key = GLUE_PROPERTY_NAME, value = &quot;io.cucumber.skeleton&quot;)\npublic class RunCucumberTest {\n}\n</code></pre>\n<p>This suite will target the <code>cucumber</code> TestEngine from <a href=\"https://github.com/cucumber/cucumber-jvm/tree/main/cucumber-junit-platform-engine#cucumber-junit-platform-engine\" rel=\"nofollow noreferrer\"><code>cucumber-junit-platform-engine</code></a>. The <a href=\"https://github.com/cucumber/cucumber-java-skeleton/tree/main/gradle\" rel=\"nofollow noreferrer\">cucumber-java-skeleton</a> contains a working (serial) example.</p>\n<p>To make the tests execute in parallel you can add to <code>junit-platform.properties</code>:</p>\n<pre><code>cucumber.execution.parallel.enabled=true\n</code></pre>\n<p>That is it. For more config details check the JUnit 5 and Cucumber JUnit Platform Engine documentation.</p>\n"}],"owner":{"account_id":14930484,"reputation":77,"user_id":10780016,"display_name":"NicolasM"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":160,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1676475333,"creation_date":1676473861,"question_id":75461813,"body_markdown":"I keep finding posts and articles on how to run parallel tests with Cucumber and Maven, but nothing with Gradle.\r\n\r\nI have the following scenario:\r\n\r\n      Scenario Outline: Author from API matches author on book page\r\n        Given user goes on google.com\r\n        when user search &lt;item&gt;\r\n        and click on &lt;locator&gt;\r\n        Then something happens\r\n    \r\n        Examples:\r\n          | item    | locator |\r\n          | item1   | locator1|\r\n          | item2   | locator2|\r\n          | item3   | locator3|\r\n\r\nIs it possible, with Gradle, to run this scenario in parallel, each execution using the values in &quot;Examples&quot; table?\r\n\r\nThanks","title":"Parallel testing with cucumber and Gradle","body":"<p>I keep finding posts and articles on how to run parallel tests with Cucumber and Maven, but nothing with Gradle.</p>\n<p>I have the following scenario:</p>\n<pre><code>  Scenario Outline: Author from API matches author on book page\n    Given user goes on google.com\n    when user search &lt;item&gt;\n    and click on &lt;locator&gt;\n    Then something happens\n\n    Examples:\n      | item    | locator |\n      | item1   | locator1|\n      | item2   | locator2|\n      | item3   | locator3|\n</code></pre>\n<p>Is it possible, with Gradle, to run this scenario in parallel, each execution using the values in &quot;Examples&quot; table?</p>\n<p>Thanks</p>\n"},{"tags":["java","apache-poi"],"answers":[{"tags":[],"owner":{"account_id":179293,"reputation":15713,"user_id":411846,"accept_rate":80,"display_name":"centic"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1491545548,"creation_date":1491545548,"answer_id":43270887,"question_id":43261106,"body_markdown":"You cannot simply send the byte-array as `ISO-8859-1` encoded text the way you attempt. \r\n\r\nThere will be special characters that might get replaced/truncated/modified. \r\n\r\nCurrently you mix binary data and a text-only channel (HTTP). You will need to do it differently, either use a binary data transfer and not convert it to String or use some binary-to-text representation, see e.g. https://en.wikipedia.org/wiki/Binary-to-text_encoding, the most common one being [Base64][1]\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Base64","title":"Convert byteArray to XSSFWorkbook using Apache POI","body":"<p>You cannot simply send the byte-array as <code>ISO-8859-1</code> encoded text the way you attempt. </p>\n\n<p>There will be special characters that might get replaced/truncated/modified. </p>\n\n<p>Currently you mix binary data and a text-only channel (HTTP). You will need to do it differently, either use a binary data transfer and not convert it to String or use some binary-to-text representation, see e.g. <a href=\"https://en.wikipedia.org/wiki/Binary-to-text_encoding\" rel=\"nofollow noreferrer\">https://en.wikipedia.org/wiki/Binary-to-text_encoding</a>, the most common one being <a href=\"https://en.wikipedia.org/wiki/Base64\" rel=\"nofollow noreferrer\">Base64</a></p>\n"},{"tags":[],"owner":{"account_id":10344004,"reputation":1,"user_id":7629506,"display_name":"devendra parmar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676475133,"creation_date":1676474312,"answer_id":75461887,"question_id":43261106,"body_markdown":"Use \r\n\r\n    InputStream stream = new ByteArrayInputStream(bytes);","title":"Convert byteArray to XSSFWorkbook using Apache POI","body":"<p>Use</p>\n<pre><code>InputStream stream = new ByteArrayInputStream(bytes);\n</code></pre>\n"}],"owner":{"display_name":"user4685154"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":20135,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":43270887,"answer_count":2,"score":4,"last_activity_date":1676475133,"creation_date":1491496852,"question_id":43261106,"body_markdown":"I am using Apache POI and I am trying to send a `xlsx` file as HTTP request and get it back as response. I am using `jayway restassured` for making HTTP requests.\r\n\r\nHere is the part of the code where I send the request\r\n\r\n     File file = new File(&quot;path&quot;);\r\n    String response = given().multipart(file).when().post(&quot;URL&quot;).getBody().asString();\r\n    \r\n    byte[] bytes = response.getBytes(&quot;ISO-8859-1&quot;);\r\n    InputStream stream = new ByteArrayOutputStream(bytes);\r\n    \r\n    try\r\n    {\r\n    \tXSSFWorkbook workbook = new XSSFWorkbook(stream);\r\n    }\r\n    catch(Exception e){\r\n    \te.printStackTrace();\r\n    }\r\n\r\nHere is the code where the response is generated for the request\r\n\r\n    XSSFWorkbook workBook;  //this workBook has the workbook sent as HTTP request\r\n    //code to make changes in workBook\r\n    \r\n    ByteArrayOutputStream outStream = new ByteArrayOutputStream();\r\n    \r\n    workBook.write(outStream);\r\n    byte[] byteArray = outStream.toByteArray();\r\n    String responseBody = new String(byteArray, &quot;ISO-8859-1&quot;);\r\n    \r\n    context.response().putHeader(&quot;Content-Type&quot;, &quot;multipart/form-data&quot;).setStatusCode(200).end(responseBody);\r\n\r\nSo, what I am trying to do is send a `xlsx` file as request make some changes and get it back as a string response, convert it back to xssfworkbook. When converting back I get error in the following line-\r\n\r\n    XSSFWorkbook workbook = new XSSFWorkbook(stream);\r\n\r\nThe error I get is\r\n\r\n    java.util.zip.ZipException: invalid code lengths set","title":"Convert byteArray to XSSFWorkbook using Apache POI","body":"<p>I am using Apache POI and I am trying to send a <code>xlsx</code> file as HTTP request and get it back as response. I am using <code>jayway restassured</code> for making HTTP requests.</p>\n\n<p>Here is the part of the code where I send the request</p>\n\n<pre><code> File file = new File(\"path\");\nString response = given().multipart(file).when().post(\"URL\").getBody().asString();\n\nbyte[] bytes = response.getBytes(\"ISO-8859-1\");\nInputStream stream = new ByteArrayOutputStream(bytes);\n\ntry\n{\n    XSSFWorkbook workbook = new XSSFWorkbook(stream);\n}\ncatch(Exception e){\n    e.printStackTrace();\n}\n</code></pre>\n\n<p>Here is the code where the response is generated for the request</p>\n\n<pre><code>XSSFWorkbook workBook;  //this workBook has the workbook sent as HTTP request\n//code to make changes in workBook\n\nByteArrayOutputStream outStream = new ByteArrayOutputStream();\n\nworkBook.write(outStream);\nbyte[] byteArray = outStream.toByteArray();\nString responseBody = new String(byteArray, \"ISO-8859-1\");\n\ncontext.response().putHeader(\"Content-Type\", \"multipart/form-data\").setStatusCode(200).end(responseBody);\n</code></pre>\n\n<p>So, what I am trying to do is send a <code>xlsx</code> file as request make some changes and get it back as a string response, convert it back to xssfworkbook. When converting back I get error in the following line-</p>\n\n<pre><code>XSSFWorkbook workbook = new XSSFWorkbook(stream);\n</code></pre>\n\n<p>The error I get is</p>\n\n<pre><code>java.util.zip.ZipException: invalid code lengths set\n</code></pre>\n"},{"tags":["java","servlets"],"answers":[{"comments":[{"owner":{"account_id":190764,"reputation":179,"user_id":430918,"accept_rate":12,"display_name":"krishna"},"score":0,"creation_date":1287375340,"post_id":3948656,"comment_id":4228238,"body_markdown":"i am using struts 1 in this i had tried this earlier request.getServletContext is not defined giving error","body":"i am using struts 1 in this i had tried this earlier request.getServletContext is not defined giving error"}],"tags":[],"owner":{"account_id":70258,"reputation":590444,"user_id":203907,"accept_rate":81,"display_name":"Bozho"},"comment_count":1,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1287227728,"creation_date":1287227728,"answer_id":3948656,"question_id":3947866,"body_markdown":"`request.getServletContext().getRealPath(..)` (or if you are within a servlet, just call `getServletContext().getRealPath(..)`","title":"I want to get the real path of a file in java by using the request method getRealPath()but it is deprecated now i want an alternate to it","body":"<p><code>request.getServletContext().getRealPath(..)</code> (or if you are within a servlet, just call <code>getServletContext().getRealPath(..)</code></p>\n"},{"tags":[],"owner":{"account_id":27615673,"reputation":1,"user_id":21077781,"display_name":"Satya"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1676446055,"creation_date":1676446055,"answer_id":75456622,"question_id":3947866,"body_markdown":"try this one request.getSession().getServletContext().getRealPath(&quot;/&quot;);","title":"I want to get the real path of a file in java by using the request method getRealPath()but it is deprecated now i want an alternate to it","body":"<p>try this one request.getSession().getServletContext().getRealPath(&quot;/&quot;);</p>\n"}],"owner":{"account_id":190764,"reputation":179,"user_id":430918,"accept_rate":12,"display_name":"krishna"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9145,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"closed_date":1676474902,"answer_count":2,"score":2,"last_activity_date":1676474926,"creation_date":1287209020,"question_id":3947866,"body_markdown":"I want to get the real path of a file in java by using the request method getRealPath()but it is deprecated now i want an alternate to it i tried get servletcontext but it is not returning the whole path\r\n\r\n\r\nin jsp page when i m using application.getRealPath(&quot;/&quot;) it is giving whole path as D:/.....\r\n\r\nbut in java servlet code i m not getting this method working so i want a perfect httprequest method which will be returning whole path of the application.\r\n\r\nplease suggest me a perfect method with example if possible","title":"I want to get the real path of a file in java by using the request method getRealPath()but it is deprecated now i want an alternate to it","body":"<p>I want to get the real path of a file in java by using the request method getRealPath()but it is deprecated now i want an alternate to it i tried get servletcontext but it is not returning the whole path</p>\n\n<p>in jsp page when i m using application.getRealPath(\"/\") it is giving whole path as D:/.....</p>\n\n<p>but in java servlet code i m not getting this method working so i want a perfect httprequest method which will be returning whole path of the application.</p>\n\n<p>please suggest me a perfect method with example if possible</p>\n"},{"tags":["java","database","oop"],"comments":[{"owner":{"account_id":2296898,"reputation":12966,"user_id":2018133,"accept_rate":100,"display_name":"Geert Bellekens"},"score":0,"creation_date":1676470048,"post_id":75460942,"comment_id":133142781,"body_markdown":"I&#39;m not sure what you are trying to express with your diagram, but it&#39;s definitely not UML","body":"I&#39;m not sure what you are trying to express with your diagram, but it&#39;s definitely not UML"},{"owner":{"account_id":305991,"reputation":39137,"user_id":616460,"accept_rate":93,"display_name":"Jason C"},"score":0,"creation_date":1676470256,"post_id":75460942,"comment_id":133142874,"body_markdown":"Are you talking about inheritance relationships or ownership relationships? Also your title mentions monitoring &quot;change&quot; but your question does not, can you clarify?","body":"Are you talking about inheritance relationships or ownership relationships? Also your title mentions monitoring &quot;change&quot; but your question does not, can you clarify?"},{"owner":{"account_id":114128,"reputation":50467,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":1,"creation_date":1676470341,"post_id":75460942,"comment_id":133142899,"body_markdown":"One way would be to have a `Person` table and for each `Person` row have foreign keys to `Mother` and `Father`.  The `Person` row would also have a child/adult `boolean` flag.","body":"One way would be to have a <code>Person</code> table and for each <code>Person</code> row have foreign keys to <code>Mother</code> and <code>Father</code>.  The <code>Person</code> row would also have a child/adult <code>boolean</code> flag."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1676475408,"post_id":75460942,"comment_id":133144819,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."},{"owner":{"account_id":305991,"reputation":39137,"user_id":616460,"accept_rate":93,"display_name":"Jason C"},"score":0,"creation_date":1676504889,"post_id":75460942,"comment_id":133152678,"body_markdown":"&quot;In my case there are certain attributes that a mother/father has but a child doesn&#39;t&quot; -- Such as... ?","body":"&quot;In my case there are certain attributes that a mother/father has but a child doesn&#39;t&quot; -- Such as... ?"},{"owner":{"display_name":"user21219774"},"score":0,"creation_date":1676545696,"post_id":75460942,"comment_id":133160341,"body_markdown":"Well i thought of something like the date of passing the driver license or the date when a woman becomes pregnant @JasonC","body":"Well i thought of something like the date of passing the driver license or the date when a woman becomes pregnant @JasonC"},{"owner":{"account_id":305991,"reputation":39137,"user_id":616460,"accept_rate":93,"display_name":"Jason C"},"score":0,"creation_date":1676549413,"post_id":75460942,"comment_id":133161339,"body_markdown":"It&#39;s the same, they&#39;re all humans. Every human has a date of conception so that would be a property of a human (mothers can have more than one date of pregnancy so it would be needlessly complicated to make it a property of the mother and associate it with children, just make it a property of the child; and the mother herself also has a date that she was conceived). Every human has either passed a drivers license test or not so that&#39;s a nullable date property of a human.","body":"It&#39;s the same, they&#39;re all humans. Every human has a date of conception so that would be a property of a human (mothers can have more than one date of pregnancy so it would be needlessly complicated to make it a property of the mother and associate it with children, just make it a property of the child; and the mother herself also has a date that she was conceived). Every human has either passed a drivers license test or not so that&#39;s a nullable date property of a human."},{"owner":{"display_name":"user21219774"},"score":0,"creation_date":1676551528,"post_id":75460942,"comment_id":133162012,"body_markdown":"I am a bit confused now. So are you suggesting that i take the approach with human, mother, child as individual classes or just a human class?","body":"I am a bit confused now. So are you suggesting that i take the approach with human, mother, child as individual classes or just a human class?"},{"owner":{"account_id":305991,"reputation":39137,"user_id":616460,"accept_rate":93,"display_name":"Jason C"},"score":1,"creation_date":1676555775,"post_id":75460942,"comment_id":133163354,"body_markdown":"Just a human class. Properties include &quot;mother&quot;, &quot;father&quot;, &quot;date of conception&quot;, &quot;driver&#39;s license date&quot; etc.","body":"Just a human class. Properties include &quot;mother&quot;, &quot;father&quot;, &quot;date of conception&quot;, &quot;driver&#39;s license date&quot; etc."}],"answers":[{"comments":[{"owner":{"account_id":305991,"reputation":39137,"user_id":616460,"accept_rate":93,"display_name":"Jason C"},"score":0,"creation_date":1676471713,"post_id":75461108,"comment_id":133143428,"body_markdown":"Note that if you store a biological gender with each human and then drop the separate &quot;mother&quot; and &quot;father&quot; columns (just storing links to parents or links to children) then &quot;mother&quot; vs &quot;father&quot; can be inferred from biological gender at the expense of extra query complexity, the benefit being you remove the possibilities of inconsistencies such as having &quot;mother&quot; point to a male. Social norms notwithstanding.","body":"Note that if you store a biological gender with each human and then drop the separate &quot;mother&quot; and &quot;father&quot; columns (just storing links to parents or links to children) then &quot;mother&quot; vs &quot;father&quot; can be inferred from biological gender at the expense of extra query complexity, the benefit being you remove the possibilities of inconsistencies such as having &quot;mother&quot; point to a male. Social norms notwithstanding."}],"tags":[],"owner":{"account_id":305991,"reputation":39137,"user_id":616460,"accept_rate":93,"display_name":"Jason C"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1676471410,"creation_date":1676470495,"answer_id":75461108,"question_id":75460942,"body_markdown":"There is no need to create separate classes for the various members of a family, because:\r\n\r\n- Every member is a human.\r\n- Every human has parents (even mothers and fathers have mothers and fathers).\r\n- Every human may or may not have children.\r\n\r\nSo every person in your database, whether they&#39;re a mother or a father or a child, has:\r\n\r\n- A biological mother (link to one other human).\r\n- A biological father (link to one other human).\r\n- Zero or more children (links to zero or more other humans). But you don&#39;t necessarily need to represent this in the database, since it&#39;s implied by the links to parents.\r\n\r\nSo you can just model them all as Humans with those properties, and they can all be in the same table of humans. If a &quot;child&quot; ends up having children, just add to its set of children.\r\n\r\nIt&#39;s up to you if you want to store parent &lt;-&gt; child links in a separate table or not. Depends on your situation, what your DBMS likes, etc. If you&#39;d like to cover the possibility of unknown parents then you can make the mother and father links optional.\r\n\r\nOther properties, such as gender, age, adulthood status, whatever, are extra things you can add if you&#39;d like but generally speaking they&#39;re all humans with a hierarchical structure.","title":"How to model &quot;change&quot; in a database and object orientation","body":"<p>There is no need to create separate classes for the various members of a family, because:</p>\n<ul>\n<li>Every member is a human.</li>\n<li>Every human has parents (even mothers and fathers have mothers and fathers).</li>\n<li>Every human may or may not have children.</li>\n</ul>\n<p>So every person in your database, whether they're a mother or a father or a child, has:</p>\n<ul>\n<li>A biological mother (link to one other human).</li>\n<li>A biological father (link to one other human).</li>\n<li>Zero or more children (links to zero or more other humans). But you don't necessarily need to represent this in the database, since it's implied by the links to parents.</li>\n</ul>\n<p>So you can just model them all as Humans with those properties, and they can all be in the same table of humans. If a &quot;child&quot; ends up having children, just add to its set of children.</p>\n<p>It's up to you if you want to store parent &lt;-&gt; child links in a separate table or not. Depends on your situation, what your DBMS likes, etc. If you'd like to cover the possibility of unknown parents then you can make the mother and father links optional.</p>\n<p>Other properties, such as gender, age, adulthood status, whatever, are extra things you can add if you'd like but generally speaking they're all humans with a hierarchical structure.</p>\n"}],"owner":{"display_name":"user21219774"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1676487395,"accepted_answer_id":75461108,"answer_count":1,"score":0,"last_activity_date":1676474871,"creation_date":1676469666,"question_id":75460942,"body_markdown":"I haven&#39;t had much to do with OOP for some time now and I am uncertain how to approach the following problem. To refresh my knowledge I decided to do a small program in java. \r\n\r\nThe main problem lies in the modelling of three classes. So there exists an abstract base class like human and child classes Mother, Father, Child. Mother and Father can have multiple kids. But a kid can become a parent aswell and have children and so forth. I haven&#39;t considered the idea of working with interfaces yet.\r\nPersonally the second approach seems more accurate but I am not sure. And how would I model that in a database. \r\n\r\n\r\n**Edit**: To specify what i meant: In my case there are certain attributes that a mother/father has but a child doesn&#39;t, therefore my approach with the hierarchy. And with change i meant that at some point the child might become a parent aswell and thus having children. Sorry for the confusion i didn&#39;t mean to say that my scribble is a uml diagramm but rather a visual representation of what i thought of.  ","title":"How to model &quot;change&quot; in a database and object orientation","body":"<p>I haven't had much to do with OOP for some time now and I am uncertain how to approach the following problem. To refresh my knowledge I decided to do a small program in java.</p>\n<p>The main problem lies in the modelling of three classes. So there exists an abstract base class like human and child classes Mother, Father, Child. Mother and Father can have multiple kids. But a kid can become a parent aswell and have children and so forth. I haven't considered the idea of working with interfaces yet.\nPersonally the second approach seems more accurate but I am not sure. And how would I model that in a database.</p>\n<p><strong>Edit</strong>: To specify what i meant: In my case there are certain attributes that a mother/father has but a child doesn't, therefore my approach with the hierarchy. And with change i meant that at some point the child might become a parent aswell and thus having children. Sorry for the confusion i didn't mean to say that my scribble is a uml diagramm but rather a visual representation of what i thought of.</p>\n"},{"tags":["java","apache-kafka","spring-kafka"],"answers":[{"tags":[],"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676474155,"creation_date":1676473848,"answer_id":75461806,"question_id":75460948,"body_markdown":"Bootstrap server config option accepts a CSV list for multiple brokers of one cluster. But you only need to provide multiple options for fault tolerance, as Kafka automatically returns all servers in the same cluster on first connection. \r\n\r\n\r\n\r\nIf you need to connect to distinct Kafka clusters, create a Bean with the different bootstrap address ","title":"Multi-kafka connections","body":"<p>Bootstrap server config option accepts a CSV list for multiple brokers of one cluster. But you only need to provide multiple options for fault tolerance, as Kafka automatically returns all servers in the same cluster on first connection.</p>\n<p>If you need to connect to distinct Kafka clusters, create a Bean with the different bootstrap address</p>\n"}],"owner":{"account_id":27793189,"reputation":11,"user_id":21219271,"display_name":"IgorPiven"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":149,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1676474155,"creation_date":1676469687,"question_id":75460948,"body_markdown":"There is a data stream application. It is necessary to connect and listen from several Kafka brokers (different ip-addresses, more than 2) and to write to the one.\r\n\r\nPls advise how to arrange multi-kafka connection?\r\n\r\nConfiguration class for a single kafka connection:\r\n```\r\n@Configuration\r\npublic class KafkaProducer {\r\n\r\n\r\n    @Bean\r\n    public Map&lt;String, Object&gt; producerConfigs() {\r\n        Map&lt;String, Object&gt; props = new HashMap&lt;&gt;();\r\n\r\n        props.put(ProducerConfig.BOOTSTRAP_SERVERS_CONFIG, &quot;localhost:29092&quot;);\r\n        props.put(ProducerConfig.KEY_SERIALIZER_CLASS_CONFIG, StringSerializer.class);\r\n        props.put(ProducerConfig.VALUE_SERIALIZER_CLASS_CONFIG, StringSerializer.class);\r\n        return props;\r\n    }\r\n\r\n    @Bean\r\n    public ProducerFactory&lt;String, String&gt; producerFactory() {\r\n        return new DefaultKafkaProducerFactory&lt;&gt;(producerConfigs());\r\n    }\r\n\r\n    @Bean\r\n    public KafkaTemplate&lt;String, String&gt; kafkaTemplate() {\r\n        return new KafkaTemplate&lt;&gt;(producerFactory());\r\n    }\r\n}\r\n```\r\nIt is expected several connections to be arranged and listened in the same time.","title":"Multi-kafka connections","body":"<p>There is a data stream application. It is necessary to connect and listen from several Kafka brokers (different ip-addresses, more than 2) and to write to the one.</p>\n<p>Pls advise how to arrange multi-kafka connection?</p>\n<p>Configuration class for a single kafka connection:</p>\n<pre><code>@Configuration\npublic class KafkaProducer {\n\n\n    @Bean\n    public Map&lt;String, Object&gt; producerConfigs() {\n        Map&lt;String, Object&gt; props = new HashMap&lt;&gt;();\n\n        props.put(ProducerConfig.BOOTSTRAP_SERVERS_CONFIG, &quot;localhost:29092&quot;);\n        props.put(ProducerConfig.KEY_SERIALIZER_CLASS_CONFIG, StringSerializer.class);\n        props.put(ProducerConfig.VALUE_SERIALIZER_CLASS_CONFIG, StringSerializer.class);\n        return props;\n    }\n\n    @Bean\n    public ProducerFactory&lt;String, String&gt; producerFactory() {\n        return new DefaultKafkaProducerFactory&lt;&gt;(producerConfigs());\n    }\n\n    @Bean\n    public KafkaTemplate&lt;String, String&gt; kafkaTemplate() {\n        return new KafkaTemplate&lt;&gt;(producerFactory());\n    }\n}\n</code></pre>\n<p>It is expected several connections to be arranged and listened in the same time.</p>\n"},{"tags":["java","jakarta-jsonp"],"comments":[{"owner":{"account_id":82626,"reputation":12122,"user_id":232175,"accept_rate":62,"display_name":"Matthias"},"score":0,"creation_date":1639131808,"post_id":70302594,"comment_id":124275714,"body_markdown":"I have created https://github.com/elastic/elasticsearch-java/issues/55 to ask specifically about the situation with Elasticsearch. However, the general issue remains whether javax.json.* and jakarta,json.* can both be used within the same application.","body":"I have created <a href=\"https://github.com/elastic/elasticsearch-java/issues/55\" rel=\"nofollow noreferrer\">github.com/elastic/elasticsearch-java/issues/55</a> to ask specifically about the situation with Elasticsearch. However, the general issue remains whether javax.json.* and jakarta,json.* can both be used within the same application."},{"owner":{"account_id":52822,"reputation":1089035,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"score":2,"creation_date":1639136561,"post_id":70302594,"comment_id":124277387,"body_markdown":"Can&#39;t you just pick an Elasticsearch version suitable for your environment?","body":"Can&#39;t you just pick an Elasticsearch version suitable for your environment?"},{"owner":{"account_id":82626,"reputation":12122,"user_id":232175,"accept_rate":62,"display_name":"Matthias"},"score":0,"creation_date":1639137092,"post_id":70302594,"comment_id":124277573,"body_markdown":"@BalusC: Elasticsearch itself is already running using Java 11 and will likely be kept current. As the &quot;old&quot; Java REST Client is being deprecated, I would like to use the &quot;new&quot; Java Client for Elasticsearch from my Java application - however, Wildfly for Jakarta EE 9 is still in preview stage, so I have to use Java EE 8 for now.","body":"@BalusC: Elasticsearch itself is already running using Java 11 and will likely be kept current. As the &quot;old&quot; Java REST Client is being deprecated, I would like to use the &quot;new&quot; Java Client for Elasticsearch from my Java application - however, Wildfly for Jakarta EE 9 is still in preview stage, so I have to use Java EE 8 for now."}],"answers":[{"tags":[],"owner":{"account_id":82626,"reputation":12122,"user_id":232175,"accept_rate":62,"display_name":"Matthias"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1639148735,"creation_date":1639148735,"answer_id":70306494,"question_id":70302594,"body_markdown":"One workaround seems to be to use the maven shade plugin to basically &quot;rename&quot; the package `org.glassfish.json` in the &quot;new&quot; `org.glassfish:jakarta.json` to `jakarta.org.glassfish.json`:\r\n\r\n    &lt;build&gt;\r\n      &lt;plugins&gt;\r\n        &lt;plugin&gt;\r\n          &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n          &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\r\n          &lt;executions&gt;\r\n            &lt;execution&gt;\r\n              &lt;phase&gt;package&lt;/phase&gt;\r\n              &lt;goals&gt;\r\n                &lt;goal&gt;shade&lt;/goal&gt;\r\n              &lt;/goals&gt;\r\n            &lt;/execution&gt;\r\n          &lt;/executions&gt;\r\n          &lt;configuration&gt;\r\n            &lt;filters&gt;\r\n              &lt;filter&gt;\r\n                &lt;artifact&gt;org.glassfish:jakarta.json&lt;/artifact&gt;\r\n                &lt;includes&gt;\r\n                  &lt;include&gt;org/glassfish/json/**&lt;/include&gt;\r\n                &lt;/includes&gt;\r\n              &lt;/filter&gt;\r\n            &lt;/filters&gt;\r\n            &lt;artifactSet&gt;\r\n              &lt;includes&gt;\r\n                &lt;include&gt;org.glassfish:jakarta.json&lt;/include&gt;\r\n              &lt;/includes&gt;\r\n            &lt;/artifactSet&gt;\r\n            &lt;relocations&gt;\r\n              &lt;relocation&gt;\r\n                &lt;pattern&gt;org.glassfish.json&lt;/pattern&gt;\r\n                &lt;shadedPattern&gt;jakarta.org.glassfish.json&lt;/shadedPattern&gt;\r\n              &lt;/relocation&gt;\r\n            &lt;/relocations&gt;\r\n          &lt;/configuration&gt;\r\n        &lt;/plugin&gt;\r\n      &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\nThen, one can create the file `src/main/resources/META-INF/services/jakarta.json.spi.JsonProvider` with the following content:\r\n\r\n    jakarta.org.glassfish.json.JsonProviderImpl\r\n\r\nThis will tell the implementation of `jakarta.json.spi.JsonProvider` to use the shaded version of the `JsonProviderImpl` (from the `org.glassfish:jakarta.json` artifact - which uses the `jakarta.json.*` classes) instead of the `JsonProviderImpl` (with the same name from `org.glassfish:javax.json`).","title":"javax.json and jakarta.json in the same application: org.glassfish.json.JsonProviderImpl cannot be cast to jakarta.json.spi.JsonProvider","body":"<p>One workaround seems to be to use the maven shade plugin to basically &quot;rename&quot; the package <code>org.glassfish.json</code> in the &quot;new&quot; <code>org.glassfish:jakarta.json</code> to <code>jakarta.org.glassfish.json</code>:</p>\n<pre><code>&lt;build&gt;\n  &lt;plugins&gt;\n    &lt;plugin&gt;\n      &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n      &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\n      &lt;executions&gt;\n        &lt;execution&gt;\n          &lt;phase&gt;package&lt;/phase&gt;\n          &lt;goals&gt;\n            &lt;goal&gt;shade&lt;/goal&gt;\n          &lt;/goals&gt;\n        &lt;/execution&gt;\n      &lt;/executions&gt;\n      &lt;configuration&gt;\n        &lt;filters&gt;\n          &lt;filter&gt;\n            &lt;artifact&gt;org.glassfish:jakarta.json&lt;/artifact&gt;\n            &lt;includes&gt;\n              &lt;include&gt;org/glassfish/json/**&lt;/include&gt;\n            &lt;/includes&gt;\n          &lt;/filter&gt;\n        &lt;/filters&gt;\n        &lt;artifactSet&gt;\n          &lt;includes&gt;\n            &lt;include&gt;org.glassfish:jakarta.json&lt;/include&gt;\n          &lt;/includes&gt;\n        &lt;/artifactSet&gt;\n        &lt;relocations&gt;\n          &lt;relocation&gt;\n            &lt;pattern&gt;org.glassfish.json&lt;/pattern&gt;\n            &lt;shadedPattern&gt;jakarta.org.glassfish.json&lt;/shadedPattern&gt;\n          &lt;/relocation&gt;\n        &lt;/relocations&gt;\n      &lt;/configuration&gt;\n    &lt;/plugin&gt;\n  &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n<p>Then, one can create the file <code>src/main/resources/META-INF/services/jakarta.json.spi.JsonProvider</code> with the following content:</p>\n<pre><code>jakarta.org.glassfish.json.JsonProviderImpl\n</code></pre>\n<p>This will tell the implementation of <code>jakarta.json.spi.JsonProvider</code> to use the shaded version of the <code>JsonProviderImpl</code> (from the <code>org.glassfish:jakarta.json</code> artifact - which uses the <code>jakarta.json.*</code> classes) instead of the <code>JsonProviderImpl</code> (with the same name from <code>org.glassfish:javax.json</code>).</p>\n"},{"comments":[{"owner":{"account_id":922912,"reputation":1160,"user_id":954246,"accept_rate":75,"display_name":"newhouse"},"score":0,"creation_date":1690973349,"post_id":70859263,"comment_id":135426578,"body_markdown":"I&#39;m happy for a WORKAROUND, but this is clearly a workaround. The problem is, why it happens, that I add glassfish&#39;s implementation, which is implementing the proper interface and the ServiceLoader doesn&#39;t find it on the factory method? Most likely glassfish&#39;s package is missing something.\n\nI ran into this problem but not with colliding class names, but simply updating myself on jakarta api and replacing my javax glassfish json to jakarta glassfish json","body":"I&#39;m happy for a WORKAROUND, but this is clearly a workaround. The problem is, why it happens, that I add glassfish&#39;s implementation, which is implementing the proper interface and the ServiceLoader doesn&#39;t find it on the factory method? Most likely glassfish&#39;s package is missing something.  I ran into this problem but not with colliding class names, but simply updating myself on jakarta api and replacing my javax glassfish json to jakarta glassfish json"}],"tags":[],"owner":{"account_id":82626,"reputation":12122,"user_id":232175,"accept_rate":62,"display_name":"Matthias"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1643177828,"creation_date":1643177828,"answer_id":70859263,"question_id":70302594,"body_markdown":"For reference: [This has been fixed by the Elastic team][1]: They have switched from the Glassfish implementation\r\n\r\n    api(&quot;org.glassfish&quot;, &quot;jakarta.json&quot;, &quot;2.0.1&quot;)\r\n\r\nto [Eclipse Parsson][2]:\r\n\r\n    api(&quot;jakarta.json:jakarta.json-api:2.0.1&quot;)\r\n    api(&quot;org.eclipse.parsson:parsson:1.0.0&quot;)\r\n\r\n\r\n  [1]: https://github.com/elastic/elasticsearch-java/pull/63\r\n  [2]: https://github.com/eclipse-ee4j/parsson","title":"javax.json and jakarta.json in the same application: org.glassfish.json.JsonProviderImpl cannot be cast to jakarta.json.spi.JsonProvider","body":"<p>For reference: <a href=\"https://github.com/elastic/elasticsearch-java/pull/63\" rel=\"nofollow noreferrer\">This has been fixed by the Elastic team</a>: They have switched from the Glassfish implementation</p>\n<pre><code>api(&quot;org.glassfish&quot;, &quot;jakarta.json&quot;, &quot;2.0.1&quot;)\n</code></pre>\n<p>to <a href=\"https://github.com/eclipse-ee4j/parsson\" rel=\"nofollow noreferrer\">Eclipse Parsson</a>:</p>\n<pre><code>api(&quot;jakarta.json:jakarta.json-api:2.0.1&quot;)\napi(&quot;org.eclipse.parsson:parsson:1.0.0&quot;)\n</code></pre>\n"}],"owner":{"account_id":82626,"reputation":12122,"user_id":232175,"accept_rate":62,"display_name":"Matthias"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3557,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":70859263,"answer_count":2,"score":4,"last_activity_date":1676473917,"creation_date":1639129816,"question_id":70302594,"body_markdown":"I am developing an application targeting a Java EE 8 application server (JBoss/Wildfly).\r\n\r\nHowever, one of the dependencies (elasticsearch api) is already using `jakarta.json.*` classes which results in a ClassCastException at runtime:\r\n\r\n&gt; java.lang.ClassCastException: org.glassfish.json.JsonProviderImpl\r\n&gt; cannot be cast to jakarta.json.spi.JsonProvider\r\n\r\nThat is because the `org.classfish.json.JsonProviderImpl` in my classpath (`org.classfish:javax.json:1.1.4`) is still using javax.json classes.\r\n\r\nHowever, as both `org.glassfish:jakarta.json` and `org.classfish:javax.json` define the same class `org.classfish.json.JsonProviderImpl` (one using the `javax.json.*` classes and one using the `jakarta.json.*` classes...), I am unable to simply include both maven artifacts.\r\n\r\nThe implementation of JsonProviderImpl (**in both artifacts!**) basically returns the following by default:\r\n\r\n    return Class.forName(&quot;org.glassfish.json.JsonProviderImpl&quot;);\r\n\r\nWhen both `org.glassfish:jakarta.json` and `org.classfish:javax.json` are on the classpath, this will cause issue for any of the implementations which will get the `JsonProviderImpl` from the other package.\r\n\r\nWhat can I do to resolve this?","title":"javax.json and jakarta.json in the same application: org.glassfish.json.JsonProviderImpl cannot be cast to jakarta.json.spi.JsonProvider","body":"<p>I am developing an application targeting a Java EE 8 application server (JBoss/Wildfly).</p>\n<p>However, one of the dependencies (elasticsearch api) is already using <code>jakarta.json.*</code> classes which results in a ClassCastException at runtime:</p>\n<blockquote>\n<p>java.lang.ClassCastException: org.glassfish.json.JsonProviderImpl\ncannot be cast to jakarta.json.spi.JsonProvider</p>\n</blockquote>\n<p>That is because the <code>org.classfish.json.JsonProviderImpl</code> in my classpath (<code>org.classfish:javax.json:1.1.4</code>) is still using javax.json classes.</p>\n<p>However, as both <code>org.glassfish:jakarta.json</code> and <code>org.classfish:javax.json</code> define the same class <code>org.classfish.json.JsonProviderImpl</code> (one using the <code>javax.json.*</code> classes and one using the <code>jakarta.json.*</code> classes...), I am unable to simply include both maven artifacts.</p>\n<p>The implementation of JsonProviderImpl (<strong>in both artifacts!</strong>) basically returns the following by default:</p>\n<pre><code>return Class.forName(&quot;org.glassfish.json.JsonProviderImpl&quot;);\n</code></pre>\n<p>When both <code>org.glassfish:jakarta.json</code> and <code>org.classfish:javax.json</code> are on the classpath, this will cause issue for any of the implementations which will get the <code>JsonProviderImpl</code> from the other package.</p>\n<p>What can I do to resolve this?</p>\n"},{"tags":["java","android","google-maps","google-cloud-firestore"],"comments":[{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1676476267,"post_id":75461803,"comment_id":133145172,"body_markdown":"Show us what you have tried and what exactly doesn&#39;t work the way you expect.","body":"Show us what you have tried and what exactly doesn&#39;t work the way you expect."}],"owner":{"account_id":27521334,"reputation":15,"user_id":21001453,"display_name":"Donny"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676473784,"creation_date":1676473784,"question_id":75461803,"body_markdown":"I am creating a route planner application in my Android Studio using google maps. I tired using the information from this [question][1] however this I don&#39;t think would work for me, I  want to have the longitude and latitude for speed camera locations put into my firebase cloud database. I am wondering how do you do this. \r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/30054601/adding-multiple-markers-to-google-map-from-array-list-of-latitude-and-longitude","title":"How to add Longitude and Latitude coordinates to Firebase from Android Studio and display them on a map using Java on Google Maps","body":"<p>I am creating a route planner application in my Android Studio using google maps. I tired using the information from this <a href=\"https://stackoverflow.com/questions/30054601/adding-multiple-markers-to-google-map-from-array-list-of-latitude-and-longitude\">question</a> however this I don't think would work for me, I  want to have the longitude and latitude for speed camera locations put into my firebase cloud database. I am wondering how do you do this.</p>\n"},{"tags":["java","android","sqlite","firebase-cloud-messaging"],"owner":{"display_name":"user21219349"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":105,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676473729,"creation_date":1676465300,"question_id":75460030,"body_markdown":"title, post_id, link How to take these three to DbHandler notification. For me notification title, post_id, link these three are coming as array. If you send firebase notification, it should be automatic or save\r\n\r\n\r\n```\r\npublic class MyFirebaseMessageService extends FirebaseMessagingService {\r\n\r\n    @Override\r\n    public void onNewToken(@NonNull String token) {\r\n        super.onNewToken(token);\r\n    }\r\n\r\n    @Override\r\n    public void onMessageReceived(@NonNull RemoteMessage remoteMessage) {\r\n        super.onMessageReceived(remoteMessage);\r\n\r\n        if (remoteMessage.getData().size() &gt; 0) {\r\n            Map&lt;String, String&gt; data = remoteMessage.getData();\r\n            Log.d(&quot;onMessageFirebase: &quot;, remoteMessage.getData().toString());\r\n\r\n            if (data.get(&quot;post_id&quot;) != null) {\r\n                String _unique_id = data.get(&quot;unique_id&quot;);\r\n                String title = data.get(&quot;title&quot;);\r\n                String message = data.get(&quot;message&quot;);\r\n                String big_image = data.get(&quot;big_image&quot;);\r\n                String link = data.get(&quot;link&quot;);\r\n                String _post_id = data.get(&quot;post_id&quot;);\r\n\r\n                assert _unique_id != null;\r\n                long unique_id = Long.parseLong(_unique_id);\r\n\r\n                assert _post_id != null;\r\n                long post_id = Long.parseLong(_post_id);\r\n\r\n                createNotification(unique_id, title, message, big_image, link, post_id);\r\n            }\r\n        }\r\n    }\r\n\r\n    private void createNotification(long unique_id, String title, String message, String image_url, String link, long post_id) {\r\n\r\n        Intent intent = new Intent(this, MainActivity.class);\r\n        intent.putExtra(&quot;unique_id&quot;, unique_id);\r\n        intent.putExtra(&quot;post_id&quot;, post_id);\r\n        intent.putExtra(&quot;title&quot;, title);\r\n        intent.putExtra(&quot;link&quot;, link);\r\n\r\n        intent.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK | Intent.FLAG_ACTIVITY_CLEAR_TASK);\r\n        intent.addFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP);\r\n        PendingIntent pendingIntent = PendingIntent.getActivity(this, (int) System.currentTimeMillis(), intent, PendingIntent.FLAG_UPDATE_CURRENT);\r\n\r\n        NotificationManager notificationManager = (NotificationManager) getSystemService(Context.NOTIFICATION_SERVICE);\r\n        String NOTIFICATION_CHANNEL_ID = getApplicationContext().getString(R.string.app_name);\r\n\r\n        NotificationCompat.Builder notificationBuilder = new NotificationCompat.Builder(this, NOTIFICATION_CHANNEL_ID);\r\n        notificationBuilder.setAutoCancel(true)\r\n                .setDefaults(Notification.DEFAULT_ALL)\r\n                .setWhen(System.currentTimeMillis())\r\n                .setSmallIcon(getNotificationIcon(notificationBuilder))\r\n                .setLargeIcon(BitmapFactory.decodeResource(getResources(), R.drawable.ic_notification_large_icon))\r\n                .setContentTitle(title)\r\n                .setContentText(message)\r\n                .setStyle(new NotificationCompat.BigTextStyle().bigText(message))\r\n                .setContentIntent(pendingIntent);\r\n\r\n        if (Build.VERSION.SDK_INT &lt; Build.VERSION_CODES.N) {\r\n            notificationBuilder.setPriority(Notification.PRIORITY_MAX);\r\n        } else {\r\n            notificationBuilder.setPriority(NotificationManager.IMPORTANCE_HIGH);\r\n        }\r\n\r\n        Uri alarmSound = RingtoneManager.getDefaultUri(RingtoneManager.TYPE_NOTIFICATION);\r\n        notificationBuilder.setSound(alarmSound).setVibrate(new long[]{100, 200, 300, 400});\r\n\r\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\r\n            NotificationChannel notificationChannel = new NotificationChannel(NOTIFICATION_CHANNEL_ID, getString(R.string.app_name), NotificationManager.IMPORTANCE_HIGH);\r\n            notificationChannel.enableLights(true);\r\n            notificationChannel.shouldShowLights();\r\n            notificationChannel.setLightColor(Color.GREEN);\r\n            notificationChannel.setVibrationPattern(new long[]{0, 1000, 500, 1000});\r\n            notificationChannel.enableVibration(false);\r\n            assert notificationManager != null;\r\n            notificationManager.createNotificationChannel(notificationChannel);\r\n        }\r\n\r\n        if (image_url != null &amp;&amp; !image_url.isEmpty()) {\r\n            Bitmap image = fetchBitmap(image_url);\r\n            if (image != null) {\r\n                notificationBuilder.setStyle(new NotificationCompat.BigPictureStyle().bigPicture(image));\r\n            }\r\n        }\r\n\r\n        //assert notificationManager != null;\r\n        notificationManager.notify((int) post_id, notificationBuilder.build());\r\n    }\r\n\r\n    private int getNotificationIcon(NotificationCompat.Builder notificationBuilder) {\r\n        notificationBuilder.setColor(ContextCompat.getColor(getApplicationContext(), R.color.colorPrimary));\r\n        return R.drawable.ic_stat_onesignal_default;\r\n    }\r\n\r\n    private Bitmap fetchBitmap(String src) {\r\n        try {\r\n            if (src != null) {\r\n                URL url = new URL(src);\r\n                HttpURLConnection connection = (HttpURLConnection) url.openConnection();\r\n                connection.setDoInput(true);\r\n                connection.setConnectTimeout(1200000);\r\n                connection.setReadTimeout(1200000);\r\n                connection.connect();\r\n                InputStream input = connection.getInputStream();\r\n                return BitmapFactory.decodeStream(input);\r\n            }\r\n        } catch (IOException ex) {\r\n            ex.printStackTrace();\r\n        }\r\n        return null;\r\n    }\r\n}\r\n```\r\n\r\nDbhelper    public void notification(Recipe p) { Data should be saved in all of these\r\n```\r\npublic class DbHandler extends SQLiteOpenHelper {\r\n\r\n    private static final int DATABASE_VERSION = 1;\r\n    private static final String DATABASE_NAME = &quot;db_recipes_favorite&quot;;\r\n    private static final String TABLE_NAME = &quot;tbl_recipes_favorite&quot;;\r\n\r\n    private static final String notification = &quot;tbl_notification&quot;;\r\n\r\n    private static final String KEY_ID = &quot;id&quot;;\r\n    private static final String KEY_CAT_NAME = &quot;category_name&quot;;\r\n    private static final String KEY_RECIPE_ID = &quot;recipe_id&quot;;\r\n    private static final String KEY_RECIPE_TITLE = &quot;recipes_title&quot;;\r\n    private static final String KEY_calories = &quot;calories&quot;;\r\n    private static final String KEY_servings = &quot;servings&quot;;\r\n    private static final String KEY_RECIPE_TIME = &quot;recipe_time&quot;;\r\n    private static final String KEY_RECIPE_IMAGE = &quot;recipe_image&quot;;\r\n    private static final String KEY_RECIPE_DESCRIPTION = &quot;recipe_description&quot;;\r\n    private static final String KEY_RECIPE_DESCRIPTION2 = &quot;recipe_description2&quot;;\r\n    private static final String KEY_RECIPE_DESCRIPTION3 = &quot;recipe_description3&quot;;\r\n    private static final String KEY_VIDEO_URL = &quot;video_url&quot;;\r\n    private static final String KEY_VIDEO_ID = &quot;video_id&quot;;\r\n    private static final String KEY_CONTENT_TYPE = &quot;content_type&quot;;\r\n    private static final String KEY_FEATURED = &quot;featured&quot;;\r\n    private static final String KEY_TAGS = &quot;tags&quot;;\r\n    private static final String KEY_TOTAL_VIEWS = &quot;total_views&quot;;\r\n\r\n\r\n    public DbHandler(Context context) {\r\n        super(context, DATABASE_NAME, null, DATABASE_VERSION);\r\n    }\r\n\r\n    // Creating Tables\r\n    @Override\r\n    public void onCreate(SQLiteDatabase db) {\r\n        String CREATE_CONTACTS_TABLE = &quot;CREATE TABLE &quot; + TABLE_NAME + &quot;(&quot;\r\n                + KEY_ID + &quot; INTEGER PRIMARY KEY,&quot;\r\n                + KEY_CAT_NAME + &quot; TEXT,&quot;\r\n                + KEY_RECIPE_ID + &quot; TEXT,&quot;\r\n                + KEY_RECIPE_TITLE + &quot; TEXT,&quot;\r\n                + KEY_calories + &quot; TEXT,&quot;\r\n                + KEY_servings + &quot; TEXT,&quot;\r\n                + KEY_RECIPE_TIME + &quot; TEXT,&quot;\r\n                + KEY_RECIPE_IMAGE + &quot; TEXT,&quot;\r\n                + KEY_RECIPE_DESCRIPTION + &quot; TEXT,&quot;\r\n                + KEY_RECIPE_DESCRIPTION2 + &quot; TEXT,&quot;\r\n                + KEY_RECIPE_DESCRIPTION3 + &quot; TEXT,&quot;\r\n                + KEY_VIDEO_URL + &quot; TEXT,&quot;\r\n                + KEY_VIDEO_ID + &quot; TEXT,&quot;\r\n                + KEY_CONTENT_TYPE + &quot; TEXT,&quot;\r\n                + KEY_FEATURED + &quot; TEXT,&quot;\r\n                + KEY_TAGS + &quot; TEXT,&quot;\r\n                + KEY_TOTAL_VIEWS + &quot; TEXT&quot;\r\n                + &quot;)&quot;;\r\n        db.execSQL(CREATE_CONTACTS_TABLE);\r\n\r\n    }\r\n\r\n    // Upgrading database\r\n    @Override\r\n    public void onUpgrade(SQLiteDatabase db, int oldVersion, int newVersion) {\r\n        // TODO Auto-generated method stub\r\n        // Drop older table if existed\r\n        db.execSQL(&quot;DROP TABLE IF EXISTS &quot; + TABLE_NAME);\r\n\r\n        // Create tables again\r\n        onCreate(db);\r\n    }\r\n\r\n    //Adding Record in Database\r\n\r\n    public void AddtoFavorite(Recipe p) {\r\n        SQLiteDatabase db = this.getWritableDatabase();\r\n\r\n        ContentValues values = new ContentValues();\r\n        values.put(KEY_CAT_NAME, p.getCategory_name());\r\n        values.put(KEY_RECIPE_ID, p.getRecipe_id());\r\n        values.put(KEY_RECIPE_TITLE, p.getRecipe_title());\r\n        values.put(KEY_calories, p.getcalories());\r\n        values.put(KEY_servings, p.getservings());\r\n        values.put(KEY_RECIPE_TIME, p.getRecipe_time());\r\n        values.put(KEY_RECIPE_IMAGE, p.getRecipe_image());\r\n        values.put(KEY_RECIPE_DESCRIPTION, p.getRecipe_description());\r\n        values.put(KEY_RECIPE_DESCRIPTION2, p.getRecipe_description());\r\n        values.put(KEY_RECIPE_DESCRIPTION3, p.getRecipe_description());\r\n        values.put(KEY_VIDEO_URL, p.getVideo_url());\r\n        values.put(KEY_VIDEO_ID, p.getVideo_id());\r\n        values.put(KEY_CONTENT_TYPE, p.getContent_type());\r\n        values.put(KEY_FEATURED, p.getFeatured());\r\n        values.put(KEY_TAGS, p.getTags());\r\n        values.put(KEY_TOTAL_VIEWS, p.getTotal_views());\r\n\r\n        // Inserting Row\r\n        db.insert(TABLE_NAME, null, values);\r\n        db.close(); // Closing database connection\r\n\r\n    }\r\n\r\n\r\n    public void notification(Recipe p) {\r\n        SQLiteDatabase db = this.getWritableDatabase();\r\n\r\n        ContentValues values = new ContentValues();\r\n\r\n        values.put(KEY_RECIPE_ID, p.getRecipe_id());\r\n        values.put(KEY_RECIPE_TITLE, p.getRecipe_title());\r\n\r\n\r\n        values.put(KEY_RECIPE_IMAGE, p.getRecipe_image());\r\n\r\n\r\n\r\n        // Inserting Row\r\n        db.insert(notification, null, values);\r\n        db.close(); // Closing database connection\r\n\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n    // Getting All Data\r\n    public List&lt;Recipe&gt; getAllData() {\r\n        List&lt;Recipe&gt; dataList = new ArrayList&lt;Recipe&gt;();\r\n        // Select All Query\r\n        String selectQuery = &quot;SELECT  * FROM &quot; + TABLE_NAME + &quot; ORDER BY id DESC&quot;;\r\n\r\n        SQLiteDatabase db = this.getWritableDatabase();\r\n        Cursor cursor = db.rawQuery(selectQuery, null);\r\n\r\n        // looping through all rows and adding to list\r\n        if (cursor.moveToFirst()) {\r\n            do {\r\n                Recipe values = new Recipe();\r\n                values.setId(Integer.parseInt(cursor.getString(0)));\r\n                values.setCategory_name(cursor.getString(1));\r\n                values.setRecipe_id(cursor.getString(2));\r\n                values.setRecipe_title(cursor.getString(3));\r\n\r\n                values.setcalories(cursor.getString(4));\r\n                values.setservings(cursor.getString(5));\r\n\r\n                values.setRecipe_time(cursor.getString(6));\r\n                values.setRecipe_image(cursor.getString(7));\r\n                values.setRecipe_description(cursor.getString(8));\r\n                values.setRecipe_description2(cursor.getString(9));\r\n\r\n                values.setRecipe_description3(cursor.getString(10));\r\n                values.setVideo_url(cursor.getString(11));\r\n                values.setVideo_id(cursor.getString(12));\r\n                values.setContent_type(cursor.getString(13));\r\n                values.setFeatured(cursor.getString(14));\r\n                values.setTags(cursor.getString(15));\r\n                values.setTotal_views(cursor.getLong(16));\r\n                // Adding contact to list\r\n                dataList.add(values);\r\n            } while (cursor.moveToNext());\r\n        }\r\n\r\n        // return contact list\r\n        return dataList;\r\n    }\r\n\r\n    //getting single row\r\n    public List&lt;Recipe&gt; getFavRow(String id) {\r\n        List&lt;Recipe&gt; dataList = new ArrayList&lt;Recipe&gt;();\r\n        // Select All Query\r\n        String selectQuery = &quot;SELECT  * FROM &quot; + TABLE_NAME + &quot; WHERE recipe_id=&quot; + id;\r\n\r\n        SQLiteDatabase db = this.getWritableDatabase();\r\n        Cursor cursor = db.rawQuery(selectQuery, null);\r\n\r\n        // looping through all rows and adding to list\r\n        if (cursor.moveToFirst()) {\r\n            do {\r\n                Recipe values = new Recipe();\r\n                values.setId(Integer.parseInt(cursor.getString(0)));\r\n                values.setCategory_name(cursor.getString(1));\r\n                values.setRecipe_id(cursor.getString(2));\r\n                values.setRecipe_title(cursor.getString(3));\r\n                values.setcalories(cursor.getString(4));\r\n                values.setservings(cursor.getString(5));\r\n                values.setRecipe_time(cursor.getString(6));\r\n                values.setRecipe_image(cursor.getString(7));\r\n                values.setRecipe_description(cursor.getString(8));\r\n                values.setRecipe_description2(cursor.getString(9));\r\n                values.setRecipe_description3(cursor.getString(10));\r\n                values.setVideo_url(cursor.getString(11));\r\n                values.setVideo_id(cursor.getString(12));\r\n                values.setContent_type(cursor.getString(13));\r\n                values.setFeatured(cursor.getString(14));\r\n                values.setTags(cursor.getString(15));\r\n                values.setTotal_views(cursor.getLong(16));\r\n                // Adding contact to list\r\n                dataList.add(values);\r\n            } while (cursor.moveToNext());\r\n        }\r\n\r\n        // return contact list\r\n        return dataList;\r\n    }\r\n\r\n    //for remove favorite\r\n    public void RemoveFav(Recipe contact) {\r\n        SQLiteDatabase db = this.getWritableDatabase();\r\n        db.delete(TABLE_NAME, KEY_RECIPE_ID + &quot; = ?&quot;,\r\n                new String[]{String.valueOf(contact.getRecipe_id())});\r\n        db.close();\r\n    }\r\n\r\n    public enum DatabaseManager {\r\n        INSTANCE;\r\n        private SQLiteDatabase db;\r\n        private boolean isDbClosed = true;\r\n        DbHandler dbHelper;\r\n\r\n        public void init(Context context) {\r\n            dbHelper = new DbHandler(context);\r\n            if (isDbClosed) {\r\n                isDbClosed = false;\r\n                this.db = dbHelper.getWritableDatabase();\r\n            }\r\n\r\n        }\r\n\r\n        public boolean isDatabaseClosed() {\r\n            return isDbClosed;\r\n        }\r\n\r\n        public void closeDatabase() {\r\n            if (!isDbClosed &amp;&amp; db != null) {\r\n                isDbClosed = true;\r\n                db.close();\r\n                dbHelper.close();\r\n            }\r\n        }\r\n    }\r\n\r\n}\r\n```\r\n\r\n save firebase notification insert data sqlite database","title":"How to save firebase notification insert data sqlite database android","body":"<p>title, post_id, link How to take these three to DbHandler notification. For me notification title, post_id, link these three are coming as array. If you send firebase notification, it should be automatic or save</p>\n<pre><code>public class MyFirebaseMessageService extends FirebaseMessagingService {\n\n    @Override\n    public void onNewToken(@NonNull String token) {\n        super.onNewToken(token);\n    }\n\n    @Override\n    public void onMessageReceived(@NonNull RemoteMessage remoteMessage) {\n        super.onMessageReceived(remoteMessage);\n\n        if (remoteMessage.getData().size() &gt; 0) {\n            Map&lt;String, String&gt; data = remoteMessage.getData();\n            Log.d(&quot;onMessageFirebase: &quot;, remoteMessage.getData().toString());\n\n            if (data.get(&quot;post_id&quot;) != null) {\n                String _unique_id = data.get(&quot;unique_id&quot;);\n                String title = data.get(&quot;title&quot;);\n                String message = data.get(&quot;message&quot;);\n                String big_image = data.get(&quot;big_image&quot;);\n                String link = data.get(&quot;link&quot;);\n                String _post_id = data.get(&quot;post_id&quot;);\n\n                assert _unique_id != null;\n                long unique_id = Long.parseLong(_unique_id);\n\n                assert _post_id != null;\n                long post_id = Long.parseLong(_post_id);\n\n                createNotification(unique_id, title, message, big_image, link, post_id);\n            }\n        }\n    }\n\n    private void createNotification(long unique_id, String title, String message, String image_url, String link, long post_id) {\n\n        Intent intent = new Intent(this, MainActivity.class);\n        intent.putExtra(&quot;unique_id&quot;, unique_id);\n        intent.putExtra(&quot;post_id&quot;, post_id);\n        intent.putExtra(&quot;title&quot;, title);\n        intent.putExtra(&quot;link&quot;, link);\n\n        intent.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK | Intent.FLAG_ACTIVITY_CLEAR_TASK);\n        intent.addFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP);\n        PendingIntent pendingIntent = PendingIntent.getActivity(this, (int) System.currentTimeMillis(), intent, PendingIntent.FLAG_UPDATE_CURRENT);\n\n        NotificationManager notificationManager = (NotificationManager) getSystemService(Context.NOTIFICATION_SERVICE);\n        String NOTIFICATION_CHANNEL_ID = getApplicationContext().getString(R.string.app_name);\n\n        NotificationCompat.Builder notificationBuilder = new NotificationCompat.Builder(this, NOTIFICATION_CHANNEL_ID);\n        notificationBuilder.setAutoCancel(true)\n                .setDefaults(Notification.DEFAULT_ALL)\n                .setWhen(System.currentTimeMillis())\n                .setSmallIcon(getNotificationIcon(notificationBuilder))\n                .setLargeIcon(BitmapFactory.decodeResource(getResources(), R.drawable.ic_notification_large_icon))\n                .setContentTitle(title)\n                .setContentText(message)\n                .setStyle(new NotificationCompat.BigTextStyle().bigText(message))\n                .setContentIntent(pendingIntent);\n\n        if (Build.VERSION.SDK_INT &lt; Build.VERSION_CODES.N) {\n            notificationBuilder.setPriority(Notification.PRIORITY_MAX);\n        } else {\n            notificationBuilder.setPriority(NotificationManager.IMPORTANCE_HIGH);\n        }\n\n        Uri alarmSound = RingtoneManager.getDefaultUri(RingtoneManager.TYPE_NOTIFICATION);\n        notificationBuilder.setSound(alarmSound).setVibrate(new long[]{100, 200, 300, 400});\n\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\n            NotificationChannel notificationChannel = new NotificationChannel(NOTIFICATION_CHANNEL_ID, getString(R.string.app_name), NotificationManager.IMPORTANCE_HIGH);\n            notificationChannel.enableLights(true);\n            notificationChannel.shouldShowLights();\n            notificationChannel.setLightColor(Color.GREEN);\n            notificationChannel.setVibrationPattern(new long[]{0, 1000, 500, 1000});\n            notificationChannel.enableVibration(false);\n            assert notificationManager != null;\n            notificationManager.createNotificationChannel(notificationChannel);\n        }\n\n        if (image_url != null &amp;&amp; !image_url.isEmpty()) {\n            Bitmap image = fetchBitmap(image_url);\n            if (image != null) {\n                notificationBuilder.setStyle(new NotificationCompat.BigPictureStyle().bigPicture(image));\n            }\n        }\n\n        //assert notificationManager != null;\n        notificationManager.notify((int) post_id, notificationBuilder.build());\n    }\n\n    private int getNotificationIcon(NotificationCompat.Builder notificationBuilder) {\n        notificationBuilder.setColor(ContextCompat.getColor(getApplicationContext(), R.color.colorPrimary));\n        return R.drawable.ic_stat_onesignal_default;\n    }\n\n    private Bitmap fetchBitmap(String src) {\n        try {\n            if (src != null) {\n                URL url = new URL(src);\n                HttpURLConnection connection = (HttpURLConnection) url.openConnection();\n                connection.setDoInput(true);\n                connection.setConnectTimeout(1200000);\n                connection.setReadTimeout(1200000);\n                connection.connect();\n                InputStream input = connection.getInputStream();\n                return BitmapFactory.decodeStream(input);\n            }\n        } catch (IOException ex) {\n            ex.printStackTrace();\n        }\n        return null;\n    }\n}\n</code></pre>\n<p>Dbhelper    public void notification(Recipe p) { Data should be saved in all of these</p>\n<pre><code>public class DbHandler extends SQLiteOpenHelper {\n\n    private static final int DATABASE_VERSION = 1;\n    private static final String DATABASE_NAME = &quot;db_recipes_favorite&quot;;\n    private static final String TABLE_NAME = &quot;tbl_recipes_favorite&quot;;\n\n    private static final String notification = &quot;tbl_notification&quot;;\n\n    private static final String KEY_ID = &quot;id&quot;;\n    private static final String KEY_CAT_NAME = &quot;category_name&quot;;\n    private static final String KEY_RECIPE_ID = &quot;recipe_id&quot;;\n    private static final String KEY_RECIPE_TITLE = &quot;recipes_title&quot;;\n    private static final String KEY_calories = &quot;calories&quot;;\n    private static final String KEY_servings = &quot;servings&quot;;\n    private static final String KEY_RECIPE_TIME = &quot;recipe_time&quot;;\n    private static final String KEY_RECIPE_IMAGE = &quot;recipe_image&quot;;\n    private static final String KEY_RECIPE_DESCRIPTION = &quot;recipe_description&quot;;\n    private static final String KEY_RECIPE_DESCRIPTION2 = &quot;recipe_description2&quot;;\n    private static final String KEY_RECIPE_DESCRIPTION3 = &quot;recipe_description3&quot;;\n    private static final String KEY_VIDEO_URL = &quot;video_url&quot;;\n    private static final String KEY_VIDEO_ID = &quot;video_id&quot;;\n    private static final String KEY_CONTENT_TYPE = &quot;content_type&quot;;\n    private static final String KEY_FEATURED = &quot;featured&quot;;\n    private static final String KEY_TAGS = &quot;tags&quot;;\n    private static final String KEY_TOTAL_VIEWS = &quot;total_views&quot;;\n\n\n    public DbHandler(Context context) {\n        super(context, DATABASE_NAME, null, DATABASE_VERSION);\n    }\n\n    // Creating Tables\n    @Override\n    public void onCreate(SQLiteDatabase db) {\n        String CREATE_CONTACTS_TABLE = &quot;CREATE TABLE &quot; + TABLE_NAME + &quot;(&quot;\n                + KEY_ID + &quot; INTEGER PRIMARY KEY,&quot;\n                + KEY_CAT_NAME + &quot; TEXT,&quot;\n                + KEY_RECIPE_ID + &quot; TEXT,&quot;\n                + KEY_RECIPE_TITLE + &quot; TEXT,&quot;\n                + KEY_calories + &quot; TEXT,&quot;\n                + KEY_servings + &quot; TEXT,&quot;\n                + KEY_RECIPE_TIME + &quot; TEXT,&quot;\n                + KEY_RECIPE_IMAGE + &quot; TEXT,&quot;\n                + KEY_RECIPE_DESCRIPTION + &quot; TEXT,&quot;\n                + KEY_RECIPE_DESCRIPTION2 + &quot; TEXT,&quot;\n                + KEY_RECIPE_DESCRIPTION3 + &quot; TEXT,&quot;\n                + KEY_VIDEO_URL + &quot; TEXT,&quot;\n                + KEY_VIDEO_ID + &quot; TEXT,&quot;\n                + KEY_CONTENT_TYPE + &quot; TEXT,&quot;\n                + KEY_FEATURED + &quot; TEXT,&quot;\n                + KEY_TAGS + &quot; TEXT,&quot;\n                + KEY_TOTAL_VIEWS + &quot; TEXT&quot;\n                + &quot;)&quot;;\n        db.execSQL(CREATE_CONTACTS_TABLE);\n\n    }\n\n    // Upgrading database\n    @Override\n    public void onUpgrade(SQLiteDatabase db, int oldVersion, int newVersion) {\n        // TODO Auto-generated method stub\n        // Drop older table if existed\n        db.execSQL(&quot;DROP TABLE IF EXISTS &quot; + TABLE_NAME);\n\n        // Create tables again\n        onCreate(db);\n    }\n\n    //Adding Record in Database\n\n    public void AddtoFavorite(Recipe p) {\n        SQLiteDatabase db = this.getWritableDatabase();\n\n        ContentValues values = new ContentValues();\n        values.put(KEY_CAT_NAME, p.getCategory_name());\n        values.put(KEY_RECIPE_ID, p.getRecipe_id());\n        values.put(KEY_RECIPE_TITLE, p.getRecipe_title());\n        values.put(KEY_calories, p.getcalories());\n        values.put(KEY_servings, p.getservings());\n        values.put(KEY_RECIPE_TIME, p.getRecipe_time());\n        values.put(KEY_RECIPE_IMAGE, p.getRecipe_image());\n        values.put(KEY_RECIPE_DESCRIPTION, p.getRecipe_description());\n        values.put(KEY_RECIPE_DESCRIPTION2, p.getRecipe_description());\n        values.put(KEY_RECIPE_DESCRIPTION3, p.getRecipe_description());\n        values.put(KEY_VIDEO_URL, p.getVideo_url());\n        values.put(KEY_VIDEO_ID, p.getVideo_id());\n        values.put(KEY_CONTENT_TYPE, p.getContent_type());\n        values.put(KEY_FEATURED, p.getFeatured());\n        values.put(KEY_TAGS, p.getTags());\n        values.put(KEY_TOTAL_VIEWS, p.getTotal_views());\n\n        // Inserting Row\n        db.insert(TABLE_NAME, null, values);\n        db.close(); // Closing database connection\n\n    }\n\n\n    public void notification(Recipe p) {\n        SQLiteDatabase db = this.getWritableDatabase();\n\n        ContentValues values = new ContentValues();\n\n        values.put(KEY_RECIPE_ID, p.getRecipe_id());\n        values.put(KEY_RECIPE_TITLE, p.getRecipe_title());\n\n\n        values.put(KEY_RECIPE_IMAGE, p.getRecipe_image());\n\n\n\n        // Inserting Row\n        db.insert(notification, null, values);\n        db.close(); // Closing database connection\n\n    }\n\n\n\n\n\n\n\n\n\n\n    // Getting All Data\n    public List&lt;Recipe&gt; getAllData() {\n        List&lt;Recipe&gt; dataList = new ArrayList&lt;Recipe&gt;();\n        // Select All Query\n        String selectQuery = &quot;SELECT  * FROM &quot; + TABLE_NAME + &quot; ORDER BY id DESC&quot;;\n\n        SQLiteDatabase db = this.getWritableDatabase();\n        Cursor cursor = db.rawQuery(selectQuery, null);\n\n        // looping through all rows and adding to list\n        if (cursor.moveToFirst()) {\n            do {\n                Recipe values = new Recipe();\n                values.setId(Integer.parseInt(cursor.getString(0)));\n                values.setCategory_name(cursor.getString(1));\n                values.setRecipe_id(cursor.getString(2));\n                values.setRecipe_title(cursor.getString(3));\n\n                values.setcalories(cursor.getString(4));\n                values.setservings(cursor.getString(5));\n\n                values.setRecipe_time(cursor.getString(6));\n                values.setRecipe_image(cursor.getString(7));\n                values.setRecipe_description(cursor.getString(8));\n                values.setRecipe_description2(cursor.getString(9));\n\n                values.setRecipe_description3(cursor.getString(10));\n                values.setVideo_url(cursor.getString(11));\n                values.setVideo_id(cursor.getString(12));\n                values.setContent_type(cursor.getString(13));\n                values.setFeatured(cursor.getString(14));\n                values.setTags(cursor.getString(15));\n                values.setTotal_views(cursor.getLong(16));\n                // Adding contact to list\n                dataList.add(values);\n            } while (cursor.moveToNext());\n        }\n\n        // return contact list\n        return dataList;\n    }\n\n    //getting single row\n    public List&lt;Recipe&gt; getFavRow(String id) {\n        List&lt;Recipe&gt; dataList = new ArrayList&lt;Recipe&gt;();\n        // Select All Query\n        String selectQuery = &quot;SELECT  * FROM &quot; + TABLE_NAME + &quot; WHERE recipe_id=&quot; + id;\n\n        SQLiteDatabase db = this.getWritableDatabase();\n        Cursor cursor = db.rawQuery(selectQuery, null);\n\n        // looping through all rows and adding to list\n        if (cursor.moveToFirst()) {\n            do {\n                Recipe values = new Recipe();\n                values.setId(Integer.parseInt(cursor.getString(0)));\n                values.setCategory_name(cursor.getString(1));\n                values.setRecipe_id(cursor.getString(2));\n                values.setRecipe_title(cursor.getString(3));\n                values.setcalories(cursor.getString(4));\n                values.setservings(cursor.getString(5));\n                values.setRecipe_time(cursor.getString(6));\n                values.setRecipe_image(cursor.getString(7));\n                values.setRecipe_description(cursor.getString(8));\n                values.setRecipe_description2(cursor.getString(9));\n                values.setRecipe_description3(cursor.getString(10));\n                values.setVideo_url(cursor.getString(11));\n                values.setVideo_id(cursor.getString(12));\n                values.setContent_type(cursor.getString(13));\n                values.setFeatured(cursor.getString(14));\n                values.setTags(cursor.getString(15));\n                values.setTotal_views(cursor.getLong(16));\n                // Adding contact to list\n                dataList.add(values);\n            } while (cursor.moveToNext());\n        }\n\n        // return contact list\n        return dataList;\n    }\n\n    //for remove favorite\n    public void RemoveFav(Recipe contact) {\n        SQLiteDatabase db = this.getWritableDatabase();\n        db.delete(TABLE_NAME, KEY_RECIPE_ID + &quot; = ?&quot;,\n                new String[]{String.valueOf(contact.getRecipe_id())});\n        db.close();\n    }\n\n    public enum DatabaseManager {\n        INSTANCE;\n        private SQLiteDatabase db;\n        private boolean isDbClosed = true;\n        DbHandler dbHelper;\n\n        public void init(Context context) {\n            dbHelper = new DbHandler(context);\n            if (isDbClosed) {\n                isDbClosed = false;\n                this.db = dbHelper.getWritableDatabase();\n            }\n\n        }\n\n        public boolean isDatabaseClosed() {\n            return isDbClosed;\n        }\n\n        public void closeDatabase() {\n            if (!isDbClosed &amp;&amp; db != null) {\n                isDbClosed = true;\n                db.close();\n                dbHelper.close();\n            }\n        }\n    }\n\n}\n</code></pre>\n<p>save firebase notification insert data sqlite database</p>\n"},{"tags":["java","android","google-maps","firebase-realtime-database"],"comments":[{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1676470776,"post_id":75460596,"comment_id":133143076,"body_markdown":"When exactly would you like to remove the polyline?","body":"When exactly would you like to remove the polyline?"},{"owner":{"account_id":27701237,"reputation":1,"user_id":21145775,"display_name":"Arthur Cross"},"score":0,"creation_date":1676472373,"post_id":75460596,"comment_id":133143671,"body_markdown":"@AlexMamo I would like to remove the polyline everytime the function this database is called. I put the polylineCollection.clear() under PolylineManager.Collection polylineCollection initialization but it does not erase the polyline","body":"@AlexMamo I would like to remove the polyline everytime the function this database is called. I put the polylineCollection.clear() under PolylineManager.Collection polylineCollection initialization but it does not erase the polyline"},{"owner":{"account_id":72426,"reputation":573804,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"score":0,"creation_date":1676473691,"post_id":75460596,"comment_id":133144159,"body_markdown":"Step 1 is to stop ignoring potential errors and implement `onCancelled`. At its minimum that should be `public void onCancelled(@NonNull DatabaseError databaseError) { throw databaseError.toException(); }`. --- After that, I recommend debugging the app locally. If you set a breakpoint on each line of the code you shared, run the code in a debugger, and then check the value of each variable on each line, which is the **first** line that doesn&#39;t do what you expect it to do?","body":"Step 1 is to stop ignoring potential errors and implement <code>onCancelled</code>. At its minimum that should be <code>public void onCancelled(@NonNull DatabaseError databaseError) { throw databaseError.toException(); }</code>. --- After that, I recommend debugging the app locally. If you set a breakpoint on each line of the code you shared, run the code in a debugger, and then check the value of each variable on each line, which is the <b>first</b> line that doesn&#39;t do what you expect it to do?"},{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1676476361,"post_id":75460596,"comment_id":133145210,"body_markdown":"Please edit your question and add the information Frank asked for, and please also respond using @.","body":"Please edit your question and add the information Frank asked for, and please also respond using @."}],"owner":{"account_id":27701237,"reputation":1,"user_id":21145775,"display_name":"Arthur Cross"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676473644,"creation_date":1676468103,"question_id":75460596,"body_markdown":"I have setup my code as such:\r\n\r\n\r\n```\r\nDatabaseReference ref = FirebaseDatabase.getInstance().getReference().child(&quot;encoded_polyline&quot;);\r\n\r\nref.addValueEventListener(new ValueEventListener() {\r\n   @Override\r\n   public void onDataChange(@NonNull DataSnapshot dataSnapshot) {\r\n       PolylineManager polylineManager = new PolylineManager(mGoogleMap);\r\n       PolylineManager.Collection polylineCollection = polylineManager.newCollection();\r\n\r\n       for (DataSnapshot ds: dataSnapshot.getChildren()) {\r\n         encodedPolyline = ds.child(&quot;polyline&quot;).getValue().toString()\r\n         decodedPolyline = PolyUtil.decode(encodedPolyline);\r\n         polylineCollection.addPolyline(new PolylineOptions().addAll(decodedPolyline));\r\n       }\r\n   }\r\n   @Override\r\n   public void onCancelled(@NonNull DatabaseError error) {\r\n                \r\n   }\r\n}\r\n```\r\n\r\nI tried polylineCollection.clear() and it does not do anything at all. Polyline still remain\r\n\r\n","title":"How to remove polyline from maps with Polyline Manager?","body":"<p>I have setup my code as such:</p>\n<pre><code>DatabaseReference ref = FirebaseDatabase.getInstance().getReference().child(&quot;encoded_polyline&quot;);\n\nref.addValueEventListener(new ValueEventListener() {\n   @Override\n   public void onDataChange(@NonNull DataSnapshot dataSnapshot) {\n       PolylineManager polylineManager = new PolylineManager(mGoogleMap);\n       PolylineManager.Collection polylineCollection = polylineManager.newCollection();\n\n       for (DataSnapshot ds: dataSnapshot.getChildren()) {\n         encodedPolyline = ds.child(&quot;polyline&quot;).getValue().toString()\n         decodedPolyline = PolyUtil.decode(encodedPolyline);\n         polylineCollection.addPolyline(new PolylineOptions().addAll(decodedPolyline));\n       }\n   }\n   @Override\n   public void onCancelled(@NonNull DatabaseError error) {\n                \n   }\n}\n</code></pre>\n<p>I tried polylineCollection.clear() and it does not do anything at all. Polyline still remain</p>\n"},{"tags":["java","jakarta-jsonp"],"comments":[{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":1,"creation_date":1676387191,"post_id":75449631,"comment_id":133124197,"body_markdown":"Does this answer your question? [Deserializing JSON using Java 11 HttpClient and custom BodyHandler with Jackson halts and will not proceed](https://stackoverflow.com/questions/57629401/deserializing-json-using-java-11-httpclient-and-custom-bodyhandler-with-jackson)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/57629401/deserializing-json-using-java-11-httpclient-and-custom-bodyhandler-with-jackson\">Deserializing JSON using Java 11 HttpClient and custom BodyHandler with Jackson halts and will not proceed</a>"},{"owner":{"account_id":2008573,"reputation":5307,"user_id":1797689,"accept_rate":67,"display_name":"khateeb"},"score":0,"creation_date":1676446266,"post_id":75449631,"comment_id":133136067,"body_markdown":"@f1sh That doesn&#39;t answer the question because it uses Jackson to serialize JSON Response bodies to POJOs and I want to simply convert the body to a JsonObject without any external library.","body":"@f1sh That doesn&#39;t answer the question because it uses Jackson to serialize JSON Response bodies to POJOs and I want to simply convert the body to a JsonObject without any external library."}],"owner":{"account_id":2008573,"reputation":5307,"user_id":1797689,"accept_rate":67,"display_name":"khateeb"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1007,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1676473268,"creation_date":1676386672,"question_id":75449631,"body_markdown":"I want to fetch a **jakarta.json.JsonObject** in the HttpResponse itself using the Jakarta JSONP API. Right now, I have to fetch it as a String, feed the body into a reader and then get the **JsonObject** like the code below.\r\n\r\n\r\n    import java.net.http.HttpRequest;\r\n    import java.net.http.HttpResponse;\r\n    import jakarta.json.Json;\r\n    import jakarta.json.JsonObject;\r\n    import jakarta.json.JsonReader;\r\n\r\n\tHttpRequest request = HttpRequest.newBuilder().uri(uri).GET().build();\r\n\tHttpResponse&lt;String&gt; response = httpClient.send(request, HttpResponse.BodyHandlers.ofString());\r\n\tJsonReader jsonReader = Json.createReader(new StringReader(response.body()));\r\n\tJsonObject object = jsonReader.readObject();\r\n\tjsonReader.close();\r\n\r\n\r\nHow do I get the response as `HttpResponse&lt;JsonObject&gt; response` directly? **I don&#39;t want to use any external libraries other than the Jakarta JSONP one.**\r\n\r\nEdit: As an example, one could write their own BodyHandler like this:\r\n\r\n    import java.net.http.HttpResponse;\r\n    import java.net.http.HttpResponse.BodySubscriber;\r\n    import java.net.http.HttpResponse.BodySubscribers;\r\n    import java.net.http.HttpResponse.ResponseInfo;\r\n    \r\n    import jakarta.json.JsonObject;\r\n    \r\n    public class JsonObjectBodyHandler implements HttpResponse.BodyHandler&lt;JsonObject&gt; {\r\n    \r\n    \t@Override\r\n    \tpublic BodySubscriber&lt;JsonObject&gt; apply(ResponseInfo responseInfo) {\r\n    \t\t// How to implement this\r\n    \t}\r\n    \r\n    }\r\n\r\nand then use it in the function like this:\r\n\r\n    HttpResponse&lt;JsonObject&gt; response = httpClient.send(request, new JsonObjectBodyHandler());","title":"How to get a jakarta.json.JsonObject Response using the Java 11 HttpClient?","body":"<p>I want to fetch a <strong>jakarta.json.JsonObject</strong> in the HttpResponse itself using the Jakarta JSONP API. Right now, I have to fetch it as a String, feed the body into a reader and then get the <strong>JsonObject</strong> like the code below.</p>\n<pre><code>import java.net.http.HttpRequest;\nimport java.net.http.HttpResponse;\nimport jakarta.json.Json;\nimport jakarta.json.JsonObject;\nimport jakarta.json.JsonReader;\n\nHttpRequest request = HttpRequest.newBuilder().uri(uri).GET().build();\nHttpResponse&lt;String&gt; response = httpClient.send(request, HttpResponse.BodyHandlers.ofString());\nJsonReader jsonReader = Json.createReader(new StringReader(response.body()));\nJsonObject object = jsonReader.readObject();\njsonReader.close();\n</code></pre>\n<p>How do I get the response as <code>HttpResponse&lt;JsonObject&gt; response</code> directly? <strong>I don't want to use any external libraries other than the Jakarta JSONP one.</strong></p>\n<p>Edit: As an example, one could write their own BodyHandler like this:</p>\n<pre><code>import java.net.http.HttpResponse;\nimport java.net.http.HttpResponse.BodySubscriber;\nimport java.net.http.HttpResponse.BodySubscribers;\nimport java.net.http.HttpResponse.ResponseInfo;\n\nimport jakarta.json.JsonObject;\n\npublic class JsonObjectBodyHandler implements HttpResponse.BodyHandler&lt;JsonObject&gt; {\n\n    @Override\n    public BodySubscriber&lt;JsonObject&gt; apply(ResponseInfo responseInfo) {\n        // How to implement this\n    }\n\n}\n</code></pre>\n<p>and then use it in the function like this:</p>\n<pre><code>HttpResponse&lt;JsonObject&gt; response = httpClient.send(request, new JsonObjectBodyHandler());\n</code></pre>\n"},{"tags":["javascript","java","selenium-webdriver"],"comments":[{"owner":{"account_id":10049107,"reputation":186647,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"score":0,"creation_date":1676415728,"post_id":75454020,"comment_id":133131963,"body_markdown":"Update the question with the text based HTML of the element.","body":"Update the question with the text based HTML of the element."},{"owner":{"account_id":13660772,"reputation":31,"user_id":21079845,"display_name":"Amir Ali Ansari"},"score":0,"creation_date":1676416031,"post_id":75454020,"comment_id":133132012,"body_markdown":"&lt;div class=&quot;row g-3 mb-3&quot; xpath=&quot;1&quot;&gt;\n&lt;div class=&quot;col-md-6&quot;&gt;\n    &lt;span class=&quot;wpcf7-form-control-wrap&quot; data-name=&quot;nombre&quot;&gt;&lt;input type=&quot;text&quot; name=&quot;nombre&quot; value=&quot;&quot; size=&quot;40&quot; class=&quot;wpcf7-form-control wpcf7-text wpcf7-validates-as-required form-control&quot; id=&quot;nombre&quot; aria-required=&quot;true&quot; aria-invalid=&quot;false&quot; placeholder=&quot;Nombre*&quot; data-gtm-form-interact-field-id=&quot;0&quot;&gt;\n\t&lt;/span&gt;\n  &lt;/div&gt;","body":"&lt;div class=&quot;row g-3 mb-3&quot; xpath=&quot;1&quot;&gt; &lt;div class=&quot;col-md-6&quot;&gt;     &lt;span class=&quot;wpcf7-form-control-wrap&quot; data-name=&quot;nombre&quot;&gt;&lt;input type=&quot;text&quot; name=&quot;nombre&quot; value=&quot;&quot; size=&quot;40&quot; class=&quot;wpcf7-form-control wpcf7-text wpcf7-validates-as-required form-control&quot; id=&quot;nombre&quot; aria-required=&quot;true&quot; aria-invalid=&quot;false&quot; placeholder=&quot;Nombre*&quot; data-gtm-form-interact-field-id=&quot;0&quot;&gt; \t&lt;/span&gt;   &lt;/div&gt;"},{"owner":{"account_id":23081176,"reputation":131,"user_id":17193441,"display_name":"Srinivasu Kaki"},"score":0,"creation_date":1676419361,"post_id":75454020,"comment_id":133132533,"body_markdown":"Share the WebElement syntax used to identify the element. Since you are getting could not locate the element error, the issue would be with xpath/css locators used to identify the webelement.","body":"Share the WebElement syntax used to identify the element. Since you are getting could not locate the element error, the issue would be with xpath/css locators used to identify the webelement."},{"owner":{"account_id":12360572,"reputation":1730,"user_id":9014957,"accept_rate":17,"display_name":"pburgr"},"score":0,"creation_date":1676441500,"post_id":75454020,"comment_id":133135221,"body_markdown":"Try `List&lt;WebElement&gt; elements = driver.findElements(By.YOUR LOCATOR HERE);` to see how many elements you get. If more than one, you need more precise locator or use on top `WebElement element = elements.get(i);`.","body":"Try <code>List&lt;WebElement&gt; elements = driver.findElements(By.YOUR LOCATOR HERE);</code> to see how many elements you get. If more than one, you need more precise locator or use on top <code>WebElement element = elements.get(i);</code>."}],"answers":[{"tags":[],"owner":{"account_id":13660772,"reputation":31,"user_id":21079845,"display_name":"Amir Ali Ansari"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676465236,"creation_date":1676465236,"answer_id":75460019,"question_id":75454020,"body_markdown":"Thanks to all for your help. Finally it worked. I used the below command:\r\n\r\nString data_nombre = (String) ((JavascriptExecutor) driver).executeScript(&quot;return document.getElementById(&#39;nombre&#39;).value&quot;); ","title":"Unable to get the values of an element using selenium java","body":"<p>Thanks to all for your help. Finally it worked. I used the below command:</p>\n<p>String data_nombre = (String) ((JavascriptExecutor) driver).executeScript(&quot;return document.getElementById('nombre').value&quot;);</p>\n"}],"owner":{"account_id":13660772,"reputation":31,"user_id":21079845,"display_name":"Amir Ali Ansari"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":272,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1676473242,"creation_date":1676415547,"question_id":75454020,"body_markdown":"I am using selenium webdriver with Java and Maven project. In a webpage there are few fields and I want to get the value of one the fields. These values which are shown were entered in the previous screens and still not stored in the database. \r\n\r\nI am unable to get the value of an webelement.\r\n\r\nI tried using `gettext()`, `getAttribute()` and `(String) ((JavascriptExecutor) driver).executeScript(&quot;return arguments[0].value&quot;, element)`. But they either return blank or null as values.\r\n\r\nWhen I tried to use locators xpath or ID, i got error that &quot;could not locate the element&quot;. So i used CSS locators.\r\n\r\nI am expecting to retrieve those values and store in a variable for further use.\r\n\r\n```\r\n&lt;div class=&quot;row g-3 mb-3&quot; xpath=&quot;1&quot;&gt;\r\n  &lt;div class=&quot;col-md-6&quot;&gt;\r\n    &lt;span class=&quot;wpcf7-form-control-wrap&quot; data-name=&quot;nombre&quot;&gt;\r\n      &lt;input type=&quot;text&quot; name=&quot;nombre&quot; value=&quot;&quot; size=&quot;40&quot; class=&quot;wpcf7-form-control wpcf7-text wpcf7-validates-as-required form-control&quot; id=&quot;nombre&quot; aria-required=&quot;true&quot; aria-invalid=&quot;false&quot; placeholder=&quot;Nombre*&quot; data-gtm-form-interact-field-id=&quot;0&quot;&gt;\r\n    &lt;/span&gt;\r\n  &lt;/div&gt;\r\n```\r\n","title":"Unable to get the values of an element using selenium java","body":"<p>I am using selenium webdriver with Java and Maven project. In a webpage there are few fields and I want to get the value of one the fields. These values which are shown were entered in the previous screens and still not stored in the database.</p>\n<p>I am unable to get the value of an webelement.</p>\n<p>I tried using <code>gettext()</code>, <code>getAttribute()</code> and <code>(String) ((JavascriptExecutor) driver).executeScript(&quot;return arguments[0].value&quot;, element)</code>. But they either return blank or null as values.</p>\n<p>When I tried to use locators xpath or ID, i got error that &quot;could not locate the element&quot;. So i used CSS locators.</p>\n<p>I am expecting to retrieve those values and store in a variable for further use.</p>\n<pre><code>&lt;div class=&quot;row g-3 mb-3&quot; xpath=&quot;1&quot;&gt;\n  &lt;div class=&quot;col-md-6&quot;&gt;\n    &lt;span class=&quot;wpcf7-form-control-wrap&quot; data-name=&quot;nombre&quot;&gt;\n      &lt;input type=&quot;text&quot; name=&quot;nombre&quot; value=&quot;&quot; size=&quot;40&quot; class=&quot;wpcf7-form-control wpcf7-text wpcf7-validates-as-required form-control&quot; id=&quot;nombre&quot; aria-required=&quot;true&quot; aria-invalid=&quot;false&quot; placeholder=&quot;Nombre*&quot; data-gtm-form-interact-field-id=&quot;0&quot;&gt;\n    &lt;/span&gt;\n  &lt;/div&gt;\n</code></pre>\n"},{"tags":["java","spring-boot","email","dependencies","spring-boot-test"],"answers":[{"comments":[{"owner":{"account_id":27794336,"reputation":11,"user_id":21220194,"display_name":"Prova Email"},"score":0,"creation_date":1676473080,"post_id":75461577,"comment_id":133143923,"body_markdown":"I already had the addiction","body":"I already had the addiction"}],"tags":[],"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676472771,"creation_date":1676472771,"answer_id":75461577,"question_id":75461509,"body_markdown":"Looks like you miss the dependency which contains the mentioned class.\r\n\r\nAdd\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-mail&lt;/artifactId&gt;\r\n        &lt;version&gt;3.0.2&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nto your pom","title":"Field mailSender in com.example.demo.EmailService required a bean of type &#39;org.springframework.mail.javamail.JavaMailSender&#39; that could not be found","body":"<p>Looks like you miss the dependency which contains the mentioned class.</p>\n<p>Add</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-mail&lt;/artifactId&gt;\n    &lt;version&gt;3.0.2&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>to your pom</p>\n"}],"owner":{"account_id":27794336,"reputation":11,"user_id":21220194,"display_name":"Prova Email"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":288,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1676473177,"creation_date":1676472476,"question_id":75461509,"body_markdown":"This is a spring Boot project for sending emails, I&#39;ve followed various tutorials and they all lead me to this configuration, unfortunately it doesn&#39;t work.\r\nThe program gives me the following error:\r\n\r\n```\r\nDescription:\r\n\r\nField mailSender in it.trefin.asmar.ws.asmarWS.service.EmailService required a bean of type &#39;org.springframework.mail.javamail.JavaMailSender&#39; that could not be found.\r\n\r\nThe injection point has the following annotations:\r\n\t- @org.springframework.beans.factory.annotation.Autowired(required=true)\r\n\r\n\r\nAction:\r\n\r\nConsider defining a bean of type &#39;org.springframework.mail.javamail.JavaMailSender&#39; in your configuration.\r\n```\r\n\r\nIn my pom I added JavaMailSender dependency\r\n\r\nMain\r\n\r\n```\r\n@RestController\r\n@CrossOrigin(&quot;*&quot;)\r\npublic class EmailSenderController {\r\n\t\r\n\t@Autowired\r\n\tEmailService emailService;\r\n\t\r\n\t@PostMapping(&quot;/sendEmail&quot;)\r\n\tpublic String sendEmail() {\r\n\t\temailService.sendEmail(&quot;rosaria.capuano.ext@3fedin.it&quot;, &quot;Prova email&quot;, &quot;Tieni duro&quot;);\r\n\t\treturn &quot;Messaggio inviato&quot;;\r\n\t}\r\n\r\n}\r\n```\r\n\r\nThe service\r\n\r\n\r\n```\r\nimport org.springframework.stereotype.Service;\r\n\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.mail.SimpleMailMessage;\r\nimport org.springframework.mail.javamail.JavaMailSender;\r\nimport org.springframework.stereotype.Service;\r\n\r\n\r\n@Service\r\npublic class EmailService {\r\n\t\t\r\n    @Autowired\r\n    private JavaMailSender mailSender;\r\n\r\n    public void sendEmail(String to, String subject, String body) {\r\n        SimpleMailMessage message = new SimpleMailMessage();\r\n        message.setTo(to);\r\n        message.setSubject(subject);\r\n        message.setText(body);\r\n\r\n        mailSender.send(message);\r\n    }\r\n\t\r\n}\r\n```\r\n\r\nMy application.properties\r\n\r\n```\r\n#EmailSender Configuration\r\nspring.mail.host=smto.gmail.com\r\nspring.mail.port=587\r\nspring.mail.username=&quot;myemail&quot;\r\nspring.mail.password=&quot;myPassword&quot;\r\nspring.mail.properties.mail.smtp.auth=true\r\nspring.mail.properties.mail.smtp.starttls.enable=true\r\n\r\n```\r\n\r\n\r\nWhat should I do?\r\n\r\n\r\nI don&#39;t know what to change at all","title":"Field mailSender in com.example.demo.EmailService required a bean of type &#39;org.springframework.mail.javamail.JavaMailSender&#39; that could not be found","body":"<p>This is a spring Boot project for sending emails, I've followed various tutorials and they all lead me to this configuration, unfortunately it doesn't work.\nThe program gives me the following error:</p>\n<pre><code>Description:\n\nField mailSender in it.trefin.asmar.ws.asmarWS.service.EmailService required a bean of type 'org.springframework.mail.javamail.JavaMailSender' that could not be found.\n\nThe injection point has the following annotations:\n    - @org.springframework.beans.factory.annotation.Autowired(required=true)\n\n\nAction:\n\nConsider defining a bean of type 'org.springframework.mail.javamail.JavaMailSender' in your configuration.\n</code></pre>\n<p>In my pom I added JavaMailSender dependency</p>\n<p>Main</p>\n<pre><code>@RestController\n@CrossOrigin(&quot;*&quot;)\npublic class EmailSenderController {\n    \n    @Autowired\n    EmailService emailService;\n    \n    @PostMapping(&quot;/sendEmail&quot;)\n    public String sendEmail() {\n        emailService.sendEmail(&quot;rosaria.capuano.ext@3fedin.it&quot;, &quot;Prova email&quot;, &quot;Tieni duro&quot;);\n        return &quot;Messaggio inviato&quot;;\n    }\n\n}\n</code></pre>\n<p>The service</p>\n<pre><code>import org.springframework.stereotype.Service;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.mail.SimpleMailMessage;\nimport org.springframework.mail.javamail.JavaMailSender;\nimport org.springframework.stereotype.Service;\n\n\n@Service\npublic class EmailService {\n        \n    @Autowired\n    private JavaMailSender mailSender;\n\n    public void sendEmail(String to, String subject, String body) {\n        SimpleMailMessage message = new SimpleMailMessage();\n        message.setTo(to);\n        message.setSubject(subject);\n        message.setText(body);\n\n        mailSender.send(message);\n    }\n    \n}\n</code></pre>\n<p>My application.properties</p>\n<pre><code>#EmailSender Configuration\nspring.mail.host=smto.gmail.com\nspring.mail.port=587\nspring.mail.username=&quot;myemail&quot;\nspring.mail.password=&quot;myPassword&quot;\nspring.mail.properties.mail.smtp.auth=true\nspring.mail.properties.mail.smtp.starttls.enable=true\n\n</code></pre>\n<p>What should I do?</p>\n<p>I don't know what to change at all</p>\n"},{"tags":["java","spring","spring-boot","maven","netflix-eureka"],"comments":[{"owner":{"account_id":1165784,"reputation":14935,"user_id":1144157,"accept_rate":75,"display_name":"Steephen"},"score":0,"creation_date":1605472210,"post_id":64849312,"comment_id":114654438,"body_markdown":"I created a project from here https://start.spring.io/ matching with your dependencies and copied your application.properties. It worked well.","body":"I created a project from here <a href=\"https://start.spring.io/\" rel=\"nofollow noreferrer\">start.spring.io</a> matching with your dependencies and copied your application.properties. It worked well."},{"owner":{"account_id":18296501,"reputation":484,"user_id":14550352,"display_name":"Oliver Darby"},"score":0,"creation_date":1605472576,"post_id":64849312,"comment_id":114654529,"body_markdown":"@Steephen thanks, but if it worked fine for you do you have any idea why it hasnt for me?","body":"@Steephen thanks, but if it worked fine for you do you have any idea why it hasnt for me?"},{"owner":{"account_id":18296501,"reputation":484,"user_id":14550352,"display_name":"Oliver Darby"},"score":0,"creation_date":1605473204,"post_id":64849312,"comment_id":114654696,"body_markdown":"@Steephen I also just tried using the website and still got the same error - feeling its a fault with my maven?","body":"@Steephen I also just tried using the website and still got the same error - feeling its a fault with my maven?"},{"owner":{"account_id":277326,"reputation":919,"user_id":2182920,"display_name":"prost&#253; člověk"},"score":0,"creation_date":1605476763,"post_id":64849312,"comment_id":114655651,"body_markdown":"please you can clear ```.m2``` repository and try again?","body":"please you can clear <code>.m2</code> repository and try again?"},{"owner":{"account_id":18296501,"reputation":484,"user_id":14550352,"display_name":"Oliver Darby"},"score":0,"creation_date":1605477519,"post_id":64849312,"comment_id":114655824,"body_markdown":"@ThangavelLoganathan I have finally solved it, I do not know how, but I decided to create a application.yml as an option and tried it that way. This works and I do not know why and it is still broken in application.properies","body":"@ThangavelLoganathan I have finally solved it, I do not know how, but I decided to create a application.yml as an option and tried it that way. This works and I do not know why and it is still broken in application.properies"},{"owner":{"account_id":277326,"reputation":919,"user_id":2182920,"display_name":"prost&#253; člověk"},"score":0,"creation_date":1605485103,"post_id":64849312,"comment_id":114657349,"body_markdown":"Sounds great, but it&#39;s strange that not worked with app.properties file.","body":"Sounds great, but it&#39;s strange that not worked with app.properties file."}],"answers":[{"comments":[{"owner":{"account_id":8325789,"reputation":1504,"user_id":6255927,"accept_rate":75,"display_name":"BOUTERBIAT Oualid"},"score":0,"creation_date":1614165676,"post_id":64850294,"comment_id":117300739,"body_markdown":"it worked for me using the application.yml thanks, but still not working using application.properties even when getting rid of the client dependency in the pom.xml. I don&#39;t know why !!!","body":"it worked for me using the application.yml thanks, but still not working using application.properties even when getting rid of the client dependency in the pom.xml. I don&#39;t know why !!!"},{"owner":{"account_id":8325789,"reputation":1504,"user_id":6255927,"accept_rate":75,"display_name":"BOUTERBIAT Oualid"},"score":0,"creation_date":1614165894,"post_id":64850294,"comment_id":117300834,"body_markdown":"ah i get it i guess, i think he didn&#39;t like the : eureka.instance.prefer-ip-address=true in my application.properties","body":"ah i get it i guess, i think he didn&#39;t like the : eureka.instance.prefer-ip-address=true in my application.properties"}],"tags":[],"owner":{"account_id":18296501,"reputation":484,"user_id":14550352,"display_name":"Oliver Darby"},"comment_count":2,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1605477911,"creation_date":1605477911,"answer_id":64850294,"question_id":64849312,"body_markdown":"The best way I have found around this so far is to create an application.yml file and add the properties this way: \r\n\r\napplication.yml:\r\n\r\n    info:\r\n      component: DiscoveryService\r\n    \r\n    server:\r\n      port: ${port:8010}\r\n    \r\n    \r\n    eureka:\r\n      client:\r\n        registerWithEureka: false\r\n        fetchRegistry: false\r\n      server:\r\n        enable-self-preservation: false\r\n        waitTimeInMsWhenSyncEmpty: 0\r\n      instance:\r\n        hostname: localhost\r\n        lease-expiration-duration-in-seconds: 15\r\n        lease-renewal-interval-in-seconds: 5\r\n\r\nI am not sure what the error is or how to solve it any other way than this\r\n\r\nedit: I have finally found the solution it is getting rid of the client dependency in the pom.xml. For some reason you cannot have both in the project or you get the bean error. ","title":"Error setting up eureka server in spring boot","body":"<p>The best way I have found around this so far is to create an application.yml file and add the properties this way:</p>\n<p>application.yml:</p>\n<pre><code>info:\n  component: DiscoveryService\n\nserver:\n  port: ${port:8010}\n\n\neureka:\n  client:\n    registerWithEureka: false\n    fetchRegistry: false\n  server:\n    enable-self-preservation: false\n    waitTimeInMsWhenSyncEmpty: 0\n  instance:\n    hostname: localhost\n    lease-expiration-duration-in-seconds: 15\n    lease-renewal-interval-in-seconds: 5\n</code></pre>\n<p>I am not sure what the error is or how to solve it any other way than this</p>\n<p>edit: I have finally found the solution it is getting rid of the client dependency in the pom.xml. For some reason you cannot have both in the project or you get the bean error.</p>\n"},{"comments":[{"owner":{"account_id":6671431,"reputation":315,"user_id":5147465,"accept_rate":45,"display_name":"Aditya Sawant"},"score":0,"creation_date":1631660010,"post_id":68233089,"comment_id":122281286,"body_markdown":"yes your solution worked. I was facing the same issue. Resolved after adding the hostname part.","body":"yes your solution worked. I was facing the same issue. Resolved after adding the hostname part."}],"tags":[],"owner":{"account_id":12941137,"reputation":43,"user_id":9356922,"display_name":"Mainong"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1625284415,"creation_date":1625284415,"answer_id":68233089,"question_id":64849312,"body_markdown":"I came across this issue after changing version to `2.5.2`\r\nTo resolve this issue, I had to change `eureka.client.serviceUrl.defaultZone=http://localhost:8010/eureka` in `application.properties` to `eureka.instance.hostname=localhost`\r\n\r\n[FOR REFERENCE] The contents of my `application.properties` file\r\n\r\n    server.port=8010\r\n    spring.application.name=eureka-discovery-service\r\n    eureka.client.registerWithEureka=false\r\n    eureka.client.fetchRegistry=false\r\n    #eureka.client.serviceUrl.defaultZone= http://localhost:8010/eureka\r\n    eureka.instance.hostname=localhost\r\n    eureka.server.enable-self-preservation=true\r\n    eureka.server.waitTimeInMsWhenSyncEmpty=0\r\n    eureka.instance.lease-expiration-duration-in-seconds= 15\r\n    eureka.instance.lease-renewal-interval-in-seconds= 5","title":"Error setting up eureka server in spring boot","body":"<p>I came across this issue after changing version to <code>2.5.2</code>\nTo resolve this issue, I had to change <code>eureka.client.serviceUrl.defaultZone=http://localhost:8010/eureka</code> in <code>application.properties</code> to <code>eureka.instance.hostname=localhost</code></p>\n<p>[FOR REFERENCE] The contents of my <code>application.properties</code> file</p>\n<pre><code>server.port=8010\nspring.application.name=eureka-discovery-service\neureka.client.registerWithEureka=false\neureka.client.fetchRegistry=false\n#eureka.client.serviceUrl.defaultZone= http://localhost:8010/eureka\neureka.instance.hostname=localhost\neureka.server.enable-self-preservation=true\neureka.server.waitTimeInMsWhenSyncEmpty=0\neureka.instance.lease-expiration-duration-in-seconds= 15\neureka.instance.lease-renewal-interval-in-seconds= 5\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6671431,"reputation":315,"user_id":5147465,"accept_rate":45,"display_name":"Aditya Sawant"},"comment_count":0,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1631660768,"creation_date":1631660768,"answer_id":69185365,"question_id":64849312,"body_markdown":"I am also following the same tutorial as you. I also faced the same issue with Eureka. There are 3 ways to solve it.\r\n\r\n1) Use Mainong&#39;s solution by adding `eureka.instance.hostname=localhost` in application.properties.\r\n2) &amp; 3) In the same tutorial there is a part on troubleshooting this issue.\r\n\r\nYou can either add the following dependency:\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;com.sun.jersey.contribs&lt;/groupId&gt;\r\n      &lt;artifactId&gt;jersey-apache-client4&lt;/artifactId&gt;\r\n      &lt;version&gt;1.19.4&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nor remove eureka-client dependency:\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-cloud-starter-netflix-eureka-client&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;","title":"Error setting up eureka server in spring boot","body":"<p>I am also following the same tutorial as you. I also faced the same issue with Eureka. There are 3 ways to solve it.</p>\n<ol>\n<li>Use Mainong's solution by adding <code>eureka.instance.hostname=localhost</code> in application.properties.</li>\n<li>&amp; 3) In the same tutorial there is a part on troubleshooting this issue.</li>\n</ol>\n<p>You can either add the following dependency:</p>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;com.sun.jersey.contribs&lt;/groupId&gt;\n  &lt;artifactId&gt;jersey-apache-client4&lt;/artifactId&gt;\n  &lt;version&gt;1.19.4&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>or remove eureka-client dependency:</p>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n  &lt;artifactId&gt;spring-cloud-starter-netflix-eureka-client&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12537512,"reputation":650,"user_id":9123717,"display_name":"Shivansh Rajolia - HeLleR"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1635382670,"creation_date":1635382670,"answer_id":69747076,"question_id":64849312,"body_markdown":"Replicated this in my local and ran. Facing same issue\r\n\r\n**Solution:**\r\n\r\nJust remove these 2 props from application.properties\r\n\r\n    eureka.client.serviceUrl.defaultZone=http://localhost:8010/eureka\r\n    eureka.instance.prefer-ip-address=true\r\n\r\nAnd add this property\r\n\r\n    eureka.instance.hostname=localhost\r\n\r\nIt will work!","title":"Error setting up eureka server in spring boot","body":"<p>Replicated this in my local and ran. Facing same issue</p>\n<p><strong>Solution:</strong></p>\n<p>Just remove these 2 props from application.properties</p>\n<pre><code>eureka.client.serviceUrl.defaultZone=http://localhost:8010/eureka\neureka.instance.prefer-ip-address=true\n</code></pre>\n<p>And add this property</p>\n<pre><code>eureka.instance.hostname=localhost\n</code></pre>\n<p>It will work!</p>\n"},{"tags":[],"owner":{"account_id":18565415,"reputation":11,"user_id":13528484,"display_name":"neetu shaky"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1670489319,"creation_date":1670489304,"answer_id":74727640,"question_id":64849312,"body_markdown":"this worked for me:\r\nJust add this property.\r\n\r\n\r\n    eureka.instance.hostname=localhost","title":"Error setting up eureka server in spring boot","body":"<p>this worked for me:\nJust add this property.</p>\n<pre><code>eureka.instance.hostname=localhost\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23161439,"reputation":1,"user_id":17262035,"display_name":"danielmaxx"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676472936,"creation_date":1676472936,"answer_id":75461615,"question_id":64849312,"body_markdown":"I had the same problem and I added the dependency below:\r\n\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.sun.jersey.contribs&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jersey-apache-client4&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.19.1&lt;/version&gt;\r\n\t\t&lt;/dependency \r\n\r\nit worked for me. tks for help","title":"Error setting up eureka server in spring boot","body":"<p>I had the same problem and I added the dependency below:</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;com.sun.jersey.contribs&lt;/groupId&gt;\n        &lt;artifactId&gt;jersey-apache-client4&lt;/artifactId&gt;\n        &lt;version&gt;1.19.1&lt;/version&gt;\n    &lt;/dependency \n</code></pre>\n<p>it worked for me. tks for help</p>\n"}],"owner":{"account_id":18296501,"reputation":484,"user_id":14550352,"display_name":"Oliver Darby"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13609,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":6,"score":5,"last_activity_date":1676472936,"creation_date":1605471211,"question_id":64849312,"body_markdown":"Following along a tutorial that sets up a eureka server. I follow all the steps but go to run it when it should work and it crashes with this error:\r\n\r\n    org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;org.springframework.cloud.netflix.eureka.server.EurekaServerInitializerConfiguration&#39;: Unsatisfied dependency expressed through field &#39;eurekaServerBootstrap&#39;; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;eurekaServerBootstrap&#39; defined in class path resource [org/springframework/cloud/netflix/eureka/server/EurekaServerAutoConfiguration.class]: Unsatisfied dependency expressed through method &#39;eurekaServerBootstrap&#39; parameter 1; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;eurekaServerContext&#39;: Invocation of init method failed; nested exception is java.lang.IllegalStateException: java.lang.RuntimeException: Cannot Create new Replica Node :JerseyReplicationClient: http://localhost:8010/eureka/apps/: \r\n    \tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:643) ~[spring-beans-5.3.1.jar:5.3.1]\r\n    \tat org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:119) ~[spring-beans-5.3.1.jar:5.3.1]\r\n    \tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:399) ~[spring-beans-5.3.1.jar:5.3.1]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1415) ~[spring-beans-5.3.1.jar:5.3.1]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:608) ~[spring-beans-5.3.1.jar:5.3.1]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:531) ~[spring-beans-5.3.1.jar:5.3.1]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.1.jar:5.3.1]\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.1.jar:5.3.1]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.1.jar:5.3.1]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.1.jar:5.3.1]\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:944) ~[spring-beans-5.3.1.jar:5.3.1]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:925) ~[spring-context-5.3.1.jar:5.3.1]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:588) ~[spring-context-5.3.1.jar:5.3.1]\r\n    \tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:144) ~[spring-boot-2.4.0.jar:2.4.0]\r\n    \tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:767) ~[spring-boot-2.4.0.jar:2.4.0]\r\n    \tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:759) ~[spring-boot-2.4.0.jar:2.4.0]\r\n    \tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:426) ~[spring-boot-2.4.0.jar:2.4.0]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:326) ~[spring-boot-2.4.0.jar:2.4.0]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1309) ~[spring-boot-2.4.0.jar:2.4.0]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1298) ~[spring-boot-2.4.0.jar:2.4.0]\r\n    \tat com.photoapp.photoappdiscoveryservice.PhotoappdiscoveryserviceApplication.main(PhotoappdiscoveryserviceApplication.java:12) ~[classes/:na]\r\n    Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;eurekaServerBootstrap&#39; defined in class path resource [org/springframework/cloud/netflix/eureka/server/EurekaServerAutoConfiguration.class]: Unsatisfied dependency expressed through method &#39;eurekaServerBootstrap&#39; parameter 1; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;eurekaServerContext&#39;: Invocation of init method failed; nested exception is java.lang.IllegalStateException: java.lang.RuntimeException: Cannot Create new Replica Node :JerseyReplicationClient: http://localhost:8010/eureka/apps/: \r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:798) ~[spring-beans-5.3.1.jar:5.3.1]\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:539) ~[spring-beans-5.3.1.jar:5.3.1]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1336) ~[spring-beans-5.3.1.jar:5.3.1]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1179) ~[spring-beans-5.3.1.jar:5.3.1]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:571) ~[spring-beans-5.3.1.jar:5.3.1]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:531) ~[spring-beans-5.3.1.jar:5.3.1]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.1.jar:5.3.1]\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.1.jar:5.3.1]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.1.jar:5.3.1]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.1.jar:5.3.1]\r\n    \tat org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276) ~[spring-beans-5.3.1.jar:5.3.1]\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1367) ~[spring-beans-5.3.1.jar:5.3.1]\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1287) ~[spring-beans-5.3.1.jar:5.3.1]\r\n    \tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:640) ~[spring-beans-5.3.1.jar:5.3.1]\r\n    \t... 20 common frames omitted\r\n    Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;eurekaServerContext&#39;: Invocation of init method failed; nested exception is java.lang.IllegalStateException: java.lang.RuntimeException: Cannot Create new Replica Node :JerseyReplicationClient: http://localhost:8010/eureka/apps/: \r\n    \tat org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor.postProcessBeforeInitialization(InitDestroyAnnotationBeanPostProcessor.java:160) ~[spring-beans-5.3.1.jar:5.3.1]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsBeforeInitialization(AbstractAutowireCapableBeanFactory.java:429) ~[spring-beans-5.3.1.jar:5.3.1]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1780) ~[spring-beans-5.3.1.jar:5.3.1]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:609) ~[spring-beans-5.3.1.jar:5.3.1]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:531) ~[spring-beans-5.3.1.jar:5.3.1]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.1.jar:5.3.1]\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.1.jar:5.3.1]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.1.jar:5.3.1]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.1.jar:5.3.1]\r\n    \tat org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276) ~[spring-beans-5.3.1.jar:5.3.1]\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1367) ~[spring-beans-5.3.1.jar:5.3.1]\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1287) ~[spring-beans-5.3.1.jar:5.3.1]\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:885) ~[spring-beans-5.3.1.jar:5.3.1]\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:789) ~[spring-beans-5.3.1.jar:5.3.1]\r\n    \t... 33 common frames omitted\r\n    Caused by: java.lang.IllegalStateException: java.lang.RuntimeException: Cannot Create new Replica Node :JerseyReplicationClient: http://localhost:8010/eureka/apps/: \r\n    \tat com.netflix.eureka.cluster.PeerEurekaNodes.start(PeerEurekaNodes.java:106) ~[eureka-core-1.10.7.jar:1.10.7]\r\n    \tat com.netflix.eureka.DefaultEurekaServerContext.initialize(DefaultEurekaServerContext.java:67) ~[eureka-core-1.10.7.jar:1.10.7]\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\r\n    \tat org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleElement.invoke(InitDestroyAnnotationBeanPostProcessor.java:389) ~[spring-beans-5.3.1.jar:5.3.1]\r\n    \tat org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleMetadata.invokeInitMethods(InitDestroyAnnotationBeanPostProcessor.java:333) ~[spring-beans-5.3.1.jar:5.3.1]\r\n    \tat org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor.postProcessBeforeInitialization(InitDestroyAnnotationBeanPostProcessor.java:157) ~[spring-beans-5.3.1.jar:5.3.1]\r\n    \t... 46 common frames omitted\r\n    Caused by: java.lang.RuntimeException: Cannot Create new Replica Node :JerseyReplicationClient: http://localhost:8010/eureka/apps/: \r\n    \tat com.netflix.eureka.transport.JerseyReplicationClient.createReplicationClient(JerseyReplicationClient.java:170) ~[eureka-core-1.10.7.jar:1.10.7]\r\n    \tat org.springframework.cloud.netflix.eureka.server.EurekaServerAutoConfiguration$RefreshablePeerEurekaNodes.createPeerEurekaNode(EurekaServerAutoConfiguration.java:286) ~[spring-cloud-netflix-eureka-server-3.0.0-20201115.174246-1802.jar:3.0.0-SNAPSHOT]\r\n    \tat com.netflix.eureka.cluster.PeerEurekaNodes.updatePeerEurekaNodes(PeerEurekaNodes.java:189) ~[eureka-core-1.10.7.jar:1.10.7]\r\n    \tat com.netflix.eureka.cluster.PeerEurekaNodes.start(PeerEurekaNodes.java:87) ~[eureka-core-1.10.7.jar:1.10.7]\r\n    \t... 54 common frames omitted\r\n    Caused by: java.lang.NoClassDefFoundError: com/sun/jersey/client/apache4/config/DefaultApacheHttpClient4Config\r\n    \tat java.base/java.lang.ClassLoader.defineClass1(Native Method) ~[na:na]\r\n    \tat java.base/java.lang.ClassLoader.defineClass(ClassLoader.java:1017) ~[na:na]\r\n    \tat java.base/java.security.SecureClassLoader.defineClass(SecureClassLoader.java:174) ~[na:na]\r\n    \tat java.base/jdk.internal.loader.BuiltinClassLoader.defineClass(BuiltinClassLoader.java:800) ~[na:na]\r\n    \tat java.base/jdk.internal.loader.BuiltinClassLoader.findClassOnClassPathOrNull(BuiltinClassLoader.java:698) ~[na:na]\r\n    \tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClassOrNull(BuiltinClassLoader.java:621) ~[na:na]\r\n    \tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:579) ~[na:na]\r\n    \tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178) ~[na:na]\r\n    \tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:522) ~[na:na]\r\n    \tat com.netflix.discovery.shared.transport.jersey.EurekaJerseyClientImpl$EurekaJerseyClientBuilder.build(EurekaJerseyClientImpl.java:183) ~[eureka-client-1.10.7.jar:1.10.7]\r\n    \tat com.netflix.eureka.transport.JerseyReplicationClient.createReplicationClient(JerseyReplicationClient.java:168) ~[eureka-core-1.10.7.jar:1.10.7]\r\n    \t... 57 common frames omitted\r\n    Caused by: java.lang.ClassNotFoundException: com.sun.jersey.client.apache4.config.DefaultApacheHttpClient4Config\r\n    \tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:581) ~[na:na]\r\n    \tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178) ~[na:na]\r\n    \tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:522) ~[na:na]\r\n    \t... 68 common frames omitted\r\n    \r\n    \r\n    Process finished with exit code 1\r\n\r\nI looked up possible solutions including purging maven cache and this did not work.\r\n\r\nHere are my dependencies in my pom.xml:\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-cloud-starter-netflix-eureka-client&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-cloud-starter-netflix-eureka-server&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\nMain class:\r\n\r\n    package com.photoapp.photoappdiscoveryservice;\r\n    \r\n    import org.springframework.boot.SpringApplication;\r\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n    import org.springframework.cloud.netflix.eureka.server.EnableEurekaServer;\r\n    \r\n    @EnableEurekaServer\r\n    @SpringBootApplication\r\n    public class PhotoappdiscoveryserviceApplication {\r\n    \r\n        public static void main(String[] args) {\r\n            SpringApplication.run(PhotoappdiscoveryserviceApplication.class, args);\r\n        }\r\n    }\r\n\r\napplication.properties:\r\n\r\n```\r\nserver.port=8010\r\n\r\nspring.application.name=discoveryservice\r\n\r\neureka.client.registerWithEureka=false\r\neureka.client.fetchRegistry=false\r\neureka.client.serviceUrl.defaultZone=http://localhost:8010/eureka\r\n```        \r\n\r\nUpon researching the only reason I can see is it may have been a error dependency, any help to figure this out would be great thanks!","title":"Error setting up eureka server in spring boot","body":"<p>Following along a tutorial that sets up a eureka server. I follow all the steps but go to run it when it should work and it crashes with this error:</p>\n<pre><code>org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'org.springframework.cloud.netflix.eureka.server.EurekaServerInitializerConfiguration': Unsatisfied dependency expressed through field 'eurekaServerBootstrap'; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'eurekaServerBootstrap' defined in class path resource [org/springframework/cloud/netflix/eureka/server/EurekaServerAutoConfiguration.class]: Unsatisfied dependency expressed through method 'eurekaServerBootstrap' parameter 1; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'eurekaServerContext': Invocation of init method failed; nested exception is java.lang.IllegalStateException: java.lang.RuntimeException: Cannot Create new Replica Node :JerseyReplicationClient: http://localhost:8010/eureka/apps/: \n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:643) ~[spring-beans-5.3.1.jar:5.3.1]\n    at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:119) ~[spring-beans-5.3.1.jar:5.3.1]\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:399) ~[spring-beans-5.3.1.jar:5.3.1]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1415) ~[spring-beans-5.3.1.jar:5.3.1]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:608) ~[spring-beans-5.3.1.jar:5.3.1]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:531) ~[spring-beans-5.3.1.jar:5.3.1]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.1.jar:5.3.1]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.1.jar:5.3.1]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.1.jar:5.3.1]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.1.jar:5.3.1]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:944) ~[spring-beans-5.3.1.jar:5.3.1]\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:925) ~[spring-context-5.3.1.jar:5.3.1]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:588) ~[spring-context-5.3.1.jar:5.3.1]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:144) ~[spring-boot-2.4.0.jar:2.4.0]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:767) ~[spring-boot-2.4.0.jar:2.4.0]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:759) ~[spring-boot-2.4.0.jar:2.4.0]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:426) ~[spring-boot-2.4.0.jar:2.4.0]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:326) ~[spring-boot-2.4.0.jar:2.4.0]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1309) ~[spring-boot-2.4.0.jar:2.4.0]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1298) ~[spring-boot-2.4.0.jar:2.4.0]\n    at com.photoapp.photoappdiscoveryservice.PhotoappdiscoveryserviceApplication.main(PhotoappdiscoveryserviceApplication.java:12) ~[classes/:na]\nCaused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'eurekaServerBootstrap' defined in class path resource [org/springframework/cloud/netflix/eureka/server/EurekaServerAutoConfiguration.class]: Unsatisfied dependency expressed through method 'eurekaServerBootstrap' parameter 1; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'eurekaServerContext': Invocation of init method failed; nested exception is java.lang.IllegalStateException: java.lang.RuntimeException: Cannot Create new Replica Node :JerseyReplicationClient: http://localhost:8010/eureka/apps/: \n    at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:798) ~[spring-beans-5.3.1.jar:5.3.1]\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:539) ~[spring-beans-5.3.1.jar:5.3.1]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1336) ~[spring-beans-5.3.1.jar:5.3.1]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1179) ~[spring-beans-5.3.1.jar:5.3.1]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:571) ~[spring-beans-5.3.1.jar:5.3.1]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:531) ~[spring-beans-5.3.1.jar:5.3.1]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.1.jar:5.3.1]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.1.jar:5.3.1]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.1.jar:5.3.1]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.1.jar:5.3.1]\n    at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276) ~[spring-beans-5.3.1.jar:5.3.1]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1367) ~[spring-beans-5.3.1.jar:5.3.1]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1287) ~[spring-beans-5.3.1.jar:5.3.1]\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:640) ~[spring-beans-5.3.1.jar:5.3.1]\n    ... 20 common frames omitted\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'eurekaServerContext': Invocation of init method failed; nested exception is java.lang.IllegalStateException: java.lang.RuntimeException: Cannot Create new Replica Node :JerseyReplicationClient: http://localhost:8010/eureka/apps/: \n    at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor.postProcessBeforeInitialization(InitDestroyAnnotationBeanPostProcessor.java:160) ~[spring-beans-5.3.1.jar:5.3.1]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsBeforeInitialization(AbstractAutowireCapableBeanFactory.java:429) ~[spring-beans-5.3.1.jar:5.3.1]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1780) ~[spring-beans-5.3.1.jar:5.3.1]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:609) ~[spring-beans-5.3.1.jar:5.3.1]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:531) ~[spring-beans-5.3.1.jar:5.3.1]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.1.jar:5.3.1]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.1.jar:5.3.1]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.1.jar:5.3.1]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.1.jar:5.3.1]\n    at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276) ~[spring-beans-5.3.1.jar:5.3.1]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1367) ~[spring-beans-5.3.1.jar:5.3.1]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1287) ~[spring-beans-5.3.1.jar:5.3.1]\n    at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:885) ~[spring-beans-5.3.1.jar:5.3.1]\n    at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:789) ~[spring-beans-5.3.1.jar:5.3.1]\n    ... 33 common frames omitted\nCaused by: java.lang.IllegalStateException: java.lang.RuntimeException: Cannot Create new Replica Node :JerseyReplicationClient: http://localhost:8010/eureka/apps/: \n    at com.netflix.eureka.cluster.PeerEurekaNodes.start(PeerEurekaNodes.java:106) ~[eureka-core-1.10.7.jar:1.10.7]\n    at com.netflix.eureka.DefaultEurekaServerContext.initialize(DefaultEurekaServerContext.java:67) ~[eureka-core-1.10.7.jar:1.10.7]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\n    at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleElement.invoke(InitDestroyAnnotationBeanPostProcessor.java:389) ~[spring-beans-5.3.1.jar:5.3.1]\n    at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleMetadata.invokeInitMethods(InitDestroyAnnotationBeanPostProcessor.java:333) ~[spring-beans-5.3.1.jar:5.3.1]\n    at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor.postProcessBeforeInitialization(InitDestroyAnnotationBeanPostProcessor.java:157) ~[spring-beans-5.3.1.jar:5.3.1]\n    ... 46 common frames omitted\nCaused by: java.lang.RuntimeException: Cannot Create new Replica Node :JerseyReplicationClient: http://localhost:8010/eureka/apps/: \n    at com.netflix.eureka.transport.JerseyReplicationClient.createReplicationClient(JerseyReplicationClient.java:170) ~[eureka-core-1.10.7.jar:1.10.7]\n    at org.springframework.cloud.netflix.eureka.server.EurekaServerAutoConfiguration$RefreshablePeerEurekaNodes.createPeerEurekaNode(EurekaServerAutoConfiguration.java:286) ~[spring-cloud-netflix-eureka-server-3.0.0-20201115.174246-1802.jar:3.0.0-SNAPSHOT]\n    at com.netflix.eureka.cluster.PeerEurekaNodes.updatePeerEurekaNodes(PeerEurekaNodes.java:189) ~[eureka-core-1.10.7.jar:1.10.7]\n    at com.netflix.eureka.cluster.PeerEurekaNodes.start(PeerEurekaNodes.java:87) ~[eureka-core-1.10.7.jar:1.10.7]\n    ... 54 common frames omitted\nCaused by: java.lang.NoClassDefFoundError: com/sun/jersey/client/apache4/config/DefaultApacheHttpClient4Config\n    at java.base/java.lang.ClassLoader.defineClass1(Native Method) ~[na:na]\n    at java.base/java.lang.ClassLoader.defineClass(ClassLoader.java:1017) ~[na:na]\n    at java.base/java.security.SecureClassLoader.defineClass(SecureClassLoader.java:174) ~[na:na]\n    at java.base/jdk.internal.loader.BuiltinClassLoader.defineClass(BuiltinClassLoader.java:800) ~[na:na]\n    at java.base/jdk.internal.loader.BuiltinClassLoader.findClassOnClassPathOrNull(BuiltinClassLoader.java:698) ~[na:na]\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClassOrNull(BuiltinClassLoader.java:621) ~[na:na]\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:579) ~[na:na]\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178) ~[na:na]\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:522) ~[na:na]\n    at com.netflix.discovery.shared.transport.jersey.EurekaJerseyClientImpl$EurekaJerseyClientBuilder.build(EurekaJerseyClientImpl.java:183) ~[eureka-client-1.10.7.jar:1.10.7]\n    at com.netflix.eureka.transport.JerseyReplicationClient.createReplicationClient(JerseyReplicationClient.java:168) ~[eureka-core-1.10.7.jar:1.10.7]\n    ... 57 common frames omitted\nCaused by: java.lang.ClassNotFoundException: com.sun.jersey.client.apache4.config.DefaultApacheHttpClient4Config\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:581) ~[na:na]\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178) ~[na:na]\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:522) ~[na:na]\n    ... 68 common frames omitted\n\n\nProcess finished with exit code 1\n</code></pre>\n<p>I looked up possible solutions including purging maven cache and this did not work.</p>\n<p>Here are my dependencies in my pom.xml:</p>\n<pre><code>&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-cloud-starter-netflix-eureka-client&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-cloud-starter-netflix-eureka-server&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n<p>Main class:</p>\n<pre><code>package com.photoapp.photoappdiscoveryservice;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.cloud.netflix.eureka.server.EnableEurekaServer;\n\n@EnableEurekaServer\n@SpringBootApplication\npublic class PhotoappdiscoveryserviceApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(PhotoappdiscoveryserviceApplication.class, args);\n    }\n}\n</code></pre>\n<p>application.properties:</p>\n<pre><code>server.port=8010\n\nspring.application.name=discoveryservice\n\neureka.client.registerWithEureka=false\neureka.client.fetchRegistry=false\neureka.client.serviceUrl.defaultZone=http://localhost:8010/eureka\n</code></pre>\n<p>Upon researching the only reason I can see is it may have been a error dependency, any help to figure this out would be great thanks!</p>\n"},{"tags":["java","jenkins","keystore"],"owner":{"account_id":25896593,"reputation":1,"user_id":19623074,"display_name":"euph"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":78,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676472763,"creation_date":1676472763,"question_id":75461574,"body_markdown":"I have Jenkins 2.332 and want to upgrade it to the latest stable version.\r\n\r\nBut new jenkins.war makes it impossible to start the service. Most likely because of: \r\nhttps://docs.cloudbees.com/docs/cloudbees-ci-kb/latest/client-and-managed-masters/deprecated-use-of-jetty-https-args -&gt;\r\n&quot;--httpsPrivateKey and --httpsCertificate flags have been removed in favor of the --httpsKeyStore flag&quot; \r\n\r\nIn order to fix it seems I need keystore configured: \r\nhttps://www.jenkins.io/doc/book/installing/initial-settings/#https-with-an-existing-certificate\r\n\r\n\r\n\r\n\r\n\r\n1. \r\n```\r\n`I followed steps 1,2,6,7,8, have new keystore. Now I can start Jenkins service but Jenkins website isn&#39;t private and page displays error:\r\n&quot;com.thoughtworks.xstream.mapper.CannotResolveClassException: hudson.security.ProjectMatrixAuthorizationStrategy\r\n\tat com.thoughtworks.xstream.mapper.DefaultMapper.realClass(DefaultMapper.java:81)\r\n\tat com.thoughtworks.xstream.mapper.MapperWrapper.realClass(MapperWrapper.java:125)\r\n\tat com.thoughtworks.xstream.mapper.DynamicProxyMapper.realClass(DynamicProxyMapper.java:55)\r\n\tat com.thoughtworks.xstream.mapper.MapperWrapper.realClass(MapperWrapper.java:125)\r\n(...)\r\nCaused: org.jvnet.hudson.reactor.ReactorException\r\n\tat org.jvnet.hudson.reactor.Reactor.execute(Reactor.java:290)\r\n\tat jenkins.InitReactorRunner.run(InitReactorRunner.java:49)\r\n\tat jenkins.model.Jenkins.executeReactor(Jenkins.java:1196)\r\n\tat jenkins.model.Jenkins.&lt;init&gt;(Jenkins.java:986)\r\n\tat hudson.model.Hudson.&lt;init&gt;(Hudson.java:86)\r\n\tat hudson.model.Hudson.&lt;init&gt;(Hudson.java:82)\r\n\tat hudson.WebAppMain$3.run(WebAppMain.java:247)\r\nCaused: hudson.util.HudsonFailedToLoad\r\n\tat hudson.WebAppMain$3.run(WebAppMain.java:264)&quot;`\r\n\r\n```\r\n\r\n\r\n2.\r\nThis line has been modified with keystore data that I have created in jenkins.xml:\r\n```\r\n`&lt;arguments&gt;-Xrs -Xmx4g -Dhttps.protocols=TLSv1.2 -Dhudson.lifecycle=hudson.lifecycle.WindowsServiceLifecycle -Dhudson.model.Slave.workspaceRoot=wrk -jar &quot;%BASE%\\jenkins.war&quot; --httpPort=8080 --webroot=&quot;%BASE%\\war&quot; -Dhudson.model.DownloadService.noSignatureCheck=true --httpsPort=443 --httpsKeyStore=&quot;%BASE%\\secrets\\keystore&quot; --httpsKeyStorePassword=KeyStorePassword &lt;/arguments&gt;`\r\n```\r\n\r\nbefore in this &lt;arguments&gt; jenkins.\r\n\r\nxml line I had details of PEM and KEY\r\n\r\n3.\r\nNew key store is placed in C:\\Program Files (x86)\\Jenkins\\secrets as per instruction\r\n\r\nPEM and KEY are in C:\\Program Files (x86)\\Jenkins\\certificate\r\n***\r\n\r\nI need instruction how I can configure new keystore - I assume I need somehow to insert .CER/.PEM and .KEY into it as before Jenkins was using them in jenkins.xml\r\n\r\nI guess this might be something like this \r\n\r\n- keytool -import -alias *alias* -keystore cacerts -file &quot;C:\\Program Files (x86)\\Jenkins\\certificate\\secret.pem&quot;\r\n\r\nI would appreciate where to place what and what commands to use as my knowledge of java certificates is non-existent. \r\n\r\n\r\n\r\n\r\n\r\n","title":"Jenkins upgrade on Windows serwer with JDK 11. --httpsPrivateKey and --httpsCertificate flags CI instances after 2.361.* is are not supported","body":"<p>I have Jenkins 2.332 and want to upgrade it to the latest stable version.</p>\n<p>But new jenkins.war makes it impossible to start the service. Most likely because of:\n<a href=\"https://docs.cloudbees.com/docs/cloudbees-ci-kb/latest/client-and-managed-masters/deprecated-use-of-jetty-https-args\" rel=\"nofollow noreferrer\">https://docs.cloudbees.com/docs/cloudbees-ci-kb/latest/client-and-managed-masters/deprecated-use-of-jetty-https-args</a> -&gt;\n&quot;--httpsPrivateKey and --httpsCertificate flags have been removed in favor of the --httpsKeyStore flag&quot;</p>\n<p>In order to fix it seems I need keystore configured:\n<a href=\"https://www.jenkins.io/doc/book/installing/initial-settings/#https-with-an-existing-certificate\" rel=\"nofollow noreferrer\">https://www.jenkins.io/doc/book/installing/initial-settings/#https-with-an-existing-certificate</a></p>\n<p>1.</p>\n<pre><code>`I followed steps 1,2,6,7,8, have new keystore. Now I can start Jenkins service but Jenkins website isn't private and page displays error:\n&quot;com.thoughtworks.xstream.mapper.CannotResolveClassException: hudson.security.ProjectMatrixAuthorizationStrategy\n    at com.thoughtworks.xstream.mapper.DefaultMapper.realClass(DefaultMapper.java:81)\n    at com.thoughtworks.xstream.mapper.MapperWrapper.realClass(MapperWrapper.java:125)\n    at com.thoughtworks.xstream.mapper.DynamicProxyMapper.realClass(DynamicProxyMapper.java:55)\n    at com.thoughtworks.xstream.mapper.MapperWrapper.realClass(MapperWrapper.java:125)\n(...)\nCaused: org.jvnet.hudson.reactor.ReactorException\n    at org.jvnet.hudson.reactor.Reactor.execute(Reactor.java:290)\n    at jenkins.InitReactorRunner.run(InitReactorRunner.java:49)\n    at jenkins.model.Jenkins.executeReactor(Jenkins.java:1196)\n    at jenkins.model.Jenkins.&lt;init&gt;(Jenkins.java:986)\n    at hudson.model.Hudson.&lt;init&gt;(Hudson.java:86)\n    at hudson.model.Hudson.&lt;init&gt;(Hudson.java:82)\n    at hudson.WebAppMain$3.run(WebAppMain.java:247)\nCaused: hudson.util.HudsonFailedToLoad\n    at hudson.WebAppMain$3.run(WebAppMain.java:264)&quot;`\n\n</code></pre>\n<ol start=\"2\">\n<li></li>\n</ol>\n<p>This line has been modified with keystore data that I have created in jenkins.xml:</p>\n<pre><code>`&lt;arguments&gt;-Xrs -Xmx4g -Dhttps.protocols=TLSv1.2 -Dhudson.lifecycle=hudson.lifecycle.WindowsServiceLifecycle -Dhudson.model.Slave.workspaceRoot=wrk -jar &quot;%BASE%\\jenkins.war&quot; --httpPort=8080 --webroot=&quot;%BASE%\\war&quot; -Dhudson.model.DownloadService.noSignatureCheck=true --httpsPort=443 --httpsKeyStore=&quot;%BASE%\\secrets\\keystore&quot; --httpsKeyStorePassword=KeyStorePassword &lt;/arguments&gt;`\n</code></pre>\n<p>before in this  jenkins.</p>\n<p>xml line I had details of PEM and KEY</p>\n<p>3.\nNew key store is placed in C:\\Program Files (x86)\\Jenkins\\secrets as per instruction</p>\n<p>PEM and KEY are in C:\\Program Files (x86)\\Jenkins\\certificate</p>\n<hr />\n<p>I need instruction how I can configure new keystore - I assume I need somehow to insert .CER/.PEM and .KEY into it as before Jenkins was using them in jenkins.xml</p>\n<p>I guess this might be something like this</p>\n<ul>\n<li>keytool -import -alias <em>alias</em> -keystore cacerts -file &quot;C:\\Program Files (x86)\\Jenkins\\certificate\\secret.pem&quot;</li>\n</ul>\n<p>I would appreciate where to place what and what commands to use as my knowledge of java certificates is non-existent.</p>\n"},{"tags":["java"],"owner":{"account_id":201157,"reputation":12723,"user_id":447426,"accept_rate":62,"display_name":"dermoritz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676472621,"creation_date":1676472621,"question_id":75461542,"body_markdown":"I created a CLI Java program that uses System.in and System.out and argument. It can &quot;add&quot; argument to System.in and write result to System.out. the Output of first rund can be fed into in put for 2nd run and so on.\r\nIn command line you can just pipe multiple calls.\r\n\r\nI am currently writing a unit test for this and try to avoid creating copies in byte[] of input and output. My problem is: It seems forbidden to connect more than 2 PipedInput/Output Stream together?:\r\n\r\nHere is current test:\r\n\r\n    @Test\r\n    void addDeviceToGivenFactoryJson() throws IOException {\r\n        // produce factory json\r\n        //we pipe the output directly into an input stream\r\n        PipedInputStream in = new PipedInputStream();\r\n        PipedOutputStream outPipe = new PipedOutputStream(in);\r\n        PrintStream out = new PrintStream(outPipe, true, StandardCharsets.UTF_8);\r\n        System.setOut(out);\r\n        //fills the pipe by running main in separate thread\r\n        // pipe contains factory json without device\r\n        new Thread(() -&gt; Main.main(new String[]{})).start();\r\n        // connect to std in\r\n        PipedInputStream in2 = new PipedInputStream(outPipe); // &lt;--- error here\r\n        System.setIn(in2);\r\n        new Thread(() -&gt; Main.main(new String[]{MainTest.class.getResource(&quot;/device.json&quot;).getPath()})).start();\r\n\r\n        ProductionData productionData = om.readValue(in2, ProductionData.class);\r\n        Device device = productionData.getProductionData().get(0).getDevices().get(0);\r\n        assertNotNull(device);\r\n    }\r\n\r\nRunning this i get ```java.io.IOException: Already connected``` in line where i create in2 with connection to outPipe.\r\n\r\nIs there a way to connect them or do i need to buffer it in byte[] or something similar?","title":"Java how chain multiple PipedInput/Output streams","body":"<p>I created a CLI Java program that uses System.in and System.out and argument. It can &quot;add&quot; argument to System.in and write result to System.out. the Output of first rund can be fed into in put for 2nd run and so on.\nIn command line you can just pipe multiple calls.</p>\n<p>I am currently writing a unit test for this and try to avoid creating copies in byte[] of input and output. My problem is: It seems forbidden to connect more than 2 PipedInput/Output Stream together?:</p>\n<p>Here is current test:</p>\n<pre><code>@Test\nvoid addDeviceToGivenFactoryJson() throws IOException {\n    // produce factory json\n    //we pipe the output directly into an input stream\n    PipedInputStream in = new PipedInputStream();\n    PipedOutputStream outPipe = new PipedOutputStream(in);\n    PrintStream out = new PrintStream(outPipe, true, StandardCharsets.UTF_8);\n    System.setOut(out);\n    //fills the pipe by running main in separate thread\n    // pipe contains factory json without device\n    new Thread(() -&gt; Main.main(new String[]{})).start();\n    // connect to std in\n    PipedInputStream in2 = new PipedInputStream(outPipe); // &lt;--- error here\n    System.setIn(in2);\n    new Thread(() -&gt; Main.main(new String[]{MainTest.class.getResource(&quot;/device.json&quot;).getPath()})).start();\n\n    ProductionData productionData = om.readValue(in2, ProductionData.class);\n    Device device = productionData.getProductionData().get(0).getDevices().get(0);\n    assertNotNull(device);\n}\n</code></pre>\n<p>Running this i get <code>java.io.IOException: Already connected</code> in line where i create in2 with connection to outPipe.</p>\n<p>Is there a way to connect them or do i need to buffer it in byte[] or something similar?</p>\n"},{"tags":["java","android","kotlin","android-recyclerview"],"comments":[{"owner":{"account_id":3397419,"reputation":38710,"user_id":2850651,"display_name":"Mike M."},"score":0,"creation_date":1676469352,"post_id":75458978,"comment_id":133142538,"body_markdown":"In `onCreateViewHolder()`, you need to pass the `parent` parameter in the `inflate()` call, instead of `null`: `CancelAdapterBinding.inflate(LayoutInflater.from(parent.context), parent, false)`.","body":"In <code>onCreateViewHolder()</code>, you need to pass the <code>parent</code> parameter in the <code>inflate()</code> call, instead of <code>null</code>: <code>CancelAdapterBinding.inflate(LayoutInflater.from(parent.cont&zwnj;&#8203;ext), parent, false)</code>."}],"answers":[{"comments":[{"owner":{"account_id":26279773,"reputation":31,"user_id":19948408,"display_name":"Lovish"},"score":0,"creation_date":1676462104,"post_id":75459393,"comment_id":133140216,"body_markdown":"its not working bro i am using bottom sheet maybe thats why its not working.","body":"its not working bro i am using bottom sheet maybe thats why its not working."},{"owner":{"account_id":24885,"reputation":30828,"user_id":63550,"accept_rate":78,"display_name":"Peter Mortensen"},"score":0,"creation_date":1676467993,"post_id":75459393,"comment_id":133142081,"body_markdown":"An explanation would be in order. E.g., what did you change and why? What is the idea/gist? From [the Help Center](https://stackoverflow.com/help/promotion): *&quot;...always explain why the solution you&#39;re presenting is appropriate and how it works&quot;*. Please respond by [editing (changing) your answer](https://stackoverflow.com/posts/75459393/edit), not here in comments (***without*** &quot;Edit:&quot;, &quot;Update:&quot;, or similar - the answer should appear as if it was written today).","body":"An explanation would be in order. E.g., what did you change and why? What is the idea/gist? From <a href=\"https://stackoverflow.com/help/promotion\">the Help Center</a>: <i>&quot;...always explain why the solution you&#39;re presenting is appropriate and how it works&quot;</i>. Please respond by <a href=\"https://stackoverflow.com/posts/75459393/edit\">editing (changing) your answer</a>, not here in comments (<b><i>without</i></b> &quot;Edit:&quot;, &quot;Update:&quot;, or similar - the answer should appear as if it was written today)."}],"tags":[],"owner":{"account_id":10780313,"reputation":192,"user_id":7931023,"display_name":"Ashfaque"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676461845,"creation_date":1676461845,"answer_id":75459393,"question_id":75458978,"body_markdown":"   *android:layout_width=&quot;match_parent&quot;*\r\n\r\n     &lt;androidx.appcompat.widget.AppCompatTextView\r\n                android:id=&quot;@+id/tvReasonText&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:fontFamily=&quot;@font/space_grotesk_bold&quot;\r\n                android:gravity=&quot;center&quot;\r\n                android:text=&quot;@string/cancel_booking&quot;\r\n                android:textSize=&quot;14sp&quot;\r\n                app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n                app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n                app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n                app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;","title":"Recyclerview view width is not aligned","body":"<p><em>android:layout_width=&quot;match_parent&quot;</em></p>\n<pre><code> &lt;androidx.appcompat.widget.AppCompatTextView\n            android:id=&quot;@+id/tvReasonText&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:fontFamily=&quot;@font/space_grotesk_bold&quot;\n            android:gravity=&quot;center&quot;\n            android:text=&quot;@string/cancel_booking&quot;\n            android:textSize=&quot;14sp&quot;\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\n            app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18696867,"reputation":860,"user_id":13629974,"display_name":"&#214;mer Seyfettin Yavuzyiğit"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676472516,"creation_date":1676472516,"answer_id":75461524,"question_id":75458978,"body_markdown":"\r\nWith this code you can maximize the width.\r\n&gt;android:layout_width=&quot;match_parent&quot;\r\nor\r\n&gt;android:layout_width=&quot;0dp&quot;\r\n\r\n\r\nthis code will help you to center the text\r\n\r\n&gt;android:textAlignment=&quot;center&quot;\r\n\r\n\r\n    &lt;androidx.appcompat.widget.AppCompatTextView\r\n                android:id=&quot;@+id/tvReasonText&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:textAlignment=&quot;center&quot;\r\n                android:fontFamily=&quot;@font/space_grotesk_bold&quot;\r\n                android:gravity=&quot;center&quot;\r\n                android:text=&quot;@string/cancel_booking&quot;\r\n                android:textSize=&quot;14sp&quot;\r\n                app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n                app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n                app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n                app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;","title":"Recyclerview view width is not aligned","body":"<p>With this code you can maximize the width.</p>\n<blockquote>\n<p>android:layout_width=&quot;match_parent&quot;\nor\nandroid:layout_width=&quot;0dp&quot;</p>\n</blockquote>\n<p>this code will help you to center the text</p>\n<blockquote>\n<p>android:textAlignment=&quot;center&quot;</p>\n</blockquote>\n<pre><code>&lt;androidx.appcompat.widget.AppCompatTextView\n            android:id=&quot;@+id/tvReasonText&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:textAlignment=&quot;center&quot;\n            android:fontFamily=&quot;@font/space_grotesk_bold&quot;\n            android:gravity=&quot;center&quot;\n            android:text=&quot;@string/cancel_booking&quot;\n            android:textSize=&quot;14sp&quot;\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\n            app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n</code></pre>\n"}],"owner":{"account_id":26279773,"reputation":31,"user_id":19948408,"display_name":"Lovish"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1676472516,"creation_date":1676459768,"question_id":75458978,"body_markdown":"I am working on the recycler view, but I face one problem: the item alignment is not correct. How can I solve this problem?\r\n\r\nI need the items to match the parent&#39;s width.\r\n\r\n### What I want\r\n\r\n![Image](https://www.linkpicture.com/q/Screenshot-2023-02-15-162119.png)\r\n\r\n### Problem\r\n\r\n![Image](https://www.linkpicture.com/q/screenshot-1676458397566.png)\r\n\r\nCode :-\r\nAdapter -\r\nclass CancelBookingAdapter(\r\n    val data: List&lt;CancelReasonsResponse.Data&gt;,\r\n    val callBack: CancelBookingCallBack\r\n) : RecyclerView.Adapter&lt;CancelBookingAdapter.ViewHolder&gt;() {\r\n\r\n    var selectedPosition = -1\r\n    var comments = &quot;&quot;\r\n\r\n    class ViewHolder(val binding: CancelAdapterBinding) : RecyclerView.ViewHolder(binding.root)\r\n\r\n    override fun onCreateViewHolder(parent: ViewGroup, viewType: Int): ViewHolder {\r\n        val binding = CancelAdapterBinding.inflate(LayoutInflater.from(parent.context),null,false)\r\n        val lp = RecyclerView.LayoutParams(ViewGroup.LayoutParams.MATCH_PARENT, ViewGroup.LayoutParams.WRAP_CONTENT)\r\n        return ViewHolder(binding)\r\n    }\r\n    enter code here\r\n    override fun onBindViewHolder(holder: ViewHolder, position: Int) {\r\n        holder.binding.apply {\r\n            tvReasonText.text = data[position].title\r\n\r\n            if (selectedPosition == -1) {\r\n                comments = &quot;&quot;\r\n            }else {\r\n                comments = data[position].title\r\n            }\r\n\r\n            if (selectedPosition == position) {\r\n                llReason.setBackgroundResource(R.drawable.selected_box)\r\n            }else {\r\n                llReason.setBackgroundResource(R.drawable.cancel_outline)\r\n            }\r\n\r\n            llReason.setOnClickListener {\r\n                selectedPosition = holder.adapterPosition\r\n                callBack.onClickCheckBox(data[position].id, comments)\r\n                selectedPosition = position\r\n                notifyDataSetChanged()\r\n            }\r\n        }\r\n    }\r\n\r\n    override fun getItemCount(): Int {\r\n        return data.size\r\n    }\r\n}\r\n\r\ninterface CancelBookingCallBack {\r\n    fun onClickCheckBox(reasonId: Int, comment: String)\r\n}\r\n\r\n\r\nItem XML -\r\n\r\n    &lt;androidx.appcompat.widget.LinearLayoutCompat\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;&gt;\r\n\r\n        &lt;androidx.appcompat.widget.LinearLayoutCompat\r\n            android:id=&quot;@+id/llReason&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:padding=&quot;@dimen/_12sdp&quot;\r\n            android:gravity=&quot;center&quot;\r\n            android:background=&quot;@drawable/cancel_outline&quot;\r\n            android:layout_marginBottom=&quot;@dimen/_12sdp&quot;&gt;\r\n\r\n            &lt;androidx.appcompat.widget.AppCompatTextView\r\n                android:id=&quot;@+id/tvReasonText&quot;\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:fontFamily=&quot;@font/space_grotesk_bold&quot;\r\n                android:gravity=&quot;center&quot;\r\n                android:text=&quot;@string/cancel_booking&quot;\r\n                android:textSize=&quot;14sp&quot;\r\n                app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n                app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n                app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n                app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n\r\n        &lt;/androidx.appcompat.widget.LinearLayoutCompat&gt;\r\n\r\n    &lt;/androidx.appcompat.widget.LinearLayoutCompat&gt;\r\n\r\n\r\n\r\n","title":"Recyclerview view width is not aligned","body":"<p>I am working on the recycler view, but I face one problem: the item alignment is not correct. How can I solve this problem?</p>\n<p>I need the items to match the parent's width.</p>\n<h3>What I want</h3>\n<p><img src=\"https://www.linkpicture.com/q/Screenshot-2023-02-15-162119.png\" alt=\"Image\" /></p>\n<h3>Problem</h3>\n<p><img src=\"https://www.linkpicture.com/q/screenshot-1676458397566.png\" alt=\"Image\" /></p>\n<p>Code :-\nAdapter -\nclass CancelBookingAdapter(\nval data: List&lt;CancelReasonsResponse.Data&gt;,\nval callBack: CancelBookingCallBack\n) : RecyclerView.Adapter&lt;CancelBookingAdapter.ViewHolder&gt;() {</p>\n<pre><code>var selectedPosition = -1\nvar comments = &quot;&quot;\n\nclass ViewHolder(val binding: CancelAdapterBinding) : RecyclerView.ViewHolder(binding.root)\n\noverride fun onCreateViewHolder(parent: ViewGroup, viewType: Int): ViewHolder {\n    val binding = CancelAdapterBinding.inflate(LayoutInflater.from(parent.context),null,false)\n    val lp = RecyclerView.LayoutParams(ViewGroup.LayoutParams.MATCH_PARENT, ViewGroup.LayoutParams.WRAP_CONTENT)\n    return ViewHolder(binding)\n}\nenter code here\noverride fun onBindViewHolder(holder: ViewHolder, position: Int) {\n    holder.binding.apply {\n        tvReasonText.text = data[position].title\n\n        if (selectedPosition == -1) {\n            comments = &quot;&quot;\n        }else {\n            comments = data[position].title\n        }\n\n        if (selectedPosition == position) {\n            llReason.setBackgroundResource(R.drawable.selected_box)\n        }else {\n            llReason.setBackgroundResource(R.drawable.cancel_outline)\n        }\n\n        llReason.setOnClickListener {\n            selectedPosition = holder.adapterPosition\n            callBack.onClickCheckBox(data[position].id, comments)\n            selectedPosition = position\n            notifyDataSetChanged()\n        }\n    }\n}\n\noverride fun getItemCount(): Int {\n    return data.size\n}\n</code></pre>\n<p>}</p>\n<p>interface CancelBookingCallBack {\nfun onClickCheckBox(reasonId: Int, comment: String)\n}</p>\n<p>Item XML -</p>\n<pre><code>&lt;androidx.appcompat.widget.LinearLayoutCompat\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;wrap_content&quot;&gt;\n\n    &lt;androidx.appcompat.widget.LinearLayoutCompat\n        android:id=&quot;@+id/llReason&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:padding=&quot;@dimen/_12sdp&quot;\n        android:gravity=&quot;center&quot;\n        android:background=&quot;@drawable/cancel_outline&quot;\n        android:layout_marginBottom=&quot;@dimen/_12sdp&quot;&gt;\n\n        &lt;androidx.appcompat.widget.AppCompatTextView\n            android:id=&quot;@+id/tvReasonText&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:fontFamily=&quot;@font/space_grotesk_bold&quot;\n            android:gravity=&quot;center&quot;\n            android:text=&quot;@string/cancel_booking&quot;\n            android:textSize=&quot;14sp&quot;\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\n            app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n\n    &lt;/androidx.appcompat.widget.LinearLayoutCompat&gt;\n\n&lt;/androidx.appcompat.widget.LinearLayoutCompat&gt;\n</code></pre>\n"},{"tags":["java","spring-data-jpa","audit","byte-code-enhancement"],"owner":{"account_id":3729190,"reputation":21,"user_id":5024510,"display_name":"Jean-Fran&#231;ois Legendre"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":85,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1676472399,"creation_date":1676472110,"question_id":75461415,"body_markdown":"I have a Spring Data JPA project where the Bytecode Enhancement has been activated in the pom.xml\r\n\r\n```\r\n\r\n      &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n        &lt;configuration&gt;\r\n          &lt;source&gt;11&lt;/source&gt;\r\n          &lt;target&gt;11&lt;/target&gt;\r\n        &lt;/configuration&gt;\r\n      &lt;/plugin&gt;\r\n      &lt;plugin&gt;\r\n        &lt;groupId&gt;org.hibernate.orm.tooling&lt;/groupId&gt;\r\n        &lt;artifactId&gt;hibernate-enhance-maven-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;5.6.14.Final&lt;/version&gt;\r\n        &lt;executions&gt;\r\n          &lt;execution&gt;\r\n            &lt;configuration&gt;\r\n              &lt;failOnError&gt;true&lt;/failOnError&gt;\r\n              &lt;enableLazyInitialization&gt;true&lt;/enableLazyInitialization&gt;\r\n              &lt;enableDirtyTracking&gt;true&lt;/enableDirtyTracking&gt;\r\n            &lt;/configuration&gt;\r\n            &lt;goals&gt;\r\n              &lt;goal&gt;**enhance**&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n          &lt;/execution&gt;\r\n        &lt;/executions&gt;\r\n      &lt;/plugin&gt;\r\n    &lt;/plugins&gt;\r\n```\r\n\r\nOn top of that, I have also setup the Spring Audit mecanism. In order to do that, I have an abstract objet called `Auditable`:\r\n\r\n```\r\n@Getter\r\n@Setter\r\n@MappedSuperclass\r\n@EntityListeners({AuditingEntityListener.class})\r\npublic abstract class Auditable {\r\n\r\n  @CreatedBy\r\n  @Column(name = &quot;created_by&quot;, length = 255, updatable = false)\r\n  protected String createdBy;\r\n\r\n  @CreatedDate\r\n  @Column(\r\n      name = &quot;created_date&quot;,\r\n      columnDefinition = &quot;timestamp default &#39;2021-06-10 20:47:05.967394&#39;&quot;,\r\n      updatable = false)\r\n  @Temporal(TemporalType.TIMESTAMP)\r\n  protected Date createdDate;\r\n\r\n  @LastModifiedBy\r\n  @Column(name = &quot;modified_by&quot;, length = 255)\r\n  protected String modifiedBy;\r\n\r\n  @LastModifiedDate\r\n  @Temporal(TemporalType.TIMESTAMP)\r\n  @Column(\r\n      name = &quot;modified_date&quot;,\r\n      columnDefinition = &quot;timestamp default &#39;2021-06-10 20:47:05.967394&#39;&quot;)\r\n  protected Date modifiedDate;\r\n \r\n}\r\n```\r\n\r\nI have also a class that extends the `Auditable` object:\r\n\r\n```\r\n@Entity\r\n@Table(name = &quot;dashboard&quot;)\r\n@NamedQuery(name = &quot;Dashboard.findAll&quot;, query = &quot;SELECT d FROM Dashboard d&quot;)\r\n@TypeDef(name = &quot;jsonb&quot;, typeClass = JsonBinaryType.class)\r\n@TypeDef(name = &quot;json&quot;, typeClass = JsonStringType.class)\r\n@Data\r\npublic class Dashboard extends Auditable implements Serializable {\r\n \r\n  ...\r\n}\r\n```\r\n\r\n\r\nNow, in order to activate the Audit mecanism in my project, I have a class `AuditorAwareImpl `\r\n\r\n```\r\npublic class AuditorAwareImpl implements AuditorAware&lt;String&gt; {\r\n\r\n  @Override\r\n  public Optional&lt;String&gt; getCurrentAuditor() {\r\n    var auth = SecurityContextHolder.getContext().getAuthentication();\r\n    var retVal = Optional.of(&quot;&quot;);\r\n    if (auth instanceof AnonymousAuthenticationToken) {\r\n      retVal = retVal.of(&quot;anonymous&quot;);\r\n    } else if (auth instanceof OAuth2AuthenticationToken) {\r\n      retVal = retVal.of(((DefaultOidcUser) auth.getPrincipal()).getPreferredUsername());\r\n    } else {\r\n      retVal = retVal.of(((HydrowebUserDetails) auth.getPrincipal()).getName());\r\n    }\r\n    return retVal;\r\n  }\r\n}\r\n```\r\n\r\nAnd a bean of that class loaded in a `@Configuration` class:\r\n```\r\n  @Bean\r\n  AuditorAware&lt;String&gt; auditorProvider() {\r\n    return new AuditorAwareImpl();\r\n  }\r\n```\r\n\r\n---\r\n\r\nNow the problem is that I can see the `created_by` and `created_date` fields updated in the database when I create a new data into the `Dashboard` table. On the other hand there is no way to make both fields `modified_date` and `modified_by` to be updated when I modify a dashboard entity (nothig is updated/reflected into the Dashboard table).\r\n\r\nThe exciting point is that if I get rid off the Bytecode Enhancement, then I can make it works properly. All fields are updated as it should be (when creating an entity create fields are updated and when I editing an entity, update fields are also updated properly)...\r\n\r\nSo it seems that the Bytecode Enhancement interfere in some way with the Audit mecanism, but only for the modifying (_by and _date) columns.\r\nWith or without bytecode enhancement, the create fields (_by and _date) are alwayds updated.\r\n\r\n---\r\n\r\nIs there a way to properly configure and make both concepts work together (bytecode enhancement and spring JPA Auditing)?  \r\nHave you already enconter this problem and if it the case, did you find an elegant way to make it works properly.\r\nOr it is simply a bug?\r\n\r\n\r\n----------\r\n\r\n\r\nFrom that point, I have found a `workaround` that works well when both concept are installed (bytecode enhancement and Auditing). We added the following method within the `Auditable` class:\r\n```\r\n\r\n  @PreUpdate\r\n  void preUpdate(){\r\n    var tempModifiedBy = this.modifiedBy;\r\n    this.setModifiedBy(null);\r\n    this.setModifiedBy(tempModifiedBy);\r\n  }\r\n```\r\nDoing this seems to &quot;stimulate&quot; the auditing mecanism (when updating an JPA entity). And then both fields are updated with success within the audited table (modified_by and modified_date).","title":"Activating the data JPA Bytecode Enhancement seems to interfere with Spring JPA Auditing mecanism","body":"<p>I have a Spring Data JPA project where the Bytecode Enhancement has been activated in the pom.xml</p>\n<pre><code>\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n        &lt;configuration&gt;\n          &lt;source&gt;11&lt;/source&gt;\n          &lt;target&gt;11&lt;/target&gt;\n        &lt;/configuration&gt;\n      &lt;/plugin&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.hibernate.orm.tooling&lt;/groupId&gt;\n        &lt;artifactId&gt;hibernate-enhance-maven-plugin&lt;/artifactId&gt;\n        &lt;version&gt;5.6.14.Final&lt;/version&gt;\n        &lt;executions&gt;\n          &lt;execution&gt;\n            &lt;configuration&gt;\n              &lt;failOnError&gt;true&lt;/failOnError&gt;\n              &lt;enableLazyInitialization&gt;true&lt;/enableLazyInitialization&gt;\n              &lt;enableDirtyTracking&gt;true&lt;/enableDirtyTracking&gt;\n            &lt;/configuration&gt;\n            &lt;goals&gt;\n              &lt;goal&gt;**enhance**&lt;/goal&gt;\n            &lt;/goals&gt;\n          &lt;/execution&gt;\n        &lt;/executions&gt;\n      &lt;/plugin&gt;\n    &lt;/plugins&gt;\n</code></pre>\n<p>On top of that, I have also setup the Spring Audit mecanism. In order to do that, I have an abstract objet called <code>Auditable</code>:</p>\n<pre><code>@Getter\n@Setter\n@MappedSuperclass\n@EntityListeners({AuditingEntityListener.class})\npublic abstract class Auditable {\n\n  @CreatedBy\n  @Column(name = &quot;created_by&quot;, length = 255, updatable = false)\n  protected String createdBy;\n\n  @CreatedDate\n  @Column(\n      name = &quot;created_date&quot;,\n      columnDefinition = &quot;timestamp default '2021-06-10 20:47:05.967394'&quot;,\n      updatable = false)\n  @Temporal(TemporalType.TIMESTAMP)\n  protected Date createdDate;\n\n  @LastModifiedBy\n  @Column(name = &quot;modified_by&quot;, length = 255)\n  protected String modifiedBy;\n\n  @LastModifiedDate\n  @Temporal(TemporalType.TIMESTAMP)\n  @Column(\n      name = &quot;modified_date&quot;,\n      columnDefinition = &quot;timestamp default '2021-06-10 20:47:05.967394'&quot;)\n  protected Date modifiedDate;\n \n}\n</code></pre>\n<p>I have also a class that extends the <code>Auditable</code> object:</p>\n<pre><code>@Entity\n@Table(name = &quot;dashboard&quot;)\n@NamedQuery(name = &quot;Dashboard.findAll&quot;, query = &quot;SELECT d FROM Dashboard d&quot;)\n@TypeDef(name = &quot;jsonb&quot;, typeClass = JsonBinaryType.class)\n@TypeDef(name = &quot;json&quot;, typeClass = JsonStringType.class)\n@Data\npublic class Dashboard extends Auditable implements Serializable {\n \n  ...\n}\n</code></pre>\n<p>Now, in order to activate the Audit mecanism in my project, I have a class <code>AuditorAwareImpl </code></p>\n<pre><code>public class AuditorAwareImpl implements AuditorAware&lt;String&gt; {\n\n  @Override\n  public Optional&lt;String&gt; getCurrentAuditor() {\n    var auth = SecurityContextHolder.getContext().getAuthentication();\n    var retVal = Optional.of(&quot;&quot;);\n    if (auth instanceof AnonymousAuthenticationToken) {\n      retVal = retVal.of(&quot;anonymous&quot;);\n    } else if (auth instanceof OAuth2AuthenticationToken) {\n      retVal = retVal.of(((DefaultOidcUser) auth.getPrincipal()).getPreferredUsername());\n    } else {\n      retVal = retVal.of(((HydrowebUserDetails) auth.getPrincipal()).getName());\n    }\n    return retVal;\n  }\n}\n</code></pre>\n<p>And a bean of that class loaded in a <code>@Configuration</code> class:</p>\n<pre><code>  @Bean\n  AuditorAware&lt;String&gt; auditorProvider() {\n    return new AuditorAwareImpl();\n  }\n</code></pre>\n<hr />\n<p>Now the problem is that I can see the <code>created_by</code> and <code>created_date</code> fields updated in the database when I create a new data into the <code>Dashboard</code> table. On the other hand there is no way to make both fields <code>modified_date</code> and <code>modified_by</code> to be updated when I modify a dashboard entity (nothig is updated/reflected into the Dashboard table).</p>\n<p>The exciting point is that if I get rid off the Bytecode Enhancement, then I can make it works properly. All fields are updated as it should be (when creating an entity create fields are updated and when I editing an entity, update fields are also updated properly)...</p>\n<p>So it seems that the Bytecode Enhancement interfere in some way with the Audit mecanism, but only for the modifying (_by and _date) columns.\nWith or without bytecode enhancement, the create fields (_by and _date) are alwayds updated.</p>\n<hr />\n<p>Is there a way to properly configure and make both concepts work together (bytecode enhancement and spring JPA Auditing)?<br />\nHave you already enconter this problem and if it the case, did you find an elegant way to make it works properly.\nOr it is simply a bug?</p>\n<hr />\n<p>From that point, I have found a <code>workaround</code> that works well when both concept are installed (bytecode enhancement and Auditing). We added the following method within the <code>Auditable</code> class:</p>\n<pre><code>\n  @PreUpdate\n  void preUpdate(){\n    var tempModifiedBy = this.modifiedBy;\n    this.setModifiedBy(null);\n    this.setModifiedBy(tempModifiedBy);\n  }\n</code></pre>\n<p>Doing this seems to &quot;stimulate&quot; the auditing mecanism (when updating an JPA entity). And then both fields are updated with success within the audited table (modified_by and modified_date).</p>\n"},{"tags":["java","android","logcat","android-logcat"],"comments":[{"owner":{"account_id":348818,"reputation":12356,"user_id":683735,"accept_rate":100,"display_name":"Konstantin Pribluda"},"score":0,"creation_date":1345707268,"post_id":12086536,"comment_id":16149228,"body_markdown":"What about standart logging framerworks? ( log4j , slf4j, commons-logging ,  vanilla javaq logging... )","body":"What about standart logging framerworks? ( log4j , slf4j, commons-logging ,  vanilla javaq logging... )"},{"owner":{"account_id":242097,"reputation":6273,"user_id":513393,"accept_rate":81,"display_name":"Skip"},"score":0,"creation_date":1345709909,"post_id":12086536,"comment_id":16150175,"body_markdown":"I would like to group my log-output by themes. Each group should be displayed separately, as LogCat does, by displaying them in separate tabs. As far as i know - none of standard frameworks can this.","body":"I would like to group my log-output by themes. Each group should be displayed separately, as LogCat does, by displaying them in separate tabs. As far as i know - none of standard frameworks can this."},{"owner":{"account_id":348818,"reputation":12356,"user_id":683735,"accept_rate":100,"display_name":"Konstantin Pribluda"},"score":0,"creation_date":1345726853,"post_id":12086536,"comment_id":16157809,"body_markdown":"you need just log framework in your application (there is a ton of them) and almost every one of them is configurable  so you can influence where log message goes.  It seems that you mix up your application and IDE where you are developing it.","body":"you need just log framework in your application (there is a ton of them) and almost every one of them is configurable  so you can influence where log message goes.  It seems that you mix up your application and IDE where you are developing it."}],"answers":[{"comments":[{"owner":{"account_id":242097,"reputation":6273,"user_id":513393,"accept_rate":81,"display_name":"Skip"},"score":0,"creation_date":1345707204,"post_id":12086788,"comment_id":16149213,"body_markdown":"Thnx. Do you know an alternative for pure Java?","body":"Thnx. Do you know an alternative for pure Java?"},{"owner":{"account_id":1549627,"reputation":4287,"user_id":1442340,"display_name":"Adam Monos"},"score":0,"creation_date":1345707259,"post_id":12086788,"comment_id":16149227,"body_markdown":"Unfortunately no, but if you search the Eclipse marketplace you just might find something similar.","body":"Unfortunately no, but if you search the Eclipse marketplace you just might find something similar."}],"tags":[],"owner":{"account_id":1549627,"reputation":4287,"user_id":1442340,"display_name":"Adam Monos"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1345707057,"creation_date":1345707057,"answer_id":12086788,"question_id":12086536,"body_markdown":"No. Logcat is formatting the output of the ADB (the Android Debug Bridge). Since you can&#39;t connect the ADB to plain java projects, there is no way for you to use Logcat in such a fashion.\r\n\r\nUnless ofcourse you get the Android Eclipse plugin&#39;s source code and modify it to your needs.","title":"How to use Android&#39;s LogCat within a Java project?","body":"<p>No. Logcat is formatting the output of the ADB (the Android Debug Bridge). Since you can't connect the ADB to plain java projects, there is no way for you to use Logcat in such a fashion.</p>\n\n<p>Unless ofcourse you get the Android Eclipse plugin's source code and modify it to your needs.</p>\n"},{"comments":[{"owner":{"account_id":205757,"reputation":6428,"user_id":454667,"accept_rate":91,"display_name":"Bachi"},"score":1,"creation_date":1403269958,"post_id":12086835,"comment_id":37605557,"body_markdown":"Nope. It&#39;s not about the log framework that generates log, but about the tool to interactively watch those logs during development.","body":"Nope. It&#39;s not about the log framework that generates log, but about the tool to interactively watch those logs during development."}],"tags":[],"owner":{"account_id":320329,"reputation":1080,"user_id":638549,"display_name":"andreasg"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1345707247,"creation_date":1345707247,"answer_id":12086835,"question_id":12086536,"body_markdown":"I think what you want to use is something like [log4j][1] or [tinylog][2]\r\n\r\n\r\n  [1]: http://logging.apache.org/log4j\r\n  [2]: http://www.tinylog.org/","title":"How to use Android&#39;s LogCat within a Java project?","body":"<p>I think what you want to use is something like <a href=\"http://logging.apache.org/log4j\" rel=\"nofollow\">log4j</a> or <a href=\"http://www.tinylog.org/\" rel=\"nofollow\">tinylog</a></p>\n"}],"owner":{"account_id":242097,"reputation":6273,"user_id":513393,"accept_rate":81,"display_name":"Skip"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":819,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":12086788,"answer_count":2,"score":0,"last_activity_date":1676471994,"creation_date":1345706074,"question_id":12086536,"body_markdown":"I have a Java Project, where i would like to use Android LogCat&#39;s debug-tagging functionality.\r\n\r\nIs it somehow possible for Java projects? (not Android, but pure Java)\r\n\r\n**EDIT:**\r\n\r\nAs stated below, it is not possible.\r\nIs there any alternative for Java?","title":"How to use Android&#39;s LogCat within a Java project?","body":"<p>I have a Java Project, where i would like to use Android LogCat's debug-tagging functionality.</p>\n\n<p>Is it somehow possible for Java projects? (not Android, but pure Java)</p>\n\n<p><strong>EDIT:</strong></p>\n\n<p>As stated below, it is not possible.\nIs there any alternative for Java?</p>\n"},{"tags":["java","tomcat","tomcat9"],"owner":{"account_id":25190326,"reputation":3,"user_id":19030588,"display_name":"Simon Felder"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":223,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676471958,"creation_date":1676469314,"question_id":75460865,"body_markdown":"A penetration test generated a large number of sessions in a short time.\r\nIf a lot of sessions have to be deleted, the CPU load increases to 100% (Tomcat uses over 95% of this) and the started apps react slowly.\r\nRegardless of whether it is started manually or by the timeout.\r\n\r\nWe have reduced the session timeout so that not so many sessions have to be deleted at the same time.\r\nCPU cores have also been increased\r\n\r\nIs there a way to reduce CPU usage when deleting sessions?","title":"Tomcat 9 high CPU usage when deleting sessions","body":"<p>A penetration test generated a large number of sessions in a short time.\nIf a lot of sessions have to be deleted, the CPU load increases to 100% (Tomcat uses over 95% of this) and the started apps react slowly.\nRegardless of whether it is started manually or by the timeout.</p>\n<p>We have reduced the session timeout so that not so many sessions have to be deleted at the same time.\nCPU cores have also been increased</p>\n<p>Is there a way to reduce CPU usage when deleting sessions?</p>\n"},{"tags":["java","mysql","spring","spring-boot","jpa"],"answers":[{"comments":[{"owner":{"account_id":13975330,"reputation":149,"user_id":10092887,"display_name":"Flinty926"},"score":0,"creation_date":1676329626,"post_id":75441997,"comment_id":133112157,"body_markdown":"I know this needs ran on the database, but is there a tidy spring boot way of ensuring it’s automatically ran (ie if connected to a blank database)","body":"I know this needs ran on the database, but is there a tidy spring boot way of ensuring it’s automatically ran (ie if connected to a blank database)"},{"owner":{"account_id":2094057,"reputation":506144,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"score":0,"creation_date":1676329813,"post_id":75441997,"comment_id":133112187,"body_markdown":"Use the `@Index` annotation.","body":"Use the <code>@Index</code> annotation."},{"owner":{"account_id":13975330,"reputation":149,"user_id":10092887,"display_name":"Flinty926"},"score":0,"creation_date":1676471904,"post_id":75441997,"comment_id":133143505,"body_markdown":"So I gave this a go, check my updated post. Didn&#39;t see any performance increase","body":"So I gave this a go, check my updated post. Didn&#39;t see any performance increase"}],"tags":[],"owner":{"account_id":2094057,"reputation":506144,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676329790,"creation_date":1676329445,"answer_id":75441997,"question_id":75441935,"body_markdown":"If your JPA query is working, and you are just asking about performance, you may add the following index:\r\n\r\n&lt;!-- language: sql --&gt;\r\n\r\n    CREATE INDEX idx ON community_profiles(community_id);\r\n\r\nThis index should allow MySQL to filter off records which are not part of the result set.\r\n\r\nFrom JPA itself you may use:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    @Table(indexes = @Index(name = &quot;idx&quot;, columnList = &quot;community_id&quot;))\r\n    public class CommunityProfile {\r\n        // ...\r\n    }","title":"Spring Boot JPA Native Query Object Mapping","body":"<p>If your JPA query is working, and you are just asking about performance, you may add the following index:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>CREATE INDEX idx ON community_profiles(community_id);\n</code></pre>\n<p>This index should allow MySQL to filter off records which are not part of the result set.</p>\n<p>From JPA itself you may use:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Table(indexes = @Index(name = &quot;idx&quot;, columnList = &quot;community_id&quot;))\npublic class CommunityProfile {\n    // ...\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23257203,"reputation":49,"user_id":17344072,"display_name":"M. Muhammadsodiq"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676360620,"creation_date":1676360620,"answer_id":75444729,"question_id":75441935,"body_markdown":"Have you tried ***EntityManager***\r\n\r\n    \r\n\r\n     \r\n\r\n           @PersistenceContext(type = PersistenceContextType.TRANSACTION)\r\n                 private EntityManager entityManager;\r\n    \r\n                List&lt;CommunityProfile&gt; findByCommunityIdWithJoin(Integer communityId){\r\n                  String query = &quot;&quot;SELECT cp FROM CommunityProfile cp &quot; +\r\n                        &quot;LEFT JOIN FETCH cp.player u &quot; +\r\n                        &quot;LEFT JOIN FETCH cp.rank r &quot; +\r\n                        &quot;WHERE cp.communityId = :communityId&quot;\r\n                List&lt;CommunityProfile&gt; list = entityManager.createNativeQuery(query, CommunityProfile.class)\r\n                                .setParameter(&quot;communityId&quot;,communityId)\r\n                                .getResultList();\r\n               entityManager.clear();\r\n               return list\r\n            }\r\nOnce I used this kind of native query inside loop and it constantly returned cash values bu *entityManagaer.clear()* clears cash. This is for info only)\r\n\r\nOr create an [Index][1] on specific columns when you are defining entity classes like: \r\n\r\n\r\n      @Table(indexes = {\r\n      @Index(columnList = &quot;firstName&quot;),\r\n      @Index(name = &quot;fn_index&quot;, columnList = &quot;firstName&quot;),\r\n      @Index(name = &quot;mulitIndex1&quot;, columnList = &quot;firstName, lastName&quot;)\r\n      ...\r\n    }\r\nFor Non-entity @Index you can check [documentation][2]\r\n\r\n\r\n  [1]: https://www.baeldung.com/jpa-indexes\r\n  [2]: https://javaee.github.io/javaee-spec/javadocs/javax/persistence/package-summary.html","title":"Spring Boot JPA Native Query Object Mapping","body":"<p>Have you tried <em><strong>EntityManager</strong></em></p>\n<pre><code>       @PersistenceContext(type = PersistenceContextType.TRANSACTION)\n             private EntityManager entityManager;\n\n            List&lt;CommunityProfile&gt; findByCommunityIdWithJoin(Integer communityId){\n              String query = &quot;&quot;SELECT cp FROM CommunityProfile cp &quot; +\n                    &quot;LEFT JOIN FETCH cp.player u &quot; +\n                    &quot;LEFT JOIN FETCH cp.rank r &quot; +\n                    &quot;WHERE cp.communityId = :communityId&quot;\n            List&lt;CommunityProfile&gt; list = entityManager.createNativeQuery(query, CommunityProfile.class)\n                            .setParameter(&quot;communityId&quot;,communityId)\n                            .getResultList();\n           entityManager.clear();\n           return list\n        }\n</code></pre>\n<p>Once I used this kind of native query inside loop and it constantly returned cash values bu <em>entityManagaer.clear()</em> clears cash. This is for info only)</p>\n<p>Or create an <a href=\"https://www.baeldung.com/jpa-indexes\" rel=\"nofollow noreferrer\">Index</a> on specific columns when you are defining entity classes like:</p>\n<pre><code>  @Table(indexes = {\n  @Index(columnList = &quot;firstName&quot;),\n  @Index(name = &quot;fn_index&quot;, columnList = &quot;firstName&quot;),\n  @Index(name = &quot;mulitIndex1&quot;, columnList = &quot;firstName, lastName&quot;)\n  ...\n}\n</code></pre>\n<p>For Non-entity @Index you can check <a href=\"https://javaee.github.io/javaee-spec/javadocs/javax/persistence/package-summary.html\" rel=\"nofollow noreferrer\">documentation</a></p>\n"}],"owner":{"account_id":13975330,"reputation":149,"user_id":10092887,"display_name":"Flinty926"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":296,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1676471883,"creation_date":1676328823,"question_id":75441935,"body_markdown":"I have a Model called CommunityProfile. This model contains two child relationships; player (type User), and rank (type Rank). \r\n\r\nThe default spring boot JPA-generated query is taking approximately 9s to fetch 200 records, which is rather slow. By using the following MySQL query, I can return the data I need rather quickly: \r\n```SQL\r\nSELECT cp.*, r.*, u.* FROM community_profiles cp\r\nLEFT JOIN users u ON cp.player_id = u.id\r\nLEFT JOIN ranks r ON cp.rank_id = r.id \r\nWHERE cp.community_id = 1\r\n```\r\nHow can I make my repository map the results to their correct Objects/Models?\r\n\r\nI have tried using a non-native query, like this:\r\n```java\r\n    @Query(&quot;SELECT cp FROM CommunityProfile cp &quot; +\r\n            &quot;LEFT JOIN FETCH cp.player u &quot; +\r\n            &quot;LEFT JOIN FETCH cp.rank r &quot; +\r\n            &quot;WHERE cp.communityId = :communityId&quot;)\r\n    List&lt;CommunityProfile&gt; findByCommunityIdWithJoin(@Param(&quot;communityId&quot;) Integer communityId);\r\n```\r\nHowever, this is still quite slow in comparison, resulting in an 800-900ms response. For comparison, my current Laravel application can return the same data in a 400-ms cold start.\r\n\r\nAny tips are appreciated, thank you\r\n\r\n==UPDATE==\r\n\r\nAfter trying the suggested @Index annotation, I still don&#39;t really see any performance gains. Did I implement correctly?\r\n\r\n```java\r\n@Entity\r\n@Table(name = &quot;community_profiles&quot;, indexes = @Index(name = &quot;cp_ci_idx&quot;, columnList = &quot;community_id&quot;))\r\npublic class CommunityProfile {\r\n\r\n```","title":"Spring Boot JPA Native Query Object Mapping","body":"<p>I have a Model called CommunityProfile. This model contains two child relationships; player (type User), and rank (type Rank).</p>\n<p>The default spring boot JPA-generated query is taking approximately 9s to fetch 200 records, which is rather slow. By using the following MySQL query, I can return the data I need rather quickly:</p>\n<pre><code>SELECT cp.*, r.*, u.* FROM community_profiles cp\nLEFT JOIN users u ON cp.player_id = u.id\nLEFT JOIN ranks r ON cp.rank_id = r.id \nWHERE cp.community_id = 1\n</code></pre>\n<p>How can I make my repository map the results to their correct Objects/Models?</p>\n<p>I have tried using a non-native query, like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Query(&quot;SELECT cp FROM CommunityProfile cp &quot; +\n            &quot;LEFT JOIN FETCH cp.player u &quot; +\n            &quot;LEFT JOIN FETCH cp.rank r &quot; +\n            &quot;WHERE cp.communityId = :communityId&quot;)\n    List&lt;CommunityProfile&gt; findByCommunityIdWithJoin(@Param(&quot;communityId&quot;) Integer communityId);\n</code></pre>\n<p>However, this is still quite slow in comparison, resulting in an 800-900ms response. For comparison, my current Laravel application can return the same data in a 400-ms cold start.</p>\n<p>Any tips are appreciated, thank you</p>\n<p>==UPDATE==</p>\n<p>After trying the suggested @Index annotation, I still don't really see any performance gains. Did I implement correctly?</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Table(name = &quot;community_profiles&quot;, indexes = @Index(name = &quot;cp_ci_idx&quot;, columnList = &quot;community_id&quot;))\npublic class CommunityProfile {\n\n</code></pre>\n"},{"tags":["java","linux","spring-boot"],"comments":[{"owner":{"account_id":1947573,"reputation":6810,"user_id":1752366,"accept_rate":54,"display_name":"silentsudo"},"score":0,"creation_date":1594216915,"post_id":62796545,"comment_id":111049543,"body_markdown":"Does this answer your question? [Spring boot : Unable to load cache item: javax/servlet/Filter](https://stackoverflow.com/questions/54296264/spring-boot-unable-to-load-cache-item-javax-servlet-filter)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/54296264/spring-boot-unable-to-load-cache-item-javax-servlet-filter\">Spring boot : Unable to load cache item: javax/servlet/Filter</a>"},{"owner":{"account_id":5749769,"reputation":2331,"user_id":4539838,"display_name":"Amit kumar"},"score":0,"creation_date":1594223943,"post_id":62796545,"comment_id":111053334,"body_markdown":"Please remove `spring-core` maven dependency and try.","body":"Please remove <code>spring-core</code> maven dependency and try."},{"owner":{"account_id":11639624,"reputation":1651,"user_id":8524584,"display_name":"bezbos."},"score":0,"creation_date":1594275311,"post_id":62796545,"comment_id":111069856,"body_markdown":"@Amitkumar we don&#39;t have that dependency. We use Spring Boot.","body":"@Amitkumar we don&#39;t have that dependency. We use Spring Boot."},{"owner":{"account_id":11639624,"reputation":1651,"user_id":8524584,"display_name":"bezbos."},"score":0,"creation_date":1594275436,"post_id":62796545,"comment_id":111069896,"body_markdown":"@silentsudo no. The exception stack trace is different from ours. Also we don&#39;t have the `spring-core` dependency in our `pom.xml` since it comes from the `spring-boot-starter-parent` dependency.","body":"@silentsudo no. The exception stack trace is different from ours. Also we don&#39;t have the <code>spring-core</code> dependency in our <code>pom.xml</code> since it comes from the <code>spring-boot-starter-parent</code> dependency."},{"owner":{"account_id":5749769,"reputation":2331,"user_id":4539838,"display_name":"Amit kumar"},"score":1,"creation_date":1594275749,"post_id":62796545,"comment_id":111070000,"body_markdown":"@BoškoBezik : Could you please share your `pom.xml` ?","body":"@BoškoBezik : Could you please share your <code>pom.xml</code> ?"}],"answers":[{"comments":[{"owner":{"account_id":11639624,"reputation":1651,"user_id":8524584,"display_name":"bezbos."},"score":0,"creation_date":1594278426,"post_id":62808929,"comment_id":111071103,"body_markdown":"That wasn&#39;t the solution for our scenario.","body":"That wasn&#39;t the solution for our scenario."}],"tags":[],"owner":{"account_id":7413886,"reputation":19,"user_id":5640403,"display_name":"exe"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1594276864,"creation_date":1594276864,"answer_id":62808929,"question_id":62796545,"body_markdown":"Am not sure, but i think the problem caused by `spring-core` dependency. Can you try to remove `spring-core` dependency from pom.xml file and try to run it again. ","title":"Java (Spring Boot) - IllegalStateException: Unable to load cache item","body":"<p>Am not sure, but i think the problem caused by <code>spring-core</code> dependency. Can you try to remove <code>spring-core</code> dependency from pom.xml file and try to run it again.</p>\n"},{"tags":[],"owner":{"account_id":11639624,"reputation":1651,"user_id":8524584,"display_name":"bezbos."},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1594299171,"creation_date":1594278398,"answer_id":62809287,"question_id":62796545,"body_markdown":"The issue was caused by trying to create a thread pool with **0** threads. We have a development VPS with **1** thread and we had a line of code like this: \r\n```\r\npublic static final Executor EXECUTOR = Executors.newFixedThreadPool(Runtime.getRuntime().availableProcessors() - 1);\r\n``` \r\n\r\nThis caused the exception. In hindsight the exception stack trace gave us an obvious clue at the bottom \r\n```\r\nat redacted.Config.&lt;clinit&gt;(Config.java:43)\r\n```\r\nIt literally pointed to the exact line that faulted.\r\n\r\nAnother thing you should definitely do is update the apt-cache with `sudo apt-get update` command install the latest OpenJDK verison.","title":"Java (Spring Boot) - IllegalStateException: Unable to load cache item","body":"<p>The issue was caused by trying to create a thread pool with <strong>0</strong> threads. We have a development VPS with <strong>1</strong> thread and we had a line of code like this:</p>\n<pre><code>public static final Executor EXECUTOR = Executors.newFixedThreadPool(Runtime.getRuntime().availableProcessors() - 1);\n</code></pre>\n<p>This caused the exception. In hindsight the exception stack trace gave us an obvious clue at the bottom</p>\n<pre><code>at redacted.Config.&lt;clinit&gt;(Config.java:43)\n</code></pre>\n<p>It literally pointed to the exact line that faulted.</p>\n<p>Another thing you should definitely do is update the apt-cache with <code>sudo apt-get update</code> command install the latest OpenJDK verison.</p>\n"},{"tags":[],"owner":{"account_id":17610498,"reputation":94,"user_id":12778661,"display_name":"Ivan Polovyi"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1676471788,"creation_date":1676471788,"answer_id":75461350,"question_id":62796545,"body_markdown":"Check the Java version, I had the same error when I tried to run a project developed in Java 11 with Java 17.","title":"Java (Spring Boot) - IllegalStateException: Unable to load cache item","body":"<p>Check the Java version, I had the same error when I tried to run a project developed in Java 11 with Java 17.</p>\n"}],"owner":{"account_id":11639624,"reputation":1651,"user_id":8524584,"display_name":"bezbos."},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":33914,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":62809287,"answer_count":3,"score":4,"last_activity_date":1676471788,"creation_date":1594216835,"question_id":62796545,"body_markdown":"We have a rather complex Spring Boot project and it works fine on Windows during development. However when we run the project on Ubuntu we get a bizzare exception\r\n\r\n```\r\nLOGBACK: No context given for c.q.l.core.rolling.SizeAndTimeBasedRollingPolicy@310623126\r\n  .   ____          _            __ _ _\r\n /\\\\ / ___&#39;_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\r\n( ( )\\___ | &#39;_ | &#39;_| | &#39;_ \\/ _` | \\ \\ \\ \\\r\n \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\r\n  &#39;  |____| .__|_| |_|_| |_\\__, | / / / /\r\n =========|_|==============|___/=/_/_/_/\r\n :: Spring Boot ::        (v2.2.8.RELEASE)\r\n2020-07-08 12:56:42.860  INFO 6 --- [           main] redacted.Application            : Starting Application v0.0.1-SNAPSHOT on c72273bf4d02 with PID 6 (/home/plugin/app.jar started by root in /home/plugin)\r\n2020-07-08 12:56:42.867  INFO 6 --- [           main] redacted.Application            : The following profiles are active: default\r\n2020-07-08 12:56:44.745  INFO 6 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.\r\n2020-07-08 12:56:45.119  INFO 6 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 345ms. Found 13 JPA repository interfaces.\r\n2020-07-08 12:56:46.089 ERROR 6 --- [           main] o.s.boot.SpringApplication               : Application run failed\r\njava.lang.IllegalStateException: Unable to load cache item\r\n        at org.springframework.cglib.core.internal.LoadingCache.createEntry(LoadingCache.java:79) ~[spring-core-5.2.6.RELEASE.jar!/:5.2.6.RELEASE]\r\n        at org.springframework.cglib.core.internal.LoadingCache.get(LoadingCache.java:34) ~[spring-core-5.2.6.RELEASE.jar!/:5.2.6.RELEASE]\r\n        at org.springframework.cglib.core.AbstractClassGenerator$ClassLoaderData.get(AbstractClassGenerator.java:134) ~[spring-core-5.2.6.RELEASE.jar!/:5.2.6.RELEASE]\r\n        at org.springframework.cglib.core.AbstractClassGenerator.create(AbstractClassGenerator.java:319) ~[spring-core-5.2.6.RELEASE.jar!/:5.2.6.RELEASE]\r\n        at org.springframework.cglib.proxy.Enhancer.createHelper(Enhancer.java:572) ~[spring-core-5.2.6.RELEASE.jar!/:5.2.6.RELEASE]\r\n        at org.springframework.cglib.proxy.Enhancer.createClass(Enhancer.java:419) ~[spring-core-5.2.6.RELEASE.jar!/:5.2.6.RELEASE]\r\n        at org.springframework.context.annotation.ConfigurationClassEnhancer.createClass(ConfigurationClassEnhancer.java:137) ~[spring-context-5.2.6.RELEASE.jar!/:5.2.6.RELEASE]\r\n        at org.springframework.context.annotation.ConfigurationClassEnhancer.enhance(ConfigurationClassEnhancer.java:109) ~[spring-context-5.2.6.RELEASE.jar!/:5.2.6.RELEASE]\r\n        at org.springframework.context.annotation.ConfigurationClassPostProcessor.enhanceConfigurationClasses(ConfigurationClassPostProcessor.java:423) ~[spring-context-5.2.6.RELEASE.jar!/:5.2.6.RELEASE]\r\n        at org.springframework.context.annotation.ConfigurationClassPostProcessor.postProcessBeanFactory(ConfigurationClassPostProcessor.java:257) ~[spring-context-5.2.6.RELEASE.jar!/:5.2.6.RELEASE]\r\n        at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:291) ~[spring-context-5.2.6.RELEASE.jar!/:5.2.6.RELEASE]\r\n        at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:131) ~[spring-context-5.2.6.RELEASE.jar!/:5.2.6.RELEASE]\r\n        at org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:706) ~[spring-context-5.2.6.RELEASE.jar!/:5.2.6.RELEASE]\r\n        at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:532) ~[spring-context-5.2.6.RELEASE.jar!/:5.2.6.RELEASE]\r\n        at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:143) ~[spring-boot-2.3.0.RELEASE.jar!/:2.3.0.RELEASE]\r\n        at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:758) [spring-boot-2.3.0.RELEASE.jar!/:2.3.0.RELEASE]\r\n        at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:750) [spring-boot-2.3.0.RELEASE.jar!/:2.3.0.RELEASE]\r\n        at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397) [spring-boot-2.3.0.RELEASE.jar!/:2.3.0.RELEASE]\r\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:315) [spring-boot-2.3.0.RELEASE.jar!/:2.3.0.RELEASE]\r\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1237) [spring-boot-2.3.0.RELEASE.jar!/:2.3.0.RELEASE]\r\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1226) [spring-boot-2.3.0.RELEASE.jar!/:2.3.0.RELEASE]\r\n        at redacted.Application.main(Application.java:61) [classes!/:0.0.1-SNAPSHOT]\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_111]\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_111]\r\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_111]\r\n        at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_111]\r\n        at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:49) [redacted-0.0.1-SNAPSHOT.jar:0.0.1-SNAPSHOT]\r\n        at org.springframework.boot.loader.Launcher.launch(Launcher.java:109) [redacted-0.0.1-SNAPSHOT.jar:0.0.1-SNAPSHOT]\r\n        at org.springframework.boot.loader.Launcher.launch(Launcher.java:58) [redacted-0.0.1-SNAPSHOT.jar:0.0.1-SNAPSHOT]\r\n        at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:88) [redacted-0.0.1-SNAPSHOT.jar:0.0.1-SNAPSHOT]\r\nCaused by: java.lang.ExceptionInInitializerError: null\r\n        at java.lang.Class.forName0(Native Method) ~[na:1.8.0_111]\r\n        at java.lang.Class.forName(Class.java:348) ~[na:1.8.0_111]\r\n        at org.springframework.cglib.core.ReflectUtils.defineClass(ReflectUtils.java:571) ~[spring-core-5.2.6.RELEASE.jar!/:5.2.6.RELEASE]\r\n        at org.springframework.cglib.core.AbstractClassGenerator.generate(AbstractClassGenerator.java:363) ~[spring-core-5.2.6.RELEASE.jar!/:5.2.6.RELEASE]\r\n        at org.springframework.cglib.proxy.Enhancer.generate(Enhancer.java:585) ~[spring-core-5.2.6.RELEASE.jar!/:5.2.6.RELEASE]\r\n        at org.springframework.cglib.core.AbstractClassGenerator$ClassLoaderData$3.apply(AbstractClassGenerator.java:110) ~[spring-core-5.2.6.RELEASE.jar!/:5.2.6.RELEASE]\r\n        at org.springframework.cglib.core.AbstractClassGenerator$ClassLoaderData$3.apply(AbstractClassGenerator.java:108) ~[spring-core-5.2.6.RELEASE.jar!/:5.2.6.RELEASE]\r\n        at org.springframework.cglib.core.internal.LoadingCache$2.call(LoadingCache.java:54) ~[spring-core-5.2.6.RELEASE.jar!/:5.2.6.RELEASE]\r\n        at java.util.concurrent.FutureTask.run(FutureTask.java:266) ~[na:1.8.0_111]\r\n        at org.springframework.cglib.core.internal.LoadingCache.createEntry(LoadingCache.java:61) ~[spring-core-5.2.6.RELEASE.jar!/:5.2.6.RELEASE]\r\n        ... 29 common frames omitted\r\nCaused by: java.lang.IllegalArgumentException: null\r\n        at java.util.concurrent.ThreadPoolExecutor.&lt;init&gt;(ThreadPoolExecutor.java:1307) ~[na:1.8.0_111]\r\n        at java.util.concurrent.ThreadPoolExecutor.&lt;init&gt;(ThreadPoolExecutor.java:1195) ~[na:1.8.0_111]\r\n        at java.util.concurrent.Executors.newFixedThreadPool(Executors.java:89) ~[na:1.8.0_111]\r\n        at redacted.Config.&lt;clinit&gt;(Config.java:43) ~[classes!/:0.0.1-SNAPSHOT]\r\n        ... 39 common frames omitted\r\n```\r\n\r\nOn Ubuntu we are using OpenJDK 11. It works on Windows with the same JDK, but it doesn&#39;t on Ubuntu. We also tried to run the project in a new Windows Sandbox instance and it worked flawlessly.","title":"Java (Spring Boot) - IllegalStateException: Unable to load cache item","body":"<p>We have a rather complex Spring Boot project and it works fine on Windows during development. However when we run the project on Ubuntu we get a bizzare exception</p>\n<pre><code>LOGBACK: No context given for c.q.l.core.rolling.SizeAndTimeBasedRollingPolicy@310623126\n  .   ____          _            __ _ _\n /\\\\ / ___'_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\n( ( )\\___ | '_ | '_| | '_ \\/ _` | \\ \\ \\ \\\n \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\n  '  |____| .__|_| |_|_| |_\\__, | / / / /\n =========|_|==============|___/=/_/_/_/\n :: Spring Boot ::        (v2.2.8.RELEASE)\n2020-07-08 12:56:42.860  INFO 6 --- [           main] redacted.Application            : Starting Application v0.0.1-SNAPSHOT on c72273bf4d02 with PID 6 (/home/plugin/app.jar started by root in /home/plugin)\n2020-07-08 12:56:42.867  INFO 6 --- [           main] redacted.Application            : The following profiles are active: default\n2020-07-08 12:56:44.745  INFO 6 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.\n2020-07-08 12:56:45.119  INFO 6 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 345ms. Found 13 JPA repository interfaces.\n2020-07-08 12:56:46.089 ERROR 6 --- [           main] o.s.boot.SpringApplication               : Application run failed\njava.lang.IllegalStateException: Unable to load cache item\n        at org.springframework.cglib.core.internal.LoadingCache.createEntry(LoadingCache.java:79) ~[spring-core-5.2.6.RELEASE.jar!/:5.2.6.RELEASE]\n        at org.springframework.cglib.core.internal.LoadingCache.get(LoadingCache.java:34) ~[spring-core-5.2.6.RELEASE.jar!/:5.2.6.RELEASE]\n        at org.springframework.cglib.core.AbstractClassGenerator$ClassLoaderData.get(AbstractClassGenerator.java:134) ~[spring-core-5.2.6.RELEASE.jar!/:5.2.6.RELEASE]\n        at org.springframework.cglib.core.AbstractClassGenerator.create(AbstractClassGenerator.java:319) ~[spring-core-5.2.6.RELEASE.jar!/:5.2.6.RELEASE]\n        at org.springframework.cglib.proxy.Enhancer.createHelper(Enhancer.java:572) ~[spring-core-5.2.6.RELEASE.jar!/:5.2.6.RELEASE]\n        at org.springframework.cglib.proxy.Enhancer.createClass(Enhancer.java:419) ~[spring-core-5.2.6.RELEASE.jar!/:5.2.6.RELEASE]\n        at org.springframework.context.annotation.ConfigurationClassEnhancer.createClass(ConfigurationClassEnhancer.java:137) ~[spring-context-5.2.6.RELEASE.jar!/:5.2.6.RELEASE]\n        at org.springframework.context.annotation.ConfigurationClassEnhancer.enhance(ConfigurationClassEnhancer.java:109) ~[spring-context-5.2.6.RELEASE.jar!/:5.2.6.RELEASE]\n        at org.springframework.context.annotation.ConfigurationClassPostProcessor.enhanceConfigurationClasses(ConfigurationClassPostProcessor.java:423) ~[spring-context-5.2.6.RELEASE.jar!/:5.2.6.RELEASE]\n        at org.springframework.context.annotation.ConfigurationClassPostProcessor.postProcessBeanFactory(ConfigurationClassPostProcessor.java:257) ~[spring-context-5.2.6.RELEASE.jar!/:5.2.6.RELEASE]\n        at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:291) ~[spring-context-5.2.6.RELEASE.jar!/:5.2.6.RELEASE]\n        at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:131) ~[spring-context-5.2.6.RELEASE.jar!/:5.2.6.RELEASE]\n        at org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:706) ~[spring-context-5.2.6.RELEASE.jar!/:5.2.6.RELEASE]\n        at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:532) ~[spring-context-5.2.6.RELEASE.jar!/:5.2.6.RELEASE]\n        at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:143) ~[spring-boot-2.3.0.RELEASE.jar!/:2.3.0.RELEASE]\n        at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:758) [spring-boot-2.3.0.RELEASE.jar!/:2.3.0.RELEASE]\n        at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:750) [spring-boot-2.3.0.RELEASE.jar!/:2.3.0.RELEASE]\n        at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397) [spring-boot-2.3.0.RELEASE.jar!/:2.3.0.RELEASE]\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:315) [spring-boot-2.3.0.RELEASE.jar!/:2.3.0.RELEASE]\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1237) [spring-boot-2.3.0.RELEASE.jar!/:2.3.0.RELEASE]\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1226) [spring-boot-2.3.0.RELEASE.jar!/:2.3.0.RELEASE]\n        at redacted.Application.main(Application.java:61) [classes!/:0.0.1-SNAPSHOT]\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_111]\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_111]\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_111]\n        at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_111]\n        at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:49) [redacted-0.0.1-SNAPSHOT.jar:0.0.1-SNAPSHOT]\n        at org.springframework.boot.loader.Launcher.launch(Launcher.java:109) [redacted-0.0.1-SNAPSHOT.jar:0.0.1-SNAPSHOT]\n        at org.springframework.boot.loader.Launcher.launch(Launcher.java:58) [redacted-0.0.1-SNAPSHOT.jar:0.0.1-SNAPSHOT]\n        at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:88) [redacted-0.0.1-SNAPSHOT.jar:0.0.1-SNAPSHOT]\nCaused by: java.lang.ExceptionInInitializerError: null\n        at java.lang.Class.forName0(Native Method) ~[na:1.8.0_111]\n        at java.lang.Class.forName(Class.java:348) ~[na:1.8.0_111]\n        at org.springframework.cglib.core.ReflectUtils.defineClass(ReflectUtils.java:571) ~[spring-core-5.2.6.RELEASE.jar!/:5.2.6.RELEASE]\n        at org.springframework.cglib.core.AbstractClassGenerator.generate(AbstractClassGenerator.java:363) ~[spring-core-5.2.6.RELEASE.jar!/:5.2.6.RELEASE]\n        at org.springframework.cglib.proxy.Enhancer.generate(Enhancer.java:585) ~[spring-core-5.2.6.RELEASE.jar!/:5.2.6.RELEASE]\n        at org.springframework.cglib.core.AbstractClassGenerator$ClassLoaderData$3.apply(AbstractClassGenerator.java:110) ~[spring-core-5.2.6.RELEASE.jar!/:5.2.6.RELEASE]\n        at org.springframework.cglib.core.AbstractClassGenerator$ClassLoaderData$3.apply(AbstractClassGenerator.java:108) ~[spring-core-5.2.6.RELEASE.jar!/:5.2.6.RELEASE]\n        at org.springframework.cglib.core.internal.LoadingCache$2.call(LoadingCache.java:54) ~[spring-core-5.2.6.RELEASE.jar!/:5.2.6.RELEASE]\n        at java.util.concurrent.FutureTask.run(FutureTask.java:266) ~[na:1.8.0_111]\n        at org.springframework.cglib.core.internal.LoadingCache.createEntry(LoadingCache.java:61) ~[spring-core-5.2.6.RELEASE.jar!/:5.2.6.RELEASE]\n        ... 29 common frames omitted\nCaused by: java.lang.IllegalArgumentException: null\n        at java.util.concurrent.ThreadPoolExecutor.&lt;init&gt;(ThreadPoolExecutor.java:1307) ~[na:1.8.0_111]\n        at java.util.concurrent.ThreadPoolExecutor.&lt;init&gt;(ThreadPoolExecutor.java:1195) ~[na:1.8.0_111]\n        at java.util.concurrent.Executors.newFixedThreadPool(Executors.java:89) ~[na:1.8.0_111]\n        at redacted.Config.&lt;clinit&gt;(Config.java:43) ~[classes!/:0.0.1-SNAPSHOT]\n        ... 39 common frames omitted\n</code></pre>\n<p>On Ubuntu we are using OpenJDK 11. It works on Windows with the same JDK, but it doesn't on Ubuntu. We also tried to run the project in a new Windows Sandbox instance and it worked flawlessly.</p>\n"},{"tags":["java","spring-boot","spring-webflux"],"comments":[{"owner":{"account_id":2064278,"reputation":13138,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1639156945,"post_id":70304712,"comment_id":124284954,"body_markdown":"Your class needs a `Resources resources` that is not provided, without seeing more of your application and your configuration of it, this is impossible to answer","body":"Your class needs a <code>Resources resources</code> that is not provided, without seeing more of your application and your configuration of it, this is impossible to answer"},{"owner":{"account_id":8560681,"reputation":72,"user_id":6414816,"display_name":"Bender"},"score":0,"creation_date":1651960103,"post_id":70304712,"comment_id":127491320,"body_markdown":"Baeldung never updates tutorials, beware just in case.","body":"Baeldung never updates tutorials, beware just in case."}],"answers":[{"comments":[{"owner":{"account_id":7195315,"reputation":957,"user_id":6872794,"accept_rate":75,"display_name":"Munib"},"score":0,"creation_date":1639369789,"post_id":70329424,"comment_id":124322912,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/70329424/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":23629994,"reputation":1,"user_id":17661863,"display_name":"user17661863"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639363425,"creation_date":1639363425,"answer_id":70329424,"question_id":70304712,"body_markdown":"    @Slf4j\r\n    @Component\r\n    @Order(-99)\r\n    public class ExceptionHandler implements WebExceptionHandler {\r\n        @Override\r\n        public Mono&lt;Void&gt; handle(ServerWebExchange serverWebExchange, Throwable throwable) {\r\n            ServerHttpResponse response = serverWebExchange.getResponse();\r\n            response.setStatusCode(HttpStatus.BAD_REQUEST);\r\n            response.getHeaders().setContentType(MediaType.APPLICATION_JSON);\r\n            JSONObject resMsg = new JSONObject();\r\n            try {\r\n                resMsg.put(&quot;code&quot;, HttpStatus.BAD_REQUEST.value());\r\n                if(throwable instanceof CommonException){\r\n                    resMsg.put(&quot;msg&quot;, ((CommonException) throwable).getMsg());\r\n                }else{\r\n                    log.error(&quot;system error:&quot;, throwable);\r\n                    resMsg.put(&quot;msg&quot;, CommonCode.PLATFORM_ERR_MSG);\r\n                }\r\n            } catch (Exception e) {\r\n            }\r\n    \r\n            DataBuffer db = response.bufferFactory().wrap(resMsg.toString().getBytes(Charset.forName(&quot;UTF-8&quot;)));\r\n            return response.writeWith(Mono.just(db));\r\n        }\r\n    }\r\n\r\n","title":"WebProperties$Resources bean missing for custom AbstractErrorWebExceptionHandler","body":"<pre><code>@Slf4j\n@Component\n@Order(-99)\npublic class ExceptionHandler implements WebExceptionHandler {\n    @Override\n    public Mono&lt;Void&gt; handle(ServerWebExchange serverWebExchange, Throwable throwable) {\n        ServerHttpResponse response = serverWebExchange.getResponse();\n        response.setStatusCode(HttpStatus.BAD_REQUEST);\n        response.getHeaders().setContentType(MediaType.APPLICATION_JSON);\n        JSONObject resMsg = new JSONObject();\n        try {\n            resMsg.put(&quot;code&quot;, HttpStatus.BAD_REQUEST.value());\n            if(throwable instanceof CommonException){\n                resMsg.put(&quot;msg&quot;, ((CommonException) throwable).getMsg());\n            }else{\n                log.error(&quot;system error:&quot;, throwable);\n                resMsg.put(&quot;msg&quot;, CommonCode.PLATFORM_ERR_MSG);\n            }\n        } catch (Exception e) {\n        }\n\n        DataBuffer db = response.bufferFactory().wrap(resMsg.toString().getBytes(Charset.forName(&quot;UTF-8&quot;)));\n        return response.writeWith(Mono.just(db));\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1641323804,"post_id":70583747,"comment_id":124774430,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/70583747/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."},{"owner":{"account_id":18202678,"reputation":153,"user_id":13246546,"display_name":"Rishabh Singh"},"score":0,"creation_date":1642955542,"post_id":70583747,"comment_id":125205925,"body_markdown":"no problem bro and yes you are right!   :)","body":"no problem bro and yes you are right!   :)"}],"tags":[],"owner":{"account_id":23827734,"reputation":21,"user_id":17834504,"display_name":"user17834504"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1641322404,"creation_date":1641322404,"answer_id":70583747,"question_id":70304712,"body_markdown":"bro. Sorry for my English. Y can inject WebProperties. Next step y can do getResourses() from this properties. I hope that I help to you.","title":"WebProperties$Resources bean missing for custom AbstractErrorWebExceptionHandler","body":"<p>bro. Sorry for my English. Y can inject WebProperties. Next step y can do getResourses() from this properties. I hope that I help to you.</p>\n"},{"comments":[{"owner":{"account_id":18202678,"reputation":153,"user_id":13246546,"display_name":"Rishabh Singh"},"score":0,"creation_date":1642955459,"post_id":70645067,"comment_id":125205903,"body_markdown":"yes you are right! something have changed in springboot version 2.6.x.","body":"yes you are right! something have changed in springboot version 2.6.x."},{"owner":{"account_id":3400101,"reputation":3491,"user_id":2852528,"display_name":"Serhii Pov&#237;senko"},"score":0,"creation_date":1676470887,"post_id":70645067,"comment_id":133143113,"body_markdown":"that answer lacks root cause analysis - cause in case you have your own implementation of AbstractErrorWebExceptionHandler then that answer is not good enough cause of the change of constructor in the abstract class since 2.6 spring-boot version &#39;WebProperties.Resources&#39; -&gt;   &#39;WebProperties&#39; look here https://github.com/spring-projects/spring-boot/issues/28762","body":"that answer lacks root cause analysis - cause in case you have your own implementation of AbstractErrorWebExceptionHandler then that answer is not good enough cause of the change of constructor in the abstract class since 2.6 spring-boot version &#39;WebProperties.Resources&#39; -&gt;   &#39;WebProperties&#39; look here <a href=\"https://github.com/spring-projects/spring-boot/issues/28762\" rel=\"nofollow noreferrer\">github.com/spring-projects/spring-boot/issues/28762</a>"}],"tags":[],"owner":{"account_id":8276195,"reputation":769,"user_id":6222302,"accept_rate":83,"display_name":"Bala"},"comment_count":2,"down_vote_count":1,"up_vote_count":15,"is_accepted":true,"score":14,"last_activity_date":1641758791,"creation_date":1641758791,"answer_id":70645067,"question_id":70304712,"body_markdown":"I was getting the same exception when I migrated my Webflux api application from Springboot version 2.5.x to 2.6.2.\r\n\r\nTo resolve it I added a configuration class which creates a Bean for `WebProperties.Resources` as below,\r\n\r\n```java\r\n@Configuration\r\npublic class ResourceWebPropertiesConfig {\r\n\r\n    @Bean\r\n    public WebProperties.Resources resources() {\r\n        return new WebProperties.Resources();\r\n    }\r\n\r\n}\r\n```\r\n\r\nThis solved the issue. I guess something have changed in Springboot version 2.6.x","title":"WebProperties$Resources bean missing for custom AbstractErrorWebExceptionHandler","body":"<p>I was getting the same exception when I migrated my Webflux api application from Springboot version 2.5.x to 2.6.2.</p>\n<p>To resolve it I added a configuration class which creates a Bean for <code>WebProperties.Resources</code> as below,</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\npublic class ResourceWebPropertiesConfig {\n\n    @Bean\n    public WebProperties.Resources resources() {\n        return new WebProperties.Resources();\n    }\n\n}\n</code></pre>\n<p>This solved the issue. I guess something have changed in Springboot version 2.6.x</p>\n"},{"tags":[],"owner":{"account_id":1290399,"reputation":523,"user_id":5374740,"accept_rate":0,"display_name":"Lex Luthor"},"comment_count":0,"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1645575935,"creation_date":1645575101,"answer_id":71229884,"question_id":70304712,"body_markdown":"The root of the issue is that \r\nResourceProperties (which is the one that was bound to spring.resources) was removed in Spring Boot 2.6 (had been deprecated since 2.4) as explained [here][1] and also in the said version [release notes][2].\r\n\r\nInjecting the `WebProperties` bean in your constructor and then calling `WebProperties.getResources()` at the usage point should fix your custom global exception handler as shown in the following snippet:\r\n\r\n    @Component\r\n    @Order(-2)\r\n    public class GlobalExceptionHandler extends AbstractErrorWebExceptionHandler{\r\n    \r\n        // Spring boot 2.5.x \r\n        public GlobalExceptionHandler(ErrorAttributes errorAttributes, Resources resources, ApplicationContext applicationContext) {\r\n            super(errorAttributes, resources, applicationContext);\r\n        }\r\n    \r\n        // Spring boot 2.6.0\r\n        public GlobalExceptionHandler(ErrorAttributes errorAttributes, WebProperties webProperties, ApplicationContext applicationContext) {\r\n            super(errorAttributes, webProperties.getResources(), applicationContext);\r\n        }\r\n\r\n\r\n  [1]: https://github.com/spring-projects/spring-boot/issues/28762\r\n  [2]: https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-2.6-Release-Notes#web-resources-configuration\r\n","title":"WebProperties$Resources bean missing for custom AbstractErrorWebExceptionHandler","body":"<p>The root of the issue is that\nResourceProperties (which is the one that was bound to spring.resources) was removed in Spring Boot 2.6 (had been deprecated since 2.4) as explained <a href=\"https://github.com/spring-projects/spring-boot/issues/28762\" rel=\"noreferrer\">here</a> and also in the said version <a href=\"https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-2.6-Release-Notes#web-resources-configuration\" rel=\"noreferrer\">release notes</a>.</p>\n<p>Injecting the <code>WebProperties</code> bean in your constructor and then calling <code>WebProperties.getResources()</code> at the usage point should fix your custom global exception handler as shown in the following snippet:</p>\n<pre><code>@Component\n@Order(-2)\npublic class GlobalExceptionHandler extends AbstractErrorWebExceptionHandler{\n\n    // Spring boot 2.5.x \n    public GlobalExceptionHandler(ErrorAttributes errorAttributes, Resources resources, ApplicationContext applicationContext) {\n        super(errorAttributes, resources, applicationContext);\n    }\n\n    // Spring boot 2.6.0\n    public GlobalExceptionHandler(ErrorAttributes errorAttributes, WebProperties webProperties, ApplicationContext applicationContext) {\n        super(errorAttributes, webProperties.getResources(), applicationContext);\n    }\n</code></pre>\n"}],"owner":{"account_id":18202678,"reputation":153,"user_id":13246546,"display_name":"Rishabh Singh"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5443,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":70645067,"answer_count":4,"score":9,"last_activity_date":1676470707,"creation_date":1639140298,"question_id":70304712,"body_markdown":"I am trying to implement my custom GlobalExceptionHandler class by extending AbstractErrorWebExceptionHandler (default implementation is DefaultErrorWebExceptionHandler class) but unable to do so as bean(stated below) is missing which is required in constructer initilization .I am not sure why this is happening as by default implemetation it is working fine and by giving my own implementation it is asking for a bean, Please help\r\n```\r\n@Component\r\n@Order(-2)\r\npublic class GlobalExceptionHandler extends AbstractErrorWebExceptionHandler{\r\n\r\n    public GlobalExceptionHandler(ErrorAttributes errorAttributes, Resources resources, ApplicationContext applicationContext) {\r\n        super(errorAttributes, resources, applicationContext);\r\n    }\r\n\r\n    @Override\r\n    protected RouterFunction&lt;ServerResponse&gt; getRoutingFunction(ErrorAttributes errorAttributes) {\r\n        return RouterFunctions.route(RequestPredicates.all(),this::formatErrorResponse);\r\n    }\r\n\r\n    private Mono&lt;ServerResponse&gt; formatErrorResponse(ServerRequest request){\r\n        Map&lt;String, Object&gt; errorAttributesMap = getErrorAttributes(request, ErrorAttributeOptions.defaults());\r\n        int status = (int) Optional.ofNullable(errorAttributesMap.get(&quot;status&quot;)).orElse(500);\r\n        return ServerResponse\r\n                .status(status)\r\n                .contentType(MediaType.APPLICATION_JSON)\r\n                .body(BodyInserters.fromValue(errorAttributesMap));\r\n    }\r\n}\r\n```\r\nAnd error i am getting is:\r\n```\r\n***************************\r\nAPPLICATION FAILED TO START\r\n***************************\r\n\r\nDescription:\r\n\r\nParameter 1 of constructor in com.example.userManagementSystem.demoApp.exception.GlobalExceptionHandler required a bean of type &#39;org.springframework.boot.autoconfigure.web.WebProperties$Resources&#39; that could not be found.\r\n\r\n\r\nAction:\r\n\r\nConsider defining a bean of type &#39;org.springframework.boot.autoconfigure.web.WebProperties$Resources&#39; in your configuration.\r\n\r\n\r\nProcess finished with exit code 1\r\n```\r\n\r\nI am not sure why this is coming. PLease help!\r\n","title":"WebProperties$Resources bean missing for custom AbstractErrorWebExceptionHandler","body":"<p>I am trying to implement my custom GlobalExceptionHandler class by extending AbstractErrorWebExceptionHandler (default implementation is DefaultErrorWebExceptionHandler class) but unable to do so as bean(stated below) is missing which is required in constructer initilization .I am not sure why this is happening as by default implemetation it is working fine and by giving my own implementation it is asking for a bean, Please help</p>\n<pre><code>@Component\n@Order(-2)\npublic class GlobalExceptionHandler extends AbstractErrorWebExceptionHandler{\n\n    public GlobalExceptionHandler(ErrorAttributes errorAttributes, Resources resources, ApplicationContext applicationContext) {\n        super(errorAttributes, resources, applicationContext);\n    }\n\n    @Override\n    protected RouterFunction&lt;ServerResponse&gt; getRoutingFunction(ErrorAttributes errorAttributes) {\n        return RouterFunctions.route(RequestPredicates.all(),this::formatErrorResponse);\n    }\n\n    private Mono&lt;ServerResponse&gt; formatErrorResponse(ServerRequest request){\n        Map&lt;String, Object&gt; errorAttributesMap = getErrorAttributes(request, ErrorAttributeOptions.defaults());\n        int status = (int) Optional.ofNullable(errorAttributesMap.get(&quot;status&quot;)).orElse(500);\n        return ServerResponse\n                .status(status)\n                .contentType(MediaType.APPLICATION_JSON)\n                .body(BodyInserters.fromValue(errorAttributesMap));\n    }\n}\n</code></pre>\n<p>And error i am getting is:</p>\n<pre><code>***************************\nAPPLICATION FAILED TO START\n***************************\n\nDescription:\n\nParameter 1 of constructor in com.example.userManagementSystem.demoApp.exception.GlobalExceptionHandler required a bean of type 'org.springframework.boot.autoconfigure.web.WebProperties$Resources' that could not be found.\n\n\nAction:\n\nConsider defining a bean of type 'org.springframework.boot.autoconfigure.web.WebProperties$Resources' in your configuration.\n\n\nProcess finished with exit code 1\n</code></pre>\n<p>I am not sure why this is coming. PLease help!</p>\n"},{"tags":["java","postgresql","spring-boot","kubernetes","kubernetes-secrets"],"answers":[{"tags":[],"owner":{"account_id":17741504,"reputation":1083,"user_id":12881733,"display_name":"Bill Mair"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1676470495,"creation_date":1676470301,"answer_id":75461066,"question_id":75458490,"body_markdown":"You used\r\n\r\n    $ echo postgres | base64\r\n    cG9zdGdyZXMK\r\n\r\nto generate your base64 encoded secret.\r\n\r\nThe problem with that is echo adds a linefeed to its output, you should call it like this:\r\n\r\n    $ echo -n postgres | base64\r\n    cG9zdGdyZXM=\r\n\r\nYou need to do the same with password too:\r\n\r\n    $ echo -n password | base64\r\n    cGFzc3dvcmQ=","title":"Using Kubernetes Secret for PostgreSQL ENV causes application pod CRASH","body":"<p>You used</p>\n<pre><code>$ echo postgres | base64\ncG9zdGdyZXMK\n</code></pre>\n<p>to generate your base64 encoded secret.</p>\n<p>The problem with that is echo adds a linefeed to its output, you should call it like this:</p>\n<pre><code>$ echo -n postgres | base64\ncG9zdGdyZXM=\n</code></pre>\n<p>You need to do the same with password too:</p>\n<pre><code>$ echo -n password | base64\ncGFzc3dvcmQ=\n</code></pre>\n"}],"owner":{"account_id":25326567,"reputation":69,"user_id":19147117,"display_name":"h1alexbel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":459,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75461066,"answer_count":1,"score":1,"last_activity_date":1676470495,"creation_date":1676457260,"question_id":75458490,"body_markdown":"I have problem with injecting Kubernetes Secret&#39;s value into Pod env.\r\nI have following ```pg-secrets.yml```:\r\n```\r\napiVersion: v1\r\nkind: Secret\r\nmetadata:\r\n  name: pg-secrets\r\ntype: Opaque\r\ndata:\r\n  POSTGRES_USER: cG9zdGdyZXMK\r\n  POSTGRES_PASSWORD: cGFzc3dvcmQK\r\n#   postgres &amp; password\r\n```\r\n\r\nAnd then I inject POSTGRES_PASSWORD from it to ```application-deployment.yml``` ENV:\r\n\r\n```\r\napiVersion: apps/v1\r\nkind: Deployment\r\n   ...\r\n    spec:\r\n      containers:\r\n        - name: realo\r\n          image: abialiauski/realo\r\n          imagePullPolicy: Always\r\n          ports:\r\n            - containerPort: 8080\r\n          env:\r\n            - name: PG_USERNAME\r\n              valueFrom:\r\n                configMapKeyRef:\r\n                  name: realo-configmap\r\n                  key: PG_USERNAME\r\n            - name: PG_PASSWORD\r\n              valueFrom:\r\n                secretKeyRef:\r\n                  name: pg-secrets\r\n                  key: POSTGRES_PASSWORD\r\n            - name: PG_HOST\r\n              value: postgres\r\n```\r\nAnd having this ```application.yml```:\r\n```\r\nspring:\r\n  application:\r\n    name: realo\r\n  datasource:\r\n    username: ${PG_USERNAME}\r\n    password: ${PG_PASSWORD}\r\n    url: jdbc:postgresql://${PG_HOST}:5432/postgres\r\n    driver-class-name: org.postgresql.Driver\r\n```\r\n\r\nSo, after starting PostgreSQL, the backend application crashes refusing the database connection with this exception:\r\n```\r\nCaused by: org.postgresql.util.PSQLException: Something unusual has occurred to cause the driver to fail. Please report this exception.\r\n\tat org.postgresql.Driver.connect(Driver.java:282) ~[postgresql-42.3.8.jar:42.3.8]\r\n\tat com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138) ~[HikariCP-4.0.3.jar:na]\r\n\tat com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:364) ~[HikariCP-4.0.3.jar:na]\r\n\tat com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:206) ~[HikariCP-4.0.3.jar:na]\r\n\tat com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:476) ~[HikariCP-4.0.3.jar:na]\r\n\tat com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:561) ~[HikariCP-4.0.3.jar:na]\r\n\tat com.zaxxer.hikari.pool.HikariPool.&lt;init&gt;(HikariPool.java:115) ~[HikariCP-4.0.3.jar:na]\r\n\tat com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112) ~[HikariCP-4.0.3.jar:na]\r\n\tat liquibase.integration.spring.SpringLiquibase.afterPropertiesSet(SpringLiquibase.java:266) ~[liquibase-core-4.9.1.jar:na]\r\n\t... 180 common frames omitted\r\nCaused by: java.lang.IllegalArgumentException: Prohibited character\r\n\r\n\tat org.postgresql.shaded.com.ongres.saslprep.SaslPrep.saslPrep(SaslPrep.java:105) ~[postgresql-42.3.8.jar:42.3.8]\r\n\tat org.postgresql.shaded.com.ongres.scram.common.stringprep.StringPreparations$2.doNormalize(StringPreparations.java:55) ~[postgresql-42.3.8.jar:42.3.8]\r\n\tat org.postgresql.shaded.com.ongres.scram.common.stringprep.StringPreparations.normalize(StringPreparations.java:65) ~[postgresql-42.3.8.jar:42.3.8]\r\n\tat org.postgresql.shaded.com.ongres.scram.common.ScramMechanisms.saltedPassword(ScramMechanisms.java:152) ~[postgresql-42.3.8.jar:42.3.8]\r\n\tat org.postgresql.shaded.com.ongres.scram.common.ScramFunctions.saltedPassword(ScramFunctions.java:59) ~[postgresql-42.3.8.jar:42.3.8]\r\n\tat org.postgresql.shaded.com.ongres.scram.client.ScramSession$ClientFinalProcessor.&lt;init&gt;(ScramSession.java:196) ~[postgresql-42.3.8.jar:42.3.8]\r\n\tat org.postgresql.shaded.com.ongres.scram.client.ScramSession$ClientFinalProcessor.&lt;init&gt;(ScramSession.java:163) ~[postgresql-42.3.8.jar:42.3.8]\r\n\tat org.postgresql.shaded.com.ongres.scram.client.ScramSession$ServerFirstProcessor.clientFinalProcessor(ScramSession.java:130) ~[postgresql-42.3.8.jar:42.3.8]\r\n\tat org.postgresql.jre7.sasl.ScramAuthenticator.processServerFirstMessage(ScramAuthenticator.java:147) ~[postgresql-42.3.8.jar:42.3.8]\r\n\tat org.postgresql.core.v3.ConnectionFactoryImpl.doAuthentication(ConnectionFactoryImpl.java:816) ~[postgresql-42.3.8.jar:42.3.8]\r\n\tat org.postgresql.core.v3.ConnectionFactoryImpl.tryConnect(ConnectionFactoryImpl.java:180) ~[postgresql-42.3.8.jar:42.3.8]\r\n\tat org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:235) ~[postgresql-42.3.8.jar:42.3.8]\r\n\tat org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:49) ~[postgresql-42.3.8.jar:42.3.8]\r\n\tat org.postgresql.jdbc.PgConnection.&lt;init&gt;(PgConnection.java:223) ~[postgresql-42.3.8.jar:42.3.8]\r\n\tat org.postgresql.Driver.makeConnection(Driver.java:402) ~[postgresql-42.3.8.jar:42.3.8]\r\n\tat org.postgresql.Driver.connect(Driver.java:261) ~[postgresql-42.3.8.jar:42.3.8]\r\n\t... 188 common frames omitted\r\n```\r\n\r\nIf I inspect ENV everything will be OK, but backend still fails.\r\n```\r\nkubectl exec -i -t pod/realo-66856b59b4-bp27r -- /bin/sh -c &#39;echo &quot;username: $PG_USERNAME\\npassword: $PG_PASSWORD\\n&quot;&#39;\r\n```\r\n\r\noutput:\r\n```\r\nusername: postgres\\npassword: password\r\n```\r\n","title":"Using Kubernetes Secret for PostgreSQL ENV causes application pod CRASH","body":"<p>I have problem with injecting Kubernetes Secret's value into Pod env.\nI have following <code>pg-secrets.yml</code>:</p>\n<pre><code>apiVersion: v1\nkind: Secret\nmetadata:\n  name: pg-secrets\ntype: Opaque\ndata:\n  POSTGRES_USER: cG9zdGdyZXMK\n  POSTGRES_PASSWORD: cGFzc3dvcmQK\n#   postgres &amp; password\n</code></pre>\n<p>And then I inject POSTGRES_PASSWORD from it to <code>application-deployment.yml</code> ENV:</p>\n<pre><code>apiVersion: apps/v1\nkind: Deployment\n   ...\n    spec:\n      containers:\n        - name: realo\n          image: abialiauski/realo\n          imagePullPolicy: Always\n          ports:\n            - containerPort: 8080\n          env:\n            - name: PG_USERNAME\n              valueFrom:\n                configMapKeyRef:\n                  name: realo-configmap\n                  key: PG_USERNAME\n            - name: PG_PASSWORD\n              valueFrom:\n                secretKeyRef:\n                  name: pg-secrets\n                  key: POSTGRES_PASSWORD\n            - name: PG_HOST\n              value: postgres\n</code></pre>\n<p>And having this <code>application.yml</code>:</p>\n<pre><code>spring:\n  application:\n    name: realo\n  datasource:\n    username: ${PG_USERNAME}\n    password: ${PG_PASSWORD}\n    url: jdbc:postgresql://${PG_HOST}:5432/postgres\n    driver-class-name: org.postgresql.Driver\n</code></pre>\n<p>So, after starting PostgreSQL, the backend application crashes refusing the database connection with this exception:</p>\n<pre><code>Caused by: org.postgresql.util.PSQLException: Something unusual has occurred to cause the driver to fail. Please report this exception.\n    at org.postgresql.Driver.connect(Driver.java:282) ~[postgresql-42.3.8.jar:42.3.8]\n    at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138) ~[HikariCP-4.0.3.jar:na]\n    at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:364) ~[HikariCP-4.0.3.jar:na]\n    at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:206) ~[HikariCP-4.0.3.jar:na]\n    at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:476) ~[HikariCP-4.0.3.jar:na]\n    at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:561) ~[HikariCP-4.0.3.jar:na]\n    at com.zaxxer.hikari.pool.HikariPool.&lt;init&gt;(HikariPool.java:115) ~[HikariCP-4.0.3.jar:na]\n    at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112) ~[HikariCP-4.0.3.jar:na]\n    at liquibase.integration.spring.SpringLiquibase.afterPropertiesSet(SpringLiquibase.java:266) ~[liquibase-core-4.9.1.jar:na]\n    ... 180 common frames omitted\nCaused by: java.lang.IllegalArgumentException: Prohibited character\n\n    at org.postgresql.shaded.com.ongres.saslprep.SaslPrep.saslPrep(SaslPrep.java:105) ~[postgresql-42.3.8.jar:42.3.8]\n    at org.postgresql.shaded.com.ongres.scram.common.stringprep.StringPreparations$2.doNormalize(StringPreparations.java:55) ~[postgresql-42.3.8.jar:42.3.8]\n    at org.postgresql.shaded.com.ongres.scram.common.stringprep.StringPreparations.normalize(StringPreparations.java:65) ~[postgresql-42.3.8.jar:42.3.8]\n    at org.postgresql.shaded.com.ongres.scram.common.ScramMechanisms.saltedPassword(ScramMechanisms.java:152) ~[postgresql-42.3.8.jar:42.3.8]\n    at org.postgresql.shaded.com.ongres.scram.common.ScramFunctions.saltedPassword(ScramFunctions.java:59) ~[postgresql-42.3.8.jar:42.3.8]\n    at org.postgresql.shaded.com.ongres.scram.client.ScramSession$ClientFinalProcessor.&lt;init&gt;(ScramSession.java:196) ~[postgresql-42.3.8.jar:42.3.8]\n    at org.postgresql.shaded.com.ongres.scram.client.ScramSession$ClientFinalProcessor.&lt;init&gt;(ScramSession.java:163) ~[postgresql-42.3.8.jar:42.3.8]\n    at org.postgresql.shaded.com.ongres.scram.client.ScramSession$ServerFirstProcessor.clientFinalProcessor(ScramSession.java:130) ~[postgresql-42.3.8.jar:42.3.8]\n    at org.postgresql.jre7.sasl.ScramAuthenticator.processServerFirstMessage(ScramAuthenticator.java:147) ~[postgresql-42.3.8.jar:42.3.8]\n    at org.postgresql.core.v3.ConnectionFactoryImpl.doAuthentication(ConnectionFactoryImpl.java:816) ~[postgresql-42.3.8.jar:42.3.8]\n    at org.postgresql.core.v3.ConnectionFactoryImpl.tryConnect(ConnectionFactoryImpl.java:180) ~[postgresql-42.3.8.jar:42.3.8]\n    at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:235) ~[postgresql-42.3.8.jar:42.3.8]\n    at org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:49) ~[postgresql-42.3.8.jar:42.3.8]\n    at org.postgresql.jdbc.PgConnection.&lt;init&gt;(PgConnection.java:223) ~[postgresql-42.3.8.jar:42.3.8]\n    at org.postgresql.Driver.makeConnection(Driver.java:402) ~[postgresql-42.3.8.jar:42.3.8]\n    at org.postgresql.Driver.connect(Driver.java:261) ~[postgresql-42.3.8.jar:42.3.8]\n    ... 188 common frames omitted\n</code></pre>\n<p>If I inspect ENV everything will be OK, but backend still fails.</p>\n<pre><code>kubectl exec -i -t pod/realo-66856b59b4-bp27r -- /bin/sh -c 'echo &quot;username: $PG_USERNAME\\npassword: $PG_PASSWORD\\n&quot;'\n</code></pre>\n<p>output:</p>\n<pre><code>username: postgres\\npassword: password\n</code></pre>\n"},{"tags":["java","solr","lucene","solrj"],"answers":[{"comments":[{"owner":{"account_id":9108441,"reputation":181,"user_id":6778015,"display_name":"Dhruvajyoti Chatterjee"},"score":0,"creation_date":1585321526,"post_id":60876796,"comment_id":107726453,"body_markdown":"Thanks ...could you also point me to corresponding Java Api to make this request ?","body":"Thanks ...could you also point me to corresponding Java Api to make this request ?"}],"tags":[],"owner":{"account_id":46578,"reputation":50301,"user_id":137650,"display_name":"MatsLindh"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1585259751,"creation_date":1585259751,"answer_id":60876796,"question_id":60871585,"body_markdown":"The Collections Admin API has far more parameters that are relevant than what the regular CoreAdminAPI has, so as far as I know there is no common API you can use.\r\n\r\nYou can however determine the current mode by making a request to `/solr/admin/info/system?wt=json`. The JSON response will include a `mode` parameter:\r\n\r\n    &quot;mode&quot;:&quot;solrcloud&quot;,\r\n\r\nThis will tell you if Solr is running in cloud mode or standalone. Using your browser&#39;s developer tools&#39; network pane is usually a good way to see all the information Solr exposes about itself through its API.","title":"Java code to identify Solr server is running in Cloud or standalone mode","body":"<p>The Collections Admin API has far more parameters that are relevant than what the regular CoreAdminAPI has, so as far as I know there is no common API you can use.</p>\n\n<p>You can however determine the current mode by making a request to <code>/solr/admin/info/system?wt=json</code>. The JSON response will include a <code>mode</code> parameter:</p>\n\n<pre><code>\"mode\":\"solrcloud\",\n</code></pre>\n\n<p>This will tell you if Solr is running in cloud mode or standalone. Using your browser's developer tools' network pane is usually a good way to see all the information Solr exposes about itself through its API.</p>\n"},{"tags":[],"owner":{"account_id":1622848,"reputation":1,"user_id":1499055,"display_name":"user1499055"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676469998,"creation_date":1676146956,"answer_id":75423075,"question_id":60871585,"body_markdown":"Once on your Solr Administration User Interface, just make the following request on the browser :\r\n`http://enteryourservername:enteryourportno/solr/admin/info/system?wt=json`\r\n\r\nThe response returned will look something like this (look out for the value of `mode` which will be `std` for standalone and `solrcloud` for cloud based) -\r\n\r\n```\r\n{&quot;responseHeader&quot;:{&quot;status&quot;:0,&quot;QTime&quot;:0},&quot;mode&quot;:&quot;std&quot;,....\r\n```","title":"Java code to identify Solr server is running in Cloud or standalone mode","body":"<p>Once on your Solr Administration User Interface, just make the following request on the browser :\n<code>http://enteryourservername:enteryourportno/solr/admin/info/system?wt=json</code></p>\n<p>The response returned will look something like this (look out for the value of <code>mode</code> which will be <code>std</code> for standalone and <code>solrcloud</code> for cloud based) -</p>\n<pre><code>{&quot;responseHeader&quot;:{&quot;status&quot;:0,&quot;QTime&quot;:0},&quot;mode&quot;:&quot;std&quot;,....\n</code></pre>\n"}],"owner":{"account_id":9108441,"reputation":181,"user_id":6778015,"display_name":"Dhruvajyoti Chatterjee"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":460,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1676469998,"creation_date":1585239457,"question_id":60871585,"body_markdown":"I am new to Solr and I am using java application to list the collections using CollectionAdminReqest API. But it fails when server is in standalone mode.\r\n\r\nI want to know if there is any API that works for both modes. Or if there is any API to know the mode of running Solr server so that we use corresponding API based on that.\r\n   ","title":"Java code to identify Solr server is running in Cloud or standalone mode","body":"<p>I am new to Solr and I am using java application to list the collections using CollectionAdminReqest API. But it fails when server is in standalone mode.</p>\n\n<p>I want to know if there is any API that works for both modes. Or if there is any API to know the mode of running Solr server so that we use corresponding API based on that.</p>\n"},{"tags":["java","json","jackson","jackson-databind"],"owner":{"account_id":20423038,"reputation":43,"user_id":14983637,"display_name":"Grusat"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676469989,"creation_date":1676469989,"question_id":75461003,"body_markdown":"I am currently working on a java project where I need to save multiple objects whith some circular references. I decided to go with jackson but I am really lost because what I want to do seems too complex (hopefully not for you ;) ) \r\n\r\nI am probably going to be using custom serializer/deserializers but I need your expertise on how I could do that.\r\n\r\nFor a quick skeleton of the classes whose objects I want to save :\r\n\r\n\r\n```\r\npublic class Box {\r\n  BoxModel bm;\r\n  ArrayList&lt;Plug&gt; ins, outs;\r\n\r\n  // more properties\r\n}\r\n```\r\n\r\n```\r\npublic class Plug{\r\n  Box box;\r\n  ArrayList&lt;Plug&gt; after;\r\n  Plug before;\r\n\r\n  ArrayList&lt;Wire&gt; wireConnectedAfter;\r\n  Wire wireConnectedBefore;\r\n\r\n  // more properties\r\n}\r\n```\r\n\r\n```\r\npublic class Wire {\r\n  Plug plug1, plug2;\r\n\r\n  // more properties\r\n}\r\n```\r\n\r\nEvery object is referenced in my main class (MySketch) in a dedicated ArrayList :\r\n\r\n\r\n```\r\nArrayList&lt;Plug&gt; plugs = new ArrayList&lt;&gt;();\r\nArrayList&lt;Plug&gt; inputPlugs = new ArrayList&lt;&gt;();\r\nArrayList&lt;Plug&gt; outputPlugs = new ArrayList&lt;&gt;();\r\nArrayList&lt;BoxModel&gt; boxModels = new ArrayList&lt;&gt;();\r\nArrayList&lt;Box&gt; boxes = new ArrayList&lt;&gt;();\r\nArrayList&lt;Wire&gt; wires = new ArrayList&lt;&gt;();\r\n```\r\n\r\nThe goal for me would be to save all these `ArrayList`s into one json file like the one following (which I achieved) and be able to deserialize them again into the ArrayList of objects which I have no idea how to do.\r\n\r\n```\r\n{\r\n&quot;boxes&quot;: [\r\n  (all Box objects)\r\n],\r\n&quot;wires&quot;: [\r\n  (all Wire objects)\r\n],\r\n&quot;plugs&quot;: [\r\n  (all Plug objects)\r\n]\r\n}\r\n```\r\n\r\nFor saving I did something like that:\r\n\r\n```\r\nFile save = new File(&quot;data/test/test0.json&quot;);\r\nObjectMapper mapper = new ObjectMapper();\r\n\r\nMap&lt;String, Object&gt; map = new HashMap&lt;String, Object&gt;();\r\nmap.put(&quot;boxModels&quot;, sketch.boxModels);\r\nmap.put(&quot;boxes&quot;, sketch.boxes);\r\nmap.put(&quot;wires&quot;, sketch.wires);\r\nmap.put(&quot;plugs&quot;, sketch.plugs);\r\nmap.put(&quot;inputPlugs&quot;, sketch.inputPlugs);\r\nmap.put(&quot;outputPlugs&quot;, sketch.outputPlugs);\r\n\r\nmapper.writeValue(save, map);\r\n```\r\n\r\nFor now, my JSON Loader looks like :\r\n\r\n```\r\nObjectMapper mapper = new ObjectMapper();\r\nMap&lt;String, Object&gt; content = mapper.readValue(f, new TypeReference&lt;&gt;() {});\r\n\r\nArrayList&lt;Box&gt; boxes = mapper.convertValue(content.get(&quot;boxes&quot;), new TypeReference&lt;ArrayList&lt;Box&gt;&gt;(){});\r\n```\r\nBut I get an error :\r\n```\r\nException in thread &quot;main&quot; java.lang.IllegalArgumentException: Cannot construct instance of `src.Box` (no Creators, like default constructor, exist): cannot deserialize from Object value (no delegate- or property-based Creator)\r\n```\r\n\r\nThank you for any piece of information you can give me !","title":"Serialize/Deserialize complex referenced objects with Jackson","body":"<p>I am currently working on a java project where I need to save multiple objects whith some circular references. I decided to go with jackson but I am really lost because what I want to do seems too complex (hopefully not for you ;) )</p>\n<p>I am probably going to be using custom serializer/deserializers but I need your expertise on how I could do that.</p>\n<p>For a quick skeleton of the classes whose objects I want to save :</p>\n<pre><code>public class Box {\n  BoxModel bm;\n  ArrayList&lt;Plug&gt; ins, outs;\n\n  // more properties\n}\n</code></pre>\n<pre><code>public class Plug{\n  Box box;\n  ArrayList&lt;Plug&gt; after;\n  Plug before;\n\n  ArrayList&lt;Wire&gt; wireConnectedAfter;\n  Wire wireConnectedBefore;\n\n  // more properties\n}\n</code></pre>\n<pre><code>public class Wire {\n  Plug plug1, plug2;\n\n  // more properties\n}\n</code></pre>\n<p>Every object is referenced in my main class (MySketch) in a dedicated ArrayList :</p>\n<pre><code>ArrayList&lt;Plug&gt; plugs = new ArrayList&lt;&gt;();\nArrayList&lt;Plug&gt; inputPlugs = new ArrayList&lt;&gt;();\nArrayList&lt;Plug&gt; outputPlugs = new ArrayList&lt;&gt;();\nArrayList&lt;BoxModel&gt; boxModels = new ArrayList&lt;&gt;();\nArrayList&lt;Box&gt; boxes = new ArrayList&lt;&gt;();\nArrayList&lt;Wire&gt; wires = new ArrayList&lt;&gt;();\n</code></pre>\n<p>The goal for me would be to save all these <code>ArrayList</code>s into one json file like the one following (which I achieved) and be able to deserialize them again into the ArrayList of objects which I have no idea how to do.</p>\n<pre><code>{\n&quot;boxes&quot;: [\n  (all Box objects)\n],\n&quot;wires&quot;: [\n  (all Wire objects)\n],\n&quot;plugs&quot;: [\n  (all Plug objects)\n]\n}\n</code></pre>\n<p>For saving I did something like that:</p>\n<pre><code>File save = new File(&quot;data/test/test0.json&quot;);\nObjectMapper mapper = new ObjectMapper();\n\nMap&lt;String, Object&gt; map = new HashMap&lt;String, Object&gt;();\nmap.put(&quot;boxModels&quot;, sketch.boxModels);\nmap.put(&quot;boxes&quot;, sketch.boxes);\nmap.put(&quot;wires&quot;, sketch.wires);\nmap.put(&quot;plugs&quot;, sketch.plugs);\nmap.put(&quot;inputPlugs&quot;, sketch.inputPlugs);\nmap.put(&quot;outputPlugs&quot;, sketch.outputPlugs);\n\nmapper.writeValue(save, map);\n</code></pre>\n<p>For now, my JSON Loader looks like :</p>\n<pre><code>ObjectMapper mapper = new ObjectMapper();\nMap&lt;String, Object&gt; content = mapper.readValue(f, new TypeReference&lt;&gt;() {});\n\nArrayList&lt;Box&gt; boxes = mapper.convertValue(content.get(&quot;boxes&quot;), new TypeReference&lt;ArrayList&lt;Box&gt;&gt;(){});\n</code></pre>\n<p>But I get an error :</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.IllegalArgumentException: Cannot construct instance of `src.Box` (no Creators, like default constructor, exist): cannot deserialize from Object value (no delegate- or property-based Creator)\n</code></pre>\n<p>Thank you for any piece of information you can give me !</p>\n"},{"tags":["java","bigdecimal"],"comments":[{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":1,"creation_date":1676469202,"post_id":75460818,"comment_id":133142482,"body_markdown":"You&#39;ll get the same issue when you divide 1 by 3 to get 0.3333, then multiply it by 3 again. The issues is that the intermediate value is rounded. You can try to increase the scale, but it will not prevent rounding errors completely. I once had to use a scale of 15 or up just to get the same results as Excel...","body":"You&#39;ll get the same issue when you divide 1 by 3 to get 0.3333, then multiply it by 3 again. The issues is that the intermediate value is rounded. You can try to increase the scale, but it will not prevent rounding errors completely. I once had to use a scale of 15 or up just to get the same results as Excel..."},{"owner":{"account_id":17835,"reputation":303915,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":1,"creation_date":1676469270,"post_id":75460818,"comment_id":133142502,"body_markdown":"You can get exact results if you use [`RoundingMode.UNNECESSARY`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/math/RoundingMode.html#UNNECESSARY). But that will throw exceptions whenever a calculation would need rounding. I&#39;m not sure what you expect when you set up a finite MathContext.","body":"You can get exact results if you use <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/math/RoundingMode.html#UNNECESSARY\" rel=\"nofollow noreferrer\"><code>RoundingMode.UNNECESSARY</code></a>. But that will throw exceptions whenever a calculation would need rounding. I&#39;m not sure what you expect when you set up a finite MathContext."},{"owner":{"account_id":4218968,"reputation":4362,"user_id":3454208,"accept_rate":48,"display_name":"Varun"},"score":0,"creation_date":1676469340,"post_id":75460818,"comment_id":133142532,"body_markdown":"@RobSpoor I tried increasing the scale, But it is not consistent for all numbers.","body":"@RobSpoor I tried increasing the scale, But it is not consistent for all numbers."},{"owner":{"account_id":17835,"reputation":303915,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":6,"creation_date":1676469436,"post_id":75460818,"comment_id":133142574,"body_markdown":"@Varun: if you need *precise results for all numbers* then you probably need to do symbolic calculation or at the very least use a system that can store exact arbitrary fractions (i.e. it would store &quot;3/23&quot; instead of trying to resolve the number). Unless you can restrict &quot;all numbers&quot; to something more reasonable, `BigDecimal` won&#39;t be able to answer what you want.","body":"@Varun: if you need <i>precise results for all numbers</i> then you probably need to do symbolic calculation or at the very least use a system that can store exact arbitrary fractions (i.e. it would store &quot;3/23&quot; instead of trying to resolve the number). Unless you can restrict &quot;all numbers&quot; to something more reasonable, <code>BigDecimal</code> won&#39;t be able to answer what you want."},{"owner":{"account_id":4218968,"reputation":4362,"user_id":3454208,"accept_rate":48,"display_name":"Varun"},"score":0,"creation_date":1676469731,"post_id":75460818,"comment_id":133142674,"body_markdown":"@JoachimSauer Do you mean java is not capable of doing that?","body":"@JoachimSauer Do you mean java is not capable of doing that?"},{"owner":{"account_id":17835,"reputation":303915,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":5,"creation_date":1676469923,"post_id":75460818,"comment_id":133142737,"body_markdown":"No, I mean that `BigDecimal` isn&#39;t capable of doing that. `BigDecimal` can store arbitrary-length decimal expansions of numbers. Some fractions (like 1/3) don&#39;t have finite expansions, so any `BigDecimal` representation of it is necessarily rounded. That rounding introduces an error. Having more digits might reduce the error but can&#39;t fully remove it. If you need exact results for any handling of fractions, then you must store the fractions in some other way.","body":"No, I mean that <code>BigDecimal</code> isn&#39;t capable of doing that. <code>BigDecimal</code> can store arbitrary-length decimal expansions of numbers. Some fractions (like 1/3) don&#39;t have finite expansions, so any <code>BigDecimal</code> representation of it is necessarily rounded. That rounding introduces an error. Having more digits might reduce the error but can&#39;t fully remove it. If you need exact results for any handling of fractions, then you must store the fractions in some other way."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":3,"creation_date":1676469969,"post_id":75460818,"comment_id":133142750,"body_markdown":"Java is not capable representing decimal numbers to an infinite amount of precision.  It requires too much memory :-)","body":"Java is not capable representing decimal numbers to an infinite amount of precision.  It requires too much memory :-)"},{"owner":{"account_id":17835,"reputation":303915,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":2,"creation_date":1676470053,"post_id":75460818,"comment_id":133142784,"body_markdown":"`record Fraction (int dividend, int divisor) {}` ... now `new Fraction(3, 23)` can represent 3/23 **exactly**.","body":"<code>record Fraction (int dividend, int divisor) {}</code> ... now <code>new Fraction(3, 23)</code> can represent 3/23 <b>exactly</b>."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":3,"creation_date":1676470237,"post_id":75460818,"comment_id":133142866,"body_markdown":"Ah ... but that wouldn&#39;t work with Pi.  ([Except in Indiana ... almost](https://en.wikipedia.org/wiki/Indiana_Pi_Bill) :-) )","body":"Ah ... but that wouldn&#39;t work with Pi.  (<a href=\"https://en.wikipedia.org/wiki/Indiana_Pi_Bill\" rel=\"nofollow noreferrer\">Except in Indiana ... almost</a> :-) )"},{"owner":{"account_id":85671,"reputation":40858,"user_id":238704,"display_name":"President James K. Polk"},"score":0,"creation_date":1676555830,"post_id":75460818,"comment_id":133163371,"body_markdown":"It&#39;s not a dup but many of the same considerations apply: [is floating point math broken?](https://stackoverflow.com/q/588004/238704). BigDecimal uses a base-10 floating point representation.","body":"It&#39;s not a dup but many of the same considerations apply: <a href=\"https://stackoverflow.com/q/588004/238704\">is floating point math broken?</a>. BigDecimal uses a base-10 floating point representation."}],"owner":{"account_id":4218968,"reputation":4362,"user_id":3454208,"accept_rate":48,"display_name":"Varun"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":100,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676469693,"creation_date":1676469075,"question_id":75460818,"body_markdown":"I am puzzled by Java Bigdecimal behavior.\r\n\r\nLet&#39;s say I have `dividend = 3` and `divisor = 23`.\r\nfirst divide `3/23 = 0.130434783`\r\nOnce I multiply `0.130434783 * 23` I should get `3`.\r\nBigdicimal gives a different result for a different number. Is there any way to achieve a consistent result?\r\nI have tried with multiple combinations of numbers. some times it gives correct result some time does not\r\n\r\n\r\n    public static void main(String[] args) {\r\n        MathContext context = new MathContext(4, RoundingMode.HALF_UP);\r\n        BigDecimal dividend = new BigDecimal(3);\r\n        BigDecimal divisor = new BigDecimal(23);\r\n        BigDecimal ratio = dividend.divide(divisor, context);\r\n        System.out.println(&quot;Ratio :&quot; + ratio);\r\n        Double ratioInDouble = ratio.doubleValue();\r\n        System.out.println(ratio.toEngineeringString());\r\n        BigDecimal ans = (new BigDecimal(ratio.toEngineeringString()).multiply(divisor));\r\n        System.out.println(&quot;Engineering String :&quot; + ans);\r\n        System.out.println(ratio.multiply(divisor, context));\r\n        System.out.println(BigDecimal.valueOf(ratioInDouble).multiply(divisor, context));\r\n        System.out.println(&quot;HALF_UP :&quot; + BigDecimal.valueOf(ratioInDouble).multiply(divisor, new MathContext(4, RoundingMode.HALF_UP)));\r\n        System.out.println(&quot;HALF_DOWN :&quot; + BigDecimal.valueOf(ratioInDouble).multiply(divisor, new MathContext(4, RoundingMode.HALF_DOWN)));\r\n        System.out.println(&quot;CEILING :&quot; + BigDecimal.valueOf(ratioInDouble).multiply(divisor, new MathContext(4, RoundingMode.CEILING)));\r\n        System.out.println(&quot;DOWN :&quot; + BigDecimal.valueOf(ratioInDouble).multiply(divisor, new MathContext(4, RoundingMode.DOWN)));\r\n        System.out.println(&quot;UP :&quot; + BigDecimal.valueOf(ratioInDouble).multiply(divisor, new MathContext(4, RoundingMode.UP)));\r\n    }\r\n\r\nOutput\r\n\r\n\r\n    Ratio :0.1304\r\n    Multiplication  :69\r\n    0.1304\r\n    Engineering String :2.9992\r\n    2.999\r\n    2.999\r\n    HALF_UP :2.999\r\n    HALF_DOWN :2.999\r\n    CEILING :3.000\r\n    DOWN :2.999\r\n    UP :3.000\r\n    Just mul :2.9992\r\n\r\n\r\n","title":"Java BigDecimal divide and multiply with same no does not give correct result","body":"<p>I am puzzled by Java Bigdecimal behavior.</p>\n<p>Let's say I have <code>dividend = 3</code> and <code>divisor = 23</code>.\nfirst divide <code>3/23 = 0.130434783</code>\nOnce I multiply <code>0.130434783 * 23</code> I should get <code>3</code>.\nBigdicimal gives a different result for a different number. Is there any way to achieve a consistent result?\nI have tried with multiple combinations of numbers. some times it gives correct result some time does not</p>\n<pre><code>public static void main(String[] args) {\n    MathContext context = new MathContext(4, RoundingMode.HALF_UP);\n    BigDecimal dividend = new BigDecimal(3);\n    BigDecimal divisor = new BigDecimal(23);\n    BigDecimal ratio = dividend.divide(divisor, context);\n    System.out.println(&quot;Ratio :&quot; + ratio);\n    Double ratioInDouble = ratio.doubleValue();\n    System.out.println(ratio.toEngineeringString());\n    BigDecimal ans = (new BigDecimal(ratio.toEngineeringString()).multiply(divisor));\n    System.out.println(&quot;Engineering String :&quot; + ans);\n    System.out.println(ratio.multiply(divisor, context));\n    System.out.println(BigDecimal.valueOf(ratioInDouble).multiply(divisor, context));\n    System.out.println(&quot;HALF_UP :&quot; + BigDecimal.valueOf(ratioInDouble).multiply(divisor, new MathContext(4, RoundingMode.HALF_UP)));\n    System.out.println(&quot;HALF_DOWN :&quot; + BigDecimal.valueOf(ratioInDouble).multiply(divisor, new MathContext(4, RoundingMode.HALF_DOWN)));\n    System.out.println(&quot;CEILING :&quot; + BigDecimal.valueOf(ratioInDouble).multiply(divisor, new MathContext(4, RoundingMode.CEILING)));\n    System.out.println(&quot;DOWN :&quot; + BigDecimal.valueOf(ratioInDouble).multiply(divisor, new MathContext(4, RoundingMode.DOWN)));\n    System.out.println(&quot;UP :&quot; + BigDecimal.valueOf(ratioInDouble).multiply(divisor, new MathContext(4, RoundingMode.UP)));\n}\n</code></pre>\n<p>Output</p>\n<pre><code>Ratio :0.1304\nMultiplication  :69\n0.1304\nEngineering String :2.9992\n2.999\n2.999\nHALF_UP :2.999\nHALF_DOWN :2.999\nCEILING :3.000\nDOWN :2.999\nUP :3.000\nJust mul :2.9992\n</code></pre>\n"},{"tags":["java","testing","cucumber","karate"],"answers":[{"comments":[{"owner":{"account_id":9875840,"reputation":829,"user_id":7313637,"accept_rate":0,"display_name":"liotur"},"score":0,"creation_date":1676470346,"post_id":75460908,"comment_id":133142904,"body_markdown":"that&#39;s not good ((","body":"that&#39;s not good (("},{"owner":{"account_id":48302,"reputation":55363,"user_id":143475,"display_name":"Peter Thomas"},"score":0,"creation_date":1676471030,"post_id":75460908,"comment_id":133143167,"body_markdown":"@liotur we are always open to feedback, please let us know which is important for you and we will prioritize that","body":"@liotur we are always open to feedback, please let us know which is important for you and we will prioritize that"},{"owner":{"account_id":9875840,"reputation":829,"user_id":7313637,"accept_rate":0,"display_name":"liotur"},"score":1,"creation_date":1676483733,"post_id":75460908,"comment_id":133147631,"body_markdown":"Price is too high for such obvious and needed thing as debug. Debug should be free IMO :)","body":"Price is too high for such obvious and needed thing as debug. Debug should be free IMO :)"}],"tags":[],"owner":{"account_id":48302,"reputation":55363,"user_id":143475,"display_name":"Peter Thomas"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1676469512,"creation_date":1676469512,"answer_id":75460908,"question_id":75460270,"body_markdown":"Right now you can debug a feature file if you use the run-configuration as shown in this video: https://youtu.be/w6V8rKOtyyg\r\n\r\nWe don&#39;t yet support debugging in JS blocks. \r\n\r\nYou need to be on the paid version of the plugin for feature-file debugging to work.","title":"Debug karate features in IntelliJ Idea","body":"<p>Right now you can debug a feature file if you use the run-configuration as shown in this video: <a href=\"https://youtu.be/w6V8rKOtyyg\" rel=\"nofollow noreferrer\">https://youtu.be/w6V8rKOtyyg</a></p>\n<p>We don't yet support debugging in JS blocks.</p>\n<p>You need to be on the paid version of the plugin for feature-file debugging to work.</p>\n"}],"owner":{"account_id":9875840,"reputation":829,"user_id":7313637,"accept_rate":0,"display_name":"liotur"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":538,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75460908,"answer_count":1,"score":1,"last_activity_date":1676469512,"creation_date":1676466537,"question_id":75460270,"body_markdown":"I have test\r\n\r\n      @Test\r\n      public void myTest() {\r\n        Results results = Runner.path(&quot;classpath:features/myFeature.feature&quot;).parallel(1);\r\n        Assert.assertEquals(results.getErrorMessages(), 0, results.getFailCount());\r\n      }\r\n\r\nFeature looks like this \r\n\r\n         \r\n     * def myVariable =\r\n        &quot;&quot;&quot;\r\n        function(x, y)\r\n        {\r\n            functionBody...\r\n        }\r\n        &quot;&quot;&quot;\r\n\r\n     Scenario: My scenario\r\n         * kafkaClient.publish(...)\r\n         * def result = myVariable(...)\r\n         And assert result != null\r\n\r\n\r\nI installed karate plugin, now in feature I see the syntax highlighting, however there is no ability to put breakpoint in feature.\r\n\r\nI use karate version 1.2.0\r\n\r\nHow I can debug features? I want to stop at (* def result) line for example, or I want to debug js function (functionBody...). Is there any proper way to do so? \r\n  \r\n","title":"Debug karate features in IntelliJ Idea","body":"<p>I have test</p>\n<pre><code>  @Test\n  public void myTest() {\n    Results results = Runner.path(&quot;classpath:features/myFeature.feature&quot;).parallel(1);\n    Assert.assertEquals(results.getErrorMessages(), 0, results.getFailCount());\n  }\n</code></pre>\n<p>Feature looks like this</p>\n<pre><code> * def myVariable =\n    &quot;&quot;&quot;\n    function(x, y)\n    {\n        functionBody...\n    }\n    &quot;&quot;&quot;\n\n Scenario: My scenario\n     * kafkaClient.publish(...)\n     * def result = myVariable(...)\n     And assert result != null\n</code></pre>\n<p>I installed karate plugin, now in feature I see the syntax highlighting, however there is no ability to put breakpoint in feature.</p>\n<p>I use karate version 1.2.0</p>\n<p>How I can debug features? I want to stop at (* def result) line for example, or I want to debug js function (functionBody...). Is there any proper way to do so?</p>\n"},{"tags":["java","simpledateformat","parseexception"],"answers":[{"tags":[],"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"comment_count":0,"down_vote_count":0,"up_vote_count":14,"is_accepted":true,"score":14,"last_activity_date":1323334750,"creation_date":1323334111,"answer_id":8428350,"question_id":8428313,"body_markdown":"The JavaDoc on `parse(...)` states the following:\r\n\r\n&gt; parsing does not necessarily use all characters up to the end of the string\r\n\r\nIt seems like you can&#39;t make `SimpleDateFormat` throw an exception, but you can do the following: \r\n\r\n    SimpleDateFormat sdf = new SimpleDateFormat(&quot;yyyy/MM/d&quot;);\r\n    sdf.setLenient(false);\r\n    ParsePosition p = new ParsePosition( 0 );\r\n    String t1 = &quot;2011/12/12aaa&quot;;    \r\n    System.out.println(sdf.parse(t1,p));\r\n    \r\n    if(p.getIndex() &lt; t1.length()) {\r\n      throw new ParseException( t1, p.getIndex() );\r\n    }\r\n\r\nBasically, you check whether the parse consumed the entire string and if not you have invalid input.","title":"SimpleDateFormat parse(string str) doesn&#39;t throw an exception when str = 2011/12/12aaaaaaaaa?","body":"<p>The JavaDoc on <code>parse(...)</code> states the following:</p>\n\n<blockquote>\n  <p>parsing does not necessarily use all characters up to the end of the string</p>\n</blockquote>\n\n<p>It seems like you can't make <code>SimpleDateFormat</code> throw an exception, but you can do the following: </p>\n\n<pre><code>SimpleDateFormat sdf = new SimpleDateFormat(\"yyyy/MM/d\");\nsdf.setLenient(false);\nParsePosition p = new ParsePosition( 0 );\nString t1 = \"2011/12/12aaa\";    \nSystem.out.println(sdf.parse(t1,p));\n\nif(p.getIndex() &lt; t1.length()) {\n  throw new ParseException( t1, p.getIndex() );\n}\n</code></pre>\n\n<p>Basically, you check whether the parse consumed the entire string and if not you have invalid input.</p>\n"},{"comments":[{"owner":{"account_id":223197,"reputation":873,"user_id":482249,"accept_rate":63,"display_name":"Terminal User"},"score":2,"creation_date":1323334647,"post_id":8428418,"comment_id":10413884,"body_markdown":"I think parse method only care about the start pos, not the end pos. isLenient doesn&#39;t work","body":"I think parse method only care about the start pos, not the end pos. isLenient doesn&#39;t work"},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":1,"creation_date":1323334910,"post_id":8428418,"comment_id":10413947,"body_markdown":"When linking JavaDocs, please try to link the current version (which is 7, not 1.4.2).","body":"When linking JavaDocs, please try to link the current version (which is 7, not 1.4.2)."},{"owner":{"account_id":65983,"reputation":9310,"user_id":193850,"accept_rate":85,"display_name":"Michel"},"score":0,"creation_date":1323335280,"post_id":8428418,"comment_id":10414043,"body_markdown":"@TerminalUser mm I tried it myself with an example but setLeniet() doesn&#39;t seems to work and ParsePosition only works when there is actually a exception thrown. You can check if both Strings have the same length after parseing without an Exception and then throw an exception manual. Not fully what you request but...","body":"@TerminalUser mm I tried it myself with an example but setLeniet() doesn&#39;t seems to work and ParsePosition only works when there is actually a exception thrown. You can check if both Strings have the same length after parseing without an Exception and then throw an exception manual. Not fully what you request but..."}],"tags":[],"owner":{"account_id":65983,"reputation":9310,"user_id":193850,"accept_rate":85,"display_name":"Michel"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1323335060,"creation_date":1323334421,"answer_id":8428418,"question_id":8428313,"body_markdown":"You can use the `ParsePosition` class or the `sdf.setLenient(false)` function\r\n\r\n\r\nDocs:\r\n[http://docs.oracle.com/javase/7/docs/api/java/text/ParsePosition.html][1]\r\n[http://docs.oracle.com/javase/7/docs/api/java/text/DateFormat.html#setLenient(boolean)][2]\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/text/ParsePosition.html\r\n  [2]:http://docs.oracle.com/javase/7/docs/api/java/text/DateFormat.html#setLenient(boolean)","title":"SimpleDateFormat parse(string str) doesn&#39;t throw an exception when str = 2011/12/12aaaaaaaaa?","body":"<p>You can use the <code>ParsePosition</code> class or the <code>sdf.setLenient(false)</code> function</p>\n\n<p>Docs:\n<a href=\"http://docs.oracle.com/javase/7/docs/api/java/text/ParsePosition.html\" rel=\"nofollow\">http://docs.oracle.com/javase/7/docs/api/java/text/ParsePosition.html</a>\n<a href=\"http://docs.oracle.com/javase/7/docs/api/java/text/DateFormat.html#setLenient%28boolean%29\" rel=\"nofollow\">http://docs.oracle.com/javase/7/docs/api/java/text/DateFormat.html#setLenient(boolean)</a></p>\n"},{"tags":[],"owner":{"account_id":115974,"reputation":16225,"user_id":304285,"accept_rate":86,"display_name":"amra"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1323334687,"creation_date":1323334687,"answer_id":8428459,"question_id":8428313,"body_markdown":"Take a look on the method documentation which says: `ParseException if the beginning of the specified string cannot be parsed`.\r\n\r\nMethod source code with javadoc: \r\n\r\n    /**\r\n     * Parses text from the beginning of the given string to produce a date.\r\n     * The method may not use the entire text of the given string.\r\n     * &lt;p&gt;\r\n     * See the {@link #parse(String, ParsePosition)} method for more information\r\n     * on date parsing.\r\n     *\r\n     * @param source A &lt;code&gt;String&lt;/code&gt; whose beginning should be parsed.\r\n     * @return A &lt;code&gt;Date&lt;/code&gt; parsed from the string.\r\n     * @exception ParseException if the beginning of the specified string\r\n     *            cannot be parsed.\r\n     */\r\n    public Date parse(String source) throws ParseException\r\n    {\r\n        ParsePosition pos = new ParsePosition(0);\r\n        Date result = parse(source, pos);\r\n        if (pos.index == 0)\r\n            throw new ParseException(&quot;Unparseable date: \\&quot;&quot; + source + &quot;\\&quot;&quot; ,\r\n                pos.errorIndex);\r\n        return result;\r\n    }","title":"SimpleDateFormat parse(string str) doesn&#39;t throw an exception when str = 2011/12/12aaaaaaaaa?","body":"<p>Take a look on the method documentation which says: <code>ParseException if the beginning of the specified string cannot be parsed</code>.</p>\n\n<p>Method source code with javadoc: </p>\n\n<pre><code>/**\n * Parses text from the beginning of the given string to produce a date.\n * The method may not use the entire text of the given string.\n * &lt;p&gt;\n * See the {@link #parse(String, ParsePosition)} method for more information\n * on date parsing.\n *\n * @param source A &lt;code&gt;String&lt;/code&gt; whose beginning should be parsed.\n * @return A &lt;code&gt;Date&lt;/code&gt; parsed from the string.\n * @exception ParseException if the beginning of the specified string\n *            cannot be parsed.\n */\npublic Date parse(String source) throws ParseException\n{\n    ParsePosition pos = new ParsePosition(0);\n    Date result = parse(source, pos);\n    if (pos.index == 0)\n        throw new ParseException(\"Unparseable date: \\\"\" + source + \"\\\"\" ,\n            pos.errorIndex);\n    return result;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":67532,"reputation":15704,"user_id":197574,"accept_rate":83,"display_name":"DerMike"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1323335008,"creation_date":1323335008,"answer_id":8428517,"question_id":8428313,"body_markdown":"After it successfully parsed the entire pattern string `SimpleDateFormat` stops evaluating the data it was given to parse.","title":"SimpleDateFormat parse(string str) doesn&#39;t throw an exception when str = 2011/12/12aaaaaaaaa?","body":"<p>After it successfully parsed the entire pattern string <code>SimpleDateFormat</code> stops evaluating the data it was given to parse.</p>\n"},{"tags":[],"owner":{"account_id":38907,"reputation":53159,"user_id":111988,"accept_rate":74,"display_name":"Sunil Kumar Sahoo"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1323337589,"creation_date":1323337589,"answer_id":8428992,"question_id":8428313,"body_markdown":"**To chack whether a date is valid**\r\nThe following method returns if the date is in valid otherwise it will return false.\r\n\r\n    public boolean isValidDate(String date) {\r\n    \t\t\r\n    \t\tSimpleDateFormat sdf = new SimpleDateFormat(&quot;yyyy/MM/d&quot;);\r\n    \t\tDate testDate = null;\r\n    \t\ttry {\r\n    \t\t\ttestDate = sdf.parse(date);\r\n    \t\t}\r\n    \t\tcatch (ParseException e) {\r\n    \t\t\treturn false;\r\n    \t\t}\r\n    \t\tif (!sdf.format(testDate).equals(date)) {\r\n    \t\t\treturn false;\r\n    \t\t}\r\n    \t\treturn true;\r\n    \r\n    \t}\r\n\r\n\r\nHave a look on the following class which can check whether the date is valid or not\r\n\r\n** Sample Example**\r\n\r\n\r\n\r\n    import java.text.ParseException;\r\n    import java.text.SimpleDateFormat;\r\n    import java.util.Date;\r\n    \r\n    public class DateValidCheck {\r\n    \t\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\t\r\n    \t\tif(new DateValidCheck().isValidDate(&quot;2011/12/12aaa&quot;)){\r\n    \t\t\tSystem.out.println(&quot;...date is valid&quot;);\r\n    \t\t}else{\r\n    \t\t\tSystem.out.println(&quot;...date is invalid...&quot;);\r\n    \t\t}\r\n    \r\n    \t}\r\n    \r\n    \t\r\n    \tpublic boolean isValidDate(String date) {\r\n    \t\t\r\n    \t\tSimpleDateFormat sdf = new SimpleDateFormat(&quot;yyyy/MM/d&quot;);\r\n    \t\tDate testDate = null;\r\n    \t\ttry {\r\n    \t\t\ttestDate = sdf.parse(date);\r\n    \t\t}\r\n    \t\tcatch (ParseException e) {\r\n    \t\t\treturn false;\r\n    \t\t}\r\n    \t\tif (!sdf.format(testDate).equals(date)) {\r\n    \t\t\treturn false;\r\n    \t\t}\r\n    \t\treturn true;\r\n    \r\n    \t}\r\n    \r\n    }\r\n\r\n","title":"SimpleDateFormat parse(string str) doesn&#39;t throw an exception when str = 2011/12/12aaaaaaaaa?","body":"<p><strong>To chack whether a date is valid</strong>\nThe following method returns if the date is in valid otherwise it will return false.</p>\n\n<pre><code>public boolean isValidDate(String date) {\n\n        SimpleDateFormat sdf = new SimpleDateFormat(\"yyyy/MM/d\");\n        Date testDate = null;\n        try {\n            testDate = sdf.parse(date);\n        }\n        catch (ParseException e) {\n            return false;\n        }\n        if (!sdf.format(testDate).equals(date)) {\n            return false;\n        }\n        return true;\n\n    }\n</code></pre>\n\n<p>Have a look on the following class which can check whether the date is valid or not</p>\n\n<p>** Sample Example**</p>\n\n<pre><code>import java.text.ParseException;\nimport java.text.SimpleDateFormat;\nimport java.util.Date;\n\npublic class DateValidCheck {\n\n\n    public static void main(String[] args) {\n\n        if(new DateValidCheck().isValidDate(\"2011/12/12aaa\")){\n            System.out.println(\"...date is valid\");\n        }else{\n            System.out.println(\"...date is invalid...\");\n        }\n\n    }\n\n\n    public boolean isValidDate(String date) {\n\n        SimpleDateFormat sdf = new SimpleDateFormat(\"yyyy/MM/d\");\n        Date testDate = null;\n        try {\n            testDate = sdf.parse(date);\n        }\n        catch (ParseException e) {\n            return false;\n        }\n        if (!sdf.format(testDate).equals(date)) {\n            return false;\n        }\n        return true;\n\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2142792,"reputation":1932,"user_id":1901067,"display_name":"David"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1644483348,"creation_date":1494923191,"answer_id":43996154,"question_id":8428313,"body_markdown":"Java 8 LocalDate may be used:\r\n\r\n    public static boolean isDate(String date) {\r\n        try {\r\n            LocalDate.parse(date, DateTimeFormatter.ofPattern(&quot;yyyy/MM/dd&quot;));\r\n            return true;\r\n        } catch (DateTimeParseException e) {\r\n            return false;\r\n        }\r\n    }\r\n\r\nIf input argument is `&quot;2011/12/12aaaaaaaaa&quot;`, output is `false`;\r\n\r\nIf input argument is `&quot;2011/12/12&quot;`, output is `true`","title":"SimpleDateFormat parse(string str) doesn&#39;t throw an exception when str = 2011/12/12aaaaaaaaa?","body":"<p>Java 8 LocalDate may be used:</p>\n<pre><code>public static boolean isDate(String date) {\n    try {\n        LocalDate.parse(date, DateTimeFormatter.ofPattern(&quot;yyyy/MM/dd&quot;));\n        return true;\n    } catch (DateTimeParseException e) {\n        return false;\n    }\n}\n</code></pre>\n<p>If input argument is <code>&quot;2011/12/12aaaaaaaaa&quot;</code>, output is <code>false</code>;</p>\n<p>If input argument is <code>&quot;2011/12/12&quot;</code>, output is <code>true</code></p>\n"},{"tags":[],"owner":{"account_id":15732596,"reputation":1,"user_id":11352563,"display_name":"Manoj Kancherla"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1555085581,"creation_date":1555084881,"answer_id":55655559,"question_id":8428313,"body_markdown":"Simply setting `sdf.setLenient(false)` will do the trick..","title":"SimpleDateFormat parse(string str) doesn&#39;t throw an exception when str = 2011/12/12aaaaaaaaa?","body":"<p>Simply setting <code>sdf.setLenient(false)</code> will do the trick..</p>\n"}],"owner":{"account_id":223197,"reputation":873,"user_id":482249,"accept_rate":63,"display_name":"Terminal User"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14948,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"accepted_answer_id":8428350,"answer_count":7,"score":12,"last_activity_date":1676469476,"creation_date":1323333882,"question_id":8428313,"body_markdown":"Here is an example:\r\n\r\n    public MyDate() throws ParseException {\r\n        SimpleDateFormat sdf = new SimpleDateFormat(&quot;yyyy/MM/d&quot;);\r\n        sdf.setLenient(false);\r\n        String t1 = &quot;2011/12/12aaa&quot;;\r\n        System.out.println(sdf.parse(t1));\r\n    }\r\n\r\n2011/12/12aaa is not a valid date string. However the function prints &quot;Mon Dec 12 00:00:00 PST 2011&quot; and ParseException isn&#39;t thrown.\r\n\r\nCan anyone tell me how to let SimpleDateFormat treat &quot;2011/12/12aaa&quot; as an invalid date string and throw an exception?","title":"SimpleDateFormat parse(string str) doesn&#39;t throw an exception when str = 2011/12/12aaaaaaaaa?","body":"<p>Here is an example:</p>\n\n<pre><code>public MyDate() throws ParseException {\n    SimpleDateFormat sdf = new SimpleDateFormat(\"yyyy/MM/d\");\n    sdf.setLenient(false);\n    String t1 = \"2011/12/12aaa\";\n    System.out.println(sdf.parse(t1));\n}\n</code></pre>\n\n<p>2011/12/12aaa is not a valid date string. However the function prints \"Mon Dec 12 00:00:00 PST 2011\" and ParseException isn't thrown.</p>\n\n<p>Can anyone tell me how to let SimpleDateFormat treat \"2011/12/12aaa\" as an invalid date string and throw an exception?</p>\n"},{"tags":["java","maven","maven-3","maven-plugin"],"answers":[{"comments":[{"owner":{"account_id":184746,"reputation":2816,"user_id":420996,"accept_rate":40,"display_name":"Kiran Mohan"},"score":0,"creation_date":1676461593,"post_id":75440302,"comment_id":133140077,"body_markdown":"This alias suggestions doesn&#39;t work. Renaming the variables doesn&#39;t the meet requirements in the question.","body":"This alias suggestions doesn&#39;t work. Renaming the variables doesn&#39;t the meet requirements in the question."},{"owner":{"account_id":184746,"reputation":2816,"user_id":420996,"accept_rate":40,"display_name":"Kiran Mohan"},"score":0,"creation_date":1676463873,"post_id":75440302,"comment_id":133140762,"body_markdown":"Actually the alias suggestion is working after updating the versions as mentioned in Slawomir Jaranowski&#39;s post.","body":"Actually the alias suggestion is working after updating the versions as mentioned in Slawomir Jaranowski&#39;s post."}],"tags":[],"owner":{"account_id":1262922,"reputation":2194,"user_id":1220802,"display_name":"rph"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1676315742,"creation_date":1676315742,"answer_id":75440302,"question_id":75439519,"body_markdown":"If I remember correctly, when the annotation has `property = destinationDirectory`, it will read a system property from system properties (e.g. `-D`) or pom properties, unless a configuration section is specified in the XML.\r\n\r\n```\r\nmvn generate-resources -DdestinationDirectory=/path/to/dir\r\n```\r\n\r\nIf a configuration is specified in the XML, which is the case in your example, the name of the configuration will match either the name of the variable or the specified alias, if any. You can try the following options and check if it solves the issue:\r\n\r\n**Setting an alias:**\r\n```java\r\n@Parameter(alias = &quot;destinationDirectory&quot;, defaultValue = &quot;${project.build.directory}/generated-resources&quot;)\r\nprivate String _destinationDirectory;\r\n```\r\n\r\n**Renaming the variable:**\r\n```java\r\n@Parameter(defaultValue = &quot;${project.build.directory}/generated-resources&quot;)\r\nprivate String destinationDirectory;\r\n```\r\n\r\nIt&#39;s usually a good practice to keep the name of the configuration and the variables consistent, for easier maintenance.","title":"maven plugin api: @Paramerter using setters doesn&#39;t work","body":"<p>If I remember correctly, when the annotation has <code>property = destinationDirectory</code>, it will read a system property from system properties (e.g. <code>-D</code>) or pom properties, unless a configuration section is specified in the XML.</p>\n<pre><code>mvn generate-resources -DdestinationDirectory=/path/to/dir\n</code></pre>\n<p>If a configuration is specified in the XML, which is the case in your example, the name of the configuration will match either the name of the variable or the specified alias, if any. You can try the following options and check if it solves the issue:</p>\n<p><strong>Setting an alias:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>@Parameter(alias = &quot;destinationDirectory&quot;, defaultValue = &quot;${project.build.directory}/generated-resources&quot;)\nprivate String _destinationDirectory;\n</code></pre>\n<p><strong>Renaming the variable:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>@Parameter(defaultValue = &quot;${project.build.directory}/generated-resources&quot;)\nprivate String destinationDirectory;\n</code></pre>\n<p>It's usually a good practice to keep the name of the configuration and the variables consistent, for easier maintenance.</p>\n"},{"comments":[{"owner":{"account_id":184746,"reputation":2816,"user_id":420996,"accept_rate":40,"display_name":"Kiran Mohan"},"score":0,"creation_date":1676462057,"post_id":75440800,"comment_id":133140200,"body_markdown":"It worked. Does it mean the Maven documentation is incorrect?","body":"It worked. Does it mean the Maven documentation is incorrect?"},{"owner":{"account_id":184746,"reputation":2816,"user_id":420996,"accept_rate":40,"display_name":"Kiran Mohan"},"score":0,"creation_date":1676464005,"post_id":75440800,"comment_id":133140801,"body_markdown":"I think the documentation is correct when using 3.7.1. But the mojo archetype generated the skeleton code with older versions.","body":"I think the documentation is correct when using 3.7.1. But the mojo archetype generated the skeleton code with older versions."},{"owner":{"account_id":3793708,"reputation":7679,"user_id":3149528,"accept_rate":50,"display_name":"Slawomir Jaranowski"},"score":0,"creation_date":1676469327,"post_id":75440800,"comment_id":133142528,"body_markdown":"Yes documentation is incorrect - I will fix it also soon :-)","body":"Yes documentation is incorrect - I will fix it also soon :-)"},{"owner":{"account_id":184746,"reputation":2816,"user_id":420996,"accept_rate":40,"display_name":"Kiran Mohan"},"score":0,"creation_date":1677517104,"post_id":75440800,"comment_id":133349163,"body_markdown":"Does the @Parameter annotation on public setter methods work for collections and array types?","body":"Does the @Parameter annotation on public setter methods work for collections and array types?"},{"owner":{"account_id":3793708,"reputation":7679,"user_id":3149528,"accept_rate":50,"display_name":"Slawomir Jaranowski"},"score":0,"creation_date":1677523819,"post_id":75440800,"comment_id":133351057,"body_markdown":"@Parameter annotation on public setter methods should works for collections and arrays","body":"@Parameter annotation on public setter methods should works for collections and arrays"}],"tags":[],"owner":{"account_id":3793708,"reputation":7679,"user_id":3149528,"accept_rate":50,"display_name":"Slawomir Jaranowski"},"comment_count":5,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1676319692,"creation_date":1676319692,"answer_id":75440800,"question_id":75439519,"body_markdown":"From `maven-plugin-plugin` version `3.7.0` you can simply add `@Parameter` annotation on public setter methods.\r\n\r\nYou code can looks like:\r\n\r\n```java\r\n\r\n@Parameter(...)\r\npublic void setDestinationDirectory(String destinationDirectory) {\r\n...\r\n}\r\n```\r\n\r\nYou also need to define version of `maven-plugin-plugin` and `maven-plugin-annotations` dependency in your `pom.xml` - both should have the same version.\r\n\r\n\r\n```xml\r\n&lt;project&gt;\r\n\r\n&lt;properties&gt;\r\n  &lt;maven-plugin-tools.version&gt;3.7.1&lt;/maven-plugin-tools.version&gt;\r\n&lt;/properties&gt;\r\n\r\n&lt;dependencies&gt;\r\n  &lt;dependency&gt;\r\n    &lt;groupId&gt;org.apache.maven.plugin-tools&lt;/groupId&gt;\r\n    &lt;artifactId&gt;maven-plugin-annotations&lt;/artifactId&gt;\r\n    &lt;scope&gt;provided&lt;/scope&gt;\r\n    &lt;version&gt;${maven-plugin-tools.version&lt;/version&gt;\r\n  &lt;/dependency&gt;\r\n&lt;/dependencies&gt;\r\n\r\n&lt;build&gt;\r\n  &lt;pluginManagement&gt;\r\n    &lt;plugin&gt;\r\n      &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n      &lt;artifactId&gt;maven-plugin-plugin&lt;/artifactId&gt;\r\n      &lt;version&gt;${maven-plugin-tools.version}&lt;/version&gt;\r\n      &lt;executions&gt;\r\n        &lt;execution&gt;\r\n          &lt;id&gt;help-mojo&lt;/id&gt;\r\n          &lt;goals&gt;\r\n            &lt;goal&gt;helpmojo&lt;/goal&gt;\r\n          &lt;/goals&gt;\r\n        &lt;/execution&gt;\r\n      &lt;/executions&gt;\r\n    &lt;/plugin&gt;\r\n  &lt;/pluginManagement&gt;\r\n&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```","title":"maven plugin api: @Paramerter using setters doesn&#39;t work","body":"<p>From <code>maven-plugin-plugin</code> version <code>3.7.0</code> you can simply add <code>@Parameter</code> annotation on public setter methods.</p>\n<p>You code can looks like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n@Parameter(...)\npublic void setDestinationDirectory(String destinationDirectory) {\n...\n}\n</code></pre>\n<p>You also need to define version of <code>maven-plugin-plugin</code> and <code>maven-plugin-annotations</code> dependency in your <code>pom.xml</code> - both should have the same version.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;project&gt;\n\n&lt;properties&gt;\n  &lt;maven-plugin-tools.version&gt;3.7.1&lt;/maven-plugin-tools.version&gt;\n&lt;/properties&gt;\n\n&lt;dependencies&gt;\n  &lt;dependency&gt;\n    &lt;groupId&gt;org.apache.maven.plugin-tools&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-plugin-annotations&lt;/artifactId&gt;\n    &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;version&gt;${maven-plugin-tools.version&lt;/version&gt;\n  &lt;/dependency&gt;\n&lt;/dependencies&gt;\n\n&lt;build&gt;\n  &lt;pluginManagement&gt;\n    &lt;plugin&gt;\n      &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n      &lt;artifactId&gt;maven-plugin-plugin&lt;/artifactId&gt;\n      &lt;version&gt;${maven-plugin-tools.version}&lt;/version&gt;\n      &lt;executions&gt;\n        &lt;execution&gt;\n          &lt;id&gt;help-mojo&lt;/id&gt;\n          &lt;goals&gt;\n            &lt;goal&gt;helpmojo&lt;/goal&gt;\n          &lt;/goals&gt;\n        &lt;/execution&gt;\n      &lt;/executions&gt;\n    &lt;/plugin&gt;\n  &lt;/pluginManagement&gt;\n&lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n"}],"owner":{"account_id":184746,"reputation":2816,"user_id":420996,"accept_rate":40,"display_name":"Kiran Mohan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":75,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75440800,"answer_count":2,"score":1,"last_activity_date":1676469403,"creation_date":1676310600,"question_id":75439519,"body_markdown":"I am writing a custom maven-plugin for my project. Following the instructions mentioned here \r\nhttps://maven.apache.org/guides/plugin/guide-java-plugin-development.html#using-setters I added a @Parameter using setters as shown below.\r\n\r\n```java\r\n@Parameter(property = &quot;destinationDirectory&quot;, defaultValue = &quot;${project.build.directory}/generated-resources&quot;)\r\nprivate String _destinationDirectory;\r\nprivate Path dstDirRoot;\r\n\r\npublic void setDestinationDirectory(String destinationDirectory) {\r\n    Path dstDir = Paths.get(destinationDirectory);\r\n    if (dstDir.isAbsolute()) {\r\n         this._destinationDirectory = dstDir.toString();\r\n    } else {\r\n         this._destinationDirectory = Paths.get(baseDir, dstDir.toString()).toString();\r\n    }\r\n    dstDirRoot = Paths.get(this._destinationDirectory);\r\n}\r\n```\r\n\r\nPom.xml entries on the usage side\r\n\r\n```xml\r\n&lt;plugin&gt;\r\n    &lt;groupId&gt;com.me.maven&lt;/groupId&gt;\r\n    &lt;artifactId&gt;my-maven-plugin&lt;/artifactId&gt;\r\n    &lt;version&gt;${project.version}&lt;/version&gt;\r\n    &lt;executions&gt;\r\n        &lt;execution&gt;\r\n            &lt;goals&gt;\r\n                &lt;goal&gt;run&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n            &lt;phase&gt;generate-resources&lt;/phase&gt;\r\n        &lt;/execution&gt;\r\n    &lt;/executions&gt;\r\n    &lt;configuration&gt;\r\n         &lt;destinationDirectory&gt;${project.build.directory}/myDir&lt;/destinationDirectory&gt;\r\n    &lt;/configuration&gt;\r\n&lt;/plugin&gt;\r\n```\r\n\r\nNow, I was expecting that during the plugin execution, it would call `setDestinationDirectory` method. But it doesn&#39;t. `@Parameter(property=&quot;...&quot;)` doesn&#39;t seem to have any impact.\r\n\r\nIs this a bug? Or am I missing something?","title":"maven plugin api: @Paramerter using setters doesn&#39;t work","body":"<p>I am writing a custom maven-plugin for my project. Following the instructions mentioned here\n<a href=\"https://maven.apache.org/guides/plugin/guide-java-plugin-development.html#using-setters\" rel=\"nofollow noreferrer\">https://maven.apache.org/guides/plugin/guide-java-plugin-development.html#using-setters</a> I added a @Parameter using setters as shown below.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Parameter(property = &quot;destinationDirectory&quot;, defaultValue = &quot;${project.build.directory}/generated-resources&quot;)\nprivate String _destinationDirectory;\nprivate Path dstDirRoot;\n\npublic void setDestinationDirectory(String destinationDirectory) {\n    Path dstDir = Paths.get(destinationDirectory);\n    if (dstDir.isAbsolute()) {\n         this._destinationDirectory = dstDir.toString();\n    } else {\n         this._destinationDirectory = Paths.get(baseDir, dstDir.toString()).toString();\n    }\n    dstDirRoot = Paths.get(this._destinationDirectory);\n}\n</code></pre>\n<p>Pom.xml entries on the usage side</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;plugin&gt;\n    &lt;groupId&gt;com.me.maven&lt;/groupId&gt;\n    &lt;artifactId&gt;my-maven-plugin&lt;/artifactId&gt;\n    &lt;version&gt;${project.version}&lt;/version&gt;\n    &lt;executions&gt;\n        &lt;execution&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;run&lt;/goal&gt;\n            &lt;/goals&gt;\n            &lt;phase&gt;generate-resources&lt;/phase&gt;\n        &lt;/execution&gt;\n    &lt;/executions&gt;\n    &lt;configuration&gt;\n         &lt;destinationDirectory&gt;${project.build.directory}/myDir&lt;/destinationDirectory&gt;\n    &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>Now, I was expecting that during the plugin execution, it would call <code>setDestinationDirectory</code> method. But it doesn't. <code>@Parameter(property=&quot;...&quot;)</code> doesn't seem to have any impact.</p>\n<p>Is this a bug? Or am I missing something?</p>\n"},{"tags":["java","spring-webflux","spring-webclient"],"owner":{"account_id":27793846,"reputation":11,"user_id":21219791,"display_name":"Raghav Agarwal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":109,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1676468846,"creation_date":1676468846,"question_id":75460775,"body_markdown":"The below function is using Flux &lt;DataBuffer&gt;\r\n\r\nWe are release DataBuffer dataBufferTemp, however we are unable to find function to release Flux &lt;DataBuffer&gt;.\r\n\r\nWe are seeing exception:\r\n\r\n` ByteBuf.release() was not called before it&#39;s garbage-collected`\r\n```\r\n\r\nprivate File createFileFromDataBuffer(Flux&lt;DataBuffer&gt; dataBuffer, String fileName, int timeoutInMin) {\r\n\r\n        File tempFile = null;\r\n        DataBuffer dataBufferTemp = null;\r\n\r\n        try {\r\n            Path tempDir = Files.createTempDirectory(&quot;xyz&quot;);\r\n            tempFile = new File(String.valueOf(tempDir), fileName);\r\n\r\n            try (OutputStream os = new FileOutputStream(tempFile)) {\r\n                dataBufferTemp = DataBufferUtils.write(dataBuffer, os)\r\n                        .share()\r\n                        .blockLast(Duration.ofMinutes(timeoutInMin));\r\n            }\r\n        } catch (IOException e) {\r\n            log.error(&quot;Error in API, &quot;, e);\r\n        } finally {\r\n            if (Objects.nonNull(dataBufferTemp)) DataBufferUtils.release(dataBufferTemp);\r\n        }\r\n        return tempFile;\r\n\r\n    }\r\n```\r\n\r\n\r\nAny suggestions to resolve this error?\r\n\r\n\r\n\r\nWe tried if (Objects.nonNull(dataBufferTemp)) DataBufferUtils.release(dataBufferTemp);\r\nBut still same error.","title":"Flux&lt;ByteBuffer&gt; causing exception: LEAK: ByteBuf.release() was not called before it&#39;s garbage-collected","body":"<p>The below function is using Flux </p>\n<p>We are release DataBuffer dataBufferTemp, however we are unable to find function to release Flux .</p>\n<p>We are seeing exception:</p>\n<p><code> ByteBuf.release() was not called before it's garbage-collected</code></p>\n<pre><code>\nprivate File createFileFromDataBuffer(Flux&lt;DataBuffer&gt; dataBuffer, String fileName, int timeoutInMin) {\n\n        File tempFile = null;\n        DataBuffer dataBufferTemp = null;\n\n        try {\n            Path tempDir = Files.createTempDirectory(&quot;xyz&quot;);\n            tempFile = new File(String.valueOf(tempDir), fileName);\n\n            try (OutputStream os = new FileOutputStream(tempFile)) {\n                dataBufferTemp = DataBufferUtils.write(dataBuffer, os)\n                        .share()\n                        .blockLast(Duration.ofMinutes(timeoutInMin));\n            }\n        } catch (IOException e) {\n            log.error(&quot;Error in API, &quot;, e);\n        } finally {\n            if (Objects.nonNull(dataBufferTemp)) DataBufferUtils.release(dataBufferTemp);\n        }\n        return tempFile;\n\n    }\n</code></pre>\n<p>Any suggestions to resolve this error?</p>\n<p>We tried if (Objects.nonNull(dataBufferTemp)) DataBufferUtils.release(dataBufferTemp);\nBut still same error.</p>\n"},{"tags":["java","multithreading","parallel-processing","spring-webflux"],"answers":[{"comments":[{"owner":{"account_id":2064278,"reputation":13138,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":1,"creation_date":1676465130,"post_id":75452833,"comment_id":133141139,"body_markdown":"good answer, and `This doesn&#39;t magically make your CPU go faster` is a very good point as many think that reactive is some kind of miracle which it isnt, it solves specific problems as you pointed out.","body":"good answer, and <code>This doesn&#39;t magically make your CPU go faster</code> is a very good point as many think that reactive is some kind of miracle which it isnt, it solves specific problems as you pointed out."},{"owner":{"account_id":14482834,"reputation":3924,"user_id":10461625,"display_name":"PatPanda"},"score":0,"creation_date":1676468922,"post_id":75452833,"comment_id":133142382,"body_markdown":"Upvoted for the clear writing. I obviously understand the CPU will not suddenly go faster. The same code run on a multi core CPU (even same speed) will increase performance, as there will be multiple reactor cores. This question is regarding the number of cores","body":"Upvoted for the clear writing. I obviously understand the CPU will not suddenly go faster. The same code run on a multi core CPU (even same speed) will increase performance, as there will be multiple reactor cores. This question is regarding the number of cores"}],"tags":[],"owner":{"account_id":252892,"reputation":2581,"user_id":531232,"accept_rate":67,"display_name":"chris"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1676406566,"creation_date":1676405520,"answer_id":75452833,"question_id":75451727,"body_markdown":"WebFlux is built around the concept that new incoming requests don&#39;t spawn new threads (*) like traditional web servers such as servlet containers do. Instead, requests get queued to be processed by a single long-running thread (assuming a single CPU core), similar to how e.g. click events are processed in JavaScript or desktop UI libraries. The benefit of that is that the CPU is freed from much of the overhead associated with managing threads, which is very expensive. It gets to do one job after another instead of creating the illusion that it can do thousands of jobs at once. \r\n\r\nThis doesn&#39;t magically make your CPU go faster, it just makes it waste less time with thread context switching, which is notoriously expensive. Your CPU-bound computations need as many CPU cycles as they need, no matter what thread they run on. Also, with WebFlux, if request processing involves long-running CPU intensive computation, this means that the CPU can&#39;t process new requests until it&#39;s finished with the current one - unless you explicitly offload it to a worker thread (and wrap it in a Mono). This will however effectively nullify the benefits of the reactive model if those CPU-bound computations are what the application will be busy with most of the time, because the CPU will now yet again have to do thread context switching to alternately assign CPU time to the request processing and the newly spawned worker thread. Or worse yet, it will have to juggle multiple parallel such worker threads as they get spawned through new requests.\r\n\r\nYou can expect performance gains from WebFlux if your application needs to process a very large number of requests per second, but where individual requests need very few CPU cycles to process and I/O is non-blocking. Your use case seems to be the opposite, so the Reactive model might not actually do anything for you compared to the simpler Servlet model.\r\n\r\nIf, on the other hand, your use case is such that the CPU-bound work can be parallelized, you *will* need multiple (or at least hyperthreading-enabled) CPU cores to benefit from that. Reactive can&#39;t help you there.\r\n\r\n(*) Yes, that&#39;s an oversimplification, I&#39;m aware of thread pools, I&#39;m just trying to get the point across.","title":"Spring Webflux Threading Model on machine with ONE cpu","body":"<p>WebFlux is built around the concept that new incoming requests don't spawn new threads (*) like traditional web servers such as servlet containers do. Instead, requests get queued to be processed by a single long-running thread (assuming a single CPU core), similar to how e.g. click events are processed in JavaScript or desktop UI libraries. The benefit of that is that the CPU is freed from much of the overhead associated with managing threads, which is very expensive. It gets to do one job after another instead of creating the illusion that it can do thousands of jobs at once.</p>\n<p>This doesn't magically make your CPU go faster, it just makes it waste less time with thread context switching, which is notoriously expensive. Your CPU-bound computations need as many CPU cycles as they need, no matter what thread they run on. Also, with WebFlux, if request processing involves long-running CPU intensive computation, this means that the CPU can't process new requests until it's finished with the current one - unless you explicitly offload it to a worker thread (and wrap it in a Mono). This will however effectively nullify the benefits of the reactive model if those CPU-bound computations are what the application will be busy with most of the time, because the CPU will now yet again have to do thread context switching to alternately assign CPU time to the request processing and the newly spawned worker thread. Or worse yet, it will have to juggle multiple parallel such worker threads as they get spawned through new requests.</p>\n<p>You can expect performance gains from WebFlux if your application needs to process a very large number of requests per second, but where individual requests need very few CPU cycles to process and I/O is non-blocking. Your use case seems to be the opposite, so the Reactive model might not actually do anything for you compared to the simpler Servlet model.</p>\n<p>If, on the other hand, your use case is such that the CPU-bound work can be parallelized, you <em>will</em> need multiple (or at least hyperthreading-enabled) CPU cores to benefit from that. Reactive can't help you there.</p>\n<p>(*) Yes, that's an oversimplification, I'm aware of thread pools, I'm just trying to get the point across.</p>\n"}],"owner":{"account_id":14482834,"reputation":3924,"user_id":10461625,"display_name":"PatPanda"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":428,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1676468763,"creation_date":1676398486,"question_id":75451727,"body_markdown":"Small question regarding Spring Webflux and project Reactor please.\r\n\r\nFrom the official doc, we can see:\r\nhttps://docs.spring.io/spring-framework/docs/current/reference/html/web-reactive.html#threading-model\r\n\r\n```\r\nThreading Model\r\nWhat threads should you expect to see on a server running with Spring WebFlux?\r\n\r\nOn a “vanilla” Spring WebFlux server (for example, no data access nor other optional dependencies), you can expect one thread for the server and several others for request processing (typically as many as the number of CPU cores). Servlet containers, however, may start with more threads (for example, 10 on Tomcat), in support of both servlet (blocking) I/O and servlet 3.1 (non-blocking) I/O usage.\r\n```\r\n\r\nWhat happens if the hardware only has one cpu please?\r\n\r\nI have a webapp, which takes a Flux of string as input, and perform a heavy operation on it.\r\n\r\nPlease note, the heavy operation is non blocking. It has been BlockHound tested, and for sure, does not contain any database, web call IO.\r\n\r\nYet, the computation is heavy, lengthy (but again, non blocking).\r\n\r\nWhat ```heavyComputation``` does is that it takes the string, performs some in memory decryption,  convert to some objects, check some fields against a BCrypt hash, in memory re encyption. \r\nThe ```heavyComputation``` is very heavy and takes up to 5 second to complete for one string.\r\n\r\n```\r\n@GetMapping(value = &quot;/upload-flux&quot;, consumes = MediaType.MULTIPART_FORM_DATA_VALUE, produces = MediaType.TEXT_EVENT_STREAM_VALUE)\r\n    public Flux&lt;String&gt; question(@RequestPart(&quot;question&quot;) Flux&lt;String&gt; stringFlux) {\r\n        return stringFlux.map(oneString -&gt; heavyComputation(oneString));\r\n    }\r\n\r\n    private String heavyComputation(String oneString) {\r\n        // heavy and time-consuming in memory decryption\r\n        // heavy and time-consuming conversion to java object\r\n        // heavy and time-consuming validation of fields against hash\r\n        // heavy and time-consuming re encryption \r\n        // return the re encrypted string\r\n    }\r\n```\r\n\r\nI was hoping by using Spring Webflux, I could see some concurrency and asyncs, as the hardware are constrains to 1 cpu only.\r\n\r\nSadly, I observe everything is done on ```reactor-http-nio-1``` thread, and looks like it is fairly sequential, one first string, heavyComputation which takes 5ish seconds, then the second string, etc.\r\n\r\nWhat am I doing wrong please?\r\n\r\nThank you","title":"Spring Webflux Threading Model on machine with ONE cpu","body":"<p>Small question regarding Spring Webflux and project Reactor please.</p>\n<p>From the official doc, we can see:\n<a href=\"https://docs.spring.io/spring-framework/docs/current/reference/html/web-reactive.html#threading-model\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-framework/docs/current/reference/html/web-reactive.html#threading-model</a></p>\n<pre><code>Threading Model\nWhat threads should you expect to see on a server running with Spring WebFlux?\n\nOn a “vanilla” Spring WebFlux server (for example, no data access nor other optional dependencies), you can expect one thread for the server and several others for request processing (typically as many as the number of CPU cores). Servlet containers, however, may start with more threads (for example, 10 on Tomcat), in support of both servlet (blocking) I/O and servlet 3.1 (non-blocking) I/O usage.\n</code></pre>\n<p>What happens if the hardware only has one cpu please?</p>\n<p>I have a webapp, which takes a Flux of string as input, and perform a heavy operation on it.</p>\n<p>Please note, the heavy operation is non blocking. It has been BlockHound tested, and for sure, does not contain any database, web call IO.</p>\n<p>Yet, the computation is heavy, lengthy (but again, non blocking).</p>\n<p>What <code>heavyComputation</code> does is that it takes the string, performs some in memory decryption,  convert to some objects, check some fields against a BCrypt hash, in memory re encyption.\nThe <code>heavyComputation</code> is very heavy and takes up to 5 second to complete for one string.</p>\n<pre><code>@GetMapping(value = &quot;/upload-flux&quot;, consumes = MediaType.MULTIPART_FORM_DATA_VALUE, produces = MediaType.TEXT_EVENT_STREAM_VALUE)\n    public Flux&lt;String&gt; question(@RequestPart(&quot;question&quot;) Flux&lt;String&gt; stringFlux) {\n        return stringFlux.map(oneString -&gt; heavyComputation(oneString));\n    }\n\n    private String heavyComputation(String oneString) {\n        // heavy and time-consuming in memory decryption\n        // heavy and time-consuming conversion to java object\n        // heavy and time-consuming validation of fields against hash\n        // heavy and time-consuming re encryption \n        // return the re encrypted string\n    }\n</code></pre>\n<p>I was hoping by using Spring Webflux, I could see some concurrency and asyncs, as the hardware are constrains to 1 cpu only.</p>\n<p>Sadly, I observe everything is done on <code>reactor-http-nio-1</code> thread, and looks like it is fairly sequential, one first string, heavyComputation which takes 5ish seconds, then the second string, etc.</p>\n<p>What am I doing wrong please?</p>\n<p>Thank you</p>\n"},{"tags":["java","eclipse","apache-kafka"],"answers":[{"comments":[{"owner":{"account_id":2449026,"reputation":3036,"user_id":2135719,"accept_rate":81,"display_name":"gvdm"},"score":0,"creation_date":1493796563,"post_id":41308528,"comment_id":74549064,"body_markdown":"HI @Matthias. Where can I find the Rocksdb DLL? I cloned the Rocksdb repository but no compiled library is present","body":"HI @Matthias. Where can I find the Rocksdb DLL? I cloned the Rocksdb repository but no compiled library is present"},{"owner":{"account_id":6384814,"reputation":60273,"user_id":4953079,"display_name":"Matthias J. Sax"},"score":0,"creation_date":1493868133,"post_id":41308528,"comment_id":74587666,"body_markdown":"You need to build it the project as described here: https://github.com/facebook/rocksdb/wiki/RocksJava-Basics","body":"You need to build it the project as described here: <a href=\"https://github.com/facebook/rocksdb/wiki/RocksJava-Basics\" rel=\"nofollow noreferrer\">github.com/facebook/rocksdb/wiki/RocksJava-Basics</a>"}],"tags":[],"owner":{"account_id":6384814,"reputation":60273,"user_id":4953079,"display_name":"Matthias J. Sax"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1482532355,"creation_date":1482532355,"answer_id":41308528,"question_id":41291996,"body_markdown":"Windows is not officially supported, yet.\r\n\r\nHowever, Rocksdb 4.9.0+ releases should have a Windows DLL build and should work out of the box.\r\n\r\nFor older versions, there is also as workaround as described here: http://search-hadoop.com/m/Kafka/uyzND13pNzscClkW1?subj=Re+Kafka+Streams+on+Windows+","title":"Executing kafka-stream example with eclipse, fails with UnsatisfiedLinkError for librocksdbjni.dll (Can&#39;t find dependency)","body":"<p>Windows is not officially supported, yet.</p>\n\n<p>However, Rocksdb 4.9.0+ releases should have a Windows DLL build and should work out of the box.</p>\n\n<p>For older versions, there is also as workaround as described here: <a href=\"http://search-hadoop.com/m/Kafka/uyzND13pNzscClkW1?subj=Re+Kafka+Streams+on+Windows+\" rel=\"nofollow noreferrer\">http://search-hadoop.com/m/Kafka/uyzND13pNzscClkW1?subj=Re+Kafka+Streams+on+Windows+</a></p>\n"},{"tags":[],"owner":{"account_id":18402364,"reputation":1,"user_id":13405080,"display_name":"Rajalingam Pitchaimuthu"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1588440130,"creation_date":1588440130,"answer_id":61563492,"question_id":41291996,"body_markdown":"Installing vc_redist.x64 from https://www.microsoft.com/en-us/download/details.aspx?id=48145 helped to resolve the issue.  I was facing same issue in Windows10 home edition","title":"Executing kafka-stream example with eclipse, fails with UnsatisfiedLinkError for librocksdbjni.dll (Can&#39;t find dependency)","body":"<p>Installing vc_redist.x64 from <a href=\"https://www.microsoft.com/en-us/download/details.aspx?id=48145\" rel=\"nofollow noreferrer\">https://www.microsoft.com/en-us/download/details.aspx?id=48145</a> helped to resolve the issue.  I was facing same issue in Windows10 home edition</p>\n"},{"tags":[],"owner":{"account_id":123756,"reputation":4386,"user_id":318414,"accept_rate":95,"display_name":"simonalexander2005"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676468699,"creation_date":1676468699,"answer_id":75460730,"question_id":41291996,"body_markdown":"I resolved this by adding the following dependency to my pom.xml:\r\n\r\n`&lt;dependency&gt;&lt;groupId&gt;org.rocksdb&lt;/groupId&gt;&lt;artifactId&gt;rocksdbjni&lt;/artifactId&gt;&lt;version&gt;6.29.5&lt;/version&gt;&lt;/dependency&gt;`","title":"Executing kafka-stream example with eclipse, fails with UnsatisfiedLinkError for librocksdbjni.dll (Can&#39;t find dependency)","body":"<p>I resolved this by adding the following dependency to my pom.xml:</p>\n<p><code>&lt;dependency&gt;&lt;groupId&gt;org.rocksdb&lt;/groupId&gt;&lt;artifactId&gt;rocksdbjni&lt;/artifactId&gt;&lt;version&gt;6.29.5&lt;/version&gt;&lt;/dependency&gt;</code></p>\n"}],"owner":{"account_id":9902791,"reputation":1,"user_id":7332273,"display_name":"rai"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2234,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1676468699,"creation_date":1482442591,"question_id":41291996,"body_markdown":"I am trying to run a kafka-stream wordcount example with eclipse IDE but getting following error:\r\nI have added  0.10.1.0 kafka-client and 0.10.1.0 kafka-stream as dependency in my pom file. I have also checked the dependency tree and it&#39;s using rocksdbjni-4.9 jar. Based on some read on internet, this issue has been fixed on 0.10.1.0 version of kafka  but I am still getting.\r\nAny help?\r\n\r\n    Exception in thread &quot;StreamThread-1&quot; java.lang.UnsatisfiedLinkError: Local\\Temp\\librocksdbjni6935746072594020003.dll: Can&#39;t find dependent libraries\r\n    \tat java.lang.ClassLoader$NativeLibrary.load(Native Method)\r\n    \tat java.lang.ClassLoader.loadLibrary0(ClassLoader.java:1937)\r\n    \tat java.lang.ClassLoader.loadLibrary(ClassLoader.java:1822)\r\n    \tat java.lang.Runtime.load0(Runtime.java:809)\r\n    \tat java.lang.System.load(System.java:1086)\r\n    \tat org.rocksdb.NativeLibraryLoader.loadLibraryFromJar(NativeLibraryLoader.java:78)\r\n    \tat org.rocksdb.NativeLibraryLoader.loadLibrary(NativeLibraryLoader.java:56)\r\n    \tat org.rocksdb.RocksDB.loadLibrary(RocksDB.java:47)\r\n    \tat org.rocksdb.RocksDB.&lt;clinit&gt;(RocksDB.java:23)\r\n    \tat org.rocksdb.Options.&lt;clinit&gt;(Options.java:21)\r\n    \tat org.apache.kafka.streams.state.internals.RocksDBStore.&lt;init&gt;(RocksDBStore.java:127)\r\n    \tat org.apache.kafka.streams.state.internals.RocksDBStore.&lt;init&gt;(RocksDBStore.java:112)\r\n    \tat org.apache.kafka.streams.state.internals.RocksDBKeyValueStoreSupplier.get(RocksDBKeyValueStoreSupplier.java:56)\r\n    \tat org.apache.kafka.streams.processor.TopologyBuilder.build(TopologyBuilder.java:787)\r\n    \tat org.apache.kafka.streams.processor.TopologyBuilder.build(TopologyBuilder.java:761)\r\n    \tat org.apache.kafka.streams.processor.internals.StreamThread.createStreamTask(StreamThread.java:631)\r\n    \tat org.apache.kafka.streams.processor.internals.StreamThread.addStreamTasks(StreamThread.java:660)\r\n    \tat org.apache.kafka.streams.processor.internals.StreamThread.access$100(StreamThread.java:69)\r\n    \tat org.apache.kafka.streams.processor.internals.StreamThread$1.onPartitionsAssigned(StreamThread.java:124)\r\n    \tat org.apache.kafka.clients.consumer.internals.ConsumerCoordinator.onJoinComplete(ConsumerCoordinator.java:228)\r\n    \tat org.apache.kafka.clients.consumer.internals.AbstractCoordinator.joinGroupIfNeeded(AbstractCoordinator.java:313)\r\n    \tat org.apache.kafka.clients.consumer.internals.AbstractCoordinator.ensureActiveGroup(AbstractCoordinator.java:277)\r\n    \tat org.apache.kafka.clients.consumer.internals.ConsumerCoordinator.poll(ConsumerCoordinator.java:259)\r\n    \tat org.apache.kafka.clients.consumer.KafkaConsumer.pollOnce(KafkaConsumer.java:1013)\r\n    \tat org.apache.kafka.clients.consumer.KafkaConsumer.poll(KafkaConsumer.java:979)\r\n    \tat org.apache.kafka.streams.processor.internals.StreamThread.runLoop(StreamThread.java:407)\r\n    \tat org.apache.kafka.streams.processor.internals.StreamThread.run(StreamThread.java:242)\r\n\r\n\r\n","title":"Executing kafka-stream example with eclipse, fails with UnsatisfiedLinkError for librocksdbjni.dll (Can&#39;t find dependency)","body":"<p>I am trying to run a kafka-stream wordcount example with eclipse IDE but getting following error:\nI have added  0.10.1.0 kafka-client and 0.10.1.0 kafka-stream as dependency in my pom file. I have also checked the dependency tree and it's using rocksdbjni-4.9 jar. Based on some read on internet, this issue has been fixed on 0.10.1.0 version of kafka  but I am still getting.\nAny help?</p>\n\n<pre><code>Exception in thread \"StreamThread-1\" java.lang.UnsatisfiedLinkError: Local\\Temp\\librocksdbjni6935746072594020003.dll: Can't find dependent libraries\n    at java.lang.ClassLoader$NativeLibrary.load(Native Method)\n    at java.lang.ClassLoader.loadLibrary0(ClassLoader.java:1937)\n    at java.lang.ClassLoader.loadLibrary(ClassLoader.java:1822)\n    at java.lang.Runtime.load0(Runtime.java:809)\n    at java.lang.System.load(System.java:1086)\n    at org.rocksdb.NativeLibraryLoader.loadLibraryFromJar(NativeLibraryLoader.java:78)\n    at org.rocksdb.NativeLibraryLoader.loadLibrary(NativeLibraryLoader.java:56)\n    at org.rocksdb.RocksDB.loadLibrary(RocksDB.java:47)\n    at org.rocksdb.RocksDB.&lt;clinit&gt;(RocksDB.java:23)\n    at org.rocksdb.Options.&lt;clinit&gt;(Options.java:21)\n    at org.apache.kafka.streams.state.internals.RocksDBStore.&lt;init&gt;(RocksDBStore.java:127)\n    at org.apache.kafka.streams.state.internals.RocksDBStore.&lt;init&gt;(RocksDBStore.java:112)\n    at org.apache.kafka.streams.state.internals.RocksDBKeyValueStoreSupplier.get(RocksDBKeyValueStoreSupplier.java:56)\n    at org.apache.kafka.streams.processor.TopologyBuilder.build(TopologyBuilder.java:787)\n    at org.apache.kafka.streams.processor.TopologyBuilder.build(TopologyBuilder.java:761)\n    at org.apache.kafka.streams.processor.internals.StreamThread.createStreamTask(StreamThread.java:631)\n    at org.apache.kafka.streams.processor.internals.StreamThread.addStreamTasks(StreamThread.java:660)\n    at org.apache.kafka.streams.processor.internals.StreamThread.access$100(StreamThread.java:69)\n    at org.apache.kafka.streams.processor.internals.StreamThread$1.onPartitionsAssigned(StreamThread.java:124)\n    at org.apache.kafka.clients.consumer.internals.ConsumerCoordinator.onJoinComplete(ConsumerCoordinator.java:228)\n    at org.apache.kafka.clients.consumer.internals.AbstractCoordinator.joinGroupIfNeeded(AbstractCoordinator.java:313)\n    at org.apache.kafka.clients.consumer.internals.AbstractCoordinator.ensureActiveGroup(AbstractCoordinator.java:277)\n    at org.apache.kafka.clients.consumer.internals.ConsumerCoordinator.poll(ConsumerCoordinator.java:259)\n    at org.apache.kafka.clients.consumer.KafkaConsumer.pollOnce(KafkaConsumer.java:1013)\n    at org.apache.kafka.clients.consumer.KafkaConsumer.poll(KafkaConsumer.java:979)\n    at org.apache.kafka.streams.processor.internals.StreamThread.runLoop(StreamThread.java:407)\n    at org.apache.kafka.streams.processor.internals.StreamThread.run(StreamThread.java:242)\n</code></pre>\n"},{"tags":["java","apache-kafka","apache-flink"],"comments":[{"owner":{"account_id":268602,"reputation":75188,"user_id":557445,"accept_rate":100,"display_name":"Rion Williams"},"score":0,"creation_date":1676474025,"post_id":75460674,"comment_id":133144281,"body_markdown":"You may want to confirm that your Kafka configuration (e.g. bootstrap server) is properly configured and pointing to the correct location and verify that if you are using any type of authentication (i.e. SASL, etc.) that those properties are properly configured as well.\n\nIt might not hurt to share _roughly_ what those configurations look like to rule out a configuration problem.","body":"You may want to confirm that your Kafka configuration (e.g. bootstrap server) is properly configured and pointing to the correct location and verify that if you are using any type of authentication (i.e. SASL, etc.) that those properties are properly configured as well.  It might not hurt to share <i>roughly</i> what those configurations look like to rule out a configuration problem."},{"owner":{"account_id":7935210,"reputation":21,"user_id":5991506,"display_name":"Abhinav"},"score":0,"creation_date":1676475208,"post_id":75460674,"comment_id":133144744,"body_markdown":"But when I run this code, if the mentioned topic is not present, it creates this topic on the server. This implies that the connection is a success. But when it comes to writing the data to the topic, that is where it starts failing.","body":"But when I run this code, if the mentioned topic is not present, it creates this topic on the server. This implies that the connection is a success. But when it comes to writing the data to the topic, that is where it starts failing."}],"owner":{"account_id":7935210,"reputation":21,"user_id":5991506,"display_name":"Abhinav"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":190,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676468415,"creation_date":1676468415,"question_id":75460674,"body_markdown":"I have a data like {name: &quot;abc&quot;, age: 20} being read from kafka in a flink code using Java.\r\n\r\nI am trying to sink this data into Kafka from flink\r\n\r\n```\r\nKafkaSink&lt;AllIncidentsDataPOJO&gt; sink = KafkaSink.&lt;AllIncidentsDataPOJO&gt;builder()\r\n                        .setBootstrapServers(this.bootstrapServer)\r\n                        .setKafkaProducerConfig(kafkaProps)\r\n                        .setRecordSerializer(KafkaRecordSerializationSchema.builder()\r\n                                        .setTopic(&quot;flink-all-incidents&quot;)\r\n                                        .setValueSerializationSchema(new IncidentsSerializationSchema()).build())\r\n                        .setDeliverGuarantee(DeliveryGuarantee.EXACTLY_ONCE)\r\n                        .build();\r\n```\r\n\r\n**IncidentSerializationSchema**\r\n\r\n```\r\npublic class IncidentsSerializationSchema implements SerializationSchema&lt;AllIncidentsDataPOJO&gt; {\r\n    static ObjectMapper objectMapper = new ObjectMapper();\r\n    @Override\r\n    public byte[] serialize(AllIncidentsDataPOJO element) {\r\n        if (objectMapper == null) {\r\n            objectMapper.setVisibility(PropertyAccessor.FIELD, JsonAutoDetect.Visibility.ANY);\r\n            objectMapper = new ObjectMapper();\r\n        }\r\n        try {\r\n//            System.out.println(&quot;Returned value: &quot; + objectMapper.writeValueAsString(element).getBytes());\r\n            return objectMapper.writeValueAsString(element).getBytes();\r\n        } catch (\r\n                org.apache.flink.shaded.jackson2.com.fasterxml.jackson.core.JsonProcessingException e) {\r\n            System.out.println(&quot;Exception: &quot; + e);\r\n        }\r\n        return new byte[0];\r\n    }\r\n}\r\n```\r\n\r\nNow when I print within the above class it gives me a serialized message of say \r\n```\r\nReturned value: [B@6f29a884\r\nReturned value: [B@743145c5\r\nReturned value: [B@6aa6b431\r\nReturned value: [B@208c0151\r\nReturned value: [B@1a3a0c6d\r\nReturned value: [B@7972da35\r\nReturned value: [B@1097059f\r\nReturned value: [B@6013a87b\r\nReturned value: [B@27b252dc\r\nReturned value: [B@288478b7\r\nReturned value: [B@54185041\r\nReturned value: [B@970646b\r\n```\r\n\r\nBut when I try to use data.sinkTo(sink) after initializing KafkaSink, it starts disconnecting\r\n\r\n```\r\n[kafka-producer-network-thread | producer-kafka-sink-0-1] INFO org.apache.kafka.clients.NetworkClient - [Producer clientId=producer-kafka-sink-0-1, transactionalId=kafka-sink-0-1] Node 8 disconnected.\r\n[kafka-producer-network-thread | producer-kafka-sink-0-1] INFO org.apache.kafka.clients.NetworkClient - [Producer clientId=producer-kafka-sink-0-1, transactionalId=kafka-sink-0-1] Cancelled in-flight API_VERSIONS request with correlation id 35 due to node 8 being disconnected (elapsed time since creation: 292ms, elapsed time since send: 292ms, request timeout: 30000ms)\r\n[kafka-producer-network-thread | producer-kafka-sink-0-1] INFO org.apache.kafka.clients.NetworkClient - [Producer clientId=producer-kafka-sink-0-1, transactionalId=kafka-sink-0-1] Node 8 disconnected.\r\n[kafka-producer-network-thread | producer-kafka-sink-0-1] INFO org.apache.kafka.clients.NetworkClient - [Producer clientId=producer-kafka-sink-0-1, transactionalId=kafka-sink-0-1] Cancelled in-flight API_VERSIONS request with correlation id 37 due to node 8 being disconnected (elapsed time since creation: 639ms, elapsed time since send: 639ms, request timeout: 30000ms)\r\n[kafka-producer-network-thread | producer-kafka-sink-0-1] INFO org.apache.kafka.clients.NetworkClient - [Producer clientId=producer-kafka-sink-0-1, transactionalId=kafka-sink-0-1] Node 8 disconnected.\r\n[kafka-producer-network-thread | producer-kafka-sink-0-1] INFO org.apache.kafka.clients.NetworkClient - [Producer clientId=producer-kafka-sink-0-1, transactionalId=kafka-sink-0-1] Cancelled in-flight API_VERSIONS request with correlation id 38 due to node 8 being disconnected (elapsed time since creation: 875ms, elapsed time since send: 875ms, request timeout: 30000ms)\r\n```\r\n\r\nCan someone please help me here?","title":"Unable to sink record to KafkaSink in Apache Flink","body":"<p>I have a data like {name: &quot;abc&quot;, age: 20} being read from kafka in a flink code using Java.</p>\n<p>I am trying to sink this data into Kafka from flink</p>\n<pre><code>KafkaSink&lt;AllIncidentsDataPOJO&gt; sink = KafkaSink.&lt;AllIncidentsDataPOJO&gt;builder()\n                        .setBootstrapServers(this.bootstrapServer)\n                        .setKafkaProducerConfig(kafkaProps)\n                        .setRecordSerializer(KafkaRecordSerializationSchema.builder()\n                                        .setTopic(&quot;flink-all-incidents&quot;)\n                                        .setValueSerializationSchema(new IncidentsSerializationSchema()).build())\n                        .setDeliverGuarantee(DeliveryGuarantee.EXACTLY_ONCE)\n                        .build();\n</code></pre>\n<p><strong>IncidentSerializationSchema</strong></p>\n<pre><code>public class IncidentsSerializationSchema implements SerializationSchema&lt;AllIncidentsDataPOJO&gt; {\n    static ObjectMapper objectMapper = new ObjectMapper();\n    @Override\n    public byte[] serialize(AllIncidentsDataPOJO element) {\n        if (objectMapper == null) {\n            objectMapper.setVisibility(PropertyAccessor.FIELD, JsonAutoDetect.Visibility.ANY);\n            objectMapper = new ObjectMapper();\n        }\n        try {\n//            System.out.println(&quot;Returned value: &quot; + objectMapper.writeValueAsString(element).getBytes());\n            return objectMapper.writeValueAsString(element).getBytes();\n        } catch (\n                org.apache.flink.shaded.jackson2.com.fasterxml.jackson.core.JsonProcessingException e) {\n            System.out.println(&quot;Exception: &quot; + e);\n        }\n        return new byte[0];\n    }\n}\n</code></pre>\n<p>Now when I print within the above class it gives me a serialized message of say</p>\n<pre><code>Returned value: [B@6f29a884\nReturned value: [B@743145c5\nReturned value: [B@6aa6b431\nReturned value: [B@208c0151\nReturned value: [B@1a3a0c6d\nReturned value: [B@7972da35\nReturned value: [B@1097059f\nReturned value: [B@6013a87b\nReturned value: [B@27b252dc\nReturned value: [B@288478b7\nReturned value: [B@54185041\nReturned value: [B@970646b\n</code></pre>\n<p>But when I try to use data.sinkTo(sink) after initializing KafkaSink, it starts disconnecting</p>\n<pre><code>[kafka-producer-network-thread | producer-kafka-sink-0-1] INFO org.apache.kafka.clients.NetworkClient - [Producer clientId=producer-kafka-sink-0-1, transactionalId=kafka-sink-0-1] Node 8 disconnected.\n[kafka-producer-network-thread | producer-kafka-sink-0-1] INFO org.apache.kafka.clients.NetworkClient - [Producer clientId=producer-kafka-sink-0-1, transactionalId=kafka-sink-0-1] Cancelled in-flight API_VERSIONS request with correlation id 35 due to node 8 being disconnected (elapsed time since creation: 292ms, elapsed time since send: 292ms, request timeout: 30000ms)\n[kafka-producer-network-thread | producer-kafka-sink-0-1] INFO org.apache.kafka.clients.NetworkClient - [Producer clientId=producer-kafka-sink-0-1, transactionalId=kafka-sink-0-1] Node 8 disconnected.\n[kafka-producer-network-thread | producer-kafka-sink-0-1] INFO org.apache.kafka.clients.NetworkClient - [Producer clientId=producer-kafka-sink-0-1, transactionalId=kafka-sink-0-1] Cancelled in-flight API_VERSIONS request with correlation id 37 due to node 8 being disconnected (elapsed time since creation: 639ms, elapsed time since send: 639ms, request timeout: 30000ms)\n[kafka-producer-network-thread | producer-kafka-sink-0-1] INFO org.apache.kafka.clients.NetworkClient - [Producer clientId=producer-kafka-sink-0-1, transactionalId=kafka-sink-0-1] Node 8 disconnected.\n[kafka-producer-network-thread | producer-kafka-sink-0-1] INFO org.apache.kafka.clients.NetworkClient - [Producer clientId=producer-kafka-sink-0-1, transactionalId=kafka-sink-0-1] Cancelled in-flight API_VERSIONS request with correlation id 38 due to node 8 being disconnected (elapsed time since creation: 875ms, elapsed time since send: 875ms, request timeout: 30000ms)\n</code></pre>\n<p>Can someone please help me here?</p>\n"},{"tags":["java"],"owner":{"account_id":20740302,"reputation":87,"user_id":15230150,"display_name":"pRo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676468329,"creation_date":1676468329,"question_id":75460643,"body_markdown":"I am reading a pdf and extract the text from it into an ArrayList. I am collecting all the bookmarks from the pdf which in this case are the titles of each section and I add them into a list. I want to extract each section by using regex based on the titles/bookmarks. Below what I have tried so far.\r\n\r\n        for (String text1 : texts) {\r\n\r\n            for (int title = 0; title &lt; titles.size(); title++) {\r\n\r\n                try {\r\n                       //Regex Pattern to find the text between two titles \r\n                    Pattern p = Pattern.compile(titles.get(title) +\r\n                            &quot;.*(\\\\n.*)+?(?=&quot; + titles.get(title + 1) + &#39;)&#39;);\r\n                    // the issue here is that the title+1 goes over the size of the titles\r\n                    Matcher matcherTitle = p.matcher(text1);\r\n                    // System.out.println(p.matcher(text));\r\n                    for (int i = 1; i &lt;= matcherTitle.groupCount(); i++) {\r\n                        System.out.println(matcherTitle.group(i));\r\n                    }\r\n\r\n                } catch (Exception e) {\r\n                    Pattern p = Pattern.compile(titles.get(title) +\r\n                            &quot;(.|\\\\n)\\\\.*&quot;);\r\n                    Matcher matcherTitle = p.matcher(text1);\r\n                    \r\n                    // System.out.println(p.matcher(text).results().toString());\r\n                    // System.out.println(titles.get(title) + &quot; This title is the last Title&quot;);\r\n                }\r\n            }\r\n        }\r\n\r\nLet&#39;s say that ```titles``` is the list with the titles and ```texts``` is the list with the text. Unfortunately, nothing is printed out. In the end I would like to write each section into a txt file with the name of the file being the title of each section.\r\n","title":"Split pdf into sections based on titles/bookmarks using regex","body":"<p>I am reading a pdf and extract the text from it into an ArrayList. I am collecting all the bookmarks from the pdf which in this case are the titles of each section and I add them into a list. I want to extract each section by using regex based on the titles/bookmarks. Below what I have tried so far.</p>\n<pre><code>    for (String text1 : texts) {\n\n        for (int title = 0; title &lt; titles.size(); title++) {\n\n            try {\n                   //Regex Pattern to find the text between two titles \n                Pattern p = Pattern.compile(titles.get(title) +\n                        &quot;.*(\\\\n.*)+?(?=&quot; + titles.get(title + 1) + ')');\n                // the issue here is that the title+1 goes over the size of the titles\n                Matcher matcherTitle = p.matcher(text1);\n                // System.out.println(p.matcher(text));\n                for (int i = 1; i &lt;= matcherTitle.groupCount(); i++) {\n                    System.out.println(matcherTitle.group(i));\n                }\n\n            } catch (Exception e) {\n                Pattern p = Pattern.compile(titles.get(title) +\n                        &quot;(.|\\\\n)\\\\.*&quot;);\n                Matcher matcherTitle = p.matcher(text1);\n                \n                // System.out.println(p.matcher(text).results().toString());\n                // System.out.println(titles.get(title) + &quot; This title is the last Title&quot;);\n            }\n        }\n    }\n</code></pre>\n<p>Let's say that <code>titles</code> is the list with the titles and <code>texts</code> is the list with the text. Unfortunately, nothing is printed out. In the end I would like to write each section into a txt file with the name of the file being the title of each section.</p>\n"},{"tags":["java","hibernate","kotlin","jpa","quarkus"],"comments":[{"owner":{"account_id":2795364,"reputation":7571,"user_id":2404683,"display_name":"Davide D&#39;Alto"},"score":2,"creation_date":1676442958,"post_id":75451073,"comment_id":133135472,"body_markdown":"Could you create a runnable test case somewhere?","body":"Could you create a runnable test case somewhere?"},{"owner":{"account_id":23182632,"reputation":65,"user_id":17280246,"display_name":"Adasiek"},"score":2,"creation_date":1676451058,"post_id":75451073,"comment_id":133137226,"body_markdown":"@DavideD&#39;Alto Hello. Thx for help! I am sharing demo project https://github.com/damiankaplon/stack-question. We have generated clean Quarkus 2.16.2. Tried to provide minimal application to invoke an error. To test locally GET localhost:8080/demo","body":"@DavideD&#39;Alto Hello. Thx for help! I am sharing demo project <a href=\"https://github.com/damiankaplon/stack-question\" rel=\"nofollow noreferrer\">github.com/damiankaplon/stack-question</a>. We have generated clean Quarkus 2.16.2. Tried to provide minimal application to invoke an error. To test locally GET localhost:8080/demo"}],"owner":{"account_id":23182632,"reputation":65,"user_id":17280246,"display_name":"Adasiek"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":270,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1676468258,"creation_date":1676394306,"question_id":75451073,"body_markdown":"We are migrating our application from Spring Data + Hibernate (it was working) to Quarkus Panache (version v2.16.2) + Reactive Hibernate.\r\n```\r\nabstract class BaseEntity&lt;ID&gt; : PanacheEntityBase {\r\n\r\n    open val id: ID? = null\r\n\r\n    override fun equals(other: Any?): Boolean {\r\n        if (this === other) return true\r\n        if (other == null || Hibernate.getClass(this) != Hibernate.getClass(other)) return false\r\n        other as BaseEntity&lt;*&gt;\r\n        return id != null &amp;&amp; id == other.id\r\n    }\r\n\r\n    override fun hashCode(): Int {\r\n        return javaClass.hashCode()\r\n    }\r\n\r\n    override fun toString(): String {\r\n        return &quot;${javaClass.simpleName}&lt;$id&gt;&quot;\r\n    }\r\n}\r\n```\r\n\r\n```\r\n@Embeddable\r\nclass AssociatedAccountCompositeId(\r\n\r\n    @Column(name = &quot;customer_account_id&quot;)\r\n    val customerAccountId: String,\r\n\r\n    @Column(name = &quot;promotion_code_id&quot;)\r\n    val promotionCodeId: Long\r\n\r\n) : Serializable {\r\n\r\n    companion object {\r\n        private const val serialVersionUID: Long = 845208461728L\r\n    }\r\n\r\n    override fun equals(other: Any?): Boolean {\r\n        if (this === other) return true\r\n        if (javaClass != other?.javaClass) return false\r\n\r\n        other as AssociatedAccountCompositeId\r\n\r\n        if (customerAccountId != other.customerAccountId) return false\r\n        if (promotionCodeId != other.promotionCodeId) return false\r\n        return true\r\n    }\r\n\r\n    override fun hashCode(): Int {\r\n        return Objects.hash(customerAccountId, promotionCodeId)\r\n    }\r\n\r\n    override fun toString(): String {\r\n        return &quot;${javaClass.simpleName}&lt;$customerAccountId&gt;&lt;$promotionCodeId&gt;&quot;\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\n```\r\n\r\n@Entity\r\n@Table(name = &quot;promotion_code&quot;)\r\nclass PromotionCodeEntity(\r\n\r\n    @OneToOne(mappedBy = &quot;promotionCode&quot;)\r\n    var associatedAccount: AssociatedAccountEntity?\r\n\r\n) : BaseEntity&lt;Long&gt;() {\r\n\r\n    @Id\r\n    @Column(name = &quot;promotion_code_id&quot;)\r\n    @SequenceGenerator(name = &quot;promotion_code_sq&quot;, sequenceName = &quot;promotion_code_sq&quot;, allocationSize = 100)\r\n    @GeneratedValue(strategy = SEQUENCE, generator = &quot;promotion_code_sq&quot;)\r\n    override val id: Long? = null\r\n}\r\n```\r\n\r\n```\r\n@Entity\r\n@Table(name = &quot;account_assoc&quot;)\r\nclass AssociatedAccountEntity(\r\n\r\n    @EmbeddedId\r\n    override val id: AssociatedAccountCompositeId,\r\n\r\n    @OneToOne\r\n    @JoinColumn(name = &quot;promotion_code_id&quot;, insertable = false, updatable = false)\r\n    val promotionCode: PromotionCodeEntity\r\n\r\n) : BaseEntity&lt;AssociatedAccountCompositeId?&gt;()\r\n```\r\n\r\nWe were migrating the project and different CompositeKey works but here I cannot make it work for few days, and the main difference in OneToOne relationship. Right now I have prepared simplest possible usecase, am getting error:\r\n\r\n```\r\nfun method(customerId: String, dto: PromotionCodeAssignRequestParameters): Uni&lt;List&lt;PromotionCodeEntity&gt;&gt; {\r\n        return PromotionCodeEntity.findAll().list()\r\n}\r\n```\r\n\r\n```\r\n&quot;Error accessing field [private java.lang.String sth.promotion_campaigns_service.enitites.id.AssociatedAccountCompositeId.customerAccountId] by reflection for persistent property [sth.promotion_campaigns_service.enitites.id.AssociatedAccountCompositeId#customerAccountId] : 1&quot;,\r\n```\r\n\r\nI tried obvious things like manual open instead of gradle plugin or changing val to var everywhere. &lt;br&gt;\r\nAny help would be appreciated.\r\n\r\nEDIT\r\nI am attaching project w example https://github.com/damiankaplon/stack-question","title":"Cannot get OneToOne Mapping working with Composite Key. Quarkus + Reactive Hibernate","body":"<p>We are migrating our application from Spring Data + Hibernate (it was working) to Quarkus Panache (version v2.16.2) + Reactive Hibernate.</p>\n<pre><code>abstract class BaseEntity&lt;ID&gt; : PanacheEntityBase {\n\n    open val id: ID? = null\n\n    override fun equals(other: Any?): Boolean {\n        if (this === other) return true\n        if (other == null || Hibernate.getClass(this) != Hibernate.getClass(other)) return false\n        other as BaseEntity&lt;*&gt;\n        return id != null &amp;&amp; id == other.id\n    }\n\n    override fun hashCode(): Int {\n        return javaClass.hashCode()\n    }\n\n    override fun toString(): String {\n        return &quot;${javaClass.simpleName}&lt;$id&gt;&quot;\n    }\n}\n</code></pre>\n<pre><code>@Embeddable\nclass AssociatedAccountCompositeId(\n\n    @Column(name = &quot;customer_account_id&quot;)\n    val customerAccountId: String,\n\n    @Column(name = &quot;promotion_code_id&quot;)\n    val promotionCodeId: Long\n\n) : Serializable {\n\n    companion object {\n        private const val serialVersionUID: Long = 845208461728L\n    }\n\n    override fun equals(other: Any?): Boolean {\n        if (this === other) return true\n        if (javaClass != other?.javaClass) return false\n\n        other as AssociatedAccountCompositeId\n\n        if (customerAccountId != other.customerAccountId) return false\n        if (promotionCodeId != other.promotionCodeId) return false\n        return true\n    }\n\n    override fun hashCode(): Int {\n        return Objects.hash(customerAccountId, promotionCodeId)\n    }\n\n    override fun toString(): String {\n        return &quot;${javaClass.simpleName}&lt;$customerAccountId&gt;&lt;$promotionCodeId&gt;&quot;\n    }\n}\n</code></pre>\n<pre><code>\n@Entity\n@Table(name = &quot;promotion_code&quot;)\nclass PromotionCodeEntity(\n\n    @OneToOne(mappedBy = &quot;promotionCode&quot;)\n    var associatedAccount: AssociatedAccountEntity?\n\n) : BaseEntity&lt;Long&gt;() {\n\n    @Id\n    @Column(name = &quot;promotion_code_id&quot;)\n    @SequenceGenerator(name = &quot;promotion_code_sq&quot;, sequenceName = &quot;promotion_code_sq&quot;, allocationSize = 100)\n    @GeneratedValue(strategy = SEQUENCE, generator = &quot;promotion_code_sq&quot;)\n    override val id: Long? = null\n}\n</code></pre>\n<pre><code>@Entity\n@Table(name = &quot;account_assoc&quot;)\nclass AssociatedAccountEntity(\n\n    @EmbeddedId\n    override val id: AssociatedAccountCompositeId,\n\n    @OneToOne\n    @JoinColumn(name = &quot;promotion_code_id&quot;, insertable = false, updatable = false)\n    val promotionCode: PromotionCodeEntity\n\n) : BaseEntity&lt;AssociatedAccountCompositeId?&gt;()\n</code></pre>\n<p>We were migrating the project and different CompositeKey works but here I cannot make it work for few days, and the main difference in OneToOne relationship. Right now I have prepared simplest possible usecase, am getting error:</p>\n<pre><code>fun method(customerId: String, dto: PromotionCodeAssignRequestParameters): Uni&lt;List&lt;PromotionCodeEntity&gt;&gt; {\n        return PromotionCodeEntity.findAll().list()\n}\n</code></pre>\n<pre><code>&quot;Error accessing field [private java.lang.String sth.promotion_campaigns_service.enitites.id.AssociatedAccountCompositeId.customerAccountId] by reflection for persistent property [sth.promotion_campaigns_service.enitites.id.AssociatedAccountCompositeId#customerAccountId] : 1&quot;,\n</code></pre>\n<p>I tried obvious things like manual open instead of gradle plugin or changing val to var everywhere. <br>\nAny help would be appreciated.</p>\n<p>EDIT\nI am attaching project w example <a href=\"https://github.com/damiankaplon/stack-question\" rel=\"nofollow noreferrer\">https://github.com/damiankaplon/stack-question</a></p>\n"},{"tags":["java","spring","oracle","hibernate"],"comments":[{"owner":{"account_id":5168089,"reputation":26701,"user_id":4137489,"accept_rate":100,"display_name":"marstran"},"score":1,"creation_date":1676467744,"post_id":75460426,"comment_id":133141991,"body_markdown":"You need ojdbc8 or ojdbc10 according to this page: https://www.oracle.com/sg/database/technologies/appdev/jdbc-downloads.html","body":"You need ojdbc8 or ojdbc10 according to this page: <a href=\"https://www.oracle.com/sg/database/technologies/appdev/jdbc-downloads.html\" rel=\"nofollow noreferrer\">oracle.com/sg/database/technologies/appdev/jdbc-downloads.ht&zwnj;&#8203;ml</a>"},{"owner":{"account_id":5168089,"reputation":26701,"user_id":4137489,"accept_rate":100,"display_name":"marstran"},"score":1,"creation_date":1676467812,"post_id":75460426,"comment_id":133142015,"body_markdown":"And since you&#39;re on Java 8, you should use ojdbc8.","body":"And since you&#39;re on Java 8, you should use ojdbc8."},{"owner":{"account_id":24226787,"reputation":186,"user_id":18181155,"display_name":"oisene"},"score":0,"creation_date":1676475446,"post_id":75460426,"comment_id":133144837,"body_markdown":"If you are unable to upgrade Java and JDBC, you can set parameter SQLNET.ALLOWED_LOGON_VERSION_SERVER=11 in sqlnet.ora on the datbase server. Upgrade highly recommended, though.","body":"If you are unable to upgrade Java and JDBC, you can set parameter SQLNET.ALLOWED_LOGON_VERSION_SERVER=11 in sqlnet.ora on the datbase server. Upgrade highly recommended, though."},{"owner":{"account_id":779805,"reputation":4963,"user_id":836215,"display_name":"ibre5041"},"score":0,"creation_date":1676500914,"post_id":75460426,"comment_id":133151999,"body_markdown":"You should also check version of password hash stored with your DB user: https://stackoverflow.com/a/56531594/836215","body":"You should also check version of password hash stored with your DB user: <a href=\"https://stackoverflow.com/a/56531594/836215\">stackoverflow.com/a/56531594/836215</a>"}],"owner":{"account_id":10371181,"reputation":19,"user_id":7648831,"display_name":"Azim Uddin"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":683,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676467368,"creation_date":1676467368,"question_id":75460426,"body_markdown":"I&#39;m getting below exception whenever I try to start my java application \r\n\r\n```\r\norg.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator  - HHH000342: Could not obtain connection to query metadata : ORA-28040: No matching authentication protocol\r\n\r\n1406 [main] INFO  org.hibernate.dialect.Dialect  - HHH000400: Using dialect: org.hibernate.dialect.Oracle10gDialect\r\n6359 [main] ERROR org.hibernate.hql.spi.id.IdTableHelper  - Unable obtain JDBC Connection\r\njava.sql.SQLException: ORA-28040: No matching authentication protocol\r\n\r\n\tat oracle.jdbc.driver.T4CTTIoer.processError(T4CTTIoer.java:439)\r\n\tat oracle.jdbc.driver.T4CTTIoer.processError(T4CTTIoer.java:388)\r\n\tat oracle.jdbc.driver.T4CTTIoer.processError(T4CTTIoer.java:381)\r\n\tat oracle.jdbc.driver.T4CTTIoauthenticate.processError(T4CTTIoauthenticate.java:427)\r\n\tat oracle.jdbc.driver.T4CTTIfun.receive(T4CTTIfun.java:436)\r\n\tat oracle.jdbc.driver.T4CTTIfun.doRPC(T4CTTIfun.java:186)\r\n\tat oracle.jdbc.driver.T4CTTIoauthenticate.doOSESSKEY(T4CTTIoauthenticate.java:390)\r\n\tat oracle.jdbc.driver.T4CConnection.logon(T4CConnection.java:356)\r\n\tat oracle.jdbc.driver.PhysicalConnection.&lt;init&gt;(PhysicalConnection.java:531)\r\n\tat oracle.jdbc.driver.T4CConnection.&lt;init&gt;(T4CConnection.java:221)\r\n\tat oracle.jdbc.driver.T4CDriverExtension.getConnection(T4CDriverExtension.java:32)\r\n\tat oracle.jdbc.driver.OracleDriver.connect(OracleDriver.java:503)\r\n\tat java.sql.DriverManager.getConnection(DriverManager.java:664)\r\n\tat java.sql.DriverManager.getConnection(DriverManager.java:208)\r\n\tat org.springframework.jdbc.datasource.DriverManagerDataSource.getConnectionFromDriverManager(DriverManagerDataSource.java:154)\r\n\tat org.springframework.jdbc.datasource.DriverManagerDataSource.getConnectionFromDriver(DriverManagerDataSource.java:145)\r\n\tat org.springframework.jdbc.datasource.AbstractDriverBasedDataSource.getConnectionFromDriver(AbstractDriverBasedDataSource.java:205)\r\n\tat org.springframework.jdbc.datasource.AbstractDriverBasedDataSource.getConnection(AbstractDriverBasedDataSource.java:169)\r\n\tat org.hibernate.engine.jdbc.connections.internal.DatasourceConnectionProviderImpl.getConnection(DatasourceConnectionProviderImpl.java:122)\r\n\tat org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess.obtainConnection(JdbcEnvironmentInitiator.java:180)\r\n\tat org.hibernate.hql.spi.id.IdTableHelper.executeIdTableCreationStatements(IdTableHelper.java:67)\r\n\tat org.hibernate.hql.spi.id.global.GlobalTemporaryTableBulkIdStrategy.finishPreparation(GlobalTemporaryTableBulkIdStrategy.java:125)\r\n\tat org.hibernate.hql.spi.id.global.GlobalTemporaryTableBulkIdStrategy.finishPreparation(GlobalTemporaryTableBulkIdStrategy.java:42)\r\n\tat org.hibernate.hql.spi.id.AbstractMultiTableBulkIdStrategyImpl.prepare(AbstractMultiTableBulkIdStrategyImpl.java:88)\r\n\tat org.hibernate.internal.SessionFactoryImpl.&lt;init&gt;(SessionFactoryImpl.java:313)\r\n\tat org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:462)\r\n\tat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1237)\r\n\tat org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:57)\r\n\tat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365)\r\n\tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:390)\r\n\tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:377)\r\n\tat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1853)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1790)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:594)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:516)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:324)\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:226)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)\r\n\tat org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1109)\r\n\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:869)\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:551)\r\n\tat com.company.frontend.tracking.TrackingContext.&lt;init&gt;(TrackingContext.java:24)\r\n\tat com.company.frontend.tracking.TrackingContext.getInstance(TrackingContext.java:29)\r\n\tat com.company.process.CorrespondenceFTPInputProcess.&lt;init&gt;(Myapplication.java:23)\r\n\tat com.company.frontend.Myapplication.preRun(Myapplication.java:41)\r\n\tat com.company.frontend.ProcessApp.run(ProcessApp.java:275)\r\n\tat com.company.frontend.Myapplication.main(CorrespondenceFTPRouterIn.java:88)\r\n6409 [main] INFO  org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator  - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]\r\n[main] INFO org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit &#39;default&#39;\r\n[main] INFO org.springframework.cache.ehcache.EhCacheManagerFactoryBean - Initializing EhCache CacheManager\r\n02/15/23  06:37:10  Initializing FTPInputProcess\r\nDatabase connection unavailable\r\n```\r\nversions of project I&#39;m using \r\nJava version:java 1.8\r\ndatabase is oracle 19c.\r\n\r\n\r\nThe thing I have tried \r\nI updated the ojdbc5 jar to ojdbc6 but still no luck, Can someone please assist me with this problem?\r\n","title":"Unable obtain JDBC Connection with oracle 19c in java 1.8","body":"<p>I'm getting below exception whenever I try to start my java application</p>\n<pre><code>org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator  - HHH000342: Could not obtain connection to query metadata : ORA-28040: No matching authentication protocol\n\n1406 [main] INFO  org.hibernate.dialect.Dialect  - HHH000400: Using dialect: org.hibernate.dialect.Oracle10gDialect\n6359 [main] ERROR org.hibernate.hql.spi.id.IdTableHelper  - Unable obtain JDBC Connection\njava.sql.SQLException: ORA-28040: No matching authentication protocol\n\n    at oracle.jdbc.driver.T4CTTIoer.processError(T4CTTIoer.java:439)\n    at oracle.jdbc.driver.T4CTTIoer.processError(T4CTTIoer.java:388)\n    at oracle.jdbc.driver.T4CTTIoer.processError(T4CTTIoer.java:381)\n    at oracle.jdbc.driver.T4CTTIoauthenticate.processError(T4CTTIoauthenticate.java:427)\n    at oracle.jdbc.driver.T4CTTIfun.receive(T4CTTIfun.java:436)\n    at oracle.jdbc.driver.T4CTTIfun.doRPC(T4CTTIfun.java:186)\n    at oracle.jdbc.driver.T4CTTIoauthenticate.doOSESSKEY(T4CTTIoauthenticate.java:390)\n    at oracle.jdbc.driver.T4CConnection.logon(T4CConnection.java:356)\n    at oracle.jdbc.driver.PhysicalConnection.&lt;init&gt;(PhysicalConnection.java:531)\n    at oracle.jdbc.driver.T4CConnection.&lt;init&gt;(T4CConnection.java:221)\n    at oracle.jdbc.driver.T4CDriverExtension.getConnection(T4CDriverExtension.java:32)\n    at oracle.jdbc.driver.OracleDriver.connect(OracleDriver.java:503)\n    at java.sql.DriverManager.getConnection(DriverManager.java:664)\n    at java.sql.DriverManager.getConnection(DriverManager.java:208)\n    at org.springframework.jdbc.datasource.DriverManagerDataSource.getConnectionFromDriverManager(DriverManagerDataSource.java:154)\n    at org.springframework.jdbc.datasource.DriverManagerDataSource.getConnectionFromDriver(DriverManagerDataSource.java:145)\n    at org.springframework.jdbc.datasource.AbstractDriverBasedDataSource.getConnectionFromDriver(AbstractDriverBasedDataSource.java:205)\n    at org.springframework.jdbc.datasource.AbstractDriverBasedDataSource.getConnection(AbstractDriverBasedDataSource.java:169)\n    at org.hibernate.engine.jdbc.connections.internal.DatasourceConnectionProviderImpl.getConnection(DatasourceConnectionProviderImpl.java:122)\n    at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess.obtainConnection(JdbcEnvironmentInitiator.java:180)\n    at org.hibernate.hql.spi.id.IdTableHelper.executeIdTableCreationStatements(IdTableHelper.java:67)\n    at org.hibernate.hql.spi.id.global.GlobalTemporaryTableBulkIdStrategy.finishPreparation(GlobalTemporaryTableBulkIdStrategy.java:125)\n    at org.hibernate.hql.spi.id.global.GlobalTemporaryTableBulkIdStrategy.finishPreparation(GlobalTemporaryTableBulkIdStrategy.java:42)\n    at org.hibernate.hql.spi.id.AbstractMultiTableBulkIdStrategyImpl.prepare(AbstractMultiTableBulkIdStrategyImpl.java:88)\n    at org.hibernate.internal.SessionFactoryImpl.&lt;init&gt;(SessionFactoryImpl.java:313)\n    at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:462)\n    at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1237)\n    at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:57)\n    at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365)\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:390)\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:377)\n    at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1853)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1790)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:594)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:516)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:324)\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:226)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)\n    at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1109)\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:869)\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:551)\n    at com.company.frontend.tracking.TrackingContext.&lt;init&gt;(TrackingContext.java:24)\n    at com.company.frontend.tracking.TrackingContext.getInstance(TrackingContext.java:29)\n    at com.company.process.CorrespondenceFTPInputProcess.&lt;init&gt;(Myapplication.java:23)\n    at com.company.frontend.Myapplication.preRun(Myapplication.java:41)\n    at com.company.frontend.ProcessApp.run(ProcessApp.java:275)\n    at com.company.frontend.Myapplication.main(CorrespondenceFTPRouterIn.java:88)\n6409 [main] INFO  org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator  - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]\n[main] INFO org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'\n[main] INFO org.springframework.cache.ehcache.EhCacheManagerFactoryBean - Initializing EhCache CacheManager\n02/15/23  06:37:10  Initializing FTPInputProcess\nDatabase connection unavailable\n</code></pre>\n<p>versions of project I'm using\nJava version:java 1.8\ndatabase is oracle 19c.</p>\n<p>The thing I have tried\nI updated the ojdbc5 jar to ojdbc6 but still no luck, Can someone please assist me with this problem?</p>\n"},{"tags":["java","android","webview","dropdown"],"answers":[{"comments":[{"owner":{"account_id":11561335,"reputation":243,"user_id":9148371,"accept_rate":50,"display_name":"Priyanka Singhal"},"score":1,"creation_date":1625051192,"post_id":68193500,"comment_id":120522881,"body_markdown":"What should i do to avoid it?","body":"What should i do to avoid it?"},{"owner":{"account_id":19888576,"reputation":25,"user_id":14571121,"display_name":"javaOutlaw"},"score":0,"creation_date":1625051628,"post_id":68193500,"comment_id":120523056,"body_markdown":"try to debug it.","body":"try to debug it."}],"tags":[],"owner":{"account_id":19888576,"reputation":25,"user_id":14571121,"display_name":"javaOutlaw"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1625050808,"creation_date":1625050808,"answer_id":68193500,"question_id":55136607,"body_markdown":"The object you are calling has died because its hosting process no longer exists.\r\n[refer to this thread][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/21826670/deadobjectexception-on-android-app","title":"Android Webview Crash on dropdown Click","body":"<p>The object you are calling has died because its hosting process no longer exists.\n<a href=\"https://stackoverflow.com/questions/21826670/deadobjectexception-on-android-app\">refer to this thread</a></p>\n"},{"comments":[{"owner":{"account_id":11561335,"reputation":243,"user_id":9148371,"accept_rate":50,"display_name":"Priyanka Singhal"},"score":1,"creation_date":1625118061,"post_id":68197256,"comment_id":120542882,"body_markdown":"It worked fine. Library dependency issue was there. Thanks","body":"It worked fine. Library dependency issue was there. Thanks"}],"tags":[],"owner":{"account_id":6965780,"reputation":952,"user_id":5343866,"display_name":"Abhinav Suman"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1625065849,"creation_date":1625065299,"answer_id":68197256,"question_id":55136607,"body_markdown":"Since I&#39;m not having the URL which you are using at your end but tried with several URLs that is having a dropdown in their response and my `WebView` is working fine on the devices. \r\n\r\nThe device which I tested on is `PIXEL 2, Samsung Galaxy S20+, S10+`  \r\n\r\nhere is the dependency I have used for the AndroidX in my Project. \r\n\r\n&gt; Especially, I suggest updating the dependency first.\r\n\r\n \r\n\r\n    implementation &quot;org.jetbrains.kotlin:kotlin-stdlib:$kotlin_version&quot;\r\n    implementation &#39;androidx.core:core-ktx:1.5.0&#39;\r\n    implementation &#39;androidx.appcompat:appcompat:1.3.0&#39;\r\n    implementation &#39;com.google.android.material:material:1.3.0&#39;\r\n    implementation &#39;androidx.constraintlayout:constraintlayout:2.0.4&#39;\r\n\r\nand the code for the `WebView` is pretty much normal.\r\n\r\n    binding.webView.settings.apply {\r\n         // TODO Depending upon your requirement you can use these setting to be applied before loading the URL.\r\n         // javaScriptEnabled = true\r\n         // loadWithOverviewMode = true\r\n         // javaScriptCanOpenWindowsAutomatically = true\r\n    }\r\n\r\n    binding.webView.apply {\r\n        webViewClient = object : WebViewClient() {\r\n            override fun shouldOverrideUrlLoading(\r\n                view: WebView,\r\n                url: String\r\n            ): Boolean {\r\n                Log.e(&quot;url coming from server&quot;, url)\r\n                view.loadUrl(url)\r\n                        return false;\r\n            }\r\n       }\r\n       loadUrl(&quot;The URL you want to load here&quot;)\r\n    }\r\n\r\nIf it still not work at your end, then possibly can you share your&#39;s activity code.","title":"Android Webview Crash on dropdown Click","body":"<p>Since I'm not having the URL which you are using at your end but tried with several URLs that is having a dropdown in their response and my <code>WebView</code> is working fine on the devices.</p>\n<p>The device which I tested on is <code>PIXEL 2, Samsung Galaxy S20+, S10+</code></p>\n<p>here is the dependency I have used for the AndroidX in my Project.</p>\n<blockquote>\n<p>Especially, I suggest updating the dependency first.</p>\n</blockquote>\n<pre><code>implementation &quot;org.jetbrains.kotlin:kotlin-stdlib:$kotlin_version&quot;\nimplementation 'androidx.core:core-ktx:1.5.0'\nimplementation 'androidx.appcompat:appcompat:1.3.0'\nimplementation 'com.google.android.material:material:1.3.0'\nimplementation 'androidx.constraintlayout:constraintlayout:2.0.4'\n</code></pre>\n<p>and the code for the <code>WebView</code> is pretty much normal.</p>\n<pre><code>binding.webView.settings.apply {\n     // TODO Depending upon your requirement you can use these setting to be applied before loading the URL.\n     // javaScriptEnabled = true\n     // loadWithOverviewMode = true\n     // javaScriptCanOpenWindowsAutomatically = true\n}\n\nbinding.webView.apply {\n    webViewClient = object : WebViewClient() {\n        override fun shouldOverrideUrlLoading(\n            view: WebView,\n            url: String\n        ): Boolean {\n            Log.e(&quot;url coming from server&quot;, url)\n            view.loadUrl(url)\n                    return false;\n        }\n   }\n   loadUrl(&quot;The URL you want to load here&quot;)\n}\n</code></pre>\n<p>If it still not work at your end, then possibly can you share your's activity code.</p>\n"},{"tags":[],"owner":{"account_id":11561335,"reputation":243,"user_id":9148371,"accept_rate":50,"display_name":"Priyanka Singhal"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1625118166,"creation_date":1625116191,"answer_id":68204622,"question_id":55136607,"body_markdown":"Issue- I was extending BaseActivity class instead of AppCompat Activity.\r\n\r\nSince I added *phrase* recently for my app in Base Activity, web view dropdown was crashing. \r\n\r\nI just used below code\r\n\r\n    WebViewActivity extends AppCompatActivity","title":"Android Webview Crash on dropdown Click","body":"<p>Issue- I was extending BaseActivity class instead of AppCompat Activity.</p>\n<p>Since I added <em>phrase</em> recently for my app in Base Activity, web view dropdown was crashing.</p>\n<p>I just used below code</p>\n<pre><code>WebViewActivity extends AppCompatActivity\n</code></pre>\n"}],"owner":{"account_id":11561335,"reputation":243,"user_id":9148371,"accept_rate":50,"display_name":"Priyanka Singhal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":865,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":68197256,"answer_count":3,"score":0,"last_activity_date":1676467028,"creation_date":1552462596,"question_id":55136607,"body_markdown":"Webview loads but contains drop-down.When I click on that app crashes\r\n\r\nWebview was working fine till last month but now it&#39;s crashing on clicking dropdown in webview in all the devices. Dependencies used are: \r\n\r\n    implementation &#39;androidx.appcompat:appcompat:1.0.2&#39;\r\n    implementation &#39;androidx.constraintlayout:constraintlayout:1.1.3&#39;\r\n    implementation(&#39;com.google.android.material:material:1.0.0&#39;)\r\n\r\nBelow is attached log:\r\n\r\n\r\n    \r\n\r\n    --------- beginning of crash\r\n    2021-06-30 16:08:03.423 19438-19438/com.dogmasystems.myrentcarbooking A/libc: Fatal signal 5 (SIGTRAP), code -6 (SI_TKILL) in tid 19438 (yrentcarbooking), pid 19438 (yrentcarbooking)\r\n    2021-06-30 16:08:03.541 21456-21456/? E/crash_dump32: unknown process state: t\r\n    2021-06-30 16:08:03.611 21456-21456/? A/DEBUG: *** *** *** *** *** *** *** *** *** *** *** *** *** *** *** ***\r\n    2021-06-30 16:08:03.612 21456-21456/? A/DEBUG: Build fingerprint: &#39;samsung/gta3xlwifixx/gta3xlwifi:10/QP1A.190711.020/T510XXS5BUC4:user/release-keys&#39;\r\n    2021-06-30 16:08:03.612 21456-21456/? A/DEBUG: Revision: &#39;4&#39;\r\n    2021-06-30 16:08:03.612 21456-21456/? A/DEBUG: ABI: &#39;arm&#39;\r\n    2021-06-30 16:08:03.613 21456-21456/? A/DEBUG: Timestamp: 2021-06-30 16:08:03+0530\r\n    2021-06-30 16:08:03.613 21456-21456/? A/DEBUG: pid: 19438, tid: 19438, name: yrentcarbooking  &gt;&gt;&gt; com.dogmasystems.myrentcarbooking &lt;&lt;&lt;\r\n    2021-06-30 16:08:03.613 21456-21456/? A/DEBUG: uid: 10316\r\n    2021-06-30 16:08:03.613 21456-21456/? A/DEBUG: signal 5 (SIGTRAP), code -6 (SI_TKILL), fault addr --------\r\n    2021-06-30 16:08:03.614 21456-21456/? A/DEBUG: Abort message: &#39;[FATAL:jni_android.cc(306)] Please include Java exception stack in crash report\r\n        &#39;\r\n    2021-06-30 16:08:03.614 21456-21456/? A/DEBUG:     r0  00000000  r1  00000000  r2  00000000  r3  c52df784\r\n    2021-06-30 16:08:03.614 21456-21456/? A/DEBUG:     r4  fff713a4  r5  c8934400  r6  fff70f5c  r7  fff70f78\r\n    2021-06-30 16:08:03.614 21456-21456/? A/DEBUG:     r8  eabea260  r9  0000004f  r10 fff713ac  r11 fff70f5c\r\n    2021-06-30 16:08:03.614 21456-21456/? A/DEBUG:     ip  c88d691c  sp  fff70f48  lr  c6d5c90f  pc  c69045a2\r\n    2021-06-30 16:08:03.616 21456-21456/? A/DEBUG: backtrace:\r\n    2021-06-30 16:08:03.616 21456-21456/? A/DEBUG:       #00 pc 017e55a2  /data/app/com.google.android.trichromelibrary_443021030-3FjkooxbSPI7iFUAICEe6A==/base.apk!libmonochrome.so (offset 0x645000) (BuildId: ea1d73db0ecf7ba0450e8051b6491bc520fd7df9)\r\n    2021-06-30 16:08:04.553 3687-3687/? E//system/bin/tombstoned: Tombstone written to: /data/tombstones/tombstone_08\r\n    2021-06-30 16:08:04.578 3534-3534/? E/audit: type=1701 audit(1625049484.575:48919): auid=4294967295 uid=10316 gid=10316 ses=4294967295 subj=u:r:untrusted_app:s0:c60,c257,c512,c768 pid=19438 comm=&quot;yrentcarbooking&quot; exe=&quot;/system/bin/app_process32&quot; sig=5\r\n    2021-06-30 16:08:04.624 21463-21463/? E/Zygote: isWhitelistProcess - Process is Whitelisted\r\n    2021-06-30 16:08:04.626 21463-21463/? E/Zygote: accessInfo : 1\r\n    2021-06-30 16:08:04.646 21463-21463/? E/ng.android.loo: Not starting debugger since process cannot load the jdwp agent.\r\n    2021-06-30 16:08:04.660 3993-4773/? E/InputDispatcher: channel &#39;379536b com.dogmasystems.myrentcarbooking/com.dogmasystems.myrentcarbooking.ui.activities.WebViewActivity (server)&#39; ~ Channel is unrecoverably broken and will be disposed!\r\n    2021-06-30 16:08:04.664 3993-4773/? E/InputDispatcher: channel &#39;b3e576b com.dogmasystems.myrentcarbooking/com.dogmasystems.myrentcarbooking.ui.activities.DashboardActivity (server)&#39; ~ Channel is unrecoverably broken and will be disposed!\r\n    2021-06-30 16:08:04.725 3993-4017/? E/WindowManager: RemoteException occurs on reporting focusChanged, w=Window{379536b u0 com.dogmasystems.myrentcarbooking/com.dogmasystems.myrentcarbooking.ui.activities.WebViewActivity EXITING}\r\n        android.os.DeadObjectException\r\n            at android.os.BinderProxy.transactNative(Native Method)\r\n            at android.os.BinderProxy.transact(BinderProxy.java:575)\r\n            at android.view.IWindow$Stub$Proxy.windowFocusChanged(IWindow.java:829)\r\n            at com.android.server.wm.WindowState.reportFocusChangedSerialized(WindowState.java:3691)\r\n            at com.android.server.wm.WindowManagerService$H.handleMessage(WindowManagerService.java:5262)\r\n            at android.os.Handler.dispatchMessage(Handler.java:107)\r\n            at android.os.Looper.loop(Looper.java:237)\r\n            at android.os.HandlerThread.run(HandlerThread.java:67)\r\n            at com.android.server.ServiceThread.run(ServiceThread.java:44)","title":"Android Webview Crash on dropdown Click","body":"<p>Webview loads but contains drop-down.When I click on that app crashes</p>\n<p>Webview was working fine till last month but now it's crashing on clicking dropdown in webview in all the devices. Dependencies used are:</p>\n<pre><code>implementation 'androidx.appcompat:appcompat:1.0.2'\nimplementation 'androidx.constraintlayout:constraintlayout:1.1.3'\nimplementation('com.google.android.material:material:1.0.0')\n</code></pre>\n<p>Below is attached log:</p>\n<pre><code>--------- beginning of crash\n2021-06-30 16:08:03.423 19438-19438/com.dogmasystems.myrentcarbooking A/libc: Fatal signal 5 (SIGTRAP), code -6 (SI_TKILL) in tid 19438 (yrentcarbooking), pid 19438 (yrentcarbooking)\n2021-06-30 16:08:03.541 21456-21456/? E/crash_dump32: unknown process state: t\n2021-06-30 16:08:03.611 21456-21456/? A/DEBUG: *** *** *** *** *** *** *** *** *** *** *** *** *** *** *** ***\n2021-06-30 16:08:03.612 21456-21456/? A/DEBUG: Build fingerprint: 'samsung/gta3xlwifixx/gta3xlwifi:10/QP1A.190711.020/T510XXS5BUC4:user/release-keys'\n2021-06-30 16:08:03.612 21456-21456/? A/DEBUG: Revision: '4'\n2021-06-30 16:08:03.612 21456-21456/? A/DEBUG: ABI: 'arm'\n2021-06-30 16:08:03.613 21456-21456/? A/DEBUG: Timestamp: 2021-06-30 16:08:03+0530\n2021-06-30 16:08:03.613 21456-21456/? A/DEBUG: pid: 19438, tid: 19438, name: yrentcarbooking  &gt;&gt;&gt; com.dogmasystems.myrentcarbooking &lt;&lt;&lt;\n2021-06-30 16:08:03.613 21456-21456/? A/DEBUG: uid: 10316\n2021-06-30 16:08:03.613 21456-21456/? A/DEBUG: signal 5 (SIGTRAP), code -6 (SI_TKILL), fault addr --------\n2021-06-30 16:08:03.614 21456-21456/? A/DEBUG: Abort message: '[FATAL:jni_android.cc(306)] Please include Java exception stack in crash report\n    '\n2021-06-30 16:08:03.614 21456-21456/? A/DEBUG:     r0  00000000  r1  00000000  r2  00000000  r3  c52df784\n2021-06-30 16:08:03.614 21456-21456/? A/DEBUG:     r4  fff713a4  r5  c8934400  r6  fff70f5c  r7  fff70f78\n2021-06-30 16:08:03.614 21456-21456/? A/DEBUG:     r8  eabea260  r9  0000004f  r10 fff713ac  r11 fff70f5c\n2021-06-30 16:08:03.614 21456-21456/? A/DEBUG:     ip  c88d691c  sp  fff70f48  lr  c6d5c90f  pc  c69045a2\n2021-06-30 16:08:03.616 21456-21456/? A/DEBUG: backtrace:\n2021-06-30 16:08:03.616 21456-21456/? A/DEBUG:       #00 pc 017e55a2  /data/app/com.google.android.trichromelibrary_443021030-3FjkooxbSPI7iFUAICEe6A==/base.apk!libmonochrome.so (offset 0x645000) (BuildId: ea1d73db0ecf7ba0450e8051b6491bc520fd7df9)\n2021-06-30 16:08:04.553 3687-3687/? E//system/bin/tombstoned: Tombstone written to: /data/tombstones/tombstone_08\n2021-06-30 16:08:04.578 3534-3534/? E/audit: type=1701 audit(1625049484.575:48919): auid=4294967295 uid=10316 gid=10316 ses=4294967295 subj=u:r:untrusted_app:s0:c60,c257,c512,c768 pid=19438 comm=&quot;yrentcarbooking&quot; exe=&quot;/system/bin/app_process32&quot; sig=5\n2021-06-30 16:08:04.624 21463-21463/? E/Zygote: isWhitelistProcess - Process is Whitelisted\n2021-06-30 16:08:04.626 21463-21463/? E/Zygote: accessInfo : 1\n2021-06-30 16:08:04.646 21463-21463/? E/ng.android.loo: Not starting debugger since process cannot load the jdwp agent.\n2021-06-30 16:08:04.660 3993-4773/? E/InputDispatcher: channel '379536b com.dogmasystems.myrentcarbooking/com.dogmasystems.myrentcarbooking.ui.activities.WebViewActivity (server)' ~ Channel is unrecoverably broken and will be disposed!\n2021-06-30 16:08:04.664 3993-4773/? E/InputDispatcher: channel 'b3e576b com.dogmasystems.myrentcarbooking/com.dogmasystems.myrentcarbooking.ui.activities.DashboardActivity (server)' ~ Channel is unrecoverably broken and will be disposed!\n2021-06-30 16:08:04.725 3993-4017/? E/WindowManager: RemoteException occurs on reporting focusChanged, w=Window{379536b u0 com.dogmasystems.myrentcarbooking/com.dogmasystems.myrentcarbooking.ui.activities.WebViewActivity EXITING}\n    android.os.DeadObjectException\n        at android.os.BinderProxy.transactNative(Native Method)\n        at android.os.BinderProxy.transact(BinderProxy.java:575)\n        at android.view.IWindow$Stub$Proxy.windowFocusChanged(IWindow.java:829)\n        at com.android.server.wm.WindowState.reportFocusChangedSerialized(WindowState.java:3691)\n        at com.android.server.wm.WindowManagerService$H.handleMessage(WindowManagerService.java:5262)\n        at android.os.Handler.dispatchMessage(Handler.java:107)\n        at android.os.Looper.loop(Looper.java:237)\n        at android.os.HandlerThread.run(HandlerThread.java:67)\n        at com.android.server.ServiceThread.run(ServiceThread.java:44)\n</code></pre>\n"},{"tags":["java","android","installation","sdk"],"comments":[{"owner":{"account_id":5703685,"reputation":4432,"user_id":4507927,"accept_rate":82,"display_name":"Yupi"},"score":0,"creation_date":1515706198,"post_id":48215900,"comment_id":83414063,"body_markdown":"Probably because it is already installed on your PC. You need to find path of it and provide in that box. Usually path is on C and AppData for example something like this: `C:\\Users\\YourUserName\\AppData\\Local\\Android\\sdk`","body":"Probably because it is already installed on your PC. You need to find path of it and provide in that box. Usually path is on C and AppData for example something like this: <code>C:\\Users\\YourUserName\\AppData\\Local\\Android\\sdk</code>"},{"owner":{"account_id":7420697,"reputation":619,"user_id":5645211,"display_name":"codemonkey"},"score":1,"creation_date":1515706326,"post_id":48215900,"comment_id":83414129,"body_markdown":"@Yupi No. It is not installed, and there is no folder called &quot;Android&quot; in local.","body":"@Yupi No. It is not installed, and there is no folder called &quot;Android&quot; in local."},{"owner":{"account_id":8655,"reputation":20729,"user_id":15689,"accept_rate":91,"display_name":"Brian Knoblauch"},"score":0,"creation_date":1526909364,"post_id":48215900,"comment_id":87913063,"body_markdown":"Same issue here.  I&#39;ve cleaned AppData, ProgramData, all the Android directories local and root.  Problem persists.","body":"Same issue here.  I&#39;ve cleaned AppData, ProgramData, all the Android directories local and root.  Problem persists."}],"answers":[{"comments":[{"owner":{"account_id":9255157,"reputation":658,"user_id":6874315,"display_name":"Huzaifa Asif"},"score":0,"creation_date":1602655933,"post_id":50473339,"comment_id":113785760,"body_markdown":"I cannot find the .gradle directory in AppData/Local/Google/AndroidStudio4.1 Can you please help me out?","body":"I cannot find the .gradle directory in AppData/Local/Google/AndroidStudio4.1 Can you please help me out?"},{"owner":{"account_id":960314,"reputation":20995,"user_id":984830,"accept_rate":93,"display_name":"Nick Cardoso"},"score":0,"creation_date":1607677276,"post_id":50473339,"comment_id":115352625,"body_markdown":"This is only half of an answer right now. There is no .gradle folder in either Android or Google in AppData/Local. You need to say where it is supposed to be/what you deleted","body":"This is only half of an answer right now. There is no .gradle folder in either Android or Google in AppData/Local. You need to say where it is supposed to be/what you deleted"}],"tags":[],"owner":{"account_id":8655,"reputation":20729,"user_id":15689,"accept_rate":91,"display_name":"Brian Knoblauch"},"comment_count":2,"down_vote_count":2,"up_vote_count":7,"is_accepted":true,"score":5,"last_activity_date":1527009762,"creation_date":1527009762,"answer_id":50473339,"question_id":48215900,"body_markdown":"I *finally* found the solution this morning after battling Android Studio/SDK for quite some time!  In my local AppData I deleted the .gradle directory (which was just short of 2 GiB) and I now get an SDK during Android Studio install.","title":"Reinstalling Android Studio does not reinstall Android SDK","body":"<p>I <em>finally</em> found the solution this morning after battling Android Studio/SDK for quite some time!  In my local AppData I deleted the .gradle directory (which was just short of 2 GiB) and I now get an SDK during Android Studio install.</p>\n"},{"tags":[],"owner":{"account_id":9458213,"reputation":97,"user_id":7032809,"display_name":"Thomas"},"comment_count":0,"down_vote_count":2,"up_vote_count":6,"is_accepted":false,"score":4,"last_activity_date":1580271370,"creation_date":1580270261,"answer_id":59960294,"question_id":48215900,"body_markdown":"I went through the installation process, opened Android Studio &amp; went to import an existing project. The SDK folder was absent, there were no SDK platforms installed &amp; I couldn&#39;t check-select them for installation through the settings.\r\n\r\nClosing Android Studio and then **re-opening it as administrator** prompted the downloading of additional components (SDK tools, emulator-related stuff, etc), solving the issue.","title":"Reinstalling Android Studio does not reinstall Android SDK","body":"<p>I went through the installation process, opened Android Studio &amp; went to import an existing project. The SDK folder was absent, there were no SDK platforms installed &amp; I couldn't check-select them for installation through the settings.</p>\n\n<p>Closing Android Studio and then <strong>re-opening it as administrator</strong> prompted the downloading of additional components (SDK tools, emulator-related stuff, etc), solving the issue.</p>\n"},{"comments":[{"owner":{"account_id":7523407,"reputation":103,"user_id":5714534,"accept_rate":75,"display_name":"Michiel"},"score":3,"creation_date":1610960144,"post_id":65249544,"comment_id":116287469,"body_markdown":"This is the only thing that worked for me. Thank you!","body":"This is the only thing that worked for me. Thank you!"},{"owner":{"account_id":21551242,"reputation":455,"user_id":15887315,"display_name":"sam2611"},"score":1,"creation_date":1629274411,"post_id":65249544,"comment_id":121640475,"body_markdown":"Thankyou so much... I was getting mad due to sdk not found . This helped me so much.","body":"Thankyou so much... I was getting mad due to sdk not found . This helped me so much."},{"owner":{"account_id":3426757,"reputation":990,"user_id":2872338,"accept_rate":62,"display_name":"bsayegh"},"score":1,"creation_date":1696268984,"post_id":65249544,"comment_id":136128559,"body_markdown":"This worked for me and it was driving me nuts. Thank you!","body":"This worked for me and it was driving me nuts. Thank you!"}],"tags":[],"owner":{"account_id":960314,"reputation":20995,"user_id":984830,"accept_rate":93,"display_name":"Nick Cardoso"},"comment_count":3,"down_vote_count":0,"up_vote_count":23,"is_accepted":false,"score":23,"last_activity_date":1607682322,"creation_date":1607682322,"answer_id":65249544,"question_id":48215900,"body_markdown":"Answers here are out of date or wrong and so many sources have the wrong info or only part of it. You can use the following steps (steps for windows, but you can adapt):\r\n\r\n- Go to the download page which Android Studio dialog links [which is here](https://developer.android.com/studio#downloads)\r\n- Close Android Studio\r\n- Under &#39;Command line tools only&#39; download the zip for your platform\r\n- Extract the zip to `&lt;drive&gt;/Users/&lt;Username&gt;/AppData/Local/Android/Sdk`\r\n- It created the directory `cmdline-tools` with the wrong sub structure\r\n    - Create `&lt;drive&gt;/Users/&lt;Username&gt;/AppData/Local/Android/Sdk/cmdline-tools/latest`\r\n    - Move the `cmdline-tools` bin and lib folders (and any other files) inside the `latest` dir\r\n- Open a command prompt (run as administrator)\r\n- Execute `cd &lt;drive&gt;/Users/&lt;Username&gt;/AppData/Local/Android/Sdk/cmdline-tools/latest/bin`\r\n- Execute `sdkmanager &quot;platforms;android-28&quot;` (or pick a platform of your own)\r\n- Accept the license with `y` and wait\r\n- Restart Android studio, *et voila*!","title":"Reinstalling Android Studio does not reinstall Android SDK","body":"<p>Answers here are out of date or wrong and so many sources have the wrong info or only part of it. You can use the following steps (steps for windows, but you can adapt):</p>\n<ul>\n<li>Go to the download page which Android Studio dialog links <a href=\"https://developer.android.com/studio#downloads\" rel=\"noreferrer\">which is here</a></li>\n<li>Close Android Studio</li>\n<li>Under 'Command line tools only' download the zip for your platform</li>\n<li>Extract the zip to <code>&lt;drive&gt;/Users/&lt;Username&gt;/AppData/Local/Android/Sdk</code></li>\n<li>It created the directory <code>cmdline-tools</code> with the wrong sub structure\n<ul>\n<li>Create <code>&lt;drive&gt;/Users/&lt;Username&gt;/AppData/Local/Android/Sdk/cmdline-tools/latest</code></li>\n<li>Move the <code>cmdline-tools</code> bin and lib folders (and any other files) inside the <code>latest</code> dir</li>\n</ul>\n</li>\n<li>Open a command prompt (run as administrator)</li>\n<li>Execute <code>cd &lt;drive&gt;/Users/&lt;Username&gt;/AppData/Local/Android/Sdk/cmdline-tools/latest/bin</code></li>\n<li>Execute <code>sdkmanager &quot;platforms;android-28&quot;</code> (or pick a platform of your own)</li>\n<li>Accept the license with <code>y</code> and wait</li>\n<li>Restart Android studio, <em>et voila</em>!</li>\n</ul>\n"},{"comments":[{"owner":{"account_id":4365428,"reputation":44,"user_id":4205927,"accept_rate":100,"display_name":"MML"},"score":2,"creation_date":1620971254,"post_id":66982642,"comment_id":119360399,"body_markdown":"all these path&#39;s is not contains anything about AS or sdk","body":"all these path&#39;s is not contains anything about AS or sdk"},{"owner":{"account_id":1621371,"reputation":2979,"user_id":1497831,"display_name":"Fr0sT"},"score":0,"creation_date":1621242226,"post_id":66982642,"comment_id":119426496,"body_markdown":"@MML path &quot;HKLM\\Software\\Wow6432Node\\Android SDK tools&quot; contains anything about AS or sdk? Good joke","body":"@MML path &quot;HKLM\\Software\\Wow6432Node\\Android SDK tools&quot; contains anything about AS or sdk? Good joke"},{"owner":{"account_id":1621371,"reputation":2979,"user_id":1497831,"display_name":"Fr0sT"},"score":1,"creation_date":1621344443,"post_id":66982642,"comment_id":119463275,"body_markdown":"@MML you have no such paths at all. That&#39;s not what you said before. Anyway if you got none of these paths, you&#39;ve nothing to remove! In my system, contrary, there were all of them","body":"@MML you have no such paths at all. That&#39;s not what you said before. Anyway if you got none of these paths, you&#39;ve nothing to remove! In my system, contrary, there were all of them"}],"tags":[],"owner":{"account_id":1621371,"reputation":2979,"user_id":1497831,"display_name":"Fr0sT"},"comment_count":3,"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1628565553,"creation_date":1617785567,"answer_id":66982642,"question_id":48215900,"body_markdown":"Removing all Android-related files and folders from %userprofile% didn&#39;t help in my case. Additionally I removed registry keys:\r\n- HKLM\\Software\\Wow6432Node\\Android SDK tools\r\n- HKLM\\System\\ControlSet001\\Control\\Session manager\\Environment\\ANDROID_HOME\r\n- HKCU\\Software\\Classes\\VirtualStore\\Machine\\Software\\Wow6432Node\\Android SDK tools\r\n\r\n**In other words**, all that contained path to where I previously installed SDK. Only then Studio stopped assuring me that SDK &quot;is installed&quot;","title":"Reinstalling Android Studio does not reinstall Android SDK","body":"<p>Removing all Android-related files and folders from %userprofile% didn't help in my case. Additionally I removed registry keys:</p>\n<ul>\n<li>HKLM\\Software\\Wow6432Node\\Android SDK tools</li>\n<li>HKLM\\System\\ControlSet001\\Control\\Session manager\\Environment\\ANDROID_HOME</li>\n<li>HKCU\\Software\\Classes\\VirtualStore\\Machine\\Software\\Wow6432Node\\Android SDK tools</li>\n</ul>\n<p><strong>In other words</strong>, all that contained path to where I previously installed SDK. Only then Studio stopped assuring me that SDK &quot;is installed&quot;</p>\n"},{"tags":[],"owner":{"account_id":24615560,"reputation":1,"user_id":18516619,"display_name":"Fox"},"comment_count":0,"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1647733694,"creation_date":1647733694,"answer_id":71542978,"question_id":48215900,"body_markdown":"Finally found the culprit. **Deleting the .gradle folder in my %userprofile% (not Appdata) fixed the issue.** After deleting it, the Android Studio installer offered to install the Android SDK during the initial setup.","title":"Reinstalling Android Studio does not reinstall Android SDK","body":"<p>Finally found the culprit. <strong>Deleting the .gradle folder in my %userprofile% (not Appdata) fixed the issue.</strong> After deleting it, the Android Studio installer offered to install the Android SDK during the initial setup.</p>\n"},{"comments":[{"owner":{"account_id":2968051,"reputation":1290,"user_id":2520789,"accept_rate":77,"display_name":"Falgantil"},"score":0,"creation_date":1681204390,"post_id":72754986,"comment_id":134014781,"body_markdown":"This worked for me, definitely worth a try.","body":"This worked for me, definitely worth a try."}],"tags":[],"owner":{"account_id":2981004,"reputation":2454,"user_id":2530951,"accept_rate":50,"display_name":"pathe.kiran"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1656172138,"creation_date":1656169713,"answer_id":72754986,"question_id":48215900,"body_markdown":"I think latest android studio is not coming with sdk.\r\nYou need to install manually.\r\n\r\n1. Select File &gt; Settings &gt; Appearance &amp; Behavior &gt; System Settings &gt; Android SDK &gt; Edit option.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n2. Click on Next &gt; Accept &gt; Finish.\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/8iQin.png\r\n  [2]: https://i.stack.imgur.com/f6uZ9.png","title":"Reinstalling Android Studio does not reinstall Android SDK","body":"<p>I think latest android studio is not coming with sdk.\nYou need to install manually.</p>\n<ol>\n<li>Select File &gt; Settings &gt; Appearance &amp; Behavior &gt; System Settings &gt; Android SDK &gt; Edit option.</li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/8iQin.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8iQin.png\" alt=\"enter image description here\" /></a></p>\n<ol start=\"2\">\n<li>Click on Next &gt; Accept &gt; Finish.</li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/f6uZ9.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/f6uZ9.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":14023324,"reputation":11,"user_id":10129033,"display_name":"Atom94"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676466237,"creation_date":1675940460,"answer_id":75397651,"question_id":48215900,"body_markdown":"I think the main reason can be a network issue, like VPN, not using a public connection,firewall,... as people suggest:\r\n[as they suggest here][1]\r\n\r\nIn my case I was using a corporate network, using my personal WIFI or mobile connection show me the SDK choices:\r\n\r\n 1. after you change the directory to something else like(in the ):\r\nin my case I use that path ***C:\\Users\\ $yourusername \\ .android***\r\n\r\n2. and then finally I can see the SDK options after unchecking hidden choice,\r\nbut cant install if I am on a filtered network as I said above.\r\n[failed terminal output SDK installation screenshot][2]\r\nAfter the terminal within Android studio install the SDK related components, you can now see/find that directory\r\n***C:\\Users\\$username\\ AppData\\ Local \\ Android \\ Sdk***\r\n\r\n**EDIT, to summarize:**\r\n\r\nSo basically be sure to use the **newtwork** that doesnt have firewall exc.(for me doesnt work even if I accept the certificates...and whitelist android studio...) and finish the complete set up(SDK tools,AVD...) on that network who SDK installation dialog appers(you **dont need to reinstall**, when you lunch **Android Studio**)\r\n\r\n  [1]: https://stackoverflow.com/questions/26727531/android-studio-not-including-sdk\r\n  [2]: https://i.stack.imgur.com/mxZHw.png","title":"Reinstalling Android Studio does not reinstall Android SDK","body":"<p>I think the main reason can be a network issue, like VPN, not using a public connection,firewall,... as people suggest:\n<a href=\"https://stackoverflow.com/questions/26727531/android-studio-not-including-sdk\">as they suggest here</a></p>\n<p>In my case I was using a corporate network, using my personal WIFI or mobile connection show me the SDK choices:</p>\n<ol>\n<li><p>after you change the directory to something else like(in the ):\nin my case I use that path <em><strong>C:\\Users\\ $yourusername \\ .android</strong></em></p>\n</li>\n<li><p>and then finally I can see the SDK options after unchecking hidden choice,\nbut cant install if I am on a filtered network as I said above.\n<a href=\"https://i.stack.imgur.com/mxZHw.png\" rel=\"nofollow noreferrer\">failed terminal output SDK installation screenshot</a>\nAfter the terminal within Android studio install the SDK related components, you can now see/find that directory\n<em><strong>C:\\Users$username\\ AppData\\ Local \\ Android \\ Sdk</strong></em></p>\n</li>\n</ol>\n<p><strong>EDIT, to summarize:</strong></p>\n<p>So basically be sure to use the <strong>newtwork</strong> that doesnt have firewall exc.(for me doesnt work even if I accept the certificates...and whitelist android studio...) and finish the complete set up(SDK tools,AVD...) on that network who SDK installation dialog appers(you <strong>dont need to reinstall</strong>, when you lunch <strong>Android Studio</strong>)</p>\n"}],"owner":{"account_id":7420697,"reputation":619,"user_id":5645211,"display_name":"codemonkey"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11847,"favorite_count":0,"down_vote_count":0,"up_vote_count":14,"accepted_answer_id":50473339,"answer_count":7,"score":14,"last_activity_date":1676466237,"creation_date":1515705326,"question_id":48215900,"body_markdown":"The first installation it was fine, Android Studio and the SDK was installed properly. Later on I have a problem with SDK and had to reinstall Android Studio. But when I try to reinstall Android Studio, I can&#39;t see an option to install the SDK:\r\n\r\n![installation screen](https://image.ibb.co/dZdGnR/issue.png)\r\n&lt;br&gt;\r\n\r\nAnd when I launch Android Studio, I am getting the error:  \r\n&quot;Please provide the path to the Android SDK.&quot;  \r\n\r\n![Select SDKs](https://image.ibb.co/eMjiZ6/issue2.png)\r\n\r\nHow can I install the SDK properly?\r\n\r\nWhat I tried:  \r\n- Reinstalling Android Studio, \r\n- Removing the Android folder in `\\%USER%\\AppData\\Local\\`.","title":"Reinstalling Android Studio does not reinstall Android SDK","body":"<p>The first installation it was fine, Android Studio and the SDK was installed properly. Later on I have a problem with SDK and had to reinstall Android Studio. But when I try to reinstall Android Studio, I can't see an option to install the SDK:</p>\n<p><img src=\"https://image.ibb.co/dZdGnR/issue.png\" alt=\"installation screen\" />\n<br></p>\n<p>And when I launch Android Studio, I am getting the error:<br />\n&quot;Please provide the path to the Android SDK.&quot;</p>\n<p><img src=\"https://image.ibb.co/eMjiZ6/issue2.png\" alt=\"Select SDKs\" /></p>\n<p>How can I install the SDK properly?</p>\n<p>What I tried:</p>\n<ul>\n<li>Reinstalling Android Studio,</li>\n<li>Removing the Android folder in <code>\\%USER%\\AppData\\Local\\</code>.</li>\n</ul>\n"},{"tags":["java","libgdx","rendering","collision","isometric"],"comments":[{"owner":{"account_id":775068,"reputation":64803,"user_id":823393,"accept_rate":86,"display_name":"OldCurmudgeon"},"score":3,"creation_date":1414708594,"post_id":26664417,"comment_id":41930896,"body_markdown":"Surely the obvious solution is to maintain the player **in** the object layer either behind or in front of other objects.","body":"Surely the obvious solution is to maintain the player <b>in</b> the object layer either behind or in front of other objects."},{"owner":{"account_id":3649096,"reputation":683,"user_id":3041683,"accept_rate":36,"display_name":"Dawesign"},"score":0,"creation_date":1414746445,"post_id":26664417,"comment_id":41942188,"body_markdown":"Yes, and my question is what the best way to do this would be. You simply repeated my problem/question.","body":"Yes, and my question is what the best way to do this would be. You simply repeated my problem/question."},{"owner":{"account_id":775068,"reputation":64803,"user_id":823393,"accept_rate":86,"display_name":"OldCurmudgeon"},"score":3,"creation_date":1414748181,"post_id":26664417,"comment_id":41943180,"body_markdown":"[Painters Algorithm](http://en.wikipedia.org/wiki/Painter%27s_algorithm) could be a good start. Without knowing which rendering library you are using it is difficult to advise. The negative attitude doesn&#39;t help either.","body":"<a href=\"http://en.wikipedia.org/wiki/Painter%27s_algorithm\" rel=\"nofollow noreferrer\">Painters Algorithm</a> could be a good start. Without knowing which rendering library you are using it is difficult to advise. The negative attitude doesn&#39;t help either."},{"owner":{"account_id":5647593,"reputation":498,"user_id":4469165,"accept_rate":62,"display_name":"Andy"},"score":0,"creation_date":1676466439,"post_id":26664417,"comment_id":133141564,"body_markdown":"Painters Alghorithm and similar approaches like layers won&#39;t work in isometric games, see my more detailed answer below ...","body":"Painters Alghorithm and similar approaches like layers won&#39;t work in isometric games, see my more detailed answer below ..."}],"answers":[{"tags":[],"owner":{"account_id":4343751,"reputation":76,"user_id":3546328,"display_name":"Green Snake"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1414920070,"creation_date":1414920070,"answer_id":26697808,"question_id":26664417,"body_markdown":"It depends HOW you render. One thing that comes to mind, is to render objects/tiles from up to down and left to right, that way in most cases the objects should always be in correct layer. Now depending on how you make the graphics, there could be flaws in this. If so, you could also have few layers of of priority, to draw different parts of objects/tiles, or draw something before other. If you also have tiles and objects as separate type, you could have objects ability to draw before and after the tiles, to fulfill different needs. You could also implement some tiles to have objects, for cases like this, however that could also be waste of processor times comparing to other methods I mentioned.\r\n\r\nHow you would go about comparing object positions to tile positions is not actually very difficult. Probably a sufficient method would be comparing tile positions to object positions. Lets take a hypothetical situation, where you have tiles that are **32 x 32** in size, and there is object at **25 x 18**. The object would be in front of tiles at offset **0 x 0** and **1 x 0**, but behind **0 x 1** and **1 x 1** (If we imagine the tiles start from upper corner). Therefore, we first draw tiles at **0 x 0**, and **1 x 0**, then object, then tiles at **0 x 1** and **1 x 1**. It should naturally fall in it&#39;s correct place, with fairly simple code logic.\r\n\r\nHope you got some ideas about how to implement it :)","title":"How to implement a logical render order of isometric tiles?","body":"<p>It depends HOW you render. One thing that comes to mind, is to render objects/tiles from up to down and left to right, that way in most cases the objects should always be in correct layer. Now depending on how you make the graphics, there could be flaws in this. If so, you could also have few layers of of priority, to draw different parts of objects/tiles, or draw something before other. If you also have tiles and objects as separate type, you could have objects ability to draw before and after the tiles, to fulfill different needs. You could also implement some tiles to have objects, for cases like this, however that could also be waste of processor times comparing to other methods I mentioned.</p>\n\n<p>How you would go about comparing object positions to tile positions is not actually very difficult. Probably a sufficient method would be comparing tile positions to object positions. Lets take a hypothetical situation, where you have tiles that are <strong>32 x 32</strong> in size, and there is object at <strong>25 x 18</strong>. The object would be in front of tiles at offset <strong>0 x 0</strong> and <strong>1 x 0</strong>, but behind <strong>0 x 1</strong> and <strong>1 x 1</strong> (If we imagine the tiles start from upper corner). Therefore, we first draw tiles at <strong>0 x 0</strong>, and <strong>1 x 0</strong>, then object, then tiles at <strong>0 x 1</strong> and <strong>1 x 1</strong>. It should naturally fall in it's correct place, with fairly simple code logic.</p>\n\n<p>Hope you got some ideas about how to implement it :)</p>\n"},{"tags":[],"owner":{"account_id":5647593,"reputation":498,"user_id":4469165,"accept_rate":62,"display_name":"Andy"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676466135,"creation_date":1676466135,"answer_id":75460199,"question_id":26664417,"body_markdown":"Professional isometric styled games are actually 3D based with an orthographic camera. This way you dont have the complex problem of 2D sprite sorting in an isometric context and can rely on the hardware pixel-based z-Buffering.  \r\nNevertheless, if you want to realize an isometric game without the comfort of a 3d-game engine, like in Java 2D, the approach of different sorted layers doesn&#39;t work. Same with the **painter-algorithm**, cause both are actually intended for pure 2D top-down view based games.  \r\nSo how to cope with this dilemma?  \r\nWell an approach would be to imitate the **[Z-Buffering][1]** technique on a higher granular level, i.e. instead of considering each single pixel of each object in the scene, you consider tiles as a sorting base. \r\nLike z-Buffering, pixels/tiles are rendered in the order of their individual distance to the camera:  \r\nThe distance-formula of a tile-based object with coordinates (x, y, z) is proportional to:\r\n\r\n    d=y-x-z\r\n\r\nNegative values are allowed, so d(A)=-1 as distance of an object A is closer to the camera and will be hence rendered after object B with distance d(B) = 1 which is farther away ...  \r\n\r\nThe render steps for each render-cycle would therefore be:\r\n\r\n 1. Determine all objects which are visible (we don&#39;t wanna render all objects in a huge world, if we only see a small part of it)\r\n 2. Calculate the individual distances of each tile-based object in the scene with the given formula\r\n 3. Sort all visible objects by distance\r\n 4. Render all visible objects in descending order\r\n \r\nI myself tested this strategy in JavaFX 2D and the result looks like this, i.e. it is a simple working technique for tile-based isometric rendering:\r\n\r\n[![simplified z-Buffering technique][2]][2]\r\n\r\n \r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Z-buffering\r\n  [2]: https://i.stack.imgur.com/rXsHb.jpg","title":"How to implement a logical render order of isometric tiles?","body":"<p>Professional isometric styled games are actually 3D based with an orthographic camera. This way you dont have the complex problem of 2D sprite sorting in an isometric context and can rely on the hardware pixel-based z-Buffering.<br />\nNevertheless, if you want to realize an isometric game without the comfort of a 3d-game engine, like in Java 2D, the approach of different sorted layers doesn't work. Same with the <strong>painter-algorithm</strong>, cause both are actually intended for pure 2D top-down view based games.<br />\nSo how to cope with this dilemma?<br />\nWell an approach would be to imitate the <strong><a href=\"https://en.wikipedia.org/wiki/Z-buffering\" rel=\"nofollow noreferrer\">Z-Buffering</a></strong> technique on a higher granular level, i.e. instead of considering each single pixel of each object in the scene, you consider tiles as a sorting base.\nLike z-Buffering, pixels/tiles are rendered in the order of their individual distance to the camera:<br />\nThe distance-formula of a tile-based object with coordinates (x, y, z) is proportional to:</p>\n<pre><code>d=y-x-z\n</code></pre>\n<p>Negative values are allowed, so d(A)=-1 as distance of an object A is closer to the camera and will be hence rendered after object B with distance d(B) = 1 which is farther away ...</p>\n<p>The render steps for each render-cycle would therefore be:</p>\n<ol>\n<li>Determine all objects which are visible (we don't wanna render all objects in a huge world, if we only see a small part of it)</li>\n<li>Calculate the individual distances of each tile-based object in the scene with the given formula</li>\n<li>Sort all visible objects by distance</li>\n<li>Render all visible objects in descending order</li>\n</ol>\n<p>I myself tested this strategy in JavaFX 2D and the result looks like this, i.e. it is a simple working technique for tile-based isometric rendering:</p>\n<p><a href=\"https://i.stack.imgur.com/rXsHb.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/rXsHb.jpg\" alt=\"simplified z-Buffering technique\" /></a></p>\n"}],"owner":{"account_id":3649096,"reputation":683,"user_id":3041683,"accept_rate":36,"display_name":"Dawesign"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2024,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1676466135,"creation_date":1414708005,"question_id":26664417,"body_markdown":"**Situation:** I am programming a 2D isometric styled Java game with libGDX.\r\nRight now I have a moveable player that properly collides with tiles of solid objects.\r\n\r\n**Problem:**\r\nNow it comes to the renderorder of tiles. By default the library code renders from the bottom maplayer to the top layer. (Ground is layer 0, object layer is layer 1) Which makes sense. I draw the player on top of that. This means that the player is always on top of everything which doesn&#39;t make sense in some situations.\r\n \r\n**Goal:** Since an isometric look means to have a kind of a 3D perspective, the player can be behind or in front of objects. So I have to come up with some code that decides whether the player is rendered behind or in front of it. I have this fridge as an example:\r\n\r\n![Example][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/S187I.png\r\n\r\nI hope it is comprehensible what I mean with &quot;logical collision&quot;. I have some glimpses of ideas how to achieve that but that would be a mess in the code. So I wanted to ask if anyone has experiences with that or can hand me some nice sources that can help me.\r\n\r\nThanks for reading!","title":"How to implement a logical render order of isometric tiles?","body":"<p><strong>Situation:</strong> I am programming a 2D isometric styled Java game with libGDX.\nRight now I have a moveable player that properly collides with tiles of solid objects.</p>\n\n<p><strong>Problem:</strong>\nNow it comes to the renderorder of tiles. By default the library code renders from the bottom maplayer to the top layer. (Ground is layer 0, object layer is layer 1) Which makes sense. I draw the player on top of that. This means that the player is always on top of everything which doesn't make sense in some situations.</p>\n\n<p><strong>Goal:</strong> Since an isometric look means to have a kind of a 3D perspective, the player can be behind or in front of objects. So I have to come up with some code that decides whether the player is rendered behind or in front of it. I have this fridge as an example:</p>\n\n<p><img src=\"https://i.stack.imgur.com/S187I.png\" alt=\"Example\"></p>\n\n<p>I hope it is comprehensible what I mean with \"logical collision\". I have some glimpses of ideas how to achieve that but that would be a mess in the code. So I wanted to ask if anyone has experiences with that or can hand me some nice sources that can help me.</p>\n\n<p>Thanks for reading!</p>\n"},{"tags":["java","apache-spark","kubernetes","pyspark"],"comments":[{"owner":{"account_id":20967958,"reputation":4872,"user_id":15405732,"display_name":"Koedlt"},"score":0,"creation_date":1670832189,"post_id":74767651,"comment_id":131955920,"body_markdown":"Seems like you did not print the full width of the logs in that second code block (the one saying Unrecognized options `--podName`. Could you add that?","body":"Seems like you did not print the full width of the logs in that second code block (the one saying Unrecognized options <code>--podName</code>. Could you add that?"},{"owner":{"account_id":23736475,"reputation":71,"user_id":17755094,"display_name":"leotim"},"score":0,"creation_date":1670845748,"post_id":74767651,"comment_id":131959925,"body_markdown":"Line 6 contains &quot;Unrecognized options --podName&quot; and nothing else.","body":"Line 6 contains &quot;Unrecognized options --podName&quot; and nothing else."},{"owner":{"account_id":20967958,"reputation":4872,"user_id":15405732,"display_name":"Koedlt"},"score":0,"creation_date":1670878764,"post_id":74767651,"comment_id":131971133,"body_markdown":"What about lines 4 and 5?","body":"What about lines 4 and 5?"},{"owner":{"account_id":15791110,"reputation":1824,"user_id":11394329,"display_name":"Richard Nemeth"},"score":0,"creation_date":1675661596,"post_id":74767651,"comment_id":132969633,"body_markdown":"I got the same behavior, this feels like a bug on Spark&#39;s side, there is no good reason why the SPARK_EXECUTOR_POD_NAME should be missing","body":"I got the same behavior, this feels like a bug on Spark&#39;s side, there is no good reason why the SPARK_EXECUTOR_POD_NAME should be missing"}],"answers":[{"tags":[],"owner":{"account_id":23736475,"reputation":71,"user_id":17755094,"display_name":"leotim"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670879640,"creation_date":1670879640,"answer_id":74777386,"question_id":74767651,"body_markdown":"After troubleshooting I got it working using following setup:\r\n\r\nI have created podtemplate.yaml\r\n\r\n```yaml\r\napiVersion: v1\r\nkind: Pod\r\nspec:\r\n  containers:\r\n    - args:\r\n      env:\r\n        - name: SPARK_EXECUTOR_POD_NAME\r\n          valueFrom:\r\n            fieldRef:\r\n              fieldPath: metadata.name\r\n```\r\n\r\nthen configured spark to use it:\r\n\r\n```\r\n           .set(&quot;spark.kubernetes.executor.podTemplateFile&quot;,&quot;/podtemplate.yaml&quot;)\r\n\r\n```\r\n\r\nBut still do not understand why I did not get it automatically?","title":"Spark executors fails on Kubernetes (EKS) --podName is missing","body":"<p>After troubleshooting I got it working using following setup:</p>\n<p>I have created podtemplate.yaml</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>apiVersion: v1\nkind: Pod\nspec:\n  containers:\n    - args:\n      env:\n        - name: SPARK_EXECUTOR_POD_NAME\n          valueFrom:\n            fieldRef:\n              fieldPath: metadata.name\n</code></pre>\n<p>then configured spark to use it:</p>\n<pre><code>           .set(&quot;spark.kubernetes.executor.podTemplateFile&quot;,&quot;/podtemplate.yaml&quot;)\n\n</code></pre>\n<p>But still do not understand why I did not get it automatically?</p>\n"},{"tags":[],"owner":{"account_id":25742838,"reputation":1,"user_id":19496567,"display_name":"hliashchuk"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676465845,"creation_date":1676465845,"answer_id":75460145,"question_id":74767651,"body_markdown":"I&#39;ve met this error and the problem was that the spark image of the driver was different from the executors&#39; spark image. Try check on those ","title":"Spark executors fails on Kubernetes (EKS) --podName is missing","body":"<p>I've met this error and the problem was that the spark image of the driver was different from the executors' spark image. Try check on those</p>\n"}],"owner":{"account_id":23736475,"reputation":71,"user_id":17755094,"display_name":"leotim"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":468,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1676465845,"creation_date":1670828608,"question_id":74767651,"body_markdown":"I am running Spark 3.3.1 in cluster mode in Kubernetes using Java.\r\n\r\nSpark conf:\r\n```java\r\n    public SparkConf sparkConf() {\r\n        return new SparkConf()\r\n                .set(&quot;spark.sql.shuffle.partitions&quot;, &quot;600&quot;)\r\n                .set(&quot;spark.rdd.compress&quot;, &quot;true&quot;)\r\n                .set(&quot;spark.ui.prometheus.enabled&quot;,&quot;true&quot;)\r\n                .set(&quot;spark.executor.processTreeMetrics.enabled&quot;,&quot;true&quot;)\r\n                .set(&quot;*.sink.prometheusServlet.class&quot;,&quot;org.apache.spark.metrics.sink.PrometheusServlet&quot;)\r\n                .set(&quot;*.sink.prometheusServlet.path&quot;,&quot;/metrics/prometheus&quot;)\r\n                .set(&quot;spark.submit.deployMode&quot;,&quot;cluster&quot;)\r\n                .set(&quot;spark.kubernetes.container.image&quot;,&quot;45454454.dkr.ecr.eu-north-1.amazonaws.com/dev/feature-gen:v3.3.1&quot;)\r\n                .set(&quot;spark.kubernetes.container.image.pullPolicy&quot;,&quot;Always&quot;)\r\n                .set(&quot;spark.kubernetes.namespace&quot;,&quot;default&quot;)\r\n                .set(&quot;spark.kubernetes.executor.podNamePrefix&quot;,&quot;spark-executor&quot;)\r\n                .set(&quot;spark.kubernetes.authenticate.executor.serviceAccountName&quot;,&quot;spark&quot;)\r\n                .set(&quot;spark.kubernetes.dynamicAllocation.deleteGracePeriod&quot;,&quot;20&quot;)\r\n                .set(&quot;spark.shuffle.service.enabled&quot;,&quot;true&quot;)\r\n                .set(&quot;spark.kubernetes.executor.request.cores&quot;, &quot;4&quot;)\r\n                .set(&quot;spark.kubernetes.executor.limit.cores&quot;, &quot;4&quot;)\r\n                .set(&quot;spark.executor.memory&quot;, &quot;4g&quot;)\r\n                .set(&quot;spark.executor.instances&quot;, &quot;1&quot;)\r\n                .set(&quot;spark.ui.port&quot;, &quot;4040&quot;)\r\n                .setAppName(appName)\r\n                .setMaster(&quot;k8s://https://XXXXXXXX.yl3.eu-north-1.eks.amazonaws.com:443&quot;);\r\n    }\r\n```\r\n\r\nExecutor pod being created but after couple of seconds I got following logs and pod being recreated. \r\n```\r\n│ + SPARK_CLASSPATH=&#39;/opt/spark/conf::/opt/spark/jars/*&#39;                                                                                                                                                                                                  │\r\n│ + case &quot;$1&quot; in                                                                                                                                                                                                                                          │\r\n│ + shift 1                                                                                                                                                                                                                                               │\r\n│ + CMD=(${JAVA_HOME}/bin/java &quot;${SPARK_EXECUTOR_JAVA_OPTS[@]}&quot; -Xms$SPARK_EXECUTOR_MEMORY -Xmx$SPARK_EXECUTOR_MEMORY -cp &quot;$SPARK_CLASSPATH:$SPARK_DIST_CLASSPATH&quot; org.apache.spark.scheduler.cluster.k8s.KubernetesExecutorBackend --driver-url $SPARK_D │\r\n│ + exec /usr/bin/tini -s -- /usr/lib/jvm/java-17-openjdk-amd64/bin/java -XX:+IgnoreUnrecognizedVMOptions --add-opens=java.base/java.lang=ALL-UNNAMED --add-opens=java.base/java.lang.invoke=ALL-UNNAMED --add-opens=java.base/java.lang.reflect=ALL-UNNA │\r\n│ Unrecognized options: --podName                                                                                                                                                                                                                         │\r\n│                                                                                                                                                                                                                                                         │\r\n│ Usage: org.apache.spark.scheduler.cluster.k8s.KubernetesExecutorBackend [options]                                                                                                                                                                       │\r\n│                                                                                                                                                                                                                                                         │\r\n│  Options are:                                                                                                                                                                                                                                           │\r\n│    --driver-url &lt;driverUrl&gt;                                                                                                                                                                                                                             │\r\n│    --executor-id &lt;executorId&gt;                                                                                                                                                                                                                           │\r\n│    --bind-address &lt;bindAddress&gt;                                                                                                                                                                                                                         │\r\n│    --hostname &lt;hostname&gt;                                                                                                                                                                                                                                │\r\n│    --cores &lt;cores&gt;                                                                                                                                                                                                                                      │\r\n│    --resourcesFile &lt;fileWithJSONResourceInformation&gt;                                                                                                                                                                                                    │\r\n│    --app-id &lt;appid&gt;                                                                                                                                                                                                                                     │\r\n│    --worker-url &lt;workerUrl&gt;                                                                                                                                                                                                                             │\r\n│    --resourceProfileId &lt;id&gt;                                                                                                                                                                                                                             │\r\n│    --podName &lt;podName&gt;\r\nstream closed\r\n```\r\n\r\nI can not understand why pod&#39;s name unrecognized? What am I doing wrong? Thank you","title":"Spark executors fails on Kubernetes (EKS) --podName is missing","body":"<p>I am running Spark 3.3.1 in cluster mode in Kubernetes using Java.</p>\n<p>Spark conf:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public SparkConf sparkConf() {\n        return new SparkConf()\n                .set(&quot;spark.sql.shuffle.partitions&quot;, &quot;600&quot;)\n                .set(&quot;spark.rdd.compress&quot;, &quot;true&quot;)\n                .set(&quot;spark.ui.prometheus.enabled&quot;,&quot;true&quot;)\n                .set(&quot;spark.executor.processTreeMetrics.enabled&quot;,&quot;true&quot;)\n                .set(&quot;*.sink.prometheusServlet.class&quot;,&quot;org.apache.spark.metrics.sink.PrometheusServlet&quot;)\n                .set(&quot;*.sink.prometheusServlet.path&quot;,&quot;/metrics/prometheus&quot;)\n                .set(&quot;spark.submit.deployMode&quot;,&quot;cluster&quot;)\n                .set(&quot;spark.kubernetes.container.image&quot;,&quot;45454454.dkr.ecr.eu-north-1.amazonaws.com/dev/feature-gen:v3.3.1&quot;)\n                .set(&quot;spark.kubernetes.container.image.pullPolicy&quot;,&quot;Always&quot;)\n                .set(&quot;spark.kubernetes.namespace&quot;,&quot;default&quot;)\n                .set(&quot;spark.kubernetes.executor.podNamePrefix&quot;,&quot;spark-executor&quot;)\n                .set(&quot;spark.kubernetes.authenticate.executor.serviceAccountName&quot;,&quot;spark&quot;)\n                .set(&quot;spark.kubernetes.dynamicAllocation.deleteGracePeriod&quot;,&quot;20&quot;)\n                .set(&quot;spark.shuffle.service.enabled&quot;,&quot;true&quot;)\n                .set(&quot;spark.kubernetes.executor.request.cores&quot;, &quot;4&quot;)\n                .set(&quot;spark.kubernetes.executor.limit.cores&quot;, &quot;4&quot;)\n                .set(&quot;spark.executor.memory&quot;, &quot;4g&quot;)\n                .set(&quot;spark.executor.instances&quot;, &quot;1&quot;)\n                .set(&quot;spark.ui.port&quot;, &quot;4040&quot;)\n                .setAppName(appName)\n                .setMaster(&quot;k8s://https://XXXXXXXX.yl3.eu-north-1.eks.amazonaws.com:443&quot;);\n    }\n</code></pre>\n<p>Executor pod being created but after couple of seconds I got following logs and pod being recreated.</p>\n<pre><code>│ + SPARK_CLASSPATH='/opt/spark/conf::/opt/spark/jars/*'                                                                                                                                                                                                  │\n│ + case &quot;$1&quot; in                                                                                                                                                                                                                                          │\n│ + shift 1                                                                                                                                                                                                                                               │\n│ + CMD=(${JAVA_HOME}/bin/java &quot;${SPARK_EXECUTOR_JAVA_OPTS[@]}&quot; -Xms$SPARK_EXECUTOR_MEMORY -Xmx$SPARK_EXECUTOR_MEMORY -cp &quot;$SPARK_CLASSPATH:$SPARK_DIST_CLASSPATH&quot; org.apache.spark.scheduler.cluster.k8s.KubernetesExecutorBackend --driver-url $SPARK_D │\n│ + exec /usr/bin/tini -s -- /usr/lib/jvm/java-17-openjdk-amd64/bin/java -XX:+IgnoreUnrecognizedVMOptions --add-opens=java.base/java.lang=ALL-UNNAMED --add-opens=java.base/java.lang.invoke=ALL-UNNAMED --add-opens=java.base/java.lang.reflect=ALL-UNNA │\n│ Unrecognized options: --podName                                                                                                                                                                                                                         │\n│                                                                                                                                                                                                                                                         │\n│ Usage: org.apache.spark.scheduler.cluster.k8s.KubernetesExecutorBackend [options]                                                                                                                                                                       │\n│                                                                                                                                                                                                                                                         │\n│  Options are:                                                                                                                                                                                                                                           │\n│    --driver-url &lt;driverUrl&gt;                                                                                                                                                                                                                             │\n│    --executor-id &lt;executorId&gt;                                                                                                                                                                                                                           │\n│    --bind-address &lt;bindAddress&gt;                                                                                                                                                                                                                         │\n│    --hostname &lt;hostname&gt;                                                                                                                                                                                                                                │\n│    --cores &lt;cores&gt;                                                                                                                                                                                                                                      │\n│    --resourcesFile &lt;fileWithJSONResourceInformation&gt;                                                                                                                                                                                                    │\n│    --app-id &lt;appid&gt;                                                                                                                                                                                                                                     │\n│    --worker-url &lt;workerUrl&gt;                                                                                                                                                                                                                             │\n│    --resourceProfileId &lt;id&gt;                                                                                                                                                                                                                             │\n│    --podName &lt;podName&gt;\nstream closed\n</code></pre>\n<p>I can not understand why pod's name unrecognized? What am I doing wrong? Thank you</p>\n"},{"tags":["java","garbage-collection","heap-memory","heap-dump","codahale-metrics"],"comments":[{"owner":{"account_id":1056871,"reputation":117749,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"score":0,"creation_date":1619964700,"post_id":67352476,"comment_id":119056738,"body_markdown":"a memory leak would lead to an OutOfMemory in the end, so I guess it&#39;s not one. It&#39;s probably just normal.","body":"a memory leak would lead to an OutOfMemory in the end, so I guess it&#39;s not one. It&#39;s probably just normal."},{"owner":{"account_id":2266849,"reputation":329,"user_id":1995288,"accept_rate":50,"display_name":"Vinit Gaikwad"},"score":0,"creation_date":1619992489,"post_id":67352476,"comment_id":119064219,"body_markdown":"@Eugene but, the heap graph keeps going up.","body":"@Eugene but, the heap graph keeps going up."},{"owner":{"account_id":54150,"reputation":2013,"user_id":161995,"accept_rate":100,"display_name":"Erik"},"score":0,"creation_date":1620111512,"post_id":67352476,"comment_id":119096903,"body_markdown":"You should set up gc logging and analyse the log if you want details.","body":"You should set up gc logging and analyse the log if you want details."}],"owner":{"account_id":2266849,"reputation":329,"user_id":1995288,"accept_rate":50,"display_name":"Vinit Gaikwad"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":469,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1676465812,"creation_date":1619922526,"question_id":67352476,"body_markdown":"I have a Java App and we are running into heap issues. We feel there could be a memory leak as heap keeps growing over time. Here is how the histogram looks like. \r\n\r\n```\r\n   1:       3025303      439665320  [C\r\n   2:        904292      310612216  [B\r\n   3:        385084      244774776  [I\r\n   4:       7384953      177238872  java.util.concurrent.ConcurrentSkipListMap$Node\r\n   5:       3953963       94895112  java.lang.Double\r\n   6:       1068745       70512552  [Ljava.lang.Object;\r\n   7:        559816       53742336  java.lang.management.ThreadInfo\r\n   8:       1526344       36632256  java.lang.String\r\n   9:        883927       21214248  java.util.ArrayList\r\n  10:        196823       16137520  [Lio.netty.util.Recycler$DefaultHandle;\r\n  11:        540532       13139904  [Ljava.lang.String;\r\n  12:         68479       12439480  [J\r\n  13:        501950       12046800  java.util.concurrent.ConcurrentSkipListMap$Index\r\n  14:        282440       11297600  java.util.LinkedHashMap$Entry\r\n  15:        122865       10958248  [Ljava.util.HashMap$Node;\r\n  16:        256514       10260560  com.twilio.platform.metrics.DataDogClient$DataDogMetric\r\n  17:        402976        9671424  java.util.LinkedList$Node\r\n  18:        135258        7574448  java.util.LinkedHashMap\r\n  19:        168800        6752000  org.jboss.netty.handler.codec.http.HttpHeaders$HeaderEntry\r\n  20:        201387        6444384  com.codahale.metrics.WeightedSnapshot$WeightedSample\r\n  21:         22797        6401952  [D\r\n  22:        196415        6285280  io.netty.util.Recycler$WeakOrderQueue$Link\r\n  23:          8064        5419008  io.netty.util.internal.shaded.org.jctools.queues.MpscArrayQueue\r\n  24:        202768        4866432  java.lang.management.LockInfo\r\n```\r\n\r\nWe use codahale metrics all over the code, `com.codahale.metrics.WeightedSnapshot$WeightedSample` and `java.util.concurrent.ConcurrentSkipListMap$Node` seems to be created by Reservoir implementation `ExponentiallyDecayingReservoir`. \r\n\r\nI am a newbie to heap analysis and memory leak issues. Can someone help? ","title":"I am seeing large number of `java.util.concurrent.ConcurrentSkipListMap` and `com.codahale.metrics.WeightedSnapshot`. Is there a memory leak?","body":"<p>I have a Java App and we are running into heap issues. We feel there could be a memory leak as heap keeps growing over time. Here is how the histogram looks like.</p>\n<pre><code>   1:       3025303      439665320  [C\n   2:        904292      310612216  [B\n   3:        385084      244774776  [I\n   4:       7384953      177238872  java.util.concurrent.ConcurrentSkipListMap$Node\n   5:       3953963       94895112  java.lang.Double\n   6:       1068745       70512552  [Ljava.lang.Object;\n   7:        559816       53742336  java.lang.management.ThreadInfo\n   8:       1526344       36632256  java.lang.String\n   9:        883927       21214248  java.util.ArrayList\n  10:        196823       16137520  [Lio.netty.util.Recycler$DefaultHandle;\n  11:        540532       13139904  [Ljava.lang.String;\n  12:         68479       12439480  [J\n  13:        501950       12046800  java.util.concurrent.ConcurrentSkipListMap$Index\n  14:        282440       11297600  java.util.LinkedHashMap$Entry\n  15:        122865       10958248  [Ljava.util.HashMap$Node;\n  16:        256514       10260560  com.twilio.platform.metrics.DataDogClient$DataDogMetric\n  17:        402976        9671424  java.util.LinkedList$Node\n  18:        135258        7574448  java.util.LinkedHashMap\n  19:        168800        6752000  org.jboss.netty.handler.codec.http.HttpHeaders$HeaderEntry\n  20:        201387        6444384  com.codahale.metrics.WeightedSnapshot$WeightedSample\n  21:         22797        6401952  [D\n  22:        196415        6285280  io.netty.util.Recycler$WeakOrderQueue$Link\n  23:          8064        5419008  io.netty.util.internal.shaded.org.jctools.queues.MpscArrayQueue\n  24:        202768        4866432  java.lang.management.LockInfo\n</code></pre>\n<p>We use codahale metrics all over the code, <code>com.codahale.metrics.WeightedSnapshot$WeightedSample</code> and <code>java.util.concurrent.ConcurrentSkipListMap$Node</code> seems to be created by Reservoir implementation <code>ExponentiallyDecayingReservoir</code>.</p>\n<p>I am a newbie to heap analysis and memory leak issues. Can someone help?</p>\n"},{"tags":["java","stack"],"answers":[{"tags":[],"owner":{"account_id":2073393,"reputation":2457,"user_id":1847378,"display_name":"AndrewL"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676465713,"creation_date":1676465713,"answer_id":75460119,"question_id":75427942,"body_markdown":"I don&#39;t expect many people will be able to help you, especially if you cannot see the logic error and you are the author!\r\n\r\nWhen writing code like this, your best option is to write **Unit Tests**.  Test parts of the implementation first and then give your algorithm expressions bit by bit and work up to more complex cases.\r\n\r\nNote that your use of `private static` methods may frustrate your ability to test parts or mock out parts of the code.  Go find an article about Unit Testing and Dependency Injection; it will be worthwhile your investment.","title":"Wont produce the expected output Truthtable in java using stack","body":"<p>I don't expect many people will be able to help you, especially if you cannot see the logic error and you are the author!</p>\n<p>When writing code like this, your best option is to write <strong>Unit Tests</strong>.  Test parts of the implementation first and then give your algorithm expressions bit by bit and work up to more complex cases.</p>\n<p>Note that your use of <code>private static</code> methods may frustrate your ability to test parts or mock out parts of the code.  Go find an article about Unit Testing and Dependency Injection; it will be worthwhile your investment.</p>\n"}],"owner":{"account_id":25122128,"reputation":1,"user_id":18970322,"display_name":"rexinator16"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1676465713,"creation_date":1676214276,"question_id":75427942,"body_markdown":"This is my code:\r\nimport java.util.*;\r\n\r\npublic class TruthTable {\r\n\r\n    public static boolean evaluateExpression(String expression, boolean p, boolean q) {\r\n        Stack&lt;Boolean&gt; stack = new Stack&lt;&gt;();\r\n        Stack&lt;Character&gt; opStack = new Stack&lt;&gt;();\r\n\r\n        for (int i = 0; i &lt; expression.length(); i++) {\r\n            char c = expression.charAt(i);\r\n            if (c == &#39;p&#39;) {\r\n                stack.push(p);\r\n            } else if (c == &#39;q&#39;) {\r\n                stack.push(q);\r\n            } else if (c == &#39;&#172;&#39;) {\r\n                boolean b = stack.pop();\r\n                stack.push(!b);\r\n            } else if (c == &#39;∧&#39;) {\r\n                // Check if the next character is a &#172; character.\r\n                if (i + 1 &lt; expression.length() &amp;&amp; expression.charAt(i + 1) == &#39;&#172;&#39;) {\r\n                    // If the next character is a &#172; character, pop the top of the stack and negate it,\r\n                    // then push the conjunction of the negated value and the value of q.\r\n                    boolean b = stack.pop();\r\n                    stack.push(!(b &amp;&amp; q));\r\n                    // Increment the index to skip the &#172; character.\r\n                    i++;\r\n                } else {\r\n                    // If the next character is not a &#172; character, simply push the conjunction of the\r\n                    // value of p and the value of q.\r\n                    stack.push(stack.pop() &amp;&amp; q);\r\n                }\r\n            } else if (c == &#39;∨&#39; || c == &#39;→&#39; || c == &#39;↔&#39; || c == &#39;⊕&#39; || c == &#39;⊼&#39; || c == &#39;⊽&#39;) {\r\n                while (!opStack.isEmpty() &amp;&amp; getPrecedence(c) &lt;= getPrecedence(opStack.peek())) {\r\n                    char op = opStack.pop();\r\n                    applyOperator(op, stack);\r\n                }\r\n                opStack.push(c);\r\n            }\r\n        }\r\n\r\n        while (!opStack.isEmpty()) {\r\n            char op = opStack.pop();\r\n            applyOperator(op, stack);\r\n        }\r\n\r\n        return stack.pop();\r\n    }\r\n\r\n    private static void applyOperator(char op, Stack&lt;Boolean&gt; stack) {\r\n        boolean b1 = stack.pop();\r\n        boolean b2 = stack.pop();\r\n        switch (op) {\r\n            case &#39;∧&#39;:\r\n                stack.push(b1 &amp;&amp; b2);\r\n                break;\r\n            case &#39;∨&#39;:\r\n                stack.push(b1 || b2);\r\n                break;\r\n            case &#39;→&#39;:\r\n                stack.push(!b1 || b2);\r\n                break;\r\n            case &#39;↔&#39;:\r\n                stack.push(b1 == b2);\r\n                break;\r\n            case &#39;⊕&#39;:\r\n                stack.push(b1 != b2);\r\n                break;\r\n            case &#39;⊼&#39;:\r\n                stack.push((b1 &amp;&amp; b2) || (!b1 &amp;&amp; b2) || (b1 &amp;&amp; !b2));\r\n                break;\r\n            case &#39;⊽&#39;:\r\n                stack.push(b1 &amp;&amp; b2 &amp;&amp; stack.pop());\r\n                break;\r\n            case &#39;&#172;&#39;:\r\n                stack.push(!b1);\r\n                break;\r\n        }\r\n    }\r\n\r\n    private static int getPrecedence(char op) {\r\n        switch (op) {\r\n            case &#39;&#172;&#39;:\r\n                return 3;\r\n            case &#39;∧&#39;:\r\n                return 2;\r\n            case &#39;∨&#39;:\r\n                return 1;\r\n            case &#39;→&#39;:\r\n                return 0;\r\n            case &#39;↔&#39;:\r\n                return 0;\r\n            case &#39;⊕&#39;:\r\n                return 1;\r\n            case &#39;⊼&#39;:\r\n                if (op == &#39;∨&#39; || op == &#39;→&#39; || op == &#39;↔&#39; || op == &#39;⊕&#39;) {\r\n                    return 2;\r\n                } else {\r\n                    return 3;\r\n                }\r\n            case &#39;⊽&#39;:\r\n                return 2;\r\n            default:\r\n                return -1;\r\n        }\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        String expression = &quot;pq&#172;∨pq∧→&quot;;\r\n        System.out.println(&quot;p\\tq\\t(&quot; + expression + &quot;)&quot;);\r\n        for (boolean p : new boolean[]{true, false}) {\r\n            for (boolean q : new boolean[]{true, false}) {\r\n                System.out.println(p + &quot;\\t&quot; + q + &quot;\\t&quot; + evaluateExpression(expression, p, q));\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\nThe expected result is true false true false but it prints out false true false true and ive been trying to figure out how to fix it but I just cant. Will appreciate any help\r\n\r\nIve tried changing the precedence but it only produced the output True true true true","title":"Wont produce the expected output Truthtable in java using stack","body":"<p>This is my code:\nimport java.util.*;</p>\n<p>public class TruthTable {</p>\n<pre><code>public static boolean evaluateExpression(String expression, boolean p, boolean q) {\n    Stack&lt;Boolean&gt; stack = new Stack&lt;&gt;();\n    Stack&lt;Character&gt; opStack = new Stack&lt;&gt;();\n\n    for (int i = 0; i &lt; expression.length(); i++) {\n        char c = expression.charAt(i);\n        if (c == 'p') {\n            stack.push(p);\n        } else if (c == 'q') {\n            stack.push(q);\n        } else if (c == '¬') {\n            boolean b = stack.pop();\n            stack.push(!b);\n        } else if (c == '∧') {\n            // Check if the next character is a ¬ character.\n            if (i + 1 &lt; expression.length() &amp;&amp; expression.charAt(i + 1) == '¬') {\n                // If the next character is a ¬ character, pop the top of the stack and negate it,\n                // then push the conjunction of the negated value and the value of q.\n                boolean b = stack.pop();\n                stack.push(!(b &amp;&amp; q));\n                // Increment the index to skip the ¬ character.\n                i++;\n            } else {\n                // If the next character is not a ¬ character, simply push the conjunction of the\n                // value of p and the value of q.\n                stack.push(stack.pop() &amp;&amp; q);\n            }\n        } else if (c == '∨' || c == '→' || c == '↔' || c == '⊕' || c == '⊼' || c == '⊽') {\n            while (!opStack.isEmpty() &amp;&amp; getPrecedence(c) &lt;= getPrecedence(opStack.peek())) {\n                char op = opStack.pop();\n                applyOperator(op, stack);\n            }\n            opStack.push(c);\n        }\n    }\n\n    while (!opStack.isEmpty()) {\n        char op = opStack.pop();\n        applyOperator(op, stack);\n    }\n\n    return stack.pop();\n}\n\nprivate static void applyOperator(char op, Stack&lt;Boolean&gt; stack) {\n    boolean b1 = stack.pop();\n    boolean b2 = stack.pop();\n    switch (op) {\n        case '∧':\n            stack.push(b1 &amp;&amp; b2);\n            break;\n        case '∨':\n            stack.push(b1 || b2);\n            break;\n        case '→':\n            stack.push(!b1 || b2);\n            break;\n        case '↔':\n            stack.push(b1 == b2);\n            break;\n        case '⊕':\n            stack.push(b1 != b2);\n            break;\n        case '⊼':\n            stack.push((b1 &amp;&amp; b2) || (!b1 &amp;&amp; b2) || (b1 &amp;&amp; !b2));\n            break;\n        case '⊽':\n            stack.push(b1 &amp;&amp; b2 &amp;&amp; stack.pop());\n            break;\n        case '¬':\n            stack.push(!b1);\n            break;\n    }\n}\n\nprivate static int getPrecedence(char op) {\n    switch (op) {\n        case '¬':\n            return 3;\n        case '∧':\n            return 2;\n        case '∨':\n            return 1;\n        case '→':\n            return 0;\n        case '↔':\n            return 0;\n        case '⊕':\n            return 1;\n        case '⊼':\n            if (op == '∨' || op == '→' || op == '↔' || op == '⊕') {\n                return 2;\n            } else {\n                return 3;\n            }\n        case '⊽':\n            return 2;\n        default:\n            return -1;\n    }\n}\n\npublic static void main(String[] args) {\n    String expression = &quot;pq¬∨pq∧→&quot;;\n    System.out.println(&quot;p\\tq\\t(&quot; + expression + &quot;)&quot;);\n    for (boolean p : new boolean[]{true, false}) {\n        for (boolean q : new boolean[]{true, false}) {\n            System.out.println(p + &quot;\\t&quot; + q + &quot;\\t&quot; + evaluateExpression(expression, p, q));\n        }\n    }\n}\n</code></pre>\n<p>}</p>\n<p>The expected result is true false true false but it prints out false true false true and ive been trying to figure out how to fix it but I just cant. Will appreciate any help</p>\n<p>Ive tried changing the precedence but it only produced the output True true true true</p>\n"},{"tags":["java","mutiny"],"answers":[{"comments":[{"owner":{"account_id":17329865,"reputation":146,"user_id":12553246,"display_name":"Anthony Heaney"},"score":0,"creation_date":1678481700,"post_id":75460110,"comment_id":133547649,"body_markdown":"Thank you, I was looking for this exact syntax.","body":"Thank you, I was looking for this exact syntax."}],"tags":[],"owner":{"account_id":1276303,"reputation":2937,"user_id":1231484,"display_name":"Clement"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676465689,"creation_date":1676465689,"answer_id":75460110,"question_id":75451047,"body_markdown":"You would do:\r\n\r\n```java\r\nUni&lt;T1&gt; a = callA();\r\nUni&lt;T2&gt; b = callB();\r\nUni&lt;T3&gt; c = callC();\r\n\r\nreturn a.chain(() -&gt; b).chain(() -&gt; c);\r\n```\r\n\r\n","title":"How can I perform via mutiny sequential calls of services?","body":"<p>You would do:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Uni&lt;T1&gt; a = callA();\nUni&lt;T2&gt; b = callB();\nUni&lt;T3&gt; c = callC();\n\nreturn a.chain(() -&gt; b).chain(() -&gt; c);\n</code></pre>\n"}],"owner":{"account_id":20055636,"reputation":49,"user_id":14703347,"display_name":"ColdDeath"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":199,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1676465689,"creation_date":1676394156,"question_id":75451047,"body_markdown":"How can I perform via mutiny https://smallrye.io/smallrye-mutiny/2.1.0/ sequential calls of services?\r\n\r\nI need something like this:\r\nCall service A THEN call service B THEN call service c with data of service B THEN call service D.\r\nEvery service should be called only after completion of previous.","title":"How can I perform via mutiny sequential calls of services?","body":"<p>How can I perform via mutiny <a href=\"https://smallrye.io/smallrye-mutiny/2.1.0/\" rel=\"nofollow noreferrer\">https://smallrye.io/smallrye-mutiny/2.1.0/</a> sequential calls of services?</p>\n<p>I need something like this:\nCall service A THEN call service B THEN call service c with data of service B THEN call service D.\nEvery service should be called only after completion of previous.</p>\n"},{"tags":["java","spring","spring-boot","jpa","spring-data-jpa"],"comments":[{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1676478505,"post_id":75460061,"comment_id":133145976,"body_markdown":"A join across a *ToMany will cause the main record to be returned for every entry in the many table, just as it would for SQL results. If you want distinct Project or ProjectCode instances in the results, use the Distinct in the query - see https://stackoverflow.com/a/33025854/496099","body":"A join across a *ToMany will cause the main record to be returned for every entry in the many table, just as it would for SQL results. If you want distinct Project or ProjectCode instances in the results, use the Distinct in the query - see <a href=\"https://stackoverflow.com/a/33025854/496099\">stackoverflow.com/a/33025854/496099</a>"}],"owner":{"account_id":23392463,"reputation":183,"user_id":17456952,"display_name":"anonymous"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":338,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676465450,"creation_date":1676465450,"question_id":75460061,"body_markdown":"I have a spring boot project with many entities and relationships. I am able to store the records successfully and retrieve it using POST and GET methods. Now I have a requirement to filter the records based on a few parameters which are optional to be passed in API and I am using the JPA specification to manage the queries but I am getting the duplicate records in the response. \r\n\r\n**Project**\r\n\r\n    @Getter\r\n    @Setter\r\n    @ToString\r\n    @Entity\r\n    @Table(name = &quot;Project&quot;)\r\n    public class Project {\r\n    \r\n      @Id\r\n      @GeneratedValue(strategy = GenerationType.AUTO)\r\n      @Column(name = &quot;`Id`&quot;)\r\n      @Schema(example = &quot;&quot;)\r\n      private Long id;\r\n    \r\n      @Column(name = &quot;`Name`&quot;)\r\n      @Schema(example = &quot;&quot;)\r\n      private String name;\r\n    \r\n      @OneToMany(mappedBy = &quot;project&quot;, cascade = CascadeType.ALL)\r\n      private List&lt;ProjectCode&gt; projectCodes;\r\n    \r\n    }\r\n\r\n**ProjectCode**\r\n\r\n    @Getter\r\n    @Setter\r\n    @ToString\r\n    @Entity\r\n    @Table(name = &quot;ProjectCode&quot;)\r\n    public class ProjectCode {\r\n    \r\n      @Id\r\n      @GeneratedValue(strategy = GenerationType.AUTO)\r\n      @Column(name = &quot;`Id`&quot;)\r\n      @Schema(example = &quot;&quot;)\r\n      private Long id;\r\n    \r\n      @Column(name = &quot;`Code`&quot;)\r\n      @Schema(example = &quot;&quot;)\r\n      private String code;\r\n    \r\n      ...\r\n    \r\n      @ManyToOne\r\n      @JsonIgnore\r\n      private Project project;\r\n    \r\n      @OneToMany(mappedBy = &quot;projectCode&quot;, cascade = CascadeType.ALL)\r\n      private List&lt;ProjectAllocation&gt; projectAllocations;\r\n    \r\n    }  \r\n\r\nProjectSpecification\r\n\r\n    public class ProjectSpecification implements Specification&lt;Project&gt; {\r\n    \r\n      private final ProjectFilters projectFilters;\r\n    \r\n      /**\r\n       * ProjectSpecification constructor. *\r\n       */\r\n      public ProjectSpecification(ProjectFilters projectFilters) {\r\n        this.projectFilters = projectFilters;\r\n      }\r\n    \r\n      /**\r\n       * Create predicate. *\r\n       */\r\n      public Predicate toPredicate(Root&lt;Project&gt; root, CriteriaQuery&lt;?&gt; cq,\r\n          CriteriaBuilder cb) {\r\n        log.info(&quot;Request to filter project with: {}&quot;, projectFilters);\r\n        Predicate predicate = cb.conjunction();\r\n    \r\n        Join&lt;Project, ProjectCode&gt; projectCodeJoin = root.join(&quot;projectCodes&quot;);\r\n        \r\n       // If I remove this line I do not get duplicated records\r\n       Join&lt;ProjectCode, ProjectAllocation&gt; projectAllocationJoin = \r\n       projectCodeJoin.join(&quot;projectAllocations&quot;); \r\n    \r\n       //    Join&lt;ProjectAllocation, Employee&gt; projectAllocationEmployeeJoin = \r\n       //    projectAllocationJoin.join(&quot;employee&quot;);\r\n    \r\n    \r\n    \r\n        return predicate;\r\n      }\r\n    }","title":"JPA Specifications to filter entity are returning duplicate record","body":"<p>I have a spring boot project with many entities and relationships. I am able to store the records successfully and retrieve it using POST and GET methods. Now I have a requirement to filter the records based on a few parameters which are optional to be passed in API and I am using the JPA specification to manage the queries but I am getting the duplicate records in the response.</p>\n<p><strong>Project</strong></p>\n<pre><code>@Getter\n@Setter\n@ToString\n@Entity\n@Table(name = &quot;Project&quot;)\npublic class Project {\n\n  @Id\n  @GeneratedValue(strategy = GenerationType.AUTO)\n  @Column(name = &quot;`Id`&quot;)\n  @Schema(example = &quot;&quot;)\n  private Long id;\n\n  @Column(name = &quot;`Name`&quot;)\n  @Schema(example = &quot;&quot;)\n  private String name;\n\n  @OneToMany(mappedBy = &quot;project&quot;, cascade = CascadeType.ALL)\n  private List&lt;ProjectCode&gt; projectCodes;\n\n}\n</code></pre>\n<p><strong>ProjectCode</strong></p>\n<pre><code>@Getter\n@Setter\n@ToString\n@Entity\n@Table(name = &quot;ProjectCode&quot;)\npublic class ProjectCode {\n\n  @Id\n  @GeneratedValue(strategy = GenerationType.AUTO)\n  @Column(name = &quot;`Id`&quot;)\n  @Schema(example = &quot;&quot;)\n  private Long id;\n\n  @Column(name = &quot;`Code`&quot;)\n  @Schema(example = &quot;&quot;)\n  private String code;\n\n  ...\n\n  @ManyToOne\n  @JsonIgnore\n  private Project project;\n\n  @OneToMany(mappedBy = &quot;projectCode&quot;, cascade = CascadeType.ALL)\n  private List&lt;ProjectAllocation&gt; projectAllocations;\n\n}  \n</code></pre>\n<p>ProjectSpecification</p>\n<pre><code>public class ProjectSpecification implements Specification&lt;Project&gt; {\n\n  private final ProjectFilters projectFilters;\n\n  /**\n   * ProjectSpecification constructor. *\n   */\n  public ProjectSpecification(ProjectFilters projectFilters) {\n    this.projectFilters = projectFilters;\n  }\n\n  /**\n   * Create predicate. *\n   */\n  public Predicate toPredicate(Root&lt;Project&gt; root, CriteriaQuery&lt;?&gt; cq,\n      CriteriaBuilder cb) {\n    log.info(&quot;Request to filter project with: {}&quot;, projectFilters);\n    Predicate predicate = cb.conjunction();\n\n    Join&lt;Project, ProjectCode&gt; projectCodeJoin = root.join(&quot;projectCodes&quot;);\n    \n   // If I remove this line I do not get duplicated records\n   Join&lt;ProjectCode, ProjectAllocation&gt; projectAllocationJoin = \n   projectCodeJoin.join(&quot;projectAllocations&quot;); \n\n   //    Join&lt;ProjectAllocation, Employee&gt; projectAllocationEmployeeJoin = \n   //    projectAllocationJoin.join(&quot;employee&quot;);\n\n\n\n    return predicate;\n  }\n}\n</code></pre>\n"},{"tags":["java","inheritance","super"],"comments":[{"owner":{"account_id":4819600,"reputation":56500,"user_id":3890632,"display_name":"khelwood"},"score":4,"creation_date":1676464955,"post_id":75459914,"comment_id":133141085,"body_markdown":"`super` refers to `this` instance, as an instance of its superclass. `obj` is a different object from `this`.","body":"<code>super</code> refers to <code>this</code> instance, as an instance of its superclass. <code>obj</code> is a different object from <code>this</code>."}],"answers":[{"tags":[],"owner":{"account_id":27393528,"reputation":353,"user_id":20896122,"display_name":"undefined symbol"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676465107,"creation_date":1676465107,"answer_id":75459996,"question_id":75459914,"body_markdown":"There are two `B` objects in your program, the one created by main(), and the one created by the print() method in that first object.\r\n\r\nEach `B` has its own instance of `i`.\r\n\r\nOnly the first `B` has `i` set to 3, and `obj` refers to the second `B`.","title":"Assign parent &#39;s instance variable by using super keyword in Java","body":"<p>There are two <code>B</code> objects in your program, the one created by main(), and the one created by the print() method in that first object.</p>\n<p>Each <code>B</code> has its own instance of <code>i</code>.</p>\n<p>Only the first <code>B</code> has <code>i</code> set to 3, and <code>obj</code> refers to the second <code>B</code>.</p>\n"}],"owner":{"account_id":24744564,"reputation":5,"user_id":18630902,"display_name":"Ryannnnnnnnn"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"answer_count":1,"score":-3,"last_activity_date":1676465107,"creation_date":1676464712,"question_id":75459914,"body_markdown":"I have 2 class in Java\r\n```\r\n1. public class A {\r\n2.     public int i = 1;\r\n3. }\r\n4. \r\n5. public class B extends A {\r\n6.     int i = 2;\r\n7.     public void print() {\r\n8.         super.i = 3;\r\n9.         A obj = new B();\r\n10.        System.out.println(obj.i);\r\n11.        System.out.println(this.i);\r\n12.        System.out.println(super.i);\r\n13.    }\r\n14.\r\n15.    public static void main(String [] args) {\r\n16.        new B().print();\r\n17.    }\r\n18.}\r\n```\r\nWhen I run above code it print\r\n```\r\n1\r\n2\r\n3\r\n```\r\nSo I want to know why line 10 and 12 print different output? I think because I assign super.i = 3 and create new object of A, the result should be 3, 2, 3. Please help me","title":"Assign parent &#39;s instance variable by using super keyword in Java","body":"<p>I have 2 class in Java</p>\n<pre><code>1. public class A {\n2.     public int i = 1;\n3. }\n4. \n5. public class B extends A {\n6.     int i = 2;\n7.     public void print() {\n8.         super.i = 3;\n9.         A obj = new B();\n10.        System.out.println(obj.i);\n11.        System.out.println(this.i);\n12.        System.out.println(super.i);\n13.    }\n14.\n15.    public static void main(String [] args) {\n16.        new B().print();\n17.    }\n18.}\n</code></pre>\n<p>When I run above code it print</p>\n<pre><code>1\n2\n3\n</code></pre>\n<p>So I want to know why line 10 and 12 print different output? I think because I assign super.i = 3 and create new object of A, the result should be 3, 2, 3. Please help me</p>\n"},{"tags":["javascript","java","echarts"],"comments":[{"owner":{"account_id":12514783,"reputation":15,"user_id":21219034,"display_name":"Matheus Markies"},"score":0,"creation_date":1676463619,"post_id":75459604,"comment_id":133140669,"body_markdown":"Yes,but I&#39;m using both.  Javascript running inside a java application that operates the values ​​that will be shown in the charts. &quot;running in a Java fx webview&quot;","body":"Yes,but I&#39;m using both.  Javascript running inside a java application that operates the values ​​that will be shown in the charts. &quot;running in a Java fx webview&quot;"}],"owner":{"account_id":12514783,"reputation":15,"user_id":21219034,"display_name":"Matheus Markies"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":96,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676465070,"creation_date":1676462981,"question_id":75459604,"body_markdown":"Good morning.  \r\nI need to do the following: Update a stacked line chart using a function in javascript that takes a 2d array ([[0,1],[0,2],...]).\r\nMy page is running in a Java fx webview so I can dynamically update my data. All the examples I&#39;ve seen so far create a predefined X axis and pass the y values ​​accordingly, I wanted to pass the two values ​​together to plot a line on the chart.\r\n\r\nHow could I make this function?  It&#39;s the first time I use echarts so I&#39;m lost.\r\n\r\nI even managed to do something similar but when plotting the chart it was all wrong.\r\n[Char Image](https://i.stack.imgur.com/GiZ2Y.png)\r\n\r\n    var option = {\r\n      xAxis: {\r\n        type: &quot;value&quot;,\r\n      },\r\n    \r\n      yAxis: {\r\n        type: &quot;value&quot;,\r\n      },\r\n    \r\n      series: [\r\n        {\r\n          type: &quot;line&quot;,\r\n    \r\n          data: [],\r\n        },\r\n      ],\r\n    };\r\n    \r\n    vibrationStackedLineChart.setOption(option);\r\n    \r\n    function updateEchart(dataArray) {\r\n      // Parse the JSON string back into a 2D int array\r\n    \r\n      var data = JSON.parse(&quot;[&quot; + dataArray + &quot;]&quot;);\r\n    \r\n      // Update the chart with the new data\r\n    \r\n      vibrationStackedLineChart.setOption({\r\n        series: [\r\n          {\r\n            data: data,\r\n          },\r\n        ],\r\n      });\r\n    }\r\n\r\n[Java function with array 2d](https://i.stack.imgur.com/w4fpK.png)","title":"How to update a echart with a js function and 2D array","body":"<p>Good morning.<br />\nI need to do the following: Update a stacked line chart using a function in javascript that takes a 2d array ([[0,1],[0,2],...]).\nMy page is running in a Java fx webview so I can dynamically update my data. All the examples I've seen so far create a predefined X axis and pass the y values ​​accordingly, I wanted to pass the two values ​​together to plot a line on the chart.</p>\n<p>How could I make this function?  It's the first time I use echarts so I'm lost.</p>\n<p>I even managed to do something similar but when plotting the chart it was all wrong.\n<a href=\"https://i.stack.imgur.com/GiZ2Y.png\" rel=\"nofollow noreferrer\">Char Image</a></p>\n<pre><code>var option = {\n  xAxis: {\n    type: &quot;value&quot;,\n  },\n\n  yAxis: {\n    type: &quot;value&quot;,\n  },\n\n  series: [\n    {\n      type: &quot;line&quot;,\n\n      data: [],\n    },\n  ],\n};\n\nvibrationStackedLineChart.setOption(option);\n\nfunction updateEchart(dataArray) {\n  // Parse the JSON string back into a 2D int array\n\n  var data = JSON.parse(&quot;[&quot; + dataArray + &quot;]&quot;);\n\n  // Update the chart with the new data\n\n  vibrationStackedLineChart.setOption({\n    series: [\n      {\n        data: data,\n      },\n    ],\n  });\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/w4fpK.png\" rel=\"nofollow noreferrer\">Java function with array 2d</a></p>\n"},{"tags":["java","shell","terminal","preferences"],"answers":[{"comments":[{"owner":{"account_id":19395247,"reputation":3208,"user_id":14183092,"display_name":"kerbermeister"},"score":0,"creation_date":1676671831,"post_id":75459941,"comment_id":133191691,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/75459941/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":8169324,"reputation":139,"user_id":6646132,"display_name":"Octavian Catusanu"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676464813,"creation_date":1676464813,"answer_id":75459941,"question_id":23882316,"body_markdown":"-Djava.util.prefs.userRoot=/com/ABC/test","title":"Update java.util.prefs.preferences from shell script or terminal","body":"<p>-Djava.util.prefs.userRoot=/com/ABC/test</p>\n"}],"owner":{"account_id":1240801,"reputation":1229,"user_id":1203446,"accept_rate":55,"display_name":"Souvik"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":120,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1676464813,"creation_date":1401171588,"question_id":23882316,"body_markdown":"I have saved few of my data in my machine through java preference. Under this node data are stored at the time of system loading and this works perfect for me.\r\n\r\nPreferences registry = Preferences.userRoot().node(&quot;com/ABC/test&quot;);\r\n\r\nNow, my clients want to update this Preferences entry through shell or terminal at run time. Through java it&#39;s easy but how can I update this through shell or terminal?\r\n\r\n","title":"Update java.util.prefs.preferences from shell script or terminal","body":"<p>I have saved few of my data in my machine through java preference. Under this node data are stored at the time of system loading and this works perfect for me.</p>\n\n<p>Preferences registry = Preferences.userRoot().node(\"com/ABC/test\");</p>\n\n<p>Now, my clients want to update this Preferences entry through shell or terminal at run time. Through java it's easy but how can I update this through shell or terminal?</p>\n"},{"tags":["java","time","timestamp","java-time","localdate"],"comments":[{"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1676406431,"post_id":75452858,"comment_id":133129967,"body_markdown":"What  type does  `getTimeStamp(key)` return?","body":"What  type does  <code>getTimeStamp(key)</code> return?"},{"owner":{"account_id":10428912,"reputation":303,"user_id":8904399,"display_name":"skippy130"},"score":0,"creation_date":1676406955,"post_id":75452858,"comment_id":133130081,"body_markdown":"@WJS It returns a Date object.","body":"@WJS It returns a Date object."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1676442089,"post_id":75452858,"comment_id":133135321,"body_markdown":"Which `Row` class is that? A homegrown one? I find it very confusing that `getTimestamp()` returns a `Date`. Which, BTW, is a poorly designed and long outdated class, so if you can upgrade the class to be able to return a modern type, do. I do realize that for now this would probably just move the cause of your error elsewhere.","body":"Which <code>Row</code> class is that? A homegrown one? I find it very confusing that <code>getTimestamp()</code> returns a <code>Date</code>. Which, BTW, is a poorly designed and long outdated class, so if you can upgrade the class to be able to return a modern type, do. I do realize that for now this would probably just move the cause of your error elsewhere."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1676442950,"post_id":75452858,"comment_id":133135470,"body_markdown":"The `Instant` is independent of time zone and is not he problem. What confused you was that it prints in UTC. Your error comes from doing `.atZone(ZoneOffset.UTC)`, which gives you the UTC date, December 22, which you don’t want. Instead you need `return row.getTimestamp(key).toInstant().atZone(ZoneId.systemDefault()).toLocalDate();`. When running in America/Chicago time zone it gives the desired `2022-12-21` (not knowing whether that is your time zone, just given as an example).","body":"The <code>Instant</code> is independent of time zone and is not he problem. What confused you was that it prints in UTC. Your error comes from doing <code>.atZone(ZoneOffset.UTC)</code>, which gives you the UTC date, December 22, which you don’t want. Instead you need <code>return row.getTimestamp(key).toInstant().atZone(ZoneId.systemDefaul&zwnj;&#8203;t()).toLocalDate();</code>. When running in America/Chicago time zone it gives the desired <code>2022-12-21</code> (not knowing whether that is your time zone, just given as an example)."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1676443234,"post_id":75452858,"comment_id":133135514,"body_markdown":"Does this answer your question? [Convert java.util.Date to\njava.time.LocalDate](https://stackoverflow.com/questions/21242110/convert-java-util-date-to-java-time-localdate)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/21242110/convert-java-util-date-to-java-time-localdate\">Convert java.util.Date to java.time.LocalDate</a>"}],"answers":[{"comments":[{"owner":{"account_id":10428912,"reputation":303,"user_id":8904399,"display_name":"skippy130"},"score":0,"creation_date":1676407250,"post_id":75453015,"comment_id":133130156,"body_markdown":"Thank you that worked! If you have a second could you explain that format to be, the pattern you used to make the DateTimeFormatter? \n\nAlso do you have any idea why the code I had would behave the way it does? I don&#39;t get why it would just change the day like that.","body":"Thank you that worked! If you have a second could you explain that format to be, the pattern you used to make the DateTimeFormatter?   Also do you have any idea why the code I had would behave the way it does? I don&#39;t get why it would just change the day like that."},{"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1676407661,"post_id":75453015,"comment_id":133130267,"body_markdown":"I&#39;m not certain why it added the day unless it was adjusted based on the time zone to a different default local time.","body":"I&#39;m not certain why it added the day unless it was adjusted based on the time zone to a different default local time."},{"owner":{"account_id":10428912,"reputation":303,"user_id":8904399,"display_name":"skippy130"},"score":0,"creation_date":1676408634,"post_id":75453015,"comment_id":133130521,"body_markdown":"One of life&#39;s mysteries I guess. Could you explain what the &quot;EEE LLL&quot; section in the format means? I&#39;m unfamiliar with it. Or could you point me to a resource where I could learn a bit about it?","body":"One of life&#39;s mysteries I guess. Could you explain what the &quot;EEE LLL&quot; section in the format means? I&#39;m unfamiliar with it. Or could you point me to a resource where I could learn a bit about it?"},{"owner":{"account_id":10428912,"reputation":303,"user_id":8904399,"display_name":"skippy130"},"score":0,"creation_date":1676412348,"post_id":75453015,"comment_id":133131355,"body_markdown":"Is it possible to make it so that the date is not tied to a specific timezone as it is in this format? Meaning so that it can localize the time in whatever timezone it happens to be in?","body":"Is it possible to make it so that the date is not tied to a specific timezone as it is in this format? Meaning so that it can localize the time in whatever timezone it happens to be in?"},{"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"score":1,"creation_date":1676413948,"post_id":75453015,"comment_id":133131640,"body_markdown":"*Or could you point me to a resource where I could learn a bit about it?* The [java.time](https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/time/package-summary.html) package replaces the outdated and buggy `Date` and related legacy classes.  The `DateTimeFormatter` documentation is linked in my answer.","body":"<i>Or could you point me to a resource where I could learn a bit about it?</i> The <a href=\"https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/time/package-summary.html\" rel=\"nofollow noreferrer\">java.time</a> package replaces the outdated and buggy <code>Date</code> and related legacy classes.  The <code>DateTimeFormatter</code> documentation is linked in my answer."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1676442312,"post_id":75453015,"comment_id":133135361,"body_markdown":"The OP has got an old-fashioned &#39;Date`. We don’t need to go through `toString()` and parsing again to convert to `LocalDate`. Also `LLL` in the format pattern string is wrong. It needs to be `MMM`. You also need to specify a locale for your formatter (in practice it will probably work if you correct only one of the two errors, but it will be confusing).","body":"The OP has got an old-fashioned &#39;Date<code>. We don’t need to go through </code>toString()` and parsing again to convert to <code>LocalDate</code>. Also <code>LLL</code> in the format pattern string is wrong. It needs to be <code>MMM</code>. You also need to specify a locale for your formatter (in practice it will probably work if you correct only one of the two errors, but it will be confusing)."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1676443954,"post_id":75453015,"comment_id":133135647,"body_markdown":"Your updated way is very good. I suggest you either push the bad way to the end of your question or leave it out.","body":"Your updated way is very good. I suggest you either push the bad way to the end of your question or leave it out."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1676464244,"post_id":75453015,"comment_id":133140858,"body_markdown":"*M/L for Number/Text* does *not* mean M for number and L for text. M and L both work for both numbers and text. The difference is (quote) *Pattern letters &#39;L&#39;, &#39;c&#39;, and &#39;q&#39; specify the stand-alone form of the text styles.* While in English the stand-alone form of a month abbreviation should be no different, there are languages where it *is* different. A reader familiar with such a language will be confused about `LLL` with day-of-month.","body":"<i>M/L for Number/Text</i> does <i>not</i> mean M for number and L for text. M and L both work for both numbers and text. The difference is (quote) <i>Pattern letters &#39;L&#39;, &#39;c&#39;, and &#39;q&#39; specify the stand-alone form of the text styles.</i> While in English the stand-alone form of a month abbreviation should be no different, there are languages where it <i>is</i> different. A reader familiar with such a language will be confused about <code>LLL</code> with day-of-month."},{"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"score":1,"creation_date":1676464718,"post_id":75453015,"comment_id":133141015,"body_markdown":"@OleV.V. OK.  Thanks for the explanation.  I&#39;ll change it to M.","body":"@OleV.V. OK.  Thanks for the explanation.  I&#39;ll change it to M."}],"tags":[],"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"comment_count":9,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1676464748,"creation_date":1676406870,"answer_id":75453015,"question_id":75452858,"body_markdown":"Try it like this. Check out [DateTimeFormatter](https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/time/format/DateTimeFormatter.html) for details on the following arguments.\r\n```\r\nString date = &quot;Wed Dec 21 20:47:46 CST 2022&quot;;\r\n```\r\n- `EEE` three letter day of week\r\n- `MMM` three letter month\r\n- `dd` integer day\r\n- `HH:mm:ss` time using 24 hour clock\r\n- `z` time zone name (CST)\r\n- `yyyy` year\r\n```\r\nDateTimeFormatter dtf = DateTimeFormatter.ofPattern(&quot;EEE MMM dd HH:mm:ss z yyyy&quot;);\r\nLocalDate dt = LocalDateTime.parse(date, dtf).toLocalDate();\r\nSystem.out.println(dt);\r\n```\r\nprints\r\n```\r\n2022-12-21\r\n```\r\n**Updated**\r\n\r\nIf you actually have an instance of `Date` you might try the following:\r\n```\r\nLocalDate ldt = LocalDate.ofInstant(date.toInstant(), \r\n    ZoneId.systemDefault());\r\n```\r\n","title":"Java Converting Retrieved TimeStamp to Instant Gives Wrong Day","body":"<p>Try it like this. Check out <a href=\"https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/time/format/DateTimeFormatter.html\" rel=\"nofollow noreferrer\">DateTimeFormatter</a> for details on the following arguments.</p>\n<pre><code>String date = &quot;Wed Dec 21 20:47:46 CST 2022&quot;;\n</code></pre>\n<ul>\n<li><code>EEE</code> three letter day of week</li>\n<li><code>MMM</code> three letter month</li>\n<li><code>dd</code> integer day</li>\n<li><code>HH:mm:ss</code> time using 24 hour clock</li>\n<li><code>z</code> time zone name (CST)</li>\n<li><code>yyyy</code> year</li>\n</ul>\n<pre><code>DateTimeFormatter dtf = DateTimeFormatter.ofPattern(&quot;EEE MMM dd HH:mm:ss z yyyy&quot;);\nLocalDate dt = LocalDateTime.parse(date, dtf).toLocalDate();\nSystem.out.println(dt);\n</code></pre>\n<p>prints</p>\n<pre><code>2022-12-21\n</code></pre>\n<p><strong>Updated</strong></p>\n<p>If you actually have an instance of <code>Date</code> you might try the following:</p>\n<pre><code>LocalDate ldt = LocalDate.ofInstant(date.toInstant(), \n    ZoneId.systemDefault());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676418047,"creation_date":1676417634,"answer_id":75454242,"question_id":75452858,"body_markdown":"# tl;dr\r\n\r\nAvoid unnecessary string manipulation. Use date-time types for date-time values. \r\n\r\n    myResultSet\r\n    .getObject( … , OffsetDateTime.class )  // For any database column of a data type akin to the SQL standard type of `TIMESTAMP WITH TIME ZONE`.\r\n    .toLocalDate()  // Extract the date portion from the returned `OffsetDateTime` object. \r\n    .toString()     // Generate text in standard ISO 8601 format. \r\n\r\n\r\n\r\n\r\n# Details\r\n\r\nThe `Timestamp` class is part of the terrible date-time classes that are now legacy. Use only their replacements, the modern *java.time* classes defined in JSR 310.  \r\n\r\nInstead of `Timestamp`, use `OffsetDateTime` with JDBC 4.2 and later. Do this for any database column of a data type akin to the SQL standard type of `TIMESTAMP WITH TIME ZONE`. \r\n\r\n    OffsetDateTime odt = myResultSet.getObject( … , OffsetDateTime.class ) ;\r\n\r\n\r\nYour Question is not clear, but you seem to want the date portion of that moment as seen with an offset from UTC of zero hours-minutes-seconds. \r\n\r\nThe retrieved `OffsetDateTime` is likely already in UTC. But let’s be sure:\r\n\r\n    OffsetDateTime odtUtc = odt.withOffsetSameInstant( ZoneOffset.UTC ) ;\r\n\r\nExtract the date portion. \r\n\r\n    LocalDate localDate = odtUtc.toLocalDate() ;\r\n\r\nTo generate text in standard ISO 8601 format, call `toString`. \r\n\r\n    String output = localDate.toString() ;\r\n\r\n\r\n","title":"Java Converting Retrieved TimeStamp to Instant Gives Wrong Day","body":"<h1>tl;dr</h1>\n<p>Avoid unnecessary string manipulation. Use date-time types for date-time values.</p>\n<pre><code>myResultSet\n.getObject( … , OffsetDateTime.class )  // For any database column of a data type akin to the SQL standard type of `TIMESTAMP WITH TIME ZONE`.\n.toLocalDate()  // Extract the date portion from the returned `OffsetDateTime` object. \n.toString()     // Generate text in standard ISO 8601 format. \n</code></pre>\n<h1>Details</h1>\n<p>The <code>Timestamp</code> class is part of the terrible date-time classes that are now legacy. Use only their replacements, the modern <em>java.time</em> classes defined in JSR 310.</p>\n<p>Instead of <code>Timestamp</code>, use <code>OffsetDateTime</code> with JDBC 4.2 and later. Do this for any database column of a data type akin to the SQL standard type of <code>TIMESTAMP WITH TIME ZONE</code>.</p>\n<pre><code>OffsetDateTime odt = myResultSet.getObject( … , OffsetDateTime.class ) ;\n</code></pre>\n<p>Your Question is not clear, but you seem to want the date portion of that moment as seen with an offset from UTC of zero hours-minutes-seconds.</p>\n<p>The retrieved <code>OffsetDateTime</code> is likely already in UTC. But let’s be sure:</p>\n<pre><code>OffsetDateTime odtUtc = odt.withOffsetSameInstant( ZoneOffset.UTC ) ;\n</code></pre>\n<p>Extract the date portion.</p>\n<pre><code>LocalDate localDate = odtUtc.toLocalDate() ;\n</code></pre>\n<p>To generate text in standard ISO 8601 format, call <code>toString</code>.</p>\n<pre><code>String output = localDate.toString() ;\n</code></pre>\n"}],"owner":{"account_id":10428912,"reputation":303,"user_id":8904399,"display_name":"skippy130"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":237,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75453015,"answer_count":2,"score":0,"last_activity_date":1676464748,"creation_date":1676405661,"question_id":75452858,"body_markdown":"I&#39;ve made a simple method which is used to convert a timestamp retrieved from a database into a LocalDate. However for some reason I keep getting the wrong day in the conversion. I&#39;ve shared the code below.\r\n\r\n        private LocalDate getLocalDateFromTimeStamp(Row row, String key){\r\n            return LocalDate.parse(row.getTimestamp(key).toInstant().atZone(ZoneOffset.UTC).toLocalDate().format(DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd&quot;)));\r\n    }\r\n\r\nSo the date I&#39;m expecting is 2022-12-21 but what I get is 2022-12-22. \r\n\r\nWhen I debug and check what \r\n\r\n&gt; row.getTimestamp(key)\r\n\r\n gets me a `Date` object of `Wed Dec 21 20:47:46 CST 2022` which is what I expect. \r\n\r\n\r\nWhen I check what \r\n\r\n&gt; row.getTimestamp(key).toInstant()\r\n\r\n does, I get &quot;2022-12-22T02:47:46.299Z&quot;. And I think this is where the problem is popping up and I&#39;m not sure why it&#39;s happening. The LocalDate that&#39;s returned by the method is &quot;2022-12-22&quot;. \r\n\r\nIf anyone could shine a light on this I&#39;d really appreciate it as I&#39;m lost as to why this is happening. \r\n\r\n","title":"Java Converting Retrieved TimeStamp to Instant Gives Wrong Day","body":"<p>I've made a simple method which is used to convert a timestamp retrieved from a database into a LocalDate. However for some reason I keep getting the wrong day in the conversion. I've shared the code below.</p>\n<pre><code>    private LocalDate getLocalDateFromTimeStamp(Row row, String key){\n        return LocalDate.parse(row.getTimestamp(key).toInstant().atZone(ZoneOffset.UTC).toLocalDate().format(DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd&quot;)));\n}\n</code></pre>\n<p>So the date I'm expecting is 2022-12-21 but what I get is 2022-12-22.</p>\n<p>When I debug and check what</p>\n<blockquote>\n<p>row.getTimestamp(key)</p>\n</blockquote>\n<p>gets me a <code>Date</code> object of <code>Wed Dec 21 20:47:46 CST 2022</code> which is what I expect.</p>\n<p>When I check what</p>\n<blockquote>\n<p>row.getTimestamp(key).toInstant()</p>\n</blockquote>\n<p>does, I get &quot;2022-12-22T02:47:46.299Z&quot;. And I think this is where the problem is popping up and I'm not sure why it's happening. The LocalDate that's returned by the method is &quot;2022-12-22&quot;.</p>\n<p>If anyone could shine a light on this I'd really appreciate it as I'm lost as to why this is happening.</p>\n"},{"tags":["java","android","kotlin","restart","shutdown"],"comments":[{"owner":{"account_id":39846,"reputation":991173,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":1,"creation_date":1676465633,"post_id":75459901,"comment_id":133141295,"body_markdown":"&quot;is there an option to delay reboot or shutdown until commands are executed? Or cancel the reboot or shutdown and turn it off after executing the necessary commands?&quot; -- I hope not. Malware authors would love this. &quot;I&#39;m trying to send an SMS and make a request to the server as soon as the device starts to turn off or reboot&quot; -- you will need to engineer your system around the notion that those things are unreliable. Note that there is no guarantee of Internet access or telephony service at any point, including when the device is being shut down or rebooted.","body":"&quot;is there an option to delay reboot or shutdown until commands are executed? Or cancel the reboot or shutdown and turn it off after executing the necessary commands?&quot; -- I hope not. Malware authors would love this. &quot;I&#39;m trying to send an SMS and make a request to the server as soon as the device starts to turn off or reboot&quot; -- you will need to engineer your system around the notion that those things are unreliable. Note that there is no guarantee of Internet access or telephony service at any point, including when the device is being shut down or rebooted."}],"owner":{"account_id":21252218,"reputation":107,"user_id":15634313,"display_name":"J-iSkELo"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":138,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676464661,"creation_date":1676464661,"question_id":75459901,"body_markdown":"The problem is that the functions I need do not always have time to complete before the device turns off.\r\n\r\nI understand that there is a server delay, etc. when prompted, but is there an option to delay reboot or shutdown until commands are executed? Or cancel the reboot or shutdown and turn it off after executing the necessary commands?\r\n\r\nI&#39;m trying to send an SMS and make a request to the server as soon as the device starts to turn off or reboot.\r\nNaturally I listen to ACTION_SHUTDOWN through ShutDownReceiver\r\n\r\n```\r\n&lt;receiver\r\n    android:name=&quot;.services.utils.ShutDownReceiver&quot;\r\n    android:exported=&quot;false&quot;&gt;\r\n    &lt;intent-filter&gt;\r\n        &lt;action android:name=&quot;android.intent.action.ACTION_SHUTDOWN&quot; /&gt;\r\n        &lt;action android:name=&quot;android.intent.action.QUICKBOOT_POWEROFF&quot; /&gt;\r\n    &lt;/intent-filter&gt;\r\n&lt;/receiver&gt;\r\n```\r\n\r\n```\r\nclass ShutDownReceiver : BroadcastReceiver() {\r\n\r\n    @SuppressLint(&quot;UnsafeProtectedBroadcastReceiver&quot;)\r\n    override fun onReceive(context: Context, intent: Intent) {\r\n        &quot;ShutDownReceiver :: START SHUT DOWN&quot;.switchOffLogs()\r\n\r\n        CoroutineScope(IO).launch {\r\n            SwitchOffRepository.invoke().notifyOff(::setStatusSend)\r\n        }.start()\r\n    }\r\n\r\n    private fun setStatusSend(result: Boolean) {\r\n       Timber.e(&quot;ShutDownReceiver :: COMPLETE NOTIFY_OFF_FUNCTIONS&quot;)\r\n    }\r\n}\r\n```","title":"How to disable or suspend shutdown and restart? (Android 7.1.1)","body":"<p>The problem is that the functions I need do not always have time to complete before the device turns off.</p>\n<p>I understand that there is a server delay, etc. when prompted, but is there an option to delay reboot or shutdown until commands are executed? Or cancel the reboot or shutdown and turn it off after executing the necessary commands?</p>\n<p>I'm trying to send an SMS and make a request to the server as soon as the device starts to turn off or reboot.\nNaturally I listen to ACTION_SHUTDOWN through ShutDownReceiver</p>\n<pre><code>&lt;receiver\n    android:name=&quot;.services.utils.ShutDownReceiver&quot;\n    android:exported=&quot;false&quot;&gt;\n    &lt;intent-filter&gt;\n        &lt;action android:name=&quot;android.intent.action.ACTION_SHUTDOWN&quot; /&gt;\n        &lt;action android:name=&quot;android.intent.action.QUICKBOOT_POWEROFF&quot; /&gt;\n    &lt;/intent-filter&gt;\n&lt;/receiver&gt;\n</code></pre>\n<pre><code>class ShutDownReceiver : BroadcastReceiver() {\n\n    @SuppressLint(&quot;UnsafeProtectedBroadcastReceiver&quot;)\n    override fun onReceive(context: Context, intent: Intent) {\n        &quot;ShutDownReceiver :: START SHUT DOWN&quot;.switchOffLogs()\n\n        CoroutineScope(IO).launch {\n            SwitchOffRepository.invoke().notifyOff(::setStatusSend)\n        }.start()\n    }\n\n    private fun setStatusSend(result: Boolean) {\n       Timber.e(&quot;ShutDownReceiver :: COMPLETE NOTIFY_OFF_FUNCTIONS&quot;)\n    }\n}\n</code></pre>\n"},{"tags":["java","http","cookies"],"answers":[{"comments":[{"owner":{"account_id":43763,"reputation":10120,"user_id":128076,"accept_rate":98,"display_name":"Ben"},"score":0,"creation_date":1324303763,"post_id":8562369,"comment_id":10613226,"body_markdown":"Thanks for the information. I can&#39;t verify it since I don&#39;t see how to define the &#39;expire&#39; option in Java Cookie (javax.servlet.http.Cookie).","body":"Thanks for the information. I can&#39;t verify it since I don&#39;t see how to define the &#39;expire&#39; option in Java Cookie (javax.servlet.http.Cookie)."},{"owner":{"account_id":225818,"reputation":6897,"user_id":486504,"accept_rate":79,"display_name":"user"},"score":0,"creation_date":1324304769,"post_id":8562369,"comment_id":10613564,"body_markdown":"You could use a tool like Live HTTP Headers, Firebug&#39;s Net panel, or the like (in Firefox) to grab the entire HTTP exchange. While that won&#39;t help you set the value, it will tell you what exact cookie values are being exchanged, which may provide a clue as to what is going wrong.","body":"You could use a tool like Live HTTP Headers, Firebug&#39;s Net panel, or the like (in Firefox) to grab the entire HTTP exchange. While that won&#39;t help you set the value, it will tell you what exact cookie values are being exchanged, which may provide a clue as to what is going wrong."},{"owner":{"account_id":43763,"reputation":10120,"user_id":128076,"accept_rate":98,"display_name":"Ben"},"score":0,"creation_date":1324306933,"post_id":8562369,"comment_id":10614330,"body_markdown":"You are right about the Expires tag but I found the real problem and it was that I didn&#39;t set the path.\nI guess Java knows to set the correct attribute itself","body":"You are right about the Expires tag but I found the real problem and it was that I didn&#39;t set the path. I guess Java knows to set the correct attribute itself"}],"tags":[],"owner":{"account_id":225818,"reputation":6897,"user_id":486504,"accept_rate":79,"display_name":"user"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1324302994,"creation_date":1324302994,"answer_id":8562369,"question_id":8562256,"body_markdown":"According to [HTTP Cookies: What&#39;s the difference between Max-age and Expires?](http://mrcoles.com/blog/cookies-max-age-vs-expires/), at least Internet Explorer 6, 7 and 8 do not support `Max-Age`, but *do* support `Expires`. If this is your problem, then I would try setting both of those as:\r\n\r\n&gt; **Q. What if I set both expires and max-age in a cookie?**\r\n&gt; \r\n&gt; A. Every browser that supports max-age will ignore the expires regardless of it’s value, and likewise, Internet Explorer will ignore the max-age and just use expires.\r\n\r\nThat page also has a link to a [cookie persistence test page](http://mrcoles.com/media/test/cookies-max-age-vs-expires.html) which you might find useful.","title":"Setting maxage(0) to cookie in HTTPServlet doPost() and redirecting doesn&#39;t work","body":"<p>According to <a href=\"http://mrcoles.com/blog/cookies-max-age-vs-expires/\" rel=\"nofollow\">HTTP Cookies: What's the difference between Max-age and Expires?</a>, at least Internet Explorer 6, 7 and 8 do not support <code>Max-Age</code>, but <em>do</em> support <code>Expires</code>. If this is your problem, then I would try setting both of those as:</p>\n\n<blockquote>\n  <p><strong>Q. What if I set both expires and max-age in a cookie?</strong></p>\n  \n  <p>A. Every browser that supports max-age will ignore the expires regardless of it’s value, and likewise, Internet Explorer will ignore the max-age and just use expires.</p>\n</blockquote>\n\n<p>That page also has a link to a <a href=\"http://mrcoles.com/media/test/cookies-max-age-vs-expires.html\" rel=\"nofollow\">cookie persistence test page</a> which you might find useful.</p>\n"},{"tags":[],"owner":{"account_id":43763,"reputation":10120,"user_id":128076,"accept_rate":98,"display_name":"Ben"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1324306983,"creation_date":1324306983,"answer_id":8563195,"question_id":8562256,"body_markdown":"The solution for IE was that I should have set the Path for both setting the cookie and removing it.\r\n\r\nChrome is ok with having no path.","title":"Setting maxage(0) to cookie in HTTPServlet doPost() and redirecting doesn&#39;t work","body":"<p>The solution for IE was that I should have set the Path for both setting the cookie and removing it.</p>\n\n<p>Chrome is ok with having no path.</p>\n"},{"tags":[],"owner":{"account_id":19887404,"reputation":1,"user_id":14570151,"display_name":"sudarsan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676464582,"creation_date":1676464041,"answer_id":75459792,"question_id":8562256,"body_markdown":"Thanks Ben on the finding, That was a really good catch. I have been trying to solve this for a couple of hours now. \r\n\r\nHonestly It was quite easy to not notice the solution provided under the Comments section, Hence re-sharing the solution here for people like me :)\r\n\r\n&quot;The real problem and it was that I didn&#39;t set the path&quot;\r\n\r\nModified Code Snippet:\r\n    \r\n        if (cookies != null) {\r\n            for (Cookie cookie : cookies) {\r\n    \r\n                if (CID_KEY_NAME.equals(cookie.getName())) {\r\n                    cookie.setMaxAge(0); // Should make the browser delete the cookie\r\n                    cookie.setValue(null);\r\n                    cookie.setPath(&quot;/&quot;); // Set the Path value according to your code\r\n                    resp.addCookie(cookie);\r\n                        \r\n                }\r\n            }\r\n        }\r\n\r\nAgain, Thanks Ben!","title":"Setting maxage(0) to cookie in HTTPServlet doPost() and redirecting doesn&#39;t work","body":"<p>Thanks Ben on the finding, That was a really good catch. I have been trying to solve this for a couple of hours now.</p>\n<p>Honestly It was quite easy to not notice the solution provided under the Comments section, Hence re-sharing the solution here for people like me :)</p>\n<p>&quot;The real problem and it was that I didn't set the path&quot;</p>\n<p>Modified Code Snippet:</p>\n<pre><code>    if (cookies != null) {\n        for (Cookie cookie : cookies) {\n\n            if (CID_KEY_NAME.equals(cookie.getName())) {\n                cookie.setMaxAge(0); // Should make the browser delete the cookie\n                cookie.setValue(null);\n                cookie.setPath(&quot;/&quot;); // Set the Path value according to your code\n                resp.addCookie(cookie);\n                    \n            }\n        }\n    }\n</code></pre>\n<p>Again, Thanks Ben!</p>\n"}],"owner":{"account_id":43763,"reputation":10120,"user_id":128076,"accept_rate":98,"display_name":"Ben"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3321,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":8563195,"answer_count":3,"score":1,"last_activity_date":1676464582,"creation_date":1324302433,"question_id":8562256,"body_markdown":"I&#39;m doing something very simple that&#39;s just not working.\r\n\r\nI have an html page with a button that&#39;s supposed to logoff and delete the login cookie, when pressed, it /runs this code in a servlet:\r\n\r\n\t@Override\r\n\tprotected void doPost(HttpServletRequest req, HttpServletResponse resp) throws ServletException,\r\n\t\t\tIOException {\r\n\t\tdeleteCookie(req, resp);\r\n\r\n\t\tresp.sendRedirect(&quot;login&quot;);\r\n\t\t\r\n\t}\r\n\r\n\tprivate void deleteCookie(HttpServletRequest req, HttpServletResponse resp) {\r\n\t\tCookie[] cookies = req.getCookies();\r\n\r\n\t\tif (cookies != null) {\r\n\t\t\tfor (Cookie cookie : cookies) {\r\n\r\n\t\t\t\tif (CID_KEY_NAME.equals(cookie.getName())) {\r\n\t\t\t\t\tcookie.setMaxAge(0); // Should make the browser delete the cookie\r\n\t\t\t\t\tcookie.setValue(null);\r\n\t\t\t\t\tresp.addCookie(cookie);\r\n\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\nthe `sendRedirect(&quot;login&quot;)` sends me to a new servlet that&#39;s responsible for the log-in but when I arrive at the new servlet and check for the existence of the cookie above, I can see it exists with the maxage value of -1\r\n\r\nAm I doing something wrong?","title":"Setting maxage(0) to cookie in HTTPServlet doPost() and redirecting doesn&#39;t work","body":"<p>I'm doing something very simple that's just not working.</p>\n\n<p>I have an html page with a button that's supposed to logoff and delete the login cookie, when pressed, it /runs this code in a servlet:</p>\n\n<pre><code>@Override\nprotected void doPost(HttpServletRequest req, HttpServletResponse resp) throws ServletException,\n        IOException {\n    deleteCookie(req, resp);\n\n    resp.sendRedirect(\"login\");\n\n}\n\nprivate void deleteCookie(HttpServletRequest req, HttpServletResponse resp) {\n    Cookie[] cookies = req.getCookies();\n\n    if (cookies != null) {\n        for (Cookie cookie : cookies) {\n\n            if (CID_KEY_NAME.equals(cookie.getName())) {\n                cookie.setMaxAge(0); // Should make the browser delete the cookie\n                cookie.setValue(null);\n                resp.addCookie(cookie);\n\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>the <code>sendRedirect(\"login\")</code> sends me to a new servlet that's responsible for the log-in but when I arrive at the new servlet and check for the existence of the cookie above, I can see it exists with the maxage value of -1</p>\n\n<p>Am I doing something wrong?</p>\n"},{"tags":["java","eclipse","maven","m2eclipse","workspace"],"comments":[{"owner":{"account_id":40221,"reputation":32100,"user_id":116509,"accept_rate":100,"display_name":"artbristol"},"score":1,"creation_date":1336659271,"post_id":10535799,"comment_id":13629655,"body_markdown":"m2e != m2eclipse. Which version are you actually using? No m2e versions start with 0","body":"m2e != m2eclipse. Which version are you actually using? No m2e versions start with 0"},{"owner":{"account_id":41920,"reputation":56500,"user_id":121993,"accept_rate":77,"display_name":"Jeff Storey"},"score":1,"creation_date":1336659621,"post_id":10535799,"comment_id":13629840,"body_markdown":"sorry using the Maven Integration for Eclipse","body":"sorry using the Maven Integration for Eclipse"},{"owner":{"account_id":890308,"reputation":47359,"user_id":928711,"accept_rate":60,"display_name":"Guillaume Polet"},"score":0,"creation_date":1336659886,"post_id":10535799,"comment_id":13629995,"body_markdown":"M2E or M2Eclipse? Which version of Eclipse? My version of m2e is 1.0something.","body":"M2E or M2Eclipse? Which version of Eclipse? My version of m2e is 1.0something."},{"owner":{"account_id":41920,"reputation":56500,"user_id":121993,"accept_rate":77,"display_name":"Jeff Storey"},"score":0,"creation_date":1336660145,"post_id":10535799,"comment_id":13630137,"body_markdown":"I have edited the post to show what I have installed","body":"I have edited the post to show what I have installed"},{"owner":{"account_id":1178010,"reputation":7642,"user_id":1153530,"accept_rate":80,"display_name":"Behe"},"score":0,"creation_date":1336690192,"post_id":10535799,"comment_id":13641945,"body_markdown":"Could you show the pom.xml entries for both projects?","body":"Could you show the pom.xml entries for both projects?"},{"owner":{"account_id":56519,"reputation":22672,"user_id":169277,"accept_rate":97,"display_name":"ant"},"score":0,"creation_date":1336691108,"post_id":10535799,"comment_id":13642137,"body_markdown":"did you try `mvn eclipse:clean` `mvn eclipse:eclipse` &amp; refresh","body":"did you try <code>mvn eclipse:clean</code> <code>mvn eclipse:eclipse</code> &amp; refresh"},{"owner":{"account_id":41920,"reputation":56500,"user_id":121993,"accept_rate":77,"display_name":"Jeff Storey"},"score":0,"creation_date":1336691201,"post_id":10535799,"comment_id":13642160,"body_markdown":"I have tried eclipse the projects and those maven goals, yes. I have also edited the post to show the relevant sections of the pom.","body":"I have tried eclipse the projects and those maven goals, yes. I have also edited the post to show the relevant sections of the pom."}],"answers":[{"comments":[{"owner":{"account_id":41920,"reputation":56500,"user_id":121993,"accept_rate":77,"display_name":"Jeff Storey"},"score":0,"creation_date":1336701083,"post_id":10542752,"comment_id":13643690,"body_markdown":"I upgraded to m2e (latest) but still no luck.","body":"I upgraded to m2e (latest) but still no luck."},{"owner":{"account_id":41920,"reputation":56500,"user_id":121993,"accept_rate":77,"display_name":"Jeff Storey"},"score":0,"creation_date":1336704323,"post_id":10542752,"comment_id":13644214,"body_markdown":"I&#39;m not sure if there was a conflict with m2-wtp https://issues.sonatype.org/browse/MECLIPSEWTP-35, but I&#39;m not using that currently - all seems to work now.","body":"I&#39;m not sure if there was a conflict with m2-wtp <a href=\"https://issues.sonatype.org/browse/MECLIPSEWTP-35\" rel=\"nofollow noreferrer\">issues.sonatype.org/browse/MECLIPSEWTP-35</a>, but I&#39;m not using that currently - all seems to work now."}],"tags":[],"owner":{"account_id":1092244,"reputation":652,"user_id":1086631,"accept_rate":71,"display_name":"Robert Johnson"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1336687113,"creation_date":1336687113,"answer_id":10542752,"question_id":10535799,"body_markdown":"Looks like you have an old version of m2eclipse - as Guillaume Polet mentioned, the latest version of the m2eclipse plugin is 1.0 something.\r\n\r\nThe easiest way to get the latest version is to open the eclipse marketplace, search for &#39;Maven&#39; and install the &#39;Maven Integration plugin&#39; (and possibly the WTP plugin as well, since you seem to be using that).","title":"maven eclipse workspace resolution","body":"<p>Looks like you have an old version of m2eclipse - as Guillaume Polet mentioned, the latest version of the m2eclipse plugin is 1.0 something.</p>\n\n<p>The easiest way to get the latest version is to open the eclipse marketplace, search for 'Maven' and install the 'Maven Integration plugin' (and possibly the WTP plugin as well, since you seem to be using that).</p>\n"},{"tags":[],"owner":{"account_id":22425806,"reputation":21,"user_id":16632435,"display_name":"Edgar Leonardo S&#225;nchez"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1657218373,"creation_date":1657218373,"answer_id":72902608,"question_id":10535799,"body_markdown":"If a project is configured to resolve dependencies from the workspace, these artifacts do not need to be present in your local repository. Assume that project-a and project-b are both in the same MyEclipse workspace, and that project-a depends on project-b . If workspace resolution is disabled, the Maven build for project-a will only succeed if project-b ‘s artifact is present in the local repository. If workspace resolution is enabled, Maven will resolve the dependency via the MyEclipse workspace.\r\n\r\nEnabling the workspace resolution is convenient if you are working on several projects at the same time in the same workspace that have compile dependencies among each other and you don’t want to mvn install one project in order for your changes to be visible to the other project.\r\n\r\nHope this helps. Let us know if you have any questions.\r\n\r\n–Swapna\r\nMyEclipse Support","title":"maven eclipse workspace resolution","body":"<p>If a project is configured to resolve dependencies from the workspace, these artifacts do not need to be present in your local repository. Assume that project-a and project-b are both in the same MyEclipse workspace, and that project-a depends on project-b . If workspace resolution is disabled, the Maven build for project-a will only succeed if project-b ‘s artifact is present in the local repository. If workspace resolution is enabled, Maven will resolve the dependency via the MyEclipse workspace.</p>\n<p>Enabling the workspace resolution is convenient if you are working on several projects at the same time in the same workspace that have compile dependencies among each other and you don’t want to mvn install one project in order for your changes to be visible to the other project.</p>\n<p>Hope this helps. Let us know if you have any questions.</p>\n<p>–Swapna\nMyEclipse Support</p>\n"},{"tags":[],"owner":{"account_id":11106855,"reputation":190,"user_id":8153798,"display_name":"B_St"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676464494,"creation_date":1676464494,"answer_id":75459880,"question_id":10535799,"body_markdown":"In Eclipse 2022-09 using m2e 2.0.5 this is the Checkbox &quot;Resolve Workspace artifacts&quot; in maven run dialog.","title":"maven eclipse workspace resolution","body":"<p>In Eclipse 2022-09 using m2e 2.0.5 this is the Checkbox &quot;Resolve Workspace artifacts&quot; in maven run dialog.</p>\n"}],"owner":{"account_id":41920,"reputation":56500,"user_id":121993,"accept_rate":77,"display_name":"Jeff Storey"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4133,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":3,"score":3,"last_activity_date":1676464494,"creation_date":1336658968,"question_id":10535799,"body_markdown":"I have 2 maven projects in my workspace. They are not a multi-module project, but two separate ones. In one project, I reference the other as a dependency. I have workspace resolution turned on, but it tries to go out to the repository to find it. I&#39;ve tried deleting an reimporting both projects with no luck, and I&#39;m using the latest version of m2eclipse (0.12.1). I am under the impression that this should work, but does not - any thoughts why?\r\n\r\nEdit: The relevant sections of the poms looks like\r\n\r\nProject A\r\n\r\n    &lt;project&gt;\r\n     &lt;groupId&gt;my.company&lt;/groupId&gt;\r\n     &lt;artifactId&gt;project&lt;/artifactId&gt;\r\n     &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n     &lt;name&gt;my project&lt;/name&gt;\r\n    &lt;/project&gt;\r\n\r\nProject B\r\n\r\n    &lt;dependencies&gt;\r\n      &lt;dependency&gt;\r\n        &lt;groupId&gt;my.company&lt;/groupId&gt;\r\n        &lt;artifactId&gt;project&lt;/artifactId&gt;\r\n        &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n      &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n\r\n![enter image description here][1]\r\n  [1]: http://i.stack.imgur.com/Go66K.png","title":"maven eclipse workspace resolution","body":"<p>I have 2 maven projects in my workspace. They are not a multi-module project, but two separate ones. In one project, I reference the other as a dependency. I have workspace resolution turned on, but it tries to go out to the repository to find it. I've tried deleting an reimporting both projects with no luck, and I'm using the latest version of m2eclipse (0.12.1). I am under the impression that this should work, but does not - any thoughts why?</p>\n\n<p>Edit: The relevant sections of the poms looks like</p>\n\n<p>Project A</p>\n\n<pre><code>&lt;project&gt;\n &lt;groupId&gt;my.company&lt;/groupId&gt;\n &lt;artifactId&gt;project&lt;/artifactId&gt;\n &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n &lt;name&gt;my project&lt;/name&gt;\n&lt;/project&gt;\n</code></pre>\n\n<p>Project B</p>\n\n<pre><code>&lt;dependencies&gt;\n  &lt;dependency&gt;\n    &lt;groupId&gt;my.company&lt;/groupId&gt;\n    &lt;artifactId&gt;project&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n  &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n\n<p><img src=\"https://i.stack.imgur.com/Go66K.png\" alt=\"enter image description here\"></p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":5,"creation_date":1608043759,"post_id":65308189,"comment_id":115457775,"body_markdown":"because you are calling it on a proxy instead of the real object. Also you shouldn&#39;t be testing private methods, test the actual public method that invokes that private method.","body":"because you are calling it on a proxy instead of the real object. Also you shouldn&#39;t be testing private methods, test the actual public method that invokes that private method."},{"owner":{"account_id":19356344,"reputation":52,"user_id":14152601,"display_name":"BigTailMokey"},"score":0,"creation_date":1608081727,"post_id":65308189,"comment_id":115472391,"body_markdown":"Thanks.But I have other question: why not recommend testing private method? Or do I have a wrong idea about &quot;private method&quot;?","body":"Thanks.But I have other question: why not recommend testing private method? Or do I have a wrong idea about &quot;private method&quot;?"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1608099451,"post_id":65308189,"comment_id":115475907,"body_markdown":"Because they are private and are not meant to be called directly. They are being called as part of a public method. The public method is the one you should be testing and probably with different input/scenario&#39;s so that you test all permutation possible.","body":"Because they are private and are not meant to be called directly. They are being called as part of a public method. The public method is the one you should be testing and probably with different input/scenario&#39;s so that you test all permutation possible."}],"answers":[{"comments":[{"owner":{"account_id":19356344,"reputation":52,"user_id":14152601,"display_name":"BigTailMokey"},"score":1,"creation_date":1608081960,"post_id":65308735,"comment_id":115472428,"body_markdown":"Thanks for your answer.\nPowerMock or PowerMockito can simulation static/final/private method. But I want to test private method. So Why not test private method directly?Maybe I have a wrong idea about &quot;private method“？","body":"Thanks for your answer. PowerMock or PowerMockito can simulation static/final/private method. But I want to test private method. So Why not test private method directly?Maybe I have a wrong idea about &quot;private method“？"},{"owner":{"account_id":5574640,"reputation":475,"user_id":5976440,"accept_rate":50,"display_name":"ringadingding"},"score":1,"creation_date":1608133717,"post_id":65308735,"comment_id":115490638,"body_markdown":"The reason for private method to exist is that it has restricted access. It has a reason to have access at class level only, that means responsibility of that method doesn&#39;t matter to anything outside of class. \nAs for PowerMock or PowerMockito doesn&#39;t only simulate those methods they can actually can call it. But I would still say if you are writing unit test for private method than you are writing your code wrong. Private methods are supposed to be supporter methods and should not need testing. A test for method that calls private method should cover that private method.","body":"The reason for private method to exist is that it has restricted access. It has a reason to have access at class level only, that means responsibility of that method doesn&#39;t matter to anything outside of class.  As for PowerMock or PowerMockito doesn&#39;t only simulate those methods they can actually can call it. But I would still say if you are writing unit test for private method than you are writing your code wrong. Private methods are supposed to be supporter methods and should not need testing. A test for method that calls private method should cover that private method."}],"tags":[],"owner":{"account_id":5574640,"reputation":475,"user_id":5976440,"accept_rate":50,"display_name":"ringadingding"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1608133749,"creation_date":1608045726,"answer_id":65308735,"question_id":65308189,"body_markdown":"Not the answer you may be looking for, but private methods are supposed to be supporter methods and not need to be tested. Incase if you have written private method that needs unit test then PowerMock or PowerMockito will provide much better tests than java reflection.","title":"spring and junit4 to test a private method in class","body":"<p>Not the answer you may be looking for, but private methods are supposed to be supporter methods and not need to be tested. Incase if you have written private method that needs unit test then PowerMock or PowerMockito will provide much better tests than java reflection.</p>\n"}],"owner":{"account_id":19356344,"reputation":52,"user_id":14152601,"display_name":"BigTailMokey"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":430,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1676464162,"creation_date":1608043650,"question_id":65308189,"body_markdown":"I have two spring bean class ServiceA and ServiceB. ServiceA dependents ServiceB. Show the code:\r\n\r\n```\r\n@Service // spring IOC annotation\r\npublic class ServiceA {\r\n\r\n   @Autowired\r\n   private ServiceB sb;\r\n\r\n   // other code\r\n   \r\n   private void aMethod() {\r\n      // other code\r\n      sb.bMethod();\r\n      // other code\r\n   }\r\n\r\n}\r\n```\r\nI write the ServiceA`s unit class by Junit4, flowing code:\r\n```\r\n@SpringBootTest\r\n@RunWith(SpringRunner.class)\r\npublic class ServiceATest {\r\n\r\n   @Autowired\r\n   private ServiceA sa;\r\n\r\n   @Test\r\n   public void aMethodTest() {\r\n        Method method = ReflectionUtils.findMethod(ServiceA.class, &quot;aMethod&quot;);\r\n        method.setAccessible(true);\r\n        ReflectionUtils.invokeMethod(method, sa);\r\n   }\r\n}\r\n```\r\n\r\nI run the ServiceATest, when I debug the ServiceATest#aMethodTest(), the object &#39;sa&#39; is a CGLIB proxy object. But I debug the ServiceA#aMethod(), the &#39;sb&#39; is null.\r\n\r\nI am confused. The object &#39;sa&#39; is from Spring Bean Container, so it must be a complete object with Spring-DI. Why it`s field is null when i call sa.aMethod() method?","title":"spring and junit4 to test a private method in class","body":"<p>I have two spring bean class ServiceA and ServiceB. ServiceA dependents ServiceB. Show the code:</p>\n<pre><code>@Service // spring IOC annotation\npublic class ServiceA {\n\n   @Autowired\n   private ServiceB sb;\n\n   // other code\n   \n   private void aMethod() {\n      // other code\n      sb.bMethod();\n      // other code\n   }\n\n}\n</code></pre>\n<p>I write the ServiceA`s unit class by Junit4, flowing code:</p>\n<pre><code>@SpringBootTest\n@RunWith(SpringRunner.class)\npublic class ServiceATest {\n\n   @Autowired\n   private ServiceA sa;\n\n   @Test\n   public void aMethodTest() {\n        Method method = ReflectionUtils.findMethod(ServiceA.class, &quot;aMethod&quot;);\n        method.setAccessible(true);\n        ReflectionUtils.invokeMethod(method, sa);\n   }\n}\n</code></pre>\n<p>I run the ServiceATest, when I debug the ServiceATest#aMethodTest(), the object 'sa' is a CGLIB proxy object. But I debug the ServiceA#aMethod(), the 'sb' is null.</p>\n<p>I am confused. The object 'sa' is from Spring Bean Container, so it must be a complete object with Spring-DI. Why it`s field is null when i call sa.aMethod() method?</p>\n"},{"tags":["java","foreground","amazon-fire-tv","package-name"],"comments":[{"owner":{"account_id":404833,"reputation":1416,"user_id":773371,"accept_rate":82,"display_name":"gcdev"},"score":0,"creation_date":1679343236,"post_id":75459754,"comment_id":133701949,"body_markdown":"I&#39;d love to know this as well!","body":"I&#39;d love to know this as well!"}],"owner":{"account_id":19098913,"reputation":11,"user_id":13947591,"display_name":"Chris Meinigmann"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1676464031,"creation_date":1676463811,"question_id":75459754,"body_markdown":"I’m messing around with this problem for a long time and I’m very clueless how to get this going.\r\n\r\nI want to create an app for the Amazon firetv stick 4k max (Android 9 - API level 28), that monitors if one specific app is in the foreground (or gets opened).\r\n\r\nDo you have any ideas how to get the packagename of the app that is currently running in the foreground and that&#39;s actually working on an Amazon firetv stick 4K Max?\r\n\r\nI would really appreciate your help!\r\n\r\nI have found a way that works for other Android 9 devices by using the UsageStatsManager, but that does not seem to work for the stick.\r\nHere is what I tried:\r\n\r\n```\r\npublic String packageInForeground() {\r\n        // Get the UsageStatsManager\r\n        UsageStatsManager usageStatsManager = (UsageStatsManager) getSystemService(Context.USAGE_STATS_SERVICE);\r\n\r\n        // Get the usage events for the last 5 seconds\r\n        long currentTime = System.currentTimeMillis();\r\n        List&lt;UsageStats&gt; usageStatsList = usageStatsManager.queryUsageStats(UsageStatsManager.INTERVAL_BEST, currentTime - 5000, currentTime);\r\n\r\n        // Find the latest usage event\r\n        UsageStats latestUsageStats = null;\r\n        if (usageStatsList != null) {\r\n            for (UsageStats usageStats : usageStatsList) {\r\n                if (latestUsageStats == null || usageStats.getLastTimeUsed() &gt; latestUsageStats.getLastTimeUsed()) {\r\n                    latestUsageStats = usageStats;\r\n                }\r\n            }\r\n        }\r\n\r\n        // Get the package name of the current foreground app\r\n        String currentForegroundApp = latestUsageStats != null ? latestUsageStats.getPackageName() : &quot;&quot;;\r\n        Log.d(&quot;Service&quot;, &quot;Current foreground app: &quot; + currentForegroundApp);\r\n\r\n        return currentForegroundApp;\r\n    }\r\n```\r\n\r\nThere is also a way to use the ActivityManager, but it will only show my own packagename if my own app is in the foreground, but does not show the packagename of other apps, if I open them.\r\nHere is what I tried:\r\n\r\n```\r\npublic String packageInForeground() {\r\n        ActivityManager activityManager = (ActivityManager) getSystemService(Context.ACTIVITY_SERVICE);\r\n        List&lt;ActivityManager.RunningAppProcessInfo&gt; runningAppProcesses = activityManager.getRunningAppProcesses();\r\n        String packageName = &quot;&quot;;\r\n        if (runningAppProcesses != null &amp;&amp; runningAppProcesses.size() &gt; 0) {\r\n            for (ActivityManager.RunningAppProcessInfo processInfo : runningAppProcesses) {\r\n                if (processInfo.importance == ActivityManager.RunningAppProcessInfo.IMPORTANCE_FOREGROUND) {\r\n                    packageName = processInfo.processName.split(&quot;:&quot;)[0];\r\n                    Log.d(&quot;LockService&quot;, &quot;Package Name: &quot; + packageName);\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n        return packageName;\r\n    }\r\n```","title":"How to get the packagename of the app that is running in the foreground on an Amazon firetv stick 4K Max?","body":"<p>I’m messing around with this problem for a long time and I’m very clueless how to get this going.</p>\n<p>I want to create an app for the Amazon firetv stick 4k max (Android 9 - API level 28), that monitors if one specific app is in the foreground (or gets opened).</p>\n<p>Do you have any ideas how to get the packagename of the app that is currently running in the foreground and that's actually working on an Amazon firetv stick 4K Max?</p>\n<p>I would really appreciate your help!</p>\n<p>I have found a way that works for other Android 9 devices by using the UsageStatsManager, but that does not seem to work for the stick.\nHere is what I tried:</p>\n<pre><code>public String packageInForeground() {\n        // Get the UsageStatsManager\n        UsageStatsManager usageStatsManager = (UsageStatsManager) getSystemService(Context.USAGE_STATS_SERVICE);\n\n        // Get the usage events for the last 5 seconds\n        long currentTime = System.currentTimeMillis();\n        List&lt;UsageStats&gt; usageStatsList = usageStatsManager.queryUsageStats(UsageStatsManager.INTERVAL_BEST, currentTime - 5000, currentTime);\n\n        // Find the latest usage event\n        UsageStats latestUsageStats = null;\n        if (usageStatsList != null) {\n            for (UsageStats usageStats : usageStatsList) {\n                if (latestUsageStats == null || usageStats.getLastTimeUsed() &gt; latestUsageStats.getLastTimeUsed()) {\n                    latestUsageStats = usageStats;\n                }\n            }\n        }\n\n        // Get the package name of the current foreground app\n        String currentForegroundApp = latestUsageStats != null ? latestUsageStats.getPackageName() : &quot;&quot;;\n        Log.d(&quot;Service&quot;, &quot;Current foreground app: &quot; + currentForegroundApp);\n\n        return currentForegroundApp;\n    }\n</code></pre>\n<p>There is also a way to use the ActivityManager, but it will only show my own packagename if my own app is in the foreground, but does not show the packagename of other apps, if I open them.\nHere is what I tried:</p>\n<pre><code>public String packageInForeground() {\n        ActivityManager activityManager = (ActivityManager) getSystemService(Context.ACTIVITY_SERVICE);\n        List&lt;ActivityManager.RunningAppProcessInfo&gt; runningAppProcesses = activityManager.getRunningAppProcesses();\n        String packageName = &quot;&quot;;\n        if (runningAppProcesses != null &amp;&amp; runningAppProcesses.size() &gt; 0) {\n            for (ActivityManager.RunningAppProcessInfo processInfo : runningAppProcesses) {\n                if (processInfo.importance == ActivityManager.RunningAppProcessInfo.IMPORTANCE_FOREGROUND) {\n                    packageName = processInfo.processName.split(&quot;:&quot;)[0];\n                    Log.d(&quot;LockService&quot;, &quot;Package Name: &quot; + packageName);\n                    break;\n                }\n            }\n        }\n        return packageName;\n    }\n</code></pre>\n"},{"tags":["java","spring","spring-boot","swagger"],"owner":{"account_id":19356344,"reputation":52,"user_id":14152601,"display_name":"BigTailMokey"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676463860,"creation_date":1676463860,"question_id":75459764,"body_markdown":"I want to use spring-context-indexer in my project.But there are some old depend jar, like springfox-swagger(version 2 or 3) and others.These jars are not support spring-context-indexer(There is not spring.components in there jar). AndThe developers of some jars have explicitly stated that they are not supported.\r\nSo, how can I add manually some string in spring.components when the project building.","title":"How to use spring-context-indexer with some library jar that who is not depended spring-context-indexer","body":"<p>I want to use spring-context-indexer in my project.But there are some old depend jar, like springfox-swagger(version 2 or 3) and others.These jars are not support spring-context-indexer(There is not spring.components in there jar). AndThe developers of some jars have explicitly stated that they are not supported.\nSo, how can I add manually some string in spring.components when the project building.</p>\n"},{"tags":["java","android","firebase","firebase-realtime-database"],"comments":[{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1676445112,"post_id":75455769,"comment_id":133135850,"body_markdown":"Please edit your question and add your database structure as a JSON file. You can simply get it by clicking the Export JSON in the overflow menu (⠇) in your [Firebase Console](https://console.firebase.google.com/u/0/project/_/database/data).","body":"Please edit your question and add your database structure as a JSON file. You can simply get it by clicking the Export JSON in the overflow menu (⠇) in your <a href=\"https://console.firebase.google.com/u/0/project/_/database/data\" rel=\"nofollow noreferrer\">Firebase Console</a>."},{"owner":{"account_id":27736441,"reputation":1,"user_id":21173929,"display_name":"Aditya Singh Rajput"},"score":0,"creation_date":1676454155,"post_id":75455769,"comment_id":133138056,"body_markdown":"hey @AlexMamo I attached the database structure","body":"hey @AlexMamo I attached the database structure"},{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1676454316,"post_id":75455769,"comment_id":133138098,"body_markdown":"So you expect to receive `Cartmodel` objects?","body":"So you expect to receive <code>Cartmodel</code> objects?"},{"owner":{"account_id":27736441,"reputation":1,"user_id":21173929,"display_name":"Aditya Singh Rajput"},"score":0,"creation_date":1676455421,"post_id":75455769,"comment_id":133138401,"body_markdown":"@AlexMamo Yes..","body":"@AlexMamo Yes.."}],"answers":[{"comments":[{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1676707356,"post_id":75459712,"comment_id":133195172,"body_markdown":"Hey Aditya. Can I help you with other information regarding this question?","body":"Hey Aditya. Can I help you with other information regarding this question?"}],"tags":[],"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676463552,"creation_date":1676463552,"answer_id":75459712,"question_id":75455769,"body_markdown":"When you pass the following query:\r\n\r\n    cartListRef.child(&quot;currentUserPhoneNumber&quot;)\r\n\r\nTo the `.setQuery() method`, where `cartListRef` is defined as:\r\n\r\n    DatabaseReference cartListRef = FirebaseDatabase.getInstance().getReference().child(&quot;Cart List&quot;);\r\n\r\nIt means that you tell the adapter to render `Cartmodel` objects that exist at the above reference. Seeing your database schema, there are no `Cartmodel` objects at that location, but only strings and a number.\r\n\r\nSo to solve this, you have to remove the call to `.child(&quot;currentUserPhoneNumber&quot;)` and pass only the `cartListRef` object.","title":"Can&#39;t convert object of type java.lang.String to type com.example.register.Model.Cartmodel","body":"<p>When you pass the following query:</p>\n<pre><code>cartListRef.child(&quot;currentUserPhoneNumber&quot;)\n</code></pre>\n<p>To the <code>.setQuery() method</code>, where <code>cartListRef</code> is defined as:</p>\n<pre><code>DatabaseReference cartListRef = FirebaseDatabase.getInstance().getReference().child(&quot;Cart List&quot;);\n</code></pre>\n<p>It means that you tell the adapter to render <code>Cartmodel</code> objects that exist at the above reference. Seeing your database schema, there are no <code>Cartmodel</code> objects at that location, but only strings and a number.</p>\n<p>So to solve this, you have to remove the call to <code>.child(&quot;currentUserPhoneNumber&quot;)</code> and pass only the <code>cartListRef</code> object.</p>\n"}],"owner":{"account_id":27736441,"reputation":1,"user_id":21173929,"display_name":"Aditya Singh Rajput"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":345,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1676463598,"creation_date":1676438688,"question_id":75455769,"body_markdown":"I&#39;m trying to get my app to read data from Firebase Realtime Database. I&#39;m getting this error\r\n\r\n&gt; &quot;com.google.firebase.database.DatabaseException: Can&#39;t convert object of type java.lang.String to type com.example.register.Model.Cartmodel&quot;\r\n\r\nThis is the code where I data is written:\r\n\r\n        private void addtocart() {\r\n        String saveCurrentDate, saveCurrentTime;\r\n        Calendar calForDate = Calendar.getInstance();\r\n        SimpleDateFormat currentDate = new SimpleDateFormat(&quot;MMM dd, yyyy&quot;);\r\n        saveCurrentDate = currentDate.format(calForDate.getTime());\r\n\r\n        SimpleDateFormat currentTime = new SimpleDateFormat(&quot;HH:mm:ss a&quot;);\r\n        saveCurrentTime = currentTime.format(calForDate.getTime());\r\n\r\n        final DatabaseReference cartListRef = FirebaseDatabase.getInstance().getReference().child(&quot;Cart List&quot;);\r\n        String timestamp = String.valueOf(System.currentTimeMillis());\r\n\r\n        double price = Double.parseDouble(emailholder.getText().toString().replace(&quot;₹&quot;, &quot;&quot;));\r\n        double quantityValue = Double.parseDouble(quantity.getText().toString());\r\n        double result = price * quantityValue;\r\n\r\n        Intent intent = getIntent();\r\n        String purl = intent.getStringExtra(&quot;purl&quot;);\r\n\r\n\r\n\r\n        final HashMap&lt;String, Object&gt; cartMap = new HashMap&lt;&gt;();\r\n        cartMap.put(&quot;productName&quot;,nameholder.getText().toString());\r\n        cartMap.put(&quot;productPrice&quot;,emailholder.getText().toString());\r\n        cartMap.put(&quot;productImage&quot;, purl);\r\n        cartMap.put(&quot;date&quot;,saveCurrentDate);\r\n        cartMap.put(&quot;time&quot;,saveCurrentTime);\r\n        cartMap.put(&quot;quantity&quot;,quantity.getText().toString());\r\n        cartMap.put(&quot;totalPrice&quot;,result);\r\n\r\n        String currentUserPhoneNumber = Paper.book().read(Prevalent.UserPhoneKey);\r\n\r\n        cartListRef.child(&quot;currentUserPhoneNumber&quot;)\r\n                //.child(timestamp)\r\n                .updateChildren(cartMap)\r\n                .addOnCompleteListener(new OnCompleteListener&lt;Void&gt;() {\r\n                    @Override\r\n                    public void onComplete(@NonNull Task&lt;Void&gt; task) {\r\n                        Toast.makeText(details.this, &quot;Added to cart&quot;, Toast.LENGTH_SHORT).show();\r\n\r\n\r\n\r\n                    }\r\n                });\r\n\r\n\r\n\r\n        }\r\n\r\nthis is Model class which is giving error\r\n\r\n    package com.example.register.Model;\r\n\r\npublic class Cartmodel {\r\n\r\n    String date;\r\n    String productImage;\r\n    static String productName;\r\n    String productPrice;\r\n    static String quantity;\r\n    String time;\r\n    static String totalPrice;\r\n\r\n\r\n\r\n    public Cartmodel() {\r\n    }\r\n\r\n    public Cartmodel(String date, String productImage, String productName, String quantity, String time, String totalPrice,String productPrice) {\r\n        this.date = date;\r\n        this.productImage = productImage;\r\n        this.productName = productName;\r\n        this.quantity = quantity;\r\n        this.time = time;\r\n        this.totalPrice = totalPrice;\r\n        this.productPrice = productPrice;\r\n    }\r\n\r\n    public String getProductPrice() {\r\n        return productPrice;\r\n    }\r\n\r\n    public void setProductPrice(String productPrice) {\r\n        this.productPrice = productPrice;\r\n    }\r\n\r\n    public String getDate() {\r\n        return date;\r\n    }\r\n\r\n    public void setDate(String date) {\r\n        this.date = date;\r\n    }\r\n\r\n    public String getProductImage() {\r\n        return productImage;\r\n    }\r\n\r\n    public void setProductImage(String productImage) {\r\n        this.productImage = productImage;\r\n    }\r\n\r\n    public static String getProductName() {\r\n        return productName;\r\n    }\r\n\r\n    public void setProductName(String productName) {\r\n        this.productName = productName;\r\n    }\r\n\r\n    public static String getQuantity() {\r\n        return quantity;\r\n    }\r\n\r\n    public void setQuantity(String quantity) {\r\n        this.quantity = quantity;\r\n    }\r\n\r\n    public String getTime() {\r\n        return time;\r\n    }\r\n\r\n    public void setTime(String time) {\r\n        this.time = time;\r\n    }\r\n\r\n    public static String getTotalPrice() {\r\n        return totalPrice;\r\n    }\r\n\r\n    public void setTotalPrice(String totalPrice) {\r\n        this.totalPrice = totalPrice;\r\n    }\r\n}\r\n\r\nthis is the code where im reading data from db\r\n\r\n        @Override\r\n    protected void onStart() {\r\n        super.onStart();\r\n        String currentUserPhoneNumber = Paper.book().read(UserPhoneKey);\r\n        String timestamp = String.valueOf(System.currentTimeMillis());\r\n\r\n        final DatabaseReference cartListRef = FirebaseDatabase.getInstance().getReference().child(&quot;Cart List&quot;);\r\n\r\n        FirebaseRecyclerOptions&lt;Cartmodel&gt; options =\r\n                new FirebaseRecyclerOptions.Builder&lt;Cartmodel&gt;()\r\n                        .setQuery(cartListRef.child(&quot;currentUserPhoneNumber&quot;)\r\n                                /**.child(timestamp)**/,Cartmodel.class).build();\r\n\r\n        FirebaseRecyclerAdapter&lt;Cartmodel, CartViewHolder&gt; adapter\r\n                =new FirebaseRecyclerAdapter&lt;Cartmodel, CartViewHolder&gt;(options) {\r\n            @Override\r\n            protected void onBindViewHolder(@NonNull CartViewHolder holder, int position, @NonNull Cartmodel model) {\r\n                holder.TxtQunatity.setText(Cartmodel.getQuantity());\r\n                holder.TxtProductPrice.setText(Cartmodel.getProductName());\r\n                holder.TxtProductName.setText(Cartmodel.getTotalPrice());\r\n            }\r\n\r\n            @NonNull\r\n            @Override\r\n            public CartViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n                View view = LayoutInflater.from(parent.getContext()).inflate(R.layout.cart_row,parent,false);\r\n                CartViewHolder holder = new CartViewHolder(view);\r\n                return holder;\r\n            }\r\n        };\r\n\r\n        recyclerView.setAdapter(adapter);\r\n        adapter.startListening();\r\n    }\r\n}\r\n\r\nthis is the database structure of Cart List\r\n\r\n    &quot;Cart List&quot;: {\r\n    &quot;currentUserPhoneNumber&quot;: {\r\n      &quot;date&quot;: &quot;Feb 15, 2023&quot;,\r\n      &quot;productImage&quot;: &quot;https://images.jdmagicbox.com/comp/mumbai/z3/022pxx22.xx22.181204184809.b5z3/catalogue/burger-king-santacruz-east-mumbai-burger-king-3hofjz4vmz.jpg&quot;,\r\n      &quot;productName&quot;: &quot;Chicken Burger&quot;,\r\n      &quot;productPrice&quot;: &quot;₹₹350&quot;,\r\n      &quot;quantity&quot;: &quot;3&quot;,\r\n      &quot;time&quot;: &quot;15:08:00 PM&quot;,\r\n      &quot;totalPrice&quot;: 1050\r\n    }\r\n\r\n","title":"Can&#39;t convert object of type java.lang.String to type com.example.register.Model.Cartmodel","body":"<p>I'm trying to get my app to read data from Firebase Realtime Database. I'm getting this error</p>\n<blockquote>\n<p>&quot;com.google.firebase.database.DatabaseException: Can't convert object of type java.lang.String to type com.example.register.Model.Cartmodel&quot;</p>\n</blockquote>\n<p>This is the code where I data is written:</p>\n<pre><code>    private void addtocart() {\n    String saveCurrentDate, saveCurrentTime;\n    Calendar calForDate = Calendar.getInstance();\n    SimpleDateFormat currentDate = new SimpleDateFormat(&quot;MMM dd, yyyy&quot;);\n    saveCurrentDate = currentDate.format(calForDate.getTime());\n\n    SimpleDateFormat currentTime = new SimpleDateFormat(&quot;HH:mm:ss a&quot;);\n    saveCurrentTime = currentTime.format(calForDate.getTime());\n\n    final DatabaseReference cartListRef = FirebaseDatabase.getInstance().getReference().child(&quot;Cart List&quot;);\n    String timestamp = String.valueOf(System.currentTimeMillis());\n\n    double price = Double.parseDouble(emailholder.getText().toString().replace(&quot;₹&quot;, &quot;&quot;));\n    double quantityValue = Double.parseDouble(quantity.getText().toString());\n    double result = price * quantityValue;\n\n    Intent intent = getIntent();\n    String purl = intent.getStringExtra(&quot;purl&quot;);\n\n\n\n    final HashMap&lt;String, Object&gt; cartMap = new HashMap&lt;&gt;();\n    cartMap.put(&quot;productName&quot;,nameholder.getText().toString());\n    cartMap.put(&quot;productPrice&quot;,emailholder.getText().toString());\n    cartMap.put(&quot;productImage&quot;, purl);\n    cartMap.put(&quot;date&quot;,saveCurrentDate);\n    cartMap.put(&quot;time&quot;,saveCurrentTime);\n    cartMap.put(&quot;quantity&quot;,quantity.getText().toString());\n    cartMap.put(&quot;totalPrice&quot;,result);\n\n    String currentUserPhoneNumber = Paper.book().read(Prevalent.UserPhoneKey);\n\n    cartListRef.child(&quot;currentUserPhoneNumber&quot;)\n            //.child(timestamp)\n            .updateChildren(cartMap)\n            .addOnCompleteListener(new OnCompleteListener&lt;Void&gt;() {\n                @Override\n                public void onComplete(@NonNull Task&lt;Void&gt; task) {\n                    Toast.makeText(details.this, &quot;Added to cart&quot;, Toast.LENGTH_SHORT).show();\n\n\n\n                }\n            });\n\n\n\n    }\n</code></pre>\n<p>this is Model class which is giving error</p>\n<pre><code>package com.example.register.Model;\n</code></pre>\n<p>public class Cartmodel {</p>\n<pre><code>String date;\nString productImage;\nstatic String productName;\nString productPrice;\nstatic String quantity;\nString time;\nstatic String totalPrice;\n\n\n\npublic Cartmodel() {\n}\n\npublic Cartmodel(String date, String productImage, String productName, String quantity, String time, String totalPrice,String productPrice) {\n    this.date = date;\n    this.productImage = productImage;\n    this.productName = productName;\n    this.quantity = quantity;\n    this.time = time;\n    this.totalPrice = totalPrice;\n    this.productPrice = productPrice;\n}\n\npublic String getProductPrice() {\n    return productPrice;\n}\n\npublic void setProductPrice(String productPrice) {\n    this.productPrice = productPrice;\n}\n\npublic String getDate() {\n    return date;\n}\n\npublic void setDate(String date) {\n    this.date = date;\n}\n\npublic String getProductImage() {\n    return productImage;\n}\n\npublic void setProductImage(String productImage) {\n    this.productImage = productImage;\n}\n\npublic static String getProductName() {\n    return productName;\n}\n\npublic void setProductName(String productName) {\n    this.productName = productName;\n}\n\npublic static String getQuantity() {\n    return quantity;\n}\n\npublic void setQuantity(String quantity) {\n    this.quantity = quantity;\n}\n\npublic String getTime() {\n    return time;\n}\n\npublic void setTime(String time) {\n    this.time = time;\n}\n\npublic static String getTotalPrice() {\n    return totalPrice;\n}\n\npublic void setTotalPrice(String totalPrice) {\n    this.totalPrice = totalPrice;\n}\n</code></pre>\n<p>}</p>\n<p>this is the code where im reading data from db</p>\n<pre><code>    @Override\nprotected void onStart() {\n    super.onStart();\n    String currentUserPhoneNumber = Paper.book().read(UserPhoneKey);\n    String timestamp = String.valueOf(System.currentTimeMillis());\n\n    final DatabaseReference cartListRef = FirebaseDatabase.getInstance().getReference().child(&quot;Cart List&quot;);\n\n    FirebaseRecyclerOptions&lt;Cartmodel&gt; options =\n            new FirebaseRecyclerOptions.Builder&lt;Cartmodel&gt;()\n                    .setQuery(cartListRef.child(&quot;currentUserPhoneNumber&quot;)\n                            /**.child(timestamp)**/,Cartmodel.class).build();\n\n    FirebaseRecyclerAdapter&lt;Cartmodel, CartViewHolder&gt; adapter\n            =new FirebaseRecyclerAdapter&lt;Cartmodel, CartViewHolder&gt;(options) {\n        @Override\n        protected void onBindViewHolder(@NonNull CartViewHolder holder, int position, @NonNull Cartmodel model) {\n            holder.TxtQunatity.setText(Cartmodel.getQuantity());\n            holder.TxtProductPrice.setText(Cartmodel.getProductName());\n            holder.TxtProductName.setText(Cartmodel.getTotalPrice());\n        }\n\n        @NonNull\n        @Override\n        public CartViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n            View view = LayoutInflater.from(parent.getContext()).inflate(R.layout.cart_row,parent,false);\n            CartViewHolder holder = new CartViewHolder(view);\n            return holder;\n        }\n    };\n\n    recyclerView.setAdapter(adapter);\n    adapter.startListening();\n}\n</code></pre>\n<p>}</p>\n<p>this is the database structure of Cart List</p>\n<pre><code>&quot;Cart List&quot;: {\n&quot;currentUserPhoneNumber&quot;: {\n  &quot;date&quot;: &quot;Feb 15, 2023&quot;,\n  &quot;productImage&quot;: &quot;https://images.jdmagicbox.com/comp/mumbai/z3/022pxx22.xx22.181204184809.b5z3/catalogue/burger-king-santacruz-east-mumbai-burger-king-3hofjz4vmz.jpg&quot;,\n  &quot;productName&quot;: &quot;Chicken Burger&quot;,\n  &quot;productPrice&quot;: &quot;₹₹350&quot;,\n  &quot;quantity&quot;: &quot;3&quot;,\n  &quot;time&quot;: &quot;15:08:00 PM&quot;,\n  &quot;totalPrice&quot;: 1050\n}\n</code></pre>\n"},{"tags":["java","encryption","discord"],"answers":[{"tags":[],"owner":{"account_id":12359353,"reputation":42442,"user_id":9014097,"display_name":"Topaco"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1649516037,"creation_date":1649513596,"answer_id":71808843,"question_id":71807857,"body_markdown":"With salty-coffee the required Ed25519 verification can be performed under Java (11)! \r\n\r\nWith the following test data a successful verification can be performed using *tweetnacl* and the NodeJS code you linked: \r\n\r\n```js\r\nconst nacl = require(&#39;tweetnacl&#39;);\r\n\r\nconst PUBLIC_KEY = &quot;9c7d775851a98ceb09a80928c1f8ff56706a0f5d91d841c72850fcd92e065b8f&quot;; // &#39;APPLICATION_PUBLIC_KEY&#39;\r\n\r\nconst signature = &quot;99c4903df0b00ac32ba158db956ee39586adf05fea6be714055ac79a80bfd9dff59399b7da01ced95d0a252daee6bdb07e5f59cc546322bb779fd749b04f170c&quot;; // req.get(&#39;X-Signature-Ed25519&#39;)\r\nconst timestamp = &#39;202204091535&#39;; // req.get(&#39;X-Signature-Timestamp&#39;)\r\nconst body = &#39;testmessage&#39;; // req.rawBody\r\n\r\nconst isVerified = nacl.sign.detached.verify(\r\n  Buffer.from(timestamp + body),\r\n  Buffer.from(signature, &#39;hex&#39;),\r\n  Buffer.from(PUBLIC_KEY, &#39;hex&#39;)\r\n);\r\n\r\nconsole.log(isVerified); // true\r\n```\r\n\r\nThe analog Java code with *salty-coffee* that allows successful verification is:\r\n\r\n```java\r\nimport java.nio.charset.StandardCharsets;\r\nimport software.pando.crypto.nacl.Crypto;\r\n...\r\nString PUBLIC_KEY = &quot;9c7d775851a98ceb09a80928c1f8ff56706a0f5d91d841c72850fcd92e065b8f&quot;;\r\n\r\nString signature = &quot;99c4903df0b00ac32ba158db956ee39586adf05fea6be714055ac79a80bfd9dff59399b7da01ced95d0a252daee6bdb07e5f59cc546322bb779fd749b04f170c&quot;;\r\nString timestamp = &quot;202204091535&quot;;\r\nString body = &quot;testmessage&quot;;\r\n\r\nboolean isVerified = Crypto.signVerify(\r\n\t  Crypto.signingPublicKey(fromHex(PUBLIC_KEY)), \r\n\t  (timestamp + body).getBytes(StandardCharsets.UTF_8), \r\n\t  fromHex(signature));\r\n\r\nSystem.out.println(isVerified); // true\r\n```\r\n\r\nNote that the verification is to be done with [`Crypto.signVerify()`][1] and not with [`Crypto.authVerify()`][2].\r\n\r\n[1]: https://github.com/NeilMadden/salty-coffee#public-key-signatures\r\n[2]: https://github.com/NeilMadden/salty-coffee#secret-key-authentication","title":"Discord Interactions validation java","body":"<p>With salty-coffee the required Ed25519 verification can be performed under Java (11)!</p>\n<p>With the following test data a successful verification can be performed using <em>tweetnacl</em> and the NodeJS code you linked:</p>\n<pre class=\"lang-js prettyprint-override\"><code>const nacl = require('tweetnacl');\n\nconst PUBLIC_KEY = &quot;9c7d775851a98ceb09a80928c1f8ff56706a0f5d91d841c72850fcd92e065b8f&quot;; // 'APPLICATION_PUBLIC_KEY'\n\nconst signature = &quot;99c4903df0b00ac32ba158db956ee39586adf05fea6be714055ac79a80bfd9dff59399b7da01ced95d0a252daee6bdb07e5f59cc546322bb779fd749b04f170c&quot;; // req.get('X-Signature-Ed25519')\nconst timestamp = '202204091535'; // req.get('X-Signature-Timestamp')\nconst body = 'testmessage'; // req.rawBody\n\nconst isVerified = nacl.sign.detached.verify(\n  Buffer.from(timestamp + body),\n  Buffer.from(signature, 'hex'),\n  Buffer.from(PUBLIC_KEY, 'hex')\n);\n\nconsole.log(isVerified); // true\n</code></pre>\n<p>The analog Java code with <em>salty-coffee</em> that allows successful verification is:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.nio.charset.StandardCharsets;\nimport software.pando.crypto.nacl.Crypto;\n...\nString PUBLIC_KEY = &quot;9c7d775851a98ceb09a80928c1f8ff56706a0f5d91d841c72850fcd92e065b8f&quot;;\n\nString signature = &quot;99c4903df0b00ac32ba158db956ee39586adf05fea6be714055ac79a80bfd9dff59399b7da01ced95d0a252daee6bdb07e5f59cc546322bb779fd749b04f170c&quot;;\nString timestamp = &quot;202204091535&quot;;\nString body = &quot;testmessage&quot;;\n\nboolean isVerified = Crypto.signVerify(\n      Crypto.signingPublicKey(fromHex(PUBLIC_KEY)), \n      (timestamp + body).getBytes(StandardCharsets.UTF_8), \n      fromHex(signature));\n\nSystem.out.println(isVerified); // true\n</code></pre>\n<p>Note that the verification is to be done with <a href=\"https://github.com/NeilMadden/salty-coffee#public-key-signatures\" rel=\"nofollow noreferrer\"><code>Crypto.signVerify()</code></a> and not with <a href=\"https://github.com/NeilMadden/salty-coffee#secret-key-authentication\" rel=\"nofollow noreferrer\"><code>Crypto.authVerify()</code></a>.</p>\n"},{"tags":[],"owner":{"account_id":1781907,"reputation":149,"user_id":1624406,"display_name":"f.kowal"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676463299,"creation_date":1676463299,"answer_id":75459673,"question_id":71807857,"body_markdown":"above `fromHex` implementation didn&#39;t work for me\r\n\r\nwhat worked was using\r\n\r\n```\r\nimport javax.xml.bind.DatatypeConverter\r\n\r\nfun fromHex(string: String) = DatatypeConverter.parseHexBinary(string)\r\n\r\nrest as described @Topaco\r\n```","title":"Discord Interactions validation java","body":"<p>above <code>fromHex</code> implementation didn't work for me</p>\n<p>what worked was using</p>\n<pre><code>import javax.xml.bind.DatatypeConverter\n\nfun fromHex(string: String) = DatatypeConverter.parseHexBinary(string)\n\nrest as described @Topaco\n</code></pre>\n"}],"owner":{"account_id":19649334,"reputation":35,"user_id":14383539,"display_name":"Piotr Majewski"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":259,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":71808843,"answer_count":2,"score":2,"last_activity_date":1676463299,"creation_date":1649505717,"question_id":71807857,"body_markdown":"Im trying to make serverless discord bot using java 11. Discord [documentation][1] doesn&#39;t provide any example in terms of validating in java. I have found a [java library][2] that might be of help here, but I have little expertise in this field and my code always results in validation failed. Would someone point me what im doing wrong during this validation ?\r\n\r\n```java\r\nSecretKey key = Crypto.authKey(fromHex(&quot;&lt;MY APPLICATION PUBLIC KEY&gt;&quot;));\r\nString message = x_signature_timestamp + event.get(&quot;body&quot;);\r\nboolean verified = Crypto.authVerify(key,message.getBytes(),fromHex(x_signature_ed25519));\r\n```\r\n\r\nand \r\n```java\r\npublic static byte[] fromHex(String s) {\r\n    int len = s.length();\r\n    byte[] data = new byte[len / 2];\r\n    for (int i = 0; i &lt; len; i += 2) {\r\n        data[i / 2] = (byte) ((Character.digit(s.charAt(i), 16) &lt;&lt; 4)\r\n                    + Character.digit(s.charAt(i+1), 16));\r\n    }\r\n    return data;\r\n}\r\n```\r\n\r\nim always getting this when adding interactions endopint url[![discord appication interactions endopint][3]][3]\r\n\r\nresponse im sending:\r\n```java\r\nif (!verified){\r\n    response = ApiGatewayResponse.builder()\r\n             .withHeaders(headers)\r\n             .withBody(&quot;validation failed&quot;)\r\n             .withStatusCode(401)\r\n             .build();\r\n} else {\r\n    response = ApiGatewayResponse.builder()\r\n            .withHeaders(headers)\r\n            .withBody(event.get(&quot;body&quot;).toString())\r\n            .withStatusCode(200)\r\n            .build();\r\n}\r\nreturn response;\r\n```\r\n\r\n\r\n  [1]: https://discord.com/developers/docs/interactions/receiving-and-responding#security-and-authorization\r\n  [2]: https://github.com/NeilMadden/salty-coffee\r\n  [3]: https://i.stack.imgur.com/P9u1F.png","title":"Discord Interactions validation java","body":"<p>Im trying to make serverless discord bot using java 11. Discord <a href=\"https://discord.com/developers/docs/interactions/receiving-and-responding#security-and-authorization\" rel=\"nofollow noreferrer\">documentation</a> doesn't provide any example in terms of validating in java. I have found a <a href=\"https://github.com/NeilMadden/salty-coffee\" rel=\"nofollow noreferrer\">java library</a> that might be of help here, but I have little expertise in this field and my code always results in validation failed. Would someone point me what im doing wrong during this validation ?</p>\n<pre class=\"lang-java prettyprint-override\"><code>SecretKey key = Crypto.authKey(fromHex(&quot;&lt;MY APPLICATION PUBLIC KEY&gt;&quot;));\nString message = x_signature_timestamp + event.get(&quot;body&quot;);\nboolean verified = Crypto.authVerify(key,message.getBytes(),fromHex(x_signature_ed25519));\n</code></pre>\n<p>and</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static byte[] fromHex(String s) {\n    int len = s.length();\n    byte[] data = new byte[len / 2];\n    for (int i = 0; i &lt; len; i += 2) {\n        data[i / 2] = (byte) ((Character.digit(s.charAt(i), 16) &lt;&lt; 4)\n                    + Character.digit(s.charAt(i+1), 16));\n    }\n    return data;\n}\n</code></pre>\n<p>im always getting this when adding interactions endopint url<a href=\"https://i.stack.imgur.com/P9u1F.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/P9u1F.png\" alt=\"discord appication interactions endopint\" /></a></p>\n<p>response im sending:</p>\n<pre class=\"lang-java prettyprint-override\"><code>if (!verified){\n    response = ApiGatewayResponse.builder()\n             .withHeaders(headers)\n             .withBody(&quot;validation failed&quot;)\n             .withStatusCode(401)\n             .build();\n} else {\n    response = ApiGatewayResponse.builder()\n            .withHeaders(headers)\n            .withBody(event.get(&quot;body&quot;).toString())\n            .withStatusCode(200)\n            .build();\n}\nreturn response;\n</code></pre>\n"},{"tags":["java","selenium-webdriver","drag-and-drop"],"answers":[{"comments":[{"owner":{"account_id":27783142,"reputation":1,"user_id":21211141,"display_name":"Nirbhay Deep"},"score":0,"creation_date":1676455251,"post_id":75452323,"comment_id":133138355,"body_markdown":"Thanks for solutions. but code is not working properly, \n\nGiven this Error.\norg.openqa.selenium.InvalidArgumentException: invalid argument: uniqueContextId not found\n  (Session info: chrome=109.0.5414.120)\nBuild info: version: &#39;4.8.0&#39;, revision: &#39;267030adea&#39;\nSystem info: os.name: &#39;Windows 11&#39;, os.arch: &#39;amd64&#39;, os.version: &#39;10.0&#39;, java.version: &#39;17.0.3&#39;","body":"Thanks for solutions. but code is not working properly,   Given this Error. org.openqa.selenium.InvalidArgumentException: invalid argument: uniqueContextId not found   (Session info: chrome=109.0.5414.120) Build info: version: &#39;4.8.0&#39;, revision: &#39;267030adea&#39; System info: os.name: &#39;Windows 11&#39;, os.arch: &#39;amd64&#39;, os.version: &#39;10.0&#39;, java.version: &#39;17.0.3&#39;"},{"owner":{"account_id":27783142,"reputation":1,"user_id":21211141,"display_name":"Nirbhay Deep"},"score":0,"creation_date":1676456319,"post_id":75452323,"comment_id":133138680,"body_markdown":"I have run both code.\nBut drap and drop not working on browser.","body":"I have run both code. But drap and drop not working on browser."},{"owner":{"account_id":10049107,"reputation":186647,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"score":0,"creation_date":1676463264,"post_id":75452323,"comment_id":133140569,"body_markdown":"@NirbhayDeep There was a bug in the code which I have corrected now. Retest and let me know the status.","body":"@NirbhayDeep There was a bug in the code which I have corrected now. Retest and let me know the status."},{"owner":{"account_id":27783142,"reputation":1,"user_id":21211141,"display_name":"Nirbhay Deep"},"score":0,"creation_date":1676483737,"post_id":75452323,"comment_id":133147634,"body_markdown":"In First Code [dragAndDrop()] Code run fine and test case also pass. But drag and drop feature not working.","body":"In First Code [dragAndDrop()] Code run fine and test case also pass. But drag and drop feature not working."},{"owner":{"account_id":10049107,"reputation":186647,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"score":0,"creation_date":1676485675,"post_id":75452323,"comment_id":133148171,"body_markdown":"How about the `clickAndHold().moveToElement().release()` method?","body":"How about the <code>clickAndHold().moveToElement().release()</code> method?"},{"owner":{"account_id":27783142,"reputation":1,"user_id":21211141,"display_name":"Nirbhay Deep"},"score":0,"creation_date":1676487069,"post_id":75452323,"comment_id":133148576,"body_markdown":"In First Code [dragAndDrop()] Code run fine and test case also pass. But drag and drop feature not working.\n\nIn Second Code - Same Exception is accruing.","body":"In First Code [dragAndDrop()] Code run fine and test case also pass. But drag and drop feature not working.  In Second Code - Same Exception is accruing."},{"owner":{"account_id":27783142,"reputation":1,"user_id":21211141,"display_name":"Nirbhay Deep"},"score":0,"creation_date":1677077504,"post_id":75452323,"comment_id":133266495,"body_markdown":"Anyone can help about this code. Code is running but action is not performed.\n\nUsing HTML 5.","body":"Anyone can help about this code. Code is running but action is not performed.  Using HTML 5."},{"owner":{"account_id":27783142,"reputation":1,"user_id":21211141,"display_name":"Nirbhay Deep"},"score":0,"creation_date":1680520501,"post_id":75452323,"comment_id":133906882,"body_markdown":"any one can provide solutions?","body":"any one can provide solutions?"}],"tags":[],"owner":{"account_id":10049107,"reputation":186647,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"comment_count":8,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676463231,"creation_date":1676402089,"answer_id":75452323,"question_id":75447574,"body_markdown":"The desired element is within an [`&lt;iframe&gt;`](https://stackoverflow.com/a/47472200/7429447). So to perform _Drag and Drop_ you have to:\r\n\r\n- Induce [WebDriverWait](https://stackoverflow.com/a/48990165/7429447) for the desired _frameToBeAvailableAndSwitchToIt_.\r\n- You can use either of the following [Locator Strategies](https://stackoverflow.com/questions/48369043/official-locator-strategies-for-the-webdriver/48376890#48376890): solutions:\r\n\r\n  - Using _`dragAndDrop()`_ method:\r\n\r\n\t    driver.get(&quot;https://dashboard.unlayer.com/create/blank?_gl=1afclpx_gaNzU0NTMwNzU3LjE2NzYzMTAyOTk._ga_VMP9QH8KW8*MTY3NjMxMDI5OC4xLjEuMTY3NjMxMDMwOS41OC4wLjA.&quot;);\r\n\t    WebDriverWait wait = new WebDriverWait(driver, Duration.ofSeconds(10));\r\n\t    wait.until(ExpectedConditions.elementToBeClickable(By.cssSelector(&quot;button[data-tid=&#39;banner-accept&#39;]&quot;))).click();\r\n\t    wait.until(ExpectedConditions.frameToBeAvailableAndSwitchToIt(By.cssSelector(&quot;iframe[src*=&#39;https://editor.unlayer.com&#39;]&quot;)));\r\n\t    Thread.sleep(10);\r\n\t    WebElement dragMe = driver.findElement(By.xpath(&quot;//div[@class=&#39;blockbuilder-content-tool&#39; and @draggable=&#39;true&#39;]//div[text()=&#39;Text&#39;]&quot;));\r\n\t    WebElement dropHere = driver.findElement(By.xpath(&quot;//div[text()=&#39;No content here. Drag content from right.&#39;]&quot;));\r\n\t    Actions actions = new Actions(driver);\r\n\t    actions.dragAndDrop(dragMe, dropHere).build().perform();\r\n\r\n  - Using _`clickAndHold().moveToElement().release()`_ methods:\r\n\r\n\t    driver.get(&quot;https://dashboard.unlayer.com/create/blank?_gl=1afclpx_gaNzU0NTMwNzU3LjE2NzYzMTAyOTk._ga_VMP9QH8KW8*MTY3NjMxMDI5OC4xLjEuMTY3NjMxMDMwOS41OC4wLjA.&quot;);\r\n\t    WebDriverWait wait = new WebDriverWait(driver, Duration.ofSeconds(10));\r\n\t    wait.until(ExpectedConditions.elementToBeClickable(By.cssSelector(&quot;button[data-tid=&#39;banner-accept&#39;]&quot;))).click();\r\n\t    wait.until(ExpectedConditions.frameToBeAvailableAndSwitchToIt(By.cssSelector(&quot;iframe[src*=&#39;https://editor.unlayer.com&#39;]&quot;)));\r\n\t    Thread.sleep(10);\r\n\t    WebElement drag = driver.findElement(By.xpath(&quot;//div[@class=&#39;blockbuilder-content-tool&#39; and @draggable=&#39;true&#39;]//div[text()=&#39;Text&#39;]&quot;));\r\n\t    WebElement drop = driver.findElement(By.xpath(&quot;//div[text()=&#39;No content here. Drag content from right.&#39;]&quot;));\r\n\t    Actions actions = new Actions(driver);\r\n\t    actions.clickAndHold(drag).moveToElement(drop).release(drop).build().perform();","title":"Drag and drop not working in unlayer web site","body":"<p>The desired element is within an <a href=\"https://stackoverflow.com/a/47472200/7429447\"><code>&lt;iframe&gt;</code></a>. So to perform <em>Drag and Drop</em> you have to:</p>\n<ul>\n<li><p>Induce <a href=\"https://stackoverflow.com/a/48990165/7429447\">WebDriverWait</a> for the desired <em>frameToBeAvailableAndSwitchToIt</em>.</p>\n</li>\n<li><p>You can use either of the following <a href=\"https://stackoverflow.com/questions/48369043/official-locator-strategies-for-the-webdriver/48376890#48376890\">Locator Strategies</a>: solutions:</p>\n<ul>\n<li><p>Using <em><code>dragAndDrop()</code></em> method:</p>\n<pre><code>driver.get(&quot;https://dashboard.unlayer.com/create/blank?_gl=1afclpx_gaNzU0NTMwNzU3LjE2NzYzMTAyOTk._ga_VMP9QH8KW8*MTY3NjMxMDI5OC4xLjEuMTY3NjMxMDMwOS41OC4wLjA.&quot;);\nWebDriverWait wait = new WebDriverWait(driver, Duration.ofSeconds(10));\nwait.until(ExpectedConditions.elementToBeClickable(By.cssSelector(&quot;button[data-tid='banner-accept']&quot;))).click();\nwait.until(ExpectedConditions.frameToBeAvailableAndSwitchToIt(By.cssSelector(&quot;iframe[src*='https://editor.unlayer.com']&quot;)));\nThread.sleep(10);\nWebElement dragMe = driver.findElement(By.xpath(&quot;//div[@class='blockbuilder-content-tool' and @draggable='true']//div[text()='Text']&quot;));\nWebElement dropHere = driver.findElement(By.xpath(&quot;//div[text()='No content here. Drag content from right.']&quot;));\nActions actions = new Actions(driver);\nactions.dragAndDrop(dragMe, dropHere).build().perform();\n</code></pre>\n</li>\n<li><p>Using <em><code>clickAndHold().moveToElement().release()</code></em> methods:</p>\n<pre><code>driver.get(&quot;https://dashboard.unlayer.com/create/blank?_gl=1afclpx_gaNzU0NTMwNzU3LjE2NzYzMTAyOTk._ga_VMP9QH8KW8*MTY3NjMxMDI5OC4xLjEuMTY3NjMxMDMwOS41OC4wLjA.&quot;);\nWebDriverWait wait = new WebDriverWait(driver, Duration.ofSeconds(10));\nwait.until(ExpectedConditions.elementToBeClickable(By.cssSelector(&quot;button[data-tid='banner-accept']&quot;))).click();\nwait.until(ExpectedConditions.frameToBeAvailableAndSwitchToIt(By.cssSelector(&quot;iframe[src*='https://editor.unlayer.com']&quot;)));\nThread.sleep(10);\nWebElement drag = driver.findElement(By.xpath(&quot;//div[@class='blockbuilder-content-tool' and @draggable='true']//div[text()='Text']&quot;));\nWebElement drop = driver.findElement(By.xpath(&quot;//div[text()='No content here. Drag content from right.']&quot;));\nActions actions = new Actions(driver);\nactions.clickAndHold(drag).moveToElement(drop).release(drop).build().perform();\n</code></pre>\n</li>\n</ul>\n</li>\n</ul>\n"}],"owner":{"account_id":27783142,"reputation":1,"user_id":21211141,"display_name":"Nirbhay Deep"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":108,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1676463231,"creation_date":1676376191,"question_id":75447574,"body_markdown":"I have performed drag and drop on unlayer web site and all positive combination I have used. but drap and drop not working.\r\n\r\nWe have tried following code with selenium 4.\r\n\r\n```\r\n@Test()\r\n\t public void test() throws InterruptedException {\r\n\t\tdriver.get(&quot;https://dashboard.unlayer.com/create/blank?_gl=1*afclpx*_ga*NzU0NTMwNzU3LjE2NzYzMTAyOTk.*_ga_VMP9QH8KW8*MTY3NjMxMDI5OC4xLjEuMTY3NjMxMDMwOS41OC4wLjA.&quot;);\r\n\t\tThread.sleep(9000);\r\n\t\tdriver.switchTo().frame(0);\r\n\t\t\r\n\t\tThread.sleep(9000);\r\n\t\t\r\n\t\t\t\t//driver.findElement(By.xpath(&quot;//div [text ()=&#39;Text&#39;]&quot;));\r\n\t\t\r\n\t\tWebElement source = driver.findElement(By.xpath(&quot;//div [text ()=&#39;Text&#39;]&quot;));\r\n\t\t\r\n\t\t//source.click();\r\n\t\t\r\n\t\tThread.sleep(9000);\r\n\t\tWebElement target = driver.findElement(By.xpath(&quot;//div[text()=&#39;No content here. Drag content from right.&#39;]&quot;));\r\n\t\tSystem.out.println(&quot;target&quot;);\r\n\t\tSystem.out.println(&quot;target= &quot;+target.getText());\r\n\t\t\r\n\t\tThread.sleep(5000);\r\n\t\t  Actions a = new Actions(driver); \r\n\t\t  Thread.sleep(5000);\r\n\t\t  //a.clickAndHold(source).moveToElement(target).release().build().perform();\r\n\t\t  //a.clickAndHold(target);\r\n\t\t  //a.dragAndDrop(source, target);\r\n\t\t  //a.moveToElement(target);\r\n\t\t  a.click(source);\r\n\t\t  System.out.println(&quot;Click on=&quot;+&quot;source&quot;);\r\n\t\t  Thread.sleep(5000);\r\n\t\t  a.release(target);\r\n\t\t  a.click(target);\r\n\t\t  System.out.println(&quot;Click on=&quot;+&quot;target&quot;);\r\n\t\t\r\n\t}\r\n```","title":"Drag and drop not working in unlayer web site","body":"<p>I have performed drag and drop on unlayer web site and all positive combination I have used. but drap and drop not working.</p>\n<p>We have tried following code with selenium 4.</p>\n<pre><code>@Test()\n     public void test() throws InterruptedException {\n        driver.get(&quot;https://dashboard.unlayer.com/create/blank?_gl=1*afclpx*_ga*NzU0NTMwNzU3LjE2NzYzMTAyOTk.*_ga_VMP9QH8KW8*MTY3NjMxMDI5OC4xLjEuMTY3NjMxMDMwOS41OC4wLjA.&quot;);\n        Thread.sleep(9000);\n        driver.switchTo().frame(0);\n        \n        Thread.sleep(9000);\n        \n                //driver.findElement(By.xpath(&quot;//div [text ()='Text']&quot;));\n        \n        WebElement source = driver.findElement(By.xpath(&quot;//div [text ()='Text']&quot;));\n        \n        //source.click();\n        \n        Thread.sleep(9000);\n        WebElement target = driver.findElement(By.xpath(&quot;//div[text()='No content here. Drag content from right.']&quot;));\n        System.out.println(&quot;target&quot;);\n        System.out.println(&quot;target= &quot;+target.getText());\n        \n        Thread.sleep(5000);\n          Actions a = new Actions(driver); \n          Thread.sleep(5000);\n          //a.clickAndHold(source).moveToElement(target).release().build().perform();\n          //a.clickAndHold(target);\n          //a.dragAndDrop(source, target);\n          //a.moveToElement(target);\n          a.click(source);\n          System.out.println(&quot;Click on=&quot;+&quot;source&quot;);\n          Thread.sleep(5000);\n          a.release(target);\n          a.click(target);\n          System.out.println(&quot;Click on=&quot;+&quot;target&quot;);\n        \n    }\n</code></pre>\n"},{"tags":["java","spring-boot","camunda","bpmn","camunda-plugin"],"answers":[{"tags":[],"owner":{"account_id":109649,"reputation":11808,"user_id":290425,"accept_rate":68,"display_name":"Jan Galinski"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676462287,"creation_date":1676462287,"answer_id":75459469,"question_id":75450202,"body_markdown":"Yes, I can confirm that 7.18 is compatible with 2.7.x\r\n\r\nSpring Boot 3.0 requires some change in the autoconfiguration declaration and as far as I understood, the community edition [will not support][1] it until 7.20.0.\r\n\r\nBut the same thread mentions [a manual fix][2] that I haven&#39;t tried so far.\r\n\r\n\r\n  [1]: https://github.com/camunda/camunda-bpm-platform/issues/2755#issuecomment-1354850165\r\n  [2]: https://gist.github.com/edudant/66cd658ba54439c9052681a0d84d66a9","title":"Camunda BPM - Spring compatibility","body":"<p>Yes, I can confirm that 7.18 is compatible with 2.7.x</p>\n<p>Spring Boot 3.0 requires some change in the autoconfiguration declaration and as far as I understood, the community edition <a href=\"https://github.com/camunda/camunda-bpm-platform/issues/2755#issuecomment-1354850165\" rel=\"nofollow noreferrer\">will not support</a> it until 7.20.0.</p>\n<p>But the same thread mentions <a href=\"https://gist.github.com/edudant/66cd658ba54439c9052681a0d84d66a9\" rel=\"nofollow noreferrer\">a manual fix</a> that I haven't tried so far.</p>\n"}],"owner":{"account_id":25495717,"reputation":35,"user_id":19289816,"display_name":"ChlnooL"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":648,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1676462287,"creation_date":1676389725,"question_id":75450202,"body_markdown":"I&#39;m trying to migrate application with Camunda BPM 7.14.0 and Spring Boot 2.7.2 dependencies to latest Spring version(3.0.1/3.0.2) and at least Camunda 7.16. \r\n\r\nUnfortunately I&#39;m receiving some errors during migration and would like to ask what is the compatible version of Camunda which I can use with Spring 3.0.1?\r\n\r\n\r\nFrom the compatibility matrix I can read that Camunda 7.18 is compatible only with version 2.7.x\r\nhttps://docs.camunda.org/manual/7.18/user-guide/spring-boot-integration/version-compatibility/\r\nCan someone confirm it?\r\n","title":"Camunda BPM - Spring compatibility","body":"<p>I'm trying to migrate application with Camunda BPM 7.14.0 and Spring Boot 2.7.2 dependencies to latest Spring version(3.0.1/3.0.2) and at least Camunda 7.16.</p>\n<p>Unfortunately I'm receiving some errors during migration and would like to ask what is the compatible version of Camunda which I can use with Spring 3.0.1?</p>\n<p>From the compatibility matrix I can read that Camunda 7.18 is compatible only with version 2.7.x\n<a href=\"https://docs.camunda.org/manual/7.18/user-guide/spring-boot-integration/version-compatibility/\" rel=\"nofollow noreferrer\">https://docs.camunda.org/manual/7.18/user-guide/spring-boot-integration/version-compatibility/</a>\nCan someone confirm it?</p>\n"},{"tags":["java","discord","discord-jda"],"comments":[{"owner":{"account_id":14719989,"reputation":5877,"user_id":10630900,"display_name":"Minn"},"score":0,"creation_date":1676462254,"post_id":75454262,"comment_id":133140265,"body_markdown":"Give your bot permissions to manage channels in its roles. Make sure you are giving the role to the bot and that you are modifying the correct bot that corresponds to your code.","body":"Give your bot permissions to manage channels in its roles. Make sure you are giving the role to the bot and that you are modifying the correct bot that corresponds to your code."},{"owner":{"account_id":21755747,"reputation":7,"user_id":16061144,"display_name":"Michael Kashani"},"score":0,"creation_date":1676472927,"post_id":75454262,"comment_id":133143878,"body_markdown":"I already did. It won&#39;t work though. Is there something else I can try to do?","body":"I already did. It won&#39;t work though. Is there something else I can try to do?"}],"owner":{"account_id":21755747,"reputation":7,"user_id":16061144,"display_name":"Michael Kashani"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676462262,"creation_date":1676417863,"question_id":75454262,"body_markdown":"I tried to create a function that creates a category upon certain conditions.\r\n\r\nIt should create a category if there are no categories called &quot;Server Information&quot;\r\n\r\nCode:\r\n\r\n```\r\npublic class EventListener extends ListenerAdapter {\r\n\r\n    //Checks if target category exists, if it is - do nothing, and if it does not - create one\r\n    String categoryInfoName = &quot;Server Information&quot;;\r\n    \r\n    @Override\r\n    public void onGenericGuild(GenericGuildEvent event) {\r\n        try {\r\n            if (!event.getGuild().getCategories().stream().anyMatch(category -&gt; category.getName().equals(categoryInfoName))) {\r\n                event.getGuild().createCategory(categoryInfoName);\r\n            }\r\n        }\r\n\r\n        catch (InsufficientPermissionException permissionException)\r\n        {\r\n            permissionException.printStackTrace();\r\n        }\r\n\r\n    }\r\n```\r\nNo matter what I change in Discord&#39;s server settings it still gives me these errors:\r\n\r\n    net.dv8tion.jda.api.exceptions.InsufficientPermissionException: Cannot perform action due to a lack of Permission. Missing permission: MANAGE_CHANNEL\r\n    \tat net.dv8tion.jda.internal.entities.GuildImpl.checkPermission(GuildImpl.java:1898)\r\n    \tat net.dv8tion.jda.internal.entities.GuildImpl.checkCanCreateChannel(GuildImpl.java:1934)\r\n    \tat net.dv8tion.jda.internal.entities.GuildImpl.createChannel(GuildImpl.java:1729)\r\n    \tat net.dv8tion.jda.internal.entities.GuildImpl.createCategory(GuildImpl.java:1724)\r\n    \tat me.izmike.jdabot.listeners.EventListener.onGenericGuild(EventListener.java:22)\r\n    \tat net.dv8tion.jda.api.hooks.ListenerAdapter.onEvent(ListenerAdapter.java:424)\r\n    \tat net.dv8tion.jda.api.hooks.InterfacedEventManager.handle(InterfacedEventManager.java:96)\r\n    \tat net.dv8tion.jda.internal.hooks.EventManagerProxy.handleInternally(EventManagerProxy.java:88)\r\n    \tat net.dv8tion.jda.internal.hooks.EventManagerProxy.handle(EventManagerProxy.java:70)\r\n    \tat net.dv8tion.jda.internal.JDAImpl.handleEvent(JDAImpl.java:171)\r\n    \tat net.dv8tion.jda.internal.handle.GuildSetupNode.completeSetup(GuildSetupNode.java:376)\r\n    \tat net.dv8tion.jda.internal.handle.GuildSetupNode.handleMemberChunk(GuildSetupNode.java:260)\r\n\r\nHow can I fix this?\r\n\r\n","title":"Not being able to create category","body":"<p>I tried to create a function that creates a category upon certain conditions.</p>\n<p>It should create a category if there are no categories called &quot;Server Information&quot;</p>\n<p>Code:</p>\n<pre><code>public class EventListener extends ListenerAdapter {\n\n    //Checks if target category exists, if it is - do nothing, and if it does not - create one\n    String categoryInfoName = &quot;Server Information&quot;;\n    \n    @Override\n    public void onGenericGuild(GenericGuildEvent event) {\n        try {\n            if (!event.getGuild().getCategories().stream().anyMatch(category -&gt; category.getName().equals(categoryInfoName))) {\n                event.getGuild().createCategory(categoryInfoName);\n            }\n        }\n\n        catch (InsufficientPermissionException permissionException)\n        {\n            permissionException.printStackTrace();\n        }\n\n    }\n</code></pre>\n<p>No matter what I change in Discord's server settings it still gives me these errors:</p>\n<pre><code>net.dv8tion.jda.api.exceptions.InsufficientPermissionException: Cannot perform action due to a lack of Permission. Missing permission: MANAGE_CHANNEL\n    at net.dv8tion.jda.internal.entities.GuildImpl.checkPermission(GuildImpl.java:1898)\n    at net.dv8tion.jda.internal.entities.GuildImpl.checkCanCreateChannel(GuildImpl.java:1934)\n    at net.dv8tion.jda.internal.entities.GuildImpl.createChannel(GuildImpl.java:1729)\n    at net.dv8tion.jda.internal.entities.GuildImpl.createCategory(GuildImpl.java:1724)\n    at me.izmike.jdabot.listeners.EventListener.onGenericGuild(EventListener.java:22)\n    at net.dv8tion.jda.api.hooks.ListenerAdapter.onEvent(ListenerAdapter.java:424)\n    at net.dv8tion.jda.api.hooks.InterfacedEventManager.handle(InterfacedEventManager.java:96)\n    at net.dv8tion.jda.internal.hooks.EventManagerProxy.handleInternally(EventManagerProxy.java:88)\n    at net.dv8tion.jda.internal.hooks.EventManagerProxy.handle(EventManagerProxy.java:70)\n    at net.dv8tion.jda.internal.JDAImpl.handleEvent(JDAImpl.java:171)\n    at net.dv8tion.jda.internal.handle.GuildSetupNode.completeSetup(GuildSetupNode.java:376)\n    at net.dv8tion.jda.internal.handle.GuildSetupNode.handleMemberChunk(GuildSetupNode.java:260)\n</code></pre>\n<p>How can I fix this?</p>\n"},{"tags":["java","discord","bots","attachment","discord-jda"],"answers":[{"comments":[{"owner":{"account_id":14890351,"reputation":3,"user_id":10752214,"display_name":"Bartosz"},"score":0,"creation_date":1676464660,"post_id":75459459,"comment_id":133140992,"body_markdown":"Thank you! This is the answer which a needed","body":"Thank you! This is the answer which a needed"}],"tags":[],"owner":{"account_id":14719989,"reputation":5877,"user_id":10630900,"display_name":"Minn"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1676462213,"creation_date":1676462213,"answer_id":75459459,"question_id":75458080,"body_markdown":"The [deprecation notice](https://ci.dv8tion.net/job/JDA5/javadoc/net/dv8tion/jda/api/entities/Message.Attachment.html#downloadToFile()) says this:\r\n\r\n&gt; **Deprecated.**\r\n&gt;\r\n&gt; Replaced by getProxy(), see FileProxy.downloadToFile(File)\r\n\r\nThis means you should use `attachment.getProxy().downloadToFile(File)` instead.\r\n\r\nExample:\r\n\r\n```java\r\nattachment.getProxy().downloadToFile(new File(&quot;myimage.png&quot;)).thenAccept(file -&gt; {\r\n    System.out.println(&quot;Written to file &quot; + file.getAbsolutePath() + &quot;.&quot;);\r\n});\r\n```\r\n\r\nOr using NIO instead:\r\n\r\n```java\r\nattachment.getProxy().downloadToPath().thenAccept(path -&gt; {\r\n    System.out.println(&quot;Written to file &quot; + path + &quot;. Total size: &quot; + Files.size(path));\r\n});\r\n```","title":"JDA doesn&#39;t support anymore attachments with downloadToFile()?","body":"<p>The <a href=\"https://ci.dv8tion.net/job/JDA5/javadoc/net/dv8tion/jda/api/entities/Message.Attachment.html#downloadToFile()\" rel=\"nofollow noreferrer\">deprecation notice</a> says this:</p>\n<blockquote>\n<p><strong>Deprecated.</strong></p>\n<p>Replaced by getProxy(), see FileProxy.downloadToFile(File)</p>\n</blockquote>\n<p>This means you should use <code>attachment.getProxy().downloadToFile(File)</code> instead.</p>\n<p>Example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>attachment.getProxy().downloadToFile(new File(&quot;myimage.png&quot;)).thenAccept(file -&gt; {\n    System.out.println(&quot;Written to file &quot; + file.getAbsolutePath() + &quot;.&quot;);\n});\n</code></pre>\n<p>Or using NIO instead:</p>\n<pre class=\"lang-java prettyprint-override\"><code>attachment.getProxy().downloadToPath().thenAccept(path -&gt; {\n    System.out.println(&quot;Written to file &quot; + path + &quot;. Total size: &quot; + Files.size(path));\n});\n</code></pre>\n"}],"owner":{"account_id":14890351,"reputation":3,"user_id":10752214,"display_name":"Bartosz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":127,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75459459,"answer_count":1,"score":0,"last_activity_date":1676462213,"creation_date":1676455073,"question_id":75458080,"body_markdown":"I write discord bot with using JDA and i have one important question how to download attachments or work with them? Because my IntelliJ say &quot;Deprecated API usage&quot; for method like **attachment.downloadToFile(&quot;name.png);**\r\nSo now we shouldn&#39;t download users files send in message? Or how we should do it in good way? I search a lot of wiki from JDA and different posts, but everywhere i didn&#39;t see, a new option to handle this download files, becasue all methods to download, are &quot;Deprecated API&quot; even method like &quot;**attachment.retrieveInputStream().join()**&quot; retrieveInputStream its too not good way :(\r\n\r\nSearch a lot on wiki/others pages for more information but nothing found :(","title":"JDA doesn&#39;t support anymore attachments with downloadToFile()?","body":"<p>I write discord bot with using JDA and i have one important question how to download attachments or work with them? Because my IntelliJ say &quot;Deprecated API usage&quot; for method like <strong>attachment.downloadToFile(&quot;name.png);</strong>\nSo now we shouldn't download users files send in message? Or how we should do it in good way? I search a lot of wiki from JDA and different posts, but everywhere i didn't see, a new option to handle this download files, becasue all methods to download, are &quot;Deprecated API&quot; even method like &quot;<strong>attachment.retrieveInputStream().join()</strong>&quot; retrieveInputStream its too not good way :(</p>\n<p>Search a lot on wiki/others pages for more information but nothing found :(</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9576,"page":647,"page_size":100}
