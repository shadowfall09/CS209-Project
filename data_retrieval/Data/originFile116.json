{"items":[{"tags":["java","windows","formatting","usb-drive","fat32"],"answers":[{"tags":[],"owner":{"account_id":1819975,"reputation":11164,"user_id":1654241,"display_name":"Valentin"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1386672246,"creation_date":1386672246,"answer_id":20492304,"question_id":20491849,"body_markdown":"If you keep using `format`, I don&#39;t think you&#39;ll be able to avoid [the 32 GB limit that Microsoft imposes on FAT32][1] on all WinNT-based OSes (Win2K+) :\n\n&gt; FAT16 and FAT32 do not scale well. As the volume gets bigger, the file allocation table gets bigger, which dramatically increases the amount of time it takes Windows 2000 to compute how much free space is on the boot volume when the system is restarted.\n&gt;\n&gt; For this reason, you may not create a FAT32 volume larger than 32 GB using the Format utility. However, the Windows 2000 Fastfat driver enables you to mount and fully support a FAT32 volume larger than 32 GB.\n\nYou might be able to avoid this limitation using another implementation of FAT32 but I&#39;m not sure one exists for Windows (I didn&#39;t find one googling a bit). Or you could use pre-WinNT Windows such as Windows 98 or Millenium Edition but I don&#39;t think it would be a good idea.\n\n  [1]: http://technet.microsoft.com/en-us/library/cc938438.aspx","title":"Formatting Fat32 usb drive on Windows","body":"<p>If you keep using <code>format</code>, I don't think you'll be able to avoid <a href=\"http://technet.microsoft.com/en-us/library/cc938438.aspx\" rel=\"nofollow noreferrer\">the 32 GB limit that Microsoft imposes on FAT32</a> on all WinNT-based OSes (Win2K+) :</p>\n<blockquote>\n<p>FAT16 and FAT32 do not scale well. As the volume gets bigger, the file allocation table gets bigger, which dramatically increases the amount of time it takes Windows 2000 to compute how much free space is on the boot volume when the system is restarted.</p>\n<p>For this reason, you may not create a FAT32 volume larger than 32 GB using the Format utility. However, the Windows 2000 Fastfat driver enables you to mount and fully support a FAT32 volume larger than 32 GB.</p>\n</blockquote>\n<p>You might be able to avoid this limitation using another implementation of FAT32 but I'm not sure one exists for Windows (I didn't find one googling a bit). Or you could use pre-WinNT Windows such as Windows 98 or Millenium Edition but I don't think it would be a good idea.</p>\n"},{"comments":[{"owner":{"account_id":476140,"reputation":35789,"user_id":886887,"accept_rate":94,"display_name":"Harry Johnston"},"score":0,"creation_date":1386704454,"post_id":20492558,"comment_id":30649071,"body_markdown":"@Maxbester: Java is not designed for system administration tasks.","body":"@Maxbester: Java is not designed for system administration tasks."},{"owner":{"account_id":15726609,"reputation":673,"user_id":11348074,"display_name":"gotwo"},"score":0,"creation_date":1697704755,"post_id":20492558,"comment_id":136314148,"body_markdown":"The link is broken","body":"The link is broken"}],"tags":[],"owner":{"account_id":2061440,"reputation":2775,"user_id":1837873,"display_name":"r3ap3r"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1386672989,"creation_date":1386672989,"answer_id":20492558,"question_id":20491849,"body_markdown":"Try this :\r\n\r\nhttp://www.ridgecrop.demon.co.uk/index.htm?fat32format.htm\r\n\r\nThis is a 3rd party tool for formatting FAT32 drives beyond 32 GB limit. It has both command line and GUI modes.\r\n\r\nExceeding 32 GB limit for FAT32 drives is not possible through the native **&quot;format&quot;** command on windows.","title":"Formatting Fat32 usb drive on Windows","body":"<p>Try this :</p>\n\n<p><a href=\"http://www.ridgecrop.demon.co.uk/index.htm?fat32format.htm\" rel=\"nofollow\">http://www.ridgecrop.demon.co.uk/index.htm?fat32format.htm</a></p>\n\n<p>This is a 3rd party tool for formatting FAT32 drives beyond 32 GB limit. It has both command line and GUI modes.</p>\n\n<p>Exceeding 32 GB limit for FAT32 drives is not possible through the native <strong>\"format\"</strong> command on windows.</p>\n"},{"comments":[{"owner":{"account_id":485618,"reputation":2445,"user_id":902025,"accept_rate":95,"display_name":"Maxbester"},"score":0,"creation_date":1555502761,"post_id":25813667,"comment_id":98133038,"body_markdown":"The system on which I will use this usb drive doesn&#39;t support NTFS.","body":"The system on which I will use this usb drive doesn&#39;t support NTFS."},{"owner":{"account_id":2290785,"reputation":23,"user_id":2013670,"display_name":"sx3"},"score":0,"creation_date":1565329658,"post_id":25813667,"comment_id":101326639,"body_markdown":"Then use EXFAT\nProcess p = Runtime.getRuntime().exec(&quot;CMD /C format f: /FS:EXFAT /Q /X /Y&quot;);","body":"Then use EXFAT Process p = Runtime.getRuntime().exec(&quot;CMD /C format f: /FS:EXFAT /Q /X /Y&quot;);"}],"tags":[],"owner":{"account_id":2290785,"reputation":23,"user_id":2013670,"display_name":"sx3"},"comment_count":2,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1410542794,"creation_date":1410542794,"answer_id":25813667,"question_id":20491849,"body_markdown":"Try this,\r\n\r\n    Process p = Runtime.getRuntime().exec(&quot;CMD /C format f: /FS:NTFS /Q /X /Y&quot;);\r\n\r\nIt will sove your issue..`NTFS`","title":"Formatting Fat32 usb drive on Windows","body":"<p>Try this,</p>\n\n<pre><code>Process p = Runtime.getRuntime().exec(\"CMD /C format f: /FS:NTFS /Q /X /Y\");\n</code></pre>\n\n<p>It will sove your issue..<code>NTFS</code></p>\n"},{"tags":[],"owner":{"account_id":10392744,"reputation":143,"user_id":7663420,"display_name":"Nathaniel Hibbler"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677446896,"creation_date":1677413300,"answer_id":75571863,"question_id":20491849,"body_markdown":"APPROACH #1\r\nIf your flash drive is F then try formatting as FAT32 at CMD prompt\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    format F: /FS:FAT32\r\n\r\n&lt;!-- end snippet --&gt;\r\nA failed attempt may look like this:\r\n   Insert new disk for drive E:\r\n   and press ENTER when ready...\r\n   The type of the file system is EXFAT.\r\n   The new file system is FAT32.\r\n   Verifying 116.5 GB\r\n   The volume is too big for FAT32.\r\n   Format failed.\r\n\r\nAPPROACH #2\r\nIf that does not work then just download a software like Guiformat to perform the FAT32 format (http://ridgecrop.co.uk/index.htm?guiformat.htm)\r\n\r\n","title":"Formatting Fat32 usb drive on Windows","body":"<p>APPROACH #1\nIf your flash drive is F then try formatting as FAT32 at CMD prompt</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>format F: /FS:FAT32</code></pre>\r\n</div>\r\n</div>\r\n\nA failed attempt may look like this:\nInsert new disk for drive E:\nand press ENTER when ready...\nThe type of the file system is EXFAT.\nThe new file system is FAT32.\nVerifying 116.5 GB\nThe volume is too big for FAT32.\nFormat failed.</p>\n<p>APPROACH #2\nIf that does not work then just download a software like Guiformat to perform the FAT32 format (<a href=\"http://ridgecrop.co.uk/index.htm?guiformat.htm\" rel=\"nofollow noreferrer\">http://ridgecrop.co.uk/index.htm?guiformat.htm</a>)</p>\n"}],"owner":{"account_id":485618,"reputation":2445,"user_id":902025,"accept_rate":95,"display_name":"Maxbester"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4045,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":20492558,"answer_count":4,"score":0,"last_activity_date":1697704686,"creation_date":1386671028,"question_id":20491849,"body_markdown":"**What is the best way to format an usb drive (&gt; 32Gb) with Java on Windows?**\r\n\r\nI tried to use the `format` function:\r\n\r\n    Process p = Runtime.getRuntime().exec(&quot;CMD /C format f: /FS:FAT32 /Q /X /Y&quot;);\r\n\r\nBut the size of the drive is limited to 32Gb. My usb drive is larger than 100Gb.\r\n\r\nCould I do it using JNI or will I be limited with the 32Gb?\r\n","title":"Formatting Fat32 usb drive on Windows","body":"<p><strong>What is the best way to format an usb drive (&gt; 32Gb) with Java on Windows?</strong></p>\n<p>I tried to use the <code>format</code> function:</p>\n<pre><code>Process p = Runtime.getRuntime().exec(&quot;CMD /C format f: /FS:FAT32 /Q /X /Y&quot;);\n</code></pre>\n<p>But the size of the drive is limited to 32Gb. My usb drive is larger than 100Gb.</p>\n<p>Could I do it using JNI or will I be limited with the 32Gb?</p>\n"},{"tags":["java","spring-boot","spring-security","oauth-2.0","spring-security-oauth2"],"answers":[{"comments":[{"owner":{"account_id":2266684,"reputation":1068,"user_id":1995161,"accept_rate":50,"display_name":"AshwinK"},"score":0,"creation_date":1571737867,"post_id":58501388,"comment_id":103331816,"body_markdown":"The `generatedpassword` will be converted/hashed before saving it to the table `oauth_client_details` or it will be saved as it is ? `BaseClientDetails` will be a custom Object, right ? In this structure when `client_secret` will be generated which I can use to pass it to other table ?","body":"The <code>generatedpassword</code> will be converted/hashed before saving it to the table <code>oauth_client_details</code> or it will be saved as it is ? <code>BaseClientDetails</code> will be a custom Object, right ? In this structure when <code>client_secret</code> will be generated which I can use to pass it to other table ?"},{"owner":{"account_id":2266684,"reputation":1068,"user_id":1995161,"accept_rate":50,"display_name":"AshwinK"},"score":0,"creation_date":1571751694,"post_id":58501388,"comment_id":103339450,"body_markdown":"Thank you so much. This make sense to me now. I&#39;ll play around with what you&#39;ve provided.","body":"Thank you so much. This make sense to me now. I&#39;ll play around with what you&#39;ve provided."},{"owner":{"account_id":2266684,"reputation":1068,"user_id":1995161,"accept_rate":50,"display_name":"AshwinK"},"score":0,"creation_date":1571769254,"post_id":58501388,"comment_id":103348421,"body_markdown":"I&#39;ve one question here, the `companyId` we are passing to constructor is nothing but `client-id` correct ?","body":"I&#39;ve one question here, the <code>companyId</code> we are passing to constructor is nothing but <code>client-id</code> correct ?"},{"owner":{"account_id":1968635,"reputation":21509,"user_id":1768226,"accept_rate":80,"display_name":"shazin"},"score":0,"creation_date":1571800848,"post_id":58501388,"comment_id":103356836,"body_markdown":"Yes, your companyId can be the client id as long as companyId is unique","body":"Yes, your companyId can be the client id as long as companyId is unique"}],"tags":[],"owner":{"account_id":1968635,"reputation":21509,"user_id":1768226,"accept_rate":80,"display_name":"shazin"},"comment_count":4,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1571742225,"creation_date":1571737263,"answer_id":58501388,"question_id":58499410,"body_markdown":"There is a `JdbcClientDetailsService` for this specific purpose.\r\n\r\nYou need to define the following table in your database\r\n\r\n    create table oauth_client_details (\r\n      client_id VARCHAR(256) PRIMARY KEY,\r\n      resource_ids VARCHAR(256),\r\n      client_secret VARCHAR(256),\r\n      scope VARCHAR(256),\r\n      authorized_grant_types VARCHAR(256),\r\n      web_server_redirect_uri VARCHAR(256),\r\n      authorities VARCHAR(256),\r\n      access_token_validity INTEGER,\r\n      refresh_token_validity INTEGER,\r\n      additional_information VARCHAR(4096),\r\n      autoapprove VARCHAR(256)\r\n    );\r\n\r\nand configure your Oauth2 authorization server as following\r\n\r\n    @Configuration\r\n    @EnableAuthorizationServer\r\n    public class OAuth2AuthorizationServerConfigurer extends AuthorizationServerConfigurerAdapter {\r\n    \r\n        @Autowired\r\n        private DataSource dataSource;\r\n    \r\n        @Override\r\n        public void configure(ClientDetailsServiceConfigurer clients) throws Exception {\r\n            clients.jdbc(dataSource);\r\n        }\r\n    \r\n    }\r\n\r\nAnd finally you can inject `JdbcClientDetailsService` bean in the location you are registering a `companyId`.\r\n\r\n    @Autowired\r\n    JdbcClientDetailsService jdbcClientDetailsService;\r\n    \r\n    ...\r\n    BaseClientDetails clientDetails = new BaseClientDetails(companyId, resourceIds, scopes, grantTypes, authorities);\r\n    clientDetails.setClientSecret(&quot;generatedpassword&quot;);\r\n    jdbcClientDetailsService.addClientDetails(clientDetails);\r\n\r\nFinally you can login using those client credentials.\r\n\r\n**UPDATE**\r\n\r\nIf you want your passwords to be hashed you can set a PasswordEncoder as below.\r\n\r\n    clients.jdbc(dataSource)\r\n                    .passwordEncoder(new BCryptPasswordEncoder())\r\n\r\n`BaseClientDetails` is available in package `org.springframework.security.oauth2.provider.client`.\r\n\r\nThe client secret will not be generated by the service. You need to generate it and set it to `BaseClientDetails`.","title":"How to generate client-id &amp; client-secret in spring-boot and store in database?","body":"<p>There is a <code>JdbcClientDetailsService</code> for this specific purpose.</p>\n\n<p>You need to define the following table in your database</p>\n\n<pre><code>create table oauth_client_details (\n  client_id VARCHAR(256) PRIMARY KEY,\n  resource_ids VARCHAR(256),\n  client_secret VARCHAR(256),\n  scope VARCHAR(256),\n  authorized_grant_types VARCHAR(256),\n  web_server_redirect_uri VARCHAR(256),\n  authorities VARCHAR(256),\n  access_token_validity INTEGER,\n  refresh_token_validity INTEGER,\n  additional_information VARCHAR(4096),\n  autoapprove VARCHAR(256)\n);\n</code></pre>\n\n<p>and configure your Oauth2 authorization server as following</p>\n\n<pre><code>@Configuration\n@EnableAuthorizationServer\npublic class OAuth2AuthorizationServerConfigurer extends AuthorizationServerConfigurerAdapter {\n\n    @Autowired\n    private DataSource dataSource;\n\n    @Override\n    public void configure(ClientDetailsServiceConfigurer clients) throws Exception {\n        clients.jdbc(dataSource);\n    }\n\n}\n</code></pre>\n\n<p>And finally you can inject <code>JdbcClientDetailsService</code> bean in the location you are registering a <code>companyId</code>.</p>\n\n<pre><code>@Autowired\nJdbcClientDetailsService jdbcClientDetailsService;\n\n...\nBaseClientDetails clientDetails = new BaseClientDetails(companyId, resourceIds, scopes, grantTypes, authorities);\nclientDetails.setClientSecret(\"generatedpassword\");\njdbcClientDetailsService.addClientDetails(clientDetails);\n</code></pre>\n\n<p>Finally you can login using those client credentials.</p>\n\n<p><strong>UPDATE</strong></p>\n\n<p>If you want your passwords to be hashed you can set a PasswordEncoder as below.</p>\n\n<pre><code>clients.jdbc(dataSource)\n                .passwordEncoder(new BCryptPasswordEncoder())\n</code></pre>\n\n<p><code>BaseClientDetails</code> is available in package <code>org.springframework.security.oauth2.provider.client</code>.</p>\n\n<p>The client secret will not be generated by the service. You need to generate it and set it to <code>BaseClientDetails</code>.</p>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1697897917,"post_id":77322164,"comment_id":136338603,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/77322164/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":25690949,"reputation":1,"user_id":19452375,"display_name":"Kudzaishe Brandon"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697704490,"creation_date":1697704432,"answer_id":77322164,"question_id":58499410,"body_markdown":"```\r\nimport org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter;\r\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\r\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\r\nimport org.springframework.security.oauth2.client.registration.ClientRegistrationRepository;\r\nimport org.springframework.security.oauth2.client.web.OAuth2LoginConfigurer;\r\n\r\n@EnableWebSecurity\r\npublic class SecurityConfiguration extends WebSecurityConfigurerAdapter {\r\n\r\n    private final ClientRegistrationRepository clientRegistrationRepository;\r\n\r\n    public SecurityConfiguration(ClientRegistrationRepository clientRegistrationRepository) {\r\n        this.clientRegistrationRepository = clientRegistrationRepository;\r\n    }\r\n\r\n    @Override\r\n    protected void configure(HttpSecurity http) throws Exception {\r\n        http.authorizeRequests()\r\n                .antMatchers(&quot;/&quot;).permitAll()\r\n                .anyRequest().authenticated()\r\n                .and()\r\n                .oauth2Login()\r\n                .clientRegistrationRepository(clientRegistrationRepository);\r\n&#160;&#160;&#160;&#160;}\r\n} \r\n```\r\nneed this code for springboot 3\r\n","title":"How to generate client-id &amp; client-secret in spring-boot and store in database?","body":"<pre><code>import org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter;\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\nimport org.springframework.security.oauth2.client.registration.ClientRegistrationRepository;\nimport org.springframework.security.oauth2.client.web.OAuth2LoginConfigurer;\n\n@EnableWebSecurity\npublic class SecurityConfiguration extends WebSecurityConfigurerAdapter {\n\n    private final ClientRegistrationRepository clientRegistrationRepository;\n\n    public SecurityConfiguration(ClientRegistrationRepository clientRegistrationRepository) {\n        this.clientRegistrationRepository = clientRegistrationRepository;\n    }\n\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        http.authorizeRequests()\n                .antMatchers(&quot;/&quot;).permitAll()\n                .anyRequest().authenticated()\n                .and()\n                .oauth2Login()\n                .clientRegistrationRepository(clientRegistrationRepository);\n    }\n} \n</code></pre>\n<p>need this code for springboot 3</p>\n"}],"owner":{"account_id":2266684,"reputation":1068,"user_id":1995161,"accept_rate":50,"display_name":"AshwinK"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7768,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":58501388,"answer_count":2,"score":2,"last_activity_date":1697704490,"creation_date":1571730553,"question_id":58499410,"body_markdown":"I know questions similar to this already exist on stackoverflow. When I went through them, it didn&#39;t solved the problem I&#39;m looking for.\r\n\r\nI&#39;ve a **spring-boot web service** as `Oaut2ClientManagement`, in which I&#39;ve creating an API which will basically register a new client.\r\nWhen new company is getting registered, the `companyId`(it is predefined in some `company_details` table, yes the company is added in list but not registered to access APIs) is sent so based on that I&#39;ve to generate `client-id` &amp; `client-secret` which I&#39;ll store in `CLIENT_KEY_MANAGEMENT` table. Based on this I write a java code to generating `accessToken`.\r\n\r\nSo my question here is how can I generate **client-id** &amp; **client-secret** based on `companyId` I&#39;ve received in request ? I&#39;ve went through this [answer][1]. But is there any pre-defined way in `spring-boot oauth` which can do this job ? As next step is to generate access token based on it.\r\n\r\nI also went through oAuth [tutorial][2]. But, in this the `client-id` &amp; `client-secret` are stored in properties file not in Database/other source. Also seems like it&#39;s single pair.\r\n\r\n\r\nIt will be great if someone can guide me to achieve above scenario using `spring-boot`.\r\n\r\n  [1]: https://stackoverflow.com/a/23671977/1995161\r\n  [2]: https://spring.io/guides/tutorials/spring-boot-oauth2/","title":"How to generate client-id &amp; client-secret in spring-boot and store in database?","body":"<p>I know questions similar to this already exist on stackoverflow. When I went through them, it didn't solved the problem I'm looking for.</p>\n\n<p>I've a <strong>spring-boot web service</strong> as <code>Oaut2ClientManagement</code>, in which I've creating an API which will basically register a new client.\nWhen new company is getting registered, the <code>companyId</code>(it is predefined in some <code>company_details</code> table, yes the company is added in list but not registered to access APIs) is sent so based on that I've to generate <code>client-id</code> &amp; <code>client-secret</code> which I'll store in <code>CLIENT_KEY_MANAGEMENT</code> table. Based on this I write a java code to generating <code>accessToken</code>.</p>\n\n<p>So my question here is how can I generate <strong>client-id</strong> &amp; <strong>client-secret</strong> based on <code>companyId</code> I've received in request ? I've went through this <a href=\"https://stackoverflow.com/a/23671977/1995161\">answer</a>. But is there any pre-defined way in <code>spring-boot oauth</code> which can do this job ? As next step is to generate access token based on it.</p>\n\n<p>I also went through oAuth <a href=\"https://spring.io/guides/tutorials/spring-boot-oauth2/\" rel=\"nofollow noreferrer\">tutorial</a>. But, in this the <code>client-id</code> &amp; <code>client-secret</code> are stored in properties file not in Database/other source. Also seems like it's single pair.</p>\n\n<p>It will be great if someone can guide me to achieve above scenario using <code>spring-boot</code>.</p>\n"},{"tags":["java","spring-boot","junit","mockito","junit5"],"comments":[{"owner":{"account_id":16500982,"reputation":84,"user_id":13749786,"display_name":"Watermelon"},"score":0,"creation_date":1697719264,"post_id":77321924,"comment_id":136316900,"body_markdown":"try changing the second one to - mock.getMergeRequestApi().getMergeRequest(anyString(), anyLong())","body":"try changing the second one to - mock.getMergeRequestApi().getMergeRequest(anyString(), anyLong())"}],"owner":{"account_id":29706275,"reputation":1,"user_id":22767028,"display_name":"Neel"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697704160,"creation_date":1697702121,"question_id":77321924,"body_markdown":"I have new instance which will be mocked.\r\nI am using `MockedConstruction` for `junit5` for that;\r\n`GitLabApi gitlabApi = new GitLabApi(&quot;&quot;, &quot;&quot;)) `\r\n\r\nit has two methos\r\n\r\n 1. `MergeRequestApi mr = gitlabApi.getMergeRequestApi();`\r\n 2. `mergeRequest = gitlabApi.getMergeRequestApi().getMergeRequest(&quot;&quot;, (long) 1);`\r\n\r\nmethod1 is run as expected but for method2 its throwing `Could not initialize mocked construction`\r\n\r\nfollowing are test case \r\n\r\n\t\ttry(MockedConstruction ruleModelMapper = Mockito.mockConstruction(GitLabApi.class, (mock, context) -&gt; {\r\n\t\t\tMockito.when(mock.getMergeRequestApi()).thenReturn(m);\r\n\t\t\tMockito.when(m.getMergeRequest(anyString(), anyLong())).thenReturn(mr);\r\n\t\t})){\r\n","title":"how to mock method called by MockedConstruction Object","body":"<p>I have new instance which will be mocked.\nI am using <code>MockedConstruction</code> for <code>junit5</code> for that;\n<code>GitLabApi gitlabApi = new GitLabApi(&quot;&quot;, &quot;&quot;)) </code></p>\n<p>it has two methos</p>\n<ol>\n<li><code>MergeRequestApi mr = gitlabApi.getMergeRequestApi();</code></li>\n<li><code>mergeRequest = gitlabApi.getMergeRequestApi().getMergeRequest(&quot;&quot;, (long) 1);</code></li>\n</ol>\n<p>method1 is run as expected but for method2 its throwing <code>Could not initialize mocked construction</code></p>\n<p>following are test case</p>\n<pre><code>    try(MockedConstruction ruleModelMapper = Mockito.mockConstruction(GitLabApi.class, (mock, context) -&gt; {\n        Mockito.when(mock.getMergeRequestApi()).thenReturn(m);\n        Mockito.when(m.getMergeRequest(anyString(), anyLong())).thenReturn(mr);\n    })){\n</code></pre>\n"},{"tags":["java","spring","spring-boot","validation"],"comments":[{"owner":{"account_id":24440940,"reputation":3132,"user_id":18364656,"display_name":"Andrei Lisa"},"score":2,"creation_date":1697637712,"post_id":77317015,"comment_id":136305169,"body_markdown":"can you provide a simple reproductive example with annotations that not work in your case ?","body":"can you provide a simple reproductive example with annotations that not work in your case ?"},{"owner":{"account_id":4688171,"reputation":11056,"user_id":3795036,"accept_rate":88,"display_name":"K.Nicholas"},"score":1,"creation_date":1697637719,"post_id":77317015,"comment_id":136305173,"body_markdown":"Back in the day we had to write lines of code without IDE&#39;s while going down the page both ways each time.","body":"Back in the day we had to write lines of code without IDE&#39;s while going down the page both ways each time."},{"owner":{"account_id":4688171,"reputation":11056,"user_id":3795036,"accept_rate":88,"display_name":"K.Nicholas"},"score":0,"creation_date":1697637764,"post_id":77317015,"comment_id":136305193,"body_markdown":"Posts on stackoverflow get nothing from me.","body":"Posts on stackoverflow get nothing from me."},{"owner":{"account_id":4688171,"reputation":11056,"user_id":3795036,"accept_rate":88,"display_name":"K.Nicholas"},"score":0,"creation_date":1697637863,"post_id":77317015,"comment_id":136305214,"body_markdown":"Does this answer your question? [@min annotation not working](https://stackoverflow.com/questions/48330611/min-annotation-not-working)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/48330611/min-annotation-not-working\">@min annotation not working</a>"},{"owner":{"account_id":17835,"reputation":303905,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":1,"creation_date":1697637890,"post_id":77317015,"comment_id":136305223,"body_markdown":"`if (minutes == null || minutes &lt; 0) { throw new IllegalArgumentException(); }` should do it. But if it can&#39;t be `null`, then it should really be `int minutes` (or better yet: `Duration duration`).","body":"<code>if (minutes == null || minutes &lt; 0) { throw new IllegalArgumentException(); }</code> should do it. But if it can&#39;t be <code>null</code>, then it should really be <code>int minutes</code> (or better yet: <code>Duration duration</code>)."},{"owner":{"account_id":83131,"reputation":8752,"user_id":233286,"accept_rate":73,"display_name":"ilhan"},"score":0,"creation_date":1697637891,"post_id":77317015,"comment_id":136305225,"body_markdown":"@K.Nicholas I wish Java had positive integer type.","body":"@K.Nicholas I wish Java had positive integer type."},{"owner":{"account_id":4688171,"reputation":11056,"user_id":3795036,"accept_rate":88,"display_name":"K.Nicholas"},"score":0,"creation_date":1697638026,"post_id":77317015,"comment_id":136305250,"body_markdown":"@ilhan - lol, good luck with that. I think if you follow the above link you&#39;ll see that somehow a validator needs to be invoked. I didn&#39;t look closer but that makes sense to me.","body":"@ilhan - lol, good luck with that. I think if you follow the above link you&#39;ll see that somehow a validator needs to be invoked. I didn&#39;t look closer but that makes sense to me."},{"owner":{"account_id":83131,"reputation":8752,"user_id":233286,"accept_rate":73,"display_name":"ilhan"},"score":0,"creation_date":1697638074,"post_id":77317015,"comment_id":136305260,"body_markdown":"@K.Nicholas, no, it is not very clear what library they are using and unfortunately that one is for properties of objects.","body":"@K.Nicholas, no, it is not very clear what library they are using and unfortunately that one is for properties of objects."},{"owner":{"account_id":4688171,"reputation":11056,"user_id":3795036,"accept_rate":88,"display_name":"K.Nicholas"},"score":1,"creation_date":1697638423,"post_id":77317015,"comment_id":136305344,"body_markdown":"Where does @Min come from? `hibernate-validator`? If so, what makes you think it belongs on some random method parameter?","body":"Where does @Min come from? <code>hibernate-validator</code>? If so, what makes you think it belongs on some random method parameter?"},{"owner":{"account_id":83131,"reputation":8752,"user_id":233286,"accept_rate":73,"display_name":"ilhan"},"score":0,"creation_date":1697638598,"post_id":77317015,"comment_id":136305393,"body_markdown":"@K.Nicholas, I think it was jakarta.validation.constraints.Min.","body":"@K.Nicholas, I think it was jakarta.validation.constraints.Min."},{"owner":{"account_id":2497295,"reputation":3931,"user_id":2173392,"display_name":"pdem"},"score":0,"creation_date":1697639431,"post_id":77317015,"comment_id":136305593,"body_markdown":"see https://stackoverflow.com/questions/9293185/validate-positive-integers","body":"see <a href=\"https://stackoverflow.com/questions/9293185/validate-positive-integers\" title=\"validate positive integers\">stackoverflow.com/questions/9293185/validate-positive-intege&zwnj;&#8203;rs</a>"},{"owner":{"account_id":83131,"reputation":8752,"user_id":233286,"accept_rate":73,"display_name":"ilhan"},"score":0,"creation_date":1697640544,"post_id":77317015,"comment_id":136305856,"body_markdown":"@pdem, those answers are about properties of objects but I am asking for method parameters","body":"@pdem, those answers are about properties of objects but I am asking for method parameters"},{"owner":{"account_id":2497295,"reputation":3931,"user_id":2173392,"display_name":"pdem"},"score":1,"creation_date":1697641362,"post_id":77317015,"comment_id":136306058,"body_markdown":"@ihan let the tag &quot;bean-validation&quot; it&#39;s related to the annotation you use, also need the context of the class, you need `@validated`and `@service`on the class : on this example the validation is on method too https://stackoverflow.com/questions/42755608/springboot-validation-of-a-bean-method-parameters-and-return","body":"@ihan let the tag &quot;bean-validation&quot; it&#39;s related to the annotation you use, also need the context of the class, you need <code>@validated</code>and <code>@service</code>on the class : on this example the validation is on method too <a href=\"https://stackoverflow.com/questions/42755608/springboot-validation-of-a-bean-method-parameters-and-return\" title=\"springboot validation of a bean method parameters and return\">stackoverflow.com/questions/42755608/&hellip;</a>"},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1697661457,"post_id":77317015,"comment_id":136309579,"body_markdown":"Do you mean [`jakarta.validation.constraints.Positive`](https://jakarta.ee/specifications/bean-validation/3.0/jakarta-bean-validation-spec-3.0#builtinconstraints-positive)?","body":"Do you mean <a href=\"https://jakarta.ee/specifications/bean-validation/3.0/jakarta-bean-validation-spec-3.0#builtinconstraints-positive\" rel=\"nofollow noreferrer\"><code>jakarta.validation.constraints.Positive</code></a>?"},{"owner":{"account_id":83131,"reputation":8752,"user_id":233286,"accept_rate":73,"display_name":"ilhan"},"score":0,"creation_date":1697703290,"post_id":77317015,"comment_id":136313885,"body_markdown":"@pdem, so it looks like whether it works or not is dependent on when an object is created.","body":"@pdem, so it looks like whether it works or not is dependent on when an object is created."},{"owner":{"account_id":11377012,"reputation":12772,"user_id":8340997,"display_name":"Anish B."},"score":0,"creation_date":1697704018,"post_id":77317015,"comment_id":136314019,"body_markdown":"@ilhan Please add your pom.xml","body":"@ilhan Please add your pom.xml"}],"answers":[{"comments":[{"owner":{"account_id":83131,"reputation":8752,"user_id":233286,"accept_rate":73,"display_name":"ilhan"},"score":0,"creation_date":1697702916,"post_id":77317498,"comment_id":136313820,"body_markdown":"It said &quot;Unable to create a Configuration, because no Jakarta Bean Validation provider could be found. Add a provider like Hibernate Validator (RI) to your classpath.&quot; then after I have added some dependencies it says &quot;HV000183: Unable to initialize &#39;jakarta.el.ExpressionFactory&#39;.&quot;. I am giving up. In my opinion it works only under some conditions.","body":"It said &quot;Unable to create a Configuration, because no Jakarta Bean Validation provider could be found. Add a provider like Hibernate Validator (RI) to your classpath.&quot; then after I have added some dependencies it says &quot;HV000183: Unable to initialize &#39;jakarta.el.ExpressionFactory&#39;.&quot;. I am giving up. In my opinion it works only under some conditions."},{"owner":{"account_id":11377012,"reputation":12772,"user_id":8340997,"display_name":"Anish B."},"score":0,"creation_date":1697702964,"post_id":77317498,"comment_id":136313828,"body_markdown":"@ilhan Add the hibernate-validator dependency.","body":"@ilhan Add the hibernate-validator dependency."},{"owner":{"account_id":11377012,"reputation":12772,"user_id":8340997,"display_name":"Anish B."},"score":0,"creation_date":1697703026,"post_id":77317498,"comment_id":136313837,"body_markdown":"@ilhan `&lt;dependency&gt;\n    &lt;groupId&gt;org.hibernate.validator&lt;/groupId&gt;\n    &lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\n&lt;/dependency&gt;`","body":"@ilhan <code>&lt;dependency&gt;     &lt;groupId&gt;org.hibernate.validator&lt;&#47;groupId&gt;     &lt;artifactId&gt;hibernate-validator&lt;&#47;artifactId&gt; &lt;&#47;dependency&gt;</code>"},{"owner":{"account_id":11377012,"reputation":12772,"user_id":8340997,"display_name":"Anish B."},"score":0,"creation_date":1697703107,"post_id":77317498,"comment_id":136313855,"body_markdown":"@ilhan No. it works. I don&#39;t know what are you doing. But if you want I can provide a code sample via github","body":"@ilhan No. it works. I don&#39;t know what are you doing. But if you want I can provide a code sample via github"},{"owner":{"account_id":11377012,"reputation":12772,"user_id":8340997,"display_name":"Anish B."},"score":0,"creation_date":1697703171,"post_id":77317498,"comment_id":136313865,"body_markdown":"@ilhan I&#39;m updating my answer with the pom.xml","body":"@ilhan I&#39;m updating my answer with the pom.xml"},{"owner":{"account_id":11377012,"reputation":12772,"user_id":8340997,"display_name":"Anish B."},"score":0,"creation_date":1697703792,"post_id":77317498,"comment_id":136313980,"body_markdown":"@ilhan I have added the full pom.xml for spring boot app that I have created.","body":"@ilhan I have added the full pom.xml for spring boot app that I have created."},{"owner":{"account_id":11377012,"reputation":12772,"user_id":8340997,"display_name":"Anish B."},"score":0,"creation_date":1697703982,"post_id":77317498,"comment_id":136314009,"body_markdown":"@ilhan For this issue HV000183: Unable to initialize &#39;jakarta.el.ExpressionFactory, look at this -&gt; https://stackoverflow.com/questions/24386771/javax-validation-validationexception-hv000183-unable-to-load-javax-el-express","body":"@ilhan For this issue HV000183: Unable to initialize &#39;jakarta.el.ExpressionFactory, look at this -&gt; <a href=\"https://stackoverflow.com/questions/24386771/javax-validation-validationexception-hv000183-unable-to-load-javax-el-express\" title=\"javax validation validationexception hv000183 unable to load javax el express\">stackoverflow.com/questions/24386771/&hellip;</a>"}],"tags":[],"owner":{"account_id":11377012,"reputation":12772,"user_id":8340997,"display_name":"Anish B."},"comment_count":7,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1697703766,"creation_date":1697641298,"answer_id":77317498,"question_id":77317015,"body_markdown":"I guess you are using `hibernate-validator` dependency in your project and I suspect that you are trying to use the **JSR-303** annotations to validate.\r\n\r\nYou have to use `@Validated` to enable the method parameter validation and to make JSR-303 annotations work in Spring.\r\n\r\nSample code to demonstrate:\r\n\r\n    import jakarta.validation.constraints.PositiveOrZero;\r\n    import org.springframework.validation.annotation.Validated;\r\n\r\n    @Validated\r\n    public class UserDAO {\r\n   \r\n      public List&lt;UserEntity&gt; findUsersCreatedInTheLast(@NonNull \r\n                                               @PositiveOrZero Integer minutes) {\r\n         // logic\r\n      }\r\n    \r\n    }\r\n\r\nThis will throw exception like this when negative number is passed:\r\n\r\n&gt; jakarta.validation.ConstraintViolationException:\r\n&gt; findUsersCreatedInTheLast.minutes: must be greater than or equal to 0\r\n\r\n**Note:** Use `@PositiveOrZero` annotation. It&#39;s much shorter to use.\r\n\r\n**Update:** \r\n\r\nMy pom.xml for testing:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n             xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n        &lt;parent&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n            &lt;version&gt;3.1.4&lt;/version&gt;\r\n            &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n        &lt;/parent&gt;\r\n        &lt;groupId&gt;com.example&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-mysql&lt;/artifactId&gt;\r\n        &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n        &lt;name&gt;spring-boot-mysql&lt;/name&gt;\r\n        &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n        &lt;properties&gt;\r\n            &lt;java.version&gt;17&lt;/java.version&gt;\r\n        &lt;/properties&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.hibernate.validator&lt;/groupId&gt;\r\n                &lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.hibernate.validator&lt;/groupId&gt;\r\n                &lt;artifactId&gt;hibernate-validator-annotation-processor&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n                &lt;scope&gt;runtime&lt;/scope&gt;\r\n                &lt;optional&gt;true&lt;/optional&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.mysql&lt;/groupId&gt;\r\n                &lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n                &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n                &lt;optional&gt;true&lt;/optional&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    \r\n        &lt;build&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;excludes&gt;\r\n                            &lt;exclude&gt;\r\n                                &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n                                &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n                            &lt;/exclude&gt;\r\n                        &lt;/excludes&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/build&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\nJust add only these dependencies to your spring boot app.\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.hibernate.validator&lt;/groupId&gt;\r\n            &lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.hibernate.validator&lt;/groupId&gt;\r\n            &lt;artifactId&gt;hibernate-validator-annotation-processor&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n\r\n\r\n\r\nI have tested. This will work 100%.\r\n","title":"How should I prevent negative integers in Java?","body":"<p>I guess you are using <code>hibernate-validator</code> dependency in your project and I suspect that you are trying to use the <strong>JSR-303</strong> annotations to validate.</p>\n<p>You have to use <code>@Validated</code> to enable the method parameter validation and to make JSR-303 annotations work in Spring.</p>\n<p>Sample code to demonstrate:</p>\n<pre><code>import jakarta.validation.constraints.PositiveOrZero;\nimport org.springframework.validation.annotation.Validated;\n\n@Validated\npublic class UserDAO {\n\n  public List&lt;UserEntity&gt; findUsersCreatedInTheLast(@NonNull \n                                           @PositiveOrZero Integer minutes) {\n     // logic\n  }\n\n}\n</code></pre>\n<p>This will throw exception like this when negative number is passed:</p>\n<blockquote>\n<p>jakarta.validation.ConstraintViolationException:\nfindUsersCreatedInTheLast.minutes: must be greater than or equal to 0</p>\n</blockquote>\n<p><strong>Note:</strong> Use <code>@PositiveOrZero</code> annotation. It's much shorter to use.</p>\n<p><strong>Update:</strong></p>\n<p>My pom.xml for testing:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.1.4&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-mysql&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;spring-boot-mysql&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate.validator&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate.validator&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-validator-annotation-processor&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>Just add only these dependencies to your spring boot app.</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.hibernate.validator&lt;/groupId&gt;\n        &lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.hibernate.validator&lt;/groupId&gt;\n        &lt;artifactId&gt;hibernate-validator-annotation-processor&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>I have tested. This will work 100%.</p>\n"}],"owner":{"account_id":83131,"reputation":8752,"user_id":233286,"accept_rate":73,"display_name":"ilhan"},"comment_count":16,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":161,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1697703766,"creation_date":1697637593,"question_id":77317015,"body_markdown":"I have a method with a integer parameter and I want to allow only positive or nonnegative integers. What is the best way to achieve this restriction? I have tried with annotations but they do not work.\r\n\r\nI want it to throw exception if it is a negative number.\r\n\r\n    public List&lt;UserEntity&gt; findUsersCreatedInTheLast(@NonNull @Min(value = 0) @Valid @Positive Integer minutes) {","title":"How should I prevent negative integers in Java?","body":"<p>I have a method with a integer parameter and I want to allow only positive or nonnegative integers. What is the best way to achieve this restriction? I have tried with annotations but they do not work.</p>\n<p>I want it to throw exception if it is a negative number.</p>\n<pre><code>public List&lt;UserEntity&gt; findUsersCreatedInTheLast(@NonNull @Min(value = 0) @Valid @Positive Integer minutes) {\n</code></pre>\n"},{"tags":["java","google-api","google-cloud-spanner"],"comments":[{"owner":{"account_id":10326713,"reputation":3074,"user_id":7617957,"display_name":"Knut Olav L&#248;ite"},"score":0,"creation_date":1696620206,"post_id":77246818,"comment_id":136181585,"body_markdown":"The example in your question sets the timeout- and retry settings for the `Read` RPC. This RPC is normally not used by the client library, it will normally use `StreamingRead`. Can you give an example of the part of your code that succeeded in 6.38.2 and fails in 6.45.0?","body":"The example in your question sets the timeout- and retry settings for the <code>Read</code> RPC. This RPC is normally not used by the client library, it will normally use <code>StreamingRead</code>. Can you give an example of the part of your code that succeeded in 6.38.2 and fails in 6.45.0?"},{"owner":{"account_id":224518,"reputation":1240,"user_id":1793757,"accept_rate":62,"display_name":"kpater87"},"score":0,"creation_date":1696621536,"post_id":77246818,"comment_id":136181719,"body_markdown":"I have configuration for bot `Read` and `StreamingRead` both are the same","body":"I have configuration for bot <code>Read</code> and <code>StreamingRead</code> both are the same"},{"owner":{"account_id":224518,"reputation":1240,"user_id":1793757,"accept_rate":62,"display_name":"kpater87"},"score":0,"creation_date":1696621668,"post_id":77246818,"comment_id":136181745,"body_markdown":"Regarding the example, I will try to do it, but it could be after the weekend","body":"Regarding the example, I will try to do it, but it could be after the weekend"},{"owner":{"account_id":224518,"reputation":1240,"user_id":1793757,"accept_rate":62,"display_name":"kpater87"},"score":1,"creation_date":1696854427,"post_id":77246818,"comment_id":136202185,"body_markdown":"It seems that the issue happens only when the session needs to be created. First version that has this behavior is gax 2.28.1. Before that init-rpc-timeout is not taken into account, no retries but result is provided (if got in the total timeout limit)","body":"It seems that the issue happens only when the session needs to be created. First version that has this behavior is gax 2.28.1. Before that init-rpc-timeout is not taken into account, no retries but result is provided (if got in the total timeout limit)"},{"owner":{"account_id":22733057,"reputation":1727,"user_id":16895625,"display_name":"Robert G"},"score":0,"creation_date":1696973714,"post_id":77246818,"comment_id":136220512,"body_markdown":"@kpater87, please post your answer so that it would be helpful to other community members with similar question.","body":"@kpater87, please post your answer so that it would be helpful to other community members with similar question."},{"owner":{"account_id":224518,"reputation":1240,"user_id":1793757,"accept_rate":62,"display_name":"kpater87"},"score":0,"creation_date":1697703685,"post_id":77246818,"comment_id":136313963,"body_markdown":"@RobertG I haven&#39;t put the answer before because it was rather observation than the solution. We fixed the issue by upgrading libs, details in the answer.","body":"@RobertG I haven&#39;t put the answer before because it was rather observation than the solution. We fixed the issue by upgrading libs, details in the answer."}],"answers":[{"tags":[],"owner":{"account_id":22733057,"reputation":1727,"user_id":16895625,"display_name":"Robert G"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1697574570,"creation_date":1697574570,"answer_id":77312084,"question_id":77246818,"body_markdown":"Posting this as per comment of @kpater87:\r\n\r\n&gt; It seems that the issue happens only when the session needs to be created. First version that has this behavior is gax 2.28.1. Before that init-rpc-timeout is not taken into account, no retries but result is provided (if got in the total timeout limit).\r\n\r\nYou may check this link on [Google API Extensions for Node.js][1] for reference.\r\n\r\n\r\n  [1]: https://github.com/googleapis/gax-nodejs","title":"Spanner retries doesn&#39;t work after migration from 6.38.2 to 6.45","body":"<p>Posting this as per comment of @kpater87:</p>\n<blockquote>\n<p>It seems that the issue happens only when the session needs to be created. First version that has this behavior is gax 2.28.1. Before that init-rpc-timeout is not taken into account, no retries but result is provided (if got in the total timeout limit).</p>\n</blockquote>\n<p>You may check this link on <a href=\"https://github.com/googleapis/gax-nodejs\" rel=\"nofollow noreferrer\">Google API Extensions for Node.js</a> for reference.</p>\n"},{"tags":[],"owner":{"account_id":224518,"reputation":1240,"user_id":1793757,"accept_rate":62,"display_name":"kpater87"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1697703613,"creation_date":1697703613,"answer_id":77322067,"question_id":77246818,"body_markdown":"We solved the issue by upgrading `spring-cloud-gcp-dependencies` to version 3.7.1, it contains:\r\n```\r\ncom.google.cloud:google-cloud-spanner:jar:6.49.0:compile\r\ncom.google.api:gax:jar:2.34.1:compile\r\n```\r\n\r\nVersion 3.7.0 of `spring-cloud-gcp-dependencies` was still affected by the issue, it contains:\r\n```\r\ncom.google.cloud:google-cloud-spanner:jar:6.47.0:compile\r\ncom.google.api:gax:jar:2.33.0:compile\r\n```","title":"Spanner retries doesn&#39;t work after migration from 6.38.2 to 6.45","body":"<p>We solved the issue by upgrading <code>spring-cloud-gcp-dependencies</code> to version 3.7.1, it contains:</p>\n<pre><code>com.google.cloud:google-cloud-spanner:jar:6.49.0:compile\ncom.google.api:gax:jar:2.34.1:compile\n</code></pre>\n<p>Version 3.7.0 of <code>spring-cloud-gcp-dependencies</code> was still affected by the issue, it contains:</p>\n<pre><code>com.google.cloud:google-cloud-spanner:jar:6.47.0:compile\ncom.google.api:gax:jar:2.33.0:compile\n</code></pre>\n"}],"owner":{"account_id":224518,"reputation":1240,"user_id":1793757,"accept_rate":62,"display_name":"kpater87"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1697703613,"creation_date":1696618940,"question_id":77246818,"body_markdown":"After migrating java-spanner lib from version 6.38.2 to 6.45.0 (gax migrated from 2.24 to 2.32) I have observed that retries on DEADLINE_EXCEEDED exception doesn&#39;t work.\r\n\r\nI have custom retry configuration:\r\n\r\n    SpannerStubSettings.Builder settingsBuilder = builder.getSpannerStubSettingsBuilder();\r\n    settingsBuilder.readSettings()\r\n                .setRetryableCodes({StatusCode.Code.DEADLINE_EXCEEDED, StatusCode.Code.UNAVAILABLE})\r\n                .setRetrySettings(\r\n                    RetrySettings.newBuilder()\r\n                        .setInitialRetryDelay(Duration.ofMillis(10))\r\n                        .setMaxRetryDelay(Duration.ofMillis(200))\r\n                        .setRetryDelayMultiplier(1.5)\r\n                        .setInitialRpcTimeout(Duration.ofMillis(100))\r\n                        .setMaxRpcTimeout(Duration.ofMillis(1000))\r\n                        .setRpcTimeoutMultiplier(1.5)\r\n                        .setTotalTimeout(Duration.ofMillis(2000))\r\n                        .build());\r\n\r\nHaving that and version 6.45.0 of the java-spanner lib many requests are ending up with exception DEADLINE_EXCEEDED after 0.0999s, so after initial RPC timeout, no retries after it. Before retries were applied and requests ended up with success.\r\n\r\nHow can it be explained? I&#39;ve checked changes in the lib repository (both java-spanner and gax) but couldn&#39;t match anything for this specific behavior.\r\n\r\n","title":"Spanner retries doesn&#39;t work after migration from 6.38.2 to 6.45","body":"<p>After migrating java-spanner lib from version 6.38.2 to 6.45.0 (gax migrated from 2.24 to 2.32) I have observed that retries on DEADLINE_EXCEEDED exception doesn't work.</p>\n<p>I have custom retry configuration:</p>\n<pre><code>SpannerStubSettings.Builder settingsBuilder = builder.getSpannerStubSettingsBuilder();\nsettingsBuilder.readSettings()\n            .setRetryableCodes({StatusCode.Code.DEADLINE_EXCEEDED, StatusCode.Code.UNAVAILABLE})\n            .setRetrySettings(\n                RetrySettings.newBuilder()\n                    .setInitialRetryDelay(Duration.ofMillis(10))\n                    .setMaxRetryDelay(Duration.ofMillis(200))\n                    .setRetryDelayMultiplier(1.5)\n                    .setInitialRpcTimeout(Duration.ofMillis(100))\n                    .setMaxRpcTimeout(Duration.ofMillis(1000))\n                    .setRpcTimeoutMultiplier(1.5)\n                    .setTotalTimeout(Duration.ofMillis(2000))\n                    .build());\n</code></pre>\n<p>Having that and version 6.45.0 of the java-spanner lib many requests are ending up with exception DEADLINE_EXCEEDED after 0.0999s, so after initial RPC timeout, no retries after it. Before retries were applied and requests ended up with success.</p>\n<p>How can it be explained? I've checked changes in the lib repository (both java-spanner and gax) but couldn't match anything for this specific behavior.</p>\n"},{"tags":["java","hyperlink","native","opencl"],"comments":[{"owner":{"account_id":113969,"reputation":120826,"user_id":299924,"accept_rate":94,"display_name":"trojanfoe"},"score":1,"creation_date":1294777449,"post_id":4662106,"comment_id":5136222,"body_markdown":"As a note about $LD_LIBRARY_PATH, I always prefer to add a file into /etc/ld.so.conf.d and then run &#39;ldconfig&#39;.","body":"As a note about $LD_LIBRARY_PATH, I always prefer to add a file into /etc/ld.so.conf.d and then run &#39;ldconfig&#39;."},{"owner":{"account_id":273624,"reputation":7478,"user_id":565342,"accept_rate":100,"display_name":"gabuzo"},"score":0,"creation_date":1294778045,"post_id":4662106,"comment_id":5136359,"body_markdown":"What&#39;s displayed if you print `System.getProperty(&quot;java.library.path&quot;)` before loading the library?","body":"What&#39;s displayed if you print <code>System.getProperty(&quot;java.library.path&quot;)</code> before loading the library?"},{"owner":{"account_id":211735,"reputation":9951,"user_id":1202394,"accept_rate":88,"display_name":"smuggledPancakes"},"score":0,"creation_date":1294779860,"post_id":4662106,"comment_id":5136733,"body_markdown":"I get something I didn&#39;t expect, a directory within my application. Some code or some project settings I am not aware of probably set it to what it is: java.library.path: /home/&lt;my_username&gt;/Desktop/bp-trunk/app/BlueprintCore/nativelib","body":"I get something I didn&#39;t expect, a directory within my application. Some code or some project settings I am not aware of probably set it to what it is: java.library.path: /home/&lt;my_username&gt;/Desktop/bp-trunk/app/BlueprintCore/nativ&zwnj;&#8203;elib"}],"answers":[{"comments":[{"owner":{"account_id":211735,"reputation":9951,"user_id":1202394,"accept_rate":88,"display_name":"smuggledPancakes"},"score":0,"creation_date":1294778208,"post_id":4662175,"comment_id":5136385,"body_markdown":"Thanks for suggesting to do a System.out.println(System.getProperty(&quot;java.library.path&quot;)). I did not realize my application was looking for my native libs in a different location. Now the error is gone! Thanks again :)","body":"Thanks for suggesting to do a System.out.println(System.getProperty(&quot;java.library.path&quot;)). I did not realize my application was looking for my native libs in a different location. Now the error is gone! Thanks again :)"},{"owner":{"account_id":35787,"reputation":2177,"user_id":101647,"accept_rate":40,"display_name":"time4tea"},"score":0,"creation_date":1294780268,"post_id":4662175,"comment_id":5136831,"body_markdown":"No problem - BTW - the difference between LD_LIBRARY_PATH and java.library.path is most obvious when the library that java loads has some dependent libraries that it must load in turn. The java.library.path will have no effect. Remember you can always load the library by hand yourself from an explicit location (but this is best reserved for more complex use cases)","body":"No problem - BTW - the difference between LD_LIBRARY_PATH and java.library.path is most obvious when the library that java loads has some dependent libraries that it must load in turn. The java.library.path will have no effect. Remember you can always load the library by hand yourself from an explicit location (but this is best reserved for more complex use cases)"},{"owner":{"account_id":1124287,"reputation":6080,"user_id":1111929,"accept_rate":87,"display_name":"user1111929"},"score":2,"creation_date":1330614202,"post_id":4662175,"comment_id":12055796,"body_markdown":"Pardon my ignorance but could someone explain me how exactly the issue was solved then, i.e. what should be added to the java.library.path to make it work? JOCL only contains a JAR file which probably contains these libraries somewhere deep within, but it&#39;s not clear to me at all which path to supply then.","body":"Pardon my ignorance but could someone explain me how exactly the issue was solved then, i.e. what should be added to the java.library.path to make it work? JOCL only contains a JAR file which probably contains these libraries somewhere deep within, but it&#39;s not clear to me at all which path to supply then."}],"tags":[],"owner":{"account_id":35787,"reputation":2177,"user_id":101647,"accept_rate":40,"display_name":"time4tea"},"comment_count":3,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1294777129,"creation_date":1294777129,"answer_id":4662175,"question_id":4662106,"body_markdown":"LD_LIBRARY_PATH and java.library.path are not the same, although they are similar. On the command line set -Djava.library.path to the place that your library is in.\r\n\r\nor, even - System.out.println(System.getProperty(&quot;java.library.path&quot;)) just before loading the library - to see what it thinks the path is...","title":"java.lang.UnsatisfiedLinkError, I can&#39;t resolve it","body":"<p>LD_LIBRARY_PATH and java.library.path are not the same, although they are similar. On the command line set -Djava.library.path to the place that your library is in.</p>\n\n<p>or, even - System.out.println(System.getProperty(\"java.library.path\")) just before loading the library - to see what it thinks the path is...</p>\n"}],"owner":{"account_id":211735,"reputation":9951,"user_id":1202394,"accept_rate":88,"display_name":"smuggledPancakes"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4981,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":4662175,"answer_count":1,"score":2,"last_activity_date":1697703351,"creation_date":1294776706,"question_id":4662106,"body_markdown":"I am trying to setup a program that uses Java and OpenCL. I am using JOCL&#39;s bindings for this. Here is the error I get when I build from Ant:\r\n```\r\nError while loading native library &quot;JOCL-linux-x86_64&quot; with base name &quot;JOCL&quot;\r\n    Operating system name: Linux\r\n    Architecture         : amd64\r\n    Architecture bit size: 64\r\n    Stack trace:\r\n    java.lang.UnsatisfiedLinkError: no JOCL-linux-x86_64 in java.library.path\r\n        at java.lang.ClassLoader.loadLibrary(ClassLoader.java:1734)\r\n        at java.lang.Runtime.loadLibrary0(Runtime.java:823)\r\n        ...\r\n        ...\r\n```\r\n\r\nHere is my .bashrc setup:\r\n```lang-bash\r\nexport PATH=.:/bin:/usr/bin:/usr/local/bin://home/djkashta/Desktop/bp-trunk/app/BlueprintCore/scripts:/usr/java/jdk1.6.0_23/bin\r\n\r\nexport LD_LIBRARY_PATH=/usr/local/cuda/lib:/usr/local/cuda/lib64:/usr/lib:/usr/local/lib:/usr/local/cuda/computeprof/bin:/home/djkashta/Desktop/bp-trunk/bundles/CopperShark/native/linux/2.6.28/x86_64/:/usr/java:/usr/java/jdk1.6.0_23/bin/java:/usr/java/jdk1.6.0_23:/usr/java/jdk1.6.0_23/bin:/usr/lib/jvm\r\n\r\nexport LD_PRELOAD=/usr/java/jdk1.6.0_23/jre/lib/amd64/libjsig.so\r\n\r\nexport JDK_HOME=/usr/java/jdk1.6.0_23\r\n\r\nexport JAVA_HOME=/usr/java/jdk1.6.0_23\r\nexport ANT_HOME=/opt/apache-ant-1.7.1\r\n```\r\n\r\nI don&#39;t understand why I have this problem. I don&#39;t get this on my Ubuntu machine which is setup just like this RedHat machine. The `libJOCL-linux-x86_64.so` is present in one of the `LD_LIBRARY_PATH`. If I do which Java, I get: `/usr/java/jdk1.6.0_23/bin/java`\r\n\r\nAny ideas? I am stuck...\r\n\r\n","title":"java.lang.UnsatisfiedLinkError, I can&#39;t resolve it","body":"<p>I am trying to setup a program that uses Java and OpenCL. I am using JOCL's bindings for this. Here is the error I get when I build from Ant:</p>\n<pre><code>Error while loading native library &quot;JOCL-linux-x86_64&quot; with base name &quot;JOCL&quot;\n    Operating system name: Linux\n    Architecture         : amd64\n    Architecture bit size: 64\n    Stack trace:\n    java.lang.UnsatisfiedLinkError: no JOCL-linux-x86_64 in java.library.path\n        at java.lang.ClassLoader.loadLibrary(ClassLoader.java:1734)\n        at java.lang.Runtime.loadLibrary0(Runtime.java:823)\n        ...\n        ...\n</code></pre>\n<p>Here is my .bashrc setup:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>export PATH=.:/bin:/usr/bin:/usr/local/bin://home/djkashta/Desktop/bp-trunk/app/BlueprintCore/scripts:/usr/java/jdk1.6.0_23/bin\n\nexport LD_LIBRARY_PATH=/usr/local/cuda/lib:/usr/local/cuda/lib64:/usr/lib:/usr/local/lib:/usr/local/cuda/computeprof/bin:/home/djkashta/Desktop/bp-trunk/bundles/CopperShark/native/linux/2.6.28/x86_64/:/usr/java:/usr/java/jdk1.6.0_23/bin/java:/usr/java/jdk1.6.0_23:/usr/java/jdk1.6.0_23/bin:/usr/lib/jvm\n\nexport LD_PRELOAD=/usr/java/jdk1.6.0_23/jre/lib/amd64/libjsig.so\n\nexport JDK_HOME=/usr/java/jdk1.6.0_23\n\nexport JAVA_HOME=/usr/java/jdk1.6.0_23\nexport ANT_HOME=/opt/apache-ant-1.7.1\n</code></pre>\n<p>I don't understand why I have this problem. I don't get this on my Ubuntu machine which is setup just like this RedHat machine. The <code>libJOCL-linux-x86_64.so</code> is present in one of the <code>LD_LIBRARY_PATH</code>. If I do which Java, I get: <code>/usr/java/jdk1.6.0_23/bin/java</code></p>\n<p>Any ideas? I am stuck...</p>\n"},{"tags":["java","apache-kafka","apache-kafka-streams"],"comments":[{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1636124184,"post_id":69850566,"comment_id":123480572,"body_markdown":"Would you mind showing the streams code you&#39;ve tried so far?","body":"Would you mind showing the streams code you&#39;ve tried so far?"},{"owner":{"account_id":6051517,"reputation":227,"user_id":6817506,"accept_rate":71,"display_name":"ks_on_v"},"score":0,"creation_date":1636125686,"post_id":69850566,"comment_id":123481214,"body_markdown":"@OneCricketeer code was added","body":"@OneCricketeer code was added"},{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1636125969,"post_id":69850566,"comment_id":123481338,"body_markdown":"You say you are &quot;producing data like this&quot;... Which does not include `Mike` or `John`, so where did those come from?","body":"You say you are &quot;producing data like this&quot;... Which does not include <code>Mike</code> or <code>John</code>, so where did those come from?"},{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1636126050,"post_id":69850566,"comment_id":123481382,"body_markdown":"And what are you using to view the actual data? I suggest you start with `kafka-console-consumer`, not a UI tool","body":"And what are you using to view the actual data? I suggest you start with <code>kafka-console-consumer</code>, not a UI tool"},{"owner":{"account_id":6051517,"reputation":227,"user_id":6817506,"accept_rate":71,"display_name":"ks_on_v"},"score":0,"creation_date":1636126399,"post_id":69850566,"comment_id":123481521,"body_markdown":"@OneCricketeer Mike, John are keys. I`m using https://www.conduktor.io/","body":"@OneCricketeer Mike, John are keys. I`m using <a href=\"https://www.conduktor.io/\" rel=\"nofollow noreferrer\">conduktor.io</a>"},{"owner":{"account_id":6051517,"reputation":227,"user_id":6817506,"accept_rate":71,"display_name":"ks_on_v"},"score":0,"creation_date":1636126579,"post_id":69850566,"comment_id":123481593,"body_markdown":"@OneCricketeer description was refactored","body":"@OneCricketeer description was refactored"},{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1636126696,"post_id":69850566,"comment_id":123481640,"body_markdown":"Okay, so if you just want to count the keys, then why does your code use `v.get(&quot;amount&quot;)`?","body":"Okay, so if you just want to count the keys, then why does your code use <code>v.get(&quot;amount&quot;)</code>?"},{"owner":{"account_id":6051517,"reputation":227,"user_id":6817506,"accept_rate":71,"display_name":"ks_on_v"},"score":0,"creation_date":1636126860,"post_id":69850566,"comment_id":123481709,"body_markdown":"@OneCricketeer early i had name on value object. But after i moved name in key. I think it will easy to count","body":"@OneCricketeer early i had name on value object. But after i moved name in key. I think it will easy to count"},{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1636127156,"post_id":69850566,"comment_id":123481813,"body_markdown":"It doesn&#39;t really matter where the name is located. I&#39;m asking why you think you need to parse out the `amount` field, or even deserialize the value as JSON if you dont care about the actual values?","body":"It doesn&#39;t really matter where the name is located. I&#39;m asking why you think you need to parse out the <code>amount</code> field, or even deserialize the value as JSON if you dont care about the actual values?"}],"answers":[{"comments":[{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1636124142,"post_id":69851151,"comment_id":123480546,"body_markdown":"The question did include information about the key","body":"The question did include information about the key"}],"tags":[],"owner":{"account_id":6211517,"reputation":362,"user_id":4837677,"accept_rate":83,"display_name":"Luigi Cerone"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673621847,"creation_date":1636104969,"answer_id":69851151,"question_id":69850566,"body_markdown":"You could adapt this [official Confluent Example](https://kafka-tutorials.confluent.io/create-stateful-aggregation-count/kstreams.html) to your use case. The example is very similar to what you are asking.\r\n\r\nTo explain this further, you need to create a stream application in which you read data from the topic into a `KStream`. You haven&#39;t provided information about your key. In the Confluent example, records are repartitioned explicitly using `map()` method, creating a new `KeyValue` instance for each record (you could do something like using `amount` as key). Then events are grouped by key and counted.","title":"Create Kafka Stream for count amount from value","body":"<p>You could adapt this <a href=\"https://kafka-tutorials.confluent.io/create-stateful-aggregation-count/kstreams.html\" rel=\"nofollow noreferrer\">official Confluent Example</a> to your use case. The example is very similar to what you are asking.</p>\n<p>To explain this further, you need to create a stream application in which you read data from the topic into a <code>KStream</code>. You haven't provided information about your key. In the Confluent example, records are repartitioned explicitly using <code>map()</code> method, creating a new <code>KeyValue</code> instance for each record (you could do something like using <code>amount</code> as key). Then events are grouped by key and counted.</p>\n"},{"tags":[],"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1636127345,"creation_date":1636127345,"answer_id":69855867,"question_id":69850566,"body_markdown":"If you simply want to count the keys, then you can discard the whole value and replace it with a `1` for every key that is seen. \r\n\r\n    KStream&lt;String, Bytes&gt; textLines = builder.stream(&quot;bank-transactions&quot;, Consumed.with(Serdes.String(), Serdes.Bytes()));\r\n    KTable&lt;String, Long&gt; wordCounts = textLines\r\n            .mapValues(v -&gt; 1L)\r\n            .groupByKey(Serialized.with(Serdes.String(), Serdes.Long()))\r\n            .count();\r\n\r\n    wordCounts.toStream().to(&quot;person-transaction-frequency&quot;, Produced.with(Serdes.String(), Serdes.Long()));\r\n","title":"Create Kafka Stream for count amount from value","body":"<p>If you simply want to count the keys, then you can discard the whole value and replace it with a <code>1</code> for every key that is seen.</p>\n<pre><code>KStream&lt;String, Bytes&gt; textLines = builder.stream(&quot;bank-transactions&quot;, Consumed.with(Serdes.String(), Serdes.Bytes()));\nKTable&lt;String, Long&gt; wordCounts = textLines\n        .mapValues(v -&gt; 1L)\n        .groupByKey(Serialized.with(Serdes.String(), Serdes.Long()))\n        .count();\n\nwordCounts.toStream().to(&quot;person-transaction-frequency&quot;, Produced.with(Serdes.String(), Serdes.Long()));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1967626,"reputation":1413,"user_id":1767424,"accept_rate":0,"display_name":"Karthik"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697702855,"creation_date":1697702855,"answer_id":77321991,"question_id":69850566,"body_markdown":"Count writes the value with Long Serdes, so when you are viewing it using tools like Conduktor, make sure the right value format (long in this case) is used.","title":"Create Kafka Stream for count amount from value","body":"<p>Count writes the value with Long Serdes, so when you are viewing it using tools like Conduktor, make sure the right value format (long in this case) is used.</p>\n"}],"owner":{"account_id":6051517,"reputation":227,"user_id":6817506,"accept_rate":71,"display_name":"ks_on_v"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":951,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69855867,"answer_count":3,"score":0,"last_activity_date":1697702855,"creation_date":1636102003,"question_id":69850566,"body_markdown":"I`m producing data like:\r\n\r\n    Key: &quot;Mike&quot;, value: {&quot;amount&quot;:46,&quot;time&quot;:&quot;2021-11-05T07:53:32.005751Z&quot;}\r\n    Key: &quot;John&quot;, value: {&quot;amount&quot;:46,&quot;time&quot;:&quot;2021-11-05T07:53:32.005751Z&quot;}\r\n    Key: &quot;Mike&quot;, value: {&quot;amount&quot;:50,&quot;time&quot;:&quot;2021-11-05T07:53:32.005751Z&quot;}\r\n\r\nKey is String (Names like Alice, John...).\r\nFor example i need in result:\r\n\r\n    {&quot;Mike&quot;: 2}\r\n    {&quot;John&quot;: 1}\r\nor \r\n\r\n    {&quot;key&quot;:&quot;Mike&quot;, &quot;count&quot;: 2}\r\n    {&quot;key&quot;:&quot;John&quot;, &quot;count&quot;: 1}\r\n\r\nI tried next:\r\n\r\n       public Topology createTopology(){\r\n        StreamsBuilder builder = new StreamsBuilder();\r\n        // json Serde\r\n        final Serializer&lt;JsonNode&gt; jsonSerializer = new JsonSerializer();\r\n        final Deserializer&lt;JsonNode&gt; jsonDeserializer = new JsonDeserializer();\r\n        final Serde&lt;JsonNode&gt; jsonSerde = Serdes.serdeFrom(jsonSerializer, jsonDeserializer);\r\n\r\n        KStream&lt;String, JsonNode&gt; textLines = builder.stream(&quot;bank-transactions&quot;, Consumed.with(Serdes.String(), jsonSerde));\r\n        KTable&lt;String, Long&gt; wordCounts = textLines\r\n                .map((k, v) -&gt; new KeyValue&lt;&gt;(k, v.get(&quot;amount&quot;).asInt()))\r\n                .groupByKey(Serialized.with(Serdes.String(), Serdes.Integer()))\r\n                .count();\r\n\r\n        wordCounts.toStream().to(&quot;person-transaction-frequency&quot;, Produced.with(Serdes.String(), Serdes.Long()));\r\n\r\n        return builder.build();\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        Properties config = new Properties();\r\n        config.put(StreamsConfig.APPLICATION_ID_CONFIG, &quot;bank-favorite-amount-application&quot;);\r\n        config.put(StreamsConfig.BOOTSTRAP_SERVERS_CONFIG, &quot;127.0.0.1:29092&quot;);\r\n        config.put(ConsumerConfig.AUTO_OFFSET_RESET_CONFIG, &quot;earliest&quot;);\r\n        config.put(StreamsConfig.DEFAULT_KEY_SERDE_CLASS_CONFIG, Serdes.String().getClass());\r\n        config.put(StreamsConfig.DEFAULT_VALUE_SERDE_CLASS_CONFIG, Serdes.String().getClass());\r\n\r\n        Mc4CalculateFavoriteAmount wordCountApp = new Mc4CalculateFavoriteAmount();\r\n\r\n        KafkaStreams streams = new KafkaStreams(wordCountApp.createTopology(), config);\r\n        streams.start();\r\n\r\n        // shutdown hook to correctly close the streams application\r\n        Runtime.getRuntime().addShutdownHook(new Thread(streams::close));\r\n    }\r\n\r\nI`m trying to count messages with by names. But i got artifacts in topic:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/NEf3w.png","title":"Create Kafka Stream for count amount from value","body":"<p>I`m producing data like:</p>\n<pre><code>Key: &quot;Mike&quot;, value: {&quot;amount&quot;:46,&quot;time&quot;:&quot;2021-11-05T07:53:32.005751Z&quot;}\nKey: &quot;John&quot;, value: {&quot;amount&quot;:46,&quot;time&quot;:&quot;2021-11-05T07:53:32.005751Z&quot;}\nKey: &quot;Mike&quot;, value: {&quot;amount&quot;:50,&quot;time&quot;:&quot;2021-11-05T07:53:32.005751Z&quot;}\n</code></pre>\n<p>Key is String (Names like Alice, John...).\nFor example i need in result:</p>\n<pre><code>{&quot;Mike&quot;: 2}\n{&quot;John&quot;: 1}\n</code></pre>\n<p>or</p>\n<pre><code>{&quot;key&quot;:&quot;Mike&quot;, &quot;count&quot;: 2}\n{&quot;key&quot;:&quot;John&quot;, &quot;count&quot;: 1}\n</code></pre>\n<p>I tried next:</p>\n<pre><code>   public Topology createTopology(){\n    StreamsBuilder builder = new StreamsBuilder();\n    // json Serde\n    final Serializer&lt;JsonNode&gt; jsonSerializer = new JsonSerializer();\n    final Deserializer&lt;JsonNode&gt; jsonDeserializer = new JsonDeserializer();\n    final Serde&lt;JsonNode&gt; jsonSerde = Serdes.serdeFrom(jsonSerializer, jsonDeserializer);\n\n    KStream&lt;String, JsonNode&gt; textLines = builder.stream(&quot;bank-transactions&quot;, Consumed.with(Serdes.String(), jsonSerde));\n    KTable&lt;String, Long&gt; wordCounts = textLines\n            .map((k, v) -&gt; new KeyValue&lt;&gt;(k, v.get(&quot;amount&quot;).asInt()))\n            .groupByKey(Serialized.with(Serdes.String(), Serdes.Integer()))\n            .count();\n\n    wordCounts.toStream().to(&quot;person-transaction-frequency&quot;, Produced.with(Serdes.String(), Serdes.Long()));\n\n    return builder.build();\n}\n\npublic static void main(String[] args) {\n    Properties config = new Properties();\n    config.put(StreamsConfig.APPLICATION_ID_CONFIG, &quot;bank-favorite-amount-application&quot;);\n    config.put(StreamsConfig.BOOTSTRAP_SERVERS_CONFIG, &quot;127.0.0.1:29092&quot;);\n    config.put(ConsumerConfig.AUTO_OFFSET_RESET_CONFIG, &quot;earliest&quot;);\n    config.put(StreamsConfig.DEFAULT_KEY_SERDE_CLASS_CONFIG, Serdes.String().getClass());\n    config.put(StreamsConfig.DEFAULT_VALUE_SERDE_CLASS_CONFIG, Serdes.String().getClass());\n\n    Mc4CalculateFavoriteAmount wordCountApp = new Mc4CalculateFavoriteAmount();\n\n    KafkaStreams streams = new KafkaStreams(wordCountApp.createTopology(), config);\n    streams.start();\n\n    // shutdown hook to correctly close the streams application\n    Runtime.getRuntime().addShutdownHook(new Thread(streams::close));\n}\n</code></pre>\n<p>I`m trying to count messages with by names. But i got artifacts in topic:</p>\n<p><a href=\"https://i.stack.imgur.com/NEf3w.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/NEf3w.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","swing","modal-dialog","jframe"],"comments":[{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":1,"creation_date":1360667342,"post_id":1481405,"comment_id":20779853,"body_markdown":"See also [The Use of Multiple JFrames, Good/Bad Practice?](http://stackoverflow.com/a/9554657/418556)","body":"See also <a href=\"http://stackoverflow.com/a/9554657/418556\">The Use of Multiple JFrames, Good/Bad Practice?</a>"}],"answers":[{"comments":[{"owner":{"account_id":8655,"reputation":20729,"user_id":15689,"accept_rate":91,"display_name":"Brian Knoblauch"},"score":3,"creation_date":1291993691,"post_id":1481423,"comment_id":4809233,"body_markdown":"Afraid that appears to be the only solution.  I&#39;m fighting this same problem with some inherited code.  I&#39;ve got a JFrame that I really need to be modal.  Doing the work to convert it all to JDialog is really going to be ugly...  :-(","body":"Afraid that appears to be the only solution.  I&#39;m fighting this same problem with some inherited code.  I&#39;ve got a JFrame that I really need to be modal.  Doing the work to convert it all to JDialog is really going to be ugly...  :-("},{"owner":{"account_id":75320,"reputation":2529,"user_id":216104,"accept_rate":91,"display_name":"Redandwhite"},"score":0,"creation_date":1348401921,"post_id":1481423,"comment_id":16905016,"body_markdown":"Can you hack it through? Create an invisible, modal JDialog, make it instantiate the JFrame, and, when the JFrame is closed, capture the values if necessary, and close the JDialog","body":"Can you hack it through? Create an invisible, modal JDialog, make it instantiate the JFrame, and, when the JFrame is closed, capture the values if necessary, and close the JDialog"},{"owner":{"account_id":1411844,"reputation":1631,"user_id":1338280,"accept_rate":100,"display_name":"Spork"},"score":2,"creation_date":1363962922,"post_id":1481423,"comment_id":22074729,"body_markdown":"The link is broken :( still people trying to learn from this 3 years on! Try this in 2013: http://docs.oracle.com/javase/tutorial/uiswing/misc/modality.html","body":"The link is broken :( still people trying to learn from this 3 years on! Try this in 2013: <a href=\"http://docs.oracle.com/javase/tutorial/uiswing/misc/modality.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/uiswing/misc/modality.html</a>"},{"owner":{"account_id":36166,"reputation":38849,"user_id":103043,"display_name":"akf"},"score":0,"creation_date":1364032266,"post_id":1481423,"comment_id":22097038,"body_markdown":"updated link to original article &amp; added sporks tutorial link - thanks.","body":"updated link to original article &amp; added sporks tutorial link - thanks."},{"owner":{"account_id":114151,"reputation":32353,"user_id":300311,"accept_rate":88,"display_name":"Erick Robertson"},"score":0,"creation_date":1433251254,"post_id":1481423,"comment_id":49263021,"body_markdown":"I didn&#39;t find changing over to JDialog ugly at all.  This was an easy change.","body":"I didn&#39;t find changing over to JDialog ugly at all.  This was an easy change."}],"tags":[],"owner":{"account_id":36166,"reputation":38849,"user_id":103043,"display_name":"akf"},"comment_count":5,"down_vote_count":2,"up_vote_count":79,"is_accepted":true,"score":77,"last_activity_date":1433251570,"creation_date":1253978030,"answer_id":1481423,"question_id":1481405,"body_markdown":"Your best bet is to use a JDialog instead of a JFrame if you want to make the window modal.  Check out [details on the introduction of the Modality API in Java 6][1] for info.  There is also [a tutorial][2]. \r\n\r\nHere is some sample code which will display a `JPanel panel` in a `JDialog` which is modal to `Frame parentFrame`.  Except for the constructor, this follows the same pattern as opening a `JFrame`.\r\n\r\n\tfinal JDialog frame = new JDialog(parentFrame, frameTitle, true);\r\n\tframe.getContentPane().add(panel);\r\n\tframe.pack();\r\n\tframe.setVisible(true);\r\n\r\nEdit: updated Modality API link &amp; added tutorial link (nod to @spork for the bump).  \r\n\r\n  [original]: http://java.sun.com/developer/technicalArticles/J2SE/Desktop/javase6/modality/\r\n  [1]: http://www.oracle.com/technetwork/articles/javase/index-140695.html\r\n  [2]: http://docs.oracle.com/javase/tutorial/uiswing/misc/modality.html ","title":"How to make a JFrame Modal in Swing java","body":"<p>Your best bet is to use a JDialog instead of a JFrame if you want to make the window modal.  Check out <a href=\"http://www.oracle.com/technetwork/articles/javase/index-140695.html\" rel=\"noreferrer\">details on the introduction of the Modality API in Java 6</a> for info.  There is also <a href=\"http://docs.oracle.com/javase/tutorial/uiswing/misc/modality.html\" rel=\"noreferrer\">a tutorial</a>. </p>\n\n<p>Here is some sample code which will display a <code>JPanel panel</code> in a <code>JDialog</code> which is modal to <code>Frame parentFrame</code>.  Except for the constructor, this follows the same pattern as opening a <code>JFrame</code>.</p>\n\n<pre><code>final JDialog frame = new JDialog(parentFrame, frameTitle, true);\nframe.getContentPane().add(panel);\nframe.pack();\nframe.setVisible(true);\n</code></pre>\n\n<p>Edit: updated Modality API link &amp; added tutorial link (nod to @spork for the bump).  </p>\n"},{"tags":[],"owner":{"account_id":58854,"reputation":25269,"user_id":176180,"accept_rate":72,"display_name":"NawaMan"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1431091901,"creation_date":1253978045,"answer_id":1481424,"question_id":1481405,"body_markdown":"As far as I know, JFrame cannot do Modal mode. Use JDialog instead and call [`setModalityType(Dialog.ModalityType type)`][link] to set it to be modal (or not modal).\r\n\r\n\r\n  [link]: https://docs.oracle.com/javase/8/docs/api/java/awt/Dialog.html#setModalityType-java.awt.Dialog.ModalityType-","title":"How to make a JFrame Modal in Swing java","body":"<p>As far as I know, JFrame cannot do Modal mode. Use JDialog instead and call <a href=\"https://docs.oracle.com/javase/8/docs/api/java/awt/Dialog.html#setModalityType-java.awt.Dialog.ModalityType-\" rel=\"nofollow noreferrer\"><code>setModalityType(Dialog.ModalityType type)</code></a> to set it to be modal (or not modal).</p>\n"},{"comments":[{"owner":{"account_id":1249289,"reputation":3789,"user_id":1422630,"accept_rate":55,"display_name":"Aquarius Power"},"score":0,"creation_date":1452821195,"post_id":9152515,"comment_id":57348891,"body_markdown":"nice, made me think on a loop to &quot;suspend&quot; (sleep) the application while the frame isVisible(), thx!","body":"nice, made me think on a loop to &quot;suspend&quot; (sleep) the application while the frame isVisible(), thx!"},{"owner":{"account_id":2478866,"reputation":239,"user_id":2158840,"accept_rate":0,"display_name":"Ed S"},"score":0,"creation_date":1495639100,"post_id":9152515,"comment_id":75341454,"body_markdown":"Kamil, Imgonzalves, can you clarify for me? Are you saying the new class should be  created in the JDialog, JFrame or whatever that creates the OP&#39;s subject JFrame?","body":"Kamil, Imgonzalves, can you clarify for me? Are you saying the new class should be  created in the JDialog, JFrame or whatever that creates the OP&#39;s subject JFrame?"}],"tags":[],"owner":{"account_id":1225456,"reputation":201,"user_id":1191085,"display_name":"Kamil"},"comment_count":2,"down_vote_count":0,"up_vote_count":20,"is_accepted":false,"score":20,"last_activity_date":1505672650,"creation_date":1328472136,"answer_id":9152515,"question_id":1481405,"body_markdown":"You can create a class that is passed a reference to the parent `JFrame` and holds it in a `JFrame` variable. Then you can lock the frame that created your new frame. \r\n\r\n    parentFrame.disable();\r\n\r\n    //Some actions\r\n\r\n    parentFrame.enable();","title":"How to make a JFrame Modal in Swing java","body":"<p>You can create a class that is passed a reference to the parent <code>JFrame</code> and holds it in a <code>JFrame</code> variable. Then you can lock the frame that created your new frame. </p>\n\n<pre><code>parentFrame.disable();\n\n//Some actions\n\nparentFrame.enable();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1767825,"reputation":53,"user_id":1613234,"display_name":"Ryan"},"comment_count":0,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1351004900,"creation_date":1351004900,"answer_id":13033559,"question_id":1481405,"body_markdown":"not sure the contetns of your JFrame, if you ask some input from users, you can use JOptionPane, this also can set JFrame as modal\r\n\r\n                JFrame frame = new JFrame();\r\n    \t\t    String bigList[] = new String[30];\r\n    \r\n    \t\t    for (int i = 0; i &lt; bigList.length; i++) {\r\n    \t\t      bigList[i] = Integer.toString(i);\r\n    \t\t    }\r\n    \r\n    \t\t    JOptionPane.showInputDialog(\r\n    \t\t    \t\tframe, \r\n    \t\t    \t\t&quot;Select a item&quot;, \r\n    \t\t    \t\t&quot;The List&quot;, \r\n    \t\t    \t\tJOptionPane.PLAIN_MESSAGE,\r\n    \t\t    \t\tnull,\r\n    \t\t    \t\tbigList,\r\n    \t\t    \t\t&quot;none&quot;);\r\n    \t\t\t}\r\n\r\n","title":"How to make a JFrame Modal in Swing java","body":"<p>not sure the contetns of your JFrame, if you ask some input from users, you can use JOptionPane, this also can set JFrame as modal</p>\n\n<pre><code>            JFrame frame = new JFrame();\n            String bigList[] = new String[30];\n\n            for (int i = 0; i &lt; bigList.length; i++) {\n              bigList[i] = Integer.toString(i);\n            }\n\n            JOptionPane.showInputDialog(\n                    frame, \n                    \"Select a item\", \n                    \"The List\", \n                    JOptionPane.PLAIN_MESSAGE,\n                    null,\n                    bigList,\n                    \"none\");\n            }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1092885,"reputation":37679,"user_id":1087131,"accept_rate":54,"display_name":"Stephen Paul"},"comment_count":0,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1392973275,"creation_date":1354815324,"answer_id":13749271,"question_id":1481405,"body_markdown":"If you&#39;re prepared to use a JDialog instead of a JFrame, you can set the **ModalityType** to **APPLICATION_MODAL**.\r\n\r\nThis provides identical behaviour to your typical JOptionPane:\r\n\r\n    import java.awt.event.ActionEvent;\r\n    import javax.swing.*;\r\n    import java.awt.*;\r\n    import java.awt.event.ActionListener;\r\n\r\n    public class MyDialog extends JFrame {\r\n\r\n    public MyDialog() {\r\n        setBounds(300, 300, 300, 300);\r\n        setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        setVisible(true);\r\n        setLayout(new FlowLayout());\r\n        JButton btn = new JButton(&quot;TEST&quot;);\r\n        add(btn);\r\n        btn.addActionListener(new ActionListener() \r\n        {\r\n\r\n            @Override\r\n            public void actionPerformed(ActionEvent e) {\r\n                showDialog();\r\n            }\r\n        });\r\n    }\r\n    \r\n    private void showDialog() \r\n    {\r\n        \r\n        JDialog dialog = new JDialog(this, Dialog.ModalityType.APPLICATION_MODAL);\r\n        //OR, you can do the following...\r\n        //JDialog dialog = new JDialog();\r\n        //dialog.setModalityType(Dialog.ModalityType.APPLICATION_MODAL);\r\n        \r\n        dialog.setBounds(350, 350, 200, 200);\r\n        dialog.setVisible(true);\r\n    }\r\n    \r\n    public static void main(String[] args) \r\n    {\r\n        new MyDialog();\r\n    }\r\n    }","title":"How to make a JFrame Modal in Swing java","body":"<p>If you're prepared to use a JDialog instead of a JFrame, you can set the <strong>ModalityType</strong> to <strong>APPLICATION_MODAL</strong>.</p>\n\n<p>This provides identical behaviour to your typical JOptionPane:</p>\n\n<pre><code>import java.awt.event.ActionEvent;\nimport javax.swing.*;\nimport java.awt.*;\nimport java.awt.event.ActionListener;\n\npublic class MyDialog extends JFrame {\n\npublic MyDialog() {\n    setBounds(300, 300, 300, 300);\n    setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n    setVisible(true);\n    setLayout(new FlowLayout());\n    JButton btn = new JButton(\"TEST\");\n    add(btn);\n    btn.addActionListener(new ActionListener() \n    {\n\n        @Override\n        public void actionPerformed(ActionEvent e) {\n            showDialog();\n        }\n    });\n}\n\nprivate void showDialog() \n{\n\n    JDialog dialog = new JDialog(this, Dialog.ModalityType.APPLICATION_MODAL);\n    //OR, you can do the following...\n    //JDialog dialog = new JDialog();\n    //dialog.setModalityType(Dialog.ModalityType.APPLICATION_MODAL);\n\n    dialog.setBounds(350, 350, 200, 200);\n    dialog.setVisible(true);\n}\n\npublic static void main(String[] args) \n{\n    new MyDialog();\n}\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2780230,"reputation":7,"user_id":2392898,"display_name":"The Codartofonist"},"comment_count":0,"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1368775996,"creation_date":1368775996,"answer_id":16603778,"question_id":1481405,"body_markdown":"There&#39;s a bit of code that might help:\r\n\r\n    import java.awt.Component;\r\n    import java.awt.event.ActionEvent;\r\n    import java.awt.event.ActionListener;\r\n    import java.awt.event.WindowAdapter;\r\n    import java.awt.event.WindowEvent;\r\n    \r\n    import javax.swing.JFrame;\r\n    import javax.swing.JMenu;\r\n    import javax.swing.JMenuBar;\r\n    import javax.swing.JMenuItem;\r\n    \r\n    public class ModalJFrame extends JFrame {\r\n    \r\n    \tObject currentWindow = this;\r\n    \t\r\n    \tpublic ModalJFrame() \r\n    \t{\r\n    \t\tsuper();\r\n    \t\tsuper.setTitle(&quot;Main JFrame&quot;);\r\n    \t\tsuper.setSize(500, 500);\r\n    \t\tsuper.setResizable(true);\r\n    \t\tsuper.setLocationRelativeTo(null);\r\n    \t\r\n    \t\tJMenuBar menuBar = new JMenuBar();\r\n    \t\tsuper.setJMenuBar(menuBar);\r\n    \t\t\r\n    \t\tJMenu fileMenu = new JMenu(&quot;File&quot;);\r\n    \t\tJMenu editMenu = new JMenu(&quot;Edit&quot;);\r\n    \r\n    \t\tmenuBar.add(fileMenu);\r\n    \t\tmenuBar.add(editMenu);\r\n    \t\t\r\n    \t\tJMenuItem newAction = new JMenuItem(&quot;New&quot;);\r\n    \t\tJMenuItem openAction = new JMenuItem(&quot;Open&quot;);\r\n    \t\tJMenuItem exitAction = new JMenuItem(&quot;Exit&quot;);\r\n    \t\tJMenuItem cutAction = new JMenuItem(&quot;Cut&quot;);\r\n    \t\tJMenuItem copyAction = new JMenuItem(&quot;Copy&quot;);\r\n    \t\tJMenuItem pasteAction= new JMenuItem(&quot;Paste&quot;);\r\n    \r\n    \t\tfileMenu.add(newAction);\r\n    \t\tfileMenu.add(openAction);\r\n    \t\tfileMenu.addSeparator();\r\n    \t\tfileMenu.add(exitAction);\r\n    \r\n    \t\teditMenu.add(cutAction);\r\n    \t\teditMenu.add(copyAction);\r\n    \t\teditMenu.addSeparator();\r\n    \t\teditMenu.add(pasteAction);\r\n    \t\t\r\n    \t\tnewAction.addActionListener(new ActionListener()\r\n    \t\t{\r\n    \t\t\tpublic void actionPerformed(ActionEvent arg0)\r\n    \t\t\t{\r\n    \t\t\t\t\r\n    \t\t\t\tJFrame popupJFrame = new JFrame();\r\n    \t\t\t\t\r\n    \t\t\t\tpopupJFrame.addWindowListener(new WindowAdapter()\r\n    \t\t\t\t{\r\n    \t\t\t\t      public void windowClosing(WindowEvent e) \r\n    \t\t\t\t      {\r\n    \t\t\t\t    \t  ((Component) currentWindow).setEnabled(true);\t\t\t\t        }\r\n    \t\t\t\t      });\r\n    \t\t\t\t\r\n    \t\t\t\t((Component) currentWindow).setEnabled(false);\r\n    \t\t\t\tpopupJFrame.setTitle(&quot;Pop up JFrame&quot;);\r\n    \t\t\t\tpopupJFrame.setSize(400, 500);\r\n    \t\t\t\tpopupJFrame.setAlwaysOnTop(true);\r\n    \t\t\t\tpopupJFrame.setResizable(false);\r\n    \t\t\t\tpopupJFrame.setLocationRelativeTo(getRootPane());\r\n    \t\t\t\tpopupJFrame.setVisible(true);\r\n    \t\t\t\tpopupJFrame.setDefaultCloseOperation(JFrame.HIDE_ON_CLOSE);\r\n    \t\t\t}\r\n    \t\t});\r\n    \t\t\r\n    \t\texitAction.addActionListener(new ActionListener()\r\n    \t\t{\r\n    \t\t\tpublic void actionPerformed(ActionEvent arg0)\r\n    \t\t\t{\r\n    \t\t\t\tSystem.exit(0);\r\n    \t\t\t}\r\n    \t\t});\r\n    \t}\r\n    \tpublic static void main(String[] args) {\r\n    \r\n    \t\tModalJFrame myWindow = new ModalJFrame();\r\n    \t\tmyWindow.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n    \t\tmyWindow.setVisible(true);\r\n    \t}\r\n    }","title":"How to make a JFrame Modal in Swing java","body":"<p>There's a bit of code that might help:</p>\n\n<pre><code>import java.awt.Component;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport java.awt.event.WindowAdapter;\nimport java.awt.event.WindowEvent;\n\nimport javax.swing.JFrame;\nimport javax.swing.JMenu;\nimport javax.swing.JMenuBar;\nimport javax.swing.JMenuItem;\n\npublic class ModalJFrame extends JFrame {\n\n    Object currentWindow = this;\n\n    public ModalJFrame() \n    {\n        super();\n        super.setTitle(\"Main JFrame\");\n        super.setSize(500, 500);\n        super.setResizable(true);\n        super.setLocationRelativeTo(null);\n\n        JMenuBar menuBar = new JMenuBar();\n        super.setJMenuBar(menuBar);\n\n        JMenu fileMenu = new JMenu(\"File\");\n        JMenu editMenu = new JMenu(\"Edit\");\n\n        menuBar.add(fileMenu);\n        menuBar.add(editMenu);\n\n        JMenuItem newAction = new JMenuItem(\"New\");\n        JMenuItem openAction = new JMenuItem(\"Open\");\n        JMenuItem exitAction = new JMenuItem(\"Exit\");\n        JMenuItem cutAction = new JMenuItem(\"Cut\");\n        JMenuItem copyAction = new JMenuItem(\"Copy\");\n        JMenuItem pasteAction= new JMenuItem(\"Paste\");\n\n        fileMenu.add(newAction);\n        fileMenu.add(openAction);\n        fileMenu.addSeparator();\n        fileMenu.add(exitAction);\n\n        editMenu.add(cutAction);\n        editMenu.add(copyAction);\n        editMenu.addSeparator();\n        editMenu.add(pasteAction);\n\n        newAction.addActionListener(new ActionListener()\n        {\n            public void actionPerformed(ActionEvent arg0)\n            {\n\n                JFrame popupJFrame = new JFrame();\n\n                popupJFrame.addWindowListener(new WindowAdapter()\n                {\n                      public void windowClosing(WindowEvent e) \n                      {\n                          ((Component) currentWindow).setEnabled(true);                     }\n                      });\n\n                ((Component) currentWindow).setEnabled(false);\n                popupJFrame.setTitle(\"Pop up JFrame\");\n                popupJFrame.setSize(400, 500);\n                popupJFrame.setAlwaysOnTop(true);\n                popupJFrame.setResizable(false);\n                popupJFrame.setLocationRelativeTo(getRootPane());\n                popupJFrame.setVisible(true);\n                popupJFrame.setDefaultCloseOperation(JFrame.HIDE_ON_CLOSE);\n            }\n        });\n\n        exitAction.addActionListener(new ActionListener()\n        {\n            public void actionPerformed(ActionEvent arg0)\n            {\n                System.exit(0);\n            }\n        });\n    }\n    public static void main(String[] args) {\n\n        ModalJFrame myWindow = new ModalJFrame();\n        myWindow.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        myWindow.setVisible(true);\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2478796,"reputation":2301,"user_id":2158784,"accept_rate":93,"display_name":"Daniel Katz"},"score":0,"creation_date":1378979919,"post_id":16686747,"comment_id":27655879,"body_markdown":"Ou, but there is an OK button, which I don&#39;t want.","body":"Ou, but there is an OK button, which I don&#39;t want."},{"owner":{"account_id":5390835,"reputation":4928,"user_id":4293417,"accept_rate":92,"display_name":"Zizouz212"},"score":0,"creation_date":1439518837,"post_id":16686747,"comment_id":51905866,"body_markdown":"Wait what? You can just add the JPanel to the JDialog like that?","body":"Wait what? You can just add the JPanel to the JDialog like that?"},{"owner":{"account_id":273159,"reputation":407,"user_id":564588,"display_name":"Jason K."},"score":0,"creation_date":1501156044,"post_id":16686747,"comment_id":77660634,"body_markdown":"this has nothing to do with a jFrame","body":"this has nothing to do with a jFrame"}],"tags":[],"owner":{"account_id":2691630,"reputation":1824,"user_id":2324832,"display_name":"Richard Kenneth Niescior"},"comment_count":3,"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1390264816,"creation_date":1369210507,"answer_id":16686747,"question_id":1481405,"body_markdown":"1. Create a new JPanel form\r\n2. Add your desired components and code to it\r\n\r\n\r\n----------\r\n\r\n\r\n    YourJPanelForm stuff = new YourJPanelForm();\r\n    JOptionPane.showMessageDialog(null,stuff,&quot;Your title here bro&quot;,JOptionPane.PLAIN_MESSAGE);\r\n\r\n&lt;br /&gt;\r\nYour modal dialog awaits...","title":"How to make a JFrame Modal in Swing java","body":"<ol>\n<li>Create a new JPanel form</li>\n<li>Add your desired components and code to it</li>\n</ol>\n\n<hr>\n\n<pre><code>YourJPanelForm stuff = new YourJPanelForm();\nJOptionPane.showMessageDialog(null,stuff,\"Your title here bro\",JOptionPane.PLAIN_MESSAGE);\n</code></pre>\n\n<p><br />\nYour modal dialog awaits...</p>\n"},{"tags":[],"owner":{"account_id":5259477,"reputation":1,"user_id":4201368,"display_name":"Johan Rincon"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1414742143,"creation_date":1414737615,"answer_id":26668829,"question_id":1481405,"body_markdown":"What I&#39;ve done in this case is, in the primary jframe that I want to keep visible (for example, a menu frame), I deselect the option `focusableWindowState` in the property window so It will be `FALSE`. Once that is done, the jframes I call don&#180;t lose focus until I close them.","title":"How to make a JFrame Modal in Swing java","body":"<p>What I've done in this case is, in the primary jframe that I want to keep visible (for example, a menu frame), I deselect the option <code>focusableWindowState</code> in the property window so It will be <code>FALSE</code>. Once that is done, the jframes I call don´t lose focus until I close them.</p>\n"},{"comments":[{"owner":{"account_id":5805511,"reputation":1060,"user_id":4578243,"accept_rate":51,"display_name":"db2791"},"score":1,"creation_date":1464480910,"post_id":28461883,"comment_id":62504876,"body_markdown":"Was not aware of `setModal(true);`.. this is great","body":"Was not aware of <code>setModal(true);</code>.. this is great"},{"owner":{"account_id":5527036,"reputation":1768,"user_id":4388228,"accept_rate":97,"display_name":"Mohammed Housseyn Taleb"},"score":0,"creation_date":1478041416,"post_id":28461883,"comment_id":67993522,"body_markdown":"need to tell that this not working under netbeans because his form editor sets the close operation on closing dialogue wich is not allowed in jdialog","body":"need to tell that this not working under netbeans because his form editor sets the close operation on closing dialogue wich is not allowed in jdialog"}],"tags":[],"owner":{"account_id":5773362,"reputation":137,"user_id":4556195,"display_name":"Ivan"},"comment_count":2,"down_vote_count":2,"up_vote_count":14,"is_accepted":false,"score":12,"last_activity_date":1423680026,"creation_date":1423679845,"answer_id":28461883,"question_id":1481405,"body_markdown":"just replace `JFrame` to `JDialog` in class\r\n\r\n    public class MyDialog extends JFrame // delete JFrame and write JDialog\r\n\r\nand then write `setModal(true);` in constructor\r\n\r\nAfter that you will be able to construct your Form in netbeans\r\nand the form becomes modal","title":"How to make a JFrame Modal in Swing java","body":"<p>just replace <code>JFrame</code> to <code>JDialog</code> in class</p>\n\n<pre><code>public class MyDialog extends JFrame // delete JFrame and write JDialog\n</code></pre>\n\n<p>and then write <code>setModal(true);</code> in constructor</p>\n\n<p>After that you will be able to construct your Form in netbeans\nand the form becomes modal</p>\n"},{"tags":[],"owner":{"account_id":4281210,"reputation":1058,"user_id":3500521,"display_name":"Dreamspace President"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1448697319,"creation_date":1448697319,"answer_id":33969048,"question_id":1481405,"body_markdown":"This static utility method shows a modal JFrame by secretly opening a modal JDialog, too. I used this successfully and with proper behavior on Windows 7, 8, and 10-with-multiple-desktops.\r\n\r\nIt&#39;s a nice example for the very rarely used feature of *local* classes.\r\n\r\n    import javax.swing.*;\r\n    import java.awt.Dialog;\r\n    import java.awt.Dimension;\r\n    import java.awt.Frame;\r\n    import java.awt.event.WindowAdapter;\r\n    import java.awt.event.WindowEvent;\r\n\r\n    // ... (class declaration)\r\n\r\n    /**\r\n     * Shows an already existing JFrame as if it were a modal JDialog. JFrames have the upside that they can be\r\n     * maximized.\r\n     * &lt;p&gt;\r\n     * A hidden modal JDialog is &quot;shown&quot; to effect the modality.\r\n     * &lt;p&gt;\r\n     * When the JFrame is closed, this method&#39;s listener will pick up on that, close the modal JDialog, and remove the\r\n     * listener.\r\n     *\r\n     * made by dreamspace-president.com\r\n     *\r\n     * @param window the JFrame to be shown\r\n     * @param owner  the owner window (can be null)\r\n     * @throws IllegalArgumentException if argument &quot;window&quot; is null\r\n     */\r\n    public static void showModalJFrame(final JFrame window, final Frame owner) {\r\n\r\n        if (window == null) {\r\n            throw new IllegalArgumentException();\r\n        }\r\n        window.setModalExclusionType(Dialog.ModalExclusionType.APPLICATION_EXCLUDE);\r\n        window.setVisible(true);\r\n        window.setAlwaysOnTop(true);\r\n\r\n        final JDialog hiddenDialogForModality = new JDialog(owner, true);\r\n        final class MyWindowCloseListener extends WindowAdapter {\r\n            @Override\r\n            public void windowClosed(final WindowEvent e) {\r\n                window.dispose();\r\n                hiddenDialogForModality.dispose();\r\n            }\r\n        }\r\n\r\n        final MyWindowCloseListener myWindowCloseListener = new MyWindowCloseListener();\r\n        window.addWindowListener(myWindowCloseListener);\r\n\r\n        final Dimension smallSize = new Dimension(80, 80);\r\n        hiddenDialogForModality.setMinimumSize(smallSize);\r\n        hiddenDialogForModality.setSize(smallSize);\r\n        hiddenDialogForModality.setMaximumSize(smallSize);\r\n        hiddenDialogForModality.setLocation(-smallSize.width * 2, -smallSize.height * 2);\r\n        hiddenDialogForModality.setVisible(true);\r\n        window.removeWindowListener(myWindowCloseListener);\r\n    }\r\n","title":"How to make a JFrame Modal in Swing java","body":"<p>This static utility method shows a modal JFrame by secretly opening a modal JDialog, too. I used this successfully and with proper behavior on Windows 7, 8, and 10-with-multiple-desktops.</p>\n\n<p>It's a nice example for the very rarely used feature of <em>local</em> classes.</p>\n\n<pre><code>import javax.swing.*;\nimport java.awt.Dialog;\nimport java.awt.Dimension;\nimport java.awt.Frame;\nimport java.awt.event.WindowAdapter;\nimport java.awt.event.WindowEvent;\n\n// ... (class declaration)\n\n/**\n * Shows an already existing JFrame as if it were a modal JDialog. JFrames have the upside that they can be\n * maximized.\n * &lt;p&gt;\n * A hidden modal JDialog is \"shown\" to effect the modality.\n * &lt;p&gt;\n * When the JFrame is closed, this method's listener will pick up on that, close the modal JDialog, and remove the\n * listener.\n *\n * made by dreamspace-president.com\n *\n * @param window the JFrame to be shown\n * @param owner  the owner window (can be null)\n * @throws IllegalArgumentException if argument \"window\" is null\n */\npublic static void showModalJFrame(final JFrame window, final Frame owner) {\n\n    if (window == null) {\n        throw new IllegalArgumentException();\n    }\n    window.setModalExclusionType(Dialog.ModalExclusionType.APPLICATION_EXCLUDE);\n    window.setVisible(true);\n    window.setAlwaysOnTop(true);\n\n    final JDialog hiddenDialogForModality = new JDialog(owner, true);\n    final class MyWindowCloseListener extends WindowAdapter {\n        @Override\n        public void windowClosed(final WindowEvent e) {\n            window.dispose();\n            hiddenDialogForModality.dispose();\n        }\n    }\n\n    final MyWindowCloseListener myWindowCloseListener = new MyWindowCloseListener();\n    window.addWindowListener(myWindowCloseListener);\n\n    final Dimension smallSize = new Dimension(80, 80);\n    hiddenDialogForModality.setMinimumSize(smallSize);\n    hiddenDialogForModality.setSize(smallSize);\n    hiddenDialogForModality.setMaximumSize(smallSize);\n    hiddenDialogForModality.setLocation(-smallSize.width * 2, -smallSize.height * 2);\n    hiddenDialogForModality.setVisible(true);\n    window.removeWindowListener(myWindowCloseListener);\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3453445,"reputation":240,"user_id":2892515,"accept_rate":93,"display_name":"Enerccio"},"score":0,"creation_date":1499863311,"post_id":43019345,"comment_id":77089230,"body_markdown":"how is this even related?","body":"how is this even related?"}],"tags":[],"owner":{"account_id":6085033,"reputation":1,"user_id":7421246,"display_name":"Dahab"},"comment_count":1,"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1490461671,"creation_date":1490461671,"answer_id":43019345,"question_id":1481405,"body_markdown":"The most simple way is to use *pack()* method before visualizing the *JFrame* object. here is an example:\r\n\r\n    myFrame frm = new myFrame();\r\n    frm.pack();\r\n    frm.setVisible(true);\r\n\r\n","title":"How to make a JFrame Modal in Swing java","body":"<p>The most simple way is to use <em>pack()</em> method before visualizing the <em>JFrame</em> object. here is an example:</p>\n\n<pre><code>myFrame frm = new myFrame();\nfrm.pack();\nfrm.setVisible(true);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6243770,"reputation":1,"user_id":8806068,"display_name":"Daniel Shamaeli"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1565968381,"creation_date":1565968381,"answer_id":57527096,"question_id":1481405,"body_markdown":"As others mentioned, you could use JDialog. If you don&#39;t have access to the parent frame or you want to freeze the hole application just pass null as a parent:\r\n\r\n`final JDialog frame = new JDialog((JFrame)null, frameTitle, true);`\r\n`frame.setModal(true);`    \r\n`frame.getContentPane().add(panel);`   \r\n`frame.setDefaultCloseOperation(WindowConstants.DISPOSE_ON_CLOSE);`    \r\n`frame.pack();`    \r\n`frame.setVisible(true);`    \r\n \r\n","title":"How to make a JFrame Modal in Swing java","body":"<p>As others mentioned, you could use JDialog. If you don't have access to the parent frame or you want to freeze the hole application just pass null as a parent:</p>\n\n<p><code>final JDialog frame = new JDialog((JFrame)null, frameTitle, true);</code>\n<code>frame.setModal(true);</code><br>\n<code>frame.getContentPane().add(panel);</code><br>\n<code>frame.setDefaultCloseOperation(WindowConstants.DISPOSE_ON_CLOSE);</code><br>\n<code>frame.pack();</code><br>\n<code>frame.setVisible(true);</code>    </p>\n"},{"tags":[],"owner":{"account_id":19137232,"reputation":11,"user_id":13977981,"display_name":"Romel"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1595442585,"creation_date":1595442585,"answer_id":63040918,"question_id":1481405,"body_markdown":"The only code that have worked for me:\r\n\r\n    childFrame.setAlwaysOnTop(true);\r\n    \r\nThis code should be called on the main/parent frame before making the child/modal frame visible. Your child/modal frame should also have this code:\r\n\r\n    parentFrame.setFocusableWindowState(false);\r\n    this.mainFrame.setEnabled(false);","title":"How to make a JFrame Modal in Swing java","body":"<p>The only code that have worked for me:</p>\n<pre><code>childFrame.setAlwaysOnTop(true);\n</code></pre>\n<p>This code should be called on the main/parent frame before making the child/modal frame visible. Your child/modal frame should also have this code:</p>\n<pre><code>parentFrame.setFocusableWindowState(false);\nthis.mainFrame.setEnabled(false);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1697897745,"post_id":77321979,"comment_id":136338574,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/77321979/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."},{"owner":{"account_id":15787756,"reputation":113,"user_id":12599688,"display_name":"Дмитрий Алексеенко"},"score":0,"creation_date":1700738889,"post_id":77321979,"comment_id":136692759,"body_markdown":"WTF?! but it work","body":"WTF?! but it work"}],"tags":[],"owner":{"account_id":26660575,"reputation":11,"user_id":20273461,"display_name":"Grizmo 4ka"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1697702753,"creation_date":1697702753,"answer_id":77321979,"question_id":1481405,"body_markdown":"&quot;Simply&quot; way to show any framea in dialog mode\r\n\r\n    public static void showFrameAsDialog(Component parentComponent, JFrame frame)\r\n    {\r\n        try\r\n        {\r\n            JOptionPane pane = new JOptionPane(frame.getContentPane(), JOptionPane.PLAIN_MESSAGE,\r\n                    JOptionPane.NO_OPTION, null,\r\n                    new Object[]\r\n                    {\r\n                    }, null);\r\n\r\n            pane.setComponentOrientation(((parentComponent == null)\r\n                    ? getRootFrame() : parentComponent).getComponentOrientation());\r\n\r\n            int style = JRootPane.PLAIN_DIALOG;\r\n\r\n            Method method = pane.getClass().getDeclaredMethod(&quot;createDialog&quot;, Component.class, String.class, int.class);\r\n            method.setAccessible(true);\r\n            Object objDialog = method.invoke(pane, parentComponent, frame.getTitle(), style);\r\n\r\n            JDialog dialog = (JDialog) objDialog;\r\n            if (frame.getWidth() &gt; dialog.getWidth() || frame.getHeight() &gt; dialog.getHeight())\r\n            {\r\n                dialog.setSize(frame.getWidth(), frame.getHeight());\r\n                dialog.setLocationRelativeTo(parentComponent);\r\n            }\r\n\r\n            frame.addWindowListener(new java.awt.event.WindowAdapter()\r\n            {\r\n                @Override\r\n                public void windowClosed(java.awt.event.WindowEvent windowEvent)\r\n                {\r\n                    dialog.dispose();\r\n                }\r\n            });\r\n\r\n            dialog.show();\r\n            dialog.dispose();\r\n        }\r\n        catch (Exception ex)\r\n        {\r\n            ex.printStackTrace();\r\n        }\r\n    }","title":"How to make a JFrame Modal in Swing java","body":"<p>&quot;Simply&quot; way to show any framea in dialog mode</p>\n<pre><code>public static void showFrameAsDialog(Component parentComponent, JFrame frame)\n{\n    try\n    {\n        JOptionPane pane = new JOptionPane(frame.getContentPane(), JOptionPane.PLAIN_MESSAGE,\n                JOptionPane.NO_OPTION, null,\n                new Object[]\n                {\n                }, null);\n\n        pane.setComponentOrientation(((parentComponent == null)\n                ? getRootFrame() : parentComponent).getComponentOrientation());\n\n        int style = JRootPane.PLAIN_DIALOG;\n\n        Method method = pane.getClass().getDeclaredMethod(&quot;createDialog&quot;, Component.class, String.class, int.class);\n        method.setAccessible(true);\n        Object objDialog = method.invoke(pane, parentComponent, frame.getTitle(), style);\n\n        JDialog dialog = (JDialog) objDialog;\n        if (frame.getWidth() &gt; dialog.getWidth() || frame.getHeight() &gt; dialog.getHeight())\n        {\n            dialog.setSize(frame.getWidth(), frame.getHeight());\n            dialog.setLocationRelativeTo(parentComponent);\n        }\n\n        frame.addWindowListener(new java.awt.event.WindowAdapter()\n        {\n            @Override\n            public void windowClosed(java.awt.event.WindowEvent windowEvent)\n            {\n                dialog.dispose();\n            }\n        });\n\n        dialog.show();\n        dialog.dispose();\n    }\n    catch (Exception ex)\n    {\n        ex.printStackTrace();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":56246,"reputation":4189,"user_id":168461,"accept_rate":35,"display_name":"om."},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":160635,"favorite_count":0,"down_vote_count":0,"up_vote_count":70,"accepted_answer_id":1481423,"answer_count":14,"score":70,"last_activity_date":1697702753,"creation_date":1253977657,"question_id":1481405,"body_markdown":"I have created one GUI in which I have used a JFrame. How should I make it Modal?","title":"How to make a JFrame Modal in Swing java","body":"<p>I have created one GUI in which I have used a JFrame. How should I make it Modal?</p>\n"},{"tags":["java","unit-testing","mockito"],"answers":[{"tags":[],"owner":{"account_id":1734438,"reputation":36275,"user_id":1587329,"accept_rate":94,"display_name":"serv-inc"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697701729,"creation_date":1697701729,"answer_id":77321875,"question_id":63039935,"body_markdown":"This seems related to [this github issue][1], which was fixed and merged. Try upgrading Mockito.\r\n\r\n\r\n  [1]: https://github.com/mockito/mockito/issues/1767","title":"Unit Tests failing due to MismatchReportingTestListener","body":"<p>This seems related to <a href=\"https://github.com/mockito/mockito/issues/1767\" rel=\"nofollow noreferrer\">this github issue</a>, which was fixed and merged. Try upgrading Mockito.</p>\n"}],"owner":{"account_id":10860844,"reputation":392,"user_id":7985774,"display_name":"Falcon"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1463,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1697701729,"creation_date":1595438870,"question_id":63039935,"body_markdown":"I am facing a weird issue where my unit tests are failing/succeeding on retrying. I previously wrote unit test case for 2 classes in my package and when I wrote the unit test cases for third class the test cases for the other two classes also start failing due to errors listed below\r\n\r\nErrors in generated test Report:\r\n\r\nError 1\r\n\r\n```\r\nCannot instantiate @InjectMocks field named &#39;chunkedSnapshot&#39; of type &#39;class\r\ncom.XXXX.YYY.lambda.ChunkedSnapshot&#39;. You haven&#39;t provided the instance at field declaration so\r\nI tried to construct the instance. However the constructor or the initialization block threw an \r\nexception : null\r\n```\r\nError 2\r\n\r\n```\r\nProblems adding Mockito listener. Listener of type &#39;MismatchReportingTestListener&#39; has already\r\nbeen added and not removed. It indicates that previous listener was not removed according to the\r\nAPI. When you add a listener, don&#39;t forget to remove the listener afterwards: Mockito.framework().removeListener(myListener); For more information, see the javadoc for \r\nRedundantListenerException class.\r\n```\r\n\r\nSome error in console which I feel might be relevant\r\n\r\n```\r\n  [junit] Cannot instantiate @InjectMocks field named &#39;chunkedSnapshot&#39; of type &#39;class com.XXXX.YYYY.lambda.ChunkedSnapshot&#39;.\r\n    [junit] You haven&#39;t provided the instance at field declaration so I tried to construct the instance.\r\n    [junit] However the constructor or the initialization block threw an exception : null\r\n```\r\nThe weird thing is that the test cases sometimes succeed, sometimes do not.\r\n\r\nI will paste down the initialization piece of the third class and unit test class for same which is causing this issue\r\n\r\n```\r\n@Log4j2\r\npublic class ChunkedSnapshot implements RequestHandler&lt;String, String&gt; {\r\n    private final AmazonAthena amazonAthena;\r\n    private AthenaQueryExecutor athenaQueryExecutor;\r\n\r\n    private final String snapshotDate;\r\n    private final String tableName;\r\n    private final String databaseName;\r\n    private final String currentTable;\r\n    private final String externalS3Location;\r\n    private final String workGroup;\r\n    private String buyableDate;\r\n\r\n    public ChunkedSnapshot() {\r\n        this(new LambdaConfiguration(System.getenv()));\r\n    }\r\n    public ChunkedSnapshot(LambdaConfiguration lambdaConfiguration) {\r\n        this(lambdaConfiguration.getAmazonAthena());\r\n    }\r\n\r\n    public ChunkedSnapshot(AmazonAthena amazonAthena) {\r\n        this.amazonAthena = amazonAthena;\r\n        ConfigInitializer.initializeConfig();\r\n        snapshotDate = LocalDate.now().toString();\r\n        tableName = AppConfig.findString(ATHENA_MAIN_TABLE);\r\n        databaseName = AppConfig.findString(ATHENA_DATABASE);\r\n        workGroup = AppConfig.findString(ATHENA_WORKGROUP);\r\n        currentTable = AppConfig.findString(CURRENT_TABLE);\r\n        externalS3Location = AppConfig.findString(TABLE_S3_LOCATION);\r\n        athenaQueryExecutor = new AthenaQueryExecutor();\r\n    }\r\n    @Override\r\n    public String handleRequest(String event, Context context) {\r\n     //some content here\r\n    }...more content\r\n```\r\nUnit Test\r\n\r\n```\r\n@RunWith(MockitoJUnitRunner.class)\r\npublic class ChunkedSnapshotTests extends AbstractTestCase {\r\n    @Mock\r\n    Context mockContext;\r\n    @Mock\r\n    AthenaQueryExecutor mockAthenaQueryExecutor;\r\n    @Mock\r\n    AmazonAthena mockAmazonAthena;\r\n    @InjectMocks\r\n    ChunkedSnapshot chunkedSnapshot;\r\n    List&lt;Row&gt; rowList;\r\n    List&lt;Datum&gt; datumList;\r\n    String event = &quot;some test event&quot;;\r\n    @Before\r\n    public void setup() throws InterruptedException {\r\n        rowList = new ArrayList&lt;&gt;();\r\n        datumList = new ArrayList&lt;&gt;();\r\n        Row row = new Row();\r\n        Datum datum1 = new Datum();\r\n        datum1.setVarCharValue(&quot;some val&quot;);\r\n        Datum datum2 = new Datum();\r\n        datum2.setVarCharValue(&quot;some val&quot;);\r\n        datumList.add(datum1);\r\n        datumList.add(datum2);\r\n        row.setData(datumList);\r\n        rowList.add(row);\r\n        when(mockAthenaQueryExecutor.processResultRows(any(), any())).thenReturn(rowList);\r\n    }\r\n\r\n    @Test\r\n    public void testHandleRequest() {\r\n        chunkedSnapshot.handleRequest(event, mockContext);\r\n    }\r\n    ..... more content\r\n```\r\n\r\nI feel there must be some problem in the initialization of the *InjectMocks* since this is the first class out of previous test classes which is using the inject mocks.Any help would be appreciated.","title":"Unit Tests failing due to MismatchReportingTestListener","body":"<p>I am facing a weird issue where my unit tests are failing/succeeding on retrying. I previously wrote unit test case for 2 classes in my package and when I wrote the unit test cases for third class the test cases for the other two classes also start failing due to errors listed below</p>\n<p>Errors in generated test Report:</p>\n<p>Error 1</p>\n<pre><code>Cannot instantiate @InjectMocks field named 'chunkedSnapshot' of type 'class\ncom.XXXX.YYY.lambda.ChunkedSnapshot'. You haven't provided the instance at field declaration so\nI tried to construct the instance. However the constructor or the initialization block threw an \nexception : null\n</code></pre>\n<p>Error 2</p>\n<pre><code>Problems adding Mockito listener. Listener of type 'MismatchReportingTestListener' has already\nbeen added and not removed. It indicates that previous listener was not removed according to the\nAPI. When you add a listener, don't forget to remove the listener afterwards: Mockito.framework().removeListener(myListener); For more information, see the javadoc for \nRedundantListenerException class.\n</code></pre>\n<p>Some error in console which I feel might be relevant</p>\n<pre><code>  [junit] Cannot instantiate @InjectMocks field named 'chunkedSnapshot' of type 'class com.XXXX.YYYY.lambda.ChunkedSnapshot'.\n    [junit] You haven't provided the instance at field declaration so I tried to construct the instance.\n    [junit] However the constructor or the initialization block threw an exception : null\n</code></pre>\n<p>The weird thing is that the test cases sometimes succeed, sometimes do not.</p>\n<p>I will paste down the initialization piece of the third class and unit test class for same which is causing this issue</p>\n<pre><code>@Log4j2\npublic class ChunkedSnapshot implements RequestHandler&lt;String, String&gt; {\n    private final AmazonAthena amazonAthena;\n    private AthenaQueryExecutor athenaQueryExecutor;\n\n    private final String snapshotDate;\n    private final String tableName;\n    private final String databaseName;\n    private final String currentTable;\n    private final String externalS3Location;\n    private final String workGroup;\n    private String buyableDate;\n\n    public ChunkedSnapshot() {\n        this(new LambdaConfiguration(System.getenv()));\n    }\n    public ChunkedSnapshot(LambdaConfiguration lambdaConfiguration) {\n        this(lambdaConfiguration.getAmazonAthena());\n    }\n\n    public ChunkedSnapshot(AmazonAthena amazonAthena) {\n        this.amazonAthena = amazonAthena;\n        ConfigInitializer.initializeConfig();\n        snapshotDate = LocalDate.now().toString();\n        tableName = AppConfig.findString(ATHENA_MAIN_TABLE);\n        databaseName = AppConfig.findString(ATHENA_DATABASE);\n        workGroup = AppConfig.findString(ATHENA_WORKGROUP);\n        currentTable = AppConfig.findString(CURRENT_TABLE);\n        externalS3Location = AppConfig.findString(TABLE_S3_LOCATION);\n        athenaQueryExecutor = new AthenaQueryExecutor();\n    }\n    @Override\n    public String handleRequest(String event, Context context) {\n     //some content here\n    }...more content\n</code></pre>\n<p>Unit Test</p>\n<pre><code>@RunWith(MockitoJUnitRunner.class)\npublic class ChunkedSnapshotTests extends AbstractTestCase {\n    @Mock\n    Context mockContext;\n    @Mock\n    AthenaQueryExecutor mockAthenaQueryExecutor;\n    @Mock\n    AmazonAthena mockAmazonAthena;\n    @InjectMocks\n    ChunkedSnapshot chunkedSnapshot;\n    List&lt;Row&gt; rowList;\n    List&lt;Datum&gt; datumList;\n    String event = &quot;some test event&quot;;\n    @Before\n    public void setup() throws InterruptedException {\n        rowList = new ArrayList&lt;&gt;();\n        datumList = new ArrayList&lt;&gt;();\n        Row row = new Row();\n        Datum datum1 = new Datum();\n        datum1.setVarCharValue(&quot;some val&quot;);\n        Datum datum2 = new Datum();\n        datum2.setVarCharValue(&quot;some val&quot;);\n        datumList.add(datum1);\n        datumList.add(datum2);\n        row.setData(datumList);\n        rowList.add(row);\n        when(mockAthenaQueryExecutor.processResultRows(any(), any())).thenReturn(rowList);\n    }\n\n    @Test\n    public void testHandleRequest() {\n        chunkedSnapshot.handleRequest(event, mockContext);\n    }\n    ..... more content\n</code></pre>\n<p>I feel there must be some problem in the initialization of the <em>InjectMocks</em> since this is the first class out of previous test classes which is using the inject mocks.Any help would be appreciated.</p>\n"},{"tags":["java","spring","spring-boot","cryptography","telegram"],"comments":[{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1697619194,"post_id":77314479,"comment_id":136301317,"body_markdown":"How is it different? Uppercase/lowercase, is the hash and check hash calcutated over the same string? So are the elements in the right order? If the order is different you will get a different hash.","body":"How is it different? Uppercase/lowercase, is the hash and check hash calcutated over the same string? So are the elements in the right order? If the order is different you will get a different hash."},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1697621094,"post_id":77314479,"comment_id":136301717,"body_markdown":"One difference is that the python one always uses `\\n` whereas you have `System.lineSeparator()` which could be different, depending on the system/os in use.","body":"One difference is that the python one always uses <code>\\n</code> whereas you have <code>System.lineSeparator()</code> which could be different, depending on the system/os in use."},{"owner":{"account_id":20817836,"reputation":111,"user_id":15290241,"display_name":"manuersuper"},"score":0,"creation_date":1697621497,"post_id":77314479,"comment_id":136301791,"body_markdown":"@M.Deinum the hashes are totally different (which makes sense, a single character can change the whole hash). From Telegram I receive the hash and I must calculate another hash based on the other params (like auth_data,username,id etc.). These two hashes should match but I&#39;m probably making some mistakes when creating the hash from params. The elements are correctly in an alphabetical order. Changing System.lineSeparator() with &quot;\\\\n&quot; still makes two different hashes","body":"@M.Deinum the hashes are totally different (which makes sense, a single character can change the whole hash). From Telegram I receive the hash and I must calculate another hash based on the other params (like auth_data,username,id etc.). These two hashes should match but I&#39;m probably making some mistakes when creating the hash from params. The elements are correctly in an alphabetical order. Changing System.lineSeparator() with &quot;\\\\n&quot; still makes two different hashes"},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1697621992,"post_id":77314479,"comment_id":136301893,"body_markdown":"The delimiter is `\\n` not `\\\\n`. Looking at the PHP and Python samples instead of the secret key the hashed value of the secret key is being passed, are you doing that as well?","body":"The delimiter is <code>\\n</code> not <code>\\\\n</code>. Looking at the PHP and Python samples instead of the secret key the hashed value of the secret key is being passed, are you doing that as well?"},{"owner":{"account_id":20817836,"reputation":111,"user_id":15290241,"display_name":"manuersuper"},"score":0,"creation_date":1697622208,"post_id":77314479,"comment_id":136301936,"body_markdown":"I&#39;m not an expert in java but &quot;\\&quot; is used as escape character so i must write &quot;\\\\n&quot; I think, anyway I&#39;m gonna try with both and I&#39;m gonna check also about the hashed value","body":"I&#39;m not an expert in java but &quot;\\&quot; is used as escape character so i must write &quot;\\\\n&quot; I think, anyway I&#39;m gonna try with both and I&#39;m gonna check also about the hashed value"},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1697622483,"post_id":77314479,"comment_id":136301986,"body_markdown":"The secertkey is the hashed value of your TOKEN to use with Telegram. So if you use your token as the secret key, then you are using the wrong thing.","body":"The secertkey is the hashed value of your TOKEN to use with Telegram. So if you use your token as the secret key, then you are using the wrong thing."},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1697622813,"post_id":77314479,"comment_id":136302047,"body_markdown":"Also see https://stackoverflow.com/questions/57663716/login-with-telegram-with-spring-security which uses the token and how to encode it as a secretkey. This for the HEX encoding -&gt; https://stackoverflow.com/questions/9655181/java-convert-a-byte-array-to-a-hex-string (if you are on JDK 17 I would suggest to use the `HexFormat` class).","body":"Also see <a href=\"https://stackoverflow.com/questions/57663716/login-with-telegram-with-spring-security\" title=\"login with telegram with spring security\">stackoverflow.com/questions/57663716/&hellip;</a> which uses the token and how to encode it as a secretkey. This for the HEX encoding -&gt; <a href=\"https://stackoverflow.com/questions/9655181/java-convert-a-byte-array-to-a-hex-string\" title=\"java convert a byte array to a hex string\">stackoverflow.com/questions/9655181/&hellip;</a> (if you are on JDK 17 I would suggest to use the <code>HexFormat</code> class)."},{"owner":{"account_id":20817836,"reputation":111,"user_id":15290241,"display_name":"manuersuper"},"score":0,"creation_date":1697623136,"post_id":77314479,"comment_id":136302119,"body_markdown":"I&#39;m using the hashed token, gonna check if i encoded it correctly though","body":"I&#39;m using the hashed token, gonna check if i encoded it correctly though"},{"owner":{"account_id":20817836,"reputation":111,"user_id":15290241,"display_name":"manuersuper"},"score":0,"creation_date":1697638943,"post_id":77314479,"comment_id":136305483,"body_markdown":"@M.Deinum first, thanks for your time, secondly I have checked and everything seems okay, the only difference from the telegram guide is that i don&#39;t have a last_name parameter (because i don&#39;t have it on telegram), i don&#39;t know if that&#39;s the problem","body":"@M.Deinum first, thanks for your time, secondly I have checked and everything seems okay, the only difference from the telegram guide is that i don&#39;t have a last_name parameter (because i don&#39;t have it on telegram), i don&#39;t know if that&#39;s the problem"}],"owner":{"account_id":20817836,"reputation":111,"user_id":15290241,"display_name":"manuersuper"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":102,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697701718,"creation_date":1697616245,"question_id":77314479,"body_markdown":"I&#39;m having some troubles with checking if the data I receive from a logged user are authentic or not. I&#39;m following this short [guide](https://core.telegram.org/widgets/login#checking-authorization) from telegram. \r\n\r\n**MyController.java**\r\n```\r\n@GetMapping(&quot;/checkData&quot;)\r\n    public String handleTGLogin(@RequestParam Map&lt;String, String&gt; params) {\r\n\r\n        String hash = params.get(&quot;hash&quot;);\r\n        params.remove(&quot;hash&quot;);\r\n\r\n        StringBuilder data_check_builder = new StringBuilder();\r\n        SortedSet&lt;String&gt; keys = new TreeSet&lt;&gt;(params.keySet());\r\n        for (String key : keys) {\r\n            String value = params.get(key);\r\n            logger.log(Level.INFO, key);\r\n            data_check_builder.append(key).append(&quot;=&quot;).append(value).append(System.lineSeparator());\r\n        }\r\n\r\n        String data_check_string = data_check_builder.toString();\r\n        logger.log(Level.INFO, data_check_string);\r\n        data_check_string = removeLastLineSeparator(data_check_string);\r\n        logger.log(Level.INFO, data_check_string);\r\n\r\n        String secretKey = &quot;ad5b4ae518c20&quot;; //in my code i have the correct one, these are random letters\r\n        String hmacSha256 = null;\r\n        try {\r\n            hmacSha256 = calculateHmacSha256(data_check_string, secretKey);\r\n        } catch (NoSuchAlgorithmException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n        logger.log(Level.INFO, &quot;HMAC-SHA-256: &quot; + hmacSha256);\r\n        logger.log(Level.INFO, &quot;hash: &quot; + hash);\r\n        //These 2 logs should be the same string, but they actually don&#39;t coincide\r\n        return &quot;Received parameters: &quot; + params.toString();\r\n    }\r\n```\r\n**Functions**\r\n```\r\npublic String removeLastLineSeparator(String input) {\r\n        if (input.endsWith(ls)) {\r\n            // Calculate the length of the input string\r\n            int length = input.length();\r\n\r\n            // Calculate the length of the line separator\r\n            int lineSeparatorLength = ls.length();\r\n\r\n            // Remove the line separator by excluding the last characters\r\n            input = input.substring(0, length - lineSeparatorLength);\r\n        }\r\n\r\n        return input;\r\n    }\r\n\r\nprivate String calculateHmacSha256(String data, String secretKey) throws NoSuchAlgorithmException {\r\n        try {\r\n            SecretKeySpec secretKeySpec = new SecretKeySpec(secretKey.getBytes(), &quot;HmacSHA256&quot;);\r\n            Mac mac = Mac.getInstance(&quot;HmacSHA256&quot;);\r\n            mac.init(secretKeySpec);\r\n            byte[] hash = mac.doFinal(data.getBytes());\r\n\r\n            // Use Apache Commons Codec to convert the byte array to a hexadecimal string\r\n            String hexHash = Hex.encodeHexString(hash).toLowerCase();\r\n            return hexHash;\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n            return null;\r\n        }\r\n    }\r\n```\r\nWhy _hmacSha256_ and _hash_ are not the same? What I&#39;m doing wrong? Thanks for any help!\r\n\r\nPS: maybe this [python implementation](https://github.com/dmytrostriletskyi/django-telegram-login/blob/develop/django_telegram_login/authentication.py) is useful. ","title":"How to Telegram Login in a Spring Boot App?","body":"<p>I'm having some troubles with checking if the data I receive from a logged user are authentic or not. I'm following this short <a href=\"https://core.telegram.org/widgets/login#checking-authorization\" rel=\"nofollow noreferrer\">guide</a> from telegram.</p>\n<p><strong>MyController.java</strong></p>\n<pre><code>@GetMapping(&quot;/checkData&quot;)\n    public String handleTGLogin(@RequestParam Map&lt;String, String&gt; params) {\n\n        String hash = params.get(&quot;hash&quot;);\n        params.remove(&quot;hash&quot;);\n\n        StringBuilder data_check_builder = new StringBuilder();\n        SortedSet&lt;String&gt; keys = new TreeSet&lt;&gt;(params.keySet());\n        for (String key : keys) {\n            String value = params.get(key);\n            logger.log(Level.INFO, key);\n            data_check_builder.append(key).append(&quot;=&quot;).append(value).append(System.lineSeparator());\n        }\n\n        String data_check_string = data_check_builder.toString();\n        logger.log(Level.INFO, data_check_string);\n        data_check_string = removeLastLineSeparator(data_check_string);\n        logger.log(Level.INFO, data_check_string);\n\n        String secretKey = &quot;ad5b4ae518c20&quot;; //in my code i have the correct one, these are random letters\n        String hmacSha256 = null;\n        try {\n            hmacSha256 = calculateHmacSha256(data_check_string, secretKey);\n        } catch (NoSuchAlgorithmException e) {\n            throw new RuntimeException(e);\n        }\n        logger.log(Level.INFO, &quot;HMAC-SHA-256: &quot; + hmacSha256);\n        logger.log(Level.INFO, &quot;hash: &quot; + hash);\n        //These 2 logs should be the same string, but they actually don't coincide\n        return &quot;Received parameters: &quot; + params.toString();\n    }\n</code></pre>\n<p><strong>Functions</strong></p>\n<pre><code>public String removeLastLineSeparator(String input) {\n        if (input.endsWith(ls)) {\n            // Calculate the length of the input string\n            int length = input.length();\n\n            // Calculate the length of the line separator\n            int lineSeparatorLength = ls.length();\n\n            // Remove the line separator by excluding the last characters\n            input = input.substring(0, length - lineSeparatorLength);\n        }\n\n        return input;\n    }\n\nprivate String calculateHmacSha256(String data, String secretKey) throws NoSuchAlgorithmException {\n        try {\n            SecretKeySpec secretKeySpec = new SecretKeySpec(secretKey.getBytes(), &quot;HmacSHA256&quot;);\n            Mac mac = Mac.getInstance(&quot;HmacSHA256&quot;);\n            mac.init(secretKeySpec);\n            byte[] hash = mac.doFinal(data.getBytes());\n\n            // Use Apache Commons Codec to convert the byte array to a hexadecimal string\n            String hexHash = Hex.encodeHexString(hash).toLowerCase();\n            return hexHash;\n        } catch (Exception e) {\n            e.printStackTrace();\n            return null;\n        }\n    }\n</code></pre>\n<p>Why <em>hmacSha256</em> and <em>hash</em> are not the same? What I'm doing wrong? Thanks for any help!</p>\n<p>PS: maybe this <a href=\"https://github.com/dmytrostriletskyi/django-telegram-login/blob/develop/django_telegram_login/authentication.py\" rel=\"nofollow noreferrer\">python implementation</a> is useful.</p>\n"},{"tags":["java","spring-data-jpa","dependencies","version"],"answers":[{"tags":[],"owner":{"account_id":25822,"reputation":78747,"user_id":66686,"accept_rate":87,"display_name":"Jens Schauder"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697701119,"creation_date":1697700796,"answer_id":77321789,"question_id":77317399,"body_markdown":"If the error is really complaining about `org.springframework.data.repository.ListCrudRepositor` then you have typo somewhere in the code.\r\nThere is no such class. \r\nThere is only `org.springframework.data.repository.ListCrudRepository`.\r\n\r\nIf the exception complains about `org.springframework.data.repository.ListCrudRepository`, then something with your dependencies is messed up.\r\n\r\nYou probably have still an older version of Spring Data Commons on your classpath, which doesn&#39;t have that class yet.\r\nBut your pom file looks fine, so I suspect that you are seeing this in your IDE and that it didn&#39;t fully update it&#39;s dependencies.\r\nTherefore a reloading of the maven project into the IDE would be my first try.\r\n\r\nIf that doesn&#39;t resolve the issue I&#39;d start with the following:\r\n\r\n- Build the project on the commandline with Maven.\r\n- If that succeeds you need to investigate what is wrong in your IDE setup.\r\n- If the build fails with the mentioned exception, you should inspect the dependencies. I&#39;m sure it pulls in an old version of `spring-data-commons` and you need to find the reason for that. `mvn dependency:tree` should help with that. See https://stackoverflow.com/questions/278596/list-of-dependency-jar-files-in-maven for more information.","title":"how to resolve spring JpaRepository error","body":"<p>If the error is really complaining about <code>org.springframework.data.repository.ListCrudRepositor</code> then you have typo somewhere in the code.\nThere is no such class.\nThere is only <code>org.springframework.data.repository.ListCrudRepository</code>.</p>\n<p>If the exception complains about <code>org.springframework.data.repository.ListCrudRepository</code>, then something with your dependencies is messed up.</p>\n<p>You probably have still an older version of Spring Data Commons on your classpath, which doesn't have that class yet.\nBut your pom file looks fine, so I suspect that you are seeing this in your IDE and that it didn't fully update it's dependencies.\nTherefore a reloading of the maven project into the IDE would be my first try.</p>\n<p>If that doesn't resolve the issue I'd start with the following:</p>\n<ul>\n<li>Build the project on the commandline with Maven.</li>\n<li>If that succeeds you need to investigate what is wrong in your IDE setup.</li>\n<li>If the build fails with the mentioned exception, you should inspect the dependencies. I'm sure it pulls in an old version of <code>spring-data-commons</code> and you need to find the reason for that. <code>mvn dependency:tree</code> should help with that. See <a href=\"https://stackoverflow.com/questions/278596/list-of-dependency-jar-files-in-maven\">List of dependency jar files in Maven</a> for more information.</li>\n</ul>\n"}],"owner":{"account_id":19505218,"reputation":191,"user_id":14270425,"display_name":"Ukeme Elijah"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":68,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1697701119,"creation_date":1697640549,"question_id":77317399,"body_markdown":"I just switched over to the latest version of spring boot 3.1.4 and then started having this issue with using the `JpaRepository`.\r\n    I am getting this error that says Cannot access `org.springframework.data.repository.ListCrudRepositor`.\r\n    I don&#39;t know how to resolve it and I don&#39;t want to go back and continue using version 2.7.8 that I was using befor because I am only experiencing the issue while using this new version.\r\n    Here is my code\r\n```java    \r\n@Data\r\n@Entity\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\npublic class UserModel {\r\n    \r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Integer id;\r\n    private String name;\r\n    private String email;\r\n    private String profileImage;\r\n    private String accessToken;\r\n    private String phone;\r\n}\r\n```\r\n```java    \r\n@Repository\r\npublic interface UserRepository extends JpaRepository&lt;UserModel,Integer&gt; {\r\n}\r\n```\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n   \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n   \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n   \t\t&lt;version&gt;3.1.4&lt;/version&gt;\r\n   \t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n   \t&lt;/parent&gt;\r\n   \t&lt;groupId&gt;com.elijahukeme.onlinelearningappbackend&lt;/groupId&gt;\r\n   \t&lt;artifactId&gt;Online-Learning-App-Backend&lt;/artifactId&gt;\r\n   \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n   \t&lt;name&gt;Online-Learning-App-Backend&lt;/name&gt;\r\n   \t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n   \t&lt;properties&gt;\r\n   \t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n   \t&lt;/properties&gt;\r\n   \t&lt;dependencies&gt;\r\n   \t\t&lt;dependency&gt;\r\n   \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n   \t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n   \t\t&lt;/dependency&gt;\r\n   \t\t&lt;dependency&gt;\r\n   \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n   \t\t\t&lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n   \t\t&lt;/dependency&gt;\r\n   \r\n   \t\t&lt;dependency&gt;\r\n   \t\t\t&lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n   \t\t\t&lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\r\n   \t\t\t&lt;version&gt;4.0.1&lt;/version&gt;\r\n   \t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n   \t\t&lt;/dependency&gt;\r\n   \t\t&lt;dependency&gt;\r\n   \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n   \t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n   \t\t&lt;/dependency&gt;\r\n    \r\n   \t\t&lt;dependency&gt;\r\n   \t\t\t&lt;groupId&gt;com.mysql&lt;/groupId&gt;\r\n   \t\t\t&lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\r\n   \t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n   \t\t&lt;/dependency&gt;\r\n   \t\t&lt;dependency&gt;\r\n   \t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n   \t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n   \t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n   \t\t&lt;/dependency&gt;\r\n   \t\t&lt;dependency&gt;\r\n   \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n   \t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n   \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n   \t\t&lt;/dependency&gt;\r\n   \t\t&lt;dependency&gt;\r\n   \t\t\t&lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n   \t\t\t&lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\r\n   \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n   \t\t&lt;/dependency&gt;\r\n   \t&lt;/dependencies&gt;\r\n    \r\n   \t&lt;build&gt;\r\n   \t\t&lt;plugins&gt;\r\n   \t\t\t&lt;plugin&gt;\r\n   \t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n   \t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n   \t\t\t\t&lt;configuration&gt;\r\n   \t\t\t\t\t&lt;excludes&gt;\r\n   \t\t\t\t\t\t&lt;exclude&gt;\r\n   \t\t\t\t\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n   \t\t\t\t\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n   \t\t\t\t\t\t&lt;/exclude&gt;\r\n   \t\t\t\t\t&lt;/excludes&gt;\r\n   \t\t\t\t&lt;/configuration&gt;\r\n   \t\t\t&lt;/plugin&gt;\r\n   \t\t&lt;/plugins&gt;\r\n   \t&lt;/build&gt;\r\n    \r\n&lt;/project&gt;\r\n```\r\n","title":"how to resolve spring JpaRepository error","body":"<p>I just switched over to the latest version of spring boot 3.1.4 and then started having this issue with using the <code>JpaRepository</code>.\nI am getting this error that says Cannot access <code>org.springframework.data.repository.ListCrudRepositor</code>.\nI don't know how to resolve it and I don't want to go back and continue using version 2.7.8 that I was using befor because I am only experiencing the issue while using this new version.\nHere is my code</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Data\n@Entity\n@NoArgsConstructor\n@AllArgsConstructor\npublic class UserModel {\n    \n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Integer id;\n    private String name;\n    private String email;\n    private String profileImage;\n    private String accessToken;\n    private String phone;\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Repository\npublic interface UserRepository extends JpaRepository&lt;UserModel,Integer&gt; {\n}\n</code></pre>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n        xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.1.4&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.elijahukeme.onlinelearningappbackend&lt;/groupId&gt;\n    &lt;artifactId&gt;Online-Learning-App-Backend&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;Online-Learning-App-Backend&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n   \n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n            &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\n            &lt;version&gt;4.0.1&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n    \n        &lt;dependency&gt;\n            &lt;groupId&gt;com.mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n    \n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n    \n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","jar","jpackage"],"answers":[{"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1650371113,"creation_date":1650371113,"answer_id":71924924,"question_id":71163832,"body_markdown":"Investigate the content of the deb, or investigate the filesystem once the package is installed. Per default you should find it in /opt/&lt;applicationname&gt;. Underneath that you find a bin directory with only one file. That is the one you can invoke from command line.\r\n\r\nJPackage also creates a launcher, which resides in /opt/&lt;applicationname&gt;/lib/*.desktop. Check that text and you see that the executable is just the file in the bin directory, which means the GUI will run that exact command when the icon is clicked.","title":"How can I make executable file from jar with embedded JVM?","body":"<p>Investigate the content of the deb, or investigate the filesystem once the package is installed. Per default you should find it in /opt/. Underneath that you find a bin directory with only one file. That is the one you can invoke from command line.</p>\n<p>JPackage also creates a launcher, which resides in /opt//lib/*.desktop. Check that text and you see that the executable is just the file in the bin directory, which means the GUI will run that exact command when the icon is clicked.</p>\n"}],"owner":{"account_id":22897261,"reputation":74,"user_id":17036611,"display_name":"Eugene Kyrychenko"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":253,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":1,"score":1,"last_activity_date":1697701103,"creation_date":1645123875,"question_id":71163832,"body_markdown":"For example, I have `someFile.jar`. I can run it simply using `java -jar someFile.jar`.\r\nBut I want to create some files (for example `.deb` file) to install this `jar` to another machine. This machine may not have `jre` which is required for running this jar. So I want to create some executable file that will contain jar and JVM\r\n\r\nI tried to use `jpackage --name testName --input . --main-jar someFile.jar --linux-shortcut`. This command generates `.deb file but it won&#39;t create terminal command testName (to run this jar) but it creates a desktop app that I can run as an application but no one terminal command created. So, how can I create a deb file from the jar with embedded JVM to be able to run it as a command from terminal?","title":"How can I make executable file from jar with embedded JVM?","body":"<p>For example, I have <code>someFile.jar</code>. I can run it simply using <code>java -jar someFile.jar</code>.\nBut I want to create some files (for example <code>.deb</code> file) to install this <code>jar</code> to another machine. This machine may not have <code>jre</code> which is required for running this jar. So I want to create some executable file that will contain jar and JVM</p>\n<p>I tried to use <code>jpackage --name testName --input . --main-jar someFile.jar --linux-shortcut</code>. This command generates `.deb file but it won't create terminal command testName (to run this jar) but it creates a desktop app that I can run as an application but no one terminal command created. So, how can I create a deb file from the jar with embedded JVM to be able to run it as a command from terminal?</p>\n"},{"tags":["java","spring-boot","logging","spring-webflux"],"answers":[{"comments":[{"owner":{"account_id":4888255,"reputation":4312,"user_id":3940047,"accept_rate":80,"display_name":"Pavan Kumar"},"score":0,"creation_date":1520322272,"post_id":46867786,"comment_id":85256098,"body_markdown":"IMO, invoking `block()` defeats the purpose of using webclient. We can log request using a filter, but not sure how to log the response from a `Mono&lt;ClientResponse&gt;` without blocking.","body":"IMO, invoking <code>block()</code> defeats the purpose of using webclient. We can log request using a filter, but not sure how to log the response from a <code>Mono&lt;ClientResponse&gt;</code> without blocking."},{"owner":{"account_id":395827,"reputation":5063,"user_id":758991,"accept_rate":55,"display_name":"Ruslan Stelmachenko"},"score":3,"creation_date":1520357956,"post_id":46867786,"comment_id":85278654,"body_markdown":"@PavanKumar The `block()` call here is just for demo purpose. The request logging filter will work anyway. To log the response you can write another [`ExchangeFilterFunction`](https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/web/reactive/function/client/ExchangeFilterFunction.html#ofResponseProcessor-java.util.function.Function-) and log the response. But be careful when you log the response body - because of the stream nature of it, it can be consumed only one time without wrapper.","body":"@PavanKumar The <code>block()</code> call here is just for demo purpose. The request logging filter will work anyway. To log the response you can write another <a href=\"https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/web/reactive/function/client/ExchangeFilterFunction.html#ofResponseProcessor-java.util.function.Function-\" rel=\"nofollow noreferrer\"><code>ExchangeFilterFunction</code></a> and log the response. But be careful when you log the response body - because of the stream nature of it, it can be consumed only one time without wrapper."},{"owner":{"account_id":1408417,"reputation":287,"user_id":1335518,"accept_rate":30,"display_name":"Gaurav Singh"},"score":57,"creation_date":1533905245,"post_id":46867786,"comment_id":90530854,"body_markdown":"How to get request body from `clientRequest `?","body":"How to get request body from <code>clientRequest </code>?"},{"owner":{"account_id":395827,"reputation":5063,"user_id":758991,"accept_rate":55,"display_name":"Ruslan Stelmachenko"},"score":5,"creation_date":1575553280,"post_id":46867786,"comment_id":104611087,"body_markdown":"Short answer: you can&#39;t. As soon as you read the body (to log it), it is inaccessible to the consumer anymore. I think, it can be implemented wrapping the body stream into some buffered stream, but honestly I never done it. And it will eat memory, making reactive programming a little pointless. If you really need to log the body, you can make the underlying layer (Netty) to do this. See [Matthew Buckett&#39;s answer](https://stackoverflow.com/a/55790675/758991) to get the idea.","body":"Short answer: you can&#39;t. As soon as you read the body (to log it), it is inaccessible to the consumer anymore. I think, it can be implemented wrapping the body stream into some buffered stream, but honestly I never done it. And it will eat memory, making reactive programming a little pointless. If you really need to log the body, you can make the underlying layer (Netty) to do this. See <a href=\"https://stackoverflow.com/a/55790675/758991\">Matthew Buckett&#39;s answer</a> to get the idea."},{"owner":{"account_id":1358458,"reputation":508,"user_id":1296347,"accept_rate":67,"display_name":"al gh"},"score":1,"creation_date":1612069176,"post_id":46867786,"comment_id":116649050,"body_markdown":"I don&#39;t see this solution practical due to blocking.","body":"I don&#39;t see this solution practical due to blocking."},{"owner":{"account_id":2740665,"reputation":336,"user_id":2362274,"display_name":"Onur Baskirt"},"score":1,"creation_date":1617703143,"post_id":46867786,"comment_id":118371785,"body_markdown":"How can we log response along with request?","body":"How can we log response along with request?"},{"owner":{"account_id":3129869,"reputation":1542,"user_id":2647910,"accept_rate":92,"display_name":"aswzen"},"score":0,"creation_date":1626966478,"post_id":46867786,"comment_id":121037904,"body_markdown":"not a solution, and i found we have to avoid `block()` for reactive java app..","body":"not a solution, and i found we have to avoid <code>block()</code> for reactive java app.."},{"owner":{"account_id":4687856,"reputation":2198,"user_id":3794798,"accept_rate":90,"display_name":"kkochanski"},"score":0,"creation_date":1649750513,"post_id":46867786,"comment_id":126948880,"body_markdown":"Regarding logging the response body - that may help - https://stackoverflow.com/questions/71827275/spring-web-client-how-to-get-response-string-of-failed-request-wrapped-intro-r/71837600#71837600.","body":"Regarding logging the response body - that may help - <a href=\"https://stackoverflow.com/questions/71827275/spring-web-client-how-to-get-response-string-of-failed-request-wrapped-intro-r/71837600#71837600\" title=\"spring web client how to get response string of failed request wrapped intro r\">stackoverflow.com/questions/71827275/&hellip;</a>."},{"owner":{"account_id":7618549,"reputation":1394,"user_id":5777189,"display_name":"BabyishTank"},"score":0,"creation_date":1681865039,"post_id":46867786,"comment_id":134124844,"body_markdown":"The response without the HTTP Method or URI is not really useful, is there a way to get those along with the response?","body":"The response without the HTTP Method or URI is not really useful, is there a way to get those along with the response?"}],"tags":[],"owner":{"account_id":395827,"reputation":5063,"user_id":758991,"accept_rate":55,"display_name":"Ruslan Stelmachenko"},"comment_count":9,"down_vote_count":9,"up_vote_count":72,"is_accepted":true,"score":63,"last_activity_date":1627061728,"creation_date":1508617962,"answer_id":46867786,"question_id":46154994,"body_markdown":"You can easily do it using [ExchangeFilterFunction](https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/reactive/function/client/ExchangeFilterFunction.html)\r\n\r\nJust add the custom `logRequest` filter when you create your `WebClient` using `WebClient.Builder`.\r\n\r\nHere is the example of such filter and how to add it to the `WebClient`.\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    @Slf4j\r\n    @Component\r\n    public class MyClient {\r\n    \r\n    \tprivate final WebClient webClient;\r\n    \r\n    \t// Create WebClient instance using builder.\r\n    \t// If you use spring-boot 2.0, the builder will be autoconfigured for you\r\n    \t// with the &quot;prototype&quot; scope, meaning each injection point will receive\r\n    \t// a newly cloned instance of the builder.\r\n    \tpublic MyClient(WebClient.Builder webClientBuilder) {\r\n    \t\twebClient = webClientBuilder // you can also just use WebClient.builder()\r\n    \t\t\t\t.baseUrl(&quot;https://httpbin.org&quot;)\r\n    \t\t\t\t.filter(logRequest()) // here is the magic\r\n    \t\t\t\t.build();\r\n    \t}\r\n    \r\n    \t// Just example of sending request. This method is NOT part of the answer\r\n    \tpublic void send(String path) {\r\n    \t\tClientResponse clientResponse = webClient\r\n    \t\t\t\t.get().uri(uriBuilder -&gt; uriBuilder.path(path)\r\n    \t\t\t\t\t\t.queryParam(&quot;param&quot;, &quot;value&quot;)\r\n    \t\t\t\t\t\t.build())\r\n    \t\t\t\t.exchange()\r\n    \t\t\t\t.block();\r\n    \t\tlog.info(&quot;Response: {}&quot;, clientResponse.toEntity(String.class).block());\r\n    \t}\r\n\r\n    \t// This method returns filter function which will log request data\r\n    \tprivate static ExchangeFilterFunction logRequest() {\r\n    \t\treturn ExchangeFilterFunction.ofRequestProcessor(clientRequest -&gt; {\r\n    \t\t\tlog.info(&quot;Request: {} {}&quot;, clientRequest.method(), clientRequest.url());\r\n    \t\t\tclientRequest.headers().forEach((name, values) -&gt; values.forEach(value -&gt; log.info(&quot;{}={}&quot;, name, value)));\r\n    \t\t\treturn Mono.just(clientRequest);\r\n    \t\t});\r\n    \t}\r\n    \r\n    }\r\n\r\nThen just call `myClient.send(&quot;get&quot;);` and log messages should be there.\r\n\r\nOutput example:\r\n\r\n    Request: GET https://httpbin.org/get?param=value\r\n    header1=value1\r\n    header2=value2\r\n\r\n**Edit**\r\n\r\nSome people pointed out in comments that `block()` is bad practice etc. I want to clarify: `block()` call here is just *for demo purposes*. The request logging filter will work anyway. You will not need to add `block()` to your code to make `ExchangeFilterFunction` work. You can use `WebClient` to perform a http-call in a usual way, chaining methods and returning `Mono` up the stack until someone will subscribe to it. The only relevant part of the answer is `logRequest()` filter. You can ignore `send()` method altogether - it is not part of the solution - it just demonstrates that filter works.\r\n\r\nSome people also asked how to log the response. To log the response you can write another `ExchangeFilterFunction` and add it to `WebClient`. You can use [`ExchangeFilterFunction.ofResponseProcessor`][1] helper for this purpose just the same way as `ExchangeFilterFunction.ofRequestProcessor` is used. You can use methods of [`ClientResponse`][2] to get headers/cookies etc.\r\n\r\n    \t// This method returns filter function which will log response data\r\n    \tprivate static ExchangeFilterFunction logResponse() {\r\n    \t\treturn ExchangeFilterFunction.ofResponseProcessor(clientResponse -&gt; {\r\n    \t\t\tlog.info(&quot;Response status: {}&quot;, clientResponse.statusCode());\r\n    \t\t\tclientResponse.headers().asHttpHeaders().forEach((name, values) -&gt; values.forEach(value -&gt; log.info(&quot;{}={}&quot;, name, value)));\r\n    \t\t\treturn Mono.just(clientResponse);\r\n    \t\t});\r\n    \t}\r\n\r\nDon&#39;t forget to add it to your `WebClient`:\r\n\r\n    .filter(logResponse())\r\n\r\nBut be careful and do not try to read the response body here in the filter. Because of the stream nature of it, the body can be consumed only once without some kind of buffering wrapper. So, if you will read it in the filter, you will not be able to read it in the subscriber.\r\n\r\nIf you really need to log the body, you can make the underlying layer (Netty) to do this. See [Matthew Buckett&#39;s answer][3] to get the idea.\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/reactive/function/client/ExchangeFilterFunction.html#ofResponseProcessor-java.util.function.Function-\r\n  [2]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/reactive/function/client/ClientResponse.html\r\n  [3]: https://stackoverflow.com/a/55790675/758991","title":"how to log Spring 5 WebClient call","body":"<p>You can easily do it using <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/reactive/function/client/ExchangeFilterFunction.html\" rel=\"noreferrer\">ExchangeFilterFunction</a></p>\n<p>Just add the custom <code>logRequest</code> filter when you create your <code>WebClient</code> using <code>WebClient.Builder</code>.</p>\n<p>Here is the example of such filter and how to add it to the <code>WebClient</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Slf4j\n@Component\npublic class MyClient {\n\n    private final WebClient webClient;\n\n    // Create WebClient instance using builder.\n    // If you use spring-boot 2.0, the builder will be autoconfigured for you\n    // with the &quot;prototype&quot; scope, meaning each injection point will receive\n    // a newly cloned instance of the builder.\n    public MyClient(WebClient.Builder webClientBuilder) {\n        webClient = webClientBuilder // you can also just use WebClient.builder()\n                .baseUrl(&quot;https://httpbin.org&quot;)\n                .filter(logRequest()) // here is the magic\n                .build();\n    }\n\n    // Just example of sending request. This method is NOT part of the answer\n    public void send(String path) {\n        ClientResponse clientResponse = webClient\n                .get().uri(uriBuilder -&gt; uriBuilder.path(path)\n                        .queryParam(&quot;param&quot;, &quot;value&quot;)\n                        .build())\n                .exchange()\n                .block();\n        log.info(&quot;Response: {}&quot;, clientResponse.toEntity(String.class).block());\n    }\n\n    // This method returns filter function which will log request data\n    private static ExchangeFilterFunction logRequest() {\n        return ExchangeFilterFunction.ofRequestProcessor(clientRequest -&gt; {\n            log.info(&quot;Request: {} {}&quot;, clientRequest.method(), clientRequest.url());\n            clientRequest.headers().forEach((name, values) -&gt; values.forEach(value -&gt; log.info(&quot;{}={}&quot;, name, value)));\n            return Mono.just(clientRequest);\n        });\n    }\n\n}\n</code></pre>\n<p>Then just call <code>myClient.send(&quot;get&quot;);</code> and log messages should be there.</p>\n<p>Output example:</p>\n<pre><code>Request: GET https://httpbin.org/get?param=value\nheader1=value1\nheader2=value2\n</code></pre>\n<p><strong>Edit</strong></p>\n<p>Some people pointed out in comments that <code>block()</code> is bad practice etc. I want to clarify: <code>block()</code> call here is just <em>for demo purposes</em>. The request logging filter will work anyway. You will not need to add <code>block()</code> to your code to make <code>ExchangeFilterFunction</code> work. You can use <code>WebClient</code> to perform a http-call in a usual way, chaining methods and returning <code>Mono</code> up the stack until someone will subscribe to it. The only relevant part of the answer is <code>logRequest()</code> filter. You can ignore <code>send()</code> method altogether - it is not part of the solution - it just demonstrates that filter works.</p>\n<p>Some people also asked how to log the response. To log the response you can write another <code>ExchangeFilterFunction</code> and add it to <code>WebClient</code>. You can use <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/reactive/function/client/ExchangeFilterFunction.html#ofResponseProcessor-java.util.function.Function-\" rel=\"noreferrer\"><code>ExchangeFilterFunction.ofResponseProcessor</code></a> helper for this purpose just the same way as <code>ExchangeFilterFunction.ofRequestProcessor</code> is used. You can use methods of <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/reactive/function/client/ClientResponse.html\" rel=\"noreferrer\"><code>ClientResponse</code></a> to get headers/cookies etc.</p>\n<pre><code>    // This method returns filter function which will log response data\n    private static ExchangeFilterFunction logResponse() {\n        return ExchangeFilterFunction.ofResponseProcessor(clientResponse -&gt; {\n            log.info(&quot;Response status: {}&quot;, clientResponse.statusCode());\n            clientResponse.headers().asHttpHeaders().forEach((name, values) -&gt; values.forEach(value -&gt; log.info(&quot;{}={}&quot;, name, value)));\n            return Mono.just(clientResponse);\n        });\n    }\n</code></pre>\n<p>Don't forget to add it to your <code>WebClient</code>:</p>\n<pre><code>.filter(logResponse())\n</code></pre>\n<p>But be careful and do not try to read the response body here in the filter. Because of the stream nature of it, the body can be consumed only once without some kind of buffering wrapper. So, if you will read it in the filter, you will not be able to read it in the subscriber.</p>\n<p>If you really need to log the body, you can make the underlying layer (Netty) to do this. See <a href=\"https://stackoverflow.com/a/55790675/758991\">Matthew Buckett's answer</a> to get the idea.</p>\n"},{"comments":[{"owner":{"account_id":4888255,"reputation":4312,"user_id":3940047,"accept_rate":80,"display_name":"Pavan Kumar"},"score":0,"creation_date":1520322009,"post_id":47463190,"comment_id":85255955,"body_markdown":"I prefer this solution in limited and controlled environments as an easier option for debugging. This is not always recommended as it might expose some sensitive information in headers etc. If a custom filter is plugged, one has an option to parse and hide such sensitive information.","body":"I prefer this solution in limited and controlled environments as an easier option for debugging. This is not always recommended as it might expose some sensitive information in headers etc. If a custom filter is plugged, one has an option to parse and hide such sensitive information."},{"owner":{"account_id":446597,"reputation":22464,"user_id":839733,"accept_rate":69,"display_name":"Abhijit Sarkar"},"score":0,"creation_date":1520352729,"post_id":47463190,"comment_id":85275295,"body_markdown":"@PavanKumar Any sort of logging wire transmission may expose sensitive headers like `Authorization`. The OP didn’t ask for hiding them, but *if* that’s a requirement, *then* code may be written. Usually, it’s acceptable to log such headers at DEBUG level.","body":"@PavanKumar Any sort of logging wire transmission may expose sensitive headers like <code>Authorization</code>. The OP didn’t ask for hiding them, but <i>if</i> that’s a requirement, <i>then</i> code may be written. Usually, it’s acceptable to log such headers at DEBUG level."},{"owner":{"account_id":237529,"reputation":18988,"user_id":2621917,"accept_rate":80,"display_name":"Michael Piefel"},"score":1,"creation_date":1521816062,"post_id":47463190,"comment_id":85906985,"body_markdown":"Is it possible to log the response as well?","body":"Is it possible to log the response as well?"},{"owner":{"account_id":336332,"reputation":4386,"user_id":663929,"accept_rate":70,"display_name":"Andras Hatvani"},"score":0,"creation_date":1555581094,"post_id":47463190,"comment_id":98163753,"body_markdown":"@AbhijitSarkar How should the LoggingHandler be added in the pipeline? The referenced answer isn&#39;t sufficient for me as a Netty/Reactor-newbie.","body":"@AbhijitSarkar How should the LoggingHandler be added in the pipeline? The referenced answer isn&#39;t sufficient for me as a Netty/Reactor-newbie."},{"owner":{"account_id":446597,"reputation":22464,"user_id":839733,"accept_rate":69,"display_name":"Abhijit Sarkar"},"score":0,"creation_date":1555608551,"post_id":47463190,"comment_id":98178750,"body_markdown":"@AndrasHatvani Please start a new thread, don&#39;t hijack this one.","body":"@AndrasHatvani Please start a new thread, don&#39;t hijack this one."},{"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"score":0,"creation_date":1574063965,"post_id":47463190,"comment_id":104082550,"body_markdown":"Could you please provide detailed answer which describes your latest update(Mar 2019) ?","body":"Could you please provide detailed answer which describes your latest update(Mar 2019) ?"},{"owner":{"account_id":23506,"reputation":7505,"user_id":58962,"accept_rate":65,"display_name":"Michael B&#246;ckling"},"score":0,"creation_date":1628773754,"post_id":47463190,"comment_id":121515193,"body_markdown":"You should be able to avoid modifying ExchangeStrategies by setting &quot;spring.codec.log-request-details&quot; to true.","body":"You should be able to avoid modifying ExchangeStrategies by setting &quot;spring.codec.log-request-details&quot; to true."},{"owner":{"account_id":446597,"reputation":22464,"user_id":839733,"accept_rate":69,"display_name":"Abhijit Sarkar"},"score":0,"creation_date":1628812120,"post_id":47463190,"comment_id":121527776,"body_markdown":"@MichaelB&#246;ckling What version of Spring Boot are you referring to? No such property existed when I wrote the answer, and depending on the version, may still not be an option for some users.","body":"@MichaelB&#246;ckling What version of Spring Boot are you referring to? No such property existed when I wrote the answer, and depending on the version, may still not be an option for some users."},{"owner":{"account_id":23506,"reputation":7505,"user_id":58962,"accept_rate":65,"display_name":"Michael B&#246;ckling"},"score":0,"creation_date":1628931912,"post_id":47463190,"comment_id":121556251,"body_markdown":"I&#39;m currently on Spring Boot 2.5.2.","body":"I&#39;m currently on Spring Boot 2.5.2."},{"owner":{"account_id":543838,"reputation":2239,"user_id":913093,"accept_rate":43,"display_name":"denu"},"score":0,"creation_date":1678960132,"post_id":47463190,"comment_id":133635176,"body_markdown":"I needed the headers to be logged as well (for dev purposes) and this answer works!","body":"I needed the headers to be logged as well (for dev purposes) and this answer works!"}],"tags":[],"owner":{"account_id":446597,"reputation":22464,"user_id":839733,"accept_rate":69,"display_name":"Abhijit Sarkar"},"comment_count":10,"down_vote_count":0,"up_vote_count":31,"is_accepted":false,"score":31,"last_activity_date":1553926867,"creation_date":1511470796,"answer_id":47463190,"question_id":46154994,"body_markdown":"You don&#39;t necessarily need to roll your own logger, `reactor.ipc.netty.channel.ChannelOperationsHandler` does it for you. Just configure your logging system for that class to log at DEBUG level:\r\n\r\n    2017-11-23 12:52:04.562 DEBUG 41449 --- [ctor-http-nio-5] r.i.n.channel.ChannelOperationsHandler   : [id: 0x9183d6da, L:/127.0.0.1:57681 - R:localhost/127.0.0.1:8000] Writing object DefaultFullHttpRequest(decodeResult: success, version: HTTP/1.1, content: UnpooledByteBufAllocator$InstrumentedUnpooledUnsafeHeapByteBuf(ridx: 0, widx: 0, cap: 0))\r\n    GET /api/v1/watch/namespaces/default/events HTTP/1.1\r\n    user-agent: ReactorNetty/0.7.1.RELEASE\r\n    host: localhost:8000\r\n    accept-encoding: gzip\r\n    Accept: application/json\r\n    content-length: 0\r\n\r\nOne way to have fewer bugs is to not write code whenever possible.\r\n\r\n**Nov 2018**:\r\n\r\nWith `spring-webflux:5.1.2.RELEASE`, the above no longer works. Use the following instead:\r\n\r\n    logging.level.org.springframework.web.reactive.function.client.ExchangeFunctions=DEBUG\r\n    ...\r\n    2018-11-06 20:58:58.181 DEBUG 20300 --- [           main] o.s.w.r.f.client.ExchangeFunctions       : [2026fbff] HTTP GET http://localhost:8080/stocks/search?symbol=AAPL\r\n    2018-11-06 20:58:58.451 DEBUG 20300 --- [ctor-http-nio-4] o.s.w.r.f.client.ExchangeFunctions       : [2026fbff] Response 400 BAD_REQUEST\r\n\r\nTo log headers or form body, set the above to `TRACE` level; however, that&#39;s not enough:\r\n\r\n    ExchangeStrategies exchangeStrategies = ExchangeStrategies.withDefaults();\r\n    exchangeStrategies\r\n        .messageWriters().stream()\r\n        .filter(LoggingCodecSupport.class::isInstance)\r\n        .forEach(writer -&gt; ((LoggingCodecSupport)writer).setEnableLoggingRequestDetails(true));\r\n            \r\n    client = WebClient.builder()\r\n        .exchangeStrategies(exchangeStrategies)\r\n\r\n**Mar 2019**:\n\nIn response to a question in the comment that asked how to log request and response body, I don’t know if Spring has such a logger but `WebClient` is built on Netty, so enabling debug logging for package `reactor.ipc.netty` should work, along with [this][1] answer.\n\n\n  [1]: https://stackoverflow.com/a/15096962/839733","title":"how to log Spring 5 WebClient call","body":"<p>You don't necessarily need to roll your own logger, <code>reactor.ipc.netty.channel.ChannelOperationsHandler</code> does it for you. Just configure your logging system for that class to log at DEBUG level:</p>\n\n<pre><code>2017-11-23 12:52:04.562 DEBUG 41449 --- [ctor-http-nio-5] r.i.n.channel.ChannelOperationsHandler   : [id: 0x9183d6da, L:/127.0.0.1:57681 - R:localhost/127.0.0.1:8000] Writing object DefaultFullHttpRequest(decodeResult: success, version: HTTP/1.1, content: UnpooledByteBufAllocator$InstrumentedUnpooledUnsafeHeapByteBuf(ridx: 0, widx: 0, cap: 0))\nGET /api/v1/watch/namespaces/default/events HTTP/1.1\nuser-agent: ReactorNetty/0.7.1.RELEASE\nhost: localhost:8000\naccept-encoding: gzip\nAccept: application/json\ncontent-length: 0\n</code></pre>\n\n<p>One way to have fewer bugs is to not write code whenever possible.</p>\n\n<p><strong>Nov 2018</strong>:</p>\n\n<p>With <code>spring-webflux:5.1.2.RELEASE</code>, the above no longer works. Use the following instead:</p>\n\n<pre><code>logging.level.org.springframework.web.reactive.function.client.ExchangeFunctions=DEBUG\n...\n2018-11-06 20:58:58.181 DEBUG 20300 --- [           main] o.s.w.r.f.client.ExchangeFunctions       : [2026fbff] HTTP GET http://localhost:8080/stocks/search?symbol=AAPL\n2018-11-06 20:58:58.451 DEBUG 20300 --- [ctor-http-nio-4] o.s.w.r.f.client.ExchangeFunctions       : [2026fbff] Response 400 BAD_REQUEST\n</code></pre>\n\n<p>To log headers or form body, set the above to <code>TRACE</code> level; however, that's not enough:</p>\n\n<pre><code>ExchangeStrategies exchangeStrategies = ExchangeStrategies.withDefaults();\nexchangeStrategies\n    .messageWriters().stream()\n    .filter(LoggingCodecSupport.class::isInstance)\n    .forEach(writer -&gt; ((LoggingCodecSupport)writer).setEnableLoggingRequestDetails(true));\n\nclient = WebClient.builder()\n    .exchangeStrategies(exchangeStrategies)\n</code></pre>\n\n<p><strong>Mar 2019</strong>:</p>\n\n<p>In response to a question in the comment that asked how to log request and response body, I don’t know if Spring has such a logger but <code>WebClient</code> is built on Netty, so enabling debug logging for package <code>reactor.ipc.netty</code> should work, along with <a href=\"https://stackoverflow.com/a/15096962/839733\">this</a> answer.</p>\n"},{"comments":[{"owner":{"account_id":7125436,"reputation":518,"user_id":5448500,"display_name":"Tobske"},"score":1,"creation_date":1546508996,"post_id":53453644,"comment_id":94875609,"body_markdown":"I like the version for Spring Boot &gt;= 2.1.0 but it only logs `headers={masked}`in my case. Any idea why?","body":"I like the version for Spring Boot &gt;= 2.1.0 but it only logs <code>headers={masked}</code>in my case. Any idea why?"},{"owner":{"account_id":7125436,"reputation":518,"user_id":5448500,"display_name":"Tobske"},"score":4,"creation_date":1546509227,"post_id":53453644,"comment_id":94875738,"body_markdown":"Ok, sometimes I should search for a solution a bit longer: https://docs.spring.io/spring/docs/current/spring-framework-reference/web-reactive.html#webflux-logging-sensitive-data. This explains why it prints masked and how you can disable it.","body":"Ok, sometimes I should search for a solution a bit longer: <a href=\"https://docs.spring.io/spring/docs/current/spring-framework-reference/web-reactive.html#webflux-logging-sensitive-data\" rel=\"nofollow noreferrer\">docs.spring.io/spring/docs/current/spring-framework-referenc&zwnj;&#8203;e/&hellip;</a>. This explains why it prints masked and how you can disable it."},{"owner":{"account_id":53237,"reputation":4939,"user_id":159178,"accept_rate":73,"display_name":"Fletch"},"score":0,"creation_date":1546598341,"post_id":53453644,"comment_id":94909786,"body_markdown":"@Tobske the second linke from from the &gt;=2.1.0 section takes care of the masked headers, you should not need any further changes. At least that is my experience.","body":"@Tobske the second linke from from the &gt;=2.1.0 section takes care of the masked headers, you should not need any further changes. At least that is my experience."},{"owner":{"account_id":4325009,"reputation":2727,"user_id":3861128,"accept_rate":71,"display_name":"Abdelghani Roussi"},"score":8,"creation_date":1598477508,"post_id":53453644,"comment_id":112475778,"body_markdown":"`spring.http.log-request-details=true`is deprecated in favor of `spring.mvc.log-request-details=true`","body":"<code>spring.http.log-request-details=true</code>is deprecated in favor of <code>spring.mvc.log-request-details=true</code>"},{"owner":{"account_id":10695301,"reputation":331,"user_id":7872692,"display_name":"mehdi mohammadi"},"score":0,"creation_date":1619510791,"post_id":53453644,"comment_id":118920870,"body_markdown":"I can not see my request body being logged. Did I miss something?","body":"I can not see my request body being logged. Did I miss something?"}],"tags":[],"owner":{"account_id":53237,"reputation":4939,"user_id":159178,"accept_rate":73,"display_name":"Fletch"},"comment_count":5,"down_vote_count":1,"up_vote_count":31,"is_accepted":false,"score":30,"last_activity_date":1543013364,"creation_date":1543013364,"answer_id":53453644,"question_id":46154994,"body_markdown":"If you don&#39;t want to log the body, then this is really easy.\r\n\r\n### Spring Boot &gt;= 2.1.0\r\nAdd the following to application.properties:\r\n\r\n    logging.level.org.springframework.web.reactive.function.client.ExchangeFunctions=TRACE\r\n    spring.http.log-request-details=true\r\n\r\nThe second line causes headers to be included in the log.\r\n\r\n### Spring Boot &lt; 2.1.0\r\nAdd the following to application.properties:\r\n\r\n    logging.level.org.springframework.web.reactive.function.client.ExchangeFunctions=TRACE\r\n\r\nInstead of the second line above, you need to declare a class like this:\r\n\r\n    @Configuration\r\n    static class LoggingCodecConfig {\r\n    \r\n        @Bean\r\n        @Order(0)\r\n        public CodecCustomizer loggingCodecCustomizer() {\r\n            return (configurer) -&gt; configurer.defaultCodecs()\r\n                    .enableLoggingRequestDetails(true);\r\n        }\r\n    \r\n    }\r\n\r\nCourtesy of [this Brian Clozel answer][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/53447759/159178","title":"how to log Spring 5 WebClient call","body":"<p>If you don't want to log the body, then this is really easy.</p>\n\n<h3>Spring Boot >= 2.1.0</h3>\n\n<p>Add the following to application.properties:</p>\n\n<pre><code>logging.level.org.springframework.web.reactive.function.client.ExchangeFunctions=TRACE\nspring.http.log-request-details=true\n</code></pre>\n\n<p>The second line causes headers to be included in the log.</p>\n\n<h3>Spring Boot &lt; 2.1.0</h3>\n\n<p>Add the following to application.properties:</p>\n\n<pre><code>logging.level.org.springframework.web.reactive.function.client.ExchangeFunctions=TRACE\n</code></pre>\n\n<p>Instead of the second line above, you need to declare a class like this:</p>\n\n<pre><code>@Configuration\nstatic class LoggingCodecConfig {\n\n    @Bean\n    @Order(0)\n    public CodecCustomizer loggingCodecCustomizer() {\n        return (configurer) -&gt; configurer.defaultCodecs()\n                .enableLoggingRequestDetails(true);\n    }\n\n}\n</code></pre>\n\n<p>Courtesy of <a href=\"https://stackoverflow.com/a/53447759/159178\">this Brian Clozel answer</a></p>\n"},{"comments":[{"owner":{"account_id":341185,"reputation":16364,"user_id":671639,"accept_rate":69,"display_name":"BetaRide"},"score":3,"creation_date":1560832036,"post_id":55790675,"comment_id":99854014,"body_markdown":"Thank you so much! Although the format isn&#39;t very readable it&#39;s the only way I found so far to see the actual request and response body going over the wire.","body":"Thank you so much! Although the format isn&#39;t very readable it&#39;s the only way I found so far to see the actual request and response body going over the wire."},{"owner":{"account_id":17481902,"reputation":67,"user_id":12675709,"display_name":"Piotr Supel"},"score":9,"creation_date":1634912491,"post_id":55790675,"comment_id":123162184,"body_markdown":"But you can still use wiretap(HTTP_CLIENT, LogLevel.DEBUG, AdvancedByteBufFormat.TEXTUAL) instead of wiretap(true)","body":"But you can still use wiretap(HTTP_CLIENT, LogLevel.DEBUG, AdvancedByteBufFormat.TEXTUAL) instead of wiretap(true)"}],"tags":[],"owner":{"account_id":88507,"reputation":4193,"user_id":244744,"accept_rate":33,"display_name":"Matthew Buckett"},"comment_count":2,"down_vote_count":1,"up_vote_count":63,"is_accepted":false,"score":62,"last_activity_date":1555917765,"creation_date":1555917765,"answer_id":55790675,"question_id":46154994,"body_markdown":"You can have netty do logging of the request/responses with by asking it todo wiretaping, if you create your Spring WebClient like this then it enables the wiretap option.\r\n\r\n            WebClient webClient = WebClient.builder()\r\n                .clientConnector(new ReactorClientHttpConnector(\r\n                    HttpClient.create().wiretap(true)\r\n                ))\r\n                .build()\r\n\r\nand then have your logging setup:\r\n\r\n    logging.level.reactor.netty.http.client.HttpClient: DEBUG\r\n\r\nthis will log everything for the request/response (including bodies), but the format is not specific to HTTP so not very readable.\r\n","title":"how to log Spring 5 WebClient call","body":"<p>You can have netty do logging of the request/responses with by asking it todo wiretaping, if you create your Spring WebClient like this then it enables the wiretap option.</p>\n\n<pre><code>        WebClient webClient = WebClient.builder()\n            .clientConnector(new ReactorClientHttpConnector(\n                HttpClient.create().wiretap(true)\n            ))\n            .build()\n</code></pre>\n\n<p>and then have your logging setup:</p>\n\n<pre><code>logging.level.reactor.netty.http.client.HttpClient: DEBUG\n</code></pre>\n\n<p>this will log everything for the request/response (including bodies), but the format is not specific to HTTP so not very readable.</p>\n"},{"comments":[{"owner":{"account_id":127534,"reputation":2671,"user_id":324777,"accept_rate":46,"display_name":"Niranjan"},"score":1,"creation_date":1570148472,"post_id":58050657,"comment_id":102831559,"body_markdown":"I am on Netty 4.1.38 and this code does not print response content correctly (����$N\\;��z�e��&gt;$[�).","body":"I am on Netty 4.1.38 and this code does not print response content correctly (����$N\\;��z�e��&gt;$[�)."},{"owner":{"account_id":3280772,"reputation":945,"user_id":2761431,"accept_rate":29,"display_name":"user2761431"},"score":3,"creation_date":1577348498,"post_id":58050657,"comment_id":105146542,"body_markdown":"It works after adding the constructor mentioned in the link https://www.baeldung.com/spring-log-webclient-calls","body":"It works after adding the constructor mentioned in the link <a href=\"https://www.baeldung.com/spring-log-webclient-calls\" rel=\"nofollow noreferrer\">baeldung.com/spring-log-webclient-calls</a>"},{"owner":{"account_id":238157,"reputation":37489,"user_id":506855,"accept_rate":47,"display_name":"Puce"},"score":4,"creation_date":1599146696,"post_id":58050657,"comment_id":112690019,"body_markdown":"tcpClient.bootstrap is deprecated and it was not obvious which method to use instead","body":"tcpClient.bootstrap is deprecated and it was not obvious which method to use instead"},{"owner":{"account_id":5187513,"reputation":1584,"user_id":4151472,"accept_rate":71,"display_name":"RichArt"},"score":1,"creation_date":1602709020,"post_id":58050657,"comment_id":113809767,"body_markdown":"Yes, this is a good way to log the body. The drawback is that the response is scattered over multiple log entries.","body":"Yes, this is a good way to log the body. The drawback is that the response is scattered over multiple log entries."},{"owner":{"account_id":3144837,"reputation":1675,"user_id":2659499,"accept_rate":79,"display_name":"Vahid"},"score":0,"creation_date":1654877020,"post_id":58050657,"comment_id":128205133,"body_markdown":"For new way to do this refer to [How to customize reactor Netty&#39;s HttpClient LoggingHandler without using deprecated methods](https://stackoverflow.com/a/72540858/2659499)","body":"For new way to do this refer to <a href=\"https://stackoverflow.com/a/72540858/2659499\">How to customize reactor Netty&#39;s HttpClient LoggingHandler without using deprecated methods</a>"}],"tags":[],"owner":{"account_id":4285843,"reputation":4366,"user_id":3503685,"accept_rate":72,"display_name":"StasKolodyuk"},"comment_count":5,"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1569166050,"creation_date":1569166050,"answer_id":58050657,"question_id":46154994,"body_markdown":"@Matthew Buckett answer shows you how to get Netty wire logging. However, the format is not very fancy (it includes hex dump). But it can be easily customized via extending `io.netty.handler.logging.LoggingHandler`\r\n\r\n```\r\npublic class HttpLoggingHandler extends LoggingHandler {\r\n\r\n    @Override\r\n    protected String format(ChannelHandlerContext ctx, String event, Object arg) {\r\n        if (arg instanceof ByteBuf) {\r\n            ByteBuf msg = (ByteBuf) arg;\r\n            return msg.toString(StandardCharsets.UTF_8);\r\n        }\r\n        return super.format(ctx, event, arg);\r\n    }\r\n}\r\n\r\n```\r\n\r\nThen include it in your `WebClient` configuration:\r\n\r\n```\r\nHttpClient httpClient = HttpClient.create()\r\n    .tcpConfiguration(tcpClient -&gt;\r\n        tcpClient.bootstrap(bootstrap -&gt;\r\n            BootstrapHandlers.updateLogSupport(bootstrap, new HttpLoggingHandler())));\r\n\r\nWebClient\r\n    .builder()\r\n    .clientConnector(new ReactorClientHttpConnector(httpClient))\r\n    .build()\r\n```\r\n\r\nExample:\r\n```\r\nwebClient.post()\r\n    .uri(&quot;https://postman-echo.com/post&quot;)\r\n    .syncBody(&quot;{\\&quot;foo\\&quot; : \\&quot;bar\\&quot;}&quot;)\r\n    .accept(MediaType.APPLICATION_JSON)\r\n    .exchange()\r\n    .block();\r\n```\r\n```\r\n2019-09-22 18:09:21.477 DEBUG   --- [ctor-http-nio-4] c.e.w.c.e.logging.HttpLoggingHandler     : [id: 0x505be2bb] REGISTERED\r\n2019-09-22 18:09:21.489 DEBUG   --- [ctor-http-nio-4] c.e.w.c.e.logging.HttpLoggingHandler     : [id: 0x505be2bb] CONNECT: postman-echo.com/35.170.134.160:443\r\n2019-09-22 18:09:21.701 DEBUG   --- [ctor-http-nio-4] c.e.w.c.e.logging.HttpLoggingHandler     : [id: 0x505be2bb, L:/192.168.100.35:55356 - R:postman-echo.com/35.170.134.160:443] ACTIVE\r\n2019-09-22 18:09:21.836 DEBUG   --- [ctor-http-nio-4] c.e.w.c.e.logging.HttpLoggingHandler     : [id: 0x505be2bb, L:/192.168.100.35:55356 - R:postman-echo.com/35.170.134.160:443] READ COMPLETE\r\n2019-09-22 18:09:21.905 DEBUG   --- [ctor-http-nio-4] c.e.w.c.e.logging.HttpLoggingHandler     : [id: 0x505be2bb, L:/192.168.100.35:55356 - R:postman-echo.com/35.170.134.160:443] READ COMPLETE\r\n2019-09-22 18:09:22.036 DEBUG   --- [ctor-http-nio-4] c.e.w.c.e.logging.HttpLoggingHandler     : [id: 0x505be2bb, L:/192.168.100.35:55356 - R:postman-echo.com/35.170.134.160:443] USER_EVENT: SslHandshakeCompletionEvent(SUCCESS)\r\n2019-09-22 18:09:22.082 DEBUG   --- [ctor-http-nio-4] c.e.w.c.e.logging.HttpLoggingHandler     : POST /post HTTP/1.1\r\nuser-agent: ReactorNetty/0.8.11.RELEASE\r\nhost: postman-echo.com\r\nAccept: application/json\r\nContent-Type: text/plain;charset=UTF-8\r\ncontent-length: 15\r\n\r\n{&quot;foo&quot; : &quot;bar&quot;}\r\n2019-09-22 18:09:22.083 DEBUG   --- [ctor-http-nio-4] c.e.w.c.e.logging.HttpLoggingHandler     : [id: 0x505be2bb, L:/192.168.100.35:55356 - R:postman-echo.com/35.170.134.160:443] FLUSH\r\n2019-09-22 18:09:22.086 DEBUG   --- [ctor-http-nio-4] c.e.w.c.e.logging.HttpLoggingHandler     : [id: 0x505be2bb, L:/192.168.100.35:55356 - R:postman-echo.com/35.170.134.160:443] READ COMPLETE\r\n2019-09-22 18:09:22.217 DEBUG   --- [ctor-http-nio-4] c.e.w.c.e.logging.HttpLoggingHandler     : HTTP/1.1 200 OK\r\nContent-Type: application/json; charset=utf-8\r\nDate: Sun, 22 Sep 2019 15:09:22 GMT\r\nETag: W/&quot;151-Llbe8OYGC3GeZCxttuAH3BOYBKA&quot;\r\nServer: nginx\r\nset-cookie: sails.sid=s%3APe39li6V8TL8FOJOzSINZRkQlZ7HFAYi.UkLZjfajJqkq9fUfF2Y8N4JOInHNW5t1XACu3fhQYSc; Path=/; HttpOnly\r\nVary: Accept-Encoding\r\nContent-Length: 337\r\nConnection: keep-alive\r\n\r\n{&quot;args&quot;:{},&quot;data&quot;:&quot;{\\&quot;foo\\&quot; : \\&quot;bar\\&quot;}&quot;,&quot;files&quot;:{},&quot;form&quot;:{},&quot;headers&quot;:{&quot;x-forwarded-proto&quot;:&quot;https&quot;,&quot;host&quot;:&quot;postman-echo.com&quot;,&quot;content-length&quot;:&quot;15&quot;,&quot;accept&quot;:&quot;application/json&quot;,&quot;content-type&quot;:&quot;text/plain;charset=UTF-8&quot;,&quot;user-agent&quot;:&quot;ReactorNetty/0.8.11.RELEASE&quot;,&quot;x-forwarded-port&quot;:&quot;443&quot;},&quot;json&quot;:null,&quot;url&quot;:&quot;https://postman-echo.com/post&quot;}\r\n2019-09-22 18:09:22.243 DEBUG   --- [ctor-http-nio-4] c.e.w.c.e.logging.HttpLoggingHandler     : [id: 0x505be2bb, L:/192.168.100.35:55356 - R:postman-echo.com/35.170.134.160:443] READ COMPLETE\r\n```\r\n\r\nIf you want to suppress useless (for you) log entries like (note `ACTIVE` at the end):\r\n```\r\n2019-09-22 18:09:21.701 DEBUG   --- [ctor-http-nio-4] c.e.w.c.e.logging.HttpLoggingHandler     : [id: 0x505be2bb, L:/192.168.100.35:55356 - R:postman-echo.com/35.170.134.160:443] ACTIVE\r\n```\r\nYou can override `channelActive` and others like so:\r\n```\r\n@Override\r\npublic void channelActive(ChannelHandlerContext ctx) {\r\n    ctx.fireChannelActive();\r\n}\r\n```\r\n\r\nThe answer is based on https://www.baeldung.com/spring-log-webclient-calls\r\n\r\n","title":"how to log Spring 5 WebClient call","body":"<p>@Matthew Buckett answer shows you how to get Netty wire logging. However, the format is not very fancy (it includes hex dump). But it can be easily customized via extending <code>io.netty.handler.logging.LoggingHandler</code></p>\n\n<pre><code>public class HttpLoggingHandler extends LoggingHandler {\n\n    @Override\n    protected String format(ChannelHandlerContext ctx, String event, Object arg) {\n        if (arg instanceof ByteBuf) {\n            ByteBuf msg = (ByteBuf) arg;\n            return msg.toString(StandardCharsets.UTF_8);\n        }\n        return super.format(ctx, event, arg);\n    }\n}\n\n</code></pre>\n\n<p>Then include it in your <code>WebClient</code> configuration:</p>\n\n<pre><code>HttpClient httpClient = HttpClient.create()\n    .tcpConfiguration(tcpClient -&gt;\n        tcpClient.bootstrap(bootstrap -&gt;\n            BootstrapHandlers.updateLogSupport(bootstrap, new HttpLoggingHandler())));\n\nWebClient\n    .builder()\n    .clientConnector(new ReactorClientHttpConnector(httpClient))\n    .build()\n</code></pre>\n\n<p>Example:</p>\n\n<pre><code>webClient.post()\n    .uri(\"https://postman-echo.com/post\")\n    .syncBody(\"{\\\"foo\\\" : \\\"bar\\\"}\")\n    .accept(MediaType.APPLICATION_JSON)\n    .exchange()\n    .block();\n</code></pre>\n\n<pre><code>2019-09-22 18:09:21.477 DEBUG   --- [ctor-http-nio-4] c.e.w.c.e.logging.HttpLoggingHandler     : [id: 0x505be2bb] REGISTERED\n2019-09-22 18:09:21.489 DEBUG   --- [ctor-http-nio-4] c.e.w.c.e.logging.HttpLoggingHandler     : [id: 0x505be2bb] CONNECT: postman-echo.com/35.170.134.160:443\n2019-09-22 18:09:21.701 DEBUG   --- [ctor-http-nio-4] c.e.w.c.e.logging.HttpLoggingHandler     : [id: 0x505be2bb, L:/192.168.100.35:55356 - R:postman-echo.com/35.170.134.160:443] ACTIVE\n2019-09-22 18:09:21.836 DEBUG   --- [ctor-http-nio-4] c.e.w.c.e.logging.HttpLoggingHandler     : [id: 0x505be2bb, L:/192.168.100.35:55356 - R:postman-echo.com/35.170.134.160:443] READ COMPLETE\n2019-09-22 18:09:21.905 DEBUG   --- [ctor-http-nio-4] c.e.w.c.e.logging.HttpLoggingHandler     : [id: 0x505be2bb, L:/192.168.100.35:55356 - R:postman-echo.com/35.170.134.160:443] READ COMPLETE\n2019-09-22 18:09:22.036 DEBUG   --- [ctor-http-nio-4] c.e.w.c.e.logging.HttpLoggingHandler     : [id: 0x505be2bb, L:/192.168.100.35:55356 - R:postman-echo.com/35.170.134.160:443] USER_EVENT: SslHandshakeCompletionEvent(SUCCESS)\n2019-09-22 18:09:22.082 DEBUG   --- [ctor-http-nio-4] c.e.w.c.e.logging.HttpLoggingHandler     : POST /post HTTP/1.1\nuser-agent: ReactorNetty/0.8.11.RELEASE\nhost: postman-echo.com\nAccept: application/json\nContent-Type: text/plain;charset=UTF-8\ncontent-length: 15\n\n{\"foo\" : \"bar\"}\n2019-09-22 18:09:22.083 DEBUG   --- [ctor-http-nio-4] c.e.w.c.e.logging.HttpLoggingHandler     : [id: 0x505be2bb, L:/192.168.100.35:55356 - R:postman-echo.com/35.170.134.160:443] FLUSH\n2019-09-22 18:09:22.086 DEBUG   --- [ctor-http-nio-4] c.e.w.c.e.logging.HttpLoggingHandler     : [id: 0x505be2bb, L:/192.168.100.35:55356 - R:postman-echo.com/35.170.134.160:443] READ COMPLETE\n2019-09-22 18:09:22.217 DEBUG   --- [ctor-http-nio-4] c.e.w.c.e.logging.HttpLoggingHandler     : HTTP/1.1 200 OK\nContent-Type: application/json; charset=utf-8\nDate: Sun, 22 Sep 2019 15:09:22 GMT\nETag: W/\"151-Llbe8OYGC3GeZCxttuAH3BOYBKA\"\nServer: nginx\nset-cookie: sails.sid=s%3APe39li6V8TL8FOJOzSINZRkQlZ7HFAYi.UkLZjfajJqkq9fUfF2Y8N4JOInHNW5t1XACu3fhQYSc; Path=/; HttpOnly\nVary: Accept-Encoding\nContent-Length: 337\nConnection: keep-alive\n\n{\"args\":{},\"data\":\"{\\\"foo\\\" : \\\"bar\\\"}\",\"files\":{},\"form\":{},\"headers\":{\"x-forwarded-proto\":\"https\",\"host\":\"postman-echo.com\",\"content-length\":\"15\",\"accept\":\"application/json\",\"content-type\":\"text/plain;charset=UTF-8\",\"user-agent\":\"ReactorNetty/0.8.11.RELEASE\",\"x-forwarded-port\":\"443\"},\"json\":null,\"url\":\"https://postman-echo.com/post\"}\n2019-09-22 18:09:22.243 DEBUG   --- [ctor-http-nio-4] c.e.w.c.e.logging.HttpLoggingHandler     : [id: 0x505be2bb, L:/192.168.100.35:55356 - R:postman-echo.com/35.170.134.160:443] READ COMPLETE\n</code></pre>\n\n<p>If you want to suppress useless (for you) log entries like (note <code>ACTIVE</code> at the end):</p>\n\n<pre><code>2019-09-22 18:09:21.701 DEBUG   --- [ctor-http-nio-4] c.e.w.c.e.logging.HttpLoggingHandler     : [id: 0x505be2bb, L:/192.168.100.35:55356 - R:postman-echo.com/35.170.134.160:443] ACTIVE\n</code></pre>\n\n<p>You can override <code>channelActive</code> and others like so:</p>\n\n<pre><code>@Override\npublic void channelActive(ChannelHandlerContext ctx) {\n    ctx.fireChannelActive();\n}\n</code></pre>\n\n<p>The answer is based on <a href=\"https://www.baeldung.com/spring-log-webclient-calls\" rel=\"noreferrer\">https://www.baeldung.com/spring-log-webclient-calls</a></p>\n"},{"tags":[],"owner":{"account_id":945079,"reputation":2425,"user_id":972463,"display_name":"Sergey Ushakov"},"comment_count":0,"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1582625725,"creation_date":1582625725,"answer_id":60392186,"question_id":46154994,"body_markdown":"An update of Feb 2020 for Spring Boot 2.2.4 and Spring 5.2.3:\r\n\r\nI did not manage to get `spring.http.log-request-details=true` doing its job, and current [Spring WebFlux reference suggests](https://docs.spring.io/spring/docs/5.2.3.RELEASE/spring-framework-reference/web-reactive.html#webflux-logging-sensitive-data) that some coding needs be done to have headers logged, though the code example uses deprecated [`exchangeStrategies()`](https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/reactive/function/client/WebClient.Builder.html#exchangeStrategies-java.util.function.Consumer-) method.\r\n\r\nThere is still a replacement for the deprecated method, so a compact piece of code for getting headers logged at WebClient level may look like this:\r\n\r\n    WebClient webClient = WebClient.builder()\r\n        .codecs(configurer -&gt; configurer.defaultCodecs().enableLoggingRequestDetails(true))\r\n        .build();\r\n\r\nwith further\r\n\r\n    logging.level.org.springframework.web.reactive.function.client.ExchangeFunctions=TRACE\r\n\r\nIt should be noted though that not all of the headers are available (do exist) at WebFlux `ExchangeFunctions` level, so some more logging at Netty `HttpClient` level may be essential too, as per [@Matthew&#39;s suggestion](https://stackoverflow.com/a/55790675/972463):\r\n\r\n    WebClient webClient = WebClient.builder()\r\n        .clientConnector(new ReactorClientHttpConnector(\r\n            HttpClient.create()\r\n                .wiretap(true)))\r\n        .build()\r\n\r\nwith further\r\n\r\n    logging.level.reactor.netty.http.client.HttpClient: DEBUG\r\n\r\nThis will get bodies logged too.","title":"how to log Spring 5 WebClient call","body":"<p>An update of Feb 2020 for Spring Boot 2.2.4 and Spring 5.2.3:</p>\n\n<p>I did not manage to get <code>spring.http.log-request-details=true</code> doing its job, and current <a href=\"https://docs.spring.io/spring/docs/5.2.3.RELEASE/spring-framework-reference/web-reactive.html#webflux-logging-sensitive-data\" rel=\"noreferrer\">Spring WebFlux reference suggests</a> that some coding needs be done to have headers logged, though the code example uses deprecated <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/reactive/function/client/WebClient.Builder.html#exchangeStrategies-java.util.function.Consumer-\" rel=\"noreferrer\"><code>exchangeStrategies()</code></a> method.</p>\n\n<p>There is still a replacement for the deprecated method, so a compact piece of code for getting headers logged at WebClient level may look like this:</p>\n\n<pre><code>WebClient webClient = WebClient.builder()\n    .codecs(configurer -&gt; configurer.defaultCodecs().enableLoggingRequestDetails(true))\n    .build();\n</code></pre>\n\n<p>with further</p>\n\n<pre><code>logging.level.org.springframework.web.reactive.function.client.ExchangeFunctions=TRACE\n</code></pre>\n\n<p>It should be noted though that not all of the headers are available (do exist) at WebFlux <code>ExchangeFunctions</code> level, so some more logging at Netty <code>HttpClient</code> level may be essential too, as per <a href=\"https://stackoverflow.com/a/55790675/972463\">@Matthew's suggestion</a>:</p>\n\n<pre><code>WebClient webClient = WebClient.builder()\n    .clientConnector(new ReactorClientHttpConnector(\n        HttpClient.create()\n            .wiretap(true)))\n    .build()\n</code></pre>\n\n<p>with further</p>\n\n<pre><code>logging.level.reactor.netty.http.client.HttpClient: DEBUG\n</code></pre>\n\n<p>This will get bodies logged too.</p>\n"},{"tags":[],"owner":{"account_id":138670,"reputation":5671,"user_id":343759,"accept_rate":70,"display_name":"rewolf"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1594538395,"creation_date":1594538395,"answer_id":62858230,"question_id":46154994,"body_markdown":"If you are looking to log the serialized version of the JSON in the request or response, you can create your own Json Encoder/Decoder classes that wrap the defaults and log the JSON. Specifically you would subclass the `Jackson2JsonEncoder` and `Jackson2JsonDecoder` classes and override the methods that expose the serial data.\r\n\r\nThis is explained here: https://andrew-flower.com/blog/webclient-body-logging\r\n\r\nThe approach shown above is focused mainly on non-streaming data.  Doing it for streaming data might be more challenging.\r\n\r\nIt&#39;s obviously not recommended to do this in a Prod environment due to extra memory / processing required, but configuring it for development environments is useful.","title":"how to log Spring 5 WebClient call","body":"<p>If you are looking to log the serialized version of the JSON in the request or response, you can create your own Json Encoder/Decoder classes that wrap the defaults and log the JSON. Specifically you would subclass the <code>Jackson2JsonEncoder</code> and <code>Jackson2JsonDecoder</code> classes and override the methods that expose the serial data.</p>\n<p>This is explained here: <a href=\"https://andrew-flower.com/blog/webclient-body-logging\" rel=\"nofollow noreferrer\">https://andrew-flower.com/blog/webclient-body-logging</a></p>\n<p>The approach shown above is focused mainly on non-streaming data.  Doing it for streaming data might be more challenging.</p>\n<p>It's obviously not recommended to do this in a Prod environment due to extra memory / processing required, but configuring it for development environments is useful.</p>\n"},{"comments":[{"owner":{"account_id":3144837,"reputation":1675,"user_id":2659499,"accept_rate":79,"display_name":"Vahid"},"score":0,"creation_date":1654877172,"post_id":64809152,"comment_id":128205183,"body_markdown":"`BootstrapHandlers.updateLogSupport` is also deprecated. For the new way refer to [How to customize reactor Netty&#39;s HttpClient LoggingHandler without using deprecated methods](https://stackoverflow.com/a/72540858/2659499)","body":"<code>BootstrapHandlers.updateLogSupport</code> is also deprecated. For the new way refer to <a href=\"https://stackoverflow.com/a/72540858/2659499\">How to customize reactor Netty&#39;s HttpClient LoggingHandler without using deprecated methods</a>"}],"tags":[],"owner":{"account_id":12309664,"reputation":73,"user_id":8981561,"display_name":"code_name"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1605203499,"creation_date":1605203499,"answer_id":64809152,"question_id":46154994,"body_markdown":"[@StasKolodyuk][1]&#39;s answer elaborates on the solution from [baeldung][2] for logging the response body of a reactive WebClient. Note that \r\n\r\n    tc.bootstrap(...)\r\n\r\nis deprecated in\r\n   \r\n\r\n        HttpClient httpClient = HttpClient\r\n          .create()\r\n          .tcpConfiguration(\r\n            tc -&gt; tc.bootstrap(\r\n              b -&gt; BootstrapHandlers.updateLogSupport(b, new CustomLogger(HttpClient.class))))\r\n          .build()\r\n    \r\nAnother non-deprecated way to add your custom LoggingHandler is (Kotlin)\r\n\r\n    val httpClient: HttpClient = HttpClient.create().mapConnect { conn, b -&gt;\r\n        BootstrapHandlers.updateLogSupport(b, CustomLogger(HttpClient::class.java))\r\n        conn\r\n    }\r\n\r\n  [1]: https://stackoverflow.com/users/3503685/staskolodyuk\r\n  [2]: https://www.baeldung.com/spring-log-webclient-calls","title":"how to log Spring 5 WebClient call","body":"<p><a href=\"https://stackoverflow.com/users/3503685/staskolodyuk\">@StasKolodyuk</a>'s answer elaborates on the solution from <a href=\"https://www.baeldung.com/spring-log-webclient-calls\" rel=\"nofollow noreferrer\">baeldung</a> for logging the response body of a reactive WebClient. Note that</p>\n<pre><code>tc.bootstrap(...)\n</code></pre>\n<p>is deprecated in</p>\n<pre><code>    HttpClient httpClient = HttpClient\n      .create()\n      .tcpConfiguration(\n        tc -&gt; tc.bootstrap(\n          b -&gt; BootstrapHandlers.updateLogSupport(b, new CustomLogger(HttpClient.class))))\n      .build()\n</code></pre>\n<p>Another non-deprecated way to add your custom LoggingHandler is (Kotlin)</p>\n<pre><code>val httpClient: HttpClient = HttpClient.create().mapConnect { conn, b -&gt;\n    BootstrapHandlers.updateLogSupport(b, CustomLogger(HttpClient::class.java))\n    conn\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":189342,"reputation":1773,"user_id":428628,"display_name":"Michael R"},"score":6,"creation_date":1613183031,"post_id":65959769,"comment_id":117005299,"body_markdown":"We have a new winner! This is simple and works as expected, thank you!","body":"We have a new winner! This is simple and works as expected, thank you!"},{"owner":{"account_id":14482834,"reputation":3924,"user_id":10461625,"display_name":"PatPanda"},"score":0,"creation_date":1613704216,"post_id":65959769,"comment_id":117164254,"body_markdown":"May I ask what is the value of &quot;com.somepackage&quot; here please? the current package where the HttpClient is? The package where the Webclient instance is? The package of where the http call is being made? (I have all in different classes/ packages)","body":"May I ask what is the value of &quot;com.somepackage&quot; here please? the current package where the HttpClient is? The package where the Webclient instance is? The package of where the http call is being made? (I have all in different classes/ packages)"},{"owner":{"account_id":3237003,"reputation":1250,"user_id":2730950,"display_name":"Vladimir"},"score":0,"creation_date":1613744454,"post_id":65959769,"comment_id":117177930,"body_markdown":"@PatPatPat this value will be passed to SLF4J and will be used as a package name when it generates the log line with your trace. So technically any string can go there, but probably better to put this.getClass().getCanonicalName()","body":"@PatPatPat this value will be passed to SLF4J and will be used as a package name when it generates the log line with your trace. So technically any string can go there, but probably better to put this.getClass().getCanonicalName()"},{"owner":{"account_id":2740665,"reputation":336,"user_id":2362274,"display_name":"Onur Baskirt"},"score":0,"creation_date":1617730146,"post_id":65959769,"comment_id":118384761,"body_markdown":"IS this working for WebTestClient logging? I was unsuccessful to implement it.","body":"IS this working for WebTestClient logging? I was unsuccessful to implement it."},{"owner":{"account_id":7916524,"reputation":1098,"user_id":5978781,"accept_rate":60,"display_name":"itstata"},"score":0,"creation_date":1631511442,"post_id":65959769,"comment_id":122231600,"body_markdown":"Thank&#39;s...saved my day and a readable output for request and response.","body":"Thank&#39;s...saved my day and a readable output for request and response."},{"owner":{"account_id":18227520,"reputation":95,"user_id":13267018,"display_name":"Moritz Kampfinger"},"score":2,"creation_date":1635410607,"post_id":65959769,"comment_id":123292124,"body_markdown":"This is THE answer to the question.","body":"This is THE answer to the question."},{"owner":{"account_id":1202593,"reputation":9569,"user_id":1173495,"accept_rate":46,"display_name":"SANN3"},"score":0,"creation_date":1651040289,"post_id":65959769,"comment_id":127264147,"body_markdown":"If we want to print the body, then this is the correct answer","body":"If we want to print the body, then this is the correct answer"},{"owner":{"account_id":11764939,"reputation":3827,"user_id":8609847,"display_name":"Satish Patro"},"score":1,"creation_date":1662019142,"post_id":65959769,"comment_id":129910442,"body_markdown":"for wiretap method I can see only one option wiretap(boolean) in HTTP client. Not able to see 3 argument method. Any idea?","body":"for wiretap method I can see only one option wiretap(boolean) in HTTP client. Not able to see 3 argument method. Any idea?"},{"owner":{"account_id":9709676,"reputation":1447,"user_id":7221628,"accept_rate":100,"display_name":"JGlass"},"score":0,"creation_date":1673477866,"post_id":65959769,"comment_id":132511228,"body_markdown":"I had so hoped this would work for me, but didnt in Spring Boot 2.7.0 - codes all in there, builds and runs - just no output ;-(","body":"I had so hoped this would work for me, but didnt in Spring Boot 2.7.0 - codes all in there, builds and runs - just no output ;-("},{"owner":{"account_id":543620,"reputation":1424,"user_id":912813,"display_name":"Jeff Miller"},"score":1,"creation_date":1680614971,"post_id":65959769,"comment_id":133925414,"body_markdown":"This answer produced wiretap logging for me. However all of the values output as &lt;filtered&gt;. For example &quot;Host: &lt;filtered&gt;&quot;. How to display values other than &lt;filtered&gt;?","body":"This answer produced wiretap logging for me. However all of the values output as &lt;filtered&gt;. For example &quot;Host: &lt;filtered&gt;&quot;. How to display values other than &lt;filtered&gt;?"}],"tags":[],"owner":{"account_id":3237003,"reputation":1250,"user_id":2730950,"display_name":"Vladimir"},"comment_count":10,"down_vote_count":0,"up_vote_count":66,"is_accepted":false,"score":66,"last_activity_date":1614779284,"creation_date":1611944309,"answer_id":65959769,"question_id":46154994,"body_markdown":"In Spring Boot 2.4.0, the HttpClient&#39;s wiretap() method has additional parameters you can pass to show full request/response headers and body in ***normal*** human readable format. Use format (AdvancedByteBufFormat.TEXTUAL).\r\n\r\n\r\n    HttpClient httpClient = HttpClient.create()\r\n          .wiretap(this.getClass().getCanonicalName(), LogLevel.DEBUG, AdvancedByteBufFormat.TEXTUAL);\r\n    ClientHttpConnector conn = new ReactorClientHttpConnector(httpClient);   \r\n\r\n    WebClient client =  WebClient.builder()\r\n                .clientConnector(conn)\r\n                .build();\r\n\r\n\r\nResult:\r\n\r\n    POST /score HTTP/1.1\r\n    Host: localhost:8080\r\n    User-Agent: insomnia/2020.5.2\r\n    Content-Type: application/json\r\n    access_: \r\n    Authorization: Bearer eyJ0e....\r\n    Accept: application/json\r\n    content-length: 4506\r\n    \r\n    WRITE: 4506B {&quot;body&quot;:{&quot;invocations&quot;:[{&quot;id&quot;:....\r\n\r\n\r\n    READ: 2048B HTTP/1.0 200 OK\r\n    Content-Type: application/json\r\n    Content-Length: 2271\r\n    Server: Werkzeug/1.0.1 Python/3.7.7\r\n    Date: Fri, 29 Jan 2021 18:49:53 GMT\r\n    \r\n    {&quot;body&quot;:{&quot;results&quot;:[.....\r\n\r\n","title":"how to log Spring 5 WebClient call","body":"<p>In Spring Boot 2.4.0, the HttpClient's wiretap() method has additional parameters you can pass to show full request/response headers and body in <em><strong>normal</strong></em> human readable format. Use format (AdvancedByteBufFormat.TEXTUAL).</p>\n<pre><code>HttpClient httpClient = HttpClient.create()\n      .wiretap(this.getClass().getCanonicalName(), LogLevel.DEBUG, AdvancedByteBufFormat.TEXTUAL);\nClientHttpConnector conn = new ReactorClientHttpConnector(httpClient);   \n\nWebClient client =  WebClient.builder()\n            .clientConnector(conn)\n            .build();\n</code></pre>\n<p>Result:</p>\n<pre><code>POST /score HTTP/1.1\nHost: localhost:8080\nUser-Agent: insomnia/2020.5.2\nContent-Type: application/json\naccess_: \nAuthorization: Bearer eyJ0e....\nAccept: application/json\ncontent-length: 4506\n\nWRITE: 4506B {&quot;body&quot;:{&quot;invocations&quot;:[{&quot;id&quot;:....\n\n\nREAD: 2048B HTTP/1.0 200 OK\nContent-Type: application/json\nContent-Length: 2271\nServer: Werkzeug/1.0.1 Python/3.7.7\nDate: Fri, 29 Jan 2021 18:49:53 GMT\n\n{&quot;body&quot;:{&quot;results&quot;:[.....\n</code></pre>\n"},{"comments":[{"owner":{"account_id":10695301,"reputation":331,"user_id":7872692,"display_name":"mehdi mohammadi"},"score":0,"creation_date":1622542774,"post_id":66456679,"comment_id":119816118,"body_markdown":"This worked perfectly for me with quite useful log details","body":"This worked perfectly for me with quite useful log details"},{"owner":{"account_id":15101512,"reputation":421,"user_id":10898364,"display_name":"icgoogo"},"score":0,"creation_date":1651771471,"post_id":66456679,"comment_id":127448333,"body_markdown":"this worked for me instead of this.javaClass.canonicalName. i got macos exception when i use the canonicalName","body":"this worked for me instead of this.javaClass.canonicalName. i got macos exception when i use the canonicalName"}],"tags":[],"owner":{"account_id":6160770,"reputation":1423,"user_id":4802448,"accept_rate":100,"display_name":"Daniel Eisenreich"},"comment_count":2,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1614773313,"creation_date":1614772972,"answer_id":66456679,"question_id":46154994,"body_markdown":"**Spoiler:** So far the custom logging with the `ExchangeFilterFunction` does not support to log the body.\r\n\r\nIn my case the best logging is achieved with the solution from Bealdung (see [this](https://www.baeldung.com/spring-log-webclient-calls#2-logging-with-netty-httpclient)).\r\n\r\nTherefore I setup a default builder so the different APIs share this.\r\n\r\n```java\r\n@Bean\r\npublic WebClient.Builder defaultWebClient() {\r\n    final var builder = WebClient.builder();\r\n    if (LOG.isDebugEnabled()) {\r\n        builder.clientConnector(new ReactorClientHttpConnector(\r\n                HttpClient.create().wiretap(&quot;reactor.netty.http.client.HttpClient&quot;,\r\n                        LogLevel.DEBUG, AdvancedByteBufFormat.TEXTUAL)\r\n        ));\r\n    }\r\n    return builder;\r\n}\r\n```\r\n\r\nIn the concrete API configuration I can then configure specific things:\r\n```java\r\n@Bean\r\npublic SpecificApi bspApi(@Value(&quot;${specific.api.url}&quot;) final String baseUrl,\r\n                     final WebClient.Builder builder) {\r\n    final var webClient = builder.baseUrl(baseUrl).build();\r\n    return new SpecificApi(webClient);\r\n}\r\n```\r\n\r\nAnd then I have to set the following property:\r\n\r\n```\r\nlogging.level.reactor.netty.http.client: DEBUG\r\n```\r\n\r\nThen the request log looks like:\r\n\r\n```\r\n021-03-03 12:56:34.589 DEBUG 20464 --- [ctor-http-nio-2] reactor.netty.http.client.HttpClient     : [id: 0xe75a7fb8] REGISTERED\r\n2021-03-03 12:56:34.590 DEBUG 20464 --- [ctor-http-nio-2] reactor.netty.http.client.HttpClient     : [id: 0xe75a7fb8] CONNECT: /192.168.01:80\r\n2021-03-03 12:56:34.591 DEBUG 20464 --- [ctor-http-nio-2] reactor.netty.http.client.HttpClient     : [id: 0xe75a7fb8, L:/192.168.04:56774 - R:/192.168.01:80] ACTIVE\r\n2021-03-03 12:56:34.591 DEBUG 20464 --- [ctor-http-nio-2] r.netty.http.client.HttpClientConnect    : [id: 0xe75a7fb8, L:/192.168.04:56774 - R:/192.168.01:80] Handler is being applied: {uri=http://192.168.01/user, method=GET}\r\n2021-03-03 12:56:34.592 DEBUG 20464 --- [ctor-http-nio-2] reactor.netty.http.client.HttpClient     : [id: 0xe75a7fb8, L:/192.168.04:56774 - R:/192.168.01:80] WRITE: 102B GET /user HTTP/1.1\r\nuser-agent: ReactorNetty/1.0.3\r\nhost: 192.168.01\r\naccept: */*\r\n\r\n&lt;REQUEST_BODY&gt;\r\n\r\n2021-03-03 12:56:34.592 DEBUG 20464 --- [ctor-http-nio-2] reactor.netty.http.client.HttpClient     : [id: 0xe75a7fb8, L:/192.168.04:56774 - R:/192.168.01:80] FLUSH\r\n2021-03-03 12:56:34.592 DEBUG 20464 --- [ctor-http-nio-2] reactor.netty.http.client.HttpClient     : [id: 0xe75a7fb8, L:/192.168.04:56774 - R:/192.168.01:80] WRITE: 0B \r\n2021-03-03 12:56:34.592 DEBUG 20464 --- [ctor-http-nio-2] reactor.netty.http.client.HttpClient     : [id: 0xe75a7fb8, L:/192.168.04:56774 - R:/192.168.01:80] FLUSH\r\n2021-03-03 12:56:34.594 DEBUG 20464 --- [ctor-http-nio-2] reactor.netty.http.client.HttpClient     : [id: 0xe75a7fb8, L:/192.168.04:56774 - R:/192.168.01:80] READ: 2048B HTTP/1.1 200 \r\nServer: nginx/1.16.1\r\nDate: Wed, 03 Mar 2021 11:56:31 GMT\r\nContent-Type: application/json\r\nContent-Length: 4883\r\nConnection: keep-alive\r\nAccess-Control-Allow-Origin: *\r\nContent-Range: items 0-4/4\r\n\r\n&lt;RESPONSE_BODY&gt;\r\n```","title":"how to log Spring 5 WebClient call","body":"<p><strong>Spoiler:</strong> So far the custom logging with the <code>ExchangeFilterFunction</code> does not support to log the body.</p>\n<p>In my case the best logging is achieved with the solution from Bealdung (see <a href=\"https://www.baeldung.com/spring-log-webclient-calls#2-logging-with-netty-httpclient\" rel=\"noreferrer\">this</a>).</p>\n<p>Therefore I setup a default builder so the different APIs share this.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\npublic WebClient.Builder defaultWebClient() {\n    final var builder = WebClient.builder();\n    if (LOG.isDebugEnabled()) {\n        builder.clientConnector(new ReactorClientHttpConnector(\n                HttpClient.create().wiretap(&quot;reactor.netty.http.client.HttpClient&quot;,\n                        LogLevel.DEBUG, AdvancedByteBufFormat.TEXTUAL)\n        ));\n    }\n    return builder;\n}\n</code></pre>\n<p>In the concrete API configuration I can then configure specific things:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\npublic SpecificApi bspApi(@Value(&quot;${specific.api.url}&quot;) final String baseUrl,\n                     final WebClient.Builder builder) {\n    final var webClient = builder.baseUrl(baseUrl).build();\n    return new SpecificApi(webClient);\n}\n</code></pre>\n<p>And then I have to set the following property:</p>\n<pre><code>logging.level.reactor.netty.http.client: DEBUG\n</code></pre>\n<p>Then the request log looks like:</p>\n<pre><code>021-03-03 12:56:34.589 DEBUG 20464 --- [ctor-http-nio-2] reactor.netty.http.client.HttpClient     : [id: 0xe75a7fb8] REGISTERED\n2021-03-03 12:56:34.590 DEBUG 20464 --- [ctor-http-nio-2] reactor.netty.http.client.HttpClient     : [id: 0xe75a7fb8] CONNECT: /192.168.01:80\n2021-03-03 12:56:34.591 DEBUG 20464 --- [ctor-http-nio-2] reactor.netty.http.client.HttpClient     : [id: 0xe75a7fb8, L:/192.168.04:56774 - R:/192.168.01:80] ACTIVE\n2021-03-03 12:56:34.591 DEBUG 20464 --- [ctor-http-nio-2] r.netty.http.client.HttpClientConnect    : [id: 0xe75a7fb8, L:/192.168.04:56774 - R:/192.168.01:80] Handler is being applied: {uri=http://192.168.01/user, method=GET}\n2021-03-03 12:56:34.592 DEBUG 20464 --- [ctor-http-nio-2] reactor.netty.http.client.HttpClient     : [id: 0xe75a7fb8, L:/192.168.04:56774 - R:/192.168.01:80] WRITE: 102B GET /user HTTP/1.1\nuser-agent: ReactorNetty/1.0.3\nhost: 192.168.01\naccept: */*\n\n&lt;REQUEST_BODY&gt;\n\n2021-03-03 12:56:34.592 DEBUG 20464 --- [ctor-http-nio-2] reactor.netty.http.client.HttpClient     : [id: 0xe75a7fb8, L:/192.168.04:56774 - R:/192.168.01:80] FLUSH\n2021-03-03 12:56:34.592 DEBUG 20464 --- [ctor-http-nio-2] reactor.netty.http.client.HttpClient     : [id: 0xe75a7fb8, L:/192.168.04:56774 - R:/192.168.01:80] WRITE: 0B \n2021-03-03 12:56:34.592 DEBUG 20464 --- [ctor-http-nio-2] reactor.netty.http.client.HttpClient     : [id: 0xe75a7fb8, L:/192.168.04:56774 - R:/192.168.01:80] FLUSH\n2021-03-03 12:56:34.594 DEBUG 20464 --- [ctor-http-nio-2] reactor.netty.http.client.HttpClient     : [id: 0xe75a7fb8, L:/192.168.04:56774 - R:/192.168.01:80] READ: 2048B HTTP/1.1 200 \nServer: nginx/1.16.1\nDate: Wed, 03 Mar 2021 11:56:31 GMT\nContent-Type: application/json\nContent-Length: 4883\nConnection: keep-alive\nAccess-Control-Allow-Origin: *\nContent-Range: items 0-4/4\n\n&lt;RESPONSE_BODY&gt;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2740665,"reputation":336,"user_id":2362274,"display_name":"Onur Baskirt"},"score":0,"creation_date":1617703026,"post_id":66846537,"comment_id":118371729,"body_markdown":"What about WebTestClient? not WebClient. It did not work for WebTestClient.","body":"What about WebTestClient? not WebClient. It did not work for WebTestClient."},{"owner":{"account_id":3818241,"reputation":4374,"user_id":3167016,"accept_rate":94,"display_name":"TuGordoBello"},"score":0,"creation_date":1627062157,"post_id":66846537,"comment_id":121065705,"body_markdown":"Use ```LogLevel.DEBUG``` and include this in your ```application.yml```: ```logging.level.reactor.netty.http.client.HttpClient: DEBUG```","body":"Use <code>LogLevel.DEBUG</code> and include this in your <code>application.yml</code>: <code>logging.level.reactor.netty.http.client.HttpClient: DEBUG</code>"}],"tags":[],"owner":{"account_id":102988,"reputation":24922,"user_id":276093,"accept_rate":60,"display_name":"matt burns"},"comment_count":2,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1616968182,"creation_date":1616968182,"answer_id":66846537,"question_id":46154994,"body_markdown":"This is what worked for me in 2021 :)\r\n```\r\nHttpClient httpClient = HttpClient\r\n        .create()\r\n        .wiretap(this.getClass().getCanonicalName(),\r\n                LogLevel.INFO, AdvancedByteBufFormat.TEXTUAL);\r\n\r\nWebClient client = WebClient.builder()\r\n        .baseUrl(&quot;https://example.com&quot;)\r\n        .clientConnector(new ReactorClientHttpConnector(httpClient))\r\n        .build();\r\n```","title":"how to log Spring 5 WebClient call","body":"<p>This is what worked for me in 2021 :)</p>\n<pre><code>HttpClient httpClient = HttpClient\n        .create()\n        .wiretap(this.getClass().getCanonicalName(),\n                LogLevel.INFO, AdvancedByteBufFormat.TEXTUAL);\n\nWebClient client = WebClient.builder()\n        .baseUrl(&quot;https://example.com&quot;)\n        .clientConnector(new ReactorClientHttpConnector(httpClient))\n        .build();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1990482,"reputation":42,"user_id":1784600,"display_name":"KavboiHaggis"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1617033491,"creation_date":1617000918,"answer_id":66849838,"question_id":46154994,"body_markdown":"If you are going to implement CustomLoggerHandler, don&#39;t forget to implement `equals()` and `hashCode()`, otherwise will be a memory leak https://github.com/reactor/reactor-netty/issues/988#issuecomment-582489035","title":"how to log Spring 5 WebClient call","body":"<p>If you are going to implement CustomLoggerHandler, don't forget to implement <code>equals()</code> and <code>hashCode()</code>, otherwise will be a memory leak <a href=\"https://github.com/reactor/reactor-netty/issues/988#issuecomment-582489035\" rel=\"nofollow noreferrer\">https://github.com/reactor/reactor-netty/issues/988#issuecomment-582489035</a></p>\n"},{"comments":[{"owner":{"account_id":241177,"reputation":10288,"user_id":511837,"accept_rate":78,"display_name":"igr"},"score":0,"creation_date":1633098985,"post_id":67939497,"comment_id":122677820,"body_markdown":"Request is not written. Response is. Need request to subscribe(), too","body":"Request is not written. Response is. Need request to subscribe(), too"}],"tags":[],"owner":{"account_id":21914812,"reputation":81,"user_id":16198847,"display_name":"Stanislav Burov"},"comment_count":1,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1623424495,"creation_date":1623424495,"answer_id":67939497,"question_id":46154994,"body_markdown":"There is a way to log request and response body using only [ExchangeFilterFunction][1]. It is independent of the underlying `ClientHttpConnector` and supports tailor-made output. The actual output isn&#39;t included in the implementation. Instead the lines where request and response body can be accessed contain explanatory comments. Add the following class instance to the `WebClient` filter list:\r\n\r\n    import org.reactivestreams.Publisher;\r\n    import org.springframework.core.io.buffer.DataBuffer;\r\n    import org.springframework.http.client.reactive.ClientHttpRequest;\r\n    import org.springframework.http.client.reactive.ClientHttpRequestDecorator;\r\n    import org.springframework.web.reactive.function.BodyInserter;\r\n    import org.springframework.web.reactive.function.client.ClientRequest;\r\n    import org.springframework.web.reactive.function.client.ClientResponse;\r\n    import org.springframework.web.reactive.function.client.ExchangeFilterFunction;\r\n    import org.springframework.web.reactive.function.client.ExchangeFunction;\r\n    import reactor.core.publisher.BaseSubscriber;\r\n    import reactor.core.publisher.Mono;\r\n    \r\n    import java.util.concurrent.atomic.AtomicBoolean;\r\n    \r\n    public class LoggingExchangeFilterFunction implements ExchangeFilterFunction {\r\n    \r\n        @Override\r\n        public Mono&lt;ClientResponse&gt; filter(ClientRequest request, ExchangeFunction next) {\r\n            BodyInserter&lt;?, ? super ClientHttpRequest&gt; originalBodyInserter = request.body();\r\n            ClientRequest loggingClientRequest = ClientRequest.from(request)\r\n                    .body((outputMessage, context) -&gt; {\r\n                        ClientHttpRequestDecorator loggingOutputMessage = new ClientHttpRequestDecorator(outputMessage) {\r\n    \r\n                            private final AtomicBoolean alreadyLogged = new AtomicBoolean(false); // Not sure if thread-safe is needed...\r\n    \r\n                            @Override\r\n                            public Mono&lt;Void&gt; writeWith(Publisher&lt;? extends DataBuffer&gt; body) {\r\n                                boolean needToLog = alreadyLogged.compareAndSet(false, true);\r\n                                if (needToLog) {\r\n                                    // use `body.toString(Charset.defaultCharset())` to obtain request body\r\n                                }\r\n                                return super.writeWith(body);\r\n                            }\r\n    \r\n                            @Override\r\n                            public Mono&lt;Void&gt; writeAndFlushWith(Publisher&lt;? extends Publisher&lt;? extends DataBuffer&gt;&gt; body) {\r\n                                boolean needToLog = alreadyLogged.compareAndSet(false, true);\r\n                                if (needToLog) {\r\n                                    BaseSubscriber&lt;Publisher&lt;? extends DataBuffer&gt;&gt; bodySubscriber = new BaseSubscriber&lt;Publisher&lt;? extends DataBuffer&gt;&gt;() {\r\n                                        @Override\r\n                                        protected void hookOnNext(Publisher&lt;? extends DataBuffer&gt; next) {\r\n                                            // use `next.toString(Charset.defaultCharset())` to obtain request body element\r\n                                        }\r\n                                    };\r\n                                    body.subscribe(bodySubscriber);\r\n                                    bodySubscriber.request(Long.MAX_VALUE);\r\n                                }\r\n                                return super.writeAndFlushWith(body);\r\n                            }\r\n    \r\n                            @Override\r\n                            public Mono&lt;Void&gt; setComplete() { // This is for requests with no body (e.g. GET).\r\n                                boolean needToLog = alreadyLogged.compareAndSet(false, true);\r\n                                if (needToLog) {\r\n                                    // A request with no body, could log `request.method()` and `request.url()`.\r\n                                }\r\n                                return super.setComplete();\r\n                            }\r\n                        };\r\n                        return originalBodyInserter.insert(loggingOutputMessage, context);\r\n                    })\r\n                    .build();\r\n            return next.exchange(loggingClientRequest)\r\n                    .map(\r\n                            clientResponse -&gt; clientResponse.mutate()\r\n                                    .body(f -&gt; f.map(dataBuffer -&gt; {\r\n                                        // Use `dataBuffer.toString(Charset.defaultCharset())` to obtain response body.\r\n                                        return dataBuffer;\r\n                                    }))\r\n                                    .build()\r\n                    );\r\n        }\r\n    \r\n    }\r\n\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/reactive/function/client/ExchangeFilterFunction.html","title":"how to log Spring 5 WebClient call","body":"<p>There is a way to log request and response body using only <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/reactive/function/client/ExchangeFilterFunction.html\" rel=\"noreferrer\">ExchangeFilterFunction</a>. It is independent of the underlying <code>ClientHttpConnector</code> and supports tailor-made output. The actual output isn't included in the implementation. Instead the lines where request and response body can be accessed contain explanatory comments. Add the following class instance to the <code>WebClient</code> filter list:</p>\n<pre><code>import org.reactivestreams.Publisher;\nimport org.springframework.core.io.buffer.DataBuffer;\nimport org.springframework.http.client.reactive.ClientHttpRequest;\nimport org.springframework.http.client.reactive.ClientHttpRequestDecorator;\nimport org.springframework.web.reactive.function.BodyInserter;\nimport org.springframework.web.reactive.function.client.ClientRequest;\nimport org.springframework.web.reactive.function.client.ClientResponse;\nimport org.springframework.web.reactive.function.client.ExchangeFilterFunction;\nimport org.springframework.web.reactive.function.client.ExchangeFunction;\nimport reactor.core.publisher.BaseSubscriber;\nimport reactor.core.publisher.Mono;\n\nimport java.util.concurrent.atomic.AtomicBoolean;\n\npublic class LoggingExchangeFilterFunction implements ExchangeFilterFunction {\n\n    @Override\n    public Mono&lt;ClientResponse&gt; filter(ClientRequest request, ExchangeFunction next) {\n        BodyInserter&lt;?, ? super ClientHttpRequest&gt; originalBodyInserter = request.body();\n        ClientRequest loggingClientRequest = ClientRequest.from(request)\n                .body((outputMessage, context) -&gt; {\n                    ClientHttpRequestDecorator loggingOutputMessage = new ClientHttpRequestDecorator(outputMessage) {\n\n                        private final AtomicBoolean alreadyLogged = new AtomicBoolean(false); // Not sure if thread-safe is needed...\n\n                        @Override\n                        public Mono&lt;Void&gt; writeWith(Publisher&lt;? extends DataBuffer&gt; body) {\n                            boolean needToLog = alreadyLogged.compareAndSet(false, true);\n                            if (needToLog) {\n                                // use `body.toString(Charset.defaultCharset())` to obtain request body\n                            }\n                            return super.writeWith(body);\n                        }\n\n                        @Override\n                        public Mono&lt;Void&gt; writeAndFlushWith(Publisher&lt;? extends Publisher&lt;? extends DataBuffer&gt;&gt; body) {\n                            boolean needToLog = alreadyLogged.compareAndSet(false, true);\n                            if (needToLog) {\n                                BaseSubscriber&lt;Publisher&lt;? extends DataBuffer&gt;&gt; bodySubscriber = new BaseSubscriber&lt;Publisher&lt;? extends DataBuffer&gt;&gt;() {\n                                    @Override\n                                    protected void hookOnNext(Publisher&lt;? extends DataBuffer&gt; next) {\n                                        // use `next.toString(Charset.defaultCharset())` to obtain request body element\n                                    }\n                                };\n                                body.subscribe(bodySubscriber);\n                                bodySubscriber.request(Long.MAX_VALUE);\n                            }\n                            return super.writeAndFlushWith(body);\n                        }\n\n                        @Override\n                        public Mono&lt;Void&gt; setComplete() { // This is for requests with no body (e.g. GET).\n                            boolean needToLog = alreadyLogged.compareAndSet(false, true);\n                            if (needToLog) {\n                                // A request with no body, could log `request.method()` and `request.url()`.\n                            }\n                            return super.setComplete();\n                        }\n                    };\n                    return originalBodyInserter.insert(loggingOutputMessage, context);\n                })\n                .build();\n        return next.exchange(loggingClientRequest)\n                .map(\n                        clientResponse -&gt; clientResponse.mutate()\n                                .body(f -&gt; f.map(dataBuffer -&gt; {\n                                    // Use `dataBuffer.toString(Charset.defaultCharset())` to obtain response body.\n                                    return dataBuffer;\n                                }))\n                                .build()\n                );\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5129456,"reputation":954,"user_id":4110190,"display_name":"Jonas Pedersen"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1628249801,"creation_date":1628249801,"answer_id":68680951,"question_id":46154994,"body_markdown":"Based on [Stanislav Burov][1]&#39;s answer I made this logger, that logs all request/response headers, method, url and body.\r\n\r\n    public class WebClientLogger implements ExchangeFilterFunction {\r\n\r\n    @Override\r\n    public Mono&lt;ClientResponse&gt; filter(ClientRequest request, ExchangeFunction next) {\r\n        // Log url using &#39;request.url()&#39;\r\n        // Log method using &#39;request.method()&#39;\r\n        // Log request headers using &#39;request.headers().entrySet().stream().map(Object::toString).collect(joining(&quot;,&quot;))&#39;\r\n\r\n        BodyInserter&lt;?, ? super ClientHttpRequest&gt; originalBodyInserter = request.body();\r\n\r\n        ClientRequest loggingClientRequest = ClientRequest.from(request)\r\n                .body((outputMessage, context) -&gt; {\r\n                    ClientHttpRequestDecorator loggingOutputMessage = new ClientHttpRequestDecorator(outputMessage) {\r\n                        private final AtomicBoolean alreadyLogged = new AtomicBoolean(false);\r\n\r\n                        @Override\r\n                        public Mono&lt;Void&gt; writeWith(Publisher&lt;? extends DataBuffer&gt; body) {\r\n                            boolean needToLog = alreadyLogged.compareAndSet(false, true);\r\n                            if (needToLog) {\r\n\r\n                                body = DataBufferUtils.join(body)\r\n                                        .doOnNext(content -&gt; {\r\n                                            // Log request body using &#39;content.toString(StandardCharsets.UTF_8)&#39;\r\n                                        });\r\n                            }\r\n                            return super.writeWith(body);\r\n                        }\r\n\r\n                        @Override\r\n                        public Mono&lt;Void&gt; setComplete() { // This is for requests with no body (e.g. GET).\r\n                            boolean needToLog = alreadyLogged.compareAndSet(false, true);\r\n                            if (needToLog) {\r\n                                \r\n                            }\r\n                            return super.setComplete();\r\n                        }\r\n                    };\r\n\r\n                    return originalBodyInserter.insert(loggingOutputMessage, context);\r\n                })\r\n                .build();\r\n\r\n        return next.exchange(loggingClientRequest)\r\n                .map(clientResponse -&gt; {\r\n                            // Log response status using &#39;clientResponse.statusCode().value())&#39;\r\n                            // Log response headers using &#39;clientResponse.headers().asHttpHeaders().entrySet().stream().map(Object::toString).collect(joining(&quot;,&quot;))&#39;\r\n\r\n                            return clientResponse.mutate()\r\n                                    .body(f -&gt; f.map(dataBuffer -&gt; {\r\n                                        // Log response body using &#39;dataBuffer.toString(StandardCharsets.UTF_8)&#39;\r\n                                        return dataBuffer;\r\n                                    }))\r\n                                    .build();\r\n                        }\r\n                );\r\n\r\n    }\r\n}\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/67939497/4110190","title":"how to log Spring 5 WebClient call","body":"<p>Based on <a href=\"https://stackoverflow.com/a/67939497/4110190\">Stanislav Burov</a>'s answer I made this logger, that logs all request/response headers, method, url and body.</p>\n<pre><code>public class WebClientLogger implements ExchangeFilterFunction {\n\n@Override\npublic Mono&lt;ClientResponse&gt; filter(ClientRequest request, ExchangeFunction next) {\n    // Log url using 'request.url()'\n    // Log method using 'request.method()'\n    // Log request headers using 'request.headers().entrySet().stream().map(Object::toString).collect(joining(&quot;,&quot;))'\n\n    BodyInserter&lt;?, ? super ClientHttpRequest&gt; originalBodyInserter = request.body();\n\n    ClientRequest loggingClientRequest = ClientRequest.from(request)\n            .body((outputMessage, context) -&gt; {\n                ClientHttpRequestDecorator loggingOutputMessage = new ClientHttpRequestDecorator(outputMessage) {\n                    private final AtomicBoolean alreadyLogged = new AtomicBoolean(false);\n\n                    @Override\n                    public Mono&lt;Void&gt; writeWith(Publisher&lt;? extends DataBuffer&gt; body) {\n                        boolean needToLog = alreadyLogged.compareAndSet(false, true);\n                        if (needToLog) {\n\n                            body = DataBufferUtils.join(body)\n                                    .doOnNext(content -&gt; {\n                                        // Log request body using 'content.toString(StandardCharsets.UTF_8)'\n                                    });\n                        }\n                        return super.writeWith(body);\n                    }\n\n                    @Override\n                    public Mono&lt;Void&gt; setComplete() { // This is for requests with no body (e.g. GET).\n                        boolean needToLog = alreadyLogged.compareAndSet(false, true);\n                        if (needToLog) {\n                            \n                        }\n                        return super.setComplete();\n                    }\n                };\n\n                return originalBodyInserter.insert(loggingOutputMessage, context);\n            })\n            .build();\n\n    return next.exchange(loggingClientRequest)\n            .map(clientResponse -&gt; {\n                        // Log response status using 'clientResponse.statusCode().value())'\n                        // Log response headers using 'clientResponse.headers().asHttpHeaders().entrySet().stream().map(Object::toString).collect(joining(&quot;,&quot;))'\n\n                        return clientResponse.mutate()\n                                .body(f -&gt; f.map(dataBuffer -&gt; {\n                                    // Log response body using 'dataBuffer.toString(StandardCharsets.UTF_8)'\n                                    return dataBuffer;\n                                }))\n                                .build();\n                    }\n            );\n\n}\n</code></pre>\n<p>}</p>\n"},{"tags":[],"owner":{"account_id":121787,"reputation":11660,"user_id":315129,"accept_rate":93,"display_name":"vbezhenar"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1637594859,"creation_date":1637594859,"answer_id":70068247,"question_id":46154994,"body_markdown":"Here&#39;s my snippet based on excellent Stanislav Burov&#39;s answer. I extracted some lambdas to standalone classes to make code more readable for me and I also implemented a limited UTF-8 aware decoder. I&#39;m using some Guava and Java 17 features, but this code could be easily ported to early versions. I don&#39;t buffer the whole request/response body, but rather log buffers as they come in a separate calls, so it does not use excessive RAM or writes extremely long lines.\r\n\r\n```java\r\npackage kz.doubleservices.healthbus.util;\r\n\r\nimport org.reactivestreams.Publisher;\r\nimport org.slf4j.Logger;\r\nimport org.springframework.core.io.buffer.DataBuffer;\r\nimport org.springframework.http.client.reactive.ClientHttpRequest;\r\nimport org.springframework.http.client.reactive.ClientHttpRequestDecorator;\r\nimport org.springframework.lang.NonNull;\r\nimport org.springframework.web.reactive.function.BodyInserter;\r\nimport org.springframework.web.reactive.function.client.ClientRequest;\r\nimport org.springframework.web.reactive.function.client.ClientResponse;\r\nimport org.springframework.web.reactive.function.client.ExchangeFilterFunction;\r\nimport org.springframework.web.reactive.function.client.ExchangeFunction;\r\nimport reactor.core.publisher.Flux;\r\nimport reactor.core.publisher.Mono;\r\n\r\nimport java.util.HexFormat;\r\nimport java.util.List;\r\nimport java.util.Locale;\r\nimport java.util.concurrent.ThreadLocalRandom;\r\nimport java.util.function.Function;\r\n\r\nimport static com.google.common.io.BaseEncoding.base32;\r\n\r\npublic class LoggingExchangeFilterFunction implements ExchangeFilterFunction {\r\n    private final Logger logger;\r\n\r\n    public LoggingExchangeFilterFunction(Logger logger) {\r\n        this.logger = logger;\r\n    }\r\n\r\n    @Override\r\n    @NonNull\r\n    public Mono&lt;ClientResponse&gt; filter(@NonNull ClientRequest request, @NonNull ExchangeFunction next) {\r\n        if (!logger.isDebugEnabled()) {\r\n            return next.exchange(request);\r\n        }\r\n\r\n        String requestId = generateRequestId();\r\n\r\n        if (logger.isTraceEnabled()) {\r\n            var message = new StringBuilder();\r\n            message.append(&quot;HTTP request start; request-id=&quot;).append(requestId).append(&#39;\\n&#39;)\r\n                    .append(request.method()).append(&#39; &#39;).append(request.url());\r\n            request.headers().forEach((String name, List&lt;String&gt; values) -&gt; {\r\n                for (String value : values) {\r\n                    message.append(&#39;\\n&#39;).append(name).append(&quot;: &quot;).append(value);\r\n                }\r\n            });\r\n            logger.trace(message.toString());\r\n        } else {\r\n            logger.debug(&quot;HTTP request; request-id=&quot; + requestId + &#39;\\n&#39; +\r\n                         request.method() + &#39; &#39; + request.url());\r\n        }\r\n\r\n        if (logger.isTraceEnabled()) {\r\n            var bodyInserter = new LoggingBodyInserter(logger, requestId, request.body());\r\n            request = ClientRequest.from(request).body(bodyInserter).build();\r\n        }\r\n\r\n        return next.exchange(request).map(new LoggingClientResponseTransformer(logger, requestId));\r\n    }\r\n\r\n    private static String generateRequestId() {\r\n        var bytes = new byte[5];\r\n        ThreadLocalRandom.current().nextBytes(bytes);\r\n        return base32().encode(bytes).toLowerCase(Locale.ROOT);\r\n    }\r\n\r\n    private static class LoggingBodyInserter implements BodyInserter&lt;Object, ClientHttpRequest&gt; {\r\n        private final Logger logger;\r\n        private final String requestId;\r\n        private final BodyInserter&lt;?, ? super ClientHttpRequest&gt; originalBodyInserter;\r\n\r\n        private LoggingBodyInserter(Logger logger, String requestId,\r\n                                    BodyInserter&lt;?, ? super ClientHttpRequest&gt; originalBodyInserter) {\r\n            this.logger = logger;\r\n            this.requestId = requestId;\r\n            this.originalBodyInserter = originalBodyInserter;\r\n        }\r\n\r\n        @Override\r\n        @NonNull\r\n        public Mono&lt;Void&gt; insert(@NonNull ClientHttpRequest outputMessage, @NonNull Context context) {\r\n            var loggingOutputMessage = new LoggingClientHttpRequestDecorator(outputMessage, logger, requestId);\r\n            return originalBodyInserter.insert(loggingOutputMessage, context);\r\n        }\r\n    }\r\n\r\n    private static class LoggingClientHttpRequestDecorator extends ClientHttpRequestDecorator {\r\n        private final Logger logger;\r\n        private final String requestId;\r\n\r\n        public LoggingClientHttpRequestDecorator(ClientHttpRequest delegate, Logger logger, String requestId) {\r\n            super(delegate);\r\n            this.logger = logger;\r\n            this.requestId = requestId;\r\n        }\r\n\r\n        @Override\r\n        @NonNull\r\n        public Mono&lt;Void&gt; writeWith(@NonNull Publisher&lt;? extends DataBuffer&gt; body) {\r\n            Flux&lt;? extends DataBuffer&gt; loggingBody = Flux.from(body)\r\n                    .doOnNext(this::logDataBuffer)\r\n                    .doOnComplete(this::logComplete)\r\n                    .doOnError(this::logError);\r\n            return super.writeWith(loggingBody);\r\n        }\r\n\r\n        @Override\r\n        @NonNull\r\n        public Mono&lt;Void&gt; setComplete() {\r\n            logger.trace(&quot;HTTP request end; request-id=&quot; + requestId);\r\n            return super.setComplete();\r\n        }\r\n\r\n        private void logDataBuffer(DataBuffer dataBuffer) {\r\n            int readPosition = dataBuffer.readPosition();\r\n            byte[] data = new byte[dataBuffer.readableByteCount()];\r\n            dataBuffer.read(data);\r\n            dataBuffer.readPosition(readPosition);\r\n            logger.trace(&quot;HTTP request data; request-id=&quot; + requestId + &#39;\\n&#39; + bytesToString(data));\r\n        }\r\n\r\n        private void logComplete() {\r\n            logger.trace(&quot;HTTP request end; request-id=&quot; + requestId);\r\n        }\r\n\r\n        private void logError(Throwable exception) {\r\n            logger.trace(&quot;HTTP request error; request-id=&quot; + requestId, exception);\r\n        }\r\n    }\r\n\r\n    private static class LoggingClientResponseTransformer implements Function&lt;ClientResponse, ClientResponse&gt; {\r\n        private final Logger logger;\r\n        private final String requestId;\r\n\r\n        private LoggingClientResponseTransformer(Logger logger, String requestId) {\r\n            this.logger = logger;\r\n            this.requestId = requestId;\r\n        }\r\n\r\n        @Override\r\n        public ClientResponse apply(ClientResponse clientResponse) {\r\n            if (logger.isTraceEnabled()) {\r\n                var message = new StringBuilder();\r\n                message.append(&quot;HTTP response start; request-id=&quot;).append(requestId).append(&#39;\\n&#39;)\r\n                        .append(&quot;HTTP &quot;).append(clientResponse.statusCode());\r\n                clientResponse.headers().asHttpHeaders().forEach((String name, List&lt;String&gt; values) -&gt; {\r\n                    for (String value : values) {\r\n                        message.append(&#39;\\n&#39;).append(name).append(&quot;: &quot;).append(value);\r\n                    }\r\n                });\r\n                logger.trace(message.toString());\r\n            } else {\r\n                logger.debug(&quot;HTTP response; request-id=&quot; + requestId + &#39;\\n&#39; +\r\n                             &quot;HTTP &quot; + clientResponse.statusCode());\r\n            }\r\n\r\n            return clientResponse.mutate()\r\n                    .body(new ClientResponseBodyTransformer(logger, requestId))\r\n                    .build();\r\n        }\r\n    }\r\n\r\n    private static class ClientResponseBodyTransformer implements Function&lt;Flux&lt;DataBuffer&gt;, Flux&lt;DataBuffer&gt;&gt; {\r\n        private final Logger logger;\r\n        private final String requestId;\r\n        private boolean completed = false;\r\n\r\n        private ClientResponseBodyTransformer(Logger logger, String requestId) {\r\n            this.logger = logger;\r\n            this.requestId = requestId;\r\n        }\r\n\r\n        @Override\r\n        public Flux&lt;DataBuffer&gt; apply(Flux&lt;DataBuffer&gt; body) {\r\n            return body\r\n                    .doOnNext(this::logDataBuffer)\r\n                    .doOnComplete(this::logComplete)\r\n                    .doOnError(this::logError);\r\n        }\r\n\r\n        private void logDataBuffer(DataBuffer dataBuffer) {\r\n            int readPosition = dataBuffer.readPosition();\r\n            byte[] data = new byte[dataBuffer.readableByteCount()];\r\n            dataBuffer.read(data);\r\n            dataBuffer.readPosition(readPosition);\r\n            logger.trace(&quot;HTTP response data; request-id=&quot; + requestId + &#39;\\n&#39; + bytesToString(data));\r\n        }\r\n\r\n        private void logComplete() {\r\n            if (!completed) {\r\n                logger.trace(&quot;HTTP response end; request-id=&quot; + requestId);\r\n                completed = true;\r\n            }\r\n        }\r\n\r\n        private void logError(Throwable exception) {\r\n            logger.trace(&quot;HTTP response error; request-id=&quot; + requestId, exception);\r\n        }\r\n    }\r\n\r\n    private static String bytesToString(byte[] bytes) {\r\n        var string = new StringBuilder(bytes.length);\r\n        for (int i = 0; i &lt; bytes.length; i++) {\r\n            byte b1 = bytes[i];\r\n            if (b1 &gt;= 0) {\r\n                if (32 &lt;= b1 &amp;&amp; b1 &lt; 127) { // ordinary ASCII characters\r\n                    string.append((char) b1);\r\n                } else {  // control characters\r\n                    switch (b1) {\r\n                        case &#39;\\t&#39; -&gt; string.append(&quot;\\\\t&quot;);\r\n                        case &#39;\\n&#39; -&gt; string.append(&quot;\\\\n&quot;);\r\n                        case &#39;\\r&#39; -&gt; string.append(&quot;\\\\r&quot;);\r\n                        default -&gt; {\r\n                            string.append(&quot;\\\\x&quot;);\r\n                            HexFormat.of().toHexDigits(string, b1);\r\n                        }\r\n                    }\r\n                }\r\n                continue;\r\n            }\r\n            if ((b1 &amp; 0xe0) == 0xc0) { // UTF-8 first byte of 2-bytes sequence\r\n                i++;\r\n                if (i &lt; bytes.length) {\r\n                    byte b2 = bytes[i];\r\n                    if ((b2 &amp; 0xc0) == 0x80) { // UTF-8 second byte of 2-bytes sequence\r\n                        char c = (char) ((b1 &amp; 0x1f) &lt;&lt; 6 | b2 &amp; 0x3f);\r\n                        if (Character.isLetter(c)) {\r\n                            string.append(c);\r\n                            continue;\r\n                        }\r\n                    }\r\n                    string.append(&quot;\\\\x&quot;);\r\n                    HexFormat.of().toHexDigits(string, b1);\r\n                    string.append(&quot;\\\\x&quot;);\r\n                    HexFormat.of().toHexDigits(string, b2);\r\n                    continue;\r\n                }\r\n            }\r\n            string.append(&quot;\\\\x&quot;);\r\n            HexFormat.of().toHexDigits(string, b1);\r\n        }\r\n        return string.toString();\r\n    }\r\n}\r\n```","title":"how to log Spring 5 WebClient call","body":"<p>Here's my snippet based on excellent Stanislav Burov's answer. I extracted some lambdas to standalone classes to make code more readable for me and I also implemented a limited UTF-8 aware decoder. I'm using some Guava and Java 17 features, but this code could be easily ported to early versions. I don't buffer the whole request/response body, but rather log buffers as they come in a separate calls, so it does not use excessive RAM or writes extremely long lines.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package kz.doubleservices.healthbus.util;\n\nimport org.reactivestreams.Publisher;\nimport org.slf4j.Logger;\nimport org.springframework.core.io.buffer.DataBuffer;\nimport org.springframework.http.client.reactive.ClientHttpRequest;\nimport org.springframework.http.client.reactive.ClientHttpRequestDecorator;\nimport org.springframework.lang.NonNull;\nimport org.springframework.web.reactive.function.BodyInserter;\nimport org.springframework.web.reactive.function.client.ClientRequest;\nimport org.springframework.web.reactive.function.client.ClientResponse;\nimport org.springframework.web.reactive.function.client.ExchangeFilterFunction;\nimport org.springframework.web.reactive.function.client.ExchangeFunction;\nimport reactor.core.publisher.Flux;\nimport reactor.core.publisher.Mono;\n\nimport java.util.HexFormat;\nimport java.util.List;\nimport java.util.Locale;\nimport java.util.concurrent.ThreadLocalRandom;\nimport java.util.function.Function;\n\nimport static com.google.common.io.BaseEncoding.base32;\n\npublic class LoggingExchangeFilterFunction implements ExchangeFilterFunction {\n    private final Logger logger;\n\n    public LoggingExchangeFilterFunction(Logger logger) {\n        this.logger = logger;\n    }\n\n    @Override\n    @NonNull\n    public Mono&lt;ClientResponse&gt; filter(@NonNull ClientRequest request, @NonNull ExchangeFunction next) {\n        if (!logger.isDebugEnabled()) {\n            return next.exchange(request);\n        }\n\n        String requestId = generateRequestId();\n\n        if (logger.isTraceEnabled()) {\n            var message = new StringBuilder();\n            message.append(&quot;HTTP request start; request-id=&quot;).append(requestId).append('\\n')\n                    .append(request.method()).append(' ').append(request.url());\n            request.headers().forEach((String name, List&lt;String&gt; values) -&gt; {\n                for (String value : values) {\n                    message.append('\\n').append(name).append(&quot;: &quot;).append(value);\n                }\n            });\n            logger.trace(message.toString());\n        } else {\n            logger.debug(&quot;HTTP request; request-id=&quot; + requestId + '\\n' +\n                         request.method() + ' ' + request.url());\n        }\n\n        if (logger.isTraceEnabled()) {\n            var bodyInserter = new LoggingBodyInserter(logger, requestId, request.body());\n            request = ClientRequest.from(request).body(bodyInserter).build();\n        }\n\n        return next.exchange(request).map(new LoggingClientResponseTransformer(logger, requestId));\n    }\n\n    private static String generateRequestId() {\n        var bytes = new byte[5];\n        ThreadLocalRandom.current().nextBytes(bytes);\n        return base32().encode(bytes).toLowerCase(Locale.ROOT);\n    }\n\n    private static class LoggingBodyInserter implements BodyInserter&lt;Object, ClientHttpRequest&gt; {\n        private final Logger logger;\n        private final String requestId;\n        private final BodyInserter&lt;?, ? super ClientHttpRequest&gt; originalBodyInserter;\n\n        private LoggingBodyInserter(Logger logger, String requestId,\n                                    BodyInserter&lt;?, ? super ClientHttpRequest&gt; originalBodyInserter) {\n            this.logger = logger;\n            this.requestId = requestId;\n            this.originalBodyInserter = originalBodyInserter;\n        }\n\n        @Override\n        @NonNull\n        public Mono&lt;Void&gt; insert(@NonNull ClientHttpRequest outputMessage, @NonNull Context context) {\n            var loggingOutputMessage = new LoggingClientHttpRequestDecorator(outputMessage, logger, requestId);\n            return originalBodyInserter.insert(loggingOutputMessage, context);\n        }\n    }\n\n    private static class LoggingClientHttpRequestDecorator extends ClientHttpRequestDecorator {\n        private final Logger logger;\n        private final String requestId;\n\n        public LoggingClientHttpRequestDecorator(ClientHttpRequest delegate, Logger logger, String requestId) {\n            super(delegate);\n            this.logger = logger;\n            this.requestId = requestId;\n        }\n\n        @Override\n        @NonNull\n        public Mono&lt;Void&gt; writeWith(@NonNull Publisher&lt;? extends DataBuffer&gt; body) {\n            Flux&lt;? extends DataBuffer&gt; loggingBody = Flux.from(body)\n                    .doOnNext(this::logDataBuffer)\n                    .doOnComplete(this::logComplete)\n                    .doOnError(this::logError);\n            return super.writeWith(loggingBody);\n        }\n\n        @Override\n        @NonNull\n        public Mono&lt;Void&gt; setComplete() {\n            logger.trace(&quot;HTTP request end; request-id=&quot; + requestId);\n            return super.setComplete();\n        }\n\n        private void logDataBuffer(DataBuffer dataBuffer) {\n            int readPosition = dataBuffer.readPosition();\n            byte[] data = new byte[dataBuffer.readableByteCount()];\n            dataBuffer.read(data);\n            dataBuffer.readPosition(readPosition);\n            logger.trace(&quot;HTTP request data; request-id=&quot; + requestId + '\\n' + bytesToString(data));\n        }\n\n        private void logComplete() {\n            logger.trace(&quot;HTTP request end; request-id=&quot; + requestId);\n        }\n\n        private void logError(Throwable exception) {\n            logger.trace(&quot;HTTP request error; request-id=&quot; + requestId, exception);\n        }\n    }\n\n    private static class LoggingClientResponseTransformer implements Function&lt;ClientResponse, ClientResponse&gt; {\n        private final Logger logger;\n        private final String requestId;\n\n        private LoggingClientResponseTransformer(Logger logger, String requestId) {\n            this.logger = logger;\n            this.requestId = requestId;\n        }\n\n        @Override\n        public ClientResponse apply(ClientResponse clientResponse) {\n            if (logger.isTraceEnabled()) {\n                var message = new StringBuilder();\n                message.append(&quot;HTTP response start; request-id=&quot;).append(requestId).append('\\n')\n                        .append(&quot;HTTP &quot;).append(clientResponse.statusCode());\n                clientResponse.headers().asHttpHeaders().forEach((String name, List&lt;String&gt; values) -&gt; {\n                    for (String value : values) {\n                        message.append('\\n').append(name).append(&quot;: &quot;).append(value);\n                    }\n                });\n                logger.trace(message.toString());\n            } else {\n                logger.debug(&quot;HTTP response; request-id=&quot; + requestId + '\\n' +\n                             &quot;HTTP &quot; + clientResponse.statusCode());\n            }\n\n            return clientResponse.mutate()\n                    .body(new ClientResponseBodyTransformer(logger, requestId))\n                    .build();\n        }\n    }\n\n    private static class ClientResponseBodyTransformer implements Function&lt;Flux&lt;DataBuffer&gt;, Flux&lt;DataBuffer&gt;&gt; {\n        private final Logger logger;\n        private final String requestId;\n        private boolean completed = false;\n\n        private ClientResponseBodyTransformer(Logger logger, String requestId) {\n            this.logger = logger;\n            this.requestId = requestId;\n        }\n\n        @Override\n        public Flux&lt;DataBuffer&gt; apply(Flux&lt;DataBuffer&gt; body) {\n            return body\n                    .doOnNext(this::logDataBuffer)\n                    .doOnComplete(this::logComplete)\n                    .doOnError(this::logError);\n        }\n\n        private void logDataBuffer(DataBuffer dataBuffer) {\n            int readPosition = dataBuffer.readPosition();\n            byte[] data = new byte[dataBuffer.readableByteCount()];\n            dataBuffer.read(data);\n            dataBuffer.readPosition(readPosition);\n            logger.trace(&quot;HTTP response data; request-id=&quot; + requestId + '\\n' + bytesToString(data));\n        }\n\n        private void logComplete() {\n            if (!completed) {\n                logger.trace(&quot;HTTP response end; request-id=&quot; + requestId);\n                completed = true;\n            }\n        }\n\n        private void logError(Throwable exception) {\n            logger.trace(&quot;HTTP response error; request-id=&quot; + requestId, exception);\n        }\n    }\n\n    private static String bytesToString(byte[] bytes) {\n        var string = new StringBuilder(bytes.length);\n        for (int i = 0; i &lt; bytes.length; i++) {\n            byte b1 = bytes[i];\n            if (b1 &gt;= 0) {\n                if (32 &lt;= b1 &amp;&amp; b1 &lt; 127) { // ordinary ASCII characters\n                    string.append((char) b1);\n                } else {  // control characters\n                    switch (b1) {\n                        case '\\t' -&gt; string.append(&quot;\\\\t&quot;);\n                        case '\\n' -&gt; string.append(&quot;\\\\n&quot;);\n                        case '\\r' -&gt; string.append(&quot;\\\\r&quot;);\n                        default -&gt; {\n                            string.append(&quot;\\\\x&quot;);\n                            HexFormat.of().toHexDigits(string, b1);\n                        }\n                    }\n                }\n                continue;\n            }\n            if ((b1 &amp; 0xe0) == 0xc0) { // UTF-8 first byte of 2-bytes sequence\n                i++;\n                if (i &lt; bytes.length) {\n                    byte b2 = bytes[i];\n                    if ((b2 &amp; 0xc0) == 0x80) { // UTF-8 second byte of 2-bytes sequence\n                        char c = (char) ((b1 &amp; 0x1f) &lt;&lt; 6 | b2 &amp; 0x3f);\n                        if (Character.isLetter(c)) {\n                            string.append(c);\n                            continue;\n                        }\n                    }\n                    string.append(&quot;\\\\x&quot;);\n                    HexFormat.of().toHexDigits(string, b1);\n                    string.append(&quot;\\\\x&quot;);\n                    HexFormat.of().toHexDigits(string, b2);\n                    continue;\n                }\n            }\n            string.append(&quot;\\\\x&quot;);\n            HexFormat.of().toHexDigits(string, b1);\n        }\n        return string.toString();\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1426274,"reputation":151,"user_id":1349702,"display_name":"Harikesh"},"score":0,"creation_date":1689792632,"post_id":70277701,"comment_id":135265324,"body_markdown":"any sample on how you did the masking of token?","body":"any sample on how you did the masking of token?"}],"tags":[],"owner":{"account_id":108117,"reputation":9982,"user_id":287138,"accept_rate":82,"display_name":"Stefan Haberl"},"comment_count":1,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1694082234,"creation_date":1638977953,"answer_id":70277701,"question_id":46154994,"body_markdown":"Getting request/response logging right is somehow really difficult when it comes to Spring&#39;s reactive WebClient.\r\n\r\nI had the following requirements:\r\n* Log request and response **including bodies** in _one_ log statement (it&#39;s so much more convenient to have it all in one statement if you scroll through hundreds of logs in AWS cloudwatch)\r\n* Filter sensitive data such as personal data or financial data from the logs to be compliant with GDPR and PCI\r\n\r\n[Wiretapping Netty][1] or using [custom Jackson en-/decoders][2] was therefore not an option.\r\n\r\nHere&#39;s my take on the problem (again based on Stanislav&#39;s excellent [answer][3]). \r\n\r\n(The following code uses [Lombok][4] annotation processing, which you probably want to use as well, if you don&#39;t use it yet. Otherwise it should be easy to de-lombok) \r\n\r\n\r\n```\r\nimport lombok.RequiredArgsConstructor;\r\nimport lombok.extern.slf4j.Slf4j;\r\nimport org.reactivestreams.Publisher;\r\nimport org.springframework.core.io.buffer.DataBuffer;\r\nimport org.springframework.http.client.reactive.ClientHttpRequest;\r\nimport org.springframework.http.client.reactive.ClientHttpRequestDecorator;\r\nimport org.springframework.lang.NonNull;\r\nimport org.springframework.util.StopWatch;\r\nimport org.springframework.web.reactive.function.BodyInserter;\r\nimport org.springframework.web.reactive.function.client.ClientRequest;\r\nimport org.springframework.web.reactive.function.client.ClientResponse;\r\nimport org.springframework.web.reactive.function.client.ExchangeFilterFunction;\r\nimport org.springframework.web.reactive.function.client.ExchangeFunction;\r\nimport reactor.core.publisher.Flux;\r\nimport reactor.core.publisher.Mono;\r\n\r\nimport java.util.concurrent.atomic.AtomicBoolean;\r\n\r\nimport static java.lang.Math.min;\r\nimport static java.util.UUID.randomUUID;\r\nimport static net.logstash.logback.argument.StructuredArguments.v;\r\n\r\n@Slf4j\r\n@RequiredArgsConstructor\r\npublic class RequestLoggingFilterFunction implements ExchangeFilterFunction {\r\n\r\n  private static final int MAX_BYTES_LOGGED = 4_096;\r\n\r\n  private final String externalSystem;\r\n\r\n  @Override\r\n  @NonNull\r\n  public Mono&lt;ClientResponse&gt; filter(@NonNull ClientRequest request, @NonNull ExchangeFunction next) {\r\n    if (!log.isDebugEnabled()) {\r\n      return next.exchange(request);\r\n    }\r\n\r\n    var clientRequestId = randomUUID().toString();\r\n\r\n    var requestLogged = new AtomicBoolean(false);\r\n    var responseLogged = new AtomicBoolean(false);\r\n\r\n    var capturedRequestBody = new StringBuilder();\r\n    var capturedResponseBody = new StringBuilder();\r\n\r\n    var stopWatch = new StopWatch();\r\n    stopWatch.start();\r\n\r\n    return next\r\n      .exchange(ClientRequest.from(request).body(new BodyInserter&lt;&gt;() {\r\n\r\n        @Override\r\n        @NonNull\r\n        public Mono&lt;Void&gt; insert(@NonNull ClientHttpRequest req, @NonNull Context context) {\r\n          return request.body().insert(new ClientHttpRequestDecorator(req) {\r\n\r\n            @Override\r\n            @NonNull\r\n            public Mono&lt;Void&gt; writeWith(@NonNull Publisher&lt;? extends DataBuffer&gt; body) {\r\n              return super.writeWith(Flux.from(body).doOnNext(data -&gt; capturedRequestBody.append(extractBytes(data)))); // number of bytes appended is maxed in real code\r\n            }\r\n\r\n          }, context);\r\n        }\r\n      }).build())\r\n      .doOnNext(response -&gt; {\r\n          if (!requestLogged.getAndSet(true)) {\r\n            log.debug(&quot;| &gt;&gt;---&gt; Outgoing {} request [{}]\\n{} {}\\n{}\\n\\n{}\\n&quot;,\r\n              v(&quot;externalSystem&quot;, externalSystem),\r\n              v(&quot;clientRequestId&quot;, clientRequestId),\r\n              v(&quot;clientRequestMethod&quot;, request.method()),\r\n              v(&quot;clientRequestUrl&quot;, request.url()),\r\n              v(&quot;clientRequestHeaders&quot;, request.headers()), // filtered in real code\r\n              v(&quot;clientRequestBody&quot;, capturedRequestBody.toString()) // filtered in real code\r\n            );\r\n          }\r\n        }\r\n      )\r\n      .doOnError(error -&gt; {\r\n        if (!requestLogged.getAndSet(true)) {\r\n          log.debug(&quot;| &gt;&gt;---&gt; Outgoing {} request [{}]\\n{} {}\\n{}\\n\\nError: {}\\n&quot;,\r\n            v(&quot;externalSystem&quot;, externalSystem),\r\n            v(&quot;clientRequestId&quot;, clientRequestId),\r\n            v(&quot;clientRequestMethod&quot;, request.method()),\r\n            v(&quot;clientRequestUrl&quot;, request.url()),\r\n            v(&quot;clientRequestHeaders&quot;, request.headers()), // filtered in real code\r\n            error.getMessage()\r\n          );\r\n        }\r\n      })\r\n      .map(response -&gt; response.mutate().body(transformer -&gt; transformer\r\n          .doOnNext(body -&gt; capturedResponseBody.append(extractBytes(body))) // number of bytes appended is maxed in real code\r\n          .doOnTerminate(() -&gt; {\r\n            if (stopWatch.isRunning()) {\r\n              stopWatch.stop();\r\n            }\r\n          })\r\n          .doOnComplete(() -&gt; {\r\n            if (!responseLogged.getAndSet(true)) {\r\n              log.debug(&quot;| &lt;---&lt;&lt; Response for outgoing {} request [{}] after {}ms\\n{} {}\\n{}\\n\\n{}\\n&quot;,\r\n                v(&quot;externalSystem&quot;, externalSystem),\r\n                v(&quot;clientRequestId&quot;, clientRequestId),\r\n                v(&quot;clientRequestExecutionTimeInMillis&quot;, stopWatch.getTotalTimeMillis()),\r\n                v(&quot;clientResponseStatusCode&quot;, response.statusCode().value()),\r\n                v(&quot;clientResponseStatusPhrase&quot;, response.statusCode().getReasonPhrase()),\r\n                v(&quot;clientResponseHeaders&quot;, response.headers().asHttpHeaders(), // HttpHeaders implement toString() with formatting, filtered in real code\r\n                v(&quot;clientResponseBody&quot;, capturedResponseBody.toString()) // filtered in real code\r\n              );\r\n            }\r\n          })\r\n          .doOnError(error -&gt; {\r\n              if (!responseLogged.getAndSet(true)) {\r\n                log.debug(&quot;| &lt;---&lt;&lt; Error parsing response for outgoing {} request [{}] after {}ms\\n{}&quot;,\r\n                  v(&quot;externalSystem&quot;, externalSystem),\r\n                  v(&quot;clientRequestId&quot;, clientRequestId),\r\n                  v(&quot;clientRequestExecutionTimeInMillis&quot;, stopWatch.getTotalTimeMillis()),\r\n                  v(&quot;clientErrorMessage&quot;, error.getMessage())\r\n                );\r\n              }\r\n            }\r\n          )\r\n        ).build()\r\n      );\r\n  }\r\n\r\n  private static String extractBytes(DataBuffer data) {\r\n    int currentReadPosition = data.readPosition();\r\n    var numberOfBytesLogged = min(data.readableByteCount(), MAX_BYTES_LOGGED);\r\n    var bytes = new byte[numberOfBytesLogged];\r\n    data.read(bytes, 0, numberOfBytesLogged);\r\n    data.readPosition(currentReadPosition);\r\n    return new String(bytes);\r\n  }\r\n\r\n}\r\n```\r\n\r\nLog entries look like this for successful exchanges:\r\n\r\n```\r\n2021-12-07 17:14:04.029 DEBUG --- [ctor-http-nio-3] RequestLoggingFilterFunction        : | &gt;&gt;---&gt; Outgoing SnakeOil request [6abd0170-d682-4ca6-806c-bbb3559998e8]\r\nPOST https://localhost:8101/snake-oil/oauth/token\r\nContent-Type: application/x-www-form-urlencoded\r\n\r\ngrant_type=client_credentials&amp;client_id=*****&amp;client_secret=*****\r\n```\r\n```\r\n2021-12-07 17:14:04.037 DEBUG --- [ctor-http-nio-3] RequestLoggingFilterFunction        : | &lt;---&lt;&lt; Response for outgoing SnakeOil request [6abd0170-d682-4ca6-806c-bbb3559998e8] after 126ms\r\n200 OK\r\nContent-Type: application/json\r\nVary: [Accept-Encoding, User-Agent]\r\nTransfer-Encoding: chunked\r\n\r\n{&quot;access_token&quot;:&quot;*****&quot;,&quot;expires_in&quot;:&quot;3600&quot;,&quot;token_type&quot;:&quot;BearerToken&quot;}\r\n```\r\n\r\nError conditions are handled gracefully as well, of course.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/66456679/287138\r\n  [2]: https://stackoverflow.com/a/62858230/287138\r\n  [3]: https://stackoverflow.com/a/67939497/287138\r\n  [4]: https://projectlombok.org","title":"how to log Spring 5 WebClient call","body":"<p>Getting request/response logging right is somehow really difficult when it comes to Spring's reactive WebClient.</p>\n<p>I had the following requirements:</p>\n<ul>\n<li>Log request and response <strong>including bodies</strong> in <em>one</em> log statement (it's so much more convenient to have it all in one statement if you scroll through hundreds of logs in AWS cloudwatch)</li>\n<li>Filter sensitive data such as personal data or financial data from the logs to be compliant with GDPR and PCI</li>\n</ul>\n<p><a href=\"https://stackoverflow.com/a/66456679/287138\">Wiretapping Netty</a> or using <a href=\"https://stackoverflow.com/a/62858230/287138\">custom Jackson en-/decoders</a> was therefore not an option.</p>\n<p>Here's my take on the problem (again based on Stanislav's excellent <a href=\"https://stackoverflow.com/a/67939497/287138\">answer</a>).</p>\n<p>(The following code uses <a href=\"https://projectlombok.org\" rel=\"nofollow noreferrer\">Lombok</a> annotation processing, which you probably want to use as well, if you don't use it yet. Otherwise it should be easy to de-lombok)</p>\n<pre><code>import lombok.RequiredArgsConstructor;\nimport lombok.extern.slf4j.Slf4j;\nimport org.reactivestreams.Publisher;\nimport org.springframework.core.io.buffer.DataBuffer;\nimport org.springframework.http.client.reactive.ClientHttpRequest;\nimport org.springframework.http.client.reactive.ClientHttpRequestDecorator;\nimport org.springframework.lang.NonNull;\nimport org.springframework.util.StopWatch;\nimport org.springframework.web.reactive.function.BodyInserter;\nimport org.springframework.web.reactive.function.client.ClientRequest;\nimport org.springframework.web.reactive.function.client.ClientResponse;\nimport org.springframework.web.reactive.function.client.ExchangeFilterFunction;\nimport org.springframework.web.reactive.function.client.ExchangeFunction;\nimport reactor.core.publisher.Flux;\nimport reactor.core.publisher.Mono;\n\nimport java.util.concurrent.atomic.AtomicBoolean;\n\nimport static java.lang.Math.min;\nimport static java.util.UUID.randomUUID;\nimport static net.logstash.logback.argument.StructuredArguments.v;\n\n@Slf4j\n@RequiredArgsConstructor\npublic class RequestLoggingFilterFunction implements ExchangeFilterFunction {\n\n  private static final int MAX_BYTES_LOGGED = 4_096;\n\n  private final String externalSystem;\n\n  @Override\n  @NonNull\n  public Mono&lt;ClientResponse&gt; filter(@NonNull ClientRequest request, @NonNull ExchangeFunction next) {\n    if (!log.isDebugEnabled()) {\n      return next.exchange(request);\n    }\n\n    var clientRequestId = randomUUID().toString();\n\n    var requestLogged = new AtomicBoolean(false);\n    var responseLogged = new AtomicBoolean(false);\n\n    var capturedRequestBody = new StringBuilder();\n    var capturedResponseBody = new StringBuilder();\n\n    var stopWatch = new StopWatch();\n    stopWatch.start();\n\n    return next\n      .exchange(ClientRequest.from(request).body(new BodyInserter&lt;&gt;() {\n\n        @Override\n        @NonNull\n        public Mono&lt;Void&gt; insert(@NonNull ClientHttpRequest req, @NonNull Context context) {\n          return request.body().insert(new ClientHttpRequestDecorator(req) {\n\n            @Override\n            @NonNull\n            public Mono&lt;Void&gt; writeWith(@NonNull Publisher&lt;? extends DataBuffer&gt; body) {\n              return super.writeWith(Flux.from(body).doOnNext(data -&gt; capturedRequestBody.append(extractBytes(data)))); // number of bytes appended is maxed in real code\n            }\n\n          }, context);\n        }\n      }).build())\n      .doOnNext(response -&gt; {\n          if (!requestLogged.getAndSet(true)) {\n            log.debug(&quot;| &gt;&gt;---&gt; Outgoing {} request [{}]\\n{} {}\\n{}\\n\\n{}\\n&quot;,\n              v(&quot;externalSystem&quot;, externalSystem),\n              v(&quot;clientRequestId&quot;, clientRequestId),\n              v(&quot;clientRequestMethod&quot;, request.method()),\n              v(&quot;clientRequestUrl&quot;, request.url()),\n              v(&quot;clientRequestHeaders&quot;, request.headers()), // filtered in real code\n              v(&quot;clientRequestBody&quot;, capturedRequestBody.toString()) // filtered in real code\n            );\n          }\n        }\n      )\n      .doOnError(error -&gt; {\n        if (!requestLogged.getAndSet(true)) {\n          log.debug(&quot;| &gt;&gt;---&gt; Outgoing {} request [{}]\\n{} {}\\n{}\\n\\nError: {}\\n&quot;,\n            v(&quot;externalSystem&quot;, externalSystem),\n            v(&quot;clientRequestId&quot;, clientRequestId),\n            v(&quot;clientRequestMethod&quot;, request.method()),\n            v(&quot;clientRequestUrl&quot;, request.url()),\n            v(&quot;clientRequestHeaders&quot;, request.headers()), // filtered in real code\n            error.getMessage()\n          );\n        }\n      })\n      .map(response -&gt; response.mutate().body(transformer -&gt; transformer\n          .doOnNext(body -&gt; capturedResponseBody.append(extractBytes(body))) // number of bytes appended is maxed in real code\n          .doOnTerminate(() -&gt; {\n            if (stopWatch.isRunning()) {\n              stopWatch.stop();\n            }\n          })\n          .doOnComplete(() -&gt; {\n            if (!responseLogged.getAndSet(true)) {\n              log.debug(&quot;| &lt;---&lt;&lt; Response for outgoing {} request [{}] after {}ms\\n{} {}\\n{}\\n\\n{}\\n&quot;,\n                v(&quot;externalSystem&quot;, externalSystem),\n                v(&quot;clientRequestId&quot;, clientRequestId),\n                v(&quot;clientRequestExecutionTimeInMillis&quot;, stopWatch.getTotalTimeMillis()),\n                v(&quot;clientResponseStatusCode&quot;, response.statusCode().value()),\n                v(&quot;clientResponseStatusPhrase&quot;, response.statusCode().getReasonPhrase()),\n                v(&quot;clientResponseHeaders&quot;, response.headers().asHttpHeaders(), // HttpHeaders implement toString() with formatting, filtered in real code\n                v(&quot;clientResponseBody&quot;, capturedResponseBody.toString()) // filtered in real code\n              );\n            }\n          })\n          .doOnError(error -&gt; {\n              if (!responseLogged.getAndSet(true)) {\n                log.debug(&quot;| &lt;---&lt;&lt; Error parsing response for outgoing {} request [{}] after {}ms\\n{}&quot;,\n                  v(&quot;externalSystem&quot;, externalSystem),\n                  v(&quot;clientRequestId&quot;, clientRequestId),\n                  v(&quot;clientRequestExecutionTimeInMillis&quot;, stopWatch.getTotalTimeMillis()),\n                  v(&quot;clientErrorMessage&quot;, error.getMessage())\n                );\n              }\n            }\n          )\n        ).build()\n      );\n  }\n\n  private static String extractBytes(DataBuffer data) {\n    int currentReadPosition = data.readPosition();\n    var numberOfBytesLogged = min(data.readableByteCount(), MAX_BYTES_LOGGED);\n    var bytes = new byte[numberOfBytesLogged];\n    data.read(bytes, 0, numberOfBytesLogged);\n    data.readPosition(currentReadPosition);\n    return new String(bytes);\n  }\n\n}\n</code></pre>\n<p>Log entries look like this for successful exchanges:</p>\n<pre><code>2021-12-07 17:14:04.029 DEBUG --- [ctor-http-nio-3] RequestLoggingFilterFunction        : | &gt;&gt;---&gt; Outgoing SnakeOil request [6abd0170-d682-4ca6-806c-bbb3559998e8]\nPOST https://localhost:8101/snake-oil/oauth/token\nContent-Type: application/x-www-form-urlencoded\n\ngrant_type=client_credentials&amp;client_id=*****&amp;client_secret=*****\n</code></pre>\n<pre><code>2021-12-07 17:14:04.037 DEBUG --- [ctor-http-nio-3] RequestLoggingFilterFunction        : | &lt;---&lt;&lt; Response for outgoing SnakeOil request [6abd0170-d682-4ca6-806c-bbb3559998e8] after 126ms\n200 OK\nContent-Type: application/json\nVary: [Accept-Encoding, User-Agent]\nTransfer-Encoding: chunked\n\n{&quot;access_token&quot;:&quot;*****&quot;,&quot;expires_in&quot;:&quot;3600&quot;,&quot;token_type&quot;:&quot;BearerToken&quot;}\n</code></pre>\n<p>Error conditions are handled gracefully as well, of course.</p>\n"},{"tags":[],"owner":{"account_id":5644474,"reputation":451,"user_id":4467091,"display_name":"Oleg Maksymuk"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643925882,"creation_date":1643925882,"answer_id":70978947,"question_id":46154994,"body_markdown":"You can do trace webclient logs including request and response body payload with some manipulations using filter function:\r\n\r\n    public class TracingExchangeFilterFunction implements ExchangeFilterFunction {\r\n \r\n \r\n        return next.exchange(buildTraceableRequest(request))\r\n                .flatMap(response -&gt;\r\n                        response.body(BodyExtractors.toDataBuffers())\r\n                                .next()\r\n                                .doOnNext(dataBuffer -&gt; traceResponse(response, dataBuffer))\r\n                                .thenReturn(response)) ;\r\n    }\r\n\r\n    private ClientRequest buildTraceableRequest( \r\n            final ClientRequest clientRequest) {\r\n        return ClientRequest.from(clientRequest).body(\r\n                new BodyInserter&lt;&gt;() {\r\n                    @Override\r\n                    public Mono&lt;Void&gt; insert(\r\n                            final ClientHttpRequest outputMessage,\r\n                            final Context context) {\r\n                        return clientRequest.body().insert(\r\n                                new ClientHttpRequestDecorator(outputMessage) {\r\n                                    @Override\r\n                                    public Mono&lt;Void&gt; writeWith(final Publisher&lt;? extends DataBuffer&gt; body) {\r\n                                        return super.writeWith(\r\n                                                from(body).doOnNext(buffer -&gt;\r\n                                                        traceRequest(clientRequest, buffer)));\r\n                                    }\r\n                                }, context);\r\n                    }\r\n                }).build();\r\n    }\r\n\r\n    private void traceRequest(ClientRequest clientRequest, DataBuffer buffer) {\r\n        final ByteBuf byteBuf = NettyDataBufferFactory.toByteBuf(buffer);\r\n        final byte[] bytes = ByteBufUtil.getBytes(byteBuf);\r\n        // do some tracing\r\n    }\r\n\r\n\r\n    private void traceResponse(ClientResponse response, DataBuffer dataBuffer) {\r\n        final byte[] bytes = new byte[dataBuffer.readableByteCount()];\r\n        dataBuffer.read(bytes);\r\n        // do some tracing\r\n    }\r\n}","title":"how to log Spring 5 WebClient call","body":"<p>You can do trace webclient logs including request and response body payload with some manipulations using filter function:</p>\n<pre><code>public class TracingExchangeFilterFunction implements ExchangeFilterFunction {\n\n\n    return next.exchange(buildTraceableRequest(request))\n            .flatMap(response -&gt;\n                    response.body(BodyExtractors.toDataBuffers())\n                            .next()\n                            .doOnNext(dataBuffer -&gt; traceResponse(response, dataBuffer))\n                            .thenReturn(response)) ;\n}\n\nprivate ClientRequest buildTraceableRequest( \n        final ClientRequest clientRequest) {\n    return ClientRequest.from(clientRequest).body(\n            new BodyInserter&lt;&gt;() {\n                @Override\n                public Mono&lt;Void&gt; insert(\n                        final ClientHttpRequest outputMessage,\n                        final Context context) {\n                    return clientRequest.body().insert(\n                            new ClientHttpRequestDecorator(outputMessage) {\n                                @Override\n                                public Mono&lt;Void&gt; writeWith(final Publisher&lt;? extends DataBuffer&gt; body) {\n                                    return super.writeWith(\n                                            from(body).doOnNext(buffer -&gt;\n                                                    traceRequest(clientRequest, buffer)));\n                                }\n                            }, context);\n                }\n            }).build();\n}\n\nprivate void traceRequest(ClientRequest clientRequest, DataBuffer buffer) {\n    final ByteBuf byteBuf = NettyDataBufferFactory.toByteBuf(buffer);\n    final byte[] bytes = ByteBufUtil.getBytes(byteBuf);\n    // do some tracing\n}\n\n\nprivate void traceResponse(ClientResponse response, DataBuffer dataBuffer) {\n    final byte[] bytes = new byte[dataBuffer.readableByteCount()];\n    dataBuffer.read(bytes);\n    // do some tracing\n}\n</code></pre>\n<p>}</p>\n"},{"tags":[],"owner":{"account_id":11625636,"reputation":13,"user_id":8515484,"display_name":"Gorjan Djundev"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1669084511,"creation_date":1669084442,"answer_id":74526907,"question_id":46154994,"body_markdown":"For those asking about the same with `WebTestClient` the answer is very similar:\r\n\r\n    final HttpClient httpClient = HttpClient\r\n      .create()\r\n      .wiretap(\r\n        this.getClass().getCanonicalName(), \r\n        LogLevel.INFO, \r\n        AdvancedByteBufFormat.TEXTUAL);\r\n\r\n    final WebTestClient webTestClient = WebTestClient\r\n      .bindToServer(new ReactorClientHttpConnector(httpClient))\r\n      .build();","title":"how to log Spring 5 WebClient call","body":"<p>For those asking about the same with <code>WebTestClient</code> the answer is very similar:</p>\n<pre><code>final HttpClient httpClient = HttpClient\n  .create()\n  .wiretap(\n    this.getClass().getCanonicalName(), \n    LogLevel.INFO, \n    AdvancedByteBufFormat.TEXTUAL);\n\nfinal WebTestClient webTestClient = WebTestClient\n  .bindToServer(new ReactorClientHttpConnector(httpClient))\n  .build();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15544774,"reputation":21,"user_id":11214374,"display_name":"Skill For Kill"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1697700647,"creation_date":1697659802,"answer_id":77319300,"question_id":46154994,"body_markdown":"I tried to efficiently log the request and response fully with their body as one message without calling `block()` method. \r\n\r\nAt first glance, the task seemed simple, since the `ExchangeFilterFunction` is similar to the `ClientHttpRequestInterceptor` (which was used for `RestTemplate`).\r\n\r\nThe problems I found:\r\n1) It&#39;s almost impossible to retrieve request body. Everything you have is `BodyInserter` which don&#39;t want share the data. Solution is to make clone of client request that accesses the body using override.\r\n\r\n        private static ClientRequest writeBody(ClientRequest request, StringBuilder stringBuilder) {\r\n        return ClientRequest.from(request)\r\n                .body((outputMessage, context) -&gt; request.body().insert(new ClientHttpRequestDecorator(outputMessage) {\r\n                    @Override\r\n                    public Mono&lt;Void&gt; writeWith(Publisher&lt;? extends DataBuffer&gt; body) {\r\n                        return super.writeWith(Mono.from(body)\r\n                                .doOnNext(dataBuffer -&gt; stringBuilder.append(dataBuffer.toString(StandardCharsets.UTF_8))));\r\n                    }\r\n                }, context))\r\n                .build();\r\n             }\r\n\r\n2) Data can&#39;t be read twice. It&#39;s easy to retrieve response body using `bodyToMono` or `body` methods of ClientResponse. But if data become read in filter then output will be null. Solution to create a copy of the response, body become unread:\r\n\r\n        var builder = ClientResponse.from(c);\r\n        if (StringUtils.isNotBlank(responseBodyBuilder)) {\r\n            builder.body(responseBodyBuilder.toString());\r\n        }\r\n        return builder.build();\r\n\r\n\r\nFull filter method.\r\n\r\n       @Override\r\n    public Mono&lt;ClientResponse&gt; filter(ClientRequest request, ExchangeFunction next) {\r\n        StringBuilder requestBodyBuilder = new StringBuilder();\r\n        StringBuilder responseBodyBuilder = new StringBuilder();\r\n        return next.exchange(writeBody(request, requestBodyBuilder))\r\n                .flatMap(clientResponse -&gt; {\r\n                    return clientResponse.bodyToMono(String.class)\r\n                            .map(body -&gt; {\r\n                                responseBodyBuilder.append(body);\r\n                                return clientResponse;\r\n                            });\r\n                })\r\n                .map(c -&gt; {\r\n                    var builder = ClientResponse.from(c);\r\n                    if (StringUtils.isNotBlank(responseBodyBuilder)) {\r\n                        builder.body(responseBodyBuilder.toString());\r\n                    }\r\n                    StringBuilder stringBuilder = new StringBuilder();\r\n                    stringBuilder.append(logRequest(request, requestBodyBuilder.toString()));\r\n                    stringBuilder.append(logResponse(c, responseBodyBuilder.toString()));\r\n                    log.info(stringBuilder.toString());\r\n                    return builder.build();\r\n                });\r\n    }\r\n\r\n\r\n       private static String logResponse(ClientResponse clientResponse, String body) {\r\n        String result;\r\n        // usage of clientResponse (statusCode/headers/etc) and body\r\n        return result;\r\n    }\r\n    \r\n        private static String logRequest(ClientRequest clientRequest, String body) {\r\n        String result;\r\n        // usage of clientRequest (url/method/headers/etc) and body\r\n        return result;\r\n    }\r\n    \r\nThis way, you can record the request body and the response body and, if necessary, do it in one message.","title":"how to log Spring 5 WebClient call","body":"<p>I tried to efficiently log the request and response fully with their body as one message without calling <code>block()</code> method.</p>\n<p>At first glance, the task seemed simple, since the <code>ExchangeFilterFunction</code> is similar to the <code>ClientHttpRequestInterceptor</code> (which was used for <code>RestTemplate</code>).</p>\n<p>The problems I found:</p>\n<ol>\n<li><p>It's almost impossible to retrieve request body. Everything you have is <code>BodyInserter</code> which don't want share the data. Solution is to make clone of client request that accesses the body using override.</p>\n<pre><code> private static ClientRequest writeBody(ClientRequest request, StringBuilder stringBuilder) {\n return ClientRequest.from(request)\n         .body((outputMessage, context) -&gt; request.body().insert(new ClientHttpRequestDecorator(outputMessage) {\n             @Override\n             public Mono&lt;Void&gt; writeWith(Publisher&lt;? extends DataBuffer&gt; body) {\n                 return super.writeWith(Mono.from(body)\n                         .doOnNext(dataBuffer -&gt; stringBuilder.append(dataBuffer.toString(StandardCharsets.UTF_8))));\n             }\n         }, context))\n         .build();\n      }\n</code></pre>\n</li>\n<li><p>Data can't be read twice. It's easy to retrieve response body using <code>bodyToMono</code> or <code>body</code> methods of ClientResponse. But if data become read in filter then output will be null. Solution to create a copy of the response, body become unread:</p>\n<pre><code> var builder = ClientResponse.from(c);\n if (StringUtils.isNotBlank(responseBodyBuilder)) {\n     builder.body(responseBodyBuilder.toString());\n }\n return builder.build();\n</code></pre>\n</li>\n</ol>\n<p>Full filter method.</p>\n<pre><code>   @Override\npublic Mono&lt;ClientResponse&gt; filter(ClientRequest request, ExchangeFunction next) {\n    StringBuilder requestBodyBuilder = new StringBuilder();\n    StringBuilder responseBodyBuilder = new StringBuilder();\n    return next.exchange(writeBody(request, requestBodyBuilder))\n            .flatMap(clientResponse -&gt; {\n                return clientResponse.bodyToMono(String.class)\n                        .map(body -&gt; {\n                            responseBodyBuilder.append(body);\n                            return clientResponse;\n                        });\n            })\n            .map(c -&gt; {\n                var builder = ClientResponse.from(c);\n                if (StringUtils.isNotBlank(responseBodyBuilder)) {\n                    builder.body(responseBodyBuilder.toString());\n                }\n                StringBuilder stringBuilder = new StringBuilder();\n                stringBuilder.append(logRequest(request, requestBodyBuilder.toString()));\n                stringBuilder.append(logResponse(c, responseBodyBuilder.toString()));\n                log.info(stringBuilder.toString());\n                return builder.build();\n            });\n}\n\n\n   private static String logResponse(ClientResponse clientResponse, String body) {\n    String result;\n    // usage of clientResponse (statusCode/headers/etc) and body\n    return result;\n}\n\n    private static String logRequest(ClientRequest clientRequest, String body) {\n    String result;\n    // usage of clientRequest (url/method/headers/etc) and body\n    return result;\n}\n</code></pre>\n<p>This way, you can record the request body and the response body and, if necessary, do it in one message.</p>\n"}],"owner":{"account_id":4886241,"reputation":3712,"user_id":3938606,"accept_rate":44,"display_name":"Seb"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":145832,"favorite_count":0,"down_vote_count":0,"up_vote_count":97,"accepted_answer_id":46867786,"answer_count":19,"score":97,"last_activity_date":1697700647,"creation_date":1505130367,"question_id":46154994,"body_markdown":"I&#39;m trying to log a request using Spring 5 WebClient. Do you have any idea how could I achieve that? \r\n\r\n(I&#39;m using Spring 5 and Spring boot 2)\r\n\r\nThe code looks like this at the moment:\r\n\r\n\r\n    try {\r\n        return webClient.get().uri(url, urlParams).exchange().flatMap(response -&gt; response.bodyToMono(Test.class))\r\n                .map(test -&gt; xxx.set(test));\r\n    } catch (RestClientException e) {\r\n        log.error(&quot;Cannot get counter from opus&quot;, e);\r\n        throw e;\r\n    }\r\n\r\n\r\n","title":"how to log Spring 5 WebClient call","body":"<p>I'm trying to log a request using Spring 5 WebClient. Do you have any idea how could I achieve that? </p>\n\n<p>(I'm using Spring 5 and Spring boot 2)</p>\n\n<p>The code looks like this at the moment:</p>\n\n<pre><code>try {\n    return webClient.get().uri(url, urlParams).exchange().flatMap(response -&gt; response.bodyToMono(Test.class))\n            .map(test -&gt; xxx.set(test));\n} catch (RestClientException e) {\n    log.error(\"Cannot get counter from opus\", e);\n    throw e;\n}\n</code></pre>\n"},{"tags":["java","for-loop"],"comments":[{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":1,"creation_date":1697693194,"post_id":77320938,"comment_id":136312363,"body_markdown":"They say &quot;fewer than 6 digits&quot;, but you have `&lt;= 6`. Second, as James already said, `goodPassword` is initially `true`, which it shouldn&#39;t be.","body":"They say &quot;fewer than 6 digits&quot;, but you have <code>&lt;= 6</code>. Second, as James already said, <code>goodPassword</code> is initially <code>true</code>, which it shouldn&#39;t be."},{"owner":{"account_id":9463219,"reputation":9357,"user_id":7036419,"display_name":"Maurice Perry"},"score":0,"creation_date":1697694109,"post_id":77320938,"comment_id":136312465,"body_markdown":"Your test `if (Character.isDigit(i)) {` should be `if (Character.isDigit(checkStr.charAt(i))) {`","body":"Your test <code>if (Character.isDigit(i)) {</code> should be <code>if (Character.isDigit(checkStr.charAt(i))) {</code>"}],"answers":[{"tags":[],"owner":{"account_id":10297348,"reputation":161,"user_id":7597068,"display_name":"James"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697694082,"creation_date":1697690633,"answer_id":77321004,"question_id":77320938,"body_markdown":"In your code , i think the initial value of goodPassword should be false.\r\n\r\nBetter is initialize goodPassword  to fasle.\r\nSet the goodPassword to true only if the counter is less then 6 and checkStr.length() is less than 10 . Both checks in a single if condition using &#39;&amp;&amp;&#39;","title":"Counting characters in a string and setting a boolean to T or F based on parameters","body":"<p>In your code , i think the initial value of goodPassword should be false.</p>\n<p>Better is initialize goodPassword  to fasle.\nSet the goodPassword to true only if the counter is less then 6 and checkStr.length() is less than 10 . Both checks in a single if condition using '&amp;&amp;'</p>\n"},{"comments":[{"owner":{"account_id":29705108,"reputation":3,"user_id":22766133,"display_name":"zjones22"},"score":0,"creation_date":1698025496,"post_id":77321217,"comment_id":136348825,"body_markdown":"That worked perfectly. Thank you!","body":"That worked perfectly. Thank you!"}],"tags":[],"owner":{"account_id":9463219,"reputation":9357,"user_id":7036419,"display_name":"Maurice Perry"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1697694319,"creation_date":1697694319,"answer_id":77321217,"question_id":77320938,"body_markdown":"Your test `if (Character.isDigit(i)) {` should be `if (Character.isDigit(checkStr.charAt(i))) {`.\r\n\r\nAlso, replace:\r\n\r\n         else if (counter &lt;=6){\r\n            goodPassword = true;\r\n            }\r\n\r\nwith:\r\n\r\n         if (counter &gt;= 6){\r\n            goodPassword = false;\r\n            }\r\n\r\nYou can also replace both tests:\r\n\r\n      if (checkStr.length() &gt; 10) {\r\n         goodPassword = false;\r\n      }\r\n     \r\n         else if (counter &lt;=6){\r\n            goodPassword = true;\r\n            }\r\n\r\nwith:\r\n\r\n      if (counter &gt;= 6 || checkStr.length() &gt; 10) {\r\n         goodPassword = false;\r\n      }\r\n\r\nOr even:\r\n\r\n    goodPassword = counter &lt; 6 &amp;&amp; checkStr.length() &lt;= 10;\r\n","title":"Counting characters in a string and setting a boolean to T or F based on parameters","body":"<p>Your test <code>if (Character.isDigit(i)) {</code> should be <code>if (Character.isDigit(checkStr.charAt(i))) {</code>.</p>\n<p>Also, replace:</p>\n<pre><code>     else if (counter &lt;=6){\n        goodPassword = true;\n        }\n</code></pre>\n<p>with:</p>\n<pre><code>     if (counter &gt;= 6){\n        goodPassword = false;\n        }\n</code></pre>\n<p>You can also replace both tests:</p>\n<pre><code>  if (checkStr.length() &gt; 10) {\n     goodPassword = false;\n  }\n \n     else if (counter &lt;=6){\n        goodPassword = true;\n        }\n</code></pre>\n<p>with:</p>\n<pre><code>  if (counter &gt;= 6 || checkStr.length() &gt; 10) {\n     goodPassword = false;\n  }\n</code></pre>\n<p>Or even:</p>\n<pre><code>goodPassword = counter &lt; 6 &amp;&amp; checkStr.length() &lt;= 10;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697698268,"creation_date":1697697358,"answer_id":77321460,"question_id":77320938,"body_markdown":"The [Answer by Perry][1] is correct and should be accepted.\r\n\r\n# Code point, not `char`\r\n\r\nAvoid using `char`. That 16-bit type is legacy, physically incapable of representing most characters. The `char` methods can fail. For example, try `&quot;&#128567;&quot;.length()`. \r\n\r\nTo work with individual characters, use [code point][2] integer numbers. \r\n\r\n    int[] codePoints = input.codePoints().toArray() ;\r\n\r\n    if ( codePoints.length &gt; 10 ) { return false ; }  // Must be ten or less characters.\r\n    \r\n    int countDigits = 0 ; \r\n    for( int codePoint : codePoints ) \r\n    {\r\n        if ( Character.isDigit( codePoint ) ) { countDigits ++ ; }\r\n    }\r\n    return ( countDigits &lt; 6 ) ; // Must have fewer than six digits.\r\n\r\nWhen you get comfortable with streams, we can shorten this to two lines.\r\n\r\n```java\r\npublic static boolean isValidPassword( String input ) \r\n{\r\n    if ( input.codePoints ( ).toArray ( ).length &gt; 10 ) return false;\r\n    return input.codePoints ( ).filter ( Character :: isDigit ).count ( ) &lt; 6;\r\n}\r\n```\r\n\r\nI would think you should also check for empty string, or a string filled with [whitespace][3].\r\n\r\n    if( input.isBlank() ) return false ;\r\n\r\n----------\r\n\r\n\r\nRegarding `Character.isDigit`, be aware that Unicode defines many other digits besides the 0-9 in US-ASCII. \r\n\r\n\r\n  [1]: https://stackoverflow.com/a/77321217/642706\r\n  [2]: https://en.wikipedia.org/wiki/Code_point\r\n  [3]: https://en.wikipedia.org/wiki/Whitespace_character","title":"Counting characters in a string and setting a boolean to T or F based on parameters","body":"<p>The <a href=\"https://stackoverflow.com/a/77321217/642706\">Answer by Perry</a> is correct and should be accepted.</p>\n<h1>Code point, not <code>char</code></h1>\n<p>Avoid using <code>char</code>. That 16-bit type is legacy, physically incapable of representing most characters. The <code>char</code> methods can fail. For example, try <code>&quot;😷&quot;.length()</code>.</p>\n<p>To work with individual characters, use <a href=\"https://en.wikipedia.org/wiki/Code_point\" rel=\"nofollow noreferrer\">code point</a> integer numbers.</p>\n<pre><code>int[] codePoints = input.codePoints().toArray() ;\n\nif ( codePoints.length &gt; 10 ) { return false ; }  // Must be ten or less characters.\n\nint countDigits = 0 ; \nfor( int codePoint : codePoints ) \n{\n    if ( Character.isDigit( codePoint ) ) { countDigits ++ ; }\n}\nreturn ( countDigits &lt; 6 ) ; // Must have fewer than six digits.\n</code></pre>\n<p>When you get comfortable with streams, we can shorten this to two lines.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static boolean isValidPassword( String input ) \n{\n    if ( input.codePoints ( ).toArray ( ).length &gt; 10 ) return false;\n    return input.codePoints ( ).filter ( Character :: isDigit ).count ( ) &lt; 6;\n}\n</code></pre>\n<p>I would think you should also check for empty string, or a string filled with <a href=\"https://en.wikipedia.org/wiki/Whitespace_character\" rel=\"nofollow noreferrer\">whitespace</a>.</p>\n<pre><code>if( input.isBlank() ) return false ;\n</code></pre>\n<hr />\n<p>Regarding <code>Character.isDigit</code>, be aware that Unicode defines many other digits besides the 0-9 in US-ASCII.</p>\n"},{"tags":[],"owner":{"account_id":29368902,"reputation":1,"user_id":22501920,"display_name":"Aviral Verma"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697698234,"creation_date":1697698234,"answer_id":77321544,"question_id":77320938,"body_markdown":"It appears that your code can be improved and optimized.\r\n1. The loop implemented for digit counting does not accurately validate the presence of digits within the input text. Evaluate the characters within the string rather than their respective places. Instead of utilising the method `Character.isDigit(i)`,use `Character.isDigit(checkStr.charAt(i))**`.\r\n2. Make a comparison between the variable &quot;**counter**&quot; and the value 6 in order to ascertain whether there exists a quantity of digits that is less than six, and then evaluate the length of the string &quot;**checkStr**&quot; by invoking the method &quot;**length()**&quot; and comparing the result to the value 10, so as to determine if the length is less than or equal to ten.\r\nHere&#39;s the working code. I checked it. Hope it helps &#128513;.\r\n```\r\nimport java.util.Scanner;\r\n\r\npublic class ValidInvalid {\r\n   public static void main(String[] args) {\r\n      Scanner scnr = new Scanner(System.in);\r\n      String checkStr;\r\n      Boolean goodPassword=true;\r\n      int i;\r\n      int counter=0;\r\n  \r\n      checkStr = scnr.nextLine();\r\n\r\n      for (i = 0; i &lt; checkStr.length(); i++) {\r\n            if (Character.isDigit(checkStr.charAt(i))) {\r\n               counter = counter + 1;\r\n            }\r\n       }\r\n       //  Check the two conditions simultaneously, optimize\r\n       if (counter &lt; 6 &amp;&amp; checkStr.length() &lt;= 10 ){\r\n            goodPassword = true;\r\n            }\r\n      else goodPassword = false;\r\n \r\n      if (goodPassword) {\r\n         System.out.println(&quot;Valid&quot;);\r\n       }\r\n      else {\r\n          System.out.println(&quot;Invalid&quot;);\r\n       }\r\n   }\r\n }\r\n```","title":"Counting characters in a string and setting a boolean to T or F based on parameters","body":"<p>It appears that your code can be improved and optimized.</p>\n<ol>\n<li>The loop implemented for digit counting does not accurately validate the presence of digits within the input text. Evaluate the characters within the string rather than their respective places. Instead of utilising the method <code>Character.isDigit(i)</code>,use <code>Character.isDigit(checkStr.charAt(i))**</code>.</li>\n<li>Make a comparison between the variable &quot;<strong>counter</strong>&quot; and the value 6 in order to ascertain whether there exists a quantity of digits that is less than six, and then evaluate the length of the string &quot;<strong>checkStr</strong>&quot; by invoking the method &quot;<strong>length()</strong>&quot; and comparing the result to the value 10, so as to determine if the length is less than or equal to ten.\nHere's the working code. I checked it. Hope it helps 😁.</li>\n</ol>\n<pre><code>import java.util.Scanner;\n\npublic class ValidInvalid {\n   public static void main(String[] args) {\n      Scanner scnr = new Scanner(System.in);\n      String checkStr;\n      Boolean goodPassword=true;\n      int i;\n      int counter=0;\n  \n      checkStr = scnr.nextLine();\n\n      for (i = 0; i &lt; checkStr.length(); i++) {\n            if (Character.isDigit(checkStr.charAt(i))) {\n               counter = counter + 1;\n            }\n       }\n       //  Check the two conditions simultaneously, optimize\n       if (counter &lt; 6 &amp;&amp; checkStr.length() &lt;= 10 ){\n            goodPassword = true;\n            }\n      else goodPassword = false;\n \n      if (goodPassword) {\n         System.out.println(&quot;Valid&quot;);\n       }\n      else {\n          System.out.println(&quot;Invalid&quot;);\n       }\n   }\n }\n</code></pre>\n"}],"owner":{"account_id":29705108,"reputation":3,"user_id":22766133,"display_name":"zjones22"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":92,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77321217,"answer_count":4,"score":0,"last_activity_date":1697700296,"creation_date":1697689108,"question_id":77320938,"body_markdown":"Working on a homework question and I cannot understand why one of the tests is not working. \r\n\r\nHere is the question:\r\n\r\nDeclare a Boolean variable named goodPassword. Use goodPassword to output &quot;Valid&quot; if checkStr contains fewer than 6 digits and checkStr&#39;s length is less than or equal to 10. Otherwise, output &quot;Invalid&quot;.\r\n\r\nEx: If the input is `SDhm3650F8`, then the output is:\r\n\r\nValid\r\n\r\nEx: If the input is `BrgFSyDGk4j`, then the output is:\r\n\r\nInvalid\r\n\r\nOnce compiled the program runs 10 test cases for the loop and all but one of them is coming back successful. Been confused as to why it isn&#39;t working for a while now and cant seem to figure it out. Any help would be appreciated. \r\n\r\nHere is my code:\r\n\r\n\r\n    import java.util.Scanner;\r\n\r\n    public class ValidInvalid {\r\n       public static void main(String[] args) {\r\n          Scanner scnr = new Scanner(System.in);\r\n          String checkStr;\r\n          Boolean goodPassword=true;\r\n          int i;\r\n          int counter=0;\r\n      \r\n          checkStr = scnr.nextLine();\r\n   \r\n          for (i = 0; i &lt; checkStr.length(); i++) {\r\n                if (Character.isDigit(i)) {\r\n                   counter = counter + 1;\r\n                }\r\n           }\r\n      \r\n          if (checkStr.length() &gt; 10) {\r\n             goodPassword = false;\r\n          }\r\n         \r\n             else if (counter &lt;=6){\r\n                goodPassword = true;\r\n                }\r\n      \r\n\r\n          if (goodPassword) {\r\n             System.out.println(&quot;Valid&quot;);\r\n           }\r\n          else {\r\n              System.out.println(&quot;Invalid&quot;);\r\n           }\r\n       }\r\n     }\r\n\r\n\r\nHere is a sample of the results I&#39;m getting. Number 5 is the one that keeps failing.\r\n\r\n```\r\n3: Compare output\r\nInput\r\nRPCTFSJ2W\r\nYour output\r\nValid\r\n\r\n4: Compare output\r\nInput\r\nxnqd9bkcgwtsr\r\nYour output\r\nInvalid\r\n\r\n5: Compare output\r\nOutput differs. See highlights below.\r\nInput\r\n63198207s\r\nYour output\r\nValid\r\nExpected output\r\nInvalid your text\r\n```","title":"Counting characters in a string and setting a boolean to T or F based on parameters","body":"<p>Working on a homework question and I cannot understand why one of the tests is not working.</p>\n<p>Here is the question:</p>\n<p>Declare a Boolean variable named goodPassword. Use goodPassword to output &quot;Valid&quot; if checkStr contains fewer than 6 digits and checkStr's length is less than or equal to 10. Otherwise, output &quot;Invalid&quot;.</p>\n<p>Ex: If the input is <code>SDhm3650F8</code>, then the output is:</p>\n<p>Valid</p>\n<p>Ex: If the input is <code>BrgFSyDGk4j</code>, then the output is:</p>\n<p>Invalid</p>\n<p>Once compiled the program runs 10 test cases for the loop and all but one of them is coming back successful. Been confused as to why it isn't working for a while now and cant seem to figure it out. Any help would be appreciated.</p>\n<p>Here is my code:</p>\n<pre><code>import java.util.Scanner;\n\npublic class ValidInvalid {\n   public static void main(String[] args) {\n      Scanner scnr = new Scanner(System.in);\n      String checkStr;\n      Boolean goodPassword=true;\n      int i;\n      int counter=0;\n  \n      checkStr = scnr.nextLine();\n\n      for (i = 0; i &lt; checkStr.length(); i++) {\n            if (Character.isDigit(i)) {\n               counter = counter + 1;\n            }\n       }\n  \n      if (checkStr.length() &gt; 10) {\n         goodPassword = false;\n      }\n     \n         else if (counter &lt;=6){\n            goodPassword = true;\n            }\n  \n\n      if (goodPassword) {\n         System.out.println(&quot;Valid&quot;);\n       }\n      else {\n          System.out.println(&quot;Invalid&quot;);\n       }\n   }\n }\n</code></pre>\n<p>Here is a sample of the results I'm getting. Number 5 is the one that keeps failing.</p>\n<pre><code>3: Compare output\nInput\nRPCTFSJ2W\nYour output\nValid\n\n4: Compare output\nInput\nxnqd9bkcgwtsr\nYour output\nInvalid\n\n5: Compare output\nOutput differs. See highlights below.\nInput\n63198207s\nYour output\nValid\nExpected output\nInvalid your text\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":2,"creation_date":1697698461,"post_id":77321558,"comment_id":136313039,"body_markdown":"Depends on the test framework. Which one are you using?","body":"Depends on the test framework. Which one are you using?"}],"answers":[{"comments":[{"owner":{"account_id":29705951,"reputation":3,"user_id":22766781,"display_name":"Hongxiang Cheng"},"score":0,"creation_date":1697699855,"post_id":77321654,"comment_id":136313279,"body_markdown":"It works in my idea. But still no change in the report","body":"It works in my idea. But still no change in the report"},{"owner":{"account_id":10250466,"reputation":575,"user_id":7576519,"display_name":"Pablo Aragon&#233;s"},"score":0,"creation_date":1697700631,"post_id":77321654,"comment_id":136313412,"body_markdown":"hmmm then I don&#39;t think TestNG has a mechanism to change the name in the report.","body":"hmmm then I don&#39;t think TestNG has a mechanism to change the name in the report."},{"owner":{"account_id":10250466,"reputation":575,"user_id":7576519,"display_name":"Pablo Aragon&#233;s"},"score":0,"creation_date":1697700861,"post_id":77321654,"comment_id":136313454,"body_markdown":"in fact, I think that you would need to create a custom listener or reporter that intercepts the test method names and replaces them with the custom names you desire. Your listener should extends from `TestListenerAdapter`","body":"in fact, I think that you would need to create a custom listener or reporter that intercepts the test method names and replaces them with the custom names you desire. Your listener should extends from <code>TestListenerAdapter</code>"}],"tags":[],"owner":{"account_id":10250466,"reputation":575,"user_id":7576519,"display_name":"Pablo Aragon&#233;s"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1697699309,"creation_date":1697699309,"answer_id":77321654,"question_id":77321558,"body_markdown":"Try by using the `@Test` annotation&#39;s `testName` attribute. Here is an example:\r\n\r\n```\r\n@Test(groups = &quot;testng&quot;, testName = &quot;Custom Test Name for Intent Recognition&quot;)\r\n    public void testIntentRecognition() {\r\n        System.out.println(&quot;test1 from group1&quot;);\r\n        Assert.assertTrue(true, &quot;success&quot;);\r\n    }\r\n```","title":"how can I rename method name for testng","body":"<p>Try by using the <code>@Test</code> annotation's <code>testName</code> attribute. Here is an example:</p>\n<pre><code>@Test(groups = &quot;testng&quot;, testName = &quot;Custom Test Name for Intent Recognition&quot;)\n    public void testIntentRecognition() {\n        System.out.println(&quot;test1 from group1&quot;);\n        Assert.assertTrue(true, &quot;success&quot;);\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15748896,"reputation":27,"user_id":11364077,"display_name":"Jeroen Gremmen"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697699338,"creation_date":1697699338,"answer_id":77321658,"question_id":77321558,"body_markdown":"I&#39;m not sure about testng but junit has an annotation `DisplayName` which allows you to give each test method a different name.","title":"how can I rename method name for testng","body":"<p>I'm not sure about testng but junit has an annotation <code>DisplayName</code> which allows you to give each test method a different name.</p>\n"}],"owner":{"account_id":29705951,"reputation":3,"user_id":22766781,"display_name":"Hongxiang Cheng"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77321654,"answer_count":2,"score":0,"last_activity_date":1697700148,"creation_date":1697698373,"question_id":77321558,"body_markdown":"I&#39;m trying to get a testng report. But sometimes, I don&#39;t want to show my real method name,like testIntentRecognition below. Can I use something like @Rename(&quot;fakename&quot;) to rename the method in the report?\r\n\r\n\r\n\r\n![enter image description here](https://i.stack.imgur.com/BW9GJ.png)\r\n\r\n    import org.testng.Assert;\r\n    import org.testng.annotations.Test;\r\n\r\n    public class test {\r\n        \r\n    @Test(groups=&quot;testng&quot;)\r\n        public void testIntentRecognition() {\r\n    \r\n            System.out.println(&quot;test1 from group1&quot;);\r\n            Assert.assertTrue(true, &quot;success&quot;);\r\n        }\r\n    \r\n        @Test(groups=&quot;testng&quot;)\r\n        public void testDocumentRetrieval() {\r\n    \r\n            System.out.println(&quot;test1 from group1&quot;);\r\n            Assert.assertTrue(true, &quot;success&quot;);\r\n        }\r\n    \r\n    }","title":"how can I rename method name for testng","body":"<p>I'm trying to get a testng report. But sometimes, I don't want to show my real method name,like testIntentRecognition below. Can I use something like @Rename(&quot;fakename&quot;) to rename the method in the report?</p>\n<p><img src=\"https://i.stack.imgur.com/BW9GJ.png\" alt=\"enter image description here\" /></p>\n<pre><code>import org.testng.Assert;\nimport org.testng.annotations.Test;\n\npublic class test {\n    \n@Test(groups=&quot;testng&quot;)\n    public void testIntentRecognition() {\n\n        System.out.println(&quot;test1 from group1&quot;);\n        Assert.assertTrue(true, &quot;success&quot;);\n    }\n\n    @Test(groups=&quot;testng&quot;)\n    public void testDocumentRetrieval() {\n\n        System.out.println(&quot;test1 from group1&quot;);\n        Assert.assertTrue(true, &quot;success&quot;);\n    }\n\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-statemachine"],"comments":[{"owner":{"account_id":62234,"reputation":19819,"user_id":185034,"accept_rate":100,"display_name":"Paul"},"score":0,"creation_date":1466542731,"post_id":37856322,"comment_id":63357326,"body_markdown":"It seems that error handling is currently not an option, see https://github.com/spring-projects/spring-statemachine/issues/183.  At least, I&#39;ve never been able to get it to work.","body":"It seems that error handling is currently not an option, see <a href=\"https://github.com/spring-projects/spring-statemachine/issues/183\" rel=\"nofollow noreferrer\">github.com/spring-projects/spring-statemachine/issues/183</a>.  At least, I&#39;ve never been able to get it to work."},{"owner":{"account_id":3127182,"reputation":6869,"user_id":2645833,"accept_rate":54,"display_name":"krmanish007"},"score":0,"creation_date":1506934355,"post_id":37856322,"comment_id":79998603,"body_markdown":"This issue seems to be fixed at https://github.com/spring-projects/spring-statemachine/issues/240","body":"This issue seems to be fixed at <a href=\"https://github.com/spring-projects/spring-statemachine/issues/240\" rel=\"nofollow noreferrer\">github.com/spring-projects/spring-statemachine/issues/240</a>"}],"answers":[{"tags":[],"owner":{"account_id":1310087,"reputation":39,"user_id":1258249,"display_name":"theAntonym"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1506914649,"creation_date":1506914649,"answer_id":46519081,"question_id":37856322,"body_markdown":"Not sure if you still need this. But I bumped into similar issue. I wanted to propagate exception from state machine to the caller. I implemented StateMachineInterceptor. And inside the state machine transition functions I am setting:\r\n\r\n       try\r\n            {\r\n                ..\r\n            }\r\n            catch (WhateverException e)\r\n            {\r\n                stateMachine.setStateMachineError(e);\r\n                throw e;\r\n            }\r\n\r\n\r\nThen inside the interceptor&#39;s stateMachineError method, I have added the Exception in the extendedState map:\r\n\r\n    public Exception stateMachineError(StateMachine&lt;States, Events&gt; stateMachine, Exception exception)\r\n    { \r\n    stateMachine.getExtendedState().getVariables().put(&quot;ERROR&quot;, exception);\r\n    logger.error(&quot;StateMachineError&quot;, exception);\r\n    return exception;\r\n    }\r\n\r\nInside resetStateMachine I have added the interceptor to the statemachine.\r\n\r\n    a.addStateMachineInterceptor(new LoggingStateMachineInterceptor());\r\n\r\nThen when I am calling the sendEvent method, I am doing this:\r\n\r\n     if (stateMachine.hasStateMachineError())\r\n            {\r\n                throw (Exception) svtStateMachine.getExtendedState().getVariables().get(&quot;ERROR&quot;);\r\n            }\r\n\r\nThis is returning the WhateverException right to the caller. Which in my case is a RestController. \r\n\r\n","title":"Spring State Machine Error Handling not working","body":"<p>Not sure if you still need this. But I bumped into similar issue. I wanted to propagate exception from state machine to the caller. I implemented StateMachineInterceptor. And inside the state machine transition functions I am setting:</p>\n\n<pre><code>   try\n        {\n            ..\n        }\n        catch (WhateverException e)\n        {\n            stateMachine.setStateMachineError(e);\n            throw e;\n        }\n</code></pre>\n\n<p>Then inside the interceptor's stateMachineError method, I have added the Exception in the extendedState map:</p>\n\n<pre><code>public Exception stateMachineError(StateMachine&lt;States, Events&gt; stateMachine, Exception exception)\n{ \nstateMachine.getExtendedState().getVariables().put(\"ERROR\", exception);\nlogger.error(\"StateMachineError\", exception);\nreturn exception;\n}\n</code></pre>\n\n<p>Inside resetStateMachine I have added the interceptor to the statemachine.</p>\n\n<pre><code>a.addStateMachineInterceptor(new LoggingStateMachineInterceptor());\n</code></pre>\n\n<p>Then when I am calling the sendEvent method, I am doing this:</p>\n\n<pre><code> if (stateMachine.hasStateMachineError())\n        {\n            throw (Exception) svtStateMachine.getExtendedState().getVariables().get(\"ERROR\");\n        }\n</code></pre>\n\n<p>This is returning the WhateverException right to the caller. Which in my case is a RestController. </p>\n"},{"tags":[],"owner":{"account_id":3481319,"reputation":876,"user_id":2913290,"accept_rate":50,"display_name":"Daniel Vilas-Boas"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697700088,"creation_date":1631725832,"answer_id":69197298,"question_id":37856322,"body_markdown":"The approach I&#39;m taking here is combining the extended state to store errors with an error action. \r\n\r\nIf an expected exception happens in your action and any class inside of it, I include it in the extended state context\r\n\r\n\r\n    context.getExtendedState().getVariables().put(&quot;error&quot;, MyBussinessException);\r\n\r\nthen, on my error action (configured like this)\r\n\r\n\r\n            .withExternal()\r\n            .source(State.INIT)\r\n            .target(State.STARTED)\r\n            .action(action, errorAction)\r\n            .event(Events.INIT)\r\n\r\nOutside machine context, I always check if that field is present or not, and translate it to proper response code. \r\n\r\nIf any exception is thrown from action, error action will be triggered. There you can check known errors (and let them bubble up), or include a new errors (if that was unexpected)\r\n\r\n\r\n    public class ErrorAction implements Action&lt;States, Events&gt; {\r\n    \r\n        @Override\r\n        public void execute(StateContext&lt;States, Events&gt; context) {\r\n           if(!context.getExtendedState().getVariables().containsKey(&quot;error&quot;)\r\n            context.getExtendedState().getVariables().put(&quot;error&quot;, new GenericException());\r\n        }\r\n    }\r\n\r\nThen, you will go and make this check in the Service you are calling the event from.\r\n\r\n```java\r\n\r\n    Object error = sm.getExtendedState().getVariables().get(&quot;error&quot;);\r\n    if (error == null) {\r\n    \treturn;\r\n    }\r\n    throw MyBussinessException.class.cast(error);\r\n\r\n```\r\n","title":"Spring State Machine Error Handling not working","body":"<p>The approach I'm taking here is combining the extended state to store errors with an error action.</p>\n<p>If an expected exception happens in your action and any class inside of it, I include it in the extended state context</p>\n<pre><code>context.getExtendedState().getVariables().put(&quot;error&quot;, MyBussinessException);\n</code></pre>\n<p>then, on my error action (configured like this)</p>\n<pre><code>        .withExternal()\n        .source(State.INIT)\n        .target(State.STARTED)\n        .action(action, errorAction)\n        .event(Events.INIT)\n</code></pre>\n<p>Outside machine context, I always check if that field is present or not, and translate it to proper response code.</p>\n<p>If any exception is thrown from action, error action will be triggered. There you can check known errors (and let them bubble up), or include a new errors (if that was unexpected)</p>\n<pre><code>public class ErrorAction implements Action&lt;States, Events&gt; {\n\n    @Override\n    public void execute(StateContext&lt;States, Events&gt; context) {\n       if(!context.getExtendedState().getVariables().containsKey(&quot;error&quot;)\n        context.getExtendedState().getVariables().put(&quot;error&quot;, new GenericException());\n    }\n}\n</code></pre>\n<p>Then, you will go and make this check in the Service you are calling the event from.</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n    Object error = sm.getExtendedState().getVariables().get(&quot;error&quot;);\n    if (error == null) {\n        return;\n    }\n    throw MyBussinessException.class.cast(error);\n\n</code></pre>\n"}],"owner":{"account_id":3127182,"reputation":6869,"user_id":2645833,"accept_rate":54,"display_name":"krmanish007"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3725,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1697700088,"creation_date":1466072257,"question_id":37856322,"body_markdown":"I did all the setup for error handling\r\n\r\n    @PostConstruct\r\n    public void addStateMachineInterceptor() {\r\n        stateMachine.getStateMachineAccessor().withRegion().addStateMachineInterceptor(interceptor);\r\n        stateMachine.getStateMachineAccessor().doWithRegion(errorinterceptor);\r\n    }\r\n\r\ncreated interceptor to handle error:\r\n\r\n    @Service\r\n    public class OrderStateMachineFunction&lt;T&gt; implements StateMachineFunction&lt;StateMachineAccess&lt;String, String&gt;&gt; {\r\n        @Override\r\n        public void apply(StateMachineAccess&lt;String, String&gt; stringStringStateMachineAccess) {\r\n            stringStringStateMachineAccess.addStateMachineInterceptor(\r\n                    new StateMachineInterceptorAdapter&lt;String, String&gt;() {\r\n                        @Override\r\n                        public Exception stateMachineError(StateMachine&lt;String, String&gt; stateMachine,\r\n                                                           Exception exception) {\r\n                            // return null indicating handled error\r\n                            return exception;\r\n                        }\r\n                    });\r\n        }\r\n    }\r\n\r\nBut I can&#39;t see the call going into OrderStateMachineFunction, when we throw the exception from the action.\r\n\r\nAnd after that state machine behave some wired way, like it stops calling preStateChange method after this.stateMachine.sendEvent(eventData);. It seems state machine breaks down after you throw the exception from the action.\r\n\r\n        @Service\r\n        public class OrderStateMachineInterceptor extends StateMachineInterceptorAdapter {\r\n        \r\n            @Override\r\n            public void preStateChange(State newState, Message message, Transition transition, StateMachine stateMachine) {\r\n                System.out.println(&quot;Manish&quot;);\r\n        }\r\n    }\r\n\r\nAfter trying few bit, I have seen that if I comment the resetStateMachine, it works as expected, but without that I am not able to inform the currentstate to state machine:\r\n\r\n        public boolean fireEvent(Object data, String previousState, String event) {\r\n            Message&lt;String&gt; eventData = MessageBuilder.withPayload(event)\r\n                    .setHeader(DATA_KEY, data)\r\n                    .build();\r\n            this.stateMachine.stop();\r\n    \r\n    //        this.stateMachine\r\n    //                .getStateMachineAccessor()\r\n    //                .withRegion()\r\n    //                .resetStateMachine(new DefaultStateMachineContext(previousState, event, eventData.getHeaders(), null));\r\n    \r\n            this.stateMachine.start();\r\n            return this.stateMachine.sendEvent(eventData);\r\n        }\r\n\r\n","title":"Spring State Machine Error Handling not working","body":"<p>I did all the setup for error handling</p>\n\n<pre><code>@PostConstruct\npublic void addStateMachineInterceptor() {\n    stateMachine.getStateMachineAccessor().withRegion().addStateMachineInterceptor(interceptor);\n    stateMachine.getStateMachineAccessor().doWithRegion(errorinterceptor);\n}\n</code></pre>\n\n<p>created interceptor to handle error:</p>\n\n<pre><code>@Service\npublic class OrderStateMachineFunction&lt;T&gt; implements StateMachineFunction&lt;StateMachineAccess&lt;String, String&gt;&gt; {\n    @Override\n    public void apply(StateMachineAccess&lt;String, String&gt; stringStringStateMachineAccess) {\n        stringStringStateMachineAccess.addStateMachineInterceptor(\n                new StateMachineInterceptorAdapter&lt;String, String&gt;() {\n                    @Override\n                    public Exception stateMachineError(StateMachine&lt;String, String&gt; stateMachine,\n                                                       Exception exception) {\n                        // return null indicating handled error\n                        return exception;\n                    }\n                });\n    }\n}\n</code></pre>\n\n<p>But I can't see the call going into OrderStateMachineFunction, when we throw the exception from the action.</p>\n\n<p>And after that state machine behave some wired way, like it stops calling preStateChange method after this.stateMachine.sendEvent(eventData);. It seems state machine breaks down after you throw the exception from the action.</p>\n\n<pre><code>    @Service\n    public class OrderStateMachineInterceptor extends StateMachineInterceptorAdapter {\n\n        @Override\n        public void preStateChange(State newState, Message message, Transition transition, StateMachine stateMachine) {\n            System.out.println(\"Manish\");\n    }\n}\n</code></pre>\n\n<p>After trying few bit, I have seen that if I comment the resetStateMachine, it works as expected, but without that I am not able to inform the currentstate to state machine:</p>\n\n<pre><code>    public boolean fireEvent(Object data, String previousState, String event) {\n        Message&lt;String&gt; eventData = MessageBuilder.withPayload(event)\n                .setHeader(DATA_KEY, data)\n                .build();\n        this.stateMachine.stop();\n\n//        this.stateMachine\n//                .getStateMachineAccessor()\n//                .withRegion()\n//                .resetStateMachine(new DefaultStateMachineContext(previousState, event, eventData.getHeaders(), null));\n\n        this.stateMachine.start();\n        return this.stateMachine.sendEvent(eventData);\n    }\n</code></pre>\n"},{"tags":["java","session","keycloak","apache-zeppelin","pac4j"],"comments":[{"owner":{"account_id":17497721,"reputation":144,"user_id":12688654,"display_name":"vished2000"},"score":0,"creation_date":1702360694,"post_id":77320983,"comment_id":136883453,"body_markdown":"Did you found a solution?","body":"Did you found a solution?"}],"owner":{"account_id":22563716,"reputation":1,"user_id":16751024,"display_name":"Zhun"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697699974,"creation_date":1697690062,"question_id":77320983,"body_markdown":"I integrate Apache Zeppelin with Keycloak and use the pac4j library for OIDC authentication. Each time I call an API, such as creating a new interpreter in a notebook, it goes with the Cookie: JSESSIONID in the header request. I&#39;m trying to remove or disable that JSESSIONID to switch to using token authentication provided by Keycloak. I&#39;ve tried to research, but it seems hopeless. I want to ask:\r\n\r\n    1. When and where is JSESSIONID created?\r\n    2. Is disabling it a good choice?\r\n    3. I&#39;m still struggling to understand its authentication flow. Can someone explain?\r\n\r\nIf I know where JSESSIONID is created and where it is processed in Pac4j or Keycloak (if it is), I will know how to disable it, or at least I can use a token to authenticate without touching JSESSIONID.\r\n\r\nThanks in advance!\r\n\r\nI want to call APIs interact with Zeppelin with only token.","title":"Disable session-based, switch to token-based authentication in Zeppelin","body":"<p>I integrate Apache Zeppelin with Keycloak and use the pac4j library for OIDC authentication. Each time I call an API, such as creating a new interpreter in a notebook, it goes with the Cookie: JSESSIONID in the header request. I'm trying to remove or disable that JSESSIONID to switch to using token authentication provided by Keycloak. I've tried to research, but it seems hopeless. I want to ask:</p>\n<pre><code>1. When and where is JSESSIONID created?\n2. Is disabling it a good choice?\n3. I'm still struggling to understand its authentication flow. Can someone explain?\n</code></pre>\n<p>If I know where JSESSIONID is created and where it is processed in Pac4j or Keycloak (if it is), I will know how to disable it, or at least I can use a token to authenticate without touching JSESSIONID.</p>\n<p>Thanks in advance!</p>\n<p>I want to call APIs interact with Zeppelin with only token.</p>\n"},{"tags":["java","spring","authorization","keycloak"],"answers":[{"comments":[{"owner":{"account_id":17896820,"reputation":149,"user_id":13096063,"display_name":"Hendrik H&#252;bner"},"score":0,"creation_date":1694372977,"post_id":77077484,"comment_id":135879269,"body_markdown":"Unfortunately that doesn&#39;t really help since I&#39;m not using a keycloak adapter (apparently its deprecated). I use keycloaks REST API instead. Thank you for the answer though","body":"Unfortunately that doesn&#39;t really help since I&#39;m not using a keycloak adapter (apparently its deprecated). I use keycloaks REST API instead. Thank you for the answer though"},{"owner":{"account_id":1380512,"reputation":110,"user_id":7388422,"display_name":"Shant Khayalian"},"score":0,"creation_date":1694373140,"post_id":77077484,"comment_id":135879299,"body_markdown":"I can see, so You need to implement logic (possibly in a custom service) to fetch the user&#39;s roles from Keycloak after authentication using the Keycloak REST API. You will need to make a request to Keycloak&#39;s /auth/admin/realms/{realm}/users/{userId}/roles endpoint to obtain the user&#39;s roles.\n\nImplement custom logic to compare the user&#39;s roles obtained from Keycloak with the required roles for each endpoint. You can use this logic to grant or deny access.","body":"I can see, so You need to implement logic (possibly in a custom service) to fetch the user&#39;s roles from Keycloak after authentication using the Keycloak REST API. You will need to make a request to Keycloak&#39;s /auth/admin/realms/{realm}/users/{userId}/roles endpoint to obtain the user&#39;s roles.  Implement custom logic to compare the user&#39;s roles obtained from Keycloak with the required roles for each endpoint. You can use this logic to grant or deny access."},{"owner":{"account_id":17896820,"reputation":149,"user_id":13096063,"display_name":"Hendrik H&#252;bner"},"score":0,"creation_date":1694374012,"post_id":77077484,"comment_id":135879409,"body_markdown":"Hm if all else fails I suppose that is an option.","body":"Hm if all else fails I suppose that is an option."},{"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"score":0,"creation_date":1694451403,"post_id":77077484,"comment_id":135889726,"body_markdown":"No, definitely not an option to consider. Keycloak adapters where deprecated almost two years ago and calling Keycloak API each time you need to access user roles is very inefficient. Instead, configure Keycloak to add roles to tokens and Spring Security to turn Keycloak roles into Spring authorities.","body":"No, definitely not an option to consider. Keycloak adapters where deprecated almost two years ago and calling Keycloak API each time you need to access user roles is very inefficient. Instead, configure Keycloak to add roles to tokens and Spring Security to turn Keycloak roles into Spring authorities."}],"tags":[],"owner":{"account_id":1380512,"reputation":110,"user_id":7388422,"display_name":"Shant Khayalian"},"comment_count":4,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1694372042,"creation_date":1694372042,"answer_id":77077484,"question_id":77077344,"body_markdown":"It seems there might be an issue with the way you&#39;re specifying the role in your `SecurityConfig`. To use role-based authorization with Keycloak, you need to specify the role using the Keycloak-specific role prefix. By default, Keycloak uses the `ROLE_` prefix for roles.\r\n\r\nHere&#39;s how you can modify your `SecurityConfig` to use the correct role prefix:\r\n\r\n    @Configuration\r\n    @EnableWebSecurity\r\n    public class SecurityConfig extends KeycloakWebSecurityConfigurerAdapter {\r\n    \r\n        @Autowired\r\n        public void configureGlobal(AuthenticationManagerBuilder auth) throws Exception {\r\n            auth.authenticationProvider(keycloakAuthenticationProvider());\r\n        }\r\n    \r\n        @Bean\r\n        @Override\r\n        protected SessionAuthenticationStrategy sessionAuthenticationStrategy() {\r\n            return new NullAuthenticatedSessionStrategy();\r\n        }\r\n    \r\n        @Override\r\n        protected void configure(HttpSecurity http) throws Exception {\r\n            super.configure(http);\r\n            http\r\n                .authorizeRequests()\r\n                    .antMatchers(&quot;/debug/public&quot;).permitAll()\r\n                    .antMatchers(&quot;/debug/authenticated&quot;).authenticated()\r\n                    .antMatchers(&quot;/debug/admin&quot;).hasRole(&quot;admin&quot;) // Use &quot;hasRole&quot; with the role name without &quot;ROLE_&quot; prefix\r\n                    .anyRequest().authenticated()\r\n                .and()\r\n                .oauth2Login()\r\n                    .defaultSuccessURL(&quot;/success&quot;)\r\n                .and()\r\n                .logout()\r\n                    .logoutUrl(&quot;/logout&quot;)\r\n                    .logoutSuccessUrl(&quot;/index&quot;);\r\n        }\r\n    }\r\n\r\n\r\nIn this modified configuration:\r\n\r\nWe extend `KeycloakWebSecurityConfigurerAdapter` to take advantage of Keycloak-specific features.\r\n\r\nWe configure the `AuthenticationManagerBuilder` to use the `keycloakAuthenticationProvider` provided by Keycloak.\r\n\r\nMake sure that your Keycloak realm configuration matches this setup, especially regarding the role name. The role in Keycloak should be named &quot;admin&quot; without the `ROLE_` prefix.\r\n\r\nHope I was helpful.\r\n\r\nAdditionally, ensure that the Keycloak client configuration for your Spring Boot application includes the correct roles mapping.\r\n\r\nAfter these modifications, try accessing the `/debug/admin` endpoint again. If the role is correctly assigned in Keycloak and your Keycloak client configuration is accurate, role-based authorization should work as expected.","title":"Keycloak + spring boot role authentification not working","body":"<p>It seems there might be an issue with the way you're specifying the role in your <code>SecurityConfig</code>. To use role-based authorization with Keycloak, you need to specify the role using the Keycloak-specific role prefix. By default, Keycloak uses the <code>ROLE_</code> prefix for roles.</p>\n<p>Here's how you can modify your <code>SecurityConfig</code> to use the correct role prefix:</p>\n<pre><code>@Configuration\n@EnableWebSecurity\npublic class SecurityConfig extends KeycloakWebSecurityConfigurerAdapter {\n\n    @Autowired\n    public void configureGlobal(AuthenticationManagerBuilder auth) throws Exception {\n        auth.authenticationProvider(keycloakAuthenticationProvider());\n    }\n\n    @Bean\n    @Override\n    protected SessionAuthenticationStrategy sessionAuthenticationStrategy() {\n        return new NullAuthenticatedSessionStrategy();\n    }\n\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        super.configure(http);\n        http\n            .authorizeRequests()\n                .antMatchers(&quot;/debug/public&quot;).permitAll()\n                .antMatchers(&quot;/debug/authenticated&quot;).authenticated()\n                .antMatchers(&quot;/debug/admin&quot;).hasRole(&quot;admin&quot;) // Use &quot;hasRole&quot; with the role name without &quot;ROLE_&quot; prefix\n                .anyRequest().authenticated()\n            .and()\n            .oauth2Login()\n                .defaultSuccessURL(&quot;/success&quot;)\n            .and()\n            .logout()\n                .logoutUrl(&quot;/logout&quot;)\n                .logoutSuccessUrl(&quot;/index&quot;);\n    }\n}\n</code></pre>\n<p>In this modified configuration:</p>\n<p>We extend <code>KeycloakWebSecurityConfigurerAdapter</code> to take advantage of Keycloak-specific features.</p>\n<p>We configure the <code>AuthenticationManagerBuilder</code> to use the <code>keycloakAuthenticationProvider</code> provided by Keycloak.</p>\n<p>Make sure that your Keycloak realm configuration matches this setup, especially regarding the role name. The role in Keycloak should be named &quot;admin&quot; without the <code>ROLE_</code> prefix.</p>\n<p>Hope I was helpful.</p>\n<p>Additionally, ensure that the Keycloak client configuration for your Spring Boot application includes the correct roles mapping.</p>\n<p>After these modifications, try accessing the <code>/debug/admin</code> endpoint again. If the role is correctly assigned in Keycloak and your Keycloak client configuration is accurate, role-based authorization should work as expected.</p>\n"},{"comments":[{"owner":{"account_id":17896820,"reputation":149,"user_id":13096063,"display_name":"Hendrik H&#252;bner"},"score":0,"creation_date":1694471487,"post_id":77083487,"comment_id":135892709,"body_markdown":"I have done some more debugging and the problem seems to be that the JWT spring checks for authorities is the ID token which doesnt actually contain any roles. I should also mention that my resource server and client are the same, the spring securty config is the one in my post.  I think I didnt configure it properly. I&#39;m editing the post to provide more info","body":"I have done some more debugging and the problem seems to be that the JWT spring checks for authorities is the ID token which doesnt actually contain any roles. I should also mention that my resource server and client are the same, the spring securty config is the one in my post.  I think I didnt configure it properly. I&#39;m editing the post to provide more info"},{"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"score":0,"creation_date":1694476257,"post_id":77083487,"comment_id":135893097,"body_markdown":"Read my answer again, you&#39;ll find the recipe to add roles to ID tokens. You are using `oauth2Login` =&gt; requests are authorized with session cookie, not `Bearer` access token. In the other answer, follow the link the [OAuth2 essentials](https://github.com/ch4mpy/spring-addons/tree/master/samples/tutorials#1-oauth2-essentials) section of my tutorials.","body":"Read my answer again, you&#39;ll find the recipe to add roles to ID tokens. You are using <code>oauth2Login</code> =&gt; requests are authorized with session cookie, not <code>Bearer</code> access token. In the other answer, follow the link the <a href=\"https://github.com/ch4mpy/spring-addons/tree/master/samples/tutorials#1-oauth2-essentials\" rel=\"nofollow noreferrer\">OAuth2 essentials</a> section of my tutorials."},{"owner":{"account_id":17896820,"reputation":149,"user_id":13096063,"display_name":"Hendrik H&#252;bner"},"score":0,"creation_date":1694556452,"post_id":77083487,"comment_id":135906229,"body_markdown":"Alright, I overrode the OAuth2UserService like in the manual and extracted the &quot;realm_access&quot; claim from the jwt token and mapped it to the user. I&#39;m now able to secure my endpoints with roles. Thanks","body":"Alright, I overrode the OAuth2UserService like in the manual and extracted the &quot;realm_access&quot; claim from the jwt token and mapped it to the user. I&#39;m now able to secure my endpoints with roles. Thanks"},{"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"score":0,"creation_date":1694556632,"post_id":77083487,"comment_id":135906250,"body_markdown":"Glad I could help. Things usually get easier when you read the manual (and the entirety of an answer) ;)","body":"Glad I could help. Things usually get easier when you read the manual (and the entirety of an answer) ;)"},{"owner":{"account_id":17896820,"reputation":149,"user_id":13096063,"display_name":"Hendrik H&#252;bner"},"score":0,"creation_date":1694633863,"post_id":77083487,"comment_id":135918560,"body_markdown":"I&#39;m a little bit worried about something though. I have now added a resource server filter chain which uses springs resource server support and set the JwtGrantedAuthoritiesConverter. However, when I place a break point in the converter it never stops there. I&#39;m worried it might not even validate my tokens properly. Any idea on how to test/debug this? Updated config here:  https://hastebin.com/share/paridiviyo.java","body":"I&#39;m a little bit worried about something though. I have now added a resource server filter chain which uses springs resource server support and set the JwtGrantedAuthoritiesConverter. However, when I place a break point in the converter it never stops there. I&#39;m worried it might not even validate my tokens properly. Any idea on how to test/debug this? Updated config here:  <a href=\"https://hastebin.com/share/paridiviyo.java\" rel=\"nofollow noreferrer\">hastebin.com/share/paridiviyo.java</a>"},{"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"score":0,"creation_date":1694635777,"post_id":77083487,"comment_id":135918861,"body_markdown":"Read my [OAuth2 essentials](https://github.com/ch4mpy/spring-addons/tree/master/samples/tutorials#1-oauth2-essentials) again: when using `oauth2Login`, requests are authorized with session cookies, not `Bearer` authorization header. Your resource server security filter-chain can apply only to requests authorized with an access token.","body":"Read my <a href=\"https://github.com/ch4mpy/spring-addons/tree/master/samples/tutorials#1-oauth2-essentials\" rel=\"nofollow noreferrer\">OAuth2 essentials</a> again: when using <code>oauth2Login</code>, requests are authorized with session cookies, not <code>Bearer</code> authorization header. Your resource server security filter-chain can apply only to requests authorized with an access token."},{"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"score":0,"creation_date":1694636129,"post_id":77083487,"comment_id":135918930,"body_markdown":"Tokens are stored on the OAuth2 client, which in your case is your Spring application on the server, and all requests from your browser are authorized with the same session cookie that was set during login. Your browser has no access to tokens stored in session on the server.","body":"Tokens are stored on the OAuth2 client, which in your case is your Spring application on the server, and all requests from your browser are authorized with the same session cookie that was set during login. Your browser has no access to tokens stored in session on the server."}],"tags":[],"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"comment_count":7,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1697699520,"creation_date":1694451226,"answer_id":77083487,"question_id":77077344,"body_markdown":"According to [the manual for an OAuth2 client with oauth2Login][1], you should provide with a `GrantedAuthoritiesMapper` bean or override the `OAuth2UserService` (in the case of a [resource server with JWT decoder][2], you would provide a `Converter&lt;Jwt, ? extends AbstractAuthenticationToken&gt;`, maybe a manually configured `JwtAuthenticationConverter`).\r\n\r\n**Do not use Keycloak adapters for Spring**. It was deprecated long ago and does not work with Spring Security 6 / Boot 3.\r\n\r\n**Do not fetch user roles from Keycloak**. This is way too inefficient. Instead, read it from tokens. As you are writing an OAuth2 client (which reads the ID token, not the access token), you might have to activate the mappers: `Client scopes` -&gt; `roles` -&gt; `Mappers` -&gt; `realm roles` and enable `Add to ID token` as well as `Add to userinfo` (you might do the same with client roles if you use it).\r\n\r\nThis [other answer][3] contains sample conversion from Keycloak roles to Spring authorities in both resource servers and clients.\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-security/reference/servlet/oauth2/login/advanced.html#oauth2login-advanced-map-authorities\r\n  [2]: https://docs.spring.io/spring-security/reference/servlet/oauth2/resource-server/jwt.html#oauth2resourceserver-jwt-authorization-extraction\r\n  [3]: https://stackoverflow.com/questions/74571191/use-keycloak-spring-adapter-with-spring-boot-3/74572732#74572732","title":"Keycloak + spring boot role authentification not working","body":"<p>According to <a href=\"https://docs.spring.io/spring-security/reference/servlet/oauth2/login/advanced.html#oauth2login-advanced-map-authorities\" rel=\"nofollow noreferrer\">the manual for an OAuth2 client with oauth2Login</a>, you should provide with a <code>GrantedAuthoritiesMapper</code> bean or override the <code>OAuth2UserService</code> (in the case of a <a href=\"https://docs.spring.io/spring-security/reference/servlet/oauth2/resource-server/jwt.html#oauth2resourceserver-jwt-authorization-extraction\" rel=\"nofollow noreferrer\">resource server with JWT decoder</a>, you would provide a <code>Converter&lt;Jwt, ? extends AbstractAuthenticationToken&gt;</code>, maybe a manually configured <code>JwtAuthenticationConverter</code>).</p>\n<p><strong>Do not use Keycloak adapters for Spring</strong>. It was deprecated long ago and does not work with Spring Security 6 / Boot 3.</p>\n<p><strong>Do not fetch user roles from Keycloak</strong>. This is way too inefficient. Instead, read it from tokens. As you are writing an OAuth2 client (which reads the ID token, not the access token), you might have to activate the mappers: <code>Client scopes</code> -&gt; <code>roles</code> -&gt; <code>Mappers</code> -&gt; <code>realm roles</code> and enable <code>Add to ID token</code> as well as <code>Add to userinfo</code> (you might do the same with client roles if you use it).</p>\n<p>This <a href=\"https://stackoverflow.com/questions/74571191/use-keycloak-spring-adapter-with-spring-boot-3/74572732#74572732\">other answer</a> contains sample conversion from Keycloak roles to Spring authorities in both resource servers and clients.</p>\n"}],"owner":{"account_id":17896820,"reputation":149,"user_id":13096063,"display_name":"Hendrik H&#252;bner"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":429,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":77083487,"answer_count":2,"score":3,"last_activity_date":1697699520,"creation_date":1694368878,"question_id":77077344,"body_markdown":"I&#39;m developing a spring backend that uses a keycloak auth server. I&#39;m struggeling to  get role based authorization to work. I have created a user &quot;dev_admin&quot; in my realm and have given him the realm role &quot;admin&quot;. I have the endpoint &quot;debuf/admin&quot; which is only accessible for users with the admin role. My security config looks like this:\r\n\r\n    @Configuration\r\n    @EnableWebSecurity\r\n    public class SecurityConfig {\r\n\r\n    private final KeycloakLogoutHandler keycloakLogoutHandler;\r\n    SecurityConfig(KeycloakLogoutHandler keycloakLogoutHandler) {\r\n        this.keycloakLogoutHandler = keycloakLogoutHandler;\r\n    }\r\n\r\n    @Bean\r\n    public SecurityFilterChain clientFilterChain(HttpSecurity http) throws Exception {\r\n        return http\r\n            .authorizeHttpRequests(auth -&gt; {\r\n                auth\r\n                    .requestMatchers(new AntPathRequestMatcher(&quot;/debug/public&quot;)).permitAll()\r\n                    .requestMatchers(new AntPathRequestMatcher(&quot;/debug/authenticated&quot;)).authenticated()\r\n                    .requestMatchers(new AntPathRequestMatcher(&quot;/debug/admin&quot;)).hasAnyRole(&quot;admin&quot;)\r\n                    .anyRequest().authenticated();\r\n            })\r\n            .oauth2Login(Customizer.withDefaults())\r\n            .logout((conf) -&gt; {\r\n                conf.addLogoutHandler(keycloakLogoutHandler);\r\n                conf.logoutSuccessUrl(&quot;/index&quot;);\r\n            })\r\n            .build();\r\n    }\r\n    }\r\n\r\n\r\nHowever, after I log in as the dev_admin user and try to access the admin endpoint, i returns error 403. This is from the spring console:\r\n\r\n    2023-09-10T19:44:54.653+02:00 TRACE 1400 --- [nio-8080-exec-7] estMatcherDelegatingAuthorizationManager : Authorizing SecurityContextHolderAwareRequestWrapper[ org.springframework.security.web.header.HeaderWriterFilter$HeaderWriterRequest@5f29c29e]\r\n    2023-09-10T19:44:54.653+02:00 TRACE 1400 --- [nio-8080-exec-7] estMatcherDelegatingAuthorizationManager : Checking authorization on SecurityContextHolderAwareRequestWrapper[ org.springframework.security.web.header.HeaderWriterFilter$HeaderWriterRequest@5f29c29e] using AuthorityAuthorizationManager[authorities=[ROLE_admin]]\r\n    2023-09-10T19:44:54.653+02:00 TRACE 1400 --- [nio-8080-exec-7] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [dev_admin], Granted Authorities: [[OIDC_USER, SCOPE_email, SCOPE_openid, SCOPE_profile]], User Attributes: [{at_hash=1blJDsXc37Pz3uyqygg43A, sub=413591c7-3213-40a4-be2d-82dc69fe1264, email_verified=true, iss=http://localhost:8081/realms/users, typ=ID, preferred_username=dev_admin, given_name=dev, nonce=f_D-DARLucc5Y0Uau8QLhgv2srTM0gK3MDA1zpaDXDM, sid=fab4e120-b249-4e76-bffb-c5a4820fa536, aud=[core-server], acr=1, azp=core-server, auth_time=2023-09-10T17:44:50Z, name=dev admin, exp=2023-09-10T17:49:50Z, session_state=fab4e120-b249-4e76-bffb-c5a4820fa536, family_name=admin, iat=2023-09-10T17:44:50Z, email=dev@admin.com, jti=a7e9ff04-2526-4ff8-82c1-1216ee6d673a}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=95CD2FEF619B032D2A30C89CFAD0740C], Granted Authorities=[OIDC_USER, SCOPE_email, SCOPE_openid, SCOPE_profile]]] from SPRING_SECURITY_CONTEXT\r\n    2023-09-10T19:44:54.653+02:00 TRACE 1400 --- [nio-8080-exec-7] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated OAuth2AuthenticationToken [Principal=Name: [dev_admin], Granted Authorities: [[OIDC_USER, SCOPE_email, SCOPE_openid, SCOPE_profile]], User Attributes: [{at_hash=1blJDsXc37Pz3uyqygg43A, sub=413591c7-3213-40a4-be2d-82dc69fe1264, email_verified=true, iss=http://localhost:8081/realms/users, typ=ID, preferred_username=dev_admin, given_name=dev, nonce=f_D-DARLucc5Y0Uau8QLhgv2srTM0gK3MDA1zpaDXDM, sid=fab4e120-b249-4e76-bffb-c5a4820fa536, aud=[core-server], acr=1, azp=core-server, auth_time=2023-09-10T17:44:50Z, name=dev admin, exp=2023-09-10T17:49:50Z, session_state=fab4e120-b249-4e76-bffb-c5a4820fa536, family_name=admin, iat=2023-09-10T17:44:50Z, email=dev@admin.com, jti=a7e9ff04-2526-4ff8-82c1-1216ee6d673a}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=95CD2FEF619B032D2A30C89CFAD0740C], Granted Authorities=[OIDC_USER, SCOPE_email, SCOPE_openid, SCOPE_profile]]\r\n    2023-09-10T19:44:54.653+02:00 TRACE 1400 --- [nio-8080-exec-7] o.s.s.w.a.ExceptionTranslationFilter     : Sending OAuth2AuthenticationToken [Principal=Name: [dev_admin], Granted Authorities: [[OIDC_USER, SCOPE_email, SCOPE_openid, SCOPE_profile]], User Attributes: [{at_hash=1blJDsXc37Pz3uyqygg43A, sub=413591c7-3213-40a4-be2d-82dc69fe1264, email_verified=true, iss=http://localhost:8081/realms/users, typ=ID, preferred_username=dev_admin, given_name=dev, nonce=f_D-DARLucc5Y0Uau8QLhgv2srTM0gK3MDA1zpaDXDM, sid=fab4e120-b249-4e76-bffb-c5a4820fa536, aud=[core-server], acr=1, azp=core-server, auth_time=2023-09-10T17:44:50Z, name=dev admin, exp=2023-09-10T17:49:50Z, session_state=fab4e120-b249-4e76-bffb-c5a4820fa536, family_name=admin, iat=2023-09-10T17:44:50Z, email=dev@admin.com, jti=a7e9ff04-2526-4ff8-82c1-1216ee6d673a}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=95CD2FEF619B032D2A30C89CFAD0740C], Granted Authorities=[OIDC_USER, SCOPE_email, SCOPE_openid, SCOPE_profile]] to access denied handler since access is denied\r\n\r\nI also checked the dev_admin JWT token by using the &quot;impersonate&quot; feature and the role is contaiend in the token. I also noticed that in my browser the token that was saved as a cookie is much shorter and does not contain the role. These are all the clues I have found but I still don&#39;t know why its not working. If someone knows, whats going on that would be very helpful.\r\n\r\nEDIT: I&#39;m not using keycloak adapters by the way. it just looks like that because of the &quot;keycloaklogouthandler&quot; which sends a request to keycloaks logout endpoint\r\n\r\nI should also mention that the client and resource server are the same server in my case. I think the problem has something to do with the security configuration. Here is my application.yml:\r\n\r\n      security:\r\n    oauth2:\r\n      resourceserver.jwt:\r\n          issuer-uri: ${keycloak.baseUrl}/realms/${keycloak.userRealm}\r\n          jwk-set-uri: ${keycloak.baseUrl}/auth/realms/${keycloak.userRealm}/protocol/openid-connect/certs\r\n\r\n      client:\r\n        registration.keycloak:\r\n          client-id: myclient\r\n          authorization-grant-type: authorization_code\r\n          scope: openid\r\n\r\n          admin_user: ???\r\n          admin_password: ???\r\n\r\n        provider.keycloak:\r\n          issuer-uri: ${keycloak.baseUrl}/realms/${keycloak.userRealm}\r\n          user-name-attribute: preferred_username\r\n\r\n\r\n","title":"Keycloak + spring boot role authentification not working","body":"<p>I'm developing a spring backend that uses a keycloak auth server. I'm struggeling to  get role based authorization to work. I have created a user &quot;dev_admin&quot; in my realm and have given him the realm role &quot;admin&quot;. I have the endpoint &quot;debuf/admin&quot; which is only accessible for users with the admin role. My security config looks like this:</p>\n<pre><code>@Configuration\n@EnableWebSecurity\npublic class SecurityConfig {\n\nprivate final KeycloakLogoutHandler keycloakLogoutHandler;\nSecurityConfig(KeycloakLogoutHandler keycloakLogoutHandler) {\n    this.keycloakLogoutHandler = keycloakLogoutHandler;\n}\n\n@Bean\npublic SecurityFilterChain clientFilterChain(HttpSecurity http) throws Exception {\n    return http\n        .authorizeHttpRequests(auth -&gt; {\n            auth\n                .requestMatchers(new AntPathRequestMatcher(&quot;/debug/public&quot;)).permitAll()\n                .requestMatchers(new AntPathRequestMatcher(&quot;/debug/authenticated&quot;)).authenticated()\n                .requestMatchers(new AntPathRequestMatcher(&quot;/debug/admin&quot;)).hasAnyRole(&quot;admin&quot;)\n                .anyRequest().authenticated();\n        })\n        .oauth2Login(Customizer.withDefaults())\n        .logout((conf) -&gt; {\n            conf.addLogoutHandler(keycloakLogoutHandler);\n            conf.logoutSuccessUrl(&quot;/index&quot;);\n        })\n        .build();\n}\n}\n</code></pre>\n<p>However, after I log in as the dev_admin user and try to access the admin endpoint, i returns error 403. This is from the spring console:</p>\n<pre><code>2023-09-10T19:44:54.653+02:00 TRACE 1400 --- [nio-8080-exec-7] estMatcherDelegatingAuthorizationManager : Authorizing SecurityContextHolderAwareRequestWrapper[ org.springframework.security.web.header.HeaderWriterFilter$HeaderWriterRequest@5f29c29e]\n2023-09-10T19:44:54.653+02:00 TRACE 1400 --- [nio-8080-exec-7] estMatcherDelegatingAuthorizationManager : Checking authorization on SecurityContextHolderAwareRequestWrapper[ org.springframework.security.web.header.HeaderWriterFilter$HeaderWriterRequest@5f29c29e] using AuthorityAuthorizationManager[authorities=[ROLE_admin]]\n2023-09-10T19:44:54.653+02:00 TRACE 1400 --- [nio-8080-exec-7] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [dev_admin], Granted Authorities: [[OIDC_USER, SCOPE_email, SCOPE_openid, SCOPE_profile]], User Attributes: [{at_hash=1blJDsXc37Pz3uyqygg43A, sub=413591c7-3213-40a4-be2d-82dc69fe1264, email_verified=true, iss=http://localhost:8081/realms/users, typ=ID, preferred_username=dev_admin, given_name=dev, nonce=f_D-DARLucc5Y0Uau8QLhgv2srTM0gK3MDA1zpaDXDM, sid=fab4e120-b249-4e76-bffb-c5a4820fa536, aud=[core-server], acr=1, azp=core-server, auth_time=2023-09-10T17:44:50Z, name=dev admin, exp=2023-09-10T17:49:50Z, session_state=fab4e120-b249-4e76-bffb-c5a4820fa536, family_name=admin, iat=2023-09-10T17:44:50Z, email=dev@admin.com, jti=a7e9ff04-2526-4ff8-82c1-1216ee6d673a}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=95CD2FEF619B032D2A30C89CFAD0740C], Granted Authorities=[OIDC_USER, SCOPE_email, SCOPE_openid, SCOPE_profile]]] from SPRING_SECURITY_CONTEXT\n2023-09-10T19:44:54.653+02:00 TRACE 1400 --- [nio-8080-exec-7] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated OAuth2AuthenticationToken [Principal=Name: [dev_admin], Granted Authorities: [[OIDC_USER, SCOPE_email, SCOPE_openid, SCOPE_profile]], User Attributes: [{at_hash=1blJDsXc37Pz3uyqygg43A, sub=413591c7-3213-40a4-be2d-82dc69fe1264, email_verified=true, iss=http://localhost:8081/realms/users, typ=ID, preferred_username=dev_admin, given_name=dev, nonce=f_D-DARLucc5Y0Uau8QLhgv2srTM0gK3MDA1zpaDXDM, sid=fab4e120-b249-4e76-bffb-c5a4820fa536, aud=[core-server], acr=1, azp=core-server, auth_time=2023-09-10T17:44:50Z, name=dev admin, exp=2023-09-10T17:49:50Z, session_state=fab4e120-b249-4e76-bffb-c5a4820fa536, family_name=admin, iat=2023-09-10T17:44:50Z, email=dev@admin.com, jti=a7e9ff04-2526-4ff8-82c1-1216ee6d673a}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=95CD2FEF619B032D2A30C89CFAD0740C], Granted Authorities=[OIDC_USER, SCOPE_email, SCOPE_openid, SCOPE_profile]]\n2023-09-10T19:44:54.653+02:00 TRACE 1400 --- [nio-8080-exec-7] o.s.s.w.a.ExceptionTranslationFilter     : Sending OAuth2AuthenticationToken [Principal=Name: [dev_admin], Granted Authorities: [[OIDC_USER, SCOPE_email, SCOPE_openid, SCOPE_profile]], User Attributes: [{at_hash=1blJDsXc37Pz3uyqygg43A, sub=413591c7-3213-40a4-be2d-82dc69fe1264, email_verified=true, iss=http://localhost:8081/realms/users, typ=ID, preferred_username=dev_admin, given_name=dev, nonce=f_D-DARLucc5Y0Uau8QLhgv2srTM0gK3MDA1zpaDXDM, sid=fab4e120-b249-4e76-bffb-c5a4820fa536, aud=[core-server], acr=1, azp=core-server, auth_time=2023-09-10T17:44:50Z, name=dev admin, exp=2023-09-10T17:49:50Z, session_state=fab4e120-b249-4e76-bffb-c5a4820fa536, family_name=admin, iat=2023-09-10T17:44:50Z, email=dev@admin.com, jti=a7e9ff04-2526-4ff8-82c1-1216ee6d673a}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=95CD2FEF619B032D2A30C89CFAD0740C], Granted Authorities=[OIDC_USER, SCOPE_email, SCOPE_openid, SCOPE_profile]] to access denied handler since access is denied\n</code></pre>\n<p>I also checked the dev_admin JWT token by using the &quot;impersonate&quot; feature and the role is contaiend in the token. I also noticed that in my browser the token that was saved as a cookie is much shorter and does not contain the role. These are all the clues I have found but I still don't know why its not working. If someone knows, whats going on that would be very helpful.</p>\n<p>EDIT: I'm not using keycloak adapters by the way. it just looks like that because of the &quot;keycloaklogouthandler&quot; which sends a request to keycloaks logout endpoint</p>\n<p>I should also mention that the client and resource server are the same server in my case. I think the problem has something to do with the security configuration. Here is my application.yml:</p>\n<pre><code>  security:\noauth2:\n  resourceserver.jwt:\n      issuer-uri: ${keycloak.baseUrl}/realms/${keycloak.userRealm}\n      jwk-set-uri: ${keycloak.baseUrl}/auth/realms/${keycloak.userRealm}/protocol/openid-connect/certs\n\n  client:\n    registration.keycloak:\n      client-id: myclient\n      authorization-grant-type: authorization_code\n      scope: openid\n\n      admin_user: ???\n      admin_password: ???\n\n    provider.keycloak:\n      issuer-uri: ${keycloak.baseUrl}/realms/${keycloak.userRealm}\n      user-name-attribute: preferred_username\n</code></pre>\n"},{"tags":["java","docker","docker-compose","redis"],"comments":[{"owner":{"account_id":27470363,"reputation":298,"user_id":20959381,"display_name":"duckoak"},"score":0,"creation_date":1697695661,"post_id":77320673,"comment_id":136312631,"body_markdown":"Where do you define network `web`?","body":"Where do you define network <code>web</code>?"}],"owner":{"account_id":20602273,"reputation":1,"user_id":15123335,"display_name":"RobertoM"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697698318,"creation_date":1697683693,"question_id":77320673,"body_markdown":"I&#39;m trying to connect to a Redis database through a Java application, but I&#39;m getting the following error:\r\n\r\n\r\n&gt; org.springframework.data.redis.RedisConnectionFailureException: Unable to connect to Redis  \r\nCaused by: java.net.ConnectException: Connection refused\r\n\r\n\r\nThis is my docker-compose:\r\n\r\n\r\n```\r\nversion: &quot;2.1&quot;\r\n\r\nservices:\r\n  api:\r\n    container_name: api\r\n    image: xpto/game\r\n    build:\r\n      context: .\r\n    restart: on-failure\r\n    environment:\r\n      SPRING_PROFILES_ACTIVE: docker\r\n      APP_DATABASE_HOST: redis\r\n      APP_DATABASE_PORT: 6379\r\n    ports:\r\n      - &quot;8080:8080&quot;\r\n    networks:\r\n      - web\r\n    depends_on:\r\n      - redis\r\n\r\n  redis:\r\n    container_name: redis\r\n    hostname: redis\r\n    image: redis:latest\r\n    restart: on-failure\r\n    ports:\r\n      - 6379:6379\r\n    networks:\r\n      - web\r\n```\r\n\r\n\r\nAnd this is my application.properties:\r\n\r\n\r\n```\r\nspring.cache.redis.host=${APP_DATABASE_HOST}\r\nspring.cache.redis.port=${APP_DATABASE_PORT}\r\n```\r\n\r\nI also set up a container with a Redis client (Redis Commander) and managed to connect successfully. Only the container running the Java API doesn&#39;t work\r\n\r\n","title":"Container API cannot connect to container Redis: RedisConnectionFailureException: Unable to connect to Redis","body":"<p>I'm trying to connect to a Redis database through a Java application, but I'm getting the following error:</p>\n<blockquote>\n<p>org.springframework.data.redis.RedisConnectionFailureException: Unable to connect to Redis<br />\nCaused by: java.net.ConnectException: Connection refused</p>\n</blockquote>\n<p>This is my docker-compose:</p>\n<pre><code>version: &quot;2.1&quot;\n\nservices:\n  api:\n    container_name: api\n    image: xpto/game\n    build:\n      context: .\n    restart: on-failure\n    environment:\n      SPRING_PROFILES_ACTIVE: docker\n      APP_DATABASE_HOST: redis\n      APP_DATABASE_PORT: 6379\n    ports:\n      - &quot;8080:8080&quot;\n    networks:\n      - web\n    depends_on:\n      - redis\n\n  redis:\n    container_name: redis\n    hostname: redis\n    image: redis:latest\n    restart: on-failure\n    ports:\n      - 6379:6379\n    networks:\n      - web\n</code></pre>\n<p>And this is my application.properties:</p>\n<pre><code>spring.cache.redis.host=${APP_DATABASE_HOST}\nspring.cache.redis.port=${APP_DATABASE_PORT}\n</code></pre>\n<p>I also set up a container with a Redis client (Redis Commander) and managed to connect successfully. Only the container running the Java API doesn't work</p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":75804,"reputation":94840,"user_id":217324,"accept_rate":96,"display_name":"Nathan Hughes"},"score":0,"creation_date":1697673850,"post_id":77320183,"comment_id":136310838,"body_markdown":"You shouldn&#39;t need to catch the exception in the controller, that is handled for you.","body":"You shouldn&#39;t need to catch the exception in the controller, that is handled for you."},{"owner":{"account_id":10703557,"reputation":475,"user_id":7878083,"display_name":"Ray Bond"},"score":0,"creation_date":1697673942,"post_id":77320183,"comment_id":136310847,"body_markdown":"So how do you get access to HandlerMethod in ControllerAdvice?","body":"So how do you get access to HandlerMethod in ControllerAdvice?"}],"answers":[{"comments":[{"owner":{"account_id":10703557,"reputation":475,"user_id":7878083,"display_name":"Ray Bond"},"score":0,"creation_date":1697686804,"post_id":77320691,"comment_id":136311842,"body_markdown":"Can&#39;t do it in CarService because of @Transactional.","body":"Can&#39;t do it in CarService because of @Transactional."},{"owner":{"account_id":8884226,"reputation":514,"user_id":6633045,"display_name":"phuongnq1995"},"score":0,"creation_date":1697687299,"post_id":77320691,"comment_id":136311874,"body_markdown":"@RayBond Can you explain in detail? because if you throw it, Transaction will be rollback?","body":"@RayBond Can you explain in detail? because if you throw it, Transaction will be rollback?"}],"tags":[],"owner":{"account_id":8884226,"reputation":514,"user_id":6633045,"display_name":"phuongnq1995"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697684070,"creation_date":1697684070,"answer_id":77320691,"question_id":77320183,"body_markdown":"You shouldn&#39;t catch the exception in Controller, ControllerAdvice will catch it based on the exception class of this defined `@ExceptionHandler(DataIntegrityViolationException.class)`. This means whenever your controller throws `DataIntegrityViolationException` exception, it will be passed to method `dataIntegrityViolantionException`. \r\n\r\nI guess you need to throw a `DataIntegrityViolationException` in `CarService` class to make it work like your expectation.","title":"Controller Advice exception handling","body":"<p>You shouldn't catch the exception in Controller, ControllerAdvice will catch it based on the exception class of this defined <code>@ExceptionHandler(DataIntegrityViolationException.class)</code>. This means whenever your controller throws <code>DataIntegrityViolationException</code> exception, it will be passed to method <code>dataIntegrityViolantionException</code>.</p>\n<p>I guess you need to throw a <code>DataIntegrityViolationException</code> in <code>CarService</code> class to make it work like your expectation.</p>\n"},{"tags":[],"owner":{"account_id":11818,"reputation":57413,"user_id":22982,"accept_rate":100,"display_name":"Brian Clozel"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1697698233,"creation_date":1697698233,"answer_id":77321543,"question_id":77320183,"body_markdown":"I believe [Spring MVC can inject many arguments in the exception handler method signature][1], one of them being the `HandlerMethod`:\r\n\r\n```java\r\n@ExceptionHandler(DataIntegrityViolationException.class)\r\npublic ResponseEntity dataIntegrityViolantionException(final DataIntegrityViolationException e, HandlerMethod handlerMethod) {\r\n\r\n  // you can get the information you need with\r\n  String message = handlerMethod.getShortLogMessage();\r\n\r\n  // or extract more precise information\r\n  Method method = handlerMethod.getMethod();\r\n\r\n}\r\n```\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-framework/reference/web/webmvc/mvc-controller/ann-exceptionhandler.html#mvc-ann-exceptionhandler-args","title":"Controller Advice exception handling","body":"<p>I believe <a href=\"https://docs.spring.io/spring-framework/reference/web/webmvc/mvc-controller/ann-exceptionhandler.html#mvc-ann-exceptionhandler-args\" rel=\"nofollow noreferrer\">Spring MVC can inject many arguments in the exception handler method signature</a>, one of them being the <code>HandlerMethod</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@ExceptionHandler(DataIntegrityViolationException.class)\npublic ResponseEntity dataIntegrityViolantionException(final DataIntegrityViolationException e, HandlerMethod handlerMethod) {\n\n  // you can get the information you need with\n  String message = handlerMethod.getShortLogMessage();\n\n  // or extract more precise information\n  Method method = handlerMethod.getMethod();\n\n}\n</code></pre>\n"}],"owner":{"account_id":10703557,"reputation":475,"user_id":7878083,"display_name":"Ray Bond"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":80,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77321543,"answer_count":2,"score":1,"last_activity_date":1697698233,"creation_date":1697672689,"question_id":77320183,"body_markdown":"In Spring Boot 3 I am using `Controller Advice` to handle a database uniqueness exception and create a custom error message which I can pass in JSON and log.\r\n\r\nI would like to add information from MethodHandler so I can also log/add to custom message the URI and Controller that had the exception.\r\n\r\nThis is how it is setup so far:\r\n\r\n**Controller**\r\n\r\n    \r\n    /**\r\n     * Update Car (PUT)\r\n     */\r\n    @PutMapping(value = &quot;/{id}&quot;, consumes = &quot;application/json&quot;)\r\n    ResponseEntity&lt;CarCreateDto&gt; updateCarDto(@Valid @RequestBody CarCreateDto updateCar, @PathVariable Long id) {\r\n            CarCreateDto Car = CarService.updateCar(updateCar, id);\r\n            return new ResponseEntity&lt;&gt;(Car, HttpStatus.OK);\r\n        }\r\n    }\r\n\r\n**Exception Handler**\r\n\r\n        @ExceptionHandler(DataIntegrityViolationException.class)\r\n        public ResponseEntity dataIntegrityViolantionException(final DataIntegrityViolationException e) {\r\n        ObjectMapper objectMapper = new ObjectMapper();\r\n        objectMapper.setDateFormat(df);\r\n        ErrorMessage errorMessage = new ErrorMessage();\r\n        String mostSpecificCauseMessage = e.getMostSpecificCause().getMessage();\r\n        if (e.getCause().getCause() instanceof SQLIntegrityConstraintViolationException) {\r\n            try {\r\n                String jsonMessage =  objectMapper.writeValueAsString(errorMessage.builder()\r\n                        .reasonCode(ErrorMessage.ReasonCode.NAME_ALREADY_EXISTS)\r\n                        .message(mostSpecificCauseMessage)\r\n                        .timeStamp(df.format(System.currentTimeMillis()))\r\n                        .build());\r\n                return new ResponseEntity&lt;&gt;(jsonMessage, HttpStatus.CONFLICT);\r\n            } catch (JsonProcessingException ex) {\r\n                throw new RuntimeException(ex);\r\n            }\r\n        }\r\n        return new ResponseEntity&lt;&gt;(&quot;Unknown Data Integrity Violation Exception with message : &quot; +mostSpecificCauseMessage, HttpStatus.UNPROCESSABLE_ENTITY);\r\n    }\r\n\r\nThe example [here][1] is very similar to what I want to do - however it does not show how to catch the exception on the controller *and* pass in the relevant instance of `HandlerMethod` so that I can add:\r\n\r\n        Class ControllerName = handlerMethod.getMethod().getDeclaringClass();\r\n        String MethodName = handlerMethod.getMethod().getName();\r\n\r\nController name and Method name to Error Message.\r\n\r\nIs it just a case of adding a try catch to the controller method and passing HandlerMethod as a parameter?\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/59824851/get-controller-name-and-java-service-path-in-controller-advice","title":"Controller Advice exception handling","body":"<p>In Spring Boot 3 I am using <code>Controller Advice</code> to handle a database uniqueness exception and create a custom error message which I can pass in JSON and log.</p>\n<p>I would like to add information from MethodHandler so I can also log/add to custom message the URI and Controller that had the exception.</p>\n<p>This is how it is setup so far:</p>\n<p><strong>Controller</strong></p>\n<pre><code>/**\n * Update Car (PUT)\n */\n@PutMapping(value = &quot;/{id}&quot;, consumes = &quot;application/json&quot;)\nResponseEntity&lt;CarCreateDto&gt; updateCarDto(@Valid @RequestBody CarCreateDto updateCar, @PathVariable Long id) {\n        CarCreateDto Car = CarService.updateCar(updateCar, id);\n        return new ResponseEntity&lt;&gt;(Car, HttpStatus.OK);\n    }\n}\n</code></pre>\n<p><strong>Exception Handler</strong></p>\n<pre><code>    @ExceptionHandler(DataIntegrityViolationException.class)\n    public ResponseEntity dataIntegrityViolantionException(final DataIntegrityViolationException e) {\n    ObjectMapper objectMapper = new ObjectMapper();\n    objectMapper.setDateFormat(df);\n    ErrorMessage errorMessage = new ErrorMessage();\n    String mostSpecificCauseMessage = e.getMostSpecificCause().getMessage();\n    if (e.getCause().getCause() instanceof SQLIntegrityConstraintViolationException) {\n        try {\n            String jsonMessage =  objectMapper.writeValueAsString(errorMessage.builder()\n                    .reasonCode(ErrorMessage.ReasonCode.NAME_ALREADY_EXISTS)\n                    .message(mostSpecificCauseMessage)\n                    .timeStamp(df.format(System.currentTimeMillis()))\n                    .build());\n            return new ResponseEntity&lt;&gt;(jsonMessage, HttpStatus.CONFLICT);\n        } catch (JsonProcessingException ex) {\n            throw new RuntimeException(ex);\n        }\n    }\n    return new ResponseEntity&lt;&gt;(&quot;Unknown Data Integrity Violation Exception with message : &quot; +mostSpecificCauseMessage, HttpStatus.UNPROCESSABLE_ENTITY);\n}\n</code></pre>\n<p>The example <a href=\"https://stackoverflow.com/questions/59824851/get-controller-name-and-java-service-path-in-controller-advice\">here</a> is very similar to what I want to do - however it does not show how to catch the exception on the controller <em>and</em> pass in the relevant instance of <code>HandlerMethod</code> so that I can add:</p>\n<pre><code>    Class ControllerName = handlerMethod.getMethod().getDeclaringClass();\n    String MethodName = handlerMethod.getMethod().getName();\n</code></pre>\n<p>Controller name and Method name to Error Message.</p>\n<p>Is it just a case of adding a try catch to the controller method and passing HandlerMethod as a parameter?</p>\n"},{"tags":["java","jpa","couchbase"],"comments":[{"owner":{"account_id":6514907,"reputation":483,"user_id":5041060,"display_name":"Laurent Doguin"},"score":2,"creation_date":1696248259,"post_id":77214877,"comment_id":136124676,"body_markdown":"Hello, could you please elaborate on the Structured part of your needs? Couchbase can run distributed SQL with JOINs and transaction support for instance. There is however no supported JPA project that I know of. The closest bit could be Spring Data Couchbase.","body":"Hello, could you please elaborate on the Structured part of your needs? Couchbase can run distributed SQL with JOINs and transaction support for instance. There is however no supported JPA project that I know of. The closest bit could be Spring Data Couchbase."},{"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"score":1,"creation_date":1696252447,"post_id":77214877,"comment_id":136125439,"body_markdown":"It would be simple entity beans. POJOs with at most a refernce to another enitity, but no inheritance or whatsoever. While I believe you are right, somehow I hoped there would be a JDBC driver that could be used underneath Hibernate or similar.","body":"It would be simple entity beans. POJOs with at most a refernce to another enitity, but no inheritance or whatsoever. While I believe you are right, somehow I hoped there would be a JDBC driver that could be used underneath Hibernate or similar."},{"owner":{"account_id":19444711,"reputation":399,"user_id":14222513,"display_name":"Michael Reiche"},"score":0,"creation_date":1698694930,"post_id":77214877,"comment_id":136435534,"body_markdown":"There is a Couchbase implementation of Spring Data","body":"There is a Couchbase implementation of Spring Data"}],"answers":[{"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1697698158,"creation_date":1696281703,"answer_id":77218547,"question_id":77214877,"body_markdown":"Meanwhile I found [Object-Relational Mapping with Couchbase Data Entities in Java][1]:\r\n\r\n&gt; You can use Hibernate to map object-oriented domain models to a\r\n&gt; traditional relational database. The tutorial below shows how to use\r\n&gt; the CData JDBC Driver for Couchbase to generate an ORM of your\r\n&gt; Couchbase repository with Hibernate.\r\n\r\nThe above claims to work on Hibernate, which itself is a JPA provider.\r\nIf it works I will prefer this solution over non-JPA solutions.\r\n\r\nWe found two commercially offered JDBC drivers for Couchbase: [CDATA][2] and [Simba][3]. Both of them did not cover our requirements so we dropped the idea of storing everything in Couchbase.\r\n\r\n\r\n  [1]: https://www.cdata.com/kb/tech/couchbase-jdbc-hibernate.rst\r\n  [2]: https://www.cdata.com/drivers/couchbase/jdbc/\r\n  [3]: https://insightsoftware.com/de/drivers/couchbase-odbc-jdbc/","title":"JPA with Couchbase?","body":"<p>Meanwhile I found <a href=\"https://www.cdata.com/kb/tech/couchbase-jdbc-hibernate.rst\" rel=\"nofollow noreferrer\">Object-Relational Mapping with Couchbase Data Entities in Java</a>:</p>\n<blockquote>\n<p>You can use Hibernate to map object-oriented domain models to a\ntraditional relational database. The tutorial below shows how to use\nthe CData JDBC Driver for Couchbase to generate an ORM of your\nCouchbase repository with Hibernate.</p>\n</blockquote>\n<p>The above claims to work on Hibernate, which itself is a JPA provider.\nIf it works I will prefer this solution over non-JPA solutions.</p>\n<p>We found two commercially offered JDBC drivers for Couchbase: <a href=\"https://www.cdata.com/drivers/couchbase/jdbc/\" rel=\"nofollow noreferrer\">CDATA</a> and <a href=\"https://insightsoftware.com/de/drivers/couchbase-odbc-jdbc/\" rel=\"nofollow noreferrer\">Simba</a>. Both of them did not cover our requirements so we dropped the idea of storing everything in Couchbase.</p>\n"}],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":65,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":77218547,"answer_count":1,"score":0,"last_activity_date":1697698158,"creation_date":1696242419,"question_id":77214877,"body_markdown":"I will create an application that needs both structured and unstructured data. For the unstructured part a relational database will be clumsy. When looking for options, I stumbled over Couchbase which seems to happily store the unstructured documents while it has SQL92 compatibility with N1QL. So now I am thinking whether Couchbase could cover the structured data requirements as well.\r\n\r\nHas anyone had success with the combination JPA and Couchbase?","title":"JPA with Couchbase?","body":"<p>I will create an application that needs both structured and unstructured data. For the unstructured part a relational database will be clumsy. When looking for options, I stumbled over Couchbase which seems to happily store the unstructured documents while it has SQL92 compatibility with N1QL. So now I am thinking whether Couchbase could cover the structured data requirements as well.</p>\n<p>Has anyone had success with the combination JPA and Couchbase?</p>\n"},{"tags":["java","file-io","jar"],"comments":[{"owner":{"account_id":63162,"reputation":102381,"user_id":187141,"accept_rate":82,"display_name":"yegor256"},"score":0,"creation_date":1369942441,"post_id":3369794,"comment_id":24290068,"body_markdown":"see http://stackoverflow.com/questions/16842306","body":"see <a href=\"http://stackoverflow.com/questions/16842306\">stackoverflow.com/questions/16842306</a>"},{"owner":{"account_id":4745627,"reputation":5635,"user_id":3837078,"accept_rate":73,"display_name":"Michael Hegner"},"score":0,"creation_date":1475424155,"post_id":3369794,"comment_id":66927893,"body_markdown":"If you want to read files from a directory in jar with any numbers for files, see [Stackoverflow-Link](https://stackoverflow.com/questions/26185137/spring-boot-resource-not-found-when-using-executeable-jar/39818817#39818817)","body":"If you want to read files from a directory in jar with any numbers for files, see <a href=\"https://stackoverflow.com/questions/26185137/spring-boot-resource-not-found-when-using-executeable-jar/39818817#39818817\">Stackoverflow-Link</a>"}],"answers":[{"tags":[],"owner":{"account_id":10987,"reputation":50685,"user_id":21005,"accept_rate":78,"display_name":"Mnementh"},"comment_count":0,"down_vote_count":0,"up_vote_count":110,"is_accepted":false,"score":110,"last_activity_date":1671918537,"creation_date":1280481046,"answer_id":3370096,"question_id":3369794,"body_markdown":"If you want to read that file from inside your application use:\r\n\r\n    InputStream input = getClass().getResourceAsStream(&quot;/classpath/to/my/file&quot;);\r\n\r\nThe path starts with &quot;/&quot;, but that is not the path in your file-system, but in your classpath. So if your file is at the classpath &quot;org.xml&quot; and is called myxml.xml your path looks like &quot;/org/xml/myxml.xml&quot;.\r\n\r\nThe InputStream reads the content of your file. You can wrap it into an Reader, if you want.","title":"How to read a file from jar in Java?","body":"<p>If you want to read that file from inside your application use:</p>\n<pre><code>InputStream input = getClass().getResourceAsStream(&quot;/classpath/to/my/file&quot;);\n</code></pre>\n<p>The path starts with &quot;/&quot;, but that is not the path in your file-system, but in your classpath. So if your file is at the classpath &quot;org.xml&quot; and is called myxml.xml your path looks like &quot;/org/xml/myxml.xml&quot;.</p>\n<p>The InputStream reads the content of your file. You can wrap it into an Reader, if you want.</p>\n"},{"comments":[{"owner":{"account_id":10987,"reputation":50685,"user_id":21005,"accept_rate":78,"display_name":"Mnementh"},"score":0,"creation_date":1280746336,"post_id":3376393,"comment_id":3521480,"body_markdown":"This is essentially the same answer I gave, but explained in much more detail. +1","body":"This is essentially the same answer I gave, but explained in much more detail. +1"},{"owner":{"account_id":457589,"reputation":6475,"user_id":857012,"accept_rate":90,"display_name":"Rag"},"score":0,"creation_date":1365796291,"post_id":3376393,"comment_id":22779875,"body_markdown":"Here&#39;s the resolveName method that was mentioned: https://gist.github.com/briangordon/5374626","body":"Here&#39;s the resolveName method that was mentioned: <a href=\"https://gist.github.com/briangordon/5374626\" rel=\"nofollow noreferrer\">gist.github.com/briangordon/5374626</a>"}],"tags":[],"owner":{"account_id":168831,"reputation":886,"user_id":394525,"display_name":"simontuffs"},"comment_count":2,"down_vote_count":0,"up_vote_count":60,"is_accepted":false,"score":60,"last_activity_date":1490807430,"creation_date":1280539387,"answer_id":3376393,"question_id":3369794,"body_markdown":"Ah, this is one of my favorite subjects. There are essentially two ways you can load a resource through the classpath: \r\n\r\n&lt;!-- language-all: lang-java --&gt;\r\n\r\n    Class.getResourceAsStream(resource)\r\n\r\nand\r\n\r\n    ClassLoader.getResourceAsStream(resource)\r\n\r\n(there are other ways which involve getting a URL for the resource in a similar fashion, then opening a connection to it, but these are the two direct ways).\r\n\r\nThe first method actually delegates to the second, after mangling the resource name. There are essentially two kinds of resource names: absolute (e.g. &quot;/path/to/resource/resource&quot;) and relative (e.g. &quot;resource&quot;).  Absolute paths start with &quot;/&quot;.  \r\n\r\nHere&#39;s an example which should illustrate.  Consider a class com.example.A.  Consider two resources, one located at /com/example/nested, the other at /top, in the classpath.  The following program shows nine possible ways to access the two resources:\r\n\r\n&lt;pre&gt;\r\npackage com.example;\r\n\r\npublic class A {\r\n    \r\n    public static void main(String args[]) {\r\n        \r\n        // Class.getResourceAsStream\r\n        Object resource = A.class.getResourceAsStream(&quot;nested&quot;);\r\n        System.out.println(&quot;1: A.class nested=&quot; + resource);\r\n        \r\n        resource = A.class.getResourceAsStream(&quot;/com/example/nested&quot;);\r\n        System.out.println(&quot;2: A.class /com/example/nested=&quot; + resource);\r\n        \r\n        resource = A.class.getResourceAsStream(&quot;top&quot;);\r\n        System.out.println(&quot;3: A.class top=&quot; + resource);\r\n        \r\n        resource = A.class.getResourceAsStream(&quot;/top&quot;);\r\n        System.out.println(&quot;4: A.class /top=&quot; + resource);\r\n\r\n        // ClassLoader.getResourceAsStream\r\n        ClassLoader cl = A.class.getClassLoader();\r\n        resource = cl.getResourceAsStream(&quot;nested&quot;);        \r\n        System.out.println(&quot;5: cl nested=&quot; + resource);\r\n\r\n        resource = cl.getResourceAsStream(&quot;/com/example/nested&quot;);\r\n        System.out.println(&quot;6: cl /com/example/nested=&quot; + resource);\r\n        resource = cl.getResourceAsStream(&quot;com/example/nested&quot;);\r\n        System.out.println(&quot;7: cl com/example/nested=&quot; + resource);\r\n\r\n        resource = cl.getResourceAsStream(&quot;top&quot;);\r\n        System.out.println(&quot;8: cl top=&quot; + resource);\r\n        \r\n        resource = cl.getResourceAsStream(&quot;/top&quot;);\r\n        System.out.println(&quot;9: cl /top=&quot; + resource);\r\n    }\r\n\r\n}\r\n&lt;/pre&gt;\r\n\r\nThe output from the program is:\r\n\r\n&lt;pre&gt;\r\n1: A.class nested=java.io.BufferedInputStream@19821f\r\n2: A.class /com/example/nested=java.io.BufferedInputStream@addbf1\r\n3: A.class top=null\r\n4: A.class /top=java.io.BufferedInputStream@42e816\r\n5: cl nested=null\r\n6: cl /com/example/nested=null\r\n7: cl com/example/nested=java.io.BufferedInputStream@9304b1\r\n8: cl top=java.io.BufferedInputStream@190d11\r\n9: cl /top=null\r\n&lt;/pre&gt;\r\n\r\nMostly things do what you&#39;d expect.  Case-3 fails because class relative resolving is with respect to the Class, so &quot;top&quot; means &quot;/com/example/top&quot;, but &quot;/top&quot; means what it says.\r\n\r\nCase-5 fails because classloader relative resolving is with respect to the classloader. But, unexpectedly Case-6 also fails: one might expect &quot;/com/example/nested&quot; to resolve properly.  To access a nested resource through the classloader you need to use Case-7, i.e. the nested path is relative to the root of the classloader.  Likewise Case-9 fails, but Case-8 passes.\r\n\r\nRemember: for java.lang.Class, getResourceAsStream() does delegate to the classloader:\r\n\r\n&lt;pre&gt;\r\n     public InputStream getResourceAsStream(String name) {\r\n        name = resolveName(name);\r\n        ClassLoader cl = getClassLoader0();\r\n        if (cl==null) {\r\n            // A system class.\r\n            return ClassLoader.getSystemResourceAsStream(name);\r\n        }\r\n        return cl.getResourceAsStream(name);\r\n    }\r\n&lt;/pre&gt;\r\n\r\nso it is the behavior of resolveName() that is important.  \r\n\r\nFinally, since it is the behavior of the classloader that loaded the class that essentially controls getResourceAsStream(), and the classloader is often a custom loader, then the resource-loading rules may be even more complex.  e.g. for Web-Applications,  load from WEB-INF/classes or WEB-INF/lib in the context of the web application, but not from other web-applications which are isolated.  Also, well-behaved classloaders delegate to parents, so that duplicateed resources in the classpath may not be accessible using this mechanism.","title":"How to read a file from jar in Java?","body":"<p>Ah, this is one of my favorite subjects. There are essentially two ways you can load a resource through the classpath: </p>\n\n\n\n<pre class=\"lang-java prettyprint-override\"><code>Class.getResourceAsStream(resource)\n</code></pre>\n\n<p>and</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>ClassLoader.getResourceAsStream(resource)\n</code></pre>\n\n<p>(there are other ways which involve getting a URL for the resource in a similar fashion, then opening a connection to it, but these are the two direct ways).</p>\n\n<p>The first method actually delegates to the second, after mangling the resource name. There are essentially two kinds of resource names: absolute (e.g. \"/path/to/resource/resource\") and relative (e.g. \"resource\").  Absolute paths start with \"/\".  </p>\n\n<p>Here's an example which should illustrate.  Consider a class com.example.A.  Consider two resources, one located at /com/example/nested, the other at /top, in the classpath.  The following program shows nine possible ways to access the two resources:</p>\n\n<pre>\npackage com.example;\n\npublic class A {\n\n    public static void main(String args[]) {\n\n        // Class.getResourceAsStream\n        Object resource = A.class.getResourceAsStream(\"nested\");\n        System.out.println(\"1: A.class nested=\" + resource);\n\n        resource = A.class.getResourceAsStream(\"/com/example/nested\");\n        System.out.println(\"2: A.class /com/example/nested=\" + resource);\n\n        resource = A.class.getResourceAsStream(\"top\");\n        System.out.println(\"3: A.class top=\" + resource);\n\n        resource = A.class.getResourceAsStream(\"/top\");\n        System.out.println(\"4: A.class /top=\" + resource);\n\n        // ClassLoader.getResourceAsStream\n        ClassLoader cl = A.class.getClassLoader();\n        resource = cl.getResourceAsStream(\"nested\");        \n        System.out.println(\"5: cl nested=\" + resource);\n\n        resource = cl.getResourceAsStream(\"/com/example/nested\");\n        System.out.println(\"6: cl /com/example/nested=\" + resource);\n        resource = cl.getResourceAsStream(\"com/example/nested\");\n        System.out.println(\"7: cl com/example/nested=\" + resource);\n\n        resource = cl.getResourceAsStream(\"top\");\n        System.out.println(\"8: cl top=\" + resource);\n\n        resource = cl.getResourceAsStream(\"/top\");\n        System.out.println(\"9: cl /top=\" + resource);\n    }\n\n}\n</pre>\n\n<p>The output from the program is:</p>\n\n<pre>\n1: A.class nested=java.io.BufferedInputStream@19821f\n2: A.class /com/example/nested=java.io.BufferedInputStream@addbf1\n3: A.class top=null\n4: A.class /top=java.io.BufferedInputStream@42e816\n5: cl nested=null\n6: cl /com/example/nested=null\n7: cl com/example/nested=java.io.BufferedInputStream@9304b1\n8: cl top=java.io.BufferedInputStream@190d11\n9: cl /top=null\n</pre>\n\n<p>Mostly things do what you'd expect.  Case-3 fails because class relative resolving is with respect to the Class, so \"top\" means \"/com/example/top\", but \"/top\" means what it says.</p>\n\n<p>Case-5 fails because classloader relative resolving is with respect to the classloader. But, unexpectedly Case-6 also fails: one might expect \"/com/example/nested\" to resolve properly.  To access a nested resource through the classloader you need to use Case-7, i.e. the nested path is relative to the root of the classloader.  Likewise Case-9 fails, but Case-8 passes.</p>\n\n<p>Remember: for java.lang.Class, getResourceAsStream() does delegate to the classloader:</p>\n\n<pre>\n     public InputStream getResourceAsStream(String name) {\n        name = resolveName(name);\n        ClassLoader cl = getClassLoader0();\n        if (cl==null) {\n            // A system class.\n            return ClassLoader.getSystemResourceAsStream(name);\n        }\n        return cl.getResourceAsStream(name);\n    }\n</pre>\n\n<p>so it is the behavior of resolveName() that is important.  </p>\n\n<p>Finally, since it is the behavior of the classloader that loaded the class that essentially controls getResourceAsStream(), and the classloader is often a custom loader, then the resource-loading rules may be even more complex.  e.g. for Web-Applications,  load from WEB-INF/classes or WEB-INF/lib in the context of the web application, but not from other web-applications which are isolated.  Also, well-behaved classloaders delegate to parents, so that duplicateed resources in the classpath may not be accessible using this mechanism.</p>\n"},{"tags":[],"owner":{"account_id":1955435,"reputation":457,"user_id":1758517,"display_name":"Tristan Everitt"},"comment_count":0,"down_vote_count":2,"up_vote_count":7,"is_accepted":false,"score":5,"last_activity_date":1350996331,"creation_date":1350996331,"answer_id":13030711,"question_id":3369794,"body_markdown":"A JAR is basically a ZIP file so treat it as such.  Below contains an example on how to extract one file from a WAR file (also treat it as a ZIP file) and outputs the string contents.  For binary you&#39;ll need to modify the extraction process, but there are plenty of examples out there for that.  \r\n\r\n    public static void main(String args[]) {\r\n\t\tString relativeFilePath = &quot;style/someCSSFile.css&quot;;\r\n\t\tString zipFilePath = &quot;/someDirectory/someWarFile.war&quot;;\r\n\t\tString contents = readZipFile(zipFilePath,relativeFilePath);\r\n\t\tSystem.out.println(contents);\r\n\t}\r\n\r\n    public static String readZipFile(String zipFilePath, String relativeFilePath) {\r\n\t\ttry {\r\n\t\t\tZipFile zipFile = new ZipFile(zipFilePath);\r\n\t\t\tEnumeration&lt;? extends ZipEntry&gt; e = zipFile.entries();\r\n\r\n\t\t\twhile (e.hasMoreElements()) {\r\n\t\t\t\tZipEntry entry = (ZipEntry) e.nextElement();\r\n\t\t\t\t// if the entry is not directory and matches relative file then extract it\r\n\t\t\t\tif (!entry.isDirectory() &amp;&amp; entry.getName().equals(relativeFilePath)) {\r\n\t\t\t\t\tBufferedInputStream bis = new BufferedInputStream(\r\n\t\t\t\t\t\t\tzipFile.getInputStream(entry));\r\n\t\t\t\t\t// Read the file\r\n\t\t\t\t\t\t// With Apache Commons I/O\r\n\t\t\t\t\t String fileContentsStr = IOUtils.toString(bis, &quot;UTF-8&quot;);\r\n\t\t\t\t\t\r\n\t\t\t\t\t \t// With Guava\r\n\t\t\t\t\t//String fileContentsStr = new String(ByteStreams.toByteArray(bis),Charsets.UTF_8);\r\n\t\t\t\t\t// close the input stream.\r\n\t\t\t\t\tbis.close();\r\n\t\t\t\t\treturn fileContentsStr;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t} catch (IOException e) {\r\n\t\t\tlogger.error(&quot;IOError :&quot; + e);\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\treturn null;\r\n\t}\r\n\r\n\r\nIn this example I&#39;m using Apache Commons I/O and if you are using Maven here is the dependency:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;commons-io&lt;/groupId&gt;\r\n        &lt;artifactId&gt;commons-io&lt;/artifactId&gt;\r\n        &lt;version&gt;2.4&lt;/version&gt;\r\n    &lt;/dependency&gt;","title":"How to read a file from jar in Java?","body":"<p>A JAR is basically a ZIP file so treat it as such.  Below contains an example on how to extract one file from a WAR file (also treat it as a ZIP file) and outputs the string contents.  For binary you'll need to modify the extraction process, but there are plenty of examples out there for that.  </p>\n\n<pre><code>public static void main(String args[]) {\n    String relativeFilePath = \"style/someCSSFile.css\";\n    String zipFilePath = \"/someDirectory/someWarFile.war\";\n    String contents = readZipFile(zipFilePath,relativeFilePath);\n    System.out.println(contents);\n}\n\npublic static String readZipFile(String zipFilePath, String relativeFilePath) {\n    try {\n        ZipFile zipFile = new ZipFile(zipFilePath);\n        Enumeration&lt;? extends ZipEntry&gt; e = zipFile.entries();\n\n        while (e.hasMoreElements()) {\n            ZipEntry entry = (ZipEntry) e.nextElement();\n            // if the entry is not directory and matches relative file then extract it\n            if (!entry.isDirectory() &amp;&amp; entry.getName().equals(relativeFilePath)) {\n                BufferedInputStream bis = new BufferedInputStream(\n                        zipFile.getInputStream(entry));\n                // Read the file\n                    // With Apache Commons I/O\n                 String fileContentsStr = IOUtils.toString(bis, \"UTF-8\");\n\n                    // With Guava\n                //String fileContentsStr = new String(ByteStreams.toByteArray(bis),Charsets.UTF_8);\n                // close the input stream.\n                bis.close();\n                return fileContentsStr;\n            } else {\n                continue;\n            }\n        }\n    } catch (IOException e) {\n        logger.error(\"IOError :\" + e);\n        e.printStackTrace();\n    }\n    return null;\n}\n</code></pre>\n\n<p>In this example I'm using Apache Commons I/O and if you are using Maven here is the dependency:</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;commons-io&lt;/groupId&gt;\n    &lt;artifactId&gt;commons-io&lt;/artifactId&gt;\n    &lt;version&gt;2.4&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2356177,"reputation":131,"user_id":2063915,"display_name":"hothead"},"comment_count":0,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1360655745,"creation_date":1360655745,"answer_id":14827897,"question_id":3369794,"body_markdown":"Check first your class loader.&lt;br/&gt;\r\n\r\n    ClassLoader classLoader = Thread.currentThread().getContextClassLoader();\r\n    \r\n    if (classLoader == null) {\r\n        classLoader = Class.class.getClassLoader();\r\n    }\r\n\r\n    classLoader.getResourceAsStream(&quot;xmlFileNameInJarFile.xml&quot;);\r\n\r\n    // xml file location at xxx.jar\r\n    // + folder\r\n    // + folder\r\n    // xmlFileNameInJarFile.xml","title":"How to read a file from jar in Java?","body":"<p>Check first your class loader.<br/></p>\n\n<pre><code>ClassLoader classLoader = Thread.currentThread().getContextClassLoader();\n\nif (classLoader == null) {\n    classLoader = Class.class.getClassLoader();\n}\n\nclassLoader.getResourceAsStream(\"xmlFileNameInJarFile.xml\");\n\n// xml file location at xxx.jar\n// + folder\n// + folder\n// xmlFileNameInJarFile.xml\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2297139,"reputation":383,"user_id":2018314,"display_name":"he1ix"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1414685273,"creation_date":1414685273,"answer_id":26657913,"question_id":3369794,"body_markdown":"Just for completeness, there has recently been a [question][1] on the Jython mailinglist where one of the answers referred to this thread.\r\n\r\nThe question was how to call a Python script that is contained in a .jar file from within Jython, the suggested answer is as follows (with &quot;InputStream&quot; as explained in one of the answers above:\r\n\r\n    PythonInterpreter.execfile(InputStream)\r\n\r\n\r\n  [1]: http://sourceforge.net/p/jython/mailman/message/32952388/","title":"How to read a file from jar in Java?","body":"<p>Just for completeness, there has recently been a <a href=\"http://sourceforge.net/p/jython/mailman/message/32952388/\" rel=\"nofollow\">question</a> on the Jython mailinglist where one of the answers referred to this thread.</p>\n\n<p>The question was how to call a Python script that is contained in a .jar file from within Jython, the suggested answer is as follows (with \"InputStream\" as explained in one of the answers above:</p>\n\n<pre><code>PythonInterpreter.execfile(InputStream)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13258666,"reputation":326,"user_id":9573943,"display_name":"Inanc Cakil"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638094478,"creation_date":1638094478,"answer_id":70142418,"question_id":3369794,"body_markdown":"This also works on spring\r\n\r\n        ClassPathResource resource = new ClassPathResource(&quot;/file.txt&quot;, MainApplication.class); //resources folder\r\n        InputStream inputStream = resource.getInputStream();\r\n\r\n        File file = new File(&quot;file.txt&quot;);\r\n        FileUtils.copyInputStreamToFile(inputStream, file);","title":"How to read a file from jar in Java?","body":"<p>This also works on spring</p>\n<pre><code>    ClassPathResource resource = new ClassPathResource(&quot;/file.txt&quot;, MainApplication.class); //resources folder\n    InputStream inputStream = resource.getInputStream();\n\n    File file = new File(&quot;file.txt&quot;);\n    FileUtils.copyInputStreamToFile(inputStream, file);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4900086,"reputation":3091,"user_id":3948697,"accept_rate":67,"display_name":"Atul"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697697786,"creation_date":1697697786,"answer_id":77321500,"question_id":3369794,"body_markdown":"This is how I read a file from a jar. \r\n\r\nThe file which I want to read is outside the jar, under the resources folder of a application.\r\n\r\n    try(InputStream inputStream = this.getClass()\r\n                    .getClassLoader()\r\n                    .getResourceAsStream(&quot;common/test.yaml&quot;)) {\r\n                //Your code\r\n            } catch (Exception e) {\r\n                LOGGER.error(e);\r\n            }\r\n\r\nAs I said the file is under resources folder and I have sub folders as well.","title":"How to read a file from jar in Java?","body":"<p>This is how I read a file from a jar.</p>\n<p>The file which I want to read is outside the jar, under the resources folder of a application.</p>\n<pre><code>try(InputStream inputStream = this.getClass()\n                .getClassLoader()\n                .getResourceAsStream(&quot;common/test.yaml&quot;)) {\n            //Your code\n        } catch (Exception e) {\n            LOGGER.error(e);\n        }\n</code></pre>\n<p>As I said the file is under resources folder and I have sub folders as well.</p>\n"}],"owner":{"account_id":117025,"reputation":5019,"user_id":306643,"accept_rate":76,"display_name":"kandarp"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":157006,"favorite_count":0,"down_vote_count":0,"up_vote_count":67,"answer_count":7,"score":67,"last_activity_date":1697697786,"creation_date":1280478452,"question_id":3369794,"body_markdown":"I want to read an XML file that is located inside one of the `jar`s included in my class path. How can I read any file which is included in the `jar`?","title":"How to read a file from jar in Java?","body":"<p>I want to read an XML file that is located inside one of the <code>jar</code>s included in my class path. How can I read any file which is included in the <code>jar</code>?</p>\n"},{"tags":["java","unit-testing","junit","jmockit","junit-jupiter"],"owner":{"account_id":27176183,"reputation":15,"user_id":20712128,"display_name":"Thejas Jain M j"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697697636,"creation_date":1697634901,"question_id":77316669,"body_markdown":"jmockit i am using in junit tests to mock object. jmockit version 1.24 is working fine with java 8. And then i upgraded from java 8 to java 11  then test cases are failing with error \r\nTests run: 1, Failures: 0, Errors: 1, Skipped: 0, Time elapsed: 0.001 s &lt;&lt;&lt; FAILURE! - in com.accurev.gitserver.fw.parsers.ValidationParserTest\r\ncom.accurev.gitserver.fw.parsers.ValidationParserTest  Time elapsed: 0.001 s  &lt;&lt;&lt; ERROR!\r\njava.lang.NoClassDefFoundError: mockit.MockUp\r\n\tat com.accurev.gitserver.fw.parsers.ValidationParserTest.setUp(ValidationParserTest.java:50)\r\n\r\nIt&#39;s telling NoClassDefFoundError but if jmockit jar is there in maven dependency and in classpath also MockUp.java class is there.\r\n\r\n```\r\n&lt;junit.jupiter.version&gt;5.6.0&lt;/junit.jupiter.version&gt;\r\n&lt;junit.platform.version&gt;1.5.2&lt;/junit.platform.version&gt;\r\n&lt;jmockit.version&gt;1.49&lt;/jmockit.version&gt;\r\n\r\n\r\n&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${junit.jupiter.version}&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/org.junit.platform/junit-platform-runner --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.junit.platform&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;junit-platform-runner&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${junit.platform.version}&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.mockito&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mockito-core&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.21.0&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.mockito&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mockito-junit-jupiter&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.23.0&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.jmockit&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jmockit&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${jmockit.version}&lt;/version&gt;\r\n\t\t\t\r\n\t\t&lt;/dependency&gt;\r\n\r\n                             &lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;2.22.2&lt;/version&gt;\r\n                             &lt;/plugin&gt;\r\n\t\t\r\n```\r\n\r\n\r\nI tried updating the jmockit version from 1.24 to 1.45. But in latest verson they deprecated the tearDown() method to remove instance. So i commented it out where tearDown() method used as it is not necessary. But still failing with same above error like NoClassDefFoundError. Is jmockit plugin works with java 11. Is there any other things need to upgrade.","title":"jmockit issue with java 11","body":"<p>jmockit i am using in junit tests to mock object. jmockit version 1.24 is working fine with java 8. And then i upgraded from java 8 to java 11  then test cases are failing with error\nTests run: 1, Failures: 0, Errors: 1, Skipped: 0, Time elapsed: 0.001 s &lt;&lt;&lt; FAILURE! - in com.accurev.gitserver.fw.parsers.ValidationParserTest\ncom.accurev.gitserver.fw.parsers.ValidationParserTest  Time elapsed: 0.001 s  &lt;&lt;&lt; ERROR!\njava.lang.NoClassDefFoundError: mockit.MockUp\nat com.accurev.gitserver.fw.parsers.ValidationParserTest.setUp(ValidationParserTest.java:50)</p>\n<p>It's telling NoClassDefFoundError but if jmockit jar is there in maven dependency and in classpath also MockUp.java class is there.</p>\n<pre><code>&lt;junit.jupiter.version&gt;5.6.0&lt;/junit.jupiter.version&gt;\n&lt;junit.platform.version&gt;1.5.2&lt;/junit.platform.version&gt;\n&lt;jmockit.version&gt;1.49&lt;/jmockit.version&gt;\n\n\n&lt;dependency&gt;\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\n            &lt;version&gt;${junit.jupiter.version}&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/org.junit.platform/junit-platform-runner --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.platform&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-platform-runner&lt;/artifactId&gt;\n            &lt;version&gt;${junit.platform.version}&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.mockito&lt;/groupId&gt;\n            &lt;artifactId&gt;mockito-core&lt;/artifactId&gt;\n            &lt;version&gt;2.21.0&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.mockito&lt;/groupId&gt;\n            &lt;artifactId&gt;mockito-junit-jupiter&lt;/artifactId&gt;\n            &lt;version&gt;2.23.0&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.jmockit&lt;/groupId&gt;\n            &lt;artifactId&gt;jmockit&lt;/artifactId&gt;\n            &lt;version&gt;${jmockit.version}&lt;/version&gt;\n            \n        &lt;/dependency&gt;\n\n                             &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.22.2&lt;/version&gt;\n                             &lt;/plugin&gt;\n        \n</code></pre>\n<p>I tried updating the jmockit version from 1.24 to 1.45. But in latest verson they deprecated the tearDown() method to remove instance. So i commented it out where tearDown() method used as it is not necessary. But still failing with same above error like NoClassDefFoundError. Is jmockit plugin works with java 11. Is there any other things need to upgrade.</p>\n"},{"tags":["java","permission-denied","java-security-manager"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":1,"creation_date":1697698460,"post_id":77321478,"comment_id":136313038,"body_markdown":"*I am trying to understand how SecurityManager work* Don&#39;t do it. The `SecurityManager` is `Deprecated` https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/SecurityManager.html","body":"<i>I am trying to understand how SecurityManager work</i> Don&#39;t do it. The <code>SecurityManager</code> is <code>Deprecated</code> <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/SecurityManager.html\" rel=\"nofollow noreferrer\">docs.oracle.com/en/java/javase/17/docs/api/java.base/java/la&zwnj;&#8203;ng/&hellip;</a>"},{"owner":{"account_id":15204830,"reputation":1,"user_id":22592950,"display_name":"Štefan Starosta"},"score":0,"creation_date":1697702920,"post_id":77321478,"comment_id":136313821,"body_markdown":"I know but its still part of OCP11 certificate","body":"I know but its still part of OCP11 certificate"}],"owner":{"account_id":15204830,"reputation":1,"user_id":22592950,"display_name":"Štefan Starosta"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697697545,"creation_date":1697697545,"question_id":77321478,"body_markdown":"I am trying to understand how SecurityManager works so I made example to test it. however I am getting exceptions\r\n\r\nthis is class file\r\n\r\n```\r\n\r\npublic class FilePermissionChecker2 {\r\n    public static void main(String[] args) {\r\n        String filePath = &quot;c:\\\\file.txt&quot;;\r\n        Permission perm = new FilePermission(filePath, &quot;read,write&quot;);\r\n        PermissionCollection perms = perm.newPermissionCollection();\r\n\r\n        perms.add(perm);\r\n\r\n        boolean hasPermission = AccessController.doPrivileged(new PrivilegedAction&lt;Boolean&gt;() {\r\n            @Override\r\n            public Boolean run() {\r\n                // Check file permissions here\r\n                File file = new File(filePath);\r\n                if (file.exists() &amp;&amp; file.canRead() &amp;&amp; file.canWrite()) {\r\n                    return true;\r\n                } else {\r\n                    return false;\r\n                }\r\n            }\r\n        }, new AccessControlContext(\r\n                new ProtectionDomain[]{\r\n                        new ProtectionDomain(null, perms)\r\n                }\r\n        ));\r\n\r\n        if (hasPermission) {\r\n            System.out.println(&quot;You have the necessary file permissions.&quot;);\r\n        } else {\r\n            System.out.println(&quot;You do not have the necessary file permissions.&quot;);\r\n        }\r\n\r\n    }\r\n}\r\n\r\n```\r\n\r\nthis is my custom policy file\r\n```\r\ngrant {\r\n    permission java.io.FilePermission &quot;c:\\\\file.txt&quot;, &quot;read, write&quot;;\r\n};\r\n```\r\n\r\nand this is my VM options which I added in intellij as VM options parameter\r\n`-Djava.security.manager -Djava.security.policy=...pathToPolicy...\\policy\\custom.policy`\r\n\r\n\r\nI would expect this code to work I tried different variations but I am still getting this exception\r\nException in thread &quot;main&quot; java.security.AccessControlException: access denied (&quot;java.io.FilePermission&quot; &quot;c:\\file.txt&quot; &quot;read&quot;)\r\n\r\ndoes anyone have idea what is wrong?\r\n\r\n- I tried different combinations in custom policy\r\n- I tried different combinations in FilePermissions\r\n- I would expect that securityManager would check what permissions I have based on custom policy and FilePermission would add intersection of these permissions. which means if there is read and write in policy and read and write in FilePermission I would be able to read and write. but If there would be only read in FilePermission I would have only read permissions","title":"Java SecurityManager with custom policy file does not work as expected","body":"<p>I am trying to understand how SecurityManager works so I made example to test it. however I am getting exceptions</p>\n<p>this is class file</p>\n<pre><code>\npublic class FilePermissionChecker2 {\n    public static void main(String[] args) {\n        String filePath = &quot;c:\\\\file.txt&quot;;\n        Permission perm = new FilePermission(filePath, &quot;read,write&quot;);\n        PermissionCollection perms = perm.newPermissionCollection();\n\n        perms.add(perm);\n\n        boolean hasPermission = AccessController.doPrivileged(new PrivilegedAction&lt;Boolean&gt;() {\n            @Override\n            public Boolean run() {\n                // Check file permissions here\n                File file = new File(filePath);\n                if (file.exists() &amp;&amp; file.canRead() &amp;&amp; file.canWrite()) {\n                    return true;\n                } else {\n                    return false;\n                }\n            }\n        }, new AccessControlContext(\n                new ProtectionDomain[]{\n                        new ProtectionDomain(null, perms)\n                }\n        ));\n\n        if (hasPermission) {\n            System.out.println(&quot;You have the necessary file permissions.&quot;);\n        } else {\n            System.out.println(&quot;You do not have the necessary file permissions.&quot;);\n        }\n\n    }\n}\n\n</code></pre>\n<p>this is my custom policy file</p>\n<pre><code>grant {\n    permission java.io.FilePermission &quot;c:\\\\file.txt&quot;, &quot;read, write&quot;;\n};\n</code></pre>\n<p>and this is my VM options which I added in intellij as VM options parameter\n<code>-Djava.security.manager -Djava.security.policy=...pathToPolicy...\\policy\\custom.policy</code></p>\n<p>I would expect this code to work I tried different variations but I am still getting this exception\nException in thread &quot;main&quot; java.security.AccessControlException: access denied (&quot;java.io.FilePermission&quot; &quot;c:\\file.txt&quot; &quot;read&quot;)</p>\n<p>does anyone have idea what is wrong?</p>\n<ul>\n<li>I tried different combinations in custom policy</li>\n<li>I tried different combinations in FilePermissions</li>\n<li>I would expect that securityManager would check what permissions I have based on custom policy and FilePermission would add intersection of these permissions. which means if there is read and write in policy and read and write in FilePermission I would be able to read and write. but If there would be only read in FilePermission I would have only read permissions</li>\n</ul>\n"},{"tags":["java","network-programming","okhttp"],"comments":[{"owner":{"account_id":1481915,"reputation":12601,"user_id":1542667,"accept_rate":75,"display_name":"Yuri Schimke"},"score":0,"creation_date":1698644996,"post_id":77321451,"comment_id":136426777,"body_markdown":"The docs are here https://square.github.io/okhttp/features/events/\n\nconnectionReleased doesn&#39;t say much about your request. When you request finishes, the connection will be released back to the ConnectionPool for reuse. If it is unhealthy it will also be closed.\n\nBut you should be looking for why your request failed.","body":"The docs are here <a href=\"https://square.github.io/okhttp/features/events/\" rel=\"nofollow noreferrer\">square.github.io/okhttp/features/events</a>  connectionReleased doesn&#39;t say much about your request. When you request finishes, the connection will be released back to the ConnectionPool for reuse. If it is unhealthy it will also be closed.  But you should be looking for why your request failed."}],"owner":{"account_id":11494379,"reputation":31,"user_id":8424235,"display_name":"Mohammed Abbas Ali"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1697697320,"creation_date":1697697320,"question_id":77321451,"body_markdown":"My Java 8 application is using OkHttp3 to make N HTTP calls to an endpoint. Consider there&#39;s some work in a queue, and some M threads are dequeueing, parsing the work and firing HTTP calls. Around 40% of the initial calls go to the endpoint, and the application gets a response. Then the application starts getting timeouts. \r\nI enabled some logging via event listeners and got these 2 samples\r\n\r\n### Successful call \r\n\r\n```\r\n12:51:25.833 [pool-1-thread-28] INFO callStart : 76089 : time=0 for id=974745017410\r\n12:51:25.833 [pool-1-thread-28] INFO connectionAcquired : 76177 : time=0 for id=974745017410\r\n12:51:25.833 [pool-1-thread-28] INFO requestHeadersStart : 76178 : time=0 for id=974745017410\r\n12:51:25.833 [pool-1-thread-28] INFO requestHeadersEnd : 76178 : time=0 for id=974745017410\r\n12:51:25.833 [pool-1-thread-28] INFO requestBodyStart : 76178 : time=0 for id=974745017410\r\n12:51:25.833 [pool-1-thread-28] INFO requestBodyEnd : 76178 : time=0 for id=974745017410\r\n12:51:26.137 [pool-1-thread-28] INFO responseBodyStart : 74586 : time=304 for id=974745017410\r\n12:51:26.137 [pool-1-thread-28] INFO responseBodyEnd : 74586 : time=0 for id=974745017410\r\n12:51:26.137 [pool-1-thread-28] INFO connectionReleased : 76177 : time=0 for id=974745017410\r\n12:51:26.137 [pool-1-thread-28] INFO callEnd : 74586 : time=0 for id=974745017410\r\n```\r\nHere we can see all the events got printed, and the network call latency was 304ms\r\n\r\n### Timed out call\r\n```\r\n12:51:16.134 [pool-1-thread-55] INFO callStart : 76088 : time=0 for id=258173443243\r\n12:51:16.134 [pool-1-thread-55] INFO connectionAcquired : 76176 : time=0 for id=258173443243\r\n12:51:16.134 [pool-1-thread-55] INFO requestHeadersStart : 76177 : time=0 for id=258173443243\r\n12:51:16.134 [pool-1-thread-55] INFO requestHeadersEnd : 76177 : time=0 for id=258173443243\r\n12:51:16.134 [pool-1-thread-55] INFO requestBodyStart : 76177 : time=0 for id=258173443243\r\n12:51:16.134 [pool-1-thread-55] INFO requestBodyEnd : 76177 : time=0 for id=258173443243\r\n12:51:26.134 [pool-1-thread-55] INFO connectionReleased : 76176 : time=10000 for id=258173443243\r\n```\r\n\r\nThere isn&#39;t enough documentation on connectionReleased event, and what it denotes.\r\n1. I am trying to understand what connectionReleased event is. \r\n2. In the timed out call, I see the responseBodyStart and responseBodyEnd is missing. \r\n   a. Does this denote that the server never returned a response. \r\n   b. Are there some other events to find if the client was just overloaded to read the response from the server\r\n\r\nI am using version 4.9.2 of OkHttp3. Consider the server as infinitely scalable. It returns a rate-limit exceeded error when it can&#39;t handle any more requests. My application is sending only 15% of requests that the server could handle \r\n\r\n\r\nI tried setting a custom connection pool with maxIdleConnections as many as the threads as the application is using, but ran into the same problem\r\n","title":"OkHttp3 Debugging network latency via event listeners - connectionReleased event","body":"<p>My Java 8 application is using OkHttp3 to make N HTTP calls to an endpoint. Consider there's some work in a queue, and some M threads are dequeueing, parsing the work and firing HTTP calls. Around 40% of the initial calls go to the endpoint, and the application gets a response. Then the application starts getting timeouts.\nI enabled some logging via event listeners and got these 2 samples</p>\n<h3>Successful call</h3>\n<pre><code>12:51:25.833 [pool-1-thread-28] INFO callStart : 76089 : time=0 for id=974745017410\n12:51:25.833 [pool-1-thread-28] INFO connectionAcquired : 76177 : time=0 for id=974745017410\n12:51:25.833 [pool-1-thread-28] INFO requestHeadersStart : 76178 : time=0 for id=974745017410\n12:51:25.833 [pool-1-thread-28] INFO requestHeadersEnd : 76178 : time=0 for id=974745017410\n12:51:25.833 [pool-1-thread-28] INFO requestBodyStart : 76178 : time=0 for id=974745017410\n12:51:25.833 [pool-1-thread-28] INFO requestBodyEnd : 76178 : time=0 for id=974745017410\n12:51:26.137 [pool-1-thread-28] INFO responseBodyStart : 74586 : time=304 for id=974745017410\n12:51:26.137 [pool-1-thread-28] INFO responseBodyEnd : 74586 : time=0 for id=974745017410\n12:51:26.137 [pool-1-thread-28] INFO connectionReleased : 76177 : time=0 for id=974745017410\n12:51:26.137 [pool-1-thread-28] INFO callEnd : 74586 : time=0 for id=974745017410\n</code></pre>\n<p>Here we can see all the events got printed, and the network call latency was 304ms</p>\n<h3>Timed out call</h3>\n<pre><code>12:51:16.134 [pool-1-thread-55] INFO callStart : 76088 : time=0 for id=258173443243\n12:51:16.134 [pool-1-thread-55] INFO connectionAcquired : 76176 : time=0 for id=258173443243\n12:51:16.134 [pool-1-thread-55] INFO requestHeadersStart : 76177 : time=0 for id=258173443243\n12:51:16.134 [pool-1-thread-55] INFO requestHeadersEnd : 76177 : time=0 for id=258173443243\n12:51:16.134 [pool-1-thread-55] INFO requestBodyStart : 76177 : time=0 for id=258173443243\n12:51:16.134 [pool-1-thread-55] INFO requestBodyEnd : 76177 : time=0 for id=258173443243\n12:51:26.134 [pool-1-thread-55] INFO connectionReleased : 76176 : time=10000 for id=258173443243\n</code></pre>\n<p>There isn't enough documentation on connectionReleased event, and what it denotes.</p>\n<ol>\n<li>I am trying to understand what connectionReleased event is.</li>\n<li>In the timed out call, I see the responseBodyStart and responseBodyEnd is missing.\na. Does this denote that the server never returned a response.\nb. Are there some other events to find if the client was just overloaded to read the response from the server</li>\n</ol>\n<p>I am using version 4.9.2 of OkHttp3. Consider the server as infinitely scalable. It returns a rate-limit exceeded error when it can't handle any more requests. My application is sending only 15% of requests that the server could handle</p>\n<p>I tried setting a custom connection pool with maxIdleConnections as many as the threads as the application is using, but ran into the same problem</p>\n"},{"tags":["java","mysql","spring-data","spring-data-jpa","h2"],"comments":[{"owner":{"account_id":10042466,"reputation":1978,"user_id":7424896,"display_name":"Manuel"},"score":0,"creation_date":1504281136,"post_id":46003817,"comment_id":78968703,"body_markdown":"Do you really have to set catalog and schema? I would try to set them on connection url or datasource.","body":"Do you really have to set catalog and schema? I would try to set them on connection url or datasource."},{"owner":{"account_id":243247,"reputation":699,"user_id":515291,"accept_rate":90,"display_name":"Marcelus Trojahn"},"score":0,"creation_date":1504281484,"post_id":46003817,"comment_id":78968916,"body_markdown":"Yes, because some entities are in different schemas on the same server. Setting it on the URL would break it or I&#39;d need to create 1 more persistence for every database on the same server.","body":"Yes, because some entities are in different schemas on the same server. Setting it on the URL would break it or I&#39;d need to create 1 more persistence for every database on the same server."},{"owner":{"account_id":16249671,"reputation":114,"user_id":11733945,"display_name":"Pushya shah"},"score":0,"creation_date":1671460714,"post_id":46003817,"comment_id":132097833,"body_markdown":"Did you sollved it?","body":"Did you sollved it?"},{"owner":{"account_id":243247,"reputation":699,"user_id":515291,"accept_rate":90,"display_name":"Marcelus Trojahn"},"score":0,"creation_date":1671465113,"post_id":46003817,"comment_id":132099402,"body_markdown":"I had to look at the code to remember, but apparently, I gave up and used a MySQL instance for tests instead of H2.","body":"I had to look at the code to remember, but apparently, I gave up and used a MySQL instance for tests instead of H2."},{"owner":{"account_id":16577411,"reputation":74,"user_id":11978873,"display_name":"xTheProgrammer"},"score":0,"creation_date":1697095700,"post_id":46003817,"comment_id":136236930,"body_markdown":"having the same issue... someone maybe solved it?","body":"having the same issue... someone maybe solved it?"}],"answers":[{"tags":[],"owner":{"account_id":29386274,"reputation":51,"user_id":22515654,"display_name":"Klajd Bakalli"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1697122528,"creation_date":1697122528,"answer_id":77281707,"question_id":46003817,"body_markdown":"To achieve the desired behavior in Spring, conditional bean configuration and conditional annotations can be used.\r\n   \r\n\r\n     @Configuration\r\n        public class EntityConfiguration {\r\n        \r\n            @Profile(&quot;development&quot;)\r\n            static class H2Configuration {\r\n                @Bean\r\n                public JpaRepository&lt;H2Entity, Long&gt; h2Repository() {\r\n                    return new JpaRepository&lt;H2Entity, Long&gt;();\r\n                }\r\n            }\r\n        \r\n            @Profile(&quot;default&quot;)\r\n            static class MySQLConfiguration {\r\n                @Bean\r\n                public JpaRepository&lt;MySQLEntity, Long&gt; mysqlRepository() {\r\n                    return new JpaRepository&lt;MySQLEntity, Long&gt;();\r\n                }\r\n            }\r\n        }\r\n\r\nIn this configuration, the active Spring profile will be used for identifying the correct entity class and database environments.I hope this will work","title":"@Table annotation and the need set catalog or schemas for development or deployment","body":"<p>To achieve the desired behavior in Spring, conditional bean configuration and conditional annotations can be used.</p>\n<pre><code> @Configuration\n    public class EntityConfiguration {\n    \n        @Profile(&quot;development&quot;)\n        static class H2Configuration {\n            @Bean\n            public JpaRepository&lt;H2Entity, Long&gt; h2Repository() {\n                return new JpaRepository&lt;H2Entity, Long&gt;();\n            }\n        }\n    \n        @Profile(&quot;default&quot;)\n        static class MySQLConfiguration {\n            @Bean\n            public JpaRepository&lt;MySQLEntity, Long&gt; mysqlRepository() {\n                return new JpaRepository&lt;MySQLEntity, Long&gt;();\n            }\n        }\n    }\n</code></pre>\n<p>In this configuration, the active Spring profile will be used for identifying the correct entity class and database environments.I hope this will work</p>\n"},{"tags":[],"owner":{"account_id":16577411,"reputation":74,"user_id":11978873,"display_name":"xTheProgrammer"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697696832,"creation_date":1697696832,"answer_id":77321415,"question_id":46003817,"body_markdown":"I had exactly the same issue like you did. While searching for possible solutions, i found the following article:\r\nhttps://medium.com/javarevisited/how-to-set-the-schema-name-dynamically-in-spring-jpa-b0f1c2205ad2\r\n\r\nYou can dynamically change the schema / catalog by overriding the `SpringPhysicalNamingStrategy`. However we don&#39;t need to change it dynamically but we do need to remove the catalog qualifier while being in a test / development environment and only use the schema qualifier.\r\n\r\nThe entity now looks like this:\r\n\r\n    @Entity\r\n    @Table(name = &quot;table_for_entity&quot;, schema = &quot;schemaName&quot;, catalog = &quot;schemaName&quot;)\r\n    @Getter\r\n    @Setter\r\n    public class EntityName {\r\n    ...\r\n    }\r\n\r\nNote that we annotate both the schema and the catalog.\r\nTo remove the catalog in a testing environment, you need to override the `SpringPhysicalNamingStrategy` . In our case we used (the deprecated) SpringPhysicalNamingStrategy. The overriden Configuration will look something like this:\r\n\r\n    @Configuration\r\n    @Profile(&quot;test&quot;)\r\n    public class CustomPhysicalNamingStrategy extends SpringPhysicalNamingStrategy {\r\n    \r\n        @Override\r\n        public Identifier toPhysicalCatalogName(Identifier name, JdbcEnvironment jdbcEnvironment) {\r\n            if (name != null) {\r\n                return super.toPhysicalCatalogName(null, jdbcEnvironment);\r\n            }\r\n            return super.toPhysicalCatalogName(name, jdbcEnvironment);\r\n        }\r\n    }\r\n\r\nThis configuration will only be created in a testing / development environment and will override the catalog name. The does nothing more than checking oif there is a catalog name set and removes it.\r\nYou then need to set the `CustomPhysicalNamingStrategy` in the application.yml file. For my case it was enough to configure it in the test package.\r\nConfiguration will look like this:\r\n\r\n    spring:\r\n      jpa:\r\n        hibernate:\r\n          naming:\r\n            physical-strategy: ch.soobr.domain.config.CustomPhysicalNamingStrategy\r\n\r\nAll in all to be as close as possible to production, its still recommended to use testcontainers.\r\n","title":"@Table annotation and the need set catalog or schemas for development or deployment","body":"<p>I had exactly the same issue like you did. While searching for possible solutions, i found the following article:\n<a href=\"https://medium.com/javarevisited/how-to-set-the-schema-name-dynamically-in-spring-jpa-b0f1c2205ad2\" rel=\"nofollow noreferrer\">https://medium.com/javarevisited/how-to-set-the-schema-name-dynamically-in-spring-jpa-b0f1c2205ad2</a></p>\n<p>You can dynamically change the schema / catalog by overriding the <code>SpringPhysicalNamingStrategy</code>. However we don't need to change it dynamically but we do need to remove the catalog qualifier while being in a test / development environment and only use the schema qualifier.</p>\n<p>The entity now looks like this:</p>\n<pre><code>@Entity\n@Table(name = &quot;table_for_entity&quot;, schema = &quot;schemaName&quot;, catalog = &quot;schemaName&quot;)\n@Getter\n@Setter\npublic class EntityName {\n...\n}\n</code></pre>\n<p>Note that we annotate both the schema and the catalog.\nTo remove the catalog in a testing environment, you need to override the <code>SpringPhysicalNamingStrategy</code> . In our case we used (the deprecated) SpringPhysicalNamingStrategy. The overriden Configuration will look something like this:</p>\n<pre><code>@Configuration\n@Profile(&quot;test&quot;)\npublic class CustomPhysicalNamingStrategy extends SpringPhysicalNamingStrategy {\n\n    @Override\n    public Identifier toPhysicalCatalogName(Identifier name, JdbcEnvironment jdbcEnvironment) {\n        if (name != null) {\n            return super.toPhysicalCatalogName(null, jdbcEnvironment);\n        }\n        return super.toPhysicalCatalogName(name, jdbcEnvironment);\n    }\n}\n</code></pre>\n<p>This configuration will only be created in a testing / development environment and will override the catalog name. The does nothing more than checking oif there is a catalog name set and removes it.\nYou then need to set the <code>CustomPhysicalNamingStrategy</code> in the application.yml file. For my case it was enough to configure it in the test package.\nConfiguration will look like this:</p>\n<pre><code>spring:\n  jpa:\n    hibernate:\n      naming:\n        physical-strategy: ch.soobr.domain.config.CustomPhysicalNamingStrategy\n</code></pre>\n<p>All in all to be as close as possible to production, its still recommended to use testcontainers.</p>\n"}],"owner":{"account_id":243247,"reputation":699,"user_id":515291,"accept_rate":90,"display_name":"Marcelus Trojahn"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1267,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1697696832,"creation_date":1504280742,"question_id":46003817,"body_markdown":"Here&#39;s my problem. \r\n\r\nWhen I&#39;m developing I usually have a persistence class configured to H2 with @Profile(&quot;development&quot;) mapped to a local database on my computer. At the same time, I have another persistence class mapping the same entities, which is basically a copy of the first one, only configured to MySQL. These persistence classes are picked up by Spring depending on the @Profile annotation, the second one is annotated with @Profile(&quot;default&quot;)\r\n\r\nMy problem is that when I deploy the @Profile(&quot;default&quot;) is picked up and  MySQL needs the @Table annotation to be like this:\r\n\r\n    @Table(name = &quot;tableName&quot;, catalog = &quot;databaseName&quot;)\r\n\r\nWhile on development, H2 understands only this:\r\n\r\n    @Table(name = &quot;tableName&quot;, schema = &quot;databaseName&quot;)\r\n\r\nIs there a way to solve this problem? Some conditional way to switch the @Table annotation from schema to catalog on deployment?\r\n\r\n","title":"@Table annotation and the need set catalog or schemas for development or deployment","body":"<p>Here's my problem. </p>\n\n<p>When I'm developing I usually have a persistence class configured to H2 with @Profile(\"development\") mapped to a local database on my computer. At the same time, I have another persistence class mapping the same entities, which is basically a copy of the first one, only configured to MySQL. These persistence classes are picked up by Spring depending on the @Profile annotation, the second one is annotated with @Profile(\"default\")</p>\n\n<p>My problem is that when I deploy the @Profile(\"default\") is picked up and  MySQL needs the @Table annotation to be like this:</p>\n\n<pre><code>@Table(name = \"tableName\", catalog = \"databaseName\")\n</code></pre>\n\n<p>While on development, H2 understands only this:</p>\n\n<pre><code>@Table(name = \"tableName\", schema = \"databaseName\")\n</code></pre>\n\n<p>Is there a way to solve this problem? Some conditional way to switch the @Table annotation from schema to catalog on deployment?</p>\n"},{"tags":["java","eclipse","maven","maven-wrapper"],"comments":[{"owner":{"account_id":3377022,"reputation":11135,"user_id":2834978,"display_name":"LMC"},"score":1,"creation_date":1627875577,"post_id":68614176,"comment_id":121263853,"body_markdown":"AFAIK, building in Eclipse is right click on pom, Runs As -&gt; Maven build ...","body":"AFAIK, building in Eclipse is right click on pom, Runs As -&gt; Maven build ..."},{"owner":{"account_id":314486,"reputation":1653,"user_id":629681,"accept_rate":76,"display_name":"Theodor Keinstein"},"score":0,"creation_date":1628494687,"post_id":68614176,"comment_id":121425736,"body_markdown":"The problem is, that it fails always with an error: Non-resolvable parent POM for ...: Cannot access central (https://repo.maven.apache.org/maven2) in offline mode and the artifact ... has not been downloaded from it before. and &#39;parent.relativePath&#39; points at wrong local POM ... However there is no relativePath tag in any POM and it works even off-line at command line using mvnw. The missing artifact is indeed in the local repo.","body":"The problem is, that it fails always with an error: Non-resolvable parent POM for ...: Cannot access central (<a href=\"https://repo.maven.apache.org/maven2\" rel=\"nofollow noreferrer\">repo.maven.apache.org/maven2</a>) in offline mode and the artifact ... has not been downloaded from it before. and &#39;parent.relativePath&#39; points at wrong local POM ... However there is no relativePath tag in any POM and it works even off-line at command line using mvnw. The missing artifact is indeed in the local repo."},{"owner":{"account_id":314486,"reputation":1653,"user_id":629681,"accept_rate":76,"display_name":"Theodor Keinstein"},"score":0,"creation_date":1628501455,"post_id":68614176,"comment_id":121428246,"body_markdown":"building in Eclipse is right click on pom, Runs As -&gt; Maven build: Eclipse has permanent problems with dependencies. The same command works on command line. No idea, what is so different within Eclipse.","body":"building in Eclipse is right click on pom, Runs As -&gt; Maven build: Eclipse has permanent problems with dependencies. The same command works on command line. No idea, what is so different within Eclipse."}],"answers":[{"comments":[{"owner":{"account_id":314486,"reputation":1653,"user_id":629681,"accept_rate":76,"display_name":"Theodor Keinstein"},"score":2,"creation_date":1628492030,"post_id":68627199,"comment_id":121424838,"body_markdown":"Yes, might be. However there are some corporate settings in the mvmw script, that take no effect in Eclipse and the build fails. On other hand, Maven should build in the off-line mode, if all has been already downloaded.\n\nMaven Wrapper installs a Maven internally. But the Eclipse Embedded Maven is another Maven, what breaks meaning of Maven wrapper - to ensure the same Maven version across environments.","body":"Yes, might be. However there are some corporate settings in the mvmw script, that take no effect in Eclipse and the build fails. On other hand, Maven should build in the off-line mode, if all has been already downloaded.  Maven Wrapper installs a Maven internally. But the Eclipse Embedded Maven is another Maven, what breaks meaning of Maven wrapper - to ensure the same Maven version across environments."}],"tags":[],"owner":{"account_id":6284,"reputation":14589,"user_id":10508,"accept_rate":53,"display_name":"David M. Karr"},"comment_count":1,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1627933611,"creation_date":1627933611,"answer_id":68627199,"question_id":68614176,"body_markdown":"As implied by the comment from LMC, the Java edition of Eclipse will come with the &quot;m2e&quot; plugin, which will automatically recognize a project with a pom.xml file as a Maven project, and it will automatically note the dependencies, download them, and compile your source code with those artifacts as dependencies.\r\n\r\nThat deals with dependencies and compilation.  If your build is running unit tests with Surefire, or generating code with particular plugins, unless there is a specialized m2e connector for that plugin, Eclipse will not know to do that.\r\n\r\nInside Eclipse, if you need to run a Maven build, you don&#39;t need to care about &quot;mvn&quot; vs. &quot;mvnw&quot;.  Eclipse will have an embedded Maven installation.","title":"Eclipse and Maven-Wrapper","body":"<p>As implied by the comment from LMC, the Java edition of Eclipse will come with the &quot;m2e&quot; plugin, which will automatically recognize a project with a pom.xml file as a Maven project, and it will automatically note the dependencies, download them, and compile your source code with those artifacts as dependencies.</p>\n<p>That deals with dependencies and compilation.  If your build is running unit tests with Surefire, or generating code with particular plugins, unless there is a specialized m2e connector for that plugin, Eclipse will not know to do that.</p>\n<p>Inside Eclipse, if you need to run a Maven build, you don't need to care about &quot;mvn&quot; vs. &quot;mvnw&quot;.  Eclipse will have an embedded Maven installation.</p>\n"},{"tags":[],"owner":{"account_id":314486,"reputation":1653,"user_id":629681,"accept_rate":76,"display_name":"Theodor Keinstein"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697696485,"creation_date":1697696485,"answer_id":77321381,"question_id":68614176,"body_markdown":"I know, my answer won&#39;t make happy these, that are still looking for a solution. I consulted the problem with team and since two years I use IntelliJ Idea. You can use community edition for free or commercial version for about 600 €. It depends on your situation. (Profis tend to not use Eclipse nowadays.)","title":"Eclipse and Maven-Wrapper","body":"<p>I know, my answer won't make happy these, that are still looking for a solution. I consulted the problem with team and since two years I use IntelliJ Idea. You can use community edition for free or commercial version for about 600 €. It depends on your situation. (Profis tend to not use Eclipse nowadays.)</p>\n"}],"owner":{"account_id":314486,"reputation":1653,"user_id":629681,"accept_rate":76,"display_name":"Theodor Keinstein"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1524,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1697696485,"creation_date":1627850087,"question_id":68614176,"body_markdown":"I try to build a project, which is using the [Maven Wrapper][1]. The build works fine on command line. There is also a plug-in for IntelliJ Idea. However, I haven&#39;t found any article, how to build such project with Eclipse.\r\n\r\nDo you have an experience with project build by `./mvnw` command instead of `mvn` in Eclipse, please?\r\n\r\n\r\n  [1]: https://github.com/takari/maven-wrapper","title":"Eclipse and Maven-Wrapper","body":"<p>I try to build a project, which is using the <a href=\"https://github.com/takari/maven-wrapper\" rel=\"nofollow noreferrer\">Maven Wrapper</a>. The build works fine on command line. There is also a plug-in for IntelliJ Idea. However, I haven't found any article, how to build such project with Eclipse.</p>\n<p>Do you have an experience with project build by <code>./mvnw</code> command instead of <code>mvn</code> in Eclipse, please?</p>\n"},{"tags":["java","spring","maven"],"comments":[{"owner":{"account_id":8179858,"reputation":21,"user_id":6157429,"display_name":"gunjan ragtah"},"score":0,"creation_date":1460434070,"post_id":36563415,"comment_id":60727091,"body_markdown":"I had dependencies for spring-core, spring-web, spring-webmvc all of version 4.1.4.RELEASE. It was running just fine then. but to add mongodb to my code it showed error to add other jars too. So i ended up adding dependencies for spring-expression, spring-beans, spring-context, spring-context-support all of the same version 4.1.4.RELEASE. But now its generating the above mentioned error. Any suggestions?","body":"I had dependencies for spring-core, spring-web, spring-webmvc all of version 4.1.4.RELEASE. It was running just fine then. but to add mongodb to my code it showed error to add other jars too. So i ended up adding dependencies for spring-expression, spring-beans, spring-context, spring-context-support all of the same version 4.1.4.RELEASE. But now its generating the above mentioned error. Any suggestions?"},{"owner":{"account_id":1068606,"reputation":11581,"user_id":1068446,"accept_rate":63,"display_name":"dwjohnston"},"score":0,"creation_date":1460434073,"post_id":36563415,"comment_id":60727093,"body_markdown":"This looks like it&#39;s a dependency/version issue. Did you try googling your post title before you posted? http://stackoverflow.com/questions/18601279/java-lang-nosuchmethoderror-org-springframework-web-context-configurablewebappl","body":"This looks like it&#39;s a dependency/version issue. Did you try googling your post title before you posted? <a href=\"http://stackoverflow.com/questions/18601279/java-lang-nosuchmethoderror-org-springframework-web-context-configurablewebappl\" title=\"java lang nosuchmethoderror org springframework web context configurablewebappl\">stackoverflow.com/questions/18601279/&hellip;</a>"},{"owner":{"account_id":1068606,"reputation":11581,"user_id":1068446,"accept_rate":63,"display_name":"dwjohnston"},"score":1,"creation_date":1460434106,"post_id":36563415,"comment_id":60727107,"body_markdown":"Try running `mvn dependency:tree`","body":"Try running <code>mvn dependency:tree</code>"},{"owner":{"account_id":46184,"reputation":4003,"user_id":136363,"display_name":"t0mppa"},"score":0,"creation_date":1460434224,"post_id":36563415,"comment_id":60727137,"body_markdown":"Possible duplicate of: http://stackoverflow.com/questions/27330318/spring-mvc-error-with-nosuchmethoderror","body":"Possible duplicate of: <a href=\"http://stackoverflow.com/questions/27330318/spring-mvc-error-with-nosuchmethoderror\" title=\"spring mvc error with nosuchmethoderror\">stackoverflow.com/questions/27330318/&hellip;</a>"},{"owner":{"account_id":8179858,"reputation":21,"user_id":6157429,"display_name":"gunjan ragtah"},"score":0,"creation_date":1460436015,"post_id":36563415,"comment_id":60727660,"body_markdown":"Well i have all jars of the same version. And i found one link which i could relate to but got no solution. [http://stackoverflow.com/questions/29095327/severe-exception-sending-context-initialized-event-to-listener-instance-of-clas]","body":"Well i have all jars of the same version. And i found one link which i could relate to but got no solution. [<a href=\"http://stackoverflow.com/questions/29095327/severe-exception-sending-context-initialized-event-to-listener-instance-of-clas]\" title=\"severe exception sending context initialized event to listener instance of clas%5d\">stackoverflow.com/questions/29095327/&hellip;</a>"},{"owner":{"account_id":8179858,"reputation":21,"user_id":6157429,"display_name":"gunjan ragtah"},"score":0,"creation_date":1460437779,"post_id":36563415,"comment_id":60728160,"body_markdown":"M using sts plugin in eclipse. Any idea on how can i update spring or my pom.xml?","body":"M using sts plugin in eclipse. Any idea on how can i update spring or my pom.xml?"},{"owner":{"account_id":7568866,"reputation":316,"user_id":5743434,"display_name":"Teemu Ilmonen"},"score":0,"creation_date":1460444248,"post_id":36563415,"comment_id":60731081,"body_markdown":"Open pom.xml in &quot;dependency tree&quot; mode in STS, type `spring` as filter and see if there are inconsistent dependency versions.","body":"Open pom.xml in &quot;dependency tree&quot; mode in STS, type <code>spring</code> as filter and see if there are inconsistent dependency versions."}],"answers":[{"comments":[{"owner":{"account_id":8179858,"reputation":21,"user_id":6157429,"display_name":"gunjan ragtah"},"score":2,"creation_date":1460442521,"post_id":36563783,"comment_id":60730139,"body_markdown":"Well m using same version for all the jars. and how can i ensure if the problem is due to dependency/version?","body":"Well m using same version for all the jars. and how can i ensure if the problem is due to dependency/version?"}],"tags":[],"owner":{"account_id":2578559,"reputation":69,"user_id":2235729,"display_name":"user2235729"},"comment_count":1,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1460436233,"creation_date":1460436233,"answer_id":36563783,"question_id":36563415,"body_markdown":"The code that is executed was compiled for one version of the spring Api but at run time there is a different version.Make sure you don&#39;t include different versions of the same library into your application. When applications are built with tools like Maven this is quite common.","title":"java.lang.NoSuchMethodError: org.springframework.web.context.ConfigurableWebApplicationContext.getEnvironment()","body":"<p>The code that is executed was compiled for one version of the spring Api but at run time there is a different version.Make sure you don't include different versions of the same library into your application. When applications are built with tools like Maven this is quite common.</p>\n"}],"owner":{"account_id":8179858,"reputation":21,"user_id":6157429,"display_name":"gunjan ragtah"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":9930,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1697695390,"creation_date":1460433738,"question_id":36563415,"body_markdown":"I got the following error when trying to run maven project.\r\n\r\nError:\r\n\r\n    SEVERE: StandardWrapper.Throwable\r\n    java.lang.NoSuchMethodError: org.springframework.web.context.ConfigurableWebApplicationContext.getEnvironment()Lorg/springframework/web/context/ConfigurableWebEnvironment;\r\n\tat org.springframework.web.servlet.FrameworkServlet.configureAndRefreshWebApplicationContext(FrameworkServlet.java:641)\r\n\tat org.springframework.web.servlet.FrameworkServlet.createWebApplicationContext(FrameworkServlet.java:598)\r\n\tat org.springframework.web.servlet.FrameworkServlet.createWebApplicationContext(FrameworkServlet.java:661)\r\n\tat org.springframework.web.servlet.FrameworkServlet.initWebApplicationContext(FrameworkServlet.java:517)\r\n\tat org.springframework.web.servlet.FrameworkServlet.initServletBean(FrameworkServlet.java:458)\r\n\tat org.springframework.web.servlet.HttpServletBean.init(HttpServletBean.java:138)\r\n\tat javax.servlet.GenericServlet.init(GenericServlet.java:160)\r\n\tat org.apache.catalina.core.StandardWrapper.initServlet(StandardWrapper.java:1280)\r\n\tat org.apache.catalina.core.StandardWrapper.loadServlet(StandardWrapper.java:1193)\r\n\tat org.apache.catalina.core.StandardWrapper.allocate(StandardWrapper.java:865)\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:136)\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:123)\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:502)\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:171)\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:100)\r\n\tat org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:953)\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:118)\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:408)\r\n\tat org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1041)\r\n\tat org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:603)\r\n\tat org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:312)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\r\n\tat java.lang.Thread.run(Thread.java:745)\r\n\r\n    Apr 12, 2016 9:14:58 AM org.apache.catalina.core.StandardWrapperValve invoke\r\n    SEVERE: Allocate exception for servlet mvc-dispatcher\r\n    java.lang.NoSuchMethodError: org.springframework.web.context.ConfigurableWebApplicationContext.getEnvironment()Lorg/springframework/web/context/ConfigurableWebEnvironment;\r\n\tat org.springframework.web.servlet.FrameworkServlet.configureAndRefreshWebApplicationContext(FrameworkServlet.java:641)\r\n\tat org.springframework.web.servlet.FrameworkServlet.createWebApplicationContext(FrameworkServlet.java:598)\r\n\tat org.springframework.web.servlet.FrameworkServlet.createWebApplicationContext(FrameworkServlet.java:661)\r\n\tat org.springframework.web.servlet.FrameworkServlet.initWebApplicationContext(FrameworkServlet.java:517)\r\n\tat org.springframework.web.servlet.FrameworkServlet.initServletBean(FrameworkServlet.java:458)\r\n\tat org.springframework.web.servlet.HttpServletBean.init(HttpServletBean.java:138)\r\n\tat javax.servlet.GenericServlet.init(GenericServlet.java:160)\r\n\tat org.apache.catalina.core.StandardWrapper.initServlet(StandardWrapper.java:1280)\r\n\tat org.apache.catalina.core.StandardWrapper.loadServlet(StandardWrapper.java:1193)\r\n\tat org.apache.catalina.core.StandardWrapper.allocate(StandardWrapper.java:865)\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:136)\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:123)\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:502)\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:171)\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:100)\r\n\tat org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:953)\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:118)\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:408)\r\n\tat org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1041)\r\n\tat org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:603)\r\n\tat org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:312)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\r\n\tat java.lang.Thread.run(Thread.java:745)\r\n\r\nweb.xml\r\n\r\n    &lt;web-app id=&quot;WebApp_ID&quot; version=&quot;2.4&quot;\r\n    xmlns=&quot;http://java.sun.com/xml/ns/j2ee&quot;\r\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/j2ee\r\n    http://java.sun.com/xml/ns/j2ee/web-app_2_4.xsd&quot;&gt;\r\n \r\n    &lt;display-name&gt;Archetype Created Web Application&lt;/display-name&gt;\r\n \r\n    &lt;!-- Loads Spring Security config file --&gt;\r\n    &lt;context-param&gt;\r\n       &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\r\n       &lt;param-value&gt;        \r\n           /WEB-INF/spring-security.xml,\r\n           /WEB-INF/data-source-cfg.xml\r\n       &lt;/param-value&gt;\r\n    &lt;/context-param&gt;\r\n \r\n    &lt;!-- Spring Security Filter --&gt;\r\n    &lt;filter&gt;\r\n       &lt;filter-name&gt;springSecurityFilterChain&lt;/filter-name&gt;\r\n       &lt;filter-class&gt;org.springframework.web.filter.DelegatingFilterProxy&lt;/filter-class&gt;\r\n    &lt;/filter&gt;\r\n \r\n    &lt;filter-mapping&gt;\r\n       &lt;filter-name&gt;springSecurityFilterChain&lt;/filter-name&gt;\r\n       &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\r\n    &lt;/filter-mapping&gt;\r\n   \r\n    &lt;listener&gt;\r\n       &lt;listener-class&gt;org.springframework.web.context.ContextLoaderListener&lt;/listener-class&gt;\r\n    &lt;/listener&gt;\r\n \r\n \t &lt;!-- Spring MVC --&gt;\r\n     &lt;servlet&gt;\r\n       &lt;servlet-name&gt;mvc-dispatcher&lt;/servlet-name&gt;      \r\n       &lt;servlet-class&gt;\r\n           org.springframework.web.servlet.DispatcherServlet\r\n       &lt;/servlet-class&gt;\r\n     &lt;/servlet&gt;\r\n \r\n     &lt;servlet-mapping&gt;\r\n       &lt;servlet-name&gt;mvc-dispatcher&lt;/servlet-name&gt;\r\n       &lt;url-pattern&gt;/&lt;/url-pattern&gt;\r\n     &lt;/servlet-mapping&gt;\r\n \r\n     &lt;/web-app&gt;\r\n\r\nmvc-dispatcher-servlet.xml\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\r\n    &lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\r\n    xmlns:context=&quot;http://www.springframework.org/schema/context&quot;\r\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    xsi:schemaLocation=&quot;\r\n      http://www.springframework.org/schema/beans    \r\n      http://www.springframework.org/schema/beans/spring-beans-4.1.xsd\r\n      http://www.springframework.org/schema/context\r\n      http://www.springframework.org/schema/context/spring-context-4.1.xsd&quot;&gt;\r\n \r\n    &lt;context:component-scan base-package=&quot;main.java&quot; /&gt;\r\n    &lt;context:annotation-config /&gt;\r\n  \r\n    &lt;!-- Factory bean that creates the Mongo instance --&gt;\r\n\t&lt;bean id=&quot;mongo&quot;       class=&quot;org.springframework.data.mongodb.core.MongoFactoryBean&quot;&gt;\r\n\t\t&lt;property name=&quot;host&quot; value=&quot;localhost&quot; /&gt;\r\n\t&lt;/bean&gt;\r\n\t\r\n\t&lt;!-- MongoTemplate for connecting and querying the documents in the database --&gt;\r\n\t&lt;bean id=&quot;mongoTemplate&quot; class=&quot;org.springframework.data.mongodb.core.MongoTemplate&quot;&gt;\r\n\t\t&lt;constructor-arg name=&quot;mongo&quot; ref=&quot;mongo&quot; /&gt;\r\n\t\t&lt;constructor-arg name=&quot;databaseName&quot; value=&quot;test&quot; /&gt;\r\n\t&lt;/bean&gt;\r\n \r\n\t&lt;!-- Use this post processor to translate any MongoExceptions thrown in @Repository annotated classes --&gt;\r\n\t&lt;bean class=&quot;org.springframework.dao.annotation.PersistenceExceptionTranslationPostProcessor&quot; /&gt;\r\n    \r\n    &lt;bean\r\n    class=&quot;org.springframework.web.servlet.view.InternalResourceViewResolver&quot;&gt;\r\n    &lt;property name=&quot;prefix&quot;&gt;\r\n      &lt;value&gt;/WEB-INF/pages/&lt;/value&gt;\r\n    &lt;/property&gt;\r\n    &lt;property name=&quot;suffix&quot;&gt;\r\n      &lt;value&gt;.jsp&lt;/value&gt;\r\n    &lt;/property&gt;\r\n    &lt;/bean&gt;\r\n \r\n    &lt;/beans&gt;\r\n\r\nMany solutions said that some jars could be missing although i have added most of them. What could be the possible reason for this error. Please give some suggestions. Thanks","title":"java.lang.NoSuchMethodError: org.springframework.web.context.ConfigurableWebApplicationContext.getEnvironment()","body":"<p>I got the following error when trying to run maven project.</p>\n\n<p>Error:</p>\n\n<pre><code>SEVERE: StandardWrapper.Throwable\njava.lang.NoSuchMethodError: org.springframework.web.context.ConfigurableWebApplicationContext.getEnvironment()Lorg/springframework/web/context/ConfigurableWebEnvironment;\nat org.springframework.web.servlet.FrameworkServlet.configureAndRefreshWebApplicationContext(FrameworkServlet.java:641)\nat org.springframework.web.servlet.FrameworkServlet.createWebApplicationContext(FrameworkServlet.java:598)\nat org.springframework.web.servlet.FrameworkServlet.createWebApplicationContext(FrameworkServlet.java:661)\nat org.springframework.web.servlet.FrameworkServlet.initWebApplicationContext(FrameworkServlet.java:517)\nat org.springframework.web.servlet.FrameworkServlet.initServletBean(FrameworkServlet.java:458)\nat org.springframework.web.servlet.HttpServletBean.init(HttpServletBean.java:138)\nat javax.servlet.GenericServlet.init(GenericServlet.java:160)\nat org.apache.catalina.core.StandardWrapper.initServlet(StandardWrapper.java:1280)\nat org.apache.catalina.core.StandardWrapper.loadServlet(StandardWrapper.java:1193)\nat org.apache.catalina.core.StandardWrapper.allocate(StandardWrapper.java:865)\nat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:136)\nat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:123)\nat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:502)\nat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:171)\nat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:100)\nat org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:953)\nat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:118)\nat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:408)\nat org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1041)\nat org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:603)\nat org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:312)\nat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\nat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\nat java.lang.Thread.run(Thread.java:745)\n\nApr 12, 2016 9:14:58 AM org.apache.catalina.core.StandardWrapperValve invoke\nSEVERE: Allocate exception for servlet mvc-dispatcher\njava.lang.NoSuchMethodError: org.springframework.web.context.ConfigurableWebApplicationContext.getEnvironment()Lorg/springframework/web/context/ConfigurableWebEnvironment;\nat org.springframework.web.servlet.FrameworkServlet.configureAndRefreshWebApplicationContext(FrameworkServlet.java:641)\nat org.springframework.web.servlet.FrameworkServlet.createWebApplicationContext(FrameworkServlet.java:598)\nat org.springframework.web.servlet.FrameworkServlet.createWebApplicationContext(FrameworkServlet.java:661)\nat org.springframework.web.servlet.FrameworkServlet.initWebApplicationContext(FrameworkServlet.java:517)\nat org.springframework.web.servlet.FrameworkServlet.initServletBean(FrameworkServlet.java:458)\nat org.springframework.web.servlet.HttpServletBean.init(HttpServletBean.java:138)\nat javax.servlet.GenericServlet.init(GenericServlet.java:160)\nat org.apache.catalina.core.StandardWrapper.initServlet(StandardWrapper.java:1280)\nat org.apache.catalina.core.StandardWrapper.loadServlet(StandardWrapper.java:1193)\nat org.apache.catalina.core.StandardWrapper.allocate(StandardWrapper.java:865)\nat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:136)\nat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:123)\nat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:502)\nat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:171)\nat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:100)\nat org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:953)\nat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:118)\nat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:408)\nat org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1041)\nat org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:603)\nat org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:312)\nat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\nat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\nat java.lang.Thread.run(Thread.java:745)\n</code></pre>\n\n<p>web.xml</p>\n\n<pre><code>&lt;web-app id=\"WebApp_ID\" version=\"2.4\"\nxmlns=\"http://java.sun.com/xml/ns/j2ee\"\nxmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\nxsi:schemaLocation=\"http://java.sun.com/xml/ns/j2ee\nhttp://java.sun.com/xml/ns/j2ee/web-app_2_4.xsd\"&gt;\n\n&lt;display-name&gt;Archetype Created Web Application&lt;/display-name&gt;\n\n&lt;!-- Loads Spring Security config file --&gt;\n&lt;context-param&gt;\n   &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\n   &lt;param-value&gt;        \n       /WEB-INF/spring-security.xml,\n       /WEB-INF/data-source-cfg.xml\n   &lt;/param-value&gt;\n&lt;/context-param&gt;\n\n&lt;!-- Spring Security Filter --&gt;\n&lt;filter&gt;\n   &lt;filter-name&gt;springSecurityFilterChain&lt;/filter-name&gt;\n   &lt;filter-class&gt;org.springframework.web.filter.DelegatingFilterProxy&lt;/filter-class&gt;\n&lt;/filter&gt;\n\n&lt;filter-mapping&gt;\n   &lt;filter-name&gt;springSecurityFilterChain&lt;/filter-name&gt;\n   &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\n&lt;/filter-mapping&gt;\n\n&lt;listener&gt;\n   &lt;listener-class&gt;org.springframework.web.context.ContextLoaderListener&lt;/listener-class&gt;\n&lt;/listener&gt;\n\n &lt;!-- Spring MVC --&gt;\n &lt;servlet&gt;\n   &lt;servlet-name&gt;mvc-dispatcher&lt;/servlet-name&gt;      \n   &lt;servlet-class&gt;\n       org.springframework.web.servlet.DispatcherServlet\n   &lt;/servlet-class&gt;\n &lt;/servlet&gt;\n\n &lt;servlet-mapping&gt;\n   &lt;servlet-name&gt;mvc-dispatcher&lt;/servlet-name&gt;\n   &lt;url-pattern&gt;/&lt;/url-pattern&gt;\n &lt;/servlet-mapping&gt;\n\n &lt;/web-app&gt;\n</code></pre>\n\n<p>mvc-dispatcher-servlet.xml</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n\n&lt;beans xmlns=\"http://www.springframework.org/schema/beans\"\nxmlns:context=\"http://www.springframework.org/schema/context\"\nxmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\nxsi:schemaLocation=\"\n  http://www.springframework.org/schema/beans    \n  http://www.springframework.org/schema/beans/spring-beans-4.1.xsd\n  http://www.springframework.org/schema/context\n  http://www.springframework.org/schema/context/spring-context-4.1.xsd\"&gt;\n\n&lt;context:component-scan base-package=\"main.java\" /&gt;\n&lt;context:annotation-config /&gt;\n\n&lt;!-- Factory bean that creates the Mongo instance --&gt;\n&lt;bean id=\"mongo\"       class=\"org.springframework.data.mongodb.core.MongoFactoryBean\"&gt;\n    &lt;property name=\"host\" value=\"localhost\" /&gt;\n&lt;/bean&gt;\n\n&lt;!-- MongoTemplate for connecting and querying the documents in the database --&gt;\n&lt;bean id=\"mongoTemplate\" class=\"org.springframework.data.mongodb.core.MongoTemplate\"&gt;\n    &lt;constructor-arg name=\"mongo\" ref=\"mongo\" /&gt;\n    &lt;constructor-arg name=\"databaseName\" value=\"test\" /&gt;\n&lt;/bean&gt;\n\n&lt;!-- Use this post processor to translate any MongoExceptions thrown in @Repository annotated classes --&gt;\n&lt;bean class=\"org.springframework.dao.annotation.PersistenceExceptionTranslationPostProcessor\" /&gt;\n\n&lt;bean\nclass=\"org.springframework.web.servlet.view.InternalResourceViewResolver\"&gt;\n&lt;property name=\"prefix\"&gt;\n  &lt;value&gt;/WEB-INF/pages/&lt;/value&gt;\n&lt;/property&gt;\n&lt;property name=\"suffix\"&gt;\n  &lt;value&gt;.jsp&lt;/value&gt;\n&lt;/property&gt;\n&lt;/bean&gt;\n\n&lt;/beans&gt;\n</code></pre>\n\n<p>Many solutions said that some jars could be missing although i have added most of them. What could be the possible reason for this error. Please give some suggestions. Thanks</p>\n"},{"tags":["java","trace","jaeger","helidon"],"answers":[{"tags":[],"owner":{"account_id":72101,"reputation":15566,"user_id":208288,"accept_rate":67,"display_name":"Laird Nelson"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1607372112,"creation_date":1607371254,"answer_id":65188568,"question_id":65183709,"body_markdown":"Whether you&#39;re using Helidon SE or Helidon MP, configuration sources are &quot;stacked&quot; and property scalars stand alone.  So if you do not specify:\r\n```\r\ntracing:\r\n  host:\r\n```\r\n…at all, and if you&#39;ve ensured that an environment-variable-reading configuration source has been installed, then it will be read from the environment.\r\n\r\nYou can read more about Helidon SE&#39;s proprietary configuration system here: https://helidon.io/docs/v2/#/se/config/01_introduction\r\n\r\nYou can read more about MicroProfile&#39;s configuration system (which Helidon MP implements) here: https://download.eclipse.org/microprofile/microprofile-3.3/microprofile-spec-3.3.html#mp-config","title":"How to pass env variable into application.yaml file in Helidon","body":"<p>Whether you're using Helidon SE or Helidon MP, configuration sources are &quot;stacked&quot; and property scalars stand alone.  So if you do not specify:</p>\n<pre><code>tracing:\n  host:\n</code></pre>\n<p>…at all, and if you've ensured that an environment-variable-reading configuration source has been installed, then it will be read from the environment.</p>\n<p>You can read more about Helidon SE's proprietary configuration system here: <a href=\"https://helidon.io/docs/v2/#/se/config/01_introduction\" rel=\"nofollow noreferrer\">https://helidon.io/docs/v2/#/se/config/01_introduction</a></p>\n<p>You can read more about MicroProfile's configuration system (which Helidon MP implements) here: <a href=\"https://download.eclipse.org/microprofile/microprofile-3.3/microprofile-spec-3.3.html#mp-config\" rel=\"nofollow noreferrer\">https://download.eclipse.org/microprofile/microprofile-3.3/microprofile-spec-3.3.html#mp-config</a></p>\n"},{"tags":[],"owner":{"account_id":183306,"reputation":9436,"user_id":418599,"accept_rate":52,"display_name":"Antonio Petricca"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1621405692,"creation_date":1621403997,"answer_id":67597725,"question_id":65183709,"body_markdown":"The `application.yaml` is like a static properties file. It is not involved in variables substitution.\r\n\r\nRead carefully the paragraph **Source precedence for default configuration** at https://helidon.io/docs/latest/#/mp/guides/03_config and observe how to override the properties inside your embedded configuration file(s).\r\n\r\nIn that scenario you may override the properties you want simply by passing to the **java** command line a custom variable as you expect. \r\n\r\nFor example, you can accomplish your goal as described below:\r\n\r\n```yaml\r\ntracing:\r\n  service: &quot;test-service&quot;\r\n  host: default-host-name\r\n  port: 8080\r\n```\r\n\r\n```shell\r\njava -Dtracing.host=remote-hostname -Dtracing.port=8080 -jar your_artifact.jar\r\n```\r\n\r\nor\r\n\r\n\r\n\r\n```shell\r\nexport TRACING_HOST=remote-hostname\r\nexport TRACING_PORT=8080\r\n\r\njava -jar your_artifact.jar\r\n```","title":"How to pass env variable into application.yaml file in Helidon","body":"<p>The <code>application.yaml</code> is like a static properties file. It is not involved in variables substitution.</p>\n<p>Read carefully the paragraph <strong>Source precedence for default configuration</strong> at <a href=\"https://helidon.io/docs/latest/#/mp/guides/03_config\" rel=\"nofollow noreferrer\">https://helidon.io/docs/latest/#/mp/guides/03_config</a> and observe how to override the properties inside your embedded configuration file(s).</p>\n<p>In that scenario you may override the properties you want simply by passing to the <strong>java</strong> command line a custom variable as you expect.</p>\n<p>For example, you can accomplish your goal as described below:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>tracing:\n  service: &quot;test-service&quot;\n  host: default-host-name\n  port: 8080\n</code></pre>\n<pre class=\"lang-sh prettyprint-override\"><code>java -Dtracing.host=remote-hostname -Dtracing.port=8080 -jar your_artifact.jar\n</code></pre>\n<p>or</p>\n<pre class=\"lang-sh prettyprint-override\"><code>export TRACING_HOST=remote-hostname\nexport TRACING_PORT=8080\n\njava -jar your_artifact.jar\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4132184,"reputation":1939,"user_id":3409387,"accept_rate":100,"display_name":"anandbibek"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697694998,"creation_date":1697694998,"answer_id":77321268,"question_id":65183709,"body_markdown":"For Helidon 3, this seems to be the working convention\r\n\r\nFor a config yaml value corresponding to this, \r\n\r\n    app:\r\n      persistenceProvider:\r\n        className: com.example.provider.InMemoryProvider\r\n\r\nYou need to export variable like this \r\n\r\n    export app_persistenceProvider_className=com.example.provider.InMemoryProvider","title":"How to pass env variable into application.yaml file in Helidon","body":"<p>For Helidon 3, this seems to be the working convention</p>\n<p>For a config yaml value corresponding to this,</p>\n<pre><code>app:\n  persistenceProvider:\n    className: com.example.provider.InMemoryProvider\n</code></pre>\n<p>You need to export variable like this</p>\n<pre><code>export app_persistenceProvider_className=com.example.provider.InMemoryProvider\n</code></pre>\n"}],"owner":{"account_id":10017775,"reputation":11,"user_id":7408439,"display_name":"sono"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2378,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1697694998,"creation_date":1607351666,"question_id":65183709,"body_markdown":"I want to pass something like this \r\n\r\n```yaml\r\n    tracing:\r\n      service: &quot;test-service&quot;\r\n      host: ${TRACING_AGENT_HOST}\r\n      port: ${PORT}\r\n```","title":"How to pass env variable into application.yaml file in Helidon","body":"<p>I want to pass something like this</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>    tracing:\n      service: &quot;test-service&quot;\n      host: ${TRACING_AGENT_HOST}\n      port: ${PORT}\n</code></pre>\n"},{"tags":["java","spring-boot","graphql","otel"],"owner":{"account_id":28272157,"reputation":15,"user_id":21615169,"display_name":"Aayush"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":97,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697694757,"creation_date":1697694757,"question_id":77321245,"body_markdown":"I am using SpringBoot and Graphql for a module as well using OTEL. I need spanID and traceID in the logs of the application. \r\n\r\n - trace_id: OTel trace trace id, must be present in every log record\r\n   produced in request context.\r\n-  span_id:\tOTel trace span id, must be\r\n   present in every log record produced in request context\r\n\r\nIn the Query of Subgraph, I tried to write \r\n\r\n  **System.out.println(Span.current().getSpanContext().getTraceId());**\r\n\r\nBut getting for every request: \r\n\r\n00000000000000000000000000000000\r\n\r\n\r\nCan anyone tell me what is an appropriate way to generate traceID and SpanID?\r\n\r\n","title":"How to get TraceId and SpanID from OTEL Tracing","body":"<p>I am using SpringBoot and Graphql for a module as well using OTEL. I need spanID and traceID in the logs of the application.</p>\n<ul>\n<li>trace_id: OTel trace trace id, must be present in every log record\nproduced in request context.</li>\n<li>span_id: OTel trace span id, must be\npresent in every log record produced in request context</li>\n</ul>\n<p>In the Query of Subgraph, I tried to write</p>\n<p><strong>System.out.println(Span.current().getSpanContext().getTraceId());</strong></p>\n<p>But getting for every request:</p>\n<p>00000000000000000000000000000000</p>\n<p>Can anyone tell me what is an appropriate way to generate traceID and SpanID?</p>\n"},{"tags":["java","google-cloud-platform","minecraft","google-api-java-client","minecraft-fabric"],"answers":[{"tags":[],"owner":{"account_id":29705516,"reputation":1,"user_id":22766450,"display_name":"Truthy_dev"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697694236,"creation_date":1697694061,"answer_id":77321204,"question_id":77295142,"body_markdown":"I assume you use the default build.gradle, i would recommend switching to fabric loom.\r\n\r\nhttps://github.com/FabricMC/fabric-loom\r\n\r\nI hope this helps :) had the same issue a while ago.","title":"NoClassDefFoundError: com/google/auth/Credentials occuring after jar compilation, but not in dev environment","body":"<p>I assume you use the default build.gradle, i would recommend switching to fabric loom.</p>\n<p><a href=\"https://github.com/FabricMC/fabric-loom\" rel=\"nofollow noreferrer\">https://github.com/FabricMC/fabric-loom</a></p>\n<p>I hope this helps :) had the same issue a while ago.</p>\n"}],"owner":{"account_id":28721597,"reputation":1,"user_id":21995281,"display_name":"xxhawk8xx"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1697694236,"creation_date":1697337542,"question_id":77295142,"body_markdown":"**Background**\r\n\r\nI have built a mod for Minecraft, and I am now at the point where it is ready to be built into a jar and run it in the game. My IDE is Intellij, the framework I am using is Fabric, and I am using Gradle as the build tool. I am also using some google api&#39;s in my mod, brought in as dependencies in my build.gradle file.\r\n\r\n**Problem**\r\n\r\nThe mod works as intended when I boot it up through my IDE. However, when I build the mod into a jar, and put the mod in the mod folder such that the actual Minecraft exe can load it, the game crashes when I begin one of the processes in the mod that uses a google api call. It crashes due to the following exception:\r\n\r\n```\r\njava.lang.NoClassDefFoundError: com/google/auth/Credentials\r\n```\r\n\r\nIn this block of code (specifically at the first reference to the GoogleCredentials class):\r\n\r\n```\r\nString credentials_path = GOOGLE_API_KEY_PATH_STRING;\r\n        GoogleCredentials credentials = null;\r\n        try (FileInputStream serviceAccountStream = new FileInputStream(credentials_path)) {\r\n            credentials = GoogleCredentials.fromStream(serviceAccountStream);\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n        SpeechSettings settings = null;\r\n        try {\r\n            settings = SpeechSettings.newBuilder()\r\n                    .setCredentialsProvider(FixedCredentialsProvider.create(credentials))\r\n                    .build();\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n```\r\n\r\nI have these Google imports in that class:\r\n\r\n```\r\nimport com.google.api.gax.core.FixedCredentialsProvider;\r\nimport com.google.api.gax.rpc.ClientStream;\r\nimport com.google.api.gax.rpc.ResponseObserver;\r\nimport com.google.api.gax.rpc.StreamController;\r\nimport com.google.auth.oauth2.GoogleCredentials;\r\nimport com.google.cloud.speech.v1.*;\r\nimport com.google.protobuf.ByteString;\r\n```\r\n\r\nHere&#39;s the dependencies in my build.gradle file:\r\n\r\n```\r\ndependencies {\r\n\t// To change the versions see the gradle.properties file\r\n\tminecraft &quot;com.mojang:minecraft:${project.minecraft_version}&quot;\r\n\tmappings &quot;net.fabricmc:yarn:${project.yarn_mappings}:v2&quot;\r\n\tmodImplementation &quot;net.fabricmc:fabric-loader:${project.loader_version}&quot;\r\n\r\n\t// Fabric API. This is technically optional, but you probably want it anyway.\r\n\tmodImplementation &quot;net.fabricmc.fabric-api:fabric-api:${project.fabric_version}&quot;\r\n\timplementation &#39;io.github.cdimascio:java-dotenv:5.2.2&#39;\r\n\timplementation &#39;com.googlecode.soundlibs:tritonus-share:0.3.7.4&#39;\r\n\timplementation &#39;com.googlecode.soundlibs:tritonus-all:0.3.7.2&#39;\r\n\timplementation &#39;com.googlecode.soundlibs:jlayer:1.0.1.4&#39;\r\n\timplementation &#39;com.googlecode.soundlibs:jorbis:0.0.17.4&#39;\r\n\timplementation &#39;com.googlecode.soundlibs:vorbisspi:1.0.3.3&#39;\r\n\timplementation &#39;com.googlecode.soundlibs:basicplayer:3.0.0.0&#39;\r\n\timplementation &#39;com.google.guava:guava:24.1-jre&#39;\r\n\timplementation &#39;org.threeten:threetenbp:1.3.6&#39;\r\n\timplementation &#39;com.google.http-client:google-http-client:1.22.0&#39;\r\n\timplementation &#39;com.google.cloud:google-cloud-texttospeech:2.18.0&#39;\r\n        implementation &#39;com.google.auth:google-auth-library-oauth2-http:1.16.0&#39;\r\n\timplementation &#39;com.fasterxml.jackson.core:jackson-annotations:2.13.0&#39;\r\n\timplementation &#39;com.fasterxml.jackson.core:jackson-databind:2.12.5&#39;\r\n\timplementation &#39;org.slf4j:slf4j-api:1.7.32&#39;\r\n\timplementation &#39;com.google.code.gson:gson:2.10.1&#39;\r\n\tmodRuntimeOnly &quot;maven.modrinth:simple-voice-chat:fabric-1.20.1-2.4.24&quot;\r\n}\r\n```\r\n\r\nNow, I have pretty much no idea why this is happening. As you can see, the authentication library from Google is present here, and it builds and runs perfectly fine in my development environment. I do not understand why it can&#39;t resolve the dependency after it has been built into a .jar file.\r\n\r\nThe only &#39;lead&#39; that I have on the issue is that, one of these other Google dependencies may have the authentication library as a dependency, so maybe that is crossing some wires? Not sure. Help would be very much appreciated...","title":"NoClassDefFoundError: com/google/auth/Credentials occuring after jar compilation, but not in dev environment","body":"<p><strong>Background</strong></p>\n<p>I have built a mod for Minecraft, and I am now at the point where it is ready to be built into a jar and run it in the game. My IDE is Intellij, the framework I am using is Fabric, and I am using Gradle as the build tool. I am also using some google api's in my mod, brought in as dependencies in my build.gradle file.</p>\n<p><strong>Problem</strong></p>\n<p>The mod works as intended when I boot it up through my IDE. However, when I build the mod into a jar, and put the mod in the mod folder such that the actual Minecraft exe can load it, the game crashes when I begin one of the processes in the mod that uses a google api call. It crashes due to the following exception:</p>\n<pre><code>java.lang.NoClassDefFoundError: com/google/auth/Credentials\n</code></pre>\n<p>In this block of code (specifically at the first reference to the GoogleCredentials class):</p>\n<pre><code>String credentials_path = GOOGLE_API_KEY_PATH_STRING;\n        GoogleCredentials credentials = null;\n        try (FileInputStream serviceAccountStream = new FileInputStream(credentials_path)) {\n            credentials = GoogleCredentials.fromStream(serviceAccountStream);\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n        SpeechSettings settings = null;\n        try {\n            settings = SpeechSettings.newBuilder()\n                    .setCredentialsProvider(FixedCredentialsProvider.create(credentials))\n                    .build();\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n</code></pre>\n<p>I have these Google imports in that class:</p>\n<pre><code>import com.google.api.gax.core.FixedCredentialsProvider;\nimport com.google.api.gax.rpc.ClientStream;\nimport com.google.api.gax.rpc.ResponseObserver;\nimport com.google.api.gax.rpc.StreamController;\nimport com.google.auth.oauth2.GoogleCredentials;\nimport com.google.cloud.speech.v1.*;\nimport com.google.protobuf.ByteString;\n</code></pre>\n<p>Here's the dependencies in my build.gradle file:</p>\n<pre><code>dependencies {\n    // To change the versions see the gradle.properties file\n    minecraft &quot;com.mojang:minecraft:${project.minecraft_version}&quot;\n    mappings &quot;net.fabricmc:yarn:${project.yarn_mappings}:v2&quot;\n    modImplementation &quot;net.fabricmc:fabric-loader:${project.loader_version}&quot;\n\n    // Fabric API. This is technically optional, but you probably want it anyway.\n    modImplementation &quot;net.fabricmc.fabric-api:fabric-api:${project.fabric_version}&quot;\n    implementation 'io.github.cdimascio:java-dotenv:5.2.2'\n    implementation 'com.googlecode.soundlibs:tritonus-share:0.3.7.4'\n    implementation 'com.googlecode.soundlibs:tritonus-all:0.3.7.2'\n    implementation 'com.googlecode.soundlibs:jlayer:1.0.1.4'\n    implementation 'com.googlecode.soundlibs:jorbis:0.0.17.4'\n    implementation 'com.googlecode.soundlibs:vorbisspi:1.0.3.3'\n    implementation 'com.googlecode.soundlibs:basicplayer:3.0.0.0'\n    implementation 'com.google.guava:guava:24.1-jre'\n    implementation 'org.threeten:threetenbp:1.3.6'\n    implementation 'com.google.http-client:google-http-client:1.22.0'\n    implementation 'com.google.cloud:google-cloud-texttospeech:2.18.0'\n        implementation 'com.google.auth:google-auth-library-oauth2-http:1.16.0'\n    implementation 'com.fasterxml.jackson.core:jackson-annotations:2.13.0'\n    implementation 'com.fasterxml.jackson.core:jackson-databind:2.12.5'\n    implementation 'org.slf4j:slf4j-api:1.7.32'\n    implementation 'com.google.code.gson:gson:2.10.1'\n    modRuntimeOnly &quot;maven.modrinth:simple-voice-chat:fabric-1.20.1-2.4.24&quot;\n}\n</code></pre>\n<p>Now, I have pretty much no idea why this is happening. As you can see, the authentication library from Google is present here, and it builds and runs perfectly fine in my development environment. I do not understand why it can't resolve the dependency after it has been built into a .jar file.</p>\n<p>The only 'lead' that I have on the issue is that, one of these other Google dependencies may have the authentication library as a dependency, so maybe that is crossing some wires? Not sure. Help would be very much appreciated...</p>\n"},{"tags":["java","intellij-idea","parameters","inlay-hints"],"answers":[{"comments":[{"owner":{"account_id":13481515,"reputation":422,"user_id":11485264,"display_name":"hohserg"},"score":0,"creation_date":1595802635,"post_id":63106241,"comment_id":111592841,"body_markdown":"Yeah, I did it: https://youtrack.jetbrains.com/issue/IDEA-246673","body":"Yeah, I did it: <a href=\"https://youtrack.jetbrains.com/issue/IDEA-246673\" rel=\"nofollow noreferrer\">youtrack.jetbrains.com/issue/IDEA-246673</a>"}],"tags":[],"owner":{"account_id":36734,"reputation":392137,"user_id":104891,"display_name":"CrazyCoder"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1595837757,"creation_date":1595801304,"answer_id":63106241,"question_id":63106115,"body_markdown":"There is no way to do it for the code range, only for certain methods. Feature request [would be welcome](https://youtrack.jetbrains.com/newIssue?project=IDEA).","title":"How to turn off parameter name hints for code region in IntelliJ IDEA?","body":"<p>There is no way to do it for the code range, only for certain methods. Feature request <a href=\"https://youtrack.jetbrains.com/newIssue?project=IDEA\" rel=\"nofollow noreferrer\">would be welcome</a>.</p>\n"}],"owner":{"account_id":13481515,"reputation":422,"user_id":11485264,"display_name":"hohserg"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":91,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1697693572,"creation_date":1595800446,"question_id":63106115,"body_markdown":"I have a chunk of code where I didn&#39;t want to see hints of parameter names.\r\n\r\nI know there is a comment for turning off code formatting for a chunk of code (`//@formatter:off`), but I can&#39;t find something similar for parameter names hints.\r\n\r\nThere&#39;s only local setting for blacklisting methods:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ZBYW3.png\r\n\r\n\r\nBut I don&#39;t want anyone to see parameters hint for my chunk of code.\r\nAny ideas?","title":"How to turn off parameter name hints for code region in IntelliJ IDEA?","body":"<p>I have a chunk of code where I didn't want to see hints of parameter names.</p>\n<p>I know there is a comment for turning off code formatting for a chunk of code (<code>//@formatter:off</code>), but I can't find something similar for parameter names hints.</p>\n<p>There's only local setting for blacklisting methods:</p>\n<p><a href=\"https://i.stack.imgur.com/ZBYW3.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ZBYW3.png\" alt=\"enter image description here\" /></a></p>\n<p>But I don't want anyone to see parameters hint for my chunk of code.\nAny ideas?</p>\n"},{"tags":["java","java-9"],"comments":[{"owner":{"account_id":889764,"reputation":4441,"user_id":928276,"accept_rate":75,"display_name":"soorapadman"},"score":0,"creation_date":1553866448,"post_id":55418248,"comment_id":97556151,"body_markdown":"Im not sure about best practice `singletonList` will accept only one element . but Not `List.of` .","body":"Im not sure about best practice <code>singletonList</code> will accept only one element . but Not <code>List.of</code> ."},{"owner":{"account_id":2427679,"reputation":453,"user_id":2119280,"accept_rate":62,"display_name":"rennajihi"},"score":0,"creation_date":1553872545,"post_id":55418248,"comment_id":97560173,"body_markdown":"I mean what is it preferable when creating immutable list with single element. I prefer using `List.of`, but it&#39;s more suited to this use case in terms of performance?","body":"I mean what is it preferable when creating immutable list with single element. I prefer using <code>List.of</code>, but it&#39;s more suited to this use case in terms of performance?"}],"answers":[{"comments":[{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1554067281,"post_id":55418416,"comment_id":97606206,"body_markdown":"Beware that even calling `contains(null)` is not supported on a list created via `List.of(...)`","body":"Beware that even calling <code>contains(null)</code> is not supported on a list created via <code>List.of(...)</code>"}],"tags":[],"owner":{"account_id":13798611,"reputation":37885,"user_id":9959152,"display_name":"Ryuzaki L"},"comment_count":1,"down_vote_count":1,"up_vote_count":8,"is_accepted":true,"score":7,"last_activity_date":1553866363,"creation_date":1553865827,"answer_id":55418416,"question_id":55418248,"body_markdown":"Prefer using factory method \r\n\r\n    List&lt;String&gt; immutableList1 = List.of(&quot;one&quot;);\r\n\r\n**Because** they disallow null elements is one of the benefit and also factory methods in `List` interface are handy to add multiple objects and creates immutable List\r\n\r\n&gt;They disallow null elements. Attempts to create them with null elements result in NullPointerException.\r\n\r\nWhere `Collections.singletonList` allows `null` value\r\n\r\n    List&lt;String&gt; l = Collections.singletonList(null);\r\n    System.out.println(l);   //[null]\r\n\r\n","title":"Using List.of() for immutable list with single element instead of Collections.singletonList()","body":"<p>Prefer using factory method </p>\n\n<pre><code>List&lt;String&gt; immutableList1 = List.of(\"one\");\n</code></pre>\n\n<p><strong>Because</strong> they disallow null elements is one of the benefit and also factory methods in <code>List</code> interface are handy to add multiple objects and creates immutable List</p>\n\n<blockquote>\n  <p>They disallow null elements. Attempts to create them with null elements result in NullPointerException.</p>\n</blockquote>\n\n<p>Where <code>Collections.singletonList</code> allows <code>null</code> value</p>\n\n<pre><code>List&lt;String&gt; l = Collections.singletonList(null);\nSystem.out.println(l);   //[null]\n</code></pre>\n"}],"owner":{"account_id":2427679,"reputation":453,"user_id":2119280,"accept_rate":62,"display_name":"rennajihi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2108,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":55418416,"answer_count":1,"score":9,"last_activity_date":1697693517,"creation_date":1553865324,"question_id":55418248,"body_markdown":"Java 9 introduced factory methods to create *immutable* lists with [`List.of()`][1] method. \r\n\r\nWhich is more suitable to create an immutable list of one element?\r\n\r\n - `List&lt;String&gt; immutableList1 = List.of(&quot;one&quot;);`\r\n - `List&lt;String&gt; immutableList2 = Collections.singletonList(&quot;one&quot;);`\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/9/docs/api/java/util/List.html#of-E-","title":"Using List.of() for immutable list with single element instead of Collections.singletonList()","body":"<p>Java 9 introduced factory methods to create <em>immutable</em> lists with <a href=\"https://docs.oracle.com/javase/9/docs/api/java/util/List.html#of-E-\" rel=\"nofollow noreferrer\"><code>List.of()</code></a> method.</p>\n<p>Which is more suitable to create an immutable list of one element?</p>\n<ul>\n<li><code>List&lt;String&gt; immutableList1 = List.of(&quot;one&quot;);</code></li>\n<li><code>List&lt;String&gt; immutableList2 = Collections.singletonList(&quot;one&quot;);</code></li>\n</ul>\n"},{"tags":["java","spring","spring-ws"],"comments":[{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1697693486,"post_id":77321167,"comment_id":136312391,"body_markdown":"Yes it is optional but only of there is no namespace in the xsd/wsdl as well. In short it has to match the value from the contract else it will not match incoming requests.","body":"Yes it is optional but only of there is no namespace in the xsd/wsdl as well. In short it has to match the value from the contract else it will not match incoming requests."}],"owner":{"account_id":15678589,"reputation":283,"user_id":11313182,"display_name":"Dhyey Vachhani"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":10,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697693437,"creation_date":1697693437,"question_id":77321167,"body_markdown":"I am getting http code 404 after removing namespace field from @PayloadRoot where it was working when namespace was present there. Documentation says namespace is an optional field but after removing it its behavior is changed.\r\n\r\n**With namespace:**\r\n\r\n    @PayloadRoot(namespace = NAMESPACE, localPart = &quot;doSomething&quot;)\r\n    @ResponsePayload\r\n    public DoSomethingResponse update(@RequestPayload DoSomething doSomething) {\r\n        return processRequest(doSomething);\r\n    }\r\n\r\n**Without namespace:**\r\n\r\n    @PayloadRoot(localPart = &quot;doSomething&quot;)\r\n    @ResponsePayload\r\n    public DoSomethingResponse update(@RequestPayload DoSomething doSomething) {\r\n        return processRequest(doSomething);\r\n    }\r\n\r\nI am new to this part and do not understand this behavior. \r\n\r\nIs it possible to have the @PayloadRoot without namespace here ? as that is the current requirement. \r\n\r\n","title":"SOAP request returns code 404 after removing namespace from @PayloadRoot","body":"<p>I am getting http code 404 after removing namespace field from @PayloadRoot where it was working when namespace was present there. Documentation says namespace is an optional field but after removing it its behavior is changed.</p>\n<p><strong>With namespace:</strong></p>\n<pre><code>@PayloadRoot(namespace = NAMESPACE, localPart = &quot;doSomething&quot;)\n@ResponsePayload\npublic DoSomethingResponse update(@RequestPayload DoSomething doSomething) {\n    return processRequest(doSomething);\n}\n</code></pre>\n<p><strong>Without namespace:</strong></p>\n<pre><code>@PayloadRoot(localPart = &quot;doSomething&quot;)\n@ResponsePayload\npublic DoSomethingResponse update(@RequestPayload DoSomething doSomething) {\n    return processRequest(doSomething);\n}\n</code></pre>\n<p>I am new to this part and do not understand this behavior.</p>\n<p>Is it possible to have the @PayloadRoot without namespace here ? as that is the current requirement.</p>\n"},{"tags":["java","svg","icons","vaadin","generator"],"comments":[{"owner":{"account_id":2968061,"reputation":17682,"user_id":2520800,"display_name":"Danny &#39;365CSI&#39; Engelman"},"score":1,"creation_date":1697569077,"post_id":77311418,"comment_id":136295544,"body_markdown":"Maybe a weird idea; contact the vendor: https://github.com/vaadin/vaadin-icons","body":"Maybe a weird idea; contact the vendor: <a href=\"https://github.com/vaadin/vaadin-icons\" rel=\"nofollow noreferrer\">github.com/vaadin/vaadin-icons</a>"}],"answers":[{"tags":[],"owner":{"account_id":12280349,"reputation":10212,"user_id":8962195,"display_name":"Tatu Lund"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697692675,"creation_date":1697692675,"answer_id":77321126,"question_id":77311418,"body_markdown":"The documentation has just recently being updated as in Vaadin 24.2 the 3rd party icon support has been improved, see  https://vaadin.com/docs/latest/components/icons#using-third-party-icons\r\n\r\n(I know it is a bit un-orthodox to answer this kind of question in SO, as protocol here is not to have a link to website as primary content of the answer, but now it is un-avoidable.)","title":"Icon generator from SVG missing in Vaadin documentation","body":"<p>The documentation has just recently being updated as in Vaadin 24.2 the 3rd party icon support has been improved, see  <a href=\"https://vaadin.com/docs/latest/components/icons#using-third-party-icons\" rel=\"nofollow noreferrer\">https://vaadin.com/docs/latest/components/icons#using-third-party-icons</a></p>\n<p>(I know it is a bit un-orthodox to answer this kind of question in SO, as protocol here is not to have a link to website as primary content of the answer, but now it is un-avoidable.)</p>\n"}],"owner":{"account_id":18586320,"reputation":1,"user_id":13544602,"display_name":"Deep Zajac"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1697692675,"creation_date":1697567242,"question_id":77311418,"body_markdown":"There was a generator (tool) on Vaadin doc page: https://vaadin.com/docs/latest/components/icons#icon-set-generator that created or converted the JS file from a SVG input. The link to the tool has disappeared for a reason. Do you know something about that? Do you have a link to that tool? Thanks much. \r\n\r\nThe usage after conversion in Vaadin and java:\r\n\r\n    Icon close = new Icon(&quot;&lt;js-file-name&gt;&quot;, &quot;&lt;icon-id&gt;&quot;);  \r\n\r\n    \r\nI am looking at the current page https://vaadin.com/docs/latest/components/icons#icon-set-generator but the existing content does not offer a similar functionality.","title":"Icon generator from SVG missing in Vaadin documentation","body":"<p>There was a generator (tool) on Vaadin doc page: <a href=\"https://vaadin.com/docs/latest/components/icons#icon-set-generator\" rel=\"nofollow noreferrer\">https://vaadin.com/docs/latest/components/icons#icon-set-generator</a> that created or converted the JS file from a SVG input. The link to the tool has disappeared for a reason. Do you know something about that? Do you have a link to that tool? Thanks much.</p>\n<p>The usage after conversion in Vaadin and java:</p>\n<pre><code>Icon close = new Icon(&quot;&lt;js-file-name&gt;&quot;, &quot;&lt;icon-id&gt;&quot;);  \n</code></pre>\n<p>I am looking at the current page <a href=\"https://vaadin.com/docs/latest/components/icons#icon-set-generator\" rel=\"nofollow noreferrer\">https://vaadin.com/docs/latest/components/icons#icon-set-generator</a> but the existing content does not offer a similar functionality.</p>\n"},{"tags":["java","visual-studio-code","templates","package","redhat"],"comments":[{"owner":{"account_id":25311208,"reputation":7305,"user_id":19133920,"display_name":"JialeDu"},"score":0,"creation_date":1697784285,"post_id":77321003,"comment_id":136325517,"body_markdown":"Post your point of view on the original link or create a new one to report your detailed needs.","body":"Post your point of view on the original link or create a new one to report your detailed needs."},{"owner":{"account_id":25311208,"reputation":7305,"user_id":19133920,"display_name":"JialeDu"},"score":0,"creation_date":1697784309,"post_id":77321003,"comment_id":136325519,"body_markdown":"You already know that VSCode&#39;s existing features cannot achieve your needs. What do you expect from here? Please report your feature request in Github.","body":"You already know that VSCode&#39;s existing features cannot achieve your needs. What do you expect from here? Please report your feature request in Github."},{"owner":{"account_id":15396644,"reputation":25775,"user_id":11107541,"display_name":"starball"},"score":0,"creation_date":1697842135,"post_id":77321003,"comment_id":136335016,"body_markdown":"what _exactly_ do you mean by &quot;_reconfigure the package import statement_&quot; ?","body":"what <i>exactly</i> do you mean by &quot;<i>reconfigure the package import statement</i>&quot; ?"},{"owner":{"account_id":26558549,"reputation":116,"user_id":20186763,"display_name":"DAK"},"score":0,"creation_date":1697914438,"post_id":77321003,"comment_id":136340281,"body_markdown":"@JialeDu That was going to be my next step. However, because there were so few sources that directly addressed this issue, I didn&#39;t want to definitively conclude that this should be a feature request without first seeking additional input.","body":"@JialeDu That was going to be my next step. However, because there were so few sources that directly addressed this issue, I didn&#39;t want to definitively conclude that this should be a feature request without first seeking additional input."},{"owner":{"account_id":26558549,"reputation":116,"user_id":20186763,"display_name":"DAK"},"score":0,"creation_date":1697914817,"post_id":77321003,"comment_id":136340313,"body_markdown":"@starball When you save a `.java` file in VSCode, Intellisense will automatically configure the class body (using the file name) and the package import (based on the project&#39;s directory structure). I find the class body import useful, along with other Intellisense features, so I do not want to disable it completely. However, my directory structure is not set up such that I want it to be automatically included as a package import. It seems simple enough that I thought you might be able to configure where/what the imported package is using `settings.json`, or something similar, but it seems not.","body":"@starball When you save a <code>.java</code> file in VSCode, Intellisense will automatically configure the class body (using the file name) and the package import (based on the project&#39;s directory structure). I find the class body import useful, along with other Intellisense features, so I do not want to disable it completely. However, my directory structure is not set up such that I want it to be automatically included as a package import. It seems simple enough that I thought you might be able to configure where/what the imported package is using <code>settings.json</code>, or something similar, but it seems not."},{"owner":{"account_id":25311208,"reputation":7305,"user_id":19133920,"display_name":"JialeDu"},"score":0,"creation_date":1698039218,"post_id":77321003,"comment_id":136349692,"body_markdown":"If you have new actions, don’t forget to share them here.","body":"If you have new actions, don’t forget to share them here."}],"owner":{"account_id":26558549,"reputation":116,"user_id":20186763,"display_name":"DAK"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697690632,"creation_date":1697690632,"question_id":77321003,"body_markdown":"Whenever a Java file is created/saved in VSCode (using VSCode Project Manager for Java &amp; RedHat Language Support extensions), the package (directory structure) is automatically added to the top of the file, along with the automatic creation of the class body.\r\n```\r\npackage Example/Package/Name;\r\n\r\npublic class ExampleClass {\r\n    \r\n}\r\n```\r\n\r\nSince my directory structure is not configured for Java packages exclusively, more often than not, I end up having to remove the package that is automatically imported. \r\n\r\nI don&#39;t want to disable language support altogether, so I&#39;ve been looking for a way to either reconfigure the package import statement, or for a way to create a default &quot;new file template&quot; for `.java` files.  \r\n\r\nHowever, I haven&#39;t found a way do that, other than using &quot;snippets&quot;, which seems like a work-around, not a solution.\r\n\r\nI&#39;ve also tried editing my `settings.json`, but it seems the extent of what I can do there is limited to type comments and file headers (which don&#39;t address the package import or file body).\r\n```\r\n&quot;java.templates.typeComment&quot;:\r\n&quot;java.templates.fileHeader&quot;:\r\n```\r\n\r\nI have not been able to find any information on this topic, apart from this SO post here that was not adequately resolved: [Stop VSCode from Adding Package to Java Files][1].\r\n\r\nOr this issue request on GitHub, which wanted to remove both the package and class body auto import: [RedHat Developer Issues][2].\r\n\r\nI&#39;ve scoured VSCode &amp; RedHat docs but the VSCode documentation simply mentions that code completion is provided by Language Support from RedHat, but does not mention a way to configure it specifically: [VSCode Docs Java][3].\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/74671558/how-to-stop-vscode-from-adding-package-to-java-files\r\n  [2]: https://github.com/redhat-developer/vscode-java/issues/2652\r\n  [3]: https://code.visualstudio.com/docs/java/java-editing","title":"Reconfigure VSCode/RedHat Automatic Package Import in Java Files","body":"<p>Whenever a Java file is created/saved in VSCode (using VSCode Project Manager for Java &amp; RedHat Language Support extensions), the package (directory structure) is automatically added to the top of the file, along with the automatic creation of the class body.</p>\n<pre><code>package Example/Package/Name;\n\npublic class ExampleClass {\n    \n}\n</code></pre>\n<p>Since my directory structure is not configured for Java packages exclusively, more often than not, I end up having to remove the package that is automatically imported.</p>\n<p>I don't want to disable language support altogether, so I've been looking for a way to either reconfigure the package import statement, or for a way to create a default &quot;new file template&quot; for <code>.java</code> files.</p>\n<p>However, I haven't found a way do that, other than using &quot;snippets&quot;, which seems like a work-around, not a solution.</p>\n<p>I've also tried editing my <code>settings.json</code>, but it seems the extent of what I can do there is limited to type comments and file headers (which don't address the package import or file body).</p>\n<pre><code>&quot;java.templates.typeComment&quot;:\n&quot;java.templates.fileHeader&quot;:\n</code></pre>\n<p>I have not been able to find any information on this topic, apart from this SO post here that was not adequately resolved: <a href=\"https://stackoverflow.com/questions/74671558/how-to-stop-vscode-from-adding-package-to-java-files\">Stop VSCode from Adding Package to Java Files</a>.</p>\n<p>Or this issue request on GitHub, which wanted to remove both the package and class body auto import: <a href=\"https://github.com/redhat-developer/vscode-java/issues/2652\" rel=\"nofollow noreferrer\">RedHat Developer Issues</a>.</p>\n<p>I've scoured VSCode &amp; RedHat docs but the VSCode documentation simply mentions that code completion is provided by Language Support from RedHat, but does not mention a way to configure it specifically: <a href=\"https://code.visualstudio.com/docs/java/java-editing\" rel=\"nofollow noreferrer\">VSCode Docs Java</a>.</p>\n"},{"tags":["java","spring","flutter","firebase","firebase-cloud-messaging"],"answers":[{"comments":[{"owner":{"account_id":18238102,"reputation":94,"user_id":13275649,"display_name":"Lucas Tomic"},"score":0,"creation_date":1698072943,"post_id":77320820,"comment_id":136355762,"body_markdown":"Thanks for answering. I&#39;ve got the same problem with this code too :/","body":"Thanks for answering. I&#39;ve got the same problem with this code too :/"},{"owner":{"account_id":8884226,"reputation":514,"user_id":6633045,"display_name":"phuongnq1995"},"score":0,"creation_date":1698111944,"post_id":77320820,"comment_id":136361092,"body_markdown":"@LucasTomic hope it helps, is there any others issue with your code?","body":"@LucasTomic hope it helps, is there any others issue with your code?"},{"owner":{"account_id":18238102,"reputation":94,"user_id":13275649,"display_name":"Lucas Tomic"},"score":0,"creation_date":1698152898,"post_id":77320820,"comment_id":136366676,"body_markdown":"No. Just this. As I said in the post, the expected message (projects/myproject-b5ae1/...) is returned. However, it doesn&#39;t arrive any message to the device","body":"No. Just this. As I said in the post, the expected message (projects/myproject-b5ae1/...) is returned. However, it doesn&#39;t arrive any message to the device"},{"owner":{"account_id":18238102,"reputation":94,"user_id":13275649,"display_name":"Lucas Tomic"},"score":1,"creation_date":1698959628,"post_id":77320820,"comment_id":136474258,"body_markdown":"I&#39;m sorry, this answer is correct. I implemented it wrong. Thank you!","body":"I&#39;m sorry, this answer is correct. I implemented it wrong. Thank you!"}],"tags":[],"owner":{"account_id":8884226,"reputation":514,"user_id":6633045,"display_name":"phuongnq1995"},"comment_count":4,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1697687421,"creation_date":1697686519,"answer_id":77320820,"question_id":77289546,"body_markdown":"I&#39;m assuming your configuration is correct, the message still needs a `body` to send.\r\nYou can add `body`, `title`, `image` via `Message.putData`. You&#39;re putting key `New message` which is not considered a `body`. Try this\r\n```\r\nMessage msg = Message.builder()\r\n    .setToken(receiver.getNotificationDeviceID())\r\n    .putData(&quot;body&quot;, &quot;You have received a message from @&quot; + sender.getUsername())\r\n    .build();\r\n```\r\nAlso, you can do this \r\n\r\n```\r\nMessage msg = Message.builder()\r\n    .setToken(receiver.getNotificationDeviceID())\r\n    .setNotification(Notification.builder()\r\n        .setTitle(&quot;Some title&quot;)\r\n        .setBody(&quot;You have received a message from @&quot; + sender.getUsername())\r\n    .build());\r\n```","title":"FCM notifications not being sent with Spring","body":"<p>I'm assuming your configuration is correct, the message still needs a <code>body</code> to send.\nYou can add <code>body</code>, <code>title</code>, <code>image</code> via <code>Message.putData</code>. You're putting key <code>New message</code> which is not considered a <code>body</code>. Try this</p>\n<pre><code>Message msg = Message.builder()\n    .setToken(receiver.getNotificationDeviceID())\n    .putData(&quot;body&quot;, &quot;You have received a message from @&quot; + sender.getUsername())\n    .build();\n</code></pre>\n<p>Also, you can do this</p>\n<pre><code>Message msg = Message.builder()\n    .setToken(receiver.getNotificationDeviceID())\n    .setNotification(Notification.builder()\n        .setTitle(&quot;Some title&quot;)\n        .setBody(&quot;You have received a message from @&quot; + sender.getUsername())\n    .build());\n</code></pre>\n"}],"owner":{"account_id":18238102,"reputation":94,"user_id":13275649,"display_name":"Lucas Tomic"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":88,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77320820,"answer_count":1,"score":1,"last_activity_date":1697687421,"creation_date":1697216725,"question_id":77289546,"body_markdown":"I&#39;m trying to send notifications from my server made in Spring Boot with FCM. My client is made on Flutter.\r\n\r\n    @Service\r\n    public class ChatNotificationService implements IChatNotificationsService{\r\n        @Override\r\n        public void notify(User sender, User receiver) {\r\n            Message msg = Message.builder()\r\n                    .setToken(receiver.getNotificationDeviceID())\r\n                    .putData(&quot;New message&quot;, &quot;You have received a message from @&quot; + sender.getUsername())\r\n                    .build();\r\n            try{\r\n                FirebaseMessaging.getInstance().send(msg);\r\n            }catch (Exception e){\r\n                //Handle exception...\r\n            }\r\n    \r\n        }\r\n    }\r\n\r\nThe problem is that it aparently works properly. But, the message never arrives to the device. \r\n\r\nThe message is build without errors and the `try` block is executed correctly too. It returns the expected ID sush as \r\n\r\n   \r\n\r\n&gt; projects/myproject-b5ae1/messages/0:1500415314455276%31bd1c9631bd1c96\r\n\r\nBut the device doesn&#39;t receive any notification. \r\n\r\nI&#39;ve tried sending a message manually to **the same device registration token** with the Firebase dashboard and it works fine there. The device receives the notification as expected.\r\n[![Firebase dashboard][1]][1]\r\n\r\nIt also works properly using postman directly\r\n\r\n    POST https://fcm.googleapis.com/v1/projects/myproject-b5ae1/messages:send HTTP/1.1\r\n    \r\n    Content-Type: application/json\r\n    Authorization: Bearer ya29.ElqKBGN2Ri_Uz...HnS_uNreA\r\n    \r\n    {\r\n       &quot;message&quot;:{\r\n          &quot;token&quot;:&quot;bk3RNwTe3H0:CI2k_HHwgIpoDKCIZvvDMExUdFQ3P1...&quot;,\r\n          &quot;notification&quot;:{\r\n            &quot;body&quot;:&quot;This is an FCM notification message!&quot;,\r\n            &quot;title&quot;:&quot;FCM Message&quot;\r\n          }\r\n       }\r\n    }\r\n\r\nThis is my configuration class\r\n\r\n    @Configuration\r\n    public class FirebaseConfiguration {\r\n        @Bean\r\n        FirebaseMessaging firebaseMessaging(FirebaseApp firebaseApp) {\r\n            return FirebaseMessaging.getInstance(firebaseApp);\r\n        }\r\n        @Bean\r\n        FirebaseApp firebaseApp(GoogleCredentials credentials) {\r\n            FirebaseOptions options = FirebaseOptions.builder()\r\n                    .setCredentials(credentials)\r\n                    .build();\r\n    \r\n            if(FirebaseApp.getApps().isEmpty()) { \r\n                return FirebaseApp.initializeApp(options);\r\n            }else{\r\n                return FirebaseApp.getInstance();\r\n            }\r\n        }\r\n    \r\n        @Bean\r\n        GoogleCredentials googleCredentials() throws IOException {\r\n           return GoogleCredentials.fromStream(new ClassPathResource(&quot;firebase-key.json&quot;).getInputStream());\r\n        }\r\n    \r\n    }\r\n\r\n\r\nOther things i&#39;ve tried:\r\n\r\n - Testing on emulator and physical device\r\n - Checked notifications settings were turned on\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ukY2T.png\r\n\r\n","title":"FCM notifications not being sent with Spring","body":"<p>I'm trying to send notifications from my server made in Spring Boot with FCM. My client is made on Flutter.</p>\n<pre><code>@Service\npublic class ChatNotificationService implements IChatNotificationsService{\n    @Override\n    public void notify(User sender, User receiver) {\n        Message msg = Message.builder()\n                .setToken(receiver.getNotificationDeviceID())\n                .putData(&quot;New message&quot;, &quot;You have received a message from @&quot; + sender.getUsername())\n                .build();\n        try{\n            FirebaseMessaging.getInstance().send(msg);\n        }catch (Exception e){\n            //Handle exception...\n        }\n\n    }\n}\n</code></pre>\n<p>The problem is that it aparently works properly. But, the message never arrives to the device.</p>\n<p>The message is build without errors and the <code>try</code> block is executed correctly too. It returns the expected ID sush as</p>\n<blockquote>\n<p>projects/myproject-b5ae1/messages/0:1500415314455276%31bd1c9631bd1c96</p>\n</blockquote>\n<p>But the device doesn't receive any notification.</p>\n<p>I've tried sending a message manually to <strong>the same device registration token</strong> with the Firebase dashboard and it works fine there. The device receives the notification as expected.\n<a href=\"https://i.stack.imgur.com/ukY2T.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ukY2T.png\" alt=\"Firebase dashboard\" /></a></p>\n<p>It also works properly using postman directly</p>\n<pre><code>POST https://fcm.googleapis.com/v1/projects/myproject-b5ae1/messages:send HTTP/1.1\n\nContent-Type: application/json\nAuthorization: Bearer ya29.ElqKBGN2Ri_Uz...HnS_uNreA\n\n{\n   &quot;message&quot;:{\n      &quot;token&quot;:&quot;bk3RNwTe3H0:CI2k_HHwgIpoDKCIZvvDMExUdFQ3P1...&quot;,\n      &quot;notification&quot;:{\n        &quot;body&quot;:&quot;This is an FCM notification message!&quot;,\n        &quot;title&quot;:&quot;FCM Message&quot;\n      }\n   }\n}\n</code></pre>\n<p>This is my configuration class</p>\n<pre><code>@Configuration\npublic class FirebaseConfiguration {\n    @Bean\n    FirebaseMessaging firebaseMessaging(FirebaseApp firebaseApp) {\n        return FirebaseMessaging.getInstance(firebaseApp);\n    }\n    @Bean\n    FirebaseApp firebaseApp(GoogleCredentials credentials) {\n        FirebaseOptions options = FirebaseOptions.builder()\n                .setCredentials(credentials)\n                .build();\n\n        if(FirebaseApp.getApps().isEmpty()) { \n            return FirebaseApp.initializeApp(options);\n        }else{\n            return FirebaseApp.getInstance();\n        }\n    }\n\n    @Bean\n    GoogleCredentials googleCredentials() throws IOException {\n       return GoogleCredentials.fromStream(new ClassPathResource(&quot;firebase-key.json&quot;).getInputStream());\n    }\n\n}\n</code></pre>\n<p>Other things i've tried:</p>\n<ul>\n<li>Testing on emulator and physical device</li>\n<li>Checked notifications settings were turned on</li>\n</ul>\n"},{"tags":["java","grpc","netty","grpc-java"],"answers":[{"comments":[{"owner":{"account_id":25554154,"reputation":181,"user_id":19338016,"display_name":"hololensen"},"score":0,"creation_date":1697686511,"post_id":77320195,"comment_id":136311825,"body_markdown":"So there is another pool in worker group? That’s why we could block?","body":"So there is another pool in worker group? That’s why we could block?"},{"owner":{"account_id":9506132,"reputation":46,"user_id":7065595,"display_name":"Ivy Yifei Zhuang"},"score":1,"creation_date":1697761609,"post_id":77320195,"comment_id":136323745,"body_markdown":"There is actually another layer of abstraction. The call is handled in [executor](https://grpc.github.io/grpc-java/javadoc/io/grpc/ServerBuilder.html#executor(java.util.concurrent.Executor)) and [callexecutor](https://grpc.github.io/grpc-java/javadoc/io/grpc/ServerBuilder.html#callExecutor(io.grpc.ServerCallExecutorSupplier)), there are configurable, but by default they are normal java cache executor. Handling application rpc are on those configurable executor not directly on the eventloop. The tasks run on the worker group hands over to these executors.","body":"There is actually another layer of abstraction. The call is handled in <a href=\"https://grpc.github.io/grpc-java/javadoc/io/grpc/ServerBuilder.html#executor(java.util.concurrent.Executor)\" rel=\"nofollow noreferrer\">executor</a> and <a href=\"https://grpc.github.io/grpc-java/javadoc/io/grpc/ServerBuilder.html#callExecutor(io.grpc.ServerCallExecutorSupplier)\" rel=\"nofollow noreferrer\">callexecutor</a>, there are configurable, but by default they are normal java cache executor. Handling application rpc are on those configurable executor not directly on the eventloop. The tasks run on the worker group hands over to these executors."},{"owner":{"account_id":25554154,"reputation":181,"user_id":19338016,"display_name":"hololensen"},"score":0,"creation_date":1698038481,"post_id":77320195,"comment_id":136349632,"body_markdown":"But why then use Netty? I thought it’s highperform becausr use loop but if it’s single responsibility is resolving future from executor, then we still have a lot of threads and performance should be same as blocking servers(like jetty)","body":"But why then use Netty? I thought it’s highperform becausr use loop but if it’s single responsibility is resolving future from executor, then we still have a lot of threads and performance should be same as blocking servers(like jetty)"}],"tags":[],"owner":{"account_id":9506132,"reputation":46,"user_id":7065595,"display_name":"Ivy Yifei Zhuang"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1697672911,"creation_date":1697672911,"answer_id":77320195,"question_id":77304437,"body_markdown":"I imagine you are talking about receiving messages from the server. For send, the message is queued up once you send until it is flushed, you can not block netty at sending.\r\n\r\nFor message you received from wire, the netty transport immediately handover to call executor. Processing of your RPC will jump and be scheduled on the call executor. So the netty server does not block even when you write blocking code.\r\nFeel free to write blocking code when using grpc-java. It has nothing to do with blocking netty.","title":"Should I avoid blocking code in netty-grpc?","body":"<p>I imagine you are talking about receiving messages from the server. For send, the message is queued up once you send until it is flushed, you can not block netty at sending.</p>\n<p>For message you received from wire, the netty transport immediately handover to call executor. Processing of your RPC will jump and be scheduled on the call executor. So the netty server does not block even when you write blocking code.\nFeel free to write blocking code when using grpc-java. It has nothing to do with blocking netty.</p>\n"}],"owner":{"account_id":25554154,"reputation":181,"user_id":19338016,"display_name":"hololensen"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":113,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"answer_count":1,"score":2,"last_activity_date":1697686589,"creation_date":1697483634,"question_id":77304437,"body_markdown":"The most popular option is running `grpc` server on `netty`, in my understanding `netty` use a worker event loop group which call handlers in the pipeline, so basically my rpc is one of these handlers in the pipeline. `Netty` doesn’t like long blocking code, so in my rpc should I avoid blocking code, or could write good-old blocking servers?","title":"Should I avoid blocking code in netty-grpc?","body":"<p>The most popular option is running <code>grpc</code> server on <code>netty</code>, in my understanding <code>netty</code> use a worker event loop group which call handlers in the pipeline, so basically my rpc is one of these handlers in the pipeline. <code>Netty</code> doesn’t like long blocking code, so in my rpc should I avoid blocking code, or could write good-old blocking servers?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":5,"creation_date":1697669405,"post_id":77320009,"comment_id":136310504,"body_markdown":"`List&lt;Number&gt; numberList = new ArrayList&lt;&gt;(longList);` should be sufficient.  There is no point in converting a Long to a Long.  A Long is already a Number.","body":"<code>List&lt;Number&gt; numberList = new ArrayList&lt;&gt;(longList);</code> should be sufficient.  There is no point in converting a Long to a Long.  A Long is already a Number."},{"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"score":3,"creation_date":1697670364,"post_id":77320009,"comment_id":136310574,"body_markdown":"alternative: `List&lt;Number&gt; numberList = List.copyOf(longList);` - returns an [unmodifiable List](https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/List.html#unmodifiable) and does **not** accept `null` elements","body":"alternative: <code>List&lt;Number&gt; numberList = List.copyOf(longList);</code> - returns an <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/List.html#unmodifiable\" rel=\"nofollow noreferrer\">unmodifiable List</a> and does <b>not</b> accept <code>null</code> elements"}],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697686499,"creation_date":1697683191,"answer_id":77320644,"question_id":77320009,"body_markdown":"No need to convert your `Long` objects. Every `Long` object is also a `Number` object, with [`Long`][1] being a subclass of [`Number`][2].\r\n\r\nMake a new array of the supertype built from elements of a collection of the subtype. \r\n\r\n```java\r\nList &lt; Long &gt; longs = new ArrayList&lt;&gt;( List.of( 7L , 42L ) ) ;\r\nList &lt; Number &gt; numbers = new ArrayList&lt;&gt;( longs ) ;\r\n```\r\n\r\nUse [`List.copyOf`][3] for an unmodifiable list without nulls. \r\n\r\n```java\r\nList &lt; Long &gt; longs = new ArrayList&lt;&gt;( List.of( 7L , 42L ) ) ;\r\nList &lt; Number &gt; numbers = List.copyOf( longs ) ;\r\n```\r\n\r\n&gt;Is this the best way? \r\n\r\nDefine “best”.\r\n\r\n&gt;Will there be loss of data?\r\n\r\nNo.\r\n\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/21/docs//api/java.base/java/lang/Long.html\r\n  [2]: https://docs.oracle.com/en/java/javase/21/docs//api/java.base/java/lang/Number.html\r\n  [3]: https://docs.oracle.com/en/java/javase/21/docs//api/java.base/java/util/List.html#copyOf(java.util.Collection)","title":"In java, how to convert a List&lt;Long&gt; to List&lt;Number&gt;?","body":"<p>No need to convert your <code>Long</code> objects. Every <code>Long</code> object is also a <code>Number</code> object, with <a href=\"https://docs.oracle.com/en/java/javase/21/docs//api/java.base/java/lang/Long.html\" rel=\"nofollow noreferrer\"><code>Long</code></a> being a subclass of <a href=\"https://docs.oracle.com/en/java/javase/21/docs//api/java.base/java/lang/Number.html\" rel=\"nofollow noreferrer\"><code>Number</code></a>.</p>\n<p>Make a new array of the supertype built from elements of a collection of the subtype.</p>\n<pre class=\"lang-java prettyprint-override\"><code>List &lt; Long &gt; longs = new ArrayList&lt;&gt;( List.of( 7L , 42L ) ) ;\nList &lt; Number &gt; numbers = new ArrayList&lt;&gt;( longs ) ;\n</code></pre>\n<p>Use <a href=\"https://docs.oracle.com/en/java/javase/21/docs//api/java.base/java/util/List.html#copyOf(java.util.Collection)\" rel=\"nofollow noreferrer\"><code>List.copyOf</code></a> for an unmodifiable list without nulls.</p>\n<pre class=\"lang-java prettyprint-override\"><code>List &lt; Long &gt; longs = new ArrayList&lt;&gt;( List.of( 7L , 42L ) ) ;\nList &lt; Number &gt; numbers = List.copyOf( longs ) ;\n</code></pre>\n<blockquote>\n<p>Is this the best way?</p>\n</blockquote>\n<p>Define “best”.</p>\n<blockquote>\n<p>Will there be loss of data?</p>\n</blockquote>\n<p>No.</p>\n"}],"owner":{"account_id":4759176,"reputation":53,"user_id":3847041,"accept_rate":50,"display_name":"puzzledchamp"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":64,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1697686499,"creation_date":1697669039,"question_id":77320009,"body_markdown":"I need to convert a list of Long to List of Number. How can I do that?\r\n\r\nI have tried this:\r\n```\r\n        List&lt;Number&gt; numberList = longList.stream()\r\n            .map(Long::new) // Convert each Long to a Long (not Number)\r\n            .collect(Collectors.toList());\r\n```\r\n\r\nIs this the best way?\r\nWill there be loss of data?","title":"In java, how to convert a List&lt;Long&gt; to List&lt;Number&gt;?","body":"<p>I need to convert a list of Long to List of Number. How can I do that?</p>\n<p>I have tried this:</p>\n<pre><code>        List&lt;Number&gt; numberList = longList.stream()\n            .map(Long::new) // Convert each Long to a Long (not Number)\n            .collect(Collectors.toList());\n</code></pre>\n<p>Is this the best way?\nWill there be loss of data?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":61679,"reputation":6221,"user_id":183704,"accept_rate":60,"display_name":"BuZZ-dEE"},"score":5,"creation_date":1487930897,"post_id":4355303,"comment_id":72015897,"body_markdown":"Possible duplicate of [Safely casting long to int in Java](http://stackoverflow.com/questions/1590831/safely-casting-long-to-int-in-java)","body":"Possible duplicate of <a href=\"http://stackoverflow.com/questions/1590831/safely-casting-long-to-int-in-java\">Safely casting long to int in Java</a>"},{"owner":{"account_id":12583055,"reputation":447,"user_id":9732672,"display_name":"NomadMaker"},"score":0,"creation_date":1610613090,"post_id":4355303,"comment_id":116189355,"body_markdown":"``if ((lval &lt;= Integer.MAX_VALUE) &amp;&amp; (lval &gt;= Integer.MIN_VALUE)) intValue = (int)lval;``","body":"<code>if ((lval &lt;= Integer.MAX_VALUE) &amp;&amp; (lval &gt;= Integer.MIN_VALUE)) intValue = (int)lval;</code>"}],"answers":[{"comments":[{"owner":{"account_id":12478,"reputation":23673,"user_id":24582,"display_name":"extraneon"},"score":7,"creation_date":1291490502,"post_id":4355309,"comment_id":4738878,"body_markdown":"Interesting to know is that according to par 5.1.3 in http://java.sun.com/docs/books/jls/third_edition/html/conversions.html#189955 (The Java Language Spec): Despite the fact that overflow, underflow, or other loss of information may occur, narrowing conversions among primitive types never result in a run-time exception (&#167;11).","body":"Interesting to know is that according to par 5.1.3 in <a href=\"http://java.sun.com/docs/books/jls/third_edition/html/conversions.html#189955\" rel=\"nofollow noreferrer\">java.sun.com/docs/books/jls/third_edition/html/&hellip;</a> (The Java Language Spec): Despite the fact that overflow, underflow, or other loss of information may occur, narrowing conversions among primitive types never result in a run-time exception (&#167;11)."}],"tags":[],"owner":{"account_id":846,"reputation":131801,"user_id":1109,"accept_rate":72,"display_name":"Theo"},"comment_count":1,"down_vote_count":2,"up_vote_count":32,"is_accepted":false,"score":30,"last_activity_date":1291490095,"creation_date":1291490095,"answer_id":4355309,"question_id":4355303,"body_markdown":"    long x = 3;\r\n    int y = (int) x;\r\n\r\nbut that assumes that the `long` can be represented as an `int`, you do know the difference between the two?","title":"How can I convert a long to int in Java?","body":"<pre><code>long x = 3;\nint y = (int) x;\n</code></pre>\n\n<p>but that assumes that the <code>long</code> can be represented as an <code>int</code>, you do know the difference between the two?</p>\n"},{"comments":[{"owner":{"account_id":230362,"reputation":28330,"user_id":493928,"accept_rate":62,"display_name":"khachik"},"score":0,"creation_date":1291490207,"post_id":4355313,"comment_id":4738849,"body_markdown":"What is the precision of integers? o_O","body":"What is the precision of integers? o_O"},{"owner":{"account_id":174484,"reputation":5330,"user_id":403875,"accept_rate":66,"display_name":"dspyz"},"score":7,"creation_date":1291658980,"post_id":4355313,"comment_id":4757294,"body_markdown":"Casting has different meanings for objects and for primitive types.  (int) l doesn&#39;t try to treat a 64-bit integer as a 32-bit integer, it actually returns a different 32-bit integer with the same 32 lower order bits.  With objects, you cast to a more specific child class, but with primitve types, a cast is not really a cast, but a conversion.","body":"Casting has different meanings for objects and for primitive types.  (int) l doesn&#39;t try to treat a 64-bit integer as a 32-bit integer, it actually returns a different 32-bit integer with the same 32 lower order bits.  With objects, you cast to a more specific child class, but with primitve types, a cast is not really a cast, but a conversion."},{"owner":{"account_id":35074,"reputation":8877,"user_id":99248,"accept_rate":38,"display_name":"raisercostin"},"score":0,"creation_date":1361541274,"post_id":4355313,"comment_id":21113329,"body_markdown":"Int x = (int)(((Long)Integer.MAX_INTEGER)+10);\nIf a conversion doesn&#39;t detect in this case that x has an improper value then you don&#39;t have a solution.","body":"Int x = (int)(((Long)Integer.MAX_INTEGER)+10); If a conversion doesn&#39;t detect in this case that x has an improper value then you don&#39;t have a solution."},{"owner":{"account_id":8687130,"reputation":3474,"user_id":6501190,"accept_rate":83,"display_name":"java-addict301"},"score":4,"creation_date":1558540181,"post_id":4355313,"comment_id":99137844,"body_markdown":"Math.toIntExact() is a great method actually.  It throws and exception if the value is too big to fit in an int.  Thanks for the suggestion.","body":"Math.toIntExact() is a great method actually.  It throws and exception if the value is too big to fit in an int.  Thanks for the suggestion."}],"tags":[],"owner":{"account_id":186062,"reputation":39311,"user_id":423170,"accept_rate":79,"display_name":"Frxstrem"},"comment_count":4,"down_vote_count":3,"up_vote_count":507,"is_accepted":false,"score":504,"last_activity_date":1539634035,"creation_date":1291490121,"answer_id":4355313,"question_id":4355303,"body_markdown":"**Updated, in Java 8:** \r\n\r\n    Math.toIntExact(value);\r\n\r\n**Original Answer:** \r\n\r\nSimple type casting should do it:\r\n\r\n    long l = 100000;\r\n    int i = (int) l;\r\n\r\nNote, however, that large numbers (usually larger than `2147483647` and smaller than `-2147483648`) will lose some of the bits and would be represented incorrectly.\r\n\r\nFor instance, `2147483648` would be represented as `-2147483648`.","title":"How can I convert a long to int in Java?","body":"<p><strong>Updated, in Java 8:</strong> </p>\n\n<pre><code>Math.toIntExact(value);\n</code></pre>\n\n<p><strong>Original Answer:</strong> </p>\n\n<p>Simple type casting should do it:</p>\n\n<pre><code>long l = 100000;\nint i = (int) l;\n</code></pre>\n\n<p>Note, however, that large numbers (usually larger than <code>2147483647</code> and smaller than <code>-2147483648</code>) will lose some of the bits and would be represented incorrectly.</p>\n\n<p>For instance, <code>2147483648</code> would be represented as <code>-2147483648</code>.</p>\n"},{"comments":[{"owner":{"account_id":35074,"reputation":8877,"user_id":99248,"accept_rate":38,"display_name":"raisercostin"},"score":0,"creation_date":1361541444,"post_id":4355475,"comment_id":21113432,"body_markdown":"So a proper conversion will be to detect if the conversion is safe and throw an exception otherwise. Fact stated by @Andrej Herich that suggested Guava library.","body":"So a proper conversion will be to detect if the conversion is safe and throw an exception otherwise. Fact stated by @Andrej Herich that suggested Guava library."},{"owner":{"account_id":1195373,"reputation":3266,"user_id":1167226,"accept_rate":90,"display_name":"Attila"},"score":0,"creation_date":1619768728,"post_id":4355475,"comment_id":119009576,"body_markdown":"Starting from Java 8, you could  simly use Math.toIntExact","body":"Starting from Java 8, you could  simly use Math.toIntExact"}],"tags":[],"owner":{"account_id":58256,"reputation":3170,"user_id":174463,"accept_rate":100,"display_name":"mndrix"},"comment_count":2,"down_vote_count":2,"up_vote_count":75,"is_accepted":false,"score":73,"last_activity_date":1597299324,"creation_date":1291492104,"answer_id":4355475,"question_id":4355303,"body_markdown":"For small values, casting is enough:\r\n\r\n    long l = 42;\r\n    int i = (int) l;\r\n\r\nHowever, a `long` can hold more information than an `int`, so it&#39;s not possible to perfectly convert from `long` to `int`, in the general case. If the `long` holds a number less than or equal to `Integer.MAX_VALUE` you can convert it by casting without losing any information.\r\n\r\nFor example, the following sample code:\r\n\r\n    System.out.println( &quot;largest long is &quot; + Long.MAX_VALUE );\r\n    System.out.println( &quot;largest int is &quot; + Integer.MAX_VALUE );\r\n\r\n    long x = (long)Integer.MAX_VALUE;\r\n    x++;\r\n    System.out.println(&quot;long x=&quot; + x);\r\n\r\n    int y = (int) x;\r\n    System.out.println(&quot;int y=&quot; + y);\r\n\r\nproduces the following output on my machine:\r\n\r\n    largest long is 9223372036854775807\r\n    largest int is 2147483647\r\n    long x=2147483648\r\n    int y=-2147483648\r\n\r\nNotice the negative sign on `y`. Because `x` held a value one larger than `Integer.MAX_VALUE`, `int y` was unable to hold it.  In this case, it wrapped around to the negative numbers.\r\n\r\nIf you wanted to handle this case yourself, you might do something like:\r\n\r\n    if ( x &gt; (long)Integer.MAX_VALUE ) {\r\n        // x is too big to convert, throw an exception or something useful\r\n    }\r\n    else {\r\n        y = (int)x;\r\n    }\r\n\r\nAll of this assumes positive numbers. For negative numbers, use `MIN_VALUE` instead of `MAX_VALUE`.","title":"How can I convert a long to int in Java?","body":"<p>For small values, casting is enough:</p>\n<pre><code>long l = 42;\nint i = (int) l;\n</code></pre>\n<p>However, a <code>long</code> can hold more information than an <code>int</code>, so it's not possible to perfectly convert from <code>long</code> to <code>int</code>, in the general case. If the <code>long</code> holds a number less than or equal to <code>Integer.MAX_VALUE</code> you can convert it by casting without losing any information.</p>\n<p>For example, the following sample code:</p>\n<pre><code>System.out.println( &quot;largest long is &quot; + Long.MAX_VALUE );\nSystem.out.println( &quot;largest int is &quot; + Integer.MAX_VALUE );\n\nlong x = (long)Integer.MAX_VALUE;\nx++;\nSystem.out.println(&quot;long x=&quot; + x);\n\nint y = (int) x;\nSystem.out.println(&quot;int y=&quot; + y);\n</code></pre>\n<p>produces the following output on my machine:</p>\n<pre><code>largest long is 9223372036854775807\nlargest int is 2147483647\nlong x=2147483648\nint y=-2147483648\n</code></pre>\n<p>Notice the negative sign on <code>y</code>. Because <code>x</code> held a value one larger than <code>Integer.MAX_VALUE</code>, <code>int y</code> was unable to hold it.  In this case, it wrapped around to the negative numbers.</p>\n<p>If you wanted to handle this case yourself, you might do something like:</p>\n<pre><code>if ( x &gt; (long)Integer.MAX_VALUE ) {\n    // x is too big to convert, throw an exception or something useful\n}\nelse {\n    y = (int)x;\n}\n</code></pre>\n<p>All of this assumes positive numbers. For negative numbers, use <code>MIN_VALUE</code> instead of <code>MAX_VALUE</code>.</p>\n"},{"tags":[],"owner":{"account_id":237493,"reputation":11836,"user_id":505714,"accept_rate":87,"display_name":"Alexis Dufrenoy"},"comment_count":0,"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1697681669,"creation_date":1291492275,"answer_id":4355493,"question_id":4355303,"body_markdown":"In Java, a long is a signed 64 bits number, which means you can store numbers between -9,223,372,036,854,775,808 and 9,223,372,036,854,775,807 (inclusive).\r\n\r\nAn int, on the other hand, is signed 32 bits number, which means you can store numbers between -2,147,483,648 and 2,147,483,647 (inclusive).\r\n\r\nSo if your long is outside of the values permitted for an int, you will not get a valuable conversion.\r\n\r\nDetails about sizes of primitive Java types here:  \r\nhttps://docs.oracle.com/javase/tutorial/java/nutsandbolts/datatypes.html","title":"How can I convert a long to int in Java?","body":"<p>In Java, a long is a signed 64 bits number, which means you can store numbers between -9,223,372,036,854,775,808 and 9,223,372,036,854,775,807 (inclusive).</p>\n<p>An int, on the other hand, is signed 32 bits number, which means you can store numbers between -2,147,483,648 and 2,147,483,647 (inclusive).</p>\n<p>So if your long is outside of the values permitted for an int, you will not get a valuable conversion.</p>\n<p>Details about sizes of primitive Java types here:<br />\n<a href=\"https://docs.oracle.com/javase/tutorial/java/nutsandbolts/datatypes.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/tutorial/java/nutsandbolts/datatypes.html</a></p>\n"},{"comments":[{"owner":{"account_id":1082858,"reputation":104688,"user_id":1079354,"accept_rate":93,"display_name":"Makoto"},"score":0,"creation_date":1340762223,"post_id":11217583,"comment_id":14732719,"body_markdown":"It may be a good idea to link to the current documentation, as well as expand on this - inevitably, there&#39;s going to be some degree of rounding when converting a long to an int.","body":"It may be a good idea to link to the current documentation, as well as expand on this - inevitably, there&#39;s going to be some degree of rounding when converting a long to an int."},{"owner":{"account_id":38384,"reputation":1715,"user_id":110126,"accept_rate":85,"display_name":"buzz3791"},"score":3,"creation_date":1383147779,"post_id":11217583,"comment_id":29240897,"body_markdown":"Looking at the Java 7 implementation of Long.intValue(), it&#39;s just casting. No under/overflow checking is implemented.  So at least through Java 7, this option is equivalent to just: (int)someLong.","body":"Looking at the Java 7 implementation of Long.intValue(), it&#39;s just casting. No under/overflow checking is implemented.  So at least through Java 7, this option is equivalent to just: (int)someLong."},{"owner":{"account_id":5166793,"reputation":1850,"user_id":4136515,"accept_rate":51,"display_name":"Anand Kadhi"},"score":0,"creation_date":1492494569,"post_id":11217583,"comment_id":73984450,"body_markdown":"why less upvotes ? I found this one of most valuable Answer","body":"why less upvotes ? I found this one of most valuable Answer"}],"tags":[],"owner":{"account_id":1466645,"reputation":677,"user_id":1379291,"display_name":"eleonzx"},"comment_count":3,"down_vote_count":3,"up_vote_count":31,"is_accepted":false,"score":28,"last_activity_date":1584451952,"creation_date":1340754924,"answer_id":11217583,"question_id":4355303,"body_markdown":" You can use the `Long` wrapper instead of `long` primitive and call \r\n\r\n    Long.intValue()\r\n\r\n[Java7 intValue() docs][1]\r\n\r\nIt rounds/truncate the `long` value accordingly to fit in an `int`.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/lang/Long.html#intValue()","title":"How can I convert a long to int in Java?","body":"<p>You can use the <code>Long</code> wrapper instead of <code>long</code> primitive and call </p>\n\n<pre><code>Long.intValue()\n</code></pre>\n\n<p><a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/Long.html#intValue()\" rel=\"noreferrer\">Java7 intValue() docs</a></p>\n\n<p>It rounds/truncate the <code>long</code> value accordingly to fit in an <code>int</code>.</p>\n"},{"comments":[{"owner":{"account_id":265054,"reputation":1580,"user_id":551773,"display_name":"Grekz"},"score":4,"creation_date":1358364571,"post_id":12276199,"comment_id":19976760,"body_markdown":"There is no need of using libraries","body":"There is no need of using libraries"},{"owner":{"account_id":1413944,"reputation":59688,"user_id":1339987,"accept_rate":54,"display_name":"djechlin"},"score":6,"creation_date":1376945080,"post_id":12276199,"comment_id":26891021,"body_markdown":"@Grekz that&#39;s up to the OP. I would in this case. More dependency jars is better than more reinvented wheels unless you have an actual reason not to have more dependency jars.","body":"@Grekz that&#39;s up to the OP. I would in this case. More dependency jars is better than more reinvented wheels unless you have an actual reason not to have more dependency jars."},{"owner":{"account_id":550954,"reputation":831,"user_id":915655,"display_name":"Mark Slater"},"score":1,"creation_date":1417518462,"post_id":12276199,"comment_id":42970366,"body_markdown":"IMHO, this answer is much better than the accepted one, in that it never does something unexpected.","body":"IMHO, this answer is much better than the accepted one, in that it never does something unexpected."},{"owner":{"account_id":477556,"reputation":2253,"user_id":889126,"accept_rate":80,"display_name":"Osify"},"score":5,"creation_date":1434513010,"post_id":12276199,"comment_id":49804717,"body_markdown":"Since my project already include that jar, it would be more benefit to use it than to write a new helper","body":"Since my project already include that jar, it would be more benefit to use it than to write a new helper"}],"tags":[],"owner":{"account_id":103751,"reputation":3256,"user_id":277733,"display_name":"Andrej Herich"},"comment_count":4,"down_vote_count":2,"up_vote_count":41,"is_accepted":false,"score":39,"last_activity_date":1473800813,"creation_date":1346828833,"answer_id":12276199,"question_id":4355303,"body_markdown":"If using [Guava library][3], there are methods [`Ints.checkedCast(long)`][1] and [`Ints.saturatedCast(long)`][2] for converting `long` to `int`.\r\n\r\n\r\n  [1]: https://google.github.io/guava/releases/19.0/api/docs/com/google/common/primitives/Ints.html#checkedCast(long)\r\n  [2]: https://google.github.io/guava/releases/19.0/api/docs/com/google/common/primitives/Ints.html#saturatedCast(long)\r\n  [3]: https://github.com/google/guava","title":"How can I convert a long to int in Java?","body":"<p>If using <a href=\"https://github.com/google/guava\" rel=\"noreferrer\">Guava library</a>, there are methods <a href=\"https://google.github.io/guava/releases/19.0/api/docs/com/google/common/primitives/Ints.html#checkedCast(long)\" rel=\"noreferrer\"><code>Ints.checkedCast(long)</code></a> and <a href=\"https://google.github.io/guava/releases/19.0/api/docs/com/google/common/primitives/Ints.html#saturatedCast(long)\" rel=\"noreferrer\"><code>Ints.saturatedCast(long)</code></a> for converting <code>long</code> to <code>int</code>.</p>\n"},{"comments":[{"owner":{"account_id":45164,"reputation":1854,"user_id":133025,"accept_rate":78,"display_name":"Gordon"},"score":6,"creation_date":1366221482,"post_id":15193006,"comment_id":22931401,"body_markdown":"Spring may be Java, but Java is not Spring. &quot;In java, there is&quot; is a false statement.","body":"Spring may be Java, but Java is not Spring. &quot;In java, there is&quot; is a false statement."}],"tags":[],"owner":{"account_id":540802,"reputation":45,"user_id":909128,"display_name":"tsaowe"},"comment_count":1,"down_vote_count":9,"up_vote_count":1,"is_accepted":false,"score":-8,"last_activity_date":1516133981,"creation_date":1362359422,"answer_id":15193006,"question_id":4355303,"body_markdown":"In Spring, there is a rigorous way to convert a long to int\r\n\r\nnot only lnog can convert into int,any type of class extends Number can convert to other Number type in general,here I will show you how to convert a long to int,other type vice versa.\r\n\r\n\r\n    Long l = 1234567L;\r\n    int i = org.springframework.util.NumberUtils.convertNumberToTargetClass(l, Integer.class);\r\n\r\n\r\n![convert long to int][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/BElEq.jpg","title":"How can I convert a long to int in Java?","body":"<p>In Spring, there is a rigorous way to convert a long to int</p>\n\n<p>not only lnog can convert into int,any type of class extends Number can convert to other Number type in general,here I will show you how to convert a long to int,other type vice versa.</p>\n\n<pre><code>Long l = 1234567L;\nint i = org.springframework.util.NumberUtils.convertNumberToTargetClass(l, Integer.class);\n</code></pre>\n\n<p><img src=\"https://i.stack.imgur.com/BElEq.jpg\" alt=\"convert long to int\"></p>\n"},{"tags":[],"owner":{"account_id":1875358,"reputation":614,"user_id":1696683,"accept_rate":75,"display_name":"Kristijan Drača"},"comment_count":0,"down_vote_count":5,"up_vote_count":0,"is_accepted":false,"score":-5,"last_activity_date":1405435451,"creation_date":1382688422,"answer_id":19584424,"question_id":4355303,"body_markdown":"    Long l = 100;\r\n    int i = Math.round(l);","title":"How can I convert a long to int in Java?","body":"<pre><code>Long l = 100;\nint i = Math.round(l);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":8739741,"reputation":6543,"user_id":6537157,"accept_rate":100,"display_name":"akop"},"score":8,"creation_date":1526287690,"post_id":20395761,"comment_id":87668298,"body_markdown":"Note the types. Its not a primitive `long` here. Its the reference type `Long` which cant directly cast to an primitive `int`. `int y = (int)x;` will throws an execption but `int y = (int)(long)x` will work. (The reason is autoboxing)","body":"Note the types. Its not a primitive <code>long</code> here. Its the reference type <code>Long</code> which cant directly cast to an primitive <code>int</code>. <code>int y = (int)x;</code> will throws an execption but <code>int y = (int)(long)x</code> will work. (The reason is autoboxing)"}],"tags":[],"owner":{"account_id":3249075,"reputation":2653,"user_id":2739864,"display_name":"Laxman"},"comment_count":1,"down_vote_count":6,"up_vote_count":222,"is_accepted":false,"score":216,"last_activity_date":1405434736,"creation_date":1386234667,"answer_id":20395761,"question_id":4355303,"body_markdown":"\r\n    Long x = 100L;\r\n    int y = x.intValue();\r\n\r\n&lt;b&gt;&lt;/b&gt;","title":"How can I convert a long to int in Java?","body":"<pre><code>Long x = 100L;\nint y = x.intValue();\n</code></pre>\n\n<p><b></b></p>\n"},{"tags":[],"owner":{"account_id":2648879,"reputation":4294,"user_id":2291056,"display_name":"Kuchi"},"comment_count":0,"down_vote_count":0,"up_vote_count":67,"is_accepted":false,"score":67,"last_activity_date":1461770714,"creation_date":1459421928,"answer_id":36331461,"question_id":4355303,"body_markdown":"Since Java 8\r\nyou can use: Math.toIntExact(long value)\r\n\r\n[See JavaDoc: Math.toIntExact][1]\r\n\r\n&gt; Returns the value of the long argument; throwing an exception if the value overflows an int.\r\n\r\nSource code of `Math.toIntExact` in JDK 8:\r\n\r\n\r\n    public static int toIntExact(long value) {\r\n        if ((int)value != value) {\r\n            throw new ArithmeticException(&quot;integer overflow&quot;);\r\n        }\r\n        return (int)value;\r\n    }\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/lang/Math.html#toIntExact-long-","title":"How can I convert a long to int in Java?","body":"<p>Since Java 8\nyou can use: Math.toIntExact(long value)</p>\n\n<p><a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Math.html#toIntExact-long-\">See JavaDoc: Math.toIntExact</a></p>\n\n<blockquote>\n  <p>Returns the value of the long argument; throwing an exception if the value overflows an int.</p>\n</blockquote>\n\n<p>Source code of <code>Math.toIntExact</code> in JDK 8:</p>\n\n<pre><code>public static int toIntExact(long value) {\n    if ((int)value != value) {\n        throw new ArithmeticException(\"integer overflow\");\n    }\n    return (int)value;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2097710,"reputation":795,"user_id":1866115,"accept_rate":85,"display_name":"Mohammad H"},"comment_count":0,"down_vote_count":2,"up_vote_count":7,"is_accepted":false,"score":5,"last_activity_date":1502172152,"creation_date":1502172152,"answer_id":45560380,"question_id":4355303,"body_markdown":"If direct casting shows error you can do it like this:\r\n\r\n    Long id = 100;\r\n    int int_id = (int) (id % 100000);","title":"How can I convert a long to int in Java?","body":"<p>If direct casting shows error you can do it like this:</p>\n\n<pre><code>Long id = 100;\nint int_id = (int) (id % 100000);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4567927,"reputation":5819,"user_id":3708462,"accept_rate":57,"display_name":"Emdadul Sawon"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1533114268,"creation_date":1533114268,"answer_id":51629322,"question_id":4355303,"body_markdown":"In **Java 8** I do in following way\r\n\r\n    long l = 100L;\r\n    int i = Math.toIntExact(l);\r\nThis method throws `ArithmaticException` if `long` value exceed range of `int`. Thus I am safe from data loss. ","title":"How can I convert a long to int in Java?","body":"<p>In <strong>Java 8</strong> I do in following way</p>\n\n<pre><code>long l = 100L;\nint i = Math.toIntExact(l);\n</code></pre>\n\n<p>This method throws <code>ArithmaticException</code> if <code>long</code> value exceed range of <code>int</code>. Thus I am safe from data loss. </p>\n"},{"comments":[{"owner":{"account_id":15756672,"reputation":191,"user_id":11369664,"display_name":"George Xavier"},"score":1,"creation_date":1563898142,"post_id":54880211,"comment_id":100850049,"body_markdown":"This is wrong, 3.120 is not a long, it is a double or floating point number.","body":"This is wrong, 3.120 is not a long, it is a double or floating point number."}],"tags":[],"owner":{"account_id":14694822,"reputation":640,"user_id":10612481,"display_name":"MANOJ G"},"comment_count":1,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1564996950,"creation_date":1551165451,"answer_id":54880211,"question_id":4355303,"body_markdown":"long x = 3120L;  //take any long value\r\nint z =  x.intValue();  //you can convert double to int also in the same way\r\n\r\nif you needto covert directly then\r\n\r\nlongvalue.intvalue();","title":"How can I convert a long to int in Java?","body":"<p>long x = 3120L;  //take any long value\nint z =  x.intValue();  //you can convert double to int also in the same way</p>\n\n<p>if you needto covert directly then</p>\n\n<p>longvalue.intvalue();</p>\n"},{"comments":[{"owner":{"account_id":17505775,"reputation":3076,"user_id":12695027,"display_name":"Scratte"},"score":0,"creation_date":1590912577,"post_id":62112996,"comment_id":109855711,"body_markdown":"You mean declaring it like `Function&lt;Long,Integer&gt; function =`?","body":"You mean declaring it like <code>Function&lt;Long,Integer&gt; function =</code>?"}],"tags":[],"owner":{"account_id":18724199,"reputation":1,"user_id":13651274,"display_name":"user13651274"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1590910436,"creation_date":1590910436,"answer_id":62112996,"question_id":4355303,"body_markdown":"If you want to make a safe conversion and enjoy the use of Java8 with Lambda expression\r\nYou can use it like:\r\n\r\n    val -&gt; Optional.ofNullable(val).map(Long::intValue).orElse(null)","title":"How can I convert a long to int in Java?","body":"<p>If you want to make a safe conversion and enjoy the use of Java8 with Lambda expression\nYou can use it like:</p>\n\n<pre><code>val -&gt; Optional.ofNullable(val).map(Long::intValue).orElse(null)\n</code></pre>\n"},{"comments":[{"owner":{"account_id":5068874,"reputation":4011,"user_id":4068240,"display_name":"Clijsters"},"score":1,"creation_date":1593630141,"post_id":62683632,"comment_id":110851585,"body_markdown":"Please do not answer with a comment/question. Understandably, your rep is too low to comment, but that still does not mean answers should be used to make comments as an alternative. It would be preferable if you deleted this.","body":"Please do not answer with a comment/question. Understandably, your rep is too low to comment, but that still does not mean answers should be used to make comments as an alternative. It would be preferable if you deleted this."}],"tags":[],"owner":{"account_id":18950744,"reputation":21,"user_id":13828507,"display_name":"YrvCodes"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1593631323,"creation_date":1593629742,"answer_id":62683632,"question_id":4355303,"body_markdown":"Manual typecasting can be done here:\r\n\r\n    long x1 = 1234567891;\r\n    int y1 = (int) x1;\r\n    System.out.println(&quot;in value is &quot; + y1);","title":"How can I convert a long to int in Java?","body":"<p>Manual typecasting can be done here:</p>\n<pre><code>long x1 = 1234567891;\nint y1 = (int) x1;\nSystem.out.println(&quot;in value is &quot; + y1);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":74735,"reputation":4731,"user_id":214597,"accept_rate":96,"display_name":"Stefan Hendriks"},"comment_count":0,"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1604574828,"creation_date":1604574828,"answer_id":64696035,"question_id":4355303,"body_markdown":"Shortest, most safe and easiest solution is:\r\n\r\n    long myValue=...;\r\n    int asInt = Long.valueOf(myValue).intValue();\r\n\r\nDo note, the behavior of `Long.valueOf` is as such:\r\n\r\nUsing this code:\r\n\r\n    System.out.println(&quot;Long max: &quot; + Long.MAX_VALUE);\r\n    System.out.println(&quot;Int max: &quot; + Integer.MAX_VALUE);        \r\n    long maxIntValue = Integer.MAX_VALUE;\r\n    System.out.println(&quot;Long maxIntValue to int: &quot; + Long.valueOf(maxIntValue).intValue());\r\n    long maxIntValuePlusOne = Integer.MAX_VALUE + 1;\r\n    System.out.println(&quot;Long maxIntValuePlusOne to int: &quot; + Long.valueOf(maxIntValuePlusOne).intValue());\r\n    System.out.println(&quot;Long max to int: &quot; + Long.valueOf(Long.MAX_VALUE).intValue());\r\n\r\nResults into:\r\n```\r\nLong max: 9223372036854775807\r\nInt max: 2147483647\r\nLong max to int: -1\r\nLong maxIntValue to int: 2147483647\r\nLong maxIntValuePlusOne to int: -2147483648\r\n``` ","title":"How can I convert a long to int in Java?","body":"<p>Shortest, most safe and easiest solution is:</p>\n<pre><code>long myValue=...;\nint asInt = Long.valueOf(myValue).intValue();\n</code></pre>\n<p>Do note, the behavior of <code>Long.valueOf</code> is as such:</p>\n<p>Using this code:</p>\n<pre><code>System.out.println(&quot;Long max: &quot; + Long.MAX_VALUE);\nSystem.out.println(&quot;Int max: &quot; + Integer.MAX_VALUE);        \nlong maxIntValue = Integer.MAX_VALUE;\nSystem.out.println(&quot;Long maxIntValue to int: &quot; + Long.valueOf(maxIntValue).intValue());\nlong maxIntValuePlusOne = Integer.MAX_VALUE + 1;\nSystem.out.println(&quot;Long maxIntValuePlusOne to int: &quot; + Long.valueOf(maxIntValuePlusOne).intValue());\nSystem.out.println(&quot;Long max to int: &quot; + Long.valueOf(Long.MAX_VALUE).intValue());\n</code></pre>\n<p>Results into:</p>\n<pre><code>Long max: 9223372036854775807\nInt max: 2147483647\nLong max to int: -1\nLong maxIntValue to int: 2147483647\nLong maxIntValuePlusOne to int: -2147483648\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19657800,"reputation":17,"user_id":14390015,"display_name":"Syed Irfan Hussaini"},"comment_count":0,"down_vote_count":4,"up_vote_count":0,"is_accepted":false,"score":-4,"last_activity_date":1610612060,"creation_date":1610612060,"answer_id":65715462,"question_id":4355303,"body_markdown":"I Also Faced This Problem.\r\nTo Solve This I have first converted my long to String then to int.\r\n\r\n    int i = Integer.parseInt(String.valueOf(long));","title":"How can I convert a long to int in Java?","body":"<p>I Also Faced This Problem.\nTo Solve This I have first converted my long to String then to int.</p>\n<pre><code>int i = Integer.parseInt(String.valueOf(long));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20879788,"reputation":41,"user_id":15337823,"display_name":"Daniel Tam"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1615412515,"creation_date":1615412515,"answer_id":66573283,"question_id":4355303,"body_markdown":"```\r\nlong x;\r\nint y;\r\ny = (int) x\r\n```\r\nYou can cast a long to int so long as the number is less than 2147483647 without an error.","title":"How can I convert a long to int in Java?","body":"<pre><code>long x;\nint y;\ny = (int) x\n</code></pre>\n<p>You can cast a long to int so long as the number is less than 2147483647 without an error.</p>\n"},{"tags":[],"owner":{"account_id":9901847,"reputation":79,"user_id":7331630,"display_name":"ryuik"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632856412,"creation_date":1632849032,"answer_id":69365904,"question_id":4355303,"body_markdown":"I&#39;m adding few key details. \r\n\r\nBasically what Java does is truncate `long` after 32 bits, so simple typecasting will do the trick: \r\n\r\n        long l=100000000000000000l;\r\n        System.out.println(Long.toString(l,2));\r\n        int t=(int)l;\r\n        System.out.println(Integer.toString(t,2));\r\n\r\nWhich outputs:\r\n\r\n    101100011010001010111100001011101100010100000000000000000\r\n                              1011101100010100000000000000000\r\n\r\nfor `l=1000000043634760000l` it outputs:\r\n\r\n    110111100000101101101011110111010000001110011001100101000000\r\n                                 -101111110001100110011011000000\r\n\r\nIf we convert this `-101111110001100110011011000000` in proper two&#39;s compliment we will get the exact 32-bit signed truncated from the `long`.\r\n","title":"How can I convert a long to int in Java?","body":"<p>I'm adding few key details.</p>\n<p>Basically what Java does is truncate <code>long</code> after 32 bits, so simple typecasting will do the trick:</p>\n<pre><code>    long l=100000000000000000l;\n    System.out.println(Long.toString(l,2));\n    int t=(int)l;\n    System.out.println(Integer.toString(t,2));\n</code></pre>\n<p>Which outputs:</p>\n<pre><code>101100011010001010111100001011101100010100000000000000000\n                          1011101100010100000000000000000\n</code></pre>\n<p>for <code>l=1000000043634760000l</code> it outputs:</p>\n<pre><code>110111100000101101101011110111010000001110011001100101000000\n                             -101111110001100110011011000000\n</code></pre>\n<p>If we convert this <code>-101111110001100110011011000000</code> in proper two's compliment we will get the exact 32-bit signed truncated from the <code>long</code>.</p>\n"},{"tags":[],"owner":{"account_id":27178441,"reputation":1,"user_id":20714092,"display_name":"Senim Kesharwani"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672777144,"creation_date":1672769477,"answer_id":74997134,"question_id":4355303,"body_markdown":"```java\r\n// Java Program to convert long to int\r\n  \r\nclass Main {\r\n  public static void main(String[] args) {\r\n  \r\n    // create long variable\r\n    long value1 = 523386L;\r\n    long value2 = -4456368L;\r\n  \r\n    // change long to int\r\n    int num1 = Math.toIntExact(value1);\r\n    int num2 = Math.toIntExact(value2);\r\n      \r\n    // print the type\r\n    System.out.println(&quot;Converted type: &quot;+ ((Object)num1).getClass().getName());\r\n    System.out.println(&quot;Converted type: &quot;+ ((Object)num2).getClass().getName());\r\n  \r\n    // print the int value\r\n    System.out.println(num1);  // 52336\r\n    System.out.println(num2);  // -445636\r\n  }\r\n}\r\n```","title":"How can I convert a long to int in Java?","body":"<pre class=\"lang-java prettyprint-override\"><code>// Java Program to convert long to int\n  \nclass Main {\n  public static void main(String[] args) {\n  \n    // create long variable\n    long value1 = 523386L;\n    long value2 = -4456368L;\n  \n    // change long to int\n    int num1 = Math.toIntExact(value1);\n    int num2 = Math.toIntExact(value2);\n      \n    // print the type\n    System.out.println(&quot;Converted type: &quot;+ ((Object)num1).getClass().getName());\n    System.out.println(&quot;Converted type: &quot;+ ((Object)num2).getClass().getName());\n  \n    // print the int value\n    System.out.println(num1);  // 52336\n    System.out.println(num2);  // -445636\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":680921,"reputation":4335,"user_id":530667,"display_name":"Arthur"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":935767,"favorite_count":0,"down_vote_count":13,"up_vote_count":436,"answer_count":20,"score":423,"last_activity_date":1697681669,"creation_date":1291490015,"question_id":4355303,"body_markdown":"How can I convert a long to int in Java?","title":"How can I convert a long to int in Java?","body":"<p>How can I convert a long to int in Java?</p>\n"},{"tags":["java","svg"],"comments":[{"owner":{"account_id":125949,"reputation":9471,"user_id":322084,"display_name":"chrwahl"},"score":1,"creation_date":1697634054,"post_id":77316241,"comment_id":136304323,"body_markdown":"If this question is related to the programming language Java then add the Java tag to your question.","body":"If this question is related to the programming language Java then add the Java tag to your question."},{"owner":{"account_id":20463653,"reputation":12525,"user_id":15015675,"display_name":"herrstrietzel"},"score":1,"creation_date":1697639417,"post_id":77316241,"comment_id":136305591,"body_markdown":"This is indeed an exploit AKA &quot;Billion laughs attack&quot;. You might translate the JS concept described here [How to identify if SVG is consuming all browser&#39;s memory and snaps the window](https://stackoverflow.com/questions/75066403/how-to-identify-if-svg-is-consuming-all-browsers-memory-and-snaps-the-window/75091943#75091943) to java","body":"This is indeed an exploit AKA &quot;Billion laughs attack&quot;. You might translate the JS concept described here <a href=\"https://stackoverflow.com/questions/75066403/how-to-identify-if-svg-is-consuming-all-browsers-memory-and-snaps-the-window/75091943#75091943\">How to identify if SVG is consuming all browser&#39;s memory and snaps the window</a> to java"}],"owner":{"account_id":26457525,"reputation":11,"user_id":20099925,"display_name":"Chiaki"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1697681255,"creation_date":1697631533,"question_id":77316241,"body_markdown":"I have an SVG file with a lot of &lt;use&gt; nesting inside it. So although the file size is small, a lot of memory is used when rendering. Want to know how to use Java to distinguish this type of SVG file from other types of SVG files.\r\n\r\n    &lt;svg version=&quot;1.2&quot; baseProfile=&quot;tiny&quot; xmlns=&quot;http://www.w3.org/2000/svg&quot; xmlns:xlink=&quot;http://www.w3.org/1999/xlink&quot; x=&quot;0px&quot; y=&quot;0px&quot; xml:space=&quot;preserve&quot;&gt;\r\n    &lt;path id=&quot;a&quot; d=&quot;M0,0&quot;/&gt;\r\n    &lt;g id=&quot;b&quot;&gt;&lt;use xlink:href=&quot;#a&quot;/&gt;&lt;use xlink:href=&quot;#a&quot;/&gt;&lt;use xlink:href=&quot;#a&quot;/&gt;&lt;use xlink:href=&quot;#a&quot;/&gt;&lt;use xlink:href=&quot;#a&quot;/&gt;&lt;use xlink:href=&quot;#a&quot;/&gt;&lt;use xlink:href=&quot;#a&quot;/&gt;&lt;use xlink:href=&quot;#a&quot;/&gt;&lt;use xlink:href=&quot;#a&quot;/&gt;&lt;use xlink:href=&quot;#a&quot;/&gt;&lt;/g&gt;\r\n    &lt;g id=&quot;c&quot;&gt;&lt;use xlink:href=&quot;#b&quot;/&gt;&lt;use xlink:href=&quot;#b&quot;/&gt;&lt;use xlink:href=&quot;#b&quot;/&gt;&lt;use xlink:href=&quot;#b&quot;/&gt;&lt;use xlink:href=&quot;#b&quot;/&gt;&lt;use xlink:href=&quot;#b&quot;/&gt;&lt;use xlink:href=&quot;#b&quot;/&gt;&lt;use xlink:href=&quot;#b&quot;/&gt;&lt;use xlink:href=&quot;#b&quot;/&gt;&lt;use xlink:href=&quot;#b&quot;/&gt;&lt;/g&gt;\r\n    &lt;g id=&quot;d&quot;&gt;&lt;use xlink:href=&quot;#c&quot;/&gt;&lt;use xlink:href=&quot;#c&quot;/&gt;&lt;use xlink:href=&quot;#c&quot;/&gt;&lt;use xlink:href=&quot;#c&quot;/&gt;&lt;use xlink:href=&quot;#c&quot;/&gt;&lt;use xlink:href=&quot;#c&quot;/&gt;&lt;use xlink:href=&quot;#c&quot;/&gt;&lt;use xlink:href=&quot;#c&quot;/&gt;&lt;use xlink:href=&quot;#c&quot;/&gt;&lt;use xlink:href=&quot;#c&quot;/&gt;&lt;/g&gt;\r\n    &lt;g id=&quot;e&quot;&gt;&lt;use xlink:href=&quot;#d&quot;/&gt;&lt;use xlink:href=&quot;#d&quot;/&gt;&lt;use xlink:href=&quot;#d&quot;/&gt;&lt;use xlink:href=&quot;#d&quot;/&gt;&lt;use xlink:href=&quot;#d&quot;/&gt;&lt;use xlink:href=&quot;#d&quot;/&gt;&lt;use xlink:href=&quot;#d&quot;/&gt;&lt;use xlink:href=&quot;#d&quot;/&gt;&lt;use xlink:href=&quot;#d&quot;/&gt;&lt;use xlink:href=&quot;#d&quot;/&gt;&lt;/g&gt;\r\n    &lt;g id=&quot;f&quot;&gt;&lt;use xlink:href=&quot;#e&quot;/&gt;&lt;use xlink:href=&quot;#e&quot;/&gt;&lt;use xlink:href=&quot;#e&quot;/&gt;&lt;use xlink:href=&quot;#e&quot;/&gt;&lt;use xlink:href=&quot;#e&quot;/&gt;&lt;use xlink:href=&quot;#e&quot;/&gt;&lt;use xlink:href=&quot;#e&quot;/&gt;&lt;use xlink:href=&quot;#e&quot;/&gt;&lt;use xlink:href=&quot;#e&quot;/&gt;&lt;use xlink:href=&quot;#e&quot;/&gt;&lt;/g&gt;\r\n    &lt;g id=&quot;g&quot;&gt;&lt;use xlink:href=&quot;#f&quot;/&gt;&lt;use xlink:href=&quot;#f&quot;/&gt;&lt;use xlink:href=&quot;#f&quot;/&gt;&lt;use xlink:href=&quot;#f&quot;/&gt;&lt;use xlink:href=&quot;#f&quot;/&gt;&lt;use xlink:href=&quot;#f&quot;/&gt;&lt;use xlink:href=&quot;#f&quot;/&gt;&lt;use xlink:href=&quot;#f&quot;/&gt;&lt;use xlink:href=&quot;#f&quot;/&gt;&lt;use xlink:href=&quot;#f&quot;/&gt;&lt;/g&gt;\r\n    &lt;g id=&quot;h&quot;&gt;&lt;use xlink:href=&quot;#g&quot;/&gt;&lt;use xlink:href=&quot;#g&quot;/&gt;&lt;use xlink:href=&quot;#g&quot;/&gt;&lt;use xlink:href=&quot;#g&quot;/&gt;&lt;use xlink:href=&quot;#g&quot;/&gt;&lt;use xlink:href=&quot;#g&quot;/&gt;&lt;use xlink:href=&quot;#g&quot;/&gt;&lt;use xlink:href=&quot;#g&quot;/&gt;&lt;use xlink:href=&quot;#g&quot;/&gt;&lt;use xlink:href=&quot;#g&quot;/&gt;&lt;/g&gt;\r\n    &lt;g id=&quot;i&quot;&gt;&lt;use xlink:href=&quot;#h&quot;/&gt;&lt;use xlink:href=&quot;#h&quot;/&gt;&lt;use xlink:href=&quot;#h&quot;/&gt;&lt;use xlink:href=&quot;#h&quot;/&gt;&lt;use xlink:href=&quot;#h&quot;/&gt;&lt;use xlink:href=&quot;#h&quot;/&gt;&lt;use xlink:href=&quot;#h&quot;/&gt;&lt;use xlink:href=&quot;#h&quot;/&gt;&lt;use xlink:href=&quot;#h&quot;/&gt;&lt;use xlink:href=&quot;#h&quot;/&gt;&lt;/g&gt;\r\n    &lt;g id=&quot;j&quot;&gt;&lt;use xlink:href=&quot;#i&quot;/&gt;&lt;use xlink:href=&quot;#i&quot;/&gt;&lt;use xlink:href=&quot;#i&quot;/&gt;&lt;use xlink:href=&quot;#i&quot;/&gt;&lt;use xlink:href=&quot;#i&quot;/&gt;&lt;use xlink:href=&quot;#i&quot;/&gt;&lt;use xlink:href=&quot;#i&quot;/&gt;&lt;use xlink:href=&quot;#i&quot;/&gt;&lt;use xlink:href=&quot;#i&quot;/&gt;&lt;use xlink:href=&quot;#i&quot;/&gt;&lt;/g&gt;\r\n    &lt;/svg&gt;","title":"SVG files are nested with a large number of&lt;use&gt;tags, resulting in rendering errors","body":"<p>I have an SVG file with a lot of  nesting inside it. So although the file size is small, a lot of memory is used when rendering. Want to know how to use Java to distinguish this type of SVG file from other types of SVG files.</p>\n<pre><code>&lt;svg version=&quot;1.2&quot; baseProfile=&quot;tiny&quot; xmlns=&quot;http://www.w3.org/2000/svg&quot; xmlns:xlink=&quot;http://www.w3.org/1999/xlink&quot; x=&quot;0px&quot; y=&quot;0px&quot; xml:space=&quot;preserve&quot;&gt;\n&lt;path id=&quot;a&quot; d=&quot;M0,0&quot;/&gt;\n&lt;g id=&quot;b&quot;&gt;&lt;use xlink:href=&quot;#a&quot;/&gt;&lt;use xlink:href=&quot;#a&quot;/&gt;&lt;use xlink:href=&quot;#a&quot;/&gt;&lt;use xlink:href=&quot;#a&quot;/&gt;&lt;use xlink:href=&quot;#a&quot;/&gt;&lt;use xlink:href=&quot;#a&quot;/&gt;&lt;use xlink:href=&quot;#a&quot;/&gt;&lt;use xlink:href=&quot;#a&quot;/&gt;&lt;use xlink:href=&quot;#a&quot;/&gt;&lt;use xlink:href=&quot;#a&quot;/&gt;&lt;/g&gt;\n&lt;g id=&quot;c&quot;&gt;&lt;use xlink:href=&quot;#b&quot;/&gt;&lt;use xlink:href=&quot;#b&quot;/&gt;&lt;use xlink:href=&quot;#b&quot;/&gt;&lt;use xlink:href=&quot;#b&quot;/&gt;&lt;use xlink:href=&quot;#b&quot;/&gt;&lt;use xlink:href=&quot;#b&quot;/&gt;&lt;use xlink:href=&quot;#b&quot;/&gt;&lt;use xlink:href=&quot;#b&quot;/&gt;&lt;use xlink:href=&quot;#b&quot;/&gt;&lt;use xlink:href=&quot;#b&quot;/&gt;&lt;/g&gt;\n&lt;g id=&quot;d&quot;&gt;&lt;use xlink:href=&quot;#c&quot;/&gt;&lt;use xlink:href=&quot;#c&quot;/&gt;&lt;use xlink:href=&quot;#c&quot;/&gt;&lt;use xlink:href=&quot;#c&quot;/&gt;&lt;use xlink:href=&quot;#c&quot;/&gt;&lt;use xlink:href=&quot;#c&quot;/&gt;&lt;use xlink:href=&quot;#c&quot;/&gt;&lt;use xlink:href=&quot;#c&quot;/&gt;&lt;use xlink:href=&quot;#c&quot;/&gt;&lt;use xlink:href=&quot;#c&quot;/&gt;&lt;/g&gt;\n&lt;g id=&quot;e&quot;&gt;&lt;use xlink:href=&quot;#d&quot;/&gt;&lt;use xlink:href=&quot;#d&quot;/&gt;&lt;use xlink:href=&quot;#d&quot;/&gt;&lt;use xlink:href=&quot;#d&quot;/&gt;&lt;use xlink:href=&quot;#d&quot;/&gt;&lt;use xlink:href=&quot;#d&quot;/&gt;&lt;use xlink:href=&quot;#d&quot;/&gt;&lt;use xlink:href=&quot;#d&quot;/&gt;&lt;use xlink:href=&quot;#d&quot;/&gt;&lt;use xlink:href=&quot;#d&quot;/&gt;&lt;/g&gt;\n&lt;g id=&quot;f&quot;&gt;&lt;use xlink:href=&quot;#e&quot;/&gt;&lt;use xlink:href=&quot;#e&quot;/&gt;&lt;use xlink:href=&quot;#e&quot;/&gt;&lt;use xlink:href=&quot;#e&quot;/&gt;&lt;use xlink:href=&quot;#e&quot;/&gt;&lt;use xlink:href=&quot;#e&quot;/&gt;&lt;use xlink:href=&quot;#e&quot;/&gt;&lt;use xlink:href=&quot;#e&quot;/&gt;&lt;use xlink:href=&quot;#e&quot;/&gt;&lt;use xlink:href=&quot;#e&quot;/&gt;&lt;/g&gt;\n&lt;g id=&quot;g&quot;&gt;&lt;use xlink:href=&quot;#f&quot;/&gt;&lt;use xlink:href=&quot;#f&quot;/&gt;&lt;use xlink:href=&quot;#f&quot;/&gt;&lt;use xlink:href=&quot;#f&quot;/&gt;&lt;use xlink:href=&quot;#f&quot;/&gt;&lt;use xlink:href=&quot;#f&quot;/&gt;&lt;use xlink:href=&quot;#f&quot;/&gt;&lt;use xlink:href=&quot;#f&quot;/&gt;&lt;use xlink:href=&quot;#f&quot;/&gt;&lt;use xlink:href=&quot;#f&quot;/&gt;&lt;/g&gt;\n&lt;g id=&quot;h&quot;&gt;&lt;use xlink:href=&quot;#g&quot;/&gt;&lt;use xlink:href=&quot;#g&quot;/&gt;&lt;use xlink:href=&quot;#g&quot;/&gt;&lt;use xlink:href=&quot;#g&quot;/&gt;&lt;use xlink:href=&quot;#g&quot;/&gt;&lt;use xlink:href=&quot;#g&quot;/&gt;&lt;use xlink:href=&quot;#g&quot;/&gt;&lt;use xlink:href=&quot;#g&quot;/&gt;&lt;use xlink:href=&quot;#g&quot;/&gt;&lt;use xlink:href=&quot;#g&quot;/&gt;&lt;/g&gt;\n&lt;g id=&quot;i&quot;&gt;&lt;use xlink:href=&quot;#h&quot;/&gt;&lt;use xlink:href=&quot;#h&quot;/&gt;&lt;use xlink:href=&quot;#h&quot;/&gt;&lt;use xlink:href=&quot;#h&quot;/&gt;&lt;use xlink:href=&quot;#h&quot;/&gt;&lt;use xlink:href=&quot;#h&quot;/&gt;&lt;use xlink:href=&quot;#h&quot;/&gt;&lt;use xlink:href=&quot;#h&quot;/&gt;&lt;use xlink:href=&quot;#h&quot;/&gt;&lt;use xlink:href=&quot;#h&quot;/&gt;&lt;/g&gt;\n&lt;g id=&quot;j&quot;&gt;&lt;use xlink:href=&quot;#i&quot;/&gt;&lt;use xlink:href=&quot;#i&quot;/&gt;&lt;use xlink:href=&quot;#i&quot;/&gt;&lt;use xlink:href=&quot;#i&quot;/&gt;&lt;use xlink:href=&quot;#i&quot;/&gt;&lt;use xlink:href=&quot;#i&quot;/&gt;&lt;use xlink:href=&quot;#i&quot;/&gt;&lt;use xlink:href=&quot;#i&quot;/&gt;&lt;use xlink:href=&quot;#i&quot;/&gt;&lt;use xlink:href=&quot;#i&quot;/&gt;&lt;/g&gt;\n&lt;/svg&gt;\n</code></pre>\n"},{"tags":["java","spring","spring-boot","javax-validation"],"comments":[{"owner":{"account_id":9760,"reputation":85860,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":0,"creation_date":1697674824,"post_id":77320157,"comment_id":136310924,"body_markdown":"What specifically do you mean by &quot;not working&quot;?  Please take the [tour], visit the [help] and read [Ask] to learn how to use this site effectively.","body":"What specifically do you mean by &quot;not working&quot;?  Please take the <a href=\"https://stackoverflow.com/tour\">tour</a>, visit the <a href=\"https://stackoverflow.com/help\">help center</a> and read <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a> to learn how to use this site effectively."},{"owner":{"account_id":29073167,"reputation":1013,"user_id":22270964,"display_name":"Maksim Eliseev"},"score":0,"creation_date":1697692947,"post_id":77320157,"comment_id":136312345,"body_markdown":"What will you do with `NullPointerException` if this happens?","body":"What will you do with <code>NullPointerException</code> if this happens?"}],"answers":[{"tags":[],"owner":{"account_id":8884226,"reputation":514,"user_id":6633045,"display_name":"phuongnq1995"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697681133,"creation_date":1697681133,"answer_id":77320544,"question_id":77320157,"body_markdown":"Put `@Valid` or `@Validated` on both classes `Persion` and `Location` to active validation.\r\n\r\nAlso dont forget add `@Valid` to dto in controller. Refer to this [doc](https://stackoverflow.com/questions/41005850/validation-nested-models-in-spring-boot)","title":"Unable to validate nested object in a json using Spring annotation","body":"<p>Put <code>@Valid</code> or <code>@Validated</code> on both classes <code>Persion</code> and <code>Location</code> to active validation.</p>\n<p>Also dont forget add <code>@Valid</code> to dto in controller. Refer to this <a href=\"https://stackoverflow.com/questions/41005850/validation-nested-models-in-spring-boot\">doc</a></p>\n"}],"owner":{"account_id":5888853,"reputation":467,"user_id":4636076,"accept_rate":32,"display_name":"Sandy"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1697681133,"creation_date":1697672025,"question_id":77320157,"body_markdown":"I&#39;ve a spring boot project which contains a controller that receives a json payload.\r\nThe json payload looks like this: \r\n```\r\n{\r\n  &quot;name&quot;:&quot;Andrew&quot;,\r\n  &quot;age&quot;:28,\r\n  &quot;location&quot;:{\r\n   &quot;country&quot;:&quot;US&quot;,\r\n   &quot;city&quot;:&quot;New York&quot;\r\n\r\n  }\r\n}\r\n```\r\nand corresponding pojo class\r\n\r\n```\r\npublic class Person {\r\n  private String name;\r\n  private int age;\r\n  private Location location;\r\n\r\n  // Getters and Setters\r\n}\r\n\r\npublic class Location {\r\n  private String country;\r\n  private String city;\r\n\r\n  @JsonCreator\r\n  public Location (@NotNull String country,@NotNull String city){\r\n    this.country = country;  \r\n    this.city = city;\r\n  }\r\n\r\n  // Getters and Setters\r\n}\r\n```\r\n\r\nMy requirement is if the location is present in the above json payload, then the country and city should be validated for a null check.\r\nIf the location is not passed in the payload, then neither country , nor city should be validated.\r\nIs there a way to do this validation using Spring annotation? The current annotation @NotNull isn&#39;t seem to be working.","title":"Unable to validate nested object in a json using Spring annotation","body":"<p>I've a spring boot project which contains a controller that receives a json payload.\nThe json payload looks like this:</p>\n<pre><code>{\n  &quot;name&quot;:&quot;Andrew&quot;,\n  &quot;age&quot;:28,\n  &quot;location&quot;:{\n   &quot;country&quot;:&quot;US&quot;,\n   &quot;city&quot;:&quot;New York&quot;\n\n  }\n}\n</code></pre>\n<p>and corresponding pojo class</p>\n<pre><code>public class Person {\n  private String name;\n  private int age;\n  private Location location;\n\n  // Getters and Setters\n}\n\npublic class Location {\n  private String country;\n  private String city;\n\n  @JsonCreator\n  public Location (@NotNull String country,@NotNull String city){\n    this.country = country;  \n    this.city = city;\n  }\n\n  // Getters and Setters\n}\n</code></pre>\n<p>My requirement is if the location is present in the above json payload, then the country and city should be validated for a null check.\nIf the location is not passed in the payload, then neither country , nor city should be validated.\nIs there a way to do this validation using Spring annotation? The current annotation @NotNull isn't seem to be working.</p>\n"},{"tags":["java","gradle"],"comments":[{"owner":{"account_id":29073167,"reputation":1013,"user_id":22270964,"display_name":"Maksim Eliseev"},"score":1,"creation_date":1697693668,"post_id":77320541,"comment_id":136312413,"body_markdown":"You should provide the script located in `C:\\Users\\myjay\\AppData\\Local\\Temp\\Main_main__.gradle`, otherwise I don&#39;t see any way to help you.","body":"You should provide the script located in <code>C:\\Users\\myjay\\AppData\\Local\\Temp\\Main_main__.gradle</code>, otherwise I don&#39;t see any way to help you."},{"owner":{"account_id":29073167,"reputation":1013,"user_id":22270964,"display_name":"Maksim Eliseev"},"score":0,"creation_date":1697693750,"post_id":77320541,"comment_id":136312426,"body_markdown":"Also I think you should use `.gitignore` in your project. Adding `.git` and `.gradle` to sources is not the best way.","body":"Also I think you should use <code>.gitignore</code> in your project. Adding <code>.git</code> and <code>.gradle</code> to sources is not the best way."},{"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"score":0,"creation_date":1697710028,"post_id":77320541,"comment_id":136315180,"body_markdown":"I tried your project and it builds fine. You may be experiencing a version incompatibility. It worked with Java 17, running `./gradlew build`","body":"I tried your project and it builds fine. You may be experiencing a version incompatibility. It worked with Java 17, running <code>.&#47;gradlew build</code>"},{"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"score":1,"creation_date":1697710154,"post_id":77320541,"comment_id":136315207,"body_markdown":"@MaksimEliseev no point asking for a file in the `TEMP` directory - it&#39;s a temporary file generated by Gradle during the build process.","body":"@MaksimEliseev no point asking for a file in the <code>TEMP</code> directory - it&#39;s a temporary file generated by Gradle during the build process."},{"owner":{"account_id":29704415,"reputation":23,"user_id":22765623,"display_name":"RTX"},"score":0,"creation_date":1697724419,"post_id":77320541,"comment_id":136318011,"body_markdown":"@MaksimEliseev May I ask why I shouldn&#39;t add `.git` and `.gradle` to sources? ty &#128591;","body":"@MaksimEliseev May I ask why I shouldn&#39;t add <code>.git</code> and <code>.gradle</code> to sources? ty 🙏"},{"owner":{"account_id":29073167,"reputation":1013,"user_id":22270964,"display_name":"Maksim Eliseev"},"score":0,"creation_date":1697790150,"post_id":77320541,"comment_id":136326509,"body_markdown":"There are several reasons not to do this: increasing the size of the git repository, possible merge conflicts in those folders if multiple people are working, annoying code reviews, extra commits when something was changed only in those folders. It&#39;s not part of the source code, and that&#39;s what `.gitignore` was created for.","body":"There are several reasons not to do this: increasing the size of the git repository, possible merge conflicts in those folders if multiple people are working, annoying code reviews, extra commits when something was changed only in those folders. It&#39;s not part of the source code, and that&#39;s what <code>.gitignore</code> was created for."},{"owner":{"account_id":29073167,"reputation":1013,"user_id":22270964,"display_name":"Maksim Eliseev"},"score":0,"creation_date":1697790540,"post_id":77320541,"comment_id":136326596,"body_markdown":"The `build` directory is also not part of the source code.","body":"The <code>build</code> directory is also not part of the source code."},{"owner":{"account_id":29073167,"reputation":1013,"user_id":22270964,"display_name":"Maksim Eliseev"},"score":0,"creation_date":1697790623,"post_id":77320541,"comment_id":136326612,"body_markdown":"Which version of Java are you using?","body":"Which version of Java are you using?"},{"owner":{"account_id":29704415,"reputation":23,"user_id":22765623,"display_name":"RTX"},"score":0,"creation_date":1697815341,"post_id":77320541,"comment_id":136331300,"body_markdown":"@MaksimEliseev jdk17","body":"@MaksimEliseev jdk17"},{"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"score":0,"creation_date":1697815615,"post_id":77320541,"comment_id":136331356,"body_markdown":"Have you tried deleting everything in `%TEMP%` and trying again?","body":"Have you tried deleting everything in <code>%TEMP%</code> and trying again?"}],"owner":{"account_id":29704415,"reputation":23,"user_id":22765623,"display_name":"RTX"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":78,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1697681123,"creation_date":1697681123,"question_id":77320541,"body_markdown":"This is my first time trying to use gradle, so I did some really stupid things, please forgive me\r\nSo I tried to build my gradle project yesterday, but this happened \r\n\r\n\r\n\r\n```1:00:21 AM: Executing &#39;:Main.main()&#39;...\r\n\r\nStarting Gradle Daemon...\r\n\r\nGradle Daemon started in 1 s 611 ms\r\n\r\nFAILURE: Build failed with an exception.\r\n\r\n* Where:\r\n\r\nInitialization script &#39;C:\\Users\\myjay\\AppData\\Local\\Temp\\Main_main__.gradle&#39; line: 6\r\n\r\n* What went wrong:\r\n\r\nCould not compile initialization script &#39;C:\\Users\\myjay\\AppData\\Local\\Temp\\Main_main__.gradle&#39;.\r\n\r\n&gt; startup failed:\r\n\r\n  initialization script &#39;C:\\Users\\myjay\\AppData\\Local\\Temp\\Main_main__.gradle&#39;: 6: Unexpected character: &#39;\\&#39;&#39; @ line 6, column 67.\r\n\r\n     X&#39;s Lab/git/NameCheckerV2/Code&#39;)\r\n\r\n                                   ^\r\n\r\n  \r\n\r\n  1 error\r\n\r\n* Try:\r\n\r\n&gt; Run with --stacktrace option to get the stack trace.\r\n\r\n&gt; Run with --info or --debug option to get more log output.\r\n\r\n&gt; Run with --scan to get full insights.\r\n\r\n* Get more help at https://help.gradle.org\r\n\r\nBUILD FAILED in 3s\r\n\r\n1:00:25 AM: Execution finished &#39;:Main.main()&#39;.\r\n\r\n```\r\n\r\nbtw if you need the project to find problems, here is [My project](https://github.com/RTX4O9O/NameCheckerV2)\r\n\r\nHope you guys can help me to solve this issue &#128591;&#128591;","title":"How To Fix Gradle Build Failure","body":"<p>This is my first time trying to use gradle, so I did some really stupid things, please forgive me\nSo I tried to build my gradle project yesterday, but this happened</p>\n<pre><code>\nStarting Gradle Daemon...\n\nGradle Daemon started in 1 s 611 ms\n\nFAILURE: Build failed with an exception.\n\n* Where:\n\nInitialization script 'C:\\Users\\myjay\\AppData\\Local\\Temp\\Main_main__.gradle' line: 6\n\n* What went wrong:\n\nCould not compile initialization script 'C:\\Users\\myjay\\AppData\\Local\\Temp\\Main_main__.gradle'.\n\n&gt; startup failed:\n\n  initialization script 'C:\\Users\\myjay\\AppData\\Local\\Temp\\Main_main__.gradle': 6: Unexpected character: '\\'' @ line 6, column 67.\n\n     X's Lab/git/NameCheckerV2/Code')\n\n                                   ^\n\n  \n\n  1 error\n\n* Try:\n\n&gt; Run with --stacktrace option to get the stack trace.\n\n&gt; Run with --info or --debug option to get more log output.\n\n&gt; Run with --scan to get full insights.\n\n* Get more help at https://help.gradle.org\n\nBUILD FAILED in 3s\n\n1:00:25 AM: Execution finished ':Main.main()'.\n\n</code></pre>\n<p>btw if you need the project to find problems, here is <a href=\"https://github.com/RTX4O9O/NameCheckerV2\" rel=\"nofollow noreferrer\">My project</a></p>\n<p>Hope you guys can help me to solve this issue 🙏🙏</p>\n"},{"tags":["java","selenium","calendar"],"comments":[{"owner":{"account_id":10686920,"reputation":1063,"user_id":7867195,"accept_rate":62,"display_name":"Mikhail Ramendik"},"score":0,"creation_date":1495114537,"post_id":44048464,"comment_id":75123842,"body_markdown":"You have provided a screencast. A screencast does not expose the HTML code under it. If you want help with parting HTML for Selenium, you need to provide relevant HTML snippets or else a link to the UI (if it is public and safe).","body":"You have provided a screencast. A screencast does not expose the HTML code under it. If you want help with parting HTML for Selenium, you need to provide relevant HTML snippets or else a link to the UI (if it is public and safe)."},{"owner":{"account_id":9611957,"reputation":1991,"user_id":7136025,"accept_rate":25,"display_name":"santhosh kumar"},"score":0,"creation_date":1495188498,"post_id":44048464,"comment_id":75158405,"body_markdown":"The approach seems quite good. Can i know what error message you are getting. Also print cell.getText() values in the for loop for debugging","body":"The approach seems quite good. Can i know what error message you are getting. Also print cell.getText() values in the for loop for debugging"}],"answers":[{"tags":[],"owner":{"account_id":10573903,"reputation":154,"user_id":7789760,"accept_rate":60,"display_name":"Kuladip"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1495117335,"creation_date":1495117335,"answer_id":44050445,"question_id":44048464,"body_markdown":"Try this -\r\n\r\n    DateFormat dateFormat = new SimpleDateFormat(&quot;dd/MM/yy&quot;);\r\n    Date today = Calendar.getInstance().getTime();\r\n    String date = dateFormat.format(today);","title":"How to select current date from dynamic calendar in Selenium?","body":"<p>Try this -</p>\n\n<pre><code>DateFormat dateFormat = new SimpleDateFormat(\"dd/MM/yy\");\nDate today = Calendar.getInstance().getTime();\nString date = dateFormat.format(today);\n</code></pre>\n"}],"owner":{"account_id":1133216,"reputation":11,"user_id":8031243,"display_name":"Rashmi R"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":11212,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1697680850,"creation_date":1495112326,"question_id":44048464,"body_markdown":"The calendar display date from current to next upcoming date. i need to select current date when every time I run the script. \r\n\r\nCalendar looks like this: https://www.screencast.com/t/EWjncok2Anv\r\n\r\nI tried with below code, but didn&#39;t help me:\r\n \r\n         DateFormat dateFormat2 = new SimpleDateFormat(&quot;dd&quot;); \r\n         Date date2 = new Date();\r\n\r\n         String today = dateFormat2.format(date2); \r\n\r\n         //find the calendar\r\n         WebElement dateWidget = driver.findElement(By.id(&quot;qs_startdate&quot;));  \r\n         List&lt;WebElement&gt; columns=dateWidget.findElements(By.tagName(&quot;div&quot;));  \r\n\r\n         //comparing the text of cell with today&#39;s date and clicking it.\r\n         for (WebElement cell : columns)\r\n         {\r\n            if (cell.getText().equals(today))\r\n            {\r\n               cell.click();\r\n               break;\r\n            }\r\n         } ","title":"How to select current date from dynamic calendar in Selenium?","body":"<p>The calendar display date from current to next upcoming date. i need to select current date when every time I run the script. </p>\n\n<p>Calendar looks like this: <a href=\"https://www.screencast.com/t/EWjncok2Anv\" rel=\"nofollow noreferrer\">https://www.screencast.com/t/EWjncok2Anv</a></p>\n\n<p>I tried with below code, but didn't help me:</p>\n\n<pre><code>     DateFormat dateFormat2 = new SimpleDateFormat(\"dd\"); \n     Date date2 = new Date();\n\n     String today = dateFormat2.format(date2); \n\n     //find the calendar\n     WebElement dateWidget = driver.findElement(By.id(\"qs_startdate\"));  \n     List&lt;WebElement&gt; columns=dateWidget.findElements(By.tagName(\"div\"));  \n\n     //comparing the text of cell with today's date and clicking it.\n     for (WebElement cell : columns)\n     {\n        if (cell.getText().equals(today))\n        {\n           cell.click();\n           break;\n        }\n     } \n</code></pre>\n"},{"tags":["java","casting"],"comments":[{"owner":{"account_id":79153,"reputation":513965,"user_id":224671,"accept_rate":67,"display_name":"kennytm"},"score":1,"creation_date":1465797396,"post_id":37782536,"comment_id":63032426,"body_markdown":"You can&#39;t represent negative numbers with `char`.","body":"You can&#39;t represent negative numbers with <code>char</code>."}],"answers":[{"tags":[],"owner":{"account_id":3076563,"reputation":6258,"user_id":2605733,"accept_rate":89,"display_name":"Abdul Fatir"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1697680732,"creation_date":1465797633,"answer_id":37782708,"question_id":37782536,"body_markdown":"This is because a `short` is capable of holding negative values while `char` isn&#39;t, as you might have seen from `Character.MIN_VALUE`.  Let me give a few examples.  \r\n\r\n    short s = -124;\r\n    char c = 124; // OK, no compile time error\r\n    char d = -124; // NOT OK, compile time error since char cannot hold -ve values\r\n    char e = s; // NOT OK, compile time error since a short might have -ve values which char won&#39;t be able to hold\r\n    char f = (char)s; // OK, type casting. The negative number -124 gets converted to 65412 so that char can hold it\r\n    System.out.println((short)f); // -124, gets converted back to a number short can hold because short won&#39;t be able to hold 65412\r\n    System.out.println((int)f); // 65412, gets converted to 65412 because int can easily hold it.  \r\n\r\nA (negative) number `-n`, when cast to `char`, becomes `2^16-n`. So, `-124` becomes  \r\n`2^16-124 = 65412`.\r\n","title":"Why is casting to short to char is a narrowing conversion?","body":"<p>This is because a <code>short</code> is capable of holding negative values while <code>char</code> isn't, as you might have seen from <code>Character.MIN_VALUE</code>.  Let me give a few examples.</p>\n<pre><code>short s = -124;\nchar c = 124; // OK, no compile time error\nchar d = -124; // NOT OK, compile time error since char cannot hold -ve values\nchar e = s; // NOT OK, compile time error since a short might have -ve values which char won't be able to hold\nchar f = (char)s; // OK, type casting. The negative number -124 gets converted to 65412 so that char can hold it\nSystem.out.println((short)f); // -124, gets converted back to a number short can hold because short won't be able to hold 65412\nSystem.out.println((int)f); // 65412, gets converted to 65412 because int can easily hold it.  \n</code></pre>\n<p>A (negative) number <code>-n</code>, when cast to <code>char</code>, becomes <code>2^16-n</code>. So, <code>-124</code> becomes<br />\n<code>2^16-124 = 65412</code>.</p>\n"},{"tags":[],"owner":{"account_id":79153,"reputation":513965,"user_id":224671,"accept_rate":67,"display_name":"kennytm"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1465798014,"creation_date":1465798014,"answer_id":37782803,"question_id":37782536,"body_markdown":"The point of narrowing isn&#39;t about the bit size, but that some values cannot be properly represented in the new type.\r\n\r\nAs you have shown in the last piece of code, `Short.MIN_VALUE &lt; Character.MIN_VALUE`, i.e. some `short` values cannot be represented in `char`. \r\n\r\nSince you can&#39;t use `char` to faithfully represent negative numbers (the cast will cause a negative number be represented by its 2&#39;s complement, which isn&#39;t the same number), we consider the cast &quot;loses information&quot; and thus narrowing.\r\n\r\nFrom the [Java Language Specification, &#167;5.1.3](https://docs.oracle.com/javase/specs/jls/se8/html/jls-5.html#jls-5.1.3):\r\n\r\n&gt; 22 specific conversions on primitive types are called the narrowing primitive conversions: \r\n&gt;\r\n&gt; * `short` to `byte` or `char`\r\n&gt; * `char` to `byte` or `short`\r\n&gt; * ...\r\n&gt;\r\n&gt; **A narrowing primitive conversion may lose information about the overall magnitude of a numeric value and may also lose precision and range.**\r\n&gt;\r\n&gt; ...\r\n&gt;\r\n&gt; A narrowing conversion of a signed integer to an integral type `T` simply discards all but the *n* lowest order bits, where *n* is the number of bits used to represent type `T`. **In addition to a possible loss of information about the magnitude of the numeric value, this may cause the sign of the resulting value to differ from the sign of the input value.**\r\n&gt;\r\n&gt; A narrowing conversion of a `char` to an integral type `T` likewise simply discards all but the *n* lowest order bits, where *n* is the number of bits used to represent type `T`. In addition to a possible loss of information about the magnitude of the numeric value, **this may cause the resulting value to be a negative number, even though chars represent 16-bit unsigned integer values.**\r\n\r\n","title":"Why is casting to short to char is a narrowing conversion?","body":"<p>The point of narrowing isn't about the bit size, but that some values cannot be properly represented in the new type.</p>\n\n<p>As you have shown in the last piece of code, <code>Short.MIN_VALUE &lt; Character.MIN_VALUE</code>, i.e. some <code>short</code> values cannot be represented in <code>char</code>. </p>\n\n<p>Since you can't use <code>char</code> to faithfully represent negative numbers (the cast will cause a negative number be represented by its 2's complement, which isn't the same number), we consider the cast \"loses information\" and thus narrowing.</p>\n\n<p>From the <a href=\"https://docs.oracle.com/javase/specs/jls/se8/html/jls-5.html#jls-5.1.3\" rel=\"nofollow\">Java Language Specification, §5.1.3</a>:</p>\n\n<blockquote>\n  <p>22 specific conversions on primitive types are called the narrowing primitive conversions: </p>\n  \n  <ul>\n  <li><code>short</code> to <code>byte</code> or <code>char</code></li>\n  <li><code>char</code> to <code>byte</code> or <code>short</code></li>\n  <li>...</li>\n  </ul>\n  \n  <p><strong>A narrowing primitive conversion may lose information about the overall magnitude of a numeric value and may also lose precision and range.</strong></p>\n  \n  <p>...</p>\n  \n  <p>A narrowing conversion of a signed integer to an integral type <code>T</code> simply discards all but the <em>n</em> lowest order bits, where <em>n</em> is the number of bits used to represent type <code>T</code>. <strong>In addition to a possible loss of information about the magnitude of the numeric value, this may cause the sign of the resulting value to differ from the sign of the input value.</strong></p>\n  \n  <p>A narrowing conversion of a <code>char</code> to an integral type <code>T</code> likewise simply discards all but the <em>n</em> lowest order bits, where <em>n</em> is the number of bits used to represent type <code>T</code>. In addition to a possible loss of information about the magnitude of the numeric value, <strong>this may cause the resulting value to be a negative number, even though chars represent 16-bit unsigned integer values.</strong></p>\n</blockquote>\n"}],"owner":{"account_id":5399275,"reputation":16206,"user_id":4299560,"accept_rate":90,"display_name":"Ced"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4353,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":37782708,"answer_count":2,"score":6,"last_activity_date":1697680732,"creation_date":1465796689,"question_id":37782536,"body_markdown":"A narrowing conversion is when putting a data type that can hold a bigger value into a data type that can hold at max a lesser value.\r\n\r\n    long l = 4L;\r\n    int i = (int)l;\r\n\r\nHowever I don&#39;t understand why a short into a char is a narrowing conversion but I&#39;ve the intuition it is related to signed/unsigned of those two datatypes but I can&#39;t explain why.\r\n\r\n    short s = 4; // short max value is 32767\r\n    char c = (char)s; // char max value is 65535 \r\n\r\nIt looks like it would be a widening conversion or at the very least neither narrowing neither widening since they are both 16 bits and can hold the same number of values.\r\n\r\n        System.out.println((int)Character.MIN_VALUE); //0\r\n        System.out.println((int)Character.MAX_VALUE); //65535 \r\n        System.out.println(Short.MIN_VALUE); //-32768\r\n        System.out.println(Short.MAX_VALUE); //32767\r\n        //65535 = 32768+32767","title":"Why is casting to short to char is a narrowing conversion?","body":"<p>A narrowing conversion is when putting a data type that can hold a bigger value into a data type that can hold at max a lesser value.</p>\n\n<pre><code>long l = 4L;\nint i = (int)l;\n</code></pre>\n\n<p>However I don't understand why a short into a char is a narrowing conversion but I've the intuition it is related to signed/unsigned of those two datatypes but I can't explain why.</p>\n\n<pre><code>short s = 4; // short max value is 32767\nchar c = (char)s; // char max value is 65535 \n</code></pre>\n\n<p>It looks like it would be a widening conversion or at the very least neither narrowing neither widening since they are both 16 bits and can hold the same number of values.</p>\n\n<pre><code>    System.out.println((int)Character.MIN_VALUE); //0\n    System.out.println((int)Character.MAX_VALUE); //65535 \n    System.out.println(Short.MIN_VALUE); //-32768\n    System.out.println(Short.MAX_VALUE); //32767\n    //65535 = 32768+32767\n</code></pre>\n"},{"tags":["java","android","mobile","android-anr-dialog"],"comments":[{"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"score":0,"creation_date":1697682881,"post_id":77320510,"comment_id":136311535,"body_markdown":"An ANR means something was taking too long on the main thread, particularly during a lifecycle function.  There is nothing obviously wrong the the stack or the code, it could just be the total time it took-  especially if you were doing it in a loop.  Generally adding views to a table programatically is a smell in Android-  you should almost always be using RecyclerView.  Tables usually mean you&#39;re doing something wrong.","body":"An ANR means something was taking too long on the main thread, particularly during a lifecycle function.  There is nothing obviously wrong the the stack or the code, it could just be the total time it took-  especially if you were doing it in a loop.  Generally adding views to a table programatically is a smell in Android-  you should almost always be using RecyclerView.  Tables usually mean you&#39;re doing something wrong."}],"owner":{"account_id":18138030,"reputation":1,"user_id":13192269,"display_name":"fekhreddine bouziane"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697680425,"creation_date":1697680425,"question_id":77320510,"body_markdown":"This is my code below. I tried different methods, but I dnot understand what was wrong with my code\r\nin my xml code i delete this now\r\n\r\nandroid:clickable=&quot;true&quot;\r\nandroid:focusable=&quot;true&quot;\r\n\r\n\r\nMainActivity.addTableRow\r\n\r\n    private void addTableRow(String time, String age, String name, String number) {\r\n        TableRow tableRow = (TableRow) getLayoutInflater().inflate(R.layout.rowp, null);\r\n        ((TextView) tableRow.findViewById(R.id.time)).setText(time);\r\n        ((TextView) tableRow.findViewById(R.id.age)).setText(age);\r\n        ((TextView) tableRow.findViewById(R.id.name)).setText(name);\r\n        ((TextView) tableRow.findViewById(R.id.number)).setText(number);\r\n\r\n        this.table.addView(tableRow);\r\n        TextView textView = new TextView(this);\r\n        textView.setBackgroundColor(Color.parseColor(&quot;#80808080&quot;));\r\n        textView.setHeight(2);\r\n        this.table.addView(textView);\r\n    }\r\n\r\nStack trace :\r\n  \r\n\r\n      at android.view.View.requestLayout (View.java:26591)\r\n      at android.widget.TableLayout.requestRowsLayout (TableLayout.java:211)\r\n      at android.widget.TableLayout.addView (TableLayout.java:410)\r\n      at android.view.ViewGroup.addView (ViewGroup.java:5075)\r\n      at android.widget.TableLayout.addView (TableLayout.java:400)\r\n      at addTableRow (MainActivity.java:475)\r\n      at onClick (MainActivity.java:397)\r\n      at android.view.View.performClick (View.java:7570)\r\n      at android.view.View.performClickInternal (View.java:7540)\r\n      at android.view.View.-$$Nest$mperformClickInternal (unavailable)\r\n      at android.view.View$PerformClick.run (View.java:29710)\r\n      at android.os.Handler.handleCallback (Handler.java:942)\r\n      at android.os.Handler.dispatchMessage (Handler.java:99\r\n      at android.os.Looper.loopOnce (Looper.java:240)\r\n      at android.os.Looper.loop (Looper.java:351)\r\n      at android.app.ActivityThread.main (ActivityThread.java:8427)\r\n      at java.lang.reflect.Method.invoke (Native method)\r\n      at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run (RuntimeInit.java:584)\r\n      at com.android.internal.os.ZygoteInit.main (ZygoteInit.java:1013)\r\n    \r\n  \r\n\r\n\r\nI can&#39;t find the solution whta the wrong with it ?","title":"I have more ANR errors in the Google Play Developer Console","body":"<p>This is my code below. I tried different methods, but I dnot understand what was wrong with my code\nin my xml code i delete this now</p>\n<p>android:clickable=&quot;true&quot;\nandroid:focusable=&quot;true&quot;</p>\n<p>MainActivity.addTableRow</p>\n<pre><code>private void addTableRow(String time, String age, String name, String number) {\n    TableRow tableRow = (TableRow) getLayoutInflater().inflate(R.layout.rowp, null);\n    ((TextView) tableRow.findViewById(R.id.time)).setText(time);\n    ((TextView) tableRow.findViewById(R.id.age)).setText(age);\n    ((TextView) tableRow.findViewById(R.id.name)).setText(name);\n    ((TextView) tableRow.findViewById(R.id.number)).setText(number);\n\n    this.table.addView(tableRow);\n    TextView textView = new TextView(this);\n    textView.setBackgroundColor(Color.parseColor(&quot;#80808080&quot;));\n    textView.setHeight(2);\n    this.table.addView(textView);\n}\n</code></pre>\n<p>Stack trace :</p>\n<pre><code>  at android.view.View.requestLayout (View.java:26591)\n  at android.widget.TableLayout.requestRowsLayout (TableLayout.java:211)\n  at android.widget.TableLayout.addView (TableLayout.java:410)\n  at android.view.ViewGroup.addView (ViewGroup.java:5075)\n  at android.widget.TableLayout.addView (TableLayout.java:400)\n  at addTableRow (MainActivity.java:475)\n  at onClick (MainActivity.java:397)\n  at android.view.View.performClick (View.java:7570)\n  at android.view.View.performClickInternal (View.java:7540)\n  at android.view.View.-$$Nest$mperformClickInternal (unavailable)\n  at android.view.View$PerformClick.run (View.java:29710)\n  at android.os.Handler.handleCallback (Handler.java:942)\n  at android.os.Handler.dispatchMessage (Handler.java:99\n  at android.os.Looper.loopOnce (Looper.java:240)\n  at android.os.Looper.loop (Looper.java:351)\n  at android.app.ActivityThread.main (ActivityThread.java:8427)\n  at java.lang.reflect.Method.invoke (Native method)\n  at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run (RuntimeInit.java:584)\n  at com.android.internal.os.ZygoteInit.main (ZygoteInit.java:1013)\n</code></pre>\n<p>I can't find the solution whta the wrong with it ?</p>\n"},{"tags":["java","java-http-client","project-loom","java-21","virtual-threads"],"comments":[{"owner":{"account_id":1580843,"reputation":13479,"user_id":1466267,"accept_rate":91,"display_name":"SpaceTrucker"},"score":0,"creation_date":1697630193,"post_id":77315894,"comment_id":136303450,"body_markdown":"https://stackoverflow.com/questions/77262427/how-virtual-thread-is-parking might be related to this question","body":"<a href=\"https://stackoverflow.com/questions/77262427/how-virtual-thread-is-parking\" title=\"how virtual thread is parking\">stackoverflow.com/questions/77262427/&hellip;</a> might be related to this question"}],"answers":[{"comments":[{"owner":{"account_id":16501460,"reputation":213,"user_id":11922671,"display_name":"Urb"},"score":0,"creation_date":1697634886,"post_id":77316268,"comment_id":136304532,"body_markdown":"thanks for response and posting in dev list! I hope it will be fixed soon :) Pinning for a short period of time shouldn&#39;t be a problem like here, right?","body":"thanks for response and posting in dev list! I hope it will be fixed soon :) Pinning for a short period of time shouldn&#39;t be a problem like here, right?"},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1697635088,"post_id":77316268,"comment_id":136304571,"body_markdown":"@Urb It shouldn&#39;t, though - as I understand it - under load it might spin up additional platform threads to compensate for the pinned thread (which might be a pro or a con).","body":"@Urb It shouldn&#39;t, though - as I understand it - under load it might spin up additional platform threads to compensate for the pinned thread (which might be a pro or a con)."},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1697635221,"post_id":77316268,"comment_id":136304611,"body_markdown":"@Urb My previous comment seems to be wrong looking at [JEP 444](https://openjdk.org/jeps/444): _&quot;The scheduler does not compensate for pinning by expanding its parallelism&quot;_. But closes should usually be short-lived.","body":"@Urb My previous comment seems to be wrong looking at <a href=\"https://openjdk.org/jeps/444\" rel=\"nofollow noreferrer\">JEP 444</a>: <i>&quot;The scheduler does not compensate for pinning by expanding its parallelism&quot;</i>. But closes should usually be short-lived."},{"owner":{"account_id":16501460,"reputation":213,"user_id":11922671,"display_name":"Urb"},"score":0,"creation_date":1697639004,"post_id":77316268,"comment_id":136305499,"body_markdown":"I really hope they can improve it. Having the errors from time to time is not really nice, as you always have to decide if it is something to ignore or not and makes automated tests unstable...","body":"I really hope they can improve it. Having the errors from time to time is not really nice, as you always have to decide if it is something to ignore or not and makes automated tests unstable..."},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1697642115,"post_id":77316268,"comment_id":136306253,"body_markdown":"@Urb Sure, but pinning is not an error, and you shouldn&#39;t consider it as such.","body":"@Urb Sure, but pinning is not an error, and you shouldn&#39;t consider it as such."},{"owner":{"account_id":16501460,"reputation":213,"user_id":11922671,"display_name":"Urb"},"score":0,"creation_date":1697643142,"post_id":77316268,"comment_id":136306491,"body_markdown":"Right, but rather a potential problem","body":"Right, but rather a potential problem"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":3,"creation_date":1697645954,"post_id":77316268,"comment_id":136307049,"body_markdown":"@Urb only a performance problem. And, as with all potential performance problems, you only have a performance problem if you experience bad performance. So, if your application exhibits actual performance problems, turn on logging of pinning events (and other potential problems), but not earlier.","body":"@Urb only a performance problem. And, as with all potential performance problems, you only have a performance problem if you experience bad performance. So, if your application exhibits actual performance problems, turn on logging of pinning events (and other potential problems), but not earlier."},{"owner":{"account_id":16501460,"reputation":213,"user_id":11922671,"display_name":"Urb"},"score":3,"creation_date":1697649588,"post_id":77316268,"comment_id":136307696,"body_markdown":"@Holger true. The idea was to catch pinning events with an integration test. And indeed, when using Apache http client, the test revealed hundreds of pinning events just in one request. So we replaced the Apache client with the built-in one and now there&#39;s only occasionally a pinning event. In that case it might not be a problem but the code might change and we want to be aware of pinning early and decide if it is a real problem or not.","body":"@Holger true. The idea was to catch pinning events with an integration test. And indeed, when using Apache http client, the test revealed hundreds of pinning events just in one request. So we replaced the Apache client with the built-in one and now there&#39;s only occasionally a pinning event. In that case it might not be a problem but the code might change and we want to be aware of pinning early and decide if it is a real problem or not."},{"owner":{"account_id":37136,"reputation":57822,"user_id":106104,"accept_rate":62,"display_name":"user253751"},"score":0,"creation_date":1697719827,"post_id":77316268,"comment_id":136317001,"body_markdown":"@Holger There are often advantages to worrying about future performance problems before they happen. If you anticipate there might be a performance problem in the future, then checking which things cause it now, and avoiding them, makes sense. Still, that&#39;s only if there is going to be a performance problem in the future - if you really need your program to work as fast as possible all the time. If the occasional little stutter is okay, especially fi it&#39;s going to be fixed in the next JDK, then just *don&#39;t worry*.","body":"@Holger There are often advantages to worrying about future performance problems before they happen. If you anticipate there might be a performance problem in the future, then checking which things cause it now, and avoiding them, makes sense. Still, that&#39;s only if there is going to be a performance problem in the future - if you really need your program to work as fast as possible all the time. If the occasional little stutter is okay, especially fi it&#39;s going to be fixed in the next JDK, then just <i>don&#39;t worry</i>."},{"owner":{"account_id":37136,"reputation":57822,"user_id":106104,"accept_rate":62,"display_name":"user253751"},"score":0,"creation_date":1697719892,"post_id":77316268,"comment_id":136317010,"body_markdown":"(and if you really needed maximum performance, you&#39;d be using C, not Java. Java is a tradeoff between performance and ease of use.)","body":"(and if you really needed maximum performance, you&#39;d be using C, not Java. Java is a tradeoff between performance and ease of use.)"}],"tags":[],"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"comment_count":10,"down_vote_count":0,"up_vote_count":22,"is_accepted":true,"score":22,"last_activity_date":1697637466,"creation_date":1697631794,"answer_id":77316268,"question_id":77315894,"body_markdown":"The method `java.nio.channels.spi.AbstractInterruptibleChannel.close()` (lines 108 - 115 in Temurin-21+35 (build 21+35-LTS), but probably all OpenJDK derivatives) is implemented as:\r\n\r\n```java\r\npublic final void close() throws IOException {\r\n    synchronized (closeLock) {\r\n        if (closed)\r\n            return;\r\n        closed = true;\r\n        implCloseChannel();\r\n    }\r\n}\r\n```\r\n\r\nLine 113 in your stacktrace corresponds to the `implCloseChannel()` call which also corresponds to the previous line in your stacktrace, and this is in the middle of that synchronized block. Virtual threads will be pinned if they are parked/blocked in `synchronized` blocks, so that is why it is pinned.\r\n\r\nIn other words, given the code as it is, pinning is the expected and correct behaviour, and thus not a bug.\r\n\r\nWhether the use of `synchronized` here is an oversight in getting rid of synchronized blocks in the JDK, or if there is a specific reason this still uses `synchronized`, I don&#39;t know. Given it is a private lock object, I guess it should be possible to get rid of it (i.e. it is not part of the &quot;API&quot; of a channel) by replacing it with a `ReentrantLock` or similar, but maybe there are other implementation reasons to keep this for now.\r\n\r\nI have asked about this on the nio-dev list in thread [Should AbstractInterruptibleChannel.close() still use a synchronized block?](https://mail.openjdk.org/pipermail/nio-dev/2023-October/015199.html)\r\n\r\nAlan Bateman [responded there][1] with:\r\n\r\n&gt; We decided it wasn&#39;t worth doing because it&#39;s rare to set SO_LINGER. \r\n&gt; Temporary pinning due to contention on the readLock or writeLock when \r\n&gt; closing is okay.\r\n&gt; \r\n&gt; In the mean-time, we are working to remove restriction on synchronized\r\n&gt; blocks. We hope to have something in the loom repo soon.\r\n\r\n\r\n  [1]: https://mail.openjdk.org/pipermail/nio-dev/2023-October/015200.html","title":"Java 21 built-in HTTP client pins the carrier thread","body":"<p>The method <code>java.nio.channels.spi.AbstractInterruptibleChannel.close()</code> (lines 108 - 115 in Temurin-21+35 (build 21+35-LTS), but probably all OpenJDK derivatives) is implemented as:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public final void close() throws IOException {\n    synchronized (closeLock) {\n        if (closed)\n            return;\n        closed = true;\n        implCloseChannel();\n    }\n}\n</code></pre>\n<p>Line 113 in your stacktrace corresponds to the <code>implCloseChannel()</code> call which also corresponds to the previous line in your stacktrace, and this is in the middle of that synchronized block. Virtual threads will be pinned if they are parked/blocked in <code>synchronized</code> blocks, so that is why it is pinned.</p>\n<p>In other words, given the code as it is, pinning is the expected and correct behaviour, and thus not a bug.</p>\n<p>Whether the use of <code>synchronized</code> here is an oversight in getting rid of synchronized blocks in the JDK, or if there is a specific reason this still uses <code>synchronized</code>, I don't know. Given it is a private lock object, I guess it should be possible to get rid of it (i.e. it is not part of the &quot;API&quot; of a channel) by replacing it with a <code>ReentrantLock</code> or similar, but maybe there are other implementation reasons to keep this for now.</p>\n<p>I have asked about this on the nio-dev list in thread <a href=\"https://mail.openjdk.org/pipermail/nio-dev/2023-October/015199.html\" rel=\"noreferrer\">Should AbstractInterruptibleChannel.close() still use a synchronized block?</a></p>\n<p>Alan Bateman <a href=\"https://mail.openjdk.org/pipermail/nio-dev/2023-October/015200.html\" rel=\"noreferrer\">responded there</a> with:</p>\n<blockquote>\n<p>We decided it wasn't worth doing because it's rare to set SO_LINGER.\nTemporary pinning due to contention on the readLock or writeLock when\nclosing is okay.</p>\n<p>In the mean-time, we are working to remove restriction on synchronized\nblocks. We hope to have something in the loom repo soon.</p>\n</blockquote>\n"}],"owner":{"account_id":16501460,"reputation":213,"user_id":11922671,"display_name":"Urb"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1509,"favorite_count":0,"down_vote_count":0,"up_vote_count":18,"accepted_answer_id":77316268,"answer_count":1,"score":18,"last_activity_date":1697678659,"creation_date":1697628520,"question_id":77315894,"body_markdown":"I&#39;m using Java *Corretto 21.0.0.35.1 build 21+35-LTS*, and the built-in Java HTTP client to retrieve a response as an `InputStream`. I&#39;m making parallel requests using virtual threads, and for the most part, it&#39;s working well. However, occasionally, my testing encounters a &quot;Pinning&quot; event, as seen in the stack trace below.\r\n\r\nI believed that the JDK had been updated to fully support virtual threads, and in my understanding, the HTTP client shouldn&#39;t be pinning a carrier thread at all. However, it appears that this pinning event occurs sometimes when reading and (automatically) closing an `InputStream`.\r\n\r\nIs this behavior expected, or could it still be a bug in the JDK?\r\n\r\nThe code:\r\n\r\n```\r\nHttpResponse&lt;InputStream&gt; response = httpClient.send(request, HttpResponse.BodyHandlers.ofInputStream());\r\ntry (InputStream responseBody = response.body()) {\r\n  return parser.parse(responseBody); // LINE 52 in the trace below\r\n}\r\n```\r\n\r\nThe trace\r\n\r\n```\r\n* Pinning event captured:\r\n  java.lang.VirtualThread.parkOnCarrierThread(java.lang.VirtualThread.java:687)\r\n  java.lang.VirtualThread.park(java.lang.VirtualThread.java:603)\r\n  java.lang.System$2.parkVirtualThread(java.lang.System$2.java:2639)\r\n  jdk.internal.misc.VirtualThreads.park(jdk.internal.misc.VirtualThreads.java:54)\r\n  java.util.concurrent.locks.LockSupport.park(java.util.concurrent.locks.LockSupport.java:219)\r\n  java.util.concurrent.locks.AbstractQueuedSynchronizer.acquire(java.util.concurrent.locks.AbstractQueuedSynchronizer.java:754)\r\n  java.util.concurrent.locks.AbstractQueuedSynchronizer.acquire(java.util.concurrent.locks.AbstractQueuedSynchronizer.java:990)\r\n  java.util.concurrent.locks.ReentrantLock$Sync.lock(java.util.concurrent.locks.ReentrantLock$Sync.java:153)\r\n  java.util.concurrent.locks.ReentrantLock.lock(java.util.concurrent.locks.ReentrantLock.java:322)\r\n  sun.nio.ch.SocketChannelImpl.implCloseNonBlockingMode(sun.nio.ch.SocketChannelImpl.java:1091)\r\n  sun.nio.ch.SocketChannelImpl.implCloseSelectableChannel(sun.nio.ch.SocketChannelImpl.java:1124)\r\n  java.nio.channels.spi.AbstractSelectableChannel.implCloseChannel(java.nio.channels.spi.AbstractSelectableChannel.java:258)\r\n  java.nio.channels.spi.AbstractInterruptibleChannel.close(java.nio.channels.spi.AbstractInterruptibleChannel.java:113)\r\n  jdk.internal.net.http.PlainHttpConnection.close(jdk.internal.net.http.PlainHttpConnection.java:427)\r\n  jdk.internal.net.http.PlainHttpConnection.close(jdk.internal.net.http.PlainHttpConnection.java:406)\r\n  jdk.internal.net.http.Http1Response.lambda$readBody$1(jdk.internal.net.http.Http1Response.java:355)\r\n  jdk.internal.net.http.Http1Response$$Lambda+0x00007f4cb5e6c438.749276779.accept(jdk.internal.net.http.Http1Response$$Lambda+0x00007f4cb5e6c438.749276779.java:-1)\r\n  jdk.internal.net.http.ResponseContent$ChunkedBodyParser.onError(jdk.internal.net.http.ResponseContent$ChunkedBodyParser.java:185)\r\n  jdk.internal.net.http.Http1Response$BodyReader.onReadError(jdk.internal.net.http.Http1Response$BodyReader.java:677)\r\n  jdk.internal.net.http.Http1AsyncReceiver.checkForErrors(jdk.internal.net.http.Http1AsyncReceiver.java:302)\r\n  jdk.internal.net.http.Http1AsyncReceiver.flush(jdk.internal.net.http.Http1AsyncReceiver.java:268)\r\n  jdk.internal.net.http.Http1AsyncReceiver$$Lambda+0x00007f4cb5e31228.555093431.run(jdk.internal.net.http.Http1AsyncReceiver$$Lambda+0x00007f4cb5e31228.555093431.java:-1)\r\n  jdk.internal.net.http.common.SequentialScheduler$LockingRestartableTask.run(jdk.internal.net.http.common.SequentialScheduler$LockingRestartableTask.java:182)\r\n  jdk.internal.net.http.common.SequentialScheduler$CompleteRestartableTask.run(jdk.internal.net.http.common.SequentialScheduler$CompleteRestartableTask.java:149)\r\n  jdk.internal.net.http.common.SequentialScheduler$SchedulableTask.run(jdk.internal.net.http.common.SequentialScheduler$SchedulableTask.java:207)\r\n  jdk.internal.net.http.HttpClientImpl$DelegatingExecutor.execute(jdk.internal.net.http.HttpClientImpl$DelegatingExecutor.java:177)\r\n  jdk.internal.net.http.common.SequentialScheduler.runOrSchedule(jdk.internal.net.http.common.SequentialScheduler.java:282)\r\n  jdk.internal.net.http.common.SequentialScheduler.runOrSchedule(jdk.internal.net.http.common.SequentialScheduler.java:251)\r\n  jdk.internal.net.http.Http1AsyncReceiver.onReadError(jdk.internal.net.http.Http1AsyncReceiver.java:516)\r\n  jdk.internal.net.http.Http1AsyncReceiver.lambda$handlePendingDelegate$3(jdk.internal.net.http.Http1AsyncReceiver.java:380)\r\n  jdk.internal.net.http.Http1AsyncReceiver$$Lambda+0x00007f4cb5e33ca0.84679411.run(jdk.internal.net.http.Http1AsyncReceiver$$Lambda+0x00007f4cb5e33ca0.84679411.java:-1)\r\n  jdk.internal.net.http.Http1AsyncReceiver$Http1AsyncDelegateSubscription.cancel(jdk.internal.net.http.Http1AsyncReceiver$Http1AsyncDelegateSubscription.java:163)\r\n  jdk.internal.net.http.common.HttpBodySubscriberWrapper$SubscriptionWrapper.cancel(jdk.internal.net.http.common.HttpBodySubscriberWrapper$SubscriptionWrapper.java:92)\r\n  jdk.internal.net.http.ResponseSubscribers$HttpResponseInputStream.close(jdk.internal.net.http.ResponseSubscribers$HttpResponseInputStream.java:653)\r\n\r\n  com.acme.service.server.StatusClient.getResponse(com.acme.service.server.StatusClient.java:52)\r\n  com.acme.service.server.StatusClient_ClientProxy.getResponse(com.acme.service.server.StatusClient_ClientProxy.java:-1)\r\n  com.acme.client.Request.execute(com.acme.client.Request.java:96)\r\n  com.acme.service.server.serviceStatusProvider.getStatusHistorys(com.acme.service.server.serviceStatusProvider.java:237)\r\n  com.acme.service.api.RemoteStatusCheck.getStatusHistory(com.acme.service.api.RemoteStatusCheck.java:163)\r\n  com.acme.service.api.RemoteStatusCheck.lambda$doChecks$0(com.acme.service.api.RemoteStatusCheck.java:132)\r\n  com.acme.service.api.RemoteStatusCheck$$Lambda+0x00007f4cb9f0d8d0.979953307.call(com.acme.service.api.RemoteStatusCheck$$Lambda+0x00007f4cb9f0d8d0.979953307.java:-1)\r\n  java.util.concurrent.FutureTask.run(java.util.concurrent.FutureTask.java:317)\r\n  java.lang.VirtualThread.runWith(java.lang.VirtualThread.java:341)\r\n  java.lang.VirtualThread.run(java.lang.VirtualThread.java:311)\r\n  java.lang.VirtualThread$VThreadContinuation$1.run(java.lang.VirtualThread$VThreadContinuation$1.java:192)\r\n  jdk.internal.vm.Continuation.enter0(jdk.internal.vm.Continuation.java:320)\r\n  jdk.internal.vm.Continuation.enter(jdk.internal.vm.Continuation.java:312)\r\n  jdk.internal.vm.Continuation.enterSpecial(jdk.internal.vm.Continuation.java:-1)\r\n```\r\n","title":"Java 21 built-in HTTP client pins the carrier thread","body":"<p>I'm using Java <em>Corretto 21.0.0.35.1 build 21+35-LTS</em>, and the built-in Java HTTP client to retrieve a response as an <code>InputStream</code>. I'm making parallel requests using virtual threads, and for the most part, it's working well. However, occasionally, my testing encounters a &quot;Pinning&quot; event, as seen in the stack trace below.</p>\n<p>I believed that the JDK had been updated to fully support virtual threads, and in my understanding, the HTTP client shouldn't be pinning a carrier thread at all. However, it appears that this pinning event occurs sometimes when reading and (automatically) closing an <code>InputStream</code>.</p>\n<p>Is this behavior expected, or could it still be a bug in the JDK?</p>\n<p>The code:</p>\n<pre><code>HttpResponse&lt;InputStream&gt; response = httpClient.send(request, HttpResponse.BodyHandlers.ofInputStream());\ntry (InputStream responseBody = response.body()) {\n  return parser.parse(responseBody); // LINE 52 in the trace below\n}\n</code></pre>\n<p>The trace</p>\n<pre><code>* Pinning event captured:\n  java.lang.VirtualThread.parkOnCarrierThread(java.lang.VirtualThread.java:687)\n  java.lang.VirtualThread.park(java.lang.VirtualThread.java:603)\n  java.lang.System$2.parkVirtualThread(java.lang.System$2.java:2639)\n  jdk.internal.misc.VirtualThreads.park(jdk.internal.misc.VirtualThreads.java:54)\n  java.util.concurrent.locks.LockSupport.park(java.util.concurrent.locks.LockSupport.java:219)\n  java.util.concurrent.locks.AbstractQueuedSynchronizer.acquire(java.util.concurrent.locks.AbstractQueuedSynchronizer.java:754)\n  java.util.concurrent.locks.AbstractQueuedSynchronizer.acquire(java.util.concurrent.locks.AbstractQueuedSynchronizer.java:990)\n  java.util.concurrent.locks.ReentrantLock$Sync.lock(java.util.concurrent.locks.ReentrantLock$Sync.java:153)\n  java.util.concurrent.locks.ReentrantLock.lock(java.util.concurrent.locks.ReentrantLock.java:322)\n  sun.nio.ch.SocketChannelImpl.implCloseNonBlockingMode(sun.nio.ch.SocketChannelImpl.java:1091)\n  sun.nio.ch.SocketChannelImpl.implCloseSelectableChannel(sun.nio.ch.SocketChannelImpl.java:1124)\n  java.nio.channels.spi.AbstractSelectableChannel.implCloseChannel(java.nio.channels.spi.AbstractSelectableChannel.java:258)\n  java.nio.channels.spi.AbstractInterruptibleChannel.close(java.nio.channels.spi.AbstractInterruptibleChannel.java:113)\n  jdk.internal.net.http.PlainHttpConnection.close(jdk.internal.net.http.PlainHttpConnection.java:427)\n  jdk.internal.net.http.PlainHttpConnection.close(jdk.internal.net.http.PlainHttpConnection.java:406)\n  jdk.internal.net.http.Http1Response.lambda$readBody$1(jdk.internal.net.http.Http1Response.java:355)\n  jdk.internal.net.http.Http1Response$$Lambda+0x00007f4cb5e6c438.749276779.accept(jdk.internal.net.http.Http1Response$$Lambda+0x00007f4cb5e6c438.749276779.java:-1)\n  jdk.internal.net.http.ResponseContent$ChunkedBodyParser.onError(jdk.internal.net.http.ResponseContent$ChunkedBodyParser.java:185)\n  jdk.internal.net.http.Http1Response$BodyReader.onReadError(jdk.internal.net.http.Http1Response$BodyReader.java:677)\n  jdk.internal.net.http.Http1AsyncReceiver.checkForErrors(jdk.internal.net.http.Http1AsyncReceiver.java:302)\n  jdk.internal.net.http.Http1AsyncReceiver.flush(jdk.internal.net.http.Http1AsyncReceiver.java:268)\n  jdk.internal.net.http.Http1AsyncReceiver$$Lambda+0x00007f4cb5e31228.555093431.run(jdk.internal.net.http.Http1AsyncReceiver$$Lambda+0x00007f4cb5e31228.555093431.java:-1)\n  jdk.internal.net.http.common.SequentialScheduler$LockingRestartableTask.run(jdk.internal.net.http.common.SequentialScheduler$LockingRestartableTask.java:182)\n  jdk.internal.net.http.common.SequentialScheduler$CompleteRestartableTask.run(jdk.internal.net.http.common.SequentialScheduler$CompleteRestartableTask.java:149)\n  jdk.internal.net.http.common.SequentialScheduler$SchedulableTask.run(jdk.internal.net.http.common.SequentialScheduler$SchedulableTask.java:207)\n  jdk.internal.net.http.HttpClientImpl$DelegatingExecutor.execute(jdk.internal.net.http.HttpClientImpl$DelegatingExecutor.java:177)\n  jdk.internal.net.http.common.SequentialScheduler.runOrSchedule(jdk.internal.net.http.common.SequentialScheduler.java:282)\n  jdk.internal.net.http.common.SequentialScheduler.runOrSchedule(jdk.internal.net.http.common.SequentialScheduler.java:251)\n  jdk.internal.net.http.Http1AsyncReceiver.onReadError(jdk.internal.net.http.Http1AsyncReceiver.java:516)\n  jdk.internal.net.http.Http1AsyncReceiver.lambda$handlePendingDelegate$3(jdk.internal.net.http.Http1AsyncReceiver.java:380)\n  jdk.internal.net.http.Http1AsyncReceiver$$Lambda+0x00007f4cb5e33ca0.84679411.run(jdk.internal.net.http.Http1AsyncReceiver$$Lambda+0x00007f4cb5e33ca0.84679411.java:-1)\n  jdk.internal.net.http.Http1AsyncReceiver$Http1AsyncDelegateSubscription.cancel(jdk.internal.net.http.Http1AsyncReceiver$Http1AsyncDelegateSubscription.java:163)\n  jdk.internal.net.http.common.HttpBodySubscriberWrapper$SubscriptionWrapper.cancel(jdk.internal.net.http.common.HttpBodySubscriberWrapper$SubscriptionWrapper.java:92)\n  jdk.internal.net.http.ResponseSubscribers$HttpResponseInputStream.close(jdk.internal.net.http.ResponseSubscribers$HttpResponseInputStream.java:653)\n\n  com.acme.service.server.StatusClient.getResponse(com.acme.service.server.StatusClient.java:52)\n  com.acme.service.server.StatusClient_ClientProxy.getResponse(com.acme.service.server.StatusClient_ClientProxy.java:-1)\n  com.acme.client.Request.execute(com.acme.client.Request.java:96)\n  com.acme.service.server.serviceStatusProvider.getStatusHistorys(com.acme.service.server.serviceStatusProvider.java:237)\n  com.acme.service.api.RemoteStatusCheck.getStatusHistory(com.acme.service.api.RemoteStatusCheck.java:163)\n  com.acme.service.api.RemoteStatusCheck.lambda$doChecks$0(com.acme.service.api.RemoteStatusCheck.java:132)\n  com.acme.service.api.RemoteStatusCheck$$Lambda+0x00007f4cb9f0d8d0.979953307.call(com.acme.service.api.RemoteStatusCheck$$Lambda+0x00007f4cb9f0d8d0.979953307.java:-1)\n  java.util.concurrent.FutureTask.run(java.util.concurrent.FutureTask.java:317)\n  java.lang.VirtualThread.runWith(java.lang.VirtualThread.java:341)\n  java.lang.VirtualThread.run(java.lang.VirtualThread.java:311)\n  java.lang.VirtualThread$VThreadContinuation$1.run(java.lang.VirtualThread$VThreadContinuation$1.java:192)\n  jdk.internal.vm.Continuation.enter0(jdk.internal.vm.Continuation.java:320)\n  jdk.internal.vm.Continuation.enter(jdk.internal.vm.Continuation.java:312)\n  jdk.internal.vm.Continuation.enterSpecial(jdk.internal.vm.Continuation.java:-1)\n</code></pre>\n"},{"tags":["java","memory","hashmap","garbage"],"comments":[{"owner":{"account_id":3001,"reputation":138707,"user_id":4249,"accept_rate":84,"display_name":"matt b"},"score":0,"creation_date":1305052557,"post_id":5954583,"comment_id":6866831,"body_markdown":"the key to improvement here is to avoid reading all of a 2.2 GB file into memory at once","body":"the key to improvement here is to avoid reading all of a 2.2 GB file into memory at once"}],"answers":[{"comments":[{"owner":{"account_id":258602,"reputation":20902,"user_id":540873,"display_name":"Thomas Jungblut"},"score":1,"creation_date":1305053180,"post_id":5954651,"comment_id":6866993,"body_markdown":"When resizing the array is going to be resized to the double of the old size. In the worst case just one item caused to allocate a huge array.","body":"When resizing the array is going to be resized to the double of the old size. In the worst case just one item caused to allocate a huge array."},{"owner":{"account_id":35502,"reputation":28362,"user_id":100565,"accept_rate":59,"display_name":"MeBigFatGuy"},"score":0,"creation_date":1305054204,"post_id":5954651,"comment_id":6867272,"body_markdown":"TreeSets probably grow more predictably (altho a perfect HashMap will easily be much smaller than a perfect TreeMap). The problem is it&#39;s almost impossible to get an even near perfect HashMap (from a memory footprint).","body":"TreeSets probably grow more predictably (altho a perfect HashMap will easily be much smaller than a perfect TreeMap). The problem is it&#39;s almost impossible to get an even near perfect HashMap (from a memory footprint)."}],"tags":[],"owner":{"account_id":56888,"reputation":11998,"user_id":170383,"accept_rate":71,"display_name":"David R Tribble"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1305056013,"creation_date":1305052077,"answer_id":5954651,"question_id":5954583,"body_markdown":"A `HashMap` is typically just a large array of references filled to a certain percentage of capacity. If only 80% of the map is filled, the remaining 20% of the array cells are unused (i.e., are null). The extra overhead is really only just the empty (null) cells.\r\n\r\nOn a 32-bit CPU, each array cell is usually 4 bytes in size (although some JVM implementations may allocate 8 bytes). That&#39;s not really that much unused space overall.\r\n\r\nOnce your map is filled, you can copy it to another `HashMap` with a more appropriate (smaller) size giving a larger fill percentage.\r\n\r\nYour question seems to imply that there are more allocated but unused objects that you&#39;re worried about. But how is that the case?\r\n\r\n**Addendum**\r\n\r\nOnce a map is filled almost to capacity (typically more than 95% or so), a larger array is allocated, the old array&#39;s contents are copied to the new array, and then the smaller array is left to be garbage collected. This is obviously an expensive operation, so choosing a reasonably large initial size for the map is key to improving performance.\r\n\r\nIf you can (over)estimate the number of cells needed, preallocating a map can reduce or even eliminate the resizing operations.","title":"Remove unused allocated Memory from HashMaps","body":"<p>A <code>HashMap</code> is typically just a large array of references filled to a certain percentage of capacity. If only 80% of the map is filled, the remaining 20% of the array cells are unused (i.e., are null). The extra overhead is really only just the empty (null) cells.</p>\n\n<p>On a 32-bit CPU, each array cell is usually 4 bytes in size (although some JVM implementations may allocate 8 bytes). That's not really that much unused space overall.</p>\n\n<p>Once your map is filled, you can copy it to another <code>HashMap</code> with a more appropriate (smaller) size giving a larger fill percentage.</p>\n\n<p>Your question seems to imply that there are more allocated but unused objects that you're worried about. But how is that the case?</p>\n\n<p><strong>Addendum</strong></p>\n\n<p>Once a map is filled almost to capacity (typically more than 95% or so), a larger array is allocated, the old array's contents are copied to the new array, and then the smaller array is left to be garbage collected. This is obviously an expensive operation, so choosing a reasonably large initial size for the map is key to improving performance.</p>\n\n<p>If you can (over)estimate the number of cells needed, preallocating a map can reduce or even eliminate the resizing operations.</p>\n"},{"comments":[{"owner":{"account_id":113531,"reputation":16358,"user_id":298969,"accept_rate":62,"display_name":"Sebastian Sebald"},"score":0,"creation_date":1305127848,"post_id":5954758,"comment_id":6883321,"body_markdown":"Already tried it. It does use less memory BUT the GC seems to throw away Objects, which I need later :(","body":"Already tried it. It does use less memory BUT the GC seems to throw away Objects, which I need later :("}],"tags":[],"owner":{"account_id":41850,"reputation":132328,"user_id":121747,"accept_rate":89,"display_name":"Jack"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1305052681,"creation_date":1305052681,"answer_id":5954758,"question_id":5954583,"body_markdown":"What you are asking is not so clear, it is not clear if memory is taken by the objects that you put inside the hasmap or by the hashmap itself, which shouldn&#39;t be the case since it only holds references.\r\n\r\nIn any case take a look at the [`WeakHashMap`][1], maybe it is what you are looking for: it is an hashmap which doesn&#39;t guarantee that keys are kept inside it, it should be used as a sort of cache but from your description I don&#39;t really know if it is your case or not.\r\n\r\n\r\n  [1]: http://download.oracle.com/javase/6/docs/api/java/util/WeakHashMap.html","title":"Remove unused allocated Memory from HashMaps","body":"<p>What you are asking is not so clear, it is not clear if memory is taken by the objects that you put inside the hasmap or by the hashmap itself, which shouldn't be the case since it only holds references.</p>\n\n<p>In any case take a look at the <a href=\"http://download.oracle.com/javase/6/docs/api/java/util/WeakHashMap.html\" rel=\"nofollow\"><code>WeakHashMap</code></a>, maybe it is what you are looking for: it is an hashmap which doesn't guarantee that keys are kept inside it, it should be used as a sort of cache but from your description I don't really know if it is your case or not.</p>\n"},{"tags":[],"owner":{"account_id":41183,"reputation":7098,"user_id":119636,"display_name":"Buhb"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1305053017,"creation_date":1305053017,"answer_id":5954815,"question_id":5954583,"body_markdown":"If you get nowhere with reducing the memory footprint of your hashmap, you could always put the data in a database. Depending on how the data is accessed, you might still get reasonable performance if you introduce a cache in front of the db.","title":"Remove unused allocated Memory from HashMaps","body":"<p>If you get nowhere with reducing the memory footprint of your hashmap, you could always put the data in a database. Depending on how the data is accessed, you might still get reasonable performance if you introduce a cache in front of the db.</p>\n"},{"tags":[],"owner":{"account_id":110937,"reputation":10882,"user_id":293330,"display_name":"Kaj"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1305053562,"creation_date":1305053562,"answer_id":5954918,"question_id":5954583,"body_markdown":"One thing that might come into play is that you might have substrings that are referencing old larger strings, and those substrings are then making it impossible for the GC to collect the char arrays that are too big. \r\n\r\nThis happens when you are using some XML parsers that are returning attributes/values as substring from a larger string. (A substring is only a limited view of the larger string). \r\n\r\nTry to put your strings in the map by doing something like this:\r\n\r\n    map.put(new String(key), new String(value));\r\n\r\nNote that the GC then might get more work to do when you are populating the map, and this might not help you if you don&#39;t have that many substrings that are referencing larger strings.\r\n\r\n","title":"Remove unused allocated Memory from HashMaps","body":"<p>One thing that might come into play is that you might have substrings that are referencing old larger strings, and those substrings are then making it impossible for the GC to collect the char arrays that are too big. </p>\n\n<p>This happens when you are using some XML parsers that are returning attributes/values as substring from a larger string. (A substring is only a limited view of the larger string). </p>\n\n<p>Try to put your strings in the map by doing something like this:</p>\n\n<pre><code>map.put(new String(key), new String(value));\n</code></pre>\n\n<p>Note that the GC then might get more work to do when you are populating the map, and this might not help you if you don't have that many substrings that are referencing larger strings.</p>\n"},{"tags":[],"owner":{"account_id":41183,"reputation":7098,"user_id":119636,"display_name":"Buhb"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1305056310,"creation_date":1305053832,"answer_id":5954980,"question_id":5954583,"body_markdown":"If you&#39;re really serious about this and you have time to spare, you can make your own implementation of the Map interface based on [minimal perfect hashing][1]\r\n\r\nIf your keys are Strings, then there apparently is a map available for you [here][2].\r\nI haven&#39;t tried it myself but it brags about reduced memory usage.\r\n\r\n\r\n  [1]: http://burtleburtle.net/bob/hash/perfect.html\r\n  [2]: http://www.anarres.org/projects/jperf/","title":"Remove unused allocated Memory from HashMaps","body":"<p>If you're really serious about this and you have time to spare, you can make your own implementation of the Map interface based on <a href=\"http://burtleburtle.net/bob/hash/perfect.html\" rel=\"nofollow\">minimal perfect hashing</a></p>\n\n<p>If your keys are Strings, then there apparently is a map available for you <a href=\"http://www.anarres.org/projects/jperf/\" rel=\"nofollow\">here</a>.\nI haven't tried it myself but it brags about reduced memory usage.</p>\n"},{"tags":[],"owner":{"account_id":299080,"reputation":2136,"user_id":605471,"accept_rate":100,"display_name":"T-Bull"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1305059262,"creation_date":1305059262,"answer_id":5956044,"question_id":5954583,"body_markdown":"You might give [the Trove collections][1] a shot. They advertise it as a more time and space efficient drop-in replacement for the java.util Collections.\r\n\r\n\r\n  [1]: http://trove.starlight-systems.com/","title":"Remove unused allocated Memory from HashMaps","body":"<p>You might give <a href=\"http://trove.starlight-systems.com/\" rel=\"nofollow\">the Trove collections</a> a shot. They advertise it as a more time and space efficient drop-in replacement for the java.util Collections.</p>\n"},{"tags":[],"owner":{"account_id":3453927,"reputation":176,"user_id":2892844,"display_name":"Duncan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697678018,"creation_date":1697677105,"answer_id":77320386,"question_id":5954583,"body_markdown":"Not an expert but I do have some experience managing memory in Java including working with maps.\r\n\r\nIf the quantity of objects is too large, you may be better off retaining Strings rather than other more complex objects and converting Strings to objects on the fly as needed.  I think that was the solution in one report I wrote that was combing through a database and creating summary reports.\r\n\r\nMaps are dangerous and are a common source of memory leaks.  The problem is that once a bucket is created in the map, it is never deleted.  If you are temporarily putting keys in the map and then removing them, any bucket created for a key will never be removed.  One way to deal with this is to use an object as the map key with a custom hashCode implementation that creates a limited set of hash code values.  For instance, if you want to use URLs as map keys (perhaps to implement a cache), you could wrap each URL in an object that produces a hashCode on the last three characters or so of the URL.  (The final characters of the URL will tend to have more variability than the beginning of the URL.)  The hashCode function in the wrapper might read:\r\n\r\n    int hashCode() {\r\n        return url.substring(path.length() - 3).hashCode()\r\n    }\r\n\r\nYou can compute the likely number of total hash code values and create a map with a corresponding initial capacity and load factor and be confident that the map will not grow larger over time if the total number of URLs saved in the map at any one time does not increase.\r\n\r\nThe admonition for Maps also applies to Sets that may use Maps or similar functionality as Maps to ensure the uniqueness of keys.\r\n\r\nYou may use a [LinkedHashMap][1] from the Java core library and override method removeEldestEntry to create a map that automatically eject old entries to stay below a maximum size.\r\n\r\n    import java.util.LinkedHashMap;\r\n    import java.util.Map;\r\n    \r\n    public class LimitedSizeMap&lt;K, V&gt; extends LinkedHashMap&lt;K, V&gt; {\r\n        private final int maxSize;\r\n    \r\n        public LimitedSizeMap(int maxSize) {\r\n            super(maxSize + 1, 1.1f, true);\r\n            this.maxSize = maxSize;\r\n        }\r\n    \r\n        @Override\r\n        protected boolean removeEldestEntry(Map.Entry&lt;K, V&gt; eldest) {\r\n            return size() &gt; maxSize;\r\n        }\r\n        \r\n        public static void main(String[] args) {\r\n            LimitedSizeMap&lt;String, Integer&gt; limitedMap = new LimitedSizeMap&lt;&gt;(3);\r\n            limitedMap.put(&quot;one&quot;, 1);\r\n            limitedMap.put(&quot;two&quot;, 2);\r\n            limitedMap.put(&quot;three&quot;, 3);\r\n    \r\n            System.out.println(limitedMap); // Output: {one=1, two=2, three=3}\r\n    \r\n            limitedMap.put(&quot;four&quot;, 4);\r\n    \r\n            System.out.println(limitedMap); // Output: {two=2, three=3, four=4}\r\n        }\r\n    }\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/LinkedHashMap.html#removeEldestEntry(java.util.Map.Entry)\r\n","title":"Remove unused allocated Memory from HashMaps","body":"<p>Not an expert but I do have some experience managing memory in Java including working with maps.</p>\n<p>If the quantity of objects is too large, you may be better off retaining Strings rather than other more complex objects and converting Strings to objects on the fly as needed.  I think that was the solution in one report I wrote that was combing through a database and creating summary reports.</p>\n<p>Maps are dangerous and are a common source of memory leaks.  The problem is that once a bucket is created in the map, it is never deleted.  If you are temporarily putting keys in the map and then removing them, any bucket created for a key will never be removed.  One way to deal with this is to use an object as the map key with a custom hashCode implementation that creates a limited set of hash code values.  For instance, if you want to use URLs as map keys (perhaps to implement a cache), you could wrap each URL in an object that produces a hashCode on the last three characters or so of the URL.  (The final characters of the URL will tend to have more variability than the beginning of the URL.)  The hashCode function in the wrapper might read:</p>\n<pre><code>int hashCode() {\n    return url.substring(path.length() - 3).hashCode()\n}\n</code></pre>\n<p>You can compute the likely number of total hash code values and create a map with a corresponding initial capacity and load factor and be confident that the map will not grow larger over time if the total number of URLs saved in the map at any one time does not increase.</p>\n<p>The admonition for Maps also applies to Sets that may use Maps or similar functionality as Maps to ensure the uniqueness of keys.</p>\n<p>You may use a <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/LinkedHashMap.html#removeEldestEntry(java.util.Map.Entry)\" rel=\"nofollow noreferrer\">LinkedHashMap</a> from the Java core library and override method removeEldestEntry to create a map that automatically eject old entries to stay below a maximum size.</p>\n<pre><code>import java.util.LinkedHashMap;\nimport java.util.Map;\n\npublic class LimitedSizeMap&lt;K, V&gt; extends LinkedHashMap&lt;K, V&gt; {\n    private final int maxSize;\n\n    public LimitedSizeMap(int maxSize) {\n        super(maxSize + 1, 1.1f, true);\n        this.maxSize = maxSize;\n    }\n\n    @Override\n    protected boolean removeEldestEntry(Map.Entry&lt;K, V&gt; eldest) {\n        return size() &gt; maxSize;\n    }\n    \n    public static void main(String[] args) {\n        LimitedSizeMap&lt;String, Integer&gt; limitedMap = new LimitedSizeMap&lt;&gt;(3);\n        limitedMap.put(&quot;one&quot;, 1);\n        limitedMap.put(&quot;two&quot;, 2);\n        limitedMap.put(&quot;three&quot;, 3);\n\n        System.out.println(limitedMap); // Output: {one=1, two=2, three=3}\n\n        limitedMap.put(&quot;four&quot;, 4);\n\n        System.out.println(limitedMap); // Output: {two=2, three=3, four=4}\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":113531,"reputation":16358,"user_id":298969,"accept_rate":62,"display_name":"Sebastian Sebald"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4700,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":7,"score":1,"last_activity_date":1697678018,"creation_date":1305051751,"question_id":5954583,"body_markdown":"I want to read some XML-files and convert it to a graph (no graphics, just a model). But because the files are very large (2,2 GB) my model object, which holds all the information, becomes even larger (4x the size of the file...).\r\n\r\nGoogling through the net I tried to find ways to reduce the object size. I tried different collection types but would like to stick to a HashMap (because I have to have random access). The actuall keys and values make up just a small amount of the allocated memory. Most of the hash table is empty...\r\n\r\nIf I&#39;m not totally wrong a garbage collection doesn&#39;t help me to free the allocated memory and reduce the size of the hashmap. Is there and other way to release unused memory and shrink the hashmap? Or is there a way to do perfect hashing? Or shoud I just use another collection?\r\n\r\nThanks in advance,\r\n\r\nSebastian","title":"Remove unused allocated Memory from HashMaps","body":"<p>I want to read some XML-files and convert it to a graph (no graphics, just a model). But because the files are very large (2,2 GB) my model object, which holds all the information, becomes even larger (4x the size of the file...).</p>\n\n<p>Googling through the net I tried to find ways to reduce the object size. I tried different collection types but would like to stick to a HashMap (because I have to have random access). The actuall keys and values make up just a small amount of the allocated memory. Most of the hash table is empty...</p>\n\n<p>If I'm not totally wrong a garbage collection doesn't help me to free the allocated memory and reduce the size of the hashmap. Is there and other way to release unused memory and shrink the hashmap? Or is there a way to do perfect hashing? Or shoud I just use another collection?</p>\n\n<p>Thanks in advance,</p>\n\n<p>Sebastian</p>\n"},{"tags":["java","spring","rest","kotlin","thymeleaf"],"comments":[{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1697703244,"post_id":77320376,"comment_id":136313880,"body_markdown":"Remove `@ResponseBody` as that is for returning info to rest controllers (like JSON or XML) not for returning a view with a model to render.","body":"Remove <code>@ResponseBody</code> as that is for returning info to rest controllers (like JSON or XML) not for returning a view with a model to render."}],"owner":{"account_id":17833331,"reputation":5,"user_id":12952864,"display_name":"Александр Коромыслов"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697676873,"creation_date":1697676873,"question_id":77320376,"body_markdown":"I am trying to return ModelAndView,\r\nIn debug mode I found ModelAndView has:\r\nview = &quot;recordstable&quot;\r\nmodel has 1 List,\r\nbut when it is returning ModelAndViewContainer view is null and default model is empty.\r\n\r\nrecordstable.html replaced in resources/templates\r\n\r\n    @Controller\r\n    @RequestMapping(&quot;/api/csv&quot;)\r\n    class AuthorRecordController(private val authorRecordService: AuthorRecordService) {\r\n    @GetMapping(&quot;/records&quot;, produces = arrayOf(&quot;application/json&quot;))\r\n    @ResponseBody\r\n    fun getRecords() : ModelAndView\r\n    {\r\n        val model = ModelAndView()\r\n        val listOfRecords = authorRecordService.getAllRecords()\r\n        model.addObject(&quot;listOfRecords&quot;, listOfRecords)\r\n        model.viewName = &quot;recordstable&quot;\r\n        return model\r\n    }\r\n}\r\n","title":"ModelAndViewContainer is empty when ModelAndView has object and viewName","body":"<p>I am trying to return ModelAndView,\nIn debug mode I found ModelAndView has:\nview = &quot;recordstable&quot;\nmodel has 1 List,\nbut when it is returning ModelAndViewContainer view is null and default model is empty.</p>\n<p>recordstable.html replaced in resources/templates</p>\n<pre><code>@Controller\n@RequestMapping(&quot;/api/csv&quot;)\nclass AuthorRecordController(private val authorRecordService: AuthorRecordService) {\n@GetMapping(&quot;/records&quot;, produces = arrayOf(&quot;application/json&quot;))\n@ResponseBody\nfun getRecords() : ModelAndView\n{\n    val model = ModelAndView()\n    val listOfRecords = authorRecordService.getAllRecords()\n    model.addObject(&quot;listOfRecords&quot;, listOfRecords)\n    model.viewName = &quot;recordstable&quot;\n    return model\n}\n</code></pre>\n<p>}</p>\n"},{"tags":["java","android","android-studio","build.gradle"],"answers":[{"comments":[{"owner":{"account_id":15161736,"reputation":21,"user_id":10940586,"display_name":"DAL"},"score":0,"creation_date":1606663744,"post_id":65061621,"comment_id":115022724,"body_markdown":"As I mentioned in the question, already did that and it didn&#39;t help :/","body":"As I mentioned in the question, already did that and it didn&#39;t help :/"}],"tags":[],"owner":{"account_id":11979781,"reputation":514,"user_id":8765956,"display_name":"Ranjit Vamadevan"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1606662662,"creation_date":1606662662,"answer_id":65061621,"question_id":65061459,"body_markdown":"Go to Android studio SDK Manager and update or install google play services.\r\nhttps://developer.android.com/studio/intro/update.html#sdk-manager","title":"Android Studio cannot import com.google.gms.googleservices.GoogleServicesPlugin","body":"<p>Go to Android studio SDK Manager and update or install google play services.\n<a href=\"https://developer.android.com/studio/intro/update.html#sdk-manager\" rel=\"nofollow noreferrer\">https://developer.android.com/studio/intro/update.html#sdk-manager</a></p>\n"},{"comments":[{"owner":{"account_id":1761357,"reputation":609,"user_id":1608385,"display_name":"user1608385"},"score":0,"creation_date":1649776584,"post_id":65981546,"comment_id":126959095,"body_markdown":"My build failed due to the following line: \n\ncom.google.gms.googleservices.GoogleServicesPlugin.config.disableVersionCheck = true\n\nReplacing it with googleServices.disableVersionCheck = true worked for me.","body":"My build failed due to the following line:   com.google.gms.googleservices.GoogleServicesPlugin.config.di&zwnj;&#8203;sableVersionCheck = true  Replacing it with googleServices.disableVersionCheck = true worked for me."}],"tags":[],"owner":{"account_id":415954,"reputation":966,"user_id":791064,"display_name":"Brad Folkens"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1612110889,"creation_date":1612110889,"answer_id":65981546,"question_id":65061459,"body_markdown":"To fix, change your app&#39;s `build.gradle` from the following:\r\n\r\n```\r\ncom.google.gms.googleservices.GoogleServicesPlugin = true\r\n```\r\n\r\nTo:\r\n\r\n```\r\ngoogleServices.disableVersionCheck = true\r\n```\r\n\r\nThere&#39;s some further discussion here:\r\nhttps://github.com/google/play-services-plugins/issues/36\r\n","title":"Android Studio cannot import com.google.gms.googleservices.GoogleServicesPlugin","body":"<p>To fix, change your app's <code>build.gradle</code> from the following:</p>\n<pre><code>com.google.gms.googleservices.GoogleServicesPlugin = true\n</code></pre>\n<p>To:</p>\n<pre><code>googleServices.disableVersionCheck = true\n</code></pre>\n<p>There's some further discussion here:\n<a href=\"https://github.com/google/play-services-plugins/issues/36\" rel=\"nofollow noreferrer\">https://github.com/google/play-services-plugins/issues/36</a></p>\n"},{"tags":[],"owner":{"account_id":15195792,"reputation":339,"user_id":10965177,"display_name":"NELSON RODRIGUEZ"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697676191,"creation_date":1697676191,"answer_id":77320351,"question_id":65061459,"body_markdown":"version classpath &#39;com.google.gms:google-services:4.3.14&#39; worked to me","title":"Android Studio cannot import com.google.gms.googleservices.GoogleServicesPlugin","body":"<p>version classpath 'com.google.gms:google-services:4.3.14' worked to me</p>\n"}],"owner":{"account_id":15161736,"reputation":21,"user_id":10940586,"display_name":"DAL"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1199,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1697676191,"creation_date":1606661701,"question_id":65061459,"body_markdown":"I&#39;m having a problem that every once in a while, suddenly I get a gradle error of:\r\n`No such property: config for class: com.google.gms.googleservices.GoogleServicesPlugin` that I don&#39;t know how to solve (and don&#39;t know what made it disappear on the previous times it happened to me).\r\n\r\nIt seems like the problem is that the Android Studio doesn&#39;t recognise `com.google.gms.googleservices.GoogleServicesPlugin` because I get `cannot resolve symbol` on the `com.google` part (Inside build.gradle(:app)). \r\n\r\nI&#39;ve already watch more than 20 other questions regarding this issue, all of them suggest the same thing - updating the `com.google.gms:google-services` or adding `jcenter()` In addition to Maven, but these are already updated in my code.\r\n\r\nAlso tried :\r\n* `Invalidate Caches/Restart` \r\n* Updating gradle plugin\r\n* Delete and re-install `Google play services`, `Android SDK Build-Tools`, `Android SDK Platforms-Tools` &amp; `Android SDK Tools` SDKs in the SDK manager\r\n* update Android Studio to latest version\r\n\r\nI&#39;m pretty lost here, any help please? \r\n\r\nMy Build.gradle(:Project) : \r\n```repositories {\r\n        google()\r\n        jcenter()\r\n        ...\r\n        mavenCentral()\r\n    }\r\n\r\n    dependencies {\r\n        classpath &#39;com.android.tools.build:gradle:4.1.1&#39;\r\n        classpath &#39;com.google.gms:google-services:4.3.4&#39;\r\n        ...\r\n    }","title":"Android Studio cannot import com.google.gms.googleservices.GoogleServicesPlugin","body":"<p>I'm having a problem that every once in a while, suddenly I get a gradle error of:\n<code>No such property: config for class: com.google.gms.googleservices.GoogleServicesPlugin</code> that I don't know how to solve (and don't know what made it disappear on the previous times it happened to me).</p>\n<p>It seems like the problem is that the Android Studio doesn't recognise <code>com.google.gms.googleservices.GoogleServicesPlugin</code> because I get <code>cannot resolve symbol</code> on the <code>com.google</code> part (Inside build.gradle(:app)).</p>\n<p>I've already watch more than 20 other questions regarding this issue, all of them suggest the same thing - updating the <code>com.google.gms:google-services</code> or adding <code>jcenter()</code> In addition to Maven, but these are already updated in my code.</p>\n<p>Also tried :</p>\n<ul>\n<li><code>Invalidate Caches/Restart</code></li>\n<li>Updating gradle plugin</li>\n<li>Delete and re-install <code>Google play services</code>, <code>Android SDK Build-Tools</code>, <code>Android SDK Platforms-Tools</code> &amp; <code>Android SDK Tools</code> SDKs in the SDK manager</li>\n<li>update Android Studio to latest version</li>\n</ul>\n<p>I'm pretty lost here, any help please?</p>\n<p>My Build.gradle(:Project) :</p>\n<pre><code>        google()\n        jcenter()\n        ...\n        mavenCentral()\n    }\n\n    dependencies {\n        classpath 'com.android.tools.build:gradle:4.1.1'\n        classpath 'com.google.gms:google-services:4.3.4'\n        ...\n    }\n</code></pre>\n"},{"tags":["java","hibernate","seam","weblogic-10.x"],"comments":[{"owner":{"account_id":54359,"reputation":9223,"user_id":162622,"accept_rate":51,"display_name":"Kiva"},"score":0,"creation_date":1280760427,"post_id":3344389,"comment_id":3523497,"body_markdown":"I tried this, many time ;) and nothing has changed","body":"I tried this, many time ;) and nothing has changed"}],"answers":[{"comments":[{"owner":{"account_id":241879,"reputation":10776,"user_id":512993,"accept_rate":90,"display_name":"Ho&#224;ng Long"},"score":1,"creation_date":1308049139,"post_id":4280441,"comment_id":7420372,"body_markdown":"brilliant! How can you know that?","body":"brilliant! How can you know that?"},{"owner":{"account_id":132702,"reputation":759,"user_id":333553,"accept_rate":33,"display_name":"user18943"},"score":5,"creation_date":1308051658,"post_id":4280441,"comment_id":7420947,"body_markdown":"Because i&#39;ve gone through this pain.","body":"Because i&#39;ve gone through this pain."},{"owner":{"account_id":241879,"reputation":10776,"user_id":512993,"accept_rate":90,"display_name":"Ho&#224;ng Long"},"score":0,"creation_date":1308063924,"post_id":4280441,"comment_id":7424957,"body_markdown":"just a little question, do you know the best way to avoid conflict? It seems the error when conflict happens doesn&#39;t give much inFormation","body":"just a little question, do you know the best way to avoid conflict? It seems the error when conflict happens doesn&#39;t give much inFormation"},{"owner":{"account_id":132702,"reputation":759,"user_id":333553,"accept_rate":33,"display_name":"user18943"},"score":3,"creation_date":1308068099,"post_id":4280441,"comment_id":7426370,"body_markdown":"These kind of issues do arise when we use various frameworks together. But the art of guess-work comes with experience :)","body":"These kind of issues do arise when we use various frameworks together. But the art of guess-work comes with experience :)"}],"tags":[],"owner":{"account_id":132702,"reputation":759,"user_id":333553,"accept_rate":33,"display_name":"user18943"},"comment_count":4,"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1290714729,"creation_date":1290714729,"answer_id":4280441,"question_id":3344389,"body_markdown":"It happens when you use newer version of Hibernate in your application while pre-packaged hibernate jars (that come with jboss server) are of older version. For details on how to properly upgrade your application server&#39;s hibernate jars, read [this][1].\r\n\r\n\r\n  [1]: http://jaitechwriteups.blogspot.com/2008/08/how-to-upgrade-hibernate-in-jboss.html","title":"java.lang.NoSuchMethodException: org.hibernate.validator.ClassValidator Seam weblogic 10.3","body":"<p>It happens when you use newer version of Hibernate in your application while pre-packaged hibernate jars (that come with jboss server) are of older version. For details on how to properly upgrade your application server's hibernate jars, read <a href=\"http://jaitechwriteups.blogspot.com/2008/08/how-to-upgrade-hibernate-in-jboss.html\">this</a>.</p>\n"},{"comments":[{"owner":{"account_id":773585,"reputation":3537,"user_id":1034782,"accept_rate":25,"display_name":"Donatello"},"score":0,"creation_date":1359651893,"post_id":9269059,"comment_id":20436975,"body_markdown":"That&#39;s it !! Worked for me with Hibernate 3.6.0.Final and JBoss 4.2.1.GA. Many many thanks !!","body":"That&#39;s it !! Worked for me with Hibernate 3.6.0.Final and JBoss 4.2.1.GA. Many many thanks !!"},{"owner":{"account_id":273068,"reputation":4940,"user_id":564449,"accept_rate":83,"display_name":"Cristiano Fontes"},"score":0,"creation_date":1361190777,"post_id":9269059,"comment_id":20960652,"body_markdown":"You saved my day... how did you found this out ?","body":"You saved my day... how did you found this out ?"},{"owner":{"account_id":1126328,"reputation":10371,"user_id":1113542,"accept_rate":73,"display_name":"Dhruv"},"score":0,"creation_date":1369651975,"post_id":9269059,"comment_id":24164006,"body_markdown":"is this hibernate config file is present in server ?","body":"is this hibernate config file is present in server ?"},{"owner":{"account_id":315665,"reputation":2208,"user_id":631456,"accept_rate":70,"display_name":"Trevor"},"score":0,"creation_date":1413415284,"post_id":9269059,"comment_id":41439904,"body_markdown":"No, the hibernate config should be in your resources folder.","body":"No, the hibernate config should be in your resources folder."}],"tags":[],"owner":{"account_id":1246572,"reputation":171,"user_id":1207894,"display_name":"Victor Lindberg"},"comment_count":4,"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1329172484,"creation_date":1329172484,"answer_id":9269059,"question_id":3344389,"body_markdown":"I solved this problem adding this two properties in my hibernate config.\r\n\r\n    &lt;property name=&quot;hibernate.validator.apply_to_ddl&quot;&gt;false&lt;/property&gt; \r\n    &lt;property name=&quot;hibernate.validator.autoregister_listeners&quot;&gt;false&lt;/property&gt;","title":"java.lang.NoSuchMethodException: org.hibernate.validator.ClassValidator Seam weblogic 10.3","body":"<p>I solved this problem adding this two properties in my hibernate config.</p>\n\n<pre><code>&lt;property name=\"hibernate.validator.apply_to_ddl\"&gt;false&lt;/property&gt; \n&lt;property name=\"hibernate.validator.autoregister_listeners\"&gt;false&lt;/property&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":263393,"reputation":6812,"user_id":548915,"accept_rate":56,"display_name":"Kristof Jozsa"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1394483521,"creation_date":1394483521,"answer_id":22310699,"question_id":3344389,"body_markdown":"If you happen to hit this issue on Weblogic Server, I solved this problem on Weblogic 10.3.0.0 with placing the package `org.hibernate` to `prefer-application-packages` at `weblogic-application.xml` in the EAR:\r\n\r\n    &lt;weblogic-application&gt;\r\n       &lt;prefer-application-packages&gt;\r\n          &lt;package-name&gt;org.hibernate.*&lt;/package-name&gt;\r\n       &lt;/prefer-application-packages&gt;\r\n    &lt;/weblogic-application&gt;\r\n\r\nWith a properly built application this will prevent Weblogic Server loading the older, conflicting library from the server&#39;s classpath and make it work as expected.\r\n","title":"java.lang.NoSuchMethodException: org.hibernate.validator.ClassValidator Seam weblogic 10.3","body":"<p>If you happen to hit this issue on Weblogic Server, I solved this problem on Weblogic 10.3.0.0 with placing the package <code>org.hibernate</code> to <code>prefer-application-packages</code> at <code>weblogic-application.xml</code> in the EAR:</p>\n\n<pre><code>&lt;weblogic-application&gt;\n   &lt;prefer-application-packages&gt;\n      &lt;package-name&gt;org.hibernate.*&lt;/package-name&gt;\n   &lt;/prefer-application-packages&gt;\n&lt;/weblogic-application&gt;\n</code></pre>\n\n<p>With a properly built application this will prevent Weblogic Server loading the older, conflicting library from the server's classpath and make it work as expected.</p>\n"}],"owner":{"account_id":54359,"reputation":9223,"user_id":162622,"accept_rate":51,"display_name":"Kiva"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":25093,"favorite_count":0,"down_vote_count":0,"up_vote_count":18,"answer_count":3,"score":18,"last_activity_date":1697675801,"creation_date":1280239200,"question_id":3344389,"body_markdown":"I have a big problem with Hibernate (use with seam) on weblogic 10.3.\r\n\r\nWhen I publish my application, I get this error:\r\n\r\n    java.lang.NoSuchMethodException: org.hibernate.validator.ClassValidator.&lt;init&gt;(java.lang.Class, java.util.ResourceBundle, org.hibernate.validator.MessageInterpolator, java.util.Map, org.hibernate.annotations.common.reflection.ReflectionManager)\r\n\r\nI read on the web that this error can come from compatibily between hibernate jar. But, I read the matrix and I have the good jar with good version (hibernate-validator 3.1, hibernate-search 3.1, hibernate core 3.3.0)\r\n\r\nI haven&#39;t idea to resolve this problem. Someone can help me ?\r\n\r\nThanks.\r\n\r\nPS: Here is the full stack trace:\r\n\r\n    weblogic.application.ModuleException: \r\n        \tat weblogic.servlet.internal.WebAppModule.startContexts(WebAppModule.java:1373)\r\n        \tat weblogic.servlet.internal.WebAppModule.start(WebAppModule.java:468)\r\n        \tat weblogic.application.internal.flow.ModuleListenerInvoker.start(ModuleListenerInvoker.java:117)\r\n        \tat weblogic.application.internal.flow.ModuleStateDriver$3.next(ModuleStateDriver.java:204)\r\n        \tat weblogic.application.utils.StateMachineDriver.nextState(StateMachineDriver.java:37)\r\n        \tat weblogic.application.internal.flow.ModuleStateDriver.start(ModuleStateDriver.java:60)\r\n        \tat weblogic.application.internal.flow.StartModulesFlow.activate(StartModulesFlow.java:27)\r\n        \tat weblogic.application.internal.BaseDeployment$2.next(BaseDeployment.java:635)\r\n        \tat weblogic.application.utils.StateMachineDriver.nextState(StateMachineDriver.java:37)\r\n        \tat weblogic.application.internal.BaseDeployment.activate(BaseDeployment.java:212)\r\n        \tat weblogic.application.internal.EarDeployment.activate(EarDeployment.java:16)\r\n        \tat weblogic.application.internal.DeploymentStateChecker.activate(DeploymentStateChecker.java:162)\r\n        \tat weblogic.deploy.internal.targetserver.AppContainerInvoker.activate(AppContainerInvoker.java:79)\r\n        \tat weblogic.deploy.internal.targetserver.operations.AbstractOperation.activate(AbstractOperation.java:569)\r\n        \tat weblogic.deploy.internal.targetserver.operations.ActivateOperation.activateDeployment(ActivateOperation.java:140)\r\n        \tat weblogic.deploy.internal.targetserver.operations.ActivateOperation.doCommit(ActivateOperation.java:106)\r\n        \tat weblogic.deploy.internal.targetserver.operations.StartOperation.doCommit(StartOperation.java:143)\r\n        \tat weblogic.deploy.internal.targetserver.operations.AbstractOperation.commit(AbstractOperation.java:323)\r\n        \tat weblogic.deploy.internal.targetserver.DeploymentManager.handleDeploymentCommit(DeploymentManager.java:820)\r\n        \tat weblogic.deploy.internal.targetserver.DeploymentManager.activateDeploymentList(DeploymentManager.java:1227)\r\n        \tat weblogic.deploy.internal.targetserver.DeploymentManager.handleCommit(DeploymentManager.java:436)\r\n        \tat weblogic.deploy.internal.targetserver.DeploymentServiceDispatcher.commit(DeploymentServiceDispatcher.java:163)\r\n        \tat weblogic.deploy.service.internal.targetserver.DeploymentReceiverCallbackDeliverer.doCommitCallback(DeploymentReceiverCallbackDeliverer.java:181)\r\n        \tat weblogic.deploy.service.internal.targetserver.DeploymentReceiverCallbackDeliverer.access$100(DeploymentReceiverCallbackDeliverer.java:12)\r\n        \tat weblogic.deploy.service.internal.targetserver.DeploymentReceiverCallbackDeliverer$2.run(DeploymentReceiverCallbackDeliverer.java:67)\r\n        \tat weblogic.work.SelfTuningWorkManagerImpl$WorkAdapterImpl.run(SelfTuningWorkManagerImpl.java:516)\r\n        \tat weblogic.work.ExecuteThread.execute(ExecuteThread.java:201)\r\n        \tat weblogic.work.ExecuteThread.run(ExecuteThread.java:173)\r\n        java.lang.NoSuchMethodException: org.hibernate.validator.ClassValidator.&lt;init&gt;(java.lang.Class, java.util.ResourceBundle, org.hibernate.validator.MessageInterpolator, java.util.Map, org.hibernate.annotations.common.reflection.ReflectionManager)\r\n        \tat java.lang.Class.getConstructor0(Class.java:2706)\r\n        \tat java.lang.Class.getDeclaredConstructor(Class.java:1985)\r\n        \tat org.hibernate.cfg.AnnotationConfiguration.secondPassCompile(AnnotationConfiguration.java:352)\r\n        \tat org.hibernate.cfg.Configuration.buildMappings(Configuration.java:1148)\r\n        \tat org.hibernate.ejb.Ejb3Configuration.buildMappings(Ejb3Configuration.java:1226)\r\n        \tat org.hibernate.ejb.EventListenerConfigurator.configure(EventListenerConfigurator.java:159)\r\n        \tat org.hibernate.ejb.Ejb3Configuration.configure(Ejb3Configuration.java:854)\r\n        \tat org.hibernate.ejb.Ejb3Configuration.configure(Ejb3Configuration.java:191)\r\n        \tat org.hibernate.ejb.Ejb3Configuration.configure(Ejb3Configuration.java:253)\r\n        \tat org.hibernate.ejb.HibernatePersistence.createEntityManagerFactory(HibernatePersistence.java:125)\r\n        \tat javax.persistence.Persistence.createEntityManagerFactory(Persistence.java:83)\r\n        \tat javax.persistence.Persistence.createEntityManagerFactory(Persistence.java:60)\r\n        \tat org.jboss.seam.persistence.EntityManagerFactory.createEntityManagerFactory(EntityManagerFactory.java:81)\r\n        \tat org.jboss.seam.persistence.EntityManagerFactory.startup(EntityManagerFactory.java:50)\r\n        \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n        \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\r\n        \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\r\n        \tat java.lang.reflect.Method.invoke(Method.java:597)\r\n        \tat org.jboss.seam.util.Reflections.invoke(Reflections.java:22)\r\n        \tat org.jboss.seam.util.Reflections.invokeAndWrap(Reflections.java:144)\r\n        \tat org.jboss.seam.Component.callComponentMethod(Component.java:2257)\r\n        \tat org.jboss.seam.Component.callCreateMethod(Component.java:2172)\r\n        \tat org.jboss.seam.Component.newInstance(Component.java:2132)\r\n        \tat org.jboss.seam.contexts.Contexts.startup(Contexts.java:304)\r\n        \tat org.jboss.seam.contexts.Contexts.startup(Contexts.java:278)\r\n        \tat org.jboss.seam.contexts.ServletLifecycle.endInitialization(ServletLifecycle.java:116)\r\n        \tat org.jboss.seam.init.Initialization.init(Initialization.java:740)\r\n        \tat org.jboss.seam.servlet.SeamListener.contextInitialized(SeamListener.java:36)\r\n        \tat weblogic.servlet.internal.EventsManager$FireContextListenerAction.run(EventsManager.java:465)\r\n        \tat weblogic.security.acl.internal.AuthenticatedSubject.doAs(AuthenticatedSubject.java:321)\r\n        \tat weblogic.security.service.SecurityManager.runAs(Unknown Source)\r\n        \tat weblogic.servlet.internal.EventsManager.notifyContextCreatedEvent(EventsManager.java:175)\r\n        \tat weblogic.servlet.internal.WebAppServletContext.preloadResources(WebAppServletContext.java:1785)\r\n        \tat weblogic.servlet.internal.WebAppServletContext.start(WebAppServletContext.java:3005)\r\n        \tat weblogic.servlet.internal.WebAppModule.startContexts(WebAppModule.java:1371)\r\n        \tat weblogic.servlet.internal.WebAppModule.start(WebAppModule.java:468)\r\n        \tat weblogic.application.internal.flow.ModuleListenerInvoker.start(ModuleListenerInvoker.java:117)\r\n        \tat weblogic.application.internal.flow.ModuleStateDriver$3.next(ModuleStateDriver.java:204)\r\n        \tat weblogic.application.utils.StateMachineDriver.nextState(StateMachineDriver.java:37)\r\n        \tat weblogic.application.internal.flow.ModuleStateDriver.start(ModuleStateDriver.java:60)\r\n        \tat weblogic.application.internal.flow.StartModulesFlow.activate(StartModulesFlow.java:27)\r\n        \tat weblogic.application.internal.BaseDeployment$2.next(BaseDeployment.java:635)\r\n        \tat weblogic.application.utils.StateMachineDriver.nextState(StateMachineDriver.java:37)\r\n        \tat weblogic.application.internal.BaseDeployment.activate(BaseDeployment.java:212)\r\n        \tat weblogic.application.internal.EarDeployment.activate(EarDeployment.java:16)\r\n        \tat weblogic.application.internal.DeploymentStateChecker.activate(DeploymentStateChecker.java:162)\r\n        \tat weblogic.deploy.internal.targetserver.AppContainerInvoker.activate(AppContainerInvoker.java:79)\r\n        \tat weblogic.deploy.internal.targetserver.operations.AbstractOperation.activate(AbstractOperation.java:569)\r\n        \tat weblogic.deploy.internal.targetserver.operations.ActivateOperation.activateDeployment(ActivateOperation.java:140)\r\n        \tat weblogic.deploy.internal.targetserver.operations.ActivateOperation.doCommit(ActivateOperation.java:106)\r\n        \tat weblogic.deploy.internal.targetserver.operations.StartOperation.doCommit(StartOperation.java:143)\r\n        \tat weblogic.deploy.internal.targetserver.operations.AbstractOperation.commit(AbstractOperation.java:323)\r\n        \tat weblogic.deploy.internal.targetserver.DeploymentManager.handleDeploymentCommit(DeploymentManager.java:820)\r\n        \tat weblogic.deploy.internal.targetserver.DeploymentManager.activateDeploymentList(DeploymentManager.java:1227)\r\n        \tat weblogic.deploy.internal.targetserver.DeploymentManager.handleCommit(DeploymentManager.java:436)\r\n        \tat weblogic.deploy.internal.targetserver.DeploymentServiceDispatcher.commit(DeploymentServiceDispatcher.java:163)\r\n        \tat weblogic.deploy.service.internal.targetserver.DeploymentReceiverCallbackDeliverer.doCommitCallback(DeploymentReceiverCallbackDeliverer.java:181)\r\n        \tat weblogic.deploy.service.internal.targetserver.DeploymentReceiverCallbackDeliverer.access$100(DeploymentReceiverCallbackDeliverer.java:12)\r\n        \tat weblogic.deploy.service.internal.targetserver.DeploymentReceiverCallbackDeliverer$2.run(DeploymentReceiverCallbackDeliverer.java:67)\r\n        \tat weblogic.work.SelfTuningWorkManagerImpl$WorkAdapterImpl.run(SelfTuningWorkManagerImpl.java:516)\r\n        \tat weblogic.work.ExecuteThread.execute(ExecuteThread.java:201)\r\n        \tat weblogic.work.ExecuteThread.run(ExecuteThread.java:173)\r\n        &gt; \r\n\r\n","title":"java.lang.NoSuchMethodException: org.hibernate.validator.ClassValidator Seam weblogic 10.3","body":"<p>I have a big problem with Hibernate (use with seam) on weblogic 10.3.</p>\n\n<p>When I publish my application, I get this error:</p>\n\n<pre><code>java.lang.NoSuchMethodException: org.hibernate.validator.ClassValidator.&lt;init&gt;(java.lang.Class, java.util.ResourceBundle, org.hibernate.validator.MessageInterpolator, java.util.Map, org.hibernate.annotations.common.reflection.ReflectionManager)\n</code></pre>\n\n<p>I read on the web that this error can come from compatibily between hibernate jar. But, I read the matrix and I have the good jar with good version (hibernate-validator 3.1, hibernate-search 3.1, hibernate core 3.3.0)</p>\n\n<p>I haven't idea to resolve this problem. Someone can help me ?</p>\n\n<p>Thanks.</p>\n\n<p>PS: Here is the full stack trace:</p>\n\n<pre><code>weblogic.application.ModuleException: \n        at weblogic.servlet.internal.WebAppModule.startContexts(WebAppModule.java:1373)\n        at weblogic.servlet.internal.WebAppModule.start(WebAppModule.java:468)\n        at weblogic.application.internal.flow.ModuleListenerInvoker.start(ModuleListenerInvoker.java:117)\n        at weblogic.application.internal.flow.ModuleStateDriver$3.next(ModuleStateDriver.java:204)\n        at weblogic.application.utils.StateMachineDriver.nextState(StateMachineDriver.java:37)\n        at weblogic.application.internal.flow.ModuleStateDriver.start(ModuleStateDriver.java:60)\n        at weblogic.application.internal.flow.StartModulesFlow.activate(StartModulesFlow.java:27)\n        at weblogic.application.internal.BaseDeployment$2.next(BaseDeployment.java:635)\n        at weblogic.application.utils.StateMachineDriver.nextState(StateMachineDriver.java:37)\n        at weblogic.application.internal.BaseDeployment.activate(BaseDeployment.java:212)\n        at weblogic.application.internal.EarDeployment.activate(EarDeployment.java:16)\n        at weblogic.application.internal.DeploymentStateChecker.activate(DeploymentStateChecker.java:162)\n        at weblogic.deploy.internal.targetserver.AppContainerInvoker.activate(AppContainerInvoker.java:79)\n        at weblogic.deploy.internal.targetserver.operations.AbstractOperation.activate(AbstractOperation.java:569)\n        at weblogic.deploy.internal.targetserver.operations.ActivateOperation.activateDeployment(ActivateOperation.java:140)\n        at weblogic.deploy.internal.targetserver.operations.ActivateOperation.doCommit(ActivateOperation.java:106)\n        at weblogic.deploy.internal.targetserver.operations.StartOperation.doCommit(StartOperation.java:143)\n        at weblogic.deploy.internal.targetserver.operations.AbstractOperation.commit(AbstractOperation.java:323)\n        at weblogic.deploy.internal.targetserver.DeploymentManager.handleDeploymentCommit(DeploymentManager.java:820)\n        at weblogic.deploy.internal.targetserver.DeploymentManager.activateDeploymentList(DeploymentManager.java:1227)\n        at weblogic.deploy.internal.targetserver.DeploymentManager.handleCommit(DeploymentManager.java:436)\n        at weblogic.deploy.internal.targetserver.DeploymentServiceDispatcher.commit(DeploymentServiceDispatcher.java:163)\n        at weblogic.deploy.service.internal.targetserver.DeploymentReceiverCallbackDeliverer.doCommitCallback(DeploymentReceiverCallbackDeliverer.java:181)\n        at weblogic.deploy.service.internal.targetserver.DeploymentReceiverCallbackDeliverer.access$100(DeploymentReceiverCallbackDeliverer.java:12)\n        at weblogic.deploy.service.internal.targetserver.DeploymentReceiverCallbackDeliverer$2.run(DeploymentReceiverCallbackDeliverer.java:67)\n        at weblogic.work.SelfTuningWorkManagerImpl$WorkAdapterImpl.run(SelfTuningWorkManagerImpl.java:516)\n        at weblogic.work.ExecuteThread.execute(ExecuteThread.java:201)\n        at weblogic.work.ExecuteThread.run(ExecuteThread.java:173)\n    java.lang.NoSuchMethodException: org.hibernate.validator.ClassValidator.&lt;init&gt;(java.lang.Class, java.util.ResourceBundle, org.hibernate.validator.MessageInterpolator, java.util.Map, org.hibernate.annotations.common.reflection.ReflectionManager)\n        at java.lang.Class.getConstructor0(Class.java:2706)\n        at java.lang.Class.getDeclaredConstructor(Class.java:1985)\n        at org.hibernate.cfg.AnnotationConfiguration.secondPassCompile(AnnotationConfiguration.java:352)\n        at org.hibernate.cfg.Configuration.buildMappings(Configuration.java:1148)\n        at org.hibernate.ejb.Ejb3Configuration.buildMappings(Ejb3Configuration.java:1226)\n        at org.hibernate.ejb.EventListenerConfigurator.configure(EventListenerConfigurator.java:159)\n        at org.hibernate.ejb.Ejb3Configuration.configure(Ejb3Configuration.java:854)\n        at org.hibernate.ejb.Ejb3Configuration.configure(Ejb3Configuration.java:191)\n        at org.hibernate.ejb.Ejb3Configuration.configure(Ejb3Configuration.java:253)\n        at org.hibernate.ejb.HibernatePersistence.createEntityManagerFactory(HibernatePersistence.java:125)\n        at javax.persistence.Persistence.createEntityManagerFactory(Persistence.java:83)\n        at javax.persistence.Persistence.createEntityManagerFactory(Persistence.java:60)\n        at org.jboss.seam.persistence.EntityManagerFactory.createEntityManagerFactory(EntityManagerFactory.java:81)\n        at org.jboss.seam.persistence.EntityManagerFactory.startup(EntityManagerFactory.java:50)\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n        at java.lang.reflect.Method.invoke(Method.java:597)\n        at org.jboss.seam.util.Reflections.invoke(Reflections.java:22)\n        at org.jboss.seam.util.Reflections.invokeAndWrap(Reflections.java:144)\n        at org.jboss.seam.Component.callComponentMethod(Component.java:2257)\n        at org.jboss.seam.Component.callCreateMethod(Component.java:2172)\n        at org.jboss.seam.Component.newInstance(Component.java:2132)\n        at org.jboss.seam.contexts.Contexts.startup(Contexts.java:304)\n        at org.jboss.seam.contexts.Contexts.startup(Contexts.java:278)\n        at org.jboss.seam.contexts.ServletLifecycle.endInitialization(ServletLifecycle.java:116)\n        at org.jboss.seam.init.Initialization.init(Initialization.java:740)\n        at org.jboss.seam.servlet.SeamListener.contextInitialized(SeamListener.java:36)\n        at weblogic.servlet.internal.EventsManager$FireContextListenerAction.run(EventsManager.java:465)\n        at weblogic.security.acl.internal.AuthenticatedSubject.doAs(AuthenticatedSubject.java:321)\n        at weblogic.security.service.SecurityManager.runAs(Unknown Source)\n        at weblogic.servlet.internal.EventsManager.notifyContextCreatedEvent(EventsManager.java:175)\n        at weblogic.servlet.internal.WebAppServletContext.preloadResources(WebAppServletContext.java:1785)\n        at weblogic.servlet.internal.WebAppServletContext.start(WebAppServletContext.java:3005)\n        at weblogic.servlet.internal.WebAppModule.startContexts(WebAppModule.java:1371)\n        at weblogic.servlet.internal.WebAppModule.start(WebAppModule.java:468)\n        at weblogic.application.internal.flow.ModuleListenerInvoker.start(ModuleListenerInvoker.java:117)\n        at weblogic.application.internal.flow.ModuleStateDriver$3.next(ModuleStateDriver.java:204)\n        at weblogic.application.utils.StateMachineDriver.nextState(StateMachineDriver.java:37)\n        at weblogic.application.internal.flow.ModuleStateDriver.start(ModuleStateDriver.java:60)\n        at weblogic.application.internal.flow.StartModulesFlow.activate(StartModulesFlow.java:27)\n        at weblogic.application.internal.BaseDeployment$2.next(BaseDeployment.java:635)\n        at weblogic.application.utils.StateMachineDriver.nextState(StateMachineDriver.java:37)\n        at weblogic.application.internal.BaseDeployment.activate(BaseDeployment.java:212)\n        at weblogic.application.internal.EarDeployment.activate(EarDeployment.java:16)\n        at weblogic.application.internal.DeploymentStateChecker.activate(DeploymentStateChecker.java:162)\n        at weblogic.deploy.internal.targetserver.AppContainerInvoker.activate(AppContainerInvoker.java:79)\n        at weblogic.deploy.internal.targetserver.operations.AbstractOperation.activate(AbstractOperation.java:569)\n        at weblogic.deploy.internal.targetserver.operations.ActivateOperation.activateDeployment(ActivateOperation.java:140)\n        at weblogic.deploy.internal.targetserver.operations.ActivateOperation.doCommit(ActivateOperation.java:106)\n        at weblogic.deploy.internal.targetserver.operations.StartOperation.doCommit(StartOperation.java:143)\n        at weblogic.deploy.internal.targetserver.operations.AbstractOperation.commit(AbstractOperation.java:323)\n        at weblogic.deploy.internal.targetserver.DeploymentManager.handleDeploymentCommit(DeploymentManager.java:820)\n        at weblogic.deploy.internal.targetserver.DeploymentManager.activateDeploymentList(DeploymentManager.java:1227)\n        at weblogic.deploy.internal.targetserver.DeploymentManager.handleCommit(DeploymentManager.java:436)\n        at weblogic.deploy.internal.targetserver.DeploymentServiceDispatcher.commit(DeploymentServiceDispatcher.java:163)\n        at weblogic.deploy.service.internal.targetserver.DeploymentReceiverCallbackDeliverer.doCommitCallback(DeploymentReceiverCallbackDeliverer.java:181)\n        at weblogic.deploy.service.internal.targetserver.DeploymentReceiverCallbackDeliverer.access$100(DeploymentReceiverCallbackDeliverer.java:12)\n        at weblogic.deploy.service.internal.targetserver.DeploymentReceiverCallbackDeliverer$2.run(DeploymentReceiverCallbackDeliverer.java:67)\n        at weblogic.work.SelfTuningWorkManagerImpl$WorkAdapterImpl.run(SelfTuningWorkManagerImpl.java:516)\n        at weblogic.work.ExecuteThread.execute(ExecuteThread.java:201)\n        at weblogic.work.ExecuteThread.run(ExecuteThread.java:173)\n    &gt; \n</code></pre>\n"},{"tags":["java","android","android-studio","android-emulator","runtime-error"],"comments":[{"owner":{"account_id":1849514,"reputation":193878,"user_id":1676363,"accept_rate":100,"display_name":"ianhanniballake"},"score":7,"creation_date":1620277600,"post_id":67412084,"comment_id":119154297,"body_markdown":"So...does your `AndroidManifest.xml` have every component with an `&lt;intent-filter&gt;` explicitly have the `android:exported` attribute set? Please include your entire `AndroidManifest.xml`.","body":"So...does your <code>AndroidManifest.xml</code> have every component with an <code>&lt;intent-filter&gt;</code> explicitly have the <code>android:exported</code> attribute set? Please include your entire <code>AndroidManifest.xml</code>."},{"owner":{"account_id":1039562,"reputation":2161,"user_id":1045941,"accept_rate":25,"display_name":"Stan"},"score":20,"creation_date":1620743420,"post_id":67412084,"comment_id":119287652,"body_markdown":"I have the same problem, even though I&#39;ve defined &quot;android:exported&quot; for all activities that have a &lt;intent-filter&gt;, and also for all receivers and providers.","body":"I have the same problem, even though I&#39;ve defined &quot;android:exported&quot; for all activities that have a &lt;intent-filter&gt;, and also for all receivers and providers."},{"owner":{"account_id":542029,"reputation":5970,"user_id":425213,"display_name":"Jacob Ras"},"score":6,"creation_date":1621851402,"post_id":67412084,"comment_id":119610135,"body_markdown":"@Stan I ran into the same issue. Use the &quot;Merged Manifest&quot; view to check the end result of your merged manifest to see if any of the components there are missing the exported value. In my case I had an activity declared in a separate manifest that was missing the exported property. You might need to temporarily downgrade your target SDK back to 30 so that the merged manifest compiles.","body":"@Stan I ran into the same issue. Use the &quot;Merged Manifest&quot; view to check the end result of your merged manifest to see if any of the components there are missing the exported value. In my case I had an activity declared in a separate manifest that was missing the exported property. You might need to temporarily downgrade your target SDK back to 30 so that the merged manifest compiles."},{"owner":{"account_id":3969110,"reputation":719,"user_id":3274125,"display_name":"Jan"},"score":8,"creation_date":1622106050,"post_id":67412084,"comment_id":119696752,"body_markdown":"I was able to debug the issue by following steps here: https://stackoverflow.com/a/67668116/3274125","body":"I was able to debug the issue by following steps here: <a href=\"https://stackoverflow.com/a/67668116/3274125\">stackoverflow.com/a/67668116/3274125</a>"},{"owner":{"account_id":3721597,"reputation":1647,"user_id":3096537,"display_name":"Renascienza"},"score":3,"creation_date":1629324133,"post_id":67412084,"comment_id":121660181,"body_markdown":"What if the &quot;wrong&quot; manifest comes from a library that I don&#39;t have control? I have to build from sources after fix it myself? Google, please stop to be dumb and don&#39;t make this kind of requirement, just put a default value and a big warning.","body":"What if the &quot;wrong&quot; manifest comes from a library that I don&#39;t have control? I have to build from sources after fix it myself? Google, please stop to be dumb and don&#39;t make this kind of requirement, just put a default value and a big warning."},{"owner":{"account_id":5577320,"reputation":7234,"user_id":4420355,"accept_rate":36,"display_name":"kuzdu"},"score":0,"creation_date":1629375888,"post_id":67412084,"comment_id":121673771,"body_markdown":"Hey Renascienza, you have to update to the current version. See the answer before. If this does not help, it&#39;s a deadlock. You have to downgrade to compile version 30, add an issue ticket.","body":"Hey Renascienza, you have to update to the current version. See the answer before. If this does not help, it&#39;s a deadlock. You have to downgrade to compile version 30, add an issue ticket."},{"owner":{"account_id":2089301,"reputation":2679,"user_id":1859486,"accept_rate":77,"display_name":"Alix"},"score":2,"creation_date":1631605272,"post_id":67412084,"comment_id":122260340,"body_markdown":"Does this answer your question? [Manifest merger failed targeting Android 12](https://stackoverflow.com/questions/67654506/manifest-merger-failed-targeting-android-12)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/67654506/manifest-merger-failed-targeting-android-12\">Manifest merger failed targeting Android 12</a>"},{"owner":{"account_id":2326654,"reputation":686,"user_id":2041005,"display_name":"Rik"},"score":0,"creation_date":1638069660,"post_id":67412084,"comment_id":123988189,"body_markdown":"I experienced this issue when trying to run tests during (navigation/testing in compose) codelabs. I ran `./gradlew processDebugAndroidTestManifest --debug`, by typing the aforementioned command into the android studio built-in terminal. Scrolling up in the log let me find the culprit. For me, it was **espresso-contrib** and **espresso-core**. Pressing **`ctrl+alt+shift+s`**, selecting *Dependencies*, and then selecting the highest available version (which at the time of this, was *3.5.0-alpha03*), resolved the problem after following up with *Apply* and *Ok*.","body":"I experienced this issue when trying to run tests during (navigation/testing in compose) codelabs. I ran <code>.&#47;gradlew processDebugAndroidTestManifest --debug</code>, by typing the aforementioned command into the android studio built-in terminal. Scrolling up in the log let me find the culprit. For me, it was <b>espresso-contrib</b> and <b>espresso-core</b>. Pressing <b><code>ctrl+alt+shift+s</code></b>, selecting <i>Dependencies</i>, and then selecting the highest available version (which at the time of this, was <i>3.5.0-alpha03</i>), resolved the problem after following up with <i>Apply</i> and <i>Ok</i>."},{"owner":{"account_id":9697552,"reputation":4314,"user_id":7193506,"display_name":"Sachin Rajput"},"score":0,"creation_date":1649780345,"post_id":67412084,"comment_id":126960671,"body_markdown":"I recently migrated my apps to android 12, and yes i faced all of these issues, here is the migration journey solution : https://medium.com/native-mobile-bits/lets-use-android-12-migration-of-our-android-apps-to-android12-api-31-af329b6829d0","body":"I recently migrated my apps to android 12, and yes i faced all of these issues, here is the migration journey solution : <a href=\"https://medium.com/native-mobile-bits/lets-use-android-12-migration-of-our-android-apps-to-android12-api-31-af329b6829d0\" rel=\"nofollow noreferrer\">medium.com/native-mobile-bits/&hellip;</a>"},{"owner":{"account_id":6425962,"reputation":438,"user_id":4981106,"display_name":"Akhha8"},"score":0,"creation_date":1654126117,"post_id":67412084,"comment_id":128019976,"body_markdown":"Having the error in a library &quot;com.android.library&quot; that I created, no activities :(, someone already solved this?.","body":"Having the error in a library &quot;com.android.library&quot; that I created, no activities :(, someone already solved this?."},{"owner":{"account_id":236820,"reputation":337,"user_id":504567,"accept_rate":40,"display_name":"Dmitry Salnikov"},"score":0,"creation_date":1666276971,"post_id":67412084,"comment_id":130902887,"body_markdown":"&quot;Merged Manifest&quot; view is the key to debug! thank you @JacobRas","body":"&quot;Merged Manifest&quot; view is the key to debug! thank you @JacobRas"}],"answers":[{"comments":[{"owner":{"account_id":15164726,"reputation":226,"user_id":10942564,"display_name":"Marc Calandro"},"score":4,"creation_date":1625713182,"post_id":67412314,"comment_id":120701533,"body_markdown":"You need to specify ONLY android:exported. But depending on your use case you can set it to true or false","body":"You need to specify ONLY android:exported. But depending on your use case you can set it to true or false"},{"owner":{"account_id":11387545,"reputation":1419,"user_id":8348768,"display_name":"Mohit Lakhanpal"},"score":56,"creation_date":1630652197,"post_id":67412314,"comment_id":122019570,"body_markdown":"@MarcCalandro I follow up on all the steps and also include exported = true but the same error occure. Any suggestions..?","body":"@MarcCalandro I follow up on all the steps and also include exported = true but the same error occure. Any suggestions..?"},{"owner":{"account_id":2089301,"reputation":2679,"user_id":1859486,"accept_rate":77,"display_name":"Alix"},"score":16,"creation_date":1631604319,"post_id":67412314,"comment_id":122259983,"body_markdown":"Yeah, I don&#39;t understand why this was accepted as a solution. I have put android:exported on every single activity with/without intent-filter. Still doesn&#39;t work. So likely caused by a dependency somehow.","body":"Yeah, I don&#39;t understand why this was accepted as a solution. I have put android:exported on every single activity with/without intent-filter. Still doesn&#39;t work. So likely caused by a dependency somehow."},{"owner":{"account_id":2089301,"reputation":2679,"user_id":1859486,"accept_rate":77,"display_name":"Alix"},"score":3,"creation_date":1631605204,"post_id":67412314,"comment_id":122260325,"body_markdown":"This solved it for me: https://stackoverflow.com/a/67668116/1859486","body":"This solved it for me: <a href=\"https://stackoverflow.com/a/67668116/1859486\">stackoverflow.com/a/67668116/1859486</a>"},{"owner":{"account_id":11404798,"reputation":12530,"user_id":8360561,"accept_rate":58,"display_name":"Agung Laksana"},"score":2,"creation_date":1631778029,"post_id":67412314,"comment_id":122314889,"body_markdown":"thanks @Alix for pointing me to this  stackoverflow.com/a/67668116/1859486  . if you still failed then you also need to add `android:exported` to your receiver https://stackoverflow.com/a/68605049/9101876","body":"thanks @Alix for pointing me to this  stackoverflow.com/a/67668116/1859486  . if you still failed then you also need to add <code>android:exported</code> to your receiver <a href=\"https://stackoverflow.com/a/68605049/9101876\">stackoverflow.com/a/68605049/9101876</a>"},{"owner":{"account_id":2298554,"reputation":398,"user_id":2019414,"display_name":"chrisfey"},"score":0,"creation_date":1642156829,"post_id":67412314,"comment_id":125001571,"body_markdown":"There is a gradle script written by @DatPhamTat\nhere: https://stackoverflow.com/a/68786768/2019414\nThat is very very helpful and will automatically update all your manifest files with the exported flags","body":"There is a gradle script written by @DatPhamTat here: <a href=\"https://stackoverflow.com/a/68786768/2019414\">stackoverflow.com/a/68786768/2019414</a> That is very very helpful and will automatically update all your manifest files with the exported flags"},{"owner":{"account_id":907774,"reputation":9217,"user_id":942317,"accept_rate":87,"display_name":"STEEL"},"score":0,"creation_date":1644035601,"post_id":67412314,"comment_id":125504680,"body_markdown":"thanks this helped me in LibGDX project :) `android:exported=&quot;true&quot;`","body":"thanks this helped me in LibGDX project :) <code>android:exported=&quot;true&quot;</code>"},{"owner":{"account_id":15676770,"reputation":1171,"user_id":11311853,"display_name":"Ali Azimoshan"},"score":0,"creation_date":1644826276,"post_id":67412314,"comment_id":125699330,"body_markdown":"in my case, I have to add ```android:exported=&quot;true&quot;``` to all my ```&lt;receiver&gt;``` tag too.","body":"in my case, I have to add <code>android:exported=&quot;true&quot;</code> to all my <code>&lt;receiver&gt;</code> tag too."},{"owner":{"account_id":17340051,"reputation":157,"user_id":12560952,"display_name":"Raii"},"score":0,"creation_date":1649122837,"post_id":67412314,"comment_id":126790806,"body_markdown":"@Alexa289  do you know how to use it? I know a normal Android Project will have 2 build.gradle(App &amp; Module). I didn&#39;t see some function inside the build.gradle before. The link you post that provide build.gradle at github doesn&#39;t contain Android Studio generated build.gradle items so I am a bit confused.","body":"@Alexa289  do you know how to use it? I know a normal Android Project will have 2 build.gradle(App &amp; Module). I didn&#39;t see some function inside the build.gradle before. The link you post that provide build.gradle at github doesn&#39;t contain Android Studio generated build.gradle items so I am a bit confused."},{"owner":{"account_id":5697121,"reputation":420,"user_id":4503299,"display_name":"Jamal Basha"},"score":0,"creation_date":1667999424,"post_id":67412314,"comment_id":131300919,"body_markdown":"add this property in android:exported=&quot;true&quot; in &lt;activity\n    android:name=&quot;.MainActivity&quot;\n    android:exported=&quot;true&quot; this can resolve your issue","body":"add this property in android:exported=&quot;true&quot; in &lt;activity     android:name=&quot;.MainActivity&quot;     android:exported=&quot;true&quot; this can resolve your issue"},{"owner":{"account_id":3637609,"reputation":1093,"user_id":3032604,"accept_rate":74,"display_name":"crushman"},"score":0,"creation_date":1668372304,"post_id":67412314,"comment_id":131383586,"body_markdown":"This did not work for me. Apparently the issue was with this plugin : `flutter_local_notifications: ^6.0.0` . I had to disable all plugins and enable each one one my one to figure it out ....","body":"This did not work for me. Apparently the issue was with this plugin : <code>flutter_local_notifications: ^6.0.0</code> . I had to disable all plugins and enable each one one my one to figure it out ...."}],"tags":[],"owner":{"account_id":9304251,"reputation":5761,"user_id":6908588,"display_name":"Mittal Varsani"},"comment_count":11,"down_vote_count":2,"up_vote_count":421,"is_accepted":true,"score":419,"last_activity_date":1672293833,"creation_date":1620278722,"answer_id":67412314,"question_id":67412084,"body_markdown":"You need to specify `android:exported=&quot;false&quot;` or `android:exported=&quot;true&quot;`\r\n\r\nManifest:\r\n\r\n```lang-xml\r\n&lt;activity\r\n    android:name=&quot;.MainActivity&quot;\r\n    android:exported=&quot;true&quot;\r\n    android:theme=&quot;@style/Theme.MyApplication.NoActionBar&quot;&gt;\r\n    &lt;intent-filter&gt;\r\n        &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n        &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n    &lt;/intent-filter&gt;\r\n&lt;/activity&gt;\r\n```\r\n\r\nas mentioned in [the document][1]:\r\n\r\n&gt; If your app targets Android 12 and contains activities, services, or\r\n&gt; broadcast receivers that use intent filters, you must explicitly\r\n&gt; declare the android: exported attribute for these app components.\r\n&gt;\r\n\r\n&gt; **Warning**: If an activity, service, or broadcast receiver uses intent\r\n&gt; filters and doesn&#39;t have an explicitly-declared value for\r\n&gt; android:exported, your app can&#39;t be installed on a device that runs\r\n&gt; Android 12.\r\n\r\nAlso [check][2] when to use true/false for the &#39;android:exported&#39; value.\r\n\r\n  [1]: https://developer.android.com/about/versions/12/behavior-changes-12#exported\r\n  [2]: https://developer.android.com/guide/topics/manifest/activity-element#exported\r\n\r\n","title":"Android Studio error: &quot;Manifest merger failed: Apps targeting Android 12&quot;","body":"<p>You need to specify <code>android:exported=&quot;false&quot;</code> or <code>android:exported=&quot;true&quot;</code></p>\n<p>Manifest:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;activity\n    android:name=&quot;.MainActivity&quot;\n    android:exported=&quot;true&quot;\n    android:theme=&quot;@style/Theme.MyApplication.NoActionBar&quot;&gt;\n    &lt;intent-filter&gt;\n        &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n        &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n    &lt;/intent-filter&gt;\n&lt;/activity&gt;\n</code></pre>\n<p>as mentioned in <a href=\"https://developer.android.com/about/versions/12/behavior-changes-12#exported\" rel=\"noreferrer\">the document</a>:</p>\n<blockquote>\n<p>If your app targets Android 12 and contains activities, services, or\nbroadcast receivers that use intent filters, you must explicitly\ndeclare the android: exported attribute for these app components.</p>\n</blockquote>\n<blockquote>\n<p><strong>Warning</strong>: If an activity, service, or broadcast receiver uses intent\nfilters and doesn't have an explicitly-declared value for\nandroid:exported, your app can't be installed on a device that runs\nAndroid 12.</p>\n</blockquote>\n<p>Also <a href=\"https://developer.android.com/guide/topics/manifest/activity-element#exported\" rel=\"noreferrer\">check</a> when to use true/false for the 'android:exported' value.</p>\n"},{"tags":[],"owner":{"account_id":1394813,"reputation":4459,"user_id":1324802,"accept_rate":56,"display_name":"Androidcoder"},"comment_count":0,"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1643922448,"creation_date":1626613073,"answer_id":68429311,"question_id":67412084,"body_markdown":"Your question may have flagged for duplication because of this post: *https://stackoverflow.com/questions/67654506/manifest-merger-failed-targeting-android-12*, although yours was posted a week earlier. I don&#39;t see the flag now.\r\n\r\nTo clarify [another answer][1], note that *android:exported* should be set true for your main activity, or it won&#39;t launch despite an encouraging &#39;Launch succeeded&#39; message from Android Studio as no other app, or even the Android system itself, can launch it.\r\n\r\n```lang-xml\r\n&lt;activity\r\n    android:name=&quot;.MainActivity&quot;\r\n    android:exported=&quot;true&quot;\r\n```\r\n\r\nFor other activities with intents buried in your merged manifests, this would normally be set to false.\r\n\r\n  [1]: https://stackoverflow.com/questions/67412084/android-studio-error-manifest-merger-failed-apps-targeting-android-12/67412314#67412314\r\n\r\n\r\n\r\n\r\n","title":"Android Studio error: &quot;Manifest merger failed: Apps targeting Android 12&quot;","body":"<p>Your question may have flagged for duplication because of this post: <em><a href=\"https://stackoverflow.com/questions/67654506/manifest-merger-failed-targeting-android-12\">Manifest merger failed targeting Android 12</a></em>, although yours was posted a week earlier. I don't see the flag now.</p>\n<p>To clarify <a href=\"https://stackoverflow.com/questions/67412084/android-studio-error-manifest-merger-failed-apps-targeting-android-12/67412314#67412314\">another answer</a>, note that <em>android:exported</em> should be set true for your main activity, or it won't launch despite an encouraging 'Launch succeeded' message from Android Studio as no other app, or even the Android system itself, can launch it.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;activity\n    android:name=&quot;.MainActivity&quot;\n    android:exported=&quot;true&quot;\n</code></pre>\n<p>For other activities with intents buried in your merged manifests, this would normally be set to false.</p>\n"},{"comments":[{"owner":{"account_id":2089301,"reputation":2679,"user_id":1859486,"accept_rate":77,"display_name":"Alix"},"score":14,"creation_date":1631604363,"post_id":68436148,"comment_id":122260001,"body_markdown":"Doesn&#39;t work for me. Looks like some of us have this issue through 3rd party libraries in which case this won&#39;t solve it.","body":"Doesn&#39;t work for me. Looks like some of us have this issue through 3rd party libraries in which case this won&#39;t solve it."}],"tags":[],"owner":{"account_id":155220,"reputation":6787,"user_id":371720,"accept_rate":58,"display_name":"Shihab Uddin"},"comment_count":1,"down_vote_count":0,"up_vote_count":75,"is_accepted":false,"score":75,"last_activity_date":1643922382,"creation_date":1626677103,"answer_id":68436148,"question_id":67412084,"body_markdown":"In your manifest, add **android:exported=&quot;true&quot;** or android:exported=&quot;false &quot; in your default launching activity attribute.\r\n\r\nDone! You are all right to run your apps on **Android 12**.\r\n\r\n```lang-xml\r\n&lt;manifest ... &gt;\r\n\r\n    &lt;activity\r\n        android:name=&quot;.ui.dashboard.DashboardActivity&quot;\r\n        android:screenOrientation=&quot;portrait&quot;\r\n        android:exported=&quot;true&quot;\r\n        android:theme=&quot;@style/AppTheme.Launcher&quot;&gt;\r\n        &lt;intent-filter&gt;\r\n            &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n\r\n            &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n        &lt;/intent-filter&gt;\r\n    &lt;/activity&gt;\r\n&lt;/manifest&gt;\r\n```\r\n\r\nSet the **android:exported** value according to your requirement.\r\n\r\nWhether the broadcast receiver can receive messages from non-system sources outside its application — &quot;true&quot; if it can, and &quot;false&quot; if not. If &quot;false&quot;, the only messages the broadcast receiver can receive are those sent by the system, components of the same application, or applications with the same user ID.\r\n\r\nIf unspecified, the default value depends on whether the broadcast receiver contains intent filters. If the receiver contains at least one intent filter, then the default value is &quot;true&quot;. Otherwise, the default value is &quot;false&quot;.\r\n\r\nThis attribute is not the only way to limit a broadcast receiver&#39;s external exposure. You can also use permission to limit the external entities that can send messages (see the permission attribute).\r\n\r\nFrom [Android Documentation][1]\r\n\r\n  [1]: https://developer.android.com/guide/topics/manifest/receiver-element#exported\r\n\r\n\r\n\r\n\r\n","title":"Android Studio error: &quot;Manifest merger failed: Apps targeting Android 12&quot;","body":"<p>In your manifest, add <strong>android:exported=&quot;true&quot;</strong> or android:exported=&quot;false &quot; in your default launching activity attribute.</p>\n<p>Done! You are all right to run your apps on <strong>Android 12</strong>.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;manifest ... &gt;\n\n    &lt;activity\n        android:name=&quot;.ui.dashboard.DashboardActivity&quot;\n        android:screenOrientation=&quot;portrait&quot;\n        android:exported=&quot;true&quot;\n        android:theme=&quot;@style/AppTheme.Launcher&quot;&gt;\n        &lt;intent-filter&gt;\n            &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n\n            &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n        &lt;/intent-filter&gt;\n    &lt;/activity&gt;\n&lt;/manifest&gt;\n</code></pre>\n<p>Set the <strong>android:exported</strong> value according to your requirement.</p>\n<p>Whether the broadcast receiver can receive messages from non-system sources outside its application — &quot;true&quot; if it can, and &quot;false&quot; if not. If &quot;false&quot;, the only messages the broadcast receiver can receive are those sent by the system, components of the same application, or applications with the same user ID.</p>\n<p>If unspecified, the default value depends on whether the broadcast receiver contains intent filters. If the receiver contains at least one intent filter, then the default value is &quot;true&quot;. Otherwise, the default value is &quot;false&quot;.</p>\n<p>This attribute is not the only way to limit a broadcast receiver's external exposure. You can also use permission to limit the external entities that can send messages (see the permission attribute).</p>\n<p>From <a href=\"https://developer.android.com/guide/topics/manifest/receiver-element#exported\" rel=\"noreferrer\">Android Documentation</a></p>\n"},{"tags":[],"owner":{"account_id":18834955,"reputation":641,"user_id":13737843,"display_name":"Noah"},"comment_count":0,"down_vote_count":0,"up_vote_count":22,"is_accepted":false,"score":22,"last_activity_date":1697675714,"creation_date":1627758047,"answer_id":68605049,"question_id":67412084,"body_markdown":"The `android:exported` attribute sets whether a component (activity, service, broadcast receiver, etc.) can be launched by components of other applications:\r\n\r\n   \r\n -  If true, any app can access the activity and launch it by its exact class name.\r\n- If false, only components of the same application, applications with the same user ID, or privileged system components can launch the activity.\r\n\r\nThe logic behind the default value of this attribute changed over time and was different depending on the component types and Android versions. For example, on API level 16 (Android 4.1.1) or lower the value for &lt;provider&gt; elements is set to true by default. Not setting this attribute explicitly carries the risk of having different default values between some devices.\r\n\r\n\r\nTaken from the [official documentation][1]\r\n\r\nThings changed since **Android 12** devices, so you need to do these things:\r\n\r\nAdd `android:exported=&quot;true&quot;` to all **receivers** declared in the manifest. \r\n\r\n```lang-xml\r\n&lt;receiver android:name=&quot;.alarms.AlarmReScheduler&quot;\r\n          android:exported=&quot;true&quot;&gt;\r\n    &lt;intent-filter&gt;\r\n        &lt;action android:name=&quot;android.intent.action.LOCKED_BOOT_COMPLETED&quot; /&gt;\r\n        &lt;action android:name=&quot;android.intent.action.BOOT_COMPLETED&quot; /&gt;\r\n        &lt;action android:name=&quot;android.intent.action.QUICKBOOT_POWERON&quot; /&gt;\r\n        &lt;action android:name=&quot;android.intent.action.PACKAGE_REPLACED&quot; /&gt;\r\n\r\n        &lt;!-- For HTC devices --&gt;\r\n        &lt;action android:name=&quot;com.htc.intent.action.QUICKBOOT_POWERON&quot; /&gt;\r\n    &lt;/intent-filter&gt;\r\n&lt;/receiver&gt;\r\n```\r\n\r\nAlso for Activities (the one that would be launched by Android OS A.K.A **Launcher activity**)\r\n\r\n```lang-xml\r\n      &lt;activity\r\n         android:name=&quot;.main.SplashScreen&quot;\r\n         android:exported=&quot;true&quot;\r\n         android:theme=&quot;@style/FullscreenTheme&quot;&gt;\r\n         &lt;intent-filter&gt;\r\n            &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n            &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n         &lt;/intent-filter&gt;\r\n      &lt;/activity&gt;\r\n```\r\n\r\n&lt;hr/&gt;\r\n\r\nNote: For Services and Broadcast Receivers that use intent filters, you must explicitly declare the `android: exported` attribute.\r\n\r\nDon&#39;t just add `android:exported=&quot;true&quot;` to just everything. Cases where the Broadcast receivers need to be visible to Android OS, are examples where where you might want to specify `android:exported`. The Intent filters in that code mean I wanted Android OS to wake up my Android app and perform an operation.\r\n\r\n`android.intent.action.BOOT_COMPLETED` is a very good example because Android OS sends broadcasts to every application installed in the device. So technically, it would mean that any Broadcast receiver that has an intent filter with actions should always declare `android:exported=&quot;true&quot;`.\r\n\r\n\r\n  [1]: https://developer.android.com/topic/security/risks/android-exported","title":"Android Studio error: &quot;Manifest merger failed: Apps targeting Android 12&quot;","body":"<p>The <code>android:exported</code> attribute sets whether a component (activity, service, broadcast receiver, etc.) can be launched by components of other applications:</p>\n<ul>\n<li>If true, any app can access the activity and launch it by its exact class name.</li>\n<li>If false, only components of the same application, applications with the same user ID, or privileged system components can launch the activity.</li>\n</ul>\n<p>The logic behind the default value of this attribute changed over time and was different depending on the component types and Android versions. For example, on API level 16 (Android 4.1.1) or lower the value for  elements is set to true by default. Not setting this attribute explicitly carries the risk of having different default values between some devices.</p>\n<p>Taken from the <a href=\"https://developer.android.com/topic/security/risks/android-exported\" rel=\"nofollow noreferrer\">official documentation</a></p>\n<p>Things changed since <strong>Android 12</strong> devices, so you need to do these things:</p>\n<p>Add <code>android:exported=&quot;true&quot;</code> to all <strong>receivers</strong> declared in the manifest.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;receiver android:name=&quot;.alarms.AlarmReScheduler&quot;\n          android:exported=&quot;true&quot;&gt;\n    &lt;intent-filter&gt;\n        &lt;action android:name=&quot;android.intent.action.LOCKED_BOOT_COMPLETED&quot; /&gt;\n        &lt;action android:name=&quot;android.intent.action.BOOT_COMPLETED&quot; /&gt;\n        &lt;action android:name=&quot;android.intent.action.QUICKBOOT_POWERON&quot; /&gt;\n        &lt;action android:name=&quot;android.intent.action.PACKAGE_REPLACED&quot; /&gt;\n\n        &lt;!-- For HTC devices --&gt;\n        &lt;action android:name=&quot;com.htc.intent.action.QUICKBOOT_POWERON&quot; /&gt;\n    &lt;/intent-filter&gt;\n&lt;/receiver&gt;\n</code></pre>\n<p>Also for Activities (the one that would be launched by Android OS A.K.A <strong>Launcher activity</strong>)</p>\n<pre class=\"lang-xml prettyprint-override\"><code>      &lt;activity\n         android:name=&quot;.main.SplashScreen&quot;\n         android:exported=&quot;true&quot;\n         android:theme=&quot;@style/FullscreenTheme&quot;&gt;\n         &lt;intent-filter&gt;\n            &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n            &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n         &lt;/intent-filter&gt;\n      &lt;/activity&gt;\n</code></pre>\n<hr/>\n<p>Note: For Services and Broadcast Receivers that use intent filters, you must explicitly declare the <code>android: exported</code> attribute.</p>\n<p>Don't just add <code>android:exported=&quot;true&quot;</code> to just everything. Cases where the Broadcast receivers need to be visible to Android OS, are examples where where you might want to specify <code>android:exported</code>. The Intent filters in that code mean I wanted Android OS to wake up my Android app and perform an operation.</p>\n<p><code>android.intent.action.BOOT_COMPLETED</code> is a very good example because Android OS sends broadcasts to every application installed in the device. So technically, it would mean that any Broadcast receiver that has an intent filter with actions should always declare <code>android:exported=&quot;true&quot;</code>.</p>\n"},{"comments":[{"owner":{"account_id":10051978,"reputation":191,"user_id":7431513,"display_name":"Alexander Bernat"},"score":1,"creation_date":1632156272,"post_id":68786768,"comment_id":122411995,"body_markdown":"Thank you so much! Your script helped me to detect some activities inside androidx.test.core-1.3.0 that had not this property. Even after that there was not an easy task to remove this library dependency from the project... I see how androidx developers are ready for Android 12...","body":"Thank you so much! Your script helped me to detect some activities inside androidx.test.core-1.3.0 that had not this property. Even after that there was not an easy task to remove this library dependency from the project... I see how androidx developers are ready for Android 12..."},{"owner":{"account_id":15683632,"reputation":304,"user_id":11316940,"display_name":"Kyriakos Xatzisavvas"},"score":1,"creation_date":1637338785,"post_id":68786768,"comment_id":123807905,"body_markdown":"This should have more upvotes. Saved me a lot of hassle","body":"This should have more upvotes. Saved me a lot of hassle"},{"owner":{"account_id":1890047,"reputation":2191,"user_id":1708390,"accept_rate":79,"display_name":"Bugs Happen"},"score":0,"creation_date":1644932497,"post_id":68786768,"comment_id":125731811,"body_markdown":"Both tasks were executed successfully and said `Hooray, your AndroidManifest.xml did not need any change.` but I still get the same error of `android:exported` missing.","body":"Both tasks were executed successfully and said <code>Hooray, your AndroidManifest.xml did not need any change.</code> but I still get the same error of <code>android:exported</code> missing."},{"owner":{"account_id":4974437,"reputation":449,"user_id":4001244,"display_name":"Mohit Rajput"},"score":1,"creation_date":1664367319,"post_id":68786768,"comment_id":130454637,"body_markdown":"It didn&#39;t help. Can you please write complete step by step guide how to use this task?","body":"It didn&#39;t help. Can you please write complete step by step guide how to use this task?"},{"owner":{"account_id":16509321,"reputation":145,"user_id":11928533,"display_name":"Mohammed Uzair"},"score":0,"creation_date":1667390563,"post_id":68786768,"comment_id":131154719,"body_markdown":"May the god force be with you. This was by far the fastest way to debug the issue. Should be the approved answer.","body":"May the god force be with you. This was by far the fastest way to debug the issue. Should be the approved answer."}],"tags":[],"owner":{"account_id":17031353,"reputation":1453,"user_id":12321475,"display_name":"Dat Pham Tat"},"comment_count":5,"down_vote_count":0,"up_vote_count":28,"is_accepted":false,"score":28,"last_activity_date":1643922717,"creation_date":1628972589,"answer_id":68786768,"question_id":67412084,"body_markdown":"I ran into the same issue after targeting Android 12 in my project.\r\n\r\nThe problem was the project was quite big, with multiple `AndroidManifest.xml` files, and `android:exported` missing in many places.\r\n\r\nI ended up creating a [Gradle][1] task to fill the missing `android:exported` attributes automatically for me.\r\n\r\nHere is the [link][2].\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Gradle\r\n  [2]: https://github.com/phamtdat/AndroidSnippets/blob/master/Android12AndroidManifestAddMissingAndroidExported/build.gradle\r\n\r\n\r\n\r\n","title":"Android Studio error: &quot;Manifest merger failed: Apps targeting Android 12&quot;","body":"<p>I ran into the same issue after targeting Android 12 in my project.</p>\n<p>The problem was the project was quite big, with multiple <code>AndroidManifest.xml</code> files, and <code>android:exported</code> missing in many places.</p>\n<p>I ended up creating a <a href=\"https://en.wikipedia.org/wiki/Gradle\" rel=\"noreferrer\">Gradle</a> task to fill the missing <code>android:exported</code> attributes automatically for me.</p>\n<p>Here is the <a href=\"https://github.com/phamtdat/AndroidSnippets/blob/master/Android12AndroidManifestAddMissingAndroidExported/build.gradle\" rel=\"noreferrer\">link</a>.</p>\n"},{"comments":[{"owner":{"account_id":18834955,"reputation":641,"user_id":13737843,"display_name":"Noah"},"score":4,"creation_date":1643953014,"post_id":68905260,"comment_id":125481090,"body_markdown":"A downgrade is not an option in android development. Remove this answer","body":"A downgrade is not an option in android development. Remove this answer"},{"owner":{"account_id":18834955,"reputation":641,"user_id":13737843,"display_name":"Noah"},"score":0,"creation_date":1695383264,"post_id":68905260,"comment_id":136020625,"body_markdown":"The app will never be accepted in Google play store because that violates their policy","body":"The app will never be accepted in Google play store because that violates their policy"}],"tags":[],"owner":{"account_id":17075146,"reputation":61,"user_id":12354951,"display_name":"Ashish Umrao"},"comment_count":2,"down_vote_count":16,"up_vote_count":5,"is_accepted":false,"score":-11,"last_activity_date":1629798145,"creation_date":1629798145,"answer_id":68905260,"question_id":67412084,"body_markdown":"**[This will help for 2021 users.][1]**\r\n\r\nIn one of your two build.gradle files you should be able to find the line targetSDK 31. Change that to 30 and then do a gradle sync (a small bar will appear above the main code window where you can click &quot;Sync now&quot;) and you should be good to go.\r\n\r\n\r\n  [1]: https://www.reddit.com/r/AndroidStudio/comments/olld9z/im_on_day_one_with_android_studio_and_cant_get/","title":"Android Studio error: &quot;Manifest merger failed: Apps targeting Android 12&quot;","body":"<p><strong><a href=\"https://www.reddit.com/r/AndroidStudio/comments/olld9z/im_on_day_one_with_android_studio_and_cant_get/\" rel=\"nofollow noreferrer\">This will help for 2021 users.</a></strong></p>\n<p>In one of your two build.gradle files you should be able to find the line targetSDK 31. Change that to 30 and then do a gradle sync (a small bar will appear above the main code window where you can click &quot;Sync now&quot;) and you should be good to go.</p>\n"},{"comments":[{"owner":{"account_id":14299356,"reputation":5476,"user_id":10329023,"display_name":"Kamlesh"},"score":0,"creation_date":1694334427,"post_id":69183965,"comment_id":135875475,"body_markdown":"Both `true` and `false` solutions not worked for me. Thanks for your efforts.","body":"Both <code>true</code> and <code>false</code> solutions not worked for me. Thanks for your efforts."}],"tags":[],"owner":{"account_id":13377127,"reputation":769,"user_id":9653703,"display_name":"Richard Kamere"},"comment_count":1,"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1643923485,"creation_date":1631650030,"answer_id":69183965,"question_id":67412084,"body_markdown":"[![Enter image description here][1]][1]\r\n\r\nIn your launcher activity, declare &quot;android: exported&quot;:\r\n\r\n```lang-xml\r\n&lt;activity android:name=&quot;.MainActivity&quot;\r\n          android:exported = &quot;false&quot;&gt;\r\n\r\n    &lt;intent-filter&gt;\r\n        &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n        &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n    &lt;/intent-filter&gt;\r\n\r\n&lt;/activity&gt;\r\n```\r\n\r\nIf true “android: exported= true” it means the activity is accessible to any app and can be launched by its exact class name.\r\n\r\nIf false “android: exported = false” it means the activity can be launched only by the components of the same application with the same user ID, or privileged system components.\r\n\r\nFor more details check [here][2].\r\n\r\n  [1]: https://i.stack.imgur.com/wBf19.png\r\n  [2]: https://larntech.net/manifest-merger-failed/\r\n\r\n","title":"Android Studio error: &quot;Manifest merger failed: Apps targeting Android 12&quot;","body":"<p><a href=\"https://i.stack.imgur.com/wBf19.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/wBf19.png\" alt=\"Enter image description here\" /></a></p>\n<p>In your launcher activity, declare &quot;android: exported&quot;:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;activity android:name=&quot;.MainActivity&quot;\n          android:exported = &quot;false&quot;&gt;\n\n    &lt;intent-filter&gt;\n        &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n        &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n    &lt;/intent-filter&gt;\n\n&lt;/activity&gt;\n</code></pre>\n<p>If true “android: exported= true” it means the activity is accessible to any app and can be launched by its exact class name.</p>\n<p>If false “android: exported = false” it means the activity can be launched only by the components of the same application with the same user ID, or privileged system components.</p>\n<p>For more details check <a href=\"https://larntech.net/manifest-merger-failed/\" rel=\"nofollow noreferrer\">here</a>.</p>\n"},{"comments":[{"owner":{"account_id":2135996,"reputation":116,"user_id":1895787,"display_name":"Luke Simpson"},"score":0,"creation_date":1633082791,"post_id":69347425,"comment_id":122671131,"body_markdown":"This! Thanks, Leak Canary needs to be updated to 2.7 in order to target Android 12 (31).","body":"This! Thanks, Leak Canary needs to be updated to 2.7 in order to target Android 12 (31)."},{"owner":{"account_id":7610951,"reputation":257,"user_id":5771796,"display_name":"neronovs"},"score":1,"creation_date":1633693116,"post_id":69347425,"comment_id":122833934,"body_markdown":"If the reason is external library, then we can do nothing? Only to ask an owner of the ext-lib to fix it on their side?","body":"If the reason is external library, then we can do nothing? Only to ask an owner of the ext-lib to fix it on their side?"},{"owner":{"account_id":10641187,"reputation":711,"user_id":7836154,"display_name":"Xavier Vega"},"score":0,"creation_date":1633942558,"post_id":69347425,"comment_id":122885148,"body_markdown":"Actually there is, explicitly we added an activity and intent filter that overrode the declared in the dependency (see my edited comment). In my case I added a separate AndroidManifest.xml to the src/debug folder since I need that dependency only for debug.","body":"Actually there is, explicitly we added an activity and intent filter that overrode the declared in the dependency (see my edited comment). In my case I added a separate AndroidManifest.xml to the src/debug folder since I need that dependency only for debug."},{"owner":{"account_id":14310661,"reputation":220,"user_id":10337041,"display_name":"Selmeny"},"score":0,"creation_date":1636949848,"post_id":69347425,"comment_id":123685743,"body_markdown":"The only solution that works! Thank you.","body":"The only solution that works! Thank you."},{"owner":{"account_id":1728583,"reputation":517,"user_id":1582714,"display_name":"LeoFarage"},"score":6,"creation_date":1637241968,"post_id":69347425,"comment_id":123777212,"body_markdown":"You don&#39;t need to override completely the activity entry. You can use the `tools:node=&quot;merge&quot;` attribute and declare the `android:exported=true|false`. This should add the property to the target Activity in the final merged AndroidManifest.\n\nCheck this link on how to handle manifests in the project: https://developer.android.com/studio/build/manage-manifests","body":"You don&#39;t need to override completely the activity entry. You can use the <code>tools:node=&quot;merge&quot;</code> attribute and declare the <code>android:exported=true|false</code>. This should add the property to the target Activity in the final merged AndroidManifest.  Check this link on how to handle manifests in the project: <a href=\"https://developer.android.com/studio/build/manage-manifests\" rel=\"nofollow noreferrer\">developer.android.com/studio/build/manage-manifests</a>"},{"owner":{"account_id":2300982,"reputation":499,"user_id":2021290,"display_name":"morfair"},"score":0,"creation_date":1637334176,"post_id":69347425,"comment_id":123806098,"body_markdown":"Where is &quot;main manifest.xml window&quot;? For Flutter project.","body":"Where is &quot;main manifest.xml window&quot;? For Flutter project."},{"owner":{"account_id":439547,"reputation":1775,"user_id":828551,"accept_rate":63,"display_name":"joninx"},"score":0,"creation_date":1637668253,"post_id":69347425,"comment_id":123882695,"body_markdown":"In my case, I only had to set `exported=&#39;true&#39;` within the launcher activity. For the rest of the activities was not necessary to establish it to false.","body":"In my case, I only had to set <code>exported=&#39;true&#39;</code> within the launcher activity. For the rest of the activities was not necessary to establish it to false."},{"owner":{"account_id":2725434,"reputation":2673,"user_id":2350644,"accept_rate":86,"display_name":"ice_chrysler"},"score":3,"creation_date":1638792067,"post_id":69347425,"comment_id":124173975,"body_markdown":"Thank you for this very helpful answer. Unfortunately in my (rather large) project the `MergedManifest` view did not work and showed an empty screen. However you can simply find the merged manifest after a successful build in your output directory, i.e. something like `app/build/intermediates/merged_manifests/debug/AndroidManifest.xml`.\nSimply search this file for `&lt;intent-filter&gt;` tags. In my case an external library declared an Activity with an intent-filter but missed the `exported` flag. Updating this library to the latest version fixed the issue for me.","body":"Thank you for this very helpful answer. Unfortunately in my (rather large) project the <code>MergedManifest</code> view did not work and showed an empty screen. However you can simply find the merged manifest after a successful build in your output directory, i.e. something like <code>app&#47;build&#47;intermediates&#47;merged_manifests&#47;debug&#47;AndroidManife&zwnj;&#8203;st.xml</code>. Simply search this file for <code>&lt;intent-filter&gt;</code> tags. In my case an external library declared an Activity with an intent-filter but missed the <code>exported</code> flag. Updating this library to the latest version fixed the issue for me."},{"owner":{"account_id":14093082,"reputation":188,"user_id":10180766,"display_name":"Shesh Narayan Deshmukh"},"score":0,"creation_date":1651125778,"post_id":69347425,"comment_id":127289367,"body_markdown":"thanks it needed to update compileSdkVersion &amp; targetSdkVersion","body":"thanks it needed to update compileSdkVersion &amp; targetSdkVersion"},{"owner":{"account_id":2483072,"reputation":67,"user_id":2162130,"display_name":"user2162130"},"score":0,"creation_date":1659000847,"post_id":69347425,"comment_id":129193570,"body_markdown":"@user2350644. what you suggested \napp/build/intermediates/merged_manifests/debug/AndroidManifest.xml\n that worked for me thanks. I have checked inside this Androidmanifest.xml file there in one activity was missing exported flag. Thanks","body":"@user2350644. what you suggested  app/build/intermediates/merged_manifests/debug/AndroidManife&zwnj;&#8203;st.xml  that worked for me thanks. I have checked inside this Androidmanifest.xml file there in one activity was missing exported flag. Thanks"},{"owner":{"account_id":1115726,"reputation":631,"user_id":1105098,"accept_rate":77,"display_name":"Reece"},"score":0,"creation_date":1669315301,"post_id":69347425,"comment_id":131621616,"body_markdown":"You are correct- it could be a problem with a dependancy. Personally I think there are more efficient ways of doing this though.  Just go to your manifest file and click the &#39;merged manifest&#39; tab at the bottom.  This will show you the error of the exact dependancy(s) that are causing the problem.  You may have to click through all the jetified manifests to double check the exact dependancy that matches the error.  After that you&#39;re probably better off just updating the offending dependancies as they&#39;re clearly not designed for api 31 anyhow.","body":"You are correct- it could be a problem with a dependancy. Personally I think there are more efficient ways of doing this though.  Just go to your manifest file and click the &#39;merged manifest&#39; tab at the bottom.  This will show you the error of the exact dependancy(s) that are causing the problem.  You may have to click through all the jetified manifests to double check the exact dependancy that matches the error.  After that you&#39;re probably better off just updating the offending dependancies as they&#39;re clearly not designed for api 31 anyhow."},{"owner":{"account_id":16530004,"reputation":713,"user_id":11943569,"display_name":"Shashank Pandey"},"score":0,"creation_date":1677230801,"post_id":69347425,"comment_id":133300813,"body_markdown":"Thanks! This fixed the problem for me in my case problem was in razorpay 1.5.16. I updated the version and then fixed.","body":"Thanks! This fixed the problem for me in my case problem was in razorpay 1.5.16. I updated the version and then fixed."}],"tags":[],"owner":{"account_id":10641187,"reputation":711,"user_id":7836154,"display_name":"Xavier Vega"},"comment_count":12,"down_vote_count":0,"up_vote_count":58,"is_accepted":false,"score":58,"last_activity_date":1660912178,"creation_date":1632749012,"answer_id":69347425,"question_id":67412084,"body_markdown":"If you didn&#39;t find in your manifest the place where there is an activity without the tag &quot;android: exported = false&quot; then it&#39;s likely that it is in your dependencies... in order to pinpoint where exactly, first downgrade &quot;compileSdkVersion&quot; to 30 and  &quot;targetSdkVersion&quot; to 30 so it builds.\r\n\r\n```lang-none\r\nandroid {\r\n    compileSdkVersion(&quot;android-S&quot;)\r\n    buildToolsVersion &quot;30.0.3&quot;\r\n\r\n    defaultConfig {\r\n        ...\r\n        minSdkVersion 23\r\n        targetSdkVersion(&quot;S&quot;)\r\n        ...\r\n}\r\n```\r\n\r\nAfter that, in the main *manifest.xml* window there is a tab with &quot;merged manifest&quot;. There you can inspect what activity exactly didn&#39;t have the &quot;android: exported = false&quot; attribute.\r\n\r\nIn my case it was because of third-party tools:\r\n\r\nFile *build.gradle* (: app):\r\n\r\n\r\n```lang-none\r\ndebugImplementation &#39;com.squareup.leakcanary:leakcanary-android:2.7&#39;\r\n//and\r\ndebugImplementation &quot;com.github.markzhai:blockcanary-android:1.5.0&quot;\r\nreleaseImplementation &quot;com.github.markzhai:blockcanary-no-op:1.5.0&quot;\r\n```\r\n\r\nAlso, for services I had to add the attribute:\r\n\r\n```lang-xml\r\n&lt;service\r\n    android:name=&quot;.autofillservice.MyAutofillService&quot;\r\n    android:exported=&quot;true&quot;\r\n    android:permission=&quot;android.permission.BIND_AUTOFILL&quot;&gt;\r\n```\r\n\r\nand\r\n\r\n```lang-xml\r\n&lt;service\r\n    android:name=&quot;com.demo.myApp.my_access.MyAccessService&quot;\r\n    android:enabled=&quot;true&quot;\r\n    android:exported=&quot;true&quot;\r\n    android:permission=&quot;android.permission.BIND_ACCESSIBILITY_SERVICE&quot;&gt;\r\n```\r\n\r\nAs my problem was in a third-party dependency and it&#39;s not going to be updated soon, I just added a &amp;lt;activity&gt; declaration with the flag android:exported=&quot;true&quot; and exported=&quot;false&quot; where needed to override the initial declaration, also as I need this dependency in Debug only I added a new AndroidManifest.xml file in src/debug:\r\n\r\nFor leak_canary:\r\n\r\n```lang-xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\r\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\r\n\r\n    &lt;application&gt;\r\n        &lt;activity\r\n            android:name=&quot;leakcanary.internal.activity.LeakActivity&quot;\r\n            android:exported=&quot;true&quot;\r\n            android:icon=&quot;@mipmap/leak_canary_icon&quot;\r\n            android:label=&quot;@string/leak_canary_display_activity_label&quot;\r\n            android:taskAffinity=&quot;com.squareup.leakcanary.${applicationId}&quot;\r\n            android:theme=&quot;@style/leak_canary_LeakCanary.Base&quot;&gt;\r\n\r\n            &lt;intent-filter android:label=&quot;@string/leak_canary_import_hprof_file&quot;&gt;\r\n\r\n                &lt;action android:name=&quot;android.intent.action.VIEW&quot; /&gt;\r\n\r\n                &lt;category android:name=&quot;android.intent.category.DEFAULT&quot; /&gt;\r\n                &lt;category android:name=&quot;android.intent.category.BROWSABLE&quot; /&gt;\r\n\r\n                &lt;data android:scheme=&quot;file&quot; /&gt;\r\n                &lt;data android:scheme=&quot;content&quot; /&gt;\r\n                &lt;data android:mimeType=&quot;*/*&quot; /&gt;\r\n                &lt;data android:host=&quot;*&quot; /&gt;\r\n\r\n                &lt;data android:pathPattern=&quot;.*\\\\.hprof&quot; /&gt;\r\n                &lt;data android:pathPattern=&quot;.*\\\\..*\\\\.hprof&quot; /&gt;\r\n                &lt;data android:pathPattern=&quot;.*\\\\..*\\\\..*\\\\.hprof&quot; /&gt;\r\n                &lt;data android:pathPattern=&quot;.*\\\\..*\\\\..*\\\\..*\\\\.hprof&quot; /&gt;\r\n                &lt;data android:pathPattern=&quot;.*\\\\..*\\\\..*\\\\..*\\\\..*\\\\.hprof&quot; /&gt;\r\n                &lt;data android:pathPattern=&quot;.*\\\\..*\\\\..*\\\\..*\\\\..*\\\\..*\\\\.hprof&quot; /&gt;\r\n                &lt;data android:pathPattern=&quot;.*\\\\..*\\\\..*\\\\..*\\\\..*\\\\..*\\\\..*\\\\.hprof&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/activity&gt;\r\n\r\n        &lt;activity\r\n            android:name=&quot;leakcanary.internal.RequestStoragePermissionActivity&quot;\r\n            android:excludeFromRecents=&quot;true&quot;\r\n            android:exported=&quot;false&quot;\r\n            android:icon=&quot;@mipmap/leak_canary_icon&quot;\r\n            android:label=&quot;@string/leak_canary_storage_permission_activity_label&quot;\r\n            android:taskAffinity=&quot;com.squareup.leakcanary.${applicationId}&quot;\r\n            android:theme=&quot;@style/leak_canary_Theme.Transparent&quot; /&gt;\r\n\r\n        &lt;receiver\r\n            android:name=&quot;leakcanary.internal.NotificationReceiver&quot;\r\n            android:exported=&quot;false&quot; /&gt;\r\n\r\n    &lt;/application&gt;\r\n&lt;/manifest&gt;\r\n```\r\n\r\nYou might as well just use the tools:node=&quot;merge&quot; attribute and declare the android:exported=true|false as [LeoFarage kindly suggested][1].\r\n\r\n  [1]: https://stackoverflow.com/questions/67412084/android-studio-error-manifest-merger-failed-apps-targeting-android-12/69183965#comment123777212_69347425\r\n\r\n\r\n\r\n","title":"Android Studio error: &quot;Manifest merger failed: Apps targeting Android 12&quot;","body":"<p>If you didn't find in your manifest the place where there is an activity without the tag &quot;android: exported = false&quot; then it's likely that it is in your dependencies... in order to pinpoint where exactly, first downgrade &quot;compileSdkVersion&quot; to 30 and  &quot;targetSdkVersion&quot; to 30 so it builds.</p>\n<pre class=\"lang-none prettyprint-override\"><code>android {\n    compileSdkVersion(&quot;android-S&quot;)\n    buildToolsVersion &quot;30.0.3&quot;\n\n    defaultConfig {\n        ...\n        minSdkVersion 23\n        targetSdkVersion(&quot;S&quot;)\n        ...\n}\n</code></pre>\n<p>After that, in the main <em>manifest.xml</em> window there is a tab with &quot;merged manifest&quot;. There you can inspect what activity exactly didn't have the &quot;android: exported = false&quot; attribute.</p>\n<p>In my case it was because of third-party tools:</p>\n<p>File <em>build.gradle</em> (: app):</p>\n<pre class=\"lang-none prettyprint-override\"><code>debugImplementation 'com.squareup.leakcanary:leakcanary-android:2.7'\n//and\ndebugImplementation &quot;com.github.markzhai:blockcanary-android:1.5.0&quot;\nreleaseImplementation &quot;com.github.markzhai:blockcanary-no-op:1.5.0&quot;\n</code></pre>\n<p>Also, for services I had to add the attribute:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;service\n    android:name=&quot;.autofillservice.MyAutofillService&quot;\n    android:exported=&quot;true&quot;\n    android:permission=&quot;android.permission.BIND_AUTOFILL&quot;&gt;\n</code></pre>\n<p>and</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;service\n    android:name=&quot;com.demo.myApp.my_access.MyAccessService&quot;\n    android:enabled=&quot;true&quot;\n    android:exported=&quot;true&quot;\n    android:permission=&quot;android.permission.BIND_ACCESSIBILITY_SERVICE&quot;&gt;\n</code></pre>\n<p>As my problem was in a third-party dependency and it's not going to be updated soon, I just added a &lt;activity&gt; declaration with the flag android:exported=&quot;true&quot; and exported=&quot;false&quot; where needed to override the initial declaration, also as I need this dependency in Debug only I added a new AndroidManifest.xml file in src/debug:</p>\n<p>For leak_canary:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\n\n    &lt;application&gt;\n        &lt;activity\n            android:name=&quot;leakcanary.internal.activity.LeakActivity&quot;\n            android:exported=&quot;true&quot;\n            android:icon=&quot;@mipmap/leak_canary_icon&quot;\n            android:label=&quot;@string/leak_canary_display_activity_label&quot;\n            android:taskAffinity=&quot;com.squareup.leakcanary.${applicationId}&quot;\n            android:theme=&quot;@style/leak_canary_LeakCanary.Base&quot;&gt;\n\n            &lt;intent-filter android:label=&quot;@string/leak_canary_import_hprof_file&quot;&gt;\n\n                &lt;action android:name=&quot;android.intent.action.VIEW&quot; /&gt;\n\n                &lt;category android:name=&quot;android.intent.category.DEFAULT&quot; /&gt;\n                &lt;category android:name=&quot;android.intent.category.BROWSABLE&quot; /&gt;\n\n                &lt;data android:scheme=&quot;file&quot; /&gt;\n                &lt;data android:scheme=&quot;content&quot; /&gt;\n                &lt;data android:mimeType=&quot;*/*&quot; /&gt;\n                &lt;data android:host=&quot;*&quot; /&gt;\n\n                &lt;data android:pathPattern=&quot;.*\\\\.hprof&quot; /&gt;\n                &lt;data android:pathPattern=&quot;.*\\\\..*\\\\.hprof&quot; /&gt;\n                &lt;data android:pathPattern=&quot;.*\\\\..*\\\\..*\\\\.hprof&quot; /&gt;\n                &lt;data android:pathPattern=&quot;.*\\\\..*\\\\..*\\\\..*\\\\.hprof&quot; /&gt;\n                &lt;data android:pathPattern=&quot;.*\\\\..*\\\\..*\\\\..*\\\\..*\\\\.hprof&quot; /&gt;\n                &lt;data android:pathPattern=&quot;.*\\\\..*\\\\..*\\\\..*\\\\..*\\\\..*\\\\.hprof&quot; /&gt;\n                &lt;data android:pathPattern=&quot;.*\\\\..*\\\\..*\\\\..*\\\\..*\\\\..*\\\\..*\\\\.hprof&quot; /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n\n        &lt;activity\n            android:name=&quot;leakcanary.internal.RequestStoragePermissionActivity&quot;\n            android:excludeFromRecents=&quot;true&quot;\n            android:exported=&quot;false&quot;\n            android:icon=&quot;@mipmap/leak_canary_icon&quot;\n            android:label=&quot;@string/leak_canary_storage_permission_activity_label&quot;\n            android:taskAffinity=&quot;com.squareup.leakcanary.${applicationId}&quot;\n            android:theme=&quot;@style/leak_canary_Theme.Transparent&quot; /&gt;\n\n        &lt;receiver\n            android:name=&quot;leakcanary.internal.NotificationReceiver&quot;\n            android:exported=&quot;false&quot; /&gt;\n\n    &lt;/application&gt;\n&lt;/manifest&gt;\n</code></pre>\n<p>You might as well just use the tools:node=&quot;merge&quot; attribute and declare the android:exported=true|false as <a href=\"https://stackoverflow.com/questions/67412084/android-studio-error-manifest-merger-failed-apps-targeting-android-12/69183965#comment123777212_69347425\">LeoFarage kindly suggested</a>.</p>\n"},{"comments":[{"owner":{"account_id":18834955,"reputation":641,"user_id":13737843,"display_name":"Noah"},"score":1,"creation_date":1643953051,"post_id":69362048,"comment_id":125481094,"body_markdown":"A downgrade is not an option in android development. Remove this answer","body":"A downgrade is not an option in android development. Remove this answer"},{"owner":{"account_id":1270913,"reputation":512,"user_id":1227197,"accept_rate":64,"display_name":"Maude"},"score":0,"creation_date":1644862783,"post_id":69362048,"comment_id":125712836,"body_markdown":"The downgrade version is in fact the only solution that seems to work for projects with 1 activity, that don&#39;t have a &lt;receiver&gt; and that already have the appropriate exported tag.","body":"The downgrade version is in fact the only solution that seems to work for projects with 1 activity, that don&#39;t have a &lt;receiver&gt; and that already have the appropriate exported tag."},{"owner":{"account_id":18834955,"reputation":641,"user_id":13737843,"display_name":"Noah"},"score":0,"creation_date":1695383230,"post_id":69362048,"comment_id":136020620,"body_markdown":"Then the app will never be accepted in Google play store because that violates their policy","body":"Then the app will never be accepted in Google play store because that violates their policy"}],"tags":[],"owner":{"account_id":7464183,"reputation":1402,"user_id":5674408,"display_name":"Ashwani Kumar"},"comment_count":3,"down_vote_count":7,"up_vote_count":4,"is_accepted":false,"score":-3,"last_activity_date":1632833229,"creation_date":1632833229,"answer_id":69362048,"question_id":67412084,"body_markdown":"I was getting this error even when I added `android:exported=&quot;true&quot;` in all activities, receivers etc. The thing that worked for me was to change `compileSdkVersion` and `targetSdkVersion` to 30. ","title":"Android Studio error: &quot;Manifest merger failed: Apps targeting Android 12&quot;","body":"<p>I was getting this error even when I added <code>android:exported=&quot;true&quot;</code> in all activities, receivers etc. The thing that worked for me was to change <code>compileSdkVersion</code> and <code>targetSdkVersion</code> to 30.</p>\n"},{"tags":[],"owner":{"account_id":20127982,"reputation":29,"user_id":14760956,"display_name":"ATA UR RAHMAN"},"comment_count":0,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1660911675,"creation_date":1643972287,"answer_id":70985239,"question_id":67412084,"body_markdown":"Update the version of `androidTestImplementation &#39;androidx.test.ext:junit:1.1.1&#39;` to the latest version, like: \r\n\r\n`androidTestImplementation &#39;androidx.test.ext:junit:1.1.3&#39;` from the *build.gradle* app level.\r\n","title":"Android Studio error: &quot;Manifest merger failed: Apps targeting Android 12&quot;","body":"<p>Update the version of <code>androidTestImplementation 'androidx.test.ext:junit:1.1.1'</code> to the latest version, like:</p>\n<p><code>androidTestImplementation 'androidx.test.ext:junit:1.1.3'</code> from the <em>build.gradle</em> app level.</p>\n"},{"tags":[],"owner":{"account_id":22636080,"reputation":1151,"user_id":16812867,"display_name":"Rehan Khan"},"comment_count":0,"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1660913563,"creation_date":1645362617,"answer_id":71194733,"question_id":67412084,"body_markdown":"### For apps targeting Android 12\r\n\r\nChange your app&#39;s targetSdkVersion to ***S*** (32 or 31) to enable the new behavior.\r\n\r\nThen specify the *android:exported=&quot;&quot;* attribute in Manifest to either true or false depending on Activity.\r\n\r\nFor a launcher activity such as splash or MainActivity, use *android:exported=&quot;true&quot;* and for the rest of the Activities, use *android:exported=&quot;false&quot;*\r\n\r\nFor example:\r\n\r\n```lang-xml\r\n&lt;!-- It&#39;s **true** for the launcher Activity --&gt;\r\n&lt;activity android:name=&quot;.SplashActivity&quot;\r\n          android:exported=&quot;true&quot; /&gt;\r\n\r\n&lt;!-- It&#39;s **false** for the rest of the Activities --&gt;\r\n&lt;activity android:name=&quot;.MainActivity&quot;\r\n          android:exported=&quot;false&quot; /&gt;\r\n```\r\n","title":"Android Studio error: &quot;Manifest merger failed: Apps targeting Android 12&quot;","body":"<h3>For apps targeting Android 12</h3>\n<p>Change your app's targetSdkVersion to <em><strong>S</strong></em> (32 or 31) to enable the new behavior.</p>\n<p>Then specify the <em>android:exported=&quot;&quot;</em> attribute in Manifest to either true or false depending on Activity.</p>\n<p>For a launcher activity such as splash or MainActivity, use <em>android:exported=&quot;true&quot;</em> and for the rest of the Activities, use <em>android:exported=&quot;false&quot;</em></p>\n<p>For example:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;!-- It's **true** for the launcher Activity --&gt;\n&lt;activity android:name=&quot;.SplashActivity&quot;\n          android:exported=&quot;true&quot; /&gt;\n\n&lt;!-- It's **false** for the rest of the Activities --&gt;\n&lt;activity android:name=&quot;.MainActivity&quot;\n          android:exported=&quot;false&quot; /&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23179513,"reputation":220,"user_id":17277520,"display_name":"Tombstone"},"comment_count":0,"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1675233804,"creation_date":1648199155,"answer_id":71614425,"question_id":67412084,"body_markdown":"In your manifest, add android:exported=&quot;true&quot; or android:exported=&quot;false &quot; in your default launching activity attribute.\r\n\r\nDone! You are all right to run your apps on Android 12.\r\n\r\nRequired by launcher activity\r\n\r\n```lang-xml\r\n&lt;activity\r\n    android:name=&quot;.MainActivity&quot;\r\n    android:exported=&quot;true&quot;\r\n    android:theme=&quot;@style/Theme.MyApplication.NoActionBar&quot;&gt;\r\n    &lt;intent-filter&gt;\r\n        &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n        &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n    &lt;/intent-filter&gt;\r\n&lt;/activity&gt;\r\n```\r\n\r\nRequired by receiver\r\n\r\n```lang-xml\r\n&lt;receiver android:name=&quot;.Musicreceiver&quot;\r\n          android:exported=&quot;true&quot;&gt;\r\n\r\n&lt;/receiver&gt;\r\n```\r\n\r\nRequired by services\r\n\r\n```lang-xml\r\n\r\n    &lt;service\r\n        android:name=&quot;.service.LoggerService&quot;\r\n        android:exported=&quot;true&quot;\r\n        android:enabled=&quot;true&quot; /&gt;\r\n\r\n```\r\n\r\n","title":"Android Studio error: &quot;Manifest merger failed: Apps targeting Android 12&quot;","body":"<p>In your manifest, add android:exported=&quot;true&quot; or android:exported=&quot;false &quot; in your default launching activity attribute.</p>\n<p>Done! You are all right to run your apps on Android 12.</p>\n<p>Required by launcher activity</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;activity\n    android:name=&quot;.MainActivity&quot;\n    android:exported=&quot;true&quot;\n    android:theme=&quot;@style/Theme.MyApplication.NoActionBar&quot;&gt;\n    &lt;intent-filter&gt;\n        &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n        &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n    &lt;/intent-filter&gt;\n&lt;/activity&gt;\n</code></pre>\n<p>Required by receiver</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;receiver android:name=&quot;.Musicreceiver&quot;\n          android:exported=&quot;true&quot;&gt;\n\n&lt;/receiver&gt;\n</code></pre>\n<p>Required by services</p>\n<pre class=\"lang-xml prettyprint-override\"><code>\n    &lt;service\n        android:name=&quot;.service.LoggerService&quot;\n        android:exported=&quot;true&quot;\n        android:enabled=&quot;true&quot; /&gt;\n\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1115726,"reputation":631,"user_id":1105098,"accept_rate":77,"display_name":"Reece"},"score":0,"creation_date":1669315400,"post_id":72734437,"comment_id":131621641,"body_markdown":"The merged manifest tab contains a bunch of hyperlinks to all the manifests being generated in your project.  From there you can click on each one find the one with the intent filter for activity or receiver that doesn&#39;t have the exported flag set.","body":"The merged manifest tab contains a bunch of hyperlinks to all the manifests being generated in your project.  From there you can click on each one find the one with the intent filter for activity or receiver that doesn&#39;t have the exported flag set."}],"tags":[],"owner":{"account_id":2207343,"reputation":9457,"user_id":1950209,"accept_rate":39,"display_name":"Zbarcea Christian"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660912606,"creation_date":1656006020,"answer_id":72734437,"question_id":67412084,"body_markdown":"For me neither of the solutions worked, even if I double/triple checked the &quot;merged manifest&quot; in Android Studio. After compiling the project, the error just appeared and I couldn’t identify the line where the issue was generated.\r\n\r\n**Solution**: make sure you&#39;re targeting the latest libraries in your project. I was using [Unity][1], StartApp and Flurry Analytics. I forgot to update these libraries, and after upgrading them, the error disappeared. It looks like these libraries used features from\r\nbefore [SDK 31][2].\r\n\r\nIf you&#39;re using abandoned libraries, then you should consider replacing them.\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Unity_(game_engine)\r\n  [2]: https://en.wikipedia.org/wiki/Android_12\r\n","title":"Android Studio error: &quot;Manifest merger failed: Apps targeting Android 12&quot;","body":"<p>For me neither of the solutions worked, even if I double/triple checked the &quot;merged manifest&quot; in Android Studio. After compiling the project, the error just appeared and I couldn’t identify the line where the issue was generated.</p>\n<p><strong>Solution</strong>: make sure you're targeting the latest libraries in your project. I was using <a href=\"https://en.wikipedia.org/wiki/Unity_(game_engine)\" rel=\"nofollow noreferrer\">Unity</a>, StartApp and Flurry Analytics. I forgot to update these libraries, and after upgrading them, the error disappeared. It looks like these libraries used features from\nbefore <a href=\"https://en.wikipedia.org/wiki/Android_12\" rel=\"nofollow noreferrer\">SDK 31</a>.</p>\n<p>If you're using abandoned libraries, then you should consider replacing them.</p>\n"},{"comments":[{"owner":{"account_id":18716710,"reputation":1336,"user_id":14291243,"display_name":"Abhishek Dutt"},"score":4,"creation_date":1656732306,"post_id":72824648,"comment_id":128649700,"body_markdown":"The accepted answer tells the same thing. Please [edit] your answer, so that it gives a different solution altogether, or remove it.","body":"The accepted answer tells the same thing. Please <a href=\"https://stackoverflow.com/posts/72824648/edit\">edit</a> your answer, so that it gives a different solution altogether, or remove it."},{"owner":{"account_id":24885,"reputation":30828,"user_id":63550,"accept_rate":78,"display_name":"Peter Mortensen"},"score":0,"creation_date":1660913521,"post_id":72824648,"comment_id":129652324,"body_markdown":"But it is missing the end tag &quot;&lt;/receiver&gt;&quot;(?).","body":"But it is missing the end tag &quot;&lt;/receiver&gt;&quot;(?)."}],"tags":[],"owner":{"account_id":23214445,"reputation":225,"user_id":17307516,"display_name":"Soumik Chakraborty"},"comment_count":2,"down_vote_count":2,"up_vote_count":3,"is_accepted":false,"score":1,"last_activity_date":1660913446,"creation_date":1656652409,"answer_id":72824648,"question_id":67412084,"body_markdown":"Add android:exported=&quot;true&quot;:\r\n\r\n```lang-xml\r\n&lt;receiver android:name=&quot;com.dieam.reactnativepushnotification.modules.RNPushNotificationActions&quot;/&gt;\r\n    &lt;receiver android:name=&quot;com.dieam.reactnativepushnotification.modules.RNPushNotificationPublisher&quot;/&gt;\r\n    &lt;receiver android:name=&quot;com.dieam.reactnativepushnotification.modules.RNPushNotificationBootEventReceiver&quot;\r\n     android:exported=&quot;true&quot;&gt;\r\n\r\n        &lt;intent-filter&gt;\r\n            &lt;action android:name=&quot;android.intent.action.BOOT_COMPLETED&quot; /&gt;\r\n            &lt;action android:name=&quot;android.intent.action.QUICKBOOT_POWERON&quot; /&gt;\r\n            &lt;action android:name=&quot;com.htc.intent.action.QUICKBOOT_POWERON&quot;/&gt;\r\n        &lt;/intent-filter&gt;\r\n    &lt;/receiver&gt;\r\n```\r\n","title":"Android Studio error: &quot;Manifest merger failed: Apps targeting Android 12&quot;","body":"<p>Add android:exported=&quot;true&quot;:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;receiver android:name=&quot;com.dieam.reactnativepushnotification.modules.RNPushNotificationActions&quot;/&gt;\n    &lt;receiver android:name=&quot;com.dieam.reactnativepushnotification.modules.RNPushNotificationPublisher&quot;/&gt;\n    &lt;receiver android:name=&quot;com.dieam.reactnativepushnotification.modules.RNPushNotificationBootEventReceiver&quot;\n     android:exported=&quot;true&quot;&gt;\n\n        &lt;intent-filter&gt;\n            &lt;action android:name=&quot;android.intent.action.BOOT_COMPLETED&quot; /&gt;\n            &lt;action android:name=&quot;android.intent.action.QUICKBOOT_POWERON&quot; /&gt;\n            &lt;action android:name=&quot;com.htc.intent.action.QUICKBOOT_POWERON&quot;/&gt;\n        &lt;/intent-filter&gt;\n    &lt;/receiver&gt;\n</code></pre>\n"}],"owner":{"account_id":20636705,"reputation":3081,"user_id":15150212,"display_name":"DSF.Inc"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":411392,"favorite_count":0,"down_vote_count":1,"up_vote_count":294,"closed_date":1667487137,"accepted_answer_id":67412314,"answer_count":14,"score":293,"last_activity_date":1697675714,"creation_date":1620277227,"question_id":67412084,"body_markdown":"I have updated my emulator version and Android SDK version to Android S ([Android 12][1]). After the update, I cannot run the project. I cannot run a *[Hello, World!][2]* project (empty project), but I can build Gradle as well as, but I can not run the project. I always got the error:\r\n\r\n&gt; Manifest merger failed: Apps targeting Android 12 and higher are\r\n&gt; required to specify an explicit value for `android: exported` when the\r\n&gt; corresponding component has an intent filter defined. See\r\n&gt; https://developer.android.com/guide/topics/manifest/activity-element#exported\r\n&gt; for details.\r\n\r\nHow can I fix it?\r\n\r\nHere is a screenshot:\r\n\r\n[![This is a screenshot.][3]][3]\r\n\r\nHow can I solve this issue when using Android 12 SDK?\r\n\r\n[This question][4] is about the issue after applying the solution to this, and is different than this question. Also, this question is older than [this][4].\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Android_12\r\n  [2]: https://en.wikipedia.org/wiki/%22Hello,_World!%22_program\r\n  [3]: https://i.stack.imgur.com/ZMzmN.png\r\n  [4]: https://stackoverflow.com/questions/67654506/manifest-merger-failed-targeting-android-12\r\n\r\n\r\n\r\n","title":"Android Studio error: &quot;Manifest merger failed: Apps targeting Android 12&quot;","body":"<p>I have updated my emulator version and Android SDK version to Android S (<a href=\"https://en.wikipedia.org/wiki/Android_12\" rel=\"noreferrer\">Android 12</a>). After the update, I cannot run the project. I cannot run a <em><a href=\"https://en.wikipedia.org/wiki/%22Hello,_World!%22_program\" rel=\"noreferrer\">Hello, World!</a></em> project (empty project), but I can build Gradle as well as, but I can not run the project. I always got the error:</p>\n<blockquote>\n<p>Manifest merger failed: Apps targeting Android 12 and higher are\nrequired to specify an explicit value for <code>android: exported</code> when the\ncorresponding component has an intent filter defined. See\n<a href=\"https://developer.android.com/guide/topics/manifest/activity-element#exported\" rel=\"noreferrer\">https://developer.android.com/guide/topics/manifest/activity-element#exported</a>\nfor details.</p>\n</blockquote>\n<p>How can I fix it?</p>\n<p>Here is a screenshot:</p>\n<p><a href=\"https://i.stack.imgur.com/ZMzmN.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/ZMzmN.png\" alt=\"This is a screenshot.\" /></a></p>\n<p>How can I solve this issue when using Android 12 SDK?</p>\n<p><a href=\"https://stackoverflow.com/questions/67654506/manifest-merger-failed-targeting-android-12\">This question</a> is about the issue after applying the solution to this, and is different than this question. Also, this question is older than <a href=\"https://stackoverflow.com/questions/67654506/manifest-merger-failed-targeting-android-12\">this</a>.</p>\n"},{"tags":["java","try-catch-finally"],"answers":[{"tags":[],"owner":{"account_id":15903,"reputation":323443,"user_id":34088,"accept_rate":77,"display_name":"Aaron Digulla"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1309433752,"creation_date":1309433752,"answer_id":6534091,"question_id":6534072,"body_markdown":"There are several ways to do it:\r\n\r\n1. Move the code into a new method and `return` from it\r\n\r\n1. Wrap the try/catch in a `do{}while(false);` loop.\r\n\r\n","title":"How can I break from a try/catch block without throwing an exception in Java","body":"<p>There are several ways to do it:</p>\n\n<ol>\n<li><p>Move the code into a new method and <code>return</code> from it</p></li>\n<li><p>Wrap the try/catch in a <code>do{}while(false);</code> loop.</p></li>\n</ol>\n"},{"comments":[{"owner":{"account_id":153021,"reputation":8348,"user_id":367988,"accept_rate":71,"display_name":"Basil Musa"},"score":4,"creation_date":1309450648,"post_id":6534096,"comment_id":7699860,"body_markdown":"Will vreaking this way run the finally {} block of the try catch?","body":"Will vreaking this way run the finally {} block of the try catch?"},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":5,"creation_date":1516763246,"post_id":6534096,"comment_id":83818280,"body_markdown":"IMO, `do ... while(false)` should be considered as a poor alternative to a labeled statement.","body":"IMO, <code>do ... while(false)</code> should be considered as a poor alternative to a labeled statement."},{"owner":{"account_id":9711131,"reputation":253,"user_id":7238436,"display_name":"setholopolus"},"score":1,"creation_date":1520113682,"post_id":6534096,"comment_id":85184650,"body_markdown":"I agree with @StephenC. You shouldn&#39;t use a loop unless you are planning on looping. It will be confusing to anybody who ever reads your code, including yourself in 2 months from now.","body":"I agree with @StephenC. You shouldn&#39;t use a loop unless you are planning on looping. It will be confusing to anybody who ever reads your code, including yourself in 2 months from now."},{"owner":{"account_id":7831234,"reputation":497,"user_id":5921170,"accept_rate":100,"display_name":"Kr&#246;w"},"score":0,"creation_date":1566197286,"post_id":6534096,"comment_id":101565584,"body_markdown":"@BasilMusa When a block of code is broken out of with the `break` keyword, the block is considered to have &quot;completed abruptly.&quot; The same applies when an exception is thrown; a block of code will be exited &quot;abruptly.&quot; This is the converse of &quot;normal&quot; completion/exiting. `finally` blocks obtain execution when their respective `try` blocks complete normally *or* abruptly, so execution will actually go to the finally, if it exists, immediately before going to wherever you &quot;broke&quot; to.","body":"@BasilMusa When a block of code is broken out of with the <code>break</code> keyword, the block is considered to have &quot;completed abruptly.&quot; The same applies when an exception is thrown; a block of code will be exited &quot;abruptly.&quot; This is the converse of &quot;normal&quot; completion/exiting. <code>finally</code> blocks obtain execution when their respective <code>try</code> blocks complete normally <i>or</i> abruptly, so execution will actually go to the finally, if it exists, immediately before going to wherever you &quot;broke&quot; to."}],"tags":[],"owner":{"account_id":100718,"reputation":43156,"user_id":271357,"accept_rate":83,"display_name":"dacwe"},"comment_count":4,"down_vote_count":2,"up_vote_count":29,"is_accepted":false,"score":27,"last_activity_date":1309434541,"creation_date":1309433772,"answer_id":6534096,"question_id":6534072,"body_markdown":"You can always do it with a `break` from a loop construct or a labeled `break` as specified in aioobies answer.\r\n\r\n    public static void main(String[] args) {\r\n        do {\r\n            try {\r\n                // code..\r\n                if (condition)\r\n                    break;\r\n                // more code...\r\n            } catch (Exception e) {\r\n                \r\n            }\r\n        } while (false);\r\n    }\r\n","title":"How can I break from a try/catch block without throwing an exception in Java","body":"<p>You can always do it with a <code>break</code> from a loop construct or a labeled <code>break</code> as specified in aioobies answer.</p>\n\n<pre><code>public static void main(String[] args) {\n    do {\n        try {\n            // code..\n            if (condition)\n                break;\n            // more code...\n        } catch (Exception e) {\n\n        }\n    } while (false);\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1026132,"reputation":4488,"user_id":1035411,"accept_rate":94,"display_name":"Gruber"},"score":0,"creation_date":1443688555,"post_id":6534112,"comment_id":53596256,"body_markdown":"@aioobe: What to do if the method is supposed to return something else than `void`?","body":"@aioobe: What to do if the method is supposed to return something else than <code>void</code>?"},{"owner":{"account_id":102965,"reputation":415240,"user_id":276052,"accept_rate":80,"display_name":"aioobe"},"score":1,"creation_date":1443699471,"post_id":6534112,"comment_id":53602879,"body_markdown":"@Gruber, I don&#39;t think I understand the issue. In the first snippet, you would have to put an expression after the `return` keyword and include a return statement at the bottom of the method.","body":"@Gruber, I don&#39;t think I understand the issue. In the first snippet, you would have to put an expression after the <code>return</code> keyword and include a return statement at the bottom of the method."}],"tags":[],"owner":{"account_id":102965,"reputation":415240,"user_id":276052,"accept_rate":80,"display_name":"aioobe"},"comment_count":2,"down_vote_count":1,"up_vote_count":69,"is_accepted":true,"score":68,"last_activity_date":1427991035,"creation_date":1309433842,"answer_id":6534112,"question_id":6534072,"body_markdown":"The proper way to do it is probably to break down the method by putting the try-catch block in a separate method, and use a return statement:\r\n\r\n    public void someMethod() {\r\n        try {\r\n            ...\r\n            if (condition)\r\n                return;\r\n            ...\r\n        } catch (SomeException e) {\r\n            ...\r\n        }\r\n    }\r\n\r\nIf the code involves lots of local variables, you may also consider using a `break` from a labeled block, as suggested by [Stephen C](https://stackoverflow.com/questions/6534072/how-can-i-break-from-a-try-catch-block-without-throwing-an-exception-in-java/6534135#6534135):\r\n\r\n    label: try {\r\n        ...\r\n        if (condition)\r\n            break label;\r\n        ...\r\n    } catch (SomeException e) {\r\n        ...\r\n    }","title":"How can I break from a try/catch block without throwing an exception in Java","body":"<p>The proper way to do it is probably to break down the method by putting the try-catch block in a separate method, and use a return statement:</p>\n\n<pre><code>public void someMethod() {\n    try {\n        ...\n        if (condition)\n            return;\n        ...\n    } catch (SomeException e) {\n        ...\n    }\n}\n</code></pre>\n\n<p>If the code involves lots of local variables, you may also consider using a <code>break</code> from a labeled block, as suggested by <a href=\"https://stackoverflow.com/questions/6534072/how-can-i-break-from-a-try-catch-block-without-throwing-an-exception-in-java/6534135#6534135\">Stephen C</a>:</p>\n\n<pre><code>label: try {\n    ...\n    if (condition)\n        break label;\n    ...\n} catch (SomeException e) {\n    ...\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"comment_count":0,"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1697671286,"creation_date":1309433950,"answer_id":6534135,"question_id":6534072,"body_markdown":"Various ways:\r\n\r\n  - `return`\r\n  - `break` or `continue` when the try/catch is within a loop\r\n  - `break` to label when the try/catch is within a labeled statement (see @aioobe&#39;s example)\r\n  - `break` when the try/catch is within a switch statement.\r\n\r\n...\r\n\r\n  - call `System.exit()` ... though that&#39;s probably not what you mean.\r\n\r\n------\r\n\r\nIn my opinion, &quot;break to label&quot; is the most natural (least contorted) way to do this if you *just* want to get out of a try/catch.  But it could be confusing to novice Java programmers who have never encountered that Java construct.\r\n\r\nBut while labels are obscure, in my opinion wrapping the code in a `do ... while (false)` so that you can use a `break` is a worse idea.  This will confuse non-novices as well as novices.  It is better for novices (and non-novices!) to learn about labeled statements.\r\n\r\n------\r\n\r\nBy the way, `return` works in the case where you need to break out of a `finally`.  But you should avoid doing a `return` in a `finally` block because the semantics are a bit confusing, and liable to give the reader a headache.","title":"How can I break from a try/catch block without throwing an exception in Java","body":"<p>Various ways:</p>\n<ul>\n<li><code>return</code></li>\n<li><code>break</code> or <code>continue</code> when the try/catch is within a loop</li>\n<li><code>break</code> to label when the try/catch is within a labeled statement (see @aioobe's example)</li>\n<li><code>break</code> when the try/catch is within a switch statement.</li>\n</ul>\n<p>...</p>\n<ul>\n<li>call <code>System.exit()</code> ... though that's probably not what you mean.</li>\n</ul>\n<hr />\n<p>In my opinion, &quot;break to label&quot; is the most natural (least contorted) way to do this if you <em>just</em> want to get out of a try/catch.  But it could be confusing to novice Java programmers who have never encountered that Java construct.</p>\n<p>But while labels are obscure, in my opinion wrapping the code in a <code>do ... while (false)</code> so that you can use a <code>break</code> is a worse idea.  This will confuse non-novices as well as novices.  It is better for novices (and non-novices!) to learn about labeled statements.</p>\n<hr />\n<p>By the way, <code>return</code> works in the case where you need to break out of a <code>finally</code>.  But you should avoid doing a <code>return</code> in a <code>finally</code> block because the semantics are a bit confusing, and liable to give the reader a headache.</p>\n"},{"comments":[{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1520121897,"post_id":15357314,"comment_id":85186641,"body_markdown":"1)  The question is about breaking out of a try without throwing an exception. You are throwing an exception under the covers, and in a way that is probably too difficult for the JIT compiler to optimize away.  2) Catching `Exception` is bad.","body":"1)  The question is about breaking out of a try without throwing an exception. You are throwing an exception under the covers, and in a way that is probably too difficult for the JIT compiler to optimize away.  2) Catching <code>Exception</code> is bad."}],"tags":[],"owner":{"account_id":2475327,"reputation":693,"user_id":2156084,"accept_rate":88,"display_name":"Fariba"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1443824023,"creation_date":1363079933,"answer_id":15357314,"question_id":6534072,"body_markdown":"In this sample in catch block i change the value of counter and it will break while block:\r\n\r\n    class TestBreak {\r\n        public static void main(String[] a) {\r\n            int counter = 0;\r\n\r\n            while(counter&lt;5) {\r\n                try {\r\n                    counter++;\r\n                    int x = counter/0;\r\n                }\r\n                catch(Exception e) {\r\n                    counter = 1000;    \r\n                }\r\n            }\r\n        }\r\n    }k","title":"How can I break from a try/catch block without throwing an exception in Java","body":"<p>In this sample in catch block i change the value of counter and it will break while block:</p>\n\n<pre><code>class TestBreak {\n    public static void main(String[] a) {\n        int counter = 0;\n\n        while(counter&lt;5) {\n            try {\n                counter++;\n                int x = counter/0;\n            }\n            catch(Exception e) {\n                counter = 1000;    \n            }\n        }\n    }\n}k\n</code></pre>\n"},{"comments":[{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1520121705,"post_id":18493115,"comment_id":85186600,"body_markdown":"1)  This is not valid Java.  2) The question is about breaking out of a `try` without throwing an exception.  You are *explicitly* throwing an exception.","body":"1)  This is not valid Java.  2) The question is about breaking out of a <code>try</code> without throwing an exception.  You are <i>explicitly</i> throwing an exception."}],"tags":[],"owner":{"account_id":1485795,"reputation":5640,"user_id":1394117,"accept_rate":26,"display_name":"diwatu"},"comment_count":1,"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1377706318,"creation_date":1377706318,"answer_id":18493115,"question_id":6534072,"body_markdown":"This is the code I usually do:\r\n\r\n     try\r\n     {\r\n        ...........\r\n        throw null;//this line just works like a &#39;break&#39;\r\n        ...........   \r\n      }\r\n      catch (NullReferenceException)\r\n      { \r\n      }\r\n      catch (System.Exception ex)\r\n      {\r\n          .........\r\n      }","title":"How can I break from a try/catch block without throwing an exception in Java","body":"<p>This is the code I usually do:</p>\n\n<pre><code> try\n {\n    ...........\n    throw null;//this line just works like a 'break'\n    ...........   \n  }\n  catch (NullReferenceException)\n  { \n  }\n  catch (System.Exception ex)\n  {\n      .........\n  }\n</code></pre>\n"}],"owner":{"account_id":153021,"reputation":8348,"user_id":367988,"accept_rate":71,"display_name":"Basil Musa"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":169274,"favorite_count":0,"down_vote_count":0,"up_vote_count":73,"accepted_answer_id":6534112,"answer_count":6,"score":73,"last_activity_date":1697671286,"creation_date":1309433645,"question_id":6534072,"body_markdown":"I need a way to break from the middle of try/catch block without throwing an exception.\r\nSomething that is similar to the break and continue in for loops.\r\nIs this possible?\r\n\r\nI have been getting weird throughts about throwing a custom exception (naming it &quot;BreakContinueException&quot;) that simple does nothing in its catch handler. I&#39;m sure this is very twisted.\r\n\r\nSo, any straight forward solution I&#39;m not aware of?","title":"How can I break from a try/catch block without throwing an exception in Java","body":"<p>I need a way to break from the middle of try/catch block without throwing an exception.\nSomething that is similar to the break and continue in for loops.\nIs this possible?</p>\n\n<p>I have been getting weird throughts about throwing a custom exception (naming it \"BreakContinueException\") that simple does nothing in its catch handler. I'm sure this is very twisted.</p>\n\n<p>So, any straight forward solution I'm not aware of?</p>\n"},{"tags":["java","windows","bash","github","curl"],"comments":[{"owner":{"account_id":308303,"reputation":36789,"user_id":620097,"display_name":"shellter"},"score":0,"creation_date":1697672371,"post_id":77320105,"comment_id":136310733,"body_markdown":"try `echo $JAVA_HOME` in your WSL terminal please. Note that `%JAVA_HOME%` implies MS Windows `.bat` files, etc. In any case, this Q would be more appropriate on [su]. Good luck.","body":"try <code>echo $JAVA_HOME</code> in your WSL terminal please. Note that <code>%JAVA_HOME%</code> implies MS Windows <code>.bat</code> files, etc. In any case, this Q would be more appropriate on <a href=\"https://superuser.com\">Super User</a>. Good luck."},{"owner":{"account_id":24549257,"reputation":11,"user_id":18458623,"display_name":"omnicoder9"},"score":0,"creation_date":1697672681,"post_id":77320105,"comment_id":136310759,"body_markdown":"I am using the command prompt, not WSL.","body":"I am using the command prompt, not WSL."},{"owner":{"account_id":3421244,"reputation":35883,"user_id":2868801,"display_name":"dave_thompson_085"},"score":0,"creation_date":1697683233,"post_id":77320105,"comment_id":136311560,"body_markdown":"Windows `bash.exe` automatically runs in (aka switches to) WSL, so **you ARE using WSL** -- and WSL doesn&#39;t use most env vars from Windows. WSL does set its $PATH partly from the Windows %PATH% converted to WSL name format and Unix separators, so if your Windows PATH finds your java then your WSL PATH should also. Note Oracle installers for the last several years don&#39;t put the actual location `\\Program Files [(x86)]\\Java\\&lt;version&gt;` in your (Windows) PATH, they use a stub in `\\Program Files [(x86)]\\Common Files\\Oracle` or `\\ProgramData\\Oracle`. They also kill old versions, and 351 is not head.","body":"Windows <code>bash.exe</code> automatically runs in (aka switches to) WSL, so <b>you ARE using WSL</b> -- and WSL doesn&#39;t use most env vars from Windows. WSL does set its $PATH partly from the Windows %PATH% converted to WSL name format and Unix separators, so if your Windows PATH finds your java then your WSL PATH should also. Note Oracle installers for the last several years don&#39;t put the actual location <code>\\Program Files [(x86)]\\Java\\&lt;version&gt;</code> in your (Windows) PATH, they use a stub in <code>\\Program Files [(x86)]\\Common Files\\Oracle</code> or <code>\\ProgramData\\Oracle</code>. They also kill old versions, and 351 is not head."},{"owner":{"account_id":24549257,"reputation":11,"user_id":18458623,"display_name":"omnicoder9"},"score":0,"creation_date":1697683735,"post_id":77320105,"comment_id":136311601,"body_markdown":"All I get back from echo $JAVA_HOME is $JAVA_HOME","body":"All I get back from echo $JAVA_HOME is $JAVA_HOME"},{"owner":{"account_id":308303,"reputation":36789,"user_id":620097,"display_name":"shellter"},"score":0,"creation_date":1697688908,"post_id":77320105,"comment_id":136312012,"body_markdown":"try `bash -c &quot;$(export JAVA_HOME=&quot;yourPath_to_JAVA_HOME&quot; ; curl -sfL https://...../quick_start.sh)`. Good luck.","body":"try <code>bash -c &quot;$(export JAVA_HOME=&quot;yourPath_to_JAVA_HOME&quot; ; curl -sfL https:&#47;&#47;.....&#47;quick_start.sh)</code>. Good luck."}],"owner":{"account_id":24549257,"reputation":11,"user_id":18458623,"display_name":"omnicoder9"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1697670769,"creation_date":1697670769,"question_id":77320105,"body_markdown":"I am setting up tsunami on Windows 10. I am following the tutorial (https://github.com/google/tsunami-security-scanner). When I run the bash command, I get the following error:\r\n```\r\nERROR: JAVA_HOME is not set and no &#39;java&#39; command could be found in your PATH.\r\n\r\nPlease set the JAVA_HOME variable in your environment to match the\r\nlocation of your Java installation.\r\n```\r\nWhen I run echo %JAVA_HOME%, I get \r\n```\r\nC:\\Program Files (x86)\\Java\\jre1.8.0_351\r\n```\r\nWhat possible explanation could there be for this?\r\n\r\nThe role of the ```bash -c &quot;$(curl -sfL https://raw.githubusercontent.com/google/tsunami-security-scanner/master/quick_start.sh)&quot;``` command is described at https://github.com/google/tsunami-security-scanner.\r\n","title":"tsunami Windows 10 curl JAVA_HOME environment variable error","body":"<p>I am setting up tsunami on Windows 10. I am following the tutorial (<a href=\"https://github.com/google/tsunami-security-scanner\" rel=\"nofollow noreferrer\">https://github.com/google/tsunami-security-scanner</a>). When I run the bash command, I get the following error:</p>\n<pre><code>ERROR: JAVA_HOME is not set and no 'java' command could be found in your PATH.\n\nPlease set the JAVA_HOME variable in your environment to match the\nlocation of your Java installation.\n</code></pre>\n<p>When I run echo %JAVA_HOME%, I get</p>\n<pre><code>C:\\Program Files (x86)\\Java\\jre1.8.0_351\n</code></pre>\n<p>What possible explanation could there be for this?</p>\n<p>The role of the <code>bash -c &quot;$(curl -sfL https://raw.githubusercontent.com/google/tsunami-security-scanner/master/quick_start.sh)&quot;</code> command is described at <a href=\"https://github.com/google/tsunami-security-scanner\" rel=\"nofollow noreferrer\">https://github.com/google/tsunami-security-scanner</a>.</p>\n"},{"tags":["java","jetty","http3"],"answers":[{"comments":[{"owner":{"account_id":7295,"reputation":23914,"user_id":12631,"accept_rate":57,"display_name":"Horcrux7"},"score":0,"creation_date":1697809738,"post_id":77318094,"comment_id":136330133,"body_markdown":"I hope this will also work if I change the certificate via SslContextFactory.reload(Consumer).","body":"I hope this will also work if I change the certificate via SslContextFactory.reload(Consumer)."},{"owner":{"account_id":1255537,"reputation":17242,"user_id":1215076,"display_name":"sbordet"},"score":1,"creation_date":1697814904,"post_id":77318094,"comment_id":136331207,"body_markdown":"`SslContextFactory.reload()` will reload the KeyStore.\nHowever, `QuicServerConnector` does not use the KeyStore so it won&#39;t know it has been reloaded.\nAfter calling `SslContextFactory.reload()` you would have to `stop()` and `start()` the `QuicServerConnector` explicitly.","body":"<code>SslContextFactory.reload()</code> will reload the KeyStore. However, <code>QuicServerConnector</code> does not use the KeyStore so it won&#39;t know it has been reloaded. After calling <code>SslContextFactory.reload()</code> you would have to <code>stop()</code> and <code>start()</code> the <code>QuicServerConnector</code> explicitly."},{"owner":{"account_id":8235,"reputation":87020,"user_id":14731,"accept_rate":89,"display_name":"Gili"},"score":0,"creation_date":1699478747,"post_id":77318094,"comment_id":136538471,"body_markdown":"For reference, the method to invoke (in Jetty 12) is `HTTP3ServerConnector.getQuicConfiguration().setPemWorkDirectory()`.","body":"For reference, the method to invoke (in Jetty 12) is <code>HTTP3ServerConnector.getQuicConfiguration().setPemWorkDirect&zwnj;&#8203;ory()</code>."}],"tags":[],"owner":{"account_id":1255537,"reputation":17242,"user_id":1215076,"display_name":"sbordet"},"comment_count":3,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1697646389,"creation_date":1697646389,"answer_id":77318094,"question_id":77317395,"body_markdown":"Jetty&#39;s implementation, like many others, use the [quiche][1] library as the underlying implementation of QUIC, the protocol at the base of HTTP/3.\r\n\r\nQuiche (written in Rust), does not use Java KeyStores, so you have to provide the public and private key as [PEM files][2].\r\n\r\nJetty will take care of converting your KeyStore to PEM files, but it needs a directory to save the PEM files to.\r\nSince one of the PEM files is the private key, the PEM directory must be adequately protected using file system permissions, and that is why Jetty cannot use a default PEM directory (for example, `/tmp/` would be a terrible choice because anyone will have access to your PEM files).\r\n\r\nYou just to specify a directory to store your PEM files (make sure its file permission are adequate), and Jetty will do the rest.\r\n\r\n  [1]: https://github.com/cloudflare/quiche\r\n  [2]: https://en.wikipedia.org/wiki/Privacy-Enhanced_Mail","title":"java.lang.IllegalStateException: No PEM work directory configured","body":"<p>Jetty's implementation, like many others, use the <a href=\"https://github.com/cloudflare/quiche\" rel=\"nofollow noreferrer\">quiche</a> library as the underlying implementation of QUIC, the protocol at the base of HTTP/3.</p>\n<p>Quiche (written in Rust), does not use Java KeyStores, so you have to provide the public and private key as <a href=\"https://en.wikipedia.org/wiki/Privacy-Enhanced_Mail\" rel=\"nofollow noreferrer\">PEM files</a>.</p>\n<p>Jetty will take care of converting your KeyStore to PEM files, but it needs a directory to save the PEM files to.\nSince one of the PEM files is the private key, the PEM directory must be adequately protected using file system permissions, and that is why Jetty cannot use a default PEM directory (for example, <code>/tmp/</code> would be a terrible choice because anyone will have access to your PEM files).</p>\n<p>You just to specify a directory to store your PEM files (make sure its file permission are adequate), and Jetty will do the rest.</p>\n"}],"owner":{"account_id":7295,"reputation":23914,"user_id":12631,"accept_rate":57,"display_name":"Horcrux7"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77318094,"answer_count":1,"score":0,"last_activity_date":1697670492,"creation_date":1697640521,"question_id":77317395,"body_markdown":"I have a working HTTP/2 configuration with an embedded Jetty 10. Now I want add HTTP/3 support. I follow the [Jetty HTTP/3 documentation][1]. I get the follow exception:\r\n\r\n    java.lang.IllegalStateException: No PEM work directory configured\r\n     \tat org.eclipse.jetty.quic.server.QuicServerConnector.findPemWorkDirectory(QuicServerConnector.java:192)\r\n     \tat org.eclipse.jetty.quic.server.QuicServerConnector.doStart(QuicServerConnector.java:171)\r\n     \tat org.eclipse.jetty.http3.server.HTTP3ServerConnector.doStart(HTTP3ServerConnector.java:61)\r\n     \tat org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:93)\r\n     \tat org.eclipse.jetty.server.Server.doStart(Server.java:428)\r\n     \tat org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:93)\r\n\r\nWhat is a PEM work directory? Does its contains any security relevant information? Must the directory contains some files? \r\n\r\nThe SSL certificate is loaded into a keystore and work with HTTP/2 and old HTTPS.\r\n\r\n  [1]: https://eclipse.dev/jetty/documentation/jetty-11/programming-guide/index.html#pg-server-http-connector-protocol-http3\r\n","title":"java.lang.IllegalStateException: No PEM work directory configured","body":"<p>I have a working HTTP/2 configuration with an embedded Jetty 10. Now I want add HTTP/3 support. I follow the <a href=\"https://eclipse.dev/jetty/documentation/jetty-11/programming-guide/index.html#pg-server-http-connector-protocol-http3\" rel=\"nofollow noreferrer\">Jetty HTTP/3 documentation</a>. I get the follow exception:</p>\n<pre><code>java.lang.IllegalStateException: No PEM work directory configured\n    at org.eclipse.jetty.quic.server.QuicServerConnector.findPemWorkDirectory(QuicServerConnector.java:192)\n    at org.eclipse.jetty.quic.server.QuicServerConnector.doStart(QuicServerConnector.java:171)\n    at org.eclipse.jetty.http3.server.HTTP3ServerConnector.doStart(HTTP3ServerConnector.java:61)\n    at org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:93)\n    at org.eclipse.jetty.server.Server.doStart(Server.java:428)\n    at org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:93)\n</code></pre>\n<p>What is a PEM work directory? Does its contains any security relevant information? Must the directory contains some files?</p>\n<p>The SSL certificate is loaded into a keystore and work with HTTP/2 and old HTTPS.</p>\n"},{"tags":["java","android","android-studio","gradle"],"answers":[{"tags":[],"owner":{"account_id":14361048,"reputation":448,"user_id":10373347,"display_name":"Peer Mohamed"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662030347,"creation_date":1662030347,"answer_id":73568324,"question_id":73351357,"body_markdown":"    buildTypes {\r\n    \r\n            debug {\r\n                debuggable true\r\n            }\r\n    \r\n            release {\r\n    //            minifyEnabled true\r\n                proguardFiles getDefaultProguardFile(&#39;proguard-android.txt&#39;), &#39;proguard-rules.pro&#39;\r\n                signingConfig signingConfigs.release\r\n    \r\n                android.applicationVariants.all { variant -&gt;\r\n                    variant.outputs.all {\r\n                        def date = new Date()\r\n                        def formattedDate = date.format(&#39;yyyy-MM-dd&#39;)\r\n                        outputFileName = &quot;${variant.productFlavors[0].name}&quot;  + formattedDate + &quot;_${variant.name}_${variant.versionName}.apk&quot;\r\n                    }\r\n                }\r\n            }\r\n        }","title":"How to change the apk filename in Android Studio with gradle-plugin 7.2.2 gradle version 7.3.3","body":"<pre><code>buildTypes {\n\n        debug {\n            debuggable true\n        }\n\n        release {\n//            minifyEnabled true\n            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n            signingConfig signingConfigs.release\n\n            android.applicationVariants.all { variant -&gt;\n                variant.outputs.all {\n                    def date = new Date()\n                    def formattedDate = date.format('yyyy-MM-dd')\n                    outputFileName = &quot;${variant.productFlavors[0].name}&quot;  + formattedDate + &quot;_${variant.name}_${variant.versionName}.apk&quot;\n                }\n            }\n        }\n    }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":6223812,"reputation":2460,"user_id":9512475,"display_name":"Yılmaz Durmaz"},"score":0,"creation_date":1697844049,"post_id":77318963,"comment_id":136335147,"body_markdown":"it is not a &quot;missed&quot; but &quot;misplaced&quot; curly braces ;)","body":"it is not a &quot;missed&quot; but &quot;misplaced&quot; curly braces ;)"}],"tags":[],"owner":{"account_id":19189696,"reputation":1,"user_id":14019683,"display_name":"Ivan Hernandez"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697669025,"creation_date":1697655556,"answer_id":77318963,"question_id":73351357,"body_markdown":"I thing you miss a &quot;}&quot; \r\n\r\non this line                     \r\n\r\n    def newName = &quot;${globalScope.project.name}-${output.baseName-${variant.versionName}}.apk&quot;\r\n\r\nthe right line must be like this\r\n\r\n    def newName = &quot;${globalScope.project.name}-${output.baseName}-${variant.versionName}.apk&quot;\r\n\r\nThat will be enough to solve your issue. At least it works for me\r\n\r\n\r\n","title":"How to change the apk filename in Android Studio with gradle-plugin 7.2.2 gradle version 7.3.3","body":"<p>I thing you miss a &quot;}&quot;</p>\n<p>on this line</p>\n<pre><code>def newName = &quot;${globalScope.project.name}-${output.baseName-${variant.versionName}}.apk&quot;\n</code></pre>\n<p>the right line must be like this</p>\n<pre><code>def newName = &quot;${globalScope.project.name}-${output.baseName}-${variant.versionName}.apk&quot;\n</code></pre>\n<p>That will be enough to solve your issue. At least it works for me</p>\n"}],"owner":{"account_id":5319788,"reputation":31,"user_id":4243574,"display_name":"Robert Angermayr"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1974,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1697669025,"creation_date":1660477450,"question_id":73351357,"body_markdown":"i&#39;m using Android Studio Version 2021.2.1\r\nGradl 7.3.3 and the gradle-plugin 7.2.2\r\n\r\nWhen i try to change the apk-filename in the same way as i have done it in earlier projects\r\ni recieve the following error.\r\n \r\nBuild file &#39;...\\app\\build.gradle&#39; line: 34\r\n\r\nA problem occurred configuring project &#39;:app&#39;.\r\n&gt; com.android.build.gradle.internal.dsl.AgpDslLockedException: It is too late to add new build types\r\n  They have already been used to configure this project.\r\n  Consider moving this call to finalizeDsl or during evaluation.\r\n\r\nI cannot find out what i have to change to give the apk-file a new filename.\r\nEverything i found is for older gradle versions where my build.gradle is working.\r\nIs there a tutorial or howto that helps me to solve the problem.\r\n\r\n\r\n    apply plugin: &#39;com.android.application&#39;\r\n    \r\n    android {\r\n    \r\n        compileSdkVersion 32\r\n    \r\n        defaultConfig {\r\n            applicationId &quot;...&quot;\r\n            minSdkVersion 19\r\n            targetSdkVersion 32\r\n            versionCode 1205\r\n            versionName &#39;1.2.05&#39;\r\n            testInstrumentationRunner &#39;androidx.test.runner.AndroidJUnitRunner&#39;\r\n        }\r\n    \r\n        signingConfigs {\r\n            config {\r\n                keyAlias &#39;alias&#39;\r\n                keyPassword &#39;pass&#39;\r\n                storeFile file(mykeystore.jks&#39;)\r\n                storePassword &#39;12345&#39;\r\n            }\r\n        }\r\n    \r\n        buildTypes {\r\n            release {\r\n                shrinkResources true\r\n                minifyEnabled true\r\n                proguardFiles getDefaultProguardFile(&#39;proguard-android.txt&#39;), &#39;proguard-rules.pro&#39;\r\n                applicationVariants.all { variant -&gt;\r\n                    variant.outputs.all { output -&gt;\r\n                        project.ext { appName = &#39;myAppname&#39; }\r\n                        def formattedDate = new Date().format(&#39;yyyyMMdd_HHmmss&#39;)\r\n                        // NEXT IST LINE 34 where the ERROR points to\r\n                        def newName = &quot;${globalScope.project.name}-${output.baseName-${variant.versionName}}.apk&quot;\r\n                        newName = newName.replace(&quot;app-&quot;, &quot;$project.ext.appName-&quot;) \r\n                        newName = newName.replace(&quot;-release&quot;, &quot;-release-&quot; + formattedDate + &quot;_&quot; + versionName.replace(&quot;.&quot;,&quot;&quot;))\r\n                        outputFileName  = new File(&quot;../../../../release/&quot; + newName)\r\n                    }\r\n                }\r\n                signingConfig signingConfigs.config\r\n                zipAlignEnabled true\r\n                pseudoLocalesEnabled true\r\n            }\r\n    \r\n            debug {\r\n                minifyEnabled false\r\n                //useProguard false\r\n                proguardFiles getDefaultProguardFile(&#39;proguard-android.txt&#39;), &#39;proguard-rules.pro&#39;\r\n                zipAlignEnabled true\r\n                pseudoLocalesEnabled true\r\n                debuggable true\r\n                signingConfig signingConfigs.config\r\n            }\r\n        }\r\n        productFlavors {\r\n        }\r\n    }\r\n\r\n\r\n","title":"How to change the apk filename in Android Studio with gradle-plugin 7.2.2 gradle version 7.3.3","body":"<p>i'm using Android Studio Version 2021.2.1\nGradl 7.3.3 and the gradle-plugin 7.2.2</p>\n<p>When i try to change the apk-filename in the same way as i have done it in earlier projects\ni recieve the following error.</p>\n<p>Build file '...\\app\\build.gradle' line: 34</p>\n<p>A problem occurred configuring project ':app'.</p>\n<blockquote>\n<p>com.android.build.gradle.internal.dsl.AgpDslLockedException: It is too late to add new build types\nThey have already been used to configure this project.\nConsider moving this call to finalizeDsl or during evaluation.</p>\n</blockquote>\n<p>I cannot find out what i have to change to give the apk-file a new filename.\nEverything i found is for older gradle versions where my build.gradle is working.\nIs there a tutorial or howto that helps me to solve the problem.</p>\n<pre><code>apply plugin: 'com.android.application'\n\nandroid {\n\n    compileSdkVersion 32\n\n    defaultConfig {\n        applicationId &quot;...&quot;\n        minSdkVersion 19\n        targetSdkVersion 32\n        versionCode 1205\n        versionName '1.2.05'\n        testInstrumentationRunner 'androidx.test.runner.AndroidJUnitRunner'\n    }\n\n    signingConfigs {\n        config {\n            keyAlias 'alias'\n            keyPassword 'pass'\n            storeFile file(mykeystore.jks')\n            storePassword '12345'\n        }\n    }\n\n    buildTypes {\n        release {\n            shrinkResources true\n            minifyEnabled true\n            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n            applicationVariants.all { variant -&gt;\n                variant.outputs.all { output -&gt;\n                    project.ext { appName = 'myAppname' }\n                    def formattedDate = new Date().format('yyyyMMdd_HHmmss')\n                    // NEXT IST LINE 34 where the ERROR points to\n                    def newName = &quot;${globalScope.project.name}-${output.baseName-${variant.versionName}}.apk&quot;\n                    newName = newName.replace(&quot;app-&quot;, &quot;$project.ext.appName-&quot;) \n                    newName = newName.replace(&quot;-release&quot;, &quot;-release-&quot; + formattedDate + &quot;_&quot; + versionName.replace(&quot;.&quot;,&quot;&quot;))\n                    outputFileName  = new File(&quot;../../../../release/&quot; + newName)\n                }\n            }\n            signingConfig signingConfigs.config\n            zipAlignEnabled true\n            pseudoLocalesEnabled true\n        }\n\n        debug {\n            minifyEnabled false\n            //useProguard false\n            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n            zipAlignEnabled true\n            pseudoLocalesEnabled true\n            debuggable true\n            signingConfig signingConfigs.config\n        }\n    }\n    productFlavors {\n    }\n}\n</code></pre>\n"},{"tags":["java","enums","getgauge"],"comments":[{"owner":{"account_id":2818342,"reputation":299906,"user_id":2422776,"display_name":"Mureinik"},"score":2,"creation_date":1483648117,"post_id":41494056,"comment_id":70194192,"body_markdown":"The requirement isn&#39;t quite clear (at least to me). Could you share some pseudo-code of what you&#39;d like to achieve here?","body":"The requirement isn&#39;t quite clear (at least to me). Could you share some pseudo-code of what you&#39;d like to achieve here?"},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":1,"creation_date":1483648492,"post_id":41494056,"comment_id":70194395,"body_markdown":"You can do something like this: `enum E { A, B; static final E C = A, D = B; }`. Or you can use string aliases and a map lookup.","body":"You can do something like this: <code>enum E { A, B; static final E C = A, D = B; }</code>. Or you can use string aliases and a map lookup."},{"owner":{"account_id":2815031,"reputation":240,"user_id":2420354,"display_name":"Boaz Berman"},"score":0,"creation_date":1483648633,"post_id":41494056,"comment_id":70194473,"body_markdown":"@Mureinik Well gauge is meant to allow creating a running specifications writen in natural language. \nAs such I would like to allow: &#39;in page &quot;home&quot; do stuff&#39;. That will be mapped to a method whose signature is:\n@Step(&quot;in page &lt;page&gt; do stuff&quot;)\npublic void doStuffInPage(Page page)\n\nBut in my use case I need the page to be in Hebrew. Therefor I need an alias for the enum.","body":"@Mureinik Well gauge is meant to allow creating a running specifications writen in natural language.  As such I would like to allow: &#39;in page &quot;home&quot; do stuff&#39;. That will be mapped to a method whose signature is: @Step(&quot;in page &lt;page&gt; do stuff&quot;) public void doStuffInPage(Page page)  But in my use case I need the page to be in Hebrew. Therefor I need an alias for the enum."},{"owner":{"account_id":2815031,"reputation":240,"user_id":2420354,"display_name":"Boaz Berman"},"score":0,"creation_date":1483648689,"post_id":41494056,"comment_id":70194504,"body_markdown":"@shmosel Well I cant because you can only use English letters for that, and I need Hebrew letters.","body":"@shmosel Well I cant because you can only use English letters for that, and I need Hebrew letters."},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1483648809,"post_id":41494056,"comment_id":70194564,"body_markdown":"You should be able to use Hebrew for either of my suggestions.","body":"You should be able to use Hebrew for either of my suggestions."},{"owner":{"account_id":2815031,"reputation":240,"user_id":2420354,"display_name":"Boaz Berman"},"score":0,"creation_date":1483649421,"post_id":41494056,"comment_id":70194911,"body_markdown":"@shmosel The thing is that I need a generic solution that will allow me to lookup an enum instance by its name or alias. At the moment the lookup is made by Enum.valueOf(E.class, &quot;A&quot;), which in neither of your suggestions would work.","body":"@shmosel The thing is that I need a generic solution that will allow me to lookup an enum instance by its name or alias. At the moment the lookup is made by Enum.valueOf(E.class, &quot;A&quot;), which in neither of your suggestions would work."},{"owner":{"account_id":2211999,"reputation":9954,"user_id":1953590,"accept_rate":74,"display_name":"Kevin Krumwiede"},"score":0,"creation_date":1483649440,"post_id":41494056,"comment_id":70194926,"body_markdown":"[Java identifiers can contain non-English characters.](http://stackoverflow.com/questions/1422655/java-unicode-variable-names)","body":"<a href=\"http://stackoverflow.com/questions/1422655/java-unicode-variable-names\">Java identifiers can contain non-English characters.</a>"},{"owner":{"account_id":2815031,"reputation":240,"user_id":2420354,"display_name":"Boaz Berman"},"score":0,"creation_date":1483649601,"post_id":41494056,"comment_id":70195014,"body_markdown":"@KevinKrumwiede I was wrong, this is not the problem with this solution. Check my last comment.","body":"@KevinKrumwiede I was wrong, this is not the problem with this solution. Check my last comment."}],"answers":[{"comments":[{"owner":{"account_id":2815031,"reputation":240,"user_id":2420354,"display_name":"Boaz Berman"},"score":0,"creation_date":1483649926,"post_id":41494405,"comment_id":70195172,"body_markdown":"Yep, but comming from the framework side I would like to save users the need to do it. I would like to create a solution that would allow this ability without then need to write that boilerplate code.","body":"Yep, but comming from the framework side I would like to save users the need to do it. I would like to create a solution that would allow this ability without then need to write that boilerplate code."},{"owner":{"account_id":2962536,"reputation":2218,"user_id":7330729,"display_name":"Dmitry Gorkovets"},"score":0,"creation_date":1483650018,"post_id":41494405,"comment_id":70195218,"body_markdown":"I don&#39;t see the whole picture but in this case you can move aliases to property file and map Herbew variant with actual enum value there.","body":"I don&#39;t see the whole picture but in this case you can move aliases to property file and map Herbew variant with actual enum value there."},{"owner":{"account_id":2815031,"reputation":240,"user_id":2420354,"display_name":"Boaz Berman"},"score":0,"creation_date":1483650210,"post_id":41494405,"comment_id":70195309,"body_markdown":"Yep, but that is not an elegant solution I would expect from a framework. I would like a solution where the user of the framework (a developer) would need to write as less code (files such as property file are even worse) as possible to get that functionality.","body":"Yep, but that is not an elegant solution I would expect from a framework. I would like a solution where the user of the framework (a developer) would need to write as less code (files such as property file are even worse) as possible to get that functionality."}],"tags":[],"owner":{"account_id":2962536,"reputation":2218,"user_id":7330729,"display_name":"Dmitry Gorkovets"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1697668861,"creation_date":1483649193,"answer_id":41494405,"question_id":41494056,"body_markdown":"Since enum values are not good for specification by means of readability then you want to replace them with readable words. According to [documentation][1] you can pass enum as step parameter but in your case you can pass string as you want and then in the step method just to create enum from string using Factory class:\r\n\r\n    public class MyEnumUtil {\r\n    \r\n        private MyEnumUtil() {}\r\n    \r\n        public static MyEnum fromHebrew(String stringValue) {\r\n            switch (stringValue) {\r\n                case &quot;צָפוֹן,&quot;: return MyEnum.NORTH;\r\n                case &quot;מזרח,&quot;: return MyEnum.EAST;\r\n                case &quot; מַעֲרָב,&quot;: return MyEnum.WEST;\r\n                case &quot;&#160; דָרוֹם&quot;: return MyEnum.SOUTH;\r\n                default: return null;\r\n            }\r\n        }\r\n    }\r\n\r\nThen your step will be (of course in Hebrew)\r\n\r\n    @Step(&quot;Navigate towards &lt;directionString&gt;&quot;)\r\n    public void navigate(String directionString) {\r\n        MyEnum direction = MyEnumUtil.fromHebrew(directionString);\r\n        // use enum\r\n    }\r\n\r\n  [1]: http://getgauge.io/documentation/user/current/language_features/enum_parameters.html\r\n\r\n","title":"Add alias to an enum in java","body":"<p>Since enum values are not good for specification by means of readability then you want to replace them with readable words. According to <a href=\"http://getgauge.io/documentation/user/current/language_features/enum_parameters.html\" rel=\"nofollow noreferrer\">documentation</a> you can pass enum as step parameter but in your case you can pass string as you want and then in the step method just to create enum from string using Factory class:</p>\n<pre><code>public class MyEnumUtil {\n\n    private MyEnumUtil() {}\n\n    public static MyEnum fromHebrew(String stringValue) {\n        switch (stringValue) {\n            case &quot;צָפוֹן,&quot;: return MyEnum.NORTH;\n            case &quot;מזרח,&quot;: return MyEnum.EAST;\n            case &quot; מַעֲרָב,&quot;: return MyEnum.WEST;\n            case &quot;  דָרוֹם&quot;: return MyEnum.SOUTH;\n            default: return null;\n        }\n    }\n}\n</code></pre>\n<p>Then your step will be (of course in Hebrew)</p>\n<pre><code>@Step(&quot;Navigate towards &lt;directionString&gt;&quot;)\npublic void navigate(String directionString) {\n    MyEnum direction = MyEnumUtil.fromHebrew(directionString);\n    // use enum\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2815031,"reputation":240,"user_id":2420354,"display_name":"Boaz Berman"},"score":0,"creation_date":1483650462,"post_id":41494692,"comment_id":70195441,"body_markdown":"Yes, I&#39;m aware of that, but I need a solution that will fit any Enum. Static methods are not a solution that would fit multiple Enums at once.","body":"Yes, I&#39;m aware of that, but I need a solution that will fit any Enum. Static methods are not a solution that would fit multiple Enums at once."},{"owner":{"account_id":2211999,"reputation":9954,"user_id":1953590,"accept_rate":74,"display_name":"Kevin Krumwiede"},"score":0,"creation_date":1483650597,"post_id":41494692,"comment_id":70195534,"body_markdown":"@BoazBerman Mapping aliases to multiple enum types would seem to defeat the purpose of the strong typing provided by enums.","body":"@BoazBerman Mapping aliases to multiple enum types would seem to defeat the purpose of the strong typing provided by enums."},{"owner":{"account_id":2211999,"reputation":9954,"user_id":1953590,"accept_rate":74,"display_name":"Kevin Krumwiede"},"score":0,"creation_date":1483650751,"post_id":41494692,"comment_id":70195602,"body_markdown":"Enums can also implement interfaces, so you could have several that implement the same interface, and put the alias map in some utility class.","body":"Enums can also implement interfaces, so you could have several that implement the same interface, and put the alias map in some utility class."},{"owner":{"account_id":2815031,"reputation":240,"user_id":2420354,"display_name":"Boaz Berman"},"score":0,"creation_date":1483650811,"post_id":41494692,"comment_id":70195625,"body_markdown":"Why? In gauge I would like to enable the QA that is writing the specification to use as natural language as possible, and as the developer which is implementing the steps I would like to avoid handling multiple variations of the same thing. If enum is not the solution, then what is?","body":"Why? In gauge I would like to enable the QA that is writing the specification to use as natural language as possible, and as the developer which is implementing the steps I would like to avoid handling multiple variations of the same thing. If enum is not the solution, then what is?"},{"owner":{"account_id":2815031,"reputation":240,"user_id":2420354,"display_name":"Boaz Berman"},"score":0,"creation_date":1483651007,"post_id":41494692,"comment_id":70195734,"body_markdown":"I&#39;ve thought of the use of an Interface, but I&#39;ve came to seek wisdom as for what would be best. Any specific suggestion on how to do it the best way possible? I would love to see some code...","body":"I&#39;ve thought of the use of an Interface, but I&#39;ve came to seek wisdom as for what would be best. Any specific suggestion on how to do it the best way possible? I would love to see some code..."}],"tags":[],"owner":{"account_id":2211999,"reputation":9954,"user_id":1953590,"accept_rate":74,"display_name":"Kevin Krumwiede"},"comment_count":5,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1483650339,"creation_date":1483650339,"answer_id":41494692,"question_id":41494056,"body_markdown":"Enums can contain static and instance fields and have constructors like any other class:\r\n\r\n    enum Foo {\r\n        A(&quot;alias1&quot;, &quot;alias2&quot;),\r\n        B(&quot;alias3&quot;);\r\n    \r\n        private static final Map&lt;String, Foo&gt; gAliases = new HashMap&lt;&gt;();\r\n    \r\n        private Foo(String... aliases) {\r\n            for(final String alias : aliases) {\r\n                gAliases.put(alias, this);\r\n            }\r\n        }\r\n    \r\n        public static Foo forAlias(String alias) {\r\n            return gAliases.get(alias);\r\n        }\r\n    }\r\n\r\nYou could also omit the constructor and populate the alias map in a static initializer.  But I like how the constructor makes it easy to read and maintain which aliases correspond to which constants.","title":"Add alias to an enum in java","body":"<p>Enums can contain static and instance fields and have constructors like any other class:</p>\n\n<pre><code>enum Foo {\n    A(\"alias1\", \"alias2\"),\n    B(\"alias3\");\n\n    private static final Map&lt;String, Foo&gt; gAliases = new HashMap&lt;&gt;();\n\n    private Foo(String... aliases) {\n        for(final String alias : aliases) {\n            gAliases.put(alias, this);\n        }\n    }\n\n    public static Foo forAlias(String alias) {\n        return gAliases.get(alias);\n    }\n}\n</code></pre>\n\n<p>You could also omit the constructor and populate the alias map in a static initializer.  But I like how the constructor makes it easy to read and maintain which aliases correspond to which constants.</p>\n"}],"owner":{"account_id":2815031,"reputation":240,"user_id":2420354,"display_name":"Boaz Berman"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6473,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"closed_date":1483663211,"answer_count":2,"score":1,"last_activity_date":1697668861,"creation_date":1483647951,"question_id":41494056,"body_markdown":"I have a use case where I would like to access an enum instance with an alias of that enum.\r\n\r\nThe reason that I would like to access the enum instance with an alias is to allow accessing a value of an enum with non English characters (my specific use case is Hebrew).\r\n\r\nThe thing is that this is part of a framework and I need to be able to add multiple aliases to any given enum. It is needed to allow more natural language, as for the alias given would be used as part of a specification ([gauge-java][1]).\r\n\r\nAny suggestions on how to do it properly?\r\n\r\n**EDIT:**\r\nI&#39;m adding an example:\r\n\r\n&gt; Go to &quot;בית&quot;\r\n\r\nthis is a step that would be mapped to a method:\r\n\r\n    @Step(&quot;Go to &lt;page&gt;&quot;)\r\n    public void goToPage(Page page) {...}\r\n\r\n\r\n  [1]: https://github.com/getgauge/gauge-java","title":"Add alias to an enum in java","body":"<p>I have a use case where I would like to access an enum instance with an alias of that enum.</p>\n\n<p>The reason that I would like to access the enum instance with an alias is to allow accessing a value of an enum with non English characters (my specific use case is Hebrew).</p>\n\n<p>The thing is that this is part of a framework and I need to be able to add multiple aliases to any given enum. It is needed to allow more natural language, as for the alias given would be used as part of a specification (<a href=\"https://github.com/getgauge/gauge-java\" rel=\"nofollow noreferrer\">gauge-java</a>).</p>\n\n<p>Any suggestions on how to do it properly?</p>\n\n<p><strong>EDIT:</strong>\nI'm adding an example:</p>\n\n<blockquote>\n  <p>Go to \"בית\"</p>\n</blockquote>\n\n<p>this is a step that would be mapped to a method:</p>\n\n<pre><code>@Step(\"Go to &lt;page&gt;\")\npublic void goToPage(Page page) {...}\n</code></pre>\n"},{"tags":["java","android","android-studio","android-alertdialog"],"comments":[{"owner":{"account_id":16696756,"reputation":1241,"user_id":12737399,"display_name":"Atick Faisal"},"score":0,"creation_date":1611553286,"post_id":65879469,"comment_id":116479000,"body_markdown":"Along with the background color, use android:alpha between 0 and 1 to get the preferred transparency","body":"Along with the background color, use android:alpha between 0 and 1 to get the preferred transparency"},{"owner":{"account_id":18074528,"reputation":73,"user_id":13138213,"display_name":"MHmansouri"},"score":0,"creation_date":1611553965,"post_id":65879469,"comment_id":116479128,"body_markdown":"no my friend its not working","body":"no my friend its not working"},{"owner":{"account_id":16696756,"reputation":1241,"user_id":12737399,"display_name":"Atick Faisal"},"score":0,"creation_date":1611554103,"post_id":65879469,"comment_id":116479155,"body_markdown":"cardview is white by default. Add alpha to the cardview also. Let me know if that works.","body":"cardview is white by default. Add alpha to the cardview also. Let me know if that works."},{"owner":{"account_id":18074528,"reputation":73,"user_id":13138213,"display_name":"MHmansouri"},"score":0,"creation_date":1611554554,"post_id":65879469,"comment_id":116479227,"body_markdown":"see photo this my problem and not changing by alpha @AtickFaisal","body":"see photo this my problem and not changing by alpha @AtickFaisal"}],"answers":[{"comments":[{"owner":{"account_id":18074528,"reputation":73,"user_id":13138213,"display_name":"MHmansouri"},"score":0,"creation_date":1611570110,"post_id":65879830,"comment_id":116484994,"body_markdown":"no solve my friend can you see the first line of alert codes, can problem related to &quot;null&quot; in this and i should to change?","body":"no solve my friend can you see the first line of alert codes, can problem related to &quot;null&quot; in this and i should to change?"}],"tags":[],"owner":{"account_id":13654747,"reputation":38532,"user_id":9851608,"display_name":"Zain"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1611555530,"creation_date":1611555530,"answer_id":65879830,"question_id":65879469,"body_markdown":"You can change the background color of alert dialog to be transparent with:\r\n\r\n    alertDialog.getWindow().getDecorView().setBackgroundResource(android.R.color.transparent);\r\n","title":"custom alert dialog background color","body":"<p>You can change the background color of alert dialog to be transparent with:</p>\n<pre><code>alertDialog.getWindow().getDecorView().setBackgroundResource(android.R.color.transparent);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":17317295,"reputation":160,"user_id":12543430,"display_name":"D_K"},"score":0,"creation_date":1611570967,"post_id":65879886,"comment_id":116485360,"body_markdown":"exactly what do you want?? you want to hide or dismiss the dialog ?? or something else why do you change its color to transparent it almost like hiding dialog box you want like this??","body":"exactly what do you want?? you want to hide or dismiss the dialog ?? or something else why do you change its color to transparent it almost like hiding dialog box you want like this??"},{"owner":{"account_id":18074528,"reputation":73,"user_id":13138213,"display_name":"MHmansouri"},"score":0,"creation_date":1611571815,"post_id":65879886,"comment_id":116485703,"body_markdown":"yeah i want to hide background and show only progressbar","body":"yeah i want to hide background and show only progressbar"},{"owner":{"account_id":17317295,"reputation":160,"user_id":12543430,"display_name":"D_K"},"score":0,"creation_date":1611572026,"post_id":65879886,"comment_id":116485800,"body_markdown":"i dont think that will work if you gone the visibility of cardview. you should try ProgressBar  refer this video to understand https://youtu.be/YsHHXg1vbcc","body":"i dont think that will work if you gone the visibility of cardview. you should try ProgressBar  refer this video to understand <a href=\"https://youtu.be/YsHHXg1vbcc\" rel=\"nofollow noreferrer\">youtu.be/YsHHXg1vbcc</a>"}],"tags":[],"owner":{"account_id":17317295,"reputation":160,"user_id":12543430,"display_name":"D_K"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1611572620,"creation_date":1611555954,"answer_id":65879886,"question_id":65879469,"body_markdown":"see you can create xml file for progressBar like this:\r\n\r\n  \r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;RelativeLayout\r\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    android:id=&quot;@+id/relativeLayoutProgressBar&quot;\r\n    android:visibility=&quot;gone&quot;\r\n    android:elevation=&quot;8dp&quot;\r\n    &gt;\r\n\r\n    &lt;ProgressBar\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;50dp&quot;\r\n        style=&quot;?android:attr/progressBarStyle&quot;\r\n        android:indeterminate=&quot;true&quot;\r\n        android:layout_centerInParent=&quot;true&quot;\r\n        android:theme=&quot;@style/RedAccent&quot;\r\n        android:elevation=&quot;5dp&quot;\r\n        /&gt;\r\n\r\n    &lt;View\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:background=&quot;#CCFFFFFF&quot;\r\n        android:elevation=&quot;4dp&quot;\r\n        /&gt;\r\n\r\n    &lt;/RelativeLayout&gt;\r\n\r\nAnd include this layout line in xml file where you want this progressbar like this:\r\n\r\n    &lt;include layout=&quot;progressbar&quot; /&gt;\r\n\r\nand access like this:\r\n\r\n    RelativeLayout layout = findViewById(R.id.relativeLayoutProgressBar);\r\n    layout.setVisibility(View.GONE);","title":"custom alert dialog background color","body":"<p>see you can create xml file for progressBar like this:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;RelativeLayout\nxmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\nandroid:layout_width=&quot;match_parent&quot;\nandroid:layout_height=&quot;match_parent&quot;\nandroid:id=&quot;@+id/relativeLayoutProgressBar&quot;\nandroid:visibility=&quot;gone&quot;\nandroid:elevation=&quot;8dp&quot;\n&gt;\n\n&lt;ProgressBar\n    android:layout_width=&quot;wrap_content&quot;\n    android:layout_height=&quot;50dp&quot;\n    style=&quot;?android:attr/progressBarStyle&quot;\n    android:indeterminate=&quot;true&quot;\n    android:layout_centerInParent=&quot;true&quot;\n    android:theme=&quot;@style/RedAccent&quot;\n    android:elevation=&quot;5dp&quot;\n    /&gt;\n\n&lt;View\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:background=&quot;#CCFFFFFF&quot;\n    android:elevation=&quot;4dp&quot;\n    /&gt;\n\n&lt;/RelativeLayout&gt;\n</code></pre>\n<p>And include this layout line in xml file where you want this progressbar like this:</p>\n<pre><code>&lt;include layout=&quot;progressbar&quot; /&gt;\n</code></pre>\n<p>and access like this:</p>\n<pre><code>RelativeLayout layout = findViewById(R.id.relativeLayoutProgressBar);\nlayout.setVisibility(View.GONE);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":18074528,"reputation":73,"user_id":13138213,"display_name":"MHmansouri"},"score":0,"creation_date":1611569975,"post_id":65879898,"comment_id":116484925,"body_markdown":"no i write your code but still with white background","body":"no i write your code but still with white background"},{"owner":{"account_id":17735557,"reputation":337,"user_id":12877007,"display_name":"Mubashir Murtaza"},"score":0,"creation_date":1611575108,"post_id":65879898,"comment_id":116487120,"body_markdown":"It works for me, i think you also have to set the parent layout to transparent in xml! \nthis is one of the simplest sol i knew, try to set transparent background of parent view in xml and than use this line. It will work , thats how i did it.","body":"It works for me, i think you also have to set the parent layout to transparent in xml!  this is one of the simplest sol i knew, try to set transparent background of parent view in xml and than use this line. It will work , thats how i did it."}],"tags":[],"owner":{"account_id":17735557,"reputation":337,"user_id":12877007,"display_name":"Mubashir Murtaza"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1611635950,"creation_date":1611556021,"answer_id":65879898,"question_id":65879469,"body_markdown":"Try this,\r\n\r\n\r\n    final AlertDialog alertDialog = dialogBuilder.create();\r\n    alertDialog.getWindow().setBackgroundDrawable(new \r\n                                                  ColorDrawable(Color.TRANSPARENT));\r\n    alertDialog.show();","title":"custom alert dialog background color","body":"<p>Try this,</p>\n<pre><code>final AlertDialog alertDialog = dialogBuilder.create();\nalertDialog.getWindow().setBackgroundDrawable(new \n                                              ColorDrawable(Color.TRANSPARENT));\nalertDialog.show();\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1860500,"reputation":874,"user_id":1685165,"accept_rate":75,"display_name":"Dark"},"score":0,"creation_date":1637232251,"post_id":65883302,"comment_id":123773334,"body_markdown":"for me this was also needed: \ndialog.getWindow().setDimAmount(0.0f);","body":"for me this was also needed:  dialog.getWindow().setDimAmount(0.0f);"}],"tags":[],"owner":{"account_id":19777268,"reputation":111,"user_id":14482950,"display_name":"Shashank"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1611571950,"creation_date":1611571950,"answer_id":65883302,"question_id":65879469,"body_markdown":"try to set dialog theme like this in styles.xml\r\n\r\n    &lt;style name=&quot;dialogTheme&quot; parent=&quot;android:Theme.Holo.Dialog&quot;&gt;\r\n        &lt;item name=&quot;android:windowMinWidthMajor&quot;&gt;90%&lt;/item&gt;\r\n        &lt;item name=&quot;android:windowMinWidthMinor&quot;&gt;90%&lt;/item&gt;\r\n    &lt;/style&gt;\r\n\r\njava code\r\n\r\n    Dialog dialog = new Dialog(activity, R.style.dialogTheme);\r\n    dialog.requestWindowFeature(Window.FEATURE_NO_TITLE);\r\n    dialog.setContentView(R.layout.your_dialog_layout);\r\n    activity.getWindow().setLayout(LinearLayout.LayoutParams.MATCH_PARENT, LinearLayout.LayoutParams.MATCH_PARENT);\r\n    \r\n    dialog.getWindow().setBackgroundDrawable(new ColorDrawable(Color.TRANSPARENT));","title":"custom alert dialog background color","body":"<p>try to set dialog theme like this in styles.xml</p>\n<pre><code>&lt;style name=&quot;dialogTheme&quot; parent=&quot;android:Theme.Holo.Dialog&quot;&gt;\n    &lt;item name=&quot;android:windowMinWidthMajor&quot;&gt;90%&lt;/item&gt;\n    &lt;item name=&quot;android:windowMinWidthMinor&quot;&gt;90%&lt;/item&gt;\n&lt;/style&gt;\n</code></pre>\n<p>java code</p>\n<pre><code>Dialog dialog = new Dialog(activity, R.style.dialogTheme);\ndialog.requestWindowFeature(Window.FEATURE_NO_TITLE);\ndialog.setContentView(R.layout.your_dialog_layout);\nactivity.getWindow().setLayout(LinearLayout.LayoutParams.MATCH_PARENT, LinearLayout.LayoutParams.MATCH_PARENT);\n\ndialog.getWindow().setBackgroundDrawable(new ColorDrawable(Color.TRANSPARENT));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19317690,"reputation":41,"user_id":14122062,"display_name":"Nebrass wahaib"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697668511,"creation_date":1697668511,"answer_id":77319980,"question_id":65879469,"body_markdown":"For me, I tried all the ways, but what worked for me was to delete AlertDialog and replace it with Dialog\r\n\r\nand just do this\r\n\r\n            dialog.getWindow().setBackgroundDrawable(null);","title":"custom alert dialog background color","body":"<p>For me, I tried all the ways, but what worked for me was to delete AlertDialog and replace it with Dialog</p>\n<p>and just do this</p>\n<pre><code>        dialog.getWindow().setBackgroundDrawable(null);\n</code></pre>\n"}],"owner":{"account_id":18074528,"reputation":73,"user_id":13138213,"display_name":"MHmansouri"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1198,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":65883302,"answer_count":5,"score":0,"last_activity_date":1697668511,"creation_date":1611552876,"question_id":65879469,"body_markdown":"i need a custom alert dialog for show progress. when i run it the alert dialog background color not change to transparent...\r\nbelow i put my code in xml layout and alert dialog code\r\n\r\nxml layout :\r\n\r\n    &lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    android:orientation=&quot;vertical&quot;\r\n    android:background=&quot;@android:color/transparent&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:gravity=&quot;center&quot;\r\n    android:layout_height=&quot;match_parent&quot;&gt;\r\n\r\n    &lt;androidx.cardview.widget.CardView\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        app:cardElevation=&quot;10dp&quot;\r\n        app:cardCornerRadius=&quot;100dp&quot;&gt;\r\n\r\n            &lt;ProgressBar\r\n                android:id=&quot;@+id/progressBar&quot;\r\n                style=&quot;@style/Widget.AppCompat.ProgressBar&quot;\r\n                android:layout_width=&quot;30dp&quot;\r\n                android:layout_margin=&quot;5dp&quot;\r\n                android:layout_height=&quot;30dp&quot; /&gt;\r\n\r\n    &lt;/androidx.cardview.widget.CardView&gt;\r\n    \r\n&lt;/LinearLayout&gt;\r\n\r\nand this is my code in fragment :\r\n\r\n                    View progress = getLayoutInflater().inflate(R.layout.progress_alert, null);\r\n                AlertDialog.Builder builder = new AlertDialog.Builder(getContext());\r\n                builder.setCancelable(false);\r\n                builder.setView(progress);\r\n                alertDialog = builder.create();\r\n                alertDialog.show();\r\n\r\n","title":"custom alert dialog background color","body":"<p>i need a custom alert dialog for show progress. when i run it the alert dialog background color not change to transparent...\nbelow i put my code in xml layout and alert dialog code</p>\n<p>xml layout :</p>\n<pre><code>&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\nxmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\nandroid:orientation=&quot;vertical&quot;\nandroid:background=&quot;@android:color/transparent&quot;\nandroid:layout_width=&quot;match_parent&quot;\nandroid:gravity=&quot;center&quot;\nandroid:layout_height=&quot;match_parent&quot;&gt;\n\n&lt;androidx.cardview.widget.CardView\n    android:layout_width=&quot;wrap_content&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    app:cardElevation=&quot;10dp&quot;\n    app:cardCornerRadius=&quot;100dp&quot;&gt;\n\n        &lt;ProgressBar\n            android:id=&quot;@+id/progressBar&quot;\n            style=&quot;@style/Widget.AppCompat.ProgressBar&quot;\n            android:layout_width=&quot;30dp&quot;\n            android:layout_margin=&quot;5dp&quot;\n            android:layout_height=&quot;30dp&quot; /&gt;\n\n&lt;/androidx.cardview.widget.CardView&gt;\n</code></pre>\n\n<p>and this is my code in fragment :</p>\n<pre><code>                View progress = getLayoutInflater().inflate(R.layout.progress_alert, null);\n            AlertDialog.Builder builder = new AlertDialog.Builder(getContext());\n            builder.setCancelable(false);\n            builder.setView(progress);\n            alertDialog = builder.create();\n            alertDialog.show();\n</code></pre>\n"},{"tags":["java","arrays","integer","char"],"comments":[{"owner":{"account_id":1580843,"reputation":13479,"user_id":1466267,"accept_rate":91,"display_name":"SpaceTrucker"},"score":2,"creation_date":1697638365,"post_id":77317106,"comment_id":136305324,"body_markdown":"What code do you use to print each of the arrays?","body":"What code do you use to print each of the arrays?"},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":7,"creation_date":1697638593,"post_id":77317106,"comment_id":136305392,"body_markdown":"FYI, please define arrays as `int[] mane` and `char[] jane`. The syntax you use is supported, but generally not the recommended syntax. In any case, you&#39;re probably using `System.out.println`, and a `PrintStream` has a [specific overload for `char[]`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/PrintStream.html#println(char[])), and not for `int[]`, which will use the `println(Object)` version, which means it uses the default `toString`, because arrays do not have a custom `toString` method.","body":"FYI, please define arrays as <code>int[] mane</code> and <code>char[] jane</code>. The syntax you use is supported, but generally not the recommended syntax. In any case, you&#39;re probably using <code>System.out.println</code>, and a <code>PrintStream</code> has a <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/PrintStream.html#println(char%5B%5D)\" rel=\"nofollow noreferrer\">specific overload for <code>char[]</code></a>, and not for <code>int[]</code>, which will use the <code>println(Object)</code> version, which means it uses the default <code>toString</code>, because arrays do not have a custom <code>toString</code> method."},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1697638625,"post_id":77317106,"comment_id":136305398,"body_markdown":"Duplicate of: [What&#39;s the simplest way to print a Java array?](https://stackoverflow.com/questions/409784/whats-the-simplest-way-to-print-a-java-array)","body":"Duplicate of: <a href=\"https://stackoverflow.com/questions/409784/whats-the-simplest-way-to-print-a-java-array\">What&#39;s the simplest way to print a Java array?</a>"},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1697638778,"post_id":77317106,"comment_id":136305428,"body_markdown":"BTW: The output is not &quot;gibberish&quot;, it is the class name (`[I` for `int[]`) followed by `@` followed by the hexadecimal value of the 32-bit identity hashcode of the array (e.g. `5b37e0d2`)","body":"BTW: The output is not &quot;gibberish&quot;, it is the class name (<code>[I</code> for <code>int[]</code>) followed by <code>@</code> followed by the hexadecimal value of the 32-bit identity hashcode of the array (e.g. <code>5b37e0d2</code>)"}],"answers":[{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697667382,"creation_date":1697666599,"answer_id":77319867,"question_id":77317106,"body_markdown":"&gt; _&quot;... I&#39;m expecting an explanation of what is happening with the char array and the integer array.&quot;_\r\n\r\nThe _println_ method is _[over-loaded](https://docs.oracle.com/javase/tutorial/java/javaOO/methods.html)_.\r\n\r\nThis means that the _int_ _array_ is using a different method than the _char_ _array_.\r\n\r\nFor an _Object_, the _int_ _array_, the _[String#valueOf](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/String.html#valueOf(java.lang.Object))_ method is called.\r\n\r\n- _[PrintStream (Java SE 20 &amp;amp; JDK 20) &amp;ndash; println(Object x)](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/io/PrintStream.html#println(java.lang.Object))_\r\n- _[GitHub &amp;ndash; OpenJDK &amp;ndash; java/io/PrintStream#println(Object)](https://github.com/openjdk/jdk/blob/master/src/java.base/share/classes/java/io/PrintStream.java#L1186)_\r\n  - _[GitHub &amp;ndash; OpenJDK &amp;ndash; java/lang/String#valueOf(Object)](https://github.com/openjdk/jdk/blob/master/src/java.base/share/classes/java/lang/String.java#L4481)_\r\n\r\nAnd, for the _char_ _array_, a _[Writer#write](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/io/Writer.html#write(char[]))_ method is used, to print the values.\r\n\r\n- _[PrintStream (Java SE 20 &amp;amp; JDK 20) &amp;ndash; println(char[] x)](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/io/PrintStream.html#println(char%5B%5D))_\r\n- _[GitHub &amp;ndash; OpenJDK &amp;ndash; java/io/PrintStream &amp;ndash; println(char[])](https://github.com/openjdk/jdk/blob/master/src/java.base/share/classes/java/io/PrintStream.java#L1148)_\r\n  - _[GitHub &amp;ndash; OpenJDK &amp;ndash; java/io/PrintStream &amp;ndash; implWriteln(char[])](https://github.com/openjdk/jdk/blob/master/src/java.base/share/classes/java/io/PrintStream.java#L775)_\r\n    - _[GitHub &amp;ndash; OpenJDK &amp;ndash; java/io/Writer#write(char[])](https://github.com/openjdk/jdk/blob/master/src/java.base/share/classes/java/io/Writer.java#L241)_\r\n\r\nTo print the _int_ _array_, use the _[Arrays#toString](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Arrays.html#toString(int[]))_ method.\r\n\r\n```java\r\nSystem.out.println(Arrays.toString(mane));\r\n```\r\n\r\nOutput\r\n\r\n```none\r\n[2, 5, 6, 7]\r\n```\r\n\r\nAlternately, use an _[Integer](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/Integer.html)_ _array_, and the _[List#of](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/List.html#of(E...))_ method.\r\n\r\n```java\r\nInteger mane[]={2,5,6,7};\r\nSystem.out.println(List.of(mane));\r\n```","title":"Char array is directly printing the contents of the array without requiring me to specify the index positions, it is great but how is this happening?","body":"<blockquote>\n<p><em>&quot;... I'm expecting an explanation of what is happening with the char array and the integer array.&quot;</em></p>\n</blockquote>\n<p>The <em>println</em> method is <em><a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/methods.html\" rel=\"nofollow noreferrer\">over-loaded</a></em>.</p>\n<p>This means that the <em>int</em> <em>array</em> is using a different method than the <em>char</em> <em>array</em>.</p>\n<p>For an <em>Object</em>, the <em>int</em> <em>array</em>, the <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/String.html#valueOf(java.lang.Object)\" rel=\"nofollow noreferrer\">String#valueOf</a></em> method is called.</p>\n<ul>\n<li><em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/io/PrintStream.html#println(java.lang.Object)\" rel=\"nofollow noreferrer\">PrintStream (Java SE 20 &amp; JDK 20) – println(Object x)</a></em></li>\n<li><em><a href=\"https://github.com/openjdk/jdk/blob/master/src/java.base/share/classes/java/io/PrintStream.java#L1186\" rel=\"nofollow noreferrer\">GitHub – OpenJDK – java/io/PrintStream#println(Object)</a></em>\n<ul>\n<li><em><a href=\"https://github.com/openjdk/jdk/blob/master/src/java.base/share/classes/java/lang/String.java#L4481\" rel=\"nofollow noreferrer\">GitHub – OpenJDK – java/lang/String#valueOf(Object)</a></em></li>\n</ul>\n</li>\n</ul>\n<p>And, for the <em>char</em> <em>array</em>, a <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/io/Writer.html#write(char%5B%5D)\" rel=\"nofollow noreferrer\">Writer#write</a></em> method is used, to print the values.</p>\n<ul>\n<li><em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/io/PrintStream.html#println(char%5B%5D)\" rel=\"nofollow noreferrer\">PrintStream (Java SE 20 &amp; JDK 20) – println(char[] x)</a></em></li>\n<li><em><a href=\"https://github.com/openjdk/jdk/blob/master/src/java.base/share/classes/java/io/PrintStream.java#L1148\" rel=\"nofollow noreferrer\">GitHub – OpenJDK – java/io/PrintStream – println(char[])</a></em>\n<ul>\n<li><em><a href=\"https://github.com/openjdk/jdk/blob/master/src/java.base/share/classes/java/io/PrintStream.java#L775\" rel=\"nofollow noreferrer\">GitHub – OpenJDK – java/io/PrintStream – implWriteln(char[])</a></em>\n<ul>\n<li><em><a href=\"https://github.com/openjdk/jdk/blob/master/src/java.base/share/classes/java/io/Writer.java#L241\" rel=\"nofollow noreferrer\">GitHub – OpenJDK – java/io/Writer#write(char[])</a></em></li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<p>To print the <em>int</em> <em>array</em>, use the <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Arrays.html#toString(int%5B%5D)\" rel=\"nofollow noreferrer\">Arrays#toString</a></em> method.</p>\n<pre class=\"lang-java prettyprint-override\"><code>System.out.println(Arrays.toString(mane));\n</code></pre>\n<p>Output</p>\n<pre class=\"lang-none prettyprint-override\"><code>[2, 5, 6, 7]\n</code></pre>\n<p>Alternately, use an <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/Integer.html\" rel=\"nofollow noreferrer\">Integer</a></em> <em>array</em>, and the <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/List.html#of(E...)\" rel=\"nofollow noreferrer\">List#of</a></em> method.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Integer mane[]={2,5,6,7};\nSystem.out.println(List.of(mane));\n</code></pre>\n"}],"owner":{"account_id":17354628,"reputation":3,"user_id":12572358,"display_name":"Swapnil Mishra"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1697667382,"creation_date":1697638134,"question_id":77317106,"body_markdown":"Char array is directly printing the contents of the array without requiring me to specify the index positions, it is great, but how is this happening? Can someone please explain me what&#39;s happening behind the scenes?\r\n\r\nHere is what I mean exactly:\r\n\r\n```\r\nint mane[]={2,5,6,7};\r\n\r\nchar jane[]={&#39;s&#39;,&#39;w&#39;,&#39;a&#39;,&#39;p&#39;};\r\n```\r\n\r\nIf we print the mane array directly it shows some gibberish value, but if we print the array jane[] it perfectly prints the array values without using the index positions of the array, how?\r\n\r\nI&#39;m expecting an explanation of what is happening with the char array and the integer array.","title":"Char array is directly printing the contents of the array without requiring me to specify the index positions, it is great but how is this happening?","body":"<p>Char array is directly printing the contents of the array without requiring me to specify the index positions, it is great, but how is this happening? Can someone please explain me what's happening behind the scenes?</p>\n<p>Here is what I mean exactly:</p>\n<pre><code>int mane[]={2,5,6,7};\n\nchar jane[]={'s','w','a','p'};\n</code></pre>\n<p>If we print the mane array directly it shows some gibberish value, but if we print the array jane[] it perfectly prints the array values without using the index positions of the array, how?</p>\n<p>I'm expecting an explanation of what is happening with the char array and the integer array.</p>\n"},{"tags":["java","google-cloud-dataflow","apache-beam"],"answers":[{"tags":[],"owner":{"account_id":17396682,"reputation":192,"user_id":12606298,"display_name":"Anish Sarangi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697449434,"creation_date":1697449434,"answer_id":77300918,"question_id":77280749,"body_markdown":"Can you check whats the version picked up on the dataflow console, seems like your pipeline is not importing the right Dataflow package or the Beam version. Also you can try using fat jar so that all required Classes of the concerned version is available. ","title":"Apache beam v2.50.0 NoClassDefFound - /MemoryMonitorOptions","body":"<p>Can you check whats the version picked up on the dataflow console, seems like your pipeline is not importing the right Dataflow package or the Beam version. Also you can try using fat jar so that all required Classes of the concerned version is available.</p>\n"},{"comments":[{"owner":{"account_id":2821266,"reputation":23,"user_id":2424974,"display_name":"Jaymik11"},"score":0,"creation_date":1698071166,"post_id":77319907,"comment_id":136355346,"body_markdown":"beamsdkio version was on old version and hence the issue.","body":"beamsdkio version was on old version and hence the issue."}],"tags":[],"owner":{"account_id":28814817,"reputation":143,"user_id":22068689,"display_name":"Mel"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1697667242,"creation_date":1697667242,"answer_id":77319907,"question_id":77280749,"body_markdown":"It appears that the class `MemoryMonitorOptions` has been [deprecated](https://beam.apache.org/releases/javadoc/2.50.0/index.html?deprecated-list.html) in version 2.50.0 hence the NoClassDefFound error. You will need to revisit your codes and update all lines referenced to the `MemoryMonitorOptions` class.\n\n\n\nAdding this [SDK version support status](https://cloud.google.com/dataflow/docs/support/sdk-version-support-status) document to keep you posted on other version deprecation schedules.\n\n   ","title":"Apache beam v2.50.0 NoClassDefFound - /MemoryMonitorOptions","body":"<p>It appears that the class <code>MemoryMonitorOptions</code> has been <a href=\"https://beam.apache.org/releases/javadoc/2.50.0/index.html?deprecated-list.html\" rel=\"nofollow noreferrer\">deprecated</a> in version 2.50.0 hence the NoClassDefFound error. You will need to revisit your codes and update all lines referenced to the <code>MemoryMonitorOptions</code> class.</p>\n<p>Adding this <a href=\"https://cloud.google.com/dataflow/docs/support/sdk-version-support-status\" rel=\"nofollow noreferrer\">SDK version support status</a> document to keep you posted on other version deprecation schedules.</p>\n"}],"owner":{"account_id":2821266,"reputation":23,"user_id":2424974,"display_name":"Jaymik11"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77319907,"answer_count":2,"score":0,"last_activity_date":1697667242,"creation_date":1697115070,"question_id":77280749,"body_markdown":"While updating the Apache Beam version from 2.46.0 to 2.50.0 for Java based Dataflow, the mvn package command runs successfully. However while executing the mvn compile:exec script - we are getting an error &quot;**java.lang.NoClassDefFoundError: org/apache/beam/sdk/options/MemoryMonitorOptions**&quot;\r\n\r\nNo updates in pom file except for the update in Apache beam version - \r\n[WARNING] \r\n2023-10-12T10:39:17.9662373Z java.lang.NoClassDefFoundError: org/apache/beam/sdk/options/MemoryMonitorOptions\r\n2023-10-12T10:39:17.9665631Z     at java.lang.ClassLoader.defineClass1 (Native Method)\r\n2023-10-12T10:39:17.9668538Z     at java.lang.ClassLoader.defineClass (ClassLoader.java:1022)\r\n2023-10-12T10:39:17.9670605Z     at java.security.SecureClassLoader.defineClass (SecureClassLoader.java:174)\r\n2023-10-12T10:39:17.9672586Z     at java.net.URLClassLoader.defineClass (URLClassLoader.java:555)\r\n2023-10-12T10:39:17.9674516Z     at java.net.URLClassLoader$1.run (URLClassLoader.java:458)\r\n2023-10-12T10:39:17.9676939Z     at java.net.URLClassLoader$1.run (URLClassLoader.java:452)\r\n2023-10-12T10:39:17.9678816Z     at java.security.AccessController.doPrivileged (Native Method)\r\n2023-10-12T10:39:17.9690248Z     at java.net.URLClassLoader.findClass (URLClassLoader.java:451)\r\n2023-10-12T10:39:17.9692252Z     at java.lang.ClassLoader.loadClass (ClassLoader.java:594)\r\n2023-10-12T10:39:17.9694175Z     at java.lang.ClassLoader.loadClass (ClassLoader.java:527)\r\n2023-10-12T10:39:17.9696026Z     at java.lang.ClassLoader.defineClass1 (Native Method)\r\n2023-10-12T10:39:17.9699991Z     at java.lang.ClassLoader.defineClass (ClassLoader.java:1022)\r\n2023-10-12T10:39:17.9704965Z     at java.security.SecureClassLoader.defineClass (SecureClassLoader.java:174)\r\n2023-10-12T10:39:17.9706908Z     at java.net.URLClassLoader.defineClass (URLClassLoader.java:555)\r\n2023-10-12T10:39:17.9708814Z     at java.net.URLClassLoader$1.run (URLClassLoader.java:458)\r\n2023-10-12T10:39:17.9710696Z     at java.net.URLClassLoader$1.run (URLClassLoader.java:452)\r\n2023-10-12T10:39:17.9712552Z     at java.security.AccessController.doPrivileged (Native Method)\r\n2023-10-12T10:39:17.9714469Z     at java.net.URLClassLoader.findClass (URLClassLoader.java:451)\r\n2023-10-12T10:39:17.9716698Z     at java.lang.ClassLoader.loadClass (ClassLoader.java:594)\r\n2023-10-12T10:39:17.9718622Z     at java.lang.ClassLoader.loadClass (ClassLoader.java:527)\r\n2023-10-12T10:39:17.9720635Z     at org.apache.beam.runners.dataflow.DataflowPipelineRegistrar$Options.getPipelineOptions (DataflowPipelineRegistrar.java:40)\r\n2023-10-12T10:39:17.9722611Z     at org.apache.beam.sdk.options.PipelineOptionsFactory$Cache.initializeRegistry (PipelineOptionsFactory.java:2090)\r\n2023-10-12T10:39:17.9724487Z     at org.apache.beam.sdk.options.PipelineOptionsFactory$Cache.&lt;init&gt; (PipelineOptionsFactory.java:2083)\r\n2023-10-12T10:39:17.9726421Z     at org.apache.beam.sdk.options.PipelineOptionsFactory$Cache.&lt;init&gt; (PipelineOptionsFactory.java:2047)\r\n2023-10-12T10:39:17.9728327Z     at org.apache.beam.sdk.options.PipelineOptionsFactory.resetCache (PipelineOptionsFactory.java:581)\r\n2023-10-12T10:39:17.9730230Z     at org.apache.beam.sdk.options.PipelineOptionsFactory.&lt;clinit&gt; (PipelineOptionsFactory.java:547)\r\n2023-10-12T10:39:17.9732113Z     at cio.mmt.PubSubTopicsToBigQuery.main (PubSubTopicsToBigQuery.java:55)\r\n2023-10-12T10:39:17.9734009Z     at org.codehaus.mojo.exec.ExecJavaMojo$1.run (ExecJavaMojo.java:254)\r\n2023-10-12T10:39:17.9743608Z     at java.lang.Thread.run (Thread.java:829)\r\n2023-10-12T10:39:17.9745720Z Caused by: java.lang.ClassNotFoundException: org.apache.beam.sdk.options.MemoryMonitorOptions\r\n2023-10-12T10:39:17.9748376Z     at java.net.URLClassLoader.findClass (URLClassLoader.java:476)\r\n2023-10-12T10:39:17.9750298Z     at java.lang.ClassLoader.loadClass (ClassLoader.java:594)\r\n2023-10-12T10:39:17.9752205Z     at java.lang.ClassLoader.loadClass (ClassLoader.java:527)\r\n2023-10-12T10:39:17.9754041Z     at java.lang.ClassLoader.defineClass1 (Native Method)\r\n2023-10-12T10:39:17.9756293Z     at java.lang.ClassLoader.defineClass (ClassLoader.java:1022)\r\n2023-10-12T10:39:17.9758225Z     at java.security.SecureClassLoader.defineClass (SecureClassLoader.java:174)\r\n2023-10-12T10:39:17.9760115Z     at java.net.URLClassLoader.defineClass (URLClassLoader.java:555)\r\n2023-10-12T10:39:17.9761982Z     at java.net.URLClassLoader$1.run (URLClassLoader.java:458)\r\n2023-10-12T10:39:17.9763915Z     at java.net.URLClassLoader$1.run (URLClassLoader.java:452)\r\n2023-10-12T10:39:17.9765721Z     at java.security.AccessController.doPrivileged (Native Method)\r\n2023-10-12T10:39:17.9767732Z     at java.net.URLClassLoader.findClass (URLClassLoader.java:451)\r\n2023-10-12T10:39:17.9769643Z     at java.lang.ClassLoader.loadClass (ClassLoader.java:594)\r\n2023-10-12T10:39:17.9771552Z     at java.lang.ClassLoader.loadClass (ClassLoader.java:527)\r\n2023-10-12T10:39:17.9821607Z     at java.lang.ClassLoader.defineClass1 (Native Method)\r\n2023-10-12T10:39:17.9824027Z     at java.lang.ClassLoader.defineClass (ClassLoader.java:1022)\r\n2023-10-12T10:39:17.9825945Z     at java.security.SecureClassLoader.defineClass (SecureClassLoader.java:174)\r\n2023-10-12T10:39:17.9827873Z     at java.net.URLClassLoader.defineClass (URLClassLoader.java:555)\r\n2023-10-12T10:39:17.9829648Z     at java.net.URLClassLoader$1.run (URLClassLoader.java:458)\r\n2023-10-12T10:39:17.9831550Z     at java.net.URLClassLoader$1.run (URLClassLoader.java:452)\r\n2023-10-12T10:39:17.9833326Z     at java.security.AccessController.doPrivileged (Native Method)\r\n2023-10-12T10:39:17.9835504Z     at java.net.URLClassLoader.findClass (URLClassLoader.java:451)\r\n2023-10-12T10:39:17.9837376Z     at java.lang.ClassLoader.loadClass (ClassLoader.java:594)\r\n2023-10-12T10:39:17.9839129Z     at java.lang.ClassLoader.loadClass (ClassLoader.java:527)\r\n2023-10-12T10:39:17.9840848Z     at org.apache.beam.runners.dataflow.DataflowPipelineRegistrar$Options.getPipelineOptions (DataflowPipelineRegistrar.java:40)\r\n2023-10-12T10:39:17.9846061Z     at org.apache.beam.sdk.options.PipelineOptionsFactory$Cache.initializeRegistry (PipelineOptionsFactory.java:2090)\r\n2023-10-12T10:39:17.9847894Z     at org.apache.beam.sdk.options.PipelineOptionsFactory$Cache.&lt;init&gt; (PipelineOptionsFactory.java:2083)\r\n2023-10-12T10:39:17.9849601Z     at org.apache.beam.sdk.options.PipelineOptionsFactory$Cache.&lt;init&gt; (PipelineOptionsFactory.java:2047)\r\n2023-10-12T10:39:17.9851239Z     at org.apache.beam.sdk.options.PipelineOptionsFactory.resetCache (PipelineOptionsFactory.java:581)\r\n2023-10-12T10:39:17.9852896Z     at org.apache.beam.sdk.options.PipelineOptionsFactory.&lt;clinit&gt; (PipelineOptionsFactory.java:547)\r\n2023-10-12T10:39:17.9854577Z     at cio.mmt.PubSubTopicsToBigQuery.main (PubSubTopicsToBigQuery.java:55)\r\n2023-10-12T10:39:17.9856188Z     at org.codehaus.mojo.exec.ExecJavaMojo$1.run (ExecJavaMojo.java:254)\r\n2023-10-12T10:39:17.9857817Z     at java.lang.Thread.run (Thread.java:829)\r\n2023-10-12T10:39:17.9885576Z [INFO] ------------------------------------------------------------------------\r\n2023-10-12T10:39:17.9885795Z [INFO] BUILD FAILURE\r\n2023-10-12T10:39:17.9886047Z [INFO] ------------------------------------------------------------------------\r\n2023-10-12T10:39:17.9886514Z [INFO] Total time:  8.555 s\r\n2023-10-12T10:39:17.9886767Z [INFO] Finished at: 2023-10-12T10:39:17Z\r\n2023-10-12T10:39:17.9887048Z [INFO] ------------------------------------------------------------------------\r\n2023-10-12T10:39:17.9934156Z [ERROR] Failed to execute goal org.codehaus.mojo:exec-maven-plugin:3.0.0:java (default-cli) on project bigquery: An exception occured while executing the Java class. org/apache/beam/sdk/options/MemoryMonitorOptions: org.apache.beam.sdk.options.MemoryMonitorOptions -&gt; [Help 1]\r\n\r\nUpdated the pom.xml file by removing - plugins.\r\nAlso update the Java class file to import only specific required class files. \r\n\r\nmvn compile exec should have completed successfully and staging location/template location should have the new class files compiled and generated.","title":"Apache beam v2.50.0 NoClassDefFound - /MemoryMonitorOptions","body":"<p>While updating the Apache Beam version from 2.46.0 to 2.50.0 for Java based Dataflow, the mvn package command runs successfully. However while executing the mvn compile:exec script - we are getting an error &quot;<strong>java.lang.NoClassDefFoundError: org/apache/beam/sdk/options/MemoryMonitorOptions</strong>&quot;</p>\n<p>No updates in pom file except for the update in Apache beam version -\n[WARNING]\n2023-10-12T10:39:17.9662373Z java.lang.NoClassDefFoundError: org/apache/beam/sdk/options/MemoryMonitorOptions\n2023-10-12T10:39:17.9665631Z     at java.lang.ClassLoader.defineClass1 (Native Method)\n2023-10-12T10:39:17.9668538Z     at java.lang.ClassLoader.defineClass (ClassLoader.java:1022)\n2023-10-12T10:39:17.9670605Z     at java.security.SecureClassLoader.defineClass (SecureClassLoader.java:174)\n2023-10-12T10:39:17.9672586Z     at java.net.URLClassLoader.defineClass (URLClassLoader.java:555)\n2023-10-12T10:39:17.9674516Z     at java.net.URLClassLoader$1.run (URLClassLoader.java:458)\n2023-10-12T10:39:17.9676939Z     at java.net.URLClassLoader$1.run (URLClassLoader.java:452)\n2023-10-12T10:39:17.9678816Z     at java.security.AccessController.doPrivileged (Native Method)\n2023-10-12T10:39:17.9690248Z     at java.net.URLClassLoader.findClass (URLClassLoader.java:451)\n2023-10-12T10:39:17.9692252Z     at java.lang.ClassLoader.loadClass (ClassLoader.java:594)\n2023-10-12T10:39:17.9694175Z     at java.lang.ClassLoader.loadClass (ClassLoader.java:527)\n2023-10-12T10:39:17.9696026Z     at java.lang.ClassLoader.defineClass1 (Native Method)\n2023-10-12T10:39:17.9699991Z     at java.lang.ClassLoader.defineClass (ClassLoader.java:1022)\n2023-10-12T10:39:17.9704965Z     at java.security.SecureClassLoader.defineClass (SecureClassLoader.java:174)\n2023-10-12T10:39:17.9706908Z     at java.net.URLClassLoader.defineClass (URLClassLoader.java:555)\n2023-10-12T10:39:17.9708814Z     at java.net.URLClassLoader$1.run (URLClassLoader.java:458)\n2023-10-12T10:39:17.9710696Z     at java.net.URLClassLoader$1.run (URLClassLoader.java:452)\n2023-10-12T10:39:17.9712552Z     at java.security.AccessController.doPrivileged (Native Method)\n2023-10-12T10:39:17.9714469Z     at java.net.URLClassLoader.findClass (URLClassLoader.java:451)\n2023-10-12T10:39:17.9716698Z     at java.lang.ClassLoader.loadClass (ClassLoader.java:594)\n2023-10-12T10:39:17.9718622Z     at java.lang.ClassLoader.loadClass (ClassLoader.java:527)\n2023-10-12T10:39:17.9720635Z     at org.apache.beam.runners.dataflow.DataflowPipelineRegistrar$Options.getPipelineOptions (DataflowPipelineRegistrar.java:40)\n2023-10-12T10:39:17.9722611Z     at org.apache.beam.sdk.options.PipelineOptionsFactory$Cache.initializeRegistry (PipelineOptionsFactory.java:2090)\n2023-10-12T10:39:17.9724487Z     at org.apache.beam.sdk.options.PipelineOptionsFactory$Cache. (PipelineOptionsFactory.java:2083)\n2023-10-12T10:39:17.9726421Z     at org.apache.beam.sdk.options.PipelineOptionsFactory$Cache. (PipelineOptionsFactory.java:2047)\n2023-10-12T10:39:17.9728327Z     at org.apache.beam.sdk.options.PipelineOptionsFactory.resetCache (PipelineOptionsFactory.java:581)\n2023-10-12T10:39:17.9730230Z     at org.apache.beam.sdk.options.PipelineOptionsFactory. (PipelineOptionsFactory.java:547)\n2023-10-12T10:39:17.9732113Z     at cio.mmt.PubSubTopicsToBigQuery.main (PubSubTopicsToBigQuery.java:55)\n2023-10-12T10:39:17.9734009Z     at org.codehaus.mojo.exec.ExecJavaMojo$1.run (ExecJavaMojo.java:254)\n2023-10-12T10:39:17.9743608Z     at java.lang.Thread.run (Thread.java:829)\n2023-10-12T10:39:17.9745720Z Caused by: java.lang.ClassNotFoundException: org.apache.beam.sdk.options.MemoryMonitorOptions\n2023-10-12T10:39:17.9748376Z     at java.net.URLClassLoader.findClass (URLClassLoader.java:476)\n2023-10-12T10:39:17.9750298Z     at java.lang.ClassLoader.loadClass (ClassLoader.java:594)\n2023-10-12T10:39:17.9752205Z     at java.lang.ClassLoader.loadClass (ClassLoader.java:527)\n2023-10-12T10:39:17.9754041Z     at java.lang.ClassLoader.defineClass1 (Native Method)\n2023-10-12T10:39:17.9756293Z     at java.lang.ClassLoader.defineClass (ClassLoader.java:1022)\n2023-10-12T10:39:17.9758225Z     at java.security.SecureClassLoader.defineClass (SecureClassLoader.java:174)\n2023-10-12T10:39:17.9760115Z     at java.net.URLClassLoader.defineClass (URLClassLoader.java:555)\n2023-10-12T10:39:17.9761982Z     at java.net.URLClassLoader$1.run (URLClassLoader.java:458)\n2023-10-12T10:39:17.9763915Z     at java.net.URLClassLoader$1.run (URLClassLoader.java:452)\n2023-10-12T10:39:17.9765721Z     at java.security.AccessController.doPrivileged (Native Method)\n2023-10-12T10:39:17.9767732Z     at java.net.URLClassLoader.findClass (URLClassLoader.java:451)\n2023-10-12T10:39:17.9769643Z     at java.lang.ClassLoader.loadClass (ClassLoader.java:594)\n2023-10-12T10:39:17.9771552Z     at java.lang.ClassLoader.loadClass (ClassLoader.java:527)\n2023-10-12T10:39:17.9821607Z     at java.lang.ClassLoader.defineClass1 (Native Method)\n2023-10-12T10:39:17.9824027Z     at java.lang.ClassLoader.defineClass (ClassLoader.java:1022)\n2023-10-12T10:39:17.9825945Z     at java.security.SecureClassLoader.defineClass (SecureClassLoader.java:174)\n2023-10-12T10:39:17.9827873Z     at java.net.URLClassLoader.defineClass (URLClassLoader.java:555)\n2023-10-12T10:39:17.9829648Z     at java.net.URLClassLoader$1.run (URLClassLoader.java:458)\n2023-10-12T10:39:17.9831550Z     at java.net.URLClassLoader$1.run (URLClassLoader.java:452)\n2023-10-12T10:39:17.9833326Z     at java.security.AccessController.doPrivileged (Native Method)\n2023-10-12T10:39:17.9835504Z     at java.net.URLClassLoader.findClass (URLClassLoader.java:451)\n2023-10-12T10:39:17.9837376Z     at java.lang.ClassLoader.loadClass (ClassLoader.java:594)\n2023-10-12T10:39:17.9839129Z     at java.lang.ClassLoader.loadClass (ClassLoader.java:527)\n2023-10-12T10:39:17.9840848Z     at org.apache.beam.runners.dataflow.DataflowPipelineRegistrar$Options.getPipelineOptions (DataflowPipelineRegistrar.java:40)\n2023-10-12T10:39:17.9846061Z     at org.apache.beam.sdk.options.PipelineOptionsFactory$Cache.initializeRegistry (PipelineOptionsFactory.java:2090)\n2023-10-12T10:39:17.9847894Z     at org.apache.beam.sdk.options.PipelineOptionsFactory$Cache. (PipelineOptionsFactory.java:2083)\n2023-10-12T10:39:17.9849601Z     at org.apache.beam.sdk.options.PipelineOptionsFactory$Cache. (PipelineOptionsFactory.java:2047)\n2023-10-12T10:39:17.9851239Z     at org.apache.beam.sdk.options.PipelineOptionsFactory.resetCache (PipelineOptionsFactory.java:581)\n2023-10-12T10:39:17.9852896Z     at org.apache.beam.sdk.options.PipelineOptionsFactory. (PipelineOptionsFactory.java:547)\n2023-10-12T10:39:17.9854577Z     at cio.mmt.PubSubTopicsToBigQuery.main (PubSubTopicsToBigQuery.java:55)\n2023-10-12T10:39:17.9856188Z     at org.codehaus.mojo.exec.ExecJavaMojo$1.run (ExecJavaMojo.java:254)\n2023-10-12T10:39:17.9857817Z     at java.lang.Thread.run (Thread.java:829)\n2023-10-12T10:39:17.9885576Z [INFO] ------------------------------------------------------------------------\n2023-10-12T10:39:17.9885795Z [INFO] BUILD FAILURE\n2023-10-12T10:39:17.9886047Z [INFO] ------------------------------------------------------------------------\n2023-10-12T10:39:17.9886514Z [INFO] Total time:  8.555 s\n2023-10-12T10:39:17.9886767Z [INFO] Finished at: 2023-10-12T10:39:17Z\n2023-10-12T10:39:17.9887048Z [INFO] ------------------------------------------------------------------------\n2023-10-12T10:39:17.9934156Z [ERROR] Failed to execute goal org.codehaus.mojo:exec-maven-plugin:3.0.0:java (default-cli) on project bigquery: An exception occured while executing the Java class. org/apache/beam/sdk/options/MemoryMonitorOptions: org.apache.beam.sdk.options.MemoryMonitorOptions -&gt; [Help 1]</p>\n<p>Updated the pom.xml file by removing - plugins.\nAlso update the Java class file to import only specific required class files.</p>\n<p>mvn compile exec should have completed successfully and staging location/template location should have the new class files compiled and generated.</p>\n"},{"tags":["java","visual-studio-code","javafx"],"comments":[{"owner":{"account_id":25311208,"reputation":7305,"user_id":19133920,"display_name":"JialeDu"},"score":0,"creation_date":1697613339,"post_id":77312145,"comment_id":136300231,"body_markdown":"https://openjfx.io/openjfx-docs/#IDE-VSCode, https://github.com/openjfx/samples/blob/master/IDE/VSCode/Non-Modular/Java/hellofx/.vscode/launch.json","body":"<a href=\"https://openjfx.io/openjfx-docs/#IDE-VSCode\" rel=\"nofollow noreferrer\">openjfx.io/openjfx-docs/#IDE-VSCode</a>, <a href=\"https://github.com/openjfx/samples/blob/master/IDE/VSCode/Non-Modular/Java/hellofx/.vscode/launch.json\" rel=\"nofollow noreferrer\">github.com/openjfx/samples/blob/master/IDE/VSCode/Non-Modula&zwnj;&#8203;r/&hellip;</a>"},{"owner":{"account_id":25311208,"reputation":7305,"user_id":19133920,"display_name":"JialeDu"},"score":0,"creation_date":1698284696,"post_id":77312145,"comment_id":136386931,"body_markdown":"May I know what&#39;s going on with the problem? If it has been solved, can you change the status of the answer to help more people with similar problems.","body":"May I know what&#39;s going on with the problem? If it has been solved, can you change the status of the answer to help more people with similar problems."}],"answers":[{"tags":[],"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1697667081,"creation_date":1697581597,"answer_id":77312568,"question_id":77312145,"body_markdown":"Instructions for JavaFX and VS Code are in getting started at openjfx.io. \r\n\r\n * [Getting Started with JavaFX: JavaFX and Visual Studio Code.][1]\r\n\r\nYour `--module-path` is wrong. It should be:\r\n\r\n    --module-path \\&quot;C:\\\\Program Files\\\\Java\\\\javafx-sdk-17.0.9\\\\lib\\&quot;\r\n\r\nNote the addition of the JavaFX SDK `lib` directory to the path.  That is where the JavaFX modules actually are.\r\n\r\nAlso, I don&#39;t think `--add-modules` needs slashes in it.  I am not sure about that as the openjfx.io setup example is for a non-windows based example which may have different escape rules, but I think, for this one, you don&#39;t need to escape the comma, even on Windows.  I think the `--add-modules` argument should be:\r\n\r\n    --add-modules javafx.controls,javafx.fxml\r\n\r\n[Example setup at openjfx.io][2] unfortunately as an image ;-)\r\n\r\n[![enter image description here][3]][3]\r\n\r\nBut also I retyped it here as text, and it is also [available in the openjfx samples repository](https://github.com/openjfx/samples/blob/master/IDE/VSCode/Non-Modular/Java/hellofx/.vscode/launch.json):\r\n\r\n    {\r\n      &quot;version&quot;: &quot;0.2.0&quot;,\r\n      &quot;configurations&quot;: [\r\n        {\r\n          &quot;type&quot;: &quot;java&quot;,\r\n          &quot;name&quot;: &quot;Launch App&quot;,\r\n          &quot;request&quot;: &quot;launch&quot;,\r\n          &quot;mainClass&quot;: &quot;hellofx.Main&quot;,\r\n          &quot;vmArgs&quot;: &quot;--module-path /path/to/javafx-sdk-17/lib --add-modules javafx.controls,javafx.fxml&quot;,\r\n        }\r\n      ]\r\n    }\r\n\r\nThe example is from openjfx.io for a non-Windows style path, so if on Windows you need to adopt the path with escaping similar to the earlier examples in this answer.\r\n\r\n  [1]: https://openjfx.io/openjfx-docs/#IDE-VSCode\r\n  [2]: https://openjfx.io/openjfx-docs/images/ide/vscode/ide/vscode07.png\r\n  [3]: https://i.stack.imgur.com/7kQVP.png","title":"launch.json file for JavaFX is not working in VS Code","body":"<p>Instructions for JavaFX and VS Code are in getting started at openjfx.io.</p>\n<ul>\n<li><a href=\"https://openjfx.io/openjfx-docs/#IDE-VSCode\" rel=\"nofollow noreferrer\">Getting Started with JavaFX: JavaFX and Visual Studio Code.</a></li>\n</ul>\n<p>Your <code>--module-path</code> is wrong. It should be:</p>\n<pre><code>--module-path \\&quot;C:\\\\Program Files\\\\Java\\\\javafx-sdk-17.0.9\\\\lib\\&quot;\n</code></pre>\n<p>Note the addition of the JavaFX SDK <code>lib</code> directory to the path.  That is where the JavaFX modules actually are.</p>\n<p>Also, I don't think <code>--add-modules</code> needs slashes in it.  I am not sure about that as the openjfx.io setup example is for a non-windows based example which may have different escape rules, but I think, for this one, you don't need to escape the comma, even on Windows.  I think the <code>--add-modules</code> argument should be:</p>\n<pre><code>--add-modules javafx.controls,javafx.fxml\n</code></pre>\n<p><a href=\"https://openjfx.io/openjfx-docs/images/ide/vscode/ide/vscode07.png\" rel=\"nofollow noreferrer\">Example setup at openjfx.io</a> unfortunately as an image ;-)</p>\n<p><a href=\"https://i.stack.imgur.com/7kQVP.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7kQVP.png\" alt=\"enter image description here\" /></a></p>\n<p>But also I retyped it here as text, and it is also <a href=\"https://github.com/openjfx/samples/blob/master/IDE/VSCode/Non-Modular/Java/hellofx/.vscode/launch.json\" rel=\"nofollow noreferrer\">available in the openjfx samples repository</a>:</p>\n<pre><code>{\n  &quot;version&quot;: &quot;0.2.0&quot;,\n  &quot;configurations&quot;: [\n    {\n      &quot;type&quot;: &quot;java&quot;,\n      &quot;name&quot;: &quot;Launch App&quot;,\n      &quot;request&quot;: &quot;launch&quot;,\n      &quot;mainClass&quot;: &quot;hellofx.Main&quot;,\n      &quot;vmArgs&quot;: &quot;--module-path /path/to/javafx-sdk-17/lib --add-modules javafx.controls,javafx.fxml&quot;,\n    }\n  ]\n}\n</code></pre>\n<p>The example is from openjfx.io for a non-Windows style path, so if on Windows you need to adopt the path with escaping similar to the earlier examples in this answer.</p>\n"}],"owner":{"account_id":29695130,"reputation":9,"user_id":22758593,"display_name":"coaster_dude22"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":75,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1697667081,"creation_date":1697575253,"question_id":77312145,"body_markdown":"I am running jdk17 with JavaFX sdk 17.0.9;\r\nI am trying to use JavaFX, and I have added my JAR files to the preferences, and I have also added this.\r\n\r\n    {\r\n    // Use IntelliSense to learn about possible attributes.\r\n    // Hover to view descriptions of existing attributes.\r\n    // For more information, visit: https://go.microsoft.com/fwlink/?linkid=830387\r\n    &quot;version&quot;: &quot;0.2.0&quot;,\r\n    &quot;configurations&quot;: [\r\n        {\r\n            &quot;type&quot;: &quot;java&quot;,\r\n            &quot;name&quot;: &quot;Current File&quot;,\r\n            &quot;request&quot;: &quot;launch&quot;,\r\n            &quot;mainClass&quot;: &quot;${file}&quot;\r\n        }\r\n        {\r\n            &quot;type&quot;: &quot;java&quot;,\r\n            &quot;name&quot;: &quot;App&quot;,\r\n            &quot;request&quot;: &quot;launch&quot;,\r\n            &quot;mainClass&quot;: &quot;App&quot;,\r\n            &quot;projectName&quot;: &quot;testfx_1e12e64c&quot;\r\n            &quot;vmArgs&quot;: &quot;--module-path \\&quot;C:\\\\Program Files\\\\Java\\\\javafx-sdk-17.0.9\\&quot; --add-modules javafx.controls\\\\,javafx.fxml&quot;,\r\n        }\r\n    ]\r\n    }\r\n\r\nHere is the code I am trying to run:\r\n\r\n```\r\nimport javafx.application.Application;\r\nimport javafx.fxml.FXML;\r\nimport javafx.fxml.FXMLLoader;\r\nimport javafx.scene.Parent;\r\nimport javafx.scene.Scene;\r\nimport javafx.stage.Stage;\r\n\r\npublic class App extends Application {\r\n     @Override\r\n     public void start(Stage primaryStage) throws Exception{\r\n        Parent root = FXMLLoader.load(getClass().getResource(&quot;testfx.fxml&quot;));\r\n        primaryStage.setTitle(&quot;Hello World&quot;);\r\n        primaryStage.setScene(new Scene(root, 400, 300));\r\n        primaryStage.show();\r\n     }\r\n\r\n     public static void main(String[] args) {\r\n        launch(args);\r\n     }\r\n}\r\n```\r\n\r\nI have tried moving my JavaFX folder to a place that does not contain spaces. I have also experimented with jdk 21 as well. \r\n","title":"launch.json file for JavaFX is not working in VS Code","body":"<p>I am running jdk17 with JavaFX sdk 17.0.9;\nI am trying to use JavaFX, and I have added my JAR files to the preferences, and I have also added this.</p>\n<pre><code>{\n// Use IntelliSense to learn about possible attributes.\n// Hover to view descriptions of existing attributes.\n// For more information, visit: https://go.microsoft.com/fwlink/?linkid=830387\n&quot;version&quot;: &quot;0.2.0&quot;,\n&quot;configurations&quot;: [\n    {\n        &quot;type&quot;: &quot;java&quot;,\n        &quot;name&quot;: &quot;Current File&quot;,\n        &quot;request&quot;: &quot;launch&quot;,\n        &quot;mainClass&quot;: &quot;${file}&quot;\n    }\n    {\n        &quot;type&quot;: &quot;java&quot;,\n        &quot;name&quot;: &quot;App&quot;,\n        &quot;request&quot;: &quot;launch&quot;,\n        &quot;mainClass&quot;: &quot;App&quot;,\n        &quot;projectName&quot;: &quot;testfx_1e12e64c&quot;\n        &quot;vmArgs&quot;: &quot;--module-path \\&quot;C:\\\\Program Files\\\\Java\\\\javafx-sdk-17.0.9\\&quot; --add-modules javafx.controls\\\\,javafx.fxml&quot;,\n    }\n]\n}\n</code></pre>\n<p>Here is the code I am trying to run:</p>\n<pre><code>import javafx.application.Application;\nimport javafx.fxml.FXML;\nimport javafx.fxml.FXMLLoader;\nimport javafx.scene.Parent;\nimport javafx.scene.Scene;\nimport javafx.stage.Stage;\n\npublic class App extends Application {\n     @Override\n     public void start(Stage primaryStage) throws Exception{\n        Parent root = FXMLLoader.load(getClass().getResource(&quot;testfx.fxml&quot;));\n        primaryStage.setTitle(&quot;Hello World&quot;);\n        primaryStage.setScene(new Scene(root, 400, 300));\n        primaryStage.show();\n     }\n\n     public static void main(String[] args) {\n        launch(args);\n     }\n}\n</code></pre>\n<p>I have tried moving my JavaFX folder to a place that does not contain spaces. I have also experimented with jdk 21 as well.</p>\n"},{"tags":["java","apache-spark"],"comments":[{"owner":{"account_id":4306834,"reputation":3887,"user_id":3519000,"accept_rate":80,"display_name":"lrnzcig"},"score":0,"creation_date":1509969330,"post_id":47136075,"comment_id":81222018,"body_markdown":"One option is to use an outer join; your query is frankly a bit difficult to read but I&#39;d say you should be able to transform it using joins. Good luck.","body":"One option is to use an outer join; your query is frankly a bit difficult to read but I&#39;d say you should be able to transform it using joins. Good luck."}],"answers":[{"comments":[{"owner":{"account_id":11632593,"reputation":81,"user_id":8520155,"accept_rate":0,"display_name":"Ans8"},"score":0,"creation_date":1517382869,"post_id":47138707,"comment_id":84067995,"body_markdown":"Thanks @dgg. It did solve my purpose. And further added some more logic for requirement. If any one faces same issue and needs help. Pls let me know.","body":"Thanks @dgg. It did solve my purpose. And further added some more logic for requirement. If any one faces same issue and needs help. Pls let me know."}],"tags":[],"owner":{"account_id":1732835,"reputation":164,"user_id":1586071,"display_name":"dgg"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1509976981,"creation_date":1509976981,"answer_id":47138707,"question_id":47136075,"body_markdown":"The query *is* a bit hard to follow as written.  It&#39;s not clear (to me anyway) what your intentions are for the *stats* table since you don&#39;t select anything from it so I removed it.  Obviously I haven&#39;t tried this myself but at a glance, you might try something like this instead:\r\n\r\n    select\r\n        a.PTF_ID,\r\n        a.PTF_CODE,\r\n        a.SHARE_ID,\r\n        a.SHARE_CODE,\r\n        a.BENCH_ID,\r\n        a.BENCH_CODE,\r\n        a.L1_CALCULATION_DATE,\r\n        a.L1_BEGIN_DATE,\r\n        a.L1_END_DATE,\r\n        a.L1_RUNNING_DATE,\r\n        a.L1_FREQUENCY,\r\n        a.L1_CALCULATION_STEP,\r\n        a.L1_PERFORMANCE_CURRENCY,\r\n        a.L1_CONFIGURATION,\r\n        a.L1_VALUATION_SOURCE,\r\n        a.L1_NAV_VALUATION_TYPE,\r\n        a.L1_SETTING_REFERENCE_TYPE,\r\n        a.L1_SETTING_VALUATION_TYPE,\r\n        a.L1_SHARPE_RATIO_ANNUALIZED as VALUE,\r\n        b.ID_STATISTIC \r\n    from \r\n        PARQUETFILE a\r\n    inner join\r\n        PAIRRDD b\r\n    on\r\n        a.L1_NAV_VALUATION_TYPE = b.L1_NAV_VALUATION_TYPE and\r\n        a.L1_VALUATION_SOURCE = b.L1_VALUATION_SOURCE\r\n    left outer join (\r\n        select\r\n            e.PTF_ID\r\n        from\r\n            PAIRRDD d\r\n        inner join\r\n            PARQUETFILE e\r\n        on\r\n            d.L1_VALUATION_SOURCE = e.L1_VALUATION_SOURCE AND\r\n            d.L1_NAV_VALUATION_TYPE = e.L1_NAV_VALUATION_TYPE\r\n        where\r\n            b.L1_VALUATION_SOURCE = &#39;&#39;\r\n        ) x\r\n    on\r\n        a.PTF_ID = x.PTF_ID\r\n    where\r\n        b.L1_PERF = &#39;l1_sharpe_ratio_annualized&#39; or\r\n        x.PTF_ID is null","title":"SPARK SQL not in or NOT EXISTS","body":"<p>The query <em>is</em> a bit hard to follow as written.  It's not clear (to me anyway) what your intentions are for the <em>stats</em> table since you don't select anything from it so I removed it.  Obviously I haven't tried this myself but at a glance, you might try something like this instead:</p>\n\n<pre><code>select\n    a.PTF_ID,\n    a.PTF_CODE,\n    a.SHARE_ID,\n    a.SHARE_CODE,\n    a.BENCH_ID,\n    a.BENCH_CODE,\n    a.L1_CALCULATION_DATE,\n    a.L1_BEGIN_DATE,\n    a.L1_END_DATE,\n    a.L1_RUNNING_DATE,\n    a.L1_FREQUENCY,\n    a.L1_CALCULATION_STEP,\n    a.L1_PERFORMANCE_CURRENCY,\n    a.L1_CONFIGURATION,\n    a.L1_VALUATION_SOURCE,\n    a.L1_NAV_VALUATION_TYPE,\n    a.L1_SETTING_REFERENCE_TYPE,\n    a.L1_SETTING_VALUATION_TYPE,\n    a.L1_SHARPE_RATIO_ANNUALIZED as VALUE,\n    b.ID_STATISTIC \nfrom \n    PARQUETFILE a\ninner join\n    PAIRRDD b\non\n    a.L1_NAV_VALUATION_TYPE = b.L1_NAV_VALUATION_TYPE and\n    a.L1_VALUATION_SOURCE = b.L1_VALUATION_SOURCE\nleft outer join (\n    select\n        e.PTF_ID\n    from\n        PAIRRDD d\n    inner join\n        PARQUETFILE e\n    on\n        d.L1_VALUATION_SOURCE = e.L1_VALUATION_SOURCE AND\n        d.L1_NAV_VALUATION_TYPE = e.L1_NAV_VALUATION_TYPE\n    where\n        b.L1_VALUATION_SOURCE = ''\n    ) x\non\n    a.PTF_ID = x.PTF_ID\nwhere\n    b.L1_PERF = 'l1_sharpe_ratio_annualized' or\n    x.PTF_ID is null\n</code></pre>\n"}],"owner":{"account_id":11632593,"reputation":81,"user_id":8520155,"accept_rate":0,"display_name":"Ans8"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":9931,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1697666510,"creation_date":1509968098,"question_id":47136075,"body_markdown":"I have a scenario where there are two sheets(csv). Created two tables for it. \r\nWhen there s a good data I could map it with a value( id statistic value) from the second table. If I have bad data I should map it with id statistic value again (but a different value). however, I&#39;m unable to use not exists in spark SQL. And I get the error below:\r\n\r\nmismatched input &#39;from&#39; expecting {&lt;EOF&gt;, &#39;WHERE&#39;, &#39;GROUP&#39;, &#39;ORDER&#39;, &#39;HAVING&#39;, &#39;LIMIT&#39;, &#39;LATERAL&#39;, &#39;WINDOW&#39;, &#39;UNION&#39;, &#39;EXCEPT&#39;, &#39;INTERSECT&#39;, &#39;SORT&#39;, &#39;CLUSTER&#39;, &#39;DISTRIBUTE&#39;}(line 1, pos 386)\r\n\r\n\r\n\r\n\tat org.apache.spark.sql.catalyst.parser.ParseException.withCommand(ParseDriver.scala:197)\r\n\tat org.apache.spark.sql.catalyst.parser.AbstractSqlParser.parse(ParseDriver.scala:99)\r\n\tat org.apache.spark.sql.execution.SparkSqlParser.parse(SparkSqlParser.scala:45)\r\n\r\n\r\n\r\n________________________________________________\r\n\r\n\r\n\r\nCODE:\r\n\r\n    select\r\n      a.ptf_id,a.ptf_code,a.share_id,a.share_code,a.bench_id,a.bench_code\r\n      , a.l1_calculation_date,a.l1_begin_date,a.l1_end_date,a.l1_running_date\r\n      , a.l1_frequency,a.l1_calculation_step,a.l1_performance_currency\r\n      , a.l1_configuration,a.l1_valuation_source,a.l1_nav_valuation_type\r\n      , a.l1_setting_reference_type, a.l1_setting_valuation_type\r\n      , a.l1_sharpe_ratio_annualized as value,b.id_statistic \r\n    from \r\n      parquetFile a, \r\n      pairRDD b, \r\n      stats c \r\n    where\r\n      a.l1_nav_valuation_type= b.l1_nav_valuation_type \r\n      and a.l1_valuation_source = b.l1_valuation_source\r\n      and b.l1_Perf = &#39;l1_sharpe_ratio_annualized&#39; \r\n      OR (a.ptf_id not EXISTS (\r\n           select e.ptf_id from pairRDD d, parquetFile e \r\n           where d.l1_valuation_source = e.l1_valuation_source \r\n           AND d.l1_nav_valuation_type = e.l1_nav_valuation_type) \r\n      and b.l1_valuation_source =&#39;&#39;)\r\n\r\nthis query works in SQL if I use &quot;NOT in&quot;\r\nplease help me on what other options to use in this scenario other than not exists.\r\n","title":"SPARK SQL not in or NOT EXISTS","body":"<p>I have a scenario where there are two sheets(csv). Created two tables for it. \nWhen there s a good data I could map it with a value( id statistic value) from the second table. If I have bad data I should map it with id statistic value again (but a different value). however, I'm unable to use not exists in spark SQL. And I get the error below:</p>\n\n<p>mismatched input 'from' expecting {, 'WHERE', 'GROUP', 'ORDER', 'HAVING', 'LIMIT', 'LATERAL', 'WINDOW', 'UNION', 'EXCEPT', 'INTERSECT', 'SORT', 'CLUSTER', 'DISTRIBUTE'}(line 1, pos 386)</p>\n\n<pre><code>at org.apache.spark.sql.catalyst.parser.ParseException.withCommand(ParseDriver.scala:197)\nat org.apache.spark.sql.catalyst.parser.AbstractSqlParser.parse(ParseDriver.scala:99)\nat org.apache.spark.sql.execution.SparkSqlParser.parse(SparkSqlParser.scala:45)\n</code></pre>\n\n<hr>\n\n<p>CODE:</p>\n\n<pre><code>select\n  a.ptf_id,a.ptf_code,a.share_id,a.share_code,a.bench_id,a.bench_code\n  , a.l1_calculation_date,a.l1_begin_date,a.l1_end_date,a.l1_running_date\n  , a.l1_frequency,a.l1_calculation_step,a.l1_performance_currency\n  , a.l1_configuration,a.l1_valuation_source,a.l1_nav_valuation_type\n  , a.l1_setting_reference_type, a.l1_setting_valuation_type\n  , a.l1_sharpe_ratio_annualized as value,b.id_statistic \nfrom \n  parquetFile a, \n  pairRDD b, \n  stats c \nwhere\n  a.l1_nav_valuation_type= b.l1_nav_valuation_type \n  and a.l1_valuation_source = b.l1_valuation_source\n  and b.l1_Perf = 'l1_sharpe_ratio_annualized' \n  OR (a.ptf_id not EXISTS (\n       select e.ptf_id from pairRDD d, parquetFile e \n       where d.l1_valuation_source = e.l1_valuation_source \n       AND d.l1_nav_valuation_type = e.l1_nav_valuation_type) \n  and b.l1_valuation_source ='')\n</code></pre>\n\n<p>this query works in SQL if I use \"NOT in\"\nplease help me on what other options to use in this scenario other than not exists.</p>\n"},{"tags":["java","arraylist"],"comments":[{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":0,"creation_date":1599597060,"post_id":63801110,"comment_id":112820926,"body_markdown":"Do you mean &quot;remove **letters**&quot;? --- Quoting Wikipedia: *&quot;An **alphabet** is a standardized set of basic written symbols or graphemes (called letters)&quot;*, e.g. `A` is a letter, and `R` is a letter. The whole set of 26 letters is (one example of) an alphabet.","body":"Do you mean &quot;remove <b>letters</b>&quot;? --- Quoting Wikipedia: <i>&quot;An <b>alphabet</b> is a standardized set of basic written symbols or graphemes (called letters)&quot;</i>, e.g. <code>A</code> is a letter, and <code>R</code> is a letter. The whole set of 26 letters is (one example of) an alphabet."},{"owner":{"account_id":19471677,"reputation":9,"user_id":14243900,"display_name":"Not so pro cod3r"},"score":0,"creation_date":1599597256,"post_id":63801110,"comment_id":112820988,"body_markdown":"yes that is what i mean","body":"yes that is what i mean"},{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":0,"creation_date":1599600183,"post_id":63801110,"comment_id":112822101,"body_markdown":"Then you should **edit** the question and clarify your meaning.","body":"Then you should <b>edit</b> the question and clarify your meaning."}],"answers":[{"tags":[],"owner":{"account_id":102965,"reputation":415240,"user_id":276052,"accept_rate":80,"display_name":"aioobe"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1599598259,"creation_date":1599597932,"answer_id":63801324,"question_id":63801110,"body_markdown":"Change\r\n\r\n    Alpabets.remove(word.charAt(i));\r\n\r\nto\r\n\r\n    Alpabets.remove((Object) word.charAt(i));\r\n\r\nThe issue is that `List.remove` has two implementations (it&#39;s an overloaded method):\r\n\r\n- One implementation that takes an index as argument: [`List.remove(int index)`](https://docs.oracle.com/javase/8/docs/api/java/util/List.html#remove-int-) (&quot;remove the 5th element from the list&quot;)\r\n\r\n- One that removes an actual object from the list [`List.remove(Object o)`](https://docs.oracle.com/javase/8/docs/api/java/util/List.html#remove-java.lang.Object-) (&quot;remove the number 5 from the list).\r\n\r\nBy calling using `Alpabets.remove(word.charAt(i));` you&#39;re accidentally invoking the one that takes an index, and if you give it a &quot;large enough&quot; character (characters can be seen as numerical values in Java), you&#39;ll hit an index out of bounds in the remove method.\r\n\r\nBy casting the argument to `Object`, you force the correct method to be called.","title":"Removing the characters from a arraylist holding the alphabets based on the characters that appear in users input","body":"<p>Change</p>\n<pre><code>Alpabets.remove(word.charAt(i));\n</code></pre>\n<p>to</p>\n<pre><code>Alpabets.remove((Object) word.charAt(i));\n</code></pre>\n<p>The issue is that <code>List.remove</code> has two implementations (it's an overloaded method):</p>\n<ul>\n<li><p>One implementation that takes an index as argument: <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/List.html#remove-int-\" rel=\"nofollow noreferrer\"><code>List.remove(int index)</code></a> (&quot;remove the 5th element from the list&quot;)</p>\n</li>\n<li><p>One that removes an actual object from the list <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/List.html#remove-java.lang.Object-\" rel=\"nofollow noreferrer\"><code>List.remove(Object o)</code></a> (&quot;remove the number 5 from the list).</p>\n</li>\n</ul>\n<p>By calling using <code>Alpabets.remove(word.charAt(i));</code> you're accidentally invoking the one that takes an index, and if you give it a &quot;large enough&quot; character (characters can be seen as numerical values in Java), you'll hit an index out of bounds in the remove method.</p>\n<p>By casting the argument to <code>Object</code>, you force the correct method to be called.</p>\n"},{"comments":[{"owner":{"account_id":10491815,"reputation":26310,"user_id":7733418,"display_name":"Yunnosch"},"score":1,"creation_date":1630258935,"post_id":68975337,"comment_id":121902066,"body_markdown":"Welcome to Stack Overflow! Please phrase this as an explained conditional answer, in order to avoid the impression of asking a clarification question instead of answering (for which a comment should be used instead of an answer, compare https://meta.stackexchange.com/questions/214173/why-do-i-need-50-reputation-to-comment-what-can-i-do-instead ). For example like &quot;If your problem is ... then the solution is to .... because .... .&quot;","body":"Welcome to Stack Overflow! Please phrase this as an explained conditional answer, in order to avoid the impression of asking a clarification question instead of answering (for which a comment should be used instead of an answer, compare <a href=\"https://meta.stackexchange.com/questions/214173/why-do-i-need-50-reputation-to-comment-what-can-i-do-instead\" title=\"why do i need 50 reputation to comment what can i do instead\">meta.stackexchange.com/questions/214173/&hellip;</a> ). For example like &quot;If your problem is ... then the solution is to .... because .... .&quot;"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1630298734,"post_id":68975337,"comment_id":121908809,"body_markdown":"Please add further details to expand on your answer, such as working code or documentation citations.","body":"Please add further details to expand on your answer, such as working code or documentation citations."}],"tags":[],"owner":{"account_id":22598908,"reputation":1,"user_id":16780771,"display_name":"Natarajan Kuppan"},"comment_count":2,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1697665765,"creation_date":1630257823,"answer_id":68975337,"question_id":63801110,"body_markdown":"Maybe you can also use mapping a key and a value and remove based on user input.\r\n","title":"Removing the characters from a arraylist holding the alphabets based on the characters that appear in users input","body":"<p>Maybe you can also use mapping a key and a value and remove based on user input.</p>\n"}],"owner":{"account_id":19471677,"reputation":9,"user_id":14243900,"display_name":"Not so pro cod3r"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":97,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1697665765,"creation_date":1599596734,"question_id":63801110,"body_markdown":"I&#39;m doing a project were I need to remove letters systematically from an `ArrayList` as they show up in the words that the user puts in. Then all the remaining characters are displayed and then the elimination process continues until only vowels are left.\r\n\r\nI can’t seem to get it to eliminate the characters without the program crashing.\r\n\r\nHere&#39;s the problematic code:\r\n\r\n```java\r\npublic static void Mapper(){\r\n    Scanner make = new Scanner(System.in);\r\n\r\n    char Aphabets[] ={&#39;A&#39;,&#39;B&#39;,&#39;C&#39;,&#39;D&#39;,&#39;E&#39;,&#39;F&#39;,&#39;G&#39;,&#39;H&#39;,&#39;I&#39;,&#39;J&#39;,&#39;K&#39;,&#39;L&#39;,&#39;M&#39;,&#39;N&#39;,&#39;O&#39;,&#39;P&#39;,&#39;Q&#39;,&#39;R&#39;,&#39;S&#39;,&#39;T&#39;,&#39;U&#39;,&#39;V&#39;,&#39;W&#39;,&#39;X&#39;,&#39;Y&#39;,&#39;Z&#39;};\r\n    ArrayList&lt;Character&gt; Alpabets = new ArrayList&lt;&gt;();\r\n    String word = make.nextLine();\r\n    for (int i = 0; i &lt; Aphabets.length; i++) {\r\n        Alpabets. add(i,Aphabets[i]);\r\n    }\r\n    for (int i = 0; i &lt; word.length(); i++) {\r\n        Alpabets.remove(word.charAt(i));\r\n    }\r\n    System.out.println(Alpabets);\r\n}\r\n```\r\n\r\n\r\n","title":"Removing the characters from a arraylist holding the alphabets based on the characters that appear in users input","body":"<p>I'm doing a project were I need to remove letters systematically from an <code>ArrayList</code> as they show up in the words that the user puts in. Then all the remaining characters are displayed and then the elimination process continues until only vowels are left.</p>\n<p>I can’t seem to get it to eliminate the characters without the program crashing.</p>\n<p>Here's the problematic code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void Mapper(){\n    Scanner make = new Scanner(System.in);\n\n    char Aphabets[] ={'A','B','C','D','E','F','G','H','I','J','K','L','M','N','O','P','Q','R','S','T','U','V','W','X','Y','Z'};\n    ArrayList&lt;Character&gt; Alpabets = new ArrayList&lt;&gt;();\n    String word = make.nextLine();\n    for (int i = 0; i &lt; Aphabets.length; i++) {\n        Alpabets. add(i,Aphabets[i]);\n    }\n    for (int i = 0; i &lt; word.length(); i++) {\n        Alpabets.remove(word.charAt(i));\n    }\n    System.out.println(Alpabets);\n}\n</code></pre>\n"},{"tags":["java","arrays","bash","maven"],"comments":[{"owner":{"account_id":3377022,"reputation":11135,"user_id":2834978,"display_name":"LMC"},"score":1,"creation_date":1697320506,"post_id":77294556,"comment_id":136265823,"body_markdown":"you can check array length first `echo ${#array[@]}` or just grep out the empty string `joined=$(printf &quot; &#39;%s&#39;&quot; &quot;${array[@]}&quot; | grep -v &quot;&#39;&#39;&quot;)`","body":"you can check array length first <code>echo ${#array[@]}</code> or just grep out the empty string <code>joined=$(printf &quot; &#39;%s&#39;&quot; &quot;${array[@]}&quot; | grep -v &quot;&#39;&#39;&quot;)</code>"},{"owner":{"account_id":3377022,"reputation":11135,"user_id":2834978,"display_name":"LMC"},"score":0,"creation_date":1697322948,"post_id":77294556,"comment_id":136265990,"body_markdown":"May be not better but one-liners are cute lol `result=$([ &quot;${#array[@]}&quot; -gt 0 ] &amp;&amp; for a in &quot;${array[@]}&quot;; do joined+=&quot; &#39;$a&#39;&quot;;done; echo -n &quot;${joined:1}&quot;)\n`","body":"May be not better but one-liners are cute lol <code>result=$([ &quot;${#array[@]}&quot; -gt 0 ] &amp;&amp; for a in &quot;${array[@]}&quot;; do joined+=&quot; &#39;$a&#39;&quot;;done; echo -n &quot;${joined:1}&quot;) </code>"}],"answers":[{"comments":[{"owner":{"account_id":184786,"reputation":18896,"user_id":421049,"accept_rate":50,"display_name":"Garret Wilson"},"score":0,"creation_date":1697321349,"post_id":77294609,"comment_id":136265874,"body_markdown":"Amazing!!! This seems to do exactly what I asked for! This is really nice.","body":"Amazing!!! This seems to do exactly what I asked for! This is really nice."},{"owner":{"account_id":184786,"reputation":18896,"user_id":421049,"accept_rate":50,"display_name":"Garret Wilson"},"score":0,"creation_date":1697321514,"post_id":77294609,"comment_id":136265886,"body_markdown":"There&#39;s a little problem I didn&#39;t mention in the question: if I have `(&quot;foo&#39;bar&quot;)` with a single quote in one of the strings, this produces `&quot;&#39;foo&#39;\\&#39;&#39;bar&#39;&quot;`, but when substituted in `-Dexec.args=&quot;$result&quot;` results in `unbalanced quotes in &#39;foo&#39;\\&#39;&#39;bar&#39;`. Any ideas? Besides that tiny corner case, this is an awesome solution.","body":"There&#39;s a little problem I didn&#39;t mention in the question: if I have <code>(&quot;foo&#39;bar&quot;)</code> with a single quote in one of the strings, this produces <code>&quot;&#39;foo&#39;\\&#39;&#39;bar&#39;&quot;</code>, but when substituted in <code>-Dexec.args=&quot;$result&quot;</code> results in <code>unbalanced quotes in &#39;foo&#39;\\&#39;&#39;bar&#39;</code>. Any ideas? Besides that tiny corner case, this is an awesome solution."},{"owner":{"account_id":2435703,"reputation":21468,"user_id":2125671,"display_name":"Philippe"},"score":1,"creation_date":1697321754,"post_id":77294609,"comment_id":136265907,"body_markdown":"Is the error `unbalanced quotes in &#39;foo&#39;\\&#39;&#39;bar&#39;` given by `mvn` ? What output do you expect of `(&quot;foo&#39;bar&quot;)` ?","body":"Is the error <code>unbalanced quotes in &#39;foo&#39;\\&#39;&#39;bar&#39;</code> given by <code>mvn</code> ? What output do you expect of <code>(&quot;foo&#39;bar&quot;)</code> ?"},{"owner":{"account_id":184786,"reputation":18896,"user_id":421049,"accept_rate":50,"display_name":"Garret Wilson"},"score":0,"creation_date":1697321945,"post_id":77294609,"comment_id":136265919,"body_markdown":"Oh, you&#39;re right—this is something Maven is producing. Apparently your technique is correctly quoting the `&#39;` on the Bash side, and passing it to Maven—the trick now is to figure out how the Exec Maven Plugin expects us to escape single quotes for that user property, and the [documentation](https://www.mojohaus.org/exec-maven-plugin/java-mojo.html#commandlineArgs) doesn&#39;t give any clues. I&#39;ll ask on the Maven user mailing list.","body":"Oh, you&#39;re right—this is something Maven is producing. Apparently your technique is correctly quoting the <code>&#39;</code> on the Bash side, and passing it to Maven—the trick now is to figure out how the Exec Maven Plugin expects us to escape single quotes for that user property, and the <a href=\"https://www.mojohaus.org/exec-maven-plugin/java-mojo.html#commandlineArgs\" rel=\"nofollow noreferrer\">documentation</a> doesn&#39;t give any clues. I&#39;ll ask on the Maven user mailing list."},{"owner":{"account_id":184786,"reputation":18896,"user_id":421049,"accept_rate":50,"display_name":"Garret Wilson"},"score":0,"creation_date":1697375088,"post_id":77294609,"comment_id":136269410,"body_markdown":"After further checking at the source code level, it would seem that the [Maven Exec Plugin `exec.args` user property](https://www.mojohaus.org/exec-maven-plugin/exec-mojo.html#commandlineargs) doesn&#39;t support quote escaping at all, so no matter how I would escape them in Bash to get them to the plugin (by double-escaping or whatever), the plugin would not understand any escape sequence. So this technique seems to be doing everything it needs to do and is possible to do.","body":"After further checking at the source code level, it would seem that the <a href=\"https://www.mojohaus.org/exec-maven-plugin/exec-mojo.html#commandlineargs\" rel=\"nofollow noreferrer\">Maven Exec Plugin <code>exec.args</code> user property</a> doesn&#39;t support quote escaping at all, so no matter how I would escape them in Bash to get them to the plugin (by double-escaping or whatever), the plugin would not understand any escape sequence. So this technique seems to be doing everything it needs to do and is possible to do."},{"owner":{"account_id":184786,"reputation":18896,"user_id":421049,"accept_rate":50,"display_name":"Garret Wilson"},"score":0,"creation_date":1697375119,"post_id":77294609,"comment_id":136269411,"body_markdown":"This technique is just so cool and simple and concise that I&#39;m going to add a bounty to show my appreciation.","body":"This technique is just so cool and simple and concise that I&#39;m going to add a bounty to show my appreciation."},{"owner":{"account_id":184786,"reputation":18896,"user_id":421049,"accept_rate":50,"display_name":"Garret Wilson"},"score":0,"creation_date":1697376133,"post_id":77294609,"comment_id":136269531,"body_markdown":"as a bonus question, do you know any way to detect whether each string of the array contains a single or double quote, and use the opposite? i.e. `(&quot;foo&#39;bar&quot; &quot;foo\\&quot;bar&quot;)` would wind up as the characters `&quot;foo&#39;bar&quot; &#39;foo&quot;bar&#39;`? I imagine that requires quite a bit of Bash work, so I can open a separate question for that.","body":"as a bonus question, do you know any way to detect whether each string of the array contains a single or double quote, and use the opposite? i.e. <code>(&quot;foo&#39;bar&quot; &quot;foo\\&quot;bar&quot;)</code> would wind up as the characters <code>&quot;foo&#39;bar&quot; &#39;foo&quot;bar&#39;</code>? I imagine that requires quite a bit of Bash work, so I can open a separate question for that."}],"tags":[],"owner":{"account_id":2435703,"reputation":21468,"user_id":2125671,"display_name":"Philippe"},"comment_count":7,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1697378107,"creation_date":1697320163,"answer_id":77294609,"question_id":77294556,"body_markdown":"You can use `@Q` operator ([shell parameter expansion - @operator](https://www.gnu.org/software/bash/manual/html_node/Shell-Parameter-Expansion.html)):\r\n\r\n```\r\narray=(&quot;test&quot; &quot;foo bar&quot;)\r\nresult=&quot;${array[*]@Q}&quot;\r\nmvn exec:java -Dexec.mainClass=&quot;org.example.Main&quot; -Dexec.args=&quot;$result&quot;\r\n```\r\n\r\nIf both single/double quotes can appear in the array, consider this :\r\n\r\n```\r\narray=(&quot;foo&#39;bar&quot; &#39;foo&quot;bar&#39;)\r\n\r\nmapfile -t array2 &lt; &lt;(perl -e &#39;\r\n    for $_ (@ARGV) {\r\n        $q = /&quot;/ ? &quot;&#39;\\&#39;&#39;&quot; : q[&quot;];\r\n        print &quot;$q$_$q\\n&quot;;\r\n    }&#39; &quot;${array[@]}&quot;)\r\n\r\nresult=&quot;${array2[*]}&quot;\r\n```\r\n\r\nThis assumes that only one type of quotes can appear in a single item of the array though.","title":"Bash single-quote elements of array and concatenate using space","body":"<p>You can use <code>@Q</code> operator (<a href=\"https://www.gnu.org/software/bash/manual/html_node/Shell-Parameter-Expansion.html\" rel=\"nofollow noreferrer\">shell parameter expansion - @operator</a>):</p>\n<pre><code>array=(&quot;test&quot; &quot;foo bar&quot;)\nresult=&quot;${array[*]@Q}&quot;\nmvn exec:java -Dexec.mainClass=&quot;org.example.Main&quot; -Dexec.args=&quot;$result&quot;\n</code></pre>\n<p>If both single/double quotes can appear in the array, consider this :</p>\n<pre><code>array=(&quot;foo'bar&quot; 'foo&quot;bar')\n\nmapfile -t array2 &lt; &lt;(perl -e '\n    for $_ (@ARGV) {\n        $q = /&quot;/ ? &quot;'\\''&quot; : q[&quot;];\n        print &quot;$q$_$q\\n&quot;;\n    }' &quot;${array[@]}&quot;)\n\nresult=&quot;${array2[*]}&quot;\n</code></pre>\n<p>This assumes that only one type of quotes can appear in a single item of the array though.</p>\n"},{"tags":[],"owner":{"account_id":2389551,"reputation":40471,"user_id":2089675,"accept_rate":80,"display_name":"smac89"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697323751,"creation_date":1697322286,"answer_id":77294692,"question_id":77294556,"body_markdown":"Try this (using [`readarray`][1]):\r\n\r\n```sh\r\narray=(&quot;test&quot; &quot;foo bar&quot;)\r\nreadarray -t joined &lt; &lt;(printf &quot;&#39;%s&#39;\\n&quot; &quot;${array[@]}&quot;)\r\n```\r\n\r\nIf you want the array elements to be shell-escaped, use `%q` instead of `%s`\r\n\r\nThe result:\r\n```console\r\n➜ echo ${joined[@]}\r\n&#39;test&#39; &#39;foo bar&#39;\r\n```\r\n\r\nAnother example:\r\n\r\n```console\r\n➜ array=(&quot;foo&#39;bar&quot;)\r\n➜ readarray -t joined &lt; &lt;(printf &quot;&#39;%s&#39;\\n&quot; &quot;${array[@]}&quot;)\r\n➜ echo ${joined[@]}\r\n&#39;foo&#39;bar&#39;\r\n```\r\n\r\n  [1]: https://helpmanual.io/builtin/readarray/","title":"Bash single-quote elements of array and concatenate using space","body":"<p>Try this (using <a href=\"https://helpmanual.io/builtin/readarray/\" rel=\"nofollow noreferrer\"><code>readarray</code></a>):</p>\n<pre class=\"lang-bash prettyprint-override\"><code>array=(&quot;test&quot; &quot;foo bar&quot;)\nreadarray -t joined &lt; &lt;(printf &quot;'%s'\\n&quot; &quot;${array[@]}&quot;)\n</code></pre>\n<p>If you want the array elements to be shell-escaped, use <code>%q</code> instead of <code>%s</code></p>\n<p>The result:</p>\n<pre><code>➜ echo ${joined[@]}\n'test' 'foo bar'\n</code></pre>\n<p>Another example:</p>\n<pre><code>➜ array=(&quot;foo'bar&quot;)\n➜ readarray -t joined &lt; &lt;(printf &quot;'%s'\\n&quot; &quot;${array[@]}&quot;)\n➜ echo ${joined[@]}\n'foo'bar'\n</code></pre>\n"}],"owner":{"account_id":184786,"reputation":18896,"user_id":421049,"accept_rate":50,"display_name":"Garret Wilson"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":121,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":77294609,"answer_count":2,"score":2,"last_activity_date":1697665548,"creation_date":1697318644,"question_id":77294556,"body_markdown":"I have an array in Bash that may be empty. I need to convert the array to a single string, placing a single quote around each element, and separating the elements with a single space. For example:\r\n\r\n* `()`: `&quot;&quot;`\r\n* `(&quot;test&quot;)`: `&quot;&#39;test&#39;&quot;`\r\n* `(&quot;foo bar&quot;)`: `&quot;&#39;foo bar&#39;&quot;`\r\n* `(&quot;test&quot; &quot;foo bar&quot;)`: `&quot;&#39;test&#39; &#39;foo bar&#39;&quot;`\r\n\r\nAssume my array is in `$array`, and I put the result in `$result`. I&#39;m wanting to pass the result as arguments to [Maven `exec:java` `exec.args`][1], like this:\r\n\r\n```bash\r\narray=(&quot;test&quot; &quot;foo bar&quot;)\r\nresult= # TODO\r\nmvn exec:java -Dexec.mainClass=&quot;org.example.Main&quot; -Dexec.args=&quot;$result&quot;\r\n```\r\n\r\nThis would be equivalent to:\r\n\r\n```bash\r\nmvn exec:java -Dexec.mainClass=&quot;org.example.Main&quot; -Dexec.args=&quot;&#39;test&#39; &#39;foo bar&#39;&quot;\r\n```\r\n\r\nImportantly, note that if the array is empty, it would be equivalent to:\r\n\r\n```bash\r\nmvn exec:java -Dexec.mainClass=&quot;org.example.Main&quot; -Dexec.args=&quot;&quot;\r\n```\r\n\r\nI would have thought that this would have been answered two decades ago—and maybe it has been, but I can&#39;t find it. I found https://stackoverflow.com/q/50185415, which has no answer. I found various answers relating to joining with a delimiter, but couldn&#39;t find anything that would single-quote each element, join with a delimiter, _and_ still produce an empty string if the array is empty.\r\n\r\nFor example, https://stackoverflow.com/q/45796762 comes very close:\r\n\r\n```bash\r\narray=(&quot;test&quot; &quot;foo bar&quot;)\r\njoined=$(printf &quot; &#39;%s&#39;&quot; &quot;${array[@]}&quot;)\r\nresult=&quot;${joined:1}&quot;\r\nmvn exec:java -Dexec.mainClass=&quot;org.example.Main&quot; -Dexec.args=&quot;$result&quot;\r\n```\r\n\r\nBut if the array is empty, I get `&quot;&#39;&#39;&quot;` when I want `&quot;&quot;`. _Update:_ I guess I can do an old-fashioned `if` to special-case an empty array. Anyone have anything better?\r\n\r\n  [1]: https://www.mojohaus.org/exec-maven-plugin/java-mojo.html#commandlineArgs","title":"Bash single-quote elements of array and concatenate using space","body":"<p>I have an array in Bash that may be empty. I need to convert the array to a single string, placing a single quote around each element, and separating the elements with a single space. For example:</p>\n<ul>\n<li><code>()</code>: <code>&quot;&quot;</code></li>\n<li><code>(&quot;test&quot;)</code>: <code>&quot;'test'&quot;</code></li>\n<li><code>(&quot;foo bar&quot;)</code>: <code>&quot;'foo bar'&quot;</code></li>\n<li><code>(&quot;test&quot; &quot;foo bar&quot;)</code>: <code>&quot;'test' 'foo bar'&quot;</code></li>\n</ul>\n<p>Assume my array is in <code>$array</code>, and I put the result in <code>$result</code>. I'm wanting to pass the result as arguments to <a href=\"https://www.mojohaus.org/exec-maven-plugin/java-mojo.html#commandlineArgs\" rel=\"nofollow noreferrer\">Maven <code>exec:java</code> <code>exec.args</code></a>, like this:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>array=(&quot;test&quot; &quot;foo bar&quot;)\nresult= # TODO\nmvn exec:java -Dexec.mainClass=&quot;org.example.Main&quot; -Dexec.args=&quot;$result&quot;\n</code></pre>\n<p>This would be equivalent to:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>mvn exec:java -Dexec.mainClass=&quot;org.example.Main&quot; -Dexec.args=&quot;'test' 'foo bar'&quot;\n</code></pre>\n<p>Importantly, note that if the array is empty, it would be equivalent to:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>mvn exec:java -Dexec.mainClass=&quot;org.example.Main&quot; -Dexec.args=&quot;&quot;\n</code></pre>\n<p>I would have thought that this would have been answered two decades ago—and maybe it has been, but I can't find it. I found <a href=\"https://stackoverflow.com/q/50185415\">Bash script pass arguments to maven</a>, which has no answer. I found various answers relating to joining with a delimiter, but couldn't find anything that would single-quote each element, join with a delimiter, <em>and</em> still produce an empty string if the array is empty.</p>\n<p>For example, <a href=\"https://stackoverflow.com/q/45796762\">Concat array elements with comma and single quote - Bash</a> comes very close:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>array=(&quot;test&quot; &quot;foo bar&quot;)\njoined=$(printf &quot; '%s'&quot; &quot;${array[@]}&quot;)\nresult=&quot;${joined:1}&quot;\nmvn exec:java -Dexec.mainClass=&quot;org.example.Main&quot; -Dexec.args=&quot;$result&quot;\n</code></pre>\n<p>But if the array is empty, I get <code>&quot;''&quot;</code> when I want <code>&quot;&quot;</code>. <em>Update:</em> I guess I can do an old-fashioned <code>if</code> to special-case an empty array. Anyone have anything better?</p>\n"},{"tags":["java","private","public","protected","access-modifiers"],"comments":[{"owner":{"account_id":438783,"reputation":6771,"user_id":827280,"accept_rate":93,"display_name":"Museful"},"score":189,"creation_date":1360749413,"post_id":215497,"comment_id":20813700,"body_markdown":"`private` hides from other classes within the package. `public` exposes to classes outside the package. `protected` is a version of `public` restricted only to subclasses.","body":"<code>private</code> hides from other classes within the package. <code>public</code> exposes to classes outside the package. <code>protected</code> is a version of <code>public</code> restricted only to subclasses."},{"owner":{"account_id":2043438,"reputation":1859,"user_id":1824094,"accept_rate":20,"display_name":"Nicolas Barbulesco"},"score":108,"creation_date":1377078709,"post_id":215497,"comment_id":26944600,"body_markdown":"@Tennenrishin&#160;—&#160;No&#160;; contrary to C++, in Java `protected` makes the method also accessible from the whole package. This stupidity in Java&#39;s visiblity model breaks the goal of `protected`.","body":"@Tennenrishin — No ; contrary to C++, in Java <code>protected</code> makes the method also accessible from the whole package. This stupidity in Java&#39;s visiblity model breaks the goal of <code>protected</code>."},{"owner":{"account_id":438783,"reputation":6771,"user_id":827280,"accept_rate":93,"display_name":"Museful"},"score":41,"creation_date":1394794776,"post_id":215497,"comment_id":34060988,"body_markdown":"@Nicolas It is accessible from the whole package, with or without `protected`. As an access *modifier*, all that `protected` does is to expose to subclasses outside the package.","body":"@Nicolas It is accessible from the whole package, with or without <code>protected</code>. As an access <i>modifier</i>, all that <code>protected</code> does is to expose to subclasses outside the package."},{"owner":{"account_id":69301,"reputation":10391,"user_id":201722,"accept_rate":95,"display_name":"luis.espinal"},"score":17,"creation_date":1396878338,"post_id":215497,"comment_id":34973464,"body_markdown":"@tennenrishin - well, that is what Nicolas said... and you are just repeating it now. What you originally said was that `protected` - and I quote - &#39;is a version of public restricted only to subclasses&#39; which is not true by your own admission since protected also allows access through the whole package (ergo, it does not **restrict** access to subclasses.)","body":"@tennenrishin - well, that is what Nicolas said... and you are just repeating it now. What you originally said was that <code>protected</code> - and I quote - &#39;is a version of public restricted only to subclasses&#39; which is not true by your own admission since protected also allows access through the whole package (ergo, it does not <b>restrict</b> access to subclasses.)"},{"owner":{"account_id":69301,"reputation":10391,"user_id":201722,"accept_rate":95,"display_name":"luis.espinal"},"score":14,"creation_date":1396878814,"post_id":215497,"comment_id":34973786,"body_markdown":"I also agree with Nicolas in that the protected access mode in Java is idiotic. What happened is that Java conflated horizontal (lattice) and vertical access restriction qualifiers. Default scope is a horizontal/lattice restriction with the lattice being the package. Public is another horizontal restriction where the lattice is the whole world. Private and (C++) protected are vertical. It would have been better if we had a cross-cut access, say, `protected-package` for the rare cases where we actually needed it, leaving `protected` to be equivalent to the C++ version of protected.","body":"I also agree with Nicolas in that the protected access mode in Java is idiotic. What happened is that Java conflated horizontal (lattice) and vertical access restriction qualifiers. Default scope is a horizontal/lattice restriction with the lattice being the package. Public is another horizontal restriction where the lattice is the whole world. Private and (C++) protected are vertical. It would have been better if we had a cross-cut access, say, <code>protected-package</code> for the rare cases where we actually needed it, leaving <code>protected</code> to be equivalent to the C++ version of protected."},{"owner":{"account_id":438783,"reputation":6771,"user_id":827280,"accept_rate":93,"display_name":"Museful"},"score":8,"creation_date":1422387828,"post_id":215497,"comment_id":44726481,"body_markdown":"@luis.espinal Then he was just repeating what the first comment had said. You cannot expose what is already visible, and saying that `protected` is a restricted exposer does not imply that it *hides* anything. Otherwise even &quot;`public` exposes to classes outside the package&quot; would suggest that `public` *hides* from classes inside the package.","body":"@luis.espinal Then he was just repeating what the first comment had said. You cannot expose what is already visible, and saying that <code>protected</code> is a restricted exposer does not imply that it <i>hides</i> anything. Otherwise even &quot;<code>public</code> exposes to classes outside the package&quot; would suggest that <code>public</code> <i>hides</i> from classes inside the package."},{"owner":{"account_id":320962,"reputation":31681,"user_id":639520,"accept_rate":72,"display_name":"E-Riz"},"score":1,"creation_date":1441121282,"post_id":215497,"comment_id":52545081,"body_markdown":"The accepted answer is not incorrect, it&#39;s just incomplete and a mere copy+paste job from the external resource. @Mechanical snail&#39;s answer (http://stackoverflow.com/a/12401576/639520) is much better IMO.","body":"The accepted answer is not incorrect, it&#39;s just incomplete and a mere copy+paste job from the external resource. @Mechanical snail&#39;s answer (<a href=\"http://stackoverflow.com/a/12401576/639520\">stackoverflow.com/a/12401576/639520</a>) is much better IMO."},{"owner":{"account_id":19463,"reputation":41164,"user_id":45668,"accept_rate":88,"display_name":"Malcolm"},"score":3,"creation_date":1446741577,"post_id":215497,"comment_id":54879652,"body_markdown":"@NicolasBarbulesco Contrary to C++? C++ doesn&#39;t have packages, you cannot really make the method accessible to a number of classes unless you make each of them a friend of the class manually. If Java had no concept of packages, it would work exactly the same. Speaking of the stupidity, the code from the same package is supposed to come from the same developer anyway, so I don&#39;t really see a huge problem here.","body":"@NicolasBarbulesco Contrary to C++? C++ doesn&#39;t have packages, you cannot really make the method accessible to a number of classes unless you make each of them a friend of the class manually. If Java had no concept of packages, it would work exactly the same. Speaking of the stupidity, the code from the same package is supposed to come from the same developer anyway, so I don&#39;t really see a huge problem here."},{"owner":{"account_id":2043438,"reputation":1859,"user_id":1824094,"accept_rate":20,"display_name":"Nicolas Barbulesco"},"score":2,"creation_date":1448013742,"post_id":215497,"comment_id":55412871,"body_markdown":"@Malcolm - &quot;the code from the same package is supposed to come from the same developer anyway&quot; Who says that? Often, this is not the case.","body":"@Malcolm - &quot;the code from the same package is supposed to come from the same developer anyway&quot; Who says that? Often, this is not the case."},{"owner":{"account_id":3093339,"reputation":9944,"user_id":2619038,"accept_rate":100,"display_name":"NoName"},"score":2,"creation_date":1498207379,"post_id":215497,"comment_id":76416056,"body_markdown":"No one else noticed the joke that moderator Mystical `protected` this question to prevent *everyone* from answering?? Genius!","body":"No one else noticed the joke that moderator Mystical <code>protected</code> this question to prevent <i>everyone</i> from answering?? Genius!"},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":1,"creation_date":1652874229,"post_id":215497,"comment_id":127711104,"body_markdown":"I return to this page every few years, to see if the situation has improved.  The fact is that almost every answer on this page is slightly incorrect.  Currently, the only answer that correctly explains the differences between the various access modifiers is the answer of @Eng.Fouad, which is the 9th ranked answer on this page.  Don&#39;t let the thousands of upvotes fool you - the first 8 answers on this page (as of today) do not explain `protected` correctly.","body":"I return to this page every few years, to see if the situation has improved.  The fact is that almost every answer on this page is slightly incorrect.  Currently, the only answer that correctly explains the differences between the various access modifiers is the answer of @Eng.Fouad, which is the 9th ranked answer on this page.  Don&#39;t let the thousands of upvotes fool you - the first 8 answers on this page (as of today) do not explain <code>protected</code> correctly."}],"answers":[{"comments":[{"owner":{"account_id":9870025,"reputation":100,"user_id":7310028,"display_name":"Deepak"},"score":2,"creation_date":1524659143,"post_id":215505,"comment_id":87060470,"body_markdown":"I am still not able to differentiate between &#39;Public&#39; and &#39;Protected&#39;. And what is &#39;World&#39; in this answer. Does it mean access out of project folder in a different project &amp; package?? But that is not taking place. Need help on this.","body":"I am still not able to differentiate between &#39;Public&#39; and &#39;Protected&#39;. And what is &#39;World&#39; in this answer. Does it mean access out of project folder in a different project &amp; package?? But that is not taking place. Need help on this."},{"owner":{"account_id":1715738,"reputation":1873,"user_id":1572834,"accept_rate":100,"display_name":"adprocas"},"score":3,"creation_date":1525352352,"post_id":215505,"comment_id":87328973,"body_markdown":"@Deepak, World is within your project. If you have a class that is public, any other class can instantiate that class. Same as methods. If it is public, anyone that uses that class can use that method. Package refers to the &quot;folder&quot; that you are in. So, `ca.my.package.controllers` is different than `ca.my.package.models`. Public items are accessible outside of those packages, but the rest are not. package-private are considered public within the package, essentially. Protected means anything that inherits it, or within the same package. Private removes all outside access, including package.","body":"@Deepak, World is within your project. If you have a class that is public, any other class can instantiate that class. Same as methods. If it is public, anyone that uses that class can use that method. Package refers to the &quot;folder&quot; that you are in. So, <code>ca.my.package.controllers</code> is different than <code>ca.my.package.models</code>. Public items are accessible outside of those packages, but the rest are not. package-private are considered public within the package, essentially. Protected means anything that inherits it, or within the same package. Private removes all outside access, including package."},{"owner":{"account_id":1715738,"reputation":1873,"user_id":1572834,"accept_rate":100,"display_name":"adprocas"},"score":12,"creation_date":1525352569,"post_id":215505,"comment_id":87329155,"body_markdown":"_World is within your project_. I should explain further. Libraries are within your project, and if you&#39;re creating a library, they would expose these public classes and methods as well. So, saying just within your project is a bit off. &quot;Everything that uses it&quot; is a better description.","body":"<i>World is within your project</i>. I should explain further. Libraries are within your project, and if you&#39;re creating a library, they would expose these public classes and methods as well. So, saying just within your project is a bit off. &quot;Everything that uses it&quot; is a better description."},{"owner":{"account_id":9870025,"reputation":100,"user_id":7310028,"display_name":"Deepak"},"score":1,"creation_date":1525414988,"post_id":215505,"comment_id":87354276,"body_markdown":"@adpro - I tried at my end making methods public and protected but both of these types of methods are accessible outside their primary package and user has to extend the parent class in both the cases which is quite obvious. I am still unsure of the difference. A little bit more explanation or trick might help.","body":"@adpro - I tried at my end making methods public and protected but both of these types of methods are accessible outside their primary package and user has to extend the parent class in both the cases which is quite obvious. I am still unsure of the difference. A little bit more explanation or trick might help."},{"owner":{"account_id":1715738,"reputation":1873,"user_id":1572834,"accept_rate":100,"display_name":"adprocas"},"score":1,"creation_date":1525436538,"post_id":215505,"comment_id":87366593,"body_markdown":"@Deepak, if you are extending (inheriting) the class then that class that is inheriting will have access to all public and protected methods and properties. If you instead instantiate that class in another class (not extend) and try to do something like `object.protectedMethod()` on a protected method, you won&#39;t be able to unless it is in the same package.","body":"@Deepak, if you are extending (inheriting) the class then that class that is inheriting will have access to all public and protected methods and properties. If you instead instantiate that class in another class (not extend) and try to do something like <code>object.protectedMethod()</code> on a protected method, you won&#39;t be able to unless it is in the same package."},{"owner":{"account_id":1715738,"reputation":1873,"user_id":1572834,"accept_rate":100,"display_name":"adprocas"},"score":7,"creation_date":1525436736,"post_id":215505,"comment_id":87366744,"body_markdown":"For example, if I have `MyClass` and I&#39;m doing `AnotherClass extends MyClass` I will have access to all protected and public methods and properties from within `AnotherClass`. If I do `MyClass myClass = new MyClass();` in `AnotherClass` somewhere - let&#39;s say the constructor - I will only have access to the public methods if it is in a different package. Note that if I do `= new MyClass() { @Override protected void protectedMethod() { //some logic } };` it appears that I can access protected methods, but this kind of the same as extending it, but inline instead.","body":"For example, if I have <code>MyClass</code> and I&#39;m doing <code>AnotherClass extends MyClass</code> I will have access to all protected and public methods and properties from within <code>AnotherClass</code>. If I do <code>MyClass myClass = new MyClass();</code> in <code>AnotherClass</code> somewhere - let&#39;s say the constructor - I will only have access to the public methods if it is in a different package. Note that if I do <code>= new MyClass() { @Override protected void protectedMethod() { &#47;&#47;some logic } };</code> it appears that I can access protected methods, but this kind of the same as extending it, but inline instead."},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":13,"creation_date":1531290371,"post_id":215505,"comment_id":89534615,"body_markdown":"Unfortunately, this answer is a gross oversimplification.  Reality is a bit more complicated, especially when you consider `protected` (which is actually quite a difficult access modifier to fully understand - most people who think they know what `protected` means really don&#39;t).  Also, as Bohemian pointed out, it doesn&#39;t answer the question - it says _nothing_ about when to use each access modifier.  In my opinion, this answer isn&#39;t _quite_ bad enough to downvote, but close.  But over 4000 upvotes?  How did this happen?","body":"Unfortunately, this answer is a gross oversimplification.  Reality is a bit more complicated, especially when you consider <code>protected</code> (which is actually quite a difficult access modifier to fully understand - most people who think they know what <code>protected</code> means really don&#39;t).  Also, as Bohemian pointed out, it doesn&#39;t answer the question - it says <i>nothing</i> about when to use each access modifier.  In my opinion, this answer isn&#39;t <i>quite</i> bad enough to downvote, but close.  But over 4000 upvotes?  How did this happen?"},{"owner":{"account_id":5960042,"reputation":2613,"user_id":4685486,"accept_rate":100,"display_name":"Anatolii Stepaniuk"},"score":3,"creation_date":1536217445,"post_id":215505,"comment_id":91345689,"body_markdown":"Subclass (same package) field is misleading, It&#39;s better to remove that column. Because it doesn&#39;t matter is that a subclass or not.","body":"Subclass (same package) field is misleading, It&#39;s better to remove that column. Because it doesn&#39;t matter is that a subclass or not."},{"owner":{"account_id":3288925,"reputation":909,"user_id":2767662,"display_name":"Heinzlmaen"},"score":6,"creation_date":1581001113,"post_id":215505,"comment_id":106290572,"body_markdown":"@DawoodsaysreinstateMonica It&#39;s a great answer, it&#39;s exactly what most people that find this page are looking for. Also, that table is from the official Oracle tutorial. But how about you toss us a link so we can learn what &quot;protected&quot; really means?","body":"@DawoodsaysreinstateMonica It&#39;s a great answer, it&#39;s exactly what most people that find this page are looking for. Also, that table is from the official Oracle tutorial. But how about you toss us a link so we can learn what &quot;protected&quot; really means?"},{"owner":{"account_id":13717415,"reputation":1385,"user_id":9898251,"display_name":"Badri Paudel"},"score":2,"creation_date":1588933126,"post_id":215505,"comment_id":109096505,"body_markdown":"protected is only accessible in same package. Its not accessible outside of that package .  protected specifier in java is called package level specifier.","body":"protected is only accessible in same package. Its not accessible outside of that package .  protected specifier in java is called package level specifier."},{"owner":{"account_id":1382862,"reputation":101,"user_id":1315510,"display_name":"jayjay"},"score":1,"creation_date":1596062657,"post_id":215505,"comment_id":111693801,"body_markdown":"@UsagiMiyamoto  : Can you please elaborate more on how can  &quot;private members can be seen/used by any class/static method in the same source-file&quot; ?","body":"@UsagiMiyamoto  : Can you please elaborate more on how can  &quot;private members can be seen/used by any class/static method in the same source-file&quot; ?"},{"owner":{"account_id":1382862,"reputation":101,"user_id":1315510,"display_name":"jayjay"},"score":5,"creation_date":1596062777,"post_id":215505,"comment_id":111693839,"body_markdown":"@niks : I am able to access protected members from subclass of different packages","body":"@niks : I am able to access protected members from subclass of different packages"},{"owner":{"account_id":10646698,"reputation":5413,"user_id":8170714,"accept_rate":71,"display_name":"Jack"},"score":22,"creation_date":1602765028,"post_id":215505,"comment_id":113827244,"body_markdown":"@niks protected members CAN be accessed by subclasses from a different package. Isn&#39;t that the point? Otherwise what&#39;s the difference between default and protected?","body":"@niks protected members CAN be accessed by subclasses from a different package. Isn&#39;t that the point? Otherwise what&#39;s the difference between default and protected?"},{"owner":{"account_id":2585708,"reputation":3215,"user_id":2241463,"accept_rate":84,"display_name":"Piovezan"},"score":8,"creation_date":1612493839,"post_id":215505,"comment_id":116790715,"body_markdown":"@Jack Yeah, niks&#39; comment is wrong despite the many upvotes stating otherwise. The Java Tutorials link in the answer clearly says that protected members can also be accessed within subclasses from a different package. It seems that he/she meant &quot;package-level&quot; instead of &quot;protected&quot;, or was referring to a different edit.","body":"@Jack Yeah, niks&#39; comment is wrong despite the many upvotes stating otherwise. The Java Tutorials link in the answer clearly says that protected members can also be accessed within subclasses from a different package. It seems that he/she meant &quot;package-level&quot; instead of &quot;protected&quot;, or was referring to a different edit."},{"owner":{"account_id":1119690,"reputation":15787,"user_id":1108305,"accept_rate":47,"display_name":"M. Justin"},"score":2,"creation_date":1613547486,"post_id":215505,"comment_id":117104652,"body_markdown":"@DawoodsaysreinstateMonica I think the issue here is that the title &amp; body are asking two different questions: &quot;What is the difference between the access modifiers&quot; and &quot;When should the different access modifiers be used.&quot;  This answer is answering the question in the title, but not the question in the body.","body":"@DawoodsaysreinstateMonica I think the issue here is that the title &amp; body are asking two different questions: &quot;What is the difference between the access modifiers&quot; and &quot;When should the different access modifiers be used.&quot;  This answer is answering the question in the title, but not the question in the body."},{"owner":{"account_id":1962480,"reputation":15483,"user_id":1763602,"accept_rate":76,"display_name":"Marco Sulla"},"score":0,"creation_date":1625488625,"post_id":215505,"comment_id":120632946,"body_markdown":"@DawoodibnKareem can you explain the real functioning of `protected`, or link a page that explain it better?","body":"@DawoodibnKareem can you explain the real functioning of <code>protected</code>, or link a page that explain it better?"},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":2,"creation_date":1625530897,"post_id":215505,"comment_id":120645214,"body_markdown":"@MarcoSulla Unfortunately, 7 of the first 8 answers on this page (currently) are actually wrong.  I just downvoted those 7, because I think this is a big deal.  Have a look at the answer by Eng.Fouad, which is currently the 9th one on this page.  It&#39;s the first really good one.","body":"@MarcoSulla Unfortunately, 7 of the first 8 answers on this page (currently) are actually wrong.  I just downvoted those 7, because I think this is a big deal.  Have a look at the answer by Eng.Fouad, which is currently the 9th one on this page.  It&#39;s the first really good one."},{"owner":{"account_id":6485594,"reputation":96,"user_id":5381621,"display_name":"Tin Lek"},"score":0,"creation_date":1632687555,"post_id":215505,"comment_id":122553995,"body_markdown":"@niks The third column indicates whether subclasses of the class declared outside this package have access to the member according to Oracle documentation","body":"@niks The third column indicates whether subclasses of the class declared outside this package have access to the member according to Oracle documentation"},{"owner":{"account_id":8412094,"reputation":131,"user_id":6313636,"display_name":"wolfenblut"},"score":1,"creation_date":1650967416,"post_id":215505,"comment_id":127243717,"body_markdown":"Is there any way to make it accessible from only a subclass, or any type of a friend class like in C++?","body":"Is there any way to make it accessible from only a subclass, or any type of a friend class like in C++?"},{"owner":{"account_id":260780,"reputation":16208,"user_id":544557,"display_name":"Jim Balter"},"score":0,"creation_date":1700250512,"post_id":215505,"comment_id":136635703,"body_markdown":"&quot;This answer is answering the question in the title, but not the question in the body.&quot;\n\nWhich makes it a bad answer. (And many of the comments here are atrocious. &quot;World is within your project&quot;? Good grief.)","body":"&quot;This answer is answering the question in the title, but not the question in the body.&quot;  Which makes it a bad answer. (And many of the comments here are atrocious. &quot;World is within your project&quot;? Good grief.)"},{"owner":{"account_id":260780,"reputation":16208,"user_id":544557,"display_name":"Jim Balter"},"score":0,"creation_date":1700250615,"post_id":215505,"comment_id":136635714,"body_markdown":"@wolfenblut See https://stackoverflow.com/questions/69218585/what-are-sealed-classes-in-java-17","body":"@wolfenblut See <a href=\"https://stackoverflow.com/questions/69218585/what-are-sealed-classes-in-java-17\" title=\"what are sealed classes in java 17\">stackoverflow.com/questions/69218585/&hellip;</a>"}],"tags":[],"owner":{"account_id":7800,"reputation":83655,"user_id":13673,"accept_rate":100,"display_name":"David Segonds"},"comment_count":21,"down_vote_count":13,"up_vote_count":6347,"is_accepted":true,"score":6334,"last_activity_date":1613544299,"creation_date":1224359870,"answer_id":215505,"question_id":215497,"body_markdown":"[The official tutorial][1] may be of some use to you.\r\n\r\n----------------------------------------------------------------\r\n|               | Class | Package | Subclass&lt;br/&gt;(same pkg) | Subclass&lt;br/&gt;(diff pkg) | World  |\r\n|---------------|-------|---------|----------|----------|--------|\r\n| `public`      |   +   |    +    |    +     |     +    |   +    | \r\n| `protected`   |   +   |    +    |    +     |     +    |        | \r\n| _no modifier_ |   +   |    +    |    +     |          |        | \r\n| `private`     |   +   |         |          |          |        |\r\n\r\n\\+ : accessible&lt;br/&gt;\r\nblank : not accessible\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/tutorial/java/javaOO/accesscontrol.html","title":"What is the difference between public, protected, package-private and private in Java?","body":"<p><a href=\"http://docs.oracle.com/javase/tutorial/java/javaOO/accesscontrol.html\" rel=\"noreferrer\">The official tutorial</a> may be of some use to you.</p>\n<hr />\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th></th>\n<th>Class</th>\n<th>Package</th>\n<th>Subclass<br/>(same pkg)</th>\n<th>Subclass<br/>(diff pkg)</th>\n<th>World</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code>public</code></td>\n<td>+</td>\n<td>+</td>\n<td>+</td>\n<td>+</td>\n<td>+</td>\n</tr>\n<tr>\n<td><code>protected</code></td>\n<td>+</td>\n<td>+</td>\n<td>+</td>\n<td>+</td>\n<td></td>\n</tr>\n<tr>\n<td><em>no modifier</em></td>\n<td>+</td>\n<td>+</td>\n<td>+</td>\n<td></td>\n<td></td>\n</tr>\n<tr>\n<td><code>private</code></td>\n<td>+</td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>+ : accessible<br/>\nblank : not accessible</p>\n"},{"comments":[{"owner":{"account_id":3313963,"reputation":11003,"user_id":2786733,"accept_rate":95,"display_name":"Andrejs"},"score":4,"creation_date":1456513933,"post_id":215509,"comment_id":58999891,"body_markdown":"@RuchirBaronia, &quot;world&quot;  = all code in the application, regardless where it is.","body":"@RuchirBaronia, &quot;world&quot;  = all code in the application, regardless where it is."},{"owner":{"account_id":4148701,"reputation":15584,"user_id":3924118,"accept_rate":35,"display_name":"nbro"},"score":0,"creation_date":1649155195,"post_id":215509,"comment_id":126798818,"body_markdown":"Although the info in this answer may be useful, the question was not if we should start by declaring everything private and then exposing things, if we need to do that.","body":"Although the info in this answer may be useful, the question was not if we should start by declaring everything private and then exposing things, if we need to do that."}],"tags":[],"owner":{"account_id":12348,"reputation":17081,"user_id":24243,"accept_rate":40,"display_name":"John Nilsson"},"comment_count":2,"down_vote_count":2,"up_vote_count":179,"is_accepted":false,"score":177,"last_activity_date":1532443518,"creation_date":1224360033,"answer_id":215509,"question_id":215497,"body_markdown":"Easy rule. Start with declaring everything private. And then progress towards the public as the needs arise and design warrants it.\r\n\r\nWhen exposing members ask yourself if you are exposing representation choices or abstraction choices. The first is something you want to avoid as it will introduce too many dependencies on the actual representation rather than on its observable behavior.\r\n\r\nAs a general rule I try to avoid overriding method implementations by subclassing; it&#39;s too easy to screw up the logic. Declare abstract protected methods if you intend for it to be overridden.\r\n\r\nAlso, use the @Override annotation when overriding to keep things from breaking when you refactor.","title":"What is the difference between public, protected, package-private and private in Java?","body":"<p>Easy rule. Start with declaring everything private. And then progress towards the public as the needs arise and design warrants it.</p>\n\n<p>When exposing members ask yourself if you are exposing representation choices or abstraction choices. The first is something you want to avoid as it will introduce too many dependencies on the actual representation rather than on its observable behavior.</p>\n\n<p>As a general rule I try to avoid overriding method implementations by subclassing; it's too easy to screw up the logic. Declare abstract protected methods if you intend for it to be overridden.</p>\n\n<p>Also, use the @Override annotation when overriding to keep things from breaking when you refactor.</p>\n"},{"tags":[],"owner":{"account_id":10759,"reputation":50070,"user_id":20471,"accept_rate":78,"display_name":"Joe Phillips"},"comment_count":0,"down_vote_count":0,"up_vote_count":22,"is_accepted":false,"score":22,"last_activity_date":1224360034,"creation_date":1224360034,"answer_id":215510,"question_id":215497,"body_markdown":"The difference can be found in the links already provided but which one to use usually comes down to the &quot;Principle of Least Knowledge&quot;. Only allow the least visibility that is needed.","title":"What is the difference between public, protected, package-private and private in Java?","body":"<p>The difference can be found in the links already provided but which one to use usually comes down to the \"Principle of Least Knowledge\". Only allow the least visibility that is needed.</p>\n"},{"comments":[{"owner":{"account_id":28649,"reputation":38698,"user_id":76722,"accept_rate":80,"display_name":"Sebastian Mach"},"score":27,"creation_date":1307441619,"post_id":215579,"comment_id":7307429,"body_markdown":"friends -&gt; &quot;The less you know about it the better&quot; ---&gt; It gives selective visibility, which is still superior to package privacy. In C++, it has its uses, because not all functions can be member functions, and friends is better than public&#39;ing. Of course there is a danger of misuse by evil minds.","body":"friends -&gt; &quot;The less you know about it the better&quot; ---&gt; It gives selective visibility, which is still superior to package privacy. In C++, it has its uses, because not all functions can be member functions, and friends is better than public&#39;ing. Of course there is a danger of misuse by evil minds."},{"owner":{"account_id":122979,"reputation":3616,"user_id":317135,"accept_rate":93,"display_name":"Rhys van der Waerden"},"score":33,"creation_date":1317558863,"post_id":215579,"comment_id":9259478,"body_markdown":"It should also be noted that &quot;protected&quot; in C++ has a different meaning - a protected method is effectively private, but can still be called from an inheriting class. (As opposed to Java where it can be called by any class within the same package.)","body":"It should also be noted that &quot;protected&quot; in C++ has a different meaning - a protected method is effectively private, but can still be called from an inheriting class. (As opposed to Java where it can be called by any class within the same package.)"},{"owner":{"account_id":56326,"reputation":8327,"user_id":168719,"accept_rate":74,"display_name":"Konrad Morawski"},"score":9,"creation_date":1381858561,"post_id":215579,"comment_id":28733671,"body_markdown":"@RhysvanderWaerden C# is the same as C++ in this aspect. I find it pretty odd that Java doesn&#39;t allow to declare a member that&#39;s accessible to the subclass but not the entire package. It&#39;s sort of upside down to me - a package is broader scope than a child class!","body":"@RhysvanderWaerden C# is the same as C++ in this aspect. I find it pretty odd that Java doesn&#39;t allow to declare a member that&#39;s accessible to the subclass but not the entire package. It&#39;s sort of upside down to me - a package is broader scope than a child class!"},{"owner":{"account_id":118355,"reputation":6273,"user_id":309334,"accept_rate":88,"display_name":"Eponymous"},"score":16,"creation_date":1400791059,"post_id":215579,"comment_id":36639884,"body_markdown":"@KonradMorawski IMHO package is smaller scope than subclass. If you haven&#39;t declared your class final, users should be able to subclass it - so java protected is part of your published interface. OTOH, packages are implicitly developed by a single organization: e.g.  com.mycompany.mypackage. If your code declares itself in my package, you implicitly declare yourself part of my organization, so we should be communicating. Thus, package publishes to a smaller/easier to reach audience (people in my company) than subclass (people who extend my object) and so counts as lower visibility.","body":"@KonradMorawski IMHO package is smaller scope than subclass. If you haven&#39;t declared your class final, users should be able to subclass it - so java protected is part of your published interface. OTOH, packages are implicitly developed by a single organization: e.g.  com.mycompany.mypackage. If your code declares itself in my package, you implicitly declare yourself part of my organization, so we should be communicating. Thus, package publishes to a smaller/easier to reach audience (people in my company) than subclass (people who extend my object) and so counts as lower visibility."},{"owner":{"account_id":2439364,"reputation":5868,"user_id":2128327,"display_name":"Khaled.K"},"score":1,"creation_date":1401255383,"post_id":215579,"comment_id":36806174,"body_markdown":"`friend` only is good for special cases, like overloading classes. otherwise it&#39;s a bad-practice for architectural design, since it will mess up layering-concept","body":"<code>friend</code> only is good for special cases, like overloading classes. otherwise it&#39;s a bad-practice for architectural design, since it will mess up layering-concept"},{"owner":{"account_id":239780,"reputation":3693,"user_id":509614,"accept_rate":88,"display_name":"Dennis"},"score":3,"creation_date":1418033129,"post_id":215579,"comment_id":43163815,"body_markdown":"`friend` is good for defining special relationships between classes. It allows superior encapsulation in many cases when used correctly. For example it can be used by a privileged factory class to inject internal dependencies into a constructed type. It has a bad name because people who don&#39;t care about correctly maintaining a well designed object model can abuse it to ease their workload.","body":"<code>friend</code> is good for defining special relationships between classes. It allows superior encapsulation in many cases when used correctly. For example it can be used by a privileged factory class to inject internal dependencies into a constructed type. It has a bad name because people who don&#39;t care about correctly maintaining a well designed object model can abuse it to ease their workload."},{"owner":{"account_id":2690516,"reputation":105,"user_id":2323972,"display_name":"Mic"},"score":0,"creation_date":1654605127,"post_id":215579,"comment_id":128126071,"body_markdown":"I think the single thing, which causes ambiguty is the name of access modifier &quot;Package Private&quot; which called &quot;Internal&quot; in C# - this is a much better name, IMHO.","body":"I think the single thing, which causes ambiguty is the name of access modifier &quot;Package Private&quot; which called &quot;Internal&quot; in C# - this is a much better name, IMHO."},{"owner":{"account_id":260780,"reputation":16208,"user_id":544557,"display_name":"Jim Balter"},"score":0,"creation_date":1700249411,"post_id":215579,"comment_id":136635534,"body_markdown":"&quot;a protected method is effectively private&quot; -- it&#39;s sad that someone completely ignored the discussion of &quot;published&quot; (and then 33 people upvoted that comment, sigh). A C++ protected method is most certainly not &quot;private&quot; in any sense.","body":"&quot;a protected method is effectively private&quot; -- it&#39;s sad that someone completely ignored the discussion of &quot;published&quot; (and then 33 people upvoted that comment, sigh). A C++ protected method is most certainly not &quot;private&quot; in any sense."}],"tags":[],"owner":{"account_id":8210,"reputation":155095,"user_id":14660,"accept_rate":62,"display_name":"Schwern"},"comment_count":8,"down_vote_count":6,"up_vote_count":547,"is_accepted":false,"score":541,"last_activity_date":1639961613,"creation_date":1224364647,"answer_id":215579,"question_id":215497,"body_markdown":"(Caveat:  I am not a Java programmer, I am a Perl programmer.  Perl has no formal protections which is perhaps why I understand the problem so well :) )\r\n\r\nPrivate\r\n-------\r\n\r\nLike you&#39;d think, only the **class** in which it is declared can see it.\r\n\r\nPackage Private\r\n---------------\r\n\r\nIt can only be seen and used by the **package** in which it was declared.  This is the default in Java (which some see as a mistake).\r\n\r\nProtected\r\n---------\r\n\r\nPackage Private + can be seen by subclasses or package members.\r\n\r\nPublic\r\n------\r\n\r\nEveryone can see it.\r\n\r\n[Published][1]\r\n--------------\r\n\r\nVisible outside the code I control.  (While not Java syntax, it is important for this discussion).\r\n\r\nC++ defines an additional level called &quot;friend&quot; and the less you know about that the better.\r\n\r\n\r\nWhen should you use what?  The whole idea is encapsulation to hide information.  As much as possible you want to hide the detail of how something is done from your users.  Why?  Because then you can change them later and not break anybody&#39;s code.  This lets you optimize, refactor, redesign, and fix bugs without worrying that someone was using that code you just overhauled.\r\n\r\nSo, the rule of thumb is to make things only as visible as they have to be.  Start with private and only add more visibility as needed.  Only make public that which is necessary for the user to know, every detail you make public cramps your ability to redesign the system.\r\n\r\nIf you want users to be able to customize behaviors, rather than making internals public so they can override them, it&#39;s often a better idea to shove those guts into an object and make that interface public.  That way they can simply plug in a new object.  For example, if you were writing a CD player and wanted the &quot;go find info about this CD&quot; bit customizable, rather than make those methods public you&#39;d put all that functionality into its object and make just your object getter/setter public.  In this way being stingy about exposing your guts encourages good composition and separation of concerns\r\n\r\nI stick with just &quot;private&quot; and &quot;public&quot;.  Many OO languages just have that.  &quot;Protected&quot; can be handy, but it&#39;s a cheat.  Once an interface is more than private it&#39;s outside of your control and you have to go looking in other people&#39;s code to find uses.\r\n\r\nThis is where the idea of &quot;published&quot; comes in.  Changing an interface (refactoring it) requires that you find all the code which is using it and change that, too.  If the interface is private, well no problem.  If it&#39;s protected you have to go find all your subclasses.  If it&#39;s public you have to go find all the code which uses your code.  Sometimes this is possible, for example, if you&#39;re working on corporate code that&#39;s for internal use only it doesn&#39;t matter if an interface is public.  You can grab all the code out of the corporate repository.  But if an interface is &quot;published&quot;, if there is code using it outside your control, then you&#39;re hosed.  You must support that interface or risk breaking code.  Even protected interfaces can be considered published (which is why I don&#39;t bother with protected).\r\n\r\nMany languages find the hierarchical nature of public/protected/private to be too limiting and not in line with reality.  To that end, there is the concept of a [trait class][2], but that&#39;s another show.\r\n\r\n\r\n  [1]: http://martinfowler.com/ieeeSoftware/published.pdf\r\n  [2]: http://en.wikipedia.org/wiki/Trait_class","title":"What is the difference between public, protected, package-private and private in Java?","body":"<p>(Caveat:  I am not a Java programmer, I am a Perl programmer.  Perl has no formal protections which is perhaps why I understand the problem so well :) )</p>\n<h2>Private</h2>\n<p>Like you'd think, only the <strong>class</strong> in which it is declared can see it.</p>\n<h2>Package Private</h2>\n<p>It can only be seen and used by the <strong>package</strong> in which it was declared.  This is the default in Java (which some see as a mistake).</p>\n<h2>Protected</h2>\n<p>Package Private + can be seen by subclasses or package members.</p>\n<h2>Public</h2>\n<p>Everyone can see it.</p>\n<h2><a href=\"http://martinfowler.com/ieeeSoftware/published.pdf\" rel=\"noreferrer\">Published</a></h2>\n<p>Visible outside the code I control.  (While not Java syntax, it is important for this discussion).</p>\n<p>C++ defines an additional level called &quot;friend&quot; and the less you know about that the better.</p>\n<p>When should you use what?  The whole idea is encapsulation to hide information.  As much as possible you want to hide the detail of how something is done from your users.  Why?  Because then you can change them later and not break anybody's code.  This lets you optimize, refactor, redesign, and fix bugs without worrying that someone was using that code you just overhauled.</p>\n<p>So, the rule of thumb is to make things only as visible as they have to be.  Start with private and only add more visibility as needed.  Only make public that which is necessary for the user to know, every detail you make public cramps your ability to redesign the system.</p>\n<p>If you want users to be able to customize behaviors, rather than making internals public so they can override them, it's often a better idea to shove those guts into an object and make that interface public.  That way they can simply plug in a new object.  For example, if you were writing a CD player and wanted the &quot;go find info about this CD&quot; bit customizable, rather than make those methods public you'd put all that functionality into its object and make just your object getter/setter public.  In this way being stingy about exposing your guts encourages good composition and separation of concerns</p>\n<p>I stick with just &quot;private&quot; and &quot;public&quot;.  Many OO languages just have that.  &quot;Protected&quot; can be handy, but it's a cheat.  Once an interface is more than private it's outside of your control and you have to go looking in other people's code to find uses.</p>\n<p>This is where the idea of &quot;published&quot; comes in.  Changing an interface (refactoring it) requires that you find all the code which is using it and change that, too.  If the interface is private, well no problem.  If it's protected you have to go find all your subclasses.  If it's public you have to go find all the code which uses your code.  Sometimes this is possible, for example, if you're working on corporate code that's for internal use only it doesn't matter if an interface is public.  You can grab all the code out of the corporate repository.  But if an interface is &quot;published&quot;, if there is code using it outside your control, then you're hosed.  You must support that interface or risk breaking code.  Even protected interfaces can be considered published (which is why I don't bother with protected).</p>\n<p>Many languages find the hierarchical nature of public/protected/private to be too limiting and not in line with reality.  To that end, there is the concept of a <a href=\"http://en.wikipedia.org/wiki/Trait_class\" rel=\"noreferrer\">trait class</a>, but that's another show.</p>\n"},{"tags":[],"owner":{"account_id":13054,"reputation":2642,"user_id":26010,"display_name":"Dov Wasserman"},"comment_count":0,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1510438975,"creation_date":1224386287,"answer_id":215951,"question_id":215497,"body_markdown":"David&#39;s answer provides the meaning of each access modifier. As for when to use each, I&#39;d suggest making public all classes and the methods of each class that are meant for external use (its API), and everything else private.\r\n\r\nOver time you&#39;ll develop a sense for when to make some classes package-private and when to declare certain methods protected for use in subclasses.\r\n","title":"What is the difference between public, protected, package-private and private in Java?","body":"<p>David's answer provides the meaning of each access modifier. As for when to use each, I'd suggest making public all classes and the methods of each class that are meant for external use (its API), and everything else private.</p>\n\n<p>Over time you'll develop a sense for when to make some classes package-private and when to declare certain methods protected for use in subclasses.</p>\n"},{"comments":[{"owner":{"account_id":1176664,"reputation":20820,"user_id":1152500,"accept_rate":47,"display_name":"Anand"},"score":0,"creation_date":1351364136,"post_id":9719131,"comment_id":17809707,"body_markdown":"Just to add this &quot;Once the child gets access to the parent class’s protected member, it becomes private (or rather I would say a special private member which can be inherited by the subclasses of the subclass) member of the subclass.&quot;","body":"Just to add this &quot;Once the child gets access to the parent class’s protected member, it becomes private (or rather I would say a special private member which can be inherited by the subclasses of the subclass) member of the subclass.&quot;"}],"tags":[],"owner":{"account_id":1085679,"reputation":508,"user_id":1081454,"display_name":"dameng"},"comment_count":1,"down_vote_count":1,"up_vote_count":12,"is_accepted":false,"score":11,"last_activity_date":1510439025,"creation_date":1331812430,"answer_id":9719131,"question_id":215497,"body_markdown":"[This page writes well about the protected &amp; default access modifier][1]\r\n\r\n....\r\nProtected: Protected access modifier is the a little tricky and you can say is a superset of the default access modifier. Protected members are same as the default members as far as the access in the same package is concerned. The difference is that, the protected members are also accessible to the subclasses of the class in which the member is declared which are outside the package in which the parent class is present.\r\n\r\nBut these protected members are “accessible outside the package only through inheritance“. i.e you can access a protected member of a class in its subclass present in some other package directly as if the member is present in the subclass itself. But that protected member will not be accessible in the subclass outside the package by using parent class’s reference. \r\n....\r\n\r\n  [1]: http://sanjusoftware.wordpress.com/2007/11/06/protected-and-default-java-keyword/\r\n\r\n","title":"What is the difference between public, protected, package-private and private in Java?","body":"<p><a href=\"http://sanjusoftware.wordpress.com/2007/11/06/protected-and-default-java-keyword/\" rel=\"nofollow noreferrer\">This page writes well about the protected &amp; default access modifier</a></p>\n\n<p>....\nProtected: Protected access modifier is the a little tricky and you can say is a superset of the default access modifier. Protected members are same as the default members as far as the access in the same package is concerned. The difference is that, the protected members are also accessible to the subclasses of the class in which the member is declared which are outside the package in which the parent class is present.</p>\n\n<p>But these protected members are “accessible outside the package only through inheritance“. i.e you can access a protected member of a class in its subclass present in some other package directly as if the member is present in the subclass itself. But that protected member will not be accessible in the subclass outside the package by using parent class’s reference. \n....</p>\n"},{"comments":[{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":3,"creation_date":1535229292,"post_id":12401576,"comment_id":90992444,"body_markdown":"*&quot;modifiers other than public are forbidden&quot;* — as of Java 9, this is no longer the case: interfaces can also have private methods.","body":"<i>&quot;modifiers other than public are forbidden&quot;</i> — as of Java 9, this is no longer the case: interfaces can also have private methods."}],"tags":[],"owner":{"account_id":124682,"reputation":30003,"user_id":319931,"accept_rate":75,"display_name":"Mechanical snail"},"comment_count":1,"down_vote_count":1,"up_vote_count":124,"is_accepted":false,"score":123,"last_activity_date":1347521932,"creation_date":1347521932,"answer_id":12401576,"question_id":215497,"body_markdown":"It&#39;s actually a bit more complicated than a simple grid shows. The grid tells you whether an access is allowed, but what exactly constitutes an access? Also, access levels interact with nested classes and inheritance in complex ways.\r\n\r\nThe &quot;default&quot; access (specified by the absence of a keyword) is also called [**package-private**](https://stackoverflow.com/questions/5416074/java-package-private-terminology). Exception: in an interface, no modifier means public access; modifiers other than public are forbidden. Enum constants are always public.\r\n\r\n## Summary\r\nIs an access to a member with this access specifier allowed?\r\n\r\n* Member is `private`: Only if member is defined within the same class as calling code.\r\n* Member is package private: Only if the calling code is within the member&#39;s immediately enclosing package.\r\n* Member is `protected`: Same package, or if member is defined in a superclass of the class containing the calling code.\r\n* Member is `public`: Yes.\r\n\r\n## What access specifiers apply to\r\n\r\nLocal variables and formal parameters cannot take access specifiers. Since they are inherently inaccessible to the outside according to scoping rules, they are effectively private.\r\n\r\nFor classes in the top scope, only `public` and package-private are permitted. This design choice is presumably because `protected` and `private` would be redundant at the package level (there is no inheritance of packages).\r\n\r\nAll the access specifiers are possible on class members (constructors, methods and static member functions, nested classes).\r\n\r\nRelated: https://stackoverflow.com/questions/267781/java-class-accessibility\r\n\r\n## Order\r\nThe access specifiers can be strictly ordered\r\n\r\n&gt; public &gt; protected &gt; package-private &gt; private\r\n\r\nmeaning that `public` provides the most access, `private` the least. Any reference possible on a private member is also valid for a package-private member; any reference to a package-private member is valid on a protected member, and so on. (Giving access to protected members to other classes in the same package was considered a mistake.)\r\n\r\n## Notes\r\n\r\n* [A class&#39;s methods *are* allowed to access private members of other objects of the same class.](https://stackoverflow.com/questions/676930/private-member-access-java) More precisely, a method of class C can access private members of C on objects of any subclass of C. Java doesn&#39;t support restricting access by instance, only by class. (Compare with Scala, which does support it using `private[this]`.)\r\n* You need access to a constructor to construct an object. Thus if all constructors are private, the class can only be constructed by code living within the class (typically static factory methods or static variable initializers). Similarly for package-private or protected constructors.\r\n  * Only having private constructors also means that the class cannot be subclassed externally, since Java requires a subclass&#39;s constructors to implicitly or explicitly call a superclass constructor. (It can, however, contain a nested class that subclasses it.)\r\n\r\n## Inner classes\r\nYou also have to consider *nested* scopes, such as inner classes. An example of the complexity is that inner classes have members, which themselves can take access modifiers. So you can have a private inner class with a public member; can the member be accessed? (See below.) The general rule is to look at scope and think recursively to see whether you can access each level.\r\n\r\nHowever, this is quite complicated, and for full details, [consult the Java Language Specification](http://docs.oracle.com/javase/specs/jls/se7/html/jls-6.html#jls-6.6). (Yes, there have been compiler bugs in the past.)\r\n\r\nFor a taste of how these interact, consider this example. It is possible to &quot;leak&quot; private inner classes; this is usually a warning:\r\n\r\n    class Test {\r\n        public static void main(final String ... args) {\r\n            System.out.println(Example.leakPrivateClass()); // OK\r\n            Example.leakPrivateClass().secretMethod(); // error\r\n        }\r\n    }\r\n    \r\n    class Example {\r\n        private static class NestedClass {\r\n            public void secretMethod() {\r\n                System.out.println(&quot;Hello&quot;);\r\n            }\r\n        }\r\n        public static NestedClass leakPrivateClass() {\r\n            return new NestedClass();\r\n        }\r\n    }\r\n\r\nCompiler output:\r\n\r\n    Test.java:4: secretMethod() in Example.NestedClass is defined in an inaccessible class or interface\r\n            Example.leakPrivateClass().secretMethod(); // error\r\n                                      ^\r\n    1 error\r\n\r\nSome related questions:\r\n\r\n* https://stackoverflow.com/questions/1350171/java-method-accessibility-inside-package-private-class\r\n","title":"What is the difference between public, protected, package-private and private in Java?","body":"<p>It's actually a bit more complicated than a simple grid shows. The grid tells you whether an access is allowed, but what exactly constitutes an access? Also, access levels interact with nested classes and inheritance in complex ways.</p>\n\n<p>The \"default\" access (specified by the absence of a keyword) is also called <a href=\"https://stackoverflow.com/questions/5416074/java-package-private-terminology\"><strong>package-private</strong></a>. Exception: in an interface, no modifier means public access; modifiers other than public are forbidden. Enum constants are always public.</p>\n\n<h2>Summary</h2>\n\n<p>Is an access to a member with this access specifier allowed?</p>\n\n<ul>\n<li>Member is <code>private</code>: Only if member is defined within the same class as calling code.</li>\n<li>Member is package private: Only if the calling code is within the member's immediately enclosing package.</li>\n<li>Member is <code>protected</code>: Same package, or if member is defined in a superclass of the class containing the calling code.</li>\n<li>Member is <code>public</code>: Yes.</li>\n</ul>\n\n<h2>What access specifiers apply to</h2>\n\n<p>Local variables and formal parameters cannot take access specifiers. Since they are inherently inaccessible to the outside according to scoping rules, they are effectively private.</p>\n\n<p>For classes in the top scope, only <code>public</code> and package-private are permitted. This design choice is presumably because <code>protected</code> and <code>private</code> would be redundant at the package level (there is no inheritance of packages).</p>\n\n<p>All the access specifiers are possible on class members (constructors, methods and static member functions, nested classes).</p>\n\n<p>Related: <a href=\"https://stackoverflow.com/questions/267781/java-class-accessibility\">Java Class Accessibility</a></p>\n\n<h2>Order</h2>\n\n<p>The access specifiers can be strictly ordered</p>\n\n<blockquote>\n  <p>public > protected > package-private > private</p>\n</blockquote>\n\n<p>meaning that <code>public</code> provides the most access, <code>private</code> the least. Any reference possible on a private member is also valid for a package-private member; any reference to a package-private member is valid on a protected member, and so on. (Giving access to protected members to other classes in the same package was considered a mistake.)</p>\n\n<h2>Notes</h2>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/676930/private-member-access-java\">A class's methods <em>are</em> allowed to access private members of other objects of the same class.</a> More precisely, a method of class C can access private members of C on objects of any subclass of C. Java doesn't support restricting access by instance, only by class. (Compare with Scala, which does support it using <code>private[this]</code>.)</li>\n<li>You need access to a constructor to construct an object. Thus if all constructors are private, the class can only be constructed by code living within the class (typically static factory methods or static variable initializers). Similarly for package-private or protected constructors.\n\n<ul>\n<li>Only having private constructors also means that the class cannot be subclassed externally, since Java requires a subclass's constructors to implicitly or explicitly call a superclass constructor. (It can, however, contain a nested class that subclasses it.)</li>\n</ul></li>\n</ul>\n\n<h2>Inner classes</h2>\n\n<p>You also have to consider <em>nested</em> scopes, such as inner classes. An example of the complexity is that inner classes have members, which themselves can take access modifiers. So you can have a private inner class with a public member; can the member be accessed? (See below.) The general rule is to look at scope and think recursively to see whether you can access each level.</p>\n\n<p>However, this is quite complicated, and for full details, <a href=\"http://docs.oracle.com/javase/specs/jls/se7/html/jls-6.html#jls-6.6\" rel=\"noreferrer\">consult the Java Language Specification</a>. (Yes, there have been compiler bugs in the past.)</p>\n\n<p>For a taste of how these interact, consider this example. It is possible to \"leak\" private inner classes; this is usually a warning:</p>\n\n<pre><code>class Test {\n    public static void main(final String ... args) {\n        System.out.println(Example.leakPrivateClass()); // OK\n        Example.leakPrivateClass().secretMethod(); // error\n    }\n}\n\nclass Example {\n    private static class NestedClass {\n        public void secretMethod() {\n            System.out.println(\"Hello\");\n        }\n    }\n    public static NestedClass leakPrivateClass() {\n        return new NestedClass();\n    }\n}\n</code></pre>\n\n<p>Compiler output:</p>\n\n<pre><code>Test.java:4: secretMethod() in Example.NestedClass is defined in an inaccessible class or interface\n        Example.leakPrivateClass().secretMethod(); // error\n                                  ^\n1 error\n</code></pre>\n\n<p>Some related questions:</p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/1350171/java-method-accessibility-inside-package-private-class\">Java - Method accessibility inside package-private class?</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":1189417,"reputation":30924,"user_id":1162620,"accept_rate":70,"display_name":"Ravi"},"comment_count":0,"down_vote_count":2,"up_vote_count":60,"is_accepted":false,"score":58,"last_activity_date":1474700708,"creation_date":1351360160,"answer_id":13102616,"question_id":215497,"body_markdown":"In very short\r\n\r\n - `public`: accessible from everywhere. \r\n - `protected`: accessible by the classes of the same package and the subclasses residing in any package.\r\n - default (no modifier specified): accessible by the classes of the same package.\r\n - `private`: accessible within the same class only.","title":"What is the difference between public, protected, package-private and private in Java?","body":"<p>In very short</p>\n\n<ul>\n<li><code>public</code>: accessible from everywhere. </li>\n<li><code>protected</code>: accessible by the classes of the same package and the subclasses residing in any package.</li>\n<li>default (no modifier specified): accessible by the classes of the same package.</li>\n<li><code>private</code>: accessible within the same class only.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":308156,"reputation":13682,"user_id":619860,"accept_rate":80,"display_name":"Hoa Nguyen"},"comment_count":0,"down_vote_count":1,"up_vote_count":100,"is_accepted":false,"score":99,"last_activity_date":1561478124,"creation_date":1355853689,"answer_id":13938807,"question_id":215497,"body_markdown":"As a rule of thumb: \r\n\r\n - `private`: class scope.\r\n - `default` (or `package-private`): package scope.\r\n - `protected`: `package scope + child` (like package, but we can subclass it from different packages). The protected modifier always keeps the &quot;parent-child&quot; relationship.\r\n - `public`: everywhere.\r\n\r\nAs a result, if we divide access right into three rights: \r\n\r\n - **(D)irect** (invoke from a method inside the same class, or via &quot;this&quot; syntax).\r\n - **(R)eference** (invoke a method using a reference to the class, or via &quot;dot&quot; syntax).\r\n - **(I)nheritance** (via subclassing).\r\n\r\nthen we have this simple table:\r\n \r\n\r\n    +—-———————————————+————————————+———————————+\r\n    |                 |    Same    | Different |\r\n    |                 |   Package  | Packages  |\r\n    +—————————————————+————————————+———————————+\r\n    | private         |   D        |           |\r\n    +—————————————————+————————————+———————————+\r\n    | package-private |            |           |\r\n    | (no modifier)   |   D R I    |           |\r\n    +—————————————————+————————————+———————————+\r\n    | protected       |   D R I    |       I   |\r\n    +—————————————————+————————————+———————————+\r\n    | public          |   D R I    |    R  I   |\r\n    +—————————————————+————————————+———————————+","title":"What is the difference between public, protected, package-private and private in Java?","body":"<p>As a rule of thumb: </p>\n\n<ul>\n<li><code>private</code>: class scope.</li>\n<li><code>default</code> (or <code>package-private</code>): package scope.</li>\n<li><code>protected</code>: <code>package scope + child</code> (like package, but we can subclass it from different packages). The protected modifier always keeps the \"parent-child\" relationship.</li>\n<li><code>public</code>: everywhere.</li>\n</ul>\n\n<p>As a result, if we divide access right into three rights: </p>\n\n<ul>\n<li><strong>(D)irect</strong> (invoke from a method inside the same class, or via \"this\" syntax).</li>\n<li><strong>(R)eference</strong> (invoke a method using a reference to the class, or via \"dot\" syntax).</li>\n<li><strong>(I)nheritance</strong> (via subclassing).</li>\n</ul>\n\n<p>then we have this simple table:</p>\n\n<pre><code>+—-———————————————+————————————+———————————+\n|                 |    Same    | Different |\n|                 |   Package  | Packages  |\n+—————————————————+————————————+———————————+\n| private         |   D        |           |\n+—————————————————+————————————+———————————+\n| package-private |            |           |\n| (no modifier)   |   D R I    |           |\n+—————————————————+————————————+———————————+\n| protected       |   D R I    |       I   |\n+—————————————————+————————————+———————————+\n| public          |   D R I    |    R  I   |\n+—————————————————+————————————+———————————+\n</code></pre>\n"},{"comments":[{"owner":{"account_id":4660591,"reputation":840,"user_id":3774976,"accept_rate":75,"display_name":"vanguard69"},"score":2,"creation_date":1471280004,"post_id":14247032,"comment_id":65273116,"body_markdown":"It is worth putting in words - &quot;Protected modifier makes the object available across other packages, whereas default/no-modifier restricts access to the same package&quot;","body":"It is worth putting in words - &quot;Protected modifier makes the object available across other packages, whereas default/no-modifier restricts access to the same package&quot;"},{"owner":{"account_id":873159,"reputation":26684,"user_id":923560,"accept_rate":47,"display_name":"Abdull"},"score":3,"creation_date":1471284840,"post_id":14247032,"comment_id":65275628,"body_markdown":"@vanguard69, the `protected` modifier makes the marked *thing* (class, method, or field) available to some other class in some other package **only iff** said other class is a subclass of the class where that `protected`- marked *thing* is declared.","body":"@vanguard69, the <code>protected</code> modifier makes the marked <i>thing</i> (class, method, or field) available to some other class in some other package <b>only iff</b> said other class is a subclass of the class where that <code>protected</code>- marked <i>thing</i> is declared."}],"tags":[],"owner":{"account_id":873159,"reputation":26684,"user_id":923560,"accept_rate":47,"display_name":"Abdull"},"comment_count":2,"down_vote_count":3,"up_vote_count":229,"is_accepted":false,"score":226,"last_activity_date":1697652432,"creation_date":1357767760,"answer_id":14247032,"question_id":215497,"body_markdown":"\r\n```lang-none\r\n____________________________________________________________________\r\n                | highest precedence &lt;---------&gt; lowest precedence\r\n*———————————————+———————————————+———————————+———————————————+———————\r\n \\ xCanBeSeenBy | this          | any class | this subclass | any\r\n  \\__________   | class         | in same   | in another    | class\r\n             \\  | nonsubbed     | package   | package       |\r\nModifier of x \\ |               |           |               |\r\n————————————————*———————————————+———————————+———————————————+———————\r\npublic          |       ✔       |     ✔     |       ✔       |   ✔\r\n————————————————+———————————————+———————————+———————————————+———————\r\nprotected       |       ✔       |     ✔     |       ✔       |   ✘\r\n————————————————+———————————————+———————————+———————————————+———————\r\npackage-private |               |           |               |\r\n(no modifier)   |       ✔       |     ✔     |       ✘       |   ✘\r\n————————————————+———————————————+———————————+———————————————+———————\r\nprivate         |       ✔       |     ✘     |       ✘       |   ✘\r\n____________________________________________________________________\r\n```\r\n\r\n","title":"What is the difference between public, protected, package-private and private in Java?","body":"<pre class=\"lang-none prettyprint-override\"><code>____________________________________________________________________\n                | highest precedence &lt;---------&gt; lowest precedence\n*———————————————+———————————————+———————————+———————————————+———————\n \\ xCanBeSeenBy | this          | any class | this subclass | any\n  \\__________   | class         | in same   | in another    | class\n             \\  | nonsubbed     | package   | package       |\nModifier of x \\ |               |           |               |\n————————————————*———————————————+———————————+———————————————+———————\npublic          |       ✔       |     ✔     |       ✔       |   ✔\n————————————————+———————————————+———————————+———————————————+———————\nprotected       |       ✔       |     ✔     |       ✔       |   ✘\n————————————————+———————————————+———————————+———————————————+———————\npackage-private |               |           |               |\n(no modifier)   |       ✔       |     ✔     |       ✘       |   ✘\n————————————————+———————————————+———————————+———————————————+———————\nprivate         |       ✔       |     ✘     |       ✘       |   ✘\n____________________________________________________________________\n</code></pre>\n"},{"comments":[{"owner":{"account_id":294022,"reputation":115930,"user_id":597657,"accept_rate":99,"display_name":"Eng.Fouad"},"score":0,"creation_date":1384546093,"post_id":20009675,"comment_id":29794331,"body_markdown":"`Object#clone()` is an example of a `protected` member.","body":"<code>Object#clone()</code> is an example of a <code>protected</code> member."},{"owner":{"account_id":5024623,"reputation":3851,"user_id":4037019,"accept_rate":100,"display_name":"cst1992"},"score":1,"creation_date":1509182294,"post_id":20009675,"comment_id":80922879,"body_markdown":"What is the difference between doing `super.foo()` and the first invalid situation `f.foo()`?","body":"What is the difference between doing <code>super.foo()</code> and the first invalid situation <code>f.foo()</code>?"},{"owner":{"account_id":3576533,"reputation":16716,"user_id":2985643,"accept_rate":40,"display_name":"skomisa"},"score":4,"creation_date":1517334917,"post_id":20009675,"comment_id":84050244,"body_markdown":"@cst1992 It&#39;s confusing but see the Java Language Specification 6.6.2: &quot;A protected member or constructor of an object may be accessed from outside the package in which it is declared only by code that is responsible for the implementation of that object&quot;. With super.foo() the reference &quot;super&quot; is &quot;directly responsible for the implementation&quot; but the reference &quot;f&quot; is not. Why? Because you can be 100% certain that &quot;super&quot; is of type Father, but not for &quot;f&quot;; at run-time it could be some other sub-type of Father. See https://docs.oracle.com/javase/specs/jls/se9/html/jls-6.html#jls-6.6.2.1","body":"@cst1992 It&#39;s confusing but see the Java Language Specification 6.6.2: &quot;A protected member or constructor of an object may be accessed from outside the package in which it is declared only by code that is responsible for the implementation of that object&quot;. With super.foo() the reference &quot;super&quot; is &quot;directly responsible for the implementation&quot; but the reference &quot;f&quot; is not. Why? Because you can be 100% certain that &quot;super&quot; is of type Father, but not for &quot;f&quot;; at run-time it could be some other sub-type of Father. See <a href=\"https://docs.oracle.com/javase/specs/jls/se9/html/jls-6.html#jls-6.6.2.1\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/specs/jls/se9/html/&hellip;</a>"},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":1,"creation_date":1531290057,"post_id":20009675,"comment_id":89534452,"body_markdown":"It&#39;s refreshing to read an answer from someone who understands `protected`.  Unfortunately, all the other answers on this page that define `protected` get it a little bit wrong.","body":"It&#39;s refreshing to read an answer from someone who understands <code>protected</code>.  Unfortunately, all the other answers on this page that define <code>protected</code> get it a little bit wrong."},{"owner":{"account_id":260780,"reputation":16208,"user_id":544557,"display_name":"Jim Balter"},"score":0,"creation_date":1700251361,"post_id":20009675,"comment_id":136635834,"body_markdown":"@MarcoSulla skomisa also quoted from &quot;the official Oracle site&quot; but his quote is from the *spec*, whereas your quote is from a *tutorial*. The tutorial omits the detail that access to protected members from subclasses outside the package depends on the reference.","body":"@MarcoSulla skomisa also quoted from &quot;the official Oracle site&quot; but his quote is from the <i>spec</i>, whereas your quote is from a <i>tutorial</i>. The tutorial omits the detail that access to protected members from subclasses outside the package depends on the reference."}],"tags":[],"owner":{"account_id":294022,"reputation":115930,"user_id":597657,"accept_rate":99,"display_name":"Eng.Fouad"},"comment_count":5,"down_vote_count":0,"up_vote_count":53,"is_accepted":false,"score":53,"last_activity_date":1505417716,"creation_date":1384546016,"answer_id":20009675,"question_id":215497,"body_markdown":"The most misunderstood access modifier in Java is `protected`. We know that it&#39;s similar to the default modifier with one exception in which subclasses can see it. But how? Here is an example which hopefully clarifies the confusion:\r\n\r\n - Assume that we have 2 classes; `Father` and `Son`, each in its own package:\r\n        \r\n        package fatherpackage;\r\n        \r\n        public class Father\r\n        {\r\n            \r\n        }\r\n        \r\n        -------------------------------------------\r\n        \r\n        package sonpackage;\r\n        \r\n        public class Son extends Father\r\n        {\r\n            \r\n        }\r\n\r\n - Let&#39;s add a protected method `foo()` to `Father`.\r\n        \r\n        package fatherpackage;\r\n        \r\n        public class Father\r\n        {\r\n            protected void foo(){}\r\n        }\r\n\r\n - The method `foo()` can be called in 4 contexts:\r\n\r\n  1. Inside a class that is located in the same package where `foo()` is defined (`fatherpackage`):\r\n            \r\n            package fatherpackage;\r\n            \r\n            public class SomeClass\r\n            {\r\n                public void someMethod(Father f, Son s)\r\n                {\r\n                    f.foo();\r\n                    s.foo();\r\n                }\r\n            }\r\n\r\n 2. Inside a subclass, on the current instance via `this` or `super`:\r\n            \r\n            package sonpackage;\r\n            \r\n            public class Son extends Father\r\n            {\r\n                public void sonMethod()\r\n                {\r\n                    this.foo();\r\n                    super.foo();\r\n                }\r\n            }\r\n\r\n 3. On an reference whose type is the same class:\r\n\r\n            package fatherpackage;\r\n            \r\n            public class Father\r\n            {\r\n                public void fatherMethod(Father f)\r\n                {\r\n                    f.foo(); // valid even if foo() is private\r\n                }\r\n            }\r\n            \r\n            -------------------------------------------\r\n            \r\n            package sonpackage;\r\n            \r\n            public class Son extends Father\r\n            {\r\n                public void sonMethod(Son s)\r\n                {\r\n                    s.foo();\r\n                }\r\n            }\r\n\r\n  4. On an reference whose type is the parent class and it is *inside* the package where `foo()` is defined (`fatherpackage`) [This can be included inside context no. 1]:\r\n            \r\n            package fatherpackage;\r\n            \r\n            public class Son extends Father\r\n            {\r\n                public void sonMethod(Father f)\r\n                {\r\n                    f.foo();\r\n                }\r\n            }\r\n\r\n - The following situations are not valid.\r\n\r\n  1. On an reference whose type is the parent class and it is *outside* the package where `foo()` is defined (`fatherpackage`):\r\n            \r\n            package sonpackage;\r\n            \r\n            public class Son extends Father\r\n            {\r\n                public void sonMethod(Father f)\r\n                {\r\n                    f.foo(); // compilation error\r\n                }\r\n            }\r\n\r\n   2. A non-subclass inside a package of a subclass (A subclass inherits the protected members from its parent, and it makes them private to non-subclasses):\r\n            \r\n            package sonpackage;\r\n            \r\n            public class SomeClass\r\n            {\r\n                public void someMethod(Son s) throws Exception\r\n                {\r\n                    s.foo(); // compilation error\r\n                }\r\n            }","title":"What is the difference between public, protected, package-private and private in Java?","body":"<p>The most misunderstood access modifier in Java is <code>protected</code>. We know that it's similar to the default modifier with one exception in which subclasses can see it. But how? Here is an example which hopefully clarifies the confusion:</p>\n\n<ul>\n<li><p>Assume that we have 2 classes; <code>Father</code> and <code>Son</code>, each in its own package:</p>\n\n<pre><code>package fatherpackage;\n\npublic class Father\n{\n\n}\n\n-------------------------------------------\n\npackage sonpackage;\n\npublic class Son extends Father\n{\n\n}\n</code></pre></li>\n<li><p>Let's add a protected method <code>foo()</code> to <code>Father</code>.</p>\n\n<pre><code>package fatherpackage;\n\npublic class Father\n{\n    protected void foo(){}\n}\n</code></pre></li>\n<li><p>The method <code>foo()</code> can be called in 4 contexts:</p>\n\n<ol>\n<li><p>Inside a class that is located in the same package where <code>foo()</code> is defined (<code>fatherpackage</code>):</p>\n\n<pre><code>package fatherpackage;\n\npublic class SomeClass\n{\n    public void someMethod(Father f, Son s)\n    {\n        f.foo();\n        s.foo();\n    }\n}\n</code></pre></li>\n<li><p>Inside a subclass, on the current instance via <code>this</code> or <code>super</code>:</p>\n\n<pre><code>package sonpackage;\n\npublic class Son extends Father\n{\n    public void sonMethod()\n    {\n        this.foo();\n        super.foo();\n    }\n}\n</code></pre></li>\n<li><p>On an reference whose type is the same class:</p>\n\n<pre><code>package fatherpackage;\n\npublic class Father\n{\n    public void fatherMethod(Father f)\n    {\n        f.foo(); // valid even if foo() is private\n    }\n}\n\n-------------------------------------------\n\npackage sonpackage;\n\npublic class Son extends Father\n{\n    public void sonMethod(Son s)\n    {\n        s.foo();\n    }\n}\n</code></pre></li>\n<li><p>On an reference whose type is the parent class and it is <em>inside</em> the package where <code>foo()</code> is defined (<code>fatherpackage</code>) [This can be included inside context no. 1]:</p>\n\n<pre><code>package fatherpackage;\n\npublic class Son extends Father\n{\n    public void sonMethod(Father f)\n    {\n        f.foo();\n    }\n}\n</code></pre></li>\n</ol></li>\n<li><p>The following situations are not valid.</p>\n\n<ol>\n<li><p>On an reference whose type is the parent class and it is <em>outside</em> the package where <code>foo()</code> is defined (<code>fatherpackage</code>):</p>\n\n<pre><code>package sonpackage;\n\npublic class Son extends Father\n{\n    public void sonMethod(Father f)\n    {\n        f.foo(); // compilation error\n    }\n}\n</code></pre></li>\n<li><p>A non-subclass inside a package of a subclass (A subclass inherits the protected members from its parent, and it makes them private to non-subclasses):</p>\n\n<pre><code>package sonpackage;\n\npublic class SomeClass\n{\n    public void someMethod(Son s) throws Exception\n    {\n        s.foo(); // compilation error\n    }\n}\n</code></pre></li>\n</ol></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":3165564,"reputation":11962,"user_id":2675669,"accept_rate":100,"display_name":"Nambi"},"comment_count":0,"down_vote_count":1,"up_vote_count":31,"is_accepted":false,"score":30,"last_activity_date":1400560973,"creation_date":1390396136,"answer_id":21283846,"question_id":215497,"body_markdown":"**Private**\r\n----------\r\n \r\n\r\n - Methods,Variables and Constructors\r\n\r\n*Methods, Variables and Constructors that are declared private can only be accessed within the declared class itself.*\r\n\r\n - Class and Interface\r\n\r\n*Private access modifier is the most restrictive access level. Class and interfaces cannot be private.*\r\n\r\n***Note***\r\n\r\n*Variables that are declared private can be accessed outside the class if public getter methods are present in the class.\r\nVariables, methods and constructors which are declared protected in a superclass can be accessed only by the subclasses in other package or any class within the package of the protected members&#39; class.*\r\n&lt;B&gt;&lt;hr/&gt;&lt;/B&gt;\r\n**Protected**\r\n-------------\r\n\r\n - *Class and Interface*\r\n\r\n*The protected access modifier cannot be applied to class and interfaces.*\r\n\r\n\r\n *Methods, fields can be declared protected, however methods and fields in a interface cannot be declared protected.*\r\n\r\n***Note***\r\n\r\n*Protected access gives the subclass a chance to use the helper method or variable, while preventing a nonrelated class from trying to use it.*\r\n\r\n&lt;B&gt;&lt;hr/&gt;&lt;/B&gt;\r\n**Public**\r\n-----------\r\n\r\n*A class, method, constructor, interface etc declared public can be accessed from any other class.* \r\n\r\n*Therefore fields, methods, blocks declared inside a public class can be accessed from any class belonging to the Java Universe.*\r\n\r\n - *Different Packages*\r\n\r\n*However if the public class we are trying to access is in a different package, then the public class still need to be imported.*\r\n\r\n*Because of class inheritance, all public methods and variables of a class are inherited by its subclasses.*\r\n\r\n&lt;B&gt;&lt;hr/&gt;&lt;/B&gt;\r\n**Default -No keyword:**\r\n-----------------------\r\n\r\n*Default access modifier means we do not explicitly declare an access modifier for a class, field, method, etc.*\r\n\r\n - *Within the same Packages*\r\n\r\n*A variable or method declared without any access control modifier is available to any other class in the same package. The fields in an interface are implicitly public static final and the methods in an interface are by default public.*\r\n\r\n***Note***\r\n\r\nWe cannot Override the Static fields.if you try to override it does not show any error \r\nbut it doesnot work what we except.\r\n\r\n\r\nRelated Answers\r\n---------------\r\n\r\n - [**Overriding static methods in java**][1]\r\n\r\n\r\nReferences links\r\n----------------\r\n\r\n[http://docs.oracle.com/javase/tutorial/java/javaOO/accesscontrol.html][2]\r\n[http://www.tutorialspoint.com/java/java_access_modifiers.htm][3] \r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/16617408/overriding-static-methods-in-java\r\n  [2]: http://docs.oracle.com/javase/tutorial/java/javaOO/accesscontrol.html\r\n  [3]: http://www.tutorialspoint.com/java/java_access_modifiers.htm","title":"What is the difference between public, protected, package-private and private in Java?","body":"<h2><strong>Private</strong></h2>\n\n<ul>\n<li>Methods,Variables and Constructors</li>\n</ul>\n\n<p><em>Methods, Variables and Constructors that are declared private can only be accessed within the declared class itself.</em></p>\n\n<ul>\n<li>Class and Interface</li>\n</ul>\n\n<p><em>Private access modifier is the most restrictive access level. Class and interfaces cannot be private.</em></p>\n\n<p><strong><em>Note</em></strong></p>\n\n<p><em>Variables that are declared private can be accessed outside the class if public getter methods are present in the class.\nVariables, methods and constructors which are declared protected in a superclass can be accessed only by the subclasses in other package or any class within the package of the protected members' class.</em>\n<B><hr/></B></p>\n\n<h2><strong>Protected</strong></h2>\n\n<ul>\n<li><em>Class and Interface</em></li>\n</ul>\n\n<p><em>The protected access modifier cannot be applied to class and interfaces.</em></p>\n\n<p><em>Methods, fields can be declared protected, however methods and fields in a interface cannot be declared protected.</em></p>\n\n<p><strong><em>Note</em></strong></p>\n\n<p><em>Protected access gives the subclass a chance to use the helper method or variable, while preventing a nonrelated class from trying to use it.</em></p>\n\n<p><B><hr/></B></p>\n\n<h2><strong>Public</strong></h2>\n\n<p><em>A class, method, constructor, interface etc declared public can be accessed from any other class.</em> </p>\n\n<p><em>Therefore fields, methods, blocks declared inside a public class can be accessed from any class belonging to the Java Universe.</em></p>\n\n<ul>\n<li><em>Different Packages</em></li>\n</ul>\n\n<p><em>However if the public class we are trying to access is in a different package, then the public class still need to be imported.</em></p>\n\n<p><em>Because of class inheritance, all public methods and variables of a class are inherited by its subclasses.</em></p>\n\n<p><B><hr/></B></p>\n\n<h2><strong>Default -No keyword:</strong></h2>\n\n<p><em>Default access modifier means we do not explicitly declare an access modifier for a class, field, method, etc.</em></p>\n\n<ul>\n<li><em>Within the same Packages</em></li>\n</ul>\n\n<p><em>A variable or method declared without any access control modifier is available to any other class in the same package. The fields in an interface are implicitly public static final and the methods in an interface are by default public.</em></p>\n\n<p><strong><em>Note</em></strong></p>\n\n<p>We cannot Override the Static fields.if you try to override it does not show any error \nbut it doesnot work what we except.</p>\n\n<h2>Related Answers</h2>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/16617408/overriding-static-methods-in-java\"><strong>Overriding static methods in java</strong></a></li>\n</ul>\n\n<h2>References links</h2>\n\n<p><a href=\"http://docs.oracle.com/javase/tutorial/java/javaOO/accesscontrol.html\" rel=\"noreferrer\">http://docs.oracle.com/javase/tutorial/java/javaOO/accesscontrol.html</a>\n<a href=\"http://www.tutorialspoint.com/java/java_access_modifiers.htm\" rel=\"noreferrer\">http://www.tutorialspoint.com/java/java_access_modifiers.htm</a> </p>\n"},{"tags":[],"owner":{"account_id":1163503,"reputation":657,"user_id":1142548,"accept_rate":80,"display_name":"samkit shah"},"comment_count":0,"down_vote_count":1,"up_vote_count":22,"is_accepted":false,"score":21,"last_activity_date":1510439179,"creation_date":1403075582,"answer_id":24279203,"question_id":215497,"body_markdown":"**Private**: Limited access to class only&lt;/br&gt;\r\n\r\n**Default (no modifier)**: Limited access to class and package&lt;/br&gt;\r\n\r\n**Protected**: Limited access to class, package and subclasses (both inside and outside package)\r\n\r\n**Public**: Accessible to class, package (all), and subclasses... In short, everywhere.\r\n\r\n","title":"What is the difference between public, protected, package-private and private in Java?","body":"<p><strong>Private</strong>: Limited access to class only</p>\n\n<p><strong>Default (no modifier)</strong>: Limited access to class and package</p>\n\n<p><strong>Protected</strong>: Limited access to class, package and subclasses (both inside and outside package)</p>\n\n<p><strong>Public</strong>: Accessible to class, package (all), and subclasses... In short, everywhere.</p>\n"},{"comments":[{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1474686829,"post_id":25028485,"comment_id":66645417,"body_markdown":"`Default` is not an access modifier, and two of the others are misspelt.","body":"<code>Default</code> is not an access modifier, and two of the others are misspelt."}],"tags":[],"owner":{"account_id":2673153,"reputation":119,"user_id":2310069,"display_name":"richa_v"},"comment_count":1,"down_vote_count":2,"up_vote_count":7,"is_accepted":false,"score":5,"last_activity_date":1406692300,"creation_date":1406692300,"answer_id":25028485,"question_id":215497,"body_markdown":"Public Protected Default and private are access modifiers.\r\n\r\nThey are meant for encapsulation, or hiding and showing contents of the class.\r\n\r\n1. Class can be public or default\r\n2. Class members can be public, protected, default or private.\r\n\r\nPrivate is not accessible outside the class\r\nDefault is accessible only in the package.\r\nProtected in package as well as any class which extends it.\r\nPublic is open for all.\r\n\r\nNormally, member variables are defined private, but member methods are public.","title":"What is the difference between public, protected, package-private and private in Java?","body":"<p>Public Protected Default and private are access modifiers.</p>\n\n<p>They are meant for encapsulation, or hiding and showing contents of the class.</p>\n\n<ol>\n<li>Class can be public or default</li>\n<li>Class members can be public, protected, default or private.</li>\n</ol>\n\n<p>Private is not accessible outside the class\nDefault is accessible only in the package.\nProtected in package as well as any class which extends it.\nPublic is open for all.</p>\n\n<p>Normally, member variables are defined private, but member methods are public.</p>\n"},{"tags":[],"owner":{"account_id":3579096,"reputation":2576,"user_id":2987706,"accept_rate":90,"display_name":"Prashant"},"comment_count":0,"down_vote_count":2,"up_vote_count":19,"is_accepted":false,"score":17,"last_activity_date":1510439300,"creation_date":1418797744,"answer_id":27519579,"question_id":215497,"body_markdown":"Access modifiers are there to restrict access at several levels.\r\n\r\n**Public:** It is basically as simple as you can access from any class whether that is in same package or not.\r\n\r\nTo access if you are in same package you can access directly, but if you are in another package then you can create an object of the class.\r\n\r\n**Default:** It is accessible in the same package from any of the class of package.\r\n\r\nTo access you can create an object of the class. But you can not access this variable outside of the package.\r\n\r\n\r\n\r\n**Protected:** you can access variables in same package as well as subclass in any other package.\r\nso basically it is **default + Inherited** behavior.\r\n\r\nTo access protected field defined in base class you can create object of child class.\r\n\r\n**Private:**  it can be access in same class.\r\n\r\nIn non-static methods you can access directly because of **this** reference (also in constructors)but to access in static methods you need to create object of the class.\r\n\r\n","title":"What is the difference between public, protected, package-private and private in Java?","body":"<p>Access modifiers are there to restrict access at several levels.</p>\n\n<p><strong>Public:</strong> It is basically as simple as you can access from any class whether that is in same package or not.</p>\n\n<p>To access if you are in same package you can access directly, but if you are in another package then you can create an object of the class.</p>\n\n<p><strong>Default:</strong> It is accessible in the same package from any of the class of package.</p>\n\n<p>To access you can create an object of the class. But you can not access this variable outside of the package.</p>\n\n<p><strong>Protected:</strong> you can access variables in same package as well as subclass in any other package.\nso basically it is <strong>default + Inherited</strong> behavior.</p>\n\n<p>To access protected field defined in base class you can create object of child class.</p>\n\n<p><strong>Private:</strong>  it can be access in same class.</p>\n\n<p>In non-static methods you can access directly because of <strong>this</strong> reference (also in constructors)but to access in static methods you need to create object of the class.</p>\n"},{"tags":[],"owner":{"account_id":5537338,"reputation":1060,"user_id":4395148,"accept_rate":100,"display_name":"amila isura"},"comment_count":0,"down_vote_count":1,"up_vote_count":15,"is_accepted":false,"score":14,"last_activity_date":1510439541,"creation_date":1432652066,"answer_id":30462069,"question_id":215497,"body_markdown":"Visible to the package. The default. No modifiers are needed.\r\n\r\nVisible to the class only (**private**).\r\n\r\nVisible to the world (**public**).\r\n\r\nVisible to the package and all subclasses (**protected**).\r\n\r\n\r\nVariables and methods can be declared without any modifiers that are called. Default examples:\r\n\r\n    String name = &quot;john&quot;;\r\n\r\n    public int age(){\r\n        return age;\r\n    }\r\n\r\nPrivate access modifier - private:\r\n\r\nMethods, variables and constructors that are declared private can only be accessed within the declared class itself. The private access modifier is the most restrictive access level. Class and interfaces cannot be private.\r\n\r\nVariables that are declared private can be accessed outside the class if public getter methods are present in the class.\r\n\r\nUsing the private modifier is the main way that an object encapsulates itself and hides data from the outside world.\r\n\r\nExamples:\r\n\r\n    Public class Details{\r\n\r\n        private String name;\r\n\r\n        public void setName(String n){\r\n            this.name = n;\r\n        }\r\n\r\n        public String getName(){\r\n            return this.name;\r\n        }\r\n    }\r\n\r\nPublic access modifier - public:\r\n\r\nA class, method, constructor, interface, etc. declared public can be accessed from any other class. Therefore fields, methods, blocks declared inside a public class can be accessed from any class belonging to the Java universe.\r\n\r\nHowever, if the public class we are trying to access is in a different package, then the public class still need to be imported.\r\n\r\nBecause of class inheritance, all public methods and variables of a class are inherited by its subclasses.\r\n\r\nExample:\r\n\r\n    public void cal(){\r\n\r\n    }\r\n\r\nProtected access modifier - protected:\r\n\r\nVariables, methods and constructors which are declared protected in a superclass can be accessed only by the subclasses in another package or any class within the package of the protected members&#39; class.\r\n\r\nThe protected access modifier cannot be applied to class and interfaces. Methods, fields can be declared protected, however methods and fields in a interface cannot be declared protected.\r\n\r\nProtected access gives the subclass a chance to use the helper method or variable, while preventing a nonrelated class from trying to use it.\r\n\r\n    class Van{\r\n\r\n        protected boolean speed(){\r\n\r\n        }\r\n    }\r\n\r\n    class Car{\r\n        boolean speed(){\r\n        }\r\n\r\n    }\r\n","title":"What is the difference between public, protected, package-private and private in Java?","body":"<p>Visible to the package. The default. No modifiers are needed.</p>\n\n<p>Visible to the class only (<strong>private</strong>).</p>\n\n<p>Visible to the world (<strong>public</strong>).</p>\n\n<p>Visible to the package and all subclasses (<strong>protected</strong>).</p>\n\n<p>Variables and methods can be declared without any modifiers that are called. Default examples:</p>\n\n<pre><code>String name = \"john\";\n\npublic int age(){\n    return age;\n}\n</code></pre>\n\n<p>Private access modifier - private:</p>\n\n<p>Methods, variables and constructors that are declared private can only be accessed within the declared class itself. The private access modifier is the most restrictive access level. Class and interfaces cannot be private.</p>\n\n<p>Variables that are declared private can be accessed outside the class if public getter methods are present in the class.</p>\n\n<p>Using the private modifier is the main way that an object encapsulates itself and hides data from the outside world.</p>\n\n<p>Examples:</p>\n\n<pre><code>Public class Details{\n\n    private String name;\n\n    public void setName(String n){\n        this.name = n;\n    }\n\n    public String getName(){\n        return this.name;\n    }\n}\n</code></pre>\n\n<p>Public access modifier - public:</p>\n\n<p>A class, method, constructor, interface, etc. declared public can be accessed from any other class. Therefore fields, methods, blocks declared inside a public class can be accessed from any class belonging to the Java universe.</p>\n\n<p>However, if the public class we are trying to access is in a different package, then the public class still need to be imported.</p>\n\n<p>Because of class inheritance, all public methods and variables of a class are inherited by its subclasses.</p>\n\n<p>Example:</p>\n\n<pre><code>public void cal(){\n\n}\n</code></pre>\n\n<p>Protected access modifier - protected:</p>\n\n<p>Variables, methods and constructors which are declared protected in a superclass can be accessed only by the subclasses in another package or any class within the package of the protected members' class.</p>\n\n<p>The protected access modifier cannot be applied to class and interfaces. Methods, fields can be declared protected, however methods and fields in a interface cannot be declared protected.</p>\n\n<p>Protected access gives the subclass a chance to use the helper method or variable, while preventing a nonrelated class from trying to use it.</p>\n\n<pre><code>class Van{\n\n    protected boolean speed(){\n\n    }\n}\n\nclass Car{\n    boolean speed(){\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3005841,"reputation":483,"user_id":2550410,"display_name":"Shailendra Singh"},"comment_count":0,"down_vote_count":1,"up_vote_count":14,"is_accepted":false,"score":13,"last_activity_date":1458142297,"creation_date":1440832533,"answer_id":32283609,"question_id":215497,"body_markdown":" - **public** - accessible from anywhere in the application.\r\n\r\n - **default** - accessible from package.\r\n\r\n - **protected** - accessible from package and sub-classes in other package.\r\n   as well\r\n\r\n - **private** - accessible from its class only.\r\n","title":"What is the difference between public, protected, package-private and private in Java?","body":"<ul>\n<li><p><strong>public</strong> - accessible from anywhere in the application.</p></li>\n<li><p><strong>default</strong> - accessible from package.</p></li>\n<li><p><strong>protected</strong> - accessible from package and sub-classes in other package.\nas well</p></li>\n<li><p><strong>private</strong> - accessible from its class only.</p></li>\n</ul>\n"},{"comments":[{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":25,"creation_date":1539255055,"post_id":33627846,"comment_id":92439551,"body_markdown":"Just saying: there are a lot of people who have problems with distinguishing red/green coloring. Tables using red/green (or yellow/orange/...) coloring schemes are rarely &quot;better&quot; at anything ;-)","body":"Just saying: there are a lot of people who have problems with distinguishing red/green coloring. Tables using red/green (or yellow/orange/...) coloring schemes are rarely &quot;better&quot; at anything ;-)"},{"owner":{"account_id":102965,"reputation":415240,"user_id":276052,"accept_rate":80,"display_name":"aioobe"},"score":9,"creation_date":1542204601,"post_id":33627846,"comment_id":93484893,"body_markdown":"@GhostCat, I disagree. I think red/green aligns intuitively with &quot;works&quot;/&quot;does not work&quot; for many people, i.e. it _is_ better than many alternatives.","body":"@GhostCat, I disagree. I think red/green aligns intuitively with &quot;works&quot;/&quot;does not work&quot; for many people, i.e. it <i>is</i> better than many alternatives."},{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":14,"creation_date":1542204781,"post_id":33627846,"comment_id":93485034,"body_markdown":"http://www.colourblindawareness.org/colour-blindness/types-of-colour-blindness/ ... *The 8% of colour blind men can be divided approximately into 1% deuteranopes, 1% protanopes, 1% protanomalous and **5% deuteranomalous**.* And as I am one of those 50% of that 5%, rest assured: red/green sucks.","body":"<a href=\"http://www.colourblindawareness.org/colour-blindness/types-of-colour-blindness/\" rel=\"nofollow noreferrer\">colourblindawareness.org/colour-blindness/&hellip;</a> ... <i>The 8% of colour blind men can be divided approximately into 1% deuteranopes, 1% protanopes, 1% protanomalous and <b>5% deuteranomalous</b>.</i> And as I am one of those 50% of that 5%, rest assured: red/green sucks."},{"owner":{"account_id":102965,"reputation":415240,"user_id":276052,"accept_rate":80,"display_name":"aioobe"},"score":7,"creation_date":1542205971,"post_id":33627846,"comment_id":93485796,"body_markdown":"@GhostCat Ok.. that&#39;s a larger part of the population than I expected. I uploaded the image in this [color blindness simulator](https://www.color-blindness.com/coblis-color-blindness-simulator/) and tested all different modes. Even in monochromacy/achromatopsia mode the color difference is reasonable. Can you see the difference or is the simulator off? (I&#39;m still of the opinion that red/green is very intuitive for color seeing people.)","body":"@GhostCat Ok.. that&#39;s a larger part of the population than I expected. I uploaded the image in this <a href=\"https://www.color-blindness.com/coblis-color-blindness-simulator/\" rel=\"nofollow noreferrer\">color blindness simulator</a> and tested all different modes. Even in monochromacy/achromatopsia mode the color difference is reasonable. Can you see the difference or is the simulator off? (I&#39;m still of the opinion that red/green is very intuitive for color seeing people.)"},{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":5,"creation_date":1542206426,"post_id":33627846,"comment_id":93486080,"body_markdown":"I can see the difference, but I am also able to pass half of the color blindness tests that we have to do in Germany for the drivers licence ;-) ... but I think such a simulator is &quot;good enough&quot;.","body":"I can see the difference, but I am also able to pass half of the color blindness tests that we have to do in Germany for the drivers licence ;-) ... but I think such a simulator is &quot;good enough&quot;."},{"owner":{"account_id":11020469,"reputation":866,"user_id":8094897,"display_name":"RMati"},"score":2,"creation_date":1561354004,"post_id":33627846,"comment_id":100019844,"body_markdown":"I got confused with the colors","body":"I got confused with the colors"}],"tags":[],"owner":{"account_id":102965,"reputation":415240,"user_id":276052,"accept_rate":80,"display_name":"aioobe"},"comment_count":6,"down_vote_count":2,"up_vote_count":538,"is_accepted":false,"score":536,"last_activity_date":1660761038,"creation_date":1447151220,"answer_id":33627846,"question_id":215497,"body_markdown":"Here&#39;s a better version of the table, that also includes a column for modules.\r\n&lt;br /&gt;\r\n\r\n[![enter image description here][1]][1]\r\n\r\n&lt;!-- SVG: https://gist.github.com/aioobe/6de46982f859b30fc849819718d6ae64 --&gt;\r\n----------\r\n\r\n\r\nExplanations\r\n--\r\n\r\n- A **private** member (`i`) is *only* accessible within the same class as it is declared.\r\n\r\n- A member with **no access modifier** (`j`) is only accessible within classes in the same package.\r\n\r\n- A **protected** member (`k`) is accessible within all classes in the same package *and* within subclasses in other packages.\r\n\r\n- A **public** member (`l`) is accessible to all classes (unless it resides in a [module](http://openjdk.java.net/projects/jigsaw/spec/sotms/) that does not export the package it is declared in).\r\n\r\n\r\n----------\r\n\r\n\r\nWhich modifier to choose?\r\n--\r\nAccess modifiers is a tool to help you to prevent accidentally breaking encapsulation&lt;sup&gt;(*)&lt;/sup&gt;. Ask yourself if you intend the member to be something that&#39;s internal to the class, package, class hierarchy or not internal at all, and choose access level accordingly.\r\n\r\n**Examples:**\r\n\r\n- A field `long internalCounter` should probably be private since it&#39;s mutable and an implementation detail.\r\n- A class that should only be instantiated in a factory class (in the same package) should have a package restricted constructor, since it shouldn&#39;t be possible to call it directly from outside the package.\r\n- An internal `void beforeRender()` method called right before rendering and used as a hook in subclasses should be protected.\r\n- A `void saveGame(File dst)` method which is called from the GUI code should be public.\r\n\r\n&lt;sup&gt;(*) https://stackoverflow.com/questions/28612420/what-is-encapsulation-exactly&lt;/sup&gt;\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/SVk2a.png","title":"What is the difference between public, protected, package-private and private in Java?","body":"<p>Here's a better version of the table, that also includes a column for modules.\n<br /></p>\n<p><a href=\"https://i.stack.imgur.com/SVk2a.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/SVk2a.png\" alt=\"enter image description here\" /></a></p>\n\n<hr />\n<h2>Explanations</h2>\n<ul>\n<li><p>A <strong>private</strong> member (<code>i</code>) is <em>only</em> accessible within the same class as it is declared.</p>\n</li>\n<li><p>A member with <strong>no access modifier</strong> (<code>j</code>) is only accessible within classes in the same package.</p>\n</li>\n<li><p>A <strong>protected</strong> member (<code>k</code>) is accessible within all classes in the same package <em>and</em> within subclasses in other packages.</p>\n</li>\n<li><p>A <strong>public</strong> member (<code>l</code>) is accessible to all classes (unless it resides in a <a href=\"http://openjdk.java.net/projects/jigsaw/spec/sotms/\" rel=\"noreferrer\">module</a> that does not export the package it is declared in).</p>\n</li>\n</ul>\n<hr />\n<h2>Which modifier to choose?</h2>\n<p>Access modifiers is a tool to help you to prevent accidentally breaking encapsulation<sup>(*)</sup>. Ask yourself if you intend the member to be something that's internal to the class, package, class hierarchy or not internal at all, and choose access level accordingly.</p>\n<p><strong>Examples:</strong></p>\n<ul>\n<li>A field <code>long internalCounter</code> should probably be private since it's mutable and an implementation detail.</li>\n<li>A class that should only be instantiated in a factory class (in the same package) should have a package restricted constructor, since it shouldn't be possible to call it directly from outside the package.</li>\n<li>An internal <code>void beforeRender()</code> method called right before rendering and used as a hook in subclasses should be protected.</li>\n<li>A <code>void saveGame(File dst)</code> method which is called from the GUI code should be public.</li>\n</ul>\n<p><sup>(*) <a href=\"https://stackoverflow.com/questions/28612420/what-is-encapsulation-exactly\">What is Encapsulation exactly?</a></sup></p>\n"},{"tags":[],"owner":{"account_id":1750637,"reputation":2903,"user_id":1599792,"accept_rate":100,"display_name":"Aftab"},"comment_count":0,"down_vote_count":1,"up_vote_count":18,"is_accepted":false,"score":17,"last_activity_date":1510439897,"creation_date":1470579416,"answer_id":38815021,"question_id":215497,"body_markdown":"**Access modifiers in Java.**\n\nJava access modifiers are used to provide access control in Java.\n\n**1. Default:**\n\nAccessible to the classes in the same package only.\n\nFor example,\n\n    // Saved in file A.java\n    package pack;\n\n    class A{\n      void msg(){System.out.println(&quot;Hello&quot;);}\n    }\n\n    // Saved in file B.java\n    package mypack;\n    import pack.*;\n\n    class B{\n      public static void main(String args[]){\n       A obj = new A(); // Compile Time Error\n       obj.msg(); // Compile Time Error\n      }\n    }\n\n\nThis access is more restricted than public and protected, but less restricted than private.\n\n**2. Public**\n\n  Can be accessed from anywhere. (Global Access)\n\nFor example,\n\n    // Saved in file A.java\n\n    package pack;\n    public class A{\n      public void msg(){System.out.println(&quot;Hello&quot;);}\n    }\n\n    // Saved in file B.java\n\n    package mypack;\n    import pack.*;\n\n    class B{\n      public static void main(String args[]){\n        A obj = new A();\n        obj.msg();\n      }\n    }\n\n&gt; Output:Hello\n\n\n**3. Private**\n\nAccessible only inside the same class.\n\nIf you try to access private members on one class in another will throw compile error. For example,\n\n    class A{\n      private int data = 40;\n      private void msg(){System.out.println(&quot;Hello java&quot;);}\n    }\n\n    public class Simple{\n      public static void main(String args[]){\n        A obj = new A();\n        System.out.println(obj.data); // Compile Time Error\n        obj.msg(); // Compile Time Error\n      }\n    }\n\n**4. Protected**\n\nAccessible only to the classes in the same package and to the subclasses\n\nFor example,\n\n    // Saved in file A.java\n    package pack;\n    public class A{\n      protected void msg(){System.out.println(&quot;Hello&quot;);}\n    }\n\n    // Saved in file B.java\n    package mypack;\n    import pack.*;\n\n    class B extends A{\n      public static void main(String args[]){\n        B obj = new B();\n        obj.msg();\n      }\n    }\n\n&gt; Output: Hello\n\n[![Enter image description here][1]][1]\n\n  [1]: http://i.stack.imgur.com/E5c6l.png\n","title":"What is the difference between public, protected, package-private and private in Java?","body":"<p><strong>Access modifiers in Java.</strong></p>\n<p>Java access modifiers are used to provide access control in Java.</p>\n<p><strong>1. Default:</strong></p>\n<p>Accessible to the classes in the same package only.</p>\n<p>For example,</p>\n<pre><code>// Saved in file A.java\npackage pack;\n\nclass A{\n  void msg(){System.out.println(&quot;Hello&quot;);}\n}\n\n// Saved in file B.java\npackage mypack;\nimport pack.*;\n\nclass B{\n  public static void main(String args[]){\n   A obj = new A(); // Compile Time Error\n   obj.msg(); // Compile Time Error\n  }\n}\n</code></pre>\n<p>This access is more restricted than public and protected, but less restricted than private.</p>\n<p><strong>2. Public</strong></p>\n<p>Can be accessed from anywhere. (Global Access)</p>\n<p>For example,</p>\n<pre><code>// Saved in file A.java\n\npackage pack;\npublic class A{\n  public void msg(){System.out.println(&quot;Hello&quot;);}\n}\n\n// Saved in file B.java\n\npackage mypack;\nimport pack.*;\n\nclass B{\n  public static void main(String args[]){\n    A obj = new A();\n    obj.msg();\n  }\n}\n</code></pre>\n<blockquote>\n<p>Output:Hello</p>\n</blockquote>\n<p><strong>3. Private</strong></p>\n<p>Accessible only inside the same class.</p>\n<p>If you try to access private members on one class in another will throw compile error. For example,</p>\n<pre><code>class A{\n  private int data = 40;\n  private void msg(){System.out.println(&quot;Hello java&quot;);}\n}\n\npublic class Simple{\n  public static void main(String args[]){\n    A obj = new A();\n    System.out.println(obj.data); // Compile Time Error\n    obj.msg(); // Compile Time Error\n  }\n}\n</code></pre>\n<p><strong>4. Protected</strong></p>\n<p>Accessible only to the classes in the same package and to the subclasses</p>\n<p>For example,</p>\n<pre><code>// Saved in file A.java\npackage pack;\npublic class A{\n  protected void msg(){System.out.println(&quot;Hello&quot;);}\n}\n\n// Saved in file B.java\npackage mypack;\nimport pack.*;\n\nclass B extends A{\n  public static void main(String args[]){\n    B obj = new B();\n    obj.msg();\n  }\n}\n</code></pre>\n<blockquote>\n<p>Output: Hello</p>\n</blockquote>\n<p><a href=\"https://i.stack.imgur.com/E5c6l.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/E5c6l.png\" alt=\"Enter image description here\" /></a></p>\n"},{"comments":[{"owner":{"account_id":31164,"reputation":378689,"user_id":85371,"accept_rate":43,"display_name":"sehe"},"score":1,"creation_date":1479397171,"post_id":40647093,"comment_id":68549338,"body_markdown":"what exactly is the supplement, and why is it not an edit to the existing post?","body":"what exactly is the supplement, and why is it not an edit to the existing post?"},{"owner":{"account_id":6098078,"reputation":28937,"user_id":4758255,"display_name":"ישו אוהב אותך"},"score":0,"creation_date":1479435925,"post_id":40647093,"comment_id":68567624,"body_markdown":"the supplement is Access Modifiers. Why not an edit? To keep the accepted answer unaltered for historical sake and to give my answer.","body":"the supplement is Access Modifiers. Why not an edit? To keep the accepted answer unaltered for historical sake and to give my answer."}],"tags":[],"owner":{"account_id":6098078,"reputation":28937,"user_id":4758255,"display_name":"ישו אוהב אותך"},"comment_count":2,"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1479359101,"creation_date":1479359101,"answer_id":40647093,"question_id":215497,"body_markdown":"Note: *This is just a **supplement** for the accepted answer.*\r\n\r\nThis is related to Java [Access Modifiers](https://en.wikipedia.org/wiki/Access_modifiers).\r\n\r\nFrom [Java Access Modifiers](http://tutorials.jenkov.com/java/access-modifiers.html):  \r\n\r\n&gt; A Java access modifier specifies which classes can access a given\r\n&gt; class and its fields, constructors and methods. Access modifiers can\r\n&gt; be specified separately for a class, its constructors, fields and\r\n&gt; methods. Java access modifiers are also sometimes referred to in daily\r\n&gt; speech as Java access specifiers, but the correct name is Java access\r\n&gt; modifiers. Classes, fields, constructors and methods can have one of\r\n&gt; four different Java access modifiers:\r\n&gt; \r\n&gt;  - List item\r\n&gt;  - private\r\n&gt;  - default (package)\r\n&gt;  - protected\r\n&gt;  - public\r\n\r\nFrom [Controlling Access to Members of a Class](https://docs.oracle.com/javase/tutorial/java/javaOO/accesscontrol.html) tutorials:\r\n\r\n&gt; Access level modifiers determine whether other classes can use a\r\n&gt; particular field or invoke a particular method. There are two levels\r\n&gt; of access control:\r\n&gt; \r\n&gt;  - At the top level—public, or package-private (no explicit modifier).\r\n&gt;  - At the member level—public, private, protected, or package-private (no explicit modifier).  \r\n&gt; \r\n&gt; A class may be declared with the modifier public, in which case that\r\n&gt; class is visible to all classes everywhere. If a class has no modifier\r\n&gt; (the default, also known as package-private), it is visible only\r\n&gt; within its own package\r\n&gt; \r\n&gt; The following table shows the access to members permitted by each\r\n&gt; modifier.\r\n&gt; \r\n&gt;     ╔═════════════╦═══════╦═════════╦══════════╦═══════╗\r\n&gt;     ║ Modifier    ║ Class ║ Package ║ Subclass ║ World ║\r\n&gt;     ╠═════════════╬═══════╬═════════╬══════════╬═══════╣\r\n&gt;     ║ public      ║ Y     ║ Y       ║ Y        ║ Y     ║\r\n&gt;     ║ protected   ║ Y     ║ Y       ║ Y        ║ N     ║\r\n&gt;     ║ no modifier ║ Y     ║ Y       ║ N        ║ N     ║\r\n&gt;     ║ private     ║ Y     ║ N       ║ N        ║ N     ║\r\n&gt;     ╚═════════════╩═══════╩═════════╩══════════╩═══════╝\r\n&gt; \r\n&gt; The first data column indicates whether the class itself has access to\r\n&gt; the member defined by the access level. As you can see, a class always\r\n&gt; has access to its own members. The second column indicates whether\r\n&gt; classes in the same package as the class (regardless of their\r\n&gt; parentage) have access to the member. The third column indicates\r\n&gt; whether subclasses of the class declared outside this package have\r\n&gt; access to the member. The fourth column indicates whether all classes\r\n&gt; have access to the member.\r\n&gt; \r\n&gt; Access levels affect you in two ways. First, when you use classes that\r\n&gt; come from another source, such as the classes in the Java platform,\r\n&gt; access levels determine which members of those classes your own\r\n&gt; classes can use. Second, when you write a class, you need to decide\r\n&gt; what access level every member variable and every method in your class\r\n&gt; should have.","title":"What is the difference between public, protected, package-private and private in Java?","body":"<p>Note: <em>This is just a <strong>supplement</strong> for the accepted answer.</em></p>\n\n<p>This is related to Java <a href=\"https://en.wikipedia.org/wiki/Access_modifiers\" rel=\"noreferrer\">Access Modifiers</a>.</p>\n\n<p>From <a href=\"http://tutorials.jenkov.com/java/access-modifiers.html\" rel=\"noreferrer\">Java Access Modifiers</a>:  </p>\n\n<blockquote>\n  <p>A Java access modifier specifies which classes can access a given\n  class and its fields, constructors and methods. Access modifiers can\n  be specified separately for a class, its constructors, fields and\n  methods. Java access modifiers are also sometimes referred to in daily\n  speech as Java access specifiers, but the correct name is Java access\n  modifiers. Classes, fields, constructors and methods can have one of\n  four different Java access modifiers:</p>\n  \n  <ul>\n  <li>List item</li>\n  <li>private</li>\n  <li>default (package)</li>\n  <li>protected</li>\n  <li>public</li>\n  </ul>\n</blockquote>\n\n<p>From <a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/accesscontrol.html\" rel=\"noreferrer\">Controlling Access to Members of a Class</a> tutorials:</p>\n\n<blockquote>\n  <p>Access level modifiers determine whether other classes can use a\n  particular field or invoke a particular method. There are two levels\n  of access control:</p>\n  \n  <ul>\n  <li>At the top level—public, or package-private (no explicit modifier).</li>\n  <li>At the member level—public, private, protected, or package-private (no explicit modifier).  </li>\n  </ul>\n  \n  <p>A class may be declared with the modifier public, in which case that\n  class is visible to all classes everywhere. If a class has no modifier\n  (the default, also known as package-private), it is visible only\n  within its own package</p>\n  \n  <p>The following table shows the access to members permitted by each\n  modifier.</p>\n\n<pre><code>╔═════════════╦═══════╦═════════╦══════════╦═══════╗\n║ Modifier    ║ Class ║ Package ║ Subclass ║ World ║\n╠═════════════╬═══════╬═════════╬══════════╬═══════╣\n║ public      ║ Y     ║ Y       ║ Y        ║ Y     ║\n║ protected   ║ Y     ║ Y       ║ Y        ║ N     ║\n║ no modifier ║ Y     ║ Y       ║ N        ║ N     ║\n║ private     ║ Y     ║ N       ║ N        ║ N     ║\n╚═════════════╩═══════╩═════════╩══════════╩═══════╝\n</code></pre>\n  \n  <p>The first data column indicates whether the class itself has access to\n  the member defined by the access level. As you can see, a class always\n  has access to its own members. The second column indicates whether\n  classes in the same package as the class (regardless of their\n  parentage) have access to the member. The third column indicates\n  whether subclasses of the class declared outside this package have\n  access to the member. The fourth column indicates whether all classes\n  have access to the member.</p>\n  \n  <p>Access levels affect you in two ways. First, when you use classes that\n  come from another source, such as the classes in the Java platform,\n  access levels determine which members of those classes your own\n  classes can use. Second, when you write a class, you need to decide\n  what access level every member variable and every method in your class\n  should have.</p>\n</blockquote>\n"},{"comments":[{"owner":{"account_id":260780,"reputation":16208,"user_id":544557,"display_name":"Jim Balter"},"score":0,"creation_date":1700251619,"post_id":43245555,"comment_id":136635864,"body_markdown":"It&#39;s remarkable that this nonsense got upvotes.","body":"It&#39;s remarkable that this nonsense got upvotes."}],"tags":[],"owner":{"account_id":10438905,"reputation":87,"user_id":7696246,"display_name":"Greedy Coder"},"comment_count":1,"down_vote_count":2,"up_vote_count":6,"is_accepted":false,"score":4,"last_activity_date":1491451762,"creation_date":1491451762,"answer_id":43245555,"question_id":215497,"body_markdown":"Often times I&#39;ve realized that remembering the basic concepts of any language can made possible by creating real-world analogies. Here is my analogy for understanding access modifiers in Java:\r\n\r\nLet&#39;s assume that you&#39;re a student at a university and you have a friend who&#39;s coming to visit you over the weekend. Suppose there exists a big statue of the university&#39;s founder in the middle of the campus.\r\n\r\n- When you bring him to the campus, the first thing that you and your friend sees is this statue. This means that anyone who walks in the campus can look at the statue without the university&#39;s permission. This makes the statue as **PUBLIC**.\r\n\r\n- Next, you want to take your friend to your dorm, but for that you need to register him as a visitor. This means that he gets an access pass (which is the same as yours) to get into various buildings on campus. This would make his access card as **PROTECTED**.\r\n\r\n- Your friend wants to login to the campus WiFi but doesn&#39;t have the any credentials to do so. The only way he can get online is if you share your login with him. (Remember, every student who goes to the university also possesses these login credentials). This would make your login credentials as **NO MODIFIER**.\r\n\r\n- Finally, your friend wants to read your progress report for the semester which is posted on the website. However, every student has their own personal login to access this section of the campus website. This would make these credentials as **PRIVATE**.\r\n\r\nHope this helps!","title":"What is the difference between public, protected, package-private and private in Java?","body":"<p>Often times I've realized that remembering the basic concepts of any language can made possible by creating real-world analogies. Here is my analogy for understanding access modifiers in Java:</p>\n\n<p>Let's assume that you're a student at a university and you have a friend who's coming to visit you over the weekend. Suppose there exists a big statue of the university's founder in the middle of the campus.</p>\n\n<ul>\n<li><p>When you bring him to the campus, the first thing that you and your friend sees is this statue. This means that anyone who walks in the campus can look at the statue without the university's permission. This makes the statue as <strong>PUBLIC</strong>.</p></li>\n<li><p>Next, you want to take your friend to your dorm, but for that you need to register him as a visitor. This means that he gets an access pass (which is the same as yours) to get into various buildings on campus. This would make his access card as <strong>PROTECTED</strong>.</p></li>\n<li><p>Your friend wants to login to the campus WiFi but doesn't have the any credentials to do so. The only way he can get online is if you share your login with him. (Remember, every student who goes to the university also possesses these login credentials). This would make your login credentials as <strong>NO MODIFIER</strong>.</p></li>\n<li><p>Finally, your friend wants to read your progress report for the semester which is posted on the website. However, every student has their own personal login to access this section of the campus website. This would make these credentials as <strong>PRIVATE</strong>.</p></li>\n</ul>\n\n<p>Hope this helps!</p>\n"},{"tags":[],"owner":{"account_id":1592127,"reputation":18171,"user_id":1475228,"accept_rate":84,"display_name":"Pritam Banerjee"},"comment_count":0,"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1498531098,"creation_date":1498530796,"answer_id":44771468,"question_id":215497,"body_markdown":"When you are thinking of access modifiers just think of it in this way (applies to both **variables** and **methods**):\r\n\r\n`public` --&gt; accessible from every where  \r\n`private` --&gt; accessible only within the same class where it is declared\r\n\r\nNow the confusion arises when it comes to `default` and `protected`\r\n\r\n`default` --&gt; No access modifier keyword is present. This means it is available strictly within the package of the class. **Nowhere** outside that package it can be accessed.\r\n\r\n`protected` --&gt; Slightly less stricter than `default` and apart from the same package classes it can be accessed by sub classes outside the *package* it is declared. ","title":"What is the difference between public, protected, package-private and private in Java?","body":"<p>When you are thinking of access modifiers just think of it in this way (applies to both <strong>variables</strong> and <strong>methods</strong>):</p>\n\n<p><code>public</code> --> accessible from every where<br>\n<code>private</code> --> accessible only within the same class where it is declared</p>\n\n<p>Now the confusion arises when it comes to <code>default</code> and <code>protected</code></p>\n\n<p><code>default</code> --> No access modifier keyword is present. This means it is available strictly within the package of the class. <strong>Nowhere</strong> outside that package it can be accessed.</p>\n\n<p><code>protected</code> --> Slightly less stricter than <code>default</code> and apart from the same package classes it can be accessed by sub classes outside the <em>package</em> it is declared. </p>\n"},{"tags":[],"owner":{"account_id":332245,"reputation":16487,"user_id":657427,"accept_rate":67,"display_name":"Christophe Roussy"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1533036443,"creation_date":1518602128,"answer_id":48784176,"question_id":215497,"body_markdown":"It is all about **encapsulation** (or as Joe Phillips stated, *least knowledge*).\r\n\r\nStart with the most restrictive (private) and see if you need less restrictive modifiers later on.\r\n\r\nWe all use method and member modifiers like private, public, ... but one thing too few developers do is use packages to **organize** code logically.\r\n\r\nFor example:\r\nYou may put sensitive security methods in a &#39;security&#39; package.\r\nThen put a public class which accesses some of the security related code in this package but keep other security classes **package private**.\r\nThus other developers will only be able to use the publicly available class from outside of this package (unless they change the modifier).\r\nThis is not a security feature, but will **guide** usage.\r\n\r\n    Outside world -&gt; Package (SecurityEntryClass ---&gt; Package private classes)\r\n\r\nAnother thing is that classes which depend a lot on each other may end up in the same package and could eventually be refactored or merged if the dependency is too strong.\r\n\r\nIf on the contrary you set everything as **public** it will not be clear what should or should not be accessed, which may lead to writing a lot of javadoc (which does not enforce anything via the compiler...).\r\n","title":"What is the difference between public, protected, package-private and private in Java?","body":"<p>It is all about <strong>encapsulation</strong> (or as Joe Phillips stated, <em>least knowledge</em>).</p>\n\n<p>Start with the most restrictive (private) and see if you need less restrictive modifiers later on.</p>\n\n<p>We all use method and member modifiers like private, public, ... but one thing too few developers do is use packages to <strong>organize</strong> code logically.</p>\n\n<p>For example:\nYou may put sensitive security methods in a 'security' package.\nThen put a public class which accesses some of the security related code in this package but keep other security classes <strong>package private</strong>.\nThus other developers will only be able to use the publicly available class from outside of this package (unless they change the modifier).\nThis is not a security feature, but will <strong>guide</strong> usage.</p>\n\n<pre><code>Outside world -&gt; Package (SecurityEntryClass ---&gt; Package private classes)\n</code></pre>\n\n<p>Another thing is that classes which depend a lot on each other may end up in the same package and could eventually be refactored or merged if the dependency is too strong.</p>\n\n<p>If on the contrary you set everything as <strong>public</strong> it will not be clear what should or should not be accessed, which may lead to writing a lot of javadoc (which does not enforce anything via the compiler...).</p>\n"},{"tags":[],"owner":{"account_id":10979546,"reputation":125,"user_id":9858025,"display_name":"Vipul Verma"},"comment_count":0,"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1683135160,"creation_date":1568932452,"answer_id":58019647,"question_id":215497,"body_markdown":" - public\r\n\r\n If a class member is declared to be public then it can be accessed from anywhere\r\n\r\n - protected\r\n\r\n    If a class member is declared with keyword protected, it can be accessed from the same class members, outside class members within the same package, and inherited class members. If a class member is protected then it can NOT be accessed from an outside package class unless the outside packaged class is inherited i.e. extends the other package superclass. But a protected class member is always available to the same package classes it does NOT matter whether the same package class is inherited or NOT\r\n\r\n\r\n - default\r\n\r\n    In Java default is NOT an access modifier keyword. If a class member is declared without any access modifier keyword, it is considered a default member. The default class member is always available to the same package class members. But outside package class members can NOT access default class members even if outside classes are subclasses unlike protected members\r\n\r\n - private\r\n\r\n  If a class member is declared with keyword protected then in this case it is available ONLY to the same class members","title":"What is the difference between public, protected, package-private and private in Java?","body":"<ul>\n<li>public</li>\n</ul>\n<p>If a class member is declared to be public then it can be accessed from anywhere</p>\n<ul>\n<li><p>protected</p>\n<p>If a class member is declared with keyword protected, it can be accessed from the same class members, outside class members within the same package, and inherited class members. If a class member is protected then it can NOT be accessed from an outside package class unless the outside packaged class is inherited i.e. extends the other package superclass. But a protected class member is always available to the same package classes it does NOT matter whether the same package class is inherited or NOT</p>\n</li>\n<li><p>default</p>\n<p>In Java default is NOT an access modifier keyword. If a class member is declared without any access modifier keyword, it is considered a default member. The default class member is always available to the same package class members. But outside package class members can NOT access default class members even if outside classes are subclasses unlike protected members</p>\n</li>\n<li><p>private</p>\n</li>\n</ul>\n<p>If a class member is declared with keyword protected then in this case it is available ONLY to the same class members</p>\n"},{"tags":[],"owner":{"account_id":251230,"reputation":1566,"user_id":528459,"accept_rate":95,"display_name":"Mudassar"},"comment_count":0,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1571761530,"creation_date":1571195400,"answer_id":58405200,"question_id":215497,"body_markdown":"My two cents :)\r\n\r\n**private:**\r\n\r\n*class -&gt;* a top level class cannot be private. inner classes can be private which are accessible from same class.\r\n\r\n*instance variable -&gt;* accessible only in the class. Cannot access outside the class.\r\n\r\n**package-private:**\r\n\r\n*class -&gt;* a top level class can be package-private. It can only be accessible from same package. Not from sub package, not from outside package.\r\n\r\n*instance variable -&gt;* accessible from same package. Not from sub package, not from outside package.\r\n\r\n\r\n**protected:**\r\n\r\n*class -&gt;* a top level class cannot be protected.\r\n\r\n*instance variable -&gt;* Only accessible in same package or subpackage. Can only be access outside the package while extending class.\r\n\r\n\r\n\r\n**public:**\r\n\r\n*class -&gt;* accessible from package/subpackage/another package\r\n\r\n*instance variable -&gt;* accessible from package/subpackage/another package\r\n\r\n\r\nHere is detailed answer\r\n\r\nhttps://github.com/junto06/java-4-beginners/blob/master/basics/access-modifier.md","title":"What is the difference between public, protected, package-private and private in Java?","body":"<p>My two cents :)</p>\n\n<p><strong>private:</strong></p>\n\n<p><em>class -></em> a top level class cannot be private. inner classes can be private which are accessible from same class.</p>\n\n<p><em>instance variable -></em> accessible only in the class. Cannot access outside the class.</p>\n\n<p><strong>package-private:</strong></p>\n\n<p><em>class -></em> a top level class can be package-private. It can only be accessible from same package. Not from sub package, not from outside package.</p>\n\n<p><em>instance variable -></em> accessible from same package. Not from sub package, not from outside package.</p>\n\n<p><strong>protected:</strong></p>\n\n<p><em>class -></em> a top level class cannot be protected.</p>\n\n<p><em>instance variable -></em> Only accessible in same package or subpackage. Can only be access outside the package while extending class.</p>\n\n<p><strong>public:</strong></p>\n\n<p><em>class -></em> accessible from package/subpackage/another package</p>\n\n<p><em>instance variable -></em> accessible from package/subpackage/another package</p>\n\n<p>Here is detailed answer</p>\n\n<p><a href=\"https://github.com/junto06/java-4-beginners/blob/master/basics/access-modifier.md\" rel=\"nofollow noreferrer\">https://github.com/junto06/java-4-beginners/blob/master/basics/access-modifier.md</a></p>\n"},{"tags":[],"owner":{"account_id":6115775,"reputation":30435,"user_id":4770877,"display_name":"yoAlex5"},"comment_count":0,"down_vote_count":1,"up_vote_count":23,"is_accepted":false,"score":22,"last_activity_date":1638725815,"creation_date":1575664955,"answer_id":59220073,"question_id":215497,"body_markdown":"**Java access modifies**\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\nAccess modifier can be applicable for `class`, `field`[&lt;sup&gt;\\[About\\]&lt;/sup&gt;][2], `method`. Try to access, subclass or override this. \r\n\r\n - Access to `field` or `method` is through a `class`.\r\n - Inheritance and **Open Closed Principle**[&lt;sup&gt;\\[About\\]&lt;/sup&gt;][3] \r\n   - Successor `class`(subclass) access modifier can be **any**. \r\n   - Successor `method`(override) access modifier should be the **same or expand it**\r\n\r\nTop level class(first level scope) can be `public` and `default`. `Nested class`[&lt;sup&gt;\\[About\\]&lt;/sup&gt;][4] can have any of them\r\n\r\n`package` is not applying for package hierarchy \r\n\r\n\r\n[[Swift access modifiers]][5]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/JqGNs.png\r\n  [2]: https://stackoverflow.com/a/60907642/4770877\r\n  [3]: https://stackoverflow.com/a/66087638/4770877\r\n  [4]: https://stackoverflow.com/a/59220181/4770877\r\n  [5]: https://stackoverflow.com/a/60905233/4770877","title":"What is the difference between public, protected, package-private and private in Java?","body":"<p><strong>Java access modifies</strong></p>\n<p><a href=\"https://i.stack.imgur.com/JqGNs.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/JqGNs.png\" alt=\"enter image description here\" /></a></p>\n<p>Access modifier can be applicable for <code>class</code>, <code>field</code><a href=\"https://stackoverflow.com/a/60907642/4770877\"><sup>[About]</sup></a>, <code>method</code>. Try to access, subclass or override this.</p>\n<ul>\n<li>Access to <code>field</code> or <code>method</code> is through a <code>class</code>.</li>\n<li>Inheritance and <strong>Open Closed Principle</strong><a href=\"https://stackoverflow.com/a/66087638/4770877\"><sup>[About]</sup></a>\n<ul>\n<li>Successor <code>class</code>(subclass) access modifier can be <strong>any</strong>.</li>\n<li>Successor <code>method</code>(override) access modifier should be the <strong>same or expand it</strong></li>\n</ul>\n</li>\n</ul>\n<p>Top level class(first level scope) can be <code>public</code> and <code>default</code>. <code>Nested class</code><a href=\"https://stackoverflow.com/a/59220181/4770877\"><sup>[About]</sup></a> can have any of them</p>\n<p><code>package</code> is not applying for package hierarchy</p>\n<p><a href=\"https://stackoverflow.com/a/60905233/4770877\">[Swift access modifiers]</a></p>\n"},{"tags":[],"owner":{"account_id":4168759,"reputation":121,"user_id":3417107,"accept_rate":50,"display_name":"Tushar Baviskar"},"comment_count":0,"down_vote_count":3,"up_vote_count":1,"is_accepted":false,"score":-2,"last_activity_date":1583148201,"creation_date":1577111162,"answer_id":59456940,"question_id":215497,"body_markdown":"Access Specifiers in Java:\r\nThere are 4 access specifiers in java, namely private, package-private (default), protected and public in increasing access order.\r\n\r\n**Private**:\r\nWhen you are developing some class and you want member of this class not to be exposed outside this class then you should declare it as private. private members can be accessed only in class where they are defined i.e. enclosing class. **private members can be accessed on &#39;this&#39; reference and also on other instances of class enclosing these members, but only within the definition of this class.**\r\n\r\n\r\n**Package-private (default)**:\r\nThis access specifier will provide access specified by private access specifier in addition to access described below.\r\n\r\nWhen you are developing some package and hence some class (say Class1) within it, you may use default (need not be mentioned explicitly) access specifier, to expose member within class, to other classes within your (same) package. In these other classes (within same package), you can access these default members on instance of Class1. Also you can access these default members within subclasses of Class1, say Class2 (on this reference or on instance of Class1 or on instance of Class2). \r\n\r\n**Basically, within same package you can access default members on instance of class directly or on &#39;this&#39; reference in subclasses.**\r\n\t\r\n\r\n**protected**:\r\nThis access specifier will provide access specified by package-private access specifier in addition to access described below.\r\n\r\nWhen you are developing some package and hence some class (say Class1) within it, then you should use protected access specifier for data member within Class1 if you don&#39;t want this member to be accessed outside your package (say in package of consumer of your package i.e. client who is using your APIs) in general, but you want to make an exception and allow access to this member only if client writes class say Class2 that extends Class1. So, in general, protected members will be accessible on &#39;this&#39; reference in derived classes i.e. Class2 and also on explicit instances of Class2.\r\n\r\nPlease note:\r\n\r\n 1. You won&#39;t be able to access inherited protected member of Class1 in\r\n    Class2, if you attempt to access it on explicit instance of Class1,\r\n    although it is inherited in it.\r\n 2. When you write another class Class3 within same/different package\r\n    that extends Class2, protected member from Class1 will be accessible\r\n    on this reference and also on explicit instance of Class3. This will\r\n    be true for any hierarchy that is extended i.e. protected member\r\n    will still be accessible on this reference or instance of extended\r\n    class. Note that in Class3, if you create instance of Class2 then\r\n    you will not be able to access protected member from Class1 though\r\n    it is inherited.\r\n\r\n\t\r\nSo bottom line is, **protected members can be accessed in other packages, only if some class from this other package, extends class enclosing this protected member and protected member is accessed on &#39;this&#39; reference or explicit instances of extended class, within definition of extended class.**\r\n\t\r\n\t\r\n**public**: This access specifier will provide access specified by protected access specifier in addition to access described below.\r\n\r\nWhen you are developing some package and hence some class (say Class1) within it, then you should use public access specifier for data member within Class1 if you want this member to be accessible in other packages on instance of Class1 created in some class of other package. **Basically this access specifier should be used when you intent to expose your data member to world without any condition.**\r\n","title":"What is the difference between public, protected, package-private and private in Java?","body":"<p>Access Specifiers in Java:\nThere are 4 access specifiers in java, namely private, package-private (default), protected and public in increasing access order.</p>\n\n<p><strong>Private</strong>:\nWhen you are developing some class and you want member of this class not to be exposed outside this class then you should declare it as private. private members can be accessed only in class where they are defined i.e. enclosing class. <strong>private members can be accessed on 'this' reference and also on other instances of class enclosing these members, but only within the definition of this class.</strong></p>\n\n<p><strong>Package-private (default)</strong>:\nThis access specifier will provide access specified by private access specifier in addition to access described below.</p>\n\n<p>When you are developing some package and hence some class (say Class1) within it, you may use default (need not be mentioned explicitly) access specifier, to expose member within class, to other classes within your (same) package. In these other classes (within same package), you can access these default members on instance of Class1. Also you can access these default members within subclasses of Class1, say Class2 (on this reference or on instance of Class1 or on instance of Class2). </p>\n\n<p><strong>Basically, within same package you can access default members on instance of class directly or on 'this' reference in subclasses.</strong></p>\n\n<p><strong>protected</strong>:\nThis access specifier will provide access specified by package-private access specifier in addition to access described below.</p>\n\n<p>When you are developing some package and hence some class (say Class1) within it, then you should use protected access specifier for data member within Class1 if you don't want this member to be accessed outside your package (say in package of consumer of your package i.e. client who is using your APIs) in general, but you want to make an exception and allow access to this member only if client writes class say Class2 that extends Class1. So, in general, protected members will be accessible on 'this' reference in derived classes i.e. Class2 and also on explicit instances of Class2.</p>\n\n<p>Please note:</p>\n\n<ol>\n<li>You won't be able to access inherited protected member of Class1 in\nClass2, if you attempt to access it on explicit instance of Class1,\nalthough it is inherited in it.</li>\n<li>When you write another class Class3 within same/different package\nthat extends Class2, protected member from Class1 will be accessible\non this reference and also on explicit instance of Class3. This will\nbe true for any hierarchy that is extended i.e. protected member\nwill still be accessible on this reference or instance of extended\nclass. Note that in Class3, if you create instance of Class2 then\nyou will not be able to access protected member from Class1 though\nit is inherited.</li>\n</ol>\n\n<p>So bottom line is, <strong>protected members can be accessed in other packages, only if some class from this other package, extends class enclosing this protected member and protected member is accessed on 'this' reference or explicit instances of extended class, within definition of extended class.</strong></p>\n\n<p><strong>public</strong>: This access specifier will provide access specified by protected access specifier in addition to access described below.</p>\n\n<p>When you are developing some package and hence some class (say Class1) within it, then you should use public access specifier for data member within Class1 if you want this member to be accessible in other packages on instance of Class1 created in some class of other package. <strong>Basically this access specifier should be used when you intent to expose your data member to world without any condition.</strong></p>\n"},{"comments":[{"owner":{"account_id":2043778,"reputation":17800,"user_id":1824361,"accept_rate":80,"display_name":"Ahmed Nabil"},"score":2,"creation_date":1608325011,"post_id":63858024,"comment_id":115558727,"body_markdown":"For more clarity, `no modifier` == `package private` | `package protected`","body":"For more clarity, <code>no modifier</code> == <code>package private</code> | <code>package protected</code>"}],"tags":[],"owner":{"account_id":18336519,"reputation":688,"user_id":13353813,"display_name":"Mushfiqur Rahman Abir"},"comment_count":1,"down_vote_count":2,"up_vote_count":7,"is_accepted":false,"score":5,"last_activity_date":1599895990,"creation_date":1599895990,"answer_id":63858024,"question_id":215497,"body_markdown":"[![Differences between public, private, default and protected access modifiers][1]][1]\r\n\r\nThis image will make you understand easily about the basic differences between public, private, protected and default access modifiers. The default modifier takes place automatically when you don&#39;t declare ant access modifiers in your code. \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/nAtpl.png","title":"What is the difference between public, protected, package-private and private in Java?","body":"<p><a href=\"https://i.stack.imgur.com/nAtpl.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/nAtpl.png\" alt=\"Differences between public, private, default and protected access modifiers\" /></a></p>\n<p>This image will make you understand easily about the basic differences between public, private, protected and default access modifiers. The default modifier takes place automatically when you don't declare ant access modifiers in your code.</p>\n"},{"comments":[{"owner":{"account_id":21720493,"reputation":738,"user_id":16030830,"display_name":"ethry"},"score":0,"creation_date":1657089825,"post_id":72873190,"comment_id":128723418,"body_markdown":"As it’s currently written, your answer is unclear. Please [edit] to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"As it’s currently written, your answer is unclear. Please <a href=\"https://stackoverflow.com/posts/72873190/edit\">edit</a> to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":25104695,"reputation":13,"user_id":18954998,"display_name":"Tiyus98"},"comment_count":1,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1697652619,"creation_date":1657040876,"answer_id":72873190,"question_id":215497,"body_markdown":"When talking about access modifiers, we can easily understand very simple rules include them.\r\n\r\n**Private Access modifier use in**: - Only the same class\r\n\r\n**Default Access modifier use in**: - Only the same class / the same package subclasses\r\n\r\n**Protected Access modifier use in**: - the same class / the same package subclasses / the same package non - subclasses / different package subclasses\r\n\r\n**Public Access modifier use in**: we can use it anywhere (the same class / same package subclasses / same package non - subclasses / different package subclasses / different package non - subclasses)\r\n\r\n\r\n\r\n","title":"What is the difference between public, protected, package-private and private in Java?","body":"<p>When talking about access modifiers, we can easily understand very simple rules include them.</p>\n<p><strong>Private Access modifier use in</strong>: - Only the same class</p>\n<p><strong>Default Access modifier use in</strong>: - Only the same class / the same package subclasses</p>\n<p><strong>Protected Access modifier use in</strong>: - the same class / the same package subclasses / the same package non - subclasses / different package subclasses</p>\n<p><strong>Public Access modifier use in</strong>: we can use it anywhere (the same class / same package subclasses / same package non - subclasses / different package subclasses / different package non - subclasses)</p>\n"},{"tags":[],"owner":{"account_id":3130088,"reputation":43207,"user_id":2648077,"accept_rate":80,"display_name":"Alireza Fattahi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697665131,"creation_date":1673879114,"answer_id":75135614,"question_id":215497,"body_markdown":"For beginners, considering this example can be helpful;\r\n\r\nConsider I have developed `MyClass` in the `foo` package and it has a fantastic method named `print` which you are interested in calling it (it could be a `method` or `property`):\r\n\r\n    package foo;  // I am in foo\r\n    public class MyClass {\r\n         private void print() { //This is private\r\n            System.out.println(&quot;I can print!&quot;);\r\n        }\r\n    }\r\n\r\nYou have developed `YourClass` in `bar` package, and you are interested to use `MyClass#print`\r\n\r\n    package bar; \\\\You are not in same package as me\r\n    import foo.MyClass;\r\n    public class YourClass {\r\n        void test() {\r\n            MyClass myClass = new MyClass();\r\n            myClass.print();\r\n        }\r\n    }\r\n\r\nYour code is not compile and you get error `The method print() is undefined for the type MyClass`\r\n\r\nYou come to me:\r\n\r\n - You: I want to use your method but it is `private`. Can you make it `public`?\r\n - Me : No I don&#39;t want `others` use it\r\n - You: I am your friend at least let me `not others` use it.\r\n - Me : Ok I will remove the `private` keyword. My Access modifier will be `default` or `private package`. As you are my friend you must be in same package as me. So you `must` come to my package `foo`. I mean exact package not even a sub package.\r\n\r\nThen `MyClass` will be\r\n\r\n    package foo;\r\n    public class MyClass {\r\n        void print() { // No access modifier means default or package-private\r\n            System.out.println(&quot;I can print!&quot;);\r\n        }\r\n    }\r\n\r\n`YourClass` will be:\r\n\r\n    package foo;//You come to my package\r\n    public class YourClass {\r\n        void test() {\r\n            MyClass myClass = new MyClass();\r\n            myClass.print();\r\n        }\r\n    }\r\n\r\n-------\r\n\r\nNow consider this: Again you come to me\r\n\r\n - You: My boss told me I can not change my package (in the actual world, you can not change your package to use other classes methods)\r\n - Me : There is another way, if you `extend` me and I make `print()` `protected`, then you can use it whether you change you package or not. (So subclassing will always give you access to my method).\r\n\r\nHere is `MyClass`\r\n\r\n    package foo;\r\n    protected class MyClass { // It is now protected\r\n         protected void print() {\r\n            System.out.println(&quot;I can print!&quot;);\r\n        }\r\n    }\r\n\r\nHere is `YourClass`:\r\n\r\n    package bar; // You are on your own package\r\n    import foo.MyClass;\r\n\r\n    public class YourClass extends MyClass {\r\n        void  test() {\r\n            // You initiate yourself! But as you extend me, you can call my print()\r\n            YourClass yourClass = new YourClass();\r\n            yourClass.print();\r\n        }\r\n    }\r\n\r\n------\r\n\r\nYou may have noticed that by making a method protected *all* other classes can use it by `extending` it, and you can not easily control how it can be used. This was solved in [Java&amp;nbsp;17][1] by introducing `sealed` and `permits` words. So you can define `which` classes `can` extend you. By something like `public sealed class MyClass permits YourClass`\r\nSee *[What are sealed classes in Java 17?][2]* for more information.\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Java_version_history#Java_17\r\n  [2]: https://stackoverflow.com/questions/69218585/what-are-sealed-classes-in-java-17\r\n\r\n\r\n\r\n\r\n","title":"What is the difference between public, protected, package-private and private in Java?","body":"<p>For beginners, considering this example can be helpful;</p>\n<p>Consider I have developed <code>MyClass</code> in the <code>foo</code> package and it has a fantastic method named <code>print</code> which you are interested in calling it (it could be a <code>method</code> or <code>property</code>):</p>\n<pre><code>package foo;  // I am in foo\npublic class MyClass {\n     private void print() { //This is private\n        System.out.println(&quot;I can print!&quot;);\n    }\n}\n</code></pre>\n<p>You have developed <code>YourClass</code> in <code>bar</code> package, and you are interested to use <code>MyClass#print</code></p>\n<pre><code>package bar; \\\\You are not in same package as me\nimport foo.MyClass;\npublic class YourClass {\n    void test() {\n        MyClass myClass = new MyClass();\n        myClass.print();\n    }\n}\n</code></pre>\n<p>Your code is not compile and you get error <code>The method print() is undefined for the type MyClass</code></p>\n<p>You come to me:</p>\n<ul>\n<li>You: I want to use your method but it is <code>private</code>. Can you make it <code>public</code>?</li>\n<li>Me : No I don't want <code>others</code> use it</li>\n<li>You: I am your friend at least let me <code>not others</code> use it.</li>\n<li>Me : Ok I will remove the <code>private</code> keyword. My Access modifier will be <code>default</code> or <code>private package</code>. As you are my friend you must be in same package as me. So you <code>must</code> come to my package <code>foo</code>. I mean exact package not even a sub package.</li>\n</ul>\n<p>Then <code>MyClass</code> will be</p>\n<pre><code>package foo;\npublic class MyClass {\n    void print() { // No access modifier means default or package-private\n        System.out.println(&quot;I can print!&quot;);\n    }\n}\n</code></pre>\n<p><code>YourClass</code> will be:</p>\n<pre><code>package foo;//You come to my package\npublic class YourClass {\n    void test() {\n        MyClass myClass = new MyClass();\n        myClass.print();\n    }\n}\n</code></pre>\n<hr />\n<p>Now consider this: Again you come to me</p>\n<ul>\n<li>You: My boss told me I can not change my package (in the actual world, you can not change your package to use other classes methods)</li>\n<li>Me : There is another way, if you <code>extend</code> me and I make <code>print()</code> <code>protected</code>, then you can use it whether you change you package or not. (So subclassing will always give you access to my method).</li>\n</ul>\n<p>Here is <code>MyClass</code></p>\n<pre><code>package foo;\nprotected class MyClass { // It is now protected\n     protected void print() {\n        System.out.println(&quot;I can print!&quot;);\n    }\n}\n</code></pre>\n<p>Here is <code>YourClass</code>:</p>\n<pre><code>package bar; // You are on your own package\nimport foo.MyClass;\n\npublic class YourClass extends MyClass {\n    void  test() {\n        // You initiate yourself! But as you extend me, you can call my print()\n        YourClass yourClass = new YourClass();\n        yourClass.print();\n    }\n}\n</code></pre>\n<hr />\n<p>You may have noticed that by making a method protected <em>all</em> other classes can use it by <code>extending</code> it, and you can not easily control how it can be used. This was solved in <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_17\" rel=\"nofollow noreferrer\">Java 17</a> by introducing <code>sealed</code> and <code>permits</code> words. So you can define <code>which</code> classes <code>can</code> extend you. By something like <code>public sealed class MyClass permits YourClass</code>\nSee <em><a href=\"https://stackoverflow.com/questions/69218585/what-are-sealed-classes-in-java-17\">What are sealed classes in Java 17?</a></em> for more information.</p>\n"},{"tags":[],"owner":{"account_id":2772352,"reputation":163,"user_id":2386702,"display_name":"Mian Asad Ali"},"comment_count":0,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1692880290,"creation_date":1692880290,"answer_id":76969283,"question_id":215497,"body_markdown":" 1. **public:** Use for wide accessibility across your codebase and in different \r\npackages. Suitable for classes and methods you want to expose universally.\r\n 2. **protected:** Provides access within the same package and in subclasses, even in different packages. Useful for balancing encapsulation with subclass access.\r\n 3. **Default (Package Private):** No explicit modifier; accessible within the same package. Offers encapsulation while allowing access within a package.\r\n 4. **private:** Restricts access to within the class. Ideal for hiding implementation details from other classes.\r\n\r\n\r\n----------\r\n\r\n\r\n**Inheritance:**\r\n\r\nClasses:\r\n\r\n 1. **public:** Subclassable by any class.\r\n 2. **protected:** Subclassable within the same package and in different packages.\r\n 3. **Default:** Subclassable within the same package.\r\n 4. **private:** Not subclassable.\r\n\r\n----------\r\n\r\n\r\nMethods and Fields:\r\n\r\n 1. **public:** Accessible everywhere.\r\n 2. **protected:** Accessible within the same package and in subclasses.\r\n 3. **Default:** Accessible within the same package.\r\n 4. **private:** Accessible only within the same class.\r\n\r\nSubclasses can&#39;t have more restrictive access than their superclasses for overridden methods or fields.","title":"What is the difference between public, protected, package-private and private in Java?","body":"<ol>\n<li><strong>public:</strong> Use for wide accessibility across your codebase and in different\npackages. Suitable for classes and methods you want to expose universally.</li>\n<li><strong>protected:</strong> Provides access within the same package and in subclasses, even in different packages. Useful for balancing encapsulation with subclass access.</li>\n<li><strong>Default (Package Private):</strong> No explicit modifier; accessible within the same package. Offers encapsulation while allowing access within a package.</li>\n<li><strong>private:</strong> Restricts access to within the class. Ideal for hiding implementation details from other classes.</li>\n</ol>\n<hr />\n<p><strong>Inheritance:</strong></p>\n<p>Classes:</p>\n<ol>\n<li><strong>public:</strong> Subclassable by any class.</li>\n<li><strong>protected:</strong> Subclassable within the same package and in different packages.</li>\n<li><strong>Default:</strong> Subclassable within the same package.</li>\n<li><strong>private:</strong> Not subclassable.</li>\n</ol>\n<hr />\n<p>Methods and Fields:</p>\n<ol>\n<li><strong>public:</strong> Accessible everywhere.</li>\n<li><strong>protected:</strong> Accessible within the same package and in subclasses.</li>\n<li><strong>Default:</strong> Accessible within the same package.</li>\n<li><strong>private:</strong> Accessible only within the same class.</li>\n</ol>\n<p>Subclasses can't have more restrictive access than their superclasses for overridden methods or fields.</p>\n"}],"owner":{"account_id":483,"reputation":38319,"user_id":625,"accept_rate":100,"display_name":"intrepion"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2570789,"favorite_count":0,"down_vote_count":19,"up_vote_count":3691,"accepted_answer_id":215505,"answer_count":31,"score":3672,"last_activity_date":1697665131,"creation_date":1224359592,"question_id":215497,"body_markdown":"In Java, are there clear rules on when to use each of access modifiers, namely the default (package private), `public`, `protected` and `private`, while making `class` and `interface` and dealing with inheritance?","title":"What is the difference between public, protected, package-private and private in Java?","body":"<p>In Java, are there clear rules on when to use each of access modifiers, namely the default (package private), <code>public</code>, <code>protected</code> and <code>private</code>, while making <code>class</code> and <code>interface</code> and dealing with inheritance?</p>\n"},{"tags":["java","2d","collision","axis","bullet"],"comments":[{"owner":{"account_id":3398763,"reputation":19,"user_id":2851608,"display_name":"Reiss Gomez"},"score":0,"creation_date":1697645739,"post_id":77317809,"comment_id":136307001,"body_markdown":"They are bigger than just a point, they have a set radius of 10.","body":"They are bigger than just a point, they have a set radius of 10."},{"owner":{"account_id":3398763,"reputation":19,"user_id":2851608,"display_name":"Reiss Gomez"},"score":0,"creation_date":1697646048,"post_id":77317809,"comment_id":136307061,"body_markdown":"Yes I think I could work that out.","body":"Yes I think I could work that out."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1697646733,"post_id":77317809,"comment_id":136307171,"body_markdown":"Imagine another wall parallel and below the one that stops the bullets. The distance between the walls on a line that intersects both walls at right angles is the radius of the bullets. The bullets behave as if they are point size, but stopped by the imagined wall.  So, you need to calculate the distance **g** between the walls along a *vertical* line that intersects both walls. The bullet is stopped when its center is **g** distance below the real wall.","body":"Imagine another wall parallel and below the one that stops the bullets. The distance between the walls on a line that intersects both walls at right angles is the radius of the bullets. The bullets behave as if they are point size, but stopped by the imagined wall.  So, you need to calculate the distance <b>g</b> between the walls along a <i>vertical</i> line that intersects both walls. The bullet is stopped when its center is <b>g</b> distance below the real wall."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1699464764,"post_id":77317809,"comment_id":136536048,"body_markdown":"Did you solve this? I&#39;m sorry, I got distracted shortly after this was posted.","body":"Did you solve this? I&#39;m sorry, I got distracted shortly after this was posted."}],"answers":[{"comments":[{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1697725169,"post_id":77318467,"comment_id":136318188,"body_markdown":"Yes, the O/P is calculating a different angle for the bullet.  Although `Line2D#ptLineDist` was not specifically mentioned, the O/P did say he / she found how to do this caclulation, and that is not what is wanted.","body":"Yes, the O/P is calculating a different angle for the bullet.  Although <code>Line2D#ptLineDist</code> was not specifically mentioned, the O/P did say he / she found how to do this caclulation, and that is not what is wanted."},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1697736247,"post_id":77318467,"comment_id":136320484,"body_markdown":"@OldDogProgrammer, if the radius is _10_, just use _30, 90_ and _50, 110_, etc..","body":"@OldDogProgrammer, if the radius is <i>10</i>, just use <i>30, 90</i> and <i>50, 110</i>, etc.."}],"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"comment_count":2,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1697664789,"creation_date":1697650046,"answer_id":77318467,"question_id":77317809,"body_markdown":"Most of the _[java.awt.geom](https://docs.oracle.com/en/java/javase/20/docs/api/java.desktop/java/awt/geom/package-summary.html)_ _framework_ contains helpful _math_ functions.\r\n\r\nThe _[Line2D](https://docs.oracle.com/en/java/javase/20/docs/api/java.desktop/java/awt/geom/Line2D.html)_ class has the _[Line2D#ptLineDist](https://docs.oracle.com/en/java/javase/20/docs/api/java.desktop/java/awt/geom/Line2D.html#ptLineDist(double,double,double,double,double,double))_ method, for calculating this distance, without the radius.\r\n\r\nFor that, I imagine you&#39;re calculating a different angle for the bullet.\\\r\nThis is at least a resource, for that solution.\r\n\r\n```java\r\ndouble a = Line2D.ptLineDist(20, 40, 100, 10, 40, 100);\r\ndouble b = Line2D.ptLineDist(20, 40, 100, 10, 65, 100);\r\nSystem.out.printf(&quot;a = %s, b = %s&quot;, a, b);\r\n```\r\n\r\nOutput\r\n\r\n```none\r\na = 63.202219485910504, b = 71.9803055256203\r\n```","title":"How can I get the projected distance between a line segment and a circle?","body":"<p>Most of the <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.desktop/java/awt/geom/package-summary.html\" rel=\"nofollow noreferrer\">java.awt.geom</a></em> <em>framework</em> contains helpful <em>math</em> functions.</p>\n<p>The <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.desktop/java/awt/geom/Line2D.html\" rel=\"nofollow noreferrer\">Line2D</a></em> class has the <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.desktop/java/awt/geom/Line2D.html#ptLineDist(double,double,double,double,double,double)\" rel=\"nofollow noreferrer\">Line2D#ptLineDist</a></em> method, for calculating this distance, without the radius.</p>\n<p>For that, I imagine you're calculating a different angle for the bullet.<br />\nThis is at least a resource, for that solution.</p>\n<pre class=\"lang-java prettyprint-override\"><code>double a = Line2D.ptLineDist(20, 40, 100, 10, 40, 100);\ndouble b = Line2D.ptLineDist(20, 40, 100, 10, 65, 100);\nSystem.out.printf(&quot;a = %s, b = %s&quot;, a, b);\n</code></pre>\n<p>Output</p>\n<pre class=\"lang-none prettyprint-override\"><code>a = 63.202219485910504, b = 71.9803055256203\n</code></pre>\n"}],"owner":{"account_id":3398763,"reputation":19,"user_id":2851608,"display_name":"Reiss Gomez"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":71,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1697664789,"creation_date":1697643757,"question_id":77317809,"body_markdown":"I am making a 2D shooting game in Java, I need to be able to work out the maximum distance a circle could travel forwards (Only on the Y-axis) and get the distance as a float value, I have looked everywhere and can only find the closest distance to the line, but I only want the forward distance. This image is an example of how I am trying to get it to work, the line is a wall and the circles are bullets. If someone could give me a simple Java function that would be brilliant. I need it to take into account the whole circumference of the circle, so even if it slightly clips the wall with the edge, I need that distance. If the line is above the circle I want it to return a negative value, if the line is below I want a positive value, and if they would not collide, return POSITIVE_INFITITY.\r\n\r\n[![enter image description here](https://i.stack.imgur.com/seMQD.png)](https://i.stack.imgur.com/seMQD.png)\r\n\r\nI have tried many different functions I have found online but none seem to suit my purpose of just using the Y axis distance.","title":"How can I get the projected distance between a line segment and a circle?","body":"<p>I am making a 2D shooting game in Java, I need to be able to work out the maximum distance a circle could travel forwards (Only on the Y-axis) and get the distance as a float value, I have looked everywhere and can only find the closest distance to the line, but I only want the forward distance. This image is an example of how I am trying to get it to work, the line is a wall and the circles are bullets. If someone could give me a simple Java function that would be brilliant. I need it to take into account the whole circumference of the circle, so even if it slightly clips the wall with the edge, I need that distance. If the line is above the circle I want it to return a negative value, if the line is below I want a positive value, and if they would not collide, return POSITIVE_INFITITY.</p>\n<p><a href=\"https://i.stack.imgur.com/seMQD.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/seMQD.png\" alt=\"enter image description here\" /></a></p>\n<p>I have tried many different functions I have found online but none seem to suit my purpose of just using the Y axis distance.</p>\n"},{"tags":["java","spring-boot","file"],"comments":[{"owner":{"account_id":29646890,"reputation":246,"user_id":22721712,"display_name":"BugHunter"},"score":0,"creation_date":1697539123,"post_id":77308222,"comment_id":136289745,"body_markdown":"Yes, its possible to perfom both file upload and json submission in the same request. You have some errors in your code where the request is not handlet correctly and the method is missing some annotations.","body":"Yes, its possible to perfom both file upload and json submission in the same request. You have some errors in your code where the request is not handlet correctly and the method is missing some annotations."},{"owner":{"account_id":17412700,"reputation":5,"user_id":22410466,"display_name":"Faiz"},"score":0,"creation_date":1697539797,"post_id":77308222,"comment_id":136289874,"body_markdown":"can you please provide what should i use here, and what kind of annotations should i use here","body":"can you please provide what should i use here, and what kind of annotations should i use here"}],"answers":[{"comments":[{"owner":{"account_id":17412700,"reputation":5,"user_id":22410466,"display_name":"Faiz"},"score":0,"creation_date":1697541288,"post_id":77308470,"comment_id":136290170,"body_markdown":"I did exactly as you said but its still not working it says that &quot;org.apache.tomcat.util.http.fileupload.impl.InvalidContentTypeException: the request doesn&#39;t contain a multipart/form-data or multipart/mixed stream, content type header is application/json","body":"I did exactly as you said but its still not working it says that &quot;org.apache.tomcat.util.http.fileupload.impl.InvalidContentT&zwnj;&#8203;ypeException: the request doesn&#39;t contain a multipart/form-data or multipart/mixed stream, content type header is application/json"},{"owner":{"account_id":29646890,"reputation":246,"user_id":22721712,"display_name":"BugHunter"},"score":0,"creation_date":1697541602,"post_id":77308470,"comment_id":136290224,"body_markdown":"try to change @`RequestPart  `to @`RequestParam` for both","body":"try to change @<code>RequestPart  </code>to @<code>RequestParam</code> for both"},{"owner":{"account_id":29646890,"reputation":246,"user_id":22721712,"display_name":"BugHunter"},"score":0,"creation_date":1697541653,"post_id":77308470,"comment_id":136290230,"body_markdown":"Also make sure that the request you send from Postman matches the parameter names in the @RequestParam annotations and includes the file and user data accordingly","body":"Also make sure that the request you send from Postman matches the parameter names in the @RequestParam annotations and includes the file and user data accordingly"}],"tags":[],"owner":{"account_id":29646890,"reputation":246,"user_id":22721712,"display_name":"BugHunter"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697540702,"creation_date":1697540702,"answer_id":77308470,"question_id":77308222,"body_markdown":"I think you need to use @RequestPart for both the file and the your json payload. \r\n\r\n    public String register(@RequestPart(&quot;file&quot;) MultipartFile file, @RequestPart(&quot;user&quot;) User user) {\r\n    your original code here ...\r\n    \r\n    }\r\n\r\n","title":"How to make a http post request for Uploading a file as well as sending json payload simultaneously","body":"<p>I think you need to use @RequestPart for both the file and the your json payload.</p>\n<pre><code>public String register(@RequestPart(&quot;file&quot;) MultipartFile file, @RequestPart(&quot;user&quot;) User user) {\nyour original code here ...\n\n}\n</code></pre>\n"}],"owner":{"account_id":17412700,"reputation":5,"user_id":22410466,"display_name":"Faiz"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1697664241,"creation_date":1697538414,"question_id":77308222,"body_markdown":"I have been trying to upload a file as well as send some data with it through Postman using springboot but for some reason, But I don&#39;t know whats happening it&#39;s not working, I have tried using ```@RequestParam(&quot;file&quot;) MultipartFile file and @RequestBody MyClass myClass ``` in the method but it&#39;s not working , I have also used `@requestPart` annotation but it&#39;s not working \r\n\r\n\r\n\r\n\r\nI am using the following code , but I donot know whats wrong with this? \r\n\r\n```\r\n@RestController\r\npublic class FileUpload {\r\n\t\r\n\t@PostMapping(&quot;/upload&quot;)\r\n\tpublic String register(@RequestPart(&quot;file&quot;) MultipartFile file , @RequestBody User \r\nuser\t\t\r\n\t\tString uploadDirectory = &quot;myDirectory&quot;;\r\n\r\n\t\tif (file.isEmpty() || file == null) {\r\n\t\t\treturn &quot;file cannot be null or empty&quot;;\r\n\t\t}\r\n\t\ttry {\r\n\t\t\tFile dir = new File(uploadDirectory);\r\n\t\t\tif (!dir.exists()) {\r\n\t\t\t\tdir.mkdir();\r\n\t\t\t}\r\n\t\t\tString originName = file.getOriginalFilename();\r\n\t\t\tSystem.out.println(originName);\r\n\r\n\t\t\tFile destination = new File(uploadDirectory + File.separator + originName);\r\n\t\t\tif(destination.exists()) {\r\n\t\t\t\treturn &quot;file with same name already exists&quot;;\r\n\t\t\t}else {\r\n\t\t\t\tfile.transferTo(destination);\r\n\t\t\t}\r\n\t\t\treturn &quot;successfully file uploaded using userID : &quot; + user.getUserid();\r\n\r\n\t\t} catch (IOException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t\treturn &quot;upload failed&quot;;\r\n\t\t}\t\t\t\t\t\r\n\t}\r\n```\r\nCan I not perform both operations at same time, I think it should be possible? ","title":"How to make a http post request for Uploading a file as well as sending json payload simultaneously","body":"<p>I have been trying to upload a file as well as send some data with it through Postman using springboot but for some reason, But I don't know whats happening it's not working, I have tried using <code>@RequestParam(&quot;file&quot;) MultipartFile file and @RequestBody MyClass myClass </code> in the method but it's not working , I have also used <code>@requestPart</code> annotation but it's not working</p>\n<p>I am using the following code , but I donot know whats wrong with this?</p>\n<pre><code>@RestController\npublic class FileUpload {\n    \n    @PostMapping(&quot;/upload&quot;)\n    public String register(@RequestPart(&quot;file&quot;) MultipartFile file , @RequestBody User \nuser        \n        String uploadDirectory = &quot;myDirectory&quot;;\n\n        if (file.isEmpty() || file == null) {\n            return &quot;file cannot be null or empty&quot;;\n        }\n        try {\n            File dir = new File(uploadDirectory);\n            if (!dir.exists()) {\n                dir.mkdir();\n            }\n            String originName = file.getOriginalFilename();\n            System.out.println(originName);\n\n            File destination = new File(uploadDirectory + File.separator + originName);\n            if(destination.exists()) {\n                return &quot;file with same name already exists&quot;;\n            }else {\n                file.transferTo(destination);\n            }\n            return &quot;successfully file uploaded using userID : &quot; + user.getUserid();\n\n        } catch (IOException e) {\n            e.printStackTrace();\n            return &quot;upload failed&quot;;\n        }                   \n    }\n</code></pre>\n<p>Can I not perform both operations at same time, I think it should be possible?</p>\n"},{"tags":["java","version","gzip","gzipoutputstream"],"comments":[{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":1,"creation_date":1697499244,"post_id":77305259,"comment_id":136285012,"body_markdown":"Do you have an issue decompressing that output from Java 17 with both version, or any other tool?","body":"Do you have an issue decompressing that output from Java 17 with both version, or any other tool?"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1697545273,"post_id":77305259,"comment_id":136290941,"body_markdown":"Can not reproduce. The only difference I noted, is that Java&#160;8 always writes `0` for the OS flag whereas Java&#160;17 writes `0xFF`. Which does not match your output having `0xFF` in either case. In other words, I get for Java&#160;17 and newer the output you have posted for Java&#160;8. While all older versions differ in only that one header byte. Some remarks: Has `IOUtils.write(…, compressorStream);` any relevant difference to a straight-forward `compressorStream.write(…);`? Why do you use `compressorStream.finish();` instead of closing the stream?","body":"Can not reproduce. The only difference I noted, is that Java 8 always writes <code>0</code> for the OS flag whereas Java 17 writes <code>0xFF</code>. Which does not match your output having <code>0xFF</code> in either case. In other words, I get for Java 17 and newer the output you have posted for Java 8. While all older versions differ in only that one header byte. Some remarks: Has <code>IOUtils.write(…, compressorStream);</code> any relevant difference to a straight-forward <code>compressorStream.write(…);</code>? Why do you use <code>compressorStream.finish();</code> instead of closing the stream?"},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1697660899,"post_id":77305259,"comment_id":136309490,"body_markdown":"Similar: [*Gzip compression of a string gives different results in java11 vs java17*](https://stackoverflow.com/q/77319353/642706)","body":"Similar: <a href=\"https://stackoverflow.com/q/77319353/642706\"><i>Gzip compression of a string gives different results in java11 vs java17</i></a>"}],"answers":[{"tags":[],"owner":{"account_id":1136690,"reputation":104411,"user_id":1180620,"accept_rate":83,"display_name":"Mark Adler"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697509158,"creation_date":1697509158,"answer_id":77305849,"question_id":77305259,"body_markdown":"There is no problem. Both streams are correct, and both decompress to &quot;test1 test2 test3&quot;.","title":"Change in GZIPOutputStream behavior in Java 17?","body":"<p>There is no problem. Both streams are correct, and both decompress to &quot;test1 test2 test3&quot;.</p>\n"},{"comments":[{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1697706634,"post_id":77319646,"comment_id":136314512,"body_markdown":"Did you note that in this question, the tenth byte does *not* differ and there are other differences?","body":"Did you note that in this question, the tenth byte does <i>not</i> differ and there are other differences?"}],"tags":[],"owner":{"account_id":16250750,"reputation":33,"user_id":11734791,"display_name":"Shashi"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697663655,"creation_date":1697663655,"answer_id":77319646,"question_id":77305259,"body_markdown":"In gzip compression, a 10-byte header is used, and the 10th byte specifies information about the operating system. Starting from Java 16 and onwards, this 10th byte has been modified to the value 255, whereas it was previously set to 0 before Java 16. This alteration in the 10th byte accounts for the variation observed in the compressed output.\r\nreference: https://bugs.openjdk.org/browse/JDK-8244706","title":"Change in GZIPOutputStream behavior in Java 17?","body":"<p>In gzip compression, a 10-byte header is used, and the 10th byte specifies information about the operating system. Starting from Java 16 and onwards, this 10th byte has been modified to the value 255, whereas it was previously set to 0 before Java 16. This alteration in the 10th byte accounts for the variation observed in the compressed output.\nreference: <a href=\"https://bugs.openjdk.org/browse/JDK-8244706\" rel=\"nofollow noreferrer\">https://bugs.openjdk.org/browse/JDK-8244706</a></p>\n"}],"owner":{"account_id":152786,"reputation":5621,"user_id":367544,"accept_rate":77,"display_name":"Dasmowenator"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":116,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1697663655,"creation_date":1697495015,"question_id":77305259,"body_markdown":"Was there an undocumented change to GZIP behavior in Java 17?  I&#39;ve looked at the [Java update notes][1] and they make no mention of compression to gzip changes.  I&#39;ve created a simple program to demonstrate the change:\r\n\r\n```\r\nByteArrayOutputStream byteStream = new ByteArrayOutputStream();\r\nGZIPOutputStream compressorStream = new GZIPOutputStream(byteStream);\r\nIOUtils.write(&quot;test1 test2 test3&quot;.getBytes(StandardCharsets.UTF_8), compressorStream);\r\ncompressorStream.finish();\r\nfor (byte b : byteStream.toByteArray()) {\r\n    System.out.print(String.format(&quot;%02x &quot;, b));\r\n}\r\n```\r\n\r\nWhen I run this on Java 8 vs Java 17, it produces different results:\r\n```\r\n Java 8: 1f 8b 08 00 00 00 00 00 00 ff 2b 49 2d 2e 31 54 28 01 92 46 60 d2 18 00 e8 5e b8 b9 11 00 00 00\r\nJava 17: 1f 8b 08 00 00 00 00 00 00 ff 2b 49 2d 2e 31 54 28 49 2d 2e 31 02 93 c6 00 e8 5e b8 b9 11 00 00 00 \r\n```\r\n\r\nAs you can see, not only are the byte values different, **the number of bytes in the resulting array is even different!**\r\n\r\nDoes anyone know why this is happening?  Was there any documentation from the Java developers explaining this change in behavior?\r\n\r\n(Java 8 version: `1.8.0_333`, Java 17 version: `17.0.8`)\r\n\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/migrate/significant-changes-jdk-release.html#GUID-6B103F24-CA12-4645-A37C-7AB9E7EF1878","title":"Change in GZIPOutputStream behavior in Java 17?","body":"<p>Was there an undocumented change to GZIP behavior in Java 17?  I've looked at the <a href=\"https://docs.oracle.com/en/java/javase/17/migrate/significant-changes-jdk-release.html#GUID-6B103F24-CA12-4645-A37C-7AB9E7EF1878\" rel=\"nofollow noreferrer\">Java update notes</a> and they make no mention of compression to gzip changes.  I've created a simple program to demonstrate the change:</p>\n<pre><code>ByteArrayOutputStream byteStream = new ByteArrayOutputStream();\nGZIPOutputStream compressorStream = new GZIPOutputStream(byteStream);\nIOUtils.write(&quot;test1 test2 test3&quot;.getBytes(StandardCharsets.UTF_8), compressorStream);\ncompressorStream.finish();\nfor (byte b : byteStream.toByteArray()) {\n    System.out.print(String.format(&quot;%02x &quot;, b));\n}\n</code></pre>\n<p>When I run this on Java 8 vs Java 17, it produces different results:</p>\n<pre><code> Java 8: 1f 8b 08 00 00 00 00 00 00 ff 2b 49 2d 2e 31 54 28 01 92 46 60 d2 18 00 e8 5e b8 b9 11 00 00 00\nJava 17: 1f 8b 08 00 00 00 00 00 00 ff 2b 49 2d 2e 31 54 28 49 2d 2e 31 02 93 c6 00 e8 5e b8 b9 11 00 00 00 \n</code></pre>\n<p>As you can see, not only are the byte values different, <strong>the number of bytes in the resulting array is even different!</strong></p>\n<p>Does anyone know why this is happening?  Was there any documentation from the Java developers explaining this change in behavior?</p>\n<p>(Java 8 version: <code>1.8.0_333</code>, Java 17 version: <code>17.0.8</code>)</p>\n"},{"tags":["java","spring-boot","jenkins-pipeline","jenkins-plugins","maven-plugin"],"comments":[{"owner":{"account_id":9651457,"reputation":247,"user_id":7162494,"display_name":"D. Kellenberger"},"score":0,"creation_date":1697486501,"post_id":77304609,"comment_id":136283473,"body_markdown":"With which JVM Version does your Jenkins Build run? Maybe you have selected there still the old JVM Version.","body":"With which JVM Version does your Jenkins Build run? Maybe you have selected there still the old JVM Version."},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1697520919,"post_id":77304609,"comment_id":136286582,"body_markdown":"Remove the `maven.compiler.*` and `source.version` properties. Remove the `maven-compiler-plugin`, Spring Boot already ships with one. The error you get is for not having JDK17 on the build server.  If you really want to override/extend it remove the `release/target` tags from the compiler plugin, you will get those from the one managed by Spring Boot.","body":"Remove the <code>maven.compiler.*</code> and <code>source.version</code> properties. Remove the <code>maven-compiler-plugin</code>, Spring Boot already ships with one. The error you get is for not having JDK17 on the build server.  If you really want to override/extend it remove the <code>release&#47;target</code> tags from the compiler plugin, you will get those from the one managed by Spring Boot."}],"owner":{"account_id":1595477,"reputation":1,"user_id":1477720,"display_name":"user1477720"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":622,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697663469,"creation_date":1697485806,"question_id":77304609,"body_markdown":"I have upgraded my SpringBoot project to JAVA 17 and SpringBoot version 3.1.4. Because in my project Spring Security is used  above 6. I am able to build and release the code after all upgrade in my local.\r\n\r\n- But it failed in Jenkins Pipeline when it started building. There is no problem in local build and other testing as well.\r\n\r\n- We are getting following error. We also upgraded the Jenkins Agent.\r\n\r\n      [ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.11.0:\r\n      compile (default-compile) on project uni-dashboard-portal-external: \r\n      Fatal error compiling: error: release version 17 not supported \r\n\r\n- I am using pom.xml and maven plugin.\r\n- I am able to release the code. Able to build and test the code locally but not able to build in Jenkins.\r\nBelow code I used in pom.xml\r\nI have upgraded my Springboot project to JAVA 17 and springboot version 3.1.4. Because in my project Spring Security is used  above 6. I am able build and release the code after all upgradation in my local.\r\nBut it failed in Jenkins Pipeline when it started building. There is no problem in local build and other testing as well.\r\n\r\n\r\n\r\n\r\n```xml\r\n&lt;parent&gt;\r\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    &lt;version&gt;3.1.4&lt;/version&gt;\r\n    &lt;relativePath/&gt;\r\n&lt;/parent&gt;\r\n&lt;properties&gt;\r\n    &lt;java.version&gt;17&lt;/java.version&gt;\r\n    &lt;maven.compiler.source&gt;${java.version}&lt;/maven.compiler.source&gt;\r\n    &lt;maven.compiler.target&gt;${java.version}&lt;/maven.compiler.target&gt;\r\n    &lt;maven.compiler.release&gt;${java.version}&lt;/maven.compiler.release&gt;\r\n    &lt;source.version&gt;${java.version}&lt;/source.version&gt;\r\n&lt;/properties&gt;\r\n&lt;plugin&gt;\r\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n    &lt;version&gt;3.11.0&lt;/version&gt;\r\n    &lt;configuration&gt;\r\n        &lt;release&gt;${java.version}&lt;/release&gt;\r\n        &lt;target&gt;${java.version}&lt;/target&gt;\r\n        &lt;compilerArgs&gt;\r\n            &lt;arg&gt;-Xlint:all&lt;/arg&gt;\r\n        &lt;/compilerArgs&gt;\r\n    &lt;/configuration&gt;\r\n&lt;/plugin&gt;\r\n```","title":"Maven Compiler plugin (3.11.0) not supported when upgraded java 17 and spring boot 3.1.4 in Jenkins Pipeline Only","body":"<p>I have upgraded my SpringBoot project to JAVA 17 and SpringBoot version 3.1.4. Because in my project Spring Security is used  above 6. I am able to build and release the code after all upgrade in my local.</p>\n<ul>\n<li><p>But it failed in Jenkins Pipeline when it started building. There is no problem in local build and other testing as well.</p>\n</li>\n<li><p>We are getting following error. We also upgraded the Jenkins Agent.</p>\n<pre><code>[ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.11.0:\ncompile (default-compile) on project uni-dashboard-portal-external: \nFatal error compiling: error: release version 17 not supported \n</code></pre>\n</li>\n<li><p>I am using pom.xml and maven plugin.</p>\n</li>\n<li><p>I am able to release the code. Able to build and test the code locally but not able to build in Jenkins.\nBelow code I used in pom.xml\nI have upgraded my Springboot project to JAVA 17 and springboot version 3.1.4. Because in my project Spring Security is used  above 6. I am able build and release the code after all upgradation in my local.\nBut it failed in Jenkins Pipeline when it started building. There is no problem in local build and other testing as well.</p>\n</li>\n</ul>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;3.1.4&lt;/version&gt;\n    &lt;relativePath/&gt;\n&lt;/parent&gt;\n&lt;properties&gt;\n    &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;maven.compiler.source&gt;${java.version}&lt;/maven.compiler.source&gt;\n    &lt;maven.compiler.target&gt;${java.version}&lt;/maven.compiler.target&gt;\n    &lt;maven.compiler.release&gt;${java.version}&lt;/maven.compiler.release&gt;\n    &lt;source.version&gt;${java.version}&lt;/source.version&gt;\n&lt;/properties&gt;\n&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n    &lt;version&gt;3.11.0&lt;/version&gt;\n    &lt;configuration&gt;\n        &lt;release&gt;${java.version}&lt;/release&gt;\n        &lt;target&gt;${java.version}&lt;/target&gt;\n        &lt;compilerArgs&gt;\n            &lt;arg&gt;-Xlint:all&lt;/arg&gt;\n        &lt;/compilerArgs&gt;\n    &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n"},{"tags":["java","mongodb","spring-boot","spring-data-mongodb"],"answers":[{"tags":[],"owner":{"account_id":15553537,"reputation":231,"user_id":11220609,"display_name":"Tahar"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1697663254,"creation_date":1697662906,"answer_id":77319574,"question_id":77316067,"body_markdown":"I&#39;m afraid can&#39;t get rid of the `_id` field from a document as it is a *mandatory* field in MongoDB. You can tell the client what value to use to populate `_id`, but you cannot get rid of that field entirely.\r\n\r\nThe good news, however, is that you can just mark any field as the primary key. Just add the `@Id` annotation to the `name` field. This will internally map `name` to `_id` in the MongoDB document.\r\n\r\nIn your case, you would have to structure your document like so:\r\n```java\r\npublic class Test {\r\n\r\n  @Id // Maps &quot;name&quot; to &quot;_id&quot; in the MongoDB document\r\n  private String name;\r\n\r\n  private String id;\r\n  private String age;\r\n\r\n}\r\n```\r\n\r\nHere&#39;s the relevant page in the [MongoDB documentation](https://www.mongodb.com/docs/manual/reference/bson-types/#objectid) on why `_id` *must* be the primary key:\r\n&gt; A field required in every MongoDB document. The _id field must have a unique value. You can think of the _id field as the document&#39;s primary key . If you create a new document without an _id field, MongoDB automatically creates the field and assigns a unique BSON ObjectId.\r\n\r\nTo learn how the Spring Boot MongoDB library maps values to `_id`, please refer to the [Spring MongoDB documentation](https://docs.spring.io/spring-data/mongodb/docs/1.2.0.RELEASE/reference/html/mapping-chapter.html):\r\n&gt; The following outlines what field will be mapped to the &#39;_id&#39; document field:\r\n&gt; - A field annotated with @Id (org.springframework.data.annotation.Id) will be mapped to the &#39;_id&#39; field.\r\n&gt; - A field without an annotation but named id will be mapped to the &#39;_id&#39; field.\r\n\r\nHope this helps!\r\n\r\nCheers,\r\nTahar","title":"How to add a custom primary key in MongoDB document using Spring Data Mongo","body":"<p>I'm afraid can't get rid of the <code>_id</code> field from a document as it is a <em>mandatory</em> field in MongoDB. You can tell the client what value to use to populate <code>_id</code>, but you cannot get rid of that field entirely.</p>\n<p>The good news, however, is that you can just mark any field as the primary key. Just add the <code>@Id</code> annotation to the <code>name</code> field. This will internally map <code>name</code> to <code>_id</code> in the MongoDB document.</p>\n<p>In your case, you would have to structure your document like so:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Test {\n\n  @Id // Maps &quot;name&quot; to &quot;_id&quot; in the MongoDB document\n  private String name;\n\n  private String id;\n  private String age;\n\n}\n</code></pre>\n<p>Here's the relevant page in the <a href=\"https://www.mongodb.com/docs/manual/reference/bson-types/#objectid\" rel=\"nofollow noreferrer\">MongoDB documentation</a> on why <code>_id</code> <em>must</em> be the primary key:</p>\n<blockquote>\n<p>A field required in every MongoDB document. The _id field must have a unique value. You can think of the _id field as the document's primary key . If you create a new document without an _id field, MongoDB automatically creates the field and assigns a unique BSON ObjectId.</p>\n</blockquote>\n<p>To learn how the Spring Boot MongoDB library maps values to <code>_id</code>, please refer to the <a href=\"https://docs.spring.io/spring-data/mongodb/docs/1.2.0.RELEASE/reference/html/mapping-chapter.html\" rel=\"nofollow noreferrer\">Spring MongoDB documentation</a>:</p>\n<blockquote>\n<p>The following outlines what field will be mapped to the '_id' document field:</p>\n<ul>\n<li>A field annotated with @Id (org.springframework.data.annotation.Id) will be mapped to the '_id' field.</li>\n<li>A field without an annotation but named id will be mapped to the '_id' field.</li>\n</ul>\n</blockquote>\n<p>Hope this helps!</p>\n<p>Cheers,\nTahar</p>\n"}],"owner":{"account_id":15549353,"reputation":147,"user_id":15204797,"display_name":"Pushpak"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":78,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77319574,"answer_count":1,"score":0,"last_activity_date":1697663254,"creation_date":1697630075,"question_id":77316067,"body_markdown":"I have a MongoDB entity as below.\r\n```\r\npublic class Test {\r\n @Id\r\n private String id;\r\n private String name;\r\n private String age;\r\n}\r\n```\r\nNow, instead of &quot;id&quot;, which creates a primary key &quot;_id&quot; in the document; I want the name to be the primary id in my document. How can I achieve that? Please note that it is mandatory for me to keep the &#39;private String id&#39; field in my class. I have already tried adding @Field(&quot;name&quot;) annotation on top of private String name, but it is not working. ","title":"How to add a custom primary key in MongoDB document using Spring Data Mongo","body":"<p>I have a MongoDB entity as below.</p>\n<pre><code>public class Test {\n @Id\n private String id;\n private String name;\n private String age;\n}\n</code></pre>\n<p>Now, instead of &quot;id&quot;, which creates a primary key &quot;_id&quot; in the document; I want the name to be the primary id in my document. How can I achieve that? Please note that it is mandatory for me to keep the 'private String id' field in my class. I have already tried adding @Field(&quot;name&quot;) annotation on top of private String name, but it is not working.</p>\n"},{"tags":["java","xml","xsd","jaxb","jackson"],"comments":[{"owner":{"account_id":467725,"reputation":19389,"user_id":873282,"accept_rate":55,"display_name":"koppor"},"score":0,"creation_date":1672957756,"post_id":29676658,"comment_id":132396631,"body_markdown":"For the googlers: Although Jackson can handle JAXB annotations, @XmlElements is not well-supported. See https://github.com/FasterXML/jackson-modules-base/issues/127 for details.","body":"For the googlers: Although Jackson can handle JAXB annotations, @XmlElements is not well-supported. See <a href=\"https://github.com/FasterXML/jackson-modules-base/issues/127\" rel=\"nofollow noreferrer\">github.com/FasterXML/jackson-modules-base/issues/127</a> for details."}],"answers":[{"tags":[],"owner":{"account_id":6027993,"reputation":126,"user_id":19785805,"display_name":"Alexander Kashpirovsky"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663331314,"creation_date":1663331314,"answer_id":73744837,"question_id":29676658,"body_markdown":"Jackson can add such information automatically (see [@JsonTypeInfo][1]). For example:\r\n\r\n    @JsonTypeInfo(use = JsonTypeInfo.Id.CLASS, include = JsonTypeInfo.As.PROPERTY)\r\n    protected List&lt;Animal&gt; animal;\r\n\r\nOr use that annotation with [@JsonSubTypes][2]:\r\n\r\n    @JsonTypeInfo(\r\n          use = JsonTypeInfo.Id.NAME, \r\n          include = As.PROPERTY, \r\n          property = &quot;type&quot;)\r\n        @JsonSubTypes({\r\n            @JsonSubTypes.Type(value = Dog.class, name = &quot;Dog&quot;),\r\n            @JsonSubTypes.Type(value = Cat.class, name = &quot;Cat&quot;)\r\n        })\r\n    protected List&lt;Animal&gt; animal; \r\n\r\nThis [link][3] is useful.\r\n\r\n\r\n  [1]: https://fasterxml.github.io/jackson-annotations/javadoc/2.4/com/fasterxml/jackson/annotation/JsonTypeInfo.html\r\n  [2]: https://fasterxml.github.io/jackson-annotations/javadoc/2.9/com/fasterxml/jackson/annotation/JsonSubTypes.html\r\n  [3]: https://www.baeldung.com/jackson-annotations","title":"Jackson: Generate Jackson classes from XSD","body":"<p>Jackson can add such information automatically (see <a href=\"https://fasterxml.github.io/jackson-annotations/javadoc/2.4/com/fasterxml/jackson/annotation/JsonTypeInfo.html\" rel=\"nofollow noreferrer\">@JsonTypeInfo</a>). For example:</p>\n<pre><code>@JsonTypeInfo(use = JsonTypeInfo.Id.CLASS, include = JsonTypeInfo.As.PROPERTY)\nprotected List&lt;Animal&gt; animal;\n</code></pre>\n<p>Or use that annotation with <a href=\"https://fasterxml.github.io/jackson-annotations/javadoc/2.9/com/fasterxml/jackson/annotation/JsonSubTypes.html\" rel=\"nofollow noreferrer\">@JsonSubTypes</a>:</p>\n<pre><code>@JsonTypeInfo(\n      use = JsonTypeInfo.Id.NAME, \n      include = As.PROPERTY, \n      property = &quot;type&quot;)\n    @JsonSubTypes({\n        @JsonSubTypes.Type(value = Dog.class, name = &quot;Dog&quot;),\n        @JsonSubTypes.Type(value = Cat.class, name = &quot;Cat&quot;)\n    })\nprotected List&lt;Animal&gt; animal; \n</code></pre>\n<p>This <a href=\"https://www.baeldung.com/jackson-annotations\" rel=\"nofollow noreferrer\">link</a> is useful.</p>\n"}],"owner":{"account_id":3241392,"reputation":1682,"user_id":2734342,"accept_rate":27,"display_name":"dinup24"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":17456,"favorite_count":0,"down_vote_count":0,"up_vote_count":18,"answer_count":1,"score":18,"last_activity_date":1697662900,"creation_date":1429191910,"question_id":29676658,"body_markdown":"Similar to JAXB generating JAXB classes to a given XSD, does Jackson provide any utility to generate Jackson classes from XSD or JSON.\r\n\r\nJAXB class geberator has generated a set of classes for XSD schema defined. For example, for polymorphic types JAXB has the following annotation to identify the name based on XML Element name.\r\n\r\n    @XmlElements({\r\n        @XmlElement(name = &quot;Dog&quot;, type = Dog.class),\r\n        @XmlElement(name = &quot;Cat&quot;, type = Cat.class)\r\n    })\r\n    protected List&lt;Animal&gt; animal;\r\n\r\nIs it possible to create similar classes in Jackson. ie., to identify the type based in XML element name.","title":"Jackson: Generate Jackson classes from XSD","body":"<p>Similar to JAXB generating JAXB classes to a given XSD, does Jackson provide any utility to generate Jackson classes from XSD or JSON.</p>\n\n<p>JAXB class geberator has generated a set of classes for XSD schema defined. For example, for polymorphic types JAXB has the following annotation to identify the name based on XML Element name.</p>\n\n<pre><code>@XmlElements({\n    @XmlElement(name = \"Dog\", type = Dog.class),\n    @XmlElement(name = \"Cat\", type = Cat.class)\n})\nprotected List&lt;Animal&gt; animal;\n</code></pre>\n\n<p>Is it possible to create similar classes in Jackson. ie., to identify the type based in XML element name.</p>\n"},{"tags":["java","stack","arraydeque"],"answers":[{"tags":[],"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1697528686,"creation_date":1697528686,"answer_id":77307040,"question_id":77306409,"body_markdown":"Your code probably would work if you don&#39;t use `!=` but instead this:\r\n```java\r\n    if (!Objects.equals(sQueue.removeLast(), tQueue.removeLast())) {\r\n```\r\n\r\nThere&#39;s one issue with your code - it removes all contents of the queue. To prevent that, besides using `toArray()` as suggested in one of the comments, you an use an `Iterator`; `Deque` mandates that it returns &quot;the elements in this deque in proper sequence&quot;:\r\n```java\r\nArrayDeque&lt;Character&gt; sQueue = new ArrayDeque&lt;Character&gt;();\r\nArrayDeque&lt;Character&gt; tQueue = new ArrayDeque&lt;Character&gt;();\r\n\r\n// shortcut - that&#39;s fine\r\nif (sQueue.size() != tQueue.size()) return false;\r\n\r\nIterator&lt;Character&gt; sIterator = sQueue.iterator();\r\nIterator&lt;Character&gt; tIterator = sQueue.iterator();\r\n\r\nwhile (sIterator.hasNext()) {\r\n    // tIterator.hasNext() will also be true\r\n    if (!Objects.equals(sIterator.next(), tIterator.next())) {\r\n        return false;\r\n    }\r\n}\r\n// sIterator and tIterator are both exhausted so all elements are equal\r\nreturn true;\r\n```\r\nYou can do it without the length check, by making two changes:\r\n1) Replace `while (sIterator.hasNext()) {` with `while (sIterator.hasNext() &amp;&amp; tIterator.hasNext()) {` - keep looping until at least one of the iterators is exhausted.\r\n2) Replace the final `return true;` with `return sIterator.hasNext() == tIterator.hasNext();` - return `true` only if both iterators are exhausted.","title":"Java: How to tell if Two ArrayDeque are equal?","body":"<p>Your code probably would work if you don't use <code>!=</code> but instead this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    if (!Objects.equals(sQueue.removeLast(), tQueue.removeLast())) {\n</code></pre>\n<p>There's one issue with your code - it removes all contents of the queue. To prevent that, besides using <code>toArray()</code> as suggested in one of the comments, you an use an <code>Iterator</code>; <code>Deque</code> mandates that it returns &quot;the elements in this deque in proper sequence&quot;:</p>\n<pre class=\"lang-java prettyprint-override\"><code>ArrayDeque&lt;Character&gt; sQueue = new ArrayDeque&lt;Character&gt;();\nArrayDeque&lt;Character&gt; tQueue = new ArrayDeque&lt;Character&gt;();\n\n// shortcut - that's fine\nif (sQueue.size() != tQueue.size()) return false;\n\nIterator&lt;Character&gt; sIterator = sQueue.iterator();\nIterator&lt;Character&gt; tIterator = sQueue.iterator();\n\nwhile (sIterator.hasNext()) {\n    // tIterator.hasNext() will also be true\n    if (!Objects.equals(sIterator.next(), tIterator.next())) {\n        return false;\n    }\n}\n// sIterator and tIterator are both exhausted so all elements are equal\nreturn true;\n</code></pre>\n<p>You can do it without the length check, by making two changes:</p>\n<ol>\n<li>Replace <code>while (sIterator.hasNext()) {</code> with <code>while (sIterator.hasNext() &amp;&amp; tIterator.hasNext()) {</code> - keep looping until at least one of the iterators is exhausted.</li>\n<li>Replace the final <code>return true;</code> with <code>return sIterator.hasNext() == tIterator.hasNext();</code> - return <code>true</code> only if both iterators are exhausted.</li>\n</ol>\n"}],"owner":{"account_id":21004999,"reputation":788,"user_id":15435022,"display_name":"mattsmith5"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":130,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"accepted_answer_id":77307040,"answer_count":1,"score":0,"last_activity_date":1697662850,"creation_date":1697521627,"question_id":77306409,"body_markdown":"Is there a way to tell if Two Array Deques are equal in Java? Stack has an .equals() operator?\r\n\r\nWhat is data values equals method for Array Deque? this is what I wrote temporarily, however it removes items from the Deque. If there is no library method, any way to optimize code below?\r\n\r\n\r\n\tArrayDeque&lt;Character&gt; sQueue = new ArrayDeque&lt;Character&gt;();\r\n\tArrayDeque&lt;Character&gt; tQueue = new ArrayDeque&lt;Character&gt;();\r\n\r\n\tif (sQueue.size() != tQueue.size()) return false;\r\n\r\n\twhile (!sQueue.isEmpty()) {\r\n\t   if (sQueue.removeLast() != tQueue.removeLast()) {\r\n\t\t   return false;\r\n\t   }\r\n\t}\r\n\r\n\treturn true;\r\n\r\n\r\n\r\nQuestion Context: for people who use Leetcode [Backspace String Compare][1]\r\n\r\nAlso, is the original Equals for ArrayDeque just checking thememory pointer variable? this does not seem to work.\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://leetcode.com/problems/backspace-string-compare/solutions/4177488/java-solution-with-arraydeque/\r\n  [2]: https://i.stack.imgur.com/C2Yh5.png\r\n\r\nResource: https://stackoverflow.com/questions/18203855/why-doesnt-arraydeque-override-equals-and-hashcode","title":"Java: How to tell if Two ArrayDeque are equal?","body":"<p>Is there a way to tell if Two Array Deques are equal in Java? Stack has an .equals() operator?</p>\n<p>What is data values equals method for Array Deque? this is what I wrote temporarily, however it removes items from the Deque. If there is no library method, any way to optimize code below?</p>\n<pre><code>ArrayDeque&lt;Character&gt; sQueue = new ArrayDeque&lt;Character&gt;();\nArrayDeque&lt;Character&gt; tQueue = new ArrayDeque&lt;Character&gt;();\n\nif (sQueue.size() != tQueue.size()) return false;\n\nwhile (!sQueue.isEmpty()) {\n   if (sQueue.removeLast() != tQueue.removeLast()) {\n       return false;\n   }\n}\n\nreturn true;\n</code></pre>\n<p>Question Context: for people who use Leetcode <a href=\"https://leetcode.com/problems/backspace-string-compare/solutions/4177488/java-solution-with-arraydeque/\" rel=\"nofollow noreferrer\">Backspace String Compare</a></p>\n<p>Also, is the original Equals for ArrayDeque just checking thememory pointer variable? this does not seem to work.</p>\n<p><a href=\"https://i.stack.imgur.com/C2Yh5.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/C2Yh5.png\" alt=\"enter image description here\" /></a></p>\n<p>Resource: <a href=\"https://stackoverflow.com/questions/18203855/why-doesnt-arraydeque-override-equals-and-hashcode\">Why doesn&#39;t ArrayDeque override equals() and hashCode()?</a></p>\n"},{"tags":["java","android","remoteview"],"comments":[{"owner":{"account_id":2985836,"reputation":2698,"user_id":2534694,"accept_rate":32,"display_name":"Zen"},"score":0,"creation_date":1460909136,"post_id":8286907,"comment_id":60947616,"body_markdown":"Did you solve this man?","body":"Did you solve this man?"}],"answers":[{"tags":[],"owner":{"account_id":39846,"reputation":991173,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1322414737,"creation_date":1322414737,"answer_id":8287450,"question_id":8286907,"body_markdown":"You could try inflating a different layout with your `RemoteViews`, one with the widgets in your desired position. I am not sure that it will work, but it is worth a try.","title":"Set position of view in RemoteView during runtime","body":"<p>You could try inflating a different layout with your <code>RemoteViews</code>, one with the widgets in your desired position. I am not sure that it will work, but it is worth a try.</p>\n"},{"tags":[],"owner":{"account_id":1236402,"reputation":1268,"user_id":1199911,"display_name":"mtotschnig"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697662519,"creation_date":1697662207,"answer_id":77319521,"question_id":8286907,"body_markdown":"Since API 31, setTranslationX can be called on RemoteViews, since it is has been annotated as RemotableViewMethod. Either with:\r\n\r\n    myRemoteView.setFloat(R.id.myTextView, &quot;setTranslationX&quot;, 5f)\r\n\r\nor by using an extension method from RemoteViewsCompat:\r\n\r\n    myRemoteView.setViewTranslationXDimen(R.id.myTextView, 5f, TypedValue.COMPLEX_UNIT_PX)\r\n\r\n","title":"Set position of view in RemoteView during runtime","body":"<p>Since API 31, setTranslationX can be called on RemoteViews, since it is has been annotated as RemotableViewMethod. Either with:</p>\n<pre><code>myRemoteView.setFloat(R.id.myTextView, &quot;setTranslationX&quot;, 5f)\n</code></pre>\n<p>or by using an extension method from RemoteViewsCompat:</p>\n<pre><code>myRemoteView.setViewTranslationXDimen(R.id.myTextView, 5f, TypedValue.COMPLEX_UNIT_PX)\n</code></pre>\n"}],"owner":{"account_id":420555,"reputation":1492,"user_id":798314,"accept_rate":64,"display_name":"Verhelst"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":578,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1697662519,"creation_date":1322410205,"question_id":8286907,"body_markdown":"I&#39;m looking for a way to change the position of a view in a\r\n homescreen widget/remoteview during runtime.\r\nI also saw [this topic][1] before but the answer given there didn&#39;t help me or even work.\r\n\r\nFor example:\r\n\r\nI&#39;m trying to shift the x position of the TextView by 5 pixels:\r\n\r\n    myRemoteView.setFloat(R.id.myTextView, &quot;setTranslationX&quot;, 5); // does not work\r\n    myRemoteView.setFloat(R.id.myTextView, &quot;setX&quot;, 5); // does not work\r\n    myRemoteView.setInt(R.id.myTextView, &quot;setLeft&quot;, 5); // does not work\r\n\r\nI couldn&#39;t find somewhere else a useful answer that could help me. \r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/6153484/set-position-of-textview-in-remoteview-during-runtime","title":"Set position of view in RemoteView during runtime","body":"<p>I'm looking for a way to change the position of a view in a\n homescreen widget/remoteview during runtime.\nI also saw <a href=\"https://stackoverflow.com/questions/6153484/set-position-of-textview-in-remoteview-during-runtime\">this topic</a> before but the answer given there didn't help me or even work.</p>\n\n<p>For example:</p>\n\n<p>I'm trying to shift the x position of the TextView by 5 pixels:</p>\n\n<pre><code>myRemoteView.setFloat(R.id.myTextView, \"setTranslationX\", 5); // does not work\nmyRemoteView.setFloat(R.id.myTextView, \"setX\", 5); // does not work\nmyRemoteView.setInt(R.id.myTextView, \"setLeft\", 5); // does not work\n</code></pre>\n\n<p>I couldn't find somewhere else a useful answer that could help me. </p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1697642165,"post_id":77317550,"comment_id":136306269,"body_markdown":"`user.name` or `user.home`? You’ve mentioned both.","body":"<code>user.name</code> or <code>user.home</code>? You’ve mentioned both."},{"owner":{"account_id":4421715,"reputation":1495,"user_id":3601445,"accept_rate":37,"display_name":"Unhandled Exception"},"score":0,"creation_date":1697642569,"post_id":77317550,"comment_id":136306372,"body_markdown":"Thanks. Corrected the original post to be user.home which is the focus.","body":"Thanks. Corrected the original post to be user.home which is the focus."},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1697642662,"post_id":77317550,"comment_id":136306390,"body_markdown":"Given modifying the `USERPROFILE` environment variable doesn&#39;t affect the Java process, I assume it uses some Windows API that reports your actual user profile directory.","body":"Given modifying the <code>USERPROFILE</code> environment variable doesn&#39;t affect the Java process, I assume it uses some Windows API that reports your actual user profile directory."},{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1697642841,"post_id":77317550,"comment_id":136306431,"body_markdown":"Have you read the documentation? https://docs.oracle.com/javase/8/docs/api/java/lang/System.html#getProperties--","body":"Have you read the documentation? <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/System.html#getProperties--\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/8/docs/api/java/lang/&hellip;</a>"},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":2,"creation_date":1697642956,"post_id":77317550,"comment_id":136306448,"body_markdown":"Presumably, based on [this question](https://superuser.com/questions/964363/how-do-i-change-the-user-profile-location-in-windows-10), it uses the `ProfilesDirectory` in `HKEY_LOCAL_MACHINE\\SOFTWARE\\Microsoft\\Windows NT\\CurrentVersion\\ProfileList` registry key, but I have no interest in mucking with that to verify that (and nor should you, because it can break your Windows profile AFAIK!), and I haven&#39;t got the Java code checked out to search for it.","body":"Presumably, based on <a href=\"https://superuser.com/questions/964363/how-do-i-change-the-user-profile-location-in-windows-10\">this question</a>, it uses the <code>ProfilesDirectory</code> in <code>HKEY_LOCAL_MACHINE\\SOFTWARE\\Microsoft\\Windows NT\\CurrentVersion\\ProfileList</code> registry key, but I have no interest in mucking with that to verify that (and nor should you, because it can break your Windows profile AFAIK!), and I haven&#39;t got the Java code checked out to search for it."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1697642988,"post_id":77317550,"comment_id":136306459,"body_markdown":"@aled There is nothing in your link that answers the question.","body":"@aled There is nothing in your link that answers the question."},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":3,"creation_date":1697643089,"post_id":77317550,"comment_id":136306477,"body_markdown":"You may want to explain why you want to change your `user.home`, because `c:\\Users\\User1` **is** your home directory, maybe instead you just need to worry about `user.dir` instead?","body":"You may want to explain why you want to change your <code>user.home</code>, because <code>c:\\Users\\User1</code> <b>is</b> your home directory, maybe instead you just need to worry about <code>user.dir</code> instead?"}],"answers":[{"tags":[],"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1697662420,"creation_date":1697648429,"answer_id":77318295,"question_id":77317550,"body_markdown":"The current implementation as of JDK 21 ([source code][1]) is to search the registry [known key][2] `FOLDERID_Profile`:\r\n```\r\nhr = SHGetKnownFolderPath(&amp;FOLDERID_Profile, KF_FLAG_DONT_VERIFY, NULL, &amp;u_path);\r\n```\r\nThis should provide the same result that the environment variable `%USERPROFILE%`.\r\n\r\n\r\n  [1]: https://github.com/openjdk/jdk/blob/890adb6410dab4606a4f26a942aed02fb2f55387/src/java.base/windows/native/libjava/java_props_md.c#L228\r\n  [2]: https://learn.microsoft.com/en-us/windows/win32/shell/knownfolderid","title":"Where does Java System.getProperty retrieve user.home?","body":"<p>The current implementation as of JDK 21 (<a href=\"https://github.com/openjdk/jdk/blob/890adb6410dab4606a4f26a942aed02fb2f55387/src/java.base/windows/native/libjava/java_props_md.c#L228\" rel=\"nofollow noreferrer\">source code</a>) is to search the registry <a href=\"https://learn.microsoft.com/en-us/windows/win32/shell/knownfolderid\" rel=\"nofollow noreferrer\">known key</a> <code>FOLDERID_Profile</code>:</p>\n<pre><code>hr = SHGetKnownFolderPath(&amp;FOLDERID_Profile, KF_FLAG_DONT_VERIFY, NULL, &amp;u_path);\n</code></pre>\n<p>This should provide the same result that the environment variable <code>%USERPROFILE%</code>.</p>\n"}],"owner":{"account_id":4421715,"reputation":1495,"user_id":3601445,"accept_rate":37,"display_name":"Unhandled Exception"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77318295,"answer_count":1,"score":1,"last_activity_date":1697662420,"creation_date":1697641676,"question_id":77317550,"body_markdown":"Found similar samples but none answered the question from where the user.home value is retrieved when not explicitly set. \r\n\r\nPer researching :\r\n\r\nSystem.**getenv** - retrieves environment variables set on the OS.\r\n\r\nSystem.**getProperty** - retrieves variables set wtihin the JVM via the -D option.\r\n\r\nWorking with user.home and changed this value via the Windows RegEdit to c:\\MyFolder\\User1\\TempDir\r\n\r\n    Computer\\HKEY_CURRENT_USER\\SOFTWARE\\Microsoft\\Windows\\CurrentVersion\\Explorer\\Shell Folders\r\n\r\nThe following test executes both getenv and getProperty.\r\n\r\n    public class SystemPropertyTest \r\n    {\r\n    \tpublic static void main(String[] args)  \r\n    \t{\r\n    \t\tSystem.out.println(&quot;user.home = &quot; + System.getenv(&quot;user.home&quot;));\r\n    \t\tSystem.out.println(&quot;user.home = &quot; + System.getProperty(&quot;user.home&quot;));\r\n    \t\t\r\n        }\r\n    }\r\n\r\ngetenv returns :  c:\\MyFolder\\User1\\TempDir\r\n\r\nEven running &quot;set user.home&quot; at the command prompt returns : c:\\MyFolder\\User1\\TempDir\r\n\r\ngetProperty returns : c:\\Users\\User1       \r\n\r\nSince I never set the user.home within the Java runtime, from where is the user.home being retrieve for the getProperty call and can it be manipulated at the OS level without making a setProperty call or passing in a value via -D?\r\n","title":"Where does Java System.getProperty retrieve user.home?","body":"<p>Found similar samples but none answered the question from where the user.home value is retrieved when not explicitly set.</p>\n<p>Per researching :</p>\n<p>System.<strong>getenv</strong> - retrieves environment variables set on the OS.</p>\n<p>System.<strong>getProperty</strong> - retrieves variables set wtihin the JVM via the -D option.</p>\n<p>Working with user.home and changed this value via the Windows RegEdit to c:\\MyFolder\\User1\\TempDir</p>\n<pre><code>Computer\\HKEY_CURRENT_USER\\SOFTWARE\\Microsoft\\Windows\\CurrentVersion\\Explorer\\Shell Folders\n</code></pre>\n<p>The following test executes both getenv and getProperty.</p>\n<pre><code>public class SystemPropertyTest \n{\n    public static void main(String[] args)  \n    {\n        System.out.println(&quot;user.home = &quot; + System.getenv(&quot;user.home&quot;));\n        System.out.println(&quot;user.home = &quot; + System.getProperty(&quot;user.home&quot;));\n        \n    }\n}\n</code></pre>\n<p>getenv returns :  c:\\MyFolder\\User1\\TempDir</p>\n<p>Even running &quot;set user.home&quot; at the command prompt returns : c:\\MyFolder\\User1\\TempDir</p>\n<p>getProperty returns : c:\\Users\\User1</p>\n<p>Since I never set the user.home within the Java runtime, from where is the user.home being retrieve for the getProperty call and can it be manipulated at the OS level without making a setProperty call or passing in a value via -D?</p>\n"},{"tags":["java","list","concurrency","kotlin","thread-safety"],"comments":[{"owner":{"account_id":6302434,"reputation":5409,"user_id":4896651,"accept_rate":75,"display_name":"Shadov"},"score":1,"creation_date":1527719082,"post_id":50614086,"comment_id":88238096,"body_markdown":"Why not just use the Java one? It will work fine since Kotlin is completely interoperable with Java. Kotlin&#39;s mutable lists are not thread-safe.","body":"Why not just use the Java one? It will work fine since Kotlin is completely interoperable with Java. Kotlin&#39;s mutable lists are not thread-safe."},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":3,"creation_date":1527719261,"post_id":50614086,"comment_id":88238151,"body_markdown":"@Shadov I don&#39;t think Kotlin&#39;s collection library is interoperable with the JDK&#39;s.","body":"@Shadov I don&#39;t think Kotlin&#39;s collection library is interoperable with the JDK&#39;s."},{"owner":{"account_id":4882024,"reputation":1990,"user_id":3935512,"accept_rate":67,"display_name":"A.Sanchez.SD"},"score":1,"creation_date":1527719929,"post_id":50614086,"comment_id":88238331,"body_markdown":"If I try to use the Java List a warning message comes up &quot;This class shouldn&#39;t be used in Kotlin...&quot;  Not sure if that is merely a suggestion or serious direction due to some issue...","body":"If I try to use the Java List a warning message comes up &quot;This class shouldn&#39;t be used in Kotlin...&quot;  Not sure if that is merely a suggestion or serious direction due to some issue..."},{"owner":{"account_id":5645,"reputation":168060,"user_id":9204,"accept_rate":82,"display_name":"Alexey Romanov"},"score":2,"creation_date":1527744323,"post_id":50614086,"comment_id":88244113,"body_markdown":"@shmosel Yes, it is: https://kotlinlang.org/docs/reference/java-interop.html#mapped-types.","body":"@shmosel Yes, it is: <a href=\"https://kotlinlang.org/docs/reference/java-interop.html#mapped-types\" rel=\"nofollow noreferrer\">kotlinlang.org/docs/reference/java-interop.html#mapped-types</a>&zwnj;&#8203;."},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":1,"creation_date":1527744607,"post_id":50614086,"comment_id":88244209,"body_markdown":"@AlexeyRomanov Interesting. So does that mean you can actually use the `Collections` wrappers?","body":"@AlexeyRomanov Interesting. So does that mean you can actually use the <code>Collections</code> wrappers?"},{"owner":{"account_id":5645,"reputation":168060,"user_id":9204,"accept_rate":82,"display_name":"Alexey Romanov"},"score":2,"creation_date":1527745012,"post_id":50614086,"comment_id":88244363,"body_markdown":"@shmosel Yes (in a JVM-only project, of course).","body":"@shmosel Yes (in a JVM-only project, of course)."},{"owner":{"account_id":2994944,"reputation":51,"user_id":2541656,"display_name":"Grigory Azaryan"},"score":1,"creation_date":1659661149,"post_id":50614086,"comment_id":129353138,"body_markdown":"A thread-safe ArrayList [CopyOnWriteArrayList](https://docs.oracle.com/javase/6/docs/api/java/util/concurrent/CopyOnWriteArrayList.html)","body":"A thread-safe ArrayList <a href=\"https://docs.oracle.com/javase/6/docs/api/java/util/concurrent/CopyOnWriteArrayList.html\" rel=\"nofollow noreferrer\">CopyOnWriteArrayList</a>"}],"answers":[{"comments":[{"owner":{"account_id":2406407,"reputation":3654,"user_id":2102748,"accept_rate":100,"display_name":"milosmns"},"score":6,"creation_date":1544357462,"post_id":50617166,"comment_id":94239964,"body_markdown":"Right, it doesn&#39;t really prevent `ConcurrentModificationException`, for example. You can still get it while accessing the list from two different threads using two methods/functions at the same time.","body":"Right, it doesn&#39;t really prevent <code>ConcurrentModificationException</code>, for example. You can still get it while accessing the list from two different threads using two methods/functions at the same time."},{"owner":{"account_id":71611,"reputation":26366,"user_id":6998684,"display_name":"IgorGanapolsky"},"score":0,"creation_date":1613489484,"post_id":50617166,"comment_id":117087047,"body_markdown":"So there is no completely synchronized collection in Kotlin right now?","body":"So there is no completely synchronized collection in Kotlin right now?"},{"owner":{"account_id":5645,"reputation":168060,"user_id":9204,"accept_rate":82,"display_name":"Alexey Romanov"},"score":0,"creation_date":1613511395,"post_id":50617166,"comment_id":117096183,"body_markdown":"As far as I know it&#39;s impossible to create one, in Kotlin or in Java. It _has_ to be specific to your project because different projects need different operations to be atomic.","body":"As far as I know it&#39;s impossible to create one, in Kotlin or in Java. It <i>has</i> to be specific to your project because different projects need different operations to be atomic."},{"owner":{"account_id":10541959,"reputation":8904,"user_id":7767664,"accept_rate":63,"display_name":"user924"},"score":0,"creation_date":1632487687,"post_id":50617166,"comment_id":122512853,"body_markdown":"@milosmns because you didn&#39;t read description of this method `It is imperative that the user manually synchronize on the returned list when iterating over it`. So `Collections.synchronizedList` should work fine https://docs.oracle.com/javase/8/docs/api/java/util/Collections.html#synchronizedList-java.util.List-","body":"@milosmns because you didn&#39;t read description of this method <code>It is imperative that the user manually synchronize on the returned list when iterating over it</code>. So <code>Collections.synchronizedList</code> should work fine <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Collections.html#synchronizedList-java.util.List-\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/8/docs/api/java/util/&hellip;</a>"},{"owner":{"account_id":2406407,"reputation":3654,"user_id":2102748,"accept_rate":100,"display_name":"milosmns"},"score":8,"creation_date":1632500831,"post_id":50617166,"comment_id":122518323,"body_markdown":"@user924 Nah, I waited 3 years for you to read it for me and point out that I didn&#39;t do it :)","body":"@user924 Nah, I waited 3 years for you to read it for me and point out that I didn&#39;t do it :)"}],"tags":[],"owner":{"account_id":5645,"reputation":168060,"user_id":9204,"accept_rate":82,"display_name":"Alexey Romanov"},"comment_count":5,"down_vote_count":0,"up_vote_count":19,"is_accepted":true,"score":19,"last_activity_date":1527744184,"creation_date":1527744184,"answer_id":50617166,"question_id":50614086,"body_markdown":"&gt; If I try to use the Java List a warning message comes up &quot;This class shouldn&#39;t be used in Kotlin...&quot;\r\n\r\nJava lists (and other collections) are [mapped types][1] in Kotlin. So you _can_ use `Collections.synchronizedList`, and it takes and returns a Kotlin `List` or `MutableList`.\r\n\r\nOTOH, `synchronizedList` is rarely what you actually want: it works for single method calls, but anything else must be synchronized manually.\r\n\r\n  [1]: https://kotlinlang.org/docs/reference/java-interop.html#mapped-types","title":"Is there a Kotlin equivalent of Java&#39;s Collections.synchronizedList ? Or is this not needed in Kotlin","body":"<blockquote>\n  <p>If I try to use the Java List a warning message comes up \"This class shouldn't be used in Kotlin...\"</p>\n</blockquote>\n\n<p>Java lists (and other collections) are <a href=\"https://kotlinlang.org/docs/reference/java-interop.html#mapped-types\" rel=\"noreferrer\">mapped types</a> in Kotlin. So you <em>can</em> use <code>Collections.synchronizedList</code>, and it takes and returns a Kotlin <code>List</code> or <code>MutableList</code>.</p>\n\n<p>OTOH, <code>synchronizedList</code> is rarely what you actually want: it works for single method calls, but anything else must be synchronized manually.</p>\n"},{"tags":[],"owner":{"account_id":1466525,"reputation":2186,"user_id":1379195,"accept_rate":45,"display_name":"Anthone"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697662271,"creation_date":1697662271,"answer_id":77319528,"question_id":50614086,"body_markdown":"You can use CopyOnWriteArrayList is a thread-safe variant of Arraylist","title":"Is there a Kotlin equivalent of Java&#39;s Collections.synchronizedList ? Or is this not needed in Kotlin","body":"<p>You can use CopyOnWriteArrayList is a thread-safe variant of Arraylist</p>\n"}],"owner":{"account_id":4882024,"reputation":1990,"user_id":3935512,"accept_rate":67,"display_name":"A.Sanchez.SD"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":35512,"favorite_count":0,"down_vote_count":0,"up_vote_count":32,"accepted_answer_id":50617166,"answer_count":2,"score":32,"last_activity_date":1697662271,"creation_date":1527718760,"question_id":50614086,"body_markdown":"Coding in Kotlin, want a thread-safe List as described here: https://stackoverflow.com/questions/17578299/java-concurrent-array-list-access\r\n\r\nIt seems Collections.kt does not have this function. Are Kotlin&#39;s mutable lists already threadsafe ? If not, how do I accomplish this ? \r\n\r\nThanks. ","title":"Is there a Kotlin equivalent of Java&#39;s Collections.synchronizedList ? Or is this not needed in Kotlin","body":"<p>Coding in Kotlin, want a thread-safe List as described here: <a href=\"https://stackoverflow.com/questions/17578299/java-concurrent-array-list-access\">java concurrent Array List access</a></p>\n\n<p>It seems Collections.kt does not have this function. Are Kotlin's mutable lists already threadsafe ? If not, how do I accomplish this ? </p>\n\n<p>Thanks. </p>\n"},{"tags":["java","android","gradle","plugins"],"owner":{"account_id":28829619,"reputation":35,"user_id":22080388,"display_name":"aprotiere"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697661226,"creation_date":1697661226,"question_id":77319432,"body_markdown":"When trying to sync my android project with gradle I have the following error : \r\n\r\n    Unable to load class &#39;com.android.build.gradle.AppPlugin&#39;.\r\n    \r\n    This is an unexpected error. Please file a bug containing the idea.log file.\r\n\r\nAnd : \r\n\r\n    Build file &#39;C:\\Users\\user\\Desktop\\android\\android-anpr-master\\app\\build.gradle&#39; line: 1\r\n    \r\n    A problem occurred evaluating project &#39;:app&#39;.\r\n    &gt; Could not find implementation class &#39;com.android.build.gradle.AppPlugin&#39; for plugin &#39;com.android.application&#39; specified in jar:file:/C:/Users/aprotiere/.gradle/caches/jars-9/f84232a270d8a27731cbe96e1da64c89/gradle-8.1.2.jar!/META-INF/gradle-plugins/com.android.application.properties.\r\n\r\n\r\nHere is my build.gradle (app) : \r\n\r\n    apply plugin: &#39;com.android.application&#39;\r\n    \r\n    android {\r\n        compileSdkVersion 31\r\n        buildToolsVersion &#39;19.0.3&#39;\r\n    \r\n        defaultConfig {\r\n            applicationId &quot;com.DVLA.testapp&quot;\r\n            minSdkVersion 14\r\n            //noinspection OldTargetApi,EditedTargetSdkVersion\r\n            targetSdkVersion 31\r\n            versionCode 1\r\n            versionName &quot;1.0&quot;\r\n        }\r\n    \r\n        buildTypes {\r\n            release {\r\n                minifyEnabled false // You can enable minification if needed\r\n                proguardFiles getDefaultProguardFile(&#39;proguard-android-optimize.txt&#39;), &#39;proguard-rules.pro&#39;\r\n            }\r\n        }\r\n    }\r\n    \r\n    repositories {\r\n        mavenCentral()\r\n        maven { url &#39;http://maven2.javacv.googlecode.com/git/&#39; }\r\n    }\r\n    \r\n    dependencies {\r\n        implementation &#39;:1.6.1&#39; // Use the latest version\r\n        implementation &#39;com.android.tools.build:gradle:8.1.2&#39;\r\n        implementation &#39;joda-time:joda-time:2.12.5&#39; // Update the version of Joda-Time\r\n        implementation files(&#39;libs/javacpp.jar&#39;)\r\n        implementation files(&#39;libs/javacv.jar&#39;)\r\n        implementation fileTree(dir: &#39;libs&#39;, include: [&#39;*.jar&#39;])\r\n        implementation project(&#39;:libraries:opencv&#39;) // Make sure the project path is correct\r\n    \r\n    }\r\n    \r\nbuild.gradle (project) : \r\n\r\n// Top-level build file where you can add configuration options common to all sub-projects/modules.\r\n\r\n    buildscript {\r\n        repositories {\r\n            mavenCentral()\r\n            google()\r\n        }\r\n        dependencies {\r\n            classpath &#39;com.android.tools.build:gradle:8.1.2&#39;\r\n            classpath &#39;com.github.dcendents:android-maven-gradle-plugin:2.1&#39;\r\n        }\r\n    }\r\n    \r\n    allprojects {\r\n        repositories {\r\n            mavenCentral()\r\n            google()\r\n        }\r\n    }\r\n\r\nIf you need any missing information please let me know. I can provide logs and other files like gradle-wrapper.properties but I don&#39;t want the post to be so long unless it&#39;s needed. \r\n\r\nThanks \r\n\r\n\r\n\r\n\r\n\r\n","title":"Unable to load class &#39;com.android.build.gradle.AppPlugin&#39;","body":"<p>When trying to sync my android project with gradle I have the following error :</p>\n<pre><code>Unable to load class 'com.android.build.gradle.AppPlugin'.\n\nThis is an unexpected error. Please file a bug containing the idea.log file.\n</code></pre>\n<p>And :</p>\n<pre><code>Build file 'C:\\Users\\user\\Desktop\\android\\android-anpr-master\\app\\build.gradle' line: 1\n\nA problem occurred evaluating project ':app'.\n&gt; Could not find implementation class 'com.android.build.gradle.AppPlugin' for plugin 'com.android.application' specified in jar:file:/C:/Users/aprotiere/.gradle/caches/jars-9/f84232a270d8a27731cbe96e1da64c89/gradle-8.1.2.jar!/META-INF/gradle-plugins/com.android.application.properties.\n</code></pre>\n<p>Here is my build.gradle (app) :</p>\n<pre><code>apply plugin: 'com.android.application'\n\nandroid {\n    compileSdkVersion 31\n    buildToolsVersion '19.0.3'\n\n    defaultConfig {\n        applicationId &quot;com.DVLA.testapp&quot;\n        minSdkVersion 14\n        //noinspection OldTargetApi,EditedTargetSdkVersion\n        targetSdkVersion 31\n        versionCode 1\n        versionName &quot;1.0&quot;\n    }\n\n    buildTypes {\n        release {\n            minifyEnabled false // You can enable minification if needed\n            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n        }\n    }\n}\n\nrepositories {\n    mavenCentral()\n    maven { url 'http://maven2.javacv.googlecode.com/git/' }\n}\n\ndependencies {\n    implementation ':1.6.1' // Use the latest version\n    implementation 'com.android.tools.build:gradle:8.1.2'\n    implementation 'joda-time:joda-time:2.12.5' // Update the version of Joda-Time\n    implementation files('libs/javacpp.jar')\n    implementation files('libs/javacv.jar')\n    implementation fileTree(dir: 'libs', include: ['*.jar'])\n    implementation project(':libraries:opencv') // Make sure the project path is correct\n\n}\n</code></pre>\n<p>build.gradle (project) :</p>\n<p>// Top-level build file where you can add configuration options common to all sub-projects/modules.</p>\n<pre><code>buildscript {\n    repositories {\n        mavenCentral()\n        google()\n    }\n    dependencies {\n        classpath 'com.android.tools.build:gradle:8.1.2'\n        classpath 'com.github.dcendents:android-maven-gradle-plugin:2.1'\n    }\n}\n\nallprojects {\n    repositories {\n        mavenCentral()\n        google()\n    }\n}\n</code></pre>\n<p>If you need any missing information please let me know. I can provide logs and other files like gradle-wrapper.properties but I don't want the post to be so long unless it's needed.</p>\n<p>Thanks</p>\n"},{"tags":["java","oracle","jpa","timestamp","criteriaquery"],"comments":[{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1481159778,"post_id":41030148,"comment_id":69267979,"body_markdown":"*But in Java I have failed to do so* - Failure is not an option, so please tell us how **you** are failing","body":"<i>But in Java I have failed to do so</i> - Failure is not an option, so please tell us how <b>you</b> are failing"},{"owner":{"account_id":6170027,"reputation":643,"user_id":4808563,"display_name":"Javatar"},"score":0,"creation_date":1481159931,"post_id":41030148,"comment_id":69268024,"body_markdown":"@ScaryWombat I got this error message: ORA-01858: a non-numeric character was found where a numeric was expected. I suspected something wrong with cb.literal().","body":"@ScaryWombat I got this error message: ORA-01858: a non-numeric character was found where a numeric was expected. I suspected something wrong with cb.literal()."},{"owner":{"account_id":6288567,"reputation":201,"user_id":4886960,"display_name":"diufanman"},"score":0,"creation_date":1481163265,"post_id":41030148,"comment_id":69268873,"body_markdown":"hey just print out the actual sql for the criteriaquery and the binding parameter then you will know what the problem is. I guess it is the TO_DATE function which takes an String argument but NOT Date type argument.","body":"hey just print out the actual sql for the criteriaquery and the binding parameter then you will know what the problem is. I guess it is the TO_DATE function which takes an String argument but NOT Date type argument."},{"owner":{"account_id":6170027,"reputation":643,"user_id":4808563,"display_name":"Javatar"},"score":0,"creation_date":1481174515,"post_id":41030148,"comment_id":69271892,"body_markdown":"@diufanman Yes, correct. I also found out this is the root cause of problem. Thank you!","body":"@diufanman Yes, correct. I also found out this is the root cause of problem. Thank you!"}],"answers":[{"comments":[{"owner":{"account_id":2081909,"reputation":785,"user_id":1853748,"accept_rate":56,"display_name":"jijo"},"score":0,"creation_date":1549575024,"post_id":41032293,"comment_id":95962161,"body_markdown":"This solution works only for cb.equal. Not for cb.between, cb.greaterThan etc","body":"This solution works only for cb.equal. Not for cb.between, cb.greaterThan etc"},{"owner":{"account_id":8687130,"reputation":3474,"user_id":6501190,"accept_rate":83,"display_name":"java-addict301"},"score":0,"creation_date":1564426400,"post_id":41032293,"comment_id":101018880,"body_markdown":"Excellent.  Thanks.","body":"Excellent.  Thanks."},{"owner":{"account_id":8687130,"reputation":3474,"user_id":6501190,"accept_rate":83,"display_name":"java-addict301"},"score":0,"creation_date":1564427074,"post_id":41032293,"comment_id":101019159,"body_markdown":"@jijo I am using Oracle 12c and it is working just fine for both cb.greaterThan and cb.lessThan","body":"@jijo I am using Oracle 12c and it is working just fine for both cb.greaterThan and cb.lessThan"},{"owner":{"account_id":461214,"reputation":73,"user_id":3814773,"display_name":"oki"},"score":0,"creation_date":1600739149,"post_id":41032293,"comment_id":113175657,"body_markdown":"Thanks for the solution, been struggled for two weeks then solved with this solution.","body":"Thanks for the solution, been struggled for two weeks then solved with this solution."}],"tags":[],"owner":{"account_id":6170027,"reputation":643,"user_id":4808563,"display_name":"Javatar"},"comment_count":4,"down_vote_count":0,"up_vote_count":13,"is_accepted":true,"score":13,"last_activity_date":1481174480,"creation_date":1481174480,"answer_id":41032293,"question_id":41030148,"body_markdown":"Seems like I have found my answer:\r\n\r\n    predicates.add(cb.equal(cb.function(&quot;TRUNC&quot;, Date.class, myClass.get(&quot;somethingTs&quot;)), cb.function(&quot;TO_DATE&quot;, String.class, cb.parameter(String.class, &quot;somethingTs&quot;), cb.literal(&quot;YYYY-MM-DD&quot;))));\r\n\r\nThen when I set parameter, I will set the String format of date to query.\r\n\r\nThanks!","title":"JPA CriteriaQuery compare Timestamp ignore time portion","body":"<p>Seems like I have found my answer:</p>\n\n<pre><code>predicates.add(cb.equal(cb.function(\"TRUNC\", Date.class, myClass.get(\"somethingTs\")), cb.function(\"TO_DATE\", String.class, cb.parameter(String.class, \"somethingTs\"), cb.literal(\"YYYY-MM-DD\"))));\n</code></pre>\n\n<p>Then when I set parameter, I will set the String format of date to query.</p>\n\n<p>Thanks!</p>\n"},{"tags":[],"owner":{"account_id":3663045,"reputation":841,"user_id":3052312,"accept_rate":86,"display_name":"MitchBroadhead"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1520785089,"creation_date":1505142400,"answer_id":46158877,"question_id":41030148,"body_markdown":"Javatar&#39;s answer didn&#39;t solve my specific case but here is what helped me in case it helps anyone.\r\n\r\n    private List&lt;MyClass&gt; selectMyClassByDate(Date date) {\r\n        CriteriaBuilder cb = em.getCriteriaBuilder();\r\n\t\tCriteriaQuery&lt;MyClass&gt; cq = cb.createQuery(MyClass.class);\r\n\t\tRoot&lt;MyClass&gt; myClass = cq.from(MyClass.class);\r\n\t\tcq.select(myClass);\r\n\t\tcq.where(cb.equal(cb.function(&quot;date&quot;, Date.class,\r\n            myClass.get(MyClass_.timestamp)), date));\r\n\t\tfinal TypedQuery&lt;MyClass&gt; tq = em.createQuery(cq);\r\n        log.fine(\r\n            tq.unwrap(org.apache.openjpa.persistence.QueryImpl.class)\r\n                .getQueryString());\r\n\t\tList&lt;MyClass&gt; myClassList = tq.getResultList();\r\n\t\treturn myClassList;\r\n\t}\r\nsorry this only applies to MYSQL\r\n","title":"JPA CriteriaQuery compare Timestamp ignore time portion","body":"<p>Javatar's answer didn't solve my specific case but here is what helped me in case it helps anyone.</p>\n\n<pre><code>private List&lt;MyClass&gt; selectMyClassByDate(Date date) {\n    CriteriaBuilder cb = em.getCriteriaBuilder();\n    CriteriaQuery&lt;MyClass&gt; cq = cb.createQuery(MyClass.class);\n    Root&lt;MyClass&gt; myClass = cq.from(MyClass.class);\n    cq.select(myClass);\n    cq.where(cb.equal(cb.function(\"date\", Date.class,\n        myClass.get(MyClass_.timestamp)), date));\n    final TypedQuery&lt;MyClass&gt; tq = em.createQuery(cq);\n    log.fine(\n        tq.unwrap(org.apache.openjpa.persistence.QueryImpl.class)\n            .getQueryString());\n    List&lt;MyClass&gt; myClassList = tq.getResultList();\n    return myClassList;\n}\n</code></pre>\n\n<p>sorry this only applies to MYSQL</p>\n"},{"tags":[],"owner":{"account_id":277571,"reputation":1676,"user_id":571653,"accept_rate":68,"display_name":"abhihello123"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1580152557,"creation_date":1580152557,"answer_id":59937499,"question_id":41030148,"body_markdown":"Javatar&#39;s answer even if works is not perfect since to_date returns Date and not String. Also there is not much point to use a parameter, better use a literal. Here is my answer which would work for anyone.\r\n\r\n                \r\n\r\n    predicates.add(criteriaBuilder.lessThanOrEqualTo(criteriaBuilder.function(&quot;TRUNC&quot;, java.sql.Date.class, root.get(&quot;executionDateTime&quot;)),\r\n                                                                     criteriaBuilder.function(&quot;TO_DATE&quot;, java.sql.Date.class, criteriaBuilder.literal(request.getExecutionToDate().toString()),\r\n                                                                             criteriaBuilder.literal(&quot;yyyy-mm-dd&quot;))));","title":"JPA CriteriaQuery compare Timestamp ignore time portion","body":"<p>Javatar's answer even if works is not perfect since to_date returns Date and not String. Also there is not much point to use a parameter, better use a literal. Here is my answer which would work for anyone.</p>\n\n<pre><code>predicates.add(criteriaBuilder.lessThanOrEqualTo(criteriaBuilder.function(\"TRUNC\", java.sql.Date.class, root.get(\"executionDateTime\")),\n                                                                 criteriaBuilder.function(\"TO_DATE\", java.sql.Date.class, criteriaBuilder.literal(request.getExecutionToDate().toString()),\n                                                                         criteriaBuilder.literal(\"yyyy-mm-dd\"))));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20251438,"reputation":11,"user_id":14852434,"display_name":"Ladgelson"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697661219,"creation_date":1660742267,"answer_id":73389183,"question_id":41030148,"body_markdown":"A simple solution that worked for me. I create a Calendar variable setting the day I want to compare. But I truncated the date to consider until days and discosidering hours, minutes and seconds.\r\n\r\nSo the idea is trunc using Calendar to prevent using CriteriaBuilder.function().\r\n\r\n``` \r\nList&lt;Predicate&gt; predicates = new ArrayList&lt;&gt;();\r\nJoin&lt;A, B&gt; joinB = a.join(&quot;B&quot;);\r\nCalendar startOfTheCurrentDay = GregorianCalendar.from(\r\n\t\t\t\t\tZonedDateTime.ofInstant(Instant.now().truncatedTo(ChronoUnit.DAYS), ZoneId.systemDefault()));\r\n\r\npredicates.add(\r\n\tcriteriaBuilder.lessThanOrEqualTo(\r\n\t\tcriteriaBuilder.literal(startOfTheCurrentDay),\r\n\t\tjoinB.&lt;Calendar&gt;get(&quot;expirationDate&quot;)\r\n\t)\r\n);\r\n```\r\n\r\n","title":"JPA CriteriaQuery compare Timestamp ignore time portion","body":"<p>A simple solution that worked for me. I create a Calendar variable setting the day I want to compare. But I truncated the date to consider until days and discosidering hours, minutes and seconds.</p>\n<p>So the idea is trunc using Calendar to prevent using CriteriaBuilder.function().</p>\n<pre><code>List&lt;Predicate&gt; predicates = new ArrayList&lt;&gt;();\nJoin&lt;A, B&gt; joinB = a.join(&quot;B&quot;);\nCalendar startOfTheCurrentDay = GregorianCalendar.from(\n                    ZonedDateTime.ofInstant(Instant.now().truncatedTo(ChronoUnit.DAYS), ZoneId.systemDefault()));\n\npredicates.add(\n    criteriaBuilder.lessThanOrEqualTo(\n        criteriaBuilder.literal(startOfTheCurrentDay),\n        joinB.&lt;Calendar&gt;get(&quot;expirationDate&quot;)\n    )\n);\n</code></pre>\n"}],"owner":{"account_id":6170027,"reputation":643,"user_id":4808563,"display_name":"Javatar"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":22493,"favorite_count":0,"down_vote_count":1,"up_vote_count":6,"accepted_answer_id":41032293,"answer_count":4,"score":5,"last_activity_date":1697661219,"creation_date":1481159585,"question_id":41030148,"body_markdown":"Let say I have a column in Oracle DB like this:\r\n\r\n`SOMETHING_TS     TIMESTAMP WITH TIME ZONE`\r\n\r\nAnd I would like to use CriteriaQuery to filter by this column.\r\n\r\nI can used native query to achieve this:\r\n\r\n        SELECT * \r\n        FROM SOMETHING\r\n        WHERE TRUNC(SOMETHING_TS) = TO_DATE(&#39;2016-12-08&#39;,&#39;YYYY-MM-DD&#39;);\r\n\r\nBut in Java I have failed to do so, below is my sample code:\r\n\r\n        CriteriaBuilder cb = em.getCriteriaBuilder();\r\n\t\tCriteriaQuery&lt;MyClass&gt; cq = cb.createQuery(MyClass.class);\r\n        Date date = new Date();\r\n\r\n        predicates.add(cb.equal(cb.function(&quot;TRUNC&quot;, Date.class, myClass.get(&quot;somethingTs&quot;)), cb.function(&quot;TO_DATE&quot;, Date.class, cb.parameter(Date.class, &quot;somethingTs&quot;), cb.literal(&quot;YYYY-MM-DD&quot;))));\r\n\r\n        Predicate[] predArray = new Predicate[predicates.size()];\r\n\t\tpredicates.toArray(predArray);\r\n\r\n\t\tcq.where(predArray);\r\n\r\n\t\tTypedQuery&lt;MyClass&gt; query = em.createQuery(cq);\r\n        query.setParameter(&quot;somethingDt&quot;, date);","title":"JPA CriteriaQuery compare Timestamp ignore time portion","body":"<p>Let say I have a column in Oracle DB like this:</p>\n\n<p><code>SOMETHING_TS     TIMESTAMP WITH TIME ZONE</code></p>\n\n<p>And I would like to use CriteriaQuery to filter by this column.</p>\n\n<p>I can used native query to achieve this:</p>\n\n<pre><code>    SELECT * \n    FROM SOMETHING\n    WHERE TRUNC(SOMETHING_TS) = TO_DATE('2016-12-08','YYYY-MM-DD');\n</code></pre>\n\n<p>But in Java I have failed to do so, below is my sample code:</p>\n\n<pre><code>    CriteriaBuilder cb = em.getCriteriaBuilder();\n    CriteriaQuery&lt;MyClass&gt; cq = cb.createQuery(MyClass.class);\n    Date date = new Date();\n\n    predicates.add(cb.equal(cb.function(\"TRUNC\", Date.class, myClass.get(\"somethingTs\")), cb.function(\"TO_DATE\", Date.class, cb.parameter(Date.class, \"somethingTs\"), cb.literal(\"YYYY-MM-DD\"))));\n\n    Predicate[] predArray = new Predicate[predicates.size()];\n    predicates.toArray(predArray);\n\n    cq.where(predArray);\n\n    TypedQuery&lt;MyClass&gt; query = em.createQuery(cq);\n    query.setParameter(\"somethingDt\", date);\n</code></pre>\n"},{"tags":["java","scala","gzip","java-17"],"comments":[{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1697660873,"post_id":77319353,"comment_id":136309484,"body_markdown":"Similar: [*Change in GZIPOutputStream behavior in Java 17?*](https://stackoverflow.com/q/77305259/642706)","body":"Similar: <a href=\"https://stackoverflow.com/q/77305259/642706\"><i>Change in GZIPOutputStream behavior in Java 17?</i></a>"}],"answers":[{"tags":[],"owner":{"account_id":43373,"reputation":224943,"user_id":126769,"accept_rate":94,"display_name":"nos"},"comment_count":0,"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1697661174,"creation_date":1697661174,"answer_id":77319426,"question_id":77319353,"body_markdown":"If we look at both your outputs in hex, we have these two pieces of data\r\n\r\n    1f8b08000000000000ff2b492d2ed12d2e29cacc4b0700857490720b000000\r\n                      ^^\r\n    1f8b08000000000000002b492d2ed12d2e29cacc4b0700857490720b000000\r\n                      ^^\r\nBasically 1 byte changed from 0 to 255 (ff in hex). That&#39;s the [OS header][1] of the gzip format, which was changed from 0 to 255 in java 16 according to this :https://bugs.openjdk.org/browse/JDK-8244706\r\n\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/61715912/why-is-the-gzip-os-header-hard-coded-to-fat-in-java","title":"Gzip compression of a string gives different results in java11 vs java17","body":"<p>If we look at both your outputs in hex, we have these two pieces of data</p>\n<pre><code>1f8b08000000000000ff2b492d2ed12d2e29cacc4b0700857490720b000000\n                  ^^\n1f8b08000000000000002b492d2ed12d2e29cacc4b0700857490720b000000\n                  ^^\n</code></pre>\n<p>Basically 1 byte changed from 0 to 255 (ff in hex). That's the <a href=\"https://stackoverflow.com/questions/61715912/why-is-the-gzip-os-header-hard-coded-to-fat-in-java\">OS header</a> of the gzip format, which was changed from 0 to 255 in java 16 according to this :<a href=\"https://bugs.openjdk.org/browse/JDK-8244706\" rel=\"noreferrer\">https://bugs.openjdk.org/browse/JDK-8244706</a></p>\n"}],"owner":{"account_id":16250750,"reputation":33,"user_id":11734791,"display_name":"Shashi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":130,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77319426,"answer_count":1,"score":1,"last_activity_date":1697661174,"creation_date":1697660321,"question_id":77319353,"body_markdown":"I applied gzip compression to the string `test-string`. When I use Scala 2.13.8 with **Java 11.0.13** (Java HotSpot(TM) 64-Bit Server VM), it results in the compressed string `H4sIAAAAAAAAACtJLS7RLS4pysxLBwCFdJByCwAAAA==.` \r\n\r\nHowever, when I perform the same compression operation with Scala 2.13.8 on **Java 17.0.4.1** (OpenJDK 64-Bit Server VM), it yields `H4sIAAAAAAAA/ytJLS7RLS4pysxLBwCFdJByCwAAAA==.` however, both of these compressed strings correctly decompressed to retrieve the original string `test-string`.\r\n\r\nI assume this can depend on several factors like Default Compression Levels: the default compression level might differ between Java 11 and Java 17, resulting in different output for the same input.\r\nAlgorithm Improvements: The Gzip implementation in Java 17 may have been optimized, leading to different compression results.Internal Implementation Details: The internal implementation details of Gzip compression may have changed between Java 11 and Java 17, affecting the compressed output. \r\n\r\nWhat could be the reason behind this? I am attaching the code below.\r\n\r\n\r\n    val bos = new ByteArrayOutputStream(&quot;test-string&quot;.length)\r\n    val b64os = new Base64OutputStream(bos)\r\n    val gzip = new GZIPOutputStream(b64os)\r\n    gzip.write(&quot;test-string&quot;.getBytes(&quot;UTF-8&quot;))\r\n    gzip.close()\r\n    val compressed = new String(bos.toByteArray, &quot;UTF-8&quot;)\r\n    bos.close()\r\n    compressed.trim","title":"Gzip compression of a string gives different results in java11 vs java17","body":"<p>I applied gzip compression to the string <code>test-string</code>. When I use Scala 2.13.8 with <strong>Java 11.0.13</strong> (Java HotSpot(TM) 64-Bit Server VM), it results in the compressed string <code>H4sIAAAAAAAAACtJLS7RLS4pysxLBwCFdJByCwAAAA==.</code></p>\n<p>However, when I perform the same compression operation with Scala 2.13.8 on <strong>Java 17.0.4.1</strong> (OpenJDK 64-Bit Server VM), it yields <code>H4sIAAAAAAAA/ytJLS7RLS4pysxLBwCFdJByCwAAAA==.</code> however, both of these compressed strings correctly decompressed to retrieve the original string <code>test-string</code>.</p>\n<p>I assume this can depend on several factors like Default Compression Levels: the default compression level might differ between Java 11 and Java 17, resulting in different output for the same input.\nAlgorithm Improvements: The Gzip implementation in Java 17 may have been optimized, leading to different compression results.Internal Implementation Details: The internal implementation details of Gzip compression may have changed between Java 11 and Java 17, affecting the compressed output.</p>\n<p>What could be the reason behind this? I am attaching the code below.</p>\n<pre><code>val bos = new ByteArrayOutputStream(&quot;test-string&quot;.length)\nval b64os = new Base64OutputStream(bos)\nval gzip = new GZIPOutputStream(b64os)\ngzip.write(&quot;test-string&quot;.getBytes(&quot;UTF-8&quot;))\ngzip.close()\nval compressed = new String(bos.toByteArray, &quot;UTF-8&quot;)\nbos.close()\ncompressed.trim\n</code></pre>\n"},{"tags":["java","spring","postgresql","properties","getproperty"],"comments":[{"owner":{"account_id":24708771,"reputation":1,"user_id":18599233,"display_name":"it4545454545"},"score":0,"creation_date":1697659180,"post_id":77319182,"comment_id":136309195,"body_markdown":"by the way, in the video from the course, it is working with the &quot;username&quot; naming of the property","body":"by the way, in the video from the course, it is working with the &quot;username&quot; naming of the property"},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1697692478,"post_id":77319182,"comment_id":136312305,"body_markdown":"`username` is probably an environment variable which takes precedence of your own value, which is why it works with another propery name. Doesn&#39;t matter if works in the video or not as that is a different environment.","body":"<code>username</code> is probably an environment variable which takes precedence of your own value, which is why it works with another propery name. Doesn&#39;t matter if works in the video or not as that is a different environment."},{"owner":{"account_id":24708771,"reputation":1,"user_id":18599233,"display_name":"it4545454545"},"score":0,"creation_date":1697699618,"post_id":77319182,"comment_id":136313236,"body_markdown":"Thank you. I have seen that the MANIFEST.MF contains that Built-By User line. Probably it takes my PC username name also. My PC username is &quot;User&quot;. But When I was changing my PC username to somethinglese, the MANIFEST was not updating itself when rebuilding, so I got the same &quot;Built-by User&quot; line and the same error with the auth problem for user &quot;User&quot;. Where I can change or see that environamental variable on my PC? I use win10. Is it where the PATH var exists?","body":"Thank you. I have seen that the MANIFEST.MF contains that Built-By User line. Probably it takes my PC username name also. My PC username is &quot;User&quot;. But When I was changing my PC username to somethinglese, the MANIFEST was not updating itself when rebuilding, so I got the same &quot;Built-by User&quot; line and the same error with the auth problem for user &quot;User&quot;. Where I can change or see that environamental variable on my PC? I use win10. Is it where the PATH var exists?"},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1697699797,"post_id":77319182,"comment_id":136313269,"body_markdown":"You can run `SET` from the command line to see all the properties. Next to that the JVM also has a property `user.name` which can influence things. Generally it is better to prefix those properties with the use like `jdbc.username` or `datasource.username` so that it has a bit of intend as well and you won&#39;t run into the risk of clashing with (or reduce the risk) environment or system variables.","body":"You can run <code>SET</code> from the command line to see all the properties. Next to that the JVM also has a property <code>user.name</code> which can influence things. Generally it is better to prefix those properties with the use like <code>jdbc.username</code> or <code>datasource.username</code> so that it has a bit of intend as well and you won&#39;t run into the risk of clashing with (or reduce the risk) environment or system variables."},{"owner":{"account_id":24708771,"reputation":1,"user_id":18599233,"display_name":"it4545454545"},"score":0,"creation_date":1697753277,"post_id":77319182,"comment_id":136322962,"body_markdown":"Yep, that was my SET USERNAME local variable. For some reason, somewhere it is substituted when the property name is &quot;username&quot;. Checked on two computers, replicated. Thank you!","body":"Yep, that was my SET USERNAME local variable. For some reason, somewhere it is substituted when the property name is &quot;username&quot;. Checked on two computers, replicated. Thank you!"}],"owner":{"account_id":24708771,"reputation":1,"user_id":18599233,"display_name":"it4545454545"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697660779,"creation_date":1697658459,"question_id":77319182,"body_markdown":"I have found out that for some reason\r\n\r\n```\r\ndataSource.setUsername(environment.getProperty(&quot;username&quot;));\r\n```\r\nreturns &quot;User&quot; value instead of my property username=postgres\r\nIt is indicated in the HTTP 500 DB connection error\r\n```\r\norg.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is org.postgresql.util.PSQLException: FATAL: password authentication failed for user &quot;User&quot;\r\n```\r\nAnd if I debug in Intellij Idea, I see that when I execute that string, it ends up with &quot;User&quot; for some reason.\r\nI guess there is some collision of implementation the getProperty() method of the PropertyResolver interface. However, I could not find from where that implementation and collision comes from.\r\n\r\nI am learning Spring framework, I watch a video course. The only difference between my and the course project is that I am using the currently latest postgres, thus, pom.xml contains the latest postgres dependency. However, if I change it to the same dependency without reinstalling the postgreSQL to the needed version - I still do not get my property working.\r\n\r\nBUT! If I rename the property and I adjust the property name in the getProperty() method, I get it working! For instance, I used &quot;db-username&quot; in my db.property and it worked. Regardless of the matching of the postgreSQL versions. I don&#39;t think the DB is the case. I think there is some conflict I can not find yet in the framework. Could you please let me know what could be the reason? For example, I want to use this name on principle - the &quot;username&quot; property naming, so how do I find the root-root cause?\r\n\r\nP.S.\r\n\r\nThe code is below:\r\nSpringConfig:\r\nhttps://pastebin.com/2n0WHnut\r\n\r\npom.xml\r\nhttps://pastebin.com/NUBtZEqR\r\n\r\nDoes not work =&gt;\r\n```\r\ndataSource.setUsername(environment.getProperty(&quot;username&quot;));\r\n\r\ndb.property:\r\n\r\ndriver=org.postgresql.Driver\r\nurl=jdbc:postgresql://localhost:5432/first_db\r\nusername=postgres\r\ndriver=org.postgresql.Driver\r\nurl=jdbc:postgresql://localhost:5432/first_db\r\nusername=postgres\r\npassword=FooBaaaaar\r\n```\r\nWorks!:\r\n```\r\ndataSource.setUsername(environment.getProperty(&quot;db-username&quot;));\r\n\r\ndb.property:\r\n\r\ndriver=org.postgresql.Driver\r\nurl=jdbc:postgresql://localhost:5432/first_db\r\nusername=postgres\r\ndriver=org.postgresql.Driver\r\nurl=jdbc:postgresql://localhost:5432/first_db\r\ndb-username=postgres\r\npassword=FooBaaaaar\r\n```\r\n\r\n\r\nI have tried to debug it using IDE and I saw that the getProperty method for sure returns in the runtime the value of &quot;User&quot; when I user the &quot;username&quot; property name in the db.property and getProperty() method.","title":"Spring 5.2.1.RELEASE getProperty returns &quot;User&quot; instead of my custom &quot;username=...&quot; property","body":"<p>I have found out that for some reason</p>\n<pre><code>dataSource.setUsername(environment.getProperty(&quot;username&quot;));\n</code></pre>\n<p>returns &quot;User&quot; value instead of my property username=postgres\nIt is indicated in the HTTP 500 DB connection error</p>\n<pre><code>org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is org.postgresql.util.PSQLException: FATAL: password authentication failed for user &quot;User&quot;\n</code></pre>\n<p>And if I debug in Intellij Idea, I see that when I execute that string, it ends up with &quot;User&quot; for some reason.\nI guess there is some collision of implementation the getProperty() method of the PropertyResolver interface. However, I could not find from where that implementation and collision comes from.</p>\n<p>I am learning Spring framework, I watch a video course. The only difference between my and the course project is that I am using the currently latest postgres, thus, pom.xml contains the latest postgres dependency. However, if I change it to the same dependency without reinstalling the postgreSQL to the needed version - I still do not get my property working.</p>\n<p>BUT! If I rename the property and I adjust the property name in the getProperty() method, I get it working! For instance, I used &quot;db-username&quot; in my db.property and it worked. Regardless of the matching of the postgreSQL versions. I don't think the DB is the case. I think there is some conflict I can not find yet in the framework. Could you please let me know what could be the reason? For example, I want to use this name on principle - the &quot;username&quot; property naming, so how do I find the root-root cause?</p>\n<p>P.S.</p>\n<p>The code is below:\nSpringConfig:\n<a href=\"https://pastebin.com/2n0WHnut\" rel=\"nofollow noreferrer\">https://pastebin.com/2n0WHnut</a></p>\n<p>pom.xml\n<a href=\"https://pastebin.com/NUBtZEqR\" rel=\"nofollow noreferrer\">https://pastebin.com/NUBtZEqR</a></p>\n<p>Does not work =&gt;</p>\n<pre><code>dataSource.setUsername(environment.getProperty(&quot;username&quot;));\n\ndb.property:\n\ndriver=org.postgresql.Driver\nurl=jdbc:postgresql://localhost:5432/first_db\nusername=postgres\ndriver=org.postgresql.Driver\nurl=jdbc:postgresql://localhost:5432/first_db\nusername=postgres\npassword=FooBaaaaar\n</code></pre>\n<p>Works!:</p>\n<pre><code>dataSource.setUsername(environment.getProperty(&quot;db-username&quot;));\n\ndb.property:\n\ndriver=org.postgresql.Driver\nurl=jdbc:postgresql://localhost:5432/first_db\nusername=postgres\ndriver=org.postgresql.Driver\nurl=jdbc:postgresql://localhost:5432/first_db\ndb-username=postgres\npassword=FooBaaaaar\n</code></pre>\n<p>I have tried to debug it using IDE and I saw that the getProperty method for sure returns in the runtime the value of &quot;User&quot; when I user the &quot;username&quot; property name in the db.property and getProperty() method.</p>\n"},{"tags":["java","security","domain-driven-design","authorization"],"answers":[{"tags":[],"owner":{"account_id":60171,"reputation":115485,"user_id":179850,"accept_rate":100,"display_name":"Gray"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1697660662,"creation_date":1323446546,"answer_id":8448199,"question_id":8447550,"body_markdown":"I would not encode the ownership/permissions model into the `TaskList` domain object.  That sort of business logic should be external.  I also don&#39;t like the idea of a proxy object.  Although it would certainly work, it would confuse debugging and is, in this case at least, unnecessarily complex.  I would also not check it in the controller.\r\n\r\nInstead I would create a business logic object which oversees the permissions for `TaskList`.  So the `TaskList` would have an owner field but you would have at external accessor which would do the business logic.  Something like:\r\n\r\n    public class TaskListAccessor {\r\n        private TaskList taskList;\r\n        private User reader;\r\n\r\n        public void updateStatus(Status status) {\r\n            // everyone can do this\r\n            taskList.updateStatus(status);\r\n        }\r\n\r\n        /** Return true if delete operation is allowed else false */\r\n        public boolean isDeleteAllowed() {\r\n            return taskList.getOwner().equals(reader);\r\n        }\r\n\r\n        /** Delete the task.  Only owners can do this.  Returns true if worked else false */\r\n        public boolean delete() {\r\n            if (isDeleteAllowed()) {\r\n               taskList.delete();\r\n               return true;\r\n            } else {\r\n               return false;\r\n            }\r\n        }\r\n        // ... other accessors with other is*Allowed methods\r\n    }\r\n\r\nIf you need to require that all operations on `TaskList` objects go through accessors then you could create a factory class which is the only one who creates `TaskList` using package constructors or something.  Maybe the factory is the only one who would use the DAO to look up the `TaskList` from the data store.\r\n\r\nHowever, if there are too many methods to control in this fashion then a proxy might be easier.  In both cases having `TaskList` be an interface would be recommended, with the implementation class hidden by the proxy or the accessor.\r\n","title":"Restrict access to the owner of an object in DDD","body":"<p>I would not encode the ownership/permissions model into the <code>TaskList</code> domain object.  That sort of business logic should be external.  I also don't like the idea of a proxy object.  Although it would certainly work, it would confuse debugging and is, in this case at least, unnecessarily complex.  I would also not check it in the controller.</p>\n<p>Instead I would create a business logic object which oversees the permissions for <code>TaskList</code>.  So the <code>TaskList</code> would have an owner field but you would have at external accessor which would do the business logic.  Something like:</p>\n<pre><code>public class TaskListAccessor {\n    private TaskList taskList;\n    private User reader;\n\n    public void updateStatus(Status status) {\n        // everyone can do this\n        taskList.updateStatus(status);\n    }\n\n    /** Return true if delete operation is allowed else false */\n    public boolean isDeleteAllowed() {\n        return taskList.getOwner().equals(reader);\n    }\n\n    /** Delete the task.  Only owners can do this.  Returns true if worked else false */\n    public boolean delete() {\n        if (isDeleteAllowed()) {\n           taskList.delete();\n           return true;\n        } else {\n           return false;\n        }\n    }\n    // ... other accessors with other is*Allowed methods\n}\n</code></pre>\n<p>If you need to require that all operations on <code>TaskList</code> objects go through accessors then you could create a factory class which is the only one who creates <code>TaskList</code> using package constructors or something.  Maybe the factory is the only one who would use the DAO to look up the <code>TaskList</code> from the data store.</p>\n<p>However, if there are too many methods to control in this fashion then a proxy might be easier.  In both cases having <code>TaskList</code> be an interface would be recommended, with the implementation class hidden by the proxy or the accessor.</p>\n"},{"tags":[],"owner":{"account_id":85409,"reputation":89783,"user_id":238134,"accept_rate":73,"display_name":"deamon"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1327477024,"creation_date":1327477024,"answer_id":8999223,"question_id":8447550,"body_markdown":"I found it unnecessarily complex to create accessor classes for each protected domain class as suggested by &#39;Gray&#39;. My solution is probably not perfect, but simple to use and - more important - robust. You cannot forget to use a certain object or to check conditions outside. \r\n\r\n\tpublic class TaskList {\r\n\t\r\n\t\tprivate SystemUser owner;\r\n\t\tprivate List&lt;Task&gt; tasks = new ArrayList&lt;&gt;();\r\n\t\t\r\n\t\tpublic TastList(SystemUser owner) {\r\n\t\t\tthis.owner = owner;\r\n\t\t}\r\n\t\t\r\n\t\tpublic void Add(Task task) {\r\n\t\t\tGuard.allowFor(owner); \r\n\t\t\ttasks.add(task);\r\n\t\t}\r\n\t}\r\n\r\nThe `Guard` knows the current user (from a thread local for example) and compares it to the owner passed as parameter to `allowFor(owner)`. If access is denied a security exception will be thrown.\r\n\r\nThat is simple, robust and even easy to maintain since only the guard has to be changed if the underlying authentication changes.","title":"Restrict access to the owner of an object in DDD","body":"<p>I found it unnecessarily complex to create accessor classes for each protected domain class as suggested by 'Gray'. My solution is probably not perfect, but simple to use and - more important - robust. You cannot forget to use a certain object or to check conditions outside. </p>\n\n<pre><code>public class TaskList {\n\n    private SystemUser owner;\n    private List&lt;Task&gt; tasks = new ArrayList&lt;&gt;();\n\n    public TastList(SystemUser owner) {\n        this.owner = owner;\n    }\n\n    public void Add(Task task) {\n        Guard.allowFor(owner); \n        tasks.add(task);\n    }\n}\n</code></pre>\n\n<p>The <code>Guard</code> knows the current user (from a thread local for example) and compares it to the owner passed as parameter to <code>allowFor(owner)</code>. If access is denied a security exception will be thrown.</p>\n\n<p>That is simple, robust and even easy to maintain since only the guard has to be changed if the underlying authentication changes.</p>\n"}],"owner":{"account_id":85409,"reputation":89783,"user_id":238134,"accept_rate":73,"display_name":"deamon"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1153,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":8999223,"answer_count":2,"score":2,"last_activity_date":1697660662,"creation_date":1323443631,"question_id":8447550,"body_markdown":"Let&#39;s say there is an object `TaskList` which can be edited and deleted only by its owner. Other users should only by able to take a task and update its status. \r\n\r\nThe following options come to my mind:\r\n\r\n * check the ownership and access in the controller of the web application\r\n * let the repository return proxy object which throws exception on certain operations, but the controller (or view) would still need to know which actions (in form of links or form fields) should be visible\r\n * pass the caller (user) to the method of the domain object, so that the domain object can itself check whether the caller ist allowed or not.\r\n\r\nThe used technology is Java.\r\n\r\nAny other/better ideas?  \r\n\r\n**Interesting articles about security and DDD**\r\n\r\n - [Domain Object Security][1] with the Spring framework\r\n - [Security in Domain-Driven Design][2]\r\n\r\nI have accepted my own answer now, because that is what I actually use, but further suggestions are welcome. \r\n\r\n\r\n  [1]: http://static.springsource.org/spring-security/site/docs/2.0.x/reference/domain-acls.html\r\n  [2]: http://www.utwente.nl/ewi/trese/graduation_projects/2008/Uithol.pdf","title":"Restrict access to the owner of an object in DDD","body":"<p>Let's say there is an object <code>TaskList</code> which can be edited and deleted only by its owner. Other users should only by able to take a task and update its status. </p>\n\n<p>The following options come to my mind:</p>\n\n<ul>\n<li>check the ownership and access in the controller of the web application</li>\n<li>let the repository return proxy object which throws exception on certain operations, but the controller (or view) would still need to know which actions (in form of links or form fields) should be visible</li>\n<li>pass the caller (user) to the method of the domain object, so that the domain object can itself check whether the caller ist allowed or not.</li>\n</ul>\n\n<p>The used technology is Java.</p>\n\n<p>Any other/better ideas?  </p>\n\n<p><strong>Interesting articles about security and DDD</strong></p>\n\n<ul>\n<li><a href=\"http://static.springsource.org/spring-security/site/docs/2.0.x/reference/domain-acls.html\" rel=\"nofollow\">Domain Object Security</a> with the Spring framework</li>\n<li><a href=\"http://www.utwente.nl/ewi/trese/graduation_projects/2008/Uithol.pdf\" rel=\"nofollow\">Security in Domain-Driven Design</a></li>\n</ul>\n\n<p>I have accepted my own answer now, because that is what I actually use, but further suggestions are welcome. </p>\n"},{"tags":["java","spring-boot","spring-mvc","thymeleaf","favicon"],"answers":[{"comments":[{"owner":{"account_id":1229539,"reputation":82701,"user_id":1194415,"accept_rate":76,"display_name":"membersound"},"score":1,"creation_date":1660228662,"post_id":46302195,"comment_id":129487892,"body_markdown":"For me it was `th:href=&quot;@{/favicon.ico}&quot;` to resolve `/src/main/resources/static/favicon.ico`.","body":"For me it was <code>th:href=&quot;@{&#47;favicon.ico}&quot;</code> to resolve <code>&#47;src&#47;main&#47;resources&#47;static&#47;favicon.ico</code>."}],"tags":[],"owner":{"account_id":3275313,"reputation":5882,"user_id":2757561,"accept_rate":71,"display_name":"cralfaro"},"comment_count":1,"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1505828829,"creation_date":1505828829,"answer_id":46302195,"question_id":46302090,"body_markdown":"I have this with SpringBoot configuration too and is working\r\n\r\n    &lt;link rel=&quot;shortcut icon&quot; type=&quot;image/png&quot; th:href=&quot;@{/img/favicon.png}&quot;/&gt;\r\n        \r\nAnd the favicon.png under **resources/public/img**","title":"Spring Boot custom favicon.ico not showing","body":"<p>I have this with SpringBoot configuration too and is working</p>\n\n<pre><code>&lt;link rel=\"shortcut icon\" type=\"image/png\" th:href=\"@{/img/favicon.png}\"/&gt;\n</code></pre>\n\n<p>And the favicon.png under <strong>resources/public/img</strong></p>\n"},{"comments":[{"owner":{"account_id":3275313,"reputation":5882,"user_id":2757561,"accept_rate":71,"display_name":"cralfaro"},"score":0,"creation_date":1505897431,"post_id":46302536,"comment_id":79596097,"body_markdown":"did you try the solution i proposed? Is something is working in my project and seems quite easy and no configuration","body":"did you try the solution i proposed? Is something is working in my project and seems quite easy and no configuration"},{"owner":{"account_id":7830507,"reputation":2154,"user_id":7220869,"accept_rate":62,"display_name":"JayC"},"score":0,"creation_date":1580228496,"post_id":46302536,"comment_id":106025257,"body_markdown":"Why did you remove EnableWebMVC ?  Did you get your attempt (1) to work? setting &quot;favico.ico&quot; in static resources. I am having issues with that.","body":"Why did you remove EnableWebMVC ?  Did you get your attempt (1) to work? setting &quot;favico.ico&quot; in static resources. I am having issues with that."}],"tags":[],"owner":{"account_id":11320201,"reputation":603,"user_id":8300741,"display_name":"Johan Fredin"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1505829727,"creation_date":1505829727,"answer_id":46302536,"question_id":46302090,"body_markdown":"Ok so this appears to be working now. Of course I managed to get it working just after ranting about it :).\r\n\r\nAnyway, what i did was.\r\n\r\n1. Remove @EnableWebMvc from the main class\r\n2. For added ../ to the href depending on the urls e.g /index was fine but /edit/something.html was not\r\n\r\nSorry for wasting peoples time but hopefully this could be useful for another rookie like me\r\n ","title":"Spring Boot custom favicon.ico not showing","body":"<p>Ok so this appears to be working now. Of course I managed to get it working just after ranting about it :).</p>\n\n<p>Anyway, what i did was.</p>\n\n<ol>\n<li>Remove @EnableWebMvc from the main class</li>\n<li>For added ../ to the href depending on the urls e.g /index was fine but /edit/something.html was not</li>\n</ol>\n\n<p>Sorry for wasting peoples time but hopefully this could be useful for another rookie like me</p>\n"},{"tags":[],"owner":{"account_id":10730865,"reputation":380,"user_id":7897022,"display_name":"JaneXQ"},"comment_count":0,"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1522951952,"creation_date":1522951952,"answer_id":49678891,"question_id":46302090,"body_markdown":"I solved this problem by putting favicon.ico in main/resource/static and adding this lines to my security config\r\n\r\n     httpSecurity\r\n                .authorizeRequests()\r\n                    .antMatchers( &quot;/favicon.ico&quot;).permitAll()","title":"Spring Boot custom favicon.ico not showing","body":"<p>I solved this problem by putting favicon.ico in main/resource/static and adding this lines to my security config</p>\n\n<pre><code> httpSecurity\n            .authorizeRequests()\n                .antMatchers( \"/favicon.ico\").permitAll()\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3509735,"reputation":979,"user_id":2970627,"accept_rate":35,"display_name":"Alex Bondar"},"score":0,"creation_date":1568054522,"post_id":56731873,"comment_id":102145322,"body_markdown":"can you share the config? I also have it in public but still default is loaded","body":"can you share the config? I also have it in public but still default is loaded"},{"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1568066219,"post_id":56731873,"comment_id":102149460,"body_markdown":"@alex I used no special config for this","body":"@alex I used no special config for this"},{"owner":{"account_id":11989372,"reputation":57,"user_id":8772995,"accept_rate":50,"display_name":"Scott Miller"},"score":0,"creation_date":1694276748,"post_id":56731873,"comment_id":135871505,"body_markdown":"Excellent! 2nd comment above yours here, while it may work, is like shooting someone in the chest 5 times and having &#39;em bleed out. Yours here however is a shot in the head.","body":"Excellent! 2nd comment above yours here, while it may work, is like shooting someone in the chest 5 times and having &#39;em bleed out. Yours here however is a shot in the head."}],"tags":[],"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"comment_count":3,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1694287964,"creation_date":1561361973,"answer_id":56731873,"question_id":46302090,"body_markdown":"Put your `favicon.ico` file in:\r\n\r\n    src/main/resources/public\r\n","title":"Spring Boot custom favicon.ico not showing","body":"<p>Put your <code>favicon.ico</code> file in:</p>\n<pre><code>src/main/resources/public\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14222505,"reputation":1873,"user_id":10275943,"display_name":"Ikbel"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1602950045,"creation_date":1602950045,"answer_id":64404384,"question_id":46302090,"body_markdown":"Put your `favicon.png` under `src/main/resources/public` and add this to your `*.html` page  exactly in the  `header` section\r\n\r\n     &lt;link rel=&quot;shortcut icon&quot; type=&quot;image/png&quot; th:href=&quot;@{favicon.png}&quot;/&gt;","title":"Spring Boot custom favicon.ico not showing","body":"<p>Put your <code>favicon.png</code> under <code>src/main/resources/public</code> and add this to your <code>*.html</code> page  exactly in the  <code>header</code> section</p>\n<pre><code> &lt;link rel=&quot;shortcut icon&quot; type=&quot;image/png&quot; th:href=&quot;@{favicon.png}&quot;/&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9311626,"reputation":427,"user_id":6913222,"display_name":"Arv"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1610889528,"creation_date":1610889528,"answer_id":65761072,"question_id":46302090,"body_markdown":"For some reason .ico format was not working. I just placed a png image instead and spring automatically picked the favicon.\r\n\r\nI placed the png image in \\src\\main\\resources\\public\r\n\r\n&lt;link rel=&quot;icon&quot; type=&quot;image/png&quot; th:href=&quot;@{/favicon.png}&quot;/&gt;\r\n\r\nSpring boot + thymeleaf","title":"Spring Boot custom favicon.ico not showing","body":"<p>For some reason .ico format was not working. I just placed a png image instead and spring automatically picked the favicon.</p>\n<p>I placed the png image in \\src\\main\\resources\\public</p>\n\n<p>Spring boot + thymeleaf</p>\n"},{"comments":[{"owner":{"account_id":2229427,"reputation":3258,"user_id":1967416,"accept_rate":38,"display_name":"mmaceachran"},"score":2,"creation_date":1623643332,"post_id":67425851,"comment_id":120127670,"body_markdown":"I hate that this is the only thing I got to work.  It is way overblown for the favicon,  but this works!","body":"I hate that this is the only thing I got to work.  It is way overblown for the favicon,  but this works!"},{"owner":{"account_id":21514835,"reputation":61,"user_id":15856891,"display_name":"Nikita Shcherbakov"},"score":0,"creation_date":1626541644,"post_id":67425851,"comment_id":120923326,"body_markdown":"Yeah, sir. I kinda had done a little research spending hours before I got it worked fine for me","body":"Yeah, sir. I kinda had done a little research spending hours before I got it worked fine for me"}],"tags":[],"owner":{"account_id":21514835,"reputation":61,"user_id":15856891,"display_name":"Nikita Shcherbakov"},"comment_count":2,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1620335546,"creation_date":1620334654,"answer_id":67425851,"question_id":46302090,"body_markdown":"If anyone faces the same problem using newer version of Spring (in my case spring boot 2.4.4), here&#39;s the scenario that worked fine for me:\r\n\r\n 1. Put the favicon.ico in the `/resources/static` folder. I also tried to put it just in the `/resourses/` folder and it worked fine as well, so do not worry about the folder that much.\r\n 2. Create a `FaviconConfiguration` in your configurations folder with the following content:\r\n\r\n```\r\n@Configuration\r\npublic class FaviconConfiguration {\r\n\r\n    @Bean\r\n    public SimpleUrlHandlerMapping customFaviconHandlerMapping() {\r\n        SimpleUrlHandlerMapping mapping = new SimpleUrlHandlerMapping();\r\n        mapping.setOrder(Integer.MIN_VALUE);\r\n        mapping.setUrlMap(Collections.singletonMap(\r\n                &quot;/static/favicon.ico&quot;, faviconRequestHandler()));\r\n        return mapping;\r\n    }\r\n\r\n    @Bean\r\n    protected ResourceHttpRequestHandler faviconRequestHandler() {\r\n        ResourceHttpRequestHandler requestHandler\r\n                = new ResourceHttpRequestHandler();\r\n        requestHandler.setLocations(Collections.singletonList(new ClassPathResource(&quot;/&quot;)));\r\n        return requestHandler;\r\n    }\r\n}\r\n```\r\n\r\n 3. In case you use Spring Security don&#39;t forget to add `antMatcher` for your favicon resource by adding the following code to your *SpringSecurityConfiguration* (as [JaneXQ](https://stackoverflow.com/a/49678891/15856891) already mentioned above):\r\n\r\n```\r\n.antMatchers(&quot;/static/favicon.ico&quot;).permitAll()\r\n```\r\n\r\n 4. Use link to your custom favicon *explicitly* in your html. To do that just put the following link in the `&lt;head&gt;` section of *each* of your html pages in the following way (I used thymeleaf in here):\r\n\r\n```\r\n&lt;head&gt;\r\n    ...\r\n    &lt;link rel=&quot;icon&quot; type=&quot;image/ico&quot; th:href=&quot;@{../static/favicon.ico}&quot;&gt;\r\n    ...\r\n&lt;/head&gt;\r\n```","title":"Spring Boot custom favicon.ico not showing","body":"<p>If anyone faces the same problem using newer version of Spring (in my case spring boot 2.4.4), here's the scenario that worked fine for me:</p>\n<ol>\n<li>Put the favicon.ico in the <code>/resources/static</code> folder. I also tried to put it just in the <code>/resourses/</code> folder and it worked fine as well, so do not worry about the folder that much.</li>\n<li>Create a <code>FaviconConfiguration</code> in your configurations folder with the following content:</li>\n</ol>\n<pre><code>@Configuration\npublic class FaviconConfiguration {\n\n    @Bean\n    public SimpleUrlHandlerMapping customFaviconHandlerMapping() {\n        SimpleUrlHandlerMapping mapping = new SimpleUrlHandlerMapping();\n        mapping.setOrder(Integer.MIN_VALUE);\n        mapping.setUrlMap(Collections.singletonMap(\n                &quot;/static/favicon.ico&quot;, faviconRequestHandler()));\n        return mapping;\n    }\n\n    @Bean\n    protected ResourceHttpRequestHandler faviconRequestHandler() {\n        ResourceHttpRequestHandler requestHandler\n                = new ResourceHttpRequestHandler();\n        requestHandler.setLocations(Collections.singletonList(new ClassPathResource(&quot;/&quot;)));\n        return requestHandler;\n    }\n}\n</code></pre>\n<ol start=\"3\">\n<li>In case you use Spring Security don't forget to add <code>antMatcher</code> for your favicon resource by adding the following code to your <em>SpringSecurityConfiguration</em> (as <a href=\"https://stackoverflow.com/a/49678891/15856891\">JaneXQ</a> already mentioned above):</li>\n</ol>\n<pre><code>.antMatchers(&quot;/static/favicon.ico&quot;).permitAll()\n</code></pre>\n<ol start=\"4\">\n<li>Use link to your custom favicon <em>explicitly</em> in your html. To do that just put the following link in the <code>&lt;head&gt;</code> section of <em>each</em> of your html pages in the following way (I used thymeleaf in here):</li>\n</ol>\n<pre><code>&lt;head&gt;\n    ...\n    &lt;link rel=&quot;icon&quot; type=&quot;image/ico&quot; th:href=&quot;@{../static/favicon.ico}&quot;&gt;\n    ...\n&lt;/head&gt;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":5204645,"reputation":917,"user_id":4163002,"accept_rate":90,"display_name":"ZX9"},"score":0,"creation_date":1620498734,"post_id":67448282,"comment_id":119220798,"body_markdown":"Does this address the question? The OP does not mention using `th:href`.","body":"Does this address the question? The OP does not mention using <code>th:href</code>."},{"owner":{"account_id":1229539,"reputation":82701,"user_id":1194415,"accept_rate":76,"display_name":"membersound"},"score":0,"creation_date":1660228572,"post_id":67448282,"comment_id":129487856,"body_markdown":"That simply did the trick (and automatically resolved from `/src/main/resources/static/favicon.ico`","body":"That simply did the trick (and automatically resolved from <code>&#47;src&#47;main&#47;resources&#47;static&#47;favicon.ico</code>"}],"tags":[],"owner":{"account_id":21532337,"reputation":11,"user_id":15871582,"display_name":"roy ren"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1620481827,"creation_date":1620481827,"answer_id":67448282,"question_id":46302090,"body_markdown":"Try to replace th:href with href. It worked for me.\r\n\r\n```\r\n&lt;link rel=&quot;icon&quot; href=&quot;/favicon.ico&quot; type=&quot;image/ico&quot;&gt;\r\n```","title":"Spring Boot custom favicon.ico not showing","body":"<p>Try to replace th:href with href. It worked for me.</p>\n<pre><code>&lt;link rel=&quot;icon&quot; href=&quot;/favicon.ico&quot; type=&quot;image/ico&quot;&gt;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":21613086,"reputation":1070,"user_id":15939306,"display_name":"TheKearnol"},"score":0,"creation_date":1644088288,"post_id":68849378,"comment_id":125514653,"body_markdown":"Great reminder - clear the browser cache after trying some of these solutions!  I tried multiple solutions (who knows how many would have worked) but only after clearing the browser cache did my favicon appear. For me, I did not have to configure a custom favicon bean, so try the simpler fixes, clear the cache, and see if that works!","body":"Great reminder - clear the browser cache after trying some of these solutions!  I tried multiple solutions (who knows how many would have worked) but only after clearing the browser cache did my favicon appear. For me, I did not have to configure a custom favicon bean, so try the simpler fixes, clear the cache, and see if that works!"}],"tags":[],"owner":{"account_id":22511334,"reputation":21,"user_id":16706238,"display_name":"oldbird"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1629381827,"creation_date":1629381827,"answer_id":68849378,"question_id":46302090,"body_markdown":"I saved my favicon which was a simple .png download as src/main/resources/static/favicon.ico\r\n\r\nI couldn&#39;t get it to display until I tried another browser and it worked fine - so try clearing the browser cache, or try testing on another browser","title":"Spring Boot custom favicon.ico not showing","body":"<p>I saved my favicon which was a simple .png download as src/main/resources/static/favicon.ico</p>\n<p>I couldn't get it to display until I tried another browser and it worked fine - so try clearing the browser cache, or try testing on another browser</p>\n"},{"tags":[],"owner":{"account_id":1539674,"reputation":125,"user_id":1434624,"display_name":"horelvis"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1631642150,"creation_date":1631642150,"answer_id":69182487,"question_id":46302090,"body_markdown":"I had the same issue and fix it removing @EnableAdminServer annotation","title":"Spring Boot custom favicon.ico not showing","body":"<p>I had the same issue and fix it removing @EnableAdminServer annotation</p>\n"},{"tags":[],"owner":{"account_id":16731772,"reputation":1574,"user_id":12093975,"display_name":"skyho"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684829720,"creation_date":1684829720,"answer_id":76312581,"question_id":46302090,"body_markdown":"- **Spring boot**\r\n\r\n```gradle\r\nplugins {\r\n    id &#39;java&#39;\r\n    id &#39;org.springframework.boot&#39; version &#39;3.0.6&#39;\r\n    id &#39;io.spring.dependency-management&#39; version &#39;1.1.0&#39;\r\n}\r\n\r\ngroup = &#39;com.security.web&#39;\r\nversion = &#39;0.0.1-SNAPSHOT&#39;\r\nsourceCompatibility = &#39;17&#39;\r\n```\r\n- to generate [Favicon.ico][1]\r\n\r\n- to edit *.html\r\n\r\n```html\r\n &lt;link rel=&quot;shortcut icon&quot; type=&quot;image/x-icon&quot; th:href=&quot;@{favicon.ico}&quot;/&gt;\r\n```\r\n\r\n- **src/main/resources/static/favicon.ico**\r\n\r\n- **spring security**\r\n\r\n```java\r\n@EnableWebFluxSecurity\r\n@Configuration\r\npublic class WebSecurityConfig {\r\n\r\n    @Bean\r\n    public PasswordEncoder passwordEncoder() {\r\n        return new BCryptPasswordEncoder();\r\n    }\r\n\r\n    @Bean\r\n    public SecurityWebFilterChain securityWebFilterChain(ServerHttpSecurity httpSecurity) {\r\n        return httpSecurity\r\n                .formLogin().and()\r\n                .httpBasic().disable()\r\n                .authorizeExchange()\r\n                .pathMatchers(&quot;/&quot;, &quot;/login&quot;, &quot;/signup&quot;).permitAll()\r\n                .pathMatchers(HttpMethod.POST, &quot;/api/users&quot;).permitAll()\r\n                .pathMatchers(&quot;/favicon.ico&quot;).permitAll()\r\n                .pathMatchers(HttpMethod.GET, &quot;/api/users/**&quot;).hasRole(&quot;ADMIN&quot;)\r\n                .anyExchange().authenticated()\r\n                .and()\r\n                .build();\r\n    }\r\n}\r\n```\r\n\r\n  [1]: https://www.favicon.cc/","title":"Spring Boot custom favicon.ico not showing","body":"<ul>\n<li><strong>Spring boot</strong></li>\n</ul>\n<pre><code>plugins {\n    id 'java'\n    id 'org.springframework.boot' version '3.0.6'\n    id 'io.spring.dependency-management' version '1.1.0'\n}\n\ngroup = 'com.security.web'\nversion = '0.0.1-SNAPSHOT'\nsourceCompatibility = '17'\n</code></pre>\n<ul>\n<li><p>to generate <a href=\"https://www.favicon.cc/\" rel=\"nofollow noreferrer\">Favicon.ico</a></p>\n</li>\n<li><p>to edit *.html</p>\n</li>\n</ul>\n<pre class=\"lang-html prettyprint-override\"><code> &lt;link rel=&quot;shortcut icon&quot; type=&quot;image/x-icon&quot; th:href=&quot;@{favicon.ico}&quot;/&gt;\n</code></pre>\n<ul>\n<li><p><strong>src/main/resources/static/favicon.ico</strong></p>\n</li>\n<li><p><strong>spring security</strong></p>\n</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>@EnableWebFluxSecurity\n@Configuration\npublic class WebSecurityConfig {\n\n    @Bean\n    public PasswordEncoder passwordEncoder() {\n        return new BCryptPasswordEncoder();\n    }\n\n    @Bean\n    public SecurityWebFilterChain securityWebFilterChain(ServerHttpSecurity httpSecurity) {\n        return httpSecurity\n                .formLogin().and()\n                .httpBasic().disable()\n                .authorizeExchange()\n                .pathMatchers(&quot;/&quot;, &quot;/login&quot;, &quot;/signup&quot;).permitAll()\n                .pathMatchers(HttpMethod.POST, &quot;/api/users&quot;).permitAll()\n                .pathMatchers(&quot;/favicon.ico&quot;).permitAll()\n                .pathMatchers(HttpMethod.GET, &quot;/api/users/**&quot;).hasRole(&quot;ADMIN&quot;)\n                .anyExchange().authenticated()\n                .and()\n                .build();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2348990,"reputation":3211,"user_id":2058368,"accept_rate":61,"display_name":"Sandeep Chatterjee"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697660137,"creation_date":1697659547,"answer_id":77319271,"question_id":46302090,"body_markdown":"**Spring Boot 3.1.4 Solution**\r\n\r\n    &lt;link rel=&quot;icon&quot; type=&quot;image/x-icon&quot; th:href=&quot;@{/assets/myfavicon.ico}&quot;/&gt;\r\n\r\n**Favicon Directory**\r\n\r\n    /src/main/resources/static/assets\r\n\r\n\r\n**Spring Security Configuration**\r\n\r\n    @Configuration\r\n    @EnableWebSecurity\r\n    public class SecurityConfiguration {\r\n    \r\n      ....\r\n      ....\r\n    \r\n      @Bean\r\n      public SecurityFilterChain myApplicationSecurityFilterChain(HttpSecurity httpSecurity) throws Exception {\r\n    \r\n        httpSecurity\r\n          .authorizeHttpRequests((requests) -&gt; requests\r\n            .requestMatchers(&quot;/&quot;, &quot;/assets/**&quot;).permitAll()\r\n            .anyRequest().authenticated()\r\n          )\r\n          ...\r\n          ...\r\n          return httpSecurity.build();\r\n      }\r\n    }\r\n\r\n","title":"Spring Boot custom favicon.ico not showing","body":"<p><strong>Spring Boot 3.1.4 Solution</strong></p>\n<pre><code>&lt;link rel=&quot;icon&quot; type=&quot;image/x-icon&quot; th:href=&quot;@{/assets/myfavicon.ico}&quot;/&gt;\n</code></pre>\n<p><strong>Favicon Directory</strong></p>\n<pre><code>/src/main/resources/static/assets\n</code></pre>\n<p><strong>Spring Security Configuration</strong></p>\n<pre><code>@Configuration\n@EnableWebSecurity\npublic class SecurityConfiguration {\n\n  ....\n  ....\n\n  @Bean\n  public SecurityFilterChain myApplicationSecurityFilterChain(HttpSecurity httpSecurity) throws Exception {\n\n    httpSecurity\n      .authorizeHttpRequests((requests) -&gt; requests\n        .requestMatchers(&quot;/&quot;, &quot;/assets/**&quot;).permitAll()\n        .anyRequest().authenticated()\n      )\n      ...\n      ...\n      return httpSecurity.build();\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":11320201,"reputation":603,"user_id":8300741,"display_name":"Johan Fredin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":29794,"favorite_count":0,"down_vote_count":0,"up_vote_count":18,"accepted_answer_id":46302536,"answer_count":12,"score":18,"last_activity_date":1697660137,"creation_date":1505828494,"question_id":46302090,"body_markdown":"I know this question has been asked over and over here and there are several solutions. I&#39;ve tried several of those except the ones that suggests writing you own configuration bean for this. I don&#39;t want to do all that just to display a tiny icon it seams overkill. But I can not get it to work. These are the solutions I&#39;ve tried so far.\r\n\r\n1. just add favicon.ico under static resources and it should work....it doesn&#39;t.\r\n2. spring.mvc.favicon.enabled=false in application.properties, no favicon showed at all (which I guess is the whole point of that).\r\n3. Tried 2 examples of including the favicon as a link in the html pages. Like so:\r\n    `\r\n&lt;link rel=&quot;icon&quot; type=&quot;image/png&quot; href=&quot;favicon.png&quot; /&gt;\r\n    &lt;link rel=&quot;icon&quot; type=&quot;image/x-icon&quot; href=&quot;favicon.ico&quot; /&gt;`\r\n\r\nNeither of those work. \r\n\r\n3. Tried renaming my own favicon to something else and reference it as above. Does not work. \r\n\r\nWhen inspecting the page in the browser I sometimes get no error at all printed out despite no icon showing, or I get an error saying `GET http://localhost:8080/myapp/favicon.png 404 ()` Where it is refering the type as JSON (which I find strange). \r\n\r\nI&#39;m running out of ideas here so if anyone can tell me why this is not working please let me know. Did I perhaps forget one of those magic spring annotations? \r\nThis is what my main class looks like.\r\n     \r\n\r\n    @SpringBootApplication \r\n    @ComponentScan\r\n    @Configuration\r\n    @EnableWebMvc\r\n    public class JobengineMonitorApplication implements CommandLineRunner {\r\n\t\r\n\t    public static void main(String[] args) {\r\n\t\t    SpringApplication.run(JobengineMonitorApplication.class, args);\r\n\t    }\r\n    \r\n     }\r\n\r\nI am using thymeleaf as the template engine\r\n\r\n\r\n\r\n","title":"Spring Boot custom favicon.ico not showing","body":"<p>I know this question has been asked over and over here and there are several solutions. I've tried several of those except the ones that suggests writing you own configuration bean for this. I don't want to do all that just to display a tiny icon it seams overkill. But I can not get it to work. These are the solutions I've tried so far.</p>\n\n<ol>\n<li>just add favicon.ico under static resources and it should work....it doesn't.</li>\n<li>spring.mvc.favicon.enabled=false in application.properties, no favicon showed at all (which I guess is the whole point of that).</li>\n<li>Tried 2 examples of including the favicon as a link in the html pages. Like so:\n<code>\n&lt;link rel=\"icon\" type=\"image/png\" href=\"favicon.png\" /&gt;\n&lt;link rel=\"icon\" type=\"image/x-icon\" href=\"favicon.ico\" /&gt;</code></li>\n</ol>\n\n<p>Neither of those work. </p>\n\n<ol start=\"3\">\n<li>Tried renaming my own favicon to something else and reference it as above. Does not work. </li>\n</ol>\n\n<p>When inspecting the page in the browser I sometimes get no error at all printed out despite no icon showing, or I get an error saying <code>GET http://localhost:8080/myapp/favicon.png 404 ()</code> Where it is refering the type as JSON (which I find strange). </p>\n\n<p>I'm running out of ideas here so if anyone can tell me why this is not working please let me know. Did I perhaps forget one of those magic spring annotations? \nThis is what my main class looks like.</p>\n\n<pre><code>@SpringBootApplication \n@ComponentScan\n@Configuration\n@EnableWebMvc\npublic class JobengineMonitorApplication implements CommandLineRunner {\n\n    public static void main(String[] args) {\n        SpringApplication.run(JobengineMonitorApplication.class, args);\n    }\n\n }\n</code></pre>\n\n<p>I am using thymeleaf as the template engine</p>\n"},{"tags":["java","sql-server","jdbc"],"comments":[{"owner":{"account_id":9851857,"reputation":82584,"user_id":7297700,"display_name":"David Browne - Microsoft"},"score":0,"creation_date":1697659038,"post_id":77319160,"comment_id":136309165,"body_markdown":"Did you follow the doc here: https://learn.microsoft.com/en-us/sql/connect/jdbc/using-ntlm-authentication-to-connect-to-sql-server?view=sql-server-ver16 ?","body":"Did you follow the doc here: <a href=\"https://learn.microsoft.com/en-us/sql/connect/jdbc/using-ntlm-authentication-to-connect-to-sql-server?view=sql-server-ver16\" rel=\"nofollow noreferrer\">learn.microsoft.com/en-us/sql/connect/jdbc/&hellip;</a> ?"},{"owner":{"account_id":17972905,"reputation":5290,"user_id":13061224,"display_name":"siggemannen"},"score":0,"creation_date":1697711343,"post_id":77319160,"comment_id":136315409,"body_markdown":"Are you using msjdbc or jtds","body":"Are you using msjdbc or jtds"},{"owner":{"account_id":28066223,"reputation":1,"user_id":21439576,"display_name":"Burrito "},"score":0,"creation_date":1697754652,"post_id":77319160,"comment_id":136323100,"body_markdown":"I’m using msjdbc and I had tried what David suggested but kept getting an exception saying the login is from an untrusted domain and cannot be used with integrated authentication even though the domain was trusted. It turns out the service account was locked and once it was unlocked I was able to connect. The error message certainly could use some improvement and I’d have saved a lot of time.","body":"I’m using msjdbc and I had tried what David suggested but kept getting an exception saying the login is from an untrusted domain and cannot be used with integrated authentication even though the domain was trusted. It turns out the service account was locked and once it was unlocked I was able to connect. The error message certainly could use some improvement and I’d have saved a lot of time."},{"owner":{"account_id":9524880,"reputation":458,"user_id":7078384,"accept_rate":75,"display_name":"Fredy Fischer"},"score":0,"creation_date":1697888277,"post_id":77319160,"comment_id":136337735,"body_markdown":"Have you tried to use it with runas? We are struggeling with such things since longer and to use runas was the only working solution we found.","body":"Have you tried to use it with runas? We are struggeling with such things since longer and to use runas was the only working solution we found."}],"owner":{"account_id":28066223,"reputation":1,"user_id":21439576,"display_name":"Burrito "},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697659328,"creation_date":1697658119,"question_id":77319160,"body_markdown":"I have a Java application that needs to connect to a SQL Server database using a domain account and windows authentication. The domain account that needs to connect is not the logged on user on the server. Is it possible to use this account and still connect? \r\n\r\nI&#39;ve tried `integratedSecurity=true;useNTLMv2=true;domain=myDomain;user=myDomainUser;password=myPassword` but it still uses the logged on user and the connection fails. Anyway around this? ","title":"JDBC connection to SQL Server using Windows Authentication for a different user","body":"<p>I have a Java application that needs to connect to a SQL Server database using a domain account and windows authentication. The domain account that needs to connect is not the logged on user on the server. Is it possible to use this account and still connect?</p>\n<p>I've tried <code>integratedSecurity=true;useNTLMv2=true;domain=myDomain;user=myDomainUser;password=myPassword</code> but it still uses the logged on user and the connection fails. Anyway around this?</p>\n"},{"tags":["java","data-conversion","primitive","boxing"],"comments":[{"owner":{"account_id":1960454,"reputation":44539,"user_id":1762224,"accept_rate":61,"display_name":"Mr. Polywhirl"},"score":3,"creation_date":1697222546,"post_id":77290017,"comment_id":136257747,"body_markdown":"Because it is easier to &quot;upgrade&quot; an integer to a float. If you go the other way, you sacrifice precision. As you described, this is a lossy conversion.","body":"Because it is easier to &quot;upgrade&quot; an integer to a float. If you go the other way, you sacrifice precision. As you described, this is a lossy conversion."},{"owner":{"account_id":2787344,"reputation":14687,"user_id":2398375,"accept_rate":75,"display_name":"Vince"},"score":0,"creation_date":1697222896,"post_id":77290017,"comment_id":136257804,"body_markdown":"@Mr.Polywhirl So why wouldn&#39;t we get a lossy conversion message, as expected? Why is it a type error? Why does unboxing occur with `Integer -&gt; double`, but doesn&#39;t seem to occur with `Double -&gt; int`? That&#39;s the question I&#39;m asking","body":"@Mr.Polywhirl So why wouldn&#39;t we get a lossy conversion message, as expected? Why is it a type error? Why does unboxing occur with <code>Integer -&gt; double</code>, but doesn&#39;t seem to occur with <code>Double -&gt; int</code>? That&#39;s the question I&#39;m asking"},{"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":2,"creation_date":1697223084,"post_id":77290017,"comment_id":136257828,"body_markdown":"Why should it try unboxing, if it knows it&#39;ll still get a type error at the other end?","body":"Why should it try unboxing, if it knows it&#39;ll still get a type error at the other end?"},{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":0,"creation_date":1697223482,"post_id":77290017,"comment_id":136257895,"body_markdown":"double-to-int and Double-to-int are lossy conversions. Originally there was just a double-to-int giving C++ like warning. But nowadays a simple `(int)` cast is the expected style. Hence for Double-to-int no effort was made to just allow this unclear and indirect two-step conversion. _Of course I was not present at the language design, but one would need to do implicitly `(int)(double)`._","body":"double-to-int and Double-to-int are lossy conversions. Originally there was just a double-to-int giving C++ like warning. But nowadays a simple <code>(int)</code> cast is the expected style. Hence for Double-to-int no effort was made to just allow this unclear and indirect two-step conversion. <i>Of course I was not present at the language design, but one would need to do implicitly <code>(int)(double)</code>.</i>"},{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1697225135,"post_id":77290017,"comment_id":136258142,"body_markdown":"&quot;Why did they design it this way&quot;-questions are opinion based, and off-topic","body":"&quot;Why did they design it this way&quot;-questions are opinion based, and off-topic"},{"owner":{"account_id":2787344,"reputation":14687,"user_id":2398375,"accept_rate":75,"display_name":"Vince"},"score":0,"creation_date":1697409530,"post_id":77290017,"comment_id":136272838,"body_markdown":"@Jorn I&#39;m not asking why they designed it this way. I&#39;ve updated my question.","body":"@Jorn I&#39;m not asking why they designed it this way. I&#39;ve updated my question."},{"owner":{"account_id":2787344,"reputation":14687,"user_id":2398375,"accept_rate":75,"display_name":"Vince"},"score":0,"creation_date":1697409552,"post_id":77290017,"comment_id":136272840,"body_markdown":"@OleV.V. I&#39;m not asking about widening/narrowing. I&#39;ve updated my question.","body":"@OleV.V. I&#39;m not asking about widening/narrowing. I&#39;ve updated my question."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1697430253,"post_id":77290017,"comment_id":136274170,"body_markdown":"Thanks for the edit. To me it boils down to why the error message was put the way it was. I tend to agree that it’s imprecise, but it’s not wrong. Asking why `Double` isn’t unboxed in a code line that cannot be compiled at all doesn’t make sense to me.","body":"Thanks for the edit. To me it boils down to why the error message was put the way it was. I tend to agree that it’s imprecise, but it’s not wrong. Asking why <code>Double</code> isn’t unboxed in a code line that cannot be compiled at all doesn’t make sense to me."}],"answers":[{"comments":[{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1697241235,"post_id":77290109,"comment_id":136259748,"body_markdown":"Some valid points, _+1_.","body":"Some valid points, <i>+1</i>."},{"owner":{"account_id":2787344,"reputation":14687,"user_id":2398375,"accept_rate":75,"display_name":"Vince"},"score":0,"creation_date":1697409653,"post_id":77290109,"comment_id":136272851,"body_markdown":"I wasn&#39;t assuming `Double.valueOf(1)` accepted an `int`. I could have written `Double.valueOf(...)`. You keep talking as if you were the compiler or were looking through the eyes of the compiler , such as &quot;Java sees incompatible types&quot; and &quot;RHS is incompatible with LHS, so: no&quot;, but I&#39;m not looking for someone&#39;s perspective on it, rather a snippit from the devs themselves that explain the behavior. Do you have a reference from the JLS that explains the behavior?","body":"I wasn&#39;t assuming <code>Double.valueOf(1)</code> accepted an <code>int</code>. I could have written <code>Double.valueOf(...)</code>. You keep talking as if you were the compiler or were looking through the eyes of the compiler , such as &quot;Java sees incompatible types&quot; and &quot;RHS is incompatible with LHS, so: no&quot;, but I&#39;m not looking for someone&#39;s perspective on it, rather a snippit from the devs themselves that explain the behavior. Do you have a reference from the JLS that explains the behavior?"},{"owner":{"account_id":384206,"reputation":50386,"user_id":740553,"accept_rate":46,"display_name":"Mike &#39;Pomax&#39; Kamermans"},"score":0,"creation_date":1697433984,"post_id":77290109,"comment_id":136274478,"body_markdown":"The docs. E.g. https://docs.oracle.com/javase/specs/jls/se7/html/jls-5.html and all the other ones explaining in more detail than anyone would ever want exactly how the compiler and JVM work. Java is _extremely_ exhaustively documented.","body":"The docs. E.g. <a href=\"https://docs.oracle.com/javase/specs/jls/se7/html/jls-5.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/specs/jls/se7/html/jls-5.html</a> and all the other ones explaining in more detail than anyone would ever want exactly how the compiler and JVM work. Java is <i>extremely</i> exhaustively documented."},{"owner":{"account_id":2787344,"reputation":14687,"user_id":2398375,"accept_rate":75,"display_name":"Vince"},"score":0,"creation_date":1697595852,"post_id":77290109,"comment_id":136298483,"body_markdown":"@Mike&#39;Pomax&#39;Kamermans I know, I was asking for the section that covered this rule","body":"@Mike&#39;Pomax&#39;Kamermans I know, I was asking for the section that covered this rule"},{"owner":{"account_id":384206,"reputation":50386,"user_id":740553,"accept_rate":46,"display_name":"Mike &#39;Pomax&#39; Kamermans"},"score":0,"creation_date":1697641415,"post_id":77290109,"comment_id":136306070,"body_markdown":"and lo and behold, _reading the documentation made you find it_. You&#39;re welcome.","body":"and lo and behold, <i>reading the documentation made you find it</i>. You&#39;re welcome."}],"tags":[],"owner":{"account_id":384206,"reputation":50386,"user_id":740553,"accept_rate":46,"display_name":"Mike &#39;Pomax&#39; Kamermans"},"comment_count":5,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1697265701,"creation_date":1697223632,"answer_id":77290109,"question_id":77290017,"body_markdown":"`Double` only has two `valueOf` methods: [one for `String` input](https://docs.oracle.com/javase/8/docs/api/java/lang/Double.html#valueOf-java.lang.String-) and [one for `double` inputs](https://docs.oracle.com/javase/8/docs/api/java/lang/Double.html#valueOf-double-).\r\n\r\nSo, while you wrote `Double.valueOf(1)` where that `1` is clearly an `int`, the method signature is `valueOf(double)` so (if this were to even run) your `int` value would get upgraded to a `double` and _then_ the method runs. As such, your `int i = Double.valueOf(1)` is really `int i = Double.valueOf(1.0)` to which the Java compiler goes &quot;a double can&#39;t be safely converted to an int, so: no&quot;.\r\n\r\nAlthough of course, it doesn&#39;t even need to do that: it knows the return value for `Double.valueOf` is a `Double`, no matter what you&#39;ve put in, so it sees code that tries to assign a Double to an int, knows this is impossible, and without caring about anything else, it&#39;ll go &quot;RHS is incompatible with LHS, so: no&quot;. \r\n\r\nThough interestingly, &quot;_The[sic] creates the assumpsion[sic] that `Double -&gt; int` will also unbox_&quot; is both wrong (no value unboxing happens) and not entirely wrong (there&#39;s type &quot;unboxing&quot;). You&#39;re giving Java an assignment with types `int = Double`, Java sees incompatible types, but also knows that this is a primitive assignment and that `Double` can unbox to the primitive `double`. However, as that&#39;s still an incompatible assignment, Java nopes out with the original int/Double incompatibility error (so that you know &quot;what&#39;s wrong with your code&quot; rather than &quot;what&#39;s wrong in whatever code magic the parser applied&quot;)","title":"Integer -&gt; double unboxes, but Double -&gt; int doesn&#39;t unbox. Why?","body":"<p><code>Double</code> only has two <code>valueOf</code> methods: <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Double.html#valueOf-java.lang.String-\" rel=\"nofollow noreferrer\">one for <code>String</code> input</a> and <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Double.html#valueOf-double-\" rel=\"nofollow noreferrer\">one for <code>double</code> inputs</a>.</p>\n<p>So, while you wrote <code>Double.valueOf(1)</code> where that <code>1</code> is clearly an <code>int</code>, the method signature is <code>valueOf(double)</code> so (if this were to even run) your <code>int</code> value would get upgraded to a <code>double</code> and <em>then</em> the method runs. As such, your <code>int i = Double.valueOf(1)</code> is really <code>int i = Double.valueOf(1.0)</code> to which the Java compiler goes &quot;a double can't be safely converted to an int, so: no&quot;.</p>\n<p>Although of course, it doesn't even need to do that: it knows the return value for <code>Double.valueOf</code> is a <code>Double</code>, no matter what you've put in, so it sees code that tries to assign a Double to an int, knows this is impossible, and without caring about anything else, it'll go &quot;RHS is incompatible with LHS, so: no&quot;.</p>\n<p>Though interestingly, &quot;<em>The[sic] creates the assumpsion[sic] that <code>Double -&gt; int</code> will also unbox</em>&quot; is both wrong (no value unboxing happens) and not entirely wrong (there's type &quot;unboxing&quot;). You're giving Java an assignment with types <code>int = Double</code>, Java sees incompatible types, but also knows that this is a primitive assignment and that <code>Double</code> can unbox to the primitive <code>double</code>. However, as that's still an incompatible assignment, Java nopes out with the original int/Double incompatibility error (so that you know &quot;what's wrong with your code&quot; rather than &quot;what's wrong in whatever code magic the parser applied&quot;)</p>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697241158,"creation_date":1697232725,"answer_id":77290745,"question_id":77290017,"body_markdown":"&gt; _&quot;... This gives the same behavior as `int -&gt; double` ...&quot;_\r\n\r\nThat&#39;s what the conversion is.&amp;nbsp; The _Integer_ object is _un-boxed_ to an _int_.\\\r\nThere is never an _Integer_ to _double_.\r\n\r\n&gt; _&quot;... Assuming the `Double` gets unboxed, we should observe the same behavior as `double -&gt; int` ...&quot;_\r\n\r\nI don&#39;t expect that from _Java_ at all.\\\r\nAnd, unfortunately, I don&#39;t have the metrics.\r\n\r\nI imagine if the value can&#39;t _un-box_ and assign in a single operation, the compiler would fail.","title":"Integer -&gt; double unboxes, but Double -&gt; int doesn&#39;t unbox. Why?","body":"<blockquote>\n<p><em>&quot;... This gives the same behavior as <code>int -&gt; double</code> ...&quot;</em></p>\n</blockquote>\n<p>That's what the conversion is.  The <em>Integer</em> object is <em>un-boxed</em> to an <em>int</em>.<br />\nThere is never an <em>Integer</em> to <em>double</em>.</p>\n<blockquote>\n<p><em>&quot;... Assuming the <code>Double</code> gets unboxed, we should observe the same behavior as <code>double -&gt; int</code> ...&quot;</em></p>\n</blockquote>\n<p>I don't expect that from <em>Java</em> at all.<br />\nAnd, unfortunately, I don't have the metrics.</p>\n<p>I imagine if the value can't <em>un-box</em> and assign in a single operation, the compiler would fail.</p>\n"},{"comments":[{"owner":{"account_id":2787344,"reputation":14687,"user_id":2398375,"accept_rate":75,"display_name":"Vince"},"score":0,"creation_date":1697591017,"post_id":77298826,"comment_id":136298080,"body_markdown":"&quot;It doesnt exist&quot;, that&#39;s not true. It&#39;s under conversion context, someone on Discord helped me find it. https://docs.oracle.com/javase/specs/jls/se21/html/jls-5.html#jls-5.5","body":"&quot;It doesnt exist&quot;, that&#39;s not true. It&#39;s under conversion context, someone on Discord helped me find it. <a href=\"https://docs.oracle.com/javase/specs/jls/se21/html/jls-5.html#jls-5.5\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/specs/jls/se21/html/jls-5.html#jls-5.&zwnj;&#8203;5</a>"},{"owner":{"account_id":61566,"reputation":68934,"user_id":183406,"accept_rate":74,"display_name":"meriton"},"score":0,"creation_date":1697595982,"post_id":77298826,"comment_id":136298496,"body_markdown":"As your link puts it: &quot;Casting contexts allow the operand of a cast expression (&#167;15.16) to be converted to the type explicitly named by the cast operator. Compared to assignment contexts and invocation contexts, casting contexts allow the use of more of the conversions defined in &#167;5.1, and allow more combinations of those conversions.&quot;","body":"As your link puts it: &quot;Casting contexts allow the operand of a cast expression (&#167;15.16) to be converted to the type explicitly named by the cast operator. Compared to assignment contexts and invocation contexts, casting contexts allow the use of more of the conversions defined in &#167;5.1, and allow more combinations of those conversions.&quot;"},{"owner":{"account_id":61566,"reputation":68934,"user_id":183406,"accept_rate":74,"display_name":"meriton"},"score":0,"creation_date":1697596065,"post_id":77298826,"comment_id":136298503,"body_markdown":"That is, that table describes how code using an explicit type cast is type checked. Your code doesn&#39;t use a cast operator, and therefore that table does not apply.","body":"That is, that table describes how code using an explicit type cast is type checked. Your code doesn&#39;t use a cast operator, and therefore that table does not apply."},{"owner":{"account_id":2787344,"reputation":14687,"user_id":2398375,"accept_rate":75,"display_name":"Vince"},"score":0,"creation_date":1697600586,"post_id":77298826,"comment_id":136298811,"body_markdown":"I understand the confusion with &quot;casting _expression_&quot;, but if that were the case, `Object obj = 5;` would require an explicit cast if the table only included explicit casts. It also includes implicit casts. It defines the rule for the conversion, explicit or implicit","body":"I understand the confusion with &quot;casting <i>expression</i>&quot;, but if that were the case, <code>Object obj = 5;</code> would require an explicit cast if the table only included explicit casts. It also includes implicit casts. It defines the rule for the conversion, explicit or implicit"}],"tags":[],"owner":{"account_id":61566,"reputation":68934,"user_id":183406,"accept_rate":74,"display_name":"meriton"},"comment_count":4,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1697413758,"creation_date":1697413758,"answer_id":77298826,"question_id":77290017,"body_markdown":"&gt; To avoid confusion, I&#39;m looking for the rule/JLS entry.\r\n&gt;\r\n&gt; - I&#39;m not asking why Double -&gt; int would fail, I&#39;m asking about the *way* it fails\r\n\r\nYou&#39;re asking for something which doesn&#39;t exist. \r\n\r\nThe Java Language Specification does not generally mandate the wording of compilation errors. In particular, the [relevant section](https://docs.oracle.com/javase/specs/jls/se21/html/jls-5.html#jls-5.2) of the Java Language Specification merely describes which implicit conversions are permitted in an assignment context, but does not enumerate the combinations of conversions that aren&#39;t permitted, let alone which error message should be given in each case (or how to choose the message if several cases apply). \r\n\r\nAll the specification mandates is that the compiler rejects invalid conversions, how it words the message is up to the compiler implementors, and different compilers actually emit different messages. \r\n\r\nFor instance, if you ask the Eclipse Compiler for Java to compile\r\n\r\n\tint i = Math.PI;\r\n\tint j = Double.valueOf(Math.PI);\r\n\r\nit says:\r\n\r\n```\r\nType mismatch: cannot convert from double to int\r\nType mismatch: cannot convert from Double to int\r\n```","title":"Integer -&gt; double unboxes, but Double -&gt; int doesn&#39;t unbox. Why?","body":"<blockquote>\n<p>To avoid confusion, I'm looking for the rule/JLS entry.</p>\n<ul>\n<li>I'm not asking why Double -&gt; int would fail, I'm asking about the <em>way</em> it fails</li>\n</ul>\n</blockquote>\n<p>You're asking for something which doesn't exist.</p>\n<p>The Java Language Specification does not generally mandate the wording of compilation errors. In particular, the <a href=\"https://docs.oracle.com/javase/specs/jls/se21/html/jls-5.html#jls-5.2\" rel=\"nofollow noreferrer\">relevant section</a> of the Java Language Specification merely describes which implicit conversions are permitted in an assignment context, but does not enumerate the combinations of conversions that aren't permitted, let alone which error message should be given in each case (or how to choose the message if several cases apply).</p>\n<p>All the specification mandates is that the compiler rejects invalid conversions, how it words the message is up to the compiler implementors, and different compilers actually emit different messages.</p>\n<p>For instance, if you ask the Eclipse Compiler for Java to compile</p>\n<pre><code>int i = Math.PI;\nint j = Double.valueOf(Math.PI);\n</code></pre>\n<p>it says:</p>\n<pre><code>Type mismatch: cannot convert from double to int\nType mismatch: cannot convert from Double to int\n</code></pre>\n"},{"comments":[{"owner":{"account_id":61566,"reputation":68934,"user_id":183406,"accept_rate":74,"display_name":"meriton"},"score":0,"creation_date":1697596349,"post_id":77312980,"comment_id":136298516,"body_markdown":"That table shows allowed conversions in a &quot;casting context&quot;. For instance, this table shows you that `(int) Double.valueOf(1)` does not compile. But your code doesn&#39;t use a cast operator, but a plain assignment, i.e. `int i = Double.valueOf(1)`, for which different rules apply.","body":"That table shows allowed conversions in a &quot;casting context&quot;. For instance, this table shows you that <code>(int) Double.valueOf(1)</code> does not compile. But your code doesn&#39;t use a cast operator, but a plain assignment, i.e. <code>int i = Double.valueOf(1)</code>, for which different rules apply."},{"owner":{"account_id":2787344,"reputation":14687,"user_id":2398375,"accept_rate":75,"display_name":"Vince"},"score":0,"creation_date":1697599363,"post_id":77312980,"comment_id":136298739,"body_markdown":"@meriton it doesn&#39;t need a cast operator, cause implicit casting exists","body":"@meriton it doesn&#39;t need a cast operator, cause implicit casting exists"}],"tags":[],"owner":{"account_id":2787344,"reputation":14687,"user_id":2398375,"accept_rate":75,"display_name":"Vince"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1697657710,"creation_date":1697591422,"answer_id":77312980,"question_id":77290017,"body_markdown":"There&#39;s a table showing allowed conversions within [&#167;5.5](https://docs.oracle.com/javase/specs/jls/se21/html/jls-5.html#jls-5.5):\r\n\r\n&gt; - signifies no conversion allowed\r\n&gt; - ω signifies widening primitive conversion\r\n&gt; - ⊗ signifies unboxing conversion\r\n\r\n[![enter image description here][1]][1]\r\n\r\nThe table shows `Integer -&gt; double` performs unboxing &amp; widening conversions, but `Double -&gt; int` does not perform unboxing.\r\n\r\nSince unboxing doesn&#39;t occur, we get a type error rather than a lossy conversion error.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/9yHdw.jpg","title":"Integer -&gt; double unboxes, but Double -&gt; int doesn&#39;t unbox. Why?","body":"<p>There's a table showing allowed conversions within <a href=\"https://docs.oracle.com/javase/specs/jls/se21/html/jls-5.html#jls-5.5\" rel=\"nofollow noreferrer\">§5.5</a>:</p>\n<blockquote>\n<ul>\n<li>signifies no conversion allowed</li>\n<li>ω signifies widening primitive conversion</li>\n<li>⊗ signifies unboxing conversion</li>\n</ul>\n</blockquote>\n<p><a href=\"https://i.stack.imgur.com/9yHdw.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/9yHdw.jpg\" alt=\"enter image description here\" /></a></p>\n<p>The table shows <code>Integer -&gt; double</code> performs unboxing &amp; widening conversions, but <code>Double -&gt; int</code> does not perform unboxing.</p>\n<p>Since unboxing doesn't occur, we get a type error rather than a lossy conversion error.</p>\n"}],"owner":{"account_id":2787344,"reputation":14687,"user_id":2398375,"accept_rate":75,"display_name":"Vince"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":186,"favorite_count":0,"down_vote_count":1,"up_vote_count":5,"accepted_answer_id":77312980,"answer_count":4,"score":4,"last_activity_date":1697657710,"creation_date":1697222394,"question_id":77290017,"body_markdown":"To avoid confusion, I&#39;m looking for the rule/JLS entry.\r\n\r\n- I&#39;m not asking why `Double -&gt; int` would fail, I&#39;m asking about the _way_ it fails\r\n\r\n- I&#39;m aware of the lossy conversion, as I&#39;ve mentioned in my question - I&#39;m not asking about data loss between `double -&gt; int`\r\n\r\n\r\n- I&#39;m not asking for someone&#39;s &quot;best guess&quot; on why the developers designed it this way\r\n\r\nI&#39;m asking why `Integer -&gt; double` performs a conversion (unbox &amp; widening), while `Double -&gt; int` performs no conversion (not even unboxing)\r\n\r\nI&#39;m looking for the JLS entry that mentions this `Reference -&gt; primitive` conversion inconsistency, where unboxing occurs in one situation, but not the other.\r\n\r\n___\r\n\r\nThis `Integer -&gt; double` conversion compiles with no error\r\n\r\n    double d = Integer.valueOf(1);\r\n\r\nIt implies the following occurs:\r\n\r\n  1) `Integer` is [unboxed](https://docs.oracle.com/javase/specs/jls/se21/html/jls-5.html#jls-5.1.8) to `int`\r\n  2) the `int` value undergoes a [widening primitive conversion](https://docs.oracle.com/javase/specs/jls/se21/html/jls-5.html#jls-5.1.2) from `int -&gt; double`\r\n\r\n`Integer` is unboxed. The unboxed value is then widened. This gives the same behavior as `int -&gt; double`\r\n\r\n___\r\n\r\nThe creates the assumpsion that `Double -&gt; int` will also unbox, giving the same behavior as `double -&gt; int`\r\n\r\nFor the code \r\n\r\n    int i = Double.valueOf(1);\r\n\r\nI would expect the error message\r\n\r\n&gt; lossy conversion from double to int\r\n\r\nAssuming the `Double` gets unboxed, we should observe the same behavior as `double -&gt; int`\r\n\r\nInstead, we get a typing error\r\n\r\n&gt; Cannot convert Double to int\r\n\r\n___\r\n\r\nWhat is the explanation behind this behavior?\r\n\r\nWhy does unboxing occur between `Integer -&gt; double`, but no unboxing occurs between `Double -&gt; int`?\r\n\r\nWhy are these congruent:\r\n\r\n  - `Integer -&gt; double`\r\n  - `int -&gt; double`\r\n\r\nBut these aren&#39;t:\r\n\r\n  - `Double -&gt; int`\r\n  - `double -&gt; int`","title":"Integer -&gt; double unboxes, but Double -&gt; int doesn&#39;t unbox. Why?","body":"<p>To avoid confusion, I'm looking for the rule/JLS entry.</p>\n<ul>\n<li><p>I'm not asking why <code>Double -&gt; int</code> would fail, I'm asking about the <em>way</em> it fails</p>\n</li>\n<li><p>I'm aware of the lossy conversion, as I've mentioned in my question - I'm not asking about data loss between <code>double -&gt; int</code></p>\n</li>\n<li><p>I'm not asking for someone's &quot;best guess&quot; on why the developers designed it this way</p>\n</li>\n</ul>\n<p>I'm asking why <code>Integer -&gt; double</code> performs a conversion (unbox &amp; widening), while <code>Double -&gt; int</code> performs no conversion (not even unboxing)</p>\n<p>I'm looking for the JLS entry that mentions this <code>Reference -&gt; primitive</code> conversion inconsistency, where unboxing occurs in one situation, but not the other.</p>\n<hr />\n<p>This <code>Integer -&gt; double</code> conversion compiles with no error</p>\n<pre><code>double d = Integer.valueOf(1);\n</code></pre>\n<p>It implies the following occurs:</p>\n<ol>\n<li><code>Integer</code> is <a href=\"https://docs.oracle.com/javase/specs/jls/se21/html/jls-5.html#jls-5.1.8\" rel=\"nofollow noreferrer\">unboxed</a> to <code>int</code></li>\n<li>the <code>int</code> value undergoes a <a href=\"https://docs.oracle.com/javase/specs/jls/se21/html/jls-5.html#jls-5.1.2\" rel=\"nofollow noreferrer\">widening primitive conversion</a> from <code>int -&gt; double</code></li>\n</ol>\n<p><code>Integer</code> is unboxed. The unboxed value is then widened. This gives the same behavior as <code>int -&gt; double</code></p>\n<hr />\n<p>The creates the assumpsion that <code>Double -&gt; int</code> will also unbox, giving the same behavior as <code>double -&gt; int</code></p>\n<p>For the code</p>\n<pre><code>int i = Double.valueOf(1);\n</code></pre>\n<p>I would expect the error message</p>\n<blockquote>\n<p>lossy conversion from double to int</p>\n</blockquote>\n<p>Assuming the <code>Double</code> gets unboxed, we should observe the same behavior as <code>double -&gt; int</code></p>\n<p>Instead, we get a typing error</p>\n<blockquote>\n<p>Cannot convert Double to int</p>\n</blockquote>\n<hr />\n<p>What is the explanation behind this behavior?</p>\n<p>Why does unboxing occur between <code>Integer -&gt; double</code>, but no unboxing occurs between <code>Double -&gt; int</code>?</p>\n<p>Why are these congruent:</p>\n<ul>\n<li><code>Integer -&gt; double</code></li>\n<li><code>int -&gt; double</code></li>\n</ul>\n<p>But these aren't:</p>\n<ul>\n<li><code>Double -&gt; int</code></li>\n<li><code>double -&gt; int</code></li>\n</ul>\n"},{"tags":["java","spring","spring-boot","email","jakarta-mail"],"comments":[{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1688364500,"post_id":76601476,"comment_id":135059052,"body_markdown":"Please add your dependencies (your pom.xml or build.gradle).","body":"Please add your dependencies (your pom.xml or build.gradle)."},{"owner":{"account_id":467926,"reputation":77,"user_id":873597,"display_name":"petula"},"score":0,"creation_date":1688423877,"post_id":76601476,"comment_id":135069791,"body_markdown":"Thanks I have added pom.xml @m-deinum","body":"Thanks I have added pom.xml @m-deinum"},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1688449716,"post_id":76601476,"comment_id":135071772,"body_markdown":"Can you provide the full stacktrace as well? How are you running this as a standalone server or deploy it to something else?","body":"Can you provide the full stacktrace as well? How are you running this as a standalone server or deploy it to something else?"},{"owner":{"account_id":467926,"reputation":77,"user_id":873597,"display_name":"petula"},"score":0,"creation_date":1688596015,"post_id":76601476,"comment_id":135096446,"body_markdown":"it is a springboot application is its run as a standalone server. will edit the stacktrace above for full - thanks","body":"it is a springboot application is its run as a standalone server. will edit the stacktrace above for full - thanks"},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1688622428,"post_id":76601476,"comment_id":135098733,"body_markdown":"Could you add the output (or link to gist to the output) of `mvn dependency:tree`? You are using the `spring-boot-maven-plugin` to build the runnable jar? And not mess around with shade plugins etc. to do it yourself or worse export from the IDE?","body":"Could you add the output (or link to gist to the output) of <code>mvn dependency:tree</code>? You are using the <code>spring-boot-maven-plugin</code> to build the runnable jar? And not mess around with shade plugins etc. to do it yourself or worse export from the IDE?"},{"owner":{"account_id":467926,"reputation":77,"user_id":873597,"display_name":"petula"},"score":0,"creation_date":1689018852,"post_id":76601476,"comment_id":135151270,"body_markdown":"i have added the mvn dependency:tree output, yes we use the spring-boot-maven-plugin to build the runnable jar","body":"i have added the mvn dependency:tree output, yes we use the spring-boot-maven-plugin to build the runnable jar"},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1689052918,"post_id":76601476,"comment_id":135154607,"body_markdown":"I don&#39;t see anything obviously wrong. One thing that is weird is that your `spring-boot-starter-test` has a `compile` dependency` instead of `test`. Is there anything special on how you run the application?","body":"I don&#39;t see anything obviously wrong. One thing that is weird is that your <code>spring-boot-starter-test</code> has a <code>compile</code> dependency` instead of <code>test</code>. Is there anything special on how you run the application?"},{"owner":{"account_id":467926,"reputation":77,"user_id":873597,"display_name":"petula"},"score":0,"creation_date":1689114696,"post_id":76601476,"comment_id":135166910,"body_markdown":"oh no I think I have just forgotten to mark the scope of spring-boot-starter-test to test ! Application is run in a docker container but even if I run it via Intellij IDE it still gives that error when I try to send mail. Thanks anyway","body":"oh no I think I have just forgotten to mark the scope of spring-boot-starter-test to test ! Application is run in a docker container but even if I run it via Intellij IDE it still gives that error when I try to send mail. Thanks anyway"}],"answers":[{"comments":[{"owner":{"account_id":467926,"reputation":77,"user_id":873597,"display_name":"petula"},"score":0,"creation_date":1689822553,"post_id":76717728,"comment_id":135268775,"body_markdown":"Thank you so much, that worked for me - I hope there would be a patch soon!","body":"Thank you so much, that worked for me - I hope there would be a patch soon!"}],"tags":[],"owner":{"account_id":2826194,"reputation":10795,"user_id":2428802,"display_name":"jmehrens"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1689736240,"creation_date":1689736240,"answer_id":76717728,"question_id":76601476,"body_markdown":"Use the workaround described in: [665 - Jakarta Mail erroneously assumes that classes can be loaded from Thread#getContextClassLoader][1] which is to manipulate the context class loader during your call.\r\n\r\n    @Service\r\n    public class MailerService {\r\n\r\n    @Autowired\r\n    public JavaMailSender javaMailSender;\r\n\r\n    public void sendEmail(String toAddress, String subject, String body, boolean error) throws MessagingException {\r\n\r\n        MimeMessagePreparator preparator = mimeMessage -&gt; {\r\n            final Address recipient = new InternetAddress(toAddress);\r\n            mimeMessage.setFrom(new InternetAddress(fromAddress));\r\n            mimeMessage.setRecipient(Message.RecipientType.TO, recipient);\r\n            mimeMessage.setSentDate(new Date());\r\n            mimeMessage.setSubject(subject);\r\n            mimeMessage.setText(body);\r\n        };\r\n\r\n        // Send the e-mail\r\n        Thread t = Thread.currentThread();\r\n        ClassLoader orig = t.getContextClassLoader();\r\n        t.setContextClassLoader(InternetAddress.class.getClassLoader());\r\n        try {\r\n            javaMailSender.send(preparator);\r\n        } finally {\r\n            t.setContextClassLoader(orig);\r\n        }\r\n \r\n\r\nI&#39;m assuming that the InternetAddress.class is in the same classloader as the SMTP provider classes.  If that is not the case they you have to try other classloaders.\r\n\r\n\r\n  [1]: https://github.com/jakartaee/mail-api/issues/665","title":"Spring-boot-starter-mail 3.1.1 throws &quot;Not provider of jakarta.mail.util.StreamProvider was found&quot;","body":"<p>Use the workaround described in: <a href=\"https://github.com/jakartaee/mail-api/issues/665\" rel=\"nofollow noreferrer\">665 - Jakarta Mail erroneously assumes that classes can be loaded from Thread#getContextClassLoader</a> which is to manipulate the context class loader during your call.</p>\n<pre><code>@Service\npublic class MailerService {\n\n@Autowired\npublic JavaMailSender javaMailSender;\n\npublic void sendEmail(String toAddress, String subject, String body, boolean error) throws MessagingException {\n\n    MimeMessagePreparator preparator = mimeMessage -&gt; {\n        final Address recipient = new InternetAddress(toAddress);\n        mimeMessage.setFrom(new InternetAddress(fromAddress));\n        mimeMessage.setRecipient(Message.RecipientType.TO, recipient);\n        mimeMessage.setSentDate(new Date());\n        mimeMessage.setSubject(subject);\n        mimeMessage.setText(body);\n    };\n\n    // Send the e-mail\n    Thread t = Thread.currentThread();\n    ClassLoader orig = t.getContextClassLoader();\n    t.setContextClassLoader(InternetAddress.class.getClassLoader());\n    try {\n        javaMailSender.send(preparator);\n    } finally {\n        t.setContextClassLoader(orig);\n    }\n</code></pre>\n<p>I'm assuming that the InternetAddress.class is in the same classloader as the SMTP provider classes.  If that is not the case they you have to try other classloaders.</p>\n"},{"tags":[],"owner":{"account_id":19573835,"reputation":11,"user_id":14324358,"display_name":"Gabriel Bornia"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697563038,"creation_date":1697563038,"answer_id":77311004,"question_id":76601476,"body_markdown":"Just in case you tried the other comments in here and still got the same issue.\r\n\r\nI tried the replacement of the context class loader to no avail, always getting the &quot;Not provider of jakarta.mail.util.StreamProvider was found&quot; error message.\r\n\r\nAfter analyzing the dependencies I noticed that another lib I was loading was bringing the `jakarta.mail:jakarta.mail-api:2.1.2` and I was including `sun.com.mail:jakarta.mail:2.1.0` which implements `jakarta.mail:jakarta.mail-api:2.1.0`.\r\n\r\nAll I had to do is make sure that both matched (either by removing the jar from the other one, or making sure it got overwritten):\r\n\r\n```\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;jakarta.mail&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jakarta.mail-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.0.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.sun.mail&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jakarta.mail&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.0.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n```\r\n\r\nI removed the class loader code suggested here, and it works. So instead of tweaking the class loader (as even suggested in https://github.com/jakartaee/mail-api/issues/665), make sure you have the correct versions before.","title":"Spring-boot-starter-mail 3.1.1 throws &quot;Not provider of jakarta.mail.util.StreamProvider was found&quot;","body":"<p>Just in case you tried the other comments in here and still got the same issue.</p>\n<p>I tried the replacement of the context class loader to no avail, always getting the &quot;Not provider of jakarta.mail.util.StreamProvider was found&quot; error message.</p>\n<p>After analyzing the dependencies I noticed that another lib I was loading was bringing the <code>jakarta.mail:jakarta.mail-api:2.1.2</code> and I was including <code>sun.com.mail:jakarta.mail:2.1.0</code> which implements <code>jakarta.mail:jakarta.mail-api:2.1.0</code>.</p>\n<p>All I had to do is make sure that both matched (either by removing the jar from the other one, or making sure it got overwritten):</p>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;jakarta.mail&lt;/groupId&gt;\n            &lt;artifactId&gt;jakarta.mail-api&lt;/artifactId&gt;\n            &lt;version&gt;2.0.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.sun.mail&lt;/groupId&gt;\n            &lt;artifactId&gt;jakarta.mail&lt;/artifactId&gt;\n            &lt;version&gt;2.0.1&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>I removed the class loader code suggested here, and it works. So instead of tweaking the class loader (as even suggested in <a href=\"https://github.com/jakartaee/mail-api/issues/665\" rel=\"nofollow noreferrer\">https://github.com/jakartaee/mail-api/issues/665</a>), make sure you have the correct versions before.</p>\n"}],"owner":{"account_id":467926,"reputation":77,"user_id":873597,"display_name":"petula"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2292,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76717728,"answer_count":2,"score":1,"last_activity_date":1697657678,"creation_date":1688349666,"question_id":76601476,"body_markdown":"I am upgrading my project from springboot 2.7.7 to springboot 3.1.1 and java 11 to 17\r\nI have spring-boot-starter-mail included as a dependency and I try to send mail as follows\r\n\r\n```\r\n@Service\r\npublic class MailerService {\r\n\r\n\t@Autowired\r\n\tpublic JavaMailSender javaMailSender;\r\n\r\n\tpublic void sendEmail(String toAddress, String subject, String body, boolean error) throws MessagingException {\r\n\r\n\t\tMimeMessagePreparator preparator = mimeMessage -&gt; {\r\n\t\t\tfinal Address recipient = new InternetAddress(toAddress);\r\n\t\t\tmimeMessage.setFrom(new InternetAddress(fromAddress));\r\n\t\t\tmimeMessage.setRecipient(Message.RecipientType.TO, recipient);\r\n\t\t\tmimeMessage.setSentDate(new Date());\r\n\t\t\tmimeMessage.setSubject(subject);\r\n\t\t\tmimeMessage.setText(body);\r\n\t\t};\r\n\r\n\t\t// Send the e-mail\r\n\t\tjavaMailSender.send(preparator);\r\n\r\n... other code...\r\n\r\n```\r\n\r\nAt javaMailSender.send I get the following exception:\r\n\r\n```\r\njava.lang.IllegalStateException: Not provider of jakarta.mail.util.StreamProvider was found\r\n0 = {StackTraceElement@19049} &quot;org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:387)&quot;\r\n1 = {StackTraceElement@19050} &quot;org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:366)&quot;\r\n2 = {StackTraceElement@19051} &quot;nz.co.niwa.bjs.service.MailerService.sendEmail(MailerService.java:44)&quot;\r\n3 = {StackTraceElement@19052} &quot;nz.co.niwa.bjs.service.MailerService.sendDataPointEmail(MailerService.java:54)&quot;\r\n4 = {StackTraceElement@19053} &quot;nz.co.niwa.bjs.service.BulkPointDataFetchService.uploadCSVAndSendEmail(BulkPointDataFetchService.java:421)&quot;\r\n5 = {StackTraceElement@19054} &quot;nz.co.niwa.bjs.service.BulkPointDataFetchService.lambda$retrieveForecastData$6(BulkPointDataFetchService.java:351)&quot;\r\n6 = {StackTraceElement@19055} &quot;java.base/java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:863)&quot;\r\n7 = {StackTraceElement@19056} &quot;java.base/java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:841)&quot;\r\n8 = {StackTraceElement@19057} &quot;java.base/java.util.concurrent.CompletableFuture$Completion.exec(CompletableFuture.java:483)&quot;\r\n9 = {StackTraceElement@19058} &quot;java.base/java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:373)&quot;\r\n10 = {StackTraceElement@19059} &quot;java.base/java.util.concurrent.ForkJoinPool$WorkQueue.topLevelExec(ForkJoinPool.java:1182)&quot;\r\n11 = {StackTraceElement@19060} &quot;java.base/java.util.concurrent.ForkJoinPool.scan(ForkJoinPool.java:1655)&quot;\r\n12 = {StackTraceElement@19061} &quot;java.base/java.util.concurrent.ForkJoinPool.runWorker(ForkJoinPool.java:1622)&quot;\r\n13 = {StackTraceElement@19062} &quot;java.base/java.util.concurrent.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:165)&quot;\r\n```\r\n\r\nHow can I fix this? Any help is appreciated.\r\nThank you\r\n\r\n\r\nEDIT: mvn:dependency tree\r\n```\r\n[INFO] --- maven-dependency-plugin:3.5.0:tree (default-cli) @ mintaka-bulk-task-service ---\r\n[INFO] nz.co.niwa.bjs:mintaka-bulk-task-service:jar:1.6.0-SNAPSHOT\r\n[INFO] +- org.springframework.boot:spring-boot-starter-actuator:jar:3.1.1:compile\r\n[INFO] |  +- org.springframework.boot:spring-boot-actuator-autoconfigure:jar:3.1.1:compile\r\n[INFO] |  |  \\- org.springframework.boot:spring-boot-actuator:jar:3.1.1:compile\r\n[INFO] |  +- io.micrometer:micrometer-observation:jar:1.11.1:compile\r\n[INFO] |  |  \\- io.micrometer:micrometer-commons:jar:1.11.1:compile\r\n[INFO] |  \\- io.micrometer:micrometer-core:jar:1.11.1:compile\r\n[INFO] |     +- org.hdrhistogram:HdrHistogram:jar:2.1.12:runtime\r\n[INFO] |     \\- org.latencyutils:LatencyUtils:jar:2.0.3:runtime\r\n[INFO] +- org.springframework.boot:spring-boot-starter-web:jar:3.1.1:compile\r\n[INFO] |  +- org.springframework.boot:spring-boot-starter-json:jar:3.1.1:compile\r\n[INFO] |  |  \\- com.fasterxml.jackson.module:jackson-module-parameter-names:jar:2.15.2:compile\r\n[INFO] |  +- org.springframework.boot:spring-boot-starter-tomcat:jar:3.1.1:compile\r\n[INFO] |  |  +- org.apache.tomcat.embed:tomcat-embed-core:jar:10.1.10:compile\r\n[INFO] |  |  \\- org.apache.tomcat.embed:tomcat-embed-websocket:jar:10.1.10:compile\r\n[INFO] |  +- org.springframework:spring-web:jar:6.0.10:compile\r\n[INFO] |  |  \\- org.springframework:spring-beans:jar:6.0.10:compile\r\n[INFO] |  \\- org.springframework:spring-webmvc:jar:6.0.10:compile\r\n[INFO] |     +- org.springframework:spring-aop:jar:6.0.10:compile\r\n[INFO] |     +- org.springframework:spring-context:jar:6.0.10:compile\r\n[INFO] |     \\- org.springframework:spring-expression:jar:6.0.10:compile\r\n[INFO] +- org.springframework.boot:spring-boot-starter-webflux:jar:3.1.1:compile\r\n[INFO] |  +- org.springframework.boot:spring-boot-starter-reactor-netty:jar:3.1.1:compile\r\n[INFO] |  |  \\- io.projectreactor.netty:reactor-netty-http:jar:1.1.8:compile\r\n[INFO] |  |     +- io.netty:netty-codec-http:jar:4.1.94.Final:compile\r\n[INFO] |  |     |  +- io.netty:netty-common:jar:4.1.94.Final:compile\r\n[INFO] |  |     |  +- io.netty:netty-buffer:jar:4.1.94.Final:compile\r\n[INFO] |  |     |  +- io.netty:netty-transport:jar:4.1.94.Final:compile\r\n[INFO] |  |     |  +- io.netty:netty-codec:jar:4.1.94.Final:compile\r\n[INFO] |  |     |  \\- io.netty:netty-handler:jar:4.1.94.Final:compile\r\n[INFO] |  |     +- io.netty:netty-codec-http2:jar:4.1.94.Final:compile\r\n[INFO] |  |     +- io.netty:netty-resolver-dns:jar:4.1.94.Final:compile\r\n[INFO] |  |     |  +- io.netty:netty-resolver:jar:4.1.94.Final:compile\r\n[INFO] |  |     |  \\- io.netty:netty-codec-dns:jar:4.1.94.Final:compile\r\n[INFO] |  |     +- io.netty:netty-resolver-dns-native-macos:jar:osx-x86_64:4.1.94.Final:compile\r\n[INFO] |  |     |  \\- io.netty:netty-resolver-dns-classes-macos:jar:4.1.94.Final:compile\r\n[INFO] |  |     +- io.netty:netty-transport-native-epoll:jar:linux-x86_64:4.1.94.Final:compile\r\n[INFO] |  |     |  +- io.netty:netty-transport-native-unix-common:jar:4.1.94.Final:compile\r\n[INFO] |  |     |  \\- io.netty:netty-transport-classes-epoll:jar:4.1.94.Final:compile\r\n[INFO] |  |     \\- io.projectreactor.netty:reactor-netty-core:jar:1.1.8:compile\r\n[INFO] |  |        \\- io.netty:netty-handler-proxy:jar:4.1.94.Final:compile\r\n[INFO] |  |           \\- io.netty:netty-codec-socks:jar:4.1.94.Final:compile\r\n[INFO] |  \\- org.springframework:spring-webflux:jar:6.0.10:compile\r\n[INFO] |     \\- io.projectreactor:reactor-core:jar:3.5.7:compile\r\n[INFO] |        \\- org.reactivestreams:reactive-streams:jar:1.0.4:compile\r\n[INFO] +- org.springframework.boot:spring-boot-starter-test:jar:3.1.1:compile\r\n[INFO] |  +- org.springframework.boot:spring-boot-test:jar:3.1.1:compile\r\n[INFO] |  +- org.springframework.boot:spring-boot-test-autoconfigure:jar:3.1.1:compile\r\n[INFO] |  +- com.jayway.jsonpath:json-path:jar:2.8.0:compile\r\n[INFO] |  +- jakarta.xml.bind:jakarta.xml.bind-api:jar:4.0.0:compile\r\n[INFO] |  |  \\- jakarta.activation:jakarta.activation-api:jar:2.1.2:compile\r\n[INFO] |  +- net.minidev:json-smart:jar:2.4.11:compile\r\n[INFO] |  |  \\- net.minidev:accessors-smart:jar:2.4.11:compile\r\n[INFO] |  |     \\- org.ow2.asm:asm:jar:9.3:compile\r\n[INFO] |  +- org.assertj:assertj-core:jar:3.24.2:compile\r\n[INFO] |  +- org.hamcrest:hamcrest:jar:2.2:compile\r\n[INFO] |  +- org.junit.jupiter:junit-jupiter:jar:5.9.3:compile\r\n[INFO] |  |  +- org.junit.jupiter:junit-jupiter-api:jar:5.9.3:compile\r\n[INFO] |  |  |  +- org.opentest4j:opentest4j:jar:1.2.0:compile\r\n[INFO] |  |  |  +- org.junit.platform:junit-platform-commons:jar:1.9.3:compile\r\n[INFO] |  |  |  \\- org.apiguardian:apiguardian-api:jar:1.1.2:compile\r\n[INFO] |  |  +- org.junit.jupiter:junit-jupiter-params:jar:5.9.3:compile\r\n[INFO] |  |  \\- org.junit.jupiter:junit-jupiter-engine:jar:5.9.3:runtime\r\n[INFO] |  |     \\- org.junit.platform:junit-platform-engine:jar:1.9.3:runtime\r\n[INFO] |  +- org.mockito:mockito-core:jar:5.3.1:compile\r\n[INFO] |  |  +- net.bytebuddy:byte-buddy-agent:jar:1.14.5:compile\r\n[INFO] |  |  \\- org.objenesis:objenesis:jar:3.3:runtime\r\n[INFO] |  +- org.mockito:mockito-junit-jupiter:jar:5.3.1:compile\r\n[INFO] |  +- org.skyscreamer:jsonassert:jar:1.5.1:compile\r\n[INFO] |  |  \\- com.vaadin.external.google:android-json:jar:0.0.20131108.vaadin1:compile\r\n[INFO] |  +- org.springframework:spring-core:jar:6.0.10:compile\r\n[INFO] |  |  \\- org.springframework:spring-jcl:jar:6.0.10:compile\r\n[INFO] |  +- org.springframework:spring-test:jar:6.0.10:compile\r\n[INFO] |  \\- org.xmlunit:xmlunit-core:jar:2.9.1:compile\r\n[INFO] +- io.awspring.cloud:spring-cloud-aws-starter:jar:3.0.1:compile\r\n[INFO] |  +- io.awspring.cloud:spring-cloud-aws-autoconfigure:jar:3.0.1:compile\r\n[INFO] |  +- io.awspring.cloud:spring-cloud-aws-core:jar:3.0.1:compile\r\n[INFO] |  |  +- software.amazon.awssdk:regions:jar:2.20.63:compile\r\n[INFO] |  |  |  +- software.amazon.awssdk:annotations:jar:2.20.63:compile\r\n[INFO] |  |  |  +- software.amazon.awssdk:utils:jar:2.20.63:compile\r\n[INFO] |  |  |  +- software.amazon.awssdk:sdk-core:jar:2.20.63:compile\r\n[INFO] |  |  |  +- software.amazon.awssdk:profiles:jar:2.20.63:compile\r\n[INFO] |  |  |  \\- software.amazon.awssdk:json-utils:jar:2.20.63:compile\r\n[INFO] |  |  |     \\- software.amazon.awssdk:third-party-jackson-core:jar:2.20.63:compile\r\n[INFO] |  |  \\- software.amazon.awssdk:auth:jar:2.20.63:compile\r\n[INFO] |  |     +- software.amazon.awssdk:http-client-spi:jar:2.20.63:compile\r\n[INFO] |  |     \\- software.amazon.eventstream:eventstream:jar:1.0.1:compile\r\n[INFO] |  \\- org.slf4j:slf4j-api:jar:2.0.7:compile\r\n[INFO] +- io.awspring.cloud:spring-cloud-aws-starter-sqs:jar:3.0.1:compile\r\n[INFO] |  \\- io.awspring.cloud:spring-cloud-aws-sqs:jar:3.0.1:compile\r\n[INFO] |     +- software.amazon.awssdk:sqs:jar:2.20.63:compile\r\n[INFO] |     |  +- software.amazon.awssdk:aws-query-protocol:jar:2.20.63:compile\r\n[INFO] |     |  +- software.amazon.awssdk:protocol-core:jar:2.20.63:compile\r\n[INFO] |     |  +- software.amazon.awssdk:aws-core:jar:2.20.63:compile\r\n[INFO] |     |  +- software.amazon.awssdk:metrics-spi:jar:2.20.63:compile\r\n[INFO] |     |  +- software.amazon.awssdk:endpoints-spi:jar:2.20.63:compile\r\n[INFO] |     |  +- software.amazon.awssdk:apache-client:jar:2.20.63:runtime\r\n[INFO] |     |  \\- software.amazon.awssdk:netty-nio-client:jar:2.20.63:runtime\r\n[INFO] |     +- software.amazon.awssdk:arns:jar:2.20.63:compile\r\n[INFO] |     \\- org.springframework:spring-messaging:jar:6.0.10:compile\r\n[INFO] +- io.awspring.cloud:spring-cloud-aws-starter-s3:jar:3.0.1:compile\r\n[INFO] |  +- io.awspring.cloud:spring-cloud-aws-s3:jar:3.0.1:compile\r\n[INFO] |  |  \\- software.amazon.awssdk:s3:jar:2.20.63:compile\r\n[INFO] |  |     +- software.amazon.awssdk:aws-xml-protocol:jar:2.20.63:compile\r\n[INFO] |  |     \\- software.amazon.awssdk:crt-core:jar:2.20.63:compile\r\n[INFO] |  \\- io.awspring.cloud:spring-cloud-aws-s3-cross-region-client:jar:3.0.1:compile\r\n[INFO] +- org.springframework.boot:spring-boot-starter-data-jpa:jar:3.1.1:compile\r\n[INFO] |  +- org.springframework.boot:spring-boot-starter-aop:jar:3.1.1:compile\r\n[INFO] |  |  \\- org.aspectj:aspectjweaver:jar:1.9.19:compile\r\n[INFO] |  +- org.springframework.boot:spring-boot-starter-jdbc:jar:3.1.1:compile\r\n[INFO] |  |  +- com.zaxxer:HikariCP:jar:5.0.1:compile\r\n[INFO] |  |  \\- org.springframework:spring-jdbc:jar:6.0.10:compile\r\n[INFO] |  +- org.springframework.data:spring-data-jpa:jar:3.1.1:compile\r\n[INFO] |  |  +- org.springframework.data:spring-data-commons:jar:3.1.1:compile\r\n[INFO] |  |  +- org.springframework:spring-orm:jar:6.0.10:compile\r\n[INFO] |  |  \\- org.springframework:spring-tx:jar:6.0.10:compile\r\n[INFO] |  \\- org.springframework:spring-aspects:jar:6.0.10:compile\r\n[INFO] +- org.springframework.boot:spring-boot-starter-mail:jar:3.1.1:compile\r\n[INFO] |  +- org.springframework:spring-context-support:jar:6.0.10:compile\r\n[INFO] |  \\- org.eclipse.angus:jakarta.mail:jar:1.1.0:compile\r\n[INFO] |     \\- org.eclipse.angus:angus-activation:jar:2.0.1:runtime\r\n[INFO] +- org.springframework.boot:spring-boot-starter-validation:jar:3.1.1:compile\r\n[INFO] |  +- org.apache.tomcat.embed:tomcat-embed-el:jar:10.1.10:compile\r\n[INFO] |  \\- org.hibernate.validator:hibernate-validator:jar:8.0.0.Final:compile\r\n[INFO] |     \\- jakarta.validation:jakarta.validation-api:jar:3.0.2:compile\r\n[INFO] +- org.springframework.boot:spring-boot-starter:jar:3.1.1:compile\r\n[INFO] |  +- org.springframework.boot:spring-boot:jar:3.1.1:compile\r\n[INFO] |  +- org.springframework.boot:spring-boot-autoconfigure:jar:3.1.1:compile\r\n[INFO] |  +- jakarta.annotation:jakarta.annotation-api:jar:2.1.1:compile\r\n[INFO] |  \\- org.yaml:snakeyaml:jar:1.33:compile\r\n[INFO] +- org.springframework.boot:spring-boot-starter-log4j2:jar:3.1.1:compile\r\n[INFO] |  +- org.apache.logging.log4j:log4j-slf4j2-impl:jar:2.20.0:compile\r\n[INFO] |  |  \\- org.apache.logging.log4j:log4j-api:jar:2.20.0:compile\r\n[INFO] |  +- org.apache.logging.log4j:log4j-core:jar:2.20.0:compile\r\n[INFO] |  \\- org.apache.logging.log4j:log4j-jul:jar:2.20.0:compile\r\n[INFO] +- org.apache.logging.log4j:log4j-layout-template-json:jar:2.20.0:compile\r\n[INFO] +- com.fasterxml.jackson.datatype:jackson-datatype-jdk8:jar:2.15.2:compile\r\n[INFO] |  \\- com.fasterxml.jackson.core:jackson-core:jar:2.15.2:compile\r\n[INFO] +- com.fasterxml.jackson.datatype:jackson-datatype-jsr310:jar:2.15.2:compile\r\n[INFO] |  \\- com.fasterxml.jackson.core:jackson-annotations:jar:2.15.2:compile\r\n[INFO] +- com.fasterxml.jackson.core:jackson-databind:jar:2.15.2:compile\r\n[INFO] +- com.fasterxml.jackson.dataformat:jackson-dataformat-yaml:jar:2.15.2:compile\r\n[INFO] +- nz.co.niwa:arcgis:jar:1.3.2:compile\r\n[INFO] |  +- org.apache.httpcomponents:httpclient:jar:4.5.13:compile\r\n[INFO] |  |  +- org.apache.httpcomponents:httpcore:jar:4.4.16:compile\r\n[INFO] |  |  \\- commons-logging:commons-logging:jar:1.2:compile\r\n[INFO] |  \\- org.apache.commons:commons-lang3:jar:3.12.0:compile\r\n[INFO] +- nz.co.niwa:clidb:jar:1.6.8:compile\r\n[INFO] |  +- junit:junit:jar:4.13.2:compile\r\n[INFO] |  +- com.oracle.jdbc:ojdbc7:jar:12.1.0.2:compile\r\n[INFO] |  |  +- com.oracle.jdbc:xdb6:jar:12.1.0.2:compile\r\n[INFO] |  |  +- com.oracle.jdbc:orai18n:jar:12.1.0.2:compile\r\n[INFO] |  |  +- com.oracle.jdbc:xmlparserv2:jar:12.1.0.2:compile\r\n[INFO] |  |  +- com.oracle.jdbc:oraclepki:jar:12.1.0.2:compile\r\n[INFO] |  |  +- com.oracle.jdbc:osdt_cert:jar:12.1.0.2:compile\r\n[INFO] |  |  \\- com.oracle.jdbc:osdt_core:jar:12.1.0.2:compile\r\n[INFO] |  \\- com.google.guava:guava:jar:30.0-jre:compile\r\n[INFO] |     +- com.google.guava:failureaccess:jar:1.0.1:compile\r\n[INFO] |     +- com.google.guava:listenablefuture:jar:9999.0-empty-to-avoid-conflict-with-guava:compile\r\n[INFO] |     +- com.google.code.findbugs:jsr305:jar:3.0.2:compile\r\n[INFO] |     +- org.checkerframework:checker-qual:jar:3.5.0:compile\r\n[INFO] |     +- com.google.errorprone:error_prone_annotations:jar:2.3.4:compile\r\n[INFO] |     \\- com.google.j2objc:j2objc-annotations:jar:1.3:compile\r\n[INFO] +- nz.co.niwa:aquarius:jar:2.0.8:compile\r\n[INFO] |  +- commons-codec:commons-codec:jar:1.15:compile\r\n[INFO] |  \\- org.bouncycastle:bcpkix-jdk15on:jar:1.70:compile\r\n[INFO] |     +- org.bouncycastle:bcprov-jdk15on:jar:1.70:compile\r\n[INFO] |     \\- org.bouncycastle:bcutil-jdk15on:jar:1.70:compile\r\n[INFO] +- org.mapstruct:mapstruct:jar:1.4.2.Final:compile\r\n[INFO] +- commons-collections:commons-collections:jar:3.2.2:compile\r\n[INFO] +- commons-io:commons-io:jar:2.11.0:compile\r\n[INFO] +- org.hibernate.orm:hibernate-core:jar:6.2.2.Final:compile\r\n[INFO] |  +- jakarta.persistence:jakarta.persistence-api:jar:3.1.0:compile\r\n[INFO] |  +- jakarta.transaction:jakarta.transaction-api:jar:2.0.1:compile\r\n[INFO] |  +- org.jboss.logging:jboss-logging:jar:3.5.1.Final:compile\r\n[INFO] |  +- org.hibernate.common:hibernate-commons-annotations:jar:6.0.6.Final:runtime\r\n[INFO] |  +- io.smallrye:jandex:jar:3.0.5:runtime\r\n[INFO] |  +- com.fasterxml:classmate:jar:1.5.1:compile\r\n[INFO] |  +- net.bytebuddy:byte-buddy:jar:1.14.5:compile\r\n[INFO] |  +- org.glassfish.jaxb:jaxb-runtime:jar:4.0.3:runtime\r\n[INFO] |  |  \\- org.glassfish.jaxb:jaxb-core:jar:4.0.3:runtime\r\n[INFO] |  |     +- org.glassfish.jaxb:txw2:jar:4.0.3:runtime\r\n[INFO] |  |     \\- com.sun.istack:istack-commons-runtime:jar:4.1.2:runtime\r\n[INFO] |  +- jakarta.inject:jakarta.inject-api:jar:2.0.1:runtime\r\n[INFO] |  \\- org.antlr:antlr4-runtime:jar:4.10.1:compile\r\n[INFO] +- com.oracle.weblogic:ojdbc7:jar:12.1.3-0-0:provided\r\n[INFO] +- javax.measure:unit-api:jar:2.2:compile\r\n[INFO] +- tec.units:unit-ri:jar:1.0.3:compile\r\n[INFO] |  \\- tec.uom.lib:uom-lib-common:jar:1.0.2:compile\r\n[INFO] +- com.h2database:h2:jar:2.1.214:test\r\n[INFO] +- com.squareup.okhttp3:okhttp:jar:4.0.1:test\r\n[INFO] |  +- com.squareup.okio:okio:jar:2.2.2:test\r\n[INFO] |  \\- org.jetbrains.kotlin:kotlin-stdlib:jar:1.8.22:test\r\n[INFO] |     +- org.jetbrains.kotlin:kotlin-stdlib-common:jar:1.8.22:test\r\n[INFO] |     \\- org.jetbrains:annotations:jar:13.0:test\r\n[INFO] \\- com.squareup.okhttp3:mockwebserver:jar:4.0.1:test\r\n[INFO] --------------------------------------------------------------\r\n```","title":"Spring-boot-starter-mail 3.1.1 throws &quot;Not provider of jakarta.mail.util.StreamProvider was found&quot;","body":"<p>I am upgrading my project from springboot 2.7.7 to springboot 3.1.1 and java 11 to 17\nI have spring-boot-starter-mail included as a dependency and I try to send mail as follows</p>\n<pre><code>@Service\npublic class MailerService {\n\n    @Autowired\n    public JavaMailSender javaMailSender;\n\n    public void sendEmail(String toAddress, String subject, String body, boolean error) throws MessagingException {\n\n        MimeMessagePreparator preparator = mimeMessage -&gt; {\n            final Address recipient = new InternetAddress(toAddress);\n            mimeMessage.setFrom(new InternetAddress(fromAddress));\n            mimeMessage.setRecipient(Message.RecipientType.TO, recipient);\n            mimeMessage.setSentDate(new Date());\n            mimeMessage.setSubject(subject);\n            mimeMessage.setText(body);\n        };\n\n        // Send the e-mail\n        javaMailSender.send(preparator);\n\n... other code...\n\n</code></pre>\n<p>At javaMailSender.send I get the following exception:</p>\n<pre><code>java.lang.IllegalStateException: Not provider of jakarta.mail.util.StreamProvider was found\n0 = {StackTraceElement@19049} &quot;org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:387)&quot;\n1 = {StackTraceElement@19050} &quot;org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:366)&quot;\n2 = {StackTraceElement@19051} &quot;nz.co.niwa.bjs.service.MailerService.sendEmail(MailerService.java:44)&quot;\n3 = {StackTraceElement@19052} &quot;nz.co.niwa.bjs.service.MailerService.sendDataPointEmail(MailerService.java:54)&quot;\n4 = {StackTraceElement@19053} &quot;nz.co.niwa.bjs.service.BulkPointDataFetchService.uploadCSVAndSendEmail(BulkPointDataFetchService.java:421)&quot;\n5 = {StackTraceElement@19054} &quot;nz.co.niwa.bjs.service.BulkPointDataFetchService.lambda$retrieveForecastData$6(BulkPointDataFetchService.java:351)&quot;\n6 = {StackTraceElement@19055} &quot;java.base/java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:863)&quot;\n7 = {StackTraceElement@19056} &quot;java.base/java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:841)&quot;\n8 = {StackTraceElement@19057} &quot;java.base/java.util.concurrent.CompletableFuture$Completion.exec(CompletableFuture.java:483)&quot;\n9 = {StackTraceElement@19058} &quot;java.base/java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:373)&quot;\n10 = {StackTraceElement@19059} &quot;java.base/java.util.concurrent.ForkJoinPool$WorkQueue.topLevelExec(ForkJoinPool.java:1182)&quot;\n11 = {StackTraceElement@19060} &quot;java.base/java.util.concurrent.ForkJoinPool.scan(ForkJoinPool.java:1655)&quot;\n12 = {StackTraceElement@19061} &quot;java.base/java.util.concurrent.ForkJoinPool.runWorker(ForkJoinPool.java:1622)&quot;\n13 = {StackTraceElement@19062} &quot;java.base/java.util.concurrent.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:165)&quot;\n</code></pre>\n<p>How can I fix this? Any help is appreciated.\nThank you</p>\n<p>EDIT: mvn:dependency tree</p>\n<pre><code>[INFO] --- maven-dependency-plugin:3.5.0:tree (default-cli) @ mintaka-bulk-task-service ---\n[INFO] nz.co.niwa.bjs:mintaka-bulk-task-service:jar:1.6.0-SNAPSHOT\n[INFO] +- org.springframework.boot:spring-boot-starter-actuator:jar:3.1.1:compile\n[INFO] |  +- org.springframework.boot:spring-boot-actuator-autoconfigure:jar:3.1.1:compile\n[INFO] |  |  \\- org.springframework.boot:spring-boot-actuator:jar:3.1.1:compile\n[INFO] |  +- io.micrometer:micrometer-observation:jar:1.11.1:compile\n[INFO] |  |  \\- io.micrometer:micrometer-commons:jar:1.11.1:compile\n[INFO] |  \\- io.micrometer:micrometer-core:jar:1.11.1:compile\n[INFO] |     +- org.hdrhistogram:HdrHistogram:jar:2.1.12:runtime\n[INFO] |     \\- org.latencyutils:LatencyUtils:jar:2.0.3:runtime\n[INFO] +- org.springframework.boot:spring-boot-starter-web:jar:3.1.1:compile\n[INFO] |  +- org.springframework.boot:spring-boot-starter-json:jar:3.1.1:compile\n[INFO] |  |  \\- com.fasterxml.jackson.module:jackson-module-parameter-names:jar:2.15.2:compile\n[INFO] |  +- org.springframework.boot:spring-boot-starter-tomcat:jar:3.1.1:compile\n[INFO] |  |  +- org.apache.tomcat.embed:tomcat-embed-core:jar:10.1.10:compile\n[INFO] |  |  \\- org.apache.tomcat.embed:tomcat-embed-websocket:jar:10.1.10:compile\n[INFO] |  +- org.springframework:spring-web:jar:6.0.10:compile\n[INFO] |  |  \\- org.springframework:spring-beans:jar:6.0.10:compile\n[INFO] |  \\- org.springframework:spring-webmvc:jar:6.0.10:compile\n[INFO] |     +- org.springframework:spring-aop:jar:6.0.10:compile\n[INFO] |     +- org.springframework:spring-context:jar:6.0.10:compile\n[INFO] |     \\- org.springframework:spring-expression:jar:6.0.10:compile\n[INFO] +- org.springframework.boot:spring-boot-starter-webflux:jar:3.1.1:compile\n[INFO] |  +- org.springframework.boot:spring-boot-starter-reactor-netty:jar:3.1.1:compile\n[INFO] |  |  \\- io.projectreactor.netty:reactor-netty-http:jar:1.1.8:compile\n[INFO] |  |     +- io.netty:netty-codec-http:jar:4.1.94.Final:compile\n[INFO] |  |     |  +- io.netty:netty-common:jar:4.1.94.Final:compile\n[INFO] |  |     |  +- io.netty:netty-buffer:jar:4.1.94.Final:compile\n[INFO] |  |     |  +- io.netty:netty-transport:jar:4.1.94.Final:compile\n[INFO] |  |     |  +- io.netty:netty-codec:jar:4.1.94.Final:compile\n[INFO] |  |     |  \\- io.netty:netty-handler:jar:4.1.94.Final:compile\n[INFO] |  |     +- io.netty:netty-codec-http2:jar:4.1.94.Final:compile\n[INFO] |  |     +- io.netty:netty-resolver-dns:jar:4.1.94.Final:compile\n[INFO] |  |     |  +- io.netty:netty-resolver:jar:4.1.94.Final:compile\n[INFO] |  |     |  \\- io.netty:netty-codec-dns:jar:4.1.94.Final:compile\n[INFO] |  |     +- io.netty:netty-resolver-dns-native-macos:jar:osx-x86_64:4.1.94.Final:compile\n[INFO] |  |     |  \\- io.netty:netty-resolver-dns-classes-macos:jar:4.1.94.Final:compile\n[INFO] |  |     +- io.netty:netty-transport-native-epoll:jar:linux-x86_64:4.1.94.Final:compile\n[INFO] |  |     |  +- io.netty:netty-transport-native-unix-common:jar:4.1.94.Final:compile\n[INFO] |  |     |  \\- io.netty:netty-transport-classes-epoll:jar:4.1.94.Final:compile\n[INFO] |  |     \\- io.projectreactor.netty:reactor-netty-core:jar:1.1.8:compile\n[INFO] |  |        \\- io.netty:netty-handler-proxy:jar:4.1.94.Final:compile\n[INFO] |  |           \\- io.netty:netty-codec-socks:jar:4.1.94.Final:compile\n[INFO] |  \\- org.springframework:spring-webflux:jar:6.0.10:compile\n[INFO] |     \\- io.projectreactor:reactor-core:jar:3.5.7:compile\n[INFO] |        \\- org.reactivestreams:reactive-streams:jar:1.0.4:compile\n[INFO] +- org.springframework.boot:spring-boot-starter-test:jar:3.1.1:compile\n[INFO] |  +- org.springframework.boot:spring-boot-test:jar:3.1.1:compile\n[INFO] |  +- org.springframework.boot:spring-boot-test-autoconfigure:jar:3.1.1:compile\n[INFO] |  +- com.jayway.jsonpath:json-path:jar:2.8.0:compile\n[INFO] |  +- jakarta.xml.bind:jakarta.xml.bind-api:jar:4.0.0:compile\n[INFO] |  |  \\- jakarta.activation:jakarta.activation-api:jar:2.1.2:compile\n[INFO] |  +- net.minidev:json-smart:jar:2.4.11:compile\n[INFO] |  |  \\- net.minidev:accessors-smart:jar:2.4.11:compile\n[INFO] |  |     \\- org.ow2.asm:asm:jar:9.3:compile\n[INFO] |  +- org.assertj:assertj-core:jar:3.24.2:compile\n[INFO] |  +- org.hamcrest:hamcrest:jar:2.2:compile\n[INFO] |  +- org.junit.jupiter:junit-jupiter:jar:5.9.3:compile\n[INFO] |  |  +- org.junit.jupiter:junit-jupiter-api:jar:5.9.3:compile\n[INFO] |  |  |  +- org.opentest4j:opentest4j:jar:1.2.0:compile\n[INFO] |  |  |  +- org.junit.platform:junit-platform-commons:jar:1.9.3:compile\n[INFO] |  |  |  \\- org.apiguardian:apiguardian-api:jar:1.1.2:compile\n[INFO] |  |  +- org.junit.jupiter:junit-jupiter-params:jar:5.9.3:compile\n[INFO] |  |  \\- org.junit.jupiter:junit-jupiter-engine:jar:5.9.3:runtime\n[INFO] |  |     \\- org.junit.platform:junit-platform-engine:jar:1.9.3:runtime\n[INFO] |  +- org.mockito:mockito-core:jar:5.3.1:compile\n[INFO] |  |  +- net.bytebuddy:byte-buddy-agent:jar:1.14.5:compile\n[INFO] |  |  \\- org.objenesis:objenesis:jar:3.3:runtime\n[INFO] |  +- org.mockito:mockito-junit-jupiter:jar:5.3.1:compile\n[INFO] |  +- org.skyscreamer:jsonassert:jar:1.5.1:compile\n[INFO] |  |  \\- com.vaadin.external.google:android-json:jar:0.0.20131108.vaadin1:compile\n[INFO] |  +- org.springframework:spring-core:jar:6.0.10:compile\n[INFO] |  |  \\- org.springframework:spring-jcl:jar:6.0.10:compile\n[INFO] |  +- org.springframework:spring-test:jar:6.0.10:compile\n[INFO] |  \\- org.xmlunit:xmlunit-core:jar:2.9.1:compile\n[INFO] +- io.awspring.cloud:spring-cloud-aws-starter:jar:3.0.1:compile\n[INFO] |  +- io.awspring.cloud:spring-cloud-aws-autoconfigure:jar:3.0.1:compile\n[INFO] |  +- io.awspring.cloud:spring-cloud-aws-core:jar:3.0.1:compile\n[INFO] |  |  +- software.amazon.awssdk:regions:jar:2.20.63:compile\n[INFO] |  |  |  +- software.amazon.awssdk:annotations:jar:2.20.63:compile\n[INFO] |  |  |  +- software.amazon.awssdk:utils:jar:2.20.63:compile\n[INFO] |  |  |  +- software.amazon.awssdk:sdk-core:jar:2.20.63:compile\n[INFO] |  |  |  +- software.amazon.awssdk:profiles:jar:2.20.63:compile\n[INFO] |  |  |  \\- software.amazon.awssdk:json-utils:jar:2.20.63:compile\n[INFO] |  |  |     \\- software.amazon.awssdk:third-party-jackson-core:jar:2.20.63:compile\n[INFO] |  |  \\- software.amazon.awssdk:auth:jar:2.20.63:compile\n[INFO] |  |     +- software.amazon.awssdk:http-client-spi:jar:2.20.63:compile\n[INFO] |  |     \\- software.amazon.eventstream:eventstream:jar:1.0.1:compile\n[INFO] |  \\- org.slf4j:slf4j-api:jar:2.0.7:compile\n[INFO] +- io.awspring.cloud:spring-cloud-aws-starter-sqs:jar:3.0.1:compile\n[INFO] |  \\- io.awspring.cloud:spring-cloud-aws-sqs:jar:3.0.1:compile\n[INFO] |     +- software.amazon.awssdk:sqs:jar:2.20.63:compile\n[INFO] |     |  +- software.amazon.awssdk:aws-query-protocol:jar:2.20.63:compile\n[INFO] |     |  +- software.amazon.awssdk:protocol-core:jar:2.20.63:compile\n[INFO] |     |  +- software.amazon.awssdk:aws-core:jar:2.20.63:compile\n[INFO] |     |  +- software.amazon.awssdk:metrics-spi:jar:2.20.63:compile\n[INFO] |     |  +- software.amazon.awssdk:endpoints-spi:jar:2.20.63:compile\n[INFO] |     |  +- software.amazon.awssdk:apache-client:jar:2.20.63:runtime\n[INFO] |     |  \\- software.amazon.awssdk:netty-nio-client:jar:2.20.63:runtime\n[INFO] |     +- software.amazon.awssdk:arns:jar:2.20.63:compile\n[INFO] |     \\- org.springframework:spring-messaging:jar:6.0.10:compile\n[INFO] +- io.awspring.cloud:spring-cloud-aws-starter-s3:jar:3.0.1:compile\n[INFO] |  +- io.awspring.cloud:spring-cloud-aws-s3:jar:3.0.1:compile\n[INFO] |  |  \\- software.amazon.awssdk:s3:jar:2.20.63:compile\n[INFO] |  |     +- software.amazon.awssdk:aws-xml-protocol:jar:2.20.63:compile\n[INFO] |  |     \\- software.amazon.awssdk:crt-core:jar:2.20.63:compile\n[INFO] |  \\- io.awspring.cloud:spring-cloud-aws-s3-cross-region-client:jar:3.0.1:compile\n[INFO] +- org.springframework.boot:spring-boot-starter-data-jpa:jar:3.1.1:compile\n[INFO] |  +- org.springframework.boot:spring-boot-starter-aop:jar:3.1.1:compile\n[INFO] |  |  \\- org.aspectj:aspectjweaver:jar:1.9.19:compile\n[INFO] |  +- org.springframework.boot:spring-boot-starter-jdbc:jar:3.1.1:compile\n[INFO] |  |  +- com.zaxxer:HikariCP:jar:5.0.1:compile\n[INFO] |  |  \\- org.springframework:spring-jdbc:jar:6.0.10:compile\n[INFO] |  +- org.springframework.data:spring-data-jpa:jar:3.1.1:compile\n[INFO] |  |  +- org.springframework.data:spring-data-commons:jar:3.1.1:compile\n[INFO] |  |  +- org.springframework:spring-orm:jar:6.0.10:compile\n[INFO] |  |  \\- org.springframework:spring-tx:jar:6.0.10:compile\n[INFO] |  \\- org.springframework:spring-aspects:jar:6.0.10:compile\n[INFO] +- org.springframework.boot:spring-boot-starter-mail:jar:3.1.1:compile\n[INFO] |  +- org.springframework:spring-context-support:jar:6.0.10:compile\n[INFO] |  \\- org.eclipse.angus:jakarta.mail:jar:1.1.0:compile\n[INFO] |     \\- org.eclipse.angus:angus-activation:jar:2.0.1:runtime\n[INFO] +- org.springframework.boot:spring-boot-starter-validation:jar:3.1.1:compile\n[INFO] |  +- org.apache.tomcat.embed:tomcat-embed-el:jar:10.1.10:compile\n[INFO] |  \\- org.hibernate.validator:hibernate-validator:jar:8.0.0.Final:compile\n[INFO] |     \\- jakarta.validation:jakarta.validation-api:jar:3.0.2:compile\n[INFO] +- org.springframework.boot:spring-boot-starter:jar:3.1.1:compile\n[INFO] |  +- org.springframework.boot:spring-boot:jar:3.1.1:compile\n[INFO] |  +- org.springframework.boot:spring-boot-autoconfigure:jar:3.1.1:compile\n[INFO] |  +- jakarta.annotation:jakarta.annotation-api:jar:2.1.1:compile\n[INFO] |  \\- org.yaml:snakeyaml:jar:1.33:compile\n[INFO] +- org.springframework.boot:spring-boot-starter-log4j2:jar:3.1.1:compile\n[INFO] |  +- org.apache.logging.log4j:log4j-slf4j2-impl:jar:2.20.0:compile\n[INFO] |  |  \\- org.apache.logging.log4j:log4j-api:jar:2.20.0:compile\n[INFO] |  +- org.apache.logging.log4j:log4j-core:jar:2.20.0:compile\n[INFO] |  \\- org.apache.logging.log4j:log4j-jul:jar:2.20.0:compile\n[INFO] +- org.apache.logging.log4j:log4j-layout-template-json:jar:2.20.0:compile\n[INFO] +- com.fasterxml.jackson.datatype:jackson-datatype-jdk8:jar:2.15.2:compile\n[INFO] |  \\- com.fasterxml.jackson.core:jackson-core:jar:2.15.2:compile\n[INFO] +- com.fasterxml.jackson.datatype:jackson-datatype-jsr310:jar:2.15.2:compile\n[INFO] |  \\- com.fasterxml.jackson.core:jackson-annotations:jar:2.15.2:compile\n[INFO] +- com.fasterxml.jackson.core:jackson-databind:jar:2.15.2:compile\n[INFO] +- com.fasterxml.jackson.dataformat:jackson-dataformat-yaml:jar:2.15.2:compile\n[INFO] +- nz.co.niwa:arcgis:jar:1.3.2:compile\n[INFO] |  +- org.apache.httpcomponents:httpclient:jar:4.5.13:compile\n[INFO] |  |  +- org.apache.httpcomponents:httpcore:jar:4.4.16:compile\n[INFO] |  |  \\- commons-logging:commons-logging:jar:1.2:compile\n[INFO] |  \\- org.apache.commons:commons-lang3:jar:3.12.0:compile\n[INFO] +- nz.co.niwa:clidb:jar:1.6.8:compile\n[INFO] |  +- junit:junit:jar:4.13.2:compile\n[INFO] |  +- com.oracle.jdbc:ojdbc7:jar:12.1.0.2:compile\n[INFO] |  |  +- com.oracle.jdbc:xdb6:jar:12.1.0.2:compile\n[INFO] |  |  +- com.oracle.jdbc:orai18n:jar:12.1.0.2:compile\n[INFO] |  |  +- com.oracle.jdbc:xmlparserv2:jar:12.1.0.2:compile\n[INFO] |  |  +- com.oracle.jdbc:oraclepki:jar:12.1.0.2:compile\n[INFO] |  |  +- com.oracle.jdbc:osdt_cert:jar:12.1.0.2:compile\n[INFO] |  |  \\- com.oracle.jdbc:osdt_core:jar:12.1.0.2:compile\n[INFO] |  \\- com.google.guava:guava:jar:30.0-jre:compile\n[INFO] |     +- com.google.guava:failureaccess:jar:1.0.1:compile\n[INFO] |     +- com.google.guava:listenablefuture:jar:9999.0-empty-to-avoid-conflict-with-guava:compile\n[INFO] |     +- com.google.code.findbugs:jsr305:jar:3.0.2:compile\n[INFO] |     +- org.checkerframework:checker-qual:jar:3.5.0:compile\n[INFO] |     +- com.google.errorprone:error_prone_annotations:jar:2.3.4:compile\n[INFO] |     \\- com.google.j2objc:j2objc-annotations:jar:1.3:compile\n[INFO] +- nz.co.niwa:aquarius:jar:2.0.8:compile\n[INFO] |  +- commons-codec:commons-codec:jar:1.15:compile\n[INFO] |  \\- org.bouncycastle:bcpkix-jdk15on:jar:1.70:compile\n[INFO] |     +- org.bouncycastle:bcprov-jdk15on:jar:1.70:compile\n[INFO] |     \\- org.bouncycastle:bcutil-jdk15on:jar:1.70:compile\n[INFO] +- org.mapstruct:mapstruct:jar:1.4.2.Final:compile\n[INFO] +- commons-collections:commons-collections:jar:3.2.2:compile\n[INFO] +- commons-io:commons-io:jar:2.11.0:compile\n[INFO] +- org.hibernate.orm:hibernate-core:jar:6.2.2.Final:compile\n[INFO] |  +- jakarta.persistence:jakarta.persistence-api:jar:3.1.0:compile\n[INFO] |  +- jakarta.transaction:jakarta.transaction-api:jar:2.0.1:compile\n[INFO] |  +- org.jboss.logging:jboss-logging:jar:3.5.1.Final:compile\n[INFO] |  +- org.hibernate.common:hibernate-commons-annotations:jar:6.0.6.Final:runtime\n[INFO] |  +- io.smallrye:jandex:jar:3.0.5:runtime\n[INFO] |  +- com.fasterxml:classmate:jar:1.5.1:compile\n[INFO] |  +- net.bytebuddy:byte-buddy:jar:1.14.5:compile\n[INFO] |  +- org.glassfish.jaxb:jaxb-runtime:jar:4.0.3:runtime\n[INFO] |  |  \\- org.glassfish.jaxb:jaxb-core:jar:4.0.3:runtime\n[INFO] |  |     +- org.glassfish.jaxb:txw2:jar:4.0.3:runtime\n[INFO] |  |     \\- com.sun.istack:istack-commons-runtime:jar:4.1.2:runtime\n[INFO] |  +- jakarta.inject:jakarta.inject-api:jar:2.0.1:runtime\n[INFO] |  \\- org.antlr:antlr4-runtime:jar:4.10.1:compile\n[INFO] +- com.oracle.weblogic:ojdbc7:jar:12.1.3-0-0:provided\n[INFO] +- javax.measure:unit-api:jar:2.2:compile\n[INFO] +- tec.units:unit-ri:jar:1.0.3:compile\n[INFO] |  \\- tec.uom.lib:uom-lib-common:jar:1.0.2:compile\n[INFO] +- com.h2database:h2:jar:2.1.214:test\n[INFO] +- com.squareup.okhttp3:okhttp:jar:4.0.1:test\n[INFO] |  +- com.squareup.okio:okio:jar:2.2.2:test\n[INFO] |  \\- org.jetbrains.kotlin:kotlin-stdlib:jar:1.8.22:test\n[INFO] |     +- org.jetbrains.kotlin:kotlin-stdlib-common:jar:1.8.22:test\n[INFO] |     \\- org.jetbrains:annotations:jar:13.0:test\n[INFO] \\- com.squareup.okhttp3:mockwebserver:jar:4.0.1:test\n[INFO] --------------------------------------------------------------\n</code></pre>\n"},{"tags":["java","outlook","smtp","office365","jakarta-mail"],"comments":[{"owner":{"account_id":1032936,"reputation":29649,"user_id":1040885,"display_name":"Bill Shannon"},"score":0,"creation_date":1587782183,"post_id":61406799,"comment_id":108652407,"body_markdown":"Start by simplifying your code by fixing these [common mistakes](https://javaee.github.io/javamail/FAQ#commonmistakes).  Are you using the same user name that you use with the web UI?  Can you configure Thunderbird to login with the same username and password?","body":"Start by simplifying your code by fixing these <a href=\"https://javaee.github.io/javamail/FAQ#commonmistakes\" rel=\"nofollow noreferrer\">common mistakes</a>.  Are you using the same user name that you use with the web UI?  Can you configure Thunderbird to login with the same username and password?"},{"owner":{"account_id":3195669,"reputation":31,"user_id":2698893,"display_name":"Vineed Gangadharan"},"score":0,"creation_date":1587902319,"post_id":61406799,"comment_id":108686059,"body_markdown":"Yes I am using same user name as the web and in thunderbird it gives SSL/TLS erro","body":"Yes I am using same user name as the web and in thunderbird it gives SSL/TLS erro"}],"answers":[{"comments":[{"owner":{"account_id":6104455,"reputation":4456,"user_id":4762502,"accept_rate":73,"display_name":"Gaurav Jeswani"},"score":0,"creation_date":1599662059,"post_id":63810553,"comment_id":112843331,"body_markdown":"It&#39;s better to add some details around the answer.","body":"It&#39;s better to add some details around the answer."}],"tags":[],"owner":{"account_id":12038388,"reputation":1,"user_id":8806159,"display_name":"Sello Motloung"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1599662021,"creation_date":1599650323,"answer_id":63810553,"question_id":61406799,"body_markdown":"    public class EWS {\r\n    \r\n        private static ExchangeService service;\r\n        private static Integer NUMBER_EMAILS_FETCH = 5; // only latest 5 emails/appointments are fetched.\r\n    \r\n        static {\r\n            try {\r\n                service = new ExchangeService(ExchangeVersion.Exchange2010_SP1);\r\n                service.setUrl(new URI(&quot;https://outlook.office365.com/EWS/exchange.asmx&quot;));\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    \r\n        /**\r\n         * Initialize the Exchange Credentials.\r\n         */\r\n        public EWS() throws Exception {\r\n             ExchangeCredentials credentials = new WebCredentials(&quot;User Name&quot;, &quot;Password&quot;);\r\n            service.setCredentials(credentials);\r\n        }\r\n    \r\n         /**\r\n         * Reading one email at a time. Using Item ID of the email. Creating a\r\n         * message data map as a return value.\r\n         */\r\n        public Map readEmailItem(ItemId itemId) {\r\n            Map messageData = new HashMap();\r\n            try {\r\n                Item itm = Item.bind(service, itemId, PropertySet.FirstClassProperties);\r\n                EmailMessage emailMessage = EmailMessage.bind(service, itm.getId());\r\n                messageData.put(&quot;emailItemId&quot;, emailMessage.getId().toString());\r\n                messageData.put(&quot;subject&quot;, emailMessage.getSubject());\r\n                messageData.put(&quot;fromAddress&quot;, emailMessage.getFrom().getAddress());\r\n                messageData.put(&quot;senderName&quot;, emailMessage.getSender().getName());\r\n                Date dateTimeCreated = emailMessage.getDateTimeCreated();\r\n                messageData.put(&quot;SendDate&quot;, dateTimeCreated.toString());\r\n                Date dateTimeRecieved = emailMessage.getDateTimeReceived();\r\n                messageData.put(&quot;RecievedDate&quot;, dateTimeRecieved.toString());\r\n                messageData.put(&quot;Size&quot;, emailMessage.getSize() + &quot;&quot;);\r\n                messageData.put(&quot;emailBody&quot;, emailMessage.getBody().toString());\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n            }\r\n            return messageData;\r\n        }\r\n        /**\r\n         * Number of email we want to read is defined as NUMBER_EMAILS_FETCH,\r\n         */\r\n        public List&lt;Map&gt; readEmails() {\r\n            List&lt;Map&gt; msgDataList = new ArrayList&lt;&gt;();\r\n            try {\r\n                service.setTraceEnabled(true);\r\n                System.out.println(&quot;|---------------------&gt; service = {}&quot; + service);\r\n                Folder folder = Folder.bind(service, WellKnownFolderName.Inbox);\r\n                FindItemsResults&lt;Item&gt; results = service.findItems(folder.getId(), new ItemView(NUMBER_EMAILS_FETCH));\r\n                int i = 1;\r\n                for (Item item : results) {\r\n                    Map messageData = readEmailItem(item.getId());\r\n                    System.out.println(&quot;|---------------------&gt; service = {}&quot; + (i++) + &quot;:&quot;);\r\n                    System.out.println(&quot;|---------------------&gt; service = {}&quot; + messageData.get(&quot;subject&quot;).toString());\r\n                    System.out.println(&quot;|---------------------&gt; service = {}&quot; + messageData.get(&quot;senderName&quot;).toString());\r\n                    msgDataList.add(messageData);\r\n                }\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n            }\r\n            return msgDataList;\r\n        }\r\n        public static void main(String[] args) throws Exception {\r\n            EWS msees = new EWS();\r\n            List&lt;Map&gt; emails = msees.readEmails();\r\n            System.out.println(&quot;|---------------------&gt; service = {}&quot; + emails.size());\r\n        }\r\n    }","title":"Send Mail via Java Api for Office 365","body":"<pre><code>public class EWS {\n\n    private static ExchangeService service;\n    private static Integer NUMBER_EMAILS_FETCH = 5; // only latest 5 emails/appointments are fetched.\n\n    static {\n        try {\n            service = new ExchangeService(ExchangeVersion.Exchange2010_SP1);\n            service.setUrl(new URI(&quot;https://outlook.office365.com/EWS/exchange.asmx&quot;));\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n\n    /**\n     * Initialize the Exchange Credentials.\n     */\n    public EWS() throws Exception {\n         ExchangeCredentials credentials = new WebCredentials(&quot;User Name&quot;, &quot;Password&quot;);\n        service.setCredentials(credentials);\n    }\n\n     /**\n     * Reading one email at a time. Using Item ID of the email. Creating a\n     * message data map as a return value.\n     */\n    public Map readEmailItem(ItemId itemId) {\n        Map messageData = new HashMap();\n        try {\n            Item itm = Item.bind(service, itemId, PropertySet.FirstClassProperties);\n            EmailMessage emailMessage = EmailMessage.bind(service, itm.getId());\n            messageData.put(&quot;emailItemId&quot;, emailMessage.getId().toString());\n            messageData.put(&quot;subject&quot;, emailMessage.getSubject());\n            messageData.put(&quot;fromAddress&quot;, emailMessage.getFrom().getAddress());\n            messageData.put(&quot;senderName&quot;, emailMessage.getSender().getName());\n            Date dateTimeCreated = emailMessage.getDateTimeCreated();\n            messageData.put(&quot;SendDate&quot;, dateTimeCreated.toString());\n            Date dateTimeRecieved = emailMessage.getDateTimeReceived();\n            messageData.put(&quot;RecievedDate&quot;, dateTimeRecieved.toString());\n            messageData.put(&quot;Size&quot;, emailMessage.getSize() + &quot;&quot;);\n            messageData.put(&quot;emailBody&quot;, emailMessage.getBody().toString());\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n        return messageData;\n    }\n    /**\n     * Number of email we want to read is defined as NUMBER_EMAILS_FETCH,\n     */\n    public List&lt;Map&gt; readEmails() {\n        List&lt;Map&gt; msgDataList = new ArrayList&lt;&gt;();\n        try {\n            service.setTraceEnabled(true);\n            System.out.println(&quot;|---------------------&gt; service = {}&quot; + service);\n            Folder folder = Folder.bind(service, WellKnownFolderName.Inbox);\n            FindItemsResults&lt;Item&gt; results = service.findItems(folder.getId(), new ItemView(NUMBER_EMAILS_FETCH));\n            int i = 1;\n            for (Item item : results) {\n                Map messageData = readEmailItem(item.getId());\n                System.out.println(&quot;|---------------------&gt; service = {}&quot; + (i++) + &quot;:&quot;);\n                System.out.println(&quot;|---------------------&gt; service = {}&quot; + messageData.get(&quot;subject&quot;).toString());\n                System.out.println(&quot;|---------------------&gt; service = {}&quot; + messageData.get(&quot;senderName&quot;).toString());\n                msgDataList.add(messageData);\n            }\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n        return msgDataList;\n    }\n    public static void main(String[] args) throws Exception {\n        EWS msees = new EWS();\n        List&lt;Map&gt; emails = msees.readEmails();\n        System.out.println(&quot;|---------------------&gt; service = {}&quot; + emails.size());\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19944053,"reputation":1,"user_id":14615173,"display_name":"Edivaldo Merlo Stens"},"comment_count":0,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1605043021,"creation_date":1605039237,"answer_id":64776130,"question_id":61406799,"body_markdown":"Disable Modern authentication for STMP in:\r\n\r\nhttps://admin.microsoft.com/Adminportal/Home?source=applauncher#/Settings/Services/:/Settings/L1/ModernAuthentication\r\n\r\n![Authenticated SMTP unchecked][1]\r\n\r\nWait a few minutes to test making these changes.\r\n\r\n  [1]: https://i.stack.imgur.com/bu9pq.jpg","title":"Send Mail via Java Api for Office 365","body":"<p>Disable Modern authentication for STMP in:</p>\n<p><a href=\"https://admin.microsoft.com/Adminportal/Home?source=applauncher#/Settings/Services/:/Settings/L1/ModernAuthentication\" rel=\"nofollow noreferrer\">https://admin.microsoft.com/Adminportal/Home?source=applauncher#/Settings/Services/:/Settings/L1/ModernAuthentication</a></p>\n<p><img src=\"https://i.stack.imgur.com/bu9pq.jpg\" alt=\"Authenticated SMTP unchecked\" /></p>\n<p>Wait a few minutes to test making these changes.</p>\n"}],"owner":{"account_id":3195669,"reputation":31,"user_id":2698893,"display_name":"Vineed Gangadharan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":8554,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1697656091,"creation_date":1587725953,"question_id":61406799,"body_markdown":"Hi i am currently developing java application which will send mail to multiple recipients via Java Mail Api(1.6.2), i have configure the SMTP as per the Microsoft docs problem is the code is working with my personal hotmail email id but it fails for corporate office 365 account.\r\n\r\nError : javax.mail.AuthenticationFailedException: 535 5.7.3 Authentication unsuccessful [PN1PR0101CA0066.INDPRD01.PROD.OUTLOOK.COM]\r\n\r\nPOP and IMAP are working(Receiving mails) and i can login with the password in Office 365 Web, i have tried changing password too.\r\n\r\n\r\nCode :\r\n\r\n```\r\nUser user = Credentials.ACC;\r\nProperties props = new Properties();\r\nprops.put(&quot;mail.smtp.host&quot;, &quot;smtp.office365.com&quot;);//outlook.office365.com\r\nprops.put(&quot;mail.smtp.auth&quot;, &quot;true&quot;);\r\nprops.put(&quot;mail.smtp.port&quot;, &quot;587&quot;);//25\r\nprops.put(&quot;mail.smtp.starttls.enable&quot;, &quot;true&quot;);\r\nprops.put(&quot;mail.transport.protocol&quot;, &quot;smtp&quot;);\r\n//props.put(&quot;mail.smtp.ssl.enable&quot;, true);\r\n\r\nSession session = Session.getInstance(props, new Authenticator() {\r\n    @Override\r\n    protected PasswordAuthentication getPasswordAuthentication() {\r\n        return new PasswordAuthentication(user.getUsername(), user.getPassword());\r\n    }\r\n});\r\nsession.setDebug(true);\r\n\r\ntry {\r\n    MimeMessage msg = new MimeMessage(session);\r\n    msg.setFrom(user.getUsername());\r\n    \r\n    msg.setRecipients(Message.RecipientType.TO,\r\n            &quot;some@mail.com&quot;);\r\n    msg.setSubject(&quot;Testing SMTP using [&quot; + user.getUsername() + &quot;]&quot;);\r\n    msg.setSentDate(new Date());\r\n    msg.setText(&quot;Hey, this is a test from [&quot; + user.getUsername() + &quot;], Sending via Java Mail API&quot;);\r\n\r\n    Transport.send(msg);\r\n    System.out.println(&quot;Sent Ok&quot;);\r\n} catch (MessagingException e) {\r\n    System.out.println(&quot;Something went wrong&quot;);\r\n    e.printStackTrace();\r\n}\r\n```","title":"Send Mail via Java Api for Office 365","body":"<p>Hi i am currently developing java application which will send mail to multiple recipients via Java Mail Api(1.6.2), i have configure the SMTP as per the Microsoft docs problem is the code is working with my personal hotmail email id but it fails for corporate office 365 account.</p>\n\n<p>Error : javax.mail.AuthenticationFailedException: 535 5.7.3 Authentication unsuccessful [PN1PR0101CA0066.INDPRD01.PROD.OUTLOOK.COM]</p>\n\n<p>POP and IMAP are working(Receiving mails) and i can login with the password in Office 365 Web, i have tried changing password too.</p>\n\n<p>Code :</p>\n\n<pre><code>User user = Credentials.ACC;\nProperties props = new Properties();\nprops.put(\"mail.smtp.host\", \"smtp.office365.com\");//outlook.office365.com\nprops.put(\"mail.smtp.auth\", \"true\");\nprops.put(\"mail.smtp.port\", \"587\");//25\nprops.put(\"mail.smtp.starttls.enable\", \"true\");\nprops.put(\"mail.transport.protocol\", \"smtp\");\n//props.put(\"mail.smtp.ssl.enable\", true);\n\nSession session = Session.getInstance(props, new Authenticator() {\n    @Override\n    protected PasswordAuthentication getPasswordAuthentication() {\n        return new PasswordAuthentication(user.getUsername(), user.getPassword());\n    }\n});\nsession.setDebug(true);\n\ntry {\n    MimeMessage msg = new MimeMessage(session);\n    msg.setFrom(user.getUsername());\n\n    msg.setRecipients(Message.RecipientType.TO,\n            \"some@mail.com\");\n    msg.setSubject(\"Testing SMTP using [\" + user.getUsername() + \"]\");\n    msg.setSentDate(new Date());\n    msg.setText(\"Hey, this is a test from [\" + user.getUsername() + \"], Sending via Java Mail API\");\n\n    Transport.send(msg);\n    System.out.println(\"Sent Ok\");\n} catch (MessagingException e) {\n    System.out.println(\"Something went wrong\");\n    e.printStackTrace();\n}\n</code></pre>\n"},{"tags":["java","spring-boot","caching","microservices"],"comments":[{"owner":{"account_id":11448531,"reputation":665,"user_id":8391546,"display_name":"abj1305"},"score":0,"creation_date":1556107322,"post_id":55829516,"comment_id":98323814,"body_markdown":"Check if Micro service A can somehow be notified if there is some change in the database. Listen to the notification and if any, refresh the cache","body":"Check if Micro service A can somehow be notified if there is some change in the database. Listen to the notification and if any, refresh the cache"},{"owner":{"account_id":9088500,"reputation":436,"user_id":6765460,"display_name":"Forece85"},"score":0,"creation_date":1556115963,"post_id":55829516,"comment_id":98329465,"body_markdown":"Thanks @abj1305. I enabled a rest endpoint at Microservice A and making a rest call from Microservice B to update cache at &#39;A&#39;. I am looking if any of proven cache mechanism handle these or any even better approach we can..","body":"Thanks @abj1305. I enabled a rest endpoint at Microservice A and making a rest call from Microservice B to update cache at &#39;A&#39;. I am looking if any of proven cache mechanism handle these or any even better approach we can.."},{"owner":{"account_id":11448531,"reputation":665,"user_id":8391546,"display_name":"abj1305"},"score":0,"creation_date":1556167513,"post_id":55829516,"comment_id":98346732,"body_markdown":"You may find this [link](https://dzone.com/articles/communicating-between-microservices) useful.","body":"You may find this <a href=\"https://dzone.com/articles/communicating-between-microservices\" rel=\"nofollow noreferrer\">link</a> useful."}],"owner":{"account_id":9088500,"reputation":436,"user_id":6765460,"display_name":"Forece85"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":720,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697656043,"creation_date":1556107018,"question_id":55829516,"body_markdown":"I have 2 microservices, A and B and a postgres database. Microservice B directly interacts with database to perform CRUD operations. From microservice A, while starting up application, we are caching all database records. Now for any update/insert in db using Microservice B should also update cache in Microservice A. \r\n\r\nCurrently we are using time-based cache refresh i.e., updating caching in Microservice A for every 1 hour. \r\n\r\nPlease suggest better approach or any cache mechanisms that handle this..\r\n\r\nThanks in Advance.","title":"How to refresh cache of a microservice for any CRUD operation performed on DB from another microservice","body":"<p>I have 2 microservices, A and B and a postgres database. Microservice B directly interacts with database to perform CRUD operations. From microservice A, while starting up application, we are caching all database records. Now for any update/insert in db using Microservice B should also update cache in Microservice A. </p>\n\n<p>Currently we are using time-based cache refresh i.e., updating caching in Microservice A for every 1 hour. </p>\n\n<p>Please suggest better approach or any cache mechanisms that handle this..</p>\n\n<p>Thanks in Advance.</p>\n"},{"tags":["java","minecraft","spigot"],"comments":[{"owner":{"account_id":20612404,"reputation":131,"user_id":15131279,"display_name":"Lanfix"},"score":0,"creation_date":1698434092,"post_id":77318994,"comment_id":136409966,"body_markdown":"Hello, could you be more precise about your goal with this code ?","body":"Hello, could you be more precise about your goal with this code ?"}],"owner":{"account_id":24581454,"reputation":11,"user_id":18486515,"display_name":"Kifo"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":85,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697655920,"creation_date":1697655920,"question_id":77318994,"body_markdown":"I have the following code:\r\n\r\n    public void lungeTask(Entity entity) {\r\n        this.entity = entity;\r\n        Location spawnLoc = getLocAroundCircle(this.player.getLocation(), Double.valueOf(Lunged.getInstance().getConfiguration().getRadius()), Double.valueOf(0.0D));\r\n        PathEntity path = ((EntityInsentient)((CraftEntity)entity).getHandle()).getNavigation().a(spawnLoc.getX(),\r\n                spawnLoc.getY(), spawnLoc.getZ(), 0);\r\n        Location center = this.player.getLocation();\r\n        ((EntityInsentient)((CraftEntity)entity).getHandle()).getNavigation().a(path, 1.78D);\r\n        this.task = Bukkit.getScheduler().runTaskTimer((Plugin)Lunged.getInstance(), () -&gt; {\r\n            if (entity.getLocation().distance(spawnLoc) &lt; 1.0D) {\r\n                lunge(entity, center);\r\n                this.task.cancel();\r\n            } else {\r\n                entity.getHandle()).getNavigation().a(path, 1.78D);\r\n            }\r\n        }0L, 2L);\r\n    }\r\n\r\n\r\nThe problem is, that &quot;PathEntity&quot; and &quot;EntityInsentient&quot; are no longer part of the Spigot API. So my question is how can I replace the two classes using Spigot 1.20.1?","title":"Minecraft move entity with Spigot 1.20.1","body":"<p>I have the following code:</p>\n<pre><code>public void lungeTask(Entity entity) {\n    this.entity = entity;\n    Location spawnLoc = getLocAroundCircle(this.player.getLocation(), Double.valueOf(Lunged.getInstance().getConfiguration().getRadius()), Double.valueOf(0.0D));\n    PathEntity path = ((EntityInsentient)((CraftEntity)entity).getHandle()).getNavigation().a(spawnLoc.getX(),\n            spawnLoc.getY(), spawnLoc.getZ(), 0);\n    Location center = this.player.getLocation();\n    ((EntityInsentient)((CraftEntity)entity).getHandle()).getNavigation().a(path, 1.78D);\n    this.task = Bukkit.getScheduler().runTaskTimer((Plugin)Lunged.getInstance(), () -&gt; {\n        if (entity.getLocation().distance(spawnLoc) &lt; 1.0D) {\n            lunge(entity, center);\n            this.task.cancel();\n        } else {\n            entity.getHandle()).getNavigation().a(path, 1.78D);\n        }\n    }0L, 2L);\n}\n</code></pre>\n<p>The problem is, that &quot;PathEntity&quot; and &quot;EntityInsentient&quot; are no longer part of the Spigot API. So my question is how can I replace the two classes using Spigot 1.20.1?</p>\n"},{"tags":["java","maven","cucumber","gherkin"],"answers":[{"comments":[{"owner":{"account_id":29626574,"reputation":13,"user_id":22706131,"display_name":"Rado"},"score":0,"creation_date":1697661442,"post_id":77318931,"comment_id":136309577,"body_markdown":"Oh my god thank you, now that you explained it seems obvious","body":"Oh my god thank you, now that you explained it seems obvious"}],"tags":[],"owner":{"account_id":4895787,"reputation":10858,"user_id":3945473,"display_name":"M.P. Korstanje"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1697655277,"creation_date":1697655277,"answer_id":77318931,"question_id":77318689,"body_markdown":"In your scenario you have a step:\r\n\r\n```feature\r\nThen fill in credentials with &lt;alias&gt;\r\n```\r\n\r\nBecause this is a step in a scenario outline the `&lt;alias&gt;` gets replaced with the value of your examples.\r\n\r\n```feature\r\nExamples:\r\n      | alias | address  | city     | zip    | country | phone     |\r\n      | RWT   | Lubelska | Warszawa | 01-999 | Poland  | 498100234 |\r\n```\r\n\r\nSo your step is now\r\n\r\n```feature\r\nThen fill in credentials with RWT\r\n```\r\n\r\nThis does not match your step definition. The fish brackets are treated as regular text here.\r\n\r\n```java\r\n@Then(&quot;fill in credentials with &lt;alias&gt;&quot;)\r\n```\r\n\r\nWhich is why Cucumber suggests:\r\n\r\n```java\r\n@Then(&quot;fill in credentials with RWT&quot;)\r\n```\r\n\r\nYou can change your step to\r\n\r\n```feature\r\nThen fill in credentials with &quot;&lt;alias&gt;&quot;\r\n```\r\n\r\nAnd your step definition to \r\n\r\n```java\r\n@Then(&quot;fill in credentials with {string}&quot;)\r\n```\r\n\r\nThen both will match.\r\n\r\nAlso by adding the quotes in the step, Cucumber will suggest parametrized step definitions.\r\n\r\nBtw, you do not need the `gherkin` dependency. It is a transitive dependency and is included automatically.\r\n","title":"Cucumber java - maven- example table - one step undefined","body":"<p>In your scenario you have a step:</p>\n<pre><code>Then fill in credentials with &lt;alias&gt;\n</code></pre>\n<p>Because this is a step in a scenario outline the <code>&lt;alias&gt;</code> gets replaced with the value of your examples.</p>\n<pre><code>Examples:\n      | alias | address  | city     | zip    | country | phone     |\n      | RWT   | Lubelska | Warszawa | 01-999 | Poland  | 498100234 |\n</code></pre>\n<p>So your step is now</p>\n<pre><code>Then fill in credentials with RWT\n</code></pre>\n<p>This does not match your step definition. The fish brackets are treated as regular text here.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Then(&quot;fill in credentials with &lt;alias&gt;&quot;)\n</code></pre>\n<p>Which is why Cucumber suggests:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Then(&quot;fill in credentials with RWT&quot;)\n</code></pre>\n<p>You can change your step to</p>\n<pre><code>Then fill in credentials with &quot;&lt;alias&gt;&quot;\n</code></pre>\n<p>And your step definition to</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Then(&quot;fill in credentials with {string}&quot;)\n</code></pre>\n<p>Then both will match.</p>\n<p>Also by adding the quotes in the step, Cucumber will suggest parametrized step definitions.</p>\n<p>Btw, you do not need the <code>gherkin</code> dependency. It is a transitive dependency and is included automatically.</p>\n"}],"owner":{"account_id":29626574,"reputation":13,"user_id":22706131,"display_name":"Rado"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77318931,"answer_count":1,"score":1,"last_activity_date":1697655277,"creation_date":1697652667,"question_id":77318689,"body_markdown":"I am an absolute beginner to coding of any sort, and I am currently doing a final project for a course I have been attending.\r\n\r\nI am hard stuck on one of my steps, however. I get &quot;step undefined&quot; no matter what I do. Now internet points me towards glue in cucumber options however I am sure that I have specified the package and all my other steps work just fine, in case of bad glue all steps are undefined as I found out earlier.\r\n\r\nSo, in my case, this one singular step keeps being undefined, and I just cannot work it out.\r\n\r\nHere are my step definitions\r\n\r\n```\r\npackage Mystore;\r\nimport io.cucumber.datatable.DataTable;\r\nimport io.cucumber.datatable.UndefinedDataTableTypeException;\r\nimport io.cucumber.java.en.And;\r\nimport io.cucumber.java.AfterAll;\r\nimport io.cucumber.java.BeforeAll;\r\nimport io.cucumber.java.Before;\r\nimport org.openqa.selenium.By;\r\nimport org.openqa.selenium.WebDriver;\r\nimport org.openqa.selenium.WebElement;\r\nimport org.openqa.selenium.chrome.ChromeDriver;\r\nimport io.cucumber.java.en.Given;\r\nimport io.cucumber.java.en.Then;\r\nimport io.cucumber.java.en.When;\r\n\r\nimport java.util.List;\r\nimport java.util.Map;\r\nimport java.util.concurrent.TimeUnit;\r\n\r\npublic class StepDefinition {\r\n\r\n    private static WebDriver driver;\r\n\r\n    @Before\r\n    public void setup() {\r\n        driver = new ChromeDriver();\r\n    }\r\n\r\n    //@AfterAll\r\n    //public static void teardown() {\r\n       // driver.quit();\r\n    //}\r\n\r\n    @Given(&quot;User is logged in&quot;)\r\n    public void user_is_logged_in() {\r\n        driver.get(&quot;https://mystore-testlab.coderslab.pl/index.php&quot;);\r\n\r\n        WebElement element;\r\n        element = driver.findElement(By.className(&quot;user-info&quot;));\r\n        driver.manage().timeouts().implicitlyWait(3, TimeUnit.SECONDS);\r\n        element.click();\r\n        WebElement email = driver.findElement(By.id(&quot;field-email&quot;));\r\n        driver.manage().timeouts().implicitlyWait(3, TimeUnit.SECONDS);\r\n        email.click();\r\n        email.sendKeys(&quot;gkqvuzdwzxoltwlnij@ckptr.com&quot;);\r\n        driver.findElement(By.id(&quot;field-password&quot;)).sendKeys(&quot;qwerty1&quot;);\r\n        WebElement sign = driver.findElement(By.id(&quot;submit-login&quot;));\r\n        sign.click();\r\n\r\n    }\r\n    @When(&quot;add address is clicked&quot;)\r\n    public void add_address_is_clicked() {\r\n\r\n        WebElement address;\r\n        address = driver.findElement(By.xpath(&quot;//*[@id=\\&quot;footer_account_list\\&quot;]/li[4]/a&quot;));\r\n        address.click();\r\n        WebElement clkaddress;\r\n        clkaddress = driver.findElement(By.xpath(&quot;//*[@id=\\&quot;content\\&quot;]/div[2]/a&quot;));\r\n        driver.manage().timeouts().implicitlyWait(3, TimeUnit.SECONDS);\r\n        clkaddress.click();\r\n    }\r\n    @Then(&quot;fill in credentials with &lt;alias&gt;&quot;)\r\n    public void fill_in_credentials_with(String alias){\r\n\r\n        driver.findElement(By.className(&quot;col-md-6&quot;)).sendKeys(alias);\r\n        //alias.sendKeys(Userdata.cell(1,1));\r\n    }\r\n    @And(&quot;submit and close the page&quot;)\r\n        public void ubmit_and_close_the_page() {\r\n            driver.quit();\r\n    }\r\n}\r\n```\r\n\r\nMy feature\r\n\r\n```\r\nFeature: Create address on mystore\r\n\r\n  Scenario Outline: Test filling in address\r\n    Given User is logged in\r\n    When add address is clicked\r\n    Then fill in credentials with &lt;alias&gt;\r\n    And submit and close the page\r\n\r\n    Examples:\r\n      | alias | address  | city     | zip    | country | phone     |\r\n      | RWT   | Lubelska | Warszawa | 01-999 | Poland  | 498100234 |\r\n```\r\n\r\nMy runner\r\n\r\n```\r\npackage Mystore;\r\n\r\nimport org.junit.runner.RunWith;\r\nimport io.cucumber.junit.CucumberOptions;\r\nimport io.cucumber.junit.Cucumber;\r\n\r\n//glue = {&quot;helpers&quot;, &quot;src.test.java.steps&quot;},\r\n@RunWith(Cucumber.class)\r\n@CucumberOptions(\r\n        features = &quot;src/test/Resources/Mystore/Userdata.feature&quot;,\r\n        glue = {&quot;Mystore&quot;},\r\n        snippets = CucumberOptions.SnippetType.CAMELCASE,\r\n        plugin = {&quot;pretty&quot;}\r\n)\r\n        //format = {&quot;pretty&quot;})\r\n\r\npublic final class RunCucumberTest {\r\n\r\n}\r\n```\r\n\r\nmy POM\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;groupId&gt;com.zaliczenie&lt;/groupId&gt;\r\n    &lt;artifactId&gt;zaliczenie&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;maven.compiler.source&gt;20&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;20&lt;/maven.compiler.target&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;!-- https://mvnrepository.com/artifact/org.seleniumhq.selenium/selenium-java --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n            &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\r\n            &lt;version&gt;4.14.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!-- https://mvnrepository.com/artifact/io.cucumber/cucumber-java --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;junit&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n            &lt;version&gt;4.13.2&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n            &lt;artifactId&gt;selenium-support&lt;/artifactId&gt;\r\n            &lt;version&gt;4.13.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\r\n            &lt;artifactId&gt;gherkin&lt;/artifactId&gt;\r\n            &lt;version&gt;22.0.0&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\r\n            &lt;artifactId&gt;cucumber-junit&lt;/artifactId&gt;\r\n            &lt;version&gt;7.0.0&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\r\n            &lt;artifactId&gt;cucumber-java&lt;/artifactId&gt;\r\n            &lt;version&gt;7.0.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n    &lt;/dependencies&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\nError\r\n\r\n```\r\nio.cucumber.junit.UndefinedStepException: The step &#39;fill in credentials with RWT&#39; is undefined.\r\nYou can implement this step using the snippet(s) below:\r\n\r\n@Then(&quot;fill in credentials with RWT&quot;)\r\npublic void fillInCredentialsWithRWT() {\r\n    // Write code here that turns the phrase above into concrete actions\r\n    throw new io.cucumber.java.PendingException();\r\n}\r\n```\r\n\r\n\r\nI looked at glue already and it should be fine. I did make sure my dependencies aren&#39;t outdated or incompatible with one another. I tried several different methods.\r\n\r\nFile structure looks like this \r\n\r\n[enter image description here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/pX3Pt.png","title":"Cucumber java - maven- example table - one step undefined","body":"<p>I am an absolute beginner to coding of any sort, and I am currently doing a final project for a course I have been attending.</p>\n<p>I am hard stuck on one of my steps, however. I get &quot;step undefined&quot; no matter what I do. Now internet points me towards glue in cucumber options however I am sure that I have specified the package and all my other steps work just fine, in case of bad glue all steps are undefined as I found out earlier.</p>\n<p>So, in my case, this one singular step keeps being undefined, and I just cannot work it out.</p>\n<p>Here are my step definitions</p>\n<pre><code>package Mystore;\nimport io.cucumber.datatable.DataTable;\nimport io.cucumber.datatable.UndefinedDataTableTypeException;\nimport io.cucumber.java.en.And;\nimport io.cucumber.java.AfterAll;\nimport io.cucumber.java.BeforeAll;\nimport io.cucumber.java.Before;\nimport org.openqa.selenium.By;\nimport org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.WebElement;\nimport org.openqa.selenium.chrome.ChromeDriver;\nimport io.cucumber.java.en.Given;\nimport io.cucumber.java.en.Then;\nimport io.cucumber.java.en.When;\n\nimport java.util.List;\nimport java.util.Map;\nimport java.util.concurrent.TimeUnit;\n\npublic class StepDefinition {\n\n    private static WebDriver driver;\n\n    @Before\n    public void setup() {\n        driver = new ChromeDriver();\n    }\n\n    //@AfterAll\n    //public static void teardown() {\n       // driver.quit();\n    //}\n\n    @Given(&quot;User is logged in&quot;)\n    public void user_is_logged_in() {\n        driver.get(&quot;https://mystore-testlab.coderslab.pl/index.php&quot;);\n\n        WebElement element;\n        element = driver.findElement(By.className(&quot;user-info&quot;));\n        driver.manage().timeouts().implicitlyWait(3, TimeUnit.SECONDS);\n        element.click();\n        WebElement email = driver.findElement(By.id(&quot;field-email&quot;));\n        driver.manage().timeouts().implicitlyWait(3, TimeUnit.SECONDS);\n        email.click();\n        email.sendKeys(&quot;gkqvuzdwzxoltwlnij@ckptr.com&quot;);\n        driver.findElement(By.id(&quot;field-password&quot;)).sendKeys(&quot;qwerty1&quot;);\n        WebElement sign = driver.findElement(By.id(&quot;submit-login&quot;));\n        sign.click();\n\n    }\n    @When(&quot;add address is clicked&quot;)\n    public void add_address_is_clicked() {\n\n        WebElement address;\n        address = driver.findElement(By.xpath(&quot;//*[@id=\\&quot;footer_account_list\\&quot;]/li[4]/a&quot;));\n        address.click();\n        WebElement clkaddress;\n        clkaddress = driver.findElement(By.xpath(&quot;//*[@id=\\&quot;content\\&quot;]/div[2]/a&quot;));\n        driver.manage().timeouts().implicitlyWait(3, TimeUnit.SECONDS);\n        clkaddress.click();\n    }\n    @Then(&quot;fill in credentials with &lt;alias&gt;&quot;)\n    public void fill_in_credentials_with(String alias){\n\n        driver.findElement(By.className(&quot;col-md-6&quot;)).sendKeys(alias);\n        //alias.sendKeys(Userdata.cell(1,1));\n    }\n    @And(&quot;submit and close the page&quot;)\n        public void ubmit_and_close_the_page() {\n            driver.quit();\n    }\n}\n</code></pre>\n<p>My feature</p>\n<pre><code>Feature: Create address on mystore\n\n  Scenario Outline: Test filling in address\n    Given User is logged in\n    When add address is clicked\n    Then fill in credentials with &lt;alias&gt;\n    And submit and close the page\n\n    Examples:\n      | alias | address  | city     | zip    | country | phone     |\n      | RWT   | Lubelska | Warszawa | 01-999 | Poland  | 498100234 |\n</code></pre>\n<p>My runner</p>\n<pre><code>package Mystore;\n\nimport org.junit.runner.RunWith;\nimport io.cucumber.junit.CucumberOptions;\nimport io.cucumber.junit.Cucumber;\n\n//glue = {&quot;helpers&quot;, &quot;src.test.java.steps&quot;},\n@RunWith(Cucumber.class)\n@CucumberOptions(\n        features = &quot;src/test/Resources/Mystore/Userdata.feature&quot;,\n        glue = {&quot;Mystore&quot;},\n        snippets = CucumberOptions.SnippetType.CAMELCASE,\n        plugin = {&quot;pretty&quot;}\n)\n        //format = {&quot;pretty&quot;})\n\npublic final class RunCucumberTest {\n\n}\n</code></pre>\n<p>my POM</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;com.zaliczenie&lt;/groupId&gt;\n    &lt;artifactId&gt;zaliczenie&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n\n    &lt;properties&gt;\n        &lt;maven.compiler.source&gt;20&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;20&lt;/maven.compiler.target&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;!-- https://mvnrepository.com/artifact/org.seleniumhq.selenium/selenium-java --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n            &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\n            &lt;version&gt;4.14.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/io.cucumber/cucumber-java --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;junit&lt;/groupId&gt;\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\n            &lt;version&gt;4.13.2&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n            &lt;artifactId&gt;selenium-support&lt;/artifactId&gt;\n            &lt;version&gt;4.13.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\n            &lt;artifactId&gt;gherkin&lt;/artifactId&gt;\n            &lt;version&gt;22.0.0&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\n            &lt;artifactId&gt;cucumber-junit&lt;/artifactId&gt;\n            &lt;version&gt;7.0.0&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\n            &lt;artifactId&gt;cucumber-java&lt;/artifactId&gt;\n            &lt;version&gt;7.0.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n    &lt;/dependencies&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>Error</p>\n<pre><code>io.cucumber.junit.UndefinedStepException: The step 'fill in credentials with RWT' is undefined.\nYou can implement this step using the snippet(s) below:\n\n@Then(&quot;fill in credentials with RWT&quot;)\npublic void fillInCredentialsWithRWT() {\n    // Write code here that turns the phrase above into concrete actions\n    throw new io.cucumber.java.PendingException();\n}\n</code></pre>\n<p>I looked at glue already and it should be fine. I did make sure my dependencies aren't outdated or incompatible with one another. I tried several different methods.</p>\n<p>File structure looks like this</p>\n<p><a href=\"https://i.stack.imgur.com/pX3Pt.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"},{"tags":["java","android","contentobserver"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1697741479,"post_id":77318923,"comment_id":136321384,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"owner":{"account_id":26504627,"reputation":1,"user_id":20140970,"display_name":"Rohit Rathore"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":13,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697655184,"creation_date":1697655184,"question_id":77318923,"body_markdown":"Sms ContentObserver class function on change execute 3 times how to manage 1 time.\r\n\r\nHow to gwt one sms on the onchange() function   .\r\n\r\nContentObserver in onchange() function why execute 3 time why this function execute 3 time                                  \r\n  \r\n         ","title":"Sms ContentObserver onChange() function execute 3 times","body":"<p>Sms ContentObserver class function on change execute 3 times how to manage 1 time.</p>\n<p>How to gwt one sms on the onchange() function   .</p>\n<p>ContentObserver in onchange() function why execute 3 time why this function execute 3 time</p>\n"},{"tags":["java","spring-boot","audit","sqlexception","javers"],"owner":{"account_id":29702816,"reputation":1,"user_id":22764478,"display_name":"VinayJava"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":12,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697654877,"creation_date":1697654877,"question_id":77318887,"body_markdown":"We are using javers 5.10.3. During Process Javers complaining about different exceptions in different process and these issues are intermittant. Please assist here\r\n\r\nMost frequently occurring this issue and dont know what has wrong here as its intermittent issue.\r\nError:\r\norg.javers.common.exception.JaversException: SQL_EXCEPTION: Cannot add or update a child row: a foreign key constraint fails (paymentgalaxy_firstbank.jv_snapshot, CONSTRAINT jv_snapshot_global_id_fk FOREIGN KEY (global_id_fk) REFERENCES jv_global_id (global_id_pk))\r\n\r\nNumberFormatException - We are not sure from where its looking this value. We checked out entity and nowhere i found this value.\r\nError:\r\nat org.javers.core.json.typeadapter.commit.GlobalIdTypeAdapter.deserializeInstanceId(GlobalIdTypeAdapter.java:80) ~[javers-core-5.10.3.jar!/:na]\r\nat com.google.gson.internal.bind.TreeTypeAdapter$GsonContextImpl.deserialize(TreeTypeAdapter.java:162) ~[gson-2.8.6.jar!/:na]\r\nat com.google.gson.Gson.fromJson(Gson.java:1003) ~[gson-2.8.6.jar!/:na]\r\nat com.google.gson.Gson.fromJson(Gson.java:932) ~[gson-2.8.6.jar!/:na]\r\nat com.google.gson.internal.bind.TypeAdapters$11.read(TypeAdapters.java:296) ~[gson-2.8.6.jar!/:na]\r\nat com.google.gson.internal.bind.TypeAdapters$11.read(TypeAdapters.java:306) ~[gson-2.8.6.jar!/:na]\r\ncom.google.gson.JsonSyntaxException: java.lang.NumberFormatException: For input string: &quot;facd4e72-48e4-4cc5-a524-6ae85aa7a735&quot;\r\n2023-Oct-12 12:30:54.253 ERROR [http-nio-8080-exec-7] c.s.g.p.a.PaymentFlowController - Error while performing flow steps, java.lang.NumberFormatException: For input string: &quot;facd4e72-48e4-4cc5-a524-6ae85aa7a735&quot;,{}\r\n\r\nWe are expecting if someone faced similar exception and what is solution or work around or there is issue reported in version that we are using.\r\nWhat version has this fix implemented?","title":"Javers audit framework throwing intermittant SQL exception","body":"<p>We are using javers 5.10.3. During Process Javers complaining about different exceptions in different process and these issues are intermittant. Please assist here</p>\n<p>Most frequently occurring this issue and dont know what has wrong here as its intermittent issue.\nError:\norg.javers.common.exception.JaversException: SQL_EXCEPTION: Cannot add or update a child row: a foreign key constraint fails (paymentgalaxy_firstbank.jv_snapshot, CONSTRAINT jv_snapshot_global_id_fk FOREIGN KEY (global_id_fk) REFERENCES jv_global_id (global_id_pk))</p>\n<p>NumberFormatException - We are not sure from where its looking this value. We checked out entity and nowhere i found this value.\nError:\nat org.javers.core.json.typeadapter.commit.GlobalIdTypeAdapter.deserializeInstanceId(GlobalIdTypeAdapter.java:80) ~[javers-core-5.10.3.jar!/:na]\nat com.google.gson.internal.bind.TreeTypeAdapter$GsonContextImpl.deserialize(TreeTypeAdapter.java:162) ~[gson-2.8.6.jar!/:na]\nat com.google.gson.Gson.fromJson(Gson.java:1003) ~[gson-2.8.6.jar!/:na]\nat com.google.gson.Gson.fromJson(Gson.java:932) ~[gson-2.8.6.jar!/:na]\nat com.google.gson.internal.bind.TypeAdapters$11.read(TypeAdapters.java:296) ~[gson-2.8.6.jar!/:na]\nat com.google.gson.internal.bind.TypeAdapters$11.read(TypeAdapters.java:306) ~[gson-2.8.6.jar!/:na]\ncom.google.gson.JsonSyntaxException: java.lang.NumberFormatException: For input string: &quot;facd4e72-48e4-4cc5-a524-6ae85aa7a735&quot;\n2023-Oct-12 12:30:54.253 ERROR [http-nio-8080-exec-7] c.s.g.p.a.PaymentFlowController - Error while performing flow steps, java.lang.NumberFormatException: For input string: &quot;facd4e72-48e4-4cc5-a524-6ae85aa7a735&quot;,{}</p>\n<p>We are expecting if someone faced similar exception and what is solution or work around or there is issue reported in version that we are using.\nWhat version has this fix implemented?</p>\n"},{"tags":["java","constructor","initialization"],"comments":[{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":3,"creation_date":1697639181,"post_id":77317197,"comment_id":136305545,"body_markdown":"&quot;Only the constructor guarantees the instance creation and availability of this&quot; - could you clarify what you mean by that, and how you&#39;ve come to that conclusion?","body":"&quot;Only the constructor guarantees the instance creation and availability of this&quot; - could you clarify what you mean by that, and how you&#39;ve come to that conclusion?"},{"owner":{"display_name":"user6073886"},"score":0,"creation_date":1697639259,"post_id":77317197,"comment_id":136305554,"body_markdown":"Just because an initialization block is executed before the constructor does not mean that at that moment the object doesn&#39;t already exist.\n\nIf a initialization block would not know what object it belongs to (and therefor allow the use of `this`), what would be the point of initialization blocks? If initialization blocks wouldn&#39;t have access to the object they belong to they could literally do no initializing of said object and that would make initialization blocks a pretty useless feature.","body":"Just because an initialization block is executed before the constructor does not mean that at that moment the object doesn&#39;t already exist.  If a initialization block would not know what object it belongs to (and therefor allow the use of <code>this</code>), what would be the point of initialization blocks? If initialization blocks wouldn&#39;t have access to the object they belong to they could literally do no initializing of said object and that would make initialization blocks a pretty useless feature."},{"owner":{"account_id":11244318,"reputation":389,"user_id":8247530,"display_name":"Rifat Rubayatul Islam"},"score":2,"creation_date":1697639573,"post_id":77317197,"comment_id":136305623,"body_markdown":"Checkout the [Java Language Specification](https://docs.oracle.com/javase/specs/jls/se7/html/jls-12.html#jls-12.5) for details.","body":"Checkout the <a href=\"https://docs.oracle.com/javase/specs/jls/se7/html/jls-12.html#jls-12.5\" rel=\"nofollow noreferrer\">Java Language Specification</a> for details."},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1697640721,"post_id":77317197,"comment_id":136305892,"body_markdown":"Remember that a constructor has already been called: `public class Test extends Object`.  All Java classes extend `Object` and its constructors are called first.  Then your class&#39;s constructors get called, including the init block.  Well that&#39;s the theory, I suspect really that `Object`s are created just by allocating heap memory for efficiency, so really `this` just points to the heap memory that&#39;s been created for your object.","body":"Remember that a constructor has already been called: <code>public class Test extends Object</code>.  All Java classes extend <code>Object</code> and its constructors are called first.  Then your class&#39;s constructors get called, including the init block.  Well that&#39;s the theory, I suspect really that <code>Object</code>s are created just by allocating heap memory for efficiency, so really <code>this</code> just points to the heap memory that&#39;s been created for your object."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1697641496,"post_id":77317197,"comment_id":136306092,"body_markdown":"@markspace - the heap node&#39;s header will also be initialized ... including the information that says what the instance&#39;s class will be.  Bui, most likely the call to the `Object()` constructor will be optimized away (by the JIT compiler or the runtime system) because it does nothing.   (It would be interesting to see what would happen if you modded the JVM codebase and put some code into the `Object()` constructor ...)","body":"@markspace - the heap node&#39;s header will also be initialized ... including the information that says what the instance&#39;s class will be.  Bui, most likely the call to the <code>Object()</code> constructor will be optimized away (by the JIT compiler or the runtime system) because it does nothing.   (It would be interesting to see what would happen if you modded the JVM codebase and put some code into the <code>Object()</code> constructor ...)"},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1697666322,"post_id":77317197,"comment_id":136310221,"body_markdown":"It is not executed befor the constructor. It is executed after the explicit or implicit `super()’ call *in* the constructor.","body":"It is not executed befor the constructor. It is executed after the explicit or implicit `super()’ call <i>in</i> the constructor."},{"owner":{"account_id":29700831,"reputation":3,"user_id":22763043,"display_name":"MaksimBodrov"},"score":0,"creation_date":1697709338,"post_id":77317197,"comment_id":136315059,"body_markdown":"Oh, I see that `this` becomes available immediately after `super()` Thanks!","body":"Oh, I see that <code>this</code> becomes available immediately after <code>super()</code> Thanks!"}],"answers":[{"tags":[],"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1697654784,"creation_date":1697654784,"answer_id":77318878,"question_id":77317197,"body_markdown":"The Java Language Specification ([12.5 Creation of New Class Instances](https://docs.oracle.com/javase/specs/jls/se21/html/jls-12.html#jls-12.5) has the exact details.\r\n\r\nBasically the Java Compiler creates for your class the same bytecode as the following class (where the call to the super constructor and the instance initializers explicitly written):\r\n\r\n    public class Test {\r\n    \r\n        public Test() {\r\n            super();  // Point 3: call the super constructor\r\n            {  // Point 4: execute instance initializers and instance variable initializers\r\n                this.privatePrint();\r\n                this.publicPrint();\r\n            }\r\n            // Point 5: Execute the rest of the body of this constructor\r\n            System.out.print(&quot; Constructor &quot;);\r\n        }\r\n    \r\n        public void publicPrint() {\r\n            System.out.print(&quot; public &quot;);\r\n        }\r\n    \r\n        public void privatePrint() {\r\n            System.out.print(&quot; private &quot;);\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            new Test();\r\n        }\r\n    \r\n    }\r\n\r\n","title":"Why can I call instance method in instance init block?","body":"<p>The Java Language Specification (<a href=\"https://docs.oracle.com/javase/specs/jls/se21/html/jls-12.html#jls-12.5\" rel=\"nofollow noreferrer\">12.5 Creation of New Class Instances</a> has the exact details.</p>\n<p>Basically the Java Compiler creates for your class the same bytecode as the following class (where the call to the super constructor and the instance initializers explicitly written):</p>\n<pre><code>public class Test {\n\n    public Test() {\n        super();  // Point 3: call the super constructor\n        {  // Point 4: execute instance initializers and instance variable initializers\n            this.privatePrint();\n            this.publicPrint();\n        }\n        // Point 5: Execute the rest of the body of this constructor\n        System.out.print(&quot; Constructor &quot;);\n    }\n\n    public void publicPrint() {\n        System.out.print(&quot; public &quot;);\n    }\n\n    public void privatePrint() {\n        System.out.print(&quot; private &quot;);\n    }\n\n    public static void main(String[] args) {\n        new Test();\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":29700831,"reputation":3,"user_id":22763043,"display_name":"MaksimBodrov"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":77318878,"answer_count":1,"score":-1,"last_activity_date":1697654784,"creation_date":1697638838,"question_id":77317197,"body_markdown":"The instance initialisation block is invoked before constructor but **this** is available in it already. And so we can call any public or private methods. But why? Only the constructor guarantees the instance creation and availability of **this**\r\n\r\n\r\n```\r\npublic class Test {\r\n\r\n    {\r\n        this.privatePrint();\r\n        this.publicPrint();\r\n    }\r\n\r\n    public Test() {\r\n        System.out.print(&quot; Constructor &quot;);\r\n    }\r\n\r\n    public void publicPrint() {\r\n        System.out.print(&quot; public &quot;);\r\n    }\r\n\r\n    public void privatePrint() {\r\n        System.out.print(&quot; private &quot;);\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        new Test();\r\n    }\r\n\r\n}\r\n```\r\nThe output is ` private  public  Constructor `\r\n\r\nI tested it on jdk 11 and 17\r\n\r\n\r\n\r\nI was surprised by the behavior of the order of object initialization methods","title":"Why can I call instance method in instance init block?","body":"<p>The instance initialisation block is invoked before constructor but <strong>this</strong> is available in it already. And so we can call any public or private methods. But why? Only the constructor guarantees the instance creation and availability of <strong>this</strong></p>\n<pre><code>public class Test {\n\n    {\n        this.privatePrint();\n        this.publicPrint();\n    }\n\n    public Test() {\n        System.out.print(&quot; Constructor &quot;);\n    }\n\n    public void publicPrint() {\n        System.out.print(&quot; public &quot;);\n    }\n\n    public void privatePrint() {\n        System.out.print(&quot; private &quot;);\n    }\n\n    public static void main(String[] args) {\n        new Test();\n    }\n\n}\n</code></pre>\n<p>The output is <code>private  public  Constructor</code></p>\n<p>I tested it on jdk 11 and 17</p>\n<p>I was surprised by the behavior of the order of object initialization methods</p>\n"},{"tags":["javascript","java","spring","spring-boot","websocket"],"comments":[{"owner":{"account_id":11288679,"reputation":923,"user_id":8278630,"display_name":"Farkhod Abdukodirov"},"score":0,"creation_date":1697679328,"post_id":77318835,"comment_id":136311293,"body_markdown":"Hi there, Please provide full error message~","body":"Hi there, Please provide full error message~"}],"owner":{"account_id":16666476,"reputation":1,"user_id":12044984,"display_name":"Ichi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697654246,"creation_date":1697654246,"question_id":77318835,"body_markdown":"**I&#39;m having trouble using spring with @ServerEndPoint annotated class**\r\n\r\nDev tool console said *WebSocket connection to &#39;ws://localhost:8080/room/1&#39; failed: *\r\nServer console doesn&#39;t say anything.\r\n\r\nOrigin in a request header is `http://localhost:8080` so cross origin is not cause.\r\nWhat is wrong ?\r\nThank you.\r\n\r\nbuild.gradle\r\n\r\n```\r\nplugins {\r\n\tid &#39;java&#39;\r\n\tid &#39;org.springframework.boot&#39; version &#39;3.1.4&#39;\r\n\tid &#39;io.spring.dependency-management&#39; version &#39;1.1.3&#39;\r\n}\r\n\r\ngroup = &#39;com.jp.ichi&#39;\r\nversion = &#39;0.0.1-SNAPSHOT&#39;\r\n\r\njava {\r\n\tsourceCompatibility = &#39;17&#39;\r\n}\r\n\r\nrepositories {\r\n\tmavenCentral()\r\n}\r\n\r\ndependencies {\r\n\timplementation &#39;org.springframework.boot:spring-boot-starter-websocket&#39;\r\n\timplementation &#39;org.springframework.session:spring-session-core&#39;\r\n\ttestImplementation &#39;org.springframework.boot:spring-boot-starter-test&#39;\r\n\timplementation &#39;org.springframework.boot:spring-boot-starter-thymeleaf&#39;\r\n\r\n\tdevelopmentOnly &#39;org.springframework.boot:spring-boot-devtools&#39;\r\n\timplementation &#39;org.webjars:webjars-locator-core&#39;\r\n\timplementation &#39;org.webjars:sockjs-client:1.5.1&#39;\r\n\timplementation &#39;org.webjars:stomp-websocket:2.3.4&#39;\r\n\timplementation &#39;org.webjars:bootstrap:5.2.3&#39;\r\n\timplementation &#39;org.webjars:jquery:3.6.4&#39;\r\n}\r\n\r\ntasks.named(&#39;test&#39;) {\r\n\tuseJUnitPlatform()\r\n}\r\n\r\n```\r\n\r\nannotated class\r\n```\r\npackage com.jp.ichi.demo;\r\n\r\nimport jakarta.websocket.*;\r\nimport jakarta.websocket.server.ServerEndpoint;\r\n\r\nimport java.util.*;\r\n\r\n@ServerEndpoint(value = &quot;/room/{roomId}&quot;)\r\npublic class RoomEndpoint {\r\n    private static final Map&lt;String,Set&lt;Session&gt;&gt; sessionMap = Collections.synchronizedMap(new HashMap&lt;&gt;());\r\n\r\n    @OnOpen\r\n    public void onOpen(Session session) {\r\n        System.out.println(&quot;on open&quot;);\r\n        Set&lt;Session&gt; set = sessionMap.getOrDefault(&quot;test&quot;,Collections.synchronizedSet(new HashSet&lt;&gt;()));\r\n        set.add(session);\r\n    }\r\n\r\n    @OnClose\r\n    public void onClose(Session session) {\r\n        String roomName = &quot;test&quot;;\r\n        Set&lt;Session&gt; set = sessionMap.get(roomName);\r\n        if (set != null) {\r\n            set.remove(session);\r\n            if (set.isEmpty()) {\r\n                sessionMap.remove(roomName);\r\n            }\r\n        }\r\n    }\r\n\r\n    @OnMessage\r\n    public void onMessage(Session session,String message) {\r\n        String roomName = &quot;test&quot;;\r\n        Set&lt;Session&gt; set = sessionMap.get(roomName);\r\n        if (set != null) {\r\n            for (Session s : set) {\r\n                s.getAsyncRemote().sendText(message);\r\n            }\r\n        }\r\n    }\r\n\r\n    @OnError\r\n    public void onError(Session session,Throwable throwable) {\r\n        System.out.println(&quot;error&quot;);\r\n    }\r\n}\r\n```\r\ncontroller\r\n\r\n```\r\npackage com.jp.ichi.demo;\r\n\r\nimport org.springframework.stereotype.Controller;\r\nimport org.springframework.web.bind.annotation.GetMapping;\r\n\r\n@Controller\r\npublic class TestController {\r\n    @GetMapping(&quot;/room/*&quot;)\r\n    public String room() {\r\n        return &quot;room&quot;;\r\n    }\r\n}\r\n```\r\nhtml code\r\n\r\n```\r\n&lt;!DOCTYPE html&gt;\r\n&lt;html lang=&quot;en&quot;&gt;\r\n&lt;head&gt;\r\n    &lt;meta charset=&quot;UTF-8&quot;&gt;\r\n    &lt;title&gt;Test&lt;/title&gt;\r\n&lt;/head&gt;\r\n&lt;body&gt;\r\n&lt;script type=&quot;text/javascript&quot; charset=&quot;utf-8&quot;&gt;\r\n        var socket = new WebSocket(&quot;ws://localhost:8080/room/1&quot;);\r\n        socket.onmessage = function(event) {\r\n            console.log(event.data);\r\n        }\r\n&lt;/script&gt;\r\n&lt;/body&gt;\r\n&lt;/html&gt;\r\n```\r\n\r\n","title":"Springboot @ServerEndpoint failed to connection","body":"<p><strong>I'm having trouble using spring with @ServerEndPoint annotated class</strong></p>\n<p>Dev tool console said *WebSocket connection to 'ws://localhost:8080/room/1' failed: *\nServer console doesn't say anything.</p>\n<p>Origin in a request header is <code>http://localhost:8080</code> so cross origin is not cause.\nWhat is wrong ?\nThank you.</p>\n<p>build.gradle</p>\n<pre><code>plugins {\n    id 'java'\n    id 'org.springframework.boot' version '3.1.4'\n    id 'io.spring.dependency-management' version '1.1.3'\n}\n\ngroup = 'com.jp.ichi'\nversion = '0.0.1-SNAPSHOT'\n\njava {\n    sourceCompatibility = '17'\n}\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    implementation 'org.springframework.boot:spring-boot-starter-websocket'\n    implementation 'org.springframework.session:spring-session-core'\n    testImplementation 'org.springframework.boot:spring-boot-starter-test'\n    implementation 'org.springframework.boot:spring-boot-starter-thymeleaf'\n\n    developmentOnly 'org.springframework.boot:spring-boot-devtools'\n    implementation 'org.webjars:webjars-locator-core'\n    implementation 'org.webjars:sockjs-client:1.5.1'\n    implementation 'org.webjars:stomp-websocket:2.3.4'\n    implementation 'org.webjars:bootstrap:5.2.3'\n    implementation 'org.webjars:jquery:3.6.4'\n}\n\ntasks.named('test') {\n    useJUnitPlatform()\n}\n\n</code></pre>\n<p>annotated class</p>\n<pre><code>package com.jp.ichi.demo;\n\nimport jakarta.websocket.*;\nimport jakarta.websocket.server.ServerEndpoint;\n\nimport java.util.*;\n\n@ServerEndpoint(value = &quot;/room/{roomId}&quot;)\npublic class RoomEndpoint {\n    private static final Map&lt;String,Set&lt;Session&gt;&gt; sessionMap = Collections.synchronizedMap(new HashMap&lt;&gt;());\n\n    @OnOpen\n    public void onOpen(Session session) {\n        System.out.println(&quot;on open&quot;);\n        Set&lt;Session&gt; set = sessionMap.getOrDefault(&quot;test&quot;,Collections.synchronizedSet(new HashSet&lt;&gt;()));\n        set.add(session);\n    }\n\n    @OnClose\n    public void onClose(Session session) {\n        String roomName = &quot;test&quot;;\n        Set&lt;Session&gt; set = sessionMap.get(roomName);\n        if (set != null) {\n            set.remove(session);\n            if (set.isEmpty()) {\n                sessionMap.remove(roomName);\n            }\n        }\n    }\n\n    @OnMessage\n    public void onMessage(Session session,String message) {\n        String roomName = &quot;test&quot;;\n        Set&lt;Session&gt; set = sessionMap.get(roomName);\n        if (set != null) {\n            for (Session s : set) {\n                s.getAsyncRemote().sendText(message);\n            }\n        }\n    }\n\n    @OnError\n    public void onError(Session session,Throwable throwable) {\n        System.out.println(&quot;error&quot;);\n    }\n}\n</code></pre>\n<p>controller</p>\n<pre><code>package com.jp.ichi.demo;\n\nimport org.springframework.stereotype.Controller;\nimport org.springframework.web.bind.annotation.GetMapping;\n\n@Controller\npublic class TestController {\n    @GetMapping(&quot;/room/*&quot;)\n    public String room() {\n        return &quot;room&quot;;\n    }\n}\n</code></pre>\n<p>html code</p>\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html lang=&quot;en&quot;&gt;\n&lt;head&gt;\n    &lt;meta charset=&quot;UTF-8&quot;&gt;\n    &lt;title&gt;Test&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n&lt;script type=&quot;text/javascript&quot; charset=&quot;utf-8&quot;&gt;\n        var socket = new WebSocket(&quot;ws://localhost:8080/room/1&quot;);\n        socket.onmessage = function(event) {\n            console.log(event.data);\n        }\n&lt;/script&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n"},{"tags":["java","multithreading","sockets","java.util.concurrent"],"comments":[{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1697666544,"post_id":77318812,"comment_id":136310245,"body_markdown":"You’re going to get the connection timeouts anyway, trying to open 50,000 connections to a server that only handles 20 at a time and only has so much backlog.","body":"You’re going to get the connection timeouts anyway, trying to open 50,000 connections to a server that only handles 20 at a time and only has so much backlog."},{"owner":{"account_id":29702661,"reputation":1,"user_id":22764373,"display_name":"Wanda"},"score":0,"creation_date":1697736230,"post_id":77318812,"comment_id":136320479,"body_markdown":"hi @user207421, thanks for your reply! Yeah I see why I will have the timeout, but what I don&#39;t quite understand is why the number of server threads would drop from 20 to 1. I was expecting that all 20 threads would be busy handling the requests, even though it&#39;s not fast enough and I still get timeouts later.","body":"hi @user207421, thanks for your reply! Yeah I see why I will have the timeout, but what I don&#39;t quite understand is why the number of server threads would drop from 20 to 1. I was expecting that all 20 threads would be busy handling the requests, even though it&#39;s not fast enough and I still get timeouts later."}],"owner":{"account_id":29702661,"reputation":1,"user_id":22764373,"display_name":"Wanda"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697654077,"creation_date":1697654077,"question_id":77318812,"body_markdown":"***Background***\r\n\r\nI&#39;m learning Java Socket on my own. I created a Socket Server and Client to run on localhost. \r\n- Server uses a fixed-size threadpool of size 20 to handle connections. \r\n- Client creates 50 threads and each sends 1000 connection requests to server one by one.\r\n- I use a thread-safe object `ActiveCount` to count the active server threads in each connection.\r\n\r\n***Behavior***\r\n\r\nAfter I start server and client, the ActiveCount object shows the number is stable at 20 for like 5 seconds and the requests are handled at good speed. Then the number starts to drop and reach to 1 active thread only and stuck for 3 seconds. Then due to this low performance, I got `java.net.ConnectException: Operation timed out (Connection timed out)`. \r\n\r\n***Code***\r\n\r\nServer\r\n```\r\npublic static void main(String[] args) throws IOException {\r\n        ServerSocket serverSocket = new ServerSocket(12031);\r\n        ActiveCount threadCount = new ActiveCount(); // for counting current active threads\r\n        Executor pool = Executors.newFixedThreadPool(20);\r\n        while (true) {\r\n            // accept connection and start thread\r\n            Socket clientSocket = serverSocket.accept();\r\n            pool.execute(() -&gt; {\r\n                threadCount.incrementCount();\r\n                try {\r\n                    // Some I/O operations here...\r\n                    BufferedReader in = new BufferedReader(new InputStreamReader(clientSocket.getInputStream()));\r\n                    PrintWriter out = new PrintWriter(new OutputStreamWriter(clientSocket.getOutputStream()));\r\n\r\n                    String clientID = in.readLine();\r\n                    System.out.println(&quot;Client ID is: &quot; + clientID);\r\n                    out.println(&quot;Active Server Thread Count = &quot; + threadCount.getCount());\r\n                    out.flush();\r\n                } catch (IOException e) {\r\n                    System.err.println(&quot;Server has IO Exception: &quot; + e);\r\n                } finally {\r\n                    threadCount.decrementCount();\r\n                    try { clientSocket.close(); } catch (IOException e) {}\r\n                    System.out.println(&quot;Thread exiting&quot;);\r\n                }\r\n            });\r\n        }\r\n    }\r\n```\r\n\r\nClient\r\n\r\n```\r\npublic class SocketClientMultithreaded {\r\n    static CyclicBarrier barrier; \r\n    \r\n    public static void main(String[] args){\r\n        String hostName;\r\n        int port;\r\n        int numOfThreads = 50;\r\n\r\n        hostName= &quot;localhost&quot;;\r\n        port = 12031;  // default port in SocketServer\r\n        barrier = new CyclicBarrier(numOfThreads);\r\n\r\n        // start 50 SocketClientThread\r\n        for (int i = 0; i &lt; numOfThreads; i++) {\r\n            Runnable runnable = () -&gt; {\r\n                Socket s;\r\n                for (int j = 0; j &lt; 1000; j++) { // send 1000 requests to the server socket\r\n                    try {\r\n                        s = new Socket(hostName, port);\r\n                        PrintWriter out = new PrintWriter(s.getOutputStream(), true);\r\n                        BufferedReader in = new BufferedReader(new InputStreamReader(s.getInputStream()));\r\n                        out.println(&quot;Client ID is &quot; +  Thread.currentThread().getId());\r\n                        System.out.println(in.readLine()); // print the current active thread count sent from server\r\n                    } catch (UnknownHostException e) {\r\n                        System.err.println(&quot;Don&#39;t know about host &quot; + hostName);\r\n                        break;\r\n                    } catch (IOException e) {\r\n                        System.err.println(&quot;I/O connection exception: &quot; + e);\r\n                        break;\r\n                    }\r\n                }\r\n                try {\r\n                    System.out.println(&quot;Thread waiting at barrier&quot;);\r\n                    barrier.await();\r\n                } catch (InterruptedException | BrokenBarrierException e) {\r\n                    Logger.getLogger(SocketClientThread.class.getName()).log(Level.SEVERE, null, e);\r\n                }\r\n            };\r\n            new Thread(runnable).start(); // start the thread\r\n        }\r\n    }\r\n}\r\n\r\n```\r\n\r\n***Terminal***\r\n[Terminal output](https://i.stack.imgur.com/qcPeM.png)\r\n\r\n\r\nI suspects there may be some resource problem but the memory usage seems to low. I&#39;m not sure why the thread number would drop and hope to get some help here. Really appreciate it!\r\n","title":"Java Socket on Localhost - Server thread number drops after a while and causes Connections timeout","body":"<p><em><strong>Background</strong></em></p>\n<p>I'm learning Java Socket on my own. I created a Socket Server and Client to run on localhost.</p>\n<ul>\n<li>Server uses a fixed-size threadpool of size 20 to handle connections.</li>\n<li>Client creates 50 threads and each sends 1000 connection requests to server one by one.</li>\n<li>I use a thread-safe object <code>ActiveCount</code> to count the active server threads in each connection.</li>\n</ul>\n<p><em><strong>Behavior</strong></em></p>\n<p>After I start server and client, the ActiveCount object shows the number is stable at 20 for like 5 seconds and the requests are handled at good speed. Then the number starts to drop and reach to 1 active thread only and stuck for 3 seconds. Then due to this low performance, I got <code>java.net.ConnectException: Operation timed out (Connection timed out)</code>.</p>\n<p><em><strong>Code</strong></em></p>\n<p>Server</p>\n<pre><code>public static void main(String[] args) throws IOException {\n        ServerSocket serverSocket = new ServerSocket(12031);\n        ActiveCount threadCount = new ActiveCount(); // for counting current active threads\n        Executor pool = Executors.newFixedThreadPool(20);\n        while (true) {\n            // accept connection and start thread\n            Socket clientSocket = serverSocket.accept();\n            pool.execute(() -&gt; {\n                threadCount.incrementCount();\n                try {\n                    // Some I/O operations here...\n                    BufferedReader in = new BufferedReader(new InputStreamReader(clientSocket.getInputStream()));\n                    PrintWriter out = new PrintWriter(new OutputStreamWriter(clientSocket.getOutputStream()));\n\n                    String clientID = in.readLine();\n                    System.out.println(&quot;Client ID is: &quot; + clientID);\n                    out.println(&quot;Active Server Thread Count = &quot; + threadCount.getCount());\n                    out.flush();\n                } catch (IOException e) {\n                    System.err.println(&quot;Server has IO Exception: &quot; + e);\n                } finally {\n                    threadCount.decrementCount();\n                    try { clientSocket.close(); } catch (IOException e) {}\n                    System.out.println(&quot;Thread exiting&quot;);\n                }\n            });\n        }\n    }\n</code></pre>\n<p>Client</p>\n<pre><code>public class SocketClientMultithreaded {\n    static CyclicBarrier barrier; \n    \n    public static void main(String[] args){\n        String hostName;\n        int port;\n        int numOfThreads = 50;\n\n        hostName= &quot;localhost&quot;;\n        port = 12031;  // default port in SocketServer\n        barrier = new CyclicBarrier(numOfThreads);\n\n        // start 50 SocketClientThread\n        for (int i = 0; i &lt; numOfThreads; i++) {\n            Runnable runnable = () -&gt; {\n                Socket s;\n                for (int j = 0; j &lt; 1000; j++) { // send 1000 requests to the server socket\n                    try {\n                        s = new Socket(hostName, port);\n                        PrintWriter out = new PrintWriter(s.getOutputStream(), true);\n                        BufferedReader in = new BufferedReader(new InputStreamReader(s.getInputStream()));\n                        out.println(&quot;Client ID is &quot; +  Thread.currentThread().getId());\n                        System.out.println(in.readLine()); // print the current active thread count sent from server\n                    } catch (UnknownHostException e) {\n                        System.err.println(&quot;Don't know about host &quot; + hostName);\n                        break;\n                    } catch (IOException e) {\n                        System.err.println(&quot;I/O connection exception: &quot; + e);\n                        break;\n                    }\n                }\n                try {\n                    System.out.println(&quot;Thread waiting at barrier&quot;);\n                    barrier.await();\n                } catch (InterruptedException | BrokenBarrierException e) {\n                    Logger.getLogger(SocketClientThread.class.getName()).log(Level.SEVERE, null, e);\n                }\n            };\n            new Thread(runnable).start(); // start the thread\n        }\n    }\n}\n\n</code></pre>\n<p><em><strong>Terminal</strong></em>\n<a href=\"https://i.stack.imgur.com/qcPeM.png\" rel=\"nofollow noreferrer\">Terminal output</a></p>\n<p>I suspects there may be some resource problem but the memory usage seems to low. I'm not sure why the thread number would drop and hope to get some help here. Really appreciate it!</p>\n"},{"tags":["java","lombok"],"comments":[{"owner":{"account_id":11377012,"reputation":12772,"user_id":8340997,"display_name":"Anish B."},"score":1,"creation_date":1697651919,"post_id":77318353,"comment_id":136308050,"body_markdown":"It&#39;s already explained here - https://github.com/projectlombok/lombok/issues/2044. Please read this.","body":"It&#39;s already explained here - <a href=\"https://github.com/projectlombok/lombok/issues/2044\" rel=\"nofollow noreferrer\">github.com/projectlombok/lombok/issues/2044</a>. Please read this."}],"answers":[{"tags":[],"owner":{"account_id":28965224,"reputation":321,"user_id":22186847,"display_name":"JoreJoh"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697653983,"creation_date":1697653983,"answer_id":77318803,"question_id":77318353,"body_markdown":"It doesn&#39;t support static imports indeed. To see that, try running `clean` and then `compile` (assuming it&#39;s a Maven project)\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/EaVoC.png","title":"Does Lombok&#39;s @UtilityClass support static imports? Are you sure it doesn&#39;t?","body":"<p>It doesn't support static imports indeed. To see that, try running <code>clean</code> and then <code>compile</code> (assuming it's a Maven project)</p>\n<p><a href=\"https://i.stack.imgur.com/EaVoC.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/EaVoC.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":28965224,"reputation":321,"user_id":22186847,"display_name":"JoreJoh"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":60,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"answer_count":1,"score":-3,"last_activity_date":1697653983,"creation_date":1697648967,"question_id":77318353,"body_markdown":"Lombok&#39;s doc says `@UtilityClass` doesn&#39;t provide support for static imports:\r\n\r\n&gt; Due to limitations in javac, currently non-star static imports cannot be used to import stuff from @UtilityClasses; don&#39;t static import, or use star imports.\r\n\r\nHowever, I just checked, and it seems to work fine:\r\n```java\r\n@UtilityClass\r\npublic class AuthenticationUtils {\r\n    public UUID getClientId(Authentication authentication) {\r\n        return UUID.fromString(authentication.getName());\r\n    }\r\n}\r\n```\r\n```java\r\nimport static by.afinny.apigateway.util.AuthenticationUtils.getClientId;\r\n\r\n// more annotations\r\n@RestController\r\npublic class CreditCardController {\r\n    @GetMapping\r\n    public ResponseEntity&lt;List&lt;CreditCardDto&gt;&gt; getCreditCards(Authentication authentication) {\r\n        return creditCardClient.getCreditCards(getClientId(authentication));\r\n    }\r\n```\r\n```java\r\n@WebMvcTest(CreditCardController.class)\r\nclass CreditCardControllerTest {\r\n    // tests that pass\r\n```\r\nWas it fixed? Did the doc mean something else?","title":"Does Lombok&#39;s @UtilityClass support static imports? Are you sure it doesn&#39;t?","body":"<p>Lombok's doc says <code>@UtilityClass</code> doesn't provide support for static imports:</p>\n<blockquote>\n<p>Due to limitations in javac, currently non-star static imports cannot be used to import stuff from @UtilityClasses; don't static import, or use star imports.</p>\n</blockquote>\n<p>However, I just checked, and it seems to work fine:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@UtilityClass\npublic class AuthenticationUtils {\n    public UUID getClientId(Authentication authentication) {\n        return UUID.fromString(authentication.getName());\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>import static by.afinny.apigateway.util.AuthenticationUtils.getClientId;\n\n// more annotations\n@RestController\npublic class CreditCardController {\n    @GetMapping\n    public ResponseEntity&lt;List&lt;CreditCardDto&gt;&gt; getCreditCards(Authentication authentication) {\n        return creditCardClient.getCreditCards(getClientId(authentication));\n    }\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@WebMvcTest(CreditCardController.class)\nclass CreditCardControllerTest {\n    // tests that pass\n</code></pre>\n<p>Was it fixed? Did the doc mean something else?</p>\n"},{"tags":["java","selenium","xpath"],"comments":[{"owner":{"account_id":6106038,"reputation":1680,"user_id":4763733,"accept_rate":25,"display_name":"Fran Montero"},"score":0,"creation_date":1493283084,"post_id":43652975,"comment_id":74353391,"body_markdown":"Is `By.xpath(&quot;//div[@class=&#39;alert alert-count&#39;]/p)` working?","body":"Is <code>By.xpath(&quot;&#47;&#47;div[@class=&#39;alert alert-count&#39;]&#47;p)</code> working?"},{"owner":{"account_id":7899691,"reputation":642,"user_id":5967122,"accept_rate":62,"display_name":"Prasad_Joshi"},"score":0,"creation_date":1493283143,"post_id":43652975,"comment_id":74353433,"body_markdown":"yes..it is working correctly, only problem is to get that value in a string","body":"yes..it is working correctly, only problem is to get that value in a string"}],"answers":[{"tags":[],"owner":{"account_id":9296472,"reputation":3349,"user_id":6903223,"accept_rate":67,"display_name":"Kushal Bhalaik"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1493283233,"creation_date":1493283233,"answer_id":43653073,"question_id":43652975,"body_markdown":"Try using following:\r\n\r\n      String count = driver.findElement(By.cssSelector(&quot;div.alert.alert-count p&quot;)).getText();","title":"how to get value of text wrapped in paragraph element &lt;p&gt; with selenium in java","body":"<p>Try using following:</p>\n\n<pre><code>  String count = driver.findElement(By.cssSelector(\"div.alert.alert-count p\")).getText();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9978796,"reputation":2603,"user_id":7382406,"accept_rate":75,"display_name":"Jainish Kapadia"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1493283939,"creation_date":1493283621,"answer_id":43653220,"question_id":43652975,"body_markdown":"Try this below code using `xpath locator`\r\n\r\n    String element = driver.findElement(By.xpath(&quot;//div[@class=&#39;alert alert-count&#39;]/p/b&quot;)).getText();\r\n    System.out.println(element);\r\n\r\n**Explanation of xpath:-** Use `class` attribute of `&lt;div&gt;` tag and move ahead with `&lt;p&gt;` and `&lt;b&gt;` tag.","title":"how to get value of text wrapped in paragraph element &lt;p&gt; with selenium in java","body":"<p>Try this below code using <code>xpath locator</code></p>\n\n<pre><code>String element = driver.findElement(By.xpath(\"//div[@class='alert alert-count']/p/b\")).getText();\nSystem.out.println(element);\n</code></pre>\n\n<p><strong>Explanation of xpath:-</strong> Use <code>class</code> attribute of <code>&lt;div&gt;</code> tag and move ahead with <code>&lt;p&gt;</code> and <code>&lt;b&gt;</code> tag.</p>\n"},{"tags":[],"owner":{"account_id":9752994,"reputation":21,"user_id":7230652,"display_name":"shinde suraj"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1520885367,"creation_date":1520880266,"answer_id":49242427,"question_id":43652975,"body_markdown":"\r\nTry this below code using XPath locator\r\n\r\n\r\n    String element = driver.findElement(By.xpath(&quot;//div[@class=&#39;alert alert-count&#39;]&quot;)).getText();\r\n    System.out.println(element);\r\n\r\n\r\n\r\n","title":"how to get value of text wrapped in paragraph element &lt;p&gt; with selenium in java","body":"<p>Try this below code using XPath locator</p>\n\n<pre><code>String element = driver.findElement(By.xpath(\"//div[@class='alert alert-count']\")).getText();\nSystem.out.println(element);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6461874,"reputation":83,"user_id":5005360,"display_name":"danz"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697653704,"creation_date":1697653704,"answer_id":77318784,"question_id":43652975,"body_markdown":"I&#39;ve tried this locally here (in Python) and it works.\r\n\r\nThe XPath syntax seems to be:\r\n```\r\n//p[@class=&#39;classname&#39;]\r\n```\r\n\r\n**Example:**\r\n\r\nObject I&#39;m trying to grab:\r\n```\r\n&lt;p class=&quot;randomtext&quot;&gt;Random Text&lt;/p&gt;\r\n```\r\n\r\nCode to get the object:\r\n```\r\nvar = browser.find_element(By.XPATH, value=&quot;//p[@class=&#39;randomtext&#39;]&quot;)\r\nprint(var.text)\r\n&gt;&gt;&gt; Random Text\r\n```\r\n","title":"how to get value of text wrapped in paragraph element &lt;p&gt; with selenium in java","body":"<p>I've tried this locally here (in Python) and it works.</p>\n<p>The XPath syntax seems to be:</p>\n<pre><code>//p[@class='classname']\n</code></pre>\n<p><strong>Example:</strong></p>\n<p>Object I'm trying to grab:</p>\n<pre><code>&lt;p class=&quot;randomtext&quot;&gt;Random Text&lt;/p&gt;\n</code></pre>\n<p>Code to get the object:</p>\n<pre><code>var = browser.find_element(By.XPATH, value=&quot;//p[@class='randomtext']&quot;)\nprint(var.text)\n&gt;&gt;&gt; Random Text\n</code></pre>\n"}],"owner":{"account_id":7899691,"reputation":642,"user_id":5967122,"accept_rate":62,"display_name":"Prasad_Joshi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":23131,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":43653073,"answer_count":4,"score":2,"last_activity_date":1697653704,"creation_date":1493282964,"question_id":43652975,"body_markdown":"I have a button, clicking on it generates a number which is wrapped in paragraph text such as `&lt;p&gt;random number &lt;p&gt;`, I want to get that random number value and do operations based on number it generates. From below I need to get `34,756` number and store it in java here is the html code for it:\r\n\r\n    &lt;div class=&quot;form-group&quot;&gt;\r\n    &lt;div class=&quot;alert alert-count&quot;&gt;\r\n      &lt;p&gt;\r\n      &lt;b&gt;\r\n    &lt;!-- react-text: 531 --&gt;\r\n    &lt;!-- /react-text --&gt;\r\n    &lt;!-- react-text: 532 --&gt;\r\n     34,756\r\n    &lt;!-- /react-text --&gt;\r\n    &lt;/b&gt;\r\n\r\n\r\nand the xpath I used is as below\r\n\r\n    String count = driver.findElement(By.xpath(&quot;//div[@class=&#39;alert alert-count&#39;]/p[1]/b).getText();\r\n\r\nbut on console it gives error as \r\n\r\n&gt; Exception in thread &quot;main&quot; java.lang.NullPointerException\r\n","title":"how to get value of text wrapped in paragraph element &lt;p&gt; with selenium in java","body":"<p>I have a button, clicking on it generates a number which is wrapped in paragraph text such as <code>&lt;p&gt;random number &lt;p&gt;</code>, I want to get that random number value and do operations based on number it generates. From below I need to get <code>34,756</code> number and store it in java here is the html code for it:</p>\n\n<pre><code>&lt;div class=\"form-group\"&gt;\n&lt;div class=\"alert alert-count\"&gt;\n  &lt;p&gt;\n  &lt;b&gt;\n&lt;!-- react-text: 531 --&gt;\n&lt;!-- /react-text --&gt;\n&lt;!-- react-text: 532 --&gt;\n 34,756\n&lt;!-- /react-text --&gt;\n&lt;/b&gt;\n</code></pre>\n\n<p>and the xpath I used is as below</p>\n\n<pre><code>String count = driver.findElement(By.xpath(\"//div[@class='alert alert-count']/p[1]/b).getText();\n</code></pre>\n\n<p>but on console it gives error as </p>\n\n<blockquote>\n  <p>Exception in thread \"main\" java.lang.NullPointerException</p>\n</blockquote>\n"},{"tags":["java","windows-subsystem-for-linux","ubuntu-20.04","vcf-variant-call-format","gatk"],"comments":[{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1697511619,"post_id":77305452,"comment_id":136285886,"body_markdown":"This is not a Java programming question.  In fact, I don&#39;t think it is a programming question at all.  Rather ... it seems to be a question about how to &gt;use&lt; some software.  It is off-topic on StackOverflow.","body":"This is not a Java programming question.  In fact, I don&#39;t think it is a programming question at all.  Rather ... it seems to be a question about how to &gt;use&lt; some software.  It is off-topic on StackOverflow."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1697511837,"post_id":77305452,"comment_id":136285906,"body_markdown":"And at a guess ... the error means that you have to add a &quot;--known-sites&quot; argument on the command line.  The error message says that argument is missing, and the command summary says it is a &quot;Required&quot; argument.","body":"And at a guess ... the error means that you have to add a &quot;--known-sites&quot; argument on the command line.  The error message says that argument is missing, and the command summary says it is a &quot;Required&quot; argument."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1697511966,"post_id":77305452,"comment_id":136285913,"body_markdown":"And I bet that `${Known_Sites}` is expanding to nothing ... because someone / something didn&#39;t set that environment variable.","body":"And I bet that <code>${Known_Sites}</code> is expanding to nothing ... because someone / something didn&#39;t set that environment variable."}],"answers":[{"comments":[{"owner":{"account_id":29687235,"reputation":3,"user_id":22752471,"display_name":"user22752471"},"score":0,"creation_date":1697670148,"post_id":77313222,"comment_id":136310562,"body_markdown":"Thank you for the help. \nwith the given known site data was different from what I used. I used these known sites and it resolved the issue.","body":"Thank you for the help.  with the given known site data was different from what I used. I used these known sites and it resolved the issue."},{"owner":{"account_id":29687235,"reputation":3,"user_id":22752471,"display_name":"user22752471"},"score":0,"creation_date":1697670214,"post_id":77313222,"comment_id":136310568,"body_markdown":"Then I get an error as &quot;USER ERROR has occurred: Cannot read file:///home/hi/Documents/data/ref/Mills_and_1000G_gold_standard.indels.hg38.vcf because no suitable codecs found&quot;","body":"Then I get an error as &quot;USER ERROR has occurred: Cannot read file:///home/hi/Documents/data/ref/Mills_and_1000G_gold_stan&zwnj;&#8203;dard.indels.hg38.vcf because no suitable codecs found&quot;"},{"owner":{"account_id":27642838,"reputation":30,"user_id":21099424,"display_name":"heiha"},"score":0,"creation_date":1697678517,"post_id":77313222,"comment_id":136311225,"body_markdown":"@user22752471, you can find a tool called `IndexFeatureFile` in GATK&#39;s Tool Index. Index the vcf file before running BQSR, or you can just download the index of the vcf file, Broad Institute has provided it, you can find it [here](https://console.cloud.google.com/storage/browser/genomics-public-data/resources/broad/hg38/v0/).  The index of a vcf file should ends with `.vcf.gz.tbi` or `vcf.idx`","body":"@user22752471, you can find a tool called <code>IndexFeatureFile</code> in GATK&#39;s Tool Index. Index the vcf file before running BQSR, or you can just download the index of the vcf file, Broad Institute has provided it, you can find it <a href=\"https://console.cloud.google.com/storage/browser/genomics-public-data/resources/broad/hg38/v0/\" rel=\"nofollow noreferrer\">here</a>.  The index of a vcf file should ends with <code>.vcf.gz.tbi</code> or <code>vcf.idx</code>"},{"owner":{"account_id":29687235,"reputation":3,"user_id":22752471,"display_name":"user22752471"},"score":0,"creation_date":1697985115,"post_id":77313222,"comment_id":136345198,"body_markdown":"Is there a way to get the correct vcf file? I have used &quot;wget https://storage.googleapis.com/genomics-public-data/resources/broad/hg38/v0/Homo_sapiens_assembly38.dbsnp138.vcf&quot; and Homo_sapiens_assembly38.dbsnp138.vcf.idx&quot;  but still getting the error A USER ERROR has occurred: Cannot read file:///home/hi/Documents/data/ref/Homo_sapiens_assembly38.dbsnp138.vcf because no suitable codecs found \nSet the system property GATK_STACKTRACE_ON_USER_EXCEPTION (--java-options &#39;-DGATK_STACKTRACE_ON_USER_EXCEPTION=true&#39;) to print the stack trace.&quot;","body":"Is there a way to get the correct vcf file? I have used &quot;wget <a href=\"https://storage.googleapis.com/genomics-public-data/resources/broad/hg38/v0/Homo_sapiens_assembly38.dbsnp138.vcf\" rel=\"nofollow noreferrer\">storage.googleapis.com/genomics-public-data/resources/broad/&zwnj;&#8203;&hellip;</a>&quot; and Homo_sapiens_assembly38.dbsnp138.vcf.idx&quot;  but still getting the error A USER ERROR has occurred: Cannot read file:///home/hi/Documents/data/ref/Homo_sapiens_assembly38.d&zwnj;&#8203;bsnp138.vcf because no suitable codecs found  Set the system property GATK_STACKTRACE_ON_USER_EXCEPTION (--java-options &#39;-DGATK_STACKTRACE_ON_USER_EXCEPTION=true&#39;) to print the stack trace.&quot;"},{"owner":{"account_id":27642838,"reputation":30,"user_id":21099424,"display_name":"heiha"},"score":0,"creation_date":1698627409,"post_id":77313222,"comment_id":136425657,"body_markdown":"@user22752471 using `wget` to download a storaged in google was a good idea, to use `wget`, you should have the Direct Link, or using [`gsutil`](https://cloud.google.com/storage/docs/gsutil)","body":"@user22752471 using <code>wget</code> to download a storaged in google was a good idea, to use <code>wget</code>, you should have the Direct Link, or using <a href=\"https://cloud.google.com/storage/docs/gsutil\" rel=\"nofollow noreferrer\"><code>gsutil</code></a>"}],"tags":[],"owner":{"account_id":27642838,"reputation":30,"user_id":21099424,"display_name":"heiha"},"comment_count":5,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1697597319,"creation_date":1697597319,"answer_id":77313222,"question_id":77305452,"body_markdown":"Please pay attention to this\r\n&gt; Using GATK jar /home/hi/Documents/gatk-4.4.0.0/gatk-package-4.4.0.0-local.jar Running: java -Dsamjdk.use_async_io_read_samtools=false -Dsamjdk.use_async_io_write_samtools=true -Dsamjdk.use_async_io_write_tribble=false -Dsamjdk.compression_level=2 -jar /home/hi/Documents/gatk-4.4.0.0/gatk-package-4.4.0.0-local.jar BaseRecalibrator -I /file_copy_sorted.bam -R _--known-sites_ -O /sorted_Read1.table USAGE: BaseRecalibrator [arguments]\r\n\r\nthat is how GATK explains your command, as Stephen C said, ${Known_Sites}, which is a shell variable, may not be set before your running this command.\r\n \r\nFor hunman, your can provide dbSNP like `dbsnp_138.hg38.vcf.gz` and `Mills_and_1000G_gold_standard.indels.hg38.vcf` etc to `--known-sites` argument. If you can not find a known site for your data, please follow the [instructions](https://gatk.broadinstitute.org/hc/en-us/articles/360035890531-Base-Quality-Score-Recalibration-BQSR-) here. ","title":"base recalibrator --known-sites argument does not work","body":"<p>Please pay attention to this</p>\n<blockquote>\n<p>Using GATK jar /home/hi/Documents/gatk-4.4.0.0/gatk-package-4.4.0.0-local.jar Running: java -Dsamjdk.use_async_io_read_samtools=false -Dsamjdk.use_async_io_write_samtools=true -Dsamjdk.use_async_io_write_tribble=false -Dsamjdk.compression_level=2 -jar /home/hi/Documents/gatk-4.4.0.0/gatk-package-4.4.0.0-local.jar BaseRecalibrator -I /file_copy_sorted.bam -R <em>--known-sites</em> -O /sorted_Read1.table USAGE: BaseRecalibrator [arguments]</p>\n</blockquote>\n<p>that is how GATK explains your command, as Stephen C said, ${Known_Sites}, which is a shell variable, may not be set before your running this command.</p>\n<p>For hunman, your can provide dbSNP like <code>dbsnp_138.hg38.vcf.gz</code> and <code>Mills_and_1000G_gold_standard.indels.hg38.vcf</code> etc to <code>--known-sites</code> argument. If you can not find a known site for your data, please follow the <a href=\"https://gatk.broadinstitute.org/hc/en-us/articles/360035890531-Base-Quality-Score-Recalibration-BQSR-\" rel=\"nofollow noreferrer\">instructions</a> here.</p>\n"}],"owner":{"account_id":29687235,"reputation":3,"user_id":22752471,"display_name":"user22752471"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":119,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77313222,"answer_count":1,"score":0,"last_activity_date":1697652839,"creation_date":1697499275,"question_id":77305452,"body_markdown":"When I run this\r\n```\r\ngatk BaseRecalibrator -I ${aligned_reads}/file_copy_sorted.bam -R ${referance} --known-sites ${Known_Sites} -O ${data1}/sorted_Read1.table\r\n```\r\nthis error occur\r\n\r\n&gt; A USER ERROR has occurred: Argument known-sites was missing: _Argument &#39;known-sites&#39; is required_\r\n\r\n\r\nthis is what I tried \r\n\r\n\r\nUsing GATK jar /home/hi/Documents/gatk-4.4.0.0/gatk-package-4.4.0.0-local.jar\r\nRunning:\r\n    java -Dsamjdk.use_async_io_read_samtools=false -Dsamjdk.use_async_io_write_samtools=true -Dsamjdk.use_async_io_write_tribble=false -Dsamjdk.compression_level=2 -jar /home/hi/Documents/gatk-4.4.0.0/gatk-package-4.4.0.0-local.jar BaseRecalibrator -I /file_copy_sorted.bam -R --known-sites -O /sorted_Read1.table\r\nUSAGE: BaseRecalibrator [arguments]\r\n\r\nFirst pass of the Base Quality Score Recalibration (BQSR) -- Generates recalibration table based on various\r\nuser-specified covariates (such as read group, reported quality score, machine cycle, and nucleotide context).\r\nVersion:4.4.0.0\r\n\r\n\r\nRequired Arguments:\r\n\r\n--input,-I &lt;GATKPath&gt;         BAM/SAM/CRAM file containing reads  This argument must be specified at least once.\r\n                              Required. \r\n\r\n--known-sites &lt;FeatureInput&gt;  One or more databases of known polymorphic sites used to exclude regions around known\r\n                              polymorphisms from analysis.  This argument must be specified at least once. Required. \r\n\r\n--output,-O &lt;GATKPath&gt;        The output recalibration table file to create  Required. \r\n\r\n--reference,-R &lt;GATKPath&gt;     Reference sequence file  Required. \r\n\r\n\r\nOptional Arguments:\r\n\r\n--add-output-sam-program-record &lt;Boolean&gt;\r\n                              If true, adds a PG tag to created SAM/BAM/CRAM files.  Default value: true. Possible\r\n                              values: {true, false} \r\n\r\n--add-output-vcf-command-line &lt;Boolean&gt;\r\n                              If true, adds a command line header line to created VCF files.  Default value: true.\r\n                              Possible values: {true, false} \r\n\r\n--arguments_file &lt;File&gt;       read one or more arguments files and add them to the command line  This argument may be\r\n                              specified 0 or more times. Default value: null. \r\n\r\n--binary-tag-name &lt;String&gt;    the binary tag covariate name if using it  Default value: null. \r\n\r\n--bqsr-baq-gap-open-penalty &lt;Double&gt;\r\n                              BQSR BAQ gap open penalty (Phred Scaled).  Default value is 40.  30 is perhaps better for\r\n                              whole genome call sets  Default value: 40.0. \r\n\r\n--cloud-index-prefetch-buffer,-CIPB &lt;Integer&gt;\r\n                              Size of the cloud-only prefetch buffer (in MB; 0 to disable). Defaults to\r\n                              cloudPrefetchBuffer if unset.  Default value: -1. \r\n\r\n--cloud-prefetch-buffer,-CPB &lt;Integer&gt;\r\n                              Size of the cloud-only prefetch buffer (in MB; 0 to disable).  Default value: 40. \r\n\r\n--create-output-bam-index,-OBI &lt;Boolean&gt;\r\n                              If true, create a BAM/CRAM index when writing a coordinate-sorted BAM/CRAM file.  Default\r\n                              value: true. Possible values: {true, false} \r\n\r\n--create-output-bam-md5,-OBM &lt;Boolean&gt;\r\n                              If true, create a MD5 digest for any BAM/SAM/CRAM file created  Default value: false.\r\n                              Possible values: {true, false} \r\n\r\n--create-output-variant-index,-OVI &lt;Boolean&gt;\r\n                              If true, create a VCF index when writing a coordinate-sorted VCF file.  Default value:\r\n                              true. Possible values: {true, false} \r\n\r\n--create-output-variant-md5,-OVM &lt;Boolean&gt;\r\n                              If true, create a a MD5 digest any VCF file created.  Default value: false. Possible\r\n                              values: {true, false} \r\n\r\n--default-base-qualities &lt;Byte&gt;\r\n                              Assign a default base quality  Default value: -1. \r\n\r\n--deletions-default-quality &lt;Byte&gt;\r\n                              default quality for the base deletions covariate  Default value: 45. \r\n\r\n--disable-bam-index-caching,-DBIC &lt;Boolean&gt;\r\n                              If true, don&#39;t cache bam indexes, this will reduce memory requirements but may harm\r\n                              performance if many intervals are specified.  Caching is automatically disabled if there\r\n                              are no intervals specified.  Default value: false. Possible values: {true, false} \r\n\r\n--disable-read-filter,-DF &lt;String&gt;\r\n                              Read filters to be disabled before analysis  This argument may be specified 0 or more\r\n                              times. Default value: null. Possible values: {MappedReadFilter,\r\n                              MappingQualityAvailableReadFilter, MappingQualityNotZeroReadFilter,\r\n                              NotDuplicateReadFilter, NotSecondaryAlignmentReadFilter,\r\n                              PassesVendorQualityCheckReadFilter, WellformedReadFilter} \r\n\r\n--disable-sequence-dictionary-validation &lt;Boolean&gt;\r\n                              If specified, do not check the sequence dictionaries from our inputs for compatibility.\r\n                              Use at your own risk!  Default value: false. Possible values: {true, false} \r\n\r\n--exclude-intervals,-XL &lt;String&gt;\r\n                              One or more genomic intervals to exclude from processing  This argument may be specified 0\r\n                              or more times. Default value: null. \r\n\r\n--gatk-config-file &lt;String&gt;   A configuration file to use with the GATK.  Default value: null. \r\n\r\n--gcs-max-retries,-gcs-retries &lt;Integer&gt;\r\n                              If the GCS bucket channel errors out, how many times it will attempt to re-initiate the\r\n                              connection  Default value: 20. \r\n\r\n--gcs-project-for-requester-pays &lt;String&gt;\r\n                              Project to bill when accessing &quot;requester pays&quot; buckets. If unset, these buckets cannot be\r\n                              accessed.  User must have storage.buckets.get permission on the bucket being accessed. \r\n                              Default value: . \r\n\r\n--help,-h &lt;Boolean&gt;           display the help message  Default value: false. Possible values: {true, false} \r\n\r\n--indels-context-size,-ics &lt;Integer&gt;\r\n                              Size of the k-mer context to be used for base insertions and deletions  Default value: 3. \r\n\r\n--insertions-default-quality &lt;Byte&gt;\r\n                              default quality for the base insertions covariate  Default value: 45. \r\n\r\n--interval-exclusion-padding,-ixp &lt;Integer&gt;\r\n                              Amount of padding (in bp) to add to each interval you are excluding.  Default value: 0. \r\n\r\n--interval-merging-rule,-imr &lt;IntervalMergingRule&gt;\r\n                              Interval merging rule for abutting intervals  Default value: ALL. Possible values: {ALL,\r\n                              OVERLAPPING_ONLY} \r\n\r\n--interval-padding,-ip &lt;Integer&gt;\r\n                              Amount of padding (in bp) to add to each interval you are including.  Default value: 0. \r\n\r\n--interval-set-rule,-isr &lt;IntervalSetRule&gt;\r\n                              Set merging approach to use for combining interval inputs  Default value: UNION. Possible\r\n                              values: {UNION, INTERSECTION} \r\n\r\n--intervals,-L &lt;String&gt;       One or more genomic intervals over which to operate  This argument may be specified 0 or\r\n                              more times. Default value: null. \r\n\r\n--lenient,-LE &lt;Boolean&gt;       Lenient processing of VCF files  Default value: false. Possible values: {true, false} \r\n\r\n--low-quality-tail &lt;Byte&gt;     minimum quality for the bases in the tail of the reads to be considered  Default value: 2.\r\n\r\n--max-variants-per-shard &lt;Integer&gt;\r\n                              If non-zero, partitions VCF output into shards, each containing up to the given number of\r\n                              records.  Default value: 0. \r\n\r\n--maximum-cycle-value,-max-cycle &lt;Integer&gt;\r\n                              The maximum cycle value permitted for the Cycle covariate  Default value: 500. \r\n\r\n--mismatches-context-size,-mcs &lt;Integer&gt;\r\n                              Size of the k-mer context to be used for base mismatches  Default value: 2. \r\n\r\n--mismatches-default-quality &lt;Byte&gt;\r\n                              default quality for the base mismatches covariate  Default value: -1. \r\n\r\n--preserve-qscores-less-than &lt;Integer&gt;\r\n                              Don&#39;t recalibrate bases with quality scores less than this threshold (with -bqsr)  Default\r\n                              value: 6. \r\n\r\n--quantizing-levels &lt;Integer&gt; number of distinct quality scores in the quantized output  Default value: 16. \r\n\r\n--QUIET &lt;Boolean&gt;             Whether to suppress job-summary info on System.err.  Default value: false. Possible\r\n                              values: {true, false} \r\n\r\n--read-filter,-RF &lt;String&gt;    Read filters to be applied before analysis  This argument may be specified 0 or more\r\n                              times. Default value: null. Possible values: {AlignmentAgreesWithHeaderReadFilter,\r\n                              AllowAllReadsReadFilter, AmbiguousBaseReadFilter, CigarContainsNoNOperator,\r\n                              ExcessiveEndClippedReadFilter, FirstOfPairReadFilter,\r\n                              FlowBasedTPAttributeSymetricReadFilter, FlowBasedTPAttributeValidReadFilter,\r\n                              FragmentLengthReadFilter, GoodCigarReadFilter, HasReadGroupReadFilter,\r\n                              HmerQualitySymetricReadFilter, IntervalOverlapReadFilter,\r\n                              JexlExpressionReadTagValueFilter, LibraryReadFilter, MappedReadFilter,\r\n                              MappingQualityAvailableReadFilter, MappingQualityNotZeroReadFilter,\r\n                              MappingQualityReadFilter, MatchingBasesAndQualsReadFilter, MateDifferentStrandReadFilter,\r\n                              MateDistantReadFilter, MateOnSameContigOrNoMappedMateReadFilter,\r\n                              MateUnmappedAndUnmappedReadFilter, MetricsReadFilter,\r\n                              NonChimericOriginalAlignmentReadFilter, NonZeroFragmentLengthReadFilter,\r\n                              NonZeroReferenceLengthAlignmentReadFilter, NotDuplicateReadFilter,\r\n                              NotOpticalDuplicateReadFilter, NotProperlyPairedReadFilter,\r\n                              NotSecondaryAlignmentReadFilter, NotSupplementaryAlignmentReadFilter,\r\n                              OverclippedReadFilter, PairedReadFilter, PassesVendorQualityCheckReadFilter,\r\n                              PlatformReadFilter, PlatformUnitReadFilter, PrimaryLineReadFilter,\r\n                              ProperlyPairedReadFilter, ReadGroupBlackListReadFilter, ReadGroupHasFlowOrderReadFilter,\r\n                              ReadGroupReadFilter, ReadLengthEqualsCigarLengthReadFilter, ReadLengthReadFilter,\r\n                              ReadNameReadFilter, ReadStrandFilter, ReadTagValueFilter, SampleReadFilter,\r\n                              SecondOfPairReadFilter, SeqIsStoredReadFilter, SoftClippedReadFilter,\r\n                              ValidAlignmentEndReadFilter, ValidAlignmentStartReadFilter, WellformedFlowBasedReadFilter,\r\n                              WellformedReadFilter} \r\n\r\n--read-index &lt;GATKPath&gt;       Indices to use for the read inputs. If specified, an index must be provided for every read\r\n                              input and in the same order as the read inputs. If this argument is not specified, the\r\n                              path to the index for each input will be inferred automatically.  This argument may be\r\n                              specified 0 or more times. Default value: null. \r\n\r\n--read-validation-stringency,-VS &lt;ValidationStringency&gt;\r\n                              Validation stringency for all SAM/BAM/CRAM/SRA files read by this program.  The default\r\n                              stringency value SILENT can improve performance when processing a BAM file in which\r\n                              variable-length data (read, qualities, tags) do not otherwise need to be decoded.  Default\r\n                              value: SILENT. Possible values: {STRICT, LENIENT, SILENT} \r\n\r\n--seconds-between-progress-updates &lt;Double&gt;\r\n                              Output traversal statistics every time this many seconds elapse  Default value: 10.0. \r\n\r\n--sequence-dictionary &lt;GATKPath&gt;\r\n                              Use the given sequence dictionary as the master/canonical sequence dictionary.  Must be a\r\n                              .dict file.  Default value: null. \r\n\r\n--sites-only-vcf-output &lt;Boolean&gt;\r\n                              If true, don&#39;t emit genotype fields when writing vcf file output.  Default value: false.\r\n                              Possible values: {true, false} \r\n\r\n--tmp-dir &lt;GATKPath&gt;          Temp directory to use.  Default value: null. \r\n\r\n--use-jdk-deflater,-jdk-deflater &lt;Boolean&gt;\r\n                              Whether to use the JdkDeflater (as opposed to IntelDeflater)  Default value: false.\r\n                              Possible values: {true, false} \r\n\r\n--use-jdk-inflater,-jdk-inflater &lt;Boolean&gt;\r\n                              Whether to use the JdkInflater (as opposed to IntelInflater)  Default value: false.\r\n                              Possible values: {true, false} \r\n\r\n--use-original-qualities,-OQ &lt;Boolean&gt;\r\n                              Use the base quality scores from the OQ tag  Default value: false. Possible values: {true,\r\n                              false} \r\n\r\n--verbosity &lt;LogLevel&gt;        Control verbosity of logging.  Default value: INFO. Possible values: {ERROR, WARNING,\r\n                              INFO, DEBUG} \r\n\r\n--version &lt;Boolean&gt;           display the version number for this tool  Default value: false. Possible values: {true,\r\n                              false} \r\n\r\n\r\nAdvanced Arguments:\r\n\r\n--disable-tool-default-read-filters &lt;Boolean&gt;\r\n                              Disable all tool default read filters (WARNING: many tools will not function correctly\r\n                              without their default read filters on)  Default value: false. Possible values: {true,\r\n                              false} \r\n\r\n--showHidden &lt;Boolean&gt;        display hidden arguments  Default value: false. Possible values: {true, false} \r\n\r\n\r\n***********************************************************************\r\n\r\nA USER ERROR has occurred: Argument known-sites was missing: Argument &#39;known-sites&#39; is required\r\n\r\n***********************************************************************\r\nSet the system property GATK_STACKTRACE_ON_USER_EXCEPTION (--java-options &#39;-DGATK_STACKTRACE_ON_USER_EXCEPTION=true&#39;) to print the stack trace.","title":"base recalibrator --known-sites argument does not work","body":"<p>When I run this</p>\n<pre><code>gatk BaseRecalibrator -I ${aligned_reads}/file_copy_sorted.bam -R ${referance} --known-sites ${Known_Sites} -O ${data1}/sorted_Read1.table\n</code></pre>\n<p>this error occur</p>\n<blockquote>\n<p>A USER ERROR has occurred: Argument known-sites was missing: <em>Argument 'known-sites' is required</em></p>\n</blockquote>\n<p>this is what I tried</p>\n<p>Using GATK jar /home/hi/Documents/gatk-4.4.0.0/gatk-package-4.4.0.0-local.jar\nRunning:\njava -Dsamjdk.use_async_io_read_samtools=false -Dsamjdk.use_async_io_write_samtools=true -Dsamjdk.use_async_io_write_tribble=false -Dsamjdk.compression_level=2 -jar /home/hi/Documents/gatk-4.4.0.0/gatk-package-4.4.0.0-local.jar BaseRecalibrator -I /file_copy_sorted.bam -R --known-sites -O /sorted_Read1.table\nUSAGE: BaseRecalibrator [arguments]</p>\n<p>First pass of the Base Quality Score Recalibration (BQSR) -- Generates recalibration table based on various\nuser-specified covariates (such as read group, reported quality score, machine cycle, and nucleotide context).\nVersion:4.4.0.0</p>\n<p>Required Arguments:</p>\n<p>--input,-I          BAM/SAM/CRAM file containing reads  This argument must be specified at least once.\nRequired.</p>\n<p>--known-sites   One or more databases of known polymorphic sites used to exclude regions around known\npolymorphisms from analysis.  This argument must be specified at least once. Required.</p>\n<p>--output,-O         The output recalibration table file to create  Required.</p>\n<p>--reference,-R      Reference sequence file  Required.</p>\n<p>Optional Arguments:</p>\n<p>--add-output-sam-program-record \nIf true, adds a PG tag to created SAM/BAM/CRAM files.  Default value: true. Possible\nvalues: {true, false}</p>\n<p>--add-output-vcf-command-line \nIf true, adds a command line header line to created VCF files.  Default value: true.\nPossible values: {true, false}</p>\n<p>--arguments_file        read one or more arguments files and add them to the command line  This argument may be\nspecified 0 or more times. Default value: null.</p>\n<p>--binary-tag-name     the binary tag covariate name if using it  Default value: null.</p>\n<p>--bqsr-baq-gap-open-penalty \nBQSR BAQ gap open penalty (Phred Scaled).  Default value is 40.  30 is perhaps better for\nwhole genome call sets  Default value: 40.0.</p>\n<p>--cloud-index-prefetch-buffer,-CIPB \nSize of the cloud-only prefetch buffer (in MB; 0 to disable). Defaults to\ncloudPrefetchBuffer if unset.  Default value: -1.</p>\n<p>--cloud-prefetch-buffer,-CPB \nSize of the cloud-only prefetch buffer (in MB; 0 to disable).  Default value: 40.</p>\n<p>--create-output-bam-index,-OBI \nIf true, create a BAM/CRAM index when writing a coordinate-sorted BAM/CRAM file.  Default\nvalue: true. Possible values: {true, false}</p>\n<p>--create-output-bam-md5,-OBM \nIf true, create a MD5 digest for any BAM/SAM/CRAM file created  Default value: false.\nPossible values: {true, false}</p>\n<p>--create-output-variant-index,-OVI \nIf true, create a VCF index when writing a coordinate-sorted VCF file.  Default value:\ntrue. Possible values: {true, false}</p>\n<p>--create-output-variant-md5,-OVM \nIf true, create a a MD5 digest any VCF file created.  Default value: false. Possible\nvalues: {true, false}</p>\n<p>--default-base-qualities \nAssign a default base quality  Default value: -1.</p>\n<p>--deletions-default-quality \ndefault quality for the base deletions covariate  Default value: 45.</p>\n<p>--disable-bam-index-caching,-DBIC \nIf true, don't cache bam indexes, this will reduce memory requirements but may harm\nperformance if many intervals are specified.  Caching is automatically disabled if there\nare no intervals specified.  Default value: false. Possible values: {true, false}</p>\n<p>--disable-read-filter,-DF \nRead filters to be disabled before analysis  This argument may be specified 0 or more\ntimes. Default value: null. Possible values: {MappedReadFilter,\nMappingQualityAvailableReadFilter, MappingQualityNotZeroReadFilter,\nNotDuplicateReadFilter, NotSecondaryAlignmentReadFilter,\nPassesVendorQualityCheckReadFilter, WellformedReadFilter}</p>\n<p>--disable-sequence-dictionary-validation \nIf specified, do not check the sequence dictionaries from our inputs for compatibility.\nUse at your own risk!  Default value: false. Possible values: {true, false}</p>\n<p>--exclude-intervals,-XL \nOne or more genomic intervals to exclude from processing  This argument may be specified 0\nor more times. Default value: null.</p>\n<p>--gatk-config-file    A configuration file to use with the GATK.  Default value: null.</p>\n<p>--gcs-max-retries,-gcs-retries \nIf the GCS bucket channel errors out, how many times it will attempt to re-initiate the\nconnection  Default value: 20.</p>\n<p>--gcs-project-for-requester-pays \nProject to bill when accessing &quot;requester pays&quot; buckets. If unset, these buckets cannot be\naccessed.  User must have storage.buckets.get permission on the bucket being accessed.\nDefault value: .</p>\n<p>--help,-h            display the help message  Default value: false. Possible values: {true, false}</p>\n<p>--indels-context-size,-ics \nSize of the k-mer context to be used for base insertions and deletions  Default value: 3.</p>\n<p>--insertions-default-quality \ndefault quality for the base insertions covariate  Default value: 45.</p>\n<p>--interval-exclusion-padding,-ixp \nAmount of padding (in bp) to add to each interval you are excluding.  Default value: 0.</p>\n<p>--interval-merging-rule,-imr \nInterval merging rule for abutting intervals  Default value: ALL. Possible values: {ALL,\nOVERLAPPING_ONLY}</p>\n<p>--interval-padding,-ip \nAmount of padding (in bp) to add to each interval you are including.  Default value: 0.</p>\n<p>--interval-set-rule,-isr \nSet merging approach to use for combining interval inputs  Default value: UNION. Possible\nvalues: {UNION, INTERSECTION}</p>\n<p>--intervals,-L        One or more genomic intervals over which to operate  This argument may be specified 0 or\nmore times. Default value: null.</p>\n<p>--lenient,-LE        Lenient processing of VCF files  Default value: false. Possible values: {true, false}</p>\n<p>--low-quality-tail      minimum quality for the bases in the tail of the reads to be considered  Default value: 2.</p>\n<p>--max-variants-per-shard \nIf non-zero, partitions VCF output into shards, each containing up to the given number of\nrecords.  Default value: 0.</p>\n<p>--maximum-cycle-value,-max-cycle \nThe maximum cycle value permitted for the Cycle covariate  Default value: 500.</p>\n<p>--mismatches-context-size,-mcs \nSize of the k-mer context to be used for base mismatches  Default value: 2.</p>\n<p>--mismatches-default-quality \ndefault quality for the base mismatches covariate  Default value: -1.</p>\n<p>--preserve-qscores-less-than \nDon't recalibrate bases with quality scores less than this threshold (with -bqsr)  Default\nvalue: 6.</p>\n<p>--quantizing-levels  number of distinct quality scores in the quantized output  Default value: 16.</p>\n<p>--QUIET              Whether to suppress job-summary info on System.err.  Default value: false. Possible\nvalues: {true, false}</p>\n<p>--read-filter,-RF     Read filters to be applied before analysis  This argument may be specified 0 or more\ntimes. Default value: null. Possible values: {AlignmentAgreesWithHeaderReadFilter,\nAllowAllReadsReadFilter, AmbiguousBaseReadFilter, CigarContainsNoNOperator,\nExcessiveEndClippedReadFilter, FirstOfPairReadFilter,\nFlowBasedTPAttributeSymetricReadFilter, FlowBasedTPAttributeValidReadFilter,\nFragmentLengthReadFilter, GoodCigarReadFilter, HasReadGroupReadFilter,\nHmerQualitySymetricReadFilter, IntervalOverlapReadFilter,\nJexlExpressionReadTagValueFilter, LibraryReadFilter, MappedReadFilter,\nMappingQualityAvailableReadFilter, MappingQualityNotZeroReadFilter,\nMappingQualityReadFilter, MatchingBasesAndQualsReadFilter, MateDifferentStrandReadFilter,\nMateDistantReadFilter, MateOnSameContigOrNoMappedMateReadFilter,\nMateUnmappedAndUnmappedReadFilter, MetricsReadFilter,\nNonChimericOriginalAlignmentReadFilter, NonZeroFragmentLengthReadFilter,\nNonZeroReferenceLengthAlignmentReadFilter, NotDuplicateReadFilter,\nNotOpticalDuplicateReadFilter, NotProperlyPairedReadFilter,\nNotSecondaryAlignmentReadFilter, NotSupplementaryAlignmentReadFilter,\nOverclippedReadFilter, PairedReadFilter, PassesVendorQualityCheckReadFilter,\nPlatformReadFilter, PlatformUnitReadFilter, PrimaryLineReadFilter,\nProperlyPairedReadFilter, ReadGroupBlackListReadFilter, ReadGroupHasFlowOrderReadFilter,\nReadGroupReadFilter, ReadLengthEqualsCigarLengthReadFilter, ReadLengthReadFilter,\nReadNameReadFilter, ReadStrandFilter, ReadTagValueFilter, SampleReadFilter,\nSecondOfPairReadFilter, SeqIsStoredReadFilter, SoftClippedReadFilter,\nValidAlignmentEndReadFilter, ValidAlignmentStartReadFilter, WellformedFlowBasedReadFilter,\nWellformedReadFilter}</p>\n<p>--read-index        Indices to use for the read inputs. If specified, an index must be provided for every read\ninput and in the same order as the read inputs. If this argument is not specified, the\npath to the index for each input will be inferred automatically.  This argument may be\nspecified 0 or more times. Default value: null.</p>\n<p>--read-validation-stringency,-VS \nValidation stringency for all SAM/BAM/CRAM/SRA files read by this program.  The default\nstringency value SILENT can improve performance when processing a BAM file in which\nvariable-length data (read, qualities, tags) do not otherwise need to be decoded.  Default\nvalue: SILENT. Possible values: {STRICT, LENIENT, SILENT}</p>\n<p>--seconds-between-progress-updates \nOutput traversal statistics every time this many seconds elapse  Default value: 10.0.</p>\n<p>--sequence-dictionary \nUse the given sequence dictionary as the master/canonical sequence dictionary.  Must be a\n.dict file.  Default value: null.</p>\n<p>--sites-only-vcf-output \nIf true, don't emit genotype fields when writing vcf file output.  Default value: false.\nPossible values: {true, false}</p>\n<p>--tmp-dir           Temp directory to use.  Default value: null.</p>\n<p>--use-jdk-deflater,-jdk-deflater \nWhether to use the JdkDeflater (as opposed to IntelDeflater)  Default value: false.\nPossible values: {true, false}</p>\n<p>--use-jdk-inflater,-jdk-inflater \nWhether to use the JdkInflater (as opposed to IntelInflater)  Default value: false.\nPossible values: {true, false}</p>\n<p>--use-original-qualities,-OQ \nUse the base quality scores from the OQ tag  Default value: false. Possible values: {true,\nfalse}</p>\n<p>--verbosity         Control verbosity of logging.  Default value: INFO. Possible values: {ERROR, WARNING,\nINFO, DEBUG}</p>\n<p>--version            display the version number for this tool  Default value: false. Possible values: {true,\nfalse}</p>\n<p>Advanced Arguments:</p>\n<p>--disable-tool-default-read-filters \nDisable all tool default read filters (WARNING: many tools will not function correctly\nwithout their default read filters on)  Default value: false. Possible values: {true,\nfalse}</p>\n<p>--showHidden         display hidden arguments  Default value: false. Possible values: {true, false}</p>\n<hr />\n<p>A USER ERROR has occurred: Argument known-sites was missing: Argument 'known-sites' is required</p>\n<hr />\n<p>Set the system property GATK_STACKTRACE_ON_USER_EXCEPTION (--java-options '-DGATK_STACKTRACE_ON_USER_EXCEPTION=true') to print the stack trace.</p>\n"},{"tags":["java","spring","maven","spring-boot","pom.xml"],"comments":[{"owner":{"account_id":2134019,"reputation":808,"user_id":1894211,"display_name":"burm87"},"score":0,"creation_date":1558688678,"post_id":56289024,"comment_id":99191172,"body_markdown":"What are you getting back if you try to hit the endpoint with Postman? So you know if the problem is the Controller or your html.","body":"What are you getting back if you try to hit the endpoint with Postman? So you know if the problem is the Controller or your html."},{"owner":{"account_id":13893132,"reputation":305,"user_id":10030611,"display_name":"willberthos"},"score":0,"creation_date":1558689285,"post_id":56289024,"comment_id":99191505,"body_markdown":"added the error message to the end of the post","body":"added the error message to the end of the post"},{"owner":{"account_id":8881126,"reputation":123,"user_id":6631209,"display_name":"Hasanuzzaman Rana"},"score":0,"creation_date":1558690003,"post_id":56289024,"comment_id":99191895,"body_markdown":"@PostMapping(path = &quot;/&quot;, consumes = &quot;application/json&quot;, produces = &quot;application/json&quot;) public void add(@RequestBody String name) { ...}, could resolve","body":"@PostMapping(path = &quot;/&quot;, consumes = &quot;application/json&quot;, produces = &quot;application/json&quot;) public void add(@RequestBody String name) { ...}, could resolve"},{"owner":{"account_id":8787522,"reputation":1223,"user_id":6568836,"accept_rate":43,"display_name":"Ravat Tailor"},"score":0,"creation_date":1558690563,"post_id":56289024,"comment_id":99192166,"body_markdown":"your controller seems fine no Issue with a controller, just check from UI are you calling an expected method, the issue seems like the method you are calling have difrrent mapping on controller","body":"your controller seems fine no Issue with a controller, just check from UI are you calling an expected method, the issue seems like the method you are calling have difrrent mapping on controller"},{"owner":{"account_id":13893132,"reputation":305,"user_id":10030611,"display_name":"willberthos"},"score":0,"creation_date":1558691752,"post_id":56289024,"comment_id":99192781,"body_markdown":"none of these worked","body":"none of these worked"},{"owner":{"account_id":2064278,"reputation":13138,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1558695305,"post_id":56289024,"comment_id":99194730,"body_markdown":"we need to eliminate some things, can you please post you application.properties file so that there is no weird context path set.","body":"we need to eliminate some things, can you please post you application.properties file so that there is no weird context path set."},{"owner":{"account_id":13893132,"reputation":305,"user_id":10030611,"display_name":"willberthos"},"score":0,"creation_date":1558695609,"post_id":56289024,"comment_id":99194892,"body_markdown":"@ThomasAndolf I have now added the application.properties at the end of the post","body":"@ThomasAndolf I have now added the application.properties at the end of the post"},{"owner":{"account_id":2064278,"reputation":13138,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1558696755,"post_id":56289024,"comment_id":99195453,"body_markdown":"i suspect your post from soapUI is doing something fishy. Can you please log from soapUI what path you are calling, and what the body of your request looks like.\n\nSecond i concur with others you need to annotate the class with either RestController or Controller and ResponseBody at the top.\n\nhttps://javarevisited.blogspot.com/2017/08/difference-between-restcontroller-and-controller-annotations-spring-mvc-rest.html","body":"i suspect your post from soapUI is doing something fishy. Can you please log from soapUI what path you are calling, and what the body of your request looks like.  Second i concur with others you need to annotate the class with either RestController or Controller and ResponseBody at the top.  <a href=\"https://javarevisited.blogspot.com/2017/08/difference-between-restcontroller-and-controller-annotations-spring-mvc-rest.html\" rel=\"nofollow noreferrer\">javarevisited.blogspot.com/2017/08/&hellip;</a>"},{"owner":{"account_id":13893132,"reputation":305,"user_id":10030611,"display_name":"willberthos"},"score":0,"creation_date":1558703199,"post_id":56289024,"comment_id":99198972,"body_markdown":"I added the tutorial from which I created my project. It has no RestController nor ResponseBody, and still works fine.","body":"I added the tutorial from which I created my project. It has no RestController nor ResponseBody, and still works fine."}],"answers":[{"comments":[{"owner":{"account_id":11149773,"reputation":81,"user_id":8183397,"display_name":"lm1010"},"score":0,"creation_date":1558691921,"post_id":56289542,"comment_id":99192874,"body_markdown":"If you are using &#39;@requestparam&#39; then you should include the params in url .If you want to use the form input use &#39;@requestbody&#39;","body":"If you are using &#39;@requestparam&#39; then you should include the params in url .If you want to use the form input use &#39;@requestbody&#39;"},{"owner":{"account_id":13893132,"reputation":305,"user_id":10030611,"display_name":"willberthos"},"score":0,"creation_date":1558695228,"post_id":56289542,"comment_id":99194686,"body_markdown":"RequestParam does work with html form. Spring Boot can parse the attributes introduced in the form with RequestParam.","body":"RequestParam does work with html form. Spring Boot can parse the attributes introduced in the form with RequestParam."},{"owner":{"account_id":11149773,"reputation":81,"user_id":8183397,"display_name":"lm1010"},"score":0,"creation_date":1558695947,"post_id":56289542,"comment_id":99195049,"body_markdown":"It depends on your spring boot version. lower version does not support this","body":"It depends on your spring boot version. lower version does not support this"}],"tags":[],"owner":{"account_id":11149773,"reputation":81,"user_id":8183397,"display_name":"lm1010"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1558689643,"creation_date":1558689643,"answer_id":56289542,"question_id":56289024,"body_markdown":"Use @RestController instead of @Controller Annotation or\r\n\r\nsimply use \r\n\r\n    @PostMapping(&quot;/&quot;)\r\n    @ResponseBody","title":"Spring Boot Request method &#39;POST&#39; not supported","body":"<p>Use @RestController instead of @Controller Annotation or</p>\n\n<p>simply use </p>\n\n<pre><code>@PostMapping(\"/\")\n@ResponseBody\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15388697,"reputation":373,"user_id":11102092,"display_name":"Nilanjan Bhadury"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1558689828,"creation_date":1558689828,"answer_id":56289580,"question_id":56289024,"body_markdown":"I suggest few tweaks in existing code. Please see if it works.\r\n\r\n    @Controller\r\n    @RequestMapping(path = &quot;/&quot;, produces = MediaType.APPLICATION_JSON_VALUE)\r\n    public class StudentController {\r\n    \r\n    @Autowired\r\n    private StudentRepository studentRepository;\r\n    \r\n    \r\n    @GetMapping(&quot;/&quot;)\r\n    public String list(Model model) {\r\n        model.addAttribute(&quot;students&quot;, studentRepository.findAll());\r\n        return &quot;index&quot;;\r\n    }\r\n    \r\n    \r\n    @PostMapping(path = &quot;/&quot;, produces = MediaType.APPLICATION_XML_VALUE)\r\n    public String add(@RequestBody String name) {\r\n        Student student = new Student(name);\r\n        this.studentRepository.save(student);\r\n        return &quot;redirect:/&quot;;\r\n    }\r\n    }\r\n\r\nHope it solves the problem.","title":"Spring Boot Request method &#39;POST&#39; not supported","body":"<p>I suggest few tweaks in existing code. Please see if it works.</p>\n\n<pre><code>@Controller\n@RequestMapping(path = \"/\", produces = MediaType.APPLICATION_JSON_VALUE)\npublic class StudentController {\n\n@Autowired\nprivate StudentRepository studentRepository;\n\n\n@GetMapping(\"/\")\npublic String list(Model model) {\n    model.addAttribute(\"students\", studentRepository.findAll());\n    return \"index\";\n}\n\n\n@PostMapping(path = \"/\", produces = MediaType.APPLICATION_XML_VALUE)\npublic String add(@RequestBody String name) {\n    Student student = new Student(name);\n    this.studentRepository.save(student);\n    return \"redirect:/\";\n}\n}\n</code></pre>\n\n<p>Hope it solves the problem.</p>\n"},{"comments":[{"owner":{"account_id":13893132,"reputation":305,"user_id":10030611,"display_name":"willberthos"},"score":0,"creation_date":1558689969,"post_id":56289598,"comment_id":99191877,"body_markdown":"I have a template tutorial in which the @RequestParam is working with html form","body":"I have a template tutorial in which the @RequestParam is working with html form"}],"tags":[],"owner":{"account_id":2134019,"reputation":808,"user_id":1894211,"display_name":"burm87"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1558690008,"creation_date":1558689862,"answer_id":56289598,"question_id":56289024,"body_markdown":"I think that, if you are performing the request from a form, the annotation `@RequestParam` may be wrong. That is used to get a parameter from the url (`?name=myname`). You may want to try `@RequestBody`.","title":"Spring Boot Request method &#39;POST&#39; not supported","body":"<p>I think that, if you are performing the request from a form, the annotation <code>@RequestParam</code> may be wrong. That is used to get a parameter from the url (<code>?name=myname</code>). You may want to try <code>@RequestBody</code>.</p>\n"},{"comments":[{"owner":{"account_id":6410870,"reputation":1742,"user_id":4970679,"display_name":"ahuemmer"},"score":0,"creation_date":1673447446,"post_id":75054865,"comment_id":132501420,"body_markdown":"This does not provide an answer to the question. Once you have sufficient [reputation](https://stackoverflow.com/help/whats-reputation) you will be able to [comment on any post](https://stackoverflow.com/help/privileges/comment); instead, [provide answers that don&#39;t require clarification from the asker](https://meta.stackexchange.com/questions/214173/why-do-i-need-50-reputation-to-comment-what-can-i-do-instead). - [From Review](/review/late-answers/33590294)","body":"This does not provide an answer to the question. Once you have sufficient <a href=\"https://stackoverflow.com/help/whats-reputation\">reputation</a> you will be able to <a href=\"https://stackoverflow.com/help/privileges/comment\">comment on any post</a>; instead, <a href=\"https://meta.stackexchange.com/questions/214173/why-do-i-need-50-reputation-to-comment-what-can-i-do-instead\">provide answers that don&#39;t require clarification from the asker</a>. - <a href=\"/review/late-answers/33590294\">From Review</a>"}],"tags":[],"owner":{"account_id":27475247,"reputation":1,"user_id":20963372,"display_name":"Rayner"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673710565,"creation_date":1673253993,"answer_id":75054865,"question_id":56289024,"body_markdown":"I got this `Request method &#39;POST&#39; not supported` error when my html was in `static` folder and the error went away when I moved the html to `templates`. I think basically Thymeleaf does not manipulate html in `static` folder.","title":"Spring Boot Request method &#39;POST&#39; not supported","body":"<p>I got this <code>Request method 'POST' not supported</code> error when my html was in <code>static</code> folder and the error went away when I moved the html to <code>templates</code>. I think basically Thymeleaf does not manipulate html in <code>static</code> folder.</p>\n"}],"owner":{"account_id":13893132,"reputation":305,"user_id":10030611,"display_name":"willberthos"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":13180,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":4,"score":2,"last_activity_date":1697652320,"creation_date":1558687794,"question_id":56289024,"body_markdown":"Simple Spring Boot POST request not working and returns:\r\n&quot;Request method &#39;POST&#39; not supported&quot; error message.\r\n\r\nThe code itself looks fine to me, but I&#39;m not so sure about the pom.xml.\r\nIf the problem relies in the pom.xml, then this case is hopeless since I don&#39;t even know what all those dependencies do nor why there are duplicates.\r\n\r\nHere is my controller class:\r\n\r\n    @Controller\r\n    public class StudentController {\r\n\t\r\n\t@Autowired\r\n\tprivate StudentRepository studentRepository;\r\n\t\t\r\n\t\r\n\t@GetMapping(&quot;/&quot;)\r\n\tpublic String list(Model model) {\r\n\t\tmodel.addAttribute(&quot;students&quot;, studentRepository.findAll());\r\n\t\treturn &quot;index&quot;;\r\n\t}\r\n\r\n\r\n\t@PostMapping(&quot;/&quot;)\r\n\tpublic String add(@RequestParam String name) {\r\n\t\tStudent student = new Student(name);\r\n\t\tthis.studentRepository.save(student);\r\n\t\treturn &quot;redirect:/&quot;;\r\n\t}\r\n    }\r\n\r\nIndex.html \r\n\r\n    &lt;!DOCTYPE html&gt;\r\n    &lt;html xmlns=&quot;http://www.w3.org/1999/xhtml&quot; \r\n    xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;\r\n    &lt;head&gt;\r\n        &lt;title&gt;Test&lt;/title&gt;\r\n    &lt;/head&gt;\r\n    &lt;body&gt;\r\n        &lt;p&gt;List all students &lt;/p&gt;\r\n    \r\n        &lt;p&gt;Add a Student&lt;/p&gt;\r\n    \r\n     &lt;form th:action=&quot;@{/}&quot; method=&quot;POST&quot;&gt;\r\n        &lt;input type=&quot;text&quot; name=&quot;name&quot;/&gt;\r\n        &lt;input type=&quot;submit&quot;/&gt;\r\n    &lt;/form&gt;\r\n\r\n    &lt;p&gt;Students&lt;/p&gt;\r\n\r\n    &lt;p th:each=&quot;student : ${students}&quot;&gt;\r\n        &lt;span th:text=&quot;${student.name}&quot;&gt;student name&lt;/span&gt;\r\n    &lt;/p&gt;\r\n    \r\n    &lt;/body&gt;\r\n    &lt;/html&gt;\r\n\r\n\r\nPom.xml\r\n\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;1.8&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\r\n\t&lt;dependencies&gt;\r\n\t &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n            &lt;scope&gt;runtime&lt;/scope&gt;\r\n        &lt;/dependency&gt;        \r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.h2database&lt;/groupId&gt;\r\n            &lt;artifactId&gt;h2&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        \r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.fluentlenium&lt;/groupId&gt;\r\n            &lt;artifactId&gt;fluentlenium-junit&lt;/artifactId&gt;\r\n            &lt;version&gt;3.7.1&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.fluentlenium&lt;/groupId&gt;\r\n            &lt;artifactId&gt;fluentlenium-assertj&lt;/artifactId&gt;\r\n            &lt;version&gt;3.7.1&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n            &lt;artifactId&gt;htmlunit-driver&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;  \r\n\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t&lt;plugin&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t\t&lt;resources&gt;\r\n        &lt;resource&gt;\r\n            &lt;directory&gt;src/main/resources&lt;/directory&gt;\r\n            &lt;filtering&gt;true&lt;/filtering&gt;\r\n        &lt;/resource&gt;\r\n        &lt;/resources&gt;\r\n\t&lt;/build&gt;\r\n    &lt;/project&gt;\r\n\r\nThe code is supposed to add a student to studentRepository and redirect back to index.html and display the added student instantly.\r\n\r\nError Message from soapUI:\r\n    \r\n    &quot;timestamp&quot;: &quot;2019-05-24T09:02:36.088+0000&quot;,\r\n    &quot;status&quot;: 405,\r\n    &quot;error&quot;: &quot;Method Not Allowed&quot;,\r\n    &quot;message&quot;: &quot;Request method &#39;POST&#39; not supported&quot;,\r\n    &quot;trace&quot;: &quot;org.springframework.web.HttpRequestMethodNotSupportedException: \r\n    &quot;path&quot;: &quot;/&quot;\r\n\r\nFull trace:\r\n\r\n    &gt; &quot;trace&quot;:\r\n    &gt; &quot;org.springframework.web.HttpRequestMethodNotSupportedException: \r\n    &gt; Request method &#39;POST&#39; not supported\\r\\n\\tat \r\n    &gt; org.springframework.web.servlet.support.WebContentGenerator.checkRequest(WebContentGenerator.java:380)\\r\\n\\tat\r\n    &gt; org.springframework.web.servlet.mvc.AbstractController.handleRequest(AbstractController.java:163)\\r\\n\\tat\r\n    &gt; org.springframework.web.servlet.mvc.SimpleControllerHandlerAdapter.handle(SimpleControllerHandlerAdapter.java:52)\\r\\n\\tat\r\n    &gt; org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1039)\\r\\n\\tat\r\n    &gt; org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:942)\\r\\n\\tat\r\n    &gt; org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1005)\\r\\n\\tat\r\n    &gt; org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:908)\\r\\n\\tat\r\n    &gt; javax.servlet.http.HttpServlet.service(HttpServlet.java:660)\\r\\n\\tat\r\n    &gt; org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:882)\\r\\n\\tat\r\n    &gt; javax.servlet.http.HttpServlet.service(HttpServlet.java:741)\\r\\n\\tat\r\n    &gt; org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)\\r\\n\\tat\r\n    &gt; org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\\r\\n\\tat\r\n    &gt; org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\\r\\n\\tat\r\n    &gt; org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\\r\\n\\tat\r\n    &gt; org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\\r\\n\\tat\r\n    &gt; org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99)\\r\\n\\tat\r\n    &gt; org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\\r\\n\\tat\r\n    &gt; org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\\r\\n\\tat\r\n    &gt; org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\\r\\n\\tat\r\n    &gt; org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:92)\\r\\n\\tat\r\n    &gt; org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\\r\\n\\tat\r\n    &gt; org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\\r\\n\\tat\r\n    &gt; org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\\r\\n\\tat\r\n    &gt; org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93)\\r\\n\\tat\r\n    &gt; org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\\r\\n\\tat\r\n    &gt; org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\\r\\n\\tat\r\n    &gt; org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\\r\\n\\tat\r\n    &gt; org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200)\\r\\n\\tat\r\n    &gt; org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\\r\\n\\tat\r\n    &gt; org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\\r\\n\\tat\r\n    &gt; org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\\r\\n\\tat\r\n    &gt; org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:200)\\r\\n\\tat\r\n    &gt; org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)\\r\\n\\tat\r\n    &gt; org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:490)\\r\\n\\tat\r\n    &gt; org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)\\r\\n\\tat\r\n    &gt; org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\\r\\n\\tat\r\n    &gt; org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)\\r\\n\\tat\r\n    &gt; org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)\\r\\n\\tat\r\n    &gt; org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:408)\\r\\n\\tat\r\n    &gt; org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)\\r\\n\\tat\r\n    &gt; org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:836)\\r\\n\\tat\r\n    &gt; org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1747)\\r\\n\\tat\r\n    &gt; org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\\r\\n\\tat\r\n    &gt; java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\\r\\n\\tat\r\n    &gt; java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\\r\\n\\tat\r\n    &gt; org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\\r\\n\\tat\r\n    &gt; java.lang.Thread.run(Thread.java:745)\\r\\n&quot;\r\n\r\n\r\napplication.properties\r\n\r\n    server.port=8083\r\n    spring.profiles.active=@spring.profiles.active@\r\n    spring.datasource.url=jdbc:h2:file:./database;create=true\r\n    spring.jpa.hibernate.ddl-auto=update\r\n    spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.H2Dialect\r\n\r\n\r\n**Tutorial which is working fine:**\r\n\r\nController class\r\n\r\n    @Controller\r\n    public class ItemDatabaseController {\r\n\r\n    @Autowired\r\n    private ItemRepository itemRepository;\r\n\r\n    @GetMapping(&quot;/&quot;)\r\n    public String list(Model model) {\r\n        model.addAttribute(&quot;items&quot;, this.itemRepository.findAll());\r\n        return &quot;index&quot;;\r\n    }\r\n    \r\n    @PostMapping(&quot;/&quot;)\r\n    public String add(@RequestParam String name) {\r\n        this.itemRepository.save(new Item(name));\r\n        return &quot;redirect:/&quot;;\r\n    }\r\n\r\n    }\r\n\r\nindex.html\r\n\r\n    &lt;!DOCTYPE html&gt;\r\n    &lt;html xmlns=&quot;http://www.w3.org/1999/xhtml&quot; \r\n    xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;\r\n    &lt;head&gt;\r\n        &lt;title&gt;Item Database&lt;/title&gt;\r\n    &lt;/head&gt;\r\n\r\n    &lt;body&gt;\r\n        &lt;h1&gt;Item Database&lt;/h1&gt;\r\n\r\n        &lt;table&gt;\r\n            &lt;tr&gt;\r\n                &lt;th&gt;Items&lt;/th&gt;\r\n            &lt;/tr&gt;\r\n\r\n            &lt;tr th:each=&quot;item : ${items}&quot;&gt;\r\n                &lt;td th:text=&quot;${item.name}&quot;&gt;Item name&lt;/td&gt;\r\n            &lt;/tr&gt;\r\n        &lt;/table&gt;\r\n\r\n        &lt;h2&gt;Add an item&lt;/h2&gt;\r\n\r\n        &lt;form th:action=&quot;@{/}&quot; method=&quot;POST&quot;&gt;\r\n            &lt;span&gt;Name:&lt;/span&gt;\r\n            &lt;input type=&quot;text&quot; name=&quot;name&quot;/&gt;\r\n            &lt;input type=&quot;submit&quot; value=&quot;Add!&quot;/&gt;\r\n        &lt;/form&gt;\r\n    &lt;/body&gt;\r\n    &lt;/html&gt;\r\n\r\n\r\npom.xml\r\n\r\n    &lt;properties&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;2.1.3.RELEASE&lt;/version&gt;\r\n        &lt;relativePath/&gt;\r\n    &lt;/parent&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        \r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n            &lt;scope&gt;runtime&lt;/scope&gt;\r\n        &lt;/dependency&gt;        \r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.h2database&lt;/groupId&gt;\r\n            &lt;artifactId&gt;h2&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        \r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.fluentlenium&lt;/groupId&gt;\r\n            &lt;artifactId&gt;fluentlenium-junit&lt;/artifactId&gt;\r\n            &lt;version&gt;3.7.1&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.fluentlenium&lt;/groupId&gt;\r\n            &lt;artifactId&gt;fluentlenium-assertj&lt;/artifactId&gt;\r\n            &lt;version&gt;3.7.1&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n            &lt;artifactId&gt;htmlunit-driver&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;  \r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n\r\nThese two are virtually the same, except this tutorial was downloaded and my own project was created in Eclipse as a Spring Boot: Spring Starter Project. Which is an Eclipse plugin.\r\n\r\n","title":"Spring Boot Request method &#39;POST&#39; not supported","body":"<p>Simple Spring Boot POST request not working and returns:\n\"Request method 'POST' not supported\" error message.</p>\n\n<p>The code itself looks fine to me, but I'm not so sure about the pom.xml.\nIf the problem relies in the pom.xml, then this case is hopeless since I don't even know what all those dependencies do nor why there are duplicates.</p>\n\n<p>Here is my controller class:</p>\n\n<pre><code>@Controller\npublic class StudentController {\n\n@Autowired\nprivate StudentRepository studentRepository;\n\n\n@GetMapping(\"/\")\npublic String list(Model model) {\n    model.addAttribute(\"students\", studentRepository.findAll());\n    return \"index\";\n}\n\n\n@PostMapping(\"/\")\npublic String add(@RequestParam String name) {\n    Student student = new Student(name);\n    this.studentRepository.save(student);\n    return \"redirect:/\";\n}\n}\n</code></pre>\n\n<p>Index.html </p>\n\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html xmlns=\"http://www.w3.org/1999/xhtml\" \nxmlns:th=\"http://www.thymeleaf.org\"&gt;\n&lt;head&gt;\n    &lt;title&gt;Test&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n    &lt;p&gt;List all students &lt;/p&gt;\n\n    &lt;p&gt;Add a Student&lt;/p&gt;\n\n &lt;form th:action=\"@{/}\" method=\"POST\"&gt;\n    &lt;input type=\"text\" name=\"name\"/&gt;\n    &lt;input type=\"submit\"/&gt;\n&lt;/form&gt;\n\n&lt;p&gt;Students&lt;/p&gt;\n\n&lt;p th:each=\"student : ${students}\"&gt;\n    &lt;span th:text=\"${student.name}\"&gt;student name&lt;/span&gt;\n&lt;/p&gt;\n\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>Pom.xml</p>\n\n<pre><code>&lt;properties&gt;\n    &lt;java.version&gt;1.8&lt;/java.version&gt;\n&lt;/properties&gt;\n\n&lt;dependencies&gt;\n &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n        &lt;scope&gt;runtime&lt;/scope&gt;\n    &lt;/dependency&gt;        \n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n        &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.h2database&lt;/groupId&gt;\n        &lt;artifactId&gt;h2&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.fluentlenium&lt;/groupId&gt;\n        &lt;artifactId&gt;fluentlenium-junit&lt;/artifactId&gt;\n        &lt;version&gt;3.7.1&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.fluentlenium&lt;/groupId&gt;\n        &lt;artifactId&gt;fluentlenium-assertj&lt;/artifactId&gt;\n        &lt;version&gt;3.7.1&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n        &lt;artifactId&gt;htmlunit-driver&lt;/artifactId&gt;\n    &lt;/dependency&gt;  \n\n&lt;/dependencies&gt;\n\n&lt;build&gt;\n    &lt;plugins&gt;\n    &lt;plugin&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n    &lt;/plugin&gt;\n    &lt;/plugins&gt;\n    &lt;resources&gt;\n    &lt;resource&gt;\n        &lt;directory&gt;src/main/resources&lt;/directory&gt;\n        &lt;filtering&gt;true&lt;/filtering&gt;\n    &lt;/resource&gt;\n    &lt;/resources&gt;\n&lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n\n<p>The code is supposed to add a student to studentRepository and redirect back to index.html and display the added student instantly.</p>\n\n<p>Error Message from soapUI:</p>\n\n<pre><code>\"timestamp\": \"2019-05-24T09:02:36.088+0000\",\n\"status\": 405,\n\"error\": \"Method Not Allowed\",\n\"message\": \"Request method 'POST' not supported\",\n\"trace\": \"org.springframework.web.HttpRequestMethodNotSupportedException: \n\"path\": \"/\"\n</code></pre>\n\n<p>Full trace:</p>\n\n<pre><code>&gt; \"trace\":\n&gt; \"org.springframework.web.HttpRequestMethodNotSupportedException: \n&gt; Request method 'POST' not supported\\r\\n\\tat \n&gt; org.springframework.web.servlet.support.WebContentGenerator.checkRequest(WebContentGenerator.java:380)\\r\\n\\tat\n&gt; org.springframework.web.servlet.mvc.AbstractController.handleRequest(AbstractController.java:163)\\r\\n\\tat\n&gt; org.springframework.web.servlet.mvc.SimpleControllerHandlerAdapter.handle(SimpleControllerHandlerAdapter.java:52)\\r\\n\\tat\n&gt; org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1039)\\r\\n\\tat\n&gt; org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:942)\\r\\n\\tat\n&gt; org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1005)\\r\\n\\tat\n&gt; org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:908)\\r\\n\\tat\n&gt; javax.servlet.http.HttpServlet.service(HttpServlet.java:660)\\r\\n\\tat\n&gt; org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:882)\\r\\n\\tat\n&gt; javax.servlet.http.HttpServlet.service(HttpServlet.java:741)\\r\\n\\tat\n&gt; org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)\\r\\n\\tat\n&gt; org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\\r\\n\\tat\n&gt; org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\\r\\n\\tat\n&gt; org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\\r\\n\\tat\n&gt; org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\\r\\n\\tat\n&gt; org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99)\\r\\n\\tat\n&gt; org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\\r\\n\\tat\n&gt; org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\\r\\n\\tat\n&gt; org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\\r\\n\\tat\n&gt; org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:92)\\r\\n\\tat\n&gt; org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\\r\\n\\tat\n&gt; org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\\r\\n\\tat\n&gt; org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\\r\\n\\tat\n&gt; org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93)\\r\\n\\tat\n&gt; org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\\r\\n\\tat\n&gt; org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\\r\\n\\tat\n&gt; org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\\r\\n\\tat\n&gt; org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200)\\r\\n\\tat\n&gt; org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\\r\\n\\tat\n&gt; org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\\r\\n\\tat\n&gt; org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\\r\\n\\tat\n&gt; org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:200)\\r\\n\\tat\n&gt; org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)\\r\\n\\tat\n&gt; org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:490)\\r\\n\\tat\n&gt; org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)\\r\\n\\tat\n&gt; org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\\r\\n\\tat\n&gt; org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)\\r\\n\\tat\n&gt; org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)\\r\\n\\tat\n&gt; org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:408)\\r\\n\\tat\n&gt; org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)\\r\\n\\tat\n&gt; org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:836)\\r\\n\\tat\n&gt; org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1747)\\r\\n\\tat\n&gt; org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\\r\\n\\tat\n&gt; java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\\r\\n\\tat\n&gt; java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\\r\\n\\tat\n&gt; org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\\r\\n\\tat\n&gt; java.lang.Thread.run(Thread.java:745)\\r\\n\"\n</code></pre>\n\n<p>application.properties</p>\n\n<pre><code>server.port=8083\nspring.profiles.active=@spring.profiles.active@\nspring.datasource.url=jdbc:h2:file:./database;create=true\nspring.jpa.hibernate.ddl-auto=update\nspring.jpa.properties.hibernate.dialect=org.hibernate.dialect.H2Dialect\n</code></pre>\n\n<p><strong>Tutorial which is working fine:</strong></p>\n\n<p>Controller class</p>\n\n<pre><code>@Controller\npublic class ItemDatabaseController {\n\n@Autowired\nprivate ItemRepository itemRepository;\n\n@GetMapping(\"/\")\npublic String list(Model model) {\n    model.addAttribute(\"items\", this.itemRepository.findAll());\n    return \"index\";\n}\n\n@PostMapping(\"/\")\npublic String add(@RequestParam String name) {\n    this.itemRepository.save(new Item(name));\n    return \"redirect:/\";\n}\n\n}\n</code></pre>\n\n<p>index.html</p>\n\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html xmlns=\"http://www.w3.org/1999/xhtml\" \nxmlns:th=\"http://www.thymeleaf.org\"&gt;\n&lt;head&gt;\n    &lt;title&gt;Item Database&lt;/title&gt;\n&lt;/head&gt;\n\n&lt;body&gt;\n    &lt;h1&gt;Item Database&lt;/h1&gt;\n\n    &lt;table&gt;\n        &lt;tr&gt;\n            &lt;th&gt;Items&lt;/th&gt;\n        &lt;/tr&gt;\n\n        &lt;tr th:each=\"item : ${items}\"&gt;\n            &lt;td th:text=\"${item.name}\"&gt;Item name&lt;/td&gt;\n        &lt;/tr&gt;\n    &lt;/table&gt;\n\n    &lt;h2&gt;Add an item&lt;/h2&gt;\n\n    &lt;form th:action=\"@{/}\" method=\"POST\"&gt;\n        &lt;span&gt;Name:&lt;/span&gt;\n        &lt;input type=\"text\" name=\"name\"/&gt;\n        &lt;input type=\"submit\" value=\"Add!\"/&gt;\n    &lt;/form&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>pom.xml</p>\n\n<pre><code>&lt;properties&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\n    &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\n&lt;/properties&gt;\n\n&lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;2.1.3.RELEASE&lt;/version&gt;\n    &lt;relativePath/&gt;\n&lt;/parent&gt;\n\n&lt;dependencies&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n        &lt;scope&gt;runtime&lt;/scope&gt;\n    &lt;/dependency&gt;        \n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n        &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.h2database&lt;/groupId&gt;\n        &lt;artifactId&gt;h2&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.fluentlenium&lt;/groupId&gt;\n        &lt;artifactId&gt;fluentlenium-junit&lt;/artifactId&gt;\n        &lt;version&gt;3.7.1&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.fluentlenium&lt;/groupId&gt;\n        &lt;artifactId&gt;fluentlenium-assertj&lt;/artifactId&gt;\n        &lt;version&gt;3.7.1&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n        &lt;artifactId&gt;htmlunit-driver&lt;/artifactId&gt;\n    &lt;/dependency&gt;  \n&lt;/dependencies&gt;\n\n&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n\n<p>These two are virtually the same, except this tutorial was downloaded and my own project was created in Eclipse as a Spring Boot: Spring Starter Project. Which is an Eclipse plugin.</p>\n"},{"tags":["java","jfreechart"],"comments":[{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1697641766,"post_id":77317524,"comment_id":136306174,"body_markdown":"What problems? It’s going to plot the data you give it—if you don’t want it to plot something don’t tell it to?","body":"What problems? It’s going to plot the data you give it—if you don’t want it to plot something don’t tell it to?"},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1697650834,"post_id":77317524,"comment_id":136307891,"body_markdown":"Consider leveraging the _pan_ and _zoom_ features examined [here](https://stackoverflow.com/search?tab=votes&amp;q=user%3a230513%20%5bjfreechart%5d%20pan%20zoom&amp;searchOn=3), or toggle series visibility, seen [here](https://stackoverflow.com/a/28519356/230513).","body":"Consider leveraging the <i>pan</i> and <i>zoom</i> features examined <a href=\"https://stackoverflow.com/search?tab=votes&amp;q=user%3a230513%20%5bjfreechart%5d%20pan%20zoom&amp;searchOn=3\">here</a>, or toggle series visibility, seen <a href=\"https://stackoverflow.com/a/28519356/230513\">here</a>."},{"owner":{"account_id":19644376,"reputation":7,"user_id":14379766,"display_name":"Mandapati Ganesh"},"score":0,"creation_date":1697786583,"post_id":77317524,"comment_id":136325928,"body_markdown":"@DaveNewton  my problem was solved after using XYSeriesCollection","body":"@DaveNewton  my problem was solved after using XYSeriesCollection"}],"owner":{"account_id":19644376,"reputation":7,"user_id":14379766,"display_name":"Mandapati Ganesh"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697650992,"creation_date":1697641516,"question_id":77317524,"body_markdown":"I&#39;m facing one problem while plotting JFreeChart. I have 5 series(lines) to plot on a graph. In those 5 series, 1 series has a different x coordinates (In the graph you can check in end 74 is there for p25.). This creates problems. How can fix it so as not to show 74 in the last? instead show it after 72 in ascending order.\r\n\r\n\r\n![https://i.stack.imgur.com/RxfjX.png\\]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/RxfjX.png","title":"JFreeChart not plotting sequentially","body":"<p>I'm facing one problem while plotting JFreeChart. I have 5 series(lines) to plot on a graph. In those 5 series, 1 series has a different x coordinates (In the graph you can check in end 74 is there for p25.). This creates problems. How can fix it so as not to show 74 in the last? instead show it after 72 in ascending order.</p>\n<p><img src=\"https://i.stack.imgur.com/RxfjX.png\" alt=\"https://i.stack.imgur.com/RxfjX.png]\" /></p>\n"},{"tags":["java","android","firebase","notifications","firebase-cloud-messaging"],"owner":{"account_id":22892970,"reputation":1,"user_id":17032856,"display_name":"knight Fiury"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697649951,"creation_date":1697649951,"question_id":77318457,"body_markdown":"I&#39;m quite new to Firebase Cloud Messaging. And my fcm notifications are categorised as miscellaneous. Please help me out. \r\n\r\nI have tried to create channel id but this channel is not creating but the notification is showing with default priority. \r\n\r\n```\r\npublic class FCMService extends FirebaseMessagingService {\r\nprivate static final String TAG = &quot;FCMService&quot;;\r\nprivate SharedPreferences userFile;\r\n\r\n@Override\r\npublic void onMessageReceived(RemoteMessage remoteMessage) {\r\n\r\nif (remoteMessage.getData().size() &gt; 0) {}\r\n\r\nif (remoteMessage.getNotification() != null) {\t\t\t\tsendNotification(remoteMessage.getNotification().getTitle(), remoteMessage.getNotification().getBody(), remoteMessage.getNotification().getImageUrl() == null?null : remoteMessage.getNotification().getImageUrl().toString());\r\n}}\r\n\r\n@Override\r\npublic void onNewToken(String token) {\r\nuserFile = getSharedPreferences(&quot;userFile&quot;, Activity.MODE_PRIVATE);\r\nsendRegistrationToServer(token);}\r\n\r\nprivate void sendRegistrationToServer(String token) {}\r\n\r\nprivate void sendNotification(String title, String messageBody, String imageUrl) {\r\n\r\nfinal NotificationManager notificationManager =\t(NotificationManager)getSystemService(Context.NOTIFICATION_SERVICE);\r\n\r\nif (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\r\nCharSequence name = &quot;Channel name 1&quot;;\r\nString description = &quot;Notification channel&quot;;\r\nint importance = NotificationManager.IMPORTANCE_HIGH;\r\n\r\nNotificationChannel channel = new NotificationChannel(&quot;id 1&quot;, name, importance);                 channel.setDescription(description);     notificationManager.createNotificationChannel(channel);\t\t\t\t\tchannel.enableLights(true);\t\t\t\t\tchannel.setLightColor(Color.RED);\t\t\t\tchannel.enableVibration(true);\t\t\t\t\t\tchannel.setVibrationPattern(new long[]{0, 600, 600});} \r\n\r\nIntent intent = new Intent(this, MainActivity.class);\r\nintent.addFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP);\r\n\r\nPendingIntent pendingIntent = PendingIntent.getActivity(this, 0, intent, PendingIntent.FLAG_ONE_SHOT);\r\n\r\nString channelId = &quot;id 1&quot;;\r\n\r\nUri defaultSoundUri = RingtoneManager.getDefaultUri(RingtoneManager.TYPE_NOTIFICATION);\r\n\r\nfinal NotificationCompat.Builder notificationBuilder = new NotificationCompat.Builder(this, &quot;id 1&quot;)\t\t.setSmallIcon(R.drawable.app_icon)\t\t\t.setContentTitle(title)\t\t.setContentText(messageBody)     .setPriority(NotificationCompat.PRIORITY_HIGH)\t\t\t.setAutoCancel(true)\t\t.setSound(defaultSoundUri)\t.setContentIntent(pendingIntent)\r\n.setChannelId(&quot;id 1&quot;);\r\n\r\nIntent copyIntent = new Intent(this, MainActivity.class);\tcopyIntent.putExtra(&quot;notification_title&quot;, title); \r\n\r\nif (imageUrl == null) {\t\t\t\t\tnotificationManager.notify((int)System.currentTimeMillis(), notificationBuilder.build());\r\n\r\n} else {\t\t\t\tGlide.with(getApplicationContext())\t\t\t\t\t.asBitmap()\t\t\t\t\t.load(imageUrl)\t\t\t\t\t.into(new CustomTarget&lt;Bitmap&gt;(){\r\n\r\n\t\t\t\t\t\t@Override\t\t\t\t\t\t\tpublic void onResourceReady(@NonNull Bitmap resource, @Nullable Transition&lt;? super Bitmap&gt; transition) {\t\t\t\t\t\t\t\t\tnotificationBuilder.setLargeIcon(resource);\t\t\t\t\t\t\t\t\tnotificationBuilder.setStyle(new NotificationCompat.BigPictureStyle().bigPicture(resource));\t\t\t\t\t\t\t\tnotificationManager.notify((int)System.currentTimeMillis(), notificationBuilder.build());}\r\n\r\n\t\t\t\t\t\t\t\t@Override\t\t\t\t\t\t\tpublic void onLoadCleared(@Nullable Drawable placeholder){}\r\n\r\n\t\t\t\t\t\t\t@Override\t\t\t\t\t\t\t\tpublic void onLoadFailed(@Nullable Drawable errorDrawable)                               {\t\t\t\t\t\t\t\t\t\tsuper.onLoadFailed(errorDrawable);\t\t\t\t\t\t\t\t\t\tnotificationManager.notify((int)System.currentTimeMillis(), notificationBuilder.build());\r\n\r\n}\t\t\t\t\t\t});\r\n\r\n}}}\r\n\r\n```","title":"Fcm notification marked as miscellaneous","body":"<p>I'm quite new to Firebase Cloud Messaging. And my fcm notifications are categorised as miscellaneous. Please help me out.</p>\n<p>I have tried to create channel id but this channel is not creating but the notification is showing with default priority.</p>\n<pre><code>public class FCMService extends FirebaseMessagingService {\nprivate static final String TAG = &quot;FCMService&quot;;\nprivate SharedPreferences userFile;\n\n@Override\npublic void onMessageReceived(RemoteMessage remoteMessage) {\n\nif (remoteMessage.getData().size() &gt; 0) {}\n\nif (remoteMessage.getNotification() != null) {              sendNotification(remoteMessage.getNotification().getTitle(), remoteMessage.getNotification().getBody(), remoteMessage.getNotification().getImageUrl() == null?null : remoteMessage.getNotification().getImageUrl().toString());\n}}\n\n@Override\npublic void onNewToken(String token) {\nuserFile = getSharedPreferences(&quot;userFile&quot;, Activity.MODE_PRIVATE);\nsendRegistrationToServer(token);}\n\nprivate void sendRegistrationToServer(String token) {}\n\nprivate void sendNotification(String title, String messageBody, String imageUrl) {\n\nfinal NotificationManager notificationManager = (NotificationManager)getSystemService(Context.NOTIFICATION_SERVICE);\n\nif (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\nCharSequence name = &quot;Channel name 1&quot;;\nString description = &quot;Notification channel&quot;;\nint importance = NotificationManager.IMPORTANCE_HIGH;\n\nNotificationChannel channel = new NotificationChannel(&quot;id 1&quot;, name, importance);                 channel.setDescription(description);     notificationManager.createNotificationChannel(channel);                   channel.enableLights(true);                 channel.setLightColor(Color.RED);               channel.enableVibration(true);                      channel.setVibrationPattern(new long[]{0, 600, 600});} \n\nIntent intent = new Intent(this, MainActivity.class);\nintent.addFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP);\n\nPendingIntent pendingIntent = PendingIntent.getActivity(this, 0, intent, PendingIntent.FLAG_ONE_SHOT);\n\nString channelId = &quot;id 1&quot;;\n\nUri defaultSoundUri = RingtoneManager.getDefaultUri(RingtoneManager.TYPE_NOTIFICATION);\n\nfinal NotificationCompat.Builder notificationBuilder = new NotificationCompat.Builder(this, &quot;id 1&quot;)     .setSmallIcon(R.drawable.app_icon)          .setContentTitle(title)     .setContentText(messageBody)     .setPriority(NotificationCompat.PRIORITY_HIGH)         .setAutoCancel(true)        .setSound(defaultSoundUri)  .setContentIntent(pendingIntent)\n.setChannelId(&quot;id 1&quot;);\n\nIntent copyIntent = new Intent(this, MainActivity.class);   copyIntent.putExtra(&quot;notification_title&quot;, title); \n\nif (imageUrl == null) {                 notificationManager.notify((int)System.currentTimeMillis(), notificationBuilder.build());\n\n} else {                Glide.with(getApplicationContext())                 .asBitmap()                 .load(imageUrl)                 .into(new CustomTarget&lt;Bitmap&gt;(){\n\n                        @Override                           public void onResourceReady(@NonNull Bitmap resource, @Nullable Transition&lt;? super Bitmap&gt; transition) {                                    notificationBuilder.setLargeIcon(resource);                                 notificationBuilder.setStyle(new NotificationCompat.BigPictureStyle().bigPicture(resource));                                notificationManager.notify((int)System.currentTimeMillis(), notificationBuilder.build());}\n\n                                @Override                           public void onLoadCleared(@Nullable Drawable placeholder){}\n\n                            @Override                               public void onLoadFailed(@Nullable Drawable errorDrawable)                               {                                      super.onLoadFailed(errorDrawable);                                      notificationManager.notify((int)System.currentTimeMillis(), notificationBuilder.build());\n\n}                       });\n\n}}}\n\n</code></pre>\n"},{"tags":["java","url","uri"],"answers":[{"comments":[{"owner":{"account_id":2440564,"reputation":2884,"user_id":2129219,"display_name":"Colin D"},"score":25,"creation_date":1501618511,"post_id":5565025,"comment_id":77854941,"body_markdown":"for anyone feeling dumb after trying this, note that it is not javascript code. it&#39;s java","body":"for anyone feeling dumb after trying this, note that it is not javascript code. it&#39;s java"}],"tags":[],"owner":{"account_id":329612,"reputation":71055,"user_id":653230,"display_name":"WhiteFang34"},"comment_count":1,"down_vote_count":0,"up_vote_count":62,"is_accepted":true,"score":62,"last_activity_date":1302086478,"creation_date":1302086478,"answer_id":5565025,"question_id":5564998,"body_markdown":"You want something like this:\r\n\r\n    String path = new URL(&quot;http://www.costo.com/test1/test2&quot;).getPath();\r\n\r\nActually that&#39;ll give you `/test1/test2`. You&#39;ll just have to remove the first `/` to get what you want:\r\n\r\n    path = path.replaceFirst(&quot;/&quot;, &quot;&quot;);\r\n\r\nNow you&#39;ll have `test1/test2` in `path`.\r\n","title":"How to get the path of a URL?","body":"<p>You want something like this:</p>\n\n<pre><code>String path = new URL(\"http://www.costo.com/test1/test2\").getPath();\n</code></pre>\n\n<p>Actually that'll give you <code>/test1/test2</code>. You'll just have to remove the first <code>/</code> to get what you want:</p>\n\n<pre><code>path = path.replaceFirst(\"/\", \"\");\n</code></pre>\n\n<p>Now you'll have <code>test1/test2</code> in <code>path</code>.</p>\n"},{"tags":[],"owner":{"account_id":95910,"reputation":238649,"user_id":260990,"accept_rate":81,"display_name":"jmj"},"comment_count":0,"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1302086513,"creation_date":1302086513,"answer_id":5565032,"question_id":5564998,"body_markdown":"     URL url = new  URL(&quot;http://www.google.com/in/on&quot;);\r\n     System.out.println(url.getPath());\r\n\r\n\r\n**Also See**\r\n\r\n - [Javadoc][1]\r\n\r\n\r\n  [1]: http://download.oracle.com/javase/6/docs/api/java/net/URL.html#getPath%28%29","title":"How to get the path of a URL?","body":"<pre><code> URL url = new  URL(\"http://www.google.com/in/on\");\n System.out.println(url.getPath());\n</code></pre>\n\n<p><strong>Also See</strong></p>\n\n<ul>\n<li><a href=\"http://download.oracle.com/javase/6/docs/api/java/net/URL.html#getPath%28%29\" rel=\"noreferrer\">Javadoc</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":217320,"reputation":42820,"user_id":473070,"accept_rate":82,"display_name":"Vladimir Ivanov"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1302086541,"creation_date":1302086541,"answer_id":5565036,"question_id":5564998,"body_markdown":"use `URL.getPath()` method of [`URL`][1] class.\r\n\r\n\r\n  [1]: http://download.oracle.com/javase/6/docs/api/java/net/URL.html","title":"How to get the path of a URL?","body":"<p>use <code>URL.getPath()</code> method of <a href=\"http://download.oracle.com/javase/6/docs/api/java/net/URL.html\" rel=\"nofollow\"><code>URL</code></a> class.</p>\n"},{"tags":[],"owner":{"account_id":54377,"reputation":13404,"user_id":162684,"accept_rate":100,"display_name":"MarcoS"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1302086648,"creation_date":1302086648,"answer_id":5565058,"question_id":5564998,"body_markdown":"You can do this:\r\n\r\n\t\tURL url = new URL(&quot;http://www.costo.com/test1/test2&quot;);\r\n\t\tSystem.out.println(url.getPath());","title":"How to get the path of a URL?","body":"<p>You can do this:</p>\n\n<pre><code>    URL url = new URL(\"http://www.costo.com/test1/test2\");\n    System.out.println(url.getPath());\n</code></pre>\n"},{"comments":[{"owner":{"account_id":331432,"reputation":3297,"user_id":656094,"accept_rate":40,"display_name":"Panthro"},"score":1,"creation_date":1503661854,"post_id":34725673,"comment_id":78719738,"body_markdown":"Never use `System.currentTimeMillis()` for micro benchmarking. Use nano, which is more accurate. And keep in mind this is not a real benchmark, I strongly recommend using a benchmarking tool for that, http://openjdk.java.net/projects/code-tools/jmh/","body":"Never use <code>System.currentTimeMillis()</code> for micro benchmarking. Use nano, which is more accurate. And keep in mind this is not a real benchmark, I strongly recommend using a benchmarking tool for that, <a href=\"http://openjdk.java.net/projects/code-tools/jmh/\" rel=\"nofollow noreferrer\">openjdk.java.net/projects/code-tools/jmh</a>"},{"owner":{"account_id":218057,"reputation":67738,"user_id":474189,"accept_rate":72,"display_name":"Duncan Jones"},"score":2,"creation_date":1524132938,"post_id":34725673,"comment_id":86852328,"body_markdown":"And more importantly, never prematurely optimise. I can&#39;t imagine a situation where this is the bottleneck in your application :-)","body":"And more importantly, never prematurely optimise. I can&#39;t imagine a situation where this is the bottleneck in your application :-)"},{"owner":{"account_id":10238255,"reputation":5074,"user_id":7556457,"display_name":"kca"},"score":0,"creation_date":1668691190,"post_id":34725673,"comment_id":131470794,"body_markdown":"I case somebody likes or needs the `.split` method: Keep in mind there might be a query or anchor or both attached as well (e.g. `.../path?q=somevalue` or `.../path#someAnchor`)","body":"I case somebody likes or needs the <code>.split</code> method: Keep in mind there might be a query or anchor or both attached as well (e.g. <code>...&#47;path?q=somevalue</code> or <code>...&#47;path#someAnchor</code>)"}],"tags":[],"owner":{"account_id":215715,"reputation":3329,"user_id":470517,"accept_rate":86,"display_name":"Aydin K."},"comment_count":3,"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1452527402,"creation_date":1452527402,"answer_id":34725673,"question_id":5564998,"body_markdown":"I had performance doubts using the Java URL class for just extracting the path from an URL and thought that this is an overkill.\r\n\r\nTherefore I wrote three methods, which all use a different way to extract the path from a given URL.\r\n\r\n 1. 1st method uses the **URL.getPath** method from the Java URL class.\r\n 2. 2nd method uses a **regex** I found in SO (I lost the source link, otherwise I&#39;d give credits to the author right here).\r\n 3. 3rd method uses a **array-split and join** for getting the same result.\r\n\r\nAll three methods are invoked 1000000 times for a given URL.\r\n\r\nThe result is:\r\n\r\n    #1 (getPathviaURL)   took:    860ms\r\n    #2 (getPathViaRegex) took:   3763ms\r\n    #3 (getPathViaSplit) took:   1365ms\r\n\r\nCode - feel free to optimize it:\r\n\r\n    \t\r\n\r\n    public static void main(String[] args) {\r\n    \r\n    \t\t   \r\n    \t\tString host = &quot;http://stackoverflow.com/questions/5564998/how-to-get-the-path-of-a-url&quot;;\r\n    \r\n    \t\tlong start1 = System.currentTimeMillis();\r\n    \t\tint i = 0;\r\n    \t\twhile (i &lt; 1000000) {\r\n    \t\t\tgetPathviaURL(host);\r\n    \t\t\ti++;\r\n    \t\t}\r\n    \t\tlong end1 = System.currentTimeMillis();\r\n    \r\n    \t\tSystem.out.println(&quot;#1 (getPathviaURL) took: &quot; + (end1 - start1) + &quot;ms&quot;);\r\n    \t\tPattern p = Pattern.compile(&quot;(?:([^:\\\\/?#]+):)?(?:\\\\/\\\\/([^\\\\/?#]*))?([^?#]*)(?:\\\\?([^#]*))?(?:#(.*))?&quot;);\r\n    \r\n    \t\tlong start2 = System.currentTimeMillis();\r\n    \t\tint i2 = 0;\r\n    \t\twhile (i2 &lt; 1000000) {\r\n    \t\t\tgetPathViaRegex(host, p);\r\n    \t\t\ti2++;\r\n    \t\t}\r\n    \t\tlong end2 = System.currentTimeMillis();\r\n    \t\tSystem.out.println(&quot;#2 (getPathViaRegex) Took: &quot; + (end2 - start2) + &quot;ms&quot;);\r\n    \r\n    \t\tlong start3 = System.currentTimeMillis();\r\n    \t\tint i3 = 0;\r\n    \t\twhile (i3 &lt; 1000000) {\r\n    \t\t\tgetPathViaSplit(host);\r\n    \t\t\ti3++;\r\n    \t\t}\r\n    \t\tlong end3 = System.currentTimeMillis();\r\n    \t\tSystem.out.println(&quot;#3 (getPathViaSplit) took: &quot; + (end3 - start3) + &quot;ms&quot;);\r\n    \r\n    \r\n    \r\n    \t}\r\n    \r\n    \tpublic static String getPathviaURL(String url) {\r\n    \t\tString path = null;\r\n    \t\ttry {\r\n    \t\t\tpath = new URL(url).getPath();\r\n    \t\t} catch (MalformedURLException e) {\r\n    \t\t\t// TODO Auto-generated catch block\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    \t\treturn path;\r\n    \t}\r\n    \r\n    \tpublic static String getPathViaRegex(String url, Pattern p) {\r\n    \t\tMatcher m = p.matcher(url);\r\n    \r\n    \t\tif (m.find()) {\r\n    \t\t\treturn m.group(3);\r\n    \t\t}\r\n    \t\treturn null;\r\n    \t}\r\n    \r\n    \tpublic static String getPathViaSplit(String url) {\r\n    \t\tString[] parts = url.split(&quot;/&quot;);\r\n    \r\n    \t\tparts = Arrays.copyOfRange(parts, 3, parts.length);\r\n    \t\tString joined = &quot;/&quot; + StringUtils.join(parts, &quot;/&quot;);\r\n    \r\n    \t\treturn joined;\r\n    \t}\r\n","title":"How to get the path of a URL?","body":"<p>I had performance doubts using the Java URL class for just extracting the path from an URL and thought that this is an overkill.</p>\n\n<p>Therefore I wrote three methods, which all use a different way to extract the path from a given URL.</p>\n\n<ol>\n<li>1st method uses the <strong>URL.getPath</strong> method from the Java URL class.</li>\n<li>2nd method uses a <strong>regex</strong> I found in SO (I lost the source link, otherwise I'd give credits to the author right here).</li>\n<li>3rd method uses a <strong>array-split and join</strong> for getting the same result.</li>\n</ol>\n\n<p>All three methods are invoked 1000000 times for a given URL.</p>\n\n<p>The result is:</p>\n\n<pre><code>#1 (getPathviaURL)   took:    860ms\n#2 (getPathViaRegex) took:   3763ms\n#3 (getPathViaSplit) took:   1365ms\n</code></pre>\n\n<p>Code - feel free to optimize it:</p>\n\n<pre><code>public static void main(String[] args) {\n\n\n        String host = \"http://stackoverflow.com/questions/5564998/how-to-get-the-path-of-a-url\";\n\n        long start1 = System.currentTimeMillis();\n        int i = 0;\n        while (i &lt; 1000000) {\n            getPathviaURL(host);\n            i++;\n        }\n        long end1 = System.currentTimeMillis();\n\n        System.out.println(\"#1 (getPathviaURL) took: \" + (end1 - start1) + \"ms\");\n        Pattern p = Pattern.compile(\"(?:([^:\\\\/?#]+):)?(?:\\\\/\\\\/([^\\\\/?#]*))?([^?#]*)(?:\\\\?([^#]*))?(?:#(.*))?\");\n\n        long start2 = System.currentTimeMillis();\n        int i2 = 0;\n        while (i2 &lt; 1000000) {\n            getPathViaRegex(host, p);\n            i2++;\n        }\n        long end2 = System.currentTimeMillis();\n        System.out.println(\"#2 (getPathViaRegex) Took: \" + (end2 - start2) + \"ms\");\n\n        long start3 = System.currentTimeMillis();\n        int i3 = 0;\n        while (i3 &lt; 1000000) {\n            getPathViaSplit(host);\n            i3++;\n        }\n        long end3 = System.currentTimeMillis();\n        System.out.println(\"#3 (getPathViaSplit) took: \" + (end3 - start3) + \"ms\");\n\n\n\n    }\n\n    public static String getPathviaURL(String url) {\n        String path = null;\n        try {\n            path = new URL(url).getPath();\n        } catch (MalformedURLException e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        }\n        return path;\n    }\n\n    public static String getPathViaRegex(String url, Pattern p) {\n        Matcher m = p.matcher(url);\n\n        if (m.find()) {\n            return m.group(3);\n        }\n        return null;\n    }\n\n    public static String getPathViaSplit(String url) {\n        String[] parts = url.split(\"/\");\n\n        parts = Arrays.copyOfRange(parts, 3, parts.length);\n        String joined = \"/\" + StringUtils.join(parts, \"/\");\n\n        return joined;\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6212671,"reputation":1582,"user_id":4838509,"accept_rate":75,"display_name":"Bhaskara Arani"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1548778219,"creation_date":1548778219,"answer_id":54425201,"question_id":5564998,"body_markdown":"If you want to get it from an url of your application something like http://localhost:8080/test1/test2/main.jsp. \r\nUse can use \r\n\r\n    request.getRequestURI() //result will be like test1/test2","title":"How to get the path of a URL?","body":"<p>If you want to get it from an url of your application something like <a href=\"http://localhost:8080/test1/test2/main.jsp\" rel=\"nofollow noreferrer\">http://localhost:8080/test1/test2/main.jsp</a>. \nUse can use </p>\n\n<pre><code>request.getRequestURI() //result will be like test1/test2\n</code></pre>\n"},{"tags":[],"owner":{"account_id":976610,"reputation":1541,"user_id":997566,"accept_rate":69,"display_name":"Nayan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633428863,"creation_date":1633428863,"answer_id":69448643,"question_id":5564998,"body_markdown":"I recommend to use `URI` class because that can handle relative path also. Here is a sample code to achieve the same with URI and URL:\r\n\r\n    String urlStr = &quot;http://localhost:8080/collections-in-java?error=true&quot;;\r\n    try {\r\n        URI uri = URI.create(urlStr);\r\n        System.out.println(uri.getPath());\r\n        URL url1 = new URL(urlStr);\r\n        System.out.println(url1.getPath());\r\n    } catch (MalformedURLException e) {\r\n        e.printStackTrace();\r\n    }\r\n\r\nThe above code will produce same result. The URI is useful if there is chance that the path may be relative e.g. `/some/path/collections-in-java?error=true`\r\n\r\nFor this case, `URI.getPath()` will return `/some/path/collections-in-java` but `URL.getPath()` will throw `MalformedURLException`.","title":"How to get the path of a URL?","body":"<p>I recommend to use <code>URI</code> class because that can handle relative path also. Here is a sample code to achieve the same with URI and URL:</p>\n<pre><code>String urlStr = &quot;http://localhost:8080/collections-in-java?error=true&quot;;\ntry {\n    URI uri = URI.create(urlStr);\n    System.out.println(uri.getPath());\n    URL url1 = new URL(urlStr);\n    System.out.println(url1.getPath());\n} catch (MalformedURLException e) {\n    e.printStackTrace();\n}\n</code></pre>\n<p>The above code will produce same result. The URI is useful if there is chance that the path may be relative e.g. <code>/some/path/collections-in-java?error=true</code></p>\n<p>For this case, <code>URI.getPath()</code> will return <code>/some/path/collections-in-java</code> but <code>URL.getPath()</code> will throw <code>MalformedURLException</code>.</p>\n"}],"owner":{"account_id":232243,"reputation":83887,"user_id":496949,"accept_rate":86,"display_name":"user496949"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":73376,"favorite_count":0,"down_vote_count":1,"up_vote_count":31,"accepted_answer_id":5565025,"answer_count":7,"score":30,"last_activity_date":1697649706,"creation_date":1302086314,"question_id":5564998,"body_markdown":"I have a URL. How do I retrieve its path part?\r\n\r\nFor example: Given `&quot;http://www.costo.com/test1/test2&quot;`, how do I get `&quot;test1/test2&quot;`?","title":"How to get the path of a URL?","body":"<p>I have a URL. How do I retrieve its path part?</p>\n<p>For example: Given <code>&quot;http://www.costo.com/test1/test2&quot;</code>, how do I get <code>&quot;test1/test2&quot;</code>?</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9801,"page":116,"page_size":100}
