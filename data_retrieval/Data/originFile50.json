{"items":[{"tags":["java","maven","plugins"],"comments":[{"owner":{"account_id":888714,"reputation":34077,"user_id":927493,"accept_rate":61,"display_name":"J Fabian Meier"},"score":0,"creation_date":1700514692,"post_id":77516625,"comment_id":136661813,"body_markdown":"I do not quite understand. You can configure a plugin in a parent POM and then use it (with the configuration)  in a child POM.","body":"I do not quite understand. You can configure a plugin in a parent POM and then use it (with the configuration)  in a child POM."}],"owner":{"account_id":29949370,"reputation":11,"user_id":22951866,"display_name":"M.R."},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1700490375,"creation_date":1700490375,"question_id":77516625,"body_markdown":"I want to use maven to insert the plugin configuration from a separate repo into my project.\r\n\r\nThe separate repo has the following structure:\r\n&quot;my-check&quot;\r\n   - pom.xml\r\n   - module &quot;my-archunit-plugin-config&quot;\r\n                 -pom.xml\r\n\r\nMy other java project is a simple spring boot project. it is named &quot;my-bookshop&quot;.\r\nI want to include the parent pom of &quot;my-check&quot; , so that all modules especially the plugin configuration will be inheritated to &quot;my-bookshop&quot;. \r\n\r\n\r\n\r\nThe content of the pom of &quot;my-archunit-plugin-config&quot; is:\r\n\r\n\r\n```\r\n\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;com.plugin&lt;/groupId&gt;\r\n        &lt;artifactId&gt;my-check&lt;/artifactId&gt;\r\n        &lt;version&gt;0.0.1&lt;/version&gt;\r\n    &lt;/parent&gt;\r\n\r\n    &lt;groupId&gt;com.plugin&lt;/groupId&gt;\r\n    &lt;artifactId&gt;my-archunit-plugin-config&lt;/artifactId&gt;\r\n    &lt;version&gt;0.0.1&lt;/version&gt;\r\n    &lt;packaging&gt;pom&lt;/packaging&gt;\r\n\r\n\r\n &lt;build&gt;\r\n        &lt;pluginManagement&gt;\r\n            &lt;plugins&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/pluginManagement&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;com.societegenerale.commons&lt;/groupId&gt;\r\n                &lt;artifactId&gt;arch-unit-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.0.0&lt;/version&gt;\r\n                &lt;configuration&gt;                \r\n                    &lt;excludedPaths&gt;\r\n                        &lt;!-- exclude cds gen path --&gt;\r\n                        &lt;excludedPath&gt;${basedir}/src/gen/java/cds/gen&lt;/excludedPath&gt;\r\n                        &lt;excludedPath&gt;${basedir}/src/test&lt;/excludedPath&gt;\r\n                    &lt;/excludedPaths&gt;\r\n\r\n                    &lt;rules&gt;\r\n                        &lt;!-- using a rule available out of the box... --&gt;\r\n                        &lt;preConfiguredRules&gt;                            &lt;rule&gt;com.societegenerale.commons.plugin.rules.NoStandardStreamRuleTest&lt;/rule&gt;\r\n                            &lt;configurableRule&gt;\r\n                                &lt;rule&gt;com.rules.RuleTest1&lt;/rule&gt;\r\n                                &lt;applyOn&gt;\r\n                                    &lt;packageName&gt;com.factory&lt;/packageName&gt;\r\n                                    &lt;!-- scope can be &quot;main&quot; or &quot;test&quot; --&gt;\r\n                                    &lt;scope&gt;test&lt;/scope&gt;\r\n                                &lt;/applyOn&gt;\r\n                            &lt;/configurableRule&gt;\r\n                        &lt;/configurableRules&gt;\r\n                    &lt;/rules&gt;\r\n                &lt;/configuration&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;phase&gt;test&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;arch-test&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n                &lt;dependencies&gt;\r\n                    &lt;dependency&gt;\r\n                        &lt;groupId&gt;com.plugins.commons&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;commons-archunit&lt;/artifactId&gt;\r\n                        &lt;version&gt;2.0.1&lt;/version&gt;\r\n                    &lt;/dependency&gt;\r\n                &lt;/dependencies&gt;\r\n            &lt;/plugin&gt;\r\n\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n```\r\n\r\n\r\n\r\n\r\nHow can i do this?\r\nI tried it by using the as dependency or in dependency management or as plugin management. But nothing works. If look with in intellij in the &quot;my-check&quot; project i see the plugin. But if i look into &quot;my-bookshop&quot; where i tried to resolve also the plugin then it is not where. How can i achieve it?\r\n\r\nIm using Maven 3.8.1","title":"Inheritance with maven plugins","body":"<p>I want to use maven to insert the plugin configuration from a separate repo into my project.</p>\n<p>The separate repo has the following structure:\n&quot;my-check&quot;</p>\n<ul>\n<li>pom.xml</li>\n<li>module &quot;my-archunit-plugin-config&quot;\n-pom.xml</li>\n</ul>\n<p>My other java project is a simple spring boot project. it is named &quot;my-bookshop&quot;.\nI want to include the parent pom of &quot;my-check&quot; , so that all modules especially the plugin configuration will be inheritated to &quot;my-bookshop&quot;.</p>\n<p>The content of the pom of &quot;my-archunit-plugin-config&quot; is:</p>\n<pre><code>\n    &lt;parent&gt;\n        &lt;groupId&gt;com.plugin&lt;/groupId&gt;\n        &lt;artifactId&gt;my-check&lt;/artifactId&gt;\n        &lt;version&gt;0.0.1&lt;/version&gt;\n    &lt;/parent&gt;\n\n    &lt;groupId&gt;com.plugin&lt;/groupId&gt;\n    &lt;artifactId&gt;my-archunit-plugin-config&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1&lt;/version&gt;\n    &lt;packaging&gt;pom&lt;/packaging&gt;\n\n\n &lt;build&gt;\n        &lt;pluginManagement&gt;\n            &lt;plugins&gt;\n            &lt;/plugins&gt;\n        &lt;/pluginManagement&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;com.societegenerale.commons&lt;/groupId&gt;\n                &lt;artifactId&gt;arch-unit-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.0.0&lt;/version&gt;\n                &lt;configuration&gt;                \n                    &lt;excludedPaths&gt;\n                        &lt;!-- exclude cds gen path --&gt;\n                        &lt;excludedPath&gt;${basedir}/src/gen/java/cds/gen&lt;/excludedPath&gt;\n                        &lt;excludedPath&gt;${basedir}/src/test&lt;/excludedPath&gt;\n                    &lt;/excludedPaths&gt;\n\n                    &lt;rules&gt;\n                        &lt;!-- using a rule available out of the box... --&gt;\n                        &lt;preConfiguredRules&gt;                            &lt;rule&gt;com.societegenerale.commons.plugin.rules.NoStandardStreamRuleTest&lt;/rule&gt;\n                            &lt;configurableRule&gt;\n                                &lt;rule&gt;com.rules.RuleTest1&lt;/rule&gt;\n                                &lt;applyOn&gt;\n                                    &lt;packageName&gt;com.factory&lt;/packageName&gt;\n                                    &lt;!-- scope can be &quot;main&quot; or &quot;test&quot; --&gt;\n                                    &lt;scope&gt;test&lt;/scope&gt;\n                                &lt;/applyOn&gt;\n                            &lt;/configurableRule&gt;\n                        &lt;/configurableRules&gt;\n                    &lt;/rules&gt;\n                &lt;/configuration&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;phase&gt;test&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;arch-test&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n                &lt;dependencies&gt;\n                    &lt;dependency&gt;\n                        &lt;groupId&gt;com.plugins.commons&lt;/groupId&gt;\n                        &lt;artifactId&gt;commons-archunit&lt;/artifactId&gt;\n                        &lt;version&gt;2.0.1&lt;/version&gt;\n                    &lt;/dependency&gt;\n                &lt;/dependencies&gt;\n            &lt;/plugin&gt;\n\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n</code></pre>\n<p>How can i do this?\nI tried it by using the as dependency or in dependency management or as plugin management. But nothing works. If look with in intellij in the &quot;my-check&quot; project i see the plugin. But if i look into &quot;my-bookshop&quot; where i tried to resolve also the plugin then it is not where. How can i achieve it?</p>\n<p>Im using Maven 3.8.1</p>\n"},{"tags":["java","database"],"comments":[{"owner":{"account_id":45934,"reputation":203679,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"score":0,"creation_date":1700481337,"post_id":77515554,"comment_id":136655819,"body_markdown":"Not an answer, but...: You are using `==` to compare strings in your code. That does not do what you think it does in Java. Use `.equals(...)` instead. See: [How do I compare strings in Java?](https://stackoverflow.com/questions/513832/how-do-i-compare-strings-in-java)","body":"Not an answer, but...: You are using <code>==</code> to compare strings in your code. That does not do what you think it does in Java. Use <code>.equals(...)</code> instead. See: <a href=\"https://stackoverflow.com/questions/513832/how-do-i-compare-strings-in-java\">How do I compare strings in Java?</a>"},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1700482900,"post_id":77515554,"comment_id":136656134,"body_markdown":"According to the stack trace you posted, method `sqlSearch` (in class `Person`) is causing the error yet I could not find the code of that method in your question. Can you [edit] your question and post the code for class `Person`? Or at least the code of method `sqlSearch`? Better yet, maybe you can post a [mcve]?","body":"According to the stack trace you posted, method <code>sqlSearch</code> (in class <code>Person</code>) is causing the error yet I could not find the code of that method in your question. Can you <a href=\"https://stackoverflow.com/posts/77515554/edit\">edit</a> your question and post the code for class <code>Person</code>? Or at least the code of method <code>sqlSearch</code>? Better yet, maybe you can post a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>?"}],"answers":[{"tags":[],"owner":{"account_id":26746848,"reputation":226,"user_id":20346807,"display_name":"Joan"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1700490324,"creation_date":1700481518,"answer_id":77515718,"question_id":77515554,"body_markdown":"That&#39;s because you&#39;re using the *try with resources*. See https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html for more detail.\r\n\r\nThis means that as you&#39;re putting the connection within the try-block. After the try block execution the connection is closed:\r\n\r\n    try (Connection connection = sqlConn;\r\n         PreparedStatement ps = connection.prepareStatement(sqlQuery);\r\n         ResultSet rs = ps.executeQuery()) {\r\n\r\nJust try to move the connection outside the try block as follows:\r\n\r\n    Connection connection = sqlConn;\r\n    try (PreparedStatement ps = connection.prepareStatement(sqlQuery);\r\n         ResultSet rs = ps.executeQuery()) {\r\n\r\n\r\nDon&#39;t forget to close the connection after all the queries are executed.\r\n\r\nNote that another option will be to open a new connection each time.\r\n\r\n\r\n        ","title":"SQL connection closes without prompted","body":"<p>That's because you're using the <em>try with resources</em>. See <a href=\"https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html</a> for more detail.</p>\n<p>This means that as you're putting the connection within the try-block. After the try block execution the connection is closed:</p>\n<pre><code>try (Connection connection = sqlConn;\n     PreparedStatement ps = connection.prepareStatement(sqlQuery);\n     ResultSet rs = ps.executeQuery()) {\n</code></pre>\n<p>Just try to move the connection outside the try block as follows:</p>\n<pre><code>Connection connection = sqlConn;\ntry (PreparedStatement ps = connection.prepareStatement(sqlQuery);\n     ResultSet rs = ps.executeQuery()) {\n</code></pre>\n<p>Don't forget to close the connection after all the queries are executed.</p>\n<p>Note that another option will be to open a new connection each time.</p>\n"}],"owner":{"account_id":15698566,"reputation":3,"user_id":11327270,"display_name":"sparrowe"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":37,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":77515718,"answer_count":1,"score":-1,"last_activity_date":1700490324,"creation_date":1700479889,"question_id":77515554,"body_markdown":"When trying to run two SQL queries, one after another (as seen in dBtest2), the system returns an error saying that the SQL connection has closed even though it has not been prompted to do so. \r\n\r\nSo far, I have tried moving the sqlConn connection to different places as well as opening and closing the connection individually per method. If only one SQL query is called, the system works as intended. These are the classes:\r\n\r\n```\r\nimport java.sql.*;\r\n\r\npublic class MySqlConnect {\r\n    private static final String DB_URL = &quot;jdbc:mysql://dbconnectionURL&quot;;\r\n    private static final String USER = &quot;username&quot;;\r\n    private static final String PASSWORD = &quot;paSs&quot;;\r\n    private static Connection mysqlConn;\r\n\r\n    static {\r\n        try {\r\n            Class.forName(&quot;com.mysql.cj.jdbc.Driver&quot;);\r\n            mysqlConn = DriverManager.getConnection(DB_URL, USER, PASSWORD);\r\n            System.out.println(&quot;MySQL Db Connection is successful&quot;);\r\n        } catch (ClassNotFoundException | SQLException e) {\r\n            e.printStackTrace(); // Handle ClassNotFoundException and SQLException\r\n        }\r\n    }\r\n\r\n    public static Connection getMysqlConnection() {\r\n        return mysqlConn;\r\n    }\r\n\r\n    public static void closeConnection() {\r\n        if (mysqlConn != null) {\r\n            try {\r\n                mysqlConn.close();\r\n                System.out.println(&quot;MySQL Db Connection is closed&quot;);\r\n            } catch (SQLException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n```\r\nimport java.sql.*;\r\nimport java.util.ArrayList;\r\n\r\npublic class sqlQuery {\r\n    private int userID;\r\n    private String password;\r\n    private boolean activated;\r\n    private String userType;\r\n    \r\n    Connection sqlConn = MySqlConnect.getMysqlConnection(); // I want to be able to try accept this but idk how\r\n\r\n    public String sqlSearch(String tBName){ // ALL\r\n        String sqlQuery = &quot;&quot;;\r\n\r\n        if(tBName == &quot;&quot;){\r\n            throw new IllegalArgumentException(&quot;Criteria cannot be empty&quot;);\r\n        }\r\n\r\n        sqlQuery = &quot;SELECT * FROM &quot; + tBName + &quot;;&quot;;\r\n        \r\n        if(sqlQuery == &quot;&quot;){\r\n            throw new IllegalArgumentException(&quot;SQL query not set, something gone wrong&quot;);\r\n        }\r\n\r\n        ArrayList&lt;String&gt; resultList = new ArrayList&lt;String&gt;();\r\n\r\n        try (Connection connection = sqlConn;\r\n            PreparedStatement ps = connection.prepareStatement(sqlQuery);\r\n            ResultSet rs = ps.executeQuery()) {\r\n    \r\n            ResultSetMetaData metaData = rs.getMetaData();\r\n            int columnCount = metaData.getColumnCount();\r\n        \r\n            if (rs.next()) {\r\n                for (int i = 1; i &lt;= columnCount; i++) {\r\n                    String columnValue = rs.getString(i);\r\n                    resultList.add(columnValue);\r\n                }     \r\n            } else {\r\n                System.out.println(&quot;No match for &quot; + tBName);\r\n            }\r\n        \r\n        } catch (SQLException e) {\r\n            System.err.println(&quot;Error executing SQL query: &quot; + e.getMessage());\r\n            e.printStackTrace(); \r\n        }\r\n        String result = String.join(&quot;, &quot;, resultList);\r\n        return result;     \r\n    }\r\n}\r\n```\r\n```\r\npublic class dBtest2 {\r\n    public class Main {\r\n        public static void main(String[] args) {    \r\n            Person person = new Person(2, &quot;password123&quot;, true, &quot;student&quot;);\r\n\r\n            System.out.println(person.sqlSearch(&quot;Course&quot;));\r\n            System.out.println(person.sqlSearch(&quot;Student&quot;));\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nThe error message I end up getting despite all efforts is:\r\n```none\r\nMySQL Db Connection is successful\r\nCS101, CSC 101, Intro to Computer Science, 3\r\nError executing SQL query: No operations allowed after connection closed.\r\njava.sql.SQLNonTransientConnectionException: No operations allowed after connection closed.\r\n        at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:111)\r\n        at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:98)\r\n        at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:90)\r\n        at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:64)\r\n        at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:74)\r\n        at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:73)\r\n        at com.mysql.cj.jdbc.ConnectionImpl.prepareStatement(ConnectionImpl.java:1610)\r\n        at com.mysql.cj.jdbc.ConnectionImpl.prepareStatement(ConnectionImpl.java:1524)\r\n        at Person.sqlSearch(Person.java:245)\r\n        at dBtest2$Main.main(dBtest2.java:8)\r\nCaused by: com.mysql.cj.exceptions.ConnectionIsClosedException: No operations allowed after connection closed.\r\n        at java.base/jdk.internal.reflect.DirectConstructorHandleAccessor.newInstance(DirectConstructorHandleAccessor.java:62)\r\n        at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:502)\r\n        at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:486)\r\n        at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:61)\r\n        at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:104)\r\n        at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:149)\r\n        at com.mysql.cj.NativeSession.checkClosed(NativeSession.java:756)\r\n        at com.mysql.cj.jdbc.ConnectionImpl.checkClosed(ConnectionImpl.java:556)\r\n        at com.mysql.cj.jdbc.ConnectionImpl.prepareStatement(ConnectionImpl.java:1539)\r\n        ... 3 more\r\n```\r\n\r\nThe desired result would be the output to be just the lists\r\n","title":"SQL connection closes without prompted","body":"<p>When trying to run two SQL queries, one after another (as seen in dBtest2), the system returns an error saying that the SQL connection has closed even though it has not been prompted to do so.</p>\n<p>So far, I have tried moving the sqlConn connection to different places as well as opening and closing the connection individually per method. If only one SQL query is called, the system works as intended. These are the classes:</p>\n<pre><code>import java.sql.*;\n\npublic class MySqlConnect {\n    private static final String DB_URL = &quot;jdbc:mysql://dbconnectionURL&quot;;\n    private static final String USER = &quot;username&quot;;\n    private static final String PASSWORD = &quot;paSs&quot;;\n    private static Connection mysqlConn;\n\n    static {\n        try {\n            Class.forName(&quot;com.mysql.cj.jdbc.Driver&quot;);\n            mysqlConn = DriverManager.getConnection(DB_URL, USER, PASSWORD);\n            System.out.println(&quot;MySQL Db Connection is successful&quot;);\n        } catch (ClassNotFoundException | SQLException e) {\n            e.printStackTrace(); // Handle ClassNotFoundException and SQLException\n        }\n    }\n\n    public static Connection getMysqlConnection() {\n        return mysqlConn;\n    }\n\n    public static void closeConnection() {\n        if (mysqlConn != null) {\n            try {\n                mysqlConn.close();\n                System.out.println(&quot;MySQL Db Connection is closed&quot;);\n            } catch (SQLException e) {\n                e.printStackTrace();\n            }\n        }\n    }\n}\n</code></pre>\n<pre><code>import java.sql.*;\nimport java.util.ArrayList;\n\npublic class sqlQuery {\n    private int userID;\n    private String password;\n    private boolean activated;\n    private String userType;\n    \n    Connection sqlConn = MySqlConnect.getMysqlConnection(); // I want to be able to try accept this but idk how\n\n    public String sqlSearch(String tBName){ // ALL\n        String sqlQuery = &quot;&quot;;\n\n        if(tBName == &quot;&quot;){\n            throw new IllegalArgumentException(&quot;Criteria cannot be empty&quot;);\n        }\n\n        sqlQuery = &quot;SELECT * FROM &quot; + tBName + &quot;;&quot;;\n        \n        if(sqlQuery == &quot;&quot;){\n            throw new IllegalArgumentException(&quot;SQL query not set, something gone wrong&quot;);\n        }\n\n        ArrayList&lt;String&gt; resultList = new ArrayList&lt;String&gt;();\n\n        try (Connection connection = sqlConn;\n            PreparedStatement ps = connection.prepareStatement(sqlQuery);\n            ResultSet rs = ps.executeQuery()) {\n    \n            ResultSetMetaData metaData = rs.getMetaData();\n            int columnCount = metaData.getColumnCount();\n        \n            if (rs.next()) {\n                for (int i = 1; i &lt;= columnCount; i++) {\n                    String columnValue = rs.getString(i);\n                    resultList.add(columnValue);\n                }     \n            } else {\n                System.out.println(&quot;No match for &quot; + tBName);\n            }\n        \n        } catch (SQLException e) {\n            System.err.println(&quot;Error executing SQL query: &quot; + e.getMessage());\n            e.printStackTrace(); \n        }\n        String result = String.join(&quot;, &quot;, resultList);\n        return result;     \n    }\n}\n</code></pre>\n<pre><code>public class dBtest2 {\n    public class Main {\n        public static void main(String[] args) {    \n            Person person = new Person(2, &quot;password123&quot;, true, &quot;student&quot;);\n\n            System.out.println(person.sqlSearch(&quot;Course&quot;));\n            System.out.println(person.sqlSearch(&quot;Student&quot;));\n        }\n    }\n}\n</code></pre>\n<p>The error message I end up getting despite all efforts is:</p>\n<pre class=\"lang-none prettyprint-override\"><code>MySQL Db Connection is successful\nCS101, CSC 101, Intro to Computer Science, 3\nError executing SQL query: No operations allowed after connection closed.\njava.sql.SQLNonTransientConnectionException: No operations allowed after connection closed.\n        at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:111)\n        at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:98)\n        at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:90)\n        at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:64)\n        at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:74)\n        at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:73)\n        at com.mysql.cj.jdbc.ConnectionImpl.prepareStatement(ConnectionImpl.java:1610)\n        at com.mysql.cj.jdbc.ConnectionImpl.prepareStatement(ConnectionImpl.java:1524)\n        at Person.sqlSearch(Person.java:245)\n        at dBtest2$Main.main(dBtest2.java:8)\nCaused by: com.mysql.cj.exceptions.ConnectionIsClosedException: No operations allowed after connection closed.\n        at java.base/jdk.internal.reflect.DirectConstructorHandleAccessor.newInstance(DirectConstructorHandleAccessor.java:62)\n        at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:502)\n        at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:486)\n        at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:61)\n        at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:104)\n        at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:149)\n        at com.mysql.cj.NativeSession.checkClosed(NativeSession.java:756)\n        at com.mysql.cj.jdbc.ConnectionImpl.checkClosed(ConnectionImpl.java:556)\n        at com.mysql.cj.jdbc.ConnectionImpl.prepareStatement(ConnectionImpl.java:1539)\n        ... 3 more\n</code></pre>\n<p>The desired result would be the output to be just the lists</p>\n"},{"tags":["java","json","spring-boot","uuid","jackson-databind"],"comments":[{"owner":{"account_id":45934,"reputation":203679,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"score":1,"creation_date":1700490491,"post_id":77516613,"comment_id":136657559,"body_markdown":"The error means that Jackson is looking for a field named `uuid` in class `CustomerDto`, but that class does not have a field with that name. I see in your code that it does have a field of type `UUID`, but it&#39;s named `providerId` instead of `uuid`. Rename the field, or add a `@JsonProperty(&quot;uuid&quot;)` annotation to the field, or change your JSON (use the name `providerId` instead of `uuid` in the JSON).","body":"The error means that Jackson is looking for a field named <code>uuid</code> in class <code>CustomerDto</code>, but that class does not have a field with that name. I see in your code that it does have a field of type <code>UUID</code>, but it&#39;s named <code>providerId</code> instead of <code>uuid</code>. Rename the field, or add a <code>@JsonProperty(&quot;uuid&quot;)</code> annotation to the field, or change your JSON (use the name <code>providerId</code> instead of <code>uuid</code> in the JSON)."},{"owner":{"account_id":6310497,"reputation":136,"user_id":4902186,"accept_rate":62,"display_name":"Stieg"},"score":0,"creation_date":1700490920,"post_id":77516613,"comment_id":136657622,"body_markdown":"why is it looking for a field called uuid?","body":"why is it looking for a field called uuid?"},{"owner":{"account_id":45934,"reputation":203679,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"score":1,"creation_date":1700491056,"post_id":77516613,"comment_id":136657642,"body_markdown":"Probably because the JSON that you are trying to parse but that you did not show us, contains a field named `uuid`. Something like this: `{ &quot;uuid&quot;: &quot;....&quot;, .... }`","body":"Probably because the JSON that you are trying to parse but that you did not show us, contains a field named <code>uuid</code>. Something like this: <code>{ &quot;uuid&quot;: &quot;....&quot;, .... }</code>"},{"owner":{"account_id":6310497,"reputation":136,"user_id":4902186,"accept_rate":62,"display_name":"Stieg"},"score":0,"creation_date":1700491521,"post_id":77516613,"comment_id":136657731,"body_markdown":"You are right, it is because it is not returning the object expected but an exception... Thank you very much","body":"You are right, it is because it is not returning the object expected but an exception... Thank you very much"}],"owner":{"account_id":6310497,"reputation":136,"user_id":4902186,"accept_rate":62,"display_name":"Stieg"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":159,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700490278,"creation_date":1700490278,"question_id":77516613,"body_markdown":"Migrating to Spring boot 3 I am stuck with this error on my automated integration tests, full stack trace below. I did a couple things related that might have to do with the problem:\r\n\r\n - Jackson-databind was throwing some problems (`NoClassDefFound javax/xml/bind/annotation/XmlElement`) so I updated it to the latest version and added dependency to some `jakarta.xml.bind-api` success.\r\n - The tests have not been modified, pretty much it consumes one of my endpoints succesfully but then fails mapping the result back in the test.\r\n - I tried: `mapper.configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false);` but no luck there.\r\n\r\nStack trace: \r\n\r\n    java.lang.RuntimeException: com.fasterxml.jackson.databind.exc.UnrecognizedPropertyException: Unrecognized field &quot;uuid&quot; (class *.CustomerDto), not marked as ignorable (42 known properties: ..., &quot;providerId&quot;, ...])\r\n     at [Source: REDACTED (`StreamReadFeature.INCLUDE_SOURCE_IN_LOCATION` disabled); line: 1, column: 10] (through reference chain: *.CustomerDto[&quot;uuid&quot;])\r\n     at io.restassured.internal.path.json.mapping.JsonPathJackson2ObjectDeserializer.deserialize(JsonPathJackson2ObjectDeserializer.java:30)\r\n    \tat io.restassured.path.json.mapping.JsonPathObjectDeserializer$deserialize.call(Unknown Source)\r\n    \tat org.codehaus.groovy.runtime.callsite.CallSiteArray.defaultCall(CallSiteArray.java:45)\r\n    \tat org.codehaus.groovy.runtime.callsite.AbstractCallSite.call(AbstractCallSite.java:125)\r\n    \tat org.codehaus.groovy.runtime.callsite.AbstractCallSite.call(AbstractCallSite.java:139)\r\n    \tat io.restassured.internal.mapping.Jackson2Mapper.deserialize(Jackson2Mapper.groovy:58)\r\n    \tat io.restassured.mapper.ObjectMapper$deserialize.call(Unknown Source)\r\n    \tat org.codehaus.groovy.runtime.callsite.CallSiteArray.defaultCall(CallSiteArray.java:45)\r\n    \tat org.codehaus.groovy.runtime.callsite.AbstractCallSite.call(AbstractCallSite.java:125)\r\n    \tat org.codehaus.groovy.runtime.callsite.AbstractCallSite.call(AbstractCallSite.java:139)\r\n    \tat io.restassured.internal.mapping.ObjectMapping.parseWithJackson2(ObjectMapping.groovy:254)\r\n    \tat io.restassured.internal.mapping.ObjectMapping$parseWithJackson2$0.callStatic(Unknown Source)\r\n    \tat org.codehaus.groovy.runtime.callsite.CallSiteArray.defaultCallStatic(CallSiteArray.java:53)\r\n    \tat org.codehaus.groovy.runtime.callsite.AbstractCallSite.callStatic(AbstractCallSite.java:217)\r\n    \tat org.codehaus.groovy.runtime.callsite.AbstractCallSite.callStatic(AbstractCallSite.java:240)\r\n    \tat io.restassured.internal.mapping.ObjectMapping.deserialize(ObjectMapping.groovy:56)\r\n    \tat io.restassured.internal.mapping.ObjectMapping$deserialize.call(Unknown Source)\r\n    \tat org.codehaus.groovy.runtime.callsite.CallSiteArray.defaultCall(CallSiteArray.java:45)\r\n    \tat org.codehaus.groovy.runtime.callsite.AbstractCallSite.call(AbstractCallSite.java:125)\r\n    \tat io.restassured.internal.RestAssuredResponseOptionsGroovyImpl.as(RestAssuredResponseOptionsGroovyImpl.groovy:229)\r\n    \tat io.restassured.internal.RestAssuredResponseOptionsImpl.as(RestAssuredResponseOptionsImpl.java:169)\r\n    \tat *.RestUtils.post(RestUtils.java:65)\r\n    \tat *.InstallationControllerIntegrationTest.setUp(InstallationControllerIntegrationTest.java:95)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n    \tat org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:727)\r\n    \tat org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)\r\n    \tat org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)\r\n    \tat org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:156)\r\n    \tat org.junit.jupiter.engine.extension.TimeoutExtension.interceptLifecycleMethod(TimeoutExtension.java:128)\r\n    \tat org.junit.jupiter.engine.extension.TimeoutExtension.interceptBeforeEachMethod(TimeoutExtension.java:78)\r\n    \tat org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:103)\r\n    \tat org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:93)\r\n    \tat org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\r\n    \tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)\r\n    \tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)\r\n    \tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)\r\n    \tat org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:92)\r\n    \tat org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:86)\r\n    \tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeMethodInExtensionContext(ClassBasedTestDescriptor.java:520)\r\n    \tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$synthesizeBeforeEachMethodAdapter$23(ClassBasedTestDescriptor.java:505)\r\n    \tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeBeforeEachMethods$3(TestMethodTestDescriptor.java:174)\r\n    \tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeBeforeMethodsOrCallbacksUntilExceptionOccurs$6(TestMethodTestDescriptor.java:202)\r\n    \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n    \tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeBeforeMethodsOrCallbacksUntilExceptionOccurs(TestMethodTestDescriptor.java:202)\r\n    \tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeBeforeEachMethods(TestMethodTestDescriptor.java:171)\r\n    \tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:134)\r\n    \tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:68)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)\r\n    \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n    \tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n    \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n    \tat java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\r\n    \tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\r\n    \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n    \tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n    \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n    \tat java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\r\n\r\nActual code:\r\n\r\n```\r\n    ...\r\n            customerId = restUtils\r\n                    .post(customersUrl, customer, CustomerDto.class)\r\n                    .getId();\r\n    ...\r\n```\r\n```\r\n    &lt;T&gt; T post(String url, Object dto, Class&lt;T&gt; type) {\r\n        try {\r\n            return RestAssured\r\n                    .given()\r\n                    .contentType(JSON)\r\n                    .body(mapper.writeValueAsString(dto))\r\n                    .when()\r\n                    .post(url)\r\n                    .as(type);\r\n        } catch (JsonProcessingException e) {\r\n            fail(e);\r\n            return null;\r\n        }\r\n    }\r\n```\r\n```\r\n    @Data\r\n    @AllArgsConstructor\r\n    @Builder\r\n    @NoArgsConstructor\r\n    public class CustomerDto {\r\n        private String id;\r\n    ...\r\n        private UUID providerId;\r\n    \r\n    ...\r\n    \r\n    }\r\n```\r\n\r\nPD; some values have been masked","title":"Caused by: com.fasterxml.jackson.databind.exc.UnrecognizedPropertyException: Unrecognized field &quot;uuid&quot;, (class *.CustomerDto), not marked as ignorable","body":"<p>Migrating to Spring boot 3 I am stuck with this error on my automated integration tests, full stack trace below. I did a couple things related that might have to do with the problem:</p>\n<ul>\n<li>Jackson-databind was throwing some problems (<code>NoClassDefFound javax/xml/bind/annotation/XmlElement</code>) so I updated it to the latest version and added dependency to some <code>jakarta.xml.bind-api</code> success.</li>\n<li>The tests have not been modified, pretty much it consumes one of my endpoints succesfully but then fails mapping the result back in the test.</li>\n<li>I tried: <code>mapper.configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false);</code> but no luck there.</li>\n</ul>\n<p>Stack trace:</p>\n<pre><code>java.lang.RuntimeException: com.fasterxml.jackson.databind.exc.UnrecognizedPropertyException: Unrecognized field &quot;uuid&quot; (class *.CustomerDto), not marked as ignorable (42 known properties: ..., &quot;providerId&quot;, ...])\n at [Source: REDACTED (`StreamReadFeature.INCLUDE_SOURCE_IN_LOCATION` disabled); line: 1, column: 10] (through reference chain: *.CustomerDto[&quot;uuid&quot;])\n at io.restassured.internal.path.json.mapping.JsonPathJackson2ObjectDeserializer.deserialize(JsonPathJackson2ObjectDeserializer.java:30)\n    at io.restassured.path.json.mapping.JsonPathObjectDeserializer$deserialize.call(Unknown Source)\n    at org.codehaus.groovy.runtime.callsite.CallSiteArray.defaultCall(CallSiteArray.java:45)\n    at org.codehaus.groovy.runtime.callsite.AbstractCallSite.call(AbstractCallSite.java:125)\n    at org.codehaus.groovy.runtime.callsite.AbstractCallSite.call(AbstractCallSite.java:139)\n    at io.restassured.internal.mapping.Jackson2Mapper.deserialize(Jackson2Mapper.groovy:58)\n    at io.restassured.mapper.ObjectMapper$deserialize.call(Unknown Source)\n    at org.codehaus.groovy.runtime.callsite.CallSiteArray.defaultCall(CallSiteArray.java:45)\n    at org.codehaus.groovy.runtime.callsite.AbstractCallSite.call(AbstractCallSite.java:125)\n    at org.codehaus.groovy.runtime.callsite.AbstractCallSite.call(AbstractCallSite.java:139)\n    at io.restassured.internal.mapping.ObjectMapping.parseWithJackson2(ObjectMapping.groovy:254)\n    at io.restassured.internal.mapping.ObjectMapping$parseWithJackson2$0.callStatic(Unknown Source)\n    at org.codehaus.groovy.runtime.callsite.CallSiteArray.defaultCallStatic(CallSiteArray.java:53)\n    at org.codehaus.groovy.runtime.callsite.AbstractCallSite.callStatic(AbstractCallSite.java:217)\n    at org.codehaus.groovy.runtime.callsite.AbstractCallSite.callStatic(AbstractCallSite.java:240)\n    at io.restassured.internal.mapping.ObjectMapping.deserialize(ObjectMapping.groovy:56)\n    at io.restassured.internal.mapping.ObjectMapping$deserialize.call(Unknown Source)\n    at org.codehaus.groovy.runtime.callsite.CallSiteArray.defaultCall(CallSiteArray.java:45)\n    at org.codehaus.groovy.runtime.callsite.AbstractCallSite.call(AbstractCallSite.java:125)\n    at io.restassured.internal.RestAssuredResponseOptionsGroovyImpl.as(RestAssuredResponseOptionsGroovyImpl.groovy:229)\n    at io.restassured.internal.RestAssuredResponseOptionsImpl.as(RestAssuredResponseOptionsImpl.java:169)\n    at *.RestUtils.post(RestUtils.java:65)\n    at *.InstallationControllerIntegrationTest.setUp(InstallationControllerIntegrationTest.java:95)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:727)\n    at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)\n    at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:156)\n    at org.junit.jupiter.engine.extension.TimeoutExtension.interceptLifecycleMethod(TimeoutExtension.java:128)\n    at org.junit.jupiter.engine.extension.TimeoutExtension.interceptBeforeEachMethod(TimeoutExtension.java:78)\n    at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:103)\n    at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:93)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)\n    at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:92)\n    at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:86)\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeMethodInExtensionContext(ClassBasedTestDescriptor.java:520)\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$synthesizeBeforeEachMethodAdapter$23(ClassBasedTestDescriptor.java:505)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeBeforeEachMethods$3(TestMethodTestDescriptor.java:174)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeBeforeMethodsOrCallbacksUntilExceptionOccurs$6(TestMethodTestDescriptor.java:202)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeBeforeMethodsOrCallbacksUntilExceptionOccurs(TestMethodTestDescriptor.java:202)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeBeforeEachMethods(TestMethodTestDescriptor.java:171)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:134)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:68)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\n</code></pre>\n<p>Actual code:</p>\n<pre><code>    ...\n            customerId = restUtils\n                    .post(customersUrl, customer, CustomerDto.class)\n                    .getId();\n    ...\n</code></pre>\n<pre><code>    &lt;T&gt; T post(String url, Object dto, Class&lt;T&gt; type) {\n        try {\n            return RestAssured\n                    .given()\n                    .contentType(JSON)\n                    .body(mapper.writeValueAsString(dto))\n                    .when()\n                    .post(url)\n                    .as(type);\n        } catch (JsonProcessingException e) {\n            fail(e);\n            return null;\n        }\n    }\n</code></pre>\n<pre><code>    @Data\n    @AllArgsConstructor\n    @Builder\n    @NoArgsConstructor\n    public class CustomerDto {\n        private String id;\n    ...\n        private UUID providerId;\n    \n    ...\n    \n    }\n</code></pre>\n<p>PD; some values have been masked</p>\n"},{"tags":["java","jax-rs","guice","resteasy","exceptionmapper"],"comments":[{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":0,"creation_date":1700497189,"post_id":77515992,"comment_id":136658857,"body_markdown":"JAX-RS doesn&#39;t support this, but you can create a wrapper that checks the path of the (injected) current request and then delegates to either instance. I don&#39;t think you can let JAX-RS inject anything in these, but you can turn them into regular classes and pass along injected fields to the mapping methods.","body":"JAX-RS doesn&#39;t support this, but you can create a wrapper that checks the path of the (injected) current request and then delegates to either instance. I don&#39;t think you can let JAX-RS inject anything in these, but you can turn them into regular classes and pass along injected fields to the mapping methods."}],"owner":{"account_id":20030252,"reputation":31,"user_id":14683196,"display_name":"È˜tefan Jiroveanu"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700490007,"creation_date":1700484299,"question_id":77515992,"body_markdown":"We have two version of APIs in a monolith architecture. Each one of them has a GenericExceptionHandler which extends JAX-RS&#39;s ExceptionMapper&lt;Exception&gt;. Once I bind the ExceptionMappers as providers for the APIs using Guice, the second ExceptionMapper takes over the mapping of exceptions for the first one, which is not desired.\r\n\r\nIs there any way to make them co-exist, for example all the exceptions that are thrown inside the v1 api to be dealt with by the first Exception Mapper and all the exceptions that are thrown inside the v2 api to be dealt with by the first ExceptionMapper.\r\n```\r\n    //Guice configuration Class\r\n    private static final List&lt;Class&gt; v2Providers = Arrays.asList(\r\n            ...,\r\n            GenericExceptionMapperV2.class,\r\n           ...,\r\n    );\r\n    \r\n    private static final List&lt;Class&gt; v1Providers = Arrays.asList(\r\n            ...,\r\n            GenericExceptionMapperV1.class,\r\n           ...,\r\n    );\r\n\r\n    private void bindV2() { // same for v1\r\n        install(new v2ImplModule());\r\n        List&lt;Class&gt; providers = getProvidersBound(v2Providers);\r\n        String resources = Stream.of(... // classes)\r\n                .map(Class::getName)\r\n                .collect(Collectors.joining(&quot;,&quot;));\r\n        final Map&lt;String, String&gt; initParams = computeInitParams(resources, providers, v2path);\r\n        serve(v2path).with(new HttpServletDispatcher(), initParams);\r\n    }\r\n\r\n    private Map&lt;String, String&gt; computeInitParams(String resources, List&lt;Class&gt; providers, String path) {\r\n        final Map&lt;String, String&gt; initParams = new HashMap&lt;&gt;();\r\n        String prods = providers.stream().map(Class::getName).collect(Collectors.joining(&quot;,&quot;));\r\n        initParams.put(PREFIX_KEY, path);\r\n        initParams.put(RESOURCE_KEY, resources);\r\n        initParams.put(PROVIDER_KEY, prods);\r\n        return initParams;\r\n    }\r\n\r\n```\r\n\r\nI&#39;ve tried \r\n\r\n```\r\n        Multibinder&lt;ExceptionMapper&lt;Exception&gt;&gt; multibinder =\r\n                Multibinder.newSetBinder(binder(), new TypeLiteral&lt;ExceptionMapper&lt;Exception&gt;&gt;() {});\r\n\r\n        multibinder.addBinding().to(GenericExceptionMapperV1.class);\r\n        multibinder.addBinding().to(GenericExceptionMapperV2.class);\r\n```\r\nbut it still doesn&#39;t work\r\n\r\n","title":"JAX-RS: Multiple ExceptionMappers handling the same Exception","body":"<p>We have two version of APIs in a monolith architecture. Each one of them has a GenericExceptionHandler which extends JAX-RS's ExceptionMapper. Once I bind the ExceptionMappers as providers for the APIs using Guice, the second ExceptionMapper takes over the mapping of exceptions for the first one, which is not desired.</p>\n<p>Is there any way to make them co-exist, for example all the exceptions that are thrown inside the v1 api to be dealt with by the first Exception Mapper and all the exceptions that are thrown inside the v2 api to be dealt with by the first ExceptionMapper.</p>\n<pre><code>    //Guice configuration Class\n    private static final List&lt;Class&gt; v2Providers = Arrays.asList(\n            ...,\n            GenericExceptionMapperV2.class,\n           ...,\n    );\n    \n    private static final List&lt;Class&gt; v1Providers = Arrays.asList(\n            ...,\n            GenericExceptionMapperV1.class,\n           ...,\n    );\n\n    private void bindV2() { // same for v1\n        install(new v2ImplModule());\n        List&lt;Class&gt; providers = getProvidersBound(v2Providers);\n        String resources = Stream.of(... // classes)\n                .map(Class::getName)\n                .collect(Collectors.joining(&quot;,&quot;));\n        final Map&lt;String, String&gt; initParams = computeInitParams(resources, providers, v2path);\n        serve(v2path).with(new HttpServletDispatcher(), initParams);\n    }\n\n    private Map&lt;String, String&gt; computeInitParams(String resources, List&lt;Class&gt; providers, String path) {\n        final Map&lt;String, String&gt; initParams = new HashMap&lt;&gt;();\n        String prods = providers.stream().map(Class::getName).collect(Collectors.joining(&quot;,&quot;));\n        initParams.put(PREFIX_KEY, path);\n        initParams.put(RESOURCE_KEY, resources);\n        initParams.put(PROVIDER_KEY, prods);\n        return initParams;\n    }\n\n</code></pre>\n<p>I've tried</p>\n<pre><code>        Multibinder&lt;ExceptionMapper&lt;Exception&gt;&gt; multibinder =\n                Multibinder.newSetBinder(binder(), new TypeLiteral&lt;ExceptionMapper&lt;Exception&gt;&gt;() {});\n\n        multibinder.addBinding().to(GenericExceptionMapperV1.class);\n        multibinder.addBinding().to(GenericExceptionMapperV2.class);\n</code></pre>\n<p>but it still doesn't work</p>\n"},{"tags":["java","node.js","azure-eventhub"],"answers":[{"comments":[{"owner":{"account_id":1620027,"reputation":56,"user_id":1913414,"display_name":"nicolasSiandro"},"score":0,"creation_date":1700503902,"post_id":77516563,"comment_id":136660192,"body_markdown":"that worked just fine, thanks a lot!","body":"that worked just fine, thanks a lot!"}],"tags":[],"owner":{"account_id":53380,"reputation":6491,"user_id":159548,"display_name":"Jesse Squire"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1700489763,"creation_date":1700489763,"answer_id":77516563,"question_id":77511538,"body_markdown":"When you construct the Java consumer, you&#39;re passing your connection string along with a token credential via `.credential`.  This is going to cause the connection string to be interpreted as the fully qualified namespace _(ex. mything.servicebus.windows.net)_ and used as the endpoint to connect to.  \r\n\r\nTo use the connection string, you&#39;ll want to call the builder&#39;s `connectionString` method: \r\n\r\n```java\r\nEventHubConsumerAsyncClient consumer = new EventHubClientBuilder()\r\n    .connectionString(connectionString, eventHubName)                \r\n    .consumerGroup(EventHubClientBuilder.DEFAULT_CONSUMER_GROUP_NAME)\r\n    .buildAsyncConsumerClient();\r\n```","title":"Cannot connect to Azure Event Hub using Java","body":"<p>When you construct the Java consumer, you're passing your connection string along with a token credential via <code>.credential</code>.  This is going to cause the connection string to be interpreted as the fully qualified namespace <em>(ex. mything.servicebus.windows.net)</em> and used as the endpoint to connect to.</p>\n<p>To use the connection string, you'll want to call the builder's <code>connectionString</code> method:</p>\n<pre class=\"lang-java prettyprint-override\"><code>EventHubConsumerAsyncClient consumer = new EventHubClientBuilder()\n    .connectionString(connectionString, eventHubName)                \n    .consumerGroup(EventHubClientBuilder.DEFAULT_CONSUMER_GROUP_NAME)\n    .buildAsyncConsumerClient();\n</code></pre>\n"}],"owner":{"account_id":1620027,"reputation":56,"user_id":1913414,"display_name":"nicolasSiandro"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77516563,"answer_count":1,"score":1,"last_activity_date":1700489763,"creation_date":1700410662,"question_id":77511538,"body_markdown":"I am using Java 17 to listen to events from Azure Event Hub. I only have the connection string and the event hub name. According to the Microsoft docs, I can do something like this:\r\n\r\n```\r\nEventHubConsumerAsyncClient consumer = new EventHubClientBuilder()\r\n                .credential(connectionString, eventHubName,\r\n                        new DefaultAzureCredentialBuilder()\r\n                                .build())\r\n                .consumerGroup(EventHubClientBuilder.DEFAULT_CONSUMER_GROUP_NAME)\r\n                .buildAsyncConsumerClient();\r\n\r\n        // Obtain partitionId from EventHubConsumerAsyncClient.getPartitionIds()\r\n        String partitionId = &quot;0&quot;;\r\n        EventPosition startingPosition = EventPosition.latest();\r\n\r\n        // Keep a reference to `subscription`. When the program is finished receiving events, call\r\n        // subscription.dispose(). This will stop fetching events from the Event Hub.\r\n        //\r\n        // NOTE: This is a non-blocking call and will move to the next line of code after setting up the async\r\n        // operation.  If the program ends after this, or the class is immediately disposed, no events will be\r\n        // received.\r\n\r\n        Disposable subscription = consumer.receive().subscribe(partitionEvent -&gt; {\r\n            PartitionContext partitionContext = partitionEvent.getPartitionContext();\r\n            EventData event = partitionEvent.getData();\r\n\r\n            System.out.printf(&quot;Received event from partition &#39;%s&#39;%n&quot;, partitionContext.getPartitionId());\r\n            System.out.printf(&quot;Contents of event as string: &#39;%s&#39;%n&quot;, event.getBodyAsString());\r\n        }, error -&gt; {\r\n            // This is a terminal signal.  No more events will be received from the same Flux object.\r\n            System.err.print(&quot;An error occurred:&quot; + error);\r\n        }, () -&gt; {\r\n            // This is a terminal signal.  No more events will be received from the same Flux object.\r\n            System.out.print(&quot;Stream has ended.&quot;);\r\n        });\r\n```\r\n\r\nbut I always get a connection reset error:\r\n\r\n```\r\nreactor.core.Exceptions$ErrorCallbackNotImplemented: com.azure.core.amqp.exception.AmqpException: Connection reset, errorContext[NAMESPACE: BLABLABLA. ERROR CONTEXT: N/A]\r\nCaused by: com.azure.core.amqp.exception.AmqpException: Connection reset, errorContext[NAMESPACE: BLABLABLA. ERROR CONTEXT: N/A]\r\n\tat com.azure.core.amqp.implementation.ExceptionUtil.toException(ExceptionUtil.java:85) ~[azure-core-amqp-2.8.2.jar:2.8.2]\r\n\tat com.azure.core.amqp.implementation.handler.ConnectionHandler.notifyErrorContext(ConnectionHandler.java:351) ~[azure-core-amqp-2.8.2.jar:2.8.2]\r\n\tat com.azure.core.amqp.implementation.handler.ConnectionHandler.onTransportError(ConnectionHandler.java:253) ~[azure-core-amqp-2.8.2.jar:2.8.2]\r\n\tat org.apache.qpid.proton.engine.BaseHandler.handle(BaseHandler.java:191) ~[proton-j-0.33.8.jar:na]\r\n\tat org.apache.qpid.proton.engine.impl.EventImpl.dispatch(EventImpl.java:108) ~[proton-j-0.33.8.jar:na]\r\n\tat org.apache.qpid.proton.reactor.impl.ReactorImpl.dispatch(ReactorImpl.java:324) ~[proton-j-0.33.8.jar:na]\r\n\tat org.apache.qpid.proton.reactor.impl.ReactorImpl.process(ReactorImpl.java:291) ~[proton-j-0.33.8.jar:na]\r\n\tat com.azure.core.amqp.implementation.ReactorExecutor.run(ReactorExecutor.java:91) ~[azure-core-amqp-2.8.2.jar:2.8.2]\r\n\tat reactor.core.scheduler.SchedulerTask.call(SchedulerTask.java:68) ~[reactor-core-3.5.11.jar:3.5.11]\r\nCaused by: com.azure.core.amqp.exception.AmqpException: Connection reset, errorContext[NAMESPACE: BLABLABLA. ERROR CONTEXT: N/A]\r\n```\r\n\r\nI&#39;ve ommited the namespace since I cannot share it publicly.\r\n\r\nBut, using Node.js I can connect and receive events without any issues, doing the following:\r\n\r\n```\r\nconst consumerClient = new EventHubConsumerClient(consumerGroup, connectionString, eventHubName);\r\n\r\nasync function startConsumer() {\r\n    const subscription = consumerClient.subscribe({\r\n        processEvents: async (events, context) =&gt; {\r\n            for (const event of events) {\r\n                await processEvent(event);\r\n            }\r\n        },\r\n        processError: async (error) =&gt; {\r\n            console.error(&quot;An error occurred: &quot;, error);\r\n        }\r\n    });\r\n\r\n    // Wait for a few seconds to receive events\r\n    await new Promise((resolve) =&gt; setTimeout(resolve, timeout));\r\n\r\n    // Stop the consumer\r\n    await subscription.close();\r\n    await consumerClient.close();\r\n}\r\n\r\nasync function processEvent(eventData) {\r\n    // some code here, cannot share\r\n}\r\n\r\nstartConsumer().catch((error) =&gt; {\r\n    console.error(&quot;An error occurred: &quot;, error);\r\n});\r\n```","title":"Cannot connect to Azure Event Hub using Java","body":"<p>I am using Java 17 to listen to events from Azure Event Hub. I only have the connection string and the event hub name. According to the Microsoft docs, I can do something like this:</p>\n<pre><code>EventHubConsumerAsyncClient consumer = new EventHubClientBuilder()\n                .credential(connectionString, eventHubName,\n                        new DefaultAzureCredentialBuilder()\n                                .build())\n                .consumerGroup(EventHubClientBuilder.DEFAULT_CONSUMER_GROUP_NAME)\n                .buildAsyncConsumerClient();\n\n        // Obtain partitionId from EventHubConsumerAsyncClient.getPartitionIds()\n        String partitionId = &quot;0&quot;;\n        EventPosition startingPosition = EventPosition.latest();\n\n        // Keep a reference to `subscription`. When the program is finished receiving events, call\n        // subscription.dispose(). This will stop fetching events from the Event Hub.\n        //\n        // NOTE: This is a non-blocking call and will move to the next line of code after setting up the async\n        // operation.  If the program ends after this, or the class is immediately disposed, no events will be\n        // received.\n\n        Disposable subscription = consumer.receive().subscribe(partitionEvent -&gt; {\n            PartitionContext partitionContext = partitionEvent.getPartitionContext();\n            EventData event = partitionEvent.getData();\n\n            System.out.printf(&quot;Received event from partition '%s'%n&quot;, partitionContext.getPartitionId());\n            System.out.printf(&quot;Contents of event as string: '%s'%n&quot;, event.getBodyAsString());\n        }, error -&gt; {\n            // This is a terminal signal.  No more events will be received from the same Flux object.\n            System.err.print(&quot;An error occurred:&quot; + error);\n        }, () -&gt; {\n            // This is a terminal signal.  No more events will be received from the same Flux object.\n            System.out.print(&quot;Stream has ended.&quot;);\n        });\n</code></pre>\n<p>but I always get a connection reset error:</p>\n<pre><code>reactor.core.Exceptions$ErrorCallbackNotImplemented: com.azure.core.amqp.exception.AmqpException: Connection reset, errorContext[NAMESPACE: BLABLABLA. ERROR CONTEXT: N/A]\nCaused by: com.azure.core.amqp.exception.AmqpException: Connection reset, errorContext[NAMESPACE: BLABLABLA. ERROR CONTEXT: N/A]\n    at com.azure.core.amqp.implementation.ExceptionUtil.toException(ExceptionUtil.java:85) ~[azure-core-amqp-2.8.2.jar:2.8.2]\n    at com.azure.core.amqp.implementation.handler.ConnectionHandler.notifyErrorContext(ConnectionHandler.java:351) ~[azure-core-amqp-2.8.2.jar:2.8.2]\n    at com.azure.core.amqp.implementation.handler.ConnectionHandler.onTransportError(ConnectionHandler.java:253) ~[azure-core-amqp-2.8.2.jar:2.8.2]\n    at org.apache.qpid.proton.engine.BaseHandler.handle(BaseHandler.java:191) ~[proton-j-0.33.8.jar:na]\n    at org.apache.qpid.proton.engine.impl.EventImpl.dispatch(EventImpl.java:108) ~[proton-j-0.33.8.jar:na]\n    at org.apache.qpid.proton.reactor.impl.ReactorImpl.dispatch(ReactorImpl.java:324) ~[proton-j-0.33.8.jar:na]\n    at org.apache.qpid.proton.reactor.impl.ReactorImpl.process(ReactorImpl.java:291) ~[proton-j-0.33.8.jar:na]\n    at com.azure.core.amqp.implementation.ReactorExecutor.run(ReactorExecutor.java:91) ~[azure-core-amqp-2.8.2.jar:2.8.2]\n    at reactor.core.scheduler.SchedulerTask.call(SchedulerTask.java:68) ~[reactor-core-3.5.11.jar:3.5.11]\nCaused by: com.azure.core.amqp.exception.AmqpException: Connection reset, errorContext[NAMESPACE: BLABLABLA. ERROR CONTEXT: N/A]\n</code></pre>\n<p>I've ommited the namespace since I cannot share it publicly.</p>\n<p>But, using Node.js I can connect and receive events without any issues, doing the following:</p>\n<pre><code>const consumerClient = new EventHubConsumerClient(consumerGroup, connectionString, eventHubName);\n\nasync function startConsumer() {\n    const subscription = consumerClient.subscribe({\n        processEvents: async (events, context) =&gt; {\n            for (const event of events) {\n                await processEvent(event);\n            }\n        },\n        processError: async (error) =&gt; {\n            console.error(&quot;An error occurred: &quot;, error);\n        }\n    });\n\n    // Wait for a few seconds to receive events\n    await new Promise((resolve) =&gt; setTimeout(resolve, timeout));\n\n    // Stop the consumer\n    await subscription.close();\n    await consumerClient.close();\n}\n\nasync function processEvent(eventData) {\n    // some code here, cannot share\n}\n\nstartConsumer().catch((error) =&gt; {\n    console.error(&quot;An error occurred: &quot;, error);\n});\n</code></pre>\n"},{"tags":["java","string","equality"],"comments":[{"owner":{"account_id":288369,"reputation":7565,"user_id":588747,"accept_rate":65,"display_name":"Nageswaran"},"score":12,"creation_date":1383741859,"post_id":513832,"comment_id":29455790,"body_markdown":"Also its good to know that, if you are overridding .equals () method, make sure you are overridding .hashcode () method, otherwise you will end up with violating equivalence relation b/w equals and hashcode. For more info refer java doc.","body":"Also its good to know that, if you are overridding .equals () method, make sure you are overridding .hashcode () method, otherwise you will end up with violating equivalence relation b/w equals and hashcode. For more info refer java doc."},{"owner":{"account_id":2451367,"reputation":5905,"user_id":2284641,"accept_rate":67,"display_name":"Johannes H."},"score":0,"creation_date":1384394439,"post_id":513832,"comment_id":29723884,"body_markdown":"Leaving a link to my explanation on why `==` works the way it does on Objects: http://stackoverflow.com/a/19966154/2284641","body":"Leaving a link to my explanation on why <code>==</code> works the way it does on Objects: <a href=\"http://stackoverflow.com/a/19966154/2284641\">stackoverflow.com/a/19966154/2284641</a>"},{"owner":{"account_id":1225248,"reputation":19779,"user_id":1190934,"accept_rate":60,"display_name":"James Oravec"},"score":0,"creation_date":1384471047,"post_id":513832,"comment_id":29762356,"body_markdown":"`==` will work some of the time, as java has a String pool, where it tries to reuse memory references of commonly used strings. But `==` compares that objects are equal, not the values... so `.equals()` is the proper use you want to use.","body":"<code>==</code> will work some of the time, as java has a String pool, where it tries to reuse memory references of commonly used strings. But <code>==</code> compares that objects are equal, not the values... so <code>.equals()</code> is the proper use you want to use."},{"owner":{"account_id":3255430,"reputation":2267,"user_id":2744663,"accept_rate":75,"display_name":"Flight Odyssey"},"score":0,"creation_date":1387778693,"post_id":513832,"comment_id":31072763,"body_markdown":"Never use == to test whether Strings are the same, unless you enjoy  tracking down subtle errors and studying the intricacies of the Java String interning process. `&quot;12&quot;==&quot;1&quot;+2` is false (probably)","body":"Never use == to test whether Strings are the same, unless you enjoy  tracking down subtle errors and studying the intricacies of the Java String interning process. <code>&quot;12&quot;==&quot;1&quot;+2</code> is false (probably)"}],"answers":[{"comments":[{"owner":{"account_id":7176159,"reputation":115,"user_id":11056419,"display_name":"Not Euler"},"score":7,"creation_date":1580075076,"post_id":513839,"comment_id":105969230,"body_markdown":"If == checks for reference equality why does n==5 make sense? 5 is not a variable","body":"If == checks for reference equality why does n==5 make sense? 5 is not a variable"},{"owner":{"account_id":17033694,"reputation":4572,"user_id":12323248,"display_name":"akuzminykh"},"score":14,"creation_date":1584780888,"post_id":513839,"comment_id":107545921,"body_markdown":"@HritRoy Because ```==``` checks the *value* of a variable. When you have an object, the variable that references the object has the object&#39;s reference as *value*. Thus, you compare the *references* when comparing two variables with ```==```. When comparing a primitive data type such as ```int```, it&#39;s still the same case. A variable of type ```int``` has the integer as value. Thus, you compare the values of two ```int```s using ```==```. If the ```int``` is the value of a variable or a magic number doesn&#39;t matter. *In addition:* A *reference* is nothing but a number that refers to the memory.","body":"@HritRoy Because <code>==</code> checks the <i>value</i> of a variable. When you have an object, the variable that references the object has the object&#39;s reference as <i>value</i>. Thus, you compare the <i>references</i> when comparing two variables with <code>==</code>. When comparing a primitive data type such as <code>int</code>, it&#39;s still the same case. A variable of type <code>int</code> has the integer as value. Thus, you compare the values of two <code>int</code>s using <code>==</code>. If the <code>int</code> is the value of a variable or a magic number doesn&#39;t matter. <i>In addition:</i> A <i>reference</i> is nothing but a number that refers to the memory."},{"owner":{"account_id":17000499,"reputation":48417,"user_id":12299000,"display_name":"kaya3"},"score":0,"creation_date":1620573202,"post_id":513839,"comment_id":119235252,"body_markdown":"I would add that even when you know your strings are interned, you *should* use `equals` because it&#39;s more obviously correct. Or, you should use an enum instead of strings.","body":"I would add that even when you know your strings are interned, you <i>should</i> use <code>equals</code> because it&#39;s more obviously correct. Or, you should use an enum instead of strings."},{"owner":{"account_id":248321,"reputation":62658,"user_id":523612,"accept_rate":100,"display_name":"Karl Knechtel"},"score":2,"creation_date":1629405636,"post_id":513839,"comment_id":121685713,"body_markdown":"Given that the class name is plural (`Objects`) and the names are taken from English, I find it jarring that they kept the name `.equals` for the method rather than changing it to `.equal`.","body":"Given that the class name is plural (<code>Objects</code>) and the names are taken from English, I find it jarring that they kept the name <code>.equals</code> for the method rather than changing it to <code>.equal</code>."}],"tags":[],"owner":{"account_id":1889,"reputation":120472,"user_id":2603,"accept_rate":75,"display_name":"Aaron Maenpaa"},"comment_count":4,"down_vote_count":4,"up_vote_count":6069,"is_accepted":true,"score":6065,"last_activity_date":1700489147,"creation_date":1233789589,"answer_id":513839,"question_id":513832,"body_markdown":"`==` tests for reference equality (whether they are the same object).\r\n\r\n`.equals()` tests for value equality (whether they contain the same data). \r\n\r\n[Objects.equals()](http://docs.oracle.com/javase/7/docs/api/java/util/Objects.html#equals(java.lang.Object,%20java.lang.Object)) checks for `null` before calling `.equals()` so you don&#39;t have to (available as of JDK7, also available in [Guava](https://github.com/google/guava/wiki/CommonObjectUtilitiesExplained#equals)).\r\n\r\nConsequently, if you want to test whether two strings have the same value you will probably want to use `Objects.equals()`.\r\n    \r\n    // These two have the same value\r\n    new String(&quot;test&quot;).equals(&quot;test&quot;) // --&gt; true \r\n\r\n    // ... but they are not the same object\r\n    new String(&quot;test&quot;) == &quot;test&quot; // --&gt; false \r\n\r\n    // ... neither are these\r\n    new String(&quot;test&quot;) == new String(&quot;test&quot;) // --&gt; false \r\n\r\n    // ... but these are because literals are interned by \r\n    // the compiler and thus refer to the same object\r\n    &quot;test&quot; == &quot;test&quot; // --&gt; true \r\n\r\n    // ... string literals are concatenated by the compiler\r\n    // and the results are interned.\r\n    &quot;test&quot; == &quot;te&quot; + &quot;st&quot; // --&gt; true\r\n\r\n    // ... but you should really just call Objects.equals()\r\n    Objects.equals(&quot;test&quot;, new String(&quot;test&quot;)) // --&gt; true\r\n    Objects.equals(null, &quot;test&quot;) // --&gt; false\r\n    Objects.equals(null, null) // --&gt; true\r\n\r\nFrom the Java Language Specification [JLS 15.21.3. Reference Equality Operators `==` and `!=`](https://docs.oracle.com/javase/specs/jls/se21/html/jls-15.html#jls-15.21.3):\r\n&gt; While `==` may be used to compare references of type `String`, such an equality test determines whether or not the two operands refer to the same `String` object. The result is `false` if the operands are distinct `String` objects, even if they contain the same sequence of characters ([&#167;3.10.5](https://docs.oracle.com/javase/specs/jls/se21/html/jls-3.html#jls-3.10.5), [&#167;3.10.6](https://docs.oracle.com/javase/specs/jls/se21/html/jls-3.html#jls-3.10.6)). The contents of two strings `s` and `t` can be tested for equality by the method invocation `s.equals(t)`.\r\n\r\nYou almost **always** want to use `Objects.equals()`. In the **rare** situation where you **know** you&#39;re dealing with [interned](https://docs.oracle.com/javase/8/docs/api/java/lang/String.html#intern--) strings, you *can* use `==`.\r\n\r\nFrom [JLS 3.10.5. *String Literals*](https://docs.oracle.com/javase/specs/jls/se8/html/jls-3.html#jls-3.10.5):\r\n\r\n&gt;Moreover, a string literal always refers to the *same* instance of class `String`. This is because string literals - or, more generally, strings that are the values of constant expressions ([&#167;15.28](https://docs.oracle.com/javase/specs/jls/se8/html/jls-15.html#jls-15.28)) - are &quot;interned&quot; so as to share unique instances, using the method `String.intern`.\r\n\r\nSimilar examples can also be found in [JLS 3.10.5-1](https://docs.oracle.com/javase/specs/jls/se8/html/jls-3.html#d5e1634).\r\n\r\n### Other Methods To Consider\r\n[String.equalsIgnoreCase()](https://docs.oracle.com/javase/8/docs/api/java/lang/String.html#equalsIgnoreCase-java.lang.String-) value equality that ignores case. Beware, however, that this method can have unexpected results in various locale-related cases, see [this question](https://stackoverflow.com/questions/44238749/equalsignorecase-not-working-as-intended).\r\n\r\n[String.contentEquals()](https://docs.oracle.com/javase/8/docs/api/java/lang/String.html#contentEquals-java.lang.CharSequence-) compares the content of the `String` with the content of any `CharSequence` (available since Java 1.5). Saves you from having to turn your StringBuffer, etc into a String before doing the equality comparison, but leaves the null checking to you.","title":"How do I compare strings in Java?","body":"<p><code>==</code> tests for reference equality (whether they are the same object).</p>\n<p><code>.equals()</code> tests for value equality (whether they contain the same data).</p>\n<p><a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/Objects.html#equals(java.lang.Object,%20java.lang.Object)\" rel=\"noreferrer\">Objects.equals()</a> checks for <code>null</code> before calling <code>.equals()</code> so you don't have to (available as of JDK7, also available in <a href=\"https://github.com/google/guava/wiki/CommonObjectUtilitiesExplained#equals\" rel=\"noreferrer\">Guava</a>).</p>\n<p>Consequently, if you want to test whether two strings have the same value you will probably want to use <code>Objects.equals()</code>.</p>\n<pre><code>// These two have the same value\nnew String(&quot;test&quot;).equals(&quot;test&quot;) // --&gt; true \n\n// ... but they are not the same object\nnew String(&quot;test&quot;) == &quot;test&quot; // --&gt; false \n\n// ... neither are these\nnew String(&quot;test&quot;) == new String(&quot;test&quot;) // --&gt; false \n\n// ... but these are because literals are interned by \n// the compiler and thus refer to the same object\n&quot;test&quot; == &quot;test&quot; // --&gt; true \n\n// ... string literals are concatenated by the compiler\n// and the results are interned.\n&quot;test&quot; == &quot;te&quot; + &quot;st&quot; // --&gt; true\n\n// ... but you should really just call Objects.equals()\nObjects.equals(&quot;test&quot;, new String(&quot;test&quot;)) // --&gt; true\nObjects.equals(null, &quot;test&quot;) // --&gt; false\nObjects.equals(null, null) // --&gt; true\n</code></pre>\n<p>From the Java Language Specification <a href=\"https://docs.oracle.com/javase/specs/jls/se21/html/jls-15.html#jls-15.21.3\" rel=\"noreferrer\">JLS 15.21.3. Reference Equality Operators <code>==</code> and <code>!=</code></a>:</p>\n<blockquote>\n<p>While <code>==</code> may be used to compare references of type <code>String</code>, such an equality test determines whether or not the two operands refer to the same <code>String</code> object. The result is <code>false</code> if the operands are distinct <code>String</code> objects, even if they contain the same sequence of characters (<a href=\"https://docs.oracle.com/javase/specs/jls/se21/html/jls-3.html#jls-3.10.5\" rel=\"noreferrer\">Â§3.10.5</a>, <a href=\"https://docs.oracle.com/javase/specs/jls/se21/html/jls-3.html#jls-3.10.6\" rel=\"noreferrer\">Â§3.10.6</a>). The contents of two strings <code>s</code> and <code>t</code> can be tested for equality by the method invocation <code>s.equals(t)</code>.</p>\n</blockquote>\n<p>You almost <strong>always</strong> want to use <code>Objects.equals()</code>. In the <strong>rare</strong> situation where you <strong>know</strong> you're dealing with <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/String.html#intern--\" rel=\"noreferrer\">interned</a> strings, you <em>can</em> use <code>==</code>.</p>\n<p>From <a href=\"https://docs.oracle.com/javase/specs/jls/se8/html/jls-3.html#jls-3.10.5\" rel=\"noreferrer\">JLS 3.10.5. <em>String Literals</em></a>:</p>\n<blockquote>\n<p>Moreover, a string literal always refers to the <em>same</em> instance of class <code>String</code>. This is because string literals - or, more generally, strings that are the values of constant expressions (<a href=\"https://docs.oracle.com/javase/specs/jls/se8/html/jls-15.html#jls-15.28\" rel=\"noreferrer\">Â§15.28</a>) - are &quot;interned&quot; so as to share unique instances, using the method <code>String.intern</code>.</p>\n</blockquote>\n<p>Similar examples can also be found in <a href=\"https://docs.oracle.com/javase/specs/jls/se8/html/jls-3.html#d5e1634\" rel=\"noreferrer\">JLS 3.10.5-1</a>.</p>\n<h3>Other Methods To Consider</h3>\n<p><a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/String.html#equalsIgnoreCase-java.lang.String-\" rel=\"noreferrer\">String.equalsIgnoreCase()</a> value equality that ignores case. Beware, however, that this method can have unexpected results in various locale-related cases, see <a href=\"https://stackoverflow.com/questions/44238749/equalsignorecase-not-working-as-intended\">this question</a>.</p>\n<p><a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/String.html#contentEquals-java.lang.CharSequence-\" rel=\"noreferrer\">String.contentEquals()</a> compares the content of the <code>String</code> with the content of any <code>CharSequence</code> (available since Java 1.5). Saves you from having to turn your StringBuffer, etc into a String before doing the equality comparison, but leaves the null checking to you.</p>\n"},{"tags":[],"owner":{"account_id":9867,"reputation":618201,"user_id":18393,"accept_rate":82,"display_name":"cletus"},"comment_count":0,"down_vote_count":1,"up_vote_count":129,"is_accepted":false,"score":128,"last_activity_date":1418804935,"creation_date":1233789589,"answer_id":513840,"question_id":513832,"body_markdown":"Yes, `==` is bad for comparing Strings (any objects really, unless you know they&#39;re canonical).  `==` just compares object references.  `.equals()` tests for equality. For Strings, often they&#39;ll be the same but as you&#39;ve discovered, that&#39;s not guaranteed always.\r\n","title":"How do I compare strings in Java?","body":"<p>Yes, <code>==</code> is bad for comparing Strings (any objects really, unless you know they're canonical).  <code>==</code> just compares object references.  <code>.equals()</code> tests for equality. For Strings, often they'll be the same but as you've discovered, that's not guaranteed always.</p>\n"},{"tags":[],"owner":{"account_id":9320,"reputation":159784,"user_id":17172,"display_name":"coobird"},"comment_count":0,"down_vote_count":0,"up_vote_count":105,"is_accepted":false,"score":105,"last_activity_date":1233789608,"creation_date":1233789608,"answer_id":513844,"question_id":513832,"body_markdown":"**`==` compares object references in Java**, and that is no exception for `String` objects.\r\n\r\n**For comparing the actual contents of objects (including `String`), one must use the `equals` method**.\r\n\r\nIf a comparison of two `String` objects using `==` turns out to be `true`, that is because the `String` objects were interned, and the Java Virtual Machine is having multiple references point to the same instance of `String`. One should not expect that comparing one `String` object containing the same contents as another `String` object using `==` to evaluate as `true`.","title":"How do I compare strings in Java?","body":"<p><strong><code>==</code> compares object references in Java</strong>, and that is no exception for <code>String</code> objects.</p>\n\n<p><strong>For comparing the actual contents of objects (including <code>String</code>), one must use the <code>equals</code> method</strong>.</p>\n\n<p>If a comparison of two <code>String</code> objects using <code>==</code> turns out to be <code>true</code>, that is because the <code>String</code> objects were interned, and the Java Virtual Machine is having multiple references point to the same instance of <code>String</code>. One should not expect that comparing one <code>String</code> object containing the same contents as another <code>String</code> object using <code>==</code> to evaluate as <code>true</code>.</p>\n"},{"tags":[],"owner":{"account_id":11857,"reputation":88771,"user_id":23072,"accept_rate":74,"display_name":"Uri"},"comment_count":0,"down_vote_count":0,"up_vote_count":130,"is_accepted":false,"score":130,"last_activity_date":1511079368,"creation_date":1233789618,"answer_id":513846,"question_id":513832,"body_markdown":"Yea, it&#39;s bad...\r\n\r\n`==` means that your two string references are exactly the same object. You may have heard that this is the case because Java keeps sort of a literal table (which it does), but that is not always the case. Some strings are loaded in different ways, constructed from other strings, etc., so you must never assume that two identical strings are stored in the same location.\r\n\r\nEquals does the real comparison for you. ","title":"How do I compare strings in Java?","body":"<p>Yea, it's bad...</p>\n\n<p><code>==</code> means that your two string references are exactly the same object. You may have heard that this is the case because Java keeps sort of a literal table (which it does), but that is not always the case. Some strings are loaded in different ways, constructed from other strings, etc., so you must never assume that two identical strings are stored in the same location.</p>\n\n<p>Equals does the real comparison for you. </p>\n"},{"tags":[],"owner":{"account_id":24600,"reputation":3544,"user_id":62671,"accept_rate":100,"display_name":"Matt Razza"},"comment_count":0,"down_vote_count":0,"up_vote_count":102,"is_accepted":false,"score":102,"last_activity_date":1418805043,"creation_date":1233789647,"answer_id":513852,"question_id":513832,"body_markdown":"`.equals()` compares the data in a class (assuming the function is implemented).\r\n`==` compares pointer locations (location of the object in memory).\r\n\r\n`==` returns true if both objects (NOT TALKING ABOUT PRIMITIVES) point to the SAME object instance.\r\n`.equals()` returns true if the two objects contain the same data [`equals()` Versus `==` in Java][1]\r\n\r\n\r\n\r\nThat may help you.\r\n\r\n\r\n  [1]: http://www.java-samples.com/showtutorial.php?tutorialid=221","title":"How do I compare strings in Java?","body":"<p><code>.equals()</code> compares the data in a class (assuming the function is implemented).\n<code>==</code> compares pointer locations (location of the object in memory).</p>\n\n<p><code>==</code> returns true if both objects (NOT TALKING ABOUT PRIMITIVES) point to the SAME object instance.\n<code>.equals()</code> returns true if the two objects contain the same data <a href=\"http://www.java-samples.com/showtutorial.php?tutorialid=221\" rel=\"noreferrer\"><code>equals()</code> Versus <code>==</code> in Java</a></p>\n\n<p>That may help you.</p>\n"},{"comments":[{"owner":{"account_id":973103,"reputation":1596,"user_id":995199,"accept_rate":81,"display_name":"Marcin Erbel"},"score":5,"creation_date":1413455543,"post_id":513855,"comment_id":41453709,"body_markdown":"Generally I strongly recommend apache commons library:\nhttps://commons.apache.org/proper/commons-lang/javadocs/api-2.6/org/apache/commons/lang/StringUtils.html#equals(java.lang.String, java.lang.String)","body":"Generally I strongly recommend apache commons library: <a href=\"https://commons.apache.org/proper/commons-lang/javadocs/api-2.6/org/apache/commons/lang/StringUtils.html#equals(java.lang.String\" rel=\"nofollow noreferrer\">commons.apache.org/proper/commons-lang/javadocs/api-2.6/org/&zwnj;&#8203;&hellip;</a>, java.lang.String)"}],"tags":[],"owner":{"account_id":1091,"reputation":6119,"user_id":1449,"accept_rate":52,"display_name":"Clayton"},"comment_count":1,"down_vote_count":0,"up_vote_count":234,"is_accepted":false,"score":234,"last_activity_date":1387871385,"creation_date":1233789685,"answer_id":513855,"question_id":513832,"body_markdown":"The `==` operator checks to see if the two strings are exactly the same object.\r\n\r\nThe `.equals()` method will check if the two strings have the same value.","title":"How do I compare strings in Java?","body":"<p>The <code>==</code> operator checks to see if the two strings are exactly the same object.</p>\n\n<p>The <code>.equals()</code> method will check if the two strings have the same value.</p>\n"},{"tags":[],"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"comment_count":0,"down_vote_count":7,"up_vote_count":160,"is_accepted":false,"score":153,"last_activity_date":1384001459,"creation_date":1233789904,"answer_id":513871,"question_id":513832,"body_markdown":"    String a = new String(&quot;foo&quot;);\r\n    String b = new String(&quot;foo&quot;);\r\n    System.out.println(a == b); // prints false\r\n    System.out.println(a.equals(b)); // prints true\r\n\r\nMake sure you understand why.  It&#39;s because the `==` comparison only compares references; the `equals()` method does a character-by-character comparison of the contents.\r\n\r\nWhen you call new for `a` and `b`, each one gets a new reference that points to the `&quot;foo&quot;` in the string table.  The references are different, but the content is the same.\r\n\r\n\r\n","title":"How do I compare strings in Java?","body":"<pre><code>String a = new String(\"foo\");\nString b = new String(\"foo\");\nSystem.out.println(a == b); // prints false\nSystem.out.println(a.equals(b)); // prints true\n</code></pre>\n\n<p>Make sure you understand why.  It's because the <code>==</code> comparison only compares references; the <code>equals()</code> method does a character-by-character comparison of the contents.</p>\n\n<p>When you call new for <code>a</code> and <code>b</code>, each one gets a new reference that points to the <code>\"foo\"</code> in the string table.  The references are different, but the content is the same.</p>\n"},{"comments":[{"owner":{"account_id":102965,"reputation":415240,"user_id":276052,"accept_rate":80,"display_name":"aioobe"},"score":94,"creation_date":1343133864,"post_id":513935,"comment_id":15404047,"body_markdown":"*Sometimes it looks as if &quot;==&quot; compares values,* -- `==` *do* always compare values! (It&#39;s just that certain values are references!)","body":"<i>Sometimes it looks as if &quot;==&quot; compares values,</i> -- <code>==</code> <i>do</i> always compare values! (It&#39;s just that certain values are references!)"},{"owner":{"account_id":1743072,"reputation":2156,"user_id":1593924,"accept_rate":80,"display_name":"Jon Coombs"},"score":8,"creation_date":1403226046,"post_id":513935,"comment_id":37587768,"body_markdown":"Alas, there is no static method for isNullOrEmpty(), and no custom overloading of operators, which makes this part of Java clunkier than in C# or Python. And since Java doesn&#39;t have extension methods, you can&#39;t write your own utility to extend java.lang.String. Right? Any thoughts on subclassing String, adding that static utility method, and then always using MyString instead? A static method with two parameters for doing null-safe comparisons would be nice to have in that subclass too.","body":"Alas, there is no static method for isNullOrEmpty(), and no custom overloading of operators, which makes this part of Java clunkier than in C# or Python. And since Java doesn&#39;t have extension methods, you can&#39;t write your own utility to extend java.lang.String. Right? Any thoughts on subclassing String, adding that static utility method, and then always using MyString instead? A static method with two parameters for doing null-safe comparisons would be nice to have in that subclass too."},{"owner":{"account_id":1122900,"reputation":864,"user_id":1110820,"accept_rate":88,"display_name":"Charles Wood"},"score":8,"creation_date":1403713726,"post_id":513935,"comment_id":37768459,"body_markdown":"Groovy makes this a little easier with the __safe navigation operator__ (http://groovy.codehaus.org/Operators#Operators-SafeNavigationOperator(?.)), `?.`.  That would convert `nullString1?.equals(nullString2);` into an entirely null statement.  However, it doesn&#39;t help if you have `validString?.equals(nullString);` -- that still throws an exception.","body":"Groovy makes this a little easier with the <b>safe navigation operator</b> (<a href=\"http://groovy.codehaus.org/Operators#Operators-SafeNavigationOperator(?.)\" rel=\"nofollow noreferrer\">groovy.codehaus.org/&hellip;</a>), <code>?.</code>.  That would convert <code>nullString1?.equals(nullString2);</code> into an entirely null statement.  However, it doesn&#39;t help if you have <code>validString?.equals(nullString);</code> -- that still throws an exception."},{"owner":{"account_id":297814,"reputation":25324,"user_id":603516,"accept_rate":100,"display_name":"Vadzim"},"score":6,"creation_date":1426180753,"post_id":513935,"comment_id":46276948,"body_markdown":"Short methods to compare nullable strings in java: http://stackoverflow.com/questions/11271554/compare-two-strings-in-java-with-possible-null-values","body":"Short methods to compare nullable strings in java: <a href=\"http://stackoverflow.com/questions/11271554/compare-two-strings-in-java-with-possible-null-values\" title=\"compare two strings in java with possible null values\">stackoverflow.com/questions/11271554/&hellip;</a>"},{"owner":{"account_id":4443039,"reputation":3322,"user_id":3617127,"accept_rate":100,"display_name":"Panther"},"score":5,"creation_date":1428815147,"post_id":513935,"comment_id":47320289,"body_markdown":"@JonCoombs Java supports the subclassing and creating own  method. However few classes are marked final due to certain reasons, String is one of them so we cannot extend. We can create other class and make utility class there which take two string as arguments and implement our logic there. Also for null check some other libraries like spring and apache he good collections of methods, one can use that.","body":"@JonCoombs Java supports the subclassing and creating own  method. However few classes are marked final due to certain reasons, String is one of them so we cannot extend. We can create other class and make utility class there which take two string as arguments and implement our logic there. Also for null check some other libraries like spring and apache he good collections of methods, one can use that."},{"owner":{"account_id":295869,"reputation":73614,"user_id":600500,"accept_rate":54,"display_name":"PaÅ­lo Ebermann"},"score":1,"creation_date":1455135552,"post_id":513935,"comment_id":58359031,"body_markdown":"@CharlesWood `validString.equals(null)` should return false, not throw an exception. (It is specified this way for object.equals, and String.equals does follow this.)","body":"@CharlesWood <code>validString.equals(null)</code> should return false, not throw an exception. (It is specified this way for object.equals, and String.equals does follow this.)"},{"owner":{"account_id":257480,"reputation":5081,"user_id":538921,"accept_rate":91,"display_name":"Edward J Beckett"},"score":0,"creation_date":1520720413,"post_id":513935,"comment_id":85433552,"body_markdown":"Be careful as mentioned... _**String literals**_ are used from the string pool. As such, `String s1 = &quot;Java&quot;; String s2 = &quot;Java&quot; ; s1 == s2 : true`","body":"Be careful as mentioned... <i><b>String literals</b></i> are used from the string pool. As such, <code>String s1 = &quot;Java&quot;; String s2 = &quot;Java&quot; ; s1 == s2 : true</code>"},{"owner":{"account_id":117627,"reputation":2390,"user_id":307968,"accept_rate":75,"display_name":"Darrel Lee"},"score":1,"creation_date":1531329098,"post_id":513935,"comment_id":89559628,"body_markdown":"I like to use &quot;literalString&quot;.equals(str)  syntax.  It&#39;s compact and avoids null reference.","body":"I like to use &quot;literalString&quot;.equals(str)  syntax.  It&#39;s compact and avoids null reference."},{"owner":{"account_id":10477927,"reputation":4834,"user_id":7723882,"accept_rate":85,"display_name":"Matias Barrios"},"score":0,"creation_date":1638305445,"post_id":513935,"comment_id":124052474,"body_markdown":"Are we in 2021 and Java still does this? Can someone confirm?","body":"Are we in 2021 and Java still does this? Can someone confirm?"}],"tags":[],"owner":{"account_id":22421,"reputation":10337,"user_id":55245,"accept_rate":96,"display_name":"Whatsit"},"comment_count":9,"down_vote_count":0,"up_vote_count":783,"is_accepted":false,"score":783,"last_activity_date":1587945549,"creation_date":1233791440,"answer_id":513935,"question_id":513832,"body_markdown":"`==` tests object references, `.equals()` tests the string values.  \r\n  \r\nSometimes it looks as if `==` compares values, because Java does some behind-the-scenes stuff to make sure identical in-line strings are actually the same object.\r\n\r\nFor example:  \r\n\r\n    String fooString1 = new String(&quot;foo&quot;);\r\n    String fooString2 = new String(&quot;foo&quot;);\r\n\r\n    // Evaluates to false\r\n    fooString1 == fooString2;\r\n    \r\n    // Evaluates to true\r\n    fooString1.equals(fooString2);\r\n\r\n    // Evaluates to true, because Java uses the same object\r\n    &quot;bar&quot; == &quot;bar&quot;;\r\n\r\n**But beware of nulls!**  \r\n\r\n`==` handles `null` strings fine, but calling `.equals()` from a null string will cause an exception:  \r\n\r\n\r\n    String nullString1 = null;\r\n    String nullString2 = null;\r\n    \r\n    // Evaluates to true\r\n    System.out.print(nullString1 == nullString2);\r\n    \r\n    // Throws a NullPointerException\r\n    System.out.print(nullString1.equals(nullString2));\r\n\r\nSo if you know that `fooString1` may be null, tell the reader that by writing\r\n\r\n    System.out.print(fooString1 != null &amp;&amp; fooString1.equals(&quot;bar&quot;));\r\n\r\nThe following are shorter, but itâ€™s less obvious that it checks for null:\r\n\r\n    System.out.print(&quot;bar&quot;.equals(fooString1));  // &quot;bar&quot; is never null\r\n    System.out.print(Objects.equals(fooString1, &quot;bar&quot;));  // Java 7 required\r\n\r\n   ","title":"How do I compare strings in Java?","body":"<p><code>==</code> tests object references, <code>.equals()</code> tests the string values.  </p>\n\n<p>Sometimes it looks as if <code>==</code> compares values, because Java does some behind-the-scenes stuff to make sure identical in-line strings are actually the same object.</p>\n\n<p>For example:  </p>\n\n<pre><code>String fooString1 = new String(\"foo\");\nString fooString2 = new String(\"foo\");\n\n// Evaluates to false\nfooString1 == fooString2;\n\n// Evaluates to true\nfooString1.equals(fooString2);\n\n// Evaluates to true, because Java uses the same object\n\"bar\" == \"bar\";\n</code></pre>\n\n<p><strong>But beware of nulls!</strong>  </p>\n\n<p><code>==</code> handles <code>null</code> strings fine, but calling <code>.equals()</code> from a null string will cause an exception:  </p>\n\n<pre><code>String nullString1 = null;\nString nullString2 = null;\n\n// Evaluates to true\nSystem.out.print(nullString1 == nullString2);\n\n// Throws a NullPointerException\nSystem.out.print(nullString1.equals(nullString2));\n</code></pre>\n\n<p>So if you know that <code>fooString1</code> may be null, tell the reader that by writing</p>\n\n<pre><code>System.out.print(fooString1 != null &amp;&amp; fooString1.equals(\"bar\"));\n</code></pre>\n\n<p>The following are shorter, but itâ€™s less obvious that it checks for null:</p>\n\n<pre><code>System.out.print(\"bar\".equals(fooString1));  // \"bar\" is never null\nSystem.out.print(Objects.equals(fooString1, \"bar\"));  // Java 7 required\n</code></pre>\n"},{"comments":[{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":10,"creation_date":1443222973,"post_id":515000,"comment_id":53422601,"body_markdown":"This is generally not a good idea.  Interning is relatively expensive and can (paradoxically) &gt;&gt;increase&lt;&lt; your JVMs memory footprint and increase GC costs.  In most cases, these outweigh the performance benefits from using `==` for string comparison.","body":"This is generally not a good idea.  Interning is relatively expensive and can (paradoxically) &gt;&gt;increase&lt;&lt; your JVMs memory footprint and increase GC costs.  In most cases, these outweigh the performance benefits from using <code>==</code> for string comparison."}],"tags":[],"owner":{"account_id":7340,"reputation":12654,"user_id":12719,"display_name":"pgras"},"comment_count":1,"down_vote_count":1,"up_vote_count":108,"is_accepted":false,"score":107,"last_activity_date":1587319076,"creation_date":1233821688,"answer_id":515000,"question_id":513832,"body_markdown":"I agree with the answer from zacherates.\r\n\r\nBut what you can do is to call `intern()` on your non-literal strings.\r\n\r\nFrom zacherates example:\r\n\r\n    // ... but they are not the same object\r\n    new String(&quot;test&quot;) == &quot;test&quot; ==&gt; false \r\n\r\nIf you intern the non-literal String equality is `true`:\r\n \r\n\r\n    new String(&quot;test&quot;).intern() == &quot;test&quot; ==&gt; true ","title":"How do I compare strings in Java?","body":"<p>I agree with the answer from zacherates.</p>\n\n<p>But what you can do is to call <code>intern()</code> on your non-literal strings.</p>\n\n<p>From zacherates example:</p>\n\n<pre><code>// ... but they are not the same object\nnew String(\"test\") == \"test\" ==&gt; false \n</code></pre>\n\n<p>If you intern the non-literal String equality is <code>true</code>:</p>\n\n<pre><code>new String(\"test\").intern() == \"test\" ==&gt; true \n</code></pre>\n"},{"tags":[],"owner":{"account_id":24655,"reputation":12535,"user_id":62848,"display_name":"Faisal Feroz"},"comment_count":0,"down_vote_count":0,"up_vote_count":188,"is_accepted":false,"score":188,"last_activity_date":1518117028,"creation_date":1233831257,"answer_id":515412,"question_id":513832,"body_markdown":"Strings in Java are immutable. That means whenever you try to change/modify the string you get a new instance. You cannot change the original string. This has been done so that these string instances can be cached. A typical program contains a lot of string references and caching these instances can decrease the memory footprint and increase the performance of the program.\r\n\r\nWhen using == operator for string comparison you are not comparing the contents of the string, but are actually comparing the memory address. If they are both equal it will return true and false otherwise. Whereas equals in string compares the string contents.\r\n\r\nSo the question is if all the strings are cached in the system, how come `==` returns false whereas equals return true? Well, this is possible. If you make a new string like `String str = new String(&quot;Testing&quot;)` you end up creating a new string in the cache even if the cache already contains a string having the same content. In short `&quot;MyString&quot; == new String(&quot;MyString&quot;)` will always return false.\r\n\r\nJava also talks about the function intern() that can be used on a string to make it part of the cache so `&quot;MyString&quot; == new String(&quot;MyString&quot;).intern()` will return true.\r\n\r\nNote: == operator is much faster than equals just because you are comparing two memory addresses, but you need to be sure that the code isn&#39;t creating new String instances in the code. Otherwise you will encounter bugs.\r\n","title":"How do I compare strings in Java?","body":"<p>Strings in Java are immutable. That means whenever you try to change/modify the string you get a new instance. You cannot change the original string. This has been done so that these string instances can be cached. A typical program contains a lot of string references and caching these instances can decrease the memory footprint and increase the performance of the program.</p>\n\n<p>When using == operator for string comparison you are not comparing the contents of the string, but are actually comparing the memory address. If they are both equal it will return true and false otherwise. Whereas equals in string compares the string contents.</p>\n\n<p>So the question is if all the strings are cached in the system, how come <code>==</code> returns false whereas equals return true? Well, this is possible. If you make a new string like <code>String str = new String(\"Testing\")</code> you end up creating a new string in the cache even if the cache already contains a string having the same content. In short <code>\"MyString\" == new String(\"MyString\")</code> will always return false.</p>\n\n<p>Java also talks about the function intern() that can be used on a string to make it part of the cache so <code>\"MyString\" == new String(\"MyString\").intern()</code> will return true.</p>\n\n<p>Note: == operator is much faster than equals just because you are comparing two memory addresses, but you need to be sure that the code isn't creating new String instances in the code. Otherwise you will encounter bugs.</p>\n"},{"comments":[{"owner":{"account_id":2402,"reputation":14054,"user_id":3340,"accept_rate":93,"display_name":"Jacob Schoen"},"score":15,"creation_date":1353431051,"post_id":10117865,"comment_id":18439716,"body_markdown":"not to be nit picky, but the [`equals()`](http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/7-b147/java/lang/String.java#String.equals%28java.lang.Object%29) method for `String` is actually in the `String` class, not in `Object`. The default [`equals()`](http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/7-b147/java/lang/Object.java#Object.equals%28java.lang.Object%29) in `Object` would not compare that the contents are the same, and in fact just returns true when the reference is the same.","body":"not to be nit picky, but the <a href=\"http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/7-b147/java/lang/String.java#String.equals%28java.lang.Object%29\" rel=\"nofollow noreferrer\"><code>equals()</code></a> method for <code>String</code> is actually in the <code>String</code> class, not in <code>Object</code>. The default <a href=\"http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/7-b147/java/lang/Object.java#Object.equals%28java.lang.Object%29\" rel=\"nofollow noreferrer\"><code>equals()</code></a> in <code>Object</code> would not compare that the contents are the same, and in fact just returns true when the reference is the same."},{"owner":{"account_id":403455,"reputation":3784,"user_id":771226,"accept_rate":65,"display_name":"Amandeep Singh"},"score":1,"creation_date":1548569772,"post_id":10117865,"comment_id":95583588,"body_markdown":"@JacobSchoen : The above link does not work anymore as GrepCode is down. Here is the alternative for equals Implementation : [Inline Link] (https://zgrepcode.com/java/openjdk/10.0.2/java.base/java/lang/string.java#L-1000)","body":"@JacobSchoen : The above link does not work anymore as GrepCode is down. Here is the alternative for equals Implementation : [Inline Link] (<a href=\"https://zgrepcode.com/java/openjdk/10.0.2/java.base/java/lang/string.java#L-1000\" rel=\"nofollow noreferrer\">zgrepcode.com/java/openjdk/10.0.2/java.base/java/lang/&hellip;</a>)"}],"tags":[],"owner":{"account_id":1163503,"reputation":657,"user_id":1142548,"accept_rate":80,"display_name":"samkit shah"},"comment_count":2,"down_vote_count":4,"up_vote_count":59,"is_accepted":false,"score":55,"last_activity_date":1393964350,"creation_date":1334208359,"answer_id":10117865,"question_id":513832,"body_markdown":"`==` compares the reference value of objects whereas the `equals()` method present in the `java.lang.String` class compares the contents of the `String` object (to another object).\r\n","title":"How do I compare strings in Java?","body":"<p><code>==</code> compares the reference value of objects whereas the <code>equals()</code> method present in the <code>java.lang.String</code> class compares the contents of the <code>String</code> object (to another object).</p>\n"},{"comments":[{"owner":{"account_id":255665,"reputation":232836,"user_id":535871,"accept_rate":84,"display_name":"Ted Hopp"},"score":2,"creation_date":1397153630,"post_id":12242166,"comment_id":35120561,"body_markdown":"_&quot;once a string is created it is forever stored in a program at the same address&quot;_ - This is flat-out wrong. Only compile-time constant string expressions (possibly involving `final String` variables) and strings that your program explicitly interns are stored in what you call a &quot;lump pool&quot;. All other `String` objects are subject to garbage collection once there are no more live references to them, just like any other type of object. Also, while immutability is required for the whole interning mechanism to work, it&#39;s otherwise irrelevant to this.","body":"<i>&quot;once a string is created it is forever stored in a program at the same address&quot;</i> - This is flat-out wrong. Only compile-time constant string expressions (possibly involving <code>final String</code> variables) and strings that your program explicitly interns are stored in what you call a &quot;lump pool&quot;. All other <code>String</code> objects are subject to garbage collection once there are no more live references to them, just like any other type of object. Also, while immutability is required for the whole interning mechanism to work, it&#39;s otherwise irrelevant to this."},{"owner":{"account_id":3005841,"reputation":483,"user_id":2550410,"display_name":"Shailendra Singh"},"score":0,"creation_date":1467991876,"post_id":12242166,"comment_id":63960261,"body_markdown":"String comparison is done either through equals or equalsIgnoreCase method which actually compares the contents of the string. But == sign just check the reference values. For string literals from string pool will work fine for this case. String s1 = new String(&quot;a&quot;); String s2 = new String(&quot;a&quot;); in this case s1==s2 is false, but s1.equals(s2) is true.","body":"String comparison is done either through equals or equalsIgnoreCase method which actually compares the contents of the string. But == sign just check the reference values. For string literals from string pool will work fine for this case. String s1 = new String(&quot;a&quot;); String s2 = new String(&quot;a&quot;); in this case s1==s2 is false, but s1.equals(s2) is true."}],"tags":[],"owner":{"account_id":1805667,"reputation":55,"user_id":1642792,"display_name":"James"},"comment_count":2,"down_vote_count":6,"up_vote_count":47,"is_accepted":false,"score":41,"last_activity_date":1518117164,"creation_date":1346648132,"answer_id":12242166,"question_id":513832,"body_markdown":"All objects are guaranteed to have a `.equals()` method since Object contains a method, `.equals()`, that returns a boolean. It is the subclass&#39; job to override this method if a further defining definition is required. Without it (i.e. using `==`) only memory addresses are checked between two objects for equality. String overrides this `.equals()` method and instead of using the memory address it returns the comparison of strings at the character level for equality. \r\n\r\nA key note is that strings are stored in one lump pool so once a string is created it is forever stored in a program at the same address. Strings do not change, they are immutable. This is why it is a bad idea to use regular string concatenation if you have a serious of amount of string processing to do. Instead you would use the `StringBuilder` classes provided. Remember the pointers to this string can change and if you were interested to see if two pointers were the same `==` would be a fine way to go. Strings themselves do not.\r\n","title":"How do I compare strings in Java?","body":"<p>All objects are guaranteed to have a <code>.equals()</code> method since Object contains a method, <code>.equals()</code>, that returns a boolean. It is the subclass' job to override this method if a further defining definition is required. Without it (i.e. using <code>==</code>) only memory addresses are checked between two objects for equality. String overrides this <code>.equals()</code> method and instead of using the memory address it returns the comparison of strings at the character level for equality. </p>\n\n<p>A key note is that strings are stored in one lump pool so once a string is created it is forever stored in a program at the same address. Strings do not change, they are immutable. This is why it is a bad idea to use regular string concatenation if you have a serious of amount of string processing to do. Instead you would use the <code>StringBuilder</code> classes provided. Remember the pointers to this string can change and if you were interested to see if two pointers were the same <code>==</code> would be a fine way to go. Strings themselves do not.</p>\n"},{"comments":[{"owner":{"account_id":108127,"reputation":188,"user_id":287156,"accept_rate":75,"display_name":"Jacob"},"score":3,"creation_date":1458267292,"post_id":14123474,"comment_id":59795767,"body_markdown":".equals() compares the two instances however equals is implemented to compare them.  That might or might not be comparing the output of toString.","body":".equals() compares the two instances however equals is implemented to compare them.  That might or might not be comparing the output of toString."},{"owner":{"account_id":2012438,"reputation":6799,"user_id":1800583,"accept_rate":59,"display_name":"kittu"},"score":3,"creation_date":1462618464,"post_id":14123474,"comment_id":61719279,"body_markdown":"@Jacob Object class `.equals()` method compares the instances(references/Address) where as String class `.equals()` methods is overridden to compare content(chars)","body":"@Jacob Object class <code>.equals()</code> method compares the instances(references/Address) where as String class <code>.equals()</code> methods is overridden to compare content(chars)"},{"owner":{"account_id":11462792,"reputation":184,"user_id":8401926,"display_name":"Roland"},"score":2,"creation_date":1510320885,"post_id":14123474,"comment_id":81397685,"body_markdown":"Good pointing out String pool versus Java heap differences as they are certainly **not** the same. In the string pool Java tries to &quot;cache&quot; `String` objects to save memory footprint as `String` is known for being immutable (I hope, I say it correctly here). Also check https://stackoverflow.com/questions/3052442/what-is-the-difference-between-text-and-new-stringtext","body":"Good pointing out String pool versus Java heap differences as they are certainly <b>not</b> the same. In the string pool Java tries to &quot;cache&quot; <code>String</code> objects to save memory footprint as <code>String</code> is known for being immutable (I hope, I say it correctly here). Also check <a href=\"https://stackoverflow.com/questions/3052442/what-is-the-difference-between-text-and-new-stringtext\" title=\"what is the difference between text and new stringtext\">stackoverflow.com/questions/3052442/&hellip;</a>"}],"tags":[],"owner":{"account_id":2154940,"reputation":924,"user_id":1910406,"display_name":"Ganesh"},"comment_count":3,"down_vote_count":1,"up_vote_count":481,"is_accepted":false,"score":480,"last_activity_date":1518117359,"creation_date":1357135535,"answer_id":14123474,"question_id":513832,"body_markdown":"`==` compares Object references.\r\n\r\n`.equals()` compares String values.\r\n\r\nSometimes `==` gives illusions of comparing String values, as in following cases:\r\n\r\n    String a=&quot;Test&quot;;\r\n    String b=&quot;Test&quot;;\r\n    if(a==b) ===&gt; true\r\n\r\nThis is because when you create any String literal, the JVM first searches for that literal in the String pool, and if it finds a match, that same reference will be given to the new String. Because of this, we get:\r\n\r\n**(a==b) ===&gt; true**\r\n\r\n                           String Pool\r\n         b -----------------&gt; &quot;test&quot; &lt;-----------------a\r\n\r\nHowever, `==` fails in the following case:\r\n\r\n    String a=&quot;test&quot;;\r\n    String b=new String(&quot;test&quot;);\r\n    if (a==b) ===&gt; false\r\n\r\nIn this case for `new String(&quot;test&quot;)` the statement new String will be created on the heap, and that reference will be given to `b`, so `b` will be given a reference on the heap, not in String pool.\r\n\r\nNow `a` is pointing to a String in the String pool while `b` is pointing to a String on the heap. Because of that we get:\r\n\r\n**if(a==b) ===&gt; false.**\r\n\r\n                    String Pool\r\n         &quot;test&quot; &lt;-------------------- a\r\n\r\n                       Heap\r\n         &quot;test&quot; &lt;-------------------- b\r\n\r\nWhile `.equals()` always compares a value of String so it gives true in both cases:\r\n\r\n    String a=&quot;Test&quot;;\r\n    String b=&quot;Test&quot;;\r\n    if(a.equals(b)) ===&gt; true\r\n\r\n    String a=&quot;test&quot;;\r\n    String b=new String(&quot;test&quot;);\r\n    if(a.equals(b)) ===&gt; true\r\n\r\nSo using `.equals()` is always better.\r\n","title":"How do I compare strings in Java?","body":"<p><code>==</code> compares Object references.</p>\n\n<p><code>.equals()</code> compares String values.</p>\n\n<p>Sometimes <code>==</code> gives illusions of comparing String values, as in following cases:</p>\n\n<pre><code>String a=\"Test\";\nString b=\"Test\";\nif(a==b) ===&gt; true\n</code></pre>\n\n<p>This is because when you create any String literal, the JVM first searches for that literal in the String pool, and if it finds a match, that same reference will be given to the new String. Because of this, we get:</p>\n\n<p><strong>(a==b) ===> true</strong></p>\n\n<pre><code>                       String Pool\n     b -----------------&gt; \"test\" &lt;-----------------a\n</code></pre>\n\n<p>However, <code>==</code> fails in the following case:</p>\n\n<pre><code>String a=\"test\";\nString b=new String(\"test\");\nif (a==b) ===&gt; false\n</code></pre>\n\n<p>In this case for <code>new String(\"test\")</code> the statement new String will be created on the heap, and that reference will be given to <code>b</code>, so <code>b</code> will be given a reference on the heap, not in String pool.</p>\n\n<p>Now <code>a</code> is pointing to a String in the String pool while <code>b</code> is pointing to a String on the heap. Because of that we get:</p>\n\n<p><strong>if(a==b) ===> false.</strong></p>\n\n<pre><code>                String Pool\n     \"test\" &lt;-------------------- a\n\n                   Heap\n     \"test\" &lt;-------------------- b\n</code></pre>\n\n<p>While <code>.equals()</code> always compares a value of String so it gives true in both cases:</p>\n\n<pre><code>String a=\"Test\";\nString b=\"Test\";\nif(a.equals(b)) ===&gt; true\n\nString a=\"test\";\nString b=new String(\"test\");\nif(a.equals(b)) ===&gt; true\n</code></pre>\n\n<p>So using <code>.equals()</code> is always better.</p>\n"},{"comments":[{"owner":{"account_id":39087,"reputation":7142,"user_id":112670,"accept_rate":62,"display_name":"Christian"},"score":7,"creation_date":1426712564,"post_id":14208295,"comment_id":46491019,"body_markdown":"&quot;char[]&quot; isn&#39;t a primitive data type! It&#39;s an array of &quot;char&quot;. And arrays aren&#39;t primitive data types theirselves.","body":"&quot;char[]&quot; isn&#39;t a primitive data type! It&#39;s an array of &quot;char&quot;. And arrays aren&#39;t primitive data types theirselves."}],"tags":[],"owner":{"account_id":2083060,"reputation":375,"user_id":1854645,"accept_rate":75,"display_name":"fabricioflores"},"comment_count":1,"down_vote_count":6,"up_vote_count":58,"is_accepted":false,"score":52,"last_activity_date":1418805099,"creation_date":1357619834,"answer_id":14208295,"question_id":513832,"body_markdown":"I think that when you define a `String` you define an object. So you need to use `.equals()`. When you use primitive data types you use `==` but with `String` (and any object) you must use `.equals()`.","title":"How do I compare strings in Java?","body":"<p>I think that when you define a <code>String</code> you define an object. So you need to use <code>.equals()</code>. When you use primitive data types you use <code>==</code> but with <code>String</code> (and any object) you must use <code>.equals()</code>.</p>\n"},{"comments":[{"owner":{"account_id":50598,"reputation":32356,"user_id":151019,"accept_rate":83,"display_name":"mmmmmm"},"score":6,"creation_date":1441888070,"post_id":15599387,"comment_id":52863057,"body_markdown":"How does this differ from other answers? and why do it the way you suggest","body":"How does this differ from other answers? and why do it the way you suggest"},{"owner":{"account_id":2439364,"reputation":5868,"user_id":2128327,"display_name":"Khaled.K"},"score":2,"creation_date":1441917942,"post_id":15599387,"comment_id":52881656,"body_markdown":"@Mark The question on difference between `==` and `equals` was already answered by other solutions, I just offered a different way to compare strings in a loose way","body":"@Mark The question on difference between <code>==</code> and <code>equals</code> was already answered by other solutions, I just offered a different way to compare strings in a loose way"}],"tags":[],"owner":{"account_id":2439364,"reputation":5868,"user_id":2128327,"display_name":"Khaled.K"},"comment_count":2,"down_vote_count":2,"up_vote_count":82,"is_accepted":false,"score":80,"last_activity_date":1473422123,"creation_date":1364133680,"answer_id":15599387,"question_id":513832,"body_markdown":"Function:\r\n\r\n    \r\n    public float simpleSimilarity(String u, String v) {\r\n        String[] a = u.split(&quot; &quot;);\r\n        String[] b = v.split(&quot; &quot;);\r\n    \r\n        long correct = 0;\r\n        int minLen = Math.min(a.length, b.length);\r\n    \r\n        for (int i = 0; i &lt; minLen; i++) {\r\n            String aa = a[i];\r\n            String bb = b[i];\r\n            int minWordLength = Math.min(aa.length(), bb.length());\r\n    \r\n            for (int j = 0; j &lt; minWordLength; j++) {\r\n                if (aa.charAt(j) == bb.charAt(j)) {\r\n                    correct++;\r\n                }\r\n            }\r\n        }\r\n    \r\n        return (float) (((double) correct) / Math.max(u.length(), v.length()));\r\n    }\r\n\r\n   \r\n\r\nTest:\r\n\r\n    String a = &quot;This is the first string.&quot;;\r\n    \r\n    String b = &quot;this is not 1st string!&quot;;\r\n    \r\n    // for exact string comparison, use .equals\r\n    \r\n    boolean exact = a.equals(b);\r\n    \r\n    // For similarity check, there are libraries for this\r\n    // Here I&#39;ll try a simple example I wrote\r\n    \r\n    float similarity = simple_similarity(a,b);","title":"How do I compare strings in Java?","body":"<p>Function:</p>\n\n<pre><code>public float simpleSimilarity(String u, String v) {\n    String[] a = u.split(\" \");\n    String[] b = v.split(\" \");\n\n    long correct = 0;\n    int minLen = Math.min(a.length, b.length);\n\n    for (int i = 0; i &lt; minLen; i++) {\n        String aa = a[i];\n        String bb = b[i];\n        int minWordLength = Math.min(aa.length(), bb.length());\n\n        for (int j = 0; j &lt; minWordLength; j++) {\n            if (aa.charAt(j) == bb.charAt(j)) {\n                correct++;\n            }\n        }\n    }\n\n    return (float) (((double) correct) / Math.max(u.length(), v.length()));\n}\n</code></pre>\n\n<p>Test:</p>\n\n<pre><code>String a = \"This is the first string.\";\n\nString b = \"this is not 1st string!\";\n\n// for exact string comparison, use .equals\n\nboolean exact = a.equals(b);\n\n// For similarity check, there are libraries for this\n// Here I'll try a simple example I wrote\n\nfloat similarity = simple_similarity(a,b);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2737630,"reputation":1312,"user_id":2359945,"accept_rate":60,"display_name":"Razzle Shazl"},"score":2,"creation_date":1529649538,"post_id":15681710,"comment_id":88959248,"body_markdown":"`Obviously == is faster` -- actually the implementation of `.equals(String)` first checks `==` before anything else so I would say the speed is about identical.","body":"<code>Obviously == is faster</code> -- actually the implementation of <code>.equals(String)</code> first checks <code>==</code> before anything else so I would say the speed is about identical."},{"owner":{"account_id":2737630,"reputation":1312,"user_id":2359945,"accept_rate":60,"display_name":"Razzle Shazl"},"score":2,"creation_date":1529650272,"post_id":15681710,"comment_id":88959564,"body_markdown":"`public boolean equals(Object anObject) {\n        if (this == anObject) {\n        return true;\n    } ...`","body":"<code>public boolean equals(Object anObject) {         if (this == anObject) {         return true;     } ...</code>"}],"tags":[],"owner":{"account_id":1886487,"reputation":396597,"user_id":1705598,"accept_rate":92,"display_name":"icza"},"comment_count":2,"down_vote_count":0,"up_vote_count":101,"is_accepted":false,"score":101,"last_activity_date":1597907265,"creation_date":1364473357,"answer_id":15681710,"question_id":513832,"body_markdown":"`==` performs a **reference** equality check, whether the 2 objects (strings in this case) refer to the same object in the memory.\r\n\r\nThe `equals()` method will check whether the **contents** or the **states** of 2 objects are the same.\r\n\r\nObviously `==` is faster, but will (might) give false results in many cases if you just want to tell if 2 `String`s hold the same text.\r\n\r\nDefinitely the use of the `equals()` method is recommended.\r\n\r\nDon&#39;t worry about the performance. Some things to encourage using `String.equals()`:\r\n\r\n 1. Implementation of `String.equals()` first checks for reference equality (using `==`), and if the 2 strings are the same by reference, no further calculation is performed!\r\n 2. If the 2 string references are not the same, `String.equals()` will next check the lengths of the strings. This is also a fast operation because the `String` class stores the length of the string, no need to count the characters or code points. If the lengths differ, no further check is performed, we know they cannot be equal.\r\n 3. Only if we got this far will the contents of the 2 strings be actually compared, and this will be a short-hand comparison: not all the characters will be compared, if we find a mismatching character (at the same position in the 2 strings), no further characters will be checked.\r\n\r\nWhen all is said and done, even if we have a guarantee that the strings are interns, using the `equals()` method is still not that overhead that one might think, definitely the recommended way. If you want an efficient reference check, then use enums where it is guaranteed by the language specification and implementation that the same enum value will be the same object (by reference).","title":"How do I compare strings in Java?","body":"<p><code>==</code> performs a <strong>reference</strong> equality check, whether the 2 objects (strings in this case) refer to the same object in the memory.</p>\n<p>The <code>equals()</code> method will check whether the <strong>contents</strong> or the <strong>states</strong> of 2 objects are the same.</p>\n<p>Obviously <code>==</code> is faster, but will (might) give false results in many cases if you just want to tell if 2 <code>String</code>s hold the same text.</p>\n<p>Definitely the use of the <code>equals()</code> method is recommended.</p>\n<p>Don't worry about the performance. Some things to encourage using <code>String.equals()</code>:</p>\n<ol>\n<li>Implementation of <code>String.equals()</code> first checks for reference equality (using <code>==</code>), and if the 2 strings are the same by reference, no further calculation is performed!</li>\n<li>If the 2 string references are not the same, <code>String.equals()</code> will next check the lengths of the strings. This is also a fast operation because the <code>String</code> class stores the length of the string, no need to count the characters or code points. If the lengths differ, no further check is performed, we know they cannot be equal.</li>\n<li>Only if we got this far will the contents of the 2 strings be actually compared, and this will be a short-hand comparison: not all the characters will be compared, if we find a mismatching character (at the same position in the 2 strings), no further characters will be checked.</li>\n</ol>\n<p>When all is said and done, even if we have a guarantee that the strings are interns, using the <code>equals()</code> method is still not that overhead that one might think, definitely the recommended way. If you want an efficient reference check, then use enums where it is guaranteed by the language specification and implementation that the same enum value will be the same object (by reference).</p>\n"},{"comments":[{"owner":{"account_id":559988,"reputation":466349,"user_id":922184,"display_name":"Mysticial"},"score":7,"creation_date":1364894389,"post_id":15760319,"comment_id":22399495,"body_markdown":"I see that this is a late answer to big question. May I ask what it provides that isn&#39;t already mentioned in the existing answers?","body":"I see that this is a late answer to big question. May I ask what it provides that isn&#39;t already mentioned in the existing answers?"},{"owner":{"account_id":1129088,"reputation":10395,"user_id":1115584,"accept_rate":71,"display_name":"AmitG"},"score":7,"creation_date":1365065321,"post_id":15760319,"comment_id":22479383,"body_markdown":"@Mysticial he has added `equalsIgnoreCase` which might be informative for the fresher.","body":"@Mysticial he has added <code>equalsIgnoreCase</code> which might be informative for the fresher."}],"tags":[],"owner":{"account_id":2168944,"reputation":323,"user_id":1921442,"accept_rate":50,"display_name":"Saurabh Agarwal"},"comment_count":2,"down_vote_count":0,"up_vote_count":124,"is_accepted":false,"score":124,"last_activity_date":1518117550,"creation_date":1364894133,"answer_id":15760319,"question_id":513832,"body_markdown":"Java have a String pool under which Java manages the memory allocation for the String objects. See [**String Pools in Java**][1]\r\n\r\nWhen you check (compare) two objects using the `==` operator it compares the address equality into the string-pool. If the two String objects have the same address references then it returns `true`, otherwise `false`. But if you want to compare the contents of two String objects then you must override the `equals` method.\r\n\r\n`equals` is actually the method of the Object class, but it is Overridden into the String class and a new definition is given which compares the contents of object.\r\n\r\n    Example:\r\n        stringObjectOne.equals(stringObjectTwo);\r\n\r\nBut mind it respects the case of String. If you want case insensitive compare then you must go for the equalsIgnoreCase method of the String class. \r\n\r\nLet&#39;s See:\r\n    \r\n    String one   = &quot;HELLO&quot;; \r\n    String two   = &quot;HELLO&quot;; \r\n    String three = new String(&quot;HELLO&quot;); \r\n    String four  = &quot;hello&quot;; \r\n    \r\n    one == two;   // TRUE\r\n    one == three; // FALSE\r\n    one == four;  // FALSE\r\n    \r\n    one.equals(two);            // TRUE\r\n    one.equals(three);          // TRUE\r\n    one.equals(four);           // FALSE\r\n    one.equalsIgnoreCase(four); // TRUE\r\n\r\n  [1]: https://stackoverflow.com/questions/3801343/what-is-string-pool-in-java\r\n","title":"How do I compare strings in Java?","body":"<p>Java have a String pool under which Java manages the memory allocation for the String objects. See <a href=\"https://stackoverflow.com/questions/3801343/what-is-string-pool-in-java\"><strong>String Pools in Java</strong></a></p>\n\n<p>When you check (compare) two objects using the <code>==</code> operator it compares the address equality into the string-pool. If the two String objects have the same address references then it returns <code>true</code>, otherwise <code>false</code>. But if you want to compare the contents of two String objects then you must override the <code>equals</code> method.</p>\n\n<p><code>equals</code> is actually the method of the Object class, but it is Overridden into the String class and a new definition is given which compares the contents of object.</p>\n\n<pre><code>Example:\n    stringObjectOne.equals(stringObjectTwo);\n</code></pre>\n\n<p>But mind it respects the case of String. If you want case insensitive compare then you must go for the equalsIgnoreCase method of the String class. </p>\n\n<p>Let's See:</p>\n\n<pre><code>String one   = \"HELLO\"; \nString two   = \"HELLO\"; \nString three = new String(\"HELLO\"); \nString four  = \"hello\"; \n\none == two;   // TRUE\none == three; // FALSE\none == four;  // FALSE\n\none.equals(two);            // TRUE\none.equals(three);          // TRUE\none.equals(four);           // FALSE\none.equalsIgnoreCase(four); // TRUE\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1649066,"reputation":1461,"user_id":1519988,"display_name":"shyam.y"},"comment_count":0,"down_vote_count":4,"up_vote_count":50,"is_accepted":false,"score":46,"last_activity_date":1518117612,"creation_date":1367302462,"answer_id":16293384,"question_id":513832,"body_markdown":"Operator *==* is always meant for **object reference comparison**, whereas the String class *.equals()* method is overridden for **content comparison**:\r\n\r\n    String s1 = new String(&quot;abc&quot;);\r\n    String s2 = new String(&quot;abc&quot;);\r\n    System.out.println(s1 == s2); // It prints false (reference comparison)\r\n    System.out.println(s1.equals(s2)); // It prints true (content comparison)\r\n","title":"How do I compare strings in Java?","body":"<p>Operator <em>==</em> is always meant for <strong>object reference comparison</strong>, whereas the String class <em>.equals()</em> method is overridden for <strong>content comparison</strong>:</p>\n\n<pre><code>String s1 = new String(\"abc\");\nString s2 = new String(\"abc\");\nSystem.out.println(s1 == s2); // It prints false (reference comparison)\nSystem.out.println(s1.equals(s2)); // It prints true (content comparison)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1414245,"reputation":335,"user_id":1340209,"display_name":"Balasubramanian Jayaraman"},"comment_count":0,"down_vote_count":2,"up_vote_count":42,"is_accepted":false,"score":40,"last_activity_date":1518117667,"creation_date":1369795862,"answer_id":16804712,"question_id":513832,"body_markdown":"You can also use the `compareTo()` method to compare two Strings. If the compareTo result is 0, then the two strings are equal, otherwise the strings being compared are not equal. \r\n\r\nThe `==` compares the references and does not compare the actual strings. If you did create every string using `new String(somestring).intern()` then you can use the `==` operator to compare two strings, otherwise equals() or compareTo methods can only be used.\r\n","title":"How do I compare strings in Java?","body":"<p>You can also use the <code>compareTo()</code> method to compare two Strings. If the compareTo result is 0, then the two strings are equal, otherwise the strings being compared are not equal. </p>\n\n<p>The <code>==</code> compares the references and does not compare the actual strings. If you did create every string using <code>new String(somestring).intern()</code> then you can use the <code>==</code> operator to compare two strings, otherwise equals() or compareTo methods can only be used.</p>\n"},{"comments":[{"owner":{"account_id":2538149,"reputation":524,"user_id":2204672,"accept_rate":71,"display_name":"JAVA"},"score":5,"creation_date":1378577470,"post_id":17040504,"comment_id":27507817,"body_markdown":"for string literals Like String string1 = &quot;foo bar&quot;;\nString string2 = &quot;foo bar&quot;; you can directly use == operator to test content equality","body":"for string literals Like String string1 = &quot;foo bar&quot;; String string2 = &quot;foo bar&quot;; you can directly use == operator to test content equality"},{"owner":{"account_id":4814568,"reputation":157,"user_id":3887038,"accept_rate":12,"display_name":"Rob"},"score":1,"creation_date":1524573631,"post_id":17040504,"comment_id":87019913,"body_markdown":"In google apps script &quot;compareTo&quot; is not possibe. I tried instaed &quot;equals&quot; This was the only solution that works....","body":"In google apps script &quot;compareTo&quot; is not possibe. I tried instaed &quot;equals&quot; This was the only solution that works...."},{"owner":{"account_id":54651,"reputation":825,"user_id":163585,"display_name":"spats"},"score":0,"creation_date":1644797986,"post_id":17040504,"comment_id":125694742,"body_markdown":"Links shared in the end are no longer available, you may want change it?","body":"Links shared in the end are no longer available, you may want change it?"}],"tags":[],"owner":{"account_id":2876824,"reputation":1053,"user_id":2468643,"accept_rate":0,"display_name":"Mohamed Ismail Mansour"},"comment_count":3,"down_vote_count":1,"up_vote_count":85,"is_accepted":false,"score":84,"last_activity_date":1458140447,"creation_date":1370942231,"answer_id":17040504,"question_id":513832,"body_markdown":"If you&#39;re like me, when I first started using Java, I wanted to use the &quot;==&quot; operator to test whether two String instances were equal, but for better or worse, that&#39;s not the correct way to do it in Java.\r\n\r\nIn this tutorial I&#39;ll demonstrate several different ways to correctly compare Java strings, starting with the approach I use most of the time. At the end of this Java String comparison tutorial I&#39;ll also discuss why the &quot;==&quot; operator doesn&#39;t work when comparing Java strings.\r\n\r\n**Option 1: Java String comparison with the equals method**\r\nMost of the time (maybe 95% of the time) I compare strings with the equals method of the Java String class, like this:\r\n\r\n    if (string1.equals(string2))\r\nThis String equals method looks at the two Java strings, and if they contain the exact same string of characters, they are considered equal.\r\n\r\nTaking a look at a quick String comparison example with the equals method, if the following test were run, the two strings would not be considered equal because the characters are not the exactly the same (the case of the characters is different):\r\n\r\n    String string1 = &quot;foo&quot;;\r\n    String string2 = &quot;FOO&quot;;\r\n\r\n    if (string1.equals(string2))\r\n    {\r\n        // this line will not print because the\r\n        // java string equals method returns false:\r\n        System.out.println(&quot;The two strings are the same.&quot;)\r\n    }\r\n\r\nBut, when the two strings contain the exact same string of characters, the equals method will return true, as in this example:\r\n\r\n    String string1 = &quot;foo&quot;;\r\n    String string2 = &quot;foo&quot;;\r\n\r\n    // test for equality with the java string equals method\r\n    if (string1.equals(string2))\r\n    {\r\n        // this line WILL print\r\n        System.out.println(&quot;The two strings are the same.&quot;)\r\n    }\r\n\r\n**Option 2: String comparison with the equalsIgnoreCase method**\r\n\r\nIn some string comparison tests you&#39;ll want to ignore whether the strings are uppercase or lowercase. When you want to test your strings for equality in this case-insensitive manner, use the equalsIgnoreCase method of the String class, like this:\r\n\r\n    String string1 = &quot;foo&quot;;\r\n    String string2 = &quot;FOO&quot;;\r\n\r\n     // java string compare while ignoring case\r\n     if (string1.equalsIgnoreCase(string2))\r\n     {\r\n         // this line WILL print\r\n         System.out.println(&quot;Ignoring case, the two strings are the same.&quot;)\r\n     }\r\n\r\n**Option 3: Java String comparison with the compareTo method**\r\n\r\nThere is also a third, less common way to compare Java strings, and that&#39;s with the String class compareTo method. If the two strings are exactly the same, the compareTo method will return a value of 0 (zero). Here&#39;s a quick example of what this String comparison approach looks like:\r\n\r\n    String string1 = &quot;foo bar&quot;;\r\n    String string2 = &quot;foo bar&quot;;\r\n\r\n    // java string compare example\r\n    if (string1.compareTo(string2) == 0)\r\n    {\r\n        // this line WILL print\r\n        System.out.println(&quot;The two strings are the same.&quot;)\r\n    }\r\n\r\n\r\nWhile I&#39;m writing about this concept of equality in Java, it&#39;s important to note that the Java language includes an equals method in the base Java Object class. Whenever you&#39;re creating your own objects and you want to provide a means to see if two instances of your object are &quot;equal&quot;, you should override (and implement) this equals method in your class (in the same way the Java language provides this equality/comparison behavior in the String equals method).\r\n\r\nYou may want to have a look at this [==, .equals(), compareTo(), and compare()][1]\r\n\r\n\r\n  [1]: http://www.ensta-paristech.fr/~diam/java/online/notes-java/data/expressions/22compareobjects.html","title":"How do I compare strings in Java?","body":"<p>If you're like me, when I first started using Java, I wanted to use the \"==\" operator to test whether two String instances were equal, but for better or worse, that's not the correct way to do it in Java.</p>\n\n<p>In this tutorial I'll demonstrate several different ways to correctly compare Java strings, starting with the approach I use most of the time. At the end of this Java String comparison tutorial I'll also discuss why the \"==\" operator doesn't work when comparing Java strings.</p>\n\n<p><strong>Option 1: Java String comparison with the equals method</strong>\nMost of the time (maybe 95% of the time) I compare strings with the equals method of the Java String class, like this:</p>\n\n<pre><code>if (string1.equals(string2))\n</code></pre>\n\n<p>This String equals method looks at the two Java strings, and if they contain the exact same string of characters, they are considered equal.</p>\n\n<p>Taking a look at a quick String comparison example with the equals method, if the following test were run, the two strings would not be considered equal because the characters are not the exactly the same (the case of the characters is different):</p>\n\n<pre><code>String string1 = \"foo\";\nString string2 = \"FOO\";\n\nif (string1.equals(string2))\n{\n    // this line will not print because the\n    // java string equals method returns false:\n    System.out.println(\"The two strings are the same.\")\n}\n</code></pre>\n\n<p>But, when the two strings contain the exact same string of characters, the equals method will return true, as in this example:</p>\n\n<pre><code>String string1 = \"foo\";\nString string2 = \"foo\";\n\n// test for equality with the java string equals method\nif (string1.equals(string2))\n{\n    // this line WILL print\n    System.out.println(\"The two strings are the same.\")\n}\n</code></pre>\n\n<p><strong>Option 2: String comparison with the equalsIgnoreCase method</strong></p>\n\n<p>In some string comparison tests you'll want to ignore whether the strings are uppercase or lowercase. When you want to test your strings for equality in this case-insensitive manner, use the equalsIgnoreCase method of the String class, like this:</p>\n\n<pre><code>String string1 = \"foo\";\nString string2 = \"FOO\";\n\n // java string compare while ignoring case\n if (string1.equalsIgnoreCase(string2))\n {\n     // this line WILL print\n     System.out.println(\"Ignoring case, the two strings are the same.\")\n }\n</code></pre>\n\n<p><strong>Option 3: Java String comparison with the compareTo method</strong></p>\n\n<p>There is also a third, less common way to compare Java strings, and that's with the String class compareTo method. If the two strings are exactly the same, the compareTo method will return a value of 0 (zero). Here's a quick example of what this String comparison approach looks like:</p>\n\n<pre><code>String string1 = \"foo bar\";\nString string2 = \"foo bar\";\n\n// java string compare example\nif (string1.compareTo(string2) == 0)\n{\n    // this line WILL print\n    System.out.println(\"The two strings are the same.\")\n}\n</code></pre>\n\n<p>While I'm writing about this concept of equality in Java, it's important to note that the Java language includes an equals method in the base Java Object class. Whenever you're creating your own objects and you want to provide a means to see if two instances of your object are \"equal\", you should override (and implement) this equals method in your class (in the same way the Java language provides this equality/comparison behavior in the String equals method).</p>\n\n<p>You may want to have a look at this <a href=\"http://www.ensta-paristech.fr/~diam/java/online/notes-java/data/expressions/22compareobjects.html\">==, .equals(), compareTo(), and compare()</a></p>\n"},{"tags":[],"owner":{"account_id":2784842,"reputation":67281,"user_id":2396539,"accept_rate":78,"display_name":"Aniket Thakur"},"comment_count":0,"down_vote_count":1,"up_vote_count":81,"is_accepted":false,"score":80,"last_activity_date":1518118203,"creation_date":1374728898,"answer_id":17849465,"question_id":513832,"body_markdown":"The `==` operator check if the two references point to the same object or not. `.equals()` check for the actual string content (value).\r\n\r\nNote that the `.equals()` method belongs to class `Object` (super class of all classes). You need to override it as per you class requirement, but for String it is already implemented, and it checks whether two strings have the same value or not.\r\n\r\n - **Case 1**\r\n\r\n        String s1 = &quot;Stack Overflow&quot;;\r\n        String s2 = &quot;Stack Overflow&quot;;\r\n        s1 == s2;      //true\r\n        s1.equals(s2); //true\r\n\r\n    Reason: String literals created without null are stored in the String pool in the permgen area of heap. So both s1 and s2 point to same object in the pool.\r\n\r\n - **Case 2**\r\n\r\n        String s1 = new String(&quot;Stack Overflow&quot;);\r\n        String s2 = new String(&quot;Stack Overflow&quot;);\r\n        s1 == s2;      //false\r\n        s1.equals(s2); //true\r\n\r\n    Reason: If you create a String object using the `new` keyword a separate space is allocated to it on the heap.\r\n","title":"How do I compare strings in Java?","body":"<p>The <code>==</code> operator check if the two references point to the same object or not. <code>.equals()</code> check for the actual string content (value).</p>\n\n<p>Note that the <code>.equals()</code> method belongs to class <code>Object</code> (super class of all classes). You need to override it as per you class requirement, but for String it is already implemented, and it checks whether two strings have the same value or not.</p>\n\n<ul>\n<li><p><strong>Case 1</strong></p>\n\n<pre><code>String s1 = \"Stack Overflow\";\nString s2 = \"Stack Overflow\";\ns1 == s2;      //true\ns1.equals(s2); //true\n</code></pre>\n\n<p>Reason: String literals created without null are stored in the String pool in the permgen area of heap. So both s1 and s2 point to same object in the pool.</p></li>\n<li><p><strong>Case 2</strong></p>\n\n<pre><code>String s1 = new String(\"Stack Overflow\");\nString s2 = new String(\"Stack Overflow\");\ns1 == s2;      //false\ns1.equals(s2); //true\n</code></pre>\n\n<p>Reason: If you create a String object using the <code>new</code> keyword a separate space is allocated to it on the heap.</p></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":3106249,"reputation":6417,"user_id":2628956,"accept_rate":100,"display_name":"Rakesh KR"},"comment_count":0,"down_vote_count":0,"up_vote_count":50,"is_accepted":false,"score":50,"last_activity_date":1518118391,"creation_date":1387394794,"answer_id":20666721,"question_id":513832,"body_markdown":"If the `equals()` method is present in the `java.lang.Object` class, and it is expected to check for the equivalence of the state of objects! That means, the contents of the objects. Whereas the `==` operator is expected to check the actual object instances are same or not.\r\n\r\n*Example*\r\n\r\nConsider two different reference variables, `str1` and `str2`:\r\n\r\n    str1 = new String(&quot;abc&quot;);\r\n    str2 = new String(&quot;abc&quot;);\r\n\r\nIf you use the `equals()`\r\n\r\n    System.out.println((str1.equals(str2))?&quot;TRUE&quot;:&quot;FALSE&quot;);\r\n\r\nYou will get the output as `TRUE` if you use `==`.  \r\n\r\n    System.out.println((str1==str2) ? &quot;TRUE&quot; : &quot;FALSE&quot;);\r\n\r\nNow you will get the `FALSE` as output, because both `str1` and `str2` are pointing to two different objects even though both of them share the same string content. It is because of `new String()` a new object is created every time.\r\n","title":"How do I compare strings in Java?","body":"<p>If the <code>equals()</code> method is present in the <code>java.lang.Object</code> class, and it is expected to check for the equivalence of the state of objects! That means, the contents of the objects. Whereas the <code>==</code> operator is expected to check the actual object instances are same or not.</p>\n\n<p><em>Example</em></p>\n\n<p>Consider two different reference variables, <code>str1</code> and <code>str2</code>:</p>\n\n<pre><code>str1 = new String(\"abc\");\nstr2 = new String(\"abc\");\n</code></pre>\n\n<p>If you use the <code>equals()</code></p>\n\n<pre><code>System.out.println((str1.equals(str2))?\"TRUE\":\"FALSE\");\n</code></pre>\n\n<p>You will get the output as <code>TRUE</code> if you use <code>==</code>.  </p>\n\n<pre><code>System.out.println((str1==str2) ? \"TRUE\" : \"FALSE\");\n</code></pre>\n\n<p>Now you will get the <code>FALSE</code> as output, because both <code>str1</code> and <code>str2</code> are pointing to two different objects even though both of them share the same string content. It is because of <code>new String()</code> a new object is created every time.</p>\n"},{"comments":[{"owner":{"account_id":1743072,"reputation":2156,"user_id":1593924,"accept_rate":80,"display_name":"Jon Coombs"},"score":2,"creation_date":1403226322,"post_id":21112002,"comment_id":37587845,"body_markdown":"unless one of them is null, since s.equals(s2) will crash if s is null, causing the comparison to fail. Of course, this doesn&#39;t really contradict the answer; it&#39;s just a caveat.","body":"unless one of them is null, since s.equals(s2) will crash if s is null, causing the comparison to fail. Of course, this doesn&#39;t really contradict the answer; it&#39;s just a caveat."},{"owner":{"account_id":377411,"reputation":2773,"user_id":729513,"accept_rate":100,"display_name":"Bludzee"},"score":2,"creation_date":1457085080,"post_id":21112002,"comment_id":59255510,"body_markdown":"No, it won&#39;t crash, it will throw a NullPointerException, causing the comparison to not take place.","body":"No, it won&#39;t crash, it will throw a NullPointerException, causing the comparison to not take place."}],"tags":[],"owner":{"account_id":3668752,"reputation":6568,"user_id":3065232,"accept_rate":25,"display_name":"Lijo"},"comment_count":2,"down_vote_count":2,"up_vote_count":42,"is_accepted":false,"score":40,"last_activity_date":1608763032,"creation_date":1389697635,"answer_id":21112002,"question_id":513832,"body_markdown":"In Java, when the `==` operator is used to compare 2 objects, it checks to see if the objects refer to the same place in memory. In other words, it checks to see if the 2 object names are basically references to the same memory location. \r\n\r\n\r\nThe Java `String` class actually overrides the default `equals()` implementation in the `Object` class â€“ and it overrides the method so that it checks only the values of the strings, not their locations in memory.\r\n This means that if you call the `equals()` method to compare 2 `String` objects, then as long as the actual sequence of characters is equal, both objects are considered equal.\r\n\r\n&gt; The `==` operator checks if the two strings are exactly the same object.\r\n    \r\n&gt; The `.equals()` method  check if the two strings have the same value.\r\n\r\n","title":"How do I compare strings in Java?","body":"<p>In Java, when the <code>==</code> operator is used to compare 2 objects, it checks to see if the objects refer to the same place in memory. In other words, it checks to see if the 2 object names are basically references to the same memory location.</p>\n<p>The Java <code>String</code> class actually overrides the default <code>equals()</code> implementation in the <code>Object</code> class â€“ and it overrides the method so that it checks only the values of the strings, not their locations in memory.\nThis means that if you call the <code>equals()</code> method to compare 2 <code>String</code> objects, then as long as the actual sequence of characters is equal, both objects are considered equal.</p>\n<blockquote>\n<p>The <code>==</code> operator checks if the two strings are exactly the same object.</p>\n</blockquote>\n<blockquote>\n<p>The <code>.equals()</code> method  check if the two strings have the same value.</p>\n</blockquote>\n"}],"owner":{"account_id":12902,"reputation":48243,"user_id":25645,"accept_rate":69,"display_name":"Nathan H"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4577511,"favorite_count":0,"down_vote_count":10,"up_vote_count":733,"accepted_answer_id":513839,"answer_count":23,"score":723,"last_activity_date":1700489147,"creation_date":1233789427,"question_id":513832,"body_markdown":"I&#39;ve been using the `==` operator in my program to compare all my strings so far.\r\nHowever, I ran into a bug, changed one of them into `.equals()` instead, and it fixed the bug.\r\n\r\nIs `==` bad? When should it and should it not be used? What&#39;s the difference?","title":"How do I compare strings in Java?","body":"<p>I've been using the <code>==</code> operator in my program to compare all my strings so far.\nHowever, I ran into a bug, changed one of them into <code>.equals()</code> instead, and it fixed the bug.</p>\n\n<p>Is <code>==</code> bad? When should it and should it not be used? What's the difference?</p>\n"},{"tags":["java","spring-boot","spring-security"],"comments":[{"owner":{"account_id":187094,"reputation":5113,"user_id":424903,"display_name":"Gimby"},"score":0,"creation_date":1662646046,"post_id":73650321,"comment_id":130058035,"body_markdown":"No, the most common reason to get a 403 is when you are using valid user credentials which are not authorised. I.E., no ADMIN role. That is what Spring Security is telling you here; no access. Working as designed. So you should probably start by setting a breakpoint in your userdetails code to see what data is being loaded.","body":"No, the most common reason to get a 403 is when you are using valid user credentials which are not authorised. I.E., no ADMIN role. That is what Spring Security is telling you here; no access. Working as designed. So you should probably start by setting a breakpoint in your userdetails code to see what data is being loaded."},{"owner":{"account_id":13081377,"reputation":281,"user_id":9451827,"display_name":"thor"},"score":0,"creation_date":1662649129,"post_id":73650321,"comment_id":130059297,"body_markdown":"When setting a breakpoint there, I get what I expect e.g. authority name is `ADMIN` for the specified user in the GET request","body":"When setting a breakpoint there, I get what I expect e.g. authority name is <code>ADMIN</code> for the specified user in the GET request"}],"answers":[{"tags":[],"owner":{"account_id":13081377,"reputation":281,"user_id":9451827,"display_name":"thor"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662715438,"creation_date":1662715438,"answer_id":73659992,"question_id":73650321,"body_markdown":"I managed to get this working by adding `formLogin()` in my security configuration class. If omitted from Spring Security then there is no configuration for the authentication filter. [See here][1].\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/58111879/9451827","title":"Spring Security: Failed to authorize filter invocation","body":"<p>I managed to get this working by adding <code>formLogin()</code> in my security configuration class. If omitted from Spring Security then there is no configuration for the authentication filter. <a href=\"https://stackoverflow.com/a/58111879/9451827\">See here</a>.</p>\n"}],"owner":{"account_id":13081377,"reputation":281,"user_id":9451827,"display_name":"thor"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":8368,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1700488965,"creation_date":1662645555,"question_id":73650321,"body_markdown":"My Spring Boot application is returning a 403 status code (forbidden) when I call a GET request in my `AdminControllor`\r\n\r\nI am trying to blacklist URLs which have `&quot;/admin/**&quot;` except for those users who have the authority &quot;ADMIN&quot; in my database.\r\n\r\nI have disabled csrf which seems to be the most common issue for 403 forbidden.\r\n\r\nThe problem seems to relate (see debug logs) to this:\r\n\r\n`Failed to authorize filter invocation [GET /admin/allusers] with attributes [hasAuthority(&#39;ADMIN&#39;)]`\r\n\r\n\r\n\r\nLogs\r\n\r\n```\r\n2022-09-08 13:56:20.018 DEBUG 21328 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /admin/allusers\r\n2022-09-08 13:56:20.026 DEBUG 21328 --- [nio-8080-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext\r\n2022-09-08 13:56:20.026 DEBUG 21328 --- [nio-8080-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext\r\n2022-09-08 13:56:20.042 DEBUG 21328 --- [nio-8080-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Failed to authorize filter invocation [GET /admin/allusers] with attributes [hasAuthority(&#39;ADMIN&#39;)]\r\n2022-09-08 13:56:20.090 DEBUG 21328 --- [nio-8080-exec-2] o.s.s.w.s.HttpSessionRequestCache        : Saved request http://localhost:8080/admin/allusers to session\r\n2022-09-08 13:56:20.090 DEBUG 21328 --- [nio-8080-exec-2] o.s.s.w.a.Http403ForbiddenEntryPoint     : Pre-authenticated entry point called. Rejecting access\r\n2022-09-08 13:56:20.090 DEBUG 21328 --- [nio-8080-exec-2] w.c.HttpSessionSecurityContextRepository : Did not store empty SecurityContext\r\n2022-09-08 13:56:20.090 DEBUG 21328 --- [nio-8080-exec-2] w.c.HttpSessionSecurityContextRepository : Did not store empty SecurityContext\r\n2022-09-08 13:56:20.090 DEBUG 21328 --- [nio-8080-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request\r\n2022-09-08 13:56:20.090 DEBUG 21328 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /error\r\n2022-09-08 13:56:20.090 DEBUG 21328 --- [nio-8080-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext\r\n2022-09-08 13:56:20.090 DEBUG 21328 --- [nio-8080-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext\r\n2022-09-08 13:56:20.090 DEBUG 21328 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /error\r\n2022-09-08 13:56:20.190 DEBUG 21328 --- [nio-8080-exec-2] w.c.HttpSessionSecurityContextRepository : Did not store anonymous SecurityContext\r\n2022-09-08 13:56:20.198 DEBUG 21328 --- [nio-8080-exec-2] w.c.HttpSessionSecurityContextRepository : Did not store anonymous SecurityContext\r\n```\r\n\r\n**My Security Config class**\r\n\r\n```\r\npackage com.example.spring_security.config;\r\n\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\r\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\r\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\r\nimport org.springframework.security.crypto.password.PasswordEncoder;\r\nimport org.springframework.security.web.SecurityFilterChain;\r\n\r\n@Configuration\r\n@EnableWebSecurity\r\npublic class SecurityConfig {\r\n\r\n@Bean\r\npublic SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\r\n    http\r\n        .csrf().disable()\r\n        .authorizeRequests()\r\n        .mvcMatchers(&quot;/admin/**&quot;).hasAuthority(&quot;ADMIN&quot;)\r\n        .anyRequest().permitAll();\r\n    return http.build();\r\n}\r\n\r\n@Bean\r\npublic PasswordEncoder passwordEncoder() {\r\n    return new BCryptPasswordEncoder();\r\n}\r\n}\r\n```\r\n**My UserDetails**\r\n```\r\npackage com.example.spring_security.security;\r\n\r\n\r\nimport com.example.spring_security.entities.User;\r\nimport org.springframework.security.core.GrantedAuthority;\r\nimport org.springframework.security.core.userdetails.UserDetails;\r\n\r\nimport java.util.Collection;\r\nimport java.util.stream.Collectors;\r\n\r\n\r\npublic class SecurityUser implements UserDetails {\r\n\r\n    private final User user;\r\n\r\n    public SecurityUser(User user){\r\n        this.user = user;\r\n    }\r\n\r\n    @Override\r\n    public Collection&lt;? extends GrantedAuthority&gt; getAuthorities() {\r\n        return user.getAuthorities()\r\n                .stream()\r\n                .map(SecurityAuthority::new)\r\n                .collect(Collectors.toList());\r\n    }\r\n\r\n    @Override\r\n    public String getPassword() {\r\n        return user.getPassword();\r\n    }\r\n\r\n    @Override\r\n    public String getUsername() {\r\n        return user.getUsername();\r\n    }\r\n\r\n    @Override\r\n    public boolean isAccountNonExpired() {\r\n        return true;\r\n    }\r\n\r\n    @Override\r\n    public boolean isAccountNonLocked() {\r\n        return true;\r\n    }\r\n\r\n    @Override\r\n    public boolean isCredentialsNonExpired() {\r\n        return true;\r\n    }\r\n\r\n    @Override\r\n    public boolean isEnabled() {\r\n        return true;\r\n    }\r\n}\r\n```\r\n**My UserDetailsService**\r\n```\r\npackage com.example.spring_security.services;\r\n\r\nimport com.example.spring_security.repositories.UserRepository;\r\nimport com.example.spring_security.security.SecurityUser;\r\nimport org.springframework.security.core.userdetails.UserDetails;\r\nimport org.springframework.security.core.userdetails.UserDetailsService;\r\nimport org.springframework.security.core.userdetails.UsernameNotFoundException;\r\nimport org.springframework.stereotype.Service;\r\n\r\n@Service\r\npublic class JpaUserDetailsService implements UserDetailsService {\r\n\r\n    private final UserRepository userRepository;\r\n\r\n    public JpaUserDetailsService(UserRepository userRepository) {\r\n        this.userRepository = userRepository;\r\n    }\r\n\r\n    @Override\r\n    public UserDetails loadUserByUsername(String username)  {\r\n        var u = userRepository.findUserByUsername(username);\r\n        return u.map(SecurityUser::new)\r\n                .orElseThrow(() -&gt; new UsernameNotFoundException(&quot;Username not found &quot; + username));\r\n    }\r\n\r\n}\r\n```\r\n**My GrantedAuthority**\r\n```\r\npackage com.example.spring_security.security;\r\n\r\nimport com.example.spring_security.entities.Authority;\r\nimport org.springframework.security.core.GrantedAuthority;\r\n\r\npublic class SecurityAuthority implements GrantedAuthority {\r\n\r\n    private final Authority authority;\r\n\r\n    public SecurityAuthority(Authority authority) {\r\n        this.authority = authority;\r\n    }\r\n\r\n    @Override\r\n    public String getAuthority() {\r\n        return authority.getName();\r\n    }\r\n}\r\n```","title":"Spring Security: Failed to authorize filter invocation","body":"<p>My Spring Boot application is returning a 403 status code (forbidden) when I call a GET request in my <code>AdminControllor</code></p>\n<p>I am trying to blacklist URLs which have <code>&quot;/admin/**&quot;</code> except for those users who have the authority &quot;ADMIN&quot; in my database.</p>\n<p>I have disabled csrf which seems to be the most common issue for 403 forbidden.</p>\n<p>The problem seems to relate (see debug logs) to this:</p>\n<p><code>Failed to authorize filter invocation [GET /admin/allusers] with attributes [hasAuthority('ADMIN')]</code></p>\n<p>Logs</p>\n<pre><code>2022-09-08 13:56:20.018 DEBUG 21328 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /admin/allusers\n2022-09-08 13:56:20.026 DEBUG 21328 --- [nio-8080-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext\n2022-09-08 13:56:20.026 DEBUG 21328 --- [nio-8080-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext\n2022-09-08 13:56:20.042 DEBUG 21328 --- [nio-8080-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Failed to authorize filter invocation [GET /admin/allusers] with attributes [hasAuthority('ADMIN')]\n2022-09-08 13:56:20.090 DEBUG 21328 --- [nio-8080-exec-2] o.s.s.w.s.HttpSessionRequestCache        : Saved request http://localhost:8080/admin/allusers to session\n2022-09-08 13:56:20.090 DEBUG 21328 --- [nio-8080-exec-2] o.s.s.w.a.Http403ForbiddenEntryPoint     : Pre-authenticated entry point called. Rejecting access\n2022-09-08 13:56:20.090 DEBUG 21328 --- [nio-8080-exec-2] w.c.HttpSessionSecurityContextRepository : Did not store empty SecurityContext\n2022-09-08 13:56:20.090 DEBUG 21328 --- [nio-8080-exec-2] w.c.HttpSessionSecurityContextRepository : Did not store empty SecurityContext\n2022-09-08 13:56:20.090 DEBUG 21328 --- [nio-8080-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request\n2022-09-08 13:56:20.090 DEBUG 21328 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /error\n2022-09-08 13:56:20.090 DEBUG 21328 --- [nio-8080-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext\n2022-09-08 13:56:20.090 DEBUG 21328 --- [nio-8080-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext\n2022-09-08 13:56:20.090 DEBUG 21328 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /error\n2022-09-08 13:56:20.190 DEBUG 21328 --- [nio-8080-exec-2] w.c.HttpSessionSecurityContextRepository : Did not store anonymous SecurityContext\n2022-09-08 13:56:20.198 DEBUG 21328 --- [nio-8080-exec-2] w.c.HttpSessionSecurityContextRepository : Did not store anonymous SecurityContext\n</code></pre>\n<p><strong>My Security Config class</strong></p>\n<pre><code>package com.example.spring_security.config;\n\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\nimport org.springframework.security.crypto.password.PasswordEncoder;\nimport org.springframework.security.web.SecurityFilterChain;\n\n@Configuration\n@EnableWebSecurity\npublic class SecurityConfig {\n\n@Bean\npublic SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\n    http\n        .csrf().disable()\n        .authorizeRequests()\n        .mvcMatchers(&quot;/admin/**&quot;).hasAuthority(&quot;ADMIN&quot;)\n        .anyRequest().permitAll();\n    return http.build();\n}\n\n@Bean\npublic PasswordEncoder passwordEncoder() {\n    return new BCryptPasswordEncoder();\n}\n}\n</code></pre>\n<p><strong>My UserDetails</strong></p>\n<pre><code>package com.example.spring_security.security;\n\n\nimport com.example.spring_security.entities.User;\nimport org.springframework.security.core.GrantedAuthority;\nimport org.springframework.security.core.userdetails.UserDetails;\n\nimport java.util.Collection;\nimport java.util.stream.Collectors;\n\n\npublic class SecurityUser implements UserDetails {\n\n    private final User user;\n\n    public SecurityUser(User user){\n        this.user = user;\n    }\n\n    @Override\n    public Collection&lt;? extends GrantedAuthority&gt; getAuthorities() {\n        return user.getAuthorities()\n                .stream()\n                .map(SecurityAuthority::new)\n                .collect(Collectors.toList());\n    }\n\n    @Override\n    public String getPassword() {\n        return user.getPassword();\n    }\n\n    @Override\n    public String getUsername() {\n        return user.getUsername();\n    }\n\n    @Override\n    public boolean isAccountNonExpired() {\n        return true;\n    }\n\n    @Override\n    public boolean isAccountNonLocked() {\n        return true;\n    }\n\n    @Override\n    public boolean isCredentialsNonExpired() {\n        return true;\n    }\n\n    @Override\n    public boolean isEnabled() {\n        return true;\n    }\n}\n</code></pre>\n<p><strong>My UserDetailsService</strong></p>\n<pre><code>package com.example.spring_security.services;\n\nimport com.example.spring_security.repositories.UserRepository;\nimport com.example.spring_security.security.SecurityUser;\nimport org.springframework.security.core.userdetails.UserDetails;\nimport org.springframework.security.core.userdetails.UserDetailsService;\nimport org.springframework.security.core.userdetails.UsernameNotFoundException;\nimport org.springframework.stereotype.Service;\n\n@Service\npublic class JpaUserDetailsService implements UserDetailsService {\n\n    private final UserRepository userRepository;\n\n    public JpaUserDetailsService(UserRepository userRepository) {\n        this.userRepository = userRepository;\n    }\n\n    @Override\n    public UserDetails loadUserByUsername(String username)  {\n        var u = userRepository.findUserByUsername(username);\n        return u.map(SecurityUser::new)\n                .orElseThrow(() -&gt; new UsernameNotFoundException(&quot;Username not found &quot; + username));\n    }\n\n}\n</code></pre>\n<p><strong>My GrantedAuthority</strong></p>\n<pre><code>package com.example.spring_security.security;\n\nimport com.example.spring_security.entities.Authority;\nimport org.springframework.security.core.GrantedAuthority;\n\npublic class SecurityAuthority implements GrantedAuthority {\n\n    private final Authority authority;\n\n    public SecurityAuthority(Authority authority) {\n        this.authority = authority;\n    }\n\n    @Override\n    public String getAuthority() {\n        return authority.getName();\n    }\n}\n</code></pre>\n"},{"tags":["java","sql","mysql","jdbc"],"comments":[{"owner":{"account_id":15047867,"reputation":2292,"user_id":10860403,"display_name":"ewokx"},"score":1,"creation_date":1700455474,"post_id":77513505,"comment_id":136652391,"body_markdown":"Welcome to Stack Overflow.  Please include the debugging stacktrace and the sample input.","body":"Welcome to Stack Overflow.  Please include the debugging stacktrace and the sample input."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1700459468,"post_id":77513505,"comment_id":136652711,"body_markdown":"Poor title. Rewrite to summarize your specific technical issue.","body":"Poor title. Rewrite to summarize your specific technical issue."}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1700456917,"creation_date":1700456917,"answer_id":77513621,"question_id":77513505,"body_markdown":"What you have there is a mashup of code that creates an SQL string by string-bashing (bad!) with code that uses a `PreparedStatement` to *avoid* string-bashing.  In effect, you have created your statement without any `?` placeholders, and then tried to supply parameter values for them.\r\n\r\nI strongly recommend that you read [this Java tutorial](https://docs.oracle.com/javase/tutorial/jdbc/basics/prepared.html) on using JDBC prepared statements.  It is important that you understand what you are doing when you use `PreparedStatement`, and *why you are doing it*.   If you don&#39;t *understand* what you are doing, you are liable to write **insecure** code.\r\n\r\n-------------------------\r\n\r\nThe fix is to change the SQL to something like this:\r\n\r\n        &quot;INSERT INTO rumah (nama1, area2, tipe3, luas4, harga5, &quot; +\r\n        &quot;jumlah_cicilan6, cicilan_bulan7) VALUES (?, ?, ?, ?, ?, ?, ?)&quot;\r\n\r\nand then make sure that the correct value for each parameter is injected using the `setString` calls below.\r\n\r\nAnd read the tutorial; see above.","title":"how to correct coding erorr?","body":"<p>What you have there is a mashup of code that creates an SQL string by string-bashing (bad!) with code that uses a <code>PreparedStatement</code> to <em>avoid</em> string-bashing.  In effect, you have created your statement without any <code>?</code> placeholders, and then tried to supply parameter values for them.</p>\n<p>I strongly recommend that you read <a href=\"https://docs.oracle.com/javase/tutorial/jdbc/basics/prepared.html\" rel=\"nofollow noreferrer\">this Java tutorial</a> on using JDBC prepared statements.  It is important that you understand what you are doing when you use <code>PreparedStatement</code>, and <em>why you are doing it</em>.   If you don't <em>understand</em> what you are doing, you are liable to write <strong>insecure</strong> code.</p>\n<hr />\n<p>The fix is to change the SQL to something like this:</p>\n<pre><code>    &quot;INSERT INTO rumah (nama1, area2, tipe3, luas4, harga5, &quot; +\n    &quot;jumlah_cicilan6, cicilan_bulan7) VALUES (?, ?, ?, ?, ?, ?, ?)&quot;\n</code></pre>\n<p>and then make sure that the correct value for each parameter is injected using the <code>setString</code> calls below.</p>\n<p>And read the tutorial; see above.</p>\n"}],"owner":{"account_id":29918509,"reputation":1,"user_id":22928210,"display_name":"Rispa Nurhalipah"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":59,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"answer_count":1,"score":-3,"last_activity_date":1700488484,"creation_date":1700454328,"question_id":77513505,"body_markdown":"java.sql.SQLException: Parameter index out of range (1 &gt; number of parameters, which is 0).\r\n\r\n```\r\nif(agreementCbx.isSelected() == false){\r\n            JOptionPane.showMessageDialog(null, \r\n                    &quot;Klik Centang CheckBox Untuk Simpan Data&quot;, &quot;Error&quot;,\r\n            JOptionPane.ERROR_MESSAGE);\r\n        }else {\r\n            String typeHouse;\r\n            if (t36RadioButton.isSelected()) {\r\n                typeHouse = &quot;TIPE 36&quot;;\r\n            }else if (t45RadioButton.isSelected()){\r\n                typeHouse = &quot;TIPE 45&quot;;\r\n            }else {\r\n                typeHouse = &quot;TIPE 54&quot;;\r\n            }\r\n            \r\n            try{\r\n                String sql = &quot;INSERT INTO rumah (nama1, area2, tipe3, luas4, harga5, jumlah_cicilan6, cicilan_bulan7) VALUES (&#39;&quot;\r\n                        + orderNameTxt.getText() + &quot;&#39;&#39;&quot;\r\n                        + areacb.getSelectedItem() + &quot;&#39;&#39;&quot;\r\n                        + typeHouse + &quot;,&quot;\r\n                        + largeLandTxt.getText()+&quot;&#39;,&#39;&quot;\r\n                        + totalPriceTxt.getText() + &quot;&#39;,&#39;&quot;\r\n                        + instalmentAmountTxt.getText() + &quot;&#39;,&#39;&quot;\r\n                        + instalmentMonthTxt.getText() + &quot;&#39;)&#39;&quot;;\r\n                Connection conn = (Connection)ConnectionDB.connectDatabase();\r\n                PreparedStatement pst = conn.prepareStatement(sql);\r\n                pst.setString(1,orderNameTxt.getText());\r\n                pst.setString(2, (String) areacb.getSelectedItem());\r\n                pst.setString(3,typeHouse());\r\n                pst.setString(4, largeLandTxt.getText());\r\n                pst.setString(5, totalPriceTxt.getText());\r\n                pst.setString(6, instalmentAmountTxt.getText());\r\n                pst.setString(7, instalmentMonthTxt.getText());\r\n                pst.execute();\r\n            } catch (SQLException ex) {\r\n                Logger.getLogger(PaymentForm.class.getName()).log(Level. SEVERE, null, ex);  \r\n            }\r\n            \r\n            OptionMenu optionMenu = new OptionMenu();\r\n            optionMenu.setVisible(true);\r\n            this.getDesktopPane().add(optionMenu);\r\n            this.dispose();\r\n            \r\n            \r\n        }\r\n    }\r\n```","title":"how to correct coding erorr?","body":"<p>java.sql.SQLException: Parameter index out of range (1 &gt; number of parameters, which is 0).</p>\n<pre><code>if(agreementCbx.isSelected() == false){\n            JOptionPane.showMessageDialog(null, \n                    &quot;Klik Centang CheckBox Untuk Simpan Data&quot;, &quot;Error&quot;,\n            JOptionPane.ERROR_MESSAGE);\n        }else {\n            String typeHouse;\n            if (t36RadioButton.isSelected()) {\n                typeHouse = &quot;TIPE 36&quot;;\n            }else if (t45RadioButton.isSelected()){\n                typeHouse = &quot;TIPE 45&quot;;\n            }else {\n                typeHouse = &quot;TIPE 54&quot;;\n            }\n            \n            try{\n                String sql = &quot;INSERT INTO rumah (nama1, area2, tipe3, luas4, harga5, jumlah_cicilan6, cicilan_bulan7) VALUES ('&quot;\n                        + orderNameTxt.getText() + &quot;''&quot;\n                        + areacb.getSelectedItem() + &quot;''&quot;\n                        + typeHouse + &quot;,&quot;\n                        + largeLandTxt.getText()+&quot;','&quot;\n                        + totalPriceTxt.getText() + &quot;','&quot;\n                        + instalmentAmountTxt.getText() + &quot;','&quot;\n                        + instalmentMonthTxt.getText() + &quot;')'&quot;;\n                Connection conn = (Connection)ConnectionDB.connectDatabase();\n                PreparedStatement pst = conn.prepareStatement(sql);\n                pst.setString(1,orderNameTxt.getText());\n                pst.setString(2, (String) areacb.getSelectedItem());\n                pst.setString(3,typeHouse());\n                pst.setString(4, largeLandTxt.getText());\n                pst.setString(5, totalPriceTxt.getText());\n                pst.setString(6, instalmentAmountTxt.getText());\n                pst.setString(7, instalmentMonthTxt.getText());\n                pst.execute();\n            } catch (SQLException ex) {\n                Logger.getLogger(PaymentForm.class.getName()).log(Level. SEVERE, null, ex);  \n            }\n            \n            OptionMenu optionMenu = new OptionMenu();\n            optionMenu.setVisible(true);\n            this.getDesktopPane().add(optionMenu);\n            this.dispose();\n            \n            \n        }\n    }\n</code></pre>\n"},{"tags":["java","nexus","nexus3","truststore"],"owner":{"account_id":104804,"reputation":1283,"user_id":280002,"accept_rate":50,"display_name":"alessandro ferrucci"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700488052,"creation_date":1700488052,"question_id":77516385,"body_markdown":"I&#39;m a bit embarrassed to admit this but I can&#39;t, for the life of me, find any information online as to where Nexus 3 default trust store is.\r\n\r\nI was able to find the following from my Nexus installation:\r\n\r\n```\r\n$DATA_DIR/sonatype-work/nexus3/keystores/node/private.ks \r\n$DATA_DIR/sonatype-work/nexus3/keystores/node/trusted.ks \r\n```\r\n\r\nIs the `trusted.ks` the Nexus 3 default trust store?  Where would I be able to find the default password for it?\r\n\r\nThank you","title":"Nexus 3 default trust store location","body":"<p>I'm a bit embarrassed to admit this but I can't, for the life of me, find any information online as to where Nexus 3 default trust store is.</p>\n<p>I was able to find the following from my Nexus installation:</p>\n<pre><code>$DATA_DIR/sonatype-work/nexus3/keystores/node/private.ks \n$DATA_DIR/sonatype-work/nexus3/keystores/node/trusted.ks \n</code></pre>\n<p>Is the <code>trusted.ks</code> the Nexus 3 default trust store?  Where would I be able to find the default password for it?</p>\n<p>Thank you</p>\n"},{"tags":["java","linux","selenium-webdriver","selenium-chromedriver","google-chrome-headless"],"comments":[{"owner":{"account_id":8333120,"reputation":832,"user_id":12868186,"display_name":"wpnpeiris"},"score":0,"creation_date":1700576383,"post_id":77516308,"comment_id":136669858,"body_markdown":"You can provide more context to the question.\nIt is quite not clear.","body":"You can provide more context to the question. It is quite not clear."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1700576394,"post_id":77516308,"comment_id":136669862,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."},{"owner":{"account_id":29949045,"reputation":1,"user_id":22951618,"display_name":"Mahesh C"},"score":0,"creation_date":1701781616,"post_id":77516308,"comment_id":136815742,"body_markdown":"@wpnpeiris when I&#39;m using `options.addArguments(&quot;--headless&quot;)` statement for headless browser and switch window tab. I&#39;m getting the exception `java.util.concurrent.TimeoutException` System info: os.name: &#39;Linux&#39;, os.arch: &#39;amd64&#39;","body":"@wpnpeiris when I&#39;m using <code>options.addArguments(&quot;--headless&quot;)</code> statement for headless browser and switch window tab. I&#39;m getting the exception <code>java.util.concurrent.TimeoutException</code> System info: os.name: &#39;Linux&#39;, os.arch: &#39;amd64&#39;"}],"owner":{"account_id":29949045,"reputation":1,"user_id":22951618,"display_name":"Mahesh C"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700487688,"creation_date":1700487320,"question_id":77516308,"body_markdown":"**org.openqa.selenium.TimeoutException: java.util.concurrent.TimeoutException**\r\n````\r\nBuild info:\r\n17:31:52 System info: os.name: &#39;Linux&#39;, os.arch: &#39;amd64&#39;, os.version: &#39;5.10.109-104.500.amzn2.x86_64&#39;, java.version: &#39;11.0.19&#39;\r\nselenium version: &#39;4.13.0*\r\n\r\nBrowser/Driver: Chrome/ChromeDriver\r\nRinning with headless **`options.addArguments(&quot;--headless&quot;);`**\r\n\r\n`Nov 20, 2023 11:58:03 AM org.openqa.selenium.manager.SeleniumManager lambda$runCommand$1\r\n17:28:03 WARNING: The chromedriver version (113.0.5672.63) detected in PATH at /usr/bin/chromedriver might not be compatible with the detected chrome version (114.0.5735.198); currently, chromedriver 114.0.5735.90 is recommended for chrome 114.*, so it is advised to delete the driver in PATH and retry\r\n17:28:03 Driver Location/usr/bin/chromedriver\r\n17:28:03 Nov 20, 2023 11:58:03 AM org.openqa.selenium.manager.SeleniumManager lambda$runCommand$1\r\n17:28:03 WARNING: The chromedriver version (113.0.5672.63) detected in PATH at /usr/bin/chromedriver might not be compatible with the detected chrome version (114.0.5735.198); currently, chromedriver 114.0.5735.90 is recommended for chrome 114.*, so it is advised to delete the driver in PATH and retry\r\n17:28:03 Nov 20, 2023 11:58:03 AM org.openqa.selenium.devtools.CdpVersionFinder findNearestMatch\r\n17:28:03 WARNING: Unable to find CDP implementation matching 114\r\n17:28:03 Nov 20, 2023 11:58:03 AM org.openqa.selenium.chromium.ChromiumDriver lambda$new$5\r\n17:28:03 WARNING: Unable to find version of CDP to use for 114.0.5735.198. You may need to include a dependency on a specific version of the CDP using something similar to `org.seleniumhq.selenium:selenium-devtools-v86:4.13.0` where the version (&quot;v86&quot;) matches the version of the chromium-based browser you&#39;re using and the version number of the artifact is the same as Selenium&#39;s.\r\n````\r\n\r\nGetting below exception when switching to new window and getting `currentURL`\r\n````\r\ndriver.switchTo().window(childWindow);\r\nString currentURL = driver.getCurrentUrl();\r\n````\r\n\r\nCan anyone help to review and know why this expectation occurring. \r\n\r\n**Exception:**\r\n````\r\n17:31:52 org.openqa.selenium.TimeoutException: java.util.concurrent.TimeoutException\r\n17:31:52 Build info: version: &#39;4.13.0&#39;, revision: &#39;ba948ece5b*&#39;\r\n17:31:52 System info: os.name: &#39;Linux&#39;, os.arch: &#39;amd64&#39;, os.version: &#39;5.10.109-104.500.amzn2.x86_64&#39;, java.version: &#39;11.0.19&#39;\r\n17:31:52 Driver info: org.openqa.selenium.chrome.ChromeDriver\r\n17:31:52 Command: [1d9bc8563bbe6934a6c2c66d3e761fc8, getCurrentUrl {}]\r\n17:31:52 Capabilities {acceptInsecureCerts: false, browserName: chrome, browserVersion: 114.0.5735.198, chrome: {chromedriverVersion: 113.0.5672.63 (0e1a4471d5ae..., userDataDir: /tmp/.com.google.Chrome.877XX8}, goog:chromeOptions: {debuggerAddress: localhost:35993}, networkConnectionEnabled: false, pageLoadStrategy: normal, platformName: linux, proxy: Proxy(), se:cdp: ws://localhost:35993/devtoo..., se:cdpVersion: 114.0.5735.198, setWindowRect: true, strictFileInteractability: false, timeouts: {implicit: 0, pageLoad: 300000, script: 30000}, unhandledPromptBehavior: dismiss and notify, webauthn:extension:credBlob: true, webauthn:extension:largeBlob: true, webauthn:extension:minPinLength: true, webauthn:extension:prf: true, webauthn:virtualAuthenticators: true}\r\n17:31:52 Session ID: 1d9bc8563bbe6934a6c2c66d3e761fc8\r\n17:31:52 \tat org.openqa.selenium.remote.http.netty.NettyHttpHandler.makeCall(NettyHttpHandler.java:65)\r\n17:31:52 \tat org.openqa.selenium.remote.http.AddSeleniumUserAgent.lambda$apply$0(AddSeleniumUserAgent.java:42)\r\n17:31:52 \tat org.openqa.selenium.remote.http.Filter.lambda$andFinally$1(Filter.java:55)\r\n17:31:52 \tat org.openqa.selenium.remote.http.netty.NettyHttpHandler.execute(NettyHttpHandler.java:48)\r\n17:31:52 \tat org.openqa.selenium.remote.http.netty.NettyClient.execute(NettyClient.java:96)\r\n17:31:52 \tat org.openqa.selenium.remote.HttpCommandExecutor.execute(HttpCommandExecutor.java:188)\r\n17:31:52 \tat org.openqa.selenium.remote.service.DriverCommandExecutor.invokeExecute(DriverCommandExecutor.java:196)\r\n17:31:52 \tat org.openqa.selenium.remote.service.DriverCommandExecutor.execute(DriverCommandExecutor.java:171)\r\n17:31:52 \tat org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:602)\r\n17:31:52 \tat org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:675)\r\n17:31:52 \tat org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:679)\r\n17:31:52 \tat org.openqa.selenium.remote.RemoteWebDriver.getCurrentUrl(RemoteWebDriver.java:316)\r\n````\r\n\r\nTried with `options.addArguments(&quot;--headless=new&quot;); `\r\nBut here window size is not getting applied i.e. `options.addArguments(&quot;window-size=1920,1080&quot;);`","title":"org.openqa.selenium.TimeoutException: java.util.concurrent.TimeoutException excepton when switching and getting CurrentURL of window on Linux amd64 OS","body":"<p><strong>org.openqa.selenium.TimeoutException: java.util.concurrent.TimeoutException</strong></p>\n<pre><code>Build info:\n17:31:52 System info: os.name: 'Linux', os.arch: 'amd64', os.version: '5.10.109-104.500.amzn2.x86_64', java.version: '11.0.19'\nselenium version: '4.13.0*\n\nBrowser/Driver: Chrome/ChromeDriver\nRinning with headless **`options.addArguments(&quot;--headless&quot;);`**\n\n`Nov 20, 2023 11:58:03 AM org.openqa.selenium.manager.SeleniumManager lambda$runCommand$1\n17:28:03 WARNING: The chromedriver version (113.0.5672.63) detected in PATH at /usr/bin/chromedriver might not be compatible with the detected chrome version (114.0.5735.198); currently, chromedriver 114.0.5735.90 is recommended for chrome 114.*, so it is advised to delete the driver in PATH and retry\n17:28:03 Driver Location/usr/bin/chromedriver\n17:28:03 Nov 20, 2023 11:58:03 AM org.openqa.selenium.manager.SeleniumManager lambda$runCommand$1\n17:28:03 WARNING: The chromedriver version (113.0.5672.63) detected in PATH at /usr/bin/chromedriver might not be compatible with the detected chrome version (114.0.5735.198); currently, chromedriver 114.0.5735.90 is recommended for chrome 114.*, so it is advised to delete the driver in PATH and retry\n17:28:03 Nov 20, 2023 11:58:03 AM org.openqa.selenium.devtools.CdpVersionFinder findNearestMatch\n17:28:03 WARNING: Unable to find CDP implementation matching 114\n17:28:03 Nov 20, 2023 11:58:03 AM org.openqa.selenium.chromium.ChromiumDriver lambda$new$5\n17:28:03 WARNING: Unable to find version of CDP to use for 114.0.5735.198. You may need to include a dependency on a specific version of the CDP using something similar to `org.seleniumhq.selenium:selenium-devtools-v86:4.13.0` where the version (&quot;v86&quot;) matches the version of the chromium-based browser you're using and the version number of the artifact is the same as Selenium's.\n</code></pre>\n<p>Getting below exception when switching to new window and getting <code>currentURL</code></p>\n<pre><code>driver.switchTo().window(childWindow);\nString currentURL = driver.getCurrentUrl();\n</code></pre>\n<p>Can anyone help to review and know why this expectation occurring.</p>\n<p><strong>Exception:</strong></p>\n<pre><code>17:31:52 org.openqa.selenium.TimeoutException: java.util.concurrent.TimeoutException\n17:31:52 Build info: version: '4.13.0', revision: 'ba948ece5b*'\n17:31:52 System info: os.name: 'Linux', os.arch: 'amd64', os.version: '5.10.109-104.500.amzn2.x86_64', java.version: '11.0.19'\n17:31:52 Driver info: org.openqa.selenium.chrome.ChromeDriver\n17:31:52 Command: [1d9bc8563bbe6934a6c2c66d3e761fc8, getCurrentUrl {}]\n17:31:52 Capabilities {acceptInsecureCerts: false, browserName: chrome, browserVersion: 114.0.5735.198, chrome: {chromedriverVersion: 113.0.5672.63 (0e1a4471d5ae..., userDataDir: /tmp/.com.google.Chrome.877XX8}, goog:chromeOptions: {debuggerAddress: localhost:35993}, networkConnectionEnabled: false, pageLoadStrategy: normal, platformName: linux, proxy: Proxy(), se:cdp: ws://localhost:35993/devtoo..., se:cdpVersion: 114.0.5735.198, setWindowRect: true, strictFileInteractability: false, timeouts: {implicit: 0, pageLoad: 300000, script: 30000}, unhandledPromptBehavior: dismiss and notify, webauthn:extension:credBlob: true, webauthn:extension:largeBlob: true, webauthn:extension:minPinLength: true, webauthn:extension:prf: true, webauthn:virtualAuthenticators: true}\n17:31:52 Session ID: 1d9bc8563bbe6934a6c2c66d3e761fc8\n17:31:52    at org.openqa.selenium.remote.http.netty.NettyHttpHandler.makeCall(NettyHttpHandler.java:65)\n17:31:52    at org.openqa.selenium.remote.http.AddSeleniumUserAgent.lambda$apply$0(AddSeleniumUserAgent.java:42)\n17:31:52    at org.openqa.selenium.remote.http.Filter.lambda$andFinally$1(Filter.java:55)\n17:31:52    at org.openqa.selenium.remote.http.netty.NettyHttpHandler.execute(NettyHttpHandler.java:48)\n17:31:52    at org.openqa.selenium.remote.http.netty.NettyClient.execute(NettyClient.java:96)\n17:31:52    at org.openqa.selenium.remote.HttpCommandExecutor.execute(HttpCommandExecutor.java:188)\n17:31:52    at org.openqa.selenium.remote.service.DriverCommandExecutor.invokeExecute(DriverCommandExecutor.java:196)\n17:31:52    at org.openqa.selenium.remote.service.DriverCommandExecutor.execute(DriverCommandExecutor.java:171)\n17:31:52    at org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:602)\n17:31:52    at org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:675)\n17:31:52    at org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:679)\n17:31:52    at org.openqa.selenium.remote.RemoteWebDriver.getCurrentUrl(RemoteWebDriver.java:316)\n</code></pre>\n<p>Tried with <code>options.addArguments(&quot;--headless=new&quot;); </code>\nBut here window size is not getting applied i.e. <code>options.addArguments(&quot;window-size=1920,1080&quot;);</code></p>\n"},{"tags":["java","string","comparison","equality"],"comments":[{"owner":{"account_id":7291967,"reputation":57515,"user_id":5558072,"accept_rate":100,"display_name":"Youcef LAIDANI"},"score":2,"creation_date":1700487811,"post_id":77516347,"comment_id":136657042,"body_markdown":"The issue you&#39;re encountering with comparing strings using == stems from the fact that == checks for reference equality in Java when used with objects (including strings), not for value equality. Strings should be compared using the equals() method to ensure checking for their content. `if (&quot;4&quot;.equals(t)) {`","body":"The issue you&#39;re encountering with comparing strings using == stems from the fact that == checks for reference equality in Java when used with objects (including strings), not for value equality. Strings should be compared using the equals() method to ensure checking for their content. <code>if (&quot;4&quot;.equals(t)) {</code>"},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1700493755,"post_id":77516347,"comment_id":136658187,"body_markdown":"Off-topic:  Will `t` always be one character in length?  If you are sure it is, you could use something like `if (t.charAt(0) == &#39;4&#39;)`","body":"Off-topic:  Will <code>t</code> always be one character in length?  If you are sure it is, you could use something like <code>if (t.charAt(0) == &#39;4&#39;)</code>"},{"owner":{"account_id":194307,"reputation":13348,"user_id":436559,"accept_rate":82,"display_name":"fluter"},"score":0,"creation_date":1700695509,"post_id":77516347,"comment_id":136687631,"body_markdown":"yes it is one char in length, I think compare char way looks better, thanks for the anwser!","body":"yes it is one char in length, I think compare char way looks better, thanks for the anwser!"}],"owner":{"account_id":194307,"reputation":13348,"user_id":436559,"accept_rate":82,"display_name":"fluter"},"comment_count":3,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":5,"up_vote_count":0,"closed_date":1700487734,"answer_count":0,"score":-5,"last_activity_date":1700487640,"creation_date":1700487640,"question_id":77516347,"body_markdown":"My program connect to a web service and receive messages, one of the fields is string, the string is just one character long and I need to compare it to a few values to decide the next processing. The issue is I find sometimes(not always), the string comparison fails but it shouldn&#39;t, I&#39;m using the `==` operator, and when it fails I print the content, and it shows the same, but the `==` returns false, what could be wrong? What else can I debug this issue? My code is like this:\r\n\r\n    public void channelRead(..., Object msg) {\r\n        if (!(msg instanceof Message)) { return; }\r\n        Message msg = (Message) msg;\r\n        String t = msg.getType();  // expecting either &quot;4&quot; or &quot;5&quot;\r\n        if (t == &quot;4&quot;) {\r\n            // handleType3();\r\n        } else if (t == &quot;5&quot;) {\r\n            // handleType5();\r\n        } else {\r\n            // error();  // found code hit here when it shouldn&#39;t\r\n        }\r\n    }\r\n\r\nI added following debug code after getting `t` when I found the issue,\r\n\r\n    if (!(t == &quot;4&quot; || t == &quot;5&quot;)) {\r\n        logger.debug(&quot;type is |{}| length {} {} {}&quot;, t, t.length(), t == &quot;4&quot;, t == &quot;5&quot;);\r\n    }\r\n\r\nand in the log I got following lines:\r\n\r\n    type is |5| length 1 false false\r\n    type is |4| length 1 false false\r\n\r\nHow can it be? the t is &quot;4&quot; and t == &quot;4&quot; prints false? Any hints is much appreciated.","title":"strange string equality issue","body":"<p>My program connect to a web service and receive messages, one of the fields is string, the string is just one character long and I need to compare it to a few values to decide the next processing. The issue is I find sometimes(not always), the string comparison fails but it shouldn't, I'm using the <code>==</code> operator, and when it fails I print the content, and it shows the same, but the <code>==</code> returns false, what could be wrong? What else can I debug this issue? My code is like this:</p>\n<pre><code>public void channelRead(..., Object msg) {\n    if (!(msg instanceof Message)) { return; }\n    Message msg = (Message) msg;\n    String t = msg.getType();  // expecting either &quot;4&quot; or &quot;5&quot;\n    if (t == &quot;4&quot;) {\n        // handleType3();\n    } else if (t == &quot;5&quot;) {\n        // handleType5();\n    } else {\n        // error();  // found code hit here when it shouldn't\n    }\n}\n</code></pre>\n<p>I added following debug code after getting <code>t</code> when I found the issue,</p>\n<pre><code>if (!(t == &quot;4&quot; || t == &quot;5&quot;)) {\n    logger.debug(&quot;type is |{}| length {} {} {}&quot;, t, t.length(), t == &quot;4&quot;, t == &quot;5&quot;);\n}\n</code></pre>\n<p>and in the log I got following lines:</p>\n<pre><code>type is |5| length 1 false false\ntype is |4| length 1 false false\n</code></pre>\n<p>How can it be? the t is &quot;4&quot; and t == &quot;4&quot; prints false? Any hints is much appreciated.</p>\n"},{"tags":["java","spring","spring-boot","cors","swagger-ui"],"comments":[{"owner":{"account_id":13936444,"reputation":259,"user_id":10063327,"display_name":"m-kay"},"score":0,"creation_date":1700206295,"post_id":77463636,"comment_id":136628163,"body_markdown":"Do you have a spring security filter chain configuration? Also your spring boot version is quite outdated and probably does not work properly together  with current spring-security versions.","body":"Do you have a spring security filter chain configuration? Also your spring boot version is quite outdated and probably does not work properly together  with current spring-security versions."}],"answers":[{"tags":[],"owner":{"account_id":11377012,"reputation":12772,"user_id":8340997,"display_name":"Anish B."},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1700280221,"creation_date":1700280221,"answer_id":77505655,"question_id":77463636,"body_markdown":"Try to pass explicit method names like `PUT`, `POST` instead of `*` in `CorsConfiguration.setAllowedMethods`\r\n\r\nUpdate to this:\r\n\r\n    configuration.setAllowedMethods(Arrays.asList(&quot;GET, PUT, POST, PATCH, DELETE&quot;));\r\n\r\nSee if this works.","title":"Spring Boot Application on Springfox for swagger-ui PUT always &quot;Invalid CORS Request&quot;","body":"<p>Try to pass explicit method names like <code>PUT</code>, <code>POST</code> instead of <code>*</code> in <code>CorsConfiguration.setAllowedMethods</code></p>\n<p>Update to this:</p>\n<pre><code>configuration.setAllowedMethods(Arrays.asList(&quot;GET, PUT, POST, PATCH, DELETE&quot;));\n</code></pre>\n<p>See if this works.</p>\n"},{"tags":[],"owner":{"account_id":9598629,"reputation":486,"user_id":7126967,"display_name":"Raw"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700487367,"creation_date":1700487367,"answer_id":77516312,"question_id":77463636,"body_markdown":"That worked for me\r\n\r\n    @Bean\r\n    CorsConfigurationSource corsConfigurationSource() {\r\n        CorsConfiguration configuration = new CorsConfiguration();\r\n        configuration.setAllowedMethods(Arrays.asList(&quot;GET&quot;, &quot;POST&quot;, &quot;PUT&quot;, &quot;PATCH&quot;, &quot;DELETE&quot;, &quot;OPTIONS&quot;));\r\n        configuration.setAllowCredentials(true);\r\n        // the below three lines will add the relevant CORS response headers\r\n        configuration.addAllowedOrigin(&quot;*&quot;);\r\n        configuration.addAllowedHeader(&quot;*&quot;);\r\n        configuration.addAllowedMethod(&quot;*&quot;);\r\n        UrlBasedCorsConfigurationSource source = new \r\n        UrlBasedCorsConfigurationSource();\r\n        source.registerCorsConfiguration(&quot;/**&quot;, configuration);\r\n        return source;\r\n    }","title":"Spring Boot Application on Springfox for swagger-ui PUT always &quot;Invalid CORS Request&quot;","body":"<p>That worked for me</p>\n<pre><code>@Bean\nCorsConfigurationSource corsConfigurationSource() {\n    CorsConfiguration configuration = new CorsConfiguration();\n    configuration.setAllowedMethods(Arrays.asList(&quot;GET&quot;, &quot;POST&quot;, &quot;PUT&quot;, &quot;PATCH&quot;, &quot;DELETE&quot;, &quot;OPTIONS&quot;));\n    configuration.setAllowCredentials(true);\n    // the below three lines will add the relevant CORS response headers\n    configuration.addAllowedOrigin(&quot;*&quot;);\n    configuration.addAllowedHeader(&quot;*&quot;);\n    configuration.addAllowedMethod(&quot;*&quot;);\n    UrlBasedCorsConfigurationSource source = new \n    UrlBasedCorsConfigurationSource();\n    source.registerCorsConfiguration(&quot;/**&quot;, configuration);\n    return source;\n}\n</code></pre>\n"}],"owner":{"account_id":351709,"reputation":10880,"user_id":688355,"accept_rate":87,"display_name":"Bob Kuhar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":147,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":2,"score":5,"last_activity_date":1700487367,"creation_date":1699667471,"question_id":77463636,"body_markdown":"I&#39;ve got a Spring Boot Application based in 1.5.3.RELEASE that is leveraging springfox-swagger2 at 2.6.1 and springfox-swagger-ui at 2.6.1.\r\n\r\nFor most of the API, stuff is just fine. GETs work. POSTs work. PUTs always error at the swagger-ui.html `Invalid CORS request` I can reproduce the problem localhost with a request like...\r\n\r\n```\r\n$ curl -i -X PUT &#39;http://localhost.mycompany.com:8080/mom/749f4f1f-0769-488d-9776-17fc3927cfc6/description?description=WangoTango&#39; \\\r\n&gt; -H &#39;Origin: http://example.com&#39; \\\r\n&gt; -H &#39;Cookie: a.token_key=redacted&#39; \\\r\n&gt; -H &#39;accept: application/json&#39;\r\nHTTP/1.1 403\r\nX-Content-Type-Options: nosniff\r\nX-XSS-Protection: 1; mode=block\r\nCache-Control: no-cache, no-store, max-age=0, must-revalidate\r\nPragma: no-cache\r\nExpires: 0\r\nX-Frame-Options: SAMEORIGIN\r\nContent-Length: 20\r\nDate: Sat, 11 Nov 2023 01:42:01 GMT\r\n\r\nInvalid CORS request\r\n```\r\n\r\nMy application is configured per https://docs.spring.io/spring-security/reference/reactive/integrations/cors.html with a CorsConfigurationSource\r\n\r\n```\r\n/**\r\n * CORS Configuration lifted from https://docs.spring.io/spring-security/reference/reactive/integrations/cors.html;\r\n * configure to allow all origins, all methods.\r\n */\r\n@Configuration\r\npublic class CorsConfig {\r\n\r\n  @Bean\r\n  CorsConfigurationSource corsConfigurationSource() {\r\n    CorsConfiguration configuration = new CorsConfiguration();\r\n    configuration.setAllowedOrigins(Arrays.asList(&quot;*&quot;));\r\n    configuration.setAllowedMethods(Arrays.asList(&quot;*&quot;));\r\n    UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();\r\n    source.registerCorsConfiguration(&quot;/**&quot;, configuration);\r\n    return source;\r\n  }\r\n```\r\n\r\nIn the Controller..the endpoint too is configured with the extraoridinarly permissive CrossOrigin annotation...\r\n\r\n```\r\n  @RequestMapping(\r\n      method = RequestMethod.PUT,\r\n      path = &quot;/mom/{verId:.+}/description&quot;,\r\n      produces = {&quot;application/json&quot;})\r\n  @CrossOrigin\r\n  @ApiOperation(value = &quot;Set the description&quot;)\r\n  @ApiResponses(value = {\r\n          @ApiResponse(code = 200, message = &quot;Success&quot;, response = MBom.class),\r\n          @ApiResponse(code = 400, message = &quot;Bad Request&quot;, response = String.class),\r\n          @ApiResponse(code = 404, message = &quot;Error&quot;, response = String.class)})\r\n  public ResponseEntity&lt;?&gt; setDescription(\r\n      @PathVariable(&quot;verId&quot;) String verId,\r\n      @RequestParam(&quot;description&quot;) String description) {\r\n...\r\n```\r\n\r\nWhat is the magic configuration in a Spring Boot 1.5.3.RELEASE Application to get the PUT endpoints working with CORS? I&#39;ve had no success with any of the prior answers to this on StackOverflow.","title":"Spring Boot Application on Springfox for swagger-ui PUT always &quot;Invalid CORS Request&quot;","body":"<p>I've got a Spring Boot Application based in 1.5.3.RELEASE that is leveraging springfox-swagger2 at 2.6.1 and springfox-swagger-ui at 2.6.1.</p>\n<p>For most of the API, stuff is just fine. GETs work. POSTs work. PUTs always error at the swagger-ui.html <code>Invalid CORS request</code> I can reproduce the problem localhost with a request like...</p>\n<pre><code>$ curl -i -X PUT 'http://localhost.mycompany.com:8080/mom/749f4f1f-0769-488d-9776-17fc3927cfc6/description?description=WangoTango' \\\n&gt; -H 'Origin: http://example.com' \\\n&gt; -H 'Cookie: a.token_key=redacted' \\\n&gt; -H 'accept: application/json'\nHTTP/1.1 403\nX-Content-Type-Options: nosniff\nX-XSS-Protection: 1; mode=block\nCache-Control: no-cache, no-store, max-age=0, must-revalidate\nPragma: no-cache\nExpires: 0\nX-Frame-Options: SAMEORIGIN\nContent-Length: 20\nDate: Sat, 11 Nov 2023 01:42:01 GMT\n\nInvalid CORS request\n</code></pre>\n<p>My application is configured per <a href=\"https://docs.spring.io/spring-security/reference/reactive/integrations/cors.html\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-security/reference/reactive/integrations/cors.html</a> with a CorsConfigurationSource</p>\n<pre><code>/**\n * CORS Configuration lifted from https://docs.spring.io/spring-security/reference/reactive/integrations/cors.html;\n * configure to allow all origins, all methods.\n */\n@Configuration\npublic class CorsConfig {\n\n  @Bean\n  CorsConfigurationSource corsConfigurationSource() {\n    CorsConfiguration configuration = new CorsConfiguration();\n    configuration.setAllowedOrigins(Arrays.asList(&quot;*&quot;));\n    configuration.setAllowedMethods(Arrays.asList(&quot;*&quot;));\n    UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();\n    source.registerCorsConfiguration(&quot;/**&quot;, configuration);\n    return source;\n  }\n</code></pre>\n<p>In the Controller..the endpoint too is configured with the extraoridinarly permissive CrossOrigin annotation...</p>\n<pre><code>  @RequestMapping(\n      method = RequestMethod.PUT,\n      path = &quot;/mom/{verId:.+}/description&quot;,\n      produces = {&quot;application/json&quot;})\n  @CrossOrigin\n  @ApiOperation(value = &quot;Set the description&quot;)\n  @ApiResponses(value = {\n          @ApiResponse(code = 200, message = &quot;Success&quot;, response = MBom.class),\n          @ApiResponse(code = 400, message = &quot;Bad Request&quot;, response = String.class),\n          @ApiResponse(code = 404, message = &quot;Error&quot;, response = String.class)})\n  public ResponseEntity&lt;?&gt; setDescription(\n      @PathVariable(&quot;verId&quot;) String verId,\n      @RequestParam(&quot;description&quot;) String description) {\n...\n</code></pre>\n<p>What is the magic configuration in a Spring Boot 1.5.3.RELEASE Application to get the PUT endpoints working with CORS? I've had no success with any of the prior answers to this on StackOverflow.</p>\n"},{"tags":["java","cassandra","embedded-cassandra"],"answers":[{"tags":[],"owner":{"account_id":14388263,"reputation":181,"user_id":10393594,"display_name":"Dmytro Nosan"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1700486482,"creation_date":1700486482,"answer_id":77516213,"question_id":77495276,"body_markdown":"it should work right now, it was Apache Cassandra limitation. \r\nYou can try embedded-cassandra 4.1.0 ","title":"Embedded Cassandra doesn&#39;t support the MacOS M1 chip","body":"<p>it should work right now, it was Apache Cassandra limitation.\nYou can try embedded-cassandra 4.1.0</p>\n"}],"owner":{"account_id":6351585,"reputation":400,"user_id":4930469,"display_name":"Pavlo Chechehov"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1700486482,"creation_date":1700141680,"question_id":77495276,"body_markdown":"I&#39;ve followed the instructure of this guide: https://nosan.github.io/embedded-cassandra/4.0.7/#what-are-oss-supported-by-embedded-cassandra. \r\nI faced with the issue that library doesn&#39;t support the m1 aarch64 chip. I used the:\r\n - AmazonCorretto OpenJdk 1.8\r\n - Maven builder manager\r\n - Macbook pro 14 m1 chip\r\n\r\npom.xml \r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n    &lt;groupId&gt;org.example&lt;/groupId&gt;\r\n    &lt;artifactId&gt;CassandraTest&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n    \r\n    &lt;properties&gt;\r\n        &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    &lt;/properties&gt;\r\n    \r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.github.nosan&lt;/groupId&gt;\r\n            &lt;artifactId&gt;embedded-cassandra&lt;/artifactId&gt;\r\n            &lt;version&gt;4.0.7&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    \r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.datastax.oss&lt;/groupId&gt;\r\n            &lt;artifactId&gt;java-driver-core&lt;/artifactId&gt;\r\n            &lt;version&gt;4.15.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\n\r\nMain.java\r\n\r\n    package org.example;\r\n    \r\n    import com.datastax.oss.driver.api.core.CqlSession;\r\n    import com.github.nosan.embedded.cassandra.Cassandra;\r\n    import com.github.nosan.embedded.cassandra.CassandraBuilder;\r\n    import com.github.nosan.embedded.cassandra.Settings;\r\n    import com.github.nosan.embedded.cassandra.cql.CqlScript;\r\n    \r\n    import java.net.InetSocketAddress;\r\n    \r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            Cassandra cassandra = new CassandraBuilder()\r\n                    .addJvmOptions(&quot;-Xmx1024m&quot;, &quot;-Xms1024m&quot;, &quot;-Xss700k&quot;)\r\n                    .build();\r\n    \r\n            cassandra.start();\r\n            try {\r\n                Settings settings = cassandra.getSettings();\r\n                try (CqlSession session = CqlSession.builder()\r\n                        .addContactPoint(new InetSocketAddress(settings.getAddress(), settings.getPort()))\r\n                        .withLocalDatacenter(&quot;datacenter1&quot;)\r\n                        .build()) {\r\n                    CqlScript.ofClassPath(&quot;schema.cql&quot;).forEachStatement(session::execute);\r\n                }\r\n            }\r\n            finally {\r\n                cassandra.stop();\r\n            }\r\n        }\r\n    }\r\n\r\nLogs:\r\n\r\n    ERROR [main] 2023-11-16 15:23:50,249 NativeLibraryDarwin.java:64 - Failed to link the C library against JNA. Native methods will be unavailable.\r\n    java.lang.UnsatisfiedLinkError: /Users/pavlo/Library/Caches/JNA/temp/jna5079777972566874879.tmp: dlopen(/Users/pavlo/Library/Caches/JNA/temp/jna5079777972566874879.tmp, 0x0001): tried: &#39;/Users/pavlo/Library/Caches/JNA/temp/jna5079777972566874879.tmp&#39; (fat file, but missing compatible architecture (have &#39;i386,x86_64&#39;, need &#39;arm64&#39;)), &#39;/System/Volumes/Preboot/Cryptexes/OS/Users/pavlo/Library/Caches/JNA/temp/jna5079777972566874879.tmp&#39; (no such file), &#39;/Users/pavlo/Library/Caches/JNA/temp/jna5079777972566874879.tmp&#39; (fat file, but missing compatible architecture (have &#39;i386,x86_64&#39;, need &#39;arm64&#39;))\r\n    \tat java.lang.ClassLoader$NativeLibrary.load(Native Method)\r\n    \tat java.lang.ClassLoader.loadLibrary0(ClassLoader.java:1934)\r\n    \tat java.lang.ClassLoader.loadLibrary(ClassLoader.java:1817)\r\n    \tat java.lang.Runtime.load0(Runtime.java:782)\r\n    \tat java.lang.System.load(System.java:1100)\r\n    \tat com.sun.jna.Native.loadNativeDispatchLibraryFromClasspath(Native.java:1018)\r\n    \tat com.sun.jna.Native.loadNativeDispatchLibrary(Native.java:988)\r\n    \tat com.sun.jna.Native.&lt;clinit&gt;(Native.java:195)\r\n    \tat com.sun.jna.NativeLibrary.&lt;clinit&gt;(NativeLibrary.java:87)\r\n    \tat org.apache.cassandra.utils.NativeLibraryDarwin.&lt;clinit&gt;(NativeLibraryDarwin.java:55)\r\n    \tat org.apache.cassandra.utils.NativeLibrary.&lt;clinit&gt;(NativeLibrary.java:98)\r\n    \tat org.apache.cassandra.service.CassandraDaemon.setup(CassandraDaemon.java:258)\r\n    \tat org.apache.cassandra.service.CassandraDaemon.activate(CassandraDaemon.java:765)\r\n    \tat org.apache.cassandra.service.CassandraDaemon.main(CassandraDaemon.java:889)","title":"Embedded Cassandra doesn&#39;t support the MacOS M1 chip","body":"<p>I've followed the instructure of this guide: <a href=\"https://nosan.github.io/embedded-cassandra/4.0.7/#what-are-oss-supported-by-embedded-cassandra\" rel=\"nofollow noreferrer\">https://nosan.github.io/embedded-cassandra/4.0.7/#what-are-oss-supported-by-embedded-cassandra</a>.\nI faced with the issue that library doesn't support the m1 aarch64 chip. I used the:</p>\n<ul>\n<li>AmazonCorretto OpenJdk 1.8</li>\n<li>Maven builder manager</li>\n<li>Macbook pro 14 m1 chip</li>\n</ul>\n<p>pom.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n     xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n     xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n&lt;groupId&gt;org.example&lt;/groupId&gt;\n&lt;artifactId&gt;CassandraTest&lt;/artifactId&gt;\n&lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n\n&lt;properties&gt;\n    &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\n    &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n&lt;/properties&gt;\n\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.github.nosan&lt;/groupId&gt;\n        &lt;artifactId&gt;embedded-cassandra&lt;/artifactId&gt;\n        &lt;version&gt;4.0.7&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.datastax.oss&lt;/groupId&gt;\n        &lt;artifactId&gt;java-driver-core&lt;/artifactId&gt;\n        &lt;version&gt;4.15.0&lt;/version&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>Main.java</p>\n<pre><code>package org.example;\n\nimport com.datastax.oss.driver.api.core.CqlSession;\nimport com.github.nosan.embedded.cassandra.Cassandra;\nimport com.github.nosan.embedded.cassandra.CassandraBuilder;\nimport com.github.nosan.embedded.cassandra.Settings;\nimport com.github.nosan.embedded.cassandra.cql.CqlScript;\n\nimport java.net.InetSocketAddress;\n\npublic class Main {\n    public static void main(String[] args) {\n        Cassandra cassandra = new CassandraBuilder()\n                .addJvmOptions(&quot;-Xmx1024m&quot;, &quot;-Xms1024m&quot;, &quot;-Xss700k&quot;)\n                .build();\n\n        cassandra.start();\n        try {\n            Settings settings = cassandra.getSettings();\n            try (CqlSession session = CqlSession.builder()\n                    .addContactPoint(new InetSocketAddress(settings.getAddress(), settings.getPort()))\n                    .withLocalDatacenter(&quot;datacenter1&quot;)\n                    .build()) {\n                CqlScript.ofClassPath(&quot;schema.cql&quot;).forEachStatement(session::execute);\n            }\n        }\n        finally {\n            cassandra.stop();\n        }\n    }\n}\n</code></pre>\n<p>Logs:</p>\n<pre><code>ERROR [main] 2023-11-16 15:23:50,249 NativeLibraryDarwin.java:64 - Failed to link the C library against JNA. Native methods will be unavailable.\njava.lang.UnsatisfiedLinkError: /Users/pavlo/Library/Caches/JNA/temp/jna5079777972566874879.tmp: dlopen(/Users/pavlo/Library/Caches/JNA/temp/jna5079777972566874879.tmp, 0x0001): tried: '/Users/pavlo/Library/Caches/JNA/temp/jna5079777972566874879.tmp' (fat file, but missing compatible architecture (have 'i386,x86_64', need 'arm64')), '/System/Volumes/Preboot/Cryptexes/OS/Users/pavlo/Library/Caches/JNA/temp/jna5079777972566874879.tmp' (no such file), '/Users/pavlo/Library/Caches/JNA/temp/jna5079777972566874879.tmp' (fat file, but missing compatible architecture (have 'i386,x86_64', need 'arm64'))\n    at java.lang.ClassLoader$NativeLibrary.load(Native Method)\n    at java.lang.ClassLoader.loadLibrary0(ClassLoader.java:1934)\n    at java.lang.ClassLoader.loadLibrary(ClassLoader.java:1817)\n    at java.lang.Runtime.load0(Runtime.java:782)\n    at java.lang.System.load(System.java:1100)\n    at com.sun.jna.Native.loadNativeDispatchLibraryFromClasspath(Native.java:1018)\n    at com.sun.jna.Native.loadNativeDispatchLibrary(Native.java:988)\n    at com.sun.jna.Native.&lt;clinit&gt;(Native.java:195)\n    at com.sun.jna.NativeLibrary.&lt;clinit&gt;(NativeLibrary.java:87)\n    at org.apache.cassandra.utils.NativeLibraryDarwin.&lt;clinit&gt;(NativeLibraryDarwin.java:55)\n    at org.apache.cassandra.utils.NativeLibrary.&lt;clinit&gt;(NativeLibrary.java:98)\n    at org.apache.cassandra.service.CassandraDaemon.setup(CassandraDaemon.java:258)\n    at org.apache.cassandra.service.CassandraDaemon.activate(CassandraDaemon.java:765)\n    at org.apache.cassandra.service.CassandraDaemon.main(CassandraDaemon.java:889)\n</code></pre>\n"},{"tags":["java","spring-boot","class","dto","mapstruct"],"comments":[{"owner":{"account_id":4294979,"reputation":914,"user_id":3510285,"display_name":"Hatice"},"score":0,"creation_date":1595425051,"post_id":63034956,"comment_id":111469696,"body_markdown":"Did you use  mvn -clean install to generate the classes? Could you check that what does you have under target/generated-sources ?","body":"Did you use  mvn -clean install to generate the classes? Could you check that what does you have under target/generated-sources ?"},{"owner":{"account_id":15991228,"reputation":669,"user_id":12091152,"display_name":"Artur Vartanyan"},"score":0,"creation_date":1595425647,"post_id":63034956,"comment_id":111470092,"body_markdown":"Not. I do not use. How can I see this?","body":"Not. I do not use. How can I see this?"},{"owner":{"account_id":2563377,"reputation":7174,"user_id":2224047,"display_name":"Nikolai  Shevchenko"},"score":0,"creation_date":1595427877,"post_id":63034956,"comment_id":111471562,"body_markdown":"You don&#39;t need separate `@Mapping`s on method `List&lt;DrinkDTO&gt; drinksToDrinksDTO(List&lt;Drink&gt; drinks)` as mapping rules are implicitly inherited from `drinkToDrinkDTO` method","body":"You don&#39;t need separate <code>@Mapping</code>s on method <code>List&lt;DrinkDTO&gt; drinksToDrinksDTO(List&lt;Drink&gt; drinks)</code> as mapping rules are implicitly inherited from <code>drinkToDrinkDTO</code> method"},{"owner":{"account_id":2563377,"reputation":7174,"user_id":2224047,"display_name":"Nikolai  Shevchenko"},"score":0,"creation_date":1595427958,"post_id":63034956,"comment_id":111471603,"body_markdown":"Also this link might be helpful: https://stackoverflow.com/questions/47676369/mapstruct-and-lombok-not-working-together","body":"Also this link might be helpful: <a href=\"https://stackoverflow.com/questions/47676369/mapstruct-and-lombok-not-working-together\" title=\"mapstruct and lombok not working together\">stackoverflow.com/questions/47676369/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":18167114,"reputation":76,"user_id":13217476,"display_name":"swipppp"},"comment_count":0,"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1595429432,"creation_date":1595429432,"answer_id":63037079,"question_id":63034956,"body_markdown":"Try add a uses parameter in @Mapper annotation if you also have PackakingMapper, CoutriesMapper ... , like this:\r\n\r\n    @Mapper(uses = {PackagingMapper.class, CountriesMapper.class, ManufacturerMapper.class})\r\n    public interface DrinkMapper{\r\n        ....\r\n    }","title":"@MAPSTRUCT. No property named &quot;packaging&quot; exists in source parameter(s)","body":"<p>Try add a uses parameter in @Mapper annotation if you also have PackakingMapper, CoutriesMapper ... , like this:</p>\n<pre><code>@Mapper(uses = {PackagingMapper.class, CountriesMapper.class, ManufacturerMapper.class})\npublic interface DrinkMapper{\n    ....\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15991228,"reputation":669,"user_id":12091152,"display_name":"Artur Vartanyan"},"comment_count":0,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1595438158,"creation_date":1595438158,"answer_id":63039740,"question_id":63034956,"body_markdown":"Steps:\r\n\r\n1) Generate `Getters / Setters` for `Drink` and `DrinkDTO` classes(maybe without `Lombok`).\r\n\r\n2) Build project with `Gradle` Task: `Build`\r\n\r\n3) Start project!","title":"@MAPSTRUCT. No property named &quot;packaging&quot; exists in source parameter(s)","body":"<p>Steps:</p>\n<ol>\n<li><p>Generate <code>Getters / Setters</code> for <code>Drink</code> and <code>DrinkDTO</code> classes(maybe without <code>Lombok</code>).</p>\n</li>\n<li><p>Build project with <code>Gradle</code> Task: <code>Build</code></p>\n</li>\n<li><p>Start project!</p>\n</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":1023013,"reputation":16655,"user_id":1032890,"accept_rate":100,"display_name":"GeertPt"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1595439838,"creation_date":1595439838,"answer_id":63040212,"question_id":63034956,"body_markdown":"The error comes from the fact that you tried to map properties from `List&lt;&gt;` objects, but those don&#39;t exist. Mapstruct is smart enough to generate mappers between lists, provided it knows how to map the elements inside the list.\r\n\r\nSo you don&#39;t need to specify `@Mapping` annotations on the list-to-list mapping. Mapstruct will use the `drinkToDrinkDTO` mapping method automatically.\r\n\r\n    @Mapping(...)\r\n    DrinkDTO drinkToDrinkDTO(Drink drink);\r\n\r\n    List&lt;DrinkDTO&gt; drinksToDrinksDTO(List&lt;Drink&gt; drinks);","title":"@MAPSTRUCT. No property named &quot;packaging&quot; exists in source parameter(s)","body":"<p>The error comes from the fact that you tried to map properties from <code>List&lt;&gt;</code> objects, but those don't exist. Mapstruct is smart enough to generate mappers between lists, provided it knows how to map the elements inside the list.</p>\n<p>So you don't need to specify <code>@Mapping</code> annotations on the list-to-list mapping. Mapstruct will use the <code>drinkToDrinkDTO</code> mapping method automatically.</p>\n<pre><code>@Mapping(...)\nDrinkDTO drinkToDrinkDTO(Drink drink);\n\nList&lt;DrinkDTO&gt; drinksToDrinksDTO(List&lt;Drink&gt; drinks);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2291349,"reputation":323,"user_id":2014060,"display_name":"Paul"},"score":0,"creation_date":1637060455,"post_id":69649688,"comment_id":123718848,"body_markdown":"The ordering did not seem to do the trick for me, but adding this annotation processor as well did:\n`&lt;path&gt;\n&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n&lt;artifactId&gt;lombok-mapstruct-binding&lt;/artifactId&gt;\n&lt;version&gt;0.2.0&lt;/version&gt;\n&lt;/path&gt;`","body":"The ordering did not seem to do the trick for me, but adding this annotation processor as well did: <code>&lt;path&gt; &lt;groupId&gt;org.projectlombok&lt;&#47;groupId&gt; &lt;artifactId&gt;lombok-mapstruct-binding&lt;&#47;artifactId&gt; &lt;version&gt;0.2.0&lt;&#47;version&gt; &lt;&#47;path&gt;</code>"},{"owner":{"account_id":17436819,"reputation":97,"user_id":12639646,"display_name":"Daki"},"score":0,"creation_date":1652881718,"post_id":69649688,"comment_id":127714370,"body_markdown":"I had a problem with the warning from the original question being shown in Netbeans IDE although I am using the `lombok-mapstruct-binding`.\n\nA similar issue appeared when using &quot;Mapping Composition&quot; from Mapstruct.\nBoth issues showed a problem in Netbeans&#39; code editor, but were not stopping the project from being compiled and running without problems.\n\nWhat solved these issues for me was ordering the `&lt;annotationProcessorPaths&gt;` like:\n1. Lombok\n2. Mapstruct-processor \n3. Lombok-mapstruct-binding","body":"I had a problem with the warning from the original question being shown in Netbeans IDE although I am using the <code>lombok-mapstruct-binding</code>.  A similar issue appeared when using &quot;Mapping Composition&quot; from Mapstruct. Both issues showed a problem in Netbeans&#39; code editor, but were not stopping the project from being compiled and running without problems.  What solved these issues for me was ordering the <code>&lt;annotationProcessorPaths&gt;</code> like: 1. Lombok 2. Mapstruct-processor  3. Lombok-mapstruct-binding"},{"owner":{"account_id":7919693,"reputation":1311,"user_id":5981077,"display_name":"ColdFire"},"score":0,"creation_date":1664230018,"post_id":69649688,"comment_id":130419477,"body_markdown":"I had the same issue, the trick is working for me","body":"I had the same issue, the trick is working for me"},{"owner":{"account_id":441129,"reputation":2872,"user_id":831061,"accept_rate":75,"display_name":"luso"},"score":1,"creation_date":1667775336,"post_id":69649688,"comment_id":131241641,"body_markdown":"Thanks for that one. Worked for me as well and save me some headache","body":"Thanks for that one. Worked for me as well and save me some headache"},{"owner":{"account_id":1940367,"reputation":2955,"user_id":1746685,"accept_rate":86,"display_name":"observer"},"score":1,"creation_date":1673279485,"post_id":69649688,"comment_id":132457633,"body_markdown":"After lots of searching, this finally helped. Thanks for sharing!","body":"After lots of searching, this finally helped. Thanks for sharing!"},{"owner":{"account_id":6316469,"reputation":185,"user_id":4906230,"display_name":"astar"},"score":1,"creation_date":1697807276,"post_id":69649688,"comment_id":136329643,"body_markdown":"Thanks for sharing! It solved my same issue...","body":"Thanks for sharing! It solved my same issue..."}],"tags":[],"owner":{"account_id":18179826,"reputation":1213,"user_id":13227834,"display_name":"Jakub SÅ‚owikowski"},"comment_count":6,"down_vote_count":0,"up_vote_count":86,"is_accepted":false,"score":86,"last_activity_date":1648474802,"creation_date":1634746959,"answer_id":69649688,"question_id":63034956,"body_markdown":"For those, who have the same issue when using `mapstruct` + `lombok`:\r\n\r\nI had the same issue. The reason was that I&#39;ve been using `Lombok` plugin too.\r\nThere&#39;s **no need** to remove it, but you have to ensure that in `pom.xml` in `&lt;annotationProcessorPaths&gt;` Lombok tag is before the Mapstruct one.\r\n\r\nExample (part of pom.xml file):\r\n\r\n    &lt;build&gt;\r\n    \t\t&lt;pluginManagement&gt;\r\n    \t\t\t&lt;plugins&gt;\r\n    \t            &lt;plugin&gt;\r\n    \t                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    \t                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n    \t                &lt;version&gt;3.8.1&lt;/version&gt;\r\n    \t                &lt;configuration&gt;\r\n    \t                    &lt;source&gt;${java.version}&lt;/source&gt;\r\n    \t                    &lt;target&gt;${java.version}&lt;/target&gt;\r\n    \t                    &lt;encoding&gt;${project.build.sourceEncoding}&lt;/encoding&gt;\r\n    \t\t\t\t\t\t&lt;annotationProcessorPaths&gt;\r\n    \t\t\t\t\t\t\t&lt;path&gt;\r\n    \t\t\t\t\t\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt; &lt;!-- IMPORTANT - LOMBOK BEFORE MAPSTRUCT --&gt;\r\n    \t\t\t\t\t\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n    \t\t\t\t\t\t\t\t&lt;version&gt;${lombok.version}&lt;/version&gt;\r\n    \t\t\t\t\t\t\t&lt;/path&gt;\r\n    \t\t\t\t\t\t\t&lt;path&gt;\r\n    \t\t\t\t\t\t\t\t&lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\r\n    \t\t\t\t\t\t\t\t&lt;artifactId&gt;mapstruct-processor&lt;/artifactId&gt;\r\n    \t\t\t\t\t\t\t\t&lt;version&gt;${org.mapstruct.version}&lt;/version&gt;\r\n    \t\t\t\t\t\t\t&lt;/path&gt;\r\n    \t\t\t\t\t\t&lt;/annotationProcessorPaths&gt;\r\n    \t                &lt;/configuration&gt;\r\n    \t            &lt;/plugin&gt;\r\n    \t\t\t&lt;/plugins&gt;\r\n    \t\t&lt;/pluginManagement&gt;\r\n        &lt;/build&gt;","title":"@MAPSTRUCT. No property named &quot;packaging&quot; exists in source parameter(s)","body":"<p>For those, who have the same issue when using <code>mapstruct</code> + <code>lombok</code>:</p>\n<p>I had the same issue. The reason was that I've been using <code>Lombok</code> plugin too.\nThere's <strong>no need</strong> to remove it, but you have to ensure that in <code>pom.xml</code> in <code>&lt;annotationProcessorPaths&gt;</code> Lombok tag is before the Mapstruct one.</p>\n<p>Example (part of pom.xml file):</p>\n<pre><code>&lt;build&gt;\n        &lt;pluginManagement&gt;\n            &lt;plugins&gt;\n                &lt;plugin&gt;\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;3.8.1&lt;/version&gt;\n                    &lt;configuration&gt;\n                        &lt;source&gt;${java.version}&lt;/source&gt;\n                        &lt;target&gt;${java.version}&lt;/target&gt;\n                        &lt;encoding&gt;${project.build.sourceEncoding}&lt;/encoding&gt;\n                        &lt;annotationProcessorPaths&gt;\n                            &lt;path&gt;\n                                &lt;groupId&gt;org.projectlombok&lt;/groupId&gt; &lt;!-- IMPORTANT - LOMBOK BEFORE MAPSTRUCT --&gt;\n                                &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                                &lt;version&gt;${lombok.version}&lt;/version&gt;\n                            &lt;/path&gt;\n                            &lt;path&gt;\n                                &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\n                                &lt;artifactId&gt;mapstruct-processor&lt;/artifactId&gt;\n                                &lt;version&gt;${org.mapstruct.version}&lt;/version&gt;\n                            &lt;/path&gt;\n                        &lt;/annotationProcessorPaths&gt;\n                    &lt;/configuration&gt;\n                &lt;/plugin&gt;\n            &lt;/plugins&gt;\n        &lt;/pluginManagement&gt;\n    &lt;/build&gt;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":5765320,"reputation":927,"user_id":4550461,"display_name":"jmathewt"},"score":0,"creation_date":1674665639,"post_id":70988345,"comment_id":132764542,"body_markdown":"Thanks a lot! I was wondering what was I doing wrong. This was very helpful","body":"Thanks a lot! I was wondering what was I doing wrong. This was very helpful"}],"tags":[],"owner":{"account_id":6197039,"reputation":6332,"user_id":4828060,"accept_rate":21,"display_name":"Jo&#227;o Matos"},"comment_count":1,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1643986209,"creation_date":1643986209,"answer_id":70988345,"question_id":63034956,"body_markdown":"Just to add to @Jakub SÅ‚owikowski answer, the same happens with gradle dependencies. The following order was causing the error:\r\n\r\n    dependencies {    \r\n    ...\r\n    annotationProcessor(&quot;org.mapstruct:mapstruct-processor:${mapstructVersion}&quot;)\r\n    \r\n    annotationProcessor(&quot;org.projectlombok:lombok:${lombokVersion}&quot;)\r\n    ...\r\n    }\r\n\r\nhence I was forced to switch the order:\r\n\r\n    dependencies {    \r\n    ...\r\n    annotationProcessor(&quot;org.projectlombok:lombok:${lombokVersion}&quot;)\r\n        \r\n    annotationProcessor(&quot;org.mapstruct:mapstruct-processor:${mapstructVersion}&quot;)\r\n    ...\r\n    }\r\n\r\n","title":"@MAPSTRUCT. No property named &quot;packaging&quot; exists in source parameter(s)","body":"<p>Just to add to @Jakub SÅ‚owikowski answer, the same happens with gradle dependencies. The following order was causing the error:</p>\n<pre><code>dependencies {    \n...\nannotationProcessor(&quot;org.mapstruct:mapstruct-processor:${mapstructVersion}&quot;)\n\nannotationProcessor(&quot;org.projectlombok:lombok:${lombokVersion}&quot;)\n...\n}\n</code></pre>\n<p>hence I was forced to switch the order:</p>\n<pre><code>dependencies {    \n...\nannotationProcessor(&quot;org.projectlombok:lombok:${lombokVersion}&quot;)\n    \nannotationProcessor(&quot;org.mapstruct:mapstruct-processor:${mapstructVersion}&quot;)\n...\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2691023,"reputation":16196,"user_id":2324388,"accept_rate":41,"display_name":"Marian Kl&#252;hspies"},"score":0,"creation_date":1694373185,"post_id":73199265,"comment_id":135879304,"body_markdown":"The irony is, in case Customer is an entity, you shouldn&#39;t use `@Data`","body":"The irony is, in case Customer is an entity, you shouldn&#39;t use <code>@Data</code>"}],"tags":[],"owner":{"account_id":20374643,"reputation":53,"user_id":17939972,"display_name":"94621"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1659385623,"creation_date":1659385623,"answer_id":73199265,"question_id":63034956,"body_markdown":"In my case, the error did not stem from the declaration order of the annotationProcessors but from a missing Lombok annotation.\r\n\r\nI had a mapping for `Customer` to `CustomerDto`, but the `Customer` was missing getters and setters.\r\n``` java\r\nCustomerDto toCustomerDto(Customer customer);\r\n```\r\nWith\r\n``` java\r\n@Data\r\npublic class CustomerDto {\r\n  ...\r\n}\r\n```\r\nand\r\n``` java\r\npublic class Customer {\r\n  ...\r\n}\r\n```\r\nAdding `@Data` to the `Customer` class solved the issue for me.","title":"@MAPSTRUCT. No property named &quot;packaging&quot; exists in source parameter(s)","body":"<p>In my case, the error did not stem from the declaration order of the annotationProcessors but from a missing Lombok annotation.</p>\n<p>I had a mapping for <code>Customer</code> to <code>CustomerDto</code>, but the <code>Customer</code> was missing getters and setters.</p>\n<pre class=\"lang-java prettyprint-override\"><code>CustomerDto toCustomerDto(Customer customer);\n</code></pre>\n<p>With</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Data\npublic class CustomerDto {\n  ...\n}\n</code></pre>\n<p>and</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Customer {\n  ...\n}\n</code></pre>\n<p>Adding <code>@Data</code> to the <code>Customer</code> class solved the issue for me.</p>\n"},{"tags":[],"owner":{"account_id":20717463,"reputation":190,"user_id":15212573,"display_name":"roudlek"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683399058,"creation_date":1683399058,"answer_id":76190581,"question_id":63034956,"body_markdown":"**just put lombok dependencie as first dependencie in your pom.xml file**\r\n\r\n**then reload maven project**\r\n\r\nyou don&#39;t need to add mapstruct plugin, i just used **dependencies** \r\n\r\n    \t&lt;dependencies&gt;\r\n\t\t**&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;**\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/org.mapstruct/mapstruct-processor --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mapstruct-processor&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.5.5.Final&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/org.mapstruct/mapstruct --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mapstruct&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.5.5.Final&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n    \r\n    \t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;excludes&gt;\r\n\t\t\t\t\t\t&lt;exclude&gt;\r\n\t\t\t\t\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t\t\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t\t\t\t&lt;/exclude&gt;\r\n\t\t\t\t\t&lt;/excludes&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n\r\n**Trust me** \r\n\t\t**you can still use Lombok in your project even if you have excluded it in the Spring Boot Maven plugin configuration.\r\nThe excludes configuration in the plugin simply tells Maven to exclude the specified artifact from the plugin&#39;s classpath. In this case, the lombok artifact is being excluded from the Spring Boot Maven plugin&#39;s classpath, but it is not being excluded from your project&#39;s classpath.**","title":"@MAPSTRUCT. No property named &quot;packaging&quot; exists in source parameter(s)","body":"<p><strong>just put lombok dependencie as first dependencie in your pom.xml file</strong></p>\n<p><strong>then reload maven project</strong></p>\n<p>you don't need to add mapstruct plugin, i just used <strong>dependencies</strong></p>\n<pre><code>    &lt;dependencies&gt;\n    **&lt;dependency&gt;\n        &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n        &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n        &lt;optional&gt;true&lt;/optional&gt;\n    &lt;/dependency&gt;**\n    &lt;!-- https://mvnrepository.com/artifact/org.mapstruct/mapstruct-processor --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\n        &lt;artifactId&gt;mapstruct-processor&lt;/artifactId&gt;\n        &lt;version&gt;1.5.5.Final&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;!-- https://mvnrepository.com/artifact/org.mapstruct/mapstruct --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\n        &lt;artifactId&gt;mapstruct&lt;/artifactId&gt;\n        &lt;version&gt;1.5.5.Final&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;configuration&gt;\n                &lt;excludes&gt;\n                    &lt;exclude&gt;\n                        &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                        &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                    &lt;/exclude&gt;\n                &lt;/excludes&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n<p><strong>Trust me</strong>\n<strong>you can still use Lombok in your project even if you have excluded it in the Spring Boot Maven plugin configuration.\nThe excludes configuration in the plugin simply tells Maven to exclude the specified artifact from the plugin's classpath. In this case, the lombok artifact is being excluded from the Spring Boot Maven plugin's classpath, but it is not being excluded from your project's classpath.</strong></p>\n"},{"comments":[{"owner":{"account_id":2691023,"reputation":16196,"user_id":2324388,"accept_rate":41,"display_name":"Marian Kl&#252;hspies"},"score":0,"creation_date":1694373079,"post_id":76424544,"comment_id":135879283,"body_markdown":"That would be flaky af if the order of dependencies would matter. In my case it does not help using Gradle and I&#39;m glad it did not help. Are you using Maven?","body":"That would be flaky af if the order of dependencies would matter. In my case it does not help using Gradle and I&#39;m glad it did not help. Are you using Maven?"},{"owner":{"account_id":22585429,"reputation":286,"user_id":16769477,"display_name":"Jay Yadav"},"score":0,"creation_date":1694404333,"post_id":76424544,"comment_id":135881716,"body_markdown":"Yes I am using Maven","body":"Yes I am using Maven"},{"owner":{"account_id":2691023,"reputation":16196,"user_id":2324388,"accept_rate":41,"display_name":"Marian Kl&#252;hspies"},"score":0,"creation_date":1694414230,"post_id":76424544,"comment_id":135882675,"body_markdown":"I have found out that it is really the same with Gradle as well after reading the other answers and I had to forgot to re-arrange the `testAnnotationProcessors` as well. Seems to really be the issue","body":"I have found out that it is really the same with Gradle as well after reading the other answers and I had to forgot to re-arrange the <code>testAnnotationProcessors</code> as well. Seems to really be the issue"}],"tags":[],"owner":{"account_id":22585429,"reputation":286,"user_id":16769477,"display_name":"Jay Yadav"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686149025,"creation_date":1686149025,"answer_id":76424544,"question_id":63034956,"body_markdown":"For those, who have the same issue when using `mapstruct + lombok` &lt;br/&gt;\r\n&lt;b&gt;Adding lombok before mapstruct works as&lt;/b&gt;\r\nBoth `lombok` &amp; `Mapstruct` are based on `annotation-processor`, and mapstruct depends on getter &amp; setter generated from lombok to generate the Mapper implementation. On changing the order lombok getter &amp; setter are created first which are then used by mapstruct, so that why changin g order of `annotationProcessor` works !!","title":"@MAPSTRUCT. No property named &quot;packaging&quot; exists in source parameter(s)","body":"<p>For those, who have the same issue when using <code>mapstruct + lombok</code> <br/>\n<b>Adding lombok before mapstruct works as</b>\nBoth <code>lombok</code> &amp; <code>Mapstruct</code> are based on <code>annotation-processor</code>, and mapstruct depends on getter &amp; setter generated from lombok to generate the Mapper implementation. On changing the order lombok getter &amp; setter are created first which are then used by mapstruct, so that why changin g order of <code>annotationProcessor</code> works !!</p>\n"},{"tags":[],"owner":{"account_id":17756808,"reputation":11,"user_id":12893738,"display_name":"edmangini76"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687328592,"creation_date":1686921599,"answer_id":76490603,"question_id":63034956,"body_markdown":"I ran into this as well, and the culprit was the use of \r\n\r\n    @Accessors(fluent=true)\r\n\r\non my Entity classes. Serves me right for using experimental Lombok features! :) ","title":"@MAPSTRUCT. No property named &quot;packaging&quot; exists in source parameter(s)","body":"<p>I ran into this as well, and the culprit was the use of</p>\n<pre><code>@Accessors(fluent=true)\n</code></pre>\n<p>on my Entity classes. Serves me right for using experimental Lombok features! :)</p>\n"},{"tags":[],"owner":{"account_id":28674951,"reputation":1,"user_id":21957231,"display_name":"ravi552"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687268124,"creation_date":1687156650,"answer_id":76504160,"question_id":63034956,"body_markdown":"I was not sure if this problem still coming for anyone.\r\nI have encountered the same problem and the issue is due to invalid mappings.\r\nAs in your case to map the packaging_id in the map struct interface you should mention like \r\n```java\r\n@Mapping(source = &quot;packaging.field_name&quot; target = &quot;drinkPackaging&quot;)\r\n```\r\nhere packaging is the field name of `Packaging` entity and `field_name` is whatever the field you want to assign which is declared in your packaging entity.\r\nThe naming conventions should match exactly means the field name in your entity should be the same as in your mapper interface source attribute.","title":"@MAPSTRUCT. No property named &quot;packaging&quot; exists in source parameter(s)","body":"<p>I was not sure if this problem still coming for anyone.\nI have encountered the same problem and the issue is due to invalid mappings.\nAs in your case to map the packaging_id in the map struct interface you should mention like</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Mapping(source = &quot;packaging.field_name&quot; target = &quot;drinkPackaging&quot;)\n</code></pre>\n<p>here packaging is the field name of <code>Packaging</code> entity and <code>field_name</code> is whatever the field you want to assign which is declared in your packaging entity.\nThe naming conventions should match exactly means the field name in your entity should be the same as in your mapper interface source attribute.</p>\n"},{"tags":[],"owner":{"account_id":21395683,"reputation":1553,"user_id":15758781,"display_name":"Lunatic"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700486326,"creation_date":1699978473,"answer_id":77482180,"question_id":63034956,"body_markdown":"\r\n\r\n&gt; For people who asking ****Why**** (not only looking for the code - [Jakub][1] answer was correct)\r\n\r\nLombok generates(actually modifies as tree node exploit to Tokenize stream for modifying the AST) constructors and methods at compile-time using a Java annotations processor and [Abstract Syntax Tree][2], MapStruct having almost the same mechanism (its way simpler cause of the fact it actually generates new nodes instead of node exploit) for generating concrete mapping implementation but it  uses constructors to create instances of target and source objects during mapping.  If it can&#39;t find constructor for the entity classes, it results in an ambiguous constructors in compilation time, they way to overcome this exception is to first let constructors being created before Mapstruct accessing them, which can be achieved by adding Lombok path before Mpastruct within &lt;annotationProcessorPaths&gt; in [Maven Compiler][3] plugin (if its your build system, for Gradle same concept holds).\r\n\r\n\r\n\r\n    &lt;plugin&gt;\r\n      &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n      &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n      &lt;configuration&gt;\r\n        ...\r\n        &lt;annotationProcessorPaths&gt;\r\n          &lt;path&gt;\r\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n          &lt;/path&gt;\r\n          &lt;path&gt;\r\n            &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mapstruct-processor&lt;/artifactId&gt;\r\n          &lt;/path&gt;\r\n        &lt;/annotationProcessorPaths&gt;\r\n        ...\r\n      &lt;/configuration&gt;\r\n    &lt;/plugin&gt;\r\n\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/69649688/15758781\r\n  [2]: https://research.google/pubs/pub37352/\r\n  [3]: https://maven.apache.org/plugins/maven-compiler-plugin/","title":"@MAPSTRUCT. No property named &quot;packaging&quot; exists in source parameter(s)","body":"<blockquote>\n<p>For people who asking <strong><strong>Why</strong></strong> (not only looking for the code - <a href=\"https://stackoverflow.com/a/69649688/15758781\">Jakub</a> answer was correct)</p>\n</blockquote>\n<p>Lombok generates(actually modifies as tree node exploit to Tokenize stream for modifying the AST) constructors and methods at compile-time using a Java annotations processor and <a href=\"https://research.google/pubs/pub37352/\" rel=\"nofollow noreferrer\">Abstract Syntax Tree</a>, MapStruct having almost the same mechanism (its way simpler cause of the fact it actually generates new nodes instead of node exploit) for generating concrete mapping implementation but it  uses constructors to create instances of target and source objects during mapping.  If it can't find constructor for the entity classes, it results in an ambiguous constructors in compilation time, they way to overcome this exception is to first let constructors being created before Mapstruct accessing them, which can be achieved by adding Lombok path before Mpastruct within  in <a href=\"https://maven.apache.org/plugins/maven-compiler-plugin/\" rel=\"nofollow noreferrer\">Maven Compiler</a> plugin (if its your build system, for Gradle same concept holds).</p>\n<pre><code>&lt;plugin&gt;\n  &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n  &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n  &lt;configuration&gt;\n    ...\n    &lt;annotationProcessorPaths&gt;\n      &lt;path&gt;\n        &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n        &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n      &lt;/path&gt;\n      &lt;path&gt;\n        &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\n        &lt;artifactId&gt;mapstruct-processor&lt;/artifactId&gt;\n      &lt;/path&gt;\n    &lt;/annotationProcessorPaths&gt;\n    ...\n  &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n"}],"owner":{"account_id":15991228,"reputation":669,"user_id":12091152,"display_name":"Artur Vartanyan"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":33139,"favorite_count":0,"down_vote_count":0,"up_vote_count":26,"accepted_answer_id":63040212,"answer_count":11,"score":26,"last_activity_date":1700486326,"creation_date":1595423275,"question_id":63034956,"body_markdown":"I am writing an `MVC` `REST` application with `Spring Boot` and `Hibernate`. I decided to do `DTO` mapping using `MAPSTRUCT`. It seems that I did everything according to the guide, but an error is issued. What is the problem, I cannot understand. There is very little information on forums and on google.\r\n\r\nP.S. At first I thought that the problem was in `Lombok`, so I removed `Lombok` and manually assigned `getters / setters`. Then the problem was not solved. I took both in the `Drink` class and in the `DrinkDTO` I prescribed `getters / setters`. It still didn&#39;t help.\r\n\r\n\r\nDrink:\r\n```java\r\n@Entity\r\n@Table(name = &quot;drink&quot;, schema = &quot;public&quot;)\r\npublic class Drink {\r\n\r\n    public Drink() { // Constructor for Hibernate\r\n\r\n    }\r\n\r\n\r\n    // Fields\r\n    //\r\n    private @Id\r\n    @GeneratedValue\r\n    Long id;\r\n\r\n    @Column(name = &quot;name&quot;)\r\n    private String name;\r\n\r\n    @Column(name = &quot;price&quot;)\r\n    private float price;\r\n\r\n    @Column(name = &quot;about&quot;)\r\n    private String about;\r\n\r\n    @Column(name = &quot;is_deleted&quot;)\r\n    private boolean isDeleted;\r\n\r\n    // Relationships\r\n    //\r\n    @ManyToOne\r\n    @JoinColumn(name = &quot;packaging_id&quot;)\r\n    private Packaging packaging;\r\n\r\n    @ManyToOne\r\n    @JoinColumn(name = &quot;manufacturer_id&quot;)\r\n    private Manufacturer manufacturer;\r\n\r\n    @ManyToOne\r\n    @JoinColumn(name = &quot;country_id&quot;)\r\n    private Countries countries;\r\n}\r\n```\r\n\r\nDrinkDTO:\r\n```java\r\npublic class DrinkDTO {\r\n\r\n    // Fields\r\n    //\r\n    private String drinkName;\r\n\r\n    private float drinkPrice;\r\n\r\n    private String drinkAbout;\r\n\r\n    private Packaging drinkPackaging;\r\n\r\n    private Manufacturer drinkManufacturer;\r\n\r\n    private Countries drinkCountries;\r\n\r\n\r\n    // Getters and Setters\r\n    //\r\n    public String getDrinkName() {\r\n        return drinkName;\r\n    }\r\n\r\n    public void setDrinkName(String drinkName) {\r\n        this.drinkName = drinkName;\r\n    }\r\n\r\n    public float getDrinkPrice() {\r\n        return drinkPrice;\r\n    }\r\n\r\n    public void setDrinkPrice(float drinkPrice) {\r\n        this.drinkPrice = drinkPrice;\r\n    }\r\n\r\n    public String getDrinkAbout() {\r\n        return drinkAbout;\r\n    }\r\n\r\n    public void setDrinkAbout(String drinkAbout) {\r\n        this.drinkAbout = drinkAbout;\r\n    }\r\n\r\n    public Packaging getDrinkPackaging() {\r\n        return drinkPackaging;\r\n    }\r\n\r\n    public void setDrinkPackaging(Packaging drinkPackaging) {\r\n        this.drinkPackaging = drinkPackaging;\r\n    }\r\n\r\n    public Manufacturer getDrinkManufacturer() {\r\n        return drinkManufacturer;\r\n    }\r\n\r\n    public void setDrinkManufacturer(Manufacturer drinkManufacturer) {\r\n        this.drinkManufacturer = drinkManufacturer;\r\n    }\r\n\r\n    public Countries getDrinkCountries() {\r\n        return drinkCountries;\r\n    }\r\n\r\n    public void setDrinkCountries(Countries drinkCountries) {\r\n        this.drinkCountries = drinkCountries;\r\n    }\r\n\r\n    // toSTRING\r\n    @Override\r\n    public String toString() {\r\n        return &quot;DrinkDTO{&quot; +\r\n                &quot;drinkName=&#39;&quot; + drinkName + &#39;\\&#39;&#39; +\r\n                &quot;, drinkPrice=&quot; + drinkPrice +\r\n                &quot;, drinkAbout=&#39;&quot; + drinkAbout + &#39;\\&#39;&#39; +\r\n                &quot;, drinkPackaging=&quot; + drinkPackaging +\r\n                &quot;, drinkManufacturer=&quot; + drinkManufacturer +\r\n                &quot;, drinkCountries=&quot; + drinkCountries +\r\n                &#39;}&#39;;\r\n    }\r\n```\r\n\r\nCustomerController:\r\n```java\r\n@GetMapping(&quot;/drinks&quot;)\r\n    List&lt;DrinkDTO&gt; getAllDrinks(){\r\n        return DrinkMapper.INSTANCE.drinksToDrinksDTO(customerService.getAllDrinks());\r\n    }\r\n```\r\n\r\nBUILD.GRADLE\r\n```java\r\n// Mapstruct\r\n    implementation &#39;org.mapstruct:mapstruct:1.3.1.Final&#39;\r\n    annotationProcessor &#39;org.mapstruct:mapstruct-processor:1.3.1.Final&#39;\r\n```\r\n\r\nDrinkMapper:\r\n```java\r\n@Mapper\r\npublic interface DrinkMapper {\r\n\r\n    DrinkMapper INSTANCE = Mappers.getMapper(DrinkMapper.class);\r\n\r\n    @Mapping(source = &quot;name&quot;, target = &quot;drinkName&quot;)\r\n    @Mapping(source = &quot;price&quot;, target = &quot;drinkPrice&quot;)\r\n    @Mapping(source = &quot;about&quot;, target = &quot;drinkAbout&quot;)\r\n    @Mapping(source = &quot;packaging&quot;, target = &quot;drinkPackaging&quot;)\r\n    @Mapping(source = &quot;manufacturer&quot;, target = &quot;drinkManufacturer&quot;)\r\n    @Mapping(source = &quot;countries&quot;, target = &quot;drinkCountries&quot;)\r\n    DrinkDTO drinkToDrinkDTO(Drink drink);\r\n\r\n    @Mapping(source = &quot;drinkName&quot;, target = &quot;name&quot;)\r\n    @Mapping(source = &quot;drinkPrice&quot;, target = &quot;price&quot;)\r\n    @Mapping(source = &quot;drinkAbout&quot;, target = &quot;about&quot;)\r\n    @Mapping(source = &quot;drinkPackaging&quot;, target = &quot;packaging&quot;)\r\n    @Mapping(source = &quot;manufacturer&quot;, target = &quot;drinkManufacturer&quot;)\r\n    @Mapping(source = &quot;countries&quot;, target = &quot;drinkCountries&quot;)\r\n    Drink drinkDTOtoDrink(DrinkDTO drinkDTO);\r\n\r\n    @Mapping(source = &quot;name&quot;, target = &quot;drinkName&quot;)\r\n    @Mapping(source = &quot;price&quot;, target = &quot;drinkPrice&quot;)\r\n    @Mapping(source = &quot;about&quot;, target = &quot;drinkAbout&quot;)\r\n    @Mapping(source = &quot;packaging&quot;, target = &quot;drinkPackaging&quot;)\r\n    @Mapping(source = &quot;manufacturer&quot;, target = &quot;drinkManufacturer&quot;)\r\n    @Mapping(source = &quot;countries&quot;, target = &quot;drinkCountries&quot;)\r\n    List&lt;DrinkDTO&gt; drinksToDrinksDTO(List&lt;Drink&gt; drinks);\r\n}\r\n```\r\n\r\nERRORS:\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/yRFFt.png\r\n","title":"@MAPSTRUCT. No property named &quot;packaging&quot; exists in source parameter(s)","body":"<p>I am writing an <code>MVC</code> <code>REST</code> application with <code>Spring Boot</code> and <code>Hibernate</code>. I decided to do <code>DTO</code> mapping using <code>MAPSTRUCT</code>. It seems that I did everything according to the guide, but an error is issued. What is the problem, I cannot understand. There is very little information on forums and on google.</p>\n<p>P.S. At first I thought that the problem was in <code>Lombok</code>, so I removed <code>Lombok</code> and manually assigned <code>getters / setters</code>. Then the problem was not solved. I took both in the <code>Drink</code> class and in the <code>DrinkDTO</code> I prescribed <code>getters / setters</code>. It still didn't help.</p>\n<p>Drink:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Table(name = &quot;drink&quot;, schema = &quot;public&quot;)\npublic class Drink {\n\n    public Drink() { // Constructor for Hibernate\n\n    }\n\n\n    // Fields\n    //\n    private @Id\n    @GeneratedValue\n    Long id;\n\n    @Column(name = &quot;name&quot;)\n    private String name;\n\n    @Column(name = &quot;price&quot;)\n    private float price;\n\n    @Column(name = &quot;about&quot;)\n    private String about;\n\n    @Column(name = &quot;is_deleted&quot;)\n    private boolean isDeleted;\n\n    // Relationships\n    //\n    @ManyToOne\n    @JoinColumn(name = &quot;packaging_id&quot;)\n    private Packaging packaging;\n\n    @ManyToOne\n    @JoinColumn(name = &quot;manufacturer_id&quot;)\n    private Manufacturer manufacturer;\n\n    @ManyToOne\n    @JoinColumn(name = &quot;country_id&quot;)\n    private Countries countries;\n}\n</code></pre>\n<p>DrinkDTO:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class DrinkDTO {\n\n    // Fields\n    //\n    private String drinkName;\n\n    private float drinkPrice;\n\n    private String drinkAbout;\n\n    private Packaging drinkPackaging;\n\n    private Manufacturer drinkManufacturer;\n\n    private Countries drinkCountries;\n\n\n    // Getters and Setters\n    //\n    public String getDrinkName() {\n        return drinkName;\n    }\n\n    public void setDrinkName(String drinkName) {\n        this.drinkName = drinkName;\n    }\n\n    public float getDrinkPrice() {\n        return drinkPrice;\n    }\n\n    public void setDrinkPrice(float drinkPrice) {\n        this.drinkPrice = drinkPrice;\n    }\n\n    public String getDrinkAbout() {\n        return drinkAbout;\n    }\n\n    public void setDrinkAbout(String drinkAbout) {\n        this.drinkAbout = drinkAbout;\n    }\n\n    public Packaging getDrinkPackaging() {\n        return drinkPackaging;\n    }\n\n    public void setDrinkPackaging(Packaging drinkPackaging) {\n        this.drinkPackaging = drinkPackaging;\n    }\n\n    public Manufacturer getDrinkManufacturer() {\n        return drinkManufacturer;\n    }\n\n    public void setDrinkManufacturer(Manufacturer drinkManufacturer) {\n        this.drinkManufacturer = drinkManufacturer;\n    }\n\n    public Countries getDrinkCountries() {\n        return drinkCountries;\n    }\n\n    public void setDrinkCountries(Countries drinkCountries) {\n        this.drinkCountries = drinkCountries;\n    }\n\n    // toSTRING\n    @Override\n    public String toString() {\n        return &quot;DrinkDTO{&quot; +\n                &quot;drinkName='&quot; + drinkName + '\\'' +\n                &quot;, drinkPrice=&quot; + drinkPrice +\n                &quot;, drinkAbout='&quot; + drinkAbout + '\\'' +\n                &quot;, drinkPackaging=&quot; + drinkPackaging +\n                &quot;, drinkManufacturer=&quot; + drinkManufacturer +\n                &quot;, drinkCountries=&quot; + drinkCountries +\n                '}';\n    }\n</code></pre>\n<p>CustomerController:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@GetMapping(&quot;/drinks&quot;)\n    List&lt;DrinkDTO&gt; getAllDrinks(){\n        return DrinkMapper.INSTANCE.drinksToDrinksDTO(customerService.getAllDrinks());\n    }\n</code></pre>\n<p>BUILD.GRADLE</p>\n<pre class=\"lang-java prettyprint-override\"><code>// Mapstruct\n    implementation 'org.mapstruct:mapstruct:1.3.1.Final'\n    annotationProcessor 'org.mapstruct:mapstruct-processor:1.3.1.Final'\n</code></pre>\n<p>DrinkMapper:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Mapper\npublic interface DrinkMapper {\n\n    DrinkMapper INSTANCE = Mappers.getMapper(DrinkMapper.class);\n\n    @Mapping(source = &quot;name&quot;, target = &quot;drinkName&quot;)\n    @Mapping(source = &quot;price&quot;, target = &quot;drinkPrice&quot;)\n    @Mapping(source = &quot;about&quot;, target = &quot;drinkAbout&quot;)\n    @Mapping(source = &quot;packaging&quot;, target = &quot;drinkPackaging&quot;)\n    @Mapping(source = &quot;manufacturer&quot;, target = &quot;drinkManufacturer&quot;)\n    @Mapping(source = &quot;countries&quot;, target = &quot;drinkCountries&quot;)\n    DrinkDTO drinkToDrinkDTO(Drink drink);\n\n    @Mapping(source = &quot;drinkName&quot;, target = &quot;name&quot;)\n    @Mapping(source = &quot;drinkPrice&quot;, target = &quot;price&quot;)\n    @Mapping(source = &quot;drinkAbout&quot;, target = &quot;about&quot;)\n    @Mapping(source = &quot;drinkPackaging&quot;, target = &quot;packaging&quot;)\n    @Mapping(source = &quot;manufacturer&quot;, target = &quot;drinkManufacturer&quot;)\n    @Mapping(source = &quot;countries&quot;, target = &quot;drinkCountries&quot;)\n    Drink drinkDTOtoDrink(DrinkDTO drinkDTO);\n\n    @Mapping(source = &quot;name&quot;, target = &quot;drinkName&quot;)\n    @Mapping(source = &quot;price&quot;, target = &quot;drinkPrice&quot;)\n    @Mapping(source = &quot;about&quot;, target = &quot;drinkAbout&quot;)\n    @Mapping(source = &quot;packaging&quot;, target = &quot;drinkPackaging&quot;)\n    @Mapping(source = &quot;manufacturer&quot;, target = &quot;drinkManufacturer&quot;)\n    @Mapping(source = &quot;countries&quot;, target = &quot;drinkCountries&quot;)\n    List&lt;DrinkDTO&gt; drinksToDrinksDTO(List&lt;Drink&gt; drinks);\n}\n</code></pre>\n<p>ERRORS:\n<a href=\"https://i.stack.imgur.com/yRFFt.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/yRFFt.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","architecture","microservices","hexagonal-architecture"],"owner":{"account_id":10707196,"reputation":369,"user_id":7880595,"accept_rate":86,"display_name":"Phreneticus"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1700486184,"creation_date":1700486184,"question_id":77516174,"body_markdown":"I have read quite a few articles about ports and adapters. Considering communication, they all just speak about communicating between the different &quot;layers&quot; (domain, application, adapters) through ports. \r\n\r\nBut what is the correct approach when I want to communicate between two different adapters? For example, I want to get a document from Elasticsearch and enrich this document by a few values which are stored in S3?\r\n\r\nI remember that a former colleague of mine said that it is ok when adapters communicate directly with each other (that is: call each other&#39;s public methods directly), without using ports. But is that really true ? Where can I find further information on that? And what would be the advantages/disadvantages of using ports for communication within a layer?","title":"Hexagonal architecture/Ports and adapters: Communication between adapters","body":"<p>I have read quite a few articles about ports and adapters. Considering communication, they all just speak about communicating between the different &quot;layers&quot; (domain, application, adapters) through ports.</p>\n<p>But what is the correct approach when I want to communicate between two different adapters? For example, I want to get a document from Elasticsearch and enrich this document by a few values which are stored in S3?</p>\n<p>I remember that a former colleague of mine said that it is ok when adapters communicate directly with each other (that is: call each other's public methods directly), without using ports. But is that really true ? Where can I find further information on that? And what would be the advantages/disadvantages of using ports for communication within a layer?</p>\n"},{"tags":["java","android","kotlin","android-download-manager","android-12"],"owner":{"account_id":29947167,"reputation":1,"user_id":22950192,"display_name":"An&#243;nimo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":2,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700486175,"creation_date":1700472985,"question_id":77514781,"body_markdown":"DownloadManager suddenly **freezes** and stops working for 15-20 min. Downloads remain queued. The weird thing is that it only happens on Android 12 on both physical device and emulator. But on `Andorid 13 and 11` the downloads don&#39;t stop. The application still works without any problems. Maximum number of documents to download 112\r\n\r\nIt&#39;s a Worker that passes a list of documents to `DownloadManager` via a for loop. and the `registerReceiver()` is declared in the context inside the for loop.\r\n\r\nDoes anyone else have this problem?\r\n\r\nThank you very much in advance.","title":"Android 12 Downloadmanager freezes","body":"<p>DownloadManager suddenly <strong>freezes</strong> and stops working for 15-20 min. Downloads remain queued. The weird thing is that it only happens on Android 12 on both physical device and emulator. But on <code>Andorid 13 and 11</code> the downloads don't stop. The application still works without any problems. Maximum number of documents to download 112</p>\n<p>It's a Worker that passes a list of documents to <code>DownloadManager</code> via a for loop. and the <code>registerReceiver()</code> is declared in the context inside the for loop.</p>\n<p>Does anyone else have this problem?</p>\n<p>Thank you very much in advance.</p>\n"},{"tags":["java","assertj"],"comments":[{"owner":{"account_id":187950,"reputation":2035,"user_id":426371,"accept_rate":82,"display_name":"neXus"},"score":0,"creation_date":1508250683,"post_id":46790838,"comment_id":80531831,"body_markdown":"This is a highly simplified example. I encounter the need for this complex assertions mostly when a class contains a collection and I want to do assertions on this inner collection as well.","body":"This is a highly simplified example. I encounter the need for this complex assertions mostly when a class contains a collection and I want to do assertions on this inner collection as well."}],"answers":[{"comments":[{"owner":{"account_id":187950,"reputation":2035,"user_id":426371,"accept_rate":82,"display_name":"neXus"},"score":0,"creation_date":1508249516,"post_id":46792149,"comment_id":80530986,"body_markdown":"This only works if the element assertions are simple. In your answer the `Person`&#39;s `equals` method needs to be implemented correctly and take into account all the values you want, and nothing more. I find this too restrictive. Sometimes I don&#39;t care about other fields. E.g., you could add to a person the shoe size, which would be taken into account in the equals method while in the test I don&#39;t care.","body":"This only works if the element assertions are simple. In your answer the <code>Person</code>&#39;s <code>equals</code> method needs to be implemented correctly and take into account all the values you want, and nothing more. I find this too restrictive. Sometimes I don&#39;t care about other fields. E.g., you could add to a person the shoe size, which would be taken into account in the equals method while in the test I don&#39;t care."}],"tags":[],"owner":{"account_id":446208,"reputation":8611,"user_id":839128,"accept_rate":75,"display_name":"MikeFHay"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1508249159,"creation_date":1508249159,"answer_id":46792149,"question_id":46790838,"body_markdown":"Often I find it&#39;s easier to just express the whole expected collection:\r\n\r\n    assertThat(list).containsOnlyElementsOf(Arrays.asList(\r\n        new Person(&quot;Alice&quot;, &quot;tall&quot;, &quot;brunette&quot;),\r\n        new Person(&quot;Bob&quot;, &quot;tiny&quot;, null)\r\n    )","title":"Using AssertJ, how do I perform complex assertions on the contents of a list?","body":"<p>Often I find it's easier to just express the whole expected collection:</p>\n\n<pre><code>assertThat(list).containsOnlyElementsOf(Arrays.asList(\n    new Person(\"Alice\", \"tall\", \"brunette\"),\n    new Person(\"Bob\", \"tiny\", null)\n)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1407336,"reputation":6523,"user_id":1348834,"display_name":"Joel Costigliola"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1508285857,"creation_date":1508285857,"answer_id":46801021,"question_id":46790838,"body_markdown":"For filtering, you can directly use any flavor of [filteredOn][1], then either [allMatch][2] or [allSatisfy][3] (when I say directly I mean no need to stream your collection in order to filter it).\r\n\r\nI suggest to explore AssertJ API, you have other assertions like [anySatisfy][4] or using [conditions][5] with method like `are`, `areAtLeast`, ...  the vast majority of the API has javadoc with examples to show how to use it.\r\n\r\nAdditionally one can have a look at the [examples][6] in the assertj-examples project.\r\n\r\nHope it helps\r\n\r\n\r\n  [1]: http://joel-costigliola.github.io/assertj/core-8/api/org/assertj/core/api/AbstractIterableAssert.html#filteredOn-java.util.function.Predicate-\r\n  [2]: http://joel-costigliola.github.io/assertj/core-8/api/org/assertj/core/api/AbstractIterableAssert.html#allMatch-java.util.function.Predicate-java.lang.String-\r\n  [3]: http://joel-costigliola.github.io/assertj/core-8/api/org/assertj/core/api/AbstractIterableAssert.html#allSatisfy-java.util.function.Consumer-\r\n  [4]: http://joel-costigliola.github.io/assertj/core-8/api/org/assertj/core/api/AbstractIterableAssert.html#anySatisfy-java.util.function.Consumer-\r\n  [5]: http://joel-costigliola.github.io/assertj/assertj-core-conditions.html\r\n  [6]: https://github.com/joel-costigliola/assertj-examples/tree/master/assertions-examples/src/test/java/org/assertj/examples","title":"Using AssertJ, how do I perform complex assertions on the contents of a list?","body":"<p>For filtering, you can directly use any flavor of <a href=\"http://joel-costigliola.github.io/assertj/core-8/api/org/assertj/core/api/AbstractIterableAssert.html#filteredOn-java.util.function.Predicate-\" rel=\"noreferrer\">filteredOn</a>, then either <a href=\"http://joel-costigliola.github.io/assertj/core-8/api/org/assertj/core/api/AbstractIterableAssert.html#allMatch-java.util.function.Predicate-java.lang.String-\" rel=\"noreferrer\">allMatch</a> or <a href=\"http://joel-costigliola.github.io/assertj/core-8/api/org/assertj/core/api/AbstractIterableAssert.html#allSatisfy-java.util.function.Consumer-\" rel=\"noreferrer\">allSatisfy</a> (when I say directly I mean no need to stream your collection in order to filter it).</p>\n\n<p>I suggest to explore AssertJ API, you have other assertions like <a href=\"http://joel-costigliola.github.io/assertj/core-8/api/org/assertj/core/api/AbstractIterableAssert.html#anySatisfy-java.util.function.Consumer-\" rel=\"noreferrer\">anySatisfy</a> or using <a href=\"http://joel-costigliola.github.io/assertj/assertj-core-conditions.html\" rel=\"noreferrer\">conditions</a> with method like <code>are</code>, <code>areAtLeast</code>, ...  the vast majority of the API has javadoc with examples to show how to use it.</p>\n\n<p>Additionally one can have a look at the <a href=\"https://github.com/joel-costigliola/assertj-examples/tree/master/assertions-examples/src/test/java/org/assertj/examples\" rel=\"noreferrer\">examples</a> in the assertj-examples project.</p>\n\n<p>Hope it helps</p>\n"},{"tags":[],"owner":{"account_id":159637,"reputation":2203,"user_id":379173,"display_name":"Enrico Giurin"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1518710804,"creation_date":1518710804,"answer_id":48811499,"question_id":46790838,"body_markdown":"     @Test\r\n     public void test(){\r\n        assertThat(list).filteredOn(person -&gt; person.getName().equals(&quot;Alice&quot;)).extracting(&quot;size&quot;).first().isEqualTo(&quot;tall&quot;);\r\n        assertThat(list).filteredOn(person -&gt; person.getName().equals(&quot;Alice&quot;)).extracting(&quot;hair&quot;).first().isEqualTo(&quot;brunette&quot;);\r\n        assertThat(list).filteredOn(person -&gt; person.getName().equals(&quot;Bob&quot;)).extracting(&quot;size&quot;).first().isEqualTo(&quot;tiny&quot;);\r\n        assertThat(list).filteredOn(person -&gt; person.getName().equals(&quot;Bob&quot;)).extracting(&quot;hair&quot;).first().isNull();\r\n    }","title":"Using AssertJ, how do I perform complex assertions on the contents of a list?","body":"<pre><code> @Test\n public void test(){\n    assertThat(list).filteredOn(person -&gt; person.getName().equals(\"Alice\")).extracting(\"size\").first().isEqualTo(\"tall\");\n    assertThat(list).filteredOn(person -&gt; person.getName().equals(\"Alice\")).extracting(\"hair\").first().isEqualTo(\"brunette\");\n    assertThat(list).filteredOn(person -&gt; person.getName().equals(\"Bob\")).extracting(\"size\").first().isEqualTo(\"tiny\");\n    assertThat(list).filteredOn(person -&gt; person.getName().equals(\"Bob\")).extracting(\"hair\").first().isNull();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":29948896,"reputation":1,"user_id":22951504,"display_name":"Alex Guesser"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700485277,"creation_date":1700485277,"answer_id":77516087,"question_id":46790838,"body_markdown":"I had a similar need and used the following methods: filteredOn(), first(), returns(), extracting(), asList() and containsExactlyInAnyOrder(). AssertThat is nice because allow you to concatenate all these operations. \r\n\r\n            assertThat(chatMessageReactionDtos)\r\n                .filteredOn(reaction -&gt; reaction.emojiKey().equals(JOY))\r\n                .first()\r\n                .returns(2, ChatMessageReactionDto::count)\r\n                .returns(true, ChatMessageReactionDto::userSelected)\r\n                .extracting(ChatMessageReactionDto::details)\r\n                .asList()\r\n                .containsExactlyInAnyOrder(\r\n                        new ChatMessageReactionDetailDto(\r\n                                reactionJoyUser1.getReactorUser().getId(),\r\n                                reactionJoyUser1.getReaction(),\r\n                                reactionJoyUser1.getUuid().toString(),\r\n                                true\r\n                        ), new ChatMessageReactionDetailDto(\r\n                                reactionJoyUser2.getReactorUser().getId(),\r\n                                reactionJoyUser2.getReaction(),\r\n                                reactionJoyUser2.getUuid().toString(),\r\n                                false\r\n                        )\r\n                );","title":"Using AssertJ, how do I perform complex assertions on the contents of a list?","body":"<p>I had a similar need and used the following methods: filteredOn(), first(), returns(), extracting(), asList() and containsExactlyInAnyOrder(). AssertThat is nice because allow you to concatenate all these operations.</p>\n<pre><code>        assertThat(chatMessageReactionDtos)\n            .filteredOn(reaction -&gt; reaction.emojiKey().equals(JOY))\n            .first()\n            .returns(2, ChatMessageReactionDto::count)\n            .returns(true, ChatMessageReactionDto::userSelected)\n            .extracting(ChatMessageReactionDto::details)\n            .asList()\n            .containsExactlyInAnyOrder(\n                    new ChatMessageReactionDetailDto(\n                            reactionJoyUser1.getReactorUser().getId(),\n                            reactionJoyUser1.getReaction(),\n                            reactionJoyUser1.getUuid().toString(),\n                            true\n                    ), new ChatMessageReactionDetailDto(\n                            reactionJoyUser2.getReactorUser().getId(),\n                            reactionJoyUser2.getReaction(),\n                            reactionJoyUser2.getUuid().toString(),\n                            false\n                    )\n            );\n</code></pre>\n"}],"owner":{"account_id":187950,"reputation":2035,"user_id":426371,"accept_rate":82,"display_name":"neXus"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5003,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":46801021,"answer_count":4,"score":2,"last_activity_date":1700485277,"creation_date":1508245389,"question_id":46790838,"body_markdown":"In AssertJ you can do the following to assert the contents of a list:\r\n\r\n    assertThat(list).extracting(&quot;name&quot;).containsExactlyInAnyOrder(&quot;Alice&quot;, &quot;Bob&quot;);\r\n\r\nI often find myself wanting to do more complex assertions on the elements themselves, e.g., asserting that Alice is a tall brunette and Bob is tiny and bald.\r\nWhat is the best way to do this using AssertJ?\r\n\r\nMy own solution is to do:\r\n\r\n    assertThat(list).extracting(&quot;name&quot;).containsExactlyInAnyOrder(&quot;Alice&quot;, &quot;Bob&quot;);\r\n    list.stream()\r\n\t    .filter(person -&gt; &quot;Alice&quot;.equals(person.getName()))\r\n\t    .forEach(alice -&gt; {\r\n            assertThat(alice).extracting(&quot;size&quot;).isEqualTo(&quot;tall&quot;)\r\n            assertThat(alice).extracting(&quot;hair&quot;).isEqualTo(&quot;brunette&quot;)\r\n        });\r\n    list.stream()\r\n\t    .filter(person -&gt; &quot;Bob&quot;.equals(person.getName()))\r\n\t    .forEach(bob -&gt; {\r\n            assertThat(bob).extracting(&quot;size&quot;).isEqualTo(&quot;tiny&quot;)\r\n            assertThat(bob).extracting(&quot;hair&quot;).isNull()\r\n        });\r\n\r\nor equivalently (java 7) :\r\n\r\n    assertThat(list).extracting(&quot;name&quot;).containsExactlyInAnyOrder(&quot;Alice&quot;, &quot;Bob&quot;);\r\n    for(Person person : list){\r\n        switch (testCase.getName()){\r\n            case &quot;Alice&quot;:\r\n                assertThat(person).extracting(&quot;size&quot;).isEqualTo(&quot;tall&quot;)\r\n                assertThat(person).extracting(&quot;hair&quot;).isEqualTo(&quot;brunette&quot;)\r\n                break;\r\n            case &quot;Bob&quot;:\r\n                assertThat(person).extracting(&quot;size&quot;).isEqualTo(&quot;tiny&quot;)\r\n                assertThat(person).extracting(&quot;hair&quot;).isNull()\r\n                break;\r\n        }\r\n    }\r\n\r\nbut I am wondering if there is a better solution.\r\n\r\nI like the fact that this solution makes a distinction between the expected elements being in the list and the elements themselves being correct.","title":"Using AssertJ, how do I perform complex assertions on the contents of a list?","body":"<p>In AssertJ you can do the following to assert the contents of a list:</p>\n\n<pre><code>assertThat(list).extracting(\"name\").containsExactlyInAnyOrder(\"Alice\", \"Bob\");\n</code></pre>\n\n<p>I often find myself wanting to do more complex assertions on the elements themselves, e.g., asserting that Alice is a tall brunette and Bob is tiny and bald.\nWhat is the best way to do this using AssertJ?</p>\n\n<p>My own solution is to do:</p>\n\n<pre><code>assertThat(list).extracting(\"name\").containsExactlyInAnyOrder(\"Alice\", \"Bob\");\nlist.stream()\n    .filter(person -&gt; \"Alice\".equals(person.getName()))\n    .forEach(alice -&gt; {\n        assertThat(alice).extracting(\"size\").isEqualTo(\"tall\")\n        assertThat(alice).extracting(\"hair\").isEqualTo(\"brunette\")\n    });\nlist.stream()\n    .filter(person -&gt; \"Bob\".equals(person.getName()))\n    .forEach(bob -&gt; {\n        assertThat(bob).extracting(\"size\").isEqualTo(\"tiny\")\n        assertThat(bob).extracting(\"hair\").isNull()\n    });\n</code></pre>\n\n<p>or equivalently (java 7) :</p>\n\n<pre><code>assertThat(list).extracting(\"name\").containsExactlyInAnyOrder(\"Alice\", \"Bob\");\nfor(Person person : list){\n    switch (testCase.getName()){\n        case \"Alice\":\n            assertThat(person).extracting(\"size\").isEqualTo(\"tall\")\n            assertThat(person).extracting(\"hair\").isEqualTo(\"brunette\")\n            break;\n        case \"Bob\":\n            assertThat(person).extracting(\"size\").isEqualTo(\"tiny\")\n            assertThat(person).extracting(\"hair\").isNull()\n            break;\n    }\n}\n</code></pre>\n\n<p>but I am wondering if there is a better solution.</p>\n\n<p>I like the fact that this solution makes a distinction between the expected elements being in the list and the elements themselves being correct.</p>\n"},{"tags":["java","spring-boot","maven","dependencies","sts"],"comments":[{"owner":{"account_id":11381766,"reputation":452,"user_id":8344485,"display_name":"juwil"},"score":1,"creation_date":1700471259,"post_id":77514490,"comment_id":136654155,"body_markdown":"check whether there is simply a file or directory inside your target folder which cannot  be deleted. Otherwise try to remove your dependencies and plugins. mvn clean should work, even if compile  does not. Then one by one add them again.","body":"check whether there is simply a file or directory inside your target folder which cannot  be deleted. Otherwise try to remove your dependencies and plugins. mvn clean should work, even if compile  does not. Then one by one add them again."},{"owner":{"account_id":3793708,"reputation":7679,"user_id":3149528,"accept_rate":50,"display_name":"Slawomir Jaranowski"},"score":0,"creation_date":1700474852,"post_id":77514490,"comment_id":136654736,"body_markdown":"can you provide output of: `mvn -e clean`?","body":"can you provide output of: <code>mvn -e clean</code>?"}],"answers":[{"tags":[],"owner":{"account_id":28667630,"reputation":1,"user_id":21951314,"display_name":"Haris"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700475235,"creation_date":1700475179,"answer_id":77515007,"question_id":77514490,"body_markdown":"I think you have a **UTF-8** error and your maven-resources-plugin have no of vulnerabilities.\r\n \r\nadd this into your properties file\r\n\r\n    &lt;properties&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    &lt;/properties&gt;\r\n\r\nit is worked for me, may be you will","title":"Failed to execute goal org.apache.maven.plugins:maven-clean-plugin:3.2.0:clean (default-clean) on project control","body":"<p>I think you have a <strong>UTF-8</strong> error and your maven-resources-plugin have no of vulnerabilities.</p>\n<p>add this into your properties file</p>\n<pre><code>&lt;properties&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n&lt;/properties&gt;\n</code></pre>\n<p>it is worked for me, may be you will</p>\n"}],"owner":{"account_id":29946860,"reputation":1,"user_id":22949954,"display_name":"Lina Elemam"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":80,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1700484277,"creation_date":1700470105,"question_id":77514490,"body_markdown":"I&#39;m using java 8 and STS for my project, but when trying maven clean it gives me the following error:\r\n[ERROR] Failed to execute goal org.apache.maven.plugins:maven-clean-plugin:3.2.0:clean (default-clean) on project control: Failed to clean project\r\n\r\nHere&#39;s my pom.xml\r\n\r\n````\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n\txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.7.4&lt;/version&gt;\r\n\t\t&lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t\t&lt;plugin&gt;\r\n    \t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;   \r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n\t&lt;groupId&gt;com.ndp&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;control&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;control&lt;/name&gt;\r\n\r\n\t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n    \t&lt;java.version&gt;1.8&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jdbc&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-configuration-processor&lt;/artifactId&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\r\n\t\t&lt;!-- Spring Boot Starter for JDBC --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;!-- Oracle JDBC Driver --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.oracle.database.jdbc&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;ojdbc8&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- HikariCP Connection Pool --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.zaxxer&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;HikariCP&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\r\n\t&lt;/dependencies&gt;\r\n\r\n\r\n&lt;/project&gt;\r\n\r\n````\r\n\r\n\r\n\r\n\r\n\r\nI tried to add \r\n\r\n\r\n\r\n\r\n````\r\n&lt;plugin&gt;\r\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\r\n    &lt;version&gt;3.1.0&lt;/version&gt;\r\n&lt;/plugin&gt;\r\n````\r\n\r\n\r\n\r\n\r\nbut nothing worked, I also tried to add \r\n\r\n\r\n\r\n\r\n````\r\n&lt;plugin&gt;\r\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\r\n    &lt;version&gt;3.2.0&lt;/version&gt;\r\n&lt;/plugin&gt;\r\n````\r\n\r\n\r\n\r\n\r\nIt also didn&#39;t work\r\n","title":"Failed to execute goal org.apache.maven.plugins:maven-clean-plugin:3.2.0:clean (default-clean) on project control","body":"<p>I'm using java 8 and STS for my project, but when trying maven clean it gives me the following error:\n[ERROR] Failed to execute goal org.apache.maven.plugins:maven-clean-plugin:3.2.0:clean (default-clean) on project control: Failed to clean project</p>\n<p>Here's my pom.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.7.4&lt;/version&gt;\n        &lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;   \n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n    &lt;groupId&gt;com.ndp&lt;/groupId&gt;\n    &lt;artifactId&gt;control&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;control&lt;/name&gt;\n\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jdbc&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-configuration-processor&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n\n        &lt;!-- Spring Boot Starter for JDBC --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- Oracle JDBC Driver --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.oracle.database.jdbc&lt;/groupId&gt;\n            &lt;artifactId&gt;ojdbc8&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;!-- HikariCP Connection Pool --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.zaxxer&lt;/groupId&gt;\n            &lt;artifactId&gt;HikariCP&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n\n    &lt;/dependencies&gt;\n\n\n&lt;/project&gt;\n\n</code></pre>\n<p>I tried to add</p>\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\n    &lt;version&gt;3.1.0&lt;/version&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>but nothing worked, I also tried to add</p>\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\n    &lt;version&gt;3.2.0&lt;/version&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>It also didn't work</p>\n"},{"tags":["java","eclipse","web-services"],"answers":[{"comments":[{"owner":{"account_id":535988,"reputation":6361,"user_id":1225432,"accept_rate":90,"display_name":"chinna_82"},"score":0,"creation_date":1422843825,"post_id":5731589,"comment_id":44896354,"body_markdown":"where is the library located?","body":"where is the library located?"},{"owner":{"account_id":1965862,"reputation":3669,"user_id":1766166,"accept_rate":71,"display_name":"zygimantus"},"score":0,"creation_date":1443172130,"post_id":5731589,"comment_id":53395715,"body_markdown":"@chinna_82 - it depends. If you use eclipse it is in \\eclipse\\plugins\\ folder.","body":"@chinna_82 - it depends. If you use eclipse it is in \\eclipse\\plugins\\ folder."},{"owner":{"account_id":2315,"reputation":1070,"user_id":3214,"accept_rate":83,"display_name":"marquies"},"score":0,"creation_date":1700298926,"post_id":5731589,"comment_id":136639391,"body_markdown":"This problem happened to me with a fresh eclipse j2ee Version: 2023-09 (4.29.0). The links in this answer are not valid since spring moved forums.","body":"This problem happened to me with a fresh eclipse j2ee Version: 2023-09 (4.29.0). The links in this answer are not valid since spring moved forums."},{"owner":{"account_id":2315,"reputation":1070,"user_id":3214,"accept_rate":83,"display_name":"marquies"},"score":0,"creation_date":1700299361,"post_id":5731589,"comment_id":136639434,"body_markdown":"I was able to solve my problem with this answer https://stackoverflow.com/questions/8150698/eclipse-axis-error-when-creating-web-service","body":"I was able to solve my problem with this answer <a href=\"https://stackoverflow.com/questions/8150698/eclipse-axis-error-when-creating-web-service\" title=\"eclipse axis error when creating web service\">stackoverflow.com/questions/8150698/&hellip;</a>"}],"tags":[],"owner":{"account_id":36858,"reputation":113744,"user_id":105224,"accept_rate":73,"display_name":"Andreas Dolk"},"comment_count":4,"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1303308204,"creation_date":1303308204,"answer_id":5731589,"question_id":5731503,"body_markdown":"Looks like a bug in eclipse WTP - [you&#39;re not alone][1].\r\n\r\nFollowing this other thread, you be lucky with [deleting (moving/renaming)][2] one library:\r\n \r\n    javax.xml.soap_1.3.0.v200904281458.jar\r\n\r\nOr try to upgrade your environment to the latest and greatest.\r\n\r\n\r\n  [1]: http://forum.springsource.org/showthread.php?t=83788\r\n  [2]: http://forum.springsource.org/showpost.php?p=280729&amp;postcount=6","title":"web service error","body":"<p>Looks like a bug in eclipse WTP - <a href=\"http://forum.springsource.org/showthread.php?t=83788\" rel=\"noreferrer\">you're not alone</a>.</p>\n\n<p>Following this other thread, you be lucky with <a href=\"http://forum.springsource.org/showpost.php?p=280729&amp;postcount=6\" rel=\"noreferrer\">deleting (moving/renaming)</a> one library:</p>\n\n<pre><code>javax.xml.soap_1.3.0.v200904281458.jar\n</code></pre>\n\n<p>Or try to upgrade your environment to the latest and greatest.</p>\n"},{"tags":[],"owner":{"account_id":4060850,"reputation":1,"user_id":3337443,"display_name":"user3337443"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700484161,"creation_date":1509446724,"answer_id":47033445,"question_id":5731503,"body_markdown":"This second patch does the same thing, but instead of using a java system property, it uses a hidden eclipse preference as the flag to disable the copy.\r\n\r\nThis preference can be enabled by editing the below file\r\n\r\n```\r\n&lt;workspace&gt;/.metadata/.plugins/org.eclipse.core.runtime/.settings/org.eclipse.jst.ws.axis.consumption.ui.prefs\r\n```\r\n\r\nadd the line `disableAxisJarCopy=true`\r\n\r\n","title":"web service error","body":"<p>This second patch does the same thing, but instead of using a java system property, it uses a hidden eclipse preference as the flag to disable the copy.</p>\n<p>This preference can be enabled by editing the below file</p>\n<pre><code>&lt;workspace&gt;/.metadata/.plugins/org.eclipse.core.runtime/.settings/org.eclipse.jst.ws.axis.consumption.ui.prefs\n</code></pre>\n<p>add the line <code>disableAxisJarCopy=true</code></p>\n"}],"owner":{"account_id":336528,"reputation":2227,"user_id":664224,"accept_rate":35,"display_name":"p27"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7205,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":5731589,"answer_count":2,"score":9,"last_activity_date":1700484161,"creation_date":1303307807,"question_id":5731503,"body_markdown":"i am trying to make web service but i am getting this error\r\n\r\n    IWAB0506E Error when copying Axis jar files to web project\r\n        java.io.FileNotFoundException: /lib/saaj.jar\r\n        at ","title":"web service error","body":"<p>i am trying to make web service but i am getting this error</p>\n\n<pre><code>IWAB0506E Error when copying Axis jar files to web project\n    java.io.FileNotFoundException: /lib/saaj.jar\n    at \n</code></pre>\n"},{"tags":["java","string","java.util.scanner"],"comments":[{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1700482438,"post_id":77515728,"comment_id":136656039,"body_markdown":"It is not null, it is an empty string, and the output is `[, pqr, stu]` (no quotes around the values, and a space after the comma).","body":"It is not null, it is an empty string, and the output is <code>[, pqr, stu]</code> (no quotes around the values, and a space after the comma)."},{"owner":{"account_id":25931040,"reputation":1,"user_id":19652106,"display_name":"Amrit Raj"},"score":0,"creation_date":1700489505,"post_id":77515728,"comment_id":136657346,"body_markdown":"thanks for the correction but can you tell me the solution to the main problem","body":"thanks for the correction but can you tell me the solution to the main problem"},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1700489584,"post_id":77515728,"comment_id":136657367,"body_markdown":"See the duplicate... it explains the problem and what you need to do to fix it (i.e. call `sc.nextLine()` immediately after your call to `sc.nextInt()`).","body":"See the duplicate... it explains the problem and what you need to do to fix it (i.e. call <code>sc.nextLine()</code> immediately after your call to <code>sc.nextInt()</code>)."}],"owner":{"account_id":25931040,"reputation":1,"user_id":19652106,"display_name":"Amrit Raj"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1700481661,"answer_count":0,"score":-1,"last_activity_date":1700483557,"creation_date":1700481569,"question_id":77515728,"body_markdown":"\r\n```\r\nimport java.util.*;\r\n\r\n\r\npublic class DistinctK {\r\n    public static void main(String[] args){\r\n        Scanner sc = new Scanner(System.in);\r\n        int n = sc.nextInt();\r\n        String[] str = new String[n];\r\n\r\n        for(int i = 0; i &lt; str.length;i++){\r\n            str[i] = sc.nextLine();\r\n        }\r\n        System.out.println(Arrays.toString(str));\r\n    }\r\n}\r\n```\r\n\r\n\r\nI am simply trying to take an input `n` which is the size of a String array.\r\nThen I am taking input in a String array named `str`.\r\nI don&#39;t know why it is taking the first value as null.\r\n\r\nOutput:\r\n```none\r\nn=3\r\n[,&quot;pqr&quot;,&quot;stu&quot;]\r\n```","title":"Input of the first value in a String array is null in Java","body":"<pre><code>import java.util.*;\n\n\npublic class DistinctK {\n    public static void main(String[] args){\n        Scanner sc = new Scanner(System.in);\n        int n = sc.nextInt();\n        String[] str = new String[n];\n\n        for(int i = 0; i &lt; str.length;i++){\n            str[i] = sc.nextLine();\n        }\n        System.out.println(Arrays.toString(str));\n    }\n}\n</code></pre>\n<p>I am simply trying to take an input <code>n</code> which is the size of a String array.\nThen I am taking input in a String array named <code>str</code>.\nI don't know why it is taking the first value as null.</p>\n<p>Output:</p>\n<pre class=\"lang-none prettyprint-override\"><code>n=3\n[,&quot;pqr&quot;,&quot;stu&quot;]\n</code></pre>\n"},{"tags":["java","multithreading","concurrency","rate-limiting","java-threads"],"comments":[{"owner":{"account_id":173621,"reputation":10596,"user_id":402428,"display_name":"michid"},"score":0,"creation_date":1700483052,"post_id":77515823,"comment_id":136656158,"body_markdown":"Resilience 4 j has a rate limiter out of the box: https://resilience4j.readme.io/docs/ratelimiter","body":"Resilience 4 j has a rate limiter out of the box: <a href=\"https://resilience4j.readme.io/docs/ratelimiter\" rel=\"nofollow noreferrer\">resilience4j.readme.io/docs/ratelimiter</a>"},{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1700484562,"post_id":77515823,"comment_id":136656429,"body_markdown":"and so does [Guava](https://guava.dev/releases/19.0/api/docs/index.html?com/google/common/util/concurrent/RateLimiter.html)","body":"and so does <a href=\"https://guava.dev/releases/19.0/api/docs/index.html?com/google/common/util/concurrent/RateLimiter.html\" rel=\"nofollow noreferrer\">Guava</a>"},{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1700484670,"post_id":77515823,"comment_id":136656446,"body_markdown":"In addition, it might be better to implement such a thing in your reverse proxy, instead of the app itself. That&#39;ll reduce the load on the backend by a lot, and it&#39;ll make your life much easier if you ever plan on scaling to multiple backend servers.","body":"In addition, it might be better to implement such a thing in your reverse proxy, instead of the app itself. That&#39;ll reduce the load on the backend by a lot, and it&#39;ll make your life much easier if you ever plan on scaling to multiple backend servers."},{"owner":{"account_id":17986322,"reputation":78,"user_id":13071509,"display_name":"AnotherOne"},"score":0,"creation_date":1700489202,"post_id":77515823,"comment_id":136657287,"body_markdown":"If you are using spring check https://spring.io/projects/spring-cloud-circuitbreaker .","body":"If you are using spring check <a href=\"https://spring.io/projects/spring-cloud-circuitbreaker\" rel=\"nofollow noreferrer\">spring.io/projects/spring-cloud-circuitbreaker</a> ."}],"owner":{"account_id":5348363,"reputation":13,"user_id":4263224,"display_name":"Ilia Stepanov"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":85,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700482715,"creation_date":1700482351,"question_id":77515823,"body_markdown":"I have a spring boot application which serves requests from different users. Some requests might take long time and eventually cause a timeout. If a user would make lot of such calls, the entire server might run out available http threads, all other users would be affected also.\r\n\r\nTo prevent such situation and allow other users to still use the system, I need a rate limiter to prevent the thread exhaustion. An incoming call should fail if already N threads are taken for a given user.\r\n\r\nMy implementation below uses a Filter class which accepts/fails incoming request based on internal user&lt;-&gt;thread-count map.\r\n\r\nThis approach does the job, however it is not resilient for occasional request peaks. If a user sometimes makes a bit more calls than allowed, it gets HTTP 429 error IMMEDIATELY. Ideally the Filter should wait for few more seconds while retrying. Only if after certain time there are no free threads, an error should be thrown.\r\n\r\nAre there simple ways to achieve this without too much advanced java concurrent code?\r\n\r\n\r\nMy current implementation looks as follows, it rejects the call immediately after reaching the limit.\r\n```java\r\n    public void doFilter(ServletRequest request, ServletResponse response, FilterChain chain) throws IOException, ServletException {\r\n\r\n        String userName = null;\r\n        Integer counter = 0;\r\n        try {\r\n            HttpServletRequest httpRequest = (HttpServletRequest)request;\r\n            userName = getUsername(httpRequest);\r\n\r\n            boolean ok;\r\n            synchronized (lock) {\r\n                counter = counters.get(userName);\r\n                if (counter==null) {\r\n                    counter = new Integer(0);\r\n                }\r\n                counter++;\r\n                counters.put(userName, counter);\r\n                ok = counter &lt;= limit;\r\n            }\r\n            if (ok) {\r\n                chain.doFilter(request, response);\r\n            } else {\r\n                throw new RuntimeException(&quot;Too many calls&quot;);\r\n            }\r\n        } finally {\r\n            synchronized (lock) {\r\n                counter--;\r\n                counters.put(userName,counter);\r\n            }\r\n        }\r\n    }\r\n\r\n```\r\n","title":"How to implement a rate limit in Java","body":"<p>I have a spring boot application which serves requests from different users. Some requests might take long time and eventually cause a timeout. If a user would make lot of such calls, the entire server might run out available http threads, all other users would be affected also.</p>\n<p>To prevent such situation and allow other users to still use the system, I need a rate limiter to prevent the thread exhaustion. An incoming call should fail if already N threads are taken for a given user.</p>\n<p>My implementation below uses a Filter class which accepts/fails incoming request based on internal user&lt;-&gt;thread-count map.</p>\n<p>This approach does the job, however it is not resilient for occasional request peaks. If a user sometimes makes a bit more calls than allowed, it gets HTTP 429 error IMMEDIATELY. Ideally the Filter should wait for few more seconds while retrying. Only if after certain time there are no free threads, an error should be thrown.</p>\n<p>Are there simple ways to achieve this without too much advanced java concurrent code?</p>\n<p>My current implementation looks as follows, it rejects the call immediately after reaching the limit.</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public void doFilter(ServletRequest request, ServletResponse response, FilterChain chain) throws IOException, ServletException {\n\n        String userName = null;\n        Integer counter = 0;\n        try {\n            HttpServletRequest httpRequest = (HttpServletRequest)request;\n            userName = getUsername(httpRequest);\n\n            boolean ok;\n            synchronized (lock) {\n                counter = counters.get(userName);\n                if (counter==null) {\n                    counter = new Integer(0);\n                }\n                counter++;\n                counters.put(userName, counter);\n                ok = counter &lt;= limit;\n            }\n            if (ok) {\n                chain.doFilter(request, response);\n            } else {\n                throw new RuntimeException(&quot;Too many calls&quot;);\n            }\n        } finally {\n            synchronized (lock) {\n                counter--;\n                counters.put(userName,counter);\n            }\n        }\n    }\n\n</code></pre>\n"},{"tags":["java","junit"],"comments":[{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1700486384,"post_id":77515777,"comment_id":136656771,"body_markdown":"If I read your test right, you are *mocking* the `assetUploadAPIService`. So yeah, the actual code won&#39;t be called.","body":"If I read your test right, you are <i>mocking</i> the <code>assetUploadAPIService</code>. So yeah, the actual code won&#39;t be called."},{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1700486420,"post_id":77515777,"comment_id":136656779,"body_markdown":"In general, you shouldn&#39;t test your REST endpoints by instantiating the controller. Use a REST API testing framework instead.","body":"In general, you shouldn&#39;t test your REST endpoints by instantiating the controller. Use a REST API testing framework instead."}],"owner":{"account_id":29948461,"reputation":1,"user_id":22951194,"display_name":"snaik"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700482102,"creation_date":1700481972,"question_id":77515777,"body_markdown":"I have written below java class \r\n```\r\nimport java.io.BufferedReader;\r\nimport java.io.ByteArrayInputStream;\r\nimport java.io.InputStream;\r\nimport java.nio.charset.StandardCharsets;\r\nimport java.util.Base64;\r\nimport java.util.HashMap;\r\nimport java.util.Map;\r\n\r\nimport org.apache.sling.api.SlingHttpServletRequest;\r\nimport org.apache.sling.api.resource.LoginException;\r\nimport org.apache.sling.api.resource.ResourceResolver;\r\nimport org.apache.sling.api.resource.ResourceResolverFactory;\r\nimport org.json.JSONObject;\r\nimport org.osgi.service.component.annotations.Component;\r\nimport org.osgi.service.component.annotations.Reference;\r\nimport org.slf4j.Logger;\r\nimport org.slf4j.LoggerFactory;\r\n\r\nimport com.day.cq.dam.api.Asset;\r\nimport com.day.cq.dam.api.AssetManager;\r\n\r\n@Component(service = AssetUploadAPIService.class)\r\npublic class AssetUploadAPIServiceImpl implements AssetUploadAPIService {\r\n\r\n    @Reference\r\n    transient ResourceResolverFactory resolverFactory;\r\n\r\n    private transient Map&lt;String, Object&gt; param = new HashMap&lt;&gt;();\r\n\r\n    private static final Logger LOGGER = LoggerFactory.getLogger(AssetUploadAPIServiceImpl.class);\r\n    \r\n    public AssetUploadAPIServiceImpl() {\r\n    \t param.put(ResourceResolverFactory.SUBSERVICE, &quot;datawrite&quot;);\r\n    }\r\n\r\n    private ResourceResolver getResourceResolver() throws LoginException {\r\n        return resolverFactory.getServiceResourceResolver(param);\r\n    }\r\n\r\n\t@Override\r\n\tpublic ServletResponse&lt;String&gt; getAssetUploadResponse(SlingHttpServletRequest request) {\r\n\t\ttry (ResourceResolver resourceResolver = getResourceResolver()) {\r\n\t\t\tStringBuilder sb = new StringBuilder();\r\n\t\t\tBufferedReader reader = request.getReader();\r\n\t\t\ttry {\r\n\t\t\t\tString line = null;\r\n\t\t\t\twhile ((line = reader.readLine()) != null) {\r\n\t\t\t\t\tsb.append(line);\r\n\t\t\t\t}\r\n\t\t\t} finally {\r\n\t\t\t\treader.close();\r\n\t\t\t}\r\n\r\n\t\t\tLOGGER.info(&quot;POST JSON data: {}&quot;, sb);\r\n\t\t\tJSONObject jsonObject = new JSONObject(sb.toString());\r\n\t\t\tString assetPath = jsonObject.getString(&quot;assetPath&quot;);\r\n\t\t\tString mimeType = jsonObject.getString(&quot;mimeType&quot;);\r\n\t\t\tString encoding = jsonObject.getString(&quot;encoding&quot;);\r\n\t\t\tString asset = jsonObject.getString(&quot;asset&quot;);\r\n\t\t\tString imageType = mimeType.split(&quot;/&quot;)[1];\r\n\r\n\t\t\tLOGGER.info(&quot;assetPath: {}, mimeType: {}, encoding: {}, asset: {}, imageType: {}&quot;, assetPath, mimeType,encoding, asset, imageType);\r\n\r\n\t\t\tInputStream targetStream = new ByteArrayInputStream(Base64.getDecoder().decode(asset.getBytes(StandardCharsets.UTF_8)));\r\n\r\n\t\t\tAssetManager assetManager = resourceResolver.adaptTo(AssetManager.class);\r\n\t\t\tAsset imageAsset = assetManager.createAsset((assetPath + &quot;.&quot; + imageType), targetStream, mimeType, true);\r\n\t\t\treturn new ServletResponse&lt;&gt;(ServletResponse.ServletResponseType.RES_200, imageAsset.getPath());\r\n\t\t} \r\n\t\tcatch (Exception e) {\r\n\t\t\tLOGGER.error(String.format(&quot;There was an Error  === &quot; + e));\r\n\t\t\treturn new ServletResponse&lt;&gt;(ServletResponse.ServletResponseType.RES_400, e.getMessage());\r\n\t\t}\r\n\t}\r\n\r\n}\r\n```\r\n\r\nAnd for this Java class I have written below JUNIT test case\r\n\r\n\r\n```\r\nimport static org.junit.jupiter.api.Assertions.assertEquals;\r\nimport static org.junit.jupiter.api.Assertions.assertNull;\r\nimport static org.mockito.ArgumentMatchers.any;\r\nimport static org.mockito.Mockito.mock;\r\nimport static org.mockito.Mockito.when;\r\n\r\nimport java.util.HashMap;\r\n\r\nimport javax.jcr.Session;\r\n\r\nimport org.apache.sling.api.SlingHttpServletRequest;\r\nimport org.apache.sling.api.resource.LoginException;\r\nimport org.apache.sling.api.resource.ResourceResolver;\r\nimport org.apache.sling.api.resource.ResourceResolverFactory;\r\nimport org.apache.sling.api.wrappers.SlingHttpServletRequestWrapper;\r\nimport org.apache.sling.testing.mock.sling.ResourceResolverType;\r\nimport org.json.JSONException;\r\nimport org.junit.Rule;\r\nimport org.junit.jupiter.api.BeforeEach;\r\nimport org.junit.jupiter.api.Test;\r\nimport org.mockito.InjectMocks;\r\nimport org.mockito.Mock;\r\nimport org.mockito.MockitoAnnotations;\r\n\r\nimport com.day.cq.wcm.foundation.forms.FormsHandlingRequest;\r\n\r\nimport io.wcm.testing.mock.aem.junit5.AemContext;\r\n\r\nclass AssetUploadAPIServiceImplTest {\r\n\r\n\t@Mock\r\n\tprivate ResourceResolverFactory resolverFactory;\r\n\r\n\t@Mock\r\n\tprivate Session session;\r\n\r\n\t@Mock\r\n\tprivate ResourceResolver resourceResolver;\r\n\r\n\t@Rule\r\n\tprivate final AemContext context = new AemContext(ResourceResolverType.JCR_MOCK);\r\n\r\n\t@InjectMocks\r\n\tprivate AssetUploadAPIServiceImpl assetUploadAPIService = new AssetUploadAPIServiceImpl();\r\n\r\n\t@BeforeEach\r\n\tpublic void setup() {\r\n\t\tMockitoAnnotations.initMocks(this);\r\n\t\tHashMap&lt;String, Object&gt; parameterMap = new HashMap&lt;&gt;();\r\n\t\tparameterMap.put(&quot;assetPath&quot;, &quot;/content/dam/public/assets&quot;);\r\n\t\tparameterMap.put(&quot;mimeType&quot;, &quot;image/png&quot;);\r\n\t\tparameterMap.put(&quot;encoding&quot;, &quot;base64&quot;);\r\n\t\tcontext.request().setParameterMap(parameterMap);\r\n\t}\r\n\r\n\t@Test\r\n\tvoid getAssetUploadResponse() throws LoginException, JSONException {\r\n\t\twhen(resolverFactory.getServiceResourceResolver(any())).thenReturn(resourceResolver);\r\n\t\twhen(resourceResolver.adaptTo(Session.class)).thenReturn(session);\r\n\t\tServletResponse&lt;String&gt; actualAssetUploadResponse = assetUploadAPIService.getAssetUploadResponse(new FormsHandlingRequest(new SlingHttpServletRequestWrapper(mock(SlingHttpServletRequest.class))));\r\n\t\tassertNull(actualAssetUploadResponse.getPayload());\r\n\t\tassertEquals(ServletResponse.ServletResponseType.RES_400, actualAssetUploadResponse.getStatus());\r\n\t}\r\n\r\n}\r\n\r\n```\r\nBut My test coverage is 50% and still it is showing that I have not covered below jsonobject\r\n\r\n\r\n```\r\nJSONObject jsonObject = new JSONObject(sb.toString());\r\n\t\t\tString assetPath = jsonObject.getString(&quot;assetPath&quot;);\r\n\t\t\tString mimeType = jsonObject.getString(&quot;mimeType&quot;);\r\n\t\t\tString encoding = jsonObject.getString(&quot;encoding&quot;);\r\n\t\t\tString asset = jsonObject.getString(&quot;asset&quot;);\r\n\t\t\tString imageType = mimeType.split(&quot;/&quot;)[1];\r\n\r\n```\r\nIs there something I am missing here. Please suggest.\r\n\r\n\r\nI have updated below in my JUNIT Test class , but still getting 50% code coverage.\r\n\r\n\r\n```\r\nJSONObject jsonObject = new JSONObject(sb.toString());\r\n\t\t\tString assetPath = jsonObject.getString(&quot;assetPath&quot;);\r\n\t\t\tString mimeType = jsonObject.getString(&quot;mimeType&quot;);\r\n\t\t\tString encoding = jsonObject.getString(&quot;encoding&quot;);\r\n\t\t\tString asset = jsonObject.getString(&quot;asset&quot;);\r\n\t\t\tString imageType = mimeType.split(&quot;/&quot;)[1];\r\n```\r\n","title":"my JUNIT code is not working for jsonObject","body":"<p>I have written below java class</p>\n<pre><code>import java.io.BufferedReader;\nimport java.io.ByteArrayInputStream;\nimport java.io.InputStream;\nimport java.nio.charset.StandardCharsets;\nimport java.util.Base64;\nimport java.util.HashMap;\nimport java.util.Map;\n\nimport org.apache.sling.api.SlingHttpServletRequest;\nimport org.apache.sling.api.resource.LoginException;\nimport org.apache.sling.api.resource.ResourceResolver;\nimport org.apache.sling.api.resource.ResourceResolverFactory;\nimport org.json.JSONObject;\nimport org.osgi.service.component.annotations.Component;\nimport org.osgi.service.component.annotations.Reference;\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\n\nimport com.day.cq.dam.api.Asset;\nimport com.day.cq.dam.api.AssetManager;\n\n@Component(service = AssetUploadAPIService.class)\npublic class AssetUploadAPIServiceImpl implements AssetUploadAPIService {\n\n    @Reference\n    transient ResourceResolverFactory resolverFactory;\n\n    private transient Map&lt;String, Object&gt; param = new HashMap&lt;&gt;();\n\n    private static final Logger LOGGER = LoggerFactory.getLogger(AssetUploadAPIServiceImpl.class);\n    \n    public AssetUploadAPIServiceImpl() {\n         param.put(ResourceResolverFactory.SUBSERVICE, &quot;datawrite&quot;);\n    }\n\n    private ResourceResolver getResourceResolver() throws LoginException {\n        return resolverFactory.getServiceResourceResolver(param);\n    }\n\n    @Override\n    public ServletResponse&lt;String&gt; getAssetUploadResponse(SlingHttpServletRequest request) {\n        try (ResourceResolver resourceResolver = getResourceResolver()) {\n            StringBuilder sb = new StringBuilder();\n            BufferedReader reader = request.getReader();\n            try {\n                String line = null;\n                while ((line = reader.readLine()) != null) {\n                    sb.append(line);\n                }\n            } finally {\n                reader.close();\n            }\n\n            LOGGER.info(&quot;POST JSON data: {}&quot;, sb);\n            JSONObject jsonObject = new JSONObject(sb.toString());\n            String assetPath = jsonObject.getString(&quot;assetPath&quot;);\n            String mimeType = jsonObject.getString(&quot;mimeType&quot;);\n            String encoding = jsonObject.getString(&quot;encoding&quot;);\n            String asset = jsonObject.getString(&quot;asset&quot;);\n            String imageType = mimeType.split(&quot;/&quot;)[1];\n\n            LOGGER.info(&quot;assetPath: {}, mimeType: {}, encoding: {}, asset: {}, imageType: {}&quot;, assetPath, mimeType,encoding, asset, imageType);\n\n            InputStream targetStream = new ByteArrayInputStream(Base64.getDecoder().decode(asset.getBytes(StandardCharsets.UTF_8)));\n\n            AssetManager assetManager = resourceResolver.adaptTo(AssetManager.class);\n            Asset imageAsset = assetManager.createAsset((assetPath + &quot;.&quot; + imageType), targetStream, mimeType, true);\n            return new ServletResponse&lt;&gt;(ServletResponse.ServletResponseType.RES_200, imageAsset.getPath());\n        } \n        catch (Exception e) {\n            LOGGER.error(String.format(&quot;There was an Error  === &quot; + e));\n            return new ServletResponse&lt;&gt;(ServletResponse.ServletResponseType.RES_400, e.getMessage());\n        }\n    }\n\n}\n</code></pre>\n<p>And for this Java class I have written below JUNIT test case</p>\n<pre><code>import static org.junit.jupiter.api.Assertions.assertEquals;\nimport static org.junit.jupiter.api.Assertions.assertNull;\nimport static org.mockito.ArgumentMatchers.any;\nimport static org.mockito.Mockito.mock;\nimport static org.mockito.Mockito.when;\n\nimport java.util.HashMap;\n\nimport javax.jcr.Session;\n\nimport org.apache.sling.api.SlingHttpServletRequest;\nimport org.apache.sling.api.resource.LoginException;\nimport org.apache.sling.api.resource.ResourceResolver;\nimport org.apache.sling.api.resource.ResourceResolverFactory;\nimport org.apache.sling.api.wrappers.SlingHttpServletRequestWrapper;\nimport org.apache.sling.testing.mock.sling.ResourceResolverType;\nimport org.json.JSONException;\nimport org.junit.Rule;\nimport org.junit.jupiter.api.BeforeEach;\nimport org.junit.jupiter.api.Test;\nimport org.mockito.InjectMocks;\nimport org.mockito.Mock;\nimport org.mockito.MockitoAnnotations;\n\nimport com.day.cq.wcm.foundation.forms.FormsHandlingRequest;\n\nimport io.wcm.testing.mock.aem.junit5.AemContext;\n\nclass AssetUploadAPIServiceImplTest {\n\n    @Mock\n    private ResourceResolverFactory resolverFactory;\n\n    @Mock\n    private Session session;\n\n    @Mock\n    private ResourceResolver resourceResolver;\n\n    @Rule\n    private final AemContext context = new AemContext(ResourceResolverType.JCR_MOCK);\n\n    @InjectMocks\n    private AssetUploadAPIServiceImpl assetUploadAPIService = new AssetUploadAPIServiceImpl();\n\n    @BeforeEach\n    public void setup() {\n        MockitoAnnotations.initMocks(this);\n        HashMap&lt;String, Object&gt; parameterMap = new HashMap&lt;&gt;();\n        parameterMap.put(&quot;assetPath&quot;, &quot;/content/dam/public/assets&quot;);\n        parameterMap.put(&quot;mimeType&quot;, &quot;image/png&quot;);\n        parameterMap.put(&quot;encoding&quot;, &quot;base64&quot;);\n        context.request().setParameterMap(parameterMap);\n    }\n\n    @Test\n    void getAssetUploadResponse() throws LoginException, JSONException {\n        when(resolverFactory.getServiceResourceResolver(any())).thenReturn(resourceResolver);\n        when(resourceResolver.adaptTo(Session.class)).thenReturn(session);\n        ServletResponse&lt;String&gt; actualAssetUploadResponse = assetUploadAPIService.getAssetUploadResponse(new FormsHandlingRequest(new SlingHttpServletRequestWrapper(mock(SlingHttpServletRequest.class))));\n        assertNull(actualAssetUploadResponse.getPayload());\n        assertEquals(ServletResponse.ServletResponseType.RES_400, actualAssetUploadResponse.getStatus());\n    }\n\n}\n\n</code></pre>\n<p>But My test coverage is 50% and still it is showing that I have not covered below jsonobject</p>\n<pre><code>JSONObject jsonObject = new JSONObject(sb.toString());\n            String assetPath = jsonObject.getString(&quot;assetPath&quot;);\n            String mimeType = jsonObject.getString(&quot;mimeType&quot;);\n            String encoding = jsonObject.getString(&quot;encoding&quot;);\n            String asset = jsonObject.getString(&quot;asset&quot;);\n            String imageType = mimeType.split(&quot;/&quot;)[1];\n\n</code></pre>\n<p>Is there something I am missing here. Please suggest.</p>\n<p>I have updated below in my JUNIT Test class , but still getting 50% code coverage.</p>\n<pre><code>JSONObject jsonObject = new JSONObject(sb.toString());\n            String assetPath = jsonObject.getString(&quot;assetPath&quot;);\n            String mimeType = jsonObject.getString(&quot;mimeType&quot;);\n            String encoding = jsonObject.getString(&quot;encoding&quot;);\n            String asset = jsonObject.getString(&quot;asset&quot;);\n            String imageType = mimeType.split(&quot;/&quot;)[1];\n</code></pre>\n"},{"tags":["java","openssl","keytool","pkcs#12","jks"],"comments":[{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":3,"creation_date":1335485933,"post_id":10338543,"comment_id":13322423,"body_markdown":"It looks like your PCKS#12 keystore is corrupt. Can you verify it with `openssl pkcs12 ...`?","body":"It looks like your PCKS#12 keystore is corrupt. Can you verify it with <code>openssl pkcs12 ...</code>?"}],"answers":[{"tags":[],"owner":{"account_id":129591,"reputation":5002,"user_id":328275,"accept_rate":97,"display_name":"axiopisty"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1435852526,"creation_date":1335463522,"answer_id":10338940,"question_id":10338543,"body_markdown":"I&#39;ve never attempted to do this before, but I did find instructions on google [here][1].\r\n\r\n\r\nThis [thread][2] asks a similar question.\r\n\r\n**EDIT (Based on comment)**\r\n\r\nHere is the full content of the linked reference:\r\n\r\nPFX/P12 to JKS (Java KeyStore)\r\n\r\n**Question:** How do I move a certificate from IIS / PFX (.p12 file) to a JKS (Java KeyStore)?\r\n\r\n**Answer:** keytool -importkeystore -srckeystore PFX_P12_FILE_NAME -srcstoretype pkcs12 -srcstorepass PFX_P12_FILE -srcalias SOURCE_ALIAS -destkeystore KEYSTORE_FILE -deststoretype jks -deststorepass PASSWORD -destalias ALIAS_NAME\r\n\r\n**Note:** To find the srcalias, list the contents of the PFX/P12 file:\r\n\r\nkeytool -v -list -storetype pkcs12 -keystore PFX_P12_FILE &gt; FILENAME.TXT As this writes the output of the command to a file with the name of FILENAME.TXT. \r\n\r\n\r\n  [1]: https://support.comodo.com/index.php?_m=knowledgebase&amp;_a=viewarticle&amp;kbarticleid=1283\r\n  [2]: https://stackoverflow.com/questions/9236939/java-keytool-giving-final-block-not-properly-padded","title":"What causes keytool error &quot;Failed to decrypt safe contents entry&quot;?","body":"<p>I've never attempted to do this before, but I did find instructions on google <a href=\"https://support.comodo.com/index.php?_m=knowledgebase&amp;_a=viewarticle&amp;kbarticleid=1283\" rel=\"nofollow noreferrer\">here</a>.</p>\n\n<p>This <a href=\"https://stackoverflow.com/questions/9236939/java-keytool-giving-final-block-not-properly-padded\">thread</a> asks a similar question.</p>\n\n<p><strong>EDIT (Based on comment)</strong></p>\n\n<p>Here is the full content of the linked reference:</p>\n\n<p>PFX/P12 to JKS (Java KeyStore)</p>\n\n<p><strong>Question:</strong> How do I move a certificate from IIS / PFX (.p12 file) to a JKS (Java KeyStore)?</p>\n\n<p><strong>Answer:</strong> keytool -importkeystore -srckeystore PFX_P12_FILE_NAME -srcstoretype pkcs12 -srcstorepass PFX_P12_FILE -srcalias SOURCE_ALIAS -destkeystore KEYSTORE_FILE -deststoretype jks -deststorepass PASSWORD -destalias ALIAS_NAME</p>\n\n<p><strong>Note:</strong> To find the srcalias, list the contents of the PFX/P12 file:</p>\n\n<p>keytool -v -list -storetype pkcs12 -keystore PFX_P12_FILE > FILENAME.TXT As this writes the output of the command to a file with the name of FILENAME.TXT. </p>\n"},{"tags":[],"owner":{"account_id":131119,"reputation":28741,"user_id":330889,"accept_rate":89,"display_name":"Pedro Rolo"},"comment_count":0,"down_vote_count":1,"up_vote_count":16,"is_accepted":true,"score":15,"last_activity_date":1335520995,"creation_date":1335520995,"answer_id":10348656,"question_id":10338543,"body_markdown":"The pkcs12 keystore was corrupt indeed. ","title":"What causes keytool error &quot;Failed to decrypt safe contents entry&quot;?","body":"<p>The pkcs12 keystore was corrupt indeed. </p>\n"},{"comments":[{"owner":{"account_id":2674923,"reputation":9479,"user_id":2311528,"accept_rate":59,"display_name":"Lonzak"},"score":1,"creation_date":1476346997,"post_id":20383375,"comment_id":67308757,"body_markdown":"The pkcs12 keystore type doesn&#39;t differentiate between keypass and storepass. So in my case I just had to use the storepass (and not the keypass) when retrieving the key...","body":"The pkcs12 keystore type doesn&#39;t differentiate between keypass and storepass. So in my case I just had to use the storepass (and not the keypass) when retrieving the key..."},{"owner":{"account_id":4168947,"reputation":1023,"user_id":3417242,"display_name":"Ryan D"},"score":0,"creation_date":1535047846,"post_id":20383375,"comment_id":90933373,"body_markdown":"I used the wrong password because WebSphere is using a different default password than most Java trust stores.","body":"I used the wrong password because WebSphere is using a different default password than most Java trust stores."},{"owner":{"account_id":1423896,"reputation":1671,"user_id":1347915,"accept_rate":92,"display_name":"amorimluc"},"score":0,"creation_date":1576032602,"post_id":20383375,"comment_id":104763192,"body_markdown":"That&#39;s what it was for me. Jesus, took me a while to get this to work.","body":"That&#39;s what it was for me. Jesus, took me a while to get this to work."}],"tags":[],"owner":{"account_id":342184,"reputation":1053,"user_id":1001540,"accept_rate":43,"display_name":"William Grand"},"comment_count":3,"down_vote_count":0,"up_vote_count":50,"is_accepted":false,"score":50,"last_activity_date":1386182726,"creation_date":1386182726,"answer_id":20383375,"question_id":10338543,"body_markdown":"Sometimes this error is symptomatic of using an incorrect password for the p12 key.","title":"What causes keytool error &quot;Failed to decrypt safe contents entry&quot;?","body":"<p>Sometimes this error is symptomatic of using an incorrect password for the p12 key.</p>\n"},{"comments":[{"owner":{"account_id":1170362,"reputation":15132,"user_id":1147688,"accept_rate":53,"display_name":"not2qubit"},"score":0,"creation_date":1554210448,"post_id":20874847,"comment_id":97661560,"body_markdown":"I think you&#39;re on to something. Probably keytool assume the original key is something else.","body":"I think you&#39;re on to something. Probably keytool assume the original key is something else."}],"tags":[],"owner":{"account_id":3797718,"reputation":21,"user_id":3152202,"display_name":"Ben"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1388623621,"creation_date":1388623621,"answer_id":20874847,"question_id":10338543,"body_markdown":"I did this command (opposite to yours) to export a private key to PKCS12 from a JKS:\r\n\r\nkeytool -importkeystore -srckeystore DemoIdentity.jks -srcstoretype JKS -destkeystore demoidentity.p12 -deststoretype PKCS12\r\n\r\nIf I left off the seemingly redundant &quot;-srcstoretype JKS&quot;, the generated demoidentity.p12 file gave me the same error when I tried to list the details in keytool even though the above command accepted the passwords and generated a file seemingly correctly!\r\n\r\nFor your issue, perhaps you did something similar when generating keystore.p12.\r\n","title":"What causes keytool error &quot;Failed to decrypt safe contents entry&quot;?","body":"<p>I did this command (opposite to yours) to export a private key to PKCS12 from a JKS:</p>\n\n<p>keytool -importkeystore -srckeystore DemoIdentity.jks -srcstoretype JKS -destkeystore demoidentity.p12 -deststoretype PKCS12</p>\n\n<p>If I left off the seemingly redundant \"-srcstoretype JKS\", the generated demoidentity.p12 file gave me the same error when I tried to list the details in keytool even though the above command accepted the passwords and generated a file seemingly correctly!</p>\n\n<p>For your issue, perhaps you did something similar when generating keystore.p12.</p>\n"},{"tags":[],"owner":{"account_id":5853320,"reputation":61,"user_id":4611370,"display_name":"KoJaman"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1445421260,"creation_date":1445421260,"answer_id":33256154,"question_id":10338543,"body_markdown":"I had the same issue today(BadPaddingException). It seems keytool had a problem with certain characters in the password. I solved it by adding double-quotes around the password.\r\n\r\nkeytool -importkeystore -srckeystore PFX_P12_FILE_NAME -srcstoretype pkcs12 -srcstorepass &quot;PFX_P12_FILE&quot; -srcalias SOURCE_ALIAS -destkeystore KEYSTORE_FILE -deststoretype jks -deststorepass &quot;PASSWORD&quot; -destalias ALIAS_NAME","title":"What causes keytool error &quot;Failed to decrypt safe contents entry&quot;?","body":"<p>I had the same issue today(BadPaddingException). It seems keytool had a problem with certain characters in the password. I solved it by adding double-quotes around the password.</p>\n\n<p>keytool -importkeystore -srckeystore PFX_P12_FILE_NAME -srcstoretype pkcs12 -srcstorepass \"PFX_P12_FILE\" -srcalias SOURCE_ALIAS -destkeystore KEYSTORE_FILE -deststoretype jks -deststorepass \"PASSWORD\" -destalias ALIAS_NAME</p>\n"},{"tags":[],"owner":{"account_id":7875369,"reputation":41,"user_id":5951323,"display_name":"Ram"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1524580412,"creation_date":1524580412,"answer_id":50004312,"question_id":10338543,"body_markdown":"I had a similar issue when i was trying to export certs as pfx from JKS.It worked when i excluded deststorepass attribute in keytool command &amp; gave the destination store password at runtime.\r\n\r\nkeytool -importkeystore -srckeystore Keystore.jks -destkeystore dv163.pfx -srcstoretype JKS -deststoretype PKCS12 -srcalias alias1-destalias alias1\r\n\r\nEnter destination keystore password:\r\n\r\nRe-enter new password:\r\n\r\nEnter source keystore password:\r\n","title":"What causes keytool error &quot;Failed to decrypt safe contents entry&quot;?","body":"<p>I had a similar issue when i was trying to export certs as pfx from JKS.It worked when i excluded deststorepass attribute in keytool command &amp; gave the destination store password at runtime.</p>\n\n<p>keytool -importkeystore -srckeystore Keystore.jks -destkeystore dv163.pfx -srcstoretype JKS -deststoretype PKCS12 -srcalias alias1-destalias alias1</p>\n\n<p>Enter destination keystore password:</p>\n\n<p>Re-enter new password:</p>\n\n<p>Enter source keystore password:</p>\n"},{"tags":[],"owner":{"account_id":9957871,"reputation":898,"user_id":8602069,"display_name":"Slava  Vasylenko"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1606894020,"creation_date":1606837846,"answer_id":65093860,"question_id":10338543,"body_markdown":"From my side I forget to check language when you type password :)[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/09XmI.png","title":"What causes keytool error &quot;Failed to decrypt safe contents entry&quot;?","body":"<p>From my side I forget to check language when you type password :)<a href=\"https://i.stack.imgur.com/09XmI.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/09XmI.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":15011791,"reputation":91,"user_id":10836042,"display_name":"Mohd. Shaizad"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1623457465,"creation_date":1623457465,"answer_id":67944651,"question_id":10338543,"body_markdown":"I had the same problem i entered the password manually and problem got resolved","title":"What causes keytool error &quot;Failed to decrypt safe contents entry&quot;?","body":"<p>I had the same problem i entered the password manually and problem got resolved</p>\n"},{"tags":[],"owner":{"account_id":18907312,"reputation":1734,"user_id":13794189,"display_name":"Miguel Tom&#225;s"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1625672235,"creation_date":1625575012,"answer_id":68270698,"question_id":10338543,"body_markdown":"simply type the correct password on the build signed APK wizard form.\r\n( it worked with me on android studio 4.2 canary 15++)\r\n\r\nAs I came to find out, when you change app on said wizard, spite the password remains, somehow it does not sign correctly, so you need to clear the password and type it again.","title":"What causes keytool error &quot;Failed to decrypt safe contents entry&quot;?","body":"<p>simply type the correct password on the build signed APK wizard form.\n( it worked with me on android studio 4.2 canary 15++)</p>\n<p>As I came to find out, when you change app on said wizard, spite the password remains, somehow it does not sign correctly, so you need to clear the password and type it again.</p>\n"},{"tags":[],"owner":{"account_id":8693671,"reputation":7378,"user_id":6505847,"display_name":"AzyCrw4282"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1700481909,"creation_date":1700481909,"answer_id":77515769,"question_id":10338543,"body_markdown":"My issue was somewhat unique. When I tested locally in my dev environment, it seemed to work fine. However, when i deployed to our live environments, it was giving the root error `javax.crypto.BadPaddingException:`\r\n\r\nAfter some debugging it turned out due to the jdk i was using in my docker image. It seems to me some jdks (e.g., some 1.8 packages) aren&#39;t compatible. With some tests I found a jdk (11.0.21) that worked with it. If you&#39;ve attempted all the options and nothing has worked, then try this option and check if its the jdk.\r\n","title":"What causes keytool error &quot;Failed to decrypt safe contents entry&quot;?","body":"<p>My issue was somewhat unique. When I tested locally in my dev environment, it seemed to work fine. However, when i deployed to our live environments, it was giving the root error <code>javax.crypto.BadPaddingException:</code></p>\n<p>After some debugging it turned out due to the jdk i was using in my docker image. It seems to me some jdks (e.g., some 1.8 packages) aren't compatible. With some tests I found a jdk (11.0.21) that worked with it. If you've attempted all the options and nothing has worked, then try this option and check if its the jdk.</p>\n"}],"owner":{"account_id":131119,"reputation":28741,"user_id":330889,"accept_rate":89,"display_name":"Pedro Rolo"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":120509,"favorite_count":0,"down_vote_count":0,"up_vote_count":41,"accepted_answer_id":10348656,"answer_count":10,"score":41,"last_activity_date":1700481909,"creation_date":1335461887,"question_id":10338543,"body_markdown":"I am trying to convert a standard PKCS #12 (.p12) key store into a Java JKS key store with this command:\r\n\r\n`keytool -importkeystore -srckeystore keystore.p12 -srcstoretype PKCS12 -deststoretype JKS -destkeystore keystore.jks`\r\n\r\nIt is failing with:\r\n\r\n    keytool error: java.io.IOException: failed to decrypt safe contents entry: javax.crypto.BadPaddingException: Given final block not properly padded\r\n\r\nDo you have any idea how to solve this problem?","title":"What causes keytool error &quot;Failed to decrypt safe contents entry&quot;?","body":"<p>I am trying to convert a standard PKCS #12 (.p12) key store into a Java JKS key store with this command:</p>\n\n<p><code>keytool -importkeystore -srckeystore keystore.p12 -srcstoretype PKCS12 -deststoretype JKS -destkeystore keystore.jks</code></p>\n\n<p>It is failing with:</p>\n\n<pre><code>keytool error: java.io.IOException: failed to decrypt safe contents entry: javax.crypto.BadPaddingException: Given final block not properly padded\n</code></pre>\n\n<p>Do you have any idea how to solve this problem?</p>\n"},{"tags":["java","spring","spring-boot","spring-annotations","modelattribute"],"comments":[{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1695624855,"post_id":77170335,"comment_id":136043980,"body_markdown":"The instance cannot be `null`, the fields can be `null`, if that is the case there is something that youa re using that isn&#39;t in the question (like `final` methods or class, implementing an interface etc. etc.). Also what is the form you are sending? How are you sending.","body":"The instance cannot be <code>null</code>, the fields can be <code>null</code>, if that is the case there is something that youa re using that isn&#39;t in the question (like <code>final</code> methods or class, implementing an interface etc. etc.). Also what is the form you are sending? How are you sending."},{"owner":{"account_id":25389860,"reputation":1,"user_id":19201040,"display_name":"Yasiru Deshan"},"score":0,"creation_date":1695625568,"post_id":77170335,"comment_id":136044101,"body_markdown":"I used swagger to send data using JSON format.","body":"I used swagger to send data using JSON format."},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1695625852,"post_id":77170335,"comment_id":136044146,"body_markdown":"json isn&#39;t a form and thus cannot be used with `@ModelAttribute`.","body":"json isn&#39;t a form and thus cannot be used with <code>@ModelAttribute</code>."}],"answers":[{"comments":[{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1695628073,"post_id":77170616,"comment_id":136044531,"body_markdown":"This won&#39;t solve a thing as he is sending a JSON body, not a form.","body":"This won&#39;t solve a thing as he is sending a JSON body, not a form."}],"tags":[],"owner":{"account_id":25966745,"reputation":1,"user_id":19682605,"display_name":"Karim Halayqa"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1695626994,"creation_date":1695626994,"answer_id":77170616,"question_id":77170335,"body_markdown":"You can just add the dto without any annotation, spring will automatically bind the form data to the dto fields.\r\n\r\n    @PostMapping(value = &quot;/{accountNo}/upload&quot;, consumes = &quot;multipart/form-data&quot;)\r\n    public ResponseEntity&lt;Object&gt; uploadDocument(\r\n            @PathVariable Long accountNo,\r\n            RequestDTO requestDTO,\r\n            @RequestParam(&quot;file&quot;) MultipartFile file,\r\n            Authentication authentication) {\r\n        // ...\r\n    }\r\n\r\nhttp://dolszewski.com/spring/how-to-bind-requestparam-to-object/\r\n\r\nthis will allow you to enter the fields of the dto in form data and they will be mapped to the dto&#39;s fields.","title":"Spring Boot: @ModelAttribute is null in controller method when using with multipart/form-data","body":"<p>You can just add the dto without any annotation, spring will automatically bind the form data to the dto fields.</p>\n<pre><code>@PostMapping(value = &quot;/{accountNo}/upload&quot;, consumes = &quot;multipart/form-data&quot;)\npublic ResponseEntity&lt;Object&gt; uploadDocument(\n        @PathVariable Long accountNo,\n        RequestDTO requestDTO,\n        @RequestParam(&quot;file&quot;) MultipartFile file,\n        Authentication authentication) {\n    // ...\n}\n</code></pre>\n<p><a href=\"http://dolszewski.com/spring/how-to-bind-requestparam-to-object/\" rel=\"nofollow noreferrer\">http://dolszewski.com/spring/how-to-bind-requestparam-to-object/</a></p>\n<p>this will allow you to enter the fields of the dto in form data and they will be mapped to the dto's fields.</p>\n"},{"tags":[],"owner":{"account_id":23220522,"reputation":28,"user_id":17312822,"display_name":"Romario"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700481454,"creation_date":1700481454,"answer_id":77515714,"question_id":77170335,"body_markdown":"If you state that your endpoint `consumes = &quot;multipart/form-data&quot;` then it does not expect to get JSON from your request to populate your DTO.\r\n\r\nAdd file to your `RequestDTO` and send request in `&quot;multipart/form-data&quot;` but not in `JSON`. (`Content-Type` header should contain `multipart/form-data` value : `Content-Type: multipart/form-data;`)\r\n\r\nHere is the [link][1] how to upload file from swagger-ui. The rest of parameters should be in line with `file`.\r\n\r\n\r\n  [1]: https://swagger.io/docs/specification/2-0/file-upload/","title":"Spring Boot: @ModelAttribute is null in controller method when using with multipart/form-data","body":"<p>If you state that your endpoint <code>consumes = &quot;multipart/form-data&quot;</code> then it does not expect to get JSON from your request to populate your DTO.</p>\n<p>Add file to your <code>RequestDTO</code> and send request in <code>&quot;multipart/form-data&quot;</code> but not in <code>JSON</code>. (<code>Content-Type</code> header should contain <code>multipart/form-data</code> value : <code>Content-Type: multipart/form-data;</code>)</p>\n<p>Here is the <a href=\"https://swagger.io/docs/specification/2-0/file-upload/\" rel=\"nofollow noreferrer\">link</a> how to upload file from swagger-ui. The rest of parameters should be in line with <code>file</code>.</p>\n"}],"owner":{"account_id":25389860,"reputation":1,"user_id":19201040,"display_name":"Yasiru Deshan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":95,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1700481454,"creation_date":1695623738,"question_id":77170335,"body_markdown":"I have a Spring Boot controller method that handles file uploads, and I&#39;m trying to use the @ModelAttribute annotation to bind some fields from the request. Here&#39;s my controller method:\r\n\r\n\r\n```\r\n@PostMapping(value = &quot;/{accountNo}/upload&quot;, consumes = &quot;multipart/form-data&quot;)\r\npublic ResponseEntity&lt;Object&gt; uploadDocument(\r\n        @PathVariable Long accountNo,\r\n        @ModelAttribute RequestDTO requestDTO,\r\n        @RequestParam(&quot;file&quot;) MultipartFile file,\r\n        Authentication authentication) {\r\n    // ...\r\n}\r\n```\r\n\r\n\r\nThe RequestDTO class contains fields that I want to bind from the request body/form data. However, I&#39;m encountering an issue where the requestDTO object is always null in the method.\r\n\r\nDue to the extensive length of certain attribute values, passing DTO data through request parameters is not feasible.\r\n\r\n\r\nIs there something I&#39;m missing in my setup, or are there any common pitfalls when using @ModelAttribute in this context? How can I ensure that the requestDTO object is correctly populated from the request?\r\n\r\n\r\nI have verified that the request is being sent correctly, including the required fields for RequestDTO.\r\n\r\nThe @RequestBody annotation cannot be used in conjunction with multipart/form-data.\r\n\r\n\r\nI used swagger to send data using JSON format.\r\n\r\n    {\r\n         \r\n          &quot;accountNo&quot;: &quot;211100001201&quot;,\r\n          &quot;kind&quot;: &quot;hello&quot;,\r\n          &quot;name&quot;: &quot;string&quot;,\r\n          &quot;url&quot;: &quot;string&quot;,\r\n          &quot;location&quot;: &quot;string&quot;,\r\n          &quot;storageStatus&quot;: &quot;string&quot;,\r\n          &quot;actionType&quot;: &quot;string&quot;,\r\n          &quot;value1&quot;: &quot;string&quot;,\r\n          &quot;detail&quot;: &quot;string&quot;\r\n        }\r\n\r\n\r\nThank you for your assistance!","title":"Spring Boot: @ModelAttribute is null in controller method when using with multipart/form-data","body":"<p>I have a Spring Boot controller method that handles file uploads, and I'm trying to use the @ModelAttribute annotation to bind some fields from the request. Here's my controller method:</p>\n<pre><code>@PostMapping(value = &quot;/{accountNo}/upload&quot;, consumes = &quot;multipart/form-data&quot;)\npublic ResponseEntity&lt;Object&gt; uploadDocument(\n        @PathVariable Long accountNo,\n        @ModelAttribute RequestDTO requestDTO,\n        @RequestParam(&quot;file&quot;) MultipartFile file,\n        Authentication authentication) {\n    // ...\n}\n</code></pre>\n<p>The RequestDTO class contains fields that I want to bind from the request body/form data. However, I'm encountering an issue where the requestDTO object is always null in the method.</p>\n<p>Due to the extensive length of certain attribute values, passing DTO data through request parameters is not feasible.</p>\n<p>Is there something I'm missing in my setup, or are there any common pitfalls when using @ModelAttribute in this context? How can I ensure that the requestDTO object is correctly populated from the request?</p>\n<p>I have verified that the request is being sent correctly, including the required fields for RequestDTO.</p>\n<p>The @RequestBody annotation cannot be used in conjunction with multipart/form-data.</p>\n<p>I used swagger to send data using JSON format.</p>\n<pre><code>{\n     \n      &quot;accountNo&quot;: &quot;211100001201&quot;,\n      &quot;kind&quot;: &quot;hello&quot;,\n      &quot;name&quot;: &quot;string&quot;,\n      &quot;url&quot;: &quot;string&quot;,\n      &quot;location&quot;: &quot;string&quot;,\n      &quot;storageStatus&quot;: &quot;string&quot;,\n      &quot;actionType&quot;: &quot;string&quot;,\n      &quot;value1&quot;: &quot;string&quot;,\n      &quot;detail&quot;: &quot;string&quot;\n    }\n</code></pre>\n<p>Thank you for your assistance!</p>\n"},{"tags":["java","spring","spring-boot","spring-cloud","spring-cloud-gateway"],"comments":[{"owner":{"account_id":21260902,"reputation":984,"user_id":15641685,"display_name":"Huu Phuong Vu"},"score":0,"creation_date":1700029941,"post_id":77390641,"comment_id":136603465,"body_markdown":"I&#39;m not sure if I can understand the question. It seems to me that the problem is about having two routes with overlapping incoming paths (`/` and `/graphql`). If that&#39;s the case, you can use `order` to control traffic to both routes.","body":"I&#39;m not sure if I can understand the question. It seems to me that the problem is about having two routes with overlapping incoming paths (<code>&#47;</code> and <code>&#47;graphql</code>). If that&#39;s the case, you can use <code>order</code> to control traffic to both routes."},{"owner":{"account_id":5031827,"reputation":420,"user_id":5599966,"accept_rate":71,"display_name":"Mor Blau"},"score":0,"creation_date":1700119309,"post_id":77390641,"comment_id":136615980,"body_markdown":"Have you tried using headers as predicate? Websocket handshakes always include dedicated headers - &#39;Sec-WebSocket-Key&#39;, &#39;Sec-WebSocket-Protocol&#39;, &#39;Sec-WebSocket-Version&#39; and &#39;Upgrade: websocket&#39;, &#39;Connection: upgrade&#39;","body":"Have you tried using headers as predicate? Websocket handshakes always include dedicated headers - &#39;Sec-WebSocket-Key&#39;, &#39;Sec-WebSocket-Protocol&#39;, &#39;Sec-WebSocket-Version&#39; and &#39;Upgrade: websocket&#39;, &#39;Connection: upgrade&#39;"}],"answers":[{"tags":[],"owner":{"account_id":1105859,"reputation":74,"user_id":1097266,"display_name":"Rajesh P"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700481284,"creation_date":1700481284,"answer_id":77515693,"question_id":77390641,"body_markdown":"My answer is conceptual one and this would help in your work. \r\n\r\n 1. Write a new class and extend AbstractRoutePredicateFactory like WebSocketPredicateFactory\r\n 2. Add below code with your own logic to identify that the request need\r\n    to upgrade to web socket or not\r\n 3. Need to update the yaml file to configure your routes to use this\r\n    custom predicate factory\r\n\r\n    &lt;pre&gt;&lt;code&gt; @override   \r\n\r\n    public Predicate&lt;ServerWebExchange&gt; apply(Config config) {\r\n               return exchange -&gt; {\r\n                     // Check if the incoming request is for WebSocket upgrade\r\n                    if (isWebSocketUpgradeRequest(exchange)) {\r\n                         exchange.getRequest().mutate().headers(httpHeaders -&gt; \r\n                          httpHeaders.setUpgrade(&quot;websocket&quot;));\r\n                    \r\n                   exchange.getResponse().getHeaders().setUpgrade(&quot;websocket&quot;);\r\n                    return true;\r\n                }\r\n                return false;\r\n            };\r\n        }\r\n        \r\n        private boolean isWebSocketUpgradeRequest(ServerWebExchange exchange) {\r\n            // Implement your own logic to determine WebSocket upgrade based on path, headers, etc.\r\n            // For example:\r\n            return exchange.getRequest().getURI().getPath().equals(&quot;/graphql&quot;) &amp;&amp;\r\n                    exchange.getRequest().getHeaders().getUpgrade() != null &amp;&amp;\r\n                    exchange.getRequest().getHeaders().getUpgrade().contains(&quot;websocket&quot;);\r\n        }\r\n\r\nUpdate the route also like below \r\n\r\n    spring:\r\n      cloud:\r\n        gateway:\r\n          routes:\r\n            - id: http-and-ws\r\n              uri: http://kubernetes-ingres-controller\r\n              predicates:\r\n                - name: WebSocketPredicateFactory\r\n                  args: # any orgs \r\n\r\n","title":"Spring cloud gateway: Websockets on the same URL as HTTP(S)","body":"<p>My answer is conceptual one and this would help in your work.</p>\n<ol>\n<li><p>Write a new class and extend AbstractRoutePredicateFactory like WebSocketPredicateFactory</p>\n</li>\n<li><p>Add below code with your own logic to identify that the request need\nto upgrade to web socket or not</p>\n</li>\n<li><p>Need to update the yaml file to configure your routes to use this\ncustom predicate factory</p>\n<pre><code> @override   \n\npublic Predicate apply(Config config) {\n           return exchange -> {\n                 // Check if the incoming request is for WebSocket upgrade\n                if (isWebSocketUpgradeRequest(exchange)) {\n                     exchange.getRequest().mutate().headers(httpHeaders -> \n                      httpHeaders.setUpgrade(\"websocket\"));\n\n               exchange.getResponse().getHeaders().setUpgrade(\"websocket\");\n                return true;\n            }\n            return false;\n        };\n    }\n\n    private boolean isWebSocketUpgradeRequest(ServerWebExchange exchange) {\n        // Implement your own logic to determine WebSocket upgrade based on path, headers, etc.\n        // For example:\n        return exchange.getRequest().getURI().getPath().equals(\"/graphql\") &&\n                exchange.getRequest().getHeaders().getUpgrade() != null &&\n                exchange.getRequest().getHeaders().getUpgrade().contains(\"websocket\");\n    }\n\n</li>\n</ol>\n<p>Update the route also like below</p>\nspring:\n  cloud:\n    gateway:\n      routes:\n        - id: http-and-ws\n          uri: http://kubernetes-ingres-controller\n          predicates:\n            - name: WebSocketPredicateFactory\n              args: # any orgs \n</code></pre>\n"}],"owner":{"account_id":47195,"reputation":1147,"user_id":139659,"accept_rate":87,"display_name":"David North"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":168,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"answer_count":1,"score":7,"last_activity_date":1700481284,"creation_date":1698686114,"question_id":77390641,"body_markdown":"I&#39;m using Spring Cloud Gateway with a routing configuration like this:\r\n\r\n```\r\nspring:\r\n  cloud:\r\n    gateway:\r\n      routes:\r\n      - id: http\r\n        uri: http://kubernetes-ingres-controller\r\n```\r\n\r\nIn other words, I&#39;m sending all paths onwards to somewhere else, which happens to be a K8s ingress controller. Spring adds some headers and handles the translation of session cookies into bearer tokens.\r\n\r\nI&#39;m starting to add some endpoints which handle websockets. However, since we are using websockets to do GraphQL subscriptions, we tend to have a single /graphql path which handles both ordinary GraphQL queries and websockets for subscriptions.\r\n\r\nIs there a way to configure Spring Cloud Gateway to support both http and ws (or https and wss) on a single path?\r\n\r\nI can do this:\r\n\r\n```\r\nspring:\r\n  cloud:\r\n    gateway:\r\n      routes:\r\n      - id: http\r\n        uri: http://kubernetes-ingres-controller\r\n      - id: ws\r\n        uri: ws://kubernetes-ingres-controller\r\n        predicates:\r\n          - Path=/graphql\r\n```\r\n\r\nHowever it&#39;s not clear to me that ordinary HTTP will work on the graphql path - and in practice there are many such paths; I&#39;d prefer not to have to enumerate them all.\r\n\r\nSome sort of setting to allow http with optional upgrade to wss on a single route would be ideal.","title":"Spring cloud gateway: Websockets on the same URL as HTTP(S)","body":"<p>I'm using Spring Cloud Gateway with a routing configuration like this:</p>\n<pre><code>spring:\n  cloud:\n    gateway:\n      routes:\n      - id: http\n        uri: http://kubernetes-ingres-controller\n</code></pre>\n<p>In other words, I'm sending all paths onwards to somewhere else, which happens to be a K8s ingress controller. Spring adds some headers and handles the translation of session cookies into bearer tokens.</p>\n<p>I'm starting to add some endpoints which handle websockets. However, since we are using websockets to do GraphQL subscriptions, we tend to have a single /graphql path which handles both ordinary GraphQL queries and websockets for subscriptions.</p>\n<p>Is there a way to configure Spring Cloud Gateway to support both http and ws (or https and wss) on a single path?</p>\n<p>I can do this:</p>\n<pre><code>spring:\n  cloud:\n    gateway:\n      routes:\n      - id: http\n        uri: http://kubernetes-ingres-controller\n      - id: ws\n        uri: ws://kubernetes-ingres-controller\n        predicates:\n          - Path=/graphql\n</code></pre>\n<p>However it's not clear to me that ordinary HTTP will work on the graphql path - and in practice there are many such paths; I'd prefer not to have to enumerate them all.</p>\n<p>Some sort of setting to allow http with optional upgrade to wss on a single route would be ideal.</p>\n"},{"tags":["javascript","java","android","ionic-framework","capacitor"],"comments":[{"owner":{"account_id":21741636,"reputation":1162,"user_id":16048914,"display_name":"David Weber"},"score":0,"creation_date":1698839026,"post_id":77401920,"comment_id":136455035,"body_markdown":"I hope you develop this for private purposes. I learned to never use Ionic again for business. Trust me, Android is not only Java. It backstabs you everywhere with everything if you are not a pro. If you are developing for private purposes, switch to native Android. This &quot;Ionic one Code Base solution&quot; sounds like the holy grail, but it is not. Just trust me my friend. If it is for business, I wish you much luck. Your best bet is to pass the data with JSON. If you want something like a single code base, create a REST backend with Java, and create a UI for Android and iOS, both in native.","body":"I hope you develop this for private purposes. I learned to never use Ionic again for business. Trust me, Android is not only Java. It backstabs you everywhere with everything if you are not a pro. If you are developing for private purposes, switch to native Android. This &quot;Ionic one Code Base solution&quot; sounds like the holy grail, but it is not. Just trust me my friend. If it is for business, I wish you much luck. Your best bet is to pass the data with JSON. If you want something like a single code base, create a REST backend with Java, and create a UI for Android and iOS, both in native."},{"owner":{"account_id":21741636,"reputation":1162,"user_id":16048914,"display_name":"David Weber"},"score":1,"creation_date":1698839483,"post_id":77401920,"comment_id":136455108,"body_markdown":"You will have thousands of problems with your App running an different Android versions. Android is not backwards/forward compatible. There won&#39;t be compiler errors, but it will just not work. And the wrapping by Ionic makes this even worse. &quot;But it works ob my machine&quot; you will say...","body":"You will have thousands of problems with your App running an different Android versions. Android is not backwards/forward compatible. There won&#39;t be compiler errors, but it will just not work. And the wrapping by Ionic makes this even worse. &quot;But it works ob my machine&quot; you will say..."}],"answers":[{"tags":[],"owner":{"account_id":29535294,"reputation":11,"user_id":22635007,"display_name":"rohitmg"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700481205,"creation_date":1700481205,"answer_id":77515679,"question_id":77401920,"body_markdown":"After lots of trial and error, I&#39;ve found a solution that works using webView. I&#39;m including it here in case anyone else has the same issue.\r\n\r\nOn the java side, I&#39;ve added the following function to CallbackActivity.java\r\n\r\n    //CallbackActivity.java\r\n    private void sendCodeToJS(String codeParam) {\r\n        WebView webView = this.getBridge().getWebView();\r\n\r\n        webView.post(new Runnable() {\r\n            @Override\r\n            public void run() {\r\n                webView.evaluateJavascript(&quot;var event = new Event(&#39;customCodeEvent&#39;); event.code = &#39;&quot; + codeParam + &quot;&#39;; window.dispatchEvent(event);&quot;, null);\r\n            }\r\n        });\r\n\r\n    }\r\n\r\nand on the JavaScript side, I have added an event listener to listen for the customCodeEvent\r\n\r\n    // VueComponent.vue\r\n    window.addEventListener(&#39;customCodeEvent&#39;, event =&gt; {\r\n        const code = event.code;\r\n    \r\n        if (code) {\r\n            store.dispatch(&#39;auth/exchangeCodeForAccessToken&#39;, code);\r\n        }\r\n    });","title":"Pass a string from Java to Vue.js in an Ionic project","body":"<p>After lots of trial and error, I've found a solution that works using webView. I'm including it here in case anyone else has the same issue.</p>\n<p>On the java side, I've added the following function to CallbackActivity.java</p>\n<pre><code>//CallbackActivity.java\nprivate void sendCodeToJS(String codeParam) {\n    WebView webView = this.getBridge().getWebView();\n\n    webView.post(new Runnable() {\n        @Override\n        public void run() {\n            webView.evaluateJavascript(&quot;var event = new Event('customCodeEvent'); event.code = '&quot; + codeParam + &quot;'; window.dispatchEvent(event);&quot;, null);\n        }\n    });\n\n}\n</code></pre>\n<p>and on the JavaScript side, I have added an event listener to listen for the customCodeEvent</p>\n<pre><code>// VueComponent.vue\nwindow.addEventListener('customCodeEvent', event =&gt; {\n    const code = event.code;\n\n    if (code) {\n        store.dispatch('auth/exchangeCodeForAccessToken', code);\n    }\n});\n</code></pre>\n"}],"owner":{"account_id":29535294,"reputation":11,"user_id":22635007,"display_name":"rohitmg"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1700481205,"creation_date":1698834252,"question_id":77401920,"body_markdown":"I&#39;m building an android app using Ionic &amp; Vue. I&#39;m using inaturalist to authenticate users. Once the user is authenticated by inaturalist, it triggers a callback url in which it sends a code. I&#39;m intercepting the callback code and able to display it in a dialog, but I can&#39;t figure out how to pass this on to my vue component. \r\n\r\n```\r\n//MainActivity.java\r\n&lt;activity\r\n    android:name=&quot;.CallbackActivity&quot;\r\n    android:exported=&quot;true&quot;&gt;\r\n    &lt;intent-filter&gt;\r\n        &lt;action android:name=&quot;android.intent.action.VIEW&quot; /&gt;\r\n        &lt;category android:name=&quot;android.intent.category.DEFAULT&quot; /&gt;\r\n        &lt;category android:name=&quot;android.intent.category.BROWSABLE&quot; /&gt;\r\n        &lt;data\r\n            android:scheme=&quot;myapp&quot;\r\n            android:host=&quot;callback&quot; /&gt;\r\n    &lt;/intent-filter&gt;\r\n&lt;/activity&gt;\r\n\r\n//CallbackActivity.java\r\npublic class CallbackActivity extends Activity {\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n\r\n        Intent intent = getIntent();\r\n        Uri data = intent.getData();\r\n\r\n        if (data != null &amp;&amp; &quot;myapp&quot;.equals(data.getScheme()) &amp;&amp; &quot;callback&quot;.equals(data.getHost())) {\r\n            String codeParam = data.getQueryParameter(&quot;code&quot;);\r\n            if (codeParam != null) {\r\n                displayReceivedCode(codeParam);\r\n            } else {\r\n                finish();\r\n            }\r\n        }\r\n    }\r\n\r\n    private void displayReceivedCode(String codeParam) {\r\n        AlertDialog.Builder builder = new AlertDialog.Builder(this);\r\n        builder.setTitle(&quot;Received Code&quot;);\r\n        builder.setMessage(&quot;The code received is: &quot; + codeParam);\r\n        builder.setPositiveButton(&quot;OK&quot;, new DialogInterface.OnClickListener() {\r\n            public void onClick(DialogInterface dialog, int which) {\r\n                dialog.dismiss();\r\n                openVueApp(codeParam);\r\n            }\r\n        });\r\n\r\n        AlertDialog alertDialog = builder.create();\r\n        alertDialog.show();\r\n    }\r\n\r\n    private void openVueApp(String codeParam) {\r\n        Intent intent = new Intent(this, MainActivity.class); \r\n        intent.addFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP);\r\n        intent.putExtra(&quot;codeParam&quot;, codeParam);\r\n        startActivity(intent);\r\n        finish(); \r\n    }\r\n}\r\n\r\n//Login.vue\r\nasync login({commit}:any) {\r\n            const clientId = &#39;xxxxxxxxxxxxxxxxxx&#39;;\r\n            \r\n            let authorizationUrl = &#39;https://www.inaturalist.org/oauth/authorize&#39;;\r\n            const responseType = &#39;code&#39;;\r\n            const codeChallengeMethod = &#39;S256&#39;;\r\n        \r\n            commit(&#39;SET_LOADING&#39;, &quot;Logging in...&quot;)\r\n            const codeVerifier = generateCodeVerifier();\r\n            const codeChallenge = await generateCodeChallenge(codeVerifier);\r\n        \r\n            commit(&#39;SET_CODE_VERIFIER&#39;, codeVerifier)\r\n            \r\n            authorizationUrl += `?client_id=${clientId}&amp;redirect_uri=${redirectUri}&amp;response_type=${responseType}&amp;code_challenge=${codeChallenge}&amp;code_challenge_method=${codeChallengeMethod}`;\r\n            const data = await Browser.open({ url: authorizationUrl });\r\n            console.log(data)\r\n        }\r\n```\r\n\r\n\r\nIm pretty sure I have to dispatch an event from java and listen for it in my component, but i cant figure out exactly how. ","title":"Pass a string from Java to Vue.js in an Ionic project","body":"<p>I'm building an android app using Ionic &amp; Vue. I'm using inaturalist to authenticate users. Once the user is authenticated by inaturalist, it triggers a callback url in which it sends a code. I'm intercepting the callback code and able to display it in a dialog, but I can't figure out how to pass this on to my vue component.</p>\n<pre><code>//MainActivity.java\n&lt;activity\n    android:name=&quot;.CallbackActivity&quot;\n    android:exported=&quot;true&quot;&gt;\n    &lt;intent-filter&gt;\n        &lt;action android:name=&quot;android.intent.action.VIEW&quot; /&gt;\n        &lt;category android:name=&quot;android.intent.category.DEFAULT&quot; /&gt;\n        &lt;category android:name=&quot;android.intent.category.BROWSABLE&quot; /&gt;\n        &lt;data\n            android:scheme=&quot;myapp&quot;\n            android:host=&quot;callback&quot; /&gt;\n    &lt;/intent-filter&gt;\n&lt;/activity&gt;\n\n//CallbackActivity.java\npublic class CallbackActivity extends Activity {\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n\n        Intent intent = getIntent();\n        Uri data = intent.getData();\n\n        if (data != null &amp;&amp; &quot;myapp&quot;.equals(data.getScheme()) &amp;&amp; &quot;callback&quot;.equals(data.getHost())) {\n            String codeParam = data.getQueryParameter(&quot;code&quot;);\n            if (codeParam != null) {\n                displayReceivedCode(codeParam);\n            } else {\n                finish();\n            }\n        }\n    }\n\n    private void displayReceivedCode(String codeParam) {\n        AlertDialog.Builder builder = new AlertDialog.Builder(this);\n        builder.setTitle(&quot;Received Code&quot;);\n        builder.setMessage(&quot;The code received is: &quot; + codeParam);\n        builder.setPositiveButton(&quot;OK&quot;, new DialogInterface.OnClickListener() {\n            public void onClick(DialogInterface dialog, int which) {\n                dialog.dismiss();\n                openVueApp(codeParam);\n            }\n        });\n\n        AlertDialog alertDialog = builder.create();\n        alertDialog.show();\n    }\n\n    private void openVueApp(String codeParam) {\n        Intent intent = new Intent(this, MainActivity.class); \n        intent.addFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP);\n        intent.putExtra(&quot;codeParam&quot;, codeParam);\n        startActivity(intent);\n        finish(); \n    }\n}\n\n//Login.vue\nasync login({commit}:any) {\n            const clientId = 'xxxxxxxxxxxxxxxxxx';\n            \n            let authorizationUrl = 'https://www.inaturalist.org/oauth/authorize';\n            const responseType = 'code';\n            const codeChallengeMethod = 'S256';\n        \n            commit('SET_LOADING', &quot;Logging in...&quot;)\n            const codeVerifier = generateCodeVerifier();\n            const codeChallenge = await generateCodeChallenge(codeVerifier);\n        \n            commit('SET_CODE_VERIFIER', codeVerifier)\n            \n            authorizationUrl += `?client_id=${clientId}&amp;redirect_uri=${redirectUri}&amp;response_type=${responseType}&amp;code_challenge=${codeChallenge}&amp;code_challenge_method=${codeChallengeMethod}`;\n            const data = await Browser.open({ url: authorizationUrl });\n            console.log(data)\n        }\n</code></pre>\n<p>Im pretty sure I have to dispatch an event from java and listen for it in my component, but i cant figure out exactly how.</p>\n"},{"tags":["java","algorithm","language-agnostic","random","set"],"comments":[{"owner":{"account_id":8022,"reputation":21441,"user_id":14167,"accept_rate":83,"display_name":"David Nehme"},"score":5,"creation_date":1222308196,"post_id":124671,"comment_id":32316,"body_markdown":"You should specify some conditions to see if this is really what you want.\n- How may times are you going to be selecting a random element?\n- Does the data need to be stored in a HashSet or LinkedHashSet, neither are not randomly accessable.\n- Is the hash set large?  Are the keys small?","body":"You should specify some conditions to see if this is really what you want. - How may times are you going to be selecting a random element? - Does the data need to be stored in a HashSet or LinkedHashSet, neither are not randomly accessable. - Is the hash set large?  Are the keys small?"}],"answers":[{"comments":[{"owner":{"account_id":71043,"reputation":30960,"user_id":205521,"accept_rate":89,"display_name":"Thomas Ahle"},"score":3,"creation_date":1261909236,"post_id":124687,"comment_id":1879414,"body_markdown":"Only, [1,2,3,4,5,6] is not a set, but a list, since it doesn&#39;t support things like fast lookups.","body":"Only, [1,2,3,4,5,6] is not a set, but a list, since it doesn&#39;t support things like fast lookups."},{"owner":{"account_id":73192,"reputation":9190,"user_id":210920,"accept_rate":86,"display_name":"SapphireSun"},"score":0,"creation_date":1280174396,"post_id":124687,"comment_id":3463573,"body_markdown":"You can still do: &gt;&gt;&gt; random.choice(list(set(range(5)))) &gt;&gt;&gt; 4 Not ideal but it&#39;ll do if you absolutely need to.","body":"You can still do: &gt;&gt;&gt; random.choice(list(set(range(5)))) &gt;&gt;&gt; 4 Not ideal but it&#39;ll do if you absolutely need to."}],"tags":[],"owner":{"account_id":3375,"reputation":16952,"user_id":4869,"accept_rate":73,"display_name":"Swaroop C H"},"comment_count":2,"down_vote_count":2,"up_vote_count":3,"is_accepted":false,"score":1,"last_activity_date":1222215345,"creation_date":1222215345,"answer_id":124687,"question_id":124671,"body_markdown":"Since you said &quot;Solutions for other languages are also welcome&quot;, here&#39;s the version for Python:\r\n\r\n    &gt;&gt;&gt; import random\r\n    &gt;&gt;&gt; random.choice([1,2,3,4,5,6])\r\n    3\r\n    &gt;&gt;&gt; random.choice([1,2,3,4,5,6])\r\n    4\r\n","title":"Picking a random element from a set","body":"<p>Since you said \"Solutions for other languages are also welcome\", here's the version for Python:</p>\n\n<pre><code>&gt;&gt;&gt; import random\n&gt;&gt;&gt; random.choice([1,2,3,4,5,6])\n3\n&gt;&gt;&gt; random.choice([1,2,3,4,5,6])\n4\n</code></pre>\n"},{"comments":[{"owner":{"account_id":11190,"reputation":3147,"user_id":21445,"display_name":"Clue Less"},"score":12,"creation_date":1222220078,"post_id":124691,"comment_id":28881,"body_markdown":"Your answer works, but it&#39;s not very efficient because of the set.toArray( ) part.","body":"Your answer works, but it&#39;s not very efficient because of the set.toArray( ) part."},{"owner":{"account_id":8022,"reputation":21441,"user_id":14167,"accept_rate":83,"display_name":"David Nehme"},"score":12,"creation_date":1222307845,"post_id":124691,"comment_id":32300,"body_markdown":"you should move the toArray to outside the loop.","body":"you should move the toArray to outside the loop."}],"tags":[],"owner":{"account_id":4357,"reputation":96489,"user_id":6508,"accept_rate":71,"display_name":"Jorge Ferreira"},"comment_count":2,"down_vote_count":4,"up_vote_count":13,"is_accepted":false,"score":9,"last_activity_date":1351577166,"creation_date":1222215392,"answer_id":124691,"question_id":124671,"body_markdown":"**In Java:**\r\n\r\n    Set&lt;Integer&gt; set = new LinkedHashSet&lt;Integer&gt;(3);\r\n    set.add(1);\r\n    set.add(2);\r\n    set.add(3);\r\n    \r\n    Random rand = new Random(System.currentTimeMillis());\r\n    int[] setArray = (int[]) set.toArray();\r\n    for (int i = 0; i &lt; 10; ++i) {\r\n        System.out.println(setArray[rand.nextInt(set.size())]);\r\n    }","title":"Picking a random element from a set","body":"<p><strong>In Java:</strong></p>\n\n<pre><code>Set&lt;Integer&gt; set = new LinkedHashSet&lt;Integer&gt;(3);\nset.add(1);\nset.add(2);\nset.add(3);\n\nRandom rand = new Random(System.currentTimeMillis());\nint[] setArray = (int[]) set.toArray();\nfor (int i = 0; i &lt; 10; ++i) {\n    System.out.println(setArray[rand.nextInt(set.size())]);\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":10445,"reputation":2578,"user_id":19741,"accept_rate":76,"display_name":"daniel"},"score":111,"creation_date":1222223435,"post_id":124693,"comment_id":28951,"body_markdown":"If myHashSet is large, then this will be a rather slow solution since on average, (n / 2) iterations will be needed to find the random object.","body":"If myHashSet is large, then this will be a rather slow solution since on average, (n / 2) iterations will be needed to find the random object."},{"owner":{"account_id":8022,"reputation":21441,"user_id":14167,"accept_rate":83,"display_name":"David Nehme"},"score":6,"creation_date":1222308014,"post_id":124693,"comment_id":32313,"body_markdown":"if your data is in a hash set, you need O(n) time.  There&#39;s no way around it if you are just picking a single element and the data is stored in a HashSet.","body":"if your data is in a hash set, you need O(n) time.  There&#39;s no way around it if you are just picking a single element and the data is stored in a HashSet."},{"owner":{"account_id":49098,"reputation":26659,"user_id":146041,"accept_rate":71,"display_name":"Aaron McDaid"},"score":8,"creation_date":1279633817,"post_id":124693,"comment_id":3407031,"body_markdown":"@David Nehme: This is a drawback in the specification of HashSet in Java. In C++, it&#39;s typical to be able to directly access the buckets that make up the hashset, which allows us to more efficiently select a random elements.\n\nIf random elements are necessary in Java, it might be worthwhile to define a custom hash set that allows the user to look under the hood.  See [boost&#39;s docs][1] for a little more in this.\n\n [1] http://www.boost.org/doc/libs/1_43_0/doc/html/unordered/buckets.html","body":"@David Nehme: This is a drawback in the specification of HashSet in Java. In C++, it&#39;s typical to be able to directly access the buckets that make up the hashset, which allows us to more efficiently select a random elements.  If random elements are necessary in Java, it might be worthwhile to define a custom hash set that allows the user to look under the hood.  See [boost&#39;s docs][1] for a little more in this.   [1] <a href=\"http://www.boost.org/doc/libs/1_43_0/doc/html/unordered/buckets.html\" rel=\"nofollow noreferrer\">boost.org/doc/libs/1_43_0/doc/html/unordered/buckets.html</a>"},{"owner":{"account_id":6055,"reputation":14786,"user_id":10026,"accept_rate":68,"display_name":"ykaganovich"},"score":12,"creation_date":1279743789,"post_id":124693,"comment_id":3422486,"body_markdown":"If the set is not mutated over multiple accesses, you can copy it into an array and then access O(1). Just use myHashSet.toArray()","body":"If the set is not mutated over multiple accesses, you can copy it into an array and then access O(1). Just use myHashSet.toArray()"},{"owner":{"account_id":305784,"reputation":1942,"user_id":616150,"accept_rate":64,"display_name":"Viktor Dahl"},"score":0,"creation_date":1345451675,"post_id":124693,"comment_id":16063532,"body_markdown":"@AaronMcDaid Even then, you would have to take empty buckets into account.","body":"@AaronMcDaid Even then, you would have to take empty buckets into account."},{"owner":{"account_id":291702,"reputation":989,"user_id":1232197,"accept_rate":73,"display_name":"anton1980"},"score":2,"creation_date":1416626373,"post_id":124693,"comment_id":42659258,"body_markdown":"@ykaganovich wouldn&#39;t this make matters worse, since the set would have to be copied to a new array? https://docs.oracle.com/javase/7/docs/api/java/util/AbstractCollection.html#toArray%28%29 &quot;this method must allocate a new array even if this collection is backed by an array&quot;","body":"@ykaganovich wouldn&#39;t this make matters worse, since the set would have to be copied to a new array? <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/AbstractCollection.html#toArray%28%29\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/7/docs/api/java/util/&hellip;</a> &quot;this method must allocate a new array even if this collection is backed by an array&quot;"},{"owner":{"account_id":6055,"reputation":14786,"user_id":10026,"accept_rate":68,"display_name":"ykaganovich"},"score":0,"creation_date":1416789194,"post_id":124693,"comment_id":42697816,"body_markdown":"@anton1980 See discussion under Dan Dyer&#39;s answer http://stackoverflow.com/a/129386/10026","body":"@anton1980 See discussion under Dan Dyer&#39;s answer <a href=\"http://stackoverflow.com/a/129386/10026\">stackoverflow.com/a/129386/10026</a>"},{"owner":{"account_id":5588221,"reputation":127,"user_id":4428219,"accept_rate":0,"display_name":"pyfyc"},"score":0,"creation_date":1667967985,"post_id":124693,"comment_id":131292131,"body_markdown":"This solution will work only for Integer type elements, i.e. HashSet&lt;Integer&gt;. For other types see another answer (down below): https://stackoverflow.com/a/51412979/4428219","body":"This solution will work only for Integer type elements, i.e. HashSet&lt;Integer&gt;. For other types see another answer (down below): <a href=\"https://stackoverflow.com/a/51412979/4428219\">stackoverflow.com/a/51412979/4428219</a>"}],"tags":[],"owner":{"account_id":10853,"reputation":13098,"user_id":20686,"display_name":"Khoth"},"comment_count":8,"down_vote_count":6,"up_vote_count":108,"is_accepted":true,"score":102,"last_activity_date":1482583005,"creation_date":1222215428,"answer_id":124693,"question_id":124671,"body_markdown":"    int size = myHashSet.size();\r\n    int item = new Random().nextInt(size); // In real life, the Random object should be rather more shared than this\r\n    int i = 0;\r\n    for(Object obj : myhashSet)\r\n    {\r\n        if (i == item)\r\n            return obj;\r\n        i++;\r\n    }","title":"Picking a random element from a set","body":"<pre><code>int size = myHashSet.size();\nint item = new Random().nextInt(size); // In real life, the Random object should be rather more shared than this\nint i = 0;\nfor(Object obj : myhashSet)\n{\n    if (i == item)\n        return obj;\n    i++;\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":73574,"reputation":361,"user_id":211771,"display_name":"David Haley"},"score":0,"creation_date":1277838086,"post_id":124699,"comment_id":3230490,"body_markdown":"This only works if the container in question supports random index lookup. Many container implementations don&#39;t (e.g., hash tables, binary trees, linked lists).","body":"This only works if the container in question supports random index lookup. Many container implementations don&#39;t (e.g., hash tables, binary trees, linked lists)."}],"tags":[],"owner":{"account_id":7952,"reputation":2184,"user_id":14026,"accept_rate":89,"display_name":"matt lohkamp"},"comment_count":1,"down_vote_count":2,"up_vote_count":3,"is_accepted":false,"score":1,"last_activity_date":1222215526,"creation_date":1222215526,"answer_id":124699,"question_id":124671,"body_markdown":"Can&#39;t you just get the size/length of the set/array, generate a random number between 0 and the size/length, then call the element whose index matches that number? HashSet has a .size() method, I&#39;m pretty sure.\r\n\r\nIn psuedocode -\r\n\r\n    function randFromSet(target){\r\n     var targetLength:uint = target.length()\r\n     var randomIndex:uint = random(0,targetLength);\r\n     return target[randomIndex];\r\n    }\r\n\r\n\r\n","title":"Picking a random element from a set","body":"<p>Can't you just get the size/length of the set/array, generate a random number between 0 and the size/length, then call the element whose index matches that number? HashSet has a .size() method, I'm pretty sure.</p>\n\n<p>In psuedocode -</p>\n\n<pre><code>function randFromSet(target){\n var targetLength:uint = target.length()\n var randomIndex:uint = random(0,targetLength);\n return target[randomIndex];\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":11002035,"reputation":3342,"user_id":8997916,"display_name":"DownloadPizza"},"score":0,"creation_date":1593439127,"post_id":124700,"comment_id":110774016,"body_markdown":"Most set implementations dont have a get(i) or indexing operator, so id assume thats why OP specified its a set","body":"Most set implementations dont have a get(i) or indexing operator, so id assume thats why OP specified its a set"}],"tags":[],"owner":{"account_id":10946,"reputation":8174,"user_id":20903,"accept_rate":67,"display_name":"dirtside"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1222215548,"creation_date":1222215548,"answer_id":124700,"question_id":124671,"body_markdown":"PHP, assuming &quot;set&quot; is an array:\r\n\r\n    $foo = array(&quot;alpha&quot;, &quot;bravo&quot;, &quot;charlie&quot;);\r\n    $index = array_rand($foo);\r\n    $val = $foo[$index];\r\n\r\nThe Mersenne Twister functions are better but there&#39;s no MT equivalent of array_rand in PHP.","title":"Picking a random element from a set","body":"<p>PHP, assuming \"set\" is an array:</p>\n\n<pre><code>$foo = array(\"alpha\", \"bravo\", \"charlie\");\n$index = array_rand($foo);\n$val = $foo[$index];\n</code></pre>\n\n<p>The Mersenne Twister functions are better but there's no MT equivalent of array_rand in PHP.</p>\n"},{"tags":[],"owner":{"account_id":8337,"reputation":9110,"user_id":14979,"accept_rate":91,"display_name":"da5id"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1222216120,"creation_date":1222216120,"answer_id":124735,"question_id":124671,"body_markdown":"PHP, using MT:\r\n\r\n    $items_array = array(&quot;alpha&quot;, &quot;bravo&quot;, &quot;charlie&quot;);\r\n    $last_pos = count($items_array) - 1;\r\n    $random_pos = mt_rand(0, $last_pos);\r\n    $random_item = $items_array[$random_pos];\r\n\r\n","title":"Picking a random element from a set","body":"<p>PHP, using MT:</p>\n\n<pre><code>$items_array = array(\"alpha\", \"bravo\", \"charlie\");\n$last_pos = count($items_array) - 1;\n$random_pos = mt_rand(0, $last_pos);\n$random_item = $items_array[$random_pos];\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3216,"reputation":12095,"user_id":4600,"display_name":"marcospereira"},"score":0,"creation_date":1222260098,"post_id":124749,"comment_id":29992,"body_markdown":"I prefer the second alternative. :-)","body":"I prefer the second alternative. :-)"},{"owner":{"account_id":7952,"reputation":2184,"user_id":14026,"accept_rate":89,"display_name":"matt lohkamp"},"score":0,"creation_date":1222553173,"post_id":124749,"comment_id":40169,"body_markdown":"ooh, I like extending adding the new array method!","body":"ooh, I like extending adding the new array method!"}],"tags":[],"owner":{"account_id":6491,"reputation":3713,"user_id":10942,"accept_rate":100,"display_name":"Mathew Byrne"},"comment_count":2,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1222230198,"creation_date":1222216518,"answer_id":124749,"question_id":124671,"body_markdown":"Javascript solution ;)\r\n\r\n\tfunction choose (set) {\r\n\t\treturn set[Math.floor(Math.random() * set.length)];\r\n\t}\r\n\t\r\n\tvar set  = [1, 2, 3, 4], rand = choose (set);\r\n\r\nOr alternatively:\r\n\r\n\tArray.prototype.choose = function () {\r\n\t\treturn this[Math.floor(Math.random() * this.length)];\r\n\t};\r\n\t\r\n\t[1, 2, 3, 4].choose();\r\n","title":"Picking a random element from a set","body":"<p>Javascript solution ;)</p>\n\n<pre><code>function choose (set) {\n    return set[Math.floor(Math.random() * set.length)];\n}\n\nvar set  = [1, 2, 3, 4], rand = choose (set);\n</code></pre>\n\n<p>Or alternatively:</p>\n\n<pre><code>Array.prototype.choose = function () {\n    return this[Math.floor(Math.random() * this.length)];\n};\n\n[1, 2, 3, 4].choose();\n</code></pre>\n"},{"comments":[{"owner":{"account_id":69533,"reputation":32924,"user_id":202229,"accept_rate":74,"display_name":"smci"},"score":0,"creation_date":1328730516,"post_id":124769,"comment_id":11579537,"body_markdown":"Awesome! This is not crossreferenced anywhere in the java doc! Like [Python&#39;s random.shuffle()](http://docs.python.org/library/random.html?highlight=random.shuffle#random.shuffle)","body":"Awesome! This is not crossreferenced anywhere in the java doc! Like <a href=\"http://docs.python.org/library/random.html?highlight=random.shuffle#random.shuffle\" rel=\"nofollow noreferrer\">Python&#39;s random.shuffle()</a>"},{"owner":{"account_id":1490533,"reputation":1784,"user_id":1397712,"accept_rate":90,"display_name":"under_the_sea_salad"},"score":34,"creation_date":1424384843,"post_id":124769,"comment_id":45539450,"body_markdown":"But this only works with Lists, i.e., structures that have a .get() function.","body":"But this only works with Lists, i.e., structures that have a .get() function."},{"owner":{"account_id":3805386,"reputation":6451,"user_id":3469725,"accept_rate":96,"display_name":"Thomas"},"score":6,"creation_date":1425157046,"post_id":124769,"comment_id":45849580,"body_markdown":"@bourbaki4481472 is absolutely correct. This only works for those collections extending the `List` interface, not the `Set` interface discussed by the OP.","body":"@bourbaki4481472 is absolutely correct. This only works for those collections extending the <code>List</code> interface, not the <code>Set</code> interface discussed by the OP."},{"owner":{"account_id":164059,"reputation":1169,"user_id":386587,"display_name":"Erk"},"score":1,"creation_date":1609455388,"post_id":124769,"comment_id":115848748,"body_markdown":"However, OP wishes to pick *a* (one I assume) element. Shuffling the whole list (and also transferring all elements in the set to a list) is very expensive for that one item... If you have a list, you use `List.get(new Random().nextInt(size))`.","body":"However, OP wishes to pick <i>a</i> (one I assume) element. Shuffling the whole list (and also transferring all elements in the set to a list) is very expensive for that one item... If you have a list, you use <code>List.get(new Random().nextInt(size))</code>."}],"tags":[],"owner":{"account_id":2808,"reputation":9121,"user_id":3966,"accept_rate":100,"display_name":"chickeninabiscuit"},"comment_count":4,"down_vote_count":13,"up_vote_count":90,"is_accepted":false,"score":77,"last_activity_date":1461855586,"creation_date":1222216983,"answer_id":124769,"question_id":124671,"body_markdown":"A somewhat related Did You Know: \r\n\r\nThere are useful methods in [`java.util.Collections`][1] for shuffling whole collections: [`Collections.shuffle(List&lt;?&gt;)`][2] and [`Collections.shuffle(List&lt;?&gt; list, Random rnd)`][3].\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/Collections.html\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/util/Collections.html#shuffle-java.util.List-\r\n  [3]: https://docs.oracle.com/javase/8/docs/api/java/util/Collections.html#shuffle-java.util.List-java.util.Random-","title":"Picking a random element from a set","body":"<p>A somewhat related Did You Know: </p>\n\n<p>There are useful methods in <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Collections.html\" rel=\"noreferrer\"><code>java.util.Collections</code></a> for shuffling whole collections: <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Collections.html#shuffle-java.util.List-\" rel=\"noreferrer\"><code>Collections.shuffle(List&lt;?&gt;)</code></a> and <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Collections.html#shuffle-java.util.List-java.util.Random-\" rel=\"noreferrer\"><code>Collections.shuffle(List&lt;?&gt; list, Random rnd)</code></a>.</p>\n"},{"tags":[],"owner":{"account_id":11077,"reputation":4866,"user_id":21204,"display_name":"J.J."},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1222217501,"creation_date":1222217501,"answer_id":124791,"question_id":124671,"body_markdown":"Perl 5\r\n\r\n    @hash_keys = (keys %hash);\r\n    $rand = int(rand(@hash_keys));\r\n    print $hash{$hash_keys[$rand]};\r\n\r\nHere is one way to do it.\r\n\r\n","title":"Picking a random element from a set","body":"<p>Perl 5</p>\n\n<pre><code>@hash_keys = (keys %hash);\n$rand = int(rand(@hash_keys));\nprint $hash{$hash_keys[$rand]};\n</code></pre>\n\n<p>Here is one way to do it.</p>\n"},{"tags":[],"owner":{"account_id":8382,"reputation":6567,"user_id":15069,"accept_rate":25,"display_name":"Hugh Allen"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1222225394,"creation_date":1222220803,"answer_id":124942,"question_id":124671,"body_markdown":"[Icon][1] has a set type and a random-element operator, unary &quot;?&quot;, so the expression\r\n\r\n    ? set( [1, 2, 3, 4, 5] )\r\nwill produce a random number between 1 and 5.\r\n\r\nThe random seed is initialized to 0 when a program is run, so to produce different results on each run use `randomize()`\r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Icon_(programming_language)","title":"Picking a random element from a set","body":"<p><a href=\"http://en.wikipedia.org/wiki/Icon_(programming_language)\" rel=\"nofollow noreferrer\">Icon</a> has a set type and a random-element operator, unary \"?\", so the expression</p>\n\n<pre><code>? set( [1, 2, 3, 4, 5] )\n</code></pre>\n\n<p>will produce a random number between 1 and 5.</p>\n\n<p>The random seed is initialized to 0 when a program is run, so to produce different results on each run use <code>randomize()</code></p>\n"},{"tags":[],"owner":{"account_id":8834,"reputation":297144,"user_id":16076,"display_name":"Mitch Wheat"},"comment_count":0,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1222227151,"creation_date":1222227151,"answer_id":125270,"question_id":124671,"body_markdown":"**In C#**\r\n\r\n            Random random = new Random((int)DateTime.Now.Ticks);\r\n\r\n            OrderedDictionary od = new OrderedDictionary();\r\n\r\n            od.Add(&quot;abc&quot;, 1);\r\n            od.Add(&quot;def&quot;, 2);\r\n            od.Add(&quot;ghi&quot;, 3);\r\n            od.Add(&quot;jkl&quot;, 4);\r\n\r\n\r\n            int randomIndex = random.Next(od.Count);\r\n\r\n            Console.WriteLine(od[randomIndex]);\r\n\r\n            // Can access via index or key value:\r\n            Console.WriteLine(od[1]);\r\n            Console.WriteLine(od[&quot;def&quot;]);\r\n\r\n","title":"Picking a random element from a set","body":"<p><strong>In C#</strong></p>\n\n<pre><code>        Random random = new Random((int)DateTime.Now.Ticks);\n\n        OrderedDictionary od = new OrderedDictionary();\n\n        od.Add(\"abc\", 1);\n        od.Add(\"def\", 2);\n        od.Add(\"ghi\", 3);\n        od.Add(\"jkl\", 4);\n\n\n        int randomIndex = random.Next(od.Count);\n\n        Console.WriteLine(od[randomIndex]);\n\n        // Can access via index or key value:\n        Console.WriteLine(od[1]);\n        Console.WriteLine(od[\"def\"]);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":805058,"reputation":756,"user_id":308816,"display_name":"Ken"},"score":0,"creation_date":1292816513,"post_id":125416,"comment_id":4907418,"body_markdown":"This only works for lists, right?  With `ELT` it could work for any sequence.","body":"This only works for lists, right?  With <code>ELT</code> it could work for any sequence."}],"tags":[],"owner":{"account_id":6250,"reputation":3309,"user_id":10439,"accept_rate":67,"display_name":"inglesp"},"comment_count":1,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1222230509,"creation_date":1222230509,"answer_id":125416,"question_id":124671,"body_markdown":"In lisp\r\n\r\n    (defun pick-random (set)\r\n           (nth (random (length set)) set))","title":"Picking a random element from a set","body":"<p>In lisp</p>\n\n<pre><code>(defun pick-random (set)\n       (nth (random (length set)) set))\n</code></pre>\n"},{"comments":[{"owner":{"account_id":128551,"reputation":57229,"user_id":326480,"accept_rate":82,"display_name":"mdma"},"score":10,"creation_date":1279633862,"post_id":129386,"comment_id":3407037,"body_markdown":"Copying to a list will cost O(n) in time and also use O(n) memory, so why would that be a better choice than fetching from the map directly?","body":"Copying to a list will cost O(n) in time and also use O(n) memory, so why would that be a better choice than fetching from the map directly?"},{"owner":{"account_id":3579,"reputation":53945,"user_id":5171,"accept_rate":100,"display_name":"Dan Dyer"},"score":14,"creation_date":1302567004,"post_id":129386,"comment_id":6414889,"body_markdown":"It depends on how many times you want to pick from the set.  The copy is a one time operation and then you can pick from the set as many times as you need.  If you&#39;re only picking one element, then yes the copy doesn&#39;t make things any faster.","body":"It depends on how many times you want to pick from the set.  The copy is a one time operation and then you can pick from the set as many times as you need.  If you&#39;re only picking one element, then yes the copy doesn&#39;t make things any faster."},{"owner":{"account_id":2940236,"reputation":527,"user_id":3501461,"accept_rate":60,"display_name":"TurnipEntropy"},"score":0,"creation_date":1492264715,"post_id":129386,"comment_id":73911680,"body_markdown":"It&#39;s only a one time operation if you want to be able to pick with repetition. If you want the chosen item to be removed from the set, then you would be back to O(n).","body":"It&#39;s only a one time operation if you want to be able to pick with repetition. If you want the chosen item to be removed from the set, then you would be back to O(n)."}],"tags":[],"owner":{"account_id":3579,"reputation":53945,"user_id":5171,"accept_rate":100,"display_name":"Dan Dyer"},"comment_count":3,"down_vote_count":1,"up_vote_count":17,"is_accepted":false,"score":16,"last_activity_date":1298655570,"creation_date":1222285110,"answer_id":129386,"question_id":124671,"body_markdown":"If you want to do it in Java, you should consider copying the elements into some kind of random-access collection (such as an ArrayList).  Because, unless your set is small, accessing the selected element will be expensive (O(n) instead of O(1)). [ed: list copy is also O(n)]\r\n\r\nAlternatively, you could look for another Set implementation that more closely matches your requirements.  The [ListOrderedSet][1] from Commons Collections looks promising.\r\n\r\n\r\n  [1]: http://commons.apache.org/collections/api-release/org/apache/commons/collections/set/ListOrderedSet.html","title":"Picking a random element from a set","body":"<p>If you want to do it in Java, you should consider copying the elements into some kind of random-access collection (such as an ArrayList).  Because, unless your set is small, accessing the selected element will be expensive (O(n) instead of O(1)). [ed: list copy is also O(n)]</p>\n\n<p>Alternatively, you could look for another Set implementation that more closely matches your requirements.  The <a href=\"http://commons.apache.org/collections/api-release/org/apache/commons/collections/set/ListOrderedSet.html\" rel=\"noreferrer\">ListOrderedSet</a> from Commons Collections looks promising.</p>\n"},{"comments":[{"owner":{"account_id":913491,"reputation":2300,"user_id":946814,"accept_rate":73,"display_name":"Bruno Kim"},"score":1,"creation_date":1364109575,"post_id":388128,"comment_id":22115195,"body_markdown":"This solution is also linear, because to get the `nth` element you must traverse the `seq` as well.","body":"This solution is also linear, because to get the <code>nth</code> element you must traverse the <code>seq</code> as well."},{"owner":{"account_id":72569,"reputation":10656,"user_id":209502,"accept_rate":67,"display_name":"Krzysztof Wolny"},"score":1,"creation_date":1472848672,"post_id":388128,"comment_id":65934733,"body_markdown":"It&#39;s linear also as it fits nicely in one line :D","body":"It&#39;s linear also as it fits nicely in one line :D"}],"tags":[],"owner":{"account_id":18351,"reputation":5271,"user_id":41984,"accept_rate":68,"display_name":"pjb3"},"comment_count":2,"down_vote_count":2,"up_vote_count":5,"is_accepted":false,"score":3,"last_activity_date":1230004292,"creation_date":1230004292,"answer_id":388128,"question_id":124671,"body_markdown":"Clojure solution:\r\n\r\n    (defn pick-random [set] (let [sq (seq set)] (nth sq (rand-int (count sq)))))","title":"Picking a random element from a set","body":"<p>Clojure solution:</p>\n\n<pre><code>(defn pick-random [set] (let [sq (seq set)] (nth sq (rand-int (count sq)))))\n</code></pre>\n"},{"comments":[{"owner":{"account_id":26078,"reputation":452381,"user_id":67579,"accept_rate":81,"display_name":"willeM_ Van Onsem"},"score":1,"creation_date":1355363712,"post_id":1964730,"comment_id":19070278,"body_markdown":"A reason I think this is not implemented in a binary tree is that such a method wouldn&#39;t pick items uniformly. Since their are nodes without left/right children, a situation may occur where the left child contains more items than the right child (or vice versa), this would make picking an item at the right (or left) child, more probable.","body":"A reason I think this is not implemented in a binary tree is that such a method wouldn&#39;t pick items uniformly. Since their are nodes without left/right children, a situation may occur where the left child contains more items than the right child (or vice versa), this would make picking an item at the right (or left) child, more probable."},{"owner":{"account_id":71043,"reputation":30960,"user_id":205521,"accept_rate":89,"display_name":"Thomas Ahle"},"score":1,"creation_date":1355404169,"post_id":1964730,"comment_id":19083791,"body_markdown":"@CommuSoft: That&#39;s why I store the size of each subtree, so I can choose my probabilities based on those.","body":"@CommuSoft: That&#39;s why I store the size of each subtree, so I can choose my probabilities based on those."}],"tags":[],"owner":{"account_id":71043,"reputation":30960,"user_id":205521,"accept_rate":89,"display_name":"Thomas Ahle"},"comment_count":2,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1485516616,"creation_date":1261872819,"answer_id":1964730,"question_id":124671,"body_markdown":"Unfortunately, this cannot be done efficiently (better than O(n)) in any of the Standard Library set containers.\r\n\r\nThis is odd, since it is very easy to add a randomized pick function to hash sets as well as binary sets. In a not to sparse hash set, you can try random entries, until you get a hit. For a binary tree, you can choose randomly between the left or right subtree, with a maximum of O(log2) steps. I&#39;ve implemented a demo of the later below:\r\n\r\n    import random\r\n    \r\n    class Node:\r\n        def __init__(self, object):\r\n            self.object = object\r\n            self.value = hash(object)\r\n            self.size = 1\r\n            self.a = self.b = None\r\n    \r\n    class RandomSet:\r\n        def __init__(self):\r\n            self.top = None\r\n        \r\n        def add(self, object):\r\n            &quot;&quot;&quot; Add any hashable object to the set.\r\n                Notice: In this simple implementation you shouldn&#39;t add two\r\n                        identical items. &quot;&quot;&quot;\r\n            new = Node(object)\r\n            if not self.top: self.top = new\r\n            else: self._recursiveAdd(self.top, new)\r\n        def _recursiveAdd(self, top, new):\r\n            top.size += 1\r\n            if new.value &lt; top.value:\r\n                if not top.a: top.a = new\r\n                else: self._recursiveAdd(top.a, new)\r\n            else:\r\n                if not top.b: top.b = new\r\n                else: self._recursiveAdd(top.b, new)\r\n        \r\n        def pickRandom(self):\r\n            &quot;&quot;&quot; Pick a random item in O(log2) time.\r\n                Does a maximum of O(log2) calls to random as well. &quot;&quot;&quot;\r\n            return self._recursivePickRandom(self.top)\r\n        def _recursivePickRandom(self, top):\r\n            r = random.randrange(top.size)\r\n            if r == 0: return top.object\r\n            elif top.a and r &lt;= top.a.size: return self._recursivePickRandom(top.a)\r\n            return self._recursivePickRandom(top.b)\r\n    \r\n    if __name__ == &#39;__main__&#39;:\r\n        s = RandomSet()\r\n        for i in [5,3,7,1,4,6,9,2,8,0]:\r\n            s.add(i)\r\n        \r\n        dists = [0]*10\r\n        for i in xrange(10000):\r\n            dists[s.pickRandom()] += 1\r\n        print dists\r\n\r\nI got [995, 975, 971, 995, 1057, 1004, 966, 1052, 984, 1001] as output, so the distribution seams good.\r\n\r\nI&#39;ve struggled with the same problem for myself, and I haven&#39;t yet decided weather the performance gain of this more efficient pick is worth the overhead of using a python based collection. I could of course refine it and translate it to C, but that is too much work for me today :)\r\n","title":"Picking a random element from a set","body":"<p>Unfortunately, this cannot be done efficiently (better than O(n)) in any of the Standard Library set containers.</p>\n\n<p>This is odd, since it is very easy to add a randomized pick function to hash sets as well as binary sets. In a not to sparse hash set, you can try random entries, until you get a hit. For a binary tree, you can choose randomly between the left or right subtree, with a maximum of O(log2) steps. I've implemented a demo of the later below:</p>\n\n<pre><code>import random\n\nclass Node:\n    def __init__(self, object):\n        self.object = object\n        self.value = hash(object)\n        self.size = 1\n        self.a = self.b = None\n\nclass RandomSet:\n    def __init__(self):\n        self.top = None\n\n    def add(self, object):\n        \"\"\" Add any hashable object to the set.\n            Notice: In this simple implementation you shouldn't add two\n                    identical items. \"\"\"\n        new = Node(object)\n        if not self.top: self.top = new\n        else: self._recursiveAdd(self.top, new)\n    def _recursiveAdd(self, top, new):\n        top.size += 1\n        if new.value &lt; top.value:\n            if not top.a: top.a = new\n            else: self._recursiveAdd(top.a, new)\n        else:\n            if not top.b: top.b = new\n            else: self._recursiveAdd(top.b, new)\n\n    def pickRandom(self):\n        \"\"\" Pick a random item in O(log2) time.\n            Does a maximum of O(log2) calls to random as well. \"\"\"\n        return self._recursivePickRandom(self.top)\n    def _recursivePickRandom(self, top):\n        r = random.randrange(top.size)\n        if r == 0: return top.object\n        elif top.a and r &lt;= top.a.size: return self._recursivePickRandom(top.a)\n        return self._recursivePickRandom(top.b)\n\nif __name__ == '__main__':\n    s = RandomSet()\n    for i in [5,3,7,1,4,6,9,2,8,0]:\n        s.add(i)\n\n    dists = [0]*10\n    for i in xrange(10000):\n        dists[s.pickRandom()] += 1\n    print dists\n</code></pre>\n\n<p>I got [995, 975, 971, 995, 1057, 1004, 966, 1052, 984, 1001] as output, so the distribution seams good.</p>\n\n<p>I've struggled with the same problem for myself, and I haven't yet decided weather the performance gain of this more efficient pick is worth the overhead of using a python based collection. I could of course refine it and translate it to C, but that is too much work for me today :)</p>\n"},{"tags":[],"owner":{"account_id":49098,"reputation":26659,"user_id":146041,"accept_rate":71,"display_name":"Aaron McDaid"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1279743116,"creation_date":1279633531,"answer_id":3290573,"question_id":124671,"body_markdown":"C++. This should be reasonably quick, as it doesn&#39;t require iterating over the whole set, or sorting it. This should work out of the box with most modern compilers, assuming they support [tr1][1]. If not, you may need to use Boost.\r\n\r\nThe [Boost docs][2] are helpful here to explain this, even if you don&#39;t use Boost.\r\n\r\nThe trick is to make use of the fact that the data has been divided into buckets, and to quickly identify a randomly chosen bucket (with the appropriate probability).\r\n\r\n    //#include &lt;boost/unordered_set.hpp&gt;  \r\n    //using namespace boost;\r\n    #include &lt;tr1/unordered_set&gt;\r\n    using namespace std::tr1;\r\n    #include &lt;iostream&gt;\r\n    #include &lt;stdlib.h&gt;\r\n    #include &lt;assert.h&gt;\r\n    using namespace std;\r\n    \r\n    int main() {\r\n      unordered_set&lt;int&gt; u;\r\n      u.max_load_factor(40);\r\n      for (int i=0; i&lt;40; i++) {\r\n        u.insert(i);\r\n        cout &lt;&lt; &#39; &#39; &lt;&lt; i;\r\n      }\r\n      cout &lt;&lt; endl;\r\n      cout &lt;&lt; &quot;Number of buckets: &quot; &lt;&lt; u.bucket_count() &lt;&lt; endl;\r\n    \r\n      for(size_t b=0; b&lt;u.bucket_count(); b++)\r\n        cout &lt;&lt; &quot;Bucket &quot; &lt;&lt; b &lt;&lt; &quot; has &quot; &lt;&lt; u.bucket_size(b) &lt;&lt; &quot; elements. &quot; &lt;&lt; endl;\r\n    \r\n      for(size_t i=0; i&lt;20; i++) {\r\n        size_t x = rand() % u.size();\r\n        cout &lt;&lt; &quot;we&#39;ll quickly get the &quot; &lt;&lt; x &lt;&lt; &quot;th item in the unordered set. &quot;;\r\n        size_t b;\r\n        for(b=0; b&lt;u.bucket_count(); b++) {\r\n          if(x &lt; u.bucket_size(b)) {\r\n            break;\r\n          } else\r\n            x -= u.bucket_size(b);\r\n        }\r\n        cout &lt;&lt; &quot;it&#39;ll be in the &quot; &lt;&lt; b &lt;&lt; &quot;th bucket at offset &quot; &lt;&lt; x &lt;&lt; &quot;. &quot;;\r\n        unordered_set&lt;int&gt;::const_local_iterator l = u.begin(b);\r\n        while(x&gt;0) {\r\n          l++;\r\n          assert(l!=u.end(b));\r\n          x--;\r\n        }\r\n        cout &lt;&lt; &quot;random item is &quot; &lt;&lt; *l &lt;&lt; &quot;. &quot;;\r\n        cout &lt;&lt; endl;\r\n      }\r\n    }\r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/C%2B%2B_Technical_Report_1\r\n  [2]: http://www.boost.org/doc/libs/1_43_0/doc/html/unordered/buckets.html","title":"Picking a random element from a set","body":"<p>C++. This should be reasonably quick, as it doesn't require iterating over the whole set, or sorting it. This should work out of the box with most modern compilers, assuming they support <a href=\"http://en.wikipedia.org/wiki/C%2B%2B_Technical_Report_1\" rel=\"nofollow noreferrer\">tr1</a>. If not, you may need to use Boost.</p>\n\n<p>The <a href=\"http://www.boost.org/doc/libs/1_43_0/doc/html/unordered/buckets.html\" rel=\"nofollow noreferrer\">Boost docs</a> are helpful here to explain this, even if you don't use Boost.</p>\n\n<p>The trick is to make use of the fact that the data has been divided into buckets, and to quickly identify a randomly chosen bucket (with the appropriate probability).</p>\n\n<pre><code>//#include &lt;boost/unordered_set.hpp&gt;  \n//using namespace boost;\n#include &lt;tr1/unordered_set&gt;\nusing namespace std::tr1;\n#include &lt;iostream&gt;\n#include &lt;stdlib.h&gt;\n#include &lt;assert.h&gt;\nusing namespace std;\n\nint main() {\n  unordered_set&lt;int&gt; u;\n  u.max_load_factor(40);\n  for (int i=0; i&lt;40; i++) {\n    u.insert(i);\n    cout &lt;&lt; ' ' &lt;&lt; i;\n  }\n  cout &lt;&lt; endl;\n  cout &lt;&lt; \"Number of buckets: \" &lt;&lt; u.bucket_count() &lt;&lt; endl;\n\n  for(size_t b=0; b&lt;u.bucket_count(); b++)\n    cout &lt;&lt; \"Bucket \" &lt;&lt; b &lt;&lt; \" has \" &lt;&lt; u.bucket_size(b) &lt;&lt; \" elements. \" &lt;&lt; endl;\n\n  for(size_t i=0; i&lt;20; i++) {\n    size_t x = rand() % u.size();\n    cout &lt;&lt; \"we'll quickly get the \" &lt;&lt; x &lt;&lt; \"th item in the unordered set. \";\n    size_t b;\n    for(b=0; b&lt;u.bucket_count(); b++) {\n      if(x &lt; u.bucket_size(b)) {\n        break;\n      } else\n        x -= u.bucket_size(b);\n    }\n    cout &lt;&lt; \"it'll be in the \" &lt;&lt; b &lt;&lt; \"th bucket at offset \" &lt;&lt; x &lt;&lt; \". \";\n    unordered_set&lt;int&gt;::const_local_iterator l = u.begin(b);\n    while(x&gt;0) {\n      l++;\n      assert(l!=u.end(b));\n      x--;\n    }\n    cout &lt;&lt; \"random item is \" &lt;&lt; *l &lt;&lt; \". \";\n    cout &lt;&lt; endl;\n  }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":39409,"reputation":47624,"user_id":113632,"accept_rate":84,"display_name":"dimo414"},"score":2,"creation_date":1461856022,"post_id":5162675,"comment_id":61399093,"body_markdown":"The question is asking about sets, not arrays. Also there&#39;s no need to seed `Random` with the current time; `new Random()` returns a properly-seeded instance out of the box.","body":"The question is asking about sets, not arrays. Also there&#39;s no need to seed <code>Random</code> with the current time; <code>new Random()</code> returns a properly-seeded instance out of the box."}],"tags":[],"owner":{"account_id":10552,"reputation":21351,"user_id":20003,"accept_rate":73,"display_name":"Dustin Getz"},"comment_count":1,"down_vote_count":4,"up_vote_count":1,"is_accepted":false,"score":-3,"last_activity_date":1299031593,"creation_date":1299031593,"answer_id":5162675,"question_id":124671,"body_markdown":"after reading this thread, the best i could write is:\r\n\r\n\tstatic Random random = new Random(System.currentTimeMillis());\r\n\tpublic static &lt;T&gt; T randomChoice(T[] choices)\r\n\t{\r\n\t\tint index = random.nextInt(choices.length);\r\n\t\treturn choices[index];\r\n\t}","title":"Picking a random element from a set","body":"<p>after reading this thread, the best i could write is:</p>\n\n<pre><code>static Random random = new Random(System.currentTimeMillis());\npublic static &lt;T&gt; T randomChoice(T[] choices)\n{\n    int index = random.nextInt(choices.length);\n    return choices[index];\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":422499,"reputation":666,"user_id":801320,"accept_rate":100,"display_name":"Johan Tid&#233;n"},"score":0,"creation_date":1430844150,"post_id":5669034,"comment_id":48232118,"body_markdown":"Well that would work but the question was about the Set interface. This solution forces users to have concrete type references of the RandomSet.","body":"Well that would work but the question was about the Set interface. This solution forces users to have concrete type references of the RandomSet."},{"owner":{"account_id":3997984,"reputation":4081,"user_id":3294902,"display_name":"Kostas Kryptos"},"score":0,"creation_date":1450423053,"post_id":5669034,"comment_id":56442205,"body_markdown":"I really like this solution, but it&#39;s not thread safe, inaccuracies between the Map and the List may occur, so I would add some synchronized blocks","body":"I really like this solution, but it&#39;s not thread safe, inaccuracies between the Map and the List may occur, so I would add some synchronized blocks"},{"owner":{"account_id":92486,"reputation":45195,"user_id":253468,"accept_rate":79,"display_name":"TWiStErRob"},"score":0,"creation_date":1470257420,"post_id":5669034,"comment_id":64880620,"body_markdown":"@KonstantinosChalkias the built-in collections aren&#39;t thread safe either. Only the ones with the name `Concurrent` are really safe, the ones wrapped with `Collections.synchronized()` are semi-safe. Also the OP didn&#39;t say anything about concurrency so this is a valid, and good answer.","body":"@KonstantinosChalkias the built-in collections aren&#39;t thread safe either. Only the ones with the name <code>Concurrent</code> are really safe, the ones wrapped with <code>Collections.synchronized()</code> are semi-safe. Also the OP didn&#39;t say anything about concurrency so this is a valid, and good answer."},{"owner":{"account_id":4503911,"reputation":1666,"user_id":3661794,"display_name":"muued"},"score":0,"creation_date":1471011448,"post_id":5669034,"comment_id":65197077,"body_markdown":"The iterator returned here should not be able to remove elements from `dta` (this can be achieved via guava&#39;s `Iterators.unmodifiableIterator` for example). Otherwise the default implementations of e.g. removeAll and retainAll in AbstractSet and its parents working with that iterator will mess up your `RandomSet`!","body":"The iterator returned here should not be able to remove elements from <code>dta</code> (this can be achieved via guava&#39;s <code>Iterators.unmodifiableIterator</code> for example). Otherwise the default implementations of e.g. removeAll and retainAll in AbstractSet and its parents working with that iterator will mess up your <code>RandomSet</code>!"},{"owner":{"account_id":667308,"reputation":46349,"user_id":1161878,"accept_rate":81,"display_name":"Gene"},"score":0,"creation_date":1472823206,"post_id":5669034,"comment_id":65921115,"body_markdown":"Nice solution. You actually can use a tree if each node contains the number of nodes in the subtree it roots. Then compute a random real in 0..1 and make a weighted 3-way decision (select current node or descend into left or right subtree) at each node based on the node counts. But imo your solution is much nicer.","body":"Nice solution. You actually can use a tree if each node contains the number of nodes in the subtree it roots. Then compute a random real in 0..1 and make a weighted 3-way decision (select current node or descend into left or right subtree) at each node based on the node counts. But imo your solution is much nicer."}],"tags":[],"owner":{"account_id":364317,"reputation":409,"user_id":708633,"display_name":"fandrew"},"comment_count":5,"down_vote_count":1,"up_vote_count":41,"is_accepted":false,"score":40,"last_activity_date":1302811608,"creation_date":1302811608,"answer_id":5669034,"question_id":124671,"body_markdown":"Fast solution for Java using an `ArrayList` and a `HashMap`: [element -&gt; index].\r\n\r\nMotivation: I needed a set of items with `RandomAccess` properties, especially to pick a random item from the set (see `pollRandom` method). Random navigation in a binary tree is not accurate: trees are not perfectly balanced, which would not lead to a uniform distribution.\r\n\r\n    public class RandomSet&lt;E&gt; extends AbstractSet&lt;E&gt; {\r\n    \r\n        List&lt;E&gt; dta = new ArrayList&lt;E&gt;();\r\n        Map&lt;E, Integer&gt; idx = new HashMap&lt;E, Integer&gt;();\r\n    \r\n        public RandomSet() {\r\n        }\r\n    \r\n        public RandomSet(Collection&lt;E&gt; items) {\r\n            for (E item : items) {\r\n                idx.put(item, dta.size());\r\n                dta.add(item);\r\n            }\r\n        }\r\n    \r\n        @Override\r\n        public boolean add(E item) {\r\n            if (idx.containsKey(item)) {\r\n                return false;\r\n            }\r\n            idx.put(item, dta.size());\r\n            dta.add(item);\r\n            return true;\r\n        }\r\n    \r\n        /**\r\n         * Override element at position &lt;code&gt;id&lt;/code&gt; with last element.\r\n         * @param id\r\n         */\r\n        public E removeAt(int id) {\r\n            if (id &gt;= dta.size()) {\r\n                return null;\r\n            }\r\n            E res = dta.get(id);\r\n            idx.remove(res);\r\n            E last = dta.remove(dta.size() - 1);\r\n            // skip filling the hole if last is removed\r\n            if (id &lt; dta.size()) {\r\n                idx.put(last, id);\r\n                dta.set(id, last);\r\n            }\r\n            return res;\r\n        }\r\n    \r\n        @Override\r\n        public boolean remove(Object item) {\r\n            @SuppressWarnings(value = &quot;element-type-mismatch&quot;)\r\n            Integer id = idx.get(item);\r\n            if (id == null) {\r\n                return false;\r\n            }\r\n            removeAt(id);\r\n            return true;\r\n        }\r\n    \r\n        public E get(int i) {\r\n            return dta.get(i);\r\n        }\r\n    \r\n        public E pollRandom(Random rnd) {\r\n            if (dta.isEmpty()) {\r\n                return null;\r\n            }\r\n            int id = rnd.nextInt(dta.size());\r\n            return removeAt(id);\r\n        }\r\n    \r\n        @Override\r\n        public int size() {\r\n            return dta.size();\r\n        }\r\n    \r\n        @Override\r\n        public Iterator&lt;E&gt; iterator() {\r\n            return dta.iterator();\r\n        }\r\n    }","title":"Picking a random element from a set","body":"<p>Fast solution for Java using an <code>ArrayList</code> and a <code>HashMap</code>: [element -> index].</p>\n\n<p>Motivation: I needed a set of items with <code>RandomAccess</code> properties, especially to pick a random item from the set (see <code>pollRandom</code> method). Random navigation in a binary tree is not accurate: trees are not perfectly balanced, which would not lead to a uniform distribution.</p>\n\n<pre><code>public class RandomSet&lt;E&gt; extends AbstractSet&lt;E&gt; {\n\n    List&lt;E&gt; dta = new ArrayList&lt;E&gt;();\n    Map&lt;E, Integer&gt; idx = new HashMap&lt;E, Integer&gt;();\n\n    public RandomSet() {\n    }\n\n    public RandomSet(Collection&lt;E&gt; items) {\n        for (E item : items) {\n            idx.put(item, dta.size());\n            dta.add(item);\n        }\n    }\n\n    @Override\n    public boolean add(E item) {\n        if (idx.containsKey(item)) {\n            return false;\n        }\n        idx.put(item, dta.size());\n        dta.add(item);\n        return true;\n    }\n\n    /**\n     * Override element at position &lt;code&gt;id&lt;/code&gt; with last element.\n     * @param id\n     */\n    public E removeAt(int id) {\n        if (id &gt;= dta.size()) {\n            return null;\n        }\n        E res = dta.get(id);\n        idx.remove(res);\n        E last = dta.remove(dta.size() - 1);\n        // skip filling the hole if last is removed\n        if (id &lt; dta.size()) {\n            idx.put(last, id);\n            dta.set(id, last);\n        }\n        return res;\n    }\n\n    @Override\n    public boolean remove(Object item) {\n        @SuppressWarnings(value = \"element-type-mismatch\")\n        Integer id = idx.get(item);\n        if (id == null) {\n            return false;\n        }\n        removeAt(id);\n        return true;\n    }\n\n    public E get(int i) {\n        return dta.get(i);\n    }\n\n    public E pollRandom(Random rnd) {\n        if (dta.isEmpty()) {\n            return null;\n        }\n        int id = rnd.nextInt(dta.size());\n        return removeAt(id);\n    }\n\n    @Override\n    public int size() {\n        return dta.size();\n    }\n\n    @Override\n    public Iterator&lt;E&gt; iterator() {\n        return dta.iterator();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":307435,"reputation":24224,"user_id":618728,"accept_rate":68,"display_name":"Mr.Wizard"},"comment_count":0,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1665938515,"creation_date":1302909281,"answer_id":5683228,"question_id":124671,"body_markdown":"In Mathematica:\r\n\r\n    a = {1, 2, 3, 4, 5}\r\n\r\n    a[[ âŒˆ Length[a] Random[] âŒ‰ ]]\r\n\r\nOr, in recent versions, simply:\r\n\r\n    RandomChoice[a]\r\n\r\n\r\n`Random[]` generates a pseudorandom float between 0 and 1.  This is multiplied by the length of the list and then the ceiling function is used to round up to the next integer.  This index is then extracted from `a`.\r\n\r\nSince hash table functionality is frequently done with rules in Mathematica, and rules are stored in lists, one might use:\r\n\r\n    a = {&quot;Badger&quot; -&gt; 5, &quot;Bird&quot; -&gt; 1, &quot;Fox&quot; -&gt; 3, &quot;Frog&quot; -&gt; 2, &quot;Wolf&quot; -&gt; 4};","title":"Picking a random element from a set","body":"<p>In Mathematica:</p>\n<pre><code>a = {1, 2, 3, 4, 5}\n\na[[ âŒˆ Length[a] Random[] âŒ‰ ]]\n</code></pre>\n<p>Or, in recent versions, simply:</p>\n<pre><code>RandomChoice[a]\n</code></pre>\n<p><code>Random[]</code> generates a pseudorandom float between 0 and 1.  This is multiplied by the length of the list and then the ceiling function is used to round up to the next integer.  This index is then extracted from <code>a</code>.</p>\n<p>Since hash table functionality is frequently done with rules in Mathematica, and rules are stored in lists, one might use:</p>\n<pre><code>a = {&quot;Badger&quot; -&gt; 5, &quot;Bird&quot; -&gt; 1, &quot;Fox&quot; -&gt; 3, &quot;Frog&quot; -&gt; 2, &quot;Wolf&quot; -&gt; 4};\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1641112,"reputation":1265,"user_id":1513504,"display_name":"Chris Bode"},"score":26,"creation_date":1362965316,"post_id":13712946,"comment_id":21647968,"body_markdown":"This is abysmally inefficient. Your ArrayList constructor calls .toArray() on the supplied set. ToArray (in most if not all standard collection implementations) iterates over the entire collection, filling an array as it goes. Then you shuffle the list, which swaps each element with a random element. You&#39;d be much better off simply iterating over the set to a random element.","body":"This is abysmally inefficient. Your ArrayList constructor calls .toArray() on the supplied set. ToArray (in most if not all standard collection implementations) iterates over the entire collection, filling an array as it goes. Then you shuffle the list, which swaps each element with a random element. You&#39;d be much better off simply iterating over the set to a random element."}],"tags":[],"owner":{"account_id":15533,"reputation":34400,"user_id":32899,"accept_rate":92,"display_name":"Ben Noland"},"comment_count":1,"down_vote_count":3,"up_vote_count":11,"is_accepted":false,"score":8,"last_activity_date":1354659485,"creation_date":1354659485,"answer_id":13712946,"question_id":124671,"body_markdown":"    List asList = new ArrayList(mySet);\r\n    Collections.shuffle(asList);\r\n    return asList.get(0);","title":"Picking a random element from a set","body":"<pre><code>List asList = new ArrayList(mySet);\nCollections.shuffle(asList);\nreturn asList.get(0);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":367682,"reputation":7816,"user_id":714009,"accept_rate":75,"display_name":"Daniel Lubarov"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1355864768,"creation_date":1355864768,"answer_id":13941507,"question_id":124671,"body_markdown":"How about just\r\n\r\n    public static &lt;A&gt; A getRandomElement(Collection&lt;A&gt; c, Random r) {\r\n      return new ArrayList&lt;A&gt;(c).get(r.nextInt(c.size()));\r\n    }","title":"Picking a random element from a set","body":"<p>How about just</p>\n\n<pre><code>public static &lt;A&gt; A getRandomElement(Collection&lt;A&gt; c, Random r) {\n  return new ArrayList&lt;A&gt;(c).get(r.nextInt(c.size()));\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":931121,"reputation":21661,"user_id":961018,"accept_rate":56,"display_name":"mjs"},"score":1,"creation_date":1444303362,"post_id":20730236,"comment_id":53851698,"body_markdown":"Exactly what I was thinking! Best answer!","body":"Exactly what I was thinking! Best answer!"},{"owner":{"account_id":71043,"reputation":30960,"user_id":205521,"accept_rate":89,"display_name":"Thomas Ahle"},"score":0,"creation_date":1460032284,"post_id":20730236,"comment_id":60562577,"body_markdown":"Actually, coming back to it, I guess this isn&#39;t quite uniform, if the hashmap has many collisions and we do many queries. That is because the java hashmap uses buckets/chaining and this code will always return the first element in the particular bucket. We&#39;re still uniform over the randomness of the hash function though.","body":"Actually, coming back to it, I guess this isn&#39;t quite uniform, if the hashmap has many collisions and we do many queries. That is because the java hashmap uses buckets/chaining and this code will always return the first element in the particular bucket. We&#39;re still uniform over the randomness of the hash function though."}],"tags":[],"owner":{"account_id":71043,"reputation":30960,"user_id":205521,"accept_rate":89,"display_name":"Thomas Ahle"},"comment_count":2,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1387721155,"creation_date":1387721155,"answer_id":20730236,"question_id":124671,"body_markdown":"For fun I wrote a RandomHashSet based on rejection sampling. It&#39;s a bit hacky, since HashMap doesn&#39;t let us access it&#39;s table directly, but it should work just fine.\r\n\r\nIt doesn&#39;t use any extra memory, and lookup time is O(1) amortized. (Because java HashTable is dense).\r\n\r\n    class RandomHashSet&lt;V&gt; extends AbstractSet&lt;V&gt; {\r\n        private Map&lt;Object,V&gt; map = new HashMap&lt;&gt;();\r\n        public boolean add(V v) {\r\n            return map.put(new WrapKey&lt;V&gt;(v),v) == null;\r\n        }\r\n        @Override\r\n        public Iterator&lt;V&gt; iterator() {\r\n            return new Iterator&lt;V&gt;() {\r\n                RandKey key = new RandKey();\r\n                @Override public boolean hasNext() {\r\n                    return true;\r\n                }\r\n                @Override public V next() {\r\n                    while (true) {\r\n                        key.next();\r\n                        V v = map.get(key);\r\n                        if (v != null)\r\n                            return v;\r\n                    }\r\n                }\r\n                @Override public void remove() {\r\n                    throw new NotImplementedException();\r\n                }\r\n            };\r\n        }\r\n        @Override\r\n        public int size() {\r\n            return map.size();\r\n        }\r\n        static class WrapKey&lt;V&gt; {\r\n            private V v;\r\n            WrapKey(V v) {\r\n                this.v = v;\r\n            }\r\n            @Override public int hashCode() {\r\n                return v.hashCode();\r\n            }\r\n            @Override public boolean equals(Object o) {\r\n                if (o instanceof RandKey)\r\n                    return true;\r\n                return v.equals(o);\r\n            }\r\n        }\r\n        static class RandKey {\r\n            private Random rand = new Random();\r\n            int key = rand.nextInt();\r\n            public void next() {\r\n                key = rand.nextInt();\r\n            }\r\n            @Override public int hashCode() {\r\n                return key;\r\n            }\r\n            @Override public boolean equals(Object o) {\r\n                return true;\r\n            }\r\n        }\r\n    }","title":"Picking a random element from a set","body":"<p>For fun I wrote a RandomHashSet based on rejection sampling. It's a bit hacky, since HashMap doesn't let us access it's table directly, but it should work just fine.</p>\n\n<p>It doesn't use any extra memory, and lookup time is O(1) amortized. (Because java HashTable is dense).</p>\n\n<pre><code>class RandomHashSet&lt;V&gt; extends AbstractSet&lt;V&gt; {\n    private Map&lt;Object,V&gt; map = new HashMap&lt;&gt;();\n    public boolean add(V v) {\n        return map.put(new WrapKey&lt;V&gt;(v),v) == null;\n    }\n    @Override\n    public Iterator&lt;V&gt; iterator() {\n        return new Iterator&lt;V&gt;() {\n            RandKey key = new RandKey();\n            @Override public boolean hasNext() {\n                return true;\n            }\n            @Override public V next() {\n                while (true) {\n                    key.next();\n                    V v = map.get(key);\n                    if (v != null)\n                        return v;\n                }\n            }\n            @Override public void remove() {\n                throw new NotImplementedException();\n            }\n        };\n    }\n    @Override\n    public int size() {\n        return map.size();\n    }\n    static class WrapKey&lt;V&gt; {\n        private V v;\n        WrapKey(V v) {\n            this.v = v;\n        }\n        @Override public int hashCode() {\n            return v.hashCode();\n        }\n        @Override public boolean equals(Object o) {\n            if (o instanceof RandKey)\n                return true;\n            return v.equals(o);\n        }\n    }\n    static class RandKey {\n        private Random rand = new Random();\n        int key = rand.nextInt();\n        public void next() {\n            key = rand.nextInt();\n        }\n        @Override public int hashCode() {\n            return key;\n        }\n        @Override public boolean equals(Object o) {\n            return true;\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3124252,"reputation":3403,"user_id":2643425,"display_name":"Sean Van Gorder"},"comment_count":0,"down_vote_count":0,"up_vote_count":35,"is_accepted":false,"score":35,"last_activity_date":1416347055,"creation_date":1408554238,"answer_id":25410520,"question_id":124671,"body_markdown":"This is faster than the for-each loop in the accepted answer:\r\n\r\n\tint index = rand.nextInt(set.size());\r\n\tIterator&lt;Object&gt; iter = set.iterator();\r\n\tfor (int i = 0; i &lt; index; i++) {\r\n\t\titer.next();\r\n\t}\r\n\treturn iter.next();\r\n\r\nThe for-each construct calls `Iterator.hasNext()` on every loop, but since `index &lt; set.size()`, that check is unnecessary overhead. I saw a 10-20% boost in speed, but YMMV. (Also, this compiles without having to add an extra return statement.)\r\n\r\nNote that this code (and most other answers) can be applied to any Collection, not just Set. In generic method form:\r\n\r\n\tpublic static &lt;E&gt; E choice(Collection&lt;? extends E&gt; coll, Random rand) {\r\n        if (coll.size() == 0) {\r\n            return null; // or throw IAE, if you prefer\r\n        }\r\n\r\n\t\tint index = rand.nextInt(coll.size());\r\n\t\tif (coll instanceof List) { // optimization\r\n\t\t\treturn ((List&lt;? extends E&gt;) coll).get(index);\r\n\t\t} else {\r\n\t\t\tIterator&lt;? extends E&gt; iter = coll.iterator();\r\n\t\t\tfor (int i = 0; i &lt; index; i++) {\r\n\t\t\t\titer.next();\r\n\t\t\t}\r\n\t\t\treturn iter.next();\r\n\t\t}\r\n\t}\r\n","title":"Picking a random element from a set","body":"<p>This is faster than the for-each loop in the accepted answer:</p>\n\n<pre><code>int index = rand.nextInt(set.size());\nIterator&lt;Object&gt; iter = set.iterator();\nfor (int i = 0; i &lt; index; i++) {\n    iter.next();\n}\nreturn iter.next();\n</code></pre>\n\n<p>The for-each construct calls <code>Iterator.hasNext()</code> on every loop, but since <code>index &lt; set.size()</code>, that check is unnecessary overhead. I saw a 10-20% boost in speed, but YMMV. (Also, this compiles without having to add an extra return statement.)</p>\n\n<p>Note that this code (and most other answers) can be applied to any Collection, not just Set. In generic method form:</p>\n\n<pre><code>public static &lt;E&gt; E choice(Collection&lt;? extends E&gt; coll, Random rand) {\n    if (coll.size() == 0) {\n        return null; // or throw IAE, if you prefer\n    }\n\n    int index = rand.nextInt(coll.size());\n    if (coll instanceof List) { // optimization\n        return ((List&lt;? extends E&gt;) coll).get(index);\n    } else {\n        Iterator&lt;? extends E&gt; iter = coll.iterator();\n        for (int i = 0; i &lt; index; i++) {\n            iter.next();\n        }\n        return iter.next();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2252734,"reputation":10792,"user_id":1984636,"accept_rate":62,"display_name":"sivi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1415735038,"creation_date":1415735038,"answer_id":26873174,"question_id":124671,"body_markdown":"you can also  transfer the set to array use array \r\nit will probably work on small scale i see the for loop in the most voted answer is O(n) anyway \r\n\r\n    Object[] arr = set.toArray();\r\n\t\t \r\n    int v = (int) arr[rnd.nextInt(arr.length)];","title":"Picking a random element from a set","body":"<p>you can also  transfer the set to array use array \nit will probably work on small scale i see the for loop in the most voted answer is O(n) anyway </p>\n\n<pre><code>Object[] arr = set.toArray();\n\nint v = (int) arr[rnd.nextInt(arr.length)];\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1140954,"reputation":786,"user_id":1124866,"accept_rate":75,"display_name":"Salvador"},"score":1,"creation_date":1566312117,"post_id":27352828,"comment_id":101612451,"body_markdown":"Third line could also be `if (--random &lt; 0) {`, where `random` reaches `-1`.","body":"Third line could also be <code>if (--random &lt; 0) {</code>, where <code>random</code> reaches <code>-1</code>."}],"tags":[],"owner":{"account_id":1316844,"reputation":2459,"user_id":1301891,"accept_rate":86,"display_name":"Jason Hartley"},"comment_count":1,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1485298021,"creation_date":1418021591,"answer_id":27352828,"question_id":124671,"body_markdown":"This is identical to accepted answer (Khoth), but with the unnecessary `size` and `i` variables removed.\r\n\r\n\t\tint random = new Random().nextInt(myhashSet.size());\r\n\t\tfor(Object obj : myhashSet)\t{\r\n\t\t\tif (random-- == 0) {\r\n\t\t\t\treturn obj;\r\n\t\t\t}\r\n\t\t}\r\nThough doing away with the two aforementioned variables, the above solution still remains random because we are relying upon random (starting at a randomly selected index) to decrement itself  toward `0` over each iteration.","title":"Picking a random element from a set","body":"<p>This is identical to accepted answer (Khoth), but with the unnecessary <code>size</code> and <code>i</code> variables removed.</p>\n\n<pre><code>    int random = new Random().nextInt(myhashSet.size());\n    for(Object obj : myhashSet) {\n        if (random-- == 0) {\n            return obj;\n        }\n    }\n</code></pre>\n\n<p>Though doing away with the two aforementioned variables, the above solution still remains random because we are relying upon random (starting at a randomly selected index) to decrement itself  toward <code>0</code> over each iteration.</p>\n"},{"tags":[],"owner":{"account_id":5101356,"reputation":2221,"user_id":4090903,"accept_rate":22,"display_name":"thepace"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1418022189,"creation_date":1418022189,"answer_id":27352959,"question_id":124671,"body_markdown":"Solution above speak in terms of latency but doesn&#39;t guarantee equal probability of each index being selected.&lt;br/&gt;\r\nIf that needs to be considered, try reservoir sampling. &lt;http://en.wikipedia.org/wiki/Reservoir_sampling&gt;.&lt;br/&gt; Collections.shuffle() (as suggested by few) uses one such algorithm.\r\n","title":"Picking a random element from a set","body":"<p>Solution above speak in terms of latency but doesn't guarantee equal probability of each index being selected.<br/>\nIf that needs to be considered, try reservoir sampling. <a href=\"http://en.wikipedia.org/wiki/Reservoir_sampling\" rel=\"nofollow\">http://en.wikipedia.org/wiki/Reservoir_sampling</a>.<br/> Collections.shuffle() (as suggested by few) uses one such algorithm.</p>\n"},{"comments":[{"owner":{"account_id":3440961,"reputation":1478,"user_id":2882944,"accept_rate":50,"display_name":"Menezes Sousa"},"score":1,"creation_date":1441519291,"post_id":28325603,"comment_id":52706848,"body_markdown":"This will not be a random pick though. Imagine performing the same operation over the same set multiple times. I think the order will be the same.","body":"This will not be a random pick though. Imagine performing the same operation over the same set multiple times. I think the order will be the same."}],"tags":[],"owner":{"account_id":28446,"reputation":4669,"user_id":76024,"accept_rate":74,"display_name":"Philipp"},"comment_count":1,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1423065010,"creation_date":1423065010,"answer_id":28325603,"question_id":124671,"body_markdown":"If you really just want to pick &quot;any&quot; object from the `Set`, without any guarantees on the randomness, the easiest is taking the first returned by the iterator.\r\n\r\n    \tSet&lt;Integer&gt; s = ...\r\n\t\tIterator&lt;Integer&gt; it = s.iterator();\r\n\t\tif(it.hasNext()){\r\n\t\t\tInteger i = it.next();\r\n\t\t\t// i is a &quot;random&quot; object from set\r\n\t\t}\r\n\r\n\r\n","title":"Picking a random element from a set","body":"<p>If you really just want to pick \"any\" object from the <code>Set</code>, without any guarantees on the randomness, the easiest is taking the first returned by the iterator.</p>\n\n<pre><code>    Set&lt;Integer&gt; s = ...\n    Iterator&lt;Integer&gt; it = s.iterator();\n    if(it.hasNext()){\n        Integer i = it.next();\n        // i is a \"random\" object from set\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5841441,"reputation":11,"user_id":4602906,"display_name":"Nicu Marasoiu"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1424810578,"creation_date":1424809206,"answer_id":28705520,"question_id":124671,"body_markdown":"The easiest with Java 8 is:\r\n\r\n    outbound.stream().skip(n % outbound.size()).findFirst().get()\r\n    \r\nwhere `n` is a random integer. Of course it is of less performance than that with the `for(elem: Col)`","title":"Picking a random element from a set","body":"<p>The easiest with Java 8 is:</p>\n\n<pre><code>outbound.stream().skip(n % outbound.size()).findFirst().get()\n</code></pre>\n\n<p>where <code>n</code> is a random integer. Of course it is of less performance than that with the <code>for(elem: Col)</code></p>\n"},{"tags":[],"owner":{"account_id":199943,"reputation":84060,"user_id":445543,"accept_rate":85,"display_name":"stivlo"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1427453564,"creation_date":1427453564,"answer_id":29298987,"question_id":124671,"body_markdown":"A generic solution using Khoth&#39;s answer as a starting point.\r\n\r\n    /**\r\n     * @param set a Set in which to look for a random element\r\n     * @param &lt;T&gt; generic type of the Set elements\r\n     * @return a random element in the Set or null if the set is empty\r\n     */\r\n    public &lt;T&gt; T randomElement(Set&lt;T&gt; set) {\r\n        int size = set.size();\r\n        int item = random.nextInt(size);\r\n        int i = 0;\r\n        for (T obj : set) {\r\n            if (i == item) {\r\n                return obj;\r\n            }\r\n            i++;\r\n        }\r\n        return null;\r\n    }","title":"Picking a random element from a set","body":"<p>A generic solution using Khoth's answer as a starting point.</p>\n\n<pre><code>/**\n * @param set a Set in which to look for a random element\n * @param &lt;T&gt; generic type of the Set elements\n * @return a random element in the Set or null if the set is empty\n */\npublic &lt;T&gt; T randomElement(Set&lt;T&gt; set) {\n    int size = set.size();\n    int item = random.nextInt(size);\n    int i = 0;\n    for (T obj : set) {\n        if (i == item) {\n            return obj;\n        }\n        i++;\n    }\n    return null;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4851724,"reputation":3,"user_id":3913846,"display_name":"BHARAT ARYA"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1451920255,"creation_date":1451920255,"answer_id":34594139,"question_id":124671,"body_markdown":"If set size is not large then by using Arrays this can be done.\r\n\r\n    int random;\r\n    HashSet someSet;\r\n    &lt;Type&gt;[] randData;\r\n    random = new Random(System.currentTimeMillis).nextInt(someSet.size());\r\n    randData = someSet.toArray();\r\n    &lt;Type&gt; sResult = randData[random];","title":"Picking a random element from a set","body":"<p>If set size is not large then by using Arrays this can be done.</p>\n\n<pre><code>int random;\nHashSet someSet;\n&lt;Type&gt;[] randData;\nrandom = new Random(System.currentTimeMillis).nextInt(someSet.size());\nrandData = someSet.toArray();\n&lt;Type&gt; sResult = randData[random];\n</code></pre>\n"},{"tags":[],"owner":{"account_id":39409,"reputation":47624,"user_id":113632,"accept_rate":84,"display_name":"dimo414"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1461856921,"creation_date":1461856921,"answer_id":36918972,"question_id":124671,"body_markdown":"With [Guava][1] we can do a little better than Khoth&#39;s answer:\r\n\r\n    public static E random(Set&lt;E&gt; set) {\r\n      int index = random.nextInt(set.size();\r\n      if (set instanceof ImmutableSet) {\r\n        // ImmutableSet.asList() is O(1), as is .get() on the returned list\r\n        return set.asList().get(index);\r\n      }\r\n      return Iterables.get(set, index);\r\n    }\r\n\r\n\r\n  [1]: https://github.com/google/guava","title":"Picking a random element from a set","body":"<p>With <a href=\"https://github.com/google/guava\" rel=\"nofollow\">Guava</a> we can do a little better than Khoth's answer:</p>\n\n<pre><code>public static E random(Set&lt;E&gt; set) {\n  int index = random.nextInt(set.size();\n  if (set instanceof ImmutableSet) {\n    // ImmutableSet.asList() is O(1), as is .get() on the returned list\n    return set.asList().get(index);\n  }\n  return Iterables.get(set, index);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":191463,"reputation":2807,"user_id":1660607,"display_name":"RKumsher"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1521319480,"creation_date":1502147133,"answer_id":45556911,"question_id":124671,"body_markdown":"If you don&#39;t mind a 3rd party library, the [Utils][1] library has a [IterableUtils][2] that has a randomFrom(Iterable&lt;T&gt; iterable) method that will take a Set and return a random element from it\r\n\r\n    Set&lt;Object&gt; set = new HashSet&lt;&gt;();\r\n    set.add(...);\r\n    ...\r\n    Object random = IterableUtils.randomFrom(set);\r\n\r\nIt is in the Maven Central Repository at:\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;com.github.rkumsher&lt;/groupId&gt;\r\n      &lt;artifactId&gt;utils&lt;/artifactId&gt;\r\n      &lt;version&gt;1.3&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n  [1]: https://github.com/RKumsher/utils\r\n  [2]: https://github.com/RKumsher/utils/blob/master/src/main/java/com/github/rkumsher/collection/IterableUtils.java","title":"Picking a random element from a set","body":"<p>If you don't mind a 3rd party library, the <a href=\"https://github.com/RKumsher/utils\" rel=\"nofollow noreferrer\">Utils</a> library has a <a href=\"https://github.com/RKumsher/utils/blob/master/src/main/java/com/github/rkumsher/collection/IterableUtils.java\" rel=\"nofollow noreferrer\">IterableUtils</a> that has a randomFrom(Iterable iterable) method that will take a Set and return a random element from it</p>\n\n<pre><code>Set&lt;Object&gt; set = new HashSet&lt;&gt;();\nset.add(...);\n...\nObject random = IterableUtils.randomFrom(set);\n</code></pre>\n\n<p>It is in the Maven Central Repository at:</p>\n\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;com.github.rkumsher&lt;/groupId&gt;\n  &lt;artifactId&gt;utils&lt;/artifactId&gt;\n  &lt;version&gt;1.3&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":92537,"reputation":6275,"user_id":253575,"accept_rate":83,"display_name":"IcedDante"},"score":1,"creation_date":1620672873,"post_id":51412979,"comment_id":119264959,"body_markdown":"Why not findFirst().get() instead of orElse()?","body":"Why not findFirst().get() instead of orElse()?"},{"owner":{"account_id":1620792,"reputation":333,"user_id":2239025,"display_name":"hub"},"score":1,"creation_date":1628010637,"post_id":51412979,"comment_id":121306362,"body_markdown":"If get() is called without a check, it might throw a NoSuchElementException. This could be ignored if it is granted, that the underlying set of elements is not changed in a concurrent operation (Streams are not automatically atomic).","body":"If get() is called without a check, it might throw a NoSuchElementException. This could be ignored if it is granted, that the underlying set of elements is not changed in a concurrent operation (Streams are not automatically atomic)."},{"owner":{"account_id":1195086,"reputation":2530,"user_id":1166992,"accept_rate":83,"display_name":"Olivier Faucheux"},"score":0,"creation_date":1667222645,"post_id":51412979,"comment_id":131112421,"body_markdown":"Don&#39;t use `set.size()`, but `set.size() -1`.","body":"Don&#39;t use <code>set.size()</code>, but <code>set.size() -1</code>."},{"owner":{"account_id":5588221,"reputation":127,"user_id":4428219,"accept_rate":0,"display_name":"pyfyc"},"score":2,"creation_date":1667961968,"post_id":51412979,"comment_id":131291376,"body_markdown":"@Olivier Faucheux, the max element in Random().nextInt() is not included. So set.size() should be Ok.","body":"@Olivier Faucheux, the max element in Random().nextInt() is not included. So set.size() should be Ok."}],"tags":[],"owner":{"account_id":13733767,"reputation":591,"user_id":9910647,"display_name":"Joshua Bone"},"comment_count":4,"down_vote_count":0,"up_vote_count":46,"is_accepted":false,"score":46,"last_activity_date":1531962932,"creation_date":1531962932,"answer_id":51412979,"question_id":124671,"body_markdown":"In Java 8:\r\n\r\n    static &lt;E&gt; E getRandomSetElement(Set&lt;E&gt; set) {\r\n\t\treturn set.stream().skip(new Random().nextInt(set.size())).findFirst().orElse(null);\r\n    }","title":"Picking a random element from a set","body":"<p>In Java 8:</p>\n\n<pre><code>static &lt;E&gt; E getRandomSetElement(Set&lt;E&gt; set) {\n    return set.stream().skip(new Random().nextInt(set.size())).findFirst().orElse(null);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1620792,"reputation":333,"user_id":2239025,"display_name":"hub"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1628010181,"creation_date":1628010181,"answer_id":68640122,"question_id":124671,"body_markdown":"Java 8+ Stream:\r\n\r\n```java\r\n    static &lt;E&gt; Optional&lt;E&gt; getRandomElement(Collection&lt;E&gt; collection) {\r\n        return collection\r\n                .stream()\r\n                .skip(ThreadLocalRandom.current()\r\n                .nextInt(collection.size()))\r\n                .findAny();\r\n    }\r\n```\r\nBased on the [answer][1] of [Joshua Bone][2] but with slight changes:\r\n  - Ignores the Streams element order for a slight performance increase in parallel operations\r\n  - Uses the current thread&#39;s ThreadLocalRandom\r\n  - Accepts any Collection type as input\r\n  - Returns the provided Optional instead of null\r\n\r\n  [1]: https://stackoverflow.com/a/51412979/2239025\r\n  [2]: https://stackoverflow.com/users/9910647/joshua-bone","title":"Picking a random element from a set","body":"<p>Java 8+ Stream:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    static &lt;E&gt; Optional&lt;E&gt; getRandomElement(Collection&lt;E&gt; collection) {\n        return collection\n                .stream()\n                .skip(ThreadLocalRandom.current()\n                .nextInt(collection.size()))\n                .findAny();\n    }\n</code></pre>\n<p>Based on the <a href=\"https://stackoverflow.com/a/51412979/2239025\">answer</a> of <a href=\"https://stackoverflow.com/users/9910647/joshua-bone\">Joshua Bone</a> but with slight changes:</p>\n<ul>\n<li>Ignores the Streams element order for a slight performance increase in parallel operations</li>\n<li>Uses the current thread's ThreadLocalRandom</li>\n<li>Accepts any Collection type as input</li>\n<li>Returns the provided Optional instead of null</li>\n</ul>\n"},{"comments":[{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1700543619,"post_id":77515614,"comment_id":136664451,"body_markdown":"The question asked about [Set](https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/Set.html), i.e. **not** `java.util.List`.","body":"The question asked about <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/Set.html\" rel=\"nofollow noreferrer\">Set</a>, i.e. <b>not</b> <code>java.util.List</code>."}],"tags":[],"owner":{"account_id":7338555,"reputation":187,"user_id":5589031,"display_name":"AkshayKrish"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700480492,"creation_date":1700480492,"answer_id":77515614,"question_id":124671,"body_markdown":"    List&lt;Integer&gt; list=new ArrayList&lt;Integer&gt;(set);\r\n    int r=(int)(Math.random()*set.size());\r\n    return list.get(r);","title":"Picking a random element from a set","body":"<pre><code>List&lt;Integer&gt; list=new ArrayList&lt;Integer&gt;(set);\nint r=(int)(Math.random()*set.size());\nreturn list.get(r);\n</code></pre>\n"}],"owner":{"account_id":11190,"reputation":3147,"user_id":21445,"display_name":"Clue Less"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":258680,"favorite_count":0,"down_vote_count":1,"up_vote_count":217,"accepted_answer_id":124693,"answer_count":35,"score":216,"last_activity_date":1700480492,"creation_date":1222215137,"question_id":124671,"body_markdown":"How do I pick a random element from a set?\r\nI&#39;m particularly interested in picking a random element from a\r\nHashSet or a LinkedHashSet, in Java.\r\nSolutions for other languages are also welcome. ","title":"Picking a random element from a set","body":"<p>How do I pick a random element from a set?\nI'm particularly interested in picking a random element from a\nHashSet or a LinkedHashSet, in Java.\nSolutions for other languages are also welcome. </p>\n"},{"tags":["java","eclipse"],"owner":{"account_id":1052371,"reputation":1232,"user_id":1055951,"accept_rate":78,"display_name":"David Green"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700480346,"creation_date":1700480346,"question_id":77515605,"body_markdown":"I am running an Ant build in Eclipse and javadoc is reporting a package that does not exist.  This does not stop the build from completing but I would like to resolve it.    This is the javadoc section of the build-impl.xml file in Eclipse.  If I mouseover the javac.classpath in the &lt;classpath&gt;&lt;/classpath&gt; section I can see a list of the jar files.  The package that Javadocs is complaining about, the jar file is in the list.   If I go to the declaration for javac.classpath it takes me to a property file for a netbeans project.  this project started as netbeans and was later imported to Eclipse.  The javadocs problem is relatively new, it started last week but the project is a few years old.  I have gone through that file and everywhere I can find the javac.classpath I have added the name of the jar file.  I am not sure where else to look.  This doesn&#39;t prevent the project from being built, but it is annoying.  The error is:\r\n\r\n    [javadoc] Constructing Javadoc information...\r\n     [javadoc] /Users/foo/Projects/SwitchLogCollector/src/dc/sanswitch/Main.java:7: error: package org.apache.commons.cli does not exist\r\n     [javadoc] import org.apache.commons.cli.ParseException;\r\n\r\n\r\n\r\n                --&gt;\r\n    &lt;target depends=&quot;init&quot; if=&quot;have.sources&quot; name=&quot;-javadoc-build&quot;&gt;\r\n        &lt;mkdir dir=&quot;${dist.javadoc.dir}&quot;/&gt;\r\n        &lt;condition else=&quot;&quot; property=&quot;javadoc.endorsed.classpath.cmd.line.arg&quot; value=&quot;-J${endorsed.classpath.cmd.line.arg}&quot;&gt;\r\n            &lt;and&gt;\r\n                &lt;isset property=&quot;endorsed.classpath.cmd.line.arg&quot;/&gt;\r\n                &lt;not&gt;\r\n                    &lt;equals arg1=&quot;${endorsed.classpath.cmd.line.arg}&quot; arg2=&quot;&quot;/&gt;\r\n                &lt;/not&gt;\r\n            &lt;/and&gt;\r\n        &lt;/condition&gt;\r\n        &lt;condition else=&quot;&quot; property=&quot;bug5101868workaround&quot; value=&quot;*.java&quot;&gt;\r\n            &lt;matches pattern=&quot;1\\.[56](\\..*)?&quot; string=&quot;${java.version}&quot;/&gt;\r\n        &lt;/condition&gt;\r\n        &lt;javadoc additionalparam=&quot;-J-Dfile.encoding=${file.encoding} ${javadoc.additionalparam}&quot; author=&quot;${javadoc.author}&quot; charset=&quot;UTF-8&quot; destdir=&quot;${dist.javadoc.dir}&quot; docencoding=&quot;UTF-8&quot; encoding=&quot;${javadoc.encoding.used}&quot; failonerror=&quot;true&quot; noindex=&quot;${javadoc.noindex}&quot; nonavbar=&quot;${javadoc.nonavbar}&quot; notree=&quot;${javadoc.notree}&quot; private=&quot;${javadoc.private}&quot; source=&quot;${javac.source}&quot; splitindex=&quot;${javadoc.splitindex}&quot; use=&quot;${javadoc.use}&quot; useexternalfile=&quot;true&quot; version=&quot;${javadoc.version}&quot; windowtitle=&quot;${javadoc.windowtitle}&quot;&gt;\r\n            &lt;classpath&gt;\r\n                &lt;path path=&quot;${javac.classpath}&quot;/&gt;\r\n            &lt;/classpath&gt;\r\n            &lt;fileset dir=&quot;${src.dir}&quot; excludes=&quot;${bug5101868workaround},${excludes}&quot; includes=&quot;${includes}&quot;&gt;\r\n                &lt;filename name=&quot;**/*.java&quot;/&gt;\r\n            &lt;/fileset&gt;\r\n            &lt;fileset dir=&quot;${build.generated.sources.dir}&quot; erroronmissingdir=&quot;false&quot;&gt;\r\n                &lt;include name=&quot;**/*.java&quot;/&gt;\r\n                &lt;exclude name=&quot;*.java&quot;/&gt;\r\n            &lt;/fileset&gt;\r\n            &lt;arg line=&quot;${javadoc.endorsed.classpath.cmd.line.arg}&quot;/&gt;\r\n        &lt;/javadoc&gt;\r\n        &lt;copy todir=&quot;${dist.javadoc.dir}&quot;&gt;\r\n            &lt;fileset dir=&quot;${src.dir}&quot; excludes=&quot;${excludes}&quot; includes=&quot;${includes}&quot;&gt;\r\n                &lt;filename name=&quot;**/doc-files/**&quot;/&gt;\r\n            &lt;/fileset&gt;\r\n            &lt;fileset dir=&quot;${build.generated.sources.dir}&quot; erroronmissingdir=&quot;false&quot;&gt;\r\n                &lt;include name=&quot;**/doc-files/**&quot;/&gt;\r\n            &lt;/fileset&gt;\r\n        &lt;/copy&gt;\r\n    &lt;/target&gt;\r\n    &lt;target depends=&quot;init,-javadoc-build&quot; if=&quot;netbeans.home&quot; name=&quot;-javadoc-browse&quot; unless=&quot;no.javadoc.preview&quot;&gt;\r\n        &lt;nbbrowse file=&quot;${dist.javadoc.dir}/index.html&quot;/&gt;\r\n    &lt;/target&gt;\r\n    &lt;target depends=&quot;init,-javadoc-build,-javadoc-browse&quot; description=&quot;Build Javadoc.&quot; name=&quot;javadoc&quot;/&gt;\r\n    &lt;!--","title":"Eclipse Build Javadoc package does not exist","body":"<p>I am running an Ant build in Eclipse and javadoc is reporting a package that does not exist.  This does not stop the build from completing but I would like to resolve it.    This is the javadoc section of the build-impl.xml file in Eclipse.  If I mouseover the javac.classpath in the  section I can see a list of the jar files.  The package that Javadocs is complaining about, the jar file is in the list.   If I go to the declaration for javac.classpath it takes me to a property file for a netbeans project.  this project started as netbeans and was later imported to Eclipse.  The javadocs problem is relatively new, it started last week but the project is a few years old.  I have gone through that file and everywhere I can find the javac.classpath I have added the name of the jar file.  I am not sure where else to look.  This doesn't prevent the project from being built, but it is annoying.  The error is:</p>\n<pre><code>[javadoc] Constructing Javadoc information...\n [javadoc] /Users/foo/Projects/SwitchLogCollector/src/dc/sanswitch/Main.java:7: error: package org.apache.commons.cli does not exist\n [javadoc] import org.apache.commons.cli.ParseException;\n\n\n\n            --&gt;\n&lt;target depends=&quot;init&quot; if=&quot;have.sources&quot; name=&quot;-javadoc-build&quot;&gt;\n    &lt;mkdir dir=&quot;${dist.javadoc.dir}&quot;/&gt;\n    &lt;condition else=&quot;&quot; property=&quot;javadoc.endorsed.classpath.cmd.line.arg&quot; value=&quot;-J${endorsed.classpath.cmd.line.arg}&quot;&gt;\n        &lt;and&gt;\n            &lt;isset property=&quot;endorsed.classpath.cmd.line.arg&quot;/&gt;\n            &lt;not&gt;\n                &lt;equals arg1=&quot;${endorsed.classpath.cmd.line.arg}&quot; arg2=&quot;&quot;/&gt;\n            &lt;/not&gt;\n        &lt;/and&gt;\n    &lt;/condition&gt;\n    &lt;condition else=&quot;&quot; property=&quot;bug5101868workaround&quot; value=&quot;*.java&quot;&gt;\n        &lt;matches pattern=&quot;1\\.[56](\\..*)?&quot; string=&quot;${java.version}&quot;/&gt;\n    &lt;/condition&gt;\n    &lt;javadoc additionalparam=&quot;-J-Dfile.encoding=${file.encoding} ${javadoc.additionalparam}&quot; author=&quot;${javadoc.author}&quot; charset=&quot;UTF-8&quot; destdir=&quot;${dist.javadoc.dir}&quot; docencoding=&quot;UTF-8&quot; encoding=&quot;${javadoc.encoding.used}&quot; failonerror=&quot;true&quot; noindex=&quot;${javadoc.noindex}&quot; nonavbar=&quot;${javadoc.nonavbar}&quot; notree=&quot;${javadoc.notree}&quot; private=&quot;${javadoc.private}&quot; source=&quot;${javac.source}&quot; splitindex=&quot;${javadoc.splitindex}&quot; use=&quot;${javadoc.use}&quot; useexternalfile=&quot;true&quot; version=&quot;${javadoc.version}&quot; windowtitle=&quot;${javadoc.windowtitle}&quot;&gt;\n        &lt;classpath&gt;\n            &lt;path path=&quot;${javac.classpath}&quot;/&gt;\n        &lt;/classpath&gt;\n        &lt;fileset dir=&quot;${src.dir}&quot; excludes=&quot;${bug5101868workaround},${excludes}&quot; includes=&quot;${includes}&quot;&gt;\n            &lt;filename name=&quot;**/*.java&quot;/&gt;\n        &lt;/fileset&gt;\n        &lt;fileset dir=&quot;${build.generated.sources.dir}&quot; erroronmissingdir=&quot;false&quot;&gt;\n            &lt;include name=&quot;**/*.java&quot;/&gt;\n            &lt;exclude name=&quot;*.java&quot;/&gt;\n        &lt;/fileset&gt;\n        &lt;arg line=&quot;${javadoc.endorsed.classpath.cmd.line.arg}&quot;/&gt;\n    &lt;/javadoc&gt;\n    &lt;copy todir=&quot;${dist.javadoc.dir}&quot;&gt;\n        &lt;fileset dir=&quot;${src.dir}&quot; excludes=&quot;${excludes}&quot; includes=&quot;${includes}&quot;&gt;\n            &lt;filename name=&quot;**/doc-files/**&quot;/&gt;\n        &lt;/fileset&gt;\n        &lt;fileset dir=&quot;${build.generated.sources.dir}&quot; erroronmissingdir=&quot;false&quot;&gt;\n            &lt;include name=&quot;**/doc-files/**&quot;/&gt;\n        &lt;/fileset&gt;\n    &lt;/copy&gt;\n&lt;/target&gt;\n&lt;target depends=&quot;init,-javadoc-build&quot; if=&quot;netbeans.home&quot; name=&quot;-javadoc-browse&quot; unless=&quot;no.javadoc.preview&quot;&gt;\n    &lt;nbbrowse file=&quot;${dist.javadoc.dir}/index.html&quot;/&gt;\n&lt;/target&gt;\n&lt;target depends=&quot;init,-javadoc-build,-javadoc-browse&quot; description=&quot;Build Javadoc.&quot; name=&quot;javadoc&quot;/&gt;\n&lt;!--\n</code></pre>\n"},{"tags":["java","maven","intellij-idea","module"],"comments":[{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1700194856,"post_id":77499316,"comment_id":136627227,"body_markdown":"What version of IntelliJ?","body":"What version of IntelliJ?"},{"owner":{"account_id":3366819,"reputation":2646,"user_id":2827181,"display_name":"Marc Le Bihan"},"score":0,"creation_date":1700195201,"post_id":77499316,"comment_id":136627250,"body_markdown":"`2023.2.5` I edited my post.","body":"<code>2023.2.5</code> I edited my post."},{"owner":{"account_id":2649766,"reputation":4544,"user_id":2291748,"accept_rate":84,"display_name":"sakura-bloom"},"score":0,"creation_date":1700196400,"post_id":77499316,"comment_id":136627330,"body_markdown":"Sometimes I get this error when I switch to a different git branch - then the whole project is broken. My workaround is a combination of deleting everything in `~/.m2/repository` and deleting `.idea` directory. It works, but takes a long time. Invalidating Caches in IDEA doesn&#39;t do anything for me. I suspect it has something to do with memory management of IDEA (?).","body":"Sometimes I get this error when I switch to a different git branch - then the whole project is broken. My workaround is a combination of deleting everything in <code>~&#47;.m2&#47;repository</code> and deleting <code>.idea</code> directory. It works, but takes a long time. Invalidating Caches in IDEA doesn&#39;t do anything for me. I suspect it has something to do with memory management of IDEA (?)."},{"owner":{"account_id":3366819,"reputation":2646,"user_id":2827181,"display_name":"Marc Le Bihan"},"score":0,"creation_date":1700197041,"post_id":77499316,"comment_id":136627384,"body_markdown":"_IntelliJ_ is in terrible shape these last months. I&#39;ve even found _Yoututbe_ Java videos having to mention it during their demonstrations! A sign that we are not alone. I pray each day that IDEA stops adding new features for a while to stick on correcting bugs. It seems that my problem tend to resolve if I do not click on the &quot;M&quot; icon that appears when my Maven project changes, and go instead in the _Maven_ window to ask for a _Reload All Maven Projects_","body":"<i>IntelliJ</i> is in terrible shape these last months. I&#39;ve even found <i>Yoututbe</i> Java videos having to mention it during their demonstrations! A sign that we are not alone. I pray each day that IDEA stops adding new features for a while to stick on correcting bugs. It seems that my problem tend to resolve if I do not click on the &quot;M&quot; icon that appears when my Maven project changes, and go instead in the <i>Maven</i> window to ask for a <i>Reload All Maven Projects</i>"}],"answers":[{"comments":[{"owner":{"account_id":3366819,"reputation":2646,"user_id":2827181,"display_name":"Marc Le Bihan"},"score":0,"creation_date":1700485234,"post_id":77515590,"comment_id":136656547,"body_markdown":"The problem is that according to my experiences, you can delegate the build actions to Maven, and then the build succeeds, but when you ask to run a test, it performs &quot;it&#39;s own&quot; build procedure again and fails. But currently I think that it&#39;s the function &quot;refresh maven project&quot; who is faulty. If I do a complete reload of maven projects instead. it will succeed.","body":"The problem is that according to my experiences, you can delegate the build actions to Maven, and then the build succeeds, but when you ask to run a test, it performs &quot;it&#39;s own&quot; build procedure again and fails. But currently I think that it&#39;s the function &quot;refresh maven project&quot; who is faulty. If I do a complete reload of maven projects instead. it will succeed."}],"tags":[],"owner":{"account_id":28411028,"reputation":416,"user_id":21734429,"display_name":"romanv-jb"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700480193,"creation_date":1700480193,"answer_id":77515590,"question_id":77499316,"body_markdown":"The issue here seems to stem from IDEA using its&#39; own Build System for some of the options it offers (for instance, options from the &quot;Build&quot; menu are based on the Native Build System), even if the Project in question is Maven-based.\r\n\r\nNative Build System tries to stick to Maven conventions, but there might be discrepancies, that may, in turn, lead to issues you are describing.\r\n\r\nFor Maven-based Projects it&#39;s best to use options from the [Maven Tool Window][1] (and corresponding [Run/Debug Configurations][2]). You can also enable &quot;[Delegate IDE build/run actions to Maven][3]&quot;.\r\n\r\nMight be a good idea to submit a [YouTrack Issue][4] with a reproducer Project attached, so this can be fully investigated and resolved.\r\n\r\n\r\n  [1]: https://www.jetbrains.com/help/idea/maven-projects-tool-window.html\r\n  [2]: https://www.jetbrains.com/help/idea/run-debug-configuration-maven.html\r\n  [3]: https://www.jetbrains.com/help/idea/maven-runner.html\r\n  [4]: https://youtrack.jetbrains.com/issues","title":"Often, after a maven refresh, unit testing of a project cannot find the module it declared itself in its module-info.java. Repair IDE, delete .idea","body":"<p>The issue here seems to stem from IDEA using its' own Build System for some of the options it offers (for instance, options from the &quot;Build&quot; menu are based on the Native Build System), even if the Project in question is Maven-based.</p>\n<p>Native Build System tries to stick to Maven conventions, but there might be discrepancies, that may, in turn, lead to issues you are describing.</p>\n<p>For Maven-based Projects it's best to use options from the <a href=\"https://www.jetbrains.com/help/idea/maven-projects-tool-window.html\" rel=\"nofollow noreferrer\">Maven Tool Window</a> (and corresponding <a href=\"https://www.jetbrains.com/help/idea/run-debug-configuration-maven.html\" rel=\"nofollow noreferrer\">Run/Debug Configurations</a>). You can also enable &quot;<a href=\"https://www.jetbrains.com/help/idea/maven-runner.html\" rel=\"nofollow noreferrer\">Delegate IDE build/run actions to Maven</a>&quot;.</p>\n<p>Might be a good idea to submit a <a href=\"https://youtrack.jetbrains.com/issues\" rel=\"nofollow noreferrer\">YouTrack Issue</a> with a reproducer Project attached, so this can be fully investigated and resolved.</p>\n"}],"owner":{"account_id":3366819,"reputation":2646,"user_id":2827181,"display_name":"Marc Le Bihan"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1700480193,"creation_date":1700194425,"question_id":77499316,"body_markdown":"My first module in my project list has ten unit tests and a `module-info.java` containing:\r\n\r\n```java\r\nmodule fr.ecoemploi.domain.utils {\r\n   requires org.slf4j;\r\n   requires org.apache.commons.lang3;\r\n\r\n   exports fr.ecoemploi.domain.utils.objets;\r\n   exports fr.ecoemploi.domain.utils.autocontrole;\r\n}\r\n```\r\n\r\nthat from a `mvn clean install` in a command line, compiles and succeed its tests.\r\n\r\n---\r\n\r\nDepending of an amount of luck, when I refresh the whole maven Project, either the project and its tests are also compiling, and the whole application is buildable and testable also from _IntelliJ 2023.2.5_, \r\n\r\neither the tests launched from the IDE immediately stops with the error:\r\n\r\n```log\r\nError occurred during initialization of boot layer\r\njava.lang.module.FindException: Module fr.ecoemploi.domain.utils not found\r\n```\r\n\r\nand a _Build Project_ or a _Rebuild Project_ attempting to rebuild all the application, will fail with the message:\r\n\r\n```log\r\nmodule not found: fr.ecoemploi.domain.utils\r\nmodule not found: org.slf4j\r\nmodule not found: org.apache.commons.lang3\r\nmodule not found: io.swagger.v3.oas.annotations\r\nmodule not found: java.validation\r\n```\r\n\r\nBut, if I rebuild only that module by right clicking on its context menu, the build will succeed and the unit tests also.\r\n\r\nBecause I cannot then build by IntelliJ the remaining of my application, I cannot it to test it anymore, and I have to switch to the command line to perform the building, with _Maven_.\r\n\r\n---\r\n\r\nWhen I stumble into this problem, currently, my workaround is too try _Repair IDE_, restart it, sometimes have to delete the `.idea` folder (but this causes me loosing all my personal settings), and at a time, _IntelliJ_ restarts understanding the whole project well again.\r\n\r\nBut it&#39;s long. Very long. Each time this trouble happens, is often 1h30 I have to spend on it, and I would like to find a way to fix it quickly when it happens.","title":"Often, after a maven refresh, unit testing of a project cannot find the module it declared itself in its module-info.java. Repair IDE, delete .idea","body":"<p>My first module in my project list has ten unit tests and a <code>module-info.java</code> containing:</p>\n<pre class=\"lang-java prettyprint-override\"><code>module fr.ecoemploi.domain.utils {\n   requires org.slf4j;\n   requires org.apache.commons.lang3;\n\n   exports fr.ecoemploi.domain.utils.objets;\n   exports fr.ecoemploi.domain.utils.autocontrole;\n}\n</code></pre>\n<p>that from a <code>mvn clean install</code> in a command line, compiles and succeed its tests.</p>\n<hr />\n<p>Depending of an amount of luck, when I refresh the whole maven Project, either the project and its tests are also compiling, and the whole application is buildable and testable also from <em>IntelliJ 2023.2.5</em>,</p>\n<p>either the tests launched from the IDE immediately stops with the error:</p>\n<pre><code>Error occurred during initialization of boot layer\njava.lang.module.FindException: Module fr.ecoemploi.domain.utils not found\n</code></pre>\n<p>and a <em>Build Project</em> or a <em>Rebuild Project</em> attempting to rebuild all the application, will fail with the message:</p>\n<pre><code>module not found: fr.ecoemploi.domain.utils\nmodule not found: org.slf4j\nmodule not found: org.apache.commons.lang3\nmodule not found: io.swagger.v3.oas.annotations\nmodule not found: java.validation\n</code></pre>\n<p>But, if I rebuild only that module by right clicking on its context menu, the build will succeed and the unit tests also.</p>\n<p>Because I cannot then build by IntelliJ the remaining of my application, I cannot it to test it anymore, and I have to switch to the command line to perform the building, with <em>Maven</em>.</p>\n<hr />\n<p>When I stumble into this problem, currently, my workaround is too try <em>Repair IDE</em>, restart it, sometimes have to delete the <code>.idea</code> folder (but this causes me loosing all my personal settings), and at a time, <em>IntelliJ</em> restarts understanding the whole project well again.</p>\n<p>But it's long. Very long. Each time this trouble happens, is often 1h30 I have to spend on it, and I would like to find a way to fix it quickly when it happens.</p>\n"},{"tags":["java","microservices","scheduling","microprofile","helidon"],"comments":[{"owner":{"account_id":463786,"reputation":668,"user_id":866889,"accept_rate":60,"display_name":"Dmitry Aleksandrov"},"score":0,"creation_date":1700488079,"post_id":77515115,"comment_id":136657079,"body_markdown":"Have you seen this: https://helidon.io/docs/v4/#/mp/scheduling","body":"Have you seen this: <a href=\"https://helidon.io/docs/v4/#/mp/scheduling\" rel=\"nofollow noreferrer\">helidon.io/docs/v4/#/mp/scheduling</a>"}],"owner":{"account_id":15199990,"reputation":11,"user_id":10968279,"display_name":"snb23"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700480062,"creation_date":1700476072,"question_id":77515115,"body_markdown":"I am trying to configure a scheduler in Helidon Microprofile. I am trying to get the IntialDelay and value for FixedRate from configuration file but it doesn&#39;t seem to work.\r\nI am providing all the different ways I have tried. Please help me resolve this issue in best possible way.\r\nThank you.\r\n\r\n\r\n\r\n In the below code, I am expecting the constructor to be called and first and initialise the TaskScheduler(). But that is not happening. The taskScheduler is not getting scheduled.\r\n\r\n```\r\n@ApplicationScoped\r\npublic class TaskScheduler {\r\n    private final Long initialDelay;\r\n    private final Long fixedRate;\r\n    private static final Logger LOGGER = Logger.getLogger(TaskScheduler.class.getName());\r\n\r\n    @Inject\r\n    public TaskScheduler() {\r\n        org.eclipse.microprofile.config.Config config = ConfigProvider.getConfig();\r\n        this.initialDelay = config.getOptionalValue(&quot;scheduler.initialDelay&quot;, Long.class).orElse(2L);\r\n        this.fixedRate = config.getOptionalValue(&quot;scheduler.fixedRate&quot;, Long.class).orElse(2L);\r\n       ScheduledExecutorService scheduler = Executors.newScheduledThreadPool(1);\r\n       scheduler.scheduleAtFixedRate(this::taskScheduler, this.initialDelay, this.fixedRate, TimeUnit.SECONDS);\r\n    }\r\n    public void taskScheduler()  {\r\n        LOGGER.info(&quot;Running tasks: &quot;);\r\n\r\n    }\r\n}\r\n```\r\n\r\nI have tried to pass ConfigProperty as constructor parameters as below code, but I get this exception\r\nException in thread &quot;main&quot; org.jboss.weld.exceptions.DeploymentException: WELD-001408: Unsatisfied dependencies for type Long with qualifiers @Default\r\n```\r\n@Inject\r\npublic TaskScheduler(\r\n        @ConfigProperty(name = &quot;scheduler.initialDelay&quot;) Long delay,\r\n        @ConfigProperty(name = &quot;scheduler.fixedRate&quot;) Long rate\r\n                     ) {\r\n    this.initialDelay = delay;\r\n    this.fixedRate = rate;\r\n\r\n   ScheduledExecutorService scheduler = Executors.newScheduledThreadPool(1);\r\n   scheduler.scheduleAtFixedRate(this::taskScheduler, this.initialDelay, this.fixedRate, TimeUnit.SECONDS);\r\n}\r\n\r\n```\r\nI have also tried to use @PostConstruct but this doesn&#39;t get called at all.\r\n```\r\n @PostConstruct\r\n public void postConstruct() {\r\n     LOGGER.info(&quot;Running tasks: &quot;);\r\n     Config config = ConfigProvider.getConfig();\r\n     long initialDelay = config.getOptionalValue(&quot;scheduler.initialDelay&quot;, Long.class).orElse(2L);\r\n     long fixedRate = config.getOptionalValue(&quot;scheduler.fixedRate&quot;, Long.class).orElse(2L);\r\n     ScheduledExecutorService scheduler = Executors.newScheduledThreadPool(1);\r\n     scheduler.scheduleAtFixedRate(this::taskScheduler, initialDelay, fixedRate, TimeUnit.SECONDS);\r\n } \r\n```","title":"Scheduling in Helidon Microprofile","body":"<p>I am trying to configure a scheduler in Helidon Microprofile. I am trying to get the IntialDelay and value for FixedRate from configuration file but it doesn't seem to work.\nI am providing all the different ways I have tried. Please help me resolve this issue in best possible way.\nThank you.</p>\n<p>In the below code, I am expecting the constructor to be called and first and initialise the TaskScheduler(). But that is not happening. The taskScheduler is not getting scheduled.</p>\n<pre><code>@ApplicationScoped\npublic class TaskScheduler {\n    private final Long initialDelay;\n    private final Long fixedRate;\n    private static final Logger LOGGER = Logger.getLogger(TaskScheduler.class.getName());\n\n    @Inject\n    public TaskScheduler() {\n        org.eclipse.microprofile.config.Config config = ConfigProvider.getConfig();\n        this.initialDelay = config.getOptionalValue(&quot;scheduler.initialDelay&quot;, Long.class).orElse(2L);\n        this.fixedRate = config.getOptionalValue(&quot;scheduler.fixedRate&quot;, Long.class).orElse(2L);\n       ScheduledExecutorService scheduler = Executors.newScheduledThreadPool(1);\n       scheduler.scheduleAtFixedRate(this::taskScheduler, this.initialDelay, this.fixedRate, TimeUnit.SECONDS);\n    }\n    public void taskScheduler()  {\n        LOGGER.info(&quot;Running tasks: &quot;);\n\n    }\n}\n</code></pre>\n<p>I have tried to pass ConfigProperty as constructor parameters as below code, but I get this exception\nException in thread &quot;main&quot; org.jboss.weld.exceptions.DeploymentException: WELD-001408: Unsatisfied dependencies for type Long with qualifiers @Default</p>\n<pre><code>@Inject\npublic TaskScheduler(\n        @ConfigProperty(name = &quot;scheduler.initialDelay&quot;) Long delay,\n        @ConfigProperty(name = &quot;scheduler.fixedRate&quot;) Long rate\n                     ) {\n    this.initialDelay = delay;\n    this.fixedRate = rate;\n\n   ScheduledExecutorService scheduler = Executors.newScheduledThreadPool(1);\n   scheduler.scheduleAtFixedRate(this::taskScheduler, this.initialDelay, this.fixedRate, TimeUnit.SECONDS);\n}\n\n</code></pre>\n<p>I have also tried to use @PostConstruct but this doesn't get called at all.</p>\n<pre><code> @PostConstruct\n public void postConstruct() {\n     LOGGER.info(&quot;Running tasks: &quot;);\n     Config config = ConfigProvider.getConfig();\n     long initialDelay = config.getOptionalValue(&quot;scheduler.initialDelay&quot;, Long.class).orElse(2L);\n     long fixedRate = config.getOptionalValue(&quot;scheduler.fixedRate&quot;, Long.class).orElse(2L);\n     ScheduledExecutorService scheduler = Executors.newScheduledThreadPool(1);\n     scheduler.scheduleAtFixedRate(this::taskScheduler, initialDelay, fixedRate, TimeUnit.SECONDS);\n } \n</code></pre>\n"},{"tags":["java","spring","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":9504657,"reputation":7440,"user_id":7064617,"display_name":"JCompetence"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1700479681,"creation_date":1700479372,"answer_id":77515491,"question_id":77515368,"body_markdown":"The cleanest approach is to create both Components and to Inject them both, but you can use the Factory Pattern to return the one you wish to use.\r\n\r\n    @Component \r\n    public class Circle implements Shape{\r\n       ...\r\n    }\r\n    @Component\r\n    public class Rectangle implements Shape{\r\n    \r\n        ...\r\n    }\r\n\r\n\r\n\r\n//pseudo code below\r\n\r\n    @Component\r\n    public class ShapeFactory {\r\n    \r\n        @Autowired\r\n        private Rectangle rectangle;\r\n    \r\n        @Autowired\r\n        private Circle circle;\r\n    \r\n        public Shape getShapeComponent(ShapeEnum requestShape) {\r\n    \r\n          //circle \r\n          if(requestShape.equals(ShapeEnum.CIRCLE){\r\n             return circle;\r\n          }\r\n    \r\n         ..... rest\r\n    \r\n    }\r\n\r\n\r\n----------\r\n\r\n\r\n       @Component\r\n       public class MyMainClass{\r\n    \r\n          @Autowired\r\n          private ShapeFactory shapeFactory;\r\n    \r\n    \r\n          public void someMethod(){\r\n    \r\n             ShapeEnum shapeEnum = someRequestThatReturnsShape();\r\n    \r\n             shapeFactory.getShapeComponent(shapeEnum);\r\n    \r\n          }\r\n       }\r\n\r\n\r\n","title":"How to Autowire a bean conditionally based on the type value from REST API request","body":"<p>The cleanest approach is to create both Components and to Inject them both, but you can use the Factory Pattern to return the one you wish to use.</p>\n<pre><code>@Component \npublic class Circle implements Shape{\n   ...\n}\n@Component\npublic class Rectangle implements Shape{\n\n    ...\n}\n</code></pre>\n<p>//pseudo code below</p>\n<pre><code>@Component\npublic class ShapeFactory {\n\n    @Autowired\n    private Rectangle rectangle;\n\n    @Autowired\n    private Circle circle;\n\n    public Shape getShapeComponent(ShapeEnum requestShape) {\n\n      //circle \n      if(requestShape.equals(ShapeEnum.CIRCLE){\n         return circle;\n      }\n\n     ..... rest\n\n}\n</code></pre>\n<hr />\n<pre><code>   @Component\n   public class MyMainClass{\n\n      @Autowired\n      private ShapeFactory shapeFactory;\n\n\n      public void someMethod(){\n\n         ShapeEnum shapeEnum = someRequestThatReturnsShape();\n\n         shapeFactory.getShapeComponent(shapeEnum);\n\n      }\n   }\n</code></pre>\n"}],"owner":{"account_id":15974708,"reputation":31,"user_id":11527914,"display_name":"asho"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1700479681,"creation_date":1700478302,"question_id":77515368,"body_markdown":"I am a novice in the process of learning Spring and have encountered a question regarding how to use autowiring to inject a bean based on the value from the request type.\r\n\r\nFor ex, \r\n\r\n```\r\npublic interface shape {\r\n\r\n   Handler draw(ShapeRequest request);\r\n}\r\n```\r\n\r\n```\r\n@Component \r\npublic class Circle {\r\n   ...\r\n}\r\n```\r\n\r\n```\r\n@Component\r\npublic class Rectangle {\r\n    ...\r\n}\r\n```\r\nI have a class where I need to invoke either the circle or rectangle based on the value received in the ShapeRequest.shape. Could someone please provide guidance on how to accomplish this?\r\n","title":"How to Autowire a bean conditionally based on the type value from REST API request","body":"<p>I am a novice in the process of learning Spring and have encountered a question regarding how to use autowiring to inject a bean based on the value from the request type.</p>\n<p>For ex,</p>\n<pre><code>public interface shape {\n\n   Handler draw(ShapeRequest request);\n}\n</code></pre>\n<pre><code>@Component \npublic class Circle {\n   ...\n}\n</code></pre>\n<pre><code>@Component\npublic class Rectangle {\n    ...\n}\n</code></pre>\n<p>I have a class where I need to invoke either the circle or rectangle based on the value received in the ShapeRequest.shape. Could someone please provide guidance on how to accomplish this?</p>\n"},{"tags":["java","jar","export"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1700485475,"post_id":77515376,"comment_id":136656595,"body_markdown":"I don&#39;t use this IDE but I would guess that ensuring all dependent jars are within the project&#39;s library directory would help","body":"I don&#39;t use this IDE but I would guess that ensuring all dependent jars are within the project&#39;s library directory would help"},{"owner":{"account_id":23232487,"reputation":1,"user_id":17322972,"display_name":"RandomUserinArstotzka "},"score":0,"creation_date":1700487659,"post_id":77515376,"comment_id":136657015,"body_markdown":"Dependent jars as in the import statements? Besides that it doesn&#39;t need anything","body":"Dependent jars as in the import statements? Besides that it doesn&#39;t need anything"}],"owner":{"account_id":23232487,"reputation":1,"user_id":17322972,"display_name":"RandomUserinArstotzka "},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700479584,"creation_date":1700478347,"question_id":77515376,"body_markdown":"Don&#39;t know why, I can&#39;t export Eclipse project to JAR.\r\n[Results of exporting](https://i.stack.imgur.com/Hm4Z9.png)\r\nMy java code, in case that is the problem:\r\n```\r\npackage com.binbanner;\r\n\r\nimport java.util.List;\r\nimport org.bukkit.Material;\r\nimport org.bukkit.command.Command;\r\nimport org.bukkit.command.CommandExecutor;\r\nimport org.bukkit.command.CommandSender;\r\nimport org.bukkit.entity.Player;\r\nimport org.bukkit.event.EventHandler;\r\nimport org.bukkit.event.Listener;\r\nimport org.bukkit.event.inventory.InventoryClickEvent;\r\nimport org.bukkit.inventory.ItemStack;\r\nimport org.bukkit.inventory.meta.BannerMeta;\r\nimport org.bukkit.plugin.java.JavaPlugin;\r\n\r\npublic class BannerCheckPlugin\r\n  extends JavaPlugin\r\n  implements Listener, CommandExecutor {\r\n\r\n  private boolean running = true;\r\n\r\n  @Override\r\n  public void onEnable() {\r\n    getServer().getPluginManager().registerEvents(this, this);\r\n    getCommand(&quot;sm&quot;).setExecutor(this);\r\n    getCommand(&quot;stm&quot;).setExecutor(this);\r\n    getLogger().info(&quot;BinBanner private plugin enabled&quot;);\r\n  }\r\n\r\n  @Override\r\n  public void onDisable() {\r\n    getLogger().info(&quot;BinBanner private plugin system closed&quot;);\r\n  }\r\n  private boolean hasRequiredPatterns(BannerMeta bannerMeta) {\r\n\t    // Check lore for each required pattern\r\n\t    List&lt;String&gt; lore = bannerMeta.getLore();\r\n\t    return (\r\n\t      lore != null &amp;&amp;\r\n\t      lore.contains(&quot;White Roundel&quot;) &amp;&amp;\r\n\t      lore.contains(&quot;Black Cross&quot;) &amp;&amp;\r\n\t      lore.contains(&quot;Red Chief&quot;) &amp;&amp;\r\n\t      lore.contains(&quot;Red Base&quot;) &amp;&amp;\r\n\t      lore.contains(&quot;Red Bordure&quot;)\r\n\t    );\r\n\t  }\r\n  @EventHandler\r\n  public void onInventoryClick(InventoryClickEvent event) {\r\n    if (!(event.getWhoClicked() instanceof Player)) {\r\n      return; // Ignore non-player inventories\r\n    }\r\n\r\n    Player player = (Player) event.getWhoClicked();\r\n    if (!running) {\r\n      player.sendMessage(&quot;Command ignored. BinBanner is not running.&quot;);\r\n      return;\r\n    }\r\n\r\n    ItemStack clickedItem = event.getCurrentItem();\r\n    if (clickedItem != null &amp;&amp; clickedItem.getType() == Material.BANNER) {\r\n      BannerMeta bannerMeta = (BannerMeta) clickedItem.getItemMeta();\r\n\r\n      if (bannerMeta != null &amp;&amp; hasRequiredPatterns(bannerMeta)) {\r\n        // Remove the banner from the inventory\r\n        player.getInventory().remove(clickedItem);\r\n      }\r\n    }\r\n  }\r\n\r\n\r\n\r\n  private void startPlugin(Player player) {\r\n    if (!running) {\r\n      running = true;\r\n      player.sendMessage(&quot;Done! BinBanner started.&quot;);\r\n    } else {\r\n      player.sendMessage(&quot;Command ignored. BinBanner is already running.&quot;);\r\n    }\r\n  }\r\n\r\n  private void stopPlugin(Player player) {\r\n    if (running) {\r\n      running = false;\r\n      player.sendMessage(&quot;Done! BinBanner in hibernation.&quot;);\r\n    } else {\r\n      player.sendMessage(\r\n        &quot;Command ignored. BinBanner is already in hibernation.&quot;\r\n      );\r\n    }\r\n  }\r\n\r\n  @Override\r\n  public boolean onCommand(\r\n    CommandSender sender,\r\n    Command command,\r\n    String label,\r\n    String[] args\r\n  ) {\r\n    if (!(sender instanceof Player)&amp;&amp; running == true) {\r\n      sender.sendMessage(&quot;Unable to use command: Entity type is incorrect&quot;);\r\n      return true;\r\n    }\r\n\r\n    Player player = (Player) sender;\r\n\r\n    if (!player.isOp()) {\r\n      player.sendMessage(&quot;Command unable to run: Insufficient permissions&quot;);\r\n      return true;\r\n    }\r\n\r\n    if (label.equalsIgnoreCase(&quot;sm&quot;)&amp;&amp; running == true) {\r\n      startPlugin(player);\r\n    } else if (label.equalsIgnoreCase(&quot;stm&quot;)&amp;&amp; running == true) {\r\n      stopPlugin(player);\r\n    }\r\n\r\n    return true;\r\n  }\r\n}\r\n\r\n```\r\nI don&#39;t think it is the java code causing the problem, I think it could be the build path which I didn&#39;t fix correctly. I am trying to do this in Eclipse, but if there is a way to export it using the same files from Eclipse in a different way, that might solve the problem. What I&#39;ve noticed is that using javac also doesn&#39;t work, for some reason it asks me to select an app to open javac. \r\n\r\nTried fixing the Build Path, didn&#39;t work. Keeps saying the same thing. What actually happened, was it created a JAR, but appears to not be the full JAR.\r\n","title":"Multiple JAR export errors","body":"<p>Don't know why, I can't export Eclipse project to JAR.\n<a href=\"https://i.stack.imgur.com/Hm4Z9.png\" rel=\"nofollow noreferrer\">Results of exporting</a>\nMy java code, in case that is the problem:</p>\n<pre><code>package com.binbanner;\n\nimport java.util.List;\nimport org.bukkit.Material;\nimport org.bukkit.command.Command;\nimport org.bukkit.command.CommandExecutor;\nimport org.bukkit.command.CommandSender;\nimport org.bukkit.entity.Player;\nimport org.bukkit.event.EventHandler;\nimport org.bukkit.event.Listener;\nimport org.bukkit.event.inventory.InventoryClickEvent;\nimport org.bukkit.inventory.ItemStack;\nimport org.bukkit.inventory.meta.BannerMeta;\nimport org.bukkit.plugin.java.JavaPlugin;\n\npublic class BannerCheckPlugin\n  extends JavaPlugin\n  implements Listener, CommandExecutor {\n\n  private boolean running = true;\n\n  @Override\n  public void onEnable() {\n    getServer().getPluginManager().registerEvents(this, this);\n    getCommand(&quot;sm&quot;).setExecutor(this);\n    getCommand(&quot;stm&quot;).setExecutor(this);\n    getLogger().info(&quot;BinBanner private plugin enabled&quot;);\n  }\n\n  @Override\n  public void onDisable() {\n    getLogger().info(&quot;BinBanner private plugin system closed&quot;);\n  }\n  private boolean hasRequiredPatterns(BannerMeta bannerMeta) {\n        // Check lore for each required pattern\n        List&lt;String&gt; lore = bannerMeta.getLore();\n        return (\n          lore != null &amp;&amp;\n          lore.contains(&quot;White Roundel&quot;) &amp;&amp;\n          lore.contains(&quot;Black Cross&quot;) &amp;&amp;\n          lore.contains(&quot;Red Chief&quot;) &amp;&amp;\n          lore.contains(&quot;Red Base&quot;) &amp;&amp;\n          lore.contains(&quot;Red Bordure&quot;)\n        );\n      }\n  @EventHandler\n  public void onInventoryClick(InventoryClickEvent event) {\n    if (!(event.getWhoClicked() instanceof Player)) {\n      return; // Ignore non-player inventories\n    }\n\n    Player player = (Player) event.getWhoClicked();\n    if (!running) {\n      player.sendMessage(&quot;Command ignored. BinBanner is not running.&quot;);\n      return;\n    }\n\n    ItemStack clickedItem = event.getCurrentItem();\n    if (clickedItem != null &amp;&amp; clickedItem.getType() == Material.BANNER) {\n      BannerMeta bannerMeta = (BannerMeta) clickedItem.getItemMeta();\n\n      if (bannerMeta != null &amp;&amp; hasRequiredPatterns(bannerMeta)) {\n        // Remove the banner from the inventory\n        player.getInventory().remove(clickedItem);\n      }\n    }\n  }\n\n\n\n  private void startPlugin(Player player) {\n    if (!running) {\n      running = true;\n      player.sendMessage(&quot;Done! BinBanner started.&quot;);\n    } else {\n      player.sendMessage(&quot;Command ignored. BinBanner is already running.&quot;);\n    }\n  }\n\n  private void stopPlugin(Player player) {\n    if (running) {\n      running = false;\n      player.sendMessage(&quot;Done! BinBanner in hibernation.&quot;);\n    } else {\n      player.sendMessage(\n        &quot;Command ignored. BinBanner is already in hibernation.&quot;\n      );\n    }\n  }\n\n  @Override\n  public boolean onCommand(\n    CommandSender sender,\n    Command command,\n    String label,\n    String[] args\n  ) {\n    if (!(sender instanceof Player)&amp;&amp; running == true) {\n      sender.sendMessage(&quot;Unable to use command: Entity type is incorrect&quot;);\n      return true;\n    }\n\n    Player player = (Player) sender;\n\n    if (!player.isOp()) {\n      player.sendMessage(&quot;Command unable to run: Insufficient permissions&quot;);\n      return true;\n    }\n\n    if (label.equalsIgnoreCase(&quot;sm&quot;)&amp;&amp; running == true) {\n      startPlugin(player);\n    } else if (label.equalsIgnoreCase(&quot;stm&quot;)&amp;&amp; running == true) {\n      stopPlugin(player);\n    }\n\n    return true;\n  }\n}\n\n</code></pre>\n<p>I don't think it is the java code causing the problem, I think it could be the build path which I didn't fix correctly. I am trying to do this in Eclipse, but if there is a way to export it using the same files from Eclipse in a different way, that might solve the problem. What I've noticed is that using javac also doesn't work, for some reason it asks me to select an app to open javac.</p>\n<p>Tried fixing the Build Path, didn't work. Keeps saying the same thing. What actually happened, was it created a JAR, but appears to not be the full JAR.</p>\n"},{"tags":["java","xml","stax"],"answers":[{"comments":[{"owner":{"account_id":47712,"reputation":53,"user_id":141444,"display_name":"user141444"},"score":0,"creation_date":1248123700,"post_id":1154191,"comment_id":974875,"body_markdown":"Looks like XMLStreamWriter may be my best choice.  Transforming would be the optimal solution but when i&#39;m dealing with 400+ mb files that will be a serious time problem.","body":"Looks like XMLStreamWriter may be my best choice.  Transforming would be the optimal solution but when i&#39;m dealing with 400+ mb files that will be a serious time problem."},{"owner":{"account_id":1141367,"reputation":1568,"user_id":1125172,"accept_rate":71,"display_name":"Linuslabo"},"score":0,"creation_date":1433496165,"post_id":1154191,"comment_id":49387898,"body_markdown":"With XMLStreamWriter you can use writeEmptyElement(). See http://stackoverflow.com/questions/26980516/how-to-write-self-closing-element-tags-using-xmlstreamwriter (leaving here as a quick reference)","body":"With XMLStreamWriter you can use writeEmptyElement(). See <a href=\"http://stackoverflow.com/questions/26980516/how-to-write-self-closing-element-tags-using-xmlstreamwriter\" title=\"how to write self closing element tags using xmlstreamwriter\">stackoverflow.com/questions/26980516/&hellip;</a> (leaving here as a quick reference)"}],"tags":[],"owner":{"account_id":246,"reputation":107903,"user_id":304,"accept_rate":40,"display_name":"McDowell"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1248102985,"creation_date":1248102985,"answer_id":1154191,"question_id":1154011,"body_markdown":"I&#39;m not sure if this is possible using [XMLEventWriter][1]. It is certainly possible with [XMLStreamWriter][2].\r\n\r\nIf you are stuck with XMLEventWriter, you could transform the data afterwards.\r\n\r\n    Reader xml = new StringReader(&quot;&lt;?xml version=\\&quot;1.0\\&quot;?&gt;&lt;foo&gt;&lt;/foo&gt;&quot;);\r\n    TransformerFactory transFactory = TransformerFactory.newInstance();\r\n    Transformer transformer = transFactory.newTransformer();\r\n    transformer.transform(new StreamSource(xml),\r\n        new StreamResult(System.out));\r\n\r\nThe output of the above code is:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&lt;foo/&gt;\r\n\r\n\r\n  [1]: http://java.sun.com/javase/6/docs/api/javax/xml/stream/XMLEventWriter.html\r\n  [2]: http://java.sun.com/javase/6/docs/api/javax/xml/stream/XMLStreamWriter.html#writeEmptyElement(java.lang.String,%20java.lang.String,%20java.lang.String)","title":"self-closing tags with XMLEventWriter","body":"<p>I'm not sure if this is possible using <a href=\"http://java.sun.com/javase/6/docs/api/javax/xml/stream/XMLEventWriter.html\" rel=\"nofollow noreferrer\">XMLEventWriter</a>. It is certainly possible with <a href=\"http://java.sun.com/javase/6/docs/api/javax/xml/stream/XMLStreamWriter.html#writeEmptyElement(java.lang.String,%20java.lang.String,%20java.lang.String)\" rel=\"nofollow noreferrer\">XMLStreamWriter</a>.</p>\n\n<p>If you are stuck with XMLEventWriter, you could transform the data afterwards.</p>\n\n<pre><code>Reader xml = new StringReader(\"&lt;?xml version=\\\"1.0\\\"?&gt;&lt;foo&gt;&lt;/foo&gt;\");\nTransformerFactory transFactory = TransformerFactory.newInstance();\nTransformer transformer = transFactory.newTransformer();\ntransformer.transform(new StreamSource(xml),\n    new StreamResult(System.out));\n</code></pre>\n\n<p>The output of the above code is:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;&lt;foo/&gt;\n</code></pre>\n"}],"owner":{"account_id":47712,"reputation":53,"user_id":141444,"display_name":"user141444"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2687,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":1,"score":5,"last_activity_date":1700479277,"creation_date":1248101140,"question_id":1154011,"body_markdown":"So the question is pretty much as stated in the title.  I am doing some xml work and using XMLEventWriter.  The big issue I&#39;m having is that I need to create some self closing tags\r\n    &lt;tag id=&quot;thetag&quot;/&gt;\r\n\r\nThe problem is that I haven&#39;t figured out a way to do this with the eventWriter.  I have tried everything I can think of using XMLEventFactory but nothing seems to work.  Any help would be greatly appreciated.","title":"self-closing tags with XMLEventWriter","body":"<p>So the question is pretty much as stated in the title.  I am doing some xml work and using XMLEventWriter.  The big issue I'm having is that I need to create some self closing tags\n    </p>\n\n<p>The problem is that I haven't figured out a way to do this with the eventWriter.  I have tried everything I can think of using XMLEventFactory but nothing seems to work.  Any help would be greatly appreciated.</p>\n"},{"tags":["java","record"],"comments":[{"owner":{"account_id":13376355,"reputation":284,"user_id":11695435,"display_name":"Danil Apsadikov"},"score":1,"creation_date":1662629196,"post_id":73646644,"comment_id":130051519,"body_markdown":"The second option seems to be the most correct","body":"The second option seems to be the most correct"},{"owner":{"account_id":4826640,"reputation":25377,"user_id":3895960,"accept_rate":97,"display_name":"Dici"},"score":0,"creation_date":1662629386,"post_id":73646644,"comment_id":130051604,"body_markdown":"A Lombok builder would do this well too... depends if you value having a record specifically. Java should add optional parameters with default value as well as call by name (or whatever is the name for the syntax allowing to do `method(param1 = &quot;bla&quot;`), this would eliminate even more use cases for Lombok, like in Kotlin or Scala","body":"A Lombok builder would do this well too... depends if you value having a record specifically. Java should add optional parameters with default value as well as call by name (or whatever is the name for the syntax allowing to do <code>method(param1 = &quot;bla&quot;</code>), this would eliminate even more use cases for Lombok, like in Kotlin or Scala"},{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":0,"creation_date":1662629565,"post_id":73646644,"comment_id":130051676,"body_markdown":"You can also add constructors, as long as they eventually (possibly through multiple calls to `this(...)` calls the generated constructor. For instance; `public MyRecord() { this(Set.of(), true); }`","body":"You can also add constructors, as long as they eventually (possibly through multiple calls to <code>this(...)</code> calls the generated constructor. For instance; <code>public MyRecord() { this(Set.of(), true); }</code>"},{"owner":{"account_id":1056871,"reputation":117749,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"score":0,"creation_date":1665751610,"post_id":73646644,"comment_id":130777084,"body_markdown":"if you are using Spring and these are managed beans, `@DefaultValue` is another option.","body":"if you are using Spring and these are managed beans, <code>@DefaultValue</code> is another option."}],"answers":[{"comments":[{"owner":{"account_id":1056871,"reputation":117749,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"score":2,"creation_date":1665751556,"post_id":74069263,"comment_id":130777067,"body_markdown":"this is _exactly_ what Spring does internally. Since they control the creation of the instances (beans), they also allow `@DefaultValue`s annotations on record attributes.","body":"this is <i>exactly</i> what Spring does internally. Since they control the creation of the instances (beans), they also allow <code>@DefaultValue</code>s annotations on record attributes."}],"tags":[],"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"comment_count":1,"down_vote_count":0,"up_vote_count":13,"is_accepted":true,"score":13,"last_activity_date":1665750666,"creation_date":1665750666,"answer_id":74069263,"question_id":73646644,"body_markdown":"Overriding the accessor methods like in your first variant violates the expectation that you can create an equal object using the accessor methods and the canonical constructor. [From the documentation]\r\n\r\n&gt; For all record classes, the following invariant must hold: if a record R&#39;s components are `c1, c2, ... cn`, then if a record instance is copied as follows:\r\n&gt; ```\r\n&gt;     R copy = new R(r.c1(), r.c2(), ..., r.cn());\r\n&gt; ```\r\n&gt; then it must be the case that `r.equals(copy)`.\r\n\r\nBut with your overridden accessor method, the following assertion fails:\r\n\r\n```java\r\nMyRecord r1 = new MyRecord(null, null), r2 = new MyRecord(r1.strings(), r1.required());\r\nassert r1.equals(r2);\r\n```\r\n\r\nbecause the internal fields contain different data.\r\n\r\nSo the only correct way to fix input data is during the construction, e.g.\r\n\r\n```java\r\npublic record MyRecord(Set&lt;String&gt; strings, Boolean required) {\r\n    public MyRecord {\r\n        if(strings == null) strings = Set.of();\r\n        if(required == null) required = true;\r\n    }\r\n}\r\n```\r\n\r\nHowever, you shouldnâ€™t do this `null` handling at all. Collections should never be `null` and using `Boolean` for the constructor implies having a `Boolean` record component type in general, i.e. also returned by the accessor method. And writing `new MyRecord(null, null)` instead of `new MyRecord(Set.of(), true)` doesnâ€™t even save much typing.\r\n\r\nIf you want to support default values, you should overload the constructor, e.g.\r\n\r\n```java\r\npublic record MyRecord(Set&lt;String&gt; strings, boolean required) {\r\n    public MyRecord {\r\n        strings = Set.copyOf(strings); // enforce non-null immutable set\r\n    }\r\n    public MyRecord() {\r\n        this(Set.of(), true);\r\n    }\r\n}\r\n```\r\n\r\nSo you can use `new MyRecord()` for the defaults. Or you consider that records are immutable, so constructing multiple instances of defaults isnâ€™t necessary\r\n\r\n```java\r\npublic record MyRecord(Set&lt;String&gt; strings, boolean required) {\r\n    public static final MyRecord DEFAULT = new MyRecord(Set.of(), true);\r\n    public MyRecord {\r\n        strings = Set.copyOf(strings); // enforce non-null immutable set\r\n    }\r\n}\r\n```\r\n\r\nand use `MyRecord.DEFAULT` whenever you need the default values. Of course, you still can provide overloaded constructors for the cases that only one parameter should have default values, if that is needed.\r\n\r\n[From the documentation]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Record.html#:~:text=For%20all%20record,equals(copy).","title":"Default values for record properties","body":"<p>Overriding the accessor methods like in your first variant violates the expectation that you can create an equal object using the accessor methods and the canonical constructor. <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Record.html#:%7E:text=For%20all%20record,equals(copy).\" rel=\"noreferrer\">From the documentation</a></p>\n<blockquote>\n<p>For all record classes, the following invariant must hold: if a record R's components are <code>c1, c2, ... cn</code>, then if a record instance is copied as follows:</p>\n<pre><code>    R copy = new R(r.c1(), r.c2(), ..., r.cn());\n</code></pre>\n<p>then it must be the case that <code>r.equals(copy)</code>.</p>\n</blockquote>\n<p>But with your overridden accessor method, the following assertion fails:</p>\n<pre class=\"lang-java prettyprint-override\"><code>MyRecord r1 = new MyRecord(null, null), r2 = new MyRecord(r1.strings(), r1.required());\nassert r1.equals(r2);\n</code></pre>\n<p>because the internal fields contain different data.</p>\n<p>So the only correct way to fix input data is during the construction, e.g.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public record MyRecord(Set&lt;String&gt; strings, Boolean required) {\n    public MyRecord {\n        if(strings == null) strings = Set.of();\n        if(required == null) required = true;\n    }\n}\n</code></pre>\n<p>However, you shouldnâ€™t do this <code>null</code> handling at all. Collections should never be <code>null</code> and using <code>Boolean</code> for the constructor implies having a <code>Boolean</code> record component type in general, i.e. also returned by the accessor method. And writing <code>new MyRecord(null, null)</code> instead of <code>new MyRecord(Set.of(), true)</code> doesnâ€™t even save much typing.</p>\n<p>If you want to support default values, you should overload the constructor, e.g.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public record MyRecord(Set&lt;String&gt; strings, boolean required) {\n    public MyRecord {\n        strings = Set.copyOf(strings); // enforce non-null immutable set\n    }\n    public MyRecord() {\n        this(Set.of(), true);\n    }\n}\n</code></pre>\n<p>So you can use <code>new MyRecord()</code> for the defaults. Or you consider that records are immutable, so constructing multiple instances of defaults isnâ€™t necessary</p>\n<pre class=\"lang-java prettyprint-override\"><code>public record MyRecord(Set&lt;String&gt; strings, boolean required) {\n    public static final MyRecord DEFAULT = new MyRecord(Set.of(), true);\n    public MyRecord {\n        strings = Set.copyOf(strings); // enforce non-null immutable set\n    }\n}\n</code></pre>\n<p>and use <code>MyRecord.DEFAULT</code> whenever you need the default values. Of course, you still can provide overloaded constructors for the cases that only one parameter should have default values, if that is needed.</p>\n"}],"owner":{"account_id":6138978,"reputation":2143,"user_id":4786956,"accept_rate":55,"display_name":"Antonio Dragos"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16214,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"accepted_answer_id":74069263,"answer_count":1,"score":13,"last_activity_date":1700478833,"creation_date":1662628956,"question_id":73646644,"body_markdown":"If I have a Java record with 2 properties and I want to define default values for the properties which should be used instead of null. I can either override the getters\r\n\r\n    public record MyRecord(\r\n    \r\n        Set&lt;String&gt; strings,\r\n    \r\n        Boolean required) {\r\n    \r\n        @Override\r\n        public Boolean required() {\r\n            return Objects.requireNonNullElse(this.required, Boolean.TRUE);\r\n        }\r\n    \r\n        @Override\r\n        public Set&lt;String&gt; strings() {\r\n            return Objects.requireNonNullElse(this.strings, Set.of());\r\n        }\r\n    }\r\n\r\nOr I can achieve much the same thing by overriding the default constructor\r\n\r\n    public record MyRecord(\r\n    \r\n        Set&lt;String&gt; strings,\r\n    \r\n        Boolean required) {\r\n    \r\n        public MyRecord(Set&lt;String&gt; strings, Boolean required) {\r\n            this.strings = Objects.requireNonNullElse(strings, Set.of());\r\n            this.required = Objects.requireNonNullElse(required, Boolean.TRUE);\r\n        }\r\n    }\r\n\r\nBoth of these seem a bit verbose, is there a more concise way to assign default values to record properties?","title":"Default values for record properties","body":"<p>If I have a Java record with 2 properties and I want to define default values for the properties which should be used instead of null. I can either override the getters</p>\n<pre><code>public record MyRecord(\n\n    Set&lt;String&gt; strings,\n\n    Boolean required) {\n\n    @Override\n    public Boolean required() {\n        return Objects.requireNonNullElse(this.required, Boolean.TRUE);\n    }\n\n    @Override\n    public Set&lt;String&gt; strings() {\n        return Objects.requireNonNullElse(this.strings, Set.of());\n    }\n}\n</code></pre>\n<p>Or I can achieve much the same thing by overriding the default constructor</p>\n<pre><code>public record MyRecord(\n\n    Set&lt;String&gt; strings,\n\n    Boolean required) {\n\n    public MyRecord(Set&lt;String&gt; strings, Boolean required) {\n        this.strings = Objects.requireNonNullElse(strings, Set.of());\n        this.required = Objects.requireNonNullElse(required, Boolean.TRUE);\n    }\n}\n</code></pre>\n<p>Both of these seem a bit verbose, is there a more concise way to assign default values to record properties?</p>\n"},{"tags":["java","eclipse","servlets","dao"],"comments":[{"owner":{"account_id":15064163,"reputation":13516,"user_id":10871900,"display_name":"dan1st is crying"},"score":1,"creation_date":1700167135,"post_id":77497652,"comment_id":136624660,"body_markdown":"Can you please share a [mcve] containing the minimal necessary code to reproduce the issue?","body":"Can you please share a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> containing the minimal necessary code to reproduce the issue?"},{"owner":{"account_id":13796,"reputation":19353,"user_id":27905,"display_name":"nitind"},"score":0,"creation_date":1700168896,"post_id":77497652,"comment_id":136624917,"body_markdown":"The environments in which that code is running are different. How have you set them up so that this should work in both?","body":"The environments in which that code is running are different. How have you set them up so that this should work in both?"},{"owner":{"account_id":52822,"reputation":1089035,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"score":0,"creation_date":1700215151,"post_id":77497652,"comment_id":136629533,"body_markdown":"Please **never** do `e.printStackTrace()` and letting the code continue running as if nothing exceptional happened. (Re)throw them all so that web page loading is immediately aborted with a clear error page.","body":"Please <b>never</b> do <code>e.printStackTrace()</code> and letting the code continue running as if nothing exceptional happened. (Re)throw them all so that web page loading is immediately aborted with a clear error page."}],"answers":[{"comments":[{"owner":{"account_id":52822,"reputation":1089035,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"score":0,"creation_date":1700215227,"post_id":77498654,"comment_id":136629552,"body_markdown":"Nope. It&#39;s **not** a Tomcat related issue. See abovelinked duplicate.","body":"Nope. It&#39;s <b>not</b> a Tomcat related issue. See abovelinked duplicate."}],"tags":[],"owner":{"account_id":27930165,"reputation":1,"user_id":21328390,"display_name":"Drogo"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700478768,"creation_date":1700178918,"answer_id":77498654,"question_id":77497652,"body_markdown":"It was a driver issue. Basically my oracle.jdbc driver was &quot;installed&quot; in the wrong folder structure. I had created a folder, transferred the driver file into this folder and added it to the build path.\r\n\r\nPS: I&#39;m working on a dynamic web project.\r\nThe correct thing to do is to transfer the driver files to the folder: &#39;WebContent/WEB-INF/lib&#39; according to the file structure that I&#39;m using.\r\n\r\nMy professor said it&#39;s an issue with the Tomcat that only sees the driver in this way.\r\n\r\nThanks.","title":"Empty Object in doGet Java Servlet","body":"<p>It was a driver issue. Basically my oracle.jdbc driver was &quot;installed&quot; in the wrong folder structure. I had created a folder, transferred the driver file into this folder and added it to the build path.</p>\n<p>PS: I'm working on a dynamic web project.\nThe correct thing to do is to transfer the driver files to the folder: 'WebContent/WEB-INF/lib' according to the file structure that I'm using.</p>\n<p>My professor said it's an issue with the Tomcat that only sees the driver in this way.</p>\n<p>Thanks.</p>\n"}],"owner":{"account_id":27930165,"reputation":1,"user_id":21328390,"display_name":"Drogo"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1700215094,"answer_count":1,"score":0,"last_activity_date":1700478768,"creation_date":1700164041,"question_id":77497652,"body_markdown":"I&#39;m using a method to that get some informations from a database and return an Object with that data. \r\nWhen I use this method on a Servlet doGet the Object comes empty. When I do the same thing on a main it comes properly filled with the data. Does anyone knows what am I doing wrong, please?\r\n\r\nPrints:\r\n\r\n[in doGet](https://i.stack.imgur.com/rAvBl.png)\r\n[in main](https://i.stack.imgur.com/h43Ba.png)\r\n\r\nIn doGet:\r\n\r\n    protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException{\r\n\t\t\t// TODO Auto-generated method stub\r\n\t\t\t\t\t\r\n\t\t\t\r\n\t\t\tConta conta = ContaDAO.GetConta(2);\r\n\t\t\t\r\n\t\t\tdouble entrada = conta.getEntrada();\r\n\t\t\trequest.setAttribute(&quot;entrada&quot;, entrada);\r\n\t\t\trequest.getRequestDispatcher(&quot;dashboard.jsp&quot;).forward(request, response);\r\n\t\t\r\n\t}\r\n\r\nIn main:\r\n\r\n    public static void main(String[] Args) {\r\n\t\tConta conta = new Conta();\r\n\t\t\r\n\t\t\r\n\t\tconta = ContaDAO.GetConta(2);\r\n\t\tdouble entrada = conta.getEntrada();\r\n\t\tSystem.out.println(conta.getEntrada());\r\n\t\tSystem.out.println(entrada);\r\n\t\r\n\r\n\r\nThis is the Conta constructor model I&#39;m using:\r\n\r\n    public class Conta{\r\n\t\r\n\t//Atributos\r\n\tprotected int id;\r\n\tprotected String nomeDaConta;\r\n\tprotected double saldo;\r\n\tprotected double gasto;\r\n\tprotected double entrada;\r\n\t/*protected ArrayList&lt;String&gt; categoriaDeGasto = new ArrayList&lt;String&gt;();\r\n\tprotected ArrayList&lt;String&gt; categoriaDeEntrada = new ArrayList&lt;String&gt;();*/\r\n\t\r\n\tpublic Conta() {\r\n\t\tsuper();\r\n\t}\r\n\r\nThis is the ContaDao method that I&#39;m using:\r\n\r\n    public class ContaDAO {\r\n\t\r\n\tpublic ContaDAO() {\r\n\t\tsuper();\r\n\t}\r\n\t\r\n\t public static Conta GetConta(int id){\r\n\r\n\t\t//Connection conexao = null;\r\n\t\tPreparedStatement ps = null;\r\n\t\tResultSet rs = null;\r\n\t\tConta conta = new Conta();\r\n\t\tConnection conexao;\r\n\t\ttry {\r\n\t\t\tClass.forName(&quot;oracle.jdbc.driver.OracleDriver&quot;);\r\n\t\t\t \r\n            // Com o driver do Oracle j&#225; inserido pegando a variavel conexao e passando as credenciais do Oracle\r\n            conexao = DriverManager.getConnection(\r\n            \t\t&quot;jdbc:oracle:thin:@oracle.fiap.com.br:1521:ORCL&quot;, &quot;RM552501&quot;, &quot;270697&quot;);\r\n\t\t\t\r\n\t\t\tString sqlGetConta = &quot;SELECT DISTINCT CD_CONTA, NR_TOTAL_ENTRADA, NR_TOTAL_SAIDA FROM T_FINEASY_CONTA WHERE CD_CONTA = ? ORDER BY CD_CONTA&quot;;\r\n\t\t\t\r\n\t\t\tps = conexao.prepareStatement(sqlGetConta);\r\n\t\t\tps.setInt(1, id);\r\n\t\t\trs = ps.executeQuery();\r\n\t\t\t\r\n\t\t\twhile(rs.next()) {\r\n\t\t\t\tconta.setId(rs.getInt(&quot;CD_CONTA&quot;));\r\n\t\t\t\t//System.out.println(conta.getId());\r\n\t\t\t\tconta.setEntrada(rs.getInt(&quot;NR_TOTAL_ENTRADA&quot;));\r\n\t\t\t\t//System.out.println(conta.getEntrada());\r\n\t\t\t\tconta.setGasto(rs.getInt(&quot;NR_TOTAL_SAIDA&quot;));\r\n\t\t\t\t//System.out.println(conta.getGasto());\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\t\r\n\t\tDBConnection.closeconexao(conexao);\t\r\n\t\tDBConnection.closeconexaoPS(ps);\r\n\t\tDBConnection.closeconexaoRS(rs);\r\n\t\t}catch(ClassNotFoundException e){\r\n\t\t\te.printStackTrace();\r\n\t\t}catch(SQLException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\t\r\n\t\t\r\n\t\treturn conta;\r\n\t}","title":"Empty Object in doGet Java Servlet","body":"<p>I'm using a method to that get some informations from a database and return an Object with that data.\nWhen I use this method on a Servlet doGet the Object comes empty. When I do the same thing on a main it comes properly filled with the data. Does anyone knows what am I doing wrong, please?</p>\n<p>Prints:</p>\n<p><a href=\"https://i.stack.imgur.com/rAvBl.png\" rel=\"nofollow noreferrer\">in doGet</a>\n<a href=\"https://i.stack.imgur.com/h43Ba.png\" rel=\"nofollow noreferrer\">in main</a></p>\n<p>In doGet:</p>\n<pre><code>protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException{\n        // TODO Auto-generated method stub\n                \n        \n        Conta conta = ContaDAO.GetConta(2);\n        \n        double entrada = conta.getEntrada();\n        request.setAttribute(&quot;entrada&quot;, entrada);\n        request.getRequestDispatcher(&quot;dashboard.jsp&quot;).forward(request, response);\n    \n}\n</code></pre>\n<p>In main:</p>\n<pre><code>public static void main(String[] Args) {\n    Conta conta = new Conta();\n    \n    \n    conta = ContaDAO.GetConta(2);\n    double entrada = conta.getEntrada();\n    System.out.println(conta.getEntrada());\n    System.out.println(entrada);\n</code></pre>\n<p>This is the Conta constructor model I'm using:</p>\n<pre><code>public class Conta{\n\n//Atributos\nprotected int id;\nprotected String nomeDaConta;\nprotected double saldo;\nprotected double gasto;\nprotected double entrada;\n/*protected ArrayList&lt;String&gt; categoriaDeGasto = new ArrayList&lt;String&gt;();\nprotected ArrayList&lt;String&gt; categoriaDeEntrada = new ArrayList&lt;String&gt;();*/\n\npublic Conta() {\n    super();\n}\n</code></pre>\n<p>This is the ContaDao method that I'm using:</p>\n<pre><code>public class ContaDAO {\n\npublic ContaDAO() {\n    super();\n}\n\n public static Conta GetConta(int id){\n\n    //Connection conexao = null;\n    PreparedStatement ps = null;\n    ResultSet rs = null;\n    Conta conta = new Conta();\n    Connection conexao;\n    try {\n        Class.forName(&quot;oracle.jdbc.driver.OracleDriver&quot;);\n         \n        // Com o driver do Oracle jÃ¡ inserido pegando a variavel conexao e passando as credenciais do Oracle\n        conexao = DriverManager.getConnection(\n                &quot;jdbc:oracle:thin:@oracle.fiap.com.br:1521:ORCL&quot;, &quot;RM552501&quot;, &quot;270697&quot;);\n        \n        String sqlGetConta = &quot;SELECT DISTINCT CD_CONTA, NR_TOTAL_ENTRADA, NR_TOTAL_SAIDA FROM T_FINEASY_CONTA WHERE CD_CONTA = ? ORDER BY CD_CONTA&quot;;\n        \n        ps = conexao.prepareStatement(sqlGetConta);\n        ps.setInt(1, id);\n        rs = ps.executeQuery();\n        \n        while(rs.next()) {\n            conta.setId(rs.getInt(&quot;CD_CONTA&quot;));\n            //System.out.println(conta.getId());\n            conta.setEntrada(rs.getInt(&quot;NR_TOTAL_ENTRADA&quot;));\n            //System.out.println(conta.getEntrada());\n            conta.setGasto(rs.getInt(&quot;NR_TOTAL_SAIDA&quot;));\n            //System.out.println(conta.getGasto());\n            \n        }\n        \n    DBConnection.closeconexao(conexao); \n    DBConnection.closeconexaoPS(ps);\n    DBConnection.closeconexaoRS(rs);\n    }catch(ClassNotFoundException e){\n        e.printStackTrace();\n    }catch(SQLException e) {\n        e.printStackTrace();\n    }\n    \n    \n    return conta;\n}\n</code></pre>\n"},{"tags":["java","hibernate","spring-data-jpa"],"answers":[{"comments":[{"owner":{"account_id":8334086,"reputation":21,"user_id":6261616,"display_name":"Qiongke Wu"},"score":0,"creation_date":1489511080,"post_id":42790698,"comment_id":72698953,"body_markdown":"I have try using Annotation @MapId And @JoinColumn(name = &quot;activity_Id&quot;, referencedColumnName = &quot;id&quot;),but It didn&#39;t work out.\nI have saved activityContent into activity to make activity owning the activityContent.\nJust like this,activity.setActivityContent(activityContent);\nright?","body":"I have try using Annotation @MapId And @JoinColumn(name = &quot;activity_Id&quot;, referencedColumnName = &quot;id&quot;),but It didn&#39;t work out. I have saved activityContent into activity to make activity owning the activityContent. Just like this,activity.setActivityContent(activityContent); right?"},{"owner":{"account_id":8334086,"reputation":21,"user_id":6261616,"display_name":"Qiongke Wu"},"score":0,"creation_date":1489511357,"post_id":42790698,"comment_id":72699135,"body_markdown":"It still reported that exception org.springframework.orm.jpa.JpaSystemException: null id generated for:class com.gauldin.activity.orm.ActivityContent;","body":"It still reported that exception org.springframework.orm.jpa.JpaSystemException: null id generated for:class com.gauldin.activity.orm.ActivityContent;"},{"owner":{"account_id":2535057,"reputation":25855,"user_id":2202415,"display_name":"Maciej Kowalski"},"score":0,"creation_date":1489511471,"post_id":42790698,"comment_id":72699213,"body_markdown":"ok i forgot to add cascade = CascadeType.ALL.. check the updated post","body":"ok i forgot to add cascade = CascadeType.ALL.. check the updated post"},{"owner":{"account_id":8334086,"reputation":21,"user_id":6261616,"display_name":"Qiongke Wu"},"score":0,"creation_date":1489511716,"post_id":42790698,"comment_id":72699358,"body_markdown":"Adding it on OneToOne like this?\n\n@OneToOne(fetch = FetchType.EAGER, cascade = CascadeType.ALL)\n@MapsId\n@JoinColumn(name = &quot;activity_Id&quot;, referencedColumnName = &quot;id&quot;)\nprivate Activity activity;\n\nStill don&#39;t work...T.T","body":"Adding it on OneToOne like this?  @OneToOne(fetch = FetchType.EAGER, cascade = CascadeType.ALL) @MapsId @JoinColumn(name = &quot;activity_Id&quot;, referencedColumnName = &quot;id&quot;) private Activity activity;  Still don&#39;t work...T.T"},{"owner":{"account_id":2535057,"reputation":25855,"user_id":2202415,"display_name":"Maciej Kowalski"},"score":0,"creation_date":1489511830,"post_id":42790698,"comment_id":72699436,"body_markdown":"Are u saving like this? activityContent.setActivity(activity);\nactivityContentDao.save(activityContent);","body":"Are u saving like this? activityContent.setActivity(activity); activityContentDao.save(activityContent);"},{"owner":{"account_id":8334086,"reputation":21,"user_id":6261616,"display_name":"Qiongke Wu"},"score":0,"creation_date":1489512423,"post_id":42790698,"comment_id":72699841,"body_markdown":"yes,saving like  this:\nactivityContent.setActivity(activity);\nactivityContentDao.save(activityContent);\nand here is my activityContent looks like in idea\nactivityContent = {ActivityContent@9460} \n activityId = null\n content = &quot;123&quot;\n activity = {Activity@9467}","body":"yes,saving like  this: activityContent.setActivity(activity); activityContentDao.save(activityContent); and here is my activityContent looks like in idea activityContent = {ActivityContent@9460}   activityId = null  content = &quot;123&quot;  activity = {Activity@9467}"},{"owner":{"account_id":8334086,"reputation":21,"user_id":6261616,"display_name":"Qiongke Wu"},"score":0,"creation_date":1489512639,"post_id":42790698,"comment_id":72699996,"body_markdown":"public interface ActivityContentDao extends PagingAndSortingRepository&lt;ActivityContent, Long&gt;,\n        JpaSpecificationExecutor&lt;ActivityContent&gt; {\n}","body":"public interface ActivityContentDao extends PagingAndSortingRepository&lt;ActivityContent, Long&gt;,         JpaSpecificationExecutor&lt;ActivityContent&gt; { }"},{"owner":{"account_id":2535057,"reputation":25855,"user_id":2202415,"display_name":"Maciej Kowalski"},"score":0,"creation_date":1489512716,"post_id":42790698,"comment_id":72700041,"body_markdown":"try to change that generator is updated in the answer","body":"try to change that generator is updated in the answer"},{"owner":{"account_id":8334086,"reputation":21,"user_id":6261616,"display_name":"Qiongke Wu"},"score":0,"creation_date":1489513669,"post_id":42790698,"comment_id":72700689,"body_markdown":"afraid of different coding from your answer, I just copied ur answer to replace my codes.but ,still get the same exception;cryed.","body":"afraid of different coding from your answer, I just copied ur answer to replace my codes.but ,still get the same exception;cryed."}],"tags":[],"owner":{"account_id":2535057,"reputation":25855,"user_id":2202415,"display_name":"Maciej Kowalski"},"comment_count":9,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1489512128,"creation_date":1489506843,"answer_id":42790698,"question_id":42789857,"body_markdown":"In your ActivityContent try using:\r\n\r\n    @OneToOne(fetch = FetchType.EAGER, cascade = CascadeType.ALL)\r\n    @MapsId\r\n    @JoinColumn(name = &quot;activity_Id&quot;, referencedColumnName = &quot;id&quot;)\r\n    private Activity activity;\r\n\r\nAnd when you assemble you should be saving thte ActivityContent as being the owner of OneToOne:\r\n\r\n    activityContent.setActivity(activity);\r\n    activityContentDao.save(activityContent);\r\n\r\nIf you want to be saving the Activity then you have to make it the owning side.\r\n\r\n**Edit**\r\n\r\nAlso try to set the generator as:\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    @Column(name = &quot;activity_id&quot;, unique = true, nullable = false)\r\n    private Long activityId;","title":"org.springframework.orm.jpa.JpaSystemException: null id generated for:class oneToOne","body":"<p>In your ActivityContent try using:</p>\n\n<pre><code>@OneToOne(fetch = FetchType.EAGER, cascade = CascadeType.ALL)\n@MapsId\n@JoinColumn(name = \"activity_Id\", referencedColumnName = \"id\")\nprivate Activity activity;\n</code></pre>\n\n<p>And when you assemble you should be saving thte ActivityContent as being the owner of OneToOne:</p>\n\n<pre><code>activityContent.setActivity(activity);\nactivityContentDao.save(activityContent);\n</code></pre>\n\n<p>If you want to be saving the Activity then you have to make it the owning side.</p>\n\n<p><strong>Edit</strong></p>\n\n<p>Also try to set the generator as:</p>\n\n<pre><code>@Id\n@GeneratedValue(strategy = GenerationType.AUTO)\n@Column(name = \"activity_id\", unique = true, nullable = false)\nprivate Long activityId;\n</code></pre>\n"}],"owner":{"account_id":8334086,"reputation":21,"user_id":6261616,"display_name":"Qiongke Wu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":8605,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1700478440,"creation_date":1489504648,"question_id":42789857,"body_markdown":"As the title,I got the following exception when I try to save Datas using Spring Data jpa.Please help me out to solve this problem because I still couldn&#39;t solve though searching familiar problems.\r\n\r\nClass Activity:\r\n\r\n    @Entity\r\n    @Table(name = &quot;activity&quot;)\r\n    @Access(AccessType.FIELD)\r\n    public class Activity implements Serializable {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n    private String activityName;\r\n    private String startTime;\r\n    private String endTime;\r\n\r\n    @OneToOne(fetch = FetchType.LAZY, mappedBy = &quot;activity&quot;, cascade = CascadeType.ALL, optional = false)\r\n    private ActivityContent activityContent;\r\n\r\n\r\n    private Integer isDelete;\r\n\r\n    @PrePersist\r\n    public void prePersist() {\r\n        isDelete = 0;\r\n    }\r\n    //setters and getters\r\n    }\r\n\r\n\r\n\r\nClass ActivityContent:\r\n\r\n    @Entity\r\n    @Table(name = &quot;activity_content&quot;)\r\n    @Access(AccessType.FIELD)\r\n    public class ActivityContent implements Serializable {\r\n    \r\n        @GenericGenerator(name = &quot;generator&quot;, strategy = &quot;foreign&quot;, parameters = @Parameter(name = &quot;property&quot;, value = &quot;activity&quot;))\r\n        @Id\r\n        @GeneratedValue(generator = &quot;generator&quot;)\r\n        @Column(name = &quot;activity_id&quot;, unique = true, nullable = false)\r\n        private Long activityId;\r\n    \r\n        @Column(columnDefinition = &quot;TEXT&quot;)\r\n        private String content;\r\n    \r\n        @OneToOne(fetch = FetchType.LAZY)\r\n        @PrimaryKeyJoinColumn\r\n        private Activity activity;\r\n    //setters and getters\r\n    }\r\n\r\nDao Interface:\r\n\r\n    public interface ActivityDao extends PagingAndSortingRepository&lt;Activity,Long&gt;,JpaSpecificationExecutor&lt;Activity&gt;{\r\n    }\r\n\r\n\r\nbefore invokes activityDao.save(activity),I have setted the below properties into activity and activityContent as the other blogs said ,but it&#39;s useless.\r\n\r\n    activityContent.setActivity(activity);\r\n    activity.setActivityContent(activityContent);\r\n    activityDao.save(activity);\r\n\r\n\r\nIt would be much appreciated if anyone help me out.\r\n\r\n\r\nException Details:\r\n\r\n\r\n    org.springframework.orm.jpa.JpaSystemException: null id generated for:class com.gauldin.activity.orm.ActivityContent; nested exception is org.hibernate.id.IdentifierGenerationException: null id generated for:class com.gauldin.activity.orm.ActivityContent\r\n\tat org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:333)\r\n\tat org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:244)\r\n\tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:488)\r\n\tat org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:59)\r\n\tat org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:213)\r\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:147)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\r\n\tat org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:133)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\r\n\tat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\r\n\tat org.springframework.data.repository.core.support.SurroundingTransactionDetectorMethodInterceptor.invoke(SurroundingTransactionDetectorMethodInterceptor.java:57)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\r\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:213)\r\n\tat com.sun.proxy.$Proxy123.save(Unknown Source)\r\n","title":"org.springframework.orm.jpa.JpaSystemException: null id generated for:class oneToOne","body":"<p>As the title,I got the following exception when I try to save Datas using Spring Data jpa.Please help me out to solve this problem because I still couldn't solve though searching familiar problems.</p>\n\n<p>Class Activity:</p>\n\n<pre><code>@Entity\n@Table(name = \"activity\")\n@Access(AccessType.FIELD)\npublic class Activity implements Serializable {\n\n@Id\n@GeneratedValue(strategy = GenerationType.IDENTITY)\nprivate Long id;\nprivate String activityName;\nprivate String startTime;\nprivate String endTime;\n\n@OneToOne(fetch = FetchType.LAZY, mappedBy = \"activity\", cascade = CascadeType.ALL, optional = false)\nprivate ActivityContent activityContent;\n\n\nprivate Integer isDelete;\n\n@PrePersist\npublic void prePersist() {\n    isDelete = 0;\n}\n//setters and getters\n}\n</code></pre>\n\n<p>Class ActivityContent:</p>\n\n<pre><code>@Entity\n@Table(name = \"activity_content\")\n@Access(AccessType.FIELD)\npublic class ActivityContent implements Serializable {\n\n    @GenericGenerator(name = \"generator\", strategy = \"foreign\", parameters = @Parameter(name = \"property\", value = \"activity\"))\n    @Id\n    @GeneratedValue(generator = \"generator\")\n    @Column(name = \"activity_id\", unique = true, nullable = false)\n    private Long activityId;\n\n    @Column(columnDefinition = \"TEXT\")\n    private String content;\n\n    @OneToOne(fetch = FetchType.LAZY)\n    @PrimaryKeyJoinColumn\n    private Activity activity;\n//setters and getters\n}\n</code></pre>\n\n<p>Dao Interface:</p>\n\n<pre><code>public interface ActivityDao extends PagingAndSortingRepository&lt;Activity,Long&gt;,JpaSpecificationExecutor&lt;Activity&gt;{\n}\n</code></pre>\n\n<p>before invokes activityDao.save(activity),I have setted the below properties into activity and activityContent as the other blogs said ,but it's useless.</p>\n\n<pre><code>activityContent.setActivity(activity);\nactivity.setActivityContent(activityContent);\nactivityDao.save(activity);\n</code></pre>\n\n<p>It would be much appreciated if anyone help me out.</p>\n\n<p>Exception Details:</p>\n\n<pre><code>org.springframework.orm.jpa.JpaSystemException: null id generated for:class com.gauldin.activity.orm.ActivityContent; nested exception is org.hibernate.id.IdentifierGenerationException: null id generated for:class com.gauldin.activity.orm.ActivityContent\nat org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:333)\nat org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:244)\nat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:488)\nat org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:59)\nat org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:213)\nat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:147)\nat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\nat org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:133)\nat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\nat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92)\nat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\nat org.springframework.data.repository.core.support.SurroundingTransactionDetectorMethodInterceptor.invoke(SurroundingTransactionDetectorMethodInterceptor.java:57)\nat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\nat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:213)\nat com.sun.proxy.$Proxy123.save(Unknown Source)\n</code></pre>\n"},{"tags":["java","file","collections","memory-leaks","filewriter"],"comments":[{"owner":{"account_id":1053816,"reputation":3673,"user_id":1056987,"accept_rate":80,"display_name":"MMK"},"score":0,"creation_date":1339882363,"post_id":11067162,"comment_id":14483831,"body_markdown":"any effort of reasearch  or paste some bits of code you developed will be help ful toward providing you the solution or advice.","body":"any effort of reasearch  or paste some bits of code you developed will be help ful toward providing you the solution or advice."},{"owner":{"account_id":1447288,"reputation":3160,"user_id":1365324,"accept_rate":91,"display_name":"EyalAr"},"score":0,"creation_date":1339882476,"post_id":11067162,"comment_id":14483860,"body_markdown":"you might want to take a look at the &#39;StringBuilder&#39; class for better performance with strings handling.","body":"you might want to take a look at the &#39;StringBuilder&#39; class for better performance with strings handling."},{"owner":{"account_id":280134,"reputation":9173,"user_id":575659,"accept_rate":93,"display_name":"dantuch"},"score":0,"creation_date":1339882853,"post_id":11067162,"comment_id":14483929,"body_markdown":"@E.Ar, performance can be different only if String is appended inside loop. Explicitly declaring StringBuilder before loop is a must to have good results, omitting this will result in creating StringBuilders objects on every iteration. But without loops concating strings is translated to StringBuilders by default (in byte code), from java 1.5, so there&#39;s not need to replace `+` with `StringBuilders.append(string)` in simple cases.","body":"@E.Ar, performance can be different only if String is appended inside loop. Explicitly declaring StringBuilder before loop is a must to have good results, omitting this will result in creating StringBuilders objects on every iteration. But without loops concating strings is translated to StringBuilders by default (in byte code), from java 1.5, so there&#39;s not need to replace <code>+</code> with <code>StringBuilders.append(string)</code> in simple cases."}],"answers":[{"comments":[{"owner":{"account_id":280134,"reputation":9173,"user_id":575659,"accept_rate":93,"display_name":"dantuch"},"score":0,"creation_date":1339883003,"post_id":11067227,"comment_id":14483965,"body_markdown":"in your example using loop makes no sense :)","body":"in your example using loop makes no sense :)"},{"owner":{"account_id":1053816,"reputation":3673,"user_id":1056987,"accept_rate":80,"display_name":"MMK"},"score":1,"creation_date":1339883227,"post_id":11067227,"comment_id":14484009,"body_markdown":"if there is a mistake then you can correct it with a feedback and suggestion not just a smile we are not competing with each other we are just helping each other.","body":"if there is a mistake then you can correct it with a feedback and suggestion not just a smile we are not competing with each other we are just helping each other."},{"owner":{"account_id":1082858,"reputation":104688,"user_id":1079354,"accept_rate":93,"display_name":"Makoto"},"score":0,"creation_date":1339883248,"post_id":11067227,"comment_id":14484013,"body_markdown":"@dantuch: What&#39;s wrong with the [enhanced-for](http://docs.oracle.com/javase/tutorial/java/nutsandbolts/for.html)?","body":"@dantuch: What&#39;s wrong with the <a href=\"http://docs.oracle.com/javase/tutorial/java/nutsandbolts/for.html\" rel=\"nofollow noreferrer\">enhanced-for</a>?"},{"owner":{"account_id":280134,"reputation":9173,"user_id":575659,"accept_rate":93,"display_name":"dantuch"},"score":3,"creation_date":1339883687,"post_id":11067227,"comment_id":14484100,"body_markdown":"@Makoto not with for, wrong is parameter passed to write method. It should be single string, not whole list again and again. I hoped that @MMK would spot that after my comment. And going farer - it&#39;s good practice to not declare list as `ArrayList` but ruther as `List`","body":"@Makoto not with for, wrong is parameter passed to write method. It should be single string, not whole list again and again. I hoped that @MMK would spot that after my comment. And going farer - it&#39;s good practice to not declare list as <code>ArrayList</code> but ruther as <code>List</code>"}],"tags":[],"owner":{"account_id":1053816,"reputation":3673,"user_id":1056987,"accept_rate":80,"display_name":"MMK"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1339884569,"creation_date":1339882793,"answer_id":11067227,"question_id":11067162,"body_markdown":"   \r\n Try this\r\n\r\n    ArrayList&lt;String&gt; StringarrayList = new ArrayList&lt;String&gt;(); \r\n        FileWriter writer = new FileWriter(&quot;output.txt&quot;, true); \r\n        for(String str: StringarrayList ) {\r\n          writer.write(str + &quot;\\n&quot;);\r\n        }\r\n        writer.close();\r\n\r\n","title":"How to write or append string in loop in a file in java?","body":"<p>Try this</p>\n\n<pre><code>ArrayList&lt;String&gt; StringarrayList = new ArrayList&lt;String&gt;(); \n    FileWriter writer = new FileWriter(\"output.txt\", true); \n    for(String str: StringarrayList ) {\n      writer.write(str + \"\\n\");\n    }\n    writer.close();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1209858,"reputation":628,"user_id":1178637,"accept_rate":83,"display_name":"DZittersteyn"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1339883111,"creation_date":1339883111,"answer_id":11067264,"question_id":11067162,"body_markdown":"I&#39;m not sure what parts of the process you are unsure of, so I&#39;ll start at the beginning.\r\n\r\nThe `Serializable` interface lets you write an object to a file. Any object that implemsents `Serializable` can be passed to an `ObjectOutputStream` and written to a file.\r\n\r\n`ObjectOutputStream` accepts a `FileOutputStream` as argument, which can append to a file. \r\n\r\n    ObjectOutputstream outputStream = new ObjectOutputStream(new FileOutputStream(&quot;filename&quot;, true));\r\n    outputStream.writeObject(anObject);\r\n\r\nThere is some exception handling to take care of, but these are the basics. Note that `anObject` should implement `Serializable`.\r\n\r\nReading the file is very similar, except it uses the Input version of the classes I mentioned.","title":"How to write or append string in loop in a file in java?","body":"<p>I'm not sure what parts of the process you are unsure of, so I'll start at the beginning.</p>\n\n<p>The <code>Serializable</code> interface lets you write an object to a file. Any object that implemsents <code>Serializable</code> can be passed to an <code>ObjectOutputStream</code> and written to a file.</p>\n\n<p><code>ObjectOutputStream</code> accepts a <code>FileOutputStream</code> as argument, which can append to a file. </p>\n\n<pre><code>ObjectOutputstream outputStream = new ObjectOutputStream(new FileOutputStream(\"filename\", true));\noutputStream.writeObject(anObject);\n</code></pre>\n\n<p>There is some exception handling to take care of, but these are the basics. Note that <code>anObject</code> should implement <code>Serializable</code>.</p>\n\n<p>Reading the file is very similar, except it uses the Input version of the classes I mentioned.</p>\n"},{"tags":[],"owner":{"account_id":1392054,"reputation":11852,"user_id":1322642,"display_name":"moskito-x"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1339888969,"creation_date":1339888657,"answer_id":11067782,"question_id":11067162,"body_markdown":"**// in main**\r\n\r\n    List&lt;String&gt; SarrayList = new ArrayList&lt;String&gt;(); \r\n    .....\r\n\r\n**fill it with content**\r\n\r\n`enter content to SarrayList here`.....\r\n\r\n**write to file**\r\n\r\n    appendToFile (SarrayList);\r\n \r\n   .....\r\n\r\n    public void appendToFile (List&lt;String&gt; SarrayList) {\r\n    \r\n          BufferedWriter bw = null;\r\n    \t  boolean myappend = true;\r\n          try {\r\n             bw = new BufferedWriter(new FileWriter(&quot;myContent.txt&quot;, myappend));\r\n             for(String line: SarrayList ) {\r\n    \t     bw.write(line);\r\n    \t     bw.newLine();\r\n    \t\t }\r\n    \t     bw.flush();\r\n          } catch (IOException ioe) {\r\n    \t    ioe.printStackTrace();\r\n          } finally { \r\n    \t    if (bw != null) try {\r\n    \t    bw.close();\r\n    \t    } catch (IOException ioe2) {\r\n    \t    // ignore it  or write notice\r\n    \t    }\r\n          }\r\n    \r\n       } \r\n\r\n","title":"How to write or append string in loop in a file in java?","body":"<p><strong>// in main</strong></p>\n\n<pre><code>List&lt;String&gt; SarrayList = new ArrayList&lt;String&gt;(); \n.....\n</code></pre>\n\n<p><strong>fill it with content</strong></p>\n\n<p><code>enter content to SarrayList here</code>.....</p>\n\n<p><strong>write to file</strong></p>\n\n<pre><code>appendToFile (SarrayList);\n</code></pre>\n\n<p>.....</p>\n\n<pre><code>public void appendToFile (List&lt;String&gt; SarrayList) {\n\n      BufferedWriter bw = null;\n      boolean myappend = true;\n      try {\n         bw = new BufferedWriter(new FileWriter(\"myContent.txt\", myappend));\n         for(String line: SarrayList ) {\n         bw.write(line);\n         bw.newLine();\n         }\n         bw.flush();\n      } catch (IOException ioe) {\n        ioe.printStackTrace();\n      } finally { \n        if (bw != null) try {\n        bw.close();\n        } catch (IOException ioe2) {\n        // ignore it  or write notice\n        }\n      }\n\n   } \n</code></pre>\n"}],"owner":{"account_id":1546895,"reputation":995,"user_id":1440250,"accept_rate":60,"display_name":"flyleaf"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":8550,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1700478440,"creation_date":1339882143,"question_id":11067162,"body_markdown":"I&#39;m having memory problem as working with very large dataset and getting memory leaks with char[] and Strings, don&#39;t know why! So I am thinking of writing some processed data in a file and not store in memory. So, I want to write texts from an arrayList in a file using a loop. First the program will check if the specific file already exist in the current working directory and if not then create a file with the specific name and start writing texts from the arrayList line by line using a loop; and if the file is already exist then open the file and append the 1st array value after the last line(in a new line) of the file and start writing other array values in a loop line by line. \r\n\r\nCan any body suggest me how can I do this in Java? I&#39;m not that good in Java so please provide some sample code if possible.\r\n\r\nThanks!","title":"How to write or append string in loop in a file in java?","body":"<p>I'm having memory problem as working with very large dataset and getting memory leaks with char[] and Strings, don't know why! So I am thinking of writing some processed data in a file and not store in memory. So, I want to write texts from an arrayList in a file using a loop. First the program will check if the specific file already exist in the current working directory and if not then create a file with the specific name and start writing texts from the arrayList line by line using a loop; and if the file is already exist then open the file and append the 1st array value after the last line(in a new line) of the file and start writing other array values in a loop line by line. </p>\n\n<p>Can any body suggest me how can I do this in Java? I'm not that good in Java so please provide some sample code if possible.</p>\n\n<p>Thanks!</p>\n"},{"tags":["java","chronicle-queue","openjdk-21"],"comments":[{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1696674742,"post_id":77248654,"comment_id":136185783,"body_markdown":"The error suggests that it doesn&#39;t in fact support Java 21, in which case you should report a bug to the project.","body":"The error suggests that it doesn&#39;t in fact support Java 21, in which case you should report a bug to the project."}],"answers":[{"tags":[],"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700478241,"creation_date":1700478241,"answer_id":77515354,"question_id":77248654,"body_markdown":"The 5.24.x version wasn&#39;t support for Java 21.\r\nHowever, 5.25eaX is supported for Java 21.\r\n\r\nThere are no command line argument changes between Java 17 and Java 21. \r\nIf it works in Java 17, those arguments will work in 21.  However, some very low-level details are different in the Java 21 JVM, which required some code changes.","title":"OpenJdk 21 cannot support Chronicle-Queue","body":"<p>The 5.24.x version wasn't support for Java 21.\nHowever, 5.25eaX is supported for Java 21.</p>\n<p>There are no command line argument changes between Java 17 and Java 21.\nIf it works in Java 17, those arguments will work in 21.  However, some very low-level details are different in the Java 21 JVM, which required some code changes.</p>\n"}],"owner":{"account_id":29617804,"reputation":11,"user_id":22699492,"display_name":"liang huageng"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":144,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1700478241,"creation_date":1696660469,"question_id":77248654,"body_markdown":"I tried to run Chronicle-Queue under openJdk21 following the method in the link address https://github.com/OpenHFT/OpenHFT/blob/ea/docs/Java-Version-Support.adoc, and the following error was thrown:\r\n\r\n```none\r\nException in thread &quot;main&quot; java.lang.ExceptionInInitializerError\r\n\tat net.openhft.chronicle.queue.impl.single.SingleChronicleQueueBuilder.&lt;clinit&gt;(SingleChronicleQueueBuilder.java:70)\r\n\tat net.openhft.chronicle.queue.ChronicleQueue.singleBuilder(ChronicleQueue.java:106)\r\n\tat com.example.virtualthreads.QueueTest.main(QueueTest.java:21)\r\nCaused by: java.lang.IllegalStateException: Not found: sun.nio.ch.UnixFileDispatcherImpl\r\n\tat net.openhft.chronicle.core.OS.findClass(OS.java:131)\r\n\tat net.openhft.chronicle.core.OS.&lt;clinit&gt;(OS.java:100)\r\n\t... 3 more\r\nCaused by: java.lang.ClassNotFoundException: sun.nio.ch.UnixFileDispatcherImpl\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\r\n\tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\r\n\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:526)\r\n\tat net.openhft.chronicle.core.OS.findClass(OS.java:128)\r\n\t... 4 more\r\n```\r\n\r\nI passed in the following parameters:\r\n\r\n```bash\r\n--add-exports=java.base/jdk.internal.ref=ALL-UNNAMED\r\n--add-exports=java.base/sun.nio.ch=ALL-UNNAMED\r\n--add-exports=jdk.unsupported/sun.misc=ALL-UNNAMED\r\n--add-exports=jdk.compiler/com.sun.tools.javac.file=ALL-UNNAMED\r\n--add-opens=jdk.compiler/com.sun.tools.javac=ALL-UNNAMED\r\n--add-opens=java.base/java.lang=ALL-UNNAMED\r\n--add-opens=java.base/java.lang.reflect=ALL-UNNAMED\r\n--add-opens=java.base/java.io=ALL-UNNAMED\r\n--add-opens=java.base/java.util=ALL-UNNAMED\r\n```\r\n\r\nI have written test code:\r\n```java\r\nString basePath = &quot;opt/queue&quot;;\r\ntry (ChronicleQueue queue = ChronicleQueue.singleBuilder(basePath).build()) {\r\n  ExcerptAppender appender = queue.acquireAppender();\r\n  appender.writeText(&quot;Hello World!&quot;);\r\n  ExcerptTailer tailer = queue.createTailer();\r\n  assertEquals(&quot;Hello World!&quot;, tailer.readText());\r\n}\r\n```","title":"OpenJdk 21 cannot support Chronicle-Queue","body":"<p>I tried to run Chronicle-Queue under openJdk21 following the method in the link address <a href=\"https://github.com/OpenHFT/OpenHFT/blob/ea/docs/Java-Version-Support.adoc\" rel=\"nofollow noreferrer\">https://github.com/OpenHFT/OpenHFT/blob/ea/docs/Java-Version-Support.adoc</a>, and the following error was thrown:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Exception in thread &quot;main&quot; java.lang.ExceptionInInitializerError\n    at net.openhft.chronicle.queue.impl.single.SingleChronicleQueueBuilder.&lt;clinit&gt;(SingleChronicleQueueBuilder.java:70)\n    at net.openhft.chronicle.queue.ChronicleQueue.singleBuilder(ChronicleQueue.java:106)\n    at com.example.virtualthreads.QueueTest.main(QueueTest.java:21)\nCaused by: java.lang.IllegalStateException: Not found: sun.nio.ch.UnixFileDispatcherImpl\n    at net.openhft.chronicle.core.OS.findClass(OS.java:131)\n    at net.openhft.chronicle.core.OS.&lt;clinit&gt;(OS.java:100)\n    ... 3 more\nCaused by: java.lang.ClassNotFoundException: sun.nio.ch.UnixFileDispatcherImpl\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:526)\n    at net.openhft.chronicle.core.OS.findClass(OS.java:128)\n    ... 4 more\n</code></pre>\n<p>I passed in the following parameters:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>--add-exports=java.base/jdk.internal.ref=ALL-UNNAMED\n--add-exports=java.base/sun.nio.ch=ALL-UNNAMED\n--add-exports=jdk.unsupported/sun.misc=ALL-UNNAMED\n--add-exports=jdk.compiler/com.sun.tools.javac.file=ALL-UNNAMED\n--add-opens=jdk.compiler/com.sun.tools.javac=ALL-UNNAMED\n--add-opens=java.base/java.lang=ALL-UNNAMED\n--add-opens=java.base/java.lang.reflect=ALL-UNNAMED\n--add-opens=java.base/java.io=ALL-UNNAMED\n--add-opens=java.base/java.util=ALL-UNNAMED\n</code></pre>\n<p>I have written test code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String basePath = &quot;opt/queue&quot;;\ntry (ChronicleQueue queue = ChronicleQueue.singleBuilder(basePath).build()) {\n  ExcerptAppender appender = queue.acquireAppender();\n  appender.writeText(&quot;Hello World!&quot;);\n  ExcerptTailer tailer = queue.createTailer();\n  assertEquals(&quot;Hello World!&quot;, tailer.readText());\n}\n</code></pre>\n"},{"tags":["java","logging","stack-trace","java.util.logging"],"comments":[{"owner":{"account_id":2599844,"reputation":8426,"user_id":2252572,"accept_rate":63,"display_name":"Bacteria"},"score":1,"creation_date":1436900585,"post_id":31415147,"comment_id":50803189,"body_markdown":"in short : NO, u can not.","body":"in short : NO, u can not."},{"owner":{"account_id":2806090,"reputation":80148,"user_id":2413303,"accept_rate":100,"display_name":"EpicPandaForce"},"score":2,"creation_date":1436900608,"post_id":31415147,"comment_id":50803200,"body_markdown":"Sure, use this: https://commons.apache.org/proper/commons-lang/javadocs/api-3.4/org/apache/commons/lang3/exception/ExceptionUtils.html#getStackTrace(java.lang.Throwable) from commons-lang3 3.4","body":"Sure, use this: <a href=\"https://commons.apache.org/proper/commons-lang/javadocs/api-3.4/org/apache/commons/lang3/exception/ExceptionUtils.html#getStackTrace(java.lang.Throwable)\" rel=\"nofollow noreferrer\">commons.apache.org/proper/commons-lang/javadocs/api-3.4/org/&zwnj;&#8203;&hellip;</a> from commons-lang3 3.4"},{"owner":{"account_id":3415784,"reputation":60457,"user_id":2864740,"accept_rate":78,"display_name":"user2864740"},"score":2,"creation_date":1436900961,"post_id":31415147,"comment_id":50803388,"body_markdown":"What sort of string value would &quot;nothing&quot; be turned into?","body":"What sort of string value would &quot;nothing&quot; be turned into?"}],"answers":[{"tags":[],"owner":{"account_id":1082858,"reputation":104688,"user_id":1079354,"accept_rate":93,"display_name":"Makoto"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1436900564,"creation_date":1436900564,"answer_id":31415171,"question_id":31415147,"body_markdown":"You can&#39;t convert `void` into `String`; no such conversion exists.  `void` doesn&#39;t return *anything* back, so you have no value to retrieve.\r\n\r\nWhat you probably want to do is get the message of the exception instead via [`ex.getMessage()`](https://docs.oracle.com/javase/8/docs/api/java/lang/Throwable.html#getMessage--).","title":"How do I log a stacktrace using java&#39;s Logger class","body":"<p>You can't convert <code>void</code> into <code>String</code>; no such conversion exists.  <code>void</code> doesn't return <em>anything</em> back, so you have no value to retrieve.</p>\n\n<p>What you probably want to do is get the message of the exception instead via <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Throwable.html#getMessage--\" rel=\"noreferrer\"><code>ex.getMessage()</code></a>.</p>\n"},{"comments":[{"owner":{"account_id":920347,"reputation":10311,"user_id":952135,"accept_rate":58,"display_name":"Oliv"},"score":1,"creation_date":1558077302,"post_id":31415204,"comment_id":98988364,"body_markdown":"He wants a stack trace, not just the message.","body":"He wants a stack trace, not just the message."}],"tags":[],"owner":{"account_id":451065,"reputation":751,"user_id":846742,"accept_rate":94,"display_name":"kotakotakota"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1436900701,"creation_date":1436900701,"answer_id":31415204,"question_id":31415147,"body_markdown":"As Makoto says, you probably want to do an ex.getMessage().\r\n\r\nTo further clarify, `void` means that there is nothing returned. You can&#39;t cast nothing into something :)","title":"How do I log a stacktrace using java&#39;s Logger class","body":"<p>As Makoto says, you probably want to do an ex.getMessage().</p>\n\n<p>To further clarify, <code>void</code> means that there is nothing returned. You can't cast nothing into something :)</p>\n"},{"comments":[{"owner":{"account_id":6436963,"reputation":681,"user_id":4988186,"display_name":"Surya Joseph"},"score":0,"creation_date":1436902072,"post_id":31415217,"comment_id":50803977,"body_markdown":"Thanks Saif Asif. I am able to log the whole stack trace now.","body":"Thanks Saif Asif. I am able to log the whole stack trace now."},{"owner":{"account_id":1474388,"reputation":5265,"user_id":1385174,"accept_rate":60,"display_name":"Adam"},"score":22,"creation_date":1507726589,"post_id":31415217,"comment_id":80325077,"body_markdown":"`logger.error()` is not `java.util.logging`, but I&#39;m not going to downvote you because I am glad to discover `logger.log(Level, Exception, Supplier)` . Looks like Oracle have made `java.util.logging.Logger` seriously ugly! Since they were doing that, it&#39;s strange that they didn&#39;t take it further and create `logger.severe(String, Exception)` etc","body":"<code>logger.error()</code> is not <code>java.util.logging</code>, but I&#39;m not going to downvote you because I am glad to discover <code>logger.log(Level, Exception, Supplier)</code> . Looks like Oracle have made <code>java.util.logging.Logger</code> seriously ugly! Since they were doing that, it&#39;s strange that they didn&#39;t take it further and create <code>logger.severe(String, Exception)</code> etc"},{"owner":{"account_id":2278572,"reputation":1743,"user_id":2004265,"display_name":"DAB"},"score":4,"creation_date":1535470585,"post_id":31415217,"comment_id":91073504,"body_markdown":"The question asks for a solution using Java&#39;s Logger class. java.util.logging.Logger does not have a method called &quot;error&quot;. I have downvoted this answer only because of that.","body":"The question asks for a solution using Java&#39;s Logger class. java.util.logging.Logger does not have a method called &quot;error&quot;. I have downvoted this answer only because of that."},{"owner":{"account_id":10010550,"reputation":346,"user_id":9465588,"display_name":"DGoiko"},"score":0,"creation_date":1552586755,"post_id":31415217,"comment_id":97077948,"body_markdown":"@Adam I agree that logger.error() looks ugly, but it is highly readable, and it is the way it is done in other simple languages like python, so it is not so terribly bad.","body":"@Adam I agree that logger.error() looks ugly, but it is highly readable, and it is the way it is done in other simple languages like python, so it is not so terribly bad."},{"owner":{"account_id":7401321,"reputation":942,"user_id":5631673,"accept_rate":75,"display_name":"A. Gille"},"score":4,"creation_date":1590150511,"post_id":31415217,"comment_id":109578270,"body_markdown":"This is not answering the initial intention to print the stack trace to a logger, at all. getMessage() is not made for this.","body":"This is not answering the initial intention to print the stack trace to a logger, at all. getMessage() is not made for this."},{"owner":{"account_id":189696,"reputation":408,"user_id":429179,"accept_rate":100,"display_name":"Kenny"},"score":2,"creation_date":1602670404,"post_id":31415217,"comment_id":113791989,"body_markdown":"So, the answer is:\nlogger.log(Level.SEVERE, ex.getMessage(), ex);","body":"So, the answer is: logger.log(Level.SEVERE, ex.getMessage(), ex);"},{"owner":{"account_id":13060408,"reputation":707,"user_id":9437799,"display_name":"Sam Ginrich"},"score":0,"creation_date":1701949296,"post_id":31415217,"comment_id":136839392,"body_markdown":"The output is an exception, but no a stack of such","body":"The output is an exception, but no a stack of such"}],"tags":[],"owner":{"account_id":2436173,"reputation":5566,"user_id":2126023,"accept_rate":85,"display_name":"Saif Asif"},"comment_count":7,"down_vote_count":5,"up_vote_count":75,"is_accepted":true,"score":70,"last_activity_date":1436901030,"creation_date":1436900728,"answer_id":31415217,"question_id":31415147,"body_markdown":"You need to understand that `void` is actually `nothingness`. You cannot convert what is nothing. You might end up printing `void` as a string, but (trust me), you don&#39;t want that.\r\n\r\nI think what you are looking for is \r\n\r\n    // assuming ex is your Exception object\r\n    logger.error(ex.getMessage(), ex);\r\n    // OR\r\n    Logger.log(errorLogLevel, ex.getMessage(), ex)\r\n\r\nThis will print the error message using the logger that you have configured. For more details, you can take a look at the java docs for [Exception#getMessage()][1]\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/lang/Throwable.html#getMessage()","title":"How do I log a stacktrace using java&#39;s Logger class","body":"<p>You need to understand that <code>void</code> is actually <code>nothingness</code>. You cannot convert what is nothing. You might end up printing <code>void</code> as a string, but (trust me), you don't want that.</p>\n\n<p>I think what you are looking for is </p>\n\n<pre><code>// assuming ex is your Exception object\nlogger.error(ex.getMessage(), ex);\n// OR\nLogger.log(errorLogLevel, ex.getMessage(), ex)\n</code></pre>\n\n<p>This will print the error message using the logger that you have configured. For more details, you can take a look at the java docs for <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/Throwable.html#getMessage()\" rel=\"noreferrer\">Exception#getMessage()</a></p>\n"},{"comments":[{"owner":{"account_id":333028,"reputation":5096,"user_id":658663,"accept_rate":80,"display_name":"beresfordt"},"score":2,"creation_date":1436901099,"post_id":31415252,"comment_id":50803463,"body_markdown":"Just use the apache commons ExceptionUtils library; no need to reinvent the wheel","body":"Just use the apache commons ExceptionUtils library; no need to reinvent the wheel"},{"owner":{"account_id":10241233,"reputation":129,"user_id":7558585,"display_name":"Nikita Zamalyutdinov"},"score":0,"creation_date":1574251471,"post_id":31415252,"comment_id":104163590,"body_markdown":"1. `String message = out1.toString(&quot;UTF8&quot;);` - compilation error, expected 0 parameterers, but got 1\n2. It works correctly \n`out2.out.toString`.\nIn case `out2.toString` -&gt; &#39;PrintStream@hash&#39;","body":"1. <code>String message = out1.toString(&quot;UTF8&quot;);</code> - compilation error, expected 0 parameterers, but got 1 2. It works correctly  <code>out2.out.toString</code>. In case <code>out2.toString</code> -&gt; &#39;PrintStream@hash&#39;"},{"owner":{"account_id":13060408,"reputation":707,"user_id":9437799,"display_name":"Sam Ginrich"},"score":0,"creation_date":1701955682,"post_id":31415252,"comment_id":136840560,"body_markdown":"PrintStream uses UTF-8 by default or should encoding be specified by constructor &#180;PrintStream(String file, boolean autoFlush, Charset cs)&#180; ?","body":"PrintStream uses UTF-8 by default or should encoding be specified by constructor &#180;PrintStream(String file, boolean autoFlush, Charset cs)&#180; ?"}],"tags":[],"owner":{"account_id":995810,"reputation":8236,"user_id":1011791,"accept_rate":86,"display_name":"Chthonic Project"},"comment_count":3,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1436901734,"creation_date":1436900859,"answer_id":31415252,"question_id":31415147,"body_markdown":"You can use the [getStackTrace()](http://docs.oracle.com/javase/7/docs/api/java/lang/Throwable.html#getStackTrace()) method to get an array of StackTraceElements, and generate a String from there. Otherwise, if just the final error message is sufficient, use the `getMessage()` method as suggested by Makoto.\r\n\r\nTo get the stack trace as a `String` from an array of `StackTraceElement` objects, you need to iterate over the array (taken from JDK7 source):\r\n\r\n    StringBuilder builder = new StringBuilder();\r\n    StackTraceElement[] trace = getOurStackTrace();\r\n        for (StackTraceElement traceElement : trace)\r\n            builder.append(&quot;\\tat &quot; + traceElement + &quot;\\n&quot;);\r\n\r\nAnother option is to use `printStackTrace(PrintStream s)`, where you get to specify where you want the stacktrace to be printed:\r\n\r\n    ByteArrayOutputStream out1 = new ByteArrayOutputStream();\r\n    PrintStream out2 = new PrintStream(out1);\r\n    ex.printStackTrace(out2);\r\n    String message = out1.toString(&quot;UTF8&quot;);","title":"How do I log a stacktrace using java&#39;s Logger class","body":"<p>You can use the <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/Throwable.html#getStackTrace()\" rel=\"nofollow\">getStackTrace()</a> method to get an array of StackTraceElements, and generate a String from there. Otherwise, if just the final error message is sufficient, use the <code>getMessage()</code> method as suggested by Makoto.</p>\n\n<p>To get the stack trace as a <code>String</code> from an array of <code>StackTraceElement</code> objects, you need to iterate over the array (taken from JDK7 source):</p>\n\n<pre><code>StringBuilder builder = new StringBuilder();\nStackTraceElement[] trace = getOurStackTrace();\n    for (StackTraceElement traceElement : trace)\n        builder.append(\"\\tat \" + traceElement + \"\\n\");\n</code></pre>\n\n<p>Another option is to use <code>printStackTrace(PrintStream s)</code>, where you get to specify where you want the stacktrace to be printed:</p>\n\n<pre><code>ByteArrayOutputStream out1 = new ByteArrayOutputStream();\nPrintStream out2 = new PrintStream(out1);\nex.printStackTrace(out2);\nString message = out1.toString(\"UTF8\");\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2047736,"reputation":2932,"user_id":1827453,"accept_rate":69,"display_name":"Panu Haaramo"},"score":2,"creation_date":1515875028,"post_id":31415275,"comment_id":83470434,"body_markdown":"I&#39;m not getting stack trace to log with this, only the second argument.","body":"I&#39;m not getting stack trace to log with this, only the second argument."},{"owner":{"account_id":4682435,"reputation":7616,"user_id":3790806,"accept_rate":86,"display_name":"hzpz"},"score":0,"creation_date":1516364758,"post_id":31415275,"comment_id":83667346,"body_markdown":"It is possible to suppress the stack trace by changing the log format. Which formatter are you using and how does your log format look like?","body":"It is possible to suppress the stack trace by changing the log format. Which formatter are you using and how does your log format look like?"},{"owner":{"account_id":152915,"reputation":5676,"user_id":367796,"accept_rate":59,"display_name":"steinybot"},"score":1,"creation_date":1554327285,"post_id":31415275,"comment_id":97715280,"body_markdown":"This is the real answer to the question.","body":"This is the real answer to the question."},{"owner":{"account_id":152915,"reputation":5676,"user_id":367796,"accept_rate":59,"display_name":"steinybot"},"score":6,"creation_date":1554327357,"post_id":31415275,"comment_id":97715303,"body_markdown":"@PanuHaaramo It depends on which formatter you use. The formatter needs to call `record.getThrown()` in `format`. Take a look at `SimpleFormatter`.","body":"@PanuHaaramo It depends on which formatter you use. The formatter needs to call <code>record.getThrown()</code> in <code>format</code>. Take a look at <code>SimpleFormatter</code>."}],"tags":[],"owner":{"account_id":4682435,"reputation":7616,"user_id":3790806,"accept_rate":86,"display_name":"hzpz"},"comment_count":4,"down_vote_count":0,"up_vote_count":41,"is_accepted":false,"score":41,"last_activity_date":1591344371,"creation_date":1436900930,"answer_id":31415275,"question_id":31415147,"body_markdown":"Use [`java.util.logging.Logger#log(Level, String, Throwable)`][1] and pass in `ex` as third argument like this:\r\n\r\n    LOGGER.log(Level.INFO, ex.getMessage(), ex);\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/logging/Logger.html#log-java.util.logging.Level-java.lang.String-java.lang.Throwable-","title":"How do I log a stacktrace using java&#39;s Logger class","body":"<p>Use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/logging/Logger.html#log-java.util.logging.Level-java.lang.String-java.lang.Throwable-\" rel=\"noreferrer\"><code>java.util.logging.Logger#log(Level, String, Throwable)</code></a> and pass in <code>ex</code> as third argument like this:</p>\n\n<pre><code>LOGGER.log(Level.INFO, ex.getMessage(), ex);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6318369,"reputation":2417,"user_id":4907475,"display_name":"Amit.rk3"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1436901584,"creation_date":1436901584,"answer_id":31415473,"question_id":31415147,"body_markdown":"you CAN convert stacktrace into String using below. If `e` is the exception object \r\n\r\n    StringWriter stringWriter= new StringWriter();\r\n    PrintWriter printWriter= new PrintWriter(stringWriter);\r\n    e.printStackTrace(printWriter);\r\n    String stackTraceAsString= stringWriter.toString(); ","title":"How do I log a stacktrace using java&#39;s Logger class","body":"<p>you CAN convert stacktrace into String using below. If <code>e</code> is the exception object </p>\n\n<pre><code>StringWriter stringWriter= new StringWriter();\nPrintWriter printWriter= new PrintWriter(stringWriter);\ne.printStackTrace(printWriter);\nString stackTraceAsString= stringWriter.toString(); \n</code></pre>\n"},{"comments":[{"owner":{"account_id":1962480,"reputation":15483,"user_id":1763602,"accept_rate":76,"display_name":"Marco Sulla"},"score":1,"creation_date":1621586426,"post_id":31415509,"comment_id":119545695,"body_markdown":"This is the simplest method IMHO and it really prints the stack trace, not only the message.","body":"This is the simplest method IMHO and it really prints the stack trace, not only the message."}],"tags":[],"owner":{"account_id":6626587,"reputation":141,"user_id":5116608,"display_name":"sleeloy"},"comment_count":1,"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1442589958,"creation_date":1436901692,"answer_id":31415509,"question_id":31415147,"body_markdown":"There&#39;s an overloaded printStackTrace method that takes in a PrintWriter.\r\n\r\nYou can do something like this\r\n\r\n    Writer buffer = new StringWriter();\r\n    PrintWriter pw = new PrintWriter(buffer);\r\n    ex.printStackTrace(pw);\r\n    Logger.log(loglevel, buffer.toString());","title":"How do I log a stacktrace using java&#39;s Logger class","body":"<p>There's an overloaded printStackTrace method that takes in a PrintWriter.</p>\n\n<p>You can do something like this</p>\n\n<pre><code>Writer buffer = new StringWriter();\nPrintWriter pw = new PrintWriter(buffer);\nex.printStackTrace(pw);\nLogger.log(loglevel, buffer.toString());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6436963,"reputation":681,"user_id":4988186,"display_name":"Surya Joseph"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1442587855,"creation_date":1436902209,"answer_id":31415657,"question_id":31415147,"body_markdown":"Thank you all. I am able to log the stack trace details using \r\n\r\n    LOGGER.log(Level.INFO, ex.getMessage(),ex);\r\n    //ex is my exception object","title":"How do I log a stacktrace using java&#39;s Logger class","body":"<p>Thank you all. I am able to log the stack trace details using </p>\n\n<pre><code>LOGGER.log(Level.INFO, ex.getMessage(),ex);\n//ex is my exception object\n</code></pre>\n"},{"comments":[{"owner":{"account_id":12730279,"reputation":1162,"user_id":9247203,"display_name":"JoschJava"},"score":2,"creation_date":1536075996,"post_id":49921648,"comment_id":91290428,"body_markdown":"If you&#39;re refering to org.apache.commons.lang3.exception.ExceptionUtils, it&#39;s\nExceptionUtils.getStackTrace(e)","body":"If you&#39;re refering to org.apache.commons.lang3.exception.ExceptionUtils, it&#39;s ExceptionUtils.getStackTrace(e)"}],"tags":[],"owner":{"account_id":13400125,"reputation":305,"user_id":9669923,"display_name":"Rutuja"},"comment_count":1,"down_vote_count":3,"up_vote_count":31,"is_accepted":false,"score":28,"last_activity_date":1621329426,"creation_date":1524142380,"answer_id":49921648,"question_id":31415147,"body_markdown":"Also another alternative would be:\r\n\r\n    import org.apache.commons.lang3.exception.ExceptionUtils;\r\n\r\n    log.error(&quot;Exception : &quot; + ExceptionUtils.getStackTrace(exception));\r\n\r\n","title":"How do I log a stacktrace using java&#39;s Logger class","body":"<p>Also another alternative would be:</p>\n<pre><code>import org.apache.commons.lang3.exception.ExceptionUtils;\n\nlog.error(&quot;Exception : &quot; + ExceptionUtils.getStackTrace(exception));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1826882,"reputation":131,"user_id":1659341,"display_name":"iman"},"comment_count":0,"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1533704666,"creation_date":1533704666,"answer_id":51738945,"question_id":31415147,"body_markdown":"With below format you can have the stack trace: \r\n\r\n    java.util.logging.SimpleFormatter.format=%1$tF %1$tT [%4$-7s][%2$s] %5$s %6$s%n\r\n\r\nThe point in this pattern is %6$s. It will print the stack trace.\r\n\r\n","title":"How do I log a stacktrace using java&#39;s Logger class","body":"<p>With below format you can have the stack trace: </p>\n\n<pre><code>java.util.logging.SimpleFormatter.format=%1$tF %1$tT [%4$-7s][%2$s] %5$s %6$s%n\n</code></pre>\n\n<p>The point in this pattern is %6$s. It will print the stack trace.</p>\n"},{"tags":[],"owner":{"account_id":2375051,"reputation":7605,"user_id":2078672,"accept_rate":20,"display_name":"Saurabh"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1572256250,"creation_date":1572256250,"answer_id":58588744,"question_id":31415147,"body_markdown":"You can also use ExceptionUtils from apache library or below log statement    \r\n\r\n        try{\r\n          doSomething();\r\n        }\r\n        catch(Exception e){\r\n        log.error(&quot;Exception in method doSomething &quot;,e);\r\n        }","title":"How do I log a stacktrace using java&#39;s Logger class","body":"<p>You can also use ExceptionUtils from apache library or below log statement    </p>\n\n<pre><code>    try{\n      doSomething();\n    }\n    catch(Exception e){\n    log.error(\"Exception in method doSomething \",e);\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9254658,"reputation":21,"user_id":9409776,"display_name":"Anton Tevs"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1603533950,"creation_date":1603440696,"answer_id":64496307,"question_id":31415147,"body_markdown":"You can use an **ExceptionUtils** if you need to see stacktrace without throwing Exception.\r\n\r\n    String stackTrace = ExceptionUtils.getStackTrace(new Exception(&quot;YourMessage&quot;));\r\n    log.error(stackTrace);","title":"How do I log a stacktrace using java&#39;s Logger class","body":"<p>You can use an <strong>ExceptionUtils</strong> if you need to see stacktrace without throwing Exception.</p>\n<pre><code>String stackTrace = ExceptionUtils.getStackTrace(new Exception(&quot;YourMessage&quot;));\nlog.error(stackTrace);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1886697,"reputation":111,"user_id":1782344,"display_name":"hairysocks"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1624025643,"creation_date":1624025643,"answer_id":68036731,"question_id":31415147,"body_markdown":"The previous suggestions all seem to just put the stack trace in the log without prefixing each line with the logger details. My suggestion below processes the stack trace elements and formats each line as a logger line:\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    log.error(&quot;{}&quot;, e.toString());\r\n    StackTraceElement[] stElements = e.getStackTrace();\r\n\r\n    log.error(&quot;(stacktrace) {}&quot;, e.toString());\r\n\r\n    for (StackTraceElement ste: stElements) {\r\n        log.error(&quot;(stacktrace)     at {}.{}({}.java:{})&quot;, \r\n            new Object[] {ste.getClassName(), ste.getMethodName(), \r\n                          ste.getClassName(), ste.getLineNumber()});\r\n    }\r\n\r\n    Throwable thisThrowable = e;\r\n    boolean causedBy = true;\r\n    while (causedBy) {\r\n        Throwable throwable = thisThrowable.getCause();\r\n        if (throwable != null) {\r\n            log.error(&quot;(stacktrace) Caused by: {}&quot;, throwable.toString());\r\n            stElements = throwable.getStackTrace();\r\n            for (StackTraceElement ste: stElements) {\r\n                log.error(&quot;(stacktrace)     at {}.{}({}.java:{})&quot;, \r\n                     new Object[] {ste.getClassName(), ste.getMethodName(),                    \r\n                                   ste.getClassName(), ste.getLineNumber()});\r\n            }\r\n            thisThrowable = throwable;  // For the next caused-by check\r\n        } else {\r\n            log.error(&quot;(stacktrace) No Caused-by Exception&quot;);\r\n            causedBy = false;  // No more caused-by Throwables, so end the loop\r\n        }\r\n    }\r\n\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nEach line of the stack trace is prefixed with &quot;(stacktrace)&quot;. This has the advantage of being able to filter them out when dumping log files, or to be able to find them easily.","title":"How do I log a stacktrace using java&#39;s Logger class","body":"<p>The previous suggestions all seem to just put the stack trace in the log without prefixing each line with the logger details. My suggestion below processes the stack trace elements and formats each line as a logger line:</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>log.error(\"{}\", e.toString());\nStackTraceElement[] stElements = e.getStackTrace();\n\nlog.error(\"(stacktrace) {}\", e.toString());\n\nfor (StackTraceElement ste: stElements) {\n    log.error(\"(stacktrace)     at {}.{}({}.java:{})\", \n        new Object[] {ste.getClassName(), ste.getMethodName(), \n                      ste.getClassName(), ste.getLineNumber()});\n}\n\nThrowable thisThrowable = e;\nboolean causedBy = true;\nwhile (causedBy) {\n    Throwable throwable = thisThrowable.getCause();\n    if (throwable != null) {\n        log.error(\"(stacktrace) Caused by: {}\", throwable.toString());\n        stElements = throwable.getStackTrace();\n        for (StackTraceElement ste: stElements) {\n            log.error(\"(stacktrace)     at {}.{}({}.java:{})\", \n                 new Object[] {ste.getClassName(), ste.getMethodName(),                    \n                               ste.getClassName(), ste.getLineNumber()});\n        }\n        thisThrowable = throwable;  // For the next caused-by check\n    } else {\n        log.error(\"(stacktrace) No Caused-by Exception\");\n        causedBy = false;  // No more caused-by Throwables, so end the loop\n    }\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>Each line of the stack trace is prefixed with &quot;(stacktrace)&quot;. This has the advantage of being able to filter them out when dumping log files, or to be able to find them easily.</p>\n"},{"tags":[],"owner":{"account_id":10438743,"reputation":76,"user_id":7696141,"display_name":"gibhunter"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672244304,"creation_date":1672244304,"answer_id":74942557,"question_id":31415147,"body_markdown":"With java.util.Arrays you can also solve this easily:\r\n\r\n    try {\r\n        doSomething();\r\n    } catch (Exception e) {\r\n        logger.error(Arrays.toString(e.getStackTrace()));\r\n    }\r\n\r\nArrays.toString(Object[] a) calls Object.toString() for each element or returns a String with &quot;null&quot; if the object is null. The elements are separated by a comma and a space. StackTraceElement implements toString(), so the array you get from e.getStackTrace() converts nicely.","title":"How do I log a stacktrace using java&#39;s Logger class","body":"<p>With java.util.Arrays you can also solve this easily:</p>\n<pre><code>try {\n    doSomething();\n} catch (Exception e) {\n    logger.error(Arrays.toString(e.getStackTrace()));\n}\n</code></pre>\n<p>Arrays.toString(Object[] a) calls Object.toString() for each element or returns a String with &quot;null&quot; if the object is null. The elements are separated by a comma and a space. StackTraceElement implements toString(), so the array you get from e.getStackTrace() converts nicely.</p>\n"},{"tags":[],"owner":{"account_id":19407465,"reputation":283,"user_id":14192616,"display_name":"Bipul Jaishwal"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699960138,"creation_date":1699960138,"answer_id":77480126,"question_id":31415147,"body_markdown":"Below set of code can be used.\r\n\r\n    public static Connection openConnection()  {\r\n    \t\tConnection con = null;\r\n    \t\ttry {\r\n    \t\t\t// load the driver\r\n    \t\t\t\r\n    \t\t\t//System.out.println(&quot;Load JDBC Driver&quot;);\r\n    \t\t\tDriverManager.registerDriver(new oracle.jdbc.driver.OracleDriver());\r\n    \t\t}\r\n    \t\tcatch (SQLException e) {\r\n    \t\t\tlogger.info(&quot;FAILED TO LOAD JDBC DRIVER&quot;);\r\n    \t\t\t//System.out.println(&quot;Fail to Load JDBC Driver &quot;);\r\n    \t\t\tlogger.error(e.getMessage(), e);\r\n    \t\t\treturn null;\r\n    \t\t}","title":"How do I log a stacktrace using java&#39;s Logger class","body":"<p>Below set of code can be used.</p>\n<pre><code>public static Connection openConnection()  {\n        Connection con = null;\n        try {\n            // load the driver\n            \n            //System.out.println(&quot;Load JDBC Driver&quot;);\n            DriverManager.registerDriver(new oracle.jdbc.driver.OracleDriver());\n        }\n        catch (SQLException e) {\n            logger.info(&quot;FAILED TO LOAD JDBC DRIVER&quot;);\n            //System.out.println(&quot;Fail to Load JDBC Driver &quot;);\n            logger.error(e.getMessage(), e);\n            return null;\n        }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21910001,"reputation":247,"user_id":16194563,"display_name":"Ramya Musunuru"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700477935,"creation_date":1700477935,"answer_id":77515323,"question_id":31415147,"body_markdown":"    log.error(&quot;Add some message, otherwise we wont get stacktrace with out some message &quot;, exception)\r\n\r\nThis will display stacktrace. ","title":"How do I log a stacktrace using java&#39;s Logger class","body":"<pre><code>log.error(&quot;Add some message, otherwise we wont get stacktrace with out some message &quot;, exception)\n</code></pre>\n<p>This will display stacktrace.</p>\n"}],"owner":{"account_id":6436963,"reputation":681,"user_id":4988186,"display_name":"Surya Joseph"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":122099,"favorite_count":0,"down_vote_count":3,"up_vote_count":67,"accepted_answer_id":31415217,"answer_count":16,"score":64,"last_activity_date":1700477935,"creation_date":1436900502,"question_id":31415147,"body_markdown":"I am using Java&#39;s `Logger` class. I want to pass `ex.printStackTrace()` into `Logger.log(loglevel, String)`, but `printStackTrace()` returns `void`. So I am not able to pass and print the stack trace of the exception.\r\n\r\nIs there any way that I can convert `void` into `String`, or are there any other methods to print the whole stack trace of exceptions?","title":"How do I log a stacktrace using java&#39;s Logger class","body":"<p>I am using Java's <code>Logger</code> class. I want to pass <code>ex.printStackTrace()</code> into <code>Logger.log(loglevel, String)</code>, but <code>printStackTrace()</code> returns <code>void</code>. So I am not able to pass and print the stack trace of the exception.</p>\n\n<p>Is there any way that I can convert <code>void</code> into <code>String</code>, or are there any other methods to print the whole stack trace of exceptions?</p>\n"},{"tags":["java","lambda"],"comments":[{"owner":{"account_id":8775035,"reputation":3254,"user_id":6560579,"display_name":"Ackdari"},"score":0,"creation_date":1588753897,"post_id":61630498,"comment_id":109016603,"body_markdown":"Well do you know how to implement the factorial without the context of the stack evaluation? Like just a static method `public static int factorial(int n)`.","body":"Well do you know how to implement the factorial without the context of the stack evaluation? Like just a static method <code>public static int factorial(int n)</code>."},{"owner":{"account_id":13430076,"reputation":527,"user_id":9690151,"display_name":"Avinash Sagar"},"score":0,"creation_date":1588753953,"post_id":61630498,"comment_id":109016631,"body_markdown":"Possible duplicate - https://stackoverflow.com/questions/28484544/calculating-factorial-using-java-8-intstream/28484576","body":"Possible duplicate - <a href=\"https://stackoverflow.com/questions/28484544/calculating-factorial-using-java-8-intstream/28484576\" title=\"calculating factorial using java 8 intstream\">stackoverflow.com/questions/28484544/&hellip;</a>"},{"owner":{"account_id":11776487,"reputation":1699,"user_id":8617744,"display_name":"Md. Yamin Mollah"},"score":0,"creation_date":1588755463,"post_id":61630498,"comment_id":109017477,"body_markdown":"Does this answer your question? [calculating factorial using Java 8 IntStream?](https://stackoverflow.com/questions/28484544/calculating-factorial-using-java-8-intstream)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/28484544/calculating-factorial-using-java-8-intstream\">calculating factorial using Java 8 IntStream?</a>"}],"answers":[{"comments":[{"owner":{"account_id":11776487,"reputation":1699,"user_id":8617744,"display_name":"Md. Yamin Mollah"},"score":1,"creation_date":1588758335,"post_id":61631125,"comment_id":109019044,"body_markdown":"@alex108 If you got the right answer then you should mark this as correct answer for future readers. Thank you.","body":"@alex108 If you got the right answer then you should mark this as correct answer for future readers. Thank you."}],"tags":[],"owner":{"account_id":11776487,"reputation":1699,"user_id":8617744,"display_name":"Md. Yamin Mollah"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1588755196,"creation_date":1588755196,"answer_id":61631125,"question_id":61630498,"body_markdown":"Using `for` loop:\r\n\r\n    public long factorialByForLoop(int value) {\r\n        long result = 1;\r\n        if (value == 0) {\r\n            System.out.print(value);\r\n        } else {\r\n            result = value;\r\n            System.out.print(value);\r\n            for (long i = value - 1; i &gt; 0; i--) {\r\n                System.out.print(&quot; * &quot;);\r\n                result *= i;\r\n                System.out.print(i);\r\n            }\r\n        }\r\n        System.out.print(&quot; = &quot; + result);\r\n        return result;\r\n    }\r\n\r\nUsing `recursion` algorithm:\r\n\r\n    public long factorialByRecursion(int value) {\r\n        long result = value;\r\n        if (value == 1) {\r\n            return value;\r\n        } else {\r\n            return value * factorialByRecursion(--value);\r\n        }\r\n    }","title":"Calculate Factorial using Lambda Expressions","body":"<p>Using <code>for</code> loop:</p>\n\n<pre><code>public long factorialByForLoop(int value) {\n    long result = 1;\n    if (value == 0) {\n        System.out.print(value);\n    } else {\n        result = value;\n        System.out.print(value);\n        for (long i = value - 1; i &gt; 0; i--) {\n            System.out.print(\" * \");\n            result *= i;\n            System.out.print(i);\n        }\n    }\n    System.out.print(\" = \" + result);\n    return result;\n}\n</code></pre>\n\n<p>Using <code>recursion</code> algorithm:</p>\n\n<pre><code>public long factorialByRecursion(int value) {\n    long result = value;\n    if (value == 1) {\n        return value;\n    } else {\n        return value * factorialByRecursion(--value);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18376593,"reputation":35,"user_id":13385558,"display_name":"Harmattan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672348051,"creation_date":1672347571,"answer_id":74956009,"question_id":61630498,"body_markdown":"\r\n    import java.math.BigInteger;\r\n    import java.util.stream.Stream;\r\n\r\n    public class FactorialWithLamda {\r\n      public static void main(String[] args){\r\n      BigInteger number = BigInteger.valueOf(21);\r\n      System.out.printf(&quot;%d! = %d%n&quot;, number, factorial(number));\r\n    }\r\n      \r\n    public static BigInteger factorial(BigInteger n){\r\n      return Stream.iterate(BigInteger.ONE, i -&gt; \r\n          i.add(BigInteger.ONE)).\r\n           limit(n.longValue()).\r\n            reduce(BigInteger.ONE, BigInteger::multiply);\r\n\r\n    }\r\n\r\n    }\r\n\r\n    \r\n\r\n","title":"Calculate Factorial using Lambda Expressions","body":"<pre><code>import java.math.BigInteger;\nimport java.util.stream.Stream;\n\npublic class FactorialWithLamda {\n  public static void main(String[] args){\n  BigInteger number = BigInteger.valueOf(21);\n  System.out.printf(&quot;%d! = %d%n&quot;, number, factorial(number));\n}\n  \npublic static BigInteger factorial(BigInteger n){\n  return Stream.iterate(BigInteger.ONE, i -&gt; \n      i.add(BigInteger.ONE)).\n       limit(n.longValue()).\n        reduce(BigInteger.ONE, BigInteger::multiply);\n\n}\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5119065,"reputation":25,"user_id":4103281,"display_name":"Joao Nicolau"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700477818,"creation_date":1700477818,"answer_id":77515300,"question_id":61630498,"body_markdown":"    import org.junit.Test;\r\n\r\n\timport java.util.stream.IntStream;\r\n\r\n\tpublic class TestJava {\r\n\r\n\r\n\t\t@FunctionalInterface\r\n\t\tpublic interface FactorialFunc&lt;T&gt; {\r\n\t\t\tT calc(T t);\r\n\t\t}\r\n\r\n\t\t@Test\r\n\t\tpublic void test1() {\r\n\r\n\t\t\tFactorialFunc&lt;Integer&gt; factorial1 = (n) -&gt; IntStream.rangeClosed(1, n).reduce(1, (i, j) -&gt; i * j);\r\n\r\n\t\t\tInteger v = 0;\r\n\t\t\tSystem.out.println(String.format(&quot;Factorial of: %d is %d&quot;, v, factorial1.calc(v)));\r\n\t\t\tv = 5;\r\n\t\t\tSystem.out.println(String.format(&quot;Factorial of: %d is %d&quot;, 5, factorial1.calc(v)));\r\n\r\n\t\t}\r\n\r\n\t}\r\n","title":"Calculate Factorial using Lambda Expressions","body":"<pre><code>import org.junit.Test;\n\nimport java.util.stream.IntStream;\n\npublic class TestJava {\n\n\n    @FunctionalInterface\n    public interface FactorialFunc&lt;T&gt; {\n        T calc(T t);\n    }\n\n    @Test\n    public void test1() {\n\n        FactorialFunc&lt;Integer&gt; factorial1 = (n) -&gt; IntStream.rangeClosed(1, n).reduce(1, (i, j) -&gt; i * j);\n\n        Integer v = 0;\n        System.out.println(String.format(&quot;Factorial of: %d is %d&quot;, v, factorial1.calc(v)));\n        v = 5;\n        System.out.println(String.format(&quot;Factorial of: %d is %d&quot;, 5, factorial1.calc(v)));\n\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":13243677,"reputation":387,"user_id":9563427,"display_name":"alex108"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2719,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1700477818,"creation_date":1588753123,"question_id":61630498,"body_markdown":"I am a beginner in java trying to find out if there is a way to calculate factorials using lambda expressions. In other words, what i need to do is modify the fatt operator so that the program outputs the factorial number.\r\n\r\n    import java.util.Stack;\r\n    \r\n    public class TestOperator {\r\n    \t\r\n    \t\r\n    \tpublic static void main(String[] args) {\r\n    \t\r\n    \r\n            Stack&lt;Operator&gt; expression = new Stack&lt;&gt;();\r\n    \r\n            expression.push(s -&gt; 2);\r\n            expression.push(s -&gt; 3);\r\n            expression.push(s -&gt; 1);\r\n            expression.push(s -&gt; s.pop().apply(s) + s.pop().apply(s));\r\n            expression.push(s -&gt; s.pop().apply(s) * s.pop().apply(s));\r\n    \r\n            System.out.println(expression.pop().apply(expression)); // prints (1 + 3) * 2 = 8\r\n    \r\n    \r\n            // rewrite the operator **Fatt** in order to calculate the factorial\r\n            \r\n     \r\n            Operator fatt = (s -&gt; { \r\n            \t\r\n            \ts.pop().apply(s);\r\n            \r\n            \treturn 42;\r\n            \r\n            });\r\n    \r\n            expression.push(s -&gt; 2);\r\n            expression.push(s -&gt; 3);\r\n            expression.push(s -&gt; 1);\r\n            expression.push(s -&gt; s.pop().apply(s) + s.pop().apply(s));\r\n            expression.push(fatt);\r\n            expression.push(s -&gt; s.pop().apply(s) * s.pop().apply(s));\r\n    \r\n            System.out.println(expression.pop().apply(expression));\r\n            // it should print fatt(1+3)*2 = 48\r\n            \r\n    \t}\r\n    }\r\n\r\nI think i should use the for loop, but i don&#39;t know how i should apply it using lambda expressions. The exercise says that it can also be done using recursion.\r\n\r\nAny help will be helpful\r\n\r\nThanks","title":"Calculate Factorial using Lambda Expressions","body":"<p>I am a beginner in java trying to find out if there is a way to calculate factorials using lambda expressions. In other words, what i need to do is modify the fatt operator so that the program outputs the factorial number.</p>\n\n<pre><code>import java.util.Stack;\n\npublic class TestOperator {\n\n\n    public static void main(String[] args) {\n\n\n        Stack&lt;Operator&gt; expression = new Stack&lt;&gt;();\n\n        expression.push(s -&gt; 2);\n        expression.push(s -&gt; 3);\n        expression.push(s -&gt; 1);\n        expression.push(s -&gt; s.pop().apply(s) + s.pop().apply(s));\n        expression.push(s -&gt; s.pop().apply(s) * s.pop().apply(s));\n\n        System.out.println(expression.pop().apply(expression)); // prints (1 + 3) * 2 = 8\n\n\n        // rewrite the operator **Fatt** in order to calculate the factorial\n\n\n        Operator fatt = (s -&gt; { \n\n            s.pop().apply(s);\n\n            return 42;\n\n        });\n\n        expression.push(s -&gt; 2);\n        expression.push(s -&gt; 3);\n        expression.push(s -&gt; 1);\n        expression.push(s -&gt; s.pop().apply(s) + s.pop().apply(s));\n        expression.push(fatt);\n        expression.push(s -&gt; s.pop().apply(s) * s.pop().apply(s));\n\n        System.out.println(expression.pop().apply(expression));\n        // it should print fatt(1+3)*2 = 48\n\n    }\n}\n</code></pre>\n\n<p>I think i should use the for loop, but i don't know how i should apply it using lambda expressions. The exercise says that it can also be done using recursion.</p>\n\n<p>Any help will be helpful</p>\n\n<p>Thanks</p>\n"},{"tags":["java","java-7","oracle-sqldeveloper"],"answers":[{"tags":[],"owner":{"account_id":1288701,"reputation":6346,"user_id":1241244,"accept_rate":81,"display_name":"invertigo"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1398112991,"creation_date":1398112991,"answer_id":23205663,"question_id":23121353,"body_markdown":"I do not know why, but installing to a different directory fixed the problem. It was originally installed in `c:\\oracle\\sqldeveloper` (as it was in my previous environment when everything was working happily), and I moved it to `c:\\sqldeveloper`, now everything is working. I also cleared out the AppData folders (`\\AppData\\Roaming\\SQL Developer` and `\\AppData\\Roaming\\sqldeveloper`), but I had done that countless times prior to relocating the installation during troubleshooting. I should also note I double and triple checked security settings on the original install directory and my user had full control.","title":"Cannot launch SQL Developer 4.0.1","body":"<p>I do not know why, but installing to a different directory fixed the problem. It was originally installed in <code>c:\\oracle\\sqldeveloper</code> (as it was in my previous environment when everything was working happily), and I moved it to <code>c:\\sqldeveloper</code>, now everything is working. I also cleared out the AppData folders (<code>\\AppData\\Roaming\\SQL Developer</code> and <code>\\AppData\\Roaming\\sqldeveloper</code>), but I had done that countless times prior to relocating the installation during troubleshooting. I should also note I double and triple checked security settings on the original install directory and my user had full control.</p>\n"},{"tags":[],"owner":{"account_id":9738130,"reputation":11,"user_id":7220712,"display_name":"MilanM"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1480344576,"creation_date":1480344249,"answer_id":40846993,"question_id":23121353,"body_markdown":"**Same problem - solved by moving to different directory...** More by mistake I tried to run datamodeler from destination, which included &quot;!&quot; in its path (like &quot;c:\\\\!!! - datamodeler&quot;). Not possible. After moving anywhere without &quot;!&quot; in path it started to work OK.\r\n\r\n - Microsoft Windows [Version 10.0.14393]\r\n - Oracle Data Modeler 4.5.1.\r\n - Oracle Data Modeler 4.2 Beta - the same situation...\r\n\r\nNo error, no log... just crash after 1.5cm progressbar on splashscreen...\r\n2 Hours of life gone. Hope it helps somebody...\r\n","title":"Cannot launch SQL Developer 4.0.1","body":"<p><strong>Same problem - solved by moving to different directory...</strong> More by mistake I tried to run datamodeler from destination, which included \"!\" in its path (like \"c:\\!!! - datamodeler\"). Not possible. After moving anywhere without \"!\" in path it started to work OK.</p>\n\n<ul>\n<li>Microsoft Windows [Version 10.0.14393]</li>\n<li>Oracle Data Modeler 4.5.1.</li>\n<li>Oracle Data Modeler 4.2 Beta - the same situation...</li>\n</ul>\n\n<p>No error, no log... just crash after 1.5cm progressbar on splashscreen...\n2 Hours of life gone. Hope it helps somebody...</p>\n"},{"tags":[],"owner":{"account_id":2047143,"reputation":1194,"user_id":1826991,"accept_rate":52,"display_name":"Jake Manet"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1493295253,"creation_date":1493295253,"answer_id":43657524,"question_id":23121353,"body_markdown":"Same problem here. I have windows 10, 64x.\r\nWhat i have done want to set up the jdk on env variables, set the java path on config file but nothing.\r\nMoving the sqldeveloper to C:/ from Program Files and deleting  \\AppData\\Roaming\\SQL Developer and \\AppData\\Roaming\\sqldeveloper fixed the problem.","title":"Cannot launch SQL Developer 4.0.1","body":"<p>Same problem here. I have windows 10, 64x.\nWhat i have done want to set up the jdk on env variables, set the java path on config file but nothing.\nMoving the sqldeveloper to C:/ from Program Files and deleting  \\AppData\\Roaming\\SQL Developer and \\AppData\\Roaming\\sqldeveloper fixed the problem.</p>\n"},{"tags":[],"owner":{"account_id":5393015,"reputation":1905,"user_id":4294974,"accept_rate":50,"display_name":"Md. Kamruzzaman"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1500529739,"creation_date":1500529739,"answer_id":45206166,"question_id":23121353,"body_markdown":"I have solved the problem by removing the content of following two folders:\r\n\r\n    1. C:\\Users\\windows_user_name\\AppData\\Roaming\\SQL Developer\\SqlHistory\r\n    2. C:\\Users\\windows_user_name\\AppData\\Roaming\\SQL Developer\\systemxxxxxxxxx","title":"Cannot launch SQL Developer 4.0.1","body":"<p>I have solved the problem by removing the content of following two folders:</p>\n\n<pre><code>1. C:\\Users\\windows_user_name\\AppData\\Roaming\\SQL Developer\\SqlHistory\n2. C:\\Users\\windows_user_name\\AppData\\Roaming\\SQL Developer\\systemxxxxxxxxx\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14702307,"reputation":1,"user_id":10618033,"display_name":"by_SiD"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1541601600,"creation_date":1541590305,"answer_id":53188647,"question_id":23121353,"body_markdown":"Same problem - solved by moving to different directory... More by \r\nmistake I tried to run datamodeler from destination, which included &quot;!&quot; in its path (like &quot;c:\\!!! - datamodeler&quot;). Not possible. After moving anywhere without &quot;!&quot; in path it started to work OK.\r\n    \r\n\r\n&gt; Microsoft Windows [Version 10.0.14393] Oracle Data Modeler 4.5.1.\r\n&gt; Oracle Data Modeler 4.2 Beta - the same situation... No error, no\r\n&gt; log... just crash after 1.5cm progressbar on splashscreen... 2 Hours\r\n&gt; of life gone. Hope it helps somebody...\r\n\r\nIt helps me.\r\n","title":"Cannot launch SQL Developer 4.0.1","body":"<p>Same problem - solved by moving to different directory... More by \nmistake I tried to run datamodeler from destination, which included \"!\" in its path (like \"c:!!! - datamodeler\"). Not possible. After moving anywhere without \"!\" in path it started to work OK.</p>\n\n<blockquote>\n  <p>Microsoft Windows [Version 10.0.14393] Oracle Data Modeler 4.5.1.\n  Oracle Data Modeler 4.2 Beta - the same situation... No error, no\n  log... just crash after 1.5cm progressbar on splashscreen... 2 Hours\n  of life gone. Hope it helps somebody...</p>\n</blockquote>\n\n<p>It helps me.</p>\n"}],"owner":{"account_id":1288701,"reputation":6346,"user_id":1241244,"accept_rate":81,"display_name":"invertigo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6297,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":23205663,"answer_count":5,"score":4,"last_activity_date":1700477792,"creation_date":1397687498,"question_id":23121353,"body_markdown":"Brand new machine, new install of SQL Developer (x64 w/out JRE), when I try to launch `sqldeveloper.exe`, it gets stuck at about 10%.\r\n\r\n![screenshot of Oracle SQL Developer loading stuck at about 10%][1]\r\n\r\nWhat logs, if any, should I be looking at for errors?\r\n\r\nVersion info:\r\n* SQL Developer 4.0.1\r\n* JDK 1.7.0_55\r\n* Windows 7 Professional x64 \r\n\r\n\r\nI ran `sqldeveloper64.exe`, and hit &lt;kbd&gt;Ctrl&lt;/kbd&gt;+&lt;kbd&gt;Pause/Break&lt;/kbd&gt; when the launcher started hanging. This is the output:\r\n\r\n```none\r\n2014-04-17 10:26:08 Full thread dump Java HotSpot(TM) 64-Bit Server VM\r\n(24.55-b03 mixed mode):\r\n\r\n&quot;Flushing caches&quot; prio=2 tid=0x000000000cf4b000 nid=0x2408 in Object.wait() [0x00000000104af000]\r\n    java.lang.Thread.State: TIMED_WAITING (on object monitor)\r\n        at java.lang.Object.wait(Native Method)\r\n        - waiting on &lt;0x00000000ce69ea98&gt; (a org.netbeans.Stamps$Worker)\r\n        at org.netbeans.Stamps$Worker.run(Stamps.java:824)\r\n        - locked &lt;0x00000000ce69ea98&gt; (a org.netbeans.Stamps$Worker)\r\n\r\n&quot;Thread-3&quot; daemon prio=6 tid=0x000000000cf4a000 nid=0x1d60 in Object.wait() [0x000000000e21f000]\r\n    java.lang.Thread.State: WAITING (on object monitor)\r\n        at java.lang.Object.wait(Native Method)\r\n        - waiting on &lt;0x00000000f2053220&gt; (a java.util.LinkedList)\r\n        at java.lang.Object.wait(Object.java:503)\r\n        at java.util.prefs.AbstractPreferences$EventDispatchThread.run(AbstractPreferences.java:1476)\r\n        - locked &lt;0x00000000f2053220&gt; (a java.util.LinkedList)\r\n\r\n&quot;Framework Event Dispatcher&quot; daemon prio=6 tid=0x000000000cf49800 nid=0x2744 in Object.wait() [0x000000000e07f000]   \r\n    java.lang.Thread.State: WAITING (on object monitor)\r\n        at java.lang.Object.wait(Native Method)\r\n        - waiting on &lt;0x00000000f4043468&gt; (a org.eclipse.osgi.framework.eventmgr.EventManager$EventThread)\r\n        at java.lang.Object.wait(Object.java:503)\r\n        at org.eclipse.osgi.framework.eventmgr.EventManager$EventThread.getNextEvent(EventManager.java:400)\r\n        - locked &lt;0x00000000f4043468&gt; (a org.eclipse.osgi.framework.eventmgr.EventManager$EventThread)\r\n        at org.eclipse.osgi.framework.eventmgr.EventManager$EventThread.run(EventManager.java:336)\r\n\r\n&quot;State Saver&quot; prio=6 tid=0x000000000cf48800 nid=0x265c in Object.wait() [0x000000000df0f000]\r\n    java.lang.Thread.State: TIMED_WAITING (on object monitor)\r\n        at java.lang.Object.wait(Native Method)\r\n        - waiting on &lt;0x00000000f3c73208&gt; (a org.eclipse.osgi.internal.resolver.SystemState)\r\n        at org.eclipse.osgi.internal.baseadaptor.BaseStorage$StateSaver.run(BaseStorage.java:1292)\r\n        - locked &lt;0x00000000f3c73208&gt; (a org.eclipse.osgi.internal.resolver.SystemState)\r\n        at java.lang.Thread.run(Thread.java:745)\r\n\r\n&quot;Framework Active Thread&quot; prio=6 tid=0x000000000cf48000 nid=0x2014 in Object.wait() [0x000000000ddbf000]\r\n    java.lang.Thread.State: TIMED_WAITING (on object monitor)\r\n        at java.lang.Object.wait(Native Method)\r\n        - waiting on &lt;0x00000000f3c704a8&gt; (a org.eclipse.osgi.framework.internal.core.Framework)\r\n        at org.eclipse.osgi.framework.internal.core.Framework.run(Framework.java:1863)\r\n        - locked &lt;0x00000000f3c704a8&gt; (a org.eclipse.osgi.framework.internal.core.Framework)\r\n        at java.lang.Thread.run(Thread.java:745)\r\n\r\n&quot;Inactive RequestProcessor thread [Was:Folderrecognizer/org.openide.loaders.FolderList$ListTask]&quot; daemon prio=6 tid=0x000000000cd80000 nid=0x25d8 in Object.wait() [0x000000000dcbf000]\r\n    java.lang.Thread.State: TIMED_WAITING (on object monitor)\r\n        at java.lang.Object.wait(Native Method)\r\n        - waiting on &lt;0x00000000f3f6d648&gt; (a java.lang.Object)\r\n        at org.openide.util.RequestProcessor$Processor.run(RequestProcessor.java:1989)\r\n        - locked &lt;0x00000000f3f6d648&gt; (a java.lang.Object)\r\n\r\n&quot;RequestProcessor queue manager&quot; daemon prio=6 tid=0x000000000cb5d800 nid=0x2720  in Object.wait() [0x000000000dbbf000]\r\n    java.lang.Thread.State: TIMED_WAITING (on object monitor)\r\n        at java.lang.Object.wait(Native Method)\r\n        - waiting on &lt;0x00000000ce846c20&gt; (a java.lang.Class for org.openide.uti l.RequestProcessor$TickTac)\r\n        at org.openide.util.RequestProcessor$TickTac.obtainFirst(RequestProcessor.java:2267)\r\n        - locked &lt;0x00000000ce846c20&gt; (a java.lang.Class for org.openide.util.Re questProcessor$TickTac)\r\n        at org.openide.util.RequestProcessor$TickTac.run(RequestProcessor.java:2243)\r\n\r\n&quot;Inactive RequestProcessor thread [Was:NbStatusDisplayer/org.netbeans.core.NbStatusDisplayer$MessageImpl]&quot; daemon prio=2 tid=0x000000000cc08000 nid=0x27dc in Object.wait() [0x000000000d9bf000]\r\n    java.lang.Thread.State: TIMED_WAITING (on object monitor)\r\n        at java.lang.Object.wait(Native Method)\r\n        - waiting on &lt;0x00000000f3de60d8&gt; (a java.lang.Object)\r\n        at org.openide.util.RequestProcessor$Processor.run(RequestProcessor.java:1989)\r\n        - locked &lt;0x00000000f3de60d8&gt; (a java.lang.Object)\r\n\r\n&quot;CLI Requests Server&quot; daemon prio=6 tid=0x000000000cb61000 nid=0x1c3c runnable [0x000000000d8bf000]\r\n    java.lang.Thread.State: RUNNABLE\r\n        at java.net.DualStackPlainSocketImpl.accept0(Native Method)\r\n        at java.net.DualStackPlainSocketImpl.socketAccept(DualStackPlainSocketImpl.java:131)\r\n        at java.net.AbstractPlainSocketImpl.accept(AbstractPlainSocketImpl.java:398)\r\n        at java.net.PlainSocketImpl.accept(PlainSocketImpl.java:198)\r\n        - locked &lt;0x00000000f40426e8&gt; (a java.net.SocksSocketImpl)\r\n        at java.net.ServerSocket.implAccept(ServerSocket.java:530)\r\n        at java.net.ServerSocket.accept(ServerSocket.java:498)\r\n        at org.netbeans.CLIHandler$Server.run(CLIHandler.java:1100)\r\n\r\n&quot;Active Reference Queue Daemon&quot; daemon prio=2 tid=0x000000000cb8a800 nid=0x23bc in Object.wait() [0x000000000d5cf000]\r\n    java.lang.Thread.State: TIMED_WAITING (on object monitor)\r\n        at java.lang.Object.wait(Native Method)\r\n        - waiting on &lt;0x00000000f3c4a298&gt; (a java.lang.ref.ReferenceQueue$Lock)\r\n        at java.lang.ref.ReferenceQueue.remove(ReferenceQueue.java:135)\r\n        - locked &lt;0x00000000f3c4a298&gt; (a java.lang.ref.ReferenceQueue$Lock)\r\n        at org.openide.util.lookup.implspi.ActiveQueue$Daemon.run(ActiveQueue.java:180)\r\n        - locked &lt;0x00000000f3c4a298&gt; (a java.lang.ref.ReferenceQueue$Lock)\r\n\r\n&quot;TimerQueue&quot; daemon prio=6 tid=0x0000000009ebf800 nid=0x1f64 waiting on condition [0x000000000d3cf000]\r\n    java.lang.Thread.State: TIMED_WAITING (parking)\r\n        at sun.misc.Unsafe.park(Native Method)\r\n        - parking to wait for  &lt;0x00000000f3f6df90&gt; (a java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject)\r\n        at java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:226)\r\n        at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2082)\r\n        at java.util.concurrent.DelayQueue.take(DelayQueue.java:220)\r\n        at javax.swing.TimerQueue.run(TimerQueue.java:171)\r\n        at java.lang.Thread.run(Thread.java:745)\r\n\r\n&quot;AWT-EventQueue-0&quot; prio=6 tid=0x0000000009dc7800 nid=0xe14 waiting on condition [0x000000000baef000]\r\n    java.lang.Thread.State: WAITING (parking)\r\n        at sun.misc.Unsafe.park(Native Method)\r\n        - parking to wait for  &lt;0x00000000f3f79a30&gt; (a java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject)\r\n        at java.util.concurrent.locks.LockSupport.park(LockSupport.java:186)\r\n        at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:2043)\r\n        at java.awt.EventQueue.getNextEvent(EventQueue.java:543)\r\n        at java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:211)\r\n        at java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:161)\r\n        at java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:150)\r\n        at java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:146)\r\n        at java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:138)\r\n        at java.awt.EventDispatchThread.run(EventDispatchThread.java:91)\r\n\r\n&quot;AWT-Windows&quot; daemon prio=6 tid=0x0000000009dc6800 nid=0x26dc runnable [0x000000000b80f000]\r\n    java.lang.Thread.State: RUNNABLE\r\n        at sun.awt.windows.WToolkit.eventLoop(Native Method)\r\n        at sun.awt.windows.WToolkit.run(WToolkit.java:307)\r\n        at java.lang.Thread.run(Thread.java:745)\r\n\r\n&quot;AWT-Shutdown&quot; prio=6 tid=0x0000000009dc3800 nid=0x11dc in Object.wait() [0x000000000b70f000]\r\n    java.lang.Thread.State: WAITING (on object monitor)\r\n        at java.lang.Object.wait(Native Method)\r\n        - waiting on &lt;0x00000000f3f74aa0&gt; (a java.lang.Object)\r\n        at java.lang.Object.wait(Object.java:503)\r\n        at sun.awt.AWTAutoShutdown.run(AWTAutoShutdown.java:296)\r\n        - locked &lt;0x00000000f3f74aa0&gt; (a java.lang.Object)\r\n        at java.lang.Thread.run(Thread.java:745)\r\n\r\n&quot;Java2D Disposer&quot; daemon prio=10 tid=0x0000000009dc3000 nid=0x1ecc in Object.wait() [0x000000000b60f000]\r\n    java.lang.Thread.State: WAITING (on object monitor)\r\n        at java.lang.Object.wait(Native Method)\r\n        - waiting on &lt;0x00000000f3efed88&gt; (a java.lang.ref.ReferenceQueue$Lock)\r\n        at java.lang.ref.ReferenceQueue.remove(ReferenceQueue.java:135)\r\n        - locked &lt;0x00000000f3efed88&gt; (a java.lang.ref.ReferenceQueue$Lock)\r\n        at java.lang.ref.ReferenceQueue.remove(ReferenceQueue.java:151)\r\n        at sun.java2d.Disposer.run(Disposer.java:145)\r\n        at java.lang.Thread.run(Thread.java:745)\r\n\r\n&quot;Service Thread&quot; daemon prio=6 tid=0x0000000008a9e000 nid=0x1404 runnable [0x000 0000000000000]\r\n    java.lang.Thread.State: RUNNABLE\r\n\r\n&quot;C2 CompilerThread1&quot; daemon prio=10 tid=0x0000000008a9d800 nid=0x1814 waiting on condition [0x0000000000000000]\r\n    java.lang.Thread.State: RUNNABLE\r\n\r\n&quot;C2 CompilerThread0&quot; daemon prio=10 tid=0x0000000008a96800 nid=0x128c waiting on condition [0x0000000000000000]\r\n    java.lang.Thread.State: RUNNABLE\r\n\r\n&quot;Attach Listener&quot; daemon prio=10 tid=0x0000000008a95000 nid=0x2564 runnable [0x0000000000000000]\r\n    java.lang.Thread.State: RUNNABLE\r\n\r\n&quot;Signal Dispatcher&quot; daemon prio=10 tid=0x0000000008a94800 nid=0x24c4 waiting on condition [0x0000000000000000]\r\n    java.lang.Thread.State: RUNNABLE\r\n\r\n&quot;Finalizer&quot; daemon prio=8 tid=0x000000000234b000 nid=0x27a0 in Object.wait() [0x000000000ae4f000]\r\n    java.lang.Thread.State: WAITING (on object monitor)\r\n        at java.lang.Object.wait(Native Method)\r\n        - waiting on &lt;0x00000000ce721080&gt; (a java.lang.ref.ReferenceQueue$Lock)\r\n        at java.lang.ref.ReferenceQueue.remove(ReferenceQueue.java:135)\r\n        - locked &lt;0x00000000ce721080&gt; (a java.lang.ref.ReferenceQueue$Lock)\r\n        at java.lang.ref.ReferenceQueue.remove(ReferenceQueue.java:151)\r\n        at java.lang.ref.Finalizer$FinalizerThread.run(Finalizer.java:189)\r\n\r\n&quot;Reference Handler&quot; daemon prio=10 tid=0x0000000008a80000 nid=0x276c in Object.wait() [0x000000000ad4f000]\r\n    java.lang.Thread.State: WAITING (on object monitor)\r\n        at java.lang.Object.wait(Native Method)\r\n        - waiting on &lt;0x00000000ce6c1ad8&gt; (a java.lang.ref.Reference$Lock)\r\n        at java.lang.Object.wait(Object.java:503)\r\n        at java.lang.ref.Reference$ReferenceHandler.run(Reference.java:133)\r\n        - locked &lt;0x00000000ce6c1ad8&gt; (a java.lang.ref.Reference$Lock)\r\n\r\n&quot;main&quot; prio=6 tid=0x00000000022bb800 nid=0x1f04 waiting on condition [0x0000000000000000]\r\n    java.lang.Thread.State: RUNNABLE\r\n\r\n&quot;VM Thread&quot; prio=10 tid=0x0000000008a7c000 nid=0x27ec runnable &quot;GC task thread#0 (ParallelGC)&quot; prio=6 tid=0x00000000022d1000 nid=0x24d4 runnable\r\n\r\n&quot;GC task thread#1 (ParallelGC)&quot; prio=6 tid=0x00000000022d3800 nid=0x1934 runnable\r\n\r\n&quot;GC task thread#2 (ParallelGC)&quot; prio=6 tid=0x00000000022d5000 nid=0x1d1c runnable\r\n\r\n&quot;GC task thread#3 (ParallelGC)&quot; prio=6 tid=0x00000000022d7000 nid=0x223c runnable\r\n\r\n&quot;GC task thread#4 (ParallelGC)&quot; prio=6 tid=0x00000000022da000 nid=0x260c runnable\r\n\r\n&quot;GC task thread#5 (ParallelGC)&quot; prio=6 tid=0x00000000022db800 nid=0x1544 runnable\r\n\r\n&quot;GC task thread#6 (ParallelGC)&quot; prio=6 tid=0x00000000022dd000 nid=0x1898 runnable\r\n\r\n&quot;GC task thread#7 (ParallelGC)&quot; prio=6 tid=0x00000000022de000 nid=0x1004 runnable\r\n\r\n&quot;VM Periodic Task Thread&quot; prio=10 tid=0x0000000009c64000 nid=0xc4c waiting on condition\r\n\r\nJNI global references: 669\r\n\r\nHeap\r\n  PSYoungGen      total 72704K, used 63022K [0x00000000ef500000,0x00000000f4100000,0x0000000100000000)\r\n    eden space 67584K, 85% used [0x00000000ef500000,0x00000000f2d93858,0x00000000f3700000)\r\n    from space 5120K, 99% used [0x00000000f3c00000,0x00000000f40f8198,0x00000000f4100000)\r\n    to   space 5120K, 0% used [0x00000000f3700000,0x00000000f3700000,0x00000000f3c00000)\r\n  ParOldGen       total 87552K, used 15371K [0x00000000ce000000,0x00000000d3580000,0x00000000ef500000)\r\n    object space 87552K, 17% used [0x00000000ce000000,0x00000000cef02c80,0x00000000d3580000)\r\n  PSPermGen       total 23040K, used 22672K [0x00000000be000000,0x00000000bf680000,0x00000000ce000000)\r\n    object space 23040K, 98% used [0x00000000be000000,0x00000000bf624068,0x00000000bf680000)\r\n```\r\n\r\n  [1]: http://i.stack.imgur.com/QHmsk.png\r\n","title":"Cannot launch SQL Developer 4.0.1","body":"<p>Brand new machine, new install of SQL Developer (x64 w/out JRE), when I try to launch <code>sqldeveloper.exe</code>, it gets stuck at about 10%.</p>\n<p><img src=\"https://i.stack.imgur.com/QHmsk.png\" alt=\"screenshot of Oracle SQL Developer loading stuck at about 10%\" /></p>\n<p>What logs, if any, should I be looking at for errors?</p>\n<p>Version info:</p>\n<ul>\n<li>SQL Developer 4.0.1</li>\n<li>JDK 1.7.0_55</li>\n<li>Windows 7 Professional x64</li>\n</ul>\n<p>I ran <code>sqldeveloper64.exe</code>, and hit <kbd>Ctrl</kbd>+<kbd>Pause/Break</kbd> when the launcher started hanging. This is the output:</p>\n<pre class=\"lang-none prettyprint-override\"><code>2014-04-17 10:26:08 Full thread dump Java HotSpot(TM) 64-Bit Server VM\n(24.55-b03 mixed mode):\n\n&quot;Flushing caches&quot; prio=2 tid=0x000000000cf4b000 nid=0x2408 in Object.wait() [0x00000000104af000]\n    java.lang.Thread.State: TIMED_WAITING (on object monitor)\n        at java.lang.Object.wait(Native Method)\n        - waiting on &lt;0x00000000ce69ea98&gt; (a org.netbeans.Stamps$Worker)\n        at org.netbeans.Stamps$Worker.run(Stamps.java:824)\n        - locked &lt;0x00000000ce69ea98&gt; (a org.netbeans.Stamps$Worker)\n\n&quot;Thread-3&quot; daemon prio=6 tid=0x000000000cf4a000 nid=0x1d60 in Object.wait() [0x000000000e21f000]\n    java.lang.Thread.State: WAITING (on object monitor)\n        at java.lang.Object.wait(Native Method)\n        - waiting on &lt;0x00000000f2053220&gt; (a java.util.LinkedList)\n        at java.lang.Object.wait(Object.java:503)\n        at java.util.prefs.AbstractPreferences$EventDispatchThread.run(AbstractPreferences.java:1476)\n        - locked &lt;0x00000000f2053220&gt; (a java.util.LinkedList)\n\n&quot;Framework Event Dispatcher&quot; daemon prio=6 tid=0x000000000cf49800 nid=0x2744 in Object.wait() [0x000000000e07f000]   \n    java.lang.Thread.State: WAITING (on object monitor)\n        at java.lang.Object.wait(Native Method)\n        - waiting on &lt;0x00000000f4043468&gt; (a org.eclipse.osgi.framework.eventmgr.EventManager$EventThread)\n        at java.lang.Object.wait(Object.java:503)\n        at org.eclipse.osgi.framework.eventmgr.EventManager$EventThread.getNextEvent(EventManager.java:400)\n        - locked &lt;0x00000000f4043468&gt; (a org.eclipse.osgi.framework.eventmgr.EventManager$EventThread)\n        at org.eclipse.osgi.framework.eventmgr.EventManager$EventThread.run(EventManager.java:336)\n\n&quot;State Saver&quot; prio=6 tid=0x000000000cf48800 nid=0x265c in Object.wait() [0x000000000df0f000]\n    java.lang.Thread.State: TIMED_WAITING (on object monitor)\n        at java.lang.Object.wait(Native Method)\n        - waiting on &lt;0x00000000f3c73208&gt; (a org.eclipse.osgi.internal.resolver.SystemState)\n        at org.eclipse.osgi.internal.baseadaptor.BaseStorage$StateSaver.run(BaseStorage.java:1292)\n        - locked &lt;0x00000000f3c73208&gt; (a org.eclipse.osgi.internal.resolver.SystemState)\n        at java.lang.Thread.run(Thread.java:745)\n\n&quot;Framework Active Thread&quot; prio=6 tid=0x000000000cf48000 nid=0x2014 in Object.wait() [0x000000000ddbf000]\n    java.lang.Thread.State: TIMED_WAITING (on object monitor)\n        at java.lang.Object.wait(Native Method)\n        - waiting on &lt;0x00000000f3c704a8&gt; (a org.eclipse.osgi.framework.internal.core.Framework)\n        at org.eclipse.osgi.framework.internal.core.Framework.run(Framework.java:1863)\n        - locked &lt;0x00000000f3c704a8&gt; (a org.eclipse.osgi.framework.internal.core.Framework)\n        at java.lang.Thread.run(Thread.java:745)\n\n&quot;Inactive RequestProcessor thread [Was:Folderrecognizer/org.openide.loaders.FolderList$ListTask]&quot; daemon prio=6 tid=0x000000000cd80000 nid=0x25d8 in Object.wait() [0x000000000dcbf000]\n    java.lang.Thread.State: TIMED_WAITING (on object monitor)\n        at java.lang.Object.wait(Native Method)\n        - waiting on &lt;0x00000000f3f6d648&gt; (a java.lang.Object)\n        at org.openide.util.RequestProcessor$Processor.run(RequestProcessor.java:1989)\n        - locked &lt;0x00000000f3f6d648&gt; (a java.lang.Object)\n\n&quot;RequestProcessor queue manager&quot; daemon prio=6 tid=0x000000000cb5d800 nid=0x2720  in Object.wait() [0x000000000dbbf000]\n    java.lang.Thread.State: TIMED_WAITING (on object monitor)\n        at java.lang.Object.wait(Native Method)\n        - waiting on &lt;0x00000000ce846c20&gt; (a java.lang.Class for org.openide.uti l.RequestProcessor$TickTac)\n        at org.openide.util.RequestProcessor$TickTac.obtainFirst(RequestProcessor.java:2267)\n        - locked &lt;0x00000000ce846c20&gt; (a java.lang.Class for org.openide.util.Re questProcessor$TickTac)\n        at org.openide.util.RequestProcessor$TickTac.run(RequestProcessor.java:2243)\n\n&quot;Inactive RequestProcessor thread [Was:NbStatusDisplayer/org.netbeans.core.NbStatusDisplayer$MessageImpl]&quot; daemon prio=2 tid=0x000000000cc08000 nid=0x27dc in Object.wait() [0x000000000d9bf000]\n    java.lang.Thread.State: TIMED_WAITING (on object monitor)\n        at java.lang.Object.wait(Native Method)\n        - waiting on &lt;0x00000000f3de60d8&gt; (a java.lang.Object)\n        at org.openide.util.RequestProcessor$Processor.run(RequestProcessor.java:1989)\n        - locked &lt;0x00000000f3de60d8&gt; (a java.lang.Object)\n\n&quot;CLI Requests Server&quot; daemon prio=6 tid=0x000000000cb61000 nid=0x1c3c runnable [0x000000000d8bf000]\n    java.lang.Thread.State: RUNNABLE\n        at java.net.DualStackPlainSocketImpl.accept0(Native Method)\n        at java.net.DualStackPlainSocketImpl.socketAccept(DualStackPlainSocketImpl.java:131)\n        at java.net.AbstractPlainSocketImpl.accept(AbstractPlainSocketImpl.java:398)\n        at java.net.PlainSocketImpl.accept(PlainSocketImpl.java:198)\n        - locked &lt;0x00000000f40426e8&gt; (a java.net.SocksSocketImpl)\n        at java.net.ServerSocket.implAccept(ServerSocket.java:530)\n        at java.net.ServerSocket.accept(ServerSocket.java:498)\n        at org.netbeans.CLIHandler$Server.run(CLIHandler.java:1100)\n\n&quot;Active Reference Queue Daemon&quot; daemon prio=2 tid=0x000000000cb8a800 nid=0x23bc in Object.wait() [0x000000000d5cf000]\n    java.lang.Thread.State: TIMED_WAITING (on object monitor)\n        at java.lang.Object.wait(Native Method)\n        - waiting on &lt;0x00000000f3c4a298&gt; (a java.lang.ref.ReferenceQueue$Lock)\n        at java.lang.ref.ReferenceQueue.remove(ReferenceQueue.java:135)\n        - locked &lt;0x00000000f3c4a298&gt; (a java.lang.ref.ReferenceQueue$Lock)\n        at org.openide.util.lookup.implspi.ActiveQueue$Daemon.run(ActiveQueue.java:180)\n        - locked &lt;0x00000000f3c4a298&gt; (a java.lang.ref.ReferenceQueue$Lock)\n\n&quot;TimerQueue&quot; daemon prio=6 tid=0x0000000009ebf800 nid=0x1f64 waiting on condition [0x000000000d3cf000]\n    java.lang.Thread.State: TIMED_WAITING (parking)\n        at sun.misc.Unsafe.park(Native Method)\n        - parking to wait for  &lt;0x00000000f3f6df90&gt; (a java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject)\n        at java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:226)\n        at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2082)\n        at java.util.concurrent.DelayQueue.take(DelayQueue.java:220)\n        at javax.swing.TimerQueue.run(TimerQueue.java:171)\n        at java.lang.Thread.run(Thread.java:745)\n\n&quot;AWT-EventQueue-0&quot; prio=6 tid=0x0000000009dc7800 nid=0xe14 waiting on condition [0x000000000baef000]\n    java.lang.Thread.State: WAITING (parking)\n        at sun.misc.Unsafe.park(Native Method)\n        - parking to wait for  &lt;0x00000000f3f79a30&gt; (a java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject)\n        at java.util.concurrent.locks.LockSupport.park(LockSupport.java:186)\n        at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:2043)\n        at java.awt.EventQueue.getNextEvent(EventQueue.java:543)\n        at java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:211)\n        at java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:161)\n        at java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:150)\n        at java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:146)\n        at java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:138)\n        at java.awt.EventDispatchThread.run(EventDispatchThread.java:91)\n\n&quot;AWT-Windows&quot; daemon prio=6 tid=0x0000000009dc6800 nid=0x26dc runnable [0x000000000b80f000]\n    java.lang.Thread.State: RUNNABLE\n        at sun.awt.windows.WToolkit.eventLoop(Native Method)\n        at sun.awt.windows.WToolkit.run(WToolkit.java:307)\n        at java.lang.Thread.run(Thread.java:745)\n\n&quot;AWT-Shutdown&quot; prio=6 tid=0x0000000009dc3800 nid=0x11dc in Object.wait() [0x000000000b70f000]\n    java.lang.Thread.State: WAITING (on object monitor)\n        at java.lang.Object.wait(Native Method)\n        - waiting on &lt;0x00000000f3f74aa0&gt; (a java.lang.Object)\n        at java.lang.Object.wait(Object.java:503)\n        at sun.awt.AWTAutoShutdown.run(AWTAutoShutdown.java:296)\n        - locked &lt;0x00000000f3f74aa0&gt; (a java.lang.Object)\n        at java.lang.Thread.run(Thread.java:745)\n\n&quot;Java2D Disposer&quot; daemon prio=10 tid=0x0000000009dc3000 nid=0x1ecc in Object.wait() [0x000000000b60f000]\n    java.lang.Thread.State: WAITING (on object monitor)\n        at java.lang.Object.wait(Native Method)\n        - waiting on &lt;0x00000000f3efed88&gt; (a java.lang.ref.ReferenceQueue$Lock)\n        at java.lang.ref.ReferenceQueue.remove(ReferenceQueue.java:135)\n        - locked &lt;0x00000000f3efed88&gt; (a java.lang.ref.ReferenceQueue$Lock)\n        at java.lang.ref.ReferenceQueue.remove(ReferenceQueue.java:151)\n        at sun.java2d.Disposer.run(Disposer.java:145)\n        at java.lang.Thread.run(Thread.java:745)\n\n&quot;Service Thread&quot; daemon prio=6 tid=0x0000000008a9e000 nid=0x1404 runnable [0x000 0000000000000]\n    java.lang.Thread.State: RUNNABLE\n\n&quot;C2 CompilerThread1&quot; daemon prio=10 tid=0x0000000008a9d800 nid=0x1814 waiting on condition [0x0000000000000000]\n    java.lang.Thread.State: RUNNABLE\n\n&quot;C2 CompilerThread0&quot; daemon prio=10 tid=0x0000000008a96800 nid=0x128c waiting on condition [0x0000000000000000]\n    java.lang.Thread.State: RUNNABLE\n\n&quot;Attach Listener&quot; daemon prio=10 tid=0x0000000008a95000 nid=0x2564 runnable [0x0000000000000000]\n    java.lang.Thread.State: RUNNABLE\n\n&quot;Signal Dispatcher&quot; daemon prio=10 tid=0x0000000008a94800 nid=0x24c4 waiting on condition [0x0000000000000000]\n    java.lang.Thread.State: RUNNABLE\n\n&quot;Finalizer&quot; daemon prio=8 tid=0x000000000234b000 nid=0x27a0 in Object.wait() [0x000000000ae4f000]\n    java.lang.Thread.State: WAITING (on object monitor)\n        at java.lang.Object.wait(Native Method)\n        - waiting on &lt;0x00000000ce721080&gt; (a java.lang.ref.ReferenceQueue$Lock)\n        at java.lang.ref.ReferenceQueue.remove(ReferenceQueue.java:135)\n        - locked &lt;0x00000000ce721080&gt; (a java.lang.ref.ReferenceQueue$Lock)\n        at java.lang.ref.ReferenceQueue.remove(ReferenceQueue.java:151)\n        at java.lang.ref.Finalizer$FinalizerThread.run(Finalizer.java:189)\n\n&quot;Reference Handler&quot; daemon prio=10 tid=0x0000000008a80000 nid=0x276c in Object.wait() [0x000000000ad4f000]\n    java.lang.Thread.State: WAITING (on object monitor)\n        at java.lang.Object.wait(Native Method)\n        - waiting on &lt;0x00000000ce6c1ad8&gt; (a java.lang.ref.Reference$Lock)\n        at java.lang.Object.wait(Object.java:503)\n        at java.lang.ref.Reference$ReferenceHandler.run(Reference.java:133)\n        - locked &lt;0x00000000ce6c1ad8&gt; (a java.lang.ref.Reference$Lock)\n\n&quot;main&quot; prio=6 tid=0x00000000022bb800 nid=0x1f04 waiting on condition [0x0000000000000000]\n    java.lang.Thread.State: RUNNABLE\n\n&quot;VM Thread&quot; prio=10 tid=0x0000000008a7c000 nid=0x27ec runnable &quot;GC task thread#0 (ParallelGC)&quot; prio=6 tid=0x00000000022d1000 nid=0x24d4 runnable\n\n&quot;GC task thread#1 (ParallelGC)&quot; prio=6 tid=0x00000000022d3800 nid=0x1934 runnable\n\n&quot;GC task thread#2 (ParallelGC)&quot; prio=6 tid=0x00000000022d5000 nid=0x1d1c runnable\n\n&quot;GC task thread#3 (ParallelGC)&quot; prio=6 tid=0x00000000022d7000 nid=0x223c runnable\n\n&quot;GC task thread#4 (ParallelGC)&quot; prio=6 tid=0x00000000022da000 nid=0x260c runnable\n\n&quot;GC task thread#5 (ParallelGC)&quot; prio=6 tid=0x00000000022db800 nid=0x1544 runnable\n\n&quot;GC task thread#6 (ParallelGC)&quot; prio=6 tid=0x00000000022dd000 nid=0x1898 runnable\n\n&quot;GC task thread#7 (ParallelGC)&quot; prio=6 tid=0x00000000022de000 nid=0x1004 runnable\n\n&quot;VM Periodic Task Thread&quot; prio=10 tid=0x0000000009c64000 nid=0xc4c waiting on condition\n\nJNI global references: 669\n\nHeap\n  PSYoungGen      total 72704K, used 63022K [0x00000000ef500000,0x00000000f4100000,0x0000000100000000)\n    eden space 67584K, 85% used [0x00000000ef500000,0x00000000f2d93858,0x00000000f3700000)\n    from space 5120K, 99% used [0x00000000f3c00000,0x00000000f40f8198,0x00000000f4100000)\n    to   space 5120K, 0% used [0x00000000f3700000,0x00000000f3700000,0x00000000f3c00000)\n  ParOldGen       total 87552K, used 15371K [0x00000000ce000000,0x00000000d3580000,0x00000000ef500000)\n    object space 87552K, 17% used [0x00000000ce000000,0x00000000cef02c80,0x00000000d3580000)\n  PSPermGen       total 23040K, used 22672K [0x00000000be000000,0x00000000bf680000,0x00000000ce000000)\n    object space 23040K, 98% used [0x00000000be000000,0x00000000bf624068,0x00000000bf680000)\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":4228398,"reputation":17727,"user_id":3461397,"display_name":"Oleg Cherednik"},"score":0,"creation_date":1700474848,"post_id":77514933,"comment_id":136654735,"body_markdown":"You have to use **two pointers**. One from the left and one from the right. Then move them until `sumLeft == sumRight`.","body":"You have to use <b>two pointers</b>. One from the left and one from the right. Then move them until <code>sumLeft == sumRight</code>."},{"owner":{"account_id":29947432,"reputation":5,"user_id":22950395,"display_name":"Clevelan"},"score":0,"creation_date":1700474901,"post_id":77514933,"comment_id":136654746,"body_markdown":"It didnt always use all the numbers, it can be like this","body":"It didnt always use all the numbers, it can be like this"},{"owner":{"account_id":29947432,"reputation":5,"user_id":22950395,"display_name":"Clevelan"},"score":0,"creation_date":1700474917,"post_id":77514933,"comment_id":136654750,"body_markdown":"If input is 3 5 5 5 then output is 5","body":"If input is 3 5 5 5 then output is 5"},{"owner":{"account_id":29947432,"reputation":5,"user_id":22950395,"display_name":"Clevelan"},"score":0,"creation_date":1700475007,"post_id":77514933,"comment_id":136654770,"body_markdown":"Or be like this if input is 1 2 2 3 4 6 6 10 then the output is 16 which is total of 1 2 3 4 6 and 10 6 without using the second number of 2","body":"Or be like this if input is 1 2 2 3 4 6 6 10 then the output is 16 which is total of 1 2 3 4 6 and 10 6 without using the second number of 2"},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1700475265,"post_id":77514933,"comment_id":136654819,"body_markdown":"So you need to take two power sets and test each combination.  2^n+1 time, I think, which is pretty much impossible except for any thing artificially constructed.","body":"So you need to take two power sets and test each combination.  2^n+1 time, I think, which is pretty much impossible except for any thing artificially constructed."},{"owner":{"account_id":29947432,"reputation":5,"user_id":22950395,"display_name":"Clevelan"},"score":0,"creation_date":1700475711,"post_id":77514933,"comment_id":136654896,"body_markdown":"Yeah i already try that but it takes so many time when there are 20 or more logs that have their own length because you need to loop 2^20 +1 times","body":"Yeah i already try that but it takes so many time when there are 20 or more logs that have their own length because you need to loop 2^20 +1 times"},{"owner":{"account_id":29947432,"reputation":5,"user_id":22950395,"display_name":"Clevelan"},"score":0,"creation_date":1700475741,"post_id":77514933,"comment_id":136654899,"body_markdown":"Is there another solution to make it faster?","body":"Is there another solution to make it faster?"}],"owner":{"account_id":29947432,"reputation":5,"user_id":22950395,"display_name":"Clevelan"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":5,"up_vote_count":1,"answer_count":0,"score":-4,"last_activity_date":1700477667,"creation_date":1700474516,"question_id":77514933,"body_markdown":"Given the first input containing the number of logs, then given the length of each log. You want to shape the wood into 2 billboard legs with the same length. How to solve it in java?\r\nHere is some test case\r\n\r\n    Input\r\n    4\r\n    1 2 3 6\r\n    Output\r\n    6\r\n\r\nOutput is 6 because the first foot is total of 1 2 3 and the second foot is 6\r\n\r\nI tried using recursive solution to search some combination of the input and check where is the combination that give a pair of max sum, but it takes some long time when the input is 20 or more\r\n","title":"Search a pair with same total sum","body":"<p>Given the first input containing the number of logs, then given the length of each log. You want to shape the wood into 2 billboard legs with the same length. How to solve it in java?\nHere is some test case</p>\n<pre><code>Input\n4\n1 2 3 6\nOutput\n6\n</code></pre>\n<p>Output is 6 because the first foot is total of 1 2 3 and the second foot is 6</p>\n<p>I tried using recursive solution to search some combination of the input and check where is the combination that give a pair of max sum, but it takes some long time when the input is 20 or more</p>\n"},{"tags":["java","spring-boot","jasper-reports","report"],"owner":{"account_id":1306536,"reputation":2406,"user_id":1255433,"accept_rate":63,"display_name":"pappu_kutty"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":0,"score":-1,"last_activity_date":1700477169,"creation_date":1700477169,"question_id":77515229,"body_markdown":"i have hashmap with below structure which i need to iterate over and over with subreport.\r\n\r\n\r\n    Map&lt;customObject, List&lt;Map&lt;customObject, List&lt;object&gt;&gt; \r\n\r\nbased on top level map count, i need to iterate and print as many subreports in jasper.\r\n\r\nFor\r\n\r\n       customObject1, List&lt;Map&lt;object1, List&lt;object&gt;\r\n       customObject2, List&lt;Map&lt;object2, List&lt;object&gt;\r\n       customObject3, List&lt;Map&lt;object3, List&lt;object&gt;\r\n\r\ni have total 3 objects, and inside each i have list of map which will be printed in subreport in tabular format.\r\n\r\nbelow code actual code  which added as datasource and accessed in jasper.\r\n\t\t\r\n\r\n    Map&lt;FuelTypeMO, List&lt;Map&lt;DailySaleDateFuelTypeKeyMO, List&lt;DailyFuelSalesMO&gt;&gt;&gt;&gt; sortedMap = new TreeMap&lt;&gt;(\r\n    \t\t\t\tfuelSalesReportMO.getDailyFuelSalesMap());\r\n    \t\tSet&lt;Entry&lt;FuelTypeMO, List&lt;Map&lt;DailySaleDateFuelTypeKeyMO, List&lt;DailyFuelSalesMO&gt;&gt;&gt;&gt;&gt; set = sortedMap\r\n    \t\t\t\t.entrySet();\r\n    \t\tfuelSalesDataSource = new JRBeanCollectionDataSource(set);\r\n\r\nhow to iterate top level map and print list of map items in subreport. ","title":"iterate complex hashmap in jasper subreport","body":"<p>i have hashmap with below structure which i need to iterate over and over with subreport.</p>\n<pre><code>Map&lt;customObject, List&lt;Map&lt;customObject, List&lt;object&gt;&gt; \n</code></pre>\n<p>based on top level map count, i need to iterate and print as many subreports in jasper.</p>\n<p>For</p>\n<pre><code>   customObject1, List&lt;Map&lt;object1, List&lt;object&gt;\n   customObject2, List&lt;Map&lt;object2, List&lt;object&gt;\n   customObject3, List&lt;Map&lt;object3, List&lt;object&gt;\n</code></pre>\n<p>i have total 3 objects, and inside each i have list of map which will be printed in subreport in tabular format.</p>\n<p>below code actual code  which added as datasource and accessed in jasper.</p>\n<pre><code>Map&lt;FuelTypeMO, List&lt;Map&lt;DailySaleDateFuelTypeKeyMO, List&lt;DailyFuelSalesMO&gt;&gt;&gt;&gt; sortedMap = new TreeMap&lt;&gt;(\n                fuelSalesReportMO.getDailyFuelSalesMap());\n        Set&lt;Entry&lt;FuelTypeMO, List&lt;Map&lt;DailySaleDateFuelTypeKeyMO, List&lt;DailyFuelSalesMO&gt;&gt;&gt;&gt;&gt; set = sortedMap\n                .entrySet();\n        fuelSalesDataSource = new JRBeanCollectionDataSource(set);\n</code></pre>\n<p>how to iterate top level map and print list of map items in subreport.</p>\n"},{"tags":["java","android-studio"],"answers":[{"tags":[],"owner":{"account_id":2664106,"reputation":185,"user_id":2303069,"display_name":"Clint William Theron"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700476878,"creation_date":1700476878,"answer_id":77515198,"question_id":77486223,"body_markdown":"It was actually an easy one. All it took was to stop the camera source and start it again. See code below for more details:\r\n````\r\nprivate void startTorch() {\r\n        // torch, from cmera2, needs to start with scanner camera\r\n        if (ActivityCompat.checkSelfPermission(\r\n                getApplicationContext(), Manifest.permission.CAMERA) != PackageManager.PERMISSION_GRANTED) {\r\n            ActivityCompat.requestPermissions(MainActivity.this, new String[]{Manifest.permission.CAMERA},\r\n                    RequestCameraPermission);\r\n        }\r\n        try {\r\n            cameraSource.stop();\r\n            mCameraManager.setTorchMode(mCameraId, true);\r\n            isTorchOn = true;\r\n            cameraSource.start(cameraView.getHolder());\r\n        } catch (CameraAccessException e) {\r\n            helper.showAlert(this, &quot;Starting Camera Error&quot;, e.getMessage());\r\n        } catch (IOException ex) {\r\n            helper.showAlert(this, &quot;Starting Camera Error&quot;, ex.getMessage());\r\n        }\r\n    }\r\n    private void stopTorch() {\r\n        if (ActivityCompat.checkSelfPermission(\r\n                getApplicationContext(), Manifest.permission.CAMERA) != PackageManager.PERMISSION_GRANTED) {\r\n            ActivityCompat.requestPermissions(MainActivity.this, new String[]{Manifest.permission.CAMERA},\r\n                    RequestCameraPermission);\r\n        }\r\n        try {\r\n            cameraSource.stop();\r\n            mCameraManager.setTorchMode(mCameraId, false);\r\n            isTorchOn = false;\r\n            cameraSource.start(cameraView.getHolder());\r\n        } catch (CameraAccessException e) {\r\n            helper.showAlert(this, &quot;Starting Camera Error&quot;, e.getMessage());\r\n        } catch (IOException ex) {\r\n            helper.showAlert(this, &quot;Starting Camera Error&quot;, ex.getMessage());\r\n        }\r\n    }\r\n````","title":"How to turn Flash Light On/Off using Mobile Vision API?","body":"<p>It was actually an easy one. All it took was to stop the camera source and start it again. See code below for more details:</p>\n<pre><code>private void startTorch() {\n        // torch, from cmera2, needs to start with scanner camera\n        if (ActivityCompat.checkSelfPermission(\n                getApplicationContext(), Manifest.permission.CAMERA) != PackageManager.PERMISSION_GRANTED) {\n            ActivityCompat.requestPermissions(MainActivity.this, new String[]{Manifest.permission.CAMERA},\n                    RequestCameraPermission);\n        }\n        try {\n            cameraSource.stop();\n            mCameraManager.setTorchMode(mCameraId, true);\n            isTorchOn = true;\n            cameraSource.start(cameraView.getHolder());\n        } catch (CameraAccessException e) {\n            helper.showAlert(this, &quot;Starting Camera Error&quot;, e.getMessage());\n        } catch (IOException ex) {\n            helper.showAlert(this, &quot;Starting Camera Error&quot;, ex.getMessage());\n        }\n    }\n    private void stopTorch() {\n        if (ActivityCompat.checkSelfPermission(\n                getApplicationContext(), Manifest.permission.CAMERA) != PackageManager.PERMISSION_GRANTED) {\n            ActivityCompat.requestPermissions(MainActivity.this, new String[]{Manifest.permission.CAMERA},\n                    RequestCameraPermission);\n        }\n        try {\n            cameraSource.stop();\n            mCameraManager.setTorchMode(mCameraId, false);\n            isTorchOn = false;\n            cameraSource.start(cameraView.getHolder());\n        } catch (CameraAccessException e) {\n            helper.showAlert(this, &quot;Starting Camera Error&quot;, e.getMessage());\n        } catch (IOException ex) {\n            helper.showAlert(this, &quot;Starting Camera Error&quot;, ex.getMessage());\n        }\n    }\n</code></pre>\n"}],"owner":{"account_id":2664106,"reputation":185,"user_id":2303069,"display_name":"Clint William Theron"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1700476878,"creation_date":1700037509,"question_id":77486223,"body_markdown":"I&#39;m using mobile vision to recognize text on images. This is pretty much my MainActivity:  \r\n````\r\npackage com.usama.textrecognitionbycamera;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.core.app.ActivityCompat;\r\n\r\nimport android.Manifest;\r\nimport android.content.pm.PackageManager;\r\nimport android.os.Bundle;\r\nimport android.util.Log;\r\nimport android.util.SparseArray;\r\nimport android.view.SurfaceHolder;\r\nimport android.view.SurfaceView;\r\nimport android.widget.TextView;\r\n\r\nimport com.google.android.gms.vision.CameraSource;\r\nimport com.google.android.gms.vision.Detector;\r\nimport com.google.android.gms.vision.text.TextBlock;\r\nimport com.google.android.gms.vision.text.TextRecognizer;\r\n\r\nimport java.io.IOException;\r\n\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n    // welcome ..\r\n    SurfaceView cameraView;\r\n    TextView textView;\r\n    CameraSource cameraSource;\r\n\r\n    final int RequestCameraPermission = 1001;\r\n\r\n\r\n    // 3\r\n    @Override\r\n    public void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\r\n        switch (requestCode) {\r\n            case RequestCameraPermission: {\r\n                if (grantResults[0] == PackageManager.PERMISSION_GRANTED) {\r\n                    if (ActivityCompat.checkSelfPermission(this, Manifest.permission.CAMERA) != PackageManager.PERMISSION_GRANTED) {\r\n                        return;\r\n                    }\r\n                    try {\r\n                        cameraSource.start(cameraView.getHolder());\r\n                    } catch (IOException e) {\r\n                        e.printStackTrace();\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n\r\n    @Override\r\n    protected void onCreate(final Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        cameraView = findViewById(R.id.surface_view);\r\n        textView = findViewById(R.id.text_view);\r\n\r\n\r\n        // 1\r\n        final TextRecognizer textRecognizer = new TextRecognizer.Builder(getApplicationContext()).build();\r\n        if (!textRecognizer.isOperational()) {\r\n            Log.w(&quot;MainActivity&quot;, &quot;Detected dependence are not found &quot;);\r\n        } else {\r\n            cameraSource = new CameraSource.Builder(getApplicationContext(), textRecognizer)\r\n                    .setFacing(CameraSource.CAMERA_FACING_BACK)\r\n                    .setRequestedPreviewSize(1280, 1024)\r\n                    .setRequestedFps(2.0f)\r\n                    .setAutoFocusEnabled(true)\r\n                    .build();\r\n\r\n            // 2\r\n            cameraView.getHolder().addCallback(new SurfaceHolder.Callback() {\r\n                @Override\r\n                public void surfaceCreated(SurfaceHolder holder) {\r\n                    try {\r\n                        if (ActivityCompat.checkSelfPermission(getApplicationContext(),Manifest.permission.CAMERA) != PackageManager.PERMISSION_GRANTED){\r\n                            ActivityCompat.requestPermissions(MainActivity.this,new String[]{Manifest.permission.CAMERA},\r\n                                    RequestCameraPermission);\r\n                        }\r\n                        cameraSource.start(cameraView.getHolder());\r\n                    } catch (IOException e) {\r\n                        e.printStackTrace();\r\n                    }\r\n                }\r\n\r\n                @Override\r\n                public void surfaceChanged(SurfaceHolder holder, int format, int width, int height) {\r\n\r\n                }\r\n\r\n                @Override\r\n                public void surfaceDestroyed(SurfaceHolder holder) {\r\n                    cameraSource.stop();\r\n                }\r\n            });\r\n\r\n\r\n            // 4\r\n            textRecognizer.setProcessor(new Detector.Processor&lt;TextBlock&gt;() {\r\n                @Override\r\n                public void release() {\r\n\r\n                }\r\n\r\n                @Override\r\n                public void receiveDetections(Detector.Detections&lt;TextBlock&gt; detections) {\r\n                    final SparseArray&lt;TextBlock&gt; items = detections.getDetectedItems();\r\n                    if (items.size() != 0 ){\r\n                        textView.post(new Runnable() {\r\n                            @Override\r\n                            public void run() {\r\n                                StringBuilder stringBuilder = new StringBuilder();\r\n                                for (int i = 0 ;i &lt; items.size();i++){\r\n                                    TextBlock item = items.valueAt(i);\r\n                                    stringBuilder.append(item.getValue());\r\n                                    stringBuilder.append(&quot;\\n&quot;);\r\n                                }\r\n                                textView.setText(stringBuilder.toString());\r\n                                Log.d(&quot;Text&quot;,stringBuilder.toString());\r\n                            }\r\n                        });\r\n                    }\r\n                }\r\n            });\r\n        }\r\n    }\r\n}\r\n````\r\nactivity_main.xml  \r\n````\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    android:padding=&quot;16dp&quot;\r\n    tools:context=&quot;.MainActivity&quot;&gt;\r\n\r\n    &lt;SurfaceView\r\n        android:id=&quot;@+id/surface_view&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot; /&gt;\r\n\r\n    &lt;TextView\r\n        android:id=&quot;@+id/text_view&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_alignParentBottom=&quot;true&quot;\r\n        android:textColor=&quot;#CE3030&quot;\r\n        android:textSize=&quot;24sp&quot;\r\n        android:text=&quot;no text&quot;/&gt;\r\n\r\n&lt;/RelativeLayout&gt;\r\n````  \r\nI request camera permission in the manifest and here&#39;s the vision lib implementation:  \r\n````\r\nimplementation &#39;com.google.android.gms:play-services-vision:19.0.0&#39;  \r\n````  \r\nNow, the documents doesn&#39;t say anything about using the flash light so I tried to improvise by using the camera manager from:  \r\n````\r\nandroid.hardware.camera2.CameraManager\r\n````\r\nI initialize the camera manager in onCreate:  \r\n````\r\nmCameraManager = (CameraManager) getSystemService(Context.CAMERA_SERVICE);\r\ntry {\r\n    mCameraId = mCameraManager.getCameraIdList()[0];\r\n} catch (CameraAccessException e) {\r\n    e.printStackTrace();\r\n}\r\n````\r\nand switching the flash light on in the surfaceCreated callback of cameraView.getHolder() like so  \r\n````\r\ntry {\r\n    mCameraManager.setTorchMode(mCameraId, true);\r\n} catch (CameraAccessException e) {\r\n    e.printStackTrace();\r\n}\r\n````\r\nAnd, guess what, I turned on the flash light but now I&#39;m unable to turn it off. I tried with setTorchMode(mCameraId, false) but no luck. I want it to toggle between on and off. I&#39;m guessing I have two connections (CameraSource and CameraManager) to the camera source, so I&#39;m able to turn it on but not off since  the vision mobile api is using it.\r\n  \r\nAny workaround here? \r\n","title":"How to turn Flash Light On/Off using Mobile Vision API?","body":"<p>I'm using mobile vision to recognize text on images. This is pretty much my MainActivity:</p>\n<pre><code>package com.usama.textrecognitionbycamera;\n\nimport androidx.annotation.NonNull;\nimport androidx.appcompat.app.AppCompatActivity;\nimport androidx.core.app.ActivityCompat;\n\nimport android.Manifest;\nimport android.content.pm.PackageManager;\nimport android.os.Bundle;\nimport android.util.Log;\nimport android.util.SparseArray;\nimport android.view.SurfaceHolder;\nimport android.view.SurfaceView;\nimport android.widget.TextView;\n\nimport com.google.android.gms.vision.CameraSource;\nimport com.google.android.gms.vision.Detector;\nimport com.google.android.gms.vision.text.TextBlock;\nimport com.google.android.gms.vision.text.TextRecognizer;\n\nimport java.io.IOException;\n\npublic class MainActivity extends AppCompatActivity {\n\n    // welcome ..\n    SurfaceView cameraView;\n    TextView textView;\n    CameraSource cameraSource;\n\n    final int RequestCameraPermission = 1001;\n\n\n    // 3\n    @Override\n    public void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\n        switch (requestCode) {\n            case RequestCameraPermission: {\n                if (grantResults[0] == PackageManager.PERMISSION_GRANTED) {\n                    if (ActivityCompat.checkSelfPermission(this, Manifest.permission.CAMERA) != PackageManager.PERMISSION_GRANTED) {\n                        return;\n                    }\n                    try {\n                        cameraSource.start(cameraView.getHolder());\n                    } catch (IOException e) {\n                        e.printStackTrace();\n                    }\n                }\n            }\n        }\n    }\n\n\n\n    @Override\n    protected void onCreate(final Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        cameraView = findViewById(R.id.surface_view);\n        textView = findViewById(R.id.text_view);\n\n\n        // 1\n        final TextRecognizer textRecognizer = new TextRecognizer.Builder(getApplicationContext()).build();\n        if (!textRecognizer.isOperational()) {\n            Log.w(&quot;MainActivity&quot;, &quot;Detected dependence are not found &quot;);\n        } else {\n            cameraSource = new CameraSource.Builder(getApplicationContext(), textRecognizer)\n                    .setFacing(CameraSource.CAMERA_FACING_BACK)\n                    .setRequestedPreviewSize(1280, 1024)\n                    .setRequestedFps(2.0f)\n                    .setAutoFocusEnabled(true)\n                    .build();\n\n            // 2\n            cameraView.getHolder().addCallback(new SurfaceHolder.Callback() {\n                @Override\n                public void surfaceCreated(SurfaceHolder holder) {\n                    try {\n                        if (ActivityCompat.checkSelfPermission(getApplicationContext(),Manifest.permission.CAMERA) != PackageManager.PERMISSION_GRANTED){\n                            ActivityCompat.requestPermissions(MainActivity.this,new String[]{Manifest.permission.CAMERA},\n                                    RequestCameraPermission);\n                        }\n                        cameraSource.start(cameraView.getHolder());\n                    } catch (IOException e) {\n                        e.printStackTrace();\n                    }\n                }\n\n                @Override\n                public void surfaceChanged(SurfaceHolder holder, int format, int width, int height) {\n\n                }\n\n                @Override\n                public void surfaceDestroyed(SurfaceHolder holder) {\n                    cameraSource.stop();\n                }\n            });\n\n\n            // 4\n            textRecognizer.setProcessor(new Detector.Processor&lt;TextBlock&gt;() {\n                @Override\n                public void release() {\n\n                }\n\n                @Override\n                public void receiveDetections(Detector.Detections&lt;TextBlock&gt; detections) {\n                    final SparseArray&lt;TextBlock&gt; items = detections.getDetectedItems();\n                    if (items.size() != 0 ){\n                        textView.post(new Runnable() {\n                            @Override\n                            public void run() {\n                                StringBuilder stringBuilder = new StringBuilder();\n                                for (int i = 0 ;i &lt; items.size();i++){\n                                    TextBlock item = items.valueAt(i);\n                                    stringBuilder.append(item.getValue());\n                                    stringBuilder.append(&quot;\\n&quot;);\n                                }\n                                textView.setText(stringBuilder.toString());\n                                Log.d(&quot;Text&quot;,stringBuilder.toString());\n                            }\n                        });\n                    }\n                }\n            });\n        }\n    }\n}\n</code></pre>\n<p>activity_main.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:padding=&quot;16dp&quot;\n    tools:context=&quot;.MainActivity&quot;&gt;\n\n    &lt;SurfaceView\n        android:id=&quot;@+id/surface_view&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot; /&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/text_view&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_alignParentBottom=&quot;true&quot;\n        android:textColor=&quot;#CE3030&quot;\n        android:textSize=&quot;24sp&quot;\n        android:text=&quot;no text&quot;/&gt;\n\n&lt;/RelativeLayout&gt;\n</code></pre>\n<p>I request camera permission in the manifest and here's the vision lib implementation:</p>\n<pre><code>implementation 'com.google.android.gms:play-services-vision:19.0.0'  \n</code></pre>\n<p>Now, the documents doesn't say anything about using the flash light so I tried to improvise by using the camera manager from:</p>\n<pre><code>android.hardware.camera2.CameraManager\n</code></pre>\n<p>I initialize the camera manager in onCreate:</p>\n<pre><code>mCameraManager = (CameraManager) getSystemService(Context.CAMERA_SERVICE);\ntry {\n    mCameraId = mCameraManager.getCameraIdList()[0];\n} catch (CameraAccessException e) {\n    e.printStackTrace();\n}\n</code></pre>\n<p>and switching the flash light on in the surfaceCreated callback of cameraView.getHolder() like so</p>\n<pre><code>try {\n    mCameraManager.setTorchMode(mCameraId, true);\n} catch (CameraAccessException e) {\n    e.printStackTrace();\n}\n</code></pre>\n<p>And, guess what, I turned on the flash light but now I'm unable to turn it off. I tried with setTorchMode(mCameraId, false) but no luck. I want it to toggle between on and off. I'm guessing I have two connections (CameraSource and CameraManager) to the camera source, so I'm able to turn it on but not off since  the vision mobile api is using it.</p>\n<p>Any workaround here?</p>\n"},{"tags":["java","ms-word","apache-poi","bookmarks","xwpf"],"answers":[{"tags":[],"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1510156195,"creation_date":1510156195,"answer_id":47184002,"question_id":47182971,"body_markdown":"This is not implemented in high level classes of `apache poi` until now. Therefore low level [CTP](http://grepcode.com/file/repo1.maven.org/maven2/org.apache.poi/ooxml-schemas/1.1/org/openxmlformats/schemas/wordprocessingml/x2006/main/CTP.java) and [CTBookmark](http://grepcode.com/file/repo1.maven.org/maven2/org.apache.poi/ooxml-schemas/1.1/org/openxmlformats/schemas/wordprocessingml/x2006/main/CTBookmark.java) are needed.\r\n\r\nExample:\r\n\r\n\r\n    import java.io.FileOutputStream;\r\n    \r\n    import org.apache.poi.xwpf.usermodel.*;\r\n    \r\n    import org.openxmlformats.schemas.wordprocessingml.x2006.main.CTBookmark;\r\n    \r\n    import java.math.BigInteger;\r\n    \r\n    public class CreateWordBookmark {\r\n    \r\n     public static void main(String[] args) throws Exception {\r\n    \r\n      XWPFDocument document = new XWPFDocument();\r\n    \r\n      XWPFParagraph paragraph = document.createParagraph();\r\n    \r\n      //bookmark before the run\r\n      CTBookmark bookmark = paragraph.getCTP().addNewBookmarkStart();\r\n      bookmark.setName(&quot;before_testing_string&quot;);\r\n      bookmark.setId(BigInteger.valueOf(0));\r\n      paragraph.getCTP().addNewBookmarkEnd().setId(BigInteger.valueOf(0));\r\n    \r\n      //bookmark the run\r\n      bookmark = paragraph.getCTP().addNewBookmarkStart();\r\n      bookmark.setName(&quot;testing_string&quot;);\r\n      bookmark.setId(BigInteger.valueOf(1));\r\n    \r\n      XWPFRun run = paragraph.createRun();\r\n      run.setText(&quot;testing string &quot;);\r\n    \r\n      paragraph.getCTP().addNewBookmarkEnd().setId(BigInteger.valueOf(1));\r\n    \r\n      //bookmark after the run\r\n      bookmark = paragraph.getCTP().addNewBookmarkStart();\r\n      bookmark.setName(&quot;after_testing_string&quot;);\r\n      bookmark.setId(BigInteger.valueOf(2));\r\n      paragraph.getCTP().addNewBookmarkEnd().setId(BigInteger.valueOf(2));\r\n    \r\n      document.write(new FileOutputStream(&quot;CreateWordBookmark.docx&quot;));\r\n      document.close();\r\n    \r\n     }\r\n    }","title":"java poi XWPF word - create bookmark in new document","body":"<p>This is not implemented in high level classes of <code>apache poi</code> until now. Therefore low level <a href=\"http://grepcode.com/file/repo1.maven.org/maven2/org.apache.poi/ooxml-schemas/1.1/org/openxmlformats/schemas/wordprocessingml/x2006/main/CTP.java\" rel=\"nofollow noreferrer\">CTP</a> and <a href=\"http://grepcode.com/file/repo1.maven.org/maven2/org.apache.poi/ooxml-schemas/1.1/org/openxmlformats/schemas/wordprocessingml/x2006/main/CTBookmark.java\" rel=\"nofollow noreferrer\">CTBookmark</a> are needed.</p>\n\n<p>Example:</p>\n\n<pre><code>import java.io.FileOutputStream;\n\nimport org.apache.poi.xwpf.usermodel.*;\n\nimport org.openxmlformats.schemas.wordprocessingml.x2006.main.CTBookmark;\n\nimport java.math.BigInteger;\n\npublic class CreateWordBookmark {\n\n public static void main(String[] args) throws Exception {\n\n  XWPFDocument document = new XWPFDocument();\n\n  XWPFParagraph paragraph = document.createParagraph();\n\n  //bookmark before the run\n  CTBookmark bookmark = paragraph.getCTP().addNewBookmarkStart();\n  bookmark.setName(\"before_testing_string\");\n  bookmark.setId(BigInteger.valueOf(0));\n  paragraph.getCTP().addNewBookmarkEnd().setId(BigInteger.valueOf(0));\n\n  //bookmark the run\n  bookmark = paragraph.getCTP().addNewBookmarkStart();\n  bookmark.setName(\"testing_string\");\n  bookmark.setId(BigInteger.valueOf(1));\n\n  XWPFRun run = paragraph.createRun();\n  run.setText(\"testing string \");\n\n  paragraph.getCTP().addNewBookmarkEnd().setId(BigInteger.valueOf(1));\n\n  //bookmark after the run\n  bookmark = paragraph.getCTP().addNewBookmarkStart();\n  bookmark.setName(\"after_testing_string\");\n  bookmark.setId(BigInteger.valueOf(2));\n  paragraph.getCTP().addNewBookmarkEnd().setId(BigInteger.valueOf(2));\n\n  document.write(new FileOutputStream(\"CreateWordBookmark.docx\"));\n  document.close();\n\n }\n}\n</code></pre>\n"}],"owner":{"account_id":12203801,"reputation":3,"user_id":8907447,"display_name":"pasha mamonov"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2018,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":47184002,"answer_count":1,"score":0,"last_activity_date":1700476527,"creation_date":1510153325,"question_id":47182971,"body_markdown":"Very many examples exist for reading and editing/replacing bookmarks in XWPF word document.\r\nBut I want to create a document and create new bookmarks.\r\nCreate document - no problem:\r\n\r\n    private void createWordDoc() throws IOException {\r\n        XWPFDocument document = new XWPFDocument();\r\n        File tempDocFile = new File(pathName+&quot;\\\\temp.docx&quot;);\r\n        FileOutputStream out = new FileOutputStream(tempDocFile);\r\n        XWPFParagraph paragraph = document.createParagraph();\r\n        XWPFRun run = paragraph.createRun();\r\n        run.setText(&quot;testing string &quot;);\r\n        document.write(out);\r\n        out.close();\r\n        }\r\n\r\nHow can I make a bookmark on text &quot;testing string&quot;?","title":"java poi XWPF word - create bookmark in new document","body":"<p>Very many examples exist for reading and editing/replacing bookmarks in XWPF word document.\nBut I want to create a document and create new bookmarks.\nCreate document - no problem:</p>\n\n<pre><code>private void createWordDoc() throws IOException {\n    XWPFDocument document = new XWPFDocument();\n    File tempDocFile = new File(pathName+\"\\\\temp.docx\");\n    FileOutputStream out = new FileOutputStream(tempDocFile);\n    XWPFParagraph paragraph = document.createParagraph();\n    XWPFRun run = paragraph.createRun();\n    run.setText(\"testing string \");\n    document.write(out);\n    out.close();\n    }\n</code></pre>\n\n<p>How can I make a bookmark on text \"testing string\"?</p>\n"},{"tags":["java","types","casting","integer","long-integer"],"comments":[{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1700424931,"post_id":77512243,"comment_id":136649792,"body_markdown":"`Math.pow()` returns `double`, which canâ€™t hold all the bits of `long`. Use shifts.","body":"<code>Math.pow()</code> returns <code>double</code>, which canâ€™t hold all the bits of <code>long</code>. Use shifts."},{"owner":{"account_id":4180585,"reputation":1,"user_id":3994991,"display_name":"vidyapu sandeep"},"score":0,"creation_date":1700425048,"post_id":77512243,"comment_id":136649817,"body_markdown":"It can&#39;t even hold all the bits of int?","body":"It can&#39;t even hold all the bits of int?"},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":1,"creation_date":1700425841,"post_id":77512243,"comment_id":136649905,"body_markdown":"Off-topic: The primitives have wrapper classes. The wrapper classes have `static` fields for the limits of the primitives. For integer primitives, you can use `MAX_VALUE` and `MIN_VALUE`. For example, `Short.MIN_VALUE`.","body":"Off-topic: The primitives have wrapper classes. The wrapper classes have <code>static</code> fields for the limits of the primitives. For integer primitives, you can use <code>MAX_VALUE</code> and <code>MIN_VALUE</code>. For example, <code>Short.MIN_VALUE</code>."},{"owner":{"account_id":4180585,"reputation":1,"user_id":3994991,"display_name":"vidyapu sandeep"},"score":0,"creation_date":1700571102,"post_id":77512243,"comment_id":136668757,"body_markdown":"@OldDogProgrammer That helped!\nThank you!","body":"@OldDogProgrammer That helped! Thank you!"}],"answers":[{"tags":[],"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1700425354,"creation_date":1700425354,"answer_id":77512353,"question_id":77512243,"body_markdown":"You are converting to the &quot;Integer&quot; types `after` you subtract `1`.  For integers and longs, the floating point value is adjusted for the subtraction of `1` beyond the precision that those types can hold.  So the conversion to int or long does not include that particular difference.\r\n\r\nHere is an example for the long conversion.\r\n```\r\ndouble result1 = Math.pow(2,64-1);\r\ndouble result2 = Math.pow(2,64-1)-1;\r\n\r\nSystem.out.println(result1);\r\nSystem.out.println(result2);\r\nlong bits = Double.doubleToRawLongBits(result1);\r\nSystem.out.println(bits);\r\nSystem.out.println(Long.toBinaryString(bits));\r\nbits = Double.doubleToRawLongBits(result2);\r\nSystem.out.println(bits);\r\nSystem.out.println(Long.toBinaryString(bits));\r\n```\r\nprints\r\n```\r\n9.223372036854776E18\r\n9.223372036854776E18\r\n4890909195324358656\r\n100001111100000000000000000000000000000000000000000000000000000\r\n4890909195324358656\r\n100001111100000000000000000000000000000000000000000000000000000\r\n```\r\nNotice the values are the same.  The subtraction made no difference due to loss of precision.  The is true for ints.  This precision difference was such that it did not affect the shorter width types.","title":"Primitive Integert Datatype Limits in Java","body":"<p>You are converting to the &quot;Integer&quot; types <code>after</code> you subtract <code>1</code>.  For integers and longs, the floating point value is adjusted for the subtraction of <code>1</code> beyond the precision that those types can hold.  So the conversion to int or long does not include that particular difference.</p>\n<p>Here is an example for the long conversion.</p>\n<pre><code>double result1 = Math.pow(2,64-1);\ndouble result2 = Math.pow(2,64-1)-1;\n\nSystem.out.println(result1);\nSystem.out.println(result2);\nlong bits = Double.doubleToRawLongBits(result1);\nSystem.out.println(bits);\nSystem.out.println(Long.toBinaryString(bits));\nbits = Double.doubleToRawLongBits(result2);\nSystem.out.println(bits);\nSystem.out.println(Long.toBinaryString(bits));\n</code></pre>\n<p>prints</p>\n<pre><code>9.223372036854776E18\n9.223372036854776E18\n4890909195324358656\n100001111100000000000000000000000000000000000000000000000000000\n4890909195324358656\n100001111100000000000000000000000000000000000000000000000000000\n</code></pre>\n<p>Notice the values are the same.  The subtraction made no difference due to loss of precision.  The is true for ints.  This precision difference was such that it did not affect the shorter width types.</p>\n"},{"tags":[],"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1700426294,"creation_date":1700426294,"answer_id":77512415,"question_id":77512243,"body_markdown":"The behaviour is specified in the Java Language Specification [5.1.3 Narrowing Primitive Conversion](https://docs.oracle.com/javase/specs/jls/se21/html/jls-5.html#jls-5.1.3):\r\n\r\n&gt; A narrowing conversion of a floating-point number to an integral type T takes two steps:\r\n&gt;\r\n&gt; 1. In the first step, the floating-point number is converted either to a long, if T is long, or to an int, if T is byte, short, char, or int, as follows:\r\n&gt;\r\n&gt;    * [...]\r\n&gt;    * [...]\r\n&gt;    * [...]\r\n&gt;\r\n&gt;       b. The value must be too large (a positive value of large magnitude or positive infinity), and the result of the first step is the largest representable value of type int or long.\r\n&gt;\r\n&gt; 2. In the second step:\r\n&gt;\r\n&gt;    * If T is byte, char, or short, the result of the conversion is the result of a narrowing conversion to type T (&#167;5.1.3) of the result of the first step.\r\n\r\n* for `(int)(pow(2,32-1))` the value of `pow(2,32-1)` is too large and that clause applies, i.e. the result is Integer.MAX_VALUE.\r\n\r\n* for `(int)(pow(2,32-1)-1)` the value of `pow(2,32-1)-1` is a double with Integer.MAX_VALUE and the result is Integer.MAX_VALUE.\r\n\r\n* for `(long)(pow(2,64-1))` the value of `pow(2,64-1)` is too large and that clause applies, i.e. the result is Long.MAX_VALUE.\r\n\r\n* for `(long)(pow(2,64-1))` the value of `pow(2,64-1)-1` is still too large (double doesn&#39;t have the precision to subtract 1 from `pow(2,64-1)` and that expression result in `pow(2,64-1)`) and that clause applies, i.e. the result is Long.MAX_VALUE.\r\n\r\nFor the other datatypes (byte and short) the value fits into an `int` and the second step (description not copied) casts the `int` value into the target type.","title":"Primitive Integert Datatype Limits in Java","body":"<p>The behaviour is specified in the Java Language Specification <a href=\"https://docs.oracle.com/javase/specs/jls/se21/html/jls-5.html#jls-5.1.3\" rel=\"nofollow noreferrer\">5.1.3 Narrowing Primitive Conversion</a>:</p>\n<blockquote>\n<p>A narrowing conversion of a floating-point number to an integral type T takes two steps:</p>\n<ol>\n<li><p>In the first step, the floating-point number is converted either to a long, if T is long, or to an int, if T is byte, short, char, or int, as follows:</p>\n<ul>\n<li><p>[...]</p>\n</li>\n<li><p>[...]</p>\n</li>\n<li><p>[...]</p>\n<p>b. The value must be too large (a positive value of large magnitude or positive infinity), and the result of the first step is the largest representable value of type int or long.</p>\n</li>\n</ul>\n</li>\n<li><p>In the second step:</p>\n<ul>\n<li>If T is byte, char, or short, the result of the conversion is the result of a narrowing conversion to type T (Â§5.1.3) of the result of the first step.</li>\n</ul>\n</li>\n</ol>\n</blockquote>\n<ul>\n<li><p>for <code>(int)(pow(2,32-1))</code> the value of <code>pow(2,32-1)</code> is too large and that clause applies, i.e. the result is Integer.MAX_VALUE.</p>\n</li>\n<li><p>for <code>(int)(pow(2,32-1)-1)</code> the value of <code>pow(2,32-1)-1</code> is a double with Integer.MAX_VALUE and the result is Integer.MAX_VALUE.</p>\n</li>\n<li><p>for <code>(long)(pow(2,64-1))</code> the value of <code>pow(2,64-1)</code> is too large and that clause applies, i.e. the result is Long.MAX_VALUE.</p>\n</li>\n<li><p>for <code>(long)(pow(2,64-1))</code> the value of <code>pow(2,64-1)-1</code> is still too large (double doesn't have the precision to subtract 1 from <code>pow(2,64-1)</code> and that expression result in <code>pow(2,64-1)</code>) and that clause applies, i.e. the result is Long.MAX_VALUE.</p>\n</li>\n</ul>\n<p>For the other datatypes (byte and short) the value fits into an <code>int</code> and the second step (description not copied) casts the <code>int</code> value into the target type.</p>\n"},{"comments":[{"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1700447588,"post_id":77513040,"comment_id":136651844,"body_markdown":"First, why do you say, `2x(10^(n-1))`? It is simply `2^(n-1)`. And I would expect a negative value. The first two examples the op&#39;s output are the expected values  of `-128, 127, -32768, 32767`.  So `(byte)(Math.pow(2,8-1)) or (byte)(128)` shows the minimum value for a byte as `-128` and `(byte)(Math.pow(2,8-1)-1) or (byte)(127)` shows the maximum value as `127`.","body":"First, why do you say, <code>2x(10^(n-1))</code>? It is simply <code>2^(n-1)</code>. And I would expect a negative value. The first two examples the op&#39;s output are the expected values  of <code>-128, 127, -32768, 32767</code>.  So <code>(byte)(Math.pow(2,8-1)) or (byte)(128)</code> shows the minimum value for a byte as <code>-128</code> and <code>(byte)(Math.pow(2,8-1)-1) or (byte)(127)</code> shows the maximum value as <code>127</code>."}],"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700441377,"creation_date":1700441004,"answer_id":77513040,"question_id":77512243,"body_markdown":"&gt; _&quot;... I have a Java programt o display the limits of primitive integer datatypes ...&quot;_\r\n\r\nYou have a miscalculation.\r\n\r\nIf _x_ is _2 &amp;times; 10&lt;sup&gt; n&amp;minus;1&lt;/sup&gt; &amp;minus; 1_, you should not expect a negative value, and rather, _1_ subtracted from the product.\\\r\nYou most-likely meant, _&amp;minus;2_, or, multiplied by _&amp;minus;1_.\r\n\r\nIn other words, the values would be, _128_ and _127_, and then, _32,768_ and _32,767_, etc.\\\r\nAnd not, the minimum and maximum values, _&amp;minus;128_ and _127_, _&amp;minus;32,768_ and _32,767_, etc.\r\n\r\nNevertheless, the values would not be correct; as, your bounds are met.\\\r\nDoing so will produce a set of _bits_ that cannot be correctly expressed.\\\r\n_[Wikipedia &amp;ndash; Signed number representations &amp;ndash; Two&#39;s complement](https://en.wikipedia.org/wiki/Signed_number_representations#Two&#39;s_complement)_.\\\r\n_[Wikipedia &amp;ndash; Integer_overflow](https://en.wikipedia.org/wiki/Integer_overflow)_.\r\n\r\nIf the _[MSb](https://en.wikipedia.org/wiki/Bit_numbering#MSb_0_bit_numbering)_ is reserved for a _[signum](https://en.wikipedia.org/wiki/Sign_function)_, then the printed value would not be a valid representation.\\\r\nHere is a list of, _x &amp;plus; n_.\r\n\r\n```none\r\n   x       bits\r\n----------------\r\n 124  01111100\r\n 125  01111101\r\n 126  01111110\r\n 127  01111111\r\n-128  10000000\r\n-127  10000001\r\n-126  10000010\r\n-125  10000011\r\n-124  10000100\r\n-123  10000101\r\n-122  10000110\r\n```\r\n\r\n```none\r\n-128\r\n-128\r\n-32768\r\n-32768\r\n2147483647\r\n-2147483648\r\n9223372036854775807\r\n-9223372036854775808\r\n```\r\n\r\nHere is an example, to provide a comparison.\r\n\r\nThe first row, for each, is the unadulterated, _double_ value; the result of \r\n _[Math#pow](https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Math.html#pow(double,double))_.\\\r\nThe second row, is the result after the _cast_, of this value.\\\r\nAnd finally, the third row, is the minimum, and maximum value, from the corresponding _[wrapper class](https://docs.oracle.com/javase/tutorial/java/data/numberclasses.html)_.\r\n\r\n```none\r\n  type              x | min              y | max\r\n--------------------------------------------------\r\n  byte                  127                  128\r\n                        127                 -128\r\n                       -128                  127\r\n short                32767                32768\r\n                      32767               -32768\r\n                     -32768                32767\r\n   int           2147483647           2147483648\r\n                 2147483647           2147483647\r\n                -2147483648           2147483647\r\n  long  9223372036854776000  9223372036854776000\r\n        9223372036854775807  9223372036854775807\r\n       -9223372036854775808  9223372036854775807\r\n```\r\n\r\nHere is the code.\r\n\r\n```java\r\npublic static void main(String[] args) {\r\n    Value[] a = {\r\n        new Value(byte.class),\r\n        new Value(short.class),\r\n        new Value(int.class),\r\n        new Value(long.class)\r\n    };\r\n    System.out.printf(&quot;%6s %20s %20s%n&quot;, &quot;type&quot;, &quot;x | min&quot;, &quot;y | max&quot;);\r\n    System.out.println(&quot;-&quot;.repeat(50));\r\n    for (Value v : a) {\r\n        System.out.println(v);\r\n        System.out.printf(&quot;%48s%n&quot;, v.cast());\r\n        System.out.printf(&quot;%48s%n&quot;, v.bounds());\r\n    }\r\n}\r\n\r\nstatic class Value {\r\n    Class&lt;?&gt; t;\r\n    double x, y;\r\n\r\n    Value(Class&lt;?&gt; t) {\r\n        this.t = t;\r\n        int b = 0;\r\n        if (t == byte.class) b = 8;\r\n        else if (t == short.class) b = 16;\r\n        else if (t == int.class) b = 32;\r\n        else if (t == long.class) b = 64;\r\n        x = (y = Math.pow(2, --b)) - 1;\r\n    }\r\n\r\n    String cast() {\r\n        if (t == byte.class)\r\n            return &quot;%20s %20s&quot;.formatted((byte) x, (byte) y);\r\n        else if (t == short.class)\r\n            return &quot;%20s %20s&quot;.formatted((short) x, (short) y);\r\n        else if (t == int.class)\r\n            return &quot;%20s %20s&quot;.formatted((int) x, (int) y);\r\n        else\r\n            return &quot;%20s %20s&quot;.formatted((long) x, (long) y);\r\n    }\r\n\r\n    String bounds() {\r\n        if (t == byte.class)\r\n            return &quot;%20s %20s&quot;.formatted(Byte.MIN_VALUE, Byte.MAX_VALUE);\r\n        else if (t == short.class)\r\n            return &quot;%20s %20s&quot;.formatted(Short.MIN_VALUE, Short.MAX_VALUE);\r\n        else if (t == int.class)\r\n            return &quot;%20s %20s&quot;.formatted(Integer.MIN_VALUE, Integer.MAX_VALUE);\r\n        else\r\n            return &quot;%20s %20s&quot;.formatted(Long.MIN_VALUE, Long.MAX_VALUE);\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return &quot;%6s %20.0f %20.0f&quot;.formatted(t.getSimpleName(), x, y);\r\n    }\r\n}\r\n```","title":"Primitive Integert Datatype Limits in Java","body":"<blockquote>\n<p><em>&quot;... I have a Java programt o display the limits of primitive integer datatypes ...&quot;</em></p>\n</blockquote>\n<p>You have a miscalculation.</p>\n<p>If <em>x</em> is <em>2 Ã— 10<sup> nâˆ’1</sup> âˆ’ 1</em>, you should not expect a negative value, and rather, <em>1</em> subtracted from the product.<br />\nYou most-likely meant, <em>âˆ’2</em>, or, multiplied by <em>âˆ’1</em>.</p>\n<p>In other words, the values would be, <em>128</em> and <em>127</em>, and then, <em>32,768</em> and <em>32,767</em>, etc.<br />\nAnd not, the minimum and maximum values, <em>âˆ’128</em> and <em>127</em>, <em>âˆ’32,768</em> and <em>32,767</em>, etc.</p>\n<p>Nevertheless, the values would not be correct; as, your bounds are met.<br />\nDoing so will produce a set of <em>bits</em> that cannot be correctly expressed.<br />\n<em><a href=\"https://en.wikipedia.org/wiki/Signed_number_representations#Two%27s_complement\" rel=\"nofollow noreferrer\">Wikipedia â€“ Signed number representations â€“ Two's complement</a></em>.<br />\n<em><a href=\"https://en.wikipedia.org/wiki/Integer_overflow\" rel=\"nofollow noreferrer\">Wikipedia â€“ Integer_overflow</a></em>.</p>\n<p>If the <em><a href=\"https://en.wikipedia.org/wiki/Bit_numbering#MSb_0_bit_numbering\" rel=\"nofollow noreferrer\">MSb</a></em> is reserved for a <em><a href=\"https://en.wikipedia.org/wiki/Sign_function\" rel=\"nofollow noreferrer\">signum</a></em>, then the printed value would not be a valid representation.<br />\nHere is a list of, <em>x + n</em>.</p>\n<pre class=\"lang-none prettyprint-override\"><code>   x       bits\n----------------\n 124  01111100\n 125  01111101\n 126  01111110\n 127  01111111\n-128  10000000\n-127  10000001\n-126  10000010\n-125  10000011\n-124  10000100\n-123  10000101\n-122  10000110\n</code></pre>\n<pre class=\"lang-none prettyprint-override\"><code>-128\n-128\n-32768\n-32768\n2147483647\n-2147483648\n9223372036854775807\n-9223372036854775808\n</code></pre>\n<p>Here is an example, to provide a comparison.</p>\n<p>The first row, for each, is the unadulterated, <em>double</em> value; the result of\n<em><a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Math.html#pow(double,double)\" rel=\"nofollow noreferrer\">Math#pow</a></em>.<br />\nThe second row, is the result after the <em>cast</em>, of this value.<br />\nAnd finally, the third row, is the minimum, and maximum value, from the corresponding <em><a href=\"https://docs.oracle.com/javase/tutorial/java/data/numberclasses.html\" rel=\"nofollow noreferrer\">wrapper class</a></em>.</p>\n<pre class=\"lang-none prettyprint-override\"><code>  type              x | min              y | max\n--------------------------------------------------\n  byte                  127                  128\n                        127                 -128\n                       -128                  127\n short                32767                32768\n                      32767               -32768\n                     -32768                32767\n   int           2147483647           2147483648\n                 2147483647           2147483647\n                -2147483648           2147483647\n  long  9223372036854776000  9223372036854776000\n        9223372036854775807  9223372036854775807\n       -9223372036854775808  9223372036854775807\n</code></pre>\n<p>Here is the code.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) {\n    Value[] a = {\n        new Value(byte.class),\n        new Value(short.class),\n        new Value(int.class),\n        new Value(long.class)\n    };\n    System.out.printf(&quot;%6s %20s %20s%n&quot;, &quot;type&quot;, &quot;x | min&quot;, &quot;y | max&quot;);\n    System.out.println(&quot;-&quot;.repeat(50));\n    for (Value v : a) {\n        System.out.println(v);\n        System.out.printf(&quot;%48s%n&quot;, v.cast());\n        System.out.printf(&quot;%48s%n&quot;, v.bounds());\n    }\n}\n\nstatic class Value {\n    Class&lt;?&gt; t;\n    double x, y;\n\n    Value(Class&lt;?&gt; t) {\n        this.t = t;\n        int b = 0;\n        if (t == byte.class) b = 8;\n        else if (t == short.class) b = 16;\n        else if (t == int.class) b = 32;\n        else if (t == long.class) b = 64;\n        x = (y = Math.pow(2, --b)) - 1;\n    }\n\n    String cast() {\n        if (t == byte.class)\n            return &quot;%20s %20s&quot;.formatted((byte) x, (byte) y);\n        else if (t == short.class)\n            return &quot;%20s %20s&quot;.formatted((short) x, (short) y);\n        else if (t == int.class)\n            return &quot;%20s %20s&quot;.formatted((int) x, (int) y);\n        else\n            return &quot;%20s %20s&quot;.formatted((long) x, (long) y);\n    }\n\n    String bounds() {\n        if (t == byte.class)\n            return &quot;%20s %20s&quot;.formatted(Byte.MIN_VALUE, Byte.MAX_VALUE);\n        else if (t == short.class)\n            return &quot;%20s %20s&quot;.formatted(Short.MIN_VALUE, Short.MAX_VALUE);\n        else if (t == int.class)\n            return &quot;%20s %20s&quot;.formatted(Integer.MIN_VALUE, Integer.MAX_VALUE);\n        else\n            return &quot;%20s %20s&quot;.formatted(Long.MIN_VALUE, Long.MAX_VALUE);\n    }\n\n    @Override\n    public String toString() {\n        return &quot;%6s %20.0f %20.0f&quot;.formatted(t.getSimpleName(), x, y);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":4180585,"reputation":1,"user_id":3994991,"display_name":"vidyapu sandeep"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":94,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1700475589,"creation_date":1700423300,"question_id":77512243,"body_markdown":"I have a Java programt o display the limits of primitive integer datatypes which is as follows:\r\n\r\n\r\n```\r\nimport static java.lang.Math.*;\r\n\r\nclass HelloWorld {\r\n    public static void main(String[] args) {\r\n        System.out.println((byte)(pow(2,8-1));\r\n        System.out.println((byte)(pow(2,8-1)-1));\r\n        System.out.println((short)(pow(2,16-1)));\r\n        System.out.println((short)(pow(2,16-1)-1));\r\n        System.out.println((int)(pow(2,32-1)));\r\n        System.out.println((int)(pow(2,32-1)-1));\r\n        System.out.println((long)(pow(2,64-1)));\r\n        System.out.println((long)(pow(2,64-1)-1));\r\n    }\r\n}\r\n```\r\n\r\nIts output is as follows:\r\n\r\n```\r\n-128\r\n127\r\n-32768\r\n32767\r\n2147483647\r\n2147483647\r\n9223372036854775807\r\n9223372036854775807\r\n```\r\n\r\nCan you please explain why the output for int and long typecasting?\r\n\r\n\r\n\r\nI was expecting something like\r\n\r\n```\r\n-128\r\n127\r\n-32768\r\n32767\r\n-2147483648\r\n2147483647\r\n-9223372036854775808\r\n9223372036854775807\r\n```","title":"Primitive Integert Datatype Limits in Java","body":"<p>I have a Java programt o display the limits of primitive integer datatypes which is as follows:</p>\n<pre><code>import static java.lang.Math.*;\n\nclass HelloWorld {\n    public static void main(String[] args) {\n        System.out.println((byte)(pow(2,8-1));\n        System.out.println((byte)(pow(2,8-1)-1));\n        System.out.println((short)(pow(2,16-1)));\n        System.out.println((short)(pow(2,16-1)-1));\n        System.out.println((int)(pow(2,32-1)));\n        System.out.println((int)(pow(2,32-1)-1));\n        System.out.println((long)(pow(2,64-1)));\n        System.out.println((long)(pow(2,64-1)-1));\n    }\n}\n</code></pre>\n<p>Its output is as follows:</p>\n<pre><code>-128\n127\n-32768\n32767\n2147483647\n2147483647\n9223372036854775807\n9223372036854775807\n</code></pre>\n<p>Can you please explain why the output for int and long typecasting?</p>\n<p>I was expecting something like</p>\n<pre><code>-128\n127\n-32768\n32767\n-2147483648\n2147483647\n-9223372036854775808\n9223372036854775807\n</code></pre>\n"},{"tags":["java","testing","state","instance","junit4"],"owner":{"account_id":10241840,"reputation":1,"user_id":7559020,"display_name":"Devon Murray"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700475186,"creation_date":1700279356,"question_id":77505634,"body_markdown":"The scope of my project is to run preset Junit tests on a java file (namely Passenger.java) submitted in a .zip files contained in an overall zip file. I have already completed code to unzip the files extract the content one at a time to my directory and compile it along with the test file (namely PassengerTest.java). The problem I noticed is that the test results from the first submission is carried over to the other submission. At first, I thought my submission object was not resetting on each iteration of my outer loop that calls the runTests method. However, the problem still persists after setting objects to null. So, I deduced that JUnitCore instance reuses the states tests runs.\r\n\r\nThis is my code to run the tests used in VSCode:\r\n\r\n```\r\npublic class TestRunner {\r\n\r\n    public static boolean runTests(Submission submission){\r\n        JUnitCore junit = new JUnitCore();\r\n        TestResultListener listener = new TestResultListener();\r\n        junit.addListener(listener);\r\n      \r\n        System.out.println(&quot;Running tests... for &quot; + submission.getStudentID());\r\n        Result result = junit.run(PassengerTest.class);\r\n        \r\n        ArrayList&lt;TestResult&gt; finalResults = listener.getTestResults();        \r\n        submission.setResults(finalResults);\r\n\r\n        return true;\r\n    }   \r\n\r\n    static class TestResultListener extends RunListener {\r\n        private Map&lt;String, TestResult&gt; testResults = new HashMap&lt;&gt;();\r\n        private String currentTest;\r\n\r\n        @Override\r\n        public void testStarted(Description description) throws Exception {\r\n            currentTest = description.getClassName() + &quot;#&quot; + description.getMethodName();\r\n        }\r\n\r\n        @Override\r\n        public void testFailure(Failure failure) throws Exception {\r\n            TestResult testResult = new TestResult();\r\n            Description description = failure.getDescription();\r\n            testResult.setTestName(description.getDisplayName());\r\n            testResult.setClassName(description.getClassName());\r\n            testResult.setMethodName(description.getMethodName());            \r\n            testResult.setStatus(&quot;FAILED&quot;);\r\n            testResult.setScore(0);\r\n            testResult.setErrorMessage(failure.getException().getMessage());\r\n            testResults.put(currentTest, testResult);\r\n        }\r\n\r\n        @Override\r\n        public void testFinished(Description description) throws Exception {\r\n            if (!testResults.containsKey(currentTest)) {\r\n                TestResult testResult = new TestResult();\r\n                testResult.setTestName(description.getDisplayName());\r\n                testResult.setClassName(description.getClassName());\r\n                testResult.setMethodName(description.getMethodName());\r\n                testResult.setStatus(&quot;PASSED&quot;);\r\n                testResult.setScore(1);\r\n                testResults.put(currentTest, testResult);\r\n            }\r\n        }\r\n\r\n        public ArrayList&lt;TestResult&gt; getTestResults() {\r\n            ArrayList&lt;TestResult&gt; finalResults = new ArrayList&lt;&gt;(testResults.values()); \r\n            testResults.clear();\r\n            return finalResults;\r\n        }\r\n    }\r\n} \r\n```\r\n\r\nTo make my conclusion I reduced the test class to just test the constructor of each Passenger.java file submission. I set up the last submission in the .zip file which contains three submissions to fail and the first to pass. The results were that all passed. I did the opposite by setting the first submission to fail and the other 2 to pass but the results were that all failed.\r\n\r\nBefore I made a full conclusion, I decided to run my code in IntelliJ IDEA Debugging environment to keep track of all attribute state and discovered that a different JUnit core object was reused for each test but the results of the above were still the same.\r\n\r\nCan anyone shed some light on this issue I&#39;m currently facing. It will be greatly appreciated.\r\n","title":"JUnitCore instance reusing state between tests runs","body":"<p>The scope of my project is to run preset Junit tests on a java file (namely Passenger.java) submitted in a .zip files contained in an overall zip file. I have already completed code to unzip the files extract the content one at a time to my directory and compile it along with the test file (namely PassengerTest.java). The problem I noticed is that the test results from the first submission is carried over to the other submission. At first, I thought my submission object was not resetting on each iteration of my outer loop that calls the runTests method. However, the problem still persists after setting objects to null. So, I deduced that JUnitCore instance reuses the states tests runs.</p>\n<p>This is my code to run the tests used in VSCode:</p>\n<pre><code>public class TestRunner {\n\n    public static boolean runTests(Submission submission){\n        JUnitCore junit = new JUnitCore();\n        TestResultListener listener = new TestResultListener();\n        junit.addListener(listener);\n      \n        System.out.println(&quot;Running tests... for &quot; + submission.getStudentID());\n        Result result = junit.run(PassengerTest.class);\n        \n        ArrayList&lt;TestResult&gt; finalResults = listener.getTestResults();        \n        submission.setResults(finalResults);\n\n        return true;\n    }   \n\n    static class TestResultListener extends RunListener {\n        private Map&lt;String, TestResult&gt; testResults = new HashMap&lt;&gt;();\n        private String currentTest;\n\n        @Override\n        public void testStarted(Description description) throws Exception {\n            currentTest = description.getClassName() + &quot;#&quot; + description.getMethodName();\n        }\n\n        @Override\n        public void testFailure(Failure failure) throws Exception {\n            TestResult testResult = new TestResult();\n            Description description = failure.getDescription();\n            testResult.setTestName(description.getDisplayName());\n            testResult.setClassName(description.getClassName());\n            testResult.setMethodName(description.getMethodName());            \n            testResult.setStatus(&quot;FAILED&quot;);\n            testResult.setScore(0);\n            testResult.setErrorMessage(failure.getException().getMessage());\n            testResults.put(currentTest, testResult);\n        }\n\n        @Override\n        public void testFinished(Description description) throws Exception {\n            if (!testResults.containsKey(currentTest)) {\n                TestResult testResult = new TestResult();\n                testResult.setTestName(description.getDisplayName());\n                testResult.setClassName(description.getClassName());\n                testResult.setMethodName(description.getMethodName());\n                testResult.setStatus(&quot;PASSED&quot;);\n                testResult.setScore(1);\n                testResults.put(currentTest, testResult);\n            }\n        }\n\n        public ArrayList&lt;TestResult&gt; getTestResults() {\n            ArrayList&lt;TestResult&gt; finalResults = new ArrayList&lt;&gt;(testResults.values()); \n            testResults.clear();\n            return finalResults;\n        }\n    }\n} \n</code></pre>\n<p>To make my conclusion I reduced the test class to just test the constructor of each Passenger.java file submission. I set up the last submission in the .zip file which contains three submissions to fail and the first to pass. The results were that all passed. I did the opposite by setting the first submission to fail and the other 2 to pass but the results were that all failed.</p>\n<p>Before I made a full conclusion, I decided to run my code in IntelliJ IDEA Debugging environment to keep track of all attribute state and discovered that a different JUnit core object was reused for each test but the results of the above were still the same.</p>\n<p>Can anyone shed some light on this issue I'm currently facing. It will be greatly appreciated.</p>\n"},{"tags":["java","apache-tika","tika-server"],"comments":[{"owner":{"account_id":8363906,"reputation":615,"user_id":6281268,"display_name":"Tim Allison"},"score":2,"creation_date":1700483959,"post_id":77510949,"comment_id":136656310,"body_markdown":"Y, those should both work assuming your mounted the volumes and opened the ports etc... See documentation: https://cwiki.apache.org/confluence/display/tika/tika-pipes Please let us know if you have any questions. Also please let us know how we can make this page more easily findable.","body":"Y, those should both work assuming your mounted the volumes and opened the ports etc... See documentation: <a href=\"https://cwiki.apache.org/confluence/display/tika/tika-pipes\" rel=\"nofollow noreferrer\">cwiki.apache.org/confluence/display/tika/tika-pipes</a> Please let us know if you have any questions. Also please let us know how we can make this page more easily findable."}],"owner":{"account_id":13352626,"reputation":335,"user_id":9637371,"display_name":"Bestows In Constructing"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700475166,"creation_date":1700400952,"question_id":77510949,"body_markdown":"The Tika provides some classes named: FileSystemFetcher, HttpFetcher, etc\r\n\r\nIs it possible to use them for tika-server in docker?\r\n\r\nIt seems like this mechanism is in the development stage at this time cause there are no words about it in the documentation\r\n\r\nFor examples of dependencies and code, please\r\n\r\n","title":"Is it possible to use FileSystemFetcher or S3Fetcher in tika-server in docker?","body":"<p>The Tika provides some classes named: FileSystemFetcher, HttpFetcher, etc</p>\n<p>Is it possible to use them for tika-server in docker?</p>\n<p>It seems like this mechanism is in the development stage at this time cause there are no words about it in the documentation</p>\n<p>For examples of dependencies and code, please</p>\n"},{"tags":["java","exception"],"comments":[{"owner":{"account_id":40221,"reputation":32100,"user_id":116509,"accept_rate":100,"display_name":"artbristol"},"score":2,"creation_date":1383907512,"post_id":19857008,"comment_id":29533053,"body_markdown":"possible duplicate of [When to choose checked and unchecked exceptions](http://stackoverflow.com/questions/27578/when-to-choose-checked-and-unchecked-exceptions)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/27578/when-to-choose-checked-and-unchecked-exceptions\">When to choose checked and unchecked exceptions</a>"}],"answers":[{"comments":[{"owner":{"account_id":3228322,"reputation":2343,"user_id":2724125,"accept_rate":80,"display_name":"Amit G"},"score":13,"creation_date":1387367819,"post_id":19857096,"comment_id":30926258,"body_markdown":"quoting from answer by @Batty: If a client can reasonably be expected to recover from an exception, make it a checked exception. If a client cannot do anything to recover from the exception, make it an unchecked exception.","body":"quoting from answer by @Batty: If a client can reasonably be expected to recover from an exception, make it a checked exception. If a client cannot do anything to recover from the exception, make it an unchecked exception."},{"owner":{"account_id":2910172,"reputation":1318,"user_id":2494599,"accept_rate":97,"display_name":"Sebastien"},"score":0,"creation_date":1503080219,"post_id":19857096,"comment_id":78483623,"body_markdown":"One thing that is important to note is that checked exceptions are braking encapsulation. For example, the caller needs to know what type of exception the called is potentially throwing, hence the caller has internal knowledge of the called which is what breaks encapsulation. If you are programming using OOP this might be a problem (I don&#39;t really use functional programming or procedural programming so I can&#39;t really say how it is in these kind of practices).","body":"One thing that is important to note is that checked exceptions are braking encapsulation. For example, the caller needs to know what type of exception the called is potentially throwing, hence the caller has internal knowledge of the called which is what breaks encapsulation. If you are programming using OOP this might be a problem (I don&#39;t really use functional programming or procedural programming so I can&#39;t really say how it is in these kind of practices)."}],"tags":[],"owner":{"account_id":1920143,"reputation":7756,"user_id":1731862,"accept_rate":71,"display_name":"Ankur Shanbhag"},"comment_count":2,"down_vote_count":0,"up_vote_count":72,"is_accepted":true,"score":72,"last_activity_date":1564412975,"creation_date":1383907537,"answer_id":19857096,"question_id":19857008,"body_markdown":"&gt; RuntimeException are unchecked while Exception are checked (calling\r\n&gt; code must handle them).\r\n\r\nThe custom exception should extends `RuntimeException` if you **want to make it unchecked** else extend it with `Exception`.\r\n\r\nWith unchecked exceptions calling code method is not required to declare in its throws clause any subclasses of `RuntimeException` that might be thrown during the execution of the method but not caught.\r\n\r\nAs the calling method may not handle `RuntimeException``, one needs to be **careful while throwing RuntimeException**.\r\n\r\nRuntime exceptions represent problems that are the result of a programming problem, and as such, the API client code cannot reasonably be expected to recover from them or to handle them in any way. Such problems include arithmetic exceptions, such as dividing by zero; pointer exceptions, such as trying to access an object through a null reference; and indexing exceptions, such as attempting to access an array element through an index that is too large or too small.\r\n\r\nRuntime exceptions can occur anywhere in a program, and in a typical one they can be very numerous. Having to add runtime exceptions in every method declaration would reduce a program&#39;s clarity. Thus, the compiler does not require that you catch or specify runtime exceptions (although you can).\r\n\r\n**Source/Further Reading:** [Unchecked Exceptions - The Controversy](https://docs.oracle.com/javase/tutorial/essential/exceptions/runtime.html)","title":"Extending Exception/RuntimeException in java?","body":"<blockquote>\n  <p>RuntimeException are unchecked while Exception are checked (calling\n  code must handle them).</p>\n</blockquote>\n\n<p>The custom exception should extends <code>RuntimeException</code> if you <strong>want to make it unchecked</strong> else extend it with <code>Exception</code>.</p>\n\n<p>With unchecked exceptions calling code method is not required to declare in its throws clause any subclasses of <code>RuntimeException</code> that might be thrown during the execution of the method but not caught.</p>\n\n<p>As the calling method may not handle `RuntimeException``, one needs to be <strong>careful while throwing RuntimeException</strong>.</p>\n\n<p>Runtime exceptions represent problems that are the result of a programming problem, and as such, the API client code cannot reasonably be expected to recover from them or to handle them in any way. Such problems include arithmetic exceptions, such as dividing by zero; pointer exceptions, such as trying to access an object through a null reference; and indexing exceptions, such as attempting to access an array element through an index that is too large or too small.</p>\n\n<p>Runtime exceptions can occur anywhere in a program, and in a typical one they can be very numerous. Having to add runtime exceptions in every method declaration would reduce a program's clarity. Thus, the compiler does not require that you catch or specify runtime exceptions (although you can).</p>\n\n<p><strong>Source/Further Reading:</strong> <a href=\"https://docs.oracle.com/javase/tutorial/essential/exceptions/runtime.html\" rel=\"noreferrer\">Unchecked Exceptions - The Controversy</a></p>\n"},{"tags":[],"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"comment_count":0,"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1383907555,"creation_date":1383907555,"answer_id":19857101,"question_id":19857008,"body_markdown":"If you extend `RuntimeException`, you don&#39;t need to declare it in the throws clause (i.e. it&#39;s an unchecked exception). If you extend Exception, you do (it&#39;s a checked exception).\r\n\r\nSome people argue that all exceptions should extend from `RuntimeException`, but if you want to force the user to handle the exception, you should extend `Exception` instead.","title":"Extending Exception/RuntimeException in java?","body":"<p>If you extend <code>RuntimeException</code>, you don't need to declare it in the throws clause (i.e. it's an unchecked exception). If you extend Exception, you do (it's a checked exception).</p>\n\n<p>Some people argue that all exceptions should extend from <code>RuntimeException</code>, but if you want to force the user to handle the exception, you should extend <code>Exception</code> instead.</p>\n"},{"tags":[],"owner":{"account_id":1421913,"reputation":11238,"user_id":1346369,"accept_rate":57,"display_name":"vels4j"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1383907717,"creation_date":1383907717,"answer_id":19857158,"question_id":19857008,"body_markdown":"Definition of [RuntimeException](http://docs.oracle.com/javase/7/docs/api/java/lang/RuntimeException.html)\r\n\r\n&gt;RuntimeException is the superclass of those exceptions that can be thrown during the normal operation of the Java Virtual Machine.\r\n&gt; \r\n&gt; RuntimeException and its subclasses are unchecked exceptions.\r\n&gt; Unchecked exceptions do not need to be declared in a method or\r\n&gt; constructor&#39;s throws clause if they can be thrown by the execution of\r\n&gt; the method or constructor and propagate outside the method or\r\n&gt; constructor boundary.\r\n\r\nIf you extend `Exception`, you need to catch where ever you throw your `ValidationException`.","title":"Extending Exception/RuntimeException in java?","body":"<p>Definition of <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/RuntimeException.html\" rel=\"nofollow\">RuntimeException</a></p>\n\n<blockquote>\n  <p>RuntimeException is the superclass of those exceptions that can be thrown during the normal operation of the Java Virtual Machine.</p>\n  \n  <p>RuntimeException and its subclasses are unchecked exceptions.\n  Unchecked exceptions do not need to be declared in a method or\n  constructor's throws clause if they can be thrown by the execution of\n  the method or constructor and propagate outside the method or\n  constructor boundary.</p>\n</blockquote>\n\n<p>If you extend <code>Exception</code>, you need to catch where ever you throw your <code>ValidationException</code>.</p>\n"},{"tags":[],"owner":{"account_id":3280268,"reputation":8445,"user_id":2761035,"accept_rate":74,"display_name":"codingenious"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1383907723,"creation_date":1383907723,"answer_id":19857159,"question_id":19857008,"body_markdown":"&gt; One case where it is common practice to throw a RuntimeException is when the user calls a method incorrectly. For example, a method can check if one of its arguments is incorrectly null. If an argument is null, the method might throw a NullPointerException, which is an unchecked exception.\r\n&gt; \r\n&gt; Generally speaking, do not throw a RuntimeException or create a subclass of RuntimeException simply because you don&#39;t want to be bothered with specifying the exceptions your methods can throw.\r\n&gt;\r\n&gt;\r\nHere&#39;s the bottom line guideline: If a client can reasonably be expected to recover from an exception, make it a checked exception. If a client cannot do anything to recover from the exception, make it an unchecked exception.\r\n\r\nfor more [read this.][1]\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/tutorial/essential/exceptions/runtime.html","title":"Extending Exception/RuntimeException in java?","body":"<blockquote>\n  <p>One case where it is common practice to throw a RuntimeException is when the user calls a method incorrectly. For example, a method can check if one of its arguments is incorrectly null. If an argument is null, the method might throw a NullPointerException, which is an unchecked exception.</p>\n  \n  <p>Generally speaking, do not throw a RuntimeException or create a subclass of RuntimeException simply because you don't want to be bothered with specifying the exceptions your methods can throw.</p>\n  \n  <p>Here's the bottom line guideline: If a client can reasonably be expected to recover from an exception, make it a checked exception. If a client cannot do anything to recover from the exception, make it an unchecked exception.</p>\n</blockquote>\n\n<p>for more <a href=\"http://docs.oracle.com/javase/tutorial/essential/exceptions/runtime.html\" rel=\"noreferrer\">read this.</a></p>\n"},{"tags":[],"owner":{"account_id":3622133,"reputation":554,"user_id":3020592,"accept_rate":65,"display_name":"Sam"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1411382332,"creation_date":1411382332,"answer_id":25972088,"question_id":19857008,"body_markdown":"If you are in an application framework and your framework is good to handle the exception when there is an exception notification from your code.  In that case you can use your custom exception class as subclass of RuntimeException. \r\n\r\nThis will help you from NOT to write the code to handle the exception through out the exception hierarchy.\r\n","title":"Extending Exception/RuntimeException in java?","body":"<p>If you are in an application framework and your framework is good to handle the exception when there is an exception notification from your code.  In that case you can use your custom exception class as subclass of RuntimeException. </p>\n\n<p>This will help you from NOT to write the code to handle the exception through out the exception hierarchy.</p>\n"}],"owner":{"account_id":393770,"reputation":6625,"user_id":755806,"accept_rate":55,"display_name":"user755806"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":92584,"favorite_count":0,"down_vote_count":0,"up_vote_count":79,"accepted_answer_id":19857096,"answer_count":5,"score":79,"last_activity_date":1700475133,"creation_date":1383907258,"question_id":19857008,"body_markdown":"I have below classes.\r\n\r\n    public class ValidationException extends RuntimeException {\r\n    \r\n    \r\n    }\r\n\r\nand\r\n\r\n\r\n    public class ValidationException extends Exception {\r\n    \r\n    \r\n    }\r\n\r\n\r\nI am confused as to when the custom exception should extend `RuntimeException` and when it has to extend `Exception`. Could you please explain me is there any disadvantage of extending `RuntimeException` directly?\r\n\r\nThanks!\r\n","title":"Extending Exception/RuntimeException in java?","body":"<p>I have below classes.</p>\n<pre><code>public class ValidationException extends RuntimeException {\n\n\n}\n</code></pre>\n<p>and</p>\n<pre><code>public class ValidationException extends Exception {\n\n\n}\n</code></pre>\n<p>I am confused as to when the custom exception should extend <code>RuntimeException</code> and when it has to extend <code>Exception</code>. Could you please explain me is there any disadvantage of extending <code>RuntimeException</code> directly?</p>\n<p>Thanks!</p>\n"},{"tags":["java","sql-server","spring","design-patterns"],"comments":[{"owner":{"account_id":477214,"reputation":5260,"user_id":888580,"display_name":"lane.maxwell"},"score":0,"creation_date":1700497257,"post_id":77514993,"comment_id":136658865,"body_markdown":"I&#39;ve read this a few times and cannot find the problem you&#39;re trying to solve.  Can you clarify what issues this is causing?  Also, just FYI, this question will likely be closed as it&#39;s going to only generate opinionated responses.","body":"I&#39;ve read this a few times and cannot find the problem you&#39;re trying to solve.  Can you clarify what issues this is causing?  Also, just FYI, this question will likely be closed as it&#39;s going to only generate opinionated responses."},{"owner":{"account_id":16286195,"reputation":11,"user_id":11760904,"display_name":"Kevin Quinn"},"score":0,"creation_date":1700596728,"post_id":77514993,"comment_id":136673596,"body_markdown":"Question is within point 1 and 2. Bit puzzled as to how you have misread this. Essentially should API be altered to rollback initial transaction if there is long running query exceeding 10 sec spring config for rest API calls","body":"Question is within point 1 and 2. Bit puzzled as to how you have misread this. Essentially should API be altered to rollback initial transaction if there is long running query exceeding 10 sec spring config for rest API calls"},{"owner":{"account_id":477214,"reputation":5260,"user_id":888580,"display_name":"lane.maxwell"},"score":0,"creation_date":1700602033,"post_id":77514993,"comment_id":136674403,"body_markdown":"I see the questions, but this isn&#39;t really a question about any specific programming issue.  With the information provided, it doesn&#39;t sound like this is presenting any issues so the answer I would give is, follow the business requirements.  Otherwise, look in the db logs, there&#39;s probably some contention causing records to be locked.","body":"I see the questions, but this isn&#39;t really a question about any specific programming issue.  With the information provided, it doesn&#39;t sound like this is presenting any issues so the answer I would give is, follow the business requirements.  Otherwise, look in the db logs, there&#39;s probably some contention causing records to be locked."}],"owner":{"account_id":16286195,"reputation":11,"user_id":11760904,"display_name":"Kevin Quinn"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1700475031,"creation_date":1700475031,"question_id":77514993,"body_markdown":"I have a Spring API which invokes rest call to an enterprise payment platform which calls into JPM Chase. All is fine on that and when taken we save response in our SQL Server DB. Our Spring API is new solution which went live last week into production. For most part has been working well apart with decent response times apart from 3 instances. \r\nOn 3 different days around same timeframe I spotted through datadog an instance of processPayment endpoint taking over 1 min to respond. \r\n\r\n\r\nAfter looking at DataDog logs its easy to spot SQL Query where the issue occurs. However having gone through datadog metrics around this query it typically executes in under 40 milli-seconds. The select query is hitting one table which has clustered + non clustered indexing on table.\r\nI don&#39;t believe there is an issue here however there obviously is some locking happened on DB at this time occurred maybe not at application level could been DB script being executed to fix data. \r\nSo question really here is around how application should behave:\r\n\r\n1. Should the API be altered in such a scenario to rollback payment OR\r\n   Just wait for query to return and capture the response in DB\r\n2. Is there another viable idea?\r\n","title":"Viable solution to handling long running query in Java","body":"<p>I have a Spring API which invokes rest call to an enterprise payment platform which calls into JPM Chase. All is fine on that and when taken we save response in our SQL Server DB. Our Spring API is new solution which went live last week into production. For most part has been working well apart with decent response times apart from 3 instances.\nOn 3 different days around same timeframe I spotted through datadog an instance of processPayment endpoint taking over 1 min to respond.</p>\n<p>After looking at DataDog logs its easy to spot SQL Query where the issue occurs. However having gone through datadog metrics around this query it typically executes in under 40 milli-seconds. The select query is hitting one table which has clustered + non clustered indexing on table.\nI don't believe there is an issue here however there obviously is some locking happened on DB at this time occurred maybe not at application level could been DB script being executed to fix data.\nSo question really here is around how application should behave:</p>\n<ol>\n<li>Should the API be altered in such a scenario to rollback payment OR\nJust wait for query to return and capture the response in DB</li>\n<li>Is there another viable idea?</li>\n</ol>\n"},{"tags":["java","android","appium","appium-android"],"answers":[{"tags":[],"owner":{"account_id":4518980,"reputation":4958,"user_id":3672883,"accept_rate":83,"display_name":"Tlaloc-ES"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1559337733,"creation_date":1559337329,"answer_id":56401804,"question_id":56401779,"body_markdown":"You need to use an existen constructor like this:\r\n\r\nhttps://appium.github.io/java-client/io/appium/java_client/android/AndroidDriver.html\r\n\r\nYou need use `java.net.URL` and not `com.gargoylesoftware.htmlunit.javascript.host.URL`","title":"Not found constructor AndroidDriver with Appium in eclipse","body":"<p>You need to use an existen constructor like this:</p>\n\n<p><a href=\"https://appium.github.io/java-client/io/appium/java_client/android/AndroidDriver.html\" rel=\"nofollow noreferrer\">https://appium.github.io/java-client/io/appium/java_client/android/AndroidDriver.html</a></p>\n\n<p>You need use <code>java.net.URL</code> and not <code>com.gargoylesoftware.htmlunit.javascript.host.URL</code></p>\n"},{"tags":[],"owner":{"account_id":1682656,"reputation":7274,"user_id":1546574,"display_name":"eugene.polschikov"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1559407083,"creation_date":1559407083,"answer_id":56408564,"question_id":56401779,"body_markdown":"@Lorena, hi.  \r\n1. Firstly, could You please double check the imports ? Sharing code snippet below with correct ones\r\n\r\n    package tests.web;\r\n    \r\n    import java.net.MalformedURLException;\r\n    import java.net.URL;\r\n    import io.appium.java_client.android.AndroidDriver;\r\n    import io.appium.java_client.remote.MobileBrowserType;\r\n    import org.junit.After;\r\n    import org.junit.Before;\r\n    import org.junit.Test;\r\n    import org.openqa.selenium.By;\r\n    import org.openqa.selenium.remote.DesiredCapabilities;\r\n    public class AndroidWebTest {\r\n       private static final String ACCESS_KEY = System.getenv(â€œSEETEST_IO_ACCESS_KEYâ€);\r\n       private static final String CLOUD_URL = â€œhttps://cloud.seetest.io:443/wd/hubâ€;\r\n       private static final String TITLE = â€œTesting Website on Android Chrome with Javaâ€;\r\n       private AndroidDriver driver = null;\r\n    \r\n       @Before\r\n       public void setUp() throws MalformedURLException {\r\n           DesiredCapabilities dc = new DesiredCapabilities();\r\n           dc.setCapability(â€œtestNameâ€, TITLE);\r\n           dc.setCapability(â€œaccessKeyâ€, ACCESS_KEY);\r\n           dc.setBrowserName(MobileBrowserType.CHROME);\r\n           driver = new AndroidDriver(new URL(CLOUD_URL), dc);\r\n       }\r\n    \r\n       @Test\r\n       public void testAppiumOnChrome() {\r\n           driver.get(â€œhttps://amazon.comâ€);\r\n           System.out.println(driver.getTitle());\r\n           if (driver.getCapabilities().getCapability(â€œdevice.categoryâ€).equals(â€œTABLETâ€)) {\r\n               driver.findElement(By.xpath(â€œ//*[@name=â€™field-keywordsâ€™]â€)).sendKeys(â€œiPhoneâ€);\r\n               driver.findElement(By.xpath(â€œ//*[@text=â€™Goâ€™]â€)).click();\r\n           } else {\r\n               driver.findElement(By.xpath(â€œ//*[@name=â€™kâ€™]â€)).sendKeys(â€œiPhoneâ€);\r\n               driver.findElement(By.xpath(â€œ//*[@value=â€™Goâ€™]â€)).click();\r\n           }\r\n       }\r\n    \r\n       @After\r\n       public void tearDown() {\r\n           if (driver != null) {\r\n               driver.quit();\r\n           }\r\n       }\r\n    }\r\n\r\nPlease see the [Comparing and combining web and mobile test automation drivers][1] article for more details.\r\n\r\n2. If You project is maven-based, could You please also  double check the dependencies? \r\nFor example, please see latest appium updates [here][2]\r\n[![enter image description here][3]][3]\r\n\r\nAppropriate maven repo to check for (latest) java client: \r\nhttps://mvnrepository.com/artifact/io.appium/java-client\r\n\r\n\r\n  [1]: https://experitest.com/selenium-testing/web_and_mobile_test_automation_drivers/\r\n  [2]: https://discuss.appium.io/t/java-client-5-0-2-released/18439\r\n  [3]: https://i.stack.imgur.com/DLPr9.png","title":"Not found constructor AndroidDriver with Appium in eclipse","body":"<p>@Lorena, hi.<br>\n1. Firstly, could You please double check the imports ? Sharing code snippet below with correct ones</p>\n\n<pre><code>package tests.web;\n\nimport java.net.MalformedURLException;\nimport java.net.URL;\nimport io.appium.java_client.android.AndroidDriver;\nimport io.appium.java_client.remote.MobileBrowserType;\nimport org.junit.After;\nimport org.junit.Before;\nimport org.junit.Test;\nimport org.openqa.selenium.By;\nimport org.openqa.selenium.remote.DesiredCapabilities;\npublic class AndroidWebTest {\n   private static final String ACCESS_KEY = System.getenv(â€œSEETEST_IO_ACCESS_KEYâ€);\n   private static final String CLOUD_URL = â€œhttps://cloud.seetest.io:443/wd/hubâ€;\n   private static final String TITLE = â€œTesting Website on Android Chrome with Javaâ€;\n   private AndroidDriver driver = null;\n\n   @Before\n   public void setUp() throws MalformedURLException {\n       DesiredCapabilities dc = new DesiredCapabilities();\n       dc.setCapability(â€œtestNameâ€, TITLE);\n       dc.setCapability(â€œaccessKeyâ€, ACCESS_KEY);\n       dc.setBrowserName(MobileBrowserType.CHROME);\n       driver = new AndroidDriver(new URL(CLOUD_URL), dc);\n   }\n\n   @Test\n   public void testAppiumOnChrome() {\n       driver.get(â€œhttps://amazon.comâ€);\n       System.out.println(driver.getTitle());\n       if (driver.getCapabilities().getCapability(â€œdevice.categoryâ€).equals(â€œTABLETâ€)) {\n           driver.findElement(By.xpath(â€œ//*[@name=â€™field-keywordsâ€™]â€)).sendKeys(â€œiPhoneâ€);\n           driver.findElement(By.xpath(â€œ//*[@text=â€™Goâ€™]â€)).click();\n       } else {\n           driver.findElement(By.xpath(â€œ//*[@name=â€™kâ€™]â€)).sendKeys(â€œiPhoneâ€);\n           driver.findElement(By.xpath(â€œ//*[@value=â€™Goâ€™]â€)).click();\n       }\n   }\n\n   @After\n   public void tearDown() {\n       if (driver != null) {\n           driver.quit();\n       }\n   }\n}\n</code></pre>\n\n<p>Please see the <a href=\"https://experitest.com/selenium-testing/web_and_mobile_test_automation_drivers/\" rel=\"nofollow noreferrer\">Comparing and combining web and mobile test automation drivers</a> article for more details.</p>\n\n<ol start=\"2\">\n<li>If You project is maven-based, could You please also  double check the dependencies? \nFor example, please see latest appium updates <a href=\"https://discuss.appium.io/t/java-client-5-0-2-released/18439\" rel=\"nofollow noreferrer\">here</a>\n<a href=\"https://i.stack.imgur.com/DLPr9.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/DLPr9.png\" alt=\"enter image description here\"></a></li>\n</ol>\n\n<p>Appropriate maven repo to check for (latest) java client: \n<a href=\"https://mvnrepository.com/artifact/io.appium/java-client\" rel=\"nofollow noreferrer\">https://mvnrepository.com/artifact/io.appium/java-client</a></p>\n"},{"tags":[],"owner":{"account_id":29934924,"reputation":1,"user_id":22940929,"display_name":"Anish kumar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700475004,"creation_date":1700316887,"answer_id":77507248,"question_id":56401779,"body_markdown":"The constructor `AndroidDriver(URL, DesiredCapabilities)` is undefined.\r\n\r\nI solved the issue while using these versions:\r\n\r\n java-client \r\n\r\n    &lt;version&gt;8.3.0&lt;/version&gt;\r\n\r\nTestNg\r\n\r\n    &lt;version&gt;6.14.3&lt;/version&gt;","title":"Not found constructor AndroidDriver with Appium in eclipse","body":"<p>The constructor <code>AndroidDriver(URL, DesiredCapabilities)</code> is undefined.</p>\n<p>I solved the issue while using these versions:</p>\n<p>java-client</p>\n<pre><code>&lt;version&gt;8.3.0&lt;/version&gt;\n</code></pre>\n<p>TestNg</p>\n<pre><code>&lt;version&gt;6.14.3&lt;/version&gt;\n</code></pre>\n"}],"owner":{"account_id":16050989,"reputation":35,"user_id":11584882,"display_name":"Lorena C. Estrella R."},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2005,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":56401804,"answer_count":3,"score":2,"last_activity_date":1700475004,"creation_date":1559337103,"question_id":56401779,"body_markdown":" **Code with errors:**\r\n\r\n    package TestCase;\r\n\r\n    import java.net.MalformedURLException;\r\n    import java.net.URI;\r\n    import java.util.concurrent.TimeUnit;\r\n    import org.openqa.selenium.By;\r\n    import org.openqa.selenium.remote.CapabilityType;\r\n    import org.openqa.selenium.remote.DesiredCapabilities;\r\n    import com.gargoylesoftware.htmlunit.javascript.host.URL;\r\n    import io.appium.java_client.AppiumDriver;\r\n    import io.appium.java_client.android.AndroidDriver;\r\n    import io.appium.java_client.remote.MobileCapabilityType;\r\n    import io.appium.java_client.remote.MobilePlatform;\r\n    \r\n    public class TestWebBrowser {\r\n    \t//AppiumDriver driver = new IOSDriver();\r\n    \tpublic static AndroidDriver driver;\r\n    \t\r\n    \tpublic static void main(String[] args) throws MalformedURLException {    \t\t\r\n    \t\tDesiredCapabilities capabilities = new DesiredCapabilities();\t\r\n\t        driver = new AndroidDriver(new URL(&quot;http://127.0.0.1:4723/wd/hub&quot;), capabilities);\t\r\n\t    }\r\n    }\r\n\r\nThe message error is:\r\n\r\n&gt; - The constructor URL(string) is undefined\r\n&gt; - The constructor AndroidDriver(URL, DesiredCapabilities) is undefined\r\n&gt; - AndroidDriver is a raw type\r\n\r\nI have tried with different versions of java-client and still the problem persists","title":"Not found constructor AndroidDriver with Appium in eclipse","body":"<p><strong>Code with errors:</strong></p>\n\n<pre><code>package TestCase;\n\nimport java.net.MalformedURLException;\nimport java.net.URI;\nimport java.util.concurrent.TimeUnit;\nimport org.openqa.selenium.By;\nimport org.openqa.selenium.remote.CapabilityType;\nimport org.openqa.selenium.remote.DesiredCapabilities;\nimport com.gargoylesoftware.htmlunit.javascript.host.URL;\nimport io.appium.java_client.AppiumDriver;\nimport io.appium.java_client.android.AndroidDriver;\nimport io.appium.java_client.remote.MobileCapabilityType;\nimport io.appium.java_client.remote.MobilePlatform;\n\npublic class TestWebBrowser {\n    //AppiumDriver driver = new IOSDriver();\n    public static AndroidDriver driver;\n\n    public static void main(String[] args) throws MalformedURLException {           \n        DesiredCapabilities capabilities = new DesiredCapabilities();   \n        driver = new AndroidDriver(new URL(\"http://127.0.0.1:4723/wd/hub\"), capabilities);  \n    }\n}\n</code></pre>\n\n<p>The message error is:</p>\n\n<blockquote>\n  <ul>\n  <li>The constructor URL(string) is undefined</li>\n  <li>The constructor AndroidDriver(URL, DesiredCapabilities) is undefined</li>\n  <li>AndroidDriver is a raw type</li>\n  </ul>\n</blockquote>\n\n<p>I have tried with different versions of java-client and still the problem persists</p>\n"},{"tags":["java","netbeans","pdfbox"],"comments":[{"owner":{"account_id":956558,"reputation":30924,"user_id":981744,"display_name":"Erwin Bolwidt"},"score":1,"creation_date":1592271882,"post_id":62399527,"comment_id":110359511,"body_markdown":"And, what is the problem with the code that you posted? Where are you stuck? Note that, it&#39;s unlikely they you&#39;ll be able to find out what page the user last read, or do something just before the user closes it, unless either you have written the PDF reader yourself (in Java, or another language), or the PD reader has some published API to get access to it. So first step would likely be to investigate the PDF reader that you&#39;re using and find out how you can control/query it, if that&#39;s possible at all.","body":"And, what is the problem with the code that you posted? Where are you stuck? Note that, it&#39;s unlikely they you&#39;ll be able to find out what page the user last read, or do something just before the user closes it, unless either you have written the PDF reader yourself (in Java, or another language), or the PD reader has some published API to get access to it. So first step would likely be to investigate the PDF reader that you&#39;re using and find out how you can control/query it, if that&#39;s possible at all."},{"owner":{"account_id":18790700,"reputation":11,"user_id":13703216,"display_name":"Shean98"},"score":0,"creation_date":1592272649,"post_id":62399527,"comment_id":110359690,"body_markdown":"Erwin, im using a library called PDFBox, but I think there is a way to find the number of page. I am reading the methods of this library, but i cant find any that can solve my problem :(","body":"Erwin, im using a library called PDFBox, but I think there is a way to find the number of page. I am reading the methods of this library, but i cant find any that can solve my problem :("},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":2,"creation_date":1592284439,"post_id":62399527,"comment_id":110362215,"body_markdown":"Pdfbox is a library you can use to manipulate the pdf. But it does not communicate with arbitrary pdf viewers to get to know the last page open.","body":"Pdfbox is a library you can use to manipulate the pdf. But it does not communicate with arbitrary pdf viewers to get to know the last page open."}],"answers":[{"comments":[{"owner":{"account_id":27699053,"reputation":2348,"user_id":21144042,"display_name":"Diego Borba"},"score":1,"creation_date":1700478379,"post_id":77514974,"comment_id":136655327,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/77514974/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":1,"creation_date":1700487452,"post_id":77514974,"comment_id":136656983,"body_markdown":"How does your answer relate to the question? How does it determine _the last page that the user read before closing the PDF_?","body":"How does your answer relate to the question? How does it determine <i>the last page that the user read before closing the PDF</i>?"}],"tags":[],"owner":{"account_id":10050908,"reputation":1,"user_id":7430763,"display_name":"sejeeth"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700474870,"creation_date":1700474870,"answer_id":77514974,"question_id":62399527,"body_markdown":"      fun extract(document: PDDocument?): String? {\r\n        if (document === null) return null\r\n        val totalPages = document.numberOfPages\r\n        var pdfTextStripper = PDFTextStripper();\r\n        var pageText: String = &quot;&quot;\r\n        var array = JSONArray();\r\n        for (i in 1..totalPages) {\r\n          val rootObject= JSONObject()\r\n          pdfTextStripper.setStartPage(i)\r\n          pdfTextStripper.setEndPage(i)\r\n          pageText = pdfTextStripper.getText(document)\r\n          rootObject.put(&quot;pagenumber&quot;,(i).toString())\r\n          rootObject.put(&quot;pageContent&quot;,pageText)\r\n          array.put(rootObject)\r\n        }\r\n        return StringHandler.format((array).toString())\r\n      }\r\n    ","title":"How to get current page number with PDFBox","body":"<pre><code>  fun extract(document: PDDocument?): String? {\n    if (document === null) return null\n    val totalPages = document.numberOfPages\n    var pdfTextStripper = PDFTextStripper();\n    var pageText: String = &quot;&quot;\n    var array = JSONArray();\n    for (i in 1..totalPages) {\n      val rootObject= JSONObject()\n      pdfTextStripper.setStartPage(i)\n      pdfTextStripper.setEndPage(i)\n      pageText = pdfTextStripper.getText(document)\n      rootObject.put(&quot;pagenumber&quot;,(i).toString())\n      rootObject.put(&quot;pageContent&quot;,pageText)\n      array.put(rootObject)\n    }\n    return StringHandler.format((array).toString())\n  }\n</code></pre>\n"}],"owner":{"account_id":18790700,"reputation":11,"user_id":13703216,"display_name":"Shean98"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":161,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1700474870,"creation_date":1592270447,"question_id":62399527,"body_markdown":"When the user is reading the pdf and finish to read this, and close the pdf, I need to save the last page that the user read before closing the PDF with PDFBox library 2.0.20\r\n\r\n```\r\ntry {\r\n      InputStream bos = new ByteArrayInputStream(lib.getPdf()); // lib.getPdf returns the pdf file in byte[] array.\r\n      int tama&#241;oPDF= bos.available();\r\n      byte [] datosPDF = new byte [tama&#241;oPDF];\r\n      bos.read(datosPDF, 0 , tama&#241;oPDF);\r\n      OutputStream out = new FileOutputStream (button.getText());\r\n      out.write(datosPDF);\r\n      button.addActionListener(new ActionListener(){ //setting an action to a button.\r\n      public void actionPerformed(ActionEvent ae)\r\n        {try {\r\n            Desktop.getDesktop().open(new File(button.getText())); //the pdf is opened\r\n            out.close(); //here I think I have to insert the code that save the page number\r\n            } catch (IOException ex) {\r\n                            Logger.getLogger(InfoDelLibro.class.getName()).log(Level.SEVERE, null, ex);\r\n                        }\r\n                             \r\n                    }\r\n          });\r\n                    \r\n                    \r\n    } catch (IOException ex) {\r\n         Logger.getLogger(InfoDelLibro.class.getName()).log(Level.SEVERE, null, ex);\r\n    }\r\n```\r\n","title":"How to get current page number with PDFBox","body":"<p>When the user is reading the pdf and finish to read this, and close the pdf, I need to save the last page that the user read before closing the PDF with PDFBox library 2.0.20</p>\n\n<pre><code>try {\n      InputStream bos = new ByteArrayInputStream(lib.getPdf()); // lib.getPdf returns the pdf file in byte[] array.\n      int tamaÃ±oPDF= bos.available();\n      byte [] datosPDF = new byte [tamaÃ±oPDF];\n      bos.read(datosPDF, 0 , tamaÃ±oPDF);\n      OutputStream out = new FileOutputStream (button.getText());\n      out.write(datosPDF);\n      button.addActionListener(new ActionListener(){ //setting an action to a button.\n      public void actionPerformed(ActionEvent ae)\n        {try {\n            Desktop.getDesktop().open(new File(button.getText())); //the pdf is opened\n            out.close(); //here I think I have to insert the code that save the page number\n            } catch (IOException ex) {\n                            Logger.getLogger(InfoDelLibro.class.getName()).log(Level.SEVERE, null, ex);\n                        }\n\n                    }\n          });\n\n\n    } catch (IOException ex) {\n         Logger.getLogger(InfoDelLibro.class.getName()).log(Level.SEVERE, null, ex);\n    }\n</code></pre>\n"},{"tags":["java","android","nfs","nfsclient"],"comments":[{"owner":{"account_id":6023206,"reputation":7990,"user_id":4729721,"display_name":"a_local_nobody"},"score":0,"creation_date":1578644675,"post_id":59677723,"comment_id":105513332,"body_markdown":"are you sure this question isn&#39;t off-topic here ?","body":"are you sure this question isn&#39;t off-topic here ?"},{"owner":{"account_id":7357487,"reputation":594,"user_id":5601761,"display_name":"SoulaimenK"},"score":1,"creation_date":1578645734,"post_id":59677723,"comment_id":105513794,"body_markdown":"Yes, I&#39;m sure that isn&#39;t","body":"Yes, I&#39;m sure that isn&#39;t"},{"owner":{"account_id":15520890,"reputation":899,"user_id":11197115,"display_name":"Javier"},"score":0,"creation_date":1578921200,"post_id":59677723,"comment_id":105585311,"body_markdown":"Do you have any code you have tried and the exception that the code had?","body":"Do you have any code you have tried and the exception that the code had?"},{"owner":{"account_id":7357487,"reputation":594,"user_id":5601761,"display_name":"SoulaimenK"},"score":0,"creation_date":1578922588,"post_id":59677723,"comment_id":105585966,"body_markdown":"@Javier: No, I don&#39;t have tried","body":"@Javier: No, I don&#39;t have tried"}],"answers":[{"tags":[],"owner":{"account_id":2095910,"reputation":6508,"user_id":1864688,"display_name":"guest"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1579106143,"creation_date":1579106143,"answer_id":59755832,"question_id":59677723,"body_markdown":"In Android app development, there&#39;s no mounting at the Linux vfs layer. So you wouldn&#39;t be able to achieve exactly the same result.\r\n\r\nThere closest thing I&#39;m aware of is the documents provider system https://developer.android.com/reference/android/provider/DocumentsProvider. From the documentation:\r\n\r\n&gt; A document provider offers read and write access to durable files, such as files stored on a local disk, or files in a cloud storage service.\r\n\r\nYou&#39;d implement methods such as `openFile` in your NFS documents provider by, for example, downloading a copy through the library you found, opening it, and forwarding a parcelable file descriptor in the return value.","title":"Android NFS Client","body":"<p>In Android app development, there's no mounting at the Linux vfs layer. So you wouldn't be able to achieve exactly the same result.</p>\n\n<p>There closest thing I'm aware of is the documents provider system <a href=\"https://developer.android.com/reference/android/provider/DocumentsProvider\" rel=\"nofollow noreferrer\">https://developer.android.com/reference/android/provider/DocumentsProvider</a>. From the documentation:</p>\n\n<blockquote>\n  <p>A document provider offers read and write access to durable files, such as files stored on a local disk, or files in a cloud storage service.</p>\n</blockquote>\n\n<p>You'd implement methods such as <code>openFile</code> in your NFS documents provider by, for example, downloading a copy through the library you found, opening it, and forwarding a parcelable file descriptor in the return value.</p>\n"}],"owner":{"account_id":7357487,"reputation":594,"user_id":5601761,"display_name":"SoulaimenK"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":12816,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":1,"score":1,"last_activity_date":1700474460,"creation_date":1578644068,"question_id":59677723,"body_markdown":"I have found a good library to implement an Android NFS Client [&#39;nfs-client-java&#39;][1], I&#39;m creating an Nfs3 Client and I can access files and create new files... on the server. But the problem is that I can&#39;t mount the whole shared directory from the server. On Linux NFS Client, I can specify the mount point with \r\n\r\n    mount -t nfs -o nolock,rw,vers=3 192.168.1.10:/media/user/ /mnt/media_rw/remote\r\n\r\nwhere `/mnt/media_rw/remote` is where the shared directory will be mounted.\r\n\r\nMy question is: How can I achieve the same result on Android App ?\r\n\r\n\r\n  [1]: https://github.com/EMCECS/nfs-client-java","title":"Android NFS Client","body":"<p>I have found a good library to implement an Android NFS Client <a href=\"https://github.com/EMCECS/nfs-client-java\" rel=\"nofollow noreferrer\">'nfs-client-java'</a>, I'm creating an Nfs3 Client and I can access files and create new files... on the server. But the problem is that I can't mount the whole shared directory from the server. On Linux NFS Client, I can specify the mount point with </p>\n\n<pre><code>mount -t nfs -o nolock,rw,vers=3 192.168.1.10:/media/user/ /mnt/media_rw/remote\n</code></pre>\n\n<p>where <code>/mnt/media_rw/remote</code> is where the shared directory will be mounted.</p>\n\n<p>My question is: How can I achieve the same result on Android App ?</p>\n"},{"tags":["java","kotlin","unit-testing","code-coverage","android-jacoco"],"owner":{"account_id":5065608,"reputation":644,"user_id":4065769,"display_name":"Ahamed Mujeeb"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":124,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1700474396,"creation_date":1700472580,"question_id":77514743,"body_markdown":"I&#39;m trying to exclude some classes &amp; packages which are based on HILT generated contents, few modules &amp; all BindingImplementations from the JACOCO report. It does not return the expected results. \r\n\r\nDetails follow,\r\n\r\n&gt; Kotlin Version -&gt; 1.9.0, Gradle Version -&gt; 8.1.1, Java Compatibility\r\n&gt; -&gt; Java Version 17, Jacoco Tool Version -&gt; 0.8.8\r\n\r\nApp Gradle\r\n\r\n    debug {\r\n            testCoverageEnabled true\r\n          }\r\n\r\n    implementation &quot;org.jacoco:org.jacoco.core:0.8.8&quot;\r\n\r\nJacoco.gradle file.\r\n\r\n    jacoco {\r\n     \ttoolVersion = &quot;0.8.8&quot;\r\n\t}\r\n\r\n    project.afterEvaluate {\r\n  \t  android.applicationVariants.all { variant -&gt;\r\n    \tcreateVariantCoverage(variant)\r\n  \t  }\r\n\t}\r\n\r\n    ext {\r\n    \texcludedSource = [\r\n        \t&#39;**/databinding/*.*&#39;,\r\n        \t&#39;**/R.class&#39;,\r\n        \t&#39;**/R$*.class&#39;,\r\n        \t&#39;**/BuildConfig.*&#39;,\r\n        \t&#39;**/Manifest*.*&#39;,\r\n        \t&#39;**/*Test*.*&#39;,\r\n        \t&#39;android/**/*.*&#39;,\r\n        \t&#39;**/*$ViewInjector*.*&#39;,\r\n        \t&#39;**/*$ViewBinder*.*&#39;,\r\n        \t&#39;**/*_MembersInjector.class&#39;,\r\n        \t&#39;**/Dagger*Component*.*&#39;,\r\n        \t&#39;**/*Module_*Factory.class&#39;,\r\n        \t&#39;**/di/module/*&#39;,\r\n        \t&#39;**/*_Factory*.*&#39;,\r\n        \t&#39;**/*MapperImpl*.*&#39;,\r\n        \t&#39;**/*$ViewInjector*.*&#39;,\r\n        \t&#39;**/*$ViewBinder*.*&#39;,\r\n        \t&#39;**/BuildConfig.*&#39;,\r\n        \t&#39;**/*Component*.*&#39;,\r\n        \t&#39;**/*BR*.*&#39;,\r\n        \t&#39;**/Manifest*.*&#39;,\r\n        \t&#39;**/*$Lambda$*.*&#39;,\r\n        \t&#39;**/*Module*.*&#39;,\r\n        \t&#39;**/*Dagger*.*&#39;,\r\n        \t&#39;**/*Hilt*.*&#39;,\r\n        \t&#39;**/*MembersInjector*.*&#39;,\r\n        \t&#39;**/*_MembersInjector.class&#39;,\r\n        \t&#39;**/*_Factory*.*&#39;,\r\n        \t&#39;**/*_Provide*Factory*.*&#39;,\r\n        \t&#39;**/*Extensions*.*&#39;\r\n      \t]\r\n\t}\r\n\r\n    def createVariantCoverage(variant) {\r\n    \tdef variantName = variant.name\r\n\t    def testTaskName = &quot;test${variantName.capitalize()}UnitTest&quot;\r\n    \r\n\r\n    // Add unit test coverage tasks\r\n\ttasks.create(name: &quot;${testTaskName}Coverage&quot;, type: JacocoReport, dependsOn: &quot;$testTaskName&quot;) {\r\n    \tgroup = &quot;Reporting&quot;\r\n    \tdescription = &quot;Generate Jacoco coverage reports for the ${variantName.capitalize()} build.&quot;\r\n    \r\n    \t  reports {\r\n        \t  html {\r\n            \t  destination file(&quot;${buildDir}/coverage-report&quot;)\r\n        \t  }\r\n    \t  }\r\n    \r\n    \t  def javaClasses = fileTree(dir: variant.javaCompileProvider.get().destinationDir, excludes: excludedSource)\r\n    \r\n    \t  def kotlinClasses = fileTree(dir: &quot;${buildDir}/tmp/kotlin-classes/${variantName}&quot;, excludes: excludedSource)\r\n    \r\n    \t  classDirectories.setFrom(files([javaClasses, kotlinClasses]))\r\n    \r\n    \t  sourceDirectories.setFrom(files([\r\n            \t  &quot;$project.projectDir/src/main/java&quot;\r\n    \t  ]))\r\n    \r\n    \t  executionData.setFrom(files(&quot;${project.buildDir}/outputs/unit_test_code_coverage/${variantName}UnitTest/${testTaskName}.exec&quot;))\r\n    \r\n    \t   doLast {\r\n        \t  def m = new File(&quot;${project.buildDir}/reports/jacoco/${testTaskName}Coverage/html/index.html&quot;)\r\n                \t.text =~ /Total[^%]*&gt;(\\d?\\d?\\d?%)/\r\n        \t  if (m) {\r\n            \t  println &quot;Test coverage: ${m[0][1]}&quot;\r\n        \t  }\r\n    \t  }\r\n\t   }\r\n\r\n    }\r\n\r\n\r\n","title":"Cannot obtain expected Coverage report by Excluding classes and packages using Jacoco (Gradle) plugin in Android","body":"<p>I'm trying to exclude some classes &amp; packages which are based on HILT generated contents, few modules &amp; all BindingImplementations from the JACOCO report. It does not return the expected results.</p>\n<p>Details follow,</p>\n<blockquote>\n<p>Kotlin Version -&gt; 1.9.0, Gradle Version -&gt; 8.1.1, Java Compatibility\n-&gt; Java Version 17, Jacoco Tool Version -&gt; 0.8.8</p>\n</blockquote>\n<p>App Gradle</p>\n<pre><code>debug {\n        testCoverageEnabled true\n      }\n\nimplementation &quot;org.jacoco:org.jacoco.core:0.8.8&quot;\n</code></pre>\n<p>Jacoco.gradle file.</p>\n<pre><code>jacoco {\n    toolVersion = &quot;0.8.8&quot;\n}\n\nproject.afterEvaluate {\n  android.applicationVariants.all { variant -&gt;\n    createVariantCoverage(variant)\n  }\n}\n\next {\n    excludedSource = [\n        '**/databinding/*.*',\n        '**/R.class',\n        '**/R$*.class',\n        '**/BuildConfig.*',\n        '**/Manifest*.*',\n        '**/*Test*.*',\n        'android/**/*.*',\n        '**/*$ViewInjector*.*',\n        '**/*$ViewBinder*.*',\n        '**/*_MembersInjector.class',\n        '**/Dagger*Component*.*',\n        '**/*Module_*Factory.class',\n        '**/di/module/*',\n        '**/*_Factory*.*',\n        '**/*MapperImpl*.*',\n        '**/*$ViewInjector*.*',\n        '**/*$ViewBinder*.*',\n        '**/BuildConfig.*',\n        '**/*Component*.*',\n        '**/*BR*.*',\n        '**/Manifest*.*',\n        '**/*$Lambda$*.*',\n        '**/*Module*.*',\n        '**/*Dagger*.*',\n        '**/*Hilt*.*',\n        '**/*MembersInjector*.*',\n        '**/*_MembersInjector.class',\n        '**/*_Factory*.*',\n        '**/*_Provide*Factory*.*',\n        '**/*Extensions*.*'\n    ]\n}\n\ndef createVariantCoverage(variant) {\n    def variantName = variant.name\n    def testTaskName = &quot;test${variantName.capitalize()}UnitTest&quot;\n\n\n// Add unit test coverage tasks\ntasks.create(name: &quot;${testTaskName}Coverage&quot;, type: JacocoReport, dependsOn: &quot;$testTaskName&quot;) {\n    group = &quot;Reporting&quot;\n    description = &quot;Generate Jacoco coverage reports for the ${variantName.capitalize()} build.&quot;\n\n      reports {\n          html {\n              destination file(&quot;${buildDir}/coverage-report&quot;)\n          }\n      }\n\n      def javaClasses = fileTree(dir: variant.javaCompileProvider.get().destinationDir, excludes: excludedSource)\n\n      def kotlinClasses = fileTree(dir: &quot;${buildDir}/tmp/kotlin-classes/${variantName}&quot;, excludes: excludedSource)\n\n      classDirectories.setFrom(files([javaClasses, kotlinClasses]))\n\n      sourceDirectories.setFrom(files([\n              &quot;$project.projectDir/src/main/java&quot;\n      ]))\n\n      executionData.setFrom(files(&quot;${project.buildDir}/outputs/unit_test_code_coverage/${variantName}UnitTest/${testTaskName}.exec&quot;))\n\n       doLast {\n          def m = new File(&quot;${project.buildDir}/reports/jacoco/${testTaskName}Coverage/html/index.html&quot;)\n                .text =~ /Total[^%]*&gt;(\\d?\\d?\\d?%)/\n          if (m) {\n              println &quot;Test coverage: ${m[0][1]}&quot;\n          }\n      }\n   }\n\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","rest"],"answers":[{"comments":[{"owner":{"account_id":8901665,"reputation":315,"user_id":6644926,"accept_rate":12,"display_name":"Ð’Ð»Ð°Ð´Ð¸Ð¼Ð¸Ñ€ Ð“Ð¸Ñ‡ÐµÐ²"},"score":0,"creation_date":1700467789,"post_id":77510146,"comment_id":136653647,"body_markdown":"It doesn&#39;t work. The file is deleted before fully downloading.","body":"It doesn&#39;t work. The file is deleted before fully downloading."},{"owner":{"account_id":21741636,"reputation":1162,"user_id":16048914,"display_name":"David Weber"},"score":1,"creation_date":1700467906,"post_id":77510146,"comment_id":136653665,"body_markdown":"Then please check out this: https://stackoverflow.com/questions/53036981/spring-boot-callback-after-client-receives-resource","body":"Then please check out this: <a href=\"https://stackoverflow.com/questions/53036981/spring-boot-callback-after-client-receives-resource\" title=\"spring boot callback after client receives resource\">stackoverflow.com/questions/53036981/&hellip;</a>"},{"owner":{"account_id":8901665,"reputation":315,"user_id":6644926,"accept_rate":12,"display_name":"Ð’Ð»Ð°Ð´Ð¸Ð¼Ð¸Ñ€ Ð“Ð¸Ñ‡ÐµÐ²"},"score":0,"creation_date":1700472101,"post_id":77510146,"comment_id":136654266,"body_markdown":"Following the link you gave me I added Interceptor and afterCompletion method. In afterCompletion I added the logic for deleting the file and it works like a charm! Thank you!","body":"Following the link you gave me I added Interceptor and afterCompletion method. In afterCompletion I added the logic for deleting the file and it works like a charm! Thank you!"},{"owner":{"account_id":21741636,"reputation":1162,"user_id":16048914,"display_name":"David Weber"},"score":0,"creation_date":1700474367,"post_id":77510146,"comment_id":136654654,"body_markdown":"You are welcome. I edited my answer so other developers can find the solution too!","body":"You are welcome. I edited my answer so other developers can find the solution too!"}],"tags":[],"owner":{"account_id":21741636,"reputation":1162,"user_id":16048914,"display_name":"David Weber"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700474325,"creation_date":1700383066,"answer_id":77510146,"question_id":77501017,"body_markdown":"**Edit:**\r\n\r\nThe solution was to add an Interceptor and the `afterCompletion()`. In the `afterCompletion()` the needed logic for deleting the file was implemented.\r\n\r\nExample:\r\n\r\n    @GetMapping(value = &quot;generateZipFile&quot;)\r\n    public ResponseEntity&lt;Resource&gt; genereateZipFile(@RequestParam(&quot;id&quot;) Integer id,\r\n                                                     RedirectAttributes redirectAttributes) throws IOException {\r\n        org.springframework.core.io.Resource resource = myService.generateTmpResource(id);;\r\n        return ResponseEntity.ok()\r\n                .header(HttpHeaders.CONTENT_TYPE, &quot;application/zip&quot;)\r\n                .header(MyInterceptor.TMP_RESOURCE_ID_HEADER, id.toString())\r\n                .header(HttpHeaders.CONTENT_DISPOSITION, &quot;attachment; filename=\\&quot;someFile.zip\\&quot;&quot;)\r\n                .body(resource);\r\n    \r\n    }\r\n\r\n\r\n    The interceptor code:\r\n    \r\n    @Component\r\n    public class MyInterceptor extends HandlerInterceptorAdapter {\r\n    \r\n        public static final String TMP_RESOURCE_ID_HEADER = &quot;Tmp-ID&quot;;\r\n    \r\n        @Autowired\r\n        private MyService myService;\r\n    \r\n        @Override\r\n        public void afterCompletion(HttpServletRequest request,\r\n                                    HttpServletResponse response,\r\n                                    Object handler,\r\n                                    Exception ex) {\r\n            if(response == null || !response.containsHeader(TMP_RESOURCE_ID_HEADER)) return;\r\n            String tmpFileId = response.getHeader(TMP_RESOURCE_ID_HEADER);\r\n            myService.cleanup(tmpFileId);\r\n        }\r\n    }\r\n\r\nExplanations taken from here: https://stackoverflow.com/questions/53036981/spring-boot-callback-after-client-receives-resource\r\n\r\n**Old (does bot work properly):**\r\n\r\nYou can add a `finally` clause to your try catch in which you check if the file exists, and if yes, then delete the file. \r\n\r\nThe `finally` clause is executed guaranteed in ANY scenario and it is executed after `try` and `catch`.\r\n\r\n    @GetMapping(&quot;/download/{fileName:.+}&quot;)\r\n    public ResponseEntity&lt;Resource&gt; downloadFile(@PathVariable String fileName) {\r\n    try {\r\n        ...\r\n    } catch (Exception e) {\r\n        ...\r\n    } finally {\r\n        ... delete the file here if it exists\r\n    }\r\n        return ResponseEntity.notFound().build();\r\n    }","title":"Rest service download file and delete it after that","body":"<p><strong>Edit:</strong></p>\n<p>The solution was to add an Interceptor and the <code>afterCompletion()</code>. In the <code>afterCompletion()</code> the needed logic for deleting the file was implemented.</p>\n<p>Example:</p>\n<pre><code>@GetMapping(value = &quot;generateZipFile&quot;)\npublic ResponseEntity&lt;Resource&gt; genereateZipFile(@RequestParam(&quot;id&quot;) Integer id,\n                                                 RedirectAttributes redirectAttributes) throws IOException {\n    org.springframework.core.io.Resource resource = myService.generateTmpResource(id);;\n    return ResponseEntity.ok()\n            .header(HttpHeaders.CONTENT_TYPE, &quot;application/zip&quot;)\n            .header(MyInterceptor.TMP_RESOURCE_ID_HEADER, id.toString())\n            .header(HttpHeaders.CONTENT_DISPOSITION, &quot;attachment; filename=\\&quot;someFile.zip\\&quot;&quot;)\n            .body(resource);\n\n}\n\n\nThe interceptor code:\n\n@Component\npublic class MyInterceptor extends HandlerInterceptorAdapter {\n\n    public static final String TMP_RESOURCE_ID_HEADER = &quot;Tmp-ID&quot;;\n\n    @Autowired\n    private MyService myService;\n\n    @Override\n    public void afterCompletion(HttpServletRequest request,\n                                HttpServletResponse response,\n                                Object handler,\n                                Exception ex) {\n        if(response == null || !response.containsHeader(TMP_RESOURCE_ID_HEADER)) return;\n        String tmpFileId = response.getHeader(TMP_RESOURCE_ID_HEADER);\n        myService.cleanup(tmpFileId);\n    }\n}\n</code></pre>\n<p>Explanations taken from here: <a href=\"https://stackoverflow.com/questions/53036981/spring-boot-callback-after-client-receives-resource\">Spring Boot Callback after client receives resource?</a></p>\n<p><strong>Old (does bot work properly):</strong></p>\n<p>You can add a <code>finally</code> clause to your try catch in which you check if the file exists, and if yes, then delete the file.</p>\n<p>The <code>finally</code> clause is executed guaranteed in ANY scenario and it is executed after <code>try</code> and <code>catch</code>.</p>\n<pre><code>@GetMapping(&quot;/download/{fileName:.+}&quot;)\npublic ResponseEntity&lt;Resource&gt; downloadFile(@PathVariable String fileName) {\ntry {\n    ...\n} catch (Exception e) {\n    ...\n} finally {\n    ... delete the file here if it exists\n}\n    return ResponseEntity.notFound().build();\n}\n</code></pre>\n"}],"owner":{"account_id":8901665,"reputation":315,"user_id":6644926,"accept_rate":12,"display_name":"Ð’Ð»Ð°Ð´Ð¸Ð¼Ð¸Ñ€ Ð“Ð¸Ñ‡ÐµÐ²"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1700474325,"creation_date":1700217778,"question_id":77501017,"body_markdown":"I have the current code for download a file:\r\n\r\n    @GetMapping(&quot;/download/{fileName:.+}&quot;)\r\n    public ResponseEntity&lt;Resource&gt; downloadFile(@PathVariable String fileName) {\r\n    try {\r\n        Path filePath = Paths.get(directoryPath).resolve(fileName);\r\n        Resource resource = new UrlResource(filePath.toUri());\r\n        if (resource.exists() &amp;&amp; resource.isReadable()) {\r\n    \tHttpHeaders headers = new HttpHeaders();\r\n    \theaders.setContentType(MediaType.APPLICATION_OCTET_STREAM);\r\n    \theaders.setContentDispositionFormData(&quot;attachment&quot;, fileName);\r\n    \treturn ResponseEntity.ok().headers(headers).body(resource);\r\n        } else {\r\n    \tlogger.error(&quot;File not found: &quot; + fileName );\r\n    \treturn ResponseEntity.notFound().build();\r\n        }\r\n    } catch (Exception e) {\r\n        logger.error(&quot;Error while downloading file: &quot; + fileName, e);\r\n    }\r\n    return ResponseEntity.notFound().build();\r\n    }\r\n\r\n\r\nbut now i need to implement logic to delete the file in some conditions. I tried to create the `Resource` object and delete it after that but the file is deleted before fully download it. How can I delete the file after file is downloaded or stopped by the client?","title":"Rest service download file and delete it after that","body":"<p>I have the current code for download a file:</p>\n<pre><code>@GetMapping(&quot;/download/{fileName:.+}&quot;)\npublic ResponseEntity&lt;Resource&gt; downloadFile(@PathVariable String fileName) {\ntry {\n    Path filePath = Paths.get(directoryPath).resolve(fileName);\n    Resource resource = new UrlResource(filePath.toUri());\n    if (resource.exists() &amp;&amp; resource.isReadable()) {\n    HttpHeaders headers = new HttpHeaders();\n    headers.setContentType(MediaType.APPLICATION_OCTET_STREAM);\n    headers.setContentDispositionFormData(&quot;attachment&quot;, fileName);\n    return ResponseEntity.ok().headers(headers).body(resource);\n    } else {\n    logger.error(&quot;File not found: &quot; + fileName );\n    return ResponseEntity.notFound().build();\n    }\n} catch (Exception e) {\n    logger.error(&quot;Error while downloading file: &quot; + fileName, e);\n}\nreturn ResponseEntity.notFound().build();\n}\n</code></pre>\n<p>but now i need to implement logic to delete the file in some conditions. I tried to create the <code>Resource</code> object and delete it after that but the file is deleted before fully download it. How can I delete the file after file is downloaded or stopped by the client?</p>\n"},{"tags":["java","maven","maven-3","command-line-arguments","custom-headers"],"answers":[{"comments":[{"owner":{"account_id":17220083,"reputation":3,"user_id":12467050,"display_name":"Asaf Ambar"},"score":0,"creation_date":1700471787,"post_id":77490316,"comment_id":136654217,"body_markdown":"Thank you! I still didn&#39;t get it, how is it possible to use this property if not from command line?","body":"Thank you! I still didn&#39;t get it, how is it possible to use this property if not from command line?"},{"owner":{"account_id":3793708,"reputation":7679,"user_id":3149528,"accept_rate":50,"display_name":"Slawomir Jaranowski"},"score":0,"creation_date":1700473616,"post_id":77490316,"comment_id":136654542,"body_markdown":"I added example code in answer - I hope it will be more clear","body":"I added example code in answer - I hope it will be more clear"},{"owner":{"account_id":17220083,"reputation":3,"user_id":12467050,"display_name":"Asaf Ambar"},"score":0,"creation_date":1700480244,"post_id":77490316,"comment_id":136655637,"body_markdown":"Tnx, and what about `aether.connector.http.headers`? It&#39;s not an argument that can be in use anywhere ?","body":"Tnx, and what about <code>aether.connector.http.headers</code>? It&#39;s not an argument that can be in use anywhere ?"}],"tags":[],"owner":{"account_id":3793708,"reputation":7679,"user_id":3149528,"accept_rate":50,"display_name":"Slawomir Jaranowski"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1700473564,"creation_date":1700075207,"answer_id":77490316,"question_id":77489005,"body_markdown":"As property configuration `aether.connector.http.header` is a complex type you can not specific it as user property on command line.\r\n\r\nFor custom headers you need configure it in your `settings.xml`, example configuration in `settings.xml`:\r\n\r\n\r\n```xml\r\n&lt;settings&gt;\r\n  &lt;servers&gt;\r\n    &lt;server&gt;\r\n      &lt;id&gt;my-server&lt;/id&gt;\r\n      &lt;configuration&gt;\r\n        &lt;httpHeaders&gt;\r\n          &lt;property&gt;\r\n            &lt;name&gt;Foo&lt;/name&gt;\r\n            &lt;value&gt;Bar&lt;/value&gt;\r\n          &lt;/property&gt;\r\n        &lt;/httpHeaders&gt;\r\n      &lt;/configuration&gt;\r\n    &lt;/server&gt;\r\n  &lt;/servers&gt;\r\n&lt;/settings&gt;\r\n```\r\n\r\nMore info: https://maven.apache.org/guides/mini/guide-resolver-transport.html","title":"Attempting to utilize the Maven argument &#39;aether.connector.http.headers&#39;","body":"<p>As property configuration <code>aether.connector.http.header</code> is a complex type you can not specific it as user property on command line.</p>\n<p>For custom headers you need configure it in your <code>settings.xml</code>, example configuration in <code>settings.xml</code>:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;settings&gt;\n  &lt;servers&gt;\n    &lt;server&gt;\n      &lt;id&gt;my-server&lt;/id&gt;\n      &lt;configuration&gt;\n        &lt;httpHeaders&gt;\n          &lt;property&gt;\n            &lt;name&gt;Foo&lt;/name&gt;\n            &lt;value&gt;Bar&lt;/value&gt;\n          &lt;/property&gt;\n        &lt;/httpHeaders&gt;\n      &lt;/configuration&gt;\n    &lt;/server&gt;\n  &lt;/servers&gt;\n&lt;/settings&gt;\n</code></pre>\n<p>More info: <a href=\"https://maven.apache.org/guides/mini/guide-resolver-transport.html\" rel=\"nofollow noreferrer\">https://maven.apache.org/guides/mini/guide-resolver-transport.html</a></p>\n"}],"owner":{"account_id":17220083,"reputation":3,"user_id":12467050,"display_name":"Asaf Ambar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77490316,"answer_count":1,"score":0,"last_activity_date":1700473564,"creation_date":1700062355,"question_id":77489005,"body_markdown":"I am using Maven version 3.9.5. I&#39;m attempting to execute a Maven command with the &#39;aether.connector.http.headers&#39; configuration option to include custom headers in all the HTTP requests made during the Maven process. However, none of the headers I&#39;ve set are visible in the requests when viewed through the configured proxy. My objective is to incorporate these custom headers into the Maven command without the need to modify settings.xml. \r\n\r\n\r\nAccording to the documentation, it is expected to support all configuration options from Maven 3.9 onwards, as outlined in the following link: https://maven.apache.org/resolver/configuration.html\r\n\r\nI executed the following command:\r\n\r\n```\r\nmvn install -Daether.connector.http.headers=key:value\r\n```\r\nExpected Outcome:\r\nThe HTTP request made during the Maven download dependencies process should include the header key:value.\r\n\r\nActual Outcome:\r\nThe custom header is not present in the request, as observed in the configured proxy. However, other general headers are present.","title":"Attempting to utilize the Maven argument &#39;aether.connector.http.headers&#39;","body":"<p>I am using Maven version 3.9.5. I'm attempting to execute a Maven command with the 'aether.connector.http.headers' configuration option to include custom headers in all the HTTP requests made during the Maven process. However, none of the headers I've set are visible in the requests when viewed through the configured proxy. My objective is to incorporate these custom headers into the Maven command without the need to modify settings.xml.</p>\n<p>According to the documentation, it is expected to support all configuration options from Maven 3.9 onwards, as outlined in the following link: <a href=\"https://maven.apache.org/resolver/configuration.html\" rel=\"nofollow noreferrer\">https://maven.apache.org/resolver/configuration.html</a></p>\n<p>I executed the following command:</p>\n<pre><code>mvn install -Daether.connector.http.headers=key:value\n</code></pre>\n<p>Expected Outcome:\nThe HTTP request made during the Maven download dependencies process should include the header key:value.</p>\n<p>Actual Outcome:\nThe custom header is not present in the request, as observed in the configured proxy. However, other general headers are present.</p>\n"},{"tags":["java","cryptography","aes","encryption"],"comments":[{"owner":{"account_id":288696,"reputation":91230,"user_id":589259,"accept_rate":82,"display_name":"Maarten Bodewes"},"score":0,"creation_date":1354369825,"post_id":13659795,"comment_id":18746144,"body_markdown":"Ciphertext and plain text consists of bytes, not characters. So after a direct translation to the *system character set* you may not get something that is printable. Make sure that you use the correct character set for the `String` constructor.","body":"Ciphertext and plain text consists of bytes, not characters. So after a direct translation to the <i>system character set</i> you may not get something that is printable. Make sure that you use the correct character set for the <code>String</code> constructor."}],"answers":[{"tags":[],"owner":{"account_id":277416,"reputation":681878,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1354368753,"creation_date":1354368753,"answer_id":13659926,"question_id":13659795,"body_markdown":"There could be other problems, but the cipher text in your question, after the 16 first bytes, starts with `0ec770`, whereas the cipher text in the Java code starts with\r\n\r\n    0x0e, 0xc, 0x77\r\n\r\nThey don&#39;t match.","title":"AES DEcryption in CTR mode (Java)","body":"<p>There could be other problems, but the cipher text in your question, after the 16 first bytes, starts with <code>0ec770</code>, whereas the cipher text in the Java code starts with</p>\n\n<pre><code>0x0e, 0xc, 0x77\n</code></pre>\n\n<p>They don't match.</p>\n"}],"owner":{"account_id":1612079,"reputation":55,"user_id":1490732,"display_name":"Joe"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10710,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":13659926,"answer_count":1,"score":5,"last_activity_date":1700473544,"creation_date":1354367738,"question_id":13659795,"body_markdown":"I have these information:\r\n\r\nCTR key: 36f18357be4dbd77f050515c73fcf9f2\r\n\r\nCTR Ciphertext 1:69dda8455c7dd4254bf353b773304eec0ec7702330098ce7f7520d1cbbb20fc3\\\r\n88d1b0adb5054dbd7370849dbf0b88d393f252e764f1f5f7ad97ef79d59ce29f5f51eeca32eabedd9afa9329\r\n\r\nNote that  the 16-byte encryption IV is chosen at random and is prepended to the ciphertext. And the text is encrypted with AES in CTR mode.\r\n\r\nI have to discover the plaintext\r\nTo do this I have written a short Java program but it doesn&#39;t work and I don&#39;t find why :/\r\n\r\nThis is the Java program\r\n\r\n    import java.nio.charset.Charset;\r\n    import javax.crypto.Cipher;\r\n    import javax.crypto.KeyGenerator;\r\n    import javax.crypto.spec.IvParameterSpec;\r\n    import javax.crypto.spec.SecretKeySpec;\r\n\r\n    public class AES {\r\n\r\n\t/**\r\n\t * @param args\r\n\t */\r\n\tpublic static void main(String[] args) throws Exception {\r\n\t\t// TODO Auto-generated method stub\r\n\t\t\r\n\t\t//Dernier exemple CTR mode\r\n\t\t//Cl&#233; 16 bits \r\n\t    byte[] keyBytes = new byte[] { (byte)0x36,(byte)0xf1,(byte)0x83,(byte)0x57,(byte)0xbe,(byte)0x4d,(byte)0xbd,(byte)0x77,(byte)0xf0,(byte)0x50,(byte)0x51,(byte)0x5c,0x73,(byte)0xfc,(byte)0xf9,(byte)0xf2};\r\n\t    //IV 16 bits (pr&#233;fixe du cipherText)\r\n\t    byte[] ivBytes = new byte[] {(byte)0x69,(byte)0xdd,(byte)0xa8,(byte)0x45,(byte)0x5c,(byte)0x7d,(byte)0xd4,(byte)0x25,(byte)0x4b,(byte)0xf3,(byte)0x53,(byte)0xb7,(byte)0x73,(byte)0x30,(byte)0x4e,(byte)0xec};\r\n\t    \r\n\t    //Initialisation\r\n\t    SecretKeySpec key = new SecretKeySpec(keyBytes, &quot;AES&quot;);\r\n\t    IvParameterSpec ivSpec = new IvParameterSpec(ivBytes);\r\n\t    \r\n\t    //Mode\r\n\t    Cipher cipher = Cipher.getInstance(&quot;AES/CTR/NoPadding&quot;);\r\n\t    \r\n\t    byte[]  cipherText = new byte[] {(byte)0x0e,(byte)0xc,(byte)0x77,(byte)0x02,(byte)0x33,(byte)0x00,(byte)0x98,(byte)0xce,(byte)0x7f,(byte)0x75,(byte)0x20,(byte)0xd1,(byte)0xcb,(byte)0xbb,(byte)0x20,(byte)0xfc,(byte)0x38,(byte)0x8d,(byte)0x1b,(byte)0x0a,(byte)0xdb,(byte)0x50,(byte)0x54,(byte)0xdb,(byte)0xd7,(byte)0x37,(byte)0x08,(byte)0x49,(byte)0xdb,(byte)0xf0,(byte)0xb8,(byte)0x8d,(byte)0x39,(byte)0x3f,(byte)0x25,(byte)0x2e,(byte)0x76,(byte)0x4f,(byte)0x1f,(byte)0x5f,(byte)0x7a,(byte)0xd9,(byte)0x7e,(byte)0xf7,(byte)0x9d,(byte)0x59,(byte)0xce,(byte)0x29,(byte)0xf5,(byte)0xf5,(byte)0x1e,(byte)0xec,(byte)0xa3,(byte)0x2e,(byte)0xab,(byte)0xed,(byte)0xd9,(byte)0xaf,(byte)0xa9,(byte)0x32,(byte)0x29}; \r\n\t    cipher.init(Cipher.DECRYPT_MODE, key, ivSpec);  \r\n\t    byte [] original = cipher.doFinal(cipherText);\r\n\t    String plaintext = new String(original);\r\n\t    System.out.println(&quot;plaintext: &quot; + plaintext );\r\n\t}\r\n\r\n}\r\n\r\nThe result is\r\n\r\n    =&gt; plaintext: CÅ¸UnfpL&#168;KH&#185;)VP&#197;|&#201;&#210;9}F&#197;g&#255;&#160;Å¾Q3Å &#174;&#185;z&#219;ËœË†&#177;&lt;&#254;&#227;h&#164;&#212;&#198;&#203;â€œM&#177;&#167;|@+0H5&#167;\r\n\r\nSo it seems to be wrong","title":"AES DEcryption in CTR mode (Java)","body":"<p>I have these information:</p>\n<p>CTR key: 36f18357be4dbd77f050515c73fcf9f2</p>\n<p>CTR Ciphertext 1:69dda8455c7dd4254bf353b773304eec0ec7702330098ce7f7520d1cbbb20fc3<br />\n88d1b0adb5054dbd7370849dbf0b88d393f252e764f1f5f7ad97ef79d59ce29f5f51eeca32eabedd9afa9329</p>\n<p>Note that  the 16-byte encryption IV is chosen at random and is prepended to the ciphertext. And the text is encrypted with AES in CTR mode.</p>\n<p>I have to discover the plaintext\nTo do this I have written a short Java program but it doesn't work and I don't find why :/</p>\n<p>This is the Java program</p>\n<pre><code>import java.nio.charset.Charset;\nimport javax.crypto.Cipher;\nimport javax.crypto.KeyGenerator;\nimport javax.crypto.spec.IvParameterSpec;\nimport javax.crypto.spec.SecretKeySpec;\n\npublic class AES {\n\n/**\n * @param args\n */\npublic static void main(String[] args) throws Exception {\n    // TODO Auto-generated method stub\n    \n    //Dernier exemple CTR mode\n    //ClÃ© 16 bits \n    byte[] keyBytes = new byte[] { (byte)0x36,(byte)0xf1,(byte)0x83,(byte)0x57,(byte)0xbe,(byte)0x4d,(byte)0xbd,(byte)0x77,(byte)0xf0,(byte)0x50,(byte)0x51,(byte)0x5c,0x73,(byte)0xfc,(byte)0xf9,(byte)0xf2};\n    //IV 16 bits (prÃ©fixe du cipherText)\n    byte[] ivBytes = new byte[] {(byte)0x69,(byte)0xdd,(byte)0xa8,(byte)0x45,(byte)0x5c,(byte)0x7d,(byte)0xd4,(byte)0x25,(byte)0x4b,(byte)0xf3,(byte)0x53,(byte)0xb7,(byte)0x73,(byte)0x30,(byte)0x4e,(byte)0xec};\n    \n    //Initialisation\n    SecretKeySpec key = new SecretKeySpec(keyBytes, &quot;AES&quot;);\n    IvParameterSpec ivSpec = new IvParameterSpec(ivBytes);\n    \n    //Mode\n    Cipher cipher = Cipher.getInstance(&quot;AES/CTR/NoPadding&quot;);\n    \n    byte[]  cipherText = new byte[] {(byte)0x0e,(byte)0xc,(byte)0x77,(byte)0x02,(byte)0x33,(byte)0x00,(byte)0x98,(byte)0xce,(byte)0x7f,(byte)0x75,(byte)0x20,(byte)0xd1,(byte)0xcb,(byte)0xbb,(byte)0x20,(byte)0xfc,(byte)0x38,(byte)0x8d,(byte)0x1b,(byte)0x0a,(byte)0xdb,(byte)0x50,(byte)0x54,(byte)0xdb,(byte)0xd7,(byte)0x37,(byte)0x08,(byte)0x49,(byte)0xdb,(byte)0xf0,(byte)0xb8,(byte)0x8d,(byte)0x39,(byte)0x3f,(byte)0x25,(byte)0x2e,(byte)0x76,(byte)0x4f,(byte)0x1f,(byte)0x5f,(byte)0x7a,(byte)0xd9,(byte)0x7e,(byte)0xf7,(byte)0x9d,(byte)0x59,(byte)0xce,(byte)0x29,(byte)0xf5,(byte)0xf5,(byte)0x1e,(byte)0xec,(byte)0xa3,(byte)0x2e,(byte)0xab,(byte)0xed,(byte)0xd9,(byte)0xaf,(byte)0xa9,(byte)0x32,(byte)0x29}; \n    cipher.init(Cipher.DECRYPT_MODE, key, ivSpec);  \n    byte [] original = cipher.doFinal(cipherText);\n    String plaintext = new String(original);\n    System.out.println(&quot;plaintext: &quot; + plaintext );\n}\n</code></pre>\n<p>}</p>\n<p>The result is</p>\n<pre><code>=&gt; plaintext: CÅ¸UnfpLÂ¨KHÂ¹)VPÃ…|Ã‰Ã’9}FÃ…gÃ¿Â Å¾Q3Å Â®Â¹zÃ›ËœË†Â±&lt;Ã¾Ã£hÂ¤Ã”Ã†Ã‹â€œMÂ±Â§|@+0H5Â§\n</code></pre>\n<p>So it seems to be wrong</p>\n"},{"tags":["java","maven","elasticsearch","quarkus"],"comments":[{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":0,"creation_date":1699958955,"post_id":77478939,"comment_id":136593201,"body_markdown":"Your path is enclosed in quotes. That should be used when passing it to commands, but not when you create a `Path` from it.","body":"Your path is enclosed in quotes. That should be used when passing it to commands, but not when you create a <code>Path</code> from it."},{"owner":{"account_id":29897982,"reputation":1,"user_id":22912368,"display_name":"Carl.lin"},"score":0,"creation_date":1700008784,"post_id":77478939,"comment_id":136601647,"body_markdown":"Sorry, I noticed that an error occurred because quarkus.elasticsearch.hosts is not set.\nI resolved it.","body":"Sorry, I noticed that an error occurred because quarkus.elasticsearch.hosts is not set. I resolved it."}],"answers":[{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1700205926,"post_id":77484627,"comment_id":136628116,"body_markdown":"As itâ€™s currently written, your answer is unclear. Please [edit] to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"As itâ€™s currently written, your answer is unclear. Please <a href=\"https://stackoverflow.com/posts/77484627/edit\">edit</a> to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":29897982,"reputation":1,"user_id":22912368,"display_name":"Carl.lin"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1700473287,"creation_date":1700009390,"answer_id":77484627,"question_id":77478939,"body_markdown":" I noticed that an error occurred because quarkus.elasticsearch.hosts is not set. \r\nI resolved it.\r\nthat &quot; is two &#39;&#39;.after I set quarkus.elasticsearch.hosts,it works\r\n\r\napplication.properties\r\n\r\n    quarkus.elasticsearch.hosts = your elastic host","title":"quarks connect elasticsearch error Caused by: java.nio.file.InvalidPathException: Illegal char &lt;&quot;&gt; at index 0: &quot;C:\\httpsTest\\OpenSSL\\bin","body":"<p>I noticed that an error occurred because quarkus.elasticsearch.hosts is not set.\nI resolved it.\nthat &quot; is two ''.after I set quarkus.elasticsearch.hosts,it works</p>\n<p>application.properties</p>\n<pre><code>quarkus.elasticsearch.hosts = your elastic host\n</code></pre>\n"}],"owner":{"account_id":29897982,"reputation":1,"user_id":22912368,"display_name":"Carl.lin"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77484627,"answer_count":1,"score":0,"last_activity_date":1700473287,"creation_date":1699948174,"question_id":77478939,"body_markdown":"[enter image description here](https://i.stack.imgur.com/JDvBt.png)\r\nI clone quarkus-quickstarts from github\r\nBut when i execute `mvn install` occurs this error\r\n\r\nI don&#39;t know where can i find the path and remove &quot;\r\n\r\n[enter image description here](https://i.stack.imgur.com/2zfwN.png)\r\nhere is my directory\r\n\r\nversion\r\nwin11ï¼Œquarkus : 3.5.1ï¼Œmaven : 3.9.5ï¼Œelasticsearch cloud : 8.5.3\r\n\r\nhttps://github.com/quarkusio/quarkus-quickstarts/tree/main/elasticsearch-quickstart\r\n\r\nuse quarkus connect elasticsearch and catch alerts \r\nwhen catch a alert , it will send mail to user","title":"quarks connect elasticsearch error Caused by: java.nio.file.InvalidPathException: Illegal char &lt;&quot;&gt; at index 0: &quot;C:\\httpsTest\\OpenSSL\\bin","body":"<p><a href=\"https://i.stack.imgur.com/JDvBt.png\" rel=\"nofollow noreferrer\">enter image description here</a>\nI clone quarkus-quickstarts from github\nBut when i execute <code>mvn install</code> occurs this error</p>\n<p>I don't know where can i find the path and remove &quot;</p>\n<p><a href=\"https://i.stack.imgur.com/2zfwN.png\" rel=\"nofollow noreferrer\">enter image description here</a>\nhere is my directory</p>\n<p>version\nwin11ï¼Œquarkus : 3.5.1ï¼Œmaven : 3.9.5ï¼Œelasticsearch cloud : 8.5.3</p>\n<p><a href=\"https://github.com/quarkusio/quarkus-quickstarts/tree/main/elasticsearch-quickstart\" rel=\"nofollow noreferrer\">https://github.com/quarkusio/quarkus-quickstarts/tree/main/elasticsearch-quickstart</a></p>\n<p>use quarkus connect elasticsearch and catch alerts\nwhen catch a alert , it will send mail to user</p>\n"},{"tags":["java","android-studio","android-manifest","android-permissions","android-13"],"owner":{"account_id":25146993,"reputation":1,"user_id":18992639,"display_name":"Abdullah Chowdhury"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700473262,"creation_date":1700473063,"question_id":77514793,"body_markdown":"I am making a webview app where I need to access images from the file. According to the recent update of android 13, the apps targeting SDK 33 have to use **&lt;uses-permission android:name=&quot;android.permission.READ_MEDIA_IMAGES&quot;/&gt;** instead of &lt;uses-permission **android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot;/&gt;**. But in my manifest, the &lt;uses-permission **android:name=&quot;android.permission.READ_MEDIA_IMAGES&quot;/&gt;** is not working.\r\n[enter image description here][1]\r\n\r\nBesides, in mainActivity, when I am requesting permission from the manifest **Manifest.permission.READ_MEDIA_IMAGES**, it is showing error. It is showing cannot ressolve symbol error.\r\n\r\n\r\n  [Image of the error][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/7K8S3.png","title":"&quot;READ_MEDIA_IMAGES&quot; not showing in android manifest and MainActivity","body":"<p>I am making a webview app where I need to access images from the file. According to the recent update of android 13, the apps targeting SDK 33 have to use <strong></strong> instead of &lt;uses-permission <strong>android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot;/&gt;</strong>. But in my manifest, the &lt;uses-permission <strong>android:name=&quot;android.permission.READ_MEDIA_IMAGES&quot;/&gt;</strong> is not working.\n<a href=\"https://i.stack.imgur.com/7K8S3.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>Besides, in mainActivity, when I am requesting permission from the manifest <strong>Manifest.permission.READ_MEDIA_IMAGES</strong>, it is showing error. It is showing cannot ressolve symbol error.</p>\n<p><a href=\"https://i.stack.imgur.com/7K8S3.png\" rel=\"nofollow noreferrer\">Image of the error</a></p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":102718,"reputation":59065,"user_id":275567,"display_name":"pb2q"},"score":14,"creation_date":1345754994,"post_id":12099721,"comment_id":16171046,"body_markdown":"`dataList = dataList.subList(30, 38 &gt; dataList.size() ? dataList.size() : 38);`","body":"<code>dataList = dataList.subList(30, 38 &gt; dataList.size() ? dataList.size() : 38);</code>"},{"owner":{"account_id":105313,"reputation":36374,"user_id":281108,"accept_rate":95,"display_name":"Ismail Badawi"},"score":20,"creation_date":1345755033,"post_id":12099721,"comment_id":16171063,"body_markdown":"Or `dataList.subList(30, Math.min(38, dataList.size())`","body":"Or <code>dataList.subList(30, Math.min(38, dataList.size())</code>"},{"owner":{"account_id":1064245,"reputation":85256,"user_id":1065197,"accept_rate":88,"display_name":"Luiggi Mendoza"},"score":1,"creation_date":1345755055,"post_id":12099721,"comment_id":16171074,"body_markdown":"@pb2q looks like you&#39;ve lost the chance for an answer.","body":"@pb2q looks like you&#39;ve lost the chance for an answer."},{"owner":{"account_id":913338,"reputation":4944,"user_id":946679,"accept_rate":100,"display_name":"zeller"},"score":0,"creation_date":1345755106,"post_id":12099721,"comment_id":16171104,"body_markdown":"If you look at the [APIdoc](http://docs.oracle.com/javase/6/docs/api/java/util/AbstractList.html#subList%28int,%20int%29) you&#39;ll notice that it throws `IndexOutOfBoundsException - endpoint index value out of range (fromIndex &lt; 0 || toIndex &gt; size)`. So look at the APIdoc for such hints in the future.","body":"If you look at the <a href=\"http://docs.oracle.com/javase/6/docs/api/java/util/AbstractList.html#subList%28int,%20int%29\" rel=\"nofollow noreferrer\">APIdoc</a> you&#39;ll notice that it throws <code>IndexOutOfBoundsException - endpoint index value out of range (fromIndex &lt; 0 || toIndex &gt; size)</code>. So look at the APIdoc for such hints in the future."}],"answers":[{"comments":[{"owner":{"account_id":345995,"reputation":6762,"user_id":679240,"accept_rate":61,"display_name":"Haroldo_OK"},"score":6,"creation_date":1435063061,"post_id":12099759,"comment_id":50033565,"body_markdown":"That would also fail if the list has less than 30 items.","body":"That would also fail if the list has less than 30 items."},{"owner":{"account_id":1102504,"reputation":66096,"user_id":1094597,"accept_rate":94,"display_name":"kosa"},"score":0,"creation_date":1435068158,"post_id":12099759,"comment_id":50037378,"body_markdown":"@Haroldo_OK: Yes you are correct, but assumption was list has more than 30 items.","body":"@Haroldo_OK: Yes you are correct, but assumption was list has more than 30 items."},{"owner":{"account_id":197528,"reputation":11240,"user_id":441662,"accept_rate":80,"display_name":"Benny Bottema"},"score":10,"creation_date":1536737968,"post_id":12099759,"comment_id":91527562,"body_markdown":"I prefer `dataList = dataList.subList(30, Math.min(38, dataList.size()));`","body":"I prefer <code>dataList = dataList.subList(30, Math.min(38, dataList.size()));</code>"}],"tags":[],"owner":{"account_id":1102504,"reputation":66096,"user_id":1094597,"accept_rate":94,"display_name":"kosa"},"comment_count":3,"down_vote_count":2,"up_vote_count":108,"is_accepted":true,"score":106,"last_activity_date":1490625974,"creation_date":1345754943,"answer_id":12099759,"question_id":12099721,"body_markdown":"Using `subList(30, 38);` will fail because max index 38 is not available in list, so its not possible.\r\n\r\nOnly way may be before asking for the sublist, you explicitly determine the max index using list size() method.\r\n\r\nfor example, check size, which returns 35, so call `sublist(30, size());`\r\n\r\nOR \r\n\r\n**COPIED FROM pb2q comment**\r\n\r\n    dataList = dataList.subList(30, 38 &gt; dataList.size() ? dataList.size() : 38);","title":"How to use subList()","body":"<p>Using <code>subList(30, 38);</code> will fail because max index 38 is not available in list, so its not possible.</p>\n\n<p>Only way may be before asking for the sublist, you explicitly determine the max index using list size() method.</p>\n\n<p>for example, check size, which returns 35, so call <code>sublist(30, size());</code></p>\n\n<p>OR </p>\n\n<p><strong>COPIED FROM pb2q comment</strong></p>\n\n<pre><code>dataList = dataList.subList(30, 38 &gt; dataList.size() ? dataList.size() : 38);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":345995,"reputation":6762,"user_id":679240,"accept_rate":61,"display_name":"Haroldo_OK"},"score":4,"creation_date":1435063036,"post_id":12099809,"comment_id":50033542,"body_markdown":"That would also fail if &#39;first&#39; is greater than the list size.","body":"That would also fail if &#39;first&#39; is greater than the list size."},{"owner":{"account_id":6243460,"reputation":97907,"user_id":4856258,"accept_rate":100,"display_name":"Tagir Valeev"},"score":3,"creation_date":1435064340,"post_id":12099809,"comment_id":50034431,"body_markdown":"@Haroldo_OK: or if `last` is negative!","body":"@Haroldo_OK: or if <code>last</code> is negative!"},{"owner":{"account_id":3011136,"reputation":12331,"user_id":2572431,"accept_rate":71,"display_name":"augurar"},"score":0,"creation_date":1520640420,"post_id":12099809,"comment_id":85413350,"body_markdown":"Also will fail if `first &gt;= last`","body":"Also will fail if <code>first &gt;= last</code>"}],"tags":[],"owner":{"account_id":456159,"reputation":18324,"user_id":854793,"accept_rate":25,"display_name":"Joe K"},"comment_count":3,"down_vote_count":3,"up_vote_count":46,"is_accepted":false,"score":43,"last_activity_date":1374612757,"creation_date":1345755153,"answer_id":12099809,"question_id":12099721,"body_markdown":"To get the last element, simply use the size of the list as the second parameter. So for example, if you have 35 files, and you want the last five, you would do:\r\n\r\n    dataList.subList(30, 35);\r\n\r\nA guaranteed safe way to do this is:\r\n\r\n    dataList.subList(Math.max(0, first), Math.min(dataList.size(), last) );","title":"How to use subList()","body":"<p>To get the last element, simply use the size of the list as the second parameter. So for example, if you have 35 files, and you want the last five, you would do:</p>\n\n<pre><code>dataList.subList(30, 35);\n</code></pre>\n\n<p>A guaranteed safe way to do this is:</p>\n\n<pre><code>dataList.subList(Math.max(0, first), Math.min(dataList.size(), last) );\n</code></pre>\n"},{"comments":[{"owner":{"account_id":223552,"reputation":7070,"user_id":482828,"accept_rate":100,"display_name":"Ed Randall"},"score":5,"creation_date":1466153418,"post_id":31003453,"comment_id":63209404,"body_markdown":"This should be the accepted answer, the only one who bothered to test their code.","body":"This should be the accepted answer, the only one who bothered to test their code."},{"owner":{"account_id":1397498,"reputation":154,"user_id":1326993,"display_name":"Steve"},"score":2,"creation_date":1511348150,"post_id":31003453,"comment_id":81819991,"body_markdown":"Very helpful, thanks. Breaking this out into a method makes more sense than trying to wrap up the logic in ternary operators, it just gets too hard to read that way.","body":"Very helpful, thanks. Breaking this out into a method makes more sense than trying to wrap up the logic in ternary operators, it just gets too hard to read that way."}],"tags":[],"owner":{"account_id":345995,"reputation":6762,"user_id":679240,"accept_rate":61,"display_name":"Haroldo_OK"},"comment_count":2,"down_vote_count":0,"up_vote_count":52,"is_accepted":false,"score":52,"last_activity_date":1435143500,"creation_date":1435064252,"answer_id":31003453,"question_id":12099721,"body_markdown":"I&#39;ve implemented and tested this one; it should cover most bases:\r\n\r\n\tpublic static &lt;T&gt; List&lt;T&gt; safeSubList(List&lt;T&gt; list, int fromIndex, int toIndex) {\r\n\t\tint size = list.size();\r\n\t\tif (fromIndex &gt;= size || toIndex &lt;= 0 || fromIndex &gt;= toIndex) {\r\n\t\t\treturn Collections.emptyList();\r\n\t\t}\r\n\t\t\r\n\t\tfromIndex = Math.max(0, fromIndex);\r\n\t\ttoIndex = Math.min(size, toIndex);\r\n\t\t\r\n\t\treturn list.subList(fromIndex, toIndex);\r\n\t}\r\n","title":"How to use subList()","body":"<p>I've implemented and tested this one; it should cover most bases:</p>\n\n<pre><code>public static &lt;T&gt; List&lt;T&gt; safeSubList(List&lt;T&gt; list, int fromIndex, int toIndex) {\n    int size = list.size();\n    if (fromIndex &gt;= size || toIndex &lt;= 0 || fromIndex &gt;= toIndex) {\n        return Collections.emptyList();\n    }\n\n    fromIndex = Math.max(0, fromIndex);\n    toIndex = Math.min(size, toIndex);\n\n    return list.subList(fromIndex, toIndex);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":108117,"reputation":9982,"user_id":287138,"accept_rate":82,"display_name":"Stefan Haberl"},"comment_count":0,"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1554197578,"creation_date":1554197578,"answer_id":55471388,"question_id":12099721,"body_markdown":"You could use streams in Java 8. To always get 10 entries at the most, you could do:\r\n\r\n    dataList.stream().skip(5).limit(10).collect(Collectors.toList());\r\n    dataList.stream().skip(30).limit(10).collect(Collectors.toList());","title":"How to use subList()","body":"<p>You could use streams in Java 8. To always get 10 entries at the most, you could do:</p>\n\n<pre><code>dataList.stream().skip(5).limit(10).collect(Collectors.toList());\ndataList.stream().skip(30).limit(10).collect(Collectors.toList());\n</code></pre>\n"},{"comments":[{"owner":{"account_id":108117,"reputation":9982,"user_id":287138,"accept_rate":82,"display_name":"Stefan Haberl"},"score":0,"creation_date":1671173235,"post_id":69360240,"comment_id":132046096,"body_markdown":"How is that different to my answer above? :D","body":"How is that different to my answer above? :D"}],"tags":[],"owner":{"account_id":3046481,"reputation":679,"user_id":2581977,"display_name":"hao"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1632825687,"creation_date":1632825687,"answer_id":69360240,"question_id":12099721,"body_markdown":"Although it may be too late, I suggest using stream in Java 8 to avoid handling the out of boundry exception manually.\r\n\r\nthis code\r\n\r\n```\r\ndataList = dataList.stream().skip(30).limit(8).collect(Collectors.toList());\r\n```\r\nworks same as \r\n```\r\ndataList = dataList.subList(30, 38);\r\n```\r\nand in case of out of index error, dataList will be empty list instead of throwing any exception. ","title":"How to use subList()","body":"<p>Although it may be too late, I suggest using stream in Java 8 to avoid handling the out of boundry exception manually.</p>\n<p>this code</p>\n<pre><code>dataList = dataList.stream().skip(30).limit(8).collect(Collectors.toList());\n</code></pre>\n<p>works same as</p>\n<pre><code>dataList = dataList.subList(30, 38);\n</code></pre>\n<p>and in case of out of index error, dataList will be empty list instead of throwing any exception.</p>\n"},{"tags":[],"owner":{"account_id":2236318,"reputation":2311,"user_id":1972597,"display_name":"Tony"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1644435921,"creation_date":1644435921,"answer_id":71055793,"question_id":12099721,"body_markdown":"For kotlin, you could use:\r\n`myList.subList(min, max.coerceAtMost(myList.size)`\r\n\r\nOr in terms of the question above: `myList.subList(30, 38.coerceAtMost(myList.size)`","title":"How to use subList()","body":"<p>For kotlin, you could use:\n<code>myList.subList(min, max.coerceAtMost(myList.size)</code></p>\n<p>Or in terms of the question above: <code>myList.subList(30, 38.coerceAtMost(myList.size)</code></p>\n"},{"tags":[],"owner":{"account_id":19370048,"reputation":659,"user_id":14163532,"display_name":"PKS"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700472832,"creation_date":1700472832,"answer_id":77514768,"question_id":12099721,"body_markdown":"Better to use Skip and limit because subList can cause index out of bound expection","title":"How to use subList()","body":"<p>Better to use Skip and limit because subList can cause index out of bound expection</p>\n"}],"owner":{"account_id":1344997,"reputation":1348,"user_id":1285928,"accept_rate":56,"display_name":"user1285928"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":164562,"favorite_count":0,"down_vote_count":0,"up_vote_count":87,"accepted_answer_id":12099759,"answer_count":7,"score":87,"last_activity_date":1700472832,"creation_date":1345754806,"question_id":12099721,"body_markdown":"I have a JSF page which displays list of Glassfish log files. I use lazy loading for pagination. I keep the list of the log files names into Java `List`.\r\n\r\n    private List&lt;directoryListObj&gt; dataList = new ArrayList&lt;&gt;();\r\n    \r\n    dataList = dataList.subList(firstRow, lastRow);\r\n\r\n\r\nAnd here is the problem. For example I have 35 files into the directory. When I do this \r\n\r\n    dataList = dataList.subList(5, 15);\r\n\r\nIt works fine. But when I do this:\r\n\r\n    dataList = dataList.subList(30, 38);\r\n\r\nI get error wrong index because I want to get index outside of the List. How I can for example return List elements from 30 to 35? I want if I want to get index from 30 to 40 but if there only 35 indexes to get only 5.","title":"How to use subList()","body":"<p>I have a JSF page which displays list of Glassfish log files. I use lazy loading for pagination. I keep the list of the log files names into Java <code>List</code>.</p>\n\n<pre><code>private List&lt;directoryListObj&gt; dataList = new ArrayList&lt;&gt;();\n\ndataList = dataList.subList(firstRow, lastRow);\n</code></pre>\n\n<p>And here is the problem. For example I have 35 files into the directory. When I do this </p>\n\n<pre><code>dataList = dataList.subList(5, 15);\n</code></pre>\n\n<p>It works fine. But when I do this:</p>\n\n<pre><code>dataList = dataList.subList(30, 38);\n</code></pre>\n\n<p>I get error wrong index because I want to get index outside of the List. How I can for example return List elements from 30 to 35? I want if I want to get index from 30 to 40 but if there only 35 indexes to get only 5.</p>\n"},{"tags":["java","jvm","redhat","coredump"],"comments":[{"owner":{"account_id":4593583,"reputation":436,"user_id":3726280,"display_name":"ceeaspb"},"score":2,"creation_date":1506588506,"post_id":46430265,"comment_id":79884488,"body_markdown":"to confirm the java process that is running has an unlimited corefile size you need to check the process - it may not have inherited the ulimit command depending on the way the java process is started.\n\n```$ cat /proc/19432/limits |grep -E &quot;Limit|core file size&quot;\nLimit                     Soft Limit           Hard Limit           Units     \nMax core file size        0                    unlimited            bytes```","body":"to confirm the java process that is running has an unlimited corefile size you need to check the process - it may not have inherited the ulimit command depending on the way the java process is started.  <code>$ cat &#47;proc&#47;19432&#47;limits |grep -E &quot;Limit|core file size&quot; Limit                     Soft Limit           Hard Limit           Units      Max core file size        0                    unlimited            bytes</code>"},{"owner":{"account_id":4821763,"reputation":964,"user_id":3892260,"accept_rate":50,"display_name":"user3892260"},"score":0,"creation_date":1506613315,"post_id":46430265,"comment_id":79901436,"body_markdown":"Thanks ceeaspb, this is exactly what the problem was.  The soft limit was still set to 0, because this program was being launched by another program, which was launched many months ago, and still had the old soft core limit = 0.  So the new program was inheriting the soft core limit = 0 from the old-running program.  Once I restarted the launcher,  it properly generated the core file.","body":"Thanks ceeaspb, this is exactly what the problem was.  The soft limit was still set to 0, because this program was being launched by another program, which was launched many months ago, and still had the old soft core limit = 0.  So the new program was inheriting the soft core limit = 0 from the old-running program.  Once I restarted the launcher,  it properly generated the core file."}],"owner":{"account_id":4821763,"reputation":964,"user_id":3892260,"accept_rate":50,"display_name":"user3892260"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2815,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1700472639,"creation_date":1506439084,"question_id":46430265,"body_markdown":"I&#39;m running on: Red Hat Enterprise Linux Server release 6.3 (Santiago)\r\n\r\nError:  Failed to write core dump. Core dumps have been disabled. To enable core dumping, try &quot;ulimit -c unlimited&quot; before starting Java again\r\n\r\nAfter setting the core file size to unlimited, and confirming the settings with: \r\n\r\n    $ ulimit -a\r\n    core file size          (blocks, -c) unlimited\r\n    data seg size           (kbytes, -d) unlimited\r\n    scheduling priority             (-e) 0\r\n    file size               (blocks, -f) unlimited\r\n    pending signals                 (-i) 773690\r\n    max locked memory       (kbytes, -l) 64\r\n    max memory size         (kbytes, -m) unlimited\r\n    open files                      (-n) 65536\r\n    pipe size            (512 bytes, -p) 8\r\n    POSIX message queues     (bytes, -q) 819200\r\n    real-time priority              (-r) 0\r\n    stack size              (kbytes, -s) 10240\r\n    cpu time               (seconds, -t) unlimited\r\n    max user processes              (-u) 65536\r\n    virtual memory          (kbytes, -v) unlimited\r\n    file locks                      (-x) unlimited\r\n\r\n\r\n\r\nI am still unable to have the JVM crash create the system core dump... Any ideas on what may be preventing this?\r\n\r\n\r\nOne thing that should be noted,  if I write a little C++ program which intentionally causes a segmentation fault, then the coredump file is generated immediately:\r\n\r\n    #include &lt;signal.h&gt;\r\n    \r\n    int main() {\r\n      raise (SIGSEGV);\r\n    }\r\n\r\n\r\n\r\n\r\n    $ ./crash\r\n    Segmentation fault (core dumped)\r\n    \r\n    Produces:\r\n    \r\n    core.43969\r\n\r\n","title":"Unable to generate system core dump after setting &quot;ulimit -c unlimited&quot;","body":"<p>I'm running on: Red Hat Enterprise Linux Server release 6.3 (Santiago)</p>\n\n<p>Error:  Failed to write core dump. Core dumps have been disabled. To enable core dumping, try \"ulimit -c unlimited\" before starting Java again</p>\n\n<p>After setting the core file size to unlimited, and confirming the settings with: </p>\n\n<pre><code>$ ulimit -a\ncore file size          (blocks, -c) unlimited\ndata seg size           (kbytes, -d) unlimited\nscheduling priority             (-e) 0\nfile size               (blocks, -f) unlimited\npending signals                 (-i) 773690\nmax locked memory       (kbytes, -l) 64\nmax memory size         (kbytes, -m) unlimited\nopen files                      (-n) 65536\npipe size            (512 bytes, -p) 8\nPOSIX message queues     (bytes, -q) 819200\nreal-time priority              (-r) 0\nstack size              (kbytes, -s) 10240\ncpu time               (seconds, -t) unlimited\nmax user processes              (-u) 65536\nvirtual memory          (kbytes, -v) unlimited\nfile locks                      (-x) unlimited\n</code></pre>\n\n<p>I am still unable to have the JVM crash create the system core dump... Any ideas on what may be preventing this?</p>\n\n<p>One thing that should be noted,  if I write a little C++ program which intentionally causes a segmentation fault, then the coredump file is generated immediately:</p>\n\n<pre><code>#include &lt;signal.h&gt;\n\nint main() {\n  raise (SIGSEGV);\n}\n\n\n\n\n$ ./crash\nSegmentation fault (core dumped)\n\nProduces:\n\ncore.43969\n</code></pre>\n"},{"tags":["java","regex","junit"],"answers":[{"comments":[{"owner":{"account_id":23516,"reputation":25400,"user_id":58994,"accept_rate":79,"display_name":"Josh Glover"},"score":1,"creation_date":1323869488,"post_id":8505220,"comment_id":10527478,"body_markdown":"Ah yes, `assertTrue()` is definitely nicer. I blame Eclipse&#39;s auto-complete for me not knowing about that. ;)","body":"Ah yes, <code>assertTrue()</code> is definitely nicer. I blame Eclipse&#39;s auto-complete for me not knowing about that. ;)"},{"owner":{"account_id":42803,"reputation":8951,"user_id":124839,"display_name":"Mike Valenty"},"score":5,"creation_date":1342112558,"post_id":8505220,"comment_id":15121919,"body_markdown":"`assertTrue` can&#39;t give you as much detail as `assertEquals` or `assertThat` when a test fails","body":"<code>assertTrue</code> can&#39;t give you as much detail as <code>assertEquals</code> or <code>assertThat</code> when a test fails"},{"owner":{"account_id":446208,"reputation":8611,"user_id":839128,"accept_rate":75,"display_name":"MikeFHay"},"score":2,"creation_date":1380020234,"post_id":8505220,"comment_id":28034278,"body_markdown":"@Michael Sure it can. `assertTrue(&quot;Expected string matching &#39;&quot; +expectedRegex+ &quot;&#39;. Got: &quot;+actual, actual.matches(expectedRegex));`. It&#39;s not as nice as Hamcrest though.","body":"@Michael Sure it can. <code>assertTrue(&quot;Expected string matching &#39;&quot; +expectedRegex+ &quot;&#39;. Got: &quot;+actual, actual.matches(expectedRegex));</code>. It&#39;s not as nice as Hamcrest though."},{"owner":{"account_id":4293398,"reputation":1061,"user_id":3509106,"display_name":"ThrawnCA"},"score":0,"creation_date":1497245561,"post_id":8505220,"comment_id":75977682,"body_markdown":"@MikeValenty If you&#39;re just comparing a value to `is(true)`, then `assertThat` doesn&#39;t give you any more detail than `assertTrue` does. To get proper error messages, you need a different matcher (or you construct the message manually as @MikeFHay suggested).","body":"@MikeValenty If you&#39;re just comparing a value to <code>is(true)</code>, then <code>assertThat</code> doesn&#39;t give you any more detail than <code>assertTrue</code> does. To get proper error messages, you need a different matcher (or you construct the message manually as @MikeFHay suggested)."},{"owner":{"account_id":1837040,"reputation":844,"user_id":1667198,"display_name":"Ismael Sarmento"},"score":0,"creation_date":1628093264,"post_id":8505220,"comment_id":121331123,"body_markdown":"Important: string.matches() is available from version 8 of java and in that version it doesn&#39;t support multiline, even using the respective flag (?m); then you&#39;d need to do it in the old verbose way: Pattern.compile() then matcher.find()","body":"Important: string.matches() is available from version 8 of java and in that version it doesn&#39;t support multiline, even using the respective flag (?m); then you&#39;d need to do it in the old verbose way: Pattern.compile() then matcher.find()"}],"tags":[],"owner":{"account_id":156587,"reputation":15475,"user_id":373962,"accept_rate":86,"display_name":"Miquel"},"comment_count":5,"down_vote_count":0,"up_vote_count":60,"is_accepted":false,"score":60,"last_activity_date":1669362425,"creation_date":1323868994,"answer_id":8505220,"question_id":8505153,"body_markdown":"No other choice that I know. Just checked the [`assert` javadoc][1] to be sure.\r\nJust a tiny little change, though:\r\n\r\n```java\r\nassertTrue(actual.matches(expectedRegex));\r\n```\r\n\r\nEDIT: I have been using the Hamcrest matchers since pholser&#39;s answer, check that out too!\r\n\r\n  [1]: http://www.junit.org/apidocs/org/junit/Assert.html\r\n","title":"Assert regex matches in JUnit","body":"<p>No other choice that I know. Just checked the <a href=\"http://www.junit.org/apidocs/org/junit/Assert.html\" rel=\"nofollow noreferrer\"><code>assert</code> javadoc</a> to be sure.\nJust a tiny little change, though:</p>\n<pre class=\"lang-java prettyprint-override\"><code>assertTrue(actual.matches(expectedRegex));\n</code></pre>\n<p>EDIT: I have been using the Hamcrest matchers since pholser's answer, check that out too!</p>\n"},{"comments":[{"owner":{"account_id":6561636,"reputation":3683,"user_id":5072526,"accept_rate":57,"display_name":"hinneLinks"},"score":23,"creation_date":1457342486,"post_id":8509102,"comment_id":59346121,"body_markdown":"Hamcrest 2.0 has the `Matchers.matchesPattern(String)` now built-in: https://github.com/hamcrest/JavaHamcrest/blob/master/hamcrest-library/src/main/java/org/hamcrest/Matchers.java#L1401","body":"Hamcrest 2.0 has the <code>Matchers.matchesPattern(String)</code> now built-in: <a href=\"https://github.com/hamcrest/JavaHamcrest/blob/master/hamcrest-library/src/main/java/org/hamcrest/Matchers.java#L1401\" rel=\"nofollow noreferrer\">github.com/hamcrest/JavaHamcrest/blob/master/hamcrest-librar&zwnj;&#8203;y/&hellip;</a>"},{"owner":{"account_id":50874,"reputation":2522,"user_id":151845,"accept_rate":75,"display_name":"pioto"},"score":5,"creation_date":1487627234,"post_id":8509102,"comment_id":71860254,"body_markdown":"Permalink for what @hinneLinks refers to: https://github.com/hamcrest/JavaHamcrest/blob/8f9372a152612b45f51a12d1c549643fdac5492a/hamcrest-library/src/main/java/org/hamcrest/Matchers.java#L1474-L1480","body":"Permalink for what @hinneLinks refers to: <a href=\"https://github.com/hamcrest/JavaHamcrest/blob/8f9372a152612b45f51a12d1c549643fdac5492a/hamcrest-library/src/main/java/org/hamcrest/Matchers.java#L1474-L1480\" rel=\"nofollow noreferrer\">github.com/hamcrest/JavaHamcrest/blob/&hellip;</a>"}],"tags":[],"owner":{"account_id":351421,"reputation":4917,"user_id":687884,"accept_rate":100,"display_name":"pholser"},"comment_count":2,"down_vote_count":3,"up_vote_count":119,"is_accepted":true,"score":116,"last_activity_date":1700472408,"creation_date":1323884433,"answer_id":8509102,"question_id":8505153,"body_markdown":"If you use `assertThat()` with a [Hamcrest matcher][1] that tests for regex matches, then if the assertion fails you&#39;ll get a nice message that indicates expected pattern and actual text. The assertion will read more fluently also, e.g.\r\n\r\n    assertThat(&quot;FooBarBaz&quot;, matchesPattern(&quot;^Foo&quot;));\r\n\r\nwith Hamcrest 2 you can find a `matchesPattern` method at `MatchesPattern.matchesPattern`.\r\n\r\n### JUnit5:\r\n\r\n    import static org.assertj.core.api.Assertions.assertThat;\r\n    assertThat(actual).matches(expected);\r\n\r\n  [1]: http://piotrga.wordpress.com/2009/03/27/hamcrest-regex-matcher/","title":"Assert regex matches in JUnit","body":"<p>If you use <code>assertThat()</code> with a <a href=\"http://piotrga.wordpress.com/2009/03/27/hamcrest-regex-matcher/\" rel=\"nofollow noreferrer\">Hamcrest matcher</a> that tests for regex matches, then if the assertion fails you'll get a nice message that indicates expected pattern and actual text. The assertion will read more fluently also, e.g.</p>\n<pre><code>assertThat(&quot;FooBarBaz&quot;, matchesPattern(&quot;^Foo&quot;));\n</code></pre>\n<p>with Hamcrest 2 you can find a <code>matchesPattern</code> method at <code>MatchesPattern.matchesPattern</code>.</p>\n<h3>JUnit5:</h3>\n<pre><code>import static org.assertj.core.api.Assertions.assertThat;\nassertThat(actual).matches(expected);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2047499,"reputation":1845,"user_id":1827276,"accept_rate":56,"display_name":"boly38"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1359552330,"creation_date":1359552330,"answer_id":14605164,"question_id":8505153,"body_markdown":"&lt;br/&gt;\r\n it&#39;s not JUnit but here is another way with fest-assert :&lt;br/&gt;\r\n\r\n    assertThat(myTestedValue).as(&quot;your value is so so bad&quot;).matches(expectedRegex);","title":"Assert regex matches in JUnit","body":"<p><br/>\n it's not JUnit but here is another way with fest-assert :<br/></p>\n\n<pre><code>assertThat(myTestedValue).as(\"your value is so so bad\").matches(expectedRegex);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1993330,"reputation":859,"user_id":1786836,"display_name":"Nick A. Watts"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1394850336,"creation_date":1394850336,"answer_id":22418784,"question_id":8505153,"body_markdown":"Because I was also looking for this functionality, I have started a project on GitHub called [regex-tester][1]. It&#39;s a library that helps ease testing regular expressions in Java (only works with JUnit currently). \r\n\r\nThe library is very limited right now, but it does have a Hamcrest matcher that works like this\r\n\r\n    assertThat(&quot;test&quot;, doesMatchRegex(&quot;tes.+&quot;));\r\n    assertThat(&quot;test&quot;, doesNotMatchRegex(&quot;tex.+&quot;));\r\n\r\nMore about how to use regex-tester is [here][2]. \r\n\r\n\r\n  [1]: https://github.com/nickawatts/regex-tester\r\n  [2]: http://thewonggei.com/2014/02/08/introducing-the-regex-tester-library-for-java/","title":"Assert regex matches in JUnit","body":"<p>Because I was also looking for this functionality, I have started a project on GitHub called <a href=\"https://github.com/nickawatts/regex-tester\" rel=\"nofollow\">regex-tester</a>. It's a library that helps ease testing regular expressions in Java (only works with JUnit currently). </p>\n\n<p>The library is very limited right now, but it does have a Hamcrest matcher that works like this</p>\n\n<pre><code>assertThat(\"test\", doesMatchRegex(\"tes.+\"));\nassertThat(\"test\", doesNotMatchRegex(\"tex.+\"));\n</code></pre>\n\n<p>More about how to use regex-tester is <a href=\"http://thewonggei.com/2014/02/08/introducing-the-regex-tester-library-for-java/\" rel=\"nofollow\">here</a>. </p>\n"},{"tags":[],"owner":{"account_id":104911,"reputation":119222,"user_id":280244,"accept_rate":81,"display_name":"Ralph"},"comment_count":0,"down_vote_count":0,"up_vote_count":22,"is_accepted":false,"score":22,"last_activity_date":1406654119,"creation_date":1406654119,"answer_id":25021229,"question_id":8505153,"body_markdown":"You can use Hamcrest, but you have to write your own matcher:\r\n\r\n\r\n    public class RegexMatcher extends TypeSafeMatcher&lt;String&gt; {\r\n    \r\n        private final String regex;\r\n\r\n        public RegexMatcher(final String regex) {\r\n            this.regex = regex;\r\n        }\r\n    \r\n        @Override\r\n        public void describeTo(final Description description) {\r\n            description.appendText(&quot;matches regex=`&quot; + regex + &quot;`&quot;);\r\n        }\r\n    \r\n        @Override\r\n        public boolean matchesSafely(final String string) {\r\n            return string.matches(regex);\r\n        }\r\n    \r\n\r\n        public static RegexMatcher matchesRegex(final String regex) {\r\n            return new RegexMatcher(regex);\r\n        }\r\n    }\r\n\r\n\r\nusage\r\n\r\n    import org.junit.Assert;\r\n\r\n\r\n    Assert.assertThat(&quot;test&quot;, RegexMatcher.matchesRegex(&quot;.*est&quot;);","title":"Assert regex matches in JUnit","body":"<p>You can use Hamcrest, but you have to write your own matcher:</p>\n\n<pre><code>public class RegexMatcher extends TypeSafeMatcher&lt;String&gt; {\n\n    private final String regex;\n\n    public RegexMatcher(final String regex) {\n        this.regex = regex;\n    }\n\n    @Override\n    public void describeTo(final Description description) {\n        description.appendText(\"matches regex=`\" + regex + \"`\");\n    }\n\n    @Override\n    public boolean matchesSafely(final String string) {\n        return string.matches(regex);\n    }\n\n\n    public static RegexMatcher matchesRegex(final String regex) {\n        return new RegexMatcher(regex);\n    }\n}\n</code></pre>\n\n<p>usage</p>\n\n<pre><code>import org.junit.Assert;\n\n\nAssert.assertThat(\"test\", RegexMatcher.matchesRegex(\".*est\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1993330,"reputation":859,"user_id":1786836,"display_name":"Nick A. Watts"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1412361474,"creation_date":1412361474,"answer_id":26184793,"question_id":8505153,"body_markdown":"A matcher similar to Ralph&#39;s implementation has been [added][1] to the official Java Hamcrest matchers library. Unfortunately, it&#39;s not yet available in a release package. The class is on [GitHub][2] though if you want a look.\r\n\r\n\r\n  [1]: https://github.com/hamcrest/JavaHamcrest/issues/36\r\n  [2]: https://github.com/hamcrest/JavaHamcrest/blob/master/hamcrest-library/src/main/java/org/hamcrest/text/MatchesPattern.java","title":"Assert regex matches in JUnit","body":"<p>A matcher similar to Ralph's implementation has been <a href=\"https://github.com/hamcrest/JavaHamcrest/issues/36\" rel=\"noreferrer\">added</a> to the official Java Hamcrest matchers library. Unfortunately, it's not yet available in a release package. The class is on <a href=\"https://github.com/hamcrest/JavaHamcrest/blob/master/hamcrest-library/src/main/java/org/hamcrest/text/MatchesPattern.java\" rel=\"noreferrer\">GitHub</a> though if you want a look.</p>\n"},{"comments":[{"owner":{"account_id":1868856,"reputation":1929,"user_id":1691651,"display_name":"JohnP2"},"score":0,"creation_date":1497657466,"post_id":28252277,"comment_id":76187017,"body_markdown":"I have found that the hamcrest-core dependency is not needed","body":"I have found that the hamcrest-core dependency is not needed"}],"tags":[],"owner":{"account_id":63162,"reputation":102381,"user_id":187141,"accept_rate":82,"display_name":"yegor256"},"comment_count":1,"down_vote_count":1,"up_vote_count":19,"is_accepted":false,"score":18,"last_activity_date":1481145997,"creation_date":1422711928,"answer_id":28252277,"question_id":8505153,"body_markdown":"You can use Hamcrest and [jcabi-matchers](http://matchers.jcabi.com):\r\n\r\n    import static com.jcabi.matchers.RegexMatchers.matchesPattern;\r\n    import static org.junit.Assert.assertThat;\r\n    assertThat(&quot;test&quot;, matchesPattern(&quot;[a-z]+&quot;));\r\n\r\nMore details here: [Regular Expression Hamcrest Matchers](http://matchers.jcabi.com/regex-matchers.html).\r\n\r\nYou will need these two dependencies in classpath:\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.hamcrest&lt;/groupId&gt;\r\n      &lt;artifactId&gt;hamcrest-core&lt;/artifactId&gt;\r\n      &lt;version&gt;1.3&lt;/version&gt;\r\n      &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;com.jcabi&lt;/groupId&gt;\r\n      &lt;artifactId&gt;jcabi-matchers&lt;/artifactId&gt;\r\n      &lt;version&gt;1.3&lt;/version&gt;\r\n      &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;","title":"Assert regex matches in JUnit","body":"<p>You can use Hamcrest and <a href=\"http://matchers.jcabi.com\" rel=\"noreferrer\">jcabi-matchers</a>:</p>\n\n<pre><code>import static com.jcabi.matchers.RegexMatchers.matchesPattern;\nimport static org.junit.Assert.assertThat;\nassertThat(\"test\", matchesPattern(\"[a-z]+\"));\n</code></pre>\n\n<p>More details here: <a href=\"http://matchers.jcabi.com/regex-matchers.html\" rel=\"noreferrer\">Regular Expression Hamcrest Matchers</a>.</p>\n\n<p>You will need these two dependencies in classpath:</p>\n\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;org.hamcrest&lt;/groupId&gt;\n  &lt;artifactId&gt;hamcrest-core&lt;/artifactId&gt;\n  &lt;version&gt;1.3&lt;/version&gt;\n  &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n  &lt;groupId&gt;com.jcabi&lt;/groupId&gt;\n  &lt;artifactId&gt;jcabi-matchers&lt;/artifactId&gt;\n  &lt;version&gt;1.3&lt;/version&gt;\n  &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4664322,"reputation":331,"user_id":3777736,"display_name":"abe"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1513185647,"creation_date":1513185647,"answer_id":47798886,"question_id":8505153,"body_markdown":"another alternative using assertj.  this approach is nice as it allows you to pass the pattern object directly.\r\n\r\n    import static org.assertj.core.api.Assertions.assertThat;\r\n    assertThat(&quot;my\\nmultiline\\nstring&quot;).matches(Pattern.compile(&quot;(?s)my.*string&quot;, Pattern.MULTILINE));","title":"Assert regex matches in JUnit","body":"<p>another alternative using assertj.  this approach is nice as it allows you to pass the pattern object directly.</p>\n\n<pre><code>import static org.assertj.core.api.Assertions.assertThat;\nassertThat(\"my\\nmultiline\\nstring\").matches(Pattern.compile(\"(?s)my.*string\", Pattern.MULTILINE));\n</code></pre>\n"},{"comments":[{"owner":{"account_id":9162277,"reputation":14688,"user_id":6813231,"accept_rate":56,"display_name":"Alexei"},"score":0,"creation_date":1574934875,"post_id":50156013,"comment_id":104407648,"body_markdown":"I get error: Duplicate class org.hamcrest.BaseDescription found in modules jetified-hamcrest-core-1.3.jar (org.hamcrest:hamcrest-core:1.3) and jetified-java-hamcrest-2.0.0.0.jar (org.hamcrest:java-hamcrest:2.0.0.0)","body":"I get error: Duplicate class org.hamcrest.BaseDescription found in modules jetified-hamcrest-core-1.3.jar (org.hamcrest:hamcrest-core:1.3) and jetified-java-hamcrest-2.0.0.0.jar (org.hamcrest:java-hamcrest:2.0.0.0)"}],"tags":[],"owner":{"account_id":57788,"reputation":46120,"user_id":173149,"accept_rate":62,"display_name":"gavenkoa"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1525354306,"creation_date":1525353366,"answer_id":50156013,"question_id":8505153,"body_markdown":"There is corresponding matcher in Hamcrest: [org.hamcrest.Matchers.matchesPattern(String regex)](https://github.com/hamcrest/JavaHamcrest/blob/master/hamcrest-library/src/main/java/org/hamcrest/Matchers.java#L1478).\r\n\r\n[As development of Hamcrest stalled](https://stackoverflow.com/questions/33776809/hamcrest-what-version-to-use-1-3-or-2) you can&#39;t use latest available v1.3:\r\n\r\n    testCompile(&quot;org.hamcrest:hamcrest-library:1.3&quot;)\r\n\r\nInstead you need to use new dev series (but still [dated by Jan 2015](http://mvnrepository.com/artifact/org.hamcrest/java-hamcrest)):\r\n\r\n    testCompile(&quot;org.hamcrest:java-hamcrest:2.0.0.0&quot;)\r\n\r\nor even better:\r\n\r\n    configurations {\r\n        testCompile.exclude group: &quot;org.hamcrest&quot;, module: &quot;hamcrest-core&quot;\r\n        testCompile.exclude group: &quot;org.hamcrest&quot;, module: &quot;hamcrest-library&quot;\r\n    }\r\n    dependencies {\r\n        testCompile(&quot;org.hamcrest:hamcrest-junit:2.0.0.0&quot;)\r\n    }\r\n\r\nIn test:\r\n\r\n    Assert.assertThat(&quot;123456&quot;, Matchers.matchesPattern(&quot;^[0-9]+$&quot;));","title":"Assert regex matches in JUnit","body":"<p>There is corresponding matcher in Hamcrest: <a href=\"https://github.com/hamcrest/JavaHamcrest/blob/master/hamcrest-library/src/main/java/org/hamcrest/Matchers.java#L1478\" rel=\"nofollow noreferrer\">org.hamcrest.Matchers.matchesPattern(String regex)</a>.</p>\n\n<p><a href=\"https://stackoverflow.com/questions/33776809/hamcrest-what-version-to-use-1-3-or-2\">As development of Hamcrest stalled</a> you can't use latest available v1.3:</p>\n\n<pre><code>testCompile(\"org.hamcrest:hamcrest-library:1.3\")\n</code></pre>\n\n<p>Instead you need to use new dev series (but still <a href=\"http://mvnrepository.com/artifact/org.hamcrest/java-hamcrest\" rel=\"nofollow noreferrer\">dated by Jan 2015</a>):</p>\n\n<pre><code>testCompile(\"org.hamcrest:java-hamcrest:2.0.0.0\")\n</code></pre>\n\n<p>or even better:</p>\n\n<pre><code>configurations {\n    testCompile.exclude group: \"org.hamcrest\", module: \"hamcrest-core\"\n    testCompile.exclude group: \"org.hamcrest\", module: \"hamcrest-library\"\n}\ndependencies {\n    testCompile(\"org.hamcrest:hamcrest-junit:2.0.0.0\")\n}\n</code></pre>\n\n<p>In test:</p>\n\n<pre><code>Assert.assertThat(\"123456\", Matchers.matchesPattern(\"^[0-9]+$\"));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1592325,"reputation":654,"user_id":1475378,"display_name":"Uyric"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1622811770,"creation_date":1622811462,"answer_id":67837652,"question_id":8505153,"body_markdown":"**An update for JUnit 5, without any extra library.**\r\n\r\nNow you can use `assertLinesMatch` as described in https://junit.org/junit5/docs/5.0.1/api/org/junit/jupiter/api/Assertions.html#assertLinesMatch-java.util.List-java.util.List-\r\n\r\nThe assertion was created to match several lines of text, so you need to provide a `List` even if you try to match only one line. For e.g.:\r\n\r\n```\r\nassertLinesMatch(List.of(&quot;Expected at the beginning.*&quot;), List.of(contentUnderTest));\r\n```\r\n\r\n\r\nThe assertion algorithm will try an exact match and then, if it fails, will use `String.match` interpreting the expected value as a regular expression.\r\n\r\n\r\n***An important note:*** if your `contentUnderTest` contains several lines, then the `.*` in the regex won&#39;t work (`.` doesn&#39;t match a new line character by default) so you may need to add an embedded flag (https://docs.oracle.com/javase/8/docs/api/java/util/regex/Pattern.html#DOTALL):\r\n\r\n```\r\n// Flag ?s means match new lines\r\nassertLinesMatch(List.of(&quot;(?s)Expected at the beginning.*&quot;), List.of(contentWithMultipleLines));\r\n```","title":"Assert regex matches in JUnit","body":"<p><strong>An update for JUnit 5, without any extra library.</strong></p>\n<p>Now you can use <code>assertLinesMatch</code> as described in <a href=\"https://junit.org/junit5/docs/5.0.1/api/org/junit/jupiter/api/Assertions.html#assertLinesMatch-java.util.List-java.util.List-\" rel=\"nofollow noreferrer\">https://junit.org/junit5/docs/5.0.1/api/org/junit/jupiter/api/Assertions.html#assertLinesMatch-java.util.List-java.util.List-</a></p>\n<p>The assertion was created to match several lines of text, so you need to provide a <code>List</code> even if you try to match only one line. For e.g.:</p>\n<pre><code>assertLinesMatch(List.of(&quot;Expected at the beginning.*&quot;), List.of(contentUnderTest));\n</code></pre>\n<p>The assertion algorithm will try an exact match and then, if it fails, will use <code>String.match</code> interpreting the expected value as a regular expression.</p>\n<p><em><strong>An important note:</strong></em> if your <code>contentUnderTest</code> contains several lines, then the <code>.*</code> in the regex won't work (<code>.</code> doesn't match a new line character by default) so you may need to add an embedded flag (<a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/regex/Pattern.html#DOTALL\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/8/docs/api/java/util/regex/Pattern.html#DOTALL</a>):</p>\n<pre><code>// Flag ?s means match new lines\nassertLinesMatch(List.of(&quot;(?s)Expected at the beginning.*&quot;), List.of(contentWithMultipleLines));\n</code></pre>\n"}],"owner":{"account_id":23516,"reputation":25400,"user_id":58994,"accept_rate":79,"display_name":"Josh Glover"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":111004,"favorite_count":0,"down_vote_count":1,"up_vote_count":105,"accepted_answer_id":8509102,"answer_count":10,"score":104,"last_activity_date":1700472408,"creation_date":1323868752,"question_id":8505153,"body_markdown":"Ruby&#39;s `Test::Unit` has a nice `assert_matches` method that can be used in unit tests to assert that a regex matches a string.\r\n\r\nIs there anything like this in JUnit? Currently, I do this:\r\n\r\n    assertEquals(true, actual.matches(expectedRegex));\r\n\r\n","title":"Assert regex matches in JUnit","body":"<p>Ruby's <code>Test::Unit</code> has a nice <code>assert_matches</code> method that can be used in unit tests to assert that a regex matches a string.</p>\n\n<p>Is there anything like this in JUnit? Currently, I do this:</p>\n\n<pre><code>assertEquals(true, actual.matches(expectedRegex));\n</code></pre>\n"},{"tags":["java","spring-boot","testcontainers","docker-java","testcontainers-junit5"],"answers":[{"tags":[],"owner":{"account_id":256707,"reputation":8015,"user_id":537623,"accept_rate":81,"display_name":"kgautron"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1637751891,"creation_date":1637751506,"answer_id":70094866,"question_id":70085543,"body_markdown":"You cannot choose which actual port is used on the host machine. TestContainers chooses one automatically and makes it accessible through `getMappedPort(containerPort)` method on the container instance. You can also use `getFirstMappedPort()` if you only have one.\r\n\r\n    Integer hostPort = container.getMappedPort(8080);\r\n    Integer hostPort = container.getFirstMappedPort();\r\n\r\nhttps://www.testcontainers.org/features/networking/","title":"Testcontainer cannot configure port binding","body":"<p>You cannot choose which actual port is used on the host machine. TestContainers chooses one automatically and makes it accessible through <code>getMappedPort(containerPort)</code> method on the container instance. You can also use <code>getFirstMappedPort()</code> if you only have one.</p>\n<pre><code>Integer hostPort = container.getMappedPort(8080);\nInteger hostPort = container.getFirstMappedPort();\n</code></pre>\n<p><a href=\"https://www.testcontainers.org/features/networking/\" rel=\"noreferrer\">https://www.testcontainers.org/features/networking/</a></p>\n"},{"tags":[],"owner":{"account_id":16875761,"reputation":317,"user_id":12357360,"display_name":"jatorna"},"comment_count":0,"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1691522380,"creation_date":1688119713,"answer_id":76587975,"question_id":70085543,"body_markdown":"You can use set port bindings\r\n\r\n    List&lt;String&gt; portBindings = new ArrayList&lt;&gt;();\r\n    portBindings.add(&quot;5673:5672&quot;); // hostPort:containerPort\r\n    portBindings.add(&quot;15673:15672&quot;); // hostPort:containerPort\r\n    container.setPortBindings(portBindings);","title":"Testcontainer cannot configure port binding","body":"<p>You can use set port bindings</p>\n<pre><code>List&lt;String&gt; portBindings = new ArrayList&lt;&gt;();\nportBindings.add(&quot;5673:5672&quot;); // hostPort:containerPort\nportBindings.add(&quot;15673:15672&quot;); // hostPort:containerPort\ncontainer.setPortBindings(portBindings);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":399098,"reputation":10383,"user_id":764206,"display_name":"Nikita Koksharov"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700472209,"creation_date":1700470443,"answer_id":77514517,"question_id":70085543,"body_markdown":"Here is the alternative way to bind the port\r\n\r\n    container.withCreateContainerCmdModifier(cmd -&gt; {\r\n         cmd.getHostConfig().withPortBindings(\r\n             new PortBinding(Ports.Binding.bindPort(5673),\r\n             new ExposedPort(5672)));\r\n    });\r\n","title":"Testcontainer cannot configure port binding","body":"<p>Here is the alternative way to bind the port</p>\n<pre><code>container.withCreateContainerCmdModifier(cmd -&gt; {\n     cmd.getHostConfig().withPortBindings(\n         new PortBinding(Ports.Binding.bindPort(5673),\n         new ExposedPort(5672)));\n});\n</code></pre>\n"}],"owner":{"account_id":2286745,"reputation":154,"user_id":2010564,"accept_rate":40,"display_name":"Filip Kowalski"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9406,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":70094866,"answer_count":3,"score":8,"last_activity_date":1700472209,"creation_date":1637689693,"question_id":70085543,"body_markdown":"I&#39;m using testcontainer version `1.15.2`. Tests are run in intellij on windows 10. \r\nI have a wiremock container. By default it listens on the port `8080`. I would like to map this port to let&#39;s say `8081`. So I do:\r\n\r\n    public WiremockContainer() {\r\n        super(&quot;wiremock/wiremock:2.9.0-alpine&quot;);\r\n\r\n        self()\r\n                .waitingFor(Wait.forLogMessage(&quot;.*port:\\\\s*8080.*&quot;, 1)\r\n                        .withStartupTimeout(Duration.ofSeconds(25L)))\r\n                .withCreateContainerCmdModifier(cmd -&gt; cmd.getHostConfig()\r\n                        .withPortBindings(new PortBinding(Ports.Binding.bindPort(8081), new ExposedPort(8080)))\r\n                )\r\n                .withNetworkAliases(&quot;wiremock&quot;)\r\n                .withExposedPorts(8081);\r\n    }\r\n\r\nWhen the container is created it listens on the random port, not the `8081`[1]. What am I doing wrong ? What should I do to make the container listen on `8081` instead of the random port ?\r\n\r\n\r\n[1]\r\n\r\n 1. I have another container that tries to connect on `http://wiremock:8081` and keep getting `Connection refused`\r\n 2. When I add: `.waitingFor((...)forPort(8081)(...)));` timeout occurs.","title":"Testcontainer cannot configure port binding","body":"<p>I'm using testcontainer version <code>1.15.2</code>. Tests are run in intellij on windows 10.\nI have a wiremock container. By default it listens on the port <code>8080</code>. I would like to map this port to let's say <code>8081</code>. So I do:</p>\n<pre><code>public WiremockContainer() {\n    super(&quot;wiremock/wiremock:2.9.0-alpine&quot;);\n\n    self()\n            .waitingFor(Wait.forLogMessage(&quot;.*port:\\\\s*8080.*&quot;, 1)\n                    .withStartupTimeout(Duration.ofSeconds(25L)))\n            .withCreateContainerCmdModifier(cmd -&gt; cmd.getHostConfig()\n                    .withPortBindings(new PortBinding(Ports.Binding.bindPort(8081), new ExposedPort(8080)))\n            )\n            .withNetworkAliases(&quot;wiremock&quot;)\n            .withExposedPorts(8081);\n}\n</code></pre>\n<p>When the container is created it listens on the random port, not the <code>8081</code>[1]. What am I doing wrong ? What should I do to make the container listen on <code>8081</code> instead of the random port ?</p>\n<p>[1]</p>\n<ol>\n<li>I have another container that tries to connect on <code>http://wiremock:8081</code> and keep getting <code>Connection refused</code></li>\n<li>When I add: <code>.waitingFor((...)forPort(8081)(...)));</code> timeout occurs.</li>\n</ol>\n"},{"tags":["java","jpa"],"answers":[{"tags":[],"owner":{"account_id":1283501,"reputation":51335,"user_id":1237040,"display_name":"Ravi K Thapliyal"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1381835888,"creation_date":1381835333,"answer_id":19379718,"question_id":19379592,"body_markdown":"You do not have to worry about getting the generated ID at all. Just set up the object relationship on Java side (using the setter methods) and on `persist()` JPA would make sure that the PK generated is set as an FK on the dependent object.\r\n\r\nTo give you an example, if you had the following entity classes\r\n\r\n    @Entity\r\n    public class PKClass {\r\n    \r\n        @Id @GeneratedValue\r\n        @Column(name = &quot;PK_ID&quot;)\r\n        private Long id;\r\n    \r\n        // getters/setters\r\n    }\r\n    \r\n    @Entity\r\n    public class FKClass {\r\n    \r\n        @Id @GeneratedValue\r\n        @Column(name = &quot;FK_ID&quot;)\r\n        private Long id;\r\n    \r\n        @ManyToOne(cascade = CascadeType.ALL)\r\n        @JoinColumn(name = &quot;PK_ID&quot;)\r\n        private PKClass pk;\r\n    \r\n        // getters/setters\r\n    }\r\n\r\nYou would persist them (without worrying about the primary key) as\r\n\r\n    // create a new transaction\r\n    EntityTransaction tx = em.getTransaction();\r\n    tx.begin();\r\n    \r\n    // setup Java relationships\r\n    PKClass pk = new PKClass();\r\n    FKClass fk = new FKClass();\r\n    fk.setPK(pk);\r\n    \r\n    // persist\r\n    em.persist(fk);\r\n    \r\n    // close transaction\r\n    tx.commit();\r\n\r\n","title":"@GeneratedValue when create a new instance","body":"<p>You do not have to worry about getting the generated ID at all. Just set up the object relationship on Java side (using the setter methods) and on <code>persist()</code> JPA would make sure that the PK generated is set as an FK on the dependent object.</p>\n\n<p>To give you an example, if you had the following entity classes</p>\n\n<pre><code>@Entity\npublic class PKClass {\n\n    @Id @GeneratedValue\n    @Column(name = \"PK_ID\")\n    private Long id;\n\n    // getters/setters\n}\n\n@Entity\npublic class FKClass {\n\n    @Id @GeneratedValue\n    @Column(name = \"FK_ID\")\n    private Long id;\n\n    @ManyToOne(cascade = CascadeType.ALL)\n    @JoinColumn(name = \"PK_ID\")\n    private PKClass pk;\n\n    // getters/setters\n}\n</code></pre>\n\n<p>You would persist them (without worrying about the primary key) as</p>\n\n<pre><code>// create a new transaction\nEntityTransaction tx = em.getTransaction();\ntx.begin();\n\n// setup Java relationships\nPKClass pk = new PKClass();\nFKClass fk = new FKClass();\nfk.setPK(pk);\n\n// persist\nem.persist(fk);\n\n// close transaction\ntx.commit();\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1283501,"reputation":51335,"user_id":1237040,"display_name":"Ravi K Thapliyal"},"score":0,"creation_date":1381836588,"post_id":19379802,"comment_id":28719997,"body_markdown":"This is `Hibernate` specific and wouldn&#39;t let you port you application across different ORMs which is why `JPA` is usually used in the first place.","body":"This is <code>Hibernate</code> specific and wouldn&#39;t let you port you application across different ORMs which is why <code>JPA</code> is usually used in the first place."},{"owner":{"account_id":16221044,"reputation":331,"user_id":11712575,"display_name":"Jason Chan"},"score":0,"creation_date":1700460970,"post_id":19379802,"comment_id":136652859,"body_markdown":"Hello! I am trying to use this method on my entity (EX: myEntity.store(), or myRepostitory.store(myEntity)), both of which don&#39;t exist. Where did you find the .store() method and how do we properly call it?","body":"Hello! I am trying to use this method on my entity (EX: myEntity.store(), or myRepostitory.store(myEntity)), both of which don&#39;t exist. Where did you find the .store() method and how do we properly call it?"}],"tags":[],"owner":{"account_id":2305374,"reputation":44549,"user_id":2024761,"display_name":"Rahul"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1700472189,"creation_date":1381835555,"answer_id":19379802,"question_id":19379592,"body_markdown":"&lt;strike&gt;You can call the `store()` method. Store method doesn&#39;t persist the object in the DB as yet. It creates a proxy object in the hibernate cache layer and returns that proxy object, with the primary key populated (yes, the auto generated value is available). You can use this value for your other object as you wanted. Once done, when you flush the session, all the objects, are persisted in the DB.&lt;/strike&gt;\r\n\r\nThis answer is now outdated/obsolete since the &quot;store&quot; function does not exist anymore. It needs to be deleted, but I&#39;m unable to do so, because this is the accepted answer.","title":"@GeneratedValue when create a new instance","body":"<p><strike>You can call the <code>store()</code> method. Store method doesn't persist the object in the DB as yet. It creates a proxy object in the hibernate cache layer and returns that proxy object, with the primary key populated (yes, the auto generated value is available). You can use this value for your other object as you wanted. Once done, when you flush the session, all the objects, are persisted in the DB.</strike></p>\n<p>This answer is now outdated/obsolete since the &quot;store&quot; function does not exist anymore. It needs to be deleted, but I'm unable to do so, because this is the accepted answer.</p>\n"}],"owner":{"account_id":3225359,"reputation":6722,"user_id":2721865,"accept_rate":100,"display_name":"kai"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1711,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":19379802,"answer_count":2,"score":2,"last_activity_date":1700472189,"creation_date":1381834942,"question_id":19379592,"body_markdown":"I have an entity with a @GeneratedValue(). I know there are different generation types. My question is: Is there a generation typ which generate the ID when i create a new instance of the entity? I need the id of my object to create another object which have the id as FK, but i dont want to persist the objekt before creating the other object. Thanks for help!","title":"@GeneratedValue when create a new instance","body":"<p>I have an entity with a @GeneratedValue(). I know there are different generation types. My question is: Is there a generation typ which generate the ID when i create a new instance of the entity? I need the id of my object to create another object which have the id as FK, but i dont want to persist the objekt before creating the other object. Thanks for help!</p>\n"},{"tags":["java","oracle","spring-boot","hikaricp"],"comments":[{"owner":{"account_id":9757092,"reputation":304,"user_id":7233446,"display_name":"Kuassi Mensah"},"score":0,"creation_date":1701687809,"post_id":77514142,"comment_id":136802429,"body_markdown":"Hello, which version of version of: Oracle JDBC driver, Spring, Hikari, Hibernate?","body":"Hello, which version of version of: Oracle JDBC driver, Spring, Hikari, Hibernate?"}],"owner":{"account_id":9945066,"reputation":7,"user_id":7360103,"display_name":"user7360"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":81,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":0,"score":-2,"last_activity_date":1700471824,"creation_date":1700465774,"question_id":77514142,"body_markdown":"```\r\n2023-11-20 12:59:59.003 [main] DEBUG com.zaxxer.hikari.HikariConfig -\r\n                                validationTimeout...............250\r\n\r\n2023-11-20 12:59:59.007 [main] INFO  com.zaxxer.hikari.HikariDataSource -\r\n                                HikariPool-1 - Starting...\r\n\r\n2023-11-20 13:00:03.151 [main] WARN  com.zaxxer.hikari.pool.PoolBase -\r\n                                HikariPool-1 - Default transaction isolation level detection failed (**Closed Connection**).\r\n\r\n2023-11-20 13:00:03.151 [main] DEBUG com.zaxxer.hikari.pool.PoolBase -\r\n                                HikariPool-1 - Closing connection oracle.jdbc.driver.T4CConnection@69b1e8f8: (**Failed to create/setup connection**)\r\n\r\n2023-11-20 13:00:03.153 [main] ERROR com.zaxxer.hikari.pool.HikariPool -\r\n                                **HikariPool-1 - Error thrown while acquiring connection from data source**\r\n\r\njava.sql.SQLRecoverableException: Closed Connection\r\n        \r\nat oracle.jdbc.driver.PhysicalConnection.setTransactionIsolation(PhysicalConnection.java:2829)\r\n\r\n        at com.zaxxer.hikari.pool.PoolBase.setupConnection(PoolBase.java:405)\r\n        at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:355)\r\n\r\n\r\n2023-11-20 13:26:06.143 [main] ERROR o.hibernate.hql.spi.id.IdTableHelper -\r\n\t\t\t\tUnable obtain JDBC Connection\r\njava.sql.SQLRecoverableException: Closed Connection\r\n```\r\nAbove error while running spring boot application **mvn spring-boot:run**. \r\n\r\nbootstrap.yml\r\n\r\n```yaml\r\nspring:\r\n  datasource:\r\n    tomcat:\r\n      testOnBorrow: &#39;true&#39;\r\n      validationQuery: SELECT 1 FROM DUAL\r\n      validationInterval: &#39;60000&#39;\r\n      logAbandoned: &#39;true&#39;\r\n      removeAbandoned: &#39;true&#39;\r\n      minEvictableIdleTimeMillis: &#39;300000&#39;\r\n      abandonWhenPercentageFull: &#39;25&#39;\r\n      removeAbandonedTimeout: &#39;30&#39;\r\n      defaultTransactionIsolation: &#39;2&#39;\r\n      maxAge: &#39;0&#39;\r\n      initialSize: &#39;0&#39;\r\n      maxActive: &#39;50&#39;\r\n      timeBetweenEvictionRunsMillis: &#39;180000&#39;\r\n      maxIdle: &#39;10&#39;\r\n      minIdle: &#39;0&#39;\r\n      validationQueryTimeout: &#39;15&#39;\r\n    hikari:\r\n      maxLifetime: &#39;0&#39;\r\n      connectionTimeout: &#39;30000&#39;\r\n      keepaliveTime: &#39;180000&#39;\r\n      connectionInitSql: &quot;SELECT 1 FROM DUAL&quot;\r\n      idleTimeout: &#39;300000&#39;\r\n      transactionIsolation: TRANSACTION_READ_COMMITTED\r\n      validationTimeout: &#39;250&#39;\r\n      minimumIdle: &#39;0&#39;\r\n      maximumPoolSize: &#39;20&#39;\r\n    driver-class-name: oracle.jdbc.OracleDriver\r\n    test-while-idle: &#39;true&#39;\r\n    password: ******\r\n    test-on-borrow: &#39;true&#39;\r\n    username: dbuser\r\n    url: jdbc:oracle:thin:@gciod-dev-01.internal.das:1525/GCIOD\r\n    validationQuery: SELECT 1 FROM DUAL\r\n  jpa:\r\n    generate-ddl: &#39;false&#39;\r\n    hibernate:\r\n      dialect: org.hibernate.dialect.Oracle10gDialect\r\n      naming-strategy: org.hibernate.cfg.DefaultNamingStrategy\r\n      ddl-auto: none\r\n    properties:\r\n      hibernate:\r\n        hbm2ddl:\r\n          auto: none\r\n        format_sql: &#39;true&#39;\r\n        default_schema: GCIOREF\r\n    database-platform: org.hibernate.dialect.Oracle10gDialect\r\n    database: Oracle\r\n    show-sql: &#39;true&#39;\r\n    repositories:\r\n      enabled: &#39;true&#39;\r\n```\r\nThe application is using db configuration from bitbucket. I am unable to run the application only from my machine. There are no firewall blocks for the application and db server.\r\nHelp me to resolve the above issue","title":"Why HikariPool-1 - Default transaction isolation level detection failed (Closed Connection)?","body":"<pre><code>2023-11-20 12:59:59.003 [main] DEBUG com.zaxxer.hikari.HikariConfig -\n                                validationTimeout...............250\n\n2023-11-20 12:59:59.007 [main] INFO  com.zaxxer.hikari.HikariDataSource -\n                                HikariPool-1 - Starting...\n\n2023-11-20 13:00:03.151 [main] WARN  com.zaxxer.hikari.pool.PoolBase -\n                                HikariPool-1 - Default transaction isolation level detection failed (**Closed Connection**).\n\n2023-11-20 13:00:03.151 [main] DEBUG com.zaxxer.hikari.pool.PoolBase -\n                                HikariPool-1 - Closing connection oracle.jdbc.driver.T4CConnection@69b1e8f8: (**Failed to create/setup connection**)\n\n2023-11-20 13:00:03.153 [main] ERROR com.zaxxer.hikari.pool.HikariPool -\n                                **HikariPool-1 - Error thrown while acquiring connection from data source**\n\njava.sql.SQLRecoverableException: Closed Connection\n        \nat oracle.jdbc.driver.PhysicalConnection.setTransactionIsolation(PhysicalConnection.java:2829)\n\n        at com.zaxxer.hikari.pool.PoolBase.setupConnection(PoolBase.java:405)\n        at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:355)\n\n\n2023-11-20 13:26:06.143 [main] ERROR o.hibernate.hql.spi.id.IdTableHelper -\n                Unable obtain JDBC Connection\njava.sql.SQLRecoverableException: Closed Connection\n</code></pre>\n<p>Above error while running spring boot application <strong>mvn spring-boot:run</strong>.</p>\n<p>bootstrap.yml</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>spring:\n  datasource:\n    tomcat:\n      testOnBorrow: 'true'\n      validationQuery: SELECT 1 FROM DUAL\n      validationInterval: '60000'\n      logAbandoned: 'true'\n      removeAbandoned: 'true'\n      minEvictableIdleTimeMillis: '300000'\n      abandonWhenPercentageFull: '25'\n      removeAbandonedTimeout: '30'\n      defaultTransactionIsolation: '2'\n      maxAge: '0'\n      initialSize: '0'\n      maxActive: '50'\n      timeBetweenEvictionRunsMillis: '180000'\n      maxIdle: '10'\n      minIdle: '0'\n      validationQueryTimeout: '15'\n    hikari:\n      maxLifetime: '0'\n      connectionTimeout: '30000'\n      keepaliveTime: '180000'\n      connectionInitSql: &quot;SELECT 1 FROM DUAL&quot;\n      idleTimeout: '300000'\n      transactionIsolation: TRANSACTION_READ_COMMITTED\n      validationTimeout: '250'\n      minimumIdle: '0'\n      maximumPoolSize: '20'\n    driver-class-name: oracle.jdbc.OracleDriver\n    test-while-idle: 'true'\n    password: ******\n    test-on-borrow: 'true'\n    username: dbuser\n    url: jdbc:oracle:thin:@gciod-dev-01.internal.das:1525/GCIOD\n    validationQuery: SELECT 1 FROM DUAL\n  jpa:\n    generate-ddl: 'false'\n    hibernate:\n      dialect: org.hibernate.dialect.Oracle10gDialect\n      naming-strategy: org.hibernate.cfg.DefaultNamingStrategy\n      ddl-auto: none\n    properties:\n      hibernate:\n        hbm2ddl:\n          auto: none\n        format_sql: 'true'\n        default_schema: GCIOREF\n    database-platform: org.hibernate.dialect.Oracle10gDialect\n    database: Oracle\n    show-sql: 'true'\n    repositories:\n      enabled: 'true'\n</code></pre>\n<p>The application is using db configuration from bitbucket. I am unable to run the application only from my machine. There are no firewall blocks for the application and db server.\nHelp me to resolve the above issue</p>\n"},{"tags":["java","gradle","groovy","gradlew","jgit"],"comments":[{"owner":{"account_id":3837378,"reputation":35488,"user_id":3181392,"display_name":"cfrick"},"score":1,"creation_date":1638443944,"post_id":70197604,"comment_id":124091816,"body_markdown":"Does this answer your question? [How to fix java.lang.UnsupportedClassVersionError: Unsupported major.minor version](https://stackoverflow.com/questions/10382929/how-to-fix-java-lang-unsupportedclassversionerror-unsupported-major-minor-versi)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/10382929/how-to-fix-java-lang-unsupportedclassversionerror-unsupported-major-minor-versi\">How to fix java.lang.UnsupportedClassVersionError: Unsupported major.minor version</a>"},{"owner":{"account_id":4358,"reputation":168420,"user_id":6509,"display_name":"tim_yates"},"score":1,"creation_date":1638445275,"post_id":70197604,"comment_id":124092368,"body_markdown":"55 is Java 11... jgit 6.x requires Java 11. Are you sure jgit 6 hasn&#39;t snuck into your dependencies? A build scan would show https://docs.gradle.org/current/userguide/viewing_debugging_dependencies.html","body":"55 is Java 11... jgit 6.x requires Java 11. Are you sure jgit 6 hasn&#39;t snuck into your dependencies? A build scan would show <a href=\"https://docs.gradle.org/current/userguide/viewing_debugging_dependencies.html\" rel=\"nofollow noreferrer\">docs.gradle.org/current/userguide/&hellip;</a>"},{"owner":{"account_id":4358,"reputation":168420,"user_id":6509,"display_name":"tim_yates"},"score":0,"creation_date":1638449223,"post_id":70197604,"comment_id":124094092,"body_markdown":"As jgit 6 came out on the 29th November, I would bet you have a wildcard dependency on it, and haven&#39;t specified a specific version https://search.maven.org/artifact/org.eclipse.jgit/org.eclipse.jgit","body":"As jgit 6 came out on the 29th November, I would bet you have a wildcard dependency on it, and haven&#39;t specified a specific version <a href=\"https://search.maven.org/artifact/org.eclipse.jgit/org.eclipse.jgit\" rel=\"nofollow noreferrer\">search.maven.org/artifact/org.eclipse.jgit/org.eclipse.jgit</a>"},{"owner":{"account_id":13356324,"reputation":79,"user_id":9639724,"display_name":"JMBA"},"score":0,"creation_date":1638452270,"post_id":70197604,"comment_id":124095399,"body_markdown":"configurations {\n        all {\n            resolutionStrategy {\n                force &#39;org.eclipse.core:commands:3.3.0-I20070605-0010&#39;\n                force &#39;org.eclipse.equinox:common:3.6.200-v20130402-150\n                force &#39;org.eclipse.jgit:org.eclipse.jgit:5.5.0.201909110433-r&#39;            }\n        }\n    }\nAlso added under dependencyManagement as follows\ndependency &#39;org.eclipse.jgit:org.eclipse.jgit:5.5.0.201909110433-r&#39;\n\nBut still it&#39;s not working, somehow it&#39;s picking version 6","body":"configurations {         all {             resolutionStrategy {                 force &#39;org.eclipse.core:commands:3.3.0-I20070605-0010&#39;                 force &#39;org.eclipse.equinox:common:3.6.200-v20130402-150                 force &#39;org.eclipse.jgit:org.eclipse.jgit:5.5.0.201909110433-r&#39;            }         }     } Also added under dependencyManagement as follows dependency &#39;org.eclipse.jgit:org.eclipse.jgit:5.5.0.201909110433-r&#39;  But still it&#39;s not working, somehow it&#39;s picking version 6"},{"owner":{"account_id":4358,"reputation":168420,"user_id":6509,"display_name":"tim_yates"},"score":0,"creation_date":1638453559,"post_id":70197604,"comment_id":124095962,"body_markdown":"You will need to use a build scan or one of the cmd-line techniques in the link in the second comment to work out what","body":"You will need to use a build scan or one of the cmd-line techniques in the link in the second comment to work out what"}],"answers":[{"tags":[],"owner":{"account_id":2616652,"reputation":833,"user_id":2265587,"accept_rate":78,"display_name":"Anand"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700471641,"creation_date":1700471641,"answer_id":77514633,"question_id":70197604,"body_markdown":"Try upgrading your **JAVA version to 11**\r\n\r\n    49 = Java 5\r\n    50 = Java 6\r\n    51 = Java 7\r\n    52 = Java 8\r\n    53 = Java 9\r\n    54 = Java 10\r\n    55 = Java 11\r\n    56 = Java 12\r\n    57 = Java 13\r\n    58 = Java 14\r\n    59 = Java 15\r\n    60 = Java 16\r\n    61 = Java 17\r\n    62 = Java 18\r\n    63 = Java 19\r\n    64 = Java 20\r\n    65 = Java 21\r\n\r\nAlso,**strong text** **upgrade jgit depedency**\r\n\r\n       &lt;dependency&gt;\r\n            &lt;groupId&gt;org.eclipse.jgit&lt;/groupId&gt;\r\n            &lt;artifactId&gt;org.eclipse.jgit&lt;/artifactId&gt;\r\n            &lt;version&gt;6.6.1.202309021850-r&lt;/version&gt;\r\n        &lt;/dependency&gt;","title":"org/eclipse/jgit/lib/ObjectId has been compiled by a more recent version of the Java Runtime (class file version 55.0)","body":"<p>Try upgrading your <strong>JAVA version to 11</strong></p>\n<pre><code>49 = Java 5\n50 = Java 6\n51 = Java 7\n52 = Java 8\n53 = Java 9\n54 = Java 10\n55 = Java 11\n56 = Java 12\n57 = Java 13\n58 = Java 14\n59 = Java 15\n60 = Java 16\n61 = Java 17\n62 = Java 18\n63 = Java 19\n64 = Java 20\n65 = Java 21\n</code></pre>\n<p>Also,<strong>strong text</strong> <strong>upgrade jgit depedency</strong></p>\n<pre><code>   &lt;dependency&gt;\n        &lt;groupId&gt;org.eclipse.jgit&lt;/groupId&gt;\n        &lt;artifactId&gt;org.eclipse.jgit&lt;/artifactId&gt;\n        &lt;version&gt;6.6.1.202309021850-r&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":13356324,"reputation":79,"user_id":9639724,"display_name":"JMBA"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":914,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1700471641,"creation_date":1638440094,"question_id":70197604,"body_markdown":"    A problem occurred evaluating root project &#39;xxx&#39;.\r\n    &gt; Could not create task &#39;:prepareRelease&#39;.\r\n       &gt; Could not create task of type &#39;GitReleaseTask&#39;.\r\n          &gt; Could not generate a decorated class for type GitReleaseTask.\r\n             &gt; org/eclipse/jgit/lib/ObjectId has been compiled by a more recent version of the Java Runtime (class file version 55.0), this version of the Java Runtime only recognizes class file versions up to 52.0\r\n\r\nGitReleaseTask.groovy is groovy task which use org.eclipse.jgit library from gradle.\r\nI get the above exception while am building my project. I have also noticed jgit v5.13 in classpath of my project currently. The build was successful till few days back and all of the sudden it fails. My guess is that jgit v5.13 is built using advanced versions of Java and we are using Java8 to build our project. \r\n\r\nCan someone help?\r\n","title":"org/eclipse/jgit/lib/ObjectId has been compiled by a more recent version of the Java Runtime (class file version 55.0)","body":"<pre><code>A problem occurred evaluating root project 'xxx'.\n&gt; Could not create task ':prepareRelease'.\n   &gt; Could not create task of type 'GitReleaseTask'.\n      &gt; Could not generate a decorated class for type GitReleaseTask.\n         &gt; org/eclipse/jgit/lib/ObjectId has been compiled by a more recent version of the Java Runtime (class file version 55.0), this version of the Java Runtime only recognizes class file versions up to 52.0\n</code></pre>\n<p>GitReleaseTask.groovy is groovy task which use org.eclipse.jgit library from gradle.\nI get the above exception while am building my project. I have also noticed jgit v5.13 in classpath of my project currently. The build was successful till few days back and all of the sudden it fails. My guess is that jgit v5.13 is built using advanced versions of Java and we are using Java8 to build our project.</p>\n<p>Can someone help?</p>\n"},{"tags":["java","reactjs","spring-boot"],"comments":[{"owner":{"account_id":10835632,"reputation":541,"user_id":7968718,"display_name":"Daksharaj kamal"},"score":0,"creation_date":1700460252,"post_id":77513654,"comment_id":136652787,"body_markdown":"It&#39;s possible to store Images in MySQL without using BLOB but that is not recommended as it can cause some issues while processing high-quality (Big-size) images, I would like to know why you don&#39;t want to go for BLOB or any AWS or Azure services like S3 or Azure Blob as you can store your images there and keep the path on your MySQL database it would be more convinenitnet","body":"It&#39;s possible to store Images in MySQL without using BLOB but that is not recommended as it can cause some issues while processing high-quality (Big-size) images, I would like to know why you don&#39;t want to go for BLOB or any AWS or Azure services like S3 or Azure Blob as you can store your images there and keep the path on your MySQL database it would be more convinenitnet"}],"answers":[{"tags":[],"owner":{"account_id":29726894,"reputation":313,"user_id":22782586,"display_name":"Sahab"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1700469336,"creation_date":1700469336,"answer_id":77514421,"question_id":77513654,"body_markdown":"**We can solve this with below steps with mysql longtext not BLOB :**\r\n\r\n- alter query to add new filed to store employee photo \r\n  \r\n\r\n&gt; alter table employees add employee_profile_photo longtext null;\r\n\r\n- update your `Employee` entity for new field `employeeProfilePhoto` \r\n  ```\r\n  @Column(name = &quot;employee_profile_photo&quot;)\r\n  private String employeeProfilePhoto;\r\n\r\n\r\n- update controller method\r\n```\r\n@PostMapping(&quot;/employees&quot;)\r\n    public Employee createEmployee(@RequestBody Employee employee, @RequestParam Map&lt;String,String&gt; allParams, HttpServletRequest request) {\r\n\r\n        MultipartHttpServletRequest multipartRequest = (MultipartHttpServletRequest) request;\r\n        MultipartFile employeeProfilePhotoObj = multipartRequest.getFile(&quot;employeeProfilePhoto&quot;);\r\n\r\n        String employeeProfilePhoto =  getImageString(employeeProfilePhotoObj);\r\n        employeeProfilePhoto.setEmployeeProfilePhoto(employeeProfilePhoto);\r\n\r\n        return employeeRepository.save(employee);\r\n    }\r\n```\r\n- add below method to for `MultipartFile` to `Base64` string conversion\r\n```\r\n public String getImageString(MultipartFile multipartFile) {\r\n\r\n        try {\r\n            byte[] imageBytes = IOUtils.toByteArray( multipartFile.getInputStream());\r\n            return  Base64.getEncoder().encodeToString(imageBytes);\r\n        }catch (Exception e) {\r\n            LOGGER.error(&quot;Exception during image read&quot;, e);\r\n            return null;\r\n        }\r\n    } \r\n```\r\n- display photo to react \r\n\r\n```\r\nconst Photo = ({employeeObj}) =&gt; {\r\n    let imageData = employeeObj.employeeProfilePhoto;\r\n    return (\r\n        &lt; &gt;\r\n            {imageData &amp;&amp; &lt;img src={`data:image/png;base64,${imageData}`} alt=&quot;Photo&quot; /&gt;}\r\n        &lt;/&gt;  \r\n    );\r\n};\r\n\r\nexport default Photo;","title":"How to store image into MySQL database using Spring Boot and ReactJS","body":"<p><strong>We can solve this with below steps with mysql longtext not BLOB :</strong></p>\n<ul>\n<li>alter query to add new filed to store employee photo</li>\n</ul>\n<blockquote>\n<p>alter table employees add employee_profile_photo longtext null;</p>\n</blockquote>\n<ul>\n<li>update your <code>Employee</code> entity for new field <code>employeeProfilePhoto</code>\n<pre><code>@Column(name = &quot;employee_profile_photo&quot;)\nprivate String employeeProfilePhoto;\n\n\n</code></pre>\n</li>\n<li>update controller method</li>\n</ul>\n<pre><code>@PostMapping(&quot;/employees&quot;)\n    public Employee createEmployee(@RequestBody Employee employee, @RequestParam Map&lt;String,String&gt; allParams, HttpServletRequest request) {\n\n        MultipartHttpServletRequest multipartRequest = (MultipartHttpServletRequest) request;\n        MultipartFile employeeProfilePhotoObj = multipartRequest.getFile(&quot;employeeProfilePhoto&quot;);\n\n        String employeeProfilePhoto =  getImageString(employeeProfilePhotoObj);\n        employeeProfilePhoto.setEmployeeProfilePhoto(employeeProfilePhoto);\n\n        return employeeRepository.save(employee);\n    }\n</code></pre>\n<ul>\n<li>add below method to for <code>MultipartFile</code> to <code>Base64</code> string conversion</li>\n</ul>\n<pre><code> public String getImageString(MultipartFile multipartFile) {\n\n        try {\n            byte[] imageBytes = IOUtils.toByteArray( multipartFile.getInputStream());\n            return  Base64.getEncoder().encodeToString(imageBytes);\n        }catch (Exception e) {\n            LOGGER.error(&quot;Exception during image read&quot;, e);\n            return null;\n        }\n    } \n</code></pre>\n<ul>\n<li>display photo to react</li>\n</ul>\n<pre><code>const Photo = ({employeeObj}) =&gt; {\n    let imageData = employeeObj.employeeProfilePhoto;\n    return (\n        &lt; &gt;\n            {imageData &amp;&amp; &lt;img src={`data:image/png;base64,${imageData}`} alt=&quot;Photo&quot; /&gt;}\n        &lt;/&gt;  \n    );\n};\n\nexport default Photo;\n</code></pre>\n"}],"owner":{"account_id":27244306,"reputation":13,"user_id":20769903,"display_name":"Rishabh Teli"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77514421,"answer_count":1,"score":1,"last_activity_date":1700471629,"creation_date":1700457641,"question_id":77513654,"body_markdown":"file: Employee.java\r\n```\r\npackage net.employee_crud.springboot.model;\r\n\r\nimport jakarta.persistence.Column;\r\nimport jakarta.persistence.Entity;\r\nimport jakarta.persistence.GeneratedValue;\r\nimport jakarta.persistence.GenerationType;\r\nimport jakarta.persistence.Id;\r\nimport jakarta.persistence.Table;\r\n\r\n@Entity\r\n@Table(name=&quot;employees&quot;)\r\npublic class Employee {\r\n\t\r\n\t@Id\r\n\t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n\tprivate long id;\r\n\t\r\n\t@Column(name = &quot;first_name&quot;)\r\n\tprivate String firstName;\r\n\t\r\n\t@Column(name = &quot;last_name&quot;)\r\n\tprivate String lastName;\r\n\t\r\n\t@Column(name = &quot;email_id&quot;)\r\n\tprivate String emailId;\r\n\t\r\n\t@Column(name = &quot;department_name&quot;)\r\n\tprivate String department;\r\n\t\r\n\tpublic Employee() {\r\n\t\t\r\n\t}\r\n\t\r\n\tpublic Employee(String firstName, String lastName, String emailId, String department) {\r\n\t\tsuper();\r\n\t\tthis.firstName = firstName;\r\n\t\tthis.lastName = lastName;\r\n\t\tthis.emailId = emailId;\r\n\t\tthis.department = department;\r\n\t}\r\n\tpublic long getId() {\r\n\t\treturn id;\r\n\t}\r\n\tpublic void setId(long id) {\r\n\t\tthis.id = id;\r\n\t}\r\n\tpublic String getFirstName() {\r\n\t\treturn firstName;\r\n\t}\r\n\tpublic void setFirstName(String firstName) {\r\n\t\tthis.firstName = firstName;\r\n\t}\r\n\tpublic String getLastName() {\r\n\t\treturn lastName;\r\n\t}\r\n\tpublic void setLastName(String lastName) {\r\n\t\tthis.lastName = lastName;\r\n\t}\r\n\tpublic String getEmailId() {\r\n\t\treturn emailId;\r\n\t}\r\n\tpublic void setEmailId(String emailId) {\r\n\t\tthis.emailId = emailId;\r\n\t}\r\n\r\n\tpublic String getDepartment() {\r\n\t\treturn department;\r\n\t}\r\n\r\n\tpublic void setDepartment(String department) {\r\n\t\tthis.department = department;\r\n\t}\r\n\t\r\n\t\r\n\t\r\n}\r\n```\r\n\r\nEmployeeController.java\r\n\r\n```\r\npackage net.employee_crud.springboot.controller;\r\n\r\nimport java.util.HashMap;\r\nimport java.util.List;\r\nimport java.util.Map;\r\n\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.http.ResponseEntity;\r\nimport org.springframework.web.bind.annotation.CrossOrigin;\r\nimport org.springframework.web.bind.annotation.DeleteMapping;\r\nimport org.springframework.web.bind.annotation.GetMapping;\r\nimport org.springframework.web.bind.annotation.PathVariable;\r\nimport org.springframework.web.bind.annotation.PostMapping;\r\nimport org.springframework.web.bind.annotation.PutMapping;\r\nimport org.springframework.web.bind.annotation.RequestBody;\r\nimport org.springframework.web.bind.annotation.RequestMapping;\r\nimport org.springframework.web.bind.annotation.RestController;\r\n\r\nimport net.employee_crud.springboot.exception.ResourceNotFounudException;\r\nimport net.employee_crud.springboot.model.Employee;\r\nimport net.employee_crud.springboot.repository.EmployeeRepository;\r\n\r\n@CrossOrigin(origins = &quot;http://localhost:3000&quot;)\r\n@RestController\r\n@RequestMapping(&quot;/api/v1/&quot;)\r\npublic class EmployeeController {\r\n\t\r\n\t@Autowired\r\n\tprivate EmployeeRepository employeeRepository;\r\n\t\r\n\t//get all employees api\r\n\t@GetMapping(&quot;/employees&quot;)\r\n\tpublic List&lt;Employee&gt; getAllEmployees(){\r\n\t\treturn employeeRepository.findAll();\r\n\t\t\t\t\r\n\t}\r\n\t\r\n\t//Create employee rest api\r\n\t@PostMapping(&quot;/employees&quot;)\r\n\tpublic Employee createEmployee(@RequestBody Employee employee) {\r\n\t\treturn employeeRepository.save(employee);\r\n\t}\r\n\t\r\n\t//get employee by id rest api\r\n\t@GetMapping(&quot;/employees/{id}&quot;)\r\n\tpublic ResponseEntity&lt;Employee&gt; getEmployeebyId(@PathVariable Long id) {\r\n\t\t\r\n\t\tEmployee employee = employeeRepository.findById(id)\r\n\t\t\t\t.orElseThrow(()-&gt; new ResourceNotFounudException(&quot;Employee Not exist with id: &quot; + id));\r\n\t\treturn ResponseEntity.ok(employee);\r\n\t}\r\n\t\r\n\t//Update employee rest api\r\n\t@PutMapping(&quot;/employees/{id}&quot;)\r\n\tpublic ResponseEntity&lt;Employee&gt; updateEmployee(@PathVariable Long id,@RequestBody Employee employee_details){\r\n\t\tEmployee employee = employeeRepository.findById(id)\r\n\t\t\t\t.orElseThrow(()-&gt; new ResourceNotFounudException(&quot;Employee Not exist with id: &quot; + id));\r\n\t\t\r\n\t\temployee.setFirstName(employee_details.getFirstName());\r\n\t\temployee.setLastName(employee_details.getLastName());\r\n\t\temployee.setEmailId(employee_details.getEmailId());\r\n\t\temployee.setDepartment(employee_details.getDepartment());\r\n\t\t\r\n\t\tEmployee updated_Employee = employeeRepository.save(employee);\r\n\t\treturn ResponseEntity.ok(updated_Employee);\r\n\t}\r\n\t\r\n\t//Delete Employee rest api\r\n\t@DeleteMapping(&quot;/employees/{id}&quot;)\r\n\tpublic ResponseEntity&lt;Map&lt;String,Boolean&gt;&gt;deleteEmployee(@PathVariable long id){\r\n\t\tEmployee employee = employeeRepository.findById(id)\r\n\t\t\t\t.orElseThrow(()-&gt; new ResourceNotFounudException(&quot;Employee Not exist with id: &quot; + id));\r\n\t\t\r\n\t\temployeeRepository.delete(employee);\r\n\t\tMap&lt;String,Boolean&gt; ans = new HashMap&lt;&gt;();\r\n\t\tans.put(&quot;deleted&quot;,Boolean.TRUE);\r\n\t\treturn ResponseEntity.ok(ans);\r\n\t}\r\n\t\r\n}\r\n\r\n```\r\n\r\n\r\nI have 4 columns in Employee table, firstName, lastName, emailId, department_name. Now i want to add 1 more column which will store employee_profile photo. How can i store image in database. I don&#39;t want to store image as BLOB. If that is not possible to do without storing it as BLOB, then provide me that solution.","title":"How to store image into MySQL database using Spring Boot and ReactJS","body":"<p>file: Employee.java</p>\n<pre><code>package net.employee_crud.springboot.model;\n\nimport jakarta.persistence.Column;\nimport jakarta.persistence.Entity;\nimport jakarta.persistence.GeneratedValue;\nimport jakarta.persistence.GenerationType;\nimport jakarta.persistence.Id;\nimport jakarta.persistence.Table;\n\n@Entity\n@Table(name=&quot;employees&quot;)\npublic class Employee {\n    \n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private long id;\n    \n    @Column(name = &quot;first_name&quot;)\n    private String firstName;\n    \n    @Column(name = &quot;last_name&quot;)\n    private String lastName;\n    \n    @Column(name = &quot;email_id&quot;)\n    private String emailId;\n    \n    @Column(name = &quot;department_name&quot;)\n    private String department;\n    \n    public Employee() {\n        \n    }\n    \n    public Employee(String firstName, String lastName, String emailId, String department) {\n        super();\n        this.firstName = firstName;\n        this.lastName = lastName;\n        this.emailId = emailId;\n        this.department = department;\n    }\n    public long getId() {\n        return id;\n    }\n    public void setId(long id) {\n        this.id = id;\n    }\n    public String getFirstName() {\n        return firstName;\n    }\n    public void setFirstName(String firstName) {\n        this.firstName = firstName;\n    }\n    public String getLastName() {\n        return lastName;\n    }\n    public void setLastName(String lastName) {\n        this.lastName = lastName;\n    }\n    public String getEmailId() {\n        return emailId;\n    }\n    public void setEmailId(String emailId) {\n        this.emailId = emailId;\n    }\n\n    public String getDepartment() {\n        return department;\n    }\n\n    public void setDepartment(String department) {\n        this.department = department;\n    }\n    \n    \n    \n}\n</code></pre>\n<p>EmployeeController.java</p>\n<pre><code>package net.employee_crud.springboot.controller;\n\nimport java.util.HashMap;\nimport java.util.List;\nimport java.util.Map;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.web.bind.annotation.CrossOrigin;\nimport org.springframework.web.bind.annotation.DeleteMapping;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.PathVariable;\nimport org.springframework.web.bind.annotation.PostMapping;\nimport org.springframework.web.bind.annotation.PutMapping;\nimport org.springframework.web.bind.annotation.RequestBody;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RestController;\n\nimport net.employee_crud.springboot.exception.ResourceNotFounudException;\nimport net.employee_crud.springboot.model.Employee;\nimport net.employee_crud.springboot.repository.EmployeeRepository;\n\n@CrossOrigin(origins = &quot;http://localhost:3000&quot;)\n@RestController\n@RequestMapping(&quot;/api/v1/&quot;)\npublic class EmployeeController {\n    \n    @Autowired\n    private EmployeeRepository employeeRepository;\n    \n    //get all employees api\n    @GetMapping(&quot;/employees&quot;)\n    public List&lt;Employee&gt; getAllEmployees(){\n        return employeeRepository.findAll();\n                \n    }\n    \n    //Create employee rest api\n    @PostMapping(&quot;/employees&quot;)\n    public Employee createEmployee(@RequestBody Employee employee) {\n        return employeeRepository.save(employee);\n    }\n    \n    //get employee by id rest api\n    @GetMapping(&quot;/employees/{id}&quot;)\n    public ResponseEntity&lt;Employee&gt; getEmployeebyId(@PathVariable Long id) {\n        \n        Employee employee = employeeRepository.findById(id)\n                .orElseThrow(()-&gt; new ResourceNotFounudException(&quot;Employee Not exist with id: &quot; + id));\n        return ResponseEntity.ok(employee);\n    }\n    \n    //Update employee rest api\n    @PutMapping(&quot;/employees/{id}&quot;)\n    public ResponseEntity&lt;Employee&gt; updateEmployee(@PathVariable Long id,@RequestBody Employee employee_details){\n        Employee employee = employeeRepository.findById(id)\n                .orElseThrow(()-&gt; new ResourceNotFounudException(&quot;Employee Not exist with id: &quot; + id));\n        \n        employee.setFirstName(employee_details.getFirstName());\n        employee.setLastName(employee_details.getLastName());\n        employee.setEmailId(employee_details.getEmailId());\n        employee.setDepartment(employee_details.getDepartment());\n        \n        Employee updated_Employee = employeeRepository.save(employee);\n        return ResponseEntity.ok(updated_Employee);\n    }\n    \n    //Delete Employee rest api\n    @DeleteMapping(&quot;/employees/{id}&quot;)\n    public ResponseEntity&lt;Map&lt;String,Boolean&gt;&gt;deleteEmployee(@PathVariable long id){\n        Employee employee = employeeRepository.findById(id)\n                .orElseThrow(()-&gt; new ResourceNotFounudException(&quot;Employee Not exist with id: &quot; + id));\n        \n        employeeRepository.delete(employee);\n        Map&lt;String,Boolean&gt; ans = new HashMap&lt;&gt;();\n        ans.put(&quot;deleted&quot;,Boolean.TRUE);\n        return ResponseEntity.ok(ans);\n    }\n    \n}\n\n</code></pre>\n<p>I have 4 columns in Employee table, firstName, lastName, emailId, department_name. Now i want to add 1 more column which will store employee_profile photo. How can i store image in database. I don't want to store image as BLOB. If that is not possible to do without storing it as BLOB, then provide me that solution.</p>\n"},{"tags":["java","android","android-studio"],"comments":[{"owner":{"account_id":7213958,"reputation":84,"user_id":9417126,"display_name":"Abhishek sheshagiri"},"score":0,"creation_date":1673322048,"post_id":75065213,"comment_id":132467430,"body_markdown":"Do you have all the SDKs installed on Android Studio?","body":"Do you have all the SDKs installed on Android Studio?"},{"owner":{"account_id":26855967,"reputation":2351,"user_id":20440272,"display_name":"Sohaib Ahmed"},"score":0,"creation_date":1673326506,"post_id":75065213,"comment_id":132467965,"body_markdown":"Add manifest code as well","body":"Add manifest code as well"}],"answers":[{"tags":[],"owner":{"account_id":24084994,"reputation":247,"user_id":18059131,"display_name":"prodohsamuel"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1673323356,"creation_date":1673323356,"answer_id":75065345,"question_id":75065213,"body_markdown":"I went to ```Run &gt; Edit Configurations``` and set launch to a Specified Activity. I then set the specified activity and in AndroidMainfest.xml, inside the activity tag, I set exported=true. Now it works.","title":"Android Studio project succesfully launching but nothing pops up - Android Java","body":"<p>I went to <code>Run &gt; Edit Configurations</code> and set launch to a Specified Activity. I then set the specified activity and in AndroidMainfest.xml, inside the activity tag, I set exported=true. Now it works.</p>\n"}],"owner":{"account_id":24084994,"reputation":247,"user_id":18059131,"display_name":"prodohsamuel"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1352,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":75065345,"answer_count":1,"score":3,"last_activity_date":1700471354,"creation_date":1673321856,"question_id":75065213,"body_markdown":"I&#39;m running:\r\n\r\n```\r\npackage com.example.projectTest;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport android.os.Bundle;\r\n\r\npublic class WelcomePage extends AppCompatActivity {\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_welcome_page);\r\n    }\r\n}\r\n```\r\n\r\nwith:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    tools:context=&quot;.WelcomePage&quot;&gt;\r\n\r\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n```\r\n\r\nbut I&#39;m getting the following error in the logcat when I run:\r\n```\r\nCould not get package user id: run-as: unknown package: com.example.projectTest\r\nCould not find apks for this package: com.example.projectTest\r\nCould not get package user id: run-as: unknown package: com.example.projectTest\r\nCould not find apks for this package: com.example.projectTest\r\nFailed to measure fs-verity, errno 1: /data/app/~~kWSycfQmCvKbfYx2KzxrNA==/com.example.projectTest-x4Zc9BUq0kRGdN5aX5AxXQ==/base.apk\r\n```\r\nThe launch succeeds, but no app shows up on the emulator (Pixel 6 API 32). What could be the problem? Thank you.\r\n","title":"Android Studio project succesfully launching but nothing pops up - Android Java","body":"<p>I'm running:</p>\n<pre><code>package com.example.projectTest;\n\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport android.os.Bundle;\n\npublic class WelcomePage extends AppCompatActivity {\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_welcome_page);\n    }\n}\n</code></pre>\n<p>with:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    tools:context=&quot;.WelcomePage&quot;&gt;\n\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n<p>but I'm getting the following error in the logcat when I run:</p>\n<pre><code>Could not get package user id: run-as: unknown package: com.example.projectTest\nCould not find apks for this package: com.example.projectTest\nCould not get package user id: run-as: unknown package: com.example.projectTest\nCould not find apks for this package: com.example.projectTest\nFailed to measure fs-verity, errno 1: /data/app/~~kWSycfQmCvKbfYx2KzxrNA==/com.example.projectTest-x4Zc9BUq0kRGdN5aX5AxXQ==/base.apk\n</code></pre>\n<p>The launch succeeds, but no app shows up on the emulator (Pixel 6 API 32). What could be the problem? Thank you.</p>\n"},{"tags":["java","hadoop","apache-flink","flink-streaming"],"comments":[{"owner":{"account_id":2274094,"reputation":40374,"user_id":2000823,"display_name":"David Anderson"},"score":1,"creation_date":1670700499,"post_id":74751415,"comment_id":131935793,"body_markdown":"The Flink community only supports the two most recent minor releases, which are 1.16 and 1.15. The docs for version 1.1 are here -- https://nightlies.apache.org/flink/flink-docs-release-1.1/  -- but I don&#39;t see anything in them specially about running Flink on windows. Can you try a more recent version of Flink?","body":"The Flink community only supports the two most recent minor releases, which are 1.16 and 1.15. The docs for version 1.1 are here -- <a href=\"https://nightlies.apache.org/flink/flink-docs-release-1.1/\" rel=\"nofollow noreferrer\">nightlies.apache.org/flink/flink-docs-release-1.1</a>  -- but I don&#39;t see anything in them specially about running Flink on windows. Can you try a more recent version of Flink?"}],"owner":{"account_id":18737546,"reputation":338,"user_id":13661557,"display_name":"Girl Codes"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":211,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1700471352,"creation_date":1670660834,"question_id":74751415,"body_markdown":"I have downloaded Apache Flink on Microsoft Windows and ran the `start-local.sh`. It worked and I can successfully access the web interface by navigating to `http://localhost:8081/`.\r\n\r\nBut when i try to run the first example using `./bin/flink run ./examples/batch/WordCount.jar`,\r\nI keep getting the following error. I tried different versions of Flink, all yielding the same error.\r\n[![error message][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/P7Bdj.png","title":"ClassNotFoundException: org.apache.flink.client.CliFrontend When running jar file using flink","body":"<p>I have downloaded Apache Flink on Microsoft Windows and ran the <code>start-local.sh</code>. It worked and I can successfully access the web interface by navigating to <code>http://localhost:8081/</code>.</p>\n<p>But when i try to run the first example using <code>./bin/flink run ./examples/batch/WordCount.jar</code>,\nI keep getting the following error. I tried different versions of Flink, all yielding the same error.\n<a href=\"https://i.stack.imgur.com/P7Bdj.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/P7Bdj.png\" alt=\"error message\" /></a></p>\n"},{"tags":["java","geotools"],"answers":[{"comments":[{"owner":{"account_id":17972905,"reputation":5290,"user_id":13061224,"display_name":"siggemannen"},"score":0,"creation_date":1700472340,"post_id":77514590,"comment_id":136654305,"body_markdown":"Thank you, i suspected this. The reason i wanted to avoid separate geometries is that i don&#39;t want each of them to get a label. But i just realized a workaround would be to do following: 1) keep the original geometry but only style it as label 2) split the inner geometries into separate entities but without the labels. This should generate what i want i guess? Although, now that i think about it, maybe multiple labels isn&#39;t a bad idea either!","body":"Thank you, i suspected this. The reason i wanted to avoid separate geometries is that i don&#39;t want each of them to get a label. But i just realized a workaround would be to do following: 1) keep the original geometry but only style it as label 2) split the inner geometries into separate entities but without the labels. This should generate what i want i guess? Although, now that i think about it, maybe multiple labels isn&#39;t a bad idea either!"}],"tags":[],"owner":{"account_id":195980,"reputation":10228,"user_id":439194,"accept_rate":100,"display_name":"Ian Turton"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1700471179,"creation_date":1700471179,"answer_id":77514590,"question_id":77511436,"body_markdown":"Put simply, what you are seeing is the correct behaviour for `GeometryCollection&#39;, the SLD specification says that if you apply a polygon symbolizer to a linestring then it should join the ends and fill the resulting polygon. \r\n\r\nThere are various ways of trying to fix this, you can split the collections up into 3 different sets and apply the correct style, or create separate geometry columns or apply a filter based on the `geometryType` function to specify different rules. There&#39;s a [page in the GeoServer documentation][1] that gives more details. \r\n\r\n\r\nSee [this answer][2] for more discussion.\r\n\r\n\r\n  [1]: https://geometryType\r\n  [2]: https://gis.stackexchange.com/a/124956/79","title":"Geotools - how to style geometrycollection geometries correctly","body":"<p>Put simply, what you are seeing is the correct behaviour for `GeometryCollection', the SLD specification says that if you apply a polygon symbolizer to a linestring then it should join the ends and fill the resulting polygon.</p>\n<p>There are various ways of trying to fix this, you can split the collections up into 3 different sets and apply the correct style, or create separate geometry columns or apply a filter based on the <code>geometryType</code> function to specify different rules. There's a <a href=\"https://geometryType\" rel=\"nofollow noreferrer\">page in the GeoServer documentation</a> that gives more details.</p>\n<p>See <a href=\"https://gis.stackexchange.com/a/124956/79\">this answer</a> for more discussion.</p>\n"}],"owner":{"account_id":17972905,"reputation":5290,"user_id":13061224,"display_name":"siggemannen"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":17,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1700471179,"creation_date":1700408920,"question_id":77511436,"body_markdown":"I&#39;m plotting some geometries on a map using StreamingRenderer that uses one of the two styles:\r\n```java\r\n//line:\r\nLineSymbolizer lineSym = sf.createLineSymbolizer(stroke, null);\r\n//for polygons\r\nPolygonSymbolizer polySym = sf.createPolygonSymbolizer(stroke, fill, null);\r\n```\r\nThis works fine for Linestring, Multilinestring and Polygons.\r\n\r\nBut for GeometryCollection, if i&#39;m using a Polygon style, but the collection is of LineStrings, then the image becomes &quot;filled&quot;, and vice versa, for Line style, then polygon collection becomes non-filled. I thought about splitting a GeometryCollection into separate polygons, but that has problems too, because then the label might not get placed correctly.\r\n\r\nIs there a way to create a style that is applicable for inner Geometries inside a GeometryCollection correctly so polygons are lines are styled the same if they are stand alone or inside a GeometryCollection?\r\n\r\nExamples:\r\n\r\n```\r\nMULTILINESTRING((100 10, 130 15, 120 12, 100 10))\r\nGEOMETRYCOLLECTION(MULTILINESTRING((100 10, 130 15, 120 12, 100 10)))\r\nGEOMETRYCOLLECTION(POLYGON((100 10, 130 15, 120 12, 100 10)))\r\nPOLYGON((100 10, 130 15, 120 12, 100 10\r\n```","title":"Geotools - how to style geometrycollection geometries correctly","body":"<p>I'm plotting some geometries on a map using StreamingRenderer that uses one of the two styles:</p>\n<pre class=\"lang-java prettyprint-override\"><code>//line:\nLineSymbolizer lineSym = sf.createLineSymbolizer(stroke, null);\n//for polygons\nPolygonSymbolizer polySym = sf.createPolygonSymbolizer(stroke, fill, null);\n</code></pre>\n<p>This works fine for Linestring, Multilinestring and Polygons.</p>\n<p>But for GeometryCollection, if i'm using a Polygon style, but the collection is of LineStrings, then the image becomes &quot;filled&quot;, and vice versa, for Line style, then polygon collection becomes non-filled. I thought about splitting a GeometryCollection into separate polygons, but that has problems too, because then the label might not get placed correctly.</p>\n<p>Is there a way to create a style that is applicable for inner Geometries inside a GeometryCollection correctly so polygons are lines are styled the same if they are stand alone or inside a GeometryCollection?</p>\n<p>Examples:</p>\n<pre><code>MULTILINESTRING((100 10, 130 15, 120 12, 100 10))\nGEOMETRYCOLLECTION(MULTILINESTRING((100 10, 130 15, 120 12, 100 10)))\nGEOMETRYCOLLECTION(POLYGON((100 10, 130 15, 120 12, 100 10)))\nPOLYGON((100 10, 130 15, 120 12, 100 10\n</code></pre>\n"},{"tags":["java","multithreading","heap-dump","thread-dump","yourkit"],"comments":[{"owner":{"account_id":6023763,"reputation":1217,"user_id":7805363,"display_name":"Programming-Lover"},"score":0,"creation_date":1700501072,"post_id":77514571,"comment_id":136659663,"body_markdown":"I have also observed that whenever the Queue start growing GC count is very low and never comes UP.","body":"I have also observed that whenever the Queue start growing GC count is very low and never comes UP."}],"owner":{"account_id":6023763,"reputation":1217,"user_id":7805363,"display_name":"Programming-Lover"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700470918,"creation_date":1700470918,"question_id":77514571,"body_markdown":"I Have a Java program where I have created a thread pool of fixed size and the program keeps assigning the Tasks to the Pool. Things go fine for some time and eventually, the queue starts growing up. After some time I see there are 1.5 million threads in Queue.  and because of this heap usage reaches 100% which triggers the service restart. Generally, I won&#39;t add a new thread if previous tasks are not finished. To analyze the issue I have taken the Heapdump and thread dump. Can someone help me out how I can find out the root cause?","title":"How to Identify what threads are in Queue via Java Heap Dump","body":"<p>I Have a Java program where I have created a thread pool of fixed size and the program keeps assigning the Tasks to the Pool. Things go fine for some time and eventually, the queue starts growing up. After some time I see there are 1.5 million threads in Queue.  and because of this heap usage reaches 100% which triggers the service restart. Generally, I won't add a new thread if previous tasks are not finished. To analyze the issue I have taken the Heapdump and thread dump. Can someone help me out how I can find out the root cause?</p>\n"},{"tags":["java","structure","jna"],"comments":[{"owner":{"account_id":1187908,"reputation":8615,"user_id":1161484,"accept_rate":93,"display_name":"Daniel Widdis"},"score":0,"creation_date":1699857232,"post_id":77459742,"comment_id":136578908,"body_markdown":"&quot;Array fields must be initialized&quot; -- you have essentially declared an array of pointers (the ByReference class), but JNA needs to know how many of them there are.  If you dont know it is likely that you are getting these values from Native and you should be using `PointerByReference` for those fields.  But without documentation on how you&#39;re supposed to use that structure we&#39;d just be guessing here.","body":"&quot;Array fields must be initialized&quot; -- you have essentially declared an array of pointers (the ByReference class), but JNA needs to know how many of them there are.  If you dont know it is likely that you are getting these values from Native and you should be using <code>PointerByReference</code> for those fields.  But without documentation on how you&#39;re supposed to use that structure we&#39;d just be guessing here."},{"owner":{"account_id":8919329,"reputation":31,"user_id":6656571,"display_name":"T-T-YSH"},"score":0,"creation_date":1699874948,"post_id":77459742,"comment_id":136581570,"body_markdown":"In fact, I don&#39;t know the length too. So I tried to change it to PointerByReference  just as I said. I also tried change `com.hys.mapper.SqImageInfo.ByReference[]` to `com.hys.mapper.SqImageInfo.ByReference`, and then tried the toArray (https://github.com/java-native-access/jna/blob/master/www/StructuresAndUnions.md), but dont&#39; work too.    Maybe I make a very simple mistake on `structure array in structure `, but I don&#39;t know where it is.","body":"In fact, I don&#39;t know the length too. So I tried to change it to PointerByReference  just as I said. I also tried change <code>com.hys.mapper.SqImageInfo.ByReference[]</code> to <code>com.hys.mapper.SqImageInfo.ByReference</code>, and then tried the toArray (<a href=\"https://github.com/java-native-access/jna/blob/master/www/StructuresAndUnions.md\" rel=\"nofollow noreferrer\">github.com/java-native-access/jna/blob/master/www/&hellip;</a>), but dont&#39; work too.    Maybe I make a very simple mistake on <code>structure array in structure </code>, but I don&#39;t know where it is."},{"owner":{"account_id":1187908,"reputation":8615,"user_id":1161484,"accept_rate":93,"display_name":"Daniel Widdis"},"score":0,"creation_date":1699910276,"post_id":77459742,"comment_id":136587857,"body_markdown":"You can&#39;t just randomly try mappings and expect them to work.  YOu need the original API documentation to tell what the pointers-to-pointers `SqPicInfo **` and `SqSliceInfo **` mean.  Are they arrays? Are you responsible for allocating the buffer and passing it or will native allocate the buffer and return it to you (which means there will also be an API to free it afterward)?  There&#39;s not enough info here for us to help.","body":"You can&#39;t just randomly try mappings and expect them to work.  YOu need the original API documentation to tell what the pointers-to-pointers <code>SqPicInfo **</code> and <code>SqSliceInfo **</code> mean.  Are they arrays? Are you responsible for allocating the buffer and passing it or will native allocate the buffer and return it to you (which means there will also be an API to free it afterward)?  There&#39;s not enough info here for us to help."},{"owner":{"account_id":8919329,"reputation":31,"user_id":6656571,"display_name":"T-T-YSH"},"score":0,"creation_date":1699937596,"post_id":77459742,"comment_id":136590411,"body_markdown":"Thank you! From the API, the JNACreator gives right result. the `SqImageInfo**`, `SqPicInfo**` and `SqSliceInfo**` are all struct pointer arrays in SqWholeImageInfo. And the length depends on the `int SqPicHead.hierarchy`, so I need first get the info in `SqPicHead *phead ` then I can get the length of `SqPicInfo **sliceLayerInfo`.","body":"Thank you! From the API, the JNACreator gives right result. the <code>SqImageInfo**</code>, <code>SqPicInfo**</code> and <code>SqSliceInfo**</code> are all struct pointer arrays in SqWholeImageInfo. And the length depends on the <code>int SqPicHead.hierarchy</code>, so I need first get the info in <code>SqPicHead *phead </code> then I can get the length of <code>SqPicInfo **sliceLayerInfo</code>."}],"answers":[{"comments":[{"owner":{"account_id":8919329,"reputation":31,"user_id":6656571,"display_name":"T-T-YSH"},"score":0,"creation_date":1699945474,"post_id":77478402,"comment_id":136591093,"body_markdown":"Thank you! I have got the bug, it is a Pointer and read problem.","body":"Thank you! I have got the bug, it is a Pointer and read problem."}],"tags":[],"owner":{"account_id":1187908,"reputation":8615,"user_id":1161484,"accept_rate":93,"display_name":"Daniel Widdis"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699945941,"creation_date":1699940945,"answer_id":77478402,"question_id":77459742,"body_markdown":"Quoting from [your comment](https://stackoverflow.com/questions/77459742/how-should-i-extract-complicated-info-from-struct?noredirect=1#comment136590411_77459742):\r\n\r\n&gt; From the API, the JNACreator gives right result. the `SqImageInfo**`, `SqPicInfo**` and `SqSliceInfo**` are all struct pointer arrays in `SqWholeImageInfo`. And the length depends on the `int SqPicHead.hierarchy`, so I need first get the info in SqPicHead *phead then I can get the length of SqPicInfo **sliceLayerInfo.\r\n\r\nThis is the key bit of information to use for the mapping:\r\n1. The array mapping is correct, but still needs to be initialized.\r\n2. You don&#39;t know when you initialize it what size mapping you need, so you can initialize them at the start with a size of 1.\r\n3. If you&#39;re calling native and expecting it to populate this array, you can override `read()` to grab the appropriate size and re-allocate the array size before reading the full structure.\r\n\r\nI don&#39;t have the full details of `SqPicHead` but given your information a structure like this will probably work (or at least point you in the right direction):\r\n```java\r\n@FieldOrder ({&quot;fileName&quot;, &quot;phead&quot;, &quot;personInfo&quot;, &quot;extra&quot;, &quot;macrograph&quot;, &quot;thumbnail&quot;, &quot;sliceLayerInfo&quot;, &quot;sliceInfo&quot;})\r\npublic class SqWholeImageInfo extends Structure {\r\n    public String fileName;\r\n    public SqPicHead.ByReference phead;\r\n    public SqPersonInfo.ByReference personInfo;\r\n    public SqExtraInfo.ByReference extra;\r\n    public SqImageInfo.ByReference[] macrograph = new SqImageInfo.ByReference[1];\r\n    public SqImageInfo.ByReference thumbnail;\r\n    public SqPicInfo.ByReference[] sliceLayerInfo = new SqPicInfo.ByReference[1];\r\n    public SqSliceInfo.ByReference[] sliceInfo = new SqSliceInfo.ByReference[1];\r\n    public SqSdpcInfo() {\r\n        super();\r\n    }\r\n\r\n    @Override\r\n    public void read() {\r\n        readField(&quot;phead&quot;);\r\n        macrograph = (new SqImageInfo.ByReference()).toArray(phead.hierarchy);\r\n        sliceLayerInfo = (new SqPicInfo.ByReference()).toArray(phead.hierarchy);\r\n        sliceInfo = (new SqSliceInfo.ByReference()).toArray(phead.hierarchy);\r\n        super.read();\r\n    }\r\n\r\n    public static class ByReference extends SqWholeImageInfo implements Structure.ByReference {};\r\n}\r\n```\r\n\r\nI&#39;ve made a few other changes:\r\n - The `@FieldOrder` annotation is alot cleaner and does the same thing as your method override\r\n - I changed the `char *` mapping to a `String` which is a better JNA mapping\r\n - I omitted the constructor with arguments as I don&#39;t think you need it or want it\r\n - I omitted the `ByValue` version of the structure as you don&#39;t need it","title":"How should I extract complicated info from struct?","body":"<p>Quoting from <a href=\"https://stackoverflow.com/questions/77459742/how-should-i-extract-complicated-info-from-struct?noredirect=1#comment136590411_77459742\">your comment</a>:</p>\n<blockquote>\n<p>From the API, the JNACreator gives right result. the <code>SqImageInfo**</code>, <code>SqPicInfo**</code> and <code>SqSliceInfo**</code> are all struct pointer arrays in <code>SqWholeImageInfo</code>. And the length depends on the <code>int SqPicHead.hierarchy</code>, so I need first get the info in SqPicHead *phead then I can get the length of SqPicInfo **sliceLayerInfo.</p>\n</blockquote>\n<p>This is the key bit of information to use for the mapping:</p>\n<ol>\n<li>The array mapping is correct, but still needs to be initialized.</li>\n<li>You don't know when you initialize it what size mapping you need, so you can initialize them at the start with a size of 1.</li>\n<li>If you're calling native and expecting it to populate this array, you can override <code>read()</code> to grab the appropriate size and re-allocate the array size before reading the full structure.</li>\n</ol>\n<p>I don't have the full details of <code>SqPicHead</code> but given your information a structure like this will probably work (or at least point you in the right direction):</p>\n<pre class=\"lang-java prettyprint-override\"><code>@FieldOrder ({&quot;fileName&quot;, &quot;phead&quot;, &quot;personInfo&quot;, &quot;extra&quot;, &quot;macrograph&quot;, &quot;thumbnail&quot;, &quot;sliceLayerInfo&quot;, &quot;sliceInfo&quot;})\npublic class SqWholeImageInfo extends Structure {\n    public String fileName;\n    public SqPicHead.ByReference phead;\n    public SqPersonInfo.ByReference personInfo;\n    public SqExtraInfo.ByReference extra;\n    public SqImageInfo.ByReference[] macrograph = new SqImageInfo.ByReference[1];\n    public SqImageInfo.ByReference thumbnail;\n    public SqPicInfo.ByReference[] sliceLayerInfo = new SqPicInfo.ByReference[1];\n    public SqSliceInfo.ByReference[] sliceInfo = new SqSliceInfo.ByReference[1];\n    public SqSdpcInfo() {\n        super();\n    }\n\n    @Override\n    public void read() {\n        readField(&quot;phead&quot;);\n        macrograph = (new SqImageInfo.ByReference()).toArray(phead.hierarchy);\n        sliceLayerInfo = (new SqPicInfo.ByReference()).toArray(phead.hierarchy);\n        sliceInfo = (new SqSliceInfo.ByReference()).toArray(phead.hierarchy);\n        super.read();\n    }\n\n    public static class ByReference extends SqWholeImageInfo implements Structure.ByReference {};\n}\n</code></pre>\n<p>I've made a few other changes:</p>\n<ul>\n<li>The <code>@FieldOrder</code> annotation is alot cleaner and does the same thing as your method override</li>\n<li>I changed the <code>char *</code> mapping to a <code>String</code> which is a better JNA mapping</li>\n<li>I omitted the constructor with arguments as I don't think you need it or want it</li>\n<li>I omitted the <code>ByValue</code> version of the structure as you don't need it</li>\n</ul>\n"}],"owner":{"account_id":8919329,"reputation":31,"user_id":6656571,"display_name":"T-T-YSH"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":93,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1700470886,"creation_date":1699616479,"question_id":77459742,"body_markdown":"I have a complicated struct in C++. Now I need take the value by JNA. I have tried some ways, but all failed. I&#39;m not sure where the problem is.\r\n\r\nHere is my structure in Java, it is generated by JNACreator(https://code.google.com/archive/p/jnaerator/):\r\n\r\n```c\r\ntypedef struct SqWholeImageInfo \r\n{\r\n\tchar *fileName;\r\n\tSqPicHead *phead;\r\n\tSqPersonInfo *personInfo;\r\n\tSqExtraInfo *extra;\r\n\tSqImageInfo **macrograph;\r\n\tSqImageInfo *thumbnail;\r\n\tSqPicInfo **sliceLayerInfo;\r\n\tSqSliceInfo **sliceInfo;\r\n}SqWholeImageInfo;\r\n```\r\n\r\n```java\r\npackage com.hys.mapper;\r\n\r\nimport com.sun.jna.Pointer;\r\nimport com.sun.jna.Structure;\r\n\r\nimport java.util.Arrays;\r\nimport java.util.List;\r\n\r\npublic class SqWholeImageInfo extends Structure {\r\n    public Pointer fileName;\r\n    public com.hys.mapper.SqPicHead.ByReference phead;\r\n    public com.hys.mapper.SqPersonInfo.ByReference personInfo;\r\n    public com.hys.mapper.SqExtraInfo.ByReference extra;\r\n    public com.hys.mapper.SqImageInfo.ByReference[] macrograph;\r\n    public com.hys.mapper.SqImageInfo.ByReference thumbnail;\r\n    public com.hys.mapper.SqPicInfo.ByReference[] sliceLayerInfo;\r\n    public com.hys.mapper.SqSliceInfo.ByReference[] sliceInfo;\r\n    public SqSdpcInfo() {\r\n        super();\r\n    }\r\n    protected List&lt;String&gt; getFieldOrder() {\r\n        return Arrays.asList(&quot;fileName&quot;, &quot;phead&quot;, &quot;personInfo&quot;, &quot;extra&quot;, &quot;macrograph&quot;, &quot;thumbnail&quot;, &quot;sliceLayerInfo&quot;, &quot;sliceInfo&quot;);\r\n    }\r\n    public SqWholeImageInfo(Pointer fileName, com.hys.mapper.SqPicHead.ByReference phead, com.hys.mapper.SqPersonInfo.ByReference personInfo, com.hys.mapper.SqExtraInfo.ByReference extra, com.hys.mapper.SqImageInfo.ByReference macrograph[], com.hys.mapper.SqImageInfo.ByReference thumbnail, com.hys.mapper.SqPicInfo.ByReference sliceLayerInfo[], com.hys.mapper.SqSliceInfo.ByReference sliceInfo[]) {\r\n        super();\r\n        this.fileName = fileName;\r\n        this.phead = phead;\r\n        this.personInfo = personInfo;\r\n        this.extra = extra;\r\n        if ((macrograph.length != this.macrograph.length))\r\n            throw new IllegalArgumentException(&quot;Wrong array size !&quot;);\r\n        this.macrograph = macrograph;\r\n        this.thumbnail = thumbnail;\r\n        if ((sliceLayerInfo.length != this.sliceLayerInfo.length))\r\n            throw new IllegalArgumentException(&quot;Wrong array size !&quot;);\r\n        this.sliceLayerInfo = sliceLayerInfo;\r\n        if ((sliceInfo.length != this.sliceInfo.length))\r\n            throw new IllegalArgumentException(&quot;Wrong array size !&quot;);\r\n        this.sliceInfo = sliceInfo;\r\n    }\r\n    public static class ByReference extends SqWholeImageInfo implements Structure.ByReference {\r\n\r\n    };\r\n    public static class ByValue extends SqWholeImageInfo implements Structure.ByValue {\r\n\r\n    };\r\n}\r\n```\r\n\r\nThe interface is:\r\n\r\n```c\r\n// in c\r\nDECLSPEC GLOBAL(int) openfile(char *sdpcPath, SqWholeImageInfo **info);\r\n\r\n// call in c\r\nchar *filePath = &quot;path/to/file&quot;;\r\nSqWholeImageInfo *si = NULL;\r\nint ret = openfile(filePath, &amp;si);\r\n// that&#39;s why it needs a pointer to structure\r\nfor (int i = 0; i &lt; si-&gt;picHead-&gt;hierarchy; i++)\r\n{\r\n    PrintPicInfo(si-&gt;sliceLayerInfo[i]); \r\n}\r\n```\r\n\r\n\r\n```java\r\n// in java\r\npublic int openfile(String sdpcPath, SqWholeImageInfo.ByReference info);\r\n```\r\n\r\nAs you see, this structure have structure arrays field in it. I first try to call it directly:\r\n\r\n```java\r\nString filePath = &quot;path/to/file&quot;;\r\nSqWholeImageInfo.ByReference info = new SqWholeImageInfo.ByReference();\r\nint status = SdpcService.INSTANCE.openfile(filePath, info);\r\nSystem.out.println(&quot;file:&quot; + info.fileName.getString(0));\r\n```\r\n\r\nThen I got an error: \r\n\r\n&gt; Array fields must be initialized\r\n\r\nI first guess it needs SqWholeImageInfo array. I changed the interface to\r\n\r\n```java\r\n// interface\r\npublic int openfile(String sdpcPath, SqWholeImageInfo.ByReference[] info);\r\n// call\r\nString filePath = &quot;path/to/file&quot;;\r\nSqWholeImageInfo.ByReference[] info = new SqWholeImageInfo.ByReference[1];\r\ninfo[0] = new SqWholeImageInfo.ByReference();\r\nint status = SdpcService.INSTANCE.openfile(filePath, info);\r\nSystem.out.println(&quot;file:&quot; + info[0].fileName.getString(0));\r\n```\r\n\r\nThen I got the same error, and I guess it is caused by the structure array in SqWholeImageInfo. So I changed the type of `com.hys.mapper.SqImageInfo.ByReference[]` to `PointerByReference` like this:\r\n\r\n```java\r\n...\r\n    public Pointer fileName;\r\n    public com.hys.mapper.SqPicHead.ByReference phead;\r\n    public com.hys.mapper.SqPersonInfo.ByReference personInfo;\r\n    public com.hys.mapper.SqExtraInfo.ByReference extra;\r\n    public PointerByReference macrograph;\r\n    public com.hys.mapper.SqImageInfo.ByReference thumbnail;\r\n    public PointerByReference sliceLayerInfo;\r\n    public PointerByReference sliceInfo; // now here is no more array.\r\n...\r\n``` \r\n\r\nI got the return value `0` in status (success!), but the `filename` has the wrong value. Then I found this:\r\n\r\n[![enter image description here](https://i.stack.imgur.com/e4RIN.png)](https://i.stack.imgur.com/e4RIN.png)\r\n\r\n```java\r\n// got file:native@0x1f4b1b0b050\r\n// System.out.println(&quot;file:&quot; + info.fileName);\r\n// got error value it should be &#39;path/to/file&#39;\r\nSystem.out.println(&quot;file:&quot; + info.fileName.getString(0));\r\n// And another error: Cannot read field &quot;srcWidth&quot; because &quot;info.phead&quot; is null this can be fixed by using structure array of info\r\nSystem.out.println(&quot;width:&quot; + info.phead.srcWidth);\r\nSystem.out.println(&quot;height:&quot; + info.phead.srcHeight);\r\n```\r\n\r\nI don&#39;t know why. Can&#39;t the pointer type be used as the type of a structure array? If it works, how should I convert pointer to structure?\r\n\r\nOr is there something wrong in my operation?\r\n\r\nOr is there any way to initialize an array of variable length?\r\n\r\nI checked other questions:  \r\n- this is error of enum calling (I have used int already in other structure): https://stackoverflow.com/questions/2413973/jna-with-complicated-struct\r\n- In my code, I don&#39;t know the real length: https://stackoverflow.com/questions/29175396/jna-how-do-i-go-from-a-c-int-to-a-jna-struct\r\n- this is a very similar question, but I don&#39;t understand why: https://stackoverflow.com/questions/4177870/jna-how-to-access-array-of-struct-in-struct\r\n\r\n---\r\n\r\nI tried some simple examples and it seems that I have some misunderstandings about structure nesting, but I still don&#39;t know where the problem is.\r\nHere are all the code of C++ and Java\r\n\r\n```c\r\n//header file\r\n// framework.h\r\n#pragma once\r\n#define WIN32_LEAN_AND_MEAN    \r\n#include &lt;windows.h&gt;\r\n#define DECLSPEC extern &quot;C&quot; _declspec(dllexport)\r\ntypedef struct StructA\r\n{\r\n  int x;\r\n  int y;\r\n  char* str1;\r\n  unsigned char* seq1[128];\r\n}StructA;\r\n\r\ntypedef struct StructB\r\n{\r\n  float a;\r\n  double b;\r\n  char** str_arr;\r\n  int* ps;\r\n}StructB;\r\n\r\ntypedef struct StructC\r\n{\r\n  StructA* sa;\r\n  StructB** sbs;\r\n}StructC;\r\n\r\nDECLSPEC int TestFunc1(StructA* sa);\r\nDECLSPEC int TestFunc2(StructA* sa, StructC** scs);\r\n\r\n// source file\r\n// dllmain.cpp\r\n#include &quot;pch.h&quot;\r\n\r\n#include &lt;stdio.h&gt;\r\n#include &quot;malloc.h&quot;\r\n#include &quot;string.h&quot;\r\nusing namespace std;\r\n\r\nint TestFunc1(StructA* sa)\r\n{\r\n  sa-&gt;x = 10;\r\n  sa-&gt;y = 12;\r\n  sa-&gt;str1 = (char*)malloc(sizeof(char) * 6);\r\n  memset(sa-&gt;str1, 0, sizeof(char) * 6);\r\n  strcpy(sa-&gt;str1, &quot;hello&quot;);\r\n\r\n  unsigned char testSeq[] = &quot;abc&quot;;\r\n  sa-&gt;seq1[0] = testSeq;\r\n\r\n  return 0;\r\n}\r\n\r\nint TestFunc2(StructA* sa, StructC** scs) {\r\n  sa-&gt;x = 101;\r\n  sa-&gt;y = 121;\r\n  sa-&gt;str1 = (char*)malloc(sizeof(char) * 6);\r\n  memset(sa-&gt;str1, 0, sizeof(char) * 6);\r\n  strcpy(sa-&gt;str1, &quot;hello&quot;);\r\n\r\n  unsigned char testSeq[] = &quot;abc&quot;;\r\n  sa-&gt;seq1[0] = testSeq;\r\n\r\n  if (*scs == NULL) {\r\n    printf(&quot;init sc\\n&quot;);\r\n    *scs = (StructC*)malloc(sizeof(StructC));\r\n    (*scs)-&gt;sa = (StructA*)malloc(sizeof(StructA));\r\n    (*scs)-&gt;sa-&gt;x = 0;  // Initialize x to some default value\r\n    (*scs)-&gt;sa-&gt;y = 0;  // Initialize y to some default value\r\n    (*scs)-&gt;sa-&gt;str1 = (char*)malloc(sizeof(char) * 10);  // Allocate memory for str1\r\n    memset((*scs)-&gt;sa-&gt;str1, 0, sizeof(char) * 10);\r\n    strcpy((*scs)-&gt;sa-&gt;str1, &quot;&quot;);  // Initialize str1 to an empty string\r\n    (*scs)-&gt;sbs = (StructB**)malloc(sizeof(StructB*) * 4);\r\n    for (int i = 0; i &lt; 4; ++i) {\r\n      (*scs)-&gt;sbs[i] = (StructB*)malloc(sizeof(StructB));\r\n      (*scs)-&gt;sbs[i]-&gt;a = 0.0;  // Initialize a to some default value\r\n      (*scs)-&gt;sbs[i]-&gt;b = 0.0;  // Initialize b to some default value\r\n      (*scs)-&gt;sbs[i]-&gt;str_arr = NULL;  // Initialize str_arr to NULL\r\n      (*scs)-&gt;sbs[i]-&gt;ps = NULL;  // Initialize ps to NULL\r\n    }\r\n\r\n    printf(&quot;After malloc - sa: %p, x: %d, y: %d, str1: %p\\n&quot;,\r\n      (*scs)-&gt;sa, (*scs)-&gt;sa-&gt;x, (*scs)-&gt;sa-&gt;y, (*scs)-&gt;sa-&gt;str1);\r\n  }\r\n  else {\r\n    printf(&quot;no init sc\\n&quot;);\r\n  }\r\n\r\n  // Set values for StructA members\r\n  (*scs)-&gt;sa-&gt;x = 110;\r\n  (*scs)-&gt;sa-&gt;y = 120;\r\n  (*scs)-&gt;sa-&gt;str1 = (char*)malloc(sizeof(char) * 10);\r\n  memset((*scs)-&gt;sa-&gt;str1, 0, sizeof(char) * 10);\r\n  strcpy((*scs)-&gt;sa-&gt;str1, &quot;hello119&quot;);\r\n\r\n  printf(&quot;After setting values - sa: %p, x: %d, y: %d, str1: %p\\n&quot;,\r\n    (*scs)-&gt;sa, (*scs)-&gt;sa-&gt;x, (*scs)-&gt;sa-&gt;y, (*scs)-&gt;sa-&gt;str1);\r\n\r\n  // Set values for StructB members\r\n  (*scs)-&gt;sbs[0]-&gt;a = 1.5;\r\n  (*scs)-&gt;sbs[0]-&gt;b = 1.8;\r\n  int ia[] = { 1, 2, 3 };\r\n  (*scs)-&gt;sbs[0]-&gt;ps = ia;\r\n\r\n  return 0;\r\n}\r\n\r\nBOOL APIENTRY DllMain( HMODULE hModule,\r\n                       DWORD  ul_reason_for_call,\r\n                       LPVOID lpReserved\r\n                     )\r\n{\r\n    switch (ul_reason_for_call)\r\n    {\r\n    case DLL_PROCESS_ATTACH:\r\n    case DLL_THREAD_ATTACH:\r\n    case DLL_THREAD_DETACH:\r\n    case DLL_PROCESS_DETACH:\r\n        break;\r\n    }\r\n    return TRUE;\r\n}\r\n\r\n```\r\nThe Java code\r\n```java\r\npackage com.hys;\r\n\r\nimport com.sun.jna.Library;\r\nimport com.sun.jna.Native;\r\nimport com.sun.jna.Pointer;\r\nimport com.sun.jna.Structure;\r\nimport com.sun.jna.ptr.PointerByReference;\r\n\r\nimport java.util.Arrays;\r\nimport java.util.List;\r\n\r\npublic class TestdllService {\r\n    public interface MyLibrary extends Library {\r\n        MyLibrary INSTANCE = Native.load(&quot;D:\\\\WS_VS\\\\testdll\\\\x64\\\\Release\\\\testdll.dll&quot;, MyLibrary.class);\r\n\r\n        int TestFunc1(StructA sa);\r\n        int TestFunc2(StructA sa, StructC.ByReference scs);\r\n    }\r\n\r\n    public static class StructA extends Structure {\r\n        public int x;\r\n        public int y;\r\n        public String str1;\r\n        public Pointer[] seq1 = new Pointer[128];\r\n\r\n        // Specify the order of fields explicitly\r\n        protected List&lt;String&gt; getFieldOrder() {\r\n            return Arrays.asList(&quot;x&quot;, &quot;y&quot;, &quot;str1&quot;, &quot;seq1&quot;);\r\n        }\r\n\r\n        public StructA() {\r\n            super();\r\n            // Initialize fields to default values\r\n            x = 0;\r\n            y = 0;\r\n            str1 = &quot;&quot;;\r\n            Arrays.fill(seq1, Pointer.NULL);\r\n        }\r\n\r\n        public static class ByReference extends StructA implements Structure.ByReference {\r\n        }\r\n\r\n        public static class ByValue extends StructA implements Structure.ByValue {\r\n        }\r\n    }\r\n\r\n    public static class StructB extends Structure {\r\n        public float a;\r\n        public double b;\r\n        public Pointer str_arr; // Assuming this is equivalent to char**\r\n        public Pointer ps;\r\n\r\n        public static class ByReference extends StructB implements Structure.ByReference {\r\n            protected List&lt;String&gt; getFieldOrder() {\r\n                return Arrays.asList(&quot;a&quot;, &quot;b&quot;, &quot;str_arr&quot;, &quot;ps&quot;);\r\n            }\r\n        }\r\n\r\n        public static class ByValue extends StructB implements Structure.ByValue {\r\n        }\r\n    }\r\n\r\n    public static class StructC extends Structure {\r\n        public StructA.ByReference sa;\r\n        public StructB.ByReference sbs;\r\n\r\n        // Specify the order of fields explicitly\r\n        protected List&lt;String&gt; getFieldOrder() {\r\n            return Arrays.asList(&quot;sa&quot;, &quot;sbs&quot;);\r\n        }\r\n\r\n        public StructC() {\r\n            super();\r\n        }\r\n\r\n        public StructC(Pointer p) {\r\n            super(p);\r\n            read();\r\n        }\r\n\r\n        public void initSbsArray(int size) {\r\n            sbs = new StructB.ByReference();\r\n            sbs.toArray(size);\r\n        }\r\n\r\n        public static class ByReference extends StructC implements Structure.ByReference {\r\n            public ByReference() {\r\n                super(Pointer.NULL);\r\n            }\r\n\r\n            public ByReference(Pointer p) {\r\n                super(p);\r\n            }\r\n        }\r\n\r\n        public static class ByValue extends StructC implements Structure.ByValue {\r\n        }\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        MyLibrary myLibrary = MyLibrary.INSTANCE;\r\n\r\n        StructA sa = new StructA();\r\n//        int ret = myLibrary.TestFunc1(sa);\r\n        StructC.ByReference scs = new StructC.ByReference(Pointer.NULL);\r\n        int dynamicSize = 4;\r\n        scs.initSbsArray(dynamicSize);\r\n\r\n        int ret = myLibrary.TestFunc2(sa, scs);\r\n        System.out.println(&quot;Result: &quot; + ret);\r\n        // Access the modified struct or handle the result as needed\r\n        if (scs != null &amp;&amp; scs.getPointer() != null) {\r\n            // Read the values from the modified struct\r\n            scs.read(); // This populates the Java fields\r\n\r\n            // Access the values\r\n            System.out.println(&quot;Modified sa.x: &quot; + scs.sa.x);\r\n            System.out.println(&quot;Modified sa.y: &quot; + scs.sa.y);\r\n            System.out.println(&quot;Modified sa.str1: &quot; + scs.sa.str1);\r\n        } else {\r\n            System.out.println(&quot;Pointer is null, no modification occurred.&quot;);\r\n        }\r\n\r\n\r\n    }\r\n}\r\n```\r\n\r\nThe `TestFunc1` works well. But the `TestFunc2` have wrong value.\r\n```\r\n// output of TestFunc2\r\nResult: 0\r\nModified sa.x: -1586624800 // it should be 110\r\nModified sa.y: 483 // it should be 120\r\nModified sa.str1: P`rï¿½ï¿½  // it should be hello119\r\ninit sc\r\nAfter malloc - sa: 000001E3A16E06E0, x: 0, y: 0, str1: 000001E3A171EEC0\r\nAfter setting values - sa: 000001E3A16E06E0, x: 110, y: 120, str1: 000001E3A171EE60\r\n```\r\n\r\n\r\n","title":"How should I extract complicated info from struct?","body":"<p>I have a complicated struct in C++. Now I need take the value by JNA. I have tried some ways, but all failed. I'm not sure where the problem is.</p>\n<p>Here is my structure in Java, it is generated by JNACreator(<a href=\"https://code.google.com/archive/p/jnaerator/\" rel=\"nofollow noreferrer\">https://code.google.com/archive/p/jnaerator/</a>):</p>\n<pre class=\"lang-c prettyprint-override\"><code>typedef struct SqWholeImageInfo \n{\n    char *fileName;\n    SqPicHead *phead;\n    SqPersonInfo *personInfo;\n    SqExtraInfo *extra;\n    SqImageInfo **macrograph;\n    SqImageInfo *thumbnail;\n    SqPicInfo **sliceLayerInfo;\n    SqSliceInfo **sliceInfo;\n}SqWholeImageInfo;\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>package com.hys.mapper;\n\nimport com.sun.jna.Pointer;\nimport com.sun.jna.Structure;\n\nimport java.util.Arrays;\nimport java.util.List;\n\npublic class SqWholeImageInfo extends Structure {\n    public Pointer fileName;\n    public com.hys.mapper.SqPicHead.ByReference phead;\n    public com.hys.mapper.SqPersonInfo.ByReference personInfo;\n    public com.hys.mapper.SqExtraInfo.ByReference extra;\n    public com.hys.mapper.SqImageInfo.ByReference[] macrograph;\n    public com.hys.mapper.SqImageInfo.ByReference thumbnail;\n    public com.hys.mapper.SqPicInfo.ByReference[] sliceLayerInfo;\n    public com.hys.mapper.SqSliceInfo.ByReference[] sliceInfo;\n    public SqSdpcInfo() {\n        super();\n    }\n    protected List&lt;String&gt; getFieldOrder() {\n        return Arrays.asList(&quot;fileName&quot;, &quot;phead&quot;, &quot;personInfo&quot;, &quot;extra&quot;, &quot;macrograph&quot;, &quot;thumbnail&quot;, &quot;sliceLayerInfo&quot;, &quot;sliceInfo&quot;);\n    }\n    public SqWholeImageInfo(Pointer fileName, com.hys.mapper.SqPicHead.ByReference phead, com.hys.mapper.SqPersonInfo.ByReference personInfo, com.hys.mapper.SqExtraInfo.ByReference extra, com.hys.mapper.SqImageInfo.ByReference macrograph[], com.hys.mapper.SqImageInfo.ByReference thumbnail, com.hys.mapper.SqPicInfo.ByReference sliceLayerInfo[], com.hys.mapper.SqSliceInfo.ByReference sliceInfo[]) {\n        super();\n        this.fileName = fileName;\n        this.phead = phead;\n        this.personInfo = personInfo;\n        this.extra = extra;\n        if ((macrograph.length != this.macrograph.length))\n            throw new IllegalArgumentException(&quot;Wrong array size !&quot;);\n        this.macrograph = macrograph;\n        this.thumbnail = thumbnail;\n        if ((sliceLayerInfo.length != this.sliceLayerInfo.length))\n            throw new IllegalArgumentException(&quot;Wrong array size !&quot;);\n        this.sliceLayerInfo = sliceLayerInfo;\n        if ((sliceInfo.length != this.sliceInfo.length))\n            throw new IllegalArgumentException(&quot;Wrong array size !&quot;);\n        this.sliceInfo = sliceInfo;\n    }\n    public static class ByReference extends SqWholeImageInfo implements Structure.ByReference {\n\n    };\n    public static class ByValue extends SqWholeImageInfo implements Structure.ByValue {\n\n    };\n}\n</code></pre>\n<p>The interface is:</p>\n<pre class=\"lang-c prettyprint-override\"><code>// in c\nDECLSPEC GLOBAL(int) openfile(char *sdpcPath, SqWholeImageInfo **info);\n\n// call in c\nchar *filePath = &quot;path/to/file&quot;;\nSqWholeImageInfo *si = NULL;\nint ret = openfile(filePath, &amp;si);\n// that's why it needs a pointer to structure\nfor (int i = 0; i &lt; si-&gt;picHead-&gt;hierarchy; i++)\n{\n    PrintPicInfo(si-&gt;sliceLayerInfo[i]); \n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>// in java\npublic int openfile(String sdpcPath, SqWholeImageInfo.ByReference info);\n</code></pre>\n<p>As you see, this structure have structure arrays field in it. I first try to call it directly:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String filePath = &quot;path/to/file&quot;;\nSqWholeImageInfo.ByReference info = new SqWholeImageInfo.ByReference();\nint status = SdpcService.INSTANCE.openfile(filePath, info);\nSystem.out.println(&quot;file:&quot; + info.fileName.getString(0));\n</code></pre>\n<p>Then I got an error:</p>\n<blockquote>\n<p>Array fields must be initialized</p>\n</blockquote>\n<p>I first guess it needs SqWholeImageInfo array. I changed the interface to</p>\n<pre class=\"lang-java prettyprint-override\"><code>// interface\npublic int openfile(String sdpcPath, SqWholeImageInfo.ByReference[] info);\n// call\nString filePath = &quot;path/to/file&quot;;\nSqWholeImageInfo.ByReference[] info = new SqWholeImageInfo.ByReference[1];\ninfo[0] = new SqWholeImageInfo.ByReference();\nint status = SdpcService.INSTANCE.openfile(filePath, info);\nSystem.out.println(&quot;file:&quot; + info[0].fileName.getString(0));\n</code></pre>\n<p>Then I got the same error, and I guess it is caused by the structure array in SqWholeImageInfo. So I changed the type of <code>com.hys.mapper.SqImageInfo.ByReference[]</code> to <code>PointerByReference</code> like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>...\n    public Pointer fileName;\n    public com.hys.mapper.SqPicHead.ByReference phead;\n    public com.hys.mapper.SqPersonInfo.ByReference personInfo;\n    public com.hys.mapper.SqExtraInfo.ByReference extra;\n    public PointerByReference macrograph;\n    public com.hys.mapper.SqImageInfo.ByReference thumbnail;\n    public PointerByReference sliceLayerInfo;\n    public PointerByReference sliceInfo; // now here is no more array.\n...\n</code></pre>\n<p>I got the return value <code>0</code> in status (success!), but the <code>filename</code> has the wrong value. Then I found this:</p>\n<p><a href=\"https://i.stack.imgur.com/e4RIN.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/e4RIN.png\" alt=\"enter image description here\" /></a></p>\n<pre class=\"lang-java prettyprint-override\"><code>// got file:native@0x1f4b1b0b050\n// System.out.println(&quot;file:&quot; + info.fileName);\n// got error value it should be 'path/to/file'\nSystem.out.println(&quot;file:&quot; + info.fileName.getString(0));\n// And another error: Cannot read field &quot;srcWidth&quot; because &quot;info.phead&quot; is null this can be fixed by using structure array of info\nSystem.out.println(&quot;width:&quot; + info.phead.srcWidth);\nSystem.out.println(&quot;height:&quot; + info.phead.srcHeight);\n</code></pre>\n<p>I don't know why. Can't the pointer type be used as the type of a structure array? If it works, how should I convert pointer to structure?</p>\n<p>Or is there something wrong in my operation?</p>\n<p>Or is there any way to initialize an array of variable length?</p>\n<p>I checked other questions:</p>\n<ul>\n<li>this is error of enum calling (I have used int already in other structure): <a href=\"https://stackoverflow.com/questions/2413973/jna-with-complicated-struct\">JNA with complicated struct</a></li>\n<li>In my code, I don't know the real length: <a href=\"https://stackoverflow.com/questions/29175396/jna-how-do-i-go-from-a-c-int-to-a-jna-struct\">JNA how do I go from a C int* to a JNA struct</a></li>\n<li>this is a very similar question, but I don't understand why: <a href=\"https://stackoverflow.com/questions/4177870/jna-how-to-access-array-of-struct-in-struct\">JNA: How to access array of struct in struct?</a></li>\n</ul>\n<hr />\n<p>I tried some simple examples and it seems that I have some misunderstandings about structure nesting, but I still don't know where the problem is.\nHere are all the code of C++ and Java</p>\n<pre class=\"lang-c prettyprint-override\"><code>//header file\n// framework.h\n#pragma once\n#define WIN32_LEAN_AND_MEAN    \n#include &lt;windows.h&gt;\n#define DECLSPEC extern &quot;C&quot; _declspec(dllexport)\ntypedef struct StructA\n{\n  int x;\n  int y;\n  char* str1;\n  unsigned char* seq1[128];\n}StructA;\n\ntypedef struct StructB\n{\n  float a;\n  double b;\n  char** str_arr;\n  int* ps;\n}StructB;\n\ntypedef struct StructC\n{\n  StructA* sa;\n  StructB** sbs;\n}StructC;\n\nDECLSPEC int TestFunc1(StructA* sa);\nDECLSPEC int TestFunc2(StructA* sa, StructC** scs);\n\n// source file\n// dllmain.cpp\n#include &quot;pch.h&quot;\n\n#include &lt;stdio.h&gt;\n#include &quot;malloc.h&quot;\n#include &quot;string.h&quot;\nusing namespace std;\n\nint TestFunc1(StructA* sa)\n{\n  sa-&gt;x = 10;\n  sa-&gt;y = 12;\n  sa-&gt;str1 = (char*)malloc(sizeof(char) * 6);\n  memset(sa-&gt;str1, 0, sizeof(char) * 6);\n  strcpy(sa-&gt;str1, &quot;hello&quot;);\n\n  unsigned char testSeq[] = &quot;abc&quot;;\n  sa-&gt;seq1[0] = testSeq;\n\n  return 0;\n}\n\nint TestFunc2(StructA* sa, StructC** scs) {\n  sa-&gt;x = 101;\n  sa-&gt;y = 121;\n  sa-&gt;str1 = (char*)malloc(sizeof(char) * 6);\n  memset(sa-&gt;str1, 0, sizeof(char) * 6);\n  strcpy(sa-&gt;str1, &quot;hello&quot;);\n\n  unsigned char testSeq[] = &quot;abc&quot;;\n  sa-&gt;seq1[0] = testSeq;\n\n  if (*scs == NULL) {\n    printf(&quot;init sc\\n&quot;);\n    *scs = (StructC*)malloc(sizeof(StructC));\n    (*scs)-&gt;sa = (StructA*)malloc(sizeof(StructA));\n    (*scs)-&gt;sa-&gt;x = 0;  // Initialize x to some default value\n    (*scs)-&gt;sa-&gt;y = 0;  // Initialize y to some default value\n    (*scs)-&gt;sa-&gt;str1 = (char*)malloc(sizeof(char) * 10);  // Allocate memory for str1\n    memset((*scs)-&gt;sa-&gt;str1, 0, sizeof(char) * 10);\n    strcpy((*scs)-&gt;sa-&gt;str1, &quot;&quot;);  // Initialize str1 to an empty string\n    (*scs)-&gt;sbs = (StructB**)malloc(sizeof(StructB*) * 4);\n    for (int i = 0; i &lt; 4; ++i) {\n      (*scs)-&gt;sbs[i] = (StructB*)malloc(sizeof(StructB));\n      (*scs)-&gt;sbs[i]-&gt;a = 0.0;  // Initialize a to some default value\n      (*scs)-&gt;sbs[i]-&gt;b = 0.0;  // Initialize b to some default value\n      (*scs)-&gt;sbs[i]-&gt;str_arr = NULL;  // Initialize str_arr to NULL\n      (*scs)-&gt;sbs[i]-&gt;ps = NULL;  // Initialize ps to NULL\n    }\n\n    printf(&quot;After malloc - sa: %p, x: %d, y: %d, str1: %p\\n&quot;,\n      (*scs)-&gt;sa, (*scs)-&gt;sa-&gt;x, (*scs)-&gt;sa-&gt;y, (*scs)-&gt;sa-&gt;str1);\n  }\n  else {\n    printf(&quot;no init sc\\n&quot;);\n  }\n\n  // Set values for StructA members\n  (*scs)-&gt;sa-&gt;x = 110;\n  (*scs)-&gt;sa-&gt;y = 120;\n  (*scs)-&gt;sa-&gt;str1 = (char*)malloc(sizeof(char) * 10);\n  memset((*scs)-&gt;sa-&gt;str1, 0, sizeof(char) * 10);\n  strcpy((*scs)-&gt;sa-&gt;str1, &quot;hello119&quot;);\n\n  printf(&quot;After setting values - sa: %p, x: %d, y: %d, str1: %p\\n&quot;,\n    (*scs)-&gt;sa, (*scs)-&gt;sa-&gt;x, (*scs)-&gt;sa-&gt;y, (*scs)-&gt;sa-&gt;str1);\n\n  // Set values for StructB members\n  (*scs)-&gt;sbs[0]-&gt;a = 1.5;\n  (*scs)-&gt;sbs[0]-&gt;b = 1.8;\n  int ia[] = { 1, 2, 3 };\n  (*scs)-&gt;sbs[0]-&gt;ps = ia;\n\n  return 0;\n}\n\nBOOL APIENTRY DllMain( HMODULE hModule,\n                       DWORD  ul_reason_for_call,\n                       LPVOID lpReserved\n                     )\n{\n    switch (ul_reason_for_call)\n    {\n    case DLL_PROCESS_ATTACH:\n    case DLL_THREAD_ATTACH:\n    case DLL_THREAD_DETACH:\n    case DLL_PROCESS_DETACH:\n        break;\n    }\n    return TRUE;\n}\n\n</code></pre>\n<p>The Java code</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.hys;\n\nimport com.sun.jna.Library;\nimport com.sun.jna.Native;\nimport com.sun.jna.Pointer;\nimport com.sun.jna.Structure;\nimport com.sun.jna.ptr.PointerByReference;\n\nimport java.util.Arrays;\nimport java.util.List;\n\npublic class TestdllService {\n    public interface MyLibrary extends Library {\n        MyLibrary INSTANCE = Native.load(&quot;D:\\\\WS_VS\\\\testdll\\\\x64\\\\Release\\\\testdll.dll&quot;, MyLibrary.class);\n\n        int TestFunc1(StructA sa);\n        int TestFunc2(StructA sa, StructC.ByReference scs);\n    }\n\n    public static class StructA extends Structure {\n        public int x;\n        public int y;\n        public String str1;\n        public Pointer[] seq1 = new Pointer[128];\n\n        // Specify the order of fields explicitly\n        protected List&lt;String&gt; getFieldOrder() {\n            return Arrays.asList(&quot;x&quot;, &quot;y&quot;, &quot;str1&quot;, &quot;seq1&quot;);\n        }\n\n        public StructA() {\n            super();\n            // Initialize fields to default values\n            x = 0;\n            y = 0;\n            str1 = &quot;&quot;;\n            Arrays.fill(seq1, Pointer.NULL);\n        }\n\n        public static class ByReference extends StructA implements Structure.ByReference {\n        }\n\n        public static class ByValue extends StructA implements Structure.ByValue {\n        }\n    }\n\n    public static class StructB extends Structure {\n        public float a;\n        public double b;\n        public Pointer str_arr; // Assuming this is equivalent to char**\n        public Pointer ps;\n\n        public static class ByReference extends StructB implements Structure.ByReference {\n            protected List&lt;String&gt; getFieldOrder() {\n                return Arrays.asList(&quot;a&quot;, &quot;b&quot;, &quot;str_arr&quot;, &quot;ps&quot;);\n            }\n        }\n\n        public static class ByValue extends StructB implements Structure.ByValue {\n        }\n    }\n\n    public static class StructC extends Structure {\n        public StructA.ByReference sa;\n        public StructB.ByReference sbs;\n\n        // Specify the order of fields explicitly\n        protected List&lt;String&gt; getFieldOrder() {\n            return Arrays.asList(&quot;sa&quot;, &quot;sbs&quot;);\n        }\n\n        public StructC() {\n            super();\n        }\n\n        public StructC(Pointer p) {\n            super(p);\n            read();\n        }\n\n        public void initSbsArray(int size) {\n            sbs = new StructB.ByReference();\n            sbs.toArray(size);\n        }\n\n        public static class ByReference extends StructC implements Structure.ByReference {\n            public ByReference() {\n                super(Pointer.NULL);\n            }\n\n            public ByReference(Pointer p) {\n                super(p);\n            }\n        }\n\n        public static class ByValue extends StructC implements Structure.ByValue {\n        }\n    }\n\n    public static void main(String[] args) {\n        MyLibrary myLibrary = MyLibrary.INSTANCE;\n\n        StructA sa = new StructA();\n//        int ret = myLibrary.TestFunc1(sa);\n        StructC.ByReference scs = new StructC.ByReference(Pointer.NULL);\n        int dynamicSize = 4;\n        scs.initSbsArray(dynamicSize);\n\n        int ret = myLibrary.TestFunc2(sa, scs);\n        System.out.println(&quot;Result: &quot; + ret);\n        // Access the modified struct or handle the result as needed\n        if (scs != null &amp;&amp; scs.getPointer() != null) {\n            // Read the values from the modified struct\n            scs.read(); // This populates the Java fields\n\n            // Access the values\n            System.out.println(&quot;Modified sa.x: &quot; + scs.sa.x);\n            System.out.println(&quot;Modified sa.y: &quot; + scs.sa.y);\n            System.out.println(&quot;Modified sa.str1: &quot; + scs.sa.str1);\n        } else {\n            System.out.println(&quot;Pointer is null, no modification occurred.&quot;);\n        }\n\n\n    }\n}\n</code></pre>\n<p>The <code>TestFunc1</code> works well. But the <code>TestFunc2</code> have wrong value.</p>\n<pre><code>// output of TestFunc2\nResult: 0\nModified sa.x: -1586624800 // it should be 110\nModified sa.y: 483 // it should be 120\nModified sa.str1: P`rï¿½ï¿½  // it should be hello119\ninit sc\nAfter malloc - sa: 000001E3A16E06E0, x: 0, y: 0, str1: 000001E3A171EEC0\nAfter setting values - sa: 000001E3A16E06E0, x: 110, y: 120, str1: 000001E3A171EE60\n</code></pre>\n"},{"tags":["java","spring-boot","exception","multipart","upload-max-filesize"],"answers":[{"comments":[{"owner":{"account_id":9735171,"reputation":2264,"user_id":7218656,"accept_rate":75,"display_name":"Arun Sudhakaran"},"score":0,"creation_date":1700474004,"post_id":77514527,"comment_id":136654596,"body_markdown":"Thank you for the definitions, but my question is why different exceptions are thrown when the file size is changed. Max is 1 MB, so the upload of both the 5 MB file and the 25 MB file should throw the same exception, right?","body":"Thank you for the definitions, but my question is why different exceptions are thrown when the file size is changed. Max is 1 MB, so the upload of both the 5 MB file and the 25 MB file should throw the same exception, right?"}],"tags":[],"owner":{"account_id":29854220,"reputation":19,"user_id":22879420,"display_name":"T N MOHITH"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700470885,"creation_date":1700470523,"answer_id":77514527,"question_id":77514140,"body_markdown":"The file size limit exceeds exception occurs when you try to upload a file that exceeds maximum allowed size. some systems or APIs support chunked uploads where you can spilt a larger file into a smaller chunks and upload them sequentially. Ensure your network connection is stable sometimes network issues can cause problems during file uploads\r\n\r\nThe SizeLimitExceededException is a generic exception that can be thrown in various contexts when the size of something exceeds a predefined limit.Implement proper error handling in your code to catch and handle SizeLimitExceededException gracefully. Provide meaningful error messages to users or log the details for further investigation.\r\nplease vote my answer if it hepled you to solve your problem","title":"SizeLimitExceededException vs FileSizeLimitExceededException - Different exception for different file sizes","body":"<p>The file size limit exceeds exception occurs when you try to upload a file that exceeds maximum allowed size. some systems or APIs support chunked uploads where you can spilt a larger file into a smaller chunks and upload them sequentially. Ensure your network connection is stable sometimes network issues can cause problems during file uploads</p>\n<p>The SizeLimitExceededException is a generic exception that can be thrown in various contexts when the size of something exceeds a predefined limit.Implement proper error handling in your code to catch and handle SizeLimitExceededException gracefully. Provide meaningful error messages to users or log the details for further investigation.\nplease vote my answer if it hepled you to solve your problem</p>\n"}],"owner":{"account_id":9735171,"reputation":2264,"user_id":7218656,"accept_rate":75,"display_name":"Arun Sudhakaran"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1700470885,"creation_date":1700465768,"question_id":77514140,"body_markdown":"We are getting different exceptions when we upload files of different sizes. The max file size allowed is **1 MB**.\r\n\r\n    spring.servlet.multipart.max-file-size=1MB\r\n\r\nWhen we try to upload a file of **5.95 MB** we get `FileSizeLimitExceededException` and when we try to upload a file of **21.5 MB** we get `SizeLimitExceededException`. Why are two different exceptions thrown for two different file sizes, even when both violate the pre-defined file size?\r\n\r\nThis is our custom exception handler\r\n\r\n    @Slf4j\r\n    @ControllerAdvice\r\n    @Order(2)\r\n    public class CommonErrorHandler extends ResponseEntityExceptionHandler {\r\n    \r\n    \t@ExceptionHandler({ SizeLimitExceededException.class })\r\n    \t@ResponseStatus(HttpStatus.BAD_REQUEST)\r\n    \tpublic ResponseEntity&lt;CommonResponse&gt; fileSizeException(SizeLimitExceededException ex) {\r\n    \r\n    \t\tCommonResponse response = new CommonResponse(String.valueOf(HttpStatus.BAD_REQUEST.value()), &quot;File upload size exceeded SizeLimitExceededException!&quot;);\r\n    \r\n    \t\treturn new ResponseEntity&lt;&gt;(response, HttpStatus.BAD_REQUEST);\r\n    \t}\r\n    \t\r\n    \t@ExceptionHandler({ FileSizeLimitExceededException.class })\r\n    \t@ResponseStatus(HttpStatus.BAD_REQUEST)\r\n    \tpublic ResponseEntity&lt;CommonResponse&gt; fileSizeException(FileSizeLimitExceededException ex) {\r\n    \r\n    \t\tCommonResponse response = new CommonResponse(String.valueOf(HttpStatus.BAD_REQUEST.value()), &quot;File upload size exceeded FileSizeLimitExceededException!&quot;);\r\n    \r\n    \t\treturn new ResponseEntity&lt;&gt;(response, HttpStatus.BAD_REQUEST);\r\n    \t}\r\n    \r\n    }\r\n\r\nDue to this, we have to maintain two different methods in our exception handler. Later, we had to use the superclass of both these exceptions `SizeException` to handle it in one method.So,\r\n\r\n 1. Why we were getting different exceptions for different file sizes?\r\n 2. Will the usage of `SizeException` be a good way to handle it?","title":"SizeLimitExceededException vs FileSizeLimitExceededException - Different exception for different file sizes","body":"<p>We are getting different exceptions when we upload files of different sizes. The max file size allowed is <strong>1 MB</strong>.</p>\n<pre><code>spring.servlet.multipart.max-file-size=1MB\n</code></pre>\n<p>When we try to upload a file of <strong>5.95 MB</strong> we get <code>FileSizeLimitExceededException</code> and when we try to upload a file of <strong>21.5 MB</strong> we get <code>SizeLimitExceededException</code>. Why are two different exceptions thrown for two different file sizes, even when both violate the pre-defined file size?</p>\n<p>This is our custom exception handler</p>\n<pre><code>@Slf4j\n@ControllerAdvice\n@Order(2)\npublic class CommonErrorHandler extends ResponseEntityExceptionHandler {\n\n    @ExceptionHandler({ SizeLimitExceededException.class })\n    @ResponseStatus(HttpStatus.BAD_REQUEST)\n    public ResponseEntity&lt;CommonResponse&gt; fileSizeException(SizeLimitExceededException ex) {\n\n        CommonResponse response = new CommonResponse(String.valueOf(HttpStatus.BAD_REQUEST.value()), &quot;File upload size exceeded SizeLimitExceededException!&quot;);\n\n        return new ResponseEntity&lt;&gt;(response, HttpStatus.BAD_REQUEST);\n    }\n    \n    @ExceptionHandler({ FileSizeLimitExceededException.class })\n    @ResponseStatus(HttpStatus.BAD_REQUEST)\n    public ResponseEntity&lt;CommonResponse&gt; fileSizeException(FileSizeLimitExceededException ex) {\n\n        CommonResponse response = new CommonResponse(String.valueOf(HttpStatus.BAD_REQUEST.value()), &quot;File upload size exceeded FileSizeLimitExceededException!&quot;);\n\n        return new ResponseEntity&lt;&gt;(response, HttpStatus.BAD_REQUEST);\n    }\n\n}\n</code></pre>\n<p>Due to this, we have to maintain two different methods in our exception handler. Later, we had to use the superclass of both these exceptions <code>SizeException</code> to handle it in one method.So,</p>\n<ol>\n<li>Why we were getting different exceptions for different file sizes?</li>\n<li>Will the usage of <code>SizeException</code> be a good way to handle it?</li>\n</ol>\n"},{"tags":["java","selenium-webdriver","xpath","zero-width-space"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1700436551,"post_id":77512856,"comment_id":136651007,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."},{"owner":{"account_id":14096333,"reputation":371,"user_id":10183001,"display_name":"Daniel Bandeira"},"score":0,"creation_date":1700436639,"post_id":77512856,"comment_id":136651015,"body_markdown":"unicode for ZWSP is U+200B. Write this in a string (or xpath) depends on the system you are using.","body":"unicode for ZWSP is U+200B. Write this in a string (or xpath) depends on the system you are using."},{"owner":{"account_id":27938804,"reputation":102,"user_id":21335232,"display_name":"Bhairu"},"score":0,"creation_date":1700459344,"post_id":77512856,"comment_id":136652692,"body_markdown":"you can use the normalize-space function instead of the Text() function.                             //a[normalize-space()=&#39;Pass your xpath here&#39;]","body":"you can use the normalize-space function instead of the Text() function.                             //a[normalize-space()=&#39;Pass your xpath here&#39;]"},{"owner":{"account_id":529122,"reputation":158120,"user_id":415448,"accept_rate":33,"display_name":"Michael Kay"},"score":0,"creation_date":1700470252,"post_id":77512856,"comment_id":136654004,"body_markdown":"@Bhairu No, normalise-space() doesn&#39;t do anything with zero-width spaces.","body":"@Bhairu No, normalise-space() doesn&#39;t do anything with zero-width spaces."}],"answers":[{"tags":[],"owner":{"account_id":529122,"reputation":158120,"user_id":415448,"accept_rate":33,"display_name":"Michael Kay"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700470687,"creation_date":1700470687,"answer_id":77514546,"question_id":77512856,"body_markdown":"Firstly, note that `//a[contains(text(), &#39;blahblah&#39;)]` is usually the wrong thing to write anyway. If you want to match an `a` element that contains `blah` as a substring, use `//a[contains(., &#39;blah&#39;)`. If you want to match an `a` element that contains `blah` in its entirety, use `//a[.=&#39;blah&#39;]`. The problem with `text()` comes when the `a` element contains child elements or comments: using `&#39;.&#39;` gives you the textual content of the element ignoring internal markup.\r\n\r\nAs to your question, `//a[contains(translate(., &#39;&#167;&#39;, &#39;&#39;), &#39;blahblah&#39;)]` will strip out any `&#167;` characters from the content before doing the comparison. That simply leaves you with the problem of how to write a zero-width space in place of the `&#167;`. As far as XPath itself is concerned, you can simply include a zero-width space character (U+200B) in the string (it won&#39;t be visible, of course). Your host language environment (Selenium in this case) might provide a better way of doing it, for example as `\\u200B` - but I don&#39;t know Selenium.\r\n\r\n","title":"need to match xpath containing text with zero width space (ZWSP)","body":"<p>Firstly, note that <code>//a[contains(text(), 'blahblah')]</code> is usually the wrong thing to write anyway. If you want to match an <code>a</code> element that contains <code>blah</code> as a substring, use <code>//a[contains(., 'blah')</code>. If you want to match an <code>a</code> element that contains <code>blah</code> in its entirety, use <code>//a[.='blah']</code>. The problem with <code>text()</code> comes when the <code>a</code> element contains child elements or comments: using <code>'.'</code> gives you the textual content of the element ignoring internal markup.</p>\n<p>As to your question, <code>//a[contains(translate(., 'Â§', ''), 'blahblah')]</code> will strip out any <code>Â§</code> characters from the content before doing the comparison. That simply leaves you with the problem of how to write a zero-width space in place of the <code>Â§</code>. As far as XPath itself is concerned, you can simply include a zero-width space character (U+200B) in the string (it won't be visible, of course). Your host language environment (Selenium in this case) might provide a better way of doing it, for example as <code>\\u200B</code> - but I don't know Selenium.</p>\n"}],"owner":{"account_id":29943947,"reputation":1,"user_id":22947698,"display_name":"JDoodles"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1700470687,"creation_date":1700435789,"question_id":77512856,"body_markdown":"I&#39;m trying to find a web element by its xpath. The web element is expected to contain text &quot;blahblah&quot;.\r\nBut somehow a zero width space (ZWSP) was incerted in the middle:\r\n&lt;a&gt;blah&amp;ZeroWidthSpaceblah&lt;/a&gt;\r\nThis is why my xpath //a[contains(text(), &#39;blahblah&#39;)] does not match it.\r\nIs there xpath that would strip out/normalize the text value and remove all ZWSP?\r\n\r\nI have tried //a[contains(text(), &#39;blah&amp;ZeroWidthSpaceblah&#39;)] and it did not match. Even if it did, it owuld not be a good solution as it&#39;s hard to predict where ZWSP would be inserved by the application.\r\n\r\nIf not possible by the means of xpath definition itself, how would it be implemented in Java?\r\n","title":"need to match xpath containing text with zero width space (ZWSP)","body":"<p>I'm trying to find a web element by its xpath. The web element is expected to contain text &quot;blahblah&quot;.\nBut somehow a zero width space (ZWSP) was incerted in the middle:\nblah&amp;ZeroWidthSpaceblah\nThis is why my xpath //a[contains(text(), 'blahblah')] does not match it.\nIs there xpath that would strip out/normalize the text value and remove all ZWSP?</p>\n<p>I have tried //a[contains(text(), 'blah&amp;ZeroWidthSpaceblah')] and it did not match. Even if it did, it owuld not be a good solution as it's hard to predict where ZWSP would be inserved by the application.</p>\n<p>If not possible by the means of xpath definition itself, how would it be implemented in Java?</p>\n"},{"tags":["java","sql-server","spring","prepared-statement"],"comments":[{"owner":{"account_id":21427279,"reputation":9,"user_id":15784373,"display_name":"ivvasch"},"score":0,"creation_date":1700475405,"post_id":77514529,"comment_id":136654848,"body_markdown":"I came across scant information. This mistake was appear in driver for MSSQL. And I fix it by add new dependency on my project. I added 12.4.2.jre11.","body":"I came across scant information. This mistake was appear in driver for MSSQL. And I fix it by add new dependency on my project. I added 12.4.2.jre11."}],"owner":{"account_id":21427279,"reputation":9,"user_id":15784373,"display_name":"ivvasch"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":8,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700470535,"creation_date":1700470535,"question_id":77514529,"body_markdown":"Early I faced with a problem **&quot;unprocessedResponseCount &lt; 0 on decrement. Disabling connection resiliency.java&quot;** After some time of searching a problem, I didn&#39;t find anything about it.\r\nWhen the problem is appear:\r\n\r\n - use batch for save data from java application\r\n - use MSSQL server as a DB\r\n - use MSSQL driver 12.1.0.jre11-preview","title":"unprocessedResponseCount &lt; 0 on decrement. Disabling connection resiliency. java","body":"<p>Early I faced with a problem <strong>&quot;unprocessedResponseCount &lt; 0 on decrement. Disabling connection resiliency.java&quot;</strong> After some time of searching a problem, I didn't find anything about it.\nWhen the problem is appear:</p>\n<ul>\n<li>use batch for save data from java application</li>\n<li>use MSSQL server as a DB</li>\n<li>use MSSQL driver 12.1.0.jre11-preview</li>\n</ul>\n"},{"tags":["java","spring"],"owner":{"account_id":925754,"reputation":21,"user_id":956570,"display_name":"Klaus Sch&#252;ssler"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1700470509,"creation_date":1700468980,"question_id":77514388,"body_markdown":"After upgrading from Spring 5.3.21 to 6.0.13 and updating java 12 to 17, we&#39;re getting errors on all our services like this one below. I could not find any other posts around the internet pointing in any direction. We include / pull in dependencies (xxx-3.4.5-SNAPSHOT.jar) from other repositories. Those are build using the same maven parent, so versions all are the same.\r\n\r\nNot sure what more I can include. Just some suggestions on how to further investigate would be great. I&#39;m really stuck atm and don&#39;t know a way forward.\r\n\r\n\r\n```\r\norg.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;xxxController&#39; defined in file [xxx/xxxController.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name &#39;xxxService&#39; defined in file [xxx/xxxService.class]: Unsatisfied dependency expressed through constructor parameter 1: Error creating bean with name &#39;networkingService&#39;: Injection of autowired dependencies failed\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:801) ~[spring-beans-6.0.13.jar:6.0.13]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:240) ~[spring-beans-6.0.13.jar:6.0.13]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1352) ~[spring-beans-6.0.13.jar:6.0.13]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1189) ~[spring-beans-6.0.13.jar:6.0.13]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:560) ~[spring-beans-6.0.13.jar:6.0.13]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520) ~[spring-beans-6.0.13.jar:6.0.13]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325) ~[spring-beans-6.0.13.jar:6.0.13]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.13.jar:6.0.13]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323) ~[spring-beans-6.0.13.jar:6.0.13]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-6.0.13.jar:6.0.13]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:973) ~[spring-beans-6.0.13.jar:6.0.13]\r\n\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:950) ~[spring-context-6.0.13.jar:6.0.13]\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:616) ~[spring-context-6.0.13.jar:6.0.13]\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.1.5.jar:3.1.5]\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:738) ~[spring-boot-3.1.5.jar:3.1.5]\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:440) ~[spring-boot-3.1.5.jar:3.1.5]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:316) ~[spring-boot-3.1.5.jar:3.1.5]\r\n\tat a.b.c.shared.BaseService.run(BaseService.java:106) ~[classes/:na]\r\n\tat a.b.c.ConfigService.main(ConfigService.java:20) ~[classes/:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\r\n\tat org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50) ~[spring-boot-devtools-3.1.5.jar:3.1.5]\r\nCaused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;xxxService&#39; defined in file [xxx/xxxService.class]: Unsatisfied dependency expressed through constructor parameter 1: Error creating bean with name &#39;networkingService&#39;: Injection of autowired dependencies failed\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:801) ~[spring-beans-6.0.13.jar:6.0.13]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:240) ~[spring-beans-6.0.13.jar:6.0.13]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1352) ~[spring-beans-6.0.13.jar:6.0.13]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1189) ~[spring-beans-6.0.13.jar:6.0.13]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:560) ~[spring-beans-6.0.13.jar:6.0.13]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520) ~[spring-beans-6.0.13.jar:6.0.13]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325) ~[spring-beans-6.0.13.jar:6.0.13]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.13.jar:6.0.13]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323) ~[spring-beans-6.0.13.jar:6.0.13]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-6.0.13.jar:6.0.13]\r\n\tat org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254) ~[spring-beans-6.0.13.jar:6.0.13]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.addCandidateEntry(DefaultListableBeanFactory.java:1633) ~[spring-beans-6.0.13.jar:6.0.13]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.findAutowireCandidates(DefaultListableBeanFactory.java:1597) ~[spring-beans-6.0.13.jar:6.0.13]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveMultipleBeans(DefaultListableBeanFactory.java:1488) ~[spring-beans-6.0.13.jar:6.0.13]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1375) ~[spring-beans-6.0.13.jar:6.0.13]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1337) ~[spring-beans-6.0.13.jar:6.0.13]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:910) ~[spring-beans-6.0.13.jar:6.0.13]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:788) ~[spring-beans-6.0.13.jar:6.0.13]\r\n\t... 23 common frames omitted\r\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;xxxService&#39;: Injection of autowired dependencies failed\r\n\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:498) ~[spring-beans-6.0.13.jar:6.0.13]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1416) ~[spring-beans-6.0.13.jar:6.0.13]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:597) ~[spring-beans-6.0.13.jar:6.0.13]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520) ~[spring-beans-6.0.13.jar:6.0.13]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325) ~[spring-beans-6.0.13.jar:6.0.13]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.13.jar:6.0.13]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323) ~[spring-beans-6.0.13.jar:6.0.13]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-6.0.13.jar:6.0.13]\r\n\tat org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254) ~[spring-beans-6.0.13.jar:6.0.13]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1417) ~[spring-beans-6.0.13.jar:6.0.13]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1337) ~[spring-beans-6.0.13.jar:6.0.13]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:910) ~[spring-beans-6.0.13.jar:6.0.13]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:788) ~[spring-beans-6.0.13.jar:6.0.13]\r\n\t... 40 common frames omitted\r\nCaused by: org.springframework.aop.framework.AopConfigException: Unexpected AOP exception\r\n\tat org.springframework.aop.framework.CglibAopProxy.buildProxy(CglibAopProxy.java:228) ~[spring-aop-6.0.13.jar:6.0.13]\r\n\tat org.springframework.aop.framework.CglibAopProxy.getProxy(CglibAopProxy.java:155) ~[spring-aop-6.0.13.jar:6.0.13]\r\n\tat org.springframework.aop.framework.ProxyFactory.getProxy(ProxyFactory.java:110) ~[spring-aop-6.0.13.jar:6.0.13]\r\n\tat org.springframework.context.annotation.ContextAnnotationAutowireCandidateResolver.buildLazyResolutionProxy(ContextAnnotationAutowireCandidateResolver.java:143) ~[spring-context-6.0.13.jar:6.0.13]\r\n\tat org.springframework.context.annotation.ContextAnnotationAutowireCandidateResolver.buildLazyResolutionProxy(ContextAnnotationAutowireCandidateResolver.java:84) ~[spring-context-6.0.13.jar:6.0.13]\r\n\tat org.springframework.context.annotation.ContextAnnotationAutowireCandidateResolver.getLazyResolutionProxyIfNecessary(ContextAnnotationAutowireCandidateResolver.java:54) ~[spring-context-6.0.13.jar:6.0.13]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1334) ~[spring-beans-6.0.13.jar:6.0.13]\r\n\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredMethodElement.resolveMethodArguments(AutowiredAnnotationBeanPostProcessor.java:867) ~[spring-beans-6.0.13.jar:6.0.13]\r\n\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredMethodElement.inject(AutowiredAnnotationBeanPostProcessor.java:828) ~[spring-beans-6.0.13.jar:6.0.13]\r\n\tat org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:145) ~[spring-beans-6.0.13.jar:6.0.13]\r\n\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:492) ~[spring-beans-6.0.13.jar:6.0.13]\r\n\t... 52 common frames omitted\r\nCaused by: java.lang.ClassCastException: class org.springframework.aop.framework.CglibAopProxy$SerializableNoOp cannot be cast to class org.springframework.cglib.proxy.Dispatcher (org.springframework.aop.framework.CglibAopProxy$SerializableNoOp and org.springframework.cglib.proxy.Dispatcher are in unnamed module of loader &#39;app&#39;)\r\n\tat a.b.c.commons.commit.service.CommitService$$SpringCGLIB$$0.setCallbacks(&lt;generated&gt;) ~[xxx-3.4.5-SNAPSHOT.jar:na]\r\n\tat org.springframework.aop.framework.ObjenesisCglibAopProxy.createProxyClassAndInstance(ObjenesisCglibAopProxy.java:91) ~[spring-aop-6.0.13.jar:6.0.13]\r\n\tat org.springframework.aop.framework.CglibAopProxy.buildProxy(CglibAopProxy.java:213) ~[spring-aop-6.0.13.jar:6.0.13]\r\n```\r\n\r\n\r\nI tried to find out what version of Spring could cause this. Did a complete clean of the environment (rm ~/.m2/repository and target). I also tried to create a new minimal service from scratch, but ran into the same issue once I include the dependencies.","title":"class org.springframework.aop.framework.CglibAopProxy$SerializableNoOp cannot be cast to class org.springframework.cglib.proxy.Dispatcher","body":"<p>After upgrading from Spring 5.3.21 to 6.0.13 and updating java 12 to 17, we're getting errors on all our services like this one below. I could not find any other posts around the internet pointing in any direction. We include / pull in dependencies (xxx-3.4.5-SNAPSHOT.jar) from other repositories. Those are build using the same maven parent, so versions all are the same.</p>\n<p>Not sure what more I can include. Just some suggestions on how to further investigate would be great. I'm really stuck atm and don't know a way forward.</p>\n<pre><code>org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'xxxController' defined in file [xxx/xxxController.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'xxxService' defined in file [xxx/xxxService.class]: Unsatisfied dependency expressed through constructor parameter 1: Error creating bean with name 'networkingService': Injection of autowired dependencies failed\n    at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:801) ~[spring-beans-6.0.13.jar:6.0.13]\n    at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:240) ~[spring-beans-6.0.13.jar:6.0.13]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1352) ~[spring-beans-6.0.13.jar:6.0.13]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1189) ~[spring-beans-6.0.13.jar:6.0.13]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:560) ~[spring-beans-6.0.13.jar:6.0.13]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520) ~[spring-beans-6.0.13.jar:6.0.13]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325) ~[spring-beans-6.0.13.jar:6.0.13]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.13.jar:6.0.13]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323) ~[spring-beans-6.0.13.jar:6.0.13]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-6.0.13.jar:6.0.13]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:973) ~[spring-beans-6.0.13.jar:6.0.13]\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:950) ~[spring-context-6.0.13.jar:6.0.13]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:616) ~[spring-context-6.0.13.jar:6.0.13]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.1.5.jar:3.1.5]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:738) ~[spring-boot-3.1.5.jar:3.1.5]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:440) ~[spring-boot-3.1.5.jar:3.1.5]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:316) ~[spring-boot-3.1.5.jar:3.1.5]\n    at a.b.c.shared.BaseService.run(BaseService.java:106) ~[classes/:na]\n    at a.b.c.ConfigService.main(ConfigService.java:20) ~[classes/:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\n    at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50) ~[spring-boot-devtools-3.1.5.jar:3.1.5]\nCaused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'xxxService' defined in file [xxx/xxxService.class]: Unsatisfied dependency expressed through constructor parameter 1: Error creating bean with name 'networkingService': Injection of autowired dependencies failed\n    at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:801) ~[spring-beans-6.0.13.jar:6.0.13]\n    at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:240) ~[spring-beans-6.0.13.jar:6.0.13]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1352) ~[spring-beans-6.0.13.jar:6.0.13]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1189) ~[spring-beans-6.0.13.jar:6.0.13]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:560) ~[spring-beans-6.0.13.jar:6.0.13]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520) ~[spring-beans-6.0.13.jar:6.0.13]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325) ~[spring-beans-6.0.13.jar:6.0.13]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.13.jar:6.0.13]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323) ~[spring-beans-6.0.13.jar:6.0.13]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-6.0.13.jar:6.0.13]\n    at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254) ~[spring-beans-6.0.13.jar:6.0.13]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.addCandidateEntry(DefaultListableBeanFactory.java:1633) ~[spring-beans-6.0.13.jar:6.0.13]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.findAutowireCandidates(DefaultListableBeanFactory.java:1597) ~[spring-beans-6.0.13.jar:6.0.13]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveMultipleBeans(DefaultListableBeanFactory.java:1488) ~[spring-beans-6.0.13.jar:6.0.13]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1375) ~[spring-beans-6.0.13.jar:6.0.13]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1337) ~[spring-beans-6.0.13.jar:6.0.13]\n    at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:910) ~[spring-beans-6.0.13.jar:6.0.13]\n    at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:788) ~[spring-beans-6.0.13.jar:6.0.13]\n    ... 23 common frames omitted\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'xxxService': Injection of autowired dependencies failed\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:498) ~[spring-beans-6.0.13.jar:6.0.13]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1416) ~[spring-beans-6.0.13.jar:6.0.13]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:597) ~[spring-beans-6.0.13.jar:6.0.13]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520) ~[spring-beans-6.0.13.jar:6.0.13]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325) ~[spring-beans-6.0.13.jar:6.0.13]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.13.jar:6.0.13]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323) ~[spring-beans-6.0.13.jar:6.0.13]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-6.0.13.jar:6.0.13]\n    at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254) ~[spring-beans-6.0.13.jar:6.0.13]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1417) ~[spring-beans-6.0.13.jar:6.0.13]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1337) ~[spring-beans-6.0.13.jar:6.0.13]\n    at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:910) ~[spring-beans-6.0.13.jar:6.0.13]\n    at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:788) ~[spring-beans-6.0.13.jar:6.0.13]\n    ... 40 common frames omitted\nCaused by: org.springframework.aop.framework.AopConfigException: Unexpected AOP exception\n    at org.springframework.aop.framework.CglibAopProxy.buildProxy(CglibAopProxy.java:228) ~[spring-aop-6.0.13.jar:6.0.13]\n    at org.springframework.aop.framework.CglibAopProxy.getProxy(CglibAopProxy.java:155) ~[spring-aop-6.0.13.jar:6.0.13]\n    at org.springframework.aop.framework.ProxyFactory.getProxy(ProxyFactory.java:110) ~[spring-aop-6.0.13.jar:6.0.13]\n    at org.springframework.context.annotation.ContextAnnotationAutowireCandidateResolver.buildLazyResolutionProxy(ContextAnnotationAutowireCandidateResolver.java:143) ~[spring-context-6.0.13.jar:6.0.13]\n    at org.springframework.context.annotation.ContextAnnotationAutowireCandidateResolver.buildLazyResolutionProxy(ContextAnnotationAutowireCandidateResolver.java:84) ~[spring-context-6.0.13.jar:6.0.13]\n    at org.springframework.context.annotation.ContextAnnotationAutowireCandidateResolver.getLazyResolutionProxyIfNecessary(ContextAnnotationAutowireCandidateResolver.java:54) ~[spring-context-6.0.13.jar:6.0.13]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1334) ~[spring-beans-6.0.13.jar:6.0.13]\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredMethodElement.resolveMethodArguments(AutowiredAnnotationBeanPostProcessor.java:867) ~[spring-beans-6.0.13.jar:6.0.13]\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredMethodElement.inject(AutowiredAnnotationBeanPostProcessor.java:828) ~[spring-beans-6.0.13.jar:6.0.13]\n    at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:145) ~[spring-beans-6.0.13.jar:6.0.13]\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:492) ~[spring-beans-6.0.13.jar:6.0.13]\n    ... 52 common frames omitted\nCaused by: java.lang.ClassCastException: class org.springframework.aop.framework.CglibAopProxy$SerializableNoOp cannot be cast to class org.springframework.cglib.proxy.Dispatcher (org.springframework.aop.framework.CglibAopProxy$SerializableNoOp and org.springframework.cglib.proxy.Dispatcher are in unnamed module of loader 'app')\n    at a.b.c.commons.commit.service.CommitService$$SpringCGLIB$$0.setCallbacks(&lt;generated&gt;) ~[xxx-3.4.5-SNAPSHOT.jar:na]\n    at org.springframework.aop.framework.ObjenesisCglibAopProxy.createProxyClassAndInstance(ObjenesisCglibAopProxy.java:91) ~[spring-aop-6.0.13.jar:6.0.13]\n    at org.springframework.aop.framework.CglibAopProxy.buildProxy(CglibAopProxy.java:213) ~[spring-aop-6.0.13.jar:6.0.13]\n</code></pre>\n<p>I tried to find out what version of Spring could cause this. Did a complete clean of the environment (rm ~/.m2/repository and target). I also tried to create a new minimal service from scratch, but ran into the same issue once I include the dependencies.</p>\n"},{"tags":["java","quarkus","openpdf"],"owner":{"account_id":25073481,"reputation":11,"user_id":18927123,"display_name":"Thessi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1700470485,"creation_date":1700470288,"question_id":77514504,"body_markdown":"I&#39;m trying to generate a PDF in my Quarkus application using https://github.com/LibrePDF/OpenPDF.\r\nLocally everything works fine, but after building the application I get the following exception:\r\n\r\n```\r\n2023-11-20 08:32:57,631 ERROR [io.qua.ver.htt.run.QuarkusErrorHandler] (vert.x-eventloop-thread-1) HTTP Request to /api/v1/xxx/xxx failed, error id: 87b2b3dc-20d7-47fe-9185-ad552db16f1d-1: com.lowagie.text.DocumentException: java.lang.RuntimeException: java.io.IOException: font-fallback/LiberationSans-Regular.ttf not found as file or resource.\r\n    at com.lowagie.text.pdf.PdfDocument.add(PdfDocument.java:805)\r\n    at com.lowagie.text.Document.add(Document.java:303)\r\n    at xxx.pdf.xxx.addSpacer(xxx.java:54)\r\n    at xxx.xxx.service.xxx.generatePdf(xxx.java:20)\r\n    at xxx.xxx.service.xxx_ClientProxy.generatePdf(Unknown Source)\r\n    at xxx.xxx.web.xxxResource.xxx(xxxResource.java:34)\r\n    at xxx.xxx.web.xxxResource_Subclass.xxx$$superforward(Unknown Source)\r\n    at xxx.xxx.web.xxxResource_Subclass$$function$$1.apply(Unknown Source)\r\n    at io.quarkus.arc.impl.AroundInvokeInvocationContext.proceed(AroundInvokeInvocationContext.java:73)\r\n    at io.quarkus.arc.impl.AroundInvokeInvocationContext.proceed(AroundInvokeInvocationContext.java:62)\r\n    at io.quarkus.hibernate.validator.runtime.interceptor.AbstractMethodValidationInterceptor.validateMethodInvocation(AbstractMethodValidationInterceptor.java:71)\r\n    at io.quarkus.hibernate.validator.runtime.jaxrs.ResteasyReactiveEndPointValidationInterceptor.validateMethodInvocation(ResteasyReactiveEndPointValidationInterceptor.java:21)\r\n    at io.quarkus.hibernate.validator.runtime.jaxrs.ResteasyReactiveEndPointValidationInterceptor_Bean.intercept(Unknown Source)\r\n    at io.quarkus.arc.impl.InterceptorInvocation.invoke(InterceptorInvocation.java:42)\r\n    at io.quarkus.arc.impl.AroundInvokeInvocationContext.perform(AroundInvokeInvocationContext.java:30)\r\n    at io.quarkus.arc.impl.InvocationContexts.performAroundInvoke(InvocationContexts.java:27)\r\n    at xxx.xxx.web.xxxResource_Subclass.xxx(Unknown Source)\r\n    at xxx.xxx.web.xxxResource_ClientProxy.xxx(Unknown Source)\r\n    at xxx.xxx.web.xxxResource$quarkusrestinvoker$xxx_c98f2d898847d04b7d6c830b00f74b3f28a237fa.invoke(Unknown Source)\r\n    at org.jboss.resteasy.reactive.server.handlers.InvocationHandler.handle(InvocationHandler.java:29)\r\n    at io.quarkus.resteasy.reactive.server.runtime.QuarkusResteasyReactiveRequestContext.invokeHandler(QuarkusResteasyReactiveRequestContext.java:141)\r\n    at org.jboss.resteasy.reactive.common.core.AbstractResteasyReactiveContext.run(AbstractResteasyReactiveContext.java:145)\r\n    at org.jboss.resteasy.reactive.server.vertx.VertxResteasyReactiveRequestContext$1$1.handle(VertxResteasyReactiveRequestContext.java:78)\r\n    at org.jboss.resteasy.reactive.server.vertx.VertxResteasyReactiveRequestContext$1$1.handle(VertxResteasyReactiveRequestContext.java:75)\r\n    at io.vertx.core.impl.ContextInternal.dispatch(ContextInternal.java:264)\r\n    at io.vertx.core.impl.ContextInternal.dispatch(ContextInternal.java:246)\r\n    at io.vertx.core.impl.EventLoopContext.lambda$runOnContext$0(EventLoopContext.java:43)\r\n    at io.netty.util.concurrent.AbstractEventExecutor.runTask(AbstractEventExecutor.java:174)\r\n    at io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:167)\r\n    at io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:470)\r\n    at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:566)\r\n    at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)\r\n    at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\r\n    at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\r\n    at java.base@17.0.8/java.lang.Thread.run(Thread.java:833)\r\n    at org.graalvm.nativeimage.builder/com.oracle.svm.core.thread.PlatformThreads.threadStartRoutine(PlatformThreads.java:807)\r\n    at org.graalvm.nativeimage.builder/com.oracle.svm.core.posix.thread.PosixPlatformThreads.pthreadStartRoutine(PosixPlatformThreads.java:210)\r\n    Suppressed: ExceptionConverter: java.io.IOException: The document has no pages.\r\nCaused by: java.lang.RuntimeException: java.io.IOException: font-fallback/LiberationSans-Regular.ttf not found as file or resource.\r\n    at com.lowagie.text.pdf.PdfChunk.&lt;init&gt;(PdfChunk.java:222)\r\n    at com.lowagie.text.pdf.PdfDocument.add(PdfDocument.java:477)\r\n    ... 36 more\r\nCaused by: java.io.IOException: font-fallback/LiberationSans-Regular.ttf not found as file or resource.\r\n    at com.lowagie.text.pdf.RandomAccessFileOrArray.&lt;init&gt;(RandomAccessFileOrArray.java:117)\r\n    at com.lowagie.text.pdf.TrueTypeFont.process(TrueTypeFont.java:641)\r\n    at com.lowagie.text.pdf.TrueTypeFontUnicode.&lt;init&gt;(TrueTypeFontUnicode.java:104)\r\n    at com.lowagie.text.pdf.BaseFont.createFont(BaseFont.java:850)\r\n    at com.lowagie.text.pdf.BaseFont.createFont(BaseFont.java:738)\r\n    at com.lowagie.text.pdf.BaseFont.createFont(BaseFont.java:516)\r\n    at com.lowagie.text.pdf.PdfChunk.&lt;init&gt;(PdfChunk.java:219)\r\n    ... 37 more\r\n```\r\n\r\nThe library uses Liberation Sans as a fallback/default font for a lot of non-text symbols. Instead of using the preinstalled font, it generates it&#39;s own font object from a static resource inside the library (font-fallback/LiberationSans-Regular.ttf).\r\nThis file isn&#39;t included in the build process and therefore can&#39;t be found after the native build.\r\n\r\nIs there a way to include resources of a dependency? Including resources in quarkus is described here https://quarkus.io/guides/writing-native-applications-tips#including-resources, but imo this can only be used to include project-owned resources. ","title":"Quarkus: Dependency can&#39;t find resources","body":"<p>I'm trying to generate a PDF in my Quarkus application using <a href=\"https://github.com/LibrePDF/OpenPDF\" rel=\"nofollow noreferrer\">https://github.com/LibrePDF/OpenPDF</a>.\nLocally everything works fine, but after building the application I get the following exception:</p>\n<pre><code>2023-11-20 08:32:57,631 ERROR [io.qua.ver.htt.run.QuarkusErrorHandler] (vert.x-eventloop-thread-1) HTTP Request to /api/v1/xxx/xxx failed, error id: 87b2b3dc-20d7-47fe-9185-ad552db16f1d-1: com.lowagie.text.DocumentException: java.lang.RuntimeException: java.io.IOException: font-fallback/LiberationSans-Regular.ttf not found as file or resource.\n    at com.lowagie.text.pdf.PdfDocument.add(PdfDocument.java:805)\n    at com.lowagie.text.Document.add(Document.java:303)\n    at xxx.pdf.xxx.addSpacer(xxx.java:54)\n    at xxx.xxx.service.xxx.generatePdf(xxx.java:20)\n    at xxx.xxx.service.xxx_ClientProxy.generatePdf(Unknown Source)\n    at xxx.xxx.web.xxxResource.xxx(xxxResource.java:34)\n    at xxx.xxx.web.xxxResource_Subclass.xxx$$superforward(Unknown Source)\n    at xxx.xxx.web.xxxResource_Subclass$$function$$1.apply(Unknown Source)\n    at io.quarkus.arc.impl.AroundInvokeInvocationContext.proceed(AroundInvokeInvocationContext.java:73)\n    at io.quarkus.arc.impl.AroundInvokeInvocationContext.proceed(AroundInvokeInvocationContext.java:62)\n    at io.quarkus.hibernate.validator.runtime.interceptor.AbstractMethodValidationInterceptor.validateMethodInvocation(AbstractMethodValidationInterceptor.java:71)\n    at io.quarkus.hibernate.validator.runtime.jaxrs.ResteasyReactiveEndPointValidationInterceptor.validateMethodInvocation(ResteasyReactiveEndPointValidationInterceptor.java:21)\n    at io.quarkus.hibernate.validator.runtime.jaxrs.ResteasyReactiveEndPointValidationInterceptor_Bean.intercept(Unknown Source)\n    at io.quarkus.arc.impl.InterceptorInvocation.invoke(InterceptorInvocation.java:42)\n    at io.quarkus.arc.impl.AroundInvokeInvocationContext.perform(AroundInvokeInvocationContext.java:30)\n    at io.quarkus.arc.impl.InvocationContexts.performAroundInvoke(InvocationContexts.java:27)\n    at xxx.xxx.web.xxxResource_Subclass.xxx(Unknown Source)\n    at xxx.xxx.web.xxxResource_ClientProxy.xxx(Unknown Source)\n    at xxx.xxx.web.xxxResource$quarkusrestinvoker$xxx_c98f2d898847d04b7d6c830b00f74b3f28a237fa.invoke(Unknown Source)\n    at org.jboss.resteasy.reactive.server.handlers.InvocationHandler.handle(InvocationHandler.java:29)\n    at io.quarkus.resteasy.reactive.server.runtime.QuarkusResteasyReactiveRequestContext.invokeHandler(QuarkusResteasyReactiveRequestContext.java:141)\n    at org.jboss.resteasy.reactive.common.core.AbstractResteasyReactiveContext.run(AbstractResteasyReactiveContext.java:145)\n    at org.jboss.resteasy.reactive.server.vertx.VertxResteasyReactiveRequestContext$1$1.handle(VertxResteasyReactiveRequestContext.java:78)\n    at org.jboss.resteasy.reactive.server.vertx.VertxResteasyReactiveRequestContext$1$1.handle(VertxResteasyReactiveRequestContext.java:75)\n    at io.vertx.core.impl.ContextInternal.dispatch(ContextInternal.java:264)\n    at io.vertx.core.impl.ContextInternal.dispatch(ContextInternal.java:246)\n    at io.vertx.core.impl.EventLoopContext.lambda$runOnContext$0(EventLoopContext.java:43)\n    at io.netty.util.concurrent.AbstractEventExecutor.runTask(AbstractEventExecutor.java:174)\n    at io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:167)\n    at io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:470)\n    at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:566)\n    at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)\n    at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\n    at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\n    at java.base@17.0.8/java.lang.Thread.run(Thread.java:833)\n    at org.graalvm.nativeimage.builder/com.oracle.svm.core.thread.PlatformThreads.threadStartRoutine(PlatformThreads.java:807)\n    at org.graalvm.nativeimage.builder/com.oracle.svm.core.posix.thread.PosixPlatformThreads.pthreadStartRoutine(PosixPlatformThreads.java:210)\n    Suppressed: ExceptionConverter: java.io.IOException: The document has no pages.\nCaused by: java.lang.RuntimeException: java.io.IOException: font-fallback/LiberationSans-Regular.ttf not found as file or resource.\n    at com.lowagie.text.pdf.PdfChunk.&lt;init&gt;(PdfChunk.java:222)\n    at com.lowagie.text.pdf.PdfDocument.add(PdfDocument.java:477)\n    ... 36 more\nCaused by: java.io.IOException: font-fallback/LiberationSans-Regular.ttf not found as file or resource.\n    at com.lowagie.text.pdf.RandomAccessFileOrArray.&lt;init&gt;(RandomAccessFileOrArray.java:117)\n    at com.lowagie.text.pdf.TrueTypeFont.process(TrueTypeFont.java:641)\n    at com.lowagie.text.pdf.TrueTypeFontUnicode.&lt;init&gt;(TrueTypeFontUnicode.java:104)\n    at com.lowagie.text.pdf.BaseFont.createFont(BaseFont.java:850)\n    at com.lowagie.text.pdf.BaseFont.createFont(BaseFont.java:738)\n    at com.lowagie.text.pdf.BaseFont.createFont(BaseFont.java:516)\n    at com.lowagie.text.pdf.PdfChunk.&lt;init&gt;(PdfChunk.java:219)\n    ... 37 more\n</code></pre>\n<p>The library uses Liberation Sans as a fallback/default font for a lot of non-text symbols. Instead of using the preinstalled font, it generates it's own font object from a static resource inside the library (font-fallback/LiberationSans-Regular.ttf).\nThis file isn't included in the build process and therefore can't be found after the native build.</p>\n<p>Is there a way to include resources of a dependency? Including resources in quarkus is described here <a href=\"https://quarkus.io/guides/writing-native-applications-tips#including-resources\" rel=\"nofollow noreferrer\">https://quarkus.io/guides/writing-native-applications-tips#including-resources</a>, but imo this can only be used to include project-owned resources.</p>\n"},{"tags":["java","ssl","java-7","arcgis","arcgis-server"],"comments":[{"owner":{"account_id":4576002,"reputation":2400,"user_id":3715151,"accept_rate":68,"display_name":"Daniel"},"score":4,"creation_date":1448305120,"post_id":14149545,"comment_id":55521005,"body_markdown":"Bumped into this exception when using 512-bit RSA keys. My `java.security` file has `jdk.certpath.disabledAlgorithms=MD2, RSA keySize &lt; 1024`. I&#39;m using OpenJDK 7.","body":"Bumped into this exception when using 512-bit RSA keys. My <code>java.security</code> file has <code>jdk.certpath.disabledAlgorithms=MD2, RSA keySize &lt; 1024</code>. I&#39;m using OpenJDK 7."}],"answers":[{"tags":[],"owner":{"account_id":1873804,"reputation":29,"user_id":1722806,"display_name":"snlpnstslocn"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1358241493,"creation_date":1358241493,"answer_id":14334434,"question_id":14149545,"body_markdown":"this is more likely happening because somewhere along your certificate chain you have a certificate, more likely an old root, which is still signed with the MD2RSA algorythm.\r\n\r\nYou need to locate it into your certificate store and delete it.\r\n\r\nThen get back to your certification authority and ask them for then new root.\r\n\r\nIt will more likely be the same root with the same validity period but it has been recertified with SHA1RSA.\r\n\r\nHope this help.\r\n\r\n","title":"java.security.cert.CertificateException: Certificates does not conform to algorithm constraints","body":"<p>this is more likely happening because somewhere along your certificate chain you have a certificate, more likely an old root, which is still signed with the MD2RSA algorythm.</p>\n\n<p>You need to locate it into your certificate store and delete it.</p>\n\n<p>Then get back to your certification authority and ask them for then new root.</p>\n\n<p>It will more likely be the same root with the same validity period but it has been recertified with SHA1RSA.</p>\n\n<p>Hope this help.</p>\n"},{"comments":[{"owner":{"account_id":4892,"reputation":28992,"user_id":7581,"accept_rate":84,"display_name":"itsadok"},"score":0,"creation_date":1389161553,"post_id":20931663,"comment_id":31537298,"body_markdown":"Could you check out my (very similar) [question](http://stackoverflow.com/q/20988183/7581)?","body":"Could you check out my (very similar) <a href=\"http://stackoverflow.com/q/20988183/7581\">question</a>?"},{"owner":{"account_id":3058717,"reputation":182,"user_id":2591854,"accept_rate":75,"display_name":"user2591854"},"score":7,"creation_date":1453344247,"post_id":20931663,"comment_id":57564145,"body_markdown":"Not only was the openssl s_client ... command incredibly useful, but the solution to my 6 hours of pain and suffering was the X509ExtendedTrustManager change.","body":"Not only was the openssl s_client ... command incredibly useful, but the solution to my 6 hours of pain and suffering was the X509ExtendedTrustManager change."},{"owner":{"account_id":1522873,"reputation":146,"user_id":1422072,"display_name":"Gianluca Greco"},"score":6,"creation_date":1477558421,"post_id":20931663,"comment_id":67819095,"body_markdown":"Change to _X509ExtendedTrustManager_ is the best solution ever. Thank you so much.","body":"Change to <i>X509ExtendedTrustManager</i> is the best solution ever. Thank you so much."}],"tags":[],"owner":{"account_id":190269,"reputation":18134,"user_id":430128,"accept_rate":78,"display_name":"Raman"},"comment_count":3,"down_vote_count":0,"up_vote_count":54,"is_accepted":false,"score":54,"last_activity_date":1595960872,"creation_date":1388911311,"answer_id":20931663,"question_id":14149545,"body_markdown":"Background\r\n----------\r\n\r\nMD2 was widely recognized as insecure and thus disabled in Java in version JDK 6u17 (see release notes http://www.oracle.com/technetwork/java/javase/6u17-141447.html, &quot;Disable MD2 in certificate chain validation&quot;), as well as JDK 7, as per the configuration you pointed out in `java.security`.\r\n\r\nVerisign was using a Class 3 root certificate with the `md2WithRSAEncryption` signature algorithm (serial `70:ba:e4:1d:10:d9:29:34:b6:38:ca:7b:03:cc:ba:bf`), but deprecated it and replaced it with another certificate with the same key and name, but signed with algorithm `sha1WithRSAEncryption`. However, some servers are still sending the old MD2 signed certificate during the SSL handshake (ironically, I ran into this problem with a server run by Verisign!).\r\n\r\nYou can verify that this is the case by [getting the certificate chain][1] from the server and examining it:\r\n\r\n`openssl s_client -showcerts -connect &lt;server&gt;:&lt;port&gt;`\r\n\r\nRecent versions of the JDK (e.g. 6u21 and all released versions of 7) should [resolve][2] this issue by automatically removing certs with the same issuer and public key as a trusted anchor (in cacerts by default).\r\n\r\nIf you still have this issue with newer JDKs\r\n--------------------------------------------\r\n\r\nCheck if you have a custom trust manager implementing the older `X509TrustManager` interface. JDK 7+ is supposed to be compatible with this interface, however based on my investigation when the trust manager implements `X509TrustManager` rather than the newer `X509ExtendedTrustManager` ([docs][3]), the JDK uses its own wrapper (`AbstractTrustManagerWrapper`) and somehow bypasses the internal fix for this issue.\r\n\r\nThe solution is to:\r\n\r\n 1. use the default trust manager, or\r\n\r\n 1. modify your custom trust manager to extend `X509ExtendedTrustManager` directly (a simple change).\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/7885785/using-openssl-to-get-the-certificate-from-a-server\r\n  [2]: http://bugs.java.com/view_bug.do?bug_id=6948803\r\n  [3]: http://docs.oracle.com/javase/7/docs/technotes/guides/security/jsse/JSSERefGuide.html#X509ExtendedTrustManager","title":"java.security.cert.CertificateException: Certificates does not conform to algorithm constraints","body":"<h2>Background</h2>\n<p>MD2 was widely recognized as insecure and thus disabled in Java in version JDK 6u17 (see release notes <a href=\"http://www.oracle.com/technetwork/java/javase/6u17-141447.html\" rel=\"nofollow noreferrer\">http://www.oracle.com/technetwork/java/javase/6u17-141447.html</a>, &quot;Disable MD2 in certificate chain validation&quot;), as well as JDK 7, as per the configuration you pointed out in <code>java.security</code>.</p>\n<p>Verisign was using a Class 3 root certificate with the <code>md2WithRSAEncryption</code> signature algorithm (serial <code>70:ba:e4:1d:10:d9:29:34:b6:38:ca:7b:03:cc:ba:bf</code>), but deprecated it and replaced it with another certificate with the same key and name, but signed with algorithm <code>sha1WithRSAEncryption</code>. However, some servers are still sending the old MD2 signed certificate during the SSL handshake (ironically, I ran into this problem with a server run by Verisign!).</p>\n<p>You can verify that this is the case by <a href=\"https://stackoverflow.com/questions/7885785/using-openssl-to-get-the-certificate-from-a-server\">getting the certificate chain</a> from the server and examining it:</p>\n<p><code>openssl s_client -showcerts -connect &lt;server&gt;:&lt;port&gt;</code></p>\n<p>Recent versions of the JDK (e.g. 6u21 and all released versions of 7) should <a href=\"http://bugs.java.com/view_bug.do?bug_id=6948803\" rel=\"nofollow noreferrer\">resolve</a> this issue by automatically removing certs with the same issuer and public key as a trusted anchor (in cacerts by default).</p>\n<h2>If you still have this issue with newer JDKs</h2>\n<p>Check if you have a custom trust manager implementing the older <code>X509TrustManager</code> interface. JDK 7+ is supposed to be compatible with this interface, however based on my investigation when the trust manager implements <code>X509TrustManager</code> rather than the newer <code>X509ExtendedTrustManager</code> (<a href=\"http://docs.oracle.com/javase/7/docs/technotes/guides/security/jsse/JSSERefGuide.html#X509ExtendedTrustManager\" rel=\"nofollow noreferrer\">docs</a>), the JDK uses its own wrapper (<code>AbstractTrustManagerWrapper</code>) and somehow bypasses the internal fix for this issue.</p>\n<p>The solution is to:</p>\n<ol>\n<li><p>use the default trust manager, or</p>\n</li>\n<li><p>modify your custom trust manager to extend <code>X509ExtendedTrustManager</code> directly (a simple change).</p>\n</li>\n</ol>\n"},{"comments":[{"owner":{"account_id":354383,"reputation":879,"user_id":692692,"accept_rate":80,"display_name":"Vish"},"score":0,"creation_date":1470682088,"post_id":35157419,"comment_id":65038380,"body_markdown":"is there a way in code to override same in apache 4.4","body":"is there a way in code to override same in apache 4.4"},{"owner":{"account_id":3377022,"reputation":11135,"user_id":2834978,"display_name":"LMC"},"score":0,"creation_date":1470765328,"post_id":35157419,"comment_id":65079035,"body_markdown":"not sure but looks related to SSLCipherSuite Directive. Take a look here https://httpd.apache.org/docs/current/mod/mod_ssl.html. Look for this string: RC4-SHA:AES128-SHA:HIGH:MEDIUM:!aNULL:!MD5","body":"not sure but looks related to SSLCipherSuite Directive. Take a look here <a href=\"https://httpd.apache.org/docs/current/mod/mod_ssl.html\" rel=\"nofollow noreferrer\">httpd.apache.org/docs/current/mod/mod_ssl.html</a>. Look for this string: RC4-SHA:AES128-SHA:HIGH:MEDIUM:!aNULL:!MD5"},{"owner":{"account_id":5167086,"reputation":655,"user_id":4136745,"display_name":"sify"},"score":0,"creation_date":1524713606,"post_id":35157419,"comment_id":87084916,"body_markdown":"change doesn&#39;t work for me, I had to comment out these two lines","body":"change doesn&#39;t work for me, I had to comment out these two lines"}],"tags":[],"owner":{"account_id":3377022,"reputation":11135,"user_id":2834978,"display_name":"LMC"},"comment_count":3,"down_vote_count":0,"up_vote_count":28,"is_accepted":false,"score":28,"last_activity_date":1532705703,"creation_date":1454426853,"answer_id":35157419,"question_id":14149545,"body_markdown":"Eclipse failed to connect to SVN https repositories  (should also apply to any app using SSL/TLS).\r\n\r\nsvn: E175002: Connection has been shutdown: javax.net.ssl.SSLHandshakeException: java.security.cert.CertificateException: Certificates does not conform to algorithm constraints\r\n\r\n\r\nThe issue was caused by latest Java 8 OpenJDK update that disabled MD5 related algorithms. As a workaround until new certificates are issued (if ever), change the following keys at java.security file\r\n\r\n&gt; **WARNING**  \r\nKeep in mind that this could have security implications as disabled algorithms are considered weak.\r\nAs an alternative, the *workaround* can be applied on a JVM basis by a command line option to use an external *java.security* file with this changes, e.g.:  \r\n`java -Djava.security.properties=/etc/sysconfig/noMD5.java.security`  \r\nFor *Eclipse*, add a line on *eclipse.ini* below *-vmargs*  \r\n`-Djava.security.properties=/etc/sysconfig/noMD5.java.security`\r\n\r\n# original keys\r\n    jdk.certpath.disabledAlgorithms=MD2, MD5, RSA keySize &lt; 1024\r\n    jdk.tls.disabledAlgorithms=SSLv3, RC4, MD5withRSA, DH keySize &lt; 768\r\n\r\n# change to\r\n    jdk.certpath.disabledAlgorithms=MD2, RSA keySize &lt; 1024\r\n    jdk.tls.disabledAlgorithms=SSLv3, RC4, DH keySize &lt; 768\r\n\r\njava.security file is located in linux 64 at\r\n/usr/lib64/jvm/java/jre/lib/security/java.security","title":"java.security.cert.CertificateException: Certificates does not conform to algorithm constraints","body":"<p>Eclipse failed to connect to SVN https repositories  (should also apply to any app using SSL/TLS).</p>\n\n<p>svn: E175002: Connection has been shutdown: javax.net.ssl.SSLHandshakeException: java.security.cert.CertificateException: Certificates does not conform to algorithm constraints</p>\n\n<p>The issue was caused by latest Java 8 OpenJDK update that disabled MD5 related algorithms. As a workaround until new certificates are issued (if ever), change the following keys at java.security file</p>\n\n<blockquote>\n  <p><strong>WARNING</strong><br>\n  Keep in mind that this could have security implications as disabled algorithms are considered weak.\n  As an alternative, the <em>workaround</em> can be applied on a JVM basis by a command line option to use an external <em>java.security</em> file with this changes, e.g.:<br>\n  <code>java -Djava.security.properties=/etc/sysconfig/noMD5.java.security</code><br>\n  For <em>Eclipse</em>, add a line on <em>eclipse.ini</em> below <em>-vmargs</em><br>\n  <code>-Djava.security.properties=/etc/sysconfig/noMD5.java.security</code></p>\n</blockquote>\n\n<h1>original keys</h1>\n\n<pre><code>jdk.certpath.disabledAlgorithms=MD2, MD5, RSA keySize &lt; 1024\njdk.tls.disabledAlgorithms=SSLv3, RC4, MD5withRSA, DH keySize &lt; 768\n</code></pre>\n\n<h1>change to</h1>\n\n<pre><code>jdk.certpath.disabledAlgorithms=MD2, RSA keySize &lt; 1024\njdk.tls.disabledAlgorithms=SSLv3, RC4, DH keySize &lt; 768\n</code></pre>\n\n<p>java.security file is located in linux 64 at\n/usr/lib64/jvm/java/jre/lib/security/java.security</p>\n"},{"comments":[{"owner":{"account_id":5629922,"reputation":1670,"user_id":4457155,"display_name":"Lord Nighton"},"score":0,"creation_date":1487848914,"post_id":41749959,"comment_id":71974034,"body_markdown":"Got a bit proper solution, than this ad-hoc one :-) \nIn our case `hybris` works with a weak certificate (and is started at Java 7 and behaves as a server from architectural point of view). So, to fix this trouble I will suggest you to read a bit more about this trouble here (https://www.sslshopper.com/article-how-to-create-a-self-signed-certificate-using-java-keytool.html). An only thing you need to do is to generate a new `keystore` (use **2048** bits key to generate a certificate, its **important**) file and replace an old one. And finally it works just fine.","body":"Got a bit proper solution, than this ad-hoc one :-)  In our case <code>hybris</code> works with a weak certificate (and is started at Java 7 and behaves as a server from architectural point of view). So, to fix this trouble I will suggest you to read a bit more about this trouble here (<a href=\"https://www.sslshopper.com/article-how-to-create-a-self-signed-certificate-using-java-keytool.html\" rel=\"nofollow noreferrer\">sslshopper.com/&hellip;</a>). An only thing you need to do is to generate a new <code>keystore</code> (use <b>2048</b> bits key to generate a certificate, its <b>important</b>) file and replace an old one. And finally it works just fine."}],"tags":[],"owner":{"account_id":5629922,"reputation":1670,"user_id":4457155,"display_name":"Lord Nighton"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1484853558,"creation_date":1484853558,"answer_id":41749959,"question_id":14149545,"body_markdown":"colleagues.\r\n\r\nI have faced with this trouble during a development of automation tests for our REST API. JDK 7_80 was installed at my machine only. Before I installed JDK 8, everything worked just fine and I had a possibility to obtain OAuth 2.0 tokens with a `JMeter`. After I installed JDK 8, the nightmare with `Certificates does not conform to algorithm constraints` began. \r\n\r\nBoth JMeter and Serenity did not have a possibility to obtain a token. JMeter uses the JDK library to make the request. The library just raises an exception when the library call is made to connect to endpoints that use it, ignoring the request.\r\n\r\nThe next thing was to *comment* all the lines dedicated to disabledAlgorithms in *ALL* java.security files. \r\n\r\n    C:\\Java\\jre7\\lib\\security\\java.security\r\n    C:\\Java\\jre8\\lib\\security\\java.security\r\n    C:\\Java\\jdk8\\jre\\lib\\security\\java.security\r\n    C:\\Java\\jdk7\\jre\\lib\\security\\java.security\r\n\r\nThen it started to work at last. I know, that&#39;s a brute force approach, but it was the most simple way to fix it.\r\n\r\n    # jdk.tls.disabledAlgorithms=SSLv3, RC4, MD5withRSA, DH keySize &lt; 768\r\n    # jdk.certpath.disabledAlgorithms=MD2, MD5, RSA keySize &lt; 1024","title":"java.security.cert.CertificateException: Certificates does not conform to algorithm constraints","body":"<p>colleagues.</p>\n\n<p>I have faced with this trouble during a development of automation tests for our REST API. JDK 7_80 was installed at my machine only. Before I installed JDK 8, everything worked just fine and I had a possibility to obtain OAuth 2.0 tokens with a <code>JMeter</code>. After I installed JDK 8, the nightmare with <code>Certificates does not conform to algorithm constraints</code> began. </p>\n\n<p>Both JMeter and Serenity did not have a possibility to obtain a token. JMeter uses the JDK library to make the request. The library just raises an exception when the library call is made to connect to endpoints that use it, ignoring the request.</p>\n\n<p>The next thing was to <em>comment</em> all the lines dedicated to disabledAlgorithms in <em>ALL</em> java.security files. </p>\n\n<pre><code>C:\\Java\\jre7\\lib\\security\\java.security\nC:\\Java\\jre8\\lib\\security\\java.security\nC:\\Java\\jdk8\\jre\\lib\\security\\java.security\nC:\\Java\\jdk7\\jre\\lib\\security\\java.security\n</code></pre>\n\n<p>Then it started to work at last. I know, that's a brute force approach, but it was the most simple way to fix it.</p>\n\n<pre><code># jdk.tls.disabledAlgorithms=SSLv3, RC4, MD5withRSA, DH keySize &lt; 768\n# jdk.certpath.disabledAlgorithms=MD2, MD5, RSA keySize &lt; 1024\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1345957,"reputation":769,"user_id":1286717,"display_name":"Alexander Amelkin"},"score":0,"creation_date":1499076891,"post_id":42798363,"comment_id":76744175,"body_markdown":"This is the only solution that helped me fight &quot;Certificates does not conform to algorithm constraints&quot; exception with DavMail. Had to modify /usr/bin/davmail script to add that option.","body":"This is the only solution that helped me fight &quot;Certificates does not conform to algorithm constraints&quot; exception with DavMail. Had to modify /usr/bin/davmail script to add that option."}],"tags":[],"owner":{"account_id":7445,"reputation":62274,"user_id":12943,"accept_rate":84,"display_name":"Bill K"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1489533811,"creation_date":1489533811,"answer_id":42798363,"question_id":14149545,"body_markdown":"We have this problem with one database we don&#39;t control and it requried another solution (The ones listed here didn&#39;t work).  For mine I needed:\r\n\r\n    -Djdk.tls.client.protocols=&quot;TLSv1,TLSv1.1&quot;\r\n\r\nI think in my case it had to do with forcing a certain order.","title":"java.security.cert.CertificateException: Certificates does not conform to algorithm constraints","body":"<p>We have this problem with one database we don't control and it requried another solution (The ones listed here didn't work).  For mine I needed:</p>\n\n<pre><code>-Djdk.tls.client.protocols=\"TLSv1,TLSv1.1\"\n</code></pre>\n\n<p>I think in my case it had to do with forcing a certain order.</p>\n"},{"tags":[],"owner":{"account_id":2251443,"reputation":627,"user_id":2656881,"display_name":"menkow"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1522419335,"creation_date":1522419335,"answer_id":49576075,"question_id":14149545,"body_markdown":"I have this issue in SOAP-UI and no one solution above dont helped me.\r\n\r\nProper solution for me was to add\r\n\r\n&gt; -Dsoapui.sslcontext.algorithm=TLSv1 \r\n\r\nin vmoptions file (in my case it was ...\\SoapUI-5.4.0\\bin\\SoapUI-5.4.0.vmoptions)","title":"java.security.cert.CertificateException: Certificates does not conform to algorithm constraints","body":"<p>I have this issue in SOAP-UI and no one solution above dont helped me.</p>\n\n<p>Proper solution for me was to add</p>\n\n<blockquote>\n  <p>-Dsoapui.sslcontext.algorithm=TLSv1 </p>\n</blockquote>\n\n<p>in vmoptions file (in my case it was ...\\SoapUI-5.4.0\\bin\\SoapUI-5.4.0.vmoptions)</p>\n"},{"tags":[],"owner":{"account_id":4040918,"reputation":727,"user_id":3323802,"display_name":"Joonas Vali"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1522748934,"creation_date":1522748934,"answer_id":49627043,"question_id":14149545,"body_markdown":"Since this result is the first that Google returns for this error, I&#39;ll just add that if anyone looks for way do change java security settings without changing the global file java.security (for example you need to run some tests), you can just provide an overriding security file by JVM parameter \r\n**-Djava.security.properties=your/file/path** in which you can enable the necessary algorithms by overriding the disablements.","title":"java.security.cert.CertificateException: Certificates does not conform to algorithm constraints","body":"<p>Since this result is the first that Google returns for this error, I'll just add that if anyone looks for way do change java security settings without changing the global file java.security (for example you need to run some tests), you can just provide an overriding security file by JVM parameter \n<strong>-Djava.security.properties=your/file/path</strong> in which you can enable the necessary algorithms by overriding the disablements.</p>\n"},{"comments":[{"owner":{"account_id":91014,"reputation":420,"user_id":250166,"accept_rate":67,"display_name":"ElectronicBlacksmith"},"score":1,"creation_date":1528982979,"post_id":50611461,"comment_id":88720015,"body_markdown":"I was having this issue with Dbeaver and MS SQL JDBC 6.0 - 6.4 .  This solution worked for me and setting -Djdk.tls.client.protocols=TLSv1 did not.","body":"I was having this issue with Dbeaver and MS SQL JDBC 6.0 - 6.4 .  This solution worked for me and setting -Djdk.tls.client.protocols=TLSv1 did not."},{"owner":{"account_id":249996,"reputation":1268,"user_id":526428,"accept_rate":46,"display_name":"paulmdavies"},"score":0,"creation_date":1557416499,"post_id":50611461,"comment_id":98766219,"body_markdown":"I was having problems on Fedora 28 with certificates with RSA keys of less than 1024 being rejected - I removed that exception from the `/etc/crypto-policies/back-ends/java.config` and now it works fine. Thanks.","body":"I was having problems on Fedora 28 with certificates with RSA keys of less than 1024 being rejected - I removed that exception from the <code>&#47;etc&#47;crypto-policies&#47;back-ends&#47;java.config</code> and now it works fine. Thanks."},{"owner":{"account_id":32594,"reputation":3657,"user_id":90563,"accept_rate":88,"display_name":"Janne"},"score":0,"creation_date":1566475751,"post_id":50611461,"comment_id":101673339,"body_markdown":"Thank you, this fixed it for me on Fedora 30.","body":"Thank you, this fixed it for me on Fedora 30."},{"owner":{"account_id":4236867,"reputation":1391,"user_id":3648491,"display_name":"Onnonymous"},"score":0,"creation_date":1614854521,"post_id":50611461,"comment_id":117514711,"body_markdown":"I ran into this on Centos 8 and RHEL 8, that now also have crypto-policies.","body":"I ran into this on Centos 8 and RHEL 8, that now also have crypto-policies."}],"tags":[],"owner":{"account_id":426942,"reputation":171,"user_id":4366155,"display_name":"Aleksandar Brankovic"},"comment_count":4,"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1557421674,"creation_date":1527705587,"answer_id":50611461,"question_id":14149545,"body_markdown":"On Fedora 28, just pay attention to the line \r\n\r\n&gt; security.useSystemPropertiesFile=true\r\n\r\nof the `java.security` file, found at:\r\n\r\n&gt; $(dirname $(readlink -f $(which java)))/../lib/security/java.security\r\n\r\nFedora 28 introduced external file of disabledAlgorithms control at \r\n\r\n&gt; /etc/crypto-policies/back-ends/java.config\r\n\r\nYou can edit this external file or you can exclude it from `java.security` by setting\r\n\r\n&gt; security.useSystemPropertiesFile=false","title":"java.security.cert.CertificateException: Certificates does not conform to algorithm constraints","body":"<p>On Fedora 28, just pay attention to the line </p>\n\n<blockquote>\n  <p>security.useSystemPropertiesFile=true</p>\n</blockquote>\n\n<p>of the <code>java.security</code> file, found at:</p>\n\n<blockquote>\n  <p>$(dirname $(readlink -f $(which java)))/../lib/security/java.security</p>\n</blockquote>\n\n<p>Fedora 28 introduced external file of disabledAlgorithms control at </p>\n\n<blockquote>\n  <p>/etc/crypto-policies/back-ends/java.config</p>\n</blockquote>\n\n<p>You can edit this external file or you can exclude it from <code>java.security</code> by setting</p>\n\n<blockquote>\n  <p>security.useSystemPropertiesFile=false</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":1055208,"reputation":1237,"user_id":1058096,"display_name":"dtelaroli"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1529437187,"creation_date":1529437187,"answer_id":50935794,"question_id":14149545,"body_markdown":"Using openjdk-7 inside docker I have mounted a file with the content https://gist.github.com/dtelaroli/7d0831b1d5acc94c80209a5feb4e8f1c#file-jdk-security\r\n\r\n    #Location to mount\r\n    /usr/lib/jvm/java-7-openjdk-amd64/jre/lib/security/java.security\r\n\r\nThanks @luis-mu&#241;oz","title":"java.security.cert.CertificateException: Certificates does not conform to algorithm constraints","body":"<p>Using openjdk-7 inside docker I have mounted a file with the content <a href=\"https://gist.github.com/dtelaroli/7d0831b1d5acc94c80209a5feb4e8f1c#file-jdk-security\" rel=\"nofollow noreferrer\">https://gist.github.com/dtelaroli/7d0831b1d5acc94c80209a5feb4e8f1c#file-jdk-security</a></p>\n\n<pre><code>#Location to mount\n/usr/lib/jvm/java-7-openjdk-amd64/jre/lib/security/java.security\n</code></pre>\n\n<p>Thanks @luis-muÃ±oz</p>\n"},{"tags":[],"owner":{"account_id":8708087,"reputation":11,"user_id":7000165,"display_name":"Valentine Tobah"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1663664840,"creation_date":1663203861,"answer_id":73724570,"question_id":14149545,"body_markdown":"On `redhat el8`, running `openjdk8`. Changing the value of the following property from `true` to `false` \r\n\r\n    security.useSystemPropertiesFile = false\r\n\r\nIn the `java.security` file fixed the above issue for me \r\n\r\n\r\n","title":"java.security.cert.CertificateException: Certificates does not conform to algorithm constraints","body":"<p>On <code>redhat el8</code>, running <code>openjdk8</code>. Changing the value of the following property from <code>true</code> to <code>false</code></p>\n<pre><code>security.useSystemPropertiesFile = false\n</code></pre>\n<p>In the <code>java.security</code> file fixed the above issue for me</p>\n"},{"tags":[],"owner":{"account_id":28911290,"reputation":11,"user_id":22144235,"display_name":"Rushit Chandegara"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700470477,"creation_date":1700470477,"answer_id":77514519,"question_id":14149545,"body_markdown":"To address the SSL handshake error in Java, I undertook the following steps. Initially, I navigated to the Java security configuration file, which can be found by setting the property security.useSystemPropertiesFile to true. Upon locating this file, I identified another critical file located at /etc/crypto-policies/back-ends/java.config.\r\n\r\nIn order to resolve the SSL handshake issue, I specifically focused on the jdk.certpath.disabledAlgorithms property within the java.config file. By modifying this property and removing the SHA-1 algorithm from the list of disabled algorithms, I successfully mitigated the SSL handshake error. This adjustment ensures a more secure and updated cryptographic policy for Java.","title":"java.security.cert.CertificateException: Certificates does not conform to algorithm constraints","body":"<p>To address the SSL handshake error in Java, I undertook the following steps. Initially, I navigated to the Java security configuration file, which can be found by setting the property security.useSystemPropertiesFile to true. Upon locating this file, I identified another critical file located at /etc/crypto-policies/back-ends/java.config.</p>\n<p>In order to resolve the SSL handshake issue, I specifically focused on the jdk.certpath.disabledAlgorithms property within the java.config file. By modifying this property and removing the SHA-1 algorithm from the list of disabled algorithms, I successfully mitigated the SSL handshake error. This adjustment ensures a more secure and updated cryptographic policy for Java.</p>\n"}],"owner":{"account_id":387389,"reputation":611,"user_id":745717,"accept_rate":33,"display_name":"james"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":123680,"favorite_count":0,"down_vote_count":0,"up_vote_count":37,"answer_count":11,"score":37,"last_activity_date":1700470477,"creation_date":1357260048,"question_id":14149545,"body_markdown":"I have a mapping application that can add *ArcGIS 9.3+* base maps given a URL.  One of the URLs that I would like to add is from a customer&#39;s URL and is secured.  My mapping application was using Java 6 before and was able to add the secure URL with no issues.  I now upgraded to Java 7 and am getting a \r\n\r\n    &quot;java.security.cert.CertificateException: Certificates does not conform to algorithm constraints&quot;\r\n\r\nexception.  At first, I believe this to be the case because in Java 7, by default, the `MD2` algorithm to sign SSL certificates is disabled.  You can see this in the java.security file:\r\n\r\n    &quot;jdk.certpath.disabledAlgorithms=MD2&quot;\r\n\r\nBut when I check the `Certification Signature Algorithm` of that URL, it says `SHA-1`.  What is even more strange is if I comment out the `&quot;jdk.certpath.disabledAlgorithms=MD2&quot;` line in the `java.security` file, the URL will work with no issues.  Is `MD2` used somewhere else during the SSL process?  Am I missing something here?\r\n","title":"java.security.cert.CertificateException: Certificates does not conform to algorithm constraints","body":"<p>I have a mapping application that can add <em>ArcGIS 9.3+</em> base maps given a URL.  One of the URLs that I would like to add is from a customer's URL and is secured.  My mapping application was using Java 6 before and was able to add the secure URL with no issues.  I now upgraded to Java 7 and am getting a </p>\n\n<pre><code>\"java.security.cert.CertificateException: Certificates does not conform to algorithm constraints\"\n</code></pre>\n\n<p>exception.  At first, I believe this to be the case because in Java 7, by default, the <code>MD2</code> algorithm to sign SSL certificates is disabled.  You can see this in the java.security file:</p>\n\n<pre><code>\"jdk.certpath.disabledAlgorithms=MD2\"\n</code></pre>\n\n<p>But when I check the <code>Certification Signature Algorithm</code> of that URL, it says <code>SHA-1</code>.  What is even more strange is if I comment out the <code>\"jdk.certpath.disabledAlgorithms=MD2\"</code> line in the <code>java.security</code> file, the URL will work with no issues.  Is <code>MD2</code> used somewhere else during the SSL process?  Am I missing something here?</p>\n"},{"tags":["java","generics"],"comments":[{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1700390190,"post_id":77510415,"comment_id":136646445,"body_markdown":"The easy answer is to use a Provider. Have `Metadata` receive a parameter of type `Provider&lt;T&gt;`, then it can call `provider.get()` to create T instances.","body":"The easy answer is to use a Provider. Have <code>Metadata</code> receive a parameter of type <code>Provider&lt;T&gt;</code>, then it can call <code>provider.get()</code> to create T instances."},{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":1,"creation_date":1700390235,"post_id":77510415,"comment_id":136646451,"body_markdown":"@NoDataFound I know, right? Finding the right dupe target is a lot of work these days","body":"@NoDataFound I know, right? Finding the right dupe target is a lot of work these days"},{"owner":{"account_id":194307,"reputation":13348,"user_id":436559,"accept_rate":82,"display_name":"fluter"},"score":0,"creation_date":1700390861,"post_id":77510415,"comment_id":136646513,"body_markdown":"By `Provider` is it a jdk interface? I only find `java.util.function.Supplier&lt;T&gt;`.","body":"By <code>Provider</code> is it a jdk interface? I only find <code>java.util.function.Supplier&lt;T&gt;</code>."},{"owner":{"account_id":18586978,"reputation":2220,"user_id":15000097,"display_name":"Georgii Lvov"},"score":0,"creation_date":1700392190,"post_id":77510415,"comment_id":136646634,"body_markdown":"I think `Jorn` meant custom interface, which will **provide** you an instance","body":"I think <code>Jorn</code> meant custom interface, which will <b>provide</b> you an instance"},{"owner":{"account_id":18586978,"reputation":2220,"user_id":15000097,"display_name":"Georgii Lvov"},"score":0,"creation_date":1700392779,"post_id":77510415,"comment_id":136646684,"body_markdown":"But you can use `java.util.function.Supplier&lt;T&gt;` indeed","body":"But you can use <code>java.util.function.Supplier&lt;T&gt;</code> indeed"},{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":1,"creation_date":1700392906,"post_id":77510415,"comment_id":136646690,"body_markdown":"What&#39;s in a name :) Yes, Supplier works","body":"What&#39;s in a name :) Yes, Supplier works"},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1700411601,"post_id":77510415,"comment_id":136648401,"body_markdown":"â€œâ€¦creating T require arguments that is passed to the generic class.â€  I gather there are more arguments than just `int type` passed to each constructor, then?","body":"â€œâ€¦creating T require arguments that is passed to the generic class.â€  I gather there are more arguments than just <code>int type</code> passed to each constructor, then?"}],"answers":[{"comments":[{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":1,"creation_date":1700393233,"post_id":77510547,"comment_id":136646719,"body_markdown":"There is no point in passing in a supplier, and then invoking the supplier in the constructor. You may as well have just passed in the instance.","body":"There is no point in passing in a supplier, and then invoking the supplier in the constructor. You may as well have just passed in the instance."},{"owner":{"account_id":18586978,"reputation":2220,"user_id":15000097,"display_name":"Georgii Lvov"},"score":0,"creation_date":1700393454,"post_id":77510547,"comment_id":136646734,"body_markdown":"@AndyTurner, yeah, it&#39;s true...","body":"@AndyTurner, yeah, it&#39;s true..."}],"tags":[],"owner":{"account_id":18586978,"reputation":2220,"user_id":15000097,"display_name":"Georgii Lvov"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1700393659,"creation_date":1700392526,"answer_id":77510547,"question_id":77510415,"body_markdown":"You can immediately pass the instance to the constructor like:\r\n\r\n```\r\npublic Metadata(T t) {\r\n        this.t = t;\r\n}\r\n```\r\nor use  Supplier interface to instantiate an object of the generic type T:\r\n\r\n```\r\nimport java.util.function.Supplier;\r\n\r\npublic class Metadata&lt;T&gt; {\r\n    private T t;\r\n\r\n    public Metadata(Supplier&lt;T&gt; supplier) {\r\n        this.t = supplier.get();\r\n    }\r\n\r\n    public T getT() {\r\n        return t;\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        int type = 1;\r\n\r\n        Metadata&lt;MyDto&gt; metadata = new Metadata&lt;&gt;(() -&gt; new MyDto(type));\r\n\r\n        MyDto result = metadata.getT();\r\n\r\n        System.out.println(result); // MyDto{type=1}\r\n    }\r\n\r\n    static class MyDto {\r\n        private final int type;\r\n\r\n        public MyDto(int type) {\r\n            this.type = type;\r\n        }\r\n\r\n        @Override\r\n        public String toString() {\r\n            return &quot;MyDto{&quot; +\r\n                    &quot;type=&quot; + type +\r\n                    &#39;}&#39;;\r\n        }\r\n    }\r\n}\r\n```","title":"Create object of generic type T","body":"<p>You can immediately pass the instance to the constructor like:</p>\n<pre><code>public Metadata(T t) {\n        this.t = t;\n}\n</code></pre>\n<p>or use  Supplier interface to instantiate an object of the generic type T:</p>\n<pre><code>import java.util.function.Supplier;\n\npublic class Metadata&lt;T&gt; {\n    private T t;\n\n    public Metadata(Supplier&lt;T&gt; supplier) {\n        this.t = supplier.get();\n    }\n\n    public T getT() {\n        return t;\n    }\n\n    public static void main(String[] args) {\n        int type = 1;\n\n        Metadata&lt;MyDto&gt; metadata = new Metadata&lt;&gt;(() -&gt; new MyDto(type));\n\n        MyDto result = metadata.getT();\n\n        System.out.println(result); // MyDto{type=1}\n    }\n\n    static class MyDto {\n        private final int type;\n\n        public MyDto(int type) {\n            this.type = type;\n        }\n\n        @Override\n        public String toString() {\n            return &quot;MyDto{&quot; +\n                    &quot;type=&quot; + type +\n                    '}';\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1692034,"reputation":3196,"user_id":1554195,"display_name":"tquadrat"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700396309,"creation_date":1700395170,"answer_id":77510679,"question_id":77510415,"body_markdown":"The usual approach is to provide the class to the constructor, although providing an instance of `T` or a `Supplier` of `T` would be an option, too.\r\n\r\nTry this:\r\n\r\n```java\r\npublic class Metadata&lt;T&gt; \r\n{\r\n  final private T t;\r\n\r\n  public Metadata( final int type, final Class&lt;T&gt; metadataClass ) \r\n  {\r\n    final var constructor = metadataClass.getConstructor( int.class );\r\n    t = constructor.newInstance( type );\r\n  }\r\n}\r\n```\r\n\r\n**I omitted the complete Error handling!!!** You need to add some `try-catch` or `throws` statements â€¦\r\n\r\nThis approach requires that the constructor of `&lt;T&gt;` is public, and the class `&lt;T&gt;` is in an exposed package of the required module â€“ if you use modules at all.\r\n\r\nThe advantage of the `Supplier` approach is, that is works independent from this, if the supplier can create an instance of `&lt;T&gt;` at all.\r\n\r\n---\r\n\r\nBut what does the `type` argument is doing? Is that type independent from the metadata class? Otherwise it would be obsolete; at least you can set it internally through the constructor of the metadata class. Or you can have just one class, using the `type` as discriminator. ","title":"Create object of generic type T","body":"<p>The usual approach is to provide the class to the constructor, although providing an instance of <code>T</code> or a <code>Supplier</code> of <code>T</code> would be an option, too.</p>\n<p>Try this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Metadata&lt;T&gt; \n{\n  final private T t;\n\n  public Metadata( final int type, final Class&lt;T&gt; metadataClass ) \n  {\n    final var constructor = metadataClass.getConstructor( int.class );\n    t = constructor.newInstance( type );\n  }\n}\n</code></pre>\n<p><strong>I omitted the complete Error handling!!!</strong> You need to add some <code>try-catch</code> or <code>throws</code> statements â€¦</p>\n<p>This approach requires that the constructor of <code>&lt;T&gt;</code> is public, and the class <code>&lt;T&gt;</code> is in an exposed package of the required module â€“ if you use modules at all.</p>\n<p>The advantage of the <code>Supplier</code> approach is, that is works independent from this, if the supplier can create an instance of <code>&lt;T&gt;</code> at all.</p>\n<hr />\n<p>But what does the <code>type</code> argument is doing? Is that type independent from the metadata class? Otherwise it would be obsolete; at least you can set it internally through the constructor of the metadata class. Or you can have just one class, using the <code>type</code> as discriminator.</p>\n"}],"owner":{"account_id":194307,"reputation":13348,"user_id":436559,"accept_rate":82,"display_name":"fluter"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":88,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1700470198,"creation_date":1700390006,"question_id":77510415,"body_markdown":"I&#39;m passing a generic argument to my class, but I wonder how can I create an object of the type `T`?\r\n\r\n    public class Metadata&lt;T&gt; {\r\n        private T t;\r\n        private int type;\r\n        public Metadata(int type) {\r\n            this.type = type;\r\n        }\r\n        public void store() {\r\n            this.t = new T(type); // compile error\r\n        }\r\n    }\r\n\r\nI can&#39;t just pass in an object of `T` because creating T require arguments that is passed to the generic class and it should be created inside the `Metadata` class not outside. How can I fix this?","title":"Create object of generic type T","body":"<p>I'm passing a generic argument to my class, but I wonder how can I create an object of the type <code>T</code>?</p>\n<pre><code>public class Metadata&lt;T&gt; {\n    private T t;\n    private int type;\n    public Metadata(int type) {\n        this.type = type;\n    }\n    public void store() {\n        this.t = new T(type); // compile error\n    }\n}\n</code></pre>\n<p>I can't just pass in an object of <code>T</code> because creating T require arguments that is passed to the generic class and it should be created inside the <code>Metadata</code> class not outside. How can I fix this?</p>\n"},{"tags":["java","spring-boot","spring-security","spring-resource-server"],"comments":[{"owner":{"account_id":24440940,"reputation":3132,"user_id":18364656,"display_name":"Andrei Lisa"},"score":0,"creation_date":1700469842,"post_id":77514456,"comment_id":136653934,"body_markdown":"Hi ! I wrote an answer related to your problem some time ago, just check this [Q/A](https://stackoverflow.com/questions/76852537/endpoint-spring-security-configuration-returning-the-method-cannot-decide-whet/76865442#76865442)","body":"Hi ! I wrote an answer related to your problem some time ago, just check this <a href=\"https://stackoverflow.com/questions/76852537/endpoint-spring-security-configuration-returning-the-method-cannot-decide-whet/76865442#76865442\">Q/A</a>"}],"owner":{"account_id":26289969,"reputation":313,"user_id":19957114,"display_name":"dev-rifaii"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1700481661,"answer_count":0,"score":0,"last_activity_date":1700469696,"creation_date":1700469696,"question_id":77514456,"body_markdown":"I&#39;m migrating from Spring boot 2.5 to 3.1 and I&#39;m having issues getting the security configuration working.\r\n\r\nThis is my current configuration:\r\n\r\n```java\r\n@Configuration\r\npublic class ResourceServerConfig {\r\n\r\n    private static final String[] WHITELISTED_ENDPOINTS = {\r\n        &quot;/docs&quot;,\r\n        &quot;/swagger-ui/**&quot;,\r\n        &quot;/swagger-ui.html&quot;,\r\n        &quot;/swagger-resources/**&quot;,\r\n        &quot;/v2/**&quot;, &quot;/v3/**&quot;,\r\n        &quot;/webjars/**&quot;,\r\n        &quot;/css/corner-ribbon.css&quot;,\r\n        &quot;/actuator/**&quot;,\r\n        &quot;/api/health&quot;,\r\n        &quot;/camunda-welcome/**&quot;,\r\n        &quot;/camunda/**&quot;,\r\n        &quot;/api/engine/**&quot;,\r\n        &quot;/api/admin/**&quot;,\r\n        &quot;/api/cockpit/**&quot;,\r\n        &quot;/app/**&quot;,\r\n        &quot;/lib/**&quot;,\r\n        &quot;/api/tasklist/**&quot;\r\n    };\r\n\r\n    @Bean\r\n    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\r\n        return http\r\n            .csrf(AbstractHttpConfigurer::disable)\r\n            .authorizeHttpRequests(\r\n                authorize -&gt; authorize.requestMatchers(WHITELISTED_ENDPOINTS)\r\n                    .permitAll()\r\n                    .anyRequest()\r\n                    .authenticated())\r\n            .oauth2ResourceServer(oauth2 -&gt; oauth2.jwt(Customizer.withDefaults()))\r\n            .build();\r\n    }\r\n\r\n}\r\n```\r\n\r\nError:\r\n\r\n&gt; org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;securityFilterChain&#39; defined in some.org.security.ResourceServerConfig: Failed to instantiate [org.springframework.security.web.SecurityFilterChain]: Factory method &#39;securityFilterChain&#39; threw exception with message: This method cannot decide whether these patterns are Spring MVC patterns or not. If this endpoint is a Spring MVC endpoint, please use requestMatchers(MvcRequestMatcher); otherwise, please use requestMatchers(AntPathRequestMatcher).\r\n\r\n&gt; This is because there is more than one mappable servlet in your servlet context: {org.glassfish.jersey.servlet.ServletContainer=[/camunda/api/admin/*], org.springframework.web.servlet.DispatcherServlet=[/]}.\r\n\r\nI&#39;m assuming the issue is here:\r\nThe main server is tomcat but the application has jersey config for Camunda rest engine\r\n```java\r\n@Component\r\n@ApplicationPath(&quot;/engine-rest&quot;)\r\npublic class CustomCamundaJerseyResourceConfig extends CamundaJerseyResourceConfig {\r\n    protected void registerCamundaRestResources() {\r\n        super.registerCamundaRestResources();\r\n    }\r\n}\r\n```\r\n\r\nIt was working on spring boot 2.5, any idea how to get it working on 3.1?","title":"Configuring security in Spring boot 3.1","body":"<p>I'm migrating from Spring boot 2.5 to 3.1 and I'm having issues getting the security configuration working.</p>\n<p>This is my current configuration:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\npublic class ResourceServerConfig {\n\n    private static final String[] WHITELISTED_ENDPOINTS = {\n        &quot;/docs&quot;,\n        &quot;/swagger-ui/**&quot;,\n        &quot;/swagger-ui.html&quot;,\n        &quot;/swagger-resources/**&quot;,\n        &quot;/v2/**&quot;, &quot;/v3/**&quot;,\n        &quot;/webjars/**&quot;,\n        &quot;/css/corner-ribbon.css&quot;,\n        &quot;/actuator/**&quot;,\n        &quot;/api/health&quot;,\n        &quot;/camunda-welcome/**&quot;,\n        &quot;/camunda/**&quot;,\n        &quot;/api/engine/**&quot;,\n        &quot;/api/admin/**&quot;,\n        &quot;/api/cockpit/**&quot;,\n        &quot;/app/**&quot;,\n        &quot;/lib/**&quot;,\n        &quot;/api/tasklist/**&quot;\n    };\n\n    @Bean\n    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\n        return http\n            .csrf(AbstractHttpConfigurer::disable)\n            .authorizeHttpRequests(\n                authorize -&gt; authorize.requestMatchers(WHITELISTED_ENDPOINTS)\n                    .permitAll()\n                    .anyRequest()\n                    .authenticated())\n            .oauth2ResourceServer(oauth2 -&gt; oauth2.jwt(Customizer.withDefaults()))\n            .build();\n    }\n\n}\n</code></pre>\n<p>Error:</p>\n<blockquote>\n<p>org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'securityFilterChain' defined in some.org.security.ResourceServerConfig: Failed to instantiate [org.springframework.security.web.SecurityFilterChain]: Factory method 'securityFilterChain' threw exception with message: This method cannot decide whether these patterns are Spring MVC patterns or not. If this endpoint is a Spring MVC endpoint, please use requestMatchers(MvcRequestMatcher); otherwise, please use requestMatchers(AntPathRequestMatcher).</p>\n</blockquote>\n<blockquote>\n<p>This is because there is more than one mappable servlet in your servlet context: {org.glassfish.jersey.servlet.ServletContainer=[/camunda/api/admin/*], org.springframework.web.servlet.DispatcherServlet=[/]}.</p>\n</blockquote>\n<p>I'm assuming the issue is here:\nThe main server is tomcat but the application has jersey config for Camunda rest engine</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Component\n@ApplicationPath(&quot;/engine-rest&quot;)\npublic class CustomCamundaJerseyResourceConfig extends CamundaJerseyResourceConfig {\n    protected void registerCamundaRestResources() {\n        super.registerCamundaRestResources();\n    }\n}\n</code></pre>\n<p>It was working on spring boot 2.5, any idea how to get it working on 3.1?</p>\n"},{"tags":["java","android","firebase"],"comments":[{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1700480218,"post_id":77514387,"comment_id":136655630,"body_markdown":"What have you tried so far? Please edit your question and add the code that doesn&#39;t work the way you expect.","body":"What have you tried so far? Please edit your question and add the code that doesn&#39;t work the way you expect."},{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1700480247,"post_id":77514387,"comment_id":136655638,"body_markdown":"Aside from that, if you understand Kotlin, I think that this [resource](https://medium.com/firebase-tips-tricks/how-to-use-firebase-cloud-messaging-on-android-d92cb4b53cfe) will help. Here is the corresponding [repo](https://github.com/alexmamo/FirebaseCloudMessaging).","body":"Aside from that, if you understand Kotlin, I think that this <a href=\"https://medium.com/firebase-tips-tricks/how-to-use-firebase-cloud-messaging-on-android-d92cb4b53cfe\" rel=\"nofollow noreferrer\">resource</a> will help. Here is the corresponding <a href=\"https://github.com/alexmamo/FirebaseCloudMessaging\" rel=\"nofollow noreferrer\">repo</a>."}],"owner":{"account_id":21919794,"reputation":1,"user_id":16203174,"display_name":"Efeoghene Otega"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700468966,"creation_date":1700468966,"question_id":77514387,"body_markdown":"so I have what may be a simple problem. I want to connect to my firebase database and listen for any changes so I can show a notification to the user, like for example, you reboot your phone and do not have to open an app, but you can still receive notifications from the app like when a chat comes in. I tried the boot completed receiver but it didn&#39;t really work, and I can&#39;t seem to get the network change receiver to work when the device is restarted. I have the code to access my database and show notifications. I just need a way to invoke the service that accesses the database and shows notification regardless of whether the device was rebooted or not.\r\nI am using java.\r\nThanks a lot\r\n\r\nTried boot completed receiver, didn&#39;t work, guess due to android changes from Android 8 or 10.\r\nTried network connection receiver, didn&#39;t work when device is rebooted","title":"How to connect to firebase database when android device is restarted","body":"<p>so I have what may be a simple problem. I want to connect to my firebase database and listen for any changes so I can show a notification to the user, like for example, you reboot your phone and do not have to open an app, but you can still receive notifications from the app like when a chat comes in. I tried the boot completed receiver but it didn't really work, and I can't seem to get the network change receiver to work when the device is restarted. I have the code to access my database and show notifications. I just need a way to invoke the service that accesses the database and shows notification regardless of whether the device was rebooted or not.\nI am using java.\nThanks a lot</p>\n<p>Tried boot completed receiver, didn't work, guess due to android changes from Android 8 or 10.\nTried network connection receiver, didn't work when device is rebooted</p>\n"},{"tags":["java","selenium-webdriver","selenium-chromedriver","selenium-ide"],"comments":[{"owner":{"account_id":7298088,"reputation":61,"user_id":5562031,"display_name":"Gafi"},"score":0,"creation_date":1695209662,"post_id":77125660,"comment_id":135992971,"body_markdown":"I have the same problem on Selenium 3.141.59 and on the newest one 4.12.1.\nChrome version is 117.0.5938.63.\nTried it with chromedrivers 117.0.5938.62 and 117.0.5938.88.","body":"I have the same problem on Selenium 3.141.59 and on the newest one 4.12.1. Chrome version is 117.0.5938.63. Tried it with chromedrivers 117.0.5938.62 and 117.0.5938.88."}],"answers":[{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1695354370,"post_id":77142313,"comment_id":136016084,"body_markdown":"As itâ€™s currently written, your answer is unclear. Please [edit] to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"As itâ€™s currently written, your answer is unclear. Please <a href=\"https://stackoverflow.com/posts/77142313/edit\">edit</a> to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."},{"owner":{"account_id":29471188,"reputation":31,"user_id":22583782,"display_name":"SKV"},"score":0,"creation_date":1695655655,"post_id":77142313,"comment_id":136050309,"body_markdown":"Didn&#39;t work for me.","body":"Didn&#39;t work for me."}],"tags":[],"owner":{"account_id":29491051,"reputation":1,"user_id":22600056,"display_name":"Dr. SH4DOW"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695646716,"creation_date":1695212035,"answer_id":77142313,"question_id":77125660,"body_markdown":"Try this:\r\n\r\n    import java.util.HashMap;\r\n    import java.util.Map;\r\n    import java.util.concurrent.TimeUnit;\r\n    \r\n    import org.openqa.selenium.By;\r\n    import org.openqa.selenium.WebDriver;\r\n    import org.openqa.selenium.WebElement;\r\n    import org.openqa.selenium.chrome.ChromeDriver;\r\n    import org.openqa.selenium.chrome.ChromeOptions;\r\n    \r\n    public class TestDownload\r\n    {\r\n    \r\n        public static void main(String[] args)\r\n        {\r\n            System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;D:\\\\driver\\\\117\\\\chromedriver.exe&quot;);\r\n            Map&lt;String, Object&gt; prefs = new HashMap&lt;String,Object&gt;();\r\n            ChromeOptions options = new ChromeOptions();\r\n            prefs.put(&quot;download.default_directory&quot;, &quot;D:\\\\driver&quot;);\r\n            prefs.put(&quot;download.prompt_for_download&quot;, false);\r\n            prefs.put(&quot;profile.default_content_settings.popups&quot;, 0);\r\n            options.addArguments(&quot;incognito&quot;);\r\n    \t\t//solution added on next line\r\n    \t\tprefs.put(&quot;localState&quot;, &quot;browser.enabled_labs_experiments&quot;: [&quot;download-bubble@2&quot;, &quot;download-bubble-v2@2&quot;]);\r\n            options.setExperimentalOption(&quot;prefs&quot;,prefs);\r\n            WebDriver driver = new ChromeDriver(options);\r\n            driver.manage().timeouts().implicitlyWait(30, TimeUnit.SECONDS);\r\n            driver.manage().window().maximize();\r\n            driver.get(&quot;https://www.selenium.dev/downloads/&quot;);\r\n            WebElement e = driver.findElement(By.linkText(&quot;4.12.1 (September 4, 2023)&quot;));\r\n            e.click();\r\n            driver.close();\r\n        }\r\n    \r\n    }\r\n\r\n","title":"Download prompt shows up when trying to download file using selenium webdriver with latest chrome driver 117 in incognito mode","body":"<p>Try this:</p>\n<pre><code>import java.util.HashMap;\nimport java.util.Map;\nimport java.util.concurrent.TimeUnit;\n\nimport org.openqa.selenium.By;\nimport org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.WebElement;\nimport org.openqa.selenium.chrome.ChromeDriver;\nimport org.openqa.selenium.chrome.ChromeOptions;\n\npublic class TestDownload\n{\n\n    public static void main(String[] args)\n    {\n        System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;D:\\\\driver\\\\117\\\\chromedriver.exe&quot;);\n        Map&lt;String, Object&gt; prefs = new HashMap&lt;String,Object&gt;();\n        ChromeOptions options = new ChromeOptions();\n        prefs.put(&quot;download.default_directory&quot;, &quot;D:\\\\driver&quot;);\n        prefs.put(&quot;download.prompt_for_download&quot;, false);\n        prefs.put(&quot;profile.default_content_settings.popups&quot;, 0);\n        options.addArguments(&quot;incognito&quot;);\n        //solution added on next line\n        prefs.put(&quot;localState&quot;, &quot;browser.enabled_labs_experiments&quot;: [&quot;download-bubble@2&quot;, &quot;download-bubble-v2@2&quot;]);\n        options.setExperimentalOption(&quot;prefs&quot;,prefs);\n        WebDriver driver = new ChromeDriver(options);\n        driver.manage().timeouts().implicitlyWait(30, TimeUnit.SECONDS);\n        driver.manage().window().maximize();\n        driver.get(&quot;https://www.selenium.dev/downloads/&quot;);\n        WebElement e = driver.findElement(By.linkText(&quot;4.12.1 (September 4, 2023)&quot;));\n        e.click();\n        driver.close();\n    }\n\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":29471188,"reputation":31,"user_id":22583782,"display_name":"SKV"},"score":1,"creation_date":1695302529,"post_id":77150199,"comment_id":136008473,"body_markdown":"Have already mentioned that it works when incognito mode is disabled.","body":"Have already mentioned that it works when incognito mode is disabled."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1695607196,"post_id":77150199,"comment_id":136042388,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/77150199/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":5825301,"reputation":9,"user_id":4591931,"display_name":"Chethan Kumar N"},"comment_count":2,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1695298933,"creation_date":1695298933,"answer_id":77150199,"question_id":77125660,"body_markdown":"Could you please comment below line and try? looks like its happening only in Incognito mode. This workaround fixed my issue.\r\n\r\noptions.addArguments(&quot;incognito&quot;);","title":"Download prompt shows up when trying to download file using selenium webdriver with latest chrome driver 117 in incognito mode","body":"<p>Could you please comment below line and try? looks like its happening only in Incognito mode. This workaround fixed my issue.</p>\n<p>options.addArguments(&quot;incognito&quot;);</p>\n"},{"comments":[{"owner":{"account_id":1233420,"reputation":1907,"user_id":1197540,"accept_rate":62,"display_name":"ThisIsAQuestion"},"score":1,"creation_date":1697127358,"post_id":77235931,"comment_id":136243735,"body_markdown":"You&#39;re a life saver, thank you! I&#39;ve been looking everywhere for a solution for this.","body":"You&#39;re a life saver, thank you! I&#39;ve been looking everywhere for a solution for this."},{"owner":{"account_id":7298088,"reputation":61,"user_id":5562031,"display_name":"Gafi"},"score":0,"creation_date":1697460377,"post_id":77235931,"comment_id":136278795,"body_markdown":"Works on Chrome 117.0.5938.63 and Selenium 4.12.1. Thank you :]","body":"Works on Chrome 117.0.5938.63 and Selenium 4.12.1. Thank you :]"},{"owner":{"account_id":7298088,"reputation":61,"user_id":5562031,"display_name":"Gafi"},"score":0,"creation_date":1700127123,"post_id":77235931,"comment_id":136617254,"body_markdown":"UPDATE: Does not work on Chrome 119.0.6045.106. Those &quot;bubble&quot; flags are not available anymore. System download prompt shows up even though &quot;chromePrefs.put(&quot;download.prompt_for_download&quot;, false);&quot;.","body":"UPDATE: Does not work on Chrome 119.0.6045.106. Those &quot;bubble&quot; flags are not available anymore. System download prompt shows up even though &quot;chromePrefs.put(&quot;download.prompt_for_download&quot;, false);&quot;."}],"tags":[],"owner":{"account_id":29602949,"reputation":21,"user_id":22687959,"display_name":"m0nqred"},"comment_count":3,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1696498751,"creation_date":1696498751,"answer_id":77235931,"question_id":77125660,"body_markdown":"You need to disable two Chromium experimental features: **download-bubble** and **download-bubble-v2**\r\n\r\n    import java.util.HashMap;\r\n    import java.util.Map;\r\n    import java.util.concurrent.TimeUnit;\r\n\r\n    import org.openqa.selenium.By;\r\n    import org.openqa.selenium.WebDriver;\r\n    import org.openqa.selenium.WebElement;\r\n    import org.openqa.selenium.chrome.ChromeDriver;\r\n    import org.openqa.selenium.chrome.ChromeOptions;\r\n\r\n    public class TestDownload\r\n    {\r\n\r\n        public static void main(String[] args)\r\n        {\r\n            System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;D:\\\\driver\\\\117\\\\chromedriver.exe&quot;);\r\n            Map&lt;String, Object&gt; prefs = new HashMap&lt;String,Object&gt;();\r\n            ChromeOptions options = new ChromeOptions();\r\n            prefs.put(&quot;download.default_directory&quot;, &quot;D:\\\\driver&quot;);\r\n            prefs.put(&quot;download.prompt_for_download&quot;, false);\r\n            prefs.put(&quot;profile.default_content_settings.popups&quot;, 0);\r\n            //working fine when the below line is commented\r\n            options.addArguments(&quot;incognito&quot;);\r\n            options.setExperimentalOption(&quot;prefs&quot;,prefs);\r\n\r\n            Map&lt;String, Object&gt; localState = new HashMap&lt;&gt;();\r\n            List&lt;String&gt; experiments = new ArrayList&lt;&gt;();\r\n            experiments.add(&quot;download-bubble@2&quot;);\r\n            experiments.add(&quot;download-bubble-v2@2&quot;);\r\n            localState.put(&quot;browser.enabled_labs_experiments&quot;, experiments);\r\n            options.setExperimentalOption(&quot;localState&quot;, localState);\r\n\r\n            WebDriver driver = new ChromeDriver(options);\r\n            driver.manage().timeouts().implicitlyWait(30, TimeUnit.SECONDS);\r\n            driver.manage().window().maximize();\r\n            driver.get(&quot;https://www.selenium.dev/downloads/&quot;);\r\n            WebElement e = driver.findElement(By.linkText(&quot;4.12.1 (September 4, 2023)&quot;));\r\n            e.click();\r\n            driver.close();\r\n        }\r\n\r\n    }\r\n\r\nI&#39;m using Chrome 117.0.5938.132 and Selenium 4.8.0 and this solution worked for me.\r\nYou can pause your program in debugger and open chrome://flags/ to make sure the options are disabled:\r\n[chrome flags][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/4nXZA.png","title":"Download prompt shows up when trying to download file using selenium webdriver with latest chrome driver 117 in incognito mode","body":"<p>You need to disable two Chromium experimental features: <strong>download-bubble</strong> and <strong>download-bubble-v2</strong></p>\n<pre><code>import java.util.HashMap;\nimport java.util.Map;\nimport java.util.concurrent.TimeUnit;\n\nimport org.openqa.selenium.By;\nimport org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.WebElement;\nimport org.openqa.selenium.chrome.ChromeDriver;\nimport org.openqa.selenium.chrome.ChromeOptions;\n\npublic class TestDownload\n{\n\n    public static void main(String[] args)\n    {\n        System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;D:\\\\driver\\\\117\\\\chromedriver.exe&quot;);\n        Map&lt;String, Object&gt; prefs = new HashMap&lt;String,Object&gt;();\n        ChromeOptions options = new ChromeOptions();\n        prefs.put(&quot;download.default_directory&quot;, &quot;D:\\\\driver&quot;);\n        prefs.put(&quot;download.prompt_for_download&quot;, false);\n        prefs.put(&quot;profile.default_content_settings.popups&quot;, 0);\n        //working fine when the below line is commented\n        options.addArguments(&quot;incognito&quot;);\n        options.setExperimentalOption(&quot;prefs&quot;,prefs);\n\n        Map&lt;String, Object&gt; localState = new HashMap&lt;&gt;();\n        List&lt;String&gt; experiments = new ArrayList&lt;&gt;();\n        experiments.add(&quot;download-bubble@2&quot;);\n        experiments.add(&quot;download-bubble-v2@2&quot;);\n        localState.put(&quot;browser.enabled_labs_experiments&quot;, experiments);\n        options.setExperimentalOption(&quot;localState&quot;, localState);\n\n        WebDriver driver = new ChromeDriver(options);\n        driver.manage().timeouts().implicitlyWait(30, TimeUnit.SECONDS);\n        driver.manage().window().maximize();\n        driver.get(&quot;https://www.selenium.dev/downloads/&quot;);\n        WebElement e = driver.findElement(By.linkText(&quot;4.12.1 (September 4, 2023)&quot;));\n        e.click();\n        driver.close();\n    }\n\n}\n</code></pre>\n<p>I'm using Chrome 117.0.5938.132 and Selenium 4.8.0 and this solution worked for me.\nYou can pause your program in debugger and open chrome://flags/ to make sure the options are disabled:\n<a href=\"https://i.stack.imgur.com/4nXZA.png\" rel=\"nofollow noreferrer\">chrome flags</a></p>\n"},{"tags":[],"owner":{"account_id":15389673,"reputation":186,"user_id":11102769,"display_name":"Sud"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697108428,"creation_date":1697108428,"answer_id":77279987,"question_id":77125660,"body_markdown":"Added below line for C# Selenium and issue is fixed\r\n\r\n    options.AddLocalStatePreference(&quot;browser&quot;, new { enabled_labs_experiments = new string[] { &quot;download-bubble@2&quot;, &quot;download-bubble-v2@2&quot; } });","title":"Download prompt shows up when trying to download file using selenium webdriver with latest chrome driver 117 in incognito mode","body":"<p>Added below line for C# Selenium and issue is fixed</p>\n<pre><code>options.AddLocalStatePreference(&quot;browser&quot;, new { enabled_labs_experiments = new string[] { &quot;download-bubble@2&quot;, &quot;download-bubble-v2@2&quot; } });\n</code></pre>\n"},{"comments":[{"owner":{"account_id":7298088,"reputation":61,"user_id":5562031,"display_name":"Gafi"},"score":0,"creation_date":1700565155,"post_id":77514383,"comment_id":136667676,"body_markdown":"I can confirm that this works with Chrome 119.0.6045.106 and Selenium 4.12.1.","body":"I can confirm that this works with Chrome 119.0.6045.106 and Selenium 4.12.1."}],"tags":[],"owner":{"account_id":22756209,"reputation":41,"user_id":16915636,"display_name":"sschandra"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1700468898,"creation_date":1700468898,"answer_id":77514383,"question_id":77125660,"body_markdown":"For driver119 worked with below code in Java\r\n\r\n    chromeOptions.addArguments(&quot;disable-features=DownloadBubble,DownloadBubbleV2&quot;);","title":"Download prompt shows up when trying to download file using selenium webdriver with latest chrome driver 117 in incognito mode","body":"<p>For driver119 worked with below code in Java</p>\n<pre><code>chromeOptions.addArguments(&quot;disable-features=DownloadBubble,DownloadBubbleV2&quot;);\n</code></pre>\n"}],"owner":{"account_id":29471188,"reputation":31,"user_id":22583782,"display_name":"SKV"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2379,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":5,"score":3,"last_activity_date":1700468898,"creation_date":1695026528,"question_id":77125660,"body_markdown":"I am trying to download a file using selenium webdriver. I have set the download directory and other parameters as well. The same code was working with chrome driver version 116. Since the browser version was updated to 117 the code is now failing as the download prompt shows up. However when I disable the incognito mode the file gets downloaded to the set download directory path. I am using selenium version 3.141.59.\r\n\r\nSample code\r\n\r\n package com.test;\r\n\r\n    import java.util.HashMap;\r\n    import java.util.Map;\r\n    import java.util.concurrent.TimeUnit;\r\n\r\n    import org.openqa.selenium.By;\r\n    import org.openqa.selenium.WebDriver;\r\n    import org.openqa.selenium.WebElement;\r\n    import org.openqa.selenium.chrome.ChromeDriver;\r\n    import org.openqa.selenium.chrome.ChromeOptions;\r\n\r\n    public class TestDownload\r\n    {\r\n\r\n        public static void main(String[] args)\r\n        {\r\n            System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;D:\\\\driver\\\\117\\\\chromedriver.exe&quot;);\r\n            Map&lt;String, Object&gt; prefs = new HashMap&lt;String,Object&gt;();\r\n            ChromeOptions options = new ChromeOptions();\r\n            prefs.put(&quot;download.default_directory&quot;, &quot;D:\\\\driver&quot;);\r\n            prefs.put(&quot;download.prompt_for_download&quot;, false);\r\n            prefs.put(&quot;profile.default_content_settings.popups&quot;, 0);\r\n            //working fine when the below line is commented\r\n            options.addArguments(&quot;incognito&quot;);\r\n            options.setExperimentalOption(&quot;prefs&quot;,prefs);\r\n            WebDriver driver = new ChromeDriver(options);\r\n            driver.manage().timeouts().implicitlyWait(30, TimeUnit.SECONDS);\r\n            driver.manage().window().maximize();\r\n            driver.get(&quot;https://www.selenium.dev/downloads/&quot;);\r\n            WebElement e = driver.findElement(By.linkText(&quot;4.12.1 (September 4, 2023)&quot;));\r\n            e.click();\r\n            driver.close();\r\n        }\r\n\r\n    }\r\n","title":"Download prompt shows up when trying to download file using selenium webdriver with latest chrome driver 117 in incognito mode","body":"<p>I am trying to download a file using selenium webdriver. I have set the download directory and other parameters as well. The same code was working with chrome driver version 116. Since the browser version was updated to 117 the code is now failing as the download prompt shows up. However when I disable the incognito mode the file gets downloaded to the set download directory path. I am using selenium version 3.141.59.</p>\n<p>Sample code</p>\n<p>package com.test;</p>\n<pre><code>import java.util.HashMap;\nimport java.util.Map;\nimport java.util.concurrent.TimeUnit;\n\nimport org.openqa.selenium.By;\nimport org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.WebElement;\nimport org.openqa.selenium.chrome.ChromeDriver;\nimport org.openqa.selenium.chrome.ChromeOptions;\n\npublic class TestDownload\n{\n\n    public static void main(String[] args)\n    {\n        System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;D:\\\\driver\\\\117\\\\chromedriver.exe&quot;);\n        Map&lt;String, Object&gt; prefs = new HashMap&lt;String,Object&gt;();\n        ChromeOptions options = new ChromeOptions();\n        prefs.put(&quot;download.default_directory&quot;, &quot;D:\\\\driver&quot;);\n        prefs.put(&quot;download.prompt_for_download&quot;, false);\n        prefs.put(&quot;profile.default_content_settings.popups&quot;, 0);\n        //working fine when the below line is commented\n        options.addArguments(&quot;incognito&quot;);\n        options.setExperimentalOption(&quot;prefs&quot;,prefs);\n        WebDriver driver = new ChromeDriver(options);\n        driver.manage().timeouts().implicitlyWait(30, TimeUnit.SECONDS);\n        driver.manage().window().maximize();\n        driver.get(&quot;https://www.selenium.dev/downloads/&quot;);\n        WebElement e = driver.findElement(By.linkText(&quot;4.12.1 (September 4, 2023)&quot;));\n        e.click();\n        driver.close();\n    }\n\n}\n</code></pre>\n"},{"tags":["java","scheduler","job-scheduling","autosys","lookback"],"owner":{"account_id":24204646,"reputation":3,"user_id":18162025,"display_name":"ash22"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700468868,"creation_date":1700468868,"question_id":77514382,"body_markdown":"I need to trigger a autosys job after another job is executed. But this job should only be triggered after 30 Minutes. I referred [this][1] but I don&#39;t want to create a box. I have setup a lookback condition like this \r\n\r\n    s(job,00.30)\r\n\r\nIs this an appropriate way to trigger the job?\r\n\r\n  [1]: https://stackoverflow.com/questions/68987135/how-to-setup-a-autosys-job-after-another-job-run#:~:text=First%20of%20all%2C%20you%20need,your%20jobs%20will%20get%20triggered.\r\n\r\n","title":"Starting an autosys after 30 mins when a job is finished using lookback","body":"<p>I need to trigger a autosys job after another job is executed. But this job should only be triggered after 30 Minutes. I referred <a href=\"https://stackoverflow.com/questions/68987135/how-to-setup-a-autosys-job-after-another-job-run#:%7E:text=First%20of%20all%2C%20you%20need,your%20jobs%20will%20get%20triggered.\">this</a> but I don't want to create a box. I have setup a lookback condition like this</p>\n<pre><code>s(job,00.30)\n</code></pre>\n<p>Is this an appropriate way to trigger the job?</p>\n"},{"tags":["java","jackson","yaml"],"answers":[{"tags":[],"owner":{"account_id":18044315,"reputation":1227,"user_id":13115701,"display_name":"Paul Marcelin Bejan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700468534,"creation_date":1700391415,"answer_id":77510481,"question_id":77491853,"body_markdown":"In addition to what you did, \r\nYou need to disable:\r\n\r\n    YAMLGenerator.Feature.USE_NATIVE_TYPE_ID\r\n\r\nand on DataTest you need to add the following annotation:\r\n\r\n    @JsonTypeInfo(use = JsonTypeInfo.Id.NAME, include = JsonTypeInfo.As.WRAPPER_OBJECT)\r\n\r\nWith these changes, the yaml will look as follow:\r\n\r\n    ListOfUsers:\r\n    - User:\r\n        ID: 1\r\n        Name: &quot;Jimmy Dean&quot;\r\n        Address: &quot;12 Riverview Drive&quot;\r\n        City: &quot;Greenview&quot;\r\n    - User:\r\n        ID: 2\r\n        Name: &quot;John Sheridan&quot;\r\n        Address: &quot;233X Blue Sector&quot;\r\n        City: &quot;Babylon 5&quot;\r\n    - User:\r\n        ID: 3\r\n        Name: &quot;John Chriton&quot;\r\n        Address: &quot;2nd Room&quot;\r\n        City: &quot;Moya the Ship&quot;\r\n    - User:\r\n        ID: 4\r\n        Name: &quot;James Kirk&quot;\r\n        Address: &quot;Captain&#39;s Quarters&quot;\r\n        City: &quot;USS Enterprise&quot;\r\n    - User:\r\n        ID: 5\r\n        Name: &quot;River Tan&quot;\r\n        Address: &quot;3rd Berth&quot;\r\n        City: &quot;Serenity&quot;\r\n\r\nFor indentation of array, you can enable one of the following config:\r\n\r\n    YAMLGenerator.Feature.INDENT_ARRAYS\r\n    YAMLGenerator.Feature.INDENT_ARRAYS_WITH_INDICATOR","title":"Generated YAML file not being formatted as desired","body":"<p>In addition to what you did,\nYou need to disable:</p>\n<pre><code>YAMLGenerator.Feature.USE_NATIVE_TYPE_ID\n</code></pre>\n<p>and on DataTest you need to add the following annotation:</p>\n<pre><code>@JsonTypeInfo(use = JsonTypeInfo.Id.NAME, include = JsonTypeInfo.As.WRAPPER_OBJECT)\n</code></pre>\n<p>With these changes, the yaml will look as follow:</p>\n<pre><code>ListOfUsers:\n- User:\n    ID: 1\n    Name: &quot;Jimmy Dean&quot;\n    Address: &quot;12 Riverview Drive&quot;\n    City: &quot;Greenview&quot;\n- User:\n    ID: 2\n    Name: &quot;John Sheridan&quot;\n    Address: &quot;233X Blue Sector&quot;\n    City: &quot;Babylon 5&quot;\n- User:\n    ID: 3\n    Name: &quot;John Chriton&quot;\n    Address: &quot;2nd Room&quot;\n    City: &quot;Moya the Ship&quot;\n- User:\n    ID: 4\n    Name: &quot;James Kirk&quot;\n    Address: &quot;Captain's Quarters&quot;\n    City: &quot;USS Enterprise&quot;\n- User:\n    ID: 5\n    Name: &quot;River Tan&quot;\n    Address: &quot;3rd Berth&quot;\n    City: &quot;Serenity&quot;\n</code></pre>\n<p>For indentation of array, you can enable one of the following config:</p>\n<pre><code>YAMLGenerator.Feature.INDENT_ARRAYS\nYAMLGenerator.Feature.INDENT_ARRAYS_WITH_INDICATOR\n</code></pre>\n"}],"owner":{"account_id":1039893,"reputation":2144,"user_id":1046184,"accept_rate":56,"display_name":"Factor Three"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1700468534,"creation_date":1700099418,"question_id":77491853,"body_markdown":"I am attempting to generate a YAML file using the Jackson YAML library. I am seeking to create that file in a specific format, and am failing to do so.\r\n\r\nThe data I am saving is a list of data test objects. The objects themselves are defined below:\r\n\r\n    @Data\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    @JsonTypeName(&quot;User&quot;)\r\n    @Builder\r\n    public class DataTest\r\n    {\r\n       @JsonProperty(&quot;ID&quot;)\r\n       private int userID;\r\n   \r\n       @JsonProperty(&quot;Name&quot;)\r\n       private String userName;\r\n   \r\n       @JsonProperty(&quot;Address&quot;)\r\n       private String streetAddress;\r\n   \r\n       @JsonProperty(&quot;City&quot;)\r\n       private String theCity;\r\n\r\n    }\r\n\r\nNote that along with the Jackson annotations, this class uses Lombok to provide code brevity.\r\n\r\nThe object used to contain a list of the DataTest objects is below:\r\n\r\n    @JsonRootName(value = &quot;ListOfUsers&quot;)\r\n    public class DataList extends ArrayList&lt;DataTest&gt;\r\n    {\r\n       private static final long serialVersionUID = 7112953850878936075L;\r\n\r\n       public DataList()\r\n       {\r\n       }\r\n\r\n       // Other constructors\r\n\r\n    }\r\n\t\r\nThere is some sample data that will be placed into the DataTest objects:\r\n\r\n    public class SomeData\r\n    {\r\n       public static String[] theNames = {\r\n             &quot;Jimmy Dean&quot;,\r\n             &quot;John Sheridan&quot;,\r\n             &quot;John Chriton&quot;,\r\n             &quot;James Kirk&quot;,\r\n             &quot;River Tan&quot;\r\n       };\r\n   \r\n       public static String[] theAddresses = {\r\n             &quot;12 Riverview Drive&quot;,\r\n             &quot;233X Blue Sector&quot;,\r\n             &quot;2nd Room&quot;,\r\n             &quot;Captain&#39;s Quarters&quot;,\r\n             &quot;3rd Berth&quot;\r\n       };\r\n   \r\n       public static String[] theCities = {\r\n             &quot;Greenview&quot;,\r\n             &quot;Babylon 5&quot;,\r\n             &quot;Moya the Ship&quot;,\r\n             &quot;USS Enterprise&quot;,\r\n             &quot;Serenity&quot;\r\n       };\r\n    }\r\n\r\nThe ServiceIO class below is a singleton that utilizes the Jackson API to create the YAML file:\r\n\r\n    public class ServiceIO\r\n    {\r\n       private static ServiceIO mySelf = null;\r\n   \r\n       private final ObjectMapper theMapper;\r\n       private final File theFile;\r\n\r\n       private ServiceIO()\r\n       {\r\n          theFile = new File(&quot;./files/users.yml&quot;);\r\n          theMapper = new ObjectMapper(new YAMLFactory().disable(YAMLGenerator.Feature.WRITE_DOC_START_MARKER))\r\n                                                        .enable(SerializationFeature.WRAP_ROOT_VALUE)\r\n                                                        .enable(DeserializationFeature.UNWRAP_ROOT_VALUE);\r\n       }\r\n   \r\n       public void saveServices(DataList theInfo)\r\n       {\r\n          try\r\n          {\r\n             theMapper.writeValue(theFile,theInfo);\r\n          }\r\n          catch(Exception exe)\r\n          {\r\n             exe.printStackTrace();\r\n          }\r\n      \r\n       }\r\n   \r\n       public static ServiceIO getInstance()\r\n       {\r\n          if(mySelf == null)\r\n             mySelf = new ServiceIO();\r\n      \r\n          return(mySelf);\r\n       }\r\n\r\n    }\r\n\t\r\nThe class that actually generates the YAML file is straightforward. It builds a set of DataTest objects and places them into a DataList. It then writes the DataList to the YAML file.\r\n\r\n    public class YamlTest\r\n    {\r\n       public static void main(String[] args)\r\n       {\r\n          DataList list = new DataList();\r\n      \r\n         for(int inc = 0; inc &lt; 5; inc++)\r\n         {\r\n            DataTest test = DataTest.builder().userID(inc+1).userName(SomeData.theNames[inc])\r\n                                    .streetAddress(SomeData.theAddresses[inc]).theCity(SomeData.theCities[inc])\r\n                                    .build();\r\n            list.add(test);\r\n         }\r\n     \r\n         ServiceIO service = ServiceIO.getInstance();\r\n         service.saveServices(list);\r\n       }\r\n\r\n    }\r\n\r\nWhen I run the test application, I would like to generate a YAML file with contents similar to the following:\r\n\r\n    ListOfUsers:\r\n      - User:\r\n          ID: 1\r\n          Name: &quot;Jimmy Dean&quot;\r\n          Address: &quot;12 Riverview Drive&quot;\r\n          City: &quot;Greenview&quot;\r\n      - User:\r\n          ID: 2\r\n          Name: &quot;John Sheridan&quot;\r\n          Address: &quot;233X Blue Sector&quot;\r\n          City: &quot;Babylon 5&quot;\r\n      - User:\r\n          ID: 3\r\n          Name: &quot;John Chriton&quot;\r\n          Address: &quot;2nd Room&quot;\r\n          City: &quot;Moya the Ship&quot;\r\n      - User:\r\n          ID: 4\r\n          Name: &quot;James Kirk&quot;\r\n          Address: &quot;Captain&#39;s Quarters&quot;\r\n          City: &quot;USS Enterprise&quot;\r\n      - User:\r\n          ID: 5\r\n          Name: &quot;River Tan&quot;\r\n          Address: &quot;3rd Berth&quot;\r\n         City: &quot;Serenity&quot;\r\n\r\nIt doesn&#39;tDataTest  have to be exact, but in the end I would like to seperate each DataTest with a &quot;User&quot; linne.\r\n\r\nInstead I am getting the following output:\r\n\r\n    ListOfUsers:\r\n    - ID: 1\r\n      Name: &quot;Jimmy Dean&quot;\r\n      Address: &quot;12 Riverview Drive&quot;\r\n      City: &quot;Greenview&quot;\r\n    - ID: 2\r\n      Name: &quot;John Sheridan&quot;\r\n      Address: &quot;233X Blue Sector&quot;\r\n      City: &quot;Babylon 5&quot;\r\n    - ID: 3\r\n      Name: &quot;John Chriton&quot;\r\n      Address: &quot;2nd Room&quot;\r\n      City: &quot;Moya the Ship&quot;\r\n    - ID: 4\r\n      Name: &quot;James Kirk&quot;\r\n      Address: &quot;Captain&#39;s Quarters&quot;\r\n      City: &quot;USS Enterprise&quot;\r\n    - ID: 5\r\n      Name: &quot;River Tan&quot;\r\n      Address: &quot;3rd Berth&quot;\r\n      City: &quot;Serenity&quot;\r\n\r\nCan someone tell me what (if anything) I am doing wrong? How can I get output similar to what I am seeking?","title":"Generated YAML file not being formatted as desired","body":"<p>I am attempting to generate a YAML file using the Jackson YAML library. I am seeking to create that file in a specific format, and am failing to do so.</p>\n<p>The data I am saving is a list of data test objects. The objects themselves are defined below:</p>\n<pre><code>@Data\n@NoArgsConstructor\n@AllArgsConstructor\n@JsonTypeName(&quot;User&quot;)\n@Builder\npublic class DataTest\n{\n   @JsonProperty(&quot;ID&quot;)\n   private int userID;\n\n   @JsonProperty(&quot;Name&quot;)\n   private String userName;\n\n   @JsonProperty(&quot;Address&quot;)\n   private String streetAddress;\n\n   @JsonProperty(&quot;City&quot;)\n   private String theCity;\n\n}\n</code></pre>\n<p>Note that along with the Jackson annotations, this class uses Lombok to provide code brevity.</p>\n<p>The object used to contain a list of the DataTest objects is below:</p>\n<pre><code>@JsonRootName(value = &quot;ListOfUsers&quot;)\npublic class DataList extends ArrayList&lt;DataTest&gt;\n{\n   private static final long serialVersionUID = 7112953850878936075L;\n\n   public DataList()\n   {\n   }\n\n   // Other constructors\n\n}\n</code></pre>\n<p>There is some sample data that will be placed into the DataTest objects:</p>\n<pre><code>public class SomeData\n{\n   public static String[] theNames = {\n         &quot;Jimmy Dean&quot;,\n         &quot;John Sheridan&quot;,\n         &quot;John Chriton&quot;,\n         &quot;James Kirk&quot;,\n         &quot;River Tan&quot;\n   };\n\n   public static String[] theAddresses = {\n         &quot;12 Riverview Drive&quot;,\n         &quot;233X Blue Sector&quot;,\n         &quot;2nd Room&quot;,\n         &quot;Captain's Quarters&quot;,\n         &quot;3rd Berth&quot;\n   };\n\n   public static String[] theCities = {\n         &quot;Greenview&quot;,\n         &quot;Babylon 5&quot;,\n         &quot;Moya the Ship&quot;,\n         &quot;USS Enterprise&quot;,\n         &quot;Serenity&quot;\n   };\n}\n</code></pre>\n<p>The ServiceIO class below is a singleton that utilizes the Jackson API to create the YAML file:</p>\n<pre><code>public class ServiceIO\n{\n   private static ServiceIO mySelf = null;\n\n   private final ObjectMapper theMapper;\n   private final File theFile;\n\n   private ServiceIO()\n   {\n      theFile = new File(&quot;./files/users.yml&quot;);\n      theMapper = new ObjectMapper(new YAMLFactory().disable(YAMLGenerator.Feature.WRITE_DOC_START_MARKER))\n                                                    .enable(SerializationFeature.WRAP_ROOT_VALUE)\n                                                    .enable(DeserializationFeature.UNWRAP_ROOT_VALUE);\n   }\n\n   public void saveServices(DataList theInfo)\n   {\n      try\n      {\n         theMapper.writeValue(theFile,theInfo);\n      }\n      catch(Exception exe)\n      {\n         exe.printStackTrace();\n      }\n  \n   }\n\n   public static ServiceIO getInstance()\n   {\n      if(mySelf == null)\n         mySelf = new ServiceIO();\n  \n      return(mySelf);\n   }\n\n}\n</code></pre>\n<p>The class that actually generates the YAML file is straightforward. It builds a set of DataTest objects and places them into a DataList. It then writes the DataList to the YAML file.</p>\n<pre><code>public class YamlTest\n{\n   public static void main(String[] args)\n   {\n      DataList list = new DataList();\n  \n     for(int inc = 0; inc &lt; 5; inc++)\n     {\n        DataTest test = DataTest.builder().userID(inc+1).userName(SomeData.theNames[inc])\n                                .streetAddress(SomeData.theAddresses[inc]).theCity(SomeData.theCities[inc])\n                                .build();\n        list.add(test);\n     }\n \n     ServiceIO service = ServiceIO.getInstance();\n     service.saveServices(list);\n   }\n\n}\n</code></pre>\n<p>When I run the test application, I would like to generate a YAML file with contents similar to the following:</p>\n<pre><code>ListOfUsers:\n  - User:\n      ID: 1\n      Name: &quot;Jimmy Dean&quot;\n      Address: &quot;12 Riverview Drive&quot;\n      City: &quot;Greenview&quot;\n  - User:\n      ID: 2\n      Name: &quot;John Sheridan&quot;\n      Address: &quot;233X Blue Sector&quot;\n      City: &quot;Babylon 5&quot;\n  - User:\n      ID: 3\n      Name: &quot;John Chriton&quot;\n      Address: &quot;2nd Room&quot;\n      City: &quot;Moya the Ship&quot;\n  - User:\n      ID: 4\n      Name: &quot;James Kirk&quot;\n      Address: &quot;Captain's Quarters&quot;\n      City: &quot;USS Enterprise&quot;\n  - User:\n      ID: 5\n      Name: &quot;River Tan&quot;\n      Address: &quot;3rd Berth&quot;\n     City: &quot;Serenity&quot;\n</code></pre>\n<p>It doesn'tDataTest  have to be exact, but in the end I would like to seperate each DataTest with a &quot;User&quot; linne.</p>\n<p>Instead I am getting the following output:</p>\n<pre><code>ListOfUsers:\n- ID: 1\n  Name: &quot;Jimmy Dean&quot;\n  Address: &quot;12 Riverview Drive&quot;\n  City: &quot;Greenview&quot;\n- ID: 2\n  Name: &quot;John Sheridan&quot;\n  Address: &quot;233X Blue Sector&quot;\n  City: &quot;Babylon 5&quot;\n- ID: 3\n  Name: &quot;John Chriton&quot;\n  Address: &quot;2nd Room&quot;\n  City: &quot;Moya the Ship&quot;\n- ID: 4\n  Name: &quot;James Kirk&quot;\n  Address: &quot;Captain's Quarters&quot;\n  City: &quot;USS Enterprise&quot;\n- ID: 5\n  Name: &quot;River Tan&quot;\n  Address: &quot;3rd Berth&quot;\n  City: &quot;Serenity&quot;\n</code></pre>\n<p>Can someone tell me what (if anything) I am doing wrong? How can I get output similar to what I am seeking?</p>\n"},{"tags":["java","java-11","sikuli"],"owner":{"account_id":2534243,"reputation":1123,"user_id":2201789,"display_name":"user2201789"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700468479,"creation_date":1700463994,"question_id":77514036,"body_markdown":"there is the execution script which I have placed the jdk11.0.13_8 in execution directory:\r\n\r\n    @echo off\r\n    \r\n    REM temp fix to avoid using zulu java 10\r\n    set JAVA_HOME=%~dp0\\jdk11.0.13_8\r\n    \r\n    \r\n    SETLOCAL ENABLEEXTENSIONS\r\n    set SJAR=sikulix\r\n    \r\n    if not defined SIKULIX_HOME goto NOHOME\r\n    if EXIST &quot;%SIKULIX_HOME%%SJAR%.jar&quot; goto YESHOME\r\n    if not EXIST &quot;%SIKULIX_HOME%\\%SJAR%.jar&quot; goto BADHOME\r\n    set SJAR=\\sikulix\r\n    \r\n    :BADHOME\r\n    echo +++ SIKULIX_HOME specified but not useable %SIKULIX_HOME%\r\n    \r\n    :NOHOME\r\n    set SIKULIX_HOME=%~dp0\r\n    \r\n    :YESHOME\r\n    set PARMS=-Xms64M -Xmx512M -Dfile.encoding=UTF-8 -Dsikuli.FromCommandLine\r\n    \r\n    if not defined JAVA_HOME goto CHECKJAVA\r\n    IF EXIST &quot;%JAVA_HOME%\\bin\\java.exe&quot; goto JAVA_OK\r\n    echo +++ JAVA_HOME specified but not useable %JAVA_HOME%\r\n    echo +++ looking for Java in system path and then in standard places\r\n    \r\n    :CHECKJAVA\r\n    java 2&gt; nul\r\n    if errorlevel 9009 goto CHECKPLACES\r\n    goto JAVA_OK_PATH\r\n    \r\n    :CHECKPLACES\r\n    set PROGRAMS=%ProgramFiles%\r\n    if defined ProgramFiles(x86) set PROGRAMS32=%ProgramFiles(x86)%\r\n    \r\n    IF not EXIST &quot;%PROGRAMS%\\Java\\jre8\\bin\\java.exe&quot; goto JAVA7\r\n    set JAVA_HOME=%PROGRAMS%\\Java\\jre8\r\n    goto JAVA_OK\r\n    \r\n    :JAVA7\r\n    IF not EXIST &quot;%PROGRAMS%\\Java\\jre7\\bin\\java.exe&quot; goto JAVA6\r\n    set JAVA_HOME=%PROGRAMS%\\Java\\jre7\r\n    goto JAVA_OK\r\n    \r\n    :JAVA6\r\n    IF not EXIST &quot;%PROGRAMS%\\Java\\jre6\\bin\\java.exe&quot; goto JAVANO\r\n    set JAVA_HOME=%PROGRAMS%\\Java\\jre6\r\n    goto JAVA_OK\r\n    \r\n    :JAVANO\r\n    if not defined PROGRAMS32 goto JAVANO32\r\n    \r\n    IF not EXIST &quot;%PROGRAMS32%\\Java\\jre8\\bin\\java.exe&quot; goto JAVA732\r\n    set JAVA_HOME=%PROGRAMS32%\\Java\\jre8\r\n    goto JAVA_OK\r\n    \r\n    :JAVA732\r\n    IF not EXIST &quot;%PROGRAMS32%\\Java\\jre7\\bin\\java.exe&quot; goto JAVA632\r\n    set JAVA_HOME=%PROGRAMS32%\\Java\\jre7\r\n    goto JAVA_OK\r\n    \r\n    :JAVA632\r\n    IF not EXIST &quot;%PROGRAMS32%\\Java\\jre6\\bin\\java.exe&quot; goto JAVANO32\r\n    set JAVA_HOME=%PROGRAMS32%\\Java\\jre6\r\n    goto JAVA_OK\r\n    \r\n    :JAVANO32\r\n    echo +++ Java not found in standard places %PROGRAMS% or %PROGRAMS32%\r\n    echo +++ JAVA_HOME not specified\r\n    goto STOPIT\r\n    \r\n    :JAVA_OK_PATH\r\n    echo +++ running this Java\r\n    set SIKULI_COMMAND=%*\r\n    java -version\r\n    PATH=%SIKULIX_HOME%libs;%PATH%\r\n    echo +++ trying to run SikuliX\r\n    echo +++ using: %PARMS% -jar %SIKULIX_HOME%%SJAR%.jar %SIKULI_COMMAND%\r\n    java %PARMS% -jar &quot;%SIKULIX_HOME%%SJAR%.jar&quot; %SIKULI_COMMAND%\r\n    GOTO FINALLY\r\n    \r\n    :JAVA_OK\r\n    echo +++ running this Java\r\n    set SIKULI_COMMAND=%*\r\n    &quot;%JAVA_HOME%\\bin\\java.exe&quot; -version\r\n    PATH=%SIKULIX_HOME%libs;%PATH%\r\n    echo +++ trying to run SikuliX\r\n    echo +++ using: %PARMS% -jar %SIKULIX_HOME%%SJAR%.jar %SIKULI_COMMAND%\r\n    &quot;%JAVA_HOME%\\bin\\java.exe&quot; %PARMS% -jar &quot;%SIKULIX_HOME%%SJAR%.jar&quot; %SIKULI_COMMAND%\r\n    GOTO FINALLY\r\n    \r\n    :STOPIT\r\n    echo.+++ ended with some errors\r\n    :FINALLY\r\n    ENDLOCAL\r\n\r\nI execute the file in cmd, error:\r\n\r\n    C:\\SikuliX&gt;runsikulix.cmd\r\n    +++ running this Java\r\n    openjdk version &quot;11.0.13&quot; 2021-10-19 LTS\r\n    OpenJDK Runtime Environment Corretto-11.0.13.8.1 (build 11.0.13+8-LTS)\r\n    OpenJDK 64-Bit Server VM Corretto-11.0.13.8.1 (build 11.0.13+8-LTS, mixed mode)\r\n    +++ trying to run SikuliX\r\n    +++ using: -Xms64M -Xmx512M -Dfile.encoding=UTF-8 -Dsikuli.FromCommandLine -jar C:\\SikuliX\\sikulix.jar\r\n    Exception in thread &quot;main&quot; java.lang.ExceptionInInitializerError\r\n            at org.sikuli.basics.Debug.log(Debug.java:697)\r\n            at org.sikuli.basics.Debug.logx(Debug.java:675)\r\n            at org.sikuli.script.RunTime.log(RunTime.java:99)\r\n            at org.sikuli.script.RunTime.get(RunTime.java:184)\r\n            at org.sikuli.ide.SikuliIDE.run(SikuliIDE.java:177)\r\n            at org.sikuli.ide.Sikulix.main(Sikulix.java:21)\r\n    Caused by: java.lang.NumberFormatException: For input string: &quot;.&quot;\r\n            at java.base/java.lang.NumberFormatException.forInputString(NumberFormatException.java:65)\r\n            at java.base/java.lang.Integer.parseInt(Integer.java:638)\r\n            at java.base/java.lang.Integer.parseInt(Integer.java:770)\r\n            at org.sikuli.basics.Settings.&lt;clinit&gt;(Settings.java:123)\r\n            ... 6 more","title":"sikuli execution error after uninstall java jre8 and install Amazon Corretto jdk11.0.13_8","body":"<p>there is the execution script which I have placed the jdk11.0.13_8 in execution directory:</p>\n<pre><code>@echo off\n\nREM temp fix to avoid using zulu java 10\nset JAVA_HOME=%~dp0\\jdk11.0.13_8\n\n\nSETLOCAL ENABLEEXTENSIONS\nset SJAR=sikulix\n\nif not defined SIKULIX_HOME goto NOHOME\nif EXIST &quot;%SIKULIX_HOME%%SJAR%.jar&quot; goto YESHOME\nif not EXIST &quot;%SIKULIX_HOME%\\%SJAR%.jar&quot; goto BADHOME\nset SJAR=\\sikulix\n\n:BADHOME\necho +++ SIKULIX_HOME specified but not useable %SIKULIX_HOME%\n\n:NOHOME\nset SIKULIX_HOME=%~dp0\n\n:YESHOME\nset PARMS=-Xms64M -Xmx512M -Dfile.encoding=UTF-8 -Dsikuli.FromCommandLine\n\nif not defined JAVA_HOME goto CHECKJAVA\nIF EXIST &quot;%JAVA_HOME%\\bin\\java.exe&quot; goto JAVA_OK\necho +++ JAVA_HOME specified but not useable %JAVA_HOME%\necho +++ looking for Java in system path and then in standard places\n\n:CHECKJAVA\njava 2&gt; nul\nif errorlevel 9009 goto CHECKPLACES\ngoto JAVA_OK_PATH\n\n:CHECKPLACES\nset PROGRAMS=%ProgramFiles%\nif defined ProgramFiles(x86) set PROGRAMS32=%ProgramFiles(x86)%\n\nIF not EXIST &quot;%PROGRAMS%\\Java\\jre8\\bin\\java.exe&quot; goto JAVA7\nset JAVA_HOME=%PROGRAMS%\\Java\\jre8\ngoto JAVA_OK\n\n:JAVA7\nIF not EXIST &quot;%PROGRAMS%\\Java\\jre7\\bin\\java.exe&quot; goto JAVA6\nset JAVA_HOME=%PROGRAMS%\\Java\\jre7\ngoto JAVA_OK\n\n:JAVA6\nIF not EXIST &quot;%PROGRAMS%\\Java\\jre6\\bin\\java.exe&quot; goto JAVANO\nset JAVA_HOME=%PROGRAMS%\\Java\\jre6\ngoto JAVA_OK\n\n:JAVANO\nif not defined PROGRAMS32 goto JAVANO32\n\nIF not EXIST &quot;%PROGRAMS32%\\Java\\jre8\\bin\\java.exe&quot; goto JAVA732\nset JAVA_HOME=%PROGRAMS32%\\Java\\jre8\ngoto JAVA_OK\n\n:JAVA732\nIF not EXIST &quot;%PROGRAMS32%\\Java\\jre7\\bin\\java.exe&quot; goto JAVA632\nset JAVA_HOME=%PROGRAMS32%\\Java\\jre7\ngoto JAVA_OK\n\n:JAVA632\nIF not EXIST &quot;%PROGRAMS32%\\Java\\jre6\\bin\\java.exe&quot; goto JAVANO32\nset JAVA_HOME=%PROGRAMS32%\\Java\\jre6\ngoto JAVA_OK\n\n:JAVANO32\necho +++ Java not found in standard places %PROGRAMS% or %PROGRAMS32%\necho +++ JAVA_HOME not specified\ngoto STOPIT\n\n:JAVA_OK_PATH\necho +++ running this Java\nset SIKULI_COMMAND=%*\njava -version\nPATH=%SIKULIX_HOME%libs;%PATH%\necho +++ trying to run SikuliX\necho +++ using: %PARMS% -jar %SIKULIX_HOME%%SJAR%.jar %SIKULI_COMMAND%\njava %PARMS% -jar &quot;%SIKULIX_HOME%%SJAR%.jar&quot; %SIKULI_COMMAND%\nGOTO FINALLY\n\n:JAVA_OK\necho +++ running this Java\nset SIKULI_COMMAND=%*\n&quot;%JAVA_HOME%\\bin\\java.exe&quot; -version\nPATH=%SIKULIX_HOME%libs;%PATH%\necho +++ trying to run SikuliX\necho +++ using: %PARMS% -jar %SIKULIX_HOME%%SJAR%.jar %SIKULI_COMMAND%\n&quot;%JAVA_HOME%\\bin\\java.exe&quot; %PARMS% -jar &quot;%SIKULIX_HOME%%SJAR%.jar&quot; %SIKULI_COMMAND%\nGOTO FINALLY\n\n:STOPIT\necho.+++ ended with some errors\n:FINALLY\nENDLOCAL\n</code></pre>\n<p>I execute the file in cmd, error:</p>\n<pre><code>C:\\SikuliX&gt;runsikulix.cmd\n+++ running this Java\nopenjdk version &quot;11.0.13&quot; 2021-10-19 LTS\nOpenJDK Runtime Environment Corretto-11.0.13.8.1 (build 11.0.13+8-LTS)\nOpenJDK 64-Bit Server VM Corretto-11.0.13.8.1 (build 11.0.13+8-LTS, mixed mode)\n+++ trying to run SikuliX\n+++ using: -Xms64M -Xmx512M -Dfile.encoding=UTF-8 -Dsikuli.FromCommandLine -jar C:\\SikuliX\\sikulix.jar\nException in thread &quot;main&quot; java.lang.ExceptionInInitializerError\n        at org.sikuli.basics.Debug.log(Debug.java:697)\n        at org.sikuli.basics.Debug.logx(Debug.java:675)\n        at org.sikuli.script.RunTime.log(RunTime.java:99)\n        at org.sikuli.script.RunTime.get(RunTime.java:184)\n        at org.sikuli.ide.SikuliIDE.run(SikuliIDE.java:177)\n        at org.sikuli.ide.Sikulix.main(Sikulix.java:21)\nCaused by: java.lang.NumberFormatException: For input string: &quot;.&quot;\n        at java.base/java.lang.NumberFormatException.forInputString(NumberFormatException.java:65)\n        at java.base/java.lang.Integer.parseInt(Integer.java:638)\n        at java.base/java.lang.Integer.parseInt(Integer.java:770)\n        at org.sikuli.basics.Settings.&lt;clinit&gt;(Settings.java:123)\n        ... 6 more\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2353390,"reputation":4575,"user_id":2061763,"accept_rate":67,"display_name":"Andrei Nicusan"},"score":0,"creation_date":1384118909,"post_id":19895308,"comment_id":29598280,"body_markdown":"Can you please add more details to your question? E.g. which is the desired output for the sample input. Do you need a generic algorithm or a generic implementation in Java (I see you added a tag)?","body":"Can you please add more details to your question? E.g. which is the desired output for the sample input. Do you need a generic algorithm or a generic implementation in Java (I see you added a tag)?"},{"owner":{"account_id":3404737,"reputation":73,"user_id":2856103,"accept_rate":38,"display_name":"AayushK"},"score":0,"creation_date":1384119064,"post_id":19895308,"comment_id":29598350,"body_markdown":"a generic implementation in java","body":"a generic implementation in java"},{"owner":{"account_id":1394594,"reputation":4069,"user_id":1324631,"accept_rate":73,"display_name":"AJMansfield"},"score":0,"creation_date":1384122062,"post_id":19895308,"comment_id":29599430,"body_markdown":"Please stop calling it RPN; its not even the proper name for that style, and it is stupidly long. Call it &quot;postfix&quot;, please. Also, parenthesis are stupid. Once you grok the postfix, it is actually easier to understand than the usual parenthesis hurricane.","body":"Please stop calling it RPN; its not even the proper name for that style, and it is stupidly long. Call it &quot;postfix&quot;, please. Also, parenthesis are stupid. Once you grok the postfix, it is actually easier to understand than the usual parenthesis hurricane."}],"answers":[{"comments":[{"owner":{"account_id":1394594,"reputation":4069,"user_id":1324631,"accept_rate":73,"display_name":"AJMansfield"},"score":0,"creation_date":1384121317,"post_id":19895684,"comment_id":29599185,"body_markdown":"In order to encourage learning, ou should know that, I hold copyright to all the code in my answer. (It is released under a [Creative Commons Attribution-ShareAlike 3.0 Unported License](http://creativecommons.org/licenses/by-sa/3.0/).) If you hand any of the code I wrote in to your programming class, as is, then you are breaking copyright law unless you indicate that _I_ wrote it. So please, actually do your own work.","body":"In order to encourage learning, ou should know that, I hold copyright to all the code in my answer. (It is released under a <a href=\"http://creativecommons.org/licenses/by-sa/3.0/\" rel=\"nofollow noreferrer\">Creative Commons Attribution-ShareAlike 3.0 Unported License</a>.) If you hand any of the code I wrote in to your programming class, as is, then you are breaking copyright law unless you indicate that <i>I</i> wrote it. So please, actually do your own work."},{"owner":{"account_id":1394594,"reputation":4069,"user_id":1324631,"accept_rate":73,"display_name":"AJMansfield"},"score":0,"creation_date":1384121732,"post_id":19895684,"comment_id":29599322,"body_markdown":"Now, if you actually understand the code I gave above, then making the part that traverses the tree and builds up the parentheticated expression should be extremely easy.","body":"Now, if you actually understand the code I gave above, then making the part that traverses the tree and builds up the parentheticated expression should be extremely easy."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1384121957,"post_id":19895684,"comment_id":29599393,"body_markdown":"See the [Legal link](http://stackexchange.com/legal). You have already given SO a perpetual license, and the OP has a right to download for personal use under the same terms.","body":"See the <a href=\"http://stackexchange.com/legal\">Legal link</a>. You have already given SO a perpetual license, and the OP has a right to download for personal use under the same terms."},{"owner":{"account_id":1394594,"reputation":4069,"user_id":1324631,"accept_rate":73,"display_name":"AJMansfield"},"score":0,"creation_date":1384122511,"post_id":19895684,"comment_id":29599576,"body_markdown":"@EJP Yes, I am aware of that. I actually just looked it up to check what the licensing requirements were. I am saying that if he uses it for his classwork, he has to put my name on it. The point being not to restrict the use, but to ensure that he doesn&#39;t just copy-paste code. (I intend to release it fully a few days from now, anyway)","body":"@EJP Yes, I am aware of that. I actually just looked it up to check what the licensing requirements were. I am saying that if he uses it for his classwork, he has to put my name on it. The point being not to restrict the use, but to ensure that he doesn&#39;t just copy-paste code. (I intend to release it fully a few days from now, anyway)"}],"tags":[],"owner":{"account_id":1394594,"reputation":4069,"user_id":1324631,"accept_rate":73,"display_name":"AJMansfield"},"comment_count":4,"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1384125433,"creation_date":1384120334,"answer_id":19895684,"question_id":19895308,"body_markdown":"I am going to use a class `Node` to represent the nodes of the tree. All my node needs is the following:\r\n\r\n    public interface Node&lt;T&gt; {\r\n        public void addChild(Node&lt;T&gt;);\r\n    }\r\n\r\nWe will assume I have an implementing class `TreeNode&lt;T&gt;` that has a constructor `public TreeNode(T value)`.\r\n\r\nI am going to assume that you have already chopped up the string and parsed all the characters in some other method, so that you have an array of `Token`s that represent the expression:\r\n\r\n    public interface Token {\r\n    \r\n        /**\r\n         * @return The number of operands this token takes.\r\n         * A return value of 0 indicates this token does not\r\n         * take any operands.\r\n         */\r\n        public int getOperandCount();\r\n    \r\n    }\r\n\r\n(It may be desirable to include additional methods in your classes, so that you can read the values from the tree, but that is not strictly necessary to build it.)\r\n\r\nAlso,\r\n\r\n    public class MalformedExpressionException extends IllegalArgumentException{\r\n        public MalformedExpressionException(String reason){/* [ ... ] */};\r\n        // [ ... ]\r\n    }\r\n\r\nWith that out of the way, the following function will produce you a tree, returning its root node.\r\n\r\n    public static Node&lt;Token&gt; makeTree(Token [] tokens){\r\n        Stack&lt;Node&lt;Token&gt;&gt; stack = new Stack&lt;&gt;();\r\n\r\n        try{\r\n            for(Token t:tokens){\r\n                Node&lt;Token&gt; node = new TreeNode&lt;Token&gt;(t);\r\n                for(int idx = 0; idx &lt; t.getOperandCount(); idx++)\r\n                    node.addChild(stack.pop());\r\n                stack.push(node);\r\n            }\r\n        }catch (EmptyStackException e){\r\n            throw new MalformedExpressionException(&quot;too few operands&quot;);\r\n        }\r\n\r\n        if(stack.size() != 1)\r\n            throw new MalformedExpressionException(&quot;too many operands&quot;);\r\n        \r\n        return stack.pop();\r\n    }\r\n\r\n","title":"Converting from reverse Polish notation(RPN) into a tree form?","body":"<p>I am going to use a class <code>Node</code> to represent the nodes of the tree. All my node needs is the following:</p>\n\n<pre><code>public interface Node&lt;T&gt; {\n    public void addChild(Node&lt;T&gt;);\n}\n</code></pre>\n\n<p>We will assume I have an implementing class <code>TreeNode&lt;T&gt;</code> that has a constructor <code>public TreeNode(T value)</code>.</p>\n\n<p>I am going to assume that you have already chopped up the string and parsed all the characters in some other method, so that you have an array of <code>Token</code>s that represent the expression:</p>\n\n<pre><code>public interface Token {\n\n    /**\n     * @return The number of operands this token takes.\n     * A return value of 0 indicates this token does not\n     * take any operands.\n     */\n    public int getOperandCount();\n\n}\n</code></pre>\n\n<p>(It may be desirable to include additional methods in your classes, so that you can read the values from the tree, but that is not strictly necessary to build it.)</p>\n\n<p>Also,</p>\n\n<pre><code>public class MalformedExpressionException extends IllegalArgumentException{\n    public MalformedExpressionException(String reason){/* [ ... ] */};\n    // [ ... ]\n}\n</code></pre>\n\n<p>With that out of the way, the following function will produce you a tree, returning its root node.</p>\n\n<pre><code>public static Node&lt;Token&gt; makeTree(Token [] tokens){\n    Stack&lt;Node&lt;Token&gt;&gt; stack = new Stack&lt;&gt;();\n\n    try{\n        for(Token t:tokens){\n            Node&lt;Token&gt; node = new TreeNode&lt;Token&gt;(t);\n            for(int idx = 0; idx &lt; t.getOperandCount(); idx++)\n                node.addChild(stack.pop());\n            stack.push(node);\n        }\n    }catch (EmptyStackException e){\n        throw new MalformedExpressionException(\"too few operands\");\n    }\n\n    if(stack.size() != 1)\n        throw new MalformedExpressionException(\"too many operands\");\n\n    return stack.pop();\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1394594,"reputation":4069,"user_id":1324631,"accept_rate":73,"display_name":"AJMansfield"},"score":0,"creation_date":1384122830,"post_id":19895967,"comment_id":29599681,"body_markdown":"What about multiple-character operations, like `**` (for exponentiation), or operations that have more than 2 children (an `if?then:else` operation requires 3 children)","body":"What about multiple-character operations, like <code>**</code> (for exponentiation), or operations that have more than 2 children (an <code>if?then:else</code> operation requires 3 children)"},{"owner":{"account_id":1495927,"reputation":18532,"user_id":1401879,"display_name":"Stefan Haustein"},"score":0,"creation_date":1384123082,"post_id":19895967,"comment_id":29599753,"body_markdown":"Sorry did I overlook something int the example? How do you know &quot;**&quot; is not 2x multiplication? IIRC in Forth you have them separated by whitespace, so in that case you could just use String.split()... But the example only makes sense if ac is treated as two separate variables....","body":"Sorry did I overlook something int the example? How do you know &quot;**&quot; is not 2x multiplication? IIRC in Forth you have them separated by whitespace, so in that case you could just use String.split()... But the example only makes sense if ac is treated as two separate variables...."},{"owner":{"account_id":1394594,"reputation":4069,"user_id":1324631,"accept_rate":73,"display_name":"AJMansfield"},"score":0,"creation_date":1384123573,"post_id":19895967,"comment_id":29599900,"body_markdown":"True! actually you couldn&#39;t use `**` as exponentiation if you were using ``* for multiplication! Although, it could still apply in other situations. For instance, in PostScript the operators are `add`, `sub`, `mul`, and the like, rather than single characters,","body":"True! actually you couldn&#39;t use <code>**</code> as exponentiation if you were using ``* for multiplication! Although, it could still apply in other situations. For instance, in PostScript the operators are <code>add</code>, <code>sub</code>, <code>mul</code>, and the like, rather than single characters,"},{"owner":{"account_id":1394594,"reputation":4069,"user_id":1324631,"accept_rate":73,"display_name":"AJMansfield"},"score":0,"creation_date":1384123720,"post_id":19895967,"comment_id":29599936,"body_markdown":"And the ternary operator still remains.","body":"And the ternary operator still remains."},{"owner":{"account_id":1495927,"reputation":18532,"user_id":1401879,"display_name":"Stefan Haustein"},"score":0,"creation_date":1384124101,"post_id":19895967,"comment_id":29600056,"body_markdown":"Well the code also does not handle unary operators... But making this part of the problem without more information is just speculation...","body":"Well the code also does not handle unary operators... But making this part of the problem without more information is just speculation..."}],"tags":[],"owner":{"account_id":1495927,"reputation":18532,"user_id":1401879,"display_name":"Stefan Haustein"},"comment_count":5,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1384125800,"creation_date":1384122030,"answer_id":19895967,"question_id":19895308,"body_markdown":"You need to build the tree just the way you would process the postfix input. However, when you encounter an operation, instead of calculating the value, you make the arguments on the stack the children of the operator node. Then you push it on the stack (just as you would push the calculation result on the stack in postfix notation).\r\n\r\nAt the end, the only element on the stack should be the root of the complete tree.\r\n\r\nShould look roughly like this: \r\n\r\n    public class Node {\r\n        char value;\r\n        Node left, right;\r\n        \r\n        public Node(char value) {\r\n            this.value = value;\r\n        }\r\n        \r\n        public static Node parseUpn(String s) {\r\n            Stack&lt;Node&gt; stack = new Stack&lt;Node&gt;();\r\n\r\n            for (char c: s.toCharArray()) {\r\n                if (c != &#39; &#39;) {\r\n                    Node node = new Node(c);\r\n                    if (&quot;+-*/&quot;.indexOf(c) != -1) { \r\n                        node.right = stack.pop();\r\n                        node.left = stack.pop();\r\n                    }\r\n                }\r\n                stack.push(node);\r\n            }\r\n\r\n            if (stack.size() != 1) {\r\n                throw new RuntimeException(&quot;Expected exactly one stack value.&quot;);\r\n            }\r\n            return stack.pop();\r\n        }\r\n\r\n        @Override\r\n        public String toString() {\r\n            return left == null ? String.valueOf(value) : \r\n                 (&quot;(&quot; + left + &quot; &quot; + value + &quot; &quot; + right + &quot;)&quot;);\r\n        }\r\n    }\r\n        ","title":"Converting from reverse Polish notation(RPN) into a tree form?","body":"<p>You need to build the tree just the way you would process the postfix input. However, when you encounter an operation, instead of calculating the value, you make the arguments on the stack the children of the operator node. Then you push it on the stack (just as you would push the calculation result on the stack in postfix notation).</p>\n\n<p>At the end, the only element on the stack should be the root of the complete tree.</p>\n\n<p>Should look roughly like this: </p>\n\n<pre><code>public class Node {\n    char value;\n    Node left, right;\n\n    public Node(char value) {\n        this.value = value;\n    }\n\n    public static Node parseUpn(String s) {\n        Stack&lt;Node&gt; stack = new Stack&lt;Node&gt;();\n\n        for (char c: s.toCharArray()) {\n            if (c != ' ') {\n                Node node = new Node(c);\n                if (\"+-*/\".indexOf(c) != -1) { \n                    node.right = stack.pop();\n                    node.left = stack.pop();\n                }\n            }\n            stack.push(node);\n        }\n\n        if (stack.size() != 1) {\n            throw new RuntimeException(\"Expected exactly one stack value.\");\n        }\n        return stack.pop();\n    }\n\n    @Override\n    public String toString() {\n        return left == null ? String.valueOf(value) : \n             (\"(\" + left + \" \" + value + \" \" + right + \")\");\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"score":2,"creation_date":1700467599,"post_id":77514276,"comment_id":136653620,"body_markdown":"&quot;*Forth*&quot; - what is that? Do you mean the Forth Programming Language, that is not really related to Java (question is marked only with the [tag:java] tag)m but for being a programming language?","body":"&quot;<i>Forth</i>&quot; - what is that? Do you mean the Forth Programming Language, that is not really related to Java (question is marked only with the <a href=\"https://stackoverflow.com/questions/tagged/java\">java</a> tag)m but for being a programming language?"},{"owner":{"account_id":1841397,"reputation":1,"user_id":1670713,"display_name":"qjpdzjcb"},"score":0,"creation_date":1700602291,"post_id":77514276,"comment_id":136674436,"body_markdown":"Page 84 of book &quot;flex &amp; bison&quot; form o&#39;reilly. https://www.oreilly.com/library/view/flex-bison/9780596805418/","body":"Page 84 of book &quot;flex &amp; bison&quot; form o&#39;reilly. <a href=\"https://www.oreilly.com/library/view/flex-bison/9780596805418/\" rel=\"nofollow noreferrer\">oreilly.com/library/view/flex-bison/9780596805418</a>"}],"tags":[],"owner":{"account_id":1841397,"reputation":1,"user_id":1670713,"display_name":"qjpdzjcb"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700467566,"creation_date":1700467536,"answer_id":77514276,"question_id":19895308,"body_markdown":"Forth can make tree for you. Just as Stefan say. When you encounter an words, for example a word &quot;pp&quot; defined as (c1 c2 c3 -- p), its argument c1, c2, c3 is on the stack, pop up these 3 items(c1,c2,c3) as child node of node p, push p node back to stack. Finally, you can get the root node  of tree. ","title":"Converting from reverse Polish notation(RPN) into a tree form?","body":"<p>Forth can make tree for you. Just as Stefan say. When you encounter an words, for example a word &quot;pp&quot; defined as (c1 c2 c3 -- p), its argument c1, c2, c3 is on the stack, pop up these 3 items(c1,c2,c3) as child node of node p, push p node back to stack. Finally, you can get the root node  of tree.</p>\n"}],"owner":{"account_id":3404737,"reputation":73,"user_id":2856103,"accept_rate":38,"display_name":"AayushK"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9367,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1700467566,"creation_date":1384118290,"question_id":19895308,"body_markdown":"I dont understand how to do this? Can someone please explain how to convert, for example, `ac+ ac+*`into a binary tree form?? I need to turn this expression into a full parenthesized string representation of this tree.","title":"Converting from reverse Polish notation(RPN) into a tree form?","body":"<p>I dont understand how to do this? Can someone please explain how to convert, for example, <code>ac+ ac+*</code>into a binary tree form?? I need to turn this expression into a full parenthesized string representation of this tree.</p>\n"},{"tags":["java","regex","java-17","java-21"],"comments":[{"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"score":4,"creation_date":1700237493,"post_id":77502994,"comment_id":136633547,"body_markdown":"You&#39;re using non-ASCII in your source files. Step 1 is to ensure encoding issues aren&#39;t to blame. __Triple check__ that your source files are saved as UTF_8 (this is a setting in your editor), and that you are compiling with `javac -encoding UTF-8 *.java` - or told maven or whatever you&#39;re using to do that. Failure of charset encoding lining up between editor and`javac` invocation can result in this, hence, why it&#39;s important to check. The edit question and reflect that you&#39;ve eliminated that as an explanation.","body":"You&#39;re using non-ASCII in your source files. Step 1 is to ensure encoding issues aren&#39;t to blame. <b>Triple check</b> that your source files are saved as UTF_8 (this is a setting in your editor), and that you are compiling with <code>javac -encoding UTF-8 *.java</code> - or told maven or whatever you&#39;re using to do that. Failure of charset encoding lining up between editor and<code>javac</code> invocation can result in this, hence, why it&#39;s important to check. The edit question and reflect that you&#39;ve eliminated that as an explanation."},{"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"score":4,"creation_date":1700237735,"post_id":77502994,"comment_id":136633584,"body_markdown":"Note also that your paste is just wrong. That cannot possibly result in the output you showed - your output starts with: &quot;Expected: `null`&quot; but your code passes the empty string. Therefore, what you pasted is not what you ran. Update that, too. Here&#39;s the thing: You&#39;re asking for something quite weird and more or less a bug in baked in APIs. 999 out of a 1000 cases it&#39;s pilot error.","body":"Note also that your paste is just wrong. That cannot possibly result in the output you showed - your output starts with: &quot;Expected: <code>null</code>&quot; but your code passes the empty string. Therefore, what you pasted is not what you ran. Update that, too. Here&#39;s the thing: You&#39;re asking for something quite weird and more or less a bug in baked in APIs. 999 out of a 1000 cases it&#39;s pilot error."},{"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"score":3,"creation_date":1700238093,"post_id":77502994,"comment_id":136633655,"body_markdown":"maybe &quot; Regex `\\b` Character Class Now Matches ASCII Characters only by Default ([JDK-8264160](https://bugs.openjdk.org/browse/JDK-8264160))&quot;; less probable &quot;Support Unicode 14.0 ([JDK-8268081](https://bugs.openjdk.org/browse/JDK-8268081))&quot; (both from Release Notes Java 19); or &quot;Support Unicode 15.0 ([JDK-8284842](https://bugs.openjdk.org/browse/JDK-8284842))&quot; (Release Notes Java 20)","body":"maybe &quot; Regex <code>\\b</code> Character Class Now Matches ASCII Characters only by Default (<a href=\"https://bugs.openjdk.org/browse/JDK-8264160\" rel=\"nofollow noreferrer\">JDK-8264160</a>)&quot;; less probable &quot;Support Unicode 14.0 (<a href=\"https://bugs.openjdk.org/browse/JDK-8268081\" rel=\"nofollow noreferrer\">JDK-8268081</a>)&quot; (both from Release Notes Java 19); or &quot;Support Unicode 15.0 (<a href=\"https://bugs.openjdk.org/browse/JDK-8284842\" rel=\"nofollow noreferrer\">JDK-8284842</a>)&quot; (Release Notes Java 20)"},{"owner":{"account_id":13423060,"reputation":17,"user_id":9685259,"display_name":"SteVio"},"score":0,"creation_date":1700238304,"post_id":77502994,"comment_id":136633693,"body_markdown":"@rzwitserloot Everything is UTF-8 and I updated the code in this question regarding the null","body":"@rzwitserloot Everything is UTF-8 and I updated the code in this question regarding the null"},{"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"score":0,"creation_date":1700238724,"post_id":77502994,"comment_id":136633778,"body_markdown":"BTW first test can be simplified to `test(&quot;ÏƒN&quot;, &quot;\\\\bN&quot;, true, &quot;found!&quot;)` and using `&quot;(?U)\\\\bN&quot;` avoids this discrepancy - confirming that it is related to `\\b` and mentioned JDK-8264160  - no *time* to check second one","body":"BTW first test can be simplified to <code>test(&quot;ÏƒN&quot;, &quot;\\\\bN&quot;, true, &quot;found!&quot;)</code> and using <code>&quot;(?U)\\\\bN&quot;</code> avoids this discrepancy - confirming that it is related to <code>\\b</code> and mentioned JDK-8264160  - no <i>time</i> to check second one"},{"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"score":1,"creation_date":1700239206,"post_id":77502994,"comment_id":136633857,"body_markdown":"That would fully explain this, user85421. Upgrade that comment to an answer, I think :)","body":"That would fully explain this, user85421. Upgrade that comment to an answer, I think :)"},{"owner":{"account_id":13423060,"reputation":17,"user_id":9685259,"display_name":"SteVio"},"score":0,"creation_date":1700240441,"post_id":77502994,"comment_id":136634126,"body_markdown":"Yes, thank you!","body":"Yes, thank you!"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1700243917,"post_id":77502994,"comment_id":136634762,"body_markdown":"Side note: you do not need to maintain a `start` variable. Just use `matcher.find()` to search from the end of the previous match (or the beginning on the first call). Further, `text.substring(matcher.start(), matcher.end())` can be simplified to `matcher.group()`. Just `while(matcher.find()) match = matcher.group();` This will record the last match, like your code.","body":"Side note: you do not need to maintain a <code>start</code> variable. Just use <code>matcher.find()</code> to search from the end of the previous match (or the beginning on the first call). Further, <code>text.substring(matcher.start(), matcher.end())</code> can be simplified to <code>matcher.group()</code>. Just <code>while(matcher.find()) match = matcher.group();</code> This will record the last match, like your code."},{"owner":{"account_id":13423060,"reputation":17,"user_id":9685259,"display_name":"SteVio"},"score":0,"creation_date":1700247663,"post_id":77502994,"comment_id":136635297,"body_markdown":"This is just a simple code snipped to reproduce the issue because the original code base is much more complex.","body":"This is just a simple code snipped to reproduce the issue because the original code base is much more complex."}],"answers":[{"comments":[{"owner":{"account_id":7547772,"reputation":8593,"user_id":5730279,"display_name":"hc_dev"},"score":0,"creation_date":1700487025,"post_id":77514272,"comment_id":136656906,"body_markdown":"Please pay attention to formatting (use code-formatting) where appropriate. If you cite and use the quote-formatting, also mention the source.","body":"Please pay attention to formatting (use code-formatting) where appropriate. If you cite and use the quote-formatting, also mention the source."}],"tags":[],"owner":{"account_id":13423060,"reputation":17,"user_id":9685259,"display_name":"SteVio"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":true,"score":-1,"last_activity_date":1700467481,"creation_date":1700467481,"answer_id":77514272,"question_id":77502994,"body_markdown":"&gt; maybe &quot; Regex \\b Character Class Now Matches ASCII Characters only by Default (JDK-8264160)&quot;; less probable &quot;Support Unicode 14.0 (JDK-8268081)&quot; (both from Release Notes Java 19); or &quot;Support Unicode 15.0 (JDK-8284842)&quot; (Release Notes Java 20) â€“ \r\nuser85421 2 days ago ","title":"Java 21 vs Java 17 pattern matcher","body":"<blockquote>\n<p>maybe &quot; Regex \\b Character Class Now Matches ASCII Characters only by Default (JDK-8264160)&quot;; less probable &quot;Support Unicode 14.0 (JDK-8268081)&quot; (both from Release Notes Java 19); or &quot;Support Unicode 15.0 (JDK-8284842)&quot; (Release Notes Java 20) â€“\nuser85421 2 days ago</p>\n</blockquote>\n"}],"owner":{"account_id":13423060,"reputation":17,"user_id":9685259,"display_name":"SteVio"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":165,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":77514272,"answer_count":1,"score":0,"last_activity_date":1700467481,"creation_date":1700236619,"question_id":77502994,"body_markdown":"I&#39;m currently trying to run a project with Java 21 which currently runs with Java17 without any problems.\r\n\r\nFor some of our regex patterns, there are matches with Java21 that did not match in Java17 and the other way around.\r\n\r\nIt is reproducible with this simle code:\r\n\r\n```\r\npublic static void main(String[] args) {\r\n        //english\r\n        test(\r\n                &quot;...their sample variance, and Ïƒ2N their population variance.&quot;,\r\n                &quot;(?&lt;![A-Z\\\\$â‚¬&#163;&#165;à¸¿à¸¿=]-?[0-9\\\\.]{0,5})((\\\\b|\\\\-)[0-9]{1,5}[0-9,.]{0,5}(â‚¬|&#165;|à¸¿|à¸¿|&#176;C|&#176;F|&#176;De?|&#176;R[&#233;e&#248;a]?|(Z|E|P|T|G|M|k|h|da|d|c|m|&#181;|n|f|z|y)[Î©â„¦m]|[Î©â„¦]|(Z|E|P|T|G|M|k|h|da|d|c|m|&#181;|n|p|f|a|z|y)?N|[kKMGTPEZY]i?B|[km&#181;np]g|[Mk]t|kWh|GWa|MWd|MWh)(?!\\\\w))&quot;,\r\n                true,\r\n                null);\r\n        //french\r\n        test(\r\n                &quot;Il a &#233;t&#233; mis au banc de la soci&#233;t&#233;.&quot;,\r\n                &quot;\\\\bau (banc) (?:des nations|de la (?:soci&#233;t&#233;|ville|communaut&#233;|France)|de l[&#39;&#180;â€˜â€™â€²](?:Europe|empire|&#233;glise|islam))\\\\b&quot;,\r\n                false,\r\n                &quot;au banc de la soci&#233;t&#233;&quot;);\r\n    }\r\n\r\n    private static void test(String text, String regex, boolean caseSensitive, String expected) {\r\n        int flags = caseSensitive ? 0 : Pattern.CASE_INSENSITIVE | Pattern.UNICODE_CASE;\r\n        Pattern pattern = Pattern.compile(regex, flags);\r\n        Matcher matcher = pattern.matcher(text);\r\n        int start = 0;\r\n        String match = null;\r\n        while (matcher.find(start)) {\r\n            match = text.substring(matcher.start(), matcher.end());\r\n            start = matcher.end();\r\n        }\r\n        System.out.println(&quot;Expected: &quot; + expected);\r\n        System.out.println(&quot;Got: &quot; + match);\r\n    }\r\n```\r\n\r\nOutput with Java 17:\r\n\r\n```\r\nExpected: null\r\nGot: null\r\nExpected: au banc de la soci&#233;t&#233;\r\nGot: au banc de la soci&#233;t&#233;\r\n```\r\n\r\nOutput with Java 21:\r\n\r\n```\r\nExpected: null\r\nGot: 2N\r\nExpected: au banc de la soci&#233;t&#233;\r\nGot: null\r\n```\r\n\r\n\r\nExpect the same behaviour in Java 21 like in Java 17.\r\n","title":"Java 21 vs Java 17 pattern matcher","body":"<p>I'm currently trying to run a project with Java 21 which currently runs with Java17 without any problems.</p>\n<p>For some of our regex patterns, there are matches with Java21 that did not match in Java17 and the other way around.</p>\n<p>It is reproducible with this simle code:</p>\n<pre><code>public static void main(String[] args) {\n        //english\n        test(\n                &quot;...their sample variance, and Ïƒ2N their population variance.&quot;,\n                &quot;(?&lt;![A-Z\\\\$â‚¬Â£Â¥à¸¿à¸¿=]-?[0-9\\\\.]{0,5})((\\\\b|\\\\-)[0-9]{1,5}[0-9,.]{0,5}(â‚¬|Â¥|à¸¿|à¸¿|Â°C|Â°F|Â°De?|Â°R[Ã©eÃ¸a]?|(Z|E|P|T|G|M|k|h|da|d|c|m|Âµ|n|f|z|y)[Î©â„¦m]|[Î©â„¦]|(Z|E|P|T|G|M|k|h|da|d|c|m|Âµ|n|p|f|a|z|y)?N|[kKMGTPEZY]i?B|[kmÂµnp]g|[Mk]t|kWh|GWa|MWd|MWh)(?!\\\\w))&quot;,\n                true,\n                null);\n        //french\n        test(\n                &quot;Il a Ã©tÃ© mis au banc de la sociÃ©tÃ©.&quot;,\n                &quot;\\\\bau (banc) (?:des nations|de la (?:sociÃ©tÃ©|ville|communautÃ©|France)|de l['Â´â€˜â€™â€²](?:Europe|empire|Ã©glise|islam))\\\\b&quot;,\n                false,\n                &quot;au banc de la sociÃ©tÃ©&quot;);\n    }\n\n    private static void test(String text, String regex, boolean caseSensitive, String expected) {\n        int flags = caseSensitive ? 0 : Pattern.CASE_INSENSITIVE | Pattern.UNICODE_CASE;\n        Pattern pattern = Pattern.compile(regex, flags);\n        Matcher matcher = pattern.matcher(text);\n        int start = 0;\n        String match = null;\n        while (matcher.find(start)) {\n            match = text.substring(matcher.start(), matcher.end());\n            start = matcher.end();\n        }\n        System.out.println(&quot;Expected: &quot; + expected);\n        System.out.println(&quot;Got: &quot; + match);\n    }\n</code></pre>\n<p>Output with Java 17:</p>\n<pre><code>Expected: null\nGot: null\nExpected: au banc de la sociÃ©tÃ©\nGot: au banc de la sociÃ©tÃ©\n</code></pre>\n<p>Output with Java 21:</p>\n<pre><code>Expected: null\nGot: 2N\nExpected: au banc de la sociÃ©tÃ©\nGot: null\n</code></pre>\n<p>Expect the same behaviour in Java 21 like in Java 17.</p>\n"},{"tags":["java","spring-boot","hibernate","kotlin","spring-data-jpa"],"comments":[{"owner":{"account_id":3936694,"reputation":4506,"user_id":9244861,"accept_rate":67,"display_name":"Pavan Jadda"},"score":0,"creation_date":1652819888,"post_id":72280039,"comment_id":127697853,"body_markdown":"What do you mean by duplicated? It is ManyToMany relationship, so you can expect each LeakSource to have multiple CompEmails. And also\n`LeakSource` is the owning entity here, so `cascade = [CascadeType.PERSIST, CascadeType.MERGE]` shouldn&#39;t present in CompEmails class","body":"What do you mean by duplicated? It is ManyToMany relationship, so you can expect each LeakSource to have multiple CompEmails. And also <code>LeakSource</code> is the owning entity here, so <code>cascade = [CascadeType.PERSIST, CascadeType.MERGE]</code> shouldn&#39;t present in CompEmails class"}],"answers":[{"tags":[],"owner":{"account_id":16689839,"reputation":555,"user_id":12062831,"display_name":"gsan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652829785,"creation_date":1652829785,"answer_id":72281694,"question_id":72280039,"body_markdown":"LeakSource is the owner side of the relationship. Whenever you try adding a CompEmail to a LeakSource, you should do the following steps given order.\r\n\r\n**1- If CompEmail exists in db: fetch it**\r\n\r\n**if not: create it, save to db and fetch the saved entity**\r\n\r\n    compEmail = getById(ceId);\r\n    // or\r\n    ... create compEmail\r\n    compEmail = save(compEmail);\r\n\r\n**2- If LeakSource exists in db: fetch it**\r\n\r\n**if not: create it, save to db and fetch the saved entity** \r\n\r\n    leakSource = getById(lsId);\r\n    // or\r\n    ... create leakSource\r\n    leakSource = save(leakSource);\r\n\r\n**3- Add CompEmail to LeakSource&#39;s CompEmail list. It should look like this:**\r\n\r\n    ...\r\n    leakSource.getCompEmails().add(compEmail);\r\n\r\n**4- Save the LeakSource entity (which we just added the CompEmail)**\r\n\r\n**Additional notes:**\r\n\r\n`cascade = [CascadeType.PERSIST, CascadeType.MERGE]` \r\nThis property should be removed from `CompEmails`\r\n","title":"Duplicate data when inserting a ManyToMany JPA entity","body":"<p>LeakSource is the owner side of the relationship. Whenever you try adding a CompEmail to a LeakSource, you should do the following steps given order.</p>\n<p><strong>1- If CompEmail exists in db: fetch it</strong></p>\n<p><strong>if not: create it, save to db and fetch the saved entity</strong></p>\n<pre><code>compEmail = getById(ceId);\n// or\n... create compEmail\ncompEmail = save(compEmail);\n</code></pre>\n<p><strong>2- If LeakSource exists in db: fetch it</strong></p>\n<p><strong>if not: create it, save to db and fetch the saved entity</strong></p>\n<pre><code>leakSource = getById(lsId);\n// or\n... create leakSource\nleakSource = save(leakSource);\n</code></pre>\n<p><strong>3- Add CompEmail to LeakSource's CompEmail list. It should look like this:</strong></p>\n<pre><code>...\nleakSource.getCompEmails().add(compEmail);\n</code></pre>\n<p><strong>4- Save the LeakSource entity (which we just added the CompEmail)</strong></p>\n<p><strong>Additional notes:</strong></p>\n<p><code>cascade = [CascadeType.PERSIST, CascadeType.MERGE]</code>\nThis property should be removed from <code>CompEmails</code></p>\n"},{"tags":[],"owner":{"account_id":28049683,"reputation":1,"user_id":21425790,"display_name":"java master"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700467375,"creation_date":1700055350,"answer_id":77488131,"question_id":72280039,"body_markdown":"I think the problem is with `@GeneratedValue(strategy = GenerationType.IDENTITY)`\r\ntry to make without  `@GeneratedValue`, because you want to add records to the exist value not to add another one with differnt id. ","title":"Duplicate data when inserting a ManyToMany JPA entity","body":"<p>I think the problem is with <code>@GeneratedValue(strategy = GenerationType.IDENTITY)</code>\ntry to make without  <code>@GeneratedValue</code>, because you want to add records to the exist value not to add another one with differnt id.</p>\n"}],"owner":{"account_id":25317872,"reputation":1,"user_id":19139667,"display_name":"foxiam"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":358,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1700467375,"creation_date":1652817811,"question_id":72280039,"body_markdown":"When adding an entity that stores other entities in itself, they are added without checking their existence in the database. That is, if I add a leakSource that includes CompEmails that already exist in the table, they are duplicated, and the existing ones are non-linked to the leakSource. Tell me how to fix it?\r\n\r\n```\r\n@Entity\r\n@Table(name = &quot;comp_emails&quot;)\r\nclass CompEmails (\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    val id: Long? = null,\r\n\r\n    val address: String? = null,\r\n\r\n    @ManyToMany(cascade = [CascadeType.PERSIST, CascadeType.MERGE], mappedBy = &quot;compEmails&quot;)\r\n    val leakSources: Set&lt;LeakSource&gt;? = null\r\n)\r\n\r\n@Entity\r\n@Table(name = &quot;leak_source&quot;)\r\nclass LeakSource (\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    val id: Long? = null,\r\n\r\n    val source: String? = null,\r\n\r\n    @ManyToMany(cascade = [CascadeType.PERSIST, CascadeType.MERGE])\r\n    @JoinTable(\r\n        name = &quot;comp_emails_sites_alert&quot;,\r\n        joinColumns = [JoinColumn(name = &quot;source_id&quot;)],\r\n        inverseJoinColumns = [JoinColumn(name = &quot;email_id&quot;)]\r\n    )\r\n    val compEmails: Set&lt;CompEmails&gt;? = null\r\n)\r\n\r\n@PostMapping(&quot;/add-leak-source&quot;)\r\n    fun addLeakSource(@RequestBody leakSource: LeakSource) : LeakSource {\r\n        leakSourceRepo.save(leakSource)\r\n        return leakSourceRepo.getById(leakSource.id!!)\r\n    }\r\n```","title":"Duplicate data when inserting a ManyToMany JPA entity","body":"<p>When adding an entity that stores other entities in itself, they are added without checking their existence in the database. That is, if I add a leakSource that includes CompEmails that already exist in the table, they are duplicated, and the existing ones are non-linked to the leakSource. Tell me how to fix it?</p>\n<pre><code>@Entity\n@Table(name = &quot;comp_emails&quot;)\nclass CompEmails (\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    val id: Long? = null,\n\n    val address: String? = null,\n\n    @ManyToMany(cascade = [CascadeType.PERSIST, CascadeType.MERGE], mappedBy = &quot;compEmails&quot;)\n    val leakSources: Set&lt;LeakSource&gt;? = null\n)\n\n@Entity\n@Table(name = &quot;leak_source&quot;)\nclass LeakSource (\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    val id: Long? = null,\n\n    val source: String? = null,\n\n    @ManyToMany(cascade = [CascadeType.PERSIST, CascadeType.MERGE])\n    @JoinTable(\n        name = &quot;comp_emails_sites_alert&quot;,\n        joinColumns = [JoinColumn(name = &quot;source_id&quot;)],\n        inverseJoinColumns = [JoinColumn(name = &quot;email_id&quot;)]\n    )\n    val compEmails: Set&lt;CompEmails&gt;? = null\n)\n\n@PostMapping(&quot;/add-leak-source&quot;)\n    fun addLeakSource(@RequestBody leakSource: LeakSource) : LeakSource {\n        leakSourceRepo.save(leakSource)\n        return leakSourceRepo.getById(leakSource.id!!)\n    }\n</code></pre>\n"},{"tags":["java","java-8","java-stream","anagram"],"answers":[{"tags":[],"owner":{"account_id":2221557,"reputation":3028,"user_id":1960816,"display_name":"Nick Vanderhoven"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1479885921,"creation_date":1479885921,"answer_id":40758361,"question_id":40756599,"body_markdown":"You can read the words from the file into a List or directly create a Stream of it:\r\n\r\n    try (InputStream is = new URL(&quot;http://www.someurl.pl/file.txt&quot;).openConnection().getInputStream();\r\n         BufferedReader reader = new BufferedReader(new InputStreamReader(is));\r\n         Stream&lt;String&gt; stream = reader.lines()) {\r\n           //do something with stream\r\n    }\r\n\r\nThen just stream over the list and collect the anagrams, where all words that have the same sorted list of characters are considered anagrams:\r\n\r\n    Map&lt;String, List&lt;String&gt;&gt; anagrams =\r\n        stream.collect(Collectors.groupingBy(w -&gt; sorted(w)));\r\n\r\nThe sorted method is just sorting the letters as you did in your example:\r\n\r\n    public static String sorted(String word) {\r\n        char[] chars = word.toCharArray();\r\n        Arrays.sort(chars);\r\n        return new String(chars);\r\n    }\r\n\r\n","title":"Searching anagrams with Java 8","body":"<p>You can read the words from the file into a List or directly create a Stream of it:</p>\n\n<pre><code>try (InputStream is = new URL(\"http://www.someurl.pl/file.txt\").openConnection().getInputStream();\n     BufferedReader reader = new BufferedReader(new InputStreamReader(is));\n     Stream&lt;String&gt; stream = reader.lines()) {\n       //do something with stream\n}\n</code></pre>\n\n<p>Then just stream over the list and collect the anagrams, where all words that have the same sorted list of characters are considered anagrams:</p>\n\n<pre><code>Map&lt;String, List&lt;String&gt;&gt; anagrams =\n    stream.collect(Collectors.groupingBy(w -&gt; sorted(w)));\n</code></pre>\n\n<p>The sorted method is just sorting the letters as you did in your example:</p>\n\n<pre><code>public static String sorted(String word) {\n    char[] chars = word.toCharArray();\n    Arrays.sort(chars);\n    return new String(chars);\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1479900332,"post_id":40762134,"comment_id":68750772,"body_markdown":"Really? `Stream.of(s.split(&quot;&quot;))`? Despite youâ€™re using `Pattern.splitAsStream` within the same answer? Not to speak of the *much* more efficient `s.codePoints().sorted() .collect(StringBuilder::new, StringBuilder::appendCodePoint, StringBuilder::append).toString();`. Though using a `char[] a=s.toCharArray(); Arrays.sort(a); return String.valueOf(a);` might be the simpler choice here.","body":"Really? <code>Stream.of(s.split(&quot;&quot;))</code>? Despite youâ€™re using <code>Pattern.splitAsStream</code> within the same answer? Not to speak of the <i>much</i> more efficient <code>s.codePoints().sorted() .collect(StringBuilder::new, StringBuilder::appendCodePoint, StringBuilder::append).toString();</code>. Though using a <code>char[] a=s.toCharArray(); Arrays.sort(a); return String.valueOf(a);</code> might be the simpler choice here."},{"owner":{"account_id":9682518,"reputation":39,"user_id":7183652,"accept_rate":0,"display_name":"Khalos"},"score":0,"creation_date":1479923120,"post_id":40762134,"comment_id":68765948,"body_markdown":"Good job, could you tell me where can I add my own sort implementation which would be sorting anagrams (without first word)?","body":"Good job, could you tell me where can I add my own sort implementation which would be sorting anagrams (without first word)?"},{"owner":{"account_id":6243460,"reputation":97907,"user_id":4856258,"accept_rate":100,"display_name":"Tagir Valeev"},"score":0,"creation_date":1479956666,"post_id":40762134,"comment_id":68778468,"body_markdown":"@Holger, nobody asked the most efficient solution, only Stream API based solution was requested. If you have performance problems here, you should not use streams in the first place (btw, in this case using `CharBuffer.wrap(a)` as key is probably more efficient). If you just want the Stream API, then my solution is definitely shorter and easier to understand than your alternatives.","body":"@Holger, nobody asked the most efficient solution, only Stream API based solution was requested. If you have performance problems here, you should not use streams in the first place (btw, in this case using <code>CharBuffer.wrap(a)</code> as key is probably more efficient). If you just want the Stream API, then my solution is definitely shorter and easier to understand than your alternatives."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":0,"creation_date":1479976617,"post_id":40762134,"comment_id":68785876,"body_markdown":"I donâ€™t believe that you are serious with â€œ*If you have performance problems here, you should not use streams in the first place*â€.","body":"I donâ€™t believe that you are serious with â€œ<i>If you have performance problems here, you should not use streams in the first place</i>â€."},{"owner":{"account_id":9682518,"reputation":39,"user_id":7183652,"accept_rate":0,"display_name":"Khalos"},"score":0,"creation_date":1480010647,"post_id":40762134,"comment_id":68807070,"body_markdown":"@TagirValeev thank you very much! It works, I need last help, I have to sort keyset from that map, I need to add to my code something like this: `map.keySet().stream().sorted((o1, o2) -&gt; o1.compareTo(o2));`. It works but I don&#39;t know how to add that sorting to map, to whole program, not to only that line.","body":"@TagirValeev thank you very much! It works, I need last help, I have to sort keyset from that map, I need to add to my code something like this: <code>map.keySet().stream().sorted((o1, o2) -&gt; o1.compareTo(o2));</code>. It works but I don&#39;t know how to add that sorting to map, to whole program, not to only that line."},{"owner":{"account_id":6243460,"reputation":97907,"user_id":4856258,"accept_rate":100,"display_name":"Tagir Valeev"},"score":0,"creation_date":1480046082,"post_id":40762134,"comment_id":68816759,"body_markdown":"@Holger, for sorting letters in the words - yes, I&#39;m serious. For groupingBy, etc. streams are surely fine.","body":"@Holger, for sorting letters in the words - yes, I&#39;m serious. For groupingBy, etc. streams are surely fine."},{"owner":{"account_id":6243460,"reputation":97907,"user_id":4856258,"accept_rate":100,"display_name":"Tagir Valeev"},"score":0,"creation_date":1480046264,"post_id":40762134,"comment_id":68816801,"body_markdown":"@Khalos, you can just collect into the `TreeMap` which will sort automatically. Just use instead four-arguments `toMap` collector.","body":"@Khalos, you can just collect into the <code>TreeMap</code> which will sort automatically. Just use instead four-arguments <code>toMap</code> collector."},{"owner":{"account_id":9682518,"reputation":39,"user_id":7183652,"accept_rate":0,"display_name":"Khalos"},"score":0,"creation_date":1480047740,"post_id":40762134,"comment_id":68817163,"body_markdown":"@TagirValeev is that possible? Im working only on values: `map.values().stream()`, can I add there argument to `toMap` which would be sorting keyset?","body":"@TagirValeev is that possible? Im working only on values: <code>map.values().stream()</code>, can I add there argument to <code>toMap</code> which would be sorting keyset?"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":0,"creation_date":1480060433,"post_id":40762134,"comment_id":68821497,"body_markdown":"@Khalos: There is never a need for a `(o1, o2) -&gt; o1.compareTo(o2)` comparator. In case of Streams, just use `sorted()` without parameter to sort comparable values like numbers or strings. For APIs where a comparator is required, you can still use `Comparator.naturalOrder()` for them (though most APIs also support `null` to express the same).","body":"@Khalos: There is never a need for a <code>(o1, o2) -&gt; o1.compareTo(o2)</code> comparator. In case of Streams, just use <code>sorted()</code> without parameter to sort comparable values like numbers or strings. For APIs where a comparator is required, you can still use <code>Comparator.naturalOrder()</code> for them (though most APIs also support <code>null</code> to express the same)."},{"owner":{"account_id":9682518,"reputation":39,"user_id":7183652,"accept_rate":0,"display_name":"Khalos"},"score":0,"creation_date":1480151660,"post_id":40762134,"comment_id":68853225,"body_markdown":"@Holger hmmm... so I add that line `sorted()` to my code: ... map = ... and anything happen, keys are not sorted.","body":"@Holger hmmm... so I add that line <code>sorted()</code> to my code: ... map = ... and anything happen, keys are not sorted."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":0,"creation_date":1480327386,"post_id":40762134,"comment_id":68900198,"body_markdown":"@Khalos: when you collect into a `Map`, the map implementation determined the order. Tagir already addressed that point in a comment. If you collect into a `TreeMap`, it will be sorted regardless of whether or how you sort before that. I only added that *if* you have a need to sort a stream, e.g. when collecting into a list afterwards, you donâ€™t need a `(o1, o2) -&gt; o1.compareTo(o2)` comparator.","body":"@Khalos: when you collect into a <code>Map</code>, the map implementation determined the order. Tagir already addressed that point in a comment. If you collect into a <code>TreeMap</code>, it will be sorted regardless of whether or how you sort before that. I only added that <i>if</i> you have a need to sort a stream, e.g. when collecting into a list afterwards, you donâ€™t need a <code>(o1, o2) -&gt; o1.compareTo(o2)</code> comparator."}],"tags":[],"owner":{"account_id":6243460,"reputation":97907,"user_id":4856258,"accept_rate":100,"display_name":"Tagir Valeev"},"comment_count":11,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1479957286,"creation_date":1479897627,"answer_id":40762134,"question_id":40756599,"body_markdown":"Let&#39;s create separate method which sorts letters. You can do this with Stream API as well:\r\n\r\n    private static String canonicalize(String s) {\r\n        return Stream.of(s.split(&quot;&quot;)).sorted().collect(Collectors.joining());\r\n    }\r\n\r\nNow you can read some `Reader`, extract words from it and group words by canonical form:\r\n\r\n    Map&lt;String, Set&lt;String&gt;&gt; map = new BufferedReader(reader).lines()\r\n                 .flatMap(Pattern.compile(&quot;\\\\W+&quot;)::splitAsStream)\r\n                 .collect(Collectors.groupingBy(Anagrams::canonicalize, Collectors.toSet()));\r\n\r\nNext, you can remove single letter groups using Stream API for the third time:\r\n\r\n    return map.values().stream().filter(list -&gt; list.size() &gt; 1).collect(Collectors.toList());\r\n\r\nNow you can pass some reader to this code to extract anagrams from it. Here&#39;s complete code:\r\n\r\n    import java.io.*;\r\n    import java.util.*;\r\n    import java.util.regex.Pattern;\r\n    import java.util.stream.*;\r\n    \r\n    public class Anagrams {\r\n        private static String canonicalize(String s) {\r\n            return Stream.of(s.split(&quot;&quot;)).sorted().collect(Collectors.joining());\r\n        }\r\n    \r\n        public static List&lt;Set&lt;String&gt;&gt; getAnagrams(Reader reader) {\r\n        Map&lt;String, Set&lt;String&gt;&gt; map = new BufferedReader(reader).lines()\r\n                                         .flatMap(Pattern.compile(&quot;\\\\W+&quot;)::splitAsStream)\r\n                                         .collect(Collectors.groupingBy(Anagrams::canonicalize, Collectors.toSet()));\r\n            return map.values().stream().filter(list -&gt; list.size() &gt; 1).collect(Collectors.toList());\r\n        }\r\n    \r\n        public static void main(String[] args) throws IOException {\r\n            getAnagrams(new StringReader(&quot;abc cab tat aaa\\natt tat bbb&quot;))\r\n                    .forEach(System.out::println);\r\n        }\r\n    }\r\n\r\nIt prints\r\n\r\n    [att, tat]\r\n    [abc, cab]\r\n\r\nIf you want to use an URL, just replace the `StringReader` with `new InputStreamReader(new URL(&quot;www.xxx.pl/textFile.txt&quot;).openStream(), StandardCharsets.UTF_8)`\r\n\r\n---\r\n\r\nIf you want to extract the first element of the anagram set, the solution should be modified slightly:\r\n\r\n    public static Map&lt;String, Set&lt;String&gt;&gt; getAnagrams(Reader reader) {\r\n        Map&lt;String, List&lt;String&gt;&gt; map = new BufferedReader(reader).lines()\r\n           .flatMap(Pattern.compile(&quot;\\\\W+&quot;)::splitAsStream)\r\n           .distinct() // remove repeating words\r\n           .collect(Collectors.groupingBy(Anagrams::canonicalize));\r\n        return map.values().stream()\r\n           .filter(list -&gt; list.size() &gt; 1)\r\n           .collect(Collectors.toMap(list -&gt; list.get(0), \r\n                                     list -&gt; new TreeSet&lt;&gt;(list.subList(1, list.size()))));\r\n    }\r\n\r\nHere the result is the map where the key is the first element in anagram set (first occurred in the input file) and the value is the rest elements sorted alphabetically (I make a sublist to skip the first element, then move them into `TreeSet` to perform sorting; an alternative would be `list.stream().skip(1).sorted().collect(Collectors.toList())`).\r\n\r\nExample usage:\r\n\r\n    getAnagrams(new StringReader(&quot;abc cab tat aaa\\natt tat bbb\\ntta\\ncabr\\nrbac cab crab cabrc cabr&quot;))\r\n            .entrySet().forEach(System.out::println);\r\n","title":"Searching anagrams with Java 8","body":"<p>Let's create separate method which sorts letters. You can do this with Stream API as well:</p>\n\n<pre><code>private static String canonicalize(String s) {\n    return Stream.of(s.split(\"\")).sorted().collect(Collectors.joining());\n}\n</code></pre>\n\n<p>Now you can read some <code>Reader</code>, extract words from it and group words by canonical form:</p>\n\n<pre><code>Map&lt;String, Set&lt;String&gt;&gt; map = new BufferedReader(reader).lines()\n             .flatMap(Pattern.compile(\"\\\\W+\")::splitAsStream)\n             .collect(Collectors.groupingBy(Anagrams::canonicalize, Collectors.toSet()));\n</code></pre>\n\n<p>Next, you can remove single letter groups using Stream API for the third time:</p>\n\n<pre><code>return map.values().stream().filter(list -&gt; list.size() &gt; 1).collect(Collectors.toList());\n</code></pre>\n\n<p>Now you can pass some reader to this code to extract anagrams from it. Here's complete code:</p>\n\n<pre><code>import java.io.*;\nimport java.util.*;\nimport java.util.regex.Pattern;\nimport java.util.stream.*;\n\npublic class Anagrams {\n    private static String canonicalize(String s) {\n        return Stream.of(s.split(\"\")).sorted().collect(Collectors.joining());\n    }\n\n    public static List&lt;Set&lt;String&gt;&gt; getAnagrams(Reader reader) {\n    Map&lt;String, Set&lt;String&gt;&gt; map = new BufferedReader(reader).lines()\n                                     .flatMap(Pattern.compile(\"\\\\W+\")::splitAsStream)\n                                     .collect(Collectors.groupingBy(Anagrams::canonicalize, Collectors.toSet()));\n        return map.values().stream().filter(list -&gt; list.size() &gt; 1).collect(Collectors.toList());\n    }\n\n    public static void main(String[] args) throws IOException {\n        getAnagrams(new StringReader(\"abc cab tat aaa\\natt tat bbb\"))\n                .forEach(System.out::println);\n    }\n}\n</code></pre>\n\n<p>It prints</p>\n\n<pre><code>[att, tat]\n[abc, cab]\n</code></pre>\n\n<p>If you want to use an URL, just replace the <code>StringReader</code> with <code>new InputStreamReader(new URL(\"www.xxx.pl/textFile.txt\").openStream(), StandardCharsets.UTF_8)</code></p>\n\n<hr>\n\n<p>If you want to extract the first element of the anagram set, the solution should be modified slightly:</p>\n\n<pre><code>public static Map&lt;String, Set&lt;String&gt;&gt; getAnagrams(Reader reader) {\n    Map&lt;String, List&lt;String&gt;&gt; map = new BufferedReader(reader).lines()\n       .flatMap(Pattern.compile(\"\\\\W+\")::splitAsStream)\n       .distinct() // remove repeating words\n       .collect(Collectors.groupingBy(Anagrams::canonicalize));\n    return map.values().stream()\n       .filter(list -&gt; list.size() &gt; 1)\n       .collect(Collectors.toMap(list -&gt; list.get(0), \n                                 list -&gt; new TreeSet&lt;&gt;(list.subList(1, list.size()))));\n}\n</code></pre>\n\n<p>Here the result is the map where the key is the first element in anagram set (first occurred in the input file) and the value is the rest elements sorted alphabetically (I make a sublist to skip the first element, then move them into <code>TreeSet</code> to perform sorting; an alternative would be <code>list.stream().skip(1).sorted().collect(Collectors.toList())</code>).</p>\n\n<p>Example usage:</p>\n\n<pre><code>getAnagrams(new StringReader(\"abc cab tat aaa\\natt tat bbb\\ntta\\ncabr\\nrbac cab crab cabrc cabr\"))\n        .entrySet().forEach(System.out::println);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16222206,"reputation":1,"user_id":11713504,"display_name":"FizaShaikh"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1561723953,"creation_date":1561723953,"answer_id":56806734,"question_id":40756599,"body_markdown":"You can try this method \r\n\r\n    //---------------Anagram---------------------------------\r\n\t\tString w1 = &quot;Triangle&quot;.toLowerCase(), w2 = &quot;Integral&quot;.toLowerCase();\r\n\t\tHashMap&lt;String, Integer&gt; w1Map = new HashMap&lt;String, Integer&gt;();\r\n\t\tHashMap&lt;String, Integer&gt; w2Map = new HashMap&lt;String, Integer&gt;();\r\n        \r\n\t\tw1Map = convertToHashMap(w1);\r\n\t\tw2Map = convertToHashMap(w2);\t\t\r\n\t\t\r\n       if( !(w1.equals(w2)) &amp;&amp; (w1Map.keySet().equals(w2Map.keySet()))) \r\n    \t   System.out.println(w1+&quot; and &quot;+w2+&quot; are anagrams&quot;);\r\n       else \r\n    \t   System.out.println(w1+&quot; and &quot;+w2+&quot; are not anagrams&quot;);\r\n\r\ncalls below method\r\n\r\n    public static HashMap&lt;String, Integer&gt; convertToHashMap(String s) {\r\n\t\tHashMap&lt;String, Integer&gt; wordMap = new HashMap&lt;String, Integer&gt;();\r\n\t\tfor (int i = 0;i &lt; s.length(); i++){\r\n\t\t    wordMap.put(String.valueOf(s.charAt(i)), Integer.valueOf(s.charAt(i)));\r\n\t\t}\r\n\t\treturn wordMap;\r\n\r\n       ","title":"Searching anagrams with Java 8","body":"<p>You can try this method </p>\n\n<pre><code>//---------------Anagram---------------------------------\n    String w1 = \"Triangle\".toLowerCase(), w2 = \"Integral\".toLowerCase();\n    HashMap&lt;String, Integer&gt; w1Map = new HashMap&lt;String, Integer&gt;();\n    HashMap&lt;String, Integer&gt; w2Map = new HashMap&lt;String, Integer&gt;();\n\n    w1Map = convertToHashMap(w1);\n    w2Map = convertToHashMap(w2);       \n\n   if( !(w1.equals(w2)) &amp;&amp; (w1Map.keySet().equals(w2Map.keySet()))) \n       System.out.println(w1+\" and \"+w2+\" are anagrams\");\n   else \n       System.out.println(w1+\" and \"+w2+\" are not anagrams\");\n</code></pre>\n\n<p>calls below method</p>\n\n<pre><code>public static HashMap&lt;String, Integer&gt; convertToHashMap(String s) {\n    HashMap&lt;String, Integer&gt; wordMap = new HashMap&lt;String, Integer&gt;();\n    for (int i = 0;i &lt; s.length(); i++){\n        wordMap.put(String.valueOf(s.charAt(i)), Integer.valueOf(s.charAt(i)));\n    }\n    return wordMap;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5119065,"reputation":25,"user_id":4103281,"display_name":"Joao Nicolau"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700467307,"creation_date":1700065169,"answer_id":77489351,"question_id":40756599,"body_markdown":"    public class TestAnagram {\r\n    \r\n        @Test\r\n        public void testAnagram1() {\r\n            String[] anagram = {&quot;listen&quot;, &quot;silent&quot;};\r\n            int v = anagram[0].toLowerCase().chars().reduce((i, j) -&gt; i + j).getAsInt() - anagram[1].toLowerCase().chars().reduce((i, j) -&gt; i + j).getAsInt();\r\n            Assert.assertEquals(v, 0);\r\n    \r\n        }\r\n    }\r\n\r\n","title":"Searching anagrams with Java 8","body":"<pre><code>public class TestAnagram {\n\n    @Test\n    public void testAnagram1() {\n        String[] anagram = {&quot;listen&quot;, &quot;silent&quot;};\n        int v = anagram[0].toLowerCase().chars().reduce((i, j) -&gt; i + j).getAsInt() - anagram[1].toLowerCase().chars().reduce((i, j) -&gt; i + j).getAsInt();\n        Assert.assertEquals(v, 0);\n\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":9682518,"reputation":39,"user_id":7183652,"accept_rate":0,"display_name":"Khalos"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8739,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":4,"score":2,"last_activity_date":1700467307,"creation_date":1479878398,"question_id":40756599,"body_markdown":"I have to write program which should be reading file for anagrams and show word + his anagrams. Txt files is very big, after using scanner, listOfWords size is: 25000.\r\n\r\nOutput example:\r\n\r\n    word anagram1 anagram2 anagram3 ...\r\n    word2 anagram1 anagram2...\r\n\r\nI have code, it works but very slow:\r\n\r\n      private static List&lt;String&gt; listOfWords = new ArrayList&lt;String&gt;();\r\n      private static List&lt;ArrayList&lt;String&gt;&gt; allAnagrams = new ArrayList&lt;ArrayList&lt;String&gt;&gt;();\r\n    \r\n      public static void main(String[] args) throws Exception {\r\n        URL url = new URL(&quot;www.xxx.pl/textFile.txt&quot;);\r\n        Scanner scanner = new Scanner(url.openStream());\r\n        while (scanner.hasNext()) {\r\n          String nextToken = scanner.next();\r\n          listOfWords.add(nextToken);\r\n        }\r\n        scanner.close();\r\n    \r\n        while (listOfWords.isEmpty() == false) {\r\n          ArrayList&lt;String&gt; anagramy = new ArrayList&lt;String&gt;();\r\n          String wzor = listOfWords.remove(0);\r\n          anagramy.add(wzor);\r\n          char[] ch = wzor.toCharArray();\r\n          Arrays.sort(ch);\r\n          for (int i = 0; i &lt; listOfWords.size(); i++) {\r\n            String slowo = listOfWords.get(i);\r\n            char[] cha = slowo.toCharArray();\r\n            Arrays.sort(cha);\r\n            if (Arrays.equals(ch, cha)) {\r\n              anagramy.add(slowo);\r\n              listOfWords.remove(i);\r\n              i--;\r\n            }\r\n          }\r\n          allAnagrams.add(anagramy);\r\n        }\r\n    \r\n        for (ArrayList&lt;String&gt; ar : allAnagrams) {\r\n          String result = &quot;&quot;;\r\n          if (ar.size() &gt; 1) {\r\n            for (int i = 1; i &lt; ar.size(); i++) {\r\n              result = ar.get(i) + &quot; &quot;;\r\n            }\r\n            System.out.println(ar.get(0) + &quot; &quot; + result);\r\n          }\r\n        }\r\n      }\r\n\r\nI have to write it with Java 8 - streams but I don&#39;t know. It is possible to use Streams for reading from URL + searching anagrams? Could you help me with searching anagrams by Stream? Teacher told me that code should be shorter that mine with reading a whole list. Only a few lines, is that possible?","title":"Searching anagrams with Java 8","body":"<p>I have to write program which should be reading file for anagrams and show word + his anagrams. Txt files is very big, after using scanner, listOfWords size is: 25000.</p>\n\n<p>Output example:</p>\n\n<pre><code>word anagram1 anagram2 anagram3 ...\nword2 anagram1 anagram2...\n</code></pre>\n\n<p>I have code, it works but very slow:</p>\n\n<pre><code>  private static List&lt;String&gt; listOfWords = new ArrayList&lt;String&gt;();\n  private static List&lt;ArrayList&lt;String&gt;&gt; allAnagrams = new ArrayList&lt;ArrayList&lt;String&gt;&gt;();\n\n  public static void main(String[] args) throws Exception {\n    URL url = new URL(\"www.xxx.pl/textFile.txt\");\n    Scanner scanner = new Scanner(url.openStream());\n    while (scanner.hasNext()) {\n      String nextToken = scanner.next();\n      listOfWords.add(nextToken);\n    }\n    scanner.close();\n\n    while (listOfWords.isEmpty() == false) {\n      ArrayList&lt;String&gt; anagramy = new ArrayList&lt;String&gt;();\n      String wzor = listOfWords.remove(0);\n      anagramy.add(wzor);\n      char[] ch = wzor.toCharArray();\n      Arrays.sort(ch);\n      for (int i = 0; i &lt; listOfWords.size(); i++) {\n        String slowo = listOfWords.get(i);\n        char[] cha = slowo.toCharArray();\n        Arrays.sort(cha);\n        if (Arrays.equals(ch, cha)) {\n          anagramy.add(slowo);\n          listOfWords.remove(i);\n          i--;\n        }\n      }\n      allAnagrams.add(anagramy);\n    }\n\n    for (ArrayList&lt;String&gt; ar : allAnagrams) {\n      String result = \"\";\n      if (ar.size() &gt; 1) {\n        for (int i = 1; i &lt; ar.size(); i++) {\n          result = ar.get(i) + \" \";\n        }\n        System.out.println(ar.get(0) + \" \" + result);\n      }\n    }\n  }\n</code></pre>\n\n<p>I have to write it with Java 8 - streams but I don't know. It is possible to use Streams for reading from URL + searching anagrams? Could you help me with searching anagrams by Stream? Teacher told me that code should be shorter that mine with reading a whole list. Only a few lines, is that possible?</p>\n"},{"tags":["java","java-8","jaxb","java-17"],"comments":[{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":1,"creation_date":1680678819,"post_id":75936491,"comment_id":133936907,"body_markdown":"Well, you should be able to get the relevant information yourself via a quick google search. If you want to go for Jakarta EE (formerly Java EE) you&#39;d get Jaxb as well so I&#39;d use the respective versions. For Jakarta EE compatibility, could could refer here (result of a quick search): https://en.wikipedia.org/wiki/Jakarta_EE","body":"Well, you should be able to get the relevant information yourself via a quick google search. If you want to go for Jakarta EE (formerly Java EE) you&#39;d get Jaxb as well so I&#39;d use the respective versions. For Jakarta EE compatibility, could could refer here (result of a quick search): <a href=\"https://en.wikipedia.org/wiki/Jakarta_EE\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Jakarta_EE</a>"}],"answers":[{"tags":[],"owner":{"account_id":1851020,"reputation":4117,"user_id":1677594,"display_name":"Guillaume Husta"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680679664,"creation_date":1680679664,"answer_id":75936707,"question_id":75936491,"body_markdown":"Begin to migrate **from Java 8 to Java 11** first.\r\n\r\nThen read for example articles like _Removal of Java EE and CORBA Modules_ in Java 11 (https://docs.oracle.com/en/java/javase/11/migrate/index.html#JSMIG-GUID-561005C1-12BB-455C-AD41-00455CAD23A6) : JAXB and JAX-WS are no longer bundled with JDK.\r\n\r\nOr this one : https://learn.microsoft.com/java/openjdk/transition-from-java-8-to-java-11\r\n\r\nSo you will need to add JAX-B for example.\r\n\r\nWith Maven:\r\n\r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;jakarta.xml.bind&lt;/groupId&gt;\r\n    &lt;artifactId&gt;jakarta.xml.bind-api&lt;/artifactId&gt;\r\n    &lt;version&gt;2.3.3&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nHowever an implementation may be also necessary.\r\n\r\nLike :\r\n\r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.glassfish.jaxb&lt;/groupId&gt;\r\n    &lt;artifactId&gt;jaxb-runtime&lt;/artifactId&gt;\r\n    &lt;version&gt;2.3.8&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n","title":"What are the JAXB Jar files to be used with Java 17 project","body":"<p>Begin to migrate <strong>from Java 8 to Java 11</strong> first.</p>\n<p>Then read for example articles like <em>Removal of Java EE and CORBA Modules</em> in Java 11 (<a href=\"https://docs.oracle.com/en/java/javase/11/migrate/index.html#JSMIG-GUID-561005C1-12BB-455C-AD41-00455CAD23A6\" rel=\"nofollow noreferrer\">https://docs.oracle.com/en/java/javase/11/migrate/index.html#JSMIG-GUID-561005C1-12BB-455C-AD41-00455CAD23A6</a>) : JAXB and JAX-WS are no longer bundled with JDK.</p>\n<p>Or this one : <a href=\"https://learn.microsoft.com/java/openjdk/transition-from-java-8-to-java-11\" rel=\"nofollow noreferrer\">https://learn.microsoft.com/java/openjdk/transition-from-java-8-to-java-11</a></p>\n<p>So you will need to add JAX-B for example.</p>\n<p>With Maven:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;jakarta.xml.bind&lt;/groupId&gt;\n    &lt;artifactId&gt;jakarta.xml.bind-api&lt;/artifactId&gt;\n    &lt;version&gt;2.3.3&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>However an implementation may be also necessary.</p>\n<p>Like :</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.glassfish.jaxb&lt;/groupId&gt;\n    &lt;artifactId&gt;jaxb-runtime&lt;/artifactId&gt;\n    &lt;version&gt;2.3.8&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":18433200,"reputation":61,"user_id":13427790,"display_name":"Anjit Singha"},"score":1,"creation_date":1680687900,"post_id":75936717,"comment_id":133939025,"body_markdown":"Thanks for your response. What are the other Jar files that is needed to add like jaxb-impl, jaxb-core, etc. and what should their version to work with JDK 17.","body":"Thanks for your response. What are the other Jar files that is needed to add like jaxb-impl, jaxb-core, etc. and what should their version to work with JDK 17."},{"owner":{"account_id":902001,"reputation":39942,"user_id":937892,"accept_rate":63,"display_name":"PSR"},"score":0,"creation_date":1694489698,"post_id":75936717,"comment_id":135893996,"body_markdown":"@AnjitSingha, it worked for you ?. This is Not working for me , can you please help me on this ?","body":"@AnjitSingha, it worked for you ?. This is Not working for me , can you please help me on this ?"},{"owner":{"account_id":5885176,"reputation":780,"user_id":4633408,"accept_rate":33,"display_name":"Anton"},"score":0,"creation_date":1700053518,"post_id":75936717,"comment_id":136607189,"body_markdown":"The question asked about Java 17, not Java 8.  This answer isn&#39;t helpful.","body":"The question asked about Java 17, not Java 8.  This answer isn&#39;t helpful."},{"owner":{"account_id":6518557,"reputation":2810,"user_id":5043481,"display_name":"zforgo"},"score":0,"creation_date":1700059383,"post_id":75936717,"comment_id":136608459,"body_markdown":"I&#39;ve never ever mentioned that is a Java 8 based solution. I wrote a JavaEE 8 and a JakartaEE solution. Java 8 is totally different than JavaEE 8","body":"I&#39;ve never ever mentioned that is a Java 8 based solution. I wrote a JavaEE 8 and a JakartaEE solution. Java 8 is totally different than JavaEE 8"}],"tags":[],"owner":{"account_id":6518557,"reputation":2810,"user_id":5043481,"display_name":"zforgo"},"comment_count":4,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1686582208,"creation_date":1680679757,"answer_id":75936717,"question_id":75936491,"body_markdown":"In Java 8 and earlier, JAXB was integrated within JVM itself, but this was changed in Java 9. Because of the modularization of the JVM (Project Jigsaw), JAXB and some others were removed from JDK. This doesn&#39;t mean JAXB is no longer supported, just that it&#180;s another dependency that needs to be on the classpath.\r\n\r\nDue to JavaEE / Jakarta EE having breaking changes regarding namespace, the right dependency coordinates depends on what kind of enterprise specification is used.\r\n\r\nIn case of JavaEE 8 - the `javax.*` namespace - the correct dependency is:\r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\r\n    &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\r\n    &lt;version&gt;2.3.1&lt;/version&gt;\r\n    &lt;scope&gt;provided&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n```\r\nand the dependency compilant with JakartaEE - the `jakarta.*` namespace - is:\r\n\r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;jakarta.xml.bind&lt;/groupId&gt;\r\n    &lt;artifactId&gt;jakarta.xml.bind-api&lt;/artifactId&gt;\r\n    &lt;version&gt;4.0.0&lt;/version&gt;\r\n    &lt;scope&gt;provided&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n```\r\n","title":"What are the JAXB Jar files to be used with Java 17 project","body":"<p>In Java 8 and earlier, JAXB was integrated within JVM itself, but this was changed in Java 9. Because of the modularization of the JVM (Project Jigsaw), JAXB and some others were removed from JDK. This doesn't mean JAXB is no longer supported, just that itÂ´s another dependency that needs to be on the classpath.</p>\n<p>Due to JavaEE / Jakarta EE having breaking changes regarding namespace, the right dependency coordinates depends on what kind of enterprise specification is used.</p>\n<p>In case of JavaEE 8 - the <code>javax.*</code> namespace - the correct dependency is:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\n    &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\n    &lt;version&gt;2.3.1&lt;/version&gt;\n    &lt;scope&gt;provided&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>and the dependency compilant with JakartaEE - the <code>jakarta.*</code> namespace - is:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;jakarta.xml.bind&lt;/groupId&gt;\n    &lt;artifactId&gt;jakarta.xml.bind-api&lt;/artifactId&gt;\n    &lt;version&gt;4.0.0&lt;/version&gt;\n    &lt;scope&gt;provided&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3909931,"reputation":406,"user_id":3235583,"display_name":"Rick O&#39;Sullivan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681224129,"creation_date":1680785784,"answer_id":75949788,"question_id":75936491,"body_markdown":"Here are the JAXB dependencies that I use in [hisrc-higherjaxb-sample-jaxbplugins (zip)][1], a JAXB 4.x sample project built using JDK 17. Focus on the dependencies below [hisrc-basicjaxb-runtime][2], in this dependency tree, for the answer to your question.\r\n\r\n~~~\r\norg.patrodyne.jvnet:hisrc-higherjaxb-sample-jaxbplugins:jar:2.1.0\r\n+- org.patrodyne.jvnet:hisrc-basicjaxb-runtime:jar:2.1.0:compile\r\n|  +- jakarta.activation:jakarta.activation-api:jar:2.1.1:compile\r\n|  +- jakarta.xml.bind:jakarta.xml.bind-api:jar:4.0.0:compile\r\n|  +- org.glassfish.jaxb:jaxb-runtime:jar:4.0.2:compile\r\n|  |  \\- org.glassfish.jaxb:jaxb-core:jar:4.0.2:compile\r\n|  |     +- org.eclipse.angus:angus-activation:jar:2.0.0:runtime\r\n|  |     +- org.glassfish.jaxb:txw2:jar:4.0.2:compile\r\n|  |     \\- com.sun.istack:istack-commons-runtime:jar:4.1.1:compile\r\n|  +- commons-io:commons-io:jar:2.11.0:compile\r\n|  \\- org.slf4j:slf4j-api:jar:2.0.6:compile\r\n\\- org.patrodyne.jvnet:hisrc-basicjaxb-testing:jar:2.1.0:test\r\n   +- org.junit.jupiter:junit-jupiter-api:jar:5.9.2:test\r\n   |  +- org.opentest4j:opentest4j:jar:1.2.0:test\r\n   |  +- org.junit.platform:junit-platform-commons:jar:1.9.2:test\r\n   |  \\- org.apiguardian:apiguardian-api:jar:1.1.2:test\r\n   \\- xmlunit:xmlunit:jar:1.6:test\r\n\r\n~~~\r\n\r\n&gt; Note: The [4.x][6] release of the JAXB [API][7], [RI][8] and [ZIP][11] uses the latest [JAXB Schema Binding 3.0 Specification][9] for [Jakarta EE 10][10].\r\n\r\n&lt;!-- References --&gt;\r\n\r\n[1]: https://github.com/patrodyne/hisrc-higherjaxb/releases/download/2.1.0/hisrc-higherjaxb-sample-jaxbplugins-2.1.0-mvn-src.zip\r\n[2]: https://github.com/patrodyne/hisrc-basicjaxb#readme\r\n[6]: https://jakarta.ee/specifications/xml-binding/4.0/\r\n[7]: https://github.com/jakartaee/jaxb-api/tree/4.0.0-RELEASE\r\n[8]: https://github.com/eclipse-ee4j/jaxb-ri/tree/4.0.2-RI-RELEASE/jaxb-ri\r\n[9]: https://jakarta.ee/xml/ns/jaxb/bindingschema_3_0.xsd\r\n[10]: https://projects.eclipse.org/projects/ee4j.jaxb-impl/releases/4.0.0\r\n[11]: https://repo1.maven.org/maven2/com/sun/xml/bind/jaxb-ri/4.0.2/\r\n","title":"What are the JAXB Jar files to be used with Java 17 project","body":"<p>Here are the JAXB dependencies that I use in <a href=\"https://github.com/patrodyne/hisrc-higherjaxb/releases/download/2.1.0/hisrc-higherjaxb-sample-jaxbplugins-2.1.0-mvn-src.zip\" rel=\"nofollow noreferrer\">hisrc-higherjaxb-sample-jaxbplugins (zip)</a>, a JAXB 4.x sample project built using JDK 17. Focus on the dependencies below <a href=\"https://github.com/patrodyne/hisrc-basicjaxb#readme\" rel=\"nofollow noreferrer\">hisrc-basicjaxb-runtime</a>, in this dependency tree, for the answer to your question.</p>\n<pre><code>org.patrodyne.jvnet:hisrc-higherjaxb-sample-jaxbplugins:jar:2.1.0\n+- org.patrodyne.jvnet:hisrc-basicjaxb-runtime:jar:2.1.0:compile\n|  +- jakarta.activation:jakarta.activation-api:jar:2.1.1:compile\n|  +- jakarta.xml.bind:jakarta.xml.bind-api:jar:4.0.0:compile\n|  +- org.glassfish.jaxb:jaxb-runtime:jar:4.0.2:compile\n|  |  \\- org.glassfish.jaxb:jaxb-core:jar:4.0.2:compile\n|  |     +- org.eclipse.angus:angus-activation:jar:2.0.0:runtime\n|  |     +- org.glassfish.jaxb:txw2:jar:4.0.2:compile\n|  |     \\- com.sun.istack:istack-commons-runtime:jar:4.1.1:compile\n|  +- commons-io:commons-io:jar:2.11.0:compile\n|  \\- org.slf4j:slf4j-api:jar:2.0.6:compile\n\\- org.patrodyne.jvnet:hisrc-basicjaxb-testing:jar:2.1.0:test\n   +- org.junit.jupiter:junit-jupiter-api:jar:5.9.2:test\n   |  +- org.opentest4j:opentest4j:jar:1.2.0:test\n   |  +- org.junit.platform:junit-platform-commons:jar:1.9.2:test\n   |  \\- org.apiguardian:apiguardian-api:jar:1.1.2:test\n   \\- xmlunit:xmlunit:jar:1.6:test\n\n</code></pre>\n<blockquote>\n<p>Note: The <a href=\"https://jakarta.ee/specifications/xml-binding/4.0/\" rel=\"nofollow noreferrer\">4.x</a> release of the JAXB <a href=\"https://github.com/jakartaee/jaxb-api/tree/4.0.0-RELEASE\" rel=\"nofollow noreferrer\">API</a>, <a href=\"https://github.com/eclipse-ee4j/jaxb-ri/tree/4.0.2-RI-RELEASE/jaxb-ri\" rel=\"nofollow noreferrer\">RI</a> and <a href=\"https://repo1.maven.org/maven2/com/sun/xml/bind/jaxb-ri/4.0.2/\" rel=\"nofollow noreferrer\">ZIP</a> uses the latest <a href=\"https://jakarta.ee/xml/ns/jaxb/bindingschema_3_0.xsd\" rel=\"nofollow noreferrer\">JAXB Schema Binding 3.0 Specification</a> for <a href=\"https://projects.eclipse.org/projects/ee4j.jaxb-impl/releases/4.0.0\" rel=\"nofollow noreferrer\">Jakarta EE 10</a>.</p>\n</blockquote>\n\n"},{"tags":[],"owner":{"account_id":5885176,"reputation":780,"user_id":4633408,"accept_rate":33,"display_name":"Anton"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700062340,"creation_date":1700061552,"answer_id":77488911,"question_id":75936491,"body_markdown":"I&#39;m running Java 17.0.5 2022-10-18 LTS and this worked for me:\r\n\r\n    &lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.sun.xml.ws&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jaxws-rt&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.3.7&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;jakarta.xml.bind&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jakarta.xml.bind-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.3.3&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.glassfish.jaxb&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jaxb-runtime&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.3.8&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;","title":"What are the JAXB Jar files to be used with Java 17 project","body":"<p>I'm running Java 17.0.5 2022-10-18 LTS and this worked for me:</p>\n<pre><code>&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.sun.xml.ws&lt;/groupId&gt;\n        &lt;artifactId&gt;jaxws-rt&lt;/artifactId&gt;\n        &lt;version&gt;2.3.7&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;jakarta.xml.bind&lt;/groupId&gt;\n        &lt;artifactId&gt;jakarta.xml.bind-api&lt;/artifactId&gt;\n        &lt;version&gt;2.3.3&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.glassfish.jaxb&lt;/groupId&gt;\n        &lt;artifactId&gt;jaxb-runtime&lt;/artifactId&gt;\n        &lt;version&gt;2.3.8&lt;/version&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":28398890,"reputation":11,"user_id":21723905,"display_name":"eda"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700466023,"creation_date":1700466023,"answer_id":77514169,"question_id":75936491,"body_markdown":"When i added the following dependencies, worked for Spring boot 3.1.4 and Java 17 version.\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\r\n            &lt;version&gt;2.3.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jaxb-impl&lt;/artifactId&gt;\r\n            &lt;version&gt;2.3.4&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.glassfish.jaxb&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jaxb-runtime&lt;/artifactId&gt;\r\n            &lt;version&gt;4.0.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n ","title":"What are the JAXB Jar files to be used with Java 17 project","body":"<p>When i added the following dependencies, worked for Spring boot 3.1.4 and Java 17 version.</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\n        &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\n        &lt;version&gt;2.3.1&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\n        &lt;artifactId&gt;jaxb-impl&lt;/artifactId&gt;\n        &lt;version&gt;2.3.4&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.glassfish.jaxb&lt;/groupId&gt;\n        &lt;artifactId&gt;jaxb-runtime&lt;/artifactId&gt;\n        &lt;version&gt;4.0.0&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":18433200,"reputation":61,"user_id":13427790,"display_name":"Anjit Singha"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":23121,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":5,"score":5,"last_activity_date":1700466023,"creation_date":1680677905,"question_id":75936491,"body_markdown":"I am in the middle of upgrading my project from Java 8 to Java 17. My project use JAXB related JAR files. However, I am getting a lot of error while compiling the project and most of them are related to JAXB. Can anyone please help me with JAXB related JAR files and their version I should be using in my project for Java 17? Also, please suggest the compatible JAVA EE release I should be using. ","title":"What are the JAXB Jar files to be used with Java 17 project","body":"<p>I am in the middle of upgrading my project from Java 8 to Java 17. My project use JAXB related JAR files. However, I am getting a lot of error while compiling the project and most of them are related to JAXB. Can anyone please help me with JAXB related JAR files and their version I should be using in my project for Java 17? Also, please suggest the compatible JAVA EE release I should be using.</p>\n"},{"tags":["java","amazon-web-services","aws-lambda","aws-step-functions"],"answers":[{"comments":[{"owner":{"account_id":6324263,"reputation":139,"user_id":4911177,"accept_rate":0,"display_name":"Raviteja Reddy"},"score":0,"creation_date":1638282983,"post_id":69983113,"comment_id":124043478,"body_markdown":"I&#39;m not looking for alternatives or error handling. If a service method used by Activity2 threw some runtime error and the complete execution failed, I would like to fix the issue with service method and re-run the execution from Activity2 avoiding running Activity1 again.","body":"I&#39;m not looking for alternatives or error handling. If a service method used by Activity2 threw some runtime error and the complete execution failed, I would like to fix the issue with service method and re-run the execution from Activity2 avoiding running Activity1 again."},{"owner":{"account_id":15242745,"reputation":150,"user_id":10998484,"display_name":"Dustin K"},"score":0,"creation_date":1694458437,"post_id":69983113,"comment_id":135890913,"body_markdown":"I find this quite frustrating because the documentation isn&#39;t very clear if this is possible or not possible. They tout built-in idempotency but this is a major overlook. Or say you were having a production issue and the next time exponential backoff retries is in a week or month, really inconvenient to not be able to trigger a retry on demand.","body":"I find this quite frustrating because the documentation isn&#39;t very clear if this is possible or not possible. They tout built-in idempotency but this is a major overlook. Or say you were having a production issue and the next time exponential backoff retries is in a week or month, really inconvenient to not be able to trigger a retry on demand."}],"tags":[],"owner":{"account_id":19495441,"reputation":110,"user_id":14262790,"display_name":"aws-jordan"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637029800,"creation_date":1637029800,"answer_id":69983113,"question_id":69928345,"body_markdown":"The public documentation for error handling with AWS Step Functions contains a section about [fallback states](https://docs.aws.amazon.com/step-functions/latest/dg/concepts-error-handling.html). This allows you to specify logic around handling Task failures, and proceed to another state based on the error observed. \r\n\r\nThe following Catch field redirects the flow of the execution based on the error observed from the associated Task state:\r\n\r\n```\r\n&quot;Catch&quot;: [ {\r\n   &quot;ErrorEquals&quot;: [ &quot;java.lang.Exception&quot; ],\r\n   &quot;ResultPath&quot;: &quot;$.error-info&quot;,\r\n   &quot;Next&quot;: &quot;RecoveryState&quot;\r\n}, {\r\n   &quot;ErrorEquals&quot;: [ &quot;States.ALL&quot; ],\r\n   &quot;Next&quot;: &quot;EndState&quot;\r\n} ]\r\n```","title":"Aws step functions - Resume from failed step function activity instead of starting a new execution","body":"<p>The public documentation for error handling with AWS Step Functions contains a section about <a href=\"https://docs.aws.amazon.com/step-functions/latest/dg/concepts-error-handling.html\" rel=\"nofollow noreferrer\">fallback states</a>. This allows you to specify logic around handling Task failures, and proceed to another state based on the error observed.</p>\n<p>The following Catch field redirects the flow of the execution based on the error observed from the associated Task state:</p>\n<pre><code>&quot;Catch&quot;: [ {\n   &quot;ErrorEquals&quot;: [ &quot;java.lang.Exception&quot; ],\n   &quot;ResultPath&quot;: &quot;$.error-info&quot;,\n   &quot;Next&quot;: &quot;RecoveryState&quot;\n}, {\n   &quot;ErrorEquals&quot;: [ &quot;States.ALL&quot; ],\n   &quot;Next&quot;: &quot;EndState&quot;\n} ]\n</code></pre>\n"},{"comments":[{"owner":{"account_id":16121466,"reputation":117,"user_id":11637356,"display_name":"nickcin"},"score":1,"creation_date":1679596456,"post_id":72284044,"comment_id":133754261,"body_markdown":"I don&#39;t believe this solution would work for most enterprise software. Where I work we do not have access to dynamically create new state machines in our production environment. All new AWS resources must be deployed through an established CI/CD process - in this example the script would not have access to create a new state machine just to retry an execution","body":"I don&#39;t believe this solution would work for most enterprise software. Where I work we do not have access to dynamically create new state machines in our production environment. All new AWS resources must be deployed through an established CI/CD process - in this example the script would not have access to create a new state machine just to retry an execution"}],"tags":[],"owner":{"account_id":1815896,"reputation":671,"user_id":9175971,"accept_rate":82,"display_name":"Atharv Thakur"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1652854672,"creation_date":1652854672,"answer_id":72284044,"question_id":69928345,"body_markdown":"This should solve your issue .\r\n\r\n[This is describe in details here][1] \r\n\r\nParse the execution history of the failed execution to find the name of the state at which it failed, as well as the JSON input to that state.\r\n\r\nCreate a new state machine, which adds an additional state to failed state machine, called â€œGoToStateâ€. â€œGoToStateâ€ is a choice state at the beginning of the state machine that branches execution directly to the failed state, allowing you to skip states that had succeeded in the previous execution.\r\n\r\n\r\n  [1]: https://aws.amazon.com/blogs/compute/resume-aws-step-functions-from-any-state/","title":"Aws step functions - Resume from failed step function activity instead of starting a new execution","body":"<p>This should solve your issue .</p>\n<p><a href=\"https://aws.amazon.com/blogs/compute/resume-aws-step-functions-from-any-state/\" rel=\"nofollow noreferrer\">This is describe in details here</a></p>\n<p>Parse the execution history of the failed execution to find the name of the state at which it failed, as well as the JSON input to that state.</p>\n<p>Create a new state machine, which adds an additional state to failed state machine, called â€œGoToStateâ€. â€œGoToStateâ€ is a choice state at the beginning of the state machine that branches execution directly to the failed state, allowing you to skip states that had succeeded in the previous execution.</p>\n"},{"tags":[],"owner":{"account_id":2340914,"reputation":27,"user_id":2052225,"display_name":"Patrick"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653587282,"creation_date":1653587267,"answer_id":72396007,"question_id":69928345,"body_markdown":"Checkout this resource, which implements the solution from the blog posted linked by Atharv: \r\n\r\nhttps://github.com/awslabs/aws-sfn-resume-from-any-state\r\n\r\n```\r\npython3 gotostate.py --failedExecutionArn &#39;my-arn&#39;\r\n```\r\n\r\nYou use the script to generate a new Step Function that will start off at the failed step. The new Step Function takes the input to the failed step as its input with an additional `&quot;resuming&quot;: true` field. ","title":"Aws step functions - Resume from failed step function activity instead of starting a new execution","body":"<p>Checkout this resource, which implements the solution from the blog posted linked by Atharv:</p>\n<p><a href=\"https://github.com/awslabs/aws-sfn-resume-from-any-state\" rel=\"nofollow noreferrer\">https://github.com/awslabs/aws-sfn-resume-from-any-state</a></p>\n<pre><code>python3 gotostate.py --failedExecutionArn 'my-arn'\n</code></pre>\n<p>You use the script to generate a new Step Function that will start off at the failed step. The new Step Function takes the input to the failed step as its input with an additional <code>&quot;resuming&quot;: true</code> field.</p>\n"},{"tags":[],"owner":{"account_id":19327095,"reputation":21,"user_id":14129509,"display_name":"Harsh Bhatt"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1700117097,"creation_date":1700117097,"answer_id":77492757,"question_id":69928345,"body_markdown":"AWS Step Functions released support to restart execution from failed state with the help of RedriveExecution API.\r\n\r\nhttps://docs.aws.amazon.com/step-functions/latest/apireference/API_RedriveExecution.html","title":"Aws step functions - Resume from failed step function activity instead of starting a new execution","body":"<p>AWS Step Functions released support to restart execution from failed state with the help of RedriveExecution API.</p>\n<p><a href=\"https://docs.aws.amazon.com/step-functions/latest/apireference/API_RedriveExecution.html\" rel=\"nofollow noreferrer\">https://docs.aws.amazon.com/step-functions/latest/apireference/API_RedriveExecution.html</a></p>\n"},{"tags":[],"owner":{"account_id":10060343,"reputation":352,"user_id":7437255,"display_name":"Garvit"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1700465571,"creation_date":1700465571,"answer_id":77514126,"question_id":69928345,"body_markdown":"**UPDATE:** Now you can use *redrive* feature of AWS Step Functions rolled-out by AWS on 15 Nov 2023.\r\n\r\nIt will help you to resume/re-execute the failed state from the mid (where it got failed) instead of running the whole state machine from start.\r\n\r\nFor more information, refer this [link][1].\r\n\r\n\r\n  [1]: https://aws.amazon.com/blogs/compute/introducing-aws-step-functions-redrive-a-new-way-to-restart-workflows/","title":"Aws step functions - Resume from failed step function activity instead of starting a new execution","body":"<p><strong>UPDATE:</strong> Now you can use <em>redrive</em> feature of AWS Step Functions rolled-out by AWS on 15 Nov 2023.</p>\n<p>It will help you to resume/re-execute the failed state from the mid (where it got failed) instead of running the whole state machine from start.</p>\n<p>For more information, refer this <a href=\"https://aws.amazon.com/blogs/compute/introducing-aws-step-functions-redrive-a-new-way-to-restart-workflows/\" rel=\"nofollow noreferrer\">link</a>.</p>\n"}],"owner":{"account_id":6324263,"reputation":139,"user_id":4911177,"accept_rate":0,"display_name":"Raviteja Reddy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6417,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":5,"score":5,"last_activity_date":1700465571,"creation_date":1636633792,"question_id":69928345,"body_markdown":"I created a step function with 4 different activities which run one after other and also integrated to trigger this step function from a java application. Flow looks like this.\r\n\r\n&gt; Start -&gt; Activity1 -&gt; Activity2 -&gt; Activity3 -&gt; Activity4 -&gt; Stop\r\n\r\nWhen an execution fails during some activity, let&#39;s say Activity2, the execution is marked as failure.\r\n\r\nNow, is there anyway to resume this failed execution from the activity(Activity2) during which it failed earlier instead of starting a new execution?\r\n\r\nI went through the operations which are possible through `AWSStepFunctions` but none seem to solve this requirement.\r\nhttps://docs.aws.amazon.com/step-functions/latest/apireference/API_Operations.html","title":"Aws step functions - Resume from failed step function activity instead of starting a new execution","body":"<p>I created a step function with 4 different activities which run one after other and also integrated to trigger this step function from a java application. Flow looks like this.</p>\n<blockquote>\n<p>Start -&gt; Activity1 -&gt; Activity2 -&gt; Activity3 -&gt; Activity4 -&gt; Stop</p>\n</blockquote>\n<p>When an execution fails during some activity, let's say Activity2, the execution is marked as failure.</p>\n<p>Now, is there anyway to resume this failed execution from the activity(Activity2) during which it failed earlier instead of starting a new execution?</p>\n<p>I went through the operations which are possible through <code>AWSStepFunctions</code> but none seem to solve this requirement.\n<a href=\"https://docs.aws.amazon.com/step-functions/latest/apireference/API_Operations.html\" rel=\"noreferrer\">https://docs.aws.amazon.com/step-functions/latest/apireference/API_Operations.html</a></p>\n"},{"tags":["java","javafx","cloning"],"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":1,"creation_date":1700405327,"post_id":77510301,"comment_id":136647723,"body_markdown":"Yes, your code correctly makes copies of Nodes and their properties. However, there are [many more properties of Node](https://openjfx.io/javadoc/21/javafx.graphics/javafx/scene/Node.html#property-summary), and of course, there are many subclasses of Node in addition to shapes and Group.  Is that a concern for you?  Or do you only care about those properties, and do you know for certain that the Node argument will always be a shape or Group?","body":"Yes, your code correctly makes copies of Nodes and their properties. However, there are <a href=\"https://openjfx.io/javadoc/21/javafx.graphics/javafx/scene/Node.html#property-summary\" rel=\"nofollow noreferrer\">many more properties of Node</a>, and of course, there are many subclasses of Node in addition to shapes and Group.  Is that a concern for you?  Or do you only care about those properties, and do you know for certain that the Node argument will always be a shape or Group?"},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1700405859,"post_id":77510301,"comment_id":136647780,"body_markdown":"*&quot;will the properties of the cloned Node returned by the function above be truly unique or still point to the original Node&#39;s properties?&quot;*. It depends on the type of the property (though in this case it doesn&#39;t really matter). If the property is a primitive type (e.g. `double`, which is the case with `width`, `height`, `radius`, etc), your new node will get a copy of the *value*. If the property has a reference type (e.g. `fill` and `stroke` have type `Paint`) then your new node gets a copy of the reference (i.e. both nodes refer to the same `Paint` instance)...","body":"<i>&quot;will the properties of the cloned Node returned by the function above be truly unique or still point to the original Node&#39;s properties?&quot;</i>. It depends on the type of the property (though in this case it doesn&#39;t really matter). If the property is a primitive type (e.g. <code>double</code>, which is the case with <code>width</code>, <code>height</code>, <code>radius</code>, etc), your new node will get a copy of the <i>value</i>. If the property has a reference type (e.g. <code>fill</code> and <code>stroke</code> have type <code>Paint</code>) then your new node gets a copy of the reference (i.e. both nodes refer to the same <code>Paint</code> instance)..."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1700405962,"post_id":77510301,"comment_id":136647786,"body_markdown":"However, since `Paint` (and most value types in JavaFX) is immutable, it doesn&#39;t matter if your nodes share the same instance. You can&#39;t change any properties of that instance anyway.","body":"However, since <code>Paint</code> (and most value types in JavaFX) is immutable, it doesn&#39;t matter if your nodes share the same instance. You can&#39;t change any properties of that instance anyway."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":4,"creation_date":1700406376,"post_id":77510301,"comment_id":136647834,"body_markdown":"All that said, dong this is something of an indication of a bad design. Your nodes represent (are views of) some application state that you&#39;re trying to display. You should consider creating classes that represent the application state independently of the view, and then creating views that update when the state changes. Then the functionality where you create new objects is delegates to the application state level, not the view level.","body":"All that said, dong this is something of an indication of a bad design. Your nodes represent (are views of) some application state that you&#39;re trying to display. You should consider creating classes that represent the application state independently of the view, and then creating views that update when the state changes. Then the functionality where you create new objects is delegates to the application state level, not the view level."},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1700473816,"post_id":77510301,"comment_id":136654567,"body_markdown":"You may be interested in the similar code (class `ShapeFactory`) in this [answer to a different question](https://stackoverflow.com/a/77377572/1155209).  That linked answer uses a model, but the domain it is modeling is shapes, so it is a model of shapes.  In another domain, you might model objects of the domain rather than shapes.","body":"You may be interested in the similar code (class <code>ShapeFactory</code>) in this <a href=\"https://stackoverflow.com/a/77377572/1155209\">answer to a different question</a>.  That linked answer uses a model, but the domain it is modeling is shapes, so it is a model of shapes.  In another domain, you might model objects of the domain rather than shapes."},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1700522962,"post_id":77510301,"comment_id":136662890,"body_markdown":"For questions like this, it is usually best to provide context as to what you actually want to achieve (high-level goal).  Cloning nodes might not be the appropriate solution for the goal, as pointed out by James_D.  This may be an [xy problem](https://xyproblem.info).  Context can also help make the answers to questions like VGR&#39;s self-explanatory.","body":"For questions like this, it is usually best to provide context as to what you actually want to achieve (high-level goal).  Cloning nodes might not be the appropriate solution for the goal, as pointed out by James_D.  This may be an <a href=\"https://xyproblem.info\" rel=\"nofollow noreferrer\">xy problem</a>.  Context can also help make the answers to questions like VGR&#39;s self-explanatory."}],"owner":{"account_id":16903554,"reputation":509,"user_id":12224591,"display_name":"Runsva"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700465014,"creation_date":1700387230,"question_id":77510301,"body_markdown":"I have a JavaFX `Node` object, and I wish to clone it via code.\r\n\r\nIt&#39;s my understanding that Java variables are reference-types, and simply doing something like `clonedNode = oldNode` would result in `clonedNode` pointing to `oldNode`.\r\n\r\nIt doesn&#39;t appear that JavaFX has an in-built function for cloning `Node` objects. Hence, I attempted to write a cloning function myself as such (suppose I&#39;m only working with `Node`s of types `Circle`, `Rectangle`, `Polygon`, `Line`, `Text` and `Group`, and that I only care about the `Fill`, `Stroke`, `Text` and positional properties of the `Node`):\r\n\r\n```\r\npublic static Node NodeClone(Node oldNode)\r\n{\r\n    Node clonedNode = null;\r\n\r\n    if (oldNode.getClass() == Circle.class)\r\n    {\r\n        Circle oldCircle = (Circle)oldNode;\r\n\r\n        Circle clonedCircle = new Circle();\r\n        clonedCircle.setRadius(oldCircle.getRadius());\r\n        clonedCircle.setFill(oldCircle.getFill());\r\n        clonedCircle.setStroke(oldCircle.getStroke());\r\n        clonedCircle.setStrokeWidth(oldCircle.getStrokeWidth());\r\n\r\n        clonedNode = clonedCircle;\r\n    }\r\n    else if (oldNode.getClass() == Rectangle.class)\r\n    {\r\n        Rectangle oldRectangle = (Rectangle)oldNode;\r\n\r\n        Rectangle clonedRectangle = new Rectangle();\r\n        clonedRectangle.setWidth(oldRectangle.getWidth());\r\n        clonedRectangle.setHeight(oldRectangle.getHeight());\r\n        clonedRectangle.setFill(oldRectangle.getFill());\r\n        clonedRectangle.setStroke(oldRectangle.getStroke());\r\n        clonedRectangle.setStrokeWidth(oldRectangle.getStrokeWidth());\r\n\r\n        clonedNode = clonedRectangle;\r\n    }\r\n    else if (oldNode.getClass() == Polygon.class)\r\n    {\r\n        Polygon oldTriangle = (Polygon)oldNode;\r\n\r\n        Polygon clonedTriangle = new Polygon();\r\n        LinkedList&lt;Double&gt; clonedPoints = new LinkedList&lt;Double&gt;(oldTriangle.getPoints());\r\n        clonedTriangle.getPoints().setAll(clonedPoints);\r\n        clonedTriangle.setFill(oldTriangle.getFill());\r\n        clonedTriangle.setStroke(oldTriangle.getStroke());\r\n        clonedTriangle.setStrokeWidth(oldTriangle.getStrokeWidth());\r\n\r\n        clonedNode = clonedTriangle;\r\n    }\r\n    else if (oldNode.getClass() == Line.class)\r\n    {\r\n        Line oldLine = (Line)oldNode;\r\n\r\n        Line clonedLine = new Line();\r\n        clonedLine.setStartX(oldLine.getStartX());\r\n        clonedLine.setStartY(oldLine.getStartY());\r\n        clonedLine.setEndX(oldLine.getEndX());\r\n        clonedLine.setEndY(oldLine.getEndY());\r\n        clonedLine.setStroke(oldLine.getStroke());\r\n        clonedLine.setStrokeWidth(oldLine.getStrokeWidth());\r\n\r\n        clonedNode = clonedLine;\r\n    }\r\n    else if (oldNode.getClass() == Text.class)\r\n    {\r\n        Text oldText = (Text)oldNode;\r\n\r\n        Text clonedText = new Text();\r\n        clonedText.setFont(oldText.getFont());\r\n        clonedText.setText(oldText.getText());\r\n        clonedText.setFill(oldText.getFill());\r\n\r\n        clonedNode = clonedText;\r\n    }\r\n    else if (oldNode.getClass() == Group.class)\r\n    {\r\n        Group oldGroup = (Group)oldNode;\r\n\r\n        Group clonedGroup = new Group();\r\n\r\n        for (int i = 0; i &lt; oldGroup.getChildren().size(); i++)\r\n            clonedGroup.getChildren().add(NodeClone(oldGroup.getChildren().get(i)));\r\n\r\n        clonedNode = clonedGroup;\r\n    }\r\n    else\r\n    {\r\n        throw new java.lang.Error(&quot;ERROR: Attempting to clone an unrecognized JavaFX oldNode type!&quot;);\r\n    }\r\n\r\n    clonedNode.setTranslateX(oldNode.getTranslateX());\r\n    clonedNode.setTranslateY(oldNode.getTranslateY());\r\n    clonedNode.setLayoutX(oldNode.getLayoutX());\r\n    clonedNode.setLayoutY(oldNode.getLayoutY());\r\n    clonedNode.setRotate(oldNode.getRotate());\r\n\r\n    return clonedNode;\r\n}\r\n```\r\n\r\nWith the function above returning a cloned instance of the provided `Node` object.\r\n\r\nMy question is, will calling the various `Node`&#39;s property setters directly on the results of the property getters result in the property values be passed by value or by reference?\r\n\r\nIn other words, will the properties of the cloned `Node` returned by the function above be truly unique or still point to the original `Node`&#39;s properties?\r\n\r\nFrom my own testing, this function appears to indeed produce fully unique `Node`s, but I wanted to verify before fully comitting to this `Node` cloning approach.\r\n\r\nThanks for reading my post, any guidance is appreciated.","title":"Node Cloning in JavaFX","body":"<p>I have a JavaFX <code>Node</code> object, and I wish to clone it via code.</p>\n<p>It's my understanding that Java variables are reference-types, and simply doing something like <code>clonedNode = oldNode</code> would result in <code>clonedNode</code> pointing to <code>oldNode</code>.</p>\n<p>It doesn't appear that JavaFX has an in-built function for cloning <code>Node</code> objects. Hence, I attempted to write a cloning function myself as such (suppose I'm only working with <code>Node</code>s of types <code>Circle</code>, <code>Rectangle</code>, <code>Polygon</code>, <code>Line</code>, <code>Text</code> and <code>Group</code>, and that I only care about the <code>Fill</code>, <code>Stroke</code>, <code>Text</code> and positional properties of the <code>Node</code>):</p>\n<pre><code>public static Node NodeClone(Node oldNode)\n{\n    Node clonedNode = null;\n\n    if (oldNode.getClass() == Circle.class)\n    {\n        Circle oldCircle = (Circle)oldNode;\n\n        Circle clonedCircle = new Circle();\n        clonedCircle.setRadius(oldCircle.getRadius());\n        clonedCircle.setFill(oldCircle.getFill());\n        clonedCircle.setStroke(oldCircle.getStroke());\n        clonedCircle.setStrokeWidth(oldCircle.getStrokeWidth());\n\n        clonedNode = clonedCircle;\n    }\n    else if (oldNode.getClass() == Rectangle.class)\n    {\n        Rectangle oldRectangle = (Rectangle)oldNode;\n\n        Rectangle clonedRectangle = new Rectangle();\n        clonedRectangle.setWidth(oldRectangle.getWidth());\n        clonedRectangle.setHeight(oldRectangle.getHeight());\n        clonedRectangle.setFill(oldRectangle.getFill());\n        clonedRectangle.setStroke(oldRectangle.getStroke());\n        clonedRectangle.setStrokeWidth(oldRectangle.getStrokeWidth());\n\n        clonedNode = clonedRectangle;\n    }\n    else if (oldNode.getClass() == Polygon.class)\n    {\n        Polygon oldTriangle = (Polygon)oldNode;\n\n        Polygon clonedTriangle = new Polygon();\n        LinkedList&lt;Double&gt; clonedPoints = new LinkedList&lt;Double&gt;(oldTriangle.getPoints());\n        clonedTriangle.getPoints().setAll(clonedPoints);\n        clonedTriangle.setFill(oldTriangle.getFill());\n        clonedTriangle.setStroke(oldTriangle.getStroke());\n        clonedTriangle.setStrokeWidth(oldTriangle.getStrokeWidth());\n\n        clonedNode = clonedTriangle;\n    }\n    else if (oldNode.getClass() == Line.class)\n    {\n        Line oldLine = (Line)oldNode;\n\n        Line clonedLine = new Line();\n        clonedLine.setStartX(oldLine.getStartX());\n        clonedLine.setStartY(oldLine.getStartY());\n        clonedLine.setEndX(oldLine.getEndX());\n        clonedLine.setEndY(oldLine.getEndY());\n        clonedLine.setStroke(oldLine.getStroke());\n        clonedLine.setStrokeWidth(oldLine.getStrokeWidth());\n\n        clonedNode = clonedLine;\n    }\n    else if (oldNode.getClass() == Text.class)\n    {\n        Text oldText = (Text)oldNode;\n\n        Text clonedText = new Text();\n        clonedText.setFont(oldText.getFont());\n        clonedText.setText(oldText.getText());\n        clonedText.setFill(oldText.getFill());\n\n        clonedNode = clonedText;\n    }\n    else if (oldNode.getClass() == Group.class)\n    {\n        Group oldGroup = (Group)oldNode;\n\n        Group clonedGroup = new Group();\n\n        for (int i = 0; i &lt; oldGroup.getChildren().size(); i++)\n            clonedGroup.getChildren().add(NodeClone(oldGroup.getChildren().get(i)));\n\n        clonedNode = clonedGroup;\n    }\n    else\n    {\n        throw new java.lang.Error(&quot;ERROR: Attempting to clone an unrecognized JavaFX oldNode type!&quot;);\n    }\n\n    clonedNode.setTranslateX(oldNode.getTranslateX());\n    clonedNode.setTranslateY(oldNode.getTranslateY());\n    clonedNode.setLayoutX(oldNode.getLayoutX());\n    clonedNode.setLayoutY(oldNode.getLayoutY());\n    clonedNode.setRotate(oldNode.getRotate());\n\n    return clonedNode;\n}\n</code></pre>\n<p>With the function above returning a cloned instance of the provided <code>Node</code> object.</p>\n<p>My question is, will calling the various <code>Node</code>'s property setters directly on the results of the property getters result in the property values be passed by value or by reference?</p>\n<p>In other words, will the properties of the cloned <code>Node</code> returned by the function above be truly unique or still point to the original <code>Node</code>'s properties?</p>\n<p>From my own testing, this function appears to indeed produce fully unique <code>Node</code>s, but I wanted to verify before fully comitting to this <code>Node</code> cloning approach.</p>\n<p>Thanks for reading my post, any guidance is appreciated.</p>\n"},{"tags":["java","openjdk-21"],"owner":{"account_id":18785714,"reputation":1,"user_id":13699355,"display_name":"powercheng"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700464853,"creation_date":1700464853,"question_id":77514097,"body_markdown":"According to https://docs.oracle.com/en/java/javase/21/core/virtual-threads.html#GUID-DC4306FC-D6C1-4BCC-AECE-48C32C1A8DAA\r\n&gt; Like a platform thread, a virtual thread is also an instance of java.lang.Thread. However, a virtual thread isn&#39;t tied to a specific OS thread. A virtual thread still runs code on an OS thread. However, when code running in a virtual thread calls a blocking I/O operation, the Java runtime suspends the virtual thread until it can be resumed. The OS thread associated with the suspended virtual thread is now free to perform operations for other virtual threads.\r\n\r\nVirtual threads are based on platform threads, there are multiple virtual threads in a thread, can I have two virtual threads in a thread perform a task at the same time?\r\n\r\nTwo virtual threads in a thread perform a task at the same time","title":"Can jdk 21 virtual threads execute tasks concurrently?","body":"<p>According to <a href=\"https://docs.oracle.com/en/java/javase/21/core/virtual-threads.html#GUID-DC4306FC-D6C1-4BCC-AECE-48C32C1A8DAA\" rel=\"nofollow noreferrer\">https://docs.oracle.com/en/java/javase/21/core/virtual-threads.html#GUID-DC4306FC-D6C1-4BCC-AECE-48C32C1A8DAA</a></p>\n<blockquote>\n<p>Like a platform thread, a virtual thread is also an instance of java.lang.Thread. However, a virtual thread isn't tied to a specific OS thread. A virtual thread still runs code on an OS thread. However, when code running in a virtual thread calls a blocking I/O operation, the Java runtime suspends the virtual thread until it can be resumed. The OS thread associated with the suspended virtual thread is now free to perform operations for other virtual threads.</p>\n</blockquote>\n<p>Virtual threads are based on platform threads, there are multiple virtual threads in a thread, can I have two virtual threads in a thread perform a task at the same time?</p>\n<p>Two virtual threads in a thread perform a task at the same time</p>\n"},{"tags":["java","spring-boot","hibernate","spring-data"],"answers":[{"tags":[],"owner":{"account_id":1244944,"reputation":622,"user_id":1206610,"accept_rate":73,"display_name":"Teshte"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700464810,"creation_date":1700464810,"answer_id":77514094,"question_id":77481851,"body_markdown":"So the problem was, that for some reason the code for the column \r\n\r\n    @JoinColumn(name=&quot;parent_id&quot;)\r\n    private Category parent;\r\n\r\nwas creating the `parent_id` column as being unique....Altough if one looks into @JoinColumn sees that `unique() default false` . Not sure why this was happening. So to fix this, I just dropped the unwanted constraint.","title":"Key already exists - what am I missing?","body":"<p>So the problem was, that for some reason the code for the column</p>\n<pre><code>@JoinColumn(name=&quot;parent_id&quot;)\nprivate Category parent;\n</code></pre>\n<p>was creating the <code>parent_id</code> column as being unique....Altough if one looks into @JoinColumn sees that <code>unique() default false</code> . Not sure why this was happening. So to fix this, I just dropped the unwanted constraint.</p>\n"}],"owner":{"account_id":1244944,"reputation":622,"user_id":1206610,"accept_rate":73,"display_name":"Teshte"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1700464810,"creation_date":1699975519,"question_id":77481851,"body_markdown":"I have the following Entity\r\n\r\n        import jakarta.persistence.*;\r\n    import lombok.AllArgsConstructor;\r\n    import lombok.Getter;\r\n    import lombok.NoArgsConstructor;\r\n    import lombok.Setter;\r\n    \r\n    import java.util.HashSet;\r\n    import java.util.Set;\r\n    \r\n    @Entity\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    @Getter\r\n    @Setter\r\n    public class Category {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Integer id;\r\n\r\n    @Column(length = 128, nullable = false, unique = true)\r\n    private String name;\r\n\r\n    @Column(length = 64, nullable = false,  unique = true)\r\n    private String alias;\r\n\r\n    @Column(length = 1000 , nullable = false)\r\n    private String image;\r\n\r\n    private boolean enabled;\r\n\r\n    @OneToOne(cascade = {\r\n            CascadeType.PERSIST,\r\n            CascadeType.MERGE\r\n    })\r\n    @JoinColumn(name=&quot;parent_id&quot;)\r\n    private Category parent;\r\n\r\n    @OneToMany(mappedBy = &quot;parent&quot;,cascade = {\r\n            CascadeType.PERSIST,\r\n            CascadeType.MERGE\r\n    })\r\n    private Set&lt;Category&gt; children = new HashSet&lt;&gt;();\r\n\r\n    public Category(String name, String alias, String image) {\r\n        this.name = name;\r\n        this.alias = alias;\r\n        this.image = image;\r\n    }\r\n\r\n}\r\n\r\nand the following unit test\r\n\r\n        @Test\r\n    public void whenCategoryWithSameSubCategoriesIsCreated_categoryIsCreatedWithSuccess(){\r\n        Category electronics = new Category(&quot;Electronics&quot;,&quot;Electronics&quot;,&quot;picture of various electronics.jpg&quot;);\r\n\r\n        Category subCategory1 = new Category(&quot;Cameras&quot;, &quot;Cameras&quot;,&quot;Cameras&quot;);\r\n        subCategory1.setParent(electronics);\r\n        Category subCategory2 = new Category(&quot;Smartphones&quot;, &quot;Smartphones&quot;,&quot;Smartphones&quot;);\r\n        subCategory2.setParent(electronics);\r\n\r\n        electronics.getChildren().add(subCategory1);\r\n        electronics.getChildren().add(subCategory2);\r\n\r\n        categoryRepository.save(electronics);\r\n\r\n    }\r\n\r\nwhere CategoryRepository is defines as\r\n\r\n    @Repository\r\n    public interface CategoryRepository extends JpaRepository&lt;Category, Integer&gt; {\r\n    }\r\n\r\nWhen i run the test, I get the following error\r\n\r\n        org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: duplicate key value violates unique constraint &quot;uk_81thrbnb8c08gua7tvqj7xdqk&quot;\r\n      Detail: Key (parent_id)=(20) already exists.] [insert into category (alias,enabled,image,name,parent_id) values (?,?,?,?,?)]; SQL [insert into category (alias,enabled,image,name,parent_id) values (?,?,?,?,?)]; constraint [uk_81thrbnb8c08gua7tvqj7xdqk]\r\n    \r\n    \tat org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:269)\r\n    \tat org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:229)\r\n    \tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:550)\r\n    \tat org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)\r\n    \tat org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:242)\r\n    \tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:152)\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\r\n    \tat org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:164)\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\r\n    \tat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\r\n    \tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:244)\r\n    \tat jdk.proxy2/jdk.proxy2.$Proxy118.save(Unknown Source)\r\n    \tat com.testehan.ecommerce.backend.category.CategoryRepositoryTest.whenCategoryWithSameSubCategoriesIsCreated_categoryIsCreatedWithSuccess(CategoryRepositoryTest.java:66)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n    \tat org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:727)\r\n    \tat org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)\r\n    \tat org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)\r\n    \tat org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:156)\r\n    \tat org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:147)\r\n    \tat org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:86)\r\n    \tat org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:103)\r\n    \tat org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:93)\r\n    \tat org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\r\n    \tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)\r\n    \tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)\r\n    \tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)\r\n    \tat org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:92)\r\n    \tat org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:86)\r\n    \tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:217)\r\n    \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n    \tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:213)\r\n    \tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:138)\r\n    \tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:68)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)\r\n    \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n    \tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n    \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n    \tat java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\r\n    \tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\r\n    \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n    \tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n    \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n    \tat java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\r\n    \tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\r\n    \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n    \tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n    \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n    \tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)\r\n    \tat org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\r\n    \tat org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)\r\n    \tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)\r\n    \tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)\r\n    \tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)\r\n    \tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)\r\n    \tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)\r\n    \tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)\r\n    \tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)\r\n    \tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)\r\n    \tat org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)\r\n    \tat org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)\r\n    \tat com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57)\r\n    \tat com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)\r\n    \tat com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)\r\n    \tat com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)\r\n    \tat com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:232)\r\n    \tat com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55)\r\n    \tSuppressed: org.springframework.transaction.UnexpectedRollbackException: Transaction silently rolled back because it has been marked as rollback-only\r\n    \t\tat org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:752)\r\n    \t\tat org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:711)\r\n    \t\tat org.springframework.test.context.transaction.TransactionContext.endTransaction(TransactionContext.java:135)\r\n    \t\tat org.springframework.test.context.transaction.TransactionalTestExecutionListener.afterTestMethod(TransactionalTestExecutionListener.java:259)\r\n    \t\tat org.springframework.test.context.TestContextManager.afterTestMethod(TestContextManager.java:440)\r\n    \t\tat org.springframework.test.context.junit.jupiter.SpringExtension.afterEach(SpringExtension.java:206)\r\n    \t\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeAfterEachCallbacks$12(TestMethodTestDescriptor.java:260)\r\n    \t\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeAllAfterMethodsOrCallbacks$13(TestMethodTestDescriptor.java:276)\r\n    \t\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n    \t\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeAllAfterMethodsOrCallbacks$14(TestMethodTestDescriptor.java:276)\r\n    \t\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\r\n    \t\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeAllAfterMethodsOrCallbacks(TestMethodTestDescriptor.java:275)\r\n    \t\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeAfterEachCallbacks(TestMethodTestDescriptor.java:259)\r\n    \t\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:144)\r\n    \t\t... 48 more\r\n\r\nI am using a PostgreSQL DB for my test... What am I missing...I understand that somehow because of the parent field being already persisted, when the second child tries to get inserted, it throws the error...But shouldn&#39;t my cascades prevent this ?","title":"Key already exists - what am I missing?","body":"<p>I have the following Entity</p>\n<pre><code>    import jakarta.persistence.*;\nimport lombok.AllArgsConstructor;\nimport lombok.Getter;\nimport lombok.NoArgsConstructor;\nimport lombok.Setter;\n\nimport java.util.HashSet;\nimport java.util.Set;\n\n@Entity\n@NoArgsConstructor\n@AllArgsConstructor\n@Getter\n@Setter\npublic class Category {\n\n@Id\n@GeneratedValue(strategy = GenerationType.IDENTITY)\nprivate Integer id;\n\n@Column(length = 128, nullable = false, unique = true)\nprivate String name;\n\n@Column(length = 64, nullable = false,  unique = true)\nprivate String alias;\n\n@Column(length = 1000 , nullable = false)\nprivate String image;\n\nprivate boolean enabled;\n\n@OneToOne(cascade = {\n        CascadeType.PERSIST,\n        CascadeType.MERGE\n})\n@JoinColumn(name=&quot;parent_id&quot;)\nprivate Category parent;\n\n@OneToMany(mappedBy = &quot;parent&quot;,cascade = {\n        CascadeType.PERSIST,\n        CascadeType.MERGE\n})\nprivate Set&lt;Category&gt; children = new HashSet&lt;&gt;();\n\npublic Category(String name, String alias, String image) {\n    this.name = name;\n    this.alias = alias;\n    this.image = image;\n}\n</code></pre>\n<p>}</p>\n<p>and the following unit test</p>\n<pre><code>    @Test\npublic void whenCategoryWithSameSubCategoriesIsCreated_categoryIsCreatedWithSuccess(){\n    Category electronics = new Category(&quot;Electronics&quot;,&quot;Electronics&quot;,&quot;picture of various electronics.jpg&quot;);\n\n    Category subCategory1 = new Category(&quot;Cameras&quot;, &quot;Cameras&quot;,&quot;Cameras&quot;);\n    subCategory1.setParent(electronics);\n    Category subCategory2 = new Category(&quot;Smartphones&quot;, &quot;Smartphones&quot;,&quot;Smartphones&quot;);\n    subCategory2.setParent(electronics);\n\n    electronics.getChildren().add(subCategory1);\n    electronics.getChildren().add(subCategory2);\n\n    categoryRepository.save(electronics);\n\n}\n</code></pre>\n<p>where CategoryRepository is defines as</p>\n<pre><code>@Repository\npublic interface CategoryRepository extends JpaRepository&lt;Category, Integer&gt; {\n}\n</code></pre>\n<p>When i run the test, I get the following error</p>\n<pre><code>    org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: duplicate key value violates unique constraint &quot;uk_81thrbnb8c08gua7tvqj7xdqk&quot;\n  Detail: Key (parent_id)=(20) already exists.] [insert into category (alias,enabled,image,name,parent_id) values (?,?,?,?,?)]; SQL [insert into category (alias,enabled,image,name,parent_id) values (?,?,?,?,?)]; constraint [uk_81thrbnb8c08gua7tvqj7xdqk]\n\n    at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:269)\n    at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:229)\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:550)\n    at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)\n    at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:242)\n    at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:152)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n    at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:164)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n    at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:244)\n    at jdk.proxy2/jdk.proxy2.$Proxy118.save(Unknown Source)\n    at com.testehan.ecommerce.backend.category.CategoryRepositoryTest.whenCategoryWithSameSubCategoriesIsCreated_categoryIsCreatedWithSuccess(CategoryRepositoryTest.java:66)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:727)\n    at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)\n    at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:156)\n    at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:147)\n    at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:86)\n    at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:103)\n    at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:93)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)\n    at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:92)\n    at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:86)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:217)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:213)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:138)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:68)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)\n    at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)\n    at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)\n    at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57)\n    at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)\n    at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)\n    at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)\n    at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:232)\n    at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55)\n    Suppressed: org.springframework.transaction.UnexpectedRollbackException: Transaction silently rolled back because it has been marked as rollback-only\n        at org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:752)\n        at org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:711)\n        at org.springframework.test.context.transaction.TransactionContext.endTransaction(TransactionContext.java:135)\n        at org.springframework.test.context.transaction.TransactionalTestExecutionListener.afterTestMethod(TransactionalTestExecutionListener.java:259)\n        at org.springframework.test.context.TestContextManager.afterTestMethod(TestContextManager.java:440)\n        at org.springframework.test.context.junit.jupiter.SpringExtension.afterEach(SpringExtension.java:206)\n        at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeAfterEachCallbacks$12(TestMethodTestDescriptor.java:260)\n        at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeAllAfterMethodsOrCallbacks$13(TestMethodTestDescriptor.java:276)\n        at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n        at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeAllAfterMethodsOrCallbacks$14(TestMethodTestDescriptor.java:276)\n        at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\n        at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeAllAfterMethodsOrCallbacks(TestMethodTestDescriptor.java:275)\n        at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeAfterEachCallbacks(TestMethodTestDescriptor.java:259)\n        at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:144)\n        ... 48 more\n</code></pre>\n<p>I am using a PostgreSQL DB for my test... What am I missing...I understand that somehow because of the parent field being already persisted, when the second child tries to get inserted, it throws the error...But shouldn't my cascades prevent this ?</p>\n"},{"tags":["java","android"],"answers":[{"comments":[{"owner":{"account_id":29935530,"reputation":1,"user_id":22941389,"display_name":"Omar Almasoodi"},"score":0,"creation_date":1700329845,"post_id":77507794,"comment_id":136642354,"body_markdown":"Sir, did you mean onCreate method inside the mainactivity.java file?","body":"Sir, did you mean onCreate method inside the mainactivity.java file?"},{"owner":{"account_id":20578444,"reputation":65,"user_id":15105120,"display_name":"Aqib Naveed"},"score":0,"creation_date":1700417601,"post_id":77507794,"comment_id":136649037,"body_markdown":"Yes, inside your MainActivity.java file , you will be having an OnCreate method.  There you can write the  code as provided above.","body":"Yes, inside your MainActivity.java file , you will be having an OnCreate method.  There you can write the  code as provided above."}],"tags":[],"owner":{"account_id":20578444,"reputation":65,"user_id":15105120,"display_name":"Aqib Naveed"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1700325276,"creation_date":1700325276,"answer_id":77507794,"question_id":77507648,"body_markdown":"Inside the `onCreate` method you can check the network connectivity. If network is not available, you can exit application or whatever you want. Something like:\r\n\r\n        @Override\r\n        public void onCreate(Bundle savedInstanceState) {     \t  \r\n          \t  \r\n         \t   super.onCreate(savedInstanceState);\r\n    \r\n            // Check for network connectivity\r\n        \tif(!isConnectedToInternet())\r\n        \t{\r\n         \t    // User is not connected to internet .You can exit app or display any message to user.\r\n         \t    this.finishAffinity();\r\n        \t} \r\n        }\r\n        \r\n        public bool isConnectedToInternet()\r\n        {\r\n        \tConnectivityManager connectivityManager = (ConnectivityManager)getSystemService\t(Context.CONNECTIVITY_SERVICE);\r\n                \t\r\n        \tboolean connected = (connectivityManager.getNetworkInfo(ConnectivityManager.TYPE_MOBILE).getState() == \tNetworkInfo.State.CONNECTED || \r\n                    connectivityManager.getNetworkInfo(ConnectivityManager.TYPE_WIFI).getState() == \tNetworkInfo.State.CONNECTED);\r\n    \r\n            return connected;\r\n    \r\n        \r\n        }\r\n\r\nYou will need to add following permission in your manifest file.\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot; /&gt;\r\n\r\n","title":"Converting project from offline to online project in Android","body":"<p>Inside the <code>onCreate</code> method you can check the network connectivity. If network is not available, you can exit application or whatever you want. Something like:</p>\n<pre><code>    @Override\n    public void onCreate(Bundle savedInstanceState) {         \n          \n           super.onCreate(savedInstanceState);\n\n        // Check for network connectivity\n        if(!isConnectedToInternet())\n        {\n            // User is not connected to internet .You can exit app or display any message to user.\n            this.finishAffinity();\n        } \n    }\n    \n    public bool isConnectedToInternet()\n    {\n        ConnectivityManager connectivityManager = (ConnectivityManager)getSystemService (Context.CONNECTIVITY_SERVICE);\n                \n        boolean connected = (connectivityManager.getNetworkInfo(ConnectivityManager.TYPE_MOBILE).getState() ==  NetworkInfo.State.CONNECTED || \n                connectivityManager.getNetworkInfo(ConnectivityManager.TYPE_WIFI).getState() ==     NetworkInfo.State.CONNECTED);\n\n        return connected;\n\n    \n    }\n</code></pre>\n<p>You will need to add following permission in your manifest file.</p>\n<pre><code>&lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot; /&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":29815737,"reputation":37,"user_id":22850056,"display_name":"rv_5143"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700463416,"creation_date":1700463416,"answer_id":77514001,"question_id":77507648,"body_markdown":"add condition if it&#39;s connected to internet or not as simple is that.. see this is the best answer [here][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/1560788/how-to-check-internet-access-on-android-inetaddress-never-times-out/27312494#27312494","title":"Converting project from offline to online project in Android","body":"<p>add condition if it's connected to internet or not as simple is that.. see this is the best answer <a href=\"https://stackoverflow.com/questions/1560788/how-to-check-internet-access-on-android-inetaddress-never-times-out/27312494#27312494\">here</a></p>\n"},{"tags":[],"owner":{"account_id":13210775,"reputation":999,"user_id":9541096,"display_name":"Owais Yosuf"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700463779,"creation_date":1700463779,"answer_id":77514027,"question_id":77507648,"body_markdown":"**Manifest Permissions:**\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot; /&gt;\r\n\r\n**Main Activity:**\r\n\r\n    import android.os.Bundle;\r\n    import androidx.appcompat.app.AppCompatActivity;\r\n    \r\n    public class MainActivity extends AppCompatActivity {\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n    \r\n            // Check for internet connection\r\n            if (NetworkUtils.isNetworkAvailable(this)) {\r\n                // Internet connection is available, proceed with your app logic\r\n                setContentView(R.layout.activity_main);\r\n                // Add your code here\r\n            } else {\r\n                // No internet connection, show a message or handle the situation accordingly\r\n                setContentView(R.layout.no_internet_layout);\r\n                // You might want to display a message to the user or handle the lack of internet in a specific way\r\n            }\r\n        }\r\n    }\r\n\r\n**Create a separate java class with name &quot;NetworkUtils&quot; and paste the below code into it:**\r\n\r\n    import android.content.Context;\r\n    import android.net.ConnectivityManager;\r\n    import android.net.NetworkInfo;\r\n    \r\n    public class NetworkUtils {\r\n    \r\n        public static boolean isNetworkAvailable(Context context) {\r\n            ConnectivityManager connectivityManager =\r\n                    (ConnectivityManager) context.getSystemService(Context.CONNECTIVITY_SERVICE);\r\n    \r\n            if (connectivityManager != null) {\r\n                NetworkInfo activeNetworkInfo = connectivityManager.getActiveNetworkInfo();\r\n                return activeNetworkInfo != null &amp;&amp; activeNetworkInfo.isConnected();\r\n            }\r\n    \r\n            return false;\r\n        }\r\n    }","title":"Converting project from offline to online project in Android","body":"<p><strong>Manifest Permissions:</strong></p>\n<pre><code>&lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot; /&gt;\n</code></pre>\n<p><strong>Main Activity:</strong></p>\n<pre><code>import android.os.Bundle;\nimport androidx.appcompat.app.AppCompatActivity;\n\npublic class MainActivity extends AppCompatActivity {\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n\n        // Check for internet connection\n        if (NetworkUtils.isNetworkAvailable(this)) {\n            // Internet connection is available, proceed with your app logic\n            setContentView(R.layout.activity_main);\n            // Add your code here\n        } else {\n            // No internet connection, show a message or handle the situation accordingly\n            setContentView(R.layout.no_internet_layout);\n            // You might want to display a message to the user or handle the lack of internet in a specific way\n        }\n    }\n}\n</code></pre>\n<p><strong>Create a separate java class with name &quot;NetworkUtils&quot; and paste the below code into it:</strong></p>\n<pre><code>import android.content.Context;\nimport android.net.ConnectivityManager;\nimport android.net.NetworkInfo;\n\npublic class NetworkUtils {\n\n    public static boolean isNetworkAvailable(Context context) {\n        ConnectivityManager connectivityManager =\n                (ConnectivityManager) context.getSystemService(Context.CONNECTIVITY_SERVICE);\n\n        if (connectivityManager != null) {\n            NetworkInfo activeNetworkInfo = connectivityManager.getActiveNetworkInfo();\n            return activeNetworkInfo != null &amp;&amp; activeNetworkInfo.isConnected();\n        }\n\n        return false;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":29935530,"reputation":1,"user_id":22941389,"display_name":"Omar Almasoodi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":57,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":3,"score":-2,"last_activity_date":1700463779,"creation_date":1700323031,"question_id":77507648,"body_markdown":"I have an Android app written in Java in Android Studio. The app is offline; meaning that the user can open the app even if their device is not connected to the internet. I am wondering how to make the project online; meaning that it opens only if the user is connected to the internet. \r\n","title":"Converting project from offline to online project in Android","body":"<p>I have an Android app written in Java in Android Studio. The app is offline; meaning that the user can open the app even if their device is not connected to the internet. I am wondering how to make the project online; meaning that it opens only if the user is connected to the internet.</p>\n"},{"tags":["java","spring","spring-boot","spring-data-jpa","mariadb"],"owner":{"account_id":28992012,"reputation":51,"user_id":22207496,"display_name":"Chris Chan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1700463750,"creation_date":1700463750,"question_id":77514026,"body_markdown":"How are you doing?\r\n\r\nI have an issue in creating db in MariaDB using Java Spring boot jpa.\r\n\r\n**User Model:**\r\n\r\n    package com.farm.management.model;\r\n    \r\n    import com.farm.management.model.audit.DateAudit;\r\n    import lombok.Data;\r\n    import lombok.NoArgsConstructor;\r\n    import org.hibernate.annotations.NaturalId;\r\n    \r\n    import javax.persistence.*;\r\n    import javax.validation.constraints.Email;\r\n    import javax.validation.constraints.NotBlank;\r\n    import javax.validation.constraints.Size;\r\n    import java.util.HashSet;\r\n    import java.util.Set;\r\n    \r\n    @Entity\r\n    @Data\r\n    @NoArgsConstructor\r\n    @Table(name = &quot;tb_users&quot;, uniqueConstraints = {\r\n            @UniqueConstraint(columnNames = {\r\n                &quot;username&quot;\r\n            }),\r\n            @UniqueConstraint(columnNames = {\r\n                &quot;email&quot;\r\n            })\r\n    })\r\n    public class User extends DateAudit {\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        private Long id;\r\n    \r\n        @NotBlank\r\n        @Size(max = 40)\r\n        private String username;\r\n    \r\n        @NaturalId\r\n        @NotBlank\r\n        @Size(max = 40)\r\n        @Email\r\n        private String email;\r\n    \r\n        @NotBlank\r\n        @Size(max = 100)\r\n        private String password;\r\n    \r\n        @NotBlank\r\n        @Size(max = 40)\r\n        private String name;\r\n    \r\n        private Double doc;\r\n    \r\n        private String address;\r\n        private String city;\r\n        private String phone;\r\n    \r\n        private Long zipcode;\r\n        private Long created_by;\r\n    \r\n        @ManyToMany(fetch = FetchType.LAZY)\r\n        @JoinTable(name = &quot;tb_user_level&quot;,\r\n                joinColumns = @JoinColumn(name = &quot;id_users&quot;),\r\n                inverseJoinColumns = @JoinColumn(name = &quot;id_level&quot;))\r\n        private Set&lt;Level&gt; roles = new HashSet&lt;&gt;();\r\n        \r\n        @ManyToMany(fetch = FetchType.LAZY)\r\n        @JoinTable(name = &quot;tb_user_permission&quot;,\r\n                joinColumns = @JoinColumn(name = &quot;id_users&quot;),\r\n                inverseJoinColumns = @JoinColumn(name = &quot;id_farm&quot;))\r\n        private Set&lt;Farm&gt; farms = new HashSet&lt;&gt;();\r\n    \r\n        public User(String name, String email, String password) {\r\n            this.name = name;\r\n            this.username = email;\r\n            this.email = email;\r\n            this.password = password;\r\n        }\r\n    }\r\n\r\n\r\n**Farm Model:**\r\n\r\n    package com.farm.management.model;\r\n    \r\n    import com.farm.management.model.audit.DateAudit;\r\n    import lombok.Data;\r\n    import lombok.NoArgsConstructor;\r\n    \r\n    import javax.persistence.*;\r\n    import javax.validation.constraints.NotBlank;\r\n    import javax.validation.constraints.Size;\r\n    \r\n    @Entity\r\n    @Data\r\n    @NoArgsConstructor\r\n    @Table(name = &quot;tb_farm&quot;)\r\n    public class Farm extends DateAudit {\r\n    \r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        private Long id;\r\n    \r\n        @NotBlank\r\n        @Size(max = 40)\r\n        private String description;\r\n    \r\n        private String address;\r\n        private String city;\r\n        private String state;\r\n        private String zipcode;\r\n    }\r\n\r\n\r\n**User_farm Model:**\r\n\r\n    package com.farm.management.model;\r\n    \r\n    import lombok.AllArgsConstructor;\r\n    import lombok.Data;\r\n    import lombok.NoArgsConstructor;\r\n    \r\n    import java.io.Serializable;\r\n    \r\n    import javax.persistence.*;\r\n    \r\n    @Entity\r\n    @Data\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    @Table(name = &quot;tb_user_permission&quot;)\r\n    public class Userfarm implements Serializable  {\r\n    \t@Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        private Long id;\r\n    \r\n    \t@ManyToOne(fetch = FetchType.LAZY)\r\n        @JoinColumn(name = &quot;id_users&quot;)\r\n        private User user;\r\n    \r\n        @ManyToOne(fetch = FetchType.LAZY)\r\n        @JoinColumn(name = &quot;id_farm&quot;)\r\n        private Farm farm;\r\n    \r\n        private String description;\r\n    \r\n        public Userfarm(Farm farm, User user, String description) {\r\n            this.farm = farm;\r\n            this.user = user;\r\n            this.description = description;\r\n        }\r\n    }\r\n\r\n\r\n**Maria DB table**\r\n\r\nUser Table\r\n[![enter image description here][1]][1]\r\n\r\nFarm Table\r\n[![enter image description here][2]][2]\r\n\r\nUser Farm Table\r\n[![enter image description here][3]][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Tirc7.png\r\n  [2]: https://i.stack.imgur.com/iwC1z.png\r\n  [3]: https://i.stack.imgur.com/1BtHw.png\r\n\r\nIn the User Farm Table, after creating DB, &quot;id&quot; should be primary key and id_users and id_farm are fk.\r\n\r\nBut &quot;id_users&quot; was primary key after building.\r\nPlease let me know how I can resolve that issue.\r\n\r\nThanks","title":"Building DB in MariaDB using java spring boot JPA","body":"<p>How are you doing?</p>\n<p>I have an issue in creating db in MariaDB using Java Spring boot jpa.</p>\n<p><strong>User Model:</strong></p>\n<pre><code>package com.farm.management.model;\n\nimport com.farm.management.model.audit.DateAudit;\nimport lombok.Data;\nimport lombok.NoArgsConstructor;\nimport org.hibernate.annotations.NaturalId;\n\nimport javax.persistence.*;\nimport javax.validation.constraints.Email;\nimport javax.validation.constraints.NotBlank;\nimport javax.validation.constraints.Size;\nimport java.util.HashSet;\nimport java.util.Set;\n\n@Entity\n@Data\n@NoArgsConstructor\n@Table(name = &quot;tb_users&quot;, uniqueConstraints = {\n        @UniqueConstraint(columnNames = {\n            &quot;username&quot;\n        }),\n        @UniqueConstraint(columnNames = {\n            &quot;email&quot;\n        })\n})\npublic class User extends DateAudit {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    @NotBlank\n    @Size(max = 40)\n    private String username;\n\n    @NaturalId\n    @NotBlank\n    @Size(max = 40)\n    @Email\n    private String email;\n\n    @NotBlank\n    @Size(max = 100)\n    private String password;\n\n    @NotBlank\n    @Size(max = 40)\n    private String name;\n\n    private Double doc;\n\n    private String address;\n    private String city;\n    private String phone;\n\n    private Long zipcode;\n    private Long created_by;\n\n    @ManyToMany(fetch = FetchType.LAZY)\n    @JoinTable(name = &quot;tb_user_level&quot;,\n            joinColumns = @JoinColumn(name = &quot;id_users&quot;),\n            inverseJoinColumns = @JoinColumn(name = &quot;id_level&quot;))\n    private Set&lt;Level&gt; roles = new HashSet&lt;&gt;();\n    \n    @ManyToMany(fetch = FetchType.LAZY)\n    @JoinTable(name = &quot;tb_user_permission&quot;,\n            joinColumns = @JoinColumn(name = &quot;id_users&quot;),\n            inverseJoinColumns = @JoinColumn(name = &quot;id_farm&quot;))\n    private Set&lt;Farm&gt; farms = new HashSet&lt;&gt;();\n\n    public User(String name, String email, String password) {\n        this.name = name;\n        this.username = email;\n        this.email = email;\n        this.password = password;\n    }\n}\n</code></pre>\n<p><strong>Farm Model:</strong></p>\n<pre><code>package com.farm.management.model;\n\nimport com.farm.management.model.audit.DateAudit;\nimport lombok.Data;\nimport lombok.NoArgsConstructor;\n\nimport javax.persistence.*;\nimport javax.validation.constraints.NotBlank;\nimport javax.validation.constraints.Size;\n\n@Entity\n@Data\n@NoArgsConstructor\n@Table(name = &quot;tb_farm&quot;)\npublic class Farm extends DateAudit {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    @NotBlank\n    @Size(max = 40)\n    private String description;\n\n    private String address;\n    private String city;\n    private String state;\n    private String zipcode;\n}\n</code></pre>\n<p><strong>User_farm Model:</strong></p>\n<pre><code>package com.farm.management.model;\n\nimport lombok.AllArgsConstructor;\nimport lombok.Data;\nimport lombok.NoArgsConstructor;\n\nimport java.io.Serializable;\n\nimport javax.persistence.*;\n\n@Entity\n@Data\n@NoArgsConstructor\n@AllArgsConstructor\n@Table(name = &quot;tb_user_permission&quot;)\npublic class Userfarm implements Serializable  {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;id_users&quot;)\n    private User user;\n\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;id_farm&quot;)\n    private Farm farm;\n\n    private String description;\n\n    public Userfarm(Farm farm, User user, String description) {\n        this.farm = farm;\n        this.user = user;\n        this.description = description;\n    }\n}\n</code></pre>\n<p><strong>Maria DB table</strong></p>\n<p>User Table\n<a href=\"https://i.stack.imgur.com/Tirc7.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Tirc7.png\" alt=\"enter image description here\" /></a></p>\n<p>Farm Table\n<a href=\"https://i.stack.imgur.com/iwC1z.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/iwC1z.png\" alt=\"enter image description here\" /></a></p>\n<p>User Farm Table\n<a href=\"https://i.stack.imgur.com/1BtHw.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1BtHw.png\" alt=\"enter image description here\" /></a></p>\n<p>In the User Farm Table, after creating DB, &quot;id&quot; should be primary key and id_users and id_farm are fk.</p>\n<p>But &quot;id_users&quot; was primary key after building.\nPlease let me know how I can resolve that issue.</p>\n<p>Thanks</p>\n"},{"tags":["java","djl"],"owner":{"account_id":15681857,"reputation":71,"user_id":11315574,"display_name":"Vim"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700463175,"creation_date":1700463175,"question_id":77513985,"body_markdown":"I am trying to perform inference on the LSTM model using **DJL** Framework. I would like to understand how to setup model inference **Translator**. The example in the tutorials section refers to mostly CNN and NLP model inference. My feature array looks like this,\r\n```\r\n[[feature_value1, feature_value2, feature_value3], [feature_value1, feature_value2, feature_value3]]\r\n```\r\nIs is possible to setup a Inference Translator based on this feature array and perform a model inference using **DJL** Framework?\r\n","title":"Using DJL Inference for LSTM Model","body":"<p>I am trying to perform inference on the LSTM model using <strong>DJL</strong> Framework. I would like to understand how to setup model inference <strong>Translator</strong>. The example in the tutorials section refers to mostly CNN and NLP model inference. My feature array looks like this,</p>\n<pre><code>[[feature_value1, feature_value2, feature_value3], [feature_value1, feature_value2, feature_value3]]\n</code></pre>\n<p>Is is possible to setup a Inference Translator based on this feature array and perform a model inference using <strong>DJL</strong> Framework?</p>\n"},{"tags":["java","json","minify"],"comments":[{"owner":{"account_id":367127,"reputation":15366,"user_id":713106,"accept_rate":100,"display_name":"Brad"},"score":2,"creation_date":1346229320,"post_id":12173416,"comment_id":16295110,"body_markdown":"How about reading the pretty-printed data back into Jackson and then output it again without pretty-print enabled? See [converting a String to JSON](http://stackoverflow.com/questions/6591388/converting-a-string-to-json-in-java)","body":"How about reading the pretty-printed data back into Jackson and then output it again without pretty-print enabled? See <a href=\"http://stackoverflow.com/questions/6591388/converting-a-string-to-json-in-java\">converting a String to JSON</a>"}],"answers":[{"comments":[{"owner":{"account_id":367746,"reputation":24129,"user_id":714112,"accept_rate":80,"display_name":"Sridhar Sarnobat"},"score":0,"creation_date":1658449576,"post_id":12173857,"comment_id":129060388,"body_markdown":"Would love to see an example of the raw data binding.","body":"Would love to see an example of the raw data binding."}],"tags":[],"owner":{"account_id":15903,"reputation":323443,"user_id":34088,"accept_rate":77,"display_name":"Aaron Digulla"},"comment_count":1,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1665068097,"creation_date":1346229359,"answer_id":12173857,"question_id":12173416,"body_markdown":"The safe way is to read the data using the JsonNode API and just write it out again without enabling the pretty printer.\r\n\r\n    ObjectMapper m = new ObjectMapper();\r\n    JsonNode rootNode = m.readTree(payload);\r\n    String compressed = rootNode.toString();\r\n\r\nIf the object is huge, the [Streaming API][2] can help.\r\n\r\nUsing a regexp does also work if you use this pattern: `\\s*\\n\\s*` \r\n\r\nThis doesn&#39;t create the most compact form (i.e. you will still have some spaces between elements) but it&#39;s a cheap solution if you already have the JSON as a String. The reason why this pattern is safe is that new lines are invalid in String values (they must be escaped using `\\n`) so you can safely remove whitespace around them.\r\n\r\n\r\n  [1]: http://wiki.fasterxml.com/JacksonInFiveMinutes#A.22Raw.22_Data_Binding_Example\r\n  [2]: https://github.com/FasterXML/jackson-core/wiki","title":"How do I get the compact/minified form of pretty-printed JSON in Java?","body":"<p>The safe way is to read the data using the JsonNode API and just write it out again without enabling the pretty printer.</p>\n<pre><code>ObjectMapper m = new ObjectMapper();\nJsonNode rootNode = m.readTree(payload);\nString compressed = rootNode.toString();\n</code></pre>\n<p>If the object is huge, the <a href=\"https://github.com/FasterXML/jackson-core/wiki\" rel=\"nofollow noreferrer\">Streaming API</a> can help.</p>\n<p>Using a regexp does also work if you use this pattern: <code>\\s*\\n\\s*</code></p>\n<p>This doesn't create the most compact form (i.e. you will still have some spaces between elements) but it's a cheap solution if you already have the JSON as a String. The reason why this pattern is safe is that new lines are invalid in String values (they must be escaped using <code>\\n</code>) so you can safely remove whitespace around them.</p>\n"},{"comments":[{"owner":{"account_id":1498585,"reputation":2754,"user_id":1403954,"display_name":"Pascal G&#233;linas"},"score":2,"creation_date":1346263772,"post_id":12174201,"comment_id":16312145,"body_markdown":"You should probably use the TokenBuffer class when reading the data, that way the write will be much more efficient.","body":"You should probably use the TokenBuffer class when reading the data, that way the write will be much more efficient."},{"owner":{"account_id":10538204,"reputation":2189,"user_id":7765316,"display_name":"majurageerthan"},"score":3,"creation_date":1582381198,"post_id":12174201,"comment_id":106761992,"body_markdown":"no need to put core dependency, jackson-databind automatically import jackson-core as a transitive dependency","body":"no need to put core dependency, jackson-databind automatically import jackson-core as a transitive dependency"}],"tags":[],"owner":{"account_id":367127,"reputation":15366,"user_id":713106,"accept_rate":100,"display_name":"Brad"},"comment_count":2,"down_vote_count":0,"up_vote_count":34,"is_accepted":true,"score":34,"last_activity_date":1700463096,"creation_date":1346230645,"answer_id":12174201,"question_id":12173416,"body_markdown":"Jackson allows you to read from a JSON string, so read the pretty-printed string back into Jackson and then output it again with pretty-print disabled.\r\n\r\nSee [converting a String to JSON](https://stackoverflow.com/questions/6591388/converting-a-string-to-json-in-java).\r\n\r\n---\r\n### Simple Example\r\n\r\n\tString prettyJsonString = &quot;{ \\&quot;Hello\\&quot; : \\&quot;world\\&quot;}&quot;;\r\n\r\n\tObjectMapper objectMapper = new ObjectMapper();\r\n\tJsonNode jsonNode = objectMapper.readValue(prettyJsonString, JsonNode.class);\r\n\r\n\tSystem.out.println(jsonNode.toString());\r\n\r\n**Requires**\r\n\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;jackson-core&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.5.3&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.5.3&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\r\n","title":"How do I get the compact/minified form of pretty-printed JSON in Java?","body":"<p>Jackson allows you to read from a JSON string, so read the pretty-printed string back into Jackson and then output it again with pretty-print disabled.</p>\n<p>See <a href=\"https://stackoverflow.com/questions/6591388/converting-a-string-to-json-in-java\">converting a String to JSON</a>.</p>\n<hr />\n<h3>Simple Example</h3>\n<pre><code>String prettyJsonString = &quot;{ \\&quot;Hello\\&quot; : \\&quot;world\\&quot;}&quot;;\n\nObjectMapper objectMapper = new ObjectMapper();\nJsonNode jsonNode = objectMapper.readValue(prettyJsonString, JsonNode.class);\n\nSystem.out.println(jsonNode.toString());\n</code></pre>\n<p><strong>Requires</strong></p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n    &lt;artifactId&gt;jackson-core&lt;/artifactId&gt;\n    &lt;version&gt;2.5.3&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n    &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n    &lt;version&gt;2.5.3&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25162,"reputation":31580,"user_id":64474,"display_name":"Miles"},"comment_count":0,"down_vote_count":1,"up_vote_count":10,"is_accepted":false,"score":9,"last_activity_date":1379037936,"creation_date":1379037936,"answer_id":18777137,"question_id":12173416,"body_markdown":"With the streaming API, you can use [`JsonGenerator.copyCurrentEvent()`](http://fasterxml.github.io/jackson-core/javadoc/2.1.0/com/fasterxml/jackson/core/JsonGenerator.html#copyCurrentEvent%28com.fasterxml.jackson.core.JsonParser%29) to easily re-output the token stream with whatever pretty-printing applied you want, including the default of no whitespace; this avoids buffering the entire document in memory and building a tree for the document.\r\n\r\n    // source and out can be streams, readers/writers, etc.\r\n    String source = &quot;   { \\&quot;hello\\&quot; : \\&quot; world \\&quot;  }  &quot;;\r\n    StringWriter out = new StringWriter();\r\n\r\n    JsonFactory factory = new JsonFactory();\r\n    JsonParser parser = factory.createParser(source);\r\n    try (JsonGenerator gen = factory.createGenerator(out)) {\r\n        while (parser.nextToken() != null) {\r\n            gen.copyCurrentEvent(parser);\r\n        }\r\n    }\r\n\r\n    System.out.println(out.getBuffer().toString()); // {&quot;hello&quot;:&quot; world &quot;}\r\n\r\nYou can use the same approach to pretty-print a JSON document in a streaming fashion:\r\n\r\n    // reindent\r\n    gen.setPrettyPrinter(new DefaultPrettyPrinter());","title":"How do I get the compact/minified form of pretty-printed JSON in Java?","body":"<p>With the streaming API, you can use <a href=\"http://fasterxml.github.io/jackson-core/javadoc/2.1.0/com/fasterxml/jackson/core/JsonGenerator.html#copyCurrentEvent%28com.fasterxml.jackson.core.JsonParser%29\"><code>JsonGenerator.copyCurrentEvent()</code></a> to easily re-output the token stream with whatever pretty-printing applied you want, including the default of no whitespace; this avoids buffering the entire document in memory and building a tree for the document.</p>\n\n<pre><code>// source and out can be streams, readers/writers, etc.\nString source = \"   { \\\"hello\\\" : \\\" world \\\"  }  \";\nStringWriter out = new StringWriter();\n\nJsonFactory factory = new JsonFactory();\nJsonParser parser = factory.createParser(source);\ntry (JsonGenerator gen = factory.createGenerator(out)) {\n    while (parser.nextToken() != null) {\n        gen.copyCurrentEvent(parser);\n    }\n}\n\nSystem.out.println(out.getBuffer().toString()); // {\"hello\":\" world \"}\n</code></pre>\n\n<p>You can use the same approach to pretty-print a JSON document in a streaming fashion:</p>\n\n<pre><code>// reindent\ngen.setPrettyPrinter(new DefaultPrettyPrinter());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":192003,"reputation":30422,"user_id":432903,"accept_rate":64,"display_name":"prayagupa"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1617920868,"creation_date":1486770530,"answer_id":42170511,"question_id":12173416,"body_markdown":"[Jackosn-core](https://github.com/FasterXML/jackson-core) is one way of pretty printing json. You can read the answer here https://stackoverflow.com/a/12174201/432903\r\n\r\nYou can also use `org.json` library, which is a very simple but standard json lib for java. Open source code here -&gt; [stleary/JSON-java](https://github.com/stleary/JSON-java).\r\n\r\n[maven dependency](https://mvnrepository.com/artifact/org.json/json)\r\n--------------\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.json&lt;/groupId&gt;\r\n        &lt;artifactId&gt;json&lt;/artifactId&gt;\r\n        &lt;version&gt;20160810&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nusage\r\n--------\r\n\r\n            String payload = &quot;{\\n&quot; +\r\n                &quot;  \\&quot;fact1\\&quot;: \\&quot;Java is verbose.\\&quot;, \\n&quot; +\r\n                &quot;  \\&quot;fact2\\&quot; : \\&quot;C has pointers\\&quot;\\n&quot; +\r\n                &quot;}&quot;;\r\n            System.out.println(new JSONObject(payload));\r\n\r\nYou&#39;ll get compact json `{&quot;fact2&quot;:&quot;C has pointers&quot;,&quot;fact1&quot;:&quot;Java is verbose.&quot;}` in one line.\r\n","title":"How do I get the compact/minified form of pretty-printed JSON in Java?","body":"<p><a href=\"https://github.com/FasterXML/jackson-core\" rel=\"nofollow noreferrer\">Jackosn-core</a> is one way of pretty printing json. You can read the answer here <a href=\"https://stackoverflow.com/a/12174201/432903\">https://stackoverflow.com/a/12174201/432903</a></p>\n<p>You can also use <code>org.json</code> library, which is a very simple but standard json lib for java. Open source code here -&gt; <a href=\"https://github.com/stleary/JSON-java\" rel=\"nofollow noreferrer\">stleary/JSON-java</a>.</p>\n<h2><a href=\"https://mvnrepository.com/artifact/org.json/json\" rel=\"nofollow noreferrer\">maven dependency</a></h2>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.json&lt;/groupId&gt;\n    &lt;artifactId&gt;json&lt;/artifactId&gt;\n    &lt;version&gt;20160810&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<h2>usage</h2>\n<pre><code>        String payload = &quot;{\\n&quot; +\n            &quot;  \\&quot;fact1\\&quot;: \\&quot;Java is verbose.\\&quot;, \\n&quot; +\n            &quot;  \\&quot;fact2\\&quot; : \\&quot;C has pointers\\&quot;\\n&quot; +\n            &quot;}&quot;;\n        System.out.println(new JSONObject(payload));\n</code></pre>\n<p>You'll get compact json <code>{&quot;fact2&quot;:&quot;C has pointers&quot;,&quot;fact1&quot;:&quot;Java is verbose.&quot;}</code> in one line.</p>\n"}],"owner":{"account_id":1297830,"reputation":3399,"user_id":1248436,"accept_rate":76,"display_name":"mtyurt"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":42171,"favorite_count":0,"down_vote_count":0,"up_vote_count":32,"accepted_answer_id":12174201,"answer_count":4,"score":32,"last_activity_date":1700463096,"creation_date":1346227747,"question_id":12173416,"body_markdown":"https://stackoverflow.com/questions/6176881/how-do-i-make-jackson-pretty-print-the-json-content-it-generates is an example that pretty-prints the JSON string.\r\n\r\nI need to take the pretty-printed version of JSON string and then convert it to the compact/minified form. How can it be done?\r\n\r\nI need to convert this:\r\n\r\n```json\r\n{\r\n  &quot;one&quot; : &quot;AAA&quot;,\r\n  &quot;two&quot; : [ &quot;B B&quot;, &quot;CCC&quot; ],\r\n  &quot;three&quot; : {\r\n    &quot;four&quot; : &quot;D D&quot;,\r\n    &quot;five&quot; : [ &quot;EEE&quot;, &quot;FFF&quot; ]\r\n  }\r\n}\r\n```\r\n\r\nto this:\r\n      \r\n```json\r\n{&quot;one&quot;:&quot;AAA&quot;,&quot;two&quot;:[&quot;B B&quot;,&quot;CCC&quot;],&quot;three&quot;:{&quot;four&quot;:&quot;D D&quot;,&quot;five&quot;:[&quot;EEE&quot;,&quot;FFF&quot;]}}\r\n```\r\n\r\nI tried to remove &#39;\\n&#39;, &#39;\\t&#39;, and &#39; &#39; characters; but there may be some of these characters in values so I can&#39;t do that.\r\n\r\nWhat else can be done?","title":"How do I get the compact/minified form of pretty-printed JSON in Java?","body":"<p><a href=\"https://stackoverflow.com/questions/6176881/how-do-i-make-jackson-pretty-print-the-json-content-it-generates\">How do I make Jackson&#39;s build() method pretty-print its JSON output?</a> is an example that pretty-prints the JSON string.</p>\n<p>I need to take the pretty-printed version of JSON string and then convert it to the compact/minified form. How can it be done?</p>\n<p>I need to convert this:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;one&quot; : &quot;AAA&quot;,\n  &quot;two&quot; : [ &quot;B B&quot;, &quot;CCC&quot; ],\n  &quot;three&quot; : {\n    &quot;four&quot; : &quot;D D&quot;,\n    &quot;five&quot; : [ &quot;EEE&quot;, &quot;FFF&quot; ]\n  }\n}\n</code></pre>\n<p>to this:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{&quot;one&quot;:&quot;AAA&quot;,&quot;two&quot;:[&quot;B B&quot;,&quot;CCC&quot;],&quot;three&quot;:{&quot;four&quot;:&quot;D D&quot;,&quot;five&quot;:[&quot;EEE&quot;,&quot;FFF&quot;]}}\n</code></pre>\n<p>I tried to remove '\\n', '\\t', and ' ' characters; but there may be some of these characters in values so I can't do that.</p>\n<p>What else can be done?</p>\n"},{"tags":["java","spring","model-view-controller","autowired"],"comments":[{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1700471062,"post_id":77513542,"comment_id":136654123,"body_markdown":"Make your controller method `public` instead of `private`.","body":"Make your controller method <code>public</code> instead of <code>private</code>."}],"owner":{"account_id":14491333,"reputation":129,"user_id":10467473,"display_name":"Gagak"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700462467,"creation_date":1700455259,"question_id":77513542,"body_markdown":"I am aware that there are multiple questions with similar premises with this one. however - I have read all of them and most of them either has been left unanswered or the answer is not applicable to my situation.\r\n\r\nI am building an API using MVC infrastructure. I have create a service in this particular way\r\n\r\n```java\r\npublic interface KurirService {\r\n    Map&lt;String,Object&gt; waBlast(Map&lt;String,Object&gt; data);\r\n}\r\n```\r\n\r\n```\r\n@Service\r\npublic class KurirServiceImpl implements KurirService{\r\n    public KurirServiceImpl() {\r\n        System.out.println(&quot;KurirServiceImpl&quot;);\r\n    }\r\n    @Autowired\r\n    private JatisService jatisService;\r\n\r\n    @Autowired\r\n    private DotEnvConstant dotEnvConstant;\r\n\r\n    @Autowired\r\n    private RSAEngineService rsaEngineService;\r\n\r\n    @Override\r\n    public Map&lt;String, Object&gt; waBlast(Map&lt;String, Object&gt; data) {\r\n       //code here\r\n    }\r\n```\r\n\r\nand this is my Controller\r\n```java\r\n@RestController\r\n@CrossOrigin(allowedHeaders = &quot;*&quot;)\r\n@RequestMapping(&quot;/kurir&quot;)\r\npublic class KurirController {\r\n    @PersistenceContext\r\n    private EntityManager entityManager;\r\n    @Autowired\r\n    private CardMonitoringRepository cardMonitoringRepository;\r\n\r\n    @Autowired\r\n    private AuditTrailRepository auditTrailRepository;\r\n\r\n    @Autowired\r\n    private TrackingStatusRepository trackingStatusRepository;\r\n    @Autowired\r\n    private AuditTrailService auditTrailService;\r\n\r\n    @Autowired\r\n    private FastService fastService;\r\n\r\n    @Autowired\r\n    private KurirService kurirService;\r\n\r\n    @Autowired\r\n    private DeliveryTrackingRepository deliveryTrackingRepository;\r\n\r\n    @Autowired\r\n    private JatisService jatisService;\r\n\r\n    @Autowired\r\n    private TrackingHistoryRepository trackingHistoryRepository;\r\n\r\n    @Autowired\r\n    private ListKurirRepository listKurirRepository;\r\n    @Autowired\r\n    private RSAEngineService rsaEngineService;\r\n    \r\n    @PostMapping(&quot;wa-blast&quot;)\r\n    private Map&lt;String,Object&gt; waBlast(@RequestBody Map&lt;String,Object&gt; data){\r\n        System.out.println(&quot;data = &quot; + data);\r\n\r\n        Map&lt;String,Object&gt; response = new HashMap&lt;&gt;();\r\n        String noHp = (String) data.get(&quot;noHp&quot;);\r\n        if(noHp == null) {\r\n            response.put(&quot;rc&quot;, &quot;01&quot;);\r\n            response.put(&quot;message&quot;, &quot;noHp is null&quot;);\r\n            return response;\r\n        }\r\n\r\n        if (kurirService == null) {\r\n            response.put(&quot;rc&quot;, &quot;02&quot;);\r\n            response.put(&quot;message&quot;, &quot;kurirService is null&quot;);\r\n            return response;\r\n        }\r\n        Map&lt;String,Object&gt; whatsapp = kurirService.waBlast(data);\r\n        response = whatsapp;\r\n        return response;\r\n\r\n    }\r\n  }\r\n```\r\n\r\nHowever, when I hit the endpoint with valid requestBody, it gives me this response\r\n```\r\n{\r\n    &quot;rc&quot;: &quot;02&quot;,\r\n    &quot;message&quot;: &quot;kurirService is null&quot;\r\n}\r\n```\r\n\r\nWhich means that kurirService is null and the autowired is not successful for some reason.\r\n\r\nI have checked that the component is scanned properly when the app is initialized at the beginning by using this method within my SpringBootApplication\r\n```java\r\n@SpringBootApplication\r\npublic class CpdmKurirApplication {\r\n\r\n    public static void main(String[] args) {\r\n        ApplicationContext context = SpringApplication.run(CpdmKurirApplication.class, args);\r\n        int contextCount = countApplicationContexts(context);\r\n        System.out.println(&quot;Number of Application Contexts: &quot; + contextCount);\r\n        Map&lt;String, KurirService&gt; kurirServiceBeans = context.getBeansOfType(KurirService.class);\r\n        System.out.println(&quot;KurirService beans: &quot; + kurirServiceBeans.keySet());\r\n\r\n\r\n    }\r\n    private static int countApplicationContexts(ApplicationContext context) {\r\n        int count = 0;\r\n        while (context != null) {\r\n            count++;\r\n            context = context.getParent();\r\n        }\r\n        return count;\r\n    }\r\n    @Bean\r\n    public WebMvcConfigurer corsMappingConfigurer() {\r\n        return new WebMvcConfigurer() {\r\n            @Override\r\n            public void addCorsMappings(CorsRegistry registry) {\r\n                registry.addMapping(&quot;/**&quot;)\r\n                        .allowedOrigins(&quot;localhost:9005&quot;)\r\n                        .allowedMethods(&quot;GET&quot;, &quot;POST&quot;, &quot;PUT&quot;, &quot;DELETE&quot;)\r\n                        .allowedHeaders(&quot;*&quot;);\r\n            }\r\n        };\r\n    }\r\n}\r\n```\r\n\r\nThere is also no multiple application context that is being made which could be a probability of the error and kurirService bean is created successfully. I have made multiple similar API using this approaches and this is my first time encountering this kind of problem which leave me stuck.\r\n\r\nAny kind of advice and answer is appreciated!\r\n\r\n//edit: The rest autowired and PersistenceContext is used for other endpoint that I decide to omit but I leave the autowire there in the case that it is a necessary info","title":"Autowiring a class that has @Service annotation return null","body":"<p>I am aware that there are multiple questions with similar premises with this one. however - I have read all of them and most of them either has been left unanswered or the answer is not applicable to my situation.</p>\n<p>I am building an API using MVC infrastructure. I have create a service in this particular way</p>\n<pre class=\"lang-java prettyprint-override\"><code>public interface KurirService {\n    Map&lt;String,Object&gt; waBlast(Map&lt;String,Object&gt; data);\n}\n</code></pre>\n<pre><code>@Service\npublic class KurirServiceImpl implements KurirService{\n    public KurirServiceImpl() {\n        System.out.println(&quot;KurirServiceImpl&quot;);\n    }\n    @Autowired\n    private JatisService jatisService;\n\n    @Autowired\n    private DotEnvConstant dotEnvConstant;\n\n    @Autowired\n    private RSAEngineService rsaEngineService;\n\n    @Override\n    public Map&lt;String, Object&gt; waBlast(Map&lt;String, Object&gt; data) {\n       //code here\n    }\n</code></pre>\n<p>and this is my Controller</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RestController\n@CrossOrigin(allowedHeaders = &quot;*&quot;)\n@RequestMapping(&quot;/kurir&quot;)\npublic class KurirController {\n    @PersistenceContext\n    private EntityManager entityManager;\n    @Autowired\n    private CardMonitoringRepository cardMonitoringRepository;\n\n    @Autowired\n    private AuditTrailRepository auditTrailRepository;\n\n    @Autowired\n    private TrackingStatusRepository trackingStatusRepository;\n    @Autowired\n    private AuditTrailService auditTrailService;\n\n    @Autowired\n    private FastService fastService;\n\n    @Autowired\n    private KurirService kurirService;\n\n    @Autowired\n    private DeliveryTrackingRepository deliveryTrackingRepository;\n\n    @Autowired\n    private JatisService jatisService;\n\n    @Autowired\n    private TrackingHistoryRepository trackingHistoryRepository;\n\n    @Autowired\n    private ListKurirRepository listKurirRepository;\n    @Autowired\n    private RSAEngineService rsaEngineService;\n    \n    @PostMapping(&quot;wa-blast&quot;)\n    private Map&lt;String,Object&gt; waBlast(@RequestBody Map&lt;String,Object&gt; data){\n        System.out.println(&quot;data = &quot; + data);\n\n        Map&lt;String,Object&gt; response = new HashMap&lt;&gt;();\n        String noHp = (String) data.get(&quot;noHp&quot;);\n        if(noHp == null) {\n            response.put(&quot;rc&quot;, &quot;01&quot;);\n            response.put(&quot;message&quot;, &quot;noHp is null&quot;);\n            return response;\n        }\n\n        if (kurirService == null) {\n            response.put(&quot;rc&quot;, &quot;02&quot;);\n            response.put(&quot;message&quot;, &quot;kurirService is null&quot;);\n            return response;\n        }\n        Map&lt;String,Object&gt; whatsapp = kurirService.waBlast(data);\n        response = whatsapp;\n        return response;\n\n    }\n  }\n</code></pre>\n<p>However, when I hit the endpoint with valid requestBody, it gives me this response</p>\n<pre><code>{\n    &quot;rc&quot;: &quot;02&quot;,\n    &quot;message&quot;: &quot;kurirService is null&quot;\n}\n</code></pre>\n<p>Which means that kurirService is null and the autowired is not successful for some reason.</p>\n<p>I have checked that the component is scanned properly when the app is initialized at the beginning by using this method within my SpringBootApplication</p>\n<pre class=\"lang-java prettyprint-override\"><code>@SpringBootApplication\npublic class CpdmKurirApplication {\n\n    public static void main(String[] args) {\n        ApplicationContext context = SpringApplication.run(CpdmKurirApplication.class, args);\n        int contextCount = countApplicationContexts(context);\n        System.out.println(&quot;Number of Application Contexts: &quot; + contextCount);\n        Map&lt;String, KurirService&gt; kurirServiceBeans = context.getBeansOfType(KurirService.class);\n        System.out.println(&quot;KurirService beans: &quot; + kurirServiceBeans.keySet());\n\n\n    }\n    private static int countApplicationContexts(ApplicationContext context) {\n        int count = 0;\n        while (context != null) {\n            count++;\n            context = context.getParent();\n        }\n        return count;\n    }\n    @Bean\n    public WebMvcConfigurer corsMappingConfigurer() {\n        return new WebMvcConfigurer() {\n            @Override\n            public void addCorsMappings(CorsRegistry registry) {\n                registry.addMapping(&quot;/**&quot;)\n                        .allowedOrigins(&quot;localhost:9005&quot;)\n                        .allowedMethods(&quot;GET&quot;, &quot;POST&quot;, &quot;PUT&quot;, &quot;DELETE&quot;)\n                        .allowedHeaders(&quot;*&quot;);\n            }\n        };\n    }\n}\n</code></pre>\n<p>There is also no multiple application context that is being made which could be a probability of the error and kurirService bean is created successfully. I have made multiple similar API using this approaches and this is my first time encountering this kind of problem which leave me stuck.</p>\n<p>Any kind of advice and answer is appreciated!</p>\n<p>//edit: The rest autowired and PersistenceContext is used for other endpoint that I decide to omit but I leave the autowire there in the case that it is a necessary info</p>\n"},{"tags":["java","android","android-recyclerview"],"comments":[{"owner":{"account_id":19315649,"reputation":692,"user_id":14120486,"display_name":"ItzDavi"},"score":0,"creation_date":1700384265,"post_id":77510188,"comment_id":136646002,"body_markdown":"Does this help ? https://stackoverflow.com/questions/54763264/move-recyclerview-clicked-item-to-the-top","body":"Does this help ? <a href=\"https://stackoverflow.com/questions/54763264/move-recyclerview-clicked-item-to-the-top\" title=\"move recyclerview clicked item to the top\">stackoverflow.com/questions/54763264/&hellip;</a>"},{"owner":{"account_id":19315649,"reputation":692,"user_id":14120486,"display_name":"ItzDavi"},"score":0,"creation_date":1700384322,"post_id":77510188,"comment_id":136646007,"body_markdown":"This does not perfectly fit your case but it will help for sure","body":"This does not perfectly fit your case but it will help for sure"},{"owner":{"account_id":24830565,"reputation":79,"user_id":18709793,"display_name":"Newbie_programmer"},"score":0,"creation_date":1700457125,"post_id":77510188,"comment_id":136652493,"body_markdown":"It is similar to my problem, but unfortunately I&#39;m unable to understand what they are saying.","body":"It is similar to my problem, but unfortunately I&#39;m unable to understand what they are saying."}],"answers":[{"comments":[{"owner":{"account_id":19293500,"reputation":95,"user_id":14102903,"display_name":"dev.tejasb"},"score":0,"creation_date":1700386286,"post_id":77510205,"comment_id":136646121,"body_markdown":"Yes, this is an ideal solution by having timestamp to every chat and sorting in descending order based on that timestamp.","body":"Yes, this is an ideal solution by having timestamp to every chat and sorting in descending order based on that timestamp."},{"owner":{"account_id":24830565,"reputation":79,"user_id":18709793,"display_name":"Newbie_programmer"},"score":0,"creation_date":1700387132,"post_id":77510205,"comment_id":136646194,"body_markdown":"I get what you are trying to say but I don&#39;t know how to use Comparator and how to sort the data I get from Firebase. Can you help me?","body":"I get what you are trying to say but I don&#39;t know how to use Comparator and how to sort the data I get from Firebase. Can you help me?"},{"owner":{"account_id":21741636,"reputation":1162,"user_id":16048914,"display_name":"David Weber"},"score":0,"creation_date":1700392465,"post_id":77510205,"comment_id":136646652,"body_markdown":"Your RecyclerView hast a List of Objects which it displays. You just need to sort this list and refresh the RecyclerView.","body":"Your RecyclerView hast a List of Objects which it displays. You just need to sort this list and refresh the RecyclerView."},{"owner":{"account_id":21741636,"reputation":1162,"user_id":16048914,"display_name":"David Weber"},"score":0,"creation_date":1700462455,"post_id":77510205,"comment_id":136653017,"body_markdown":"I just posted a Comparator. :D","body":"I just posted a Comparator. :D"}],"tags":[],"owner":{"account_id":21741636,"reputation":1162,"user_id":16048914,"display_name":"David Weber"},"comment_count":4,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1700462426,"creation_date":1700384496,"answer_id":77510205,"question_id":77510188,"body_markdown":"What you are really trying to achieve is sorting the list of your `RecyclerView`.\r\n\r\nCreate a sorting algorithm (you can implement is with a Comparator) which sorts your list first by `lastContactedDate` descending, and after that by `name` ascending. \r\n\r\n\r\n    Collections.sort(chats, new Comparator&lt;Pizza&gt;() {  \r\n        @Override  \r\n        public int compare(Chat o1, Chat o2) {  \r\n            int lastContactedDateCompResult = o1.getLastContactedDate.compareTo(p2.getLastContactedDate);  // you need to check for null here. \r\n            if (lastContactedDateCompResult != 0) {  \r\n                return lastContactedDateCompResult;  \r\n            }  \r\n\r\n            return o1.getName().compareTo(o2.getName());  \r\n        }  \r\n    });  ","title":"How to show a specific List Item on top of the RecyclerView in Android","body":"<p>What you are really trying to achieve is sorting the list of your <code>RecyclerView</code>.</p>\n<p>Create a sorting algorithm (you can implement is with a Comparator) which sorts your list first by <code>lastContactedDate</code> descending, and after that by <code>name</code> ascending.</p>\n<pre><code>Collections.sort(chats, new Comparator&lt;Pizza&gt;() {  \n    @Override  \n    public int compare(Chat o1, Chat o2) {  \n        int lastContactedDateCompResult = o1.getLastContactedDate.compareTo(p2.getLastContactedDate);  // you need to check for null here. \n        if (lastContactedDateCompResult != 0) {  \n            return lastContactedDateCompResult;  \n        }  \n\n        return o1.getName().compareTo(o2.getName());  \n    }  \n});  \n</code></pre>\n"}],"owner":{"account_id":24830565,"reputation":79,"user_id":18709793,"display_name":"Newbie_programmer"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77510205,"answer_count":1,"score":0,"last_activity_date":1700462426,"creation_date":1700384089,"question_id":77510188,"body_markdown":"I am developing a chat application where there are users to select and chat with. Check the picture below-\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/i5g1W.jpg\r\n\r\nAs you can see the first user or List Item of the RecyclerView is &quot;Cassie Ventura&quot;. But I want to show &quot;Rachel Clark&quot; on top because I chatted with her. (for example) That means I want to know how to put a specific list item on top. How to change the positions of the list items inside the **RecyclerView**?\r\nWhenever I chat with someone, his/her name should be on top and that&#39;s what I want to do. But I don&#39;t know how to do that. I tried **ScrolltoPosition** but it doesn&#39;t put the list item on top. How to do this specific task? Is there any function for it in the **RecyclerView**? Please let me know if you want to see any code snippet. Thank you.","title":"How to show a specific List Item on top of the RecyclerView in Android","body":"<p>I am developing a chat application where there are users to select and chat with. Check the picture below-</p>\n<p><a href=\"https://i.stack.imgur.com/i5g1W.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/i5g1W.jpg\" alt=\"enter image description here\" /></a></p>\n<p>As you can see the first user or List Item of the RecyclerView is &quot;Cassie Ventura&quot;. But I want to show &quot;Rachel Clark&quot; on top because I chatted with her. (for example) That means I want to know how to put a specific list item on top. How to change the positions of the list items inside the <strong>RecyclerView</strong>?\nWhenever I chat with someone, his/her name should be on top and that's what I want to do. But I don't know how to do that. I tried <strong>ScrolltoPosition</strong> but it doesn't put the list item on top. How to do this specific task? Is there any function for it in the <strong>RecyclerView</strong>? Please let me know if you want to see any code snippet. Thank you.</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9867,"page":50,"page_size":100}
