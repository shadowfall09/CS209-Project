{"items":[{"tags":["java","swing","styleddocument"],"comments":[{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1643135011,"post_id":70852076,"comment_id":125257965,"body_markdown":"A JTextPane is designed to display text and default background painting is based on the size of the text. Maybe its possible to create a custom `Painter` that ignores the bounds of the text. Check out [Rectangle Painter](https://tips4java.wordpress.com/2008/10/28/rectangle-painter/) for a basic example. However, a simpler approach might be to just use a JLabel for your text. Then you can do custom painting of the label and just insert the label into the text pane using the `insertComponent(....)` method of the JTextPane.","body":"A JTextPane is designed to display text and default background painting is based on the size of the text. Maybe its possible to create a custom <code>Painter</code> that ignores the bounds of the text. Check out <a href=\"https://tips4java.wordpress.com/2008/10/28/rectangle-painter/\" rel=\"nofollow noreferrer\">Rectangle Painter</a> for a basic example. However, a simpler approach might be to just use a JLabel for your text. Then you can do custom painting of the label and just insert the label into the text pane using the <code>insertComponent(....)</code> method of the JTextPane."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1643135033,"post_id":70852076,"comment_id":125257977,"body_markdown":"See: https://stackoverflow.com/a/16909994/131872 for an example of a custom Border similar to what you want.","body":"See: <a href=\"https://stackoverflow.com/a/16909994/131872\">stackoverflow.com/a/16909994/131872</a> for an example of a custom Border similar to what you want."},{"owner":{"account_id":19448399,"reputation":177,"user_id":14225385,"display_name":"Madar"},"score":0,"creation_date":1643184220,"post_id":70852076,"comment_id":125269276,"body_markdown":"Unfortunately, that doesn&#39;t help me at all, I&#39;m working with StyledDocument and not with JTextPane mate..","body":"Unfortunately, that doesn&#39;t help me at all, I&#39;m working with StyledDocument and not with JTextPane mate.."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1643210463,"post_id":70852076,"comment_id":125279562,"body_markdown":"Not sure what &quot;that&quot; refers to, I gave two suggestions. The insertComponent() method is just a convenience method. All data will ultimately be added to the Document. So if you only have access to the Document then you look at the source code to see what that method does and then replicate the code. See: https://github.com/openjdk/jdk/tree/master/src/java.desktop/share/classes/javax","body":"Not sure what &quot;that&quot; refers to, I gave two suggestions. The insertComponent() method is just a convenience method. All data will ultimately be added to the Document. So if you only have access to the Document then you look at the source code to see what that method does and then replicate the code. See: <a href=\"https://github.com/openjdk/jdk/tree/master/src/java.desktop/share/classes/javax\" rel=\"nofollow noreferrer\">github.com/openjdk/jdk/tree/master/src/java.desktop/share/&hellip;</a>"}],"owner":{"account_id":19448399,"reputation":177,"user_id":14225385,"display_name":"Madar"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":76,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1643127627,"creation_date":1643127627,"question_id":70852076,"body_markdown":"I&#39;m using StyledDocument and SimpleAttributeSet for my project but I&#39;m having an UI issue. \r\n\r\nHere is what I have with my code right now : \r\n[![enter image description here][1]][1]\r\n\r\nAnd here is what I would like to have : \r\n[![enter image description here][2]][2]\r\n\r\nThe first thing I&#39;m trying to have is the padding, because the background is too &quot;tight&quot; and so we see a lot of text and not a lot of blue but I don&#39;t know how to make the blue surface bigger. \r\n\r\nAnd then, if I can apply a radius it will be perfect but I can&#39;t manage to do it neither. \r\n\r\nHere is the code you&#39;ll need to reproduce what I have on the first image : \r\n\r\n     StyledDocument doc = chatBox.getStyledDocument(); \r\n    \r\n     SimpleAttributeSet rightO = new SimpleAttributeSet();\r\n     StyleConstants.setBackground(rightO, new Color(59,130,247));\r\n     StyleConstants.setForeground(rightO, new Color(255,255,255)); \r\n     StyleConstants.setFontSize(rightO, 14);\r\n    \r\n     SimpleAttributeSet blue = new SimpleAttributeSet(); \r\n     StyleConstants.setAlignment(blue, StyleConstants.ALIGN_RIGHT);\r\n     StyleConstants.setRightIndent(blue, 10);\r\n     StyleConstants.setLeftIndent(blue, 100);\r\n    \r\n     try {\r\n     doc.insertString(doc.getLength(), &quot;\\n&quot;+message.getContent(), rightO);\r\n     doc.setParagraphAttributes(doc.getLength() -    message.getContent().length(), doc.getLength(), blue, false);\r\n     } catch (BadLocationException e) {\r\n    \t\t\t// TODO Auto-generated catch block\r\n    \t\t\te.printStackTrace();\r\n     }\r\n       \r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/XIyK9.png\r\n  [2]: https://i.stack.imgur.com/Dq5Gz.png","title":"Java swing : StyledDocument padding and radius for paragraphs","body":"<p>I'm using StyledDocument and SimpleAttributeSet for my project but I'm having an UI issue.</p>\n<p>Here is what I have with my code right now :\n<a href=\"https://i.stack.imgur.com/XIyK9.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/XIyK9.png\" alt=\"enter image description here\" /></a></p>\n<p>And here is what I would like to have :\n<a href=\"https://i.stack.imgur.com/Dq5Gz.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Dq5Gz.png\" alt=\"enter image description here\" /></a></p>\n<p>The first thing I'm trying to have is the padding, because the background is too &quot;tight&quot; and so we see a lot of text and not a lot of blue but I don't know how to make the blue surface bigger.</p>\n<p>And then, if I can apply a radius it will be perfect but I can't manage to do it neither.</p>\n<p>Here is the code you'll need to reproduce what I have on the first image :</p>\n<pre><code> StyledDocument doc = chatBox.getStyledDocument(); \n\n SimpleAttributeSet rightO = new SimpleAttributeSet();\n StyleConstants.setBackground(rightO, new Color(59,130,247));\n StyleConstants.setForeground(rightO, new Color(255,255,255)); \n StyleConstants.setFontSize(rightO, 14);\n\n SimpleAttributeSet blue = new SimpleAttributeSet(); \n StyleConstants.setAlignment(blue, StyleConstants.ALIGN_RIGHT);\n StyleConstants.setRightIndent(blue, 10);\n StyleConstants.setLeftIndent(blue, 100);\n\n try {\n doc.insertString(doc.getLength(), &quot;\\n&quot;+message.getContent(), rightO);\n doc.setParagraphAttributes(doc.getLength() -    message.getContent().length(), doc.getLength(), blue, false);\n } catch (BadLocationException e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n }\n   \n</code></pre>\n"},{"tags":["java","json","jackson","deserialization"],"answers":[{"tags":[],"owner":{"account_id":9779820,"reputation":9709,"user_id":7248342,"display_name":"Thomas Fritsch"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1621810423,"creation_date":1621810107,"answer_id":67665044,"question_id":67664374,"body_markdown":"You cannot add your own parameters to `@JsonDeserialize`,\r\nbecause you can&#39;t alter Jackson&#39;s implementation of this annotation.\r\n\r\nHowever, you can achieve your goal in a slightly different way.\r\nYou can invent your own annotation (let&#39;s call it `@MyAnnotation`)\r\nand use that alongside with the `@JsonDeserialize` annotation on your property:\r\n\r\n    @JsonDeserialize(using = CustomDeserializer.class)\r\n    @MyAnnotation(customParm = &quot;value&quot;)\r\n    private MyObject obj;\r\n\t\r\nThe implementation of the annotation is pretty straight-forward.\r\nThe following example annotation just defines a single `String` parameter.\r\n\r\n    @Target({ ElementType.FIELD })\r\n    @Retention(RetentionPolicy.RUNTIME)\r\n    public @interface MyAnnotation {\r\n    \r\n        String customParm();\r\n    }\r\n\r\nThen you can access the parameters of `@MyAnnotation` from within\r\nyour deserializer as follows.\r\n\r\n* As usual your deserializer needs to implement the `deserialize` method\r\n  where you do the actual deserialization of the property.\r\n\r\n* Besides that your deserializer needs to implement\r\n  the [`ContextualDeserializer` interface][1]\r\n  and implement the [`createContextual` method][2].\r\n  Here you configure your deserializer (by getting the `customParm` from `@MyAnnotation`).\r\n  Jackson will call this method before the actual deserialization.\r\n\r\n&lt;!-- --&gt;\r\n\r\n    public class CustomDeserializer extends StdDeserializer&lt;MyObject&gt; implements ContextualDeserializer {\r\n    \r\n        private String customParm = null;\r\n    \r\n        public CustomDeserializer() {\r\n            super(MyObject.class);\r\n        }\r\n    \r\n        public CustomDeserializer(String customParm) {\r\n            super(MyObject.class);\r\n            this.customParm = customParm;\r\n        }\r\n\r\n        @Override\r\n        public JsonDeserializer&lt;?&gt; createContextual(DeserializationContext ctxt, BeanProperty property)\r\n                throws JsonMappingException {\r\n            MyAnnotation myAnnotation = property.getAnnotation(MyAnnotation.class);\r\n            if (myAnnotation != null) {\r\n                String customParm = myAnnotation.customParm();\r\n                // return a new instance, so that different properties will not share the same deserializer instance\r\n                return new CustomDeserializer(customParm);\r\n            }\r\n            return this;\r\n        }\r\n\r\n        @Override\r\n        public MyObject deserialize(JsonParser p, DeserializationContext ctxt) throws IOException, JsonProcessingException {\r\n            // do your deserialization (using customParm)\r\n\t\t    return ...;\r\n        }\r\n    }\r\n\r\n [1]: https://fasterxml.github.io/jackson-databind/javadoc/2.7/com/fasterxml/jackson/databind/deser/ContextualDeserializer.html\r\n [2]: https://fasterxml.github.io/jackson-databind/javadoc/2.7/com/fasterxml/jackson/databind/deser/ContextualDeserializer.html#createContextual(com.fasterxml.jackson.databind.DeserializationContext,%20com.fasterxml.jackson.databind.BeanProperty)\r\n ","title":"Adding custom arguments to Jackson deserializer","body":"<p>You cannot add your own parameters to <code>@JsonDeserialize</code>,\nbecause you can't alter Jackson's implementation of this annotation.</p>\n<p>However, you can achieve your goal in a slightly different way.\nYou can invent your own annotation (let's call it <code>@MyAnnotation</code>)\nand use that alongside with the <code>@JsonDeserialize</code> annotation on your property:</p>\n<pre><code>@JsonDeserialize(using = CustomDeserializer.class)\n@MyAnnotation(customParm = &quot;value&quot;)\nprivate MyObject obj;\n</code></pre>\n<p>The implementation of the annotation is pretty straight-forward.\nThe following example annotation just defines a single <code>String</code> parameter.</p>\n<pre><code>@Target({ ElementType.FIELD })\n@Retention(RetentionPolicy.RUNTIME)\npublic @interface MyAnnotation {\n\n    String customParm();\n}\n</code></pre>\n<p>Then you can access the parameters of <code>@MyAnnotation</code> from within\nyour deserializer as follows.</p>\n<ul>\n<li><p>As usual your deserializer needs to implement the <code>deserialize</code> method\nwhere you do the actual deserialization of the property.</p>\n</li>\n<li><p>Besides that your deserializer needs to implement\nthe <a href=\"https://fasterxml.github.io/jackson-databind/javadoc/2.7/com/fasterxml/jackson/databind/deser/ContextualDeserializer.html\" rel=\"noreferrer\"><code>ContextualDeserializer</code> interface</a>\nand implement the <a href=\"https://fasterxml.github.io/jackson-databind/javadoc/2.7/com/fasterxml/jackson/databind/deser/ContextualDeserializer.html#createContextual(com.fasterxml.jackson.databind.DeserializationContext,%20com.fasterxml.jackson.databind.BeanProperty)\" rel=\"noreferrer\"><code>createContextual</code> method</a>.\nHere you configure your deserializer (by getting the <code>customParm</code> from <code>@MyAnnotation</code>).\nJackson will call this method before the actual deserialization.</p>\n</li>\n</ul>\n\n<pre><code>public class CustomDeserializer extends StdDeserializer&lt;MyObject&gt; implements ContextualDeserializer {\n\n    private String customParm = null;\n\n    public CustomDeserializer() {\n        super(MyObject.class);\n    }\n\n    public CustomDeserializer(String customParm) {\n        super(MyObject.class);\n        this.customParm = customParm;\n    }\n\n    @Override\n    public JsonDeserializer&lt;?&gt; createContextual(DeserializationContext ctxt, BeanProperty property)\n            throws JsonMappingException {\n        MyAnnotation myAnnotation = property.getAnnotation(MyAnnotation.class);\n        if (myAnnotation != null) {\n            String customParm = myAnnotation.customParm();\n            // return a new instance, so that different properties will not share the same deserializer instance\n            return new CustomDeserializer(customParm);\n        }\n        return this;\n    }\n\n    @Override\n    public MyObject deserialize(JsonParser p, DeserializationContext ctxt) throws IOException, JsonProcessingException {\n        // do your deserialization (using customParm)\n        return ...;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3732221,"reputation":566,"user_id":4361933,"accept_rate":0,"display_name":"&#214;MER TAÅžCI"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1643127578,"creation_date":1643127578,"answer_id":70852067,"question_id":67664374,"body_markdown":"According to previous solution I create my custom date deserializer.And it works for me.\r\n\r\nFirst create your annotaition.\r\n\r\n    @Target({ ElementType.FIELD })\r\n    @Retention(RetentionPolicy.RUNTIME)\r\n    public @interface CustomDateFormat {\r\n        String customDateFormat();\r\n    }\r\n\r\nSecond create your serializer class.\r\n\r\n    public class CustomDateDeserializer extends StdDeserializer&lt;DateTime&gt; implements ContextualDeserializer {\r\n\r\n    private SimpleDateFormat formatter = new SimpleDateFormat(&quot;dd/MM/yyyy&quot;);\r\n    private String customDateFormat = null;\r\n\r\n    public CustomDateDeserializer() {\r\n        this(null);\r\n    }\r\n\r\n    public CustomDateDeserializer(Class&lt;?&gt; vc) {\r\n        super(vc);\r\n    }\r\n    public CustomDateDeserializer(Class&lt;?&gt; vc, String customDateFormat) {\r\n        super(vc);\r\n        this.customDateFormat = customDateFormat;\r\n    }\r\n\r\n    @Override\r\n    public DateTime deserialize(JsonParser jsonparser, DeserializationContext context) throws IOException {\r\n        String date = jsonparser.getText();\r\n        try {\r\n\r\n            if (!Util.nullToBosluk(date).equals(&quot;&quot;))\r\n                return new DateTime(getDateFormat(this.customDateFormat).parse(date));\r\n        } catch (ParseException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n        return null;\r\n     }\r\n\r\n    @Override\r\n    public JsonDeserializer&lt;?&gt; createContextual(DeserializationContext ctxt, BeanProperty property)\r\n            throws JsonMappingException {\r\n        CustomDateFormat customDateFormatAnn = property.getAnnotation(CustomDateFormat.class);\r\n        if (customDateFormatAnn != null) {\r\n            String customParam = customDateFormatAnn.customDateFormat();\r\n            return new CustomDateDeserializer(this._valueClass, customParam);\r\n        }\r\n        return this;\r\n     }\r\n\r\n    private DateFormat getDateFormat(String customDateFormat) {\r\n        if (StringUtils.isNotBlank(customDateFormat))\r\n            return new SimpleDateFormat(customDateFormat);\r\n        else\r\n            return this.formatter;\r\n     }\r\n    }\r\n\r\nFinally use your new annotation in your code.\r\n\r\n    ...\r\n    @JsonDeserialize(using = CustomDateDeserializer.class)\r\n    DateTime invoiceDate;\r\n    @JsonDeserialize(using = CustomDateDeserializer.class)\r\n    @CustomDateFormat(customDateFormat = &quot;dd/MM/yyyy HH:mm&quot;)\r\n    DateTime createDate;\r\n    ...\r\n","title":"Adding custom arguments to Jackson deserializer","body":"<p>According to previous solution I create my custom date deserializer.And it works for me.</p>\n<p>First create your annotaition.</p>\n<pre><code>@Target({ ElementType.FIELD })\n@Retention(RetentionPolicy.RUNTIME)\npublic @interface CustomDateFormat {\n    String customDateFormat();\n}\n</code></pre>\n<p>Second create your serializer class.</p>\n<pre><code>public class CustomDateDeserializer extends StdDeserializer&lt;DateTime&gt; implements ContextualDeserializer {\n\nprivate SimpleDateFormat formatter = new SimpleDateFormat(&quot;dd/MM/yyyy&quot;);\nprivate String customDateFormat = null;\n\npublic CustomDateDeserializer() {\n    this(null);\n}\n\npublic CustomDateDeserializer(Class&lt;?&gt; vc) {\n    super(vc);\n}\npublic CustomDateDeserializer(Class&lt;?&gt; vc, String customDateFormat) {\n    super(vc);\n    this.customDateFormat = customDateFormat;\n}\n\n@Override\npublic DateTime deserialize(JsonParser jsonparser, DeserializationContext context) throws IOException {\n    String date = jsonparser.getText();\n    try {\n\n        if (!Util.nullToBosluk(date).equals(&quot;&quot;))\n            return new DateTime(getDateFormat(this.customDateFormat).parse(date));\n    } catch (ParseException e) {\n        throw new RuntimeException(e);\n    }\n    return null;\n }\n\n@Override\npublic JsonDeserializer&lt;?&gt; createContextual(DeserializationContext ctxt, BeanProperty property)\n        throws JsonMappingException {\n    CustomDateFormat customDateFormatAnn = property.getAnnotation(CustomDateFormat.class);\n    if (customDateFormatAnn != null) {\n        String customParam = customDateFormatAnn.customDateFormat();\n        return new CustomDateDeserializer(this._valueClass, customParam);\n    }\n    return this;\n }\n\nprivate DateFormat getDateFormat(String customDateFormat) {\n    if (StringUtils.isNotBlank(customDateFormat))\n        return new SimpleDateFormat(customDateFormat);\n    else\n        return this.formatter;\n }\n}\n</code></pre>\n<p>Finally use your new annotation in your code.</p>\n<pre><code>...\n@JsonDeserialize(using = CustomDateDeserializer.class)\nDateTime invoiceDate;\n@JsonDeserialize(using = CustomDateDeserializer.class)\n@CustomDateFormat(customDateFormat = &quot;dd/MM/yyyy HH:mm&quot;)\nDateTime createDate;\n...\n</code></pre>\n"}],"owner":{"account_id":8868218,"reputation":928,"user_id":6622697,"display_name":"Peter Kronenberg"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4487,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":67665044,"answer_count":2,"score":3,"last_activity_date":1643127578,"creation_date":1621804092,"question_id":67664374,"body_markdown":"I have a custom deserializer. But I want to be able to pass additional arguments.  For example\r\n```\r\n@JsonDeserialize(using=CustomDeserializer.class, customParm=value)\r\nMyObject obj;\r\n```\r\nHow can I pass in my custom parameter on the annotation?","title":"Adding custom arguments to Jackson deserializer","body":"<p>I have a custom deserializer. But I want to be able to pass additional arguments.  For example</p>\n<pre><code>@JsonDeserialize(using=CustomDeserializer.class, customParm=value)\nMyObject obj;\n</code></pre>\n<p>How can I pass in my custom parameter on the annotation?</p>\n"},{"tags":["java","log4j2","tomcat8"],"comments":[{"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"score":1,"creation_date":1643124632,"post_id":70851017,"comment_id":125253413,"body_markdown":"Did you check the [_&quot;Automatic Configuration&quot;_ section](https://logging.apache.org/log4j/2.x/manual/configuration.html#AutomaticConfiguration) of Log4j documentation?","body":"Did you check the <a href=\"https://logging.apache.org/log4j/2.x/manual/configuration.html#AutomaticConfiguration\" rel=\"nofollow noreferrer\"><i>&quot;Automatic Configuration&quot;</i> section</a> of Log4j documentation?"}],"answers":[{"tags":[],"owner":{"account_id":13784194,"reputation":33,"user_id":9948573,"display_name":"heef"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1643124745,"creation_date":1643124745,"answer_id":70851393,"question_id":70851017,"body_markdown":"Maybe you could specify in your build which config file to use?\r\n\r\nE.g. -Dlog4j.configurationFile={path to file}, where path would be determined by building dev or prod? ","title":"How pass log4j2.xml to Tomcat application","body":"<p>Maybe you could specify in your build which config file to use?</p>\n<p>E.g. -Dlog4j.configurationFile={path to file}, where path would be determined by building dev or prod?</p>\n"},{"tags":[],"owner":{"account_id":6808649,"reputation":87,"user_id":5239651,"display_name":"denis"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1643127249,"creation_date":1643127027,"answer_id":70851942,"question_id":70851017,"body_markdown":"In the `$CATALINA_BASE/bin/setenv.sh` file I&#39;ve added the line:\r\n\r\n``` \r\nexport LOG4J_CONFIGURATION_FILE=/dev/log4j2_dev.xml\r\n``` ","title":"How pass log4j2.xml to Tomcat application","body":"<p>In the <code>$CATALINA_BASE/bin/setenv.sh</code> file I've added the line:</p>\n<pre><code>export LOG4J_CONFIGURATION_FILE=/dev/log4j2_dev.xml\n</code></pre>\n"}],"owner":{"account_id":6808649,"reputation":87,"user_id":5239651,"display_name":"denis"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":392,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":70851942,"answer_count":2,"score":0,"last_activity_date":1643127249,"creation_date":1643123254,"question_id":70851017,"body_markdown":"I have application which is running at Tomcat 8 server.\r\nApplication use log4j2 for internal logging.\r\nI want to have one application.war and two different log config files like:\r\nlog4j2_dev.xml and log4j2_prod.xml depending from environment.\r\n\r\nIn production environment I want deploy application.war and use log4j2_prod.xml\r\nAnd in development environment  I want deploy application.war and use log4j2_dev.xml\r\n\r\nSo, how could I specify which file to use during application.war deploying?\r\n\r\nPS.\r\nI don&#39;t want build two different wars like\r\napplication_prod.war and application_dev.war with different configs inside.","title":"How pass log4j2.xml to Tomcat application","body":"<p>I have application which is running at Tomcat 8 server.\nApplication use log4j2 for internal logging.\nI want to have one application.war and two different log config files like:\nlog4j2_dev.xml and log4j2_prod.xml depending from environment.</p>\n<p>In production environment I want deploy application.war and use log4j2_prod.xml\nAnd in development environment  I want deploy application.war and use log4j2_dev.xml</p>\n<p>So, how could I specify which file to use during application.war deploying?</p>\n<p>PS.\nI don't want build two different wars like\napplication_prod.war and application_dev.war with different configs inside.</p>\n"},{"tags":["java","android","postgresql","android-studio","android-layout"],"comments":[{"owner":{"account_id":18662223,"reputation":1,"user_id":13603150,"display_name":"Piyush068"},"score":0,"creation_date":1642239874,"post_id":70720334,"comment_id":125021699,"body_markdown":"AndroidRuntime: Caused by: java.lang.ClassNotFoundException: Didn&#39;t find class &quot;java.lang.management.Managem\nentFactory&quot; on path: DexPathList","body":"AndroidRuntime: Caused by: java.lang.ClassNotFoundException: Didn&#39;t find class &quot;java.lang.management.Managem entFactory&quot; on path: DexPathList"},{"owner":{"account_id":5964120,"reputation":4275,"user_id":4688321,"display_name":"kiner_shah"},"score":0,"creation_date":1642239909,"post_id":70720334,"comment_id":125021716,"body_markdown":"Please include the complete error message in the question itself, not in the comments. Edit the question and include it.","body":"Please include the complete error message in the question itself, not in the comments. Edit the question and include it."},{"owner":{"account_id":18662223,"reputation":1,"user_id":13603150,"display_name":"Piyush068"},"score":0,"creation_date":1642240006,"post_id":70720334,"comment_id":125021740,"body_markdown":"String jdbcUrl = &quot;jdbc:postgresql://222.222.0.123:5432/Test&quot;;\n        String username = &quot;postgres&quot;;\n        String password =&quot;postgres&quot;;\n        \n        Class.forName(&quot;oracle.jdbc.driver.OracleDriver&quot;);\n            \n        Thread thread = new Thread(new Runnable() {\n\n            @Override\n            public void run() {\n                try {\n                    Connection conn = null;\n                    conn = DriverManager.getConnection(jdbcUrl, username, password);","body":"String jdbcUrl = &quot;jdbc:postgresql://222.222.0.123:5432/Test&quot;;         String username = &quot;postgres&quot;;         String password =&quot;postgres&quot;;                  Class.forName(&quot;oracle.jdbc.driver.OracleDriver&quot;);                      Thread thread = new Thread(new Runnable() {              @Override             public void run() {                 try {                     Connection conn = null;                     conn = DriverManager.getConnection(jdbcUrl, username, password);"},{"owner":{"account_id":5964120,"reputation":4275,"user_id":4688321,"display_name":"kiner_shah"},"score":0,"creation_date":1642240063,"post_id":70720334,"comment_id":125021751,"body_markdown":"There is an edit button there, please click it and add the code, error messages, etc. in the question itself.","body":"There is an edit button there, please click it and add the code, error messages, etc. in the question itself."},{"owner":{"account_id":18662223,"reputation":1,"user_id":13603150,"display_name":"Piyush068"},"score":0,"creation_date":1642247066,"post_id":70720334,"comment_id":125023021,"body_markdown":"@kiner_shah added images first one error second and third code followed by gradle and manifest last jdbc driver","body":"@kiner_shah added images first one error second and third code followed by gradle and manifest last jdbc driver"},{"owner":{"account_id":5964120,"reputation":4275,"user_id":4688321,"display_name":"kiner_shah"},"score":0,"creation_date":1642248242,"post_id":70720334,"comment_id":125023247,"body_markdown":"Don&#39;t post code, error messages as images. Copy and paste them into the post.","body":"Don&#39;t post code, error messages as images. Copy and paste them into the post."},{"owner":{"account_id":18662223,"reputation":1,"user_id":13603150,"display_name":"Piyush068"},"score":0,"creation_date":1642249147,"post_id":70720334,"comment_id":125023412,"body_markdown":"when I am adding it into post, it is saying wrong alignment formatting etc and ts taking too much time to format so posted as images","body":"when I am adding it into post, it is saying wrong alignment formatting etc and ts taking too much time to format so posted as images"},{"owner":{"account_id":18662223,"reputation":1,"user_id":13603150,"display_name":"Piyush068"},"score":0,"creation_date":1642249192,"post_id":70720334,"comment_id":125023422,"body_markdown":"and images are totaly visible as it is captured using snipping tool","body":"and images are totaly visible as it is captured using snipping tool"},{"owner":{"account_id":39846,"reputation":991143,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1642251774,"post_id":70720334,"comment_id":125023955,"body_markdown":"Please [reconsider using JDBC in an Android app](https://stackoverflow.com/questions/15853367/jdbc-vs-web-service-for-android).","body":"Please <a href=\"https://stackoverflow.com/questions/15853367/jdbc-vs-web-service-for-android\">reconsider using JDBC in an Android app</a>."},{"owner":{"account_id":18662223,"reputation":1,"user_id":13603150,"display_name":"Piyush068"},"score":0,"creation_date":1642251865,"post_id":70720334,"comment_id":125023980,"body_markdown":"@CommonsWare but if Iwant to do quickly  because I dont know web service","body":"@CommonsWare but if Iwant to do quickly  because I dont know web service"},{"owner":{"account_id":5964120,"reputation":4275,"user_id":4688321,"display_name":"kiner_shah"},"score":0,"creation_date":1642312967,"post_id":70720334,"comment_id":125034987,"body_markdown":"@Piyush068, you can use online code formatting tools to format your code.","body":"@Piyush068, you can use online code formatting tools to format your code."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1643015494,"post_id":70720334,"comment_id":125218449,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"tags":[],"owner":{"account_id":18662223,"reputation":1,"user_id":13603150,"display_name":"Piyush068"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1643126829,"creation_date":1643126829,"answer_id":70851895,"question_id":70720334,"body_markdown":"I found that latest version of JAR was not compatible with Android. I worked fine when I used some older version of driver.","title":"Android Studio getting class not found exception on connecting database","body":"<p>I found that latest version of JAR was not compatible with Android. I worked fine when I used some older version of driver.</p>\n"}],"owner":{"account_id":18662223,"reputation":1,"user_id":13603150,"display_name":"Piyush068"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":70,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":70851895,"answer_count":1,"score":-1,"last_activity_date":1643126829,"creation_date":1642239786,"question_id":70720334,"body_markdown":"I am connecting to PostgreSQL using JDBC in Android Studio. I have downloaded latest versions of driver and added in libs folder. I added JAR as library and added to dependency. I have added all internet permission and gave port no 5432 and IPV4 address of my laptop while connecting to my mobile. But, I am getting errors  in classloader.java file as java Lang Management Factory not found, etc. I am debugging the same from 72 hours but I didn&#39;t got the resolution.\r\n\r\n[enter image description here][2]\r\n\r\n[enter image description here][3]\r\n[enter image description here][4]\r\n\r\n[enter image description here][5]\r\n\r\n\r\n[enter image description here][6]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/7dVcb.jpg\r\n  [2]: https://i.stack.imgur.com/JCkCm.jpg\r\n  [3]: https://i.stack.imgur.com/3QtiW.jpg\r\n  [4]: https://i.stack.imgur.com/Pd244.jpg\r\n  [5]: https://i.stack.imgur.com/EvHx1.jpg\r\n  [6]: https://i.stack.imgur.com/jC4fQ.jpg\r\n[enter image description here][1]","title":"Android Studio getting class not found exception on connecting database","body":"<p>I am connecting to PostgreSQL using JDBC in Android Studio. I have downloaded latest versions of driver and added in libs folder. I added JAR as library and added to dependency. I have added all internet permission and gave port no 5432 and IPV4 address of my laptop while connecting to my mobile. But, I am getting errors  in classloader.java file as java Lang Management Factory not found, etc. I am debugging the same from 72 hours but I didn't got the resolution.</p>\n<p><a href=\"https://i.stack.imgur.com/JCkCm.jpg\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p><a href=\"https://i.stack.imgur.com/3QtiW.jpg\" rel=\"nofollow noreferrer\">enter image description here</a>\n<a href=\"https://i.stack.imgur.com/Pd244.jpg\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p><a href=\"https://i.stack.imgur.com/EvHx1.jpg\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p><a href=\"https://i.stack.imgur.com/jC4fQ.jpg\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p><a href=\"https://i.stack.imgur.com/7dVcb.jpg\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"},{"tags":["java","oop"],"comments":[{"owner":{"account_id":28100,"reputation":8984,"user_id":74694,"accept_rate":86,"display_name":"Neeme Praks"},"score":0,"creation_date":1290364088,"post_id":4239448,"comment_id":4590646,"body_markdown":"Sounds like homework. Before we do your homework for you, can you first write a short summary why you came up with such a design? Currently it seems that you just threw something together that happens to compile. :-P","body":"Sounds like homework. Before we do your homework for you, can you first write a short summary why you came up with such a design? Currently it seems that you just threw something together that happens to compile. :-P"},{"owner":{"account_id":671974,"reputation":1,"user_id":515188,"display_name":"simpleguy"},"score":0,"creation_date":1290364534,"post_id":4239448,"comment_id":4590694,"body_markdown":"Mouse and Keyboard are common to all computers,so each brand is free to define it&#39;s implementation.A brand can also override the processor it wants and can define it&#39;s own implementation.","body":"Mouse and Keyboard are common to all computers,so each brand is free to define it&#39;s implementation.A brand can also override the processor it wants and can define it&#39;s own implementation."}],"answers":[{"tags":[],"owner":{"account_id":241831,"reputation":10215,"user_id":512907,"accept_rate":88,"display_name":"bluehallu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1290364075,"creation_date":1290364075,"answer_id":4239479,"question_id":4239448,"body_markdown":"You&#39;re implementing mouse and keyboard, and celeron and athlon as methods. They should be separated Classes. Computer should be a class too and not an interface.\r\n\r\nAnd I don&#39;t see why would you want &quot;HP&quot; to extend processor and to implement Computer.","title":"Hierarchy structure for these entities","body":"<p>You're implementing mouse and keyboard, and celeron and athlon as methods. They should be separated Classes. Computer should be a class too and not an interface.</p>\n\n<p>And I don't see why would you want \"HP\" to extend processor and to implement Computer.</p>\n"},{"tags":[],"owner":{"account_id":221999,"reputation":4300,"user_id":480304,"accept_rate":83,"display_name":"Flinsch"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1290364222,"creation_date":1290364222,"answer_id":4239499,"question_id":4239448,"body_markdown":"I would rather say, a `Computer` *has a* `Processor`.  \r\n`HP` *is a* `Computer`; `Dell` *is a* `Computer`.  \r\n`Celeron` *is a* `Processor`; `Athlon` *is a* `Processor`.  \r\nAnd a `Computer` *has a* `Mouse` as well as a `Keyboard`.  \r\n*has a*: Association.  \r\n*is a*: Inheritance.  ","title":"Hierarchy structure for these entities","body":"<p>I would rather say, a <code>Computer</code> <em>has a</em> <code>Processor</code>.<br>\n<code>HP</code> <em>is a</em> <code>Computer</code>; <code>Dell</code> <em>is a</em> <code>Computer</code>.<br>\n<code>Celeron</code> <em>is a</em> <code>Processor</code>; <code>Athlon</code> <em>is a</em> <code>Processor</code>.<br>\nAnd a <code>Computer</code> <em>has a</em> <code>Mouse</code> as well as a <code>Keyboard</code>.<br>\n<em>has a</em>: Association.<br>\n<em>is a</em>: Inheritance.  </p>\n"},{"tags":[],"owner":{"account_id":76326,"reputation":118183,"user_id":218589,"accept_rate":90,"display_name":"Klaus Byskov Pedersen"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1290364286,"creation_date":1290364286,"answer_id":4239504,"question_id":4239448,"body_markdown":"I think something like the following would probably do:\r\n\r\n    public interface IInputDevice {}\r\n    public interface IProcessor {}\r\n\r\n    public abstract class Computer \r\n    {\r\n        IInputDevice[] inputDevices;\r\n        IProcessor processor;\r\n    }\r\n\r\n    public class Mouse implements IInputDevice {}\r\n    public class KeyBoard implements IInputDevice {}\r\n    \r\n    public class AthlonProcessor implements IProcessor {}\r\n    public class CeleronProcessor implements IProcessor {}\r\n\r\n    public abstract class HP extends Computer\r\n    {\r\n\r\n    }\r\n\r\n    public abstract class Dell extends Computer\r\n    {\r\n\r\n    }","title":"Hierarchy structure for these entities","body":"<p>I think something like the following would probably do:</p>\n\n<pre><code>public interface IInputDevice {}\npublic interface IProcessor {}\n\npublic abstract class Computer \n{\n    IInputDevice[] inputDevices;\n    IProcessor processor;\n}\n\npublic class Mouse implements IInputDevice {}\npublic class KeyBoard implements IInputDevice {}\n\npublic class AthlonProcessor implements IProcessor {}\npublic class CeleronProcessor implements IProcessor {}\n\npublic abstract class HP extends Computer\n{\n\n}\n\npublic abstract class Dell extends Computer\n{\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15188,"reputation":15038,"user_id":31818,"display_name":"seh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1290365197,"creation_date":1290365197,"answer_id":4239580,"question_id":4239448,"body_markdown":"Irrespective of programming language, stop and consider how to build an *information model* to represent the things in question. You have a few kinds of relationships at your disposal:\r\n\r\n* *is-a*\r\n\r\n    Some thing or concept is a refinement of or interchangeable with some other concept, such as a &quot;Celeron processor&quot; being a processor. Inheritance can model this relationship, but not all inheritance is meant to model this relationship.\r\n* *has-a*\r\n\r\n Some kind of thing contains or is associated with some other thing, such as a computer having a keyboard connected to it. Member varibles or fields in structures can model this relationship, both as by-value *containment* (including controlling the life-cycle of the contained thing) or by-reference *aggregation* (usually not controlling the life-cycle of the associated thing).\r\n\r\n* *uses*\r\n\r\n More general than *has-a*, one thing requires a reference to some other thing to get its job done. This can be represented as a required parameter to a member function or method.\r\n\r\nFor your problem, we can see that a Celeron *is a* processor, that a computer *has a* processor (one or more), that HP *is a* company that *sells* computers, or, alternately, that a computer *has a* responsible vendor (one or more) and HP *is a* vendor. HP could sell mice too, and a computer can have zero or more mice connected.\r\n\r\nI&#39;m reluctant to tell you how to use Java to build such a model. There are many solutions, and exploring more than one solution also offers insight into why [the *relational model*][1] is more expressive for information modeling than Java&#39;s class and interface facility.\r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Relational_model","title":"Hierarchy structure for these entities","body":"<p>Irrespective of programming language, stop and consider how to build an <em>information model</em> to represent the things in question. You have a few kinds of relationships at your disposal:</p>\n\n<ul>\n<li><p><em>is-a</em></p>\n\n<p>Some thing or concept is a refinement of or interchangeable with some other concept, such as a \"Celeron processor\" being a processor. Inheritance can model this relationship, but not all inheritance is meant to model this relationship.</p></li>\n<li><p><em>has-a</em></p>\n\n<p>Some kind of thing contains or is associated with some other thing, such as a computer having a keyboard connected to it. Member varibles or fields in structures can model this relationship, both as by-value <em>containment</em> (including controlling the life-cycle of the contained thing) or by-reference <em>aggregation</em> (usually not controlling the life-cycle of the associated thing).</p></li>\n<li><p><em>uses</em></p>\n\n<p>More general than <em>has-a</em>, one thing requires a reference to some other thing to get its job done. This can be represented as a required parameter to a member function or method.</p></li>\n</ul>\n\n<p>For your problem, we can see that a Celeron <em>is a</em> processor, that a computer <em>has a</em> processor (one or more), that HP <em>is a</em> company that <em>sells</em> computers, or, alternately, that a computer <em>has a</em> responsible vendor (one or more) and HP <em>is a</em> vendor. HP could sell mice too, and a computer can have zero or more mice connected.</p>\n\n<p>I'm reluctant to tell you how to use Java to build such a model. There are many solutions, and exploring more than one solution also offers insight into why <a href=\"http://en.wikipedia.org/wiki/Relational_model\" rel=\"nofollow\">the <em>relational model</em></a> is more expressive for information modeling than Java's class and interface facility.</p>\n"},{"tags":[],"owner":{"account_id":24050727,"reputation":21,"user_id":18029254,"display_name":"Raoul Gerz"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1643126376,"creation_date":1643126376,"answer_id":70851805,"question_id":4239448,"body_markdown":"I would rather say, a Computer has a Processor.\r\nHP is a Computer; Dell is a Computer.\r\nCeleron is a Processor; Athlon is a Processor.\r\nAnd a Computer has a Mouse as well as a Keyboard.\r\nhas a: Association.\r\nis a: Inheritance.","title":"Hierarchy structure for these entities","body":"<p>I would rather say, a Computer has a Processor.\nHP is a Computer; Dell is a Computer.\nCeleron is a Processor; Athlon is a Processor.\nAnd a Computer has a Mouse as well as a Keyboard.\nhas a: Association.\nis a: Inheritance.</p>\n"}],"owner":{"account_id":671974,"reputation":1,"user_id":515188,"display_name":"simpleguy"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":168,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":5,"score":0,"last_activity_date":1643126376,"creation_date":1290363673,"question_id":4239448,"body_markdown":"I need to define an object oriented class hierarchy structure for the following entities: Computer,Processor,Celeron Processor,Athlon Processor,HP,Dell,Mouse,Keyboard.\r\n\r\nI came up with something as follows:\r\n\r\n    public interface Computer\r\n    {\r\n        public void mouse();\r\n        public void keyboard();\r\n    }\r\n    public class Processor\r\n    {\r\n       public void Celeron(){ }\r\n       public void Athlon(){ }\r\n    }\r\n    public class HP extends Processor,implements Computer\r\n    {\r\n    }\r\n\r\n\r\nCan someone point out what is wrong with this design?Also,if anyone can suggest a better design it would be great.\r\n\r\nThanks.","title":"Hierarchy structure for these entities","body":"<p>I need to define an object oriented class hierarchy structure for the following entities: Computer,Processor,Celeron Processor,Athlon Processor,HP,Dell,Mouse,Keyboard.</p>\n\n<p>I came up with something as follows:</p>\n\n<pre><code>public interface Computer\n{\n    public void mouse();\n    public void keyboard();\n}\npublic class Processor\n{\n   public void Celeron(){ }\n   public void Athlon(){ }\n}\npublic class HP extends Processor,implements Computer\n{\n}\n</code></pre>\n\n<p>Can someone point out what is wrong with this design?Also,if anyone can suggest a better design it would be great.</p>\n\n<p>Thanks.</p>\n"},{"tags":["java","bit"],"comments":[{"owner":{"account_id":21415032,"reputation":181,"user_id":16720064,"display_name":"0xff"},"score":1,"creation_date":1643124953,"post_id":70851374,"comment_id":125253552,"body_markdown":"It only gets the last bitwise 0, not decimal","body":"It only gets the last bitwise 0, not decimal"},{"owner":{"account_id":15519832,"reputation":1026,"user_id":11478354,"display_name":"dcolazin"},"score":3,"creation_date":1643125015,"post_id":70851374,"comment_id":125253575,"body_markdown":"last bit of 2 is 0, to check if last decimal digit is 0 you have to use the proper modulo arithmetics","body":"last bit of 2 is 0, to check if last decimal digit is 0 you have to use the proper modulo arithmetics"}],"answers":[{"tags":[],"owner":{"account_id":24050916,"reputation":51,"user_id":18029419,"display_name":"Jessica Yauney"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1643125210,"creation_date":1643125210,"answer_id":70851525,"question_id":70851374,"body_markdown":"(1800|0) evaluates to 1800 so it ends up returning false. I assume you are trying to check if the least significant digit (ones digit) is zero. You can use (num%10==0) instead","title":"2119. A Number After a Double Reversal (Leetcode)","body":"<p>(1800|0) evaluates to 1800 so it ends up returning false. I assume you are trying to check if the least significant digit (ones digit) is zero. You can use (num%10==0) instead</p>\n"},{"tags":[],"owner":{"account_id":9463219,"reputation":9357,"user_id":7036419,"display_name":"Maurice Perry"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643126291,"creation_date":1643126291,"answer_id":70851785,"question_id":70851374,"body_markdown":"The problem with your code is that `(num|0)` is always equals to `num`. And, and this point, it cannot be equal to `0` because of the previous test.\r\n\r\nHow about this?\r\n\r\n    class Solution {\r\n        public boolean isSameAfterReversals(int num) {\r\n            return num == 0 || num%10 != 0;\r\n        }\r\n    }\r\n\r\n","title":"2119. A Number After a Double Reversal (Leetcode)","body":"<p>The problem with your code is that <code>(num|0)</code> is always equals to <code>num</code>. And, and this point, it cannot be equal to <code>0</code> because of the previous test.</p>\n<p>How about this?</p>\n<pre><code>class Solution {\n    public boolean isSameAfterReversals(int num) {\n        return num == 0 || num%10 != 0;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":24050842,"reputation":1,"user_id":18029355,"display_name":"Naina Mathur"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":64,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"answer_count":2,"score":-3,"last_activity_date":1643126291,"creation_date":1643124673,"question_id":70851374,"body_markdown":"I have trying out this problem on leetcode &lt;https://leetcode.com/problems/a-number-after-a-double-reversal/&gt;\r\n\r\nReversing an integer means to reverse all its digits.\r\n\r\nFor example, reversing 2021 gives 1202. Reversing 12300 gives 321 as the leading zeros are not retained.\r\nGiven an integer num, reverse num to get reversed1, then reverse reversed1 to get reversed2. Return true if reversed2 equals num. Otherwise return false.\r\n\r\n    Example 1: \r\n    \r\n    Input: num = 526  \r\n    Output: true  \r\n    Explanation: Reverse num to get 625, then reverse 625 to get 526, which equals num.\r\n\r\n    Example 2:  \r\n    \r\n    Input: num = 1800  \r\n    Output: false  \r\n    Explanation: Reverse num to get 81, then reverse 81 to get 18, which does not equal num.\r\n\r\nMy logic for the above question was that if we check the last bit and if it&#39;s 0 then automatically its a false. Because reversing it would never give the same answer as 0 are not retained.\r\n\r\nThe Code:\r\n\r\n    class Solution {\r\n        public boolean isSameAfterReversals(int num) {\r\n            if(num==0) return true;\r\n            if((num|0)==0){\r\n                    return false;\r\n                }\r\n                return true;\r\n        }\r\n    }\r\n\r\nMy 92 test cases are passing. But some are failing\r\nfor example:\r\n\r\n    Input-1800  \r\n    Output-true  \r\n    Expected-false  \r\nCan someone tell me what is wrong in my logic??\r\n    \r\n        ","title":"2119. A Number After a Double Reversal (Leetcode)","body":"<p>I have trying out this problem on leetcode <a href=\"https://leetcode.com/problems/a-number-after-a-double-reversal/\" rel=\"nofollow noreferrer\">https://leetcode.com/problems/a-number-after-a-double-reversal/</a></p>\n<p>Reversing an integer means to reverse all its digits.</p>\n<p>For example, reversing 2021 gives 1202. Reversing 12300 gives 321 as the leading zeros are not retained.\nGiven an integer num, reverse num to get reversed1, then reverse reversed1 to get reversed2. Return true if reversed2 equals num. Otherwise return false.</p>\n<pre><code>Example 1: \n\nInput: num = 526  \nOutput: true  \nExplanation: Reverse num to get 625, then reverse 625 to get 526, which equals num.\n\nExample 2:  \n\nInput: num = 1800  \nOutput: false  \nExplanation: Reverse num to get 81, then reverse 81 to get 18, which does not equal num.\n</code></pre>\n<p>My logic for the above question was that if we check the last bit and if it's 0 then automatically its a false. Because reversing it would never give the same answer as 0 are not retained.</p>\n<p>The Code:</p>\n<pre><code>class Solution {\n    public boolean isSameAfterReversals(int num) {\n        if(num==0) return true;\n        if((num|0)==0){\n                return false;\n            }\n            return true;\n    }\n}\n</code></pre>\n<p>My 92 test cases are passing. But some are failing\nfor example:</p>\n<pre><code>Input-1800  \nOutput-true  \nExpected-false  \n</code></pre>\n<p>Can someone tell me what is wrong in my logic??</p>\n"},{"tags":["java","spring-boot","spring-security"],"answers":[{"tags":[],"owner":{"account_id":1310803,"reputation":2557,"user_id":1258838,"accept_rate":68,"display_name":"Juliyanage Silva"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643123743,"creation_date":1643123743,"answer_id":70851146,"question_id":70850931,"body_markdown":"You got to throw an exception while validating(following is what I use, just grab the concept, your classes and libraries might be different):\r\n\r\n    Jwts.parser().setSigningKey(your_jwt_secret).parseClaimsJws(token);\r\n\r\nso if your token cannot get parsed throw this and send an error response:\r\n\r\n      httpServletResponse.setContentType(&quot;application/json&quot;);\r\n      httpServletResponse.getWriter().write(&quot;your_custom_error&quot;);\r\n      httpServletResponse.getWriter().flush();","title":"Spring Boot + jjwt security return nothing on bad request","body":"<p>You got to throw an exception while validating(following is what I use, just grab the concept, your classes and libraries might be different):</p>\n<pre><code>Jwts.parser().setSigningKey(your_jwt_secret).parseClaimsJws(token);\n</code></pre>\n<p>so if your token cannot get parsed throw this and send an error response:</p>\n<pre><code>  httpServletResponse.setContentType(&quot;application/json&quot;);\n  httpServletResponse.getWriter().write(&quot;your_custom_error&quot;);\n  httpServletResponse.getWriter().flush();\n</code></pre>\n"}],"owner":{"account_id":23408321,"reputation":35,"user_id":17470383,"display_name":"Daxforcel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":369,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1643126099,"creation_date":1643122946,"question_id":70850931,"body_markdown":"my problem is that I get nothing in response after sending requests with wrong login credentials or when accessing the endpoint without authentication. \r\nThis is how it looks when I send a good request:\r\n[Good Response screen][1]\r\n\r\n\r\nAnd this is how it looks when the request body is invalid: \r\n[Invalid credentials request][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/sjil3.png\r\n  [2]: https://i.stack.imgur.com/yR7ps.png\r\nMyUserDetails class:\r\n```@Service\r\npublic class MyUserDetailService implements UserDetailsService {\r\n    @Override\r\n    public UserDetails loadUserByUsername(String username) throws UsernameNotFoundException {\r\n        return new User(&quot;foo&quot;, &quot;foo&quot;, List.of());\r\n    }\r\n}\r\n```\r\nSecurity configure class:\r\n```\r\npublic class SecurityConfigurer extends WebSecurityConfigurerAdapter {\r\n    @Autowired\r\n    private MyUserDetailService myUserDetailService;\r\n    @Autowired\r\n    private JwtFilter jwtFilter;\r\n\r\n    @Override\r\n    public void configure(AuthenticationManagerBuilder auth) throws Exception {\r\n        auth.userDetailsService(myUserDetailService);\r\n    }\r\n\r\n    @Bean\r\n    public PasswordEncoder passwordEncoder() {\r\n        return NoOpPasswordEncoder.getInstance();\r\n    }\r\n\r\n    @Override\r\n    @Bean\r\n    public AuthenticationManager authenticationManagerBean() throws Exception {\r\n        return super.authenticationManagerBean();\r\n    }\r\n\r\n    @Override\r\n    protected void configure(HttpSecurity http) throws Exception {\r\n        http.authorizeRequests()\r\n                .antMatchers(&quot;/auth&quot;).permitAll()\r\n                .anyRequest().authenticated()\r\n                .and().sessionManagement()\r\n                .sessionCreationPolicy(SessionCreationPolicy.STATELESS)\r\n                .and().csrf().disable();\r\n        http.addFilterBefore(jwtFilter, UsernamePasswordAuthenticationFilter.class);\r\n    }\r\n}\r\n```\r\nJwt Filter class:\r\n```\r\n@Component\r\npublic class JwtFilter extends OncePerRequestFilter {\r\n\r\n    @Autowired\r\n    private JwtUtil jwtUtil;\r\n    @Autowired\r\n    private MyUserDetailService myUserDetailService;\r\n\r\n    @Override\r\n    protected void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain filterChain) throws ServletException, IOException {\r\n        final String authHeader = request.getHeader(&quot;Authorization&quot;);\r\n        String username = null;\r\n        String requestToken = null;\r\n\r\n        if(authHeader != null &amp;&amp; authHeader.startsWith(&quot;Bearer &quot;)) {\r\n            requestToken = authHeader.substring(7);\r\n            username = jwtUtil.getUsernameFromToken(requestToken);\r\n        }\r\n        if (username != null &amp;&amp; SecurityContextHolder.getContext().getAuthentication() == null) {\r\n            UserDetails userDetails = myUserDetailService.loadUserByUsername(username);\r\n            if(jwtUtil.validateToken(requestToken, userDetails)) {\r\n                UsernamePasswordAuthenticationToken usernamePasswordAuthenticationToken =\r\n                        new UsernamePasswordAuthenticationToken(userDetails, null, userDetails.getAuthorities());\r\n                usernamePasswordAuthenticationToken.setDetails(new WebAuthenticationDetailsSource().buildDetails(request));\r\n                SecurityContextHolder.getContext().setAuthentication(usernamePasswordAuthenticationToken);\r\n            }\r\n        }\r\n        filterChain.doFilter(request, response);\r\n    }\r\n```\r\nAnd finally my controller:\r\n```\r\n@PostMapping(&quot;/auth&quot;)\r\n    public AuthResponse auth(@RequestBody AuthRequest authRequest) throws Exception {\r\n        try {\r\n            authenticationManager.authenticate(\r\n                    new UsernamePasswordAuthenticationToken(authRequest.getUsername(), authRequest.getPassword())\r\n            );\r\n        } catch (BadCredentialsException e) {\r\n            throw new Exception(&quot;Invalid Credentials&quot;, e);\r\n        }\r\n        final UserDetails userDetails = myUserDetailService.loadUserByUsername(authRequest.getUsername());\r\n        final String token = jwtUtil.generateToken(userDetails);\r\n        return new AuthResponse(token);\r\n    }\r\n```\r\nEDIT:\r\nI forgot to paste dependancies.\r\n```\r\ndependencies {\r\n\timplementation &#39;org.springframework.boot:spring-boot-starter-web&#39;\r\n\timplementation &#39;org.springframework.boot:spring-boot-starter-security&#39;\r\n\timplementation &#39;io.jsonwebtoken:jjwt:0.9.1&#39;\r\n\timplementation &#39;javax.xml.bind:jaxb-api:2.2.4&#39;\r\n\ttestImplementation &#39;org.springframework.boot:spring-boot-starter-test&#39;\r\n}\r\n```\r\n\r\nI also have AuthRequest and AuthResponse class which holds username, password, jwt token and all the constructors, getters and setters ( not worth to past it here imo)","title":"Spring Boot + jjwt security return nothing on bad request","body":"<p>my problem is that I get nothing in response after sending requests with wrong login credentials or when accessing the endpoint without authentication.\nThis is how it looks when I send a good request:\n<a href=\"https://i.stack.imgur.com/sjil3.png\" rel=\"nofollow noreferrer\">Good Response screen</a></p>\n<p>And this is how it looks when the request body is invalid:\n<a href=\"https://i.stack.imgur.com/yR7ps.png\" rel=\"nofollow noreferrer\">Invalid credentials request</a></p>\n<p>MyUserDetails class:</p>\n<pre><code>public class MyUserDetailService implements UserDetailsService {\n    @Override\n    public UserDetails loadUserByUsername(String username) throws UsernameNotFoundException {\n        return new User(&quot;foo&quot;, &quot;foo&quot;, List.of());\n    }\n}\n</code></pre>\n<p>Security configure class:</p>\n<pre><code>public class SecurityConfigurer extends WebSecurityConfigurerAdapter {\n    @Autowired\n    private MyUserDetailService myUserDetailService;\n    @Autowired\n    private JwtFilter jwtFilter;\n\n    @Override\n    public void configure(AuthenticationManagerBuilder auth) throws Exception {\n        auth.userDetailsService(myUserDetailService);\n    }\n\n    @Bean\n    public PasswordEncoder passwordEncoder() {\n        return NoOpPasswordEncoder.getInstance();\n    }\n\n    @Override\n    @Bean\n    public AuthenticationManager authenticationManagerBean() throws Exception {\n        return super.authenticationManagerBean();\n    }\n\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        http.authorizeRequests()\n                .antMatchers(&quot;/auth&quot;).permitAll()\n                .anyRequest().authenticated()\n                .and().sessionManagement()\n                .sessionCreationPolicy(SessionCreationPolicy.STATELESS)\n                .and().csrf().disable();\n        http.addFilterBefore(jwtFilter, UsernamePasswordAuthenticationFilter.class);\n    }\n}\n</code></pre>\n<p>Jwt Filter class:</p>\n<pre><code>@Component\npublic class JwtFilter extends OncePerRequestFilter {\n\n    @Autowired\n    private JwtUtil jwtUtil;\n    @Autowired\n    private MyUserDetailService myUserDetailService;\n\n    @Override\n    protected void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain filterChain) throws ServletException, IOException {\n        final String authHeader = request.getHeader(&quot;Authorization&quot;);\n        String username = null;\n        String requestToken = null;\n\n        if(authHeader != null &amp;&amp; authHeader.startsWith(&quot;Bearer &quot;)) {\n            requestToken = authHeader.substring(7);\n            username = jwtUtil.getUsernameFromToken(requestToken);\n        }\n        if (username != null &amp;&amp; SecurityContextHolder.getContext().getAuthentication() == null) {\n            UserDetails userDetails = myUserDetailService.loadUserByUsername(username);\n            if(jwtUtil.validateToken(requestToken, userDetails)) {\n                UsernamePasswordAuthenticationToken usernamePasswordAuthenticationToken =\n                        new UsernamePasswordAuthenticationToken(userDetails, null, userDetails.getAuthorities());\n                usernamePasswordAuthenticationToken.setDetails(new WebAuthenticationDetailsSource().buildDetails(request));\n                SecurityContextHolder.getContext().setAuthentication(usernamePasswordAuthenticationToken);\n            }\n        }\n        filterChain.doFilter(request, response);\n    }\n</code></pre>\n<p>And finally my controller:</p>\n<pre><code>@PostMapping(&quot;/auth&quot;)\n    public AuthResponse auth(@RequestBody AuthRequest authRequest) throws Exception {\n        try {\n            authenticationManager.authenticate(\n                    new UsernamePasswordAuthenticationToken(authRequest.getUsername(), authRequest.getPassword())\n            );\n        } catch (BadCredentialsException e) {\n            throw new Exception(&quot;Invalid Credentials&quot;, e);\n        }\n        final UserDetails userDetails = myUserDetailService.loadUserByUsername(authRequest.getUsername());\n        final String token = jwtUtil.generateToken(userDetails);\n        return new AuthResponse(token);\n    }\n</code></pre>\n<p>EDIT:\nI forgot to paste dependancies.</p>\n<pre><code>dependencies {\n    implementation 'org.springframework.boot:spring-boot-starter-web'\n    implementation 'org.springframework.boot:spring-boot-starter-security'\n    implementation 'io.jsonwebtoken:jjwt:0.9.1'\n    implementation 'javax.xml.bind:jaxb-api:2.2.4'\n    testImplementation 'org.springframework.boot:spring-boot-starter-test'\n}\n</code></pre>\n<p>I also have AuthRequest and AuthResponse class which holds username, password, jwt token and all the constructors, getters and setters ( not worth to past it here imo)</p>\n"},{"tags":["java","regex","java-9"],"answers":[{"tags":[],"owner":{"account_id":6357629,"reputation":1740,"user_id":4934324,"accept_rate":50,"display_name":"roookeee"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1643125407,"creation_date":1560043259,"answer_id":56511288,"question_id":56511263,"body_markdown":"There is an elegant solution that works for both `Stream&lt;String&gt;` and `Optional&lt;String&gt;`:\r\n\r\n\tPattern pattern = Pattern.compile(&quot;...&quot;);\r\n\r\n\tList&lt;String&gt; input = new ArrayList&lt;&gt;();\r\n\r\n\tList&lt;String&gt; matches = input.stream()\r\n\t\t\t.map(pattern::matcher)\r\n\t\t\t.filter(Matcher::find)\r\n\t\t\t.map(m -&gt; m.group(x))\r\n\t\t\t.collect(Collectors.toList());\r\n\r\nThough I would like to point out that doing a modifying/mutating operation in a `filter`-call is unusual. Please be careful when you do mutating operations in `filter`calls and avoid them as much as possible. For this case it&#39;s fine though (from my subjective viewpoint) as you modify an object you just created in your stream that isn&#39;t used outside of the stream operations.\r\n\r\nUse `Optional.ofNullable/of` when you only have one input, everything else looks the same.","title":"Functional style java.util.regex match/group extraction","body":"<p>There is an elegant solution that works for both <code>Stream&lt;String&gt;</code> and <code>Optional&lt;String&gt;</code>:</p>\n<pre><code>Pattern pattern = Pattern.compile(&quot;...&quot;);\n\nList&lt;String&gt; input = new ArrayList&lt;&gt;();\n\nList&lt;String&gt; matches = input.stream()\n        .map(pattern::matcher)\n        .filter(Matcher::find)\n        .map(m -&gt; m.group(x))\n        .collect(Collectors.toList());\n</code></pre>\n<p>Though I would like to point out that doing a modifying/mutating operation in a <code>filter</code>-call is unusual. Please be careful when you do mutating operations in <code>filter</code>calls and avoid them as much as possible. For this case it's fine though (from my subjective viewpoint) as you modify an object you just created in your stream that isn't used outside of the stream operations.</p>\n<p>Use <code>Optional.ofNullable/of</code> when you only have one input, everything else looks the same.</p>\n"},{"tags":[],"owner":{"account_id":6528825,"reputation":21455,"user_id":5050667,"accept_rate":91,"display_name":"Yassin Hajaj"},"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1560632771,"creation_date":1560044026,"answer_id":56511348,"question_id":56511263,"body_markdown":"**The following is only available from [tag:java-9]**\r\n\r\nYou&#39;re probably looking for `Matcher::results` which produces a `Stream&lt;MatchResult&gt;`\r\n\r\nYou can use it in the following way for example\r\n\r\n    p.matcher(input)\r\n     .results()\r\n     .map(MatchResult::group)\r\n     .findAny()\r\n     .orElse(null);\r\n\r\nAn addition added by **Holger** and which is intersting would be, while reading a `File` and looking for a pattern to directly use `Scanner::findAll` to avoid loading the whole file in memory using `File::lines`","title":"Functional style java.util.regex match/group extraction","body":"<p><strong>The following is only available from <a href=\"/questions/tagged/java-9\" class=\"post-tag\" title=\"show questions tagged &#39;java-9&#39;\" rel=\"tag\">java-9</a></strong></p>\n\n<p>You're probably looking for <code>Matcher::results</code> which produces a <code>Stream&lt;MatchResult&gt;</code></p>\n\n<p>You can use it in the following way for example</p>\n\n<pre><code>p.matcher(input)\n .results()\n .map(MatchResult::group)\n .findAny()\n .orElse(null);\n</code></pre>\n\n<p>An addition added by <strong>Holger</strong> and which is intersting would be, while reading a <code>File</code> and looking for a pattern to directly use <code>Scanner::findAll</code> to avoid loading the whole file in memory using <code>File::lines</code></p>\n"}],"owner":{"account_id":2078462,"reputation":10342,"user_id":2986984,"accept_rate":80,"display_name":"tkruse"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":890,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":56511348,"answer_count":2,"score":8,"last_activity_date":1643125407,"creation_date":1560042705,"question_id":56511263,"body_markdown":"Using java.util.regex to extract substrings I find myself implementing the same code pattern working around calls to :\r\n\r\n    Pattern p = Pattern.compile(pattern); // can be static final\r\n    Matcher m = p.matcher(input);\r\n    if (m.find()) { // or m.matches()\r\n        foo(m.group(x));\r\n    } else {\r\n        ...\r\n    }\r\n\r\nIs there a functional extension or popular library (guava / apache commons) that avoids the ugly unnecessary and error-prone local variable, like:\r\n\r\n    Pattern p = Pattern.compile(pattern); // can be static final\r\n    p.matchedGroup(input, x) // return Optional&lt;String&gt;\r\n        .map(group -&gt; foo(group))\r\n        .orElse(...);\r\n\r\nand also a stream of match results like:\r\n\r\n    Pattern p = Pattern.compile(pattern);\r\n    p.findMatches(input)\r\n        .map((MatchResult mr) -&gt; {\r\n            mr.groupsIfPresent(x).map(g -&gt; foo(g)).orElse(...)\r\n        })\r\n        .findFirst();\r\n    \r\nIt seems the only functional addition in Java8 was `.splitAsStream()` but that only helps when trying to split around matches.","title":"Functional style java.util.regex match/group extraction","body":"<p>Using java.util.regex to extract substrings I find myself implementing the same code pattern working around calls to :</p>\n\n<pre><code>Pattern p = Pattern.compile(pattern); // can be static final\nMatcher m = p.matcher(input);\nif (m.find()) { // or m.matches()\n    foo(m.group(x));\n} else {\n    ...\n}\n</code></pre>\n\n<p>Is there a functional extension or popular library (guava / apache commons) that avoids the ugly unnecessary and error-prone local variable, like:</p>\n\n<pre><code>Pattern p = Pattern.compile(pattern); // can be static final\np.matchedGroup(input, x) // return Optional&lt;String&gt;\n    .map(group -&gt; foo(group))\n    .orElse(...);\n</code></pre>\n\n<p>and also a stream of match results like:</p>\n\n<pre><code>Pattern p = Pattern.compile(pattern);\np.findMatches(input)\n    .map((MatchResult mr) -&gt; {\n        mr.groupsIfPresent(x).map(g -&gt; foo(g)).orElse(...)\n    })\n    .findFirst();\n</code></pre>\n\n<p>It seems the only functional addition in Java8 was <code>.splitAsStream()</code> but that only helps when trying to split around matches.</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":10947500,"reputation":39,"user_id":8045033,"display_name":"xxvii-jauregui"},"score":0,"creation_date":1575708329,"post_id":59224087,"comment_id":104663265,"body_markdown":"the path as in path in retrieving the bitmap?","body":"the path as in path in retrieving the bitmap?"},{"owner":{"account_id":14125526,"reputation":209,"user_id":10204945,"display_name":"Vipul Chauhan"},"score":0,"creation_date":1575708406,"post_id":59224087,"comment_id":104663283,"body_markdown":"the path of your complete media file","body":"the path of your complete media file"},{"owner":{"account_id":14125526,"reputation":209,"user_id":10204945,"display_name":"Vipul Chauhan"},"score":0,"creation_date":1575708474,"post_id":59224087,"comment_id":104663297,"body_markdown":"oops sry just give me 5 minutes i will give you answer","body":"oops sry just give me 5 minutes i will give you answer"}],"answers":[{"tags":[],"owner":{"account_id":14125526,"reputation":209,"user_id":10204945,"display_name":"Vipul Chauhan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1575708661,"creation_date":1575708661,"answer_id":59224413,"question_id":59224087,"body_markdown":"    MediaMetaDataRetriever mmr = new MediaMetaDataRetriever();\r\n    mmr.setDataSource(&quot;path of your file&quot;);  //===========Other Options also available\r\n    byte[] data = mmr.getEmbededPicture();\r\n    if(data!=null){\r\n        //========Create Bitmap with byte array======//\r\n    }else{\r\n        //========Do your code if media has no image====//\r\n    }","title":"MediaStorage.Images.Thumbnails is deprecated in API29. How to use the loadThumbnail()?","body":"<pre><code>MediaMetaDataRetriever mmr = new MediaMetaDataRetriever();\nmmr.setDataSource(\"path of your file\");  //===========Other Options also available\nbyte[] data = mmr.getEmbededPicture();\nif(data!=null){\n    //========Create Bitmap with byte array======//\n}else{\n    //========Do your code if media has no image====//\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":194900,"reputation":5451,"user_id":437492,"display_name":"Vasiliy Kulakov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1643125180,"creation_date":1643125180,"answer_id":70851513,"question_id":59224087,"body_markdown":"You can use it by checking the SDK version first.\r\nIf you queried for media, the `mediaUri` will be constructed by appending the media ID to the content URI, e.g. `mediaUri = ContentUris.withAppendedId(imagesContentUri, id)`\r\n\r\n    val thumbnail = if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.Q) {\r\n        val cs = CancellationSignal()\r\n        context.contentResolver.loadThumbnail(mediaUri, Size(100, 100), cs)\r\n    } else {\r\n        MediaStore.Images.Thumbnails.getThumbnail(context.contentResolver, id, MediaStore.Images.Thumbnails.MINI_KIND, null)\r\n    }","title":"MediaStorage.Images.Thumbnails is deprecated in API29. How to use the loadThumbnail()?","body":"<p>You can use it by checking the SDK version first.\nIf you queried for media, the <code>mediaUri</code> will be constructed by appending the media ID to the content URI, e.g. <code>mediaUri = ContentUris.withAppendedId(imagesContentUri, id)</code></p>\n<pre><code>val thumbnail = if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.Q) {\n    val cs = CancellationSignal()\n    context.contentResolver.loadThumbnail(mediaUri, Size(100, 100), cs)\n} else {\n    MediaStore.Images.Thumbnails.getThumbnail(context.contentResolver, id, MediaStore.Images.Thumbnails.MINI_KIND, null)\n}\n</code></pre>\n"}],"owner":{"account_id":10947500,"reputation":39,"user_id":8045033,"display_name":"xxvii-jauregui"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2101,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1643125180,"creation_date":1575705532,"question_id":59224087,"body_markdown":"    Bitmap miniThumb = MediaStore.Images.Thumbnails.getThumbnail(cr,id,MediaStore.Images.Thumbnails.MINI_KIND);\r\n","title":"MediaStorage.Images.Thumbnails is deprecated in API29. How to use the loadThumbnail()?","body":"<pre><code>Bitmap miniThumb = MediaStore.Images.Thumbnails.getThumbnail(cr,id,MediaStore.Images.Thumbnails.MINI_KIND);\n</code></pre>\n"},{"tags":["java","eclipse","maven","import","parent-pom"],"comments":[{"owner":{"account_id":5979633,"reputation":2842,"user_id":4699160,"accept_rate":48,"display_name":"Saurabh Jhunjhunwala"},"score":0,"creation_date":1430555868,"post_id":30000107,"comment_id":48119268,"body_markdown":"please check, if your M2_repo is pointing to the correct path","body":"please check, if your M2_repo is pointing to the correct path"},{"owner":{"account_id":6196766,"reputation":1221,"user_id":4827834,"accept_rate":83,"display_name":"zalis"},"score":0,"creation_date":1430556078,"post_id":30000107,"comment_id":48119317,"body_markdown":"Thanks, its point outside of my workspace to my home directory (mac) \nWhere should it be pointing to normally?","body":"Thanks, its point outside of my workspace to my home directory (mac)  Where should it be pointing to normally?"},{"owner":{"account_id":6196766,"reputation":1221,"user_id":4827834,"accept_rate":83,"display_name":"zalis"},"score":0,"creation_date":1430557242,"post_id":30000107,"comment_id":48119640,"body_markdown":"I found the .M2/repository in my home directory so i assume its pointing to the right location","body":"I found the .M2/repository in my home directory so i assume its pointing to the right location"},{"owner":{"account_id":5979633,"reputation":2842,"user_id":4699160,"accept_rate":48,"display_name":"Saurabh Jhunjhunwala"},"score":0,"creation_date":1430558386,"post_id":30000107,"comment_id":48119920,"body_markdown":"Not sure on Mac, ideally is should point to the location specified in settings.xml","body":"Not sure on Mac, ideally is should point to the location specified in settings.xml"},{"owner":{"account_id":6196766,"reputation":1221,"user_id":4827834,"accept_rate":83,"display_name":"zalis"},"score":0,"creation_date":1430558543,"post_id":30000107,"comment_id":48119954,"body_markdown":"good point, what about settings.xml? this does not seem to exist on my machine, or at least it does not exist where eclipse is pointing to in preferences -&gt; maven -&gt; user settings","body":"good point, what about settings.xml? this does not seem to exist on my machine, or at least it does not exist where eclipse is pointing to in preferences -&gt; maven -&gt; user settings"},{"owner":{"account_id":5979633,"reputation":2842,"user_id":4699160,"accept_rate":48,"display_name":"Saurabh Jhunjhunwala"},"score":0,"creation_date":1430558784,"post_id":30000107,"comment_id":48120007,"body_markdown":"in Windows it exists in c:\\users\\&lt;username&gt;\\.m2, not sure on mac","body":"in Windows it exists in c:\\users\\&lt;username&gt;\\.m2, not sure on mac"},{"owner":{"account_id":6196766,"reputation":1221,"user_id":4827834,"accept_rate":83,"display_name":"zalis"},"score":0,"creation_date":1430559162,"post_id":30000107,"comment_id":48120098,"body_markdown":"Thanks, so its seems like it follows similar structure, on my machine its not there, could this be causing this problem ? where can i get the settings.xml file?","body":"Thanks, so its seems like it follows similar structure, on my machine its not there, could this be causing this problem ? where can i get the settings.xml file?"},{"owner":{"account_id":5979633,"reputation":2842,"user_id":4699160,"accept_rate":48,"display_name":"Saurabh Jhunjhunwala"},"score":0,"creation_date":1430559197,"post_id":30000107,"comment_id":48120103,"body_markdown":"settings.xml, you can download from maven&#39;s site, but let me ask you one question, is maven installed on your system. if yes, it would surely have saved this file somewhere, just search your system.","body":"settings.xml, you can download from maven&#39;s site, but let me ask you one question, is maven installed on your system. if yes, it would surely have saved this file somewhere, just search your system."},{"owner":{"account_id":6196766,"reputation":1221,"user_id":4827834,"accept_rate":83,"display_name":"zalis"},"score":0,"creation_date":1430572218,"post_id":30000107,"comment_id":48123875,"body_markdown":"That worked, i found that my settings.xml file was stored in  $M2_HOME/conf/settings.xml so i linked to that file, cleaned the workspace, tried it again and Viola !","body":"That worked, i found that my settings.xml file was stored in  $M2_HOME/conf/settings.xml so i linked to that file, cleaned the workspace, tried it again and Viola !"},{"owner":{"account_id":1824120,"reputation":870,"user_id":1657409,"accept_rate":27,"display_name":"Jithesh Chandra"},"score":0,"creation_date":1600081572,"post_id":30000107,"comment_id":112965769,"body_markdown":"this happened to me also as pointed out by the last answer here, if the path of the workspace same as the project even if the names of the workspace and project are same it wont work .try a different name it will","body":"this happened to me also as pointed out by the last answer here, if the path of the workspace same as the project even if the names of the workspace and project are same it wont work .try a different name it will"}],"answers":[{"tags":[],"owner":{"account_id":7306786,"reputation":1066,"user_id":5567451,"display_name":"chirag28feb"},"down_vote_count":0,"up_vote_count":104,"is_accepted":true,"score":104,"last_activity_date":1471502120,"creation_date":1471495616,"answer_id":39010186,"question_id":30000107,"body_markdown":"Yes, You should start your Eclipse Workspace out of the pom.xml folder.\r\n\r\nfor example: `D:\\workspace\\Project_Name`.\r\n\r\nIn your **Project_Name** folder which contains `pom.xml`.\r\n\r\nSo you have to select `D:\\workspace` while starting the eclipse.\r\n\r\nAnd now, then import the project called `Project_Name` as maven project, It will work.\r\n\r\nHope, it will help !!\r\n","title":"Maven root pom.xml marked as red when importing existing project into eclipse","body":"<p>Yes, You should start your Eclipse Workspace out of the pom.xml folder.</p>\n\n<p>for example: <code>D:\\workspace\\Project_Name</code>.</p>\n\n<p>In your <strong>Project_Name</strong> folder which contains <code>pom.xml</code>.</p>\n\n<p>So you have to select <code>D:\\workspace</code> while starting the eclipse.</p>\n\n<p>And now, then import the project called <code>Project_Name</code> as maven project, It will work.</p>\n\n<p>Hope, it will help !!</p>\n"},{"tags":[],"owner":{"account_id":1098776,"reputation":439,"user_id":1091740,"display_name":"gubs"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1487346501,"creation_date":1487346501,"answer_id":42302041,"question_id":30000107,"body_markdown":"I also came across this same issue. I kept my eclipse workspace name and existing maven project name same and got the error importing pom.xml. Later i opened new workspace with different name which is not matching to the existing maven project and now i could import maven project. \r\n\r\n","title":"Maven root pom.xml marked as red when importing existing project into eclipse","body":"<p>I also came across this same issue. I kept my eclipse workspace name and existing maven project name same and got the error importing pom.xml. Later i opened new workspace with different name which is not matching to the existing maven project and now i could import maven project. </p>\n"},{"tags":[],"owner":{"account_id":12423903,"reputation":11,"user_id":9049371,"display_name":"Souvik Shaw"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1512370050,"creation_date":1512370050,"answer_id":47627904,"question_id":30000107,"body_markdown":"Solution: \r\n\r\n1.Click on Windows tab then Preference(if you are using Eclipse).\r\n\r\n2.Search for the Workspaces first and remove all of them from list(which you can add later eventually)\r\n\r\n3.Then search for Maven and choose User Setting and check your .m2 path along with the updated setting.xml(meanwhile check the proxy too)\r\n\r\n4.After that restart your eclipse and import the existing maven project again.\r\n\r\n\r\n I&#39;m 100% percent sure u&#39;ll no longer face this issue after that. Good Luck :)","title":"Maven root pom.xml marked as red when importing existing project into eclipse","body":"<p>Solution: </p>\n\n<p>1.Click on Windows tab then Preference(if you are using Eclipse).</p>\n\n<p>2.Search for the Workspaces first and remove all of them from list(which you can add later eventually)</p>\n\n<p>3.Then search for Maven and choose User Setting and check your .m2 path along with the updated setting.xml(meanwhile check the proxy too)</p>\n\n<p>4.After that restart your eclipse and import the existing maven project again.</p>\n\n<p>I'm 100% percent sure u'll no longer face this issue after that. Good Luck :)</p>\n"},{"tags":[],"owner":{"account_id":7713459,"reputation":373,"user_id":5842028,"display_name":"Mariusz Lewandowski"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1593716074,"creation_date":1593716074,"answer_id":62703228,"question_id":30000107,"body_markdown":" **1.** In Eclipse select -&gt; File -&gt; Switch Workspace -&gt; Other...\r\n **2.** The choose one directory up from the the one containing pom.xml\r\n **3.** Import as Maven the project directory one directory up form the one you are intrested in.\r\n **4.** Select project of interest from the list of projects.","title":"Maven root pom.xml marked as red when importing existing project into eclipse","body":"<p><strong>1.</strong> In Eclipse select -&gt; File -&gt; Switch Workspace -&gt; Other...\n<strong>2.</strong> The choose one directory up from the the one containing pom.xml\n<strong>3.</strong> Import as Maven the project directory one directory up form the one you are intrested in.\n<strong>4.</strong> Select project of interest from the list of projects.</p>\n"},{"tags":[],"owner":{"account_id":21539686,"reputation":11,"user_id":15877637,"display_name":"Oshadi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1620565551,"creation_date":1620563863,"answer_id":67457780,"question_id":30000107,"body_markdown":"I had the same issue while importing the existing spring project to eclipse, what I did is create a new folder as my workspace, \r\nunder that I put my spring project,\r\nThen reopen eclipse and gave the workspace location as my newly created folder path\r\nAfter that,\r\nFile -&gt; Import -&gt; Maven -&gt; Existing Maven Projects -&gt; Browser -&gt; (Select the spring project) -&gt;Finish\r\n\r\n\r\n----------\r\n\r\n\r\n---------- ","title":"Maven root pom.xml marked as red when importing existing project into eclipse","body":"<p>I had the same issue while importing the existing spring project to eclipse, what I did is create a new folder as my workspace,\nunder that I put my spring project,\nThen reopen eclipse and gave the workspace location as my newly created folder path\nAfter that,\nFile -&gt; Import -&gt; Maven -&gt; Existing Maven Projects -&gt; Browser -&gt; (Select the spring project) -&gt;Finish</p>\n<hr />\n<hr />\n"},{"tags":[],"owner":{"account_id":197030,"reputation":1674,"user_id":440827,"accept_rate":86,"display_name":"Christian"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1643124847,"creation_date":1643124847,"answer_id":70851425,"question_id":30000107,"body_markdown":"The problem is the project and the workspace must be two different folder. In my case I have erroneously selected my project folder as my workspace folder and so I was unable import the project.","title":"Maven root pom.xml marked as red when importing existing project into eclipse","body":"<p>The problem is the project and the workspace must be two different folder. In my case I have erroneously selected my project folder as my workspace folder and so I was unable import the project.</p>\n"}],"owner":{"account_id":6196766,"reputation":1221,"user_id":4827834,"accept_rate":83,"display_name":"zalis"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":51041,"favorite_count":0,"down_vote_count":0,"up_vote_count":36,"accepted_answer_id":39010186,"answer_count":6,"score":36,"last_activity_date":1643124847,"creation_date":1430555427,"question_id":30000107,"body_markdown":"When importing existing maven project into eclipse my root pom.xml is marked red. \r\nwhen i select on the pom.xml the message reads :\r\n\r\n&gt; Can&#39;t import project XYZ from an existing workspace folder\r\n\r\nThis only happens for the root pom.xml\r\n\r\nEclipse in use: Luna Service Release 2 (4.4.2)\r\nMaven Integration for Eclipse 1.5.2.20150413-2215\t\r\n\r\nI have tested with number of different maven projects and in different workspaces. \r\n\r\nPlease note this worked before, I have been working on some tutorials and created number of Maven projects with same name and artifact Ids etc. I have deleted all the earlier projects, but could there still be some conflicts ? \r\n\r\nany suggestions will help","title":"Maven root pom.xml marked as red when importing existing project into eclipse","body":"<p>When importing existing maven project into eclipse my root pom.xml is marked red. \nwhen i select on the pom.xml the message reads :</p>\n\n<blockquote>\n  <p>Can't import project XYZ from an existing workspace folder</p>\n</blockquote>\n\n<p>This only happens for the root pom.xml</p>\n\n<p>Eclipse in use: Luna Service Release 2 (4.4.2)\nMaven Integration for Eclipse 1.5.2.20150413-2215   </p>\n\n<p>I have tested with number of different maven projects and in different workspaces. </p>\n\n<p>Please note this worked before, I have been working on some tutorials and created number of Maven projects with same name and artifact Ids etc. I have deleted all the earlier projects, but could there still be some conflicts ? </p>\n\n<p>any suggestions will help</p>\n"},{"tags":["java","android-studio","firebase-realtime-database","android-intent"],"owner":{"account_id":14796297,"reputation":21,"user_id":10685841,"display_name":"Harshavardhan N"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":183,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1643124811,"creation_date":1643123170,"question_id":70850987,"body_markdown":"Basically, I&#39;m working on an app where the uploading and retrieval of files are done at Firebase Realtime Database. I have successfully achieved the uploading part by using (intent.setType(&quot;* / *&quot;) --&gt; to upload all types of files), but the retrieval part is done up to half extent.\r\n\r\nTo elaborate, I was able to successfully list all the documents into the recycler view, and what I am trying to achieve is, on clicking the document in the RecyclerView should open a browser and download the file. \r\n\r\nSo I have tried to write a code, where on clicking the document in the RecyclerView asks to select the application, but there is no browser in the list.\r\n\r\nHere is the code ---\r\n```\r\npublic class ai_unit_1_recyclerview extends RecyclerView.Adapter &lt;ai_unit_1_recyclerview.ViewHolder&gt; {\r\n\r\n    RecyclerView recyclerView;\r\n    Context context;\r\n    public ArrayList&lt;String&gt; items;\r\n    public ArrayList&lt;String&gt; urls;\r\n\r\n    public void update(String name,String url){\r\n        items.add(name);\r\n        urls.add(url);\r\n        notifyDataSetChanged();\r\n    }\r\n\r\n    public ai_unit_1_recyclerview(RecyclerView recyclerView, Context context, ArrayList&lt;String&gt; items, ArrayList&lt;String&gt; urls) {\r\n        this.recyclerView = recyclerView;\r\n        this.context = context;\r\n        this.items = items;\r\n        this.urls = urls;\r\n    }\r\n\r\n    @NonNull\r\n    @Override\r\n    public ViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n        View view= LayoutInflater.from(context).inflate(R.layout.ai_unit_1_items,parent,false);\r\n        return new ViewHolder(view);\r\n    }\r\n    @Override\r\n    public void onBindViewHolder(@NonNull ViewHolder holder, int position) {\r\n        //initialise items of individual items...\r\n        holder.ai_unit_1_files.setText(items.get(position));\r\n    }\r\n\r\n    @Override\r\n    public int getItemCount() {//return the number of items\r\n        return items.size();\r\n    }\r\n\r\n    public class ViewHolder extends RecyclerView.ViewHolder{\r\n\r\n        TextView ai_unit_1_files;\r\n\r\n        public ViewHolder(View itemView){ //represents individual list items\r\n            super(itemView);\r\n            ai_unit_1_files=itemView.findViewById(R.id.ai_unit_1_files);\r\n            itemView.setOnClickListener(view -&gt; {\r\n\r\n                int position=recyclerView.getChildLayoutPosition(view);\r\n                Intent intent=new Intent(ACTION_VIEW);\r\n                intent.setDataAndType(Uri.parse(urls.get(position)),&quot;*/*&quot;);\r\n                context.startActivity(intent);\r\n            });\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n.\r\n.\r\n.\r\n.\r\n.\r\n\r\nI have changed the code by a little, which throws an error &quot;android.content.ActivityNotFoundException&quot;\r\n\r\nHere is the changed code ---\r\n\r\n```\r\n\r\n        public ViewHolder(View itemView){ //represents individual list items\r\n            super(itemView);\r\n            ai_unit_1_files=itemView.findViewById(R.id.ai_unit_1_files);\r\n            itemView.setOnClickListener(view -&gt; {\r\n\r\n                int position=recyclerView.getChildLayoutPosition(view);\r\n                Intent intent=new Intent();\r\n                intent.setType(ACTION_VIEW);\r\n                intent.setData(Uri.parse(urls.get(position)));\r\n                context.startActivity(intent);\r\n            });\r\n        }\r\n    }\r\n}\r\n```\r\nLOGCAT for the error ---\r\n\r\n```\r\nandroid.content.ActivityNotFoundException: No Activity found to handle Intent { dat=com.google.android.gms.tasks.zzu@b568eb4 }\r\n        at android.app.Instrumentation.checkStartActivityResult(Instrumentation.java:2258)\r\n        at android.app.Instrumentation.execStartActivity(Instrumentation.java:1914)\r\n        at android.app.Activity.startActivityForResult(Activity.java:5326)\r\n        at androidx.fragment.app.FragmentActivity.startActivityForResult(FragmentActivity.java:675)\r\n        at android.app.Activity.startActivityForResult(Activity.java:5284)\r\n        at androidx.fragment.app.FragmentActivity.startActivityForResult(FragmentActivity.java:662)\r\n        at android.app.Activity.startActivity(Activity.java:5670)\r\n        at android.app.Activity.startActivity(Activity.java:5623)\r\n        at com.example.ngitstudentportal.ai_unit_1_recyclerview$ViewHolder.lambda$new$0$com-example-ngitstudentportal-ai_unit_1_recyclerview$ViewHolder(ai_unit_1_recyclerview.java:68)\r\n        at com.example.ngitstudentportal.ai_unit_1_recyclerview$ViewHolder$$ExternalSyntheticLambda0.onClick(Unknown Source:2)\r\n        at android.view.View.performClick(View.java:7520)\r\n        at android.view.View.performClickInternal(View.java:7489)\r\n        at android.view.View.access$3600(View.java:826)\r\n        at android.view.View$PerformClick.run(View.java:28555)\r\n        at android.os.Handler.handleCallback(Handler.java:938)\r\n        at android.os.Handler.dispatchMessage(Handler.java:99)\r\n        at android.os.Looper.loop(Looper.java:233)\r\n        at android.app.ActivityThread.main(ActivityThread.java:8030)\r\n        at java.lang.reflect.Method.invoke(Native Method)\r\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:631)\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:978)\r\n```","title":"How to Download a file from Firebase Realtime Database using Intents","body":"<p>Basically, I'm working on an app where the uploading and retrieval of files are done at Firebase Realtime Database. I have successfully achieved the uploading part by using (intent.setType(&quot;* / *&quot;) --&gt; to upload all types of files), but the retrieval part is done up to half extent.</p>\n<p>To elaborate, I was able to successfully list all the documents into the recycler view, and what I am trying to achieve is, on clicking the document in the RecyclerView should open a browser and download the file.</p>\n<p>So I have tried to write a code, where on clicking the document in the RecyclerView asks to select the application, but there is no browser in the list.</p>\n<p>Here is the code ---</p>\n<pre><code>public class ai_unit_1_recyclerview extends RecyclerView.Adapter &lt;ai_unit_1_recyclerview.ViewHolder&gt; {\n\n    RecyclerView recyclerView;\n    Context context;\n    public ArrayList&lt;String&gt; items;\n    public ArrayList&lt;String&gt; urls;\n\n    public void update(String name,String url){\n        items.add(name);\n        urls.add(url);\n        notifyDataSetChanged();\n    }\n\n    public ai_unit_1_recyclerview(RecyclerView recyclerView, Context context, ArrayList&lt;String&gt; items, ArrayList&lt;String&gt; urls) {\n        this.recyclerView = recyclerView;\n        this.context = context;\n        this.items = items;\n        this.urls = urls;\n    }\n\n    @NonNull\n    @Override\n    public ViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n        View view= LayoutInflater.from(context).inflate(R.layout.ai_unit_1_items,parent,false);\n        return new ViewHolder(view);\n    }\n    @Override\n    public void onBindViewHolder(@NonNull ViewHolder holder, int position) {\n        //initialise items of individual items...\n        holder.ai_unit_1_files.setText(items.get(position));\n    }\n\n    @Override\n    public int getItemCount() {//return the number of items\n        return items.size();\n    }\n\n    public class ViewHolder extends RecyclerView.ViewHolder{\n\n        TextView ai_unit_1_files;\n\n        public ViewHolder(View itemView){ //represents individual list items\n            super(itemView);\n            ai_unit_1_files=itemView.findViewById(R.id.ai_unit_1_files);\n            itemView.setOnClickListener(view -&gt; {\n\n                int position=recyclerView.getChildLayoutPosition(view);\n                Intent intent=new Intent(ACTION_VIEW);\n                intent.setDataAndType(Uri.parse(urls.get(position)),&quot;*/*&quot;);\n                context.startActivity(intent);\n            });\n        }\n    }\n}\n</code></pre>\n<p>.\n.\n.\n.\n.</p>\n<p>I have changed the code by a little, which throws an error &quot;android.content.ActivityNotFoundException&quot;</p>\n<p>Here is the changed code ---</p>\n<pre><code>\n        public ViewHolder(View itemView){ //represents individual list items\n            super(itemView);\n            ai_unit_1_files=itemView.findViewById(R.id.ai_unit_1_files);\n            itemView.setOnClickListener(view -&gt; {\n\n                int position=recyclerView.getChildLayoutPosition(view);\n                Intent intent=new Intent();\n                intent.setType(ACTION_VIEW);\n                intent.setData(Uri.parse(urls.get(position)));\n                context.startActivity(intent);\n            });\n        }\n    }\n}\n</code></pre>\n<p>LOGCAT for the error ---</p>\n<pre><code>android.content.ActivityNotFoundException: No Activity found to handle Intent { dat=com.google.android.gms.tasks.zzu@b568eb4 }\n        at android.app.Instrumentation.checkStartActivityResult(Instrumentation.java:2258)\n        at android.app.Instrumentation.execStartActivity(Instrumentation.java:1914)\n        at android.app.Activity.startActivityForResult(Activity.java:5326)\n        at androidx.fragment.app.FragmentActivity.startActivityForResult(FragmentActivity.java:675)\n        at android.app.Activity.startActivityForResult(Activity.java:5284)\n        at androidx.fragment.app.FragmentActivity.startActivityForResult(FragmentActivity.java:662)\n        at android.app.Activity.startActivity(Activity.java:5670)\n        at android.app.Activity.startActivity(Activity.java:5623)\n        at com.example.ngitstudentportal.ai_unit_1_recyclerview$ViewHolder.lambda$new$0$com-example-ngitstudentportal-ai_unit_1_recyclerview$ViewHolder(ai_unit_1_recyclerview.java:68)\n        at com.example.ngitstudentportal.ai_unit_1_recyclerview$ViewHolder$$ExternalSyntheticLambda0.onClick(Unknown Source:2)\n        at android.view.View.performClick(View.java:7520)\n        at android.view.View.performClickInternal(View.java:7489)\n        at android.view.View.access$3600(View.java:826)\n        at android.view.View$PerformClick.run(View.java:28555)\n        at android.os.Handler.handleCallback(Handler.java:938)\n        at android.os.Handler.dispatchMessage(Handler.java:99)\n        at android.os.Looper.loop(Looper.java:233)\n        at android.app.ActivityThread.main(ActivityThread.java:8030)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:631)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:978)\n</code></pre>\n"},{"tags":["java","tomcat","dll","tomcat5.5"],"answers":[{"tags":[],"owner":{"account_id":593875,"reputation":20383,"user_id":276232,"accept_rate":50,"display_name":"Christopher Schultz"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1508960151,"creation_date":1508960151,"answer_id":46940753,"question_id":46937881,"body_markdown":"The ZIP file for Tomcat 5.5.36 contains native libraries for IA32, IA64, and x86-64 architectures. The DLL file in Tomcat&#39;s `bin` directory is almost certainly the IA32 one.\r\n\r\nYou&#39;ll want to rename `tcnative-1.dll` to something like `tcnative-1.dll.ia32` and then copy `x64/tcnative-1.dll` into `bin` in place of the one that was there previously.\r\n\r\nRestart Tomcat and you should be up and running.\r\n\r\nTell the source of &quot;stuff (TM)&quot; that Tomcat 5.5 has long been EOL&#39;d and both it and Java 6 likely have unpatched, publicly-known security vulnerabilities. Don&#39;t be the next Equifax.","title":"tomcat 5 java.lang.UnsatisfiedLinkError: tomcat\\apache-tomcat-5.5.36\\bin\\tcnative-1.dll: Can&#39;t load IA 32-bit .dll on a AMD 64-bit platform","body":"<p>The ZIP file for Tomcat 5.5.36 contains native libraries for IA32, IA64, and x86-64 architectures. The DLL file in Tomcat's <code>bin</code> directory is almost certainly the IA32 one.</p>\n\n<p>You'll want to rename <code>tcnative-1.dll</code> to something like <code>tcnative-1.dll.ia32</code> and then copy <code>x64/tcnative-1.dll</code> into <code>bin</code> in place of the one that was there previously.</p>\n\n<p>Restart Tomcat and you should be up and running.</p>\n\n<p>Tell the source of \"stuff (TM)\" that Tomcat 5.5 has long been EOL'd and both it and Java 6 likely have unpatched, publicly-known security vulnerabilities. Don't be the next Equifax.</p>\n"},{"tags":[],"owner":{"account_id":13357038,"reputation":1,"user_id":9651328,"display_name":"Aitor"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1643124757,"creation_date":1643124757,"answer_id":70851397,"question_id":46937881,"body_markdown":"As Christopher Says I renamed tcnative-1.dll and I move this file from x64 folder, it works like this... ","title":"tomcat 5 java.lang.UnsatisfiedLinkError: tomcat\\apache-tomcat-5.5.36\\bin\\tcnative-1.dll: Can&#39;t load IA 32-bit .dll on a AMD 64-bit platform","body":"<p>As Christopher Says I renamed tcnative-1.dll and I move this file from x64 folder, it works like this...</p>\n"}],"owner":{"account_id":174734,"reputation":569,"user_id":404280,"accept_rate":54,"display_name":"WendyG"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1074,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":46940753,"answer_count":2,"score":0,"last_activity_date":1643124757,"creation_date":1508949878,"question_id":46937881,"body_markdown":"I am on a brand new laptop, so it only has stuff I have installed on it in the last week, so i am pretty certain it doesn&#39;t have old stuff hanging around.\r\n\r\nThis is rather large as i have tried to include EVERYTHING.\r\n\r\nmy java home is pointing to a 64 bit java 8, but because of &quot;stuff&quot; (TM) we are having to run ancient tomcat and java 6 for for our client.\r\nI have installed: jdk1.6.0_45 and jdk1.8.0_151 (which is my java_home version)\r\n\r\nas you can see above I am using tomcat 5.5.36. And I am making the presumption that as it only has x64 directories it is a 64 bit tomcat. The tcnative.dll in this directory is the one from x64 (the file contents when looked at in 7zip match)\r\n\r\n      Directory: C:\\Users\\wendy.gibbons\\tomcat\\apache-tomcat-5.5.36\\bin\r\n    \r\n    \r\n    Mode                LastWriteTime         Length Name\r\n    ----                -------------         ------ ----\r\n    d-----       20/10/2017     11:26                i64\r\n    d-----       20/10/2017     11:26                x64\r\n    -a----       24/10/2017     10:46           6530 .catalina.bat.un~\r\n    -a----       24/10/2017     10:47           1429 .startup.bat.un~\r\n    -a----       20/10/2017     11:26          24384 bootstrap.jar\r\n    -a----       20/10/2017     11:26           1927 catalina-tasks.xml\r\n    -a----       24/10/2017     10:46          10102 catalina.bat\r\n    -a----       20/10/2017     11:49          10113 catalina.bat~\r\n    -a----       20/10/2017     11:26          13131 catalina.sh\r\n    -a----       20/10/2017     11:26         202519 commons-daemon-native.tar.gz\r\n    -a----       20/10/2017     11:26          24242 commons-daemon.jar\r\n    -a----       20/10/2017     11:26          52313 commons-logging-api-1.1.1.jar\r\n    -a----       20/10/2017     11:26           1334 cpappend.bat\r\n    -a----       20/10/2017     11:26           2107 digest.bat\r\n    -a----       20/10/2017     11:26           1689 digest.sh\r\n    -a----       20/10/2017     11:26           2167 jmxaccessor-tasks.xml\r\n    -a----       20/10/2017     11:26           5088 service.bat\r\n    -a----       20/10/2017     11:26           3000 setclasspath.bat\r\n    -a----       20/10/2017     11:26           3577 setclasspath.sh\r\n    -a----       20/10/2017     11:26           2099 shutdown.bat\r\n    -a----       20/10/2017     11:26           1628 shutdown.sh\r\n    -a----       24/10/2017     10:47           2094 startup.bat\r\n    -a----       20/10/2017     13:29           2105 startup.bat~\r\n    -a----       20/10/2017     11:26           2023 startup.sh\r\n    -a----       20/10/2017     11:26        1134080 tcnative-1.dll\r\n    -a----       20/10/2017     11:26          13519 tomcat-juli.jar\r\n    -a----       20/10/2017     11:26         261742 tomcat-native.tar.gz\r\n    -a----       20/10/2017     11:26          77312 tomcat5.exe\r\n    -a----       20/10/2017     11:26         103424 tomcat5w.exe\r\n    -a----       20/10/2017     11:26           3471 tool-wrapper.bat\r\n    -a----       20/10/2017     11:26           3508 tool-wrapper.sh\r\n    -a----       20/10/2017     11:26           2104 version.bat\r\n    -a----       20/10/2017     11:26           1632 version.sh\r\n\r\nmy catalina.bat file has \r\n\r\n    set CATALINA_HOME=&quot;C:\\Users\\user\\tomcat\\apache-tomcat-5.5.36&quot;\r\n    set JAVA_HOME=&quot;C:\\Users\\user\\jdk1.6.0_45&quot;\r\n\r\nhere is the full exception in case you haven&#39;t seen it before\r\n\r\n    java.lang.UnsatisfiedLinkError: C:\\Users\\user\\tomcat\\apache-tomcat-5.5.36\\bin\\tcnative-1.dll: Can&#39;t load IA 32-bit .dll on a AMD 64-bit platform\r\n            at java.lang.ClassLoader$NativeLibrary.load(Native Method)\r\n            at java.lang.ClassLoader.loadLibrary0(ClassLoader.java:1807)\r\n            at java.lang.ClassLoader.loadLibrary(ClassLoader.java:1732)\r\n            at java.lang.Runtime.loadLibrary0(Runtime.java:823)\r\n            at java.lang.System.loadLibrary(System.java:1028)\r\n            at org.apache.tomcat.jni.Library.&lt;init&gt;(Library.java:42)\r\n            at org.apache.tomcat.jni.Library.initialize(Library.java:168)\r\n            at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n            at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\r\n            at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\r\n            at java.lang.reflect.Method.invoke(Method.java:597)\r\n            at org.apache.catalina.core.AprLifecycleListener.init(AprLifecycleListener.java:151)\r\n            at org.apache.catalina.core.AprLifecycleListener.isAprAvailable(AprLifecycleListener.java:76)\r\n            at org.apache.catalina.connector.Connector.setProtocol(Connector.java:638)\r\n            at org.apache.catalina.connector.Connector.&lt;init&gt;(Connector.java:72)\r\n            at org.apache.catalina.startup.ConnectorCreateRule.begin(ConnectorCreateRule.java:44)\r\n            at org.apache.tomcat.util.digester.Rule.begin(Rule.java:153)\r\n            at org.apache.tomcat.util.digester.Digester.startElement(Digester.java:1276)\r\n            at com.sun.org.apache.xerces.internal.parsers.AbstractSAXParser.startElement(AbstractSAXParser.java:501)\r\n            at com.sun.org.apache.xerces.internal.parsers.AbstractXMLDocumentParser.emptyElement(AbstractXMLDocumentParser.java:179)\r\n            at com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl.scanStartElement(XMLDocumentFragmentScannerImpl.java:1343)\r\n            at com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl$FragmentContentDriver.next(XMLDocumentFragmentScannerImpl.java:2756)\r\n            at com.sun.org.apache.xerces.internal.impl.XMLDocumentScannerImpl.next(XMLDocumentScannerImpl.java:647)\r\n            at com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl.scanDocument(XMLDocumentFragmentScannerImpl.java:511)\r\n            at com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11Configuration.java:808)\r\n            at com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11Configuration.java:737)\r\n            at com.sun.org.apache.xerces.internal.parsers.XMLParser.parse(XMLParser.java:119)\r\n            at com.sun.org.apache.xerces.internal.parsers.AbstractSAXParser.parse(AbstractSAXParser.java:1205)\r\n            at com.sun.org.apache.xerces.internal.jaxp.SAXParserImpl$JAXPSAXParser.parse(SAXParserImpl.java:522)\r\n            at org.apache.tomcat.util.digester.Digester.parse(Digester.java:1562)\r\n            at org.apache.catalina.startup.Catalina.load(Catalina.java:490)\r\n            at org.apache.catalina.startup.Catalina.load(Catalina.java:524)\r\n            at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n            at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\r\n            at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\r\n            at java.lang.reflect.Method.invoke(Method.java:597)\r\n            at org.apache.catalina.startup.Bootstrap.load(Bootstrap.java:267)\r\n            at org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:432)\r\n    25-Oct-2017 16:56:56 org.apache.catalina.core.AprLifecycleListener init\r\n    INFO: The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: C:\\Users\\user\\jdk1.6.0_45\\bin;C:\\WINDOWS\\Sun\\Java\\bin;C:\\WINDOWS\\system32;C:\\WINDOWS;C:\\oraclexe\\app\\oracle\\product\\11.2.0\\server\\bin;;C:\\oraclexe\\app\\oracle\\product\\11.2.0\\server\\bin;C:\\ProgramData\\Oracle\\Java\\javapath;C:\\WINDOWS\\system32;C:\\WINDOWS;C:\\WINDOWS\\System32\\Wbem;C:\\WINDOWS\\System32\\WindowsPowerShell\\v1.0\\;C:\\ProgramData\\chocolatey\\bin;C:\\Program Files\\Git\\cmd;C:\\Program Files\\TortoiseGit\\bin;C:\\Users\\user\\apache-maven-3.5.0-bin\\apache-maven-3.5.0\\bin;;C:\\Program Files (x86)\\WinMerge;C:\\Program Files\\PuTTY\\;C:\\Users\\user\\AppData\\Local\\Microsoft\\WindowsApps;;.\r\n\r\nI have searched my entire C drive and that dll is only in 3 places\r\n[![my C drive][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/u02Il.png","title":"tomcat 5 java.lang.UnsatisfiedLinkError: tomcat\\apache-tomcat-5.5.36\\bin\\tcnative-1.dll: Can&#39;t load IA 32-bit .dll on a AMD 64-bit platform","body":"<p>I am on a brand new laptop, so it only has stuff I have installed on it in the last week, so i am pretty certain it doesn't have old stuff hanging around.</p>\n\n<p>This is rather large as i have tried to include EVERYTHING.</p>\n\n<p>my java home is pointing to a 64 bit java 8, but because of \"stuff\" (TM) we are having to run ancient tomcat and java 6 for for our client.\nI have installed: jdk1.6.0_45 and jdk1.8.0_151 (which is my java_home version)</p>\n\n<p>as you can see above I am using tomcat 5.5.36. And I am making the presumption that as it only has x64 directories it is a 64 bit tomcat. The tcnative.dll in this directory is the one from x64 (the file contents when looked at in 7zip match)</p>\n\n<pre><code>  Directory: C:\\Users\\wendy.gibbons\\tomcat\\apache-tomcat-5.5.36\\bin\n\n\nMode                LastWriteTime         Length Name\n----                -------------         ------ ----\nd-----       20/10/2017     11:26                i64\nd-----       20/10/2017     11:26                x64\n-a----       24/10/2017     10:46           6530 .catalina.bat.un~\n-a----       24/10/2017     10:47           1429 .startup.bat.un~\n-a----       20/10/2017     11:26          24384 bootstrap.jar\n-a----       20/10/2017     11:26           1927 catalina-tasks.xml\n-a----       24/10/2017     10:46          10102 catalina.bat\n-a----       20/10/2017     11:49          10113 catalina.bat~\n-a----       20/10/2017     11:26          13131 catalina.sh\n-a----       20/10/2017     11:26         202519 commons-daemon-native.tar.gz\n-a----       20/10/2017     11:26          24242 commons-daemon.jar\n-a----       20/10/2017     11:26          52313 commons-logging-api-1.1.1.jar\n-a----       20/10/2017     11:26           1334 cpappend.bat\n-a----       20/10/2017     11:26           2107 digest.bat\n-a----       20/10/2017     11:26           1689 digest.sh\n-a----       20/10/2017     11:26           2167 jmxaccessor-tasks.xml\n-a----       20/10/2017     11:26           5088 service.bat\n-a----       20/10/2017     11:26           3000 setclasspath.bat\n-a----       20/10/2017     11:26           3577 setclasspath.sh\n-a----       20/10/2017     11:26           2099 shutdown.bat\n-a----       20/10/2017     11:26           1628 shutdown.sh\n-a----       24/10/2017     10:47           2094 startup.bat\n-a----       20/10/2017     13:29           2105 startup.bat~\n-a----       20/10/2017     11:26           2023 startup.sh\n-a----       20/10/2017     11:26        1134080 tcnative-1.dll\n-a----       20/10/2017     11:26          13519 tomcat-juli.jar\n-a----       20/10/2017     11:26         261742 tomcat-native.tar.gz\n-a----       20/10/2017     11:26          77312 tomcat5.exe\n-a----       20/10/2017     11:26         103424 tomcat5w.exe\n-a----       20/10/2017     11:26           3471 tool-wrapper.bat\n-a----       20/10/2017     11:26           3508 tool-wrapper.sh\n-a----       20/10/2017     11:26           2104 version.bat\n-a----       20/10/2017     11:26           1632 version.sh\n</code></pre>\n\n<p>my catalina.bat file has </p>\n\n<pre><code>set CATALINA_HOME=\"C:\\Users\\user\\tomcat\\apache-tomcat-5.5.36\"\nset JAVA_HOME=\"C:\\Users\\user\\jdk1.6.0_45\"\n</code></pre>\n\n<p>here is the full exception in case you haven't seen it before</p>\n\n<pre><code>java.lang.UnsatisfiedLinkError: C:\\Users\\user\\tomcat\\apache-tomcat-5.5.36\\bin\\tcnative-1.dll: Can't load IA 32-bit .dll on a AMD 64-bit platform\n        at java.lang.ClassLoader$NativeLibrary.load(Native Method)\n        at java.lang.ClassLoader.loadLibrary0(ClassLoader.java:1807)\n        at java.lang.ClassLoader.loadLibrary(ClassLoader.java:1732)\n        at java.lang.Runtime.loadLibrary0(Runtime.java:823)\n        at java.lang.System.loadLibrary(System.java:1028)\n        at org.apache.tomcat.jni.Library.&lt;init&gt;(Library.java:42)\n        at org.apache.tomcat.jni.Library.initialize(Library.java:168)\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n        at java.lang.reflect.Method.invoke(Method.java:597)\n        at org.apache.catalina.core.AprLifecycleListener.init(AprLifecycleListener.java:151)\n        at org.apache.catalina.core.AprLifecycleListener.isAprAvailable(AprLifecycleListener.java:76)\n        at org.apache.catalina.connector.Connector.setProtocol(Connector.java:638)\n        at org.apache.catalina.connector.Connector.&lt;init&gt;(Connector.java:72)\n        at org.apache.catalina.startup.ConnectorCreateRule.begin(ConnectorCreateRule.java:44)\n        at org.apache.tomcat.util.digester.Rule.begin(Rule.java:153)\n        at org.apache.tomcat.util.digester.Digester.startElement(Digester.java:1276)\n        at com.sun.org.apache.xerces.internal.parsers.AbstractSAXParser.startElement(AbstractSAXParser.java:501)\n        at com.sun.org.apache.xerces.internal.parsers.AbstractXMLDocumentParser.emptyElement(AbstractXMLDocumentParser.java:179)\n        at com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl.scanStartElement(XMLDocumentFragmentScannerImpl.java:1343)\n        at com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl$FragmentContentDriver.next(XMLDocumentFragmentScannerImpl.java:2756)\n        at com.sun.org.apache.xerces.internal.impl.XMLDocumentScannerImpl.next(XMLDocumentScannerImpl.java:647)\n        at com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl.scanDocument(XMLDocumentFragmentScannerImpl.java:511)\n        at com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11Configuration.java:808)\n        at com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11Configuration.java:737)\n        at com.sun.org.apache.xerces.internal.parsers.XMLParser.parse(XMLParser.java:119)\n        at com.sun.org.apache.xerces.internal.parsers.AbstractSAXParser.parse(AbstractSAXParser.java:1205)\n        at com.sun.org.apache.xerces.internal.jaxp.SAXParserImpl$JAXPSAXParser.parse(SAXParserImpl.java:522)\n        at org.apache.tomcat.util.digester.Digester.parse(Digester.java:1562)\n        at org.apache.catalina.startup.Catalina.load(Catalina.java:490)\n        at org.apache.catalina.startup.Catalina.load(Catalina.java:524)\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n        at java.lang.reflect.Method.invoke(Method.java:597)\n        at org.apache.catalina.startup.Bootstrap.load(Bootstrap.java:267)\n        at org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:432)\n25-Oct-2017 16:56:56 org.apache.catalina.core.AprLifecycleListener init\nINFO: The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: C:\\Users\\user\\jdk1.6.0_45\\bin;C:\\WINDOWS\\Sun\\Java\\bin;C:\\WINDOWS\\system32;C:\\WINDOWS;C:\\oraclexe\\app\\oracle\\product\\11.2.0\\server\\bin;;C:\\oraclexe\\app\\oracle\\product\\11.2.0\\server\\bin;C:\\ProgramData\\Oracle\\Java\\javapath;C:\\WINDOWS\\system32;C:\\WINDOWS;C:\\WINDOWS\\System32\\Wbem;C:\\WINDOWS\\System32\\WindowsPowerShell\\v1.0\\;C:\\ProgramData\\chocolatey\\bin;C:\\Program Files\\Git\\cmd;C:\\Program Files\\TortoiseGit\\bin;C:\\Users\\user\\apache-maven-3.5.0-bin\\apache-maven-3.5.0\\bin;;C:\\Program Files (x86)\\WinMerge;C:\\Program Files\\PuTTY\\;C:\\Users\\user\\AppData\\Local\\Microsoft\\WindowsApps;;.\n</code></pre>\n\n<p>I have searched my entire C drive and that dll is only in 3 places\n<a href=\"https://i.stack.imgur.com/u02Il.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/u02Il.png\" alt=\"my C drive\"></a></p>\n"},{"tags":["java","filter","count"],"comments":[{"owner":{"account_id":7380656,"reputation":1500,"user_id":5617485,"display_name":"tsamridh86"},"score":0,"creation_date":1643122415,"post_id":70850566,"comment_id":125252373,"body_markdown":"for starters, parsing a query in java and then applying transformations and filters on a data that is in a separate csv file is quite a challenge in java. We would need more information to help you out here. The `ReadFile` class seems to be custom, so when you do `file.getcustomers()` what do you get as a result ( provide a sample ) so that we can start from there to help you out. Also please clarify if you only want to filter out columns or want to create an entire sql like system here?","body":"for starters, parsing a query in java and then applying transformations and filters on a data that is in a separate csv file is quite a challenge in java. We would need more information to help you out here. The <code>ReadFile</code> class seems to be custom, so when you do <code>file.getcustomers()</code> what do you get as a result ( provide a sample ) so that we can start from there to help you out. Also please clarify if you only want to filter out columns or want to create an entire sql like system here?"},{"owner":{"account_id":24011924,"reputation":23,"user_id":17995409,"display_name":"Theresa Harmony"},"score":0,"creation_date":1643123648,"post_id":70850566,"comment_id":125252963,"body_markdown":"file.getcustomers() stores the entire csv file in &quot;teste&quot;.  I will add a sample of the csv file in the question","body":"file.getcustomers() stores the entire csv file in &quot;teste&quot;.  I will add a sample of the csv file in the question"},{"owner":{"account_id":24011924,"reputation":23,"user_id":17995409,"display_name":"Theresa Harmony"},"score":0,"creation_date":1643124095,"post_id":70850566,"comment_id":125253181,"body_markdown":"well and it is someting like a sql system","body":"well and it is someting like a sql system"},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1643124935,"post_id":70850566,"comment_id":125253542,"body_markdown":"Is the CSV file structure constant? Does it always contain the same fields in the same order? For example is the _Age_ field always the seventh field? Does the _Age_ field always follow the _Gender_ field?","body":"Is the CSV file structure constant? Does it always contain the same fields in the same order? For example is the <i>Age</i> field always the seventh field? Does the <i>Age</i> field always follow the <i>Gender</i> field?"},{"owner":{"account_id":24011924,"reputation":23,"user_id":17995409,"display_name":"Theresa Harmony"},"score":0,"creation_date":1643125033,"post_id":70850566,"comment_id":125253584,"body_markdown":"yes the structure is constant","body":"yes the structure is constant"},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1643126792,"post_id":70850566,"comment_id":125254419,"body_markdown":"And is the `Query` variable text that you have to parse and interpret? In other words, the value of `Query` may be different to what appears in your question? It could be, for example: `COUNTROWS(FILTER(Customer_Data, Customer_Data[Gender]=Female))` Also, out of the eight rows in your sample CSV data, six of them have RowNumber=3. Is that a mistake?","body":"And is the <code>Query</code> variable text that you have to parse and interpret? In other words, the value of <code>Query</code> may be different to what appears in your question? It could be, for example: <code>COUNTROWS(FILTER(Customer_Data, Customer_Data[Gender]=Female))</code> Also, out of the eight rows in your sample CSV data, six of them have RowNumber=3. Is that a mistake?"},{"owner":{"account_id":24011924,"reputation":23,"user_id":17995409,"display_name":"Theresa Harmony"},"score":0,"creation_date":1643128006,"post_id":70850566,"comment_id":125255006,"body_markdown":"yes the Query value could be different, and the repeated row number is a mistake","body":"yes the Query value could be different, and the repeated row number is a mistake"},{"owner":{"account_id":7380656,"reputation":1500,"user_id":5617485,"display_name":"tsamridh86"},"score":0,"creation_date":1643202607,"post_id":70850566,"comment_id":125276002,"body_markdown":"tbh, this problem is quite complicated if you want a custom solution, i would tempted to load all this into a sqlite database and then run the queries as required, ( note that you have mentioned that you have ~10k rows , which implies that any algo that we come up with, might be full of bugs and we might miss a lot of edge cases ). Otherwise, i&#39;d do some research online to see if there are any libraries already in java supporting this functionality that you required, atleast even if the search part is done, then the query parsing bit is something that you should be able to tackle.","body":"tbh, this problem is quite complicated if you want a custom solution, i would tempted to load all this into a sqlite database and then run the queries as required, ( note that you have mentioned that you have ~10k rows , which implies that any algo that we come up with, might be full of bugs and we might miss a lot of edge cases ). Otherwise, i&#39;d do some research online to see if there are any libraries already in java supporting this functionality that you required, atleast even if the search part is done, then the query parsing bit is something that you should be able to tackle."}],"answers":[{"tags":[],"owner":{"account_id":8462680,"reputation":90,"user_id":6347831,"display_name":"Yenny Muller"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643124610,"creation_date":1643123908,"answer_id":70851187,"question_id":70850566,"body_markdown":"the way I know to read files is:\r\n\r\n1. open the file.\r\n2. read the file line by line.\r\n3. make a mapping of the retrieved line to the respective fields such as Age, name ...\r\n4. then a filter can be done through an if statement...\r\n\r\nmaybe you need to do something:\r\n\r\n```\r\npublic class CountRows {\r\n\r\n    public static void countorows() throws IOException {\r\n\t\r\n\t\ttry {\r\n\t\t\tint counter = 0;\r\n\t\t\tBufferedReader b = new BufferedReader(new inputFile);\r\n\t\t\tString readLine = &quot;&quot;;\r\n\t\t\twhile ((readLine = b.readLine()) != null) {\r\n\t\t\t\tString sNewLine = new String(sLinea_nueva.getBytes(&quot;ISO-8859-1&quot;), &quot;UTF-8&quot;);\r\n\t\t\t\tString[] sLinea = sNewLine.split(&quot;,&quot;);\r\n\t\t\t\tString sName = sLinea[0];\r\n\t\t\t\tString sAge = sLinea[1];\r\n\t\t\t\tif (Integer.value(sAge) &gt;= 18) {\r\n\t\t\t\t\tcounter = counter + 1;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t} catch (IOException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t}\r\n}\t\r\n```","title":"How can I make a filter between 2 columns on the same csv file in java?","body":"<p>the way I know to read files is:</p>\n<ol>\n<li>open the file.</li>\n<li>read the file line by line.</li>\n<li>make a mapping of the retrieved line to the respective fields such as Age, name ...</li>\n<li>then a filter can be done through an if statement...</li>\n</ol>\n<p>maybe you need to do something:</p>\n<pre><code>public class CountRows {\n\n    public static void countorows() throws IOException {\n    \n        try {\n            int counter = 0;\n            BufferedReader b = new BufferedReader(new inputFile);\n            String readLine = &quot;&quot;;\n            while ((readLine = b.readLine()) != null) {\n                String sNewLine = new String(sLinea_nueva.getBytes(&quot;ISO-8859-1&quot;), &quot;UTF-8&quot;);\n                String[] sLinea = sNewLine.split(&quot;,&quot;);\n                String sName = sLinea[0];\n                String sAge = sLinea[1];\n                if (Integer.value(sAge) &gt;= 18) {\n                    counter = counter + 1;\n                }\n            }\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n}   \n</code></pre>\n"}],"owner":{"account_id":24011924,"reputation":23,"user_id":17995409,"display_name":"Theresa Harmony"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":131,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1643124610,"creation_date":1643121502,"question_id":70850566,"body_markdown":"Hello I have a java class that counts all rows from a csv file.\r\nBut now I need to create a filter so it only counts a certain amount of rows, depending on the condition in the filter.\r\n\r\nSomething like this: \r\n\r\n    COUNTROWS(FILTER(Customer_Data, Customer_Data[Age]&gt;=18\r\n    &amp;&amp; Customer_Data[IsActiveMember]=1))\r\n\r\nI am learning java now and this is quite dificult.\r\n\r\nMy code at the moment:\r\n\r\n    import java.io.File;\r\n    import java.io.IOException;\r\n    \r\n    public class CountRows {\r\n\r\n        public static void countorows() throws IOException {\r\n            var Query =&quot;COUNTROWS(FILTER(Customer_Data, Customer_Data[Age]&gt;=18\\r\\n&quot;\r\n            \t\t+ &quot;&amp;&amp; Customer_Data[IsActiveMember]=1))&quot;;\r\n          \r\n            ReadFile file = new ReadFile(new File(&quot;file location&quot;));\r\n            var teste = file.getcustomers();\r\n            System.out.println(teste.size());\r\n        }\r\n    }\r\n\r\n\r\ncsv file (it has 10.000 lines like this): `\r\n```none\r\nRowNumber,CustomerId,Surname,CreditScore,Geography,Gender,Age,Tenure,Balance,NumOfProducts,HasCrCard,IsActiveMember,EstimatedSalary,Exited\r\n1,15634602,Hargrave,619,France,Female,42,2,0,1,1,1,101348.88,1\r\n2,15647311,Hill,608,Spain,Female,41,1,83807.86,1,0,1,112542.58,0\r\n3,15619304,Onio,502,France,Female,42,8,159660.8,3,1,0,113931.57,1\r\n3,15619304,Onio,502,France,Female,42,8,159660.8,3,1,0,113931.57,2\r\n3,15619304,Onio,502,France,Female,42,8,159660.8,3,1,0,113931.57,3\r\n3,15619304,Onio,502,France,Female,42,8,159660.8,3,1,0,113931.57,4\r\n3,15619304,Onio,502,France,Female,42,8,159660.8,3,1,0,113931.57,5\r\n3,15619304,Onio,502,France,Female,42,8,159660.8,3,1,0,113931.57,6\r\n```\r\n","title":"How can I make a filter between 2 columns on the same csv file in java?","body":"<p>Hello I have a java class that counts all rows from a csv file.\nBut now I need to create a filter so it only counts a certain amount of rows, depending on the condition in the filter.</p>\n<p>Something like this:</p>\n<pre><code>COUNTROWS(FILTER(Customer_Data, Customer_Data[Age]&gt;=18\n&amp;&amp; Customer_Data[IsActiveMember]=1))\n</code></pre>\n<p>I am learning java now and this is quite dificult.</p>\n<p>My code at the moment:</p>\n<pre><code>import java.io.File;\nimport java.io.IOException;\n\npublic class CountRows {\n\n    public static void countorows() throws IOException {\n        var Query =&quot;COUNTROWS(FILTER(Customer_Data, Customer_Data[Age]&gt;=18\\r\\n&quot;\n                + &quot;&amp;&amp; Customer_Data[IsActiveMember]=1))&quot;;\n      \n        ReadFile file = new ReadFile(new File(&quot;file location&quot;));\n        var teste = file.getcustomers();\n        System.out.println(teste.size());\n    }\n}\n</code></pre>\n<p>csv file (it has 10.000 lines like this): `</p>\n<pre class=\"lang-none prettyprint-override\"><code>RowNumber,CustomerId,Surname,CreditScore,Geography,Gender,Age,Tenure,Balance,NumOfProducts,HasCrCard,IsActiveMember,EstimatedSalary,Exited\n1,15634602,Hargrave,619,France,Female,42,2,0,1,1,1,101348.88,1\n2,15647311,Hill,608,Spain,Female,41,1,83807.86,1,0,1,112542.58,0\n3,15619304,Onio,502,France,Female,42,8,159660.8,3,1,0,113931.57,1\n3,15619304,Onio,502,France,Female,42,8,159660.8,3,1,0,113931.57,2\n3,15619304,Onio,502,France,Female,42,8,159660.8,3,1,0,113931.57,3\n3,15619304,Onio,502,France,Female,42,8,159660.8,3,1,0,113931.57,4\n3,15619304,Onio,502,France,Female,42,8,159660.8,3,1,0,113931.57,5\n3,15619304,Onio,502,France,Female,42,8,159660.8,3,1,0,113931.57,6\n</code></pre>\n"},{"tags":["java","eclipse","maven","tomcat"],"comments":[{"owner":{"account_id":13796,"reputation":19353,"user_id":27905,"display_name":"nitind"},"score":0,"creation_date":1643125050,"post_id":70851300,"comment_id":125253594,"body_markdown":"Which version of Java are you using to run Maven?","body":"Which version of Java are you using to run Maven?"},{"owner":{"account_id":13152102,"reputation":13,"user_id":9500388,"display_name":"Muhammet A&#199;IK"},"score":0,"creation_date":1643125288,"post_id":70851300,"comment_id":125253693,"body_markdown":"Ä±&#39;m using java 11","body":"Ä±&#39;m using java 11"},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1643126372,"post_id":70851300,"comment_id":125254231,"body_markdown":"First mixing several versions of spring boot (not using spring boot parent? might be eaiser) furthermore having plugins as dependencies (simply wrong)..Also which Maven version do you use ? Have you correctly set JAVA_HOME ? Running from plain console or from within your IDE? Are you behind a proxy / firewall (corporate environment?) .. ?","body":"First mixing several versions of spring boot (not using spring boot parent? might be eaiser) furthermore having plugins as dependencies (simply wrong)..Also which Maven version do you use ? Have you correctly set JAVA_HOME ? Running from plain console or from within your IDE? Are you behind a proxy / firewall (corporate environment?) .. ?"},{"owner":{"account_id":13152102,"reputation":13,"user_id":9500388,"display_name":"Muhammet A&#199;IK"},"score":0,"creation_date":1643176271,"post_id":70851300,"comment_id":125267454,"body_markdown":"I&#39;m working from console , I set java_home correctly , not existing any proxy or firewall , apache maven version 3.8.4 and not using sprin boot parent . I&#39;m about to go crazy if I don&#39;t solve this mistake","body":"I&#39;m working from console , I set java_home correctly , not existing any proxy or firewall , apache maven version 3.8.4 and not using sprin boot parent . I&#39;m about to go crazy if I don&#39;t solve this mistake"}],"owner":{"account_id":13152102,"reputation":13,"user_id":9500388,"display_name":"Muhammet A&#199;IK"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":277,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1643124410,"creation_date":1643124410,"question_id":70851300,"body_markdown":"I&#39;m trying to deploy my maven project on the application server with apache tomcat. This is my first maven project and I don&#39;t think I will use maven again. After getting too many errors and solving it, the output of the latest error is as follows. I get this error when I run the mvn install command.\r\n\r\n&gt; Plugin.org.apache.maven.plugins:maven-resources-plugin:2.6 or one of\r\n&gt; its dependencies could not be resolved:Failed to read artifact\r\n&gt; descriptor for\r\n&gt; org.apache.maven.plugins:maven-resources-plugin:jar:2.6:Could not\r\n&gt; transfer artifact org.apache.maven.plugins:maven-resources-plugin:pom\r\n&gt; 2.6 from/to central &lt;https://repo1.maven.org/maven2&gt;:transfer failed to\r\n&gt; https://repo1.maven.org/maven2/org/apache/maven/plugins/maven-resources-plugin/2.6/maven-resources-plugin-2.6.pom:\r\n&gt; PKIX path building failed\r\n&gt; :sun.security.provider.certpath.SunCertPathBuildException: unable to\r\n&gt; find valid certification path to requested target.\r\n\r\nmy pom file is as follows : \r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;groupId&gt;level3&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;reports&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;packaging&gt;war&lt;/packaging&gt;\r\n    \t&lt;name&gt;reports&lt;/name&gt;\r\n    \t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n    \t&lt;properties&gt;\r\n    \t\t&lt;java.version&gt;11&lt;/java.version&gt;\r\n    \t\t&lt;lombok-version&gt;1.18.20&lt;/lombok-version&gt;\r\n         &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\r\n         &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\r\n    \t&lt;/properties&gt;\r\n    \t&lt;dependencies&gt;\r\n    \t&lt;dependency&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-source-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;2.6&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.5.4&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.5.4&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n      &lt;groupId&gt;com.oracle.database.jdbc&lt;/groupId&gt;\r\n      &lt;artifactId&gt;ojdbc10&lt;/artifactId&gt;\r\n      &lt;version&gt;19.3.0.0&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n    \t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n    \t\t\t&lt;version&gt;2.5.4&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n    \t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n    \t\t\t&lt;version&gt;1.18.20&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t\t&lt;version&gt;2.5.4&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n               &lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n               &lt;artifactId&gt;springfox-swagger2&lt;/artifactId&gt;\r\n            &lt;version&gt;3.0.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n        &lt;artifactId&gt;springfox-swagger-ui&lt;/artifactId&gt;\r\n        &lt;version&gt;2.9.2&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n    \t\r\n    \t&lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;2.3.4.RELEASE&lt;/version&gt;\r\n        &lt;/plugin&gt;\r\n    \t\t &lt;plugin&gt;\r\n              &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\r\n              &lt;version&gt;2.6&lt;/version&gt;\r\n            &lt;/plugin&gt;  \r\n    \r\n    \t &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.tomcat.maven&lt;/groupId&gt;\r\n                &lt;artifactId&gt;tomcat7-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.0.0&lt;/version&gt;\r\n            &lt;/plugin&gt;\r\n    \t&lt;plugin&gt;   \r\n    \t&lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;   \r\n    \t&lt;version&gt;3.2.3&lt;/version&gt; \r\n    \t&lt;/plugin&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t&lt;excludes&gt;\r\n    \t\t\t\t\t\t&lt;exclude&gt;\r\n    \t\t\t\t\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n    \t\t\t\t\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n    \t\t\t\t\t\t&lt;/exclude&gt;\r\n    \t\t\t\t\t&lt;/excludes&gt;\r\n    \t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    \r\n    \r\n    &lt;/project&gt;\r\n\r\nalso there is no company proxy setting. I&#39;ve seen this in some solutions and it didn&#39;t work.\r\n\r\nhow can i fix this error?","title":"maven install error : 2.6 or one of it&#39;s dependicies could not be resolved","body":"<p>I'm trying to deploy my maven project on the application server with apache tomcat. This is my first maven project and I don't think I will use maven again. After getting too many errors and solving it, the output of the latest error is as follows. I get this error when I run the mvn install command.</p>\n<blockquote>\n<p>Plugin.org.apache.maven.plugins:maven-resources-plugin:2.6 or one of\nits dependencies could not be resolved:Failed to read artifact\ndescriptor for\norg.apache.maven.plugins:maven-resources-plugin:jar:2.6:Could not\ntransfer artifact org.apache.maven.plugins:maven-resources-plugin:pom\n2.6 from/to central <a href=\"https://repo1.maven.org/maven2\" rel=\"nofollow noreferrer\">https://repo1.maven.org/maven2</a>:transfer failed to\n<a href=\"https://repo1.maven.org/maven2/org/apache/maven/plugins/maven-resources-plugin/2.6/maven-resources-plugin-2.6.pom\" rel=\"nofollow noreferrer\">https://repo1.maven.org/maven2/org/apache/maven/plugins/maven-resources-plugin/2.6/maven-resources-plugin-2.6.pom</a>:\nPKIX path building failed\n:sun.security.provider.certpath.SunCertPathBuildException: unable to\nfind valid certification path to requested target.</p>\n</blockquote>\n<p>my pom file is as follows :</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;level3&lt;/groupId&gt;\n    &lt;artifactId&gt;reports&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;war&lt;/packaging&gt;\n    &lt;name&gt;reports&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;11&lt;/java.version&gt;\n        &lt;lombok-version&gt;1.18.20&lt;/lombok-version&gt;\n     &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\n     &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n    &lt;dependency&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-source-plugin&lt;/artifactId&gt;\n    &lt;version&gt;2.6&lt;/version&gt;\n&lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n            &lt;version&gt;2.5.4&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n            &lt;version&gt;2.5.4&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n  &lt;groupId&gt;com.oracle.database.jdbc&lt;/groupId&gt;\n  &lt;artifactId&gt;ojdbc10&lt;/artifactId&gt;\n  &lt;version&gt;19.3.0.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n            &lt;version&gt;2.5.4&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n            &lt;version&gt;1.18.20&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n            &lt;version&gt;2.5.4&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n           &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n           &lt;artifactId&gt;springfox-swagger2&lt;/artifactId&gt;\n        &lt;version&gt;3.0.0&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n    &lt;artifactId&gt;springfox-swagger-ui&lt;/artifactId&gt;\n    &lt;version&gt;2.9.2&lt;/version&gt;\n&lt;/dependency&gt;\n    &lt;/dependencies&gt;\n    \n    &lt;build&gt;\n        &lt;plugins&gt;\n        &lt;plugin&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n        &lt;version&gt;2.3.4.RELEASE&lt;/version&gt;\n    &lt;/plugin&gt;\n         &lt;plugin&gt;\n          &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\n          &lt;version&gt;2.6&lt;/version&gt;\n        &lt;/plugin&gt;  \n\n     &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.tomcat.maven&lt;/groupId&gt;\n            &lt;artifactId&gt;tomcat7-maven-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.0.0&lt;/version&gt;\n        &lt;/plugin&gt;\n    &lt;plugin&gt;   \n    &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;   \n    &lt;version&gt;3.2.3&lt;/version&gt; \n    &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n\n&lt;/project&gt;\n</code></pre>\n<p>also there is no company proxy setting. I've seen this in some solutions and it didn't work.</p>\n<p>how can i fix this error?</p>\n"},{"tags":["java","spring","spring-boot","spring-webflux"],"comments":[{"owner":{"account_id":2064278,"reputation":13129,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1643119242,"post_id":70846501,"comment_id":125250835,"body_markdown":"You cant return a nested flux in a dto You should return a Flux&lt;WorkerDto&gt;","body":"You cant return a nested flux in a dto You should return a Flux&lt;WorkerDto&gt;"}],"answers":[{"tags":[],"owner":{"account_id":22354823,"reputation":16499,"user_id":16572295,"display_name":"Jo&#227;o Dias"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1643123950,"creation_date":1643123950,"answer_id":70851197,"question_id":70846501,"body_markdown":"You need to do some changes. First, drop `Flux` inside `WorkerDTO` and replace it with `List` as follows:\r\n```java\r\n@Builder\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@Data\r\n@ToString(includeFieldNames = true)\r\npublic class WorkerDTO {\r\n    \r\n    ...\r\n\r\n    private List&lt;WorkerAddressDTO&gt; workerAddress;\r\n}\r\n```\r\n\r\nThen, you need to change your `ServiceImpl` code as follows:\r\n```java\r\n@Override\r\npublic Flux&lt;WorkerDTO&gt; method() {\r\n    Flux&lt;EmploymentDTO&gt; employmentDTOFlux = findAllEmployment();\r\n    Flux&lt;WorkerDTO&gt; workerDTOFlux = getWorkerDetailsWithEmploymentStatus(employmentDTOFlux);\r\n    return workerDTOFlux.flatMap(workerDTO -&gt; {\r\n         return getAllWorkerAddressDetailsByWorkerId(workerDTO.getWorkerId()).collectList()\r\n            .map(workerAddresses -&gt; workerDTO.setWorkerAddress(workerAddresses));\r\n    });\r\n}\r\n```","title":"Spring reactive returns scanAvailable and prefetch instead of object","body":"<p>You need to do some changes. First, drop <code>Flux</code> inside <code>WorkerDTO</code> and replace it with <code>List</code> as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Builder\n@NoArgsConstructor\n@AllArgsConstructor\n@Data\n@ToString(includeFieldNames = true)\npublic class WorkerDTO {\n    \n    ...\n\n    private List&lt;WorkerAddressDTO&gt; workerAddress;\n}\n</code></pre>\n<p>Then, you need to change your <code>ServiceImpl</code> code as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\npublic Flux&lt;WorkerDTO&gt; method() {\n    Flux&lt;EmploymentDTO&gt; employmentDTOFlux = findAllEmployment();\n    Flux&lt;WorkerDTO&gt; workerDTOFlux = getWorkerDetailsWithEmploymentStatus(employmentDTOFlux);\n    return workerDTOFlux.flatMap(workerDTO -&gt; {\n         return getAllWorkerAddressDetailsByWorkerId(workerDTO.getWorkerId()).collectList()\n            .map(workerAddresses -&gt; workerDTO.setWorkerAddress(workerAddresses));\n    });\n}\n</code></pre>\n"}],"owner":{"account_id":23392463,"reputation":183,"user_id":17456952,"display_name":"anonymous"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1402,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":70851197,"answer_count":1,"score":0,"last_activity_date":1643123950,"creation_date":1643104157,"question_id":70846501,"body_markdown":"I have a REST API developed with Spring Reactive as below and when it returns the response it does have scanAvailable and prefetch instead of object details. We have individually APIs for the used methods below findAllEmployment, getAllWorkerAddressDetailsByWorkerId and it do return the proper response. Not sure what is wrong when I have combined them. \r\n\r\n**WorkerDTO.java**\r\n\r\n    @Builder\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    @Data\r\n    @ToString(includeFieldNames = true)\r\n    public class WorkerDTO {\r\n        \r\n        ...\r\n    \r\n        private Flux&lt;WorkerAddressDTO&gt; workerAddress;\r\n    \r\n    }\r\n\r\n**ServiceImpl.java**\r\n```java\r\n@Override\r\npublic Flux&lt;WorkerDTO&gt; method() {\r\n  Flux&lt;EmploymentDTO&gt; employmentDTOFlux = findAllEmployment();\r\n  Flux&lt;WorkerDTO&gt; workerDTOFlux = getWorkerDetailsWithEmploymentStatus(employmentDTOFlux);\r\n  return workerDTOFlux.flatMap(workerDTO -&gt; {\r\n    workerDTO.setWorkerAddress(getAllWorkerAddressDetailsByWorkerId(workerDTO.getWorkerId()).map(workerAddressDTO -&gt; workerAddressDTO));\r\n     return Flux.just(workerDTO);\r\n  });\r\n}\r\n```\r\n\r\nCurrent Response:\r\n\r\n    [\r\n        {\r\n            &quot;xyz&quot;: &quot;abc&quot;,\r\n            &quot;workerAddress&quot;: {\r\n                &quot;scanAvailable&quot;: true,\r\n                &quot;prefetch&quot;: -1\r\n            }\r\n        },\r\n        {\r\n           &quot;xyz&quot;: &quot;qwe&quot;,\r\n            &quot;workerAddress&quot;: {\r\n                &quot;scanAvailable&quot;: true,\r\n                &quot;prefetch&quot;: -1\r\n            }\r\n        } \r\n    ]\r\n\r\nExpected Response:\r\n\r\n    [\r\n        {\r\n            &quot;xyz&quot;: &quot;abc&quot;,\r\n            &quot;workerAddress&quot;: {\r\n                &quot;key1&quot;: &quot;value1&quot;,\r\n                &quot;key2&quot;: &quot;value2&quot;\r\n            }\r\n        },\r\n        {\r\n           &quot;xyz&quot;: &quot;qwe&quot;,\r\n            &quot;workerAddress&quot;: {\r\n                &quot;key1&quot;: &quot;value1&quot;,\r\n                &quot;key2&quot;: &quot;value2&quot;\r\n            }\r\n        } \r\n    ]","title":"Spring reactive returns scanAvailable and prefetch instead of object","body":"<p>I have a REST API developed with Spring Reactive as below and when it returns the response it does have scanAvailable and prefetch instead of object details. We have individually APIs for the used methods below findAllEmployment, getAllWorkerAddressDetailsByWorkerId and it do return the proper response. Not sure what is wrong when I have combined them.</p>\n<p><strong>WorkerDTO.java</strong></p>\n<pre><code>@Builder\n@NoArgsConstructor\n@AllArgsConstructor\n@Data\n@ToString(includeFieldNames = true)\npublic class WorkerDTO {\n    \n    ...\n\n    private Flux&lt;WorkerAddressDTO&gt; workerAddress;\n\n}\n</code></pre>\n<p><strong>ServiceImpl.java</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\npublic Flux&lt;WorkerDTO&gt; method() {\n  Flux&lt;EmploymentDTO&gt; employmentDTOFlux = findAllEmployment();\n  Flux&lt;WorkerDTO&gt; workerDTOFlux = getWorkerDetailsWithEmploymentStatus(employmentDTOFlux);\n  return workerDTOFlux.flatMap(workerDTO -&gt; {\n    workerDTO.setWorkerAddress(getAllWorkerAddressDetailsByWorkerId(workerDTO.getWorkerId()).map(workerAddressDTO -&gt; workerAddressDTO));\n     return Flux.just(workerDTO);\n  });\n}\n</code></pre>\n<p>Current Response:</p>\n<pre><code>[\n    {\n        &quot;xyz&quot;: &quot;abc&quot;,\n        &quot;workerAddress&quot;: {\n            &quot;scanAvailable&quot;: true,\n            &quot;prefetch&quot;: -1\n        }\n    },\n    {\n       &quot;xyz&quot;: &quot;qwe&quot;,\n        &quot;workerAddress&quot;: {\n            &quot;scanAvailable&quot;: true,\n            &quot;prefetch&quot;: -1\n        }\n    } \n]\n</code></pre>\n<p>Expected Response:</p>\n<pre><code>[\n    {\n        &quot;xyz&quot;: &quot;abc&quot;,\n        &quot;workerAddress&quot;: {\n            &quot;key1&quot;: &quot;value1&quot;,\n            &quot;key2&quot;: &quot;value2&quot;\n        }\n    },\n    {\n       &quot;xyz&quot;: &quot;qwe&quot;,\n        &quot;workerAddress&quot;: {\n            &quot;key1&quot;: &quot;value1&quot;,\n            &quot;key2&quot;: &quot;value2&quot;\n        }\n    } \n]\n</code></pre>\n"},{"tags":["java","sorting","collections","comparator","comparable"],"comments":[{"owner":{"display_name":"user14215102"},"score":0,"creation_date":1643100798,"post_id":70845727,"comment_id":125243864,"body_markdown":"How to write a two-criteria compareTo: https://stackoverflow.com/a/30041805/14215102","body":"How to write a two-criteria compareTo: <a href=\"https://stackoverflow.com/a/30041805/14215102\">stackoverflow.com/a/30041805/14215102</a>"},{"owner":{"account_id":8803777,"reputation":2946,"user_id":6579116,"accept_rate":27,"display_name":"Pirate"},"score":0,"creation_date":1643101135,"post_id":70845727,"comment_id":125244012,"body_markdown":"Does this answer your question? [Java comparator: Two ordering criteria](https://stackoverflow.com/questions/16959072/java-comparator-two-ordering-criteria)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/16959072/java-comparator-two-ordering-criteria\">Java comparator: Two ordering criteria</a>"},{"owner":{"display_name":"user6073886"},"score":0,"creation_date":1643103381,"post_id":70845727,"comment_id":125244915,"body_markdown":"@Pirate: The natural order of a class is defined by implementing [java.lang.Comparable](https://docs.oracle.com/javase/8/docs/api/java/lang/Comparable.html) and not by using java.util.Comparator. Although the logic is similar since the question requires implementing a natural order in the class the linked question doesn&#39;t really fit 100%.","body":"@Pirate: The natural order of a class is defined by implementing <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Comparable.html\" rel=\"nofollow noreferrer\">java.lang.Comparable</a> and not by using java.util.Comparator. Although the logic is similar since the question requires implementing a natural order in the class the linked question doesn&#39;t really fit 100%."}],"answers":[{"tags":[],"owner":{"account_id":18243171,"reputation":19300,"user_id":13279831,"display_name":"Nowhere Man"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1643116945,"creation_date":1643116945,"answer_id":70849365,"question_id":70845727,"body_markdown":"First, `HashSet` [does NOT maintain any order](https://docs.oracle.com/javase/8/docs/api/java/util/HashSet.html):\r\n&gt; It makes no guarantees as to the iteration order of the set; in particular, it does not guarantee that the order will remain constant over time\r\n----\r\nThe implementation of a `SortedSet` is `TreeSet` which may use a natural order for objects implementing `Comparable` interface (thus implementing `compareTo` method), or a custom comparator via constructor [`public TreeSet(Comparator&lt;? super E&gt; comparator)`](https://docs.oracle.com/javase/8/docs/api/java/util/TreeSet.html#TreeSet-java.util.Comparator-)\r\n\r\nSo, class `WeeklyDataProper` may implement `Comparable` interface as follows (null checks omitted here):\r\n```java\r\npublic class WeeklyDataProper extends WeeklyData implements Comparable&lt;WeeklyDataProper&gt; {\r\n    // getters getCountry / getWeek implemented in the parent\r\n    // ...\r\n\r\n    @Override\r\n    public void int compareTo(WeeklyDataProper that) {\r\n        int result = this.getCountry().compareTo(that.getCountry());\r\n        if (result == 0) {\r\n            result = Integer.compare(this.getWeek(), that.getWeek());\r\n        }\r\n        return result;\r\n    }\r\n}\r\n```\r\nHowever, it may be a bit redundant to implement a separate subclass just to sort the set of `WeeklyData`, therefore the sorted set of `WeeklyData` may be retrieved with the custom comparator:\r\n```java\r\nSortedSet&lt;WeeklyData&gt; sorted = new TreeSet&lt;&gt;(\r\n    Comparator.&lt;WeeklyData&gt;comparing(WeeklyData::getCountry)\r\n        .thenComparingInt(WeeklyData::getWeek)\r\n);\r\n```","title":"The default (natural) sorting order is: Country and then Week","body":"<p>First, <code>HashSet</code> <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/HashSet.html\" rel=\"nofollow noreferrer\">does NOT maintain any order</a>:</p>\n<blockquote>\n<p>It makes no guarantees as to the iteration order of the set; in particular, it does not guarantee that the order will remain constant over time</p>\n</blockquote>\n<hr />\n<p>The implementation of a <code>SortedSet</code> is <code>TreeSet</code> which may use a natural order for objects implementing <code>Comparable</code> interface (thus implementing <code>compareTo</code> method), or a custom comparator via constructor <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/TreeSet.html#TreeSet-java.util.Comparator-\" rel=\"nofollow noreferrer\"><code>public TreeSet(Comparator&lt;? super E&gt; comparator)</code></a></p>\n<p>So, class <code>WeeklyDataProper</code> may implement <code>Comparable</code> interface as follows (null checks omitted here):</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class WeeklyDataProper extends WeeklyData implements Comparable&lt;WeeklyDataProper&gt; {\n    // getters getCountry / getWeek implemented in the parent\n    // ...\n\n    @Override\n    public void int compareTo(WeeklyDataProper that) {\n        int result = this.getCountry().compareTo(that.getCountry());\n        if (result == 0) {\n            result = Integer.compare(this.getWeek(), that.getWeek());\n        }\n        return result;\n    }\n}\n</code></pre>\n<p>However, it may be a bit redundant to implement a separate subclass just to sort the set of <code>WeeklyData</code>, therefore the sorted set of <code>WeeklyData</code> may be retrieved with the custom comparator:</p>\n<pre class=\"lang-java prettyprint-override\"><code>SortedSet&lt;WeeklyData&gt; sorted = new TreeSet&lt;&gt;(\n    Comparator.&lt;WeeklyData&gt;comparing(WeeklyData::getCountry)\n        .thenComparingInt(WeeklyData::getWeek)\n);\n</code></pre>\n"}],"owner":{"account_id":24046898,"reputation":19,"user_id":18025822,"display_name":"nme"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":147,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1643123604,"creation_date":1643100449,"question_id":70845727,"body_markdown":"Implement the class: `WeeklyDataProper` that extends the class `WeeklyData`.  \r\n\r\nRequirements:\r\n\r\n- The default (natural) sorting order is: Country and then Week\r\n- The class could be properly used in a `HashSet` collection. Two objects are considered equal if they have the same Country and Week attributes.\r\n\r\n**How can I do the first part of the question? by `compareTo` method?**\r\n\r\nRight now the result is:\r\n```lang-none\r\nint week, String country\r\n```\r\n\r\nI need : \r\n```lang-none\r\nString country, int week\r\n```\r\n","title":"The default (natural) sorting order is: Country and then Week","body":"<p>Implement the class: <code>WeeklyDataProper</code> that extends the class <code>WeeklyData</code>.</p>\n<p>Requirements:</p>\n<ul>\n<li>The default (natural) sorting order is: Country and then Week</li>\n<li>The class could be properly used in a <code>HashSet</code> collection. Two objects are considered equal if they have the same Country and Week attributes.</li>\n</ul>\n<p><strong>How can I do the first part of the question? by <code>compareTo</code> method?</strong></p>\n<p>Right now the result is:</p>\n<pre class=\"lang-none prettyprint-override\"><code>int week, String country\n</code></pre>\n<p>I need :</p>\n<pre class=\"lang-none prettyprint-override\"><code>String country, int week\n</code></pre>\n"},{"tags":["javascript","java","jquery","postgresql","datatables"],"answers":[{"tags":[],"owner":{"account_id":14399380,"reputation":245,"user_id":10401602,"display_name":"Md. Samim hossain"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1643093533,"creation_date":1643093533,"answer_id":70844462,"question_id":70844214,"body_markdown":"You should write the first table like this format because data table follow this format:\r\n\r\n\r\n    &lt;table id=&quot;ex&quot;&gt;\r\n\t&lt;thead&gt;\r\n\t\t&lt;tr&gt;&lt;/tr&gt;\r\n\t\t&lt;tr&gt;&lt;/tr&gt;\r\n\t\t&lt;tr&gt;&lt;/tr&gt;\r\n\t&lt;/thead&gt;\r\n\t&lt;tbody&gt;\r\n\t\t&lt;td&gt;&lt;/td&gt;\r\n\t\t&lt;td&gt;&lt;/td&gt;\r\n\t\t&lt;td&gt;&lt;/td&gt;\r\n\t&lt;/tbody&gt;\r\n    &lt;/table&gt;\r\n\r\n","title":"Search, pagination and sorting features not applying to datatable","body":"<p>You should write the first table like this format because data table follow this format:</p>\n<pre><code>&lt;table id=&quot;ex&quot;&gt;\n&lt;thead&gt;\n    &lt;tr&gt;&lt;/tr&gt;\n    &lt;tr&gt;&lt;/tr&gt;\n    &lt;tr&gt;&lt;/tr&gt;\n&lt;/thead&gt;\n&lt;tbody&gt;\n    &lt;td&gt;&lt;/td&gt;\n    &lt;td&gt;&lt;/td&gt;\n    &lt;td&gt;&lt;/td&gt;\n&lt;/tbody&gt;\n&lt;/table&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9298667,"reputation":152,"user_id":6904872,"display_name":"Naresh Sharma"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1643123551,"creation_date":1643123077,"answer_id":70850960,"question_id":70844214,"body_markdown":"Start the &lt;c:forEach&gt; inside the &#39;tbody &#39;\r\nand close it before closing the &#39;tbody&#39;, hope this helps","title":"Search, pagination and sorting features not applying to datatable","body":"<p>Start the &lt;c:forEach&gt; inside the 'tbody '\nand close it before closing the 'tbody', hope this helps</p>\n"}],"owner":{"account_id":12174625,"reputation":72,"user_id":8888081,"display_name":"Anish Narayan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1849,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70850960,"answer_count":2,"score":0,"last_activity_date":1643123551,"creation_date":1643091777,"question_id":70844214,"body_markdown":"I&#39;m using the PostgreSQL database and attempting to display details from the database in a JSP page using a data table. The issue here it displays only the database information but pagination, sorting and searching features are not getting implemented for the data table. I have looked for solutions but it still doesn&#39;t work.\r\n\r\n    &lt;%@ page language=&quot;java&quot; contentType=&quot;text/html; charset=ISO-8859-1&quot;\r\n        pageEncoding=&quot;ISO-8859-1&quot;%&gt;\r\n    &lt;%@ taglib uri=&quot;http://java.sun.com/jsp/jstl/core&quot; prefix=&quot;c&quot; %&gt;\r\n    &lt;%@ page import=&quot;java.util.*, com.luv2code.web.jdbc.*&quot; %&gt;\r\n    &lt;!DOCTYPE html&gt;\r\n    &lt;html&gt;\r\n    &lt;head&gt;\r\n    &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=UTF-8&quot;&gt;\r\n    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1&quot;&gt;\r\n    &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=ISO-8859-1&quot;&gt;\r\n    &lt;link href=&quot;https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/5.0.1/css/bootstrap.min.css&quot; rel=&quot;stylesheet&quot;&gt;\r\n    &lt;link href=&quot;https://cdn.datatables.net/1.11.4/css/dataTables.bootstrap5.min.css&quot; rel=&quot;stylesheet&quot;&gt;\r\n    &lt;title&gt;Update student&lt;/title&gt;\r\n    &lt;/head&gt;\r\n    &lt;body&gt;\r\n    &lt;table id=&quot;ex&quot; class=&quot;table table-striped&quot; style=&quot;width:100%&quot;&gt;\r\n        &lt;thead&gt;\r\n    \t\t\t\t&lt;tr&gt;\r\n    \t\t\t\t\t&lt;th&gt;Ecode&lt;/th&gt;\r\n    \t\t\t\t\t&lt;th&gt;Ename&lt;/th&gt;\r\n    \t\t\t\t\t&lt;th&gt;Gender&lt;/th&gt;\r\n    \t\t\t\t\t&lt;th&gt;DOB&lt;/th&gt;\r\n    \t\t\t\t\t&lt;th&gt;Designation&lt;/th&gt;\r\n    \t\t\t\t\t&lt;th&gt;Salary&lt;/th&gt;\r\n    \t\t\t\t\t&lt;th&gt;Action&lt;/th&gt;\r\n    \t\t\t\t&lt;/tr&gt;\r\n       &lt;/thead&gt;\t\r\n    \t\t\t\t&lt;c:forEach var=&quot;tempStudent&quot; items=&quot;${STUDENT_LIST}&quot;&gt;\r\n    \t\t\t\t\t\r\n    \t\t\t\t\t&lt;!-- set up a link for each row --&gt;\r\n    \t\t\t\t\t&lt;c:url var=&quot;tempLink&quot; value=&quot;StudentControllerServlet&quot;&gt;\r\n    \t\t\t\t\t\t&lt;c:param name=&quot;command&quot; value=&quot;LOAD&quot; /&gt;\r\n    \t\t\t\t\t\t&lt;c:param name=&quot;studentId&quot; value=&quot;${tempStudent.id}&quot; /&gt;\r\n    \t\t\t\t\t&lt;/c:url&gt;\r\n\r\n    \t\t\t\t\t&lt;!--  set up a link to delete a row --&gt;\r\n    \t\t\t\t\t&lt;c:url var=&quot;deleteLink&quot; value=&quot;StudentControllerServlet&quot;&gt;\r\n    \t\t\t\t\t\t&lt;c:param name=&quot;command&quot; value=&quot;DELETE&quot; /&gt;\r\n    \t\t\t\t\t\t&lt;c:param name=&quot;studentId&quot; value=&quot;${tempStudent.id}&quot; /&gt;\r\n    \t\t\t\t\t&lt;/c:url&gt;\r\n    \t        &lt;tbody&gt;\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n    \t\t\t\t\t&lt;tr&gt;\r\n    \t\t\t\t\t\t&lt;td&gt; ${tempStudent.ecode} &lt;/td&gt;\r\n    \t\t\t\t\t\t&lt;td&gt; ${tempStudent.ename} &lt;/td&gt;\r\n    \t\t\t\t\t\t&lt;td&gt; ${tempStudent.gender} &lt;/td&gt;\r\n    \t\t\t\t\t\t&lt;td&gt; ${tempStudent.birthday} &lt;/td&gt;\r\n    \t\t\t\t\t\t&lt;td&gt; ${tempStudent.designation} &lt;/td&gt;\r\n    \t\t\t\t\t\t&lt;td&gt; ${tempStudent.currency} &lt;/td&gt;\t\t\t\t\t\t\r\n    \t\t\t\t\t\t&lt;td&gt; \r\n    \t\t\t\t\t\t\t&lt;a href=&quot;${tempLink}&quot;&gt;Update&lt;/a&gt; \r\n    \t\t\t\t\t\t\t | \r\n    \t\t\t\t\t\t\t&lt;a href=&quot;${deleteLink}&quot;\r\n    \t\t\t\t\t\t\tonclick=&quot;if (!(confirm(&#39;Are you sure you want to delete this student?&#39;))) return false&quot;&gt;\r\n    \t\t\t\t\t\t\tDelete&lt;/a&gt;\t\r\n    \t\t\t\t\t\t&lt;/td&gt;\r\n    \t\t\t\t\t&lt;/tr&gt;\r\n    \t\t\t&lt;/tbody&gt;\t\r\n    \t\t\t\t&lt;/c:forEach&gt;\r\n    \t\t\t\t\r\n    \t\t\t&lt;/table&gt;\r\n        &lt;script src=&quot;https://code.jquery.com/jquery-3.5.1.js&quot;&gt;&lt;/script&gt;\r\n    \t&lt;script src=&quot;https://cdn.datatables.net/1.11.4/js/jquery.dataTables.min.js&quot;&gt;   &lt;/script&gt;\r\n    \t&lt;script src=&quot;https://cdn.datatables.net/1.11.4/js/dataTables.bootstrap5.min.js&quot;&gt;&lt;/script&gt;\r\n\r\n    \t&lt;script&gt;\r\n    \t$(document).ready(function() {\r\n    \t    $(&#39;#ex&#39;).DataTable();\r\n    \t} );\r\n        &lt;/script&gt;\r\n    &lt;/body&gt;\r\n    &lt;/html&gt;\r\n\r\nAlso one strange observation is, the search, sort and pagination features are applying if I replace the existing table with another table using the same table ID:\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    &lt;table id=&quot;ex&quot; class=&quot;table table-striped&quot; style=&quot;width:100%&quot;&gt;\r\n            &lt;thead&gt;\r\n                &lt;tr&gt;\r\n                    &lt;th&gt;Name&lt;/th&gt;\r\n                    &lt;th&gt;Position&lt;/th&gt;\r\n                    &lt;th&gt;Office&lt;/th&gt;\r\n                    &lt;th&gt;Age&lt;/th&gt;\r\n                    &lt;th&gt;Start date&lt;/th&gt;\r\n                    &lt;th&gt;Salary&lt;/th&gt;\r\n                &lt;/tr&gt;\r\n            &lt;/thead&gt;\r\n            &lt;tbody&gt;\r\n                &lt;tr&gt;\r\n                    &lt;td&gt;Tiger Nixon&lt;/td&gt;\r\n                    &lt;td&gt;System Architect&lt;/td&gt;\r\n                    &lt;td&gt;Edinburgh&lt;/td&gt;\r\n                    &lt;td&gt;61&lt;/td&gt;\r\n                    &lt;td&gt;2011/04/25&lt;/td&gt;\r\n                    &lt;td&gt;$320,800&lt;/td&gt;\r\n                &lt;/tr&gt;\r\n                &lt;tr&gt;\r\n                    &lt;td&gt;Garrett Winters&lt;/td&gt;\r\n                    &lt;td&gt;Accountant&lt;/td&gt;\r\n                    &lt;td&gt;Tokyo&lt;/td&gt;\r\n                    &lt;td&gt;63&lt;/td&gt;\r\n                    &lt;td&gt;2011/07/25&lt;/td&gt;\r\n                    &lt;td&gt;$170,750&lt;/td&gt;\r\n                &lt;/tr&gt;\r\n                &lt;tr&gt;\r\n                    &lt;td&gt;Ashton Cox&lt;/td&gt;\r\n                    &lt;td&gt;Junior Technical Author&lt;/td&gt;\r\n                    &lt;td&gt;San Francisco&lt;/td&gt;\r\n                    &lt;td&gt;66&lt;/td&gt;\r\n                    &lt;td&gt;2009/01/12&lt;/td&gt;\r\n                    &lt;td&gt;$86,000&lt;/td&gt;\r\n                &lt;/tr&gt;\r\n                &lt;tr&gt;\r\n                    &lt;td&gt;Cedric Kelly&lt;/td&gt;\r\n                    &lt;td&gt;Senior Javascript Developer&lt;/td&gt;\r\n                    &lt;td&gt;Edinburgh&lt;/td&gt;\r\n                    &lt;td&gt;22&lt;/td&gt;\r\n                    &lt;td&gt;2012/03/29&lt;/td&gt;\r\n                    &lt;td&gt;$433,060&lt;/td&gt;\r\n                &lt;/tr&gt;\r\n                &lt;tr&gt;\r\n                    &lt;td&gt;Airi Satou&lt;/td&gt;\r\n                    &lt;td&gt;Accountant&lt;/td&gt;\r\n                    &lt;td&gt;Tokyo&lt;/td&gt;\r\n                    &lt;td&gt;33&lt;/td&gt;\r\n                    &lt;td&gt;2008/11/28&lt;/td&gt;\r\n                    &lt;td&gt;$162,700&lt;/td&gt;\r\n                &lt;/tr&gt;\r\n                &lt;tr&gt;\r\n                    &lt;td&gt;Brielle Williamson&lt;/td&gt;\r\n                    &lt;td&gt;Integration Specialist&lt;/td&gt;\r\n                    &lt;td&gt;New York&lt;/td&gt;\r\n                    &lt;td&gt;61&lt;/td&gt;\r\n                    &lt;td&gt;2012/12/02&lt;/td&gt;\r\n                    &lt;td&gt;$372,000&lt;/td&gt;\r\n                &lt;/tr&gt;\r\n                &lt;tr&gt;\r\n                    &lt;td&gt;Herrod Chandler&lt;/td&gt;\r\n                    &lt;td&gt;Sales Assistant&lt;/td&gt;\r\n                    &lt;td&gt;San Francisco&lt;/td&gt;\r\n                    &lt;td&gt;59&lt;/td&gt;\r\n                    &lt;td&gt;2012/08/06&lt;/td&gt;\r\n                    &lt;td&gt;$137,500&lt;/td&gt;\r\n                &lt;/tr&gt;\r\n                &lt;tr&gt;\r\n                    &lt;td&gt;Rhona Davidson&lt;/td&gt;\r\n                    &lt;td&gt;Integration Specialist&lt;/td&gt;\r\n                    &lt;td&gt;Tokyo&lt;/td&gt;\r\n                    &lt;td&gt;55&lt;/td&gt;\r\n                    &lt;td&gt;2010/10/14&lt;/td&gt;\r\n                    &lt;td&gt;$327,900&lt;/td&gt;\r\n                &lt;/tr&gt;\r\n                &lt;tr&gt;\r\n                    &lt;td&gt;Colleen Hurst&lt;/td&gt;\r\n                    &lt;td&gt;Javascript Developer&lt;/td&gt;\r\n                    &lt;td&gt;San Francisco&lt;/td&gt;\r\n                    &lt;td&gt;39&lt;/td&gt;\r\n                    &lt;td&gt;2009/09/15&lt;/td&gt;\r\n                    &lt;td&gt;$205,500&lt;/td&gt;\r\n                &lt;/tr&gt;\r\n                &lt;tr&gt;\r\n                    &lt;td&gt;Sonya Frost&lt;/td&gt;\r\n                    &lt;td&gt;Software Engineer&lt;/td&gt;\r\n                    &lt;td&gt;Edinburgh&lt;/td&gt;\r\n                    &lt;td&gt;23&lt;/td&gt;\r\n                    &lt;td&gt;2008/12/13&lt;/td&gt;\r\n                    &lt;td&gt;$103,600&lt;/td&gt;\r\n                &lt;/tr&gt;\r\n                &lt;tr&gt;\r\n                    &lt;td&gt;Jena Gaines&lt;/td&gt;\r\n                    &lt;td&gt;Office Manager&lt;/td&gt;\r\n                    &lt;td&gt;London&lt;/td&gt;\r\n                    &lt;td&gt;30&lt;/td&gt;\r\n                    &lt;td&gt;2008/12/19&lt;/td&gt;\r\n                    &lt;td&gt;$90,560&lt;/td&gt;\r\n                &lt;/tr&gt;\r\n                &lt;tr&gt;\r\n                    &lt;td&gt;Quinn Flynn&lt;/td&gt;\r\n                    &lt;td&gt;Support Lead&lt;/td&gt;\r\n                    &lt;td&gt;Edinburgh&lt;/td&gt;\r\n                    &lt;td&gt;22&lt;/td&gt;\r\n                    &lt;td&gt;2013/03/03&lt;/td&gt;\r\n                    &lt;td&gt;$342,000&lt;/td&gt;\r\n                &lt;/tr&gt;\r\n                &lt;tr&gt;\r\n                    &lt;td&gt;Charde Marshall&lt;/td&gt;\r\n                    &lt;td&gt;Regional Director&lt;/td&gt;\r\n                    &lt;td&gt;San Francisco&lt;/td&gt;\r\n                    &lt;td&gt;36&lt;/td&gt;\r\n                    &lt;td&gt;2008/10/16&lt;/td&gt;\r\n                    &lt;td&gt;$470,600&lt;/td&gt;\r\n                &lt;/tr&gt;\r\n                &lt;tr&gt;\r\n                    &lt;td&gt;Haley Kennedy&lt;/td&gt;\r\n                    &lt;td&gt;Senior Marketing Designer&lt;/td&gt;\r\n                    &lt;td&gt;London&lt;/td&gt;\r\n                    &lt;td&gt;43&lt;/td&gt;\r\n                    &lt;td&gt;2012/12/18&lt;/td&gt;\r\n                    &lt;td&gt;$313,500&lt;/td&gt;\r\n                &lt;/tr&gt;\r\n                &lt;tr&gt;\r\n                    &lt;td&gt;Tatyana Fitzpatrick&lt;/td&gt;\r\n                    &lt;td&gt;Regional Director&lt;/td&gt;\r\n                    &lt;td&gt;London&lt;/td&gt;\r\n                    &lt;td&gt;19&lt;/td&gt;\r\n                    &lt;td&gt;2010/03/17&lt;/td&gt;\r\n                    &lt;td&gt;$385,750&lt;/td&gt;\r\n                &lt;/tr&gt;\r\n                &lt;tr&gt;\r\n                    &lt;td&gt;Michael Silva&lt;/td&gt;\r\n                    &lt;td&gt;Marketing Designer&lt;/td&gt;\r\n                    &lt;td&gt;London&lt;/td&gt;\r\n                    &lt;td&gt;66&lt;/td&gt;\r\n                    &lt;td&gt;2012/11/27&lt;/td&gt;\r\n                    &lt;td&gt;$198,500&lt;/td&gt;\r\n                &lt;/tr&gt;\r\n                &lt;tr&gt;\r\n                    &lt;td&gt;Paul Byrd&lt;/td&gt;\r\n                    &lt;td&gt;Chief Financial Officer (CFO)&lt;/td&gt;\r\n                    &lt;td&gt;New York&lt;/td&gt;\r\n                    &lt;td&gt;64&lt;/td&gt;\r\n                    &lt;td&gt;2010/06/09&lt;/td&gt;\r\n                    &lt;td&gt;$725,000&lt;/td&gt;\r\n                &lt;/tr&gt;\r\n                &lt;tr&gt;\r\n                    &lt;td&gt;Gloria Little&lt;/td&gt;\r\n                    &lt;td&gt;Systems Administrator&lt;/td&gt;\r\n                    &lt;td&gt;New York&lt;/td&gt;\r\n                    &lt;td&gt;59&lt;/td&gt;\r\n                    &lt;td&gt;2009/04/10&lt;/td&gt;\r\n                    &lt;td&gt;$237,500&lt;/td&gt;\r\n                &lt;/tr&gt;\r\n                &lt;tr&gt;\r\n                    &lt;td&gt;Bradley Greer&lt;/td&gt;\r\n                    &lt;td&gt;Software Engineer&lt;/td&gt;\r\n                    &lt;td&gt;London&lt;/td&gt;\r\n                    &lt;td&gt;41&lt;/td&gt;\r\n                    &lt;td&gt;2012/10/13&lt;/td&gt;\r\n                    &lt;td&gt;$132,000&lt;/td&gt;\r\n                &lt;/tr&gt;\r\n                &lt;tr&gt;\r\n                    &lt;td&gt;Dai Rios&lt;/td&gt;\r\n                    &lt;td&gt;Personnel Lead&lt;/td&gt;\r\n                    &lt;td&gt;Edinburgh&lt;/td&gt;\r\n                    &lt;td&gt;35&lt;/td&gt;\r\n                    &lt;td&gt;2012/09/26&lt;/td&gt;\r\n                    &lt;td&gt;$217,500&lt;/td&gt;\r\n                &lt;/tr&gt;\r\n                &lt;tr&gt;\r\n                    &lt;td&gt;Jenette Caldwell&lt;/td&gt;\r\n                    &lt;td&gt;Development Lead&lt;/td&gt;\r\n                    &lt;td&gt;New York&lt;/td&gt;\r\n                    &lt;td&gt;30&lt;/td&gt;\r\n                    &lt;td&gt;2011/09/03&lt;/td&gt;\r\n                    &lt;td&gt;$345,000&lt;/td&gt;\r\n                &lt;/tr&gt;\r\n                &lt;tr&gt;\r\n                    &lt;td&gt;Yuri Berry&lt;/td&gt;\r\n                    &lt;td&gt;Chief Marketing Officer (CMO)&lt;/td&gt;\r\n                    &lt;td&gt;New York&lt;/td&gt;\r\n                    &lt;td&gt;40&lt;/td&gt;\r\n                    &lt;td&gt;2009/06/25&lt;/td&gt;\r\n                    &lt;td&gt;$675,000&lt;/td&gt;\r\n                &lt;/tr&gt;\r\n                &lt;tr&gt;\r\n                    &lt;td&gt;Caesar Vance&lt;/td&gt;\r\n                    &lt;td&gt;Pre-Sales Support&lt;/td&gt;\r\n                    &lt;td&gt;New York&lt;/td&gt;\r\n                    &lt;td&gt;21&lt;/td&gt;\r\n                    &lt;td&gt;2011/12/12&lt;/td&gt;\r\n                    &lt;td&gt;$106,450&lt;/td&gt;\r\n                &lt;/tr&gt;\r\n                &lt;tr&gt;\r\n                    &lt;td&gt;Doris Wilder&lt;/td&gt;\r\n                    &lt;td&gt;Sales Assistant&lt;/td&gt;\r\n                    &lt;td&gt;Sydney&lt;/td&gt;\r\n                    &lt;td&gt;23&lt;/td&gt;\r\n                    &lt;td&gt;2010/09/20&lt;/td&gt;\r\n                    &lt;td&gt;$85,600&lt;/td&gt;\r\n                &lt;/tr&gt;\r\n                &lt;tr&gt;\r\n                    &lt;td&gt;Angelica Ramos&lt;/td&gt;\r\n                    &lt;td&gt;Chief Executive Officer (CEO)&lt;/td&gt;\r\n                    &lt;td&gt;London&lt;/td&gt;\r\n                    &lt;td&gt;47&lt;/td&gt;\r\n                    &lt;td&gt;2009/10/09&lt;/td&gt;\r\n                    &lt;td&gt;$1,200,000&lt;/td&gt;\r\n                &lt;/tr&gt;\r\n                &lt;tr&gt;\r\n                    &lt;td&gt;Gavin Joyce&lt;/td&gt;\r\n                    &lt;td&gt;Developer&lt;/td&gt;\r\n                    &lt;td&gt;Edinburgh&lt;/td&gt;\r\n                    &lt;td&gt;42&lt;/td&gt;\r\n                    &lt;td&gt;2010/12/22&lt;/td&gt;\r\n                    &lt;td&gt;$92,575&lt;/td&gt;\r\n                &lt;/tr&gt;\r\n                &lt;tr&gt;\r\n                    &lt;td&gt;Jennifer Chang&lt;/td&gt;\r\n                    &lt;td&gt;Regional Director&lt;/td&gt;\r\n                    &lt;td&gt;Singapore&lt;/td&gt;\r\n                    &lt;td&gt;28&lt;/td&gt;\r\n                    &lt;td&gt;2010/11/14&lt;/td&gt;\r\n                    &lt;td&gt;$357,650&lt;/td&gt;\r\n                &lt;/tr&gt;\r\n                &lt;tr&gt;\r\n                    &lt;td&gt;Brenden Wagner&lt;/td&gt;\r\n                    &lt;td&gt;Software Engineer&lt;/td&gt;\r\n                    &lt;td&gt;San Francisco&lt;/td&gt;\r\n                    &lt;td&gt;28&lt;/td&gt;\r\n                    &lt;td&gt;2011/06/07&lt;/td&gt;\r\n                    &lt;td&gt;$206,850&lt;/td&gt;\r\n                &lt;/tr&gt;\r\n                &lt;tr&gt;\r\n                    &lt;td&gt;Fiona Green&lt;/td&gt;\r\n                    &lt;td&gt;Chief Operating Officer (COO)&lt;/td&gt;\r\n                    &lt;td&gt;San Francisco&lt;/td&gt;\r\n                    &lt;td&gt;48&lt;/td&gt;\r\n                    &lt;td&gt;2010/03/11&lt;/td&gt;\r\n                    &lt;td&gt;$850,000&lt;/td&gt;\r\n                &lt;/tr&gt;\r\n                &lt;tr&gt;\r\n                    &lt;td&gt;Shou Itou&lt;/td&gt;\r\n                    &lt;td&gt;Regional Marketing&lt;/td&gt;\r\n                    &lt;td&gt;Tokyo&lt;/td&gt;\r\n                    &lt;td&gt;20&lt;/td&gt;\r\n                    &lt;td&gt;2011/08/14&lt;/td&gt;\r\n                    &lt;td&gt;$163,000&lt;/td&gt;\r\n                &lt;/tr&gt;\r\n                &lt;tr&gt;\r\n                    &lt;td&gt;Michelle House&lt;/td&gt;\r\n                    &lt;td&gt;Integration Specialist&lt;/td&gt;\r\n                    &lt;td&gt;Sydney&lt;/td&gt;\r\n                    &lt;td&gt;37&lt;/td&gt;\r\n                    &lt;td&gt;2011/06/02&lt;/td&gt;\r\n                    &lt;td&gt;$95,400&lt;/td&gt;\r\n                &lt;/tr&gt;\r\n                &lt;tr&gt;\r\n                    &lt;td&gt;Suki Burks&lt;/td&gt;\r\n                    &lt;td&gt;Developer&lt;/td&gt;\r\n                    &lt;td&gt;London&lt;/td&gt;\r\n                    &lt;td&gt;53&lt;/td&gt;\r\n                    &lt;td&gt;2009/10/22&lt;/td&gt;\r\n                    &lt;td&gt;$114,500&lt;/td&gt;\r\n                &lt;/tr&gt;\r\n                &lt;tr&gt;\r\n                    &lt;td&gt;Prescott Bartlett&lt;/td&gt;\r\n                    &lt;td&gt;Technical Author&lt;/td&gt;\r\n                    &lt;td&gt;London&lt;/td&gt;\r\n                    &lt;td&gt;27&lt;/td&gt;\r\n                    &lt;td&gt;2011/05/07&lt;/td&gt;\r\n                    &lt;td&gt;$145,000&lt;/td&gt;\r\n                &lt;/tr&gt;\r\n                &lt;tr&gt;\r\n                    &lt;td&gt;Gavin Cortez&lt;/td&gt;\r\n                    &lt;td&gt;Team Leader&lt;/td&gt;\r\n                    &lt;td&gt;San Francisco&lt;/td&gt;\r\n                    &lt;td&gt;22&lt;/td&gt;\r\n                    &lt;td&gt;2008/10/26&lt;/td&gt;\r\n                    &lt;td&gt;$235,500&lt;/td&gt;\r\n                &lt;/tr&gt;\r\n                &lt;tr&gt;\r\n                    &lt;td&gt;Martena Mccray&lt;/td&gt;\r\n                    &lt;td&gt;Post-Sales support&lt;/td&gt;\r\n                    &lt;td&gt;Edinburgh&lt;/td&gt;\r\n                    &lt;td&gt;46&lt;/td&gt;\r\n                    &lt;td&gt;2011/03/09&lt;/td&gt;\r\n                    &lt;td&gt;$324,050&lt;/td&gt;\r\n                &lt;/tr&gt;\r\n                &lt;tr&gt;\r\n                    &lt;td&gt;Unity Butler&lt;/td&gt;\r\n                    &lt;td&gt;Marketing Designer&lt;/td&gt;\r\n                    &lt;td&gt;San Francisco&lt;/td&gt;\r\n                    &lt;td&gt;47&lt;/td&gt;\r\n                    &lt;td&gt;2009/12/09&lt;/td&gt;\r\n                    &lt;td&gt;$85,675&lt;/td&gt;\r\n                &lt;/tr&gt;\r\n                &lt;tr&gt;\r\n                    &lt;td&gt;Howard Hatfield&lt;/td&gt;\r\n                    &lt;td&gt;Office Manager&lt;/td&gt;\r\n                    &lt;td&gt;San Francisco&lt;/td&gt;\r\n                    &lt;td&gt;51&lt;/td&gt;\r\n                    &lt;td&gt;2008/12/16&lt;/td&gt;\r\n                    &lt;td&gt;$164,500&lt;/td&gt;\r\n                &lt;/tr&gt;\r\n                &lt;tr&gt;\r\n                    &lt;td&gt;Hope Fuentes&lt;/td&gt;\r\n                    &lt;td&gt;Secretary&lt;/td&gt;\r\n                    &lt;td&gt;San Francisco&lt;/td&gt;\r\n                    &lt;td&gt;41&lt;/td&gt;\r\n                    &lt;td&gt;2010/02/12&lt;/td&gt;\r\n                    &lt;td&gt;$109,850&lt;/td&gt;\r\n                &lt;/tr&gt;\r\n                &lt;tr&gt;\r\n                    &lt;td&gt;Vivian Harrell&lt;/td&gt;\r\n                    &lt;td&gt;Financial Controller&lt;/td&gt;\r\n                    &lt;td&gt;San Francisco&lt;/td&gt;\r\n                    &lt;td&gt;62&lt;/td&gt;\r\n                    &lt;td&gt;2009/02/14&lt;/td&gt;\r\n                    &lt;td&gt;$452,500&lt;/td&gt;\r\n                &lt;/tr&gt;\r\n                &lt;tr&gt;\r\n                    &lt;td&gt;Timothy Mooney&lt;/td&gt;\r\n                    &lt;td&gt;Office Manager&lt;/td&gt;\r\n                    &lt;td&gt;London&lt;/td&gt;\r\n                    &lt;td&gt;37&lt;/td&gt;\r\n                    &lt;td&gt;2008/12/11&lt;/td&gt;\r\n                    &lt;td&gt;$136,200&lt;/td&gt;\r\n                &lt;/tr&gt;\r\n                &lt;tr&gt;\r\n                    &lt;td&gt;Jackson Bradshaw&lt;/td&gt;\r\n                    &lt;td&gt;Director&lt;/td&gt;\r\n                    &lt;td&gt;New York&lt;/td&gt;\r\n                    &lt;td&gt;65&lt;/td&gt;\r\n                    &lt;td&gt;2008/09/26&lt;/td&gt;\r\n                    &lt;td&gt;$645,750&lt;/td&gt;\r\n                &lt;/tr&gt;\r\n                &lt;tr&gt;\r\n                    &lt;td&gt;Olivia Liang&lt;/td&gt;\r\n                    &lt;td&gt;Support Engineer&lt;/td&gt;\r\n                    &lt;td&gt;Singapore&lt;/td&gt;\r\n                    &lt;td&gt;64&lt;/td&gt;\r\n                    &lt;td&gt;2011/02/03&lt;/td&gt;\r\n                    &lt;td&gt;$234,500&lt;/td&gt;\r\n                &lt;/tr&gt;\r\n                &lt;tr&gt;\r\n                    &lt;td&gt;Bruno Nash&lt;/td&gt;\r\n                    &lt;td&gt;Software Engineer&lt;/td&gt;\r\n                    &lt;td&gt;London&lt;/td&gt;\r\n                    &lt;td&gt;38&lt;/td&gt;\r\n                    &lt;td&gt;2011/05/03&lt;/td&gt;\r\n                    &lt;td&gt;$163,500&lt;/td&gt;\r\n                &lt;/tr&gt;\r\n                &lt;tr&gt;\r\n                    &lt;td&gt;Sakura Yamamoto&lt;/td&gt;\r\n                    &lt;td&gt;Support Engineer&lt;/td&gt;\r\n                    &lt;td&gt;Tokyo&lt;/td&gt;\r\n                    &lt;td&gt;37&lt;/td&gt;\r\n                    &lt;td&gt;2009/08/19&lt;/td&gt;\r\n                    &lt;td&gt;$139,575&lt;/td&gt;\r\n                &lt;/tr&gt;\r\n                &lt;tr&gt;\r\n                    &lt;td&gt;Thor Walton&lt;/td&gt;\r\n                    &lt;td&gt;Developer&lt;/td&gt;\r\n                    &lt;td&gt;New York&lt;/td&gt;\r\n                    &lt;td&gt;61&lt;/td&gt;\r\n                    &lt;td&gt;2013/08/11&lt;/td&gt;\r\n                    &lt;td&gt;$98,540&lt;/td&gt;\r\n                &lt;/tr&gt;\r\n                &lt;tr&gt;\r\n                    &lt;td&gt;Finn Camacho&lt;/td&gt;\r\n                    &lt;td&gt;Support Engineer&lt;/td&gt;\r\n                    &lt;td&gt;San Francisco&lt;/td&gt;\r\n                    &lt;td&gt;47&lt;/td&gt;\r\n                    &lt;td&gt;2009/07/07&lt;/td&gt;\r\n                    &lt;td&gt;$87,500&lt;/td&gt;\r\n                &lt;/tr&gt;\r\n                &lt;tr&gt;\r\n                    &lt;td&gt;Serge Baldwin&lt;/td&gt;\r\n                    &lt;td&gt;Data Coordinator&lt;/td&gt;\r\n                    &lt;td&gt;Singapore&lt;/td&gt;\r\n                    &lt;td&gt;64&lt;/td&gt;\r\n                    &lt;td&gt;2012/04/09&lt;/td&gt;\r\n                    &lt;td&gt;$138,575&lt;/td&gt;\r\n                &lt;/tr&gt;\r\n                &lt;tr&gt;\r\n                    &lt;td&gt;Zenaida Frank&lt;/td&gt;\r\n                    &lt;td&gt;Software Engineer&lt;/td&gt;\r\n                    &lt;td&gt;New York&lt;/td&gt;\r\n                    &lt;td&gt;63&lt;/td&gt;\r\n                    &lt;td&gt;2010/01/04&lt;/td&gt;\r\n                    &lt;td&gt;$125,250&lt;/td&gt;\r\n                &lt;/tr&gt;\r\n                &lt;tr&gt;\r\n                    &lt;td&gt;Zorita Serrano&lt;/td&gt;\r\n                    &lt;td&gt;Software Engineer&lt;/td&gt;\r\n                    &lt;td&gt;San Francisco&lt;/td&gt;\r\n                    &lt;td&gt;56&lt;/td&gt;\r\n                    &lt;td&gt;2012/06/01&lt;/td&gt;\r\n                    &lt;td&gt;$115,000&lt;/td&gt;\r\n                &lt;/tr&gt;\r\n                &lt;tr&gt;\r\n                    &lt;td&gt;Jennifer Acosta&lt;/td&gt;\r\n                    &lt;td&gt;Junior Javascript Developer&lt;/td&gt;\r\n                    &lt;td&gt;Edinburgh&lt;/td&gt;\r\n                    &lt;td&gt;43&lt;/td&gt;\r\n                    &lt;td&gt;2013/02/01&lt;/td&gt;\r\n                    &lt;td&gt;$75,650&lt;/td&gt;\r\n                &lt;/tr&gt;\r\n                &lt;tr&gt;\r\n                    &lt;td&gt;Cara Stevens&lt;/td&gt;\r\n                    &lt;td&gt;Sales Assistant&lt;/td&gt;\r\n                    &lt;td&gt;New York&lt;/td&gt;\r\n                    &lt;td&gt;46&lt;/td&gt;\r\n                    &lt;td&gt;2011/12/06&lt;/td&gt;\r\n                    &lt;td&gt;$145,600&lt;/td&gt;\r\n                &lt;/tr&gt;\r\n                &lt;tr&gt;\r\n                    &lt;td&gt;Hermione Butler&lt;/td&gt;\r\n                    &lt;td&gt;Regional Director&lt;/td&gt;\r\n                    &lt;td&gt;London&lt;/td&gt;\r\n                    &lt;td&gt;47&lt;/td&gt;\r\n                    &lt;td&gt;2011/03/21&lt;/td&gt;\r\n                    &lt;td&gt;$356,250&lt;/td&gt;\r\n                &lt;/tr&gt;\r\n                &lt;tr&gt;\r\n                    &lt;td&gt;Lael Greer&lt;/td&gt;\r\n                    &lt;td&gt;Systems Administrator&lt;/td&gt;\r\n                    &lt;td&gt;London&lt;/td&gt;\r\n                    &lt;td&gt;21&lt;/td&gt;\r\n                    &lt;td&gt;2009/02/27&lt;/td&gt;\r\n                    &lt;td&gt;$103,500&lt;/td&gt;\r\n                &lt;/tr&gt;\r\n                &lt;tr&gt;\r\n                    &lt;td&gt;Jonas Alexander&lt;/td&gt;\r\n                    &lt;td&gt;Developer&lt;/td&gt;\r\n                    &lt;td&gt;San Francisco&lt;/td&gt;\r\n                    &lt;td&gt;30&lt;/td&gt;\r\n                    &lt;td&gt;2010/07/14&lt;/td&gt;\r\n                    &lt;td&gt;$86,500&lt;/td&gt;\r\n                &lt;/tr&gt;\r\n                &lt;tr&gt;\r\n                    &lt;td&gt;Shad Decker&lt;/td&gt;\r\n                    &lt;td&gt;Regional Director&lt;/td&gt;\r\n                    &lt;td&gt;Edinburgh&lt;/td&gt;\r\n                    &lt;td&gt;51&lt;/td&gt;\r\n                    &lt;td&gt;2008/11/13&lt;/td&gt;\r\n                    &lt;td&gt;$183,000&lt;/td&gt;\r\n                &lt;/tr&gt;\r\n                &lt;tr&gt;\r\n                    &lt;td&gt;Michael Bruce&lt;/td&gt;\r\n                    &lt;td&gt;Javascript Developer&lt;/td&gt;\r\n                    &lt;td&gt;Singapore&lt;/td&gt;\r\n                    &lt;td&gt;29&lt;/td&gt;\r\n                    &lt;td&gt;2011/06/27&lt;/td&gt;\r\n                    &lt;td&gt;$183,000&lt;/td&gt;\r\n                &lt;/tr&gt;\r\n                &lt;tr&gt;\r\n                    &lt;td&gt;Donna Snider&lt;/td&gt;\r\n                    &lt;td&gt;Customer Support&lt;/td&gt;\r\n                    &lt;td&gt;New York&lt;/td&gt;\r\n                    &lt;td&gt;27&lt;/td&gt;\r\n                    &lt;td&gt;2011/01/25&lt;/td&gt;\r\n                    &lt;td&gt;$112,000&lt;/td&gt;\r\n                &lt;/tr&gt;\r\n            &lt;/tbody&gt;\r\n            &lt;tfoot&gt;\r\n                &lt;tr&gt;\r\n                    &lt;th&gt;Name&lt;/th&gt;\r\n                    &lt;th&gt;Position&lt;/th&gt;\r\n                    &lt;th&gt;Office&lt;/th&gt;\r\n                    &lt;th&gt;Age&lt;/th&gt;\r\n                    &lt;th&gt;Start date&lt;/th&gt;\r\n                    &lt;th&gt;Salary&lt;/th&gt;\r\n                &lt;/tr&gt;\r\n            &lt;/tfoot&gt;\r\n&lt;/table&gt;\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nEDIT: After adding thead and tbody tags to the code, the search, sort and pagination icons got implemented but the features are still not working (i.e, unable to sort the content, search for content and paginate the contents) and I have again looked line by line. ","title":"Search, pagination and sorting features not applying to datatable","body":"<p>I'm using the PostgreSQL database and attempting to display details from the database in a JSP page using a data table. The issue here it displays only the database information but pagination, sorting and searching features are not getting implemented for the data table. I have looked for solutions but it still doesn't work.</p>\n<pre><code>&lt;%@ page language=&quot;java&quot; contentType=&quot;text/html; charset=ISO-8859-1&quot;\n    pageEncoding=&quot;ISO-8859-1&quot;%&gt;\n&lt;%@ taglib uri=&quot;http://java.sun.com/jsp/jstl/core&quot; prefix=&quot;c&quot; %&gt;\n&lt;%@ page import=&quot;java.util.*, com.luv2code.web.jdbc.*&quot; %&gt;\n&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n&lt;head&gt;\n&lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=UTF-8&quot;&gt;\n&lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1&quot;&gt;\n&lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=ISO-8859-1&quot;&gt;\n&lt;link href=&quot;https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/5.0.1/css/bootstrap.min.css&quot; rel=&quot;stylesheet&quot;&gt;\n&lt;link href=&quot;https://cdn.datatables.net/1.11.4/css/dataTables.bootstrap5.min.css&quot; rel=&quot;stylesheet&quot;&gt;\n&lt;title&gt;Update student&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n&lt;table id=&quot;ex&quot; class=&quot;table table-striped&quot; style=&quot;width:100%&quot;&gt;\n    &lt;thead&gt;\n                &lt;tr&gt;\n                    &lt;th&gt;Ecode&lt;/th&gt;\n                    &lt;th&gt;Ename&lt;/th&gt;\n                    &lt;th&gt;Gender&lt;/th&gt;\n                    &lt;th&gt;DOB&lt;/th&gt;\n                    &lt;th&gt;Designation&lt;/th&gt;\n                    &lt;th&gt;Salary&lt;/th&gt;\n                    &lt;th&gt;Action&lt;/th&gt;\n                &lt;/tr&gt;\n   &lt;/thead&gt; \n                &lt;c:forEach var=&quot;tempStudent&quot; items=&quot;${STUDENT_LIST}&quot;&gt;\n                    \n                    &lt;!-- set up a link for each row --&gt;\n                    &lt;c:url var=&quot;tempLink&quot; value=&quot;StudentControllerServlet&quot;&gt;\n                        &lt;c:param name=&quot;command&quot; value=&quot;LOAD&quot; /&gt;\n                        &lt;c:param name=&quot;studentId&quot; value=&quot;${tempStudent.id}&quot; /&gt;\n                    &lt;/c:url&gt;\n\n                    &lt;!--  set up a link to delete a row --&gt;\n                    &lt;c:url var=&quot;deleteLink&quot; value=&quot;StudentControllerServlet&quot;&gt;\n                        &lt;c:param name=&quot;command&quot; value=&quot;DELETE&quot; /&gt;\n                        &lt;c:param name=&quot;studentId&quot; value=&quot;${tempStudent.id}&quot; /&gt;\n                    &lt;/c:url&gt;\n            &lt;tbody&gt;                                                                 \n                    &lt;tr&gt;\n                        &lt;td&gt; ${tempStudent.ecode} &lt;/td&gt;\n                        &lt;td&gt; ${tempStudent.ename} &lt;/td&gt;\n                        &lt;td&gt; ${tempStudent.gender} &lt;/td&gt;\n                        &lt;td&gt; ${tempStudent.birthday} &lt;/td&gt;\n                        &lt;td&gt; ${tempStudent.designation} &lt;/td&gt;\n                        &lt;td&gt; ${tempStudent.currency} &lt;/td&gt;                      \n                        &lt;td&gt; \n                            &lt;a href=&quot;${tempLink}&quot;&gt;Update&lt;/a&gt; \n                             | \n                            &lt;a href=&quot;${deleteLink}&quot;\n                            onclick=&quot;if (!(confirm('Are you sure you want to delete this student?'))) return false&quot;&gt;\n                            Delete&lt;/a&gt;  \n                        &lt;/td&gt;\n                    &lt;/tr&gt;\n            &lt;/tbody&gt;    \n                &lt;/c:forEach&gt;\n                \n            &lt;/table&gt;\n    &lt;script src=&quot;https://code.jquery.com/jquery-3.5.1.js&quot;&gt;&lt;/script&gt;\n    &lt;script src=&quot;https://cdn.datatables.net/1.11.4/js/jquery.dataTables.min.js&quot;&gt;   &lt;/script&gt;\n    &lt;script src=&quot;https://cdn.datatables.net/1.11.4/js/dataTables.bootstrap5.min.js&quot;&gt;&lt;/script&gt;\n\n    &lt;script&gt;\n    $(document).ready(function() {\n        $('#ex').DataTable();\n    } );\n    &lt;/script&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>Also one strange observation is, the search, sort and pagination features are applying if I replace the existing table with another table using the same table ID:</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;table id=\"ex\" class=\"table table-striped\" style=\"width:100%\"&gt;\n        &lt;thead&gt;\n            &lt;tr&gt;\n                &lt;th&gt;Name&lt;/th&gt;\n                &lt;th&gt;Position&lt;/th&gt;\n                &lt;th&gt;Office&lt;/th&gt;\n                &lt;th&gt;Age&lt;/th&gt;\n                &lt;th&gt;Start date&lt;/th&gt;\n                &lt;th&gt;Salary&lt;/th&gt;\n            &lt;/tr&gt;\n        &lt;/thead&gt;\n        &lt;tbody&gt;\n            &lt;tr&gt;\n                &lt;td&gt;Tiger Nixon&lt;/td&gt;\n                &lt;td&gt;System Architect&lt;/td&gt;\n                &lt;td&gt;Edinburgh&lt;/td&gt;\n                &lt;td&gt;61&lt;/td&gt;\n                &lt;td&gt;2011/04/25&lt;/td&gt;\n                &lt;td&gt;$320,800&lt;/td&gt;\n            &lt;/tr&gt;\n            &lt;tr&gt;\n                &lt;td&gt;Garrett Winters&lt;/td&gt;\n                &lt;td&gt;Accountant&lt;/td&gt;\n                &lt;td&gt;Tokyo&lt;/td&gt;\n                &lt;td&gt;63&lt;/td&gt;\n                &lt;td&gt;2011/07/25&lt;/td&gt;\n                &lt;td&gt;$170,750&lt;/td&gt;\n            &lt;/tr&gt;\n            &lt;tr&gt;\n                &lt;td&gt;Ashton Cox&lt;/td&gt;\n                &lt;td&gt;Junior Technical Author&lt;/td&gt;\n                &lt;td&gt;San Francisco&lt;/td&gt;\n                &lt;td&gt;66&lt;/td&gt;\n                &lt;td&gt;2009/01/12&lt;/td&gt;\n                &lt;td&gt;$86,000&lt;/td&gt;\n            &lt;/tr&gt;\n            &lt;tr&gt;\n                &lt;td&gt;Cedric Kelly&lt;/td&gt;\n                &lt;td&gt;Senior Javascript Developer&lt;/td&gt;\n                &lt;td&gt;Edinburgh&lt;/td&gt;\n                &lt;td&gt;22&lt;/td&gt;\n                &lt;td&gt;2012/03/29&lt;/td&gt;\n                &lt;td&gt;$433,060&lt;/td&gt;\n            &lt;/tr&gt;\n            &lt;tr&gt;\n                &lt;td&gt;Airi Satou&lt;/td&gt;\n                &lt;td&gt;Accountant&lt;/td&gt;\n                &lt;td&gt;Tokyo&lt;/td&gt;\n                &lt;td&gt;33&lt;/td&gt;\n                &lt;td&gt;2008/11/28&lt;/td&gt;\n                &lt;td&gt;$162,700&lt;/td&gt;\n            &lt;/tr&gt;\n            &lt;tr&gt;\n                &lt;td&gt;Brielle Williamson&lt;/td&gt;\n                &lt;td&gt;Integration Specialist&lt;/td&gt;\n                &lt;td&gt;New York&lt;/td&gt;\n                &lt;td&gt;61&lt;/td&gt;\n                &lt;td&gt;2012/12/02&lt;/td&gt;\n                &lt;td&gt;$372,000&lt;/td&gt;\n            &lt;/tr&gt;\n            &lt;tr&gt;\n                &lt;td&gt;Herrod Chandler&lt;/td&gt;\n                &lt;td&gt;Sales Assistant&lt;/td&gt;\n                &lt;td&gt;San Francisco&lt;/td&gt;\n                &lt;td&gt;59&lt;/td&gt;\n                &lt;td&gt;2012/08/06&lt;/td&gt;\n                &lt;td&gt;$137,500&lt;/td&gt;\n            &lt;/tr&gt;\n            &lt;tr&gt;\n                &lt;td&gt;Rhona Davidson&lt;/td&gt;\n                &lt;td&gt;Integration Specialist&lt;/td&gt;\n                &lt;td&gt;Tokyo&lt;/td&gt;\n                &lt;td&gt;55&lt;/td&gt;\n                &lt;td&gt;2010/10/14&lt;/td&gt;\n                &lt;td&gt;$327,900&lt;/td&gt;\n            &lt;/tr&gt;\n            &lt;tr&gt;\n                &lt;td&gt;Colleen Hurst&lt;/td&gt;\n                &lt;td&gt;Javascript Developer&lt;/td&gt;\n                &lt;td&gt;San Francisco&lt;/td&gt;\n                &lt;td&gt;39&lt;/td&gt;\n                &lt;td&gt;2009/09/15&lt;/td&gt;\n                &lt;td&gt;$205,500&lt;/td&gt;\n            &lt;/tr&gt;\n            &lt;tr&gt;\n                &lt;td&gt;Sonya Frost&lt;/td&gt;\n                &lt;td&gt;Software Engineer&lt;/td&gt;\n                &lt;td&gt;Edinburgh&lt;/td&gt;\n                &lt;td&gt;23&lt;/td&gt;\n                &lt;td&gt;2008/12/13&lt;/td&gt;\n                &lt;td&gt;$103,600&lt;/td&gt;\n            &lt;/tr&gt;\n            &lt;tr&gt;\n                &lt;td&gt;Jena Gaines&lt;/td&gt;\n                &lt;td&gt;Office Manager&lt;/td&gt;\n                &lt;td&gt;London&lt;/td&gt;\n                &lt;td&gt;30&lt;/td&gt;\n                &lt;td&gt;2008/12/19&lt;/td&gt;\n                &lt;td&gt;$90,560&lt;/td&gt;\n            &lt;/tr&gt;\n            &lt;tr&gt;\n                &lt;td&gt;Quinn Flynn&lt;/td&gt;\n                &lt;td&gt;Support Lead&lt;/td&gt;\n                &lt;td&gt;Edinburgh&lt;/td&gt;\n                &lt;td&gt;22&lt;/td&gt;\n                &lt;td&gt;2013/03/03&lt;/td&gt;\n                &lt;td&gt;$342,000&lt;/td&gt;\n            &lt;/tr&gt;\n            &lt;tr&gt;\n                &lt;td&gt;Charde Marshall&lt;/td&gt;\n                &lt;td&gt;Regional Director&lt;/td&gt;\n                &lt;td&gt;San Francisco&lt;/td&gt;\n                &lt;td&gt;36&lt;/td&gt;\n                &lt;td&gt;2008/10/16&lt;/td&gt;\n                &lt;td&gt;$470,600&lt;/td&gt;\n            &lt;/tr&gt;\n            &lt;tr&gt;\n                &lt;td&gt;Haley Kennedy&lt;/td&gt;\n                &lt;td&gt;Senior Marketing Designer&lt;/td&gt;\n                &lt;td&gt;London&lt;/td&gt;\n                &lt;td&gt;43&lt;/td&gt;\n                &lt;td&gt;2012/12/18&lt;/td&gt;\n                &lt;td&gt;$313,500&lt;/td&gt;\n            &lt;/tr&gt;\n            &lt;tr&gt;\n                &lt;td&gt;Tatyana Fitzpatrick&lt;/td&gt;\n                &lt;td&gt;Regional Director&lt;/td&gt;\n                &lt;td&gt;London&lt;/td&gt;\n                &lt;td&gt;19&lt;/td&gt;\n                &lt;td&gt;2010/03/17&lt;/td&gt;\n                &lt;td&gt;$385,750&lt;/td&gt;\n            &lt;/tr&gt;\n            &lt;tr&gt;\n                &lt;td&gt;Michael Silva&lt;/td&gt;\n                &lt;td&gt;Marketing Designer&lt;/td&gt;\n                &lt;td&gt;London&lt;/td&gt;\n                &lt;td&gt;66&lt;/td&gt;\n                &lt;td&gt;2012/11/27&lt;/td&gt;\n                &lt;td&gt;$198,500&lt;/td&gt;\n            &lt;/tr&gt;\n            &lt;tr&gt;\n                &lt;td&gt;Paul Byrd&lt;/td&gt;\n                &lt;td&gt;Chief Financial Officer (CFO)&lt;/td&gt;\n                &lt;td&gt;New York&lt;/td&gt;\n                &lt;td&gt;64&lt;/td&gt;\n                &lt;td&gt;2010/06/09&lt;/td&gt;\n                &lt;td&gt;$725,000&lt;/td&gt;\n            &lt;/tr&gt;\n            &lt;tr&gt;\n                &lt;td&gt;Gloria Little&lt;/td&gt;\n                &lt;td&gt;Systems Administrator&lt;/td&gt;\n                &lt;td&gt;New York&lt;/td&gt;\n                &lt;td&gt;59&lt;/td&gt;\n                &lt;td&gt;2009/04/10&lt;/td&gt;\n                &lt;td&gt;$237,500&lt;/td&gt;\n            &lt;/tr&gt;\n            &lt;tr&gt;\n                &lt;td&gt;Bradley Greer&lt;/td&gt;\n                &lt;td&gt;Software Engineer&lt;/td&gt;\n                &lt;td&gt;London&lt;/td&gt;\n                &lt;td&gt;41&lt;/td&gt;\n                &lt;td&gt;2012/10/13&lt;/td&gt;\n                &lt;td&gt;$132,000&lt;/td&gt;\n            &lt;/tr&gt;\n            &lt;tr&gt;\n                &lt;td&gt;Dai Rios&lt;/td&gt;\n                &lt;td&gt;Personnel Lead&lt;/td&gt;\n                &lt;td&gt;Edinburgh&lt;/td&gt;\n                &lt;td&gt;35&lt;/td&gt;\n                &lt;td&gt;2012/09/26&lt;/td&gt;\n                &lt;td&gt;$217,500&lt;/td&gt;\n            &lt;/tr&gt;\n            &lt;tr&gt;\n                &lt;td&gt;Jenette Caldwell&lt;/td&gt;\n                &lt;td&gt;Development Lead&lt;/td&gt;\n                &lt;td&gt;New York&lt;/td&gt;\n                &lt;td&gt;30&lt;/td&gt;\n                &lt;td&gt;2011/09/03&lt;/td&gt;\n                &lt;td&gt;$345,000&lt;/td&gt;\n            &lt;/tr&gt;\n            &lt;tr&gt;\n                &lt;td&gt;Yuri Berry&lt;/td&gt;\n                &lt;td&gt;Chief Marketing Officer (CMO)&lt;/td&gt;\n                &lt;td&gt;New York&lt;/td&gt;\n                &lt;td&gt;40&lt;/td&gt;\n                &lt;td&gt;2009/06/25&lt;/td&gt;\n                &lt;td&gt;$675,000&lt;/td&gt;\n            &lt;/tr&gt;\n            &lt;tr&gt;\n                &lt;td&gt;Caesar Vance&lt;/td&gt;\n                &lt;td&gt;Pre-Sales Support&lt;/td&gt;\n                &lt;td&gt;New York&lt;/td&gt;\n                &lt;td&gt;21&lt;/td&gt;\n                &lt;td&gt;2011/12/12&lt;/td&gt;\n                &lt;td&gt;$106,450&lt;/td&gt;\n            &lt;/tr&gt;\n            &lt;tr&gt;\n                &lt;td&gt;Doris Wilder&lt;/td&gt;\n                &lt;td&gt;Sales Assistant&lt;/td&gt;\n                &lt;td&gt;Sydney&lt;/td&gt;\n                &lt;td&gt;23&lt;/td&gt;\n                &lt;td&gt;2010/09/20&lt;/td&gt;\n                &lt;td&gt;$85,600&lt;/td&gt;\n            &lt;/tr&gt;\n            &lt;tr&gt;\n                &lt;td&gt;Angelica Ramos&lt;/td&gt;\n                &lt;td&gt;Chief Executive Officer (CEO)&lt;/td&gt;\n                &lt;td&gt;London&lt;/td&gt;\n                &lt;td&gt;47&lt;/td&gt;\n                &lt;td&gt;2009/10/09&lt;/td&gt;\n                &lt;td&gt;$1,200,000&lt;/td&gt;\n            &lt;/tr&gt;\n            &lt;tr&gt;\n                &lt;td&gt;Gavin Joyce&lt;/td&gt;\n                &lt;td&gt;Developer&lt;/td&gt;\n                &lt;td&gt;Edinburgh&lt;/td&gt;\n                &lt;td&gt;42&lt;/td&gt;\n                &lt;td&gt;2010/12/22&lt;/td&gt;\n                &lt;td&gt;$92,575&lt;/td&gt;\n            &lt;/tr&gt;\n            &lt;tr&gt;\n                &lt;td&gt;Jennifer Chang&lt;/td&gt;\n                &lt;td&gt;Regional Director&lt;/td&gt;\n                &lt;td&gt;Singapore&lt;/td&gt;\n                &lt;td&gt;28&lt;/td&gt;\n                &lt;td&gt;2010/11/14&lt;/td&gt;\n                &lt;td&gt;$357,650&lt;/td&gt;\n            &lt;/tr&gt;\n            &lt;tr&gt;\n                &lt;td&gt;Brenden Wagner&lt;/td&gt;\n                &lt;td&gt;Software Engineer&lt;/td&gt;\n                &lt;td&gt;San Francisco&lt;/td&gt;\n                &lt;td&gt;28&lt;/td&gt;\n                &lt;td&gt;2011/06/07&lt;/td&gt;\n                &lt;td&gt;$206,850&lt;/td&gt;\n            &lt;/tr&gt;\n            &lt;tr&gt;\n                &lt;td&gt;Fiona Green&lt;/td&gt;\n                &lt;td&gt;Chief Operating Officer (COO)&lt;/td&gt;\n                &lt;td&gt;San Francisco&lt;/td&gt;\n                &lt;td&gt;48&lt;/td&gt;\n                &lt;td&gt;2010/03/11&lt;/td&gt;\n                &lt;td&gt;$850,000&lt;/td&gt;\n            &lt;/tr&gt;\n            &lt;tr&gt;\n                &lt;td&gt;Shou Itou&lt;/td&gt;\n                &lt;td&gt;Regional Marketing&lt;/td&gt;\n                &lt;td&gt;Tokyo&lt;/td&gt;\n                &lt;td&gt;20&lt;/td&gt;\n                &lt;td&gt;2011/08/14&lt;/td&gt;\n                &lt;td&gt;$163,000&lt;/td&gt;\n            &lt;/tr&gt;\n            &lt;tr&gt;\n                &lt;td&gt;Michelle House&lt;/td&gt;\n                &lt;td&gt;Integration Specialist&lt;/td&gt;\n                &lt;td&gt;Sydney&lt;/td&gt;\n                &lt;td&gt;37&lt;/td&gt;\n                &lt;td&gt;2011/06/02&lt;/td&gt;\n                &lt;td&gt;$95,400&lt;/td&gt;\n            &lt;/tr&gt;\n            &lt;tr&gt;\n                &lt;td&gt;Suki Burks&lt;/td&gt;\n                &lt;td&gt;Developer&lt;/td&gt;\n                &lt;td&gt;London&lt;/td&gt;\n                &lt;td&gt;53&lt;/td&gt;\n                &lt;td&gt;2009/10/22&lt;/td&gt;\n                &lt;td&gt;$114,500&lt;/td&gt;\n            &lt;/tr&gt;\n            &lt;tr&gt;\n                &lt;td&gt;Prescott Bartlett&lt;/td&gt;\n                &lt;td&gt;Technical Author&lt;/td&gt;\n                &lt;td&gt;London&lt;/td&gt;\n                &lt;td&gt;27&lt;/td&gt;\n                &lt;td&gt;2011/05/07&lt;/td&gt;\n                &lt;td&gt;$145,000&lt;/td&gt;\n            &lt;/tr&gt;\n            &lt;tr&gt;\n                &lt;td&gt;Gavin Cortez&lt;/td&gt;\n                &lt;td&gt;Team Leader&lt;/td&gt;\n                &lt;td&gt;San Francisco&lt;/td&gt;\n                &lt;td&gt;22&lt;/td&gt;\n                &lt;td&gt;2008/10/26&lt;/td&gt;\n                &lt;td&gt;$235,500&lt;/td&gt;\n            &lt;/tr&gt;\n            &lt;tr&gt;\n                &lt;td&gt;Martena Mccray&lt;/td&gt;\n                &lt;td&gt;Post-Sales support&lt;/td&gt;\n                &lt;td&gt;Edinburgh&lt;/td&gt;\n                &lt;td&gt;46&lt;/td&gt;\n                &lt;td&gt;2011/03/09&lt;/td&gt;\n                &lt;td&gt;$324,050&lt;/td&gt;\n            &lt;/tr&gt;\n            &lt;tr&gt;\n                &lt;td&gt;Unity Butler&lt;/td&gt;\n                &lt;td&gt;Marketing Designer&lt;/td&gt;\n                &lt;td&gt;San Francisco&lt;/td&gt;\n                &lt;td&gt;47&lt;/td&gt;\n                &lt;td&gt;2009/12/09&lt;/td&gt;\n                &lt;td&gt;$85,675&lt;/td&gt;\n            &lt;/tr&gt;\n            &lt;tr&gt;\n                &lt;td&gt;Howard Hatfield&lt;/td&gt;\n                &lt;td&gt;Office Manager&lt;/td&gt;\n                &lt;td&gt;San Francisco&lt;/td&gt;\n                &lt;td&gt;51&lt;/td&gt;\n                &lt;td&gt;2008/12/16&lt;/td&gt;\n                &lt;td&gt;$164,500&lt;/td&gt;\n            &lt;/tr&gt;\n            &lt;tr&gt;\n                &lt;td&gt;Hope Fuentes&lt;/td&gt;\n                &lt;td&gt;Secretary&lt;/td&gt;\n                &lt;td&gt;San Francisco&lt;/td&gt;\n                &lt;td&gt;41&lt;/td&gt;\n                &lt;td&gt;2010/02/12&lt;/td&gt;\n                &lt;td&gt;$109,850&lt;/td&gt;\n            &lt;/tr&gt;\n            &lt;tr&gt;\n                &lt;td&gt;Vivian Harrell&lt;/td&gt;\n                &lt;td&gt;Financial Controller&lt;/td&gt;\n                &lt;td&gt;San Francisco&lt;/td&gt;\n                &lt;td&gt;62&lt;/td&gt;\n                &lt;td&gt;2009/02/14&lt;/td&gt;\n                &lt;td&gt;$452,500&lt;/td&gt;\n            &lt;/tr&gt;\n            &lt;tr&gt;\n                &lt;td&gt;Timothy Mooney&lt;/td&gt;\n                &lt;td&gt;Office Manager&lt;/td&gt;\n                &lt;td&gt;London&lt;/td&gt;\n                &lt;td&gt;37&lt;/td&gt;\n                &lt;td&gt;2008/12/11&lt;/td&gt;\n                &lt;td&gt;$136,200&lt;/td&gt;\n            &lt;/tr&gt;\n            &lt;tr&gt;\n                &lt;td&gt;Jackson Bradshaw&lt;/td&gt;\n                &lt;td&gt;Director&lt;/td&gt;\n                &lt;td&gt;New York&lt;/td&gt;\n                &lt;td&gt;65&lt;/td&gt;\n                &lt;td&gt;2008/09/26&lt;/td&gt;\n                &lt;td&gt;$645,750&lt;/td&gt;\n            &lt;/tr&gt;\n            &lt;tr&gt;\n                &lt;td&gt;Olivia Liang&lt;/td&gt;\n                &lt;td&gt;Support Engineer&lt;/td&gt;\n                &lt;td&gt;Singapore&lt;/td&gt;\n                &lt;td&gt;64&lt;/td&gt;\n                &lt;td&gt;2011/02/03&lt;/td&gt;\n                &lt;td&gt;$234,500&lt;/td&gt;\n            &lt;/tr&gt;\n            &lt;tr&gt;\n                &lt;td&gt;Bruno Nash&lt;/td&gt;\n                &lt;td&gt;Software Engineer&lt;/td&gt;\n                &lt;td&gt;London&lt;/td&gt;\n                &lt;td&gt;38&lt;/td&gt;\n                &lt;td&gt;2011/05/03&lt;/td&gt;\n                &lt;td&gt;$163,500&lt;/td&gt;\n            &lt;/tr&gt;\n            &lt;tr&gt;\n                &lt;td&gt;Sakura Yamamoto&lt;/td&gt;\n                &lt;td&gt;Support Engineer&lt;/td&gt;\n                &lt;td&gt;Tokyo&lt;/td&gt;\n                &lt;td&gt;37&lt;/td&gt;\n                &lt;td&gt;2009/08/19&lt;/td&gt;\n                &lt;td&gt;$139,575&lt;/td&gt;\n            &lt;/tr&gt;\n            &lt;tr&gt;\n                &lt;td&gt;Thor Walton&lt;/td&gt;\n                &lt;td&gt;Developer&lt;/td&gt;\n                &lt;td&gt;New York&lt;/td&gt;\n                &lt;td&gt;61&lt;/td&gt;\n                &lt;td&gt;2013/08/11&lt;/td&gt;\n                &lt;td&gt;$98,540&lt;/td&gt;\n            &lt;/tr&gt;\n            &lt;tr&gt;\n                &lt;td&gt;Finn Camacho&lt;/td&gt;\n                &lt;td&gt;Support Engineer&lt;/td&gt;\n                &lt;td&gt;San Francisco&lt;/td&gt;\n                &lt;td&gt;47&lt;/td&gt;\n                &lt;td&gt;2009/07/07&lt;/td&gt;\n                &lt;td&gt;$87,500&lt;/td&gt;\n            &lt;/tr&gt;\n            &lt;tr&gt;\n                &lt;td&gt;Serge Baldwin&lt;/td&gt;\n                &lt;td&gt;Data Coordinator&lt;/td&gt;\n                &lt;td&gt;Singapore&lt;/td&gt;\n                &lt;td&gt;64&lt;/td&gt;\n                &lt;td&gt;2012/04/09&lt;/td&gt;\n                &lt;td&gt;$138,575&lt;/td&gt;\n            &lt;/tr&gt;\n            &lt;tr&gt;\n                &lt;td&gt;Zenaida Frank&lt;/td&gt;\n                &lt;td&gt;Software Engineer&lt;/td&gt;\n                &lt;td&gt;New York&lt;/td&gt;\n                &lt;td&gt;63&lt;/td&gt;\n                &lt;td&gt;2010/01/04&lt;/td&gt;\n                &lt;td&gt;$125,250&lt;/td&gt;\n            &lt;/tr&gt;\n            &lt;tr&gt;\n                &lt;td&gt;Zorita Serrano&lt;/td&gt;\n                &lt;td&gt;Software Engineer&lt;/td&gt;\n                &lt;td&gt;San Francisco&lt;/td&gt;\n                &lt;td&gt;56&lt;/td&gt;\n                &lt;td&gt;2012/06/01&lt;/td&gt;\n                &lt;td&gt;$115,000&lt;/td&gt;\n            &lt;/tr&gt;\n            &lt;tr&gt;\n                &lt;td&gt;Jennifer Acosta&lt;/td&gt;\n                &lt;td&gt;Junior Javascript Developer&lt;/td&gt;\n                &lt;td&gt;Edinburgh&lt;/td&gt;\n                &lt;td&gt;43&lt;/td&gt;\n                &lt;td&gt;2013/02/01&lt;/td&gt;\n                &lt;td&gt;$75,650&lt;/td&gt;\n            &lt;/tr&gt;\n            &lt;tr&gt;\n                &lt;td&gt;Cara Stevens&lt;/td&gt;\n                &lt;td&gt;Sales Assistant&lt;/td&gt;\n                &lt;td&gt;New York&lt;/td&gt;\n                &lt;td&gt;46&lt;/td&gt;\n                &lt;td&gt;2011/12/06&lt;/td&gt;\n                &lt;td&gt;$145,600&lt;/td&gt;\n            &lt;/tr&gt;\n            &lt;tr&gt;\n                &lt;td&gt;Hermione Butler&lt;/td&gt;\n                &lt;td&gt;Regional Director&lt;/td&gt;\n                &lt;td&gt;London&lt;/td&gt;\n                &lt;td&gt;47&lt;/td&gt;\n                &lt;td&gt;2011/03/21&lt;/td&gt;\n                &lt;td&gt;$356,250&lt;/td&gt;\n            &lt;/tr&gt;\n            &lt;tr&gt;\n                &lt;td&gt;Lael Greer&lt;/td&gt;\n                &lt;td&gt;Systems Administrator&lt;/td&gt;\n                &lt;td&gt;London&lt;/td&gt;\n                &lt;td&gt;21&lt;/td&gt;\n                &lt;td&gt;2009/02/27&lt;/td&gt;\n                &lt;td&gt;$103,500&lt;/td&gt;\n            &lt;/tr&gt;\n            &lt;tr&gt;\n                &lt;td&gt;Jonas Alexander&lt;/td&gt;\n                &lt;td&gt;Developer&lt;/td&gt;\n                &lt;td&gt;San Francisco&lt;/td&gt;\n                &lt;td&gt;30&lt;/td&gt;\n                &lt;td&gt;2010/07/14&lt;/td&gt;\n                &lt;td&gt;$86,500&lt;/td&gt;\n            &lt;/tr&gt;\n            &lt;tr&gt;\n                &lt;td&gt;Shad Decker&lt;/td&gt;\n                &lt;td&gt;Regional Director&lt;/td&gt;\n                &lt;td&gt;Edinburgh&lt;/td&gt;\n                &lt;td&gt;51&lt;/td&gt;\n                &lt;td&gt;2008/11/13&lt;/td&gt;\n                &lt;td&gt;$183,000&lt;/td&gt;\n            &lt;/tr&gt;\n            &lt;tr&gt;\n                &lt;td&gt;Michael Bruce&lt;/td&gt;\n                &lt;td&gt;Javascript Developer&lt;/td&gt;\n                &lt;td&gt;Singapore&lt;/td&gt;\n                &lt;td&gt;29&lt;/td&gt;\n                &lt;td&gt;2011/06/27&lt;/td&gt;\n                &lt;td&gt;$183,000&lt;/td&gt;\n            &lt;/tr&gt;\n            &lt;tr&gt;\n                &lt;td&gt;Donna Snider&lt;/td&gt;\n                &lt;td&gt;Customer Support&lt;/td&gt;\n                &lt;td&gt;New York&lt;/td&gt;\n                &lt;td&gt;27&lt;/td&gt;\n                &lt;td&gt;2011/01/25&lt;/td&gt;\n                &lt;td&gt;$112,000&lt;/td&gt;\n            &lt;/tr&gt;\n        &lt;/tbody&gt;\n        &lt;tfoot&gt;\n            &lt;tr&gt;\n                &lt;th&gt;Name&lt;/th&gt;\n                &lt;th&gt;Position&lt;/th&gt;\n                &lt;th&gt;Office&lt;/th&gt;\n                &lt;th&gt;Age&lt;/th&gt;\n                &lt;th&gt;Start date&lt;/th&gt;\n                &lt;th&gt;Salary&lt;/th&gt;\n            &lt;/tr&gt;\n        &lt;/tfoot&gt;\n&lt;/table&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>EDIT: After adding thead and tbody tags to the code, the search, sort and pagination icons got implemented but the features are still not working (i.e, unable to sort the content, search for content and paginate the contents) and I have again looked line by line.</p>\n"},{"tags":["java","collections","java-stream"],"answers":[{"tags":[],"owner":{"account_id":9135263,"reputation":11,"user_id":6795172,"display_name":"Abhishek Agrawal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643020975,"creation_date":1643020563,"answer_id":70832423,"question_id":70832330,"body_markdown":"You can try this\r\n```\r\nMap&lt;String, Set&lt;String&gt;&gt; initialMap= responseList.stream().collect(\r\n    Collectors.groupingBy(Response::getRole, HashMap::new, \r\n    Collectors.mapping((Response res) -&gt; Long.parseLong(res.getModifiedPermission()), Collectors.toSet()))\r\n);\r\n```\r\nwith `getModifiedPermission()` being a function which removes the prefix from Permission.","title":"Given a map of type Map&lt;K, List&lt;V&gt;&gt;, how to update value within List&lt;V&gt; using Java streams?","body":"<p>You can try this</p>\n<pre><code>Map&lt;String, Set&lt;String&gt;&gt; initialMap= responseList.stream().collect(\n    Collectors.groupingBy(Response::getRole, HashMap::new, \n    Collectors.mapping((Response res) -&gt; Long.parseLong(res.getModifiedPermission()), Collectors.toSet()))\n);\n</code></pre>\n<p>with <code>getModifiedPermission()</code> being a function which removes the prefix from Permission.</p>\n"},{"tags":[],"owner":{"account_id":18243171,"reputation":19300,"user_id":13279831,"display_name":"Nowhere Man"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1643123216,"creation_date":1643123216,"answer_id":70851003,"question_id":70832330,"body_markdown":"It seems that the main issue here is not with parsing the id of region/country but rather with combining `List&lt;Long&gt;` containing multiple country IDs _per regionId_ retrieved from some DB/repository, and a single country ID from the permission `C-###`.\r\n\r\nThis may be resolved using [`Collectors.flatMapping`](https://docs.oracle.com/javase/9/docs/api/java/util/stream/Collectors.html#flatMapping-java.util.function.Function-java.util.stream.Collector-) available in Java 9+.  Also, a separate function `streamOfCountryIDs` needs to be implemented to map the response&#39;s permission into a `Stream&lt;Long&gt;` for this collector:\r\n```java\r\nMap&lt;String, Set&lt;Long&gt;&gt; converted = responses.stream()\r\n        .collect(Collectors.groupingBy(\r\n                Response::getRole,\r\n                Collectors.flatMapping(MyClass::streamOfCountryIDs, Collectors.toSet())\r\n        ));\r\n\r\nSystem.out.println(converted);\r\n```\r\n```java\r\n// MyClass\r\nprivate static Stream&lt;Long&gt; streamOfCountryIDs(Response response) {\r\n    String permission = response.getPermission().toUpperCase();\r\n    if (permission.startsWith(&quot;R-&quot;)) {\r\n        return countryRepo.getCountriesByRegion(Long.parseLong(permission.substring(2)))\r\n            .stream();\r\n    } else if (permission.startsWith(&quot;C-&quot;)) {\r\n        return Stream.of(Long.parseLong(permission.substring(2)));\r\n    }\r\n    // log bad permission and return empty stream or throw an exception if needed\r\n    System.out.println(&quot;Bad permission: &#39;&quot; + permission + &quot;&#39;&quot;);\r\n    return Stream.empty();\r\n}\r\n\r\n```","title":"Given a map of type Map&lt;K, List&lt;V&gt;&gt;, how to update value within List&lt;V&gt; using Java streams?","body":"<p>It seems that the main issue here is not with parsing the id of region/country but rather with combining <code>List&lt;Long&gt;</code> containing multiple country IDs <em>per regionId</em> retrieved from some DB/repository, and a single country ID from the permission <code>C-###</code>.</p>\n<p>This may be resolved using <a href=\"https://docs.oracle.com/javase/9/docs/api/java/util/stream/Collectors.html#flatMapping-java.util.function.Function-java.util.stream.Collector-\" rel=\"nofollow noreferrer\"><code>Collectors.flatMapping</code></a> available in Java 9+.  Also, a separate function <code>streamOfCountryIDs</code> needs to be implemented to map the response's permission into a <code>Stream&lt;Long&gt;</code> for this collector:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Map&lt;String, Set&lt;Long&gt;&gt; converted = responses.stream()\n        .collect(Collectors.groupingBy(\n                Response::getRole,\n                Collectors.flatMapping(MyClass::streamOfCountryIDs, Collectors.toSet())\n        ));\n\nSystem.out.println(converted);\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>// MyClass\nprivate static Stream&lt;Long&gt; streamOfCountryIDs(Response response) {\n    String permission = response.getPermission().toUpperCase();\n    if (permission.startsWith(&quot;R-&quot;)) {\n        return countryRepo.getCountriesByRegion(Long.parseLong(permission.substring(2)))\n            .stream();\n    } else if (permission.startsWith(&quot;C-&quot;)) {\n        return Stream.of(Long.parseLong(permission.substring(2)));\n    }\n    // log bad permission and return empty stream or throw an exception if needed\n    System.out.println(&quot;Bad permission: '&quot; + permission + &quot;'&quot;);\n    return Stream.empty();\n}\n\n</code></pre>\n"}],"owner":{"account_id":23526594,"reputation":249,"user_id":17573032,"display_name":"Mohsin M"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":141,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":70851003,"answer_count":2,"score":0,"last_activity_date":1643123216,"creation_date":1643020114,"question_id":70832330,"body_markdown":"I am receiving the resposne from some API which is of type:\r\n\r\n    public class Response {\r\n    \r\n        private String role;\r\n        private String permission;\r\n      \r\n        // Setters and getters\r\n    }\r\n\r\nvalue of `Role` could be something like `&quot;Admin&quot;`, `&quot;User&quot;` etc and value of permission is something like `&quot;R-4&quot;`, `&quot;C-44&quot;` etc. `&quot;R-&quot;` indicates Region and `&quot;C-&quot;` indicates country.\r\nSo initially I constructed Map&lt;String, Set&lt;String&gt;&gt; by doing:\r\n\r\n    Map&lt;String, Set&lt;String&gt;&gt; initialMap= responseList.stream().collect(\r\n        Collectors.groupingBy(Reponse::getRole, HashMap::new, \r\n        Collectors.mapping(Reponse::getPermission, Collectors.toSet()))\r\n    );\r\n\r\nBut for my application, I want map to be `Map&lt;String, Set&lt;Long&gt;&gt;` which indicate Role and respective countries associated with that role. Basically, I want to remove `&quot;R-&quot;` and `&quot;C-&quot;` from the Set&lt;Long&gt; which is value of `hashmap`. When value is something like `&quot;R-4&quot;` then I want to remove `&quot;R-&quot;` and use id which is `4` in this example and pass this id to database to get the `List&lt;Long&gt; countries` and add it into value of `hashmap`.  When value is something like `&quot;C-44&quot;` then I want to remove `&quot;C-&quot;` and add that id into value of `hashmap`.\r\nOne approach could be manually iterating over each entry of `initialMap` and then getting it&#39;s corresponding `Set&lt;String&gt;` value and then again iterating over `Set&lt;String&gt;` to get `String` value and then converting it to `Long`. I was thinking is there any better way to do this using Streams? can I directly construct `Map&lt;String, Set&lt;Long&gt;&gt;` from my initial `reponseList`?\r\n\r\n","title":"Given a map of type Map&lt;K, List&lt;V&gt;&gt;, how to update value within List&lt;V&gt; using Java streams?","body":"<p>I am receiving the resposne from some API which is of type:</p>\n<pre><code>public class Response {\n\n    private String role;\n    private String permission;\n  \n    // Setters and getters\n}\n</code></pre>\n<p>value of <code>Role</code> could be something like <code>&quot;Admin&quot;</code>, <code>&quot;User&quot;</code> etc and value of permission is something like <code>&quot;R-4&quot;</code>, <code>&quot;C-44&quot;</code> etc. <code>&quot;R-&quot;</code> indicates Region and <code>&quot;C-&quot;</code> indicates country.\nSo initially I constructed Map&lt;String, Set&gt; by doing:</p>\n<pre><code>Map&lt;String, Set&lt;String&gt;&gt; initialMap= responseList.stream().collect(\n    Collectors.groupingBy(Reponse::getRole, HashMap::new, \n    Collectors.mapping(Reponse::getPermission, Collectors.toSet()))\n);\n</code></pre>\n<p>But for my application, I want map to be <code>Map&lt;String, Set&lt;Long&gt;&gt;</code> which indicate Role and respective countries associated with that role. Basically, I want to remove <code>&quot;R-&quot;</code> and <code>&quot;C-&quot;</code> from the Set which is value of <code>hashmap</code>. When value is something like <code>&quot;R-4&quot;</code> then I want to remove <code>&quot;R-&quot;</code> and use id which is <code>4</code> in this example and pass this id to database to get the <code>List&lt;Long&gt; countries</code> and add it into value of <code>hashmap</code>.  When value is something like <code>&quot;C-44&quot;</code> then I want to remove <code>&quot;C-&quot;</code> and add that id into value of <code>hashmap</code>.\nOne approach could be manually iterating over each entry of <code>initialMap</code> and then getting it's corresponding <code>Set&lt;String&gt;</code> value and then again iterating over <code>Set&lt;String&gt;</code> to get <code>String</code> value and then converting it to <code>Long</code>. I was thinking is there any better way to do this using Streams? can I directly construct <code>Map&lt;String, Set&lt;Long&gt;&gt;</code> from my initial <code>reponseList</code>?</p>\n"},{"tags":["java","android","kotlin","kotlin-coroutines","android-multi-module"],"answers":[{"tags":[],"owner":{"account_id":18571239,"reputation":4748,"user_id":13533028,"display_name":"Narendra_Nath"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643122243,"creation_date":1643122243,"answer_id":70850747,"question_id":70850650,"body_markdown":"You can definitely use coroutines in your kotlin class without any problem. The syntax remains the same as any normal kotlin project.\r\n\r\nOn top of that, you can even use coroutines in your Java Class by a workaround using this.\r\n\r\n[Implementing Coroutines in Java][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/2846943/13533028","title":"can I use coroutine in a multi module multi language( kotlin and java ) project app?","body":"<p>You can definitely use coroutines in your kotlin class without any problem. The syntax remains the same as any normal kotlin project.</p>\n<p>On top of that, you can even use coroutines in your Java Class by a workaround using this.</p>\n<p><a href=\"https://stackoverflow.com/a/2846943/13533028\">Implementing Coroutines in Java</a></p>\n"}],"owner":{"account_id":15350717,"reputation":420,"user_id":11074576,"display_name":"daya pangestu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":407,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1643122243,"creation_date":1643121796,"question_id":70850650,"body_markdown":"lets say there is an android project with module a, b and c all written in java. then I add another module, module d in the project. can I still use coroutine internally in module d?\r\n\r\nI know I cannot use it in java module, but does coroutine still work in this project even though specific module that use coroutine was pure kotlin\r\n","title":"can I use coroutine in a multi module multi language( kotlin and java ) project app?","body":"<p>lets say there is an android project with module a, b and c all written in java. then I add another module, module d in the project. can I still use coroutine internally in module d?</p>\n<p>I know I cannot use it in java module, but does coroutine still work in this project even though specific module that use coroutine was pure kotlin</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":3769835,"reputation":964,"user_id":3132351,"display_name":"EverNight"},"score":1,"creation_date":1643103818,"post_id":70846311,"comment_id":125245087,"body_markdown":"It highlights the fact that it&#39;s the same code.","body":"It highlights the fact that it&#39;s the same code."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1643104410,"post_id":70846311,"comment_id":125245304,"body_markdown":"On my machine, I get the same result for Java 8 and Java 16 and Java 17.  The result is 20.  (Which matches my understanding of what it should be.)","body":"On my machine, I get the same result for Java 8 and Java 16 and Java 17.  The result is 20.  (Which matches my understanding of what it should be.)"},{"owner":{"account_id":3769835,"reputation":964,"user_id":3132351,"display_name":"EverNight"},"score":0,"creation_date":1643104468,"post_id":70846311,"comment_id":125245330,"body_markdown":"looks like a specific bug for 13....","body":"looks like a specific bug for 13...."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1643104573,"post_id":70846311,"comment_id":125245365,"body_markdown":"Well ... maybe ... or maybe you somehow have a borked JDK installation.  Either way, Java 13 is EOL.  You (and anyone else reading this!) should at this point be using Java 11 or Java 17.  Java 12 through 16 are all EOL.","body":"Well ... maybe ... or maybe you somehow have a borked JDK installation.  Either way, Java 13 is EOL.  You (and anyone else reading this!) should at this point be using Java 11 or Java 17.  Java 12 through 16 are all EOL."},{"owner":{"account_id":440158,"reputation":323231,"user_id":829571,"accept_rate":94,"display_name":"assylias"},"score":1,"creation_date":1643104963,"post_id":70846311,"comment_id":125245511,"body_markdown":"I have 13.0.2 installed on my machine - can&#39;t reproduce. (It outputs 20 as expected). Maybe try to rebuild your project or something - you may be running a different piece of code.","body":"I have 13.0.2 installed on my machine - can&#39;t reproduce. (It outputs 20 as expected). Maybe try to rebuild your project or something - you may be running a different piece of code."},{"owner":{"account_id":3769835,"reputation":964,"user_id":3132351,"display_name":"EverNight"},"score":0,"creation_date":1643105017,"post_id":70846311,"comment_id":125245532,"body_markdown":"@assylias I rebuilt it a few times....","body":"@assylias I rebuilt it a few times...."},{"owner":{"account_id":440158,"reputation":323231,"user_id":829571,"accept_rate":94,"display_name":"assylias"},"score":0,"creation_date":1643105047,"post_id":70846311,"comment_id":125245546,"body_markdown":"I have adoptopenjdk v13.0.2+8","body":"I have adoptopenjdk v13.0.2+8"},{"owner":{"account_id":7226774,"reputation":19717,"user_id":5515060,"accept_rate":100,"display_name":"Lino"},"score":1,"creation_date":1643105407,"post_id":70846311,"comment_id":125245676,"body_markdown":"Can you compile and run both programs without an IDE? is the result still the same?","body":"Can you compile and run both programs without an IDE? is the result still the same?"},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1643105519,"post_id":70846311,"comment_id":125245708,"body_markdown":"Yea ... it could be that one of the IDE&#39;s is running a stale .class file ... i.e. one that doesn&#39;t match the source code that you are looking at.  Note that the actual behavior here (static initialization) is implemented in the JVM itself.","body":"Yea ... it could be that one of the IDE&#39;s is running a stale .class file ... i.e. one that doesn&#39;t match the source code that you are looking at.  Note that the actual behavior here (static initialization) is implemented in the JVM itself."},{"owner":{"account_id":3769835,"reputation":964,"user_id":3132351,"display_name":"EverNight"},"score":0,"creation_date":1643106575,"post_id":70846311,"comment_id":125246103,"body_markdown":"@StephenC; @assylias ;@Lino Compilation of the source code through command line javac &amp; java jdk 3 bundle execution yields different (and also correct) results from what the IDE executes.","body":"@StephenC; @assylias ;@Lino Compilation of the source code through command line javac &amp; java jdk 3 bundle execution yields different (and also correct) results from what the IDE executes."},{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":0,"creation_date":1643108010,"post_id":70846311,"comment_id":125246662,"body_markdown":"I just grabbed the `adoptopenjdk:13.0.2_8-jre-openj9-0.18.0-bionic` Docker image, which seems to match the AdoptOpenJDK version you are running. Compiled the code and ran it, and the output was **20**. Therefore, I cannot reproduce it.","body":"I just grabbed the <code>adoptopenjdk:13.0.2_8-jre-openj9-0.18.0-bionic</code> Docker image, which seems to match the AdoptOpenJDK version you are running. Compiled the code and ran it, and the output was <b>20</b>. Therefore, I cannot reproduce it."},{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":1,"creation_date":1643108293,"post_id":70846311,"comment_id":125246788,"body_markdown":"While we&#39;re at the subject â€” you shouldn&#39;t use `Date` anymore. It&#39;s outdated, archaic and antique. Also, it&#39;s [troublesome](https://stackoverflow.com/q/1969442/507738). Use classes from `java.time` instead.","body":"While we&#39;re at the subject â€” you shouldn&#39;t use <code>Date</code> anymore. It&#39;s outdated, archaic and antique. Also, it&#39;s <a href=\"https://stackoverflow.com/q/1969442/507738\">troublesome</a>. Use classes from <code>java.time</code> instead."}],"answers":[{"tags":[],"owner":{"account_id":3769835,"reputation":964,"user_id":3132351,"display_name":"EverNight"},"down_vote_count":3,"up_vote_count":4,"is_accepted":true,"score":1,"last_activity_date":1643122163,"creation_date":1643107171,"answer_id":70847210,"question_id":70846311,"body_markdown":"**ANSWER: Underlying problem determined to exist in IDE&#39;s compilation/build/execution routine.**\r\n\r\nReinstall and update IDE, adoption of non-EOL JDK.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nAlso, I did not import existing IDE settings.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/rWCHa.png","title":"Static initialization block differences between Java 13 and Java 8; with different IDE versions (netbeans 8.2 vs outdated apache netbeans 12)","body":"<p><strong>ANSWER: Underlying problem determined to exist in IDE's compilation/build/execution routine.</strong></p>\n<p>Reinstall and update IDE, adoption of non-EOL JDK.</p>\n<p><a href=\"https://i.stack.imgur.com/rWCHa.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/rWCHa.png\" alt=\"enter image description here\" /></a></p>\n<p>Also, I did not import existing IDE settings.</p>\n"}],"owner":{"account_id":3769835,"reputation":964,"user_id":3132351,"display_name":"EverNight"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":355,"favorite_count":0,"down_vote_count":2,"up_vote_count":10,"accepted_answer_id":70847210,"answer_count":1,"score":8,"last_activity_date":1643122223,"creation_date":1643103318,"question_id":70846311,"body_markdown":"The only discernable difference between these two programs is the Java version.\r\n\r\nThe question is: what on earth is going on?\r\n\r\nThis image is proof that both programs contain exactly the same code, while producing different results.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/imRnZ.png\r\n\r\n\r\nhere is the code:\r\n\r\n```java\r\nstatic int x = 10;\r\n\r\nstatic {\r\n    x = x + 10;\r\n}\r\n\r\npublic static void main(String[] args) {\r\n    System.out.println(System.getProperty(&quot;java.version&quot;));\r\n    System.out.println(new Date(System.currentTimeMillis()));\r\n    System.out.println(x);\r\n}\r\n```\r\n\r\n - LEFT side is using the old netbeans distribution.\r\n - RIGHT side is using the apache netbeans IDE.\r\n\r\n\r\n - LEFT side is using jdk8 (see image)\r\n - RIGHT side is using jdk13 (see image)\r\n\r\nBased on the comments:\r\njdk13 is EOL ... but some people are unable to reproduce it while using jdk13.\r\n\r\nThe question is: what&#39;s causing this?\r\n\r\n- netbeans distribution?\r\n- borked jdk\r\n- ... some setting in the apache IDE?\r\n- ... the stars being out of alignemnt?\r\n- etc.\r\n\r\n","title":"Static initialization block differences between Java 13 and Java 8; with different IDE versions (netbeans 8.2 vs outdated apache netbeans 12)","body":"<p>The only discernable difference between these two programs is the Java version.</p>\n<p>The question is: what on earth is going on?</p>\n<p>This image is proof that both programs contain exactly the same code, while producing different results.</p>\n<p><a href=\"https://i.stack.imgur.com/imRnZ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/imRnZ.png\" alt=\"enter image description here\" /></a></p>\n<p>here is the code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>static int x = 10;\n\nstatic {\n    x = x + 10;\n}\n\npublic static void main(String[] args) {\n    System.out.println(System.getProperty(&quot;java.version&quot;));\n    System.out.println(new Date(System.currentTimeMillis()));\n    System.out.println(x);\n}\n</code></pre>\n<ul>\n<li><p>LEFT side is using the old netbeans distribution.</p>\n</li>\n<li><p>RIGHT side is using the apache netbeans IDE.</p>\n</li>\n<li><p>LEFT side is using jdk8 (see image)</p>\n</li>\n<li><p>RIGHT side is using jdk13 (see image)</p>\n</li>\n</ul>\n<p>Based on the comments:\njdk13 is EOL ... but some people are unable to reproduce it while using jdk13.</p>\n<p>The question is: what's causing this?</p>\n<ul>\n<li>netbeans distribution?</li>\n<li>borked jdk</li>\n<li>... some setting in the apache IDE?</li>\n<li>... the stars being out of alignemnt?</li>\n<li>etc.</li>\n</ul>\n"},{"tags":["java","selenium-webdriver","drag-and-drop"],"comments":[{"owner":{"account_id":22450291,"reputation":364,"user_id":16653700,"display_name":"Alias Cartellano"},"score":0,"creation_date":1643147589,"post_id":70850569,"comment_id":125262361,"body_markdown":"Try `builder.clickAndHold(fromElement)\n.moveToElement(toElement)\n.release(toElement)\n.build();`. source:[How to drag and drop in Selenium - BrowserStack](https://www.browserstack.com/guide/drag-and-drop-in-selenium).","body":"Try <code>builder.clickAndHold(fromElement) .moveToElement(toElement) .release(toElement) .build();</code>. source:<a href=\"https://www.browserstack.com/guide/drag-and-drop-in-selenium\" rel=\"nofollow noreferrer\">How to drag and drop in Selenium - BrowserStack</a>."},{"owner":{"account_id":24048844,"reputation":21,"user_id":18027558,"display_name":"Anjum Hussaina"},"score":0,"creation_date":1643202365,"post_id":70850569,"comment_id":125275933,"body_markdown":"I tried using the mentioned method as well but it is still not working. It is clicking and holding the target element but not moving the element to the destination. @AliasCartellano","body":"I tried using the mentioned method as well but it is still not working. It is clicking and holding the target element but not moving the element to the destination. @AliasCartellano"}],"owner":{"account_id":24048844,"reputation":21,"user_id":18027558,"display_name":"Anjum Hussaina"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1082,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1643121510,"creation_date":1643121510,"question_id":70850569,"body_markdown":"I am trying to drag a text into another text using Selenium WebDriver but it&#39;s not working. I tried all the solutions which I can find but none of the solutions are working. I observe the clickAndHold is getting performed but moveToElement and dropping of the element is not happening.It is identifying the text to be dragged and holding it but for some reason it is not moving the text and dropping it to the desired location. Tried with different menthods and xpath as well. PFB the methods that i tried:\r\n\r\nMETHOD 1:\r\n \r\n```\r\n     public void DragAndDrop(String ObjectName, String OtherElement)\r\n             {\r\n                         WebElement ActionObject = GetObject(ObjectName); \r\n                          WebElement DropObject = GetObject(OtherElement);\r\n    \r\n             \r\n             if(ActionObject.isDisplayed() &amp;&amp; DropObject.isDisplayed()) {\r\n             if(GetBrowserInfo().startsWith(&quot;IE&quot;)) MoveToObject(ActionObject); \r\n    {\r\n            Actions builder = new Actions(driver); \r\n            \r\n         Actions dragAndDrop = (Actions)builder.clickAndHold(ActionObject).dragAndDrop(ActionObject,DropObject).build()\r\n             dragAndDrop.perform();\r\n             } \r\n```    \r\n       \r\nMETHOD 2:\r\n\r\n```\r\npublic void DragAndDrop(String ObjectName, String OtherElement) \r\n         { \r\n               try {\r\n         WebElement ActionObject = GetObject(ObjectName); \r\n         WebElement DropObject = GetObject(OtherElement);\r\n         \r\n         if(ActionObject.isEnabled() &amp;&amp; ActionObject.isDisplayed()) \r\n         {\r\n         if(GetBrowserInfo().startsWith(&quot;IE&quot;)) MoveToObject(ActionObject); \r\n         try {\r\n         Actions builder = new Actions(driver);\r\n         \r\n         Action dragDrop = builder.dragAndDrop(ActionObject, DropObject).build();\r\n         dragDrop.perform();\r\n         } \r\n```\r\n\r\n\r\nMETHOD 3:\r\n```\r\npublic void DragAndDrop(String ObjectName, String OtherElement) { try {\r\n         WebElement ActionObject = GetObject(ObjectName); WebElement DropObject =\r\n         GetObject(OtherElement);\r\n         \r\n         if(ActionObject.isDisplayed() &amp;&amp; DropObject.isDisplayed()) {\r\n         if(GetBrowserInfo().startsWith(&quot;IE&quot;)) MoveToObject(ActionObject); try {\r\n         \r\n         Thread.sleep(3000); JavascriptExecutor js = (JavascriptExecutor) driver;\r\n         \r\n         js.executeScript(&quot;function createEvent(typeOfEvent) {\\n&quot; +\r\n         &quot;var event =document.createEvent(\\&quot;CustomEvent\\&quot;);\\n&quot; +\r\n         &quot;event.initCustomEvent(typeOfEvent,true, true, null);\\n&quot; +\r\n         &quot;event.dataTransfer = {\\n&quot; + &quot;data: {},\\n&quot; +\r\n         &quot;setData: function (key, value) {\\n&quot; + &quot;this.data[key] = value;\\n&quot; + &quot;},\\n&quot; +\r\n         &quot;getData: function (key) {\\n&quot; + &quot;return this.data[key];\\n&quot; + &quot;}\\n&quot; + &quot;};\\n&quot; +\r\n         &quot;return event;\\n&quot; + &quot;}\\n&quot; + &quot;\\n&quot; +\r\n         &quot;function dispatchEvent(element, event,transferData) {\\n&quot; +\r\n         &quot;if (transferData !== undefined) {\\n&quot; +\r\n         &quot;event.dataTransfer = transferData;\\n&quot; + &quot;}\\n&quot; +\r\n         &quot;if (element.dispatchEvent) {\\n&quot; + &quot;element.dispatchEvent(event);\\n&quot; +\r\n         &quot;} else if (element.fireEvent) {\\n&quot; +\r\n         &quot;element.fireEvent(\\&quot;on\\&quot; + event.type, event);\\n&quot; + &quot;}\\n&quot; + &quot;}\\n&quot; + &quot;\\n&quot; +\r\n         &quot;function simulateHTML5DragAndDrop(element, destination) {\\n&quot; +\r\n         &quot;var dragStartEvent =createEvent(&#39;dragstart&#39;);\\n&quot; +\r\n         &quot;dispatchEvent(element, dragStartEvent);\\n&quot; +\r\n         &quot;var dropEvent = createEvent(&#39;drop&#39;);\\n&quot; +\r\n         &quot;dispatchEvent(destination, dropEvent,dragStartEvent.dataTransfer);\\n&quot; +\r\n         &quot;var dragEndEvent = createEvent(&#39;dragend&#39;);\\n&quot; +\r\n         &quot;dispatchEvent(element, dragEndEvent,dropEvent.dataTransfer);\\n&quot; + &quot;}\\n&quot; +\r\n         &quot;\\n&quot; + &quot;var source = arguments[0];\\n&quot; + &quot;var destination = arguments[1];\\n&quot; +\r\n         &quot;simulateHTML5DragAndDrop(source,destination);&quot;, ActionObject, DropObject);\r\n         \r\n         } \r\n```\r\n\r\nMETHOD 4:\r\n```\r\npublic void DragAndDrop(String a, String b) \r\n{ try {\r\n         WebElement a = driver.findElement(By.cssSelector(&quot;your_selector&quot;)); //\r\n         WebElement b = driver.findElement(By.cssSelector(&quot;your_selector&quot;));\r\n         \r\nint x = b.getLocation().x; int y = b.getLocation().y;\r\n         \r\n         Actions actions = new Actions(driver); actions.moveToElement(a)\r\n         .pause(Duration.ofSeconds(1)) .clickAndHold(a) .pause(Duration.ofSeconds(1))\r\n         .moveByOffset(x, y) .moveToElement(b) .moveByOffset(x,y)\r\n         .pause(Duration.ofSeconds(1)) .release().build().perform(); \r\n       } catch (Exception e) { Environment.loger.log(Level.ERROR,&quot;Exception occured&quot;); }\r\n```\r\n\r\nMETHOD 5:\r\n```\r\nbuilder.keyDown(Keys.CONTROL)  .click(ActionObject)\r\n         .dragAndDrop(element, DropObject)  .keyUp(Keys.CONTROL);  Action\r\n         selected = builder.build(); selected.perform(); \r\n } \r\n         }\r\n\r\n```\r\nNone of the above methods are working. All the above runs without any error but drag and drop is not happening in the application.I am using chrome browser. Can anyone help me please?\r\n\r\n","title":"Drag and Drop not working using Selenium WebDriver","body":"<p>I am trying to drag a text into another text using Selenium WebDriver but it's not working. I tried all the solutions which I can find but none of the solutions are working. I observe the clickAndHold is getting performed but moveToElement and dropping of the element is not happening.It is identifying the text to be dragged and holding it but for some reason it is not moving the text and dropping it to the desired location. Tried with different menthods and xpath as well. PFB the methods that i tried:</p>\n<p>METHOD 1:</p>\n<pre><code>     public void DragAndDrop(String ObjectName, String OtherElement)\n             {\n                         WebElement ActionObject = GetObject(ObjectName); \n                          WebElement DropObject = GetObject(OtherElement);\n    \n             \n             if(ActionObject.isDisplayed() &amp;&amp; DropObject.isDisplayed()) {\n             if(GetBrowserInfo().startsWith(&quot;IE&quot;)) MoveToObject(ActionObject); \n    {\n            Actions builder = new Actions(driver); \n            \n         Actions dragAndDrop = (Actions)builder.clickAndHold(ActionObject).dragAndDrop(ActionObject,DropObject).build()\n             dragAndDrop.perform();\n             } \n</code></pre>\n<p>METHOD 2:</p>\n<pre><code>public void DragAndDrop(String ObjectName, String OtherElement) \n         { \n               try {\n         WebElement ActionObject = GetObject(ObjectName); \n         WebElement DropObject = GetObject(OtherElement);\n         \n         if(ActionObject.isEnabled() &amp;&amp; ActionObject.isDisplayed()) \n         {\n         if(GetBrowserInfo().startsWith(&quot;IE&quot;)) MoveToObject(ActionObject); \n         try {\n         Actions builder = new Actions(driver);\n         \n         Action dragDrop = builder.dragAndDrop(ActionObject, DropObject).build();\n         dragDrop.perform();\n         } \n</code></pre>\n<p>METHOD 3:</p>\n<pre><code>public void DragAndDrop(String ObjectName, String OtherElement) { try {\n         WebElement ActionObject = GetObject(ObjectName); WebElement DropObject =\n         GetObject(OtherElement);\n         \n         if(ActionObject.isDisplayed() &amp;&amp; DropObject.isDisplayed()) {\n         if(GetBrowserInfo().startsWith(&quot;IE&quot;)) MoveToObject(ActionObject); try {\n         \n         Thread.sleep(3000); JavascriptExecutor js = (JavascriptExecutor) driver;\n         \n         js.executeScript(&quot;function createEvent(typeOfEvent) {\\n&quot; +\n         &quot;var event =document.createEvent(\\&quot;CustomEvent\\&quot;);\\n&quot; +\n         &quot;event.initCustomEvent(typeOfEvent,true, true, null);\\n&quot; +\n         &quot;event.dataTransfer = {\\n&quot; + &quot;data: {},\\n&quot; +\n         &quot;setData: function (key, value) {\\n&quot; + &quot;this.data[key] = value;\\n&quot; + &quot;},\\n&quot; +\n         &quot;getData: function (key) {\\n&quot; + &quot;return this.data[key];\\n&quot; + &quot;}\\n&quot; + &quot;};\\n&quot; +\n         &quot;return event;\\n&quot; + &quot;}\\n&quot; + &quot;\\n&quot; +\n         &quot;function dispatchEvent(element, event,transferData) {\\n&quot; +\n         &quot;if (transferData !== undefined) {\\n&quot; +\n         &quot;event.dataTransfer = transferData;\\n&quot; + &quot;}\\n&quot; +\n         &quot;if (element.dispatchEvent) {\\n&quot; + &quot;element.dispatchEvent(event);\\n&quot; +\n         &quot;} else if (element.fireEvent) {\\n&quot; +\n         &quot;element.fireEvent(\\&quot;on\\&quot; + event.type, event);\\n&quot; + &quot;}\\n&quot; + &quot;}\\n&quot; + &quot;\\n&quot; +\n         &quot;function simulateHTML5DragAndDrop(element, destination) {\\n&quot; +\n         &quot;var dragStartEvent =createEvent('dragstart');\\n&quot; +\n         &quot;dispatchEvent(element, dragStartEvent);\\n&quot; +\n         &quot;var dropEvent = createEvent('drop');\\n&quot; +\n         &quot;dispatchEvent(destination, dropEvent,dragStartEvent.dataTransfer);\\n&quot; +\n         &quot;var dragEndEvent = createEvent('dragend');\\n&quot; +\n         &quot;dispatchEvent(element, dragEndEvent,dropEvent.dataTransfer);\\n&quot; + &quot;}\\n&quot; +\n         &quot;\\n&quot; + &quot;var source = arguments[0];\\n&quot; + &quot;var destination = arguments[1];\\n&quot; +\n         &quot;simulateHTML5DragAndDrop(source,destination);&quot;, ActionObject, DropObject);\n         \n         } \n</code></pre>\n<p>METHOD 4:</p>\n<pre><code>public void DragAndDrop(String a, String b) \n{ try {\n         WebElement a = driver.findElement(By.cssSelector(&quot;your_selector&quot;)); //\n         WebElement b = driver.findElement(By.cssSelector(&quot;your_selector&quot;));\n         \nint x = b.getLocation().x; int y = b.getLocation().y;\n         \n         Actions actions = new Actions(driver); actions.moveToElement(a)\n         .pause(Duration.ofSeconds(1)) .clickAndHold(a) .pause(Duration.ofSeconds(1))\n         .moveByOffset(x, y) .moveToElement(b) .moveByOffset(x,y)\n         .pause(Duration.ofSeconds(1)) .release().build().perform(); \n       } catch (Exception e) { Environment.loger.log(Level.ERROR,&quot;Exception occured&quot;); }\n</code></pre>\n<p>METHOD 5:</p>\n<pre><code>builder.keyDown(Keys.CONTROL)  .click(ActionObject)\n         .dragAndDrop(element, DropObject)  .keyUp(Keys.CONTROL);  Action\n         selected = builder.build(); selected.perform(); \n } \n         }\n\n</code></pre>\n<p>None of the above methods are working. All the above runs without any error but drag and drop is not happening in the application.I am using chrome browser. Can anyone help me please?</p>\n"},{"tags":["java","apache-sshd"],"comments":[{"owner":{"account_id":3883934,"reputation":491,"user_id":3215802,"display_name":"edgraaff"},"score":0,"creation_date":1642502962,"post_id":67973942,"comment_id":125082157,"body_markdown":"If your `id_rsa` file is in `~/.ssh`, it works out of the box. No need to call `session.addPublicKeyIdentity`. I haven&#39;t found a way yet to load a _different_ private key file though.","body":"If your <code>id_rsa</code> file is in <code>~&#47;.ssh</code>, it works out of the box. No need to call <code>session.addPublicKeyIdentity</code>. I haven&#39;t found a way yet to load a <i>different</i> private key file though."}],"answers":[{"tags":[],"owner":{"account_id":4942985,"reputation":1,"user_id":3979210,"display_name":"bessonm"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643121329,"creation_date":1643121329,"answer_id":70850530,"question_id":67973942,"body_markdown":"You may try to use `org.apache.sshd.common.keyprovider.FileKeyPairProvider` instead.\r\n\r\nExample: \r\n\r\n    FileKeyPairProvider provider = new FileKeyPairProvider(/*Path to your privateKey*/);\r\n    provider.setPasswordFinder(FilePasswordProvider.of(/*your private key passphrase*/));\r\n    session.setKeyIdentityProvider(provider);","title":"Apache SSHD client: authenticate with identity file","body":"<p>You may try to use <code>org.apache.sshd.common.keyprovider.FileKeyPairProvider</code> instead.</p>\n<p>Example:</p>\n<pre><code>FileKeyPairProvider provider = new FileKeyPairProvider(/*Path to your privateKey*/);\nprovider.setPasswordFinder(FilePasswordProvider.of(/*your private key passphrase*/));\nsession.setKeyIdentityProvider(provider);\n</code></pre>\n"}],"owner":{"account_id":21944507,"reputation":11,"user_id":16224559,"display_name":"pf76"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1394,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1643121329,"creation_date":1623688002,"question_id":67973942,"body_markdown":"I am trying to write an SSH client using MINA SSHD, connecting with an identity file generated by openSSH (`id_rsa` and the corresponding public key `id_rsa.pub`)\r\n\r\nThe [docs](https://github.com/apache/mina-sshd/blob/master/docs/client-setup.md) say to write something along these lines:\r\n\r\n```\r\n    SshClient client = SshClient.setUpDefaultClient();\r\n    client.start();\r\n\r\n    // using the client for multiple sessions...\r\n    try (ClientSession session = client.connect(user, host, port)\r\n                .verify(1000)\r\n                .getSession()) {\r\n        session.addPublicKeyIdentity(/* ...key-pair... */);\r\n        session.auth().verify(1000);\r\n        // ...\r\n    }\r\n    client.stop();\r\n\r\n```\r\n\r\nHow do I build the argument to the method `addPublicKeyIdentity`? How do I convert my identity file to a `KeyPair`?\r\n\r\nMany thanks\r\n","title":"Apache SSHD client: authenticate with identity file","body":"<p>I am trying to write an SSH client using MINA SSHD, connecting with an identity file generated by openSSH (<code>id_rsa</code> and the corresponding public key <code>id_rsa.pub</code>)</p>\n<p>The <a href=\"https://github.com/apache/mina-sshd/blob/master/docs/client-setup.md\" rel=\"nofollow noreferrer\">docs</a> say to write something along these lines:</p>\n<pre><code>    SshClient client = SshClient.setUpDefaultClient();\n    client.start();\n\n    // using the client for multiple sessions...\n    try (ClientSession session = client.connect(user, host, port)\n                .verify(1000)\n                .getSession()) {\n        session.addPublicKeyIdentity(/* ...key-pair... */);\n        session.auth().verify(1000);\n        // ...\n    }\n    client.stop();\n\n</code></pre>\n<p>How do I build the argument to the method <code>addPublicKeyIdentity</code>? How do I convert my identity file to a <code>KeyPair</code>?</p>\n<p>Many thanks</p>\n"},{"tags":["java","maven","ant","obfuscation","yguard"],"answers":[{"tags":[],"owner":{"account_id":1879731,"reputation":180,"user_id":1700201,"accept_rate":46,"display_name":"Ivan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643121105,"creation_date":1643120798,"answer_id":70850371,"question_id":70787231,"body_markdown":"Problem was related to other libraries that uses the asm artifact too. So I had to do the following:\r\n\r\n1- Exclude asm from yguard\r\n\r\n2- Add asm to my pom.xml\r\n\r\n3- Exclude all the asm references from other libraries (in my case 2 libraries): \r\n   1- jasperreports used itext and olap4j that both used asm\r\n   2- retroweaver\r\n\r\n4- Add manually the excluded libraries\r\n\r\n\r\n\t    &lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.yworks&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;yguard&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.0.0&lt;/version&gt;\r\n\t\t\t&lt;exclusions&gt; \r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t &lt;groupId&gt;org.ow2.asm&lt;/groupId&gt;\r\n      \t\t\t\t &lt;artifactId&gt;asm&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/exclusion&gt;\t\r\n\t\t\t&lt;/exclusions&gt;\t\t\t\r\n\t\t&lt;/dependency&gt;\t\t\r\n\t\t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;org.ow2.asm&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;asm&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;7.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;net.sf.jasperreports&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jasperreports&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;6.4.1&lt;/version&gt;\t\t\t\t\t\r\n\t\t\t&lt;exclusions&gt; \r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t &lt;groupId&gt;com.lowagie&lt;/groupId&gt;\r\n      \t\t\t\t &lt;artifactId&gt;itext&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t &lt;groupId&gt;org.olap4j&lt;/groupId&gt;\r\n      \t\t\t\t &lt;artifactId&gt;olap4j&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/exclusion&gt;\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t&lt;/exclusions&gt;\t\t\t\t\t\t\t\t\t\r\n\t\t&lt;/dependency&gt;\t\t\r\n\t\t&lt;dependency&gt;\r\n  \t\t\t&lt;groupId&gt;net.sourceforge.retroweaver&lt;/groupId&gt;\r\n  \t\t\t&lt;artifactId&gt;retroweaver&lt;/artifactId&gt;\r\n  \t\t\t&lt;version&gt;1.2.4&lt;/version&gt;\t\r\n\t\t\t&lt;exclusions&gt; \r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t      &lt;groupId&gt;asm&lt;/groupId&gt;\r\n\t\t\t      &lt;artifactId&gt;asm&lt;/artifactId&gt;\r\n      \t\t\t&lt;/exclusion&gt;\t\r\n\t\t\t&lt;/exclusions&gt;\t\t\t  \t\t\t\t\r\n\t\t&lt;/dependency&gt;\t\t\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.olap4j&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;olap4j&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;0.9.7.309-JS-3&lt;/version&gt;\r\n\t\t\t&lt;exclusions&gt; \r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t &lt;groupId&gt;net.sourceforge.retroweaver&lt;/groupId&gt;\r\n      \t\t\t\t &lt;artifactId&gt;retroweaver&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t&lt;groupId&gt;asm&lt;/groupId&gt;\r\n\t\t  \t\t\t&lt;artifactId&gt;asm&lt;/artifactId&gt;\r\n\t\t  \t\t&lt;/exclusion&gt;\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t&lt;/exclusions&gt;\t\t\t\r\n\t\t&lt;/dependency&gt;","title":"Problem obfuscating a JAR file using Yguard (com.yworks.yshrink.model.ModelVisitor has interface org.objectweb.asm.ClassVisitor as super class)","body":"<p>Problem was related to other libraries that uses the asm artifact too. So I had to do the following:</p>\n<p>1- Exclude asm from yguard</p>\n<p>2- Add asm to my pom.xml</p>\n<p>3- Exclude all the asm references from other libraries (in my case 2 libraries):\n1- jasperreports used itext and olap4j that both used asm\n2- retroweaver</p>\n<p>4- Add manually the excluded libraries</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;com.yworks&lt;/groupId&gt;\n        &lt;artifactId&gt;yguard&lt;/artifactId&gt;\n        &lt;version&gt;3.0.0&lt;/version&gt;\n        &lt;exclusions&gt; \n            &lt;exclusion&gt;\n                 &lt;groupId&gt;org.ow2.asm&lt;/groupId&gt;\n                 &lt;artifactId&gt;asm&lt;/artifactId&gt;\n            &lt;/exclusion&gt;    \n        &lt;/exclusions&gt;           \n    &lt;/dependency&gt;       \n    &lt;dependency&gt;\n        &lt;groupId&gt;org.ow2.asm&lt;/groupId&gt;\n        &lt;artifactId&gt;asm&lt;/artifactId&gt;\n        &lt;version&gt;7.2&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;net.sf.jasperreports&lt;/groupId&gt;\n        &lt;artifactId&gt;jasperreports&lt;/artifactId&gt;\n        &lt;version&gt;6.4.1&lt;/version&gt;                    \n        &lt;exclusions&gt; \n            &lt;exclusion&gt;\n                 &lt;groupId&gt;com.lowagie&lt;/groupId&gt;\n                 &lt;artifactId&gt;itext&lt;/artifactId&gt;\n            &lt;/exclusion&gt;\n            &lt;exclusion&gt;\n                 &lt;groupId&gt;org.olap4j&lt;/groupId&gt;\n                 &lt;artifactId&gt;olap4j&lt;/artifactId&gt;\n            &lt;/exclusion&gt;                                                    \n        &lt;/exclusions&gt;                                   \n    &lt;/dependency&gt;       \n    &lt;dependency&gt;\n        &lt;groupId&gt;net.sourceforge.retroweaver&lt;/groupId&gt;\n        &lt;artifactId&gt;retroweaver&lt;/artifactId&gt;\n        &lt;version&gt;1.2.4&lt;/version&gt;    \n        &lt;exclusions&gt; \n            &lt;exclusion&gt;\n              &lt;groupId&gt;asm&lt;/groupId&gt;\n              &lt;artifactId&gt;asm&lt;/artifactId&gt;\n            &lt;/exclusion&gt;    \n        &lt;/exclusions&gt;                           \n    &lt;/dependency&gt;       \n    &lt;dependency&gt;\n        &lt;groupId&gt;org.olap4j&lt;/groupId&gt;\n        &lt;artifactId&gt;olap4j&lt;/artifactId&gt;\n        &lt;version&gt;0.9.7.309-JS-3&lt;/version&gt;\n        &lt;exclusions&gt; \n            &lt;exclusion&gt;\n                 &lt;groupId&gt;net.sourceforge.retroweaver&lt;/groupId&gt;\n                 &lt;artifactId&gt;retroweaver&lt;/artifactId&gt;\n            &lt;/exclusion&gt;\n            &lt;exclusion&gt;\n                &lt;groupId&gt;asm&lt;/groupId&gt;\n                &lt;artifactId&gt;asm&lt;/artifactId&gt;\n            &lt;/exclusion&gt;                                                                    \n        &lt;/exclusions&gt;           \n    &lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":1879731,"reputation":180,"user_id":1700201,"accept_rate":46,"display_name":"Ivan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":928,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1643121105,"creation_date":1642685944,"question_id":70787231,"body_markdown":"I&#39;m trying to obfuscate my generated project JAR file with no success. So I tried to reduce all the steps in order to find out what is going on and I&#39;ve realized that I cannot use yguard at all and I don&#39;t know why. Maybe is an eclipse bad configuration...\r\n\r\nI added the yguard in my pom.xml\r\n\r\n````\r\n\t    &lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.yworks&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;yguard&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.0.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n````\r\n\r\nAnd I added in the pom.xml and excution (during packaging) that tries to obfuscate a single JAR file\r\n\r\n````\r\n&lt;execution&gt;\r\n\t&lt;id&gt;Obfuscate&lt;/id&gt;\r\n\t&lt;phase&gt;package&lt;/phase&gt;\r\n\t&lt;goals&gt;\r\n\t\t&lt;goal&gt;run&lt;/goal&gt;\r\n\t&lt;/goals&gt;\r\n\t&lt;configuration&gt;\r\n \t\t&lt;tasks&gt;\r\n       \t\t&lt;property name=&quot;runtime-classpath&quot; refid=&quot;maven.runtime.classpath&quot;/&gt;\r\n       \t\t&lt;taskdef name=&quot;yguard&quot; classname=&quot;com.yworks.yguard.YGuardTask&quot; classpath=&quot;${runtime-classpath}&quot;/&gt;\r\n       \t\t&lt;yguard&gt;\r\n          \t\t&lt;inoutpair in=&quot;C:/test/example.jar&quot; out=&quot;C:/test/example_obfuscated.jar&quot; /&gt;\r\n           \t\t&lt;shrink/&gt;\r\n            &lt;/yguard&gt;\r\n       &lt;/tasks&gt;\r\n    &lt;/configuration&gt;\r\n&lt;/execution&gt;\r\n````\r\n\r\n&quot;example.jar&quot; is properly placed in &quot;C:/test&quot; and is simply a class file generated manually (in order to simplify my obfuscation test).\r\n````\r\njar cf example.jar myClass.class\r\n````\r\n\r\nWhen I run any MAVEN process that includes the package phase, the execution fails and I receive the following console message:\r\n\r\n````\r\nmain:\r\n   [shrink] yGuard Shrinker v3.0.0 - http://www.yworks.com/products/yguard\r\n   [shrink] no entrypoints given - using class access public and protected on all inoutpairs.\r\n   [shrink] ERROR: class com.yworks.yshrink.model.ModelVisitor has interface org.objectweb.asm.ClassVisitor as super class\r\n   [shrink] class com.yworks.yshrink.model.ModelVisitor has interface org.objectweb.asm.ClassVisitor as super class\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] BUILD FAILURE\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] Total time: 26.382 s\r\n[INFO] Finished at: 2022-01-20T14:32:24+01:00\r\n[INFO] Final Memory: 54M/714M\r\n[INFO] ------------------------------------------------------------------------\r\n[ERROR] Failed to execute goal org.apache.maven.plugins:maven-antrun-plugin:1.7:run (Obfuscate) on project grb: An Ant BuildException has occured: yShrink encountered an unknown severe problem!\r\n[ERROR] around Ant part ...&lt;yguard&gt;... @ 6:11 in C:\\espacio_trabajo_7\\eclipse\\eclipse_2019-09\\workspace\\trunk\\grb\\target\\antrun\\build-main.xml: class com.yworks.yshrink.model.ModelVisitor has interface org.objectweb.asm.ClassVisitor as super class\r\n[ERROR] -&gt; [Help 1]`\r\n````\r\n\r\nAny idea? I really appreciate any help you can provide.\r\n\r\nIvan","title":"Problem obfuscating a JAR file using Yguard (com.yworks.yshrink.model.ModelVisitor has interface org.objectweb.asm.ClassVisitor as super class)","body":"<p>I'm trying to obfuscate my generated project JAR file with no success. So I tried to reduce all the steps in order to find out what is going on and I've realized that I cannot use yguard at all and I don't know why. Maybe is an eclipse bad configuration...</p>\n<p>I added the yguard in my pom.xml</p>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;com.yworks&lt;/groupId&gt;\n            &lt;artifactId&gt;yguard&lt;/artifactId&gt;\n            &lt;version&gt;3.0.0&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>And I added in the pom.xml and excution (during packaging) that tries to obfuscate a single JAR file</p>\n<pre><code>&lt;execution&gt;\n    &lt;id&gt;Obfuscate&lt;/id&gt;\n    &lt;phase&gt;package&lt;/phase&gt;\n    &lt;goals&gt;\n        &lt;goal&gt;run&lt;/goal&gt;\n    &lt;/goals&gt;\n    &lt;configuration&gt;\n        &lt;tasks&gt;\n            &lt;property name=&quot;runtime-classpath&quot; refid=&quot;maven.runtime.classpath&quot;/&gt;\n            &lt;taskdef name=&quot;yguard&quot; classname=&quot;com.yworks.yguard.YGuardTask&quot; classpath=&quot;${runtime-classpath}&quot;/&gt;\n            &lt;yguard&gt;\n                &lt;inoutpair in=&quot;C:/test/example.jar&quot; out=&quot;C:/test/example_obfuscated.jar&quot; /&gt;\n                &lt;shrink/&gt;\n            &lt;/yguard&gt;\n       &lt;/tasks&gt;\n    &lt;/configuration&gt;\n&lt;/execution&gt;\n</code></pre>\n<p>&quot;example.jar&quot; is properly placed in &quot;C:/test&quot; and is simply a class file generated manually (in order to simplify my obfuscation test).</p>\n<pre><code>jar cf example.jar myClass.class\n</code></pre>\n<p>When I run any MAVEN process that includes the package phase, the execution fails and I receive the following console message:</p>\n<pre><code>main:\n   [shrink] yGuard Shrinker v3.0.0 - http://www.yworks.com/products/yguard\n   [shrink] no entrypoints given - using class access public and protected on all inoutpairs.\n   [shrink] ERROR: class com.yworks.yshrink.model.ModelVisitor has interface org.objectweb.asm.ClassVisitor as super class\n   [shrink] class com.yworks.yshrink.model.ModelVisitor has interface org.objectweb.asm.ClassVisitor as super class\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD FAILURE\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time: 26.382 s\n[INFO] Finished at: 2022-01-20T14:32:24+01:00\n[INFO] Final Memory: 54M/714M\n[INFO] ------------------------------------------------------------------------\n[ERROR] Failed to execute goal org.apache.maven.plugins:maven-antrun-plugin:1.7:run (Obfuscate) on project grb: An Ant BuildException has occured: yShrink encountered an unknown severe problem!\n[ERROR] around Ant part ...&lt;yguard&gt;... @ 6:11 in C:\\espacio_trabajo_7\\eclipse\\eclipse_2019-09\\workspace\\trunk\\grb\\target\\antrun\\build-main.xml: class com.yworks.yshrink.model.ModelVisitor has interface org.objectweb.asm.ClassVisitor as super class\n[ERROR] -&gt; [Help 1]`\n</code></pre>\n<p>Any idea? I really appreciate any help you can provide.</p>\n<p>Ivan</p>\n"},{"tags":["java","apache-kafka","apache-beam","avro","confluent-schema-registry"],"comments":[{"owner":{"account_id":5974726,"reputation":1921,"user_id":4696015,"display_name":"chamikara"},"score":1,"creation_date":1642619107,"post_id":70775953,"comment_id":125122036,"body_markdown":"What is the exact error you are getting ?","body":"What is the exact error you are getting ?"},{"owner":{"account_id":20364390,"reputation":147,"user_id":14938081,"display_name":"turingMan"},"score":0,"creation_date":1642620130,"post_id":70775953,"comment_id":125122398,"body_markdown":"@chamikara This is the error. send failed : &#39;This record has failed the validation on broker and hence be rejected.&#39;","body":"@chamikara This is the error. send failed : &#39;This record has failed the validation on broker and hence be rejected.&#39;"}],"answers":[{"tags":[],"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1643120765,"creation_date":1642619342,"answer_id":70776445,"question_id":70775953,"body_markdown":"This is serializing strings. UTF-8 Strings are not binary Avro. \r\n\r\nYou need to apply a [`ParDo`](https://beam.apache.org/documentation/programming-guide/#pardo), or [`MapElements`](https://beam.apache.org/documentation/transforms/java/elementwise/mapelements/) to the `input` from Strings/JSON into a Avro record type such as `GenericRecord`, or a generated `SpecificRecord` class. \r\n\r\nFor example, \r\n\r\n```\r\n// Product is defined by an AVSC file and generated from avro-maven-plugin\r\npipeline\r\n.apply(MapElements.via(new SimpleFunction&lt;JSONProduct, Product&gt;() {\r\n  @Override\r\n  public Product apply(JSONProduct input) {\r\n    try {\r\n      return AvroConverterFactory.convertProduct(input);  // TODO: Implement this yourself\r\n    } catch (Exception e) {\r\n      log.error(&quot;Converter Error&quot;, e);\r\n      return null;\r\n    }\r\n  }\r\n}))\r\n.apply(Filter.by(Objects::nonNull)) // assuming you don&#39;t want nulls downstream\r\n```\r\n\r\nThen you should be able to use something like this\r\n\r\nNote: It seems to compile, but does throw a runtime error saying the class cannot be cast... Seems like a bug. \r\n\r\n      @Override\r\n      public POutput expand(PCollection&lt;Product&gt; input) {\r\n        //noinspection unchecked\r\n        return input.apply(&quot;Write to Kafka&quot;, KafkaIO.&lt;Void, Product&gt;write()\r\n            .withBootstrapServers(&quot;localhost:29092&quot;)\r\n            .withTopic(&quot;foobar&quot;)\r\n            .withValueSerializer((Class&lt;? extends Serializer&lt;Product&gt;&gt;) KafkaAvroSerializer.class)\r\n            .withProducerConfigUpdates(ImmutableMap.of(\r\n                SCHEMA_REGISTRY_URL_CONFIG, &quot;http://localhost:8081&quot;\r\n            )).values());\r\n      }\r\n\r\nThe (unfortunate) workaround is to define your own wrapper class\r\n\r\n```\r\n  public static class ProductSerializer implements Serializer&lt;Product&gt; {\r\n\r\n    private final KafkaAvroSerializer inner;\r\n\r\n    public ProductSerializer() {\r\n      inner = new KafkaAvroSerializer();\r\n    }\r\n\r\n    @Override\r\n    public void configure(Map&lt;String, ?&gt; configs, boolean isKey) {\r\n      inner.configure(configs, isKey);\r\n    }\r\n\r\n    @Override\r\n    public byte[] serialize(String topic, Product product) {\r\n      return inner.serialize(topic, product);\r\n    }\r\n\r\n  }\r\n```\r\n\r\nThen this will work\r\n\r\n\r\n      @Override\r\n      public POutput expand(PCollection&lt;Product&gt; input) {\r\n        return input.apply(&quot;Write to Kafka&quot;, KafkaIO.&lt;Void, Product&gt;write()\r\n            .withBootstrapServers(&quot;localhost:9092&quot;)\r\n            .withTopic(&quot;foobar&quot;)\r\n            .withValueSerializer(ProductSerializer.class)\r\n            .withProducerConfigUpdates(ImmutableMap.of(\r\n                SCHEMA_REGISTRY_URL_CONFIG, &quot;http://localhost:8081&quot;\r\n            )).values());\r\n      }\r\n\r\nI used a very simple Avro schema, but \r\n\r\n```\r\n$ kafka-avro-console-consumer --bootstrap-server localhost:9092 --topic foobar --from-beginning\r\n{&quot;name&quot;:&quot;Hello&quot;}\r\n{&quot;name&quot;:&quot;World&quot;}\r\n```","title":"Serialize JSON String to AVRO Apache Beam KafkaIO","body":"<p>This is serializing strings. UTF-8 Strings are not binary Avro.</p>\n<p>You need to apply a <a href=\"https://beam.apache.org/documentation/programming-guide/#pardo\" rel=\"nofollow noreferrer\"><code>ParDo</code></a>, or <a href=\"https://beam.apache.org/documentation/transforms/java/elementwise/mapelements/\" rel=\"nofollow noreferrer\"><code>MapElements</code></a> to the <code>input</code> from Strings/JSON into a Avro record type such as <code>GenericRecord</code>, or a generated <code>SpecificRecord</code> class.</p>\n<p>For example,</p>\n<pre><code>// Product is defined by an AVSC file and generated from avro-maven-plugin\npipeline\n.apply(MapElements.via(new SimpleFunction&lt;JSONProduct, Product&gt;() {\n  @Override\n  public Product apply(JSONProduct input) {\n    try {\n      return AvroConverterFactory.convertProduct(input);  // TODO: Implement this yourself\n    } catch (Exception e) {\n      log.error(&quot;Converter Error&quot;, e);\n      return null;\n    }\n  }\n}))\n.apply(Filter.by(Objects::nonNull)) // assuming you don't want nulls downstream\n</code></pre>\n<p>Then you should be able to use something like this</p>\n<p>Note: It seems to compile, but does throw a runtime error saying the class cannot be cast... Seems like a bug.</p>\n<pre><code>  @Override\n  public POutput expand(PCollection&lt;Product&gt; input) {\n    //noinspection unchecked\n    return input.apply(&quot;Write to Kafka&quot;, KafkaIO.&lt;Void, Product&gt;write()\n        .withBootstrapServers(&quot;localhost:29092&quot;)\n        .withTopic(&quot;foobar&quot;)\n        .withValueSerializer((Class&lt;? extends Serializer&lt;Product&gt;&gt;) KafkaAvroSerializer.class)\n        .withProducerConfigUpdates(ImmutableMap.of(\n            SCHEMA_REGISTRY_URL_CONFIG, &quot;http://localhost:8081&quot;\n        )).values());\n  }\n</code></pre>\n<p>The (unfortunate) workaround is to define your own wrapper class</p>\n<pre><code>  public static class ProductSerializer implements Serializer&lt;Product&gt; {\n\n    private final KafkaAvroSerializer inner;\n\n    public ProductSerializer() {\n      inner = new KafkaAvroSerializer();\n    }\n\n    @Override\n    public void configure(Map&lt;String, ?&gt; configs, boolean isKey) {\n      inner.configure(configs, isKey);\n    }\n\n    @Override\n    public byte[] serialize(String topic, Product product) {\n      return inner.serialize(topic, product);\n    }\n\n  }\n</code></pre>\n<p>Then this will work</p>\n<pre><code>  @Override\n  public POutput expand(PCollection&lt;Product&gt; input) {\n    return input.apply(&quot;Write to Kafka&quot;, KafkaIO.&lt;Void, Product&gt;write()\n        .withBootstrapServers(&quot;localhost:9092&quot;)\n        .withTopic(&quot;foobar&quot;)\n        .withValueSerializer(ProductSerializer.class)\n        .withProducerConfigUpdates(ImmutableMap.of(\n            SCHEMA_REGISTRY_URL_CONFIG, &quot;http://localhost:8081&quot;\n        )).values());\n  }\n</code></pre>\n<p>I used a very simple Avro schema, but</p>\n<pre><code>$ kafka-avro-console-consumer --bootstrap-server localhost:9092 --topic foobar --from-beginning\n{&quot;name&quot;:&quot;Hello&quot;}\n{&quot;name&quot;:&quot;World&quot;}\n</code></pre>\n"}],"owner":{"account_id":20364390,"reputation":147,"user_id":14938081,"display_name":"turingMan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1088,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70776445,"answer_count":1,"score":1,"last_activity_date":1643120765,"creation_date":1642616942,"question_id":70775953,"body_markdown":"I have a JSON String that needs to be serialized to AVRO format so that I can publish that to a Kafka topic that has an Avro schema with schema validation on it. Below is what I have tried so far but it gives a validation error.\r\n```\r\n@Override     \r\npublic PDone expand(PCollection&lt;Product&gt; input) {\r\n    return input.apply(&quot;Write to Kafka Topic&quot;, KafkaIO.&lt;Void, String&gt;write().\r\n                withBootstrapServers(kafkaUrl)\r\n                .withTopic(kafkaTopic)\r\n//                .withKeySerializer(StringSerializer.class)\r\n                .withValueSerializer(StringSerializer.class)\r\n```\r\n\r\nThe error I am getting is\r\n```\r\nsend failed : &#39;This record has failed the validation on broker and hence be rejected.&#39;\r\n```","title":"Serialize JSON String to AVRO Apache Beam KafkaIO","body":"<p>I have a JSON String that needs to be serialized to AVRO format so that I can publish that to a Kafka topic that has an Avro schema with schema validation on it. Below is what I have tried so far but it gives a validation error.</p>\n<pre><code>@Override     \npublic PDone expand(PCollection&lt;Product&gt; input) {\n    return input.apply(&quot;Write to Kafka Topic&quot;, KafkaIO.&lt;Void, String&gt;write().\n                withBootstrapServers(kafkaUrl)\n                .withTopic(kafkaTopic)\n//                .withKeySerializer(StringSerializer.class)\n                .withValueSerializer(StringSerializer.class)\n</code></pre>\n<p>The error I am getting is</p>\n<pre><code>send failed : 'This record has failed the validation on broker and hence be rejected.'\n</code></pre>\n"},{"tags":["java","arrays","recursion","average"],"comments":[{"owner":{"account_id":440158,"reputation":323231,"user_id":829571,"accept_rate":94,"display_name":"assylias"},"score":0,"creation_date":1643120907,"post_id":70850353,"comment_id":125251662,"body_markdown":"`return (double) sum/array.length` is (one of) your issue(s).","body":"<code>return (double) sum&#47;array.length</code> is (one of) your issue(s)."},{"owner":{"display_name":"user6073886"},"score":1,"creation_date":1643121141,"post_id":70850353,"comment_id":125251779,"body_markdown":"You call `findAverage` and calculate the average **before you even let the user enter the values for the array!**. Move `double average = findAverage(newClassSize);` after you filled your arrays!","body":"You call <code>findAverage</code> and calculate the average <b>before you even let the user enter the values for the array!</b>. Move <code>double average = findAverage(newClassSize);</code> after you filled your arrays!"},{"owner":{"account_id":1615458,"reputation":7096,"user_id":1493294,"accept_rate":60,"display_name":"candied_orange"},"score":1,"creation_date":1643121629,"post_id":70850353,"comment_id":125251995,"body_markdown":"I suspect another issue is that `findAverage(newClassSize)` is called before `newClassSize` is populated with values. You&#39;re averaging garbage.","body":"I suspect another issue is that <code>findAverage(newClassSize)</code> is called before <code>newClassSize</code> is populated with values. You&#39;re averaging garbage."}],"owner":{"account_id":8754193,"reputation":27,"user_id":6546280,"display_name":"Courtney Parks"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1643120728,"creation_date":1643120728,"question_id":70850353,"body_markdown":"I&#39;m trying to use recursion to take the output of an Array. I&#39;ve been able to create the input where the input takes the array data but no matter what I input, the array continuously returns 0.0. I did a test print of the array and it appears the data is going to the array so I&#39;m not sure where I&#39;m going wrong.\r\n\r\n    import java.util.Arrays;\r\n    import java.util.Scanner;\r\n    \r\n    public class AverageGradeCourtney {\r\n\t\r\n\tpublic static void main(String args[])\r\n\t{\r\n\t\tint i = 0;\r\n\t\tint sum = 0;\r\n\t\t\t\t\r\n\t\tint classSize;\r\n\t\tScanner keyboard = new Scanner(System.in);\t\t\r\n\t\tSystem.out.println(&quot;Please enter the class size: &quot;);\r\n\t\tclassSize = keyboard.nextInt();\r\n\t\tint newClassSize[] = new int[classSize];\r\n\t\t\r\n\t\t\r\n\t\tdouble average = findAverage(newClassSize);\r\n\t\t\r\n\t\t\r\n\t\tfor (i=0; i &lt; newClassSize.length; i++)\r\n\t\t{\r\n\t\t\tSystem.out.println(&quot;Please enter the grade of the user at: &quot; + (i + 1));\r\n\t\t\tnewClassSize[i] = keyboard.nextInt();\t\r\n\t\t\t//System.out.println(average);\r\n\t\t}\r\n\t\t\r\n\t\tSystem.out.println(&quot;The average for the class is: &quot; + average);\r\n\t\t\r\n\t}\r\n\t\tpublic static double findAverage(int array[])\r\n\t\t{\r\n\t\t\t\r\n\t\t\tif (array.length==0) \r\n\t\t\t{\r\n\t\t\t\treturn 0;\r\n\t\t\t}\r\n\t\t\treturn findAverageHelper(array,0,0);\t\t\t\r\n\t\t}\r\n\t\t\t\t\r\n\t\tpublic static double findAverageHelper(int[] array, int index, int sum)\r\n\t\t{\r\n\t\t\tif (index==array.length) \r\n\t\t\t{\r\n\t\t\t\treturn (double) sum/array.length;\r\n\t\t\t}\r\n\t\t\treturn findAverageHelper(array, index+1, sum+=array[index]);\r\n\t\t}\r\n    }\r\n    \t\t\r\n\t\r\nThe output continues to look like this:\r\n\r\n    Please enter the class size: \r\n    2\r\n    Please enter the grade of the user at: 1\r\n    12\r\n    Please enter the grade of the user at: 2\r\n    5\r\n    The average for the class is: 0.0","title":"Average Array Output using Recursion outputs 0.0","body":"<p>I'm trying to use recursion to take the output of an Array. I've been able to create the input where the input takes the array data but no matter what I input, the array continuously returns 0.0. I did a test print of the array and it appears the data is going to the array so I'm not sure where I'm going wrong.</p>\n<pre><code>import java.util.Arrays;\nimport java.util.Scanner;\n\npublic class AverageGradeCourtney {\n\npublic static void main(String args[])\n{\n    int i = 0;\n    int sum = 0;\n            \n    int classSize;\n    Scanner keyboard = new Scanner(System.in);      \n    System.out.println(&quot;Please enter the class size: &quot;);\n    classSize = keyboard.nextInt();\n    int newClassSize[] = new int[classSize];\n    \n    \n    double average = findAverage(newClassSize);\n    \n    \n    for (i=0; i &lt; newClassSize.length; i++)\n    {\n        System.out.println(&quot;Please enter the grade of the user at: &quot; + (i + 1));\n        newClassSize[i] = keyboard.nextInt();   \n        //System.out.println(average);\n    }\n    \n    System.out.println(&quot;The average for the class is: &quot; + average);\n    \n}\n    public static double findAverage(int array[])\n    {\n        \n        if (array.length==0) \n        {\n            return 0;\n        }\n        return findAverageHelper(array,0,0);            \n    }\n            \n    public static double findAverageHelper(int[] array, int index, int sum)\n    {\n        if (index==array.length) \n        {\n            return (double) sum/array.length;\n        }\n        return findAverageHelper(array, index+1, sum+=array[index]);\n    }\n}\n        \n</code></pre>\n<p>The output continues to look like this:</p>\n<pre><code>Please enter the class size: \n2\nPlease enter the grade of the user at: 1\n12\nPlease enter the grade of the user at: 2\n5\nThe average for the class is: 0.0\n</code></pre>\n"},{"tags":["java","persistence"],"comments":[{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":1,"creation_date":1643128302,"post_id":70850317,"comment_id":125255153,"body_markdown":"The answear to you question should be here - [SO](https://stackoverflow.com/questions/997203/jpa-how-to-use-the-same-class-entity-to-map-different-tables)","body":"The answear to you question should be here - <a href=\"https://stackoverflow.com/questions/997203/jpa-how-to-use-the-same-class-entity-to-map-different-tables\">SO</a>"},{"owner":{"account_id":15247439,"reputation":372,"user_id":11001920,"display_name":"moondc"},"score":0,"creation_date":1643207334,"post_id":70850317,"comment_id":125278131,"body_markdown":"If you want to copy paste the answer from this post, I&#39;ll accept it as the solution.","body":"If you want to copy paste the answer from this post, I&#39;ll accept it as the solution."}],"owner":{"account_id":15247439,"reputation":372,"user_id":11001920,"display_name":"moondc"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1643207380,"answer_count":0,"score":0,"last_activity_date":1643120589,"creation_date":1643120589,"question_id":70850317,"body_markdown":"I want to use Java Persistence to create multiple tables that share a subset of columns but can&#39;t figure out the magic syntax.  \r\n\r\n```\r\n@Data\r\n@NoArgsConstructor\r\npublic class SubClass extends Auditable {\r\n\r\n  @Column(name = &quot;foo&quot;)\r\n  private String foo;\r\n}\r\n\r\n@NoArgsConstructor\r\n@EqualsAndHashCode(callSuper = true)\r\n@Entity\r\n@Table(name = &quot;A&quot;)\r\npublic class SuperClassA extends SubClass{\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private int lorum;\r\n}\r\n\r\n@NoArgsConstructor\r\n@EqualsAndHashCode(callSuper = true)\r\n@Entity\r\n@Table(name = &quot;B&quot;)\r\npublic class SuperClassB extends SubClass{\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private int ipsum;\r\n}\r\n```\r\n\r\nThe end result of this would be two tables\r\n\r\nTable A with fields `lorum` and `foo`  \r\nand  \r\nTable B with fields `ipsum` and `foo`","title":"Java Persistence - Create extendable class for reusable columns","body":"<p>I want to use Java Persistence to create multiple tables that share a subset of columns but can't figure out the magic syntax.</p>\n<pre><code>@Data\n@NoArgsConstructor\npublic class SubClass extends Auditable {\n\n  @Column(name = &quot;foo&quot;)\n  private String foo;\n}\n\n@NoArgsConstructor\n@EqualsAndHashCode(callSuper = true)\n@Entity\n@Table(name = &quot;A&quot;)\npublic class SuperClassA extends SubClass{\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private int lorum;\n}\n\n@NoArgsConstructor\n@EqualsAndHashCode(callSuper = true)\n@Entity\n@Table(name = &quot;B&quot;)\npublic class SuperClassB extends SubClass{\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private int ipsum;\n}\n</code></pre>\n<p>The end result of this would be two tables</p>\n<p>Table A with fields <code>lorum</code> and <code>foo</code><br />\nand<br />\nTable B with fields <code>ipsum</code> and <code>foo</code></p>\n"},{"tags":["java","spring","spring-mvc","jsp"],"answers":[{"tags":[],"owner":{"account_id":19369473,"reputation":1,"user_id":14163062,"display_name":"citu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642395062,"creation_date":1642269050,"answer_id":70723909,"question_id":70723026,"body_markdown":"Try creating no-arg constructor for the Question class.\r\n    public Question(){\r\n    }","title":"Getting an Error in JSP page as well as controller","body":"<p>Try creating no-arg constructor for the Question class.\npublic Question(){\n}</p>\n"}],"owner":{"account_id":23918430,"reputation":13,"user_id":17914630,"display_name":"Super MCU"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":143,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1643120123,"creation_date":1642262034,"question_id":70723026,"body_markdown":"I am getting an error in my JSP page when I am trying to run my spring web page.\r\nErrors are:\r\n1) An exception occurred processing [jsp/welcome.jsp] at line [42]\r\n2) org.apache.jasper.JasperException: An exception occurred processing [jsp/welcome.jsp] at line [42]\r\n3) java.lang.IllegalStateException: Neither BindingResult nor plain target object for bean name &#39;question&#39; available as request attribute\r\n\r\n4) One different error is when I am login to my web app it still shows `http://localhost:8080/caseStudyNew/login` instead of `http://localhost:8080/caseStudyNew/welcome` or `http://localhost:8080/caseStudyNew/login/welcome`\r\n\r\nbelow is code of JSP page and controller\r\n```\r\n&lt;%@ taglib prefix=&quot;form&quot; uri=&quot;http://www.springframework.org/tags/form&quot; %&gt;\r\n&lt;%@ page language=&quot;java&quot; contentType=&quot;text/html; charset=ISO-8859-1&quot; pageEncoding=&quot;ISO-8859 1&quot; %&gt;\r\n&lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD HTML 4.01 Transitional//EN&quot; &quot;http://www.w3.org/TR/html4/loose.dtd&quot;&gt;\r\n&lt;html&gt;\r\n\r\n&lt;head&gt;\r\n    &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=ISO-8859-1&quot;&gt;\r\n    &lt;title&gt;Welcome&lt;/title&gt;\r\n    &lt;style&gt;\r\n        * {\r\n            font-family: cursive;\r\n        }\r\n\r\n        body {\r\n            background-color: rgb(70, 187, 233);\r\n        }\r\n    &lt;/style&gt;\r\n&lt;/head&gt;\r\n\r\n&lt;body&gt;\r\n    &lt;tr&gt;\r\n        &lt;td&gt;Welcome ${firstname}&lt;/td&gt;\r\n    &lt;/tr&gt;\r\n    &lt;br&gt;\r\n    &lt;tr&gt;\r\n        &lt;td&gt;&lt;a href=&quot;home.jsp&quot;&gt;Home&lt;/a&gt;&lt;/td&gt;\r\n    &lt;/tr&gt;\r\n\r\n    &lt;h1 class=&quot;heading&quot;&gt;Welcome&lt;/h1&gt;\r\n    &lt;h2 class=&quot;heading&quot;&gt;Problem shared is a problem solved!&lt;/h2&gt;\r\n\r\n    &lt;form:form id=&quot;quesForm&quot; modelAttribute=&quot;question&quot; formactiom=&quot;question&quot; method=&quot;post&quot;&gt;\r\n\r\n        &lt;table&gt;\r\n            &lt;tr&gt;\r\n                &lt;td&gt;\r\n                    &lt;form:label path=&quot;ques&quot;&gt;Enter Your Question&lt;/form:label&gt;\r\n                &lt;/td&gt;\r\n                &lt;td&gt;\r\n                    &lt;form:input path=&quot;ques&quot; name=&quot;ques&quot; id=&quot;ques&quot; /&gt;\r\n                &lt;/td&gt;\r\n            &lt;/tr&gt;\r\n\r\n            &lt;tr&gt;\r\n                &lt;td&gt;\r\n                    &lt;form:label path=&quot;ques_desc&quot;&gt;Add the Description&lt;/form:label&gt;\r\n                &lt;/td&gt;\r\n                &lt;td&gt;\r\n                    &lt;form:input path=&quot;ques_desc&quot; name=&quot;ques_desc&quot; id=&quot;ques_desc&quot; /&gt;\r\n                &lt;/td&gt;\r\n            &lt;/tr&gt;\r\n            &lt;tr&gt;\r\n                &lt;td&gt;\r\n                    &lt;form:button id=&quot;ques_submit&quot; name=&quot;submit&quot;&gt;Ask!&lt;/form:button&gt;\r\n                &lt;/td&gt;\r\n            &lt;/tr&gt;\r\n\r\n        &lt;/table&gt;\r\n    &lt;/form:form&gt;\r\n\r\n&lt;/html&gt;\r\n```\r\nController Code:\r\n\r\n\r\n```\r\npackage jbr.springmvc.controller;\r\n\r\nimport javax.servlet.http.HttpServletRequest;\r\nimport javax.servlet.http.HttpServletResponse;\r\n\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.stereotype.Controller;\r\nimport org.springframework.web.bind.annotation.ModelAttribute;\r\nimport org.springframework.web.bind.annotation.RequestMapping;\r\nimport org.springframework.web.bind.annotation.RequestMethod;\r\nimport org.springframework.web.servlet.ModelAndView;\r\n\r\nimport jbr.springmvc.model.Question;\r\nimport jbr.springmvc.service.UserService;\r\n\r\n\r\n@Controller\r\npublic class QuestionController {\r\n\r\n    @Autowired\r\n    public UserService userService;\r\n\r\n    @RequestMapping(value = &quot;/welcome&quot;, method = RequestMethod.GET)\r\n    public ModelAndView showRegister(HttpServletRequest request, HttpServletResponse response) {\r\n        ModelAndView mav = new ModelAndView(&quot;welcome&quot;);\r\n        mav.addObject(&quot;question&quot;, new Question());\r\n\r\n        return mav;\r\n    }\r\n\r\n    @RequestMapping(value = &quot;/welcome&quot;, method = RequestMethod.POST)\r\n    public ModelAndView addUser(HttpServletRequest request, HttpServletResponse response,\r\n                                @ModelAttribute(&quot;question&quot;) Question question) {\r\n\r\n        userService.question(question);\r\n\r\n        return new ModelAndView(&quot;Hey your&quot;, &quot;question&quot;, question.getQues());\r\n    }\r\n\r\n}\r\n```\r\n\r\n\r\nModel Code\r\n\r\n```\r\npackage jbr.springmvc.model;\r\n\r\npublic class Question {\r\n    private int quesid;\r\n\r\n    private String ques;\r\n    private String ques_desc;\r\n\r\n\r\n    public int getQuesid() {\r\n        return quesid;\r\n    }\r\n    public void setQuesid(int quesid) {\r\n        this.quesid = quesid;\r\n    }\r\n\r\n    public String getQues() {\r\n        return ques;\r\n    }\r\n    public void setQues(String ques) {\r\n        this.ques = ques;\r\n    }\r\n    public String getQues_desc() {\r\n        return ques_desc;\r\n    }\r\n    public void setQues_desc(String ques_desc) {\r\n        this.ques_desc = ques_desc;\r\n    }\r\n}\r\n```","title":"Getting an Error in JSP page as well as controller","body":"<p>I am getting an error in my JSP page when I am trying to run my spring web page.\nErrors are:</p>\n<ol>\n<li><p>An exception occurred processing [jsp/welcome.jsp] at line [42]</p>\n</li>\n<li><p>org.apache.jasper.JasperException: An exception occurred processing [jsp/welcome.jsp] at line [42]</p>\n</li>\n<li><p>java.lang.IllegalStateException: Neither BindingResult nor plain target object for bean name 'question' available as request attribute</p>\n</li>\n<li><p>One different error is when I am login to my web app it still shows <code>http://localhost:8080/caseStudyNew/login</code> instead of <code>http://localhost:8080/caseStudyNew/welcome</code> or <code>http://localhost:8080/caseStudyNew/login/welcome</code></p>\n</li>\n</ol>\n<p>below is code of JSP page and controller</p>\n<pre><code>&lt;%@ taglib prefix=&quot;form&quot; uri=&quot;http://www.springframework.org/tags/form&quot; %&gt;\n&lt;%@ page language=&quot;java&quot; contentType=&quot;text/html; charset=ISO-8859-1&quot; pageEncoding=&quot;ISO-8859 1&quot; %&gt;\n&lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD HTML 4.01 Transitional//EN&quot; &quot;http://www.w3.org/TR/html4/loose.dtd&quot;&gt;\n&lt;html&gt;\n\n&lt;head&gt;\n    &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=ISO-8859-1&quot;&gt;\n    &lt;title&gt;Welcome&lt;/title&gt;\n    &lt;style&gt;\n        * {\n            font-family: cursive;\n        }\n\n        body {\n            background-color: rgb(70, 187, 233);\n        }\n    &lt;/style&gt;\n&lt;/head&gt;\n\n&lt;body&gt;\n    &lt;tr&gt;\n        &lt;td&gt;Welcome ${firstname}&lt;/td&gt;\n    &lt;/tr&gt;\n    &lt;br&gt;\n    &lt;tr&gt;\n        &lt;td&gt;&lt;a href=&quot;home.jsp&quot;&gt;Home&lt;/a&gt;&lt;/td&gt;\n    &lt;/tr&gt;\n\n    &lt;h1 class=&quot;heading&quot;&gt;Welcome&lt;/h1&gt;\n    &lt;h2 class=&quot;heading&quot;&gt;Problem shared is a problem solved!&lt;/h2&gt;\n\n    &lt;form:form id=&quot;quesForm&quot; modelAttribute=&quot;question&quot; formactiom=&quot;question&quot; method=&quot;post&quot;&gt;\n\n        &lt;table&gt;\n            &lt;tr&gt;\n                &lt;td&gt;\n                    &lt;form:label path=&quot;ques&quot;&gt;Enter Your Question&lt;/form:label&gt;\n                &lt;/td&gt;\n                &lt;td&gt;\n                    &lt;form:input path=&quot;ques&quot; name=&quot;ques&quot; id=&quot;ques&quot; /&gt;\n                &lt;/td&gt;\n            &lt;/tr&gt;\n\n            &lt;tr&gt;\n                &lt;td&gt;\n                    &lt;form:label path=&quot;ques_desc&quot;&gt;Add the Description&lt;/form:label&gt;\n                &lt;/td&gt;\n                &lt;td&gt;\n                    &lt;form:input path=&quot;ques_desc&quot; name=&quot;ques_desc&quot; id=&quot;ques_desc&quot; /&gt;\n                &lt;/td&gt;\n            &lt;/tr&gt;\n            &lt;tr&gt;\n                &lt;td&gt;\n                    &lt;form:button id=&quot;ques_submit&quot; name=&quot;submit&quot;&gt;Ask!&lt;/form:button&gt;\n                &lt;/td&gt;\n            &lt;/tr&gt;\n\n        &lt;/table&gt;\n    &lt;/form:form&gt;\n\n&lt;/html&gt;\n</code></pre>\n<p>Controller Code:</p>\n<pre><code>package jbr.springmvc.controller;\n\nimport javax.servlet.http.HttpServletRequest;\nimport javax.servlet.http.HttpServletResponse;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Controller;\nimport org.springframework.web.bind.annotation.ModelAttribute;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RequestMethod;\nimport org.springframework.web.servlet.ModelAndView;\n\nimport jbr.springmvc.model.Question;\nimport jbr.springmvc.service.UserService;\n\n\n@Controller\npublic class QuestionController {\n\n    @Autowired\n    public UserService userService;\n\n    @RequestMapping(value = &quot;/welcome&quot;, method = RequestMethod.GET)\n    public ModelAndView showRegister(HttpServletRequest request, HttpServletResponse response) {\n        ModelAndView mav = new ModelAndView(&quot;welcome&quot;);\n        mav.addObject(&quot;question&quot;, new Question());\n\n        return mav;\n    }\n\n    @RequestMapping(value = &quot;/welcome&quot;, method = RequestMethod.POST)\n    public ModelAndView addUser(HttpServletRequest request, HttpServletResponse response,\n                                @ModelAttribute(&quot;question&quot;) Question question) {\n\n        userService.question(question);\n\n        return new ModelAndView(&quot;Hey your&quot;, &quot;question&quot;, question.getQues());\n    }\n\n}\n</code></pre>\n<p>Model Code</p>\n<pre><code>package jbr.springmvc.model;\n\npublic class Question {\n    private int quesid;\n\n    private String ques;\n    private String ques_desc;\n\n\n    public int getQuesid() {\n        return quesid;\n    }\n    public void setQuesid(int quesid) {\n        this.quesid = quesid;\n    }\n\n    public String getQues() {\n        return ques;\n    }\n    public void setQues(String ques) {\n        this.ques = ques;\n    }\n    public String getQues_desc() {\n        return ques_desc;\n    }\n    public void setQues_desc(String ques_desc) {\n        this.ques_desc = ques_desc;\n    }\n}\n</code></pre>\n"},{"tags":["java","spring-boot","elasticsearch"],"answers":[{"tags":[],"owner":{"account_id":12382,"reputation":5758,"user_id":1215136,"display_name":"ilvar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643120103,"creation_date":1643120103,"answer_id":70850166,"question_id":70846817,"body_markdown":"You should define [analyzers][1] in your [index mapping][2]. Though, n-grams consume a lot of resources on indexing and are tricky to set up right so you might want to try a [wilcard][3] field instead.\r\n\r\n\r\n  [1]: https://www.elastic.co/guide/en/elasticsearch/reference/current/text.html#text-params\r\n  [2]: https://www.elastic.co/guide/en/elasticsearch/reference/7.16/explicit-mapping.html\r\n  [3]: https://www.elastic.co/guide/en/elasticsearch/reference/7.16/keyword.html#wildcard-field-type","title":"Elasticsearch tokenizer with Java","body":"<p>You should define <a href=\"https://www.elastic.co/guide/en/elasticsearch/reference/current/text.html#text-params\" rel=\"nofollow noreferrer\">analyzers</a> in your <a href=\"https://www.elastic.co/guide/en/elasticsearch/reference/7.16/explicit-mapping.html\" rel=\"nofollow noreferrer\">index mapping</a>. Though, n-grams consume a lot of resources on indexing and are tricky to set up right so you might want to try a <a href=\"https://www.elastic.co/guide/en/elasticsearch/reference/7.16/keyword.html#wildcard-field-type\" rel=\"nofollow noreferrer\">wilcard</a> field instead.</p>\n"}],"owner":{"account_id":4146531,"reputation":451,"user_id":3400076,"display_name":"xxestter"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":511,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1643120103,"creation_date":1643105501,"question_id":70846817,"body_markdown":"I am not sure if I did it right, please advise.\r\n\r\nI have created an index called users in the Elasticsearch with the ngram tokenizer.\r\n\r\n    PUT users\r\n    {\r\n    \t&quot;settings&quot;: {\r\n    \t  &quot;analysis&quot;: {\r\n    \t    &quot;analyzer&quot;: {\r\n    \t      &quot;es_analyzer&quot;:{\r\n    \t        &quot;tokenizer&quot;:&quot;es_token&quot;\r\n    \t      }\r\n    \t    },\r\n    \t    &quot;tokenizer&quot;:{\r\n    \t      &quot;es_token&quot;: {\r\n    \t        &quot;type&quot;: &quot;ngram&quot;,\r\n    \t        &quot;min_gram&quot;: 1,\r\n    \t        &quot;max_gram&quot;: 1,\r\n    \t        &quot;token_chars&quot;: [\r\n    \t          &quot;letter&quot;,\r\n                &quot;digit&quot;\r\n    \t          ]\r\n    \t      }\r\n    \t    }\r\n    \t  }\r\n    \t}\r\n    }\r\n\r\n\r\nI want to use Java to query the users index in Elasticsearch and here is my code. I used WildcardQueryBuilder, to query the index, is it right to do that? Since I have a tokenizer in my index. how can I make use of the tokenizer in Java?\r\n\r\n    public List&lt;UserES&gt; search(String keywords) {   \t\t\r\n    \t   List&lt;UserES&gt; users = new ArrayList&lt;&gt;();\r\n    \r\n    \t   Gson gson = new Gson();\r\n           SearchSourceBuilder sourceBuilder = new SearchSourceBuilder();\r\n           BoolQueryBuilder qb = QueryBuilders.boolQuery();\r\n           qb.should(new WildcardQueryBuilder(&quot;role&quot;, &quot;*&quot; + keywords + &quot;*&quot;));\r\n           qb.should(new WildcardQueryBuilder(&quot;name&quot;, &quot;*&quot; + keywords + &quot;*&quot;));\r\n           sourceBuilder.query(qb);\r\n             \r\n           SearchRequest searchRequest = new SearchRequest(&quot;users&quot;).source(sourceBuilder);\r\n    \r\n           try {\r\n        \t   SearchResponse searchResponse = client.search(searchRequest, RequestOptions.DEFAULT);\r\n           \t   \r\n        \t   SearchHit[] searchHit = searchResponse.getHits().getHits();\r\n        \t   for (SearchHit hit : searchHit) {\r\n        \t\t   UserES a = gson.fromJson(hit.getSourceAsString(), UserES.class);\r\n        \t\t   a.setId(hit.getId());\r\n        \t\t   users.add(a);\r\n        \t\t}\r\n        \t   \r\n           } catch (IOException e) {\r\n        \t   e.printStackTrace();\r\n           }\r\n    \r\n           return users;\r\n        }","title":"Elasticsearch tokenizer with Java","body":"<p>I am not sure if I did it right, please advise.</p>\n<p>I have created an index called users in the Elasticsearch with the ngram tokenizer.</p>\n<pre><code>PUT users\n{\n    &quot;settings&quot;: {\n      &quot;analysis&quot;: {\n        &quot;analyzer&quot;: {\n          &quot;es_analyzer&quot;:{\n            &quot;tokenizer&quot;:&quot;es_token&quot;\n          }\n        },\n        &quot;tokenizer&quot;:{\n          &quot;es_token&quot;: {\n            &quot;type&quot;: &quot;ngram&quot;,\n            &quot;min_gram&quot;: 1,\n            &quot;max_gram&quot;: 1,\n            &quot;token_chars&quot;: [\n              &quot;letter&quot;,\n            &quot;digit&quot;\n              ]\n          }\n        }\n      }\n    }\n}\n</code></pre>\n<p>I want to use Java to query the users index in Elasticsearch and here is my code. I used WildcardQueryBuilder, to query the index, is it right to do that? Since I have a tokenizer in my index. how can I make use of the tokenizer in Java?</p>\n<pre><code>public List&lt;UserES&gt; search(String keywords) {           \n       List&lt;UserES&gt; users = new ArrayList&lt;&gt;();\n\n       Gson gson = new Gson();\n       SearchSourceBuilder sourceBuilder = new SearchSourceBuilder();\n       BoolQueryBuilder qb = QueryBuilders.boolQuery();\n       qb.should(new WildcardQueryBuilder(&quot;role&quot;, &quot;*&quot; + keywords + &quot;*&quot;));\n       qb.should(new WildcardQueryBuilder(&quot;name&quot;, &quot;*&quot; + keywords + &quot;*&quot;));\n       sourceBuilder.query(qb);\n         \n       SearchRequest searchRequest = new SearchRequest(&quot;users&quot;).source(sourceBuilder);\n\n       try {\n           SearchResponse searchResponse = client.search(searchRequest, RequestOptions.DEFAULT);\n           \n           SearchHit[] searchHit = searchResponse.getHits().getHits();\n           for (SearchHit hit : searchHit) {\n               UserES a = gson.fromJson(hit.getSourceAsString(), UserES.class);\n               a.setId(hit.getId());\n               users.add(a);\n            }\n           \n       } catch (IOException e) {\n           e.printStackTrace();\n       }\n\n       return users;\n    }\n</code></pre>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":22564906,"reputation":3594,"user_id":17133283,"display_name":"Sambhav Khandelwal"},"score":0,"creation_date":1643121073,"post_id":70850143,"comment_id":125251748,"body_markdown":"does adding another view there overlap the navigation bar?","body":"does adding another view there overlap the navigation bar?"},{"owner":{"account_id":3390414,"reputation":1651,"user_id":2845346,"accept_rate":57,"display_name":"Vijayadhas Chandrasekaran"},"score":0,"creation_date":1643121695,"post_id":70850143,"comment_id":125252027,"body_markdown":"which view? Need to add new one? Or already existing one.?","body":"which view? Need to add new one? Or already existing one.?"},{"owner":{"account_id":22564906,"reputation":3594,"user_id":17133283,"display_name":"Sambhav Khandelwal"},"score":0,"creation_date":1643121733,"post_id":70850143,"comment_id":125252048,"body_markdown":"add a button instead of the keyboard and check if the overlapping thing happens","body":"add a button instead of the keyboard and check if the overlapping thing happens"},{"owner":{"account_id":3390414,"reputation":1651,"user_id":2845346,"accept_rate":57,"display_name":"Vijayadhas Chandrasekaran"},"score":0,"creation_date":1643134774,"post_id":70850143,"comment_id":125257876,"body_markdown":"For the time being I calculate the bottom navigation bar height and set that height for the frame layout bottom margin. Working fine. But I need to do this without setting margin. I will try and update with the answer..","body":"For the time being I calculate the bottom navigation bar height and set that height for the frame layout bottom margin. Working fine. But I need to do this without setting margin. I will try and update with the answer.."}],"owner":{"account_id":3390414,"reputation":1651,"user_id":2845346,"accept_rate":57,"display_name":"Vijayadhas Chandrasekaran"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1643120006,"creation_date":1643120006,"question_id":70850143,"body_markdown":"I am creating Android custom keyboard. Now My keyboard overlay the System navigation bar. I want to show the keyboard above System navigation bar.\r\n\r\nMy code:\r\n\r\n    FrameLayout frameLayout = (FrameLayout) mActivity.getWindow().getDecorView();\r\n            KeyboardView keyboardView = (KeyboardView) viewContainer.findViewById(R.id.keyboard_view);\r\n            this.keyboardView = keyboardView;\r\n            this.keyboardView.setKeyboard(keyboard);\r\n            this.keyboardView.setEnabled(true);\r\n            this.keyboardView.setPreviewEnabled(false);\r\n            this.keyboardView.setOnKeyboardActionListener(listener2);\r\n    \r\n            FrameLayout.LayoutParams lp = new FrameLayout.LayoutParams(FrameLayout.LayoutParams.MATCH_PARENT, FrameLayout.LayoutParams.WRAP_CONTENT);\r\n            lp.gravity = Gravity.BOTTOM;\r\n            frameLayout.addView(viewContainer, lp);\r\n            //viewContainer.setVisibility(View.GONE);\r\n            viewContainer.setAnimation(AnimationUtils.loadAnimation(mActivity, R.anim.down_to_up));\r\n\r\nKeyboardView.xml:\r\n\r\n    &lt;FrameLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:background=&quot;#000&quot;\r\n        android:orientation=&quot;vertical&quot;&gt;\r\n    \r\n        &lt;View\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;1dp&quot;\r\n            android:background=&quot;#ffffff&quot; /&gt;\r\n    \r\n        &lt;View\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;1dp&quot;\r\n            android:background=&quot;#88000000&quot; /&gt;\r\n    \r\n        &lt;android.inputmethodservice.KeyboardView\r\n            android:id=&quot;@+id/keyboard_view&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_gravity=&quot;center&quot;\r\n            android:background=&quot;@android:color/holo_blue_bright&quot;\r\n            android:focusable=&quot;true&quot;\r\n            android:focusableInTouchMode=&quot;true&quot;\r\n            android:keyBackground=&quot;@drawable/keyboard_key&quot;\r\n            android:keyTextColor=&quot;@color/white&quot;\r\n            android:keyTextSize=&quot;@dimen/sp_32&quot;\r\n            android:visibility=&quot;visible&quot; /&gt;\r\n    &lt;/FrameLayout&gt;\r\n\r\nMy screen op:\r\n[![image][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/gPcW0.png\r\n\r\nPlease give some idea to resolve the issue.","title":"System navigation bar overlay by custom keyboard","body":"<p>I am creating Android custom keyboard. Now My keyboard overlay the System navigation bar. I want to show the keyboard above System navigation bar.</p>\n<p>My code:</p>\n<pre><code>FrameLayout frameLayout = (FrameLayout) mActivity.getWindow().getDecorView();\n        KeyboardView keyboardView = (KeyboardView) viewContainer.findViewById(R.id.keyboard_view);\n        this.keyboardView = keyboardView;\n        this.keyboardView.setKeyboard(keyboard);\n        this.keyboardView.setEnabled(true);\n        this.keyboardView.setPreviewEnabled(false);\n        this.keyboardView.setOnKeyboardActionListener(listener2);\n\n        FrameLayout.LayoutParams lp = new FrameLayout.LayoutParams(FrameLayout.LayoutParams.MATCH_PARENT, FrameLayout.LayoutParams.WRAP_CONTENT);\n        lp.gravity = Gravity.BOTTOM;\n        frameLayout.addView(viewContainer, lp);\n        //viewContainer.setVisibility(View.GONE);\n        viewContainer.setAnimation(AnimationUtils.loadAnimation(mActivity, R.anim.down_to_up));\n</code></pre>\n<p>KeyboardView.xml:</p>\n<pre><code>&lt;FrameLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:background=&quot;#000&quot;\n    android:orientation=&quot;vertical&quot;&gt;\n\n    &lt;View\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;1dp&quot;\n        android:background=&quot;#ffffff&quot; /&gt;\n\n    &lt;View\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;1dp&quot;\n        android:background=&quot;#88000000&quot; /&gt;\n\n    &lt;android.inputmethodservice.KeyboardView\n        android:id=&quot;@+id/keyboard_view&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_gravity=&quot;center&quot;\n        android:background=&quot;@android:color/holo_blue_bright&quot;\n        android:focusable=&quot;true&quot;\n        android:focusableInTouchMode=&quot;true&quot;\n        android:keyBackground=&quot;@drawable/keyboard_key&quot;\n        android:keyTextColor=&quot;@color/white&quot;\n        android:keyTextSize=&quot;@dimen/sp_32&quot;\n        android:visibility=&quot;visible&quot; /&gt;\n&lt;/FrameLayout&gt;\n</code></pre>\n<p>My screen op:\n<a href=\"https://i.stack.imgur.com/gPcW0.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gPcW0.png\" alt=\"image\" /></a></p>\n<p>Please give some idea to resolve the issue.</p>\n"},{"tags":["java","spring","spring-boot","thymeleaf"],"comments":[{"owner":{"account_id":2533400,"reputation":559,"user_id":2201165,"display_name":"hjoeren"},"score":0,"creation_date":1612804716,"post_id":66105574,"comment_id":116875587,"body_markdown":"How you are running your application? Via Maven command or via your IDE? Also: Maybe [this commt](https://github.com/thymeleaf/thymeleaf/issues/614#issuecomment-580989392) (_How to reload templates without restarting the spring boot application?_, in GitHub Issues of Thymeleaf) is interesting.","body":"How you are running your application? Via Maven command or via your IDE? Also: Maybe <a href=\"https://github.com/thymeleaf/thymeleaf/issues/614#issuecomment-580989392\" rel=\"nofollow noreferrer\">this commt</a> (<i>How to reload templates without restarting the spring boot application?</i>, in GitHub Issues of Thymeleaf) is interesting."},{"owner":{"account_id":1223835,"reputation":75858,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":0,"creation_date":1612804968,"post_id":66105574,"comment_id":116875688,"body_markdown":"Additionally, if running in an IDE, are you sure it&#39;s automatically tracking changes and copying them to the running directory?","body":"Additionally, if running in an IDE, are you sure it&#39;s automatically tracking changes and copying them to the running directory?"}],"answers":[{"tags":[],"owner":{"account_id":5573654,"reputation":5164,"user_id":4417924,"display_name":"Jason"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1612805549,"creation_date":1612805549,"answer_id":66106484,"question_id":66105574,"body_markdown":"If you&#39;re using IntelliJ, you have to rebuild the project (fn + shift + 9) on mac and (ctrl + shift + f9) on windows I believe. This can be kind of annoying, there might be some built in functionality in IntelliJ, or your IDEA of choice, to just rebuild when certain files are modified.\r\n","title":"Automatically reload Thymeleaf templates in Spring Boot app","body":"<p>If you're using IntelliJ, you have to rebuild the project (fn + shift + 9) on mac and (ctrl + shift + f9) on windows I believe. This can be kind of annoying, there might be some built in functionality in IntelliJ, or your IDEA of choice, to just rebuild when certain files are modified.</p>\n"},{"tags":[],"owner":{"account_id":2380591,"reputation":1098,"user_id":2082699,"accept_rate":62,"display_name":"Tom Cools"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1643119902,"creation_date":1643119902,"answer_id":70850124,"question_id":66105574,"body_markdown":"Something like this should work. **Instead of reading your templates from the built files (typically, in your /target folder), you can tell Thymeleaf to read them directly from your /resources folder.** That way, you only need to hit F5 to refresh your browser.    \r\n\r\n    # Setup auto-reload of templates for Thymeleaf by disabling the Template Cache.\r\n    # This allows you to live-code on HTML without needing to restart the server.\r\n    spring:\r\n      thymeleaf: # Thymeleaf\r\n        cache: false\r\n        mode: HTML\r\n        encoding: UTF-8\r\n        # change load path to resource folder instead of /target\r\n        prefix: file:src/main/resources/templates/\r\n\r\n      resources: # Static resources\r\n        # change load path to resource folder instead of /target\r\n        static-locations: file:src/main/resources/static/\r\n        cache:\r\n          period: 0","title":"Automatically reload Thymeleaf templates in Spring Boot app","body":"<p>Something like this should work. <strong>Instead of reading your templates from the built files (typically, in your /target folder), you can tell Thymeleaf to read them directly from your /resources folder.</strong> That way, you only need to hit F5 to refresh your browser.</p>\n<pre><code># Setup auto-reload of templates for Thymeleaf by disabling the Template Cache.\n# This allows you to live-code on HTML without needing to restart the server.\nspring:\n  thymeleaf: # Thymeleaf\n    cache: false\n    mode: HTML\n    encoding: UTF-8\n    # change load path to resource folder instead of /target\n    prefix: file:src/main/resources/templates/\n\n  resources: # Static resources\n    # change load path to resource folder instead of /target\n    static-locations: file:src/main/resources/static/\n    cache:\n      period: 0\n</code></pre>\n"}],"owner":{"account_id":6138978,"reputation":2133,"user_id":4786956,"accept_rate":55,"display_name":"Antonio Dragos"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1476,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1643119902,"creation_date":1612802004,"question_id":66105574,"body_markdown":"In my Spring Boot (2.4.2) app, I have some Thymeleaf templates in the `src/main/resources/templates` directory. I have spring-boot-devtools installed which automatically reloads classes when the code changes.\r\n\r\nI would like the Thymeleaf templates to also be automatically reloaded when they are changed. I&#39;ve tried adding the following to the local application configuration\r\n\r\n    spring:\r\n      thymeleaf:\r\n        cache: false\r\n\r\nBut it doesn&#39;t seem to work, i.e. the templates are loaded only on startup, so I need to restart the serve after changing them. How can I enable automatic reloading of the Thymeleaf templates?\r\n\r\nUpdate\r\n----\r\nIn response to some of the comments: I run the app from IntelliJ IDEA.","title":"Automatically reload Thymeleaf templates in Spring Boot app","body":"<p>In my Spring Boot (2.4.2) app, I have some Thymeleaf templates in the <code>src/main/resources/templates</code> directory. I have spring-boot-devtools installed which automatically reloads classes when the code changes.</p>\n<p>I would like the Thymeleaf templates to also be automatically reloaded when they are changed. I've tried adding the following to the local application configuration</p>\n<pre><code>spring:\n  thymeleaf:\n    cache: false\n</code></pre>\n<p>But it doesn't seem to work, i.e. the templates are loaded only on startup, so I need to restart the serve after changing them. How can I enable automatic reloading of the Thymeleaf templates?</p>\n<h2>Update</h2>\n<p>In response to some of the comments: I run the app from IntelliJ IDEA.</p>\n"},{"tags":["java","spring","hibernate","one-to-one","cascade"],"comments":[{"owner":{"account_id":476019,"reputation":14699,"user_id":886697,"accept_rate":92,"display_name":"Stanislav Bashkyrtsev"},"score":0,"creation_date":1642075760,"post_id":70685415,"comment_id":124978359,"body_markdown":"Where do you set `instructor.instructorDetail` field? It doesn&#39;t seem like you do this, so there&#39;s nothing to cascade to.","body":"Where do you set <code>instructor.instructorDetail</code> field? It doesn&#39;t seem like you do this, so there&#39;s nothing to cascade to."},{"owner":{"account_id":23420828,"reputation":389,"user_id":17481061,"display_name":"Ilze"},"score":0,"creation_date":1643118445,"post_id":70685415,"comment_id":125250472,"body_markdown":"Thank you! I did not had and i needed tempInstructor.setInstructorDetail(tempInstructorDetail); before session.beginTransaction(); when running methods. It works now.","body":"Thank you! I did not had and i needed tempInstructor.setInstructorDetail(tempInstructorDetail); before session.beginTransaction(); when running methods. It works now."}],"answers":[{"tags":[],"owner":{"account_id":15319993,"reputation":11,"user_id":11052773,"display_name":"poorwa kesharwani"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642075221,"creation_date":1642054572,"answer_id":70692188,"question_id":70685415,"body_markdown":"The InstructorDetail class also needs to do cascading because it should be bi-direction.\r\n\r\n    @OneToOne(cascade = CascadeType.ALL)\r\n    @JoinColumn(name = &quot;instructor_id&quot;)\r\n    private Instructor instructor;\r\n\r\nAnd create setter and getter for the instructor. I hope this will work\r\n","title":"Hibernate one-to-one cascade-all don&#39;t work","body":"<p>The InstructorDetail class also needs to do cascading because it should be bi-direction.</p>\n<pre><code>@OneToOne(cascade = CascadeType.ALL)\n@JoinColumn(name = &quot;instructor_id&quot;)\nprivate Instructor instructor;\n</code></pre>\n<p>And create setter and getter for the instructor. I hope this will work</p>\n"},{"tags":[],"owner":{"account_id":23972504,"reputation":340,"user_id":17961007,"display_name":"Ashwini Karnale"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1642568873,"creation_date":1642566012,"answer_id":70765258,"question_id":70685415,"body_markdown":"While creating the entities there should be Bi-directional mapping. Create the below attribute in instructor detail and create getters and setters for it.\r\n\r\n        @OneToOne(cascade = CascadeType.ALL)\r\n        @JoinColumn(name = &quot;instructor_id&quot;)\r\n        private Instructor instructor;\r\n        \r\n\r\nCreate the below function inside the instructor detail entity\r\n\r\n\r\n    public void add(Instructor instructor) {\r\n           this.instructor = instructor;\r\n           instructor.setInstructorDetail(this)\r\n        }\r\n\r\nWhile creating the instructor call the above function using instructor detail object that is related to instructor object like, \r\n  \r\n\r\n    instructorDetail.add(instructor);\r\n\r\n\r\n","title":"Hibernate one-to-one cascade-all don&#39;t work","body":"<p>While creating the entities there should be Bi-directional mapping. Create the below attribute in instructor detail and create getters and setters for it.</p>\n<pre><code>    @OneToOne(cascade = CascadeType.ALL)\n    @JoinColumn(name = &quot;instructor_id&quot;)\n    private Instructor instructor;\n    \n</code></pre>\n<p>Create the below function inside the instructor detail entity</p>\n<pre><code>public void add(Instructor instructor) {\n       this.instructor = instructor;\n       instructor.setInstructorDetail(this)\n    }\n</code></pre>\n<p>While creating the instructor call the above function using instructor detail object that is related to instructor object like,</p>\n<pre><code>instructorDetail.add(instructor);\n</code></pre>\n"}],"owner":{"account_id":23420828,"reputation":389,"user_id":17481061,"display_name":"Ilze"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":780,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1643119815,"creation_date":1642006517,"question_id":70685415,"body_markdown":"&#39;Dear masters, currently learning Spring+Hibernate. I added HibernateUtil class to use it after for creating/deleting etc commands. I used cascadeALL for one-to-one mapping and when i run delete or create classes, they update only Instructor table in db, not related Instuctor Detail table. It works, if i write commands like in CreateDemo class - session.save(tempInstructor);\r\nsession.save(tempInstructorDetail); but as i understand i should be able to write only session.save(tempInstructor); - and this would update also linked table. The same for DeleteDemo. Why cascade = CascadeType.ALL does not work?&#39;\r\n\r\n    enter code here\r\n          \r\n\r\n    @Entity\r\n    @Table(name = &quot;instructor&quot;)\r\n    public class Instructor {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    @Column( name = &quot;id&quot;)\r\n    private int id;\r\n\r\n    @Column(name = &quot;first_name&quot;)\r\n    private String firstName;\r\n\r\n    @Column(name = &quot;last_name&quot;)\r\n    private String lastName;\r\n\r\n    @Column(name = &quot;email&quot;)\r\n    private String email;\r\n\r\n    @OneToOne(cascade = CascadeType.ALL)\r\n    @JoinColumn(name = &quot;instructor_detail_id&quot;)\r\n    private InstructorDetail instructorDetail;\r\n    enter code here\r\n\r\n\r\n\r\n\r\n\r\n    @Entity\r\n    @Table(name = &quot;instructor_detail&quot;)\r\n    public class InstructorDetail {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    @Column(name = &quot;id&quot;)\r\n    private int id;\r\n\r\n    @Column(name = &quot;youtube_channel&quot;)\r\n    private String youtubeChannel;\r\n\r\n    @Column(name = &quot;hobby&quot;)\r\n    private String hobby;\r\n\r\n    enter code here\r\n\r\n\r\n\r\n    @SpringBootApplication\r\n    public class CreateDemo {\r\n\r\n    public static void main(String[] args) {\r\n        SpringApplication.run(CreateDemo.class, args);\r\n\r\n       Instructor tempInstructor = new Instructor(&#39;Vilma&#39;, &#39;Kalna&#39;, &#39;vilma@gamil.com&#39;);\r\n       InstructorDetail tempInstructorDetail = new InstructorDetail(&#39;www.vilma- \r\n    teaching.com/youtube&#39;, &#39;teaching&#39;);\r\n\r\n        try (Session session = HibernateUtil.getSessionFactory().openSession()) {\r\n\r\n            session.beginTransaction();\r\n            System.out.println(&#39;Saving instructor: &#39; + tempInstructor);\r\n            //this will also save the details object\r\n            //because of CascadeType.ALL\r\n            session.save(tempInstructor);\r\n            session.save(tempInstructorDetail);\r\n            session.getTransaction().commit();\r\n\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n     }\r\n    }\r\n\r\n    enter code here\r\n\r\n\r\n\r\n    public class DeleteDemo {\r\n    public static void main(String[] args) {\r\n\r\n        try (Session session = HibernateUtil.getSessionFactory().openSession()) {\r\n\r\n            session.beginTransaction();\r\n\r\n            int theId = 2;\r\n            Instructor tempInstructor = session.get(Instructor.class, theId);\r\n\r\n            System.out.println(&#39;Found instructor: &#39; + tempInstructor);\r\n\r\n            if(tempInstructor != null){\r\n                System.out.println(&#39;Deleting: &#39; + tempInstructor);\r\n                //will also delete associated details obj (Cascade)\r\n                session.delete(tempInstructor);\r\n            }\r\n\r\n            session.getTransaction().commit();\r\n\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n    enter code here\r\n\r\n    public class HibernateUtil {\r\n    private static SessionFactory sessionFactory;\r\n\r\n    public static SessionFactory getSessionFactory() {\r\n\r\n        if (sessionFactory == null) {\r\n            try {\r\n                Configuration configuration = new Configuration();\r\n\r\n                // Hibernate settings equivalent to hibernate.cfg.xml&#39;s properties\r\n\r\n                Properties settings = new Properties();\r\n                settings.put(Environment.DRIVER, &#39;&#39;);\r\n                settings.put(Environment.URL, &#39;&#39;);\r\n                settings.put(Environment.USER, &#39;&#39;);\r\n                settings.put(Environment.PASS, &#39;&#39;);\r\n                settings.put(Environment.DIALECT, &#39;org.hibernate.dialect.MySQL5Dialect&#39;);\r\n                settings.put(Environment.SHOW_SQL, &#39;true&#39;);\r\n                settings.put(Environment.CURRENT_SESSION_CONTEXT_CLASS, &#39;thread&#39;);\r\n\r\n                configuration.setProperties(settings);\r\n\r\n                configuration.addAnnotatedClass(Instructor.class);\r\n                configuration.addAnnotatedClass(InstructorDetail.class);\r\n\r\n                ServiceRegistry serviceRegistry = new StandardServiceRegistryBuilder()\r\n                        .applySettings(configuration.getProperties()).build();\r\n\r\n                sessionFactory = configuration.buildSessionFactory(serviceRegistry);\r\n\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n            }\r\n\r\n        }\r\n        return sessionFactory;\r\n    enter code here","title":"Hibernate one-to-one cascade-all don&#39;t work","body":"<p>'Dear masters, currently learning Spring+Hibernate. I added HibernateUtil class to use it after for creating/deleting etc commands. I used cascadeALL for one-to-one mapping and when i run delete or create classes, they update only Instructor table in db, not related Instuctor Detail table. It works, if i write commands like in CreateDemo class - session.save(tempInstructor);\nsession.save(tempInstructorDetail); but as i understand i should be able to write only session.save(tempInstructor); - and this would update also linked table. The same for DeleteDemo. Why cascade = CascadeType.ALL does not work?'</p>\n<pre><code>enter code here\n      \n\n@Entity\n@Table(name = &quot;instructor&quot;)\npublic class Instructor {\n@Id\n@GeneratedValue(strategy = GenerationType.IDENTITY)\n@Column( name = &quot;id&quot;)\nprivate int id;\n\n@Column(name = &quot;first_name&quot;)\nprivate String firstName;\n\n@Column(name = &quot;last_name&quot;)\nprivate String lastName;\n\n@Column(name = &quot;email&quot;)\nprivate String email;\n\n@OneToOne(cascade = CascadeType.ALL)\n@JoinColumn(name = &quot;instructor_detail_id&quot;)\nprivate InstructorDetail instructorDetail;\nenter code here\n\n\n\n\n\n@Entity\n@Table(name = &quot;instructor_detail&quot;)\npublic class InstructorDetail {\n\n@Id\n@GeneratedValue(strategy = GenerationType.IDENTITY)\n@Column(name = &quot;id&quot;)\nprivate int id;\n\n@Column(name = &quot;youtube_channel&quot;)\nprivate String youtubeChannel;\n\n@Column(name = &quot;hobby&quot;)\nprivate String hobby;\n\nenter code here\n\n\n\n@SpringBootApplication\npublic class CreateDemo {\n\npublic static void main(String[] args) {\n    SpringApplication.run(CreateDemo.class, args);\n\n   Instructor tempInstructor = new Instructor('Vilma', 'Kalna', 'vilma@gamil.com');\n   InstructorDetail tempInstructorDetail = new InstructorDetail('www.vilma- \nteaching.com/youtube', 'teaching');\n\n    try (Session session = HibernateUtil.getSessionFactory().openSession()) {\n\n        session.beginTransaction();\n        System.out.println('Saving instructor: ' + tempInstructor);\n        //this will also save the details object\n        //because of CascadeType.ALL\n        session.save(tempInstructor);\n        session.save(tempInstructorDetail);\n        session.getTransaction().commit();\n\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n }\n}\n\nenter code here\n\n\n\npublic class DeleteDemo {\npublic static void main(String[] args) {\n\n    try (Session session = HibernateUtil.getSessionFactory().openSession()) {\n\n        session.beginTransaction();\n\n        int theId = 2;\n        Instructor tempInstructor = session.get(Instructor.class, theId);\n\n        System.out.println('Found instructor: ' + tempInstructor);\n\n        if(tempInstructor != null){\n            System.out.println('Deleting: ' + tempInstructor);\n            //will also delete associated details obj (Cascade)\n            session.delete(tempInstructor);\n        }\n\n        session.getTransaction().commit();\n\n    } catch (Exception e) {\n        e.printStackTrace();\nenter code here\n\npublic class HibernateUtil {\nprivate static SessionFactory sessionFactory;\n\npublic static SessionFactory getSessionFactory() {\n\n    if (sessionFactory == null) {\n        try {\n            Configuration configuration = new Configuration();\n\n            // Hibernate settings equivalent to hibernate.cfg.xml's properties\n\n            Properties settings = new Properties();\n            settings.put(Environment.DRIVER, '');\n            settings.put(Environment.URL, '');\n            settings.put(Environment.USER, '');\n            settings.put(Environment.PASS, '');\n            settings.put(Environment.DIALECT, 'org.hibernate.dialect.MySQL5Dialect');\n            settings.put(Environment.SHOW_SQL, 'true');\n            settings.put(Environment.CURRENT_SESSION_CONTEXT_CLASS, 'thread');\n\n            configuration.setProperties(settings);\n\n            configuration.addAnnotatedClass(Instructor.class);\n            configuration.addAnnotatedClass(InstructorDetail.class);\n\n            ServiceRegistry serviceRegistry = new StandardServiceRegistryBuilder()\n                    .applySettings(configuration.getProperties()).build();\n\n            sessionFactory = configuration.buildSessionFactory(serviceRegistry);\n\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n\n    }\n    return sessionFactory;\nenter code here\n</code></pre>\n"},{"tags":["java","json","spring","http","resttemplate"],"owner":{"account_id":20417420,"reputation":31,"user_id":14979264,"display_name":"nostripe"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1206,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1643119783,"creation_date":1643119783,"question_id":70850091,"body_markdown":"Alright, so I got two APIs. One is doing persistance only (let&#39;s call it &#39;**A**&#39;) and the other one is some kind of calculator (&#39;**B**&#39;). &lt;br&gt;\r\nWhat I am trying to do is, that if you call a @GetMapping-method in **B**, that **B** will get the data with the given ID from **A**, maps the JSON into a Java object, does all the calculation and when the calculation is done, post the result to **A**. &lt;br&gt;All that with one Request.&lt;br&gt;\r\nEverything works fine until I want to post the result to **A**. In this case, I have an object of my class &quot;TcoResult&quot; as a parameter for the &quot;post-method&quot;. When I call the to-String on that object in this very method, I get all the values it has and everything is fine, but if I return it as body of a ResponseEntity, that ResponseEntity returns an empty JSON (I guess?) and the logger tells me &lt;br&gt; ```RequestResponseBodyMethodProcessor : Nothing to write: null body```. &lt;br&gt;\r\nLet&#39;s kick off with a snippet of my model. All 42 values are annotated with @JsonProperty, it contains an empty and full constructor, getters and setters and a to-String method. \r\n```\r\npublic class TcoResult {\r\n\r\n    @JsonProperty(&quot;id&quot;)\r\n    private float id;\r\n    @JsonProperty(&quot;emissionCostsCO2Share&quot;)\r\n    private float emissionCostsCO2Share;\r\n    @JsonProperty(&quot;emissionCostsFineDustShare&quot;)\r\n    private float emissionCostsFineDustShare;\r\n    @JsonProperty(&quot;emissionCostsNoxShare&quot;)\r\n    private float emissionCostsNoxShare;\r\n    @JsonProperty(&quot;emissionCostsTotal&quot;)\r\n    private float emissionCostsTotal;\r\n\r\n    ...\r\n```\r\nMy Controller class in **B**:\r\n```\r\n@RestController\r\npublic class DataApiController implements ResultEventListener {\r\n\r\n    @Autowired\r\n    RestTemplate restTemplate;\r\n\r\n    @Autowired\r\n    DataApiService dataApiService;\r\n\r\n\r\n    @GetMapping(\r\n            value = &quot;calculate/{id}&quot;,\r\n            produces = &quot;application/json;charset=UTF-8&quot;\r\n    )\r\n    public void getTcoInputFromDataApi(@PathVariable int id) {\r\n        dataApiService.setResultEventListenerController(this);\r\n        dataApiService.getTcoInputFromDataApi(id);\r\n    }\r\n\r\n    @PostMapping(\r\n            produces = &quot;application/json;charset=UTF-8&quot;,\r\n            consumes = &quot;application/json;charset=UTF-8&quot;\r\n    )\r\n    public ResponseEntity&lt;Object&gt; postTcoResultToDataApi(@RequestBody TcoResult tcoResult) {\r\n        return dataApiService.postTcoResultToDataApi(tcoResult);\r\n    }\r\n\r\n    @Override\r\n    public void onEvent() {\r\n        this.postTcoResultToDataApi(dataApiService.getTcoResult());\r\n    }\r\n\r\n\r\n}\r\n```\r\n\r\nVia Postman, I call the ```getTcoInputFromDataApi```-method with a GET-Request. This returns the object with the given ID from my DataApi. &lt;br&gt;\r\nLet&#39;s getto the Service class in **B**:\r\n\r\n```\r\n@Service\r\npublic class DataApiService implements ResultEventListener{\r\n\r\n    @Autowired\r\n    RestTemplate restTemplate;\r\n\r\n    private Logger logger = LoggerFactory.getLogger(DataApiService.class);\r\n    private ResultEventListener resultEventListenerController;\r\n\r\n    private final String URI_TCORESULT = &quot;resultTco&quot;;\r\n    private final String URI_TCOINPUT_ID = &quot;inputTco/{id}&quot;;\r\n\r\n    private CalculationFactory calculationFactory;\r\n    private TcoInput tcoInput;\r\n    private TcoResult tcoResult;\r\n\r\n\r\n    // GET input for the tco from the DataApi by id\r\n    public void getTcoInputFromDataApi(int id) {\r\n        Map&lt;String, String&gt; params = new HashMap&lt;&gt;();\r\n        params.put(&quot;id&quot;, Integer.toString(id));\r\n\r\n        tcoInput = restTemplate.getForObject(URI_TCOINPUT_ID, TcoInput.class, params);\r\n        logger.info(&quot;Successfully read the tco input object from the DataApi&quot;);\r\n        this.onEvent();\r\n    }\r\n\r\n    // POST the results to the DataApi\r\n    public ResponseEntity&lt;Object&gt; postTcoResultToDataApi (TcoResult tcoResult123) {\r\n        logger.info(tcoResult123.toString());\r\n        // TcoResult toReturn = restTemplate.postForObject(URI_TCORESULT, tcoResult123, TcoResult.class);\r\n        //return new ResponseEntity&lt;&gt;(toReturn, HttpStatus.CREATED);\r\n        return new ResponseEntity&lt;&gt;(tcoResult123, HttpStatus.CREATED);\r\n    }\r\n\r\n\r\n    private void calculateResults(TcoInput tcoInput) {\r\n        calculationFactory = new CalculationFactory(tcoInput);\r\n        JSONDataOutput jsonDataOutput = calculationFactory.calculateAllCosts();\r\n        tcoResult = calculationFactory.getResultTco();\r\n    }\r\n\r\n    public void setResultEventListenerController(ResultEventListener resultEventListenerController) {\r\n        this.resultEventListenerController = resultEventListenerController;\r\n    }\r\n\r\n    public TcoResult getTcoResult() {\r\n        return tcoResult;\r\n    }\r\n\r\n    @Override\r\n    public void onEvent() {\r\n        logger.info(&quot;Calculating results...&quot;);\r\n        calculateResults(this.tcoInput);\r\n        logger.info(&quot;Calculations are done!&quot;);\r\n        if (tcoResult != null) {\r\n            logger.info(&quot;Calling listener of controller&quot;);\r\n            resultEventListenerController.onEvent();\r\n        }\r\n    }\r\n\r\n\r\n}\r\n```\r\nAs you can see, I work with custom listeners, so that logic gets triggered as soon as the calculation is done. All that works as intended.&lt;br&gt;\r\nThe problem arises, when the logic reraches the ```postTcoResultToDataApi```-method. For presentation&#39;s sake I just returned a new ResponseEntity with the TcoResult as paramter. &lt;br&gt;\r\nThe commented code is the one I want to execute, but if I do so, my DataApi responds with a 422 code, which I implemented in my validation logic (because the given object somehow is null). &lt;br&gt;\r\nThe controller of the DataApi are pretty basic and just save an object (when POST) or return a ResponseEntity with an object (when GET). &lt;br&gt;\r\nHere you can see the code of **B** exemplarily (as I said, nothing special).\r\n```\r\n@RestController\r\npublic class ResultTcoSimulationController {\r\n\r\n    private ResultTcoSimulationService resultTcoSimulationService;\r\n\r\n    @Autowired\r\n    public ResultTcoSimulationController(ResultTcoSimulationService resultTcoSimulationService) {\r\n        this.resultTcoSimulationService = resultTcoSimulationService;\r\n    }\r\n\r\n    @PostMapping(\r\n            value = &quot;/resultTco&quot;,\r\n            consumes = &quot;application/json;charset=UTF-8&quot;,\r\n            produces = &quot;application/json;charset=UTF-8&quot;\r\n    )\r\n    public ResponseEntity&lt;Object&gt; addResultForTcoSimulation(@RequestBody ResultTco resultTco) {\r\n        return resultTcoSimulationService.addResultForTcoSimulation(resultTco);\r\n    }\r\n\r\n    @GetMapping(\r\n            value = &quot;/resultTco/{id}&quot;,\r\n            produces = &quot;application/json;charset=UTF-8&quot;\r\n    )\r\n    public ResponseEntity&lt;Object&gt; readResultForTcoSimulation(@PathVariable int id) {\r\n        return resultTcoSimulationService.readResultForTcoSimulation(id);\r\n    }\r\n\r\n    ...\r\n```\r\nand the service class:\r\n```\r\n@Component\r\npublic class ResultTcoSimulationService {\r\n\r\n    @Autowired\r\n    @Lazy\r\n    private ResultTcoSimulationRepository resultTcoSimulationRepository;\r\n\r\n    Logger logger = LoggerFactory.getLogger(ResultTcoSimulationService.class);\r\n\r\n    // CREATE result for the TCO simulation\r\n    public ResponseEntity&lt;Object&gt; addResultForTcoSimulation(ResultTco resultTco) {\r\n        String exceptionMessage;\r\n        try {\r\n            validateObjectForPost(resultTco);\r\n            resultTcoSimulationRepository.save(resultTco);\r\n            logger.info(&quot;Successfully created the result for the TCO simulation with the id = &quot; + resultTco.getId());\r\n            return new ResponseEntity&lt;&gt;(resultTco, HttpStatus.CREATED);\r\n        } catch(IllegalIdException e) {\r\n            exceptionMessage = e.getMessage();\r\n            return new ResponseEntity&lt;&gt;(exceptionMessage, HttpStatus.CONFLICT);\r\n        } catch(IllegalPassingParameterException e) {\r\n            exceptionMessage = e.getMessage();\r\n            return new ResponseEntity&lt;&gt;(exceptionMessage, HttpStatus.UNPROCESSABLE_ENTITY);\r\n        }\r\n    }\r\n\r\n    ...\r\n```\r\nIn the end, I just don&#39;t get why - in B - when wanting to post the object to A, the very instanciated object is null, when given as a parameter of the ResponseEntity, but has perfectly fine values, when printed in the logger.&lt;br&gt;&lt;br&gt;\r\nI don&#39;t know if this is of any interest, but if I print that object in the logger with ```logger.info(tcoResult123.toString());``` it calls the to-String method, if the line &lt;br&gt;```TcoResult toReturn = restTemplate.postForObject(URI_TCORESULT, tcoResult123, TcoResult.class);``` is executed, the terminal says &lt;br&gt; ```Writing *basically the toString of the object*  with org.springframework.http.converter.json.MappingJackson2HttpMessageConverter```.","title":"Body of ResponseEntity is null even though the object given in its constructor is not null","body":"<p>Alright, so I got two APIs. One is doing persistance only (let's call it '<strong>A</strong>') and the other one is some kind of calculator ('<strong>B</strong>'). <br>\nWhat I am trying to do is, that if you call a @GetMapping-method in <strong>B</strong>, that <strong>B</strong> will get the data with the given ID from <strong>A</strong>, maps the JSON into a Java object, does all the calculation and when the calculation is done, post the result to <strong>A</strong>. <br>All that with one Request.<br>\nEverything works fine until I want to post the result to <strong>A</strong>. In this case, I have an object of my class &quot;TcoResult&quot; as a parameter for the &quot;post-method&quot;. When I call the to-String on that object in this very method, I get all the values it has and everything is fine, but if I return it as body of a ResponseEntity, that ResponseEntity returns an empty JSON (I guess?) and the logger tells me <br> <code>RequestResponseBodyMethodProcessor : Nothing to write: null body</code>. <br>\nLet's kick off with a snippet of my model. All 42 values are annotated with @JsonProperty, it contains an empty and full constructor, getters and setters and a to-String method.</p>\n<pre><code>public class TcoResult {\n\n    @JsonProperty(&quot;id&quot;)\n    private float id;\n    @JsonProperty(&quot;emissionCostsCO2Share&quot;)\n    private float emissionCostsCO2Share;\n    @JsonProperty(&quot;emissionCostsFineDustShare&quot;)\n    private float emissionCostsFineDustShare;\n    @JsonProperty(&quot;emissionCostsNoxShare&quot;)\n    private float emissionCostsNoxShare;\n    @JsonProperty(&quot;emissionCostsTotal&quot;)\n    private float emissionCostsTotal;\n\n    ...\n</code></pre>\n<p>My Controller class in <strong>B</strong>:</p>\n<pre><code>@RestController\npublic class DataApiController implements ResultEventListener {\n\n    @Autowired\n    RestTemplate restTemplate;\n\n    @Autowired\n    DataApiService dataApiService;\n\n\n    @GetMapping(\n            value = &quot;calculate/{id}&quot;,\n            produces = &quot;application/json;charset=UTF-8&quot;\n    )\n    public void getTcoInputFromDataApi(@PathVariable int id) {\n        dataApiService.setResultEventListenerController(this);\n        dataApiService.getTcoInputFromDataApi(id);\n    }\n\n    @PostMapping(\n            produces = &quot;application/json;charset=UTF-8&quot;,\n            consumes = &quot;application/json;charset=UTF-8&quot;\n    )\n    public ResponseEntity&lt;Object&gt; postTcoResultToDataApi(@RequestBody TcoResult tcoResult) {\n        return dataApiService.postTcoResultToDataApi(tcoResult);\n    }\n\n    @Override\n    public void onEvent() {\n        this.postTcoResultToDataApi(dataApiService.getTcoResult());\n    }\n\n\n}\n</code></pre>\n<p>Via Postman, I call the <code>getTcoInputFromDataApi</code>-method with a GET-Request. This returns the object with the given ID from my DataApi. <br>\nLet's getto the Service class in <strong>B</strong>:</p>\n<pre><code>@Service\npublic class DataApiService implements ResultEventListener{\n\n    @Autowired\n    RestTemplate restTemplate;\n\n    private Logger logger = LoggerFactory.getLogger(DataApiService.class);\n    private ResultEventListener resultEventListenerController;\n\n    private final String URI_TCORESULT = &quot;resultTco&quot;;\n    private final String URI_TCOINPUT_ID = &quot;inputTco/{id}&quot;;\n\n    private CalculationFactory calculationFactory;\n    private TcoInput tcoInput;\n    private TcoResult tcoResult;\n\n\n    // GET input for the tco from the DataApi by id\n    public void getTcoInputFromDataApi(int id) {\n        Map&lt;String, String&gt; params = new HashMap&lt;&gt;();\n        params.put(&quot;id&quot;, Integer.toString(id));\n\n        tcoInput = restTemplate.getForObject(URI_TCOINPUT_ID, TcoInput.class, params);\n        logger.info(&quot;Successfully read the tco input object from the DataApi&quot;);\n        this.onEvent();\n    }\n\n    // POST the results to the DataApi\n    public ResponseEntity&lt;Object&gt; postTcoResultToDataApi (TcoResult tcoResult123) {\n        logger.info(tcoResult123.toString());\n        // TcoResult toReturn = restTemplate.postForObject(URI_TCORESULT, tcoResult123, TcoResult.class);\n        //return new ResponseEntity&lt;&gt;(toReturn, HttpStatus.CREATED);\n        return new ResponseEntity&lt;&gt;(tcoResult123, HttpStatus.CREATED);\n    }\n\n\n    private void calculateResults(TcoInput tcoInput) {\n        calculationFactory = new CalculationFactory(tcoInput);\n        JSONDataOutput jsonDataOutput = calculationFactory.calculateAllCosts();\n        tcoResult = calculationFactory.getResultTco();\n    }\n\n    public void setResultEventListenerController(ResultEventListener resultEventListenerController) {\n        this.resultEventListenerController = resultEventListenerController;\n    }\n\n    public TcoResult getTcoResult() {\n        return tcoResult;\n    }\n\n    @Override\n    public void onEvent() {\n        logger.info(&quot;Calculating results...&quot;);\n        calculateResults(this.tcoInput);\n        logger.info(&quot;Calculations are done!&quot;);\n        if (tcoResult != null) {\n            logger.info(&quot;Calling listener of controller&quot;);\n            resultEventListenerController.onEvent();\n        }\n    }\n\n\n}\n</code></pre>\n<p>As you can see, I work with custom listeners, so that logic gets triggered as soon as the calculation is done. All that works as intended.<br>\nThe problem arises, when the logic reraches the <code>postTcoResultToDataApi</code>-method. For presentation's sake I just returned a new ResponseEntity with the TcoResult as paramter. <br>\nThe commented code is the one I want to execute, but if I do so, my DataApi responds with a 422 code, which I implemented in my validation logic (because the given object somehow is null). <br>\nThe controller of the DataApi are pretty basic and just save an object (when POST) or return a ResponseEntity with an object (when GET). <br>\nHere you can see the code of <strong>B</strong> exemplarily (as I said, nothing special).</p>\n<pre><code>@RestController\npublic class ResultTcoSimulationController {\n\n    private ResultTcoSimulationService resultTcoSimulationService;\n\n    @Autowired\n    public ResultTcoSimulationController(ResultTcoSimulationService resultTcoSimulationService) {\n        this.resultTcoSimulationService = resultTcoSimulationService;\n    }\n\n    @PostMapping(\n            value = &quot;/resultTco&quot;,\n            consumes = &quot;application/json;charset=UTF-8&quot;,\n            produces = &quot;application/json;charset=UTF-8&quot;\n    )\n    public ResponseEntity&lt;Object&gt; addResultForTcoSimulation(@RequestBody ResultTco resultTco) {\n        return resultTcoSimulationService.addResultForTcoSimulation(resultTco);\n    }\n\n    @GetMapping(\n            value = &quot;/resultTco/{id}&quot;,\n            produces = &quot;application/json;charset=UTF-8&quot;\n    )\n    public ResponseEntity&lt;Object&gt; readResultForTcoSimulation(@PathVariable int id) {\n        return resultTcoSimulationService.readResultForTcoSimulation(id);\n    }\n\n    ...\n</code></pre>\n<p>and the service class:</p>\n<pre><code>@Component\npublic class ResultTcoSimulationService {\n\n    @Autowired\n    @Lazy\n    private ResultTcoSimulationRepository resultTcoSimulationRepository;\n\n    Logger logger = LoggerFactory.getLogger(ResultTcoSimulationService.class);\n\n    // CREATE result for the TCO simulation\n    public ResponseEntity&lt;Object&gt; addResultForTcoSimulation(ResultTco resultTco) {\n        String exceptionMessage;\n        try {\n            validateObjectForPost(resultTco);\n            resultTcoSimulationRepository.save(resultTco);\n            logger.info(&quot;Successfully created the result for the TCO simulation with the id = &quot; + resultTco.getId());\n            return new ResponseEntity&lt;&gt;(resultTco, HttpStatus.CREATED);\n        } catch(IllegalIdException e) {\n            exceptionMessage = e.getMessage();\n            return new ResponseEntity&lt;&gt;(exceptionMessage, HttpStatus.CONFLICT);\n        } catch(IllegalPassingParameterException e) {\n            exceptionMessage = e.getMessage();\n            return new ResponseEntity&lt;&gt;(exceptionMessage, HttpStatus.UNPROCESSABLE_ENTITY);\n        }\n    }\n\n    ...\n</code></pre>\n<p>In the end, I just don't get why - in B - when wanting to post the object to A, the very instanciated object is null, when given as a parameter of the ResponseEntity, but has perfectly fine values, when printed in the logger.<br><br>\nI don't know if this is of any interest, but if I print that object in the logger with <code>logger.info(tcoResult123.toString());</code> it calls the to-String method, if the line <br><code>TcoResult toReturn = restTemplate.postForObject(URI_TCORESULT, tcoResult123, TcoResult.class);</code> is executed, the terminal says <br> <code>Writing *basically the toString of the object*  with org.springframework.http.converter.json.MappingJackson2HttpMessageConverter</code>.</p>\n"},{"tags":["java","web-services","jax-ws","webservice-client"],"comments":[{"owner":{"account_id":1121431,"reputation":79,"user_id":1109682,"display_name":"Justin"},"score":7,"creation_date":1324468608,"post_id":8588852,"comment_id":10653600,"body_markdown":"OK I found the issue.  The WSDL didn&#39;t specify the endpoint address so I had to manually set it like this:\n\n      BindingProvider bp = (BindingProvider)sws;\n      bp.getRequestContext().put(BindingProvider.ENDPOINT_ADDRESS_PROPERTY, &quot;http://publicbetawebservices.hotel.de/V2_8/FreeHotelSearchWebService.svc&quot;);\n\nThanks to Tug&#39;s blog post here: http://tugdualgrall.blogspot.com/2009/02/jax-ws-how-to-configure-service-end_17.html for the solution.","body":"OK I found the issue.  The WSDL didn&#39;t specify the endpoint address so I had to manually set it like this:        BindingProvider bp = (BindingProvider)sws;       bp.getRequestContext().put(BindingProvider.ENDPOINT_ADDRESS_&zwnj;&#8203;PROPERTY, &quot;<a href=\"http://publicbetawebservices.hotel.de/V2_8/FreeHotelSearchWebService.svc&quot;\" rel=\"nofollow noreferrer\">publicbetawebservices.hotel.de/V2_8/&hellip;</a>);  Thanks to Tug&#39;s blog post here: <a href=\"http://tugdualgrall.blogspot.com/2009/02/jax-ws-how-to-configure-service-end_17.html\" rel=\"nofollow noreferrer\">tugdualgrall.blogspot.com/2009/02/&hellip;</a> for the solution."},{"owner":{"account_id":288696,"reputation":91230,"user_id":589259,"accept_rate":82,"display_name":"Maarten Bodewes"},"score":7,"creation_date":1324515901,"post_id":8588852,"comment_id":10667499,"body_markdown":"Could you post it as an answer and accept it? Thanks!","body":"Could you post it as an answer and accept it? Thanks!"}],"answers":[{"tags":[],"owner":{"account_id":1125613,"reputation":18964,"user_id":1112963,"accept_rate":59,"display_name":"Zon"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1643119773,"creation_date":1537463942,"answer_id":52430229,"question_id":8588852,"body_markdown":"Reanimating an answerless question basing on Justin&#39;s and [Tug&#39;s Blog][1]:\r\n\r\n**JAX-WS: How to configure the service end point at runtime?**\r\n\r\nWhen deploying your Web Service client you often need to change the endpoint of the service that  has been set during the code generation. This short post explains how you can set change it at runtime in the client code.\r\n\r\nYou have two approaches to do that:\r\n\r\n - set the endpoint in the Port using the BindingProvider; \r\n - get the endpoint URL from the WSDL itself at runtime;\r\n\r\n**Use the Binding Provider to set the endpoint URL**\r\n\r\nThe first approach is to change the BindingProvider.ENDPOINT_ADDRESS_PROPERTY property value of the BindingProvider (Port) using the following code:\r\n\r\n        try { \r\n            EmployeeServiceService service = new EmployeeServiceService();\r\n\r\n            EmployeeService port = service.getEmployeeServicePort();\r\n            BindingProvider bp = (BindingProvider)port;\r\n            bp.getRequestContext().put(\r\n              BindingProvider.ENDPOINT_ADDRESS_PROPERTY, \r\n               &quot;http://server1.grallandco.com:8282/HumanRessources/EmployeeServiceService&quot;);\r\n\r\n            Employee emp = port.getEmployee(123);\r\n            System.out.println(&quot;Result = &quot;+ emp);\r\n        } catch (Exception ex) {...\r\n           \r\n**Use the WSDL to get the endpoint URL**\r\n\r\nAnother part is to set the WSDL when you are creating the Service. The service will be using the value that is located in the WSDL port -SOAP Endpoint-. This is simply done using the following code:\r\n\r\n        try { \r\n           EmployeeServiceService service =\r\n             new org.demo.service.EmployeeServiceService(\r\n               new URL(       \r\n                 &quot;http://server1.grallandco.com:8282/HumanRessources/&quot; + \r\n                 &quot;EmployeeServiceService?wsdl&quot;), \r\n               new QName(\r\n                 &quot;http://service.demo.org/&quot;,\r\n                 &quot;EmployeeServiceService&quot;));\r\n\r\n            EmployeeService port = service.getEmployeeServicePort();\r\n            Employee emp = port.getEmployee(123);\r\n\r\n         System.out.println(&quot;Result = &quot;+ emp);\r\n        } catch (Exception ex) {...}\r\n          \r\nNote that, in Glassfish, like lot of Web Service environments the WSDL can generate dynamically the Endpoint URL based on the URL used  to get the WSDL. With this approach you can also dynamically change the Soap endpoint (if compatible with the network configuration of the production environment.)\r\n\r\n  [1]: http://tugdualgrall.blogspot.com/2009/02/jax-ws-how-to-configure-service-end_17.html","title":"&quot;Exception javax.xml.ws.WebServiceException: Unsupported endpoint address&quot; trying to call web service using JAX-WS 2.1","body":"<p>Reanimating an answerless question basing on Justin's and <a href=\"http://tugdualgrall.blogspot.com/2009/02/jax-ws-how-to-configure-service-end_17.html\" rel=\"nofollow noreferrer\">Tug's Blog</a>:</p>\n<p><strong>JAX-WS: How to configure the service end point at runtime?</strong></p>\n<p>When deploying your Web Service client you often need to change the endpoint of the service that  has been set during the code generation. This short post explains how you can set change it at runtime in the client code.</p>\n<p>You have two approaches to do that:</p>\n<ul>\n<li>set the endpoint in the Port using the BindingProvider;</li>\n<li>get the endpoint URL from the WSDL itself at runtime;</li>\n</ul>\n<p><strong>Use the Binding Provider to set the endpoint URL</strong></p>\n<p>The first approach is to change the BindingProvider.ENDPOINT_ADDRESS_PROPERTY property value of the BindingProvider (Port) using the following code:</p>\n<pre><code>    try { \n        EmployeeServiceService service = new EmployeeServiceService();\n\n        EmployeeService port = service.getEmployeeServicePort();\n        BindingProvider bp = (BindingProvider)port;\n        bp.getRequestContext().put(\n          BindingProvider.ENDPOINT_ADDRESS_PROPERTY, \n           &quot;http://server1.grallandco.com:8282/HumanRessources/EmployeeServiceService&quot;);\n\n        Employee emp = port.getEmployee(123);\n        System.out.println(&quot;Result = &quot;+ emp);\n    } catch (Exception ex) {...\n       \n</code></pre>\n<p><strong>Use the WSDL to get the endpoint URL</strong></p>\n<p>Another part is to set the WSDL when you are creating the Service. The service will be using the value that is located in the WSDL port -SOAP Endpoint-. This is simply done using the following code:</p>\n<pre><code>    try { \n       EmployeeServiceService service =\n         new org.demo.service.EmployeeServiceService(\n           new URL(       \n             &quot;http://server1.grallandco.com:8282/HumanRessources/&quot; + \n             &quot;EmployeeServiceService?wsdl&quot;), \n           new QName(\n             &quot;http://service.demo.org/&quot;,\n             &quot;EmployeeServiceService&quot;));\n\n        EmployeeService port = service.getEmployeeServicePort();\n        Employee emp = port.getEmployee(123);\n\n     System.out.println(&quot;Result = &quot;+ emp);\n    } catch (Exception ex) {...}\n      \n</code></pre>\n<p>Note that, in Glassfish, like lot of Web Service environments the WSDL can generate dynamically the Endpoint URL based on the URL used  to get the WSDL. With this approach you can also dynamically change the Soap endpoint (if compatible with the network configuration of the production environment.)</p>\n"}],"owner":{"account_id":1121431,"reputation":79,"user_id":1109682,"display_name":"Justin"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":23134,"favorite_count":0,"down_vote_count":1,"up_vote_count":8,"answer_count":1,"score":7,"last_activity_date":1643119773,"creation_date":1324465740,"question_id":8588852,"body_markdown":"I&#39;m trying to call the web service here: http://publicbetawebservices.hotel.de/V2_8/FreeHotelSearchWebService.svc?WSDL\r\n\r\nI&#39;ve generated proxy classes using wsimport with JDK1.6.0_29.  My wsimport command line is:\r\n\r\n    wsimport.exe&quot; -keep -B-XautoNameResolution -d E:\\mapov\\mapov-dev\\shared\\hotel_info\\ http://publicbetawebservices.hotel.de/V2_8/FreeHotelSearchWebService.svc?WSDL\r\n\r\n\r\nI&#39;m using the following code to attempt to call the service:\r\n\r\n    QName qName = new QName(&quot;http://webservices.hotel.de/V2_8&quot;, &quot;FreeHotelSearchWebService&quot;);\r\n    FreeHotelSearchWebService service = new FreeHotelSearchWebService(new URL(&quot;http://publicbetawebservices.hotel.de/V2_8/FreeHotelSearchWebService.svc&quot;), qName);\r\n    IFreeHotelSearchWebService sws = service.getBasicHttpBindingIFreeHotelSearchWebService();\r\n    String version = sws.getWebservicesVersion();\r\n    System.out.println(&quot;Hotel.info web service version: &quot; + version);\r\n\r\nHowever I get the following exception:\r\n\r\n&gt; Exception in thread &quot;main&quot; javax.xml.ws.WebServiceException:\r\n&gt; Unsupported endpoint address:  \tat\r\n&gt; com.sun.xml.ws.api.pipe.TransportTubeFactory.create(TransportTubeFactory.java:148)\r\n&gt; \tat\r\n&gt; com.sun.xml.ws.transport.DeferredTransportPipe.processRequest(DeferredTransportPipe.java:134)\r\n&gt; \tat com.sun.xml.ws.api.pipe.Fiber.__doRun(Fiber.java:641) \tat\r\n&gt; com.sun.xml.ws.api.pipe.Fiber._doRun(Fiber.java:600) \tat\r\n&gt; com.sun.xml.ws.api.pipe.Fiber.doRun(Fiber.java:585) \tat\r\n&gt; com.sun.xml.ws.api.pipe.Fiber.runSync(Fiber.java:482) \tat\r\n&gt; com.sun.xml.ws.client.Stub.process(Stub.java:323) \tat\r\n&gt; com.sun.xml.ws.client.sei.SEIStub.doProcess(SEIStub.java:161) \tat\r\n&gt; com.sun.xml.ws.client.sei.SyncMethodHandler.invoke(SyncMethodHandler.java:113)\r\n&gt; \tat\r\n&gt; com.sun.xml.ws.client.sei.SyncMethodHandler.invoke(SyncMethodHandler.java:93)\r\n&gt; \tat com.sun.xml.ws.client.sei.SEIStub.invoke(SEIStub.java:144) \tat\r\n&gt; $Proxy42.getWebservicesVersion(Unknown Source)\r\n\r\nIn most examples I&#39;ve seen the generated code includes a getPort() method but that hasn&#39;t been generated for this class.  Is my code wrong or do I need to run wsimport differently?  I&#39;ve also tried calling the FreeHotelWebService constructor without the parameters which yields the same exception.\r\n","title":"&quot;Exception javax.xml.ws.WebServiceException: Unsupported endpoint address&quot; trying to call web service using JAX-WS 2.1","body":"<p>I'm trying to call the web service here: <a href=\"http://publicbetawebservices.hotel.de/V2_8/FreeHotelSearchWebService.svc?WSDL\" rel=\"noreferrer\">http://publicbetawebservices.hotel.de/V2_8/FreeHotelSearchWebService.svc?WSDL</a></p>\n\n<p>I've generated proxy classes using wsimport with JDK1.6.0_29.  My wsimport command line is:</p>\n\n<pre><code>wsimport.exe\" -keep -B-XautoNameResolution -d E:\\mapov\\mapov-dev\\shared\\hotel_info\\ http://publicbetawebservices.hotel.de/V2_8/FreeHotelSearchWebService.svc?WSDL\n</code></pre>\n\n<p>I'm using the following code to attempt to call the service:</p>\n\n<pre><code>QName qName = new QName(\"http://webservices.hotel.de/V2_8\", \"FreeHotelSearchWebService\");\nFreeHotelSearchWebService service = new FreeHotelSearchWebService(new URL(\"http://publicbetawebservices.hotel.de/V2_8/FreeHotelSearchWebService.svc\"), qName);\nIFreeHotelSearchWebService sws = service.getBasicHttpBindingIFreeHotelSearchWebService();\nString version = sws.getWebservicesVersion();\nSystem.out.println(\"Hotel.info web service version: \" + version);\n</code></pre>\n\n<p>However I get the following exception:</p>\n\n<blockquote>\n  <p>Exception in thread \"main\" javax.xml.ws.WebServiceException:\n  Unsupported endpoint address:     at\n  com.sun.xml.ws.api.pipe.TransportTubeFactory.create(TransportTubeFactory.java:148)\n    at\n  com.sun.xml.ws.transport.DeferredTransportPipe.processRequest(DeferredTransportPipe.java:134)\n    at com.sun.xml.ws.api.pipe.Fiber.__doRun(Fiber.java:641)    at\n  com.sun.xml.ws.api.pipe.Fiber._doRun(Fiber.java:600)  at\n  com.sun.xml.ws.api.pipe.Fiber.doRun(Fiber.java:585)   at\n  com.sun.xml.ws.api.pipe.Fiber.runSync(Fiber.java:482)     at\n  com.sun.xml.ws.client.Stub.process(Stub.java:323)     at\n  com.sun.xml.ws.client.sei.SEIStub.doProcess(SEIStub.java:161)     at\n  com.sun.xml.ws.client.sei.SyncMethodHandler.invoke(SyncMethodHandler.java:113)\n    at\n  com.sun.xml.ws.client.sei.SyncMethodHandler.invoke(SyncMethodHandler.java:93)\n    at com.sun.xml.ws.client.sei.SEIStub.invoke(SEIStub.java:144)   at\n  $Proxy42.getWebservicesVersion(Unknown Source)</p>\n</blockquote>\n\n<p>In most examples I've seen the generated code includes a getPort() method but that hasn't been generated for this class.  Is my code wrong or do I need to run wsimport differently?  I've also tried calling the FreeHotelWebService constructor without the parameters which yields the same exception.</p>\n"},{"tags":["java","apache-kafka"],"comments":[{"owner":{"account_id":5150443,"reputation":34158,"user_id":4125191,"display_name":"RealSkeptic"},"score":1,"creation_date":1643103814,"post_id":70846347,"comment_id":125245084,"body_markdown":"Looks like missing a kafka dependency.","body":"Looks like missing a kafka dependency."},{"owner":{"account_id":21500718,"reputation":23,"user_id":15844984,"display_name":"Shashi Preetham"},"score":0,"creation_date":1643109692,"post_id":70846347,"comment_id":125247356,"body_markdown":"@RealSkeptic, this issue is not seen when running in local machine, how can this be solved ?","body":"@RealSkeptic, this issue is not seen when running in local machine, how can this be solved ?"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":1,"creation_date":1643119729,"post_id":70846347,"comment_id":125251041,"body_markdown":"You need to explain how you are running code on your &quot;local machine&quot;. Obviously Docker isn&#39;t using the same Java command you&#39;ve given to run it locally. Most obvious example would be that your IDE may Austin&#39;s include all declared dependencies in the classpath, but building a non fat-jar does not","body":"You need to explain how you are running code on your &quot;local machine&quot;. Obviously Docker isn&#39;t using the same Java command you&#39;ve given to run it locally. Most obvious example would be that your IDE may Austin&#39;s include all declared dependencies in the classpath, but building a non fat-jar does not"},{"owner":{"account_id":2271070,"reputation":337,"user_id":1998463,"accept_rate":75,"display_name":"JMD"},"score":0,"creation_date":1677126707,"post_id":70846347,"comment_id":133277535,"body_markdown":"Am facing similar issue. Any resolution that worked?","body":"Am facing similar issue. Any resolution that worked?"}],"answers":[{"tags":[],"owner":{"account_id":2985035,"reputation":8984,"user_id":2534090,"accept_rate":34,"display_name":"JavaTechnical"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1643116065,"creation_date":1643116065,"answer_id":70849169,"question_id":70846347,"body_markdown":"This may be debugged in following ways:\r\n1. Ensure that you have all the required dependencies inside your docker container. You may want to check your docker base image first.\r\n2. Check if you have set the classpath appropriately to include that jar file (kafka-clients).\r\n3. Validate your entrypoint/cmd which you use to start the service to check if it has the appropriate classpath.\r\n4. Check your classloader and see why it is not able to load that class.\r\n5. If your executable is a *fat jar* file, check if that jar file contains the kafka-clients library where that class is present.\r\n","title":"java.lang.NoClassDefFoundError on Docker","body":"<p>This may be debugged in following ways:</p>\n<ol>\n<li>Ensure that you have all the required dependencies inside your docker container. You may want to check your docker base image first.</li>\n<li>Check if you have set the classpath appropriately to include that jar file (kafka-clients).</li>\n<li>Validate your entrypoint/cmd which you use to start the service to check if it has the appropriate classpath.</li>\n<li>Check your classloader and see why it is not able to load that class.</li>\n<li>If your executable is a <em>fat jar</em> file, check if that jar file contains the kafka-clients library where that class is present.</li>\n</ol>\n"}],"owner":{"account_id":21500718,"reputation":23,"user_id":15844984,"display_name":"Shashi Preetham"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":603,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1643119756,"creation_date":1643103502,"question_id":70846347,"body_markdown":"When The Program is Ran in the Local PC, it is working fine, but if it is running in the docker throws the following error:\r\n\r\n```shell\r\nException in thread &quot;Thread-16&quot; java.lang.NoClassDefFoundError: org/apache/kafka/common/serialization/Serializer\r\n\tat org.eclipse.kura.example.configurable.ConfigurableExample$1.run(ConfigurableExample.java:52)\r\n\tat java.lang.Thread.run(Thread.java:748)\r\nCaused by: java.lang.ClassNotFoundException: org.apache.kafka.common.serialization.Serializer cannot be found by org.eclipse.kura.example.configurable_1.0.0.202201251713\r\n\tat org.eclipse.osgi.internal.loader.BundleLoader.findClassInternal(BundleLoader.java:484)\r\n\tat org.eclipse.osgi.internal.loader.BundleLoader.findClass(BundleLoader.java:395)\r\n\tat org.eclipse.osgi.internal.loader.BundleLoader.findClass(BundleLoader.java:387)\r\n\tat org.eclipse.osgi.internal.loader.ModuleClassLoader.loadClass(ModuleClassLoader.java:150)\r\n\tat java.lang.ClassLoader.loadClass(ClassLoader.java:351)\r\n\t... 2 more\r\n```\r\nBut this is working fine in the LocalMachine.\r\nWhat is the issue ?","title":"java.lang.NoClassDefFoundError on Docker","body":"<p>When The Program is Ran in the Local PC, it is working fine, but if it is running in the docker throws the following error:</p>\n<pre class=\"lang-sh prettyprint-override\"><code>Exception in thread &quot;Thread-16&quot; java.lang.NoClassDefFoundError: org/apache/kafka/common/serialization/Serializer\n    at org.eclipse.kura.example.configurable.ConfigurableExample$1.run(ConfigurableExample.java:52)\n    at java.lang.Thread.run(Thread.java:748)\nCaused by: java.lang.ClassNotFoundException: org.apache.kafka.common.serialization.Serializer cannot be found by org.eclipse.kura.example.configurable_1.0.0.202201251713\n    at org.eclipse.osgi.internal.loader.BundleLoader.findClassInternal(BundleLoader.java:484)\n    at org.eclipse.osgi.internal.loader.BundleLoader.findClass(BundleLoader.java:395)\n    at org.eclipse.osgi.internal.loader.BundleLoader.findClass(BundleLoader.java:387)\n    at org.eclipse.osgi.internal.loader.ModuleClassLoader.loadClass(ModuleClassLoader.java:150)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:351)\n    ... 2 more\n</code></pre>\n<p>But this is working fine in the LocalMachine.\nWhat is the issue ?</p>\n"},{"tags":["java","mysql","spring-boot","hibernate"],"answers":[{"tags":[],"owner":{"account_id":21972984,"reputation":26,"user_id":16249195,"display_name":"Rutuja"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1643119544,"creation_date":1643119544,"answer_id":70850023,"question_id":70848117,"body_markdown":"Firstly, When you create just an annotation as `@Entity` and with sufficient dependency of a database of manual or H2 Database, *Spring boot will create a table with the same name as the name of the class*.\r\n\r\n**solution** : \r\n\r\n   Add H2 database dependency for getting the **hibernate_sequence** table. You will get H2 database dependency in pom.xml as follows : \r\n\r\n        &lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.h2database&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;h2&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\r\nOr \r\n\r\nYou can add a dependency for MYSQL and connect with the database manually using the **application.properties** file\r\n\r\npom.xml\r\n\r\n        &lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;mysql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\napplication.properties\r\n      \r\n    spring.datasource.url=jdbc:mysql://localhost:3306/dnischema\r\n    spring.datasource.username=root\r\n    spring.datasource.password=root\r\n    \r\n    # Hibernate properties\r\n    spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQL5InnoDBDialect\r\n    # create, create-drop\r\n    spring.jpa.hibernate.ddl-auto=update\r\n\r\n\r\nIf u are using the above steps firstly do create a Database in Mysql using the command `create database dnischema`.\r\n\r\n\r\nUsing this solution u don&#39;t need to create a separate table spring boot will create the table for you.","title":"Spring Boot cannot create database table in mysql 5.7","body":"<p>Firstly, When you create just an annotation as <code>@Entity</code> and with sufficient dependency of a database of manual or H2 Database, <em>Spring boot will create a table with the same name as the name of the class</em>.</p>\n<p><strong>solution</strong> :</p>\n<p>Add H2 database dependency for getting the <strong>hibernate_sequence</strong> table. You will get H2 database dependency in pom.xml as follows :</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;com.h2database&lt;/groupId&gt;\n        &lt;artifactId&gt;h2&lt;/artifactId&gt;\n        &lt;scope&gt;runtime&lt;/scope&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>Or</p>\n<p>You can add a dependency for MYSQL and connect with the database manually using the <strong>application.properties</strong> file</p>\n<p>pom.xml</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;mysql&lt;/groupId&gt;\n        &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n        &lt;scope&gt;runtime&lt;/scope&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>application.properties</p>\n<pre><code>spring.datasource.url=jdbc:mysql://localhost:3306/dnischema\nspring.datasource.username=root\nspring.datasource.password=root\n\n# Hibernate properties\nspring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQL5InnoDBDialect\n# create, create-drop\nspring.jpa.hibernate.ddl-auto=update\n</code></pre>\n<p>If u are using the above steps firstly do create a Database in Mysql using the command <code>create database dnischema</code>.</p>\n<p>Using this solution u don't need to create a separate table spring boot will create the table for you.</p>\n"}],"owner":{"account_id":23967201,"reputation":1,"user_id":17956509,"display_name":"Kemel_251"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":650,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70850023,"answer_count":1,"score":0,"last_activity_date":1643119544,"creation_date":1643111275,"question_id":70848117,"body_markdown":"I&#39;d like to create a table called dni with that information in mysql server.\r\n\r\n```\r\n@Entity\r\npublic class Dni implements Serializable {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    @Column(nullable = false, updatable = false)\r\n    private Long id;\r\n    private String nombre;\r\n    private String apellidos;\r\n    private String direccion;\r\n    private String fotoPerfil;\r\n    private String codigoDni;\r\n    private String fechaNacimiento;\r\n\r\n    public Dni() {\r\n    }\r\n\r\n    public Dni(Long id, String nombre, String apellidos, String direccion, String fotoPerfil, String codigoDni, String fechaNacimiento) {\r\n        this.id = id;\r\n        this.nombre = nombre;\r\n        this.apellidos = apellidos;\r\n        this.direccion = direccion;\r\n        this.fotoPerfil = fotoPerfil;\r\n        this.codigoDni = codigoDni;\r\n        this.fechaNacimiento = fechaNacimiento;\r\n    }\r\n\r\n    public Long getId() {\r\n        return id;\r\n    }\r\n\r\n    public void setId(Long id) {\r\n        this.id = id;\r\n    }\r\n\r\n    public String getNombre() {\r\n        return nombre;\r\n    }\r\n\r\n    public void setNombre(String nombre) {\r\n        this.nombre = nombre;\r\n    }\r\n\r\n    public String getApellidos() {\r\n        return apellidos;\r\n    }\r\n\r\n    public void setApellidos(String apellidos) {\r\n        this.apellidos = apellidos;\r\n    }\r\n\r\n    public String getDireccion() {\r\n        return direccion;\r\n    }\r\n\r\n    public void setDireccion(String direccion) {\r\n        this.direccion = direccion;\r\n    }\r\n\r\n    public String getFotoPerfil() {\r\n        return fotoPerfil;\r\n    }\r\n\r\n    public void setFotoPerfil(String fotoPerfil) {\r\n        this.fotoPerfil = fotoPerfil;\r\n    }\r\n\r\n    public String getCodigoDni() {\r\n        return codigoDni;\r\n    }\r\n\r\n    public void setCodigoDni(String codigoDni) {\r\n        this.codigoDni = codigoDni;\r\n    }\r\n\r\n    public String getFechaNacimiento() {\r\n        return fechaNacimiento;\r\n    }\r\n\r\n    public void setFechaNacimiento(String fechaNacimiento) {\r\n        this.fechaNacimiento = fechaNacimiento;\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return &quot;Dni{&quot; +\r\n                &quot;id=&quot; + id +\r\n                &quot;, nombre=&#39;&quot; + nombre + &#39;\\&#39;&#39; +\r\n                &quot;, apellidos=&#39;&quot; + apellidos + &#39;\\&#39;&#39; +\r\n                &quot;, direccion=&#39;&quot; + direccion + &#39;\\&#39;&#39; +\r\n                &quot;, fotoPerfil=&#39;&quot; + fotoPerfil + &#39;\\&#39;&#39; +\r\n                &quot;, codigoDni=&#39;&quot; + codigoDni + &#39;\\&#39;&#39; +\r\n                &quot;, fechaNacimiento=&quot; + fechaNacimiento +\r\n                &#39;}&#39;;\r\n    }\r\n}\r\n```\r\n\r\nQuerys that failed:\r\n\r\n1.&quot;create table dni (id bigint not null, apellidos varchar(255), codigo_dni varchar(255), direccion varchar(255), fecha_nacimiento varchar(255), foto_perfil varchar(255), nombre varchar(255), primary key (id)) engine=MyISAM&quot;\r\n\r\n2.&quot;create table hibernate_sequence (next_val bigint) engine=MyISAM&quot;\r\n\r\n\r\n\r\nWhat I tried:\r\n\r\n--&gt; put @Table(name = dni)\r\n\r\n--&gt; put this on pom.xml &lt;property name=&quot;hibernate.dialect&quot;&gt;org.hibernate.dialect.MySQL5Dialect&lt;/property&gt;\r\n\r\n--&gt; put this on application.properties spring.jpa.properties.hibernate.globally_quoted_identifiers=true\r\n\r\nNothing of this worked","title":"Spring Boot cannot create database table in mysql 5.7","body":"<p>I'd like to create a table called dni with that information in mysql server.</p>\n<pre><code>@Entity\npublic class Dni implements Serializable {\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    @Column(nullable = false, updatable = false)\n    private Long id;\n    private String nombre;\n    private String apellidos;\n    private String direccion;\n    private String fotoPerfil;\n    private String codigoDni;\n    private String fechaNacimiento;\n\n    public Dni() {\n    }\n\n    public Dni(Long id, String nombre, String apellidos, String direccion, String fotoPerfil, String codigoDni, String fechaNacimiento) {\n        this.id = id;\n        this.nombre = nombre;\n        this.apellidos = apellidos;\n        this.direccion = direccion;\n        this.fotoPerfil = fotoPerfil;\n        this.codigoDni = codigoDni;\n        this.fechaNacimiento = fechaNacimiento;\n    }\n\n    public Long getId() {\n        return id;\n    }\n\n    public void setId(Long id) {\n        this.id = id;\n    }\n\n    public String getNombre() {\n        return nombre;\n    }\n\n    public void setNombre(String nombre) {\n        this.nombre = nombre;\n    }\n\n    public String getApellidos() {\n        return apellidos;\n    }\n\n    public void setApellidos(String apellidos) {\n        this.apellidos = apellidos;\n    }\n\n    public String getDireccion() {\n        return direccion;\n    }\n\n    public void setDireccion(String direccion) {\n        this.direccion = direccion;\n    }\n\n    public String getFotoPerfil() {\n        return fotoPerfil;\n    }\n\n    public void setFotoPerfil(String fotoPerfil) {\n        this.fotoPerfil = fotoPerfil;\n    }\n\n    public String getCodigoDni() {\n        return codigoDni;\n    }\n\n    public void setCodigoDni(String codigoDni) {\n        this.codigoDni = codigoDni;\n    }\n\n    public String getFechaNacimiento() {\n        return fechaNacimiento;\n    }\n\n    public void setFechaNacimiento(String fechaNacimiento) {\n        this.fechaNacimiento = fechaNacimiento;\n    }\n\n    @Override\n    public String toString() {\n        return &quot;Dni{&quot; +\n                &quot;id=&quot; + id +\n                &quot;, nombre='&quot; + nombre + '\\'' +\n                &quot;, apellidos='&quot; + apellidos + '\\'' +\n                &quot;, direccion='&quot; + direccion + '\\'' +\n                &quot;, fotoPerfil='&quot; + fotoPerfil + '\\'' +\n                &quot;, codigoDni='&quot; + codigoDni + '\\'' +\n                &quot;, fechaNacimiento=&quot; + fechaNacimiento +\n                '}';\n    }\n}\n</code></pre>\n<p>Querys that failed:</p>\n<p>1.&quot;create table dni (id bigint not null, apellidos varchar(255), codigo_dni varchar(255), direccion varchar(255), fecha_nacimiento varchar(255), foto_perfil varchar(255), nombre varchar(255), primary key (id)) engine=MyISAM&quot;</p>\n<p>2.&quot;create table hibernate_sequence (next_val bigint) engine=MyISAM&quot;</p>\n<p>What I tried:</p>\n<p>--&gt; put @Table(name = dni)</p>\n<p>--&gt; put this on pom.xml org.hibernate.dialect.MySQL5Dialect</p>\n<p>--&gt; put this on application.properties spring.jpa.properties.hibernate.globally_quoted_identifiers=true</p>\n<p>Nothing of this worked</p>\n"},{"tags":["java","multithreading","threadpool","executorservice","shutdown"],"comments":[{"owner":{"account_id":22450291,"reputation":364,"user_id":16653700,"display_name":"Alias Cartellano"},"score":0,"creation_date":1643060897,"post_id":70840331,"comment_id":125235891,"body_markdown":"Is it necessary to have an `awaitTermination()` after `shutdownNow()`? I&#39;ve seen examples where there was no `awaitTermination()` after `shutdownNow()` but after`shutdown()` alone.","body":"Is it necessary to have an <code>awaitTermination()</code> after <code>shutdownNow()</code>? I&#39;ve seen examples where there was no <code>awaitTermination()</code> after <code>shutdownNow()</code> but after<code>shutdown()</code> alone."},{"owner":{"account_id":13639455,"reputation":55,"user_id":14845667,"display_name":"lbeul"},"score":0,"creation_date":1643119574,"post_id":70840331,"comment_id":125250961,"body_markdown":"@AliasCartellano It&#39;s just the way [Oracle proposes to shutdown ExecutorServices](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/concurrent/ExecutorService.html). I guess the additional `awaitTermination()` is kind of an extra layer of thread-safety - although I too do not understand its necessity.","body":"@AliasCartellano It&#39;s just the way <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/concurrent/ExecutorService.html\" rel=\"nofollow noreferrer\">Oracle proposes to shutdown ExecutorServices</a>. I guess the additional <code>awaitTermination()</code> is kind of an extra layer of thread-safety - although I too do not understand its necessity."}],"answers":[{"tags":[],"owner":{"account_id":7622322,"reputation":3444,"user_id":5780020,"display_name":"njr"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1643060777,"creation_date":1643060777,"answer_id":70840906,"question_id":70840331,"body_markdown":"The JavaDoc for the [ExecutorService.shutdown()][1] method states that it means &quot;previously submitted tasks are executed, but no new tasks will be accepted&quot;. Termination, however, will not happen until all tasks have completed.  The Runnables for your tasks perform a blocking operation,\r\n`serverSocket.accept()` so you should not expect the awaitTermination method to return after a shutdown until enough requests come in after the shutdown to use up all of the tasks that are blocking.  You could try using shutdownNow() instead of shutdown() so that it attempts to immediately cancel/interrupt all of the running tasks, which should hopefully unblock them.\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ExecutorService.html#shutdown--","title":"Graceful shutdown of multithreaded java server using executor service","body":"<p>The JavaDoc for the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ExecutorService.html#shutdown--\" rel=\"nofollow noreferrer\">ExecutorService.shutdown()</a> method states that it means &quot;previously submitted tasks are executed, but no new tasks will be accepted&quot;. Termination, however, will not happen until all tasks have completed.  The Runnables for your tasks perform a blocking operation,\n<code>serverSocket.accept()</code> so you should not expect the awaitTermination method to return after a shutdown until enough requests come in after the shutdown to use up all of the tasks that are blocking.  You could try using shutdownNow() instead of shutdown() so that it attempts to immediately cancel/interrupt all of the running tasks, which should hopefully unblock them.</p>\n"},{"tags":[],"owner":{"account_id":13639455,"reputation":55,"user_id":14845667,"display_name":"lbeul"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643119347,"creation_date":1643119347,"answer_id":70849969,"question_id":70840331,"body_markdown":"Thanks to [@njr](https://stackoverflow.com/users/5780020/njr) I realized that `serverSocket.accept()` was the source of my problems.\r\n\r\nThe method is blocking and waits for incoming connections. To be able to terminate it, I made `serverSocket` an instance variable that I can close by calling `serverSocket.close()` from within my `shutdown()` method. \r\n\r\nThis will cause `serverSocket.accept()` to throw an `IOException` - so I catch it and call `Thread.currentThread().interrupt()` to shutdown the running thread.\r\n\r\nBelow is the relevant code:\r\n\r\n```java\r\npublic class Server extends Runnable {\r\n\r\n    private final List&lt;ClientHandler&gt; activeHandlers = new ArrayList&lt;&gt;();\r\n    private ServerSocket newConnections;\r\n    private volatile boolean terminated = false;\r\n    private ExecutorService service;\r\n\r\n\r\n    @Override\r\n    public void start(int port) throws ServerException {\r\n        try {\r\n            this.newConnections = new ServerSocket(port);\r\n            service = Executors.newCachedThreadPool();\r\n            service.submit(this);\r\n        } catch (IOException e) {\r\n            throw new ServerException(&quot;Server can not be created at port &quot; + port);\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void shutdown() throws ServerException {\r\n        try {\r\n            this.terminated = true;\r\n            newConnections.close();\r\n        } catch (IOException e) {\r\n            throw new ServerException(&quot;Shut down failed - server socket can not be closed&quot;);\r\n        } finally {\r\n            PoolUtil.safeShutdown(service);\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void run() {\r\n        try {\r\n            while (!terminated) {\r\n                try {\r\n                    Socket client = newConnections.accept();\r\n                    ClientHandler clientSocket = connect(client);\r\n                    service.submit(clientSocket);\r\n                } catch (IOException e) {\r\n                    System.out.println(&quot;ServerSocket terminated&quot;);\r\n                    Thread.currentThread().interrupt();\r\n                }\r\n            }\r\n        } finally {\r\n            PoolUtil.safeShutdown(service);\r\n        }\r\n    }\r\n\r\n    // left out irrelevant methods\r\n\r\n}\r\n\r\n```","title":"Graceful shutdown of multithreaded java server using executor service","body":"<p>Thanks to <a href=\"https://stackoverflow.com/users/5780020/njr\">@njr</a> I realized that <code>serverSocket.accept()</code> was the source of my problems.</p>\n<p>The method is blocking and waits for incoming connections. To be able to terminate it, I made <code>serverSocket</code> an instance variable that I can close by calling <code>serverSocket.close()</code> from within my <code>shutdown()</code> method.</p>\n<p>This will cause <code>serverSocket.accept()</code> to throw an <code>IOException</code> - so I catch it and call <code>Thread.currentThread().interrupt()</code> to shutdown the running thread.</p>\n<p>Below is the relevant code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Server extends Runnable {\n\n    private final List&lt;ClientHandler&gt; activeHandlers = new ArrayList&lt;&gt;();\n    private ServerSocket newConnections;\n    private volatile boolean terminated = false;\n    private ExecutorService service;\n\n\n    @Override\n    public void start(int port) throws ServerException {\n        try {\n            this.newConnections = new ServerSocket(port);\n            service = Executors.newCachedThreadPool();\n            service.submit(this);\n        } catch (IOException e) {\n            throw new ServerException(&quot;Server can not be created at port &quot; + port);\n        }\n    }\n\n    @Override\n    public void shutdown() throws ServerException {\n        try {\n            this.terminated = true;\n            newConnections.close();\n        } catch (IOException e) {\n            throw new ServerException(&quot;Shut down failed - server socket can not be closed&quot;);\n        } finally {\n            PoolUtil.safeShutdown(service);\n        }\n    }\n\n    @Override\n    public void run() {\n        try {\n            while (!terminated) {\n                try {\n                    Socket client = newConnections.accept();\n                    ClientHandler clientSocket = connect(client);\n                    service.submit(clientSocket);\n                } catch (IOException e) {\n                    System.out.println(&quot;ServerSocket terminated&quot;);\n                    Thread.currentThread().interrupt();\n                }\n            }\n        } finally {\n            PoolUtil.safeShutdown(service);\n        }\n    }\n\n    // left out irrelevant methods\n\n}\n\n</code></pre>\n"}],"owner":{"account_id":13639455,"reputation":55,"user_id":14845667,"display_name":"lbeul"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":487,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70840906,"answer_count":2,"score":1,"last_activity_date":1643119347,"creation_date":1643057437,"question_id":70840331,"body_markdown":"I refactored a single-threaded server to be capable of multithreading and accepting multiple clients at the same time. To do so, I spawn a new `ClientHandler` thread for each new client and submit it to an `ExecutorService`. I  want to initiate a server shutdown by entering a new line to `System.In`.\r\n\r\nHowever, I am not able to shut down the server from within (using the shutdown method suggested in Oracle&#39;s ExecutorService doc)  - can somebody explain to me why?\r\nMy `Server` is a `Runnable` and I put it into the same `ThreadPool` as my individual client threads - could this be the problem?\r\n\r\n_PS: This is a university project. I deliberately left out the names of the implemented interfaces and the request processing methods, as well as renamed the classes to prevent this from becoming the go-to solution for every lazy student in the future._\r\n\r\n**Server**\r\n```java\r\npublic class Server extends Runnable {\r\n\r\n  private final List&lt;ClientHandler&gt; activeHandlers = new ArrayList&lt;&gt;();\r\n  private int port;\r\n  private volatile boolean terminated = false;\r\n  private ExecutorService service;\r\n\r\n\r\n  @Override\r\n  public void start(int port) throws ServerException {\r\n      this.port = port;\r\n      service = Executors.newCachedThreadPool();\r\n      service.submit(this);\r\n  }\r\n\r\n  @Override\r\n  public void shutdown() throws ServerException {\r\n      System.out.println(&quot;Shutdown initiated.&quot;);\r\n      this.terminated = true;\r\n      PoolUtil.safeShutdown(service);\r\n  }\r\n\r\n  @Override\r\n  public void run() {\r\n      try (ServerSocket serverSocket = new ServerSocket(port)) {\r\n          while (!terminated) {\r\n              try {\r\n                  Socket client = serverSocket.accept();\r\n                  ClientHandler clientSocket = connect(client);\r\n                  service.submit(clientSocket);\r\n              } catch (IOException e) {\r\n                  System.err.println(&quot;ERROR: Connection to client failed.&quot;);\r\n              }\r\n          }\r\n      } catch (IOException e) {\r\n          System.err.println(&quot;ERROR: Could not create a socket on port &quot; + port);\r\n      } finally {\r\n          PoolUtil.safeShutdown(service);\r\n      }\r\n  }\r\n\r\n  @Override\r\n  public ClientHandler connect(Socket client) {\r\n      ClientHandler clientHandler = new ClientHandler(client, this);\r\n      activeHandlers.add(clientHandler);\r\n      System.out.println(&quot;Registered new ClientHandler for &quot; + client.getInetAddress().toString());\r\n      return clientHandler;\r\n  }\r\n\r\n  @Override\r\n  public void disconnect(ClientHandler clientHandler) {\r\n      activeHandlers.remove(clientHandler);\r\n      System.out.println(&quot;Client successfully disconnected.&quot;);\r\n  }\r\n}\r\n```\r\n\r\n**ClientHandler**\r\n```java\r\nublic class ClientHandler extends Runnable {\r\n  private final Socket client;\r\n  private final DirectoryServer server;\r\n  private boolean terminated;\r\n  private final Result result = new Result();\r\n\r\n  public ClientHandler(Socket client, DirectoryServer server) {\r\n      this.client = client;\r\n      this.server = server;\r\n      terminated = false;\r\n  }\r\n\r\n  @Override\r\n  public void run() {\r\n      try (client;\r\n           ObjectOutputStream oos = new ObjectOutputStream(client.getOutputStream());\r\n           ObjectInputStream ois = new ObjectInputStream(client.getInputStream())) {\r\n          while (!terminated) {\r\n              Object message = ois.readObject();\r\n              if (message instanceof SomeRequest) {\r\n                 // dostuff...\r\n              } else if (message instanceof TerminateConnection) {\r\n                  TerminateConnection termination = (TerminateConnection) message;\r\n                  process(termination);\r\n              } else {\r\n                  System.err.println(\r\n                          &quot;ERROR: the received object of class &quot;\r\n                                  + message.getClass().toString()\r\n                                  + &quot;can not be processed.&quot;\r\n                  );\r\n              }\r\n          }\r\n      } catch (IOException e) {\r\n          // FIXME: Error handling\r\n          System.err.println(&quot;ERROR concerning client &quot; + client.getInetAddress() + &quot; -&gt; &quot; + e.getMessage());\r\n      } catch (ClassNotFoundException e) {\r\n          // FIXME: Error handling\r\n          System.err.println(&quot;ERROR: the class of the received object unknown to server --&gt; &quot; + e.getMessage());\r\n      }\r\n\r\n  }\r\n\r\n\r\n  @Override\r\n  public void process(TerminateConnection terminateConnection) {\r\n      this.terminated = true;\r\n      server.disconnect(this);\r\n  }\r\n}\r\n\r\n```\r\n\r\n**ServerMain**\r\n```java\r\npublic class ServerMain {\r\n\r\n\tpublic static void main(String[] args) throws ServerException, IOException {\r\n\t\tServer server = new Server();\r\n\t\tserver.start(1337);\r\n\t\tSystem.out.println(&quot;Server started. Press enter to terminate.&quot;);\r\n\r\n\t\tSystem.in.read();\r\n\r\n\t\tserver.shutdown();\r\n\t\tSystem.out.println(&quot;Server is shut down...&quot;);\r\n\t}\r\n}\r\n```\r\n\r\n**PoolUtil.shutdown( )**\r\n```java\r\npublic static void safeShutdown(ExecutorService threadPool){\r\n        threadPool.shutdown();\r\n        try {\r\n            // Waits a minute for all tasks to terminate\r\n            if (!threadPool.awaitTermination(60, TimeUnit.SECONDS)) {\r\n                // Cancel all tasks that are still running after a minute\r\n                threadPool.shutdownNow();\r\n                // Waits another minute for all tasks to be cancelled\r\n                if (!threadPool.awaitTermination(60, TimeUnit.SECONDS)) {\r\n                    System.err.println(&quot;Service did not terminate!&quot;);\r\n                }\r\n            }\r\n        } catch (InterruptedException e) {\r\n            threadPool.shutdownNow();\r\n            Thread.currentThread().interrupt();\r\n        }\r\n    }\r\n```\r\n","title":"Graceful shutdown of multithreaded java server using executor service","body":"<p>I refactored a single-threaded server to be capable of multithreading and accepting multiple clients at the same time. To do so, I spawn a new <code>ClientHandler</code> thread for each new client and submit it to an <code>ExecutorService</code>. I  want to initiate a server shutdown by entering a new line to <code>System.In</code>.</p>\n<p>However, I am not able to shut down the server from within (using the shutdown method suggested in Oracle's ExecutorService doc)  - can somebody explain to me why?\nMy <code>Server</code> is a <code>Runnable</code> and I put it into the same <code>ThreadPool</code> as my individual client threads - could this be the problem?</p>\n<p><em>PS: This is a university project. I deliberately left out the names of the implemented interfaces and the request processing methods, as well as renamed the classes to prevent this from becoming the go-to solution for every lazy student in the future.</em></p>\n<p><strong>Server</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Server extends Runnable {\n\n  private final List&lt;ClientHandler&gt; activeHandlers = new ArrayList&lt;&gt;();\n  private int port;\n  private volatile boolean terminated = false;\n  private ExecutorService service;\n\n\n  @Override\n  public void start(int port) throws ServerException {\n      this.port = port;\n      service = Executors.newCachedThreadPool();\n      service.submit(this);\n  }\n\n  @Override\n  public void shutdown() throws ServerException {\n      System.out.println(&quot;Shutdown initiated.&quot;);\n      this.terminated = true;\n      PoolUtil.safeShutdown(service);\n  }\n\n  @Override\n  public void run() {\n      try (ServerSocket serverSocket = new ServerSocket(port)) {\n          while (!terminated) {\n              try {\n                  Socket client = serverSocket.accept();\n                  ClientHandler clientSocket = connect(client);\n                  service.submit(clientSocket);\n              } catch (IOException e) {\n                  System.err.println(&quot;ERROR: Connection to client failed.&quot;);\n              }\n          }\n      } catch (IOException e) {\n          System.err.println(&quot;ERROR: Could not create a socket on port &quot; + port);\n      } finally {\n          PoolUtil.safeShutdown(service);\n      }\n  }\n\n  @Override\n  public ClientHandler connect(Socket client) {\n      ClientHandler clientHandler = new ClientHandler(client, this);\n      activeHandlers.add(clientHandler);\n      System.out.println(&quot;Registered new ClientHandler for &quot; + client.getInetAddress().toString());\n      return clientHandler;\n  }\n\n  @Override\n  public void disconnect(ClientHandler clientHandler) {\n      activeHandlers.remove(clientHandler);\n      System.out.println(&quot;Client successfully disconnected.&quot;);\n  }\n}\n</code></pre>\n<p><strong>ClientHandler</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>ublic class ClientHandler extends Runnable {\n  private final Socket client;\n  private final DirectoryServer server;\n  private boolean terminated;\n  private final Result result = new Result();\n\n  public ClientHandler(Socket client, DirectoryServer server) {\n      this.client = client;\n      this.server = server;\n      terminated = false;\n  }\n\n  @Override\n  public void run() {\n      try (client;\n           ObjectOutputStream oos = new ObjectOutputStream(client.getOutputStream());\n           ObjectInputStream ois = new ObjectInputStream(client.getInputStream())) {\n          while (!terminated) {\n              Object message = ois.readObject();\n              if (message instanceof SomeRequest) {\n                 // dostuff...\n              } else if (message instanceof TerminateConnection) {\n                  TerminateConnection termination = (TerminateConnection) message;\n                  process(termination);\n              } else {\n                  System.err.println(\n                          &quot;ERROR: the received object of class &quot;\n                                  + message.getClass().toString()\n                                  + &quot;can not be processed.&quot;\n                  );\n              }\n          }\n      } catch (IOException e) {\n          // FIXME: Error handling\n          System.err.println(&quot;ERROR concerning client &quot; + client.getInetAddress() + &quot; -&gt; &quot; + e.getMessage());\n      } catch (ClassNotFoundException e) {\n          // FIXME: Error handling\n          System.err.println(&quot;ERROR: the class of the received object unknown to server --&gt; &quot; + e.getMessage());\n      }\n\n  }\n\n\n  @Override\n  public void process(TerminateConnection terminateConnection) {\n      this.terminated = true;\n      server.disconnect(this);\n  }\n}\n\n</code></pre>\n<p><strong>ServerMain</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>public class ServerMain {\n\n    public static void main(String[] args) throws ServerException, IOException {\n        Server server = new Server();\n        server.start(1337);\n        System.out.println(&quot;Server started. Press enter to terminate.&quot;);\n\n        System.in.read();\n\n        server.shutdown();\n        System.out.println(&quot;Server is shut down...&quot;);\n    }\n}\n</code></pre>\n<p><strong>PoolUtil.shutdown( )</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void safeShutdown(ExecutorService threadPool){\n        threadPool.shutdown();\n        try {\n            // Waits a minute for all tasks to terminate\n            if (!threadPool.awaitTermination(60, TimeUnit.SECONDS)) {\n                // Cancel all tasks that are still running after a minute\n                threadPool.shutdownNow();\n                // Waits another minute for all tasks to be cancelled\n                if (!threadPool.awaitTermination(60, TimeUnit.SECONDS)) {\n                    System.err.println(&quot;Service did not terminate!&quot;);\n                }\n            }\n        } catch (InterruptedException e) {\n            threadPool.shutdownNow();\n            Thread.currentThread().interrupt();\n        }\n    }\n</code></pre>\n"},{"tags":["java","zooming","java-11","oracleforms"],"comments":[{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1642777244,"post_id":70803284,"comment_id":125169602,"body_markdown":"What font specifically did you have a problem with? Did you try switching to another font on Java 11? Maybe the font is not supported on Java 11 and it is being replaced to some default font that doesn&#39;t zoom well.","body":"What font specifically did you have a problem with? Did you try switching to another font on Java 11? Maybe the font is not supported on Java 11 and it is being replaced to some default font that doesn&#39;t zoom well."},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1642777453,"post_id":70803284,"comment_id":125169687,"body_markdown":"Hmm... what do you know?  I found this on the web that kind of supports my suspicion: https://community.oracle.com/tech/developers/discussion/3547024/default-font-forms-6i","body":"Hmm... what do you know?  I found this on the web that kind of supports my suspicion: <a href=\"https://community.oracle.com/tech/developers/discussion/3547024/default-font-forms-6i\" rel=\"nofollow noreferrer\">community.oracle.com/tech/developers/discussion/3547024/&hellip;</a>"},{"owner":{"account_id":15371419,"reputation":15,"user_id":11089334,"display_name":"Niko Zaun"},"score":0,"creation_date":1643102868,"post_id":70803284,"comment_id":125244688,"body_markdown":"@hfontanez: You&#39;re right, switching to another font partly works. But if we changed fonts througout the entire app, this woud be a huge workload. Do you know where to modify/add fonts to Java SE 11.0.12 and where to look for the same thing in Java 8?","body":"@hfontanez: You&#39;re right, switching to another font partly works. But if we changed fonts througout the entire app, this woud be a huge workload. Do you know where to modify/add fonts to Java SE 11.0.12 and where to look for the same thing in Java 8?"}],"answers":[{"tags":[],"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1643115474,"creation_date":1643115474,"answer_id":70849029,"question_id":70803284,"body_markdown":"This problem is most likely the result of an unsupported font in Java 11. So, the best way to fix this is to switch to a supported font. The hard task is to switch to a font that look similar. Since I do not know which font is the culprit, I can&#39;t tell you which one to use that is supported on Java 11. You could &quot;Google&quot; it.\r\n\r\nTo learn more about default fonts in Java, read these articles\r\n\r\n 1. https://docs.oracle.com/javase/tutorial/2d/text/fonts.html\r\n 2. https://docs.oracle.com/en/java/javase/11/intl/font-configuration-files.html#GUID-48F5ADDD-FB48-461D-8F26-9805DFB783CD\r\n\r\nYou may have to reach out to Oracle Forms support if the problem can&#39;t be solved through conventional ways. For example, for Swing apps, in order to change the default font, you have to modify the loaded `LookAndFeel` of the application.","title":"Java 11 + Oracle Forms-Standalone Launcher + 125%-Zoom = blurry application","body":"<p>This problem is most likely the result of an unsupported font in Java 11. So, the best way to fix this is to switch to a supported font. The hard task is to switch to a font that look similar. Since I do not know which font is the culprit, I can't tell you which one to use that is supported on Java 11. You could &quot;Google&quot; it.</p>\n<p>To learn more about default fonts in Java, read these articles</p>\n<ol>\n<li><a href=\"https://docs.oracle.com/javase/tutorial/2d/text/fonts.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/tutorial/2d/text/fonts.html</a></li>\n<li><a href=\"https://docs.oracle.com/en/java/javase/11/intl/font-configuration-files.html#GUID-48F5ADDD-FB48-461D-8F26-9805DFB783CD\" rel=\"nofollow noreferrer\">https://docs.oracle.com/en/java/javase/11/intl/font-configuration-files.html#GUID-48F5ADDD-FB48-461D-8F26-9805DFB783CD</a></li>\n</ol>\n<p>You may have to reach out to Oracle Forms support if the problem can't be solved through conventional ways. For example, for Swing apps, in order to change the default font, you have to modify the loaded <code>LookAndFeel</code> of the application.</p>\n"},{"tags":[],"owner":{"account_id":8497779,"reputation":404,"user_id":8393722,"display_name":"MichaelJF"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1643118988,"creation_date":1643118988,"answer_id":70849880,"question_id":70803284,"body_markdown":"There are numerous Java bugs filed against this and similar issues.  Unfortunately, the exact cause has yet to be identified mostly because a good (Java) test case has not been provided to the Java team.\r\n\r\nThat said, some improvements have been made in newer Java versions.  Also, various combinations of these Java switches have claimed to offer some help. Which one is right for you will depend on the exact issue.\r\n\r\n    -Dsun.java2d.dpiaware=true\r\n    \r\n    -Dsun.java2d.uiScale=true\r\n    \r\n    -Dsun.java2d.autoScaleThreshold=1.5\r\n    \r\n    -Dsun.java2d.uiScale=1.0\r\n\r\nIf you decide to contact Oracle Support, refer to bug 31589993.  However, I would suggest testing with newer Java versions first.  The latest supported with Forms 12.2.1.4 is 17.0.2\r\n\r\nhttps://www.oracle.com/java/technologies/downloads/#jdk17-windows  \r\n\r\n\r\n\r\n","title":"Java 11 + Oracle Forms-Standalone Launcher + 125%-Zoom = blurry application","body":"<p>There are numerous Java bugs filed against this and similar issues.  Unfortunately, the exact cause has yet to be identified mostly because a good (Java) test case has not been provided to the Java team.</p>\n<p>That said, some improvements have been made in newer Java versions.  Also, various combinations of these Java switches have claimed to offer some help. Which one is right for you will depend on the exact issue.</p>\n<pre><code>-Dsun.java2d.dpiaware=true\n\n-Dsun.java2d.uiScale=true\n\n-Dsun.java2d.autoScaleThreshold=1.5\n\n-Dsun.java2d.uiScale=1.0\n</code></pre>\n<p>If you decide to contact Oracle Support, refer to bug 31589993.  However, I would suggest testing with newer Java versions first.  The latest supported with Forms 12.2.1.4 is 17.0.2</p>\n<p><a href=\"https://www.oracle.com/java/technologies/downloads/#jdk17-windows\" rel=\"nofollow noreferrer\">https://www.oracle.com/java/technologies/downloads/#jdk17-windows</a></p>\n"}],"owner":{"account_id":15371419,"reputation":15,"user_id":11089334,"display_name":"Niko Zaun"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":627,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70849880,"answer_count":2,"score":0,"last_activity_date":1643118988,"creation_date":1642777043,"question_id":70803284,"body_markdown":"After we switched from Java 8 to Java 11 with our Oracle Forms + Reports-Application, the GUI-font appears quite blurry when zoomed to 125% or 150%. For testing we switched back and replaced Java 11 with Java 8 and the application appeared fine when zoomed. How to fix it with Java 11?\r\n\r\nWe already tried the solutions we found online but nothing worked: Starting Java 11 with -Dsun.java2d.ddscale=true has no effect. Another possible solution would be to adjust the default DPI awareness mode of our application but we have no clue how and where to put a manifest file.\r\n\r\nAny ideas?","title":"Java 11 + Oracle Forms-Standalone Launcher + 125%-Zoom = blurry application","body":"<p>After we switched from Java 8 to Java 11 with our Oracle Forms + Reports-Application, the GUI-font appears quite blurry when zoomed to 125% or 150%. For testing we switched back and replaced Java 11 with Java 8 and the application appeared fine when zoomed. How to fix it with Java 11?</p>\n<p>We already tried the solutions we found online but nothing worked: Starting Java 11 with -Dsun.java2d.ddscale=true has no effect. Another possible solution would be to adjust the default DPI awareness mode of our application but we have no clue how and where to put a manifest file.</p>\n<p>Any ideas?</p>\n"},{"tags":["java","formatting","bigdecimal"],"answers":[{"tags":[],"owner":{"account_id":1319460,"reputation":2834,"user_id":1265572,"accept_rate":75,"display_name":"lrAndroid"},"down_vote_count":3,"up_vote_count":15,"is_accepted":false,"score":12,"last_activity_date":1335108402,"creation_date":1335108402,"answer_id":10269228,"question_id":10269045,"body_markdown":"Use `stripTrailingZeros()`.\r\n\r\n[This][1] article should help you.\r\n\r\n\r\n  [1]: http://www.roseindia.net/java/java-bigdecimal/striptrailingzer.shtml","title":"Format a BigDecimal as String with max 2 decimal digits, removing 0 on decimal part","body":"<p>Use <code>stripTrailingZeros()</code>.</p>\n\n<p><a href=\"http://www.roseindia.net/java/java-bigdecimal/striptrailingzer.shtml\" rel=\"noreferrer\">This</a> article should help you.</p>\n"},{"tags":[],"owner":{"account_id":633896,"reputation":3552,"user_id":399637,"accept_rate":90,"display_name":"res1"},"down_vote_count":0,"up_vote_count":120,"is_accepted":true,"score":120,"last_activity_date":1643118860,"creation_date":1336173731,"answer_id":10457320,"question_id":10269045,"body_markdown":"I used `DecimalFormat` for formatting the `BigDecimal` instead of formatting the `String`, seems no problems with it.\r\n\r\nThe code is something like this:\r\n\r\n    bd = bd.setScale(2, BigDecimal.ROUND_DOWN);\r\n    \r\n    DecimalFormat df = new DecimalFormat();\r\n    \t\t\t\r\n    df.setMaximumFractionDigits(2);\r\n    \t\t\t\r\n    df.setMinimumFractionDigits(0);\r\n    \t\t\t\r\n    df.setGroupingUsed(false);\r\n    \r\n    String result = df.format(bd);\r\n\r\n","title":"Format a BigDecimal as String with max 2 decimal digits, removing 0 on decimal part","body":"<p>I used <code>DecimalFormat</code> for formatting the <code>BigDecimal</code> instead of formatting the <code>String</code>, seems no problems with it.</p>\n<p>The code is something like this:</p>\n<pre><code>bd = bd.setScale(2, BigDecimal.ROUND_DOWN);\n\nDecimalFormat df = new DecimalFormat();\n            \ndf.setMaximumFractionDigits(2);\n            \ndf.setMinimumFractionDigits(0);\n            \ndf.setGroupingUsed(false);\n\nString result = df.format(bd);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2244169,"reputation":879,"user_id":1977960,"display_name":"Federico Cattozzi"},"down_vote_count":1,"up_vote_count":84,"is_accepted":false,"score":83,"last_activity_date":1358187977,"creation_date":1358187977,"answer_id":14324301,"question_id":10269045,"body_markdown":"    new DecimalFormat(&quot;#0.##&quot;).format(bd)","title":"Format a BigDecimal as String with max 2 decimal digits, removing 0 on decimal part","body":"<pre><code>new DecimalFormat(\"#0.##\").format(bd)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3508394,"reputation":2007,"user_id":2933389,"accept_rate":100,"display_name":"Paramesh Korrakuti"},"down_vote_count":1,"up_vote_count":17,"is_accepted":false,"score":16,"last_activity_date":1433310996,"creation_date":1433310996,"answer_id":30611903,"question_id":10269045,"body_markdown":"The below code may help you.\r\n\r\n    protected String getLocalizedBigDecimalValue(BigDecimal input, Locale locale) {\r\n        final NumberFormat numberFormat = NumberFormat.getNumberInstance(locale);\r\n        numberFormat.setGroupingUsed(true);\r\n        numberFormat.setMaximumFractionDigits(2);\r\n        numberFormat.setMinimumFractionDigits(2);\r\n        return numberFormat.format(input);\r\n    }","title":"Format a BigDecimal as String with max 2 decimal digits, removing 0 on decimal part","body":"<p>The below code may help you.</p>\n\n<pre><code>protected String getLocalizedBigDecimalValue(BigDecimal input, Locale locale) {\n    final NumberFormat numberFormat = NumberFormat.getNumberInstance(locale);\n    numberFormat.setGroupingUsed(true);\n    numberFormat.setMaximumFractionDigits(2);\n    numberFormat.setMinimumFractionDigits(2);\n    return numberFormat.format(input);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2507812,"reputation":5574,"user_id":2180959,"accept_rate":73,"display_name":"Heisenberg"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1470094285,"creation_date":1470094285,"answer_id":38709613,"question_id":10269045,"body_markdown":"If its money use:\r\n\r\n    NumberFormat.getNumberInstance(java.util.Locale.US).format(bd)","title":"Format a BigDecimal as String with max 2 decimal digits, removing 0 on decimal part","body":"<p>If its money use:</p>\n\n<pre><code>NumberFormat.getNumberInstance(java.util.Locale.US).format(bd)\n</code></pre>\n"}],"owner":{"account_id":633896,"reputation":3552,"user_id":399637,"accept_rate":90,"display_name":"res1"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":212698,"favorite_count":0,"down_vote_count":0,"up_vote_count":94,"accepted_answer_id":10457320,"answer_count":5,"score":94,"last_activity_date":1643118860,"creation_date":1335107055,"question_id":10269045,"body_markdown":"I have a BigDecimal number and i consider only 2 decimal places of it so i truncate it using:\r\n\r\n    bd = bd.setScale(2, BigDecimal.ROUND_DOWN)\r\n\r\nNow I want to print it as String but removing the decimal part if it is 0, for example:\r\n\r\n1.00 -&gt; 1\r\n\r\n1.50 -&gt; 1.5\r\n\r\n1.99 -&gt; 1.99\r\n\r\nI tried using a Formatter, formatter.format but i always get the 2 decimal digits.\r\n\r\nHow can I do this? Maybe working on the string from bd.toPlainString()?\r\n\r\n","title":"Format a BigDecimal as String with max 2 decimal digits, removing 0 on decimal part","body":"<p>I have a BigDecimal number and i consider only 2 decimal places of it so i truncate it using:</p>\n\n<pre><code>bd = bd.setScale(2, BigDecimal.ROUND_DOWN)\n</code></pre>\n\n<p>Now I want to print it as String but removing the decimal part if it is 0, for example:</p>\n\n<p>1.00 -> 1</p>\n\n<p>1.50 -> 1.5</p>\n\n<p>1.99 -> 1.99</p>\n\n<p>I tried using a Formatter, formatter.format but i always get the 2 decimal digits.</p>\n\n<p>How can I do this? Maybe working on the string from bd.toPlainString()?</p>\n"},{"tags":["java","json","serialization","jackson"],"answers":[{"tags":[],"owner":{"account_id":137166,"reputation":1740,"user_id":341170,"display_name":"Mohit"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1449754613,"creation_date":1449754613,"answer_id":34203334,"question_id":34199725,"body_markdown":"You can use Jackson custom deserializer APIs to get the desired result.\r\nSee the sample below:\r\n\r\n\tpublic class Test {\r\n\r\n\t\tpublic static void main(String[] args) throws Exception {\r\n\t\t\tObjectMapper om = new ObjectMapper();\r\n\t\t\tParameter p = om.readValue(&quot;{\\&quot;prevValue\\&quot;: 101044012342343543}&quot;, Parameter.class);\r\n\t\t\tSystem.out.println(p.prevValue);\r\n\t\t}\r\n\r\n\t\tpublic static class Number2StringDesrializer extends JsonDeserializer&lt;String&gt; {\r\n\r\n\t\t\t@Override\r\n\t\t\tpublic String deserialize(JsonParser p, DeserializationContext ctxt) throws IOException, JsonProcessingException {\r\n\t\t\t\tNumber n = p.getNumberValue();\r\n\t\t\t\treturn n.toString();\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tpublic static class Parameter {\r\n\r\n\t\t\t@JsonDeserialize(using = Number2StringDesrializer.class)\r\n\t\t\tprivate String prevValue;\r\n\r\n\t\t\tpublic void setPrevValue(String prevValue) {\r\n\t\t\t\tthis.prevValue = prevValue;\r\n\t\t\t}\r\n\r\n\r\n\t\t\tpublic String getPrevValue() {\r\n\t\t\t\treturn prevValue;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n","title":"Jackson: Deserialize BigDecimal as plain String using annotation","body":"<p>You can use Jackson custom deserializer APIs to get the desired result.\nSee the sample below:</p>\n\n<pre><code>public class Test {\n\n    public static void main(String[] args) throws Exception {\n        ObjectMapper om = new ObjectMapper();\n        Parameter p = om.readValue(\"{\\\"prevValue\\\": 101044012342343543}\", Parameter.class);\n        System.out.println(p.prevValue);\n    }\n\n    public static class Number2StringDesrializer extends JsonDeserializer&lt;String&gt; {\n\n        @Override\n        public String deserialize(JsonParser p, DeserializationContext ctxt) throws IOException, JsonProcessingException {\n            Number n = p.getNumberValue();\n            return n.toString();\n        }\n\n    }\n\n    public static class Parameter {\n\n        @JsonDeserialize(using = Number2StringDesrializer.class)\n        private String prevValue;\n\n        public void setPrevValue(String prevValue) {\n            this.prevValue = prevValue;\n        }\n\n\n        public String getPrevValue() {\n            return prevValue;\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1643118818,"creation_date":1643118818,"answer_id":70849832,"question_id":34199725,"body_markdown":"You can use the [`@JsonFormat`][1] annotation:\r\n\r\n```java\r\npublic class Parameter {\r\n\r\n    //More fields...\r\n\r\n    @JsonFormat(shape = JsonFormat.Shape.STRING)\r\n    private String prevValue;\r\n\r\n    //Getters and setters\r\n\r\n}\r\n```\r\n\r\n\r\n  [1]: http://fasterxml.github.io/jackson-annotations/javadoc/2.13/com/fasterxml/jackson/annotation/JsonFormat.html","title":"Jackson: Deserialize BigDecimal as plain String using annotation","body":"<p>You can use the <a href=\"http://fasterxml.github.io/jackson-annotations/javadoc/2.13/com/fasterxml/jackson/annotation/JsonFormat.html\" rel=\"nofollow noreferrer\"><code>@JsonFormat</code></a> annotation:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Parameter {\n\n    //More fields...\n\n    @JsonFormat(shape = JsonFormat.Shape.STRING)\n    private String prevValue;\n\n    //Getters and setters\n\n}\n</code></pre>\n"}],"owner":{"account_id":3629749,"reputation":24734,"user_id":3026283,"accept_rate":90,"display_name":"H&#233;ctor"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9387,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70849832,"answer_count":2,"score":1,"last_activity_date":1643118818,"creation_date":1449744036,"question_id":34199725,"body_markdown":"I have this REST response:\r\n\r\n    {\r\n        //more fields...\r\n        prevValue: 10104401\r\n    }\r\n\r\nAnd this POJO:\r\n\r\n    public class Parameter {\r\n    \r\n        //More fields...\r\n    \r\n        private String prevValue;\r\n    \r\n        //Getters and setters\r\n    \r\n    }\r\n\r\nI&#39;m using Spring `RestTemplate` with `MappingJackson2HttpMessageConverter`. With response above, `prevValue` is deserialized as a `String` like `1.0104401E7`, in scientific notation. \r\n\r\nI want it to be deserialized without scientific notation. Is there a way to do this using Jackson annotations?","title":"Jackson: Deserialize BigDecimal as plain String using annotation","body":"<p>I have this REST response:</p>\n\n<pre><code>{\n    //more fields...\n    prevValue: 10104401\n}\n</code></pre>\n\n<p>And this POJO:</p>\n\n<pre><code>public class Parameter {\n\n    //More fields...\n\n    private String prevValue;\n\n    //Getters and setters\n\n}\n</code></pre>\n\n<p>I'm using Spring <code>RestTemplate</code> with <code>MappingJackson2HttpMessageConverter</code>. With response above, <code>prevValue</code> is deserialized as a <code>String</code> like <code>1.0104401E7</code>, in scientific notation. </p>\n\n<p>I want it to be deserialized without scientific notation. Is there a way to do this using Jackson annotations?</p>\n"},{"tags":["java","spring-boot","apache-poi","zipinputstream","multipartfile"],"comments":[{"owner":{"account_id":964210,"reputation":1018,"user_id":987959,"display_name":"PJ Fanning"},"score":0,"creation_date":1643122351,"post_id":70849468,"comment_id":125252335,"body_markdown":"Have you tried POI 5.2.0 (latest release)? - `    public XSSFWorkbook(InputStream is) throws IOException { this(is, false); }` -- where false controls whether the input stream is closed or not","body":"Have you tried POI 5.2.0 (latest release)? - `    public XSSFWorkbook(InputStream is) throws IOException { this(is, false); }` -- where false controls whether the input stream is closed or not"}],"answers":[{"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643118081,"creation_date":1643118081,"answer_id":70849628,"question_id":70849468,"body_markdown":"When reading from a Zipfile, you have an InputStream for the archive. Then you traverse the different entries in there and for each of them you again have an InputStream to read from. Make sure you do not close the entries&#39; InputStreams as that event will close the archive stream.\r\n\r\nIn your case it may be that the constructor for XSSFWorkbook or the readWorkbook method is closing the stream.","title":"ZipInputStream is closes when reading first ZipEntry of Excel files","body":"<p>When reading from a Zipfile, you have an InputStream for the archive. Then you traverse the different entries in there and for each of them you again have an InputStream to read from. Make sure you do not close the entries' InputStreams as that event will close the archive stream.</p>\n<p>In your case it may be that the constructor for XSSFWorkbook or the readWorkbook method is closing the stream.</p>\n"},{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1643118806,"creation_date":1643118806,"answer_id":70849830,"question_id":70849468,"body_markdown":"only option is to wrap it so you can intercept `close()` and prevent it from closing the zip. Something like:\r\n\r\n```\r\nvar wrapper = new FilterInputStream(zis) {\r\n  @Override public void close() {}\r\n}\r\n```\r\n\r\nThen pass `wrapper` and not `zis` to `new XSSFWorkbook`.\r\n\r\nNB: WARNING - your code is severely hampered, essentially buggy. You need to ensure you close that ZipInputStream at the very end, and you&#39;re not doing that now. Your exception handling is really bad. You must end all exception blocks with a hard exit, just logging it isn&#39;t good enough. `throw new RuntimeException(&quot;uncaught&quot;, e);` is the fallback option (many IDEs ship with `e.printStackTrace()` as default. This is a known extremely stupid default, update your IDE to fix this. Use try-with-resources as well to ensure closing always happens (just calling `close()` isn&#39;t good enough; that `close()` call you do have in your snippet won&#39;t be invoked if exceptions occur.\r\n","title":"ZipInputStream is closes when reading first ZipEntry of Excel files","body":"<p>only option is to wrap it so you can intercept <code>close()</code> and prevent it from closing the zip. Something like:</p>\n<pre><code>var wrapper = new FilterInputStream(zis) {\n  @Override public void close() {}\n}\n</code></pre>\n<p>Then pass <code>wrapper</code> and not <code>zis</code> to <code>new XSSFWorkbook</code>.</p>\n<p>NB: WARNING - your code is severely hampered, essentially buggy. You need to ensure you close that ZipInputStream at the very end, and you're not doing that now. Your exception handling is really bad. You must end all exception blocks with a hard exit, just logging it isn't good enough. <code>throw new RuntimeException(&quot;uncaught&quot;, e);</code> is the fallback option (many IDEs ship with <code>e.printStackTrace()</code> as default. This is a known extremely stupid default, update your IDE to fix this. Use try-with-resources as well to ensure closing always happens (just calling <code>close()</code> isn't good enough; that <code>close()</code> call you do have in your snippet won't be invoked if exceptions occur.</p>\n"}],"owner":{"account_id":7618268,"reputation":27,"user_id":5776992,"display_name":"Balkrishna Kardam"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":362,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70849830,"answer_count":2,"score":0,"last_activity_date":1643118806,"creation_date":1643117411,"question_id":70849468,"body_markdown":"I&#39;m uploading zip of excel files as multipart file, but when I create Workbook object of first file, the stream gets closed and I&#39;m not able to read next files.\r\nits working with single file in zip but not with multiple files.\r\ncan anybody help? TIA.\r\n```\r\n       try {\r\n            ZipInputStream zis = new ZipInputStream(multipartFile.getInputStream());\r\n            ZipEntry zipEntry;\r\n            while((zipEntry = zis.getNextEntry()) != null) {\r\n                XSSFWorkbook workbook = new XSSFWorkbook(zis);\r\n                readWorkbook(workbook);\r\n            }\r\n            zis.close();\r\n        } catch (Exception e) {\r\n            LOG.error(e);\r\n        }\r\n```","title":"ZipInputStream is closes when reading first ZipEntry of Excel files","body":"<p>I'm uploading zip of excel files as multipart file, but when I create Workbook object of first file, the stream gets closed and I'm not able to read next files.\nits working with single file in zip but not with multiple files.\ncan anybody help? TIA.</p>\n<pre><code>       try {\n            ZipInputStream zis = new ZipInputStream(multipartFile.getInputStream());\n            ZipEntry zipEntry;\n            while((zipEntry = zis.getNextEntry()) != null) {\n                XSSFWorkbook workbook = new XSSFWorkbook(zis);\n                readWorkbook(workbook);\n            }\n            zis.close();\n        } catch (Exception e) {\n            LOG.error(e);\n        }\n</code></pre>\n"},{"tags":["java","regex"],"answers":[{"tags":[],"owner":{"account_id":3438751,"reputation":172981,"user_id":3297613,"accept_rate":74,"display_name":"Avinash Raj"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1414046951,"creation_date":1414046951,"answer_id":26522661,"question_id":26522613,"body_markdown":"You don&#39;t need a separate if condition. A single regex will do all for you.\r\n\r\n    String pattern = &quot;^(?=.*?\\\\d.*\\\\d)[a-zA-Z0-9]{8,}$&quot;;","title":"Using regex to check if a string has at least two numbers","body":"<p>You don't need a separate if condition. A single regex will do all for you.</p>\n\n<pre><code>String pattern = \"^(?=.*?\\\\d.*\\\\d)[a-zA-Z0-9]{8,}$\";\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4451090,"reputation":10972,"user_id":3622940,"accept_rate":100,"display_name":"Unihedron"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1414046956,"creation_date":1414046956,"answer_id":26522664,"question_id":26522613,"body_markdown":"Assert with a positive lookahead:\r\n\r\n&lt;pre&gt;&lt;code&gt;^&lt;b&gt;&lt;i&gt;(?=(?:\\D*\\d){2})&lt;/i&gt;&lt;/b&gt;[a-zA-Z0-9]*$&lt;/code&gt;&lt;/pre&gt;\r\n\r\nHere is a [regex demo](http://regex101.com/r/qM1sK5/1).","title":"Using regex to check if a string has at least two numbers","body":"<p>Assert with a positive lookahead:</p>\n\n<pre><code>^<b><i>(?=(?:\\D*\\d){2})</i></b>[a-zA-Z0-9]*$</code></pre>\n\n<p>Here is a <a href=\"http://regex101.com/r/qM1sK5/1\" rel=\"nofollow\">regex demo</a>.</p>\n"},{"tags":[],"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1414048624,"creation_date":1414047663,"answer_id":26522813,"question_id":26522613,"body_markdown":"You can do it in one line:\r\n\r\n    return s.matches(&quot;(?=(.*?\\\\d){2})[a-zA-Z0-9]{8,}&quot;);","title":"Using regex to check if a string has at least two numbers","body":"<p>You can do it in one line:</p>\n\n<pre><code>return s.matches(\"(?=(.*?\\\\d){2})[a-zA-Z0-9]{8,}\");\n</code></pre>\n"}],"owner":{"account_id":4801207,"reputation":497,"user_id":3877799,"accept_rate":95,"display_name":"Jack"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13834,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":26522661,"answer_count":3,"score":4,"last_activity_date":1643118799,"creation_date":1414046775,"question_id":26522613,"body_markdown":"After digging around on stack overflow, I found some code which checks if the string is alphanumeric and longer that 8 chars. It works great. Now how do I make it return true if it contains at least 2 numbers? I think I have to add `\\d{2}` somewhere.\r\n\r\n    String pattern = &quot;^[a-zA-Z0-9]*$&quot;;\r\n\t\t\r\n    if (s.matches(pattern) &amp;&amp; s.length() &gt;= 8){\r\n    \treturn true;\r\n    }\r\n    return false;","title":"Using regex to check if a string has at least two numbers","body":"<p>After digging around on stack overflow, I found some code which checks if the string is alphanumeric and longer that 8 chars. It works great. Now how do I make it return true if it contains at least 2 numbers? I think I have to add <code>\\d{2}</code> somewhere.</p>\n\n<pre><code>String pattern = \"^[a-zA-Z0-9]*$\";\n\nif (s.matches(pattern) &amp;&amp; s.length() &gt;= 8){\n    return true;\n}\nreturn false;\n</code></pre>\n"},{"tags":["java","azure","azure-functions","md5"],"answers":[{"tags":[],"owner":{"account_id":23844532,"reputation":31,"user_id":17849193,"display_name":"linspire"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1643118783,"creation_date":1643118783,"answer_id":70849823,"question_id":70847977,"body_markdown":"I found a solution to my problem: I&#39;m invoking the function from Azure Logic Apps. So converting to a String first, and then passing this string to the function app works fine:\r\n\r\n    byte[] b = File.ReadAllBytes(@&quot;filepath&quot;);\r\n    string s = Convert.ToBase64String(b);","title":"Azure function to calculate md5 checksum","body":"<p>I found a solution to my problem: I'm invoking the function from Azure Logic Apps. So converting to a String first, and then passing this string to the function app works fine:</p>\n<pre><code>byte[] b = File.ReadAllBytes(@&quot;filepath&quot;);\nstring s = Convert.ToBase64String(b);\n</code></pre>\n"}],"owner":{"account_id":23844532,"reputation":31,"user_id":17849193,"display_name":"linspire"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":517,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1643118783,"creation_date":1643110634,"question_id":70847977,"body_markdown":"I&#39;m trying to calculate the md5 checksum of a file that I submit through a POST request with a Java based Azure function. However, when I submit the file as a String as part of the request, it contains some header information that keeps changing (not sure why), and therefore the md5 checksum keeps changing with each request. \r\n\r\n    public class Function {\r\n    /**\r\n     * This function listens at endpoint &quot;/api/HttpExample&quot;. Two ways to invoke it using &quot;curl&quot; command in bash:\r\n     * 1. curl -d &quot;HTTP Body&quot; {your host}/api/HttpExample\r\n     * 2. curl &quot;{your host}/api/HttpExample?name=HTTP%20Query&quot;\r\n     * @throws IOException\r\n     */\r\n    @FunctionName(&quot;HttpExample&quot;)\r\n    public HttpResponseMessage run(\r\n            @HttpTrigger(\r\n                name = &quot;req&quot;,\r\n                methods = {HttpMethod.POST},\r\n                authLevel = AuthorizationLevel.ANONYMOUS)\r\n                HttpRequestMessage&lt;Optional&lt;String&gt;&gt; request, \r\n            final ExecutionContext context) throws IOException {\r\n        context.getLogger().info(&quot;Java HTTP trigger processed a request.&quot;);\r\n\r\n        // Parse query parameter\r\n        final String content = request.getBody().get();\r\n        context.getLogger().info(content);\r\n\r\n        byte[] md5Bytes = DigestUtils.md5(content);\r\n        String md5 = Base64.getEncoder().encodeToString(md5Bytes);\r\n        \r\n\r\n        if (md5 == null) {\r\n            return request.createResponseBuilder(HttpStatus.BAD_REQUEST).body(&quot;Please pass a name in the request body&quot;).build();\r\n        } else {\r\n            return request.createResponseBuilder(HttpStatus.OK).body(md5).build();\r\n        }\r\n    }\r\n}\r\n\r\nbelow is the output of the logging statement above for two different requests (for the same tmp.txt file): \r\n\r\n    [2022-01-25T11:25:50.663Z] ----------------------------657892529889811456400753\r\n    [2022-01-25T11:25:50.664Z] Content-Disposition: form-data; name=&quot;file&quot;; filename=&quot;tmp.txt&quot;\r\n    [2022-01-25T11:25:50.664Z] Content-Type: text/plain\r\n    [2022-01-25T11:25:50.665Z] \r\n    [2022-01-25T11:25:50.665Z] abd\r\n    [2022-01-25T11:25:50.666Z] ----------------------------657892529889811456400753--\r\n\r\nand\r\n\r\n    [2022-01-25T11:26:05.836Z] ----------------------------005234239999372220970885\r\n    [2022-01-25T11:26:05.837Z] Content-Disposition: form-data; name=&quot;file&quot;; filename=&quot;tmp.txt&quot;\r\n    [2022-01-25T11:26:05.838Z] Content-Type: text/plain\r\n    [2022-01-25T11:26:05.838Z] \r\n    [2022-01-25T11:26:05.838Z] abd\r\n    [2022-01-25T11:26:05.839Z] ----------------------------005234239999372220970885--\r\n\r\nsince the headers differ, the resulting md5 checksum also does not match. Is there a clever way to strip only the content?\r\n\r\nAny help would be much appreciated.","title":"Azure function to calculate md5 checksum","body":"<p>I'm trying to calculate the md5 checksum of a file that I submit through a POST request with a Java based Azure function. However, when I submit the file as a String as part of the request, it contains some header information that keeps changing (not sure why), and therefore the md5 checksum keeps changing with each request.</p>\n<pre><code>public class Function {\n/**\n * This function listens at endpoint &quot;/api/HttpExample&quot;. Two ways to invoke it using &quot;curl&quot; command in bash:\n * 1. curl -d &quot;HTTP Body&quot; {your host}/api/HttpExample\n * 2. curl &quot;{your host}/api/HttpExample?name=HTTP%20Query&quot;\n * @throws IOException\n */\n@FunctionName(&quot;HttpExample&quot;)\npublic HttpResponseMessage run(\n        @HttpTrigger(\n            name = &quot;req&quot;,\n            methods = {HttpMethod.POST},\n            authLevel = AuthorizationLevel.ANONYMOUS)\n            HttpRequestMessage&lt;Optional&lt;String&gt;&gt; request, \n        final ExecutionContext context) throws IOException {\n    context.getLogger().info(&quot;Java HTTP trigger processed a request.&quot;);\n\n    // Parse query parameter\n    final String content = request.getBody().get();\n    context.getLogger().info(content);\n\n    byte[] md5Bytes = DigestUtils.md5(content);\n    String md5 = Base64.getEncoder().encodeToString(md5Bytes);\n    \n\n    if (md5 == null) {\n        return request.createResponseBuilder(HttpStatus.BAD_REQUEST).body(&quot;Please pass a name in the request body&quot;).build();\n    } else {\n        return request.createResponseBuilder(HttpStatus.OK).body(md5).build();\n    }\n}\n</code></pre>\n<p>}</p>\n<p>below is the output of the logging statement above for two different requests (for the same tmp.txt file):</p>\n<pre><code>[2022-01-25T11:25:50.663Z] ----------------------------657892529889811456400753\n[2022-01-25T11:25:50.664Z] Content-Disposition: form-data; name=&quot;file&quot;; filename=&quot;tmp.txt&quot;\n[2022-01-25T11:25:50.664Z] Content-Type: text/plain\n[2022-01-25T11:25:50.665Z] \n[2022-01-25T11:25:50.665Z] abd\n[2022-01-25T11:25:50.666Z] ----------------------------657892529889811456400753--\n</code></pre>\n<p>and</p>\n<pre><code>[2022-01-25T11:26:05.836Z] ----------------------------005234239999372220970885\n[2022-01-25T11:26:05.837Z] Content-Disposition: form-data; name=&quot;file&quot;; filename=&quot;tmp.txt&quot;\n[2022-01-25T11:26:05.838Z] Content-Type: text/plain\n[2022-01-25T11:26:05.838Z] \n[2022-01-25T11:26:05.838Z] abd\n[2022-01-25T11:26:05.839Z] ----------------------------005234239999372220970885--\n</code></pre>\n<p>since the headers differ, the resulting md5 checksum also does not match. Is there a clever way to strip only the content?</p>\n<p>Any help would be much appreciated.</p>\n"},{"tags":["java","json","talend"],"comments":[{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1643119768,"post_id":70849778,"comment_id":125251065,"body_markdown":"Your question is asking for a software recommendation, and that is off-topic.  However, the Fedora licensing requirements only cover software that is proposed to be delivered as official Fedora packages.  There is no reason why you can&#39;t *use* software with &quot;bad licenses&quot; on Fedora.  Or indeed package the software as RPMs (etc) for use on Fedora platforms.","body":"Your question is asking for a software recommendation, and that is off-topic.  However, the Fedora licensing requirements only cover software that is proposed to be delivered as official Fedora packages.  There is no reason why you can&#39;t <i>use</i> software with &quot;bad licenses&quot; on Fedora.  Or indeed package the software as RPMs (etc) for use on Fedora platforms."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1643120026,"post_id":70849778,"comment_id":125251204,"body_markdown":"And to answer your question.  There is no technical reason why you couldn&#39;t modify talend software to use a different JSON library.  But you *would* need to *modify* the talend code to do this.  JSON libraries are not &quot;drop in&quot; interchangeable.","body":"And to answer your question.  There is no technical reason why you couldn&#39;t modify talend software to use a different JSON library.  But you <i>would</i> need to <i>modify</i> the talend code to do this.  JSON libraries are not &quot;drop in&quot; interchangeable."},{"owner":{"account_id":1720024,"reputation":2017,"user_id":1576196,"accept_rate":89,"display_name":"Balazs Gunics"},"score":0,"creation_date":1643130291,"post_id":70849778,"comment_id":125256041,"body_markdown":"There&#39;s a JIRA for this: https://jira.talendforge.org/browse/TDI-44440","body":"There&#39;s a JIRA for this: <a href=\"https://jira.talendforge.org/browse/TDI-44440\" rel=\"nofollow noreferrer\">jira.talendforge.org/browse/TDI-44440</a>"},{"owner":{"account_id":23691649,"reputation":13,"user_id":17715930,"display_name":"Aviv Litman"},"score":0,"creation_date":1643196502,"post_id":70849778,"comment_id":125273952,"body_markdown":"Hi all, thanks for the quick responses!\n\nStephen, unfortunately the JSON License has been rejected by our legal team, so we need to provide an alternative implementation.\nYes I will need to change the code, do you know any other library besides JSON that can fit the JSONObject  implementation in [class ResumeUtil] (https://github.com/Talend/tcommon-studio-se/blob/master/main/plugins/org.talend.librariesmanager/resources/java/routines/system/ResumeUtil.java#L358) ?\n\n\nBalazs, the JIRA created by a co-worker, but it does not look like they are going to fix it.","body":"Hi all, thanks for the quick responses!  Stephen, unfortunately the JSON License has been rejected by our legal team, so we need to provide an alternative implementation. Yes I will need to change the code, do you know any other library besides JSON that can fit the JSONObject  implementation in [class ResumeUtil] (<a href=\"https://github.com/Talend/tcommon-studio-se/blob/master/main/plugins/org.talend.librariesmanager/resources/java/routines/system/ResumeUtil.java#L358\" rel=\"nofollow noreferrer\">github.com/Talend/tcommon-studio-se/blob/master/main/plugin&zwnj;&#8203;s/&hellip;</a>) ?   Balazs, the JIRA created by a co-worker, but it does not look like they are going to fix it."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1643889873,"post_id":70849778,"comment_id":125461940,"body_markdown":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer.","body":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer."}],"owner":{"account_id":23691649,"reputation":13,"user_id":17715930,"display_name":"Aviv Litman"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":79,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1643118612,"creation_date":1643118612,"question_id":70849778,"body_markdown":"I&#39;m using Talend DI java code as part of oVirt DWH that runs on both Fedora and CentOS.\r\n\r\n[JSONObject.java](https://github.com/Talend/tcommon-studio-se/blob/master/main/plugins/org.talend.librariesmanager/resources/java/routines/system/JSONObject.java) has a software license which is not okay for Fedora.\r\n\r\nIs JSONObject.java can be replaced with an alternative implementation?\r\nPerhaps a different library such as jackson 2.9 library can be implemented instead?\r\n\r\nThe code calls the JSONObject in [class ResumeUtil](https://github.com/Talend/tcommon-studio-se/blob/master/main/plugins/org.talend.librariesmanager/resources/java/routines/system/ResumeUtil.java#L358).\r\n\r\n\r\nAny help or suggestion would be greatly appreciated!\r\n\r\n","title":"Alternative implementation for JSONObject.java","body":"<p>I'm using Talend DI java code as part of oVirt DWH that runs on both Fedora and CentOS.</p>\n<p><a href=\"https://github.com/Talend/tcommon-studio-se/blob/master/main/plugins/org.talend.librariesmanager/resources/java/routines/system/JSONObject.java\" rel=\"nofollow noreferrer\">JSONObject.java</a> has a software license which is not okay for Fedora.</p>\n<p>Is JSONObject.java can be replaced with an alternative implementation?\nPerhaps a different library such as jackson 2.9 library can be implemented instead?</p>\n<p>The code calls the JSONObject in <a href=\"https://github.com/Talend/tcommon-studio-se/blob/master/main/plugins/org.talend.librariesmanager/resources/java/routines/system/ResumeUtil.java#L358\" rel=\"nofollow noreferrer\">class ResumeUtil</a>.</p>\n<p>Any help or suggestion would be greatly appreciated!</p>\n"},{"tags":["java","log4j2","infinite-loop"],"comments":[{"owner":{"account_id":16657879,"reputation":2625,"user_id":12038714,"display_name":"J Asgarov"},"score":0,"creation_date":1643118328,"post_id":70849459,"comment_id":125250424,"body_markdown":"are you using Lombok&#39;s @Data on logged objects by any chance?","body":"are you using Lombok&#39;s @Data on logged objects by any chance?"},{"owner":{"account_id":1024260,"reputation":1090,"user_id":1033919,"accept_rate":59,"display_name":"Hasan Tuncay"},"score":0,"creation_date":1643118671,"post_id":70849459,"comment_id":125250573,"body_markdown":"No I don&#39;t. Looks like that some error happens during logging &quot;handleLogMessageException&quot; which causes log4j2 to log the error and that runs into a loop.","body":"No I don&#39;t. Looks like that some error happens during logging &quot;handleLogMessageException&quot; which causes log4j2 to log the error and that runs into a loop."},{"owner":{"account_id":16657879,"reputation":2625,"user_id":12038714,"display_name":"J Asgarov"},"score":0,"creation_date":1643119091,"post_id":70849459,"comment_id":125250771,"body_markdown":"can you show what is being logged?","body":"can you show what is being logged?"},{"owner":{"account_id":1024260,"reputation":1090,"user_id":1033919,"accept_rate":59,"display_name":"Hasan Tuncay"},"score":0,"creation_date":1643121597,"post_id":70849459,"comment_id":125251982,"body_markdown":"No, I don&#39;t know who starts logging. The Stacktrace only shows the org.apache.logging.* stuff. There is no business logic or custom code shown. But shouldn&#39;t log4j2 avoid running into something like this in all cases? Even if the call from the &quot;client&quot; is buggy.","body":"No, I don&#39;t know who starts logging. The Stacktrace only shows the org.apache.logging.* stuff. There is no business logic or custom code shown. But shouldn&#39;t log4j2 avoid running into something like this in all cases? Even if the call from the &quot;client&quot; is buggy."},{"owner":{"account_id":20338,"reputation":63801,"user_id":48503,"accept_rate":100,"display_name":"Luke Woodward"},"score":0,"creation_date":1643145421,"post_id":70849459,"comment_id":125261612,"body_markdown":"What appenders are you using?  Is it possible to add the log4j2.xml file in your question?","body":"What appenders are you using?  Is it possible to add the log4j2.xml file in your question?"},{"owner":{"account_id":1024260,"reputation":1090,"user_id":1033919,"accept_rate":59,"display_name":"Hasan Tuncay"},"score":0,"creation_date":1643294198,"post_id":70849459,"comment_id":125305438,"body_markdown":"After reverting my changes backward to the point where the problem disappears I found out that the problem is caused by: \n&lt;PatternLayout pattern=&quot;%d{ISO8601} [%5.5t] %5.5p %50.50c {%20.20M,%5.5L} - %m%n&quot;/&gt;. Here I added the fix column with to the log lines by adding 5.5 for example.","body":"After reverting my changes backward to the point where the problem disappears I found out that the problem is caused by:  &lt;PatternLayout pattern=&quot;%d{ISO8601} [%5.5t] %5.5p %50.50c {%20.20M,%5.5L} - %m%n&quot;/&gt;. Here I added the fix column with to the log lines by adding 5.5 for example."}],"owner":{"account_id":1024260,"reputation":1090,"user_id":1033919,"accept_rate":59,"display_name":"Hasan Tuncay"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":510,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1643118096,"creation_date":1643117379,"question_id":70849459,"body_markdown":"I have a strange &quot;infinite loop&quot; in log4j2. \r\nI found it in the tomcat catalina.out and have to idea where it comes from because there is no other packages involved the whole error stack trace.\r\nIs this a know bug or did I configure something wrong.\r\nThe version of log4j2 I&#39;m using is 2.17.1\r\n\r\n\r\n\r\n```\r\n2022-01-25 01:17:03,517 WARN org.apache.commons.logging.LogAdapter$Log4jLog caught java.lang.StackOverflowError logging SimpleMessage: Application exception overridden by rollback exception java.lang.StackOverflowError\r\n\tat org.apache.logging.log4j.util.StringBuilders.appendSpecificTypes(StringBuilders.java:79)\r\n\tat org.apache.logging.log4j.message.ParameterFormatter.appendSpecialTypes(ParameterFormatter.java:484)\r\n\tat org.apache.logging.log4j.message.ParameterFormatter.recursiveDeepToString(ParameterFormatter.java:473)\r\n\tat org.apache.logging.log4j.message.ParameterFormatter.recursiveDeepToString(ParameterFormatter.java:448)\r\n\tat org.apache.logging.log4j.message.ParameterFormatter.formatMessage2(ParameterFormatter.java:191)\r\n\tat org.apache.logging.log4j.message.ParameterizedMessage.formatTo(ParameterizedMessage.java:227)\r\n\tat org.apache.logging.log4j.message.ParameterizedMessage.getFormattedMessage(ParameterizedMessage.java:203)\r\n\tat org.apache.logging.log4j.message.ParameterizedNoReferenceMessageFactory.newMessage(ParameterizedNoReferenceMessageFactory.java:105)\r\n\tat org.apache.logging.log4j.message.AbstractMessageFactory.newMessage(AbstractMessageFactory.java:99)\r\n\tat org.apache.logging.log4j.spi.AbstractLogger.logMessage(AbstractLogger.java:2057)\r\n\tat org.apache.logging.log4j.spi.AbstractLogger.logIfEnabled(AbstractLogger.java:1931)\r\n\tat org.apache.logging.log4j.spi.AbstractLogger.warn(AbstractLogger.java:2805)\r\n\tat org.apache.logging.log4j.spi.AbstractLogger.handleLogMessageException(AbstractLogger.java:2225)\r\n\tat org.apache.logging.log4j.spi.AbstractLogger.tryLogMessage(AbstractLogger.java:2208)\r\n\tat org.apache.logging.log4j.spi.AbstractLogger.logMessageTrackRecursion(AbstractLogger.java:2159)\r\n\tat org.apache.logging.log4j.spi.AbstractLogger.logMessageSafely(AbstractLogger.java:2142)\r\n\tat org.apache.logging.log4j.spi.AbstractLogger.logMessage(AbstractLogger.java:2058)\r\n\tat org.apache.logging.log4j.spi.AbstractLogger.logIfEnabled(AbstractLogger.java:1931)\r\n\tat org.apache.logging.log4j.spi.AbstractLogger.warn(AbstractLogger.java:2805)\r\n\tat org.apache.logging.log4j.spi.AbstractLogger.handleLogMessageException(AbstractLogger.java:2225)\r\n\tat org.apache.logging.log4j.spi.AbstractLogger.tryLogMessage(AbstractLogger.java:2208)\r\n\tat org.apache.logging.log4j.spi.AbstractLogger.logMessageTrackRecursion(AbstractLogger.java:2159)\r\n\tat org.apache.logging.log4j.spi.AbstractLogger.logMessageSafely(AbstractLogger.java:2142)\r\n\tat org.apache.logging.log4j.spi.AbstractLogger.logMessage(AbstractLogger.java:2058)\r\n\tat org.apache.logging.log4j.spi.AbstractLogger.logIfEnabled(AbstractLogger.java:1931)\r\n\tat org.apache.logging.log4j.spi.AbstractLogger.warn(AbstractLogger.java:2805)\r\n\tat org.apache.logging.log4j.spi.AbstractLogger.handleLogMessageException(AbstractLogger.java:2225)\r\n\tat org.apache.logging.log4j.spi.AbstractLogger.tryLogMessage(AbstractLogger.java:2208)\r\n\tat org.apache.logging.log4j.spi.AbstractLogger.logMessageTrackRecursion(AbstractLogger.java:2159)\r\n\tat org.apache.logging.log4j.spi.AbstractLogger.logMessageSafely(AbstractLogger.java:2142)\r\n\tat org.apache.logging.log4j.spi.AbstractLogger.logMessage(AbstractLogger.java:2058)\r\n```","title":"StackOverflowError in log4j2","body":"<p>I have a strange &quot;infinite loop&quot; in log4j2.\nI found it in the tomcat catalina.out and have to idea where it comes from because there is no other packages involved the whole error stack trace.\nIs this a know bug or did I configure something wrong.\nThe version of log4j2 I'm using is 2.17.1</p>\n<pre><code>2022-01-25 01:17:03,517 WARN org.apache.commons.logging.LogAdapter$Log4jLog caught java.lang.StackOverflowError logging SimpleMessage: Application exception overridden by rollback exception java.lang.StackOverflowError\n    at org.apache.logging.log4j.util.StringBuilders.appendSpecificTypes(StringBuilders.java:79)\n    at org.apache.logging.log4j.message.ParameterFormatter.appendSpecialTypes(ParameterFormatter.java:484)\n    at org.apache.logging.log4j.message.ParameterFormatter.recursiveDeepToString(ParameterFormatter.java:473)\n    at org.apache.logging.log4j.message.ParameterFormatter.recursiveDeepToString(ParameterFormatter.java:448)\n    at org.apache.logging.log4j.message.ParameterFormatter.formatMessage2(ParameterFormatter.java:191)\n    at org.apache.logging.log4j.message.ParameterizedMessage.formatTo(ParameterizedMessage.java:227)\n    at org.apache.logging.log4j.message.ParameterizedMessage.getFormattedMessage(ParameterizedMessage.java:203)\n    at org.apache.logging.log4j.message.ParameterizedNoReferenceMessageFactory.newMessage(ParameterizedNoReferenceMessageFactory.java:105)\n    at org.apache.logging.log4j.message.AbstractMessageFactory.newMessage(AbstractMessageFactory.java:99)\n    at org.apache.logging.log4j.spi.AbstractLogger.logMessage(AbstractLogger.java:2057)\n    at org.apache.logging.log4j.spi.AbstractLogger.logIfEnabled(AbstractLogger.java:1931)\n    at org.apache.logging.log4j.spi.AbstractLogger.warn(AbstractLogger.java:2805)\n    at org.apache.logging.log4j.spi.AbstractLogger.handleLogMessageException(AbstractLogger.java:2225)\n    at org.apache.logging.log4j.spi.AbstractLogger.tryLogMessage(AbstractLogger.java:2208)\n    at org.apache.logging.log4j.spi.AbstractLogger.logMessageTrackRecursion(AbstractLogger.java:2159)\n    at org.apache.logging.log4j.spi.AbstractLogger.logMessageSafely(AbstractLogger.java:2142)\n    at org.apache.logging.log4j.spi.AbstractLogger.logMessage(AbstractLogger.java:2058)\n    at org.apache.logging.log4j.spi.AbstractLogger.logIfEnabled(AbstractLogger.java:1931)\n    at org.apache.logging.log4j.spi.AbstractLogger.warn(AbstractLogger.java:2805)\n    at org.apache.logging.log4j.spi.AbstractLogger.handleLogMessageException(AbstractLogger.java:2225)\n    at org.apache.logging.log4j.spi.AbstractLogger.tryLogMessage(AbstractLogger.java:2208)\n    at org.apache.logging.log4j.spi.AbstractLogger.logMessageTrackRecursion(AbstractLogger.java:2159)\n    at org.apache.logging.log4j.spi.AbstractLogger.logMessageSafely(AbstractLogger.java:2142)\n    at org.apache.logging.log4j.spi.AbstractLogger.logMessage(AbstractLogger.java:2058)\n    at org.apache.logging.log4j.spi.AbstractLogger.logIfEnabled(AbstractLogger.java:1931)\n    at org.apache.logging.log4j.spi.AbstractLogger.warn(AbstractLogger.java:2805)\n    at org.apache.logging.log4j.spi.AbstractLogger.handleLogMessageException(AbstractLogger.java:2225)\n    at org.apache.logging.log4j.spi.AbstractLogger.tryLogMessage(AbstractLogger.java:2208)\n    at org.apache.logging.log4j.spi.AbstractLogger.logMessageTrackRecursion(AbstractLogger.java:2159)\n    at org.apache.logging.log4j.spi.AbstractLogger.logMessageSafely(AbstractLogger.java:2142)\n    at org.apache.logging.log4j.spi.AbstractLogger.logMessage(AbstractLogger.java:2058)\n</code></pre>\n"},{"tags":["java","android","http","newrelic"],"answers":[{"tags":[],"owner":{"account_id":16780586,"reputation":1,"user_id":12130888,"display_name":"gil"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643118082,"creation_date":1641501794,"answer_id":70613410,"question_id":69539148,"body_markdown":"you can populate the data in the Mobile &gt; Network &gt; HTTPRequest/HTTPErrors from the [Notice HTTP Transaction][1] and [Notice Network Failure][2] using these Agent SDK methods metrics gathered here will appear in the UI indicted above. \r\n\r\n  [1]: https://docs.newrelic.com/docs/mobile-monitoring/new-relic-mobile-android/android-sdk-api/notice-http-transaction/\r\n  [2]: https://docs.newrelic.com/docs/mobile-monitoring/new-relic-mobile-android/android-sdk-api/notice-network-failure/","title":"How to send http requests and errors to New Relic Network section","body":"<p>you can populate the data in the Mobile &gt; Network &gt; HTTPRequest/HTTPErrors from the <a href=\"https://docs.newrelic.com/docs/mobile-monitoring/new-relic-mobile-android/android-sdk-api/notice-http-transaction/\" rel=\"nofollow noreferrer\">Notice HTTP Transaction</a> and <a href=\"https://docs.newrelic.com/docs/mobile-monitoring/new-relic-mobile-android/android-sdk-api/notice-network-failure/\" rel=\"nofollow noreferrer\">Notice Network Failure</a> using these Agent SDK methods metrics gathered here will appear in the UI indicted above.</p>\n"}],"owner":{"account_id":9060578,"reputation":185,"user_id":6747225,"accept_rate":50,"display_name":"alezniki"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":203,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1643118082,"creation_date":1634035378,"question_id":69539148,"body_markdown":"I need to send some URLs to Network section on New Relic.\r\n\r\nFor success case it has to be shown at HTTP requests section, and for failed case it has to be shown at HTTP errors section.\r\n\r\nAny idea what how I can send some URL to those 2 sections, is there any method for these 2 sections? \r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Wb2L7.png","title":"How to send http requests and errors to New Relic Network section","body":"<p>I need to send some URLs to Network section on New Relic.</p>\n<p>For success case it has to be shown at HTTP requests section, and for failed case it has to be shown at HTTP errors section.</p>\n<p>Any idea what how I can send some URL to those 2 sections, is there any method for these 2 sections?</p>\n<p><a href=\"https://i.stack.imgur.com/Wb2L7.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Wb2L7.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","android","json","okhttp"],"comments":[{"owner":{"account_id":9504657,"reputation":7440,"user_id":7064617,"display_name":"JCompetence"},"score":0,"creation_date":1643115592,"post_id":70848776,"comment_id":125249329,"body_markdown":"Can you not map it to a List&lt;YourObject&gt; ? Because it is a list of the same class..","body":"Can you not map it to a List&lt;YourObject&gt; ? Because it is a list of the same class.."},{"owner":{"account_id":22324144,"reputation":3,"user_id":16546376,"display_name":"JayProXter"},"score":0,"creation_date":1643116073,"post_id":70848776,"comment_id":125249494,"body_markdown":"Idk how to format it, so i can put it into a list","body":"Idk how to format it, so i can put it into a list"},{"owner":{"account_id":9504657,"reputation":7440,"user_id":7064617,"display_name":"JCompetence"},"score":0,"creation_date":1643116176,"post_id":70848776,"comment_id":125249536,"body_markdown":"See if this helps you https://stackoverflow.com/questions/28221555/how-does-okhttp-get-json-string","body":"See if this helps you <a href=\"https://stackoverflow.com/questions/28221555/how-does-okhttp-get-json-string\" title=\"how does okhttp get json string\">stackoverflow.com/questions/28221555/&hellip;</a>"},{"owner":{"account_id":22324144,"reputation":3,"user_id":16546376,"display_name":"JayProXter"},"score":0,"creation_date":1643116445,"post_id":70848776,"comment_id":125249639,"body_markdown":"Gimme a second :)","body":"Gimme a second :)"},{"owner":{"account_id":9504657,"reputation":7440,"user_id":7064617,"display_name":"JCompetence"},"score":0,"creation_date":1643116511,"post_id":70848776,"comment_id":125249663,"body_markdown":"No worries, best of luck!","body":"No worries, best of luck!"},{"owner":{"account_id":22324144,"reputation":3,"user_id":16546376,"display_name":"JayProXter"},"score":0,"creation_date":1643117084,"post_id":70848776,"comment_id":125249908,"body_markdown":"Update now i&#39;ve got {\n     &quot;value&quot;:&quot;data&quot;,\n     &quot;id&quot;:5\n  } \nto parse it into my object just split those strings and create a new object?","body":"Update now i&#39;ve got {      &quot;value&quot;:&quot;data&quot;,      &quot;id&quot;:5   }  to parse it into my object just split those strings and create a new object?"},{"owner":{"account_id":22324144,"reputation":3,"user_id":16546376,"display_name":"JayProXter"},"score":0,"creation_date":1643124669,"post_id":70848776,"comment_id":125253428,"body_markdown":"Worked! Thank you","body":"Worked! Thank you"},{"owner":{"account_id":9504657,"reputation":7440,"user_id":7064617,"display_name":"JCompetence"},"score":0,"creation_date":1643124863,"post_id":70848776,"comment_id":125253513,"body_markdown":"Glad to have helped!","body":"Glad to have helped!"}],"answers":[{"tags":[],"owner":{"account_id":9504657,"reputation":7440,"user_id":7064617,"display_name":"JCompetence"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643117872,"creation_date":1643117872,"answer_id":70849576,"question_id":70848776,"body_markdown":"I believe you can use GSON in Android, so kindly see the code below:\r\n\r\n\r\n    static class SimpleExample{\r\n\r\n        private String value;\r\n        private Integer id;\r\n\r\n    }\r\n    public static void main(String[] args){\r\n\r\n\r\n        String json = &quot;[{\\n&quot;\r\n                + &quot;     \\&quot;value\\&quot;:\\&quot;data\\&quot;,\\n&quot;\r\n                + &quot;     \\&quot;id\\&quot;:5\\n&quot;\r\n                + &quot;  },\\n&quot;\r\n                + &quot;  {\\n&quot;\r\n                + &quot;     \\&quot;value\\&quot;:\\&quot;data\\&quot;,\\n&quot;\r\n                + &quot;     \\&quot;id\\&quot;:6\\n&quot;\r\n                + &quot;  },\\n&quot;\r\n                + &quot;  {\\n&quot;\r\n                + &quot;     \\&quot;value\\&quot;:\\&quot;data\\&quot;,\\n&quot;\r\n                + &quot;     \\&quot;id\\&quot;:7\\n&quot;\r\n                + &quot;  },\\n&quot;\r\n                + &quot;  {\\n&quot;\r\n                + &quot;     \\&quot;value\\&quot;:\\&quot;data\\&quot;,\\n&quot;\r\n                + &quot;     \\&quot;id\\&quot;:8\\n&quot;\r\n                + &quot;  },\\n&quot;\r\n                + &quot;  {\\n&quot;\r\n                + &quot;     \\&quot;value\\&quot;:\\&quot;data\\&quot;,\\n&quot;\r\n                + &quot;     \\&quot;id\\&quot;:9\\n&quot;\r\n                + &quot;  },\\n&quot;\r\n                + &quot;  {\\n&quot;\r\n                + &quot;     \\&quot;value\\&quot;:\\&quot;value\\&quot;,\\n&quot;\r\n                + &quot;     \\&quot;id\\&quot;:10\\n&quot;\r\n                + &quot;  }\\n&quot;\r\n                + &quot;]&quot;;\r\n\r\n        final GsonBuilder gsonBuilder = new GsonBuilder();\r\n        final Gson gson = gsonBuilder.create();\r\n\r\n        SimpleExample[] allObjects = gson.fromJson(json, SimpleExample[].class);\r\n\r\n        System.out.println(allObjects.length);\r\n    }\r\n\r\n\r\n----------\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\r\n        &lt;artifactId&gt;gson&lt;/artifactId&gt;\r\n        &lt;version&gt;2.8.9&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    \r\n\r\n\r\n----------\r\n\r\n","title":"Multiple JSONs in one Request --&gt; Each of them to an Object","body":"<p>I believe you can use GSON in Android, so kindly see the code below:</p>\n<pre><code>static class SimpleExample{\n\n    private String value;\n    private Integer id;\n\n}\npublic static void main(String[] args){\n\n\n    String json = &quot;[{\\n&quot;\n            + &quot;     \\&quot;value\\&quot;:\\&quot;data\\&quot;,\\n&quot;\n            + &quot;     \\&quot;id\\&quot;:5\\n&quot;\n            + &quot;  },\\n&quot;\n            + &quot;  {\\n&quot;\n            + &quot;     \\&quot;value\\&quot;:\\&quot;data\\&quot;,\\n&quot;\n            + &quot;     \\&quot;id\\&quot;:6\\n&quot;\n            + &quot;  },\\n&quot;\n            + &quot;  {\\n&quot;\n            + &quot;     \\&quot;value\\&quot;:\\&quot;data\\&quot;,\\n&quot;\n            + &quot;     \\&quot;id\\&quot;:7\\n&quot;\n            + &quot;  },\\n&quot;\n            + &quot;  {\\n&quot;\n            + &quot;     \\&quot;value\\&quot;:\\&quot;data\\&quot;,\\n&quot;\n            + &quot;     \\&quot;id\\&quot;:8\\n&quot;\n            + &quot;  },\\n&quot;\n            + &quot;  {\\n&quot;\n            + &quot;     \\&quot;value\\&quot;:\\&quot;data\\&quot;,\\n&quot;\n            + &quot;     \\&quot;id\\&quot;:9\\n&quot;\n            + &quot;  },\\n&quot;\n            + &quot;  {\\n&quot;\n            + &quot;     \\&quot;value\\&quot;:\\&quot;value\\&quot;,\\n&quot;\n            + &quot;     \\&quot;id\\&quot;:10\\n&quot;\n            + &quot;  }\\n&quot;\n            + &quot;]&quot;;\n\n    final GsonBuilder gsonBuilder = new GsonBuilder();\n    final Gson gson = gsonBuilder.create();\n\n    SimpleExample[] allObjects = gson.fromJson(json, SimpleExample[].class);\n\n    System.out.println(allObjects.length);\n}\n</code></pre>\n<hr />\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\n    &lt;artifactId&gt;gson&lt;/artifactId&gt;\n    &lt;version&gt;2.8.9&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<hr />\n"}],"owner":{"account_id":22324144,"reputation":3,"user_id":16546376,"display_name":"JayProXter"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":110,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1643117872,"creation_date":1643114260,"question_id":70848776,"body_markdown":"I am requesting via OKHttpClient data from my api, and im trying with an getAll() to split up the JSON response into my objects i need. \r\nHere is an example for my response i get:\r\n\r\n ```\r\n[\r\n   {\r\n      &quot;value&quot;:&quot;data&quot;,\r\n      &quot;id&quot;:5\r\n   },\r\n   {\r\n      &quot;value&quot;:&quot;data&quot;,\r\n      &quot;id&quot;:6\r\n   },\r\n   {\r\n      &quot;value&quot;:&quot;data&quot;,\r\n      &quot;id&quot;:7\r\n   },\r\n   {\r\n      &quot;value&quot;:&quot;data&quot;,\r\n      &quot;id&quot;:8\r\n   },\r\n   {\r\n      &quot;value&quot;:&quot;data&quot;,\r\n      &quot;id&quot;:9\r\n   },\r\n   {\r\n      &quot;value&quot;:&quot;value&quot;,\r\n      &quot;id&quot;:10\r\n   }\r\n]\r\n```\r\n","title":"Multiple JSONs in one Request --&gt; Each of them to an Object","body":"<p>I am requesting via OKHttpClient data from my api, and im trying with an getAll() to split up the JSON response into my objects i need.\nHere is an example for my response i get:</p>\n<pre><code>[\n  {\n     &quot;value&quot;:&quot;data&quot;,\n     &quot;id&quot;:5\n  },\n  {\n     &quot;value&quot;:&quot;data&quot;,\n     &quot;id&quot;:6\n  },\n  {\n     &quot;value&quot;:&quot;data&quot;,\n     &quot;id&quot;:7\n  },\n  {\n     &quot;value&quot;:&quot;data&quot;,\n     &quot;id&quot;:8\n  },\n  {\n     &quot;value&quot;:&quot;data&quot;,\n     &quot;id&quot;:9\n  },\n  {\n     &quot;value&quot;:&quot;value&quot;,\n     &quot;id&quot;:10\n  }\n]\n</code></pre>\n"},{"tags":["java","spring","amazon-web-services","amazon-sqs","sqslistener"],"comments":[{"owner":{"account_id":1779196,"reputation":131,"user_id":1622355,"accept_rate":12,"display_name":"Hallam"},"score":0,"creation_date":1643117396,"post_id":70044038,"comment_id":125250034,"body_markdown":"I am receiving the same issue running localstack since moving to io.awspring.cloud:2.3.3 - did you manage to resolve the issue at all? ---\nWARN  [main] [AbstractMessageListenerContainer] [queueAttributes] SimpleMessageListenerContainer: Ignoring queue with name &#39;surnameMatch&#39;: The queue does not exist.; nested exception is com.amazonaws.services.sqs.model.QueueDoesNotExistException: AWS.SimpleQueueService.NonExistentQueue; see the SQS docs. (Service: AmazonSQS; Status Code: 400; Error Code: AWS.SimpleQueueService.NonExistentQueue; Request ID: 00000000-0000-0000-0000-000000000000; Proxy: null)","body":"I am receiving the same issue running localstack since moving to io.awspring.cloud:2.3.3 - did you manage to resolve the issue at all? --- WARN  [main] [AbstractMessageListenerContainer] [queueAttributes] SimpleMessageListenerContainer: Ignoring queue with name &#39;surnameMatch&#39;: The queue does not exist.; nested exception is com.amazonaws.services.sqs.model.QueueDoesNotExistException: AWS.SimpleQueueService.NonExistentQueue; see the SQS docs. (Service: AmazonSQS; Status Code: 400; Error Code: AWS.SimpleQueueService.NonExistentQueue; Request ID: 00000000-0000-0000-0000-000000000000; Proxy: null)"},{"owner":{"account_id":6821484,"reputation":1389,"user_id":5248498,"display_name":"Ahmed Tawfik"},"score":0,"creation_date":1645010303,"post_id":70044038,"comment_id":125755091,"body_markdown":"Hi, anyone find an answer to this at all?","body":"Hi, anyone find an answer to this at all?"}],"owner":{"account_id":17979805,"reputation":21,"user_id":13066447,"display_name":"Glenn KIM"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":832,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1643117351,"creation_date":1637393394,"question_id":70044038,"body_markdown":"My SQS Listener cannot find queue with name and url.  \r\nBut AmazonSqsAsync Client can find list of queues and queue url.  \r\nI can&#39;t understand why only @SqsListener cannot find queue.  \r\nCould you give me some knowledge what I missed?\r\n\r\n---\r\nHere&#39;s my code, application-local.yml and Error message.\r\nI&#39;m running sqs with localstack\r\n\r\n1. Error message\r\n```sh\r\nSimpleMessageListenerContainer : Ignoring queue with name &#39;test-availability-queue&#39;: The queue does not exist.; nested exception is com.amazonaws.services.sqs.model.QueueDoesNotExistException: AWS.SimpleQueueService.NonExistentQueue; see the SQS docs. (Service: AmazonSQS; Status Code: 400; Error Code: AWS.SimpleQueueService.NonExistentQueue; Request ID: 00000000-0000-0000-0000-000000000000; Proxy: null)\r\n```\r\n2. application-local.yml\r\n```yaml\r\ncloud:\r\n  aws:\r\n    region:\r\n      auto: false\r\n      static: ap-northeast-2\r\n    credentials:\r\n      access-key: aws_access_key_id\r\n      secret-key: aws_secret_access_key\r\n    sqs:\r\n      endpoint: http://localhost:4566\r\n\r\navailability:\r\n  queue:\r\n    name: test-availability-queue\r\n```\r\n3. SqsListener\r\nI used value with queue-name and queue-url but both didn&#39;t work.\r\n```java\r\n@Component\r\npublic class AvailabilitySqsListener {\r\n\r\n    @SqsListener(value = &quot;${availability.queue.name}&quot;, deletionPolicy = SqsMessageDeletionPolicy.NO_REDRIVE)\r\n    public void onMessage(@Payload AvailabilityMessage message) {\r\n        doSomething();\r\n    }\r\n}\r\n```\r\n4. Sqs Configuration\r\n```java\r\n@Configuration\r\npublic class SqsConfiguration {\r\n    private static final String AWS_ENDPOINT = &quot;${cloud.aws.sqs.endpoint}&quot;;\r\n    private static final String AWS_REGION = &quot;${cloud.aws.region.static}&quot;;\r\n\r\n    @Bean\r\n    public AwsClientBuilder.EndpointConfiguration endpointConfiguration(\r\n            @Value(AWS_ENDPOINT) String endpoint,\r\n            @Value(AWS_REGION) String region) {\r\n        return new AwsClientBuilder.EndpointConfiguration(endpoint, region);\r\n    }\r\n    @Bean\r\n    @Primary\r\n    public AmazonSQSAsync amazonSQSAsync(final AwsClientBuilder.EndpointConfiguration endpointConfiguration) {\r\n        String endpoint = endpointConfiguration.getServiceEndpoint();\r\n\r\n        if (endpoint == null || endpoint.isEmpty()) {\r\n            return AmazonSQSAsyncClientBuilder.standard()\r\n                    .withRegion(endpointConfiguration.getSigningRegion())\r\n                    .withCredentials(new DefaultAWSCredentialsProviderChain())\r\n                    .build();\r\n        }\r\n        return AmazonSQSAsyncClientBuilder.standard()\r\n                .withEndpointConfiguration(endpointConfiguration)\r\n                .withCredentials(new DefaultAWSCredentialsProviderChain())\r\n                .build();\r\n    }\r\n\r\n    @Bean\r\n    public QueueMessagingTemplate queueMessagingTemplate(\r\n            AmazonSQSAsync amazonSQSAsync,\r\n            MessageConverter messageConverter,\r\n            ResourceIdResolver resourceIdResolver) {\r\n        return new QueueMessagingTemplate(amazonSQSAsync, resourceIdResolver, messageConverter);\r\n    }\r\n\r\n    @Bean\r\n    public MessageConverter messageConverter(ObjectMapper objectMapper) {\r\n        MappingJackson2MessageConverter converter = new MappingJackson2MessageConverter();\r\n        converter.setObjectMapper(objectMapper);\r\n        converter.setSerializedPayloadClass(String.class);\r\n        return converter;\r\n    }\r\n}\r\n```\r\n5. Success case with AmazonSqsAsync client\r\n```java\r\n// When I called this API\r\n    @GetMapping(&quot;/test&quot;)\r\n    public void test() {\r\n        System.out.println(amazonSQSAsync.listQueues());\r\n        System.out.println(amazonSQSAsync.getQueueUrl(&quot;test-availability-queue&quot;));\r\n    }\r\n```\r\n```sh\r\n# response\r\n{QueueUrls: [http://localhost:4566/queue/test-availability-queue],}\r\n{QueueUrl: http://localhost:4566/queue/test-availability-queue}\r\n```\r\n---\r\nFYI, full of my console logs\r\n```sh\r\n2021-11-20 16:26:18.297  INFO 34014 --- [  restartedMain] c.d.s.v.m.LogVendorMonitorApplication    : The following profiles are active: local\r\n2021-11-20 16:26:18.342  INFO 34014 --- [  restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set &#39;spring.devtools.add-properties&#39; to &#39;false&#39; to disable\r\n2021-11-20 16:26:18.343  INFO 34014 --- [  restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the &#39;logging.level.web&#39; property to &#39;DEBUG&#39;\r\n2021-11-20 16:26:19.206  INFO 34014 --- [  restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!\r\n2021-11-20 16:26:19.208  INFO 34014 --- [  restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.\r\n2021-11-20 16:26:19.260  INFO 34014 --- [  restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 43 ms. Found 1 Redis repository interfaces.\r\n2021-11-20 16:26:19.400  INFO 34014 --- [  restartedMain] o.s.cloud.context.scope.GenericScope     : BeanFactory id=d7c2eb3d-42ea-35c3-8d4c-ab542b183924\r\n2021-11-20 16:26:19.447  INFO 34014 --- [  restartedMain] trationDelegate$BeanPostProcessorChecker : Bean &#39;credentialsProvider&#39; of type [com.amazonaws.auth.AWSCredentialsProviderChain] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)\r\n2021-11-20 16:26:19.836  INFO 34014 --- [  restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)\r\n2021-11-20 16:26:19.843  INFO 34014 --- [  restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\r\n2021-11-20 16:26:19.843  INFO 34014 --- [  restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.52]\r\n2021-11-20 16:26:19.908  INFO 34014 --- [  restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\r\n2021-11-20 16:26:19.908  INFO 34014 --- [  restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1565 ms\r\n2021-11-20 16:26:20.326  INFO 34014 --- [  restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729\r\nWARNING: An illegal reflective access operation has occurred\r\nWARNING: Illegal reflective access by com.amazonaws.util.XpathUtils (file:/Users/a202107057/.m2/repository/com/amazonaws/aws-java-sdk-core/1.11.951/aws-java-sdk-core-1.11.951.jar) to method com.sun.org.apache.xpath.internal.XPathContext.getDTMManager()\r\nWARNING: Please consider reporting this to the maintainers of com.amazonaws.util.XpathUtils\r\nWARNING: Use --illegal-access=warn to enable warnings of further illegal reflective access operations\r\nWARNING: All illegal access operations will be denied in a future release\r\n2021-11-20 16:26:21.436  WARN 34014 --- [  restartedMain] i.a.c.m.l.SimpleMessageListenerContainer : Ignoring queue with name &#39;test-availability-queue&#39;: The queue does not exist.; nested exception is com.amazonaws.services.sqs.model.QueueDoesNotExistException: AWS.SimpleQueueService.NonExistentQueue; see the SQS docs. (Service: AmazonSQS; Status Code: 400; Error Code: AWS.SimpleQueueService.NonExistentQueue; Request ID: 00000000-0000-0000-0000-000000000000; Proxy: null)\r\n2021-11-20 16:26:21.588  INFO 34014 --- [  restartedMain] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path &#39;&#39;\r\n2021-11-20 16:26:21.655  INFO 34014 --- [  restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path &#39;&#39;\r\n2021-11-20 16:26:21.672  INFO 34014 --- [  restartedMain] c.d.s.v.m.LogVendorMonitorApplication    : Started LogVendorMonitorApplication in 3.724 seconds (JVM running for 4.378)\r\n2021-11-20 16:26:24.822  INFO 34014 --- [nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet &#39;dispatcherServlet&#39;\r\n2021-11-20 16:26:24.823  INFO 34014 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet &#39;dispatcherServlet&#39;\r\n2021-11-20 16:26:24.824  INFO 34014 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms\r\n```","title":"@SqsListener doesn&#39;t work but AmazonSqs client work","body":"<p>My SQS Listener cannot find queue with name and url.<br />\nBut AmazonSqsAsync Client can find list of queues and queue url.<br />\nI can't understand why only @SqsListener cannot find queue.<br />\nCould you give me some knowledge what I missed?</p>\n<hr />\n<p>Here's my code, application-local.yml and Error message.\nI'm running sqs with localstack</p>\n<ol>\n<li>Error message</li>\n</ol>\n<pre class=\"lang-sh prettyprint-override\"><code>SimpleMessageListenerContainer : Ignoring queue with name 'test-availability-queue': The queue does not exist.; nested exception is com.amazonaws.services.sqs.model.QueueDoesNotExistException: AWS.SimpleQueueService.NonExistentQueue; see the SQS docs. (Service: AmazonSQS; Status Code: 400; Error Code: AWS.SimpleQueueService.NonExistentQueue; Request ID: 00000000-0000-0000-0000-000000000000; Proxy: null)\n</code></pre>\n<ol start=\"2\">\n<li>application-local.yml</li>\n</ol>\n<pre class=\"lang-yaml prettyprint-override\"><code>cloud:\n  aws:\n    region:\n      auto: false\n      static: ap-northeast-2\n    credentials:\n      access-key: aws_access_key_id\n      secret-key: aws_secret_access_key\n    sqs:\n      endpoint: http://localhost:4566\n\navailability:\n  queue:\n    name: test-availability-queue\n</code></pre>\n<ol start=\"3\">\n<li>SqsListener\nI used value with queue-name and queue-url but both didn't work.</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>@Component\npublic class AvailabilitySqsListener {\n\n    @SqsListener(value = &quot;${availability.queue.name}&quot;, deletionPolicy = SqsMessageDeletionPolicy.NO_REDRIVE)\n    public void onMessage(@Payload AvailabilityMessage message) {\n        doSomething();\n    }\n}\n</code></pre>\n<ol start=\"4\">\n<li>Sqs Configuration</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\npublic class SqsConfiguration {\n    private static final String AWS_ENDPOINT = &quot;${cloud.aws.sqs.endpoint}&quot;;\n    private static final String AWS_REGION = &quot;${cloud.aws.region.static}&quot;;\n\n    @Bean\n    public AwsClientBuilder.EndpointConfiguration endpointConfiguration(\n            @Value(AWS_ENDPOINT) String endpoint,\n            @Value(AWS_REGION) String region) {\n        return new AwsClientBuilder.EndpointConfiguration(endpoint, region);\n    }\n    @Bean\n    @Primary\n    public AmazonSQSAsync amazonSQSAsync(final AwsClientBuilder.EndpointConfiguration endpointConfiguration) {\n        String endpoint = endpointConfiguration.getServiceEndpoint();\n\n        if (endpoint == null || endpoint.isEmpty()) {\n            return AmazonSQSAsyncClientBuilder.standard()\n                    .withRegion(endpointConfiguration.getSigningRegion())\n                    .withCredentials(new DefaultAWSCredentialsProviderChain())\n                    .build();\n        }\n        return AmazonSQSAsyncClientBuilder.standard()\n                .withEndpointConfiguration(endpointConfiguration)\n                .withCredentials(new DefaultAWSCredentialsProviderChain())\n                .build();\n    }\n\n    @Bean\n    public QueueMessagingTemplate queueMessagingTemplate(\n            AmazonSQSAsync amazonSQSAsync,\n            MessageConverter messageConverter,\n            ResourceIdResolver resourceIdResolver) {\n        return new QueueMessagingTemplate(amazonSQSAsync, resourceIdResolver, messageConverter);\n    }\n\n    @Bean\n    public MessageConverter messageConverter(ObjectMapper objectMapper) {\n        MappingJackson2MessageConverter converter = new MappingJackson2MessageConverter();\n        converter.setObjectMapper(objectMapper);\n        converter.setSerializedPayloadClass(String.class);\n        return converter;\n    }\n}\n</code></pre>\n<ol start=\"5\">\n<li>Success case with AmazonSqsAsync client</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>// When I called this API\n    @GetMapping(&quot;/test&quot;)\n    public void test() {\n        System.out.println(amazonSQSAsync.listQueues());\n        System.out.println(amazonSQSAsync.getQueueUrl(&quot;test-availability-queue&quot;));\n    }\n</code></pre>\n<pre class=\"lang-sh prettyprint-override\"><code># response\n{QueueUrls: [http://localhost:4566/queue/test-availability-queue],}\n{QueueUrl: http://localhost:4566/queue/test-availability-queue}\n</code></pre>\n<hr />\n<p>FYI, full of my console logs</p>\n<pre class=\"lang-sh prettyprint-override\"><code>2021-11-20 16:26:18.297  INFO 34014 --- [  restartedMain] c.d.s.v.m.LogVendorMonitorApplication    : The following profiles are active: local\n2021-11-20 16:26:18.342  INFO 34014 --- [  restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable\n2021-11-20 16:26:18.343  INFO 34014 --- [  restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'\n2021-11-20 16:26:19.206  INFO 34014 --- [  restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!\n2021-11-20 16:26:19.208  INFO 34014 --- [  restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.\n2021-11-20 16:26:19.260  INFO 34014 --- [  restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 43 ms. Found 1 Redis repository interfaces.\n2021-11-20 16:26:19.400  INFO 34014 --- [  restartedMain] o.s.cloud.context.scope.GenericScope     : BeanFactory id=d7c2eb3d-42ea-35c3-8d4c-ab542b183924\n2021-11-20 16:26:19.447  INFO 34014 --- [  restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'credentialsProvider' of type [com.amazonaws.auth.AWSCredentialsProviderChain] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)\n2021-11-20 16:26:19.836  INFO 34014 --- [  restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)\n2021-11-20 16:26:19.843  INFO 34014 --- [  restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\n2021-11-20 16:26:19.843  INFO 34014 --- [  restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.52]\n2021-11-20 16:26:19.908  INFO 34014 --- [  restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\n2021-11-20 16:26:19.908  INFO 34014 --- [  restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1565 ms\n2021-11-20 16:26:20.326  INFO 34014 --- [  restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729\nWARNING: An illegal reflective access operation has occurred\nWARNING: Illegal reflective access by com.amazonaws.util.XpathUtils (file:/Users/a202107057/.m2/repository/com/amazonaws/aws-java-sdk-core/1.11.951/aws-java-sdk-core-1.11.951.jar) to method com.sun.org.apache.xpath.internal.XPathContext.getDTMManager()\nWARNING: Please consider reporting this to the maintainers of com.amazonaws.util.XpathUtils\nWARNING: Use --illegal-access=warn to enable warnings of further illegal reflective access operations\nWARNING: All illegal access operations will be denied in a future release\n2021-11-20 16:26:21.436  WARN 34014 --- [  restartedMain] i.a.c.m.l.SimpleMessageListenerContainer : Ignoring queue with name 'test-availability-queue': The queue does not exist.; nested exception is com.amazonaws.services.sqs.model.QueueDoesNotExistException: AWS.SimpleQueueService.NonExistentQueue; see the SQS docs. (Service: AmazonSQS; Status Code: 400; Error Code: AWS.SimpleQueueService.NonExistentQueue; Request ID: 00000000-0000-0000-0000-000000000000; Proxy: null)\n2021-11-20 16:26:21.588  INFO 34014 --- [  restartedMain] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 4 endpoint(s) beneath base path ''\n2021-11-20 16:26:21.655  INFO 34014 --- [  restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''\n2021-11-20 16:26:21.672  INFO 34014 --- [  restartedMain] c.d.s.v.m.LogVendorMonitorApplication    : Started LogVendorMonitorApplication in 3.724 seconds (JVM running for 4.378)\n2021-11-20 16:26:24.822  INFO 34014 --- [nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'\n2021-11-20 16:26:24.823  INFO 34014 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'\n2021-11-20 16:26:24.824  INFO 34014 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms\n</code></pre>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":2390644,"reputation":4058,"user_id":2090555,"accept_rate":83,"display_name":"Himanshu Bhardwaj"},"score":0,"creation_date":1643084818,"post_id":70843422,"comment_id":125240067,"body_markdown":"This is the actual error-\nUnsupported class file major version 61 , are you using class files compiled on a higher jdk?","body":"This is the actual error- Unsupported class file major version 61 , are you using class files compiled on a higher jdk?"},{"owner":{"account_id":18254417,"reputation":3,"user_id":13288695,"display_name":"Prasanna"},"score":0,"creation_date":1643085368,"post_id":70843422,"comment_id":125240160,"body_markdown":"I am using java jdk 16.0.2 for both class and java file. But this was built on eclipse","body":"I am using java jdk 16.0.2 for both class and java file. But this was built on eclipse"}],"answers":[{"tags":[],"owner":{"account_id":18254417,"reputation":3,"user_id":13288695,"display_name":"Prasanna"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1643087480,"creation_date":1643087480,"answer_id":70843693,"question_id":70843422,"body_markdown":"Actually I found the answer it was because my eclipse was using jdk 17 to run whereas I had jdk 16.0.2 installed you just have to click the project-&gt;build path-&gt;configure build path-&gt;java compiler-&gt;compiler compliance level to a lower jdk\r\nthanks to everyone who helped","title":"Exception encountered during context initialization - cancelling refresh attempt org.springframework.beans.factory.BeanDefinitionStoreException","body":"<p>Actually I found the answer it was because my eclipse was using jdk 17 to run whereas I had jdk 16.0.2 installed you just have to click the project-&gt;build path-&gt;configure build path-&gt;java compiler-&gt;compiler compliance level to a lower jdk\nthanks to everyone who helped</p>\n"}],"owner":{"account_id":18254417,"reputation":3,"user_id":13288695,"display_name":"Prasanna"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12582,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70843693,"answer_count":1,"score":0,"last_activity_date":1643117311,"creation_date":1643084662,"question_id":70843422,"body_markdown":"I am just learning how to do component scan without using xml file. But my application worked when I did with xml code but without xml my application is throwing the above error it maybe cliche but I am new to these so hope u can help me out. if I am using component in my xml or without my xml its not working. Here are my codes \r\nthis was my complete error\r\n\r\n```\r\nJan 25, 2022 9:38:04 AM org.springframework.context.support.AbstractApplicationContext refresh\r\nWARNING: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanDefinitionStoreException: Failed to read candidate component class: file [D:\\Spring\\Spring-java-config\\bin\\com\\lepras\\springdemo\\Coach.class]; nested exception is org.springframework.core.NestedIOException: ASM ClassReader failed to parse class file - probably due to a new Java class file version that isn&#39;t supported yet: file [D:\\Spring\\Spring-java-config\\bin\\com\\lepras\\springdemo\\Coach.class]; nested exception is java.lang.IllegalArgumentException: Unsupported class file major version 61\r\nException in thread &quot;main&quot; org.springframework.beans.factory.BeanDefinitionStoreException: Failed to read candidate component class: file [D:\\Spring\\Spring-java-config\\bin\\com\\lepras\\springdemo\\Coach.class]; nested exception is org.springframework.core.NestedIOException: ASM ClassReader failed to parse class file - probably due to a new Java class file version that isn&#39;t supported yet: file [D:\\Spring\\Spring-java-config\\bin\\com\\lepras\\springdemo\\Coach.class]; nested exception is java.lang.IllegalArgumentException: Unsupported class file major version 61\r\n\tat org.springframework.context.annotation.ClassPathScanningCandidateComponentProvider.scanCandidateComponents(ClassPathScanningCandidateComponentProvider.java:452)\r\n\tat org.springframework.context.annotation.ClassPathScanningCandidateComponentProvider.findCandidateComponents(ClassPathScanningCandidateComponentProvider.java:315)\r\n\tat org.springframework.context.annotation.ClassPathBeanDefinitionScanner.doScan(ClassPathBeanDefinitionScanner.java:276)\r\n\tat org.springframework.context.annotation.ComponentScanAnnotationParser.parse(ComponentScanAnnotationParser.java:132)\r\n\tat org.springframework.context.annotation.ConfigurationClassParser.doProcessConfigurationClass(ConfigurationClassParser.java:295)\r\n\tat org.springframework.context.annotation.ConfigurationClassParser.processConfigurationClass(ConfigurationClassParser.java:249)\r\n\tat org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:206)\r\n\tat org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:174)\r\n\tat org.springframework.context.annotation.ConfigurationClassPostProcessor.processConfigBeanDefinitions(ConfigurationClassPostProcessor.java:319)\r\n\tat org.springframework.context.annotation.ConfigurationClassPostProcessor.postProcessBeanDefinitionRegistry(ConfigurationClassPostProcessor.java:236)\r\n\tat org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanDefinitionRegistryPostProcessors(PostProcessorRegistrationDelegate.java:280)\r\n\tat org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:96)\r\n\tat org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:707)\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:533)\r\n\tat org.springframework.context.annotation.AnnotationConfigApplicationContext.&lt;init&gt;(AnnotationConfigApplicationContext.java:89)\r\n\tat com.lepras.springdemo.JavaConfigAppdemo.main(JavaConfigAppdemo.java:8)\r\nCaused by: org.springframework.core.NestedIOException: ASM ClassReader failed to parse class file - probably due to a new Java class file version that isn&#39;t supported yet: file [D:\\Spring\\Spring-java-config\\bin\\com\\lepras\\springdemo\\Coach.class]; nested exception is java.lang.IllegalArgumentException: Unsupported class file major version 61\r\n\tat org.springframework.core.type.classreading.SimpleMetadataReader.getClassReader(SimpleMetadataReader.java:60)\r\n\tat org.springframework.core.type.classreading.SimpleMetadataReader.&lt;init&gt;(SimpleMetadataReader.java:49)\r\n\tat org.springframework.core.type.classreading.SimpleMetadataReaderFactory.getMetadataReader(SimpleMetadataReaderFactory.java:103)\r\n\tat org.springframework.core.type.classreading.CachingMetadataReaderFactory.getMetadataReader(CachingMetadataReaderFactory.java:123)\r\n\tat org.springframework.context.annotation.ClassPathScanningCandidateComponentProvider.scanCandidateComponents(ClassPathScanningCandidateComponentProvider.java:429)\r\n\t... 15 more\r\nCaused by: java.lang.IllegalArgumentException: Unsupported class file major version 61\r\n\tat org.springframework.asm.ClassReader.&lt;init&gt;(ClassReader.java:196)\r\n\tat org.springframework.asm.ClassReader.&lt;init&gt;(ClassReader.java:177)\r\n\tat org.springframework.asm.ClassReader.&lt;init&gt;(ClassReader.java:163)\r\n\tat org.springframework.asm.ClassReader.&lt;init&gt;(ClassReader.java:284)\r\n\tat org.springframework.core.type.classreading.SimpleMetadataReader.getClassReader(SimpleMetadataReader.java:57)\r\n\t... 19 more\r\n\r\n```\r\nCoach interface\r\n```\r\npackage com.lepras.springdemo;\r\n\r\npublic interface Coach {\r\n\tpublic String getDailyWorkout();\r\n}\r\n\r\n```\r\n\r\nTennisCoach.class\r\n\r\n```\r\npackage com.lepras.springdemo;\r\n\r\npublic class TennisCoach implements Coach {\r\n\r\n\t@Override\r\n\tpublic String getDailyWorkout() {\r\n\t\t// TODO Auto-generated method stub\r\n\t\treturn &quot;practice bakchand volley&quot;;\r\n\t}\r\n\r\n}\r\n```\r\n\r\nSportsConfig.class\r\n\r\n```\r\npackage com.lepras.springdemo;\r\n\r\nimport org.springframework.context.annotation.ComponentScan;\r\nimport org.springframework.context.annotation.Configuration;\r\n\r\n@Configuration\r\n@ComponentScan(&quot;com.lepras.springdemo&quot;)\r\npublic class SportsConfig {\r\n\r\n}\r\n```\r\n\r\nMain\r\n```\r\npackage com.lepras.springdemo;\r\n\r\nimport org.springframework.context.annotation.AnnotationConfigApplicationContext;\r\n\r\npublic class JavaConfigAppdemo {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tAnnotationConfigApplicationContext context  = new AnnotationConfigApplicationContext(SportsConfig.class);\r\n\t\tCoach theCoach = context.getBean(&quot;TennisCoach&quot;, Coach.class);\r\n\t\tSystem.out.println(theCoach.getDailyWorkout());\r\n\t\tcontext.close();\r\n\t}\r\n\r\n}\r\n```","title":"Exception encountered during context initialization - cancelling refresh attempt org.springframework.beans.factory.BeanDefinitionStoreException","body":"<p>I am just learning how to do component scan without using xml file. But my application worked when I did with xml code but without xml my application is throwing the above error it maybe cliche but I am new to these so hope u can help me out. if I am using component in my xml or without my xml its not working. Here are my codes\nthis was my complete error</p>\n<pre><code>Jan 25, 2022 9:38:04 AM org.springframework.context.support.AbstractApplicationContext refresh\nWARNING: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanDefinitionStoreException: Failed to read candidate component class: file [D:\\Spring\\Spring-java-config\\bin\\com\\lepras\\springdemo\\Coach.class]; nested exception is org.springframework.core.NestedIOException: ASM ClassReader failed to parse class file - probably due to a new Java class file version that isn't supported yet: file [D:\\Spring\\Spring-java-config\\bin\\com\\lepras\\springdemo\\Coach.class]; nested exception is java.lang.IllegalArgumentException: Unsupported class file major version 61\nException in thread &quot;main&quot; org.springframework.beans.factory.BeanDefinitionStoreException: Failed to read candidate component class: file [D:\\Spring\\Spring-java-config\\bin\\com\\lepras\\springdemo\\Coach.class]; nested exception is org.springframework.core.NestedIOException: ASM ClassReader failed to parse class file - probably due to a new Java class file version that isn't supported yet: file [D:\\Spring\\Spring-java-config\\bin\\com\\lepras\\springdemo\\Coach.class]; nested exception is java.lang.IllegalArgumentException: Unsupported class file major version 61\n    at org.springframework.context.annotation.ClassPathScanningCandidateComponentProvider.scanCandidateComponents(ClassPathScanningCandidateComponentProvider.java:452)\n    at org.springframework.context.annotation.ClassPathScanningCandidateComponentProvider.findCandidateComponents(ClassPathScanningCandidateComponentProvider.java:315)\n    at org.springframework.context.annotation.ClassPathBeanDefinitionScanner.doScan(ClassPathBeanDefinitionScanner.java:276)\n    at org.springframework.context.annotation.ComponentScanAnnotationParser.parse(ComponentScanAnnotationParser.java:132)\n    at org.springframework.context.annotation.ConfigurationClassParser.doProcessConfigurationClass(ConfigurationClassParser.java:295)\n    at org.springframework.context.annotation.ConfigurationClassParser.processConfigurationClass(ConfigurationClassParser.java:249)\n    at org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:206)\n    at org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:174)\n    at org.springframework.context.annotation.ConfigurationClassPostProcessor.processConfigBeanDefinitions(ConfigurationClassPostProcessor.java:319)\n    at org.springframework.context.annotation.ConfigurationClassPostProcessor.postProcessBeanDefinitionRegistry(ConfigurationClassPostProcessor.java:236)\n    at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanDefinitionRegistryPostProcessors(PostProcessorRegistrationDelegate.java:280)\n    at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:96)\n    at org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:707)\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:533)\n    at org.springframework.context.annotation.AnnotationConfigApplicationContext.&lt;init&gt;(AnnotationConfigApplicationContext.java:89)\n    at com.lepras.springdemo.JavaConfigAppdemo.main(JavaConfigAppdemo.java:8)\nCaused by: org.springframework.core.NestedIOException: ASM ClassReader failed to parse class file - probably due to a new Java class file version that isn't supported yet: file [D:\\Spring\\Spring-java-config\\bin\\com\\lepras\\springdemo\\Coach.class]; nested exception is java.lang.IllegalArgumentException: Unsupported class file major version 61\n    at org.springframework.core.type.classreading.SimpleMetadataReader.getClassReader(SimpleMetadataReader.java:60)\n    at org.springframework.core.type.classreading.SimpleMetadataReader.&lt;init&gt;(SimpleMetadataReader.java:49)\n    at org.springframework.core.type.classreading.SimpleMetadataReaderFactory.getMetadataReader(SimpleMetadataReaderFactory.java:103)\n    at org.springframework.core.type.classreading.CachingMetadataReaderFactory.getMetadataReader(CachingMetadataReaderFactory.java:123)\n    at org.springframework.context.annotation.ClassPathScanningCandidateComponentProvider.scanCandidateComponents(ClassPathScanningCandidateComponentProvider.java:429)\n    ... 15 more\nCaused by: java.lang.IllegalArgumentException: Unsupported class file major version 61\n    at org.springframework.asm.ClassReader.&lt;init&gt;(ClassReader.java:196)\n    at org.springframework.asm.ClassReader.&lt;init&gt;(ClassReader.java:177)\n    at org.springframework.asm.ClassReader.&lt;init&gt;(ClassReader.java:163)\n    at org.springframework.asm.ClassReader.&lt;init&gt;(ClassReader.java:284)\n    at org.springframework.core.type.classreading.SimpleMetadataReader.getClassReader(SimpleMetadataReader.java:57)\n    ... 19 more\n\n</code></pre>\n<p>Coach interface</p>\n<pre><code>package com.lepras.springdemo;\n\npublic interface Coach {\n    public String getDailyWorkout();\n}\n\n</code></pre>\n<p>TennisCoach.class</p>\n<pre><code>package com.lepras.springdemo;\n\npublic class TennisCoach implements Coach {\n\n    @Override\n    public String getDailyWorkout() {\n        // TODO Auto-generated method stub\n        return &quot;practice bakchand volley&quot;;\n    }\n\n}\n</code></pre>\n<p>SportsConfig.class</p>\n<pre><code>package com.lepras.springdemo;\n\nimport org.springframework.context.annotation.ComponentScan;\nimport org.springframework.context.annotation.Configuration;\n\n@Configuration\n@ComponentScan(&quot;com.lepras.springdemo&quot;)\npublic class SportsConfig {\n\n}\n</code></pre>\n<p>Main</p>\n<pre><code>package com.lepras.springdemo;\n\nimport org.springframework.context.annotation.AnnotationConfigApplicationContext;\n\npublic class JavaConfigAppdemo {\n\n    public static void main(String[] args) {\n        AnnotationConfigApplicationContext context  = new AnnotationConfigApplicationContext(SportsConfig.class);\n        Coach theCoach = context.getBean(&quot;TennisCoach&quot;, Coach.class);\n        System.out.println(theCoach.getDailyWorkout());\n        context.close();\n    }\n\n}\n</code></pre>\n"},{"tags":["java","android","kotlin","service-locator","koin"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1528045556,"post_id":50668797,"comment_id":88347533,"body_markdown":"I am pretty sure that this is possible. Both Java and Kotlin run on the JVM and thus should be interoperable.","body":"I am pretty sure that this is possible. Both Java and Kotlin run on the JVM and thus should be interoperable."},{"owner":{"account_id":3198775,"reputation":324,"user_id":2701314,"display_name":"Rafa Araujo"},"score":0,"creation_date":1528048397,"post_id":50668797,"comment_id":88348415,"body_markdown":"Yeah, they work. But I would like to know how can I access inject using Koin framework.","body":"Yeah, they work. But I would like to know how can I access inject using Koin framework."},{"owner":{"account_id":10127953,"reputation":753,"user_id":7482517,"display_name":"Keshav Aggarwal"},"score":1,"creation_date":1528049613,"post_id":50668797,"comment_id":88348806,"body_markdown":"This might help you...https://github.com/Ekito/koin/issues/81","body":"This might help you...<a href=\"https://github.com/Ekito/koin/issues/81\" rel=\"nofollow noreferrer\">github.com/Ekito/koin/issues/81</a>"},{"owner":{"account_id":3198775,"reputation":324,"user_id":2701314,"display_name":"Rafa Araujo"},"score":0,"creation_date":1528049841,"post_id":50668797,"comment_id":88348891,"body_markdown":"Excellent, @keshavAggarwal\n\nThis is what I need\nhttps://gist.github.com/fredy-mederos/b74e8c2f2ca2f0f5d5910bcb694cbdbf","body":"Excellent, @keshavAggarwal  This is what I need <a href=\"https://gist.github.com/fredy-mederos/b74e8c2f2ca2f0f5d5910bcb694cbdbf\" rel=\"nofollow noreferrer\">gist.github.com/fredy-mederos/b74e8c2f2ca2f0f5d5910bcb694cbd&zwnj;&#8203;bf</a>"},{"owner":{"account_id":7852523,"reputation":1992,"user_id":5935559,"accept_rate":0,"display_name":"Shudipto Trafder"},"score":0,"creation_date":1555004584,"post_id":50668797,"comment_id":97967799,"body_markdown":"Hey, Is your problem solved?","body":"Hey, Is your problem solved?"}],"answers":[{"tags":[],"owner":{"account_id":10127953,"reputation":753,"user_id":7482517,"display_name":"Keshav Aggarwal"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1528045920,"creation_date":1528045920,"answer_id":50668966,"question_id":50668797,"body_markdown":"A class or file can either have .kt extension means Kotlin, or have .java extension means Java. You can&#39;t write a file or class in both the languages simultaneously.\r\n\r\nBut your Java and Kotlin files can talk with each other, i.e you can a Java class with a variable and access that variable in your Kotlin file or vice-versa.\r\n\r\nSo you can inject a Kotlin class reference and use that in your Java class and Vice-versa.\r\n\r\nThis might help: https://kotlinlang.org/docs/tutorials/mixing-java-kotlin-intellij.html\r\n\r\nI hope that clears the doubt.\r\n","title":"Inject Koin in Java classes","body":"<p>A class or file can either have .kt extension means Kotlin, or have .java extension means Java. You can't write a file or class in both the languages simultaneously.</p>\n\n<p>But your Java and Kotlin files can talk with each other, i.e you can a Java class with a variable and access that variable in your Kotlin file or vice-versa.</p>\n\n<p>So you can inject a Kotlin class reference and use that in your Java class and Vice-versa.</p>\n\n<p>This might help: <a href=\"https://kotlinlang.org/docs/tutorials/mixing-java-kotlin-intellij.html\" rel=\"nofollow noreferrer\">https://kotlinlang.org/docs/tutorials/mixing-java-kotlin-intellij.html</a></p>\n\n<p>I hope that clears the doubt.</p>\n"},{"tags":[],"owner":{"account_id":8846949,"reputation":890,"user_id":6607435,"display_name":"Pawan Soni"},"down_vote_count":0,"up_vote_count":25,"is_accepted":false,"score":25,"last_activity_date":1639655741,"creation_date":1567435976,"answer_id":57759018,"question_id":50668797,"body_markdown":"Yes it is Possible.\r\nJust sync project with this gradle file\r\n\r\n    implementation &quot;org.koin:koin-java:$koin_version&quot;\r\n\r\nIn your java class replace \r\n\r\n    // Inject MyPresenter\r\n    private val presenter : MyPresenter by inject()\r\n\r\n    \r\n with  \r\n\r\n    private Lazy&lt;MyPresenter&gt; presenter = inject(MyPresenter.class);\r\n\r\n\r\nand get presenter method inside Java class like\r\n\r\n    presenter.getValue().sayHello() \r\n\r\n","title":"Inject Koin in Java classes","body":"<p>Yes it is Possible.\nJust sync project with this gradle file</p>\n<pre><code>implementation &quot;org.koin:koin-java:$koin_version&quot;\n</code></pre>\n<p>In your java class replace</p>\n<pre><code>// Inject MyPresenter\nprivate val presenter : MyPresenter by inject()\n</code></pre>\n<p>with</p>\n<pre><code>private Lazy&lt;MyPresenter&gt; presenter = inject(MyPresenter.class);\n</code></pre>\n<p>and get presenter method inside Java class like</p>\n<pre><code>presenter.getValue().sayHello() \n</code></pre>\n"},{"tags":[],"owner":{"account_id":2351884,"reputation":1680,"user_id":2060486,"display_name":"peresisUser"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1574253880,"creation_date":1574253880,"answer_id":58954669,"question_id":50668797,"body_markdown":"It is, make sure you import in gradle the koin for java library and use above answers.\r\n\r\nGradle: \r\n\r\n    implementation &quot;org.koin:koin-java:2.0.1&quot;","title":"Inject Koin in Java classes","body":"<p>It is, make sure you import in gradle the koin for java library and use above answers.</p>\n\n<p>Gradle: </p>\n\n<pre><code>implementation \"org.koin:koin-java:2.0.1\"\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2373952,"reputation":1739,"user_id":2077850,"display_name":"ultra.deep"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1605709901,"creation_date":1605709901,"answer_id":64895126,"question_id":50668797,"body_markdown":"following code worked for me **without** org.koin:koin-java:$koin_version dependency:\r\n\r\n    private MyPresenter presenter = org.koin.java.KoinJavaComponentKoinJavaComponent.inject(MyPresenter.class).getValue();","title":"Inject Koin in Java classes","body":"<p>following code worked for me <strong>without</strong> org.koin:koin-java:$koin_version dependency:</p>\n<pre><code>private MyPresenter presenter = org.koin.java.KoinJavaComponentKoinJavaComponent.inject(MyPresenter.class).getValue();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17706339,"reputation":424,"user_id":12854812,"display_name":"Michael McCormick"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1618572065,"creation_date":1617799878,"answer_id":66986428,"question_id":50668797,"body_markdown":"You no longer need the additional `koin-java` dependency as this is now a part of `koin-android` &amp; `koin-core`.\r\n\r\n```java\r\n// Imports\r\nimport static org.koin.java.KoinJavaComponent.get;\r\nimport static org.koin.java.KoinJavaComponent.inject;\r\nimport static org.koin.core.qualifier.QualifierKt.named;\r\nimport static org.koin.core.parameter.DefinitionParametersKt.parametersOf;\r\n\r\n// Lazy injection\r\nLazy&lt;MyDependency&gt; dependency = inject(MyDependency.class);\r\n\r\n// Eager injection\r\nMyDependency dependency = get(MyDependency.class);\r\n\r\n// Named injection\r\nget(MyDependency.class, named(&quot;MyNamedDependency&quot;));\r\n\r\n// Parameter injection\r\nget(MyDependency.class, null, () -&gt; parametersOf(this));\r\n```\r\n\r\n[Koin Android Java docs][1]\r\n\r\n\r\n  [1]: https://insert-koin.io/docs/quickstart/android-java/","title":"Inject Koin in Java classes","body":"<p>You no longer need the additional <code>koin-java</code> dependency as this is now a part of <code>koin-android</code> &amp; <code>koin-core</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>// Imports\nimport static org.koin.java.KoinJavaComponent.get;\nimport static org.koin.java.KoinJavaComponent.inject;\nimport static org.koin.core.qualifier.QualifierKt.named;\nimport static org.koin.core.parameter.DefinitionParametersKt.parametersOf;\n\n// Lazy injection\nLazy&lt;MyDependency&gt; dependency = inject(MyDependency.class);\n\n// Eager injection\nMyDependency dependency = get(MyDependency.class);\n\n// Named injection\nget(MyDependency.class, named(&quot;MyNamedDependency&quot;));\n\n// Parameter injection\nget(MyDependency.class, null, () -&gt; parametersOf(this));\n</code></pre>\n<p><a href=\"https://insert-koin.io/docs/quickstart/android-java/\" rel=\"noreferrer\">Koin Android Java docs</a></p>\n"},{"tags":[],"owner":{"account_id":9038350,"reputation":2716,"user_id":6733404,"display_name":"Abner Esc&#243;cio"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1643117237,"creation_date":1643117237,"answer_id":70849425,"question_id":50668797,"body_markdown":"Use \r\n\r\n    // Java Compatibility\r\n    implementation &quot;io.insert-koin:koin-android-compat:$koin_version&quot;\r\n\r\nInstead\r\n\r\n    implementation &quot;org.koin:koin-java:$koin_version&quot;\r\n\r\n\r\nDon&#39;t forget\r\n\r\n    // Add Maven Central to your repositories if needed\r\n    repositories {\r\n        mavenCentral()\r\n    }\r\n\r\n\r\nImportante point\r\n\r\n&gt; Due to Jcenter shutdown, the koin project&#39;s maven group id was\r\n&gt; previously org.koin and is now io.insert-koin. Please check your\r\n&gt; configuration with modules below.\r\n\r\nSee official documentation [here][1]\r\n\r\n\r\n  [1]: https://insert-koin.io/docs/setup/v3\r\n\r\n\r\nHave a good job!","title":"Inject Koin in Java classes","body":"<p>Use</p>\n<pre><code>// Java Compatibility\nimplementation &quot;io.insert-koin:koin-android-compat:$koin_version&quot;\n</code></pre>\n<p>Instead</p>\n<pre><code>implementation &quot;org.koin:koin-java:$koin_version&quot;\n</code></pre>\n<p>Don't forget</p>\n<pre><code>// Add Maven Central to your repositories if needed\nrepositories {\n    mavenCentral()\n}\n</code></pre>\n<p>Importante point</p>\n<blockquote>\n<p>Due to Jcenter shutdown, the koin project's maven group id was\npreviously org.koin and is now io.insert-koin. Please check your\nconfiguration with modules below.</p>\n</blockquote>\n<p>See official documentation <a href=\"https://insert-koin.io/docs/setup/v3\" rel=\"nofollow noreferrer\">here</a></p>\n<p>Have a good job!</p>\n"}],"owner":{"account_id":3198775,"reputation":324,"user_id":2701314,"display_name":"Rafa Araujo"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13091,"favorite_count":0,"down_vote_count":0,"up_vote_count":16,"answer_count":6,"score":16,"last_activity_date":1643117237,"creation_date":1528044993,"question_id":50668797,"body_markdown":"I&#39;m trying to replace Dagger 2 to [Koin][1] in my current project and I don&#39;t want to rewrite some classes in Kotlin to use it.\r\n\r\nIs possible to inject with Koin in java classes?\r\n\r\n\r\nIn Kotlin is just\r\n\r\n    // Inject MyPresenter\r\n    val presenter : MyPresenter by inject()\r\n\r\n\r\nThanks\r\n\r\n\r\n  [1]: https://insert-koin.io","title":"Inject Koin in Java classes","body":"<p>I'm trying to replace Dagger 2 to <a href=\"https://insert-koin.io\" rel=\"noreferrer\">Koin</a> in my current project and I don't want to rewrite some classes in Kotlin to use it.</p>\n\n<p>Is possible to inject with Koin in java classes?</p>\n\n<p>In Kotlin is just</p>\n\n<pre><code>// Inject MyPresenter\nval presenter : MyPresenter by inject()\n</code></pre>\n\n<p>Thanks</p>\n"},{"tags":["java","spring","hibernate","jpa","one-to-many"],"comments":[{"owner":{"account_id":20382503,"reputation":244,"user_id":14952296,"display_name":"stephane brun"},"score":1,"creation_date":1643117243,"post_id":70848162,"comment_id":125249980,"body_markdown":"using lombok on entities is for my concern a bad practice","body":"using lombok on entities is for my concern a bad practice"},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":1,"creation_date":1643214498,"post_id":70848162,"comment_id":125281486,"body_markdown":"JPA isn&#39;t helping you, it is a tool for serializing the data to a database - it is still up to you to manage your java objects. The specification even spells out that you are responsible to maintain both sides of any bidirectional relationships to ensure they are in synch with what you are pushing into the database. You don&#39;t have to, but if you don&#39;t, you will run into seemingly odd situations like this where it seems to work when you re-load or the app starts up, but not at others. And it will prevent use of caching as a performance option later on.","body":"JPA isn&#39;t helping you, it is a tool for serializing the data to a database - it is still up to you to manage your java objects. The specification even spells out that you are responsible to maintain both sides of any bidirectional relationships to ensure they are in synch with what you are pushing into the database. You don&#39;t have to, but if you don&#39;t, you will run into seemingly odd situations like this where it seems to work when you re-load or the app starts up, but not at others. And it will prevent use of caching as a performance option later on."},{"owner":{"account_id":4703069,"reputation":101,"user_id":3806113,"display_name":"Stefan Bratanov"},"score":0,"creation_date":1643218226,"post_id":70848162,"comment_id":125283185,"body_markdown":"Thank you, i agree the JPA entities are only one layer and the code logic shouldn&#39;t be dependent entirely on its intricacies","body":"Thank you, i agree the JPA entities are only one layer and the code logic shouldn&#39;t be dependent entirely on its intricacies"}],"answers":[{"tags":[],"owner":{"account_id":20382503,"reputation":244,"user_id":14952296,"display_name":"stephane brun"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1643117065,"creation_date":1643116854,"answer_id":70849347,"question_id":70848162,"body_markdown":"```java\r\n    @Entity\r\n    @Data\r\n    @EqualsAndHashCode(exclude = {&quot;developers&quot;})\r\n    @ToString(exclude = {&quot;developers&quot;})\r\n    @Builder\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    public class Team {\r\n    \r\n        @Id\r\n        @GeneratedValue\r\n        private Long id;\r\n    \r\n        @Column(nullable = false)\r\n        private String name;\r\n    \r\n        private String description;\r\n    \r\n        @OneToMany(mappedBy = &quot;team&quot;, cascade = CascadeType.ALL)\r\n        @JsonIgnoreProperties(value = {&quot;team&quot;})\r\n        private List&lt;Developer&gt; developers = new ArrayList&lt;&gt;;\r\n        \r\n        Team addDeveloper(Developer dev) {\r\n            dev.setTeam(this);\r\n            this.getDevelopers().add(dev);\r\n            return this;\r\n\r\n        }\r\n    }\r\n\r\n```","title":"@OneToMany and @ManyToOne Spring Data JPA Child does not update Parent","body":"<pre class=\"lang-java prettyprint-override\"><code>    @Entity\n    @Data\n    @EqualsAndHashCode(exclude = {&quot;developers&quot;})\n    @ToString(exclude = {&quot;developers&quot;})\n    @Builder\n    @AllArgsConstructor\n    @NoArgsConstructor\n    public class Team {\n    \n        @Id\n        @GeneratedValue\n        private Long id;\n    \n        @Column(nullable = false)\n        private String name;\n    \n        private String description;\n    \n        @OneToMany(mappedBy = &quot;team&quot;, cascade = CascadeType.ALL)\n        @JsonIgnoreProperties(value = {&quot;team&quot;})\n        private List&lt;Developer&gt; developers = new ArrayList&lt;&gt;;\n        \n        Team addDeveloper(Developer dev) {\n            dev.setTeam(this);\n            this.getDevelopers().add(dev);\n            return this;\n\n        }\n    }\n\n</code></pre>\n"}],"owner":{"account_id":4703069,"reputation":101,"user_id":3806113,"display_name":"Stefan Bratanov"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1508,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1643117065,"creation_date":1643111455,"question_id":70848162,"body_markdown":"I am struggling with simple scenario, where I have to specify a Team of Many developers and a Developer can only have one team.\r\n\r\nThese are my current two POJOs, but it is starting to get complex and i start to hate it. Not sure what is the best approach.\r\n&lt;!-- language: java --&gt;\r\n```\r\n@Entity\r\n@Data\r\n@EqualsAndHashCode(exclude = {&quot;team&quot;})\r\n@ToString(exclude = {&quot;team&quot;})\r\n@Builder\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\npublic class Developer {\r\n\r\n    @Id\r\n    @GeneratedValue\r\n    private Long id;\r\n\r\n    @Column(nullable = false)\r\n    private String name;\r\n\r\n    @ManyToOne(optional = false)\r\n    @JsonIgnoreProperties(value = {&quot;developers&quot;})\r\n    private Team team;\r\n\r\n}\r\n```\r\n&lt;!-- language: java --&gt;\r\n```\r\n@Entity\r\n@Data\r\n@EqualsAndHashCode(exclude = {&quot;developers&quot;})\r\n@ToString(exclude = {&quot;developers&quot;})\r\n@Builder\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\npublic class Team {\r\n\r\n    @Id\r\n    @GeneratedValue\r\n    private Long id;\r\n\r\n    @Column(nullable = false)\r\n    private String name;\r\n\r\n    private String description;\r\n\r\n    @OneToMany(mappedBy = &quot;team&quot;, cascade = CascadeType.ALL)\r\n    @JsonIgnoreProperties(value = {&quot;team&quot;})\r\n    private List&lt;Developer&gt; developers;\r\n\r\n}\r\n```\r\n\r\nThe problem I have now is if I create a Team and then assign two developers to it and then retrieve the team again, the developers list is still null. What am i missing? I can manually update the list of the team of course, but that defeats the purpose of JPA helping me. Any advice would be helpful. \r\n\r\n&lt;!-- language: java --&gt;\r\n```\r\n    @Autowired\r\n    private TeamRepository underTest;\r\n\r\n    @Autowired\r\n    private DeveloperRepository developerRepository;\r\n\r\nTeam team = Team.builder()\r\n        .name(&quot;Team 1&quot;)\r\n        .build();\r\n\r\nTeam team1 = underTest.save(team);\r\n\r\nDeveloper developer1 = Developer.builder()\r\n        .name(&quot;Stefan Bratanov&quot;)\r\n        .team(team1)\r\n        .build();\r\n\r\nDeveloper developer2 = Developer.builder()\r\n        .name(&quot;Darth Vader&quot;)\r\n        .team(team1)\r\n        .build();\r\n\r\nList&lt;Developer&gt; developers = Arrays.asList(developer1, developer2);\r\n\r\ndeveloperRepository.saveAll(developers);\r\n\r\nOptional&lt;Team&gt; maybeTeamWithDevelopers = underTest.findById(team1.getId());\r\nassertThat(maybeTeamWithDevelopers).isPresent();\r\n\r\nTeam teamWithDevelopers = maybeTeamWithDevelopers.get();\r\n\r\nassertThat(teamWithDevelopers.getDevelopers()).containsExactlyInAnyOrder(developer1, developer2); //DEVELOPERS IS NULL HERE\r\n```\r\n\r\n\r\n\r\n","title":"@OneToMany and @ManyToOne Spring Data JPA Child does not update Parent","body":"<p>I am struggling with simple scenario, where I have to specify a Team of Many developers and a Developer can only have one team.</p>\n<p>These are my current two POJOs, but it is starting to get complex and i start to hate it. Not sure what is the best approach.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Data\n@EqualsAndHashCode(exclude = {&quot;team&quot;})\n@ToString(exclude = {&quot;team&quot;})\n@Builder\n@AllArgsConstructor\n@NoArgsConstructor\npublic class Developer {\n\n    @Id\n    @GeneratedValue\n    private Long id;\n\n    @Column(nullable = false)\n    private String name;\n\n    @ManyToOne(optional = false)\n    @JsonIgnoreProperties(value = {&quot;developers&quot;})\n    private Team team;\n\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Data\n@EqualsAndHashCode(exclude = {&quot;developers&quot;})\n@ToString(exclude = {&quot;developers&quot;})\n@Builder\n@AllArgsConstructor\n@NoArgsConstructor\npublic class Team {\n\n    @Id\n    @GeneratedValue\n    private Long id;\n\n    @Column(nullable = false)\n    private String name;\n\n    private String description;\n\n    @OneToMany(mappedBy = &quot;team&quot;, cascade = CascadeType.ALL)\n    @JsonIgnoreProperties(value = {&quot;team&quot;})\n    private List&lt;Developer&gt; developers;\n\n}\n</code></pre>\n<p>The problem I have now is if I create a Team and then assign two developers to it and then retrieve the team again, the developers list is still null. What am i missing? I can manually update the list of the team of course, but that defeats the purpose of JPA helping me. Any advice would be helpful.</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Autowired\n    private TeamRepository underTest;\n\n    @Autowired\n    private DeveloperRepository developerRepository;\n\nTeam team = Team.builder()\n        .name(&quot;Team 1&quot;)\n        .build();\n\nTeam team1 = underTest.save(team);\n\nDeveloper developer1 = Developer.builder()\n        .name(&quot;Stefan Bratanov&quot;)\n        .team(team1)\n        .build();\n\nDeveloper developer2 = Developer.builder()\n        .name(&quot;Darth Vader&quot;)\n        .team(team1)\n        .build();\n\nList&lt;Developer&gt; developers = Arrays.asList(developer1, developer2);\n\ndeveloperRepository.saveAll(developers);\n\nOptional&lt;Team&gt; maybeTeamWithDevelopers = underTest.findById(team1.getId());\nassertThat(maybeTeamWithDevelopers).isPresent();\n\nTeam teamWithDevelopers = maybeTeamWithDevelopers.get();\n\nassertThat(teamWithDevelopers.getDevelopers()).containsExactlyInAnyOrder(developer1, developer2); //DEVELOPERS IS NULL HERE\n</code></pre>\n"},{"tags":["java","hibernate","jpa","hibernate-mapping"],"comments":[{"owner":{"account_id":9504657,"reputation":7440,"user_id":7064617,"display_name":"JCompetence"},"score":0,"creation_date":1643115689,"post_id":70848789,"comment_id":125249357,"body_markdown":"Not automatically to my knowledge, for such a scenario, your query will need to exclude based entity.status != &quot;BAD&quot;","body":"Not automatically to my knowledge, for such a scenario, your query will need to exclude based entity.status != &quot;BAD&quot;"},{"owner":{"account_id":2990507,"reputation":4955,"user_id":2538180,"accept_rate":53,"display_name":"emoleumassi"},"score":0,"creation_date":1643116730,"post_id":70848789,"comment_id":125249765,"body_markdown":"@SMA i want to exclude for any query","body":"@SMA i want to exclude for any query"}],"answers":[{"tags":[],"owner":{"account_id":9504657,"reputation":7440,"user_id":7064617,"display_name":"JCompetence"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1643117047,"creation_date":1643117047,"answer_id":70849386,"question_id":70848789,"body_markdown":"Kindly see if the below notions help you in achieving what you are after:\r\n\r\n\r\n**2.3.21. @Where**\r\n\r\n&gt; Sometimes, you want to filter out entities or collections using custom\r\n&gt; SQL criteria. This can be achieved using the @Where annotation, which\r\n&gt; can be applied to entities and collections.\r\n\r\nExample 78. @Where mapping usage\r\n\r\n    public enum AccountType {\r\n        DEBIT,\r\n        CREDIT\r\n    }\r\n    \r\n    @Entity(name = &quot;Client&quot;)\r\n    public static class Client {\r\n    \r\n        @Id\r\n        private Long id;\r\n    \r\n        private String name;\r\n    \r\n        @Where( clause = &quot;account_type = &#39;DEBIT&#39;&quot;)\r\n        @OneToMany(mappedBy = &quot;client&quot;)\r\n        private List&lt;Account&gt; debitAccounts = new ArrayList&lt;&gt;( );\r\n    \r\n        @Where( clause = &quot;account_type = &#39;CREDIT&#39;&quot;)\r\n        @OneToMany(mappedBy = &quot;client&quot;)\r\n        private List&lt;Account&gt; creditAccounts = new ArrayList&lt;&gt;( );\r\n    \r\n        //Getters and setters omitted for brevity\r\n    \r\n    }\r\n\r\nhttps://docs.jboss.org/hibernate/orm/5.2/userguide/html_single/Hibernate_User_Guide.html#mapping-column-where\r\n\r\n**2.3.23. @Filter**\r\n\r\n&gt; The @Filter annotation is another way to filter out entities or\r\n&gt; collections using custom SQL criteria. Unlike the @Where annotation,\r\n&gt; @Filter allows you to parameterize the filter clause at runtime.\r\n&gt; \r\n&gt; Now, considering we have the following Account entity:\r\n\r\nExample 85. @Filter mapping entity-level usage\r\n\r\n    @Entity(name = &quot;Account&quot;)\r\n    @FilterDef(\r\n        name=&quot;activeAccount&quot;,\r\n        parameters = @ParamDef(\r\n            name=&quot;active&quot;,\r\n            type=&quot;boolean&quot;\r\n        )\r\n    )\r\n    @Filter(\r\n        name=&quot;activeAccount&quot;,\r\n        condition=&quot;active_status = :active&quot;\r\n    )\r\n    public static class Account {\r\n    \r\n        @Id\r\n        private Long id;\r\n    \r\n        @ManyToOne(fetch = FetchType.LAZY)\r\n        private Client client;\r\n    \r\n        @Column(name = &quot;account_type&quot;)\r\n        @Enumerated(EnumType.STRING)\r\n        private AccountType type;\r\n    \r\n        private Double amount;\r\n    \r\n        private Double rate;\r\n    \r\n        @Column(name = &quot;active_status&quot;)\r\n        private boolean active;\r\n    \r\n        //Getters and setters omitted for brevity\r\n    }\r\n\r\n\r\nhttps://docs.jboss.org/hibernate/orm/5.2/userguide/html_single/Hibernate_User_Guide.html#mapping-column-filter\r\n\r\n\r\n----------\r\n\r\nAlso take a look at https://stackoverflow.com/questions/25855260/global-hibernate-filter-on-all-database-queries  which uses AspectJ to intercept the queries if you want to do it in another way.\r\n\r\n\r\n\r\n","title":"Hibernate exclude rows with condition","body":"<p>Kindly see if the below notions help you in achieving what you are after:</p>\n<p><strong>2.3.21. @Where</strong></p>\n<blockquote>\n<p>Sometimes, you want to filter out entities or collections using custom\nSQL criteria. This can be achieved using the @Where annotation, which\ncan be applied to entities and collections.</p>\n</blockquote>\n<p>Example 78. @Where mapping usage</p>\n<pre><code>public enum AccountType {\n    DEBIT,\n    CREDIT\n}\n\n@Entity(name = &quot;Client&quot;)\npublic static class Client {\n\n    @Id\n    private Long id;\n\n    private String name;\n\n    @Where( clause = &quot;account_type = 'DEBIT'&quot;)\n    @OneToMany(mappedBy = &quot;client&quot;)\n    private List&lt;Account&gt; debitAccounts = new ArrayList&lt;&gt;( );\n\n    @Where( clause = &quot;account_type = 'CREDIT'&quot;)\n    @OneToMany(mappedBy = &quot;client&quot;)\n    private List&lt;Account&gt; creditAccounts = new ArrayList&lt;&gt;( );\n\n    //Getters and setters omitted for brevity\n\n}\n</code></pre>\n<p><a href=\"https://docs.jboss.org/hibernate/orm/5.2/userguide/html_single/Hibernate_User_Guide.html#mapping-column-where\" rel=\"nofollow noreferrer\">https://docs.jboss.org/hibernate/orm/5.2/userguide/html_single/Hibernate_User_Guide.html#mapping-column-where</a></p>\n<p><strong>2.3.23. @Filter</strong></p>\n<blockquote>\n<p>The @Filter annotation is another way to filter out entities or\ncollections using custom SQL criteria. Unlike the @Where annotation,\n@Filter allows you to parameterize the filter clause at runtime.</p>\n<p>Now, considering we have the following Account entity:</p>\n</blockquote>\n<p>Example 85. @Filter mapping entity-level usage</p>\n<pre><code>@Entity(name = &quot;Account&quot;)\n@FilterDef(\n    name=&quot;activeAccount&quot;,\n    parameters = @ParamDef(\n        name=&quot;active&quot;,\n        type=&quot;boolean&quot;\n    )\n)\n@Filter(\n    name=&quot;activeAccount&quot;,\n    condition=&quot;active_status = :active&quot;\n)\npublic static class Account {\n\n    @Id\n    private Long id;\n\n    @ManyToOne(fetch = FetchType.LAZY)\n    private Client client;\n\n    @Column(name = &quot;account_type&quot;)\n    @Enumerated(EnumType.STRING)\n    private AccountType type;\n\n    private Double amount;\n\n    private Double rate;\n\n    @Column(name = &quot;active_status&quot;)\n    private boolean active;\n\n    //Getters and setters omitted for brevity\n}\n</code></pre>\n<p><a href=\"https://docs.jboss.org/hibernate/orm/5.2/userguide/html_single/Hibernate_User_Guide.html#mapping-column-filter\" rel=\"nofollow noreferrer\">https://docs.jboss.org/hibernate/orm/5.2/userguide/html_single/Hibernate_User_Guide.html#mapping-column-filter</a></p>\n<hr />\n<p>Also take a look at <a href=\"https://stackoverflow.com/questions/25855260/global-hibernate-filter-on-all-database-queries\">Global hibernate filter on all database queries</a>  which uses AspectJ to intercept the queries if you want to do it in another way.</p>\n"}],"owner":{"account_id":2990507,"reputation":4955,"user_id":2538180,"accept_rate":53,"display_name":"emoleumassi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":842,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1643117047,"creation_date":1643114371,"question_id":70848789,"body_markdown":"```\r\n@Entity\r\npublic class ClassA {\r\n\r\n    some attributes\r\n\r\n    @Enumerated(value = EnumType.STRING)\r\n    private EnumObject status;\r\n}\r\n```\r\n\r\nMy Enum:\r\n```\r\npublic enum EnumObject {\r\n    OK,\r\n    BAD,\r\n    SOME_CASE,\r\n    ANOTHER_CASE;\r\n```\r\n\r\n\r\nThere are a possibility to say never return Entity when `status=BAD` for all queries","title":"Hibernate exclude rows with condition","body":"<pre><code>@Entity\npublic class ClassA {\n\n    some attributes\n\n    @Enumerated(value = EnumType.STRING)\n    private EnumObject status;\n}\n</code></pre>\n<p>My Enum:</p>\n<pre><code>public enum EnumObject {\n    OK,\n    BAD,\n    SOME_CASE,\n    ANOTHER_CASE;\n</code></pre>\n<p>There are a possibility to say never return Entity when <code>status=BAD</code> for all queries</p>\n"},{"tags":["java","swing","jframe","jlabel"],"answers":[{"tags":[],"owner":{"account_id":23863113,"reputation":21907,"user_id":17865804,"display_name":"Chris"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1643116974,"creation_date":1643116974,"answer_id":70849374,"question_id":70838760,"body_markdown":"First of, you need to structure your code in a better way. Secondly, it is better to use a swing container where the text (`JLabel`) will be added. Below [Box][1] is used, which is a container that uses [BoxLayout][2] as its layout manager, allowing multiple components (`JLabels` in your case) to be laid out either vertically (`Y_AXIS`) or horizontally (`X_AXIS`). You can then use `JScrollPane` to provide a scrollable view of the Box component, and add that JScrollPane instance to your frame. Every time you add a new text, you add it to the Box instance, and then you call `repaint();` and `revalidate();` on your frame for the text to be shown. If you need only the last text to be shown on the window (and not every text you have added), then uncomment `box.removeAll();` as a quick fix. Otherwise, do not use the Box with the JScrollPane, but simply add the label to your frame e.g., `myframe.getContentPane().add(lbl, BorderLayout.CENTER);`. Again, remember to call `myframe.getContentPane().removeAll()`; before adding a new JLabel, as well as `repaint();` and `revalidate();` afterwards. Working example below:\r\n\r\n    import java.awt.*;\r\n    import javax.swing.*;\r\n    import java.util.Scanner;\r\n    \r\n    public class App {\r\n    \tScanner input;\r\n    \tJFrame myframe;\r\n    \tBox box;\r\n    \tJScrollPane scrollPane;\r\n    \r\n    \tpublic App() {\r\n    \t\tinput = new Scanner(System.in);\r\n    \t\tbox = new Box(BoxLayout.Y_AXIS);\r\n    \t\tscrollPane = new JScrollPane(box);\r\n    \t\tmyframe = new JFrame();\r\n    \t\tmyframe.getContentPane().add(scrollPane, BorderLayout.CENTER);\r\n    \t\tmyframe.setSize(300, 300);\r\n    \t\tmyframe.setTitle(&quot;Blank Window&quot;);\r\n    \t\tmyframe.setResizable(false);\r\n    \t\tmyframe.setLocation(300, 300);\r\n    \t}\r\n    \r\n    \tpublic void go() {\r\n    \t\tboolean done = false;\r\n    \t\tboolean winopen = false;\r\n    \t\tSystem.out.println(&quot;Type commands here. Type &#39;help&#39; for list of commands.&quot;);\r\n    \r\n    \t\twhile (done == false) {\r\n    \t\t\tSystem.out.print(&quot;Console &gt; &gt; &gt;  &quot;);\r\n    \t\t\tString coninput = input.nextLine();\r\n    \r\n    \t\t\tif (coninput.equals(&quot;window open&quot;)) {\r\n    \t\t\t\tSystem.out.println(&quot;Opening Window...&quot;);\r\n    \t\t\t\tSystem.out.println(&quot;Done!&quot;);\r\n    \t\t\t\twinopen = true;\r\n    \t\t\t\tmyframe.setVisible(true);\r\n    \t\t\t}\r\n    \r\n    \t\t\tif (coninput.equals(&quot;window close&quot;)) {\r\n    \t\t\t\tSystem.out.println(&quot;Closing Window...&quot;);\r\n    \t\t\t\twinopen = false;\r\n    \t\t\t\tmyframe.setVisible(false);\r\n    \t\t\t\tSystem.out.println(&quot;Done!&quot;);\r\n    \t\t\t}\r\n    \r\n    \t\t\tif (coninput.equals(&quot;exit&quot;)) {\r\n    \t\t\t\tSystem.out.println(&quot;Exiting...&quot;);\r\n    \t\t\t\tmyframe.dispose();\r\n    \t\t\t\tdone = true;\r\n    \t\t\t\tSystem.out.println(&quot;Done!&quot;);\r\n    \t\t\t}\r\n    \r\n    \t\t\tif (coninput.equals(&quot;help&quot;)) {\r\n    \t\t\t\tSystem.out.println(&quot;Commands: &quot;);\r\n    \t\t\t\tSystem.out.println(&quot;window open: opens a window&quot;);\r\n    \t\t\t\tSystem.out.println(&quot;window close: closes the open window&quot;);\r\n    \t\t\t\tSystem.out.println(&quot;exit: shuts down the program&quot;);\r\n    \t\t\t\tSystem.out.println(&quot;help: lists commands&quot;);\r\n    \t\t\t}\r\n    \r\n    \t\t\tif (coninput.equals(&quot;change text&quot;) &amp;&amp; winopen == true) {\r\n    \t\t\t\tSystem.out.print(&quot;What do you want the text to say &gt; &gt; &gt; &quot;);\r\n    \t\t\t\tJLabel lbl = new JLabel(input.nextLine());\r\n    \t\t\t\tSystem.out.println(&quot;Adding...&quot;);\r\n    \t\t\t\t// box.removeAll();\r\n    \t\t\t\tbox.add(lbl);\r\n    \t\t\t\tmyframe.repaint();\r\n    \t\t\t\tmyframe.revalidate();\r\n    \t\t\t\tRectangle bounds = lbl.getBounds();\r\n    \t\t\t\tscrollPane.getViewport().scrollRectToVisible(bounds);// scroll to the new text\r\n    \t\t\t}\r\n    \r\n    \t\t\tif (coninput.equals(&quot;change text&quot;) &amp;&amp; winopen == false) {\r\n    \t\t\t\tSystem.out.print(&quot;You have to have a window open.&quot;);\r\n    \t\t\t}\r\n    \r\n    \t\t}\r\n    \t}\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tnew App().go();\r\n    \t}\r\n    }\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/javax/swing/Box.html\r\n  [2]: https://docs.oracle.com/javase/7/docs/api/javax/swing/BoxLayout.html","title":"Java - JLabel wont add when in a while loop","body":"<p>First of, you need to structure your code in a better way. Secondly, it is better to use a swing container where the text (<code>JLabel</code>) will be added. Below <a href=\"https://docs.oracle.com/javase/7/docs/api/javax/swing/Box.html\" rel=\"nofollow noreferrer\">Box</a> is used, which is a container that uses <a href=\"https://docs.oracle.com/javase/7/docs/api/javax/swing/BoxLayout.html\" rel=\"nofollow noreferrer\">BoxLayout</a> as its layout manager, allowing multiple components (<code>JLabels</code> in your case) to be laid out either vertically (<code>Y_AXIS</code>) or horizontally (<code>X_AXIS</code>). You can then use <code>JScrollPane</code> to provide a scrollable view of the Box component, and add that JScrollPane instance to your frame. Every time you add a new text, you add it to the Box instance, and then you call <code>repaint();</code> and <code>revalidate();</code> on your frame for the text to be shown. If you need only the last text to be shown on the window (and not every text you have added), then uncomment <code>box.removeAll();</code> as a quick fix. Otherwise, do not use the Box with the JScrollPane, but simply add the label to your frame e.g., <code>myframe.getContentPane().add(lbl, BorderLayout.CENTER);</code>. Again, remember to call <code>myframe.getContentPane().removeAll()</code>; before adding a new JLabel, as well as <code>repaint();</code> and <code>revalidate();</code> afterwards. Working example below:</p>\n<pre><code>import java.awt.*;\nimport javax.swing.*;\nimport java.util.Scanner;\n\npublic class App {\n    Scanner input;\n    JFrame myframe;\n    Box box;\n    JScrollPane scrollPane;\n\n    public App() {\n        input = new Scanner(System.in);\n        box = new Box(BoxLayout.Y_AXIS);\n        scrollPane = new JScrollPane(box);\n        myframe = new JFrame();\n        myframe.getContentPane().add(scrollPane, BorderLayout.CENTER);\n        myframe.setSize(300, 300);\n        myframe.setTitle(&quot;Blank Window&quot;);\n        myframe.setResizable(false);\n        myframe.setLocation(300, 300);\n    }\n\n    public void go() {\n        boolean done = false;\n        boolean winopen = false;\n        System.out.println(&quot;Type commands here. Type 'help' for list of commands.&quot;);\n\n        while (done == false) {\n            System.out.print(&quot;Console &gt; &gt; &gt;  &quot;);\n            String coninput = input.nextLine();\n\n            if (coninput.equals(&quot;window open&quot;)) {\n                System.out.println(&quot;Opening Window...&quot;);\n                System.out.println(&quot;Done!&quot;);\n                winopen = true;\n                myframe.setVisible(true);\n            }\n\n            if (coninput.equals(&quot;window close&quot;)) {\n                System.out.println(&quot;Closing Window...&quot;);\n                winopen = false;\n                myframe.setVisible(false);\n                System.out.println(&quot;Done!&quot;);\n            }\n\n            if (coninput.equals(&quot;exit&quot;)) {\n                System.out.println(&quot;Exiting...&quot;);\n                myframe.dispose();\n                done = true;\n                System.out.println(&quot;Done!&quot;);\n            }\n\n            if (coninput.equals(&quot;help&quot;)) {\n                System.out.println(&quot;Commands: &quot;);\n                System.out.println(&quot;window open: opens a window&quot;);\n                System.out.println(&quot;window close: closes the open window&quot;);\n                System.out.println(&quot;exit: shuts down the program&quot;);\n                System.out.println(&quot;help: lists commands&quot;);\n            }\n\n            if (coninput.equals(&quot;change text&quot;) &amp;&amp; winopen == true) {\n                System.out.print(&quot;What do you want the text to say &gt; &gt; &gt; &quot;);\n                JLabel lbl = new JLabel(input.nextLine());\n                System.out.println(&quot;Adding...&quot;);\n                // box.removeAll();\n                box.add(lbl);\n                myframe.repaint();\n                myframe.revalidate();\n                Rectangle bounds = lbl.getBounds();\n                scrollPane.getViewport().scrollRectToVisible(bounds);// scroll to the new text\n            }\n\n            if (coninput.equals(&quot;change text&quot;) &amp;&amp; winopen == false) {\n                System.out.print(&quot;You have to have a window open.&quot;);\n            }\n\n        }\n    }\n\n    public static void main(String[] args) {\n        new App().go();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":24040867,"reputation":13,"user_id":18020569,"display_name":"Cruze Clevenger"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70849374,"answer_count":1,"score":1,"last_activity_date":1643116974,"creation_date":1643049229,"question_id":70838760,"body_markdown":"I am making a GUI Console with Java and Swing. It calls on the scanner to input text, then puts that text into a variable to give to the JFrame. The bolded code is the code in question. \r\n\r\nThe code works, but when you type in &quot;change text&quot;, after putting in the required input, it does not add the JLabel to the JFrame.\r\n\r\nPlease Help! Thanks!\r\n\r\n\r\n    //prepare all imports\r\n\r\n    Random rand = new Random();\r\n\r\n    Scanner input = new Scanner(System.in);\r\n\r\n    JFrame myframe = new JFrame();\r\n    \r\n    myframe.setSize(300, 300);\r\n    myframe.setTitle(&quot;Blank Window&quot;);\r\n    myframe.setResizable(false);\r\n    myframe.setLocation(300,300);\r\n\r\n\r\n    //*******************************************\r\n\r\n    boolean done = false;\r\n    boolean winopen = false;\r\n\r\n    System.out.println(&quot;Type commands here. Type &#39;help&#39; for list of commands.&quot;);\r\n\r\n\r\n    while (done == false) {\r\n\r\n      System.out.print(&quot;Console &gt; &gt; &gt;  &quot;);  \r\n\r\n      String coninput = input.nextLine();\r\n\r\n      if (coninput.equals(&quot;window open&quot;)) {\r\n        System.out.println(&quot;Opening Window...&quot;);\r\n        System.out.println(&quot;Done!&quot;);\r\n\r\n        winopen = true;\r\n\r\n        myframe.setVisible(true);\r\n      }\r\n\r\n      if (coninput.equals(&quot;window close&quot;)) {\r\n        System.out.println(&quot;Closing Window...&quot;);\r\n\r\n        winopen = false;\r\n\r\n        myframe.setVisible(false);\r\n        System.out.println(&quot;Done!&quot;);\r\n      }\r\n\r\n      if (coninput.equals(&quot;exit&quot;)) {\r\n        System.out.println(&quot;Exiting...&quot;);\r\n        myframe.dispose();\r\n        done = true;\r\n        System.out.println(&quot;Done!&quot;);\r\n      }\r\n\r\n      if (coninput.equals(&quot;help&quot;)) {\r\n        System.out.println(&quot;Commands: &quot;);\r\n        System.out.println(&quot;window open: opens a window&quot;);\r\n        System.out.println(&quot;window close: closes the open window&quot;);\r\n        System.out.println(&quot;exit: shuts down the program&quot;);\r\n        System.out.println(&quot;help: lists commands&quot;);\r\n        //System.out.println(&quot;&quot;);\r\n        //System.out.println(&quot;&quot;);\r\n        //System.out.println(&quot;&quot;);\r\n      }\r\n\r\n      **if (coninput.equals(&quot;change text&quot;) &amp;&amp; winopen == true) {\r\n        System.out.print(&quot;What do you want the text to say &gt; &gt; &gt; &quot;);\r\n        JLabel text1 = new JLabel(input.nextLine());\r\n        System.out.println(&quot;Adding...&quot;);\r\n        myframe.add(text1);\r\n      }**\r\n\r\n\r\n\r\n      if (coninput.equals(&quot;change text&quot;) &amp;&amp; winopen == false) {\r\n        System.out.print(&quot;You have to have a window open.&quot;);\r\n      }\r\n\r\n    }\r\n\r\n    \r\n\r\n\r\n  }\r\n}","title":"Java - JLabel wont add when in a while loop","body":"<p>I am making a GUI Console with Java and Swing. It calls on the scanner to input text, then puts that text into a variable to give to the JFrame. The bolded code is the code in question.</p>\n<p>The code works, but when you type in &quot;change text&quot;, after putting in the required input, it does not add the JLabel to the JFrame.</p>\n<p>Please Help! Thanks!</p>\n<pre><code>//prepare all imports\n\nRandom rand = new Random();\n\nScanner input = new Scanner(System.in);\n\nJFrame myframe = new JFrame();\n\nmyframe.setSize(300, 300);\nmyframe.setTitle(&quot;Blank Window&quot;);\nmyframe.setResizable(false);\nmyframe.setLocation(300,300);\n\n\n//*******************************************\n\nboolean done = false;\nboolean winopen = false;\n\nSystem.out.println(&quot;Type commands here. Type 'help' for list of commands.&quot;);\n\n\nwhile (done == false) {\n\n  System.out.print(&quot;Console &gt; &gt; &gt;  &quot;);  \n\n  String coninput = input.nextLine();\n\n  if (coninput.equals(&quot;window open&quot;)) {\n    System.out.println(&quot;Opening Window...&quot;);\n    System.out.println(&quot;Done!&quot;);\n\n    winopen = true;\n\n    myframe.setVisible(true);\n  }\n\n  if (coninput.equals(&quot;window close&quot;)) {\n    System.out.println(&quot;Closing Window...&quot;);\n\n    winopen = false;\n\n    myframe.setVisible(false);\n    System.out.println(&quot;Done!&quot;);\n  }\n\n  if (coninput.equals(&quot;exit&quot;)) {\n    System.out.println(&quot;Exiting...&quot;);\n    myframe.dispose();\n    done = true;\n    System.out.println(&quot;Done!&quot;);\n  }\n\n  if (coninput.equals(&quot;help&quot;)) {\n    System.out.println(&quot;Commands: &quot;);\n    System.out.println(&quot;window open: opens a window&quot;);\n    System.out.println(&quot;window close: closes the open window&quot;);\n    System.out.println(&quot;exit: shuts down the program&quot;);\n    System.out.println(&quot;help: lists commands&quot;);\n    //System.out.println(&quot;&quot;);\n    //System.out.println(&quot;&quot;);\n    //System.out.println(&quot;&quot;);\n  }\n\n  **if (coninput.equals(&quot;change text&quot;) &amp;&amp; winopen == true) {\n    System.out.print(&quot;What do you want the text to say &gt; &gt; &gt; &quot;);\n    JLabel text1 = new JLabel(input.nextLine());\n    System.out.println(&quot;Adding...&quot;);\n    myframe.add(text1);\n  }**\n\n\n\n  if (coninput.equals(&quot;change text&quot;) &amp;&amp; winopen == false) {\n    System.out.print(&quot;You have to have a window open.&quot;);\n  }\n\n}\n</code></pre>\n<p>}\n}</p>\n"},{"tags":["java","swagger","swagger-ui","springfox"],"answers":[{"tags":[],"owner":{"account_id":3505597,"reputation":768,"user_id":2931195,"display_name":"user2931195"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643116768,"creation_date":1643116768,"answer_id":70849331,"question_id":58736351,"body_markdown":"We created a inherited annotation and used that :\r\n\r\n\r\n     @Target({ElementType.METHOD, ElementType.ANNOTATION_TYPE, ElementType.TYPE})\r\n    @Retention(RetentionPolicy.RUNTIME)\r\n    @Inherited\r\n    @ApiImplicitParams({\r\n    \t@ApiImplicitParam(name = &quot;page&quot;,  dataTypeClass = int.class,defaultValue = &quot;0&quot;, example = &quot;0&quot;, paramType = &quot;query&quot;, value = &quot;Results page you want to retrieve (0..N)&quot;),\r\n    \t@ApiImplicitParam(name = &quot;size&quot;, dataTypeClass = int.class ,example = &quot;10&quot;, paramType = &quot;query&quot;, value = &quot;Number of records per page.&quot;),\r\n    \t@ApiImplicitParam(name = &quot;sort&quot;, allowMultiple = true, dataTypeClass=String.class, paramType = &quot;query&quot;, value = &quot;Sorting criteria in the format: property(,asc|desc). &quot;\r\n    \t\t\t+ &quot;Default sort order is ascending. &quot; + &quot;Multiple sort criteria are supported.&quot;)  \r\n    })\r\n    public @interface ApiPagingParams {\r\n    \r\n    }\r\n\r\n\r\nusage \r\n\r\n\r\n\t@ApiPagingParams\r\n\t@ResponseStatus(HttpStatus.OK)\r\n\t@GetMapping(&quot;/entity&quot;) \r\n\tResponseEntity&lt;Page&lt;...&gt;&gt; getSurveyEntityList(@ApiIgnore(&quot;see @ApiPagingParams&quot;) @PageableDefault(page = 0, size = 10) Pageable pageable,...)\r\n\r\n","title":"Spring REST Pageable / Query Parameters in Swagger","body":"<p>We created a inherited annotation and used that :</p>\n<pre><code> @Target({ElementType.METHOD, ElementType.ANNOTATION_TYPE, ElementType.TYPE})\n@Retention(RetentionPolicy.RUNTIME)\n@Inherited\n@ApiImplicitParams({\n    @ApiImplicitParam(name = &quot;page&quot;,  dataTypeClass = int.class,defaultValue = &quot;0&quot;, example = &quot;0&quot;, paramType = &quot;query&quot;, value = &quot;Results page you want to retrieve (0..N)&quot;),\n    @ApiImplicitParam(name = &quot;size&quot;, dataTypeClass = int.class ,example = &quot;10&quot;, paramType = &quot;query&quot;, value = &quot;Number of records per page.&quot;),\n    @ApiImplicitParam(name = &quot;sort&quot;, allowMultiple = true, dataTypeClass=String.class, paramType = &quot;query&quot;, value = &quot;Sorting criteria in the format: property(,asc|desc). &quot;\n            + &quot;Default sort order is ascending. &quot; + &quot;Multiple sort criteria are supported.&quot;)  \n})\npublic @interface ApiPagingParams {\n\n}\n</code></pre>\n<p>usage</p>\n<pre><code>@ApiPagingParams\n@ResponseStatus(HttpStatus.OK)\n@GetMapping(&quot;/entity&quot;) \nResponseEntity&lt;Page&lt;...&gt;&gt; getSurveyEntityList(@ApiIgnore(&quot;see @ApiPagingParams&quot;) @PageableDefault(page = 0, size = 10) Pageable pageable,...)\n</code></pre>\n"}],"owner":{"account_id":6460997,"reputation":7359,"user_id":5004822,"accept_rate":41,"display_name":"SledgeHammer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2188,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1643116768,"creation_date":1573064544,"question_id":58736351,"body_markdown":"I&#39;m trying to implement paging in my REST service.\r\n\r\nTAKE 1:\r\n\r\n    public Page&lt;Item&gt; getPagedItems(Pageable pageable)\r\n\r\nThis is a known bug in SpringFox / Swagger where the Swagger page shows the wrong parameter names. Plus, I just want page &amp; size options.\r\n\r\nTAKE 2:\r\n\r\n    public Page&lt;Item&gt; getPagedItems(@RequestParam(name=&quot;page&quot;, required=true) int page, @RequestParam(name=&quot;page&quot;, required=true) int size)\r\n\r\nThis gives me the correct params, but it doesn&#39;t let me set the param descriptions or example values.\r\n\r\nTAKE 3:\r\n\r\n\t@ApiImplicitParams({\r\n\t\t@ApiImplicitParam(name=&quot;page&quot;, value=&quot;page description&quot;, required=true, example=&quot;0&quot;, dataType=&quot;int&quot;),\r\n\t\t@ApiImplicitParam(name=&quot;size&quot;, value=&quot;size description&quot;, required=true, example=&quot;10&quot;, dataType=&quot;int&quot;)\r\n\t})\r\n    public Page&lt;Item&gt; getPagedItems(int page, int size)\r\n\r\nThis has yet ANOTHER bug where example=&quot;0&quot; doesn&#39;t work, but every other value except that one works lol. If I change the datatype to String then it&#39;ll display the 0 example value, but then it&#39;ll let you put in anything in the text box. Also tried &quot;0 &quot;, &quot;0.0&quot;, &quot;0\\0&quot;, etc. Stuff like that.\r\n\r\nIf I don&#39;t set examples, then Springfox throws an exception complaining about no examples lol. The closest thing I can do is put 0 for both with both blank. Ugh. Having 0 / 10 isn&#39;t a good option since the 0 doesn&#39;t work, but the 10 does.\r\n\r\nAny idea how to get an example of 0 to work? Spring Fox doesn&#39;t seem to be too well supported, even for open source, so no response on GitHub.\r\n\r\nOr some other way of having an example AND description?\r\n","title":"Spring REST Pageable / Query Parameters in Swagger","body":"<p>I'm trying to implement paging in my REST service.</p>\n\n<p>TAKE 1:</p>\n\n<pre><code>public Page&lt;Item&gt; getPagedItems(Pageable pageable)\n</code></pre>\n\n<p>This is a known bug in SpringFox / Swagger where the Swagger page shows the wrong parameter names. Plus, I just want page &amp; size options.</p>\n\n<p>TAKE 2:</p>\n\n<pre><code>public Page&lt;Item&gt; getPagedItems(@RequestParam(name=\"page\", required=true) int page, @RequestParam(name=\"page\", required=true) int size)\n</code></pre>\n\n<p>This gives me the correct params, but it doesn't let me set the param descriptions or example values.</p>\n\n<p>TAKE 3:</p>\n\n<pre><code>@ApiImplicitParams({\n    @ApiImplicitParam(name=\"page\", value=\"page description\", required=true, example=\"0\", dataType=\"int\"),\n    @ApiImplicitParam(name=\"size\", value=\"size description\", required=true, example=\"10\", dataType=\"int\")\n})\npublic Page&lt;Item&gt; getPagedItems(int page, int size)\n</code></pre>\n\n<p>This has yet ANOTHER bug where example=\"0\" doesn't work, but every other value except that one works lol. If I change the datatype to String then it'll display the 0 example value, but then it'll let you put in anything in the text box. Also tried \"0 \", \"0.0\", \"0\\0\", etc. Stuff like that.</p>\n\n<p>If I don't set examples, then Springfox throws an exception complaining about no examples lol. The closest thing I can do is put 0 for both with both blank. Ugh. Having 0 / 10 isn't a good option since the 0 doesn't work, but the 10 does.</p>\n\n<p>Any idea how to get an example of 0 to work? Spring Fox doesn't seem to be too well supported, even for open source, so no response on GitHub.</p>\n\n<p>Or some other way of having an example AND description?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":24049055,"reputation":1,"user_id":18027752,"display_name":"kenluffy32"},"score":0,"creation_date":1643116362,"post_id":70848663,"comment_id":125249612,"body_markdown":"I&#39;m trying to import data on jtable","body":"I&#39;m trying to import data on jtable"},{"owner":{"account_id":9537825,"reputation":1490,"user_id":7275056,"display_name":"vsfDawg"},"score":0,"creation_date":1643119089,"post_id":70848663,"comment_id":125250767,"body_markdown":"The exception message indicates that you are trying to cast an instance of `javax.swing.table.DefaultTableModel` to a type with the same name but a different package(`Sample$DefaultTableModel`).  Check your class imports to make sure you are importing the correct type.  If you need to work with both types in this class then you&#39;ll need to handle one (or both) by fully qualified type name.","body":"The exception message indicates that you are trying to cast an instance of <code>javax.swing.table.DefaultTableModel</code> to a type with the same name but a different package(<code>Sample$DefaultTableModel</code>).  Check your class imports to make sure you are importing the correct type.  If you need to work with both types in this class then you&#39;ll need to handle one (or both) by fully qualified type name."}],"answers":[{"tags":[],"owner":{"account_id":9463219,"reputation":9357,"user_id":7036419,"display_name":"Maurice Perry"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643116741,"creation_date":1643116741,"answer_id":70849320,"question_id":70848663,"body_markdown":"It seams you have declared a class (or interface) `DefaultTableModel` inside a class `Sample` and you must have imported that class instead of `javax.swing.table.DefaultTableModel`.","title":"Java DefaultTableModel","body":"<p>It seams you have declared a class (or interface) <code>DefaultTableModel</code> inside a class <code>Sample</code> and you must have imported that class instead of <code>javax.swing.table.DefaultTableModel</code>.</p>\n"}],"owner":{"account_id":24049055,"reputation":1,"user_id":18027752,"display_name":"kenluffy32"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":118,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1643116741,"creation_date":1643113789,"question_id":70848663,"body_markdown":" \r\n\r\n    private void jButton2ActionPerformed(java.awt.event.ActionEvent evt) {\r\n\r\n        DefaultTableModel Samplemodel = (DefaultTableModel) jTable1.getModel();\r\n        Samplemodel.setRowCount(0);\r\n\r\n\r\n        FileInputStream excelFIS = null;\r\n        BufferedInputStream excelBIS = null;\r\n        XSSFWorkbook excelImportWorkBook = null;\r\n\r\n        String defaultCurrentDirectoryPath = &quot;D:\\\\Downloads&quot;;\r\n        JFileChooser excelFileChooser = new JFileChooser(defaultCurrentDirectoryPath);\r\n        excelFileChooser.setDialogTitle(&quot;Select Excel File&quot;);\r\n        FileNameExtensionFilter dist = new FileNameExtensionFilter(&quot;EXCEL FILES&quot;, &quot;xls&quot;, &quot;xlsx&quot;, &quot;xlsm&quot;);\r\n        excelFileChooser.setFileFilter(dist);\r\n        int excelChooser = excelFileChooser.showOpenDialog(null);\r\n        if (excelChooser == JFileChooser.APPROVE_OPTION) {\r\n            try {\r\n                File excelFile = excelFileChooser.getSelectedFile();\r\n                excelFIS = new FileInputStream(excelFile);\r\n                excelBIS = new BufferedInputStream(excelFIS);\r\n                excelImportWorkBook = new XSSFWorkbook(excelBIS);\r\n                XSSFSheet excelSheet = excelImportWorkBook.getSheetAt(0);\r\n\r\n                for (int i = 0; i &lt; excelSheet.getLastRowNum(); i++) {\r\n                    XSSFRow excelRow = excelSheet.getRow(i);\r\n\r\n                    XSSFCell excelStudentID = excelRow.getCell(0);\r\n                    XSSFCell excelStudentName = excelRow.getCell(1);\r\n                    XSSFCell excelCourse = excelRow.getCell(2);\r\n                    XSSFCell excelYearLevel = excelRow.getCell(3);\r\n                    XSSFCell excelContactNumber = excelRow.getCell(4);\r\n                    XSSFCell excelBalance = excelRow.getCell(5);\r\n\r\n\r\n                    Samplemodel.addRow(new Object[] {\r\n                        excelStudentID,\r\n                        excelStudentName,\r\n                        excelCourse,\r\n                        excelYearLevel,\r\n                        excelContactNumber,\r\n                        excelBalance\r\n                    });\r\n\r\n\r\n\r\n                }\r\n                JOptionPane.showMessageDialog(null, &quot;Your Excel File is successfully Imported&quot;);\r\n\r\n            } catch (IOException ex) {\r\n                Logger.getLogger(Sample.class.getName()).log(Level.SEVERE, null, ex);\r\n            }\r\n        }\r\n\r\n    }\r\n                      \r\n\r\nThe error is: \r\n\r\n&gt;  Exception in thread &quot;AWT-EventQueue-0&quot; java.lang.ClassCastException: class\r\n&gt; javax.swing.table.DefaultTableModel cannot be cast to class\r\n&gt; Sample$DefaultTableModel (javax.swing.table.DefaultTableModel is in\r\n&gt; module java.desktop of loader &#39;bootstrap&#39;; Sample$DefaultTableModel is\r\n&gt; in unnamed module of loader &#39;app&#39;)\r\n\r\n ","title":"Java DefaultTableModel","body":"<pre><code>private void jButton2ActionPerformed(java.awt.event.ActionEvent evt) {\n\n    DefaultTableModel Samplemodel = (DefaultTableModel) jTable1.getModel();\n    Samplemodel.setRowCount(0);\n\n\n    FileInputStream excelFIS = null;\n    BufferedInputStream excelBIS = null;\n    XSSFWorkbook excelImportWorkBook = null;\n\n    String defaultCurrentDirectoryPath = &quot;D:\\\\Downloads&quot;;\n    JFileChooser excelFileChooser = new JFileChooser(defaultCurrentDirectoryPath);\n    excelFileChooser.setDialogTitle(&quot;Select Excel File&quot;);\n    FileNameExtensionFilter dist = new FileNameExtensionFilter(&quot;EXCEL FILES&quot;, &quot;xls&quot;, &quot;xlsx&quot;, &quot;xlsm&quot;);\n    excelFileChooser.setFileFilter(dist);\n    int excelChooser = excelFileChooser.showOpenDialog(null);\n    if (excelChooser == JFileChooser.APPROVE_OPTION) {\n        try {\n            File excelFile = excelFileChooser.getSelectedFile();\n            excelFIS = new FileInputStream(excelFile);\n            excelBIS = new BufferedInputStream(excelFIS);\n            excelImportWorkBook = new XSSFWorkbook(excelBIS);\n            XSSFSheet excelSheet = excelImportWorkBook.getSheetAt(0);\n\n            for (int i = 0; i &lt; excelSheet.getLastRowNum(); i++) {\n                XSSFRow excelRow = excelSheet.getRow(i);\n\n                XSSFCell excelStudentID = excelRow.getCell(0);\n                XSSFCell excelStudentName = excelRow.getCell(1);\n                XSSFCell excelCourse = excelRow.getCell(2);\n                XSSFCell excelYearLevel = excelRow.getCell(3);\n                XSSFCell excelContactNumber = excelRow.getCell(4);\n                XSSFCell excelBalance = excelRow.getCell(5);\n\n\n                Samplemodel.addRow(new Object[] {\n                    excelStudentID,\n                    excelStudentName,\n                    excelCourse,\n                    excelYearLevel,\n                    excelContactNumber,\n                    excelBalance\n                });\n\n\n\n            }\n            JOptionPane.showMessageDialog(null, &quot;Your Excel File is successfully Imported&quot;);\n\n        } catch (IOException ex) {\n            Logger.getLogger(Sample.class.getName()).log(Level.SEVERE, null, ex);\n        }\n    }\n\n}\n                  \n</code></pre>\n<p>The error is:</p>\n<blockquote>\n<p>Exception in thread &quot;AWT-EventQueue-0&quot; java.lang.ClassCastException: class\njavax.swing.table.DefaultTableModel cannot be cast to class\nSample$DefaultTableModel (javax.swing.table.DefaultTableModel is in\nmodule java.desktop of loader 'bootstrap'; Sample$DefaultTableModel is\nin unnamed module of loader 'app')</p>\n</blockquote>\n"},{"tags":["java","spring-boot","maven","executable-jar","packaging"],"answers":[{"tags":[],"owner":{"account_id":4703069,"reputation":101,"user_id":3806113,"display_name":"Stefan Bratanov"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1643113694,"creation_date":1643112029,"answer_id":70848301,"question_id":70848232,"body_markdown":"In the parent, you have specified\r\n\r\n```\r\n&lt;packaging&gt;pom&lt;/packaging&gt;\r\n```\r\n\r\nThat means that the primary artifact will not be a jar, but the pom.xml itself.\r\n\r\nWhen working with submodules, the parent module will not generate a jar, since the packaging is supposed to be a pom.","title":"Cannot produce single project jar file (Spring Boot)","body":"<p>In the parent, you have specified</p>\n<pre><code>&lt;packaging&gt;pom&lt;/packaging&gt;\n</code></pre>\n<p>That means that the primary artifact will not be a jar, but the pom.xml itself.</p>\n<p>When working with submodules, the parent module will not generate a jar, since the packaging is supposed to be a pom.</p>\n"}],"owner":{"account_id":3460362,"reputation":752,"user_id":2897683,"accept_rate":93,"display_name":"thahgr"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":547,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1643116046,"creation_date":1643111718,"question_id":70848232,"body_markdown":"I am trying to follow [this][1] tutorial for Docker and postgres with Spring boot in order to create a docker container, but I cannot create a single project jar file. App runs fine with maven and intellij, just cant package it. \r\n\r\nMy project is as follows 3 modules each with pom.xml, and one parent pom.xml to organize them. `@SpringBootApplication` is only one and exists only on the module where also the build with maven is located. \r\n\r\n    &lt;build&gt;\r\n    &lt;plugins&gt;\r\n      &lt;plugin&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n      &lt;/plugin&gt;\r\n    &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\nAn overview of the pom.xml files\r\n\r\nparent\r\n\r\n    &lt;?xml version....&gt;\r\n    &lt;project....&gt;\r\n    \r\n    \t&lt;groupId&gt;eu.company&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;myProject&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;name&gt;myProject&lt;/name&gt;\r\n    \r\n    \r\n    \t&lt;properties&gt;\r\n    .....\r\n    \t&lt;/properties&gt;\r\n    \r\n    \t&lt;parent&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;2.6.2&lt;/version&gt;\r\n    \t\t&lt;relativePath/&gt; \r\n    \t&lt;/parent&gt;\r\n    \r\n    \t&lt;modules&gt;\r\n    \t\t&lt;module&gt;core&lt;/module&gt;\r\n    \t\t&lt;module&gt;web&lt;/module&gt;\r\n            &lt;module&gt;key&lt;/module&gt;\r\n      &lt;/modules&gt;\r\n    \t&lt;packaging&gt;pom&lt;/packaging&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\ncore \r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project... &gt;\r\n      &lt;parent&gt;\r\n        &lt;artifactId&gt;myProject&lt;/artifactId&gt;\r\n        &lt;groupId&gt;eu.company&lt;/groupId&gt;\r\n        &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n      &lt;/parent&gt;\r\n      &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n      &lt;artifactId&gt;core&lt;/artifactId&gt;\r\n    \r\n      &lt;dependencies&gt;\r\n    ... jpa, h2, etc etc\r\n      &lt;/dependencies&gt;\r\n    &lt;/project&gt;\r\n\r\n\r\nweb (where the @SpringBootApplication exists)\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project....&gt;\r\n      &lt;parent&gt;\r\n        &lt;artifactId&gt;myProject&lt;/artifactId&gt;\r\n        &lt;groupId&gt;eu.company&lt;/groupId&gt;\r\n        &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n      &lt;/parent&gt;\r\n      &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n      &lt;artifactId&gt;web&lt;/artifactId&gt;\r\n    \r\n      &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;eu.company&lt;/groupId&gt;\r\n          &lt;artifactId&gt;core&lt;/artifactId&gt;\r\n          &lt;version&gt;${project.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;eu.company&lt;/groupId&gt;\r\n          &lt;artifactId&gt;key&lt;/artifactId&gt;\r\n          &lt;version&gt;${project.version}&lt;/version&gt;\r\n          &lt;scope&gt;compile&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n          &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n    ......\r\n    etc etc \r\n      &lt;/dependencies&gt;\r\n    \r\n      &lt;dependencyManagement&gt;\r\n        &lt;dependencies&gt;\r\n          &lt;dependency&gt;\r\n            &lt;groupId&gt;org.keycloak.bom&lt;/groupId&gt;\r\n            &lt;artifactId&gt;keycloak-adapter-bom&lt;/artifactId&gt;\r\n            &lt;version&gt;${keycloak-bom.version}&lt;/version&gt;\r\n            &lt;type&gt;pom&lt;/type&gt;\r\n            &lt;scope&gt;import&lt;/scope&gt;\r\n          &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n      &lt;/dependencyManagement&gt;\r\n    \r\n      &lt;build&gt;\r\n        &lt;plugins&gt;\r\n          &lt;plugin&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n          &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n      &lt;/build&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\nThe files produced are only 3 jars for each submodule, but no parent.\r\nThe same happens if I run from maven inside intellij, mvn installed, mvnw. \r\n\r\n      find . -name &#39;*.jar&#39;\r\n    ./.mvn/wrapper/maven-wrapper.jar\r\n    ./core/target/core-0.0.1-SNAPSHOT.jar\r\n    ./key/target/key-0.0.1-SNAPSHOT.jar\r\n    ./web/target/web-0.0.1-SNAPSHOT.jar\r\n\r\n\r\nWhat am I missing here ?? \r\n\r\nIf you need some extra info or code just comment so I can edit. \r\n\r\n\r\n\r\n  [1]: https://www.baeldung.com/spring-boot-postgresql-docker","title":"Cannot produce single project jar file (Spring Boot)","body":"<p>I am trying to follow <a href=\"https://www.baeldung.com/spring-boot-postgresql-docker\" rel=\"nofollow noreferrer\">this</a> tutorial for Docker and postgres with Spring boot in order to create a docker container, but I cannot create a single project jar file. App runs fine with maven and intellij, just cant package it.</p>\n<p>My project is as follows 3 modules each with pom.xml, and one parent pom.xml to organize them. <code>@SpringBootApplication</code> is only one and exists only on the module where also the build with maven is located.</p>\n<pre><code>&lt;build&gt;\n&lt;plugins&gt;\n  &lt;plugin&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n  &lt;/plugin&gt;\n&lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n<p>An overview of the pom.xml files</p>\n<p>parent</p>\n<pre><code>&lt;?xml version....&gt;\n&lt;project....&gt;\n\n    &lt;groupId&gt;eu.company&lt;/groupId&gt;\n    &lt;artifactId&gt;myProject&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;myProject&lt;/name&gt;\n\n\n    &lt;properties&gt;\n.....\n    &lt;/properties&gt;\n\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.6.2&lt;/version&gt;\n        &lt;relativePath/&gt; \n    &lt;/parent&gt;\n\n    &lt;modules&gt;\n        &lt;module&gt;core&lt;/module&gt;\n        &lt;module&gt;web&lt;/module&gt;\n        &lt;module&gt;key&lt;/module&gt;\n  &lt;/modules&gt;\n    &lt;packaging&gt;pom&lt;/packaging&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>core</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project... &gt;\n  &lt;parent&gt;\n    &lt;artifactId&gt;myProject&lt;/artifactId&gt;\n    &lt;groupId&gt;eu.company&lt;/groupId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n  &lt;/parent&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n  &lt;artifactId&gt;core&lt;/artifactId&gt;\n\n  &lt;dependencies&gt;\n... jpa, h2, etc etc\n  &lt;/dependencies&gt;\n&lt;/project&gt;\n</code></pre>\n<p>web (where the @SpringBootApplication exists)</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project....&gt;\n  &lt;parent&gt;\n    &lt;artifactId&gt;myProject&lt;/artifactId&gt;\n    &lt;groupId&gt;eu.company&lt;/groupId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n  &lt;/parent&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n  &lt;artifactId&gt;web&lt;/artifactId&gt;\n\n  &lt;dependencies&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;eu.company&lt;/groupId&gt;\n      &lt;artifactId&gt;core&lt;/artifactId&gt;\n      &lt;version&gt;${project.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;eu.company&lt;/groupId&gt;\n      &lt;artifactId&gt;key&lt;/artifactId&gt;\n      &lt;version&gt;${project.version}&lt;/version&gt;\n      &lt;scope&gt;compile&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n......\netc etc \n  &lt;/dependencies&gt;\n\n  &lt;dependencyManagement&gt;\n    &lt;dependencies&gt;\n      &lt;dependency&gt;\n        &lt;groupId&gt;org.keycloak.bom&lt;/groupId&gt;\n        &lt;artifactId&gt;keycloak-adapter-bom&lt;/artifactId&gt;\n        &lt;version&gt;${keycloak-bom.version}&lt;/version&gt;\n        &lt;type&gt;pom&lt;/type&gt;\n        &lt;scope&gt;import&lt;/scope&gt;\n      &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n  &lt;/dependencyManagement&gt;\n\n  &lt;build&gt;\n    &lt;plugins&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n      &lt;/plugin&gt;\n    &lt;/plugins&gt;\n  &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>The files produced are only 3 jars for each submodule, but no parent.\nThe same happens if I run from maven inside intellij, mvn installed, mvnw.</p>\n<pre><code>  find . -name '*.jar'\n./.mvn/wrapper/maven-wrapper.jar\n./core/target/core-0.0.1-SNAPSHOT.jar\n./key/target/key-0.0.1-SNAPSHOT.jar\n./web/target/web-0.0.1-SNAPSHOT.jar\n</code></pre>\n<p>What am I missing here ??</p>\n<p>If you need some extra info or code just comment so I can edit.</p>\n"},{"tags":["java","spring-boot","graphql"],"comments":[{"owner":{"account_id":16198346,"reputation":212,"user_id":11695367,"display_name":"Feezan Khattak"},"score":0,"creation_date":1643117812,"post_id":70848750,"comment_id":125250195,"body_markdown":"the link above doesn&#39;t show the problem related to solution.","body":"the link above doesn&#39;t show the problem related to solution."}],"owner":{"account_id":17734018,"reputation":21,"user_id":12875849,"display_name":"Adnan Ch"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":349,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1643115907,"creation_date":1643114140,"question_id":70848750,"body_markdown":"I got confused while consuming my graphql api in spring boot. the method which is sending data to another service is;\r\n\r\n    String query = &quot;mutation{\\n&quot; +\r\n            &quot;createEventLog(eventLog: &quot; + logs + &quot;){\\n&quot; +\r\n            &quot;hasError\\n&quot; +\r\n            &quot;}\\n&quot; +\r\n            &quot;}&quot;;\r\n    log.info(&quot;Query: &quot; + query);\r\n    log.info(&quot;Query type, {}&quot;, query.getClass().getSimpleName());\r\n    auditService.sendLogsToGraphQL(query);\r\n\r\nwhile the `logs` is; \r\n\r\n    {  \r\n        &quot;hasError&quot;: false,  \r\n        &quot;message&quot;: &quot;hello there&quot;, \r\n        &quot;sender&quot;: &quot;khattak&quot;, \r\n        &quot;payload&quot;:{ \r\n        &quot;type&quot;: &quot;string&quot;,\r\n        &quot;title&quot;: &quot;Event&quot;,\r\n        &quot;description&quot;: &quot;This is the description of the event log&quot;\r\n        },\r\n        &quot;serviceInfo&quot;:{\r\n            &quot;version&quot;: &quot;v1&quot;,  \r\n            &quot;date&quot;: &quot;Thu, 20 Jan 2022 11:24:17 GMT&quot;,\r\n            &quot;serverStatus&quot;: &quot;UP&quot;,\r\n            &quot;serviceName&quot;: &quot;Identity&quot;\r\n        }\r\n    }\r\n\r\nwhile the `sendLogsToGraphQL` is;\r\n\r\n    public void sendLogsToGraphQL(String logs){\r\n        try {\r\n            restTemplate.postForEntity(&quot;http://localhost:8080/graphql&quot;,\r\n                    logs, Boolean.class);\r\n        }catch (Exception er){\r\n            System.out.println(&quot;error = &quot; + er);\r\n        }\r\n    }\r\nAfter this when run the application, i get the below output. with `406` error, the full error is; \r\n\r\n    2022-01-25 17:04:43.703 INFO 19032 --- [ntContainer#0-1] c.v.AuditConsumeService.engine.Consumer : Query: mutation{\r\n    createEventLog(eventLog: {\r\n    &quot;hasError&quot;: false,\r\n    &quot;message&quot;: &quot;hello there&quot;,\r\n    &quot;sender&quot;: &quot;khattak&quot;,\r\n    &quot;payload&quot;:{\r\n    &quot;type&quot;: &quot;string&quot;,\r\n    &quot;title&quot;: &quot;Event&quot;,\r\n    &quot;description&quot;: &quot;This is the description of the event log&quot;\r\n    },\r\n    &quot;serviceInfo&quot;:{\r\n    &quot;version&quot;: &quot;v1&quot;,\r\n    &quot;date&quot;: &quot;Thu, 20 Jan 2022 11:24:17 GMT&quot;,\r\n    &quot;serverStatus&quot;: &quot;UP&quot;,\r\n    &quot;serviceName&quot;: &quot;Identity&quot;\r\n    }\r\n    }){\r\n    hasError\r\n    }\r\n    }\r\n    2022-01-25 17:04:43.703 INFO 19032 --- [ntContainer#0-1] c.v.AuditConsumeService.engine.Consumer : Query type, String\r\n    error = org.springframework.web.client.HttpClientErrorException$NotAcceptable: 406 : &quot;{&quot;timestamp&quot;:&quot;2022-01-25T12:04:43.786+00:00&quot;,&quot;status&quot;:406,&quot;error&quot;:&quot;Not Acceptable&quot;,&quot;path&quot;:&quot;/graphql&quot;}&quot;\r\n\r\nIn the same way i tried with `webclient` but useless as;\r\n\r\n    public Mono&lt;Object&gt; sendLogsToGraphQL(String body) throws IOException {\r\n        Mono&lt;Object&gt; block = webClient\r\n               .post()\r\n                .uri(&quot;http://localhost:8080/graphql&quot;)//                \r\n                  .bodyValue(BodyInserters.fromValue(body))\r\n               .retrieve()\r\n                .bodyToMono(Object.class);\r\n    \r\n        System.out.println(&quot;Block:: &quot; + block);\r\n        return block;\r\n    }\r\nI also followed the previous asked question by [Feezan khattak][1], but that&#39;s also not working.\r\n\r\n**Thanks for the Answer in Advance :)**\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/70823774/using-webclient-to-call-the-grapql-mutation-api-in-spring-boot","title":"Consume Grapql mutation API in spring boot using RestTemaplate or WebClient","body":"<p>I got confused while consuming my graphql api in spring boot. the method which is sending data to another service is;</p>\n<pre><code>String query = &quot;mutation{\\n&quot; +\n        &quot;createEventLog(eventLog: &quot; + logs + &quot;){\\n&quot; +\n        &quot;hasError\\n&quot; +\n        &quot;}\\n&quot; +\n        &quot;}&quot;;\nlog.info(&quot;Query: &quot; + query);\nlog.info(&quot;Query type, {}&quot;, query.getClass().getSimpleName());\nauditService.sendLogsToGraphQL(query);\n</code></pre>\n<p>while the <code>logs</code> is;</p>\n<pre><code>{  \n    &quot;hasError&quot;: false,  \n    &quot;message&quot;: &quot;hello there&quot;, \n    &quot;sender&quot;: &quot;khattak&quot;, \n    &quot;payload&quot;:{ \n    &quot;type&quot;: &quot;string&quot;,\n    &quot;title&quot;: &quot;Event&quot;,\n    &quot;description&quot;: &quot;This is the description of the event log&quot;\n    },\n    &quot;serviceInfo&quot;:{\n        &quot;version&quot;: &quot;v1&quot;,  \n        &quot;date&quot;: &quot;Thu, 20 Jan 2022 11:24:17 GMT&quot;,\n        &quot;serverStatus&quot;: &quot;UP&quot;,\n        &quot;serviceName&quot;: &quot;Identity&quot;\n    }\n}\n</code></pre>\n<p>while the <code>sendLogsToGraphQL</code> is;</p>\n<pre><code>public void sendLogsToGraphQL(String logs){\n    try {\n        restTemplate.postForEntity(&quot;http://localhost:8080/graphql&quot;,\n                logs, Boolean.class);\n    }catch (Exception er){\n        System.out.println(&quot;error = &quot; + er);\n    }\n}\n</code></pre>\n<p>After this when run the application, i get the below output. with <code>406</code> error, the full error is;</p>\n<pre><code>2022-01-25 17:04:43.703 INFO 19032 --- [ntContainer#0-1] c.v.AuditConsumeService.engine.Consumer : Query: mutation{\ncreateEventLog(eventLog: {\n&quot;hasError&quot;: false,\n&quot;message&quot;: &quot;hello there&quot;,\n&quot;sender&quot;: &quot;khattak&quot;,\n&quot;payload&quot;:{\n&quot;type&quot;: &quot;string&quot;,\n&quot;title&quot;: &quot;Event&quot;,\n&quot;description&quot;: &quot;This is the description of the event log&quot;\n},\n&quot;serviceInfo&quot;:{\n&quot;version&quot;: &quot;v1&quot;,\n&quot;date&quot;: &quot;Thu, 20 Jan 2022 11:24:17 GMT&quot;,\n&quot;serverStatus&quot;: &quot;UP&quot;,\n&quot;serviceName&quot;: &quot;Identity&quot;\n}\n}){\nhasError\n}\n}\n2022-01-25 17:04:43.703 INFO 19032 --- [ntContainer#0-1] c.v.AuditConsumeService.engine.Consumer : Query type, String\nerror = org.springframework.web.client.HttpClientErrorException$NotAcceptable: 406 : &quot;{&quot;timestamp&quot;:&quot;2022-01-25T12:04:43.786+00:00&quot;,&quot;status&quot;:406,&quot;error&quot;:&quot;Not Acceptable&quot;,&quot;path&quot;:&quot;/graphql&quot;}&quot;\n</code></pre>\n<p>In the same way i tried with <code>webclient</code> but useless as;</p>\n<pre><code>public Mono&lt;Object&gt; sendLogsToGraphQL(String body) throws IOException {\n    Mono&lt;Object&gt; block = webClient\n           .post()\n            .uri(&quot;http://localhost:8080/graphql&quot;)//                \n              .bodyValue(BodyInserters.fromValue(body))\n           .retrieve()\n            .bodyToMono(Object.class);\n\n    System.out.println(&quot;Block:: &quot; + block);\n    return block;\n}\n</code></pre>\n<p>I also followed the previous asked question by <a href=\"https://stackoverflow.com/questions/70823774/using-webclient-to-call-the-grapql-mutation-api-in-spring-boot\">Feezan khattak</a>, but that's also not working.</p>\n<p><strong>Thanks for the Answer in Advance :)</strong></p>\n"},{"tags":["java","go","verification","ed25519"],"answers":[{"tags":[],"owner":{"account_id":12359353,"reputation":42427,"user_id":9014097,"display_name":"Topaco"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1643115692,"creation_date":1643114304,"answer_id":70848780,"question_id":70847910,"body_markdown":"The Java code does not sign the message *itself*, but *the Base64 encoded* message. \r\n\r\nI suspect that verification fails for you because signed and verified message are different. However, this cannot be answered for sure, since you did not post the content of `payload` on the Go side.\r\n\r\nIn any case, verification is successful if on the Java side the message itself is signed (which is usually the case):\r\n\r\n```java\r\nString input = &quot;...&quot;;\r\nbyte[] payload = input.getBytes(StandardCharsets.UTF_8);\r\n```\r\n\r\nSimilarly, verification is successful if, with unmodified Java code,  the Go side verifies the Base64 encoded message (which would be rather unusual):\r\n\r\n```go\r\ninput := &quot;...&quot;\r\npayload := []byte(base64.StdEncoding.EncodeToString([]byte(input)))\r\n```","title":"ED25519 Verification fails in Golang for payload signed in Java","body":"<p>The Java code does not sign the message <em>itself</em>, but <em>the Base64 encoded</em> message.</p>\n<p>I suspect that verification fails for you because signed and verified message are different. However, this cannot be answered for sure, since you did not post the content of <code>payload</code> on the Go side.</p>\n<p>In any case, verification is successful if on the Java side the message itself is signed (which is usually the case):</p>\n<pre class=\"lang-java prettyprint-override\"><code>String input = &quot;...&quot;;\nbyte[] payload = input.getBytes(StandardCharsets.UTF_8);\n</code></pre>\n<p>Similarly, verification is successful if, with unmodified Java code,  the Go side verifies the Base64 encoded message (which would be rather unusual):</p>\n<pre class=\"lang-golang prettyprint-override\"><code>input := &quot;...&quot;\npayload := []byte(base64.StdEncoding.EncodeToString([]byte(input)))\n</code></pre>\n"}],"owner":{"account_id":199942,"reputation":1629,"user_id":445541,"accept_rate":59,"display_name":"thefrugaldev"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":720,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":70848780,"answer_count":1,"score":0,"last_activity_date":1643115692,"creation_date":1643110371,"question_id":70847910,"body_markdown":"I&#39;ve two separate applications one written in Java and the other in golang. Java application is responsible to generate keypair out of which public key is shared with golang app. Whenever, there&#39;s a need to sign any payload golang app sends a request to Java app and gets the base64 encoded signature in return. This signature needs to be verified using the public key. The verification always fails in golang app. However, I&#39;m able to successfully verify in Java app. Verification in golang works if key generation and signing the payload is also done using golang.\r\n\r\nFor Java, I&#39;m using Bouncy Castle library and for golang using package https://pkg.go.dev/crypto/ed25519. \r\n\r\n**Generate Key**\r\n```\r\nEd25519KeyPairGenerator keyPairGenerator = new Ed25519KeyPairGenerator();\r\nkeyPairGenerator.init(new Ed25519KeyGenerationParameters(new SecureRandom()));\r\nAsymmetricCipherKeyPair asymmetricCipherKeyPair = keyPairGenerator.generateKeyPair();\r\nEd25519PrivateKeyParameters privateKey = (Ed25519PrivateKeyParameters) asymmetricCipherKeyPair.getPrivate();\r\nEd25519PublicKeyParameters publicKey = (Ed25519PublicKeyParameters) asymmetricCipherKeyPair.getPublic();\r\nString privateKey = Base64.getEncoder().encodeToString(privateKey.getEncoded());\r\nString publicKey = Base64.getEncoder().encodeToString(publicKey.getEncoded());\r\n```\r\n\r\n**Sign Payload**\r\n```\r\nbyte[] privateKeyContent = Base64.getDecoder().decode(privateKeyInfo);\r\nEd25519PrivateKeyParameters privateKeyParameters = new Ed25519PrivateKeyParameters(privateKeyContent, 0);\r\n\r\nbyte[] payload = Base64.getEncoder().encode(input.getBytes(StandardCharsets.UTF_8));\r\nSigner signer = new Ed25519Signer();\r\nsigner.init(true, privateKeyParameters);\r\nsigner.update(payload, 0, payload.length);\r\nbyte[] signature = signer.generateSignature();\r\nString encodedSignature = Base64.getEncoder().encodeToString(signature);\r\n```\r\n\r\n**Golang Verify Signature**\r\n```\r\nfunc verifySignature(payload []byte, publicKeyStr string, signatureStr string) {\r\n\tpublicKey, error := base64.StdEncoding.DecodeString(publicKeyStr)\r\n\tif error != nil {\r\n\t\tfmt.Println(error)\r\n\t} else {\r\n\t\tsignature, error := base64.StdEncoding.DecodeString(signatureStr)\r\n\t\tif error != nil {\r\n\t\t\tfmt.Println(error)\r\n\t\t} else {\r\n\t\t\tisVerified := ed25519.Verify(publicKey, payload, signature)\r\n\t\t\tfmt.Println(isVerified)\r\n\t\t}\r\n\r\n\t}\r\n}\r\n```","title":"ED25519 Verification fails in Golang for payload signed in Java","body":"<p>I've two separate applications one written in Java and the other in golang. Java application is responsible to generate keypair out of which public key is shared with golang app. Whenever, there's a need to sign any payload golang app sends a request to Java app and gets the base64 encoded signature in return. This signature needs to be verified using the public key. The verification always fails in golang app. However, I'm able to successfully verify in Java app. Verification in golang works if key generation and signing the payload is also done using golang.</p>\n<p>For Java, I'm using Bouncy Castle library and for golang using package <a href=\"https://pkg.go.dev/crypto/ed25519\" rel=\"nofollow noreferrer\">https://pkg.go.dev/crypto/ed25519</a>.</p>\n<p><strong>Generate Key</strong></p>\n<pre><code>Ed25519KeyPairGenerator keyPairGenerator = new Ed25519KeyPairGenerator();\nkeyPairGenerator.init(new Ed25519KeyGenerationParameters(new SecureRandom()));\nAsymmetricCipherKeyPair asymmetricCipherKeyPair = keyPairGenerator.generateKeyPair();\nEd25519PrivateKeyParameters privateKey = (Ed25519PrivateKeyParameters) asymmetricCipherKeyPair.getPrivate();\nEd25519PublicKeyParameters publicKey = (Ed25519PublicKeyParameters) asymmetricCipherKeyPair.getPublic();\nString privateKey = Base64.getEncoder().encodeToString(privateKey.getEncoded());\nString publicKey = Base64.getEncoder().encodeToString(publicKey.getEncoded());\n</code></pre>\n<p><strong>Sign Payload</strong></p>\n<pre><code>byte[] privateKeyContent = Base64.getDecoder().decode(privateKeyInfo);\nEd25519PrivateKeyParameters privateKeyParameters = new Ed25519PrivateKeyParameters(privateKeyContent, 0);\n\nbyte[] payload = Base64.getEncoder().encode(input.getBytes(StandardCharsets.UTF_8));\nSigner signer = new Ed25519Signer();\nsigner.init(true, privateKeyParameters);\nsigner.update(payload, 0, payload.length);\nbyte[] signature = signer.generateSignature();\nString encodedSignature = Base64.getEncoder().encodeToString(signature);\n</code></pre>\n<p><strong>Golang Verify Signature</strong></p>\n<pre><code>func verifySignature(payload []byte, publicKeyStr string, signatureStr string) {\n    publicKey, error := base64.StdEncoding.DecodeString(publicKeyStr)\n    if error != nil {\n        fmt.Println(error)\n    } else {\n        signature, error := base64.StdEncoding.DecodeString(signatureStr)\n        if error != nil {\n            fmt.Println(error)\n        } else {\n            isVerified := ed25519.Verify(publicKey, payload, signature)\n            fmt.Println(isVerified)\n        }\n\n    }\n}\n</code></pre>\n"},{"tags":["java","ldap"],"answers":[{"tags":[],"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1451637601,"creation_date":1451637601,"answer_id":34554700,"question_id":34554274,"body_markdown":"What you need to do to *try* it. Whether or not it supports digest-authentication isn&#39;t a matter of version but of configuration.","title":"How to know the version of ldap using ldap server url","body":"<p>What you need to do to <em>try</em> it. Whether or not it supports digest-authentication isn't a matter of version but of configuration.</p>\n"},{"tags":[],"owner":{"account_id":31959,"reputation":10608,"user_id":88122,"accept_rate":0,"display_name":"jwilleke"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1451765190,"creation_date":1451751499,"answer_id":34567935,"question_id":34554274,"body_markdown":"Query the rootDSE and there **SHOULD** be a value for `supportedLDAPVersion` which indicates the values of this attribute are the versions of the LDAP protocol that the server implements.\r\n\r\nThe `supportedSASLMechanisms` attribute **SHOULD** appear in the RootDSE as well. The values of this attribute are the names of supported SASL mechanisms which the server supports.\r\nIf the server does not support any mechanisms the `supportedSASLMechanisms` attribute will be absent.\r\n\r\n&gt; The misunderstanding is the notion &quot;password sent over the network in\r\n&gt; plain-text&quot; is not secure, when in fact, storing the password in the\r\n&gt; directory server using a salted SHA-2 hash (modern\r\n&gt; professional-quality directory servers have the capability to use\r\n&gt; salted SHA-2 hashes with long digest lengths) and transmitting the\r\n&gt; clear text password over a secure connection is more secure than\r\n&gt; having the directory server store the password in clear text or in a\r\n&gt; reversible encryption scheme. Therefore, SASL with DIGEST-MD5 should\r\n&gt; be avoided. SASL with the EXTERNAL mechanism where the server extracts\r\n&gt; the authentication information from the certificate presented during\r\n&gt; the establishment of the encrypted session is a better alternative.\r\n&gt; Kerberos is also a better alternative. Plain-text over the network is\r\n&gt; also more secure if the server is storing the passwords after hashing\r\n&gt; them with a salted SHA algorithm.\r\n&gt; \r\n&gt; If it is absolutely vital to use SASL with DIGEST-MD5, the directory\r\n&gt; server should be configured to encrypt the passwords with the\r\n&gt; strongest encryption scheme available, which unless I am mistaken, is\r\n&gt; AES. Professional-quality servers can encrypt passwords using AES.\r\n[As provided by Terry Gardner][1] \r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/11881969/how-to-authenticate-to-ldap-using-jndi-and-digest-md5","title":"How to know the version of ldap using ldap server url","body":"<p>Query the rootDSE and there <strong>SHOULD</strong> be a value for <code>supportedLDAPVersion</code> which indicates the values of this attribute are the versions of the LDAP protocol that the server implements.</p>\n\n<p>The <code>supportedSASLMechanisms</code> attribute <strong>SHOULD</strong> appear in the RootDSE as well. The values of this attribute are the names of supported SASL mechanisms which the server supports.\nIf the server does not support any mechanisms the <code>supportedSASLMechanisms</code> attribute will be absent.</p>\n\n<blockquote>\n  <p>The misunderstanding is the notion \"password sent over the network in\n  plain-text\" is not secure, when in fact, storing the password in the\n  directory server using a salted SHA-2 hash (modern\n  professional-quality directory servers have the capability to use\n  salted SHA-2 hashes with long digest lengths) and transmitting the\n  clear text password over a secure connection is more secure than\n  having the directory server store the password in clear text or in a\n  reversible encryption scheme. Therefore, SASL with DIGEST-MD5 should\n  be avoided. SASL with the EXTERNAL mechanism where the server extracts\n  the authentication information from the certificate presented during\n  the establishment of the encrypted session is a better alternative.\n  Kerberos is also a better alternative. Plain-text over the network is\n  also more secure if the server is storing the passwords after hashing\n  them with a salted SHA algorithm.</p>\n  \n  <p>If it is absolutely vital to use SASL with DIGEST-MD5, the directory\n  server should be configured to encrypt the passwords with the\n  strongest encryption scheme available, which unless I am mistaken, is\n  AES. Professional-quality servers can encrypt passwords using AES.\n  <a href=\"https://stackoverflow.com/questions/11881969/how-to-authenticate-to-ldap-using-jndi-and-digest-md5\">As provided by Terry Gardner</a> </p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":3395189,"reputation":1,"user_id":2848999,"display_name":"ZhongweiWang"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643115647,"creation_date":1643115647,"answer_id":70849063,"question_id":34554274,"body_markdown":"if you are using spring-ldap, you can get ldap version with ldaptemplate, like \r\n\r\n    ldapTemplate.getContextSource().getReadOnlyContext().getEnvironment().get(&quot;java.naming.ldap.version&quot;)","title":"How to know the version of ldap using ldap server url","body":"<p>if you are using spring-ldap, you can get ldap version with ldaptemplate, like</p>\n<pre><code>ldapTemplate.getContextSource().getReadOnlyContext().getEnvironment().get(&quot;java.naming.ldap.version&quot;)\n</code></pre>\n"}],"owner":{"account_id":2483107,"reputation":449,"user_id":2162158,"display_name":"DeskToDevelop"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":751,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1643115647,"creation_date":1451632041,"question_id":34554274,"body_markdown":"According to oracle documentation..\r\n\r\n&gt; Digest-MD5 authentication is the required authentication mechanism for LDAP v3 servers (RFC 2829). Because the use of SASL is part of the LDAP v3 (RFC 2251), servers that support only the LDAP v2 do not support Digest-MD5.\r\n\r\nI am using my organization&#39;s ldap server that is something like `directory.my_company.com`.\r\n\r\nHere I want to use Digest-MD5 authentcation, but I am not sure which version of ldap is running in our company.\r\n\r\n*What I need* : \r\n\r\n - How to know **ldap version** using ldap server. or does my ldap server\r\n   supports digest-md5\r\n\r\n","title":"How to know the version of ldap using ldap server url","body":"<p>According to oracle documentation..</p>\n\n<blockquote>\n  <p>Digest-MD5 authentication is the required authentication mechanism for LDAP v3 servers (RFC 2829). Because the use of SASL is part of the LDAP v3 (RFC 2251), servers that support only the LDAP v2 do not support Digest-MD5.</p>\n</blockquote>\n\n<p>I am using my organization's ldap server that is something like <code>directory.my_company.com</code>.</p>\n\n<p>Here I want to use Digest-MD5 authentcation, but I am not sure which version of ldap is running in our company.</p>\n\n<p><em>What I need</em> : </p>\n\n<ul>\n<li>How to know <strong>ldap version</strong> using ldap server. or does my ldap server\nsupports digest-md5</li>\n</ul>\n"},{"tags":["java","amazon-web-services","amazon-dynamodb","amazon-sqs"],"comments":[{"owner":{"account_id":100740,"reputation":73217,"user_id":271415,"accept_rate":91,"display_name":"jarmod"},"score":0,"creation_date":1643118674,"post_id":70848908,"comment_id":125250576,"body_markdown":"There&#39;s plenty of online documentation and examples of how to use Java in AWS Lambda with both SQS and DynamoDB. Use those to write some code.","body":"There&#39;s plenty of online documentation and examples of how to use Java in AWS Lambda with both SQS and DynamoDB. Use those to write some code."}],"answers":[{"tags":[],"owner":{"account_id":9504657,"reputation":7440,"user_id":7064617,"display_name":"JCompetence"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1643115336,"creation_date":1643115336,"answer_id":70848999,"question_id":70848908,"body_markdown":"For AWS, there is a JAVA SDK 2.0 specifically design for this:\r\n\r\nGeneric Example of Receiving Messages from an SQS Queue:\r\n\r\n        ReceiveMessageRequest receiveMessageRequest = ReceiveMessageRequest.builder()\r\n            .queueUrl(queueUrl)\r\n            .maxNumberOfMessages(5)\r\n            .build();\r\n        List&lt;Message&gt; messages = sqsClient.receiveMessage(receiveMessageRequest).messages();\r\n\r\n\r\nhttps://github.com/awsdocs/aws-doc-sdk-examples/blob/fb99a9b5453c61c13a032b9c225986c865ba4705/javav2/example_code/sqs/src/main/java/com/example/sqs/SQSExample.java#L152\r\n\r\n----------\r\n\r\n\r\nGeneric Example of Putting an Item into DynamoDB:\r\n\r\n     HashMap&lt;String,AttributeValue&gt; itemValues = new HashMap&lt;String,AttributeValue&gt;();\r\n    \r\n    // Add all content to the table\r\n    itemValues.put(key, AttributeValue.builder().s(keyVal).build());\r\n    itemValues.put(songTitle, AttributeValue.builder().s(songTitleVal).build());\r\n    itemValues.put(albumTitle, AttributeValue.builder().s(albumTitleValue).build());\r\n    itemValues.put(awards, AttributeValue.builder().s(awardVal).build());\r\n\r\n    PutItemRequest request = PutItemRequest.builder()\r\n            .tableName(tableName)\r\n            .item(itemValues)\r\n            .build();\r\n\r\n    ddb.putItem(request);\r\n    System.out.println(tableName +&quot; was successfully updated&quot;);\r\n\r\nhttps://github.com/awsdocs/aws-doc-sdk-examples/blob/fb99a9b5453c61c13a032b9c225986c865ba4705/javav2/example_code/dynamodb/src/main/java/com/example/dynamodb/PutItem.java#L84\r\n\r\n\r\nAWS documentation is excellent and so are its examples:\r\n\r\nhttps://github.com/awsdocs/aws-doc-sdk-examples/tree/fb99a9b5453c61c13a032b9c225986c865ba4705/javav2\r\n\r\nOfficial Documentation: https://docs.aws.amazon.com/sdk-for-java/v1/developer-guide/prog-services.html\r\n","title":"Receive messages/events from SQS and map them to Dynamodb","body":"<p>For AWS, there is a JAVA SDK 2.0 specifically design for this:</p>\n<p>Generic Example of Receiving Messages from an SQS Queue:</p>\n<pre><code>    ReceiveMessageRequest receiveMessageRequest = ReceiveMessageRequest.builder()\n        .queueUrl(queueUrl)\n        .maxNumberOfMessages(5)\n        .build();\n    List&lt;Message&gt; messages = sqsClient.receiveMessage(receiveMessageRequest).messages();\n</code></pre>\n<p><a href=\"https://github.com/awsdocs/aws-doc-sdk-examples/blob/fb99a9b5453c61c13a032b9c225986c865ba4705/javav2/example_code/sqs/src/main/java/com/example/sqs/SQSExample.java#L152\" rel=\"nofollow noreferrer\">https://github.com/awsdocs/aws-doc-sdk-examples/blob/fb99a9b5453c61c13a032b9c225986c865ba4705/javav2/example_code/sqs/src/main/java/com/example/sqs/SQSExample.java#L152</a></p>\n<hr />\n<p>Generic Example of Putting an Item into DynamoDB:</p>\n<pre><code> HashMap&lt;String,AttributeValue&gt; itemValues = new HashMap&lt;String,AttributeValue&gt;();\n\n// Add all content to the table\nitemValues.put(key, AttributeValue.builder().s(keyVal).build());\nitemValues.put(songTitle, AttributeValue.builder().s(songTitleVal).build());\nitemValues.put(albumTitle, AttributeValue.builder().s(albumTitleValue).build());\nitemValues.put(awards, AttributeValue.builder().s(awardVal).build());\n\nPutItemRequest request = PutItemRequest.builder()\n        .tableName(tableName)\n        .item(itemValues)\n        .build();\n\nddb.putItem(request);\nSystem.out.println(tableName +&quot; was successfully updated&quot;);\n</code></pre>\n<p><a href=\"https://github.com/awsdocs/aws-doc-sdk-examples/blob/fb99a9b5453c61c13a032b9c225986c865ba4705/javav2/example_code/dynamodb/src/main/java/com/example/dynamodb/PutItem.java#L84\" rel=\"nofollow noreferrer\">https://github.com/awsdocs/aws-doc-sdk-examples/blob/fb99a9b5453c61c13a032b9c225986c865ba4705/javav2/example_code/dynamodb/src/main/java/com/example/dynamodb/PutItem.java#L84</a></p>\n<p>AWS documentation is excellent and so are its examples:</p>\n<p><a href=\"https://github.com/awsdocs/aws-doc-sdk-examples/tree/fb99a9b5453c61c13a032b9c225986c865ba4705/javav2\" rel=\"nofollow noreferrer\">https://github.com/awsdocs/aws-doc-sdk-examples/tree/fb99a9b5453c61c13a032b9c225986c865ba4705/javav2</a></p>\n<p>Official Documentation: <a href=\"https://docs.aws.amazon.com/sdk-for-java/v1/developer-guide/prog-services.html\" rel=\"nofollow noreferrer\">https://docs.aws.amazon.com/sdk-for-java/v1/developer-guide/prog-services.html</a></p>\n"}],"owner":{"account_id":6722102,"reputation":199,"user_id":5181689,"display_name":"Farukh Khan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":578,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":70848999,"answer_count":1,"score":-1,"last_activity_date":1643115336,"creation_date":1643114864,"question_id":70848908,"body_markdown":"I am trying to figure out a way where I can read my SQS events and map them to DynamoDB using Java. I have a SQS in AWS which will get some messages having some information e.g. `{&quot;id&quot;: &quot;xxx&quot;, &quot;state&quot;: &quot;xxx&quot;}`. These events I want to map them in my DynamoDB table. The DynamoDB contains `id` as a partition key. \r\nAccording to my reasearch this is doable by reading messages from sqs and use `putItem` from AWS DynamoDB in JAVA.\r\nIs there any simple way to that using JAVA. Or any example would be helpful here. \r\n\r\nThank you ! ","title":"Receive messages/events from SQS and map them to Dynamodb","body":"<p>I am trying to figure out a way where I can read my SQS events and map them to DynamoDB using Java. I have a SQS in AWS which will get some messages having some information e.g. <code>{&quot;id&quot;: &quot;xxx&quot;, &quot;state&quot;: &quot;xxx&quot;}</code>. These events I want to map them in my DynamoDB table. The DynamoDB contains <code>id</code> as a partition key.\nAccording to my reasearch this is doable by reading messages from sqs and use <code>putItem</code> from AWS DynamoDB in JAVA.\nIs there any simple way to that using JAVA. Or any example would be helpful here.</p>\n<p>Thank you !</p>\n"},{"tags":["java","3d","processing","noise"],"answers":[{"tags":[],"owner":{"account_id":14662905,"reputation":532,"user_id":10589536,"display_name":"anthony yaghi"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1643113957,"creation_date":1643107168,"answer_id":70847209,"question_id":70846478,"body_markdown":"You are correct, the problem is in this line\r\n\r\n    float n = noise(x*size + xoff, y*size + yoff, zoff)*255;\r\n\r\nThe changes in the x and y input parameters from one iteration to the other is too large (it is equal to size). If you read about the Perlin noise you will know that with a large step it will just look like random noise. My suggestion to edit this line to something like:\r\n\r\n    float n = noise(xx + xoff, yy + yoff, zoff)*255;\r\n\r\nwhere xx and yy are other variables that you increment slowly in the for loop\r\n\r\n\r\nMy solution:\r\n\r\n    void draw() {\r\n    \r\n      \r\n      background(0);\r\n      stroke(255,0,0);\r\n      line(width/2, 0, width/2, height);\r\n      translate(0,0,mouseX);\r\n      pushMatrix();\r\n      rotateX(radians(45));\r\n      translate(pixel*size/2,-pixel*size,-pixel*size);\r\n      rotateZ(radians(mouseX));\r\n      translate(-pixel*size/2,-pixel*size/2,-pixel*size/4);\r\n      pushMatrix();\r\n      \r\n      float xx = 0;\r\n      float yy = 0;\r\n      for (int y = 0; y &lt; pixel; y++) {\r\n        xx = 0;\r\n        for (int x = 0; x &lt; pixel; x++) {\r\n          pushMatrix();\r\n          noiseDetail(1, 0.25f);\r\n          float n = noise(xx + xoff, yy + yoff)*255;\r\n          \r\n          translate(x*size, y*size,  n);\r\n          rotate(radians(45));\r\n          noStroke();\r\n          fill(255);\r\n          rect(0, 0,   size,  size);\r\n          popMatrix();\r\n          xx += 0.1;      \r\n        }\r\n        yy += 0.1;\r\n      }\r\n      popMatrix();\r\n      popMatrix();\r\n      \r\n      yoff += 0.11;\r\n      xoff += 0.02;\r\n      zoff += 0.03;\r\n    }\r\n\r\nChanging the increment of xx and yy can make the flag look like its flowing in 1 direction...","title":"Using the noise function in Processing","body":"<p>You are correct, the problem is in this line</p>\n<pre><code>float n = noise(x*size + xoff, y*size + yoff, zoff)*255;\n</code></pre>\n<p>The changes in the x and y input parameters from one iteration to the other is too large (it is equal to size). If you read about the Perlin noise you will know that with a large step it will just look like random noise. My suggestion to edit this line to something like:</p>\n<pre><code>float n = noise(xx + xoff, yy + yoff, zoff)*255;\n</code></pre>\n<p>where xx and yy are other variables that you increment slowly in the for loop</p>\n<p>My solution:</p>\n<pre><code>void draw() {\n\n  \n  background(0);\n  stroke(255,0,0);\n  line(width/2, 0, width/2, height);\n  translate(0,0,mouseX);\n  pushMatrix();\n  rotateX(radians(45));\n  translate(pixel*size/2,-pixel*size,-pixel*size);\n  rotateZ(radians(mouseX));\n  translate(-pixel*size/2,-pixel*size/2,-pixel*size/4);\n  pushMatrix();\n  \n  float xx = 0;\n  float yy = 0;\n  for (int y = 0; y &lt; pixel; y++) {\n    xx = 0;\n    for (int x = 0; x &lt; pixel; x++) {\n      pushMatrix();\n      noiseDetail(1, 0.25f);\n      float n = noise(xx + xoff, yy + yoff)*255;\n      \n      translate(x*size, y*size,  n);\n      rotate(radians(45));\n      noStroke();\n      fill(255);\n      rect(0, 0,   size,  size);\n      popMatrix();\n      xx += 0.1;      \n    }\n    yy += 0.1;\n  }\n  popMatrix();\n  popMatrix();\n  \n  yoff += 0.11;\n  xoff += 0.02;\n  zoff += 0.03;\n}\n</code></pre>\n<p>Changing the increment of xx and yy can make the flag look like its flowing in 1 direction...</p>\n"}],"owner":{"account_id":4826604,"reputation":833,"user_id":3895938,"accept_rate":61,"display_name":"Cyrill"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":173,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70847209,"answer_count":1,"score":1,"last_activity_date":1643115018,"creation_date":1643104036,"question_id":70846478,"body_markdown":"I am trying to animate a flying cloth, which consists of individual rectangles, in Processing. I built the cloth from a nested loop. Now I want to use the noise function to manipulate the height of the individual points. Unfortunately, I can&#39;t do that properly - apparently I don&#39;t understand the function. I took a detour, drew noise clouds on a PGraphics, then read the brightness value - and use that to control the z-position of each rectangle. This works the way I want it to work!\r\n\r\nOnly - how can I achieve the same effect without going the detour via PGraphics?\r\nThis is my code the way I want it (the detour):\r\n\r\n    PGraphics pg;\r\n    float increment = 0.002;\r\n    float xoff;\r\n    float yoff;\r\n    float zoff = 0.0;\r\n    float zincrement = 0.1;\r\n    \r\n    float size;\r\n    float pixel = 200;\r\n    \r\n    void setup() {\r\n      size(1920, 1080, P3D);\r\n      frameRate(30);\r\n      size = width/pixel;\r\n      rectMode(CENTER);\r\n      pg = createGraphics(width, width);\r\n    }\r\n    \r\n    void draw() {\r\n    \r\n      //PGraphics\r\n      pg.beginDraw();\r\n      pg.loadPixels();\r\n      xoff = 0.0;\r\n      for (int x = 0; x &lt; width; x++) {\r\n        xoff += increment;\r\n        yoff = 0.0;\r\n        for (int y = 0; y &lt; width; y++) {\r\n          yoff += increment;\r\n          float bright = noise(xoff, yoff, zoff)*255;\r\n          pg.pixels[x+y*width] = color(bright, bright, bright);\r\n        }\r\n      }\r\n      pg.updatePixels();\r\n      pg.endDraw();\r\n      zoff += zincrement;\r\n    \r\n      //SCENE\r\n      background(0);\r\n      stroke(255,0,0);\r\n      line(width/2, 0, width/2, height);\r\n      translate(0, 0, mouseX);\r\n      pushMatrix();\r\n      rotateX(radians(45));\r\n      translate(pixel*size/2, -pixel*size, -pixel*size);\r\n      rotateZ(radians(mouseX));\r\n      translate(-pixel*size/2, -pixel*size/2, -pixel*size/4);\r\n      pushMatrix();\r\n      \r\n      for (int y = 0; y &lt; pixel; y++) {\r\n        for (int x = 0; x &lt; pixel; x++) {\r\n    \r\n          color c = pg.get(int(size*x), int(size*y));\r\n          float zpoint = map(brightness(c), 0, 255, -500, 500);\r\n          pushMatrix();\r\n          noiseDetail(3, 0.5f);\r\n          translate(x*size, y*size, zpoint);\r\n          rotate(radians(45));\r\n          noStroke();\r\n          fill(255);\r\n          rect(0, 0, size, size);\r\n          popMatrix();\r\n        }\r\n      }\r\n      popMatrix();\r\n      popMatrix();\r\n    }\r\n\r\nAnd this is how I would like to write it in a simpler way:\r\n\r\n    float size;\r\n    float pixel = 200;\r\n    \r\n    \r\n    float xoff;\r\n    float yoff;\r\n    float zoff;\r\n    float increment = 0.01;\r\n    \r\n    \r\n    void setup() {\r\n      size(1920, 1080, P3D);\r\n      frameRate(30);\r\n      size = width/pixel;\r\n      rectMode(CENTER);\r\n    \r\n    \r\n    }\r\n    \r\n    void draw() {\r\n    \r\n      \r\n      background(0);\r\n      stroke(255,0,0);\r\n      line(width/2, 0, width/2, height);\r\n      translate(0,0,mouseX);\r\n      pushMatrix();\r\n      rotateX(radians(45));\r\n      translate(pixel*size/2,-pixel*size,-pixel*size);\r\n      rotateZ(radians(mouseX));\r\n      translate(-pixel*size/2,-pixel*size/2,-pixel*size/4);\r\n      pushMatrix(); \r\n      for (int y = 0; y &lt; pixel; y++) {\r\n        for (int x = 0; x &lt; pixel; x++) {\r\n          pushMatrix();\r\n          noiseDetail(1, 0.25f);\r\n          float n = noise(x*size + xoff, y*size + yoff, zoff)*255;\r\n          translate(x*size, y*size,  n);\r\n          rotate(radians(45));\r\n          noStroke();\r\n          fill(255);\r\n          rect(0, 0,   size,  size);\r\n          popMatrix();\r\n        }\r\n      }\r\n      popMatrix();\r\n      popMatrix();\r\n      \r\n      yoff += 0.11;\r\n      xoff += 0.02;\r\n      zoff += 0.03;\r\n    }\r\n\r\nI think this line is the problem - because currently it doesn&#39;t create a real cloth like this.\r\n\r\n    float n = noise(x*size + xoff, y*size + yoff, zoff)*255;\r\n","title":"Using the noise function in Processing","body":"<p>I am trying to animate a flying cloth, which consists of individual rectangles, in Processing. I built the cloth from a nested loop. Now I want to use the noise function to manipulate the height of the individual points. Unfortunately, I can't do that properly - apparently I don't understand the function. I took a detour, drew noise clouds on a PGraphics, then read the brightness value - and use that to control the z-position of each rectangle. This works the way I want it to work!</p>\n<p>Only - how can I achieve the same effect without going the detour via PGraphics?\nThis is my code the way I want it (the detour):</p>\n<pre><code>PGraphics pg;\nfloat increment = 0.002;\nfloat xoff;\nfloat yoff;\nfloat zoff = 0.0;\nfloat zincrement = 0.1;\n\nfloat size;\nfloat pixel = 200;\n\nvoid setup() {\n  size(1920, 1080, P3D);\n  frameRate(30);\n  size = width/pixel;\n  rectMode(CENTER);\n  pg = createGraphics(width, width);\n}\n\nvoid draw() {\n\n  //PGraphics\n  pg.beginDraw();\n  pg.loadPixels();\n  xoff = 0.0;\n  for (int x = 0; x &lt; width; x++) {\n    xoff += increment;\n    yoff = 0.0;\n    for (int y = 0; y &lt; width; y++) {\n      yoff += increment;\n      float bright = noise(xoff, yoff, zoff)*255;\n      pg.pixels[x+y*width] = color(bright, bright, bright);\n    }\n  }\n  pg.updatePixels();\n  pg.endDraw();\n  zoff += zincrement;\n\n  //SCENE\n  background(0);\n  stroke(255,0,0);\n  line(width/2, 0, width/2, height);\n  translate(0, 0, mouseX);\n  pushMatrix();\n  rotateX(radians(45));\n  translate(pixel*size/2, -pixel*size, -pixel*size);\n  rotateZ(radians(mouseX));\n  translate(-pixel*size/2, -pixel*size/2, -pixel*size/4);\n  pushMatrix();\n  \n  for (int y = 0; y &lt; pixel; y++) {\n    for (int x = 0; x &lt; pixel; x++) {\n\n      color c = pg.get(int(size*x), int(size*y));\n      float zpoint = map(brightness(c), 0, 255, -500, 500);\n      pushMatrix();\n      noiseDetail(3, 0.5f);\n      translate(x*size, y*size, zpoint);\n      rotate(radians(45));\n      noStroke();\n      fill(255);\n      rect(0, 0, size, size);\n      popMatrix();\n    }\n  }\n  popMatrix();\n  popMatrix();\n}\n</code></pre>\n<p>And this is how I would like to write it in a simpler way:</p>\n<pre><code>float size;\nfloat pixel = 200;\n\n\nfloat xoff;\nfloat yoff;\nfloat zoff;\nfloat increment = 0.01;\n\n\nvoid setup() {\n  size(1920, 1080, P3D);\n  frameRate(30);\n  size = width/pixel;\n  rectMode(CENTER);\n\n\n}\n\nvoid draw() {\n\n  \n  background(0);\n  stroke(255,0,0);\n  line(width/2, 0, width/2, height);\n  translate(0,0,mouseX);\n  pushMatrix();\n  rotateX(radians(45));\n  translate(pixel*size/2,-pixel*size,-pixel*size);\n  rotateZ(radians(mouseX));\n  translate(-pixel*size/2,-pixel*size/2,-pixel*size/4);\n  pushMatrix(); \n  for (int y = 0; y &lt; pixel; y++) {\n    for (int x = 0; x &lt; pixel; x++) {\n      pushMatrix();\n      noiseDetail(1, 0.25f);\n      float n = noise(x*size + xoff, y*size + yoff, zoff)*255;\n      translate(x*size, y*size,  n);\n      rotate(radians(45));\n      noStroke();\n      fill(255);\n      rect(0, 0,   size,  size);\n      popMatrix();\n    }\n  }\n  popMatrix();\n  popMatrix();\n  \n  yoff += 0.11;\n  xoff += 0.02;\n  zoff += 0.03;\n}\n</code></pre>\n<p>I think this line is the problem - because currently it doesn't create a real cloth like this.</p>\n<pre><code>float n = noise(x*size + xoff, y*size + yoff, zoff)*255;\n</code></pre>\n"},{"tags":["java","exception","logging","log4j"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1643110426,"post_id":70847827,"comment_id":125247598,"body_markdown":"so ... you catch all Exceptions, yet not all Exceptions are caught?","body":"so ... you catch all Exceptions, yet not all Exceptions are caught?"},{"owner":{"account_id":9944075,"reputation":11,"user_id":7359563,"display_name":"pongy20"},"score":0,"creation_date":1643114524,"post_id":70847827,"comment_id":125248977,"body_markdown":"Not not all are caught -&gt; Uncaught exceptions should be logged","body":"Not not all are caught -&gt; Uncaught exceptions should be logged"},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1643114957,"post_id":70847827,"comment_id":125249107,"body_markdown":"have you tried aop?","body":"have you tried aop?"}],"answers":[{"tags":[],"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1643114658,"creation_date":1643114658,"answer_id":70848857,"question_id":70847827,"body_markdown":"Each thread can have an [`UncaughtExceptionHandler`](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Thread.UncaughtExceptionHandler.html), which is called when an exception reaches the bottom of the thread&#39;s call stack. The default implementation prints a message on the standard error.\r\n\r\nYou can change the default handler with:\r\n\r\n```lang-java\r\n  private static final Logger logger = LogManager.getLogger();\r\n\r\n  public static void main(String[] args) throws IOException {\r\n    Thread.setDefaultUncaughtExceptionHandler((t, e) -&gt; {\r\n      logger.warn(&quot;Uncaught exception in thread {}.&quot;, t, e);\r\n    });\r\n```","title":"How to log all uncaught exceptions in java using log4j","body":"<p>Each thread can have an <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Thread.UncaughtExceptionHandler.html\" rel=\"nofollow noreferrer\"><code>UncaughtExceptionHandler</code></a>, which is called when an exception reaches the bottom of the thread's call stack. The default implementation prints a message on the standard error.</p>\n<p>You can change the default handler with:</p>\n<pre class=\"lang-java prettyprint-override\"><code>  private static final Logger logger = LogManager.getLogger();\n\n  public static void main(String[] args) throws IOException {\n    Thread.setDefaultUncaughtExceptionHandler((t, e) -&gt; {\n      logger.warn(&quot;Uncaught exception in thread {}.&quot;, t, e);\n    });\n</code></pre>\n"}],"owner":{"account_id":9944075,"reputation":11,"user_id":7359563,"display_name":"pongy20"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":626,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1643114883,"creation_date":1643109981,"question_id":70847827,"body_markdown":"I want to log the exceptions in my server side java program. \r\nIs there any way to catch all exceptions that have not been caught using an existing try catch?\r\n\r\nI thought about doing a try catch in my main executor and log the exception the catch but I got a problem: exceptions on other threads haven&#39;t been caught.","title":"How to log all uncaught exceptions in java using log4j","body":"<p>I want to log the exceptions in my server side java program.\nIs there any way to catch all exceptions that have not been caught using an existing try catch?</p>\n<p>I thought about doing a try catch in my main executor and log the exception the catch but I got a problem: exceptions on other threads haven't been caught.</p>\n"},{"tags":["java","amazon-s3","apache-camel","apache-kafka-connect"],"comments":[{"owner":{"account_id":9504657,"reputation":7440,"user_id":7064617,"display_name":"JCompetence"},"score":1,"creation_date":1643119294,"post_id":70848205,"comment_id":125250853,"body_markdown":"What java version are you using","body":"What java version are you using"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1643209667,"post_id":70848205,"comment_id":125279211,"body_markdown":"@SMA How exactly does that address the ClassCastException? BigDecimal and byte[] exist in basically all Java versions, and still can&#39;t cast between them if using a supported one by Camel","body":"@SMA How exactly does that address the ClassCastException? BigDecimal and byte[] exist in basically all Java versions, and still can&#39;t cast between them if using a supported one by Camel"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1643209822,"post_id":70848205,"comment_id":125279282,"body_markdown":"@Dopele Debugging definitely is possible. For example https://stackoverflow.com/questions/45717658/what-is-a-simple-effective-way-to-debug-custom-kafka-connectors But you should find the source code for CamelSinkTask.mapHeader method first","body":"@Dopele Debugging definitely is possible. For example <a href=\"https://stackoverflow.com/questions/45717658/what-is-a-simple-effective-way-to-debug-custom-kafka-connectors\" title=\"what is a simple effective way to debug custom kafka connectors\">stackoverflow.com/questions/45717658/&hellip;</a> But you should find the source code for CamelSinkTask.mapHeader method first"},{"owner":{"account_id":9504657,"reputation":7440,"user_id":7064617,"display_name":"JCompetence"},"score":0,"creation_date":1643211391,"post_id":70848205,"comment_id":125279964,"body_markdown":"@OneCricketeer The fact that the connector only supports version 8 and 11 states something about the Java compatibility in this case.","body":"@OneCricketeer The fact that the connector only supports version 8 and 11 states something about the Java compatibility in this case."}],"owner":{"account_id":1146055,"reputation":577,"user_id":1128791,"accept_rate":50,"display_name":"Dopele"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":349,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1643114831,"creation_date":1643111625,"question_id":70848205,"body_markdown":"I am trying to sink kafka topic records into **s3** bucket using **kafka-connect** + **camel-kafka-connector-0.9**.\r\n\r\nThe connector loads up fine, I can see it connected to kafka as the consumer can be seen in AKHQ. But it fails immediately just after trying to commit offsets with the following exception from the kafka-connect pod:\r\n\r\n```\r\norg.apache.kafka.connect.errors.ConnectException: Exiting WorkerSinkTask due to unrecoverable exception.\r\n\tat org.apache.kafka.connect.runtime.WorkerSinkTask.deliverMessages(WorkerSinkTask.java:614)\r\n\tat org.apache.kafka.connect.runtime.WorkerSinkTask.poll(WorkerSinkTask.java:329)\r\n\tat org.apache.kafka.connect.runtime.WorkerSinkTask.iteration(WorkerSinkTask.java:232)\r\n\tat org.apache.kafka.connect.runtime.WorkerSinkTask.execute(WorkerSinkTask.java:201)\r\n\tat org.apache.kafka.connect.runtime.WorkerTask.doRun(WorkerTask.java:189)\r\n\tat org.apache.kafka.connect.runtime.WorkerTask.run(WorkerTask.java:238)\r\n\tat java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)\r\n\tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\r\n\tat java.base/java.lang.Thread.run(Thread.java:829)\r\nCaused by: java.lang.ClassCastException: class java.math.BigDecimal cannot be cast to class [B (java.math.BigDecimal and [B are in module java.base of loader &#39;bootstrap&#39;)\r\n\tat org.apache.camel.kafkaconnector.CamelSinkTask.mapHeader(CamelSinkTask.java:233)\r\n\tat org.apache.camel.kafkaconnector.CamelSinkTask.put(CamelSinkTask.java:184)\r\n\tat org.apache.kafka.connect.runtime.WorkerSinkTask.deliverMessages(WorkerSinkTask.java:586)\r\n\t... 10 more\r\n```\r\n\r\nI don&#39;t understand whats going on under the hood and there is little room for debugging...\r\n\r\n\r\nKafka-connector config:\r\n```\r\n{\r\n  &quot;name&quot;: &quot;connector-name&quot;,\r\n  &quot;config&quot;: {\r\n    &quot;connector.class&quot;: &quot;org.apache.camel.kafkaconnector.aws2s3.CamelAws2s3SinkConnector&quot;,\r\n    &quot;topics&quot;: &quot;topic-v1-0&quot;,\r\n    &quot;camel.sink.endpoint.region&quot;: &quot;region&quot;,\r\n    &quot;camel.sink.path.bucketNameOrArn&quot;: &quot;bucket-name&quot;,\r\n    &quot;camel.sink.endpoint.keyName&quot;: &quot;incoming-v1-0/${date:now:yyyyMMdd-HHmmssSSS}-${exchangeId}&quot;,\r\n    &quot;camel.sink.endpoint.useDefaultCredentialsProvider&quot;: &quot;true&quot;,\r\n    &quot;camel.beans.aggregate&quot;: &quot;#class:org.apache.camel.kafkaconnector.aggregator.StringAggregator&quot;,\r\n    &quot;camel.aggregation.size&quot;: &quot;1000&quot;,\r\n    &quot;camel.aggregation.timeout&quot;: &quot;5000&quot;,\r\n    &quot;key.converter&quot;: &quot;org.apache.kafka.connect.storage.StringConverter&quot;,\r\n    &quot;value.converter&quot;: &quot;org.apache.kafka.connect.storage.StringConverter&quot;,\r\n    &quot;key.converter.schemas.enable&quot;: &quot;false&quot;,\r\n    &quot;value.converter.schemas.enable&quot;: &quot;false&quot;\r\n  }\r\n}\r\n```","title":"Kafka apache camel sink task fails with weird ClassCastException","body":"<p>I am trying to sink kafka topic records into <strong>s3</strong> bucket using <strong>kafka-connect</strong> + <strong>camel-kafka-connector-0.9</strong>.</p>\n<p>The connector loads up fine, I can see it connected to kafka as the consumer can be seen in AKHQ. But it fails immediately just after trying to commit offsets with the following exception from the kafka-connect pod:</p>\n<pre><code>org.apache.kafka.connect.errors.ConnectException: Exiting WorkerSinkTask due to unrecoverable exception.\n    at org.apache.kafka.connect.runtime.WorkerSinkTask.deliverMessages(WorkerSinkTask.java:614)\n    at org.apache.kafka.connect.runtime.WorkerSinkTask.poll(WorkerSinkTask.java:329)\n    at org.apache.kafka.connect.runtime.WorkerSinkTask.iteration(WorkerSinkTask.java:232)\n    at org.apache.kafka.connect.runtime.WorkerSinkTask.execute(WorkerSinkTask.java:201)\n    at org.apache.kafka.connect.runtime.WorkerTask.doRun(WorkerTask.java:189)\n    at org.apache.kafka.connect.runtime.WorkerTask.run(WorkerTask.java:238)\n    at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\n    at java.base/java.lang.Thread.run(Thread.java:829)\nCaused by: java.lang.ClassCastException: class java.math.BigDecimal cannot be cast to class [B (java.math.BigDecimal and [B are in module java.base of loader 'bootstrap')\n    at org.apache.camel.kafkaconnector.CamelSinkTask.mapHeader(CamelSinkTask.java:233)\n    at org.apache.camel.kafkaconnector.CamelSinkTask.put(CamelSinkTask.java:184)\n    at org.apache.kafka.connect.runtime.WorkerSinkTask.deliverMessages(WorkerSinkTask.java:586)\n    ... 10 more\n</code></pre>\n<p>I don't understand whats going on under the hood and there is little room for debugging...</p>\n<p>Kafka-connector config:</p>\n<pre><code>{\n  &quot;name&quot;: &quot;connector-name&quot;,\n  &quot;config&quot;: {\n    &quot;connector.class&quot;: &quot;org.apache.camel.kafkaconnector.aws2s3.CamelAws2s3SinkConnector&quot;,\n    &quot;topics&quot;: &quot;topic-v1-0&quot;,\n    &quot;camel.sink.endpoint.region&quot;: &quot;region&quot;,\n    &quot;camel.sink.path.bucketNameOrArn&quot;: &quot;bucket-name&quot;,\n    &quot;camel.sink.endpoint.keyName&quot;: &quot;incoming-v1-0/${date:now:yyyyMMdd-HHmmssSSS}-${exchangeId}&quot;,\n    &quot;camel.sink.endpoint.useDefaultCredentialsProvider&quot;: &quot;true&quot;,\n    &quot;camel.beans.aggregate&quot;: &quot;#class:org.apache.camel.kafkaconnector.aggregator.StringAggregator&quot;,\n    &quot;camel.aggregation.size&quot;: &quot;1000&quot;,\n    &quot;camel.aggregation.timeout&quot;: &quot;5000&quot;,\n    &quot;key.converter&quot;: &quot;org.apache.kafka.connect.storage.StringConverter&quot;,\n    &quot;value.converter&quot;: &quot;org.apache.kafka.connect.storage.StringConverter&quot;,\n    &quot;key.converter.schemas.enable&quot;: &quot;false&quot;,\n    &quot;value.converter.schemas.enable&quot;: &quot;false&quot;\n  }\n}\n</code></pre>\n"},{"tags":["java","list","palindrome","deque"],"comments":[{"owner":{"account_id":5150443,"reputation":34158,"user_id":4125191,"display_name":"RealSkeptic"},"score":1,"creation_date":1643114919,"post_id":70848861,"comment_id":125249095,"body_markdown":"The `==` and `!=` are not for comparing objects, only for comparing primitives. `Integer` is an object, not a primitive.","body":"The <code>==</code> and <code>!=</code> are not for comparing objects, only for comparing primitives. <code>Integer</code> is an object, not a primitive."},{"owner":{"account_id":21590296,"reputation":388,"user_id":15920030,"display_name":"vanderwaal"},"score":0,"creation_date":1643115604,"post_id":70848861,"comment_id":125249332,"body_markdown":"But then why is it working for some numbers, for example when I tried with 10 instead of -1_000_000_000 it worked fine?","body":"But then why is it working for some numbers, for example when I tried with 10 instead of -1_000_000_000 it worked fine?"},{"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1643116481,"post_id":70848861,"comment_id":125249648,"body_markdown":"@vanderwaal Because Integers between -128 and 127 are cached so numerically equal values in that range share the same reference.","body":"@vanderwaal Because Integers between -128 and 127 are cached so numerically equal values in that range share the same reference."},{"owner":{"account_id":15777655,"reputation":1762,"user_id":11385052,"display_name":"Ryan"},"score":0,"creation_date":1643122194,"post_id":70848861,"comment_id":125252250,"body_markdown":"Do you need to use your Single-Linked List implementation?  You can do this much more efficiently with a raw array or ArrayList comparing list[i] with list[length-i]","body":"Do you need to use your Single-Linked List implementation?  You can do this much more efficiently with a raw array or ArrayList comparing list[i] with list[length-i]"}],"owner":{"account_id":21590296,"reputation":388,"user_id":15920030,"display_name":"vanderwaal"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":139,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1643114682,"creation_date":1643114682,"question_id":70848861,"body_markdown":"I have to check if a given list is a palindrome.\r\nIt worked all times except for when I tried with big number like -1000000000.\r\nI don&#39;t know why is that, I think Integer is big enough to work with the given numbers.\r\nAny ideas why this is not working for this particular test:\r\n```Input:\r\nl: [1, 1000000000, -1000000000, -1000000000, 1000000000, 1]\r\nOutput:\r\nfalse\r\nExpected Output:\r\ntrue\r\n```\r\nThis is my solution:\r\n```\r\n// Singly-linked lists are already defined with this interface:\r\n// class ListNode&lt;T&gt; {\r\n//   ListNode(T x) {\r\n//     value = x;\r\n//   }\r\n//   T value;\r\n//   ListNode&lt;T&gt; next;\r\n// }\r\n//\r\nboolean solution(ListNode&lt;Integer&gt; node) {\r\n        ListNode&lt;Integer&gt; current = node;\r\n        Deque&lt;Integer&gt; list = new ArrayDeque&lt;&gt;();\r\n\r\n        while (current != null) {\r\n            list.push(current.value);\r\n            current = current.next;\r\n        }\r\n\r\n        current = node;\r\n        while (!list.isEmpty()) {\r\n            Integer el = list.poll();\r\n            System.out.print(el + &quot; &quot;);\r\n            if (el != current.value) {\r\n                return false;\r\n            }\r\n\r\n            current = current.next;\r\n        }\r\n\r\n        return true;\r\n}\r\n```\r\n\r\n","title":"Check if a list is a palindrome?","body":"<p>I have to check if a given list is a palindrome.\nIt worked all times except for when I tried with big number like -1000000000.\nI don't know why is that, I think Integer is big enough to work with the given numbers.\nAny ideas why this is not working for this particular test:</p>\n<pre><code>l: [1, 1000000000, -1000000000, -1000000000, 1000000000, 1]\nOutput:\nfalse\nExpected Output:\ntrue\n</code></pre>\n<p>This is my solution:</p>\n<pre><code>// Singly-linked lists are already defined with this interface:\n// class ListNode&lt;T&gt; {\n//   ListNode(T x) {\n//     value = x;\n//   }\n//   T value;\n//   ListNode&lt;T&gt; next;\n// }\n//\nboolean solution(ListNode&lt;Integer&gt; node) {\n        ListNode&lt;Integer&gt; current = node;\n        Deque&lt;Integer&gt; list = new ArrayDeque&lt;&gt;();\n\n        while (current != null) {\n            list.push(current.value);\n            current = current.next;\n        }\n\n        current = node;\n        while (!list.isEmpty()) {\n            Integer el = list.poll();\n            System.out.print(el + &quot; &quot;);\n            if (el != current.value) {\n                return false;\n            }\n\n            current = current.next;\n        }\n\n        return true;\n}\n</code></pre>\n"},{"tags":["java","opengl","nvidia","lwjgl","glfw"],"comments":[{"owner":{"account_id":3043323,"reputation":21366,"user_id":2579738,"display_name":"BDL"},"score":0,"creation_date":1642802515,"post_id":70807834,"comment_id":125177894,"body_markdown":"Did you check if the object get&#39;s rendered when you output a constant color? That would at least give some hints whether the texture is the problem or if the geometry isn&#39;t there.","body":"Did you check if the object get&#39;s rendered when you output a constant color? That would at least give some hints whether the texture is the problem or if the geometry isn&#39;t there."},{"owner":{"account_id":18202631,"reputation":3,"user_id":13246514,"display_name":"JustSpruce"},"score":0,"creation_date":1642803133,"post_id":70807834,"comment_id":125178060,"body_markdown":"Yes, I did. When I use vec4 in the Fragment Shader and remove the if-statement, it works. Looks like the problem hast something to do with the sampler2d.","body":"Yes, I did. When I use vec4 in the Fragment Shader and remove the if-statement, it works. Looks like the problem hast something to do with the sampler2d."},{"owner":{"account_id":3043323,"reputation":21366,"user_id":2579738,"display_name":"BDL"},"score":0,"creation_date":1642807275,"post_id":70807834,"comment_id":125179084,"body_markdown":"Or with the if... discard statement. I don&#39;t know what exact data your texture contains, but maybe try something like `if (texture(sampler, tex_coords).a &lt;= 0.98)`. Also note that it would be a huge performance improvement if you query the texture only once instead of twice.","body":"Or with the if... discard statement. I don&#39;t know what exact data your texture contains, but maybe try something like <code>if (texture(sampler, tex_coords).a &lt;= 0.98)</code>. Also note that it would be a huge performance improvement if you query the texture only once instead of twice."},{"owner":{"account_id":18202631,"reputation":3,"user_id":13246514,"display_name":"JustSpruce"},"score":0,"creation_date":1642808526,"post_id":70807834,"comment_id":125179307,"body_markdown":"So, when I just remove the if... discard statement, the texture should be drawn with black background instead of transparency (because I do not use blend). That&#39;s how it is on AMD and Intel, but on Nvidia it&#39;s only black. That&#39;s why I assume, that the problem has to do something with the sampler.","body":"So, when I just remove the if... discard statement, the texture should be drawn with black background instead of transparency (because I do not use blend). That&#39;s how it is on AMD and Intel, but on Nvidia it&#39;s only black. That&#39;s why I assume, that the problem has to do something with the sampler."}],"answers":[{"tags":[],"owner":{"account_id":21437799,"reputation":40,"user_id":15792969,"display_name":"Setvizan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1643114660,"creation_date":1643114660,"answer_id":70848858,"question_id":70807834,"body_markdown":"In your updateShaderParameters() method your checking for ```!=1``` it should be ```!=-1``` since windowSize location would be 1. &lt;br&gt; If your checking for 1, it will never get set. &lt;br&gt;\r\nThis could be an oversight or a mistype at the end. Happens to the best of us.\r\n\r\n```\r\npublic void updateShaderParameters() {\r\n        this.setUniform(&quot;sampler&quot;, 0);\r\n        int location = glGetUniformLocation(this.program, &quot;windowSize&quot;);\r\n        if (location != -1) {\r\n            glUniform2f(location, 1000, 1000);\r\n        }\r\n    }\r\n```","title":"LWJGL: Unable to draw textures using nvidia gpu","body":"<p>In your updateShaderParameters() method your checking for <code>!=1</code> it should be <code>!=-1</code> since windowSize location would be 1. <br> If your checking for 1, it will never get set. <br>\nThis could be an oversight or a mistype at the end. Happens to the best of us.</p>\n<pre><code>public void updateShaderParameters() {\n        this.setUniform(&quot;sampler&quot;, 0);\n        int location = glGetUniformLocation(this.program, &quot;windowSize&quot;);\n        if (location != -1) {\n            glUniform2f(location, 1000, 1000);\n        }\n    }\n</code></pre>\n"}],"owner":{"account_id":18202631,"reputation":3,"user_id":13246514,"display_name":"JustSpruce"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":196,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70848858,"answer_count":1,"score":0,"last_activity_date":1643114660,"creation_date":1642800669,"question_id":70807834,"body_markdown":"So we&#39;re developing a simple game in Java using LWJGL with GLFW and OpenGL 3.3.\r\n\r\nOn AMD and Intel it works perfectly but on Nvidia it doesn&#39;t. The screen is just black (the value from glClearColor), there are neither Java-exceptions nor OpenGL-Errors.\r\n\r\nWhat are we doing wrong?\r\n\r\nMain.java:\r\n```java\r\npublic class Main {\r\n    Shader defaultShader;\r\n    boolean running = false;\r\n    long window;\r\n    int width = 1000;\r\n    int height = 1000;\r\n    String title = &quot;pain&quot;;\r\n    int vao;\r\n\r\n    public static void main(String[] args){\r\n        var pain = new Pain();\r\n        pain.init();\r\n        pain.run();\r\n    }\r\n\r\n    public void init() throws RuntimeException {\r\n        GLFWErrorCallback.createPrint(System.err).set();\r\n        if (!glfwInit()) throw new RuntimeException(&quot;glfw.init.failed&quot;);\r\n\r\n        glfwDefaultWindowHints();\r\n        glfwWindowHint(GLFW_CONTEXT_VERSION_MAJOR, 3);\r\n        glfwWindowHint(GLFW_CONTEXT_VERSION_MINOR, 3);\r\n        glfwWindowHint(GLFW_VISIBLE, GLFW_FALSE);\r\n        glfwWindowHint(GLFW_RESIZABLE, GLFW_FALSE);\r\n\r\n        this.window = glfwCreateWindow(this.width, this.height, this.title, 0, 0);\r\n        if (window == NULL) throw new RuntimeException(&quot;glfw.window.failed&quot;);\r\n\r\n        glfwMakeContextCurrent(window);\r\n        glfwSwapInterval(1);\r\n        GL.createCapabilities();\r\n        glEnable(GL_TEXTURE_2D);\r\n\r\n        this.vao = glGenVertexArrays();\r\n        glBindVertexArray(vao);\r\n\r\n        this.defaultShader = new Shader(&quot;main&quot;);\r\n\r\n        glClearColor(0.0f, 0.0f, 0.0f, 1.0f);\r\n    }\r\n\r\n    public void run() {\r\n        this.running = true;\r\n        glfwShowWindow(window);\r\n\r\n        IntBuffer width = BufferUtils.createIntBuffer(1);\r\n        IntBuffer height = BufferUtils.createIntBuffer(1);\r\n        IntBuffer comp = BufferUtils.createIntBuffer(1);\r\n\r\n        ByteBuffer data = null;\r\n        try {\r\n            data = stbi_load_from_memory(BufferCreator.createByteBuffer(FileHandler.readFileAsBytes(&quot;fuckoff/&quot; + &quot;heal_powerup.png&quot;)), width, height, comp, 4);\r\n        } catch (IOException ignored) {}\r\n        if (data == null) throw new RuntimeException(&quot;texture.load.failed&quot;);\r\n\r\n        int id = glGenTextures();\r\n        int twidth = width.get();\r\n        int theight = height.get();\r\n\r\n        glBindTexture(GL_TEXTURE_2D, id);\r\n\r\n        glTexParameterf(GL_TEXTURE_2D, GL_TEXTURE_MIN_FILTER, GL_NEAREST);\r\n        glTexParameterf(GL_TEXTURE_2D, GL_TEXTURE_MAG_FILTER, GL_NEAREST);\r\n\r\n        glTexImage2D(GL_TEXTURE_2D, 0, GL_RGBA, twidth, theight, 0, GL_RGBA, GL_UNSIGNED_BYTE, data);\r\n        stbi_image_free(data);\r\n\r\n        int vid;\r\n        int tid;\r\n        int dc;\r\n        int arg4;\r\n        int[] indices = {0, 1, 2, 2, 3, 0};\r\n        dc = indices.length;\r\n\r\n        vid = glGenBuffers();\r\n        glBindBuffer(GL_ARRAY_BUFFER, vid);\r\n        glBufferData(GL_ARRAY_BUFFER, BufferCreator.createFloatBuffer(new float[]{\r\n                0.0f, 0.0f,\r\n                100.0f, 0.0f,\r\n                100.0f, 100.0f,\r\n                0.0f, 100.0f\r\n        }), GL_DYNAMIC_DRAW);\r\n\r\n        arg4 = glGenBuffers();\r\n        glBindBuffer(GL_ELEMENT_ARRAY_BUFFER, arg4);\r\n        glBufferData(GL_ELEMENT_ARRAY_BUFFER, BufferCreator.createIntBuffer(indices), GL_STATIC_DRAW);\r\n\r\n        tid = glGenBuffers();\r\n        glBindBuffer(GL_ARRAY_BUFFER, tid);\r\n        glBufferData(GL_ARRAY_BUFFER, BufferCreator.createFloatBuffer(new float[]{\r\n                0.0f, 0.0f,\r\n                1.0f, 0.0f,\r\n                1.0f, 1.0f,\r\n                0.0f, 1.0f\r\n        }), GL_STATIC_DRAW);\r\n\r\n        glBindBuffer(GL_ARRAY_BUFFER, 0);\r\n        glBindBuffer(GL_ELEMENT_ARRAY_BUFFER, 0);\r\n\r\n\r\n\r\n        while(this.running) {\r\n            glfwPollEvents();\r\n            glClear(GL_COLOR_BUFFER_BIT);\r\n\r\n            defaultShader.bind();\r\n\r\n            glBindTexture(GL_TEXTURE_2D, id);\r\n            this.defaultShader.setUniform(&quot;sampler&quot;, 0);\r\n\r\n            glEnableVertexAttribArray(0);\r\n            glEnableVertexAttribArray(1);\r\n\r\n            glBindBuffer(GL_ARRAY_BUFFER, vid);\r\n            glVertexAttribPointer(0, 2, GL_FLOAT, false, 0, 0);\r\n\r\n            glBindBuffer(GL_ARRAY_BUFFER, tid);\r\n            glVertexAttribPointer(1, 2, GL_FLOAT, false, 0, 0);\r\n\r\n            glBindBuffer(GL_ELEMENT_ARRAY_BUFFER, arg4);\r\n            glDrawElements(GL_TRIANGLES, dc, GL_UNSIGNED_INT, 0);\r\n\r\n\r\n            //Unbind buffers\r\n            glBindBuffer(GL_ELEMENT_ARRAY_BUFFER, 0);\r\n            glBindBuffer(GL_ARRAY_BUFFER, 0);\r\n            //Disable\r\n            glDisableVertexAttribArray(0);\r\n            glDisableVertexAttribArray(1);\r\n\r\n            glfwSwapBuffers(window);\r\n            if (glfwWindowShouldClose(window)) shutdown();\r\n            System.out.println(glGetError());\r\n        }\r\n\r\n        glfwFreeCallbacks(this.window);\r\n        glfwDestroyWindow(this.window);\r\n        glfwTerminate();\r\n        glfwSetErrorCallback(null).free();\r\n    }\r\n\r\n    void shutdown(){\r\n        this.running = false;\r\n    }\r\n}\r\n```\r\nShader.java:\r\n```java\r\npublic class Shader {\r\n    private int program, vs, fs;\r\n\r\n    public Shader(String name) {\r\n        try {\r\n            this.program = glCreateProgram();\r\n\r\n            this.vs = glCreateShader(GL_VERTEX_SHADER);\r\n            glShaderSource(this.vs, FileHandler.readFile(&quot;shaders/&quot; + name + &quot;.vs&quot;));\r\n            glCompileShader(this.vs);\r\n            if (glGetShaderi(this.vs, GL_COMPILE_STATUS) != 1) throw new RuntimeException(&quot;shader.compile.failed\\n&quot; + glGetShaderInfoLog(vs));\r\n\r\n            this.fs = glCreateShader(GL_FRAGMENT_SHADER);\r\n            glShaderSource(this.fs, FileHandler.readFile(&quot;shaders/&quot; + name + &quot;.fs&quot;));\r\n            glCompileShader(this.fs);\r\n            if (glGetShaderi(this.fs, GL_COMPILE_STATUS) != 1) throw new RuntimeException(&quot;shader.compile.failed&quot; + glGetShaderInfoLog(fs));\r\n\r\n            glAttachShader(this.program, this.vs);\r\n            glAttachShader(this.program, this.fs);\r\n\r\n            glBindAttribLocation(this.program, 0, &quot;vertices&quot;);\r\n            glBindAttribLocation(this.program, 1, &quot;textures&quot;);\r\n\r\n            glLinkProgram(this.program);\r\n            if (glGetProgrami(this.program, GL_LINK_STATUS) != 1) throw new RuntimeException(&quot;shader.link.failed&quot;);\r\n            glValidateProgram(this.program);\r\n            if (glGetProgrami(this.program, GL_VALIDATE_STATUS) != 1) throw new RuntimeException(&quot;shader.validation.failed&quot;);\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n            System.exit(1);\r\n        }\r\n    }\r\n\r\n    public void updateShaderParameters() {\r\n        this.setUniform(&quot;sampler&quot;, 0);\r\n        int location = glGetUniformLocation(this.program, &quot;windowSize&quot;);\r\n        if (location != 1) {\r\n            glUniform2f(location, 1000, 1000);\r\n        }\r\n    }\r\n\r\n    public void setUniform(String name, int value) {\r\n        int location = glGetUniformLocation(this.program, name);\r\n        if (location != -1) {\r\n            glUniform1i(location, value);\r\n        }\r\n    }\r\n\r\n    public void bind() {\r\n        glUseProgram(this.program);\r\n        this.updateShaderParameters();\r\n    }\r\n}\r\n```\r\nVertex Shader:\r\n```\r\n#version 330 core\r\n\r\nlayout (location = 0) in vec2 vertices;\r\nlayout (location = 1) in vec2 textures;\r\n\r\nuniform vec2 windowSize;\r\n\r\nout vec2 tex_coords;\r\n\r\nvoid main() {\r\n    tex_coords = textures;\r\n    gl_Position = vec4(2.0/windowSize.x * vertices.x - 1.0, (2.0/windowSize.y * vertices.y - 1.0) * -1.0, 1, 1);\r\n}\r\n\r\n```\r\nFragment Shader:\r\n```\r\n#version 330 core\r\n\r\nuniform sampler2D sampler;\r\n\r\nout vec4 FragColor;\r\n\r\nin vec2 tex_coords;\r\n\r\nvoid main() {\r\n    if (texture(sampler, tex_coords).a != 1.0f) {\r\n        discard;\r\n    }\r\n\r\n    FragColor = texture(sampler, tex_coords);\r\n}\r\n```\r\nBufferCreator.java and FileHandler.java are simple utility-classes which seem to work perfectly.\r\n\r\nI assume, it has something to do with the Sampler because when I remove the if...discard statement in the Fragment Shader and set FragColor to some random values, it is drawn.","title":"LWJGL: Unable to draw textures using nvidia gpu","body":"<p>So we're developing a simple game in Java using LWJGL with GLFW and OpenGL 3.3.</p>\n<p>On AMD and Intel it works perfectly but on Nvidia it doesn't. The screen is just black (the value from glClearColor), there are neither Java-exceptions nor OpenGL-Errors.</p>\n<p>What are we doing wrong?</p>\n<p>Main.java:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Main {\n    Shader defaultShader;\n    boolean running = false;\n    long window;\n    int width = 1000;\n    int height = 1000;\n    String title = &quot;pain&quot;;\n    int vao;\n\n    public static void main(String[] args){\n        var pain = new Pain();\n        pain.init();\n        pain.run();\n    }\n\n    public void init() throws RuntimeException {\n        GLFWErrorCallback.createPrint(System.err).set();\n        if (!glfwInit()) throw new RuntimeException(&quot;glfw.init.failed&quot;);\n\n        glfwDefaultWindowHints();\n        glfwWindowHint(GLFW_CONTEXT_VERSION_MAJOR, 3);\n        glfwWindowHint(GLFW_CONTEXT_VERSION_MINOR, 3);\n        glfwWindowHint(GLFW_VISIBLE, GLFW_FALSE);\n        glfwWindowHint(GLFW_RESIZABLE, GLFW_FALSE);\n\n        this.window = glfwCreateWindow(this.width, this.height, this.title, 0, 0);\n        if (window == NULL) throw new RuntimeException(&quot;glfw.window.failed&quot;);\n\n        glfwMakeContextCurrent(window);\n        glfwSwapInterval(1);\n        GL.createCapabilities();\n        glEnable(GL_TEXTURE_2D);\n\n        this.vao = glGenVertexArrays();\n        glBindVertexArray(vao);\n\n        this.defaultShader = new Shader(&quot;main&quot;);\n\n        glClearColor(0.0f, 0.0f, 0.0f, 1.0f);\n    }\n\n    public void run() {\n        this.running = true;\n        glfwShowWindow(window);\n\n        IntBuffer width = BufferUtils.createIntBuffer(1);\n        IntBuffer height = BufferUtils.createIntBuffer(1);\n        IntBuffer comp = BufferUtils.createIntBuffer(1);\n\n        ByteBuffer data = null;\n        try {\n            data = stbi_load_from_memory(BufferCreator.createByteBuffer(FileHandler.readFileAsBytes(&quot;fuckoff/&quot; + &quot;heal_powerup.png&quot;)), width, height, comp, 4);\n        } catch (IOException ignored) {}\n        if (data == null) throw new RuntimeException(&quot;texture.load.failed&quot;);\n\n        int id = glGenTextures();\n        int twidth = width.get();\n        int theight = height.get();\n\n        glBindTexture(GL_TEXTURE_2D, id);\n\n        glTexParameterf(GL_TEXTURE_2D, GL_TEXTURE_MIN_FILTER, GL_NEAREST);\n        glTexParameterf(GL_TEXTURE_2D, GL_TEXTURE_MAG_FILTER, GL_NEAREST);\n\n        glTexImage2D(GL_TEXTURE_2D, 0, GL_RGBA, twidth, theight, 0, GL_RGBA, GL_UNSIGNED_BYTE, data);\n        stbi_image_free(data);\n\n        int vid;\n        int tid;\n        int dc;\n        int arg4;\n        int[] indices = {0, 1, 2, 2, 3, 0};\n        dc = indices.length;\n\n        vid = glGenBuffers();\n        glBindBuffer(GL_ARRAY_BUFFER, vid);\n        glBufferData(GL_ARRAY_BUFFER, BufferCreator.createFloatBuffer(new float[]{\n                0.0f, 0.0f,\n                100.0f, 0.0f,\n                100.0f, 100.0f,\n                0.0f, 100.0f\n        }), GL_DYNAMIC_DRAW);\n\n        arg4 = glGenBuffers();\n        glBindBuffer(GL_ELEMENT_ARRAY_BUFFER, arg4);\n        glBufferData(GL_ELEMENT_ARRAY_BUFFER, BufferCreator.createIntBuffer(indices), GL_STATIC_DRAW);\n\n        tid = glGenBuffers();\n        glBindBuffer(GL_ARRAY_BUFFER, tid);\n        glBufferData(GL_ARRAY_BUFFER, BufferCreator.createFloatBuffer(new float[]{\n                0.0f, 0.0f,\n                1.0f, 0.0f,\n                1.0f, 1.0f,\n                0.0f, 1.0f\n        }), GL_STATIC_DRAW);\n\n        glBindBuffer(GL_ARRAY_BUFFER, 0);\n        glBindBuffer(GL_ELEMENT_ARRAY_BUFFER, 0);\n\n\n\n        while(this.running) {\n            glfwPollEvents();\n            glClear(GL_COLOR_BUFFER_BIT);\n\n            defaultShader.bind();\n\n            glBindTexture(GL_TEXTURE_2D, id);\n            this.defaultShader.setUniform(&quot;sampler&quot;, 0);\n\n            glEnableVertexAttribArray(0);\n            glEnableVertexAttribArray(1);\n\n            glBindBuffer(GL_ARRAY_BUFFER, vid);\n            glVertexAttribPointer(0, 2, GL_FLOAT, false, 0, 0);\n\n            glBindBuffer(GL_ARRAY_BUFFER, tid);\n            glVertexAttribPointer(1, 2, GL_FLOAT, false, 0, 0);\n\n            glBindBuffer(GL_ELEMENT_ARRAY_BUFFER, arg4);\n            glDrawElements(GL_TRIANGLES, dc, GL_UNSIGNED_INT, 0);\n\n\n            //Unbind buffers\n            glBindBuffer(GL_ELEMENT_ARRAY_BUFFER, 0);\n            glBindBuffer(GL_ARRAY_BUFFER, 0);\n            //Disable\n            glDisableVertexAttribArray(0);\n            glDisableVertexAttribArray(1);\n\n            glfwSwapBuffers(window);\n            if (glfwWindowShouldClose(window)) shutdown();\n            System.out.println(glGetError());\n        }\n\n        glfwFreeCallbacks(this.window);\n        glfwDestroyWindow(this.window);\n        glfwTerminate();\n        glfwSetErrorCallback(null).free();\n    }\n\n    void shutdown(){\n        this.running = false;\n    }\n}\n</code></pre>\n<p>Shader.java:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Shader {\n    private int program, vs, fs;\n\n    public Shader(String name) {\n        try {\n            this.program = glCreateProgram();\n\n            this.vs = glCreateShader(GL_VERTEX_SHADER);\n            glShaderSource(this.vs, FileHandler.readFile(&quot;shaders/&quot; + name + &quot;.vs&quot;));\n            glCompileShader(this.vs);\n            if (glGetShaderi(this.vs, GL_COMPILE_STATUS) != 1) throw new RuntimeException(&quot;shader.compile.failed\\n&quot; + glGetShaderInfoLog(vs));\n\n            this.fs = glCreateShader(GL_FRAGMENT_SHADER);\n            glShaderSource(this.fs, FileHandler.readFile(&quot;shaders/&quot; + name + &quot;.fs&quot;));\n            glCompileShader(this.fs);\n            if (glGetShaderi(this.fs, GL_COMPILE_STATUS) != 1) throw new RuntimeException(&quot;shader.compile.failed&quot; + glGetShaderInfoLog(fs));\n\n            glAttachShader(this.program, this.vs);\n            glAttachShader(this.program, this.fs);\n\n            glBindAttribLocation(this.program, 0, &quot;vertices&quot;);\n            glBindAttribLocation(this.program, 1, &quot;textures&quot;);\n\n            glLinkProgram(this.program);\n            if (glGetProgrami(this.program, GL_LINK_STATUS) != 1) throw new RuntimeException(&quot;shader.link.failed&quot;);\n            glValidateProgram(this.program);\n            if (glGetProgrami(this.program, GL_VALIDATE_STATUS) != 1) throw new RuntimeException(&quot;shader.validation.failed&quot;);\n        } catch (IOException e) {\n            e.printStackTrace();\n            System.exit(1);\n        }\n    }\n\n    public void updateShaderParameters() {\n        this.setUniform(&quot;sampler&quot;, 0);\n        int location = glGetUniformLocation(this.program, &quot;windowSize&quot;);\n        if (location != 1) {\n            glUniform2f(location, 1000, 1000);\n        }\n    }\n\n    public void setUniform(String name, int value) {\n        int location = glGetUniformLocation(this.program, name);\n        if (location != -1) {\n            glUniform1i(location, value);\n        }\n    }\n\n    public void bind() {\n        glUseProgram(this.program);\n        this.updateShaderParameters();\n    }\n}\n</code></pre>\n<p>Vertex Shader:</p>\n<pre><code>#version 330 core\n\nlayout (location = 0) in vec2 vertices;\nlayout (location = 1) in vec2 textures;\n\nuniform vec2 windowSize;\n\nout vec2 tex_coords;\n\nvoid main() {\n    tex_coords = textures;\n    gl_Position = vec4(2.0/windowSize.x * vertices.x - 1.0, (2.0/windowSize.y * vertices.y - 1.0) * -1.0, 1, 1);\n}\n\n</code></pre>\n<p>Fragment Shader:</p>\n<pre><code>#version 330 core\n\nuniform sampler2D sampler;\n\nout vec4 FragColor;\n\nin vec2 tex_coords;\n\nvoid main() {\n    if (texture(sampler, tex_coords).a != 1.0f) {\n        discard;\n    }\n\n    FragColor = texture(sampler, tex_coords);\n}\n</code></pre>\n<p>BufferCreator.java and FileHandler.java are simple utility-classes which seem to work perfectly.</p>\n<p>I assume, it has something to do with the Sampler because when I remove the if...discard statement in the Fragment Shader and set FragColor to some random values, it is drawn.</p>\n"},{"tags":["java","dependency-injection","null","javabeans"],"owner":{"account_id":5475652,"reputation":11,"user_id":4353734,"display_name":"zone4182"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1643114542,"creation_date":1643099852,"question_id":70845604,"body_markdown":"I have 2 beans that are created in the same SecurityConfig class, like this:\r\n\r\n    @Bean\r\n    ApiClientRequestFactory getKeycloakClientRequestFactory() {\r\n        println &quot;Init keycloakClientRequestFactory &quot;+customerContextProviderFactory\r\n\r\n        ApiClientRequestFactory factory = new ApiClientRequestFactory(customerContextProviderFactory, tokenProvider)\r\n        factory.setConnectionRequestTimeout(5000)\r\n        factory.setReadTimeout(1200000)\r\n        return factory\r\n    }\r\n\r\n    @Bean\r\n    KeycloakAsyncClientRequestFactory getKeycloakAsyncClientRequestFactory() {\r\n        println &quot;Init keycloakAsyncClientRequestFactory &quot;+customerContextProviderFactory\r\n\r\n        KeycloakAsyncClientRequestFactory factory = new KeycloakAsyncClientRequestFactory(customerContextProviderFactory, tokenProvider)\r\n        factory.setConnectionRequestTimeout(20000)\r\n        factory.setReadTimeout(1200000)\r\n        return factory\r\n    }\r\n\r\nThe customerContextProviderFactory and tokenProviderare both @Autowired within the Security config class, these methods are like:\r\n\r\n    class SecurityConfig extends KeycloakWebSecurityConfigurerAdapter {\r\n\r\n    @Autowired\r\n    GrailsApplication grailsApplication\r\n    @Autowired\r\n    CustomerContextProviderFactory customerContextProviderFactory\r\n    @Autowired\r\n    TokenProvider tokenProvider\r\n\r\nNow, when i start my application, both of the fields are null in the first instance but filled in the second. I don&#39;t understand what the difference would be. Can someone help me figure it out? The console shows:\r\n\r\n```none\r\nInit keycloakClientRequestFactory null\r\n\r\nInit keycloakAsyncClientRequestFactory com.tst.myapp.customer.RoleBasedCustomerContextProviderFactory@22a4c764\r\n```","title":"2 similar beans use same injected fields, in one the fields are null, the other are filled","body":"<p>I have 2 beans that are created in the same SecurityConfig class, like this:</p>\n<pre><code>@Bean\nApiClientRequestFactory getKeycloakClientRequestFactory() {\n    println &quot;Init keycloakClientRequestFactory &quot;+customerContextProviderFactory\n\n    ApiClientRequestFactory factory = new ApiClientRequestFactory(customerContextProviderFactory, tokenProvider)\n    factory.setConnectionRequestTimeout(5000)\n    factory.setReadTimeout(1200000)\n    return factory\n}\n\n@Bean\nKeycloakAsyncClientRequestFactory getKeycloakAsyncClientRequestFactory() {\n    println &quot;Init keycloakAsyncClientRequestFactory &quot;+customerContextProviderFactory\n\n    KeycloakAsyncClientRequestFactory factory = new KeycloakAsyncClientRequestFactory(customerContextProviderFactory, tokenProvider)\n    factory.setConnectionRequestTimeout(20000)\n    factory.setReadTimeout(1200000)\n    return factory\n}\n</code></pre>\n<p>The customerContextProviderFactory and tokenProviderare both @Autowired within the Security config class, these methods are like:</p>\n<pre><code>class SecurityConfig extends KeycloakWebSecurityConfigurerAdapter {\n\n@Autowired\nGrailsApplication grailsApplication\n@Autowired\nCustomerContextProviderFactory customerContextProviderFactory\n@Autowired\nTokenProvider tokenProvider\n</code></pre>\n<p>Now, when i start my application, both of the fields are null in the first instance but filled in the second. I don't understand what the difference would be. Can someone help me figure it out? The console shows:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Init keycloakClientRequestFactory null\n\nInit keycloakAsyncClientRequestFactory com.tst.myapp.customer.RoleBasedCustomerContextProviderFactory@22a4c764\n</code></pre>\n"},{"tags":["java","constructor","abstract-class","super"],"answers":[{"tags":[],"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1643101049,"creation_date":1643101049,"answer_id":70845858,"question_id":70844384,"body_markdown":"Ok, first, you are not using the super constructor correctly. There is lot of info online, start with [javadoc][1]. To summarize it, invoking the super constructor with some parameters in the child class contructor will pass the parameters to it, and will do the operations you declared in it(validating and setting the fields in your case). You don&#39;t need to set the fields by hand after invoking it. You can think of it as invoking a special type of method.\r\n\r\nRight triangle will look like this:\r\n\r\n    public class RightTriangle extends Triangle {\r\n    \r\n        public RightTriangle(double sideA, double sideB) {\r\n            super(sideA, sideB, calculateHypotenuse(sideA, sideB));\r\n        }\r\n    \r\n        private static double calculateHypotenuse(double sideA, double sideB) {\r\n            //implement it, using the formula\r\n            return 0;\r\n        }\r\n    \r\n        @Override\r\n        public double getArea() {\r\n            //implement it using formula\r\n            return 0;\r\n        }\r\n    }\r\nAs you can see call to super constructor is first stamement in this contructor, and passing to it parameters from this constructor(sideA and sideB). Hypotenuse(sideC) is calculated using `static` method, it is not possible to use `this` when invoking super constructor.\r\n\r\nEquilateral triangle will look like that:\r\n\r\n    public class EquilateralTriangle extends Triangle {\r\n    \r\n        public EquilateralTriangle(double sideLength) {\r\n            super(sideLength, sideLength, sideLength);\r\n        }\r\n    \r\n        @Override\r\n        public double getArea() {\r\n            //calculate it using formula\r\n            return 0;\r\n        }\r\n    }\r\nNote how sideLength is passed as every parameter in the super constructor(sideA, sideB, sideC). The super constructor will set and validate them. This should fix all compilation problems you have.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/java/IandI/super.html","title":"How Can I use super without Cannot refer to an instance field sideC while explicitly invoking a constructor","body":"<p>Ok, first, you are not using the super constructor correctly. There is lot of info online, start with <a href=\"https://docs.oracle.com/javase/tutorial/java/IandI/super.html\" rel=\"nofollow noreferrer\">javadoc</a>. To summarize it, invoking the super constructor with some parameters in the child class contructor will pass the parameters to it, and will do the operations you declared in it(validating and setting the fields in your case). You don't need to set the fields by hand after invoking it. You can think of it as invoking a special type of method.</p>\n<p>Right triangle will look like this:</p>\n<pre><code>public class RightTriangle extends Triangle {\n\n    public RightTriangle(double sideA, double sideB) {\n        super(sideA, sideB, calculateHypotenuse(sideA, sideB));\n    }\n\n    private static double calculateHypotenuse(double sideA, double sideB) {\n        //implement it, using the formula\n        return 0;\n    }\n\n    @Override\n    public double getArea() {\n        //implement it using formula\n        return 0;\n    }\n}\n</code></pre>\n<p>As you can see call to super constructor is first stamement in this contructor, and passing to it parameters from this constructor(sideA and sideB). Hypotenuse(sideC) is calculated using <code>static</code> method, it is not possible to use <code>this</code> when invoking super constructor.</p>\n<p>Equilateral triangle will look like that:</p>\n<pre><code>public class EquilateralTriangle extends Triangle {\n\n    public EquilateralTriangle(double sideLength) {\n        super(sideLength, sideLength, sideLength);\n    }\n\n    @Override\n    public double getArea() {\n        //calculate it using formula\n        return 0;\n    }\n}\n</code></pre>\n<p>Note how sideLength is passed as every parameter in the super constructor(sideA, sideB, sideC). The super constructor will set and validate them. This should fix all compilation problems you have.</p>\n"}],"owner":{"account_id":19018243,"reputation":1,"user_id":13882787,"display_name":"Holly Wong"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1643114402,"creation_date":1643092961,"question_id":70844384,"body_markdown":"\r\n   ``` \r\n   public abstract class Triangle {\r\n\r\n\tprotected double sideA, sideB, sideC;\r\n\t\r\n\tpublic Triangle(double sideA, double sideB, double sideC) {\r\n\t\t\r\n\t\tthis.sideA = sideA;\r\n\t\tthis.sideB = sideB;\r\n\t\tthis.sideC = sideC;\r\n\t}\r\n\t\r\n}\r\n```\r\nI would wonder how can I use the super() without the error Cannot refer to an instance field sideC while explicitly invoking a constructor. Below are the code I got error.\r\n\r\n```\r\npublic RightTriangle(double sideA, double sideB) {\r\n\r\n\t    super(sideA, sideB, sideC);\r\n\t\tthis.sideA = sideA;\r\n\t\tthis.sideB = sideB;\r\n        this.sideC = getHypotenuse.sideC;\r\n\r\n\t}\r\n\t \r\n\tpublic EquilateralTriangle(double sideLength) {\r\n\t\t\r\n\t\tsuper(sideA, sideB, sideC);\r\n\t\tsuper.sideA = sideLength;\r\n\t\tsuper.sideB = sideLength;\r\n\t\tsuper.sideC = sideLength;\r\n\t}\r\n```\r\nAnd I also get the error on the code below. \r\n\t- sideA cannot be resolved or is \r\n\t not a field\r\n\t- sideB cannot be resolved or is \r\n\t not a field\r\n\t- sideC cannot be resolved or is \r\n\t not a field\r\n```\r\nEquilateralTriangle et = new EquilateralTriangle(1);\r\n```\r\nConstructor:\r\n```\r\npublic EquilateralTriangle(double sideLength) {\r\n\t\t\r\n\t\tsuper(sideA, sideB, sideC);\r\n\t\tsuper.sideA = sideLength;\r\n\t\tsuper.sideB = sideLength;\r\n\t\tsuper.sideC = sideLength;\r\n\t}\r\n```\r\nWhy this constructor cannot be called in new EquilateralTriangle(1) ?\r\nPlease help me to figure it out these.","title":"How Can I use super without Cannot refer to an instance field sideC while explicitly invoking a constructor","body":"<pre><code>public abstract class Triangle {\n\n protected double sideA, sideB, sideC;\n \n public Triangle(double sideA, double sideB, double sideC) {\n     \n     this.sideA = sideA;\n     this.sideB = sideB;\n     this.sideC = sideC;\n }\n \n}\n</code></pre>\n<p>I would wonder how can I use the super() without the error Cannot refer to an instance field sideC while explicitly invoking a constructor. Below are the code I got error.</p>\n<pre><code>public RightTriangle(double sideA, double sideB) {\n\n        super(sideA, sideB, sideC);\n        this.sideA = sideA;\n        this.sideB = sideB;\n        this.sideC = getHypotenuse.sideC;\n\n    }\n     \n    public EquilateralTriangle(double sideLength) {\n        \n        super(sideA, sideB, sideC);\n        super.sideA = sideLength;\n        super.sideB = sideLength;\n        super.sideC = sideLength;\n    }\n</code></pre>\n<p>And I also get the error on the code below.\n- sideA cannot be resolved or is\nnot a field\n- sideB cannot be resolved or is\nnot a field\n- sideC cannot be resolved or is\nnot a field</p>\n<pre><code>EquilateralTriangle et = new EquilateralTriangle(1);\n</code></pre>\n<p>Constructor:</p>\n<pre><code>public EquilateralTriangle(double sideLength) {\n        \n        super(sideA, sideB, sideC);\n        super.sideA = sideLength;\n        super.sideB = sideLength;\n        super.sideC = sideLength;\n    }\n</code></pre>\n<p>Why this constructor cannot be called in new EquilateralTriangle(1) ?\nPlease help me to figure it out these.</p>\n"},{"tags":["java","xml"],"comments":[{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":3,"creation_date":1642437821,"post_id":70744724,"comment_id":125065232,"body_markdown":"`NodeList nList = doc.getElementsByTagName(&quot;Object&quot;)` - you don&#39;t have any elements called `Object`... they&#39;re called `Property`. Likewise you don&#39;t have any attributes called `id`. The only attributes in your document are called `Name`.","body":"<code>NodeList nList = doc.getElementsByTagName(&quot;Object&quot;)</code> - you don&#39;t have any elements called <code>Object</code>... they&#39;re called <code>Property</code>. Likewise you don&#39;t have any attributes called <code>id</code>. The only attributes in your document are called <code>Name</code>."},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1642437849,"post_id":70744724,"comment_id":125065248,"body_markdown":"`getAttribute(&quot;id&quot;)` isn&#39;t correct. Your attribute is `Name` with a value of id. You&#39;re also skipping the child nodes. Not sure if that&#39;s intentional","body":"<code>getAttribute(&quot;id&quot;)</code> isn&#39;t correct. Your attribute is <code>Name</code> with a value of id. You&#39;re also skipping the child nodes. Not sure if that&#39;s intentional"},{"owner":{"account_id":23690682,"reputation":11,"user_id":17715064,"display_name":"Sunil Kumar Chitumalla"},"score":0,"creation_date":1642438286,"post_id":70744724,"comment_id":125065436,"body_markdown":"@OneCricketeer: How to print def from &lt;Property Name=&quot;username&quot;&gt;def&lt;/Property&gt;","body":"@OneCricketeer: How to print def from &lt;Property Name=&quot;username&quot;&gt;def&lt;/Property&gt;"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1642439085,"post_id":70744724,"comment_id":125065731,"body_markdown":"I don&#39;t know. How about `eElement.getNodeValue()`?","body":"I don&#39;t know. How about <code>eElement.getNodeValue()</code>?"}],"answers":[{"tags":[],"owner":{"account_id":2881635,"reputation":2419,"user_id":2472398,"display_name":"gru"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642452096,"creation_date":1642452096,"answer_id":70747285,"question_id":70744724,"body_markdown":"I recommend you to use a library like [jsoup][1] for reading XML files, since you get a lot of functionality out of the box. \r\n\r\nAlso read: https://stackoverflow.com/questions/9886531/how-to-parse-xml-with-jsoup\r\n\r\n\r\n  [1]: https://jsoup.org/","title":"How to read XML file using java","body":"<p>I recommend you to use a library like <a href=\"https://jsoup.org/\" rel=\"nofollow noreferrer\">jsoup</a> for reading XML files, since you get a lot of functionality out of the box.</p>\n<p>Also read: <a href=\"https://stackoverflow.com/questions/9886531/how-to-parse-xml-with-jsoup\">How to parse XML with jsoup</a></p>\n"},{"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642457262,"creation_date":1642457262,"answer_id":70748077,"question_id":70744724,"body_markdown":"You can use [XPath][1] to run quite different queries.\r\n\r\n    File fXmlFile = new File(&quot;C:\\\\Users\\\\welcome\\\\Downloads\\\\ta\\\\abc.xml&quot;);\r\n    DocumentBuilderFactory dbFactory = DocumentBuilderFactory.newInstance();\r\n    DocumentBuilder dBuilder = dbFactory.newDocumentBuilder();\r\n    Document doc = dBuilder.parse(fXmlFile);\r\n\r\n    //Get an XPath object and evaluate the expression\r\n    XPath xpath = XPathFactory.newInstance().newXPath();\r\n    String propertyId = xpath.evaluate(&quot;/Tree/child[1]/Property[@name=&#39;id&#39;]&quot;, document);\r\n\r\nMore likely you want to loop over all the child elements, which can be done like\r\n\r\n    NodeList children = (NodeList)xpath.evaluate(&quot;/Tree/child&quot;, doc, XPathConstants.NODESET);\r\n    for (int i=0;i&lt;children.getLength();i++) {\r\n        Element child = (Element)children.get(i);\r\n        String propertyId = child.getAttribute(&quot;id&quot;);\r\n        ...\r\n    }\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/11/docs/api/java.xml/javax/xml/xpath/package-summary.html","title":"How to read XML file using java","body":"<p>You can use <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.xml/javax/xml/xpath/package-summary.html\" rel=\"nofollow noreferrer\">XPath</a> to run quite different queries.</p>\n<pre><code>File fXmlFile = new File(&quot;C:\\\\Users\\\\welcome\\\\Downloads\\\\ta\\\\abc.xml&quot;);\nDocumentBuilderFactory dbFactory = DocumentBuilderFactory.newInstance();\nDocumentBuilder dBuilder = dbFactory.newDocumentBuilder();\nDocument doc = dBuilder.parse(fXmlFile);\n\n//Get an XPath object and evaluate the expression\nXPath xpath = XPathFactory.newInstance().newXPath();\nString propertyId = xpath.evaluate(&quot;/Tree/child[1]/Property[@name='id']&quot;, document);\n</code></pre>\n<p>More likely you want to loop over all the child elements, which can be done like</p>\n<pre><code>NodeList children = (NodeList)xpath.evaluate(&quot;/Tree/child&quot;, doc, XPathConstants.NODESET);\nfor (int i=0;i&lt;children.getLength();i++) {\n    Element child = (Element)children.get(i);\n    String propertyId = child.getAttribute(&quot;id&quot;);\n    ...\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643114400,"creation_date":1642476369,"answer_id":70749964,"question_id":70744724,"body_markdown":"Reading XML files is not a trivial task by any means. It requires the reader to have intimate knowledge of the structure of the file. By that, I mean, what are the element names, the attribute names, the data type of the attributes, the order of the elements, whether the elements are simple of complex (meaning they are flat or have nested elements underneath).\r\n\r\nOne solution, as shown by Jon Skeet&#39;s comment, is to use Java [Document API][1]. This interface has all the methods you will need to get data from an XML file. However, in my opinion, this still leaves the reader with the task of knowing the element and attribute names.\r\n\r\nIf a XML schema (XSD) or Document Type Definition (DTD) for a given XML is available or can be easily constructed, I prefer to use one of the many libraries to parse XML contents; to name a few StaX, JDOM, DOM4j, JAXB. Because I have used it extensively, I prefer JAXB. There are some limitations to JAXB, but those are out of scope for this discussion. One thing worth mentioning is that JAXB is included in Java distributions from Java 6 to 10. Outside of those versions, you must download the JAXB distribution yourself.\r\n\r\nOne of the primary reasons I used JAXB is that I can use annotations in POJOs to structure a class according to existing XMLs without needing to build a schema. Of course, this is not always simple to do. It is almost always compile your JAXB classes according to a schema. Because this will produce Java custom classes for your XML documents, you can call elements an attributes by their getter methods, rather than putting the burden on the reader to know the element names.\r\n\r\nI used the OPs XML file to generate a schema using [XML Copy Editor][2]. The resulting schema looks like this:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;xs:schema xmlns:xs=&quot;http://www.w3.org/2001/XMLSchema&quot; elementFormDefault=&quot;qualified&quot;&gt;\r\n      &lt;xs:element name=&quot;Tree&quot;&gt;\r\n        &lt;xs:complexType&gt;\r\n          &lt;xs:sequence&gt;\r\n            &lt;xs:element ref=&quot;child&quot; maxOccurs=&quot;unbounded&quot;/&gt;\r\n          &lt;/xs:sequence&gt;\r\n        &lt;/xs:complexType&gt;\r\n      &lt;/xs:element&gt;\r\n      &lt;xs:element name=&quot;child&quot;&gt;\r\n        &lt;xs:complexType&gt;\r\n          &lt;xs:sequence&gt;\r\n            &lt;xs:element ref=&quot;Property&quot; maxOccurs=&quot;unbounded&quot;/&gt;\r\n          &lt;/xs:sequence&gt;\r\n        &lt;/xs:complexType&gt;\r\n      &lt;/xs:element&gt;\r\n      &lt;xs:element name=&quot;Property&quot;&gt;\r\n        &lt;xs:complexType mixed=&quot;true&quot;&gt;\r\n          &lt;xs:attribute name=&quot;Name&quot; type=&quot;xs:string&quot; use=&quot;required&quot;/&gt;\r\n        &lt;/xs:complexType&gt;\r\n      &lt;/xs:element&gt;\r\n    &lt;/xs:schema&gt;\r\n\r\n Once you have the schema, you can use it to compile the JAXB classes using the XJC compiler that comes with Java. Here is an example on how to compile the JAXB classes: https://docs.oracle.com/javase/tutorial/jaxb/intro/examples.html\r\n\r\nTo download the JAXB compiler, go to https://javaee.github.io/jaxb-v2/ and click &quot;Download standalone distribution&quot;. You can place the contents of the ZIP file anywhere on your computer. Then, simply set *JAXB_HOME* on your environment variables and you are set.  This might seem like a lot of work but up to this point, these are one-time activities. The upside is when you have your environment set up, it will literally take you seconds to compile all your classes; even if you need to generate the schema based on your XML.\r\n\r\nExecuting the compiler generated `Tree.java`, `Child.java`, and `Property.java`.\r\n\r\nTree.java\r\n---------\r\n\r\n```\r\n@XmlAccessorType(XmlAccessType.FIELD)\r\n@XmlType(name = &quot;&quot;, propOrder = {\r\n    &quot;child&quot;\r\n})\r\n@XmlRootElement(name = &quot;Tree&quot;)\r\npublic class Tree {\r\n\r\n    @XmlElement(required = true)\r\n    protected List&lt;Child&gt; child;\r\n\r\n    public List&lt;Child&gt; getChild() {\r\n        if (child == null) {\r\n            child = new ArrayList&lt;Child&gt;();\r\n        }\r\n        return this.child;\r\n    }\r\n}\r\n```\r\n\r\nChild.java\r\n----------\r\n```\r\n@XmlAccessorType(XmlAccessType.FIELD)\r\n@XmlType(name = &quot;&quot;, propOrder = {\r\n    &quot;property&quot;\r\n})\r\n@XmlRootElement(name = &quot;child&quot;)\r\npublic class Child {\r\n\r\n    @XmlElement(name = &quot;Property&quot;, required = true)\r\n    protected List&lt;Property&gt; property;\r\n\r\n    public List&lt;Property&gt; getProperty() {\r\n        if (property == null) {\r\n            property = new ArrayList&lt;Property&gt;();\r\n        }\r\n        return this.property;\r\n    }\r\n}\r\n```\r\nProperty.java\r\n-------------\r\n```\r\n@XmlAccessorType(XmlAccessType.FIELD)\r\n@XmlType(name = &quot;&quot;, propOrder = {\r\n    &quot;content&quot;\r\n})\r\n@XmlRootElement(name = &quot;Property&quot;)\r\npublic class Property {\r\n\r\n    @XmlValue\r\n    protected String content;\r\n    @XmlAttribute(name = &quot;Name&quot;, required = true)\r\n    protected String name;\r\n\r\n    public String getContent() {\r\n        return content;\r\n    }\r\n\r\n    public void setContent(String value) {\r\n        this.content = value;\r\n    }\r\n\r\n    public String getName() {\r\n        return name;\r\n    }\r\n\r\n    public void setName(String value) {\r\n        this.name = value;\r\n    }\r\n}\r\n```\r\n\r\nHow to use these classes\r\n------------------------\r\nThe reading process (unmarshaling) converts the XML file into these generated data types. The JAXB unmarshaling process uses the `JAXBContext` utility class to create an unmarshaler and then call the unmarshal method to convert the XML file into objects:\r\n\r\n```\r\nJAXBContext context = JAXBContext.newInstance(Tree.class); // the argument is the root node\r\nTree xmlDoc = (Tree) context.createUnmarshaller().unmarshal(new FileReader(&quot;abc.xml&quot;)); // Reads the XML and returns a Java object\r\n```\r\nTo write, you will use the Java classes to store the data and create the structure. In this case, you will need to create the required `Property` objects, the `Child` container for the property elements, and the root node which is the `Tree` node. You  can add elements one at a time or create a list of them and add them all at once. Once the root node object is populated, simply pass it to the marshaler...\r\n\r\n```\r\nJAXBContext context = JAXBContext.newInstance(Tree.class);\r\nMarshaller mar= context.createMarshaller();\r\nmar.setProperty(Marshaller.JAXB_FORMATTED_OUTPUT, Boolean.TRUE); // formatting the xml file\r\nmar.marshal(tree, new File(&quot;abc.xml&quot;)); // saves the &quot;Tree&quot; object as &quot;abc.xml&quot;\r\n```\r\n\r\nAll together\r\n----------\r\n```\r\nimport java.io.File;\r\nimport java.io.FileNotFoundException;\r\nimport java.io.FileReader;\r\nimport java.util.List;\r\n\r\nimport javax.xml.bind.JAXBContext;\r\nimport javax.xml.bind.JAXBException;\r\nimport javax.xml.bind.Marshaller;\r\n\r\npublic class JAXBDemo {\r\n\tpublic static void main(String[] args) {\r\n\t\ttry {\r\n\t\t\t// write\r\n\t\t\tTree tree = new Tree();\r\n\t\t\tProperty prop0 = new Property();\r\n\t\t\tprop0.setName(&quot;id&quot;);\r\n\t\t\tprop0.setContent(&quot;&quot;);\r\n\t\t\t\r\n\t\t\tProperty prop1 = new Property();\r\n\t\t\tprop1.setName(&quot;username&quot;);\r\n\t\t\tprop1.setContent(&quot;abc&quot;);\r\n\t\t\t\r\n\t\t\tProperty prop2 = new Property();\r\n\t\t\tprop2.setName(&quot;phoneType&quot;);\r\n\t\t\tprop2.setContent(&quot;phone1&quot;);\r\n\r\n\t\t\tProperty prop3 = new Property();\r\n\t\t\tprop3.setName(&quot;value&quot;);\r\n\t\t\tprop3.setContent(&quot;123456&quot;);\r\n\r\n\t\t\tList&lt;Property&gt; props1 = List.of(prop0, prop1, prop2, prop3);\r\n\r\n\t\t\tProperty prop4 = new Property();\r\n\t\t\tprop4.setName(&quot;id&quot;);\r\n\t\t\tprop4.setContent(&quot;&quot;);\r\n\t\t\t\r\n\t\t\tProperty prop5 = new Property();\r\n\t\t\tprop5.setName(&quot;username&quot;);\r\n\t\t\tprop5.setContent(&quot;def&quot;);\r\n\t\t\t\r\n\t\t\tProperty prop6 = new Property();\r\n\t\t\tprop6.setName(&quot;phoneType&quot;);\r\n\t\t\tprop6.setContent(&quot;phone2&quot;);\r\n\r\n\t\t\tProperty prop7 = new Property();\r\n\t\t\tprop7.setName(&quot;value&quot;);\r\n\t\t\tprop7.setContent(&quot;6789012&quot;);\r\n\r\n\t\t\tList&lt;Property&gt; props2 = List.of(prop4, prop5, prop6, prop7);\r\n\t\t\t\r\n\t\t\tChild child1 = new Child();\r\n\t\t\tChild child2 = new Child();\r\n\t\t\t\r\n\t\t\tchild1.getProperty().addAll(props1);\r\n\t\t\tchild2.getProperty().addAll(props2);\r\n\t\t\t\r\n\t\t\ttree.getChild().add(child1);\r\n\t\t\ttree.getChild().add(child2);\r\n\r\n\t\t\tJAXBContext context = JAXBContext.newInstance(Tree.class);\r\n\t        Marshaller mar= context.createMarshaller();\r\n\t        mar.setProperty(Marshaller.JAXB_FORMATTED_OUTPUT, Boolean.TRUE);\r\n\t        mar.marshal(tree, new File(&quot;abc.xml&quot;));\r\n\r\n\t        // read\r\n\t\t\tTree xmlDoc = (Tree) context.createUnmarshaller().unmarshal(new FileReader(&quot;abc.xml&quot;));\r\n\t\t\tList&lt;Child&gt; children = xmlDoc.getChild();\r\n\t\t\tint i = 1;\r\n\t\t\tfor (Child child : children) {\r\n\t\t\t\tSystem.out.println(&quot;Property &quot; + i++ + &quot;:&quot;);\r\n\t\t\t\tList&lt;Property&gt; props = child.getProperty();\r\n\t\t\t\tfor (Property prop : props) {\r\n\t\t\t\t\tSystem.out.println(&quot;Name: &quot; + prop.getName() + &quot;; Content: &quot; + prop.getContent());\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t} catch (JAXBException | FileNotFoundException e) {\r\n\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t}\r\n}\r\n```\r\n\r\nLast notes:\r\n-----------\r\nTo get this to work, I had to make some &quot;fixes&quot; to the distribution. The first fix was to edit the `xjc.bat` according to this post:  https://github.com/eclipse-ee4j/jaxb-ri/issues/1321. Scroll to the bottom to see the fix I applied.\r\n\r\nThen, I needed to update my &quot;jaxb-runtime&quot; dependency to version 2.3.3 in order for the project to work with &quot;jaxb-api&quot; version 2.3.1.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/org/w3c/dom/Document.html\r\n  [2]: https://xml-copy-editor.sourceforge.io/","title":"How to read XML file using java","body":"<p>Reading XML files is not a trivial task by any means. It requires the reader to have intimate knowledge of the structure of the file. By that, I mean, what are the element names, the attribute names, the data type of the attributes, the order of the elements, whether the elements are simple of complex (meaning they are flat or have nested elements underneath).</p>\n<p>One solution, as shown by Jon Skeet's comment, is to use Java <a href=\"https://docs.oracle.com/javase/8/docs/api/org/w3c/dom/Document.html\" rel=\"nofollow noreferrer\">Document API</a>. This interface has all the methods you will need to get data from an XML file. However, in my opinion, this still leaves the reader with the task of knowing the element and attribute names.</p>\n<p>If a XML schema (XSD) or Document Type Definition (DTD) for a given XML is available or can be easily constructed, I prefer to use one of the many libraries to parse XML contents; to name a few StaX, JDOM, DOM4j, JAXB. Because I have used it extensively, I prefer JAXB. There are some limitations to JAXB, but those are out of scope for this discussion. One thing worth mentioning is that JAXB is included in Java distributions from Java 6 to 10. Outside of those versions, you must download the JAXB distribution yourself.</p>\n<p>One of the primary reasons I used JAXB is that I can use annotations in POJOs to structure a class according to existing XMLs without needing to build a schema. Of course, this is not always simple to do. It is almost always compile your JAXB classes according to a schema. Because this will produce Java custom classes for your XML documents, you can call elements an attributes by their getter methods, rather than putting the burden on the reader to know the element names.</p>\n<p>I used the OPs XML file to generate a schema using <a href=\"https://xml-copy-editor.sourceforge.io/\" rel=\"nofollow noreferrer\">XML Copy Editor</a>. The resulting schema looks like this:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;xs:schema xmlns:xs=&quot;http://www.w3.org/2001/XMLSchema&quot; elementFormDefault=&quot;qualified&quot;&gt;\n  &lt;xs:element name=&quot;Tree&quot;&gt;\n    &lt;xs:complexType&gt;\n      &lt;xs:sequence&gt;\n        &lt;xs:element ref=&quot;child&quot; maxOccurs=&quot;unbounded&quot;/&gt;\n      &lt;/xs:sequence&gt;\n    &lt;/xs:complexType&gt;\n  &lt;/xs:element&gt;\n  &lt;xs:element name=&quot;child&quot;&gt;\n    &lt;xs:complexType&gt;\n      &lt;xs:sequence&gt;\n        &lt;xs:element ref=&quot;Property&quot; maxOccurs=&quot;unbounded&quot;/&gt;\n      &lt;/xs:sequence&gt;\n    &lt;/xs:complexType&gt;\n  &lt;/xs:element&gt;\n  &lt;xs:element name=&quot;Property&quot;&gt;\n    &lt;xs:complexType mixed=&quot;true&quot;&gt;\n      &lt;xs:attribute name=&quot;Name&quot; type=&quot;xs:string&quot; use=&quot;required&quot;/&gt;\n    &lt;/xs:complexType&gt;\n  &lt;/xs:element&gt;\n&lt;/xs:schema&gt;\n</code></pre>\n<p>Once you have the schema, you can use it to compile the JAXB classes using the XJC compiler that comes with Java. Here is an example on how to compile the JAXB classes: <a href=\"https://docs.oracle.com/javase/tutorial/jaxb/intro/examples.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/tutorial/jaxb/intro/examples.html</a></p>\n<p>To download the JAXB compiler, go to <a href=\"https://javaee.github.io/jaxb-v2/\" rel=\"nofollow noreferrer\">https://javaee.github.io/jaxb-v2/</a> and click &quot;Download standalone distribution&quot;. You can place the contents of the ZIP file anywhere on your computer. Then, simply set <em>JAXB_HOME</em> on your environment variables and you are set.  This might seem like a lot of work but up to this point, these are one-time activities. The upside is when you have your environment set up, it will literally take you seconds to compile all your classes; even if you need to generate the schema based on your XML.</p>\n<p>Executing the compiler generated <code>Tree.java</code>, <code>Child.java</code>, and <code>Property.java</code>.</p>\n<h2>Tree.java</h2>\n<pre><code>@XmlAccessorType(XmlAccessType.FIELD)\n@XmlType(name = &quot;&quot;, propOrder = {\n    &quot;child&quot;\n})\n@XmlRootElement(name = &quot;Tree&quot;)\npublic class Tree {\n\n    @XmlElement(required = true)\n    protected List&lt;Child&gt; child;\n\n    public List&lt;Child&gt; getChild() {\n        if (child == null) {\n            child = new ArrayList&lt;Child&gt;();\n        }\n        return this.child;\n    }\n}\n</code></pre>\n<h2>Child.java</h2>\n<pre><code>@XmlAccessorType(XmlAccessType.FIELD)\n@XmlType(name = &quot;&quot;, propOrder = {\n    &quot;property&quot;\n})\n@XmlRootElement(name = &quot;child&quot;)\npublic class Child {\n\n    @XmlElement(name = &quot;Property&quot;, required = true)\n    protected List&lt;Property&gt; property;\n\n    public List&lt;Property&gt; getProperty() {\n        if (property == null) {\n            property = new ArrayList&lt;Property&gt;();\n        }\n        return this.property;\n    }\n}\n</code></pre>\n<h2>Property.java</h2>\n<pre><code>@XmlAccessorType(XmlAccessType.FIELD)\n@XmlType(name = &quot;&quot;, propOrder = {\n    &quot;content&quot;\n})\n@XmlRootElement(name = &quot;Property&quot;)\npublic class Property {\n\n    @XmlValue\n    protected String content;\n    @XmlAttribute(name = &quot;Name&quot;, required = true)\n    protected String name;\n\n    public String getContent() {\n        return content;\n    }\n\n    public void setContent(String value) {\n        this.content = value;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String value) {\n        this.name = value;\n    }\n}\n</code></pre>\n<h2>How to use these classes</h2>\n<p>The reading process (unmarshaling) converts the XML file into these generated data types. The JAXB unmarshaling process uses the <code>JAXBContext</code> utility class to create an unmarshaler and then call the unmarshal method to convert the XML file into objects:</p>\n<pre><code>JAXBContext context = JAXBContext.newInstance(Tree.class); // the argument is the root node\nTree xmlDoc = (Tree) context.createUnmarshaller().unmarshal(new FileReader(&quot;abc.xml&quot;)); // Reads the XML and returns a Java object\n</code></pre>\n<p>To write, you will use the Java classes to store the data and create the structure. In this case, you will need to create the required <code>Property</code> objects, the <code>Child</code> container for the property elements, and the root node which is the <code>Tree</code> node. You  can add elements one at a time or create a list of them and add them all at once. Once the root node object is populated, simply pass it to the marshaler...</p>\n<pre><code>JAXBContext context = JAXBContext.newInstance(Tree.class);\nMarshaller mar= context.createMarshaller();\nmar.setProperty(Marshaller.JAXB_FORMATTED_OUTPUT, Boolean.TRUE); // formatting the xml file\nmar.marshal(tree, new File(&quot;abc.xml&quot;)); // saves the &quot;Tree&quot; object as &quot;abc.xml&quot;\n</code></pre>\n<h2>All together</h2>\n<pre><code>import java.io.File;\nimport java.io.FileNotFoundException;\nimport java.io.FileReader;\nimport java.util.List;\n\nimport javax.xml.bind.JAXBContext;\nimport javax.xml.bind.JAXBException;\nimport javax.xml.bind.Marshaller;\n\npublic class JAXBDemo {\n    public static void main(String[] args) {\n        try {\n            // write\n            Tree tree = new Tree();\n            Property prop0 = new Property();\n            prop0.setName(&quot;id&quot;);\n            prop0.setContent(&quot;&quot;);\n            \n            Property prop1 = new Property();\n            prop1.setName(&quot;username&quot;);\n            prop1.setContent(&quot;abc&quot;);\n            \n            Property prop2 = new Property();\n            prop2.setName(&quot;phoneType&quot;);\n            prop2.setContent(&quot;phone1&quot;);\n\n            Property prop3 = new Property();\n            prop3.setName(&quot;value&quot;);\n            prop3.setContent(&quot;123456&quot;);\n\n            List&lt;Property&gt; props1 = List.of(prop0, prop1, prop2, prop3);\n\n            Property prop4 = new Property();\n            prop4.setName(&quot;id&quot;);\n            prop4.setContent(&quot;&quot;);\n            \n            Property prop5 = new Property();\n            prop5.setName(&quot;username&quot;);\n            prop5.setContent(&quot;def&quot;);\n            \n            Property prop6 = new Property();\n            prop6.setName(&quot;phoneType&quot;);\n            prop6.setContent(&quot;phone2&quot;);\n\n            Property prop7 = new Property();\n            prop7.setName(&quot;value&quot;);\n            prop7.setContent(&quot;6789012&quot;);\n\n            List&lt;Property&gt; props2 = List.of(prop4, prop5, prop6, prop7);\n            \n            Child child1 = new Child();\n            Child child2 = new Child();\n            \n            child1.getProperty().addAll(props1);\n            child2.getProperty().addAll(props2);\n            \n            tree.getChild().add(child1);\n            tree.getChild().add(child2);\n\n            JAXBContext context = JAXBContext.newInstance(Tree.class);\n            Marshaller mar= context.createMarshaller();\n            mar.setProperty(Marshaller.JAXB_FORMATTED_OUTPUT, Boolean.TRUE);\n            mar.marshal(tree, new File(&quot;abc.xml&quot;));\n\n            // read\n            Tree xmlDoc = (Tree) context.createUnmarshaller().unmarshal(new FileReader(&quot;abc.xml&quot;));\n            List&lt;Child&gt; children = xmlDoc.getChild();\n            int i = 1;\n            for (Child child : children) {\n                System.out.println(&quot;Property &quot; + i++ + &quot;:&quot;);\n                List&lt;Property&gt; props = child.getProperty();\n                for (Property prop : props) {\n                    System.out.println(&quot;Name: &quot; + prop.getName() + &quot;; Content: &quot; + prop.getContent());\n                }\n            }\n        } catch (JAXBException | FileNotFoundException e) {\n\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n<h2>Last notes:</h2>\n<p>To get this to work, I had to make some &quot;fixes&quot; to the distribution. The first fix was to edit the <code>xjc.bat</code> according to this post:  <a href=\"https://github.com/eclipse-ee4j/jaxb-ri/issues/1321\" rel=\"nofollow noreferrer\">https://github.com/eclipse-ee4j/jaxb-ri/issues/1321</a>. Scroll to the bottom to see the fix I applied.</p>\n<p>Then, I needed to update my &quot;jaxb-runtime&quot; dependency to version 2.3.3 in order for the project to work with &quot;jaxb-api&quot; version 2.3.1.</p>\n"}],"owner":{"account_id":23690682,"reputation":11,"user_id":17715064,"display_name":"Sunil Kumar Chitumalla"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2359,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":3,"score":0,"last_activity_date":1643114400,"creation_date":1642437755,"question_id":70744724,"body_markdown":"I am trying to read in some data from an XML file and having some trouble, the XML I have is as follows:\r\n\r\n     &lt;Tree&gt;\r\n      &lt;child&gt;\r\n       &lt;Property Name=&quot;id&quot;/&gt;\r\n       &lt;Property Name=&quot;username&quot;&gt;abc&lt;/Property&gt;\r\n       &lt;Property Name=&quot;phoneType&quot;&gt;phone1&lt;/Property&gt;\r\n       &lt;Property Name=&quot;value&quot;&gt;123456&lt;/Property&gt;\r\n       &lt;/child&gt;\r\n       &lt;child&gt;\r\n       &lt;Property Name=&quot;id&quot;/&gt;\r\n       &lt;Property Name=&quot;username&quot;&gt;def&lt;/Property&gt;\r\n       &lt;Property Name=&quot;phoneType&quot;&gt;phone2&lt;/Property&gt;\r\n       &lt;Property Name=&quot;value&quot;&gt;6789012&lt;/Property&gt;\r\n       &lt;/child&gt;\r\n       &lt;/Tree&gt;\r\n\r\nI am trying to read these values as strings into my Java program, I have written this code so far:\r\n\r\n\r\n    File fXmlFile = new File(&quot;C:\\\\Users\\\\welcome\\\\Downloads\\\\ta\\\\abc.xml&quot;);\r\n    DocumentBuilderFactory dbFactory = DocumentBuilderFactory.newInstance();\r\n    DocumentBuilder dBuilder = dbFactory.newDocumentBuilder();\r\n    Document doc = dBuilder.parse(fXmlFile);\r\n    doc.getDocumentElement().normalize();\r\n\r\n    System.out.println(&quot;Root element :&quot; + doc.getDocumentElement().getNodeName());\r\n    NodeList nList = doc.getElementsByTagName(&quot;child&quot;);\r\n    System.out.println(&quot;----------------------------&quot;);\r\n\r\n    for (int temp = 0; temp &lt; nList.getLength(); temp++) {\r\n        Node nNode = nList.item(temp);\r\n        System.out.println(&quot;\\nCurrent Element :&quot; + nNode.getNodeName());\r\n        if (nNode.getNodeType() == Node.ELEMENT_NODE) {\r\n            Element eElement = (Element) nNode;\r\n            System.out.println(&quot;id id : &quot;\r\n                               + eElement.getAttribute(&quot;id&quot;));\r\n\r\nI am struggling to read and print the values of id, username etc.","title":"How to read XML file using java","body":"<p>I am trying to read in some data from an XML file and having some trouble, the XML I have is as follows:</p>\n<pre><code> &lt;Tree&gt;\n  &lt;child&gt;\n   &lt;Property Name=&quot;id&quot;/&gt;\n   &lt;Property Name=&quot;username&quot;&gt;abc&lt;/Property&gt;\n   &lt;Property Name=&quot;phoneType&quot;&gt;phone1&lt;/Property&gt;\n   &lt;Property Name=&quot;value&quot;&gt;123456&lt;/Property&gt;\n   &lt;/child&gt;\n   &lt;child&gt;\n   &lt;Property Name=&quot;id&quot;/&gt;\n   &lt;Property Name=&quot;username&quot;&gt;def&lt;/Property&gt;\n   &lt;Property Name=&quot;phoneType&quot;&gt;phone2&lt;/Property&gt;\n   &lt;Property Name=&quot;value&quot;&gt;6789012&lt;/Property&gt;\n   &lt;/child&gt;\n   &lt;/Tree&gt;\n</code></pre>\n<p>I am trying to read these values as strings into my Java program, I have written this code so far:</p>\n<pre><code>File fXmlFile = new File(&quot;C:\\\\Users\\\\welcome\\\\Downloads\\\\ta\\\\abc.xml&quot;);\nDocumentBuilderFactory dbFactory = DocumentBuilderFactory.newInstance();\nDocumentBuilder dBuilder = dbFactory.newDocumentBuilder();\nDocument doc = dBuilder.parse(fXmlFile);\ndoc.getDocumentElement().normalize();\n\nSystem.out.println(&quot;Root element :&quot; + doc.getDocumentElement().getNodeName());\nNodeList nList = doc.getElementsByTagName(&quot;child&quot;);\nSystem.out.println(&quot;----------------------------&quot;);\n\nfor (int temp = 0; temp &lt; nList.getLength(); temp++) {\n    Node nNode = nList.item(temp);\n    System.out.println(&quot;\\nCurrent Element :&quot; + nNode.getNodeName());\n    if (nNode.getNodeType() == Node.ELEMENT_NODE) {\n        Element eElement = (Element) nNode;\n        System.out.println(&quot;id id : &quot;\n                           + eElement.getAttribute(&quot;id&quot;));\n</code></pre>\n<p>I am struggling to read and print the values of id, username etc.</p>\n"},{"tags":["java","android","rx-java","android-room","rx-java3"],"comments":[{"owner":{"account_id":6023206,"reputation":7990,"user_id":4729721,"display_name":"a_local_nobody"},"score":0,"creation_date":1643103978,"post_id":70846258,"comment_id":125245151,"body_markdown":"you could very easily find answers to your questions by just doing some basic research on rxjava. if you can&#39;t integrate a piece of technology into your project, then first learn it and practice it more till you actually understand it","body":"you could very easily find answers to your questions by just doing some basic research on rxjava. if you can&#39;t integrate a piece of technology into your project, then first learn it and practice it more till you actually understand it"},{"owner":{"display_name":"user17115124"},"score":0,"creation_date":1643104939,"post_id":70846258,"comment_id":125245503,"body_markdown":"I invite you to share the information you have and the right approaches here. @a_local_nobody","body":"I invite you to share the information you have and the right approaches here. @a_local_nobody"},{"owner":{"account_id":6023206,"reputation":7990,"user_id":4729721,"display_name":"a_local_nobody"},"score":0,"creation_date":1643105853,"post_id":70846258,"comment_id":125245831,"body_markdown":"[the right approach is to do research](https://stackoverflow.com/questions/42757924/what-is-the-difference-between-observable-completable-and-single-in-rxjava)","body":"<a href=\"https://stackoverflow.com/questions/42757924/what-is-the-difference-between-observable-completable-and-single-in-rxjava\">the right approach is to do research</a>"},{"owner":{"display_name":"user17115124"},"score":0,"creation_date":1643106832,"post_id":70846258,"comment_id":125246216,"body_markdown":"Sorry but there is not enough information. It needs to be explained with examples.. Apart from this, how we will use it in service, the value of observeOn needs to be explained as well.","body":"Sorry but there is not enough information. It needs to be explained with examples.. Apart from this, how we will use it in service, the value of observeOn needs to be explained as well."},{"owner":{"display_name":"user17115124"},"score":0,"creation_date":1643108932,"post_id":70846258,"comment_id":125247068,"body_markdown":"I created this thread to learn. I&#39;m sure it will be useful for everyone because there are not enough resources.. Please comment without insulting.","body":"I created this thread to learn. I&#39;m sure it will be useful for everyone because there are not enough resources.. Please comment without insulting."}],"owner":{"display_name":"user17115124"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":337,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":0,"score":1,"last_activity_date":1643113912,"creation_date":1643103045,"question_id":70846258,"body_markdown":"After parsing the JSON data with the help of Volley library, I want to save it to Room. Since the process was taking too long (about 45 seconds) I put this inside a Service. In the same way, I was using AsyncTask to prevent the insert operation from freezing the interface. However, I decided to use RxJava because it is deprecated, but I did not understand most things. Can you help to create useful content?\r\n\r\nHere are some questions;\r\n\r\n - In which case we should use Observable and in which case Single structure?\r\n - ```.observeOn(AndroidSchedulers.mainThread())``` if we don&#39;t have work with mainThread, like in my example (running in service) then what should we do?\r\n - Do you really need it? I mean, we could handle this very easily with a really complicated AsyncTask.\r\n\r\n\r\nPlease share your knowledge (in Java please) make it a good article for readers\r\n\r\n\r\nThanks in advance\r\n\r\n ```\r\n\r\npublic class ScheduledService extends Service {\r\nFoodDatabase appDatabase;\r\nList&lt;FoodArray&gt; foodsArray;\r\n\r\n  @Override\r\n    public void onCreate() {\r\n        super.onCreate();\r\n\r\n        foodsArray = new ArrayList&lt;&gt;();\r\n\r\n        appDatabase = Room.databaseBuilder(this, FoodDatabase.class, &quot;FoodListDatabase_TEST.db&quot;)\r\n                .fallbackToDestructiveMigration()\r\n                .allowMainThreadQueries()\r\n                .build();\r\n\r\n\r\n\r\n        getFoodRequest();\r\n}\r\n\r\n\r\n\r\n    public void getFoodRequest() {\r\n        Log.d(&quot;TAG_JSON_FOOD_DB&quot;, &quot;--------------------------------&quot;);\r\n        @SuppressLint(&quot;SetJavaScriptEnabled&quot;) JsonObjectRequest jsonObjectRequest = new JsonObjectRequest(Request.Method.GET,\r\n                Constant.FOOD_LIST_JSON, null,\r\n                response -&gt; {\r\n                    long start = System.currentTimeMillis();\r\n                    try {\r\n                        JSONArray jsonArray = response.getJSONArray(&quot;MyData&quot;);\r\n                        for (int i = 0; i &lt; jsonArray.length(); i++) {\r\n                            JSONObject object = jsonArray.getJSONObject(i);\r\n                            FoodArray foodArray = new FoodArray();\r\n\r\n                            List&lt;FoodUnitsData&gt; foodUnitList = new ArrayList&lt;&gt;();\r\n                            FoodsData foodsData = new FoodsData();\r\n\r\n                            foodsData.setFoodId(object.getString(&quot;food_id&quot;));\r\n                            foodsData.setFoodName(object.getString(&quot;food_name&quot;));\r\n                            foodsData.setFoodImage(object.getString(&quot;food_image&quot;));\r\n                            foodsData.setFoodUrl(object.getString(&quot;food_url&quot;));\r\n                            foodsData.setFoodKcal(object.getString(&quot;food_kcal&quot;));\r\n                            foodsData.setFoodDescription(object.getString(&quot;food_description&quot;));\r\n                            foodsData.setCarbPercent(object.getString(&quot;carb_percent&quot;));\r\n                            foodsData.setProteinPercent(object.getString(&quot;protein_percent&quot;));\r\n                            foodsData.setFatPercent(object.getString(&quot;fat_percent&quot;));\r\n\r\n\r\n                            JSONArray jsonUnitsArray = object.getJSONArray(&quot;units&quot;);\r\n\r\n                            for (int k = 0; k &lt; jsonUnitsArray.length(); k++) {\r\n                                JSONObject unitobject = jsonUnitsArray.getJSONObject(k);\r\n\r\n                                FoodUnitsData foodUnitData = new FoodUnitsData();\r\n                                foodUnitData.setUnit(unitobject.getString(&quot;unit&quot;));\r\n                                foodUnitData.setAmount(unitobject.getString(&quot;amount&quot;));\r\n                                foodUnitData.setCalory(unitobject.getString(&quot;calory&quot;));\r\n                                foodUnitData.setCalcium(unitobject.getString(&quot;calcium&quot;));\r\n                                foodUnitData.setCarbohydrt(unitobject.getString(&quot;carbohydrt&quot;));\r\n                                foodUnitData.setCholestrl(unitobject.getString(&quot;cholestrl&quot;));\r\n                                foodUnitData.setFiberTd(unitobject.getString(&quot;fiber_td&quot;));\r\n                                foodUnitData.setIron(unitobject.getString(&quot;iron&quot;));\r\n                                foodUnitData.setLipidTot(unitobject.getString(&quot;lipid_tot&quot;));\r\n                                foodUnitData.setPotassium(unitobject.getString(&quot;potassium&quot;));\r\n                                foodUnitData.setProtein(unitobject.getString(&quot;protein&quot;));\r\n                                foodUnitData.setVitAIu(unitobject.getString(&quot;vit_a_iu&quot;));\r\n                                foodUnitData.setVitC(unitobject.getString(&quot;vit_c&quot;));\r\n                                foodUnitList.add(foodUnitData);\r\n                            }\r\n                            foodArray.setFoods(foodsData);\r\n                            foodArray.setFoodUnits(foodUnitList);\r\n                          foodsArray.add(foodArray);\r\n                            //insertData(foodArray);\r\n\r\n                        }\r\n                    \r\n\r\n\r\n\r\n                        insertData(foodsArray);\r\n\r\n                        long finish = System.currentTimeMillis();\r\n                        Log.d(&quot;TAG_JSON_FOOD_DB&quot;, &quot;   \\t&quot; + (finish - start));\r\n                        Log.d(&quot;TAG_JSON_FOOD_DB&quot;, &quot;   \\t&quot; + &quot;******************\\n&quot;);\r\n                    } catch (JSONException e) {\r\n                        e.printStackTrace();\r\n                        Log.d(&quot;TAG_JSON_FOOD&quot;, &quot;e:&quot; + e);\r\n                    }\r\n                }, error -&gt; {\r\n            Log.d(&quot;TAG_JSON_FOOD&quot;, error.toString());\r\n        });\r\n        jsonObjectRequest.setShouldCache(false);\r\n        jsonObjectRequest.setRetryPolicy(new DefaultRetryPolicy(20 * 1000, 0, DefaultRetryPolicy.DEFAULT_BACKOFF_MULT));\r\n        RequestQueue request_queue = Volley.newRequestQueue(context);\r\n        request_queue.add(jsonObjectRequest);\r\n    }\r\n\r\n\r\n\r\n    private void insertData(List&lt;FoodArray&gt; foodArray) {\r\n        Observable.fromCallable(() -&gt; {\r\n            for (int i = 0; i &lt; foodArray.size(); i++) {\r\n                appDatabase.daoAccess().insertAll(foodArray.get(i));\r\n            }\r\n            return appDatabase.daoAccess().getAll();\r\n        })\r\n                .subscribeOn(Schedulers.io())\r\n                .observeOn(AndroidSchedulers.mainThread())\r\n                .subscribe(new Observer&lt; List&lt;FoodArray&gt;&gt;() {\r\n                    @Override\r\n                    public void onSubscribe(@NonNull Disposable d) {\r\n                        Log.d(&quot;TAG_JSON_FOOD_DB&quot;,  &quot;***dis*****&quot;+ d);\r\n                    }\r\n\r\n                    @Override\r\n                    public void onNext(@NonNull  List&lt;FoodArray&gt; list) {\r\n                        Log.d(&quot;TAG_JSON_FOOD_DB&quot;,  &quot;***size*****&quot;+ list.size());\r\n                    }\r\n\r\n                    @Override\r\n                    public void onError(@NonNull Throwable e) {\r\n\r\n                    }\r\n\r\n                    @Override\r\n                    public void onComplete() {\r\n                        Log.d(&quot;TAG_JSON_FOOD_DB&quot;,  &quot;***complete*****&quot;);\r\n                    }\r\n                });\r\n\r\n    }\r\n\r\n\r\npublic void test(){\r\n        Single.just(foodArray)\r\n                .subscribeOn(Schedulers.io())\r\n                .subscribe(new DisposableSingleObserver&lt;Object&gt;() {\r\n                    @Override\r\n                    public void onSuccess(Object obj) {\r\n                        // work with the resulting todos...\r\n                        dispose();\r\n                    }\r\n\r\n                    @Override\r\n                    public void onError(Throwable e) {\r\n                        // handle the error case...\r\n                        dispose();\r\n                    }});\r\n\r\n}\r\n\r\n}\r\n ```\r\n\r\n\r\nError\r\n```\r\n\r\n@Override\r\npublic void onComplete() {\r\n    Log.d(&quot;TAG_JSON_FOOD_DB&quot;, &quot;***complete*****&quot;);\r\n     ///onDestroy();\r\n}\r\n```","title":"How to use RxJava inside Service in Android?","body":"<p>After parsing the JSON data with the help of Volley library, I want to save it to Room. Since the process was taking too long (about 45 seconds) I put this inside a Service. In the same way, I was using AsyncTask to prevent the insert operation from freezing the interface. However, I decided to use RxJava because it is deprecated, but I did not understand most things. Can you help to create useful content?</p>\n<p>Here are some questions;</p>\n<ul>\n<li>In which case we should use Observable and in which case Single structure?</li>\n<li><code>.observeOn(AndroidSchedulers.mainThread())</code> if we don't have work with mainThread, like in my example (running in service) then what should we do?</li>\n<li>Do you really need it? I mean, we could handle this very easily with a really complicated AsyncTask.</li>\n</ul>\n<p>Please share your knowledge (in Java please) make it a good article for readers</p>\n<p>Thanks in advance</p>\n<pre><code>\npublic class ScheduledService extends Service {\nFoodDatabase appDatabase;\nList&lt;FoodArray&gt; foodsArray;\n\n @Override\n   public void onCreate() {\n       super.onCreate();\n\n       foodsArray = new ArrayList&lt;&gt;();\n\n       appDatabase = Room.databaseBuilder(this, FoodDatabase.class, &quot;FoodListDatabase_TEST.db&quot;)\n               .fallbackToDestructiveMigration()\n               .allowMainThreadQueries()\n               .build();\n\n\n\n       getFoodRequest();\n}\n\n\n\n   public void getFoodRequest() {\n       Log.d(&quot;TAG_JSON_FOOD_DB&quot;, &quot;--------------------------------&quot;);\n       @SuppressLint(&quot;SetJavaScriptEnabled&quot;) JsonObjectRequest jsonObjectRequest = new JsonObjectRequest(Request.Method.GET,\n               Constant.FOOD_LIST_JSON, null,\n               response -&gt; {\n                   long start = System.currentTimeMillis();\n                   try {\n                       JSONArray jsonArray = response.getJSONArray(&quot;MyData&quot;);\n                       for (int i = 0; i &lt; jsonArray.length(); i++) {\n                           JSONObject object = jsonArray.getJSONObject(i);\n                           FoodArray foodArray = new FoodArray();\n\n                           List&lt;FoodUnitsData&gt; foodUnitList = new ArrayList&lt;&gt;();\n                           FoodsData foodsData = new FoodsData();\n\n                           foodsData.setFoodId(object.getString(&quot;food_id&quot;));\n                           foodsData.setFoodName(object.getString(&quot;food_name&quot;));\n                           foodsData.setFoodImage(object.getString(&quot;food_image&quot;));\n                           foodsData.setFoodUrl(object.getString(&quot;food_url&quot;));\n                           foodsData.setFoodKcal(object.getString(&quot;food_kcal&quot;));\n                           foodsData.setFoodDescription(object.getString(&quot;food_description&quot;));\n                           foodsData.setCarbPercent(object.getString(&quot;carb_percent&quot;));\n                           foodsData.setProteinPercent(object.getString(&quot;protein_percent&quot;));\n                           foodsData.setFatPercent(object.getString(&quot;fat_percent&quot;));\n\n\n                           JSONArray jsonUnitsArray = object.getJSONArray(&quot;units&quot;);\n\n                           for (int k = 0; k &lt; jsonUnitsArray.length(); k++) {\n                               JSONObject unitobject = jsonUnitsArray.getJSONObject(k);\n\n                               FoodUnitsData foodUnitData = new FoodUnitsData();\n                               foodUnitData.setUnit(unitobject.getString(&quot;unit&quot;));\n                               foodUnitData.setAmount(unitobject.getString(&quot;amount&quot;));\n                               foodUnitData.setCalory(unitobject.getString(&quot;calory&quot;));\n                               foodUnitData.setCalcium(unitobject.getString(&quot;calcium&quot;));\n                               foodUnitData.setCarbohydrt(unitobject.getString(&quot;carbohydrt&quot;));\n                               foodUnitData.setCholestrl(unitobject.getString(&quot;cholestrl&quot;));\n                               foodUnitData.setFiberTd(unitobject.getString(&quot;fiber_td&quot;));\n                               foodUnitData.setIron(unitobject.getString(&quot;iron&quot;));\n                               foodUnitData.setLipidTot(unitobject.getString(&quot;lipid_tot&quot;));\n                               foodUnitData.setPotassium(unitobject.getString(&quot;potassium&quot;));\n                               foodUnitData.setProtein(unitobject.getString(&quot;protein&quot;));\n                               foodUnitData.setVitAIu(unitobject.getString(&quot;vit_a_iu&quot;));\n                               foodUnitData.setVitC(unitobject.getString(&quot;vit_c&quot;));\n                               foodUnitList.add(foodUnitData);\n                           }\n                           foodArray.setFoods(foodsData);\n                           foodArray.setFoodUnits(foodUnitList);\n                         foodsArray.add(foodArray);\n                           //insertData(foodArray);\n\n                       }\n                   \n\n\n\n                       insertData(foodsArray);\n\n                       long finish = System.currentTimeMillis();\n                       Log.d(&quot;TAG_JSON_FOOD_DB&quot;, &quot;   \\t&quot; + (finish - start));\n                       Log.d(&quot;TAG_JSON_FOOD_DB&quot;, &quot;   \\t&quot; + &quot;******************\\n&quot;);\n                   } catch (JSONException e) {\n                       e.printStackTrace();\n                       Log.d(&quot;TAG_JSON_FOOD&quot;, &quot;e:&quot; + e);\n                   }\n               }, error -&gt; {\n           Log.d(&quot;TAG_JSON_FOOD&quot;, error.toString());\n       });\n       jsonObjectRequest.setShouldCache(false);\n       jsonObjectRequest.setRetryPolicy(new DefaultRetryPolicy(20 * 1000, 0, DefaultRetryPolicy.DEFAULT_BACKOFF_MULT));\n       RequestQueue request_queue = Volley.newRequestQueue(context);\n       request_queue.add(jsonObjectRequest);\n   }\n\n\n\n   private void insertData(List&lt;FoodArray&gt; foodArray) {\n       Observable.fromCallable(() -&gt; {\n           for (int i = 0; i &lt; foodArray.size(); i++) {\n               appDatabase.daoAccess().insertAll(foodArray.get(i));\n           }\n           return appDatabase.daoAccess().getAll();\n       })\n               .subscribeOn(Schedulers.io())\n               .observeOn(AndroidSchedulers.mainThread())\n               .subscribe(new Observer&lt; List&lt;FoodArray&gt;&gt;() {\n                   @Override\n                   public void onSubscribe(@NonNull Disposable d) {\n                       Log.d(&quot;TAG_JSON_FOOD_DB&quot;,  &quot;***dis*****&quot;+ d);\n                   }\n\n                   @Override\n                   public void onNext(@NonNull  List&lt;FoodArray&gt; list) {\n                       Log.d(&quot;TAG_JSON_FOOD_DB&quot;,  &quot;***size*****&quot;+ list.size());\n                   }\n\n                   @Override\n                   public void onError(@NonNull Throwable e) {\n\n                   }\n\n                   @Override\n                   public void onComplete() {\n                       Log.d(&quot;TAG_JSON_FOOD_DB&quot;,  &quot;***complete*****&quot;);\n                   }\n               });\n\n   }\n\n\npublic void test(){\n       Single.just(foodArray)\n               .subscribeOn(Schedulers.io())\n               .subscribe(new DisposableSingleObserver&lt;Object&gt;() {\n                   @Override\n                   public void onSuccess(Object obj) {\n                       // work with the resulting todos...\n                       dispose();\n                   }\n\n                   @Override\n                   public void onError(Throwable e) {\n                       // handle the error case...\n                       dispose();\n                   }});\n\n}\n\n}\n</code></pre>\n<p>Error</p>\n<pre><code>\n@Override\npublic void onComplete() {\n    Log.d(&quot;TAG_JSON_FOOD_DB&quot;, &quot;***complete*****&quot;);\n     ///onDestroy();\n}\n</code></pre>\n"},{"tags":["java","mongodb","docker-compose","quarkus","mongodb-replica-set"],"comments":[{"owner":{"account_id":4424946,"reputation":5229,"user_id":3603660,"accept_rate":75,"display_name":"loicmathieu"},"score":0,"creation_date":1643130918,"post_id":70848609,"comment_id":125256280,"body_markdown":"Did you modify your hosts file ?\nBecause the hostnames mongo1, mongo2, mongo3 are only resolvable from the Docker network so if you launch your apps out of the docker compose you should use localhost or modify your hosts file.","body":"Did you modify your hosts file ? Because the hostnames mongo1, mongo2, mongo3 are only resolvable from the Docker network so if you launch your apps out of the docker compose you should use localhost or modify your hosts file."},{"owner":{"account_id":1352247,"reputation":113,"user_id":1291549,"display_name":"Christophe"},"score":0,"creation_date":1643140611,"post_id":70848609,"comment_id":125260053,"body_markdown":"Yes, I did indeed updated my host file with an entry per hostname, like: mongo1          127.0.0.1. But I am not launching my app from the docker compose and that is actually complicating things and resulting in the above &#39;error&#39; scenario.","body":"Yes, I did indeed updated my host file with an entry per hostname, like: mongo1          127.0.0.1. But I am not launching my app from the docker compose and that is actually complicating things and resulting in the above &#39;error&#39; scenario."},{"owner":{"account_id":8951169,"reputation":1540,"user_id":6677127,"display_name":"JJussi"},"score":0,"creation_date":1643142025,"post_id":70848609,"comment_id":125260532,"body_markdown":"Check your configurations port numbers!  mongo3:27023 vs. mongo3:27017  (and same with nodes 2 and 1).  mongod process must (of course) run on same port what you configure in connection string AND rs.conf()","body":"Check your configurations port numbers!  mongo3:27023 vs. mongo3:27017  (and same with nodes 2 and 1).  mongod process must (of course) run on same port what you configure in connection string AND rs.conf()"},{"owner":{"account_id":1352247,"reputation":113,"user_id":1291549,"display_name":"Christophe"},"score":0,"creation_date":1643143258,"post_id":70848609,"comment_id":125260928,"body_markdown":"I aligned them, but no luck unfortunately. Running into another exception thenL com.mongodb.MongoSocketReadException: Prematurely reached end of stream. Note that I am running the Mongo replica set containerised locally (configured via Docker Compose), but not the application itself connecting to the replica set, which is just configured to run locally.","body":"I aligned them, but no luck unfortunately. Running into another exception thenL com.mongodb.MongoSocketReadException: Prematurely reached end of stream. Note that I am running the Mongo replica set containerised locally (configured via Docker Compose), but not the application itself connecting to the replica set, which is just configured to run locally."}],"owner":{"account_id":1352247,"reputation":113,"user_id":1291549,"display_name":"Christophe"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1318,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1643113837,"creation_date":1643113520,"question_id":70848609,"body_markdown":"I am trying to connect to my local MongoDB replica set (configured via Docker Compose) via an application running on Quarkus, however I am getting the following logs as soon as I try to access the database via the application:\r\n\r\n    2022-01-25 13:18:30,299 INFO  [org.mon.dri.cluster] (cluster-ClusterId{value=&#39;61efea96e5029b1a675a4312&#39;, description=&#39;null&#39;}-mongo3:27023) Canonical address mongo3:27017 does not match server address.  Removing mongo3:27023 from client view of cluster\r\n    2022-01-25 13:18:30,303 INFO  [org.mon.dri.cluster] (cluster-ClusterId{value=&#39;61efea96e5029b1a675a4312&#39;, description=&#39;null&#39;}-mongo2:27022) Canonical address mongo2:27017 does not match server address.  Removing mongo2:27022 from client view of cluster\r\n    2022-01-25 13:18:30,306 INFO  [org.mon.dri.cluster] (cluster-ClusterId{value=&#39;61efea96e5029b1a675a4312&#39;, description=&#39;null&#39;}-mongo1:27021) Server mongo1:27021 is no longer a member of the replica set.  Removing from client view of cluster.\r\n\r\nWhich eventually leads to a ConnectionException to be thrown and the following error log:\r\n\r\n    \r\n    2022-01-25 13:18:35,304 ERROR [nl.rab.kno.int.LoggingInterceptor] (executor-thread-0) LoggingInterceptor.MethodCallEvent(className=nl.rabobank.knowledge.service.PreferencesService, methodName=getLanguagesForUser, result=EXCEPTION, exception=com.mongodb.MongoTimeoutException: Timed out after 5000 ms while waiting for a server that matches com.mongodb.client.internal.MongoClientDelegate$1@4fe08d8a. Client view of cluster state is {type=REPLICA_SET, servers=[{address=mongo3:27017, type=UNKNOWN, state=CONNECTING, exception={com.mongodb.MongoSocketOpenException: Exception opening socket}, caused by {java.net.ConnectException: Connection refused (Connection refused)}}, {address=mongo2:27017, type=UNKNOWN, state=CONNECTING, exception={com.mongodb.MongoSocketOpenException: Exception opening socket}, caused by {java.net.ConnectException: Connection refused (Connection refused)}}, {address=mongo1:27017, type=UNKNOWN, state=CONNECTING, exception={com.mongodb.MongoSocketOpenException: Exception opening socket}, caused by {java.net.ConnectException: Connection refused (Connection refused)}}])\r\n\r\nFor some reason it seems to automatically remove the node from the client view when the application tries to connect to the database for reading/retrieving data. I am wondering what goes wrong here?\r\n\r\nI simply followed this guide for setting up a replica set in MongoDB with Docker Compose: https://blog.tericcabrel.com/mongodb-replica-set-docker-compose/. Note that the application is able to successfully connect to the database when I create a non-containerised replica set (as also explained in the same tutorial). I \r\n therefore have the feeling that this issue is occurring due to something being misconfigured with my containerised setup.\r\n\r\nThis is the connection string that I am using in my Quarkus application:\r\n\r\n    quarkus:\r\n        mongodb:\r\n            connection-string: mongodb://mongo1:27021,mongo2:27022,mongo3:27023/database?replicaSet=dbrs\r\n\r\n\r\nThese are the dependencies used by my Quarkus application (version 2.6.2):\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\r\n      &lt;artifactId&gt;quarkus-mongodb-client&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\r\n      &lt;artifactId&gt;quarkus-mongodb-panache&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n\r\n","title":"Connecting to containerised MongoDB replica set with Docker results in &quot;Canonical address ... does not match server address.&quot;","body":"<p>I am trying to connect to my local MongoDB replica set (configured via Docker Compose) via an application running on Quarkus, however I am getting the following logs as soon as I try to access the database via the application:</p>\n<pre><code>2022-01-25 13:18:30,299 INFO  [org.mon.dri.cluster] (cluster-ClusterId{value='61efea96e5029b1a675a4312', description='null'}-mongo3:27023) Canonical address mongo3:27017 does not match server address.  Removing mongo3:27023 from client view of cluster\n2022-01-25 13:18:30,303 INFO  [org.mon.dri.cluster] (cluster-ClusterId{value='61efea96e5029b1a675a4312', description='null'}-mongo2:27022) Canonical address mongo2:27017 does not match server address.  Removing mongo2:27022 from client view of cluster\n2022-01-25 13:18:30,306 INFO  [org.mon.dri.cluster] (cluster-ClusterId{value='61efea96e5029b1a675a4312', description='null'}-mongo1:27021) Server mongo1:27021 is no longer a member of the replica set.  Removing from client view of cluster.\n</code></pre>\n<p>Which eventually leads to a ConnectionException to be thrown and the following error log:</p>\n<pre><code>2022-01-25 13:18:35,304 ERROR [nl.rab.kno.int.LoggingInterceptor] (executor-thread-0) LoggingInterceptor.MethodCallEvent(className=nl.rabobank.knowledge.service.PreferencesService, methodName=getLanguagesForUser, result=EXCEPTION, exception=com.mongodb.MongoTimeoutException: Timed out after 5000 ms while waiting for a server that matches com.mongodb.client.internal.MongoClientDelegate$1@4fe08d8a. Client view of cluster state is {type=REPLICA_SET, servers=[{address=mongo3:27017, type=UNKNOWN, state=CONNECTING, exception={com.mongodb.MongoSocketOpenException: Exception opening socket}, caused by {java.net.ConnectException: Connection refused (Connection refused)}}, {address=mongo2:27017, type=UNKNOWN, state=CONNECTING, exception={com.mongodb.MongoSocketOpenException: Exception opening socket}, caused by {java.net.ConnectException: Connection refused (Connection refused)}}, {address=mongo1:27017, type=UNKNOWN, state=CONNECTING, exception={com.mongodb.MongoSocketOpenException: Exception opening socket}, caused by {java.net.ConnectException: Connection refused (Connection refused)}}])\n</code></pre>\n<p>For some reason it seems to automatically remove the node from the client view when the application tries to connect to the database for reading/retrieving data. I am wondering what goes wrong here?</p>\n<p>I simply followed this guide for setting up a replica set in MongoDB with Docker Compose: <a href=\"https://blog.tericcabrel.com/mongodb-replica-set-docker-compose/\" rel=\"nofollow noreferrer\">https://blog.tericcabrel.com/mongodb-replica-set-docker-compose/</a>. Note that the application is able to successfully connect to the database when I create a non-containerised replica set (as also explained in the same tutorial). I\ntherefore have the feeling that this issue is occurring due to something being misconfigured with my containerised setup.</p>\n<p>This is the connection string that I am using in my Quarkus application:</p>\n<pre><code>quarkus:\n    mongodb:\n        connection-string: mongodb://mongo1:27021,mongo2:27022,mongo3:27023/database?replicaSet=dbrs\n</code></pre>\n<p>These are the dependencies used by my Quarkus application (version 2.6.2):</p>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\n  &lt;artifactId&gt;quarkus-mongodb-client&lt;/artifactId&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n  &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\n  &lt;artifactId&gt;quarkus-mongodb-panache&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":["java","mongodb","quarkus","replicaset","mongodb-replica-set"],"comments":[{"owner":{"account_id":2919557,"reputation":7343,"user_id":2502126,"accept_rate":20,"display_name":"Buzz Moschetti"},"score":0,"creation_date":1643048580,"post_id":70835099,"comment_id":125231547,"body_markdown":"How is the `mongod` engine (the server) being started?  Your error is consistent with `mongod` being started *without* the `--replSet dbrs` argument.","body":"How is the <code>mongod</code> engine (the server) being started?  Your error is consistent with <code>mongod</code> being started <i>without</i> the <code>--replSet dbrs</code> argument."},{"owner":{"account_id":1352247,"reputation":113,"user_id":1291549,"display_name":"Christophe"},"score":0,"creation_date":1643049910,"post_id":70835099,"comment_id":125232043,"body_markdown":"I basically followed this tutorial, https://blog.tericcabrel.com/mongodb-replica-set-docker-compose/, defining an entrypoint per container: `entrypoint: [ &quot;/usr/bin/mongod&quot;, &quot;--bind_ip_all&quot;, &quot;--replSet&quot;, &quot;dbrs&quot; ]`.","body":"I basically followed this tutorial, <a href=\"https://blog.tericcabrel.com/mongodb-replica-set-docker-compose/\" rel=\"nofollow noreferrer\">blog.tericcabrel.com/mongodb-replica-set-docker-compose</a>, defining an entrypoint per container: <code>entrypoint: [ &quot;&#47;usr&#47;bin&#47;mongod&quot;, &quot;--bind_ip_all&quot;, &quot;--replSet&quot;, &quot;dbrs&quot; ]</code>."},{"owner":{"account_id":2919557,"reputation":7343,"user_id":2502126,"accept_rate":20,"display_name":"Buzz Moschetti"},"score":0,"creation_date":1643050143,"post_id":70835099,"comment_id":125232123,"body_markdown":"If it is a &quot;brand new&quot; `mongod` then after it is first fired up, you must initialize the replicaset by connecting with `mongo` or `mongosh` (the CLI) *without the replicaSet argument in the connection string* as follows: `mongo --host &quot;mongodb://someMachineNameOrIP:thePort&quot; --eval &#39;rs.initiate()&#39;`","body":"If it is a &quot;brand new&quot; <code>mongod</code> then after it is first fired up, you must initialize the replicaset by connecting with <code>mongo</code> or <code>mongosh</code> (the CLI) <i>without the replicaSet argument in the connection string</i> as follows: <code>mongo --host &quot;mongodb:&#47;&#47;someMachineNameOrIP:thePort&quot; --eval &#39;rs.initiate()&#39;</code>"},{"owner":{"account_id":1352247,"reputation":113,"user_id":1291549,"display_name":"Christophe"},"score":0,"creation_date":1643050336,"post_id":70835099,"comment_id":125232203,"body_markdown":"That I also did and is also covered in the same tutorial where `rs.initiate(config, { force: true });` is executed as part of the `./rs-init.sh` script.","body":"That I also did and is also covered in the same tutorial where <code>rs.initiate(config, { force: true });</code> is executed as part of the <code>.&#47;rs-init.sh</code> script."}],"answers":[{"tags":[],"owner":{"account_id":8951169,"reputation":1540,"user_id":6677127,"display_name":"JJussi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643091654,"creation_date":1643091654,"answer_id":70844205,"question_id":70835099,"body_markdown":"You have forgotten to tell your nodes that, they belong to a replica set!\r\nYou have two choices, command line:\r\n\r\n    mongod --replSet &quot;rs0&quot; --bind_ip localhost,&lt;hostname(s)|ip address(es)&gt;\r\n\r\nor inside of config -file\r\n\r\n    replication:\r\n       replSetName: &quot;rs0&quot;\r\n    net:\r\n       bindIp: localhost,&lt;hostname(s)|ip address(es)&gt;\r\n\r\nCheck more information from [here!][1]\r\n\r\n\r\n  [1]: https://docs.mongodb.com/manual/tutorial/deploy-replica-set/","title":"Connecting to MongoDB replica set results in &quot;Expecting replica set member, but found a STANDALONE&quot;","body":"<p>You have forgotten to tell your nodes that, they belong to a replica set!\nYou have two choices, command line:</p>\n<pre><code>mongod --replSet &quot;rs0&quot; --bind_ip localhost,&lt;hostname(s)|ip address(es)&gt;\n</code></pre>\n<p>or inside of config -file</p>\n<pre><code>replication:\n   replSetName: &quot;rs0&quot;\nnet:\n   bindIp: localhost,&lt;hostname(s)|ip address(es)&gt;\n</code></pre>\n<p>Check more information from <a href=\"https://docs.mongodb.com/manual/tutorial/deploy-replica-set/\" rel=\"nofollow noreferrer\">here!</a></p>\n"},{"tags":[],"owner":{"account_id":1352247,"reputation":113,"user_id":1291549,"display_name":"Christophe"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1643113581,"creation_date":1643106323,"answer_id":70847037,"question_id":70835099,"body_markdown":"It looks like I found the problem. I managed to get rid of that specific error  after removing Mongo on my local machine, resulting in only having Mongo as part of my containerised nodes.\r\n\r\nHowever, I am running into another issue now for which I created this post: https://stackoverflow.com/questions/70848609/connecting-to-containerised-mongodb-replica-set-with-docker-results-in-canonica.","title":"Connecting to MongoDB replica set results in &quot;Expecting replica set member, but found a STANDALONE&quot;","body":"<p>It looks like I found the problem. I managed to get rid of that specific error  after removing Mongo on my local machine, resulting in only having Mongo as part of my containerised nodes.</p>\n<p>However, I am running into another issue now for which I created this post: <a href=\"https://stackoverflow.com/questions/70848609/connecting-to-containerised-mongodb-replica-set-with-docker-results-in-canonica\">Connecting to containerised MongoDB replica set with Docker results in &quot;Canonical address ... does not match server address.&quot;</a>.</p>\n"}],"owner":{"account_id":1352247,"reputation":113,"user_id":1291549,"display_name":"Christophe"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3365,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70847037,"answer_count":2,"score":0,"last_activity_date":1643113581,"creation_date":1643033099,"question_id":70835099,"body_markdown":"I am trying to connect to my local MongoDB replica set (configured via Docker Compose) via an application running on Quarkus, however I am getting the following error as soon as I try to access the database via the application:\r\n\r\n    2022-01-24 14:51:03,170 ERROR [org.mon.dri.cluster] (cluster- ClusterId{value=&#39;61eeaec706f79a375f4b4c19&#39;, description=&#39;null&#39;}-mongo1:27017) Expecting replica set member, but found a STANDALONE.  Removing mongo1:27017 from client view of cluster.\r\n    2022-01-24 14:51:03,177 ERROR [org.mon.dri.cluster] (cluster-ClusterId{value=&#39;61eeaec706f79a375f4b4c19&#39;, description=&#39;null&#39;}-mongo3:27017) Expecting replica set member, but found a STANDALONE.  Removing mongo3:27017 from client view of cluster.\r\n    2022-01-24 14:51:03,182 ERROR [org.mon.dri.cluster] (cluster-ClusterId{value=&#39;61eeaec706f79a375f4b4c19&#39;, description=&#39;null&#39;}-mongo2:27017) Expecting replica set member, but found a STANDALONE.  Removing mongo2:27017 from client view of cluster.\r\n    2022-01-24 14:51:08,179 ERROR [nl.rab.kno.int.LoggingInterceptor] (executor-thread-0) LoggingInterceptor.MethodCallEvent(className=nl.rabobank.knowledge.service.PreferencesService, methodName=getLanguagesForUser, result=EXCEPTION, exception=com.mongodb.MongoTimeoutException: Timed out after 5000 ms while waiting for a server that matches com.mongodb.client.internal.MongoClientDelegate$1@31e1baef. Client view of cluster state is {type=REPLICA_SET, servers=[])\r\n\r\nFor some reason it seems to identify my nodes as standalone, instead of replica set members, afterwhich they are getting removed from the client view of the cluster. I am wondering what goes wrong here?\r\n\r\nThis is the connection string that I am using in my Quarkus application:\r\n\r\n    quarkus:\r\n        mongodb:\r\n            connection-string: mongodb://mongo1:27021,mongo2:27022,mongo3:27023/database?replicaSet=dbrs\r\n\r\nI simply followed this guide for setting up a replica set in MongoDB with Docker Compose: https://blog.tericcabrel.com/mongodb-replica-set-docker-compose/.\r\n\r\nThese are the dependencies used by my Quarkus application (version 2.6.2):\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\r\n      &lt;artifactId&gt;quarkus-mongodb-client&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\r\n      &lt;artifactId&gt;quarkus-mongodb-panache&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n\r\n","title":"Connecting to MongoDB replica set results in &quot;Expecting replica set member, but found a STANDALONE&quot;","body":"<p>I am trying to connect to my local MongoDB replica set (configured via Docker Compose) via an application running on Quarkus, however I am getting the following error as soon as I try to access the database via the application:</p>\n<pre><code>2022-01-24 14:51:03,170 ERROR [org.mon.dri.cluster] (cluster- ClusterId{value='61eeaec706f79a375f4b4c19', description='null'}-mongo1:27017) Expecting replica set member, but found a STANDALONE.  Removing mongo1:27017 from client view of cluster.\n2022-01-24 14:51:03,177 ERROR [org.mon.dri.cluster] (cluster-ClusterId{value='61eeaec706f79a375f4b4c19', description='null'}-mongo3:27017) Expecting replica set member, but found a STANDALONE.  Removing mongo3:27017 from client view of cluster.\n2022-01-24 14:51:03,182 ERROR [org.mon.dri.cluster] (cluster-ClusterId{value='61eeaec706f79a375f4b4c19', description='null'}-mongo2:27017) Expecting replica set member, but found a STANDALONE.  Removing mongo2:27017 from client view of cluster.\n2022-01-24 14:51:08,179 ERROR [nl.rab.kno.int.LoggingInterceptor] (executor-thread-0) LoggingInterceptor.MethodCallEvent(className=nl.rabobank.knowledge.service.PreferencesService, methodName=getLanguagesForUser, result=EXCEPTION, exception=com.mongodb.MongoTimeoutException: Timed out after 5000 ms while waiting for a server that matches com.mongodb.client.internal.MongoClientDelegate$1@31e1baef. Client view of cluster state is {type=REPLICA_SET, servers=[])\n</code></pre>\n<p>For some reason it seems to identify my nodes as standalone, instead of replica set members, afterwhich they are getting removed from the client view of the cluster. I am wondering what goes wrong here?</p>\n<p>This is the connection string that I am using in my Quarkus application:</p>\n<pre><code>quarkus:\n    mongodb:\n        connection-string: mongodb://mongo1:27021,mongo2:27022,mongo3:27023/database?replicaSet=dbrs\n</code></pre>\n<p>I simply followed this guide for setting up a replica set in MongoDB with Docker Compose: <a href=\"https://blog.tericcabrel.com/mongodb-replica-set-docker-compose/\" rel=\"nofollow noreferrer\">https://blog.tericcabrel.com/mongodb-replica-set-docker-compose/</a>.</p>\n<p>These are the dependencies used by my Quarkus application (version 2.6.2):</p>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\n  &lt;artifactId&gt;quarkus-mongodb-client&lt;/artifactId&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n  &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\n  &lt;artifactId&gt;quarkus-mongodb-panache&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":3622515,"reputation":3911,"user_id":3020903,"accept_rate":50,"display_name":"Tarmo"},"score":3,"creation_date":1643103574,"post_id":70846264,"comment_id":125245000,"body_markdown":"First you still need to do `split(&quot; &quot;)`. After that you can chunk the results with any method described here https://stackoverflow.com/questions/12026885/is-there-a-common-java-utility-to-break-a-list-into-batches","body":"First you still need to do <code>split(&quot; &quot;)</code>. After that you can chunk the results with any method described here <a href=\"https://stackoverflow.com/questions/12026885/is-there-a-common-java-utility-to-break-a-list-into-batches\" title=\"is there a common java utility to break a list into batches\">stackoverflow.com/questions/12026885/&hellip;</a>"},{"owner":{"account_id":23488518,"reputation":33,"user_id":17539796,"display_name":"piotrassz"},"score":0,"creation_date":1643103649,"post_id":70846264,"comment_id":125245026,"body_markdown":"@Lino I wrote - I want to get an array.","body":"@Lino I wrote - I want to get an array."},{"owner":{"account_id":23488518,"reputation":33,"user_id":17539796,"display_name":"piotrassz"},"score":0,"creation_date":1643103843,"post_id":70846264,"comment_id":125245095,"body_markdown":"@Lino String[], sorry.","body":"@Lino String[], sorry."},{"owner":{"account_id":19452218,"reputation":204,"user_id":14228343,"display_name":"Aditya Arora"},"score":0,"creation_date":1643103853,"post_id":70846264,"comment_id":125245100,"body_markdown":"`split(&quot; &quot;)` would create too many unneccessary strings tho","body":"<code>split(&quot; &quot;)</code> would create too many unneccessary strings tho"},{"owner":{"account_id":23488518,"reputation":33,"user_id":17539796,"display_name":"piotrassz"},"score":0,"creation_date":1643104455,"post_id":70846264,"comment_id":125245326,"body_markdown":"@AdityaArora do you have other idea?","body":"@AdityaArora do you have other idea?"},{"owner":{"account_id":19452218,"reputation":204,"user_id":14228343,"display_name":"Aditya Arora"},"score":0,"creation_date":1643104684,"post_id":70846264,"comment_id":125245410,"body_markdown":"Does this answer your question? [Splitting a string at every n-th character](https://stackoverflow.com/questions/2297347/splitting-a-string-at-every-n-th-character)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/2297347/splitting-a-string-at-every-n-th-character\">Splitting a string at every n-th character</a>"},{"owner":{"account_id":23488518,"reputation":33,"user_id":17539796,"display_name":"piotrassz"},"score":0,"creation_date":1643104805,"post_id":70846264,"comment_id":125245458,"body_markdown":"@AdityaArora No. I want to split every stirng not character.... It&#39;s just example in question.","body":"@AdityaArora No. I want to split every stirng not character.... It&#39;s just example in question."},{"owner":{"account_id":4616365,"reputation":2479,"user_id":3742743,"accept_rate":67,"display_name":"warch"},"score":0,"creation_date":1643104996,"post_id":70846264,"comment_id":125245525,"body_markdown":"are your words always only 1 character?","body":"are your words always only 1 character?"},{"owner":{"account_id":23488518,"reputation":33,"user_id":17539796,"display_name":"piotrassz"},"score":0,"creation_date":1643105025,"post_id":70846264,"comment_id":125245537,"body_markdown":"@warch no, they are multiple characters.","body":"@warch no, they are multiple characters."},{"owner":{"account_id":4616365,"reputation":2479,"user_id":3742743,"accept_rate":67,"display_name":"warch"},"score":0,"creation_date":1643105326,"post_id":70846264,"comment_id":125245653,"body_markdown":"then my solution should work","body":"then my solution should work"}],"answers":[{"tags":[],"owner":{"account_id":13897707,"reputation":87,"user_id":10034094,"display_name":"GSM"},"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1643103944,"creation_date":1643103677,"answer_id":70846390,"question_id":70846264,"body_markdown":"There are multiple ways you can achieve this,\r\n\r\nfor ex. let your string be \r\n\r\n```java\r\nString str = &quot;A B C D E F G H I J K L&quot;;\r\n```\r\n\r\none way to split it would be using regular expression\r\n\r\n```java\r\n java.util.Arrays.toString(str.split(&quot;(?&lt;=\\\\G....)&quot;))\r\n```\r\n\r\nhere the `....` represent how many characters in each string, another way to specify the pattern would be `.{4} `\r\n\r\nanother way would be\r\n\r\n```java\r\nIterable&lt;String&gt; strArr = Splitter.fixedLength(3).split(str );\r\n```\r\nthere could be more ways to achieve the same\r\n","title":"How to split a string every N words","body":"<p>There are multiple ways you can achieve this,</p>\n<p>for ex. let your string be</p>\n<pre class=\"lang-java prettyprint-override\"><code>String str = &quot;A B C D E F G H I J K L&quot;;\n</code></pre>\n<p>one way to split it would be using regular expression</p>\n<pre class=\"lang-java prettyprint-override\"><code> java.util.Arrays.toString(str.split(&quot;(?&lt;=\\\\G....)&quot;))\n</code></pre>\n<p>here the <code>....</code> represent how many characters in each string, another way to specify the pattern would be <code>.{4} </code></p>\n<p>another way would be</p>\n<pre class=\"lang-java prettyprint-override\"><code>Iterable&lt;String&gt; strArr = Splitter.fixedLength(3).split(str );\n</code></pre>\n<p>there could be more ways to achieve the same</p>\n"},{"tags":[],"owner":{"account_id":4616365,"reputation":2479,"user_id":3742743,"accept_rate":67,"display_name":"warch"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1643106141,"creation_date":1643104592,"answer_id":70846613,"question_id":70846264,"body_markdown":"You could use regex for this:\r\n\r\ne.g.:\r\n\r\n        String x = &quot;AAS BASD CAFAS DAFASF EASFASF FAFSASF GA HASF IAS JAS KAS LSA&quot;;\r\n        ArrayList&lt;String&gt; found = new ArrayList&lt;&gt;();\r\n        Pattern pattern = Pattern.compile(&quot;(\\\\w+\\\\s\\\\w+\\\\s\\\\w+)&quot;);\r\n        Matcher m = pattern.matcher(x);\r\n        while (m.find()) {\r\n            String s = m.group();\r\n            found.add(s);\r\n        }\r\n\r\n        //if you want to convert your List to an Array\r\n        String[] result = found.toArray(new String[0]);\r\n        System.out.println(Arrays.toString(result));\r\n\r\nResult: `[AAS BASD CAFAS DAFASF, EASFASF FAFSASF GA HASF, IAS JAS KAS LSA]`\r\n\r\nThis pattern (`&quot;(\\\\w+\\\\s\\\\w+\\\\s\\\\w+\\\\s\\\\w+)&quot;`) matches 4 words separated by one space. The loop iterates over every found match and adds it to your result list.","title":"How to split a string every N words","body":"<p>You could use regex for this:</p>\n<p>e.g.:</p>\n<pre><code>    String x = &quot;AAS BASD CAFAS DAFASF EASFASF FAFSASF GA HASF IAS JAS KAS LSA&quot;;\n    ArrayList&lt;String&gt; found = new ArrayList&lt;&gt;();\n    Pattern pattern = Pattern.compile(&quot;(\\\\w+\\\\s\\\\w+\\\\s\\\\w+)&quot;);\n    Matcher m = pattern.matcher(x);\n    while (m.find()) {\n        String s = m.group();\n        found.add(s);\n    }\n\n    //if you want to convert your List to an Array\n    String[] result = found.toArray(new String[0]);\n    System.out.println(Arrays.toString(result));\n</code></pre>\n<p>Result: <code>[AAS BASD CAFAS DAFASF, EASFASF FAFSASF GA HASF, IAS JAS KAS LSA]</code></p>\n<p>This pattern (<code>&quot;(\\\\w+\\\\s\\\\w+\\\\s\\\\w+\\\\s\\\\w+)&quot;</code>) matches 4 words separated by one space. The loop iterates over every found match and adds it to your result list.</p>\n"},{"tags":[],"owner":{"account_id":2056278,"reputation":23340,"user_id":1833961,"accept_rate":54,"display_name":"bvdb"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1643108421,"creation_date":1643106099,"answer_id":70846962,"question_id":70846264,"body_markdown":"You can create a regex that describes this pattern.\r\ne.g. `&quot;((?:\\w+\\s*){4})&quot;`\r\n\r\n[![enter image description here][1]][1]\r\n\r\nOr in simple words:\r\n\r\n - The `\\w+\\s*` part means that there are 1 or multiple word-characters (e.g. text, digits) followed by 0, 1 or multiple whitespace characters.\r\n\r\n - It is surrounded in braces and followed by `{4}` to indicate that we want this to occur 4 times. \r\n\r\n - Finally that again is wrapped in braces, because we want to capture that result.\r\n\r\n - By contrast the braces which were used to specify `{4}` are preceded by a `(?: ...)` prefix, which makes it a &quot;non-capturing-group&quot;. We don&#39;t want to capture the individual matches just yet.\r\n\r\nYou can use that pattern in java to extract each chunk of 4 occurrences.\r\n\r\n[![enter image description here][2]][2]\r\n\r\n And than next, you can simply split each individual result with a second regex, `\\s+` ( = whitespace)\r\n\r\n# Edit\r\n\r\nOne more thing, you may notice that the first matched group also contains whitespace at the end. You can get rid of that with a more advanced regex: `((?:\\w+\\s+){3}(?:\\w+))\\s*`\r\n\r\n[![enter image description here][4]][4]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/0DutT.png\r\n  [2]: https://i.stack.imgur.com/YsDVQ.png\r\n  [3]: https://i.stack.imgur.com/IaZuS.png\r\n  [4]: https://i.stack.imgur.com/w3Frw.png","title":"How to split a string every N words","body":"<p>You can create a regex that describes this pattern.\ne.g. <code>&quot;((?:\\w+\\s*){4})&quot;</code></p>\n<p><a href=\"https://i.stack.imgur.com/0DutT.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0DutT.png\" alt=\"enter image description here\" /></a></p>\n<p>Or in simple words:</p>\n<ul>\n<li><p>The <code>\\w+\\s*</code> part means that there are 1 or multiple word-characters (e.g. text, digits) followed by 0, 1 or multiple whitespace characters.</p>\n</li>\n<li><p>It is surrounded in braces and followed by <code>{4}</code> to indicate that we want this to occur 4 times.</p>\n</li>\n<li><p>Finally that again is wrapped in braces, because we want to capture that result.</p>\n</li>\n<li><p>By contrast the braces which were used to specify <code>{4}</code> are preceded by a <code>(?: ...)</code> prefix, which makes it a &quot;non-capturing-group&quot;. We don't want to capture the individual matches just yet.</p>\n</li>\n</ul>\n<p>You can use that pattern in java to extract each chunk of 4 occurrences.</p>\n<p><a href=\"https://i.stack.imgur.com/YsDVQ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/YsDVQ.png\" alt=\"enter image description here\" /></a></p>\n<p>And than next, you can simply split each individual result with a second regex, <code>\\s+</code> ( = whitespace)</p>\n<h1>Edit</h1>\n<p>One more thing, you may notice that the first matched group also contains whitespace at the end. You can get rid of that with a more advanced regex: <code>((?:\\w+\\s+){3}(?:\\w+))\\s*</code></p>\n<p><a href=\"https://i.stack.imgur.com/w3Frw.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/w3Frw.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":23488518,"reputation":33,"user_id":17539796,"display_name":"piotrassz"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":912,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1643113440,"accepted_answer_id":70846962,"answer_count":3,"score":0,"last_activity_date":1643113494,"creation_date":1643103078,"question_id":70846264,"body_markdown":"I want to split one big string into smaller parts, so given for example:\r\n\r\n    &quot;A B C D E F G H I J K L&quot;\r\n\r\nI want to get array (String []): `[A,B,C,D], [E,F,G,H], [I,J,K,L]`\r\n\r\nIs there any regex for that or I need to do that manually so first to split every space and then concat every N words. ??","title":"How to split a string every N words","body":"<p>I want to split one big string into smaller parts, so given for example:</p>\n<pre><code>&quot;A B C D E F G H I J K L&quot;\n</code></pre>\n<p>I want to get array (String []): <code>[A,B,C,D], [E,F,G,H], [I,J,K,L]</code></p>\n<p>Is there any regex for that or I need to do that manually so first to split every space and then concat every N words. ??</p>\n"},{"tags":["java","spring-boot","jpa","spring-data"],"comments":[{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":0,"creation_date":1643100878,"post_id":70845715,"comment_id":125243901,"body_markdown":"I think the modeling of your database is a bit unusual. First of all you cannot check referential integrity with a foreign key constraint. You also don&#39;t have a pure relationship between this table and the other tables. Why don&#39;t you save the file_name directly on the tables user, doctor and patient?","body":"I think the modeling of your database is a bit unusual. First of all you cannot check referential integrity with a foreign key constraint. You also don&#39;t have a pure relationship between this table and the other tables. Why don&#39;t you save the file_name directly on the tables user, doctor and patient?"},{"owner":{"account_id":14836004,"reputation":3,"user_id":17025456,"display_name":"sauloRicardo"},"score":0,"creation_date":1643101071,"post_id":70845715,"comment_id":125243985,"body_markdown":"Hi, @SimonMArtinelli. This is an existing database. The relationship in this table is many to one, so a user can have multiple documents registered in this table.","body":"Hi, @SimonMArtinelli. This is an existing database. The relationship in this table is many to one, so a user can have multiple documents registered in this table."},{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":0,"creation_date":1643101123,"post_id":70845715,"comment_id":125244007,"body_markdown":"Ah now I understand because you asked about many-to-one but it&#39;s one-to-many","body":"Ah now I understand because you asked about many-to-one but it&#39;s one-to-many"},{"owner":{"account_id":14836004,"reputation":3,"user_id":17025456,"display_name":"sauloRicardo"},"score":0,"creation_date":1643101365,"post_id":70845715,"comment_id":125244097,"body_markdown":"Sorry, that&#39;s right. one to many.","body":"Sorry, that&#39;s right. one to many."}],"answers":[{"tags":[],"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1643101344,"creation_date":1643101344,"answer_id":70845921,"question_id":70845715,"body_markdown":"You can use `@Where`. But be aware that `@Where` is a Hibernate annotation. It&#39;s not in the JPA standard.\r\n\r\nFor example in the User entity: (I assume that your table is mapped to an entity called Document)\r\n\r\n    @Where( clause = &quot;fk_table = &#39;user&#39;&quot;)\r\n    @JoinColumn(name = &quot;fk_id&quot;)\r\n\t@OneToMany\r\n\tprivate List&lt;Document&gt; documents = new ArrayList&lt;&gt;( );","title":"Java entity modeling with table that relates to several others","body":"<p>You can use <code>@Where</code>. But be aware that <code>@Where</code> is a Hibernate annotation. It's not in the JPA standard.</p>\n<p>For example in the User entity: (I assume that your table is mapped to an entity called Document)</p>\n<pre><code>@Where( clause = &quot;fk_table = 'user'&quot;)\n@JoinColumn(name = &quot;fk_id&quot;)\n@OneToMany\nprivate List&lt;Document&gt; documents = new ArrayList&lt;&gt;( );\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3284439,"reputation":39734,"user_id":2764255,"accept_rate":50,"display_name":"Nikos Paraskevopoulos"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643113409,"creation_date":1643113409,"answer_id":70848586,"question_id":70845715,"body_markdown":"The following is based only on standard JPA annotations. The idea is to create an inheritance hierarchy for the documents table. The base is:\r\n\r\n```java\r\n@Entity\r\n@Table(name = &quot;XX_DOCUMENT&quot;)\r\n@Inheritance(strategy = InheritanceType.SINGLE_TABLE)\r\n@DiscriminatorColumn(name = &quot;fk_table&quot;)\r\npublic abstract class BaseDocument {\r\n\t@Id\r\n\t@GeneratedValue(strategy=SEQUENCE)\r\n\tprivate Long id;\r\n\r\n\t@Column(name = &quot;file_name&quot;)\r\n\tprivate String fileName;\r\n}\r\n```\r\n\r\nHere we define that all entities extending this will go to the same table, with the `fk_table` column to discriminate. The entities extending it are defined as follows:\r\n\r\n```java\r\n@Entity\r\n@DiscriminatorValue(&quot;doctor&quot;)\r\npublic class DoctorDocument extends BaseDocument {\r\n\t@ManyToOne\r\n\t@JoinColumn(name = &quot;fk_id&quot;)\r\n\tprivate Doctor doctor;\r\n}\r\n\r\n@Entity\r\n@DiscriminatorValue(&quot;patient&quot;)\r\npublic class PatientDocument extends BaseDocument {\r\n\t@ManyToOne\r\n\t@JoinColumn(name = &quot;fk_id&quot;)\r\n\tprivate Patient patient;\r\n}\r\n\r\n// and so on\r\n```\r\n\r\nThe interesting thing is that we are reusing the column `fk_id` to point to the right table. From a small experiment, Hibernate seems to not have problems with it. I would suggest that you manage the DB creation another way just to be safe.\r\n\r\nThe `Doctor`, `Patient` etc need not have a common base class, e.g.:\r\n\r\n```java\r\n@Entity\r\n@Table(name = &quot;XX_DOCTOR&quot;)\r\npublic class Doctor {\r\n\t@Id\r\n\t@GeneratedValue(strategy=SEQUENCE)\r\n\tprivate Long id;\r\n\r\n\t@OneToMany(mappedBy = &quot;doctor&quot;)\r\n\tprivate Collection&lt;DoctorDocument&gt; documents = new ArrayList&lt;&gt;();\r\n\r\n\t// any doctor-specific fields\r\n}\r\n\r\n@Entity\r\n@Table(name = &quot;XX_PATIENT&quot;)\r\npublic class Patient {\r\n\t@Id\r\n\t@GeneratedValue(strategy=SEQUENCE)\r\n\tprivate Long id;\r\n\r\n\t@OneToMany(mappedBy = &quot;patient&quot;)\r\n\tprivate Collection&lt;PatientDocument&gt; documents = new ArrayList&lt;&gt;();\r\n\r\n\t// any patient-specific fields\r\n}\r\n\r\n// and so on\r\n```\r\n\r\nYou can read a (doctor, patient, ...)&#39;s documents from the relevant collection. You can even query `BaseDocument` instances based on any criteria.\r\n\r\nYou can even go ahead and do more fabcy stuff with the Java code. E.g. define an interface `HasDocuments`:\r\n\r\n```java\r\npublic interface HasDocuments&lt;D extends BaseDocument&gt; {\r\n\tCollection&lt;D&gt; getDocuments();\r\n}\r\n```\r\n\r\n`Doctor`, `Patient`, ..., implements this, so they can all be treated the same way.","title":"Java entity modeling with table that relates to several others","body":"<p>The following is based only on standard JPA annotations. The idea is to create an inheritance hierarchy for the documents table. The base is:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Table(name = &quot;XX_DOCUMENT&quot;)\n@Inheritance(strategy = InheritanceType.SINGLE_TABLE)\n@DiscriminatorColumn(name = &quot;fk_table&quot;)\npublic abstract class BaseDocument {\n    @Id\n    @GeneratedValue(strategy=SEQUENCE)\n    private Long id;\n\n    @Column(name = &quot;file_name&quot;)\n    private String fileName;\n}\n</code></pre>\n<p>Here we define that all entities extending this will go to the same table, with the <code>fk_table</code> column to discriminate. The entities extending it are defined as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@DiscriminatorValue(&quot;doctor&quot;)\npublic class DoctorDocument extends BaseDocument {\n    @ManyToOne\n    @JoinColumn(name = &quot;fk_id&quot;)\n    private Doctor doctor;\n}\n\n@Entity\n@DiscriminatorValue(&quot;patient&quot;)\npublic class PatientDocument extends BaseDocument {\n    @ManyToOne\n    @JoinColumn(name = &quot;fk_id&quot;)\n    private Patient patient;\n}\n\n// and so on\n</code></pre>\n<p>The interesting thing is that we are reusing the column <code>fk_id</code> to point to the right table. From a small experiment, Hibernate seems to not have problems with it. I would suggest that you manage the DB creation another way just to be safe.</p>\n<p>The <code>Doctor</code>, <code>Patient</code> etc need not have a common base class, e.g.:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Table(name = &quot;XX_DOCTOR&quot;)\npublic class Doctor {\n    @Id\n    @GeneratedValue(strategy=SEQUENCE)\n    private Long id;\n\n    @OneToMany(mappedBy = &quot;doctor&quot;)\n    private Collection&lt;DoctorDocument&gt; documents = new ArrayList&lt;&gt;();\n\n    // any doctor-specific fields\n}\n\n@Entity\n@Table(name = &quot;XX_PATIENT&quot;)\npublic class Patient {\n    @Id\n    @GeneratedValue(strategy=SEQUENCE)\n    private Long id;\n\n    @OneToMany(mappedBy = &quot;patient&quot;)\n    private Collection&lt;PatientDocument&gt; documents = new ArrayList&lt;&gt;();\n\n    // any patient-specific fields\n}\n\n// and so on\n</code></pre>\n<p>You can read a (doctor, patient, ...)'s documents from the relevant collection. You can even query <code>BaseDocument</code> instances based on any criteria.</p>\n<p>You can even go ahead and do more fabcy stuff with the Java code. E.g. define an interface <code>HasDocuments</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public interface HasDocuments&lt;D extends BaseDocument&gt; {\n    Collection&lt;D&gt; getDocuments();\n}\n</code></pre>\n<p><code>Doctor</code>, <code>Patient</code>, ..., implements this, so they can all be treated the same way.</p>\n"}],"owner":{"account_id":14836004,"reputation":3,"user_id":17025456,"display_name":"sauloRicardo"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":324,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70845921,"answer_count":2,"score":0,"last_activity_date":1643113409,"creation_date":1643100399,"question_id":70845715,"body_markdown":"I have a doubt about how the modeling of my entity would be. Come on, I have a table in the database that serves to save documents from my system, this table has the columns id, fk_id (element foreign key), fk_table (entity name) and file_name (stores the name of my file) .\r\n\r\nI did a lot of research before posting my question here, but I didn&#39;t find anything related to it, what would my entities, user, patient and doctor?\r\n\r\nDB:\r\n\r\n| id | fk_id | fk_table | file_name  |\r\n|----|-------|----------|------------|\r\n| 1  | 21    | user     | test1.jpg  |\r\n| 2  | 32    | doctor   | test2.pdf  |\r\n| 3  | 61    | user     | test10.pdf |\r\n| 4  | 100   | patient  | test5.jpg  |\r\n\r\nClass:\r\n\r\n    public class User{\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n    private String firstName;\r\n    private String LastName;\r\n    // What would a one-to-many relationship look like?\r\n    }\r\n    public class patient{\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n    private String firstName;\r\n    private String lastName;\r\n    // What would a one-to-many relationship look like?\r\n    }","title":"Java entity modeling with table that relates to several others","body":"<p>I have a doubt about how the modeling of my entity would be. Come on, I have a table in the database that serves to save documents from my system, this table has the columns id, fk_id (element foreign key), fk_table (entity name) and file_name (stores the name of my file) .</p>\n<p>I did a lot of research before posting my question here, but I didn't find anything related to it, what would my entities, user, patient and doctor?</p>\n<p>DB:</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>id</th>\n<th>fk_id</th>\n<th>fk_table</th>\n<th>file_name</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>1</td>\n<td>21</td>\n<td>user</td>\n<td>test1.jpg</td>\n</tr>\n<tr>\n<td>2</td>\n<td>32</td>\n<td>doctor</td>\n<td>test2.pdf</td>\n</tr>\n<tr>\n<td>3</td>\n<td>61</td>\n<td>user</td>\n<td>test10.pdf</td>\n</tr>\n<tr>\n<td>4</td>\n<td>100</td>\n<td>patient</td>\n<td>test5.jpg</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>Class:</p>\n<pre><code>public class User{\n@Id\n@GeneratedValue(strategy = GenerationType.IDENTITY)\nprivate Long id;\nprivate String firstName;\nprivate String LastName;\n// What would a one-to-many relationship look like?\n}\npublic class patient{\n@Id\n@GeneratedValue(strategy = GenerationType.IDENTITY)\nprivate Long id;\nprivate String firstName;\nprivate String lastName;\n// What would a one-to-many relationship look like?\n}\n</code></pre>\n"},{"tags":["java","mysql","spring-boot","jdbctemplate","spring-transactions"],"comments":[{"owner":{"account_id":2563377,"reputation":7174,"user_id":2224047,"display_name":"Nikolai  Shevchenko"},"score":0,"creation_date":1643115949,"post_id":43611980,"comment_id":125249442,"body_markdown":"Please show how do you invoke `saveData` method","body":"Please show how do you invoke <code>saveData</code> method"}],"answers":[{"tags":[],"owner":{"account_id":2529186,"reputation":3484,"user_id":2197837,"accept_rate":25,"display_name":"Praneeth Ramesh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1493130740,"creation_date":1493130740,"answer_id":43613605,"question_id":43611980,"body_markdown":"This code does not rollback the transaction becoz the exception is not thrown back to the method.\r\n\r\n@Transactional(rollbackForClassName={&quot;Exception&quot;}) means rollback the transaction when Exception is thrown back from this method. But in your case you are catching the exception and returning a proper response hence the transaction is getting commited. Spring creates a AOP transaction advice around this method call which successfully commits if method gracefully returns, and rollbacks if exception thrown from this method.\r\n\r\n\r\nTo rollback either throw the exception from this method or move the code inside try block to a different method and annotate that method with \r\n@Transactional(rollbackForClassName={&quot;Exception&quot;})","title":"@Transactional not rolling back transaction in Spring","body":"<p>This code does not rollback the transaction becoz the exception is not thrown back to the method.</p>\n\n<p>@Transactional(rollbackForClassName={\"Exception\"}) means rollback the transaction when Exception is thrown back from this method. But in your case you are catching the exception and returning a proper response hence the transaction is getting commited. Spring creates a AOP transaction advice around this method call which successfully commits if method gracefully returns, and rollbacks if exception thrown from this method.</p>\n\n<p>To rollback either throw the exception from this method or move the code inside try block to a different method and annotate that method with \n@Transactional(rollbackForClassName={\"Exception\"})</p>\n"},{"tags":[],"owner":{"account_id":6456733,"reputation":1883,"user_id":5404976,"accept_rate":50,"display_name":"Vinit Solanki"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1493135666,"creation_date":1493135666,"answer_id":43615529,"question_id":43611980,"body_markdown":"You need to disable `defaultAutoCommit` in `dataSource`.","title":"@Transactional not rolling back transaction in Spring","body":"<p>You need to disable <code>defaultAutoCommit</code> in <code>dataSource</code>.</p>\n"}],"owner":{"account_id":7629838,"reputation":562,"user_id":5785252,"accept_rate":19,"display_name":"Vivek Mangal"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2822,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1643113369,"creation_date":1493126722,"question_id":43611980,"body_markdown":"I am using Spring Jdbc and `@Transactional` annotation for a method which inserts data in the database. Snippet of code is:\r\n\r\n\t\r\n\r\n    @Transactional(rollbackForClassName={&quot;Exception&quot;})\r\n    \tpublic PreBookingResponse saveData(Tip trip, HttpServletRequest request) throws Exception {\r\n    \t\tPreBookingResponse preBookingResponse = null;\r\n    \t\ttry {\r\n    \t\t\tString bookingRefNo = &quot;89&quot;;\r\n    \t\t\ttrip.setBookingRefNo(bookingRefNo);\r\n    \t\t\tMinimumUserProfile userProfile = JwtService.getUserFromToken(request);\r\n    \t\t\tString userId = userProfile.getUserId();\r\n    \t\t\t\r\n    \t\t\tif (tripDao.saveTripData(trip, userId)) {\r\n    \t\t\t\tpreBookingResponse = new PreBookingResponse(0, &quot;&quot;);\r\n    \t\t\t\tpreBookingResponse.setBookingRefNo(bookingRefNo);\r\n    \t\t\t\tpreBookingResponse.setSearchId(trip.getSearchId());\r\n    \t\t\t\tpreBookingResponse.setId(trip.getId());\r\n    \t\t\t}\r\n    \t\t}catch(Exception e)\r\n    \t\t{\r\n    \t\t\tString errorMsg = &quot;Error occur while saving trip data due to: &quot; + e.getMessage();\r\n    \t\t\tlog.error(errorMsg);\r\n    \t\t\tpreBookingResponse = new PreBookingResponse(2, errorMsg);\r\n    \t\t\tpreBookingResponse.setBookingRefNo(trip.getBookingRefNo());\r\n    \t\t\tpreBookingResponse.setSearchId(trip.getSearchId());\r\n    \t\t\tthrow e;\r\n    \t\t}\r\n    \t\treturn preBookingResponse;\r\n    \t}\r\n\r\n   \r\nInside function `tripDao.saveTripData(trip, userId)` I am insrting data in more than one table. When any exception occurs while inserting data all the insertion operations should roll back but they don&#39;t.\r\n\r\nMy `spring-config.xml` is (which I am importing from another project):\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\r\n    \txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns:context=&quot;http://www.springframework.org/schema/context&quot;\r\n    \txmlns:tx=&quot;http://www.springframework.org/schema/tx&quot;\r\n    \txsi:schemaLocation=&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd\r\n    \t\thttp://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-4.0.xsd\r\n    \t\thttp://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx-4.0.xsd&quot;&gt;\r\n    \t\r\n    \t\r\n    \t&lt;!-- Enable Annotation based Declarative Transaction Management --&gt;\r\n    \t&lt;tx:annotation-driven proxy-target-class=&quot;true&quot;\r\n    \t\ttransaction-manager=&quot;transactionManager&quot; /&gt;\r\n    \t\t\r\n    \t\r\n    \r\n    \t&lt;!-- Creating TransactionManager Bean, since JDBC we are creating of type \r\n    \t\tDataSourceTransactionManager --&gt;\r\n    \t&lt;bean id=&quot;transactionManager&quot;\r\n    \t\tclass=&quot;org.springframework.jdbc.datasource.DataSourceTransactionManager&quot;&gt;\r\n    \t\t&lt;property name=&quot;dataSource&quot; ref=&quot;dataSource&quot; /&gt;\r\n    \t&lt;/bean&gt;\r\n    \t\r\n    \t&lt;!-- MySQL database connection --&gt;\r\n    \t&lt;bean id=&quot;dataSource&quot;\r\n    \t\tclass=&quot;org.springframework.jdbc.datasource.DriverManagerDataSource&quot;&gt;\r\n    \t\t&lt;property name=&quot;url&quot; value=&quot;jdbc:mysql://localhost:3306/aapi&quot;&gt;&lt;/property&gt;\r\n    \t\t&lt;!-- Changed to mysql-connector-java 5.x since 6 is in beta phase  --&gt;\r\n    \t\t&lt;property name=&quot;driverClassName&quot; value=&quot;com.mysql.jdbc.Driver&quot;&gt;&lt;/property&gt;\r\n    \t\t&lt;property name=&quot;username&quot; value=&quot;root&quot;&gt;&lt;/property&gt;\r\n    \t\t&lt;property name=&quot;password&quot; value=&quot;root&quot;&gt;&lt;/property&gt;\r\n    \t&lt;/bean&gt;\r\n    \t\r\n    \t&lt;bean id=&quot;jdbcTemplate&quot; class=&quot;org.springframework.jdbc.core.JdbcTemplate&quot;&gt;\r\n    \t\t&lt;property name=&quot;dataSource&quot; ref=&quot;dataSource&quot;&gt;&lt;/property&gt;\r\n    \t&lt;/bean&gt;\r\n    &lt;/beans&gt;\r\n\r\nMy build.gradle is:\r\n\r\n    buildscript {\r\n    \text {\r\n    \t\tspringBootVersion = &#39;1.5.2.RELEASE&#39;\r\n    \t}\r\n    \trepositories {\r\n    \t\tmavenCentral()\r\n    \t}\r\n    \tdependencies {\r\n    \t\tclasspath(&quot;org.springframework.boot:spring-boot-gradle-plugin:${springBootVersion}&quot;)\r\n    \t}\r\n    }\r\n    \r\n    \r\n    apply plugin: &#39;java&#39;\r\n    apply plugin: &#39;eclipse-wtp&#39;\r\n    apply plugin: &#39;org.springframework.boot&#39;\r\n    \r\n    sourceCompatibility = 1.8\r\n    targetCompatibility = 1.8\r\n    \r\n    repositories {\r\n        jcenter()\r\n    }\r\n    \r\n    dependencies {\r\n        compile group: &#39;org.springframework.boot&#39;, name: &#39;spring-boot-starter-web&#39;, version: &#39;1.5.2.RELEASE&#39;\r\n        compile group: &#39;org.springframework.boot&#39;, name: &#39;spring-boot-starter-security&#39;, version: &#39;1.5.2.RELEASE&#39;\r\n    \r\n    \tcompile project(&#39;:supplier-commons&#39;)\r\n        runtime project(&#39;:supplier-commons&#39;)\r\n    \r\n        compile &#39;org.springframework:spring-context:4.2.6.RELEASE&#39;\r\n        compile &#39;org.springframework:spring-webmvc:4.2.6.RELEASE&#39;\r\n        compile group: &#39;mysql&#39;, name: &#39;mysql-connector-java&#39;, version: &#39;5.1.6&#39;\r\n        compile group: &#39;org.apache.logging.log4j&#39;, name: &#39;log4j-api&#39;, version: &#39;2.7&#39;\r\n        compile group: &#39;org.apache.logging.log4j&#39;, name: &#39;log4j-core&#39;, version: &#39;2.7&#39;\r\n        compile group: &#39;com.typesafe.akka&#39;, name: &#39;akka-actor_2.11&#39;, version: &#39;2.4.1&#39;\r\n        compile &#39;io.jsonwebtoken:jjwt:0.7.0&#39;\r\n        compile group: &#39;javax.mail&#39;, name: &#39;mail&#39;, version: &#39;1.4&#39;\r\n        compile group: &#39;freemarker&#39;, name: &#39;freemarker&#39;, version: &#39;2.3.9&#39;\r\n        compile group: &#39;org.springframework.security&#39;, name: &#39;spring-security-crypto&#39;, version: &#39;4.2.2.RELEASE&#39;\r\n        compile group: &#39;org.apache.commons&#39;, name: &#39;commons-email&#39;, version: &#39;1.4&#39;\r\n        compile group: &#39;com.thoughtworks.xstream&#39;, name: &#39;xstream&#39;, version: &#39;1.4.9&#39;\r\n        compile group: &#39;org.jmockit&#39;, name: &#39;jmockit&#39;, version: &#39;1.8&#39;\r\n        compile &#39;io.jsonwebtoken:jjwt:0.7.0&#39;\r\n    \tcompile group: &#39;com.ning&#39;, name: &#39;async-http-client&#39;, version: &#39;1.6.4&#39;\r\n    \tcompile group: &#39;org.mockito&#39;, name: &#39;mockito-all&#39;, version: &#39;1.8.4&#39;\r\n    \tcompile group: &#39;io.reactivex.rxjava2&#39;, name: &#39;rxjava&#39;, version: &#39;2.0.7&#39;\r\n     \r\n        runtime(&#39;org.springframework.boot:spring-boot-devtools&#39;)\r\n    \tcompileOnly(&#39;org.springframework.boot:spring-boot-configuration-processor&#39;)\r\n    \tcompile group: &#39;org.aspectj&#39;, name: &#39;aspectjweaver&#39;, version: &#39;1.8.8&#39;\r\n    \t// https://mvnrepository.com/artifact/org.springframework/spring-tx\r\n    \tcompile group: &#39;org.springframework&#39;, name: &#39;spring-tx&#39;, version: &#39;4.1.4.RELEASE&#39;\r\n    \t// https://mvnrepository.com/artifact/org.eclipse.persistence/javax.persistence\r\n    compile group: &#39;org.eclipse.persistence&#39;, name: &#39;javax.persistence&#39;, version: &#39;2.1.0&#39;\r\n    \t// https://mvnrepository.com/artifact/org.hibernate/hibernate-core\r\n    \r\n    \t// https://mvnrepository.com/artifact/org.hibernate/hibernate-core\r\n    compile group: &#39;org.hibernate&#39;, name: &#39;hibernate-core&#39;, version: &#39;3.6.5.Final&#39;\r\n    \t// https://mvnrepository.com/artifact/org.springframework/spring-orm\r\n    compile group: &#39;org.springframework&#39;, name: &#39;spring-orm&#39;, version: &#39;4.3.8.RELEASE&#39;\r\n    \t// https://mvnrepository.com/artifact/org.hibernate/hibernate\r\n    compile group: &#39;org.hibernate&#39;, name: &#39;hibernate&#39;, version: &#39;3.2.6.ga&#39;\r\n    \t\r\n        testCompile &#39;junit:junit:4.12&#39;\r\n       \r\n    }\r\n    \r\n    springBoot {\r\n        executable = true\r\n    }\r\n    \r\n    eclipse {\r\n    \r\n      wtp {\r\n      \tfacet {\r\n      \t\tfacet name: &#39;jst.web&#39;, version: &#39;2.4&#39;\r\n      \t}\r\n      \r\n        component {\r\n          contextPath = &#39;aggregator-api&#39;\r\n        }\r\n        \r\n      }\r\n    }\r\n\r\nWhy are the transactions not rolling back?","title":"@Transactional not rolling back transaction in Spring","body":"<p>I am using Spring Jdbc and <code>@Transactional</code> annotation for a method which inserts data in the database. Snippet of code is:</p>\n<pre><code>@Transactional(rollbackForClassName={&quot;Exception&quot;})\n    public PreBookingResponse saveData(Tip trip, HttpServletRequest request) throws Exception {\n        PreBookingResponse preBookingResponse = null;\n        try {\n            String bookingRefNo = &quot;89&quot;;\n            trip.setBookingRefNo(bookingRefNo);\n            MinimumUserProfile userProfile = JwtService.getUserFromToken(request);\n            String userId = userProfile.getUserId();\n            \n            if (tripDao.saveTripData(trip, userId)) {\n                preBookingResponse = new PreBookingResponse(0, &quot;&quot;);\n                preBookingResponse.setBookingRefNo(bookingRefNo);\n                preBookingResponse.setSearchId(trip.getSearchId());\n                preBookingResponse.setId(trip.getId());\n            }\n        }catch(Exception e)\n        {\n            String errorMsg = &quot;Error occur while saving trip data due to: &quot; + e.getMessage();\n            log.error(errorMsg);\n            preBookingResponse = new PreBookingResponse(2, errorMsg);\n            preBookingResponse.setBookingRefNo(trip.getBookingRefNo());\n            preBookingResponse.setSearchId(trip.getSearchId());\n            throw e;\n        }\n        return preBookingResponse;\n    }\n</code></pre>\n<p>Inside function <code>tripDao.saveTripData(trip, userId)</code> I am insrting data in more than one table. When any exception occurs while inserting data all the insertion operations should roll back but they don't.</p>\n<p>My <code>spring-config.xml</code> is (which I am importing from another project):</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns:context=&quot;http://www.springframework.org/schema/context&quot;\n    xmlns:tx=&quot;http://www.springframework.org/schema/tx&quot;\n    xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd\n        http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-4.0.xsd\n        http://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx-4.0.xsd&quot;&gt;\n    \n    \n    &lt;!-- Enable Annotation based Declarative Transaction Management --&gt;\n    &lt;tx:annotation-driven proxy-target-class=&quot;true&quot;\n        transaction-manager=&quot;transactionManager&quot; /&gt;\n        \n    \n\n    &lt;!-- Creating TransactionManager Bean, since JDBC we are creating of type \n        DataSourceTransactionManager --&gt;\n    &lt;bean id=&quot;transactionManager&quot;\n        class=&quot;org.springframework.jdbc.datasource.DataSourceTransactionManager&quot;&gt;\n        &lt;property name=&quot;dataSource&quot; ref=&quot;dataSource&quot; /&gt;\n    &lt;/bean&gt;\n    \n    &lt;!-- MySQL database connection --&gt;\n    &lt;bean id=&quot;dataSource&quot;\n        class=&quot;org.springframework.jdbc.datasource.DriverManagerDataSource&quot;&gt;\n        &lt;property name=&quot;url&quot; value=&quot;jdbc:mysql://localhost:3306/aapi&quot;&gt;&lt;/property&gt;\n        &lt;!-- Changed to mysql-connector-java 5.x since 6 is in beta phase  --&gt;\n        &lt;property name=&quot;driverClassName&quot; value=&quot;com.mysql.jdbc.Driver&quot;&gt;&lt;/property&gt;\n        &lt;property name=&quot;username&quot; value=&quot;root&quot;&gt;&lt;/property&gt;\n        &lt;property name=&quot;password&quot; value=&quot;root&quot;&gt;&lt;/property&gt;\n    &lt;/bean&gt;\n    \n    &lt;bean id=&quot;jdbcTemplate&quot; class=&quot;org.springframework.jdbc.core.JdbcTemplate&quot;&gt;\n        &lt;property name=&quot;dataSource&quot; ref=&quot;dataSource&quot;&gt;&lt;/property&gt;\n    &lt;/bean&gt;\n&lt;/beans&gt;\n</code></pre>\n<p>My build.gradle is:</p>\n<pre><code>buildscript {\n    ext {\n        springBootVersion = '1.5.2.RELEASE'\n    }\n    repositories {\n        mavenCentral()\n    }\n    dependencies {\n        classpath(&quot;org.springframework.boot:spring-boot-gradle-plugin:${springBootVersion}&quot;)\n    }\n}\n\n\napply plugin: 'java'\napply plugin: 'eclipse-wtp'\napply plugin: 'org.springframework.boot'\n\nsourceCompatibility = 1.8\ntargetCompatibility = 1.8\n\nrepositories {\n    jcenter()\n}\n\ndependencies {\n    compile group: 'org.springframework.boot', name: 'spring-boot-starter-web', version: '1.5.2.RELEASE'\n    compile group: 'org.springframework.boot', name: 'spring-boot-starter-security', version: '1.5.2.RELEASE'\n\n    compile project(':supplier-commons')\n    runtime project(':supplier-commons')\n\n    compile 'org.springframework:spring-context:4.2.6.RELEASE'\n    compile 'org.springframework:spring-webmvc:4.2.6.RELEASE'\n    compile group: 'mysql', name: 'mysql-connector-java', version: '5.1.6'\n    compile group: 'org.apache.logging.log4j', name: 'log4j-api', version: '2.7'\n    compile group: 'org.apache.logging.log4j', name: 'log4j-core', version: '2.7'\n    compile group: 'com.typesafe.akka', name: 'akka-actor_2.11', version: '2.4.1'\n    compile 'io.jsonwebtoken:jjwt:0.7.0'\n    compile group: 'javax.mail', name: 'mail', version: '1.4'\n    compile group: 'freemarker', name: 'freemarker', version: '2.3.9'\n    compile group: 'org.springframework.security', name: 'spring-security-crypto', version: '4.2.2.RELEASE'\n    compile group: 'org.apache.commons', name: 'commons-email', version: '1.4'\n    compile group: 'com.thoughtworks.xstream', name: 'xstream', version: '1.4.9'\n    compile group: 'org.jmockit', name: 'jmockit', version: '1.8'\n    compile 'io.jsonwebtoken:jjwt:0.7.0'\n    compile group: 'com.ning', name: 'async-http-client', version: '1.6.4'\n    compile group: 'org.mockito', name: 'mockito-all', version: '1.8.4'\n    compile group: 'io.reactivex.rxjava2', name: 'rxjava', version: '2.0.7'\n \n    runtime('org.springframework.boot:spring-boot-devtools')\n    compileOnly('org.springframework.boot:spring-boot-configuration-processor')\n    compile group: 'org.aspectj', name: 'aspectjweaver', version: '1.8.8'\n    // https://mvnrepository.com/artifact/org.springframework/spring-tx\n    compile group: 'org.springframework', name: 'spring-tx', version: '4.1.4.RELEASE'\n    // https://mvnrepository.com/artifact/org.eclipse.persistence/javax.persistence\ncompile group: 'org.eclipse.persistence', name: 'javax.persistence', version: '2.1.0'\n    // https://mvnrepository.com/artifact/org.hibernate/hibernate-core\n\n    // https://mvnrepository.com/artifact/org.hibernate/hibernate-core\ncompile group: 'org.hibernate', name: 'hibernate-core', version: '3.6.5.Final'\n    // https://mvnrepository.com/artifact/org.springframework/spring-orm\ncompile group: 'org.springframework', name: 'spring-orm', version: '4.3.8.RELEASE'\n    // https://mvnrepository.com/artifact/org.hibernate/hibernate\ncompile group: 'org.hibernate', name: 'hibernate', version: '3.2.6.ga'\n    \n    testCompile 'junit:junit:4.12'\n   \n}\n\nspringBoot {\n    executable = true\n}\n\neclipse {\n\n  wtp {\n    facet {\n        facet name: 'jst.web', version: '2.4'\n    }\n  \n    component {\n      contextPath = 'aggregator-api'\n    }\n    \n  }\n}\n</code></pre>\n<p>Why are the transactions not rolling back?</p>\n"},{"tags":["java","java-stream"],"answers":[{"tags":[],"owner":{"account_id":1263831,"reputation":388998,"user_id":1221571,"accept_rate":67,"display_name":"Eran"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1643106495,"creation_date":1643106094,"answer_id":70846960,"question_id":70846916,"body_markdown":"Stream over the products, convert each product to a `LineItem` and collect to a `List`.\r\n    \r\n    List&lt;SessionCreateParams.LineItem&gt; elements =\r\n        experience.getProducts()\r\n                  .stream()\r\n                  .map(p -&gt; stripeProxy.createLineItem(1L, p.getPriceId(), \r\n                                                       getTaxRate(p.getPriceId())))\r\n                  .collect(Collectors.toList());","title":"How to refactor this with Stream?","body":"<p>Stream over the products, convert each product to a <code>LineItem</code> and collect to a <code>List</code>.</p>\n<pre><code>List&lt;SessionCreateParams.LineItem&gt; elements =\n    experience.getProducts()\n              .stream()\n              .map(p -&gt; stripeProxy.createLineItem(1L, p.getPriceId(), \n                                                   getTaxRate(p.getPriceId())))\n              .collect(Collectors.toList());\n</code></pre>\n"}],"owner":{"account_id":12533807,"reputation":19,"user_id":9121093,"display_name":"Dara"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"closed_date":1643112769,"answer_count":1,"score":1,"last_activity_date":1643112943,"creation_date":1643105942,"question_id":70846916,"body_markdown":"How can refactor this with java stream?\r\n\r\n```\r\nList&lt;SessionCreateParams.LineItem&gt; elements = new ArrayList&lt;&gt;();\r\nSessionCreateParams.LineItem lineItem;\r\n\r\nfor (Product product : experience.getProducts()) {\r\n    String taxRate = getTaxRate(product.getPriceId());\r\n    lineItem = stripeProxy.createLineItem(1L, product.getPriceId(), taxRate);\r\n    elements.add(lineItem);\r\n}\r\n```","title":"How to refactor this with Stream?","body":"<p>How can refactor this with java stream?</p>\n<pre><code>List&lt;SessionCreateParams.LineItem&gt; elements = new ArrayList&lt;&gt;();\nSessionCreateParams.LineItem lineItem;\n\nfor (Product product : experience.getProducts()) {\n    String taxRate = getTaxRate(product.getPriceId());\n    lineItem = stripeProxy.createLineItem(1L, product.getPriceId(), taxRate);\n    elements.add(lineItem);\n}\n</code></pre>\n"},{"tags":["java","json","stackexchange-api"],"answers":[{"tags":[],"owner":{"account_id":1764995,"reputation":36209,"user_id":1611055,"accept_rate":91,"display_name":"Andreas Fester"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1399627412,"creation_date":1399627412,"answer_id":23560986,"question_id":23560740,"body_markdown":"The content is compressed. You need to send it through an unzip stream, like\r\n\r\n    import java.util.zip.GZIPInputStream;\r\n\r\n    ...\r\n    InputStream content = response.getEntity().getContent();\r\n    content = new GZIPInputStream(content);\r\n    ...\r\n\r\nYou should also check the content encoding first, and only wrap the stream into a `GZIPInputStream` if the encoding actually **is** `gzip` - some proxies transparently already uncompress the stream.\r\n\r\nSee [SOQuery.java][1] for a complete sample, even though this is using `java.net.HttpURLConnection` rather than the apache client.\r\n\r\n\r\n  [1]: https://github.com/afester/CodeSamples/blob/master/Java/SOQuery/src/net/littletux/SOQuery.java","title":"how to decode the Stack Exchange API response","body":"<p>The content is compressed. You need to send it through an unzip stream, like</p>\n\n<pre><code>import java.util.zip.GZIPInputStream;\n\n...\nInputStream content = response.getEntity().getContent();\ncontent = new GZIPInputStream(content);\n...\n</code></pre>\n\n<p>You should also check the content encoding first, and only wrap the stream into a <code>GZIPInputStream</code> if the encoding actually <strong>is</strong> <code>gzip</code> - some proxies transparently already uncompress the stream.</p>\n\n<p>See <a href=\"https://github.com/afester/CodeSamples/blob/master/Java/SOQuery/src/net/littletux/SOQuery.java\" rel=\"nofollow\">SOQuery.java</a> for a complete sample, even though this is using <code>java.net.HttpURLConnection</code> rather than the apache client.</p>\n"}],"owner":{"account_id":3067616,"reputation":893,"user_id":2598980,"accept_rate":100,"display_name":"ravikumar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1362,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":23560986,"answer_count":1,"score":4,"last_activity_date":1643112550,"creation_date":1399626666,"question_id":23560740,"body_markdown":"I am trying to retrieve the response of stack exchange api like\r\n[http://api.stackexchange.com/2.2/tags?order=desc&amp;sort=popular&amp;site=stackoverflow]\r\n\r\nI am using the following code  to retrieve the response\r\n\r\n    import java.io.BufferedReader;\r\n    import java.io.IOException;\r\n    import java.io.InputStream;\r\n    import java.io.InputStreamReader;\r\n    import org.apache.http.HttpResponse;\r\n    import org.apache.http.client.methods.HttpGet;\r\n    import org.apache.http.impl.client.DefaultHttpClient;\r\n    \r\n    \r\n    public class RetrieveAllTag {\r\n    \r\n        public static void main(String... args) {\r\n    \r\n            DefaultHttpClient httpClient = new DefaultHttpClient();\r\n            HttpGet httpGet = new HttpGet(&quot;http://api.stackexchange.com/2.2/tags?order=desc&amp;sort=popular&amp;site=stackoverflow&quot;);\r\n            HttpResponse response = null;\r\n    \r\n            try {\r\n                response = httpClient.execute(httpGet);\r\n                InputStream content = response.getEntity().getContent();\r\n    \r\n                BufferedReader reader = new BufferedReader(new InputStreamReader(content,&quot;UTF-8&quot;));\r\n                StringBuilder stringBuilder = new StringBuilder();\r\n                String inputLine;\r\n                while ((inputLine = reader.readLine()) != null) {\r\n                    stringBuilder.append(inputLine);\r\n                    stringBuilder.append(&quot;\\n&quot;);\r\n                }\r\n                System.out.println(stringBuilder.toString());\r\n    \r\n            }\r\n            catch (IOException e) {\r\n                e.printStackTrace();  //To change body of catch statement use File | Settings | File Templates.\r\n            }\r\n            finally {\r\n                httpClient.getConnectionManager().shutdown();\r\n            }\r\n        }\r\n    }\r\n\r\nBut I am getting the response in decoded form as \r\nï¿½ï¿½ï¿½nï¿½ \u0010ï¿½ß…\\f]asï¿½ï¿½DÕŠï¿½Iï¿½ï¿½\u0001/ï¿½mï¿½(ï¿½\u001Eï¿½*Æ©ï¿½ï¿½ï¿½Kcï¿½ï¿½ï¿½\r\n\r\n\r\nI found the similar question [https://stackoverflow.com/questions/20808901/problems-with-decoding-stack-exchange-api-response] , \r\nbut I didn&#39;t find any answers for the question.\r\n\r\nHow to decode the api response?\r\n\r\nThanks in advance.\r\n","title":"how to decode the Stack Exchange API response","body":"<p>I am trying to retrieve the response of stack exchange api like\n[<a href=\"http://api.stackexchange.com/2.2/tags?order=desc&amp;sort=popular&amp;site=stackoverflow%5d\">http://api.stackexchange.com/2.2/tags?order=desc&amp;sort=popular&amp;site=stackoverflow]</a></p>\n\n<p>I am using the following code  to retrieve the response</p>\n\n<pre><code>import java.io.BufferedReader;\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.io.InputStreamReader;\nimport org.apache.http.HttpResponse;\nimport org.apache.http.client.methods.HttpGet;\nimport org.apache.http.impl.client.DefaultHttpClient;\n\n\npublic class RetrieveAllTag {\n\n    public static void main(String... args) {\n\n        DefaultHttpClient httpClient = new DefaultHttpClient();\n        HttpGet httpGet = new HttpGet(\"http://api.stackexchange.com/2.2/tags?order=desc&amp;sort=popular&amp;site=stackoverflow\");\n        HttpResponse response = null;\n\n        try {\n            response = httpClient.execute(httpGet);\n            InputStream content = response.getEntity().getContent();\n\n            BufferedReader reader = new BufferedReader(new InputStreamReader(content,\"UTF-8\"));\n            StringBuilder stringBuilder = new StringBuilder();\n            String inputLine;\n            while ((inputLine = reader.readLine()) != null) {\n                stringBuilder.append(inputLine);\n                stringBuilder.append(\"\\n\");\n            }\n            System.out.println(stringBuilder.toString());\n\n        }\n        catch (IOException e) {\n            e.printStackTrace();  //To change body of catch statement use File | Settings | File Templates.\n        }\n        finally {\n            httpClient.getConnectionManager().shutdown();\n        }\n    }\n}\n</code></pre>\n\n<p>But I am getting the response in decoded form as \nï¿½ï¿½ï¿½nï¿½ \u0010ï¿½ß…\\f]asï¿½ï¿½DÕŠï¿½Iï¿½ï¿½/ï¿½mï¿½(ï¿½ï¿½*Æ©ï¿½ï¿½ï¿½Kcï¿½ï¿½ï¿½</p>\n\n<p>I found the similar question [<a href=\"https://stackoverflow.com/questions/20808901/problems-with-decoding-stack-exchange-api-response%5d\">https://stackoverflow.com/questions/20808901/problems-with-decoding-stack-exchange-api-response]</a> , \nbut I didn't find any answers for the question.</p>\n\n<p>How to decode the api response?</p>\n\n<p>Thanks in advance.</p>\n"},{"tags":["java","hashmap","linkedhashmap"],"comments":[{"owner":{"account_id":1263831,"reputation":388998,"user_id":1221571,"accept_rate":67,"display_name":"Eran"},"score":0,"creation_date":1643109315,"post_id":70847632,"comment_id":125247210,"body_markdown":"`Since the Object I use as a Key is dynamically generated I have no knowledge about it` - if you have no knowledge about it, how do you know that it properly overrides `equals` and `hashCode`? If it doesn&#39;t, you shouldn&#39;t use it as a key in a `HashMap`.","body":"<code>Since the Object I use as a Key is dynamically generated I have no knowledge about it</code> - if you have no knowledge about it, how do you know that it properly overrides <code>equals</code> and <code>hashCode</code>? If it doesn&#39;t, you shouldn&#39;t use it as a key in a <code>HashMap</code>."},{"owner":{"account_id":24048304,"reputation":1,"user_id":18027079,"display_name":"oneandonlyk"},"score":0,"creation_date":1643110518,"post_id":70847632,"comment_id":125247632,"body_markdown":"@Eran For this specific part of the code I dont always have the knowledge about it, I do override equals and hashcode for a different part of my code.","body":"@Eran For this specific part of the code I dont always have the knowledge about it, I do override equals and hashcode for a different part of my code."},{"owner":{"account_id":1107482,"reputation":2870,"user_id":1098603,"accept_rate":94,"display_name":"Matthieu"},"score":0,"creation_date":1643113752,"post_id":70847632,"comment_id":125248722,"body_markdown":"Just to answer *why is that a problem?* Because `LinkedHashMap.get()` has O(n) complexity when other implementations have O(1) or O(log(n)).","body":"Just to answer <i>why is that a problem?</i> Because <code>LinkedHashMap.get()</code> has O(n) complexity when other implementations have O(1) or O(log(n))."}],"answers":[{"tags":[],"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1643112505,"creation_date":1643109681,"answer_id":70847757,"question_id":70847632,"body_markdown":"You don&#39;t need to use `get`: instead of converting the keys to an array, use `values()` instead. This works because `values()` iterates in the same order as the corresponding `keys()`:\r\n\r\n```\r\nString[] dataArr = (String[]) dataMap.values().toArray()[line];\r\n```\r\n\r\nBut you don&#39;t need to use `toArray()` either, which wastefully allocates an array containing all values, from which you only want one: you can just iterate through the values to get the thing you want:\r\n\r\n```\r\nstatic String[] nthItem(int n) {\r\n  int i = 0;\r\n  for (String[] value : dataMap.values()) {\r\n    if (i == n) return value;\r\n    ++i;\r\n  }\r\n  throw new ArrayIndexOutOfBoundsException();\r\n}\r\n```\r\n\r\nOr:\r\n\r\n```\r\nString[] dataArr = dataMap.values().stream().skip(line).findFirst().orElseThrow();\r\n```\r\n\r\n(Existing implementations of this sort of thing can be found in commonly-used libraries, e.g. [Guava&#39;s `Iterables.get`](https://guava.dev/releases/21.0/api/docs/com/google/common/collect/Iterables.html#get-java.lang.Iterable-int-))","title":"Suspicious call to &#39;LinkedHashMap.get&#39;","body":"<p>You don't need to use <code>get</code>: instead of converting the keys to an array, use <code>values()</code> instead. This works because <code>values()</code> iterates in the same order as the corresponding <code>keys()</code>:</p>\n<pre><code>String[] dataArr = (String[]) dataMap.values().toArray()[line];\n</code></pre>\n<p>But you don't need to use <code>toArray()</code> either, which wastefully allocates an array containing all values, from which you only want one: you can just iterate through the values to get the thing you want:</p>\n<pre><code>static String[] nthItem(int n) {\n  int i = 0;\n  for (String[] value : dataMap.values()) {\n    if (i == n) return value;\n    ++i;\n  }\n  throw new ArrayIndexOutOfBoundsException();\n}\n</code></pre>\n<p>Or:</p>\n<pre><code>String[] dataArr = dataMap.values().stream().skip(line).findFirst().orElseThrow();\n</code></pre>\n<p>(Existing implementations of this sort of thing can be found in commonly-used libraries, e.g. <a href=\"https://guava.dev/releases/21.0/api/docs/com/google/common/collect/Iterables.html#get-java.lang.Iterable-int-\" rel=\"nofollow noreferrer\">Guava's <code>Iterables.get</code></a>)</p>\n"}],"owner":{"account_id":24048304,"reputation":1,"user_id":18027079,"display_name":"oneandonlyk"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":580,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70847757,"answer_count":1,"score":0,"last_activity_date":1643112505,"creation_date":1643109091,"question_id":70847632,"body_markdown":"Hello I have the following code\r\n```java\r\npublic static LinkedHashMap&lt;Object, String[]&gt; dataMap = new LinkedHashMap&lt;&gt;();\r\n\r\npublic static void parseDataset(int line){\r\n  String[] dataArr = dataMap.get(dataMap.keySet().toArray()[line]);\r\n}\r\n```\r\nSince the Object I use as a Key is dynamically generated I have no knowledge about it so I have to find it before I can use it to get its value.\r\n\r\nThis code gives me the warning **Suspicious call to &#39;LinkedHashMap.get&#39;**, is that a problem and how would I get rid of the warning?","title":"Suspicious call to &#39;LinkedHashMap.get&#39;","body":"<p>Hello I have the following code</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static LinkedHashMap&lt;Object, String[]&gt; dataMap = new LinkedHashMap&lt;&gt;();\n\npublic static void parseDataset(int line){\n  String[] dataArr = dataMap.get(dataMap.keySet().toArray()[line]);\n}\n</code></pre>\n<p>Since the Object I use as a Key is dynamically generated I have no knowledge about it so I have to find it before I can use it to get its value.</p>\n<p>This code gives me the warning <strong>Suspicious call to 'LinkedHashMap.get'</strong>, is that a problem and how would I get rid of the warning?</p>\n"},{"tags":["java","scala","apache-spark"],"comments":[{"owner":{"account_id":1476224,"reputation":31485,"user_id":1386551,"accept_rate":74,"display_name":"blackbishop"},"score":0,"creation_date":1643105756,"post_id":70841895,"comment_id":125245798,"body_markdown":"Does this answer your question? [How to remove backslash from all columns in a Spark dataframe?](https://stackoverflow.com/questions/50714318/how-to-remove-backslash-from-all-columns-in-a-spark-dataframe)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/50714318/how-to-remove-backslash-from-all-columns-in-a-spark-dataframe\">How to remove backslash from all columns in a Spark dataframe?</a>"}],"answers":[{"tags":[],"owner":{"account_id":9967691,"reputation":21,"user_id":7374878,"display_name":"sympho410"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1643112423,"creation_date":1643112423,"answer_id":70848394,"question_id":70841895,"body_markdown":"You need to escape the &quot;\\\\&quot; character, so in your regexp_replace you should look for two backslash (&quot;\\\\\\\\&quot;) characters, not one. ","title":"How to remove extra Escape characters from a text column in spark dataframe","body":"<p>You need to escape the &quot;\\&quot; character, so in your regexp_replace you should look for two backslash (&quot;\\\\&quot;) characters, not one.</p>\n"}],"owner":{"account_id":18867887,"reputation":105,"user_id":13763219,"display_name":"Shiv"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1040,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1643112423,"creation_date":1643068580,"question_id":70841895,"body_markdown":"My Data in a json looks like - \r\n\r\n    {&quot;text&quot;: &quot;\\&quot;I have recently taken out a 12 month mobile phone contract with Virgin but despite two calls to customer help I still am getting a message on my phone indicating \\\\\\&quot;No Service\\\\\\&quot; although intermittently I do get connected.\\&quot;&quot;, &quot;created_at&quot;: &quot;\\&quot;2018-08-27 16:58:30\\&quot;&quot;, &quot;service_id&quot;: &quot;51870&quot;, &quot;category_id&quot;: &quot;249&quot;}\r\n\r\nI read this JSON Using - \r\n\r\n    val complaintsSourceRaw = spark.read.json(&quot;file:///complaints.jsonl&quot;)\r\n\r\nWhen i read the data in dataframe, it looks like \r\n\r\n    |249        |&quot;2018-08-27 16:58:30&quot;|51870     |&quot;I have recently taken out a 12 month mobile phone contract with Virgin but despite two calls to customer help I still am getting a message on my phone indicating **\\&quot;No Service\\&quot;** although intermittently I do get connected.&quot;  \r\n\r\nIssue is \r\n\r\n     **\\&quot;No Service\\&quot;**  need to be like  **&quot;No Service&quot;** \r\n                 \r\n\r\nHow i am trying - \r\n\r\n    complaintsSourceRaw.withColumn(&quot;text_cleaned&quot;, functions.regexp_replace(complaintsSourceRaw.col(&quot;text&quot;), &quot;\\&quot;, &quot;&quot;));\r\n\r\nHowever \\ character excapes my &quot; and code breaks. Any idea how to acieve this?","title":"How to remove extra Escape characters from a text column in spark dataframe","body":"<p>My Data in a json looks like -</p>\n<pre><code>{&quot;text&quot;: &quot;\\&quot;I have recently taken out a 12 month mobile phone contract with Virgin but despite two calls to customer help I still am getting a message on my phone indicating \\\\\\&quot;No Service\\\\\\&quot; although intermittently I do get connected.\\&quot;&quot;, &quot;created_at&quot;: &quot;\\&quot;2018-08-27 16:58:30\\&quot;&quot;, &quot;service_id&quot;: &quot;51870&quot;, &quot;category_id&quot;: &quot;249&quot;}\n</code></pre>\n<p>I read this JSON Using -</p>\n<pre><code>val complaintsSourceRaw = spark.read.json(&quot;file:///complaints.jsonl&quot;)\n</code></pre>\n<p>When i read the data in dataframe, it looks like</p>\n<pre><code>|249        |&quot;2018-08-27 16:58:30&quot;|51870     |&quot;I have recently taken out a 12 month mobile phone contract with Virgin but despite two calls to customer help I still am getting a message on my phone indicating **\\&quot;No Service\\&quot;** although intermittently I do get connected.&quot;  \n</code></pre>\n<p>Issue is</p>\n<pre><code> **\\&quot;No Service\\&quot;**  need to be like  **&quot;No Service&quot;** \n             \n</code></pre>\n<p>How i am trying -</p>\n<pre><code>complaintsSourceRaw.withColumn(&quot;text_cleaned&quot;, functions.regexp_replace(complaintsSourceRaw.col(&quot;text&quot;), &quot;\\&quot;, &quot;&quot;));\n</code></pre>\n<p>However \\ character excapes my &quot; and code breaks. Any idea how to acieve this?</p>\n"},{"tags":["java","spring-boot","jdbctemplate","hikaricp"],"comments":[{"owner":{"account_id":9504657,"reputation":7440,"user_id":7064617,"display_name":"JCompetence"},"score":0,"creation_date":1643113333,"post_id":70848378,"comment_id":125248575,"body_markdown":"I am not really sure if this is related to the connection pool, but rather you might have a bad internet connection that is cutting off intermittently and therefore the connection gets lost and unable to reconnect, and that is why you get those errors","body":"I am not really sure if this is related to the connection pool, but rather you might have a bad internet connection that is cutting off intermittently and therefore the connection gets lost and unable to reconnect, and that is why you get those errors"},{"owner":{"account_id":5189029,"reputation":216,"user_id":4314527,"display_name":"Ashish Kathait"},"score":0,"creation_date":1643114554,"post_id":70848378,"comment_id":125248987,"body_markdown":"Are you getting the error while trying to connect to DB via different threads ? Or is it when you are trying to run this program with a single Thread ? Trying bringing down your internet connection and then run your code with single thread. If you get the same error then probably it is because of internet connectivity as @SMA has highlighted.","body":"Are you getting the error while trying to connect to DB via different threads ? Or is it when you are trying to run this program with a single Thread ? Trying bringing down your internet connection and then run your code with single thread. If you get the same error then probably it is because of internet connectivity as @SMA has highlighted."},{"owner":{"account_id":6180465,"reputation":101,"user_id":4816131,"display_name":"Wafa Saba"},"score":0,"creation_date":1643115406,"post_id":70848378,"comment_id":125249262,"body_markdown":"@SMA and Ashish, the app is deployed in TEST server, running with multiple pods and yes it&#39;s a multithreaded app.","body":"@SMA and Ashish, the app is deployed in TEST server, running with multiple pods and yes it&#39;s a multithreaded app."},{"owner":{"account_id":9504657,"reputation":7440,"user_id":7064617,"display_name":"JCompetence"},"score":1,"creation_date":1643118921,"post_id":70848378,"comment_id":125250689,"body_markdown":"If this is an intermittent issue, (Meaning it happens sometimes), it is a network issue.  If it happens 100% of the time, it is still a network issue, but in this case its your cluster not having access to the Database server.","body":"If this is an intermittent issue, (Meaning it happens sometimes), it is a network issue.  If it happens 100% of the time, it is still a network issue, but in this case its your cluster not having access to the Database server."},{"owner":{"account_id":6180465,"reputation":101,"user_id":4816131,"display_name":"Wafa Saba"},"score":1,"creation_date":1643119624,"post_id":70848378,"comment_id":125250985,"body_markdown":"Thank you @SMA, I&#39;ll check on network.","body":"Thank you @SMA, I&#39;ll check on network."}],"owner":{"account_id":6180465,"reputation":101,"user_id":4816131,"display_name":"Wafa Saba"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":531,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1643112356,"creation_date":1643112356,"question_id":70848378,"body_markdown":"My app is Springboot built in Java connecting to SQLServer 2019 using JDBCTemplate and it&#39;s deployed in tomcat server. \r\n\r\nIntermittently, I am getting below error\r\n\r\n*Message failed processing :Failed to obtain JDBC Connection; nested exception is com.microsoft.sqlserver.jdbc.SQLServerException: The TCP/IP connection to the host XYZ, port xxxxx has failed. Error: &quot;Connection refused (Connection refused). Verify the connection properties. Make sure that an instance of SQL Server is running on the host and accepting TCP/IP connections at the port. Make sure that TCP connections to the port are not blocked by a firewall.&quot;.*\r\n\r\nI tried increasing connection pool but only error % is decreasing. \r\n\r\nConfiguration class looks like below:\r\n```\r\n    @Bean\r\n\tpublic DataSource dataSource() {\r\n\t\tvar dS = new DriverManagerDataSource();\r\n\t\tdS.setDriverClassName(&quot;com.microsoft.sqlserver.jdbc.SQLServerDriver&quot;);\r\n\t\tdS.setUrl(dbUrl);\r\n\t\tdS.setUsername(dbUserName);\r\n\t\tdS.setPassword(dbPassword);\r\n\r\n\t\treturn dS;\r\n\t}\r\n    @Bean\r\n\tpublic NamedParameterJdbcTemplate namedParameterJdbcTemplate() {\r\n\t\treturn new NamedParameterJdbcTemplate(dataSource());\r\n\t}\r\n\r\n    @Bean\r\n\tpublic JdbcTemplate jdbcTemplate() {\r\n\t\treturn new JdbcTemplate(dataSource());\r\n\t}\r\n\r\n    @Bean(&quot;insertStoredProcedureCall&quot;)\r\n\tpublic SimpleJdbcCall insertStoredProcedureCall() {\r\n\r\n\t\treturn new SimpleJdbcCall(jdbcTemplate()).withSchemaName(&quot;x&quot;).withProcedureName(&quot;Add&quot;)\r\n\t\t\t\t.withoutProcedureColumnMetaDataAccess()\r\n\t\t\t\t.declareParameters(new SqlParameter(&quot;ID&quot;, Types.INTEGER),\r\n\t\t\t\t\t\tnew SqlParameter(&quot;Name&quot;, Types.NVARCHAR));\r\n\r\n\t}\r\n```\r\n\r\nI have set hikari connection in property file\r\n```\r\nspring.jpa.database-platform=org.hibernate.dialect.MySQLDialect\r\nspring.datasource.initialization-mode=always\r\nspring.datasource.hikari.max-lifetime=20000 \r\nspring.datasource.hikari.auto-commit=true \r\nspring.datasource.hikari.minimum-idle=5\r\nspring.datasource.hikari.maximum-pool-size=50\r\nspring.datasource.hikari.idle-timeout=30000\r\nspring.datasource.hikari.connection-timeout=30000\r\nspring.datasource.hikari.pool-name=TestHikari\r\n```\r\n\r\nDAO class looks like below\r\n```\r\nreturn namedParameterJdbcTemplate.queryForObject(sqlQuery, parameters,\r\nnew BeanPropertyRowMapper&lt;TestEntity&gt;(TestEntity.class));\r\n```\r\n\r\nPlease let me know if am missing anything or I need to increase connection pool more?","title":"Java SpringBoot - JDBCTemplate - Intermittent - TCP/IP Connection Error","body":"<p>My app is Springboot built in Java connecting to SQLServer 2019 using JDBCTemplate and it's deployed in tomcat server.</p>\n<p>Intermittently, I am getting below error</p>\n<p><em>Message failed processing :Failed to obtain JDBC Connection; nested exception is com.microsoft.sqlserver.jdbc.SQLServerException: The TCP/IP connection to the host XYZ, port xxxxx has failed. Error: &quot;Connection refused (Connection refused). Verify the connection properties. Make sure that an instance of SQL Server is running on the host and accepting TCP/IP connections at the port. Make sure that TCP connections to the port are not blocked by a firewall.&quot;.</em></p>\n<p>I tried increasing connection pool but only error % is decreasing.</p>\n<p>Configuration class looks like below:</p>\n<pre><code>    @Bean\n    public DataSource dataSource() {\n        var dS = new DriverManagerDataSource();\n        dS.setDriverClassName(&quot;com.microsoft.sqlserver.jdbc.SQLServerDriver&quot;);\n        dS.setUrl(dbUrl);\n        dS.setUsername(dbUserName);\n        dS.setPassword(dbPassword);\n\n        return dS;\n    }\n    @Bean\n    public NamedParameterJdbcTemplate namedParameterJdbcTemplate() {\n        return new NamedParameterJdbcTemplate(dataSource());\n    }\n\n    @Bean\n    public JdbcTemplate jdbcTemplate() {\n        return new JdbcTemplate(dataSource());\n    }\n\n    @Bean(&quot;insertStoredProcedureCall&quot;)\n    public SimpleJdbcCall insertStoredProcedureCall() {\n\n        return new SimpleJdbcCall(jdbcTemplate()).withSchemaName(&quot;x&quot;).withProcedureName(&quot;Add&quot;)\n                .withoutProcedureColumnMetaDataAccess()\n                .declareParameters(new SqlParameter(&quot;ID&quot;, Types.INTEGER),\n                        new SqlParameter(&quot;Name&quot;, Types.NVARCHAR));\n\n    }\n</code></pre>\n<p>I have set hikari connection in property file</p>\n<pre><code>spring.jpa.database-platform=org.hibernate.dialect.MySQLDialect\nspring.datasource.initialization-mode=always\nspring.datasource.hikari.max-lifetime=20000 \nspring.datasource.hikari.auto-commit=true \nspring.datasource.hikari.minimum-idle=5\nspring.datasource.hikari.maximum-pool-size=50\nspring.datasource.hikari.idle-timeout=30000\nspring.datasource.hikari.connection-timeout=30000\nspring.datasource.hikari.pool-name=TestHikari\n</code></pre>\n<p>DAO class looks like below</p>\n<pre><code>return namedParameterJdbcTemplate.queryForObject(sqlQuery, parameters,\nnew BeanPropertyRowMapper&lt;TestEntity&gt;(TestEntity.class));\n</code></pre>\n<p>Please let me know if am missing anything or I need to increase connection pool more?</p>\n"},{"tags":["java","mysql","spring","redis","jedis"],"answers":[{"tags":[],"owner":{"account_id":4829511,"reputation":5855,"user_id":4021802,"display_name":"sazzad"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1643093935,"creation_date":1643093935,"answer_id":70844535,"question_id":70840304,"body_markdown":"Maybe using `try` block?\r\n\r\n```\r\ntry {\r\n    // your Redis operations\r\n} catch (JedisConnectionException jce) {\r\n    return null;\r\n}\r\n```","title":"Can Make Redis server return NULL or False instead of JedisConnectionException?","body":"<p>Maybe using <code>try</code> block?</p>\n<pre><code>try {\n    // your Redis operations\n} catch (JedisConnectionException jce) {\n    return null;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4382488,"reputation":343,"user_id":6666688,"display_name":"java dev"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1643111135,"creation_date":1643111135,"answer_id":70848086,"question_id":70840304,"body_markdown":"```\r\nprivate static boolean isConnected() {\r\n\t\ttry {\r\n\t\t\t// get any fake key to test connection  \r\n            ApplicationContextConfig.getBean(HashOperations.class).get(&quot;TEST&quot;, 1); \r\n\t\t\treturn true;\r\n\t\t} catch (Exception ex) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t}\r\n```\r\nNote that Exception may by \r\n```RedisConnectionFailureException``` or\r\n```JedisConnectionException```\r\nSo I made it ```Exception```.   \r\nThis method is called before any Redis operations to test connectivity first.","title":"Can Make Redis server return NULL or False instead of JedisConnectionException?","body":"<pre><code>private static boolean isConnected() {\n        try {\n            // get any fake key to test connection  \n            ApplicationContextConfig.getBean(HashOperations.class).get(&quot;TEST&quot;, 1); \n            return true;\n        } catch (Exception ex) {\n            return false;\n        }\n    }\n</code></pre>\n<p>Note that Exception may by\n<code>RedisConnectionFailureException</code> or\n<code>JedisConnectionException</code>\nSo I made it <code>Exception</code>.<br />\nThis method is called before any Redis operations to test connectivity first.</p>\n"}],"owner":{"account_id":4382488,"reputation":343,"user_id":6666688,"display_name":"java dev"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":854,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70844535,"answer_count":2,"score":1,"last_activity_date":1643111778,"creation_date":1643057318,"question_id":70840304,"body_markdown":"We are developing an application that uses the Redis server as a cache server.   \r\nSo what We do are when a client request API it first go to Redis to get data if there is no data it returns null so the second step go to the MYSQL database to get data,\r\nBut the problem when we lose the Redis connection it returns JedisConnectionException.\r\nCan we handle this exception in configuration to return null instead of exception if there is no connection?\r\n\r\n```\r\n    @Bean\r\n\tJedisConnectionFactory jedisConnectionFactory() {\r\n\t\treturn new JedisConnectionFactory();\r\n\t}\r\n\r\n\t@Bean\r\n\tRedisTemplate&lt;String, Object&gt; redisTemplate() {\r\n\t\tRedisTemplate&lt;String, Object&gt; template = new RedisTemplate&lt;&gt;();\r\n\t\ttemplate.setConnectionFactory(jedisConnectionFactory());\r\n\t\treturn template;\r\n\t}\r\n\r\n\t@Bean\r\n\tHashOperations hashOperations() {\r\n\t\treturn redisTemplate().opsForHash();\r\n\t}\r\n```\r\n\r\n```\r\n    @Autowired\r\n\tprivate RedisTemplate&lt;String,Object&gt; redisTemplate;\r\n\t@Autowired\r\n\tprivate HashOperations hashOperations;\r\n\r\n\r\n\tpublic void save(User user) {\r\n\t\thashOperations.put(&quot;USER&quot;,user.getId(),user);\r\n\t}\r\n\r\n\tpublic List&lt;User&gt; getAll() {\r\n\t\tCollection users = hashOperations.entries(&quot;USER&quot;).values();\r\n\t\tif(CollectionUtils.isEmpty(users)){\r\n\t\t\t// get data from data base\r\n\t\t}\r\n\t\treturn (List&lt;User&gt;) users;\r\n\t}\r\n```\r\n","title":"Can Make Redis server return NULL or False instead of JedisConnectionException?","body":"<p>We are developing an application that uses the Redis server as a cache server.<br />\nSo what We do are when a client request API it first go to Redis to get data if there is no data it returns null so the second step go to the MYSQL database to get data,\nBut the problem when we lose the Redis connection it returns JedisConnectionException.\nCan we handle this exception in configuration to return null instead of exception if there is no connection?</p>\n<pre><code>    @Bean\n    JedisConnectionFactory jedisConnectionFactory() {\n        return new JedisConnectionFactory();\n    }\n\n    @Bean\n    RedisTemplate&lt;String, Object&gt; redisTemplate() {\n        RedisTemplate&lt;String, Object&gt; template = new RedisTemplate&lt;&gt;();\n        template.setConnectionFactory(jedisConnectionFactory());\n        return template;\n    }\n\n    @Bean\n    HashOperations hashOperations() {\n        return redisTemplate().opsForHash();\n    }\n</code></pre>\n<pre><code>    @Autowired\n    private RedisTemplate&lt;String,Object&gt; redisTemplate;\n    @Autowired\n    private HashOperations hashOperations;\n\n\n    public void save(User user) {\n        hashOperations.put(&quot;USER&quot;,user.getId(),user);\n    }\n\n    public List&lt;User&gt; getAll() {\n        Collection users = hashOperations.entries(&quot;USER&quot;).values();\n        if(CollectionUtils.isEmpty(users)){\n            // get data from data base\n        }\n        return (List&lt;User&gt;) users;\n    }\n</code></pre>\n"},{"tags":["java","image-processing","thumbnails","scalr"],"comments":[{"owner":{"account_id":288696,"reputation":91230,"user_id":589259,"accept_rate":82,"display_name":"Maarten Bodewes"},"score":0,"creation_date":1374415232,"post_id":17773072,"comment_id":25921803,"body_markdown":"Questions and answers should not rely on (external) links only, please describe the example at a minimum. Furtheemore, the only correct answers are &quot;Yes&quot; and &quot;No&quot; unless you are asking for a code example - which you shouldn&#39;t.","body":"Questions and answers should not rely on (external) links only, please describe the example at a minimum. Furtheemore, the only correct answers are &quot;Yes&quot; and &quot;No&quot; unless you are asking for a code example - which you shouldn&#39;t."},{"owner":{"account_id":362593,"reputation":6319,"user_id":705869,"accept_rate":77,"display_name":"nKognito"},"score":0,"creation_date":1374415415,"post_id":17773072,"comment_id":25921842,"body_markdown":"@owlstead Sorry, updated.","body":"@owlstead Sorry, updated."}],"answers":[{"tags":[],"owner":{"account_id":362593,"reputation":6319,"user_id":705869,"accept_rate":77,"display_name":"nKognito"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1374664167,"creation_date":1374664167,"answer_id":17832249,"question_id":17773072,"body_markdown":"Nobody has idea so I will publish my solution...\r\nI decided to continue to use Scalr (I didn&#39;t checked the Thumbnailator&#39;s last version but the previous ones failed on big pictures).\r\nSo first of all I call `resize` method, and then, if sizes of the new thumbnail are bigger then given ones I call `crop` method that crops a thumbnail by the center.. The code is the following:\r\n\r\n    BufferedImage thumbnail = Scalr.resize(sourceFile, Scalr.Method.ULTRA_QUALITY, Scalr.Mode.AUTOMATIC, destinationSize.width, destinationSize.height);\r\n    if (thumbnail.getWidth() &gt; destinationSize.width)\r\n        thumbnail = Scalr.crop(thumbnail, (thumbnail.getWidth() - destinationSize.width) / 2, 0, destinationSize.width, destinationSize.height);\r\n    else if (thumbnail.getHeight() &gt; destinationSize.height) \r\n        thumbnail = Scalr.crop(thumbnail, 0, (thumbnail.getHeight() - destinationSize.height) / 2, destinationSize.width, destinationSize.height);\r\n\r\nIt is not ideal, but at least it handles &#39;wide&#39; images after generation of thumbnails","title":"Generate thumbnail and fill empty space with color","body":"<p>Nobody has idea so I will publish my solution...\nI decided to continue to use Scalr (I didn't checked the Thumbnailator's last version but the previous ones failed on big pictures).\nSo first of all I call <code>resize</code> method, and then, if sizes of the new thumbnail are bigger then given ones I call <code>crop</code> method that crops a thumbnail by the center.. The code is the following:</p>\n\n<pre><code>BufferedImage thumbnail = Scalr.resize(sourceFile, Scalr.Method.ULTRA_QUALITY, Scalr.Mode.AUTOMATIC, destinationSize.width, destinationSize.height);\nif (thumbnail.getWidth() &gt; destinationSize.width)\n    thumbnail = Scalr.crop(thumbnail, (thumbnail.getWidth() - destinationSize.width) / 2, 0, destinationSize.width, destinationSize.height);\nelse if (thumbnail.getHeight() &gt; destinationSize.height) \n    thumbnail = Scalr.crop(thumbnail, 0, (thumbnail.getHeight() - destinationSize.height) / 2, destinationSize.width, destinationSize.height);\n</code></pre>\n\n<p>It is not ideal, but at least it handles 'wide' images after generation of thumbnails</p>\n"},{"tags":[],"owner":{"account_id":13352471,"reputation":23,"user_id":9637261,"display_name":"Fabrizio Mazzone"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1643111710,"creation_date":1526303225,"answer_id":50331094,"question_id":17773072,"body_markdown":"Just done! Perhaps it can help you!    \t\r\n\r\n\tpublic static BufferedImage resizeAndCrop(BufferedImage bufferedImage) throws IOException {\r\n\r\n\t\t\tint himg = bufferedImage.getHeight();\r\n\t\t    int wimg = bufferedImage.getWidth();\r\n\r\n\t\t    double rateh = himg/dim;\r\n\t\t    double ratew = wimg/dim;\r\n\t\t    double rate = ratew;\r\n\t\t    if(rateh&gt;ratew)\r\n\t\t    rate = rateh;\r\n\t\t    \r\n\t\t    int dimhimg = (int) (himg/rate);\r\n\t\t    int dimwimg = (int) (wimg/rate);\r\n\t\t    \r\n\t\t    double startw = dim/2 - dimwimg/2;\r\n\t\t    double starth = dim/2 - dimhimg/2;\r\n\t\t    \r\n\t\t\tBufferedImage tThumbImage = new BufferedImage( dim, dim, BufferedImage.TYPE_INT_RGB );\r\n\t\t\tGraphics2D tGraphics2D = tThumbImage.createGraphics(); //create a graphics object to paint to\r\n\t\t\ttGraphics2D.setBackground( Color.WHITE );\r\n\t\t\ttGraphics2D.setPaint( Color.WHITE );\r\n\t\t\ttGraphics2D.fillRect( 0, 0, dim, dim );\r\n\t\t\ttGraphics2D.setRenderingHint( RenderingHints.KEY_INTERPOLATION, RenderingHints.VALUE_INTERPOLATION_BILINEAR);\r\n\t\t\ttGraphics2D.setRenderingHint(RenderingHints.KEY_ANTIALIASING,  RenderingHints.VALUE_ANTIALIAS_ON);\r\n\t\t\ttGraphics2D.setRenderingHint(RenderingHints.KEY_COLOR_RENDERING,  RenderingHints.VALUE_COLOR_RENDER_QUALITY); \r\n\t\t\ttGraphics2D.drawImage( bufferedImage, (int)startw, (int)starth, dimwimg, dimhimg, null ); //draw the image scaled\r\n\r\n\t\t\tFile ff = new File(path + &quot;jdata/tmp/prova.jpg&quot;);\r\n\t\t\tImageIO.write( tThumbImage, &quot;JPG&quot;, ff); //write the image to a file\r\n\t\t\tBufferedImage croppedContainMethod = ImageIO.read(ff);\r\n\t\t\treturn croppedContainMethod; \r\n    }\r\n\r\n\r\n\r\n","title":"Generate thumbnail and fill empty space with color","body":"<p>Just done! Perhaps it can help you!</p>\n<pre><code>public static BufferedImage resizeAndCrop(BufferedImage bufferedImage) throws IOException {\n\n        int himg = bufferedImage.getHeight();\n        int wimg = bufferedImage.getWidth();\n\n        double rateh = himg/dim;\n        double ratew = wimg/dim;\n        double rate = ratew;\n        if(rateh&gt;ratew)\n        rate = rateh;\n        \n        int dimhimg = (int) (himg/rate);\n        int dimwimg = (int) (wimg/rate);\n        \n        double startw = dim/2 - dimwimg/2;\n        double starth = dim/2 - dimhimg/2;\n        \n        BufferedImage tThumbImage = new BufferedImage( dim, dim, BufferedImage.TYPE_INT_RGB );\n        Graphics2D tGraphics2D = tThumbImage.createGraphics(); //create a graphics object to paint to\n        tGraphics2D.setBackground( Color.WHITE );\n        tGraphics2D.setPaint( Color.WHITE );\n        tGraphics2D.fillRect( 0, 0, dim, dim );\n        tGraphics2D.setRenderingHint( RenderingHints.KEY_INTERPOLATION, RenderingHints.VALUE_INTERPOLATION_BILINEAR);\n        tGraphics2D.setRenderingHint(RenderingHints.KEY_ANTIALIASING,  RenderingHints.VALUE_ANTIALIAS_ON);\n        tGraphics2D.setRenderingHint(RenderingHints.KEY_COLOR_RENDERING,  RenderingHints.VALUE_COLOR_RENDER_QUALITY); \n        tGraphics2D.drawImage( bufferedImage, (int)startw, (int)starth, dimwimg, dimhimg, null ); //draw the image scaled\n\n        File ff = new File(path + &quot;jdata/tmp/prova.jpg&quot;);\n        ImageIO.write( tThumbImage, &quot;JPG&quot;, ff); //write the image to a file\n        BufferedImage croppedContainMethod = ImageIO.read(ff);\n        return croppedContainMethod; \n}\n</code></pre>\n"}],"owner":{"account_id":362593,"reputation":6319,"user_id":705869,"accept_rate":77,"display_name":"nKognito"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1293,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1643111710,"creation_date":1374414949,"question_id":17773072,"body_markdown":"Is it possible to implement the [first example][1] with Scalr?\r\n\r\nMy code is the following:\r\n\r\n    BufferedImage thumbnail = Scalr.resize(ImageIO.read(sourceFile), Scalr.Method.ULTRA_QUALITY, Scalr.Mode.FIT_TO_WIDTH,\r\n    \t\t\t\twidth, height, Scalr.OP_ANTIALIAS);\r\n    ImageIO.write(thumbnail, destinationfile.getExtension(), destinationfile);\r\n\r\nWhat I want is to receive the image like this: \r\n![enter image description here][2] where the blue bars are the space I want to fill with the color.\r\n\r\nThank you\r\n\r\nUpdate: maybe it is possible to implement with [Thumbnailator][3]?\r\n\r\n\r\n  [1]: http://www.imagemagick.org/Usage/resize/#space_fill\r\n  [2]: http://i.stack.imgur.com/URk2o.jpg\r\n  [3]: https://code.google.com/p/thumbnailator/","title":"Generate thumbnail and fill empty space with color","body":"<p>Is it possible to implement the <a href=\"http://www.imagemagick.org/Usage/resize/#space_fill\" rel=\"nofollow noreferrer\">first example</a> with Scalr?</p>\n\n<p>My code is the following:</p>\n\n<pre><code>BufferedImage thumbnail = Scalr.resize(ImageIO.read(sourceFile), Scalr.Method.ULTRA_QUALITY, Scalr.Mode.FIT_TO_WIDTH,\n                width, height, Scalr.OP_ANTIALIAS);\nImageIO.write(thumbnail, destinationfile.getExtension(), destinationfile);\n</code></pre>\n\n<p>What I want is to receive the image like this: \n<img src=\"https://i.stack.imgur.com/URk2o.jpg\" alt=\"enter image description here\"> where the blue bars are the space I want to fill with the color.</p>\n\n<p>Thank you</p>\n\n<p>Update: maybe it is possible to implement with <a href=\"https://code.google.com/p/thumbnailator/\" rel=\"nofollow noreferrer\">Thumbnailator</a>?</p>\n"},{"tags":["java","cdi","quarkus"],"answers":[{"tags":[],"owner":{"account_id":385127,"reputation":6284,"user_id":742081,"display_name":"Ladicek"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1643111421,"creation_date":1643111421,"answer_id":70848155,"question_id":70847603,"body_markdown":"I&#39;m not like _entirely_ sure, but I believe you need to remove the `@Inject` annotation from the `produceB` method. Parameters of producer methods are automatically injection points, so from that perspective, the `@Inject` annotation is not necessary.\r\n\r\nWhat&#39;s worse, the `@Inject` annotation actually does something else than designate the parameters as injection points. It makes the method an _initializer method_ (this is sometimes also known as _setter injection_). This means that to fully construct an instance of `Configuration`, the CDI container has to call the `produceB` method and pass it an instance of `ClassA` (parameters of initializer methods are also injection points). But to be able to obtain an instance of `ClassA`, the container needs a fully constructed instance of `Configuration`. That&#39;s a cycle that, I believe, leads to the stack overflow you observe.\r\n\r\nTechnically, the specification forbids an initializer method to be annotated `@Produces`, so this should lead to an error during build. I guess ArC (the CDI implementation in Quarkus) doesn&#39;t check this properly, which is a bug.","title":"Stackoverflow during Beans injection in Quarkus","body":"<p>I'm not like <em>entirely</em> sure, but I believe you need to remove the <code>@Inject</code> annotation from the <code>produceB</code> method. Parameters of producer methods are automatically injection points, so from that perspective, the <code>@Inject</code> annotation is not necessary.</p>\n<p>What's worse, the <code>@Inject</code> annotation actually does something else than designate the parameters as injection points. It makes the method an <em>initializer method</em> (this is sometimes also known as <em>setter injection</em>). This means that to fully construct an instance of <code>Configuration</code>, the CDI container has to call the <code>produceB</code> method and pass it an instance of <code>ClassA</code> (parameters of initializer methods are also injection points). But to be able to obtain an instance of <code>ClassA</code>, the container needs a fully constructed instance of <code>Configuration</code>. That's a cycle that, I believe, leads to the stack overflow you observe.</p>\n<p>Technically, the specification forbids an initializer method to be annotated <code>@Produces</code>, so this should lead to an error during build. I guess ArC (the CDI implementation in Quarkus) doesn't check this properly, which is a bug.</p>\n"}],"owner":{"account_id":24048268,"reputation":1,"user_id":18027047,"display_name":"istratenko"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":457,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1643111421,"creation_date":1643108955,"question_id":70847603,"body_markdown":"I am trying to inject two calsses ClassA and ClassB at quarkus&#39;s startup event. \r\n\r\n    public void init(@Observes StartupEvent startupEvent, ClassA a, ClassB b) throws Exception {\r\n          \r\n        }\r\n\r\nClasses:\r\n\r\n    public class ClassA {\r\n        public ClassA() {\r\n    \r\n        }\r\n    }\r\n\r\n    public class ClassB {\r\n        private final ClassA dependentClass;\r\n        public ClassB(ClassA dependentClass) {\r\n            this.dependentClass = dependentClass;\r\n        }\r\n    }\r\n\r\nProducers for these two classes are presented below:\r\n\r\n    @ApplicationScoped\r\n    public class Configuration {\r\n    \r\n        @Produces\r\n        @Singleton\r\n        public ClassA produceA() {\r\n            return new ClassA();\r\n        }\r\n    \r\n        @Inject\r\n        @Produces\r\n        @Singleton\r\n        public ClassB produceB(ClassA dependentClass) {\r\n            return new ClassB(dependentClass);\r\n        }\r\n    }\r\n\r\n\r\n\r\nAs a result, I am getting stackoverflow error:\r\n\r\n    Caused by: java.lang.StackOverflowError\r\n            at io.quarkus.arc.runtime.devconsole.InvocationInterceptor_Bean.create(Unknown Source)\r\n            at io.quarkus.arc.runtime.devconsole.InvocationInterceptor_Bean.get(Unknown Source)\r\n            at io.quarkus.arc.runtime.devconsole.InvocationInterceptor_Bean.get(Unknown Source)\r\n            at org.acme.getting.started.Configuration_Subclass.&lt;init&gt;(Unknown Source)\r\n            at org.acme.getting.started.Configuration_Bean.create(Unknown Source)\r\n            at org.acme.getting.started.Configuration_Bean.create(Unknown Source)\r\n            at io.quarkus.arc.impl.AbstractSharedContext.createInstanceHandle(AbstractSharedContext.java:96)\r\n            at io.quarkus.arc.impl.AbstractSharedContext$1.get(AbstractSharedContext.java:29)\r\n            at io.quarkus.arc.impl.AbstractSharedContext$1.get(AbstractSharedContext.java:26)\r\n            at io.quarkus.arc.impl.LazyValue.get(LazyValue.java:26)\r\n            at io.quarkus.arc.impl.ComputingCache.computeIfAbsent(ComputingCache.java:69)\r\n            at io.quarkus.arc.impl.AbstractSharedContext.get(AbstractSharedContext.java:26)\r\n            at io.quarkus.arc.impl.ClientProxies.getApplicationScopedDelegate(ClientProxies.java:18)\r\n            at org.acme.getting.started.Configuration_ClientProxy.arc$delegate(Unknown Source)\r\n            at org.acme.getting.started.Configuration_ClientProxy.arc_contextualInstance(Unknown Source)\r\n            at org.acme.getting.started.Configuration_ProducerMethod_produceA_612e78438d1b1b670691525f250ee747f2210b1e_Bean.create(Unknown Source)\r\n            at org.acme.getting.started.Configuration_ProducerMethod_produceA_612e78438d1b1b670691525f250ee747f2210b1e_Bean.create(Unknown Source)\r\n            at io.quarkus.arc.impl.AbstractSharedContext.createInstanceHandle(AbstractSharedContext.java:96)\r\n            at io.quarkus.arc.impl.AbstractSharedContext$1.get(AbstractSharedContext.java:29)\r\n            at io.quarkus.arc.impl.AbstractSharedContext$1.get(AbstractSharedContext.java:26)\r\n            at io.quarkus.arc.impl.LazyValue.get(LazyValue.java:26)\r\n            at io.quarkus.arc.impl.ComputingCache.computeIfAbsent(ComputingCache.java:69)\r\n            at io.quarkus.arc.impl.AbstractSharedContext.get(AbstractSharedContext.java:26)\r\n            at org.acme.getting.started.Configuration_ProducerMethod_produceA_612e78438d1b1b670691525f250ee747f2210b1e_Bean.get(Unknown Source)\r\n            at org.acme.getting.started.Configuration_ProducerMethod_produceA_612e78438d1b1b670691525f250ee747f2210b1e_Bean.get(Unknown Source)\r\n            at org.acme.getting.started.Configuration_Bean.create(Unknown Source)\r\n            at org.acme.getting.started.Configuration_Bean.create(Unknown Source)\r\n            at io.quarkus.arc.impl.AbstractSharedContext.createInstanceHandle(AbstractSharedContext.java:96)\r\n            at io.quarkus.arc.impl.AbstractSharedContext$1.get(AbstractSharedContext.java:29)\r\n            at io.quarkus.arc.impl.AbstractSharedContext$1.get(AbstractSharedContext.java:26)\r\n            at io.quarkus.arc.impl.LazyValue.get(LazyValue.java:26)\r\n            at io.quarkus.arc.impl.ComputingCache.computeIfAbsent(ComputingCache.java:69)\r\n            at io.quarkus.arc.impl.AbstractSharedContext.get(AbstractSharedContext.java:26)\r\n            at io.quarkus.arc.impl.ClientProxies.getApplicationScopedDelegate(ClientProxies.java:18)\r\n            at org.acme.getting.started.Configuration_ClientProxy.arc$delegate(Unknown Source)\r\n            at org.acme.getting.started.Configuration_ClientProxy.arc_contextualInstance(Unknown Source)\r\n            at org.acme.getting.started.Configuration_ProducerMethod_produceA_612e78438d1b1b670691525f250ee747f2210b1e_Bean.create(Unknown Source)\r\n            at org.acme.getting.started.Configuration_ProducerMethod_produceA_612e78438d1b1b670691525f250ee747f2210b1e_Bean.create(Unknown Source)\r\n\r\n\r\nPlease, advise me does quarkus support such producers? If is doesn&#39;t, what is the solution for produce two dependent classes in one Configuration class? \r\nMy purpose is to place all Singleton producers in one place, but Singleton scope is not applicable for main config file due to \r\nhttps://github.com/quarkusio/quarkus/issues/3241","title":"Stackoverflow during Beans injection in Quarkus","body":"<p>I am trying to inject two calsses ClassA and ClassB at quarkus's startup event.</p>\n<pre><code>public void init(@Observes StartupEvent startupEvent, ClassA a, ClassB b) throws Exception {\n      \n    }\n</code></pre>\n<p>Classes:</p>\n<pre><code>public class ClassA {\n    public ClassA() {\n\n    }\n}\n\npublic class ClassB {\n    private final ClassA dependentClass;\n    public ClassB(ClassA dependentClass) {\n        this.dependentClass = dependentClass;\n    }\n}\n</code></pre>\n<p>Producers for these two classes are presented below:</p>\n<pre><code>@ApplicationScoped\npublic class Configuration {\n\n    @Produces\n    @Singleton\n    public ClassA produceA() {\n        return new ClassA();\n    }\n\n    @Inject\n    @Produces\n    @Singleton\n    public ClassB produceB(ClassA dependentClass) {\n        return new ClassB(dependentClass);\n    }\n}\n</code></pre>\n<p>As a result, I am getting stackoverflow error:</p>\n<pre><code>Caused by: java.lang.StackOverflowError\n        at io.quarkus.arc.runtime.devconsole.InvocationInterceptor_Bean.create(Unknown Source)\n        at io.quarkus.arc.runtime.devconsole.InvocationInterceptor_Bean.get(Unknown Source)\n        at io.quarkus.arc.runtime.devconsole.InvocationInterceptor_Bean.get(Unknown Source)\n        at org.acme.getting.started.Configuration_Subclass.&lt;init&gt;(Unknown Source)\n        at org.acme.getting.started.Configuration_Bean.create(Unknown Source)\n        at org.acme.getting.started.Configuration_Bean.create(Unknown Source)\n        at io.quarkus.arc.impl.AbstractSharedContext.createInstanceHandle(AbstractSharedContext.java:96)\n        at io.quarkus.arc.impl.AbstractSharedContext$1.get(AbstractSharedContext.java:29)\n        at io.quarkus.arc.impl.AbstractSharedContext$1.get(AbstractSharedContext.java:26)\n        at io.quarkus.arc.impl.LazyValue.get(LazyValue.java:26)\n        at io.quarkus.arc.impl.ComputingCache.computeIfAbsent(ComputingCache.java:69)\n        at io.quarkus.arc.impl.AbstractSharedContext.get(AbstractSharedContext.java:26)\n        at io.quarkus.arc.impl.ClientProxies.getApplicationScopedDelegate(ClientProxies.java:18)\n        at org.acme.getting.started.Configuration_ClientProxy.arc$delegate(Unknown Source)\n        at org.acme.getting.started.Configuration_ClientProxy.arc_contextualInstance(Unknown Source)\n        at org.acme.getting.started.Configuration_ProducerMethod_produceA_612e78438d1b1b670691525f250ee747f2210b1e_Bean.create(Unknown Source)\n        at org.acme.getting.started.Configuration_ProducerMethod_produceA_612e78438d1b1b670691525f250ee747f2210b1e_Bean.create(Unknown Source)\n        at io.quarkus.arc.impl.AbstractSharedContext.createInstanceHandle(AbstractSharedContext.java:96)\n        at io.quarkus.arc.impl.AbstractSharedContext$1.get(AbstractSharedContext.java:29)\n        at io.quarkus.arc.impl.AbstractSharedContext$1.get(AbstractSharedContext.java:26)\n        at io.quarkus.arc.impl.LazyValue.get(LazyValue.java:26)\n        at io.quarkus.arc.impl.ComputingCache.computeIfAbsent(ComputingCache.java:69)\n        at io.quarkus.arc.impl.AbstractSharedContext.get(AbstractSharedContext.java:26)\n        at org.acme.getting.started.Configuration_ProducerMethod_produceA_612e78438d1b1b670691525f250ee747f2210b1e_Bean.get(Unknown Source)\n        at org.acme.getting.started.Configuration_ProducerMethod_produceA_612e78438d1b1b670691525f250ee747f2210b1e_Bean.get(Unknown Source)\n        at org.acme.getting.started.Configuration_Bean.create(Unknown Source)\n        at org.acme.getting.started.Configuration_Bean.create(Unknown Source)\n        at io.quarkus.arc.impl.AbstractSharedContext.createInstanceHandle(AbstractSharedContext.java:96)\n        at io.quarkus.arc.impl.AbstractSharedContext$1.get(AbstractSharedContext.java:29)\n        at io.quarkus.arc.impl.AbstractSharedContext$1.get(AbstractSharedContext.java:26)\n        at io.quarkus.arc.impl.LazyValue.get(LazyValue.java:26)\n        at io.quarkus.arc.impl.ComputingCache.computeIfAbsent(ComputingCache.java:69)\n        at io.quarkus.arc.impl.AbstractSharedContext.get(AbstractSharedContext.java:26)\n        at io.quarkus.arc.impl.ClientProxies.getApplicationScopedDelegate(ClientProxies.java:18)\n        at org.acme.getting.started.Configuration_ClientProxy.arc$delegate(Unknown Source)\n        at org.acme.getting.started.Configuration_ClientProxy.arc_contextualInstance(Unknown Source)\n        at org.acme.getting.started.Configuration_ProducerMethod_produceA_612e78438d1b1b670691525f250ee747f2210b1e_Bean.create(Unknown Source)\n        at org.acme.getting.started.Configuration_ProducerMethod_produceA_612e78438d1b1b670691525f250ee747f2210b1e_Bean.create(Unknown Source)\n</code></pre>\n<p>Please, advise me does quarkus support such producers? If is doesn't, what is the solution for produce two dependent classes in one Configuration class?\nMy purpose is to place all Singleton producers in one place, but Singleton scope is not applicable for main config file due to\n<a href=\"https://github.com/quarkusio/quarkus/issues/3241\" rel=\"nofollow noreferrer\">https://github.com/quarkusio/quarkus/issues/3241</a></p>\n"},{"tags":["java","android","json","postman-testcase"],"answers":[{"tags":[],"owner":{"account_id":8334235,"reputation":1964,"user_id":6261717,"accept_rate":100,"display_name":"ALUFTW"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1614075640,"creation_date":1614075640,"answer_id":66331237,"question_id":66330782,"body_markdown":"***tl;dr:*** **You can&#39;t unless they implemenet it on the server side.**\r\n\r\nPostman is only the client side.\r\n\r\nWhen you are sending a URL - the server reads it and have an implementation for this specific url / url + parameters in our case.\r\n\r\nIf the server have an implementation for something like `http://transport/dataservice/BusStops?BusStopCode=01012` They should expose it to you. You can&#39;t guess what is their API.","title":"How do I search for a particular object within an array of JSON objects using postman","body":"<p><em><strong>tl;dr:</strong></em> <strong>You can't unless they implemenet it on the server side.</strong></p>\n<p>Postman is only the client side.</p>\n<p>When you are sending a URL - the server reads it and have an implementation for this specific url / url + parameters in our case.</p>\n<p>If the server have an implementation for something like <code>http://transport/dataservice/BusStops?BusStopCode=01012</code> They should expose it to you. You can't guess what is their API.</p>\n"},{"tags":[],"owner":{"account_id":1180483,"reputation":3616,"user_id":1155514,"display_name":"Muhammad Tariq"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643111371,"creation_date":1643111371,"answer_id":70848144,"question_id":66330782,"body_markdown":"You can filter your response data using [JSONpath Visualizer][1] in Postman.\r\n\r\nTo enable the Visualizer, please paste the following code in the Test section of Postman where you are creating your request.   \r\n\r\n```lang-javascript\r\nlet template = `\r\n&lt;html&gt;\r\n&lt;head&gt;\r\n    &lt;script src=&quot;https://cdn.jsdelivr.net/npm/jsonpath@1.0.2/jsonpath.min.js&quot;&gt;&lt;/script&gt;\r\n    &lt;script src=&quot;https://cdn.jsdelivr.net/npm/jquery@3.4.1/dist/jquery.min.js&quot;&gt;&lt;/script&gt;\r\n&lt;/head&gt;\r\n&lt;body&gt;\r\n    &lt;div&gt;\r\n      &lt;div&gt;\r\n        &lt;input id=&quot;filter&quot; style=&quot;width:450px;&quot; type=&quot;text&quot; placeholder=&quot;Example query: $..name.first&quot;&gt;\r\n      &lt;/div&gt;\r\n      &lt;div&gt;\r\n        &lt;button id=&quot;resetButton&quot; style=&quot;background-color:red;color:white;&quot;&gt;Reset&lt;/button&gt;\r\n        &lt;input id=&quot;showErrors&quot; type=&quot;checkbox&quot; value=&quot;1&quot;/&gt;\r\n        &lt;span class=&quot;item-text&quot; style=&quot;font-family:courier;&quot;&gt;Show Evaluation Errors&lt;/span&gt;\r\n      &lt;/div&gt;\r\n      &lt;div id=&quot;errors&quot; style=&quot;font-family:courier;color:red;display:none;&quot;&gt;&lt;/div&gt;\r\n      &lt;div&gt;\r\n        &lt;p id=&quot;content&quot; style=&quot;font-family:courier;color:green;font-size:18px;&quot;&gt;&lt;/p&gt;\r\n      &lt;/div&gt;\r\n    &lt;/div&gt;\r\n&lt;/body&gt;\r\n&lt;/html&gt;\r\n\r\n&lt;script&gt;\r\npm.getData( (error, value) =&gt; { \r\n    const extractedData = jsonpath.query(value, &#39;$&#39;);\r\n    \r\n    $(function() {\r\n        $(&#39;#filter&#39;).keyup(function() {\r\n            try {\r\n                let filteredData = jsonpath.query(extractedData, $(this).val());\r\n                $(&quot;#content, #errors&quot;).empty();\r\n                $(&quot;#content&quot;).append(&quot;&lt;pre&gt;&lt;code&gt;&quot; + JSON.stringify(filteredData, null, 4) + &quot;&lt;/code&gt;&lt;/pre&gt;&quot;);\r\n            } catch (err) {\r\n                console.info(err);\r\n                $(&quot;#errors&quot;).empty();\r\n                $(&quot;#errors&quot;).append(&quot;&lt;pre&gt;&lt;code&gt;&quot; + err + &quot;&lt;/code&gt;&lt;/pre&gt;&quot;);\r\n            }\r\n        });\r\n    });\r\n    \r\n    $( &quot;#resetButton&quot; ).click(function() {\r\n        $(&quot;#content, #errors&quot;).empty();\r\n        $(&quot;#filter&quot;).val(&#39;&#39;);\r\n        $(&quot;#content&quot;).append(&quot;&lt;pre&gt;&lt;code&gt;&quot; + JSON.stringify(extractedData, null, 4) + &quot;&lt;/code&gt;&lt;/pre&gt;&quot;);\r\n    })\r\n})\r\n\r\n$(function() {\r\n  $(&quot;#showErrors&quot;).on(&quot;click&quot;,function() {\r\n    $(&quot;#errors&quot;).toggle(this.checked);\r\n  });\r\n});\r\n&lt;/script&gt;`\r\n\r\npm.visualizer.set(template, pm.response.json())\r\n```\r\n\r\nHere is the example. \r\n\r\n[![enter image description here][2]][2]\r\n\r\nSample data is also provided for better understanding.   \r\n\r\n[![enter image description here][3]][3]\r\n\r\n\r\n  [1]: https://www.postman.com/postman/workspace/postman-team-collections/documentation/1794236-eab3402a-73ab-4b3d-99c9-62a4bf180e5a\r\n  [2]: https://i.stack.imgur.com/i5kV4.png\r\n  [3]: https://i.stack.imgur.com/IljqR.png","title":"How do I search for a particular object within an array of JSON objects using postman","body":"<p>You can filter your response data using <a href=\"https://www.postman.com/postman/workspace/postman-team-collections/documentation/1794236-eab3402a-73ab-4b3d-99c9-62a4bf180e5a\" rel=\"nofollow noreferrer\">JSONpath Visualizer</a> in Postman.</p>\n<p>To enable the Visualizer, please paste the following code in the Test section of Postman where you are creating your request.</p>\n<pre class=\"lang-javascript prettyprint-override\"><code>let template = `\n&lt;html&gt;\n&lt;head&gt;\n    &lt;script src=&quot;https://cdn.jsdelivr.net/npm/jsonpath@1.0.2/jsonpath.min.js&quot;&gt;&lt;/script&gt;\n    &lt;script src=&quot;https://cdn.jsdelivr.net/npm/jquery@3.4.1/dist/jquery.min.js&quot;&gt;&lt;/script&gt;\n&lt;/head&gt;\n&lt;body&gt;\n    &lt;div&gt;\n      &lt;div&gt;\n        &lt;input id=&quot;filter&quot; style=&quot;width:450px;&quot; type=&quot;text&quot; placeholder=&quot;Example query: $..name.first&quot;&gt;\n      &lt;/div&gt;\n      &lt;div&gt;\n        &lt;button id=&quot;resetButton&quot; style=&quot;background-color:red;color:white;&quot;&gt;Reset&lt;/button&gt;\n        &lt;input id=&quot;showErrors&quot; type=&quot;checkbox&quot; value=&quot;1&quot;/&gt;\n        &lt;span class=&quot;item-text&quot; style=&quot;font-family:courier;&quot;&gt;Show Evaluation Errors&lt;/span&gt;\n      &lt;/div&gt;\n      &lt;div id=&quot;errors&quot; style=&quot;font-family:courier;color:red;display:none;&quot;&gt;&lt;/div&gt;\n      &lt;div&gt;\n        &lt;p id=&quot;content&quot; style=&quot;font-family:courier;color:green;font-size:18px;&quot;&gt;&lt;/p&gt;\n      &lt;/div&gt;\n    &lt;/div&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n\n&lt;script&gt;\npm.getData( (error, value) =&gt; { \n    const extractedData = jsonpath.query(value, '$');\n    \n    $(function() {\n        $('#filter').keyup(function() {\n            try {\n                let filteredData = jsonpath.query(extractedData, $(this).val());\n                $(&quot;#content, #errors&quot;).empty();\n                $(&quot;#content&quot;).append(&quot;&lt;pre&gt;&lt;code&gt;&quot; + JSON.stringify(filteredData, null, 4) + &quot;&lt;/code&gt;&lt;/pre&gt;&quot;);\n            } catch (err) {\n                console.info(err);\n                $(&quot;#errors&quot;).empty();\n                $(&quot;#errors&quot;).append(&quot;&lt;pre&gt;&lt;code&gt;&quot; + err + &quot;&lt;/code&gt;&lt;/pre&gt;&quot;);\n            }\n        });\n    });\n    \n    $( &quot;#resetButton&quot; ).click(function() {\n        $(&quot;#content, #errors&quot;).empty();\n        $(&quot;#filter&quot;).val('');\n        $(&quot;#content&quot;).append(&quot;&lt;pre&gt;&lt;code&gt;&quot; + JSON.stringify(extractedData, null, 4) + &quot;&lt;/code&gt;&lt;/pre&gt;&quot;);\n    })\n})\n\n$(function() {\n  $(&quot;#showErrors&quot;).on(&quot;click&quot;,function() {\n    $(&quot;#errors&quot;).toggle(this.checked);\n  });\n});\n&lt;/script&gt;`\n\npm.visualizer.set(template, pm.response.json())\n</code></pre>\n<p>Here is the example.</p>\n<p><a href=\"https://i.stack.imgur.com/i5kV4.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/i5kV4.png\" alt=\"enter image description here\" /></a></p>\n<p>Sample data is also provided for better understanding.</p>\n<p><a href=\"https://i.stack.imgur.com/IljqR.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/IljqR.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":20787020,"reputation":45,"user_id":15266019,"display_name":"Beginner_coder"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":781,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":66331237,"answer_count":2,"score":1,"last_activity_date":1643111371,"creation_date":1614073878,"question_id":66330782,"body_markdown":"How do I query for a particular BusStopCode from within a JSON object in a JSON array\r\n```\r\n &quot;value&quot;: [\r\n        {\r\n            &quot;BusStopCode&quot;: &quot;01012&quot;,\r\n            &quot;RoadName&quot;: &quot;Victoria St&quot;,\r\n            &quot;Description&quot;: &quot;Hotel Grand Pacific&quot;,\r\n            &quot;Latitude&quot;: 1.29684825487647,\r\n            &quot;Longitude&quot;: 103.85253591654006\r\n        },\r\n        {\r\n            &quot;BusStopCode&quot;: &quot;01013&quot;,\r\n            &quot;RoadName&quot;: &quot;Victoria St&quot;,\r\n            &quot;Description&quot;: &quot;St. Joseph&#39;s Ch&quot;,\r\n            &quot;Latitude&quot;: 1.29770970610083,\r\n            &quot;Longitude&quot;: 103.8532247463225\r\n        },\r\n       \r\n```\r\n\r\nfor example if I want to find only the first object then the bus stop code I would query is 01012\r\n\r\nmy current URL query request looks like this-\r\nhttp://transport/dataservice/BusStops?BusStopCode=01012\r\n\r\nhere **http://transport/dataservice/BusStops** is my URL\r\n\r\nand **?BusStopCode=01012** is my path","title":"How do I search for a particular object within an array of JSON objects using postman","body":"<p>How do I query for a particular BusStopCode from within a JSON object in a JSON array</p>\n<pre><code> &quot;value&quot;: [\n        {\n            &quot;BusStopCode&quot;: &quot;01012&quot;,\n            &quot;RoadName&quot;: &quot;Victoria St&quot;,\n            &quot;Description&quot;: &quot;Hotel Grand Pacific&quot;,\n            &quot;Latitude&quot;: 1.29684825487647,\n            &quot;Longitude&quot;: 103.85253591654006\n        },\n        {\n            &quot;BusStopCode&quot;: &quot;01013&quot;,\n            &quot;RoadName&quot;: &quot;Victoria St&quot;,\n            &quot;Description&quot;: &quot;St. Joseph's Ch&quot;,\n            &quot;Latitude&quot;: 1.29770970610083,\n            &quot;Longitude&quot;: 103.8532247463225\n        },\n       \n</code></pre>\n<p>for example if I want to find only the first object then the bus stop code I would query is 01012</p>\n<p>my current URL query request looks like this-\nhttp://transport/dataservice/BusStops?BusStopCode=01012</p>\n<p>here <strong>http://transport/dataservice/BusStops</strong> is my URL</p>\n<p>and <strong>?BusStopCode=01012</strong> is my path</p>\n"},{"tags":["java","unzip","zip","zipoutputstream"],"answers":[{"tags":[],"owner":{"account_id":7642693,"reputation":1180,"user_id":5794313,"display_name":"Sync it"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1643111358,"creation_date":1643111358,"answer_id":70848140,"question_id":70838071,"body_markdown":"After much research i was able to solve 70% of the problems. Others can&#39;t be solved given the nature of how an ZipOutputStream &amp; ZipFile reads the data\r\n\r\n**Problem 1: Incorrect values returned by getSize() &amp; getCompressedSize()**\r\n\r\n*1) During Writing*\r\n\r\nI was blind to have not seen this earlier but ZipOutputStream already does compression for us and i was double compressing it by using my own inflater so i removed that code and i realized that you must specify these values only when you are using the method as STORED. else they are computed for you from the data. So refracting my zip writing code this is how it looks like\r\n\r\n       try(ZipOutputStream zos=new ZipOutputStream(new FileOutputStream(&quot;E:/TestFile2.zip&quot;)))\r\n       {  \r\n        //comment,level,method for all entries\r\n        zos.setComment(&quot;Test Zip File&quot;);\r\n        //Auto Compression\r\n        zos.setMethod(ZipOutputStream.DEFLATED);\r\n        zos.setLevel(9);\r\n        \r\n        //Creating Directories[ends with a forward slash]\r\n        {\r\n         ZipEntry dir1=new ZipEntry(&quot;Directory/&quot;);  \r\n         \r\n         //Give it a comment\r\n         dir1.setComment(&quot;Directory&quot;);\r\n         //Some extra data\r\n         dir1.setExtra(&quot;Hello&quot;.getBytes());\r\n         //Set Creation,Access,Modification Time\r\n         FileTime time=FileTime.fromMillis(System.currentTimeMillis());\r\n         dir1.setCreationTime(time);\r\n         dir1.setLastAccessTime(time);\r\n         dir1.setLastModifiedTime(time);\r\n         \r\n         //put the entry &amp; close it\r\n         zos.putNextEntry(dir1);\r\n         zos.closeEntry();\r\n        }\r\n         \r\n        //Creating an fully compressed file inside the directory with all informtion\r\n        {\r\n          ZipEntry file=new ZipEntry(&quot;Directory/Test.txt&quot;);\r\n          \r\n          //Meta Data\r\n          {\r\n           //Give it a comment\r\n           file.setComment(&quot;A File&quot;);\r\n           //Some extra data\r\n           file.setExtra(&quot;World&quot;.getBytes());\r\n           //Set Creation,Access,Modification Time\r\n           FileTime time=FileTime.fromMillis(System.currentTimeMillis());\r\n           file.setCreationTime(time);\r\n           file.setLastAccessTime(time);\r\n           file.setLastModifiedTime(time);\r\n          }\r\n        \r\n         //Byte Data\r\n         {\r\n          byte[] data=&quot;Hello World Hello World&quot;.getBytes();\r\n         \r\n          //Data\r\n          zos.putNextEntry(file);\r\n          zos.write(data);\r\n          zos.flush();\r\n         }\r\n         \r\n         //close the entry\r\n         zos.closeEntry();\r\n        }\r\n        \r\n        //finish writing the zip file without closing stream\r\n        zos.finish();\r\n       }\r\n\r\n *2)During Reading* \r\n\r\nTo get the correct size &amp; compressed size values there are 2 approaches\r\n\r\n -&gt; If you read the file using ZipFile class the values come out correctly\r\n\r\n-&gt; If you use ZipInputStream then these values are computed only after you have read all the bytes from the entry. more info             [here](https://bugs.java.com/bugdatabase/view_bug.do?bug_id=4113731)\r\n\r\n     if(!entry.isDirectory())\r\n     {\r\n      try(ByteArrayOutputStream baos=new ByteArrayOutputStream())\r\n      {\r\n       int read;\r\n       byte[] data=new byte[10];    \r\n       while((read=zipInputStream.read(data))&gt;0){baos.write(data,0,read);}\r\n       System.out.println(&quot;Data=&quot;+new String(baos.toByteArray()));\r\n      } \r\n     }\r\n     //Now these values are correct\r\n     System.out.println(&quot;CRC=&quot;+entry.getCrc());\r\n     System.out.println(&quot;Real Size=&quot;+entry.getSize());\r\n     System.out.println(&quot;Compressed Size=&quot;+entry.getCompressedSize());\r\n\r\n**Problem 2: Incorrect Extra data**\r\n\r\nThis [post](https://stackoverflow.com/questions/54654170/what-are-the-extra-bytes-in-the-zipentry-used-for#:~:text=The%20extra%20data%20is%20a%20series%20of%20zero,describes%20some%20well%20known%20extra%20data%20record%20IDs.) pretty much explains everything\r\n\r\nHere is the code\r\n\r\n         ByteBuffer extraData = ByteBuffer.wrap(entry.getExtra()).order(ByteOrder.LITTLE_ENDIAN);\r\n         while(extraData.hasRemaining()) \r\n         {\r\n           int id = extraData.getShort() &amp; 0xffff;\r\n           int length = extraData.getShort() &amp; 0xffff;\r\n    \r\n           if(id == 0x756e) \r\n           {\r\n             int crc32 = extraData.getInt();\r\n             short permissions = extraData.getShort();\r\n             int \r\n             linkLengthOrDeviceNumbers = extraData.getInt(),\r\n             userID = extraData.getChar(),\r\n             groupID = extraData.getChar();\r\n    \r\n             ByteBuffer linkDestBuffer = extraData.slice().limit(length - 14);\r\n             String linkDestination=StandardCharsets.UTF_8.decode(linkDestBuffer).toString();\r\n           } \r\n           else\r\n           {\r\n            extraData.position(extraData.position() + length);        \r\n            byte[] ourData=new byte[extraData.remaining()];\r\n            extraData.get(ourData);\r\n    \r\n            //do stuff\r\n           }\r\n         } \r\n\r\n**Unsolved Problems**\r\n\r\nThere are still 3 values which return different results based on which method you use to read the file. I made a table of my observations per entry\r\n\r\n                                ZipFile           ZipInputStream\r\n     getCreationTime()           null             &lt;correct value&gt;\r\n    \r\n     getLastAccessTime()         null             &lt;correct value&gt;\r\n    \r\n     getComment()             &lt;correct value&gt;        null\r\n\r\nApparently from the [bug report](https://bugs.openjdk.java.net/browse/JDK-4201267#:~:text=java.util.zip%20ZipEntry%20getComment%20returns%20null%20when%20ZipInputStream%20is,All%20the%20other%20properties%20%28name%2C%20compressed%20size%2C%20crc%2C) This is expected behavior since zip file is random access and zip input stream is sequential and so they access  data differently.\r\n\r\nFrom my observations Using ZipInputStream returns the best results so i will continue to use that","title":"ZipFile : Wrong values when reading","body":"<p>After much research i was able to solve 70% of the problems. Others can't be solved given the nature of how an ZipOutputStream &amp; ZipFile reads the data</p>\n<p><strong>Problem 1: Incorrect values returned by getSize() &amp; getCompressedSize()</strong></p>\n<p><em>1) During Writing</em></p>\n<p>I was blind to have not seen this earlier but ZipOutputStream already does compression for us and i was double compressing it by using my own inflater so i removed that code and i realized that you must specify these values only when you are using the method as STORED. else they are computed for you from the data. So refracting my zip writing code this is how it looks like</p>\n<pre><code>   try(ZipOutputStream zos=new ZipOutputStream(new FileOutputStream(&quot;E:/TestFile2.zip&quot;)))\n   {  \n    //comment,level,method for all entries\n    zos.setComment(&quot;Test Zip File&quot;);\n    //Auto Compression\n    zos.setMethod(ZipOutputStream.DEFLATED);\n    zos.setLevel(9);\n    \n    //Creating Directories[ends with a forward slash]\n    {\n     ZipEntry dir1=new ZipEntry(&quot;Directory/&quot;);  \n     \n     //Give it a comment\n     dir1.setComment(&quot;Directory&quot;);\n     //Some extra data\n     dir1.setExtra(&quot;Hello&quot;.getBytes());\n     //Set Creation,Access,Modification Time\n     FileTime time=FileTime.fromMillis(System.currentTimeMillis());\n     dir1.setCreationTime(time);\n     dir1.setLastAccessTime(time);\n     dir1.setLastModifiedTime(time);\n     \n     //put the entry &amp; close it\n     zos.putNextEntry(dir1);\n     zos.closeEntry();\n    }\n     \n    //Creating an fully compressed file inside the directory with all informtion\n    {\n      ZipEntry file=new ZipEntry(&quot;Directory/Test.txt&quot;);\n      \n      //Meta Data\n      {\n       //Give it a comment\n       file.setComment(&quot;A File&quot;);\n       //Some extra data\n       file.setExtra(&quot;World&quot;.getBytes());\n       //Set Creation,Access,Modification Time\n       FileTime time=FileTime.fromMillis(System.currentTimeMillis());\n       file.setCreationTime(time);\n       file.setLastAccessTime(time);\n       file.setLastModifiedTime(time);\n      }\n    \n     //Byte Data\n     {\n      byte[] data=&quot;Hello World Hello World&quot;.getBytes();\n     \n      //Data\n      zos.putNextEntry(file);\n      zos.write(data);\n      zos.flush();\n     }\n     \n     //close the entry\n     zos.closeEntry();\n    }\n    \n    //finish writing the zip file without closing stream\n    zos.finish();\n   }\n</code></pre>\n<p><em>2)During Reading</em></p>\n<p>To get the correct size &amp; compressed size values there are 2 approaches</p>\n<p>-&gt; If you read the file using ZipFile class the values come out correctly</p>\n<p>-&gt; If you use ZipInputStream then these values are computed only after you have read all the bytes from the entry. more info             <a href=\"https://bugs.java.com/bugdatabase/view_bug.do?bug_id=4113731\" rel=\"nofollow noreferrer\">here</a></p>\n<pre><code> if(!entry.isDirectory())\n {\n  try(ByteArrayOutputStream baos=new ByteArrayOutputStream())\n  {\n   int read;\n   byte[] data=new byte[10];    \n   while((read=zipInputStream.read(data))&gt;0){baos.write(data,0,read);}\n   System.out.println(&quot;Data=&quot;+new String(baos.toByteArray()));\n  } \n }\n //Now these values are correct\n System.out.println(&quot;CRC=&quot;+entry.getCrc());\n System.out.println(&quot;Real Size=&quot;+entry.getSize());\n System.out.println(&quot;Compressed Size=&quot;+entry.getCompressedSize());\n</code></pre>\n<p><strong>Problem 2: Incorrect Extra data</strong></p>\n<p>This <a href=\"https://stackoverflow.com/questions/54654170/what-are-the-extra-bytes-in-the-zipentry-used-for#:%7E:text=The%20extra%20data%20is%20a%20series%20of%20zero,describes%20some%20well%20known%20extra%20data%20record%20IDs.\">post</a> pretty much explains everything</p>\n<p>Here is the code</p>\n<pre><code>     ByteBuffer extraData = ByteBuffer.wrap(entry.getExtra()).order(ByteOrder.LITTLE_ENDIAN);\n     while(extraData.hasRemaining()) \n     {\n       int id = extraData.getShort() &amp; 0xffff;\n       int length = extraData.getShort() &amp; 0xffff;\n\n       if(id == 0x756e) \n       {\n         int crc32 = extraData.getInt();\n         short permissions = extraData.getShort();\n         int \n         linkLengthOrDeviceNumbers = extraData.getInt(),\n         userID = extraData.getChar(),\n         groupID = extraData.getChar();\n\n         ByteBuffer linkDestBuffer = extraData.slice().limit(length - 14);\n         String linkDestination=StandardCharsets.UTF_8.decode(linkDestBuffer).toString();\n       } \n       else\n       {\n        extraData.position(extraData.position() + length);        \n        byte[] ourData=new byte[extraData.remaining()];\n        extraData.get(ourData);\n\n        //do stuff\n       }\n     } \n</code></pre>\n<p><strong>Unsolved Problems</strong></p>\n<p>There are still 3 values which return different results based on which method you use to read the file. I made a table of my observations per entry</p>\n<pre><code>                            ZipFile           ZipInputStream\n getCreationTime()           null             &lt;correct value&gt;\n\n getLastAccessTime()         null             &lt;correct value&gt;\n\n getComment()             &lt;correct value&gt;        null\n</code></pre>\n<p>Apparently from the <a href=\"https://bugs.openjdk.java.net/browse/JDK-4201267#:%7E:text=java.util.zip%20ZipEntry%20getComment%20returns%20null%20when%20ZipInputStream%20is,All%20the%20other%20properties%20%28name%2C%20compressed%20size%2C%20crc%2C\" rel=\"nofollow noreferrer\">bug report</a> This is expected behavior since zip file is random access and zip input stream is sequential and so they access  data differently.</p>\n<p>From my observations Using ZipInputStream returns the best results so i will continue to use that</p>\n"}],"owner":{"account_id":7642693,"reputation":1180,"user_id":5794313,"display_name":"Sync it"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":568,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70848140,"answer_count":1,"score":0,"last_activity_date":1643111358,"creation_date":1643045723,"question_id":70838071,"body_markdown":"I am creating a zip file with one directory and an single compressed text file inside of it. \r\n\r\nCode to create the zip file\r\n \r\n\r\n       try(ZipOutputStream zos=new ZipOutputStream(new FileOutputStream(&quot;E:/TestFile.zip&quot;)))\r\n       {  \r\n        //comment,level,method for all entries\r\n        zos.setComment(&quot;Test Zip File&quot;);\r\n        zos.setLevel(Deflater.BEST_COMPRESSION);\r\n        zos.setMethod(Deflater.DEFLATED);\r\n        \r\n        //Creating Directories[ends with a forward slash]\r\n        {\r\n         ZipEntry dir1=new ZipEntry(&quot;Directory/&quot;);  \r\n         \r\n         //Give it a comment\r\n         dir1.setComment(&quot;Directory&quot;);\r\n         //Some extra data\r\n         dir1.setExtra(&quot;Hello&quot;.getBytes());\r\n         //Set Creation,Access,Modification Time\r\n         FileTime time=FileTime.fromMillis(System.currentTimeMillis());\r\n         dir1.setCreationTime(time);\r\n         dir1.setLastAccessTime(time);\r\n         dir1.setLastModifiedTime(time);\r\n         \r\n         //put the entry &amp; close it\r\n         zos.putNextEntry(dir1);\r\n         zos.closeEntry();\r\n        }\r\n         \r\n        //Creating an fully compressed file inside the directory with all informtion\r\n        {\r\n          ZipEntry file=new ZipEntry(&quot;Directory/Test.txt&quot;);\r\n          \r\n          //Meta Data\r\n          {\r\n           //Give it a comment\r\n           file.setComment(&quot;A File&quot;);\r\n           //Some extra data\r\n           file.setExtra(&quot;World&quot;.getBytes());\r\n           //Set Creation,Access,Modification Time\r\n           FileTime time=FileTime.fromMillis(System.currentTimeMillis());\r\n           file.setCreationTime(time);\r\n           file.setLastAccessTime(time);\r\n           file.setLastModifiedTime(time);\r\n          }\r\n        \r\n         //Byte Data\r\n         {\r\n          //put entry for writing\r\n          zos.putNextEntry(file);\r\n          byte[] data=&quot;Hello World Hello World&quot;.getBytes();\r\n    \r\n          //Compress Data\r\n          Deflater deflater=new Deflater(9);\r\n          deflater.setDictionary(&quot;Hello World &quot;.getBytes());\r\n          deflater.setInput(data);\r\n          deflater.finish();\r\n          byte[] output=new byte[100];\r\n          int compressed=deflater.deflate(output);\r\n         \r\n          //Write Data   \r\n          CRC32 check=new CRC32();\r\n          check.update(data);\r\n          file.setSize(deflater.getBytesRead());\r\n          file.setCrc(check.getValue());          \r\n          file.setCompressedSize(compressed);     \r\n          zos.write(output,0,compressed);\r\n          \r\n          //end data\r\n          System.out.println(deflater.getBytesRead()+&quot;/&quot;+compressed);\r\n          deflater.end();\r\n         }\r\n         \r\n         //close the entry\r\n         zos.closeEntry();\r\n        }\r\n       }\r\n      }\r\n\r\nUpon writing the file the size of the byte data uncompressed is 23 bytes and the size of the data compressed is 15. I am using every method inside ZipEntry just to test if i can retrive all the values correctly upon reading it.\r\n\r\nUpon Reading it using ZipFile class &amp; not ZipInputStream(bug getSize() always returns -1) using this code\r\n\r\n     //reading zip file using ZipFile\r\n      public static void main(String[] args)throws Exception\r\n      {\r\n       try(ZipFile zis=new ZipFile(&quot;E:/TestFile.zip&quot;))\r\n       {\r\n        Enumeration&lt;? extends ZipEntry&gt; entries=zis.entries();\r\n        while(entries.hasMoreElements())\r\n        {\r\n         ZipEntry entry=entries.nextElement();\r\n         \r\n         System.out.println(&quot;Name=&quot;+entry.getName());\r\n         System.out.println(&quot;Is Directory=&quot;+entry.isDirectory());   \r\n         System.out.println(&quot;Comment=&quot;+entry.getComment());\r\n         System.out.println(&quot;Creation Time=&quot;+entry.getCreationTime());\r\n         System.out.println(&quot;Access Time=&quot;+entry.getLastAccessTime());\r\n         System.out.println(&quot;Modification Time=&quot;+entry.getLastModifiedTime());\r\n         System.out.println(&quot;CRC=&quot;+entry.getCrc());\r\n         System.out.println(&quot;Real Size=&quot;+entry.getSize());\r\n         System.out.println(&quot;Compressed Size=&quot;+entry.getCompressedSize());\r\n         System.out.println(&quot;Optional Data=&quot;+new String(entry.getExtra()));\r\n         System.out.println(&quot;Method=&quot;+entry.getMethod());\r\n         if(!entry.isDirectory())\r\n         {\r\n          Inflater inflater=new Inflater();\r\n          try(InputStream is=zis.getInputStream(entry))\r\n          {\r\n           byte[] originalData=new byte[(int)entry.getSize()];\r\n           inflater.setInput(is.readAllBytes());\r\n           int realLength=inflater.inflate(originalData);\r\n           if(inflater.needsDictionary())\r\n           {\r\n            inflater.setDictionary(&quot;Hello World &quot;.getBytes());\r\n            realLength=inflater.inflate(originalData);\r\n           }\r\n           inflater.end();\r\n    \r\n           System.out.println(&quot;Data=&quot;+new String(originalData,0,realLength));\r\n          }  \r\n         }\r\n         System.out.println(&quot;=====================================================&quot;);\r\n       }   \r\n      }\r\n     }  \r\n\r\nI get this output\r\n\r\n    Name=Directory/\r\n    Is Directory=true\r\n    Comment=Directory\r\n    Creation Time=null\r\n    Access Time=null\r\n    Modification Time=2022-01-24T17:00:25Z\r\n    CRC=0\r\n    Real Size=0\r\n    Compressed Size=2\r\n    Optional Data=UTaHello\r\n    Method=8\r\n    =====================================================\r\n    Name=Directory/Test.txt\r\n    Is Directory=false\r\n    Comment=A File\r\n    Creation Time=null\r\n    Access Time=null\r\n    Modification Time=2022-01-24T17:00:25Z\r\n    CRC=2483042136\r\n    Real Size=15\r\n    Compressed Size=17\r\n    Optional Data=UTï¿½ï¿½aWorld\r\n    Method=8\r\n    Data=Hello World Hel\r\n    ==================================================\r\n\r\nThere is a lot of wrong output in this code\r\n\r\nFor the directory\r\n\r\n \r\n\r\n&gt; 1)Creation Time &amp; Access Time are null[even though i have specified it\r\n&gt; in the write method]\r\n&gt; \r\n&gt; 2)Extra Data[Optional Data] has wrong encoding\r\n\r\nFor the file\r\n\r\n&gt; 1)Creation Time &amp; Access Time are null[even though i have specified it\r\n&gt; in the write method]\r\n&gt; \r\n&gt; 2)getSize() &amp; getCompressedSize() methods return the wrong values. I\r\n&gt; have specified these values during writing manually with sizeSize() &amp;\r\n&gt; setCompressedSize() when creating the file the values were 23 and 15 but\r\n&gt; it returns 15 and 17\r\n&gt; \r\n&gt; 3)Extra Data[Optional Data] has wrong encoding\r\n&gt; \r\n&gt; 4)Since getSize() returns incorrect size it dosen&#39;t display the whole\r\n&gt; data[Hello World Hel]\r\n\r\nWith so many things going wrong i thought to post this as one question rather than multiple small ones as they all seem related. I am a complete beginner in writing zip files so any direction on where do i go from here would be greatly appreciated.\r\n\r\nI can read the data of an zip entry using an while loop into an buffer if the size is not known or incorrect which is not an problem but why would they even create an set or get size method if they knew we would be doing this most of the time anyway. Whats the point?","title":"ZipFile : Wrong values when reading","body":"<p>I am creating a zip file with one directory and an single compressed text file inside of it.</p>\n<p>Code to create the zip file</p>\n<pre><code>   try(ZipOutputStream zos=new ZipOutputStream(new FileOutputStream(&quot;E:/TestFile.zip&quot;)))\n   {  \n    //comment,level,method for all entries\n    zos.setComment(&quot;Test Zip File&quot;);\n    zos.setLevel(Deflater.BEST_COMPRESSION);\n    zos.setMethod(Deflater.DEFLATED);\n    \n    //Creating Directories[ends with a forward slash]\n    {\n     ZipEntry dir1=new ZipEntry(&quot;Directory/&quot;);  \n     \n     //Give it a comment\n     dir1.setComment(&quot;Directory&quot;);\n     //Some extra data\n     dir1.setExtra(&quot;Hello&quot;.getBytes());\n     //Set Creation,Access,Modification Time\n     FileTime time=FileTime.fromMillis(System.currentTimeMillis());\n     dir1.setCreationTime(time);\n     dir1.setLastAccessTime(time);\n     dir1.setLastModifiedTime(time);\n     \n     //put the entry &amp; close it\n     zos.putNextEntry(dir1);\n     zos.closeEntry();\n    }\n     \n    //Creating an fully compressed file inside the directory with all informtion\n    {\n      ZipEntry file=new ZipEntry(&quot;Directory/Test.txt&quot;);\n      \n      //Meta Data\n      {\n       //Give it a comment\n       file.setComment(&quot;A File&quot;);\n       //Some extra data\n       file.setExtra(&quot;World&quot;.getBytes());\n       //Set Creation,Access,Modification Time\n       FileTime time=FileTime.fromMillis(System.currentTimeMillis());\n       file.setCreationTime(time);\n       file.setLastAccessTime(time);\n       file.setLastModifiedTime(time);\n      }\n    \n     //Byte Data\n     {\n      //put entry for writing\n      zos.putNextEntry(file);\n      byte[] data=&quot;Hello World Hello World&quot;.getBytes();\n\n      //Compress Data\n      Deflater deflater=new Deflater(9);\n      deflater.setDictionary(&quot;Hello World &quot;.getBytes());\n      deflater.setInput(data);\n      deflater.finish();\n      byte[] output=new byte[100];\n      int compressed=deflater.deflate(output);\n     \n      //Write Data   \n      CRC32 check=new CRC32();\n      check.update(data);\n      file.setSize(deflater.getBytesRead());\n      file.setCrc(check.getValue());          \n      file.setCompressedSize(compressed);     \n      zos.write(output,0,compressed);\n      \n      //end data\n      System.out.println(deflater.getBytesRead()+&quot;/&quot;+compressed);\n      deflater.end();\n     }\n     \n     //close the entry\n     zos.closeEntry();\n    }\n   }\n  }\n</code></pre>\n<p>Upon writing the file the size of the byte data uncompressed is 23 bytes and the size of the data compressed is 15. I am using every method inside ZipEntry just to test if i can retrive all the values correctly upon reading it.</p>\n<p>Upon Reading it using ZipFile class &amp; not ZipInputStream(bug getSize() always returns -1) using this code</p>\n<pre><code> //reading zip file using ZipFile\n  public static void main(String[] args)throws Exception\n  {\n   try(ZipFile zis=new ZipFile(&quot;E:/TestFile.zip&quot;))\n   {\n    Enumeration&lt;? extends ZipEntry&gt; entries=zis.entries();\n    while(entries.hasMoreElements())\n    {\n     ZipEntry entry=entries.nextElement();\n     \n     System.out.println(&quot;Name=&quot;+entry.getName());\n     System.out.println(&quot;Is Directory=&quot;+entry.isDirectory());   \n     System.out.println(&quot;Comment=&quot;+entry.getComment());\n     System.out.println(&quot;Creation Time=&quot;+entry.getCreationTime());\n     System.out.println(&quot;Access Time=&quot;+entry.getLastAccessTime());\n     System.out.println(&quot;Modification Time=&quot;+entry.getLastModifiedTime());\n     System.out.println(&quot;CRC=&quot;+entry.getCrc());\n     System.out.println(&quot;Real Size=&quot;+entry.getSize());\n     System.out.println(&quot;Compressed Size=&quot;+entry.getCompressedSize());\n     System.out.println(&quot;Optional Data=&quot;+new String(entry.getExtra()));\n     System.out.println(&quot;Method=&quot;+entry.getMethod());\n     if(!entry.isDirectory())\n     {\n      Inflater inflater=new Inflater();\n      try(InputStream is=zis.getInputStream(entry))\n      {\n       byte[] originalData=new byte[(int)entry.getSize()];\n       inflater.setInput(is.readAllBytes());\n       int realLength=inflater.inflate(originalData);\n       if(inflater.needsDictionary())\n       {\n        inflater.setDictionary(&quot;Hello World &quot;.getBytes());\n        realLength=inflater.inflate(originalData);\n       }\n       inflater.end();\n\n       System.out.println(&quot;Data=&quot;+new String(originalData,0,realLength));\n      }  \n     }\n     System.out.println(&quot;=====================================================&quot;);\n   }   \n  }\n }  \n</code></pre>\n<p>I get this output</p>\n<pre><code>Name=Directory/\nIs Directory=true\nComment=Directory\nCreation Time=null\nAccess Time=null\nModification Time=2022-01-24T17:00:25Z\nCRC=0\nReal Size=0\nCompressed Size=2\nOptional Data=UTaHello\nMethod=8\n=====================================================\nName=Directory/Test.txt\nIs Directory=false\nComment=A File\nCreation Time=null\nAccess Time=null\nModification Time=2022-01-24T17:00:25Z\nCRC=2483042136\nReal Size=15\nCompressed Size=17\nOptional Data=UTï¿½ï¿½aWorld\nMethod=8\nData=Hello World Hel\n==================================================\n</code></pre>\n<p>There is a lot of wrong output in this code</p>\n<p>For the directory</p>\n<blockquote>\n<p>1)Creation Time &amp; Access Time are null[even though i have specified it\nin the write method]</p>\n<p>2)Extra Data[Optional Data] has wrong encoding</p>\n</blockquote>\n<p>For the file</p>\n<blockquote>\n<p>1)Creation Time &amp; Access Time are null[even though i have specified it\nin the write method]</p>\n<p>2)getSize() &amp; getCompressedSize() methods return the wrong values. I\nhave specified these values during writing manually with sizeSize() &amp;\nsetCompressedSize() when creating the file the values were 23 and 15 but\nit returns 15 and 17</p>\n<p>3)Extra Data[Optional Data] has wrong encoding</p>\n<p>4)Since getSize() returns incorrect size it dosen't display the whole\ndata[Hello World Hel]</p>\n</blockquote>\n<p>With so many things going wrong i thought to post this as one question rather than multiple small ones as they all seem related. I am a complete beginner in writing zip files so any direction on where do i go from here would be greatly appreciated.</p>\n<p>I can read the data of an zip entry using an while loop into an buffer if the size is not known or incorrect which is not an problem but why would they even create an set or get size method if they knew we would be doing this most of the time anyway. Whats the point?</p>\n"},{"tags":["javascript","java","jquery","jersey","jax-rs"],"answers":[{"tags":[],"owner":{"account_id":9504657,"reputation":7440,"user_id":7064617,"display_name":"JCompetence"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1643107244,"creation_date":1643107244,"answer_id":70847234,"question_id":70847149,"body_markdown":"Based on what you have, it should work with this:\r\n\r\n    $.get(&quot;/login&quot;, {name:&quot;Donald&quot;, password:&quot;Ducktown&quot;} , \r\n         function (data) {\r\n                console.log(data);\r\n     });\r\n\r\n\r\nYour POJO mapping has the fields `name, password`, so your JSON should only contain them:\r\n\r\n\r\n    ublic class Token {\r\n    \r\n        private String name;\r\n    \r\n        private String password;\r\n    \r\n        public Token() {}\r\n    \r\n        //+getters, setters, toString\r\n    }\r\n\r\n\r\n----------\r\n\r\n\r\nWhen you send in `{ token: { name:&quot;Donald&quot;, password:&quot;Ducktown&quot; }}`, you are stating your Pojo should look like:\r\n\r\n\r\n\r\n    public class TokenWrapper {\r\n    \r\n        private Token token;\r\n    }\r\n    \r\n    \r\n    public class Token {\r\n    \r\n        private String name;\r\n    \r\n        private String password;\r\n    \r\n    }\r\n\r\nAnd your API endpoint should change to:\r\n\r\n        @GET\r\n        @Consumes(MediaType.APPLICATION_JSON)\r\n        public void login(TokenWrapper token) {\r\n            logger.info(&quot;Token={}&quot;, token);\r\n        }\r\n\r\n","title":"How to send json to rest service to make Jersey to parse it as a POJO?","body":"<p>Based on what you have, it should work with this:</p>\n<pre><code>$.get(&quot;/login&quot;, {name:&quot;Donald&quot;, password:&quot;Ducktown&quot;} , \n     function (data) {\n            console.log(data);\n });\n</code></pre>\n<p>Your POJO mapping has the fields <code>name, password</code>, so your JSON should only contain them:</p>\n<pre><code>ublic class Token {\n\n    private String name;\n\n    private String password;\n\n    public Token() {}\n\n    //+getters, setters, toString\n}\n</code></pre>\n<hr />\n<p>When you send in <code>{ token: { name:&quot;Donald&quot;, password:&quot;Ducktown&quot; }}</code>, you are stating your Pojo should look like:</p>\n<pre><code>public class TokenWrapper {\n\n    private Token token;\n}\n\n\npublic class Token {\n\n    private String name;\n\n    private String password;\n\n}\n</code></pre>\n<p>And your API endpoint should change to:</p>\n<pre><code>    @GET\n    @Consumes(MediaType.APPLICATION_JSON)\n    public void login(TokenWrapper token) {\n        logger.info(&quot;Token={}&quot;, token);\n    }\n</code></pre>\n"}],"owner":{"account_id":2301931,"reputation":123,"user_id":5182503,"display_name":"ThatsMe"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":88,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"accepted_answer_id":70847234,"answer_count":1,"score":-3,"last_activity_date":1643111116,"creation_date":1643106897,"question_id":70847149,"body_markdown":"This is my code that makes ajax call using jquery:\r\n\r\n    $.get(&quot;/login&quot;, { token: { name:&quot;Donald&quot;, password:&quot;Ducktown&quot; }} , \r\n         function (data) {\r\n                console.log(data);\r\n     });\r\n\r\nThis is my POJO:\r\n\r\n    public class Token {\r\n    \r\n        private String name;\r\n    \r\n        private String password;\r\n    \r\n        public Token() {}\r\n    \r\n        //+getters, setters, toString\r\n    }\r\n\r\nThis is my rest service:\r\n\r\n    @Path(&quot;login&quot;)\r\n    public class LoginService {\r\n        \r\n        private static final Logger logger = LoggerFactory.getLogger(LoginService.class);\r\n    \r\n        @GET\r\n        @Consumes(MediaType.APPLICATION_JSON)\r\n        public void login(Token token) {\r\n            logger.info(&quot;Token={}&quot;, token);\r\n        }\r\n    }\r\n\r\nAnd this is output:\r\n\r\n    12:16:12.211 [qtp967677821-35] [INFO] com.foo.LoginService - Token=null\r\n\r\nPlease, say how to send json correctly to make Jersey to parse it as a POJO.\r\n\r\nThis is jersey config info, that is printed in logs when Jersey starts:\r\n\r\n&gt;\r\n&gt; Root Resource Classes:   com.foo.LoginService \r\n&gt;\r\n&gt; Pre-match Filters:   \r\n&gt; org.apache.shiro.web.jaxrs.SubjectPrincipalRequestFilter \r\n&gt;\r\n&gt; Global Response Filters:    com.foo.CORSFilter\r\n&gt; \r\n&gt; Global Reader Interceptors:   \r\n&gt; org.glassfish.jersey.server.internal.MappableExceptionWrapperInterceptor\r\n&gt;\r\n&gt; Global Writer Interceptors:   \r\n&gt; org.glassfish.jersey.server.internal.MappableExceptionWrapperInterceptor\r\n&gt; org.glassfish.jersey.server.internal.JsonWithPaddingInterceptor\r\n&gt;\r\n&gt; Dynamic Features:   \r\n&gt; org.apache.shiro.web.jaxrs.ShiroAnnotationFilterFeature@204beb58\r\n&gt;\r\n&gt; Message Body Readers:   \r\n&gt; org.glassfish.jersey.message.internal.RenderedImageProvider   \r\n&gt; org.glassfish.jersey.message.internal.SourceProvider$SaxSourceReader  \r\n&gt; org.glassfish.jersey.message.internal.FormProvider   \r\n&gt; org.glassfish.jersey.message.internal.SourceProvider$DomSourceReader  \r\n&gt; org.glassfish.jersey.jackson.internal.jackson.jaxrs.json.JacksonJaxbJsonProvider\r\n&gt; org.glassfish.jersey.message.internal.StringMessageProvider   \r\n&gt; org.glassfish.jersey.message.internal.FormMultivaluedMapProvider   \r\n&gt; org.glassfish.jersey.message.internal.SourceProvider$StreamSourceReader\r\n&gt; org.glassfish.jersey.message.internal.InputStreamProvider   \r\n&gt; org.glassfish.jersey.message.internal.ByteArrayProvider   \r\n&gt; org.glassfish.jersey.message.internal.ReaderProvider   \r\n&gt; org.glassfish.jersey.message.internal.DataSourceProvider   \r\n&gt; org.glassfish.jersey.message.internal.BasicTypesMessageProvider   \r\n&gt; org.glassfish.jersey.message.internal.FileProvider \r\n&gt; \r\n&gt; Message Body Writers:   \r\n&gt; org.glassfish.jersey.message.internal.RenderedImageProvider   \r\n&gt; org.glassfish.jersey.message.internal.FormProvider   \r\n&gt; org.glassfish.jersey.server.ChunkedResponseWriter   \r\n&gt; org.glassfish.jersey.server.validation.internal.ValidationErrorMessageBodyWriter\r\n&gt; org.glassfish.jersey.jackson.internal.jackson.jaxrs.json.JacksonJaxbJsonProvider\r\n&gt; org.glassfish.jersey.message.internal.StringMessageProvider   \r\n&gt; org.glassfish.jersey.message.internal.FormMultivaluedMapProvider   \r\n&gt; org.glassfish.jersey.message.internal.InputStreamProvider   \r\n&gt; org.glassfish.jersey.message.internal.SourceProvider$SourceWriter   \r\n&gt; org.glassfish.jersey.message.internal.ByteArrayProvider   \r\n&gt; org.glassfish.jersey.message.internal.ReaderProvider   \r\n&gt; org.glassfish.jersey.message.internal.DataSourceProvider   \r\n&gt; org.glassfish.jersey.message.internal.StreamingOutputProvider   \r\n&gt; org.glassfish.jersey.message.internal.BasicTypesMessageProvider   \r\n&gt; org.glassfish.jersey.message.internal.FileProvider\r\n\r\nAnd these are my dependencies for Jersey. As gson parser I try to use jackson:\r\n\r\n        &lt;module groupId=&quot;jakarta.validation&quot; artifactId=&quot;jakarta.validation-api&quot; version=&quot;2.0.2&quot;/&gt;\r\n    \t&lt;module groupId=&quot;com.sun.activation&quot; artifactId=&quot;jakarta.activation&quot; version=&quot;1.2.1&quot;/&gt;\r\n    \t&lt;module groupId=&quot;jakarta.ws.rs&quot; artifactId=&quot;jakarta.ws.rs-api&quot; version=&quot;2.1.6&quot;/&gt;\r\n    \t&lt;module groupId=&quot;jakarta.xml.bind&quot; artifactId=&quot;jakarta.xml.bind-api&quot; version=&quot;2.3.2&quot;/&gt;\r\n    \t&lt;module groupId=&quot;com.google.code.gson&quot; artifactId=&quot;gson&quot; version=&quot;2.8.6&quot;/&gt;\r\n    \t&lt;module groupId=&quot;com.fasterxml&quot; artifactId=&quot;classmate&quot; version=&quot;1.5.1&quot;/&gt;\r\n    \t&lt;module groupId=&quot;com.sun.xml.bind&quot; artifactId=&quot;jaxb-impl&quot; version=&quot;2.3.2&quot;/&gt;\r\n    \t&lt;module groupId=&quot;javax.enterprise&quot; artifactId=&quot;cdi-api&quot; version=&quot;1.1&quot;/&gt;\r\n    \t&lt;module groupId=&quot;org.glassfish.hk2.external&quot; artifactId=&quot;jakarta.inject&quot; version=&quot;2.6.1&quot;/&gt;\r\n    \t&lt;module groupId=&quot;org.glassfish.hk2&quot; artifactId=&quot;hk2-api&quot; version=&quot;2.6.1&quot;/&gt;\r\n    \t&lt;module groupId=&quot;org.glassfish.hk2&quot; artifactId=&quot;hk2-utils&quot; version=&quot;2.6.1&quot;/&gt;\r\n    \t&lt;module groupId=&quot;org.glassfish.hk2&quot; artifactId=&quot;hk2-locator&quot; version=&quot;2.6.1&quot;/&gt;\r\n    \t&lt;module groupId=&quot;org.glassfish.hk2&quot; artifactId=&quot;spring-bridge&quot; version=&quot;2.6.1&quot;/&gt;\r\n    \t&lt;module groupId=&quot;org.glassfish.jersey.containers&quot; artifactId=&quot;jersey-container-jetty-http&quot; version=&quot;2.30.1&quot;/&gt;\r\n    \t&lt;module groupId=&quot;org.glassfish.jersey.containers&quot; artifactId=&quot;jersey-container-servlet-core&quot; version=&quot;2.30.1&quot;/&gt;\r\n    \t&lt;module groupId=&quot;org.glassfish.jersey.core&quot; artifactId=&quot;jersey-server&quot; version=&quot;2.30.1&quot;/&gt;\r\n    \t&lt;module groupId=&quot;org.glassfish.jersey.core&quot; artifactId=&quot;jersey-common&quot; version=&quot;2.30.1&quot;/&gt;\r\n    \t&lt;module groupId=&quot;org.glassfish.jersey.core&quot; artifactId=&quot;jersey-client&quot; version=&quot;2.30.1&quot;/&gt;\r\n    \t&lt;module groupId=&quot;org.glassfish.jersey.ext&quot; artifactId=&quot;jersey-bean-validation&quot; version=&quot;2.30.1&quot;/&gt;\r\n    \t&lt;module groupId=&quot;org.glassfish.jersey.ext.cdi&quot; artifactId=&quot;jersey-cdi1x&quot; version=&quot;2.30.1&quot;/&gt;\r\n    \t&lt;module groupId=&quot;org.glassfish.jersey.ext.cdi&quot; artifactId=&quot;jersey-cdi1x-servlet&quot; version=&quot;2.30.1&quot;/&gt;\r\n    \t&lt;module groupId=&quot;org.glassfish.jersey.inject&quot; artifactId=&quot;jersey-hk2&quot; version=&quot;2.30.1&quot;/&gt;\r\n    \t&lt;module groupId=&quot;org.glassfish.jersey.ext&quot; artifactId=&quot;jersey-spring5&quot; version=&quot;2.30.1&quot;/&gt;\r\n    \t&lt;module groupId=&quot;com.sun.istack&quot; artifactId=&quot;istack-commons-runtime&quot; version=&quot;4.0.1&quot;/&gt;\r\n    \t&lt;module groupId=&quot;org.javassist&quot; artifactId=&quot;javassist&quot; version=&quot;3.27.0-GA&quot;/&gt;\r\n    \r\n    \t&lt;module groupId=&quot;org.glassfish.jersey.ext&quot; artifactId=&quot;jersey-entity-filtering&quot; version=&quot;2.30.1&quot;/&gt;\r\n    \t&lt;module groupId=&quot;org.glassfish.jersey.media&quot; artifactId=&quot;jersey-media-json-jackson&quot; version=&quot;2.30.1&quot;/&gt;\r\n    \t&lt;module groupId=&quot;com.fasterxml.jackson.core&quot; artifactId=&quot;jackson-annotations&quot; version=&quot;2.10.2&quot;/&gt;\r\n    \t&lt;module groupId=&quot;com.fasterxml.jackson.core&quot; artifactId=&quot;jackson-core&quot; version=&quot;2.10.2&quot;/&gt;\r\n    \t&lt;module groupId=&quot;com.fasterxml.jackson.core&quot; artifactId=&quot;jackson-databind&quot; version=&quot;2.10.2&quot;/&gt;\r\n    \t&lt;module groupId=&quot;com.fasterxml.jackson.module&quot; artifactId=&quot;jackson-module-jaxb-annotations&quot; version=&quot;2.10.2&quot;/&gt;\r\n    \t&lt;module groupId=&quot;com.fasterxml.jackson.jaxrs&quot; artifactId=&quot;jackson-jaxrs-json-provider&quot; version=&quot;2.10.2&quot;/&gt;\r\n    \t&lt;module groupId=&quot;com.fasterxml.jackson.jaxrs&quot; artifactId=&quot;jackson-jaxrs-base&quot; version=&quot;2.10.2&quot;/&gt;\r\n\r\n**EDIT 1**\r\nWhen I change get to post (in javascript and in login service) I get:\r\n\r\n    13:41:00.345 [qtp967677821-38] [WARN] org.glassfish.jersey.servlet.WebComponent - A servlet request to the URI http://127.0.0.1:8080/login contains form parameters in the request body but the request body has been consumed by the servlet or a servlet filter accessing the request parameters. Only resource methods using @FormParam will work as expected. Resource methods consuming the request body by other means will not work as expected.\r\n    13:41:00.359 [qtp967677821-38] [TRACE] org.glassfish.jersey.server.ServerRuntime$Responder - Starting mapping of the exception.\r\n    javax.ws.rs.NotSupportedException: HTTP 415 Unsupported Media Type\r\n    \tat org.glassfish.jersey.server.internal.routing.MethodSelectingRouter.getMethodRouter(MethodSelectingRouter.java:412) ~[jersey-server-2.30.1.jar:?]\r\n    \tat org.glassfish.jersey.server.internal.routing.MethodSelectingRouter.access$000(MethodSelectingRouter.java:73) ~[jersey-server-2.30.1.jar:?]\r\n    \tat org.glassfish.jersey.server.internal.routing.MethodSelectingRouter$4.apply(MethodSelectingRouter.java:665) ~[jersey-server-2.30.1.jar:?]\r\n    \tat org.glassfish.jersey.server.internal.routing.MethodSelectingRouter.apply(MethodSelectingRouter.java:305) ~[jersey-server-2.30.1.jar:?]\r\n    \tat org.glassfish.jersey.server.internal.routing.RoutingStage._apply(RoutingStage.java:86) ~[jersey-server-2.30.1.jar:?]\r\n    \tat org.glassfish.jersey.server.internal.routing.RoutingStage._apply(RoutingStage.java:89) ~[jersey-server-2.30.1.jar:?]\r\n    \tat org.glassfish.jersey.server.internal.routing.RoutingStage._apply(RoutingStage.java:89) ~[jersey-server-2.30.1.jar:?]\r\n    \tat org.glassfish.jersey.server.internal.routing.RoutingStage.apply(RoutingStage.java:69) ~[jersey-server-2.30.1.jar:?]\r\n    \tat org.glassfish.jersey.server.internal.routing.RoutingStage.apply(RoutingStage.java:38) ~[jersey-server-2.30.1.jar:?]\r\n    \tat org.glassfish.jersey.process.internal.Stages.process(Stages.java:173) ~[jersey-common-2.30.1.jar:?]\r\n    \tat org.glassfish.jersey.server.ServerRuntime$1.run(ServerRuntime.java:245) ~[jersey-server-2.30.1.jar:?]\r\n\r\n","title":"How to send json to rest service to make Jersey to parse it as a POJO?","body":"<p>This is my code that makes ajax call using jquery:</p>\n<pre><code>$.get(&quot;/login&quot;, { token: { name:&quot;Donald&quot;, password:&quot;Ducktown&quot; }} , \n     function (data) {\n            console.log(data);\n });\n</code></pre>\n<p>This is my POJO:</p>\n<pre><code>public class Token {\n\n    private String name;\n\n    private String password;\n\n    public Token() {}\n\n    //+getters, setters, toString\n}\n</code></pre>\n<p>This is my rest service:</p>\n<pre><code>@Path(&quot;login&quot;)\npublic class LoginService {\n    \n    private static final Logger logger = LoggerFactory.getLogger(LoginService.class);\n\n    @GET\n    @Consumes(MediaType.APPLICATION_JSON)\n    public void login(Token token) {\n        logger.info(&quot;Token={}&quot;, token);\n    }\n}\n</code></pre>\n<p>And this is output:</p>\n<pre><code>12:16:12.211 [qtp967677821-35] [INFO] com.foo.LoginService - Token=null\n</code></pre>\n<p>Please, say how to send json correctly to make Jersey to parse it as a POJO.</p>\n<p>This is jersey config info, that is printed in logs when Jersey starts:</p>\n<blockquote>\n<p>Root Resource Classes:   com.foo.LoginService</p>\n<p>Pre-match Filters:<br />\norg.apache.shiro.web.jaxrs.SubjectPrincipalRequestFilter</p>\n<p>Global Response Filters:    com.foo.CORSFilter</p>\n<p>Global Reader Interceptors:<br />\norg.glassfish.jersey.server.internal.MappableExceptionWrapperInterceptor</p>\n<p>Global Writer Interceptors:<br />\norg.glassfish.jersey.server.internal.MappableExceptionWrapperInterceptor\norg.glassfish.jersey.server.internal.JsonWithPaddingInterceptor</p>\n<p>Dynamic Features:<br />\norg.apache.shiro.web.jaxrs.ShiroAnnotationFilterFeature@204beb58</p>\n<p>Message Body Readers:<br />\norg.glassfish.jersey.message.internal.RenderedImageProvider<br />\norg.glassfish.jersey.message.internal.SourceProvider$SaxSourceReader<br />\norg.glassfish.jersey.message.internal.FormProvider<br />\norg.glassfish.jersey.message.internal.SourceProvider$DomSourceReader<br />\norg.glassfish.jersey.jackson.internal.jackson.jaxrs.json.JacksonJaxbJsonProvider\norg.glassfish.jersey.message.internal.StringMessageProvider<br />\norg.glassfish.jersey.message.internal.FormMultivaluedMapProvider<br />\norg.glassfish.jersey.message.internal.SourceProvider$StreamSourceReader\norg.glassfish.jersey.message.internal.InputStreamProvider<br />\norg.glassfish.jersey.message.internal.ByteArrayProvider<br />\norg.glassfish.jersey.message.internal.ReaderProvider<br />\norg.glassfish.jersey.message.internal.DataSourceProvider<br />\norg.glassfish.jersey.message.internal.BasicTypesMessageProvider<br />\norg.glassfish.jersey.message.internal.FileProvider</p>\n<p>Message Body Writers:<br />\norg.glassfish.jersey.message.internal.RenderedImageProvider<br />\norg.glassfish.jersey.message.internal.FormProvider<br />\norg.glassfish.jersey.server.ChunkedResponseWriter<br />\norg.glassfish.jersey.server.validation.internal.ValidationErrorMessageBodyWriter\norg.glassfish.jersey.jackson.internal.jackson.jaxrs.json.JacksonJaxbJsonProvider\norg.glassfish.jersey.message.internal.StringMessageProvider<br />\norg.glassfish.jersey.message.internal.FormMultivaluedMapProvider<br />\norg.glassfish.jersey.message.internal.InputStreamProvider<br />\norg.glassfish.jersey.message.internal.SourceProvider$SourceWriter<br />\norg.glassfish.jersey.message.internal.ByteArrayProvider<br />\norg.glassfish.jersey.message.internal.ReaderProvider<br />\norg.glassfish.jersey.message.internal.DataSourceProvider<br />\norg.glassfish.jersey.message.internal.StreamingOutputProvider<br />\norg.glassfish.jersey.message.internal.BasicTypesMessageProvider<br />\norg.glassfish.jersey.message.internal.FileProvider</p>\n</blockquote>\n<p>And these are my dependencies for Jersey. As gson parser I try to use jackson:</p>\n<pre><code>    &lt;module groupId=&quot;jakarta.validation&quot; artifactId=&quot;jakarta.validation-api&quot; version=&quot;2.0.2&quot;/&gt;\n    &lt;module groupId=&quot;com.sun.activation&quot; artifactId=&quot;jakarta.activation&quot; version=&quot;1.2.1&quot;/&gt;\n    &lt;module groupId=&quot;jakarta.ws.rs&quot; artifactId=&quot;jakarta.ws.rs-api&quot; version=&quot;2.1.6&quot;/&gt;\n    &lt;module groupId=&quot;jakarta.xml.bind&quot; artifactId=&quot;jakarta.xml.bind-api&quot; version=&quot;2.3.2&quot;/&gt;\n    &lt;module groupId=&quot;com.google.code.gson&quot; artifactId=&quot;gson&quot; version=&quot;2.8.6&quot;/&gt;\n    &lt;module groupId=&quot;com.fasterxml&quot; artifactId=&quot;classmate&quot; version=&quot;1.5.1&quot;/&gt;\n    &lt;module groupId=&quot;com.sun.xml.bind&quot; artifactId=&quot;jaxb-impl&quot; version=&quot;2.3.2&quot;/&gt;\n    &lt;module groupId=&quot;javax.enterprise&quot; artifactId=&quot;cdi-api&quot; version=&quot;1.1&quot;/&gt;\n    &lt;module groupId=&quot;org.glassfish.hk2.external&quot; artifactId=&quot;jakarta.inject&quot; version=&quot;2.6.1&quot;/&gt;\n    &lt;module groupId=&quot;org.glassfish.hk2&quot; artifactId=&quot;hk2-api&quot; version=&quot;2.6.1&quot;/&gt;\n    &lt;module groupId=&quot;org.glassfish.hk2&quot; artifactId=&quot;hk2-utils&quot; version=&quot;2.6.1&quot;/&gt;\n    &lt;module groupId=&quot;org.glassfish.hk2&quot; artifactId=&quot;hk2-locator&quot; version=&quot;2.6.1&quot;/&gt;\n    &lt;module groupId=&quot;org.glassfish.hk2&quot; artifactId=&quot;spring-bridge&quot; version=&quot;2.6.1&quot;/&gt;\n    &lt;module groupId=&quot;org.glassfish.jersey.containers&quot; artifactId=&quot;jersey-container-jetty-http&quot; version=&quot;2.30.1&quot;/&gt;\n    &lt;module groupId=&quot;org.glassfish.jersey.containers&quot; artifactId=&quot;jersey-container-servlet-core&quot; version=&quot;2.30.1&quot;/&gt;\n    &lt;module groupId=&quot;org.glassfish.jersey.core&quot; artifactId=&quot;jersey-server&quot; version=&quot;2.30.1&quot;/&gt;\n    &lt;module groupId=&quot;org.glassfish.jersey.core&quot; artifactId=&quot;jersey-common&quot; version=&quot;2.30.1&quot;/&gt;\n    &lt;module groupId=&quot;org.glassfish.jersey.core&quot; artifactId=&quot;jersey-client&quot; version=&quot;2.30.1&quot;/&gt;\n    &lt;module groupId=&quot;org.glassfish.jersey.ext&quot; artifactId=&quot;jersey-bean-validation&quot; version=&quot;2.30.1&quot;/&gt;\n    &lt;module groupId=&quot;org.glassfish.jersey.ext.cdi&quot; artifactId=&quot;jersey-cdi1x&quot; version=&quot;2.30.1&quot;/&gt;\n    &lt;module groupId=&quot;org.glassfish.jersey.ext.cdi&quot; artifactId=&quot;jersey-cdi1x-servlet&quot; version=&quot;2.30.1&quot;/&gt;\n    &lt;module groupId=&quot;org.glassfish.jersey.inject&quot; artifactId=&quot;jersey-hk2&quot; version=&quot;2.30.1&quot;/&gt;\n    &lt;module groupId=&quot;org.glassfish.jersey.ext&quot; artifactId=&quot;jersey-spring5&quot; version=&quot;2.30.1&quot;/&gt;\n    &lt;module groupId=&quot;com.sun.istack&quot; artifactId=&quot;istack-commons-runtime&quot; version=&quot;4.0.1&quot;/&gt;\n    &lt;module groupId=&quot;org.javassist&quot; artifactId=&quot;javassist&quot; version=&quot;3.27.0-GA&quot;/&gt;\n\n    &lt;module groupId=&quot;org.glassfish.jersey.ext&quot; artifactId=&quot;jersey-entity-filtering&quot; version=&quot;2.30.1&quot;/&gt;\n    &lt;module groupId=&quot;org.glassfish.jersey.media&quot; artifactId=&quot;jersey-media-json-jackson&quot; version=&quot;2.30.1&quot;/&gt;\n    &lt;module groupId=&quot;com.fasterxml.jackson.core&quot; artifactId=&quot;jackson-annotations&quot; version=&quot;2.10.2&quot;/&gt;\n    &lt;module groupId=&quot;com.fasterxml.jackson.core&quot; artifactId=&quot;jackson-core&quot; version=&quot;2.10.2&quot;/&gt;\n    &lt;module groupId=&quot;com.fasterxml.jackson.core&quot; artifactId=&quot;jackson-databind&quot; version=&quot;2.10.2&quot;/&gt;\n    &lt;module groupId=&quot;com.fasterxml.jackson.module&quot; artifactId=&quot;jackson-module-jaxb-annotations&quot; version=&quot;2.10.2&quot;/&gt;\n    &lt;module groupId=&quot;com.fasterxml.jackson.jaxrs&quot; artifactId=&quot;jackson-jaxrs-json-provider&quot; version=&quot;2.10.2&quot;/&gt;\n    &lt;module groupId=&quot;com.fasterxml.jackson.jaxrs&quot; artifactId=&quot;jackson-jaxrs-base&quot; version=&quot;2.10.2&quot;/&gt;\n</code></pre>\n<p><strong>EDIT 1</strong>\nWhen I change get to post (in javascript and in login service) I get:</p>\n<pre><code>13:41:00.345 [qtp967677821-38] [WARN] org.glassfish.jersey.servlet.WebComponent - A servlet request to the URI http://127.0.0.1:8080/login contains form parameters in the request body but the request body has been consumed by the servlet or a servlet filter accessing the request parameters. Only resource methods using @FormParam will work as expected. Resource methods consuming the request body by other means will not work as expected.\n13:41:00.359 [qtp967677821-38] [TRACE] org.glassfish.jersey.server.ServerRuntime$Responder - Starting mapping of the exception.\njavax.ws.rs.NotSupportedException: HTTP 415 Unsupported Media Type\n    at org.glassfish.jersey.server.internal.routing.MethodSelectingRouter.getMethodRouter(MethodSelectingRouter.java:412) ~[jersey-server-2.30.1.jar:?]\n    at org.glassfish.jersey.server.internal.routing.MethodSelectingRouter.access$000(MethodSelectingRouter.java:73) ~[jersey-server-2.30.1.jar:?]\n    at org.glassfish.jersey.server.internal.routing.MethodSelectingRouter$4.apply(MethodSelectingRouter.java:665) ~[jersey-server-2.30.1.jar:?]\n    at org.glassfish.jersey.server.internal.routing.MethodSelectingRouter.apply(MethodSelectingRouter.java:305) ~[jersey-server-2.30.1.jar:?]\n    at org.glassfish.jersey.server.internal.routing.RoutingStage._apply(RoutingStage.java:86) ~[jersey-server-2.30.1.jar:?]\n    at org.glassfish.jersey.server.internal.routing.RoutingStage._apply(RoutingStage.java:89) ~[jersey-server-2.30.1.jar:?]\n    at org.glassfish.jersey.server.internal.routing.RoutingStage._apply(RoutingStage.java:89) ~[jersey-server-2.30.1.jar:?]\n    at org.glassfish.jersey.server.internal.routing.RoutingStage.apply(RoutingStage.java:69) ~[jersey-server-2.30.1.jar:?]\n    at org.glassfish.jersey.server.internal.routing.RoutingStage.apply(RoutingStage.java:38) ~[jersey-server-2.30.1.jar:?]\n    at org.glassfish.jersey.process.internal.Stages.process(Stages.java:173) ~[jersey-common-2.30.1.jar:?]\n    at org.glassfish.jersey.server.ServerRuntime$1.run(ServerRuntime.java:245) ~[jersey-server-2.30.1.jar:?]\n</code></pre>\n"},{"tags":["java","json","gson"],"comments":[{"owner":{"account_id":16914570,"reputation":1532,"user_id":12232870,"display_name":"terrorrussia-keeps-killing"},"score":0,"creation_date":1643035202,"post_id":70834988,"comment_id":125225900,"body_markdown":"It can be done pretty easy using Gson itself. What have you tried already? _I use Gson for parsing_ -- the code please?","body":"It can be done pretty easy using Gson itself. What have you tried already? <i>I use Gson for parsing</i> -- the code please?"},{"owner":{"account_id":15283593,"reputation":364,"user_id":11027207,"display_name":"AviC"},"score":0,"creation_date":1643039679,"post_id":70834988,"comment_id":125227954,"body_markdown":"Thanks fluffy , glad to understand it possible to flat json using Gson , i use Gson for basic json object extract but not sure where to start to flat json ,hopefully some1 willing to share the approach","body":"Thanks fluffy , glad to understand it possible to flat json using Gson , i use Gson for basic json object extract but not sure where to start to flat json ,hopefully some1 willing to share the approach"},{"owner":{"account_id":16914570,"reputation":1532,"user_id":12232870,"display_name":"terrorrussia-keeps-killing"},"score":1,"creation_date":1643047600,"post_id":70834988,"comment_id":125231202,"body_markdown":"Take a look at `JsonReader` (especially it&#39;s `getPath()` and `.next...()` methods), `JsonWriter`, and use stacked approach or recursion (for example). This is where you could start and basically implement it all.","body":"Take a look at <code>JsonReader</code> (especially it&#39;s <code>getPath()</code> and <code>.next...()</code> methods), <code>JsonWriter</code>, and use stacked approach or recursion (for example). This is where you could start and basically implement it all."},{"owner":{"account_id":15283593,"reputation":364,"user_id":11027207,"display_name":"AviC"},"score":0,"creation_date":1643111058,"post_id":70834988,"comment_id":125247808,"body_markdown":"I edit my post with some pseudo code , would really appreciate if some1 can share some code i could start with","body":"I edit my post with some pseudo code , would really appreciate if some1 can share some code i could start with"},{"owner":{"account_id":16914570,"reputation":1532,"user_id":12232870,"display_name":"terrorrussia-keeps-killing"},"score":0,"creation_date":1643119660,"post_id":70834988,"comment_id":125251004,"body_markdown":"Please re-read my comment above: it has sufficient amount of hints to accomplish your target. Note that you don&#39;t need to deserialize it to `JsonElement`-trees as it consumes more memory. The suggestion I&#39;m suggesting can use streamed approach. Really, `JsonReader` and `JsonWriter` are your only friends here. Good luck!","body":"Please re-read my comment above: it has sufficient amount of hints to accomplish your target. Note that you don&#39;t need to deserialize it to <code>JsonElement</code>-trees as it consumes more memory. The suggestion I&#39;m suggesting can use streamed approach. Really, <code>JsonReader</code> and <code>JsonWriter</code> are your only friends here. Good luck!"}],"owner":{"account_id":15283593,"reputation":364,"user_id":11027207,"display_name":"AviC"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":573,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1643110955,"creation_date":1643032562,"question_id":70834988,"body_markdown":"I need to flatten a JSON strings(nested) using Gson ,\r\n\r\n\r\nGiven:\r\n```json\r\n{\r\n   &quot;name&quot;: &quot;Terry&quot;,\r\n   &quot;addr&quot;: {\r\n       &quot;city&quot;: &quot;NY&quot;,\r\n       &quot;postCode&quot;: 123\r\n   },\r\n   &quot;friends&quot;: [&quot;John&quot;, &quot;Paul&quot;],\r\n   &quot;nestedObject&quot;: { &quot;a&quot;: { &quot;b&quot;: { &quot;c&quot;: {&quot;d&quot;: &quot;nested property&quot; } } } }\r\n}\r\n```\r\n\r\nExpected:\r\n```json\r\n{\r\n  &quot;name&quot; :&quot;Terry&quot;,\r\n  &quot;addr.city&quot;: &quot;NY&quot;,\r\n  &quot;addr.postCode&quot; : 123,\r\n  &quot;friends.0&quot;: &quot;John&quot;,\r\n  &quot;friends.1&quot;:  &quot;Paul&quot;,\r\n  &quot;nestedObject.a.b.c.d&quot;: &quot;nested property&quot;\r\n}\r\n```\r\nor\r\n```json\r\n{\r\n  &quot;name&quot; :&quot;Terry&quot;,\r\n  &quot;addr.city&quot;: &quot;NY&quot;,\r\n  &quot;addr.postCode&quot; : 123,\r\n  &quot;friends[0]&quot;: &quot;John&quot;\r\n  &quot;friends[1]&quot;: &quot;Paul&quot;\r\n  &quot;nestedObject.a.b.c.d&quot;: &quot;nested property&quot;\r\n}\r\n```\r\nReally new to Java and need guidance how to build it up ,\r\n\r\n\r\nMy starting point :\r\n\r\n1.Parse the Json using JsonParser as TreeModel\r\nhttps://www.tutorialspoint.com/gson/gson_tree_model.htm\r\njust found that JsonParser is deprecated :(\r\n\r\nhttps://javadoc.io/doc/com.google.code.gson/gson/latest/com.google.gson/com/google/gson/JsonParser.html\r\n\r\nis there alternative ?\r\n\r\n\r\n2.Recursive function to loop through the Json elements and check\r\nif element is list/dict - case yes , recursive call with all child ,\r\ncase else - append current key and val to some map \r\n\r\nreal pseudo code:\r\n\r\n\r\n```\r\n\r\npublic class Test{\r\n\r\n    public static void main(String[] args) {\r\n\r\n\r\n        String jsonString = &quot;{\\&quot;brand\\&quot; : \\&quot;Toyota\\&quot;, \\&quot;doors\\&quot; : 5}&quot;;\r\n\r\n        JsonObject jsonObject = JsonParser.parseString(jsonString).getAsJsonObject();\r\n\r\n\r\n// Iterate through main key and call FlatJson for each one\r\n// append result to a map \r\n//print result\r\n\r\n```\r\n\r\nFlatJson - for given element ,\r\nextract all child key\r\n\r\n```\r\n    public String FlatJson(  JsonElement jsonElement) {\r\n\r\n        \r\n\r\n        // If input is an array, iterate through each element\r\n        if (jsonElement.isJsonArray()) {\r\n            for (JsonElement jsonElement1 : jsonElement.getAsJsonArray()) {\r\n                // Extract Key Value and return \r\n                    \r\n                \r\n            }\r\n        } else {\r\n\r\n            // If input is object, iterate through the keys\r\n            if (jsonElement.isJsonObject()) {\r\n                Set&lt;Map.Entry&lt;String, JsonElement&gt;&gt; entrySet = jsonElement\r\n                        .getAsJsonObject().entrySet();\r\n                for (Map.Entry&lt;String, JsonElement&gt; entry : entrySet) {\r\n                    // Extract Key Value and return \r\n                    }\r\n\r\n                }\r\n            }\r\n\r\n            // If input is element, check whether it corresponds to the key\r\n            else {\r\n                    // return sonElement.toString() (as\r\n                }\r\n            }\r\n        }\r\n}\r\n````\r\n\r\n","title":"How to flatten JSON using Gson","body":"<p>I need to flatten a JSON strings(nested) using Gson ,</p>\n<p>Given:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n   &quot;name&quot;: &quot;Terry&quot;,\n   &quot;addr&quot;: {\n       &quot;city&quot;: &quot;NY&quot;,\n       &quot;postCode&quot;: 123\n   },\n   &quot;friends&quot;: [&quot;John&quot;, &quot;Paul&quot;],\n   &quot;nestedObject&quot;: { &quot;a&quot;: { &quot;b&quot;: { &quot;c&quot;: {&quot;d&quot;: &quot;nested property&quot; } } } }\n}\n</code></pre>\n<p>Expected:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;name&quot; :&quot;Terry&quot;,\n  &quot;addr.city&quot;: &quot;NY&quot;,\n  &quot;addr.postCode&quot; : 123,\n  &quot;friends.0&quot;: &quot;John&quot;,\n  &quot;friends.1&quot;:  &quot;Paul&quot;,\n  &quot;nestedObject.a.b.c.d&quot;: &quot;nested property&quot;\n}\n</code></pre>\n<p>or</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;name&quot; :&quot;Terry&quot;,\n  &quot;addr.city&quot;: &quot;NY&quot;,\n  &quot;addr.postCode&quot; : 123,\n  &quot;friends[0]&quot;: &quot;John&quot;\n  &quot;friends[1]&quot;: &quot;Paul&quot;\n  &quot;nestedObject.a.b.c.d&quot;: &quot;nested property&quot;\n}\n</code></pre>\n<p>Really new to Java and need guidance how to build it up ,</p>\n<p>My starting point :</p>\n<p>1.Parse the Json using JsonParser as TreeModel\n<a href=\"https://www.tutorialspoint.com/gson/gson_tree_model.htm\" rel=\"nofollow noreferrer\">https://www.tutorialspoint.com/gson/gson_tree_model.htm</a>\njust found that JsonParser is deprecated :(</p>\n<p><a href=\"https://javadoc.io/doc/com.google.code.gson/gson/latest/com.google.gson/com/google/gson/JsonParser.html\" rel=\"nofollow noreferrer\">https://javadoc.io/doc/com.google.code.gson/gson/latest/com.google.gson/com/google/gson/JsonParser.html</a></p>\n<p>is there alternative ?</p>\n<p>2.Recursive function to loop through the Json elements and check\nif element is list/dict - case yes , recursive call with all child ,\ncase else - append current key and val to some map</p>\n<p>real pseudo code:</p>\n<pre><code>\npublic class Test{\n\n    public static void main(String[] args) {\n\n\n        String jsonString = &quot;{\\&quot;brand\\&quot; : \\&quot;Toyota\\&quot;, \\&quot;doors\\&quot; : 5}&quot;;\n\n        JsonObject jsonObject = JsonParser.parseString(jsonString).getAsJsonObject();\n\n\n// Iterate through main key and call FlatJson for each one\n// append result to a map \n//print result\n\n</code></pre>\n<p>FlatJson - for given element ,\nextract all child key</p>\n<pre><code>    public String FlatJson(  JsonElement jsonElement) {\n\n        \n\n        // If input is an array, iterate through each element\n        if (jsonElement.isJsonArray()) {\n            for (JsonElement jsonElement1 : jsonElement.getAsJsonArray()) {\n                // Extract Key Value and return \n                    \n                \n            }\n        } else {\n\n            // If input is object, iterate through the keys\n            if (jsonElement.isJsonObject()) {\n                Set&lt;Map.Entry&lt;String, JsonElement&gt;&gt; entrySet = jsonElement\n                        .getAsJsonObject().entrySet();\n                for (Map.Entry&lt;String, JsonElement&gt; entry : entrySet) {\n                    // Extract Key Value and return \n                    }\n\n                }\n            }\n\n            // If input is element, check whether it corresponds to the key\n            else {\n                    // return sonElement.toString() (as\n                }\n            }\n        }\n}\n</code></pre>\n"},{"tags":["java","android","kotlin","mvvm","android-recyclerview"],"answers":[{"tags":[],"owner":{"account_id":19400960,"reputation":1653,"user_id":14187529,"display_name":"Kamal Nayan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1643093989,"creation_date":1643093080,"answer_id":70844400,"question_id":70844346,"body_markdown":"## ANSWER: ##\r\nIn `onCreate()` before this line `val mainAdapter = MainAdapter(article_)` just initialize the `article_` by writing `article_ = ArrayList()` and the error will be gone. \r\n\r\n**Cause of Error**\r\n\r\nYou are encountering this error because You need to initialize the lateinit variable `article_` before using it and you are not doing it.\r\n\r\nIf you want to check that either the variable is initialized or not then use `::article_.isInitialized`.\r\n\r\n**Feel free to ask if something is unclear.**","title":"data class uniinitialize by lateinit property","body":"<h2>ANSWER:</h2>\n<p>In <code>onCreate()</code> before this line <code>val mainAdapter = MainAdapter(article_)</code> just initialize the <code>article_</code> by writing <code>article_ = ArrayList()</code> and the error will be gone.</p>\n<p><strong>Cause of Error</strong></p>\n<p>You are encountering this error because You need to initialize the lateinit variable <code>article_</code> before using it and you are not doing it.</p>\n<p>If you want to check that either the variable is initialized or not then use <code>::article_.isInitialized</code>.</p>\n<p><strong>Feel free to ask if something is unclear.</strong></p>\n"},{"tags":[],"owner":{"account_id":15989106,"reputation":304,"user_id":11538740,"display_name":"Siddarth Jain"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1643093297,"creation_date":1643093297,"answer_id":70844431,"question_id":70844346,"body_markdown":"Change code like this\r\n`binding = DataBindingUtil.setContentView(this,R.layout.activity_test)\r\narticle_ = ArrayList()`\r\n","title":"data class uniinitialize by lateinit property","body":"<p>Change code like this\n<code>binding = DataBindingUtil.setContentView(this,R.layout.activity_test) article_ = ArrayList()</code></p>\n"},{"tags":[],"owner":{"account_id":5645,"reputation":168050,"user_id":9204,"accept_rate":82,"display_name":"Alexey Romanov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1643110926,"creation_date":1643110926,"answer_id":70848043,"question_id":70844346,"body_markdown":"`lateinit` should only be used when you have a specific reason not to initialize the variable on construction. Here I can see no reason not to make it\r\n\r\n    var article_: List&lt;Article&gt; = listOf()\r\n\r\nor perhaps\r\n\r\n    val article_: MutableList&lt;Article&gt; = mutableListOf()\r\n\r\nand guarantee such error can&#39;t happen in the first place.","title":"data class uniinitialize by lateinit property","body":"<p><code>lateinit</code> should only be used when you have a specific reason not to initialize the variable on construction. Here I can see no reason not to make it</p>\n<pre><code>var article_: List&lt;Article&gt; = listOf()\n</code></pre>\n<p>or perhaps</p>\n<pre><code>val article_: MutableList&lt;Article&gt; = mutableListOf()\n</code></pre>\n<p>and guarantee such error can't happen in the first place.</p>\n"}],"owner":{"account_id":13996530,"reputation":68,"user_id":10109174,"display_name":"Khushbu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1259,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70844400,"answer_count":3,"score":1,"last_activity_date":1643110926,"creation_date":1643092729,"question_id":70844346,"body_markdown":"when i try to initialize data class it gives me error, kotlin.UninitializedPropertyAccessException: lateinit property article_ has not been initialized. How do i resolve this error and whats way to initialize data class.\r\n\r\nmodel class\r\n```\r\ndata class Article(\r\n    val id: Int,\r\n    val author: String,\r\n    val content: String,\r\n    val description: String?)\r\n```\r\nMainActivity\r\n```\r\nclass TestActivity : AppCompatActivity() {\r\n    lateinit var binding: ActivityTestBinding\r\n    lateinit var article_: List&lt;Article&gt;\r\n\r\noverride fun onCreate(savedInstanceState: Bundle?) {\r\n        super.onCreate(savedInstanceState)\r\n        binding = DataBindingUtil.setContentView(this,R.layout.activity_test)\r\n\r\nval mainAdapter = MainAdapter(article_)\r\n        binding.recView.apply {\r\n            this.layoutManager = LinearLayoutManager(this@TestActivity)\r\n            this.adapter = mainAdapter\r\n        }\r\n}\r\n}\r\n```","title":"data class uniinitialize by lateinit property","body":"<p>when i try to initialize data class it gives me error, kotlin.UninitializedPropertyAccessException: lateinit property article_ has not been initialized. How do i resolve this error and whats way to initialize data class.</p>\n<p>model class</p>\n<pre><code>data class Article(\n    val id: Int,\n    val author: String,\n    val content: String,\n    val description: String?)\n</code></pre>\n<p>MainActivity</p>\n<pre><code>class TestActivity : AppCompatActivity() {\n    lateinit var binding: ActivityTestBinding\n    lateinit var article_: List&lt;Article&gt;\n\noverride fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        binding = DataBindingUtil.setContentView(this,R.layout.activity_test)\n\nval mainAdapter = MainAdapter(article_)\n        binding.recView.apply {\n            this.layoutManager = LinearLayoutManager(this@TestActivity)\n            this.adapter = mainAdapter\n        }\n}\n}\n</code></pre>\n"},{"tags":["java","spring","cics"],"answers":[{"tags":[],"owner":{"account_id":1037895,"reputation":66,"user_id":1044617,"display_name":"SoftlySplinter"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1643110756,"creation_date":1643110441,"answer_id":70847924,"question_id":70842612,"body_markdown":"Linking to Java EE POJOs can mean some of the contextual information isn&#39;t available during the link. I can&#39;t say for sure why the problem is intermittent (the error appears to be coming from the Spring framework, which is something the CICS team doesn&#39;t have control over), but I can suggest some ways which could avoid the issue.\r\n\r\n 1. In CICS TS v5.5 we added support for linking to Spring Boot applications directly: https://www.ibm.com/docs/en/cics-ts/5.5?topic=ljesbafcp-preparing-spring-boot-application-be-called-by-cics-program this allows you to use Spring bean injection (`@Autowired`, etc.) in methods annotated `@CICSProgram`.\r\n 2. Alternatively you could be to investigate routing parts of your API directly into the Spring application over HTTP. Coming into CICS via HTTP then linking to OSGi and then to Liberty is going to have increased CPU usage and complexity compared to coming into the Spring application hosted in Liberty via HTTP.\r\n\r\nSpring boot applications are supported in CICS TS v5.4: https://www.ibm.com/docs/en/cics-ts/5.4?topic=server-spring-boot-applications and we have a number of samples which demonstrate how to integrate these applications with CICS, with regards to JCICS, security and transactionality available on github: https://github.com/cicsdev.","title":"NoSuchBeanDefinitionException - Intermittent issue (2+ out of est. 100k transactions encounters this error daily)","body":"<p>Linking to Java EE POJOs can mean some of the contextual information isn't available during the link. I can't say for sure why the problem is intermittent (the error appears to be coming from the Spring framework, which is something the CICS team doesn't have control over), but I can suggest some ways which could avoid the issue.</p>\n<ol>\n<li>In CICS TS v5.5 we added support for linking to Spring Boot applications directly: <a href=\"https://www.ibm.com/docs/en/cics-ts/5.5?topic=ljesbafcp-preparing-spring-boot-application-be-called-by-cics-program\" rel=\"nofollow noreferrer\">https://www.ibm.com/docs/en/cics-ts/5.5?topic=ljesbafcp-preparing-spring-boot-application-be-called-by-cics-program</a> this allows you to use Spring bean injection (<code>@Autowired</code>, etc.) in methods annotated <code>@CICSProgram</code>.</li>\n<li>Alternatively you could be to investigate routing parts of your API directly into the Spring application over HTTP. Coming into CICS via HTTP then linking to OSGi and then to Liberty is going to have increased CPU usage and complexity compared to coming into the Spring application hosted in Liberty via HTTP.</li>\n</ol>\n<p>Spring boot applications are supported in CICS TS v5.4: <a href=\"https://www.ibm.com/docs/en/cics-ts/5.4?topic=server-spring-boot-applications\" rel=\"nofollow noreferrer\">https://www.ibm.com/docs/en/cics-ts/5.4?topic=server-spring-boot-applications</a> and we have a number of samples which demonstrate how to integrate these applications with CICS, with regards to JCICS, security and transactionality available on github: <a href=\"https://github.com/cicsdev\" rel=\"nofollow noreferrer\">https://github.com/cicsdev</a>.</p>\n"}],"owner":{"account_id":23982754,"reputation":11,"user_id":17969927,"display_name":"user9348729357"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":214,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1643110756,"creation_date":1643076040,"question_id":70842612,"body_markdown":"We are using springframework 5.2.3 on a J2EE app over zOS.\r\n\r\nThe flow starts as follows:\r\n1.\tAPI is consumed in zOS via URIMAP configuration, which underlying triggers an OSGi program (Bridge) which is in Java.\r\n2.\tBridge will perform CICS link to POJO class in CICS via main method, hence, POJO will have to rely on web application context to get bean instead of Autowire.\r\n3.\tMain method in CICS will attempt to retrieve XController via the following:\r\n\r\nIn XRController, line 120:\r\n```\r\nprivate XController xController = AppContext.getApplicationContext().getBean(XController.class);\r\n```\r\n\r\nIn AppContext:\r\n```\r\npublic class AppContext {\r\n       \r\n       /** Shared application context for the entire environment */\r\n       private static ApplicationContext applicationContext;\r\n       \r\n       /** Id of the context for the entire environment */\r\n       private static String contextId;\r\n       \r\n       /**\r\n       * Retrieve of current application context based on the \r\n        * respective war file\r\n       * \r\n        * @return the current web application context\r\n       */\r\n       public static ApplicationContext getApplicationContext() {\r\n              ApplicationContext context = ContextLoader.getCurrentWebApplicationContext();\r\n              \r\n              if (context != null) {\r\n                     if (contextId == null || !contextId.equalsIgnoreCase(context.getId())) {\r\n                           applicationContext = context;\r\n                           contextId  = context.getId();\r\n                     }\r\n              }\r\n              \r\n              return applicationContext;\r\n       }\r\n}\r\n```\r\nIn XController:\r\n```\r\n@Controller\r\n@Scope(&quot;prototype&quot;)\r\npublic class XController extends OController {\r\n...\r\n\r\n```\r\n\r\nIn root-context.xml:\r\n```\r\n..\r\n&lt;!-- Scans within the base package of the application for @Component @Service @Entity classes to configure as beans --&gt;\r\n&lt;context:component-scan base-package=&quot;c.a.b.&quot; /&gt;\r\n..\r\n\r\n```\r\n\r\n4. However, out of 100k+ transactions each day, several transactions encounters the following error:\r\n\r\n```\r\n[1/9/22 15:40:29:568 GMT+08:00] 00000075 LogService-147-com.ibm.cics.wlp.link.impl                    E CWWKE0701E: [com.ibm.cics.wlp.link.impl.connector] [CICSMessageWorker] @Error: handleException() - Exception org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type &#39;c.a.b.b.x.c.XController&#39; available\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(DefaultListableBeanFactory.java:351)\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(DefaultListableBeanFactory.java:342)\r\n\tat org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1126)\r\n\tat c.a.b.b.x.b.XRController.&lt;init&gt;(XRController.java:120)\r\n\tat com.ibm.cics.server.invocation.proxy.LinkBean_362be17e6965b072ec596a5c6949dde3.doInvoke(InstanceInvocationProxyTemplate.java:39)\r\n\tat com.ibm.cics.server.invocation.proxy.LinkBean_362be17e6965b072ec596a5c6949dde3.invoke(InstanceInvocationProxyTemplate.java:28)\r\n\tat com.ibm.cics.server.invocation.proxy.EJSLocalNSLLinkBean_362be17e6965b072ec596a5_cd6e4e37.invoke(EJSLocalNSLLinkBean_362be17e6965b072ec596a5_cd6e4e37.java)\r\n\tat com.ibm.cics.wlp.link.impl.ProxiedPOJOLinkableTarget.invoke(ProxiedPOJOLinkableTarget.java:135)\r\n\tat com.ibm.cics.wlp.link.impl.LinkableServicesManagerImpl.invoke(LinkableServicesManagerImpl.java:448)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:90)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:55)\r\n\tat java.lang.reflect.Method.invoke(Method.java:508)\r\n\tat com.ibm.ws.context.service.serializable.ContextualInvocationHandler.invoke(ContextualInvocationHandler.java:77)\r\n\tat com.ibm.ws.context.service.serializable.ContextualInvocationHandler.invoke(ContextualInvocationHandler.java:99)\r\n\tat com.sun.proxy.$Proxy36.invoke(Unknown Source)\r\n\tat com.ibm.cics.wlp.link.impl.connector.CICSMessageWorker.run(CICSMessageWorker.java:187)\r\n\tat com.ibm.ws.jca.inbound.security.JCASecurityContextService$1.run(JCASecurityContextService.java:37)\r\n\tat com.ibm.ws.jca.inbound.security.JCASecurityContextService$1.run(JCASecurityContextService.java:34)\r\n\tat java.security.AccessController.doPrivileged(AccessController.java:708)\r\n\tat javax.security.auth.Subject.doAs(Subject.java:490)\r\n\tat com.ibm.websphere.security.auth.WSSubject.doAs(WSSubject.java:123)\r\n\tat com.ibm.websphere.security.auth.WSSubject.doAs(WSSubject.java:90)\r\n\tat com.ibm.ws.jca.inbound.security.JCASecurityContextService$2.run(JCASecurityContextService.java:44)\r\n\tat com.ibm.ws.jca.inbound.security.JCASecurityContextService$2.run(JCASecurityContextService.java:41)\r\n\tat java.security.AccessController.doPrivileged(AccessController.java:682)\r\n\tat com.ibm.ws.jca.inbound.security.JCASecurityContextService.runInInboundSecurityContext(JCASecurityContextService.java:41)\r\n\tat com.ibm.ws.jca.internal.WorkProxy.run(WorkProxy.java:356)\r\n\tat com.ibm.ws.context.service.serializable.ContextualRunnable.run(ContextualRunnable.java:79)\r\n\tat com.ibm.ws.jca.internal.WorkProxy.call(WorkProxy.java:287)\r\n\tat com.ibm.ws.jca.internal.WorkProxy.call(WorkProxy.java:58)\r\n\tat java.util.concurrent.FutureTask.run(FutureTask.java:277)\r\n\tat com.ibm.ws.threading.internal.ExecutorServiceImpl$RunnableWrapper.run(ExecutorServiceImpl.java:238)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1160)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\r\n\tat com.ibm.cics.wlp.threading.CICSThread.run(CICSThread.java:269)\r\n\tat com.ibm.cics.wlp.threading.CICSPooledThreadFactory.joinAsThreadInternal(CICSPooledThreadFactory.java:426)\r\n\tat com.ibm.cics.wlp.threading.CICSPooledThreadFactory.joinAsThread(CICSPooledThreadFactory.java:352)\r\n\tat com.ibm.cics.server.internal.ThreadJoiner.main(ThreadJoiner.java:109)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:90)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:55)\r\n\tat java.lang.reflect.Method.invoke(Method.java:508)\r\n\tat com.ibm.cics.server.Wrapper.call_main(Wrapper.java:947)\r\n\tat com.ibm.cics.server.Wrapper.callOSGiClass(Wrapper.java:2912)\r\n\tat com.ibm.cics.server.Wrapper.invokeJvmServerOSGiClass(Wrapper.java:2778)\r\n\tat com.ibm.cics.server.Wrapper.jvmServerOSGiEntry(Wrapper.java:2707)\r\n\tat com.ibm.cics.osgi.bundlepart.impl.CICSOSGiBundlepartControllerImpl.runService(CICSOSGiBundlepartControllerImpl.java:1284)\r\n\tat com.ibm.cics.wlp.bundlepart.impl.CICSLibertyBundlepartControllerImpl.runService(CICSLibertyBundlepartControllerImpl.java:975)\r\n\tat com.ibm.cics.osgi.impl.Controller.runService(Controller.java:782)\r\n\tat com.ibm.cics.osgi.impl.Controller.acceptRequest(Controller.java:282)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:90)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:55)\r\n\tat java.lang.reflect.Method.invoke(Method.java:508)\r\n\tat com.ibm.cics.router.Router.route(Router.java:1373)\r\n  \r\n[1/9/22 15:40:29:627 GMT+08:00] 00017616 SystemErr                                                    R 2022/01/09 15:40:29.565000 GMT+08:00 E [BFWXCJ2.TASK49772.BY02:117] [com.ibm.cics.wlp.link.impl.connector] [CICSMessageWorker] @Error: handleException() - Exception\r\norg.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type &#39;c.a.b.b.x.c.XController&#39; available\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(DefaultListableBeanFactory.java:351)\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(DefaultListableBeanFactory.java:342)\r\n\tat org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1126)\r\n\tat c.a.b.b.x.b.XRController.&lt;init&gt;(XRController.java:120)\r\n\tat com.ibm.cics.server.invocation.proxy.LinkBean_362be17e6965b072ec596a5c6949dde3.doInvoke(InstanceInvocationProxyTemplate.java:39)\r\n\tat com.ibm.cics.server.invocation.proxy.LinkBean_362be17e6965b072ec596a5c6949dde3.invoke(InstanceInvocationProxyTemplate.java:28)\r\n\tat com.ibm.cics.server.invocation.proxy.EJSLocalNSLLinkBean_362be17e6965b072ec596a5_cd6e4e37.invoke(EJSLocalNSLLinkBean_362be17e6965b072ec596a5_cd6e4e37.java)\r\n\tat com.ibm.cics.wlp.link.impl.ProxiedPOJOLinkableTarget.invoke(ProxiedPOJOLinkableTarget.java:135)\r\n\tat com.ibm.cics.wlp.link.impl.LinkableServicesManagerImpl.invoke(LinkableServicesManagerImpl.java:448)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:90)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:55)\r\n\tat java.lang.reflect.Method.invoke(Method.java:508)\r\n\tat com.ibm.ws.context.service.serializable.ContextualInvocationHandler.invoke(ContextualInvocationHandler.java:77)\r\n\tat com.ibm.ws.context.service.serializable.ContextualInvocationHandler.invoke(ContextualInvocationHandler.java:99)\r\n\tat com.sun.proxy.$Proxy36.invoke(Unknown Source)\r\n\tat com.ibm.cics.wlp.link.impl.connector.CICSMessageWorker.run(CICSMessageWorker.java:187)\r\n\tat com.ibm.ws.jca.inbound.security.JCASecurityContextService$1.run(JCASecurityContextService.java:37)\r\n\tat com.ibm.ws.jca.inbound.security.JCASecurityContextService$1.run(JCASecurityContextService.java:34)\r\n\tat java.security.AccessController.doPrivileged(AccessController.java:708)\r\n\tat javax.security.auth.Subject.doAs(Subject.java:490)\r\n\tat com.ibm.websphere.security.auth.WSSubject.doAs(WSSubject.java:123)\r\n\tat com.ibm.websphere.security.auth.WSSubject.doAs(WSSubject.java:90)\r\n\tat com.ibm.ws.jca.inbound.security.JCASecurityContextService$2.run(JCASecurityContextService.java:44)\r\n\tat com.ibm.ws.jca.inbound.security.JCASecurityContextService$2.run(JCASecurityContextService.java:41)\r\n\tat java.security.AccessController.doPrivileged(AccessController.java:682)\r\n\tat com.ibm.ws.jca.inbound.security.JCASecurityContextService.runInInboundSecurityContext(JCASecurityContextService.java:41)\r\n\tat com.ibm.ws.jca.internal.WorkProxy.run(WorkProxy.java:356)\r\n\tat com.ibm.ws.context.service.serializable.ContextualRunnable.run(ContextualRunnable.java:79)\r\n\tat com.ibm.ws.jca.internal.WorkProxy.call(WorkProxy.java:287)\r\n\tat com.ibm.ws.jca.internal.WorkProxy.call(WorkProxy.java:58)\r\n\tat java.util.concurrent.FutureTask.run(FutureTask.java:277)\r\n\tat com.ibm.ws.threading.internal.ExecutorServiceImpl$RunnableWrapper.run(ExecutorServiceImpl.java:238)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1160)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\r\n\tat com.ibm.cics.wlp.threading.CICSThread.run(CICSThread.java:269)\r\n\tat com.ibm.cics.wlp.threading.CICSPooledThreadFactory.joinAsThreadInternal(CICSPooledThreadFactory.java:426)\r\n\tat com.ibm.cics.wlp.threading.CICSPooledThreadFactory.joinAsThread(CICSPooledThreadFactory.java:352)\r\n\tat com.ibm.cics.server.internal.ThreadJoiner.main(ThreadJoiner.java:109)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:90)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:55)\r\n\tat java.lang.reflect.Method.invoke(Method.java:508)\r\n\tat com.ibm.cics.server.Wrapper.call_main(Wrapper.java:947)\r\n\tat com.ibm.cics.server.Wrapper.callOSGiClass(Wrapper.java:2912)\r\n\tat com.ibm.cics.server.Wrapper.invokeJvmServerOSGiClass(Wrapper.java:2778)\r\n\tat com.ibm.cics.server.Wrapper.jvmServerOSGiEntry(Wrapper.java:2707)\r\n\tat com.ibm.cics.osgi.bundlepart.impl.CICSOSGiBundlepartControllerImpl.runService(CICSOSGiBundlepartControllerImpl.java:1284)\r\n\tat com.ibm.cics.wlp.bundlepart.impl.CICSLibertyBundlepartControllerImpl.runService(CICSLibertyBundlepartControllerImpl.java:975)\r\n\tat com.ibm.cics.osgi.impl.Controller.runService(Controller.java:782)\r\n\tat com.ibm.cics.osgi.impl.Controller.acceptRequest(Controller.java:282)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:90)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:55)\r\n\tat java.lang.reflect.Method.invoke(Method.java:508)\r\n\tat com.ibm.cics.router.Router.route(Router.java:1373)\r\n[1/9/22 15:40:29:630 GMT+08:00] 00017615 SystemOut                                                    O XC Bridge Error: CICS_ABEND (AJ05)\r\n[1/9/22 15:40:29:685 GMT+08:00] 00000075 com.ibm.ws.logging.internal.impl.IncidentImpl                I FFDC1015I: An FFDC Incident has been created: &quot;java.lang.RuntimeException: AJ05 com.ibm.websphere.security.auth.WSSubject 124&quot; at ffdc_22.01.09_15.40.29.0.log\r\n[1/9/22 15:40:29:689 GMT+08:00] 00000075 LogService-147-com.ibm.cics.wlp.link.impl                    E CWWKE0701E: [com.ibm.cics.wlp.link.impl.connector] [CICSMessageWorkAdapter] @Error: processWorkEvent() - Error occurred while processing com.ibm.cics.wlp.link.impl.connector.CICSMessageWorker@245b4b29 javax.resource.spi.work.WorkCompletedException: java.lang.RuntimeException: AJ05, error code: 0\r\n\tat com.ibm.ws.jca.internal.WorkProxy.call(WorkProxy.java:297)\r\n\tat com.ibm.ws.jca.internal.WorkProxy.call(WorkProxy.java:58)\r\n\tat java.util.concurrent.FutureTask.run(FutureTask.java:277)\r\n\tat com.ibm.ws.threading.internal.ExecutorServiceImpl$RunnableWrapper.run(ExecutorServiceImpl.java:238)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1160)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\r\n\tat com.ibm.cics.wlp.threading.CICSThread.run(CICSThread.java:269)\r\n\tat com.ibm.cics.wlp.threading.CICSPooledThreadFactory.joinAsThreadInternal(CICSPooledThreadFactory.java:426)\r\n\tat com.ibm.cics.wlp.threading.CICSPooledThreadFactory.joinAsThread(CICSPooledThreadFactory.java:352)\r\n\tat com.ibm.cics.server.internal.ThreadJoiner.main(ThreadJoiner.java:109)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:90)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:55)\r\n\tat java.lang.reflect.Method.invoke(Method.java:508)\r\n\tat com.ibm.cics.server.Wrapper.call_main(Wrapper.java:947)\r\n\tat com.ibm.cics.server.Wrapper.callOSGiClass(Wrapper.java:2912)\r\n\tat com.ibm.cics.server.Wrapper.invokeJvmServerOSGiClass(Wrapper.java:2778)\r\n\tat com.ibm.cics.server.Wrapper.jvmServerOSGiEntry(Wrapper.java:2707)\r\n\tat com.ibm.cics.osgi.bundlepart.impl.CICSOSGiBundlepartControllerImpl.runService(CICSOSGiBundlepartControllerImpl.java:1284)\r\n\tat com.ibm.cics.wlp.bundlepart.impl.CICSLibertyBundlepartControllerImpl.runService(CICSLibertyBundlepartControllerImpl.java:975)\r\n\tat com.ibm.cics.osgi.impl.Controller.runService(Controller.java:782)\r\n\tat com.ibm.cics.osgi.impl.Controller.acceptRequest(Controller.java:282)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:90)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:55)\r\n\tat java.lang.reflect.Method.invoke(Method.java:508)\r\n\tat com.ibm.cics.router.Router.route(Router.java:1373)\r\nCaused by: java.lang.RuntimeException: java.lang.RuntimeException: AJ05\r\n\tat com.ibm.websphere.security.auth.WSSubject.doAs(WSSubject.java:127)\r\n\tat com.ibm.websphere.security.auth.WSSubject.doAs(WSSubject.java:90)\r\n\tat com.ibm.ws.jca.inbound.security.JCASecurityContextService$2.run(JCASecurityContextService.java:44)\r\n\tat com.ibm.ws.jca.inbound.security.JCASecurityContextService$2.run(JCASecurityContextService.java:41)\r\n\tat java.security.AccessController.doPrivileged(AccessController.java:682)\r\n\tat com.ibm.ws.jca.inbound.security.JCASecurityContextService.runInInboundSecurityContext(JCASecurityContextService.java:41)\r\n\tat com.ibm.ws.jca.internal.WorkProxy.run(WorkProxy.java:356)\r\n\tat com.ibm.ws.context.service.serializable.ContextualRunnable.run(ContextualRunnable.java:79)\r\n\tat com.ibm.ws.jca.internal.WorkProxy.call(WorkProxy.java:287)\r\n\t... 26 more\r\nCaused by: java.lang.RuntimeException: AJ05\r\n\tat com.ibm.cics.server.Wrapper.handleReturnCode(Wrapper.java:1295)\r\n\tat com.ibm.cics.wlp.link.impl.connector.CICSMessageWorker.handleException(CICSMessageWorker.java:431)\r\n\tat com.ibm.cics.wlp.link.impl.connector.CICSMessageWorker.run(CICSMessageWorker.java:195)\r\n\tat com.ibm.ws.jca.inbound.security.JCASecurityContextService$1.run(JCASecurityContextService.java:37)\r\n\tat com.ibm.ws.jca.inbound.security.JCASecurityContextService$1.run(JCASecurityContextService.java:34)\r\n\tat java.security.AccessController.doPrivileged(AccessController.java:708)\r\n\tat javax.security.auth.Subject.doAs(Subject.java:490)\r\n\tat com.ibm.websphere.security.auth.WSSubject.doAs(WSSubject.java:123)\r\n\t... 34 more\r\nCaused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type &#39;c.a.b.b.x.c.XController&#39; available\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(DefaultListableBeanFactory.java:351)\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(DefaultListableBeanFactory.java:342)\r\n\tat org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1126)\r\n\tat c.a.b.b.x.b.XRController.&lt;init&gt;(XRController.java:120)\r\n\tat com.ibm.cics.server.invocation.proxy.LinkBean_362be17e6965b072ec596a5c6949dde3.doInvoke(InstanceInvocationProxyTemplate.java:39)\r\n\tat com.ibm.cics.server.invocation.proxy.LinkBean_362be17e6965b072ec596a5c6949dde3.invoke(InstanceInvocationProxyTemplate.java:28)\r\n\tat com.ibm.cics.server.invocation.proxy.EJSLocalNSLLinkBean_362be17e6965b072ec596a5_cd6e4e37.invoke(EJSLocalNSLLinkBean_362be17e6965b072ec596a5_cd6e4e37.java)\r\n\tat com.ibm.cics.wlp.link.impl.ProxiedPOJOLinkableTarget.invoke(ProxiedPOJOLinkableTarget.java:135)\r\n\tat com.ibm.cics.wlp.link.impl.LinkableServicesManagerImpl.invoke(LinkableServicesManagerImpl.java:448)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:90)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:55)\r\n\tat java.lang.reflect.Method.invoke(Method.java:508)\r\n\tat com.ibm.ws.context.service.serializable.ContextualInvocationHandler.invoke(ContextualInvocationHandler.java:77)\r\n\tat com.ibm.ws.context.service.serializable.ContextualInvocationHandler.invoke(ContextualInvocationHandler.java:99)\r\n\tat com.sun.proxy.$Proxy36.invoke(Unknown Source)\r\n\tat com.ibm.cics.wlp.link.impl.connector.CICSMessageWorker.run(CICSMessageWorker.java:187)\r\n\t... 39 more\r\n  \r\n[1/9/22 15:40:29:705 GMT+08:00] 00017619 SystemErr                                                    R 2022/01/09 15:40:29.688000 GMT+08:00 E [RUN_SERVICE_Thread-49:117] [com.ibm.cics.wlp.link.impl.connector] [CICSMessageWorkAdapter] @Error: processWorkEvent() - Error occurred while processing com.ibm.cics.wlp.link.impl.connector.CICSMessageWorker@245b4b29\r\njavax.resource.spi.work.WorkCompletedException: java.lang.RuntimeException: AJ05, error code: 0\r\n\tat com.ibm.ws.jca.internal.WorkProxy.call(WorkProxy.java:297)\r\n\tat com.ibm.ws.jca.internal.WorkProxy.call(WorkProxy.java:58)\r\n\tat java.util.concurrent.FutureTask.run(FutureTask.java:277)\r\n\tat com.ibm.ws.threading.internal.ExecutorServiceImpl$RunnableWrapper.run(ExecutorServiceImpl.java:238)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1160)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\r\n\tat com.ibm.cics.wlp.threading.CICSThread.run(CICSThread.java:269)\r\n\tat com.ibm.cics.wlp.threading.CICSPooledThreadFactory.joinAsThreadInternal(CICSPooledThreadFactory.java:426)\r\n\tat com.ibm.cics.wlp.threading.CICSPooledThreadFactory.joinAsThread(CICSPooledThreadFactory.java:352)\r\n\tat com.ibm.cics.server.internal.ThreadJoiner.main(ThreadJoiner.java:109)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:90)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:55)\r\n\tat java.lang.reflect.Method.invoke(Method.java:508)\r\n\tat com.ibm.cics.server.Wrapper.call_main(Wrapper.java:947)\r\n\tat com.ibm.cics.server.Wrapper.callOSGiClass(Wrapper.java:2912)\r\n\tat com.ibm.cics.server.Wrapper.invokeJvmServerOSGiClass(Wrapper.java:2778)\r\n\tat com.ibm.cics.server.Wrapper.jvmServerOSGiEntry(Wrapper.java:2707)\r\n\tat com.ibm.cics.osgi.bundlepart.impl.CICSOSGiBundlepartControllerImpl.runService(CICSOSGiBundlepartControllerImpl.java:1284)\r\n\tat com.ibm.cics.wlp.bundlepart.impl.CICSLibertyBundlepartControllerImpl.runService(CICSLibertyBundlepartControllerImpl.java:975)\r\n\tat com.ibm.cics.osgi.impl.Controller.runService(Controller.java:782)\r\n\tat com.ibm.cics.osgi.impl.Controller.acceptRequest(Controller.java:282)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:90)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:55)\r\n\tat java.lang.reflect.Method.invoke(Method.java:508)\r\n\tat com.ibm.cics.router.Router.route(Router.java:1373)\r\nCaused by: java.lang.RuntimeException: java.lang.RuntimeException: AJ05\r\n\tat com.ibm.websphere.security.auth.WSSubject.doAs(WSSubject.java:127)\r\n\tat com.ibm.websphere.security.auth.WSSubject.doAs(WSSubject.java:90)\r\n\tat com.ibm.ws.jca.inbound.security.JCASecurityContextService$2.run(JCASecurityContextService.java:44)\r\n\tat com.ibm.ws.jca.inbound.security.JCASecurityContextService$2.run(JCASecurityContextService.java:41)\r\n\tat java.security.AccessController.doPrivileged(AccessController.java:682)\r\n\tat com.ibm.ws.jca.inbound.security.JCASecurityContextService.runInInboundSecurityContext(JCASecurityContextService.java:41)\r\n\tat com.ibm.ws.jca.internal.WorkProxy.run(WorkProxy.java:356)\r\n\tat com.ibm.ws.context.service.serializable.ContextualRunnable.run(ContextualRunnable.java:79)\r\n\tat com.ibm.ws.jca.internal.WorkProxy.call(WorkProxy.java:287)\r\n\t... 26 more\r\nCaused by: java.lang.RuntimeException: AJ05\r\n\tat com.ibm.cics.server.Wrapper.handleReturnCode(Wrapper.java:1295)\r\n\tat com.ibm.cics.wlp.link.impl.connector.CICSMessageWorker.handleException(CICSMessageWorker.java:431)\r\n\tat com.ibm.cics.wlp.link.impl.connector.CICSMessageWorker.run(CICSMessageWorker.java:195)\r\n\tat com.ibm.ws.jca.inbound.security.JCASecurityContextService$1.run(JCASecurityContextService.java:37)\r\n\tat com.ibm.ws.jca.inbound.security.JCASecurityContextService$1.run(JCASecurityContextService.java:34)\r\n\tat java.security.AccessController.doPrivileged(AccessController.java:708)\r\n\tat javax.security.auth.Subject.doAs(Subject.java:490)\r\n\tat com.ibm.websphere.security.auth.WSSubject.doAs(WSSubject.java:123)\r\n\t... 34 more\r\nCaused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type &#39;c.a.b.b.x.c.XController&#39; available\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(DefaultListableBeanFactory.java:351)\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(DefaultListableBeanFactory.java:342)\r\n\tat org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1126)\r\n\tat c.a.b.b.x.b.XRController.&lt;init&gt;(XRController.java:120)\r\n\tat com.ibm.cics.server.invocation.proxy.LinkBean_362be17e6965b072ec596a5c6949dde3.doInvoke(InstanceInvocationProxyTemplate.java:39)\r\n\tat com.ibm.cics.server.invocation.proxy.LinkBean_362be17e6965b072ec596a5c6949dde3.invoke(InstanceInvocationProxyTemplate.java:28)\r\n\tat com.ibm.cics.server.invocation.proxy.EJSLocalNSLLinkBean_362be17e6965b072ec596a5_cd6e4e37.invoke(EJSLocalNSLLinkBean_362be17e6965b072ec596a5_cd6e4e37.java)\r\n\tat com.ibm.cics.wlp.link.impl.ProxiedPOJOLinkableTarget.invoke(ProxiedPOJOLinkableTarget.java:135)\r\n\tat com.ibm.cics.wlp.link.impl.LinkableServicesManagerImpl.invoke(LinkableServicesManagerImpl.java:448)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:90)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:55)\r\n\tat java.lang.reflect.Method.invoke(Method.java:508)\r\n\tat com.ibm.ws.context.service.serializable.ContextualInvocationHandler.invoke(ContextualInvocationHandler.java:77)\r\n\tat com.ibm.ws.context.service.serializable.ContextualInvocationHandler.invoke(ContextualInvocationHandler.java:99)\r\n\tat com.sun.proxy.$Proxy36.invoke(Unknown Source)\r\n\tat com.ibm.cics.wlp.link.impl.connector.CICSMessageWorker.run(CICSMessageWorker.java:187)\r\n\t... 39 more\r\n```\r\n","title":"NoSuchBeanDefinitionException - Intermittent issue (2+ out of est. 100k transactions encounters this error daily)","body":"<p>We are using springframework 5.2.3 on a J2EE app over zOS.</p>\n<p>The flow starts as follows:</p>\n<ol>\n<li>API is consumed in zOS via URIMAP configuration, which underlying triggers an OSGi program (Bridge) which is in Java.</li>\n<li>Bridge will perform CICS link to POJO class in CICS via main method, hence, POJO will have to rely on web application context to get bean instead of Autowire.</li>\n<li>Main method in CICS will attempt to retrieve XController via the following:</li>\n</ol>\n<p>In XRController, line 120:</p>\n<pre><code>private XController xController = AppContext.getApplicationContext().getBean(XController.class);\n</code></pre>\n<p>In AppContext:</p>\n<pre><code>public class AppContext {\n       \n       /** Shared application context for the entire environment */\n       private static ApplicationContext applicationContext;\n       \n       /** Id of the context for the entire environment */\n       private static String contextId;\n       \n       /**\n       * Retrieve of current application context based on the \n        * respective war file\n       * \n        * @return the current web application context\n       */\n       public static ApplicationContext getApplicationContext() {\n              ApplicationContext context = ContextLoader.getCurrentWebApplicationContext();\n              \n              if (context != null) {\n                     if (contextId == null || !contextId.equalsIgnoreCase(context.getId())) {\n                           applicationContext = context;\n                           contextId  = context.getId();\n                     }\n              }\n              \n              return applicationContext;\n       }\n}\n</code></pre>\n<p>In XController:</p>\n<pre><code>@Controller\n@Scope(&quot;prototype&quot;)\npublic class XController extends OController {\n...\n\n</code></pre>\n<p>In root-context.xml:</p>\n<pre><code>..\n&lt;!-- Scans within the base package of the application for @Component @Service @Entity classes to configure as beans --&gt;\n&lt;context:component-scan base-package=&quot;c.a.b.&quot; /&gt;\n..\n\n</code></pre>\n<ol start=\"4\">\n<li>However, out of 100k+ transactions each day, several transactions encounters the following error:</li>\n</ol>\n<pre><code>[1/9/22 15:40:29:568 GMT+08:00] 00000075 LogService-147-com.ibm.cics.wlp.link.impl                    E CWWKE0701E: [com.ibm.cics.wlp.link.impl.connector] [CICSMessageWorker] @Error: handleException() - Exception org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'c.a.b.b.x.c.XController' available\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(DefaultListableBeanFactory.java:351)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(DefaultListableBeanFactory.java:342)\n    at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1126)\n    at c.a.b.b.x.b.XRController.&lt;init&gt;(XRController.java:120)\n    at com.ibm.cics.server.invocation.proxy.LinkBean_362be17e6965b072ec596a5c6949dde3.doInvoke(InstanceInvocationProxyTemplate.java:39)\n    at com.ibm.cics.server.invocation.proxy.LinkBean_362be17e6965b072ec596a5c6949dde3.invoke(InstanceInvocationProxyTemplate.java:28)\n    at com.ibm.cics.server.invocation.proxy.EJSLocalNSLLinkBean_362be17e6965b072ec596a5_cd6e4e37.invoke(EJSLocalNSLLinkBean_362be17e6965b072ec596a5_cd6e4e37.java)\n    at com.ibm.cics.wlp.link.impl.ProxiedPOJOLinkableTarget.invoke(ProxiedPOJOLinkableTarget.java:135)\n    at com.ibm.cics.wlp.link.impl.LinkableServicesManagerImpl.invoke(LinkableServicesManagerImpl.java:448)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:90)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:55)\n    at java.lang.reflect.Method.invoke(Method.java:508)\n    at com.ibm.ws.context.service.serializable.ContextualInvocationHandler.invoke(ContextualInvocationHandler.java:77)\n    at com.ibm.ws.context.service.serializable.ContextualInvocationHandler.invoke(ContextualInvocationHandler.java:99)\n    at com.sun.proxy.$Proxy36.invoke(Unknown Source)\n    at com.ibm.cics.wlp.link.impl.connector.CICSMessageWorker.run(CICSMessageWorker.java:187)\n    at com.ibm.ws.jca.inbound.security.JCASecurityContextService$1.run(JCASecurityContextService.java:37)\n    at com.ibm.ws.jca.inbound.security.JCASecurityContextService$1.run(JCASecurityContextService.java:34)\n    at java.security.AccessController.doPrivileged(AccessController.java:708)\n    at javax.security.auth.Subject.doAs(Subject.java:490)\n    at com.ibm.websphere.security.auth.WSSubject.doAs(WSSubject.java:123)\n    at com.ibm.websphere.security.auth.WSSubject.doAs(WSSubject.java:90)\n    at com.ibm.ws.jca.inbound.security.JCASecurityContextService$2.run(JCASecurityContextService.java:44)\n    at com.ibm.ws.jca.inbound.security.JCASecurityContextService$2.run(JCASecurityContextService.java:41)\n    at java.security.AccessController.doPrivileged(AccessController.java:682)\n    at com.ibm.ws.jca.inbound.security.JCASecurityContextService.runInInboundSecurityContext(JCASecurityContextService.java:41)\n    at com.ibm.ws.jca.internal.WorkProxy.run(WorkProxy.java:356)\n    at com.ibm.ws.context.service.serializable.ContextualRunnable.run(ContextualRunnable.java:79)\n    at com.ibm.ws.jca.internal.WorkProxy.call(WorkProxy.java:287)\n    at com.ibm.ws.jca.internal.WorkProxy.call(WorkProxy.java:58)\n    at java.util.concurrent.FutureTask.run(FutureTask.java:277)\n    at com.ibm.ws.threading.internal.ExecutorServiceImpl$RunnableWrapper.run(ExecutorServiceImpl.java:238)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1160)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\n    at com.ibm.cics.wlp.threading.CICSThread.run(CICSThread.java:269)\n    at com.ibm.cics.wlp.threading.CICSPooledThreadFactory.joinAsThreadInternal(CICSPooledThreadFactory.java:426)\n    at com.ibm.cics.wlp.threading.CICSPooledThreadFactory.joinAsThread(CICSPooledThreadFactory.java:352)\n    at com.ibm.cics.server.internal.ThreadJoiner.main(ThreadJoiner.java:109)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:90)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:55)\n    at java.lang.reflect.Method.invoke(Method.java:508)\n    at com.ibm.cics.server.Wrapper.call_main(Wrapper.java:947)\n    at com.ibm.cics.server.Wrapper.callOSGiClass(Wrapper.java:2912)\n    at com.ibm.cics.server.Wrapper.invokeJvmServerOSGiClass(Wrapper.java:2778)\n    at com.ibm.cics.server.Wrapper.jvmServerOSGiEntry(Wrapper.java:2707)\n    at com.ibm.cics.osgi.bundlepart.impl.CICSOSGiBundlepartControllerImpl.runService(CICSOSGiBundlepartControllerImpl.java:1284)\n    at com.ibm.cics.wlp.bundlepart.impl.CICSLibertyBundlepartControllerImpl.runService(CICSLibertyBundlepartControllerImpl.java:975)\n    at com.ibm.cics.osgi.impl.Controller.runService(Controller.java:782)\n    at com.ibm.cics.osgi.impl.Controller.acceptRequest(Controller.java:282)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:90)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:55)\n    at java.lang.reflect.Method.invoke(Method.java:508)\n    at com.ibm.cics.router.Router.route(Router.java:1373)\n  \n[1/9/22 15:40:29:627 GMT+08:00] 00017616 SystemErr                                                    R 2022/01/09 15:40:29.565000 GMT+08:00 E [BFWXCJ2.TASK49772.BY02:117] [com.ibm.cics.wlp.link.impl.connector] [CICSMessageWorker] @Error: handleException() - Exception\norg.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'c.a.b.b.x.c.XController' available\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(DefaultListableBeanFactory.java:351)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(DefaultListableBeanFactory.java:342)\n    at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1126)\n    at c.a.b.b.x.b.XRController.&lt;init&gt;(XRController.java:120)\n    at com.ibm.cics.server.invocation.proxy.LinkBean_362be17e6965b072ec596a5c6949dde3.doInvoke(InstanceInvocationProxyTemplate.java:39)\n    at com.ibm.cics.server.invocation.proxy.LinkBean_362be17e6965b072ec596a5c6949dde3.invoke(InstanceInvocationProxyTemplate.java:28)\n    at com.ibm.cics.server.invocation.proxy.EJSLocalNSLLinkBean_362be17e6965b072ec596a5_cd6e4e37.invoke(EJSLocalNSLLinkBean_362be17e6965b072ec596a5_cd6e4e37.java)\n    at com.ibm.cics.wlp.link.impl.ProxiedPOJOLinkableTarget.invoke(ProxiedPOJOLinkableTarget.java:135)\n    at com.ibm.cics.wlp.link.impl.LinkableServicesManagerImpl.invoke(LinkableServicesManagerImpl.java:448)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:90)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:55)\n    at java.lang.reflect.Method.invoke(Method.java:508)\n    at com.ibm.ws.context.service.serializable.ContextualInvocationHandler.invoke(ContextualInvocationHandler.java:77)\n    at com.ibm.ws.context.service.serializable.ContextualInvocationHandler.invoke(ContextualInvocationHandler.java:99)\n    at com.sun.proxy.$Proxy36.invoke(Unknown Source)\n    at com.ibm.cics.wlp.link.impl.connector.CICSMessageWorker.run(CICSMessageWorker.java:187)\n    at com.ibm.ws.jca.inbound.security.JCASecurityContextService$1.run(JCASecurityContextService.java:37)\n    at com.ibm.ws.jca.inbound.security.JCASecurityContextService$1.run(JCASecurityContextService.java:34)\n    at java.security.AccessController.doPrivileged(AccessController.java:708)\n    at javax.security.auth.Subject.doAs(Subject.java:490)\n    at com.ibm.websphere.security.auth.WSSubject.doAs(WSSubject.java:123)\n    at com.ibm.websphere.security.auth.WSSubject.doAs(WSSubject.java:90)\n    at com.ibm.ws.jca.inbound.security.JCASecurityContextService$2.run(JCASecurityContextService.java:44)\n    at com.ibm.ws.jca.inbound.security.JCASecurityContextService$2.run(JCASecurityContextService.java:41)\n    at java.security.AccessController.doPrivileged(AccessController.java:682)\n    at com.ibm.ws.jca.inbound.security.JCASecurityContextService.runInInboundSecurityContext(JCASecurityContextService.java:41)\n    at com.ibm.ws.jca.internal.WorkProxy.run(WorkProxy.java:356)\n    at com.ibm.ws.context.service.serializable.ContextualRunnable.run(ContextualRunnable.java:79)\n    at com.ibm.ws.jca.internal.WorkProxy.call(WorkProxy.java:287)\n    at com.ibm.ws.jca.internal.WorkProxy.call(WorkProxy.java:58)\n    at java.util.concurrent.FutureTask.run(FutureTask.java:277)\n    at com.ibm.ws.threading.internal.ExecutorServiceImpl$RunnableWrapper.run(ExecutorServiceImpl.java:238)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1160)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\n    at com.ibm.cics.wlp.threading.CICSThread.run(CICSThread.java:269)\n    at com.ibm.cics.wlp.threading.CICSPooledThreadFactory.joinAsThreadInternal(CICSPooledThreadFactory.java:426)\n    at com.ibm.cics.wlp.threading.CICSPooledThreadFactory.joinAsThread(CICSPooledThreadFactory.java:352)\n    at com.ibm.cics.server.internal.ThreadJoiner.main(ThreadJoiner.java:109)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:90)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:55)\n    at java.lang.reflect.Method.invoke(Method.java:508)\n    at com.ibm.cics.server.Wrapper.call_main(Wrapper.java:947)\n    at com.ibm.cics.server.Wrapper.callOSGiClass(Wrapper.java:2912)\n    at com.ibm.cics.server.Wrapper.invokeJvmServerOSGiClass(Wrapper.java:2778)\n    at com.ibm.cics.server.Wrapper.jvmServerOSGiEntry(Wrapper.java:2707)\n    at com.ibm.cics.osgi.bundlepart.impl.CICSOSGiBundlepartControllerImpl.runService(CICSOSGiBundlepartControllerImpl.java:1284)\n    at com.ibm.cics.wlp.bundlepart.impl.CICSLibertyBundlepartControllerImpl.runService(CICSLibertyBundlepartControllerImpl.java:975)\n    at com.ibm.cics.osgi.impl.Controller.runService(Controller.java:782)\n    at com.ibm.cics.osgi.impl.Controller.acceptRequest(Controller.java:282)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:90)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:55)\n    at java.lang.reflect.Method.invoke(Method.java:508)\n    at com.ibm.cics.router.Router.route(Router.java:1373)\n[1/9/22 15:40:29:630 GMT+08:00] 00017615 SystemOut                                                    O XC Bridge Error: CICS_ABEND (AJ05)\n[1/9/22 15:40:29:685 GMT+08:00] 00000075 com.ibm.ws.logging.internal.impl.IncidentImpl                I FFDC1015I: An FFDC Incident has been created: &quot;java.lang.RuntimeException: AJ05 com.ibm.websphere.security.auth.WSSubject 124&quot; at ffdc_22.01.09_15.40.29.0.log\n[1/9/22 15:40:29:689 GMT+08:00] 00000075 LogService-147-com.ibm.cics.wlp.link.impl                    E CWWKE0701E: [com.ibm.cics.wlp.link.impl.connector] [CICSMessageWorkAdapter] @Error: processWorkEvent() - Error occurred while processing com.ibm.cics.wlp.link.impl.connector.CICSMessageWorker@245b4b29 javax.resource.spi.work.WorkCompletedException: java.lang.RuntimeException: AJ05, error code: 0\n    at com.ibm.ws.jca.internal.WorkProxy.call(WorkProxy.java:297)\n    at com.ibm.ws.jca.internal.WorkProxy.call(WorkProxy.java:58)\n    at java.util.concurrent.FutureTask.run(FutureTask.java:277)\n    at com.ibm.ws.threading.internal.ExecutorServiceImpl$RunnableWrapper.run(ExecutorServiceImpl.java:238)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1160)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\n    at com.ibm.cics.wlp.threading.CICSThread.run(CICSThread.java:269)\n    at com.ibm.cics.wlp.threading.CICSPooledThreadFactory.joinAsThreadInternal(CICSPooledThreadFactory.java:426)\n    at com.ibm.cics.wlp.threading.CICSPooledThreadFactory.joinAsThread(CICSPooledThreadFactory.java:352)\n    at com.ibm.cics.server.internal.ThreadJoiner.main(ThreadJoiner.java:109)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:90)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:55)\n    at java.lang.reflect.Method.invoke(Method.java:508)\n    at com.ibm.cics.server.Wrapper.call_main(Wrapper.java:947)\n    at com.ibm.cics.server.Wrapper.callOSGiClass(Wrapper.java:2912)\n    at com.ibm.cics.server.Wrapper.invokeJvmServerOSGiClass(Wrapper.java:2778)\n    at com.ibm.cics.server.Wrapper.jvmServerOSGiEntry(Wrapper.java:2707)\n    at com.ibm.cics.osgi.bundlepart.impl.CICSOSGiBundlepartControllerImpl.runService(CICSOSGiBundlepartControllerImpl.java:1284)\n    at com.ibm.cics.wlp.bundlepart.impl.CICSLibertyBundlepartControllerImpl.runService(CICSLibertyBundlepartControllerImpl.java:975)\n    at com.ibm.cics.osgi.impl.Controller.runService(Controller.java:782)\n    at com.ibm.cics.osgi.impl.Controller.acceptRequest(Controller.java:282)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:90)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:55)\n    at java.lang.reflect.Method.invoke(Method.java:508)\n    at com.ibm.cics.router.Router.route(Router.java:1373)\nCaused by: java.lang.RuntimeException: java.lang.RuntimeException: AJ05\n    at com.ibm.websphere.security.auth.WSSubject.doAs(WSSubject.java:127)\n    at com.ibm.websphere.security.auth.WSSubject.doAs(WSSubject.java:90)\n    at com.ibm.ws.jca.inbound.security.JCASecurityContextService$2.run(JCASecurityContextService.java:44)\n    at com.ibm.ws.jca.inbound.security.JCASecurityContextService$2.run(JCASecurityContextService.java:41)\n    at java.security.AccessController.doPrivileged(AccessController.java:682)\n    at com.ibm.ws.jca.inbound.security.JCASecurityContextService.runInInboundSecurityContext(JCASecurityContextService.java:41)\n    at com.ibm.ws.jca.internal.WorkProxy.run(WorkProxy.java:356)\n    at com.ibm.ws.context.service.serializable.ContextualRunnable.run(ContextualRunnable.java:79)\n    at com.ibm.ws.jca.internal.WorkProxy.call(WorkProxy.java:287)\n    ... 26 more\nCaused by: java.lang.RuntimeException: AJ05\n    at com.ibm.cics.server.Wrapper.handleReturnCode(Wrapper.java:1295)\n    at com.ibm.cics.wlp.link.impl.connector.CICSMessageWorker.handleException(CICSMessageWorker.java:431)\n    at com.ibm.cics.wlp.link.impl.connector.CICSMessageWorker.run(CICSMessageWorker.java:195)\n    at com.ibm.ws.jca.inbound.security.JCASecurityContextService$1.run(JCASecurityContextService.java:37)\n    at com.ibm.ws.jca.inbound.security.JCASecurityContextService$1.run(JCASecurityContextService.java:34)\n    at java.security.AccessController.doPrivileged(AccessController.java:708)\n    at javax.security.auth.Subject.doAs(Subject.java:490)\n    at com.ibm.websphere.security.auth.WSSubject.doAs(WSSubject.java:123)\n    ... 34 more\nCaused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'c.a.b.b.x.c.XController' available\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(DefaultListableBeanFactory.java:351)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(DefaultListableBeanFactory.java:342)\n    at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1126)\n    at c.a.b.b.x.b.XRController.&lt;init&gt;(XRController.java:120)\n    at com.ibm.cics.server.invocation.proxy.LinkBean_362be17e6965b072ec596a5c6949dde3.doInvoke(InstanceInvocationProxyTemplate.java:39)\n    at com.ibm.cics.server.invocation.proxy.LinkBean_362be17e6965b072ec596a5c6949dde3.invoke(InstanceInvocationProxyTemplate.java:28)\n    at com.ibm.cics.server.invocation.proxy.EJSLocalNSLLinkBean_362be17e6965b072ec596a5_cd6e4e37.invoke(EJSLocalNSLLinkBean_362be17e6965b072ec596a5_cd6e4e37.java)\n    at com.ibm.cics.wlp.link.impl.ProxiedPOJOLinkableTarget.invoke(ProxiedPOJOLinkableTarget.java:135)\n    at com.ibm.cics.wlp.link.impl.LinkableServicesManagerImpl.invoke(LinkableServicesManagerImpl.java:448)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:90)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:55)\n    at java.lang.reflect.Method.invoke(Method.java:508)\n    at com.ibm.ws.context.service.serializable.ContextualInvocationHandler.invoke(ContextualInvocationHandler.java:77)\n    at com.ibm.ws.context.service.serializable.ContextualInvocationHandler.invoke(ContextualInvocationHandler.java:99)\n    at com.sun.proxy.$Proxy36.invoke(Unknown Source)\n    at com.ibm.cics.wlp.link.impl.connector.CICSMessageWorker.run(CICSMessageWorker.java:187)\n    ... 39 more\n  \n[1/9/22 15:40:29:705 GMT+08:00] 00017619 SystemErr                                                    R 2022/01/09 15:40:29.688000 GMT+08:00 E [RUN_SERVICE_Thread-49:117] [com.ibm.cics.wlp.link.impl.connector] [CICSMessageWorkAdapter] @Error: processWorkEvent() - Error occurred while processing com.ibm.cics.wlp.link.impl.connector.CICSMessageWorker@245b4b29\njavax.resource.spi.work.WorkCompletedException: java.lang.RuntimeException: AJ05, error code: 0\n    at com.ibm.ws.jca.internal.WorkProxy.call(WorkProxy.java:297)\n    at com.ibm.ws.jca.internal.WorkProxy.call(WorkProxy.java:58)\n    at java.util.concurrent.FutureTask.run(FutureTask.java:277)\n    at com.ibm.ws.threading.internal.ExecutorServiceImpl$RunnableWrapper.run(ExecutorServiceImpl.java:238)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1160)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\n    at com.ibm.cics.wlp.threading.CICSThread.run(CICSThread.java:269)\n    at com.ibm.cics.wlp.threading.CICSPooledThreadFactory.joinAsThreadInternal(CICSPooledThreadFactory.java:426)\n    at com.ibm.cics.wlp.threading.CICSPooledThreadFactory.joinAsThread(CICSPooledThreadFactory.java:352)\n    at com.ibm.cics.server.internal.ThreadJoiner.main(ThreadJoiner.java:109)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:90)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:55)\n    at java.lang.reflect.Method.invoke(Method.java:508)\n    at com.ibm.cics.server.Wrapper.call_main(Wrapper.java:947)\n    at com.ibm.cics.server.Wrapper.callOSGiClass(Wrapper.java:2912)\n    at com.ibm.cics.server.Wrapper.invokeJvmServerOSGiClass(Wrapper.java:2778)\n    at com.ibm.cics.server.Wrapper.jvmServerOSGiEntry(Wrapper.java:2707)\n    at com.ibm.cics.osgi.bundlepart.impl.CICSOSGiBundlepartControllerImpl.runService(CICSOSGiBundlepartControllerImpl.java:1284)\n    at com.ibm.cics.wlp.bundlepart.impl.CICSLibertyBundlepartControllerImpl.runService(CICSLibertyBundlepartControllerImpl.java:975)\n    at com.ibm.cics.osgi.impl.Controller.runService(Controller.java:782)\n    at com.ibm.cics.osgi.impl.Controller.acceptRequest(Controller.java:282)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:90)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:55)\n    at java.lang.reflect.Method.invoke(Method.java:508)\n    at com.ibm.cics.router.Router.route(Router.java:1373)\nCaused by: java.lang.RuntimeException: java.lang.RuntimeException: AJ05\n    at com.ibm.websphere.security.auth.WSSubject.doAs(WSSubject.java:127)\n    at com.ibm.websphere.security.auth.WSSubject.doAs(WSSubject.java:90)\n    at com.ibm.ws.jca.inbound.security.JCASecurityContextService$2.run(JCASecurityContextService.java:44)\n    at com.ibm.ws.jca.inbound.security.JCASecurityContextService$2.run(JCASecurityContextService.java:41)\n    at java.security.AccessController.doPrivileged(AccessController.java:682)\n    at com.ibm.ws.jca.inbound.security.JCASecurityContextService.runInInboundSecurityContext(JCASecurityContextService.java:41)\n    at com.ibm.ws.jca.internal.WorkProxy.run(WorkProxy.java:356)\n    at com.ibm.ws.context.service.serializable.ContextualRunnable.run(ContextualRunnable.java:79)\n    at com.ibm.ws.jca.internal.WorkProxy.call(WorkProxy.java:287)\n    ... 26 more\nCaused by: java.lang.RuntimeException: AJ05\n    at com.ibm.cics.server.Wrapper.handleReturnCode(Wrapper.java:1295)\n    at com.ibm.cics.wlp.link.impl.connector.CICSMessageWorker.handleException(CICSMessageWorker.java:431)\n    at com.ibm.cics.wlp.link.impl.connector.CICSMessageWorker.run(CICSMessageWorker.java:195)\n    at com.ibm.ws.jca.inbound.security.JCASecurityContextService$1.run(JCASecurityContextService.java:37)\n    at com.ibm.ws.jca.inbound.security.JCASecurityContextService$1.run(JCASecurityContextService.java:34)\n    at java.security.AccessController.doPrivileged(AccessController.java:708)\n    at javax.security.auth.Subject.doAs(Subject.java:490)\n    at com.ibm.websphere.security.auth.WSSubject.doAs(WSSubject.java:123)\n    ... 34 more\nCaused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'c.a.b.b.x.c.XController' available\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(DefaultListableBeanFactory.java:351)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(DefaultListableBeanFactory.java:342)\n    at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1126)\n    at c.a.b.b.x.b.XRController.&lt;init&gt;(XRController.java:120)\n    at com.ibm.cics.server.invocation.proxy.LinkBean_362be17e6965b072ec596a5c6949dde3.doInvoke(InstanceInvocationProxyTemplate.java:39)\n    at com.ibm.cics.server.invocation.proxy.LinkBean_362be17e6965b072ec596a5c6949dde3.invoke(InstanceInvocationProxyTemplate.java:28)\n    at com.ibm.cics.server.invocation.proxy.EJSLocalNSLLinkBean_362be17e6965b072ec596a5_cd6e4e37.invoke(EJSLocalNSLLinkBean_362be17e6965b072ec596a5_cd6e4e37.java)\n    at com.ibm.cics.wlp.link.impl.ProxiedPOJOLinkableTarget.invoke(ProxiedPOJOLinkableTarget.java:135)\n    at com.ibm.cics.wlp.link.impl.LinkableServicesManagerImpl.invoke(LinkableServicesManagerImpl.java:448)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:90)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:55)\n    at java.lang.reflect.Method.invoke(Method.java:508)\n    at com.ibm.ws.context.service.serializable.ContextualInvocationHandler.invoke(ContextualInvocationHandler.java:77)\n    at com.ibm.ws.context.service.serializable.ContextualInvocationHandler.invoke(ContextualInvocationHandler.java:99)\n    at com.sun.proxy.$Proxy36.invoke(Unknown Source)\n    at com.ibm.cics.wlp.link.impl.connector.CICSMessageWorker.run(CICSMessageWorker.java:187)\n    ... 39 more\n</code></pre>\n"},{"tags":["java","mysql","jdbc"],"answers":[{"tags":[],"owner":{"account_id":5113,"reputation":575,"user_id":8054,"display_name":"Nicholas"},"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1221576761,"creation_date":1221576761,"answer_id":73197,"question_id":73109,"body_markdown":"Well you can make it ignore the error by doing an INSERT IGNORE which will just truncate the data and insert it anyway. (from http://dev.mysql.com/doc/refman/5.0/en/insert.html )\r\n\r\n&gt; If you use the IGNORE keyword, errors\r\n&gt; that occur while executing the INSERT\r\n&gt; statement are treated as warnings\r\n&gt; instead. For example, without IGNORE,\r\n&gt; a row that duplicates an existing\r\n&gt; UNIQUE index or PRIMARY KEY value in\r\n&gt; the table causes a duplicate-key error\r\n&gt; and the statement is aborted. With\r\n&gt; IGNORE, the row still is not inserted,\r\n&gt; but no error is issued. Data\r\n&gt; conversions that would trigger errors\r\n&gt; abort the statement if IGNORE is not\r\n&gt; specified. With IGNORE, invalid values\r\n&gt; are adjusted to the closest values and\r\n&gt; inserted; warnings are produced but\r\n&gt; the statement does not abort.\r\n\r\n","title":"How to fix MySQL Data Truncation Error when inserting a lot of data?","body":"<p>Well you can make it ignore the error by doing an INSERT IGNORE which will just truncate the data and insert it anyway. (from <a href=\"http://dev.mysql.com/doc/refman/5.0/en/insert.html\" rel=\"noreferrer\">http://dev.mysql.com/doc/refman/5.0/en/insert.html</a> )</p>\n\n<blockquote>\n  <p>If you use the IGNORE keyword, errors\n  that occur while executing the INSERT\n  statement are treated as warnings\n  instead. For example, without IGNORE,\n  a row that duplicates an existing\n  UNIQUE index or PRIMARY KEY value in\n  the table causes a duplicate-key error\n  and the statement is aborted. With\n  IGNORE, the row still is not inserted,\n  but no error is issued. Data\n  conversions that would trigger errors\n  abort the statement if IGNORE is not\n  specified. With IGNORE, invalid values\n  are adjusted to the closest values and\n  inserted; warnings are produced but\n  the statement does not abort.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":6601,"reputation":2403,"user_id":11176,"accept_rate":100,"display_name":"Aaron"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1221576920,"creation_date":1221576920,"answer_id":73232,"question_id":73109,"body_markdown":"It sounds to me like you are trying to put too many bytes into a column. I ran across a very similar error with MySQL last night due to a bug in my code. I meant to do \r\n\r\n    foo.status = &#39;inactive&#39;\r\n\r\nbut had actually typed\r\n\r\n    foo.state = &#39;inactive&#39;\r\n\r\nWhere foo.state is supposed to be a two character code for a US State ( varchar(2) ). I got the same error as you. You might go look for a similar situation in your code.\r\n\r\n","title":"How to fix MySQL Data Truncation Error when inserting a lot of data?","body":"<p>It sounds to me like you are trying to put too many bytes into a column. I ran across a very similar error with MySQL last night due to a bug in my code. I meant to do </p>\n\n<pre><code>foo.status = 'inactive'\n</code></pre>\n\n<p>but had actually typed</p>\n\n<pre><code>foo.state = 'inactive'\n</code></pre>\n\n<p>Where foo.state is supposed to be a two character code for a US State ( varchar(2) ). I got the same error as you. You might go look for a similar situation in your code.</p>\n"},{"tags":[],"owner":{"account_id":1207,"reputation":19992,"user_id":1605,"accept_rate":100,"display_name":"Avi"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1221639664,"creation_date":1221577891,"answer_id":73397,"question_id":73109,"body_markdown":"Check that your UTF-8 data is all 3-byte Unicode. If you have 4-byte characters (legal in Unicode and Java, illegal in MySQL 5), it can throw this error when you try to insert them. This is an [issue that should be fixed][1] in MySQL 6.0.\r\n\r\n\r\n  [1]: http://bugs.mysql.com/bug.php?id=25666","title":"How to fix MySQL Data Truncation Error when inserting a lot of data?","body":"<p>Check that your UTF-8 data is all 3-byte Unicode. If you have 4-byte characters (legal in Unicode and Java, illegal in MySQL 5), it can throw this error when you try to insert them. This is an <a href=\"http://bugs.mysql.com/bug.php?id=25666\" rel=\"noreferrer\">issue that should be fixed</a> in MySQL 6.0.</p>\n"},{"tags":[],"owner":{"account_id":877456,"reputation":188,"user_id":136373,"display_name":"Szemere"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1247241982,"creation_date":1247241982,"answer_id":1110486,"question_id":73109,"body_markdown":"I just hit this problem and solved it by removing all the non-standard ascii characters in my text (following the UTF-8 advice above).\r\n\r\nI had the problem on a Debian 4, Java 5 system; but the same code worked fine with Ubuntu 9.04, Java 6. Both run MySql 5.","title":"How to fix MySQL Data Truncation Error when inserting a lot of data?","body":"<p>I just hit this problem and solved it by removing all the non-standard ascii characters in my text (following the UTF-8 advice above).</p>\n\n<p>I had the problem on a Debian 4, Java 5 system; but the same code worked fine with Ubuntu 9.04, Java 6. Both run MySql 5.</p>\n"},{"tags":[],"owner":{"account_id":1046361,"reputation":3508,"user_id":1051262,"display_name":"grigson"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1390286282,"creation_date":1350388926,"answer_id":12914251,"question_id":73109,"body_markdown":"In mysql you can use `MEDIUMTEXT` or `LONGTEXT` field type for large text data","title":"How to fix MySQL Data Truncation Error when inserting a lot of data?","body":"<p>In mysql you can use <code>MEDIUMTEXT</code> or <code>LONGTEXT</code> field type for large text data</p>\n"}],"owner":{"display_name":"Jeremy Witmer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49000,"favorite_count":0,"down_vote_count":1,"up_vote_count":14,"answer_count":5,"score":13,"last_activity_date":1643110364,"creation_date":1221576276,"question_id":73109,"body_markdown":"I&#39;m working with a fairly simple database, from a Java application.  We&#39;re trying to insert about 200k of text at a time, using the standard JDBC mysql adapter.  We intermittently get a `com.mysql.jdbc.MysqlDataTruncation: Data truncation: Data too long for column error.`  \r\n\r\nThe column type is `longtext`, and database collation is `UTF-8`.  The error shows up using both `MyISAM` and `InnoDB` table engines.  Max packet size has been set ot 1 GB on both client and server sides, so that shouldn&#39;t be causing a problem, either.","title":"How to fix MySQL Data Truncation Error when inserting a lot of data?","body":"<p>I'm working with a fairly simple database, from a Java application.  We're trying to insert about 200k of text at a time, using the standard JDBC mysql adapter.  We intermittently get a <code>com.mysql.jdbc.MysqlDataTruncation: Data truncation: Data too long for column error.</code></p>\n<p>The column type is <code>longtext</code>, and database collation is <code>UTF-8</code>.  The error shows up using both <code>MyISAM</code> and <code>InnoDB</code> table engines.  Max packet size has been set ot 1 GB on both client and server sides, so that shouldn't be causing a problem, either.</p>\n"},{"tags":["java","mongodb","mongodb-java","mongo-java","mongo-java-driver"],"answers":[{"tags":[],"owner":{"account_id":3175948,"reputation":74316,"user_id":2683814,"accept_rate":100,"display_name":"s7vr"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1643110182,"creation_date":1487431282,"answer_id":42316993,"question_id":42316749,"body_markdown":"Both variants you have are treating the value of `BasicDBObject` as `String`.\r\n\r\n\r\nUse \r\n\r\n    searchQuery.put(&quot;arrayMine&quot;, new BasicDBObject(&quot;$in&quot;, Arrays.asList(&quot;xxx&quot;))        \r\n","title":"Find documents with array that contains a specific value in mongodb using java","body":"<p>Both variants you have are treating the value of <code>BasicDBObject</code> as <code>String</code>.</p>\n<p>Use</p>\n<pre><code>searchQuery.put(&quot;arrayMine&quot;, new BasicDBObject(&quot;$in&quot;, Arrays.asList(&quot;xxx&quot;))        \n</code></pre>\n"}],"owner":{"account_id":7006242,"reputation":840,"user_id":5370518,"accept_rate":94,"display_name":"Chit Khine"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3159,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":42316993,"answer_count":1,"score":2,"last_activity_date":1643110182,"creation_date":1487429897,"question_id":42316749,"body_markdown":"According to the answer provided in this link:  https://stackoverflow.com/questions/18148166/find-document-with-array-that-contains-a-specific-value, i have tried getting the items in java using this statement\r\n\r\n    searchQuery.put(&quot;arrayMine&quot;, new BasicDBObject(&quot;$in&quot;,&quot;[xxx]&quot;));\r\n    OR\r\n    searchQuery.put(&quot;arrayMine&quot;, new BasicDBObject(&quot;$in&quot;,&quot;xxx&quot;));\r\n\r\nBut it keeps saying the $in value must be an array while my arrayMine is an array. What should be the correct syntax in java?","title":"Find documents with array that contains a specific value in mongodb using java","body":"<p>According to the answer provided in this link:  <a href=\"https://stackoverflow.com/questions/18148166/find-document-with-array-that-contains-a-specific-value\">Find document with array that contains a specific value</a>, i have tried getting the items in java using this statement</p>\n\n<pre><code>searchQuery.put(\"arrayMine\", new BasicDBObject(\"$in\",\"[xxx]\"));\nOR\nsearchQuery.put(\"arrayMine\", new BasicDBObject(\"$in\",\"xxx\"));\n</code></pre>\n\n<p>But it keeps saying the $in value must be an array while my arrayMine is an array. What should be the correct syntax in java?</p>\n"},{"tags":["java","encoding","hmac"],"answers":[{"tags":[],"owner":{"account_id":13938739,"reputation":116,"user_id":10065168,"display_name":"ACMattos"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643110165,"creation_date":1643110165,"answer_id":70847863,"question_id":67323992,"body_markdown":"Have you tried adding to your pom.xml:\r\n\r\n\r\n    &lt;dependency&gt;\r\n     &lt;groupId&gt;commons-codec&lt;/groupId&gt;\r\n     &lt;artifactId&gt;commons-codec&lt;/artifactId&gt;\r\n     &lt;version&gt;1.15&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nAnd then use this piece of code:\r\n\r\n    String jsonBodyAsString = &quot;{\\&quot;notificationId\\&quot;:\\&quot;ff8acc67-a473-4550-8e13-da30ed54ab7d\\&quot;,\\&quot;eventType\\&quot;:\\&quot;net.authorize.customer.deleted\\&quot;,\\&quot;eventDate\\&quot;:\\&quot;2017-04-15T20:39:48.68994Z\\&quot;,\\&quot;webhookId\\&quot;:\\&quot;5eca3570-70a4-4293-aec1-5fa7bdf0183b\\&quot;,\\&quot;payload\\&quot;:{\\&quot;entityName\\&quot;:\\&quot;customerProfile\\&quot;,\\&quot;id\\&quot;:\\&quot;1811525753\\&quot;}}&quot;;\r\n    String signatureKey = &quot;D6D1EA140DA71FF6B7AB7D...CHANGE_TO_YOUR_SIGNATURE_KEY&quot;;\r\n    String xApiSignature = request.getHeader(&quot;X-API-Signature&quot;);\r\n    \r\n    String hashOfBody = new HmacUtils(HmacAlgorithms.HMAC_SHA_512, signatureKey)\r\n       .hmacHex(jsonBodyAsString);\r\n    Boolean result = xApiSignature.equalsIgnoreCase(hashOfBody);\r\n    \r\n    assertTrue(result);\r\n\r\nI could make it work with this approach.","title":"How to generate HMAC SHA 512 in Java?","body":"<p>Have you tried adding to your pom.xml:</p>\n<pre><code>&lt;dependency&gt;\n &lt;groupId&gt;commons-codec&lt;/groupId&gt;\n &lt;artifactId&gt;commons-codec&lt;/artifactId&gt;\n &lt;version&gt;1.15&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>And then use this piece of code:</p>\n<pre><code>String jsonBodyAsString = &quot;{\\&quot;notificationId\\&quot;:\\&quot;ff8acc67-a473-4550-8e13-da30ed54ab7d\\&quot;,\\&quot;eventType\\&quot;:\\&quot;net.authorize.customer.deleted\\&quot;,\\&quot;eventDate\\&quot;:\\&quot;2017-04-15T20:39:48.68994Z\\&quot;,\\&quot;webhookId\\&quot;:\\&quot;5eca3570-70a4-4293-aec1-5fa7bdf0183b\\&quot;,\\&quot;payload\\&quot;:{\\&quot;entityName\\&quot;:\\&quot;customerProfile\\&quot;,\\&quot;id\\&quot;:\\&quot;1811525753\\&quot;}}&quot;;\nString signatureKey = &quot;D6D1EA140DA71FF6B7AB7D...CHANGE_TO_YOUR_SIGNATURE_KEY&quot;;\nString xApiSignature = request.getHeader(&quot;X-API-Signature&quot;);\n\nString hashOfBody = new HmacUtils(HmacAlgorithms.HMAC_SHA_512, signatureKey)\n   .hmacHex(jsonBodyAsString);\nBoolean result = xApiSignature.equalsIgnoreCase(hashOfBody);\n\nassertTrue(result);\n</code></pre>\n<p>I could make it work with this approach.</p>\n"}],"owner":{"account_id":15065067,"reputation":859,"user_id":12276316,"display_name":"andrew17"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":661,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1643110165,"creation_date":1619724881,"question_id":67323992,"body_markdown":"I have to validate HMAC that I receive from webhook header.\r\n\r\nDocumenation says:\r\n`API uses HMAC (hash-based message authentication code) with the SHA-512 hash function for additional authentication. To validate against X-API-Signature, you will need to compare its value with an HMAC you have generated using the hexadecimal format of your webhook secrets and the full body of the webhook POST request in raw bytes.`\r\n\r\nWhat I am doing:\r\n\r\n```java\r\npublic String getHMACHashString(String body) throws UnsupportedEncodingException {\r\n  return \r\n       new HmacUtils(HMAC_SHA_512, String.valueOf(Hex.encodeHex(this.webhookSecret.getBytes())))\r\n       .hmacHex(body.getBytes());\r\n}\r\n\r\npublic boolean isValidHMAC(String body, String externalHMAC) throws UnsupportedEncodingException {\r\n    return this.getHMACHashString(body).equals(externalHMAC);\r\n  }\r\n\r\n```\r\n\r\nI have tried many many ways of `new HmacUtils` argumets including byte arrays/string, different StandardCharsets, etc. Nothing worked for me... \r\n\r\nDebugging results:\r\n**All of tries generated HMAC that is not equals HMAC that I receive from webhook.**\r\n\r\nWhere did I make mistake?","title":"How to generate HMAC SHA 512 in Java?","body":"<p>I have to validate HMAC that I receive from webhook header.</p>\n<p>Documenation says:\n<code>API uses HMAC (hash-based message authentication code) with the SHA-512 hash function for additional authentication. To validate against X-API-Signature, you will need to compare its value with an HMAC you have generated using the hexadecimal format of your webhook secrets and the full body of the webhook POST request in raw bytes.</code></p>\n<p>What I am doing:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public String getHMACHashString(String body) throws UnsupportedEncodingException {\n  return \n       new HmacUtils(HMAC_SHA_512, String.valueOf(Hex.encodeHex(this.webhookSecret.getBytes())))\n       .hmacHex(body.getBytes());\n}\n\npublic boolean isValidHMAC(String body, String externalHMAC) throws UnsupportedEncodingException {\n    return this.getHMACHashString(body).equals(externalHMAC);\n  }\n\n</code></pre>\n<p>I have tried many many ways of <code>new HmacUtils</code> argumets including byte arrays/string, different StandardCharsets, etc. Nothing worked for me...</p>\n<p>Debugging results:\n<strong>All of tries generated HMAC that is not equals HMAC that I receive from webhook.</strong></p>\n<p>Where did I make mistake?</p>\n"},{"tags":["java","android","android-studio","android-intent"],"answers":[{"tags":[],"owner":{"account_id":11159794,"reputation":1257,"user_id":8190327,"display_name":"Abdullah Z Khan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643093024,"creation_date":1643093024,"answer_id":70844393,"question_id":70844323,"body_markdown":"Pending intent mutability flag error isn&#39;t necessarily where the stacktrace was thrown(from experience), try to search the project of any of your code uses pending intents without setting the mutability flag.","title":"Android 12: SDK(31) unable to launch activity using intents","body":"<p>Pending intent mutability flag error isn't necessarily where the stacktrace was thrown(from experience), try to search the project of any of your code uses pending intents without setting the mutability flag.</p>\n"},{"tags":[],"owner":{"account_id":14622815,"reputation":257,"user_id":10560949,"display_name":"Jay Panchal"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1643110058,"creation_date":1643110058,"answer_id":70847842,"question_id":70844323,"body_markdown":"Just add this library in your gradle...\r\n\r\n    implementation &#39;androidx.work:work-runtime-ktx:2.7.0-alpha05&#39;\r\n\r\nWork for me...\r\n","title":"Android 12: SDK(31) unable to launch activity using intents","body":"<p>Just add this library in your gradle...</p>\n<pre><code>implementation 'androidx.work:work-runtime-ktx:2.7.0-alpha05'\n</code></pre>\n<p>Work for me...</p>\n"}],"owner":{"account_id":21725019,"reputation":96,"user_id":16034574,"display_name":"Soumil Tewari"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1513,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1643110058,"creation_date":1643092495,"question_id":70844323,"body_markdown":"This is the code -    \r\n\r\n    if (Build.VERSION.SDK_INT &gt;= 31) {\r\n                Intent intent=new Intent(launcher.this,MainActivity.class);\r\n                startActivity(intent);\r\n                finish();\r\n            }\r\n    \r\nI am getting this error-\r\nConsole error-\r\n\r\n  \r\n\r\n   Targeting S+ (version 31 and above) requires that one of FLAG_IMMUTABLE or FLAG_MUTABLE be specified when creating a PendingIntent.\r\n    Strongly consider using FLAG_IMMUTABLE, only use FLAG_MUTABLE if some functionality depends on the PendingIntent being mutable, e.g. if it needs to be used with inline replies or bubbles.\r\n        at android.app.PendingIntent.checkFlags(PendingIntent.java:375)","title":"Android 12: SDK(31) unable to launch activity using intents","body":"<p>This is the code -</p>\n<pre><code>if (Build.VERSION.SDK_INT &gt;= 31) {\n            Intent intent=new Intent(launcher.this,MainActivity.class);\n            startActivity(intent);\n            finish();\n        }\n</code></pre>\n<p>I am getting this error-\nConsole error-</p>\n<p>Targeting S+ (version 31 and above) requires that one of FLAG_IMMUTABLE or FLAG_MUTABLE be specified when creating a PendingIntent.\nStrongly consider using FLAG_IMMUTABLE, only use FLAG_MUTABLE if some functionality depends on the PendingIntent being mutable, e.g. if it needs to be used with inline replies or bubbles.\nat android.app.PendingIntent.checkFlags(PendingIntent.java:375)</p>\n"},{"tags":["java","java-stream"],"comments":[{"owner":{"account_id":15882815,"reputation":45,"user_id":11460115,"display_name":"robertsci"},"score":0,"creation_date":1642753068,"post_id":70798089,"comment_id":125160526,"body_markdown":"no, it&#39;s just an action that i want to do, if the predicate matches.\nbasically i want ```.anyMatch()``` to return ```true``` if the instance of ```Buzz.class``` exist in the key set. \n\nMy issue is that the key set is formed of keys of type ```Class```","body":"no, it&#39;s just an action that i want to do, if the predicate matches. basically i want <code>.anyMatch()</code> to return <code>true</code> if the instance of <code>Buzz.class</code> exist in the key set.   My issue is that the key set is formed of keys of type <code>Class</code>"},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":0,"creation_date":1642753475,"post_id":70798089,"comment_id":125160646,"body_markdown":"Do you know about the `containsKey` method on `Map`?","body":"Do you know about the <code>containsKey</code> method on <code>Map</code>?"}],"answers":[{"tags":[],"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1642784249,"creation_date":1642753429,"answer_id":70798316,"question_id":70798089,"body_markdown":"Your attempt is almost there:\r\n\r\n    Map&lt;Class&lt;? extends Fizz&gt;, List&lt;Fizz&gt;&gt; map = elements.stream().collect(\r\n        Collectors.groupingBy(Fizz::getClass, HashMap::new, Collectors.toList())\r\n    );\r\n\r\nYou don&#39;t need `? extends Class&lt;? extends Fizz&gt;`. Just `Class&lt;? extends Fizz&gt;` is fine. Also note that you should use the overload of `groupingBy` that allows you to specify a map supplier, since by default, the map returned by `groupingBy` is not guaranteed to be mutable, and you seem to want to add things to the map later on.\r\n\r\nJust to clarify, this is how you could add a new key to the map:\r\n\r\n    map.put(AnotherFizzSubclass.class, new ArrayList&lt;&gt;());\r\n\r\nThere is no `keyValues()` method in `Map` :)\r\n\r\nTo check if a key is in the map, just use `containsKey`:\r\n\r\n    if (map.containsKey(Foo.class)) {\r\n        doSomething();\r\n    }\r\n\r\nThis will `doSomething()` only if the map has exactly `Foo.class`. If you also want to `doSomething` in case the map has a subclass of `Foo` (similar to the behaviour of `instanceof`), then you can do:\r\n\r\n    if (map.keySet().stream().anyMatch(Foo.class::isAssignableFrom)) {\r\n        doSomething();\r\n    }","title":"Group stream(list) of objects to a map-&gt; based on object type -&gt; and then filter based on Map Keys using Predicates","body":"<p>Your attempt is almost there:</p>\n<pre><code>Map&lt;Class&lt;? extends Fizz&gt;, List&lt;Fizz&gt;&gt; map = elements.stream().collect(\n    Collectors.groupingBy(Fizz::getClass, HashMap::new, Collectors.toList())\n);\n</code></pre>\n<p>You don't need <code>? extends Class&lt;? extends Fizz&gt;</code>. Just <code>Class&lt;? extends Fizz&gt;</code> is fine. Also note that you should use the overload of <code>groupingBy</code> that allows you to specify a map supplier, since by default, the map returned by <code>groupingBy</code> is not guaranteed to be mutable, and you seem to want to add things to the map later on.</p>\n<p>Just to clarify, this is how you could add a new key to the map:</p>\n<pre><code>map.put(AnotherFizzSubclass.class, new ArrayList&lt;&gt;());\n</code></pre>\n<p>There is no <code>keyValues()</code> method in <code>Map</code> :)</p>\n<p>To check if a key is in the map, just use <code>containsKey</code>:</p>\n<pre><code>if (map.containsKey(Foo.class)) {\n    doSomething();\n}\n</code></pre>\n<p>This will <code>doSomething()</code> only if the map has exactly <code>Foo.class</code>. If you also want to <code>doSomething</code> in case the map has a subclass of <code>Foo</code> (similar to the behaviour of <code>instanceof</code>), then you can do:</p>\n<pre><code>if (map.keySet().stream().anyMatch(Foo.class::isAssignableFrom)) {\n    doSomething();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18674005,"reputation":485,"user_id":13612096,"display_name":"Shreyas B"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642771575,"creation_date":1642771575,"answer_id":70802036,"question_id":70798089,"body_markdown":"You can always extend the `Hashmap` and override the Class to make it polymorphic.\r\n\r\n```java\r\nimport java.util.HashMap;\r\nimport java.util.Optional;\r\n\r\npublic class PolyHashMap&lt;K extends Class&lt;?&gt;,V&gt; extends HashMap&lt;K,V&gt; {\r\n    @Override\r\n    public boolean containsKey(Object key) {\r\n        return findClass((K)key).isPresent();\r\n    }\r\n\r\n    @Override\r\n    public V get(Object key) {\r\n        var entry = findClass((K)key);\r\n        return entry.map(Entry::getValue).orElse(null);\r\n    }\r\n\r\n    private Optional&lt;Entry&lt;K,V&gt;&gt; findClass(K key) {\r\n        return entrySet().stream()\r\n                .filter(e -&gt; e.getKey().isAssignableFrom(key))\r\n                .findFirst();\r\n    }\r\n}\r\n``` \r\n\r\nThen you can use this map in your program as\r\n```\r\npublic static void main(String[] args) {\r\n    PolyHashMap&lt;Class&lt;?&gt;, List&lt;Fizz&gt;&gt; map = new PolyHashMap&lt;&gt;();\r\n    map.put(Buzz.class, Arrays.asList(new Buzz(),new Buzz()));\r\n    map.put(Foo.class, Arrays.asList(new Foo()));\r\n\r\n    System.out.println(map.get(Buzz.class).size());\r\n    System.out.println(map.get(Foo.class).size());\r\n\r\n}\r\n```","title":"Group stream(list) of objects to a map-&gt; based on object type -&gt; and then filter based on Map Keys using Predicates","body":"<p>You can always extend the <code>Hashmap</code> and override the Class to make it polymorphic.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.HashMap;\nimport java.util.Optional;\n\npublic class PolyHashMap&lt;K extends Class&lt;?&gt;,V&gt; extends HashMap&lt;K,V&gt; {\n    @Override\n    public boolean containsKey(Object key) {\n        return findClass((K)key).isPresent();\n    }\n\n    @Override\n    public V get(Object key) {\n        var entry = findClass((K)key);\n        return entry.map(Entry::getValue).orElse(null);\n    }\n\n    private Optional&lt;Entry&lt;K,V&gt;&gt; findClass(K key) {\n        return entrySet().stream()\n                .filter(e -&gt; e.getKey().isAssignableFrom(key))\n                .findFirst();\n    }\n}\n</code></pre>\n<p>Then you can use this map in your program as</p>\n<pre><code>public static void main(String[] args) {\n    PolyHashMap&lt;Class&lt;?&gt;, List&lt;Fizz&gt;&gt; map = new PolyHashMap&lt;&gt;();\n    map.put(Buzz.class, Arrays.asList(new Buzz(),new Buzz()));\n    map.put(Foo.class, Arrays.asList(new Foo()));\n\n    System.out.println(map.get(Buzz.class).size());\n    System.out.println(map.get(Foo.class).size());\n\n}\n</code></pre>\n"}],"owner":{"account_id":15882815,"reputation":45,"user_id":11460115,"display_name":"robertsci"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70798316,"answer_count":2,"score":1,"last_activity_date":1643109928,"creation_date":1642752114,"question_id":70798089,"body_markdown":"I have the following objects:\r\n\r\n```\r\nabstract class Fizz {\r\n\r\n}\r\n\r\nclass Foo extends Fizz {\r\n\r\n}\r\n\r\nclass Bar extends Fizz {\r\n\r\n}\r\n\r\nclass Buzz extends Fizz {\r\n\r\n}\r\n\r\n```\r\n\r\nThen i have a list of **Fizz** objects\r\n\r\n```\r\nList&lt;Fizz&gt; elements;\r\n```\r\n\r\nI want to group this elements in a\r\n```\r\nMap &lt;Fizz, List&lt;Fizz&gt;&gt; mapFizz;\r\n```\r\n\r\nAnd in the end be able to retrieve Map values as following:\r\n```\r\nList&lt;Foo&gt; fooList = mapFizz.get(Foo.class);\r\nList&lt;Bar&gt; barList = mapFizz.get(Bar.class);\r\nList&lt;Buzz&gt; buzzList = mapFizz.get(Buzz.class);\r\n\r\n```\r\n\r\nI want to be able to iterate over the Map keySet and check if an instance of the Buzz exist and then do something:\r\n```\r\n\r\nboolean buzzExists = mapFizz.keySet().stream()\r\n           .anyMatch(theKey -&gt; instanceof Buzz.class)\r\n```\r\n```\r\nbuzzExists = true \r\n```\r\nwhen i am able to do \r\n```\r\nList&lt;Buzz&gt; buzzList = mapFizz.get(Buzz.class)\r\n```\r\n\r\n\r\n and also be able to add new key that extends Fizz;\r\n```\r\nclass Look extends Fizz{\r\n}\r\n\r\nmapFizz.keyValues().add(Look.class);\r\n\r\n```\r\n\r\nWhat i&#39;ve tried is this, and it works partially:\r\n\r\n```\r\nList&lt;Fizz&gt; elements = a list with many Fizz elements;\r\n\r\nMap&lt;? extends Class&lt;? extends Fizz&gt;, List&lt;Fizz&gt;&gt; mapedElements = elements.stream()\r\n.collect(\r\n          Collectors.groupingBy(\r\n             Fizz::getClass\r\n        )\r\n     )\r\n```\r\n\r\nThe above solution partially works. I can retrieve the elements of the map with:\r\n```\r\nList&lt;Foo&gt; fooList = mapedElements.get(Foo.class);\r\n\r\n```\r\n\r\nBut all of the keys are instance of the Class.class and i can&#39;t do:\r\n```\r\nmapedElements.keySet().stream()\r\n                      .anyMatch( aKey -&gt; aKey instanceof Foo.class) //always false\r\n```\r\neven if I am able to do\r\n```\r\nList&lt;Foo&gt; fooElements = mapedElements.get(Foo.class)\r\n```\r\n\r\n\r\n\r\n----------------------------------------------------\r\nThe workaround that i&#39;ve found would be:\r\n```\r\nMap&lt;String, List&lt;Fizz&gt;&gt; mapedElements = elements.stream()\r\n.collect(\r\n          Collectors.groupingBy(\r\n             element -&gt; element.getClass().getName()\r\n        )\r\n     )\r\n```\r\nand then the key would be the **import path** of each class that extends Fizz: *com.package.folder.Foo*\r\n\r\nBut i wanted to check if maybe there is a cleaner solution\r\nThanks\r\n\r\n\r\n","title":"Group stream(list) of objects to a map-&gt; based on object type -&gt; and then filter based on Map Keys using Predicates","body":"<p>I have the following objects:</p>\n<pre><code>abstract class Fizz {\n\n}\n\nclass Foo extends Fizz {\n\n}\n\nclass Bar extends Fizz {\n\n}\n\nclass Buzz extends Fizz {\n\n}\n\n</code></pre>\n<p>Then i have a list of <strong>Fizz</strong> objects</p>\n<pre><code>List&lt;Fizz&gt; elements;\n</code></pre>\n<p>I want to group this elements in a</p>\n<pre><code>Map &lt;Fizz, List&lt;Fizz&gt;&gt; mapFizz;\n</code></pre>\n<p>And in the end be able to retrieve Map values as following:</p>\n<pre><code>List&lt;Foo&gt; fooList = mapFizz.get(Foo.class);\nList&lt;Bar&gt; barList = mapFizz.get(Bar.class);\nList&lt;Buzz&gt; buzzList = mapFizz.get(Buzz.class);\n\n</code></pre>\n<p>I want to be able to iterate over the Map keySet and check if an instance of the Buzz exist and then do something:</p>\n<pre><code>\nboolean buzzExists = mapFizz.keySet().stream()\n           .anyMatch(theKey -&gt; instanceof Buzz.class)\n</code></pre>\n<pre><code>buzzExists = true \n</code></pre>\n<p>when i am able to do</p>\n<pre><code>List&lt;Buzz&gt; buzzList = mapFizz.get(Buzz.class)\n</code></pre>\n<p>and also be able to add new key that extends Fizz;</p>\n<pre><code>class Look extends Fizz{\n}\n\nmapFizz.keyValues().add(Look.class);\n\n</code></pre>\n<p>What i've tried is this, and it works partially:</p>\n<pre><code>List&lt;Fizz&gt; elements = a list with many Fizz elements;\n\nMap&lt;? extends Class&lt;? extends Fizz&gt;, List&lt;Fizz&gt;&gt; mapedElements = elements.stream()\n.collect(\n          Collectors.groupingBy(\n             Fizz::getClass\n        )\n     )\n</code></pre>\n<p>The above solution partially works. I can retrieve the elements of the map with:</p>\n<pre><code>List&lt;Foo&gt; fooList = mapedElements.get(Foo.class);\n\n</code></pre>\n<p>But all of the keys are instance of the Class.class and i can't do:</p>\n<pre><code>mapedElements.keySet().stream()\n                      .anyMatch( aKey -&gt; aKey instanceof Foo.class) //always false\n</code></pre>\n<p>even if I am able to do</p>\n<pre><code>List&lt;Foo&gt; fooElements = mapedElements.get(Foo.class)\n</code></pre>\n<hr />\n<p>The workaround that i've found would be:</p>\n<pre><code>Map&lt;String, List&lt;Fizz&gt;&gt; mapedElements = elements.stream()\n.collect(\n          Collectors.groupingBy(\n             element -&gt; element.getClass().getName()\n        )\n     )\n</code></pre>\n<p>and then the key would be the <strong>import path</strong> of each class that extends Fizz: <em>com.package.folder.Foo</em></p>\n<p>But i wanted to check if maybe there is a cleaner solution\nThanks</p>\n"},{"tags":["java","jakarta-ee","xml-parsing","sax","saxparser"],"comments":[{"owner":{"account_id":35380,"reputation":12888,"user_id":100190,"accept_rate":87,"display_name":"Matti Lyra"},"score":0,"creation_date":1346082348,"post_id":12144993,"comment_id":16248288,"body_markdown":"Can you not get one implementation, then set the `javax.xml.parsers.SAXParserFactory` system property and then get the other implementation?","body":"Can you not get one implementation, then set the <code>javax.xml.parsers.SAXParserFactory</code> system property and then get the other implementation?"}],"answers":[{"tags":[],"owner":{"account_id":265649,"reputation":53086,"user_id":552759,"display_name":"jtahlborn"},"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1346081845,"creation_date":1346081845,"answer_id":12145059,"question_id":12144993,"body_markdown":"Pretty sure you can&#39;t (unless you use multiple classloaders).  The code which depends on the other implementation should instantiate it directly (using the implementation class name).","title":"Specific multiple SAXParserFactory implementations in one web application","body":"<p>Pretty sure you can't (unless you use multiple classloaders).  The code which depends on the other implementation should instantiate it directly (using the implementation class name).</p>\n"},{"tags":[],"owner":{"account_id":391620,"reputation":2118,"user_id":752385,"accept_rate":38,"display_name":"Strinder"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1643109884,"creation_date":1643109884,"answer_id":70847805,"question_id":12144993,"body_markdown":"The implementation to use can also be defined via \r\n\r\n    -Djavax.xml.parsers.SAXParserFactory=com.sun.org.apache.xerces.internal.jaxp.SAXParserFactoryImpl\r\n\r\nas java command line argument.","title":"Specific multiple SAXParserFactory implementations in one web application","body":"<p>The implementation to use can also be defined via</p>\n<pre><code>-Djavax.xml.parsers.SAXParserFactory=com.sun.org.apache.xerces.internal.jaxp.SAXParserFactoryImpl\n</code></pre>\n<p>as java command line argument.</p>\n"}],"owner":{"account_id":109733,"reputation":31428,"user_id":290629,"accept_rate":88,"display_name":"å¢å£°è¿œ Shengyuan Lu"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1235,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":12145059,"answer_count":2,"score":0,"last_activity_date":1643109884,"creation_date":1346081536,"question_id":12144993,"body_markdown":"I have a web application on tomcat. The application needs two SAXParserFactory implements: one is JDK default implement `com.sun.org.apache.xerces.internal.jaxp.SAXParserFactoryImpl`, the other one is from xerces: `org.apache.xerces.jaxp.SAXParserFactoryImpl`.\r\n\r\nHere&#39;s the problem, `SAXParserFactory.newInstance()` just selects **only one** implementation by specific order, as follows:\r\n\r\n - Use the javax.xml.parsers.SAXParserFactory system property.\r\n - UseUse the JAVA_HOME(the parent directory where jdk is installed)/lib/jaxp.properties for a property file that contains the name of the implementation class keyed on the same value as the system property defined above.\r\n - Use the Services API (as detailed in teh JAR specification), if available, to determine the classname. The Services API will look for a classname in the file META-INF/services/javax.xml.parsers.SAXParserFactory in jars available to the runtime.\r\n - Platform default SAXParserFactory instance.\r\n\r\nI tried to configure the different classnames in *javax.xml.parsers.SAXParserFactory* in different jar files. But it&#39;s scope for whole classloader. In tomcat, all application libs are loaded in one classloader. For instance, the configure file in A.jar will overwrite the configure in B.jar, eventually all application gets the configure from A.jar.\r\n\r\nSo my question is how can I specific these two SAXParserFactory implementations in one web application? Thank you.\r\n\r\n","title":"Specific multiple SAXParserFactory implementations in one web application","body":"<p>I have a web application on tomcat. The application needs two SAXParserFactory implements: one is JDK default implement <code>com.sun.org.apache.xerces.internal.jaxp.SAXParserFactoryImpl</code>, the other one is from xerces: <code>org.apache.xerces.jaxp.SAXParserFactoryImpl</code>.</p>\n\n<p>Here's the problem, <code>SAXParserFactory.newInstance()</code> just selects <strong>only one</strong> implementation by specific order, as follows:</p>\n\n<ul>\n<li>Use the javax.xml.parsers.SAXParserFactory system property.</li>\n<li>UseUse the JAVA_HOME(the parent directory where jdk is installed)/lib/jaxp.properties for a property file that contains the name of the implementation class keyed on the same value as the system property defined above.</li>\n<li>Use the Services API (as detailed in teh JAR specification), if available, to determine the classname. The Services API will look for a classname in the file META-INF/services/javax.xml.parsers.SAXParserFactory in jars available to the runtime.</li>\n<li>Platform default SAXParserFactory instance.</li>\n</ul>\n\n<p>I tried to configure the different classnames in <em>javax.xml.parsers.SAXParserFactory</em> in different jar files. But it's scope for whole classloader. In tomcat, all application libs are loaded in one classloader. For instance, the configure file in A.jar will overwrite the configure in B.jar, eventually all application gets the configure from A.jar.</p>\n\n<p>So my question is how can I specific these two SAXParserFactory implementations in one web application? Thank you.</p>\n"},{"tags":["java","javafx"],"comments":[{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":2,"creation_date":1643105293,"post_id":70846526,"comment_id":125245637,"body_markdown":"[mcve] please ..","body":"<a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> please .."},{"owner":{"account_id":440158,"reputation":323231,"user_id":829571,"accept_rate":94,"display_name":"assylias"},"score":3,"creation_date":1643105354,"post_id":70846526,"comment_id":125245661,"body_markdown":"Looks like you should be running that method on the FX Thread: `Platfom.runLater(() -&gt; strSelectDirectory(someInt));`...","body":"Looks like you should be running that method on the FX Thread: <code>Platfom.runLater(() -&gt; strSelectDirectory(someInt));</code>..."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":2,"creation_date":1643105938,"post_id":70846526,"comment_id":125245865,"body_markdown":"Complete stacktrace please.","body":"Complete stacktrace please."}],"answers":[{"tags":[],"owner":{"account_id":3769835,"reputation":964,"user_id":3132351,"display_name":"EverNight"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643109540,"creation_date":1643109540,"answer_id":70847730,"question_id":70846526,"body_markdown":"Instances of `Runnable` create &quot;runnable&quot; blocks of code to be executed on a thread. By definition, different thread from the one named JavaFX Application Thread.\r\n\r\nIn short, JavaFX relies on its own thread structure to update its graphic co-routine, therefore any code which interacts with components that deal with graphics, must be executed inside the JavaFX platform&#39;s compliant logical end-points.\r\n\r\nUse `Platform.runLater( () -&gt;{ /*your code here*/ });` to inject logic wihch affects UI components.\r\n\r\nThis effectively creates a logical hook which executes your code in the JavaFXThread construct as part of it&#39;s graphics update subroutine.\r\n\r\nThis also affects all logical routines which handle window content or window objects (stages).\r\n\r\nLastly, make sure you use `Platform.exit()` whenever you effectively want to close your application, or you will have hanging, immortal instances of the JVM which will never close.","title":"Exception in thread &quot;JavaFX Application Thread&quot;","body":"<p>Instances of <code>Runnable</code> create &quot;runnable&quot; blocks of code to be executed on a thread. By definition, different thread from the one named JavaFX Application Thread.</p>\n<p>In short, JavaFX relies on its own thread structure to update its graphic co-routine, therefore any code which interacts with components that deal with graphics, must be executed inside the JavaFX platform's compliant logical end-points.</p>\n<p>Use <code>Platform.runLater( () -&gt;{ /*your code here*/ });</code> to inject logic wihch affects UI components.</p>\n<p>This effectively creates a logical hook which executes your code in the JavaFXThread construct as part of it's graphics update subroutine.</p>\n<p>This also affects all logical routines which handle window content or window objects (stages).</p>\n<p>Lastly, make sure you use <code>Platform.exit()</code> whenever you effectively want to close your application, or you will have hanging, immortal instances of the JVM which will never close.</p>\n"}],"owner":{"account_id":14166781,"reputation":155,"user_id":10234524,"display_name":"Hronic"},"comment_count":3,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":640,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"closed_date":1643110296,"answer_count":1,"score":-3,"last_activity_date":1643109540,"creation_date":1643104260,"question_id":70846526,"body_markdown":"Whenever I use the following method, I receive:\r\n\r\n&gt; Exception in thread &quot;JavaFX Application Thread&quot;\r\n&gt; java.lang.IllegalStateException: Not on FX application thread;\r\n&gt; currentThread = JavaFX Application Thread\r\n\r\nI don&#39;t understand how to implement runnable to solve it.&lt;br&gt;\r\nAll I want is to use JavaFX, select file/directory and get the string to the selected file/directory -&gt; then I open new stages. &lt;br&gt;\r\n\r\n    private static String strSelectDirectory(int intFileType)\r\n    {\r\n        String strResult=&quot;&quot;;\r\n            Stage stage = new Stage();\r\n            File fileDefaultDir = new File(System.getProperty(&quot;user.dir&quot;)); //Default directory of selection\r\n            if(intFileType==0)                                              //Select File\r\n            {\r\n                FileChooser fileChooser = new FileChooser();                //define file chooser\r\n                fileChooser.setInitialDirectory(fileDefaultDir);            //define default/starting directory\r\n                File selectedFile = fileChooser.showOpenDialog(stage);      //open filedialog and select file\r\n                strResult=selectedFile.getPath();\r\n            } else if(intFileType==1)                                               //Select Directory\r\n            {\r\n                DirectoryChooser directoryChooser = new DirectoryChooser();         //define directory chooser\r\n                directoryChooser.setInitialDirectory(fileDefaultDir);               //define default/starting directory\r\n                File selectedDirectory = directoryChooser.showDialog(stage);        //open filedialog and select directory\r\n                strResult=selectedDirectory.getAbsolutePath();\r\n            }\r\n            stage.close();\r\n        return strResult;\r\n    }\r\n\r\n","title":"Exception in thread &quot;JavaFX Application Thread&quot;","body":"<p>Whenever I use the following method, I receive:</p>\n<blockquote>\n<p>Exception in thread &quot;JavaFX Application Thread&quot;\njava.lang.IllegalStateException: Not on FX application thread;\ncurrentThread = JavaFX Application Thread</p>\n</blockquote>\n<p>I don't understand how to implement runnable to solve it.<br>\nAll I want is to use JavaFX, select file/directory and get the string to the selected file/directory -&gt; then I open new stages. <br></p>\n<pre><code>private static String strSelectDirectory(int intFileType)\n{\n    String strResult=&quot;&quot;;\n        Stage stage = new Stage();\n        File fileDefaultDir = new File(System.getProperty(&quot;user.dir&quot;)); //Default directory of selection\n        if(intFileType==0)                                              //Select File\n        {\n            FileChooser fileChooser = new FileChooser();                //define file chooser\n            fileChooser.setInitialDirectory(fileDefaultDir);            //define default/starting directory\n            File selectedFile = fileChooser.showOpenDialog(stage);      //open filedialog and select file\n            strResult=selectedFile.getPath();\n        } else if(intFileType==1)                                               //Select Directory\n        {\n            DirectoryChooser directoryChooser = new DirectoryChooser();         //define directory chooser\n            directoryChooser.setInitialDirectory(fileDefaultDir);               //define default/starting directory\n            File selectedDirectory = directoryChooser.showDialog(stage);        //open filedialog and select directory\n            strResult=selectedDirectory.getAbsolutePath();\n        }\n        stage.close();\n    return strResult;\n}\n</code></pre>\n"},{"tags":["java","scala"],"comments":[{"owner":{"account_id":5131293,"reputation":21831,"user_id":4111404,"accept_rate":80,"display_name":"Luis Miguel Mej&#237;a Su&#225;rez"},"score":2,"creation_date":1643040343,"post_id":70836783,"comment_id":125228209,"body_markdown":"Use `Boolean.box` - As I always say, the [**Scaladoc**](https://www.scala-lang.org/api/current/scala/Boolean$.html) is your friend.","body":"Use <code>Boolean.box</code> - As I always say, the <a href=\"https://www.scala-lang.org/api/current/scala/Boolean%24.html\" rel=\"nofollow noreferrer\"><b>Scaladoc</b></a> is your friend."},{"owner":{"account_id":2111551,"reputation":17583,"user_id":1876739,"accept_rate":94,"display_name":"Ram&#243;n J Romero y Vigil"},"score":0,"creation_date":1643040820,"post_id":70836783,"comment_id":125228436,"body_markdown":"@LuisMiguelMej&#237;aSu&#225;rez Thank you, but `box` is the wrong direction.  That&#39;s for scala =&gt; java, I want java =&gt; scala","body":"@LuisMiguelMej&#237;aSu&#225;rez Thank you, but <code>box</code> is the wrong direction.  That&#39;s for scala =&gt; java, I want java =&gt; scala"},{"owner":{"account_id":1369470,"reputation":25454,"user_id":1305121,"accept_rate":90,"display_name":"Mateusz Kubuszok"},"score":4,"creation_date":1643040851,"post_id":70836783,"comment_id":125228451,"body_markdown":"There is `unbox` right below in the docs...","body":"There is <code>unbox</code> right below in the docs..."},{"owner":{"account_id":5131293,"reputation":21831,"user_id":4111404,"accept_rate":80,"display_name":"Luis Miguel Mej&#237;a Su&#225;rez"},"score":0,"creation_date":1643041780,"post_id":70836783,"comment_id":125228886,"body_markdown":"God, I even looked for it before commenting and still I wrote it wrong... I am a failure. Anyways, should we close this? Or should I add it as an answer? I think this falls close to a typo but not sure what other folks think.","body":"God, I even looked for it before commenting and still I wrote it wrong... I am a failure. Anyways, should we close this? Or should I add it as an answer? I think this falls close to a typo but not sure what other folks think."}],"answers":[{"tags":[],"owner":{"account_id":2111551,"reputation":17583,"user_id":1876739,"accept_rate":94,"display_name":"Ram&#243;n J Romero y Vigil"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1643043930,"creation_date":1643043930,"answer_id":70837648,"question_id":70836783,"body_markdown":"The [`Boolean.unbox`][1] method will convert to scala Boolean.\r\n\r\n\r\n  [1]: https://www.scala-lang.org/api/2.12.9/scala/Boolean$.html#unbox(x:Object):Boolean","title":"How to Convert java.lang.Boolean to scala.Boolean?","body":"<p>The <a href=\"https://www.scala-lang.org/api/2.12.9/scala/Boolean$.html#unbox(x:Object):Boolean\" rel=\"nofollow noreferrer\"><code>Boolean.unbox</code></a> method will convert to scala Boolean.</p>\n"}],"owner":{"account_id":2111551,"reputation":17583,"user_id":1876739,"accept_rate":94,"display_name":"Ram&#243;n J Romero y Vigil"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":341,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1643109393,"creation_date":1643040237,"question_id":70836783,"body_markdown":"**How can a `java.lang.Boolean` be converted to a `scala.Boolean`?**\r\n\r\nThere is [a similar question][1] which is specific to Spring and Swagger.  My question is more generic and applicable in any circumstances.\r\n\r\nThank you in advance for your consideration and response.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/52581683/convert-java-lang-boolean-to-scala-boolean","title":"How to Convert java.lang.Boolean to scala.Boolean?","body":"<p><strong>How can a <code>java.lang.Boolean</code> be converted to a <code>scala.Boolean</code>?</strong></p>\n<p>There is <a href=\"https://stackoverflow.com/questions/52581683/convert-java-lang-boolean-to-scala-boolean\">a similar question</a> which is specific to Spring and Swagger.  My question is more generic and applicable in any circumstances.</p>\n<p>Thank you in advance for your consideration and response.</p>\n"},{"tags":["java","api","rest","okhttp"],"owner":{"account_id":8411933,"reputation":2532,"user_id":6313539,"display_name":"Sweta Sharma"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":432,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1643109368,"creation_date":1643109368,"question_id":70847686,"body_markdown":"I&#39;m trying to make a request to the Third-party API, but I&#39;m running into some issues using OkHTTP.\r\nI&#39;m using AWS4Signer to sign the request. I&#39;m able to generate the credentials for the same.\r\n```\r\nRequest&lt;Void&gt; requestAws = new DefaultRequest&lt;Void&gt;(&quot;sts&quot;);\r\n\t\trequestAws.setHttpMethod(HttpMethodName.POST);\r\n\t\trequestAws.setEndpoint(URI.create(&quot;third pary api call which uses https&quot;));\r\n\t\trequestAws.addHeader(&quot;x-amz-security-token&quot;, sessionCredentials.getSessionToken());\r\n\t\trequestAws.addHeader(&quot;Content-Type&quot;, &quot;application/json&quot;);\r\n\t   \r\n\t    //sign the request\r\n\t\tAWS4Signer signer = new AWS4Signer();\r\n\t    signer.setServiceName(Constant.SERVICE_NAME);\r\n\t    signer.setRegionName(Constant.AWS_REGION);\r\n\t    signer.sign(requestAws, new AWSCredentials() {\r\n\t\t\t\r\n\t\t\t@Override\r\n\t\t\tpublic String getAWSSecretKey() {\r\n\t\t\t\treturn sessionCredentials.getAccessKeyId();\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t@Override\r\n\t\t\tpublic String getAWSAccessKeyId() {\r\n\t\t\t\treturn sessionCredentials.getSecretAccessKey();\r\n\t\t\t}\r\n\t\t});\r\n\t   \r\n\t    Map&lt;String, String&gt; headers = requestAws.getHeaders();\r\n\t    String x_date = null;\r\n\t    String x_token = null;\r\n\t    String authorization = null;\r\n\t    String x_content = null;\r\n\t    //get and assign values\r\n\t    for (Map.Entry&lt;String, String&gt; entry : headers.entrySet()) {\r\n\t        if (entry.getKey().equals(&quot;x-amz-security-token&quot;)) {\r\n\t            x_token = entry.getValue();\r\n\t        }\r\n\t        if (entry.getKey().equals(&quot;X-Amz-Date&quot;)) {\r\n\t            x_date = entry.getValue();\r\n\t        }\r\n\t        if (entry.getKey().equals(&quot;Authorization&quot;)) {\r\n\t            authorization = entry.getValue();\r\n\t        }\r\n\t    }\r\n\t  \r\n\t   logger.info(&quot;Headers body response: &quot; + JsonUtils.jsonize(headers));\r\n\t   String json = objectMapper.writeValueAsString(emailRequestBody);\r\n\t  \r\n\t   postHandler.post(x_date, x_token, authorization, json);\r\n```\r\nBelow is the request code of okHTTP\r\n```\r\n String post(String x_date, String x_token, String authorization, String json) throws IOException {\r\n\t\tRequestBody body = RequestBody.create(json, JSON);\r\n\t\tRequest request = new Request.Builder()\r\n\t\t\t\t.url(&quot;https url is here&quot;)\r\n\t            .addHeader(&quot;Content-Type&quot;, &quot;application/json&quot;)\r\n\t            .addHeader(&quot;X-Amz-Date&quot;, x_date)\r\n\t            .addHeader(&quot;x-amz-security-token&quot;, x_token)\r\n\t            .addHeader(&quot;Authorization&quot;, authorization)\r\n\t            .post(body)\r\n\t            .build();\r\n\t\t\r\n\t\ttry (Response response = client.newCall(request).execute()) {\r\n\t\t  return response.body().string();\r\n\t\t}\r\n\t  }\r\n```\r\n\r\nBelow is how the request looks like with headers:\r\n```\r\nRequest{method=POST, url=https://cbc.com/api/send/email, headers=[Content-Type:application/json, X-Amz-Date:20220125T111056Z, x-amz-security-token:FwoGZXIvYXdzEHUaDF6/kQ0g7Mog7W1f7CK0ATG5xhFIXP34wRjziAkJKhw9vE5cbADBOpji7uqtLp5GLGLay+e9O2deFRB4eSpUMOOThDCEQg1tum43iX4a+8Kikuc3fv5gDjbMrdLJYAK3piYVbOAET8BAXdDdkPZVG+nNu31cEWZe9HC60svIj0m95YZ9Xx5rBIDm0AVWtj4JRCmonNm1ymCNRB4GTjhEzgnxlkqEYfdUivFdlORq/IlIssUzzV04fkr0kiqDiE9GrmU51ijAtb+PBjIt9MWbM8+x4z+y+IV4JFjuK4zrVW3Iaw4xUG/C+mpcCrZrunh+8fWgVTR6In1r, Authorization:AWS4-HMAC-SHA256 Credential=medS2y7xvISbOf7ke3IWthyCMV5koeTDD5r3gkxJ/20220125/us-west-2/execute-api/aws4_request, SignedHeaders=content-type;host;x-amz-date;x-amz-security-token, Signature=d862c9ed8175770244e17fd3cb216c2a92138183ad427ed67fc5f284a1a75266]}\r\n```\r\n\r\nBelow is the response:\r\n```\r\nResponse{protocol=h2, code=403, message=, url=https://cbc.com/api/send/email}\r\n```\r\n\r\nWhy the response is returning 403? Can someone help me what I missed?  Thank you for your time.","title":"OkHttp returns 403 as response","body":"<p>I'm trying to make a request to the Third-party API, but I'm running into some issues using OkHTTP.\nI'm using AWS4Signer to sign the request. I'm able to generate the credentials for the same.</p>\n<pre><code>Request&lt;Void&gt; requestAws = new DefaultRequest&lt;Void&gt;(&quot;sts&quot;);\n        requestAws.setHttpMethod(HttpMethodName.POST);\n        requestAws.setEndpoint(URI.create(&quot;third pary api call which uses https&quot;));\n        requestAws.addHeader(&quot;x-amz-security-token&quot;, sessionCredentials.getSessionToken());\n        requestAws.addHeader(&quot;Content-Type&quot;, &quot;application/json&quot;);\n       \n        //sign the request\n        AWS4Signer signer = new AWS4Signer();\n        signer.setServiceName(Constant.SERVICE_NAME);\n        signer.setRegionName(Constant.AWS_REGION);\n        signer.sign(requestAws, new AWSCredentials() {\n            \n            @Override\n            public String getAWSSecretKey() {\n                return sessionCredentials.getAccessKeyId();\n            }\n            \n            @Override\n            public String getAWSAccessKeyId() {\n                return sessionCredentials.getSecretAccessKey();\n            }\n        });\n       \n        Map&lt;String, String&gt; headers = requestAws.getHeaders();\n        String x_date = null;\n        String x_token = null;\n        String authorization = null;\n        String x_content = null;\n        //get and assign values\n        for (Map.Entry&lt;String, String&gt; entry : headers.entrySet()) {\n            if (entry.getKey().equals(&quot;x-amz-security-token&quot;)) {\n                x_token = entry.getValue();\n            }\n            if (entry.getKey().equals(&quot;X-Amz-Date&quot;)) {\n                x_date = entry.getValue();\n            }\n            if (entry.getKey().equals(&quot;Authorization&quot;)) {\n                authorization = entry.getValue();\n            }\n        }\n      \n       logger.info(&quot;Headers body response: &quot; + JsonUtils.jsonize(headers));\n       String json = objectMapper.writeValueAsString(emailRequestBody);\n      \n       postHandler.post(x_date, x_token, authorization, json);\n</code></pre>\n<p>Below is the request code of okHTTP</p>\n<pre><code> String post(String x_date, String x_token, String authorization, String json) throws IOException {\n        RequestBody body = RequestBody.create(json, JSON);\n        Request request = new Request.Builder()\n                .url(&quot;https url is here&quot;)\n                .addHeader(&quot;Content-Type&quot;, &quot;application/json&quot;)\n                .addHeader(&quot;X-Amz-Date&quot;, x_date)\n                .addHeader(&quot;x-amz-security-token&quot;, x_token)\n                .addHeader(&quot;Authorization&quot;, authorization)\n                .post(body)\n                .build();\n        \n        try (Response response = client.newCall(request).execute()) {\n          return response.body().string();\n        }\n      }\n</code></pre>\n<p>Below is how the request looks like with headers:</p>\n<pre><code>Request{method=POST, url=https://cbc.com/api/send/email, headers=[Content-Type:application/json, X-Amz-Date:20220125T111056Z, x-amz-security-token:FwoGZXIvYXdzEHUaDF6/kQ0g7Mog7W1f7CK0ATG5xhFIXP34wRjziAkJKhw9vE5cbADBOpji7uqtLp5GLGLay+e9O2deFRB4eSpUMOOThDCEQg1tum43iX4a+8Kikuc3fv5gDjbMrdLJYAK3piYVbOAET8BAXdDdkPZVG+nNu31cEWZe9HC60svIj0m95YZ9Xx5rBIDm0AVWtj4JRCmonNm1ymCNRB4GTjhEzgnxlkqEYfdUivFdlORq/IlIssUzzV04fkr0kiqDiE9GrmU51ijAtb+PBjIt9MWbM8+x4z+y+IV4JFjuK4zrVW3Iaw4xUG/C+mpcCrZrunh+8fWgVTR6In1r, Authorization:AWS4-HMAC-SHA256 Credential=medS2y7xvISbOf7ke3IWthyCMV5koeTDD5r3gkxJ/20220125/us-west-2/execute-api/aws4_request, SignedHeaders=content-type;host;x-amz-date;x-amz-security-token, Signature=d862c9ed8175770244e17fd3cb216c2a92138183ad427ed67fc5f284a1a75266]}\n</code></pre>\n<p>Below is the response:</p>\n<pre><code>Response{protocol=h2, code=403, message=, url=https://cbc.com/api/send/email}\n</code></pre>\n<p>Why the response is returning 403? Can someone help me what I missed?  Thank you for your time.</p>\n"},{"tags":["java","spring","spring-boot","spring-mvc","mockmvc"],"answers":[{"tags":[],"owner":{"account_id":1354119,"reputation":158,"user_id":1292881,"display_name":"Minesh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642696321,"creation_date":1642696321,"answer_id":70789936,"question_id":70789838,"body_markdown":"Good Day!\r\n\r\nNeed to check:\r\n\r\n - API URL\r\n - Need to run spring application so test method able to call    API\r\n   URL.","title":"spring mock mvc perform post request body is missing : error 400","body":"<p>Good Day!</p>\n<p>Need to check:</p>\n<ul>\n<li>API URL</li>\n<li>Need to run spring application so test method able to call    API\nURL.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":18059170,"reputation":11,"user_id":13126700,"display_name":"vikash pandey"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642712275,"creation_date":1642712275,"answer_id":70793306,"question_id":70789838,"body_markdown":"Try Creating a explicit json and then pass in body, also in your controller, you are expecting a single string name, try getting that from the json.\r\neg:\r\n\r\n\r\n\r\n    @Test\r\n    void testGetAllUsers() throws Exception {\r\n        JSONObject json = new JSONObject();\r\n        json.put(&quot;name&quot;, &quot;john&quot;);\r\n        this.mvc.perform(post(&quot;/api/users&quot;)\r\n        .accept(MediaType.APPLICATION_JSON)\r\n        .contentType(MediaType.APPLICATION_JSON)\r\n        .characterEncoding(&quot;utf-8&quot;)     \r\n        .content(json.toString())\r\n        .andDo(print())\r\n        .andExpect(status().isCreated()); }\r\n\r\nAnd in your controller you can try something like this\r\n\r\n    @PostMapping(path = &quot;/users&quot;)\r\n    public @ResponseBody ResponseEntity&lt;User&gt; addNewUser(\r\n        @RequestBody String name        \r\n    ) {\r\n        JSONObject json = new JSONObject(name);\r\n        String userName = json.getString(&quot;name&quot;);\r\n        return userService.createUser(userName);\r\n    }\r\n\r\n","title":"spring mock mvc perform post request body is missing : error 400","body":"<p>Try Creating a explicit json and then pass in body, also in your controller, you are expecting a single string name, try getting that from the json.\neg:</p>\n<pre><code>@Test\nvoid testGetAllUsers() throws Exception {\n    JSONObject json = new JSONObject();\n    json.put(&quot;name&quot;, &quot;john&quot;);\n    this.mvc.perform(post(&quot;/api/users&quot;)\n    .accept(MediaType.APPLICATION_JSON)\n    .contentType(MediaType.APPLICATION_JSON)\n    .characterEncoding(&quot;utf-8&quot;)     \n    .content(json.toString())\n    .andDo(print())\n    .andExpect(status().isCreated()); }\n</code></pre>\n<p>And in your controller you can try something like this</p>\n<pre><code>@PostMapping(path = &quot;/users&quot;)\npublic @ResponseBody ResponseEntity&lt;User&gt; addNewUser(\n    @RequestBody String name        \n) {\n    JSONObject json = new JSONObject(name);\n    String userName = json.getString(&quot;name&quot;);\n    return userService.createUser(userName);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18216145,"reputation":83,"user_id":13257797,"display_name":"eln"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1643109059,"creation_date":1643109059,"answer_id":70847622,"question_id":70789838,"body_markdown":"So this was a simplified example of my real web service.\r\nProblem came from the fact that I used several time @RequestBody in the same request\r\n```java\r\npublic @ResponseBody ResponseEntity&lt;User&gt; addNewUser(\r\n        @RequestBody String name ,\r\n        @RequestBody String lastName,\r\n```\r\nwhich was the source of the problem.\r\n\r\nTo solve that I created a DTO like\r\n\r\n```java\r\npublic @ResponseBody ResponseEntity&lt;User&gt; addNewUser(\r\n        @RequestBody UserDTO userDto\r\n```\r\n\r\nAnd now it is working fine","title":"spring mock mvc perform post request body is missing : error 400","body":"<p>So this was a simplified example of my real web service.\nProblem came from the fact that I used several time @RequestBody in the same request</p>\n<pre class=\"lang-java prettyprint-override\"><code>public @ResponseBody ResponseEntity&lt;User&gt; addNewUser(\n        @RequestBody String name ,\n        @RequestBody String lastName,\n</code></pre>\n<p>which was the source of the problem.</p>\n<p>To solve that I created a DTO like</p>\n<pre class=\"lang-java prettyprint-override\"><code>public @ResponseBody ResponseEntity&lt;User&gt; addNewUser(\n        @RequestBody UserDTO userDto\n</code></pre>\n<p>And now it is working fine</p>\n"}],"owner":{"account_id":18216145,"reputation":83,"user_id":13257797,"display_name":"eln"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3772,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70847622,"answer_count":3,"score":0,"last_activity_date":1643109059,"creation_date":1642695968,"question_id":70789838,"body_markdown":" I try to mock a mvc request for testing end to end my controller in spring. \r\n\r\nThe post request needs a request body but I get an error 400 telling me that required request body is missing even though I see its body using MockMvcResultsHandler print.\r\n\r\nproject architecture :\r\n\r\n- src\r\n   - main\r\n   - test\r\n      - applications.properties\r\n      - controllers\r\n      - services\r\n\r\nSo here&#39;s my application.properties\r\n\r\n```\r\nspring.datasource.url=jdbc:h2:mem:tesdb;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=FALSE\r\nspring.datasource.driverClassName=org.h2.Driver\r\nspring.datasource.username=*****\r\nspring.datasource.password=*****\r\nspring.jpa.show-sql = true\r\n```\r\nHere&#39;s my test\r\n\r\n```java\r\n@SpringBootTest\r\n@AutoConfigureMockMvc\r\npublic class IntegrationTest {\r\n    protected User mockUser;\r\n  \r\n    protected List&lt;User&gt; allUsers;\r\n\r\n    @Autowired\r\n    private MockMvc mvc;\r\n\r\n    @Autowired\r\n    private WebApplicationContext webApplicationContext;\r\n\r\n    @BeforeEach\r\n    public void setUp() {\r\n        this.mvc = MockMvcBuilders.webAppContextSetup(this.webApplicationContext).build();\r\n    }\r\n    \r\n    @Test\r\n    void testGetAllUsers() throws Exception {\r\n        this.mvc.perform(post(&quot;/api/users&quot;)\r\n        .accept(MediaType.APPLICATION_JSON)\r\n        .contentType(MediaType.APPLICATION_JSON)\r\n        .characterEncoding(&quot;utf-8&quot;)     \r\n        .content(&quot;{\\&quot;name\\&quot;:\\&quot;name\\&quot;}&quot;))\r\n        .andDo(print())\r\n        .andExpect(status().isCreated());\r\n   }\r\n}\r\n```\r\n\r\nMy @RestController\r\n\r\n```java\r\n    @PostMapping(path = &quot;/users&quot;)\r\n    public @ResponseBody ResponseEntity&lt;User&gt; addNewUser(\r\n        @RequestBody String name        \r\n    ) {\r\n        return userService.createUser(name);\r\n    }\r\n```\r\n\r\nand my user @Service\r\n\r\n```java\r\npublic ResponseEntity&lt;User&gt; createUser(String name) {\r\n        User user = new User();\r\n        user.setName(name);\r\n        userRepository.save(user);\r\n```\r\n\r\nAnd when I try to launch my test I get in my debug console\r\n\r\n```\r\nDefaultHandlerExceptionResolver : Resolved [org.springframework.http.converter.HttpMessageNotReadableException: Required request body is missing: public org.springframework.http.ResponseEntity&lt;java.lang.String&gt; ....addNewType(java.lang.String,java.lang.Boolean)]\r\n\r\nMockHttpServletRequest:\r\n      HTTP Method = POST\r\n      Request URI = /api/users\r\n       Parameters = {}\r\n          Headers = [Content-Type:&quot;application/json;charset=utf-8&quot;, Accept:&quot;application/json&quot;, Content-Length:&quot;32&quot;]\r\n             Body = {&quot;name&quot;:&quot;concat&quot;}\r\n    Session Attrs = {}\r\n```\r\n\r\nand response is :\r\n\r\n```\r\nMockHttpServletResponse:\r\n           Status = 400\r\n    Error message = null\r\n          Headers = []\r\n     Content type = null\r\n             Body = \r\n    Forwarded URL = null\r\n   Redirected URL = null\r\n          Cookies = []\r\n\r\n```\r\n\r\nget methods seems to work when I use the same architecture, body seems to be present in the console but servelt doesn&#39;t seem to see/understand the request body.","title":"spring mock mvc perform post request body is missing : error 400","body":"<p>I try to mock a mvc request for testing end to end my controller in spring.</p>\n<p>The post request needs a request body but I get an error 400 telling me that required request body is missing even though I see its body using MockMvcResultsHandler print.</p>\n<p>project architecture :</p>\n<ul>\n<li>src\n<ul>\n<li>main</li>\n<li>test\n<ul>\n<li>applications.properties</li>\n<li>controllers</li>\n<li>services</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<p>So here's my application.properties</p>\n<pre><code>spring.datasource.url=jdbc:h2:mem:tesdb;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=FALSE\nspring.datasource.driverClassName=org.h2.Driver\nspring.datasource.username=*****\nspring.datasource.password=*****\nspring.jpa.show-sql = true\n</code></pre>\n<p>Here's my test</p>\n<pre class=\"lang-java prettyprint-override\"><code>@SpringBootTest\n@AutoConfigureMockMvc\npublic class IntegrationTest {\n    protected User mockUser;\n  \n    protected List&lt;User&gt; allUsers;\n\n    @Autowired\n    private MockMvc mvc;\n\n    @Autowired\n    private WebApplicationContext webApplicationContext;\n\n    @BeforeEach\n    public void setUp() {\n        this.mvc = MockMvcBuilders.webAppContextSetup(this.webApplicationContext).build();\n    }\n    \n    @Test\n    void testGetAllUsers() throws Exception {\n        this.mvc.perform(post(&quot;/api/users&quot;)\n        .accept(MediaType.APPLICATION_JSON)\n        .contentType(MediaType.APPLICATION_JSON)\n        .characterEncoding(&quot;utf-8&quot;)     \n        .content(&quot;{\\&quot;name\\&quot;:\\&quot;name\\&quot;}&quot;))\n        .andDo(print())\n        .andExpect(status().isCreated());\n   }\n}\n</code></pre>\n<p>My @RestController</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @PostMapping(path = &quot;/users&quot;)\n    public @ResponseBody ResponseEntity&lt;User&gt; addNewUser(\n        @RequestBody String name        \n    ) {\n        return userService.createUser(name);\n    }\n</code></pre>\n<p>and my user @Service</p>\n<pre class=\"lang-java prettyprint-override\"><code>public ResponseEntity&lt;User&gt; createUser(String name) {\n        User user = new User();\n        user.setName(name);\n        userRepository.save(user);\n</code></pre>\n<p>And when I try to launch my test I get in my debug console</p>\n<pre><code>DefaultHandlerExceptionResolver : Resolved [org.springframework.http.converter.HttpMessageNotReadableException: Required request body is missing: public org.springframework.http.ResponseEntity&lt;java.lang.String&gt; ....addNewType(java.lang.String,java.lang.Boolean)]\n\nMockHttpServletRequest:\n      HTTP Method = POST\n      Request URI = /api/users\n       Parameters = {}\n          Headers = [Content-Type:&quot;application/json;charset=utf-8&quot;, Accept:&quot;application/json&quot;, Content-Length:&quot;32&quot;]\n             Body = {&quot;name&quot;:&quot;concat&quot;}\n    Session Attrs = {}\n</code></pre>\n<p>and response is :</p>\n<pre><code>MockHttpServletResponse:\n           Status = 400\n    Error message = null\n          Headers = []\n     Content type = null\n             Body = \n    Forwarded URL = null\n   Redirected URL = null\n          Cookies = []\n\n</code></pre>\n<p>get methods seems to work when I use the same architecture, body seems to be present in the console but servelt doesn't seem to see/understand the request body.</p>\n"},{"tags":["java","spring","spring-boot","authentication","spring-security"],"comments":[{"owner":{"account_id":1223835,"reputation":75858,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":1,"creation_date":1613095870,"post_id":66165323,"comment_id":116977710,"body_markdown":"Note that your _design_ is fundamentally flawed, because it treats the security context like something you can just set and it will be remembered. HTTP is stateless (each request is completely independent), so the server won&#39;t know it was the same person. Instead, let Spring Security do its job and use either cookie or OAuth2 authentication, which looks up the appropriate security attributes on each request.","body":"Note that your <i>design</i> is fundamentally flawed, because it treats the security context like something you can just set and it will be remembered. HTTP is stateless (each request is completely independent), so the server won&#39;t know it was the same person. Instead, let Spring Security do its job and use either cookie or OAuth2 authentication, which looks up the appropriate security attributes on each request."}],"answers":[{"tags":[],"owner":{"account_id":3570618,"reputation":5148,"user_id":2981031,"display_name":"AMagyar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1613097844,"creation_date":1613097844,"answer_id":66165745,"question_id":66165323,"body_markdown":"The Spring uses de [Inversion of Control][1] principle, that means you don&#39;t have to create your objects and you can add them through Dependency Injection.\r\n\r\nWhen you [inject dependencies][2] in the WebSecurityConfig through Lombok&#39;s @AllArgsConstructor constructor you&#39;re telling to Spring inject those beans.\r\nAt that phase, it doesn&#39;t have the required bean &quot;AuthenticationManager&quot; for the UserService bean.\r\n\r\nThe solution is to inject the UserService through method&#39;s parameter using [autowired][3]\r\n\r\n    @Override\r\n    @Autowired\r\n    public void configure(AuthenticationManagerBuilder authenticationManagerBuilder, UserService userService) throws Exception {\r\n        authenticationManagerBuilder.userDetailsService(userService)\r\n                .passwordEncoder(passwordEncoder());\r\n    }\r\n\r\nand remove the class field userService.\r\n\r\n----------\r\n## Wrong way\r\n\r\n```\r\n@SpringBootApplication\r\npublic class DemoApplication {\r\n\r\n\tUserService userService;\r\n\r\n\tpublic DemoApplication(UserService userService) {\r\n\t\tthis.userService = userService;\r\n\t}\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(DemoApplication.class, args);\r\n\t}\r\n\r\n\t@Bean\r\n\tpublic TestService testService() {\r\n\t\treturn new TestService();\r\n\t}\r\n}\r\n```\r\n\r\nLog\r\n```\r\nDescription:\r\n\r\nThe dependencies of some of the beans in the application context form a cycle:\r\n\r\nâ”Œâ”€â”€â”€â”€â”€â”\r\n|  demoApplication\r\nâ†‘     â†“\r\n|  userService defined in file [...\\target\\classes\\com\\example\\demo\\UserService.class]\r\nâ””â”€â”€â”€â”€â”€â”˜\r\n\r\n```\r\n\r\n\r\n----------\r\n## Solution\r\n\r\n```\r\n@SpringBootApplication\r\npublic class DemoApplication {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(DemoApplication.class, args);\r\n\t}\r\n\r\n\t@Autowired\r\n\tpublic void userService(UserService userService) {\r\n\t\tSystem.out.println(&quot;UserService Injected: &quot; + userService);\r\n\t}\r\n\r\n\t@Bean\r\n\tpublic TestService testService() {\r\n\t\treturn new TestService();\r\n\t}\r\n}\r\n```\r\n\r\n```\r\n@Service\r\npublic class UserService {\r\n    \r\n    public UserService(TestService testService) {\r\n        System.out.println(&quot;User Service created using: &quot; + testService);\r\n    }\r\n}\r\n```\r\n\r\n```\r\npublic class TestService {\r\n    public TestService() {\r\n        System.out.println(&quot;TestService created&quot;);\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return &quot;Test Service&quot;;\r\n    }\r\n}\r\n```\r\n\r\nLog\r\n```\r\nTestService created\r\nUser Service created using: Test Service\r\nUserService Injected: com.example.demo.UserService@29629fbb\r\n```\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/current/reference/html/core.html#beans-introduction\r\n  [2]: https://docs.spring.io/spring-framework/docs/current/reference/html/core.html#beans-basics\r\n  [3]: https://docs.spring.io/spring-framework/docs/current/reference/html/core.html#beans-autowired-annotation","title":"Error for creating multiples Beans : Is there an unresolvable circular reference?","body":"<p>The Spring uses de <a href=\"https://docs.spring.io/spring-framework/docs/current/reference/html/core.html#beans-introduction\" rel=\"nofollow noreferrer\">Inversion of Control</a> principle, that means you don't have to create your objects and you can add them through Dependency Injection.</p>\n<p>When you <a href=\"https://docs.spring.io/spring-framework/docs/current/reference/html/core.html#beans-basics\" rel=\"nofollow noreferrer\">inject dependencies</a> in the WebSecurityConfig through Lombok's @AllArgsConstructor constructor you're telling to Spring inject those beans.\nAt that phase, it doesn't have the required bean &quot;AuthenticationManager&quot; for the UserService bean.</p>\n<p>The solution is to inject the UserService through method's parameter using <a href=\"https://docs.spring.io/spring-framework/docs/current/reference/html/core.html#beans-autowired-annotation\" rel=\"nofollow noreferrer\">autowired</a></p>\n<pre><code>@Override\n@Autowired\npublic void configure(AuthenticationManagerBuilder authenticationManagerBuilder, UserService userService) throws Exception {\n    authenticationManagerBuilder.userDetailsService(userService)\n            .passwordEncoder(passwordEncoder());\n}\n</code></pre>\n<p>and remove the class field userService.</p>\n<hr />\n<h2>Wrong way</h2>\n<pre><code>@SpringBootApplication\npublic class DemoApplication {\n\n    UserService userService;\n\n    public DemoApplication(UserService userService) {\n        this.userService = userService;\n    }\n\n    public static void main(String[] args) {\n        SpringApplication.run(DemoApplication.class, args);\n    }\n\n    @Bean\n    public TestService testService() {\n        return new TestService();\n    }\n}\n</code></pre>\n<p>Log</p>\n<pre><code>Description:\n\nThe dependencies of some of the beans in the application context form a cycle:\n\nâ”Œâ”€â”€â”€â”€â”€â”\n|  demoApplication\nâ†‘     â†“\n|  userService defined in file [...\\target\\classes\\com\\example\\demo\\UserService.class]\nâ””â”€â”€â”€â”€â”€â”˜\n\n</code></pre>\n<hr />\n<h2>Solution</h2>\n<pre><code>@SpringBootApplication\npublic class DemoApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(DemoApplication.class, args);\n    }\n\n    @Autowired\n    public void userService(UserService userService) {\n        System.out.println(&quot;UserService Injected: &quot; + userService);\n    }\n\n    @Bean\n    public TestService testService() {\n        return new TestService();\n    }\n}\n</code></pre>\n<pre><code>@Service\npublic class UserService {\n    \n    public UserService(TestService testService) {\n        System.out.println(&quot;User Service created using: &quot; + testService);\n    }\n}\n</code></pre>\n<pre><code>public class TestService {\n    public TestService() {\n        System.out.println(&quot;TestService created&quot;);\n    }\n\n    @Override\n    public String toString() {\n        return &quot;Test Service&quot;;\n    }\n}\n</code></pre>\n<p>Log</p>\n<pre><code>TestService created\nUser Service created using: Test Service\nUserService Injected: com.example.demo.UserService@29629fbb\n</code></pre>\n"}],"owner":{"account_id":17804748,"reputation":416,"user_id":12930670,"display_name":"harili"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1450,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":66165745,"answer_count":1,"score":0,"last_activity_date":1643108811,"creation_date":1613093681,"question_id":66165323,"body_markdown":"When I&#39;m trying to implement to login  part of my API and try to run it, I got many errors like bellow :\r\n\r\n```\r\nError starting ApplicationContext. To display the conditions report re-run your application with &#39;debug&#39; enabled.\r\n2021-02-12 02:23:23.314 ERROR 25840 --- [           main] o.s.boot.SpringApplication               : Application run failed\r\n\r\norg.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;userController&#39; defined in file [C:\\Users\\chafy\\Desktop\\cub\\back\\target\\classes\\com\\cesi\\cuberil\\controllers\\UserController.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;webSecurityConfig&#39; defined in file [C:\\Users\\chafy\\Desktop\\cub\\back\\target\\classes\\com\\cesi\\cuberil\\security\\config\\WebSecurityConfig.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;userService&#39; defined in file [C:\\Users\\chafy\\Desktop\\cub\\back\\target\\classes\\com\\cesi\\cuberil\\services\\UserService.class]: Unsatisfied dependency expressed through constructor parameter 2; nested exception is org.springframework.beans.factory.BeanCurrentlyInCreationException: Error creating bean with name &#39;org.springframework.security.authenticationManager&#39;: Requested bean is currently in creation: Is there an unresolvable circular reference?\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:800) ~[spring-beans-5.3.3.jar:5.3.3]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:229) ~[spring-beans-5.3.3.jar:5.3.3]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1356) ~[spring-beans-5.3.3.jar:5.3.3]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1206) ~[spring-beans-5.3.3.jar:5.3.3]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:571) ~[spring-beans-5.3.3.jar:5.3.3]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:531) ~[spring-beans-5.3.3.jar:5.3.3]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.3.jar:5.3.3]\r\nCaused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;webSecurityConfig&#39; defined in file [C:\\Users\\chafy\\Desktop\\cub\\back\\target\\classes\\com\\cesi\\cuberil\\security\\config\\WebSecurityConfig.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;userService&#39; defined in file [C:\\Users\\chafy\\Desktop\\cub\\back\\target\\classes\\com\\cesi\\cuberil\\services\\UserService.class]: Unsatisfied dependency expressed through constructor parameter 2; nested exception is org.springframework.beans.factory.BeanCurrentlyInCreationException: Error creating bean with name &#39;org.springframework.security.authenticationManager&#39;: Requested bean is currently in creation: Is there an unresolvable circular reference?\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:800) ~[spring-beans-5.3.3.jar:5.3.3]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:229) ~[spring-beans-5.3.3.jar:5.3.3]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1356) ~[spring-beans-5.3.3.jar:5.3.3]\r\nCaused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;userService&#39; defined in file [C:\\Users\\chafy\\Desktop\\cub\\back\\target\\classes\\com\\cesi\\cuberil\\services\\UserService.class]: Unsatisfied dependency expressed through constructor parameter 2; nested exception is org.springframework.beans.factory.BeanCurrentlyInCreationException: Error creating bean with name &#39;org.springframework.security.authenticationManager&#39;: Requested bean is currently in creation: Is there an unresolvable circular reference?\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:800) ~[spring-beans-5.3.3.jar:5.3.3]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:229) ~[spring-beans-5.3.3.jar:5.3.3]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1356) ~[spring-beans-5.3.3.jar:5.3.3]\r\nCaused by: org.springframework.beans.factory.BeanCurrentlyInCreationException: Error creating bean with name &#39;org.springframework.security.authenticationManager&#39;: Requested bean is currently in creation: Is there an unresolvable circular reference?\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.beforeSingletonCreation(DefaultSingletonBeanRegistry.java:355) ~[spring-beans-5.3.3.jar:5.3.3]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:227) ~[spring-beans-5.3.3.jar:5.3.3]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.3.jar:5.3.3]\r\n```\r\n\r\nI&#39;m new to Spring se I don&#39;t really know what the error means. \r\n\r\nhere the following classes :\r\n\r\nUserController :\r\n\r\n```\r\n@RestController\r\n@RequestMapping(path=&quot;api/v1/user&quot;)\r\n@AllArgsConstructor\r\n@CrossOrigin(origins = &quot;*&quot;)\r\npublic class UserController implements Routes {\r\n\r\n    private final AuthenticationManager authenticationManager;\r\n    private final RegistrationService registrationService;\r\n\r\n    @PostMapping(registration)\r\n    public String register(@RequestBody RegistrationRequest request){\r\n        return registrationService.register(request);\r\n    }\r\n\r\n    @PostMapping(login)\r\n    public ResponseEntity&lt;?&gt; login(@Valid @RequestBody LoginRequest loginRequest) {\r\n        Authentication authentication = authenticationManager.authenticate(\r\n                new UsernamePasswordAuthenticationToken(loginRequest.getUserName(), loginRequest.getPassword()));\r\n\r\n        SecurityContextHolder.getContext().setAuthentication(authentication);\r\n        User myUserDetails = (User) SecurityContextHolder.getContext().getAuthentication().getPrincipal();\r\n        List&lt;String&gt; roles = myUserDetails.getAuthorities().stream()\r\n                .map(item -&gt; item.getAuthority())\r\n                .collect(Collectors.toList());\r\n\r\n        return ResponseEntity.ok(&quot;OKKKK CONNECt&#233;&quot;);\r\n    }\r\n\r\n    @PostMapping(resetPassword)\r\n    public String resetPassword() {\r\n        return &quot;Password reset&quot;;\r\n    }\r\n\r\n\r\n    @GetMapping(path = confirm)\r\n    public String confirm(@RequestParam(&quot;token&quot;) String token) {\r\n        return registrationService.confirmToken(token);\r\n    }\r\n}\r\n```\r\n\r\nUserService :\r\n```\r\n@Service\r\n@AllArgsConstructor\r\npublic class UserService implements UserDetailsService {\r\n\r\n\r\n    private final static String USER_NOT_FOUND_MESSAGE = &quot;user with email %s not found&quot;;\r\n    private final UserRepository userRepository;\r\n    private final ConfirmationTokenService confirmationTokenService;\r\n    private final AuthenticationManager authenticationManager;\r\n\r\n    @Override\r\n    public UserDetails loadUserByUsername(String email)\r\n            throws UsernameNotFoundException {\r\n        return userRepository.findByEmail(email)\r\n                .orElseThrow(() -&gt; new UsernameNotFoundException(String.format(USER_NOT_FOUND_MESSAGE, email)));\r\n    }\r\n\r\n    public String signUpUser(User user) {\r\n        boolean userExists = userRepository.findByEmail(user.getEmail()).isPresent();\r\n        if (userExists) {\r\n            throw new IllegalStateException(&quot;Email already taken&quot;);\r\n        }\r\n        String encodedPassword = bCryptPasswordEncoder().encode(user.getPassword());\r\n        user.setPassword(encodedPassword);\r\n        userRepository.save(user);\r\n        String token = UUID.randomUUID().toString();\r\n        //TODO: Send Confirmation Token\r\n        ConfirmationToken confirmationToken = new ConfirmationToken(\r\n                token,\r\n                LocalDateTime.now(),\r\n                LocalDateTime.now().plusMinutes(15),\r\n                user\r\n        );\r\n\r\n        confirmationTokenService.saveConfirmationToken(confirmationToken);\r\n\r\n        //TODO: SEND EMAIL\r\n\r\n        return &quot;Token: &quot; + token + &quot;\\nFirstname: &quot; + user.getFirstName() + &quot;\\nLastname: &quot; + user.getLastName() +\r\n                &quot;\\nUsername: &quot; + user.getUsername() + &quot;\\nEmail: &quot; + user.getEmail();\r\n    }\r\n\r\n    public int enableAppUser(String email) {\r\n        return userRepository.enableAppUser(email);\r\n    }\r\n\r\n    public AuthenticationResponse login(LoginRequest loginRequest) {\r\n        Authentication authenticate = authenticationManager.authenticate(new UsernamePasswordAuthenticationToken(loginRequest.getUserName(),\r\n                loginRequest.getPassword()));\r\n        SecurityContextHolder.getContext().setAuthentication(authenticate);\r\n        return new AuthenticationResponse(loginRequest.getUserName());\r\n    }\r\n\r\n    public BCryptPasswordEncoder bCryptPasswordEncoder(){\r\n        return new BCryptPasswordEncoder();\r\n    }\r\n}\r\n```\r\n\r\nWebSecurityConfig :\r\n```\r\n@Configuration\r\n@AllArgsConstructor\r\n@EnableWebSecurity\r\npublic class WebSecurityConfig extends WebSecurityConfigurerAdapter {\r\n    private final UserService userService;\r\n    private final BCryptPasswordEncoder bCryptPasswordEncoder;\r\n\r\n    @Override\r\n    protected void configure(HttpSecurity http) throws Exception {\r\n        http.csrf().disable()\r\n                .authorizeRequests().antMatchers(&quot;/api/v*/**&quot;).permitAll()\r\n                .anyRequest()\r\n                .authenticated().and()\r\n                .formLogin();\r\n\r\n    }\r\n@Override\r\n    public void configure(AuthenticationManagerBuilder authenticationManagerBuilder) throws Exception {\r\n        authenticationManagerBuilder.userDetailsService(userService)\r\n                .passwordEncoder(passwordEncoder());\r\n    }\r\n\r\n    @Bean\r\n    PasswordEncoder passwordEncoder() {\r\n        return new BCryptPasswordEncoder();\r\n    }\r\n\r\n    @Bean\r\n    @Override\r\n    public AuthenticationManager authenticationManagerBean() throws Exception {\r\n        return super.authenticationManagerBean();\r\n    }\r\n}\r\n```\r\n\r\nI don&#39;t understand the meaning of : Is there an unresolvable circular reference?\r\nI&#39;ve remove all ```@Autowired```annotationd because Spring will attempt to find a bean of matching type. I through that was the problem but no.\r\n\r\n","title":"Error for creating multiples Beans : Is there an unresolvable circular reference?","body":"<p>When I'm trying to implement to login  part of my API and try to run it, I got many errors like bellow :</p>\n<pre><code>Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.\n2021-02-12 02:23:23.314 ERROR 25840 --- [           main] o.s.boot.SpringApplication               : Application run failed\n\norg.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'userController' defined in file [C:\\Users\\chafy\\Desktop\\cub\\back\\target\\classes\\com\\cesi\\cuberil\\controllers\\UserController.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'webSecurityConfig' defined in file [C:\\Users\\chafy\\Desktop\\cub\\back\\target\\classes\\com\\cesi\\cuberil\\security\\config\\WebSecurityConfig.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'userService' defined in file [C:\\Users\\chafy\\Desktop\\cub\\back\\target\\classes\\com\\cesi\\cuberil\\services\\UserService.class]: Unsatisfied dependency expressed through constructor parameter 2; nested exception is org.springframework.beans.factory.BeanCurrentlyInCreationException: Error creating bean with name 'org.springframework.security.authenticationManager': Requested bean is currently in creation: Is there an unresolvable circular reference?\n    at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:800) ~[spring-beans-5.3.3.jar:5.3.3]\n    at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:229) ~[spring-beans-5.3.3.jar:5.3.3]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1356) ~[spring-beans-5.3.3.jar:5.3.3]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1206) ~[spring-beans-5.3.3.jar:5.3.3]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:571) ~[spring-beans-5.3.3.jar:5.3.3]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:531) ~[spring-beans-5.3.3.jar:5.3.3]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.3.jar:5.3.3]\nCaused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'webSecurityConfig' defined in file [C:\\Users\\chafy\\Desktop\\cub\\back\\target\\classes\\com\\cesi\\cuberil\\security\\config\\WebSecurityConfig.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'userService' defined in file [C:\\Users\\chafy\\Desktop\\cub\\back\\target\\classes\\com\\cesi\\cuberil\\services\\UserService.class]: Unsatisfied dependency expressed through constructor parameter 2; nested exception is org.springframework.beans.factory.BeanCurrentlyInCreationException: Error creating bean with name 'org.springframework.security.authenticationManager': Requested bean is currently in creation: Is there an unresolvable circular reference?\n    at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:800) ~[spring-beans-5.3.3.jar:5.3.3]\n    at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:229) ~[spring-beans-5.3.3.jar:5.3.3]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1356) ~[spring-beans-5.3.3.jar:5.3.3]\nCaused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'userService' defined in file [C:\\Users\\chafy\\Desktop\\cub\\back\\target\\classes\\com\\cesi\\cuberil\\services\\UserService.class]: Unsatisfied dependency expressed through constructor parameter 2; nested exception is org.springframework.beans.factory.BeanCurrentlyInCreationException: Error creating bean with name 'org.springframework.security.authenticationManager': Requested bean is currently in creation: Is there an unresolvable circular reference?\n    at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:800) ~[spring-beans-5.3.3.jar:5.3.3]\n    at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:229) ~[spring-beans-5.3.3.jar:5.3.3]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1356) ~[spring-beans-5.3.3.jar:5.3.3]\nCaused by: org.springframework.beans.factory.BeanCurrentlyInCreationException: Error creating bean with name 'org.springframework.security.authenticationManager': Requested bean is currently in creation: Is there an unresolvable circular reference?\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.beforeSingletonCreation(DefaultSingletonBeanRegistry.java:355) ~[spring-beans-5.3.3.jar:5.3.3]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:227) ~[spring-beans-5.3.3.jar:5.3.3]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.3.jar:5.3.3]\n</code></pre>\n<p>I'm new to Spring se I don't really know what the error means.</p>\n<p>here the following classes :</p>\n<p>UserController :</p>\n<pre><code>@RestController\n@RequestMapping(path=&quot;api/v1/user&quot;)\n@AllArgsConstructor\n@CrossOrigin(origins = &quot;*&quot;)\npublic class UserController implements Routes {\n\n    private final AuthenticationManager authenticationManager;\n    private final RegistrationService registrationService;\n\n    @PostMapping(registration)\n    public String register(@RequestBody RegistrationRequest request){\n        return registrationService.register(request);\n    }\n\n    @PostMapping(login)\n    public ResponseEntity&lt;?&gt; login(@Valid @RequestBody LoginRequest loginRequest) {\n        Authentication authentication = authenticationManager.authenticate(\n                new UsernamePasswordAuthenticationToken(loginRequest.getUserName(), loginRequest.getPassword()));\n\n        SecurityContextHolder.getContext().setAuthentication(authentication);\n        User myUserDetails = (User) SecurityContextHolder.getContext().getAuthentication().getPrincipal();\n        List&lt;String&gt; roles = myUserDetails.getAuthorities().stream()\n                .map(item -&gt; item.getAuthority())\n                .collect(Collectors.toList());\n\n        return ResponseEntity.ok(&quot;OKKKK CONNECtÃ©&quot;);\n    }\n\n    @PostMapping(resetPassword)\n    public String resetPassword() {\n        return &quot;Password reset&quot;;\n    }\n\n\n    @GetMapping(path = confirm)\n    public String confirm(@RequestParam(&quot;token&quot;) String token) {\n        return registrationService.confirmToken(token);\n    }\n}\n</code></pre>\n<p>UserService :</p>\n<pre><code>@Service\n@AllArgsConstructor\npublic class UserService implements UserDetailsService {\n\n\n    private final static String USER_NOT_FOUND_MESSAGE = &quot;user with email %s not found&quot;;\n    private final UserRepository userRepository;\n    private final ConfirmationTokenService confirmationTokenService;\n    private final AuthenticationManager authenticationManager;\n\n    @Override\n    public UserDetails loadUserByUsername(String email)\n            throws UsernameNotFoundException {\n        return userRepository.findByEmail(email)\n                .orElseThrow(() -&gt; new UsernameNotFoundException(String.format(USER_NOT_FOUND_MESSAGE, email)));\n    }\n\n    public String signUpUser(User user) {\n        boolean userExists = userRepository.findByEmail(user.getEmail()).isPresent();\n        if (userExists) {\n            throw new IllegalStateException(&quot;Email already taken&quot;);\n        }\n        String encodedPassword = bCryptPasswordEncoder().encode(user.getPassword());\n        user.setPassword(encodedPassword);\n        userRepository.save(user);\n        String token = UUID.randomUUID().toString();\n        //TODO: Send Confirmation Token\n        ConfirmationToken confirmationToken = new ConfirmationToken(\n                token,\n                LocalDateTime.now(),\n                LocalDateTime.now().plusMinutes(15),\n                user\n        );\n\n        confirmationTokenService.saveConfirmationToken(confirmationToken);\n\n        //TODO: SEND EMAIL\n\n        return &quot;Token: &quot; + token + &quot;\\nFirstname: &quot; + user.getFirstName() + &quot;\\nLastname: &quot; + user.getLastName() +\n                &quot;\\nUsername: &quot; + user.getUsername() + &quot;\\nEmail: &quot; + user.getEmail();\n    }\n\n    public int enableAppUser(String email) {\n        return userRepository.enableAppUser(email);\n    }\n\n    public AuthenticationResponse login(LoginRequest loginRequest) {\n        Authentication authenticate = authenticationManager.authenticate(new UsernamePasswordAuthenticationToken(loginRequest.getUserName(),\n                loginRequest.getPassword()));\n        SecurityContextHolder.getContext().setAuthentication(authenticate);\n        return new AuthenticationResponse(loginRequest.getUserName());\n    }\n\n    public BCryptPasswordEncoder bCryptPasswordEncoder(){\n        return new BCryptPasswordEncoder();\n    }\n}\n</code></pre>\n<p>WebSecurityConfig :</p>\n<pre><code>@Configuration\n@AllArgsConstructor\n@EnableWebSecurity\npublic class WebSecurityConfig extends WebSecurityConfigurerAdapter {\n    private final UserService userService;\n    private final BCryptPasswordEncoder bCryptPasswordEncoder;\n\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        http.csrf().disable()\n                .authorizeRequests().antMatchers(&quot;/api/v*/**&quot;).permitAll()\n                .anyRequest()\n                .authenticated().and()\n                .formLogin();\n\n    }\n@Override\n    public void configure(AuthenticationManagerBuilder authenticationManagerBuilder) throws Exception {\n        authenticationManagerBuilder.userDetailsService(userService)\n                .passwordEncoder(passwordEncoder());\n    }\n\n    @Bean\n    PasswordEncoder passwordEncoder() {\n        return new BCryptPasswordEncoder();\n    }\n\n    @Bean\n    @Override\n    public AuthenticationManager authenticationManagerBean() throws Exception {\n        return super.authenticationManagerBean();\n    }\n}\n</code></pre>\n<p>I don't understand the meaning of : Is there an unresolvable circular reference?\nI've remove all <code>@Autowired</code>annotationd because Spring will attempt to find a bean of matching type. I through that was the problem but no.</p>\n"},{"tags":["java","spring","spring-boot","hibernate","jpa"],"answers":[{"tags":[],"owner":{"account_id":4153318,"reputation":19445,"user_id":3405171,"display_name":"v.ladynev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643108736,"creation_date":1643108736,"answer_id":70847563,"question_id":70844053,"body_markdown":"The most simple way is to save `Employee` twice in one transaction\r\n\r\n```java\r\n@Transactional\r\npublic void saveEmployee(Employee employee) {\r\n    employeeRepository.save(employee);\r\n    employeeRepository.flush(); // to have id\r\n\r\n    employee.setEmployeeId(EmployeeUtils.generateId(employee.getId()));\r\n    employeeRepository.save(employee);\r\n}\r\n```","title":"Update Column with the sequence of primaryKey in Spring boot jpa","body":"<p>The most simple way is to save <code>Employee</code> twice in one transaction</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Transactional\npublic void saveEmployee(Employee employee) {\n    employeeRepository.save(employee);\n    employeeRepository.flush(); // to have id\n\n    employee.setEmployeeId(EmployeeUtils.generateId(employee.getId()));\n    employeeRepository.save(employee);\n}\n</code></pre>\n"}],"owner":{"account_id":16132798,"reputation":51,"user_id":11790395,"display_name":"user11790395"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":245,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1643108736,"creation_date":1643090545,"question_id":70844053,"body_markdown":"I have a table called user table and having the primary key column as Id. Now there is another column employeeid.Now this column value should be generated based on the ID column. Employee Id column should be in the below format.\r\n\r\nEE00001 for employee where id column value is 1.&lt;br/&gt;\r\nES00002 for students where id column value is 2.\r\n\r\nThe goal is to &quot;for employee id i dont need to generate the sequence since sequence is already generating for id column so that i can use it.&quot;.\r\nSo how can i acheive this in spring boot jpa. Any other ideas for generating employee_id column is also helpful.","title":"Update Column with the sequence of primaryKey in Spring boot jpa","body":"<p>I have a table called user table and having the primary key column as Id. Now there is another column employeeid.Now this column value should be generated based on the ID column. Employee Id column should be in the below format.</p>\n<p>EE00001 for employee where id column value is 1.<br/>\nES00002 for students where id column value is 2.</p>\n<p>The goal is to &quot;for employee id i dont need to generate the sequence since sequence is already generating for id column so that i can use it.&quot;.\nSo how can i acheive this in spring boot jpa. Any other ideas for generating employee_id column is also helpful.</p>\n"},{"tags":["java","oracle","spring-boot","kotlin","spring-data-jpa"],"comments":[{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1641421522,"post_id":70600251,"comment_id":124803897,"body_markdown":"just use `val` instead of the type?","body":"just use <code>val</code> instead of the type?"}],"answers":[{"tags":[],"owner":{"account_id":10662643,"reputation":689,"user_id":7899567,"display_name":"Anton Tokmakov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1643108517,"creation_date":1643108517,"answer_id":70847512,"question_id":70600251,"body_markdown":"It&#39;s absolutely legal use @Query annotation in your kotlin code. For exmaple like this:\r\n\r\n    @Query(&quot;select getidstatus() from dual&quot;)\r\n    fun getIdStatus(): Clob\r\n\r\nAnd then you can write smomething like this:\r\n\r\n    val idsStatus = dbMonRepository.getIdStatus()\r\n    val idsStatusStr = idsStatus.getSubstring(1, Math.toIntExact(idsStatus.length)","title":"Kotlin CLOB to String","body":"<p>It's absolutely legal use @Query annotation in your kotlin code. For exmaple like this:</p>\n<pre><code>@Query(&quot;select getidstatus() from dual&quot;)\nfun getIdStatus(): Clob\n</code></pre>\n<p>And then you can write smomething like this:</p>\n<pre><code>val idsStatus = dbMonRepository.getIdStatus()\nval idsStatusStr = idsStatus.getSubstring(1, Math.toIntExact(idsStatus.length)\n</code></pre>\n"}],"owner":{"account_id":8482137,"reputation":1870,"user_id":6361565,"accept_rate":89,"display_name":"deChristo"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":297,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70847512,"answer_count":1,"score":0,"last_activity_date":1643108517,"creation_date":1641421098,"question_id":70600251,"body_markdown":"I have a function in Oracle that returns a CLOB. \r\nIn Java I can use the following code to execute this function and fetch the result:\r\n\r\nOracle function definition in my Repository class:\r\n\r\n     @Query(nativeQuery = true, value = &quot;SELECT GETIDSSTATUS() FROM DUAL&quot;)\r\n     Clob getIdsStatus();\r\n\r\nConversion to String:\r\n\r\n    Clob idsStatus = dbMonRepository.getIdsStatus();\r\n    String idsStatusStr = idsStatus.getSubString(1, Math.toIntExact(idsStatus.length()));\r\n\r\nWhat&#39;s the equivalent code in Kotlin or any other way to convert the Clob to String?","title":"Kotlin CLOB to String","body":"<p>I have a function in Oracle that returns a CLOB.\nIn Java I can use the following code to execute this function and fetch the result:</p>\n<p>Oracle function definition in my Repository class:</p>\n<pre><code> @Query(nativeQuery = true, value = &quot;SELECT GETIDSSTATUS() FROM DUAL&quot;)\n Clob getIdsStatus();\n</code></pre>\n<p>Conversion to String:</p>\n<pre><code>Clob idsStatus = dbMonRepository.getIdsStatus();\nString idsStatusStr = idsStatus.getSubString(1, Math.toIntExact(idsStatus.length()));\n</code></pre>\n<p>What's the equivalent code in Kotlin or any other way to convert the Clob to String?</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8342,"page":1650,"page_size":100}
