{"items":[{"tags":["java","elasticsearch","kibana"],"comments":[{"owner":{"account_id":24908380,"reputation":3091,"user_id":18778181,"display_name":"rabbitbr"},"score":0,"creation_date":1689359707,"post_id":76689006,"comment_id":135207741,"body_markdown":"I believe that you have documents duplicate.","body":"I believe that you have documents duplicate."},{"owner":{"account_id":16213808,"reputation":1,"user_id":11707061,"display_name":"Mik"},"score":0,"creation_date":1689411732,"post_id":76689006,"comment_id":135212092,"body_markdown":"@rabbitbr No the documents coming in response have same id. also, i cross checked on kibana","body":"@rabbitbr No the documents coming in response have same id. also, i cross checked on kibana"}],"owner":{"account_id":16213808,"reputation":1,"user_id":11707061,"display_name":"Mik"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":99,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689347419,"creation_date":1689347419,"question_id":76689006,"body_markdown":"I am using Elasticsearch Java API Client but getting duplicate documents in the response.\r\n\r\nBasically, I am trying to fetch documents from MyDocument index, which are in ON mode and have a certain tag from elastic. But the query returns duplicate results. I am getting the same documents twice. I have searched for solution on web but not able to get a solution for this. What is wrong with the below query?\r\nMost of the results on stack overflow shows solutions for High Level REST Client which is now deprecated.\r\n\r\n\r\n\r\n```\r\n\t\tSearchResponse&lt;MyDocument&gt; response = elasticsearchClient.search(fn -&gt; fn\r\n\t\t\t\t.query(query -&gt; query\r\n\t\t\t\t\t\t.bool(bq -&gt; bq\r\n\t\t\t\t\t\t\t\t.must(\r\n\t\t\t\t\t\t\t\t\tList.of(\r\n\t\t\t\t\t\t        \t\t    new Query.Builder()\r\n\t\t\t\t\t\t\t    \t\t    .term(t -&gt; t\r\n\t\t\t\t\t\t\t        \t\t        .field(mode.keyword)\r\n\t\t\t\t\t\t\t        \t\t        .value(&quot;ON&quot;)\r\n\t\t\t\t\t\t\t        \t\t    ).build()\r\n\t\t\t\t\t\t\t    \t\t    ,new Query.Builder()\r\n\t\t\t\t\t\t\t    \t\t    .matchPhrase(phrase -&gt; phrase\r\n\t\t\t\t\t\t\t        \t\t        .field(&quot;tags&quot;)                    \r\n\t\t\t\t\t\t\t        \t\t        .query(&quot;My tag&quot;)\r\n\t\t\t\t\t\t\t        \t\t    )\r\n\t\t\t\t\t\t\t        \t\t    .build()\r\n\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t))\r\n\t\t\t\t, MyDocument.class);\r\n```\r\n\r\n\r\n\r\n","title":"ElasticSearch Java API Client returning same document multiple times in response","body":"<p>I am using Elasticsearch Java API Client but getting duplicate documents in the response.</p>\n<p>Basically, I am trying to fetch documents from MyDocument index, which are in ON mode and have a certain tag from elastic. But the query returns duplicate results. I am getting the same documents twice. I have searched for solution on web but not able to get a solution for this. What is wrong with the below query?\nMost of the results on stack overflow shows solutions for High Level REST Client which is now deprecated.</p>\n<pre><code>        SearchResponse&lt;MyDocument&gt; response = elasticsearchClient.search(fn -&gt; fn\n                .query(query -&gt; query\n                        .bool(bq -&gt; bq\n                                .must(\n                                    List.of(\n                                            new Query.Builder()\n                                            .term(t -&gt; t\n                                                    .field(mode.keyword)\n                                                    .value(&quot;ON&quot;)\n                                                ).build()\n                                            ,new Query.Builder()\n                                            .matchPhrase(phrase -&gt; phrase\n                                                    .field(&quot;tags&quot;)                    \n                                                    .query(&quot;My tag&quot;)\n                                                )\n                                                .build()\n                                            )\n                                )\n                        ))\n                , MyDocument.class);\n</code></pre>\n"},{"tags":["java","list","variables","reference","reference-counting"],"comments":[{"owner":{"account_id":1960454,"reputation":44539,"user_id":1762224,"accept_rate":61,"display_name":"Mr. Polywhirl"},"score":1,"creation_date":1689343891,"post_id":76688476,"comment_id":135204357,"body_markdown":"Because each index of the array (memory address) is its own pointer back to the `a` reference. You should take a look at pointers in the C language to get some historical background. Java hides the pointer logic.","body":"Because each index of the array (memory address) is its own pointer back to the <code>a</code> reference. You should take a look at pointers in the C language to get some historical background. Java hides the pointer logic."},{"owner":{"account_id":17835,"reputation":303905,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":2,"creation_date":1689343937,"post_id":76688476,"comment_id":135204375,"body_markdown":"&quot;variables referencing&quot;? Two: `a` and `b`. How many *references* are there to `Car` objects? 6: `a`, `b`, `cars[0]`, `cars[1]`, `cars[2]` and `cars[3]`. References can exist in local variables, fields, as array members or as method parameters.","body":"&quot;variables referencing&quot;? Two: <code>a</code> and <code>b</code>. How many <i>references</i> are there to <code>Car</code> objects? 6: <code>a</code>, <code>b</code>, <code>cars[0]</code>, <code>cars[1]</code>, <code>cars[2]</code> and <code>cars[3]</code>. References can exist in local variables, fields, as array members or as method parameters."},{"owner":{"account_id":29017768,"reputation":1,"user_id":22227844,"display_name":"ImNotARobot"},"score":0,"creation_date":1689344427,"post_id":76688476,"comment_id":135204496,"body_markdown":"Are cars[0],cars[1],cars[2],cars[3] reference to &quot;a&quot;, not to Object Car() ? \ncars[0-3]--&gt;a--&gt;Car()&lt;--b","body":"Are cars[0],cars[1],cars[2],cars[3] reference to &quot;a&quot;, not to Object Car() ?  cars[0-3]--&gt;a--&gt;Car()&lt;--b"},{"owner":{"account_id":10121318,"reputation":421,"user_id":7478145,"display_name":"elgsylvain85"},"score":0,"creation_date":1689344677,"post_id":76688476,"comment_id":135204553,"body_markdown":"Please note that in Java, Array is completly different with List. Inside List you can add/remove item but Array cannot anymore change length after because each index is its own pointer to new reference like saying @Mr.Polywhirl","body":"Please note that in Java, Array is completly different with List. Inside List you can add/remove item but Array cannot anymore change length after because each index is its own pointer to new reference like saying @Mr.Polywhirl"},{"owner":{"display_name":"user6073886"},"score":0,"creation_date":1689344807,"post_id":76688476,"comment_id":135204590,"body_markdown":"@ImNotARobot if you reassign / change `a` after you initialize the `{a,a,a,a}` like `a = new Car(&quot;BMW&quot;);` this will not have any effect on your array and the array elements will still point to the old Car objects and not the new &quot;BMW&quot;. That should show you that all of those are separate reference variables. (This is because java [is pass by value](https://stackoverflow.com/questions/40480/is-java-pass-by-reference-or-pass-by-value))","body":"@ImNotARobot if you reassign / change <code>a</code> after you initialize the <code>{a,a,a,a}</code> like <code>a = new Car(&quot;BMW&quot;);</code> this will not have any effect on your array and the array elements will still point to the old Car objects and not the new &quot;BMW&quot;. That should show you that all of those are separate reference variables. (This is because java <a href=\"https://stackoverflow.com/questions/40480/is-java-pass-by-reference-or-pass-by-value\">is pass by value</a>)"}],"answers":[{"comments":[{"owner":{"account_id":29017768,"reputation":1,"user_id":22227844,"display_name":"ImNotARobot"},"score":0,"creation_date":1689347545,"post_id":76688604,"comment_id":135205294,"body_markdown":"Clarified the answer with the code. It feels like I can&#39;t understand one thing in any way and it ruins all my logic (","body":"Clarified the answer with the code. It feels like I can&#39;t understand one thing in any way and it ruins all my logic ("},{"owner":{"display_name":"user6073886"},"score":0,"creation_date":1689348999,"post_id":76688604,"comment_id":135205630,"body_markdown":"@ImNotARobot using Ashs diagram above think of it like that: Doing something like `a.model=&quot;KIA&quot;` you are changing the existing Car object (The car square). And because all References point to that one single object that change will seen in all those places. But when you do `a = new Car()` you are creating a new Car object and point `a` to that. So in above diagram you would create a second &quot;Car&quot; square, then remove the arrow from a to the old car object and connect it to the new object. But of course all the other references / arrows still point at the old object","body":"@ImNotARobot using Ashs diagram above think of it like that: Doing something like <code>a.model=&quot;KIA&quot;</code> you are changing the existing Car object (The car square). And because all References point to that one single object that change will seen in all those places. But when you do <code>a = new Car()</code> you are creating a new Car object and point <code>a</code> to that. So in above diagram you would create a second &quot;Car&quot; square, then remove the arrow from a to the old car object and connect it to the new object. But of course all the other references / arrows still point at the old object"}],"tags":[],"owner":{"account_id":4290427,"reputation":101,"user_id":9429560,"display_name":"Ash"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689345051,"creation_date":1689344620,"answer_id":76688604,"question_id":76688476,"body_markdown":"I&#39;ve added line numbers to your code to ease explaining what happens. This answer combines what Mr. Polywhirl and Joachim Sauer said in comments.\r\n\r\nFor this type of exercises (for example on an OCP exam) it can also help to draw out what happens using boxes and arrows.\r\n\r\n    1 class Car {}\r\n    2 \r\n    3 class Example {\r\n    4     public static void main (String[] args){\r\n    5         a=new Car();\r\n    6         b=new Car();\r\n    7         Car[] cars ={a,a,a,a};\r\n    8     }\r\n    9 }\r\n\r\nProgram execution starts on line 4. On line 5 the first reference to Car is made and stored in variable a. On line 6 a second reference to Car is made and stored in variable b.\r\n\r\nOn line 7, the Cars[] array is created, which is a new object containing the value of a four times. This creates four new references to Car stored in cars[0] through cars[3].\r\n\r\nDrawn out it looks like this (corrected, based on OH GOD SPIDER&#39;s comment):\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/HWpS6.png","title":"How to count references in java correctly?","body":"<p>I've added line numbers to your code to ease explaining what happens. This answer combines what Mr. Polywhirl and Joachim Sauer said in comments.</p>\n<p>For this type of exercises (for example on an OCP exam) it can also help to draw out what happens using boxes and arrows.</p>\n<pre><code>1 class Car {}\n2 \n3 class Example {\n4     public static void main (String[] args){\n5         a=new Car();\n6         b=new Car();\n7         Car[] cars ={a,a,a,a};\n8     }\n9 }\n</code></pre>\n<p>Program execution starts on line 4. On line 5 the first reference to Car is made and stored in variable a. On line 6 a second reference to Car is made and stored in variable b.</p>\n<p>On line 7, the Cars[] array is created, which is a new object containing the value of a four times. This creates four new references to Car stored in cars[0] through cars[3].</p>\n<p>Drawn out it looks like this (corrected, based on OH GOD SPIDER's comment):</p>\n<p><a href=\"https://i.stack.imgur.com/HWpS6.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/HWpS6.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":29017768,"reputation":1,"user_id":22227844,"display_name":"ImNotARobot"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":88,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1689347380,"creation_date":1689343691,"question_id":76688476,"body_markdown":"I have difficulties understanding how to correctly count a reference variables.\r\n\r\nExample (adopted from some book for java learning):\r\n\r\n```java\r\nclass Car {\r\n}\r\n\r\nclass Example {\r\n    public static void main(String[] args) {\r\n        a = new Car();\r\n        b = new Car();\r\n        Car[] cars = {a,a,a,a};\r\n    }\r\n}\r\n```\r\n\r\nHow many reference variables does class Car() have (variables referring to it)?\r\n\r\nMy answer is 2. There is only two variables &quot;a&quot; and &quot;b&quot; referring to object Car().\r\nBut correct answer is 6.\r\nWhy are variables a counted as separate references inside the list? Isn&#39;t it same reference &quot;a&quot;?","title":"How to count references in java correctly?","body":"<p>I have difficulties understanding how to correctly count a reference variables.</p>\n<p>Example (adopted from some book for java learning):</p>\n<pre class=\"lang-java prettyprint-override\"><code>class Car {\n}\n\nclass Example {\n    public static void main(String[] args) {\n        a = new Car();\n        b = new Car();\n        Car[] cars = {a,a,a,a};\n    }\n}\n</code></pre>\n<p>How many reference variables does class Car() have (variables referring to it)?</p>\n<p>My answer is 2. There is only two variables &quot;a&quot; and &quot;b&quot; referring to object Car().\nBut correct answer is 6.\nWhy are variables a counted as separate references inside the list? Isn't it same reference &quot;a&quot;?</p>\n"},{"tags":["java","spring"],"answers":[{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1689750855,"post_id":76688739,"comment_id":135255716,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/76688739/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":20486450,"reputation":1,"user_id":15033501,"display_name":"Brian Anderson"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689345600,"creation_date":1689345600,"answer_id":76688739,"question_id":76688618,"body_markdown":"This question seems similar to https://stackoverflow.com/questions/60765875/java-spring-failed-to-convert-property-value-of-type-java-lang-string-to-requ\r\n\r\nPerhaps try changing how you&#39;re sending the body by changing\r\nvar response = service.send(model);\r\n\r\nTo more closely resemble the json format something like:\r\n{ &quot;paramsMap&quot;: { &quot;Key1&quot;:&quot;Value1&quot;, &quot;Key2&quot;:&quot;Value2&quot; } }: \r\n","title":"My request is not able to accept a Map data object and throws 400 bad request","body":"<p>This question seems similar to <a href=\"https://stackoverflow.com/questions/60765875/java-spring-failed-to-convert-property-value-of-type-java-lang-string-to-requ\">Java_Spring: Failed to convert property value of type &#39;java.lang.String&#39; to required type &#39;java.util.Map&#39; for property &#39;paramsMap&#39;</a></p>\n<p>Perhaps try changing how you're sending the body by changing\nvar response = service.send(model);</p>\n<p>To more closely resemble the json format something like:\n{ &quot;paramsMap&quot;: { &quot;Key1&quot;:&quot;Value1&quot;, &quot;Key2&quot;:&quot;Value2&quot; } }:</p>\n"},{"comments":[{"owner":{"account_id":28107709,"reputation":111,"user_id":21476047,"display_name":"user21476047"},"score":0,"creation_date":1689346794,"post_id":76688883,"comment_id":135205131,"body_markdown":"I can&#39;t use RequestPart because I need to send a file within the api call","body":"I can&#39;t use RequestPart because I need to send a file within the api call"},{"owner":{"account_id":10121318,"reputation":421,"user_id":7478145,"display_name":"elgsylvain85"},"score":0,"creation_date":1689347116,"post_id":76688883,"comment_id":135205203,"body_markdown":"&quot;@RequestPart(&quot;file&quot;) MultipartFile file&quot; /  &quot;@RequestPart(&quot;files&quot;) List&lt;MultipartFile&gt; files&quot; or cast item from your &quot;Map&lt;String, Object&gt; data&quot;. You can also debug your request to explore &quot;data&quot;","body":"&quot;@RequestPart(&quot;file&quot;) MultipartFile file&quot; /  &quot;@RequestPart(&quot;files&quot;) List&lt;MultipartFile&gt; files&quot; or cast item from your &quot;Map&lt;String, Object&gt; data&quot;. You can also debug your request to explore &quot;data&quot;"}],"tags":[],"owner":{"account_id":10121318,"reputation":421,"user_id":7478145,"display_name":"elgsylvain85"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689346619,"creation_date":1689346619,"answer_id":76688883,"question_id":76688618,"body_markdown":"Try with @RequestPart annotation : \r\n\r\n    @PostMapping(value = &quot;/send&quot;, produces = { MediaType.APPLICATION_JSON_VALUE }, consumes = {MediaType.MULTIPART_FORM_DATA_VALUE })\r\n    public ResponseEntity&lt;Response&gt; send(@RequestPart Map&lt;String, Object&gt; data){}\r\n\r\nOr if you can consume json then :\r\n\r\n\r\n    @PostMapping(value = &quot;/send&quot;, produces = { MediaType.APPLICATION_JSON_VALUE }, consumes = {MediaType.APPLICATION_JSON_VALUE })\r\n    public ResponseEntity&lt;Response&gt; send(@RequestBody RequestModelDto data){}","title":"My request is not able to accept a Map data object and throws 400 bad request","body":"<p>Try with @RequestPart annotation :</p>\n<pre><code>@PostMapping(value = &quot;/send&quot;, produces = { MediaType.APPLICATION_JSON_VALUE }, consumes = {MediaType.MULTIPART_FORM_DATA_VALUE })\npublic ResponseEntity&lt;Response&gt; send(@RequestPart Map&lt;String, Object&gt; data){}\n</code></pre>\n<p>Or if you can consume json then :</p>\n<pre><code>@PostMapping(value = &quot;/send&quot;, produces = { MediaType.APPLICATION_JSON_VALUE }, consumes = {MediaType.APPLICATION_JSON_VALUE })\npublic ResponseEntity&lt;Response&gt; send(@RequestBody RequestModelDto data){}\n</code></pre>\n"}],"owner":{"account_id":28107709,"reputation":111,"user_id":21476047,"display_name":"user21476047"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1689347265,"creation_date":1689344675,"question_id":76688618,"body_markdown":"My `Map&lt;String, Object&gt;` parameter is throwing a `400 bad request error` with the following message, `Cannot convert value of type &#39;java.lang.String&#39; to required type &#39;java.util.Map&#39; for property &#39;data&#39;` and I am not sure why?\r\n\r\nIn my postman, I go to `Body` then `form-data` and I place `data` under `Key` then I place the following value `{ &quot;key&quot;: &quot;value&quot; }`.\r\n\r\nMy model with the request parameter and controller:\r\n\r\n    public class RequestModel {\r\n\r\n       @Schema(type = &quot;object&quot;)\r\n       private Map&lt;String, Object&gt; data;\r\n\r\n       private MultipartFile file;\r\n       private String requestId;\r\n       private String date;\r\n\r\n    }\r\n\r\n    public class Controller {\r\n       \r\n       @PostMapping(value = &quot;/send&quot;, produces = { MediaType.APPLICATION_JSON_VALUE }, consumes = {\r\n            MediaType.MULTIPART_FORM_DATA_VALUE })\r\n       public ResponseEntity&lt;Response&gt; send(@ModelAttribute final RequestModel model) {\r\n\t      var response = service.send(model);\r\n\t      return ResponseEntity.ok(response);\r\n       }\r\n\r\n    }\r\n\r\n---\r\n\r\nAll my other parameters is able to get pass fine, except for the `Map`.\r\n","title":"My request is not able to accept a Map data object and throws 400 bad request","body":"<p>My <code>Map&lt;String, Object&gt;</code> parameter is throwing a <code>400 bad request error</code> with the following message, <code>Cannot convert value of type 'java.lang.String' to required type 'java.util.Map' for property 'data'</code> and I am not sure why?</p>\n<p>In my postman, I go to <code>Body</code> then <code>form-data</code> and I place <code>data</code> under <code>Key</code> then I place the following value <code>{ &quot;key&quot;: &quot;value&quot; }</code>.</p>\n<p>My model with the request parameter and controller:</p>\n<pre><code>public class RequestModel {\n\n   @Schema(type = &quot;object&quot;)\n   private Map&lt;String, Object&gt; data;\n\n   private MultipartFile file;\n   private String requestId;\n   private String date;\n\n}\n\npublic class Controller {\n   \n   @PostMapping(value = &quot;/send&quot;, produces = { MediaType.APPLICATION_JSON_VALUE }, consumes = {\n        MediaType.MULTIPART_FORM_DATA_VALUE })\n   public ResponseEntity&lt;Response&gt; send(@ModelAttribute final RequestModel model) {\n      var response = service.send(model);\n      return ResponseEntity.ok(response);\n   }\n\n}\n</code></pre>\n<hr />\n<p>All my other parameters is able to get pass fine, except for the <code>Map</code>.</p>\n"},{"tags":["java","gzip","ioexception","gzipstream","gzipinputstream"],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1689347219,"creation_date":1689347219,"answer_id":76688976,"question_id":76688738,"body_markdown":"&gt; I have a feeling that this might be related to encoding.\r\n\r\nThat&#39;s not even relevant.\r\n\r\nmemory and disk space (and network pipes and just about every other low-level comms channel a computer system offers) consists of bytes. That means you can send a sequence of values, each value between 0 and 255.\r\n\r\nText is something quite different. There are vastly more than 255 characters one could feasibly want to send, so, how do we do that?\r\n\r\n__That is what encoding is__: An algorithm that turns a sequence of characters into a sequence of bytes. And vice versa.\r\n\r\nThe US-ASCII protocol, for example, maps byte values 0-31 to certain control concepts (Such as &#39;newline&#39; or &#39;tab&#39;), 32-126 to certain symbols (such as &#39;A&#39;) and decrees that __no other symbols can exist__ (and further decrees that the bytestream will simply never contain any values above 127 - the top bit is always 0). If you want to send an &#233;, tough - you can&#39;t. It&#39;s not one of the 94 symbols that the US-ASCII spec defines. The advantage is, it&#39;s a very simple encoding with a few nice properties (such as: The length of the data in bytes is more or less identical to the length of the data in characters).\r\n\r\nThe UTF-8 protocol lets you send any unicode character, at the cost of taking anywhere between 1 and 5 bytes to encode a single character. And so on.\r\n\r\nPoint is, &quot;encoding&quot; is __fundamentally__ a property of __text__.\r\n\r\nGZipped data isn&#39;t. text, therefore &#39;what encoding is this gzip file&#39; is about as sensical a question as &#39;what color is the taste of apple pie&#39;. The question is a non-sequitur.\r\n\r\n&gt; ```\r\n&gt; } catch (IOException ex) {\r\n&gt;      Base.print(ex.getMessage(), Base.TEXT_TYPE.ERROR);\r\n&gt; }\r\n&gt; ```\r\n\r\nThis isn&#39;t good. An exception consists of in basis 5 useful properties:\r\n\r\n* Its type (For example, `NoSuchFileException`)\r\n* Its message (For example, &#39;disk unmounted&#39;)\r\n* Its causal chain (sometimes an exception is caused by another and the cause is often more useful. And that cause can itself have a cause, and so on).\r\n* Its stack trace, which tells you where in the code the problem occurs.\r\n* Its suppressed exceptions (this is rarely useful).\r\n* Exceptions are java types and can have more info. For example, SQLException contains the SQL-side &#39;error state&#39; number which can be useful.\r\n\r\nYou&#39;re tossing all that in the garbage, except for &#39;the message&#39;, which is generally defined as not being meaningful without _also_ having the context of the exception type.\r\n\r\nThis code boils down to the following error handling scheme:\r\n\r\n* An error has occurred.\r\n* Take the top-level explanation of what the problem is and __chuck it in the garbage__. (ditch the exception&#39;s type)\r\n* Take the relevant details about what went wrong under the hood and __rip it to pieces__. (ditch the causal chain).\r\n* Take the info about where the problem occurred in the code so you know as developer where to go to fix it, and __destroy it__. (ditch the stack trace).\r\n* Print the &#39;middle-level&#39; explanation, which is likely a non-sensical string without all the other context, to somewhere.\r\n* Now __continue as if nothing was wrong__.\r\n\r\nNone of this is right.\r\n\r\nAnd that last bullet can easily explain why you are seeing all zeroes: If the exception does occur you print something and just keep on going. A half-baked truncated gzip file (which would cause &#39;not in gzip format&#39; when you try to read the half-baked product) can of course occur if you ignore an error that occurs halfway through the process.\r\n\r\nThe code as pasted will not result in all-zeroes unless your JVM or kernel is corrupted, or you&#39;re not running this code, or you&#39;re editing the file later on, or the storage layer is corrupted (disk failure), or something similarly exotic.\r\n\r\nHence, keeping a better eye out on the error is the first thing to check. It is very very rare that _writing_ to a disk is completely fine (no errors at all), but when reading, due to disk corruption, you get all zeroes back. Writing to disk, getting an error, and then having the half-baked remains of this process read back as all zeroes is still rare but not nearly as rare.\r\n\r\n","title":"Failing GZIPInputStream","body":"<blockquote>\n<p>I have a feeling that this might be related to encoding.</p>\n</blockquote>\n<p>That's not even relevant.</p>\n<p>memory and disk space (and network pipes and just about every other low-level comms channel a computer system offers) consists of bytes. That means you can send a sequence of values, each value between 0 and 255.</p>\n<p>Text is something quite different. There are vastly more than 255 characters one could feasibly want to send, so, how do we do that?</p>\n<p><strong>That is what encoding is</strong>: An algorithm that turns a sequence of characters into a sequence of bytes. And vice versa.</p>\n<p>The US-ASCII protocol, for example, maps byte values 0-31 to certain control concepts (Such as 'newline' or 'tab'), 32-126 to certain symbols (such as 'A') and decrees that <strong>no other symbols can exist</strong> (and further decrees that the bytestream will simply never contain any values above 127 - the top bit is always 0). If you want to send an é, tough - you can't. It's not one of the 94 symbols that the US-ASCII spec defines. The advantage is, it's a very simple encoding with a few nice properties (such as: The length of the data in bytes is more or less identical to the length of the data in characters).</p>\n<p>The UTF-8 protocol lets you send any unicode character, at the cost of taking anywhere between 1 and 5 bytes to encode a single character. And so on.</p>\n<p>Point is, &quot;encoding&quot; is <strong>fundamentally</strong> a property of <strong>text</strong>.</p>\n<p>GZipped data isn't. text, therefore 'what encoding is this gzip file' is about as sensical a question as 'what color is the taste of apple pie'. The question is a non-sequitur.</p>\n<blockquote>\n<pre><code>} catch (IOException ex) {\n     Base.print(ex.getMessage(), Base.TEXT_TYPE.ERROR);\n}\n</code></pre>\n</blockquote>\n<p>This isn't good. An exception consists of in basis 5 useful properties:</p>\n<ul>\n<li>Its type (For example, <code>NoSuchFileException</code>)</li>\n<li>Its message (For example, 'disk unmounted')</li>\n<li>Its causal chain (sometimes an exception is caused by another and the cause is often more useful. And that cause can itself have a cause, and so on).</li>\n<li>Its stack trace, which tells you where in the code the problem occurs.</li>\n<li>Its suppressed exceptions (this is rarely useful).</li>\n<li>Exceptions are java types and can have more info. For example, SQLException contains the SQL-side 'error state' number which can be useful.</li>\n</ul>\n<p>You're tossing all that in the garbage, except for 'the message', which is generally defined as not being meaningful without <em>also</em> having the context of the exception type.</p>\n<p>This code boils down to the following error handling scheme:</p>\n<ul>\n<li>An error has occurred.</li>\n<li>Take the top-level explanation of what the problem is and <strong>chuck it in the garbage</strong>. (ditch the exception's type)</li>\n<li>Take the relevant details about what went wrong under the hood and <strong>rip it to pieces</strong>. (ditch the causal chain).</li>\n<li>Take the info about where the problem occurred in the code so you know as developer where to go to fix it, and <strong>destroy it</strong>. (ditch the stack trace).</li>\n<li>Print the 'middle-level' explanation, which is likely a non-sensical string without all the other context, to somewhere.</li>\n<li>Now <strong>continue as if nothing was wrong</strong>.</li>\n</ul>\n<p>None of this is right.</p>\n<p>And that last bullet can easily explain why you are seeing all zeroes: If the exception does occur you print something and just keep on going. A half-baked truncated gzip file (which would cause 'not in gzip format' when you try to read the half-baked product) can of course occur if you ignore an error that occurs halfway through the process.</p>\n<p>The code as pasted will not result in all-zeroes unless your JVM or kernel is corrupted, or you're not running this code, or you're editing the file later on, or the storage layer is corrupted (disk failure), or something similarly exotic.</p>\n<p>Hence, keeping a better eye out on the error is the first thing to check. It is very very rare that <em>writing</em> to a disk is completely fine (no errors at all), but when reading, due to disk corruption, you get all zeroes back. Writing to disk, getting an error, and then having the half-baked remains of this process read back as all zeroes is still rare but not nearly as rare.</p>\n"}],"owner":{"account_id":14258107,"reputation":3,"user_id":10299751,"display_name":"Obsyd"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76688976,"answer_count":1,"score":0,"last_activity_date":1689347219,"creation_date":1689345584,"question_id":76688738,"body_markdown":"My Java app writes out a gzip compressed object to a file using try-with resources statement. The object is a very basic with a couple of primitive fields and an ArrayList of Integers. It has no Strings or more complex objects within.\r\nOn some machines once the object is written out, reading it back fails with the error code of the file not being in proper gzip format. When examining the file it is full of zero values.\r\n\r\nHere is the code that compresses and writes out the object:\r\n\r\n```\r\npublic static void write_SerialisedCompressed_Object(String folder, String fileName, Object objectToBeSerialised) {\r\n        File node = newFile(folder, fileName);\r\n        try (OutputStream os = Files.newOutputStream(node.toPath());\r\n             GZIPOutputStream gOS = new GZIPOutputStream(os);\r\n             ObjectOutputStream oOS = new ObjectOutputStream(gOS)) {\r\n            oOS.writeObject(objectToBeSerialised);\r\n        } catch (IOException ex) {\r\n            Base.print(ex.getMessage(), Base.TEXT_TYPE.ERROR);\r\n        }\r\n    }\r\n```\r\n\r\nHere is the code that reads the file:\r\n\r\n```\r\npublic static Object readCompressedSerialisedObject_File(String folder, String fileName) {\r\n        try (InputStream is = Files.newInputStream(newFile(folder, fileName).toPath());\r\n             GZIPInputStream gIS = new GZIPInputStream(is);\r\n             ObjectInputStream oIS = new ObjectInputStream(gIS)) {\r\n            return oIS.readObject();\r\n        } catch (Exception ex) {\r\n            String error = &quot;Error in: &quot; + folder + fileName + &quot; readCompressedSerialisedObject_File &quot; + ex.getMessage() + &quot; &quot; + ex.getClass() + &quot; &quot; + ex.getCause();\r\n            Base.print(error, Base.TEXT_TYPE.ERROR);\r\n            throw new RuntimeException(error);\r\n        }\r\n    }\r\n```\r\n\r\n\r\n\r\n\r\nI have a feeling that this might be related to encoding. But if the file has been written out on the same machine that it is being read back why would that matter?\r\nAny help is welcome. Thanks!","title":"Failing GZIPInputStream","body":"<p>My Java app writes out a gzip compressed object to a file using try-with resources statement. The object is a very basic with a couple of primitive fields and an ArrayList of Integers. It has no Strings or more complex objects within.\nOn some machines once the object is written out, reading it back fails with the error code of the file not being in proper gzip format. When examining the file it is full of zero values.</p>\n<p>Here is the code that compresses and writes out the object:</p>\n<pre><code>public static void write_SerialisedCompressed_Object(String folder, String fileName, Object objectToBeSerialised) {\n        File node = newFile(folder, fileName);\n        try (OutputStream os = Files.newOutputStream(node.toPath());\n             GZIPOutputStream gOS = new GZIPOutputStream(os);\n             ObjectOutputStream oOS = new ObjectOutputStream(gOS)) {\n            oOS.writeObject(objectToBeSerialised);\n        } catch (IOException ex) {\n            Base.print(ex.getMessage(), Base.TEXT_TYPE.ERROR);\n        }\n    }\n</code></pre>\n<p>Here is the code that reads the file:</p>\n<pre><code>public static Object readCompressedSerialisedObject_File(String folder, String fileName) {\n        try (InputStream is = Files.newInputStream(newFile(folder, fileName).toPath());\n             GZIPInputStream gIS = new GZIPInputStream(is);\n             ObjectInputStream oIS = new ObjectInputStream(gIS)) {\n            return oIS.readObject();\n        } catch (Exception ex) {\n            String error = &quot;Error in: &quot; + folder + fileName + &quot; readCompressedSerialisedObject_File &quot; + ex.getMessage() + &quot; &quot; + ex.getClass() + &quot; &quot; + ex.getCause();\n            Base.print(error, Base.TEXT_TYPE.ERROR);\n            throw new RuntimeException(error);\n        }\n    }\n</code></pre>\n<p>I have a feeling that this might be related to encoding. But if the file has been written out on the same machine that it is being read back why would that matter?\nAny help is welcome. Thanks!</p>\n"},{"tags":["java","for-loop","if-statement"],"comments":[{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":3,"creation_date":1689346161,"post_id":76688780,"comment_id":135204955,"body_markdown":"start working on correct/consistent indentation of the code - as posted here it is VERY hard to read/understand/debug || BTW you can compare characters `charAt(i) == &#39;1&#39;` || BTW2 since you are already using `Integer`, it has a `bitCount()` method","body":"start working on correct/consistent indentation of the code - as posted here it is VERY hard to read/understand/debug || BTW you can compare characters <code>charAt(i) == &#39;1&#39;</code> || BTW2 since you are already using <code>Integer</code>, it has a <code>bitCount()</code> method"},{"owner":{"account_id":3557625,"reputation":199021,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1689346188,"post_id":76688780,"comment_id":135204961,"body_markdown":"VTC as typo. `r =+ 1;` should be `r++;` **or** `r += 1;` also `i == count` should be `i &lt; count` in the loop condition. Converting the `int` to a binary string is a bit wasteful, `int r = 0; for (; n &gt; 0; n /= 2) { if ((n &amp; 1) == 1) { r++; } } return r;`","body":"VTC as typo. <code>r =+ 1;</code> should be <code>r++;</code> <b>or</b> <code>r += 1;</code> also <code>i == count</code> should be <code>i &lt; count</code> in the loop condition. Converting the <code>int</code> to a binary string is a bit wasteful, <code>int r = 0; for (; n &gt; 0; n &#47;= 2) { if ((n &amp; 1) == 1) { r++; } } return r;</code>"},{"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1689349607,"post_id":76688780,"comment_id":135205775,"body_markdown":"How did this code print anything?  It is syntactically flawed and would not compile.  You did not initialize `r` to `0`.","body":"How did this code print anything?  It is syntactically flawed and would not compile.  You did not initialize <code>r</code> to <code>0</code>."}],"answers":[{"comments":[{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":2,"creation_date":1689348530,"post_id":76688882,"comment_id":135205522,"body_markdown":"&quot;some ide&#39;s may complain&quot; - I think every Java compliant compiler must complain about not explicitly initializing `r` (a local variable). JLS [Chapter 16. Definite Assignment](https://docs.oracle.com/javase/specs/jls/se20/html/jls-16.html): &quot;Every local variable declared by a statement (&#167;14.4.2, &#167;14.14.1, &#167;14.14.2, &#167;14.20.3) and every blank final field (&#167;4.12.4, &#167;8.3.1.2) must have a definitely assigned value when any access of its value occurs.&quot;","body":"&quot;some ide&#39;s may complain&quot; - I think every Java compliant compiler must complain about not explicitly initializing <code>r</code> (a local variable). JLS <a href=\"https://docs.oracle.com/javase/specs/jls/se20/html/jls-16.html\" rel=\"nofollow noreferrer\">Chapter 16. Definite Assignment</a>: &quot;Every local variable declared by a statement (&#167;14.4.2, &#167;14.14.1, &#167;14.14.2, &#167;14.20.3) and every blank final field (&#167;4.12.4, &#167;8.3.1.2) must have a definitely assigned value when any access of its value occurs.&quot;"},{"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"score":1,"creation_date":1689348995,"post_id":76688882,"comment_id":135205627,"body_markdown":"@user16320675 I wasn&#39;t certain.  Eclipse complains.  But the OP says his code prints the default value even though `r` has not been initialized.  My assumption was that if it was required, his code wouldn&#39;t compile.","body":"@user16320675 I wasn&#39;t certain.  Eclipse complains.  But the OP says his code prints the default value even though <code>r</code> has not been initialized.  My assumption was that if it was required, his code wouldn&#39;t compile."},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1689349207,"post_id":76688882,"comment_id":135205674,"body_markdown":"good point... how did they run it?","body":"good point... how did they run it?"},{"owner":{"account_id":9459090,"reputation":13,"user_id":21831940,"display_name":"Juan Diego Pena Castillo"},"score":0,"creation_date":1689372903,"post_id":76688882,"comment_id":135209668,"body_markdown":"Thanks, I did not know about the LSB or the n&gt;&gt;1. Great and concrete explanation.","body":"Thanks, I did not know about the LSB or the n&gt;&gt;1. Great and concrete explanation."},{"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1689374771,"post_id":76688882,"comment_id":135209838,"body_markdown":"@JuanDiegoPenaCastillo  Using `&amp;` is an AND operation.  It is useful for masking off bits.   I recommend you read up on AND, OR `|`and XOR (exclusive OR) (in java it&#39;s `^`) to see how they work.  They can be a great help in some programming algorithms. Check out [Bit Operations](https://en.wikipedia.org/wiki/Bitwise_operation)","body":"@JuanDiegoPenaCastillo  Using <code>&amp;</code> is an AND operation.  It is useful for masking off bits.   I recommend you read up on AND, OR <code>|</code>and XOR (exclusive OR) (in java it&#39;s <code>^</code>) to see how they work.  They can be a great help in some programming algorithms. Check out <a href=\"https://en.wikipedia.org/wiki/Bitwise_operation\" rel=\"nofollow noreferrer\">Bit Operations</a>"}],"tags":[],"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"comment_count":5,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1689346993,"creation_date":1689346618,"answer_id":76688882,"question_id":76688780,"body_markdown":"\r\nYou are not incrementing `r` correctly.  Use `r++;`  And some ide&#39;s may complain about not explicitly initializing `r`.\r\n\r\nBut you don&#39;t need to convert to a string. Assuming you don&#39;t want to or can&#39;t use `Integer.bitCount()`, then here is one way.\r\n- initialize count to 0.\r\n- check the least significant bit (LSB). If `n&amp;1` return `0` if LSB is `0`, else it returns `1`.\r\n- `n&gt;&gt;1` shifts right 1 bit to expose next bit.\r\n```\r\npublic static int countBits(int n) {\r\n    int count = 0;\r\n    while (n &gt; 0) {\r\n       count += n&amp;1;\r\n       n &gt;&gt;= 1;\r\n    }\r\n   return count;\r\n}","title":"Bit Counting (just the #1)","body":"<p>You are not incrementing <code>r</code> correctly.  Use <code>r++;</code>  And some ide's may complain about not explicitly initializing <code>r</code>.</p>\n<p>But you don't need to convert to a string. Assuming you don't want to or can't use <code>Integer.bitCount()</code>, then here is one way.</p>\n<ul>\n<li>initialize count to 0.</li>\n<li>check the least significant bit (LSB). If <code>n&amp;1</code> return <code>0</code> if LSB is <code>0</code>, else it returns <code>1</code>.</li>\n<li><code>n&gt;&gt;1</code> shifts right 1 bit to expose next bit.</li>\n</ul>\n<pre><code>public static int countBits(int n) {\n    int count = 0;\n    while (n &gt; 0) {\n       count += n&amp;1;\n       n &gt;&gt;= 1;\n    }\n   return count;\n}\n</code></pre>\n"}],"owner":{"account_id":9459090,"reputation":13,"user_id":21831940,"display_name":"Juan Diego Pena Castillo"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76688882,"answer_count":1,"score":1,"last_activity_date":1689346993,"creation_date":1689345861,"question_id":76688780,"body_markdown":"I made a function that follows this Example: The binary representation of 1234 is 10011010010, so the function should return 5 in this case. \r\n\r\nBut after testing it do give me the default variable value.\r\n\r\nMy code:\r\n\r\n```\r\npublic class BitCounting {\r\n\r\n\tpublic static int countBits(int n){\r\n\t    int r;\r\n      String bits = Integer.toBinaryString(n);\r\n      if (n &lt; 0){\r\n        r = 0;\r\n        }else{\r\n      int count = bits.length();\r\n      for (int i=0; i == count ;i++){\r\n        int c = Integer.parseInt(String.valueOf(bits.charAt(i)));\r\n        if ( c==1){ \r\n          r =+ 1;\r\n          };\r\n        };\r\n      };\r\n\treturn r;\r\n  }\r\n\t\r\n}\r\n```\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nI believe that for some reason it is not reading the `If` statement as well as the `for` statement","title":"Bit Counting (just the #1)","body":"<p>I made a function that follows this Example: The binary representation of 1234 is 10011010010, so the function should return 5 in this case.</p>\n<p>But after testing it do give me the default variable value.</p>\n<p>My code:</p>\n<pre><code>public class BitCounting {\n\n    public static int countBits(int n){\n        int r;\n      String bits = Integer.toBinaryString(n);\n      if (n &lt; 0){\n        r = 0;\n        }else{\n      int count = bits.length();\n      for (int i=0; i == count ;i++){\n        int c = Integer.parseInt(String.valueOf(bits.charAt(i)));\n        if ( c==1){ \n          r =+ 1;\n          };\n        };\n      };\n    return r;\n  }\n    \n}\n</code></pre>\n<p>I believe that for some reason it is not reading the <code>If</code> statement as well as the <code>for</code> statement</p>\n"},{"tags":["java","spring-boot","multithreading","scheduled-tasks","spring-test"],"owner":{"account_id":24109083,"reputation":150,"user_id":18079889,"display_name":"Mohammed Fataka"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689346728,"creation_date":1689333500,"question_id":76687181,"body_markdown":"i have problem understanding some of my test cases and their results when i am trying to test multi-threaded and non-multi-threaded `ThreadPoolTaskScheduler()`\r\n\r\ni have following methods for both scenarios.\r\n```\r\n    private int counter;\r\n\r\n    private void increment() {\r\n        counter++;\r\n    }\r\n\r\n\r\n    public String doWork(final CountDownLatch latch, final int taskNo) {\r\n        System.out.println(&quot;running task: &quot; + taskNo);\r\n        latch.countDown();\r\n        increment();\r\n        return taskNo == 1 ? &quot;First&quot; : &quot;Second&quot;;\r\n    }\r\n\r\n```\r\n\r\n\r\n\r\nbasically one of them will have one thread assigned, and the test case would be to schedule two tasks on it, as below:\r\n\r\n```\r\n    @Test\r\n    @SneakyThrows\r\n    public void shouldNotBeAbleToSimultaneouslyScheduleTest() {\r\n        final var taskScheduler = new ThreadPoolTaskScheduler();\r\n        taskScheduler.setPoolSize(1);\r\n        taskScheduler.setThreadNamePrefix(&quot;test-&quot;);\r\n        taskScheduler.initialize();\r\n\r\n        final var latch = new CountDownLatch(2);\r\n\r\n        final var inOneSecond = Instant.now().plusSeconds(1);\r\n        final var taskOrders = new ArrayList&lt;String&gt;();\r\n        taskScheduler.schedule(() -&gt; {\r\n                    try {\r\n                        Assertions.assertEquals(1, counter); // --&gt; Why it is 1 and not 0?\r\n                        // make thread wait 5 seconds to do increment\r\n                        Thread.sleep(5000);\r\n                        //increment\r\n                        taskOrders.add(doWork(latch, 1));\r\n                    } catch (InterruptedException e) {\r\n                        throw new RuntimeException(e);\r\n                    }\r\n                }\r\n\r\n                , inOneSecond);\r\n\r\n        taskScheduler.schedule(() -&gt; {\r\n                    Assertions.assertEquals(0, counter);\r\n                    //increment\r\n                    taskOrders.add(doWork(latch, 2));\r\n                    // counter should be 1 since only current task is completed\r\n                    Assertions.assertEquals(1, counter);\r\n                }\r\n                , inOneSecond);\r\n\r\n        final var bothCompleted = latch.await(7, TimeUnit.SECONDS);\r\n        // assert both tasks completed\r\n        Assertions.assertTrue(bothCompleted);\r\n        // assert both tasks incremented it\r\n        Assertions.assertEquals(2, counter);\r\n        // second task was first to run\r\n        Assertions.assertEquals(&quot;Second&quot;, taskOrders.get(0));\r\n        // first task was second to run\r\n        Assertions.assertEquals(&quot;First&quot;, taskOrders.get(1));\r\n    }\r\n```\r\n\r\nnow in this test scenario i wanna understand why in the first task counter is 1, because how i grasp it, is that one thread is doing first task which initially counter is 0 how it can run second task first, while it is in first task? \r\n\r\n\r\n\r\n\r\n\r\nsecond scenario is when it `ThreadPoolTaskScheduler()` is assigned to have 2 threads as below:\r\n\r\n\r\n\r\n```\r\n    @Test\r\n    @SneakyThrows\r\n    public void shouldSimultaneouslyScheduleTest() {\r\n        final var taskScheduler = new ThreadPoolTaskScheduler();\r\n        taskScheduler.setPoolSize(2);\r\n        taskScheduler.setThreadNamePrefix(&quot;test-&quot;);\r\n        taskScheduler.initialize();\r\n\r\n        final var latch = new CountDownLatch(2);\r\n        final var inOneSecond = Instant.now().plusSeconds(1);\r\n        final var taskOrders = new ArrayList&lt;String&gt;();\r\n        taskScheduler.schedule(() -&gt; {\r\n                    try {\r\n                        Assertions.assertEquals(0, counter); // --&gt; HOW COME HERE counter is 0     but not 1 like previous scenario?\r\n                        // make thread take 5 seconds to complete\r\n                        Thread.sleep(5000);\r\n                        // increment\r\n                        taskOrders.add(doWork(latch, 1));\r\n                    } catch (InterruptedException e) {\r\n                        throw new RuntimeException(e);\r\n                    }\r\n                }\r\n\r\n                , inOneSecond);\r\n\r\n        taskScheduler.schedule(() -&gt; {\r\n                    Assertions.assertEquals(0, counter); // why the counter is zero here ?\r\n                    // increment\r\n                    taskOrders.add(doWork(latch, 2));\r\n                    Assertions.assertEquals(1, counter);\r\n                }\r\n                , inOneSecond);\r\n\r\n        final var bothCompleted = latch.await(7, TimeUnit.SECONDS);\r\n        // assert both tasks completed\r\n        Assertions.assertTrue(bothCompleted);\r\n        // assert both tasks incremented it\r\n        Assertions.assertEquals(2, counter);\r\n        // second task was first to run\r\n        Assertions.assertEquals(&quot;Second&quot;, taskOrders.get(0));\r\n        // first task was second to run\r\n        Assertions.assertEquals(&quot;First&quot;, taskOrders.get(1));\r\n    }\r\n\r\n```\r\n\r\n\r\nin this one i wanna understand how come in both tasks counter is 0? ","title":"Testing Multi-threaded and non Multi-threaded task scheduling","body":"<p>i have problem understanding some of my test cases and their results when i am trying to test multi-threaded and non-multi-threaded <code>ThreadPoolTaskScheduler()</code></p>\n<p>i have following methods for both scenarios.</p>\n<pre><code>    private int counter;\n\n    private void increment() {\n        counter++;\n    }\n\n\n    public String doWork(final CountDownLatch latch, final int taskNo) {\n        System.out.println(&quot;running task: &quot; + taskNo);\n        latch.countDown();\n        increment();\n        return taskNo == 1 ? &quot;First&quot; : &quot;Second&quot;;\n    }\n\n</code></pre>\n<p>basically one of them will have one thread assigned, and the test case would be to schedule two tasks on it, as below:</p>\n<pre><code>    @Test\n    @SneakyThrows\n    public void shouldNotBeAbleToSimultaneouslyScheduleTest() {\n        final var taskScheduler = new ThreadPoolTaskScheduler();\n        taskScheduler.setPoolSize(1);\n        taskScheduler.setThreadNamePrefix(&quot;test-&quot;);\n        taskScheduler.initialize();\n\n        final var latch = new CountDownLatch(2);\n\n        final var inOneSecond = Instant.now().plusSeconds(1);\n        final var taskOrders = new ArrayList&lt;String&gt;();\n        taskScheduler.schedule(() -&gt; {\n                    try {\n                        Assertions.assertEquals(1, counter); // --&gt; Why it is 1 and not 0?\n                        // make thread wait 5 seconds to do increment\n                        Thread.sleep(5000);\n                        //increment\n                        taskOrders.add(doWork(latch, 1));\n                    } catch (InterruptedException e) {\n                        throw new RuntimeException(e);\n                    }\n                }\n\n                , inOneSecond);\n\n        taskScheduler.schedule(() -&gt; {\n                    Assertions.assertEquals(0, counter);\n                    //increment\n                    taskOrders.add(doWork(latch, 2));\n                    // counter should be 1 since only current task is completed\n                    Assertions.assertEquals(1, counter);\n                }\n                , inOneSecond);\n\n        final var bothCompleted = latch.await(7, TimeUnit.SECONDS);\n        // assert both tasks completed\n        Assertions.assertTrue(bothCompleted);\n        // assert both tasks incremented it\n        Assertions.assertEquals(2, counter);\n        // second task was first to run\n        Assertions.assertEquals(&quot;Second&quot;, taskOrders.get(0));\n        // first task was second to run\n        Assertions.assertEquals(&quot;First&quot;, taskOrders.get(1));\n    }\n</code></pre>\n<p>now in this test scenario i wanna understand why in the first task counter is 1, because how i grasp it, is that one thread is doing first task which initially counter is 0 how it can run second task first, while it is in first task?</p>\n<p>second scenario is when it <code>ThreadPoolTaskScheduler()</code> is assigned to have 2 threads as below:</p>\n<pre><code>    @Test\n    @SneakyThrows\n    public void shouldSimultaneouslyScheduleTest() {\n        final var taskScheduler = new ThreadPoolTaskScheduler();\n        taskScheduler.setPoolSize(2);\n        taskScheduler.setThreadNamePrefix(&quot;test-&quot;);\n        taskScheduler.initialize();\n\n        final var latch = new CountDownLatch(2);\n        final var inOneSecond = Instant.now().plusSeconds(1);\n        final var taskOrders = new ArrayList&lt;String&gt;();\n        taskScheduler.schedule(() -&gt; {\n                    try {\n                        Assertions.assertEquals(0, counter); // --&gt; HOW COME HERE counter is 0     but not 1 like previous scenario?\n                        // make thread take 5 seconds to complete\n                        Thread.sleep(5000);\n                        // increment\n                        taskOrders.add(doWork(latch, 1));\n                    } catch (InterruptedException e) {\n                        throw new RuntimeException(e);\n                    }\n                }\n\n                , inOneSecond);\n\n        taskScheduler.schedule(() -&gt; {\n                    Assertions.assertEquals(0, counter); // why the counter is zero here ?\n                    // increment\n                    taskOrders.add(doWork(latch, 2));\n                    Assertions.assertEquals(1, counter);\n                }\n                , inOneSecond);\n\n        final var bothCompleted = latch.await(7, TimeUnit.SECONDS);\n        // assert both tasks completed\n        Assertions.assertTrue(bothCompleted);\n        // assert both tasks incremented it\n        Assertions.assertEquals(2, counter);\n        // second task was first to run\n        Assertions.assertEquals(&quot;Second&quot;, taskOrders.get(0));\n        // first task was second to run\n        Assertions.assertEquals(&quot;First&quot;, taskOrders.get(1));\n    }\n\n</code></pre>\n<p>in this one i wanna understand how come in both tasks counter is 0?</p>\n"},{"tags":["java","apache-kafka","spring-kafka"],"comments":[{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1689345194,"post_id":76688230,"comment_id":135204695,"body_markdown":"Have you tried providing partition=0 to the KafkaListener annotation?","body":"Have you tried providing partition=0 to the KafkaListener annotation?"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1689350283,"post_id":76688230,"comment_id":135205914,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."},{"owner":{"account_id":1288095,"reputation":169336,"user_id":1240763,"display_name":"Gary Russell"},"score":0,"creation_date":1689598227,"post_id":76688230,"comment_id":135231727,"body_markdown":"You can use manual assignment instead of group management.","body":"You can use manual assignment instead of group management."}],"answers":[{"comments":[{"owner":{"account_id":1288095,"reputation":169336,"user_id":1240763,"display_name":"Gary Russell"},"score":0,"creation_date":1689598176,"post_id":76688854,"comment_id":135231716,"body_markdown":"You can also manually assign partitions - see https://docs.spring.io/spring-kafka/docs/current/reference/html/#kafka-container and https://docs.spring.io/spring-kafka/docs/current/reference/html/#manual-assignment","body":"You can also manually assign partitions - see <a href=\"https://docs.spring.io/spring-kafka/docs/current/reference/html/#kafka-container\" rel=\"nofollow noreferrer\">docs.spring.io/spring-kafka/docs/current/reference/html/&hellip;</a> and <a href=\"https://docs.spring.io/spring-kafka/docs/current/reference/html/#manual-assignment\" rel=\"nofollow noreferrer\">docs.spring.io/spring-kafka/docs/current/reference/html/&hellip;</a>"}],"tags":[],"owner":{"account_id":3273937,"reputation":114870,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689346419,"creation_date":1689346419,"answer_id":76688854,"question_id":76688230,"body_markdown":"This has nothing to do with Spring for Apache Kafka.\r\n\r\nSee Kafka Clients API like `ConsumerPartitionAssignor`. You may use a `RoundRobinAssignor` for inspiration how to skip undesired partitions and assign them to your subscriptions.\r\n\r\nThen you use your custom class for `partition.assignment.strategy` property of your consumer.\r\n\r\nThis article give more information about assignments in consumer group: https://medium.com/streamthoughts/understanding-kafka-partition-assignment-strategies-and-how-to-write-your-own-custom-assignor-ebeda1fc06f3 ","title":"Exclude specific kafka partition while fetching the messages","body":"<p>This has nothing to do with Spring for Apache Kafka.</p>\n<p>See Kafka Clients API like <code>ConsumerPartitionAssignor</code>. You may use a <code>RoundRobinAssignor</code> for inspiration how to skip undesired partitions and assign them to your subscriptions.</p>\n<p>Then you use your custom class for <code>partition.assignment.strategy</code> property of your consumer.</p>\n<p>This article give more information about assignments in consumer group: <a href=\"https://medium.com/streamthoughts/understanding-kafka-partition-assignment-strategies-and-how-to-write-your-own-custom-assignor-ebeda1fc06f3\" rel=\"nofollow noreferrer\">https://medium.com/streamthoughts/understanding-kafka-partition-assignment-strategies-and-how-to-write-your-own-custom-assignor-ebeda1fc06f3</a></p>\n"}],"owner":{"account_id":29017610,"reputation":1,"user_id":22227724,"display_name":"nits buddy"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1689346419,"creation_date":1689341965,"question_id":76688230,"body_markdown":"We are reading Kafka messages from few topics. Each topics have two partitions where one partition in not getting use to populate the message.(partition 0 is used where 1 is not getting used. It was created for future purpose) We are using Spring Kafka consumer where we are creating the consumers programmatically configurating ConcurrentKafkaListenerContainerFactory and register with org.springframework.kafka.config.KafkaListenerEndpointRegistry.We do not want to subscribe our consumers to partition number 1 of any topics. Is there any way to exclude it?\r\n\r\nWe have tried to implement a ConsumerRebalanceListener but I believe on onPartitionsAssigned(Collection&lt;TopicPartition&gt; var1), we can not remove those partitions.","title":"Exclude specific kafka partition while fetching the messages","body":"<p>We are reading Kafka messages from few topics. Each topics have two partitions where one partition in not getting use to populate the message.(partition 0 is used where 1 is not getting used. It was created for future purpose) We are using Spring Kafka consumer where we are creating the consumers programmatically configurating ConcurrentKafkaListenerContainerFactory and register with org.springframework.kafka.config.KafkaListenerEndpointRegistry.We do not want to subscribe our consumers to partition number 1 of any topics. Is there any way to exclude it?</p>\n<p>We have tried to implement a ConsumerRebalanceListener but I believe on onPartitionsAssigned(Collection var1), we can not remove those partitions.</p>\n"},{"tags":["java","mockito","powermock","powermockito"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1689365177,"post_id":76684334,"comment_id":135208641,"body_markdown":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer.","body":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer."}],"owner":{"account_id":4495339,"reputation":26,"user_id":3655258,"display_name":"user3655258"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689346242,"creation_date":1689301569,"question_id":76684334,"body_markdown":"I would just like to ask if there&#39;s an easy way or manageable way to convert an existing Junit running on Power Mockito to Mockito Runner? The Powermockito doesn&#39;t seem to be supported for JDK 17 and the work around I found (--ad-opens java.base/java.lang = ALL -UNNAMED) doesn&#39;t really work well. I&#39;m currently using Visual Studio Code for my environment (was the required IDE to use).\r\n\r\nI have been trying to do some research as I&#39;m basically a bean sprout level when it comes to this.","title":"Conversion of Powermockito Junit Tests to MockitoRunner","body":"<p>I would just like to ask if there's an easy way or manageable way to convert an existing Junit running on Power Mockito to Mockito Runner? The Powermockito doesn't seem to be supported for JDK 17 and the work around I found (--ad-opens java.base/java.lang = ALL -UNNAMED) doesn't really work well. I'm currently using Visual Studio Code for my environment (was the required IDE to use).</p>\n<p>I have been trying to do some research as I'm basically a bean sprout level when it comes to this.</p>\n"},{"tags":["java","image-processing","javacv","matchtemplate"],"answers":[{"comments":[{"owner":{"account_id":7098080,"reputation":930,"user_id":5430811,"accept_rate":83,"display_name":"Semaphor"},"score":1,"creation_date":1545316854,"post_id":33497702,"comment_id":94588690,"body_markdown":"If you can use Apache Commons IO you can convert the input stream directly to a byte array with a one-liner with IOUtils.toByteArray(is);","body":"If you can use Apache Commons IO you can convert the input stream directly to a byte array with a one-liner with IOUtils.toByteArray(is);"},{"owner":{"account_id":325908,"reputation":7254,"user_id":647381,"accept_rate":86,"display_name":"ruX"},"score":0,"creation_date":1613930877,"post_id":33497702,"comment_id":117222258,"body_markdown":"...or simply use built-in `inputStream.readAllBytes()` extension function in kotlin","body":"...or simply use built-in <code>inputStream.readAllBytes()</code> extension function in kotlin"}],"tags":[],"owner":{"account_id":679446,"reputation":374,"user_id":843014,"accept_rate":44,"display_name":"al0"},"comment_count":2,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1446549219,"creation_date":1446549219,"answer_id":33497702,"question_id":33442515,"body_markdown":"I resolved this by reading bytes from InputStream and passing them into imdecode function:\r\n\r\n    InputStream is = context.getResourceAsStream(&quot;Lenna32.png&quot;);\r\n    int nRead;\r\n    byte[] data = new byte[16 * 1024];\r\n    ByteArrayOutputStream buffer = new ByteArrayOutputStream();\r\n    while ((nRead = is.read(data, 0, data.length)) != -1) {\r\n        buffer.write(data, 0, nRead);\r\n    }\r\n    byte[] bytes = buffer.toByteArray();\r\n    Mat mat = imdecode(new Mat(bytes), CV_LOAD_IMAGE_UNCHANGED);","title":"JavaCV Create Mat from Resource (InputStream)","body":"<p>I resolved this by reading bytes from InputStream and passing them into imdecode function:</p>\n\n<pre><code>InputStream is = context.getResourceAsStream(\"Lenna32.png\");\nint nRead;\nbyte[] data = new byte[16 * 1024];\nByteArrayOutputStream buffer = new ByteArrayOutputStream();\nwhile ((nRead = is.read(data, 0, data.length)) != -1) {\n    buffer.write(data, 0, nRead);\n}\nbyte[] bytes = buffer.toByteArray();\nMat mat = imdecode(new Mat(bytes), CV_LOAD_IMAGE_UNCHANGED);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2644939,"reputation":473,"user_id":2287841,"display_name":"Octav"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1689345928,"creation_date":1689345928,"answer_id":76688787,"question_id":33442515,"body_markdown":"Just for reference, in order to convert InputStream to Mat, @Kotlin:\r\n``` kotlin\r\nval bytes = inputStream.readBytes()\r\nval mat = Mat(1, bytes.size, CvType.CV_8UC1)\r\nmat.put(0, 0, bytes)\r\nreturn Imgcodecs.imdecode(mat, Imgcodecs.IMREAD_UNCHANGED)\r\n```","title":"JavaCV Create Mat from Resource (InputStream)","body":"<p>Just for reference, in order to convert InputStream to Mat, @Kotlin:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>val bytes = inputStream.readBytes()\nval mat = Mat(1, bytes.size, CvType.CV_8UC1)\nmat.put(0, 0, bytes)\nreturn Imgcodecs.imdecode(mat, Imgcodecs.IMREAD_UNCHANGED)\n</code></pre>\n"}],"owner":{"account_id":679446,"reputation":374,"user_id":843014,"accept_rate":44,"display_name":"al0"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3528,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":33497702,"answer_count":2,"score":2,"last_activity_date":1689345928,"creation_date":1446229137,"question_id":33442515,"body_markdown":"I use JavaCV (not OpenCV). My goal is to obtain a `Mat` object from an image that is stored as a Resource. Then I&#39;m going to pass this `Mat` into `opencv_imgproc.matchTemplate` method. I&#39;ve managed to write this **bad** code:\r\n\r\n        InputStream in = getClass().getResourceAsStream(&quot;Lenna32.png&quot;);\r\n        BufferedImage image = ImageIO.read(in);\r\n        Frame f = new Java2DFrameConverter().getFrame(image);\r\n        Mat mat = new OpenCVFrameConverter.ToMat().convert(f);\r\n\r\nThis works in *some* cases. The problems are:\r\n\r\n 1. For png images that has transparency channel (that is 32BPP), it shifts channels, so that `R=00 G=33 B=66 A=FF` turns to `R=33 G=66 B=FF`\r\n[![Lenna 32BPP color shift][1]][1]\r\n\r\n 2. On my target environment, I can&#39;t use `ImageIO`\r\n 3. There are too many object conversions `InputStream -&gt; BufferedImage -&gt; Frame -&gt; Mat`. I feel like there should be a simple and effective way to do this.\r\n\r\nWhat is the best way to create Mat from a Resource?\r\n\r\n  [1]: http://i.stack.imgur.com/7FBsa.jpg","title":"JavaCV Create Mat from Resource (InputStream)","body":"<p>I use JavaCV (not OpenCV). My goal is to obtain a <code>Mat</code> object from an image that is stored as a Resource. Then I'm going to pass this <code>Mat</code> into <code>opencv_imgproc.matchTemplate</code> method. I've managed to write this <strong>bad</strong> code:</p>\n\n<pre><code>    InputStream in = getClass().getResourceAsStream(\"Lenna32.png\");\n    BufferedImage image = ImageIO.read(in);\n    Frame f = new Java2DFrameConverter().getFrame(image);\n    Mat mat = new OpenCVFrameConverter.ToMat().convert(f);\n</code></pre>\n\n<p>This works in <em>some</em> cases. The problems are:</p>\n\n<ol>\n<li><p>For png images that has transparency channel (that is 32BPP), it shifts channels, so that <code>R=00 G=33 B=66 A=FF</code> turns to <code>R=33 G=66 B=FF</code>\n<a href=\"https://i.stack.imgur.com/7FBsa.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7FBsa.jpg\" alt=\"Lenna 32BPP color shift\"></a></p></li>\n<li><p>On my target environment, I can't use <code>ImageIO</code></p></li>\n<li>There are too many object conversions <code>InputStream -&gt; BufferedImage -&gt; Frame -&gt; Mat</code>. I feel like there should be a simple and effective way to do this.</li>\n</ol>\n\n<p>What is the best way to create Mat from a Resource?</p>\n"},{"tags":["java","java-8","java-stream"],"comments":[{"owner":{"account_id":1853886,"reputation":210617,"user_id":1679863,"accept_rate":77,"display_name":"Rohit Jain"},"score":3,"creation_date":1377978166,"post_id":18552005,"comment_id":27291025,"body_markdown":"What is `intRange()`? Haven&#39;t come accross this method in Java 8 till now.","body":"What is <code>intRange()</code>? Haven&#39;t come accross this method in Java 8 till now."},{"owner":{"account_id":440158,"reputation":323231,"user_id":829571,"accept_rate":94,"display_name":"assylias"},"score":0,"creation_date":1377978236,"post_id":18552005,"comment_id":27291046,"body_markdown":"@RohitJain Probably an `IntStream.rangeClosed(x, y)`.","body":"@RohitJain Probably an <code>IntStream.rangeClosed(x, y)</code>."},{"owner":{"account_id":440158,"reputation":323231,"user_id":829571,"accept_rate":94,"display_name":"assylias"},"score":2,"creation_date":1377978675,"post_id":18552005,"comment_id":27291190,"body_markdown":"As a side comment, challenge 4 looks better (IMO) with `List&lt;String&gt; allCities = map.values().stream().flatMap(list -&gt; list.stream()).collect(Collectors.toList());`","body":"As a side comment, challenge 4 looks better (IMO) with <code>List&lt;String&gt; allCities = map.values().stream().flatMap(list -&gt; list.stream()).collect(Collectors.toList());</code>"},{"owner":{"account_id":1548079,"reputation":128727,"user_id":1441122,"display_name":"Stuart Marks"},"score":4,"creation_date":1378073455,"post_id":18552005,"comment_id":27311524,"body_markdown":"Yes, `zip` was removed, along with experimental two-valued streams variously called `BiStream` or `MapStream`. The main problem is that to do this effectively Java really needs a structurally-typed pair (or tuple) type. Lacking one, it&#39;s easy to create a generic Pair or Tuple class -- it&#39;s been done many times -- but they all erase to the same type.","body":"Yes, <code>zip</code> was removed, along with experimental two-valued streams variously called <code>BiStream</code> or <code>MapStream</code>. The main problem is that to do this effectively Java really needs a structurally-typed pair (or tuple) type. Lacking one, it&#39;s easy to create a generic Pair or Tuple class -- it&#39;s been done many times -- but they all erase to the same type."},{"owner":{"account_id":1548079,"reputation":128727,"user_id":1441122,"display_name":"Stuart Marks"},"score":4,"creation_date":1378075191,"post_id":18552005,"comment_id":27311938,"body_markdown":"Oh, another problem with a generic Pair or Tuple class is that it requires all primitives to be boxed.","body":"Oh, another problem with a generic Pair or Tuple class is that it requires all primitives to be boxed."},{"owner":{"account_id":8488598,"reputation":2394,"user_id":7313872,"accept_rate":0,"display_name":"Liam Kernighan"},"score":0,"creation_date":1567521063,"post_id":18552005,"comment_id":101982730,"body_markdown":"Annimon stream library works exactly like Java 8 streams on earlier versions and has some nice additional methods including filterIndexed() https://github.com/aNNiMON/Lightweight-Stream-API","body":"Annimon stream library works exactly like Java 8 streams on earlier versions and has some nice additional methods including filterIndexed() <a href=\"https://github.com/aNNiMON/Lightweight-Stream-API\" rel=\"nofollow noreferrer\">github.com/aNNiMON/Lightweight-Stream-API</a>"},{"owner":{"account_id":156734,"reputation":26707,"user_id":374198,"accept_rate":62,"display_name":"Josh M."},"score":0,"creation_date":1642170179,"post_id":18552005,"comment_id":125006419,"body_markdown":"Yep, another area where the Java team was like &quot;eh, close enough, ship it!&quot; and we end up with an incomplete API. You would have thought there would be an overload of `map(BiFunction&lt;T, Long, R&gt; mapper)` which would provide you with the object and the index. But nope.","body":"Yep, another area where the Java team was like &quot;eh, close enough, ship it!&quot; and we end up with an incomplete API. You would have thought there would be an overload of <code>map(BiFunction&lt;T, Long, R&gt; mapper)</code> which would provide you with the object and the index. But nope."}],"answers":[{"comments":[{"owner":{"account_id":168263,"reputation":10663,"user_id":393615,"display_name":"Lee Campbell"},"score":4,"creation_date":1522038136,"post_id":18552055,"comment_id":85970599,"body_markdown":"This is available in other languages/tools. It is simply an incrementing value passed to the map function","body":"This is available in other languages/tools. It is simply an incrementing value passed to the map function"},{"owner":{"account_id":949087,"reputation":5088,"user_id":975649,"accept_rate":81,"display_name":"Usman Mutawakil"},"score":0,"creation_date":1538129566,"post_id":18552055,"comment_id":92044890,"body_markdown":"Your link to the documentation is broken.","body":"Your link to the documentation is broken."}],"tags":[],"owner":{"account_id":1306954,"reputation":11661,"user_id":1255746,"accept_rate":78,"display_name":"Josh M"},"comment_count":2,"down_vote_count":3,"up_vote_count":6,"is_accepted":false,"score":3,"last_activity_date":1377977846,"creation_date":1377977846,"answer_id":18552055,"question_id":18552005,"body_markdown":"There isn&#39;t a way to iterate over a `Stream` whilst having access to the index because a `Stream` is unlike any `Collection`. A `Stream` is merely a pipeline for carrying data from one place to another, as stated in the [documentation](http://download.java.net/jdk8/docs/api/java/util/stream/package-summary.html):\r\n\r\n**No storage. A stream is not a data structure that stores elements; instead, they carry values from a source (which could be a data structure, a generator, an IO channel, etc) through a pipeline of computational operations.**\r\n\r\nOf course, as you appear to be hinting at in your question, you could always convert your `Stream&lt;V&gt;` to a `Collection&lt;V&gt;`, such as a `List&lt;V&gt;`, in which you will have access to the indexes.","title":"Is there a concise way to iterate over a stream with indices in Java 8?","body":"<p>There isn't a way to iterate over a <code>Stream</code> whilst having access to the index because a <code>Stream</code> is unlike any <code>Collection</code>. A <code>Stream</code> is merely a pipeline for carrying data from one place to another, as stated in the <a href=\"http://download.java.net/jdk8/docs/api/java/util/stream/package-summary.html\" rel=\"nofollow\">documentation</a>:</p>\n\n<p><strong>No storage. A stream is not a data structure that stores elements; instead, they carry values from a source (which could be a data structure, a generator, an IO channel, etc) through a pipeline of computational operations.</strong></p>\n\n<p>Of course, as you appear to be hinting at in your question, you could always convert your <code>Stream&lt;V&gt;</code> to a <code>Collection&lt;V&gt;</code>, such as a <code>List&lt;V&gt;</code>, in which you will have access to the indexes.</p>\n"},{"comments":[{"owner":{"account_id":1548079,"reputation":128727,"user_id":1441122,"display_name":"Stuart Marks"},"score":48,"creation_date":1378074594,"post_id":18552071,"comment_id":27311808,"body_markdown":"Using atomics this way is problematic with parallel streams. First, the order of *processing* of elements won&#39;t necessarily the same as the order in which elements occur in the initial array. Thus, the &quot;index&quot; assigned using the atomic probably won&#39;t match the actual array index. Second, while atomics are thread-safe, you may encounter contention among multiple threads updating the atomic, degrading the amount of parallelism.","body":"Using atomics this way is problematic with parallel streams. First, the order of <i>processing</i> of elements won&#39;t necessarily the same as the order in which elements occur in the initial array. Thus, the &quot;index&quot; assigned using the atomic probably won&#39;t match the actual array index. Second, while atomics are thread-safe, you may encounter contention among multiple threads updating the atomic, degrading the amount of parallelism."},{"owner":{"account_id":1122893,"reputation":2272,"user_id":1110815,"display_name":"Daniel Dietrich"},"score":1,"creation_date":1408133718,"post_id":18552071,"comment_id":39494816,"body_markdown":"I developed a solution similar to the one by @assylias. To circumvent the problematic with parallel stream @StuartMarks mentioned, I first make a given parallel stream sequential, perform the mapping and restore the parallel state.\n\n`public static &lt;T&gt; Stream&lt;Tuple2&lt;Integer, T&gt;&gt; zipWithIndex(Stream&lt;T&gt; stream) {\n\tfinal AtomicInteger index = new AtomicInteger();\n\tfinal Function&lt;T, Tuple2&lt;Integer, T&gt;&gt; zipper = e -&gt; Tuples.of(index.getAndIncrement(), e);\n\tif (stream.isParallel()) {\n\t\treturn stream.sequential().map(zipper).parallel();\n\t} else {\n\t\treturn stream.map(zipper);\n\t}\n}`","body":"I developed a solution similar to the one by @assylias. To circumvent the problematic with parallel stream @StuartMarks mentioned, I first make a given parallel stream sequential, perform the mapping and restore the parallel state.  <code>public static &lt;T&gt; Stream&lt;Tuple2&lt;Integer, T&gt;&gt; zipWithIndex(Stream&lt;T&gt; stream) { \tfinal AtomicInteger index = new AtomicInteger(); \tfinal Function&lt;T, Tuple2&lt;Integer, T&gt;&gt; zipper = e -&gt; Tuples.of(index.getAndIncrement(), e); \tif (stream.isParallel()) { \t\treturn stream.sequential().map(zipper).parallel(); \t} else { \t\treturn stream.map(zipper); \t} }</code>"},{"owner":{"account_id":440158,"reputation":323231,"user_id":829571,"accept_rate":94,"display_name":"assylias"},"score":4,"creation_date":1408136333,"post_id":18552071,"comment_id":39495881,"body_markdown":"@DanielDietrich If you think it solves the question you should post it as an answer rather than a comment (and the code will be more readable too!).","body":"@DanielDietrich If you think it solves the question you should post it as an answer rather than a comment (and the code will be more readable too!)."},{"owner":{"account_id":1548079,"reputation":128727,"user_id":1441122,"display_name":"Stuart Marks"},"score":3,"creation_date":1408140221,"post_id":18552071,"comment_id":39497198,"body_markdown":"@DanielDietrich Sorry, if I&#39;m reading that code correctly, it won&#39;t work. You can&#39;t have different segments of a pipeline running in parallel vs sequential. Only the last of `parallel` or `sequential` is honored when the terminal operation commences.","body":"@DanielDietrich Sorry, if I&#39;m reading that code correctly, it won&#39;t work. You can&#39;t have different segments of a pipeline running in parallel vs sequential. Only the last of <code>parallel</code> or <code>sequential</code> is honored when the terminal operation commences."},{"owner":{"account_id":1122893,"reputation":2272,"user_id":1110815,"display_name":"Daniel Dietrich"},"score":0,"creation_date":1408206924,"post_id":18552071,"comment_id":39509611,"body_markdown":"@StuartMarks, of course you are right, this will not work. I should have tested it before - untested could can be considered broken.","body":"@StuartMarks, of course you are right, this will not work. I should have tested it before - untested could can be considered broken."},{"owner":{"account_id":297814,"reputation":25324,"user_id":603516,"accept_rate":100,"display_name":"Vadzim"},"score":7,"creation_date":1436438608,"post_id":18552071,"comment_id":50617868,"body_markdown":"For the sake of justice, &quot;the cleanest way&quot; was stolen from @Stuart&#39;s answer.","body":"For the sake of justice, &quot;the cleanest way&quot; was stolen from @Stuart&#39;s answer."},{"owner":{"account_id":9621290,"reputation":176,"user_id":7142451,"display_name":"sebastian romero"},"score":1,"creation_date":1502987576,"post_id":18552071,"comment_id":78438731,"body_markdown":"Thank you! I feel like sinning when I use AtomicInteger!","body":"Thank you! I feel like sinning when I use AtomicInteger!"},{"owner":{"account_id":4394469,"reputation":3058,"user_id":3585768,"accept_rate":80,"display_name":"Jonathan Benn"},"score":4,"creation_date":1524753866,"post_id":18552071,"comment_id":87108002,"body_markdown":"Without meaning any insult toward the answer: from a functional programming perspective, this is a really sad solution. Java ought to be able to do better than this. All we need is for the streams API to allow a two-variable callback","body":"Without meaning any insult toward the answer: from a functional programming perspective, this is a really sad solution. Java ought to be able to do better than this. All we need is for the streams API to allow a two-variable callback"},{"owner":{"account_id":2392816,"reputation":2925,"user_id":2092322,"accept_rate":88,"display_name":"BairDev"},"score":1,"creation_date":1615805268,"post_id":18552071,"comment_id":117795732,"body_markdown":"I would try to loop only once, especially for long lists, instead of using `.mapToObj, .map, .forEach ...`. A good old `for (int i = 0; ...` loop would be much faster, wouldn&#39;t it?","body":"I would try to loop only once, especially for long lists, instead of using <code>.mapToObj, .map, .forEach ...</code>. A good old <code>for (int i = 0; ...</code> loop would be much faster, wouldn&#39;t it?"},{"owner":{"account_id":227596,"reputation":4137,"user_id":489364,"accept_rate":53,"display_name":"kommradHomer"},"score":0,"creation_date":1619002888,"post_id":18552071,"comment_id":118771868,"body_markdown":"I just want to get a sense of how many items are processed, so the AtomicInteger does the job for me , even in parallel","body":"I just want to get a sense of how many items are processed, so the AtomicInteger does the job for me , even in parallel"},{"owner":{"account_id":1632921,"reputation":3506,"user_id":1507124,"display_name":"CervEd"},"score":0,"creation_date":1694767514,"post_id":18552071,"comment_id":135937361,"body_markdown":"Imo this is contrarian. The whole point of a stream is that it shouldn&#39;t need to be a collection and it should be parallelize-able","body":"Imo this is contrarian. The whole point of a stream is that it shouldn&#39;t need to be a collection and it should be parallelize-able"}],"tags":[],"owner":{"account_id":440158,"reputation":323231,"user_id":829571,"accept_rate":94,"display_name":"assylias"},"comment_count":11,"down_vote_count":3,"up_vote_count":580,"is_accepted":true,"score":577,"last_activity_date":1400578789,"creation_date":1377977921,"answer_id":18552071,"question_id":18552005,"body_markdown":"The cleanest way is to start from a stream of indices:\r\n\r\n    String[] names = {&quot;Sam&quot;, &quot;Pamela&quot;, &quot;Dave&quot;, &quot;Pascal&quot;, &quot;Erik&quot;};\r\n    IntStream.range(0, names.length)\r\n             .filter(i -&gt; names[i].length() &lt;= i)\r\n             .mapToObj(i -&gt; names[i])\r\n             .collect(Collectors.toList());\r\n\r\nThe resulting list contains &quot;Erik&quot; only.\r\n\r\n---\r\n\r\nOne alternative which looks more familiar when you are used to for loops would be to maintain an ad hoc counter using a mutable object, for example an `AtomicInteger`:\r\n\r\n    String[] names = {&quot;Sam&quot;, &quot;Pamela&quot;, &quot;Dave&quot;, &quot;Pascal&quot;, &quot;Erik&quot;};\r\n    AtomicInteger index = new AtomicInteger();\r\n    List&lt;String&gt; list = Arrays.stream(names)\r\n                              .filter(n -&gt; n.length() &lt;= index.incrementAndGet())\r\n                              .collect(Collectors.toList());\r\n\r\nNote that ***using the latter method on a parallel stream could break as the items would not necesarily be processed &quot;in order&quot;***.","title":"Is there a concise way to iterate over a stream with indices in Java 8?","body":"<p>The cleanest way is to start from a stream of indices:</p>\n\n<pre><code>String[] names = {\"Sam\", \"Pamela\", \"Dave\", \"Pascal\", \"Erik\"};\nIntStream.range(0, names.length)\n         .filter(i -&gt; names[i].length() &lt;= i)\n         .mapToObj(i -&gt; names[i])\n         .collect(Collectors.toList());\n</code></pre>\n\n<p>The resulting list contains \"Erik\" only.</p>\n\n<hr>\n\n<p>One alternative which looks more familiar when you are used to for loops would be to maintain an ad hoc counter using a mutable object, for example an <code>AtomicInteger</code>:</p>\n\n<pre><code>String[] names = {\"Sam\", \"Pamela\", \"Dave\", \"Pascal\", \"Erik\"};\nAtomicInteger index = new AtomicInteger();\nList&lt;String&gt; list = Arrays.stream(names)\n                          .filter(n -&gt; n.length() &lt;= index.incrementAndGet())\n                          .collect(Collectors.toList());\n</code></pre>\n\n<p>Note that <strong><em>using the latter method on a parallel stream could break as the items would not necesarily be processed \"in order\"</em></strong>.</p>\n"},{"comments":[{"owner":{"account_id":4562322,"reputation":323,"user_id":3704307,"accept_rate":100,"display_name":"Code Eyez"},"score":0,"creation_date":1528219601,"post_id":18563928,"comment_id":88420719,"body_markdown":"Stream.of( Array ) will create a stream interface for an array. Effectively making it into `Stream.of( names ).filter( n -&gt; n.length() &lt;= 1).collect( Collectors.toList() );` Less unboxing, and less memory allocation; as we&#39;re not creating a range stream anymore.","body":"Stream.of( Array ) will create a stream interface for an array. Effectively making it into <code>Stream.of( names ).filter( n -&gt; n.length() &lt;= 1).collect( Collectors.toList() );</code> Less unboxing, and less memory allocation; as we&#39;re not creating a range stream anymore."}],"tags":[],"owner":{"account_id":1548079,"reputation":128727,"user_id":1441122,"display_name":"Stuart Marks"},"comment_count":1,"down_vote_count":0,"up_vote_count":96,"is_accepted":false,"score":96,"last_activity_date":1471469843,"creation_date":1378078270,"answer_id":18563928,"question_id":18552005,"body_markdown":"The Java 8 streams API lacks the features of getting the index of a stream element as well as the ability to zip streams together. This is unfortunate, as it makes certain applications (like the LINQ challenges) more difficult than they would be otherwise.\r\n\r\nThere are often workarounds, however. Usually this can be done by &quot;driving&quot; the stream with an integer range, and taking advantage of the fact that the original elements are often in an array or in a collection accessible by index. For example, the Challenge 2 problem can be solved this way:\r\n\r\n    String[] names = {&quot;Sam&quot;, &quot;Pamela&quot;, &quot;Dave&quot;, &quot;Pascal&quot;, &quot;Erik&quot;};\r\n\r\n    List&lt;String&gt; nameList =\r\n        IntStream.range(0, names.length)\r\n            .filter(i -&gt; names[i].length() &lt;= i)\r\n            .mapToObj(i -&gt; names[i])\r\n            .collect(toList());\r\n\r\nAs I mentioned above, this takes advantage of the fact that the data source (the names array) is directly indexable. If it weren&#39;t, this technique wouldn&#39;t work.\r\n\r\nI&#39;ll admit that this doesn&#39;t satisfy the intent of Challenge 2. Nonetheless it does solve the problem reasonably effectively.\r\n\r\n**EDIT**\r\n\r\nMy previous code example used `flatMap` to fuse the filter and map operations, but this was cumbersome and provided no advantage. I&#39;ve updated the example per the comment from Holger.","title":"Is there a concise way to iterate over a stream with indices in Java 8?","body":"<p>The Java 8 streams API lacks the features of getting the index of a stream element as well as the ability to zip streams together. This is unfortunate, as it makes certain applications (like the LINQ challenges) more difficult than they would be otherwise.</p>\n\n<p>There are often workarounds, however. Usually this can be done by \"driving\" the stream with an integer range, and taking advantage of the fact that the original elements are often in an array or in a collection accessible by index. For example, the Challenge 2 problem can be solved this way:</p>\n\n<pre><code>String[] names = {\"Sam\", \"Pamela\", \"Dave\", \"Pascal\", \"Erik\"};\n\nList&lt;String&gt; nameList =\n    IntStream.range(0, names.length)\n        .filter(i -&gt; names[i].length() &lt;= i)\n        .mapToObj(i -&gt; names[i])\n        .collect(toList());\n</code></pre>\n\n<p>As I mentioned above, this takes advantage of the fact that the data source (the names array) is directly indexable. If it weren't, this technique wouldn't work.</p>\n\n<p>I'll admit that this doesn't satisfy the intent of Challenge 2. Nonetheless it does solve the problem reasonably effectively.</p>\n\n<p><strong>EDIT</strong></p>\n\n<p>My previous code example used <code>flatMap</code> to fuse the filter and map operations, but this was cumbersome and provided no advantage. I've updated the example per the comment from Holger.</p>\n"},{"comments":[{"owner":{"account_id":140637,"reputation":6194,"user_id":1311394,"display_name":"ach"},"score":0,"creation_date":1409080318,"post_id":23051268,"comment_id":39828522,"body_markdown":"+1 -- was able to implement a function that &quot;inserts&quot; an element every N indexes using `StreamSupport.stream()` and a custom iterator.","body":"+1 -- was able to implement a function that &quot;inserts&quot; an element every N indexes using <code>StreamSupport.stream()</code> and a custom iterator."}],"tags":[],"owner":{"account_id":1227508,"reputation":542,"user_id":1195526,"display_name":"user1195526"},"comment_count":1,"down_vote_count":0,"up_vote_count":29,"is_accepted":false,"score":29,"last_activity_date":1397444280,"creation_date":1397444280,"answer_id":23051268,"question_id":18552005,"body_markdown":"I&#39;ve used the following solution in my project. I think it is better than using mutable objects or integer ranges.\r\n\r\n\r\n\r\n\timport java.util.*;\r\n\timport java.util.function.*;\r\n\timport java.util.stream.Collector;\r\n\timport java.util.stream.Collector.Characteristics;\r\n\timport java.util.stream.Stream;\r\n\timport java.util.stream.StreamSupport;\r\n\timport static java.util.Objects.requireNonNull;\r\n\r\n\r\n\tpublic class CollectionUtils {\r\n\t\tprivate CollectionUtils() { }\r\n\r\n\t\t/**\r\n\t\t * Converts an {@link java.util.Iterator} to {@link java.util.stream.Stream}.\r\n\t\t */\r\n\t\tpublic static &lt;T&gt; Stream&lt;T&gt; iterate(Iterator&lt;? extends T&gt; iterator) {\r\n\t\t\tint characteristics = Spliterator.ORDERED | Spliterator.IMMUTABLE;\r\n\t\t\treturn StreamSupport.stream(Spliterators.spliteratorUnknownSize(iterator, characteristics), false);\r\n\t\t}\r\n\r\n\t\t/**\r\n\t\t * Zips the specified stream with its indices.\r\n\t\t */\r\n\t\tpublic static &lt;T&gt; Stream&lt;Map.Entry&lt;Integer, T&gt;&gt; zipWithIndex(Stream&lt;? extends T&gt; stream) {\r\n\t\t\treturn iterate(new Iterator&lt;Map.Entry&lt;Integer, T&gt;&gt;() {\r\n\t\t\t\tprivate final Iterator&lt;? extends T&gt; streamIterator = stream.iterator();\r\n\t\t\t\tprivate int index = 0;\r\n\r\n\t\t\t\t@Override\r\n\t\t\t\tpublic boolean hasNext() {\r\n\t\t\t\t\treturn streamIterator.hasNext();\r\n\t\t\t\t}\r\n\r\n\t\t\t\t@Override\r\n\t\t\t\tpublic Map.Entry&lt;Integer, T&gt; next() {\r\n\t\t\t\t\treturn new AbstractMap.SimpleImmutableEntry&lt;&gt;(index++, streamIterator.next());\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\t/**\r\n\t\t * Returns a stream consisting of the results of applying the given two-arguments function to the elements of this stream.\r\n\t\t * The first argument of the function is the element index and the second one - the element value. \r\n\t\t */\r\n\t\tpublic static &lt;T, R&gt; Stream&lt;R&gt; mapWithIndex(Stream&lt;? extends T&gt; stream, BiFunction&lt;Integer, ? super T, ? extends R&gt; mapper) {\r\n\t\t\treturn zipWithIndex(stream).map(entry -&gt; mapper.apply(entry.getKey(), entry.getValue()));\r\n\t\t}\r\n\r\n\t\tpublic static void main(String[] args) {\r\n\t\t\tString[] names = {&quot;Sam&quot;, &quot;Pamela&quot;, &quot;Dave&quot;, &quot;Pascal&quot;, &quot;Erik&quot;};\r\n\r\n\t\t\tSystem.out.println(&quot;Test zipWithIndex&quot;);\r\n\t\t\tzipWithIndex(Arrays.stream(names)).forEach(entry -&gt; System.out.println(entry));\r\n\r\n\t\t\tSystem.out.println();\r\n\t\t\tSystem.out.println(&quot;Test mapWithIndex&quot;);\r\n\t\t\tmapWithIndex(Arrays.stream(names), (Integer index, String name) -&gt; index+&quot;=&quot;+name).forEach((String s) -&gt; System.out.println(s));\r\n\t\t}\r\n\t}\r\n","title":"Is there a concise way to iterate over a stream with indices in Java 8?","body":"<p>I've used the following solution in my project. I think it is better than using mutable objects or integer ranges.</p>\n\n<pre><code>import java.util.*;\nimport java.util.function.*;\nimport java.util.stream.Collector;\nimport java.util.stream.Collector.Characteristics;\nimport java.util.stream.Stream;\nimport java.util.stream.StreamSupport;\nimport static java.util.Objects.requireNonNull;\n\n\npublic class CollectionUtils {\n    private CollectionUtils() { }\n\n    /**\n     * Converts an {@link java.util.Iterator} to {@link java.util.stream.Stream}.\n     */\n    public static &lt;T&gt; Stream&lt;T&gt; iterate(Iterator&lt;? extends T&gt; iterator) {\n        int characteristics = Spliterator.ORDERED | Spliterator.IMMUTABLE;\n        return StreamSupport.stream(Spliterators.spliteratorUnknownSize(iterator, characteristics), false);\n    }\n\n    /**\n     * Zips the specified stream with its indices.\n     */\n    public static &lt;T&gt; Stream&lt;Map.Entry&lt;Integer, T&gt;&gt; zipWithIndex(Stream&lt;? extends T&gt; stream) {\n        return iterate(new Iterator&lt;Map.Entry&lt;Integer, T&gt;&gt;() {\n            private final Iterator&lt;? extends T&gt; streamIterator = stream.iterator();\n            private int index = 0;\n\n            @Override\n            public boolean hasNext() {\n                return streamIterator.hasNext();\n            }\n\n            @Override\n            public Map.Entry&lt;Integer, T&gt; next() {\n                return new AbstractMap.SimpleImmutableEntry&lt;&gt;(index++, streamIterator.next());\n            }\n        });\n    }\n\n    /**\n     * Returns a stream consisting of the results of applying the given two-arguments function to the elements of this stream.\n     * The first argument of the function is the element index and the second one - the element value. \n     */\n    public static &lt;T, R&gt; Stream&lt;R&gt; mapWithIndex(Stream&lt;? extends T&gt; stream, BiFunction&lt;Integer, ? super T, ? extends R&gt; mapper) {\n        return zipWithIndex(stream).map(entry -&gt; mapper.apply(entry.getKey(), entry.getValue()));\n    }\n\n    public static void main(String[] args) {\n        String[] names = {\"Sam\", \"Pamela\", \"Dave\", \"Pascal\", \"Erik\"};\n\n        System.out.println(\"Test zipWithIndex\");\n        zipWithIndex(Arrays.stream(names)).forEach(entry -&gt; System.out.println(entry));\n\n        System.out.println();\n        System.out.println(\"Test mapWithIndex\");\n        mapWithIndex(Arrays.stream(names), (Integer index, String name) -&gt; index+\"=\"+name).forEach((String s) -&gt; System.out.println(s));\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":296832,"reputation":1300,"user_id":602018,"display_name":"42n4"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1421429616,"creation_date":1421429616,"answer_id":27989553,"question_id":18552005,"body_markdown":"With https://github.com/poetix/protonpack\r\nu can do that zip:\r\n\r\n\tString[] names = {&quot;Sam&quot;,&quot;Pamela&quot;, &quot;Dave&quot;, &quot;Pascal&quot;, &quot;Erik&quot;};\r\n\t\r\n\tList&lt;String&gt; nameList;\r\n\tStream&lt;Integer&gt; indices = IntStream.range(0, names.length).boxed(); \r\n\t\r\n\tnameList = StreamUtils.zip(indices, stream(names),SimpleEntry::new)\r\n\t\t\t.filter(e -&gt; e.getValue().length() &lt;= e.getKey()).map(Entry::getValue).collect(toList());\t\t\t\t\t\r\n\t\t\r\n    System.out.println(nameList);","title":"Is there a concise way to iterate over a stream with indices in Java 8?","body":"<p>With <a href=\"https://github.com/poetix/protonpack\" rel=\"nofollow\">https://github.com/poetix/protonpack</a>\nu can do that zip:</p>\n\n<pre><code>String[] names = {\"Sam\",\"Pamela\", \"Dave\", \"Pascal\", \"Erik\"};\n\nList&lt;String&gt; nameList;\nStream&lt;Integer&gt; indices = IntStream.range(0, names.length).boxed(); \n\nnameList = StreamUtils.zip(indices, stream(names),SimpleEntry::new)\n        .filter(e -&gt; e.getValue().length() &lt;= e.getKey()).map(Entry::getValue).collect(toList());                   \n\nSystem.out.println(nameList);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5914036,"reputation":5245,"user_id":4653367,"display_name":"John McClean"},"comment_count":0,"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1496964647,"creation_date":1427660723,"answer_id":29334431,"question_id":18552005,"body_markdown":"In addition to protonpack, [jOOλ&#39;s Seq][1] provides this functionality (and by extension libraries that build on it like [cyclops-react][2], I am the author of this library).\r\n\r\n    Seq.seq(Stream.of(names)).zipWithIndex()\r\n                             .filter( namesWithIndex -&gt; namesWithIndex.v1.length() &lt;= namesWithIndex.v2 + 1)\r\n                             .toList();\r\n\r\n\r\nSeq also supports just Seq.of(names) and will build a JDK Stream under the covers.\r\n\r\nThe simple-react equivalent would similarly look like \r\n  \r\n     LazyFutureStream.of(names)\r\n                     .zipWithIndex()\r\n                     .filter( namesWithIndex -&gt; namesWithIndex.v1.length() &lt;= namesWithIndex.v2 + 1)\r\n                     .toList();\r\n\r\nThe simple-react version is more tailored for asynchronous / concurrent processing.\r\n\r\n  [1]: http://www.jooq.org/products/jOO%CE%BB/javadoc/latest/org/jooq/lambda/Seq.html\r\n  [2]: https://github.com/aol/cyclops-react","title":"Is there a concise way to iterate over a stream with indices in Java 8?","body":"<p>In addition to protonpack, <a href=\"http://www.jooq.org/products/jOO%CE%BB/javadoc/latest/org/jooq/lambda/Seq.html\" rel=\"noreferrer\">jOOλ's Seq</a> provides this functionality (and by extension libraries that build on it like <a href=\"https://github.com/aol/cyclops-react\" rel=\"noreferrer\">cyclops-react</a>, I am the author of this library).</p>\n\n<pre><code>Seq.seq(Stream.of(names)).zipWithIndex()\n                         .filter( namesWithIndex -&gt; namesWithIndex.v1.length() &lt;= namesWithIndex.v2 + 1)\n                         .toList();\n</code></pre>\n\n<p>Seq also supports just Seq.of(names) and will build a JDK Stream under the covers.</p>\n\n<p>The simple-react equivalent would similarly look like </p>\n\n<pre><code> LazyFutureStream.of(names)\n                 .zipWithIndex()\n                 .filter( namesWithIndex -&gt; namesWithIndex.v1.length() &lt;= namesWithIndex.v2 + 1)\n                 .toList();\n</code></pre>\n\n<p>The simple-react version is more tailored for asynchronous / concurrent processing.</p>\n"},{"comments":[{"owner":{"account_id":2761390,"reputation":1159,"user_id":2378225,"accept_rate":62,"display_name":"Steve Oh"},"score":0,"creation_date":1522244601,"post_id":32491944,"comment_id":86078844,"body_markdown":"great work; is there a shortcut for `.forEach(entry -&gt; {})`  ?","body":"great work; is there a shortcut for <code>.forEach(entry -&gt; {})</code>  ?"},{"owner":{"account_id":6243460,"reputation":97907,"user_id":4856258,"accept_rate":100,"display_name":"Tagir Valeev"},"score":2,"creation_date":1522318563,"post_id":32491944,"comment_id":86114064,"body_markdown":"@SteveOh if I understand you question correctly, then yes, you can write `.forKeyValue((key, value) -&gt; {})`.","body":"@SteveOh if I understand you question correctly, then yes, you can write <code>.forKeyValue((key, value) -&gt; {})</code>."}],"tags":[],"owner":{"account_id":6243460,"reputation":97907,"user_id":4856258,"accept_rate":100,"display_name":"Tagir Valeev"},"comment_count":2,"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1441850871,"creation_date":1441850871,"answer_id":32491944,"question_id":18552005,"body_markdown":"Just for completeness here&#39;s the solution involving my [StreamEx](https://github.com/amaembo/streamex) library:\r\n\r\n\tString[] names = {&quot;Sam&quot;,&quot;Pamela&quot;, &quot;Dave&quot;, &quot;Pascal&quot;, &quot;Erik&quot;};\r\n\tEntryStream.of(names)\r\n\t\t.filterKeyValue((idx, str) -&gt; str.length() &lt;= idx+1)\r\n\t\t.values().toList();\r\n\r\nHere we create an [`EntryStream&lt;Integer, String&gt;`](http://amaembo.github.io/streamex/javadoc/javax/util/streamex/EntryStream.html) which extends `Stream&lt;Entry&lt;Integer, String&gt;&gt;` and adds some specific operations like [`filterKeyValue`](http://amaembo.github.io/streamex/javadoc/javax/util/streamex/EntryStream.html#filterKeyValue-java.util.function.BiPredicate-) or [`values`](http://amaembo.github.io/streamex/javadoc/javax/util/streamex/EntryStream.html#values--). Also [`toList()`](http://amaembo.github.io/streamex/javadoc/javax/util/streamex/StreamEx.html#toList--) shortcut is used.","title":"Is there a concise way to iterate over a stream with indices in Java 8?","body":"<p>Just for completeness here's the solution involving my <a href=\"https://github.com/amaembo/streamex\" rel=\"noreferrer\">StreamEx</a> library:</p>\n\n<pre><code>String[] names = {\"Sam\",\"Pamela\", \"Dave\", \"Pascal\", \"Erik\"};\nEntryStream.of(names)\n    .filterKeyValue((idx, str) -&gt; str.length() &lt;= idx+1)\n    .values().toList();\n</code></pre>\n\n<p>Here we create an <a href=\"http://amaembo.github.io/streamex/javadoc/javax/util/streamex/EntryStream.html\" rel=\"noreferrer\"><code>EntryStream&lt;Integer, String&gt;</code></a> which extends <code>Stream&lt;Entry&lt;Integer, String&gt;&gt;</code> and adds some specific operations like <a href=\"http://amaembo.github.io/streamex/javadoc/javax/util/streamex/EntryStream.html#filterKeyValue-java.util.function.BiPredicate-\" rel=\"noreferrer\"><code>filterKeyValue</code></a> or <a href=\"http://amaembo.github.io/streamex/javadoc/javax/util/streamex/EntryStream.html#values--\" rel=\"noreferrer\"><code>values</code></a>. Also <a href=\"http://amaembo.github.io/streamex/javadoc/javax/util/streamex/StreamEx.html#toList--\" rel=\"noreferrer\"><code>toList()</code></a> shortcut is used.</p>\n"},{"tags":[],"owner":{"account_id":6136418,"reputation":6512,"user_id":4785114,"accept_rate":69,"display_name":"alexpfx"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1455416043,"creation_date":1455416043,"answer_id":35387641,"question_id":18552005,"body_markdown":"You can create a static inner class to encapsulate the indexer as I needed to do in example below:\r\n\r\n    static class Indexer {\r\n        int i = 0;\r\n    }\r\n    \r\n    public static String getRegex() {\r\n        EnumSet&lt;MeasureUnit&gt; range = EnumSet.allOf(MeasureUnit.class);\r\n        StringBuilder sb = new StringBuilder();\r\n        Indexer indexer = new Indexer();\r\n        range.stream().forEach(\r\n                measureUnit -&gt; {\r\n                    sb.append(measureUnit.acronym);\r\n                    if (indexer.i &lt; range.size() - 1)\r\n                        sb.append(&quot;|&quot;);\r\n    \r\n                    indexer.i++;\r\n                }\r\n        );\r\n        return sb.toString();\r\n    }\r\n\r\n","title":"Is there a concise way to iterate over a stream with indices in Java 8?","body":"<p>You can create a static inner class to encapsulate the indexer as I needed to do in example below:</p>\n\n<pre><code>static class Indexer {\n    int i = 0;\n}\n\npublic static String getRegex() {\n    EnumSet&lt;MeasureUnit&gt; range = EnumSet.allOf(MeasureUnit.class);\n    StringBuilder sb = new StringBuilder();\n    Indexer indexer = new Indexer();\n    range.stream().forEach(\n            measureUnit -&gt; {\n                sb.append(measureUnit.acronym);\n                if (indexer.i &lt; range.size() - 1)\n                    sb.append(\"|\");\n\n                indexer.i++;\n            }\n    );\n    return sb.toString();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1712726,"reputation":6528,"user_id":1570415,"display_name":"Donald Raab"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1456642392,"creation_date":1456641380,"answer_id":35679577,"question_id":18552005,"body_markdown":"If you don&#39;t mind using a third-party library, [Eclipse Collections][1] has [`zipWithIndex`][2] and [`forEachWithIndex`][3] available for use across many types.  Here&#39;s a set of solutions to this challenge for both JDK types and Eclipse Collections types using `zipWithIndex`.\r\n\r\n    String[] names = { &quot;Sam&quot;, &quot;Pamela&quot;, &quot;Dave&quot;, &quot;Pascal&quot;, &quot;Erik&quot; };\r\n    ImmutableList&lt;String&gt; expected = Lists.immutable.with(&quot;Erik&quot;);\r\n    Predicate&lt;Pair&lt;String, Integer&gt;&gt; predicate =\r\n        pair -&gt; pair.getOne().length() &lt;= pair.getTwo() + 1;\r\n    \r\n    // JDK Types\r\n    List&lt;String&gt; strings1 = ArrayIterate.zipWithIndex(names)\r\n        .collectIf(predicate, Pair::getOne);\r\n    Assert.assertEquals(expected, strings1);\r\n    \r\n    List&lt;String&gt; list = Arrays.asList(names);\r\n    List&lt;String&gt; strings2 = ListAdapter.adapt(list)\r\n        .zipWithIndex()\r\n        .collectIf(predicate, Pair::getOne);\r\n    Assert.assertEquals(expected, strings2);\r\n    \r\n    // Eclipse Collections types\r\n    MutableList&lt;String&gt; mutableNames = Lists.mutable.with(names);\r\n    MutableList&lt;String&gt; strings3 = mutableNames.zipWithIndex()\r\n        .collectIf(predicate, Pair::getOne);\r\n    Assert.assertEquals(expected, strings3);\r\n    \r\n    ImmutableList&lt;String&gt; immutableNames = Lists.immutable.with(names);\r\n    ImmutableList&lt;String&gt; strings4 = immutableNames.zipWithIndex()\r\n        .collectIf(predicate, Pair::getOne);\r\n    Assert.assertEquals(expected, strings4);\r\n    \r\n    MutableList&lt;String&gt; strings5 = mutableNames.asLazy()\r\n        .zipWithIndex()\r\n        .collectIf(predicate, Pair::getOne, Lists.mutable.empty());\r\n    Assert.assertEquals(expected, strings5);\r\n\r\nHere&#39;s a solution using `forEachWithIndex` instead.\r\n\r\n    MutableList&lt;String&gt; mutableNames =\r\n        Lists.mutable.with(&quot;Sam&quot;, &quot;Pamela&quot;, &quot;Dave&quot;, &quot;Pascal&quot;, &quot;Erik&quot;);\r\n    ImmutableList&lt;String&gt; expected = Lists.immutable.with(&quot;Erik&quot;);\r\n    \r\n    List&lt;String&gt; actual = Lists.mutable.empty();\r\n    mutableNames.forEachWithIndex((name, index) -&gt; {\r\n            if (name.length() &lt;= index + 1)\r\n                actual.add(name);\r\n        });\r\n    Assert.assertEquals(expected, actual);\r\n\r\nIf you change the lambdas to anonymous inner classes above, then all of these code examples will work in Java 5 - 7 as well.\r\n\r\n**Note:** I am a committer for Eclipse Collections\r\n\r\n  [1]: https://www.eclipse.org/collections/\r\n  [2]: https://www.eclipse.org/collections/javadoc/7.0.0/org/eclipse/collections/api/ordered/OrderedIterable.html#zipWithIndex--\r\n  [3]: https://www.eclipse.org/collections/javadoc/7.0.0/org/eclipse/collections/api/ordered/OrderedIterable.html#forEachWithIndex-org.eclipse.collections.api.block.procedure.primitive.ObjectIntProcedure-\r\n","title":"Is there a concise way to iterate over a stream with indices in Java 8?","body":"<p>If you don't mind using a third-party library, <a href=\"https://www.eclipse.org/collections/\" rel=\"nofollow\">Eclipse Collections</a> has <a href=\"https://www.eclipse.org/collections/javadoc/7.0.0/org/eclipse/collections/api/ordered/OrderedIterable.html#zipWithIndex--\" rel=\"nofollow\"><code>zipWithIndex</code></a> and <a href=\"https://www.eclipse.org/collections/javadoc/7.0.0/org/eclipse/collections/api/ordered/OrderedIterable.html#forEachWithIndex-org.eclipse.collections.api.block.procedure.primitive.ObjectIntProcedure-\" rel=\"nofollow\"><code>forEachWithIndex</code></a> available for use across many types.  Here's a set of solutions to this challenge for both JDK types and Eclipse Collections types using <code>zipWithIndex</code>.</p>\n\n<pre><code>String[] names = { \"Sam\", \"Pamela\", \"Dave\", \"Pascal\", \"Erik\" };\nImmutableList&lt;String&gt; expected = Lists.immutable.with(\"Erik\");\nPredicate&lt;Pair&lt;String, Integer&gt;&gt; predicate =\n    pair -&gt; pair.getOne().length() &lt;= pair.getTwo() + 1;\n\n// JDK Types\nList&lt;String&gt; strings1 = ArrayIterate.zipWithIndex(names)\n    .collectIf(predicate, Pair::getOne);\nAssert.assertEquals(expected, strings1);\n\nList&lt;String&gt; list = Arrays.asList(names);\nList&lt;String&gt; strings2 = ListAdapter.adapt(list)\n    .zipWithIndex()\n    .collectIf(predicate, Pair::getOne);\nAssert.assertEquals(expected, strings2);\n\n// Eclipse Collections types\nMutableList&lt;String&gt; mutableNames = Lists.mutable.with(names);\nMutableList&lt;String&gt; strings3 = mutableNames.zipWithIndex()\n    .collectIf(predicate, Pair::getOne);\nAssert.assertEquals(expected, strings3);\n\nImmutableList&lt;String&gt; immutableNames = Lists.immutable.with(names);\nImmutableList&lt;String&gt; strings4 = immutableNames.zipWithIndex()\n    .collectIf(predicate, Pair::getOne);\nAssert.assertEquals(expected, strings4);\n\nMutableList&lt;String&gt; strings5 = mutableNames.asLazy()\n    .zipWithIndex()\n    .collectIf(predicate, Pair::getOne, Lists.mutable.empty());\nAssert.assertEquals(expected, strings5);\n</code></pre>\n\n<p>Here's a solution using <code>forEachWithIndex</code> instead.</p>\n\n<pre><code>MutableList&lt;String&gt; mutableNames =\n    Lists.mutable.with(\"Sam\", \"Pamela\", \"Dave\", \"Pascal\", \"Erik\");\nImmutableList&lt;String&gt; expected = Lists.immutable.with(\"Erik\");\n\nList&lt;String&gt; actual = Lists.mutable.empty();\nmutableNames.forEachWithIndex((name, index) -&gt; {\n        if (name.length() &lt;= index + 1)\n            actual.add(name);\n    });\nAssert.assertEquals(expected, actual);\n</code></pre>\n\n<p>If you change the lambdas to anonymous inner classes above, then all of these code examples will work in Java 5 - 7 as well.</p>\n\n<p><strong>Note:</strong> I am a committer for Eclipse Collections</p>\n"},{"tags":[],"owner":{"account_id":4120139,"reputation":1,"user_id":3380739,"display_name":"user_3380739"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1673587208,"creation_date":1480665976,"answer_id":40927427,"question_id":18552005,"body_markdown":"Here is code by [abacus-common][1]\r\n\r\n    Stream.of(names).indexed()\r\n          .filter(e -&gt; e.value().length() &lt;= e.index())\r\n          .map(Indexed::value).toList();\r\n\r\nDisclosure： I&#39;m the developer of abacus-common.\r\n\r\n  [1]: https://github.com/landawn/abacus-common","title":"Is there a concise way to iterate over a stream with indices in Java 8?","body":"<p>Here is code by <a href=\"https://github.com/landawn/abacus-common\" rel=\"nofollow noreferrer\">abacus-common</a></p>\n<pre><code>Stream.of(names).indexed()\n      .filter(e -&gt; e.value().length() &lt;= e.index())\n      .map(Indexed::value).toList();\n</code></pre>\n<p>Disclosure： I'm the developer of abacus-common.</p>\n"},{"comments":[{"owner":{"account_id":3242704,"reputation":13438,"user_id":2735286,"accept_rate":89,"display_name":"gil.fernandes"},"score":3,"creation_date":1496238498,"post_id":42616742,"comment_id":75579884,"body_markdown":"Actually a nice idea, but *strings::indexOf* might be a bit expensive. My suggestion is to use instead: *.collect(HashMap::new, (h, s) -&gt; h.put(h.size(), s), (h, s) -&gt; {})* . You can simply use the size() method to create the index.","body":"Actually a nice idea, but <i>strings::indexOf</i> might be a bit expensive. My suggestion is to use instead: <i>.collect(HashMap::new, (h, s) -&gt; h.put(h.size(), s), (h, s) -&gt; {})</i> . You can simply use the size() method to create the index."},{"owner":{"account_id":10393559,"reputation":91,"user_id":7663973,"display_name":"V0idst4r"},"score":0,"creation_date":1497986993,"post_id":42616742,"comment_id":76308534,"body_markdown":"@gil.fernandes Thank you for the suggestion. I&#39;ll make the edits.","body":"@gil.fernandes Thank you for the suggestion. I&#39;ll make the edits."}],"tags":[],"owner":{"account_id":10393559,"reputation":91,"user_id":7663973,"display_name":"V0idst4r"},"comment_count":2,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1497987211,"creation_date":1488768375,"answer_id":42616742,"question_id":18552005,"body_markdown":"With a List you can try\r\n\r\n    List&lt;String&gt; strings = new ArrayList&lt;&gt;(Arrays.asList(&quot;First&quot;, &quot;Second&quot;, &quot;Third&quot;, &quot;Fourth&quot;, &quot;Fifth&quot;)); // An example list of Strings\r\n    strings.stream() // Turn the list into a Stream\r\n        .collect(HashMap::new, (h, o) -&gt; h.put(h.size(), o), (h, o) -&gt; {}) // Create a map of the index to the object\r\n            .forEach((i, o) -&gt; { // Now we can use a BiConsumer forEach!\r\n                System.out.println(String.format(&quot;%d =&gt; %s&quot;, i, o));\r\n            });\r\nOutput:\r\n\r\n    0 =&gt; First\r\n    1 =&gt; Second\r\n    2 =&gt; Third\r\n    3 =&gt; Fourth\r\n    4 =&gt; Fifth","title":"Is there a concise way to iterate over a stream with indices in Java 8?","body":"<p>With a List you can try</p>\n\n<pre><code>List&lt;String&gt; strings = new ArrayList&lt;&gt;(Arrays.asList(\"First\", \"Second\", \"Third\", \"Fourth\", \"Fifth\")); // An example list of Strings\nstrings.stream() // Turn the list into a Stream\n    .collect(HashMap::new, (h, o) -&gt; h.put(h.size(), o), (h, o) -&gt; {}) // Create a map of the index to the object\n        .forEach((i, o) -&gt; { // Now we can use a BiConsumer forEach!\n            System.out.println(String.format(\"%d =&gt; %s\", i, o));\n        });\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>0 =&gt; First\n1 =&gt; Second\n2 =&gt; Third\n3 =&gt; Fourth\n4 =&gt; Fifth\n</code></pre>\n"},{"comments":[{"owner":{"account_id":162661,"reputation":301,"user_id":384267,"display_name":"John Glassmyer"},"score":4,"creation_date":1534053932,"post_id":42673873,"comment_id":90567873,"body_markdown":"Also, the Guava folks haven&#39;t yet implemented forEachWithIndex (taking a consumer rather than a function), but it&#39;s an assigned issue: https://github.com/google/guava/issues/2913 .","body":"Also, the Guava folks haven&#39;t yet implemented forEachWithIndex (taking a consumer rather than a function), but it&#39;s an assigned issue: <a href=\"https://github.com/google/guava/issues/2913\" rel=\"nofollow noreferrer\">github.com/google/guava/issues/2913</a> ."},{"owner":{"account_id":7450,"reputation":269220,"user_id":12960,"display_name":"Brian Agnew"},"score":2,"creation_date":1617808301,"post_id":42673873,"comment_id":118411548,"body_markdown":"That Guava issue still appears to be open :-(","body":"That Guava issue still appears to be open :-("}],"tags":[],"owner":{"account_id":4243811,"reputation":4011,"user_id":3473046,"accept_rate":20,"display_name":"num&#233;ro6"},"comment_count":2,"down_vote_count":1,"up_vote_count":75,"is_accepted":false,"score":74,"last_activity_date":1488982974,"creation_date":1488982974,"answer_id":42673873,"question_id":18552005,"body_markdown":"Since guava 21, you can use\r\n\r\n    Streams.mapWithIndex()\r\n\r\nExample (from [official doc][1]):\r\n\r\n    Streams.mapWithIndex(\r\n        Stream.of(&quot;a&quot;, &quot;b&quot;, &quot;c&quot;),\r\n        (str, index) -&gt; str + &quot;:&quot; + index)\r\n    ) // will return Stream.of(&quot;a:0&quot;, &quot;b:1&quot;, &quot;c:2&quot;)\r\n\r\n\r\n  [1]: http://google.github.io/guava/releases/21.0/api/docs/com/google/common/collect/Streams.html#mapWithIndex-java.util.stream.Stream-com.google.common.collect.Streams.FunctionWithIndex-","title":"Is there a concise way to iterate over a stream with indices in Java 8?","body":"<p>Since guava 21, you can use</p>\n\n<pre><code>Streams.mapWithIndex()\n</code></pre>\n\n<p>Example (from <a href=\"http://google.github.io/guava/releases/21.0/api/docs/com/google/common/collect/Streams.html#mapWithIndex-java.util.stream.Stream-com.google.common.collect.Streams.FunctionWithIndex-\" rel=\"noreferrer\">official doc</a>):</p>\n\n<pre><code>Streams.mapWithIndex(\n    Stream.of(\"a\", \"b\", \"c\"),\n    (str, index) -&gt; str + \":\" + index)\n) // will return Stream.of(\"a:0\", \"b:1\", \"c:2\")\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6593416,"reputation":27460,"user_id":5093961,"display_name":"Steven Spungin"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1495372700,"creation_date":1495372700,"answer_id":44097360,"question_id":18552005,"body_markdown":"This question (https://stackoverflow.com/questions/38963338/stream-way-to-get-index-of-first-element-matching-boolean)  has marked the current question as a duplicate, so I can not answer it there; I am answering it here.\r\n\r\nHere is a generic solution to get the matching index that does not require an external library.\r\n\r\nIf you have a list.\r\n\r\n    public static &lt;T&gt; int indexOf(List&lt;T&gt; items, Predicate&lt;T&gt; matches) {\r\n            return IntStream.range(0, items.size())\r\n                    .filter(index -&gt; matches.test(items.get(index)))\r\n                    .findFirst().orElse(-1);\r\n    }\r\n\r\nAnd call it like this:\r\n\r\n    int index = indexOf(myList, item-&gt;item.getId()==100);\r\n\r\nAnd if using a collection, try this one.\r\n\r\n       public static &lt;T&gt; int indexOf(Collection&lt;T&gt; items, Predicate&lt;T&gt; matches) {\r\n            int index = -1;\r\n            Iterator&lt;T&gt; it = items.iterator();\r\n            while (it.hasNext()) {\r\n                index++;\r\n                if (matches.test(it.next())) {\r\n                    return index;\r\n                }\r\n            }\r\n            return -1;\r\n        }\r\n\r\n","title":"Is there a concise way to iterate over a stream with indices in Java 8?","body":"<p>This question (<a href=\"https://stackoverflow.com/questions/38963338/stream-way-to-get-index-of-first-element-matching-boolean\">Stream Way to get index of first element matching boolean</a>)  has marked the current question as a duplicate, so I can not answer it there; I am answering it here.</p>\n\n<p>Here is a generic solution to get the matching index that does not require an external library.</p>\n\n<p>If you have a list.</p>\n\n<pre><code>public static &lt;T&gt; int indexOf(List&lt;T&gt; items, Predicate&lt;T&gt; matches) {\n        return IntStream.range(0, items.size())\n                .filter(index -&gt; matches.test(items.get(index)))\n                .findFirst().orElse(-1);\n}\n</code></pre>\n\n<p>And call it like this:</p>\n\n<pre><code>int index = indexOf(myList, item-&gt;item.getId()==100);\n</code></pre>\n\n<p>And if using a collection, try this one.</p>\n\n<pre><code>   public static &lt;T&gt; int indexOf(Collection&lt;T&gt; items, Predicate&lt;T&gt; matches) {\n        int index = -1;\n        Iterator&lt;T&gt; it = items.iterator();\n        while (it.hasNext()) {\n            index++;\n            if (matches.test(it.next())) {\n                return index;\n            }\n        }\n        return -1;\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2570598,"reputation":13282,"user_id":2229438,"accept_rate":94,"display_name":"Grzegorz Piwowarek"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1501003436,"creation_date":1501003436,"answer_id":45309948,"question_id":18552005,"body_markdown":"If you happen to use Vavr(formerly known as Javaslang), you can leverage the dedicated method:\r\n\r\n    Stream.of(&quot;A&quot;, &quot;B&quot;, &quot;C&quot;)\r\n      .zipWithIndex();\r\n\r\nIf we print out the content, we will see something interesting:\r\n\r\n    Stream((A, 0), ?)\r\n\r\n\r\nThis is because `Streams` are lazy and we have no clue about next items in the stream.","title":"Is there a concise way to iterate over a stream with indices in Java 8?","body":"<p>If you happen to use Vavr(formerly known as Javaslang), you can leverage the dedicated method:</p>\n\n<pre><code>Stream.of(\"A\", \"B\", \"C\")\n  .zipWithIndex();\n</code></pre>\n\n<p>If we print out the content, we will see something interesting:</p>\n\n<pre><code>Stream((A, 0), ?)\n</code></pre>\n\n<p>This is because <code>Streams</code> are lazy and we have no clue about next items in the stream.</p>\n"},{"tags":[],"owner":{"account_id":312929,"reputation":1478,"user_id":627297,"accept_rate":50,"display_name":"alex.b"},"comment_count":0,"down_vote_count":1,"up_vote_count":13,"is_accepted":false,"score":12,"last_activity_date":1510099200,"creation_date":1504166508,"answer_id":45976269,"question_id":18552005,"body_markdown":"I found the solutions here when the Stream is created of list or array (and you know the size). But what if Stream is with unknown size? In this case try this variant:\r\n\r\n    public class WithIndex&lt;T&gt; {\r\n        private int index;\r\n        private T value;\r\n    \r\n        WithIndex(int index, T value) {\r\n            this.index = index;\r\n            this.value = value;\r\n        }\r\n    \r\n        public int index() {\r\n            return index;\r\n        }\r\n    \r\n        public T value() {\r\n            return value;\r\n        }\r\n\r\n        @Override\r\n        public String toString() {\r\n            return value + &quot;(&quot; + index + &quot;)&quot;;\r\n        }\r\n    \r\n        public static &lt;T&gt; Function&lt;T, WithIndex&lt;T&gt;&gt; indexed() {\r\n            return new Function&lt;T, WithIndex&lt;T&gt;&gt;() {\r\n                int index = 0;\r\n                @Override\r\n                public WithIndex&lt;T&gt; apply(T t) {\r\n                    return new WithIndex&lt;&gt;(index++, t);\r\n                }\r\n            };\r\n        }\r\n    }\r\n\r\nUsage:\r\n\r\n    public static void main(String[] args) {\r\n        Stream&lt;String&gt; stream = Stream.of(&quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot;, &quot;e&quot;);\r\n        stream.map(WithIndex.indexed()).forEachOrdered(e -&gt; {\r\n            System.out.println(e.index() + &quot; -&gt; &quot; + e.value());\r\n        });\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n","title":"Is there a concise way to iterate over a stream with indices in Java 8?","body":"<p>I found the solutions here when the Stream is created of list or array (and you know the size). But what if Stream is with unknown size? In this case try this variant:</p>\n\n<pre><code>public class WithIndex&lt;T&gt; {\n    private int index;\n    private T value;\n\n    WithIndex(int index, T value) {\n        this.index = index;\n        this.value = value;\n    }\n\n    public int index() {\n        return index;\n    }\n\n    public T value() {\n        return value;\n    }\n\n    @Override\n    public String toString() {\n        return value + \"(\" + index + \")\";\n    }\n\n    public static &lt;T&gt; Function&lt;T, WithIndex&lt;T&gt;&gt; indexed() {\n        return new Function&lt;T, WithIndex&lt;T&gt;&gt;() {\n            int index = 0;\n            @Override\n            public WithIndex&lt;T&gt; apply(T t) {\n                return new WithIndex&lt;&gt;(index++, t);\n            }\n        };\n    }\n}\n</code></pre>\n\n<p>Usage:</p>\n\n<pre><code>public static void main(String[] args) {\n    Stream&lt;String&gt; stream = Stream.of(\"a\", \"b\", \"c\", \"d\", \"e\");\n    stream.map(WithIndex.indexed()).forEachOrdered(e -&gt; {\n        System.out.println(e.index() + \" -&gt; \" + e.value());\n    });\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":370994,"reputation":35154,"user_id":719263,"accept_rate":100,"display_name":"Jean-Baptiste Yun&#232;s"},"comment_count":0,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1504214523,"creation_date":1504214523,"answer_id":45990267,"question_id":18552005,"body_markdown":"One possible way is to index each element on the flow:\r\n\r\n    AtomicInteger index = new AtomicInteger();\r\n    Stream.of(names)\r\n      .map(e-&gt;new Object() { String n=e; public i=index.getAndIncrement(); })\r\n      .filter(o-&gt;o.n.length()&lt;=o.i) // or do whatever you want with pairs...\r\n      .forEach(o-&gt;System.out.println(&quot;idx:&quot;+o.i+&quot; nam:&quot;+o.n));\r\n\r\nUsing an anonymous class along a stream is not well-used while being very useful.","title":"Is there a concise way to iterate over a stream with indices in Java 8?","body":"<p>One possible way is to index each element on the flow:</p>\n\n<pre><code>AtomicInteger index = new AtomicInteger();\nStream.of(names)\n  .map(e-&gt;new Object() { String n=e; public i=index.getAndIncrement(); })\n  .filter(o-&gt;o.n.length()&lt;=o.i) // or do whatever you want with pairs...\n  .forEach(o-&gt;System.out.println(\"idx:\"+o.i+\" nam:\"+o.n));\n</code></pre>\n\n<p>Using an anonymous class along a stream is not well-used while being very useful.</p>\n"},{"comments":[{"owner":{"account_id":2513977,"reputation":1330,"user_id":2185783,"display_name":"maximus"},"score":0,"creation_date":1636101858,"post_id":49659431,"comment_id":123471964,"body_markdown":"I really like this. I used it for dealing with 2 collections/arrays that linked with each other via index: `IntStream.range(0, list.size()).forEach(i -&gt; list.get(i).setResult(resultArray[i]));`","body":"I really like this. I used it for dealing with 2 collections/arrays that linked with each other via index: <code>IntStream.range(0, list.size()).forEach(i -&gt; list.get(i).setResult(resultArray[i]));</code>"}],"tags":[],"owner":{"account_id":194169,"reputation":49728,"user_id":436341,"accept_rate":67,"display_name":"live-love"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1522948209,"creation_date":1522871979,"answer_id":49659431,"question_id":18552005,"body_markdown":"If you are trying to get an index based on a predicate, try this:\r\n\r\nIf you only care about the first index:\r\n\r\n    OptionalInt index = IntStream.range(0, list.size())\r\n        .filter(i -&gt; list.get(i) == 3)\r\n        .findFirst();\r\n\r\nOr if you want to find multiple indexes:\r\n\r\n    IntStream.range(0, list.size())\r\n       .filter(i -&gt; list.get(i) == 3)\r\n       .collect(Collectors.toList());\r\n\r\n\r\nAdd `.orElse(-1);` in case you want to return a value if it doesn&#39;t find it.\r\n\r\n","title":"Is there a concise way to iterate over a stream with indices in Java 8?","body":"<p>If you are trying to get an index based on a predicate, try this:</p>\n\n<p>If you only care about the first index:</p>\n\n<pre><code>OptionalInt index = IntStream.range(0, list.size())\n    .filter(i -&gt; list.get(i) == 3)\n    .findFirst();\n</code></pre>\n\n<p>Or if you want to find multiple indexes:</p>\n\n<pre><code>IntStream.range(0, list.size())\n   .filter(i -&gt; list.get(i) == 3)\n   .collect(Collectors.toList());\n</code></pre>\n\n<p>Add <code>.orElse(-1);</code> in case you want to return a value if it doesn't find it.</p>\n"},{"tags":[],"owner":{"account_id":13389989,"reputation":10689,"user_id":9662601,"display_name":"Samuel Philipp"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1559768236,"creation_date":1559768236,"answer_id":56467898,"question_id":18552005,"body_markdown":"You can use [`IntStream.iterate()`](https://docs.oracle.com/javase/9/docs/api/java/util/stream/IntStream.html#iterate-int-java.util.function.IntPredicate-java.util.function.IntUnaryOperator-) to get the index:\r\n\r\n    String[] names = {&quot;Sam&quot;,&quot;Pamela&quot;, &quot;Dave&quot;, &quot;Pascal&quot;, &quot;Erik&quot;};\r\n    List&lt;String&gt; nameList = IntStream.iterate(0, i -&gt; i &lt; names.length, i -&gt; i + 1)\r\n            .filter(i -&gt; names[i].length() &lt;= i)\r\n            .mapToObj(i -&gt; names[i])\r\n            .collect(Collectors.toList());\r\n\r\nThis only works for Java 9 upwards in Java 8 you can use this:\r\n\r\n    String[] names = {&quot;Sam&quot;,&quot;Pamela&quot;, &quot;Dave&quot;, &quot;Pascal&quot;, &quot;Erik&quot;};\r\n    List&lt;String&gt; nameList = IntStream.iterate(0, i -&gt; i + 1)\r\n            .limit(names.length)\r\n            .filter(i -&gt; names[i].length() &lt;= i)\r\n            .mapToObj(i -&gt; names[i])\r\n            .collect(Collectors.toList());\r\n","title":"Is there a concise way to iterate over a stream with indices in Java 8?","body":"<p>You can use <a href=\"https://docs.oracle.com/javase/9/docs/api/java/util/stream/IntStream.html#iterate-int-java.util.function.IntPredicate-java.util.function.IntUnaryOperator-\" rel=\"nofollow noreferrer\"><code>IntStream.iterate()</code></a> to get the index:</p>\n\n<pre><code>String[] names = {\"Sam\",\"Pamela\", \"Dave\", \"Pascal\", \"Erik\"};\nList&lt;String&gt; nameList = IntStream.iterate(0, i -&gt; i &lt; names.length, i -&gt; i + 1)\n        .filter(i -&gt; names[i].length() &lt;= i)\n        .mapToObj(i -&gt; names[i])\n        .collect(Collectors.toList());\n</code></pre>\n\n<p>This only works for Java 9 upwards in Java 8 you can use this:</p>\n\n<pre><code>String[] names = {\"Sam\",\"Pamela\", \"Dave\", \"Pascal\", \"Erik\"};\nList&lt;String&gt; nameList = IntStream.iterate(0, i -&gt; i + 1)\n        .limit(names.length)\n        .filter(i -&gt; names[i].length() &lt;= i)\n        .mapToObj(i -&gt; names[i])\n        .collect(Collectors.toList());\n</code></pre>\n"},{"comments":[{"owner":{"account_id":15524669,"reputation":2739,"user_id":11199879,"display_name":"Kaplan"},"score":0,"creation_date":1572103269,"post_id":57702557,"comment_id":103460794,"body_markdown":"The solution of the above question is expected to be a `List` containing one element **Erik**.","body":"The solution of the above question is expected to be a <code>List</code> containing one element <b>Erik</b>."},{"owner":{"account_id":9934922,"reputation":4769,"user_id":7353562,"accept_rate":75,"display_name":"Arpan Saini"},"score":0,"creation_date":1572216667,"post_id":57702557,"comment_id":103482267,"body_markdown":"I have added an example to collect in the List as well.","body":"I have added an example to collect in the List as well."}],"tags":[],"owner":{"account_id":9934922,"reputation":4769,"user_id":7353562,"accept_rate":75,"display_name":"Arpan Saini"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1572216563,"creation_date":1567048873,"answer_id":57702557,"question_id":18552005,"body_markdown":"\r\n\r\n  \r\n\r\n    String[] namesArray = {&quot;Sam&quot;,&quot;Pamela&quot;, &quot;Dave&quot;, &quot;Pascal&quot;, &quot;Erik&quot;};\r\n    String completeString\r\n             =  IntStream.range(0,namesArray.length)\r\n               .mapToObj(i -&gt; namesArray[i]) // Converting each array element into Object\r\n               .map(String::valueOf) // Converting object to String again\r\n               .collect(Collectors.joining(&quot;,&quot;)); // getting a Concat String of all values\r\n            System.out.println(completeString);\r\n\r\nOUTPUT : Sam,Pamela,Dave,Pascal,Erik\r\n\r\n\r\n\r\n\r\n    String[] namesArray = {&quot;Sam&quot;,&quot;Pamela&quot;, &quot;Dave&quot;, &quot;Pascal&quot;, &quot;Erik&quot;};\r\n    \r\n    IntStream.range(0,namesArray.length)\r\n                   .mapToObj(i -&gt; namesArray[i]) // Converting each array element into Object\r\n                   .map(String::valueOf) // Converting object to String again\r\n                   .forEach(s -&gt; {\r\n                    //You can do various operation on each element here\r\n                    System.out.println(s);\r\n                   }); // getting a Concat String of all \r\n\r\nTo Collect in the List:\r\n\r\n \r\n\r\n    String[] namesArray = {&quot;Sam&quot;,&quot;Pamela&quot;, &quot;Dave&quot;, &quot;Pascal&quot;, &quot;Erik&quot;};\r\n     List&lt;String&gt; namesList\r\n                    =  IntStream.range(0,namesArray.length)\r\n                    .mapToObj(i -&gt; namesArray[i]) // Converting each array element into Object\r\n                    .map(String::valueOf) // Converting object to String again\r\n                    .collect(Collectors.toList()); // collecting elements in List\r\n            System.out.println(listWithIndex);","title":"Is there a concise way to iterate over a stream with indices in Java 8?","body":"<pre><code>String[] namesArray = {\"Sam\",\"Pamela\", \"Dave\", \"Pascal\", \"Erik\"};\nString completeString\n         =  IntStream.range(0,namesArray.length)\n           .mapToObj(i -&gt; namesArray[i]) // Converting each array element into Object\n           .map(String::valueOf) // Converting object to String again\n           .collect(Collectors.joining(\",\")); // getting a Concat String of all values\n        System.out.println(completeString);\n</code></pre>\n\n<p>OUTPUT : Sam,Pamela,Dave,Pascal,Erik</p>\n\n<pre><code>String[] namesArray = {\"Sam\",\"Pamela\", \"Dave\", \"Pascal\", \"Erik\"};\n\nIntStream.range(0,namesArray.length)\n               .mapToObj(i -&gt; namesArray[i]) // Converting each array element into Object\n               .map(String::valueOf) // Converting object to String again\n               .forEach(s -&gt; {\n                //You can do various operation on each element here\n                System.out.println(s);\n               }); // getting a Concat String of all \n</code></pre>\n\n<p>To Collect in the List:</p>\n\n<pre><code>String[] namesArray = {\"Sam\",\"Pamela\", \"Dave\", \"Pascal\", \"Erik\"};\n List&lt;String&gt; namesList\n                =  IntStream.range(0,namesArray.length)\n                .mapToObj(i -&gt; namesArray[i]) // Converting each array element into Object\n                .map(String::valueOf) // Converting object to String again\n                .collect(Collectors.toList()); // collecting elements in List\n        System.out.println(listWithIndex);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":684610,"reputation":1771,"user_id":540725,"display_name":"N4ppeL"},"score":0,"creation_date":1672922390,"post_id":58571845,"comment_id":132384626,"body_markdown":"it should be noted, that, if you use this workaround, you should know what you are doing and avoid using `idx` anywhere else to avoid unexpected behaviour.","body":"it should be noted, that, if you use this workaround, you should know what you are doing and avoid using <code>idx</code> anywhere else to avoid unexpected behaviour."},{"owner":{"account_id":15524669,"reputation":2739,"user_id":11199879,"display_name":"Kaplan"},"score":0,"creation_date":1672954108,"post_id":58571845,"comment_id":132395668,"body_markdown":"@N4ppeL Increasing of `idx` is fairly straight forward and there is no need to access `idx` in any additional way. The goal was a less clunky solution.","body":"@N4ppeL Increasing of <code>idx</code> is fairly straight forward and there is no need to access <code>idx</code> in any additional way. The goal was a less clunky solution."},{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":1,"creation_date":1680902315,"post_id":58571845,"comment_id":133978970,"body_markdown":"Why not use `AtomicInteger` over an array?","body":"Why not use <code>AtomicInteger</code> over an array?"},{"owner":{"account_id":15524669,"reputation":2739,"user_id":11199879,"display_name":"Kaplan"},"score":0,"creation_date":1681046248,"post_id":58571845,"comment_id":133992847,"body_markdown":"@OneCricketeer I wanted to show the solution that most closely resembles LINQ. Improvements, such as the wrapping in a class or the use of an attomic integer - also a good idea - would have obscured this. *I assume that the OP is able to make these improvements himself.*","body":"@OneCricketeer I wanted to show the solution that most closely resembles LINQ. Improvements, such as the wrapping in a class or the use of an attomic integer - also a good idea - would have obscured this. <i>I assume that the OP is able to make these improvements himself.</i>"}],"tags":[],"owner":{"account_id":15524669,"reputation":2739,"user_id":11199879,"display_name":"Kaplan"},"comment_count":4,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1622648330,"creation_date":1572101288,"answer_id":58571845,"question_id":18552005,"body_markdown":"_you don&#39;t need a_ `map` _necessarily_&lt;br /&gt;\r\nthat is the closest lambda to the LINQ example:\r\n\r\n    int[] idx = new int[] { 0 };\r\n    Stream.of(names)\r\n        .filter(name -&gt; name.length() &lt;= idx[0]++)\r\n        .collect(Collectors.toList());\r\n","title":"Is there a concise way to iterate over a stream with indices in Java 8?","body":"<p><em>you don't need a</em> <code>map</code> <em>necessarily</em><br />\nthat is the closest lambda to the LINQ example:</p>\n<pre><code>int[] idx = new int[] { 0 };\nStream.of(names)\n    .filter(name -&gt; name.length() &lt;= idx[0]++)\n    .collect(Collectors.toList());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":482540,"reputation":35,"user_id":896998,"accept_rate":20,"display_name":"mario"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1587584251,"creation_date":1587584251,"answer_id":61373694,"question_id":18552005,"body_markdown":"As jean-baptiste-yun&#232;s said, if your stream is based on a java List then using an AtomicInteger and its incrementAndGet method is a very good solution to the problem and the returned integer does correspond to the index in the original List as long as you do not use a parallel stream.","title":"Is there a concise way to iterate over a stream with indices in Java 8?","body":"<p>As jean-baptiste-yunès said, if your stream is based on a java List then using an AtomicInteger and its incrementAndGet method is a very good solution to the problem and the returned integer does correspond to the index in the original List as long as you do not use a parallel stream.</p>\n"},{"tags":[],"owner":{"account_id":11176081,"reputation":517,"user_id":8201635,"display_name":"B. Stackhouse"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1589231622,"creation_date":1589231622,"answer_id":61739439,"question_id":18552005,"body_markdown":"If you need the index in the forEach then this provides a way.\r\n\r\n      public class IndexedValue {\r\n\r\n        private final int    index;\r\n        private final Object value;\r\n\r\n        public IndexedValue(final int index, final Object value) { \r\n            this.index = index;\r\n            this.value = value;\r\n        }\r\n\r\n        public int getIndex() {\r\n            return index;\r\n        }\r\n\r\n        public Object getValue() {\r\n            return value;\r\n        }\r\n    }\r\n\r\nThen use it as follows. \r\n\r\n    @Test\r\n    public void withIndex() {\r\n        final List&lt;String&gt; list = Arrays.asList(&quot;a&quot;, &quot;b&quot;);\r\n        IntStream.range(0, list.size())\r\n                 .mapToObj(index -&gt; new IndexedValue(index, list.get(index)))\r\n                 .forEach(indexValue -&gt; {\r\n                     System.out.println(String.format(&quot;%d, %s&quot;,\r\n                                                      indexValue.getIndex(),\r\n                                                      indexValue.getValue().toString()));\r\n                 });\r\n    }","title":"Is there a concise way to iterate over a stream with indices in Java 8?","body":"<p>If you need the index in the forEach then this provides a way.</p>\n\n<pre><code>  public class IndexedValue {\n\n    private final int    index;\n    private final Object value;\n\n    public IndexedValue(final int index, final Object value) { \n        this.index = index;\n        this.value = value;\n    }\n\n    public int getIndex() {\n        return index;\n    }\n\n    public Object getValue() {\n        return value;\n    }\n}\n</code></pre>\n\n<p>Then use it as follows. </p>\n\n<pre><code>@Test\npublic void withIndex() {\n    final List&lt;String&gt; list = Arrays.asList(\"a\", \"b\");\n    IntStream.range(0, list.size())\n             .mapToObj(index -&gt; new IndexedValue(index, list.get(index)))\n             .forEach(indexValue -&gt; {\n                 System.out.println(String.format(\"%d, %s\",\n                                                  indexValue.getIndex(),\n                                                  indexValue.getValue().toString()));\n             });\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":121787,"reputation":11660,"user_id":315129,"accept_rate":93,"display_name":"vbezhenar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635412498,"creation_date":1635412498,"answer_id":69751331,"question_id":18552005,"body_markdown":"Here&#39;s solution for standard Java:\r\n\r\nIn-line solution:\r\n\r\n```java\r\nArrays.stream(&quot;zero,one,two,three,four&quot;.split(&quot;,&quot;))\r\n        .map(new Function&lt;String, Map.Entry&lt;Integer, String&gt;&gt;() {\r\n            int index;\r\n\r\n            @Override\r\n            public Map.Entry&lt;Integer, String&gt; apply(String s) {\r\n                return Map.entry(index++, s);\r\n            }\r\n        })\r\n        .forEach(System.out::println);\r\n```\r\n\r\nand more readable solution with utility method:\r\n\r\n```java\r\nstatic &lt;T&gt; Function&lt;T, Map.Entry&lt;Integer, T&gt;&gt; mapWithIntIndex() {\r\n    return new Function&lt;T, Map.Entry&lt;Integer, T&gt;&gt;() {\r\n        int index;\r\n\r\n        @Override\r\n        public Map.Entry&lt;Integer, T&gt; apply(T t) {\r\n            return Map.entry(index++, t);\r\n        }\r\n    };\r\n}\r\n\r\n...\r\nArrays.stream(&quot;zero,one,two,three,four&quot;.split(&quot;,&quot;))\r\n        .map(mapWithIntIndex())\r\n        .forEach(System.out::println);\r\n```","title":"Is there a concise way to iterate over a stream with indices in Java 8?","body":"<p>Here's solution for standard Java:</p>\n<p>In-line solution:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Arrays.stream(&quot;zero,one,two,three,four&quot;.split(&quot;,&quot;))\n        .map(new Function&lt;String, Map.Entry&lt;Integer, String&gt;&gt;() {\n            int index;\n\n            @Override\n            public Map.Entry&lt;Integer, String&gt; apply(String s) {\n                return Map.entry(index++, s);\n            }\n        })\n        .forEach(System.out::println);\n</code></pre>\n<p>and more readable solution with utility method:</p>\n<pre class=\"lang-java prettyprint-override\"><code>static &lt;T&gt; Function&lt;T, Map.Entry&lt;Integer, T&gt;&gt; mapWithIntIndex() {\n    return new Function&lt;T, Map.Entry&lt;Integer, T&gt;&gt;() {\n        int index;\n\n        @Override\n        public Map.Entry&lt;Integer, T&gt; apply(T t) {\n            return Map.entry(index++, t);\n        }\n    };\n}\n\n...\nArrays.stream(&quot;zero,one,two,three,four&quot;.split(&quot;,&quot;))\n        .map(mapWithIntIndex())\n        .forEach(System.out::println);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":2,"creation_date":1680902274,"post_id":73217100,"comment_id":133978962,"body_markdown":"Not recommended. This has runtime `O(N^2)`","body":"Not recommended. This has runtime <code>O(N^2)</code>"}],"tags":[],"owner":{"account_id":2704546,"reputation":2297,"user_id":2334422,"display_name":"Ishan Liyanage"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659507776,"creation_date":1659507776,"answer_id":73217100,"question_id":18552005,"body_markdown":"If the list is unique, we can make use of indexOf method.\r\n\r\n    List&lt;String&gt; names = Arrays.asList(&quot;Sam&quot;, &quot;Pamela&quot;, &quot;Dave&quot;, &quot;Pascal&quot;, &quot;Erik&quot;);\r\n\r\n\t\tnames.forEach(name -&gt;{\r\n\t\t\tSystem.out.println((names.indexOf(name) + 1) + &quot;: &quot; + name);\r\n\t\t});","title":"Is there a concise way to iterate over a stream with indices in Java 8?","body":"<p>If the list is unique, we can make use of indexOf method.</p>\n<pre><code>List&lt;String&gt; names = Arrays.asList(&quot;Sam&quot;, &quot;Pamela&quot;, &quot;Dave&quot;, &quot;Pascal&quot;, &quot;Erik&quot;);\n\n    names.forEach(name -&gt;{\n        System.out.println((names.indexOf(name) + 1) + &quot;: &quot; + name);\n    });\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2375368,"reputation":4423,"user_id":2078908,"display_name":"ursa"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681918005,"creation_date":1681918005,"answer_id":76056292,"question_id":18552005,"body_markdown":"&gt; Is there a concise way to iterate over a stream whilst having access to the index in the stream?\r\n\r\nIf you think of **iterate over** as a terminal operation (like `forEach`), then **yes**, there is a simple way to access index:\r\n\r\n```\r\nStream&lt;String&gt; names = Stream.of(&quot;Sam&quot;,&quot;Pamela&quot;, &quot;Dave&quot;, &quot;Pascal&quot;, &quot;Erik&quot;);\r\nList&lt;String&gt; filtered = new ArrayList&lt;&gt;();\r\n\r\nnames.reduce(0L, (index, item) -&gt; {\r\n    log.info(&quot;Iteration over items [index: {}, item: {}]&quot;, index, item);\r\n    if (item.length() &lt; index) {\r\n        filtered.add(item);\r\n    }\r\n    return index + 1;\r\n}, Long::sum);\r\n```\r\n\r\nThis works for `sequential` streams only. \r\n\r\n`Parallel` streams must be first transformed into `sequential` ones:\r\n```\r\nnames.sequential().reduce(0L, (index, item) -&gt; {\r\n    log.info(&quot;Iteration over items [index: {}, item: {}]&quot;, index, item);\r\n    if (item.length() &lt; index) {\r\n        filtered.add(item);\r\n    }\r\n    return index + 1;\r\n}, Long::sum);\r\n```","title":"Is there a concise way to iterate over a stream with indices in Java 8?","body":"<blockquote>\n<p>Is there a concise way to iterate over a stream whilst having access to the index in the stream?</p>\n</blockquote>\n<p>If you think of <strong>iterate over</strong> as a terminal operation (like <code>forEach</code>), then <strong>yes</strong>, there is a simple way to access index:</p>\n<pre><code>Stream&lt;String&gt; names = Stream.of(&quot;Sam&quot;,&quot;Pamela&quot;, &quot;Dave&quot;, &quot;Pascal&quot;, &quot;Erik&quot;);\nList&lt;String&gt; filtered = new ArrayList&lt;&gt;();\n\nnames.reduce(0L, (index, item) -&gt; {\n    log.info(&quot;Iteration over items [index: {}, item: {}]&quot;, index, item);\n    if (item.length() &lt; index) {\n        filtered.add(item);\n    }\n    return index + 1;\n}, Long::sum);\n</code></pre>\n<p>This works for <code>sequential</code> streams only.</p>\n<p><code>Parallel</code> streams must be first transformed into <code>sequential</code> ones:</p>\n<pre><code>names.sequential().reduce(0L, (index, item) -&gt; {\n    log.info(&quot;Iteration over items [index: {}, item: {}]&quot;, index, item);\n    if (item.length() &lt; index) {\n        filtered.add(item);\n    }\n    return index + 1;\n}, Long::sum);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7838492,"reputation":332,"user_id":5925582,"display_name":"Marcelo Xavier"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1689345681,"creation_date":1689345681,"answer_id":76688751,"question_id":18552005,"body_markdown":"\r\n    ArrayList result = new ArrayList()\r\n    for(int i = 0; i &lt; names.length(); i++){\r\n      if(names[i].length() &lt; i+1) {\r\n        result.add(names[i])\r\n      }\r\n    }\r\n    return result;\r\n\r\n\r\nFor god sake, follow KISS principle (Keep it simple s...).\r\n\r\nThe most performant, readable and predictable way to write it. Just put inside a method and be happy without bugs and unprectictability. ","title":"Is there a concise way to iterate over a stream with indices in Java 8?","body":"<pre><code>ArrayList result = new ArrayList()\nfor(int i = 0; i &lt; names.length(); i++){\n  if(names[i].length() &lt; i+1) {\n    result.add(names[i])\n  }\n}\nreturn result;\n</code></pre>\n<p>For god sake, follow KISS principle (Keep it simple s...).</p>\n<p>The most performant, readable and predictable way to write it. Just put inside a method and be happy without bugs and unprectictability.</p>\n"}],"owner":{"account_id":116234,"reputation":8075,"user_id":304874,"accept_rate":84,"display_name":"Graeme Moss"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":433298,"favorite_count":0,"down_vote_count":0,"up_vote_count":518,"accepted_answer_id":18552071,"answer_count":26,"score":518,"last_activity_date":1689345681,"creation_date":1377977469,"question_id":18552005,"body_markdown":"Is there a concise way to iterate over a stream whilst having access to the index in the stream?\r\n\r\n    String[] names = {&quot;Sam&quot;,&quot;Pamela&quot;, &quot;Dave&quot;, &quot;Pascal&quot;, &quot;Erik&quot;};\r\n  \r\n    List&lt;String&gt; nameList;\r\n    Stream&lt;Integer&gt; indices = intRange(1, names.length).boxed();\r\n    nameList = zip(indices, stream(names), SimpleEntry::new)\r\n            .filter(e -&gt; e.getValue().length() &lt;= e.getKey())\r\n            .map(Entry::getValue)\r\n            .collect(toList());\r\n\r\nwhich seems rather disappointing compared to the LINQ example given there\r\n\r\n    string[] names = { &quot;Sam&quot;, &quot;Pamela&quot;, &quot;Dave&quot;, &quot;Pascal&quot;, &quot;Erik&quot; };\r\n    var nameList = names.Where((c, index) =&gt; c.Length &lt;= index + 1).ToList();\r\n\r\nIs there a more concise way?\r\n\r\nFurther it seems the zip has either moved or been removed...\r\n\r\n  [1]: http://blog.lahteenmaki.net/2013/04/java-streams-vs-c-linq-vs-java6.html","title":"Is there a concise way to iterate over a stream with indices in Java 8?","body":"<p>Is there a concise way to iterate over a stream whilst having access to the index in the stream?</p>\n\n<pre><code>String[] names = {\"Sam\",\"Pamela\", \"Dave\", \"Pascal\", \"Erik\"};\n\nList&lt;String&gt; nameList;\nStream&lt;Integer&gt; indices = intRange(1, names.length).boxed();\nnameList = zip(indices, stream(names), SimpleEntry::new)\n        .filter(e -&gt; e.getValue().length() &lt;= e.getKey())\n        .map(Entry::getValue)\n        .collect(toList());\n</code></pre>\n\n<p>which seems rather disappointing compared to the LINQ example given there</p>\n\n<pre><code>string[] names = { \"Sam\", \"Pamela\", \"Dave\", \"Pascal\", \"Erik\" };\nvar nameList = names.Where((c, index) =&gt; c.Length &lt;= index + 1).ToList();\n</code></pre>\n\n<p>Is there a more concise way?</p>\n\n<p>Further it seems the zip has either moved or been removed...</p>\n"},{"tags":["java","upgrade","sap-commerce-cloud","solr5","solr7"],"comments":[{"owner":{"account_id":13121735,"reputation":1877,"user_id":9478932,"display_name":"Benkerroum Mohamed"},"score":0,"creation_date":1689599960,"post_id":76664166,"comment_id":135232148,"body_markdown":"You need to use the new solrconfig.xml and schema from solr 7.7","body":"You need to use the new solrconfig.xml and schema from solr 7.7"}],"owner":{"account_id":28820548,"reputation":1,"user_id":22073150,"display_name":"So.mmelier"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689345434,"creation_date":1689094079,"question_id":76664166,"body_markdown":"I trying to upgrade solr from 5.3(hybris 5.7) to 7.7(hybris 6.7). After start full index from hybris i have NumberFormatException in solr 7.7. Difference that i see, its content-type, 5.3 - application/xml, 7.7 - application/javabin. 5.3 based on content-type uses XmlLoader, and make SolrInputField with correct value like &quot;100.00&quot;, but 7.7 uses another loader and value seems like &quot;SolrInputField:fieldname:fieldname=100.00&quot; and takes NumberFormatException when try to parse to double, because &quot;SolrInputField:fieldname:fieldname=100.00&quot; its not double value ofc.\r\nPS. I take solrconfig.xml and solr.xml form 5.3 and upgrade. \r\n\r\nUPD: solr 7.7 cant convert BigDecimal\r\n\r\nAny ideas, how to fix that?","title":"Solr 7.7 cant parse hybris 6.7 java double value","body":"<p>I trying to upgrade solr from 5.3(hybris 5.7) to 7.7(hybris 6.7). After start full index from hybris i have NumberFormatException in solr 7.7. Difference that i see, its content-type, 5.3 - application/xml, 7.7 - application/javabin. 5.3 based on content-type uses XmlLoader, and make SolrInputField with correct value like &quot;100.00&quot;, but 7.7 uses another loader and value seems like &quot;SolrInputField:fieldname:fieldname=100.00&quot; and takes NumberFormatException when try to parse to double, because &quot;SolrInputField:fieldname:fieldname=100.00&quot; its not double value ofc.\nPS. I take solrconfig.xml and solr.xml form 5.3 and upgrade.</p>\n<p>UPD: solr 7.7 cant convert BigDecimal</p>\n<p>Any ideas, how to fix that?</p>\n"},{"tags":["java","quarkus","open-telemetry","quarkus-reactive"],"comments":[{"owner":{"account_id":5621681,"reputation":229,"user_id":6935180,"display_name":"Bruno Baptista"},"score":0,"creation_date":1689329614,"post_id":76681389,"comment_id":135201303,"body_markdown":"Which version of Quarkus?","body":"Which version of Quarkus?"},{"owner":{"account_id":1290069,"reputation":703,"user_id":1242336,"display_name":"Kiran K"},"score":0,"creation_date":1689345330,"post_id":76681389,"comment_id":135204725,"body_markdown":"@BrunoBaptista updated the question with the info. I am using 2.16.5Final","body":"@BrunoBaptista updated the question with the info. I am using 2.16.5Final"},{"owner":{"account_id":5621681,"reputation":229,"user_id":6935180,"display_name":"Bruno Baptista"},"score":0,"creation_date":1689588019,"post_id":76681389,"comment_id":135229553,"body_markdown":"What baggage propagation are you using? W3C?","body":"What baggage propagation are you using? W3C?"},{"owner":{"account_id":1290069,"reputation":703,"user_id":1242336,"display_name":"Kiran K"},"score":0,"creation_date":1690212987,"post_id":76681389,"comment_id":135318605,"body_markdown":"@BrunoBaptista not sure what you mean ? I am under the impression that all of that happens under the covers by quarkus. Is there a specific property you are referring to here ?","body":"@BrunoBaptista not sure what you mean ? I am under the impression that all of that happens under the covers by quarkus. Is there a specific property you are referring to here ?"},{"owner":{"account_id":5621681,"reputation":229,"user_id":6935180,"display_name":"Bruno Baptista"},"score":0,"creation_date":1690304428,"post_id":76681389,"comment_id":135333614,"body_markdown":"Just to make sure the defaults are in use. Will take a look.","body":"Just to make sure the defaults are in use. Will take a look."},{"owner":{"account_id":5621681,"reputation":229,"user_id":6935180,"display_name":"Bruno Baptista"},"score":0,"creation_date":1690392762,"post_id":76681389,"comment_id":135348588,"body_markdown":"Can you please check if this solution works for you?\nhttps://stackoverflow.com/questions/76767269/quarkus-opentelemetry-baggage/76770235#76770235","body":"Can you please check if this solution works for you? <a href=\"https://stackoverflow.com/questions/76767269/quarkus-opentelemetry-baggage/76770235#76770235\" title=\"quarkus opentelemetry baggage\">stackoverflow.com/questions/76767269/&hellip;</a>"}],"owner":{"account_id":1290069,"reputation":703,"user_id":1242336,"display_name":"Kiran K"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":205,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689345300,"creation_date":1689264363,"question_id":76681389,"body_markdown":"I am adding Baggage to an existing trace as shown below. What I find is that the baggage is not getting propagated. &#39;traceId&#39;,&#39;spanId&#39; do get propagated though.\r\nWhat could be wrong with the setup below ?\r\n\r\nQuarkus version 2.16.5Final\r\n\r\nService A : \r\n```\r\ntry (var scope =\r\n        Context.current()\r\n            .with(\r\n                Baggage.builder()\r\n                    .put(&quot;RequestId&quot;, String.valueOf(message.getRequestId()))\r\n                    .build())\r\n            .makeCurrent()) {\r\n            //......some logic here\r\n            emitter.send(KafkaRecord.of(key, message));\r\n           }\r\n\r\n```\r\n\r\nService B where I receive the Kafka Message: \r\n\r\n```\r\n@ApplicationScoped\r\npublic class MDCEnricher implements OutgoingInterceptor {\r\n  @Override\r\n  public Message&lt;?&gt; onMessage(Message&lt;?&gt; message) {\r\n    Baggage.current()\r\n        .forEach(\r\n            (s, baggageEntry) -&gt; {\r\n              MDC.put(s, baggageEntry.getValue());\r\n            });\r\n\r\n    return message;\r\n  }\r\n\r\n}\r\n```\r\n\r\nService B is also calling Service C using REST.\r\n\r\nService C\r\n```\r\n@Slf4j\r\npublic class MDCFilter {\r\n  @ServerRequestFilter\r\n  public Uni&lt;RestResponse&lt;Void&gt;&gt; copyBaggageIntoMDC(UriInfo uriInfo, HttpHeaders httpHeaders, ContainerRequestContext requestContext){\r\n    SpanContext spanContext = Span.current().getSpanContext();\r\n    Baggage.current()\r\n        .forEach(\r\n            (s, baggageEntry) -&gt; {\r\n              MDC.put(s, baggageEntry.getValue());\r\n            });\r\n    return Uni.createFrom().item((RestResponse&lt;Void&gt;) null);\r\n  }\r\n}\r\n```\r\n\r\nquarkus log format in all service : \r\n\r\n    quarkus.log.console.format=%d{HH:mm:ss} %-5p [%X] [%c{2.}] (%t) %s%e%n\r\n\r\nI expect to see &#39;RequestId&#39; which I added as baggage in Service A to be logged in all applications but that isn&#39;t working. The only MDC values I see are &#39;traceId&#39; and &#39;spanId&#39;","title":"Open Telemetry Baggage not getting propagated across quarkus microservice stack","body":"<p>I am adding Baggage to an existing trace as shown below. What I find is that the baggage is not getting propagated. 'traceId','spanId' do get propagated though.\nWhat could be wrong with the setup below ?</p>\n<p>Quarkus version 2.16.5Final</p>\n<p>Service A :</p>\n<pre><code>try (var scope =\n        Context.current()\n            .with(\n                Baggage.builder()\n                    .put(&quot;RequestId&quot;, String.valueOf(message.getRequestId()))\n                    .build())\n            .makeCurrent()) {\n            //......some logic here\n            emitter.send(KafkaRecord.of(key, message));\n           }\n\n</code></pre>\n<p>Service B where I receive the Kafka Message:</p>\n<pre><code>@ApplicationScoped\npublic class MDCEnricher implements OutgoingInterceptor {\n  @Override\n  public Message&lt;?&gt; onMessage(Message&lt;?&gt; message) {\n    Baggage.current()\n        .forEach(\n            (s, baggageEntry) -&gt; {\n              MDC.put(s, baggageEntry.getValue());\n            });\n\n    return message;\n  }\n\n}\n</code></pre>\n<p>Service B is also calling Service C using REST.</p>\n<p>Service C</p>\n<pre><code>@Slf4j\npublic class MDCFilter {\n  @ServerRequestFilter\n  public Uni&lt;RestResponse&lt;Void&gt;&gt; copyBaggageIntoMDC(UriInfo uriInfo, HttpHeaders httpHeaders, ContainerRequestContext requestContext){\n    SpanContext spanContext = Span.current().getSpanContext();\n    Baggage.current()\n        .forEach(\n            (s, baggageEntry) -&gt; {\n              MDC.put(s, baggageEntry.getValue());\n            });\n    return Uni.createFrom().item((RestResponse&lt;Void&gt;) null);\n  }\n}\n</code></pre>\n<p>quarkus log format in all service :</p>\n<pre><code>quarkus.log.console.format=%d{HH:mm:ss} %-5p [%X] [%c{2.}] (%t) %s%e%n\n</code></pre>\n<p>I expect to see 'RequestId' which I added as baggage in Service A to be logged in all applications but that isn't working. The only MDC values I see are 'traceId' and 'spanId'</p>\n"},{"tags":["java","integer","non-static"],"owner":{"account_id":29017973,"reputation":1,"user_id":22228019,"display_name":"David809"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":14,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1689344687,"answer_count":0,"score":-1,"last_activity_date":1689344736,"creation_date":1689344651,"question_id":76688614,"body_markdown":"I dont know whats the problem, i was trying to make a calculator that is in hungarian, and im sorry if the code is bad, im a beginner at java. And its not even done, i was trying to test it.\r\n```\r\nimport java.util.JOptionPane;\r\n\r\npublic class JOPTIONcalculator {\r\n\t\r\n\t\tint = x;\r\n\t\tint = y;\r\n\t\tint = z;\r\n\t\r\n\t\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tString name = javax.swing.JOptionPane.showInputDialog(&quot;Mit akarsz csinalni?(szorozni stb.)&quot;);\r\n\t\tif(name.equals(&quot;szorozni&quot;)) {\r\n\t\t\tjavax.swing.JOptionPane.showInputDialog(&quot;Mi az első sz&#225;m?&quot;);\r\n\t\t\tjavax.swing.JOptionPane.showInputDialog(&quot;Mi az m&#225;sodik sz&#225;m?&quot;);\r\n\t\t\tz = Math.multiplyExact(x, y);\r\n\t\t\tjavax.swing.JOptionPane.showInputDialog(&quot;Your number is: &quot;+z);\r\n\t\t}\r\n\t\tif(name.equals(&quot;osztani&quot;)) {\r\n\t\t\tjavax.swing.JOptionPane.showInputDialog(&quot;Mi az első sz&#225;m?&quot;);\r\n\t\t}\r\n\t\tif(name.equals(&quot;&#246;sszead&#225;s&quot;)) {\r\n\t\t\tjavax.swing.JOptionPane.showInputDialog(&quot;Mi az első sz&#225;m?&quot;);\r\n\t\t}\r\n\t\tif(name.equals(&quot;kivon&#225;s&quot;)) {\r\n\t\t\tjavax.swing.JOptionPane.showInputDialog(&quot;Mi az első sz&#225;m?&quot;);\r\n\t\t}\r\n\t}\r\n\r\n}\r\n\r\n```\r\nI was trying to make int&#39;s but there was an error.\r\nHere&#39;s the error:\r\n```\r\nException in thread &quot;main&quot; java.lang.Error: Unresolved compilation problems: \r\n\tCannot make a static reference to the non-static field z\r\n\tCannot make a static reference to the non-static field x\r\n\tCannot make a static reference to the non-static field y\r\n\tCannot make a static reference to the non-static field z\r\n\r\n\tat JOPTIONcalculator.main(JOPTIONcalculator.java:15)\r\n```","title":"Cannot make a static reference to the non-static field x problem","body":"<p>I dont know whats the problem, i was trying to make a calculator that is in hungarian, and im sorry if the code is bad, im a beginner at java. And its not even done, i was trying to test it.</p>\n<pre><code>import java.util.JOptionPane;\n\npublic class JOPTIONcalculator {\n    \n        int = x;\n        int = y;\n        int = z;\n    \n    \n\n    public static void main(String[] args) {\n        String name = javax.swing.JOptionPane.showInputDialog(&quot;Mit akarsz csinalni?(szorozni stb.)&quot;);\n        if(name.equals(&quot;szorozni&quot;)) {\n            javax.swing.JOptionPane.showInputDialog(&quot;Mi az első szám?&quot;);\n            javax.swing.JOptionPane.showInputDialog(&quot;Mi az második szám?&quot;);\n            z = Math.multiplyExact(x, y);\n            javax.swing.JOptionPane.showInputDialog(&quot;Your number is: &quot;+z);\n        }\n        if(name.equals(&quot;osztani&quot;)) {\n            javax.swing.JOptionPane.showInputDialog(&quot;Mi az első szám?&quot;);\n        }\n        if(name.equals(&quot;összeadás&quot;)) {\n            javax.swing.JOptionPane.showInputDialog(&quot;Mi az első szám?&quot;);\n        }\n        if(name.equals(&quot;kivonás&quot;)) {\n            javax.swing.JOptionPane.showInputDialog(&quot;Mi az első szám?&quot;);\n        }\n    }\n\n}\n\n</code></pre>\n<p>I was trying to make int's but there was an error.\nHere's the error:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.Error: Unresolved compilation problems: \n    Cannot make a static reference to the non-static field z\n    Cannot make a static reference to the non-static field x\n    Cannot make a static reference to the non-static field y\n    Cannot make a static reference to the non-static field z\n\n    at JOPTIONcalculator.main(JOPTIONcalculator.java:15)\n</code></pre>\n"},{"tags":["java","android","react-native"],"answers":[{"tags":[],"owner":{"account_id":5902223,"reputation":700,"user_id":4645332,"display_name":"SepJaPro2.4"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1689344588,"creation_date":1689344588,"answer_id":76688599,"question_id":76688187,"body_markdown":"To convert a string of zeros in the format &quot;0000000000000000&quot; to a byte array in the format {0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00} in Java, you can use the following code:\r\n\r\n\r\n    private byte[] parseStrToHex(String str) {\r\n        byte[] result = new byte[str.length() / 2];\r\n        for (int i = 0; i &lt; result.length; i++) {\r\n            String byteString = str.substring(i * 2, (i * 2) + 2);\r\n            result[i] = (byte) Integer.parseInt(byteString, 16);\r\n        }\r\n        return result;\r\n    }","title":"React Native native module - transform string to hexadecimal","body":"<p>To convert a string of zeros in the format &quot;0000000000000000&quot; to a byte array in the format {0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00} in Java, you can use the following code:</p>\n<pre><code>private byte[] parseStrToHex(String str) {\n    byte[] result = new byte[str.length() / 2];\n    for (int i = 0; i &lt; result.length; i++) {\n        String byteString = str.substring(i * 2, (i * 2) + 2);\n        result[i] = (byte) Integer.parseInt(byteString, 16);\n    }\n    return result;\n}\n</code></pre>\n"}],"owner":{"account_id":13473518,"reputation":515,"user_id":9721251,"display_name":"Zirek"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76688599,"answer_count":1,"score":0,"last_activity_date":1689344588,"creation_date":1689341590,"question_id":76688187,"body_markdown":"I need to pass string in shape of &quot;0000000000000000&quot; from RN to Java and transform it into hex in shape of {0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00}, thing is that my knowledge of Java is ultra basic and eventho I successfully pass it to native module, I don&#39;t really know how to convert it inside java function. Can anyone help with that?\r\n\r\n     private byte[] parseStrToHex(String str) {\r\n          // found something like that but doesn&#39;t really work\r\n          return String.format(&quot;%040x&quot;, new BigInteger(1, str.getBytes(StandardCharsets.UTF_8)));\r\n        }","title":"React Native native module - transform string to hexadecimal","body":"<p>I need to pass string in shape of &quot;0000000000000000&quot; from RN to Java and transform it into hex in shape of {0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00}, thing is that my knowledge of Java is ultra basic and eventho I successfully pass it to native module, I don't really know how to convert it inside java function. Can anyone help with that?</p>\n<pre><code> private byte[] parseStrToHex(String str) {\n      // found something like that but doesn't really work\n      return String.format(&quot;%040x&quot;, new BigInteger(1, str.getBytes(StandardCharsets.UTF_8)));\n    }\n</code></pre>\n"},{"tags":["java","sftp","jsch"],"comments":[{"owner":{"account_id":2647801,"reputation":1383,"user_id":2290153,"display_name":"Matthias Wiedemann"},"score":2,"creation_date":1679084444,"post_id":75771589,"comment_id":133664040,"body_markdown":"Have you tried jsch fork from https://github.com/mwiede/jsch?","body":"Have you tried jsch fork from <a href=\"https://github.com/mwiede/jsch\" rel=\"nofollow noreferrer\">github.com/mwiede/jsch</a>?"},{"owner":{"account_id":4880671,"reputation":31,"user_id":3934553,"display_name":"Darren Mossman"},"score":0,"creation_date":1679097585,"post_id":75771589,"comment_id":133666050,"body_markdown":"@MatthiasWiedemann - Excellent suggestion, thank you!\nI tried the fork lib, and with a bit of tweaking - added &quot;ssh-rsa&quot; to server_host_key property, I was able to connect and get a directory listing. \nThe logging from this library is also much better than original.","body":"@MatthiasWiedemann - Excellent suggestion, thank you! I tried the fork lib, and with a bit of tweaking - added &quot;ssh-rsa&quot; to server_host_key property, I was able to connect and get a directory listing.  The logging from this library is also much better than original."}],"answers":[{"tags":[],"owner":{"account_id":28419743,"reputation":11,"user_id":21741969,"display_name":"Tyler Cunnion"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1682490184,"creation_date":1682490184,"answer_id":76107743,"question_id":75771589,"body_markdown":"Ran into the same problem here - the key was googling the server software: &quot;SSH-2.0-Serv-U_15.3.2.155&quot;. Doing that led me to this support page from the publisher: https://support.solarwinds.com/SuccessCenter/s/article/SFTP-connection-not-established-for-legacy-Java-clients?language=en_US\r\n\r\nBottom line is that this particular server software just became more strict on clients&#39; adherence to the RFC:\r\n\r\n&gt; The Java client doesn&#39;t follow the protocol version exchange correctly. According to RFC ft-ietf-secsh-transport: The Secure Shell (SSH) Transport Layer Protocol, “The identification MUST be terminated by a single Carriage Return (CR) and a single Line Feed (LF) character 2 (ASCII 13 and 10, respectively)” (content provided by Ylonen &amp; Lonvick, available at https://datatracker.ietf.org/, obtained on January 12, 2023).\r\n\r\n&gt; The client identification string SSH-2.0-JSCH-0.1.54 does not contain a CR symbol, which is mandatory according to the RFC.\r\n\r\nIt goes on to say that the only resolution (assuming you don&#39;t control the server itself) is to upgrade to the Matthias&#39; JSch fork (or switch to another library altogether).","title":"JSch - No progress after SSH_MSG_KEXINIT is sent","body":"<p>Ran into the same problem here - the key was googling the server software: &quot;SSH-2.0-Serv-U_15.3.2.155&quot;. Doing that led me to this support page from the publisher: <a href=\"https://support.solarwinds.com/SuccessCenter/s/article/SFTP-connection-not-established-for-legacy-Java-clients?language=en_US\" rel=\"nofollow noreferrer\">https://support.solarwinds.com/SuccessCenter/s/article/SFTP-connection-not-established-for-legacy-Java-clients?language=en_US</a></p>\n<p>Bottom line is that this particular server software just became more strict on clients' adherence to the RFC:</p>\n<blockquote>\n<p>The Java client doesn't follow the protocol version exchange correctly. According to RFC ft-ietf-secsh-transport: The Secure Shell (SSH) Transport Layer Protocol, “The identification MUST be terminated by a single Carriage Return (CR) and a single Line Feed (LF) character 2 (ASCII 13 and 10, respectively)” (content provided by Ylonen &amp; Lonvick, available at <a href=\"https://datatracker.ietf.org/\" rel=\"nofollow noreferrer\">https://datatracker.ietf.org/</a>, obtained on January 12, 2023).</p>\n</blockquote>\n<blockquote>\n<p>The client identification string SSH-2.0-JSCH-0.1.54 does not contain a CR symbol, which is mandatory according to the RFC.</p>\n</blockquote>\n<p>It goes on to say that the only resolution (assuming you don't control the server itself) is to upgrade to the Matthias' JSch fork (or switch to another library altogether).</p>\n"},{"tags":[],"owner":{"account_id":2742984,"reputation":963,"user_id":2364044,"accept_rate":56,"display_name":"Sean N."},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689344196,"creation_date":1689344196,"answer_id":76688544,"question_id":75771589,"body_markdown":"You can download the jsch 1.55 source code and apply a fix, then build a new jar file.  The bug is in Session.java.  Search for &quot;Cisco&quot; in the code and then change the code block to this:\r\n\r\n    {\r\n        // Some Cisco devices will miss to read &#39;\\n&#39; if it is sent separately.\r\n        byte[] foo = new byte[V_C.length + 2];\r\n        System.arraycopy(V_C, 0, foo, 0, V_C.length);\r\n        foo[foo.length - 2] = (byte) &#39;\\r&#39;;\r\n        foo[foo.length - 1] = (byte) &#39;\\n&#39;;\r\n        io.put(foo, 0, foo.length);\r\n    }\r\n\r\nAs @Tyler Cunnion mentioned, jsch was not correctly sending CR + LF after identifying itself.  I&#39;ve also seen an additional fix where you change the identify string from &quot;SSH-2.0-JSCH-0.1.55&quot; to &quot;SSH-2.0-JSCH_0.1.54&quot; (underscore instead of hyphen near the end).  With these corrections, the jsch library should connect.\r\n","title":"JSch - No progress after SSH_MSG_KEXINIT is sent","body":"<p>You can download the jsch 1.55 source code and apply a fix, then build a new jar file.  The bug is in Session.java.  Search for &quot;Cisco&quot; in the code and then change the code block to this:</p>\n<pre><code>{\n    // Some Cisco devices will miss to read '\\n' if it is sent separately.\n    byte[] foo = new byte[V_C.length + 2];\n    System.arraycopy(V_C, 0, foo, 0, V_C.length);\n    foo[foo.length - 2] = (byte) '\\r';\n    foo[foo.length - 1] = (byte) '\\n';\n    io.put(foo, 0, foo.length);\n}\n</code></pre>\n<p>As @Tyler Cunnion mentioned, jsch was not correctly sending CR + LF after identifying itself.  I've also seen an additional fix where you change the identify string from &quot;SSH-2.0-JSCH-0.1.55&quot; to &quot;SSH-2.0-JSCH_0.1.54&quot; (underscore instead of hyphen near the end).  With these corrections, the jsch library should connect.</p>\n"}],"owner":{"account_id":4880671,"reputation":31,"user_id":3934553,"display_name":"Darren Mossman"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":716,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1689344196,"creation_date":1679082015,"question_id":75771589,"body_markdown":"Simple Java app using JSch (0.1.55) library to connect to SFTP server.\r\nHangs at the key exchange step after SSH_MSG_KEXINIT sent. Logging below.\r\n\r\nCode fails on Windows test machine which **is** able to connect with same creds using WinSCP.\r\nSame code also fails on Linux Docker container where we originally found the problem.\r\nSame creds work fine as long as we aren&#39;t using JSch library.\r\n\r\nWe&#39;ve tried restricting to different kex settings in the config properties but none made any difference.\r\nUp until a month or so ago, we were able to connect to this server without issues, and continue to connect to others with same code.\r\n\r\nSimplified code for testing\r\n```java\r\n        JSch jsch = new JSch();\r\n        java.util.Properties config = new Properties();\r\n        config.put(&quot;StrictHostKeyChecking&quot;, &quot;no&quot;);\r\n        config.put(&quot;PreferredAuthentication&quot;, &quot;password,keyboard-interactive&quot;);\r\n\r\n        try {\r\n            Session session = jsch.getSession(user, host, 22);\r\n            session.setPassword(password);\r\n            session.setConfig(config);\r\n            session.connect(30 * 1000);\r\n            session.disconnect();\r\n        } catch (Exception e) {\r\n            myLog(e.getMessage());\r\n        }\r\n```\r\n\r\nAny ideas?\r\n```\r\nFri Mar 17 15:07:12 EDT 2023 - Connecting to ****.*******.com port 22  \r\nFri Mar 17 15:07:13 EDT 2023 - Connection established  \r\nFri Mar 17 15:07:13 EDT 2023 - Remote version string: SSH-2.0-Serv-U_15.3.2.155  \r\nFri Mar 17 15:07:13 EDT 2023 - Local version string: SSH-2.0-JSCH-0.1.54  \r\nFri Mar 17 15:07:13 EDT 2023 - CheckCiphers: aes256-ctr,aes192-ctr,aes128-ctr,aes256-cbc,aes192-cbc,aes128-cbc,3des-ctr,arcfour,arcfour128,arcfour256  \r\nFri Mar 17 15:07:13 EDT 2023 - CheckKexes: diffie-hellman-group14-sha1,ecdh-sha2-nistp256,ecdh-sha2-nistp384,ecdh-sha2-nistp521  \r\nFri Mar 17 15:07:13 EDT 2023 - CheckSignatures: ecdsa-sha2-nistp256,ecdsa-sha2-nistp384,ecdsa-sha2-nistp521  \r\nFri Mar 17 15:07:13 EDT 2023 - SSH_MSG_KEXINIT sent  \r\nFri Mar 17 15:07:43 EDT 2023 - Disconnecting from ****.********.com port 22  \r\nDisconnected from the target VM, address: &#39;localhost:64978&#39;, transport: &#39;socket&#39;\r\nConnected to the target VM, address: &#39;127.0.0.1:64967&#39;, transport: &#39;socket&#39;  \r\nFri Mar 17 15:07:55 EDT 2023 - Session.connect: java.net.SocketTimeoutException: Read timed out  \r\n```","title":"JSch - No progress after SSH_MSG_KEXINIT is sent","body":"<p>Simple Java app using JSch (0.1.55) library to connect to SFTP server.\nHangs at the key exchange step after SSH_MSG_KEXINIT sent. Logging below.</p>\n<p>Code fails on Windows test machine which <strong>is</strong> able to connect with same creds using WinSCP.\nSame code also fails on Linux Docker container where we originally found the problem.\nSame creds work fine as long as we aren't using JSch library.</p>\n<p>We've tried restricting to different kex settings in the config properties but none made any difference.\nUp until a month or so ago, we were able to connect to this server without issues, and continue to connect to others with same code.</p>\n<p>Simplified code for testing</p>\n<pre class=\"lang-java prettyprint-override\"><code>        JSch jsch = new JSch();\n        java.util.Properties config = new Properties();\n        config.put(&quot;StrictHostKeyChecking&quot;, &quot;no&quot;);\n        config.put(&quot;PreferredAuthentication&quot;, &quot;password,keyboard-interactive&quot;);\n\n        try {\n            Session session = jsch.getSession(user, host, 22);\n            session.setPassword(password);\n            session.setConfig(config);\n            session.connect(30 * 1000);\n            session.disconnect();\n        } catch (Exception e) {\n            myLog(e.getMessage());\n        }\n</code></pre>\n<p>Any ideas?</p>\n<pre><code>Fri Mar 17 15:07:12 EDT 2023 - Connecting to ****.*******.com port 22  \nFri Mar 17 15:07:13 EDT 2023 - Connection established  \nFri Mar 17 15:07:13 EDT 2023 - Remote version string: SSH-2.0-Serv-U_15.3.2.155  \nFri Mar 17 15:07:13 EDT 2023 - Local version string: SSH-2.0-JSCH-0.1.54  \nFri Mar 17 15:07:13 EDT 2023 - CheckCiphers: aes256-ctr,aes192-ctr,aes128-ctr,aes256-cbc,aes192-cbc,aes128-cbc,3des-ctr,arcfour,arcfour128,arcfour256  \nFri Mar 17 15:07:13 EDT 2023 - CheckKexes: diffie-hellman-group14-sha1,ecdh-sha2-nistp256,ecdh-sha2-nistp384,ecdh-sha2-nistp521  \nFri Mar 17 15:07:13 EDT 2023 - CheckSignatures: ecdsa-sha2-nistp256,ecdsa-sha2-nistp384,ecdsa-sha2-nistp521  \nFri Mar 17 15:07:13 EDT 2023 - SSH_MSG_KEXINIT sent  \nFri Mar 17 15:07:43 EDT 2023 - Disconnecting from ****.********.com port 22  \nDisconnected from the target VM, address: 'localhost:64978', transport: 'socket'\nConnected to the target VM, address: '127.0.0.1:64967', transport: 'socket'  \nFri Mar 17 15:07:55 EDT 2023 - Session.connect: java.net.SocketTimeoutException: Read timed out  \n</code></pre>\n"},{"tags":["java","android","symbols","drawable","resolve"],"comments":[{"owner":{"account_id":25311834,"reputation":73,"user_id":19134480,"display_name":"Patrick Renaud"},"score":0,"creation_date":1689357867,"post_id":76688482,"comment_id":135207419,"body_markdown":"Clean and rebuild your project: Sometimes, changes in resource files may not take effect immediately. Try cleaning your project and then rebuilding it to ensure that the updated drawable resources are properly compiled and included in the build","body":"Clean and rebuild your project: Sometimes, changes in resource files may not take effect immediately. Try cleaning your project and then rebuilding it to ensure that the updated drawable resources are properly compiled and included in the build"}],"owner":{"account_id":20613260,"reputation":11,"user_id":15131959,"display_name":"Italia"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689343724,"creation_date":1689343724,"question_id":76688482,"body_markdown":"At first i had to rename the .png file names because they were not acceptable. Now that i have renamed them and change the name on the code i still get an error that my drawable &#39;d6&#39; etc cannot be found. I have tried restarting my application and look for the issue but, I cannot seem to find the problem.\r\n\r\nIn case this is relevant:\r\n\r\n```\r\n xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    tools:context=&quot;.MainActivity&quot;\r\n    android:orientation=&quot;vertical&quot;\r\n    android:background=&quot;@drawable/background&quot;\r\n    android:padding=&quot;10dp&quot;\r\n    android:id=&quot;@+id/diceContainer&quot;&gt;\r\n\r\n    &lt;TextView\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:id=&quot;@+id/tvHelp&quot;\r\n        android:layout_marginLeft=&quot;10dp&quot;\r\n        android:layout_marginTop=&quot;18dp&quot;\r\n        android:layout_marginRight=&quot;10dp&quot;\r\n        android:background=&quot;@drawable/back&quot;\r\n        android:gravity=&quot;center&quot;\r\n        android:padding=&quot;5dp&quot;\r\n        android:text=&quot;Touch on the screen to start rolling.&quot;\r\n        android:textColor=&quot;#ffffff&quot;\r\n        android:textSize=&quot;18sp&quot; /&gt;\r\n\r\n    &lt;LinearLayout\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:gravity=&quot;center&quot;\r\n        android:orientation=&quot;vertical&quot; &gt;\r\n\r\n        &lt;ImageView\r\n            android:layout_width=&quot;150dp&quot;\r\n            android:layout_height=&quot;150dp&quot;\r\n            android:id=&quot;@+id/die1&quot;\r\n            android:layout_marginBottom=&quot;15dp&quot;\r\n            android:src=&quot;@drawable/d6&quot; /&gt;\r\n        &lt;ImageView\r\n            android:layout_width=&quot;150dp&quot;\r\n            android:layout_height=&quot;150dp&quot;\r\n            android:id=&quot;@+id/die2&quot;\r\n            android:layout_marginBottom=&quot;15dp&quot;\r\n            android:src=&quot;@drawable/d6&quot; /&gt;\r\n\r\n\r\n    &lt;/LinearLayout&gt;\r\n\r\n\r\n\r\n\r\n&lt;/LinearLayout&gt;\r\n```\r\n\r\n```\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n    int delayTime =20;\r\n    int rollAnimations = 40;\r\n    int[] diceImages = new int[] {R.drawable.d1,R.drawable.d2,R.drawable.d3,R.drawable.d4,R.drawable.d5,R.drawable.d6};\r\n    Random random = new Random();\r\n    TextView tvHelp;\r\n    ImageView die1;\r\n    ImageView die2;\r\n    LinearLayout diceContainer;\r\n    MediaPlayer mp;\r\n```\r\n\r\nThese are also some screenshots below :\r\n\r\n[![enter image description here](https://i.stack.imgur.com/07flC.png)](https://i.stack.imgur.com/07flC.png)\r\n\r\n[![enter image description here](https://i.stack.imgur.com/gbler.png)](https://i.stack.imgur.com/gbler.png)\r\n\r\nI tried renaming the files and restarting android studio.","title":"Android Studio cannot resolve symbols","body":"<p>At first i had to rename the .png file names because they were not acceptable. Now that i have renamed them and change the name on the code i still get an error that my drawable 'd6' etc cannot be found. I have tried restarting my application and look for the issue but, I cannot seem to find the problem.</p>\n<p>In case this is relevant:</p>\n<pre><code> xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    tools:context=&quot;.MainActivity&quot;\n    android:orientation=&quot;vertical&quot;\n    android:background=&quot;@drawable/background&quot;\n    android:padding=&quot;10dp&quot;\n    android:id=&quot;@+id/diceContainer&quot;&gt;\n\n    &lt;TextView\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:id=&quot;@+id/tvHelp&quot;\n        android:layout_marginLeft=&quot;10dp&quot;\n        android:layout_marginTop=&quot;18dp&quot;\n        android:layout_marginRight=&quot;10dp&quot;\n        android:background=&quot;@drawable/back&quot;\n        android:gravity=&quot;center&quot;\n        android:padding=&quot;5dp&quot;\n        android:text=&quot;Touch on the screen to start rolling.&quot;\n        android:textColor=&quot;#ffffff&quot;\n        android:textSize=&quot;18sp&quot; /&gt;\n\n    &lt;LinearLayout\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;\n        android:gravity=&quot;center&quot;\n        android:orientation=&quot;vertical&quot; &gt;\n\n        &lt;ImageView\n            android:layout_width=&quot;150dp&quot;\n            android:layout_height=&quot;150dp&quot;\n            android:id=&quot;@+id/die1&quot;\n            android:layout_marginBottom=&quot;15dp&quot;\n            android:src=&quot;@drawable/d6&quot; /&gt;\n        &lt;ImageView\n            android:layout_width=&quot;150dp&quot;\n            android:layout_height=&quot;150dp&quot;\n            android:id=&quot;@+id/die2&quot;\n            android:layout_marginBottom=&quot;15dp&quot;\n            android:src=&quot;@drawable/d6&quot; /&gt;\n\n\n    &lt;/LinearLayout&gt;\n\n\n\n\n&lt;/LinearLayout&gt;\n</code></pre>\n<pre><code>public class MainActivity extends AppCompatActivity {\n\n    int delayTime =20;\n    int rollAnimations = 40;\n    int[] diceImages = new int[] {R.drawable.d1,R.drawable.d2,R.drawable.d3,R.drawable.d4,R.drawable.d5,R.drawable.d6};\n    Random random = new Random();\n    TextView tvHelp;\n    ImageView die1;\n    ImageView die2;\n    LinearLayout diceContainer;\n    MediaPlayer mp;\n</code></pre>\n<p>These are also some screenshots below :</p>\n<p><a href=\"https://i.stack.imgur.com/07flC.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/07flC.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/gbler.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gbler.png\" alt=\"enter image description here\" /></a></p>\n<p>I tried renaming the files and restarting android studio.</p>\n"},{"tags":["java","maven","spring-mvc","solr"],"comments":[{"owner":{"account_id":10004293,"reputation":2540,"user_id":7399631,"display_name":"bkis"},"score":1,"creation_date":1557910476,"post_id":56145038,"comment_id":98920341,"body_markdown":"I suggest adding the `solr` tag to this question, so the Solr experts will find it. This is less about `maven` or `spring-mvc` than it is about `solr`.","body":"I suggest adding the <code>solr</code> tag to this question, so the Solr experts will find it. This is less about <code>maven</code> or <code>spring-mvc</code> than it is about <code>solr</code>."}],"answers":[{"comments":[{"owner":{"account_id":11886582,"reputation":179,"user_id":8698775,"display_name":"Sonu"},"score":0,"creation_date":1558783831,"post_id":56149080,"comment_id":99219544,"body_markdown":"I have set `mulitvalued=&quot;false&quot;` in my schema, now the search is working. But the sorting is not in alphabetical order. Somehow it returns like the following order.\n`A &amp; B Religious Shop`,\n`A Shower of Roses Religious Shop`,\n`Abundant Graces Books &amp; Gifts`,\n`Angelic Accents`,\n`Purple Armadillo Again, LLC`,\n`AGAPE Christian Books and Gifts.`\nI couldn&#39;t understand in what order the search is working here. Even the direct search from Solr is also returning in the same order","body":"I have set <code>mulitvalued=&quot;false&quot;</code> in my schema, now the search is working. But the sorting is not in alphabetical order. Somehow it returns like the following order. <code>A &amp; B Religious Shop</code>, <code>A Shower of Roses Religious Shop</code>, <code>Abundant Graces Books &amp; Gifts</code>, <code>Angelic Accents</code>, <code>Purple Armadillo Again, LLC</code>, <code>AGAPE Christian Books and Gifts.</code> I couldn&#39;t understand in what order the search is working here. Even the direct search from Solr is also returning in the same order"},{"owner":{"account_id":46578,"reputation":50301,"user_id":137650,"display_name":"MatsLindh"},"score":0,"creation_date":1558814333,"post_id":56149080,"comment_id":99226899,"body_markdown":"This is because your field is still a `text` field and not a `string` field or a field type with just the `KeywordTokenizer` attached. See the second paragraph in my answer.","body":"This is because your field is still a <code>text</code> field and not a <code>string</code> field or a field type with just the <code>KeywordTokenizer</code> attached. See the second paragraph in my answer."},{"owner":{"account_id":46578,"reputation":50301,"user_id":137650,"display_name":"MatsLindh"},"score":0,"creation_date":1558855100,"post_id":56149080,"comment_id":99232654,"body_markdown":"Also be aware that changing the type requires a reindex in most cases (such as this one).","body":"Also be aware that changing the type requires a reindex in most cases (such as this one)."},{"owner":{"account_id":11886582,"reputation":179,"user_id":8698775,"display_name":"Sonu"},"score":0,"creation_date":1559027201,"post_id":56149080,"comment_id":99279162,"body_markdown":"Thank you for the answer, Initially, I have defined the title field as a string variable in Solr schema. However, it returns an error on indexing the data. I have tried with `String` and `Strings` in the schema, in both cases, my java code returns the error log  `&quot;can not change DocValues type from SORTED_SET to SORTED for field &quot;title&quot; &quot;`, that&#39;s why I used `text_general` type. Also, only the `text_general` type variable allow the case insensitive search result.","body":"Thank you for the answer, Initially, I have defined the title field as a string variable in Solr schema. However, it returns an error on indexing the data. I have tried with <code>String</code> and <code>Strings</code> in the schema, in both cases, my java code returns the error log  <code>&quot;can not change DocValues type from SORTED_SET to SORTED for field &quot;title&quot; &quot;</code>, that&#39;s why I used <code>text_general</code> type. Also, only the <code>text_general</code> type variable allow the case insensitive search result."},{"owner":{"account_id":46578,"reputation":50301,"user_id":137650,"display_name":"MatsLindh"},"score":0,"creation_date":1559030105,"post_id":56149080,"comment_id":99280632,"body_markdown":"The error is caused by changing the type of an existing field for an index with existing data. You&#39;ll have to clear out the index first before reindexing (and changing the type). You can use different fields with different types for searching and for sorting - so for searching, use a field type with `text_general`, but for sorting, use a field type with `string` (or if you want a case insensitive sort, use a `TextField` with a `KeywordTokenizer` and an lowercasefilter attached).","body":"The error is caused by changing the type of an existing field for an index with existing data. You&#39;ll have to clear out the index first before reindexing (and changing the type). You can use different fields with different types for searching and for sorting - so for searching, use a field type with <code>text_general</code>, but for sorting, use a field type with <code>string</code> (or if you want a case insensitive sort, use a <code>TextField</code> with a <code>KeywordTokenizer</code> and an lowercasefilter attached)."}],"tags":[],"owner":{"account_id":46578,"reputation":50301,"user_id":137650,"display_name":"MatsLindh"},"comment_count":5,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1557922292,"creation_date":1557922292,"answer_id":56149080,"question_id":56145038,"body_markdown":"Unless `title` actually is multiValued - can your post have multiple titles - you should [define it as `multiValued=&quot;false&quot;` in your schema](https://lucene.apache.org/solr/guide/6_6/defining-fields.html#DefiningFields-OptionalFieldTypeOverrideProperties). However, there&#39;s a second issue - a field of the default type `text_general` isn&#39;t suited for sorting, as it&#39;ll generate multiple tokens, one for each word in the title. This is useful for searching, but will give weird and non-intuitive results when sorting.\r\n\r\nSo instead, define a `title_sort` field and [use a field type with a `KeywordTokenizer`](https://lucene.apache.org/solr/guide/6_6/tokenizers.html#Tokenizers-KeywordTokenizer) and [`LowerCaseFilter` attached](https://lucene.apache.org/solr/guide/6_6/filter-descriptions.html#FilterDescriptions-LowerCaseFilter) (if you want case insensitive sort), or if you want case sensitive sort, use the already defined `string` field type for the `title_sort` field.\r\n","title":"Sort the search result in ascending order of a multivalued field in Solr","body":"<p>Unless <code>title</code> actually is multiValued - can your post have multiple titles - you should <a href=\"https://lucene.apache.org/solr/guide/6_6/defining-fields.html#DefiningFields-OptionalFieldTypeOverrideProperties\" rel=\"nofollow noreferrer\">define it as <code>multiValued=\"false\"</code> in your schema</a>. However, there's a second issue - a field of the default type <code>text_general</code> isn't suited for sorting, as it'll generate multiple tokens, one for each word in the title. This is useful for searching, but will give weird and non-intuitive results when sorting.</p>\n\n<p>So instead, define a <code>title_sort</code> field and <a href=\"https://lucene.apache.org/solr/guide/6_6/tokenizers.html#Tokenizers-KeywordTokenizer\" rel=\"nofollow noreferrer\">use a field type with a <code>KeywordTokenizer</code></a> and <a href=\"https://lucene.apache.org/solr/guide/6_6/filter-descriptions.html#FilterDescriptions-LowerCaseFilter\" rel=\"nofollow noreferrer\"><code>LowerCaseFilter</code> attached</a> (if you want case insensitive sort), or if you want case sensitive sort, use the already defined <code>string</code> field type for the <code>title_sort</code> field.</p>\n"},{"tags":[],"owner":{"account_id":2979716,"reputation":12923,"user_id":2529954,"display_name":"EricLavault"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1689343719,"creation_date":1557925802,"answer_id":56150208,"question_id":56145038,"body_markdown":"The first thing to check is do you really need that title field to be multivalued, or do your documents really have multiple titles ? If not, you just need to fix the field definition by setting `multivalued=&quot;false&quot;`. \r\n\r\nThat said, sorting on a multivalued field doesn&#39;t make sense unless determining which one of these multiple values should be used to sort on, or how to combine them into one. \r\n\r\nLet&#39; say we need to sort a given resultset by title (alphabetically), first using a single-valued title field :\r\n\r\n    # Unsorted\r\n    &quot;docs&quot;: [\r\n      { &quot;id&quot;: &quot;1&quot;, &quot;title&quot;: &quot;One&quot; },\r\n      { &quot;id&quot;: &quot;2&quot;, &quot;title&quot;: &quot;Two&quot; },\r\n      { &quot;id&quot;: &quot;3&quot;, &quot;title&quot;: &quot;Three&quot; },\r\n    ]\r\n\r\n    # Sorted\r\n    &quot;docs&quot;: [\r\n      { &quot;id&quot;: &quot;1&quot;, &quot;title&quot;: &quot;One&quot; },\r\n      { &quot;id&quot;: &quot;3&quot;, &quot;title&quot;: &quot;Three&quot; },\r\n      { &quot;id&quot;: &quot;2&quot;, &quot;title&quot;: &quot;Two&quot; },\r\n    ]\r\n\r\n    # -&gt; ok no problem here\r\n\r\nNow applying the same logic with a multi-valued field is not possible as is, you would necessarily need to determine which title to use in each document to properly sort them : \r\n\r\n    # Unorted\r\n    &quot;docs&quot;: [\r\n      { &quot;id&quot;: &quot;1&quot;, &quot;title&quot;: [&quot;One&quot;, &quot;z-One&quot;, &quot;a-One&quot;] },\r\n      { &quot;id&quot;: &quot;2&quot;, &quot;title&quot;: [&quot;Two&quot;, &quot;z-Two&quot;, &quot;a-Two&quot;] },\r\n      { &quot;id&quot;: &quot;3&quot;, &quot;title&quot;: [&quot;Three&quot;, &quot;z-Three&quot;, &quot;a-Three&quot;] }\r\n    ]\r\n\r\nFortunately, Solr allows to sort results by the output of a function, meaning you can use any from Solr&#39;s [function queries][1] to &quot;get&quot; a single value per title field. The answer you referred to is a good example even though it may not work for you (because title would need docValues enabled - depends on field definition - and knowing that max/min functions should be used only with numeric values), just to get the idea :\r\n\r\n    # here the 2nd argument is a callback to max(), used precisely to get a single value from title\r\n    sort=field(title,max) asc\r\n\r\n\r\n\r\n  [1]: https://lucene.apache.org/solr/guide/6_6/function-queries.html\r\n","title":"Sort the search result in ascending order of a multivalued field in Solr","body":"<p>The first thing to check is do you really need that title field to be multivalued, or do your documents really have multiple titles ? If not, you just need to fix the field definition by setting <code>multivalued=&quot;false&quot;</code>.</p>\n<p>That said, sorting on a multivalued field doesn't make sense unless determining which one of these multiple values should be used to sort on, or how to combine them into one.</p>\n<p>Let' say we need to sort a given resultset by title (alphabetically), first using a single-valued title field :</p>\n<pre><code># Unsorted\n&quot;docs&quot;: [\n  { &quot;id&quot;: &quot;1&quot;, &quot;title&quot;: &quot;One&quot; },\n  { &quot;id&quot;: &quot;2&quot;, &quot;title&quot;: &quot;Two&quot; },\n  { &quot;id&quot;: &quot;3&quot;, &quot;title&quot;: &quot;Three&quot; },\n]\n\n# Sorted\n&quot;docs&quot;: [\n  { &quot;id&quot;: &quot;1&quot;, &quot;title&quot;: &quot;One&quot; },\n  { &quot;id&quot;: &quot;3&quot;, &quot;title&quot;: &quot;Three&quot; },\n  { &quot;id&quot;: &quot;2&quot;, &quot;title&quot;: &quot;Two&quot; },\n]\n\n# -&gt; ok no problem here\n</code></pre>\n<p>Now applying the same logic with a multi-valued field is not possible as is, you would necessarily need to determine which title to use in each document to properly sort them :</p>\n<pre><code># Unorted\n&quot;docs&quot;: [\n  { &quot;id&quot;: &quot;1&quot;, &quot;title&quot;: [&quot;One&quot;, &quot;z-One&quot;, &quot;a-One&quot;] },\n  { &quot;id&quot;: &quot;2&quot;, &quot;title&quot;: [&quot;Two&quot;, &quot;z-Two&quot;, &quot;a-Two&quot;] },\n  { &quot;id&quot;: &quot;3&quot;, &quot;title&quot;: [&quot;Three&quot;, &quot;z-Three&quot;, &quot;a-Three&quot;] }\n]\n</code></pre>\n<p>Fortunately, Solr allows to sort results by the output of a function, meaning you can use any from Solr's <a href=\"https://lucene.apache.org/solr/guide/6_6/function-queries.html\" rel=\"nofollow noreferrer\">function queries</a> to &quot;get&quot; a single value per title field. The answer you referred to is a good example even though it may not work for you (because title would need docValues enabled - depends on field definition - and knowing that max/min functions should be used only with numeric values), just to get the idea :</p>\n<pre><code># here the 2nd argument is a callback to max(), used precisely to get a single value from title\nsort=field(title,max) asc\n</code></pre>\n"}],"owner":{"account_id":11886582,"reputation":179,"user_id":8698775,"display_name":"Sonu"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2587,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":56149080,"answer_count":2,"score":2,"last_activity_date":1689343719,"creation_date":1557909818,"question_id":56145038,"body_markdown":"I&#39;m using Solr of `version 6.6.0`. I have a schema of title (text_general), description(text_general), id(integer). When I search for a keyword to list the results in ascending order of the title my code returns an error **can not sort on multivalued field: title.** \r\n\r\n\r\nI have tried to set the sort using the following 3 methods\r\n\r\n    SolrQuery query = new SolrQuery();\r\n    1. query.setSort(&quot;title&quot;, SolrQuery.ORDER order);\r\n    2. query.addSort(&quot;title&quot;, SolrQuery.ORDER order);\r\n    3. SortClause ab = new SolrQuery.SortClause(&quot;title&quot;, SolrQuery.ORDER.asc);\r\n       query.addSort(ab);\r\n\r\nbut all of these returns the same error\r\n\r\nI found a solution by referring to this [answer][1]\r\n\r\n\r\nIt says to use min/max functions. \r\nquery.setSort(field(&quot;pageTitle&quot;,min), ORDER.asc);\r\nthis what I&#39;m trying to set as the query, I didn&#39;t understand what are the arguments used here.\r\n\r\nThis is the maven dependency that I&#39;m using \r\n\r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;org.apache.solr&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;solr-solrj&lt;/artifactId&gt;\r\n    \t&lt;version&gt;6.5.1&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/54091121/sort-the-solr-search-result-give-error-can-not-sort-on-multivalued-field-name","title":"Sort the search result in ascending order of a multivalued field in Solr","body":"<p>I'm using Solr of <code>version 6.6.0</code>. I have a schema of title (text_general), description(text_general), id(integer). When I search for a keyword to list the results in ascending order of the title my code returns an error <strong>can not sort on multivalued field: title.</strong> </p>\n\n<p>I have tried to set the sort using the following 3 methods</p>\n\n<pre><code>SolrQuery query = new SolrQuery();\n1. query.setSort(\"title\", SolrQuery.ORDER order);\n2. query.addSort(\"title\", SolrQuery.ORDER order);\n3. SortClause ab = new SolrQuery.SortClause(\"title\", SolrQuery.ORDER.asc);\n   query.addSort(ab);\n</code></pre>\n\n<p>but all of these returns the same error</p>\n\n<p>I found a solution by referring to this <a href=\"https://stackoverflow.com/questions/54091121/sort-the-solr-search-result-give-error-can-not-sort-on-multivalued-field-name\">answer</a></p>\n\n<p>It says to use min/max functions. \nquery.setSort(field(\"pageTitle\",min), ORDER.asc);\nthis what I'm trying to set as the query, I didn't understand what are the arguments used here.</p>\n\n<p>This is the maven dependency that I'm using </p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.solr&lt;/groupId&gt;\n    &lt;artifactId&gt;solr-solrj&lt;/artifactId&gt;\n    &lt;version&gt;6.5.1&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":["java","json","spring-boot"],"comments":[{"owner":{"account_id":11653603,"reputation":2210,"user_id":8534088,"display_name":"Dmitriy Popov"},"score":4,"creation_date":1689342277,"post_id":76688214,"comment_id":135203976,"body_markdown":"Use a Jackson library to de-serialize from a String to a Java object.","body":"Use a Jackson library to de-serialize from a String to a Java object."},{"owner":{"account_id":10209378,"reputation":369,"user_id":7537048,"display_name":"Vaclav Stengl"},"score":1,"creation_date":1689342858,"post_id":76688214,"comment_id":135204108,"body_markdown":"Possible tutorial for jackson library. https://www.baeldung.com/jackson-object-mapper-tutorial","body":"Possible tutorial for jackson library. <a href=\"https://www.baeldung.com/jackson-object-mapper-tutorial\" rel=\"nofollow noreferrer\">baeldung.com/jackson-object-mapper-tutorial</a>"}],"answers":[{"tags":[],"owner":{"account_id":22394789,"reputation":1382,"user_id":16606223,"display_name":"Yahor Barkouski"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1689342078,"creation_date":1689342078,"answer_id":76688245,"question_id":76688214,"body_markdown":"If you&#39;re using Spring Boot, you have Jackson lib included by default, so you may read your object like this:\r\n```java\r\nimport com.fasterxml.jackson.databind.ObjectMapper;\r\n\r\n// ...\r\n\r\nString json = &quot;{ \\&quot;currency\\&quot;: \\&quot;BRL\\&quot;, \\&quot;buyRate\\&quot;: 4.18390000, \\&quot;midRate\\&quot;: 4.18390000, \\&quot;sellRate\\&quot;: 4.18390000, \\&quot;conversionType\\&quot;: \\&quot;D\\&quot; }&quot;;\r\n\r\nObjectMapper mapper = new ObjectMapper();\r\n\r\nRate rate = null;\r\ntry {\r\n    rate = mapper.readValue(json, Rate.class);\r\n} catch (IOException e) {\r\n    e.printStackTrace();\r\n}\r\n\r\n// ...\r\n```","title":"Create the instance in Java from a json buffer","body":"<p>If you're using Spring Boot, you have Jackson lib included by default, so you may read your object like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import com.fasterxml.jackson.databind.ObjectMapper;\n\n// ...\n\nString json = &quot;{ \\&quot;currency\\&quot;: \\&quot;BRL\\&quot;, \\&quot;buyRate\\&quot;: 4.18390000, \\&quot;midRate\\&quot;: 4.18390000, \\&quot;sellRate\\&quot;: 4.18390000, \\&quot;conversionType\\&quot;: \\&quot;D\\&quot; }&quot;;\n\nObjectMapper mapper = new ObjectMapper();\n\nRate rate = null;\ntry {\n    rate = mapper.readValue(json, Rate.class);\n} catch (IOException e) {\n    e.printStackTrace();\n}\n\n// ...\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14763186,"reputation":101,"user_id":10661933,"display_name":"PawMaw"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1689342517,"creation_date":1689342414,"answer_id":76688289,"question_id":76688214,"body_markdown":"Maybe you could try something like that:\r\n\r\n`import com.google.gson.Gson;`\r\n\r\n`Rate rate = new Gson().fromJson(json, Rate.class);`\r\n\r\nWhere `Rate` is your class, and `json` is your json string.","title":"Create the instance in Java from a json buffer","body":"<p>Maybe you could try something like that:</p>\n<p><code>import com.google.gson.Gson;</code></p>\n<p><code>Rate rate = new Gson().fromJson(json, Rate.class);</code></p>\n<p>Where <code>Rate</code> is your class, and <code>json</code> is your json string.</p>\n"},{"tags":[],"owner":{"account_id":1960454,"reputation":44539,"user_id":1762224,"accept_rate":61,"display_name":"Mr. Polywhirl"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1689343673,"creation_date":1689343673,"answer_id":76688471,"question_id":76688214,"body_markdown":"As others have suggested, use Jackson:\r\n\r\n```java\r\nimport java.io.IOException;\r\nimport java.math.BigDecimal;\r\nimport com.fasterxml.jackson.databind.ObjectMapper;\r\nimport lombok.Data;\r\nimport org.slf4j.Logger;\r\nimport org.slf4j.LoggerFactory;\r\n\r\npublic class JacksonExample {\r\n    private static final Logger log = LoggerFactory.getLogger(JacksonExample.class);\r\n    private static ObjectMapper mapper = new ObjectMapper();\r\n    private static String jsonData = &quot;{ \\&quot;currency\\&quot;: \\&quot;BRL\\&quot;, \\&quot;buyRate\\&quot;: 4.18390000, \\&quot;midRate\\&quot;: 4.18390000, \\&quot;sellRate\\&quot;: 4.18390000, \\&quot;conversionType\\&quot;: \\&quot;D\\&quot; }&quot;;\r\n\r\n    public static void main(String[] args) {\r\n        Rate rate = parseRateData(jsonData);\r\n        System.out.println(rate); // JacksonExample.Rate(currency=BRL, conversionType=D, buyRate=4.18390000, midRate=4.18390000, sellRate=4.18390000)\r\n    }\r\n\r\n    public static Rate parseRateData(String rateData) {\r\n        return parseJsonData(rateData, Rate.class);\r\n    }\r\n\r\n    public static &lt;E&gt; E parseJsonData(String jsonData, Class&lt;E&gt; clazz) {\r\n        try {\r\n            return mapper.readValue(jsonData, clazz);\r\n        } catch (IOException e) {\r\n            log.error(String.format(&quot;Could not parse: %s&quot;, jsonData), e);\r\n        }\r\n        return null;\r\n    }\r\n\r\n    @Data\r\n    public static class Rate {\r\n        private String currency, conversionType;\r\n        private BigDecimal buyRate, midRate, sellRate;\r\n    }\r\n}\r\n```\r\n\r\n```xml\r\n&lt;dependencies&gt;\r\n  &lt;!-- DTOs --&gt;\r\n  &lt;dependency&gt;\r\n    &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n    &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n    &lt;version&gt;${lombok.version}&lt;/version&gt;\r\n    &lt;scope&gt;provided&lt;/scope&gt;\r\n  &lt;/dependency&gt;\r\n  &lt;!-- Deserialization --&gt;\r\n  &lt;dependency&gt;\r\n    &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n    &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\r\n    &lt;version&gt;${jackson.version}&lt;/version&gt;\r\n  &lt;/dependency&gt;\r\n  &lt;!-- Logging --&gt;\r\n  &lt;dependency&gt;\r\n    &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n    &lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\r\n    &lt;version&gt;${log4j.version}&lt;/version&gt;\r\n  &lt;/dependency&gt;\r\n  &lt;dependency&gt;\r\n    &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n    &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\r\n    &lt;version&gt;${log4j.version}&lt;/version&gt;\r\n  &lt;/dependency&gt;\r\n  &lt;dependency&gt;\r\n    &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n    &lt;artifactId&gt;log4j-slf4j-impl&lt;/artifactId&gt;\r\n    &lt;version&gt;${log4j.version}&lt;/version&gt;\r\n  &lt;/dependency&gt;\r\n&lt;/dependencies&gt;\r\n```","title":"Create the instance in Java from a json buffer","body":"<p>As others have suggested, use Jackson:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.io.IOException;\nimport java.math.BigDecimal;\nimport com.fasterxml.jackson.databind.ObjectMapper;\nimport lombok.Data;\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\n\npublic class JacksonExample {\n    private static final Logger log = LoggerFactory.getLogger(JacksonExample.class);\n    private static ObjectMapper mapper = new ObjectMapper();\n    private static String jsonData = &quot;{ \\&quot;currency\\&quot;: \\&quot;BRL\\&quot;, \\&quot;buyRate\\&quot;: 4.18390000, \\&quot;midRate\\&quot;: 4.18390000, \\&quot;sellRate\\&quot;: 4.18390000, \\&quot;conversionType\\&quot;: \\&quot;D\\&quot; }&quot;;\n\n    public static void main(String[] args) {\n        Rate rate = parseRateData(jsonData);\n        System.out.println(rate); // JacksonExample.Rate(currency=BRL, conversionType=D, buyRate=4.18390000, midRate=4.18390000, sellRate=4.18390000)\n    }\n\n    public static Rate parseRateData(String rateData) {\n        return parseJsonData(rateData, Rate.class);\n    }\n\n    public static &lt;E&gt; E parseJsonData(String jsonData, Class&lt;E&gt; clazz) {\n        try {\n            return mapper.readValue(jsonData, clazz);\n        } catch (IOException e) {\n            log.error(String.format(&quot;Could not parse: %s&quot;, jsonData), e);\n        }\n        return null;\n    }\n\n    @Data\n    public static class Rate {\n        private String currency, conversionType;\n        private BigDecimal buyRate, midRate, sellRate;\n    }\n}\n</code></pre>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependencies&gt;\n  &lt;!-- DTOs --&gt;\n  &lt;dependency&gt;\n    &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n    &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n    &lt;version&gt;${lombok.version}&lt;/version&gt;\n    &lt;scope&gt;provided&lt;/scope&gt;\n  &lt;/dependency&gt;\n  &lt;!-- Deserialization --&gt;\n  &lt;dependency&gt;\n    &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n    &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n    &lt;version&gt;${jackson.version}&lt;/version&gt;\n  &lt;/dependency&gt;\n  &lt;!-- Logging --&gt;\n  &lt;dependency&gt;\n    &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n    &lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\n    &lt;version&gt;${log4j.version}&lt;/version&gt;\n  &lt;/dependency&gt;\n  &lt;dependency&gt;\n    &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n    &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\n    &lt;version&gt;${log4j.version}&lt;/version&gt;\n  &lt;/dependency&gt;\n  &lt;dependency&gt;\n    &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n    &lt;artifactId&gt;log4j-slf4j-impl&lt;/artifactId&gt;\n    &lt;version&gt;${log4j.version}&lt;/version&gt;\n  &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n"}],"owner":{"account_id":28141109,"reputation":9,"user_id":21504146,"display_name":"Grafana Next"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":82,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76688471,"answer_count":3,"score":0,"last_activity_date":1689343673,"creation_date":1689341814,"question_id":76688214,"body_markdown":"I have a JSON (stored in a string, file etc) and I want to read it and create the \r\njava instance. \r\n\r\nFor example for this class\r\n\r\n```\r\n@Data\r\npublic class Rate {\r\n\r\n    private String currency;\r\n    private BigDecimal buyRate;\r\n    private BigDecimal midRate;\r\n    private BigDecimal sellRate;\r\n    private String conversionType;\r\n\r\n}\r\n```\r\n\r\nI have this buffer in a String\r\n\r\n```\r\n{\r\n  &quot;currency&quot;: &quot;BRL&quot;,\r\n  &quot;buyRate&quot;: 4.18390000,\r\n  &quot;midRate&quot;: 4.18390000,\r\n  &quot;sellRate&quot;: 4.18390000,\r\n  &quot;conversionType&quot;: &quot;D&quot;\r\n}\r\n```\r\n\r\nhow can I create the object instance from the string buffer?\r\n\r\n","title":"Create the instance in Java from a json buffer","body":"<p>I have a JSON (stored in a string, file etc) and I want to read it and create the\njava instance.</p>\n<p>For example for this class</p>\n<pre><code>@Data\npublic class Rate {\n\n    private String currency;\n    private BigDecimal buyRate;\n    private BigDecimal midRate;\n    private BigDecimal sellRate;\n    private String conversionType;\n\n}\n</code></pre>\n<p>I have this buffer in a String</p>\n<pre><code>{\n  &quot;currency&quot;: &quot;BRL&quot;,\n  &quot;buyRate&quot;: 4.18390000,\n  &quot;midRate&quot;: 4.18390000,\n  &quot;sellRate&quot;: 4.18390000,\n  &quot;conversionType&quot;: &quot;D&quot;\n}\n</code></pre>\n<p>how can I create the object instance from the string buffer?</p>\n"},{"tags":["java","spring","dto","mapstruct"],"comments":[{"owner":{"account_id":18044315,"reputation":1227,"user_id":13115701,"display_name":"Paul Marcelin Bejan"},"score":0,"creation_date":1690449896,"post_id":76688417,"comment_id":135356554,"body_markdown":"BTW: by updating existing bean instances, you don&#39;t need to return the Account. You should use: https://mapstruct.org/documentation/stable/reference/html/#updating-bean-instances","body":"BTW: by updating existing bean instances, you don&#39;t need to return the Account. You should use: <a href=\"https://mapstruct.org/documentation/stable/reference/html/#updating-bean-instances\" rel=\"nofollow noreferrer\">mapstruct.org/documentation/stable/reference/html/&hellip;</a>"},{"owner":{"account_id":18044315,"reputation":1227,"user_id":13115701,"display_name":"Paul Marcelin Bejan"},"score":0,"creation_date":1690449986,"post_id":76688417,"comment_id":135356576,"body_markdown":"then you can have control over null properties on update mapping method: https://mapstruct.org/documentation/stable/reference/html/#mapping-result-for-null-properties","body":"then you can have control over null properties on update mapping method: <a href=\"https://mapstruct.org/documentation/stable/reference/html/#mapping-result-for-null-properties\" rel=\"nofollow noreferrer\">mapstruct.org/documentation/stable/reference/html/&hellip;</a>"}],"owner":{"account_id":1447743,"reputation":2678,"user_id":1379730,"accept_rate":52,"display_name":"Jason"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689343421,"creation_date":1689343333,"question_id":76688417,"body_markdown":"I have the following DTO:\r\n\r\n```java\r\npublic class AccountDto {\r\n  private Long id;\r\n  private BigDecimal balance;\r\n  private Currency currency;\r\n}\r\n```\r\n\r\nand its corresponding entity:\r\n\r\n```java\r\npublic class Account {\r\n\r\n  @Id\r\n  @Column(name = &quot;id&quot;)\r\n  @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n  private Long id;\r\n\r\n  @Column(name = &quot;balance&quot;, scale = 2)\r\n  private BigDecimal balance;\r\n\r\n  @Column(name = &quot;currency&quot;)\r\n  @Enumerated(EnumType.STRING)\r\n  private Currency currency;\r\n\r\n  @Column(name = &quot;created_at&quot;)\r\n  @DateTimeFormat(iso = DateTimeFormat.ISO.DATE)\r\n  @Builder.Default\r\n  private Date createdAt = new Date();\r\n  \r\n  .\r\n  .\r\n  .\r\n}\r\n```\r\n\r\n`Currency` is an `enum` of my own with maybe 300 currency symbols:\r\n\r\n```java\r\npublic enum Currency {\r\n  AFN,\r\n  EUR,\r\n  ALL,\r\n  DZD,\r\n  USD,\r\n  AOA,\r\n  XCD,\r\n  NUC,\r\n  .\r\n  .\r\n  .\r\n}\r\n```\r\n\r\nI also have a utility called `CurrencyLedger` which has a method called `convertAmountToTargetCurrency` for converting a certain amount of money from one currency to another. Its implementation is not important for this question; just that it exists. \r\n\r\nHere&#39;s my problem. I want to use `MapStruct` to implement `PATCH` logic for mapping fields from an `AccountDto` dto to an `Account` entity. `id` and `currency` can be straightforwardly mapped, ***but I want to avoid mapping them if they are `null`***. `balance`, on the other hand, needs a bit of since, if the `currency` is supplied by the dto, is different from the entity&#39;s and we DON&#39;T supply a new `balance`, then the entity&#39;s existing `balance` needs to be adjusted through the method I mentioned above.\r\n\r\nTo achieve all this, I followed the advice from [here](https://www.baeldung.com/mapstruct) in section 5.2 to inject my `CurrencyLedger` class into an `abstract` class:\r\n\r\n```java\r\n@Mapper(componentModel = &quot;spring&quot;)\r\n@Component\r\npublic abstract class UpdateMapper {\r\n\r\n    @Autowired\r\n    protected CurrencyLedger currencyLedger;\r\n\r\n    @Mapping(target = &quot;balance&quot;, expression = &quot;java(updateBalanceIfNecessary(entity.getCurrency(), dto.getCurrency(), &quot; +\r\n            &quot;entity.getBalance(), dto.getBalance()))&quot;)\r\n    @Mapping(target = &quot;id&quot;, source = &quot;dto.id&quot;, defaultExpression = &quot;java(entity.getId())&quot;)\r\n    @Mapping(target = &quot;currency&quot;, source = &quot;dto.currency&quot;, defaultExpression = &quot;java(entity.getCurrency())&quot;)\r\n    public abstract Account updateEntityFromDto(AccountDto dto, Account entity);\r\n    \r\n    protected BigDecimal updateBalanceIfNecessary(Currency entityCurrency, Currency dtoCurrency, BigDecimal entityBalance,\r\n                                                  BigDecimal dtoBalance){\r\n        // If the dto provides a balance, just use it and be done with it.\r\n        if(dtoBalance != null){ \r\n            return dtoBalance;\r\n        }\r\n        // Otherwise, if the dto provides a currency that is different from the entity&#39;s, perform the appropriate conversion.\r\n        if(dtoCurrency != null &amp;&amp; dtoCurrency != entityCurrency){\r\n            return currencyLedger.convertAmountToTargetCurrency(entityCurrency, dtoCurrency, entityBalance);\r\n        }\r\n        // Finally, if the dto either does not provide a currency or provides the same currency, return the entity&#39;s balance.\r\n        return entityBalance;\r\n    }\r\n}\r\n```\r\n\r\nand, as you can see, I am calling the method `updateBalanceIfNecessary()` when the `target` is the `balance` field. On the other hand, for the fields `id` and `currency`, I have a `defaultExpression` of whatever the entity gives me, following the advice of [the same Baeldung article](https://www.baeldung.com/mapstruct), section 12. Effectively, if the `dto`&#39;s corresponding `id` or `currency` are `null`, copy over the entity&#39;s field.\r\n\r\nBut this is effectively reproducing the problem for which we are using `MapStruct` in the first place. What if my classes had 100 fields? Would I add 100 `@Mapping` annotations? \r\n\r\nI also tried annotating the method `updateEntityFromDto` by using `@BeanMapping` instead of the two extra `@Mapping` annotations, hoping that it would take care of all the fields except for `balance`:\r\n\r\n```java\r\n @Mapping(target = &quot;balance&quot;, expression = &quot;java(updateBalanceIfNecessary(entity.getCurrency(), dto.getCurrency(), &quot; +\r\n            &quot;entity.getBalance(), dto.getBalance()))&quot;)\r\n    @BeanMapping(nullValuePropertyMappingStrategy = NullValuePropertyMappingStrategy.IGNORE)\r\n    public abstract Account updateEntityFromDto(AccountDto dto, Account entity);\r\n```\r\nbut in that case I get a compile-time message telling me that I haven&#39;t taken care of the `currency` and `id` fields:\r\n\r\n[![Several different source properties for fields message.][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/woWgR.png\r\n\r\nSo effectively, what I want is special logic for the `balance` field and default `null`-ignoring logic for _all_ the other fields of my class. I don&#39;t want to have to write one `@Mapping` annotation per field that I simply want copied; that&#39;s what we want to use a solution like `MapStruct` in the first place. How could this be achieved?","title":"Combining basic mapping with custom logic","body":"<p>I have the following DTO:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class AccountDto {\n  private Long id;\n  private BigDecimal balance;\n  private Currency currency;\n}\n</code></pre>\n<p>and its corresponding entity:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Account {\n\n  @Id\n  @Column(name = &quot;id&quot;)\n  @GeneratedValue(strategy = GenerationType.IDENTITY)\n  private Long id;\n\n  @Column(name = &quot;balance&quot;, scale = 2)\n  private BigDecimal balance;\n\n  @Column(name = &quot;currency&quot;)\n  @Enumerated(EnumType.STRING)\n  private Currency currency;\n\n  @Column(name = &quot;created_at&quot;)\n  @DateTimeFormat(iso = DateTimeFormat.ISO.DATE)\n  @Builder.Default\n  private Date createdAt = new Date();\n  \n  .\n  .\n  .\n}\n</code></pre>\n<p><code>Currency</code> is an <code>enum</code> of my own with maybe 300 currency symbols:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public enum Currency {\n  AFN,\n  EUR,\n  ALL,\n  DZD,\n  USD,\n  AOA,\n  XCD,\n  NUC,\n  .\n  .\n  .\n}\n</code></pre>\n<p>I also have a utility called <code>CurrencyLedger</code> which has a method called <code>convertAmountToTargetCurrency</code> for converting a certain amount of money from one currency to another. Its implementation is not important for this question; just that it exists.</p>\n<p>Here's my problem. I want to use <code>MapStruct</code> to implement <code>PATCH</code> logic for mapping fields from an <code>AccountDto</code> dto to an <code>Account</code> entity. <code>id</code> and <code>currency</code> can be straightforwardly mapped, <em><strong>but I want to avoid mapping them if they are <code>null</code></strong></em>. <code>balance</code>, on the other hand, needs a bit of since, if the <code>currency</code> is supplied by the dto, is different from the entity's and we DON'T supply a new <code>balance</code>, then the entity's existing <code>balance</code> needs to be adjusted through the method I mentioned above.</p>\n<p>To achieve all this, I followed the advice from <a href=\"https://www.baeldung.com/mapstruct\" rel=\"nofollow noreferrer\">here</a> in section 5.2 to inject my <code>CurrencyLedger</code> class into an <code>abstract</code> class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Mapper(componentModel = &quot;spring&quot;)\n@Component\npublic abstract class UpdateMapper {\n\n    @Autowired\n    protected CurrencyLedger currencyLedger;\n\n    @Mapping(target = &quot;balance&quot;, expression = &quot;java(updateBalanceIfNecessary(entity.getCurrency(), dto.getCurrency(), &quot; +\n            &quot;entity.getBalance(), dto.getBalance()))&quot;)\n    @Mapping(target = &quot;id&quot;, source = &quot;dto.id&quot;, defaultExpression = &quot;java(entity.getId())&quot;)\n    @Mapping(target = &quot;currency&quot;, source = &quot;dto.currency&quot;, defaultExpression = &quot;java(entity.getCurrency())&quot;)\n    public abstract Account updateEntityFromDto(AccountDto dto, Account entity);\n    \n    protected BigDecimal updateBalanceIfNecessary(Currency entityCurrency, Currency dtoCurrency, BigDecimal entityBalance,\n                                                  BigDecimal dtoBalance){\n        // If the dto provides a balance, just use it and be done with it.\n        if(dtoBalance != null){ \n            return dtoBalance;\n        }\n        // Otherwise, if the dto provides a currency that is different from the entity's, perform the appropriate conversion.\n        if(dtoCurrency != null &amp;&amp; dtoCurrency != entityCurrency){\n            return currencyLedger.convertAmountToTargetCurrency(entityCurrency, dtoCurrency, entityBalance);\n        }\n        // Finally, if the dto either does not provide a currency or provides the same currency, return the entity's balance.\n        return entityBalance;\n    }\n}\n</code></pre>\n<p>and, as you can see, I am calling the method <code>updateBalanceIfNecessary()</code> when the <code>target</code> is the <code>balance</code> field. On the other hand, for the fields <code>id</code> and <code>currency</code>, I have a <code>defaultExpression</code> of whatever the entity gives me, following the advice of <a href=\"https://www.baeldung.com/mapstruct\" rel=\"nofollow noreferrer\">the same Baeldung article</a>, section 12. Effectively, if the <code>dto</code>'s corresponding <code>id</code> or <code>currency</code> are <code>null</code>, copy over the entity's field.</p>\n<p>But this is effectively reproducing the problem for which we are using <code>MapStruct</code> in the first place. What if my classes had 100 fields? Would I add 100 <code>@Mapping</code> annotations?</p>\n<p>I also tried annotating the method <code>updateEntityFromDto</code> by using <code>@BeanMapping</code> instead of the two extra <code>@Mapping</code> annotations, hoping that it would take care of all the fields except for <code>balance</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code> @Mapping(target = &quot;balance&quot;, expression = &quot;java(updateBalanceIfNecessary(entity.getCurrency(), dto.getCurrency(), &quot; +\n            &quot;entity.getBalance(), dto.getBalance()))&quot;)\n    @BeanMapping(nullValuePropertyMappingStrategy = NullValuePropertyMappingStrategy.IGNORE)\n    public abstract Account updateEntityFromDto(AccountDto dto, Account entity);\n</code></pre>\n<p>but in that case I get a compile-time message telling me that I haven't taken care of the <code>currency</code> and <code>id</code> fields:</p>\n<p><a href=\"https://i.stack.imgur.com/woWgR.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/woWgR.png\" alt=\"Several different source properties for fields message.\" /></a></p>\n<p>So effectively, what I want is special logic for the <code>balance</code> field and default <code>null</code>-ignoring logic for <em>all</em> the other fields of my class. I don't want to have to write one <code>@Mapping</code> annotation per field that I simply want copied; that's what we want to use a solution like <code>MapStruct</code> in the first place. How could this be achieved?</p>\n"},{"tags":["java","concurrency","java-memory-model"],"comments":[{"owner":{"account_id":1114067,"reputation":196801,"user_id":1103872,"accept_rate":82,"display_name":"Marko Topolnik"},"score":2,"creation_date":1364372207,"post_id":15654276,"comment_id":22215276,"body_markdown":"Why don&#39;t you hit the [Java Language Specification?](http://docs.oracle.com/javase/specs/jls/se7/html/jls-17.html#jls-17.4.2)","body":"Why don&#39;t you hit the <a href=\"http://docs.oracle.com/javase/specs/jls/se7/html/jls-17.html#jls-17.4.2\" rel=\"nofollow noreferrer\">Java Language Specification?</a>"},{"owner":{"account_id":2435146,"reputation":2837,"user_id":2125241,"display_name":"Andrew Bissell"},"score":1,"creation_date":1364375421,"post_id":15654276,"comment_id":22216610,"body_markdown":"I highly recommend picking up a copy of Java Concurrency in Practice by Goetz et al. Although it&#39;s starting to show its age a little it is still something of a gold standard for concurrent programming references. You may also find this GoogleTalk by Jeremy Manson (who co-authored the memory model itself) to be helpful: http://www.youtube.com/watch?v=WTVooKLLVT8","body":"I highly recommend picking up a copy of Java Concurrency in Practice by Goetz et al. Although it&#39;s starting to show its age a little it is still something of a gold standard for concurrent programming references. You may also find this GoogleTalk by Jeremy Manson (who co-authored the memory model itself) to be helpful: <a href=\"http://www.youtube.com/watch?v=WTVooKLLVT8\" rel=\"nofollow noreferrer\">youtube.com/watch?v=WTVooKLLVT8</a>"},{"owner":{"account_id":163842,"reputation":2264,"user_id":1625487,"accept_rate":78,"display_name":"Abs"},"score":0,"creation_date":1364400339,"post_id":15654276,"comment_id":22231129,"body_markdown":"@Andrew: Actually, I did see Jeremy Manson&#39;s video and that&#39;s why I was curious to learn more about the memory model. Looking at the example in his blog [here](http://jeremymanson.blogspot.com/2007/05/roach-motels-and-java-memory-model.html) it appears to me that his example actually violates the program order rule as he moves around the variables x and y around other monitor locks and variable accesses. Why isn&#39;t this rule being violated? If he&#39;s right, what am I missing? He also briefly talks about the roach-motel concept in his video, so I&#39;m sure he&#39;s right.","body":"@Andrew: Actually, I did see Jeremy Manson&#39;s video and that&#39;s why I was curious to learn more about the memory model. Looking at the example in his blog <a href=\"http://jeremymanson.blogspot.com/2007/05/roach-motels-and-java-memory-model.html\" rel=\"nofollow noreferrer\">here</a> it appears to me that his example actually violates the program order rule as he moves around the variables x and y around other monitor locks and variable accesses. Why isn&#39;t this rule being violated? If he&#39;s right, what am I missing? He also briefly talks about the roach-motel concept in his video, so I&#39;m sure he&#39;s right."},{"owner":{"account_id":2435146,"reputation":2837,"user_id":2125241,"display_name":"Andrew Bissell"},"score":1,"creation_date":1364408717,"post_id":15654276,"comment_id":22236530,"body_markdown":"@wagaboy  I added a little more discussion of program order to my answer. The PO rule is less strict than you are thinking; it does not mean that every action within a thread must happen serially, but rather that the *results* of all actions in that thread must be the same *as if* it had run in order. This is known as &quot;within-thread as-if-serial&quot; semantics. If we strip out the `synchronized` block from Manson&#39;s example (not relevant to single-thread program order), then since none of the operations have an effect on any of the others, they can be freely reordered.","body":"@wagaboy  I added a little more discussion of program order to my answer. The PO rule is less strict than you are thinking; it does not mean that every action within a thread must happen serially, but rather that the <i>results</i> of all actions in that thread must be the same <i>as if</i> it had run in order. This is known as &quot;within-thread as-if-serial&quot; semantics. If we strip out the <code>synchronized</code> block from Manson&#39;s example (not relevant to single-thread program order), then since none of the operations have an effect on any of the others, they can be freely reordered."}],"answers":[{"tags":[],"owner":{"account_id":142651,"reputation":6584,"user_id":350491,"accept_rate":78,"display_name":"Ankit"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1364373154,"creation_date":1364373154,"answer_id":15654537,"question_id":15654276,"body_markdown":"it simply mean though the thread may be multiplxed, but the internal order of the thread&#39;s action/operation/instruction would remain constant (relatively)\r\n\r\nthread1: T1op1, T1op2, T1op3...\r\nthread2: T2op1, T2op2, T2op3...\r\n\r\nthough the order of operation (Tn&#39;op&#39;M) among thread may vary, but operations `T1op1, T1op2, T1op3` within a thread will always be in this order, and so as the `T2op1, T2op2, T2op3`\r\n\r\nfor ex:\r\n\r\n    T2op1, T1op1, T1op2, T2op2, T2op3, T1op3","title":"Interpretation of &quot;program order rule&quot; in Java concurrency","body":"<p>it simply mean though the thread may be multiplxed, but the internal order of the thread's action/operation/instruction would remain constant (relatively)</p>\n\n<p>thread1: T1op1, T1op2, T1op3...\nthread2: T2op1, T2op2, T2op3...</p>\n\n<p>though the order of operation (Tn'op'M) among thread may vary, but operations <code>T1op1, T1op2, T1op3</code> within a thread will always be in this order, and so as the <code>T2op1, T2op2, T2op3</code></p>\n\n<p>for ex:</p>\n\n<pre><code>T2op1, T1op1, T1op2, T2op2, T2op3, T1op3\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2052678,"reputation":134073,"user_id":1831293,"accept_rate":91,"display_name":"Evgeniy Dorofeev"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1364374026,"creation_date":1364374026,"answer_id":15654772,"question_id":15654276,"body_markdown":"Java tutorial http://docs.oracle.com/javase/tutorial/essential/concurrency/memconsist.html says that happens-before relationship is simply a guarantee that memory writes by one specific statement are visible to another specific statement. Here is an illustration \r\n\r\n\tint x;\r\n\t\r\n\tsynchronized void x() {\r\n\t\tx += 1;\r\n\t}\r\n\t\r\n\tsynchronized void y() {\r\n\t\tSystem.out.println(x);\r\n\t}\r\n`synchronized` creates a happens-before relationship, if we remove it there will be no guarantee that after thread A increments x thread B will print 1, it may print 0 \r\n","title":"Interpretation of &quot;program order rule&quot; in Java concurrency","body":"<p>Java tutorial <a href=\"http://docs.oracle.com/javase/tutorial/essential/concurrency/memconsist.html\" rel=\"nofollow\">http://docs.oracle.com/javase/tutorial/essential/concurrency/memconsist.html</a> says that happens-before relationship is simply a guarantee that memory writes by one specific statement are visible to another specific statement. Here is an illustration </p>\n\n<pre><code>int x;\n\nsynchronized void x() {\n    x += 1;\n}\n\nsynchronized void y() {\n    System.out.println(x);\n}\n</code></pre>\n\n<p><code>synchronized</code> creates a happens-before relationship, if we remove it there will be no guarantee that after thread A increments x thread B will print 1, it may print 0 </p>\n"},{"comments":[{"owner":{"account_id":163842,"reputation":2264,"user_id":1625487,"accept_rate":78,"display_name":"Abs"},"score":0,"creation_date":1364445097,"post_id":15654830,"comment_id":22250382,"body_markdown":"Thanks for the explain-to-me-like-i&#39;m-5 answer. I added additional question based on your answer.","body":"Thanks for the explain-to-me-like-i&#39;m-5 answer. I added additional question based on your answer."},{"owner":{"account_id":2435146,"reputation":2837,"user_id":2125241,"display_name":"Andrew Bissell"},"score":0,"creation_date":1364454033,"post_id":15654830,"comment_id":22252917,"body_markdown":"@EnnoShioji  I highly doubt the compiler would ever reorder a call to `System.currentTime()` if the results of the call could in any way influence the outcome of calculations that occur later in the program order.","body":"@EnnoShioji  I highly doubt the compiler would ever reorder a call to <code>System.currentTime()</code> if the results of the call could in any way influence the outcome of calculations that occur later in the program order."},{"owner":{"account_id":83889,"reputation":26612,"user_id":234901,"accept_rate":97,"display_name":"Enno Shioji"},"score":0,"creation_date":1364456584,"post_id":15654830,"comment_id":22253885,"body_markdown":"@AndrewBissell: If the outcome of calculations depend on the relative time, you would be using a relative clock. Apart from whether there are implementations that actually do such reordering, it seems alright to do such a reordering if it has performance advantages.","body":"@AndrewBissell: If the outcome of calculations depend on the relative time, you would be using a relative clock. Apart from whether there are implementations that actually do such reordering, it seems alright to do such a reordering if it has performance advantages."},{"owner":{"account_id":83889,"reputation":26612,"user_id":234901,"accept_rate":97,"display_name":"Enno Shioji"},"score":2,"creation_date":1364457205,"post_id":15654830,"comment_id":22254088,"body_markdown":"@AndrewBissell: Oh and btw for currentTimeMillis, the calculation may get affected by the OS&#39; correction to the clock (i.e. tock - tick could become even negative when the OS happens to make correction in that interval). So, even without any reordering related stuff you would have that problem anyways.","body":"@AndrewBissell: Oh and btw for currentTimeMillis, the calculation may get affected by the OS&#39; correction to the clock (i.e. tock - tick could become even negative when the OS happens to make correction in that interval). So, even without any reordering related stuff you would have that problem anyways."},{"owner":{"account_id":2435146,"reputation":2837,"user_id":2125241,"display_name":"Andrew Bissell"},"score":0,"creation_date":1364457379,"post_id":15654830,"comment_id":22254139,"body_markdown":"@EnnoShioji I&#39;m well aware of all the problems with using `System.currentTimeMillis()`. But regardless of how coarse a measurement it is, it&#39;s plainly possible that a reordering of the operation could cause a different value to be assigned to it. That will *absolutely* break the program order rule if the results of the call are relevant to other program outcomes in any way.","body":"@EnnoShioji I&#39;m well aware of all the problems with using <code>System.currentTimeMillis()</code>. But regardless of how coarse a measurement it is, it&#39;s plainly possible that a reordering of the operation could cause a different value to be assigned to it. That will <i>absolutely</i> break the program order rule if the results of the call are relevant to other program outcomes in any way."},{"owner":{"account_id":2435146,"reputation":2837,"user_id":2125241,"display_name":"Andrew Bissell"},"score":0,"creation_date":1364504593,"post_id":15654830,"comment_id":22281037,"body_markdown":"@EnnoShioji  A little more thought on the matter and I&#39;m not so sure it&#39;s impossible to reorder `System.currentTimeMillis()` without having side effects on program result. As you point out, it should never be used to measure program execution anyway, so luckily we don&#39;t have to worry too much about it!","body":"@EnnoShioji  A little more thought on the matter and I&#39;m not so sure it&#39;s impossible to reorder <code>System.currentTimeMillis()</code> without having side effects on program result. As you point out, it should never be used to measure program execution anyway, so luckily we don&#39;t have to worry too much about it!"},{"owner":{"account_id":163842,"reputation":2264,"user_id":1625487,"accept_rate":78,"display_name":"Abs"},"score":0,"creation_date":1364593854,"post_id":15654830,"comment_id":22315334,"body_markdown":"@EnnoShioji Your response to my additional question does clarify a lot of things, but it still doesn&#39;t answer definitively whether currentTimeMillis() or nanoTime() may be reordered. You mentioned &quot;it is implied that the compiler would not reorder your code&quot;. Are there explicit rules that compiler writers need to be aware for for functions such as these? If so, why isn&#39;t it part of a specification like JSR?","body":"@EnnoShioji Your response to my additional question does clarify a lot of things, but it still doesn&#39;t answer definitively whether currentTimeMillis() or nanoTime() may be reordered. You mentioned &quot;it is implied that the compiler would not reorder your code&quot;. Are there explicit rules that compiler writers need to be aware for for functions such as these? If so, why isn&#39;t it part of a specification like JSR?"},{"owner":{"account_id":83889,"reputation":26612,"user_id":234901,"accept_rate":97,"display_name":"Enno Shioji"},"score":0,"creation_date":1364600056,"post_id":15654830,"comment_id":22317271,"body_markdown":"@wagaboy: I edited the second part of the answer. Hope this makes sense?","body":"@wagaboy: I edited the second part of the answer. Hope this makes sense?"},{"owner":{"account_id":2435146,"reputation":2837,"user_id":2125241,"display_name":"Andrew Bissell"},"score":0,"creation_date":1374657849,"post_id":15654830,"comment_id":26022719,"body_markdown":"@EnnoShioji  Wrt our earlier discussion here, you may find this talk by Martin Thompson at InfoQ interesting. Around 45:00 he notes that indeed System.nanoTime() is not an ordered instruction, as you were saying might be the case. A good lesson for me not to interpret rules -- even those in the JMM -- too unflexibly! http://www.infoq.com/presentations/performance-testing-java","body":"@EnnoShioji  Wrt our earlier discussion here, you may find this talk by Martin Thompson at InfoQ interesting. Around 45:00 he notes that indeed System.nanoTime() is not an ordered instruction, as you were saying might be the case. A good lesson for me not to interpret rules -- even those in the JMM -- too unflexibly! <a href=\"http://www.infoq.com/presentations/performance-testing-java\" rel=\"nofollow noreferrer\">infoq.com/presentations/performance-testing-java</a>"},{"owner":{"account_id":63929,"reputation":2250,"user_id":188986,"display_name":"Jaan"},"score":0,"creation_date":1418762482,"post_id":15654830,"comment_id":43457335,"body_markdown":"@AndrewBissell: what Thompson says at 45:37 is that RDTSC is not an ordered CPU instruction, which means that the CPU can reorder it. However, [Peter Lawrey says](http://vanillajava.blogspot.com/2011/11/low-latency-slides.html) that the effects of this are less than 10 nanoseconds. [Instead of RDTSC, nanoTime may also rely on HPET](http://stas-blogspot.blogspot.com/2012/02/what-is-behind-systemnanotime.html), I don&#39;t know how that one does. Anyway the &lt;10 ns from reordering by the CPU is quite a short time; but the question remains: do any rules prevent reordering by the JIT compiler?","body":"@AndrewBissell: what Thompson says at 45:37 is that RDTSC is not an ordered CPU instruction, which means that the CPU can reorder it. However, <a href=\"http://vanillajava.blogspot.com/2011/11/low-latency-slides.html\" rel=\"nofollow noreferrer\">Peter Lawrey says</a> that the effects of this are less than 10 nanoseconds. <a href=\"http://stas-blogspot.blogspot.com/2012/02/what-is-behind-systemnanotime.html\" rel=\"nofollow noreferrer\">Instead of RDTSC, nanoTime may also rely on HPET</a>, I don&#39;t know how that one does. Anyway the &lt;10 ns from reordering by the CPU is quite a short time; but the question remains: do any rules prevent reordering by the JIT compiler?"},{"owner":{"account_id":13982631,"reputation":381,"user_id":10098446,"display_name":"Mohendra Amatya"},"score":0,"creation_date":1620204240,"post_id":15654830,"comment_id":119128464,"body_markdown":"what does we can limit the difference from the source of the world&#39;s time (let&#39;s say the system clock) to whatever we decide (like &quot;50ms&quot;) mean @EnnoShioji","body":"what does we can limit the difference from the source of the world&#39;s time (let&#39;s say the system clock) to whatever we decide (like &quot;50ms&quot;) mean @EnnoShioji"}],"tags":[],"owner":{"account_id":83889,"reputation":26612,"user_id":234901,"accept_rate":97,"display_name":"Enno Shioji"},"comment_count":11,"down_vote_count":0,"up_vote_count":21,"is_accepted":true,"score":21,"last_activity_date":1364600267,"creation_date":1364374219,"answer_id":15654830,"question_id":15654276,"body_markdown":"It probably helps to explain why such rule exist in the first place.  \r\n\r\nJava is a procedural language. I.e. you tell Java how to do something for you. If Java executes your instructions not in the order you wrote, it would obviously not work. E.g. in the below example, if Java would do 2 -&gt; 1 -&gt; 3 then the stew would be ruined.\r\n    \r\n    1. Take lid off\r\n    2. Pour salt in\r\n    3. Cook for 3 hours\r\n    \r\nSo, why does the rule not simply say &quot;Java executes what you wrote in the order you wrote&quot;? In a nutshell, because Java is clever. Take the following example:\r\n    \r\n    1. Take eggs out of the freezer\r\n    2. Take lid off\r\n    3. Take milk out of the freezer\r\n    4. Pour egg and milk in\r\n    5. Cook for 3 hours\r\n    \r\nIf Java was like me, it&#39;ll just execute it in order. However Java is clever enough to understand that it&#39;s more efficient AND that the end result would be the same should it do 1 -&gt; 3 -&gt; 2 -&gt; 4 -&gt; 5 (you don&#39;t have to walk to the freezer again, and that doesn&#39;t change the recipe).\r\n\r\nSo what the rule &quot;Each action in a thread happens-before every action in that thread that comes later in the program order&quot; is trying to say is, &quot;In a single thread, your program will run **as if** it was executed in the exact order you wrote it. We might change the ordering behind the scene but we make sure that none of that would change the output.  \r\n\r\nSo far so good. Why does it not do the same across multiple threads? In multi-thread programming, Java isn&#39;t clever enough to do it automatically. It will for some operations (e.g. joining threads, starting threads, when a lock (monitor) is used etc.) but for other stuff you need to explicitly tell it to not do reordering that would change the program output (e.g. `volatile` marker on fields, use of locks etc.).  \r\n\r\nNote:   \r\nQuick addendum about &quot;happens-before relationship&quot;. This is a fancy way of saying no matter what reordering Java might do, stuff A will happen before stuff B. In our weird later stew example, &quot;Step 1 &amp; 3 *happens-before* step 4 &quot;Pour egg and milk in&quot; &quot;. Also for example, &quot;Step 1 &amp; 3 do not need a *happens-before* relationship because they don&#39;t depend on each other in any way&quot;\r\n\r\n\r\n**On the additional question &amp; response to the comment**  \r\n\r\nFirst, let us establish what &quot;time&quot; means in the programming world. In programming, we have the notion of &quot;absolute time&quot; (what&#39;s the time in the world now?) and the notion of &quot;relative time&quot; (how much time has passed since x?). In an ideal world, time is time but unless we have an atomic clock built in, the absolute time would have to be corrected time to time. On the other hand, for relative time we don&#39;t want corrections as we are only interested in the differences between events.\r\n\r\nIn Java, `System.currentTime()` deals with absolute time and `System.nanoTime()` deals with relative time. This is why the Javadoc of nanoTime states, &quot;This method *can only be used to measure elapsed time* and is not related to any other notion of system or wall-clock time&quot;.\r\n\r\nIn practice, both currentTimeMillis and nanoTime are native calls and thus the compiler can&#39;t practically prove if a reordering won&#39;t affect the correctness, which means it will not reorder the execution.  \r\n\r\nBut let us imagine we want to write a compiler implementation that actually looks into native code and reorders everything as long as it&#39;s legal. When we look at the JLS, all that it tells us is that &quot;You can reorder anything as long as it cannot be detected&quot;. Now as the compiler writer, we have to decide if the reordering would violate the semantics. For relative time (nanoTime), it would clearly be useless (i.e. violates the semantics) if we&#39;d reorder the execution. Now, would it violate the semantics if we&#39;d reorder for absolute time (currentTimeMillis)? As long as we can limit the difference from the source of the world&#39;s time (let&#39;s say the system clock) to whatever we decide (like &quot;50ms&quot;)*, I say no. For the below example:\r\n\r\n    long tick = System.currentTimeMillis();\r\n    result = compute();\r\n    long tock = System.currentTimeMillis();\r\n    print(result + &quot;:&quot; + tick - tock);\r\n\r\nIf the compiler can prove that `compute()` takes less than whatever maximum divergence from the system clock we can permit, then it would be legal to reorder this as follows:\r\n\r\n\r\n    long tick = System.currentTimeMillis();\r\n    long tock = System.currentTimeMillis();\r\n    result = compute();\r\n    print(result + &quot;:&quot; + tick - tock);\r\n\r\nSince doing that won&#39;t violate the spec we defined, and thus won&#39;t violate the semantics.  \r\n\r\nYou also asked why this is not included in the JLS. I think the answer would be &quot;to keep the JLS short&quot;. But I don&#39;t know much about this realm so you might want to ask a separate question for that.\r\n\r\n*: In actual implementations, this difference is platform dependent.","title":"Interpretation of &quot;program order rule&quot; in Java concurrency","body":"<p>It probably helps to explain why such rule exist in the first place.  </p>\n\n<p>Java is a procedural language. I.e. you tell Java how to do something for you. If Java executes your instructions not in the order you wrote, it would obviously not work. E.g. in the below example, if Java would do 2 -> 1 -> 3 then the stew would be ruined.</p>\n\n<pre><code>1. Take lid off\n2. Pour salt in\n3. Cook for 3 hours\n</code></pre>\n\n<p>So, why does the rule not simply say \"Java executes what you wrote in the order you wrote\"? In a nutshell, because Java is clever. Take the following example:</p>\n\n<pre><code>1. Take eggs out of the freezer\n2. Take lid off\n3. Take milk out of the freezer\n4. Pour egg and milk in\n5. Cook for 3 hours\n</code></pre>\n\n<p>If Java was like me, it'll just execute it in order. However Java is clever enough to understand that it's more efficient AND that the end result would be the same should it do 1 -> 3 -> 2 -> 4 -> 5 (you don't have to walk to the freezer again, and that doesn't change the recipe).</p>\n\n<p>So what the rule \"Each action in a thread happens-before every action in that thread that comes later in the program order\" is trying to say is, \"In a single thread, your program will run <strong>as if</strong> it was executed in the exact order you wrote it. We might change the ordering behind the scene but we make sure that none of that would change the output.  </p>\n\n<p>So far so good. Why does it not do the same across multiple threads? In multi-thread programming, Java isn't clever enough to do it automatically. It will for some operations (e.g. joining threads, starting threads, when a lock (monitor) is used etc.) but for other stuff you need to explicitly tell it to not do reordering that would change the program output (e.g. <code>volatile</code> marker on fields, use of locks etc.).  </p>\n\n<p>Note:<br>\nQuick addendum about \"happens-before relationship\". This is a fancy way of saying no matter what reordering Java might do, stuff A will happen before stuff B. In our weird later stew example, \"Step 1 &amp; 3 <em>happens-before</em> step 4 \"Pour egg and milk in\" \". Also for example, \"Step 1 &amp; 3 do not need a <em>happens-before</em> relationship because they don't depend on each other in any way\"</p>\n\n<p><strong>On the additional question &amp; response to the comment</strong>  </p>\n\n<p>First, let us establish what \"time\" means in the programming world. In programming, we have the notion of \"absolute time\" (what's the time in the world now?) and the notion of \"relative time\" (how much time has passed since x?). In an ideal world, time is time but unless we have an atomic clock built in, the absolute time would have to be corrected time to time. On the other hand, for relative time we don't want corrections as we are only interested in the differences between events.</p>\n\n<p>In Java, <code>System.currentTime()</code> deals with absolute time and <code>System.nanoTime()</code> deals with relative time. This is why the Javadoc of nanoTime states, \"This method <em>can only be used to measure elapsed time</em> and is not related to any other notion of system or wall-clock time\".</p>\n\n<p>In practice, both currentTimeMillis and nanoTime are native calls and thus the compiler can't practically prove if a reordering won't affect the correctness, which means it will not reorder the execution.  </p>\n\n<p>But let us imagine we want to write a compiler implementation that actually looks into native code and reorders everything as long as it's legal. When we look at the JLS, all that it tells us is that \"You can reorder anything as long as it cannot be detected\". Now as the compiler writer, we have to decide if the reordering would violate the semantics. For relative time (nanoTime), it would clearly be useless (i.e. violates the semantics) if we'd reorder the execution. Now, would it violate the semantics if we'd reorder for absolute time (currentTimeMillis)? As long as we can limit the difference from the source of the world's time (let's say the system clock) to whatever we decide (like \"50ms\")*, I say no. For the below example:</p>\n\n<pre><code>long tick = System.currentTimeMillis();\nresult = compute();\nlong tock = System.currentTimeMillis();\nprint(result + \":\" + tick - tock);\n</code></pre>\n\n<p>If the compiler can prove that <code>compute()</code> takes less than whatever maximum divergence from the system clock we can permit, then it would be legal to reorder this as follows:</p>\n\n<pre><code>long tick = System.currentTimeMillis();\nlong tock = System.currentTimeMillis();\nresult = compute();\nprint(result + \":\" + tick - tock);\n</code></pre>\n\n<p>Since doing that won't violate the spec we defined, and thus won't violate the semantics.  </p>\n\n<p>You also asked why this is not included in the JLS. I think the answer would be \"to keep the JLS short\". But I don't know much about this realm so you might want to ask a separate question for that.</p>\n\n<p>*: In actual implementations, this difference is platform dependent.</p>\n"},{"comments":[{"owner":{"account_id":2435146,"reputation":2837,"user_id":2125241,"display_name":"Andrew Bissell"},"score":0,"creation_date":1364457477,"post_id":15655048,"comment_id":22254162,"body_markdown":"@wagaboy Is there something more you&#39;re looking for here? Just wondering why my answer hasn&#39;t been accepted.","body":"@wagaboy Is there something more you&#39;re looking for here? Just wondering why my answer hasn&#39;t been accepted."},{"owner":{"account_id":163842,"reputation":2264,"user_id":1625487,"accept_rate":78,"display_name":"Abs"},"score":0,"creation_date":1364458947,"post_id":15655048,"comment_id":22254751,"body_markdown":"I&#39;m a long time lurker, but a new poster at SO. So I&#39;m not sure how upvotes and selections work. I do find your comments and answer very helpful, so I up-voted and selected it. I also did the same to Enno&#39;s answer as I found it useful. For some reason SO only selected that answer (maybe because that answer has more votes?). It&#39;s time for me to hit the FAQ section.","body":"I&#39;m a long time lurker, but a new poster at SO. So I&#39;m not sure how upvotes and selections work. I do find your comments and answer very helpful, so I up-voted and selected it. I also did the same to Enno&#39;s answer as I found it useful. For some reason SO only selected that answer (maybe because that answer has more votes?). It&#39;s time for me to hit the FAQ section."},{"owner":{"account_id":65386,"reputation":39895,"user_id":192444,"accept_rate":100,"display_name":"John Vint"},"score":0,"creation_date":1364488100,"post_id":15655048,"comment_id":22272265,"body_markdown":"@wagaboy SO allows only one answer to be selected by the OP.  So that accepted answer was the last one you acceppted","body":"@wagaboy SO allows only one answer to be selected by the OP.  So that accepted answer was the last one you acceppted"},{"owner":{"account_id":212956,"reputation":145,"user_id":466096,"accept_rate":75,"display_name":"I4004"},"score":0,"creation_date":1461362848,"post_id":15655048,"comment_id":61181970,"body_markdown":"I might not understand the whole picture here, but how is your statement regarding visibility of a and b in the inner thread correlates with the fact that there is an intra-thread happens-before relationship between statements, and there is a happens-before relationship between thread.start() and the very first line of the code in that new thread. Since HB relationship is transitive, doesn&#39;t it mean that the code in the new thread can observe a and b ONLY as BeforeStartObject, and not even null ?","body":"I might not understand the whole picture here, but how is your statement regarding visibility of a and b in the inner thread correlates with the fact that there is an intra-thread happens-before relationship between statements, and there is a happens-before relationship between thread.start() and the very first line of the code in that new thread. Since HB relationship is transitive, doesn&#39;t it mean that the code in the new thread can observe a and b ONLY as BeforeStartObject, and not even null ?"},{"owner":{"account_id":212956,"reputation":145,"user_id":466096,"accept_rate":75,"display_name":"I4004"},"score":0,"creation_date":1501481303,"post_id":15655048,"comment_id":77777283,"body_markdown":"@AndrewBissell, I don&#39;t think this statement is correct: &quot;The critical thing to bear in mind here is that, in the absence of synchronization, the thread started in aMethod() could theoretically observe either or both of the fields a and b in any of the states which they take on during the execution of aMethod() (including null).&quot;, see https://stackoverflow.com/questions/16248898/memory-consistency-happens-before-relationship-in-java","body":"@AndrewBissell, I don&#39;t think this statement is correct: &quot;The critical thing to bear in mind here is that, in the absence of synchronization, the thread started in aMethod() could theoretically observe either or both of the fields a and b in any of the states which they take on during the execution of aMethod() (including null).&quot;, see <a href=\"https://stackoverflow.com/questions/16248898/memory-consistency-happens-before-relationship-in-java\" title=\"memory consistency happens before relationship in java\">stackoverflow.com/questions/16248898/&hellip;</a>"}],"tags":[],"owner":{"account_id":2435146,"reputation":2837,"user_id":2125241,"display_name":"Andrew Bissell"},"comment_count":5,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1364445563,"creation_date":1364375079,"answer_id":15655048,"question_id":15654276,"body_markdown":"The program order rule guarantees that, *within individual threads*, reordering optimizations introduced by the compiler cannot produce different results from what would have happened if the program had been executed in serial fashion. It makes no guarantees about what order the thread&#39;s actions may appear to occur in to any other threads if its state is observed by those threads without synchronization.\r\n\r\nNote that this rule speaks only to the ultimate *results* of the program, and not to the order of individual executions within that program. For instance, if we have a method which makes the following changes to some local variables:\r\n\r\n    x = 1;\r\n    z = z + 1;\r\n    y = 1;\r\n\r\n\r\nThe compiler remains free to reorder these operations however it sees best fit to improve performance. One way to think of this is: if you could reorder these ops in your source code and still obtain the same results, the compiler is free to do the same. (And in fact, it can go even further and completely discard operations which are shown to have no results, such as invocations of empty methods.)\r\n\r\nWith your second bullet point the **monitor lock rule** comes into play: &quot;An unlock on a monitor *happens-before* every subsequent lock on that main monitor lock.&quot; (*Java Concurrency in Practice* p. 341) This means that a thread acquiring a given lock will have a consistent view of the actions which occurred in other threads before releasing that lock. However, note that this guarantee only applies when two different threads `release` or `acquire` the *same lock*. If Thread A does a bunch of stuff before releasing Lock X, and then Thread B acquires Lock Y, Thread B is not assured to have a consistent view of A&#39;s pre-X actions.\r\n\r\nIt is possible for reads and writes to variables to be reordered with `start` and `join`   if a.) doing so doesn&#39;t break within-thread program order, *and* b.) the variables have not had other &quot;happens-before&quot; thread synchronization semantics applied to them, say by storing them in `volatile` fields.\r\n\r\nA simple example:\r\n\r\n    class ThreadStarter {\r\n       Object a = null;\r\n       Object b = null;\r\n       Thread thread;\r\n       \r\n       ThreadStarter(Thread threadToStart) {\r\n          this.thread = threadToStart;\r\n       }\r\n\r\n       public void aMethod() {\r\n          a = new BeforeStartObject();\r\n          b = new BeforeStartObject();\r\n          thread.start();\r\n          a = new AfterStartObject();\r\n          b = new AfterStartObject();\r\n\r\n          a.doSomeStuff();\r\n          b.doSomeStuff();\r\n       }\r\n    }\r\n    \r\n\r\nSince the fields `a` and `b` and the method `aMethod()` are not synchronized in any way, and the action of starting `thread` does not change the results of the writes to the fields (or the doing of stuff with those fields), the compiler is free to reorder `thread.start()` to anywhere in the method. The only thing it could *not* do with the order of `aMethod()` would be to move the order of writing one of the `BeforeStartObject`s to a field after writing an `AfterStartObject` to that field, or to move one of the `doSomeStuff()` invocations on a field before the `AfterStartObject` is written to it. (That is, assuming that such reordering would change the results of the `doSomeStuff()` invocation in some way.)\r\n\r\nThe critical thing to bear in mind here is that, in the absence of synchronization, the thread started in `aMethod()` could theoretically observe either or both of the fields `a` and `b` in any of the states which they take on during the execution of `aMethod()` (including `null`).\r\n\r\n**Additional question answer**\r\n\r\nThe assignments to `tick` and `tock` cannot be reordered with respect to the code in `Block1` if they are to be actually used in any measurements, for example by calculating the difference between them and printing the result as output. Such reordering would clearly break Java&#39;s *within-thread as-if-serial* semantics. It changes the results from what would have been obtained by executing instructions in the specified program order. If the assignments *aren&#39;t* used for any measurements and have no side-effects of any kind on the program result, they&#39;ll likely be optimized away as no-ops by the compiler rather than being reordered.","title":"Interpretation of &quot;program order rule&quot; in Java concurrency","body":"<p>The program order rule guarantees that, <em>within individual threads</em>, reordering optimizations introduced by the compiler cannot produce different results from what would have happened if the program had been executed in serial fashion. It makes no guarantees about what order the thread's actions may appear to occur in to any other threads if its state is observed by those threads without synchronization.</p>\n\n<p>Note that this rule speaks only to the ultimate <em>results</em> of the program, and not to the order of individual executions within that program. For instance, if we have a method which makes the following changes to some local variables:</p>\n\n<pre><code>x = 1;\nz = z + 1;\ny = 1;\n</code></pre>\n\n<p>The compiler remains free to reorder these operations however it sees best fit to improve performance. One way to think of this is: if you could reorder these ops in your source code and still obtain the same results, the compiler is free to do the same. (And in fact, it can go even further and completely discard operations which are shown to have no results, such as invocations of empty methods.)</p>\n\n<p>With your second bullet point the <strong>monitor lock rule</strong> comes into play: \"An unlock on a monitor <em>happens-before</em> every subsequent lock on that main monitor lock.\" (<em>Java Concurrency in Practice</em> p. 341) This means that a thread acquiring a given lock will have a consistent view of the actions which occurred in other threads before releasing that lock. However, note that this guarantee only applies when two different threads <code>release</code> or <code>acquire</code> the <em>same lock</em>. If Thread A does a bunch of stuff before releasing Lock X, and then Thread B acquires Lock Y, Thread B is not assured to have a consistent view of A's pre-X actions.</p>\n\n<p>It is possible for reads and writes to variables to be reordered with <code>start</code> and <code>join</code>   if a.) doing so doesn't break within-thread program order, <em>and</em> b.) the variables have not had other \"happens-before\" thread synchronization semantics applied to them, say by storing them in <code>volatile</code> fields.</p>\n\n<p>A simple example:</p>\n\n<pre><code>class ThreadStarter {\n   Object a = null;\n   Object b = null;\n   Thread thread;\n\n   ThreadStarter(Thread threadToStart) {\n      this.thread = threadToStart;\n   }\n\n   public void aMethod() {\n      a = new BeforeStartObject();\n      b = new BeforeStartObject();\n      thread.start();\n      a = new AfterStartObject();\n      b = new AfterStartObject();\n\n      a.doSomeStuff();\n      b.doSomeStuff();\n   }\n}\n</code></pre>\n\n<p>Since the fields <code>a</code> and <code>b</code> and the method <code>aMethod()</code> are not synchronized in any way, and the action of starting <code>thread</code> does not change the results of the writes to the fields (or the doing of stuff with those fields), the compiler is free to reorder <code>thread.start()</code> to anywhere in the method. The only thing it could <em>not</em> do with the order of <code>aMethod()</code> would be to move the order of writing one of the <code>BeforeStartObject</code>s to a field after writing an <code>AfterStartObject</code> to that field, or to move one of the <code>doSomeStuff()</code> invocations on a field before the <code>AfterStartObject</code> is written to it. (That is, assuming that such reordering would change the results of the <code>doSomeStuff()</code> invocation in some way.)</p>\n\n<p>The critical thing to bear in mind here is that, in the absence of synchronization, the thread started in <code>aMethod()</code> could theoretically observe either or both of the fields <code>a</code> and <code>b</code> in any of the states which they take on during the execution of <code>aMethod()</code> (including <code>null</code>).</p>\n\n<p><strong>Additional question answer</strong></p>\n\n<p>The assignments to <code>tick</code> and <code>tock</code> cannot be reordered with respect to the code in <code>Block1</code> if they are to be actually used in any measurements, for example by calculating the difference between them and printing the result as output. Such reordering would clearly break Java's <em>within-thread as-if-serial</em> semantics. It changes the results from what would have been obtained by executing instructions in the specified program order. If the assignments <em>aren't</em> used for any measurements and have no side-effects of any kind on the program result, they'll likely be optimized away as no-ops by the compiler rather than being reordered.</p>\n"},{"tags":[],"owner":{"account_id":65386,"reputation":39895,"user_id":192444,"accept_rate":100,"display_name":"John Vint"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1689343113,"creation_date":1364386581,"answer_id":15658567,"question_id":15654276,"body_markdown":"Before I answer the question, \r\n\r\n&gt; reads and writes to variables\r\n\r\nShould be \r\n\r\n&gt; volatile reads and volatile writes (of the same field)\r\n\r\nProgram order doesn&#39;t guarantee this happens before relationship, rather the happens-before relationship guarantees program order\r\n\r\nTo your questions:\r\n\r\n&gt; Does this mean that reads and writes can be changed in order, but reads and writes cannot change order with actions specified in 2nd or 3rd lines?\r\n\r\nThe answer actually depends on what action happens first and what action happens second.  Take a look at the [JSR 133 Cookbook for Compiler Writers][1].  There is a *Can Reorder* grid that lists the allowed compiler reordering that can occur.\r\n\r\nFor instance a **Volatile Store** can be re-ordered above or below a **Normal Store** but a **Volatile Store** *cannot be* be reordered above or below a **Volatile Load**.  This is all assuming intrathread semantics still hold.\r\n\r\n&gt; What does &quot;program order&quot; mean?\r\n\r\nThis is from the [JLS][2]  \r\n\r\n&gt; Among all the inter-thread actions performed by each thread t, the\r\n&gt; program order of t is a total order that reflects the order in which\r\n&gt; these actions would be performed according to the intra-thread\r\n&gt; semantics of t.\r\n\r\nIn other words, if you can change the writes and loads of a variable in such a way that it will perform exactly the same way as you wrote it then it maintains program order.\r\n\r\nFor instance\r\n\r\n    public static Object getInstance() {\r\n        if (instance == null) {\r\n             instance = new Object();\r\n        }\r\n\r\n        return instance;\r\n    }\r\n\r\nCan be reordered to\r\n\r\n    public static Object getInstance() {\r\n         Object temp = instance;\r\n         if (instance == null) {\r\n             temp = instance = new Object();\r\n         }\r\n\r\n         return temp;\r\n    }\r\n\r\n  [1]: https://gee.cs.oswego.edu/dl/jmm/cookbook.html\r\n  [2]: http://docs.oracle.com/javase/specs/jls/se7/html/jls-17.html#jls-17.4.3","title":"Interpretation of &quot;program order rule&quot; in Java concurrency","body":"<p>Before I answer the question,</p>\n<blockquote>\n<p>reads and writes to variables</p>\n</blockquote>\n<p>Should be</p>\n<blockquote>\n<p>volatile reads and volatile writes (of the same field)</p>\n</blockquote>\n<p>Program order doesn't guarantee this happens before relationship, rather the happens-before relationship guarantees program order</p>\n<p>To your questions:</p>\n<blockquote>\n<p>Does this mean that reads and writes can be changed in order, but reads and writes cannot change order with actions specified in 2nd or 3rd lines?</p>\n</blockquote>\n<p>The answer actually depends on what action happens first and what action happens second.  Take a look at the <a href=\"https://gee.cs.oswego.edu/dl/jmm/cookbook.html\" rel=\"nofollow noreferrer\">JSR 133 Cookbook for Compiler Writers</a>.  There is a <em>Can Reorder</em> grid that lists the allowed compiler reordering that can occur.</p>\n<p>For instance a <strong>Volatile Store</strong> can be re-ordered above or below a <strong>Normal Store</strong> but a <strong>Volatile Store</strong> <em>cannot be</em> be reordered above or below a <strong>Volatile Load</strong>.  This is all assuming intrathread semantics still hold.</p>\n<blockquote>\n<p>What does &quot;program order&quot; mean?</p>\n</blockquote>\n<p>This is from the <a href=\"http://docs.oracle.com/javase/specs/jls/se7/html/jls-17.html#jls-17.4.3\" rel=\"nofollow noreferrer\">JLS</a></p>\n<blockquote>\n<p>Among all the inter-thread actions performed by each thread t, the\nprogram order of t is a total order that reflects the order in which\nthese actions would be performed according to the intra-thread\nsemantics of t.</p>\n</blockquote>\n<p>In other words, if you can change the writes and loads of a variable in such a way that it will perform exactly the same way as you wrote it then it maintains program order.</p>\n<p>For instance</p>\n<pre><code>public static Object getInstance() {\n    if (instance == null) {\n         instance = new Object();\n    }\n\n    return instance;\n}\n</code></pre>\n<p>Can be reordered to</p>\n<pre><code>public static Object getInstance() {\n     Object temp = instance;\n     if (instance == null) {\n         temp = instance = new Object();\n     }\n\n     return temp;\n}\n</code></pre>\n"}],"owner":{"account_id":163842,"reputation":2264,"user_id":1625487,"accept_rate":78,"display_name":"Abs"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4348,"favorite_count":0,"down_vote_count":0,"up_vote_count":15,"accepted_answer_id":15654830,"answer_count":5,"score":15,"last_activity_date":1689343113,"creation_date":1364372057,"question_id":15654276,"body_markdown":"Program order rule states &quot;Each action in a thread happens-before every action in that thread that comes later in the program order&quot;\r\n\r\n1.I read in another [thread][1] that an **action** is\r\n\r\n- reads and writes to variables\r\n- locks and unlocks of monitors\r\n- starting and joining with threads \r\n\r\nDoes this mean that reads and writes can be changed in order, but reads and writes cannot change order with actions specified in 2nd or 3rd lines?\r\n\r\n2.What does &quot;program order&quot; mean? \r\n\r\nExplanation with an examples would be really helpful.\r\n\r\n**Additional related question**\r\n\r\nSuppose I have the following code:\r\n\r\n    long tick = System.nanoTime(); //Line1: Note the time\r\n    //Block1: some code whose time I wish to measure goes here\r\n    long tock = System.nanoTime(); //Line2: Note the time\r\n\r\nFirstly, it&#39;s a single threaded application to keep things simple. Compiler notices that it needs to check the time twice and also notices a block of code that has no dependency with surrounding time-noting lines, so it sees a potential to reorganize the code, which could result in Block1 not being surrounded by the timing calls during actual execution (for instance, consider this order Line1-&gt;Line2-&gt;Block1). But, I as a programmer can see the dependency between Line1,2 and Block1. Line1 should immediately precede Block1, Block1 takes a finite amount of time to complete, and immediately succeeded by Line2.\r\n\r\nSo my question is: Am I measuring the block correctly? \r\n\r\n - If yes, what is preventing the compiler from rearranging the order.\r\n - If no, (which is think is correct after going through Enno&#39;s answer) what can I do to prevent it.\r\n\r\nP.S.: I stole this code from [another question][2] I asked in SO recently.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/11353274/what-is-the-reasoning-behind-volatile-semantics-in-java-and-c-sharp\r\n  [2]: https://stackoverflow.com/questions/15607265/measuring-time-interval-and-out-of-order-execution","title":"Interpretation of &quot;program order rule&quot; in Java concurrency","body":"<p>Program order rule states \"Each action in a thread happens-before every action in that thread that comes later in the program order\"</p>\n\n<p>1.I read in another <a href=\"https://stackoverflow.com/questions/11353274/what-is-the-reasoning-behind-volatile-semantics-in-java-and-c-sharp\">thread</a> that an <strong>action</strong> is</p>\n\n<ul>\n<li>reads and writes to variables</li>\n<li>locks and unlocks of monitors</li>\n<li>starting and joining with threads </li>\n</ul>\n\n<p>Does this mean that reads and writes can be changed in order, but reads and writes cannot change order with actions specified in 2nd or 3rd lines?</p>\n\n<p>2.What does \"program order\" mean? </p>\n\n<p>Explanation with an examples would be really helpful.</p>\n\n<p><strong>Additional related question</strong></p>\n\n<p>Suppose I have the following code:</p>\n\n<pre><code>long tick = System.nanoTime(); //Line1: Note the time\n//Block1: some code whose time I wish to measure goes here\nlong tock = System.nanoTime(); //Line2: Note the time\n</code></pre>\n\n<p>Firstly, it's a single threaded application to keep things simple. Compiler notices that it needs to check the time twice and also notices a block of code that has no dependency with surrounding time-noting lines, so it sees a potential to reorganize the code, which could result in Block1 not being surrounded by the timing calls during actual execution (for instance, consider this order Line1->Line2->Block1). But, I as a programmer can see the dependency between Line1,2 and Block1. Line1 should immediately precede Block1, Block1 takes a finite amount of time to complete, and immediately succeeded by Line2.</p>\n\n<p>So my question is: Am I measuring the block correctly? </p>\n\n<ul>\n<li>If yes, what is preventing the compiler from rearranging the order.</li>\n<li>If no, (which is think is correct after going through Enno's answer) what can I do to prevent it.</li>\n</ul>\n\n<p>P.S.: I stole this code from <a href=\"https://stackoverflow.com/questions/15607265/measuring-time-interval-and-out-of-order-execution\">another question</a> I asked in SO recently.</p>\n"},{"tags":["java","json","linux","xml","spring-boot"],"comments":[{"owner":{"account_id":14763186,"reputation":101,"user_id":10661933,"display_name":"PawMaw"},"score":0,"creation_date":1689342873,"post_id":76688250,"comment_id":135204111,"body_markdown":"Hello! Did you tried adding file path in your application.properties file? I think it happens when you write file path manually, but not in configuration file.","body":"Hello! Did you tried adding file path in your application.properties file? I think it happens when you write file path manually, but not in configuration file."},{"owner":{"account_id":5998820,"reputation":12676,"user_id":4712734,"display_name":"DuncG"},"score":0,"creation_date":1689342970,"post_id":76688250,"comment_id":135204129,"body_markdown":"Your local tests are not using the jar, so classpath resources can be accessed as a `File`. A resource loaded from a jar in classpath won&#39;t have a valid `File` equivalent. You should always test locally with the same jars that you deploy.","body":"Your local tests are not using the jar, so classpath resources can be accessed as a <code>File</code>. A resource loaded from a jar in classpath won&#39;t have a valid <code>File</code> equivalent. You should always test locally with the same jars that you deploy."}],"answers":[{"tags":[],"owner":{"account_id":3708341,"reputation":4302,"user_id":3086289,"accept_rate":100,"display_name":"Sangam Belose"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1689343094,"creation_date":1689343094,"answer_id":76688377,"question_id":76688250,"body_markdown":"The issue you are facing is likely due to the difference in file paths between your local environment and the Linux server.\r\n\r\nSince your file is inside the jar, I would suggest to read it as InputStream rather than File.\r\n\r\n    Resource resource = new ClassPathResource(&quot;appSettings.xml&quot;);\r\n    InputStream inputStream = resource.getInputStream();\r\n    XmlMapper xmlMapper = new XmlMapper();\r\n    appSettings settings = xmlMapper.readValue(inputStream, appSettings.class);\r\n    \r\n    //rest of your code.\r\n\r\n\r\nAlternatively you can refer your file using @Value annotation as below:\r\n\r\n    @Value(&quot;classpath:appSettings.xml&quot;)\r\n    Resource resourceFile;\r\n\r\n it&#39;s more convenient than previous version. \r\n\r\nPlease check [samples][1] on how you can read files from classpath.\r\n\r\n\r\n  [1]: https://www.baeldung.com/spring-classpath-file-access","title":"File is not part of FileSystem Error in reading XML file in Springboot","body":"<p>The issue you are facing is likely due to the difference in file paths between your local environment and the Linux server.</p>\n<p>Since your file is inside the jar, I would suggest to read it as InputStream rather than File.</p>\n<pre><code>Resource resource = new ClassPathResource(&quot;appSettings.xml&quot;);\nInputStream inputStream = resource.getInputStream();\nXmlMapper xmlMapper = new XmlMapper();\nappSettings settings = xmlMapper.readValue(inputStream, appSettings.class);\n\n//rest of your code.\n</code></pre>\n<p>Alternatively you can refer your file using @Value annotation as below:</p>\n<pre><code>@Value(&quot;classpath:appSettings.xml&quot;)\nResource resourceFile;\n</code></pre>\n<p>it's more convenient than previous version.</p>\n<p>Please check <a href=\"https://www.baeldung.com/spring-classpath-file-access\" rel=\"nofollow noreferrer\">samples</a> on how you can read files from classpath.</p>\n"}],"owner":{"account_id":10981964,"reputation":43,"user_id":8068792,"accept_rate":0,"display_name":"Prabhash Mishra"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":22,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1689343094,"creation_date":1689342143,"question_id":76688250,"body_markdown":"I am reading Xml file in springboot placed in src/main/resources folder. It is working fine in local but after creating JAR file and deploying on linux server I am getting &quot;File is not part of file system&quot; error. After deployment on linux server system is not able to find the file. \r\n\r\nFile Read Code:\r\n\r\n    Resource resource = new ClassPathResource(&quot;appSettings.xml&quot;);\r\n        File file = resource.getFile();\r\n        XmlMapper xmlMapper = new XmlMapper();\r\n        appSettings settings = xmlMapper.readValue(file, appSettings.class);\r\n        Map&lt;String,String&gt; cGMap = new HashMap&lt;&gt;();\r\n        for(add a : settings.getAdd()){\r\n            String val=ConvertToString(a.getValue());\r\n            cGMap.put(a.getKey(),val);\r\n        }\r\n        return cGMap;\r\n\r\nI am able to read the file and getting file content in my local. But after creating JAR and deploying on linux server system is not getting file path and saying file is not part of file system.\r\nCan anyone please suggest me what I am missing and what I need to do to make this file path available on remote server.\r\n\r\nRegards\r\nPrabahsh Mishta","title":"File is not part of FileSystem Error in reading XML file in Springboot","body":"<p>I am reading Xml file in springboot placed in src/main/resources folder. It is working fine in local but after creating JAR file and deploying on linux server I am getting &quot;File is not part of file system&quot; error. After deployment on linux server system is not able to find the file.</p>\n<p>File Read Code:</p>\n<pre><code>Resource resource = new ClassPathResource(&quot;appSettings.xml&quot;);\n    File file = resource.getFile();\n    XmlMapper xmlMapper = new XmlMapper();\n    appSettings settings = xmlMapper.readValue(file, appSettings.class);\n    Map&lt;String,String&gt; cGMap = new HashMap&lt;&gt;();\n    for(add a : settings.getAdd()){\n        String val=ConvertToString(a.getValue());\n        cGMap.put(a.getKey(),val);\n    }\n    return cGMap;\n</code></pre>\n<p>I am able to read the file and getting file content in my local. But after creating JAR and deploying on linux server system is not getting file path and saying file is not part of file system.\nCan anyone please suggest me what I am missing and what I need to do to make this file path available on remote server.</p>\n<p>Regards\nPrabahsh Mishta</p>\n"},{"tags":["java","spring","hibernate-mapping"],"owner":{"account_id":23167954,"reputation":1,"user_id":17267600,"display_name":"Сэм Қыпшақ"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689343022,"creation_date":1689161050,"question_id":76670016,"body_markdown":"I have a Spring project where for every company registered in the service (CRM system), spring creates a database.\r\n\r\nFor every new database, Spring must create tables for all entities. I made a multidatabase connection by `AbstractRoutingDatasource` but by using this, the tables in the database are not created automatically. How can I create by Hibernate for a lot of databases?\r\n\r\nI expect an example of code in Java. ","title":"how to generate table by hibernate for multiple databases in spring?","body":"<p>I have a Spring project where for every company registered in the service (CRM system), spring creates a database.</p>\n<p>For every new database, Spring must create tables for all entities. I made a multidatabase connection by <code>AbstractRoutingDatasource</code> but by using this, the tables in the database are not created automatically. How can I create by Hibernate for a lot of databases?</p>\n<p>I expect an example of code in Java.</p>\n"},{"tags":["java","for-loop","nested-for-loop"],"comments":[{"owner":{"account_id":10732579,"reputation":666,"user_id":7898202,"display_name":"MorganS42"},"score":0,"creation_date":1689387043,"post_id":76679894,"comment_id":135210587,"body_markdown":"WHEEW, have you read my answer?","body":"WHEEW, have you read my answer?"}],"answers":[{"tags":[],"owner":{"account_id":10732579,"reputation":666,"user_id":7898202,"display_name":"MorganS42"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689302771,"creation_date":1689302771,"answer_id":76684399,"question_id":76679894,"body_markdown":"The issue is you have the `System.out.println()` in the wrong place in your nested-loop. Your current solution starts a new line after iterating over all the characters, when really it should start a new line after iterating over all the x-values for a given row (in this case you&#39;ve named the variable `v`). This just means moving the `System.out.println()` out one loop, such as in the following:\r\n\r\n```java\r\nimport java.util.ArrayList;\r\npublic class Main {\r\n    public static void main(String[] args)\r\n    {\r\n        int a = 10;\r\n        \r\n        ArrayList&lt;Character&gt; characters = new ArrayList&lt;&gt;();\r\n        Character character1  = new Character(5,5);\r\n        Character character2  = new Character(7,8);\r\n        Character character3  = new Character(3,1);\r\n        characters.add(character1);\r\n        characters.add(character2);\r\n        characters.add(character3);\r\n        for (int i = 1; i&lt;=a; i++)\r\n        {\r\n            for (int v = 1; v &lt;= a; v++)\r\n            {\r\n                for (int j = 0; j &lt; characters.size(); j++)\r\n                {\r\n                    if (v == characters.get(j).getXLocation() &amp;&amp; i == characters.get(j).getYLocation())\r\n                    {\r\n                        System.out.print(&quot;O &quot;);\r\n                    }\r\n                    else System.out.print(&quot;* &quot;);\r\n                }\r\n            }\r\n            System.out.println(); // Only line changed\r\n        }\r\n    }\r\n}\r\n```","title":"Question about the problem of shooting stars using Java for statements","body":"<p>The issue is you have the <code>System.out.println()</code> in the wrong place in your nested-loop. Your current solution starts a new line after iterating over all the characters, when really it should start a new line after iterating over all the x-values for a given row (in this case you've named the variable <code>v</code>). This just means moving the <code>System.out.println()</code> out one loop, such as in the following:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.ArrayList;\npublic class Main {\n    public static void main(String[] args)\n    {\n        int a = 10;\n        \n        ArrayList&lt;Character&gt; characters = new ArrayList&lt;&gt;();\n        Character character1  = new Character(5,5);\n        Character character2  = new Character(7,8);\n        Character character3  = new Character(3,1);\n        characters.add(character1);\n        characters.add(character2);\n        characters.add(character3);\n        for (int i = 1; i&lt;=a; i++)\n        {\n            for (int v = 1; v &lt;= a; v++)\n            {\n                for (int j = 0; j &lt; characters.size(); j++)\n                {\n                    if (v == characters.get(j).getXLocation() &amp;&amp; i == characters.get(j).getYLocation())\n                    {\n                        System.out.print(&quot;O &quot;);\n                    }\n                    else System.out.print(&quot;* &quot;);\n                }\n            }\n            System.out.println(); // Only line changed\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":20466223,"reputation":21,"user_id":15017664,"display_name":"WHEEW"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":1,"score":1,"last_activity_date":1689342858,"creation_date":1689254793,"question_id":76679894,"body_markdown":"Solving the problem of taking stars in Java. The questions are as follows.\r\n1. Print out a square with a width and length of 10*10 using *.\r\n2. The columns that match the x and y coordinates in the following array list should be outputted 0 instead of *.\r\nThe complete version and array list are as follows.\r\nFor example, if an element in an array list is given,\r\n\r\n        Character character1  = new Character(5,5);\r\n        Character character2  = new Character(7,8);\r\n        Character character3  = new Character(3,1);\r\nThe output shall be as follows like this:\r\n```\r\n* * O * * * * * * * \r\n* * * * * * * * * * \r\n* * * * * * * * * * \r\n* * * * * * * * * * \r\n* * * * O * * * * * \r\n* * * * * * * * * * \r\n* * * * * * * * * * \r\n* * * * * * O * * * \r\n* * * * * * * * * * \r\n* * * * * * * * * * \r\n```\r\n\r\nThis is the code I&#39;m currently writing.\r\n\r\n```java\r\npublic class Character {\r\n     int xLocation;\r\n     int yLocation;\r\n    public Character(int x, int y){\r\n        this.xLocation = x;\r\n        this.yLocation = y;\r\n    }\r\n    public int getXLocation(){return xLocation;}\r\n    public int getYLocation(){\r\n        return yLocation;\r\n    }\r\n}\r\n\r\n```\r\n\r\n```java\r\nimport java.util.ArrayList;\r\npublic class Main {\r\n    public static void main(String[] args)\r\n    {\r\n        int a = 10;\r\n        \r\n        ArrayList&lt;Character&gt; characters = new ArrayList&lt;&gt;();\r\n        Character character1  = new Character(5,5);\r\n        Character character2  = new Character(7,8);\r\n        Character character3  = new Character(3,1);\r\n        characters.add(character1);\r\n        characters.add(character2);\r\n        characters.add(character3);\r\n        for (int i = 1; i&lt;=a; i++)\r\n        {\r\n            for (int v = 1; v &lt;= a; v++)\r\n            {\r\n                for (int j = 0; j &lt; characters.size(); j++)\r\n                {\r\n                    if (v == characters.get(j).getXLocation() &amp;&amp; i == characters.get(j).getYLocation())\r\n                    {\r\n                        System.out.print(&quot;O &quot;);\r\n                    }\r\n                    else System.out.print(&quot;* &quot;);\r\n                }\r\n                System.out.println();\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\n```\r\nHowever, the code has the following incorrect output:\r\n\r\n```\r\n* * * \r\n* * * \r\n* * O \r\n* * * \r\n* * * \r\n* * * \r\n* * * \r\n* * * \r\n* * * \r\n* * * \r\n* * * \r\n* * * \r\n* * * \r\n* * * \r\n* * * \r\n* * * \r\n* * * \r\n* * * \r\n* * * \r\n* * * \r\n* * * \r\n* * * \r\n* * * \r\n* * * \r\n* * * \r\n* * * \r\n* * * \r\n* * * \r\n* * * \r\n* * * \r\n* * * \r\n* * * \r\n* * * \r\n* * * \r\n* * * \r\n* * * \r\n* * * \r\n* * * \r\n* * * \r\n* * * \r\n* * * \r\n* * * \r\n* * * \r\n* * * \r\nO * * \r\n* * * \r\n* * * \r\n* * * \r\n* * * \r\n* * * \r\n* * * \r\n* * * \r\n* * * \r\n* * * \r\n* * * \r\n* * * \r\n* * * \r\n* * * \r\n* * * \r\n* * * \r\n* * * \r\n* * * \r\n* * * \r\n* * * \r\n* * * \r\n* * * \r\n* * * \r\n* * * \r\n* * * \r\n* * * \r\n* * * \r\n* * * \r\n* * * \r\n* * * \r\n* * * \r\n* * * \r\n* O * \r\n* * * \r\n* * * \r\n* * * \r\n* * * \r\n* * * \r\n* * * \r\n* * * \r\n* * * \r\n* * * \r\n* * * \r\n* * * \r\n* * * \r\n* * * \r\n* * * \r\n* * * \r\n* * * \r\n* * * \r\n* * * \r\n* * * \r\n* * * \r\n* * * \r\n* * * \r\n* * * \r\n```","title":"Question about the problem of shooting stars using Java for statements","body":"<p>Solving the problem of taking stars in Java. The questions are as follows.</p>\n<ol>\n<li><p>Print out a square with a width and length of 10*10 using *.</p>\n</li>\n<li><p>The columns that match the x and y coordinates in the following array list should be outputted 0 instead of *.\nThe complete version and array list are as follows.\nFor example, if an element in an array list is given,</p>\n<pre><code> Character character1  = new Character(5,5);\n Character character2  = new Character(7,8);\n Character character3  = new Character(3,1);\n</code></pre>\n</li>\n</ol>\n<p>The output shall be as follows like this:</p>\n<pre><code>* * O * * * * * * * \n* * * * * * * * * * \n* * * * * * * * * * \n* * * * * * * * * * \n* * * * O * * * * * \n* * * * * * * * * * \n* * * * * * * * * * \n* * * * * * O * * * \n* * * * * * * * * * \n* * * * * * * * * * \n</code></pre>\n<p>This is the code I'm currently writing.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Character {\n     int xLocation;\n     int yLocation;\n    public Character(int x, int y){\n        this.xLocation = x;\n        this.yLocation = y;\n    }\n    public int getXLocation(){return xLocation;}\n    public int getYLocation(){\n        return yLocation;\n    }\n}\n\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.ArrayList;\npublic class Main {\n    public static void main(String[] args)\n    {\n        int a = 10;\n        \n        ArrayList&lt;Character&gt; characters = new ArrayList&lt;&gt;();\n        Character character1  = new Character(5,5);\n        Character character2  = new Character(7,8);\n        Character character3  = new Character(3,1);\n        characters.add(character1);\n        characters.add(character2);\n        characters.add(character3);\n        for (int i = 1; i&lt;=a; i++)\n        {\n            for (int v = 1; v &lt;= a; v++)\n            {\n                for (int j = 0; j &lt; characters.size(); j++)\n                {\n                    if (v == characters.get(j).getXLocation() &amp;&amp; i == characters.get(j).getYLocation())\n                    {\n                        System.out.print(&quot;O &quot;);\n                    }\n                    else System.out.print(&quot;* &quot;);\n                }\n                System.out.println();\n            }\n        }\n    }\n}\n\n</code></pre>\n<p>However, the code has the following incorrect output:</p>\n<pre><code>* * * \n* * * \n* * O \n* * * \n* * * \n* * * \n* * * \n* * * \n* * * \n* * * \n* * * \n* * * \n* * * \n* * * \n* * * \n* * * \n* * * \n* * * \n* * * \n* * * \n* * * \n* * * \n* * * \n* * * \n* * * \n* * * \n* * * \n* * * \n* * * \n* * * \n* * * \n* * * \n* * * \n* * * \n* * * \n* * * \n* * * \n* * * \n* * * \n* * * \n* * * \n* * * \n* * * \n* * * \nO * * \n* * * \n* * * \n* * * \n* * * \n* * * \n* * * \n* * * \n* * * \n* * * \n* * * \n* * * \n* * * \n* * * \n* * * \n* * * \n* * * \n* * * \n* * * \n* * * \n* * * \n* * * \n* * * \n* * * \n* * * \n* * * \n* * * \n* * * \n* * * \n* * * \n* * * \n* * * \n* O * \n* * * \n* * * \n* * * \n* * * \n* * * \n* * * \n* * * \n* * * \n* * * \n* * * \n* * * \n* * * \n* * * \n* * * \n* * * \n* * * \n* * * \n* * * \n* * * \n* * * \n* * * \n* * * \n* * * \n</code></pre>\n"},{"tags":["java","firebase","google-app-engine","google-cloud-platform","google-cloud-storage"],"comments":[{"owner":{"account_id":426109,"reputation":302042,"user_id":807126,"display_name":"Doug Stevenson"},"score":0,"creation_date":1559097542,"post_id":56352239,"comment_id":99309414,"body_markdown":"Yes, it should be possible.","body":"Yes, it should be possible."},{"owner":{"account_id":3147269,"reputation":10469,"user_id":3075340,"accept_rate":70,"display_name":"Micro"},"score":0,"creation_date":1559098297,"post_id":56352239,"comment_id":99309550,"body_markdown":"@DougStevenson I reworded my question. I wasn&#39;t asking if it is possible but how do I actually do it.","body":"@DougStevenson I reworded my question. I wasn&#39;t asking if it is possible but how do I actually do it."},{"owner":{"account_id":426109,"reputation":302042,"user_id":807126,"display_name":"Doug Stevenson"},"score":1,"creation_date":1559098527,"post_id":56352239,"comment_id":99309590,"body_markdown":"Unfortunately, that&#39;s a rather broad question for Stack Overflow. It&#39;s expected that you make an attempt at solving the problem, then post when you have a specific problem that you&#39;re stuck on with your code.","body":"Unfortunately, that&#39;s a rather broad question for Stack Overflow. It&#39;s expected that you make an attempt at solving the problem, then post when you have a specific problem that you&#39;re stuck on with your code."},{"owner":{"account_id":3147269,"reputation":10469,"user_id":3075340,"accept_rate":70,"display_name":"Micro"},"score":0,"creation_date":1559098687,"post_id":56352239,"comment_id":99309622,"body_markdown":"Well besides the image&#39;s api there really isn&#39;t much help out there. This is why I am asking here... Is there a backend service I am unaware of? or some other method?","body":"Well besides the image&#39;s api there really isn&#39;t much help out there. This is why I am asking here... Is there a backend service I am unaware of? or some other method?"},{"owner":{"account_id":426109,"reputation":302042,"user_id":807126,"display_name":"Doug Stevenson"},"score":0,"creation_date":1559098797,"post_id":56352239,"comment_id":99309638,"body_markdown":"The first thing to do would be some web searches for the tools you think you&#39;ll need to accomplish this rather complex task.","body":"The first thing to do would be some web searches for the tools you think you&#39;ll need to accomplish this rather complex task."},{"owner":{"account_id":1929103,"reputation":13972,"user_id":1738915,"accept_rate":90,"display_name":"Kolban"},"score":0,"creation_date":1559101881,"post_id":56352239,"comment_id":99310181,"body_markdown":"A quick Google search seems to show this as a candidate ... http://jcodec.org/","body":"A quick Google search seems to show this as a candidate ... <a href=\"http://jcodec.org/\" rel=\"nofollow noreferrer\">jcodec.org</a>"},{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1688634138,"post_id":56352239,"comment_id":135100989,"body_markdown":"This should have been closed as Too broad years ago. Can&#39;t do it now that the bounty is active.","body":"This should have been closed as Too broad years ago. Can&#39;t do it now that the bounty is active."},{"owner":{"account_id":3147269,"reputation":10469,"user_id":3075340,"accept_rate":70,"display_name":"Micro"},"score":0,"creation_date":1688673457,"post_id":56352239,"comment_id":135109234,"body_markdown":"@Jorn How is this too broad..? Seems like an important question to me.","body":"@Jorn How is this too broad..? Seems like an important question to me."},{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1688707638,"post_id":56352239,"comment_id":135112569,"body_markdown":"This is StackOverflow. We have rules ;-) Whether or not a question is interesting or important isn&#39;t relevant for it being on-topic. In this case, it&#39;s more of a &quot;how do I even start doing this&quot; than a &quot;how do I fix this specific issue&quot;, and we consider that too broad. I don&#39;t make the rules, sorry.","body":"This is StackOverflow. We have rules ;-) Whether or not a question is interesting or important isn&#39;t relevant for it being on-topic. In this case, it&#39;s more of a &quot;how do I even start doing this&quot; than a &quot;how do I fix this specific issue&quot;, and we consider that too broad. I don&#39;t make the rules, sorry."},{"owner":{"account_id":3147269,"reputation":10469,"user_id":3075340,"accept_rate":70,"display_name":"Micro"},"score":0,"creation_date":1688863979,"post_id":56352239,"comment_id":135131091,"body_markdown":"@Jorn There are a lot of questions like that on SO that get a lot of answers and up votes. I have provided a starting point with my question. It isn&#39;t a completely out of the blue question. There is context.","body":"@Jorn There are a lot of questions like that on SO that get a lot of answers and up votes. I have provided a starting point with my question. It isn&#39;t a completely out of the blue question. There is context."}],"answers":[{"tags":[],"owner":{"account_id":4243,"reputation":1301938,"user_id":6309,"accept_rate":100,"display_name":"VonC"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1688901960,"creation_date":1688901960,"answer_id":76647226,"question_id":56352239,"body_markdown":"Creating a thumbnail or JPEG image from a video stored in [Google Cloud Storage](https://cloud.google.com/storage) involves a few steps and may require a bit more than just Java to accomplish. Typically, you&#39;d use a media processing software like FFmpeg to generate frames from a video.\r\n\r\nHowever, using [FFmpeg](https://ffmpeg.org/) or similar tools directly in App Engine can be tricky since you are restricted in terms of installing and executing third-party binary files in the App Engine environment. Therefore, the typical solution involves using Google Cloud Functions or Google Cloud Run to execute the FFmpeg commands and App Engine to trigger these functions. \r\n\r\nThat should mean:\r\n\r\n- Uploading the Video to Google Cloud Storage. That could be done from your application running on App Engine.\r\n- Creating a [Google Cloud Function](https://cloud.google.com/functions) or a [Cloud Run instance](https://cloud.google.com/run/docs/overview/what-is-cloud-run) that listens for the upload event. The function would use a tool like `FFmpeg` to generate an image from the video. It would save the image back to a Google Cloud Storage bucket. \r\n- triggering the Cloud Function/Cloud Run instance, when the video is uploaded.\r\n\r\nHere is a Python example of a Google Cloud Function that does this (it is not Java, but it gives you an idea of what the function would need to do).  \r\n(inspired from [`brown-mida/elvo/etl/processed_dag.py#to_public_png()`](https://github.com/brown-mida/elvo/blob/430453f0b71eb77f108a190cdb28b0ab3f70b631/etl/processed_dag.py#L28-L48))  \r\nThe function is triggered when a new video is uploaded, it uses FFmpeg to grab an image from the video, then it stores the image in the bucket:\r\n\r\n```python\r\nimport os\r\nimport tempfile\r\nfrom google.cloud import storage\r\nimport subprocess\r\n\r\ndef generate_thumbnail(data, context):\r\n    file_data = data\r\n    file_name = file_data[&#39;name&#39;]\r\n    bucket_name = file_data[&#39;bucket&#39;]\r\n\r\n    storage_client = storage.Client()\r\n    bucket = storage_client.get_bucket(bucket_name)\r\n    blob = bucket.blob(file_name)\r\n\r\n    _, temp_local_filename = tempfile.mkstemp()\r\n    \r\n    blob.download_to_filename(temp_local_filename)\r\n    print(f&quot;Video downloaded to {temp_local_filename}.&quot;)\r\n\r\n    thumbnail_file = temp_local_filename + &#39;.png&#39;\r\n    \r\n    command = f&quot;ffmpeg -i {temp_local_filename} -ss 00:00:01 -vframes 1 {thumbnail_file}&quot;\r\n    subprocess.call(command, shell=True)\r\n\r\n    print(f&quot;Thumbnail created at {thumbnail_file}.&quot;)\r\n\r\n    thumbnail_blob = bucket.blob(file_name + &#39;.png&#39;)\r\n    thumbnail_blob.upload_from_filename(thumbnail_file)\r\n\r\n    print(f&quot;Thumbnail uploaded to {bucket_name}/{file_name}.png&quot;)\r\n\r\n    os.remove(temp_local_filename)\r\n    os.remove(thumbnail_file)\r\n```\r\n\r\nWith that setup, the work of generating the thumbnail is offloaded from your Java App Engine service to the Cloud Function. That would provide a scalable solution to create video thumbnails without using resources from your App Engine service.  \r\nYou can create Cloud Functions using various runtime environments like Python, Node.js, Java, Go, .NET, etc. Python was used here because FFmpeg interaction is a bit more straightforward. \r\n\r\nWarning: this type of operation might result in additional costs due to the usage of Cloud Functions/Cloud Run and the extra storage requirements for the images generated.\r\n\r\nFinally, if you need to stick with Java and use App Engine only, consider using [App Engine flexible environment](https://cloud.google.com/appengine/docs/flexible), which would let you use FFmpeg or another tool.\r\n\r\n----\r\n\r\nCreating a Cloud Function or Cloud Run instance in Java to do this task is more complex than using a scripting language like Python because Java does not have native support for running shell commands like `FFmpeg`. \r\n\r\nHowever, creating a Cloud Function or Cloud Run instance with FFmpeg is possible with Java if you use a custom Dockerfile and run a shell command from Java. That is typically done in a Cloud Run instance rather than a Cloud Function because Cloud Run allows you to use a custom Dockerfile to include FFmpeg in the runtime.\r\n\r\nFor instance, here is a simple Java application that uses FFmpeg to extract a frame from a video. That could be used as the base for your Cloud Run instance.\r\n\r\n```java\r\nimport java.io.File;\r\nimport java.io.IOException;\r\n\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        String videoPath = &quot;/path/to/video.mp4&quot;;\r\n        String imagePath = &quot;/path/to/output.png&quot;;\r\n\r\n        // That command extracts a frame from the 1st second of the video\r\n        String command = String.format(&quot;ffmpeg -i %s -ss 00:00:01 -vframes 1 %s&quot;, videoPath, imagePath);\r\n\r\n        try {\r\n            Process process = Runtime.getRuntime().exec(command);\r\n            process.waitFor();\r\n            System.out.println(&quot;Frame extracted successfully!&quot;);\r\n        } catch (IOException | InterruptedException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n(Note that the Java process will need to have the necessary permissions to execute the FFmpeg command and access the files.)\r\n\r\nIn a real-world application, this should be wrapped in a web server (like Spring Boot) to handle HTTP requests and responses. The video would be downloaded from Google Cloud Storage to a temporary file, the FFmpeg command would be run to generate the frame, then the image file would be uploaded back to Google Cloud Storage. You would also need to include error handling and logging to ensure the process works smoothly, and any issues can be diagnosed.\r\n\r\n----\r\n\r\nAs commented, you do have [JCodec](http://jcodec.org/), a pure Java implementation of video encoders and decoders, including functionality for generating frames from a video. You can certainly use it on Google App Engine Standard Environment.\r\n\r\nThat is how you can use JCodec to extract a frame from a video:\r\n\r\n```java\r\nimport org.jcodec.api.JCodecException;\r\nimport org.jcodec.api.awt.AWTFrameGrab;\r\nimport org.jcodec.common.FileChannelWrapper;\r\nimport org.jcodec.common.NIOUtils;\r\nimport org.jcodec.common.io.SeekableByteChannel;\r\nimport org.jcodec.scale.AWTUtil;\r\n\r\nimport java.awt.image.BufferedImage;\r\nimport java.io.File;\r\nimport java.io.IOException;\r\nimport java.nio.file.Path;\r\nimport java.nio.file.Paths;\r\nimport javax.imageio.ImageIO;\r\n\r\npublic class FrameGrabber {\r\n\r\n    public static void getFrame(String videoPath, String framePath, double frameNumber) throws IOException, JCodecException {\r\n        SeekableByteChannel bc = null;\r\n        try {\r\n            bc = NIOUtils.readableFileChannel(videoPath);\r\n            BufferedImage frame = AWTFrameGrab.getFrame(new FileChannelWrapper(bc), frameNumber);\r\n            BufferedImage rgbFrame = AWTUtil.toBufferedImage(frame);\r\n            ImageIO.write(rgbFrame, &quot;png&quot;, new File(framePath));\r\n        } finally {\r\n            NIOUtils.closeQuietly(bc);\r\n        }\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        try {\r\n            String videoPath = &quot;path/to/your/video.mp4&quot;;\r\n            String framePath = &quot;path/to/save/frame.png&quot;;\r\n            getFrame(videoPath, framePath, 1);\r\n            System.out.println(&quot;Frame extracted successfully!&quot;);\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nYou would use the `getFrame` method, which opens the video file, extracts a frame at a specified position (the frame number is a double indicating seconds into the video), converts the frame to an RGB image, and saves the frame to a file.\r\n\r\nYou would need to adapt this code to work with your `Blob` object, possibly by first downloading the blob to a temporary file in your App Engine environment, then using JCodec to extract the frame, and finally uploading the resulting image file back to Google Cloud Storage. Note that Google App Engine has restrictions on the file system access, but you can use the temporary directory (`/tmp`) to write files.\r\n\r\nSince decoding video frames is a CPU intensive task and might take a bit of time depending on the size and length of the video, you need to be careful with the App Engine instance&#39;s resources and execution time limit.","title":"How to create thumbnail or jpeg image from a video in Google Cloud Storage server-side with Java","body":"<p>Creating a thumbnail or JPEG image from a video stored in <a href=\"https://cloud.google.com/storage\" rel=\"nofollow noreferrer\">Google Cloud Storage</a> involves a few steps and may require a bit more than just Java to accomplish. Typically, you'd use a media processing software like FFmpeg to generate frames from a video.</p>\n<p>However, using <a href=\"https://ffmpeg.org/\" rel=\"nofollow noreferrer\">FFmpeg</a> or similar tools directly in App Engine can be tricky since you are restricted in terms of installing and executing third-party binary files in the App Engine environment. Therefore, the typical solution involves using Google Cloud Functions or Google Cloud Run to execute the FFmpeg commands and App Engine to trigger these functions.</p>\n<p>That should mean:</p>\n<ul>\n<li>Uploading the Video to Google Cloud Storage. That could be done from your application running on App Engine.</li>\n<li>Creating a <a href=\"https://cloud.google.com/functions\" rel=\"nofollow noreferrer\">Google Cloud Function</a> or a <a href=\"https://cloud.google.com/run/docs/overview/what-is-cloud-run\" rel=\"nofollow noreferrer\">Cloud Run instance</a> that listens for the upload event. The function would use a tool like <code>FFmpeg</code> to generate an image from the video. It would save the image back to a Google Cloud Storage bucket.</li>\n<li>triggering the Cloud Function/Cloud Run instance, when the video is uploaded.</li>\n</ul>\n<p>Here is a Python example of a Google Cloud Function that does this (it is not Java, but it gives you an idea of what the function would need to do).<br />\n(inspired from <a href=\"https://github.com/brown-mida/elvo/blob/430453f0b71eb77f108a190cdb28b0ab3f70b631/etl/processed_dag.py#L28-L48\" rel=\"nofollow noreferrer\"><code>brown-mida/elvo/etl/processed_dag.py#to_public_png()</code></a>)<br />\nThe function is triggered when a new video is uploaded, it uses FFmpeg to grab an image from the video, then it stores the image in the bucket:</p>\n<pre class=\"lang-py prettyprint-override\"><code>import os\nimport tempfile\nfrom google.cloud import storage\nimport subprocess\n\ndef generate_thumbnail(data, context):\n    file_data = data\n    file_name = file_data['name']\n    bucket_name = file_data['bucket']\n\n    storage_client = storage.Client()\n    bucket = storage_client.get_bucket(bucket_name)\n    blob = bucket.blob(file_name)\n\n    _, temp_local_filename = tempfile.mkstemp()\n    \n    blob.download_to_filename(temp_local_filename)\n    print(f&quot;Video downloaded to {temp_local_filename}.&quot;)\n\n    thumbnail_file = temp_local_filename + '.png'\n    \n    command = f&quot;ffmpeg -i {temp_local_filename} -ss 00:00:01 -vframes 1 {thumbnail_file}&quot;\n    subprocess.call(command, shell=True)\n\n    print(f&quot;Thumbnail created at {thumbnail_file}.&quot;)\n\n    thumbnail_blob = bucket.blob(file_name + '.png')\n    thumbnail_blob.upload_from_filename(thumbnail_file)\n\n    print(f&quot;Thumbnail uploaded to {bucket_name}/{file_name}.png&quot;)\n\n    os.remove(temp_local_filename)\n    os.remove(thumbnail_file)\n</code></pre>\n<p>With that setup, the work of generating the thumbnail is offloaded from your Java App Engine service to the Cloud Function. That would provide a scalable solution to create video thumbnails without using resources from your App Engine service.<br />\nYou can create Cloud Functions using various runtime environments like Python, Node.js, Java, Go, .NET, etc. Python was used here because FFmpeg interaction is a bit more straightforward.</p>\n<p>Warning: this type of operation might result in additional costs due to the usage of Cloud Functions/Cloud Run and the extra storage requirements for the images generated.</p>\n<p>Finally, if you need to stick with Java and use App Engine only, consider using <a href=\"https://cloud.google.com/appengine/docs/flexible\" rel=\"nofollow noreferrer\">App Engine flexible environment</a>, which would let you use FFmpeg or another tool.</p>\n<hr />\n<p>Creating a Cloud Function or Cloud Run instance in Java to do this task is more complex than using a scripting language like Python because Java does not have native support for running shell commands like <code>FFmpeg</code>.</p>\n<p>However, creating a Cloud Function or Cloud Run instance with FFmpeg is possible with Java if you use a custom Dockerfile and run a shell command from Java. That is typically done in a Cloud Run instance rather than a Cloud Function because Cloud Run allows you to use a custom Dockerfile to include FFmpeg in the runtime.</p>\n<p>For instance, here is a simple Java application that uses FFmpeg to extract a frame from a video. That could be used as the base for your Cloud Run instance.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.io.File;\nimport java.io.IOException;\n\npublic class Main {\n    public static void main(String[] args) {\n        String videoPath = &quot;/path/to/video.mp4&quot;;\n        String imagePath = &quot;/path/to/output.png&quot;;\n\n        // That command extracts a frame from the 1st second of the video\n        String command = String.format(&quot;ffmpeg -i %s -ss 00:00:01 -vframes 1 %s&quot;, videoPath, imagePath);\n\n        try {\n            Process process = Runtime.getRuntime().exec(command);\n            process.waitFor();\n            System.out.println(&quot;Frame extracted successfully!&quot;);\n        } catch (IOException | InterruptedException e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n<p>(Note that the Java process will need to have the necessary permissions to execute the FFmpeg command and access the files.)</p>\n<p>In a real-world application, this should be wrapped in a web server (like Spring Boot) to handle HTTP requests and responses. The video would be downloaded from Google Cloud Storage to a temporary file, the FFmpeg command would be run to generate the frame, then the image file would be uploaded back to Google Cloud Storage. You would also need to include error handling and logging to ensure the process works smoothly, and any issues can be diagnosed.</p>\n<hr />\n<p>As commented, you do have <a href=\"http://jcodec.org/\" rel=\"nofollow noreferrer\">JCodec</a>, a pure Java implementation of video encoders and decoders, including functionality for generating frames from a video. You can certainly use it on Google App Engine Standard Environment.</p>\n<p>That is how you can use JCodec to extract a frame from a video:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.jcodec.api.JCodecException;\nimport org.jcodec.api.awt.AWTFrameGrab;\nimport org.jcodec.common.FileChannelWrapper;\nimport org.jcodec.common.NIOUtils;\nimport org.jcodec.common.io.SeekableByteChannel;\nimport org.jcodec.scale.AWTUtil;\n\nimport java.awt.image.BufferedImage;\nimport java.io.File;\nimport java.io.IOException;\nimport java.nio.file.Path;\nimport java.nio.file.Paths;\nimport javax.imageio.ImageIO;\n\npublic class FrameGrabber {\n\n    public static void getFrame(String videoPath, String framePath, double frameNumber) throws IOException, JCodecException {\n        SeekableByteChannel bc = null;\n        try {\n            bc = NIOUtils.readableFileChannel(videoPath);\n            BufferedImage frame = AWTFrameGrab.getFrame(new FileChannelWrapper(bc), frameNumber);\n            BufferedImage rgbFrame = AWTUtil.toBufferedImage(frame);\n            ImageIO.write(rgbFrame, &quot;png&quot;, new File(framePath));\n        } finally {\n            NIOUtils.closeQuietly(bc);\n        }\n    }\n\n    public static void main(String[] args) {\n        try {\n            String videoPath = &quot;path/to/your/video.mp4&quot;;\n            String framePath = &quot;path/to/save/frame.png&quot;;\n            getFrame(videoPath, framePath, 1);\n            System.out.println(&quot;Frame extracted successfully!&quot;);\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n<p>You would use the <code>getFrame</code> method, which opens the video file, extracts a frame at a specified position (the frame number is a double indicating seconds into the video), converts the frame to an RGB image, and saves the frame to a file.</p>\n<p>You would need to adapt this code to work with your <code>Blob</code> object, possibly by first downloading the blob to a temporary file in your App Engine environment, then using JCodec to extract the frame, and finally uploading the resulting image file back to Google Cloud Storage. Note that Google App Engine has restrictions on the file system access, but you can use the temporary directory (<code>/tmp</code>) to write files.</p>\n<p>Since decoding video frames is a CPU intensive task and might take a bit of time depending on the size and length of the video, you need to be careful with the App Engine instance's resources and execution time limit.</p>\n"},{"comments":[{"owner":{"account_id":4243,"reputation":1301938,"user_id":6309,"accept_rate":100,"display_name":"VonC"},"score":0,"creation_date":1688960636,"post_id":76649875,"comment_id":135139844,"body_markdown":"That seems better than my custom solution indeed. Upvoted.","body":"That seems better than my custom solution indeed. Upvoted."},{"owner":{"account_id":19092422,"reputation":51311,"user_id":13942448,"display_name":"jccampanero"},"score":0,"creation_date":1689024590,"post_id":76649875,"comment_id":135152103,"body_markdown":"Sorry for the late reply @VonC. Thank you very much! I don&#39;t know if the solution is better, but it is true that the API is conceived for that type of processing, and it could be a solution easier and simpler to implement than a custom one. I upvoted your answer as well, as I said, it is a very good one.","body":"Sorry for the late reply @VonC. Thank you very much! I don&#39;t know if the solution is better, but it is true that the API is conceived for that type of processing, and it could be a solution easier and simpler to implement than a custom one. I upvoted your answer as well, as I said, it is a very good one."},{"owner":{"account_id":3147269,"reputation":10469,"user_id":3075340,"accept_rate":70,"display_name":"Micro"},"score":0,"creation_date":1689280076,"post_id":76649875,"comment_id":135195255,"body_markdown":"Both your and @VonC &#39;s answers are excellent. They each take a different but useful approach. Awarding the bounty is going to be hard but since I asked for a fast and lightweight solution, I will award it to you. But I will be testing both. One thing to consider about the Transcoder API is the cost (https://cloud.google.com/transcoder/pricing). The question will come down to is it cheaper using VonC&#39;s solution by using GAE computation time or using the Transcoder API with it&#39;s API costs. I don&#39;t have enough time to test this, as the bounty must be awarded soon.","body":"Both your and @VonC &#39;s answers are excellent. They each take a different but useful approach. Awarding the bounty is going to be hard but since I asked for a fast and lightweight solution, I will award it to you. But I will be testing both. One thing to consider about the Transcoder API is the cost (<a href=\"https://cloud.google.com/transcoder/pricing\" rel=\"nofollow noreferrer\">cloud.google.com/transcoder/pricing</a>). The question will come down to is it cheaper using VonC&#39;s solution by using GAE computation time or using the Transcoder API with it&#39;s API costs. I don&#39;t have enough time to test this, as the bounty must be awarded soon."},{"owner":{"account_id":19092422,"reputation":51311,"user_id":13942448,"display_name":"jccampanero"},"score":0,"creation_date":1689289484,"post_id":76649875,"comment_id":135196406,"body_markdown":"Sorry for the late reply Micro. Thank you very much: yes, as I said, using the Transcoder API could be the easiest way to implement the proposed use case, in the end the API is built for that purpose, but the solutions proposed by @VonC are very good as well. Regarding the price, I think it is difficult to say as well: the GCP documentation is quite confusing when explaining the prices of the Transcoder API. Sorry, I searched for the exact information about the cost of generating the spritesheets but I was unable to; I event perform some basic tests without incurring actually in costs.","body":"Sorry for the late reply Micro. Thank you very much: yes, as I said, using the Transcoder API could be the easiest way to implement the proposed use case, in the end the API is built for that purpose, but the solutions proposed by @VonC are very good as well. Regarding the price, I think it is difficult to say as well: the GCP documentation is quite confusing when explaining the prices of the Transcoder API. Sorry, I searched for the exact information about the cost of generating the spritesheets but I was unable to; I event perform some basic tests without incurring actually in costs."},{"owner":{"account_id":19092422,"reputation":51311,"user_id":13942448,"display_name":"jccampanero"},"score":0,"creation_date":1689289947,"post_id":76649875,"comment_id":135196455,"body_markdown":"In any way, although I am not sure of the exact amount, from my experience the cost of generating the spritesheets was minimal. It will depend on the actual hw platform you choose of course, but probably the amount of computing power necessary to perform the task in GAE will make it more expensive. The cost of Cloud Storage, network, etc, should be roughly the same in both cases. I am sorry for not being able to give you a more precise information about the exact costs @Micro.","body":"In any way, although I am not sure of the exact amount, from my experience the cost of generating the spritesheets was minimal. It will depend on the actual hw platform you choose of course, but probably the amount of computing power necessary to perform the task in GAE will make it more expensive. The cost of Cloud Storage, network, etc, should be roughly the same in both cases. I am sorry for not being able to give you a more precise information about the exact costs @Micro."},{"owner":{"account_id":3147269,"reputation":10469,"user_id":3075340,"accept_rate":70,"display_name":"Micro"},"score":0,"creation_date":1689306534,"post_id":76649875,"comment_id":135197777,"body_markdown":"@jccampanero No problem at all. Figuring out the pricing of these things isn&#39;t easy. The only real way to do it is to implement it at scale and look at the big numbers. I also think that trying to do this on your own in GAE will probably be more expensive but again, it always depends on what your doing and how big the input is.","body":"@jccampanero No problem at all. Figuring out the pricing of these things isn&#39;t easy. The only real way to do it is to implement it at scale and look at the big numbers. I also think that trying to do this on your own in GAE will probably be more expensive but again, it always depends on what your doing and how big the input is."},{"owner":{"account_id":19092422,"reputation":51311,"user_id":13942448,"display_name":"jccampanero"},"score":0,"creation_date":1689360463,"post_id":76649875,"comment_id":135207884,"body_markdown":"Thank you very much @Micro. Yes, I absolutely agree with you.","body":"Thank you very much @Micro. Yes, I absolutely agree with you."}],"tags":[],"owner":{"account_id":19092422,"reputation":51311,"user_id":13942448,"display_name":"jccampanero"},"comment_count":7,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1688945940,"creation_date":1688943687,"answer_id":76649875,"question_id":56352239,"body_markdown":"Although the answer of @VonC is excellent, I would recommend you using the functionality provided by the [Transcoder API](https://cloud.google.com/transcoder/docs/concepts/overview) instead of a custom solution.\r\n\r\nSpecifically the Transcoder API gives you the capability of [generating a spritesheet of video frames](https://cloud.google.com/transcoder/docs/how-to/generate-spritesheet).\r\n\r\nAs indicated in the documentation, you have two options for generating the thumbnails:\r\n\r\n&gt; You have two options for generating the spritesheet:\r\n&gt;\r\n&gt; - [Generate a set number of thumbnail images](https://cloud.google.com/transcoder/docs/how-to/generate-spritesheet#generate_set_number_of_images) distributed evenly across the \r\n&gt; input video timeline.\r\n&gt; - [Generate a thumbnail image periodically](https://cloud.google.com/transcoder/docs/how-to/generate-spritesheet#generate_image_periodically), that is, every n seconds, across \r\n&gt; the input video timeline.\r\n\r\nThe API provides SDK for different programing languages, [Java](https://cloud.google.com/transcoder/docs/how-to/generate-spritesheet#create-job-set-number-images-spritesheet-java) ([2](https://cloud.google.com/transcoder/docs/how-to/generate-spritesheet#create-job-periodic-images-spritesheet-java)) among them. [This related example](https://cloud.google.com/transcoder/docs/samples/transcoder-create-job-with-set-number-images-spritesheet?hl=en#transcoder_create_job_with_set_number_images_spritesheet-java) could be of help as well. For reference:\r\n\r\n```java\r\n\r\nimport com.google.cloud.video.transcoder.v1.AudioStream;\r\nimport com.google.cloud.video.transcoder.v1.CreateJobRequest;\r\nimport com.google.cloud.video.transcoder.v1.ElementaryStream;\r\nimport com.google.cloud.video.transcoder.v1.Input;\r\nimport com.google.cloud.video.transcoder.v1.Job;\r\nimport com.google.cloud.video.transcoder.v1.JobConfig;\r\nimport com.google.cloud.video.transcoder.v1.LocationName;\r\nimport com.google.cloud.video.transcoder.v1.MuxStream;\r\nimport com.google.cloud.video.transcoder.v1.Output;\r\nimport com.google.cloud.video.transcoder.v1.SpriteSheet;\r\nimport com.google.cloud.video.transcoder.v1.TranscoderServiceClient;\r\nimport com.google.cloud.video.transcoder.v1.VideoStream;\r\nimport java.io.IOException;\r\n\r\npublic class CreateJobWithSetNumberImagesSpritesheet {\r\n\r\n  public static final String smallSpritesheetFilePrefix = &quot;small-sprite-sheet&quot;;\r\n  public static final String largeSpritesheetFilePrefix = &quot;large-sprite-sheet&quot;;\r\n  public static final String spritesheetFileSuffix = &quot;0000000000.jpeg&quot;;\r\n\r\n  public static void main(String[] args) throws IOException {\r\n    // TODO(developer): Replace these variables before running the sample.\r\n    String projectId = &quot;my-project-id&quot;;\r\n    String location = &quot;us-central1&quot;;\r\n    String inputUri = &quot;gs://my-bucket/my-video-file&quot;;\r\n    String outputUri = &quot;gs://my-bucket/my-output-folder/&quot;;\r\n\r\n    createJobWithSetNumberImagesSpritesheet(projectId, location, inputUri, outputUri);\r\n  }\r\n\r\n  // Creates a job from an ad-hoc configuration and generates two spritesheets from the input video.\r\n  // Each spritesheet contains a set number of images.\r\n  public static void createJobWithSetNumberImagesSpritesheet(\r\n      String projectId, String location, String inputUri, String outputUri) throws IOException {\r\n    // Initialize client that will be used to send requests. This client only needs to be created\r\n    // once, and can be reused for multiple requests.\r\n    try (TranscoderServiceClient transcoderServiceClient = TranscoderServiceClient.create()) {\r\n\r\n      VideoStream videoStream0 =\r\n          VideoStream.newBuilder()\r\n              .setH264(\r\n                  VideoStream.H264CodecSettings.newBuilder()\r\n                      .setBitrateBps(550000)\r\n                      .setFrameRate(60)\r\n                      .setHeightPixels(360)\r\n                      .setWidthPixels(640))\r\n              .build();\r\n\r\n      AudioStream audioStream0 =\r\n          AudioStream.newBuilder().setCodec(&quot;aac&quot;).setBitrateBps(64000).build();\r\n\r\n      // Generates a 10x10 spritesheet of small images from the input video. To preserve the source\r\n      // aspect ratio, you should set the spriteWidthPixels field or the spriteHeightPixels\r\n      // field, but not both.\r\n      SpriteSheet smallSpriteSheet =\r\n          SpriteSheet.newBuilder()\r\n              .setFilePrefix(smallSpritesheetFilePrefix)\r\n              .setSpriteHeightPixels(32)\r\n              .setSpriteWidthPixels(64)\r\n              .setColumnCount(10)\r\n              .setRowCount(10)\r\n              .setTotalCount(100)\r\n              .build();\r\n\r\n      // Generates a 10x10 spritesheet of larger images from the input video.\r\n      SpriteSheet largeSpriteSheet =\r\n          SpriteSheet.newBuilder()\r\n              .setFilePrefix(largeSpritesheetFilePrefix)\r\n              .setSpriteHeightPixels(72)\r\n              .setSpriteWidthPixels(128)\r\n              .setColumnCount(10)\r\n              .setRowCount(10)\r\n              .setTotalCount(100)\r\n              .build();\r\n\r\n      JobConfig config =\r\n          JobConfig.newBuilder()\r\n              .addInputs(Input.newBuilder().setKey(&quot;input0&quot;).setUri(inputUri))\r\n              .setOutput(Output.newBuilder().setUri(outputUri))\r\n              .addElementaryStreams(\r\n                  ElementaryStream.newBuilder()\r\n                      .setKey(&quot;video_stream0&quot;)\r\n                      .setVideoStream(videoStream0))\r\n              .addElementaryStreams(\r\n                  ElementaryStream.newBuilder()\r\n                      .setKey(&quot;audio_stream0&quot;)\r\n                      .setAudioStream(audioStream0))\r\n              .addMuxStreams(\r\n                  MuxStream.newBuilder()\r\n                      .setKey(&quot;sd&quot;)\r\n                      .setContainer(&quot;mp4&quot;)\r\n                      .addElementaryStreams(&quot;video_stream0&quot;)\r\n                      .addElementaryStreams(&quot;audio_stream0&quot;)\r\n                      .build())\r\n              .addSpriteSheets(smallSpriteSheet) // Add the spritesheet config to the job config\r\n              .addSpriteSheets(largeSpriteSheet) // Add the spritesheet config to the job config\r\n              .build();\r\n\r\n      var createJobRequest =\r\n          CreateJobRequest.newBuilder()\r\n              .setJob(\r\n                  Job.newBuilder()\r\n                      .setInputUri(inputUri)\r\n                      .setOutputUri(outputUri)\r\n                      .setConfig(config)\r\n                      .build())\r\n              .setParent(LocationName.of(projectId, location).toString())\r\n              .build();\r\n\r\n      // Send the job creation request and process the response.\r\n      Job job = transcoderServiceClient.createJob(createJobRequest);\r\n      System.out.println(&quot;Job: &quot; + job.getName());\r\n    }\r\n  }\r\n}\r\n```\r\n\r\nThe input of the transcoder Job is obtained from Cloud Storage.\r\n\r\nAs a consequence, in order to start the transcoding process with this code probably the way to go could be defining a [Cloud Function that responds to the creation] - object finalize event - of a video](https://cloud.google.com/functions/docs/calling/storage). \r\n\r\nYou can find an example of a function that handles this type of events in the [GCP documentation](https://cloud.google.com/functions/docs/tutorials/storage).\r\n\r\n```java\r\nimport com.google.cloud.functions.CloudEventsFunction;\r\nimport com.google.events.cloud.storage.v1.StorageObjectData;\r\nimport com.google.protobuf.InvalidProtocolBufferException;\r\nimport com.google.protobuf.util.JsonFormat;\r\nimport io.cloudevents.CloudEvent;\r\nimport java.nio.charset.StandardCharsets;\r\nimport java.util.logging.Logger;\r\n\r\npublic class HelloGcs implements CloudEventsFunction {\r\n  private static final Logger logger = Logger.getLogger(HelloGcs.class.getName());\r\n\r\n  @Override\r\n  public void accept(CloudEvent event) throws InvalidProtocolBufferException {\r\n    logger.info(&quot;Event: &quot; + event.getId());\r\n    logger.info(&quot;Event Type: &quot; + event.getType());\r\n\r\n    if (event.getData() == null) {\r\n      logger.warning(&quot;No data found in cloud event payload!&quot;);\r\n      return;\r\n    }\r\n\r\n    String cloudEventData = new String(event.getData().toBytes(), StandardCharsets.UTF_8);\r\n    StorageObjectData.Builder builder = StorageObjectData.newBuilder();\r\n    JsonFormat.parser().merge(cloudEventData, builder);\r\n    StorageObjectData data = builder.build();\r\n\r\n    logger.info(&quot;Bucket: &quot; + data.getBucket());\r\n    logger.info(&quot;File: &quot; + data.getName());\r\n    logger.info(&quot;Metageneration: &quot; + data.getMetageneration());\r\n    logger.info(&quot;Created: &quot; + data.getTimeCreated());\r\n    logger.info(&quot;Updated: &quot; + data.getUpdated());\r\n  }\r\n}\r\n```\r\n\r\nThe final code in the function could be similar to this (forgive for any inaccuracy, I just try combining the two samples):\r\n\r\n```java\r\nimport com.google.cloud.functions.CloudEventsFunction;\r\nimport com.google.events.cloud.storage.v1.StorageObjectData;\r\nimport com.google.protobuf.InvalidProtocolBufferException;\r\nimport com.google.protobuf.util.JsonFormat;\r\nimport io.cloudevents.CloudEvent;\r\nimport java.nio.charset.StandardCharsets;\r\nimport java.util.logging.Logger;\r\n\r\nimport com.google.cloud.video.transcoder.v1.AudioStream;\r\nimport com.google.cloud.video.transcoder.v1.CreateJobRequest;\r\nimport com.google.cloud.video.transcoder.v1.ElementaryStream;\r\nimport com.google.cloud.video.transcoder.v1.Input;\r\nimport com.google.cloud.video.transcoder.v1.Job;\r\nimport com.google.cloud.video.transcoder.v1.JobConfig;\r\nimport com.google.cloud.video.transcoder.v1.LocationName;\r\nimport com.google.cloud.video.transcoder.v1.MuxStream;\r\nimport com.google.cloud.video.transcoder.v1.Output;\r\nimport com.google.cloud.video.transcoder.v1.SpriteSheet;\r\nimport com.google.cloud.video.transcoder.v1.TranscoderServiceClient;\r\nimport com.google.cloud.video.transcoder.v1.VideoStream;\r\nimport java.io.IOException;\r\n\r\npublic class TranscodingFunction implements CloudEventsFunction {\r\n  private static final Logger logger = Logger.getLogger(HelloGcs.class.getName());\r\n\r\n  public static final String smallSpritesheetFilePrefix = &quot;small-sprite-sheet&quot;;\r\n  public static final String largeSpritesheetFilePrefix = &quot;large-sprite-sheet&quot;;\r\n  public static final String spritesheetFileSuffix = &quot;0000000000.jpeg&quot;;\r\n\r\n  String projectId = &quot;my-project-id&quot;;\r\n  String location = &quot;us-central1&quot;;\r\n\r\n  @Override\r\n  public void accept(CloudEvent event) throws InvalidProtocolBufferException {\r\n    logger.info(&quot;Event: &quot; + event.getId());\r\n    logger.info(&quot;Event Type: &quot; + event.getType());\r\n\r\n    if (event.getData() == null) {\r\n      logger.warning(&quot;No data found in cloud event payload!&quot;);\r\n      return;\r\n    }\r\n\r\n    String cloudEventData = new String(event.getData().toBytes(), StandardCharsets.UTF_8);\r\n    StorageObjectData.Builder builder = StorageObjectData.newBuilder();\r\n    JsonFormat.parser().merge(cloudEventData, builder);\r\n    StorageObjectData data = builder.build();\r\n\r\n    logger.info(&quot;Bucket: &quot; + data.getBucket());\r\n    logger.info(&quot;File: &quot; + data.getName());\r\n    logger.info(&quot;Metageneration: &quot; + data.getMetageneration());\r\n    logger.info(&quot;Created: &quot; + data.getTimeCreated());\r\n    logger.info(&quot;Updated: &quot; + data.getUpdated());\r\n\r\n    String inputUri = data.getBucket() + data.getName();\r\n    String outputUri = &quot;gs://my-bucket/my-output-folder/&quot;;\r\n\r\n    // Initialize client that will be used to send requests. This client only needs to be created\r\n    // once, and can be reused for multiple requests.\r\n    try (TranscoderServiceClient transcoderServiceClient = TranscoderServiceClient.create()) {\r\n\r\n      VideoStream videoStream0 =\r\n          VideoStream.newBuilder()\r\n              .setH264(\r\n                  VideoStream.H264CodecSettings.newBuilder()\r\n                      .setBitrateBps(550000)\r\n                      .setFrameRate(60)\r\n                      .setHeightPixels(360)\r\n                      .setWidthPixels(640))\r\n              .build();\r\n\r\n      AudioStream audioStream0 =\r\n          AudioStream.newBuilder().setCodec(&quot;aac&quot;).setBitrateBps(64000).build();\r\n\r\n      // Generates a 10x10 spritesheet of small images from the input video. To preserve the source\r\n      // aspect ratio, you should set the spriteWidthPixels field or the spriteHeightPixels\r\n      // field, but not both.\r\n      SpriteSheet smallSpriteSheet =\r\n          SpriteSheet.newBuilder()\r\n              .setFilePrefix(smallSpritesheetFilePrefix)\r\n              .setSpriteHeightPixels(32)\r\n              .setSpriteWidthPixels(64)\r\n              .setColumnCount(10)\r\n              .setRowCount(10)\r\n              .setTotalCount(100)\r\n              .build();\r\n\r\n      // Generates a 10x10 spritesheet of larger images from the input video.\r\n      SpriteSheet largeSpriteSheet =\r\n          SpriteSheet.newBuilder()\r\n              .setFilePrefix(largeSpritesheetFilePrefix)\r\n              .setSpriteHeightPixels(72)\r\n              .setSpriteWidthPixels(128)\r\n              .setColumnCount(10)\r\n              .setRowCount(10)\r\n              .setTotalCount(100)\r\n              .build();\r\n\r\n      JobConfig config =\r\n          JobConfig.newBuilder()\r\n              .addInputs(Input.newBuilder().setKey(&quot;input0&quot;).setUri(inputUri))\r\n              .setOutput(Output.newBuilder().setUri(outputUri))\r\n              .addElementaryStreams(\r\n                  ElementaryStream.newBuilder()\r\n                      .setKey(&quot;video_stream0&quot;)\r\n                      .setVideoStream(videoStream0))\r\n              .addElementaryStreams(\r\n                  ElementaryStream.newBuilder()\r\n                      .setKey(&quot;audio_stream0&quot;)\r\n                      .setAudioStream(audioStream0))\r\n              .addMuxStreams(\r\n                  MuxStream.newBuilder()\r\n                      .setKey(&quot;sd&quot;)\r\n                      .setContainer(&quot;mp4&quot;)\r\n                      .addElementaryStreams(&quot;video_stream0&quot;)\r\n                      .addElementaryStreams(&quot;audio_stream0&quot;)\r\n                      .build())\r\n              .addSpriteSheets(smallSpriteSheet) // Add the spritesheet config to the job config\r\n              .addSpriteSheets(largeSpriteSheet) // Add the spritesheet config to the job config\r\n              .build();\r\n\r\n      var createJobRequest =\r\n          CreateJobRequest.newBuilder()\r\n              .setJob(\r\n                  Job.newBuilder()\r\n                      .setInputUri(inputUri)\r\n                      .setOutputUri(outputUri)\r\n                      .setConfig(config)\r\n                      .build())\r\n              .setParent(LocationName.of(projectId, location).toString())\r\n              .build();\r\n\r\n      // Send the job creation request and process the response.\r\n      Job job = transcoderServiceClient.createJob(createJobRequest);\r\n      System.out.println(&quot;Job: &quot; + job.getName());\r\n    }\r\n  }\r\n}\r\n```\r\n\r\nThe event trigger and the function should be properly configured.\r\n\r\nPlease, note that the transcoding job is asynchronous, you may need some additional work to read the results.\r\n\r\nAlthough probably more complex, but based in this idea, [this blog post](https://medium.com/google-cloud/automate-your-vod-transcoding-at-scale-with-gcp-part-1-87503fdd3a9f) and the [companion one](https://medium.com/google-cloud/automate-your-vod-transcoding-at-scale-with-gcp-part-2-b1da0e57823d) could be of help.","title":"How to create thumbnail or jpeg image from a video in Google Cloud Storage server-side with Java","body":"<p>Although the answer of @VonC is excellent, I would recommend you using the functionality provided by the <a href=\"https://cloud.google.com/transcoder/docs/concepts/overview\" rel=\"nofollow noreferrer\">Transcoder API</a> instead of a custom solution.</p>\n<p>Specifically the Transcoder API gives you the capability of <a href=\"https://cloud.google.com/transcoder/docs/how-to/generate-spritesheet\" rel=\"nofollow noreferrer\">generating a spritesheet of video frames</a>.</p>\n<p>As indicated in the documentation, you have two options for generating the thumbnails:</p>\n<blockquote>\n<p>You have two options for generating the spritesheet:</p>\n<ul>\n<li><a href=\"https://cloud.google.com/transcoder/docs/how-to/generate-spritesheet#generate_set_number_of_images\" rel=\"nofollow noreferrer\">Generate a set number of thumbnail images</a> distributed evenly across the\ninput video timeline.</li>\n<li><a href=\"https://cloud.google.com/transcoder/docs/how-to/generate-spritesheet#generate_image_periodically\" rel=\"nofollow noreferrer\">Generate a thumbnail image periodically</a>, that is, every n seconds, across\nthe input video timeline.</li>\n</ul>\n</blockquote>\n<p>The API provides SDK for different programing languages, <a href=\"https://cloud.google.com/transcoder/docs/how-to/generate-spritesheet#create-job-set-number-images-spritesheet-java\" rel=\"nofollow noreferrer\">Java</a> (<a href=\"https://cloud.google.com/transcoder/docs/how-to/generate-spritesheet#create-job-periodic-images-spritesheet-java\" rel=\"nofollow noreferrer\">2</a>) among them. <a href=\"https://cloud.google.com/transcoder/docs/samples/transcoder-create-job-with-set-number-images-spritesheet?hl=en#transcoder_create_job_with_set_number_images_spritesheet-java\" rel=\"nofollow noreferrer\">This related example</a> could be of help as well. For reference:</p>\n<pre class=\"lang-java prettyprint-override\"><code>\nimport com.google.cloud.video.transcoder.v1.AudioStream;\nimport com.google.cloud.video.transcoder.v1.CreateJobRequest;\nimport com.google.cloud.video.transcoder.v1.ElementaryStream;\nimport com.google.cloud.video.transcoder.v1.Input;\nimport com.google.cloud.video.transcoder.v1.Job;\nimport com.google.cloud.video.transcoder.v1.JobConfig;\nimport com.google.cloud.video.transcoder.v1.LocationName;\nimport com.google.cloud.video.transcoder.v1.MuxStream;\nimport com.google.cloud.video.transcoder.v1.Output;\nimport com.google.cloud.video.transcoder.v1.SpriteSheet;\nimport com.google.cloud.video.transcoder.v1.TranscoderServiceClient;\nimport com.google.cloud.video.transcoder.v1.VideoStream;\nimport java.io.IOException;\n\npublic class CreateJobWithSetNumberImagesSpritesheet {\n\n  public static final String smallSpritesheetFilePrefix = &quot;small-sprite-sheet&quot;;\n  public static final String largeSpritesheetFilePrefix = &quot;large-sprite-sheet&quot;;\n  public static final String spritesheetFileSuffix = &quot;0000000000.jpeg&quot;;\n\n  public static void main(String[] args) throws IOException {\n    // TODO(developer): Replace these variables before running the sample.\n    String projectId = &quot;my-project-id&quot;;\n    String location = &quot;us-central1&quot;;\n    String inputUri = &quot;gs://my-bucket/my-video-file&quot;;\n    String outputUri = &quot;gs://my-bucket/my-output-folder/&quot;;\n\n    createJobWithSetNumberImagesSpritesheet(projectId, location, inputUri, outputUri);\n  }\n\n  // Creates a job from an ad-hoc configuration and generates two spritesheets from the input video.\n  // Each spritesheet contains a set number of images.\n  public static void createJobWithSetNumberImagesSpritesheet(\n      String projectId, String location, String inputUri, String outputUri) throws IOException {\n    // Initialize client that will be used to send requests. This client only needs to be created\n    // once, and can be reused for multiple requests.\n    try (TranscoderServiceClient transcoderServiceClient = TranscoderServiceClient.create()) {\n\n      VideoStream videoStream0 =\n          VideoStream.newBuilder()\n              .setH264(\n                  VideoStream.H264CodecSettings.newBuilder()\n                      .setBitrateBps(550000)\n                      .setFrameRate(60)\n                      .setHeightPixels(360)\n                      .setWidthPixels(640))\n              .build();\n\n      AudioStream audioStream0 =\n          AudioStream.newBuilder().setCodec(&quot;aac&quot;).setBitrateBps(64000).build();\n\n      // Generates a 10x10 spritesheet of small images from the input video. To preserve the source\n      // aspect ratio, you should set the spriteWidthPixels field or the spriteHeightPixels\n      // field, but not both.\n      SpriteSheet smallSpriteSheet =\n          SpriteSheet.newBuilder()\n              .setFilePrefix(smallSpritesheetFilePrefix)\n              .setSpriteHeightPixels(32)\n              .setSpriteWidthPixels(64)\n              .setColumnCount(10)\n              .setRowCount(10)\n              .setTotalCount(100)\n              .build();\n\n      // Generates a 10x10 spritesheet of larger images from the input video.\n      SpriteSheet largeSpriteSheet =\n          SpriteSheet.newBuilder()\n              .setFilePrefix(largeSpritesheetFilePrefix)\n              .setSpriteHeightPixels(72)\n              .setSpriteWidthPixels(128)\n              .setColumnCount(10)\n              .setRowCount(10)\n              .setTotalCount(100)\n              .build();\n\n      JobConfig config =\n          JobConfig.newBuilder()\n              .addInputs(Input.newBuilder().setKey(&quot;input0&quot;).setUri(inputUri))\n              .setOutput(Output.newBuilder().setUri(outputUri))\n              .addElementaryStreams(\n                  ElementaryStream.newBuilder()\n                      .setKey(&quot;video_stream0&quot;)\n                      .setVideoStream(videoStream0))\n              .addElementaryStreams(\n                  ElementaryStream.newBuilder()\n                      .setKey(&quot;audio_stream0&quot;)\n                      .setAudioStream(audioStream0))\n              .addMuxStreams(\n                  MuxStream.newBuilder()\n                      .setKey(&quot;sd&quot;)\n                      .setContainer(&quot;mp4&quot;)\n                      .addElementaryStreams(&quot;video_stream0&quot;)\n                      .addElementaryStreams(&quot;audio_stream0&quot;)\n                      .build())\n              .addSpriteSheets(smallSpriteSheet) // Add the spritesheet config to the job config\n              .addSpriteSheets(largeSpriteSheet) // Add the spritesheet config to the job config\n              .build();\n\n      var createJobRequest =\n          CreateJobRequest.newBuilder()\n              .setJob(\n                  Job.newBuilder()\n                      .setInputUri(inputUri)\n                      .setOutputUri(outputUri)\n                      .setConfig(config)\n                      .build())\n              .setParent(LocationName.of(projectId, location).toString())\n              .build();\n\n      // Send the job creation request and process the response.\n      Job job = transcoderServiceClient.createJob(createJobRequest);\n      System.out.println(&quot;Job: &quot; + job.getName());\n    }\n  }\n}\n</code></pre>\n<p>The input of the transcoder Job is obtained from Cloud Storage.</p>\n<p>As a consequence, in order to start the transcoding process with this code probably the way to go could be defining a [Cloud Function that responds to the creation] - object finalize event - of a video](<a href=\"https://cloud.google.com/functions/docs/calling/storage\" rel=\"nofollow noreferrer\">https://cloud.google.com/functions/docs/calling/storage</a>).</p>\n<p>You can find an example of a function that handles this type of events in the <a href=\"https://cloud.google.com/functions/docs/tutorials/storage\" rel=\"nofollow noreferrer\">GCP documentation</a>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import com.google.cloud.functions.CloudEventsFunction;\nimport com.google.events.cloud.storage.v1.StorageObjectData;\nimport com.google.protobuf.InvalidProtocolBufferException;\nimport com.google.protobuf.util.JsonFormat;\nimport io.cloudevents.CloudEvent;\nimport java.nio.charset.StandardCharsets;\nimport java.util.logging.Logger;\n\npublic class HelloGcs implements CloudEventsFunction {\n  private static final Logger logger = Logger.getLogger(HelloGcs.class.getName());\n\n  @Override\n  public void accept(CloudEvent event) throws InvalidProtocolBufferException {\n    logger.info(&quot;Event: &quot; + event.getId());\n    logger.info(&quot;Event Type: &quot; + event.getType());\n\n    if (event.getData() == null) {\n      logger.warning(&quot;No data found in cloud event payload!&quot;);\n      return;\n    }\n\n    String cloudEventData = new String(event.getData().toBytes(), StandardCharsets.UTF_8);\n    StorageObjectData.Builder builder = StorageObjectData.newBuilder();\n    JsonFormat.parser().merge(cloudEventData, builder);\n    StorageObjectData data = builder.build();\n\n    logger.info(&quot;Bucket: &quot; + data.getBucket());\n    logger.info(&quot;File: &quot; + data.getName());\n    logger.info(&quot;Metageneration: &quot; + data.getMetageneration());\n    logger.info(&quot;Created: &quot; + data.getTimeCreated());\n    logger.info(&quot;Updated: &quot; + data.getUpdated());\n  }\n}\n</code></pre>\n<p>The final code in the function could be similar to this (forgive for any inaccuracy, I just try combining the two samples):</p>\n<pre class=\"lang-java prettyprint-override\"><code>import com.google.cloud.functions.CloudEventsFunction;\nimport com.google.events.cloud.storage.v1.StorageObjectData;\nimport com.google.protobuf.InvalidProtocolBufferException;\nimport com.google.protobuf.util.JsonFormat;\nimport io.cloudevents.CloudEvent;\nimport java.nio.charset.StandardCharsets;\nimport java.util.logging.Logger;\n\nimport com.google.cloud.video.transcoder.v1.AudioStream;\nimport com.google.cloud.video.transcoder.v1.CreateJobRequest;\nimport com.google.cloud.video.transcoder.v1.ElementaryStream;\nimport com.google.cloud.video.transcoder.v1.Input;\nimport com.google.cloud.video.transcoder.v1.Job;\nimport com.google.cloud.video.transcoder.v1.JobConfig;\nimport com.google.cloud.video.transcoder.v1.LocationName;\nimport com.google.cloud.video.transcoder.v1.MuxStream;\nimport com.google.cloud.video.transcoder.v1.Output;\nimport com.google.cloud.video.transcoder.v1.SpriteSheet;\nimport com.google.cloud.video.transcoder.v1.TranscoderServiceClient;\nimport com.google.cloud.video.transcoder.v1.VideoStream;\nimport java.io.IOException;\n\npublic class TranscodingFunction implements CloudEventsFunction {\n  private static final Logger logger = Logger.getLogger(HelloGcs.class.getName());\n\n  public static final String smallSpritesheetFilePrefix = &quot;small-sprite-sheet&quot;;\n  public static final String largeSpritesheetFilePrefix = &quot;large-sprite-sheet&quot;;\n  public static final String spritesheetFileSuffix = &quot;0000000000.jpeg&quot;;\n\n  String projectId = &quot;my-project-id&quot;;\n  String location = &quot;us-central1&quot;;\n\n  @Override\n  public void accept(CloudEvent event) throws InvalidProtocolBufferException {\n    logger.info(&quot;Event: &quot; + event.getId());\n    logger.info(&quot;Event Type: &quot; + event.getType());\n\n    if (event.getData() == null) {\n      logger.warning(&quot;No data found in cloud event payload!&quot;);\n      return;\n    }\n\n    String cloudEventData = new String(event.getData().toBytes(), StandardCharsets.UTF_8);\n    StorageObjectData.Builder builder = StorageObjectData.newBuilder();\n    JsonFormat.parser().merge(cloudEventData, builder);\n    StorageObjectData data = builder.build();\n\n    logger.info(&quot;Bucket: &quot; + data.getBucket());\n    logger.info(&quot;File: &quot; + data.getName());\n    logger.info(&quot;Metageneration: &quot; + data.getMetageneration());\n    logger.info(&quot;Created: &quot; + data.getTimeCreated());\n    logger.info(&quot;Updated: &quot; + data.getUpdated());\n\n    String inputUri = data.getBucket() + data.getName();\n    String outputUri = &quot;gs://my-bucket/my-output-folder/&quot;;\n\n    // Initialize client that will be used to send requests. This client only needs to be created\n    // once, and can be reused for multiple requests.\n    try (TranscoderServiceClient transcoderServiceClient = TranscoderServiceClient.create()) {\n\n      VideoStream videoStream0 =\n          VideoStream.newBuilder()\n              .setH264(\n                  VideoStream.H264CodecSettings.newBuilder()\n                      .setBitrateBps(550000)\n                      .setFrameRate(60)\n                      .setHeightPixels(360)\n                      .setWidthPixels(640))\n              .build();\n\n      AudioStream audioStream0 =\n          AudioStream.newBuilder().setCodec(&quot;aac&quot;).setBitrateBps(64000).build();\n\n      // Generates a 10x10 spritesheet of small images from the input video. To preserve the source\n      // aspect ratio, you should set the spriteWidthPixels field or the spriteHeightPixels\n      // field, but not both.\n      SpriteSheet smallSpriteSheet =\n          SpriteSheet.newBuilder()\n              .setFilePrefix(smallSpritesheetFilePrefix)\n              .setSpriteHeightPixels(32)\n              .setSpriteWidthPixels(64)\n              .setColumnCount(10)\n              .setRowCount(10)\n              .setTotalCount(100)\n              .build();\n\n      // Generates a 10x10 spritesheet of larger images from the input video.\n      SpriteSheet largeSpriteSheet =\n          SpriteSheet.newBuilder()\n              .setFilePrefix(largeSpritesheetFilePrefix)\n              .setSpriteHeightPixels(72)\n              .setSpriteWidthPixels(128)\n              .setColumnCount(10)\n              .setRowCount(10)\n              .setTotalCount(100)\n              .build();\n\n      JobConfig config =\n          JobConfig.newBuilder()\n              .addInputs(Input.newBuilder().setKey(&quot;input0&quot;).setUri(inputUri))\n              .setOutput(Output.newBuilder().setUri(outputUri))\n              .addElementaryStreams(\n                  ElementaryStream.newBuilder()\n                      .setKey(&quot;video_stream0&quot;)\n                      .setVideoStream(videoStream0))\n              .addElementaryStreams(\n                  ElementaryStream.newBuilder()\n                      .setKey(&quot;audio_stream0&quot;)\n                      .setAudioStream(audioStream0))\n              .addMuxStreams(\n                  MuxStream.newBuilder()\n                      .setKey(&quot;sd&quot;)\n                      .setContainer(&quot;mp4&quot;)\n                      .addElementaryStreams(&quot;video_stream0&quot;)\n                      .addElementaryStreams(&quot;audio_stream0&quot;)\n                      .build())\n              .addSpriteSheets(smallSpriteSheet) // Add the spritesheet config to the job config\n              .addSpriteSheets(largeSpriteSheet) // Add the spritesheet config to the job config\n              .build();\n\n      var createJobRequest =\n          CreateJobRequest.newBuilder()\n              .setJob(\n                  Job.newBuilder()\n                      .setInputUri(inputUri)\n                      .setOutputUri(outputUri)\n                      .setConfig(config)\n                      .build())\n              .setParent(LocationName.of(projectId, location).toString())\n              .build();\n\n      // Send the job creation request and process the response.\n      Job job = transcoderServiceClient.createJob(createJobRequest);\n      System.out.println(&quot;Job: &quot; + job.getName());\n    }\n  }\n}\n</code></pre>\n<p>The event trigger and the function should be properly configured.</p>\n<p>Please, note that the transcoding job is asynchronous, you may need some additional work to read the results.</p>\n<p>Although probably more complex, but based in this idea, <a href=\"https://medium.com/google-cloud/automate-your-vod-transcoding-at-scale-with-gcp-part-1-87503fdd3a9f\" rel=\"nofollow noreferrer\">this blog post</a> and the <a href=\"https://medium.com/google-cloud/automate-your-vod-transcoding-at-scale-with-gcp-part-2-b1da0e57823d\" rel=\"nofollow noreferrer\">companion one</a> could be of help.</p>\n"}],"owner":{"account_id":3147269,"reputation":10469,"user_id":3075340,"accept_rate":70,"display_name":"Micro"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":884,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"accepted_answer_id":76649875,"answer_count":2,"score":2,"last_activity_date":1689342772,"creation_date":1559096310,"question_id":56352239,"body_markdown":"How do you take a video from Google Cloud Storage and generate a jpeg image from one of its frames? \r\n\r\nThe frame can be used as a thumbnail for the video. Or by getting frames at periodic times that can be used to make preview frames when scrubbing the video.\r\n\r\nI like to do this with Java server-side (on Google App Engine). This is the code I can use to get the Blob of the video in Google Cloud Storage. What are my options after I do that?\r\n\r\n    Storage storage = StorageOptions.getDefaultInstance().getService();\r\n    BlobId blobId = BlobId.of(BUCKET, OBJECT_NAME);\r\n    Blob blob = storage.get(blobId);\r\n\r\nI&#39;m looking for a fast and lightweight solution because this will be run server-side in Google App Engine.","title":"How to create thumbnail or jpeg image from a video in Google Cloud Storage server-side with Java","body":"<p>How do you take a video from Google Cloud Storage and generate a jpeg image from one of its frames?</p>\n<p>The frame can be used as a thumbnail for the video. Or by getting frames at periodic times that can be used to make preview frames when scrubbing the video.</p>\n<p>I like to do this with Java server-side (on Google App Engine). This is the code I can use to get the Blob of the video in Google Cloud Storage. What are my options after I do that?</p>\n<pre><code>Storage storage = StorageOptions.getDefaultInstance().getService();\nBlobId blobId = BlobId.of(BUCKET, OBJECT_NAME);\nBlob blob = storage.get(blobId);\n</code></pre>\n<p>I'm looking for a fast and lightweight solution because this will be run server-side in Google App Engine.</p>\n"},{"tags":["java","android","wear-os"],"comments":[{"owner":{"account_id":22687542,"reputation":271,"user_id":16856898,"display_name":"RatherBeSailing"},"score":0,"creation_date":1689643749,"post_id":74393038,"comment_id":135239565,"body_markdown":"did you manage to get this working? I have added focusable = FOCUSABLE and called requestFocus() (multiple times) but no events are reported by the GenericMotionListener when attached to a TextView (works perfectly when linked to a separate RecyclerView)","body":"did you manage to get this working? I have added focusable = FOCUSABLE and called requestFocus() (multiple times) but no events are reported by the GenericMotionListener when attached to a TextView (works perfectly when linked to a separate RecyclerView)"}],"answers":[{"comments":[{"owner":{"account_id":17423183,"reputation":390,"user_id":12628376,"display_name":"MaxK123"},"score":0,"creation_date":1668196875,"post_id":74402525,"comment_id":131355363,"body_markdown":"I have now updated the main post :)","body":"I have now updated the main post :)"}],"tags":[],"owner":{"account_id":1481915,"reputation":12601,"user_id":1542667,"accept_rate":75,"display_name":"Yuri Schimke"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1668197235,"creation_date":1668169739,"answer_id":74402525,"question_id":74393038,"body_markdown":"Docs here\r\n\r\nhttps://developer.android.com/training/wearables/user-input/rotary-input#custom-scrolling\r\n\r\nLikely issue is focus\r\n\r\n&gt; Remember to make sure your view gains focus, otherwise the events will not come through. \r\n\r\nhttps://developer.android.com/training/wearables/user-input/rotary-input#custom-scrolling\r\n\r\n&gt; By default, launching an activity or even tapping on a view does not give it focus, even if it is focusable. To give your view focus, the view must use the &lt;requestFocus /&gt; tag or manually call View.requestFocus(). ","title":"WearOS onGenericMotionListener not called","body":"<p>Docs here</p>\n<p><a href=\"https://developer.android.com/training/wearables/user-input/rotary-input#custom-scrolling\" rel=\"nofollow noreferrer\">https://developer.android.com/training/wearables/user-input/rotary-input#custom-scrolling</a></p>\n<p>Likely issue is focus</p>\n<blockquote>\n<p>Remember to make sure your view gains focus, otherwise the events will not come through.</p>\n</blockquote>\n<p><a href=\"https://developer.android.com/training/wearables/user-input/rotary-input#custom-scrolling\" rel=\"nofollow noreferrer\">https://developer.android.com/training/wearables/user-input/rotary-input#custom-scrolling</a></p>\n<blockquote>\n<p>By default, launching an activity or even tapping on a view does not give it focus, even if it is focusable. To give your view focus, the view must use the  tag or manually call View.requestFocus().</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":12087915,"reputation":1,"user_id":8835685,"display_name":"Suresh Kumar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689342560,"creation_date":1689072743,"answer_id":76661236,"question_id":74393038,"body_markdown":"For example, if you are going to use for `Recyclerview`.\r\n\r\nAdd the following attribute to your `recyclerview` XML tag.\r\n```xml\r\nfocusable=&quot;true&quot;\r\nfocusableInTouchMode=&quot;true&quot;\r\n```\r\n\r\nThen try `setOnGenericMotionListener`, and it will work.","title":"WearOS onGenericMotionListener not called","body":"<p>For example, if you are going to use for <code>Recyclerview</code>.</p>\n<p>Add the following attribute to your <code>recyclerview</code> XML tag.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>focusable=&quot;true&quot;\nfocusableInTouchMode=&quot;true&quot;\n</code></pre>\n<p>Then try <code>setOnGenericMotionListener</code>, and it will work.</p>\n"}],"owner":{"account_id":17423183,"reputation":390,"user_id":12628376,"display_name":"MaxK123"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":150,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1689342560,"creation_date":1668101096,"question_id":74393038,"body_markdown":"I am trying to catch the action when I rotate my bezel on my Samsung Galaxy Watch 4, but it never &quot;runs&quot;.\r\n\r\nHere is my code:\r\n\r\n    findViewById(R.id.Badtunna).setOnGenericMotionListener(new View.OnGenericMotionListener() {\r\n            @Override\r\n            public boolean onGenericMotion(View view, MotionEvent motionEvent) {\r\n                System.out.println(&quot;GUM&quot;);\r\n                if(motionEvent.getAction() == MotionEvent.ACTION_SCROLL &amp;&amp;\r\n                motionEvent.isFromSource(InputDeviceCompat.SOURCE_ROTARY_ENCODER)) {\r\n                    System.out.println(&quot;BUBBEL&quot;);\r\n\r\n                    return true;\r\n                }\r\n                return false;\r\n            }\r\n        });\r\n\r\nMy view is a normal TextView:\r\n\r\n    &lt;TextView\r\n                android:id=&quot;@+id/Badtunna&quot;\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:text=&quot;Badtunna&quot; /&gt;\r\n\r\nHere is my onCreate() in MainActivity\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n\r\n        binding = ActivityMainBinding.inflate(getLayoutInflater());\r\n        setContentView(binding.getRoot());\r\n\r\n        StrictMode.ThreadPolicy policy = new\r\n        StrictMode.ThreadPolicy.Builder().permitAll().build();\r\n        StrictMode.setThreadPolicy(policy);\r\n\r\n        // Add all the domoticz devices\r\n        domoticz_devices.put(766, &quot;idx_766&quot;);\r\n        domoticz_devices.put(17, &quot;idx_17&quot;);\r\n\r\n        findViewById(R.id.Skymningssensor).requestFocus();\r\n\r\n        findViewById(R.id.Skymningssensor).setOnGenericMotionListener(new View.OnGenericMotionListener() {\r\n            @Override\r\n            public boolean onGenericMotion(View view, MotionEvent motionEvent) {\r\n                System.out.println(&quot;GUM&quot;);\r\n                if(motionEvent.getAction() == MotionEvent.ACTION_SCROLL &amp;&amp;\r\n                        motionEvent.isFromSource(InputDeviceCompat.SOURCE_ROTARY_ENCODER)) {\r\n                    System.out.println(&quot;BUBBEL&quot;);\r\n\r\n                    return true;\r\n                }\r\n                return false;\r\n            }\r\n        });\r\n\r\n        TextView idx_17_button = findViewById(R.id.idx_17);\r\n        idx_17_button.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                try {\r\n                    toggleDomoticzDevice(17, &quot;idx_17&quot;);\r\n                } catch (IOException e) {\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n        });\r\n\r\n        TextView idx_657_button = findViewById(R.id.idx_657);\r\n        idx_657_button.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                try {\r\n                    toggleDomoticzDevice(657, &quot;idx_657&quot;);\r\n                } catch (IOException e) {\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n        });\r\n\r\n\r\n        handler.postDelayed(new Runnable() {\r\n            @Override\r\n            public void run() {\r\n                for (Integer i : domoticz_devices.keySet()) {\r\n                    getDomoticzDeviceAndSetTextview(i, domoticz_devices.get(i));\r\n                }\r\n                handler.postDelayed(this, delay);\r\n            }\r\n        }, delay);\r\n    }\r\n\r\nWhen focus is &quot;working&quot; should the keyboard pop up?\r\nI have also updated my TextView and added focusable:true and focusableintouchmode:true\r\n\r\nThanks in advance!\r\n\r\nBest regards Max","title":"WearOS onGenericMotionListener not called","body":"<p>I am trying to catch the action when I rotate my bezel on my Samsung Galaxy Watch 4, but it never &quot;runs&quot;.</p>\n<p>Here is my code:</p>\n<pre><code>findViewById(R.id.Badtunna).setOnGenericMotionListener(new View.OnGenericMotionListener() {\n        @Override\n        public boolean onGenericMotion(View view, MotionEvent motionEvent) {\n            System.out.println(&quot;GUM&quot;);\n            if(motionEvent.getAction() == MotionEvent.ACTION_SCROLL &amp;&amp;\n            motionEvent.isFromSource(InputDeviceCompat.SOURCE_ROTARY_ENCODER)) {\n                System.out.println(&quot;BUBBEL&quot;);\n\n                return true;\n            }\n            return false;\n        }\n    });\n</code></pre>\n<p>My view is a normal TextView:</p>\n<pre><code>&lt;TextView\n            android:id=&quot;@+id/Badtunna&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:text=&quot;Badtunna&quot; /&gt;\n</code></pre>\n<p>Here is my onCreate() in MainActivity</p>\n<pre><code>@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n\n    binding = ActivityMainBinding.inflate(getLayoutInflater());\n    setContentView(binding.getRoot());\n\n    StrictMode.ThreadPolicy policy = new\n    StrictMode.ThreadPolicy.Builder().permitAll().build();\n    StrictMode.setThreadPolicy(policy);\n\n    // Add all the domoticz devices\n    domoticz_devices.put(766, &quot;idx_766&quot;);\n    domoticz_devices.put(17, &quot;idx_17&quot;);\n\n    findViewById(R.id.Skymningssensor).requestFocus();\n\n    findViewById(R.id.Skymningssensor).setOnGenericMotionListener(new View.OnGenericMotionListener() {\n        @Override\n        public boolean onGenericMotion(View view, MotionEvent motionEvent) {\n            System.out.println(&quot;GUM&quot;);\n            if(motionEvent.getAction() == MotionEvent.ACTION_SCROLL &amp;&amp;\n                    motionEvent.isFromSource(InputDeviceCompat.SOURCE_ROTARY_ENCODER)) {\n                System.out.println(&quot;BUBBEL&quot;);\n\n                return true;\n            }\n            return false;\n        }\n    });\n\n    TextView idx_17_button = findViewById(R.id.idx_17);\n    idx_17_button.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View view) {\n            try {\n                toggleDomoticzDevice(17, &quot;idx_17&quot;);\n            } catch (IOException e) {\n                e.printStackTrace();\n            }\n        }\n    });\n\n    TextView idx_657_button = findViewById(R.id.idx_657);\n    idx_657_button.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View view) {\n            try {\n                toggleDomoticzDevice(657, &quot;idx_657&quot;);\n            } catch (IOException e) {\n                e.printStackTrace();\n            }\n        }\n    });\n\n\n    handler.postDelayed(new Runnable() {\n        @Override\n        public void run() {\n            for (Integer i : domoticz_devices.keySet()) {\n                getDomoticzDeviceAndSetTextview(i, domoticz_devices.get(i));\n            }\n            handler.postDelayed(this, delay);\n        }\n    }, delay);\n}\n</code></pre>\n<p>When focus is &quot;working&quot; should the keyboard pop up?\nI have also updated my TextView and added focusable:true and focusableintouchmode:true</p>\n<p>Thanks in advance!</p>\n<p>Best regards Max</p>\n"},{"tags":["java","docker","maven"],"comments":[{"owner":{"account_id":22394789,"reputation":1382,"user_id":16606223,"display_name":"Yahor Barkouski"},"score":0,"creation_date":1689179327,"post_id":76672679,"comment_id":135177906,"body_markdown":"Looks similar too: https://stackoverflow.com/questions/138511/what-are-java-command-line-options-to-set-to-allow-jvm-to-be-remotely-debugged, please consider using `address=*:8000` instead, and please check that port 8000 is not already being used by another service","body":"Looks similar too: <a href=\"https://stackoverflow.com/questions/138511/what-are-java-command-line-options-to-set-to-allow-jvm-to-be-remotely-debugged\" title=\"what are java command line options to set to allow jvm to be remotely debugged\">stackoverflow.com/questions/138511/&hellip;</a>, please consider using <code>address=*:8000</code> instead, and please check that port 8000 is not already being used by another service"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1689233770,"post_id":76672679,"comment_id":135185040,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":24522084,"reputation":1,"user_id":18434972,"display_name":"user18434972"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689342452,"creation_date":1689179158,"question_id":76672679,"body_markdown":"\r\nThe host is set to `localhost` and the port is set to `8000`.\r\n\r\nCommand line arguments: \r\n`-agentlib:jdwp=transport=dt_socket,server=y,suspend=n,address=8000`\r\n\r\nTrying to debug my application. Tried setting the port to 5000 and 8983 and got the `&#39;connection refused&#39; error. command line arguments is not editable`.  Here is the screenshot  \r\n\r\nDoes anyone know how to resolve this?","title":"Error running &#39;application&#39;: Unable to open debugger port (localhost:8000): java.io.IOException &quot;handshake failed - connection prematurally closed","body":"<p>The host is set to <code>localhost</code> and the port is set to <code>8000</code>.</p>\n<p>Command line arguments:\n<code>-agentlib:jdwp=transport=dt_socket,server=y,suspend=n,address=8000</code></p>\n<p>Trying to debug my application. Tried setting the port to 5000 and 8983 and got the <code>'connection refused' error. command line arguments is not editable</code>.  Here is the screenshot</p>\n<p>Does anyone know how to resolve this?</p>\n"},{"tags":["java","overriding","covariance","contravariance","generic-variance"],"owner":{"account_id":4816487,"reputation":4550,"user_id":3888450,"accept_rate":89,"display_name":"Stefan Dollase"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1689340954,"answer_count":0,"score":1,"last_activity_date":1689342393,"creation_date":1689339648,"question_id":76687940,"body_markdown":"In the following code example the compiler does not allow me to override the method `f`.\r\n\r\n```java\r\npublic class A {}\r\npublic class B extends A {}\r\n\r\npublic class X {\r\n    public void f(Consumer&lt;? super A&gt; consumer) {\r\n        consumer.accept(new A());\r\n    }\r\n}\r\n\r\npublic class Y extends X {\r\n    @Override                                        // this is line 14\r\n    public void f(Consumer&lt;? super B&gt; consumer) {    // this is line 15\r\n        consumer.accept(new B());\r\n    }\r\n}\r\n\r\npublic static void main(String[] args) {\r\n    X x = new X();\r\n    Y y = new Y();\r\n    X xy = new Y();\r\n\r\n    Consumer&lt;A&gt; ca = (A a) -&gt; {};\r\n    Consumer&lt;B&gt; cb = (B a) -&gt; {};\r\n\r\n    x.f(ca);     // (1) Consumer takes A and B and is called with A.\r\n    // x.f(cb);  // (2) Consumer only takes  B but would be called with A, which is a type error.\r\n\r\n    y.f(ca);     // (3) Consumer takes A and B and is called with B.\r\n    y.f(cb);     // (4) Consumer only takes  B and is called with B.\r\n\r\n    xy.f(ca);    // (5) Consumer takes A and B and is called with B.\r\n    // xy.f(cb); // (6) Consumer only takes  B and would be called with B, which is not a type error but since xy has the compile type X this is not allowed.\r\n}\r\n```\r\n\r\nIt produces the following error messages.\r\n\r\n```\r\nTesting.java:15: error: name clash: f(Consumer&lt;? super B&gt;) in Y and f(Consumer&lt;? super A&gt;) in X have the same erasure, yet neither overrides the other\r\n\t\t    public void f(Consumer&lt;? super B&gt; consumer) {\r\n\t\t                ^\r\nTesting.java:14: error: method does not override or implement a method from a supertype\r\n\t\t    @Override\r\n\t\t    ^\r\n2 errors\r\n```\r\n\r\nI mapped out all relevant cases in the bottom. Only the cases (2) and (6) produce compiler errors and these errors are irrelevant for me. The case that I need to work is case (5), where I can provide a `Consumer&lt;A&gt;` to a `Y` that is stored in an `X`.\r\n\r\nIn my understanding the example should not only work at runtime, but it should also type check at compile time. Let&#39;s use the notation `A &gt;= B` if `A` is a super type of `B`.\r\n\r\nBecause we have `A &gt;= B` and `? super` is contravariant, we get `Consumer&lt;? super B&gt; &gt;= Consumer&lt;? super A&gt;`.\r\n\r\nSince method parameters are also contravariant, we get `f(Consumer&lt;? super A&gt;) &gt;= f(Consumer&lt;? super B&gt;)` and thus it should be possible to override `f(Consumer&lt;? super A&gt;)` with `f(Consumer&lt;? super B&gt;)`.\r\n\r\nIs this not possible in Java, or is there some other way to write it down such that the compiler accepts it?\r\n\r\n---\r\n\r\nFrom the marked duplicate I understand that my second step in the argument above is not valid, since in Java method parameters are not contravariant when it comes to overriding. I also found the following workaround.\r\n\r\n```java\r\npublic class Y extends X {\r\n    @Override\r\n    public void f(Consumer&lt;? super A&gt; consumer) {\r\n        ff(consumer);\r\n    }\r\n\r\n    public void ff(Consumer&lt;? super B&gt; consumer) {\r\n        consumer.accept(new B());\r\n    }\r\n}\r\n```\r\n\r\nIn this way, the calls can be adjusted like this.\r\n\r\n```java\r\n    x.f(ca);     // (1) Consumer takes A and B and is called with A.\r\n    // x.f(cb);  // (2) Consumer only takes  B but would be called with A, which is a type error.\r\n\r\n    y.ff(ca);    // (3) Consumer takes A and B and is called with B.\r\n    y.ff(cb);    // (4) Consumer only takes  B and is called with B.\r\n\r\n    xy.f(ca);    // (5) Consumer takes A and B and is called with B.\r\n    // xy.f(cb); // (6) Consumer only takes  B and would be called with B, which is not a type error but since xy has the compile type X this is not allowed.\r\n```","title":"Java Covariant Override of Method with Contravariant Consumer as a Parameter","body":"<p>In the following code example the compiler does not allow me to override the method <code>f</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class A {}\npublic class B extends A {}\n\npublic class X {\n    public void f(Consumer&lt;? super A&gt; consumer) {\n        consumer.accept(new A());\n    }\n}\n\npublic class Y extends X {\n    @Override                                        // this is line 14\n    public void f(Consumer&lt;? super B&gt; consumer) {    // this is line 15\n        consumer.accept(new B());\n    }\n}\n\npublic static void main(String[] args) {\n    X x = new X();\n    Y y = new Y();\n    X xy = new Y();\n\n    Consumer&lt;A&gt; ca = (A a) -&gt; {};\n    Consumer&lt;B&gt; cb = (B a) -&gt; {};\n\n    x.f(ca);     // (1) Consumer takes A and B and is called with A.\n    // x.f(cb);  // (2) Consumer only takes  B but would be called with A, which is a type error.\n\n    y.f(ca);     // (3) Consumer takes A and B and is called with B.\n    y.f(cb);     // (4) Consumer only takes  B and is called with B.\n\n    xy.f(ca);    // (5) Consumer takes A and B and is called with B.\n    // xy.f(cb); // (6) Consumer only takes  B and would be called with B, which is not a type error but since xy has the compile type X this is not allowed.\n}\n</code></pre>\n<p>It produces the following error messages.</p>\n<pre><code>Testing.java:15: error: name clash: f(Consumer&lt;? super B&gt;) in Y and f(Consumer&lt;? super A&gt;) in X have the same erasure, yet neither overrides the other\n            public void f(Consumer&lt;? super B&gt; consumer) {\n                        ^\nTesting.java:14: error: method does not override or implement a method from a supertype\n            @Override\n            ^\n2 errors\n</code></pre>\n<p>I mapped out all relevant cases in the bottom. Only the cases (2) and (6) produce compiler errors and these errors are irrelevant for me. The case that I need to work is case (5), where I can provide a <code>Consumer&lt;A&gt;</code> to a <code>Y</code> that is stored in an <code>X</code>.</p>\n<p>In my understanding the example should not only work at runtime, but it should also type check at compile time. Let's use the notation <code>A &gt;= B</code> if <code>A</code> is a super type of <code>B</code>.</p>\n<p>Because we have <code>A &gt;= B</code> and <code>? super</code> is contravariant, we get <code>Consumer&lt;? super B&gt; &gt;= Consumer&lt;? super A&gt;</code>.</p>\n<p>Since method parameters are also contravariant, we get <code>f(Consumer&lt;? super A&gt;) &gt;= f(Consumer&lt;? super B&gt;)</code> and thus it should be possible to override <code>f(Consumer&lt;? super A&gt;)</code> with <code>f(Consumer&lt;? super B&gt;)</code>.</p>\n<p>Is this not possible in Java, or is there some other way to write it down such that the compiler accepts it?</p>\n<hr />\n<p>From the marked duplicate I understand that my second step in the argument above is not valid, since in Java method parameters are not contravariant when it comes to overriding. I also found the following workaround.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Y extends X {\n    @Override\n    public void f(Consumer&lt;? super A&gt; consumer) {\n        ff(consumer);\n    }\n\n    public void ff(Consumer&lt;? super B&gt; consumer) {\n        consumer.accept(new B());\n    }\n}\n</code></pre>\n<p>In this way, the calls can be adjusted like this.</p>\n<pre class=\"lang-java prettyprint-override\"><code>    x.f(ca);     // (1) Consumer takes A and B and is called with A.\n    // x.f(cb);  // (2) Consumer only takes  B but would be called with A, which is a type error.\n\n    y.ff(ca);    // (3) Consumer takes A and B and is called with B.\n    y.ff(cb);    // (4) Consumer only takes  B and is called with B.\n\n    xy.f(ca);    // (5) Consumer takes A and B and is called with B.\n    // xy.f(cb); // (6) Consumer only takes  B and would be called with B, which is not a type error but since xy has the compile type X this is not allowed.\n</code></pre>\n"},{"tags":["java","xml","xsd","maven-jaxb2-plugin","iab"],"answers":[{"comments":[{"owner":{"account_id":2270024,"reputation":1657,"user_id":1997707,"accept_rate":80,"display_name":"John Mercier"},"score":0,"creation_date":1689172014,"post_id":76666233,"comment_id":135176180,"body_markdown":"Thanks for the help I will try it out. The draft file is actually the official file for this version. The IAB people are just weird like that.","body":"Thanks for the help I will try it out. The draft file is actually the official file for this version. The IAB people are just weird like that."},{"owner":{"account_id":2270024,"reputation":1657,"user_id":1997707,"accept_rate":80,"display_name":"John Mercier"},"score":0,"creation_date":1689172507,"post_id":76666233,"comment_id":135176303,"body_markdown":"This actually causes a new error\n\n`[ERROR] Error while parsing schema(s).Location [ file:/projects/generate-vmap-example/src/main/resources/vast3_draft.xsd{21,118}].\norg.xml.sax.SAXParseException: src-resolve: Cannot resolve the name &#39;AdSystem_type&#39; to a(n) &#39;type definition&#39; component.` I know vast3_draft.xml works on its own to generate classes.","body":"This actually causes a new error  <code>[ERROR] Error while parsing schema(s).Location [ file:&#47;projects&#47;generate-vmap-example&#47;src&#47;main&#47;resources&#47;vast&zwnj;&#8203;3_draft.xsd{21,118}]&zwnj;&#8203;. org.xml.sax.SAXParseException: src-resolve: Cannot resolve the name &#39;AdSystem_type&#39; to a(n) &#39;type definition&#39; component.</code> I know vast3_draft.xml works on its own to generate classes."},{"owner":{"account_id":2270024,"reputation":1657,"user_id":1997707,"accept_rate":80,"display_name":"John Mercier"},"score":0,"creation_date":1689210645,"post_id":76666233,"comment_id":135182423,"body_markdown":"I also added the xmlns attribute and got `SAXParseException: A class/interface with the same name &quot;com.github.moaxcp.vast.vmap.ExtensionsType&quot; is already in use. Use a class customization to resolve this conflict.`","body":"I also added the xmlns attribute and got <code>SAXParseException: A class&#47;interface with the same name &quot;com.github.moaxcp.vast.vmap.ExtensionsType&quot; is already in use. Use a class customization to resolve this conflict.</code>"},{"owner":{"account_id":1462390,"reputation":759,"user_id":1376318,"display_name":"mamift"},"score":0,"creation_date":1689214990,"post_id":76666233,"comment_id":135182785,"body_markdown":"@JohnMercier Can you update the github project so I can see for myself the changes you made?","body":"@JohnMercier Can you update the github project so I can see for myself the changes you made?"},{"owner":{"account_id":2270024,"reputation":1657,"user_id":1997707,"accept_rate":80,"display_name":"John Mercier"},"score":0,"creation_date":1689266071,"post_id":76666233,"comment_id":135192636,"body_markdown":"Yes it is updated","body":"Yes it is updated"}],"tags":[],"owner":{"account_id":1462390,"reputation":759,"user_id":1376318,"display_name":"mamift"},"comment_count":5,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689342315,"creation_date":1689115930,"answer_id":76666233,"question_id":76663645,"body_markdown":"In the **vast3_draft.xsd** file, if you add these attributs to the root `xsd:schema` element:\r\n\r\n* xmlns=&quot;http://www.iab.net/videosuite/vast&quot;\r\n* targetNamespace=&quot;http://www.iab.net/videosuite/vast&quot;\r\n\r\nSo it becomes this:\r\n\r\n```XML\r\n&lt;xs:schema xmlns:xs=&quot;http://www.w3.org/2001/XMLSchema&quot; elementFormDefault=&quot;qualified&quot; \r\n    attributeFormDefault=&quot;unqualified&quot; xmlns=&quot;http://www.iab.net/videosuite/vast&quot; targetNamespace=&quot;http://www.iab.net/videosuite/vast&quot;&gt;\r\n```\r\n\r\nThen the **vmap.xsd** should properly parse when class generation occurs again. \r\n\r\nThe reason for this error is because in the **vmap.xsd** schema, it&#39;s importing **vast3_draft.xsd** using the `targetNamespace` value of `http://www.iab.net/videosuite/vast` and that namespace isn&#39;t anywhere in the **vast3_draft.xsd** schema. An `xs:import` element always requires a `targetNamespace` attribute, so the imported schema needs this as well.\r\n\r\nI&#39;m guessing because it has the word &#39;draft&#39; in the file name, the schema itself might not be complete. If you get a new updated version of the schema you&#39;ll have to edit the schema file again if it still doesn&#39;t have the above attributes in the `xs:schema` element.","title":"Cannot generate VMAP classes from xsd","body":"<p>In the <strong>vast3_draft.xsd</strong> file, if you add these attributs to the root <code>xsd:schema</code> element:</p>\n<ul>\n<li>xmlns=&quot;http://www.iab.net/videosuite/vast&quot;</li>\n<li>targetNamespace=&quot;http://www.iab.net/videosuite/vast&quot;</li>\n</ul>\n<p>So it becomes this:</p>\n<pre><code>&lt;xs:schema xmlns:xs=&quot;http://www.w3.org/2001/XMLSchema&quot; elementFormDefault=&quot;qualified&quot; \n    attributeFormDefault=&quot;unqualified&quot; xmlns=&quot;http://www.iab.net/videosuite/vast&quot; targetNamespace=&quot;http://www.iab.net/videosuite/vast&quot;&gt;\n</code></pre>\n<p>Then the <strong>vmap.xsd</strong> should properly parse when class generation occurs again.</p>\n<p>The reason for this error is because in the <strong>vmap.xsd</strong> schema, it's importing <strong>vast3_draft.xsd</strong> using the <code>targetNamespace</code> value of <code>http://www.iab.net/videosuite/vast</code> and that namespace isn't anywhere in the <strong>vast3_draft.xsd</strong> schema. An <code>xs:import</code> element always requires a <code>targetNamespace</code> attribute, so the imported schema needs this as well.</p>\n<p>I'm guessing because it has the word 'draft' in the file name, the schema itself might not be complete. If you get a new updated version of the schema you'll have to edit the schema file again if it still doesn't have the above attributes in the <code>xs:schema</code> element.</p>\n"}],"owner":{"account_id":2270024,"reputation":1657,"user_id":1997707,"accept_rate":80,"display_name":"John Mercier"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1689342315,"creation_date":1689089841,"question_id":76663645,"body_markdown":"I started a [project](https://github.com/moaxcp/generate-vmap-example) on github using maven-jaxb2-plugin to generate VMAP classes from the [vmap xsd](https://github.com/InteractiveAdvertisingBureau/vmap/blob/master/xsd/vmap.xsd).\r\n\r\nThe problem I am running into appears to be an issue with the xsd itself.\r\n\r\n```\r\n[ERROR] Error while parsing schema(s).Location [ file:/projects/generate-vmap-example/src/main/resources/vmap.xsd{144,70}].\r\norg.xml.sax.SAXParseException: src-resolve: Cannot resolve the name &#39;vast:VAST&#39; to a(n) &#39;element declaration&#39; component.\r\n```\r\n\r\nEverything seems to be setup correctly. vmap.xsd declares the vast namespace and imports the vast xsd.\r\n\r\n```\r\n&lt;xs:schema xmlns:xs=&quot;http://www.w3.org/2001/XMLSchema&quot; xmlns:vmap=&quot;http://www.iab.net/videosuite/vmap&quot; xmlns:vast=&quot;http://www.iab.net/videosuite/vast&quot; targetNamespace=&quot;http://www.iab.net/videosuite/vmap&quot; attributeFormDefault=&quot;unqualified&quot; elementFormDefault=&quot;qualified&quot; version=&quot;1.0&quot;&gt;\r\n    &lt;xs:import namespace=&quot;http://www.iab.net/videosuite/vast&quot; schemaLocation=&quot;vast3_draft.xsd&quot;/&gt;\r\n```\r\n\r\nThe VAST element is used here.\r\n\r\n```\r\n    &lt;xs:complexType name=&quot;VASTAdData_type&quot;&gt;\r\n        &lt;xs:sequence&gt;\r\n            &lt;xs:element ref=&quot;vast:VAST&quot; minOccurs=&quot;1&quot; maxOccurs=&quot;1&quot;/&gt;\r\n        &lt;/xs:sequence&gt;\r\n    &lt;/xs:complexType&gt;\r\n```\r\n\r\nShould the vmap xsd be modified for this to work? Why can&#39;t it find the VAST element?\r\n\r\nYou can view the full project [here](https://github.com/moaxcp/generate-vmap-example).","title":"Cannot generate VMAP classes from xsd","body":"<p>I started a <a href=\"https://github.com/moaxcp/generate-vmap-example\" rel=\"nofollow noreferrer\">project</a> on github using maven-jaxb2-plugin to generate VMAP classes from the <a href=\"https://github.com/InteractiveAdvertisingBureau/vmap/blob/master/xsd/vmap.xsd\" rel=\"nofollow noreferrer\">vmap xsd</a>.</p>\n<p>The problem I am running into appears to be an issue with the xsd itself.</p>\n<pre><code>[ERROR] Error while parsing schema(s).Location [ file:/projects/generate-vmap-example/src/main/resources/vmap.xsd{144,70}].\norg.xml.sax.SAXParseException: src-resolve: Cannot resolve the name 'vast:VAST' to a(n) 'element declaration' component.\n</code></pre>\n<p>Everything seems to be setup correctly. vmap.xsd declares the vast namespace and imports the vast xsd.</p>\n<pre><code>&lt;xs:schema xmlns:xs=&quot;http://www.w3.org/2001/XMLSchema&quot; xmlns:vmap=&quot;http://www.iab.net/videosuite/vmap&quot; xmlns:vast=&quot;http://www.iab.net/videosuite/vast&quot; targetNamespace=&quot;http://www.iab.net/videosuite/vmap&quot; attributeFormDefault=&quot;unqualified&quot; elementFormDefault=&quot;qualified&quot; version=&quot;1.0&quot;&gt;\n    &lt;xs:import namespace=&quot;http://www.iab.net/videosuite/vast&quot; schemaLocation=&quot;vast3_draft.xsd&quot;/&gt;\n</code></pre>\n<p>The VAST element is used here.</p>\n<pre><code>    &lt;xs:complexType name=&quot;VASTAdData_type&quot;&gt;\n        &lt;xs:sequence&gt;\n            &lt;xs:element ref=&quot;vast:VAST&quot; minOccurs=&quot;1&quot; maxOccurs=&quot;1&quot;/&gt;\n        &lt;/xs:sequence&gt;\n    &lt;/xs:complexType&gt;\n</code></pre>\n<p>Should the vmap xsd be modified for this to work? Why can't it find the VAST element?</p>\n<p>You can view the full project <a href=\"https://github.com/moaxcp/generate-vmap-example\" rel=\"nofollow noreferrer\">here</a>.</p>\n"},{"tags":["java","expression","antlr","antlr4","logical-operators"],"answers":[{"comments":[{"owner":{"account_id":7033480,"reputation":257,"user_id":5388414,"accept_rate":80,"display_name":"UglyBob"},"score":0,"creation_date":1689258369,"post_id":76674828,"comment_id":135190631,"body_markdown":"Hmm, interesting. I&#39;m using a visitor for a basic verification of the syntax and I have turned off error listeners and INSTEAD using BailErrorStrategy() to get the error as an exception. It works fine for other types of issues, but I don&#39;t get any exception for this...","body":"Hmm, interesting. I&#39;m using a visitor for a basic verification of the syntax and I have turned off error listeners and INSTEAD using BailErrorStrategy() to get the error as an exception. It works fine for other types of issues, but I don&#39;t get any exception for this..."},{"owner":{"account_id":7033480,"reputation":257,"user_id":5388414,"accept_rate":80,"display_name":"UglyBob"},"score":0,"creation_date":1689271789,"post_id":76674828,"comment_id":135193668,"body_markdown":"I don&#39;t love it, but adding this to my grammar solved it for now. Then my compExpr would not match in case it tokenizes some INVALID tokens...\n\n`INVALID: &#39;!&#39; | &#39;=&#39; ;`","body":"I don&#39;t love it, but adding this to my grammar solved it for now. Then my compExpr would not match in case it tokenizes some INVALID tokens...  <code>INVALID: &#39;!&#39; | &#39;=&#39; ;</code>"},{"owner":{"account_id":27816,"reputation":6650,"user_id":73764,"accept_rate":91,"display_name":"Mike Cargal"},"score":1,"creation_date":1689342299,"post_id":76674828,"comment_id":135203980,"body_markdown":"I&#39;ve added a bit of information about a way to handle this in a more generalized fashion (not much different, but it means you won&#39;t have to keep adding alternatives if you encounter other characters.","body":"I&#39;ve added a bit of information about a way to handle this in a more generalized fashion (not much different, but it means you won&#39;t have to keep adding alternatives if you encounter other characters."},{"owner":{"account_id":7033480,"reputation":257,"user_id":5388414,"accept_rate":80,"display_name":"UglyBob"},"score":0,"creation_date":1689360694,"post_id":76674828,"comment_id":135207921,"body_markdown":"Thanks a lot! Its odd to me, but it works... :)","body":"Thanks a lot! Its odd to me, but it works... :)"}],"tags":[],"owner":{"account_id":27816,"reputation":6650,"user_id":73764,"accept_rate":91,"display_name":"Mike Cargal"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689342224,"creation_date":1689200735,"answer_id":76674828,"question_id":76673570,"body_markdown":"If I run the following using your grammar:\r\n```\r\necho &quot;mike === 5&quot; | grun Filter filter -tokens -tree\r\n```\r\n\r\nI get the following output:\r\n```\r\nline 1:7 token recognition error at: &#39;= &#39;\r\n[@0,0:3=&#39;mike&#39;,&lt;NAME&gt;,1:0]\r\n[@1,5:6=&#39;==&#39;,&lt;&#39;==&#39;&gt;,1:5]\r\n[@2,9:9=&#39;5&#39;,&lt;INT&gt;,1:9]\r\n[@3,11:10=&#39;&lt;EOF&gt;&#39;,&lt;EOF&gt;,2:0]\r\n(filter (expr (compExpr (operand (qualifiedName mike)) == (operand (numOperand 5)))) &lt;EOF&gt;)\r\n```\r\nThat tree is consistent with what you see when you&#39;re visiting the tree expression.\r\n\r\nANTLR will report the token recognition error, discard that input and attempt to continue parsing.\r\n\r\nIt appears that you&#39;re suppressing the error message about the unrecognized token.  (It would come from the Lexer, so if this is your error reporting code, make sure you have a listener attached to the Lexer as well as the parser.)\r\n\r\n\r\nIt&#39;s not uncommon to find a rule like `INVALID: &#39;.&#39;;` at the end of your Lexer rules to handle &quot;anything that didn&#39;t get picked up by previous Lexer rules.  This avoids any token recognition errors (as EVERYTHING will get a token), and then, since the `INVALID` token won&#39;t appear in any parser rules, you&#39;ll get parser error instead.","title":"Problems with comparisons in ANTLR4 grammar","body":"<p>If I run the following using your grammar:</p>\n<pre><code>echo &quot;mike === 5&quot; | grun Filter filter -tokens -tree\n</code></pre>\n<p>I get the following output:</p>\n<pre><code>line 1:7 token recognition error at: '= '\n[@0,0:3='mike',&lt;NAME&gt;,1:0]\n[@1,5:6='==',&lt;'=='&gt;,1:5]\n[@2,9:9='5',&lt;INT&gt;,1:9]\n[@3,11:10='&lt;EOF&gt;',&lt;EOF&gt;,2:0]\n(filter (expr (compExpr (operand (qualifiedName mike)) == (operand (numOperand 5)))) &lt;EOF&gt;)\n</code></pre>\n<p>That tree is consistent with what you see when you're visiting the tree expression.</p>\n<p>ANTLR will report the token recognition error, discard that input and attempt to continue parsing.</p>\n<p>It appears that you're suppressing the error message about the unrecognized token.  (It would come from the Lexer, so if this is your error reporting code, make sure you have a listener attached to the Lexer as well as the parser.)</p>\n<p>It's not uncommon to find a rule like <code>INVALID: '.';</code> at the end of your Lexer rules to handle &quot;anything that didn't get picked up by previous Lexer rules.  This avoids any token recognition errors (as EVERYTHING will get a token), and then, since the <code>INVALID</code> token won't appear in any parser rules, you'll get parser error instead.</p>\n"}],"owner":{"account_id":7033480,"reputation":257,"user_id":5388414,"accept_rate":80,"display_name":"UglyBob"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1689342224,"creation_date":1689187240,"question_id":76673570,"body_markdown":"I&#39;ve build a small parser for writing filters in my application and most of it works fine. But now I noticed something weird. I have comparisons like &#39;==&#39;, &#39;!=&#39;, &#39;&gt;=&#39; etc and they also work fine. But for some reason antlr (or my grammar) also accepts combinations of them, like &#39;===&#39;, &#39;&lt;=!&#39;, &#39;!==&#39; etc. And another weird thing is that when I visit the tree for an expression like &#39;number !== value&#39;, antlr have removed the last equal sign in the context.\r\n\r\nMy grammar is like this:\r\n\r\n    grammar Filter;\r\n    \r\n    filter: expr EOF ;\r\n    \r\n    expr: expr &#39;and&#39; expr\r\n        | expr &#39;or&#39; expr\r\n        | &#39;not&#39; expr\r\n        | &#39;(&#39; expr &#39;)&#39;\r\n        | compExpr\r\n        ;\r\n    compExpr: ( operand (EQ | NEQ) operand )\r\n            | ( numOperand (GT | GE | LT | LE) numOperand )\r\n            ;\r\n    operand: qualifiedName | nodeId | STR | bool | numOperand ;\r\n    numOperand: INT | HEX | TIMESTAMP | qualifiedName ;\r\n    bool: TRUE | FALSE ;\r\n    qualifiedName: NAME ( &#39;.&#39; NAME )* ;\r\n    nodeId: SERIAL ;\r\n    \r\n    GT: &#39;&gt;&#39; ;\r\n    GE: &#39;&gt;=&#39; ;\r\n    LT: &#39;&lt;&#39; ;\r\n    LE: &#39;&lt;=&#39; ;\r\n    EQ: &#39;==&#39;;\r\n    NEQ: &#39;!=&#39; ;\r\n    TRUE: &#39;true&#39; ;\r\n    FALSE: &#39;false&#39; ;\r\n    NAME: [a-zA-Z_$][a-zA-Z0-9_$]* ;\r\n    INT: &#39;-&#39;? DIGIT+ ;\r\n    STR: &#39;&quot;&#39; (~[&quot;])* &#39;&quot;&#39; ;\r\n    HEX: &#39;0x&#39; [0-9a-fA-F]+ ;\r\n    SERIAL: [0-9a-zA-Z]+ ;\r\n    TIMESTAMP: DIGIT DIGIT&#39;:&#39;DIGIT DIGIT&#39;:&#39;DIGIT DIGIT(&#39;.&#39;DIGIT DIGIT DIGIT)? ;\r\n    DIGIT: [0-9] ;\r\n    WS  : [ \\t\\r\\n]+ -&gt; skip ;\r\n\r\n","title":"Problems with comparisons in ANTLR4 grammar","body":"<p>I've build a small parser for writing filters in my application and most of it works fine. But now I noticed something weird. I have comparisons like '==', '!=', '&gt;=' etc and they also work fine. But for some reason antlr (or my grammar) also accepts combinations of them, like '===', '&lt;=!', '!==' etc. And another weird thing is that when I visit the tree for an expression like 'number !== value', antlr have removed the last equal sign in the context.</p>\n<p>My grammar is like this:</p>\n<pre><code>grammar Filter;\n\nfilter: expr EOF ;\n\nexpr: expr 'and' expr\n    | expr 'or' expr\n    | 'not' expr\n    | '(' expr ')'\n    | compExpr\n    ;\ncompExpr: ( operand (EQ | NEQ) operand )\n        | ( numOperand (GT | GE | LT | LE) numOperand )\n        ;\noperand: qualifiedName | nodeId | STR | bool | numOperand ;\nnumOperand: INT | HEX | TIMESTAMP | qualifiedName ;\nbool: TRUE | FALSE ;\nqualifiedName: NAME ( '.' NAME )* ;\nnodeId: SERIAL ;\n\nGT: '&gt;' ;\nGE: '&gt;=' ;\nLT: '&lt;' ;\nLE: '&lt;=' ;\nEQ: '==';\nNEQ: '!=' ;\nTRUE: 'true' ;\nFALSE: 'false' ;\nNAME: [a-zA-Z_$][a-zA-Z0-9_$]* ;\nINT: '-'? DIGIT+ ;\nSTR: '&quot;' (~[&quot;])* '&quot;' ;\nHEX: '0x' [0-9a-fA-F]+ ;\nSERIAL: [0-9a-zA-Z]+ ;\nTIMESTAMP: DIGIT DIGIT':'DIGIT DIGIT':'DIGIT DIGIT('.'DIGIT DIGIT DIGIT)? ;\nDIGIT: [0-9] ;\nWS  : [ \\t\\r\\n]+ -&gt; skip ;\n</code></pre>\n"},{"tags":["java","spring","spring-boot","hibernate"],"comments":[{"owner":{"account_id":3273973,"reputation":5801,"user_id":2756574,"accept_rate":89,"display_name":"Sebastian"},"score":0,"creation_date":1664865033,"post_id":73943737,"comment_id":130561880,"body_markdown":"Does this answer your question: https://stackoverflow.com/questions/804514/hibernate-field-id-doesnt-have-a-default-value","body":"Does this answer your question: <a href=\"https://stackoverflow.com/questions/804514/hibernate-field-id-doesnt-have-a-default-value\" title=\"hibernate field id doesnt have a default value\">stackoverflow.com/questions/804514/&hellip;</a>"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":2,"creation_date":1664866997,"post_id":73943737,"comment_id":130562361,"body_markdown":"Please add the full stacktrce instead of a random snippet.","body":"Please add the full stacktrce instead of a random snippet."}],"answers":[{"tags":[],"owner":{"account_id":7371149,"reputation":99,"user_id":5611276,"accept_rate":0,"display_name":"TeeBea"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664868240,"creation_date":1664867560,"answer_id":73944244,"question_id":73943737,"body_markdown":"Looks like you are not setting the @Id `uid`. \r\n\r\nThere are a lot of options, why, and also then how to fix them.\r\n\r\nIs it an auto-incremented column?\r\nWhat kind of database are you using? Is the DB DDL generated (eg.: by hibernate) of is it something given?\r\nEg.: mysql check that the column is auto-incremented, some other databases might need a trigger/sequence.\r\n\r\nBTW, Identity is not the best of GenerationTypes.\r\nYou could rather use SEQUENCE or AUTO.\r\n\r\nAlso, why are you specifying the joinColumn (IMHO, that is not required)? Also the column name `contact_id` looks suspicious, I would have expected `user_id`.\r\n\r\nIt could also be some issue with how the relationship is handled in services.\r\n\r\nHow do you assign the Contacts to a User? \r\nAre you both setting the Contact.user and also adding this to the User.contacts List? (Also, from the exception it is not clear, if the error occurs with User or Contact. Logging the sql might also help.)\r\n","title":"&quot;could not execute statement; nested exception is org.hibernate.exception.GenericJDBCException: could not execute statement&quot; in springboot","body":"<p>Looks like you are not setting the @Id <code>uid</code>.</p>\n<p>There are a lot of options, why, and also then how to fix them.</p>\n<p>Is it an auto-incremented column?\nWhat kind of database are you using? Is the DB DDL generated (eg.: by hibernate) of is it something given?\nEg.: mysql check that the column is auto-incremented, some other databases might need a trigger/sequence.</p>\n<p>BTW, Identity is not the best of GenerationTypes.\nYou could rather use SEQUENCE or AUTO.</p>\n<p>Also, why are you specifying the joinColumn (IMHO, that is not required)? Also the column name <code>contact_id</code> looks suspicious, I would have expected <code>user_id</code>.</p>\n<p>It could also be some issue with how the relationship is handled in services.</p>\n<p>How do you assign the Contacts to a User?\nAre you both setting the Contact.user and also adding this to the User.contacts List? (Also, from the exception it is not clear, if the error occurs with User or Contact. Logging the sql might also help.)</p>\n"}],"owner":{"account_id":16115040,"reputation":1,"user_id":11632405,"display_name":"L Noitra "},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1844,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1689341993,"creation_date":1664863962,"question_id":73943737,"body_markdown":"When I try to signup using form it shows error. The form exception shows &quot;could not execute statement; nested exception is org.hibernate.exception.GenericJDBCException: could not execute statement&quot;. Is this some kind of hibernate error? \r\n\r\nHere is my models: \r\n\r\n**Contact.java**\r\n\r\n    @Entity\r\n    public class Contact {\r\n    \r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        private int cid;\r\n        private String name;\r\n        private String secondName;\r\n        private String work;\r\n        private String email;\r\n        private String phone;\r\n        @Column(name = &quot;image_url&quot;)\r\n        private String imageUrl;\r\n        @Column(length = 1000)\r\n        private String description;\r\n    \r\n        @ManyToOne(fetch = FetchType.LAZY, optional = false)\r\n        @JoinColumn(name = &quot;contact_id&quot;, nullable = false)\r\n        @JsonIgnore\r\n        private User user;\r\n    \r\n        public Contact() {\r\n        }\r\n    \r\n        public int getCid() {\r\n            return cid;\r\n        }\r\n    \r\n        public void setCid(int cid) {\r\n            this.cid = cid;\r\n        }\r\n    \r\n        public String getName() {\r\n            return name;\r\n        }\r\n    \r\n        public void setName(String name) {\r\n            this.name = name;\r\n        }\r\n    \r\n        public String getSecondName() {\r\n            return secondName;\r\n        }\r\n    \r\n        public void setSecondName(String secondName) {\r\n            this.secondName = secondName;\r\n        }\r\n    \r\n        public String getWork() {\r\n            return work;\r\n        }\r\n    \r\n        public void setWork(String work) {\r\n            this.work = work;\r\n        }\r\n    \r\n        public String getEmail() {\r\n            return email;\r\n        }\r\n    \r\n        public void setEmail(String email) {\r\n            this.email = email;\r\n        }\r\n    \r\n        public String getPhone() {\r\n            return phone;\r\n        }\r\n    \r\n        public void setPhone(String phone) {\r\n            this.phone = phone;\r\n        }\r\n    \r\n        public String getImageUrl() {\r\n            return imageUrl;\r\n        }\r\n    \r\n        public void setImageUrl(String imageUrl) {\r\n            this.imageUrl = imageUrl;\r\n        }\r\n    \r\n        public String getDescription() {\r\n            return description;\r\n        }\r\n    \r\n        public void setDescription(String description) {\r\n            this.description = description;\r\n        }\r\n    \r\n        public User getUser() {\r\n            return user;\r\n        }\r\n    \r\n        public void setUser(User user) {\r\n            this.user = user;\r\n        }\r\n    \r\n        @Override\r\n        public String toString() {\r\n            return &quot;Contact{&quot; +\r\n                    &quot;cid=&quot; + cid +\r\n                    &quot;, name=&#39;&quot; + name + &#39;\\&#39;&#39; +\r\n                    &quot;, secondName=&#39;&quot; + secondName + &#39;\\&#39;&#39; +\r\n                    &quot;, work=&#39;&quot; + work + &#39;\\&#39;&#39; +\r\n                    &quot;, email=&#39;&quot; + email + &#39;\\&#39;&#39; +\r\n                    &quot;, phone=&#39;&quot; + phone + &#39;\\&#39;&#39; +\r\n                    &quot;, imageUrl=&#39;&quot; + imageUrl + &#39;\\&#39;&#39; +\r\n                    &quot;, description=&#39;&quot; + description + &#39;\\&#39;&#39; +\r\n                    &#39;}&#39;;\r\n        }\r\n    }\r\n\r\n**User.java**\r\n\r\n\r\n        @Entity\r\n        public class User {\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        private int uid;\r\n        private String name;\r\n        @Column(unique = true)\r\n        private String email;\r\n        private String password;\r\n        private String role;\r\n        private boolean enabled;\r\n    \r\n        @Column(name = &quot;image_url&quot;)\r\n        private String imageUrl;\r\n        @Column(length = 500)\r\n        private String about;\r\n    \r\n        @OneToMany(cascade = CascadeType.ALL, fetch = FetchType.LAZY, mappedBy = &quot;user&quot;)\r\n        private List&lt;Contact&gt; contacts = new ArrayList&lt;&gt;();\r\n    \r\n        public User() {\r\n        }\r\n    \r\n    \r\n        public int getUid() {\r\n            return uid;\r\n        }\r\n    \r\n        public void setUid(int uid) {\r\n            this.uid = uid;\r\n        }\r\n    \r\n        public String getName() {\r\n            return name;\r\n        }\r\n    \r\n        public void setName(String name) {\r\n            this.name = name;\r\n        }\r\n    \r\n        public String getEmail() {\r\n            return email;\r\n        }\r\n    \r\n        public void setEmail(String email) {\r\n            this.email = email;\r\n        }\r\n    \r\n        public String getPassword() {\r\n            return password;\r\n        }\r\n    \r\n        public void setPassword(String password) {\r\n            this.password = password;\r\n        }\r\n    \r\n        public String getRole() {\r\n            return role;\r\n        }\r\n    \r\n        public void setRole(String role) {\r\n            this.role = role;\r\n        }\r\n    \r\n        public boolean isEnabled() {\r\n            return enabled;\r\n        }\r\n    \r\n        public void setEnabled(boolean enabled) {\r\n            this.enabled = enabled;\r\n        }\r\n    \r\n        public String getImageUrl() {\r\n            return imageUrl;\r\n        }\r\n    \r\n        public void setImageUrl(String imageUrl) {\r\n            this.imageUrl = imageUrl;\r\n        }\r\n    \r\n        public String getAbout() {\r\n            return about;\r\n        }\r\n    \r\n        public void setAbout(String about) {\r\n            this.about = about;\r\n        }\r\n    \r\n        public List&lt;Contact&gt; getContacts() {\r\n            return contacts;\r\n        }\r\n    \r\n        public void setContacts(List&lt;Contact&gt; contacts) {\r\n            this.contacts = contacts;\r\n        }\r\n    \r\n        @Override\r\n        public String toString() {\r\n            return &quot;User{&quot; +\r\n                    &quot;uid=&quot; + uid +\r\n                    &quot;, name=&#39;&quot; + name + &#39;\\&#39;&#39; +\r\n                    &quot;, email=&#39;&quot; + email + &#39;\\&#39;&#39; +\r\n                    &quot;, password=&#39;&quot; + password + &#39;\\&#39;&#39; +\r\n                    &quot;, role=&#39;&quot; + role + &#39;\\&#39;&#39; +\r\n                    &quot;, enabled=&quot; + enabled +\r\n                    &quot;, imageUrl=&#39;&quot; + imageUrl + &#39;\\&#39;&#39; +\r\n                    &quot;, about=&#39;&quot; + about + &#39;\\&#39;&#39; +\r\n                    &#39;}&#39;;\r\n        }\r\n    }\r\n\r\n\r\n**Signup.html**\r\n\r\n\r\n    &lt;!DOCTYPE html&gt;\r\n    &lt;html lang=&quot;en&quot; xmlns:th=&quot;http://www.thymeleaf.org&quot; th:replace=&quot;base::layout(~{::section})&quot;&gt;\r\n    &lt;head&gt;\r\n        &lt;meta charset=&quot;UTF-8&quot;&gt;\r\n        &lt;title&gt;Title&lt;/title&gt;\r\n    &lt;/head&gt;\r\n    &lt;body&gt;\r\n    &lt;section&gt;\r\n        &lt;div class=&quot;container&quot;&gt;\r\n            &lt;div class=&quot;row&quot;&gt;\r\n                &lt;div class=&quot;col-md-6 offset-md-3&quot;&gt;\r\n                    &lt;div class=&quot;my-card mt-3&quot;&gt;\r\n                        &lt;!--                            error message--&gt;\r\n    \r\n                        &lt;div th:if=&quot;${session.message}&quot; th:classappend=&quot;${session.message.type}&quot; class=&quot;alert&quot; role=&quot;alert&quot;&gt;\r\n                            &lt;p class=&quot;text-center&quot; th:text=&quot;${session.message.content}&quot;&gt;&lt;/p&gt;\r\n                            &lt;th:block th:text=&quot;${#session.removeAttribute(&#39;message&#39;)}&quot;&gt;&lt;/th:block&gt;\r\n                        &lt;/div&gt;\r\n                        &lt;!--                            End of error message--&gt;\r\n    \r\n                        &lt;div class=&quot;container text-center&quot;&gt;\r\n                            &lt;img style=&quot;width:90px&quot; th:src=&quot;@{/image/membership.svg}&quot;/&gt;\r\n                        &lt;/div&gt;\r\n    \r\n                        &lt;h1 class=&quot;text-center&quot;&gt;Register Here!!&lt;/h1&gt;\r\n    \r\n                        &lt;form action=&quot;&quot; th:action=&quot;@{/do_register}&quot; method=&quot;post&quot;\r\n                              enctype=&quot;multipart/form-data&quot; th:object=&quot;${user}&quot;&gt;\r\n    \r\n                            &lt;!--                                Name field--&gt;\r\n                            &lt;div class=&quot;mb-3&quot;&gt;\r\n                                &lt;label for=&quot;name_field&quot; class=&quot;form-label&quot;&gt;Your Name&lt;/label&gt;\r\n                                &lt;input\r\n                                        name=&quot;name&quot;\r\n                                        type=&quot;text&quot;\r\n                                        class=&quot;form-control&quot;\r\n                                        id=&quot;name_field&quot;\r\n                                        aria-describedby=&quot;emailHelp&quot;\r\n                                        placeholder=&quot;Enter Here&quot;\r\n                                        required=&quot;required&quot;\r\n                                        th:value=&quot;${user.name}&quot;&gt;\r\n    \r\n                                &lt;!--                                    &lt;div class=&quot;invalid-feedback&quot; th:each=&quot;e : ${#fields.errors(&#39;name&#39;)}&quot;--&gt;\r\n                                &lt;!--                                    th:text=&quot;${e}&quot;&gt;--&gt;\r\n    \r\n                                &lt;!--                                    &lt;/div&gt;--&gt;\r\n                            &lt;/div&gt;\r\n    \r\n                            &lt;!--                                Email field--&gt;\r\n                            &lt;div class=&quot;mb-3&quot;&gt;\r\n                                &lt;label for=&quot;email_field&quot; class=&quot;form-label&quot;&gt;Your Email&lt;/label&gt;\r\n                                &lt;input\r\n                                        name=&quot;email&quot;\r\n                                        type=&quot;email&quot; class=&quot;form-control&quot; id=&quot;email_field&quot; aria-describedby=&quot;emailHelp&quot;\r\n                                        placeholder=&quot;Enter Here&quot;\r\n                                        required=&quot;required&quot;\r\n                                        th:value=&quot;${user.email}&quot;&gt;\r\n                            &lt;/div&gt;\r\n    \r\n                            &lt;!--                                Password field--&gt;\r\n                            &lt;label for=&quot;password_field&quot; class=&quot;form-label&quot;&gt;Password&lt;/label&gt;\r\n                            &lt;input\r\n                                    name=&quot;password&quot;\r\n                                    type=&quot;password&quot; id=&quot;password_field&quot; class=&quot;form-control&quot;\r\n                                    aria-describedby=&quot;passwordHelpBlock&quot;\r\n                                    placeholder=&quot;Enter Here&quot;\r\n                                    required=&quot;required&quot;&gt;\r\n    \r\n                            &lt;div id=&quot;passwordHelpBlock&quot; class=&quot;form-text&quot;&gt;\r\n                                Your password must be 8-20 characters long, contain letters and numbers, and must not\r\n                                contain spaces, special characters, or emoji.\r\n                            &lt;/div&gt;\r\n    \r\n                            &lt;!--                                User about field--&gt;\r\n                            &lt;div class=&quot;form-group my-3&quot;&gt;\r\n                                        &lt;textarea\r\n                                                name=&quot;about&quot; th:text=&quot;${user.about}&quot;\r\n                                                th:value=&quot;${user.about}&quot; id=&quot;&quot; rows=&quot;8&quot; class=&quot;form-control&quot;\r\n                                                placeholder=&quot;Write something about yourself&quot;&gt;&lt;/textarea&gt;\r\n                            &lt;/div&gt;\r\n    \r\n                            &lt;!--                                User Image--&gt;\r\n    \r\n                            &lt;div class=&quot;custom-file my-3&quot;&gt;\r\n                                &lt;input type=&quot;file&quot; name=&quot;userImage&quot;&gt;\r\n                            &lt;/div&gt;\r\n    \r\n                            &lt;!--                                Terms and condition agreement--&gt;\r\n                            &lt;div class=&quot;form-group form-check mb-2&quot;&gt;\r\n                                &lt;input\r\n                                        name=&quot;agreement&quot;\r\n                                        type=&quot;checkbox&quot; class=&quot;form-check-input&quot; id=&quot;agreement&quot;&gt;\r\n                                &lt;label for=&quot;agreement&quot;&gt;Accept terms and conditions&lt;/label&gt;\r\n                            &lt;/div&gt;\r\n    \r\n    \r\n                            &lt;!--                                button field--&gt;\r\n                            &lt;div class=&quot;container text-center d-grid gap-2&quot;&gt;\r\n                                &lt;button type=&quot;submit&quot; class=&quot;btn primarybackgroud text-white&quot;&gt;Submit&lt;/button&gt;\r\n    \r\n                                &lt;button type=&quot;reset&quot; class=&quot;btn bg-danger text-white&quot;&gt;Reset&lt;/button&gt;\r\n                            &lt;/div&gt;\r\n    \r\n                        &lt;/form&gt;\r\n    \r\n    \r\n                    &lt;/div&gt;\r\n                &lt;/div&gt;\r\n            &lt;/div&gt;\r\n        &lt;/div&gt;\r\n    &lt;/section&gt;\r\n    \r\n    &lt;/body&gt;\r\n    &lt;/html&gt;\r\n\r\n\r\n**pom.xml**\r\n\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n             xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n        &lt;parent&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n            &lt;version&gt;2.7.3&lt;/version&gt;\r\n            &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n        &lt;/parent&gt;\r\n        &lt;groupId&gt;com.smartmanager&lt;/groupId&gt;\r\n        &lt;artifactId&gt;Smart_Contact_Manager&lt;/artifactId&gt;\r\n        &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n        &lt;name&gt;Smart Contact Manager&lt;/name&gt;\r\n        &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n        &lt;properties&gt;\r\n            &lt;java.version&gt;17&lt;/java.version&gt;\r\n        &lt;/properties&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-mail&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n                &lt;scope&gt;runtime&lt;/scope&gt;\r\n                &lt;optional&gt;true&lt;/optional&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;mysql&lt;/groupId&gt;\r\n                &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n                &lt;scope&gt;runtime&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-jdbc&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    \r\n        &lt;build&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/build&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\n\r\n\r\n**Error messages in console :** \r\n\r\n    2022-10-04 11:55:47.309 ERROR 14668 --- [nio-8282-exec-7] o.h.engine.jdbc.spi.SqlExceptionHelper   : Field &#39;uid&#39; doesn&#39;t have a default value\r\n    org.springframework.orm.jpa.JpaSystemException: could not execute statement; nested exception is org.hibernate.exception.GenericJDBCException: could not execute statement\r\n    \tat org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:331)\r\n    \tat org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:233)\r\n    \tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:551)\r\n    \tat org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)","title":"&quot;could not execute statement; nested exception is org.hibernate.exception.GenericJDBCException: could not execute statement&quot; in springboot","body":"<p>When I try to signup using form it shows error. The form exception shows &quot;could not execute statement; nested exception is org.hibernate.exception.GenericJDBCException: could not execute statement&quot;. Is this some kind of hibernate error?</p>\n<p>Here is my models:</p>\n<p><strong>Contact.java</strong></p>\n<pre><code>@Entity\npublic class Contact {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private int cid;\n    private String name;\n    private String secondName;\n    private String work;\n    private String email;\n    private String phone;\n    @Column(name = &quot;image_url&quot;)\n    private String imageUrl;\n    @Column(length = 1000)\n    private String description;\n\n    @ManyToOne(fetch = FetchType.LAZY, optional = false)\n    @JoinColumn(name = &quot;contact_id&quot;, nullable = false)\n    @JsonIgnore\n    private User user;\n\n    public Contact() {\n    }\n\n    public int getCid() {\n        return cid;\n    }\n\n    public void setCid(int cid) {\n        this.cid = cid;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public String getSecondName() {\n        return secondName;\n    }\n\n    public void setSecondName(String secondName) {\n        this.secondName = secondName;\n    }\n\n    public String getWork() {\n        return work;\n    }\n\n    public void setWork(String work) {\n        this.work = work;\n    }\n\n    public String getEmail() {\n        return email;\n    }\n\n    public void setEmail(String email) {\n        this.email = email;\n    }\n\n    public String getPhone() {\n        return phone;\n    }\n\n    public void setPhone(String phone) {\n        this.phone = phone;\n    }\n\n    public String getImageUrl() {\n        return imageUrl;\n    }\n\n    public void setImageUrl(String imageUrl) {\n        this.imageUrl = imageUrl;\n    }\n\n    public String getDescription() {\n        return description;\n    }\n\n    public void setDescription(String description) {\n        this.description = description;\n    }\n\n    public User getUser() {\n        return user;\n    }\n\n    public void setUser(User user) {\n        this.user = user;\n    }\n\n    @Override\n    public String toString() {\n        return &quot;Contact{&quot; +\n                &quot;cid=&quot; + cid +\n                &quot;, name='&quot; + name + '\\'' +\n                &quot;, secondName='&quot; + secondName + '\\'' +\n                &quot;, work='&quot; + work + '\\'' +\n                &quot;, email='&quot; + email + '\\'' +\n                &quot;, phone='&quot; + phone + '\\'' +\n                &quot;, imageUrl='&quot; + imageUrl + '\\'' +\n                &quot;, description='&quot; + description + '\\'' +\n                '}';\n    }\n}\n</code></pre>\n<p><strong>User.java</strong></p>\n<pre><code>    @Entity\n    public class User {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private int uid;\n    private String name;\n    @Column(unique = true)\n    private String email;\n    private String password;\n    private String role;\n    private boolean enabled;\n\n    @Column(name = &quot;image_url&quot;)\n    private String imageUrl;\n    @Column(length = 500)\n    private String about;\n\n    @OneToMany(cascade = CascadeType.ALL, fetch = FetchType.LAZY, mappedBy = &quot;user&quot;)\n    private List&lt;Contact&gt; contacts = new ArrayList&lt;&gt;();\n\n    public User() {\n    }\n\n\n    public int getUid() {\n        return uid;\n    }\n\n    public void setUid(int uid) {\n        this.uid = uid;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public String getEmail() {\n        return email;\n    }\n\n    public void setEmail(String email) {\n        this.email = email;\n    }\n\n    public String getPassword() {\n        return password;\n    }\n\n    public void setPassword(String password) {\n        this.password = password;\n    }\n\n    public String getRole() {\n        return role;\n    }\n\n    public void setRole(String role) {\n        this.role = role;\n    }\n\n    public boolean isEnabled() {\n        return enabled;\n    }\n\n    public void setEnabled(boolean enabled) {\n        this.enabled = enabled;\n    }\n\n    public String getImageUrl() {\n        return imageUrl;\n    }\n\n    public void setImageUrl(String imageUrl) {\n        this.imageUrl = imageUrl;\n    }\n\n    public String getAbout() {\n        return about;\n    }\n\n    public void setAbout(String about) {\n        this.about = about;\n    }\n\n    public List&lt;Contact&gt; getContacts() {\n        return contacts;\n    }\n\n    public void setContacts(List&lt;Contact&gt; contacts) {\n        this.contacts = contacts;\n    }\n\n    @Override\n    public String toString() {\n        return &quot;User{&quot; +\n                &quot;uid=&quot; + uid +\n                &quot;, name='&quot; + name + '\\'' +\n                &quot;, email='&quot; + email + '\\'' +\n                &quot;, password='&quot; + password + '\\'' +\n                &quot;, role='&quot; + role + '\\'' +\n                &quot;, enabled=&quot; + enabled +\n                &quot;, imageUrl='&quot; + imageUrl + '\\'' +\n                &quot;, about='&quot; + about + '\\'' +\n                '}';\n    }\n}\n</code></pre>\n<p><strong>Signup.html</strong></p>\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html lang=&quot;en&quot; xmlns:th=&quot;http://www.thymeleaf.org&quot; th:replace=&quot;base::layout(~{::section})&quot;&gt;\n&lt;head&gt;\n    &lt;meta charset=&quot;UTF-8&quot;&gt;\n    &lt;title&gt;Title&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n&lt;section&gt;\n    &lt;div class=&quot;container&quot;&gt;\n        &lt;div class=&quot;row&quot;&gt;\n            &lt;div class=&quot;col-md-6 offset-md-3&quot;&gt;\n                &lt;div class=&quot;my-card mt-3&quot;&gt;\n                    &lt;!--                            error message--&gt;\n\n                    &lt;div th:if=&quot;${session.message}&quot; th:classappend=&quot;${session.message.type}&quot; class=&quot;alert&quot; role=&quot;alert&quot;&gt;\n                        &lt;p class=&quot;text-center&quot; th:text=&quot;${session.message.content}&quot;&gt;&lt;/p&gt;\n                        &lt;th:block th:text=&quot;${#session.removeAttribute('message')}&quot;&gt;&lt;/th:block&gt;\n                    &lt;/div&gt;\n                    &lt;!--                            End of error message--&gt;\n\n                    &lt;div class=&quot;container text-center&quot;&gt;\n                        &lt;img style=&quot;width:90px&quot; th:src=&quot;@{/image/membership.svg}&quot;/&gt;\n                    &lt;/div&gt;\n\n                    &lt;h1 class=&quot;text-center&quot;&gt;Register Here!!&lt;/h1&gt;\n\n                    &lt;form action=&quot;&quot; th:action=&quot;@{/do_register}&quot; method=&quot;post&quot;\n                          enctype=&quot;multipart/form-data&quot; th:object=&quot;${user}&quot;&gt;\n\n                        &lt;!--                                Name field--&gt;\n                        &lt;div class=&quot;mb-3&quot;&gt;\n                            &lt;label for=&quot;name_field&quot; class=&quot;form-label&quot;&gt;Your Name&lt;/label&gt;\n                            &lt;input\n                                    name=&quot;name&quot;\n                                    type=&quot;text&quot;\n                                    class=&quot;form-control&quot;\n                                    id=&quot;name_field&quot;\n                                    aria-describedby=&quot;emailHelp&quot;\n                                    placeholder=&quot;Enter Here&quot;\n                                    required=&quot;required&quot;\n                                    th:value=&quot;${user.name}&quot;&gt;\n\n                            &lt;!--                                    &lt;div class=&quot;invalid-feedback&quot; th:each=&quot;e : ${#fields.errors('name')}&quot;--&gt;\n                            &lt;!--                                    th:text=&quot;${e}&quot;&gt;--&gt;\n\n                            &lt;!--                                    &lt;/div&gt;--&gt;\n                        &lt;/div&gt;\n\n                        &lt;!--                                Email field--&gt;\n                        &lt;div class=&quot;mb-3&quot;&gt;\n                            &lt;label for=&quot;email_field&quot; class=&quot;form-label&quot;&gt;Your Email&lt;/label&gt;\n                            &lt;input\n                                    name=&quot;email&quot;\n                                    type=&quot;email&quot; class=&quot;form-control&quot; id=&quot;email_field&quot; aria-describedby=&quot;emailHelp&quot;\n                                    placeholder=&quot;Enter Here&quot;\n                                    required=&quot;required&quot;\n                                    th:value=&quot;${user.email}&quot;&gt;\n                        &lt;/div&gt;\n\n                        &lt;!--                                Password field--&gt;\n                        &lt;label for=&quot;password_field&quot; class=&quot;form-label&quot;&gt;Password&lt;/label&gt;\n                        &lt;input\n                                name=&quot;password&quot;\n                                type=&quot;password&quot; id=&quot;password_field&quot; class=&quot;form-control&quot;\n                                aria-describedby=&quot;passwordHelpBlock&quot;\n                                placeholder=&quot;Enter Here&quot;\n                                required=&quot;required&quot;&gt;\n\n                        &lt;div id=&quot;passwordHelpBlock&quot; class=&quot;form-text&quot;&gt;\n                            Your password must be 8-20 characters long, contain letters and numbers, and must not\n                            contain spaces, special characters, or emoji.\n                        &lt;/div&gt;\n\n                        &lt;!--                                User about field--&gt;\n                        &lt;div class=&quot;form-group my-3&quot;&gt;\n                                    &lt;textarea\n                                            name=&quot;about&quot; th:text=&quot;${user.about}&quot;\n                                            th:value=&quot;${user.about}&quot; id=&quot;&quot; rows=&quot;8&quot; class=&quot;form-control&quot;\n                                            placeholder=&quot;Write something about yourself&quot;&gt;&lt;/textarea&gt;\n                        &lt;/div&gt;\n\n                        &lt;!--                                User Image--&gt;\n\n                        &lt;div class=&quot;custom-file my-3&quot;&gt;\n                            &lt;input type=&quot;file&quot; name=&quot;userImage&quot;&gt;\n                        &lt;/div&gt;\n\n                        &lt;!--                                Terms and condition agreement--&gt;\n                        &lt;div class=&quot;form-group form-check mb-2&quot;&gt;\n                            &lt;input\n                                    name=&quot;agreement&quot;\n                                    type=&quot;checkbox&quot; class=&quot;form-check-input&quot; id=&quot;agreement&quot;&gt;\n                            &lt;label for=&quot;agreement&quot;&gt;Accept terms and conditions&lt;/label&gt;\n                        &lt;/div&gt;\n\n\n                        &lt;!--                                button field--&gt;\n                        &lt;div class=&quot;container text-center d-grid gap-2&quot;&gt;\n                            &lt;button type=&quot;submit&quot; class=&quot;btn primarybackgroud text-white&quot;&gt;Submit&lt;/button&gt;\n\n                            &lt;button type=&quot;reset&quot; class=&quot;btn bg-danger text-white&quot;&gt;Reset&lt;/button&gt;\n                        &lt;/div&gt;\n\n                    &lt;/form&gt;\n\n\n                &lt;/div&gt;\n            &lt;/div&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n&lt;/section&gt;\n\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p><strong>pom.xml</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.7.3&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.smartmanager&lt;/groupId&gt;\n    &lt;artifactId&gt;Smart_Contact_Manager&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;Smart Contact Manager&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-mail&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-jdbc&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p><strong>Error messages in console :</strong></p>\n<pre><code>2022-10-04 11:55:47.309 ERROR 14668 --- [nio-8282-exec-7] o.h.engine.jdbc.spi.SqlExceptionHelper   : Field 'uid' doesn't have a default value\norg.springframework.orm.jpa.JpaSystemException: could not execute statement; nested exception is org.hibernate.exception.GenericJDBCException: could not execute statement\n    at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:331)\n    at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:233)\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:551)\n    at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)\n</code></pre>\n"},{"tags":["java","environment-variables"],"comments":[{"owner":{"account_id":3023214,"reputation":20361,"user_id":2563754,"display_name":"Seelenvirtuose"},"score":0,"creation_date":1413787924,"post_id":26459904,"comment_id":41559399,"body_markdown":"A system property is set when starting the JVM. Before that there is nothing to read.","body":"A system property is set when starting the JVM. Before that there is nothing to read."},{"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1413788039,"post_id":26459904,"comment_id":41559452,"body_markdown":"Do you want to be able to distinguish between default system properties and those set/overridden via the command line?","body":"Do you want to be able to distinguish between default system properties and those set/overridden via the command line?"},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":0,"creation_date":1413788464,"post_id":26459904,"comment_id":41559592,"body_markdown":"Are you asking how to read system properties?","body":"Are you asking how to read system properties?"},{"owner":{"account_id":181829,"reputation":14010,"user_id":416100,"accept_rate":67,"display_name":"sakhunzai"},"score":0,"creation_date":1413789182,"post_id":26459904,"comment_id":41559856,"body_markdown":"I need to know what are certain directories set e.g what is extension directory set currently","body":"I need to know what are certain directories set e.g what is extension directory set currently"},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":0,"creation_date":1413789792,"post_id":26459904,"comment_id":41560096,"body_markdown":"You may wish to read [System Properties](http://docs.oracle.com/javase/tutorial/essential/environment/sysprop.html) and [The Extension Mechanism Architecture](http://docs.oracle.com/javase/7/docs/technotes/guides/extensions/spec.html) if you haven&#39;t already, or you might just leap right in and try `System.getProperty(&quot;java.ext.dirs&quot;)`.","body":"You may wish to read <a href=\"http://docs.oracle.com/javase/tutorial/essential/environment/sysprop.html\" rel=\"nofollow noreferrer\">System Properties</a> and <a href=\"http://docs.oracle.com/javase/7/docs/technotes/guides/extensions/spec.html\" rel=\"nofollow noreferrer\">The Extension Mechanism Architecture</a> if you haven&#39;t already, or you might just leap right in and try <code>System.getProperty(&quot;java.ext.dirs&quot;)</code>."}],"answers":[{"comments":[{"owner":{"account_id":181829,"reputation":14010,"user_id":416100,"accept_rate":67,"display_name":"sakhunzai"},"score":0,"creation_date":1413790048,"post_id":26459970,"comment_id":41560215,"body_markdown":"how to get the value of `java.ext.dirs` ?","body":"how to get the value of <code>java.ext.dirs</code> ?"}],"tags":[],"owner":{"account_id":947184,"reputation":49004,"user_id":974186,"accept_rate":79,"display_name":"Ren&#233; Link"},"comment_count":1,"down_vote_count":0,"up_vote_count":30,"is_accepted":false,"score":30,"last_activity_date":1413790223,"creation_date":1413788088,"answer_id":26459970,"question_id":26459904,"body_markdown":"You can use [jps][1] a tool that comes with the jdk. \r\nIt can print out the system properties that were passed to a java process.\r\n\r\nFor example: On my system eclipse is running and \r\n\r\n    $ jps -v\r\n\r\noutputs\r\n\r\n    6632  -Dosgi.requiredJavaVersion=1.6 -Xms1024m -Xmx2048m -XX:MaxPermSize=512m\r\n\r\n`jps` is located in `JDK_HOME/bin`\r\n\r\n**EDIT**\r\n\r\nIf you want all the properties use the [jinfo][2] tool that is also located in `JDK_HOME/bin`. To use it you must know the process id of the java process you want to get information from. E.g.\r\n\r\n    $ jinfo 6632\r\n\r\nThis tool also prints out the `java.ext.dirs`\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/technotes/tools/share/jps.html\r\n  [2]: http://docs.oracle.com/javase/7/docs/technotes/tools/share/jinfo.html","title":"Reading Java system properties from command line","body":"<p>You can use <a href=\"http://docs.oracle.com/javase/7/docs/technotes/tools/share/jps.html\">jps</a> a tool that comes with the jdk. \nIt can print out the system properties that were passed to a java process.</p>\n\n<p>For example: On my system eclipse is running and </p>\n\n<pre><code>$ jps -v\n</code></pre>\n\n<p>outputs</p>\n\n<pre><code>6632  -Dosgi.requiredJavaVersion=1.6 -Xms1024m -Xmx2048m -XX:MaxPermSize=512m\n</code></pre>\n\n<p><code>jps</code> is located in <code>JDK_HOME/bin</code></p>\n\n<p><strong>EDIT</strong></p>\n\n<p>If you want all the properties use the <a href=\"http://docs.oracle.com/javase/7/docs/technotes/tools/share/jinfo.html\">jinfo</a> tool that is also located in <code>JDK_HOME/bin</code>. To use it you must know the process id of the java process you want to get information from. E.g.</p>\n\n<pre><code>$ jinfo 6632\n</code></pre>\n\n<p>This tool also prints out the <code>java.ext.dirs</code></p>\n"},{"comments":[{"owner":{"account_id":367746,"reputation":24129,"user_id":714112,"accept_rate":80,"display_name":"Sridhar Sarnobat"},"score":1,"creation_date":1515448499,"post_id":36045464,"comment_id":83296697,"body_markdown":"It seems like `VM.system_properties` only prints &quot;well known&quot; properties. Is there a way to view properties that the user has created?","body":"It seems like <code>VM.system_properties</code> only prints &quot;well known&quot; properties. Is there a way to view properties that the user has created?"},{"owner":{"account_id":72205,"reputation":2651,"user_id":208576,"accept_rate":100,"display_name":"AdrianRM"},"score":2,"creation_date":1515769614,"post_id":36045464,"comment_id":83439716,"body_markdown":"I don&#39;t know. I suggest you to post a question and link it to this one.","body":"I don&#39;t know. I suggest you to post a question and link it to this one."},{"owner":{"account_id":12019463,"reputation":1937,"user_id":8793412,"accept_rate":88,"display_name":"Karthikeyan"},"score":0,"creation_date":1631948616,"post_id":36045464,"comment_id":122365712,"body_markdown":"how to get system properties in linux machine","body":"how to get system properties in linux machine"},{"owner":{"account_id":367746,"reputation":24129,"user_id":714112,"accept_rate":80,"display_name":"Sridhar Sarnobat"},"score":0,"creation_date":1674606251,"post_id":36045464,"comment_id":132749510,"body_markdown":"I take it back, on my local Mac, I see system properties that are specific to my app.","body":"I take it back, on my local Mac, I see system properties that are specific to my app."}],"tags":[],"owner":{"account_id":72205,"reputation":2651,"user_id":208576,"accept_rate":100,"display_name":"AdrianRM"},"comment_count":4,"down_vote_count":0,"up_vote_count":150,"is_accepted":true,"score":150,"last_activity_date":1481800565,"creation_date":1458157258,"answer_id":36045464,"question_id":26459904,"body_markdown":"You can use the `-XshowSettings` flag in the Hotspot JVM version 1.7 and up (not supported in 1.6):\r\n\r\n    java -XshowSettings:properties -version\r\n\r\nOpenJDK has had support for this flag since late 2010.\r\n\r\nSeen in http://marxsoftware.blogspot.de/2016/02/hotspot-jvm-XshowSettings.html\r\n\r\n**EDIT 14 Dec 2016**\r\n\r\nThe Oracle JVM ships with the tool jcmd which allows you to see the flags present in a running JVM. See:\r\n\r\nhttps://docs.oracle.com/javase/8/docs/technotes/guides/troubleshoot/tooldescr006.html\r\n\r\nFor this use case, you could use:\r\n\r\n    jcmd &lt;pid&gt; VM.system_properties\r\n\r\nBut there are also many other useful commands. For example:\r\n\r\n    jcmd &lt;pid&gt; VM.flags\r\n    jcmd &lt;pid&gt; VM.command_line\r\n    jcmd &lt;pid&gt; GC.run ","title":"Reading Java system properties from command line","body":"<p>You can use the <code>-XshowSettings</code> flag in the Hotspot JVM version 1.7 and up (not supported in 1.6):</p>\n\n<pre><code>java -XshowSettings:properties -version\n</code></pre>\n\n<p>OpenJDK has had support for this flag since late 2010.</p>\n\n<p>Seen in <a href=\"http://marxsoftware.blogspot.de/2016/02/hotspot-jvm-XshowSettings.html\" rel=\"noreferrer\">http://marxsoftware.blogspot.de/2016/02/hotspot-jvm-XshowSettings.html</a></p>\n\n<p><strong>EDIT 14 Dec 2016</strong></p>\n\n<p>The Oracle JVM ships with the tool jcmd which allows you to see the flags present in a running JVM. See:</p>\n\n<p><a href=\"https://docs.oracle.com/javase/8/docs/technotes/guides/troubleshoot/tooldescr006.html\" rel=\"noreferrer\">https://docs.oracle.com/javase/8/docs/technotes/guides/troubleshoot/tooldescr006.html</a></p>\n\n<p>For this use case, you could use:</p>\n\n<pre><code>jcmd &lt;pid&gt; VM.system_properties\n</code></pre>\n\n<p>But there are also many other useful commands. For example:</p>\n\n<pre><code>jcmd &lt;pid&gt; VM.flags\njcmd &lt;pid&gt; VM.command_line\njcmd &lt;pid&gt; GC.run \n</code></pre>\n"},{"tags":[],"owner":{"account_id":16181340,"reputation":81,"user_id":11682795,"display_name":"ghud"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1561151631,"creation_date":1561143377,"answer_id":56709035,"question_id":26459904,"body_markdown":"If you need defaults that your JVM will initially have set unless overridden, use:\r\n```sh\r\njava -XshowSettings:properties -version  \r\n```\r\n\r\nThis is helpful if you don&#39;t have a Java application already running, thus no pid to pass to one of the other commands.\r\n\r\nIf you are seeking the properties of a JVM already running that has properties set via default or set explicitly by command, then use the pid for that JVM found via `jps` with the `jcmd` or `jinfo` commands as listed in answers above.","title":"Reading Java system properties from command line","body":"<p>If you need defaults that your JVM will initially have set unless overridden, use:</p>\n\n<pre class=\"lang-sh prettyprint-override\"><code>java -XshowSettings:properties -version  \n</code></pre>\n\n<p>This is helpful if you don't have a Java application already running, thus no pid to pass to one of the other commands.</p>\n\n<p>If you are seeking the properties of a JVM already running that has properties set via default or set explicitly by command, then use the pid for that JVM found via <code>jps</code> with the <code>jcmd</code> or <code>jinfo</code> commands as listed in answers above.</p>\n"},{"tags":[],"owner":{"account_id":57788,"reputation":46120,"user_id":173149,"accept_rate":62,"display_name":"gavenkoa"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662984521,"creation_date":1662984521,"answer_id":73689043,"question_id":26459904,"body_markdown":"Before `jcmd` times one can use JMX management connection from VisualVM. It is UI app so you have to expose JMX port from your remote headless servers to the that info...\r\n\r\nJMX settings might look like:\r\n\r\n```sh\r\nJAVA_OPT=&quot;$JAVA_OPT\r\n-Dcom.sun.management.jmxremote\r\n-Dcom.sun.management.jmxremote.rmi.port=$JMX_PORT\r\n-Dcom.sun.management.jmxremote.port=$JMX_PORT\r\n-Dcom.sun.management.jmxremote.host=localhost\r\n-Dcom.sun.management.jmxremote.local.only=true\r\n-Dcom.sun.management.jmxremote.ssl=false\r\n-Dcom.sun.management.jmxremote.authenticate=false\r\n-Djava.rmi.server.hostname=localhost&quot;\r\n```","title":"Reading Java system properties from command line","body":"<p>Before <code>jcmd</code> times one can use JMX management connection from VisualVM. It is UI app so you have to expose JMX port from your remote headless servers to the that info...</p>\n<p>JMX settings might look like:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>JAVA_OPT=&quot;$JAVA_OPT\n-Dcom.sun.management.jmxremote\n-Dcom.sun.management.jmxremote.rmi.port=$JMX_PORT\n-Dcom.sun.management.jmxremote.port=$JMX_PORT\n-Dcom.sun.management.jmxremote.host=localhost\n-Dcom.sun.management.jmxremote.local.only=true\n-Dcom.sun.management.jmxremote.ssl=false\n-Dcom.sun.management.jmxremote.authenticate=false\n-Djava.rmi.server.hostname=localhost&quot;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":43022,"reputation":22842,"user_id":125562,"accept_rate":64,"display_name":"Basilevs"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689341719,"creation_date":1689341719,"answer_id":76688203,"question_id":26459904,"body_markdown":"Yes. No parsing is required.\r\n```\r\njshell --feedback=silent -  &lt;&lt;&lt; &#39;System.out.println(System.getProperty(&quot;java.io.tmpdir&quot;))&#39;\r\n```","title":"Reading Java system properties from command line","body":"<p>Yes. No parsing is required.</p>\n<pre><code>jshell --feedback=silent -  &lt;&lt;&lt; 'System.out.println(System.getProperty(&quot;java.io.tmpdir&quot;))'\n</code></pre>\n"}],"owner":{"account_id":181829,"reputation":14010,"user_id":416100,"accept_rate":67,"display_name":"sakhunzai"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":90846,"favorite_count":0,"down_vote_count":1,"up_vote_count":73,"accepted_answer_id":36045464,"answer_count":5,"score":72,"last_activity_date":1689341719,"creation_date":1413787727,"question_id":26459904,"body_markdown":"Is there a better way to print system properties from command line? As we can set the property e.g. \r\n\r\n     java  -D&lt;name&gt;=&lt;value&gt;  //set a system property\r\n\r\nWithout writing a class to do that? \r\n\r\nIf not possible, why is it not possible/feasible/good to do that from the command line ?","title":"Reading Java system properties from command line","body":"<p>Is there a better way to print system properties from command line? As we can set the property e.g. </p>\n\n<pre><code> java  -D&lt;name&gt;=&lt;value&gt;  //set a system property\n</code></pre>\n\n<p>Without writing a class to do that? </p>\n\n<p>If not possible, why is it not possible/feasible/good to do that from the command line ?</p>\n"},{"tags":["java","spring-boot","keycloak","resttemplate","bearer-token"],"comments":[{"owner":{"account_id":15064163,"reputation":13516,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1689342335,"post_id":76679905,"comment_id":135203987,"body_markdown":"So what does the other microservice return and where?","body":"So what does the other microservice return and where?"}],"owner":{"account_id":24800295,"reputation":5,"user_id":18682737,"display_name":"Nouhaila Khaouti"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689341466,"creation_date":1689254870,"question_id":76679905,"body_markdown":"i&#39;m working on an tokenValidationInterceptor , where a request for token validation is send to an other micro-service which communicate with keycloak and send an ok status or unautorazed status , then i add some logic to the prehandle function and that&#39;s all , when i try to test it, i get this error:\r\n```\r\njakarta.servlet.ServletException: Request processing failed: org.springframework.web.client.HttpClientErrorException$Unauthorized: 401 : &quot;false&quot;\r\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1019) ~[spring-webmvc-6.0.9.jar:6.0.9]\r\n\tat org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914) ~[spring-webmvc-6.0.9.jar:6.0.9]\r\n\r\n``` \r\nalways get the same response unauthorized status with body false \r\n\r\ni tested the verifyToken method in the first micro service separatly , and i t was working fine , i get ok status with body true .\r\n\r\n \r\n**TokenValidationInterceptor prehandle method**\r\n```\r\n    public boolean preHandle(HttpServletRequest request, HttpServletResponse response, Object handler) throws Exception {\r\n        String token = request.getHeader(HttpHeaders.AUTHORIZATION);\r\n        String verificationUrl = &quot;http://localhost:8090/user/info?token=&quot; + token;\r\n        ResponseEntity&lt;Boolean&gt; verificationResponse = restTemplate.getForEntity(verificationUrl, Boolean.class);\r\n        if (verificationResponse.getStatusCode() == HttpStatus.OK &amp;&amp; verificationResponse.getBody() != null &amp;&amp; verificationResponse.getBody()) {\r\n            return true;\r\n        } else {\r\n            response.setStatus(HttpStatus.UNAUTHORIZED.value());\r\n            return false;\r\n        }\r\n    }\r\n```\r\n\r\nand for the verifyToken in the other micro-service\r\n\r\n```\r\npublic ResponseEntity&lt;?&gt; verifyToken(String token) {\r\n            String keycloakUrl = &quot;http://localhost:8080/auth/realms/lbv-realm/protocol/openid-connect/userinfo&quot;;\r\n            if (token != null) {\r\n                HttpHeaders headers = new HttpHeaders();\r\n                headers.setBearerAuth(token);\r\n                HttpEntity&lt;String&gt; requestEntity = new HttpEntity&lt;&gt;(headers);\r\n                RestTemplate restTemplate = new RestTemplate();\r\n                try {\r\n                    ResponseEntity&lt;String&gt; response = restTemplate.exchange(keycloakUrl, HttpMethod.GET, requestEntity, String.class);\r\n                    HttpStatusCode statusCode = response.getStatusCode();\r\n                    if (statusCode.is2xxSuccessful()) {\r\n                        return ResponseEntity.status(HttpStatus.OK).body(true);\r\n                    } else {\r\n                        return ResponseEntity.status(HttpStatus.UNAUTHORIZED).body(false);\r\n                    }\r\n                } catch (Exception ex) {\r\n                    return ResponseEntity.status(HttpStatus.UNAUTHORIZED).body(false);\r\n                }\r\n            } else {\r\n                return ResponseEntity.status(HttpStatus.UNAUTHORIZED).body(false);\r\n            }\r\n    }\r\n```","title":"Request processing failed: org.springframework.web.client.HttpClientErrorException$Unauthorized: 401 : &quot;false&quot;","body":"<p>i'm working on an tokenValidationInterceptor , where a request for token validation is send to an other micro-service which communicate with keycloak and send an ok status or unautorazed status , then i add some logic to the prehandle function and that's all , when i try to test it, i get this error:</p>\n<pre><code>jakarta.servlet.ServletException: Request processing failed: org.springframework.web.client.HttpClientErrorException$Unauthorized: 401 : &quot;false&quot;\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1019) ~[spring-webmvc-6.0.9.jar:6.0.9]\n    at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914) ~[spring-webmvc-6.0.9.jar:6.0.9]\n\n</code></pre>\n<p>always get the same response unauthorized status with body false</p>\n<p>i tested the verifyToken method in the first micro service separatly , and i t was working fine , i get ok status with body true .</p>\n<p><strong>TokenValidationInterceptor prehandle method</strong></p>\n<pre><code>    public boolean preHandle(HttpServletRequest request, HttpServletResponse response, Object handler) throws Exception {\n        String token = request.getHeader(HttpHeaders.AUTHORIZATION);\n        String verificationUrl = &quot;http://localhost:8090/user/info?token=&quot; + token;\n        ResponseEntity&lt;Boolean&gt; verificationResponse = restTemplate.getForEntity(verificationUrl, Boolean.class);\n        if (verificationResponse.getStatusCode() == HttpStatus.OK &amp;&amp; verificationResponse.getBody() != null &amp;&amp; verificationResponse.getBody()) {\n            return true;\n        } else {\n            response.setStatus(HttpStatus.UNAUTHORIZED.value());\n            return false;\n        }\n    }\n</code></pre>\n<p>and for the verifyToken in the other micro-service</p>\n<pre><code>public ResponseEntity&lt;?&gt; verifyToken(String token) {\n            String keycloakUrl = &quot;http://localhost:8080/auth/realms/lbv-realm/protocol/openid-connect/userinfo&quot;;\n            if (token != null) {\n                HttpHeaders headers = new HttpHeaders();\n                headers.setBearerAuth(token);\n                HttpEntity&lt;String&gt; requestEntity = new HttpEntity&lt;&gt;(headers);\n                RestTemplate restTemplate = new RestTemplate();\n                try {\n                    ResponseEntity&lt;String&gt; response = restTemplate.exchange(keycloakUrl, HttpMethod.GET, requestEntity, String.class);\n                    HttpStatusCode statusCode = response.getStatusCode();\n                    if (statusCode.is2xxSuccessful()) {\n                        return ResponseEntity.status(HttpStatus.OK).body(true);\n                    } else {\n                        return ResponseEntity.status(HttpStatus.UNAUTHORIZED).body(false);\n                    }\n                } catch (Exception ex) {\n                    return ResponseEntity.status(HttpStatus.UNAUTHORIZED).body(false);\n                }\n            } else {\n                return ResponseEntity.status(HttpStatus.UNAUTHORIZED).body(false);\n            }\n    }\n</code></pre>\n"},{"tags":["java","ical4j"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1689345334,"post_id":76688167,"comment_id":135204727,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":9858299,"reputation":1,"user_id":7302148,"display_name":"Krzysztof Filip&#243;w"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689341458,"creation_date":1689341458,"question_id":76688167,"body_markdown":"Let&#39;s say I have an List of unknown length of ical properties of unknown name represented as strings, i.e.\r\n`[&quot;DTSTART;TZID=&quot;Sarajevo, Skopje, Warsaw, Zagreb&quot;:20230726T100000&quot;, &quot;RRULE:FREQ=WEEKLY;WKST=SU;UNTIL=20230831T215959;INTERVAL=1;BYDAY=MO&quot;]`.\r\n\r\nWhat is the best way to parse `String` as `ical4j` `Property`?\r\n\r\nI considered splitting strings at colon and using `new PropertyBuilder(new DefaultPropertyFactorySupplier().get()).name(key).value(value).build()`, but this method fails when some parameters are present like `TZID` in provided example.","title":"How to dynamically create Property in ical4j?","body":"<p>Let's say I have an List of unknown length of ical properties of unknown name represented as strings, i.e.\n<code>[&quot;DTSTART;TZID=&quot;Sarajevo, Skopje, Warsaw, Zagreb&quot;:20230726T100000&quot;, &quot;RRULE:FREQ=WEEKLY;WKST=SU;UNTIL=20230831T215959;INTERVAL=1;BYDAY=MO&quot;]</code>.</p>\n<p>What is the best way to parse <code>String</code> as <code>ical4j</code> <code>Property</code>?</p>\n<p>I considered splitting strings at colon and using <code>new PropertyBuilder(new DefaultPropertyFactorySupplier().get()).name(key).value(value).build()</code>, but this method fails when some parameters are present like <code>TZID</code> in provided example.</p>\n"},{"tags":["java","android","gradle"],"comments":[{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1686482592,"post_id":76449830,"comment_id":134801732,"body_markdown":"The mentioned link to `aapt2-8.0.2-9289358-windows.jar` is correct and fully working here. Make sure your network is full functional and the link works. If it still doesn&#39;t work you can try to delete the cached files and force redownload. Local cache: `~/.gradle/caches/modules-2/files-2.1/com.android.tools.build/aapt2-proto/8.0.1-9289358`","body":"The mentioned link to <code>aapt2-8.0.2-9289358-windows.jar</code> is correct and fully working here. Make sure your network is full functional and the link works. If it still doesn&#39;t work you can try to delete the cached files and force redownload. Local cache: <code>~&#47;.gradle&#47;caches&#47;modules-2&#47;files-2.1&#47;com.android.tools.build&zwnj;&#8203;&#47;aapt2-proto&#47;8.0.1-9&zwnj;&#8203;289358</code>"}],"answers":[{"tags":[],"owner":{"account_id":14220953,"reputation":21,"user_id":10273281,"display_name":"Sina Nakhaei"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686519846,"creation_date":1686519846,"answer_id":76452618,"question_id":76449830,"body_markdown":"I faced the same problem , this solution worked for me, just go to ```settings.gradle```, and reorder repositories so they look like this:\r\n\r\n\r\n```\r\npluginManagement {\r\n    repositories {\r\n        mavenCentral()\r\n        google()\r\n        gradlePluginPortal()\r\n    }\r\n}\r\ndependencyResolutionManagement {\r\n    repositoriesMode.set(RepositoriesMode.FAIL_ON_PROJECT_REPOS)\r\n    repositories {\r\n        mavenCentral()\r\n        google()\r\n    }\r\n}\r\n```\r\n\r\n** this worked on gradle plugin 8.0.2 and gradle version 8.0 and JDK 17**","title":"Could not find aapt2-8.0.2-9289358-windows.jar","body":"<p>I faced the same problem , this solution worked for me, just go to <code>settings.gradle</code>, and reorder repositories so they look like this:</p>\n<pre><code>pluginManagement {\n    repositories {\n        mavenCentral()\n        google()\n        gradlePluginPortal()\n    }\n}\ndependencyResolutionManagement {\n    repositoriesMode.set(RepositoriesMode.FAIL_ON_PROJECT_REPOS)\n    repositories {\n        mavenCentral()\n        google()\n    }\n}\n</code></pre>\n<p>** this worked on gradle plugin 8.0.2 and gradle version 8.0 and JDK 17**</p>\n"},{"tags":[],"owner":{"account_id":7740347,"reputation":452,"user_id":5860352,"display_name":"Doron Ben-Ari"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689341417,"creation_date":1689341417,"answer_id":76688161,"question_id":76449830,"body_markdown":"For me it was resolved by deleting C:\\Users\\&lt;user&gt;\\.gradle\\caches","title":"Could not find aapt2-8.0.2-9289358-windows.jar","body":"<p>For me it was resolved by deleting C:\\Users&lt;user&gt;.gradle\\caches</p>\n"}],"owner":{"account_id":28797597,"reputation":1,"user_id":22055386,"display_name":"MohammadHossein"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":320,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1689341417,"creation_date":1686475721,"question_id":76449830,"body_markdown":"when i run my application i get this error :\r\n\r\n```\r\nExecution failed for task &#39;:app:processDebugResources&#39;.\r\n&gt; Could not isolate parameters com.android.build.gradle.internal.dependency.AarResourcesCompilerTransform$Parameters_Decorated@4e59c9e of artifact transform AarResourcesCompilerTransform\r\n   &gt; Could not isolate value com.android.build.gradle.internal.dependency.AarResourcesCompilerTransform$Parameters_Decorated@4e59c9e of type AarResourcesCompilerTransform.Parameters\r\n      &gt; Could not resolve all files for configuration &#39;:app:detachedConfiguration2&#39;.\r\n         &gt; Failed to transform aapt2-8.0.2-9289358-windows.jar (com.android.tools.build:aapt2:8.0.2-9289358) to match attributes {artifactType=_internal-android-aapt2-binary, org.gradle.libraryelements=jar, org.gradle.status=release, org.gradle.usage=java-runtime}.\r\n            &gt; Could not find aapt2-8.0.2-9289358-windows.jar (com.android.tools.build:aapt2:8.0.2-9289358).\r\n              Searched in the following locations:\r\n                  https://dl.google.com/dl/android/maven2/com/android/tools/build/aapt2/8.0.2-9289358/aapt2-8.0.2-9289358-windows.jar\r\n\r\nPossible solution:\r\n - Declare repository providing the artifact, see the documentation at https://docs.gradle.org/current/userguide/declaring_repositories.html\r\n\r\n```\r\n\r\nevrything is ok i update gradle an evrything but problame is still going when i run elomatur","title":"Could not find aapt2-8.0.2-9289358-windows.jar","body":"<p>when i run my application i get this error :</p>\n<pre><code>Execution failed for task ':app:processDebugResources'.\n&gt; Could not isolate parameters com.android.build.gradle.internal.dependency.AarResourcesCompilerTransform$Parameters_Decorated@4e59c9e of artifact transform AarResourcesCompilerTransform\n   &gt; Could not isolate value com.android.build.gradle.internal.dependency.AarResourcesCompilerTransform$Parameters_Decorated@4e59c9e of type AarResourcesCompilerTransform.Parameters\n      &gt; Could not resolve all files for configuration ':app:detachedConfiguration2'.\n         &gt; Failed to transform aapt2-8.0.2-9289358-windows.jar (com.android.tools.build:aapt2:8.0.2-9289358) to match attributes {artifactType=_internal-android-aapt2-binary, org.gradle.libraryelements=jar, org.gradle.status=release, org.gradle.usage=java-runtime}.\n            &gt; Could not find aapt2-8.0.2-9289358-windows.jar (com.android.tools.build:aapt2:8.0.2-9289358).\n              Searched in the following locations:\n                  https://dl.google.com/dl/android/maven2/com/android/tools/build/aapt2/8.0.2-9289358/aapt2-8.0.2-9289358-windows.jar\n\nPossible solution:\n - Declare repository providing the artifact, see the documentation at https://docs.gradle.org/current/userguide/declaring_repositories.html\n\n</code></pre>\n<p>evrything is ok i update gradle an evrything but problame is still going when i run elomatur</p>\n"},{"tags":["java","notion"],"owner":{"account_id":16635777,"reputation":1,"user_id":12022507,"display_name":"Gary"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689341248,"creation_date":1689340312,"question_id":76688022,"body_markdown":"Code:\r\n\r\n    private void GetDBase() throws IOException {\r\n\r\n       try\r\n       {\r\n           client = new NotionClient(TOKEN);\r\n           String t = client.getToken();\r\n           System.out.println(t);\r\n\r\n       }\r\n       catch(Exception e)\r\n       {\r\n  \r\n       }\r\n \r\n       Users users = client.listUsers();\r\n       List&lt;User&gt; uusers = users.getResults();\r\n     for(User u : uusers)\r\n       {\r\n          String out = &quot;&quot;;\r\n          out = &quot;USER:&quot; + u.getName() + &quot; &quot; + u.getId() + &quot;\\n&quot;;\r\n          System.out.println(out);;\r\n      }\r\n        Database db= client.retrieveDatabase(DATABASE_ID);  ---------&gt;error message below\r\n        String id = db.getId();\r\n       System.out.println(id);    \r\n       client.close();\r\n    }\r\n\r\nError Message:\r\n\r\nI get the DATABASE_ID from the URL when the database is displayed in the browser but\r\nthe following error occurs:\r\n\r\n&gt; body      {&quot;object&quot;:&quot;error&quot;,&quot;status&quot;:404,&quot;code&quot;:&quot;object_not_found&quot;,&quot;message&quot;:&quot;Could not find database with ID: 35ecc67e-eda3-4929-94f7-9d3bbf2ad297. Make sure the relevant pages and databases are shared with your integration.&quot;}\r\n\r\nAny suggestions?\r\n\r\n\r\nI should get a Response/Request object that I can parse in Java","title":"Notion API for Java can&#39;t retrieve a Notion DataBase","body":"<p>Code:</p>\n<pre><code>private void GetDBase() throws IOException {\n\n   try\n   {\n       client = new NotionClient(TOKEN);\n       String t = client.getToken();\n       System.out.println(t);\n\n   }\n   catch(Exception e)\n   {\n\n   }\n\n   Users users = client.listUsers();\n   List&lt;User&gt; uusers = users.getResults();\n for(User u : uusers)\n   {\n      String out = &quot;&quot;;\n      out = &quot;USER:&quot; + u.getName() + &quot; &quot; + u.getId() + &quot;\\n&quot;;\n      System.out.println(out);;\n  }\n    Database db= client.retrieveDatabase(DATABASE_ID);  ---------&gt;error message below\n    String id = db.getId();\n   System.out.println(id);    \n   client.close();\n}\n</code></pre>\n<p>Error Message:</p>\n<p>I get the DATABASE_ID from the URL when the database is displayed in the browser but\nthe following error occurs:</p>\n<blockquote>\n<p>body      {&quot;object&quot;:&quot;error&quot;,&quot;status&quot;:404,&quot;code&quot;:&quot;object_not_found&quot;,&quot;message&quot;:&quot;Could not find database with ID: 35ecc67e-eda3-4929-94f7-9d3bbf2ad297. Make sure the relevant pages and databases are shared with your integration.&quot;}</p>\n</blockquote>\n<p>Any suggestions?</p>\n<p>I should get a Response/Request object that I can parse in Java</p>\n"},{"tags":["java","xml","xml-binding"],"comments":[{"owner":{"account_id":14763186,"reputation":101,"user_id":10661933,"display_name":"PawMaw"},"score":0,"creation_date":1689341580,"post_id":76688106,"comment_id":135203802,"body_markdown":"Hello! I suggest you try to change `namespace = &quot;xmlns=urn:nonstandard:****&quot;` to `namespace = &quot;urn:nonstandard:****&quot;`","body":"Hello! I suggest you try to change <code>namespace = &quot;xmlns=urn:nonstandard:****&quot;</code> to <code>namespace = &quot;urn:nonstandard:****&quot;</code>"},{"owner":{"account_id":13535116,"reputation":1,"user_id":9764520,"display_name":"AnilSrinivas Muddineni"},"score":0,"creation_date":1689411644,"post_id":76688106,"comment_id":135212081,"body_markdown":"Thank you @PawMaw . sorry i was new in using xml namespace thing, it worked and its coming as **xmlns:ns2=&quot;urn:nonstandard:mfiu-ttr&quot;**. How can i remove ns2 after xmlns","body":"Thank you @PawMaw . sorry i was new in using xml namespace thing, it worked and its coming as <b>xmlns:ns2=&quot;urn:nonstandard:mfiu-ttr&quot;</b>. How can i remove ns2 after xmlns"},{"owner":{"account_id":14763186,"reputation":101,"user_id":10661933,"display_name":"PawMaw"},"score":0,"creation_date":1689448729,"post_id":76688106,"comment_id":135216213,"body_markdown":"I searched some topics and found 2 solutions. One of them is try to add attribute `prefix=&quot;&quot;` to your report tag. If it wont help go to this question\n\nhttps://stackoverflow.com/questions/16589600/remove-ns2-as-default-namespace-prefix","body":"I searched some topics and found 2 solutions. One of them is try to add attribute <code>prefix=&quot;&quot;</code> to your report tag. If it wont help go to this question  <a href=\"https://stackoverflow.com/questions/16589600/remove-ns2-as-default-namespace-prefix\" title=\"remove ns2 as default namespace prefix\">stackoverflow.com/questions/16589600/&hellip;</a>"},{"owner":{"account_id":13535116,"reputation":1,"user_id":9764520,"display_name":"AnilSrinivas Muddineni"},"score":1,"creation_date":1689573183,"post_id":76688106,"comment_id":135226856,"body_markdown":"I found this similar to my question and it helps\nhttps://stackoverflow.com/questions/4312572/jaxb-generated-xml-problem-with-root-element-prefix","body":"I found this similar to my question and it helps <a href=\"https://stackoverflow.com/questions/4312572/jaxb-generated-xml-problem-with-root-element-prefix\" title=\"jaxb generated xml problem with root element prefix\">stackoverflow.com/questions/4312572/&hellip;</a>"}],"owner":{"account_id":13535116,"reputation":1,"user_id":9764520,"display_name":"AnilSrinivas Muddineni"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689341029,"creation_date":1689341029,"question_id":76688106,"body_markdown":"Please find below xml format where namespace is coming in end tags as well \r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;yes&quot;?&gt;\r\n&lt;report xmlns=&quot;urn:nonstandard:****&quot;&gt;\r\n&lt;headers/&gt;\r\n&lt;report_details/&gt;\r\n&lt;/report xmlns=&quot;urn:nonstandard:****&quot;&gt;\r\n```\r\nPlease check below code snippet which i&#39;m using \r\n```\r\n@XmlRootElement(name = &quot;report&quot;, \r\nnamespace = &quot;xmlns=urn:nonstandard:****&quot;)\r\n@XmlAccessorType(XmlAccessType.FIELD)\r\npublic class ReportVo {\r\n        @XmlElement(name=&quot;header&quot;)\r\n\tprivate HeaderVo headerVo;\r\n\t\r\n\t\r\n\t@XmlElement(name=&quot;report_details&quot;)\r\n\tprivate ReportDetailsVO reportDetailsVo;\r\n}\r\n```\r\nand i&#39;m expecting my xml should generate like below\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;yes&quot;?&gt;\r\n&lt;report xmlns=&quot;urn:nonstandard:****&quot;&gt;\r\n&lt;headers/&gt;\r\n&lt;report_details/&gt;\r\n&lt;/report&gt;\r\n\r\n```","title":"namesspace is coming in ending tag of xml root element","body":"<p>Please find below xml format where namespace is coming in end tags as well</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;yes&quot;?&gt;\n&lt;report xmlns=&quot;urn:nonstandard:****&quot;&gt;\n&lt;headers/&gt;\n&lt;report_details/&gt;\n&lt;/report xmlns=&quot;urn:nonstandard:****&quot;&gt;\n</code></pre>\n<p>Please check below code snippet which i'm using</p>\n<pre><code>@XmlRootElement(name = &quot;report&quot;, \nnamespace = &quot;xmlns=urn:nonstandard:****&quot;)\n@XmlAccessorType(XmlAccessType.FIELD)\npublic class ReportVo {\n        @XmlElement(name=&quot;header&quot;)\n    private HeaderVo headerVo;\n    \n    \n    @XmlElement(name=&quot;report_details&quot;)\n    private ReportDetailsVO reportDetailsVo;\n}\n</code></pre>\n<p>and i'm expecting my xml should generate like below</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;yes&quot;?&gt;\n&lt;report xmlns=&quot;urn:nonstandard:****&quot;&gt;\n&lt;headers/&gt;\n&lt;report_details/&gt;\n&lt;/report&gt;\n\n</code></pre>\n"},{"tags":["java","mongodb","spring-data","spring-data-mongodb"],"comments":[{"owner":{"account_id":12859371,"reputation":103,"user_id":9301666,"display_name":"Peyton Wolf"},"score":0,"creation_date":1651172282,"post_id":72047582,"comment_id":127307040,"body_markdown":"You can type the id field as an ObjectId to begin with (`private ObjectId id`) or if you want it to be a string, set the value from the application code when building the initial object (something like `ObjectId.get().toString()`) instead of letting the database set it for you. Alternatively, since it sounds like you&#39;re using the `MongoOperations#save` function, you could use the `update` function instead.","body":"You can type the id field as an ObjectId to begin with (<code>private ObjectId id</code>) or if you want it to be a string, set the value from the application code when building the initial object (something like <code>ObjectId.get().toString()</code>) instead of letting the database set it for you. Alternatively, since it sounds like you&#39;re using the <code>MongoOperations#save</code> function, you could use the <code>update</code> function instead."},{"owner":{"account_id":12262607,"reputation":1364,"user_id":8949877,"display_name":"Harshit"},"score":0,"creation_date":1651205218,"post_id":72047582,"comment_id":127313470,"body_markdown":"remove ```@Field(&quot;_id&quot;)``` and check","body":"remove <code>@Field(&quot;_id&quot;)</code> and check"},{"owner":{"account_id":5951494,"reputation":12969,"user_id":4679320,"accept_rate":67,"display_name":"prasad_"},"score":1,"creation_date":1651205789,"post_id":72047582,"comment_id":127313543,"body_markdown":"You need to know the usage of the annotations `@Id`, `@Field` and `@MongoId` - how they affect the MongoDB document&#39;s `_id` field. See this post for some details: [Spring Mongo Repository is unable to match String to ObjectId in _id field](https://stackoverflow.com/questions/62590544/spring-mongo-repository-is-unable-to-match-string-to-objectid-in-id-field/62592108#62592108)","body":"You need to know the usage of the annotations <code>@Id</code>, <code>@Field</code> and <code>@MongoId</code> - how they affect the MongoDB document&#39;s <code>_id</code> field. See this post for some details: <a href=\"https://stackoverflow.com/questions/62590544/spring-mongo-repository-is-unable-to-match-string-to-objectid-in-id-field/62592108#62592108\">Spring Mongo Repository is unable to match String to ObjectId in _id field</a>"}],"answers":[{"comments":[{"owner":{"account_id":15492584,"reputation":164,"user_id":11436109,"display_name":"SP193"},"score":0,"creation_date":1693366847,"post_id":76688104,"comment_id":135749779,"body_markdown":"MongoId is a specialized Id annotation that may customize type conversion. By specifying it, you inhibit automatic type conversion to ObjectId by default as it implicitly specifies FieldType.IMPLICIT. There is no need to annotate Id alongside MongoId. Docs: https://docs.spring.io/spring-data/mongodb/docs/current/api/org/springframework/data/mongodb/core/mapping/MongoId.html","body":"MongoId is a specialized Id annotation that may customize type conversion. By specifying it, you inhibit automatic type conversion to ObjectId by default as it implicitly specifies FieldType.IMPLICIT. There is no need to annotate Id alongside MongoId. Docs: <a href=\"https://docs.spring.io/spring-data/mongodb/docs/current/api/org/springframework/data/mongodb/core/mapping/MongoId.html\" rel=\"nofollow noreferrer\">docs.spring.io/spring-data/mongodb/docs/current/api/org/&hellip;</a>"}],"tags":[],"owner":{"account_id":26415879,"reputation":1,"user_id":20064285,"display_name":"Gabriel Lirio Duarte"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689341018,"creation_date":1689341018,"answer_id":76688104,"question_id":72047582,"body_markdown":"Try to use the properties below in your class:  \r\n\r\n  \r\n\r\n    @Id\r\n    @MongoId\r\n    @org.springframework.data.annotation.Id\r\n    @Column(name = &quot;myId&quot;)\r\n    private String myId;\r\n\r\n\r\n\r\n@MongoId - transforms the ID defined in your class as the primary ID of the document in MongoDB. This way, it does not generate the default ObjectId (MongoDB&#39;s default ID).","title":"Spring data mongodb creates ObjectId on the saving and String _id on updating","body":"<p>Try to use the properties below in your class:</p>\n<pre><code>@Id\n@MongoId\n@org.springframework.data.annotation.Id\n@Column(name = &quot;myId&quot;)\nprivate String myId;\n</code></pre>\n<p>@MongoId - transforms the ID defined in your class as the primary ID of the document in MongoDB. This way, it does not generate the default ObjectId (MongoDB's default ID).</p>\n"}],"owner":{"account_id":16506411,"reputation":1143,"user_id":11926338,"display_name":"Pavel Petrashov"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":7563,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1689341018,"creation_date":1651165036,"question_id":72047582,"body_markdown":"I have an entity:\r\n\r\n    @Document(collection = &quot;users&quot;)\r\n    @Getter\r\n    @Setter\r\n    public class User {\r\n    \r\n        @Id\r\n        @Field(&quot;_id&quot;)\r\n        private String id;\r\n\r\nWhen I save an entity via spring repository it creates Id in DB: \r\n\r\n    &quot;_id&quot; : ObjectId(&quot;626ac45dbf00d30e6a67ac73&quot;)\r\n\r\nWhen I select that entity, update a field and save it again, it creates a new item in the DB with Id: \r\n\r\n    &quot;_id&quot; : &quot;626ac45dbf00d30e6a67ac73&quot;\r\n\r\nWhat should I do for keeping the same ids on the creation and updating entity? ","title":"Spring data mongodb creates ObjectId on the saving and String _id on updating","body":"<p>I have an entity:</p>\n<pre><code>@Document(collection = &quot;users&quot;)\n@Getter\n@Setter\npublic class User {\n\n    @Id\n    @Field(&quot;_id&quot;)\n    private String id;\n</code></pre>\n<p>When I save an entity via spring repository it creates Id in DB:</p>\n<pre><code>&quot;_id&quot; : ObjectId(&quot;626ac45dbf00d30e6a67ac73&quot;)\n</code></pre>\n<p>When I select that entity, update a field and save it again, it creates a new item in the DB with Id:</p>\n<pre><code>&quot;_id&quot; : &quot;626ac45dbf00d30e6a67ac73&quot;\n</code></pre>\n<p>What should I do for keeping the same ids on the creation and updating entity?</p>\n"},{"tags":["java","spring-boot","spring-boot-actuator"],"answers":[{"comments":[{"owner":{"account_id":192592,"reputation":21571,"user_id":433814,"accept_rate":86,"display_name":"Marcello DeSales"},"score":0,"creation_date":1689262887,"post_id":76636399,"comment_id":135191843,"body_markdown":"Will it affect both management and the app logs? how would they go to different files? is this on 2.3.5 or newer versions? can you please specify in your answer?","body":"Will it affect both management and the app logs? how would they go to different files? is this on 2.3.5 or newer versions? can you please specify in your answer?"},{"owner":{"account_id":28877964,"reputation":581,"user_id":22118035,"display_name":"Dhruman Desai"},"score":0,"creation_date":1689310741,"post_id":76636399,"comment_id":135198144,"body_markdown":"It is in 2.3.5 version.","body":"It is in 2.3.5 version."}],"tags":[],"owner":{"account_id":28877964,"reputation":581,"user_id":22118035,"display_name":"Dhruman Desai"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1689340636,"creation_date":1688727928,"answer_id":76636399,"question_id":64847763,"body_markdown":"This solution will work for **version 2.3.5** : \r\n\r\nOpen your application.properties or application.yml file.\r\n\r\nAdd or modify the following property to specify the log file location:\r\n\r\nFor application.properties:\r\n\r\n    logging.file=/dev/stdout\r\n\r\nFor application.yml:\r\n\r\n    logging:\r\n      file: /dev/stdout\r\n\r\nBy explicitly setting the log file to /dev/stdout, you ensure that the logs are streamed to the standard output, which is what you want.\r\n\r\nSave the changes and restart your application.\r\n","title":"SpringBoot 2.3.5 actuator different port causes FileNotFoundException: /dev/management_stdout","body":"<p>This solution will work for <strong>version 2.3.5</strong> :</p>\n<p>Open your application.properties or application.yml file.</p>\n<p>Add or modify the following property to specify the log file location:</p>\n<p>For application.properties:</p>\n<pre><code>logging.file=/dev/stdout\n</code></pre>\n<p>For application.yml:</p>\n<pre><code>logging:\n  file: /dev/stdout\n</code></pre>\n<p>By explicitly setting the log file to /dev/stdout, you ensure that the logs are streamed to the standard output, which is what you want.</p>\n<p>Save the changes and restart your application.</p>\n"}],"owner":{"account_id":192592,"reputation":21571,"user_id":433814,"accept_rate":86,"display_name":"Marcello DeSales"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":671,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"answer_count":1,"score":12,"last_activity_date":1689340636,"creation_date":1605462309,"question_id":64847763,"body_markdown":"# Requirement\r\n\r\n* We need to change the actuator endpoints to be on a different port number\r\n* Changing the value of `management.server.port: 8404` causes an exception as the server configures the new port to stream logs to `/dev/management_stdout` when it should be `/dev/stdout` (already configured for the server).\r\n\r\n# SpringBoot 2.3.5 Setup\r\n\r\n```gradle\r\nbuildscript {\r\n    repositories {\r\n        mavenCentral()\r\n\r\n        // For src/gradle/tests.gradle\r\n        maven {\r\n            url &quot;https://plugins.gradle.org/m2/&quot;\r\n        }\r\n    }\r\n    dependencies {\r\n        classpath(&quot;org.springframework.boot:spring-boot-gradle-plugin:2.3.5.RELEASE&quot;)\r\n    }\r\n}\r\n\r\ndependencies {\r\n    implementation(&#39;org.springframework.boot:spring-boot-starter-actuator&#39;)\r\n}\r\n```\r\n\r\n# Changing SpringBoot Actuator\r\n\r\n* Changed the port number as follows in `application.yaml`\r\n\r\n```yaml\r\nmanagement:\r\n  endpoints:\r\n    web:\r\n      exposure:\r\n        include: &quot;*&quot;\r\n  server:\r\n    port: 8404\r\n```\r\n\r\n# Error shown during bootstrap\r\n\r\n* The default logger is trying to write to `/dev/management_stdout`\r\n\r\n```\r\n2020-11-15T17:23:41 ERROR [app=parking-plus-service,prf=default][tid=,sid=,sxp=][cid=] 77926 --- [  restartedMain] o.apache.catalina.valves.AccessLogValve  : Failed to open access log file [/dev/management_stdout]\r\n\r\njava.io.FileNotFoundException: /dev/management_stdout (Operation not permitted)\r\n\tat java.base/java.io.FileOutputStream.open0(Native Method)\r\n\tat java.base/java.io.FileOutputStream.open(FileOutputStream.java:291)\r\n\tat java.base/java.io.FileOutputStream.&lt;init&gt;(FileOutputStream.java:234)\r\n\tat org.apache.catalina.valves.AccessLogValve.open(AccessLogValve.java:651)\r\n\tat org.apache.catalina.valves.AccessLogValve.startInternal(AccessLogValve.java:685)\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n\tat org.apache.catalina.core.StandardPipeline.startInternal(StandardPipeline.java:176)\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n\tat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:933)\r\n\tat org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:262)\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n\tat org.apache.catalina.core.StandardService.startInternal(StandardService.java:421)\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n\tat org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:930)\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n\tat org.apache.catalina.startup.Tomcat.start(Tomcat.java:486)\r\n\tat org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:123)\r\n\tat org.springframework.boot.web.embedded.tomcat.TomcatWebServer.&lt;init&gt;(TomcatWebServer.java:104)\r\n\tat org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getTomcatWebServer(TomcatServletWebServerFactory.java:440)\r\n\tat org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getWebServer(TomcatServletWebServerFactory.java:193)\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:178)\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:158)\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:545)\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:143)\r\n\tat org.springframework.boot.actuate.autoconfigure.web.server.ManagementContextAutoConfiguration$DifferentManagementContextConfiguration.onApplicationEvent(ManagementContextAutoConfiguration.java:142)\r\n\tat org.springframework.boot.actuate.autoconfigure.web.server.ManagementContextAutoConfiguration$DifferentManagementContextConfiguration.onApplicationEvent(ManagementContextAutoConfiguration.java:114)\r\n\tat org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:172)\r\n\tat org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:165)\r\n\tat org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:139)\r\n\tat org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:404)\r\n\tat org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:361)\r\n\tat org.springframework.boot.web.servlet.context.WebServerStartStopLifecycle.start(WebServerStartStopLifecycle.java:46)\r\n\tat org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:182)\r\n\tat org.springframework.context.support.DefaultLifecycleProcessor.access$200(DefaultLifecycleProcessor.java:53)\r\n\tat org.springframework.context.support.DefaultLifecycleProcessor$LifecycleGroup.start(DefaultLifecycleProcessor.java:360)\r\n\tat org.springframework.context.support.DefaultLifecycleProcessor.startBeans(DefaultLifecycleProcessor.java:158)\r\n\tat org.springframework.context.support.DefaultLifecycleProcessor.onRefresh(DefaultLifecycleProcessor.java:122)\r\n\tat org.springframework.context.support.AbstractApplicationContext.finishRefresh(AbstractApplicationContext.java:895)\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:554)\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:143)\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:758)\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:750)\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:405)\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:315)\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1237)\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1226)\r\n\tat cash.super_.platform.service.ParkingPlusApplication.main(ParkingPlusApplication.java:12)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:564)\r\n\tat org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49)\r\n```\r\n\r\n# Question\r\n\r\n* Which property sets the file name prefix `stdout` just like on the server settings shown below?\r\n  * Maybe the management embedded tomcat is taking the value of `directory` and using the prefix as `management_stdout` as the value of the file?\r\n\r\n```yaml\r\nserver:\r\n  #port: 8080 default\r\n  tomcat:\r\n    accesslog:\r\n      enabled: true\r\n      directory: /dev\r\n      prefix: stdout\r\n      buffered: false\r\n      suffix:\r\n      file-date-format:\r\n```","title":"SpringBoot 2.3.5 actuator different port causes FileNotFoundException: /dev/management_stdout","body":"<h1>Requirement</h1>\n<ul>\n<li>We need to change the actuator endpoints to be on a different port number</li>\n<li>Changing the value of <code>management.server.port: 8404</code> causes an exception as the server configures the new port to stream logs to <code>/dev/management_stdout</code> when it should be <code>/dev/stdout</code> (already configured for the server).</li>\n</ul>\n<h1>SpringBoot 2.3.5 Setup</h1>\n<pre><code>buildscript {\n    repositories {\n        mavenCentral()\n\n        // For src/gradle/tests.gradle\n        maven {\n            url &quot;https://plugins.gradle.org/m2/&quot;\n        }\n    }\n    dependencies {\n        classpath(&quot;org.springframework.boot:spring-boot-gradle-plugin:2.3.5.RELEASE&quot;)\n    }\n}\n\ndependencies {\n    implementation('org.springframework.boot:spring-boot-starter-actuator')\n}\n</code></pre>\n<h1>Changing SpringBoot Actuator</h1>\n<ul>\n<li>Changed the port number as follows in <code>application.yaml</code></li>\n</ul>\n<pre class=\"lang-yaml prettyprint-override\"><code>management:\n  endpoints:\n    web:\n      exposure:\n        include: &quot;*&quot;\n  server:\n    port: 8404\n</code></pre>\n<h1>Error shown during bootstrap</h1>\n<ul>\n<li>The default logger is trying to write to <code>/dev/management_stdout</code></li>\n</ul>\n<pre><code>2020-11-15T17:23:41 ERROR [app=parking-plus-service,prf=default][tid=,sid=,sxp=][cid=] 77926 --- [  restartedMain] o.apache.catalina.valves.AccessLogValve  : Failed to open access log file [/dev/management_stdout]\n\njava.io.FileNotFoundException: /dev/management_stdout (Operation not permitted)\n    at java.base/java.io.FileOutputStream.open0(Native Method)\n    at java.base/java.io.FileOutputStream.open(FileOutputStream.java:291)\n    at java.base/java.io.FileOutputStream.&lt;init&gt;(FileOutputStream.java:234)\n    at org.apache.catalina.valves.AccessLogValve.open(AccessLogValve.java:651)\n    at org.apache.catalina.valves.AccessLogValve.startInternal(AccessLogValve.java:685)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n    at org.apache.catalina.core.StandardPipeline.startInternal(StandardPipeline.java:176)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n    at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:933)\n    at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:262)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n    at org.apache.catalina.core.StandardService.startInternal(StandardService.java:421)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n    at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:930)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n    at org.apache.catalina.startup.Tomcat.start(Tomcat.java:486)\n    at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:123)\n    at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.&lt;init&gt;(TomcatWebServer.java:104)\n    at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getTomcatWebServer(TomcatServletWebServerFactory.java:440)\n    at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getWebServer(TomcatServletWebServerFactory.java:193)\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:178)\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:158)\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:545)\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:143)\n    at org.springframework.boot.actuate.autoconfigure.web.server.ManagementContextAutoConfiguration$DifferentManagementContextConfiguration.onApplicationEvent(ManagementContextAutoConfiguration.java:142)\n    at org.springframework.boot.actuate.autoconfigure.web.server.ManagementContextAutoConfiguration$DifferentManagementContextConfiguration.onApplicationEvent(ManagementContextAutoConfiguration.java:114)\n    at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:172)\n    at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:165)\n    at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:139)\n    at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:404)\n    at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:361)\n    at org.springframework.boot.web.servlet.context.WebServerStartStopLifecycle.start(WebServerStartStopLifecycle.java:46)\n    at org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:182)\n    at org.springframework.context.support.DefaultLifecycleProcessor.access$200(DefaultLifecycleProcessor.java:53)\n    at org.springframework.context.support.DefaultLifecycleProcessor$LifecycleGroup.start(DefaultLifecycleProcessor.java:360)\n    at org.springframework.context.support.DefaultLifecycleProcessor.startBeans(DefaultLifecycleProcessor.java:158)\n    at org.springframework.context.support.DefaultLifecycleProcessor.onRefresh(DefaultLifecycleProcessor.java:122)\n    at org.springframework.context.support.AbstractApplicationContext.finishRefresh(AbstractApplicationContext.java:895)\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:554)\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:143)\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:758)\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:750)\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:405)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:315)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1237)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1226)\n    at cash.super_.platform.service.ParkingPlusApplication.main(ParkingPlusApplication.java:12)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:564)\n    at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49)\n</code></pre>\n<h1>Question</h1>\n<ul>\n<li>Which property sets the file name prefix <code>stdout</code> just like on the server settings shown below?\n<ul>\n<li>Maybe the management embedded tomcat is taking the value of <code>directory</code> and using the prefix as <code>management_stdout</code> as the value of the file?</li>\n</ul>\n</li>\n</ul>\n<pre class=\"lang-yaml prettyprint-override\"><code>server:\n  #port: 8080 default\n  tomcat:\n    accesslog:\n      enabled: true\n      directory: /dev\n      prefix: stdout\n      buffered: false\n      suffix:\n      file-date-format:\n</code></pre>\n"},{"tags":["java","spring-boot","elasticsearch","kibana"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1689349239,"post_id":76687124,"comment_id":135205683,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"tags":[],"owner":{"account_id":149941,"reputation":2907,"user_id":362792,"display_name":"Hitobat"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689340441,"creation_date":1689340441,"answer_id":76688038,"question_id":76687124,"body_markdown":"It looks like the `NativeSearchQueryBuilder` class, and the `NativeSearchQuery` instances produced by it were deprecated in Spring Data Elasticsearch 5.0.\r\nI assume your upgrade for Spring Boot 3.1 has also changed the spring data dependency version as well, perhaps to latest.\r\n\r\nInstead you should replace with `NativeQuery.builder()` following the example from this previous SO answer. https://stackoverflow.com/a/76007192/362792\r\n\r\nThe official docs for this (I think) are below, see &quot;Package Changes&quot; section.\r\nhttps://docs.spring.io/spring-data/elasticsearch/docs/5.1.2/reference/html/#elasticsearch-migration-guide-4.4-5.0.breaking-changes-packages","title":"IllegalArgumentException: unhandled Query implementation org.springframework.data.elasticsearch.client.erhlc.NativeSearchQuery","body":"<p>It looks like the <code>NativeSearchQueryBuilder</code> class, and the <code>NativeSearchQuery</code> instances produced by it were deprecated in Spring Data Elasticsearch 5.0.\nI assume your upgrade for Spring Boot 3.1 has also changed the spring data dependency version as well, perhaps to latest.</p>\n<p>Instead you should replace with <code>NativeQuery.builder()</code> following the example from this previous SO answer. <a href=\"https://stackoverflow.com/a/76007192/362792\">https://stackoverflow.com/a/76007192/362792</a></p>\n<p>The official docs for this (I think) are below, see &quot;Package Changes&quot; section.\n<a href=\"https://docs.spring.io/spring-data/elasticsearch/docs/5.1.2/reference/html/#elasticsearch-migration-guide-4.4-5.0.breaking-changes-packages\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-data/elasticsearch/docs/5.1.2/reference/html/#elasticsearch-migration-guide-4.4-5.0.breaking-changes-packages</a></p>\n"}],"owner":{"account_id":25559284,"reputation":1,"user_id":19342168,"display_name":"user19342168"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":144,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1689340441,"creation_date":1689333065,"question_id":76687124,"body_markdown":"I&#39;m encountering an issue with the Spring Data Elasticsearch library when using JDK 17 and Spring Boot version 3.1. The problem arises when I try to execute a search operation using NativeSearchQueryBuilder and NativeSearchQuery. The search operation works as expected with this configuration.\r\n\r\nHowever, when I upgraded to JDK 17 and Spring Boot version 3.1, the same search operation throws an IllegalArgumentException with the message &quot;unhandled Query implementation org.springframework.data.elasticsearch.client.erhlc.NativeSearchQuery.&quot;\r\n\r\nI have verified that the Elasticsearch dependencies are compatible with Spring Boot 3.1, and the Elasticsearch server is running correctly. It appears that the issue is related to the Spring Data Elasticsearch library or its compatibility with the new versions.\r\n\r\n\r\n\r\nHere are the relevant details of my setup:\r\n\r\nJDK version: JDK 17\r\nSpring Boot version: 3.1\r\nSpring Data Elasticsearch version: [Specify the version you are using]\r\nElasticsearch server version: [Specify the version you are using]\r\nI have already tried the following steps without success:\r\n\r\nChecked the Elasticsearch configuration for correctness\r\nVerified the compatibility of dependencies\r\nHas anyone encountered a similar issue or have any insights on how to resolve it? Any suggestions, guidance, or workarounds would be highly appreciated.\r\n\r\nI have written all my logic of aggregation, date-histogram and all using executing with help of NativeSearchQueryBuilder","title":"IllegalArgumentException: unhandled Query implementation org.springframework.data.elasticsearch.client.erhlc.NativeSearchQuery","body":"<p>I'm encountering an issue with the Spring Data Elasticsearch library when using JDK 17 and Spring Boot version 3.1. The problem arises when I try to execute a search operation using NativeSearchQueryBuilder and NativeSearchQuery. The search operation works as expected with this configuration.</p>\n<p>However, when I upgraded to JDK 17 and Spring Boot version 3.1, the same search operation throws an IllegalArgumentException with the message &quot;unhandled Query implementation org.springframework.data.elasticsearch.client.erhlc.NativeSearchQuery.&quot;</p>\n<p>I have verified that the Elasticsearch dependencies are compatible with Spring Boot 3.1, and the Elasticsearch server is running correctly. It appears that the issue is related to the Spring Data Elasticsearch library or its compatibility with the new versions.</p>\n<p>Here are the relevant details of my setup:</p>\n<p>JDK version: JDK 17\nSpring Boot version: 3.1\nSpring Data Elasticsearch version: [Specify the version you are using]\nElasticsearch server version: [Specify the version you are using]\nI have already tried the following steps without success:</p>\n<p>Checked the Elasticsearch configuration for correctness\nVerified the compatibility of dependencies\nHas anyone encountered a similar issue or have any insights on how to resolve it? Any suggestions, guidance, or workarounds would be highly appreciated.</p>\n<p>I have written all my logic of aggregation, date-histogram and all using executing with help of NativeSearchQueryBuilder</p>\n"},{"tags":["java","spring","spring-boot","spring-data-jpa","many-to-one"],"comments":[{"owner":{"account_id":10933290,"reputation":2086,"user_id":8035759,"display_name":"Asgar"},"score":0,"creation_date":1689335142,"post_id":76687170,"comment_id":135202327,"body_markdown":"Where is your `Event` table?\nalso `EVENT` is a reserved keyword, try avoiding that","body":"Where is your <code>Event</code> table? also <code>EVENT</code> is a reserved keyword, try avoiding that"},{"owner":{"account_id":29016704,"reputation":1,"user_id":22226979,"display_name":"seldonaari"},"score":0,"creation_date":1689336126,"post_id":76687170,"comment_id":135202527,"body_markdown":"Thanks for your answer !\nI forgot to add the event table in my snippets, i&#39;m adding it\nI&#39;m also retrying changing the reserved name of Event","body":"Thanks for your answer ! I forgot to add the event table in my snippets, i&#39;m adding it I&#39;m also retrying changing the reserved name of Event"},{"owner":{"account_id":29016704,"reputation":1,"user_id":22226979,"display_name":"seldonaari"},"score":0,"creation_date":1689339147,"post_id":76687170,"comment_id":135203223,"body_markdown":"Hi, i change my event table as &quot;representation&quot; table and issue stays the same.\nI&#39;ll update my post with the new table name","body":"Hi, i change my event table as &quot;representation&quot; table and issue stays the same. I&#39;ll update my post with the new table name"},{"owner":{"account_id":10933290,"reputation":2086,"user_id":8035759,"display_name":"Asgar"},"score":0,"creation_date":1689342839,"post_id":76687170,"comment_id":135204101,"body_markdown":"Is your code even working?\n`@Id` and `@javax.persistence.Id` in the same place? Is it even allowed?","body":"Is your code even working? <code>@Id</code> and <code>@javax.persistence.Id</code> in the same place? Is it even allowed?"},{"owner":{"account_id":29016704,"reputation":1,"user_id":22226979,"display_name":"seldonaari"},"score":0,"creation_date":1689343945,"post_id":76687170,"comment_id":135204380,"body_markdown":"My crud was working before trying to put a foreign key in one of my tables.\n\nIf I try to delete the @Id annotation (from import org.springframework.data.annotation.Id), i cannot for instance delete an entry and got thjis error\n : \njava.lang.IllegalStateException: Required identifier property not found for class com.remyscreve.starmaniaticketing.model.Representation\n\n\nIf I try to delete the Id from javax persistence, it doesn&#39;t compile","body":"My crud was working before trying to put a foreign key in one of my tables.  If I try to delete the @Id annotation (from import org.springframework.data.annotation.Id), i cannot for instance delete an entry and got thjis error  :  java.lang.IllegalStateException: Required identifier property not found for class com.remyscreve.starmaniaticketing.model.Representation   If I try to delete the Id from javax persistence, it doesn&#39;t compile"},{"owner":{"account_id":10933290,"reputation":2086,"user_id":8035759,"display_name":"Asgar"},"score":0,"creation_date":1689344249,"post_id":76687170,"comment_id":135204462,"body_markdown":"I tried your model and the code. Obviously there were errors like `@Column(value = &quot;phoneNumber&quot;)`. I did not find the issue you are mentioning.","body":"I tried your model and the code. Obviously there were errors like <code>@Column(value = &quot;phoneNumber&quot;)</code>. I did not find the issue you are mentioning."},{"owner":{"account_id":29016704,"reputation":1,"user_id":22226979,"display_name":"seldonaari"},"score":0,"creation_date":1689344655,"post_id":76687170,"comment_id":135204549,"body_markdown":"@Asgar do you mean it worked on your side with my snippets ?","body":"@Asgar do you mean it worked on your side with my snippets ?"},{"owner":{"account_id":10933290,"reputation":2086,"user_id":8035759,"display_name":"Asgar"},"score":0,"creation_date":1689344709,"post_id":76687170,"comment_id":135204563,"body_markdown":"I meant it did not throw the `unknown column` issue.","body":"I meant it did not throw the <code>unknown column</code> issue."},{"owner":{"account_id":29016704,"reputation":1,"user_id":22226979,"display_name":"seldonaari"},"score":0,"creation_date":1689345155,"post_id":76687170,"comment_id":135204683,"body_markdown":"Ok, thank you very much for your help, I really don&#39;t understand what goes wrong in my side :/ ...","body":"Ok, thank you very much for your help, I really don&#39;t understand what goes wrong in my side :/ ..."}],"owner":{"account_id":29016704,"reputation":1,"user_id":22226979,"display_name":"seldonaari"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":80,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689339719,"creation_date":1689333459,"question_id":76687170,"body_markdown":"I&#39;m trying to create an association between two tables such as :\r\nRepresentation can have multiple Bookings,\r\nBooking can only have a single Representation\r\n\r\nI was trying to use the Javax persistence @ManyToOne from my Booking.java entity.\r\n\r\nHowever when i&#39;m trying to reach the view of my bookings, I have an error return :\r\n\r\n`java.sql.SQLSyntaxErrorException: Unknown column &#39;representation.booking&#39; in &#39;on clause&#39;` \r\n\r\nThis error makes sens to me, but i don&#39;t uderstand why it tries to call the column representation.booking (which does not exists) in the first place.\r\n\r\nHere&#39;s what I tried :\r\n\r\nMy Booking Entitty :\r\n\r\n```java\r\n@Builder\r\n@NoArgsConstructor(force = true)\r\n@AllArgsConstructor\r\n@Entity\r\npublic class Booking{\r\n\r\n        @Id\r\n        @javax.persistence.Id\r\n        @GeneratedValue(strategy= GenerationType.AUTO)\r\n        Integer id;\r\n\r\n        @NotEmpty\r\n        @NotBlank\r\n        String name;\r\n\r\n        @NotNull\r\n        @DecimalMin(&quot;1&quot;)\r\n        Integer number;\r\n\r\n\r\n        @NotEmpty\r\n        @NotBlank\r\n        @Column(value = &quot;phoneNumber&quot;)\r\n        String phoneNumber;\r\n\r\n        @NotEmpty\r\n        @Email\r\n        String email;\r\n\r\n        @ManyToOne(targetEntity = Representation.class)\r\n        @JoinColumn(name = &quot;fk_representation&quot;)\r\n        Representation representation;\r\n```\r\n\r\nMy Representation entity :\r\n\r\n```java\r\n@Builder\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@Entity\r\npublic class Representation {\r\n\r\n        @Id\r\n        @javax.persistence.Id\r\n        @GeneratedValue(strategy= GenerationType.AUTO)\r\n        Integer id;\r\n\r\n        String place;\r\n\r\n        String location;\r\n\r\n        Integer price;\r\n\r\n        String datetime;\r\n```\r\nMy Controller :\r\n\r\n```java\r\n           @GetMapping(&quot;/view&quot;)\r\n    public String findAllView(Model model) {\r\n        List&lt;Booking&gt; bookings = repository.findAll();\r\n        model.addAttribute(&quot;bookings&quot;, bookings);\r\n        return &quot;bookings&quot;;\r\n    }\r\n```\r\n\r\n\r\nMy Booking View :\r\n\r\n```html\r\n&lt;table id=&quot;datatablesSimple&quot;&gt;\r\n                            &lt;thead&gt;\r\n                            &lt;tr&gt;\r\n                                &lt;th&gt;Id&lt;/th&gt;\r\n                                &lt;th&gt;Nom&lt;/th&gt;\r\n                                &lt;th&gt;Email&lt;/th&gt;\r\n                                &lt;th&gt;Num&#233;ro de t&#233;l&#233;phone&lt;/th&gt;\r\n                                &lt;th&gt;Nombre&lt;/th&gt;\r\n                                &lt;th&gt;Ev&#232;nement&lt;/th&gt;\r\n                            &lt;/tr&gt;\r\n                            &lt;/thead&gt;\r\n                            &lt;tfoot&gt;\r\n                            &lt;tr&gt;\r\n                                &lt;th&gt;Id&lt;/th&gt;\r\n                                &lt;th&gt;Nom&lt;/th&gt;\r\n                                &lt;th&gt;Email&lt;/th&gt;\r\n                                &lt;th&gt;Num&#233;ro de t&#233;l&#233;phone&lt;/th&gt;\r\n                                &lt;th&gt;Nombre&lt;/th&gt;\r\n                                &lt;th&gt;Ev&#232;nement&lt;/th&gt;\r\n                            &lt;/tr&gt;\r\n                            &lt;/tfoot&gt;\r\n                            &lt;tbody&gt;\r\n                            &lt;tr th:each=&quot;booking : ${bookings}&quot;&gt;\r\n                                &lt;td th:utext=&quot;${booking.id}&quot;&gt;&lt;/td&gt;\r\n                                &lt;td th:utext=&quot;${booking.name}&quot;&gt;&lt;/td&gt;\r\n                                &lt;td th:utext=&quot;${booking.email}&quot;&gt;&lt;/td&gt;\r\n                                &lt;td th:utext=&quot;${booking.phoneNumber}&quot;&gt;&lt;/td&gt;\r\n                                &lt;td th:utext=&quot;${booking.number}&quot;&gt;&lt;/td&gt;\r\n                                &lt;td th:utext=&quot;${booking.representation.id}&quot;&gt;&lt;/td&gt;\r\n&lt;!--                                &lt;td th:utext=&quot;${ticket.qrCodeSha}&quot;&gt;&lt;/td&gt;--&gt;\r\n                                &lt;td&gt;&lt;a  th:href=&quot;@{/admin/booking/delete/{id}(id=${booking.id})}&quot;&gt;Delete&lt;/a&gt;&lt;/td&gt;\r\n                            &lt;/tr&gt;\r\n                            &lt;/tbody&gt;\r\n                        &lt;/table&gt;\r\n```\r\n\r\nMy Database Structure :\r\n\r\n```SQL\r\nCREATE TABLE IF NOT EXISTS booking (\r\n    id SERIAL PRIMARY KEY,\r\n    name VARCHAR(255) NOT NULL,\r\n    number INTEGER NOT NULL,\r\n    phoneNumber VARCHAR(255) NOT NULL,\r\n    email VARCHAR(255) NOT NULL,\r\n    fk_representation INTEGER NOT NULL\r\n);\r\n\r\nCREATE TABLE IF NOT EXISTS ticket (\r\n    id SERIAL PRIMARY KEY,\r\n    boo_id INTEGER NOT NULL,\r\n    qrCodeSha VARCHAR(255) NOT NULL\r\n    );\r\n\r\nCREATE TABLE IF NOT EXISTS representation (\r\n    id SERIAL PRIMARY KEY,\r\n    place VARCHAR(255) NOT NULL,\r\n    location VARCHAR(255) NOT NULL,\r\n    price INTEGER NOT NULL,\r\n    datetime VARCHAR(255)\r\n    );\r\n```\r\n\r\n\r\n**\r\nThe query JPA tries :**\r\n\r\n```SQL\r\nSELECT `booking`.`id` AS `id`, `booking`.`name` AS `name`, `booking`.`email` AS `email`, `booking`.`number` AS `number`, `booking`.`phoneNumber` AS `phoneNumber`, `representation`.`id` AS `representation_id`, `representation`.`price` AS `representation_price`, `representation`.`place` AS `representation_place`, `representation`.`location` AS `representation_location`, `representation`.`datetime` AS `representation_datetime` FROM `booking` LEFT OUTER JOIN `representation` `representation` ON `representation`.`booking` = `booking`.`id`\r\n```\r\n\r\nof course it returns :\r\n\\#1054 - Field &#39;representation.booking&#39; unknown in on clause\r\n\r\n**The query i&#39;d like it to send :**\r\n\r\n```SQL\r\nSELECT `booking`.`id` AS `id`, `booking`.`name` AS `name`, `booking`.`email` AS `email`, `booking`.`number` AS `number`, `booking`.`phoneNumber` AS `phoneNumber`, `representation`.`id` AS `representation_id`, `representation`.`price` AS `representation_price`, `representation`.`place` AS `representation_place`, `representation`.`location` AS `representation_location`, `representation`.`datetime` AS `representation_datetime` FROM `booking` LEFT OUTER JOIN `representation` `representation` ON `representation`.`id` = `booking`.`fk_representation`;\r\n```\r\n\r\nIts result :\r\n[Screenshot of answer of expected query][1]\r\n\r\n\r\nCould you please help me understand what I&#39;m doing wrong ?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/2EAxd.png","title":"java - Spring Boot JPA - Wrong JOIN by JPA","body":"<p>I'm trying to create an association between two tables such as :\nRepresentation can have multiple Bookings,\nBooking can only have a single Representation</p>\n<p>I was trying to use the Javax persistence @ManyToOne from my Booking.java entity.</p>\n<p>However when i'm trying to reach the view of my bookings, I have an error return :</p>\n<p><code>java.sql.SQLSyntaxErrorException: Unknown column 'representation.booking' in 'on clause'</code></p>\n<p>This error makes sens to me, but i don't uderstand why it tries to call the column representation.booking (which does not exists) in the first place.</p>\n<p>Here's what I tried :</p>\n<p>My Booking Entitty :</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Builder\n@NoArgsConstructor(force = true)\n@AllArgsConstructor\n@Entity\npublic class Booking{\n\n        @Id\n        @javax.persistence.Id\n        @GeneratedValue(strategy= GenerationType.AUTO)\n        Integer id;\n\n        @NotEmpty\n        @NotBlank\n        String name;\n\n        @NotNull\n        @DecimalMin(&quot;1&quot;)\n        Integer number;\n\n\n        @NotEmpty\n        @NotBlank\n        @Column(value = &quot;phoneNumber&quot;)\n        String phoneNumber;\n\n        @NotEmpty\n        @Email\n        String email;\n\n        @ManyToOne(targetEntity = Representation.class)\n        @JoinColumn(name = &quot;fk_representation&quot;)\n        Representation representation;\n</code></pre>\n<p>My Representation entity :</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Builder\n@NoArgsConstructor\n@AllArgsConstructor\n@Entity\npublic class Representation {\n\n        @Id\n        @javax.persistence.Id\n        @GeneratedValue(strategy= GenerationType.AUTO)\n        Integer id;\n\n        String place;\n\n        String location;\n\n        Integer price;\n\n        String datetime;\n</code></pre>\n<p>My Controller :</p>\n<pre class=\"lang-java prettyprint-override\"><code>           @GetMapping(&quot;/view&quot;)\n    public String findAllView(Model model) {\n        List&lt;Booking&gt; bookings = repository.findAll();\n        model.addAttribute(&quot;bookings&quot;, bookings);\n        return &quot;bookings&quot;;\n    }\n</code></pre>\n<p>My Booking View :</p>\n<pre class=\"lang-html prettyprint-override\"><code>&lt;table id=&quot;datatablesSimple&quot;&gt;\n                            &lt;thead&gt;\n                            &lt;tr&gt;\n                                &lt;th&gt;Id&lt;/th&gt;\n                                &lt;th&gt;Nom&lt;/th&gt;\n                                &lt;th&gt;Email&lt;/th&gt;\n                                &lt;th&gt;Numéro de téléphone&lt;/th&gt;\n                                &lt;th&gt;Nombre&lt;/th&gt;\n                                &lt;th&gt;Evènement&lt;/th&gt;\n                            &lt;/tr&gt;\n                            &lt;/thead&gt;\n                            &lt;tfoot&gt;\n                            &lt;tr&gt;\n                                &lt;th&gt;Id&lt;/th&gt;\n                                &lt;th&gt;Nom&lt;/th&gt;\n                                &lt;th&gt;Email&lt;/th&gt;\n                                &lt;th&gt;Numéro de téléphone&lt;/th&gt;\n                                &lt;th&gt;Nombre&lt;/th&gt;\n                                &lt;th&gt;Evènement&lt;/th&gt;\n                            &lt;/tr&gt;\n                            &lt;/tfoot&gt;\n                            &lt;tbody&gt;\n                            &lt;tr th:each=&quot;booking : ${bookings}&quot;&gt;\n                                &lt;td th:utext=&quot;${booking.id}&quot;&gt;&lt;/td&gt;\n                                &lt;td th:utext=&quot;${booking.name}&quot;&gt;&lt;/td&gt;\n                                &lt;td th:utext=&quot;${booking.email}&quot;&gt;&lt;/td&gt;\n                                &lt;td th:utext=&quot;${booking.phoneNumber}&quot;&gt;&lt;/td&gt;\n                                &lt;td th:utext=&quot;${booking.number}&quot;&gt;&lt;/td&gt;\n                                &lt;td th:utext=&quot;${booking.representation.id}&quot;&gt;&lt;/td&gt;\n&lt;!--                                &lt;td th:utext=&quot;${ticket.qrCodeSha}&quot;&gt;&lt;/td&gt;--&gt;\n                                &lt;td&gt;&lt;a  th:href=&quot;@{/admin/booking/delete/{id}(id=${booking.id})}&quot;&gt;Delete&lt;/a&gt;&lt;/td&gt;\n                            &lt;/tr&gt;\n                            &lt;/tbody&gt;\n                        &lt;/table&gt;\n</code></pre>\n<p>My Database Structure :</p>\n<pre><code>CREATE TABLE IF NOT EXISTS booking (\n    id SERIAL PRIMARY KEY,\n    name VARCHAR(255) NOT NULL,\n    number INTEGER NOT NULL,\n    phoneNumber VARCHAR(255) NOT NULL,\n    email VARCHAR(255) NOT NULL,\n    fk_representation INTEGER NOT NULL\n);\n\nCREATE TABLE IF NOT EXISTS ticket (\n    id SERIAL PRIMARY KEY,\n    boo_id INTEGER NOT NULL,\n    qrCodeSha VARCHAR(255) NOT NULL\n    );\n\nCREATE TABLE IF NOT EXISTS representation (\n    id SERIAL PRIMARY KEY,\n    place VARCHAR(255) NOT NULL,\n    location VARCHAR(255) NOT NULL,\n    price INTEGER NOT NULL,\n    datetime VARCHAR(255)\n    );\n</code></pre>\n<p>**\nThe query JPA tries :**</p>\n<pre><code>SELECT `booking`.`id` AS `id`, `booking`.`name` AS `name`, `booking`.`email` AS `email`, `booking`.`number` AS `number`, `booking`.`phoneNumber` AS `phoneNumber`, `representation`.`id` AS `representation_id`, `representation`.`price` AS `representation_price`, `representation`.`place` AS `representation_place`, `representation`.`location` AS `representation_location`, `representation`.`datetime` AS `representation_datetime` FROM `booking` LEFT OUTER JOIN `representation` `representation` ON `representation`.`booking` = `booking`.`id`\n</code></pre>\n<p>of course it returns :\n#1054 - Field 'representation.booking' unknown in on clause</p>\n<p><strong>The query i'd like it to send :</strong></p>\n<pre><code>SELECT `booking`.`id` AS `id`, `booking`.`name` AS `name`, `booking`.`email` AS `email`, `booking`.`number` AS `number`, `booking`.`phoneNumber` AS `phoneNumber`, `representation`.`id` AS `representation_id`, `representation`.`price` AS `representation_price`, `representation`.`place` AS `representation_place`, `representation`.`location` AS `representation_location`, `representation`.`datetime` AS `representation_datetime` FROM `booking` LEFT OUTER JOIN `representation` `representation` ON `representation`.`id` = `booking`.`fk_representation`;\n</code></pre>\n<p>Its result :\n<a href=\"https://i.stack.imgur.com/2EAxd.png\" rel=\"nofollow noreferrer\">Screenshot of answer of expected query</a></p>\n<p>Could you please help me understand what I'm doing wrong ?</p>\n"},{"tags":["java","spring","spring-boot","junit","nullpointerexception"],"comments":[{"owner":{"account_id":5122022,"reputation":2427,"user_id":4105260,"accept_rate":0,"display_name":"Lovababu Padala"},"score":0,"creation_date":1621692577,"post_id":67646565,"comment_id":119574847,"body_markdown":"@SpringBootTest(classes = Application.class) or @ContextConfiguration(classes = AppConfig.class), try this.","body":"@SpringBootTest(classes = Application.class) or @ContextConfiguration(classes = AppConfig.class), try this."}],"answers":[{"tags":[],"owner":{"account_id":14867049,"reputation":412,"user_id":10735779,"display_name":"Christian G. Faraone"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1621663302,"creation_date":1621663302,"answer_id":67646566,"question_id":67646565,"body_markdown":"What I found out is that not always the @SpringBootTest is enough, in some classes/cases (to be honest I don&#39;t have a 100% clear idea so I&#39;m not gonna say stupidities) it is needed that you manually choose the test-runner, like below:\r\n```\r\n@SpringBootTest\r\n@RunWith(SpringRunner.class)\r\npublic class FooTest {\r\n...\r\n}\r\n```\r\n\r\nKeep in mind that if you decide to instantiate a dependency by yourself then Spring won&#39;t be able to inject all the needed classes, and then you&#39;d need to change the runner into something like ```@RunWith(MockitoJUnitRunner.class)``` \r\n\r\n(credits to https://stackoverflow.com/questions/58692353/junit-autowired-instance-is-always-null)","title":"@Autowired Injected dependency in Junit Test is always null","body":"<p>What I found out is that not always the @SpringBootTest is enough, in some classes/cases (to be honest I don't have a 100% clear idea so I'm not gonna say stupidities) it is needed that you manually choose the test-runner, like below:</p>\n<pre><code>@SpringBootTest\n@RunWith(SpringRunner.class)\npublic class FooTest {\n...\n}\n</code></pre>\n<p>Keep in mind that if you decide to instantiate a dependency by yourself then Spring won't be able to inject all the needed classes, and then you'd need to change the runner into something like <code>@RunWith(MockitoJUnitRunner.class)</code></p>\n<p>(credits to <a href=\"https://stackoverflow.com/questions/58692353/junit-autowired-instance-is-always-null\">JUNIT Autowired instance is always null</a>)</p>\n"},{"tags":[],"owner":{"account_id":7392763,"reputation":3367,"user_id":5625696,"accept_rate":50,"display_name":"Borislav Stoilov"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666780822,"creation_date":1621676942,"answer_id":67648107,"question_id":67646565,"body_markdown":"A better approach is to use spring&#39;s underlying mock beans.\r\n\r\n    @SpringBootTest(classes= AddressInfoLocalizer.class)\r\n\r\nthis is actually the new recommended way.","title":"@Autowired Injected dependency in Junit Test is always null","body":"<p>A better approach is to use spring's underlying mock beans.</p>\n<pre><code>@SpringBootTest(classes= AddressInfoLocalizer.class)\n</code></pre>\n<p>this is actually the new recommended way.</p>\n"},{"tags":[],"owner":{"account_id":10055486,"reputation":722,"user_id":7467083,"display_name":"Ganesh Jadhav"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1621688503,"creation_date":1621688503,"answer_id":67649772,"question_id":67646565,"body_markdown":"Two things here:&lt;br&gt;\r\n 1. If you&#39;re testing, the ideal way is to mock instead of autowire(there can be exceptions)&lt;br&gt;\r\n 2. You should use `@ExtendWith(MockitoExtension.class)` or `@RunWith(MockitoJUnitRunner.class)` so that your components will be loaded in spring context. However `ExtendWith` is preferred way to initialize beans/components. Because the later(RunWith) loads the entire spring context which might take more time\r\n\r\nSo, your code should look something like:&lt;br&gt;\r\n\r\n```\r\n@Slf4j\r\n@ActiveProfiles(&quot;test&quot;)\r\n@ExtendWith(MockitoExtension.class)\r\npublic class LocalizerTest {\r\n\r\n    @Mock\r\n    AddressInfoLocalizer addressInfoLocalizer;\r\n\r\n\r\n    @Test\r\n    public void localizeIp() {\r\n        String ip = &quot;8.8.8.8&quot;;\r\n         //Mock here.\r\n        Optional&lt;CityResponse&gt; response = addressInfoLocalizer.localize(ip);\r\n        response.ifPresent(cityResponse -&gt; log.info(&quot;{}&quot;, cityResponse));\r\n    }\r\n\r\n}\r\n```\r\n\r\n\r\n&lt;br&gt;\r\nReference/Read more:&lt;br&gt;\r\nhttps://www.baeldung.com/mockito-junit-5-extension &lt;br&gt;\r\nhttps://stackoverflow.com/questions/55276555/when-to-use-runwith-and-when-extendwith&lt;br&gt;\r\nhttps://www.javadoc.io/static/org.mockito/mockito-junit-jupiter/3.10.0/org/mockito/junit/jupiter/MockitoExtension.html&lt;br&gt;\r\n","title":"@Autowired Injected dependency in Junit Test is always null","body":"<p>Two things here:<br></p>\n<ol>\n<li>If you're testing, the ideal way is to mock instead of autowire(there can be exceptions)<br></li>\n<li>You should use <code>@ExtendWith(MockitoExtension.class)</code> or <code>@RunWith(MockitoJUnitRunner.class)</code> so that your components will be loaded in spring context. However <code>ExtendWith</code> is preferred way to initialize beans/components. Because the later(RunWith) loads the entire spring context which might take more time</li>\n</ol>\n<p>So, your code should look something like:<br></p>\n<pre><code>@Slf4j\n@ActiveProfiles(&quot;test&quot;)\n@ExtendWith(MockitoExtension.class)\npublic class LocalizerTest {\n\n    @Mock\n    AddressInfoLocalizer addressInfoLocalizer;\n\n\n    @Test\n    public void localizeIp() {\n        String ip = &quot;8.8.8.8&quot;;\n         //Mock here.\n        Optional&lt;CityResponse&gt; response = addressInfoLocalizer.localize(ip);\n        response.ifPresent(cityResponse -&gt; log.info(&quot;{}&quot;, cityResponse));\n    }\n\n}\n</code></pre>\n<br>\nReference/Read more:<br>\nhttps://www.baeldung.com/mockito-junit-5-extension <br>\nhttps://stackoverflow.com/questions/55276555/when-to-use-runwith-and-when-extendwith<br>\nhttps://www.javadoc.io/static/org.mockito/mockito-junit-jupiter/3.10.0/org/mockito/junit/jupiter/MockitoExtension.html<br>\n"}],"owner":{"account_id":14867049,"reputation":412,"user_id":10735779,"display_name":"Christian G. Faraone"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":3644,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1689338459,"creation_date":1621663302,"question_id":67646565,"body_markdown":"In a simple test class like the one below: \r\n\r\n```\r\n@SpringBootTest\r\n@Slf4j\r\n@ActiveProfiles(&quot;test&quot;)\r\npublic class LocalizerTest {\r\n\r\n    @Autowired\r\n    AddressInfoLocalizer addressInfoLocalizer;\r\n\r\n\r\n    @Test\r\n    public void localizeIp() {\r\n        String ip = &quot;8.8.8.8&quot;;\r\n        Optional&lt;CityResponse&gt; response = addressInfoLocalizer.localize(ip);\r\n        response.ifPresent(cityResponse -&gt; log.info(&quot;{}&quot;, cityResponse));\r\n    }\r\n\r\n}\r\n```\r\nWith the AddressInfoLocalizer (sorry for the strange name but I had to make it up) being basically like this:\r\n```\r\n\r\n@Slf4j\r\n@Component\r\npublic class AddressInfoLocalizer {\r\n\r\n    @Value(&quot;${geolocalization.dbpath}&quot;)\r\n    private String databasePath;\r\n\r\n    private DatabaseReader database;\r\n\r\n    @PostConstruct\r\n    public void initialize() {\r\n        log.info(&quot;GeoIP2 database path:{}&quot;, databasePath);\r\n        File database = new File(databasePath);\r\n        try {\r\n            this.database = new DatabaseReader.Builder(database).build();\r\n        } catch (IOException ioe) {\r\n            this.database = null;\r\n            log.warn(&quot;Problems encountered while initializing IP localization database, skipping resolutions&quot;);\r\n        }\r\n\r\n    }\r\n\r\n    public Optional&lt;CityResponse&gt; localize(String ipAddressString) {\r\n        if (isNull(database)) {\r\n            log.warn(&quot;Attempted to resolve an IP location with database problems, skipping.&quot;);\r\n            return Optional.empty();\r\n        }\r\n        try {\r\n            InetAddress ipAddress = InetAddress.getByName(ipAddressString);\r\n            return ofNullable(database.city(ipAddress));\r\n        } catch (UnknownHostException uhe) {\r\n            log.error(&quot;Unknown host {}, {}&quot;, ipAddressString, uhe.getCause());\r\n            return Optional.empty();\r\n        } catch (IOException ioe) {\r\n            log.error(&quot;IO error while opening database, {}&quot;, ioe.getCause().toString());\r\n            return Optional.empty();\r\n        } catch (GeoIp2Exception gip2e) {\r\n            log.error(&quot;GeoIP error, {}&quot;, gip2e.getCause().toString());\r\n            return Optional.empty();\r\n        }\r\n    }\r\n}\r\n\r\n```\r\n\r\nI keep getting a NullPointerException when calling (in the test) `addressInfoLocalizer.localize(ip);`, \r\n```\r\njava.lang.NullPointerException\r\n\tat com.bok.parent.LocalizerTest.localizeIp(LocalizerTest.java:26)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)\r\n\tat org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\r\n\tat org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)\r\n\tat org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)\r\n\tat org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)\r\n\tat org.junit.runners.BlockJUnit4ClassRunner$1.evaluate(BlockJUnit4ClassRunner.java:100)\r\n\tat org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:366)\r\n\tat org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:103)\r\n\tat org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:63)\r\n\tat org.junit.runners.ParentRunner$4.run(ParentRunner.java:331)\r\n\tat org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:79)\r\n\tat org.junit.runners.ParentRunner.runChildren(ParentRunner.java:329)\r\n\tat org.junit.runners.ParentRunner.access$100(ParentRunner.java:66)\r\n\tat org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:293)\r\n\tat org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)\r\n\tat org.junit.runners.ParentRunner.run(ParentRunner.java:413)\r\n\tat org.junit.runner.JUnitCore.run(JUnitCore.java:137)\r\n\tat com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)\r\n\tat com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)\r\n\tat com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:221)\r\n\tat com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)\r\n```\r\n\r\nwhile debugging I can actually see that the `addressInfoLocalizer` object is `null`.\r\n\r\nI&#39;ve created other classes the same way, but only this one seems to have that problem, what could be wrong?\r\n","title":"@Autowired Injected dependency in Junit Test is always null","body":"<p>In a simple test class like the one below:</p>\n<pre><code>@SpringBootTest\n@Slf4j\n@ActiveProfiles(&quot;test&quot;)\npublic class LocalizerTest {\n\n    @Autowired\n    AddressInfoLocalizer addressInfoLocalizer;\n\n\n    @Test\n    public void localizeIp() {\n        String ip = &quot;8.8.8.8&quot;;\n        Optional&lt;CityResponse&gt; response = addressInfoLocalizer.localize(ip);\n        response.ifPresent(cityResponse -&gt; log.info(&quot;{}&quot;, cityResponse));\n    }\n\n}\n</code></pre>\n<p>With the AddressInfoLocalizer (sorry for the strange name but I had to make it up) being basically like this:</p>\n<pre><code>\n@Slf4j\n@Component\npublic class AddressInfoLocalizer {\n\n    @Value(&quot;${geolocalization.dbpath}&quot;)\n    private String databasePath;\n\n    private DatabaseReader database;\n\n    @PostConstruct\n    public void initialize() {\n        log.info(&quot;GeoIP2 database path:{}&quot;, databasePath);\n        File database = new File(databasePath);\n        try {\n            this.database = new DatabaseReader.Builder(database).build();\n        } catch (IOException ioe) {\n            this.database = null;\n            log.warn(&quot;Problems encountered while initializing IP localization database, skipping resolutions&quot;);\n        }\n\n    }\n\n    public Optional&lt;CityResponse&gt; localize(String ipAddressString) {\n        if (isNull(database)) {\n            log.warn(&quot;Attempted to resolve an IP location with database problems, skipping.&quot;);\n            return Optional.empty();\n        }\n        try {\n            InetAddress ipAddress = InetAddress.getByName(ipAddressString);\n            return ofNullable(database.city(ipAddress));\n        } catch (UnknownHostException uhe) {\n            log.error(&quot;Unknown host {}, {}&quot;, ipAddressString, uhe.getCause());\n            return Optional.empty();\n        } catch (IOException ioe) {\n            log.error(&quot;IO error while opening database, {}&quot;, ioe.getCause().toString());\n            return Optional.empty();\n        } catch (GeoIp2Exception gip2e) {\n            log.error(&quot;GeoIP error, {}&quot;, gip2e.getCause().toString());\n            return Optional.empty();\n        }\n    }\n}\n\n</code></pre>\n<p>I keep getting a NullPointerException when calling (in the test) <code>addressInfoLocalizer.localize(ip);</code>,</p>\n<pre><code>java.lang.NullPointerException\n    at com.bok.parent.LocalizerTest.localizeIp(LocalizerTest.java:26)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)\n    at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\n    at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)\n    at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)\n    at org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)\n    at org.junit.runners.BlockJUnit4ClassRunner$1.evaluate(BlockJUnit4ClassRunner.java:100)\n    at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:366)\n    at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:103)\n    at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:63)\n    at org.junit.runners.ParentRunner$4.run(ParentRunner.java:331)\n    at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:79)\n    at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:329)\n    at org.junit.runners.ParentRunner.access$100(ParentRunner.java:66)\n    at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:293)\n    at org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)\n    at org.junit.runners.ParentRunner.run(ParentRunner.java:413)\n    at org.junit.runner.JUnitCore.run(JUnitCore.java:137)\n    at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)\n    at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)\n    at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:221)\n    at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)\n</code></pre>\n<p>while debugging I can actually see that the <code>addressInfoLocalizer</code> object is <code>null</code>.</p>\n<p>I've created other classes the same way, but only this one seems to have that problem, what could be wrong?</p>\n"},{"tags":["java","spring-boot","javabeans","jpastreamer"],"answers":[{"tags":[],"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1689338447,"creation_date":1689338447,"answer_id":76687781,"question_id":76683013,"body_markdown":"After defining `JPAStreamer` as a `bean` in `JPAStreamerConfig` shown below, the issue disappeared.\r\n\r\n\r\n    import com.speedment.jpastreamer.application.JPAStreamer;\r\n    import jakarta.persistence.EntityManagerFactory;\r\n    import lombok.RequiredArgsConstructor;\r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.context.annotation.Configuration;\r\n    \r\n    @Configuration\r\n    @RequiredArgsConstructor\r\n    public class JPAStreamerConfig {\r\n    \r\n        private final EntityManagerFactory entityManagerFactory;\r\n    \r\n        @Bean\r\n        public JPAStreamer jpaStreamer() {\r\n            return JPAStreamer.of(entityManagerFactory);\r\n        }\r\n    \r\n    }","title":"Spring Boot Jpastreamer - com.speedment.jpastreamer.application.JPAStreamer can not be found","body":"<p>After defining <code>JPAStreamer</code> as a <code>bean</code> in <code>JPAStreamerConfig</code> shown below, the issue disappeared.</p>\n<pre><code>import com.speedment.jpastreamer.application.JPAStreamer;\nimport jakarta.persistence.EntityManagerFactory;\nimport lombok.RequiredArgsConstructor;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\n\n@Configuration\n@RequiredArgsConstructor\npublic class JPAStreamerConfig {\n\n    private final EntityManagerFactory entityManagerFactory;\n\n    @Bean\n    public JPAStreamer jpaStreamer() {\n        return JPAStreamer.of(entityManagerFactory);\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76687781,"answer_count":1,"score":0,"last_activity_date":1689338447,"creation_date":1689279978,"question_id":76683013,"body_markdown":"I have a problem to run my Spring Boot with the usage of Jpastreamer.\r\nI cannot solve the bean issue related with Jpastreamer.\r\n\r\nHere is the PersonService shown below\r\n\r\n    @Service\r\n    @RequiredArgsConstructor\r\n    public class PersonService {\r\n    \r\n        private final JPAStreamer jpaStreamer;\r\n        private final PersonRepository personRepository;\r\n    \r\n        ... \r\n    }\r\n\r\n\r\nI got this issue shown below when I run the application.\r\n\r\n    ***************************\r\n    APPLICATION FAILED TO START\r\n    ***************************\r\n    \r\n    Description:\r\n    \r\n    Parameter 0 of constructor in com.springboot.jpastreamer.service.PersonService required a bean of type &#39;com.speedment.jpastreamer.application.JPAStreamer&#39; that could not be found.\r\n    \r\n    \r\n    Action:\r\n    \r\n    Consider defining a bean of type &#39;com.speedment.jpastreamer.application.JPAStreamer&#39; in your configuration.\r\n    \r\n    \r\n    Process finished with exit code 0\r\n\r\nHere is the repo shown below\r\n\r\n[Link][1]\r\n\r\n\r\n  [1]: https://github.com/Rapter1990/jpastreamer","title":"Spring Boot Jpastreamer - com.speedment.jpastreamer.application.JPAStreamer can not be found","body":"<p>I have a problem to run my Spring Boot with the usage of Jpastreamer.\nI cannot solve the bean issue related with Jpastreamer.</p>\n<p>Here is the PersonService shown below</p>\n<pre><code>@Service\n@RequiredArgsConstructor\npublic class PersonService {\n\n    private final JPAStreamer jpaStreamer;\n    private final PersonRepository personRepository;\n\n    ... \n}\n</code></pre>\n<p>I got this issue shown below when I run the application.</p>\n<pre><code>***************************\nAPPLICATION FAILED TO START\n***************************\n\nDescription:\n\nParameter 0 of constructor in com.springboot.jpastreamer.service.PersonService required a bean of type 'com.speedment.jpastreamer.application.JPAStreamer' that could not be found.\n\n\nAction:\n\nConsider defining a bean of type 'com.speedment.jpastreamer.application.JPAStreamer' in your configuration.\n\n\nProcess finished with exit code 0\n</code></pre>\n<p>Here is the repo shown below</p>\n<p><a href=\"https://github.com/Rapter1990/jpastreamer\" rel=\"nofollow noreferrer\">Link</a></p>\n"},{"tags":["java","sql-server","spring-boot","maven","flyway"],"comments":[{"owner":{"account_id":19535095,"reputation":2874,"user_id":14294053,"display_name":"Mar-Z"},"score":1,"creation_date":1686907157,"post_id":76488497,"comment_id":134865866,"body_markdown":"Do you have the `flyway-sqlserver` dependency?","body":"Do you have the <code>flyway-sqlserver</code> dependency?"}],"answers":[{"comments":[{"owner":{"account_id":9137252,"reputation":2391,"user_id":6796524,"display_name":"Camille"},"score":1,"creation_date":1686917436,"post_id":76488917,"comment_id":134867979,"body_markdown":"Thanks! That&#39;s indeed working now. Other little thing, I had to add `encrypt=false` in JDBC connection url. I know it&#39;s not ideal, but DB server is not in my hands.","body":"Thanks! That&#39;s indeed working now. Other little thing, I had to add <code>encrypt=false</code> in JDBC connection url. I know it&#39;s not ideal, but DB server is not in my hands."}],"tags":[],"owner":{"account_id":9139105,"reputation":3600,"user_id":6797663,"display_name":"codemonkey"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1686908520,"creation_date":1686908520,"answer_id":76488917,"question_id":76488497,"body_markdown":"The SQL Server code was extracted to a separate dependency in [Flyway 8.1.0][1]\r\n\r\nFrom that release onwards, you will need to [add flyway-sqlserver][2] as an additional dependency, e.g.:\r\n\r\n    # Maven\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.flywaydb&lt;/groupId&gt;\r\n        &lt;artifactId&gt;flyway-sqlserver&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    \r\n    # Gradle\r\n    dependencies {\r\n        compile &quot;org.flywaydb:flyway-sqlserver&quot;\r\n    }\r\n\r\n  [1]: https://flywaydb.org/documentation/learnmore/releaseNotes#8.1.0\r\n  [2]: https://flywaydb.org/documentation/database/sqlserver#java-usage","title":"Migration from Spring Boot 2.6 to 2.7 - FlywayException: Unsupported Database: Microsoft SQL Server 15.0","body":"<p>The SQL Server code was extracted to a separate dependency in <a href=\"https://flywaydb.org/documentation/learnmore/releaseNotes#8.1.0\" rel=\"nofollow noreferrer\">Flyway 8.1.0</a></p>\n<p>From that release onwards, you will need to <a href=\"https://flywaydb.org/documentation/database/sqlserver#java-usage\" rel=\"nofollow noreferrer\">add flyway-sqlserver</a> as an additional dependency, e.g.:</p>\n<pre><code># Maven\n&lt;dependency&gt;\n    &lt;groupId&gt;org.flywaydb&lt;/groupId&gt;\n    &lt;artifactId&gt;flyway-sqlserver&lt;/artifactId&gt;\n&lt;/dependency&gt;\n\n# Gradle\ndependencies {\n    compile &quot;org.flywaydb:flyway-sqlserver&quot;\n}\n</code></pre>\n"}],"owner":{"account_id":9137252,"reputation":2391,"user_id":6796524,"display_name":"Camille"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1463,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":76488917,"answer_count":1,"score":4,"last_activity_date":1689338299,"creation_date":1686905390,"question_id":76488497,"body_markdown":"During migration of a Java app using Spring Boot 2.6 to 2.7, new Flyway version (8.5.13) seems to not support anymore SQL Server 15 (2019).\r\n\r\n&gt; Error\r\n    org.flywaydb.core.api.FlywayException: Unsupported Database: Microsoft SQL Server 15.0\r\n\r\nI try with older version of SQL Server 14 (2017) and get almost same error\r\n\r\n&gt; Error\r\n    org.flywaydb.core.api.FlywayException: Unsupported Database: Microsoft SQL Server 14.0\r\n\r\nSomebody already resovled this problem?\r\n\r\n","title":"Migration from Spring Boot 2.6 to 2.7 - FlywayException: Unsupported Database: Microsoft SQL Server 15.0","body":"<p>During migration of a Java app using Spring Boot 2.6 to 2.7, new Flyway version (8.5.13) seems to not support anymore SQL Server 15 (2019).</p>\n<blockquote>\n<p>Error\norg.flywaydb.core.api.FlywayException: Unsupported Database: Microsoft SQL Server 15.0</p>\n</blockquote>\n<p>I try with older version of SQL Server 14 (2017) and get almost same error</p>\n<blockquote>\n<p>Error\norg.flywaydb.core.api.FlywayException: Unsupported Database: Microsoft SQL Server 14.0</p>\n</blockquote>\n<p>Somebody already resovled this problem?</p>\n"},{"tags":["java","eclipse","appium"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1689337561,"post_id":76687639,"comment_id":135202861,"body_markdown":"*java.lang.ClassNotFoundException: org.openqa.selenium.remote.internal.JsonToWebElementConverter* looks like you miss atleast one dependency in your runner","body":"<i>java.lang.ClassNotFoundException: org.openqa.selenium.remote.internal.JsonToWebElementConverte&zwnj;&#8203;r</i> looks like you miss atleast one dependency in your runner"}],"owner":{"account_id":29017253,"reputation":1,"user_id":22227430,"display_name":"Tester-007"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":9,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1689337646,"answer_count":0,"score":0,"last_activity_date":1689337534,"creation_date":1689337349,"question_id":76687639,"body_markdown":"    [RemoteTestNG] detected TestNG version 7.4.0\r\n    FAILED CONFIGURATION: @BeforeSuite setupAppium\r\n    java.lang.NoClassDefFoundError: org/openqa/selenium/remote/internal/JsonToWebElementConverter\r\n    \tat AppiumBasics1.setupAppium(AppiumBasics1.java:31)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n    \tat org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:133)\r\n    \tat org.testng.internal.MethodInvocationHelper.invokeMethodConsideringTimeout(MethodInvocationHelper.java:62)\r\n    \tat org.testng.internal.ConfigInvoker.invokeConfigurationMethod(ConfigInvoker.java:385)\r\n    \tat org.testng.internal.ConfigInvoker.invokeConfigurations(ConfigInvoker.java:321)\r\n    \tat org.testng.SuiteRunner.privateRun(SuiteRunner.java:317)\r\n    \tat org.testng.SuiteRunner.run(SuiteRunner.java:276)\r\n    \tat org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)\r\n    \tat org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:96)\r\n    \tat org.testng.TestNG.runSuitesSequentially(TestNG.java:1212)\r\n    \tat org.testng.TestNG.runSuitesLocally(TestNG.java:1134)\r\n    \tat org.testng.TestNG.runSuites(TestNG.java:1063)\r\n    \tat org.testng.TestNG.run(TestNG.java:1031)\r\n    \tat org.testng.remote.AbstractRemoteTestNG.run(AbstractRemoteTestNG.java:115)\r\n    \tat org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:251)\r\n    \tat org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:77)\r\n    Caused by: java.lang.ClassNotFoundException: org.openqa.selenium.remote.internal.JsonToWebElementConverter\r\n    \tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\r\n    \tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\r\n    \tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)\r\n    \t... 20 more\r\n    \r\n    SKIPPED: myFirstTest\r\n    java.lang.NoClassDefFoundError: org/openqa/selenium/remote/internal/JsonToWebElementConverter\r\n    \tat AppiumBasics1.setupAppium(AppiumBasics1.java:31)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n    \tat org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:133)\r\n    \tat org.testng.internal.MethodInvocationHelper.invokeMethodConsideringTimeout(MethodInvocationHelper.java:62)\r\n    \tat org.testng.internal.ConfigInvoker.invokeConfigurationMethod(ConfigInvoker.java:385)\r\n    \tat org.testng.internal.ConfigInvoker.invokeConfigurations(ConfigInvoker.java:321)\r\n    \tat org.testng.SuiteRunner.privateRun(SuiteRunner.java:317)\r\n    \tat org.testng.SuiteRunner.run(SuiteRunner.java:276)\r\n    \tat org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)\r\n    \tat org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:96)\r\n    \tat org.testng.TestNG.runSuitesSequentially(TestNG.java:1212)\r\n    \tat org.testng.TestNG.runSuitesLocally(TestNG.java:1134)\r\n    \tat org.testng.TestNG.runSuites(TestNG.java:1063)\r\n    \tat org.testng.TestNG.run(TestNG.java:1031)\r\n    \tat org.testng.remote.AbstractRemoteTestNG.run(AbstractRemoteTestNG.java:115)\r\n    \tat org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:251)\r\n    \tat org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:77)\r\n    Caused by: java.lang.ClassNotFoundException: org.openqa.selenium.remote.internal.JsonToWebElementConverter\r\n    \tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\r\n    \tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\r\n    \tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)\r\n    \t... 20 more\r\n    \r\n    \r\n    ===============================================\r\n        Default test\r\n        Tests run: 1, Failures: 0, Skips: 1\r\n        Configuration Failures: 1, Skips: 0\r\n    ===============================================\r\n    \r\n    \r\n    ===============================================\r\n    Default suite\r\n    Total tests run: 1, Passes: 0, Failures: 0, Skips: 1\r\n    Configuration Failures: 1, Skips: 1\r\n    ===============================================\r\n\r\nAny one can figure out the problem\r\n\r\n","title":"Getting Error while running Appium first test","body":"<pre><code>[RemoteTestNG] detected TestNG version 7.4.0\nFAILED CONFIGURATION: @BeforeSuite setupAppium\njava.lang.NoClassDefFoundError: org/openqa/selenium/remote/internal/JsonToWebElementConverter\n    at AppiumBasics1.setupAppium(AppiumBasics1.java:31)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:133)\n    at org.testng.internal.MethodInvocationHelper.invokeMethodConsideringTimeout(MethodInvocationHelper.java:62)\n    at org.testng.internal.ConfigInvoker.invokeConfigurationMethod(ConfigInvoker.java:385)\n    at org.testng.internal.ConfigInvoker.invokeConfigurations(ConfigInvoker.java:321)\n    at org.testng.SuiteRunner.privateRun(SuiteRunner.java:317)\n    at org.testng.SuiteRunner.run(SuiteRunner.java:276)\n    at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)\n    at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:96)\n    at org.testng.TestNG.runSuitesSequentially(TestNG.java:1212)\n    at org.testng.TestNG.runSuitesLocally(TestNG.java:1134)\n    at org.testng.TestNG.runSuites(TestNG.java:1063)\n    at org.testng.TestNG.run(TestNG.java:1031)\n    at org.testng.remote.AbstractRemoteTestNG.run(AbstractRemoteTestNG.java:115)\n    at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:251)\n    at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:77)\nCaused by: java.lang.ClassNotFoundException: org.openqa.selenium.remote.internal.JsonToWebElementConverter\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)\n    ... 20 more\n\nSKIPPED: myFirstTest\njava.lang.NoClassDefFoundError: org/openqa/selenium/remote/internal/JsonToWebElementConverter\n    at AppiumBasics1.setupAppium(AppiumBasics1.java:31)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:133)\n    at org.testng.internal.MethodInvocationHelper.invokeMethodConsideringTimeout(MethodInvocationHelper.java:62)\n    at org.testng.internal.ConfigInvoker.invokeConfigurationMethod(ConfigInvoker.java:385)\n    at org.testng.internal.ConfigInvoker.invokeConfigurations(ConfigInvoker.java:321)\n    at org.testng.SuiteRunner.privateRun(SuiteRunner.java:317)\n    at org.testng.SuiteRunner.run(SuiteRunner.java:276)\n    at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)\n    at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:96)\n    at org.testng.TestNG.runSuitesSequentially(TestNG.java:1212)\n    at org.testng.TestNG.runSuitesLocally(TestNG.java:1134)\n    at org.testng.TestNG.runSuites(TestNG.java:1063)\n    at org.testng.TestNG.run(TestNG.java:1031)\n    at org.testng.remote.AbstractRemoteTestNG.run(AbstractRemoteTestNG.java:115)\n    at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:251)\n    at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:77)\nCaused by: java.lang.ClassNotFoundException: org.openqa.selenium.remote.internal.JsonToWebElementConverter\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)\n    ... 20 more\n\n\n===============================================\n    Default test\n    Tests run: 1, Failures: 0, Skips: 1\n    Configuration Failures: 1, Skips: 0\n===============================================\n\n\n===============================================\nDefault suite\nTotal tests run: 1, Passes: 0, Failures: 0, Skips: 1\nConfiguration Failures: 1, Skips: 1\n===============================================\n</code></pre>\n<p>Any one can figure out the problem</p>\n"},{"tags":["java","ibatis","mybatis"],"comments":[{"owner":{"account_id":482321,"reputation":9702,"user_id":896663,"accept_rate":84,"display_name":"MozenRath"},"score":0,"creation_date":1328817169,"post_id":9217334,"comment_id":11605342,"body_markdown":"i think you are looking for a converter","body":"i think you are looking for a converter"},{"owner":{"account_id":481010,"reputation":2039,"user_id":894570,"accept_rate":36,"display_name":"Mohit Verma"},"score":1,"creation_date":1328849191,"post_id":9217334,"comment_id":11613325,"body_markdown":"not sure what is converter. Can you please briefly explain that","body":"not sure what is converter. Can you please briefly explain that"}],"answers":[{"tags":[],"owner":{"account_id":84585,"reputation":7493,"user_id":236345,"accept_rate":87,"display_name":"Alfabravo"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1328876467,"creation_date":1328817268,"answer_id":9217756,"question_id":9217334,"body_markdown":"@MapKey(a) will return a map with your results keyed by a\r\n\r\nEDIT: Interesting result. Haven&#39;t tried using annotations (use mappers instead) but AFAIK it looks like it expects the map being `HashMap&lt;someA, someB&gt;` where someA has a getter and a setter for &quot;a&quot; (like getA, setA)... you can even use the same class (HashMap&lt;customThing, customThing), where your customClass serves as a kind of DTO with a and b attributes, having their getters and setters. Give it a try","title":"How to get Map&lt;String, String&gt; as return type using mybatis annotations","body":"<p>@MapKey(a) will return a map with your results keyed by a</p>\n\n<p>EDIT: Interesting result. Haven't tried using annotations (use mappers instead) but AFAIK it looks like it expects the map being <code>HashMap&lt;someA, someB&gt;</code> where someA has a getter and a setter for \"a\" (like getA, setA)... you can even use the same class (HashMap\n"},{"comments":[{"owner":{"account_id":481010,"reputation":2039,"user_id":894570,"accept_rate":36,"display_name":"Mohit Verma"},"score":0,"creation_date":1328859629,"post_id":9223013,"comment_id":11615379,"body_markdown":"Thanks. This is exactly what I am doing right now. Was wondering if mybatis can itself return the map, instead of we doing it.","body":"Thanks. This is exactly what I am doing right now. Was wondering if mybatis can itself return the map, instead of we doing it."}],"tags":[],"owner":{"account_id":384985,"reputation":2176,"user_id":741849,"accept_rate":50,"display_name":"Moinul Hossain"},"comment_count":1,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1328850680,"creation_date":1328850680,"answer_id":9223013,"question_id":9217334,"body_markdown":"the annotation `@Select(&quot;select a, b from tableA&quot;)` will return a List of Map where Each map will contain a single entry. You might write a converter for it.\r\n\r\n    public Map&lt;Object,Object&gt; mapFromListOfMap (List&lt;Map&gt; listOfMap ) {\r\n      Map&lt;Object,Object&gt; map = new HashMap&lt;Object,Object&gt;();\r\n      for(int i = 0; i &lt; listOfMap.size(); i++) {\r\n        Object key = (Object) listOfMap.get(i).get(&quot;a&quot;);\r\n        Object value = (Object)listOfMap.get(i).get(&quot;b&quot;);\r\n        map.put(key, value);\r\n      }\r\n      return map;\r\n    }\r\n\r\n`@Select(&quot;select a, b from tableA&quot;)` will return something like this\r\n\r\n    List[0] -&gt; Map ((key=&gt;&#39;a&#39;,value=&gt;1),((key=&gt;&#39;b&#39;,value=&gt;&#39;a&#39;)))\r\n    List[1] -&gt; Map ((key=&gt;&#39;a&#39;,value=&gt;2),((key=&gt;&#39;b&#39;,value=&gt;&#39;b&#39;)))\r\n    List[2] -&gt; Map ((key=&gt;&#39;a&#39;,value=&gt;3),((key=&gt;&#39;b&#39;,value=&gt;&#39;c&#39;)))\r\n\r\nand the function `mapFromListOfMap` will make it something like this\r\n\r\n    Map ((key=&gt;&#39;1&#39;,value=&gt;&#39;a&#39;),(key=&gt;&#39;2&#39;,value=&gt;&#39;b&#39;),(key=&gt;&#39;3&#39;,value=&gt;&#39;c&#39;))\r\n\r\nhope this helps :)\r\n\r\n","title":"How to get Map&lt;String, String&gt; as return type using mybatis annotations","body":"<p>the annotation <code>@Select(\"select a, b from tableA\")</code> will return a List of Map where Each map will contain a single entry. You might write a converter for it.</p>\n\n<pre><code>public Map&lt;Object,Object&gt; mapFromListOfMap (List&lt;Map&gt; listOfMap ) {\n  Map&lt;Object,Object&gt; map = new HashMap&lt;Object,Object&gt;();\n  for(int i = 0; i &lt; listOfMap.size(); i++) {\n    Object key = (Object) listOfMap.get(i).get(\"a\");\n    Object value = (Object)listOfMap.get(i).get(\"b\");\n    map.put(key, value);\n  }\n  return map;\n}\n</code></pre>\n\n<p><code>@Select(\"select a, b from tableA\")</code> will return something like this</p>\n\n<pre><code>List[0] -&gt; Map ((key=&gt;'a',value=&gt;1),((key=&gt;'b',value=&gt;'a')))\nList[1] -&gt; Map ((key=&gt;'a',value=&gt;2),((key=&gt;'b',value=&gt;'b')))\nList[2] -&gt; Map ((key=&gt;'a',value=&gt;3),((key=&gt;'b',value=&gt;'c')))\n</code></pre>\n\n<p>and the function <code>mapFromListOfMap</code> will make it something like this</p>\n\n<pre><code>Map ((key=&gt;'1',value=&gt;'a'),(key=&gt;'2',value=&gt;'b'),(key=&gt;'3',value=&gt;'c'))\n</code></pre>\n\n<p>hope this helps :)</p>\n"},{"tags":[],"owner":{"account_id":176169,"reputation":441,"user_id":2282912,"display_name":"Dmitry Sergeev"},"comment_count":0,"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1366036353,"creation_date":1366036353,"answer_id":16017836,"question_id":9217334,"body_markdown":"Here is how i do this, without extra method for converting List to Map:\r\n\r\nHere is Message class\r\n\r\n    public class Message {\r\n       private String code;\r\n       private String message;\r\n       GETTERS/SETTERS\r\n    }\r\n\r\nMapper\r\n\r\n\t@Select(&quot;SELECT code, message FROM MESSAGES&quot;)\r\n\t@MapKey(&quot;code&quot;)\r\n\tpublic Map&lt;String, Message&gt; selectAllMessages();\r\n\r\nUnfortunatly it&#39;s impossible to create Map&amp;lt;String, String&amp;gt;","title":"How to get Map&lt;String, String&gt; as return type using mybatis annotations","body":"<p>Here is how i do this, without extra method for converting List to Map:</p>\n\n<p>Here is Message class</p>\n\n<pre><code>public class Message {\n   private String code;\n   private String message;\n   GETTERS/SETTERS\n}\n</code></pre>\n\n<p>Mapper</p>\n\n<pre><code>@Select(\"SELECT code, message FROM MESSAGES\")\n@MapKey(\"code\")\npublic Map&lt;String, Message&gt; selectAllMessages();\n</code></pre>\n\n<p>Unfortunatly it's impossible to create Map&lt;String, String&gt;</p>\n"},{"comments":[{"owner":{"account_id":22442515,"reputation":1,"user_id":16646823,"display_name":"Sreeja M"},"score":0,"creation_date":1689335666,"post_id":76687417,"comment_id":135202433,"body_markdown":"@MapKey(&quot;currency&quot;)  ,  currecy should have getter and setter","body":"@MapKey(&quot;currency&quot;)  ,  currecy should have getter and setter"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1689703613,"post_id":76687417,"comment_id":135250408,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/76687417/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":22442515,"reputation":1,"user_id":16646823,"display_name":"Sreeja M"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689336611,"creation_date":1689335591,"answer_id":76687417,"question_id":9217334,"body_markdown":"     &lt;resultMap id=&quot;currencyExchangeMap&quot; type=&quot;com.sample.model.CurrencyExchange&quot;&gt;\r\n            &lt;result property=&quot;currency&quot; column=&quot;currency&quot; /&gt;\r\n            &lt;result property=&quot;exchangeRate&quot; column=&quot;usdtolocl&quot; /&gt;\r\n    &lt;/resultMap&gt;\r\n    where CurrencyExchange class has fields currency , exchangeRate\r\n    &lt;select id=&quot;getExchangeRates&quot; resultMap=&quot;currencyExchangeMap&quot;&gt;\r\n           SELECT\r\n                  to_curr as currency ,usdtolocl\r\n           FROM\r\n                  emsg_v2.store_exchange_rate\r\n           \r\n    &lt;/select&gt;\r\n    \r\n    \t@MapKey(&quot;currency&quot;)\r\n    \tpublic Map&lt;String,CurrencyExchange&gt; getExchangeRates();\r\n","title":"How to get Map&lt;String, String&gt; as return type using mybatis annotations","body":"<pre><code> &lt;resultMap id=&quot;currencyExchangeMap&quot; type=&quot;com.sample.model.CurrencyExchange&quot;&gt;\n        &lt;result property=&quot;currency&quot; column=&quot;currency&quot; /&gt;\n        &lt;result property=&quot;exchangeRate&quot; column=&quot;usdtolocl&quot; /&gt;\n&lt;/resultMap&gt;\nwhere CurrencyExchange class has fields currency , exchangeRate\n&lt;select id=&quot;getExchangeRates&quot; resultMap=&quot;currencyExchangeMap&quot;&gt;\n       SELECT\n              to_curr as currency ,usdtolocl\n       FROM\n              emsg_v2.store_exchange_rate\n       \n&lt;/select&gt;\n\n    @MapKey(&quot;currency&quot;)\n    public Map&lt;String,CurrencyExchange&gt; getExchangeRates();\n</code></pre>\n"}],"owner":{"account_id":481010,"reputation":2039,"user_id":894570,"accept_rate":36,"display_name":"Mohit Verma"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":32879,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"answer_count":4,"score":12,"last_activity_date":1689336611,"creation_date":1328815346,"question_id":9217334,"body_markdown":"Using annotations in mybatis, can we have return type as normal map ?\r\n\r\nBasically, I want something like this\r\n\r\n    @Select(&quot;select a, b from tableA&quot;)\r\n    public Map&lt;String, String&gt; getItems();\r\n\r\nWhere \r\n\r\n    mysql&gt; select * from tableA;\r\n    +------+------+\r\n    | a    | b    |\r\n    +------+------+\r\n    | 1    | a    |\r\n    | 2    | b    |\r\n    | 3    | c    |\r\n    +------+------+\r\n\r\n    mysql&gt; desc tableA;\r\n    +-------+-------------+------+-----+---------+-------+\r\n    | Field | Type        | Null | Key | Default | Extra |\r\n    +-------+-------------+------+-----+---------+-------+\r\n    | a     | varchar(10) | YES  |     | NULL    |       |\r\n    | b     | varchar(10) | YES  |     | NULL    |       |\r\n    +-------+-------------+------+-----+---------+-------+\r\n\r\n\r\n\r\nTried this\r\n\r\n    @Select(&quot;select a, b from tableA&quot;)\r\n    @MapKey(&quot;a)\r\n    public Map&lt;String, String&gt; getItems();\r\n\r\nbut it&#39;s giving below exception\r\n\r\n    ### Cause: org.apache.ibatis.reflection.ReflectionException: There is no getter for property named &#39;a&#39; in &#39;class java.lang.String&#39;\r\n\r\n","title":"How to get Map&lt;String, String&gt; as return type using mybatis annotations","body":"<p>Using annotations in mybatis, can we have return type as normal map ?</p>\n\n<p>Basically, I want something like this</p>\n\n<pre><code>@Select(\"select a, b from tableA\")\npublic Map&lt;String, String&gt; getItems();\n</code></pre>\n\n<p>Where </p>\n\n<pre><code>mysql&gt; select * from tableA;\n+------+------+\n| a    | b    |\n+------+------+\n| 1    | a    |\n| 2    | b    |\n| 3    | c    |\n+------+------+\n\nmysql&gt; desc tableA;\n+-------+-------------+------+-----+---------+-------+\n| Field | Type        | Null | Key | Default | Extra |\n+-------+-------------+------+-----+---------+-------+\n| a     | varchar(10) | YES  |     | NULL    |       |\n| b     | varchar(10) | YES  |     | NULL    |       |\n+-------+-------------+------+-----+---------+-------+\n</code></pre>\n\n<p>Tried this</p>\n\n<pre><code>@Select(\"select a, b from tableA\")\n@MapKey(\"a)\npublic Map&lt;String, String&gt; getItems();\n</code></pre>\n\n<p>but it's giving below exception</p>\n\n<pre><code>### Cause: org.apache.ibatis.reflection.ReflectionException: There is no getter for property named 'a' in 'class java.lang.String'\n</code></pre>\n"},{"tags":["java","android","sockets"],"comments":[{"owner":{"account_id":5076619,"reputation":107,"user_id":4073819,"display_name":"amnon"},"score":0,"creation_date":1592451506,"post_id":62436546,"comment_id":110431862,"body_markdown":"now I see that on forum     https://stackoverflow.com/questions/60203194/how-to-solve-java-net-socketexception-socket-failed-eperm-operation-not-permi?rq=1[link]\nsomeone offered that the wifi I am connected with in emulator is not allowing me to connect to the api I am calling, but no solution was offered","body":"now I see that on forum     <a href=\"https://stackoverflow.com/questions/60203194/how-to-solve-java-net-socketexception-socket-failed-eperm-operation-not-permi?rq=1[link]\" title=\"how to solve java net socketexception socket failed eperm operation not permi\">stackoverflow.com/questions/60203194/&hellip;</a> someone offered that the wifi I am connected with in emulator is not allowing me to connect to the api I am calling, but no solution was offered"},{"owner":{"account_id":5076619,"reputation":107,"user_id":4073819,"display_name":"amnon"},"score":0,"creation_date":1592455004,"post_id":62436546,"comment_id":110432627,"body_markdown":"@DipankarBaghel","body":"@DipankarBaghel"}],"answers":[{"tags":[],"owner":{"account_id":20097174,"reputation":21,"user_id":14736460,"display_name":"Dikascode"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1610549709,"creation_date":1610549709,"answer_id":65704383,"question_id":62436546,"body_markdown":"So looking through your manifest shows your internet permission is spelt wrongly.\r\n\r\nIt is: `&lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;`\r\n\r\nnot: `&lt;uses-permission android:name=&quot;android.promission.INTERNET&quot;/&gt;`\r\n\r\nThis might not solve your problem, but it&#39;s one step forward to figuring out what&#39;s wrong.","title":"java.net.SocketException: socket failed: EPERM Operation not permitted although AndroidManifest have permits in it","body":"<p>So looking through your manifest shows your internet permission is spelt wrongly.</p>\n<p>It is: <code>&lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;</code></p>\n<p>not: <code>&lt;uses-permission android:name=&quot;android.promission.INTERNET&quot;/&gt;</code></p>\n<p>This might not solve your problem, but it's one step forward to figuring out what's wrong.</p>\n"}],"owner":{"account_id":5076619,"reputation":107,"user_id":4073819,"display_name":"amnon"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3132,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1689336600,"creation_date":1592420781,"question_id":62436546,"body_markdown":"This bug is getting me crezy.\r\nI looked in forums but none answered to this particular question.\r\nhere is my sample code on AndroidManifest.xml:\r\n\r\n\r\n```&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    .\r\n    &lt;uses-permission android:name=&quot;android.promission.INTERNET&quot;/&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot;/&gt;\r\n    .\r\n    &lt;application\r\n        .\r\n        android:usesCleartextTraffic=&quot;true&quot;\r\n        . \r\n```\r\n\r\nand although I put all permits as needed and uninstalled + installed the application, it still gives me an exception\r\n```\r\nW/System.err: java.net.SocketException: socket failed: EPERM (Operation not permitted)\r\nW/System.err:     at java.net.Socket.createImpl(Socket.java:492)\r\n        at java.net.Socket.&lt;init&gt;(Socket.java:446)\r\n        at java.net.Socket.&lt;init&gt;(Socket.java:218)\r\n        at com.diamcom.blue.connect.send(connect.java:23)\r\n        at com.diamcom.blue.sendToServer.sendChanges(sendToServer.java:43)\r\n        at com.diamcom.blue.sendToServer.run(sendToServer.java:25)\r\n```\r\n\r\nAny idea ?","title":"java.net.SocketException: socket failed: EPERM Operation not permitted although AndroidManifest have permits in it","body":"<p>This bug is getting me crezy.\nI looked in forums but none answered to this particular question.\nhere is my sample code on AndroidManifest.xml:</p>\n\n<pre><code>&lt;manifest xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    .\n    &lt;uses-permission android:name=\"android.promission.INTERNET\"/&gt;\n    &lt;uses-permission android:name=\"android.permission.ACCESS_NETWORK_STATE\"/&gt;\n    .\n    &lt;application\n        .\n        android:usesCleartextTraffic=\"true\"\n        . \n</code></pre>\n\n<p>and although I put all permits as needed and uninstalled + installed the application, it still gives me an exception</p>\n\n<pre><code>W/System.err: java.net.SocketException: socket failed: EPERM (Operation not permitted)\nW/System.err:     at java.net.Socket.createImpl(Socket.java:492)\n        at java.net.Socket.&lt;init&gt;(Socket.java:446)\n        at java.net.Socket.&lt;init&gt;(Socket.java:218)\n        at com.diamcom.blue.connect.send(connect.java:23)\n        at com.diamcom.blue.sendToServer.sendChanges(sendToServer.java:43)\n        at com.diamcom.blue.sendToServer.run(sendToServer.java:25)\n</code></pre>\n\n<p>Any idea ?</p>\n"},{"tags":["java","android","mysql","android-studio-3.0"],"comments":[{"owner":{"account_id":8465462,"reputation":7040,"user_id":6349751,"accept_rate":90,"display_name":"AymDev"},"score":0,"creation_date":1641572414,"post_id":70624195,"comment_id":124846805,"body_markdown":"How is this related to PHP ?","body":"How is this related to PHP ?"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1641572632,"post_id":70624195,"comment_id":124846910,"body_markdown":"You posted logcat lines without the SocketException.","body":"You posted logcat lines without the SocketException."},{"owner":{"account_id":18764995,"reputation":11,"user_id":13683086,"display_name":"Maxwell Ross"},"score":0,"creation_date":1641573843,"post_id":70624195,"comment_id":124847508,"body_markdown":"Well an external php file was used to forward the data fields so im not sure if the problem exists there, if im told this code is good i would think that the php is the issue. The php file is based on &quot;https://github.com/VishnuSivadasVS/Advanced-HttpURLConnection&quot; @AymDev","body":"Well an external php file was used to forward the data fields so im not sure if the problem exists there, if im told this code is good i would think that the php is the issue. The php file is based on &quot;<a href=\"https://github.com/VishnuSivadasVS/Advanced-HttpURLConnection\" rel=\"nofollow noreferrer\">github.com/VishnuSivadasVS/Advanced-HttpURLConnection</a>&quot; @AymDev"},{"owner":{"account_id":18764995,"reputation":11,"user_id":13683086,"display_name":"Maxwell Ross"},"score":0,"creation_date":1641573880,"post_id":70624195,"comment_id":124847524,"body_markdown":"I am not sure where to find the socketException@blackapps","body":"I am not sure where to find the socketException@blackapps"},{"owner":{"account_id":8465462,"reputation":7040,"user_id":6349751,"accept_rate":90,"display_name":"AymDev"},"score":0,"creation_date":1641574103,"post_id":70624195,"comment_id":124847625,"body_markdown":"@MaxwellRoss still no PHP in your question nor in the link you commented.","body":"@MaxwellRoss still no PHP in your question nor in the link you commented."},{"owner":{"account_id":18764995,"reputation":11,"user_id":13683086,"display_name":"Maxwell Ross"},"score":0,"creation_date":1641574515,"post_id":70624195,"comment_id":124847800,"body_markdown":"Apologies @AymDev this is the correct link &quot;https://github.com/VishnuSivadasVS/LogIn-SignUp&quot; and my post is updated","body":"Apologies @AymDev this is the correct link &quot;<a href=\"https://github.com/VishnuSivadasVS/LogIn-SignUp\" rel=\"nofollow noreferrer\">github.com/VishnuSivadasVS/LogIn-SignUp</a>&quot; and my post is updated"}],"answers":[{"tags":[],"owner":{"account_id":18764995,"reputation":11,"user_id":13683086,"display_name":"Maxwell Ross"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641591607,"creation_date":1641591607,"answer_id":70627472,"question_id":70624195,"body_markdown":"Looking at my own code, I spelt android wrong in the Manifest.xml file \r\n```\r\n  &lt;uses-permission android:name=&quot;andriod.permission.INTERNET&quot; /&gt;\r\n  &lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot;/&gt;\r\n```\r\ncorrection \r\n```\r\n  &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\r\n  &lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot;/&gt;\r\n```","title":"Un-resolved java.net.SocketException: socket failed: EPERM (Operation not permitted)","body":"<p>Looking at my own code, I spelt android wrong in the Manifest.xml file</p>\n<pre><code>  &lt;uses-permission android:name=&quot;andriod.permission.INTERNET&quot; /&gt;\n  &lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot;/&gt;\n</code></pre>\n<p>correction</p>\n<pre><code>  &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\n  &lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot;/&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19518003,"reputation":49,"user_id":14280462,"display_name":"faribakhandani"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677758683,"creation_date":1677758683,"answer_id":75615180,"question_id":70624195,"body_markdown":"Doing &quot;wipe data&quot; in the emulator can solve the problem.","title":"Un-resolved java.net.SocketException: socket failed: EPERM (Operation not permitted)","body":"<p>Doing &quot;wipe data&quot; in the emulator can solve the problem.</p>\n"}],"owner":{"account_id":18764995,"reputation":11,"user_id":13683086,"display_name":"Maxwell Ross"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2356,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":2,"score":-1,"last_activity_date":1689336580,"creation_date":1641572240,"question_id":70624195,"body_markdown":"I am following a tutorial on connecting my android app to mySQL server. I am currently encountering an error that other post on StackOverflow cant solve, at least not for me. \r\n\r\nThe error is &quot;java.net.SocketException: socket failed: EPERM (Operation not permitted)&quot; which shows up both on the emulator and my physical device. Other relating topics on stackoverflow has suggested that I add the lines \r\n```\r\n&lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\r\n&lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot; /&gt;\r\n```\r\nto my AndroidManifest.xml then un-installing the application, to which I have but the error still persist.\r\n\r\n\r\nAndroidManifest.xml\r\n```\r\n    &lt;uses-permission android:name=&quot;andriod.permission.INTERNET&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot;/&gt;\r\n    &lt;application\r\n        android:allowBackup=&quot;true&quot;\r\n        android:icon=&quot;@mipmap/ic_launcher&quot;\r\n        android:label=&quot;@string/app_name&quot;\r\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\r\n        android:supportsRtl=&quot;true&quot;\r\n        android:usesCleartextTraffic=&quot;true&quot;\r\n        android:theme=&quot;@style/Theme.Login2&quot;&gt;\r\n        &lt;activity\r\n            android:name=&quot;.SignUpActivity&quot;\r\n            android:exported=&quot;false&quot;\r\n            android:theme=&quot;@style/Theme.Design.Light.NoActionBar&quot;/&gt;\r\n        &lt;activity\r\n            android:name=&quot;.ui.login.LoginActivity&quot;\r\n            android:exported=&quot;false&quot;\r\n            android:theme=&quot;@style/Theme.Design.Light.NoActionBar&quot; /&gt;\r\n        &lt;activity\r\n            android:name=&quot;.MainActivity&quot;\r\n            android:exported=&quot;true&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n\r\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/activity&gt;\r\n    &lt;/application&gt;\r\n\r\n```\r\n\r\nSignUpActivity class\r\n``` \r\npackage com.example.login2;\r\n\r\nimport android.content.Intent;\r\nimport android.os.Bundle;\r\nimport android.os.Handler;\r\nimport android.os.Looper;\r\nimport android.widget.Button;\r\nimport android.widget.EditText;\r\nimport android.widget.Toast;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport java.io.BufferedReader;\r\nimport java.io.BufferedWriter;\r\nimport java.io.IOException;\r\nimport java.io.InputStream;\r\nimport java.io.InputStreamReader;\r\nimport java.io.OutputStream;\r\nimport java.io.OutputStreamWriter;\r\nimport java.net.HttpURLConnection;\r\nimport java.net.URL;\r\nimport java.net.URLEncoder;\r\n\r\npublic class SignUpActivity extends AppCompatActivity {\r\n\r\n    // EditText inputFullName, inputUserName, inputEmail, inputPassword;\r\n    //Button buttonSignIn, buttonLogIn;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_sign_up);\r\n\r\n        //Button signUpButton = findViewById(R.id.btn1Signup);\r\n\r\n        EditText inputFullName = findViewById(R.id.fullname);\r\n        EditText inputEmail = findViewById(R.id.email);\r\n        EditText inputPassword = findViewById(R.id.password2);\r\n        EditText inputUserName = findViewById(R.id.username2);\r\n\r\n        Button buttonLogIn = findViewById(R.id.button5);\r\n        Button buttonSignIn = (Button) findViewById(R.id.button8);\r\n\r\n        buttonSignIn.setOnClickListener(view -&gt; {\r\n\r\n//            Intent intent = new Intent(this, MainActivity.class); //command go to another page\r\n//            startActivity(intent);//start activity\r\n\r\n            String fullname, username, email, password;\r\n\r\n            fullname = String.valueOf(inputFullName.getText());\r\n            username = String.valueOf(inputUserName.getText());\r\n            email = String.valueOf(inputEmail.getText());\r\n            password = String.valueOf(inputPassword.getText());\r\n\r\n            if(!fullname.equals(&quot;&quot;) &amp;&amp; !username.equals(&quot;&quot;) &amp;&amp; !email.equals(&quot;&quot;) &amp;&amp; !password.equals(&quot;&quot;)) {\r\n                //Start ProgressBar first (Set visibility VISIBLE)\r\n                Handler handler = new Handler(Looper.getMainLooper());\r\n                handler.post(() -&gt; {\r\n\r\n                    //Starting Write and Read data with URL\r\n                    //Creating array for parameters\r\n                    String[] field = new String[4];\r\n                    field[0] = &quot;fullname&quot;;\r\n                    field[1] = &quot;username&quot;;\r\n                    field[2] = &quot;email&quot;;\r\n                    field[3] = &quot;password&quot;;\r\n                    //Creating array for data\r\n                    String[] data = new String[4];\r\n                    field[0] = fullname;\r\n                    field[1] = username;\r\n                    field[2] = email;\r\n                    field[3] = password;\r\n                    PutData putData = new PutData(&quot;https://192.168.100.2/LoginRegister/signup.php&quot;, &quot;POST&quot;, field, data);\r\n                    if (putData.startPut()) {\r\n                        if (putData.onComplete()) {\r\n                            String result = putData.getResult();\r\n                            if(result.equals(&quot;Sign Up Success&quot;)){\r\n                                Toast.makeText(getApplicationContext(), result, Toast.LENGTH_SHORT).show();\r\n                                Intent intent = new Intent(this, MainActivity.class);\r\n                                startActivity(intent);\r\n                                finish();\r\n                            }else{\r\n                                Toast.makeText(getApplicationContext(), result, Toast.LENGTH_SHORT).show();\r\n                            }\r\n                        }\r\n                    }\r\n                    //End Write and Read data with URL\r\n                });\r\n            }\r\n            else {\r\n                Toast.makeText(this, &quot;All fields required&quot;, Toast.LENGTH_SHORT).show();\r\n            }\r\n        });\r\n\r\n\r\n    }\r\n\r\n    public class PutData extends Thread {\r\n        private String url, method;\r\n        String result_data = &quot;Empty&quot;;\r\n        String[] data, field;\r\n\r\n        public PutData(String url, String method, String[] field, String[] data) {\r\n            this.url = url;\r\n            this.method = method;\r\n            this.data = new String[data.length];\r\n            this.field = new String[field.length];\r\n            System.arraycopy(field, 0, this.field, 0, field.length);\r\n            System.arraycopy(data, 0, this.data, 0, data.length);\r\n        }\r\n\r\n        @Override\r\n        public void run() {\r\n            try {\r\n                String UTF8 = &quot;UTF-8&quot;, iso = &quot;iso-8859-1&quot;;\r\n                URL url = new URL(this.url);\r\n                HttpURLConnection httpURLConnection = (HttpURLConnection) url.openConnection();\r\n                httpURLConnection.setRequestMethod(this.method);\r\n                httpURLConnection.setDoOutput(true);\r\n                httpURLConnection.setDoInput(true);\r\n                OutputStream outputStream = httpURLConnection.getOutputStream();\r\n                BufferedWriter bufferedWriter = new BufferedWriter(new OutputStreamWriter(outputStream, UTF8));\r\n                StringBuilder post_data = new StringBuilder();\r\n                for (int i = 0; i &lt; this.field.length; i++) {\r\n                    post_data.append(URLEncoder.encode(this.field[i], &quot;UTF-8&quot;)).append(&quot;=&quot;).append(URLEncoder.encode(this.data[i], UTF8)).append(&quot;&amp;&quot;);\r\n                }\r\n                bufferedWriter.write(post_data.toString());\r\n                bufferedWriter.flush();\r\n                bufferedWriter.close();\r\n                outputStream.close();\r\n                InputStream inputStream = httpURLConnection.getInputStream();\r\n                BufferedReader bufferedReader = new BufferedReader(new InputStreamReader(inputStream, iso));\r\n                StringBuilder result = new StringBuilder();\r\n                String result_line;\r\n                while ((result_line = bufferedReader.readLine()) != null) {\r\n                    result.append(result_line);\r\n                }\r\n                bufferedReader.close();\r\n                inputStream.close();\r\n                httpURLConnection.disconnect();\r\n                setData(result.toString());\r\n            } catch (IOException e) {\r\n                setData(e.toString());\r\n            }\r\n        }\r\n\r\n        public boolean startPut() {\r\n            PutData.this.start();\r\n            return true;\r\n        }\r\n\r\n        public boolean onComplete() {\r\n            while (true) {\r\n                if (!this.isAlive()) {\r\n                    return true;\r\n                }\r\n            }\r\n        }\r\n\r\n        public String getResult() {\r\n            return this.getData();\r\n        }\r\n\r\n        public void setData(String result_data) {\r\n            this.result_data = result_data;\r\n        }\r\n\r\n\r\n        public String getData() {\r\n            return result_data;\r\n        }\r\n    }\r\n\r\n}\r\n```\r\nLogcat\r\n```\r\n2022-01-07 11:30:24.055 11687-11687/? I/.example.login: Late-enabling -Xcheck:jni\r\n2022-01-07 11:30:24.068 11687-11687/? I/.example.login: Unquickening 12 vdex files!\r\n2022-01-07 11:30:24.069 11687-11687/? W/.example.login: Unexpected CPU variant for X86 using defaults: x86\r\n2022-01-07 11:30:24.236 11687-11687/com.example.login2 D/NetworkSecurityConfig: No Network Security Config specified, using platform default\r\n2022-01-07 11:30:24.237 11687-11687/com.example.login2 D/NetworkSecurityConfig: No Network Security Config specified, using platform default\r\n2022-01-07 11:30:24.261 11687-11711/com.example.login2 D/libEGL: loaded /vendor/lib/egl/libEGL_emulation.so\r\n2022-01-07 11:30:24.263 11687-11711/com.example.login2 D/libEGL: loaded /vendor/lib/egl/libGLESv1_CM_emulation.so\r\n2022-01-07 11:30:24.267 11687-11711/com.example.login2 D/libEGL: loaded /vendor/lib/egl/libGLESv2_emulation.so\r\n2022-01-07 11:30:24.389 11687-11687/com.example.login2 W/.example.login: Accessing hidden method Landroid/view/View;-&gt;computeFitSystemWindows(Landroid/graphics/Rect;Landroid/graphics/Rect;)Z (greylist, reflection, allowed)\r\n2022-01-07 11:30:24.389 11687-11687/com.example.login2 W/.example.login: Accessing hidden method Landroid/view/ViewGroup;-&gt;makeOptionalFitsSystemWindows()V (greylist, reflection, allowed)\r\n2022-01-07 11:30:24.500 11687-11709/com.example.login2 D/HostConnection: HostConnection::get() New Host Connection established 0xf75ec230, tid 11709\r\n2022-01-07 11:30:24.507 11687-11709/com.example.login2 D/HostConnection: HostComposition ext ANDROID_EMU_CHECKSUM_HELPER_v1 ANDROID_EMU_native_sync_v2 ANDROID_EMU_native_sync_v3 ANDROID_EMU_native_sync_v4 ANDROID_EMU_dma_v1 ANDROID_EMU_direct_mem ANDROID_EMU_host_composition_v1 ANDROID_EMU_host_composition_v2 ANDROID_EMU_vulkan ANDROID_EMU_deferred_vulkan_commands ANDROID_EMU_vulkan_null_optional_strings ANDROID_EMU_vulkan_create_resources_with_requirements ANDROID_EMU_YUV_Cache ANDROID_EMU_vulkan_ignored_handles ANDROID_EMU_has_shared_slots_host_memory_allocator ANDROID_EMU_vulkan_free_memory_sync ANDROID_EMU_vulkan_shader_float16_int8 ANDROID_EMU_vulkan_async_queue_submit ANDROID_EMU_sync_buffer_data ANDROID_EMU_read_color_buffer_dma GL_OES_vertex_array_object GL_KHR_texture_compression_astc_ldr ANDROID_EMU_host_side_tracing ANDROID_EMU_gles_max_version_2 \r\n2022-01-07 11:30:24.508 11687-11709/com.example.login2 W/OpenGLRenderer: Failed to choose config with EGL_SWAP_BEHAVIOR_PRESERVED, retrying without...\r\n2022-01-07 11:30:24.537 11687-11709/com.example.login2 D/EGL_emulation: eglCreateContext: 0xf75ec1c0: maj 2 min 0 rcv 2\r\n2022-01-07 11:30:24.565 11687-11709/com.example.login2 D/EGL_emulation: eglMakeCurrent: 0xf75ec1c0: ver 2 0 (tinfo 0xf7931630) (first time)\r\n2022-01-07 11:30:24.571 11687-11709/com.example.login2 I/Gralloc4: mapper 4.x is not supported\r\n2022-01-07 11:30:24.572 11687-11709/com.example.login2 D/HostConnection: createUnique: call\r\n2022-01-07 11:30:24.572 11687-11709/com.example.login2 D/HostConnection: HostConnection::get() New Host Connection established 0xf75eb580, tid 11709\r\n2022-01-07 11:30:24.572 11687-11709/com.example.login2 D/goldfish-address-space: allocate: Ask for block of size 0x100\r\n2022-01-07 11:30:24.572 11687-11709/com.example.login2 D/goldfish-address-space: allocate: ioctl allocate returned offset 0x3dfffe000 size 0x2000\r\n2022-01-07 11:30:24.595 11687-11709/com.example.login2 D/HostConnection: HostComposition ext ANDROID_EMU_CHECKSUM_HELPER_v1 ANDROID_EMU_native_sync_v2 ANDROID_EMU_native_sync_v3 ANDROID_EMU_native_sync_v4 ANDROID_EMU_dma_v1 ANDROID_EMU_direct_mem ANDROID_EMU_host_composition_v1 ANDROID_EMU_host_composition_v2 ANDROID_EMU_vulkan ANDROID_EMU_deferred_vulkan_commands ANDROID_EMU_vulkan_null_optional_strings ANDROID_EMU_vulkan_create_resources_with_requirements ANDROID_EMU_YUV_Cache ANDROID_EMU_vulkan_ignored_handles ANDROID_EMU_has_shared_slots_host_memory_allocator ANDROID_EMU_vulkan_free_memory_sync ANDROID_EMU_vulkan_shader_float16_int8 ANDROID_EMU_vulkan_async_queue_submit ANDROID_EMU_sync_buffer_data ANDROID_EMU_read_color_buffer_dma GL_OES_vertex_array_object GL_KHR_texture_compression_astc_ldr ANDROID_EMU_host_side_tracing ANDROID_EMU_gles_max_version_2 \r\n2022-01-07 11:30:26.557 11687-11687/com.example.login2 I/AssistStructure: Flattened final assist data: 2276 bytes, containing 1 windows, 11 views\r\n2022-01-07 11:30:33.555 11687-11687/com.example.login2 D/CompatibilityChangeReporter: Compat change id reported: 147798919; UID 10128; state: ENABLED\r\n```\r\n\r\nI would appreciate any assistance in solving this matter.\r\n\r\n\r\nAs requested, the php signup used to connect the android app to the mySQL server \r\n```\r\n&lt;?php\r\nrequire &quot;DataBase.php&quot;;\r\n$db = new DataBase();\r\nif (isset($_POST[&#39;fullname&#39;]) &amp;&amp; isset($_POST[&#39;email&#39;]) &amp;&amp; isset($_POST[&#39;username&#39;]) &amp;&amp; isset($_POST[&#39;password&#39;])) {\r\n    if ($db-&gt;dbConnect()) {\r\n        if ($db-&gt;signUp(&quot;users&quot;, $_POST[&#39;fullname&#39;], $_POST[&#39;email&#39;], $_POST[&#39;username&#39;], $_POST[&#39;password&#39;])) {\r\n            echo &quot;Sign Up Success&quot;;\r\n        } else echo &quot;Sign up Failed&quot;;\r\n    } else echo &quot;Error: Database connection&quot;;\r\n} else echo &quot;All fields are required&quot;;\r\n?&gt;\r\n\r\n```\r\n\r\ndatabase config file\r\n```\r\n&lt;?php\r\n\r\nclass DataBaseConfig\r\n{\r\n    public $servername;\r\n    public $username;\r\n    public $password;\r\n    public $databasename;\r\n\r\n    public function __construct()\r\n    {\r\n\r\n        $this-&gt;servername = &#39;%&#39;;\r\n        $this-&gt;username = &#39;test1&#39;;\r\n        $this-&gt;password = &#39;n8wOs3tx@3d!TGJl&#39;;\r\n        $this-&gt;databasename = &#39;test&#39;;\r\n\r\n    }\r\n}\r\n\r\n?&gt;\r\n\r\n```","title":"Un-resolved java.net.SocketException: socket failed: EPERM (Operation not permitted)","body":"<p>I am following a tutorial on connecting my android app to mySQL server. I am currently encountering an error that other post on StackOverflow cant solve, at least not for me.</p>\n<p>The error is &quot;java.net.SocketException: socket failed: EPERM (Operation not permitted)&quot; which shows up both on the emulator and my physical device. Other relating topics on stackoverflow has suggested that I add the lines</p>\n<pre><code>&lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot; /&gt;\n</code></pre>\n<p>to my AndroidManifest.xml then un-installing the application, to which I have but the error still persist.</p>\n<p>AndroidManifest.xml</p>\n<pre><code>    &lt;uses-permission android:name=&quot;andriod.permission.INTERNET&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot;/&gt;\n    &lt;application\n        android:allowBackup=&quot;true&quot;\n        android:icon=&quot;@mipmap/ic_launcher&quot;\n        android:label=&quot;@string/app_name&quot;\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\n        android:supportsRtl=&quot;true&quot;\n        android:usesCleartextTraffic=&quot;true&quot;\n        android:theme=&quot;@style/Theme.Login2&quot;&gt;\n        &lt;activity\n            android:name=&quot;.SignUpActivity&quot;\n            android:exported=&quot;false&quot;\n            android:theme=&quot;@style/Theme.Design.Light.NoActionBar&quot;/&gt;\n        &lt;activity\n            android:name=&quot;.ui.login.LoginActivity&quot;\n            android:exported=&quot;false&quot;\n            android:theme=&quot;@style/Theme.Design.Light.NoActionBar&quot; /&gt;\n        &lt;activity\n            android:name=&quot;.MainActivity&quot;\n            android:exported=&quot;true&quot;&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n    &lt;/application&gt;\n\n</code></pre>\n<p>SignUpActivity class</p>\n<pre><code>package com.example.login2;\n\nimport android.content.Intent;\nimport android.os.Bundle;\nimport android.os.Handler;\nimport android.os.Looper;\nimport android.widget.Button;\nimport android.widget.EditText;\nimport android.widget.Toast;\n\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport java.io.BufferedReader;\nimport java.io.BufferedWriter;\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.io.InputStreamReader;\nimport java.io.OutputStream;\nimport java.io.OutputStreamWriter;\nimport java.net.HttpURLConnection;\nimport java.net.URL;\nimport java.net.URLEncoder;\n\npublic class SignUpActivity extends AppCompatActivity {\n\n    // EditText inputFullName, inputUserName, inputEmail, inputPassword;\n    //Button buttonSignIn, buttonLogIn;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_sign_up);\n\n        //Button signUpButton = findViewById(R.id.btn1Signup);\n\n        EditText inputFullName = findViewById(R.id.fullname);\n        EditText inputEmail = findViewById(R.id.email);\n        EditText inputPassword = findViewById(R.id.password2);\n        EditText inputUserName = findViewById(R.id.username2);\n\n        Button buttonLogIn = findViewById(R.id.button5);\n        Button buttonSignIn = (Button) findViewById(R.id.button8);\n\n        buttonSignIn.setOnClickListener(view -&gt; {\n\n//            Intent intent = new Intent(this, MainActivity.class); //command go to another page\n//            startActivity(intent);//start activity\n\n            String fullname, username, email, password;\n\n            fullname = String.valueOf(inputFullName.getText());\n            username = String.valueOf(inputUserName.getText());\n            email = String.valueOf(inputEmail.getText());\n            password = String.valueOf(inputPassword.getText());\n\n            if(!fullname.equals(&quot;&quot;) &amp;&amp; !username.equals(&quot;&quot;) &amp;&amp; !email.equals(&quot;&quot;) &amp;&amp; !password.equals(&quot;&quot;)) {\n                //Start ProgressBar first (Set visibility VISIBLE)\n                Handler handler = new Handler(Looper.getMainLooper());\n                handler.post(() -&gt; {\n\n                    //Starting Write and Read data with URL\n                    //Creating array for parameters\n                    String[] field = new String[4];\n                    field[0] = &quot;fullname&quot;;\n                    field[1] = &quot;username&quot;;\n                    field[2] = &quot;email&quot;;\n                    field[3] = &quot;password&quot;;\n                    //Creating array for data\n                    String[] data = new String[4];\n                    field[0] = fullname;\n                    field[1] = username;\n                    field[2] = email;\n                    field[3] = password;\n                    PutData putData = new PutData(&quot;https://192.168.100.2/LoginRegister/signup.php&quot;, &quot;POST&quot;, field, data);\n                    if (putData.startPut()) {\n                        if (putData.onComplete()) {\n                            String result = putData.getResult();\n                            if(result.equals(&quot;Sign Up Success&quot;)){\n                                Toast.makeText(getApplicationContext(), result, Toast.LENGTH_SHORT).show();\n                                Intent intent = new Intent(this, MainActivity.class);\n                                startActivity(intent);\n                                finish();\n                            }else{\n                                Toast.makeText(getApplicationContext(), result, Toast.LENGTH_SHORT).show();\n                            }\n                        }\n                    }\n                    //End Write and Read data with URL\n                });\n            }\n            else {\n                Toast.makeText(this, &quot;All fields required&quot;, Toast.LENGTH_SHORT).show();\n            }\n        });\n\n\n    }\n\n    public class PutData extends Thread {\n        private String url, method;\n        String result_data = &quot;Empty&quot;;\n        String[] data, field;\n\n        public PutData(String url, String method, String[] field, String[] data) {\n            this.url = url;\n            this.method = method;\n            this.data = new String[data.length];\n            this.field = new String[field.length];\n            System.arraycopy(field, 0, this.field, 0, field.length);\n            System.arraycopy(data, 0, this.data, 0, data.length);\n        }\n\n        @Override\n        public void run() {\n            try {\n                String UTF8 = &quot;UTF-8&quot;, iso = &quot;iso-8859-1&quot;;\n                URL url = new URL(this.url);\n                HttpURLConnection httpURLConnection = (HttpURLConnection) url.openConnection();\n                httpURLConnection.setRequestMethod(this.method);\n                httpURLConnection.setDoOutput(true);\n                httpURLConnection.setDoInput(true);\n                OutputStream outputStream = httpURLConnection.getOutputStream();\n                BufferedWriter bufferedWriter = new BufferedWriter(new OutputStreamWriter(outputStream, UTF8));\n                StringBuilder post_data = new StringBuilder();\n                for (int i = 0; i &lt; this.field.length; i++) {\n                    post_data.append(URLEncoder.encode(this.field[i], &quot;UTF-8&quot;)).append(&quot;=&quot;).append(URLEncoder.encode(this.data[i], UTF8)).append(&quot;&amp;&quot;);\n                }\n                bufferedWriter.write(post_data.toString());\n                bufferedWriter.flush();\n                bufferedWriter.close();\n                outputStream.close();\n                InputStream inputStream = httpURLConnection.getInputStream();\n                BufferedReader bufferedReader = new BufferedReader(new InputStreamReader(inputStream, iso));\n                StringBuilder result = new StringBuilder();\n                String result_line;\n                while ((result_line = bufferedReader.readLine()) != null) {\n                    result.append(result_line);\n                }\n                bufferedReader.close();\n                inputStream.close();\n                httpURLConnection.disconnect();\n                setData(result.toString());\n            } catch (IOException e) {\n                setData(e.toString());\n            }\n        }\n\n        public boolean startPut() {\n            PutData.this.start();\n            return true;\n        }\n\n        public boolean onComplete() {\n            while (true) {\n                if (!this.isAlive()) {\n                    return true;\n                }\n            }\n        }\n\n        public String getResult() {\n            return this.getData();\n        }\n\n        public void setData(String result_data) {\n            this.result_data = result_data;\n        }\n\n\n        public String getData() {\n            return result_data;\n        }\n    }\n\n}\n</code></pre>\n<p>Logcat</p>\n<pre><code>2022-01-07 11:30:24.055 11687-11687/? I/.example.login: Late-enabling -Xcheck:jni\n2022-01-07 11:30:24.068 11687-11687/? I/.example.login: Unquickening 12 vdex files!\n2022-01-07 11:30:24.069 11687-11687/? W/.example.login: Unexpected CPU variant for X86 using defaults: x86\n2022-01-07 11:30:24.236 11687-11687/com.example.login2 D/NetworkSecurityConfig: No Network Security Config specified, using platform default\n2022-01-07 11:30:24.237 11687-11687/com.example.login2 D/NetworkSecurityConfig: No Network Security Config specified, using platform default\n2022-01-07 11:30:24.261 11687-11711/com.example.login2 D/libEGL: loaded /vendor/lib/egl/libEGL_emulation.so\n2022-01-07 11:30:24.263 11687-11711/com.example.login2 D/libEGL: loaded /vendor/lib/egl/libGLESv1_CM_emulation.so\n2022-01-07 11:30:24.267 11687-11711/com.example.login2 D/libEGL: loaded /vendor/lib/egl/libGLESv2_emulation.so\n2022-01-07 11:30:24.389 11687-11687/com.example.login2 W/.example.login: Accessing hidden method Landroid/view/View;-&gt;computeFitSystemWindows(Landroid/graphics/Rect;Landroid/graphics/Rect;)Z (greylist, reflection, allowed)\n2022-01-07 11:30:24.389 11687-11687/com.example.login2 W/.example.login: Accessing hidden method Landroid/view/ViewGroup;-&gt;makeOptionalFitsSystemWindows()V (greylist, reflection, allowed)\n2022-01-07 11:30:24.500 11687-11709/com.example.login2 D/HostConnection: HostConnection::get() New Host Connection established 0xf75ec230, tid 11709\n2022-01-07 11:30:24.507 11687-11709/com.example.login2 D/HostConnection: HostComposition ext ANDROID_EMU_CHECKSUM_HELPER_v1 ANDROID_EMU_native_sync_v2 ANDROID_EMU_native_sync_v3 ANDROID_EMU_native_sync_v4 ANDROID_EMU_dma_v1 ANDROID_EMU_direct_mem ANDROID_EMU_host_composition_v1 ANDROID_EMU_host_composition_v2 ANDROID_EMU_vulkan ANDROID_EMU_deferred_vulkan_commands ANDROID_EMU_vulkan_null_optional_strings ANDROID_EMU_vulkan_create_resources_with_requirements ANDROID_EMU_YUV_Cache ANDROID_EMU_vulkan_ignored_handles ANDROID_EMU_has_shared_slots_host_memory_allocator ANDROID_EMU_vulkan_free_memory_sync ANDROID_EMU_vulkan_shader_float16_int8 ANDROID_EMU_vulkan_async_queue_submit ANDROID_EMU_sync_buffer_data ANDROID_EMU_read_color_buffer_dma GL_OES_vertex_array_object GL_KHR_texture_compression_astc_ldr ANDROID_EMU_host_side_tracing ANDROID_EMU_gles_max_version_2 \n2022-01-07 11:30:24.508 11687-11709/com.example.login2 W/OpenGLRenderer: Failed to choose config with EGL_SWAP_BEHAVIOR_PRESERVED, retrying without...\n2022-01-07 11:30:24.537 11687-11709/com.example.login2 D/EGL_emulation: eglCreateContext: 0xf75ec1c0: maj 2 min 0 rcv 2\n2022-01-07 11:30:24.565 11687-11709/com.example.login2 D/EGL_emulation: eglMakeCurrent: 0xf75ec1c0: ver 2 0 (tinfo 0xf7931630) (first time)\n2022-01-07 11:30:24.571 11687-11709/com.example.login2 I/Gralloc4: mapper 4.x is not supported\n2022-01-07 11:30:24.572 11687-11709/com.example.login2 D/HostConnection: createUnique: call\n2022-01-07 11:30:24.572 11687-11709/com.example.login2 D/HostConnection: HostConnection::get() New Host Connection established 0xf75eb580, tid 11709\n2022-01-07 11:30:24.572 11687-11709/com.example.login2 D/goldfish-address-space: allocate: Ask for block of size 0x100\n2022-01-07 11:30:24.572 11687-11709/com.example.login2 D/goldfish-address-space: allocate: ioctl allocate returned offset 0x3dfffe000 size 0x2000\n2022-01-07 11:30:24.595 11687-11709/com.example.login2 D/HostConnection: HostComposition ext ANDROID_EMU_CHECKSUM_HELPER_v1 ANDROID_EMU_native_sync_v2 ANDROID_EMU_native_sync_v3 ANDROID_EMU_native_sync_v4 ANDROID_EMU_dma_v1 ANDROID_EMU_direct_mem ANDROID_EMU_host_composition_v1 ANDROID_EMU_host_composition_v2 ANDROID_EMU_vulkan ANDROID_EMU_deferred_vulkan_commands ANDROID_EMU_vulkan_null_optional_strings ANDROID_EMU_vulkan_create_resources_with_requirements ANDROID_EMU_YUV_Cache ANDROID_EMU_vulkan_ignored_handles ANDROID_EMU_has_shared_slots_host_memory_allocator ANDROID_EMU_vulkan_free_memory_sync ANDROID_EMU_vulkan_shader_float16_int8 ANDROID_EMU_vulkan_async_queue_submit ANDROID_EMU_sync_buffer_data ANDROID_EMU_read_color_buffer_dma GL_OES_vertex_array_object GL_KHR_texture_compression_astc_ldr ANDROID_EMU_host_side_tracing ANDROID_EMU_gles_max_version_2 \n2022-01-07 11:30:26.557 11687-11687/com.example.login2 I/AssistStructure: Flattened final assist data: 2276 bytes, containing 1 windows, 11 views\n2022-01-07 11:30:33.555 11687-11687/com.example.login2 D/CompatibilityChangeReporter: Compat change id reported: 147798919; UID 10128; state: ENABLED\n</code></pre>\n<p>I would appreciate any assistance in solving this matter.</p>\n<p>As requested, the php signup used to connect the android app to the mySQL server</p>\n<pre><code>&lt;?php\nrequire &quot;DataBase.php&quot;;\n$db = new DataBase();\nif (isset($_POST['fullname']) &amp;&amp; isset($_POST['email']) &amp;&amp; isset($_POST['username']) &amp;&amp; isset($_POST['password'])) {\n    if ($db-&gt;dbConnect()) {\n        if ($db-&gt;signUp(&quot;users&quot;, $_POST['fullname'], $_POST['email'], $_POST['username'], $_POST['password'])) {\n            echo &quot;Sign Up Success&quot;;\n        } else echo &quot;Sign up Failed&quot;;\n    } else echo &quot;Error: Database connection&quot;;\n} else echo &quot;All fields are required&quot;;\n?&gt;\n\n</code></pre>\n<p>database config file</p>\n<pre><code>&lt;?php\n\nclass DataBaseConfig\n{\n    public $servername;\n    public $username;\n    public $password;\n    public $databasename;\n\n    public function __construct()\n    {\n\n        $this-&gt;servername = '%';\n        $this-&gt;username = 'test1';\n        $this-&gt;password = 'n8wOs3tx@3d!TGJl';\n        $this-&gt;databasename = 'test';\n\n    }\n}\n\n?&gt;\n\n</code></pre>\n"},{"tags":["java","android","json","servlets"],"answers":[{"comments":[{"owner":{"account_id":5078359,"reputation":1125,"user_id":4075178,"accept_rate":31,"display_name":"Vikas Pandey"},"score":13,"creation_date":1559654309,"post_id":56267366,"comment_id":99482973,"body_markdown":"it did work for me too, ever found why it was happening in the first place?","body":"it did work for me too, ever found why it was happening in the first place?"},{"owner":{"account_id":3699247,"reputation":83,"user_id":3079561,"display_name":"sk md"},"score":28,"creation_date":1560429960,"post_id":56267366,"comment_id":99739372,"body_markdown":"In my case I had to provide ACCESS_NETWORK_STATE permission. Add &lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot; /&gt; to manifest. And uninstall too","body":"In my case I had to provide ACCESS_NETWORK_STATE permission. Add &lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot; /&gt; to manifest. And uninstall too"},{"owner":{"account_id":1638531,"reputation":1890,"user_id":1511417,"accept_rate":70,"display_name":"user1511417"},"score":4,"creation_date":1561981435,"post_id":56267366,"comment_id":100222267,"body_markdown":"Same here. It&#39;s odd that the question is so young. Maybe this is a bug.","body":"Same here. It&#39;s odd that the question is so young. Maybe this is a bug."},{"owner":{"account_id":7135546,"reputation":325,"user_id":5455332,"accept_rate":60,"display_name":"Fahad Bhuyian"},"score":0,"creation_date":1564177356,"post_id":56267366,"comment_id":100958773,"body_markdown":"java.net.ConnectException: Failed to connect to still not working","body":"java.net.ConnectException: Failed to connect to still not working"},{"owner":{"account_id":11162830,"reputation":1376,"user_id":8192354,"accept_rate":75,"display_name":"Silambarasan R"},"score":0,"creation_date":1566977021,"post_id":56267366,"comment_id":101819100,"body_markdown":"@FahadBhuyian try to add permission to use INTERNET inside of `AndroidManifest.xml` file ```&lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;``` right before the application tag.","body":"@FahadBhuyian try to add permission to use INTERNET inside of <code>AndroidManifest.xml</code> file <code>&lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; &#47;&gt;</code> right before the application tag."},{"owner":{"account_id":7135628,"reputation":420,"user_id":5455375,"accept_rate":75,"display_name":"Onregs"},"score":2,"creation_date":1568278024,"post_id":56267366,"comment_id":102226094,"body_markdown":"Removed application from an emulator and install again solved my problem, thanks. Seems that firebase cache something to the filesystem and reuse it, I suppose clear application data also will solve a problem.","body":"Removed application from an emulator and install again solved my problem, thanks. Seems that firebase cache something to the filesystem and reuse it, I suppose clear application data also will solve a problem."},{"owner":{"account_id":267785,"reputation":2853,"user_id":1765893,"accept_rate":67,"display_name":"Pedro Lopes"},"score":1,"creation_date":1569002779,"post_id":56267366,"comment_id":102468666,"body_markdown":"Why does this happen in the first place thought? Anyone have a hint on what may be the cause of this?","body":"Why does this happen in the first place thought? Anyone have a hint on what may be the cause of this?"},{"owner":{"account_id":9921486,"reputation":5699,"user_id":7344445,"display_name":"Atif AbbAsi"},"score":4,"creation_date":1570619112,"post_id":56267366,"comment_id":102967742,"body_markdown":"maybe permission are cached already and ruining it again and again is not updating permission and instead of updating src files only.? that&#39;s re-installation   helped.","body":"maybe permission are cached already and ruining it again and again is not updating permission and instead of updating src files only.? that&#39;s re-installation   helped."},{"owner":{"account_id":8287413,"reputation":432,"user_id":6230132,"display_name":"Malay Shah"},"score":1,"creation_date":1611866222,"post_id":56267366,"comment_id":116595835,"body_markdown":"Uninstall and Re-install worked for me. But am providing an update to my existing app and so cannot just ask all my users to just uninstall and re-install the new version for my production release. Is there any way around if anyone has figure out yet?","body":"Uninstall and Re-install worked for me. But am providing an update to my existing app and so cannot just ask all my users to just uninstall and re-install the new version for my production release. Is there any way around if anyone has figure out yet?"},{"owner":{"account_id":7514614,"reputation":425,"user_id":5708478,"display_name":"Andy Romero"},"score":0,"creation_date":1621362134,"post_id":56267366,"comment_id":119471887,"body_markdown":"it did work for me too, uninstall my app and run on Android Studio 4.1.2","body":"it did work for me too, uninstall my app and run on Android Studio 4.1.2"},{"owner":{"account_id":1231307,"reputation":3643,"user_id":1195835,"accept_rate":96,"display_name":"TecBrat"},"score":0,"creation_date":1623268830,"post_id":56267366,"comment_id":120034476,"body_markdown":"I was getting the same error trying to load image URLs with Glide using `&lt;uses-permission android:name=&quot;android.permission.INTERNET&quot;/&gt;` Uninstalling the app fixed it for me!","body":"I was getting the same error trying to load image URLs with Glide using <code>&lt;uses-permission android:name=&quot;android.permission.INTERNET&quot;&#47;&gt;</code> Uninstalling the app fixed it for me!"},{"owner":{"account_id":8632386,"reputation":597,"user_id":6463625,"display_name":"Nald Dev"},"score":0,"creation_date":1647642768,"post_id":56267366,"comment_id":126430692,"body_markdown":"As a beginner, I&#39;ve been around 3 days figuring out why my simple load image app not working, I&#39;ve make sure permission added also add clearTextHttp as true in the manifest, little did I know I have to do this, we need better developer experience","body":"As a beginner, I&#39;ve been around 3 days figuring out why my simple load image app not working, I&#39;ve make sure permission added also add clearTextHttp as true in the manifest, little did I know I have to do this, we need better developer experience"},{"owner":{"account_id":6745148,"reputation":159,"user_id":5196984,"accept_rate":0,"display_name":"Anuj"},"score":0,"creation_date":1667863152,"post_id":56267366,"comment_id":131265057,"body_markdown":"Mostly if you modify AndroidManifest.xml you might need to uninstall and run again.","body":"Mostly if you modify AndroidManifest.xml you might need to uninstall and run again."},{"owner":{"account_id":2359126,"reputation":110,"user_id":2066263,"accept_rate":71,"display_name":"sgrutman978"},"score":0,"creation_date":1701809740,"post_id":56267366,"comment_id":136820849,"body_markdown":"This seemed to fix one issue for me, but then I was getting a android.os.NetworkOnMainThreadException. Anyone else have this issue?","body":"This seemed to fix one issue for me, but then I was getting a android.os.NetworkOnMainThreadException. Anyone else have this issue?"}],"tags":[],"owner":{"account_id":14680232,"reputation":10969,"user_id":10601988,"display_name":"Aaron Villalobos"},"comment_count":14,"down_vote_count":1,"up_vote_count":791,"is_accepted":true,"score":790,"last_activity_date":1675044600,"creation_date":1558578995,"answer_id":56267366,"question_id":56266801,"body_markdown":"Your app needs additional permissions and/or to be reinstalled.\r\n\r\nAdd additional permissions to `AndroidManifest.xml` within the `&lt;manifest&gt;` section:\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot; /&gt;\r\n\r\nTo reinstall, uninstall the app from the emulator or physical connected device and then run it again.  (If adding permissions, make sure to reinstall *afterwards*.)","title":"java.net.SocketException: socket failed: EPERM (Operation not permitted)","body":"<p>Your app needs additional permissions and/or to be reinstalled.</p>\n<p>Add additional permissions to <code>AndroidManifest.xml</code> within the <code>&lt;manifest&gt;</code> section:</p>\n<pre><code>&lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot; /&gt;\n</code></pre>\n<p>To reinstall, uninstall the app from the emulator or physical connected device and then run it again.  (If adding permissions, make sure to reinstall <em>afterwards</em>.)</p>\n"},{"comments":[{"owner":{"account_id":5220346,"reputation":2825,"user_id":4174003,"display_name":"Vladislav Varslavans"},"score":2,"creation_date":1587307193,"post_id":57761916,"comment_id":108454008,"body_markdown":"True, though if that is already set and still getting the same error - do as suggested above - delete app on device and install it again.","body":"True, though if that is already set and still getting the same error - do as suggested above - delete app on device and install it again."},{"owner":{"account_id":7106089,"reputation":2961,"user_id":5435658,"accept_rate":17,"display_name":"raditya gumay"},"score":1,"creation_date":1630297318,"post_id":57761916,"comment_id":121908573,"body_markdown":"2021 and i still get this issue","body":"2021 and i still get this issue"},{"owner":{"account_id":5098917,"reputation":4167,"user_id":4089212,"accept_rate":64,"display_name":"Archil Labadze"},"score":0,"creation_date":1630304215,"post_id":57761916,"comment_id":121909913,"body_markdown":"Did you reinstall app?","body":"Did you reinstall app?"}],"tags":[],"owner":{"account_id":5098917,"reputation":4167,"user_id":4089212,"accept_rate":64,"display_name":"Archil Labadze"},"comment_count":3,"down_vote_count":0,"up_vote_count":78,"is_accepted":false,"score":78,"last_activity_date":1567452984,"creation_date":1567452984,"answer_id":57761916,"question_id":56266801,"body_markdown":"First of all you need change your android manifest .xml\r\nBut after this action you must uninstall application and run it again.\r\n[https://developer.android.com/training/basics/network-ops/connecting][1]\r\n\r\n\r\n  [1]: https://developer.android.com/training/basics/network-ops/connecting\r\n\r\nand code here:\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot; /&gt;\r\n\r\nin **AndroidManifest.xml**","title":"java.net.SocketException: socket failed: EPERM (Operation not permitted)","body":"<p>First of all you need change your android manifest .xml\nBut after this action you must uninstall application and run it again.\n<a href=\"https://developer.android.com/training/basics/network-ops/connecting\" rel=\"noreferrer\">https://developer.android.com/training/basics/network-ops/connecting</a></p>\n\n<p>and code here:</p>\n\n<pre><code>&lt;uses-permission android:name=\"android.permission.INTERNET\" /&gt;\n&lt;uses-permission android:name=\"android.permission.ACCESS_NETWORK_STATE\" /&gt;\n</code></pre>\n\n<p>in <strong>AndroidManifest.xml</strong></p>\n"},{"tags":[],"owner":{"account_id":8594874,"reputation":531,"user_id":6438191,"display_name":"Juan Cabello"},"comment_count":0,"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1573132877,"creation_date":1573132877,"answer_id":58749652,"question_id":56266801,"body_markdown":"I had to uninstall the app from the emulator and then everything started to work. I just needed the folowing permission on the AndroidManifest.xml\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;","title":"java.net.SocketException: socket failed: EPERM (Operation not permitted)","body":"<p>I had to uninstall the app from the emulator and then everything started to work. I just needed the folowing permission on the AndroidManifest.xml</p>\n\n<pre><code>&lt;uses-permission android:name=\"android.permission.INTERNET\" /&gt;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":447183,"reputation":16003,"user_id":840669,"accept_rate":72,"display_name":"Rajkiran"},"score":3,"creation_date":1575799413,"post_id":58792460,"comment_id":104680699,"body_markdown":"I don&#39;t know how, but this works. Posting in December 2019.\nThough this works, curious to know why.","body":"I don&#39;t know how, but this works. Posting in December 2019. Though this works, curious to know why."},{"owner":{"account_id":1679373,"reputation":1209,"user_id":1544044,"accept_rate":100,"display_name":"mcy"},"score":3,"creation_date":1638432927,"post_id":58792460,"comment_id":124087772,"body_markdown":"It is December 2021 and unbelievably this fix still works in an emulator with API 29.","body":"It is December 2021 and unbelievably this fix still works in an emulator with API 29."},{"owner":{"account_id":3066131,"reputation":1764,"user_id":2597775,"accept_rate":58,"display_name":"sebasira"},"score":0,"creation_date":1642014992,"post_id":58792460,"comment_id":124962889,"body_markdown":"Damn! I&#39;ve lost an entire day with this. Thank you!","body":"Damn! I&#39;ve lost an entire day with this. Thank you!"},{"owner":{"account_id":9702422,"reputation":154,"user_id":7196958,"display_name":"ahmfarisi"},"score":0,"creation_date":1657042428,"post_id":58792460,"comment_id":128713839,"body_markdown":"I just feel this is ridiculous, but it&#39;s work, LOL. Anyway, thx","body":"I just feel this is ridiculous, but it&#39;s work, LOL. Anyway, thx"}],"tags":[],"owner":{"account_id":17071695,"reputation":1131,"user_id":12352305,"display_name":"John Alexander"},"comment_count":4,"down_vote_count":0,"up_vote_count":113,"is_accepted":false,"score":113,"last_activity_date":1630046112,"creation_date":1573416257,"answer_id":58792460,"question_id":56266801,"body_markdown":"Just uninstall the app from the emulator then run again and it’ll work. I had the same issue\r\n\r\nTo uninstall the app run your project when &quot;the application had stopped&quot; message appear click &quot;app info&quot; then uninstall.","title":"java.net.SocketException: socket failed: EPERM (Operation not permitted)","body":"<p>Just uninstall the app from the emulator then run again and it’ll work. I had the same issue</p>\n<p>To uninstall the app run your project when &quot;the application had stopped&quot; message appear click &quot;app info&quot; then uninstall.</p>\n"},{"tags":[],"owner":{"account_id":1850973,"reputation":328,"user_id":1677551,"display_name":"ovidiur"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1574869803,"creation_date":1574869803,"answer_id":59073918,"question_id":56266801,"body_markdown":"If anyone still has this issue I encountered it when I used VPN and tried to connect to wifi while cellular was on. I was using Anyconnect VPN client.\r\nSolution is to enable the allow bypass that will let you bind a socket to a specific network if this is what you are looking for. \r\n\r\nAnyConnect only uses allowBypass if it&#39;s configured in its managed restrictions (by EMM), via this key: vpn_connection_allow_bypass. ","title":"java.net.SocketException: socket failed: EPERM (Operation not permitted)","body":"<p>If anyone still has this issue I encountered it when I used VPN and tried to connect to wifi while cellular was on. I was using Anyconnect VPN client.\nSolution is to enable the allow bypass that will let you bind a socket to a specific network if this is what you are looking for. </p>\n\n<p>AnyConnect only uses allowBypass if it's configured in its managed restrictions (by EMM), via this key: vpn_connection_allow_bypass. </p>\n"},{"tags":[],"owner":{"account_id":14624477,"reputation":522,"user_id":10562200,"display_name":"AK IJ"},"comment_count":0,"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1575374709,"creation_date":1575374709,"answer_id":59156740,"question_id":56266801,"body_markdown":"1. Add ACCESS_NETWORK_STATE permission in manifest\r\n2. Reinstallation emulator ","title":"java.net.SocketException: socket failed: EPERM (Operation not permitted)","body":"<ol>\n<li>Add ACCESS_NETWORK_STATE permission in manifest</li>\n<li>Reinstallation emulator </li>\n</ol>\n"},{"tags":[],"owner":{"account_id":12883653,"reputation":2815,"user_id":10030693,"display_name":"Gilbert"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1588374150,"creation_date":1588374150,"answer_id":61552131,"question_id":56266801,"body_markdown":"Set  `android:usesCleartextTraffic=&quot;true&quot;` in the manifest file.\r\nAdd the permission `INTERNET`.\r\nUninstall app and then install again.","title":"java.net.SocketException: socket failed: EPERM (Operation not permitted)","body":"<p>Set  <code>android:usesCleartextTraffic=\"true\"</code> in the manifest file.\nAdd the permission <code>INTERNET</code>.\nUninstall app and then install again.</p>\n"},{"tags":[],"owner":{"account_id":17916474,"reputation":31,"user_id":13017308,"display_name":"khoane"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1603178960,"creation_date":1603159167,"answer_id":64437440,"question_id":56266801,"body_markdown":"I had to delete this\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot; /&gt;\r\n\r\nand keep this\r\n\r\n    android:usesCleartextTraffic=&quot;true&quot;\r\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\r\n\r\n","title":"java.net.SocketException: socket failed: EPERM (Operation not permitted)","body":"<p>I had to delete this</p>\n<pre><code>&lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot; /&gt;\n</code></pre>\n<p>and keep this</p>\n<pre><code>android:usesCleartextTraffic=&quot;true&quot;\n&lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17751509,"reputation":753,"user_id":12889486,"display_name":"Kavindu Dissanayake"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1606589780,"creation_date":1606589780,"answer_id":65053371,"question_id":56266801,"body_markdown":"Set android:usesCleartextTraffic=&quot;true&quot; in the manifest file. Add the permission INTERNET. Uninstall app and then install again.its work to me","title":"java.net.SocketException: socket failed: EPERM (Operation not permitted)","body":"<p>Set android:usesCleartextTraffic=&quot;true&quot; in the manifest file. Add the permission INTERNET. Uninstall app and then install again.its work to me</p>\n"},{"comments":[{"owner":{"account_id":1811553,"reputation":1736,"user_id":1647509,"display_name":"cslotty"},"score":3,"creation_date":1617880832,"post_id":65127853,"comment_id":118435214,"body_markdown":"Cold booting helped this time.","body":"Cold booting helped this time."}],"tags":[],"owner":{"account_id":11364102,"reputation":130,"user_id":8331502,"display_name":"Mazhar Ghulam"},"comment_count":1,"down_vote_count":1,"up_vote_count":11,"is_accepted":false,"score":10,"last_activity_date":1608212737,"creation_date":1607005511,"answer_id":65127853,"question_id":56266801,"body_markdown":"I had the same issue in android emulator, even after adding \r\n```\r\n&lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\r\n&lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot; /&gt;\r\n&lt;uses-permission android:name=&quot;android.permission.ACCESS_WIFI_STATE&quot; /&gt;\r\n```\r\nand \r\n\r\n    android:usesCleartextTraffic=&quot;true&quot;\r\n\r\n and reinstalling the app still had the issue on my emulator.\r\n\r\n&gt; AVD Manager -&gt; Right click -&gt; Cold Boot now\r\n\r\nsolved my issue, looks like if we ran the app initially without adding internet permissions / clearTextTraffic we might need to cold boot as it store some cache.","title":"java.net.SocketException: socket failed: EPERM (Operation not permitted)","body":"<p>I had the same issue in android emulator, even after adding</p>\n<pre><code>&lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.ACCESS_WIFI_STATE&quot; /&gt;\n</code></pre>\n<p>and</p>\n<pre><code>android:usesCleartextTraffic=&quot;true&quot;\n</code></pre>\n<p>and reinstalling the app still had the issue on my emulator.</p>\n<blockquote>\n<p>AVD Manager -&gt; Right click -&gt; Cold Boot now</p>\n</blockquote>\n<p>solved my issue, looks like if we ran the app initially without adding internet permissions / clearTextTraffic we might need to cold boot as it store some cache.</p>\n"},{"comments":[{"owner":{"account_id":5445664,"reputation":4925,"user_id":4332316,"accept_rate":20,"display_name":"Ali Akram"},"score":2,"creation_date":1610960995,"post_id":65583188,"comment_id":116287866,"body_markdown":"Uninstalled and install app again worked for me.","body":"Uninstalled and install app again worked for me."},{"owner":{"account_id":11293946,"reputation":6479,"user_id":8281994,"accept_rate":56,"display_name":"Florian Walther"},"score":3,"creation_date":1612015393,"post_id":65583188,"comment_id":116637170,"body_markdown":"The only answer providing an actual explanation!","body":"The only answer providing an actual explanation!"},{"owner":{"account_id":10808339,"reputation":1271,"user_id":7949704,"display_name":"Alejandro Gonzalez"},"score":1,"creation_date":1622086080,"post_id":65583188,"comment_id":119690516,"body_markdown":"it was useful for me, but i consider that it should not be a solution. I am considered it is a android bug. :(","body":"it was useful for me, but i consider that it should not be a solution. I am considered it is a android bug. :("},{"owner":{"account_id":10654831,"reputation":1284,"user_id":8684202,"display_name":"NMukama"},"score":1,"creation_date":1627577863,"post_id":65583188,"comment_id":121199867,"body_markdown":"bro may a higher power reward you in some way wherever you are! I had taken like 5 hours trying to find a solution but the unistall reinstall tip just saved my day. Thanks bro. Yoiur solution deserved to be marked as the answer.","body":"bro may a higher power reward you in some way wherever you are! I had taken like 5 hours trying to find a solution but the unistall reinstall tip just saved my day. Thanks bro. Yoiur solution deserved to be marked as the answer."}],"tags":[],"owner":{"account_id":259035,"reputation":12666,"user_id":541624,"accept_rate":64,"display_name":"ericn"},"comment_count":4,"down_vote_count":1,"up_vote_count":36,"is_accepted":false,"score":35,"last_activity_date":1609865556,"creation_date":1609865556,"answer_id":65583188,"question_id":56266801,"body_markdown":"If you forgot to add `&lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;` to your Manifest.xml, do it now\r\n\r\nIf you already added it but the error persists, uninstall the app first then run i again.  \r\nMore often than not I run into the same issue because I forgot `&lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;` in my first installation.  \r\nThe OS thought the app doesn&#39;t need Internet permission (which is dumb IMO) and would not check any permission update to the app (which is even dumber IMO).  \r\n\r\nThe only way to tell the Android OS to check your updated permission requests is to uninstall the app first before installing again.\r\n\r\n\r\nI think neither\r\n-  `&lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot; /&gt;`\r\n- nor `android:usesCleartextTraffic=&quot;true&quot;`\r\nreally matters here","title":"java.net.SocketException: socket failed: EPERM (Operation not permitted)","body":"<p>If you forgot to add <code>&lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;</code> to your Manifest.xml, do it now</p>\n<p>If you already added it but the error persists, uninstall the app first then run i again.<br />\nMore often than not I run into the same issue because I forgot <code>&lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;</code> in my first installation.<br />\nThe OS thought the app doesn't need Internet permission (which is dumb IMO) and would not check any permission update to the app (which is even dumber IMO).</p>\n<p>The only way to tell the Android OS to check your updated permission requests is to uninstall the app first before installing again.</p>\n<p>I think neither</p>\n<ul>\n<li><code>&lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot; /&gt;</code></li>\n<li>nor <code>android:usesCleartextTraffic=&quot;true&quot;</code>\nreally matters here</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":10712400,"reputation":847,"user_id":7884251,"display_name":"Chosen"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1619099966,"creation_date":1618193704,"answer_id":67051882,"question_id":56266801,"body_markdown":"If you are using a localhost server on your Mac then use the local IP address that is assigned for your machine as your API address. i.e. 192.168.x.x (find it in Settings -&gt; Network) not localhost nor 127.0.0.1.\r\n\r\nAs they mentioned above, uninstall the app and then put these tags in your manifest:\r\n\r\nin the application section: \r\n\r\n    android:usesCleartextTraffic=&quot;true&quot;\r\n\r\n\r\nThen in your manifest section:\r\n\r\n    &lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        package=&quot;com.a.myapp&quot;&gt;\r\n        &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\r\n    \r\n        &lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot; /&gt;","title":"java.net.SocketException: socket failed: EPERM (Operation not permitted)","body":"<p>If you are using a localhost server on your Mac then use the local IP address that is assigned for your machine as your API address. i.e. 192.168.x.x (find it in Settings -&gt; Network) not localhost nor 127.0.0.1.</p>\n<p>As they mentioned above, uninstall the app and then put these tags in your manifest:</p>\n<p>in the application section:</p>\n<pre><code>android:usesCleartextTraffic=&quot;true&quot;\n</code></pre>\n<p>Then in your manifest section:</p>\n<pre><code>&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    package=&quot;com.a.myapp&quot;&gt;\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\n\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot; /&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19948660,"reputation":710,"user_id":14618789,"display_name":"Lakindu Hewawasam"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1627990039,"creation_date":1627989683,"answer_id":68635134,"question_id":56266801,"body_markdown":"I am a little late to this but I encountered this problem and I found out that `android:usesCleartextTraffic` requires minimum API version of 23. Therefore, in the `module` gradle build file, switch the minimum version to 23 and it should work.","title":"java.net.SocketException: socket failed: EPERM (Operation not permitted)","body":"<p>I am a little late to this but I encountered this problem and I found out that <code>android:usesCleartextTraffic</code> requires minimum API version of 23. Therefore, in the <code>module</code> gradle build file, switch the minimum version to 23 and it should work.</p>\n"},{"tags":[],"owner":{"account_id":3024222,"reputation":449,"user_id":2564590,"accept_rate":0,"display_name":"sudhanshu"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1633606233,"creation_date":1633606233,"answer_id":69480351,"question_id":56266801,"body_markdown":"Working solution.\r\n1. check if you have INTERNET permission and ACCESS_NETWORK_STATE permission, if not add these.\r\n\r\n&lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\r\n&lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\r\n\r\n\r\n2. uninstall the app and install again. If not try in different device. It will work 100%. I face same issue and solved this by using these steps.","title":"java.net.SocketException: socket failed: EPERM (Operation not permitted)","body":"<p>Working solution.</p>\n<ol>\n<li>check if you have INTERNET permission and ACCESS_NETWORK_STATE permission, if not add these.</li>\n</ol>\n\n\n<ol start=\"2\">\n<li>uninstall the app and install again. If not try in different device. It will work 100%. I face same issue and solved this by using these steps.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":24594811,"reputation":21,"user_id":18498144,"display_name":"Mostafa Mohamed"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682630539,"creation_date":1682630539,"answer_id":76124766,"question_id":56266801,"body_markdown":"uninstall the app from the emulator and try again","title":"java.net.SocketException: socket failed: EPERM (Operation not permitted)","body":"<p>uninstall the app from the emulator and try again</p>\n"},{"tags":[],"owner":{"account_id":5174030,"reputation":156,"user_id":4141763,"display_name":"Ahmed Nabil"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1689336541,"creation_date":1689336541,"answer_id":76687529,"question_id":56266801,"body_markdown":"uninstalling the app did the trick for me,specially if you&#39;re working on emulator","title":"java.net.SocketException: socket failed: EPERM (Operation not permitted)","body":"<p>uninstalling the app did the trick for me,specially if you're working on emulator</p>\n"}],"owner":{"account_id":14680232,"reputation":10969,"user_id":10601988,"display_name":"Aaron Villalobos"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":188661,"favorite_count":0,"down_vote_count":0,"up_vote_count":306,"accepted_answer_id":56267366,"answer_count":16,"score":306,"last_activity_date":1689336541,"creation_date":1558573350,"question_id":56266801,"body_markdown":"I am working on an Android Studio project with several activities. I am currently trying to read the output from a Java Servlet on localhost but it seems to be crashing due to a socket permission.\r\n\r\nI&#39;ve made a new project, used the exact same code and worked perfectly. So I dont understand why is not willing to work on my project. \r\n\r\n\r\n\r\n    public class LoginActivity extends AppCompatActivity {\r\n\r\n\r\n    String apiUrl = &quot;http://10.0.2.2:8080/ProyectService/Servlet?action=login&quot;;\r\n    EditText username;\r\n    EditText password;\r\n    AlertDialog dialog;\r\n    Usuario session;\r\n\r\n    @Override\r\n    public void onCreate(Bundle savedInstanceState) {\r\n        // Inicializacion de ventana\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_login);\r\n        getSupportActionBar().hide();\r\n\r\n        // Inicializacion de componentes\r\n        username = findViewById(R.id.username);\r\n        password = findViewById(R.id.password);\r\n\r\n        // Inicializacion de funcionalidad de botones\r\n        Button button= (Button) findViewById(R.id.login);\r\n        button.setOnClickListener(new View.OnClickListener() {\r\n            public void onClick(View v) {\r\n                UserLoginTask mAuthTask = new UserLoginTask();\r\n                mAuthTask.execute();\r\n            }\r\n        });\r\n\r\n        password = findViewById(R.id.password);\r\n        createAlertDialog(&quot;Usuario o Contrase&#241;a Incorrectos&quot;);\r\n        }\r\n\r\n        private void createAlertDialog(String message){\r\n        AlertDialog.Builder builder = new AlertDialog.Builder(this);\r\n        builder.setMessage(message)\r\n                .setTitle(&quot;Error&quot;);\r\n        dialog = builder.create();\r\n        }\r\n\r\n\r\n\r\n        // ASYNCRONUS NETWORK PROCESS\r\n\r\n        public class UserLoginTask extends AsyncTask&lt;String, String, String&gt; {\r\n\r\n        @Override\r\n        protected void onPreExecute() {\r\n        }\r\n\r\n\r\n        @Override\r\n        protected String doInBackground(String... params) {\r\n\r\n            // implement API in background and store the response in current variable\r\n            String current = &quot;&quot;;\r\n            try {\r\n                URL url;\r\n                HttpURLConnection urlConnection = null;\r\n                try {\r\n                    url = new URL(apiUrl);\r\n                    System.out.println(apiUrl);\r\n                    urlConnection = (HttpURLConnection) url\r\n                            .openConnection();\r\n\r\n                    InputStream in = urlConnection.getInputStream();\r\n\r\n                    InputStreamReader isw = new InputStreamReader(in);\r\n\r\n                    int data = isw.read();\r\n                    while (data != -1) {\r\n                        current += (char) data;\r\n                        data = isw.read();\r\n                        //System.out.print(current);\r\n\r\n                    }\r\n                    System.out.print(current);\r\n                    // return the data to onPostExecute method\r\n                    return current;\r\n\r\n                } catch (Exception e) {\r\n                    e.printStackTrace();\r\n                } finally {\r\n                    if (urlConnection != null) {\r\n                        urlConnection.disconnect();\r\n                    }\r\n                }\r\n\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n                return &quot;Exception: &quot; + e.getMessage();\r\n            }\r\n            return current;\r\n            }\r\n        }\r\n\r\n        protected void onPostExecute(String success) {\r\n            Log.i(success, &quot;&quot;);\r\n           //attemptLogin();\r\n        }\r\n    }\r\n\r\nI Expect it to read the data but it crashes at this line: \r\n\r\n    InputStream in = urlConnection.getInputStream();\r\n\r\n\r\n\r\nThis is the error output:\r\n\r\n    java.net.SocketException: socket failed: EPERM (Operation not permitted)\r\n    at java.net.Socket.createImpl(Socket.java:492)\r\n    at java.net.Socket.getImpl(Socket.java:552)\r\n    at java.net.Socket.setSoTimeout(Socket.java:1180)\r\n    at com.android.okhttp.internal.io.RealConnection.connectSocket(RealConnection.java:143)\r\n    at com.android.okhttp.internal.io.RealConnection.connect(RealConnection.java:116)\r\n    at com.android.okhttp.internal.http.StreamAllocation.findConnection(StreamAllocation.java:186)\r\n    at com.android.okhttp.internal.http.StreamAllocation.findHealthyConnection(StreamAllocation.java:128)\r\n    at com.android.okhttp.internal.http.StreamAllocation.newStream(StreamAllocation.java:97)\r\n    at com.android.okhttp.internal.http.HttpEngine.connect(HttpEngine.java:289)\r\n    at com.android.okhttp.internal.http.HttpEngine.sendRequest(HttpEngine.java:232)\r\n    at com.android.okhttp.internal.huc.HttpURLConnectionImpl.execute(HttpURLConnectionImpl.java:465)\r\n    at com.android.okhttp.internal.huc.HttpURLConnectionImpl.getResponse(HttpURLConnectionImpl.java:411)\r\n    at com.android.okhttp.internal.huc.HttpURLConnectionImpl.getInputStream(HttpURLConnectionImpl.java:248)\r\n    at com.example.controller.LoginActivity$UserLoginTask.doInBackground(LoginActivity.java:114)\r\n    at com.example.controller.LoginActivity$UserLoginTask.doInBackground(LoginActivity.java:93)\r\n    at android.os.AsyncTask$3.call(AsyncTask.java:378)\r\n    at java.util.concurrent.FutureTask.run(FutureTask.java:266)\r\n    at android.os.AsyncTask$SerialExecutor$1.run(AsyncTask.java:289)\r\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1167)\r\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:641)\r\n    at java.lang.Thread.run(Thread.java:919)","title":"java.net.SocketException: socket failed: EPERM (Operation not permitted)","body":"<p>I am working on an Android Studio project with several activities. I am currently trying to read the output from a Java Servlet on localhost but it seems to be crashing due to a socket permission.</p>\n\n<p>I've made a new project, used the exact same code and worked perfectly. So I dont understand why is not willing to work on my project. </p>\n\n<pre><code>public class LoginActivity extends AppCompatActivity {\n\n\nString apiUrl = \"http://10.0.2.2:8080/ProyectService/Servlet?action=login\";\nEditText username;\nEditText password;\nAlertDialog dialog;\nUsuario session;\n\n@Override\npublic void onCreate(Bundle savedInstanceState) {\n    // Inicializacion de ventana\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_login);\n    getSupportActionBar().hide();\n\n    // Inicializacion de componentes\n    username = findViewById(R.id.username);\n    password = findViewById(R.id.password);\n\n    // Inicializacion de funcionalidad de botones\n    Button button= (Button) findViewById(R.id.login);\n    button.setOnClickListener(new View.OnClickListener() {\n        public void onClick(View v) {\n            UserLoginTask mAuthTask = new UserLoginTask();\n            mAuthTask.execute();\n        }\n    });\n\n    password = findViewById(R.id.password);\n    createAlertDialog(\"Usuario o Contraseña Incorrectos\");\n    }\n\n    private void createAlertDialog(String message){\n    AlertDialog.Builder builder = new AlertDialog.Builder(this);\n    builder.setMessage(message)\n            .setTitle(\"Error\");\n    dialog = builder.create();\n    }\n\n\n\n    // ASYNCRONUS NETWORK PROCESS\n\n    public class UserLoginTask extends AsyncTask&lt;String, String, String&gt; {\n\n    @Override\n    protected void onPreExecute() {\n    }\n\n\n    @Override\n    protected String doInBackground(String... params) {\n\n        // implement API in background and store the response in current variable\n        String current = \"\";\n        try {\n            URL url;\n            HttpURLConnection urlConnection = null;\n            try {\n                url = new URL(apiUrl);\n                System.out.println(apiUrl);\n                urlConnection = (HttpURLConnection) url\n                        .openConnection();\n\n                InputStream in = urlConnection.getInputStream();\n\n                InputStreamReader isw = new InputStreamReader(in);\n\n                int data = isw.read();\n                while (data != -1) {\n                    current += (char) data;\n                    data = isw.read();\n                    //System.out.print(current);\n\n                }\n                System.out.print(current);\n                // return the data to onPostExecute method\n                return current;\n\n            } catch (Exception e) {\n                e.printStackTrace();\n            } finally {\n                if (urlConnection != null) {\n                    urlConnection.disconnect();\n                }\n            }\n\n        } catch (Exception e) {\n            e.printStackTrace();\n            return \"Exception: \" + e.getMessage();\n        }\n        return current;\n        }\n    }\n\n    protected void onPostExecute(String success) {\n        Log.i(success, \"\");\n       //attemptLogin();\n    }\n}\n</code></pre>\n\n<p>I Expect it to read the data but it crashes at this line: </p>\n\n<pre><code>InputStream in = urlConnection.getInputStream();\n</code></pre>\n\n<p>This is the error output:</p>\n\n<pre><code>java.net.SocketException: socket failed: EPERM (Operation not permitted)\nat java.net.Socket.createImpl(Socket.java:492)\nat java.net.Socket.getImpl(Socket.java:552)\nat java.net.Socket.setSoTimeout(Socket.java:1180)\nat com.android.okhttp.internal.io.RealConnection.connectSocket(RealConnection.java:143)\nat com.android.okhttp.internal.io.RealConnection.connect(RealConnection.java:116)\nat com.android.okhttp.internal.http.StreamAllocation.findConnection(StreamAllocation.java:186)\nat com.android.okhttp.internal.http.StreamAllocation.findHealthyConnection(StreamAllocation.java:128)\nat com.android.okhttp.internal.http.StreamAllocation.newStream(StreamAllocation.java:97)\nat com.android.okhttp.internal.http.HttpEngine.connect(HttpEngine.java:289)\nat com.android.okhttp.internal.http.HttpEngine.sendRequest(HttpEngine.java:232)\nat com.android.okhttp.internal.huc.HttpURLConnectionImpl.execute(HttpURLConnectionImpl.java:465)\nat com.android.okhttp.internal.huc.HttpURLConnectionImpl.getResponse(HttpURLConnectionImpl.java:411)\nat com.android.okhttp.internal.huc.HttpURLConnectionImpl.getInputStream(HttpURLConnectionImpl.java:248)\nat com.example.controller.LoginActivity$UserLoginTask.doInBackground(LoginActivity.java:114)\nat com.example.controller.LoginActivity$UserLoginTask.doInBackground(LoginActivity.java:93)\nat android.os.AsyncTask$3.call(AsyncTask.java:378)\nat java.util.concurrent.FutureTask.run(FutureTask.java:266)\nat android.os.AsyncTask$SerialExecutor$1.run(AsyncTask.java:289)\nat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1167)\nat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:641)\nat java.lang.Thread.run(Thread.java:919)\n</code></pre>\n"},{"tags":["java","outlook","connection-pooling","exchangewebservices","email"],"comments":[{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":0,"creation_date":1464861534,"post_id":37588542,"comment_id":62662308,"body_markdown":"&quot;Please tell me if there is another approach to deal with exchange service connection&quot; Guard the connection with a mutex, so only one thread can access it at once; use a `ThreadLocal` so each thread has its own connection.","body":"&quot;Please tell me if there is another approach to deal with exchange service connection&quot; Guard the connection with a mutex, so only one thread can access it at once; use a <code>ThreadLocal</code> so each thread has its own connection."},{"owner":{"account_id":5160473,"reputation":119,"user_id":4132343,"accept_rate":25,"display_name":"aelve"},"score":0,"creation_date":1464864152,"post_id":37588542,"comment_id":62664106,"body_markdown":"Ok, I have multiple tenants. Let&#39;s say currently tenant A have 5 users. Ther user 1 want to send an email, and also user 1 should be notified when he receive an email. For this I need 2 connection to the exchange service. First to send the email, and second to listen to the NewEmail event. Send email and receive emails are on different controller/services, this means different threads. After send email I can close the ews connection, but to receive emails the connection should be opened all the time. To send an email took 5+ seconds because the connection on ews. Is this the right approach ?","body":"Ok, I have multiple tenants. Let&#39;s say currently tenant A have 5 users. Ther user 1 want to send an email, and also user 1 should be notified when he receive an email. For this I need 2 connection to the exchange service. First to send the email, and second to listen to the NewEmail event. Send email and receive emails are on different controller/services, this means different threads. After send email I can close the ews connection, but to receive emails the connection should be opened all the time. To send an email took 5+ seconds because the connection on ews. Is this the right approach ?"}],"owner":{"account_id":5160473,"reputation":119,"user_id":4132343,"accept_rate":25,"display_name":"aelve"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":483,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1689336406,"creation_date":1464861468,"question_id":37588542,"body_markdown":"I need to integrate outlook corporate emails in CRM. For this is use java EWS API.\r\nI read microsoft documentation of EWS but I still have some questions, maybe someone can help.\r\nFirst I need to connect with ExchangeService:\r\n\r\n    ExchangeService service = new ExchangeService(ExchangeVersion.Exchange2010_SP2)\r\n    ExchangeCredentials credentials = new WebCredentials(email, password)\r\n    service.setCredentials(credentials)\r\n    service.autodiscoverUrl(email, new RedirectionUrlCallback())\r\n\r\nFor this connection to be established takes about 5 seconds, it is pretty much for a real time application. I&#39;m ok to create this connection only one time and then reuse it but as I read ExchangeService is not thread safe, so I need to create a connection to send an email, then close the connection, then create again a new connection when I need to subscribe for notifications etc.\r\n\r\nIs there another approach to deal with exchange service connection?\r\n\r\nI tried to reuse the exchange service connection and I get this:\r\n\r\n    microsoft.exchange.webservices.data.core.exception.service.remote.ServiceRequestException: The request failed. Connection is still allocated\r\n\r\nAnother question is about streaming subscription that enables client applications to discover events that occur in the Exchange store, I think this is the right fit method for me:\r\n\r\n    StreamingSubscriptionConnection conn = new   StreamingSubscriptionConnection(service, 30);\r\n    conn.addSubscription(subscription);\r\n    conn.addOnNotificationEvent(new SubscriptionConnectionListener());\r\n    conn.addOnDisconnect(this);\r\n    conn.open();\r\n\r\nSo first I need the connection to the ExchangeService to be opened, and then I need to open the SubscriptionConnection. Because SubscriptionConnectionListener should wait all the time for new events I don&#39;t close the connection. Connection expiry after 30 minutes. I can catch the expiry connection and opened again. How to deal with that when 1000 users have opened subscription connections with their exchange service, basically if the subscription connection remains opened for new events also the exchange service connection used for subscription should stay alive.","title":"Corporate email integration, exchange server ews","body":"<p>I need to integrate outlook corporate emails in CRM. For this is use java EWS API.\nI read microsoft documentation of EWS but I still have some questions, maybe someone can help.\nFirst I need to connect with ExchangeService:</p>\n<pre><code>ExchangeService service = new ExchangeService(ExchangeVersion.Exchange2010_SP2)\nExchangeCredentials credentials = new WebCredentials(email, password)\nservice.setCredentials(credentials)\nservice.autodiscoverUrl(email, new RedirectionUrlCallback())\n</code></pre>\n<p>For this connection to be established takes about 5 seconds, it is pretty much for a real time application. I'm ok to create this connection only one time and then reuse it but as I read ExchangeService is not thread safe, so I need to create a connection to send an email, then close the connection, then create again a new connection when I need to subscribe for notifications etc.</p>\n<p>Is there another approach to deal with exchange service connection?</p>\n<p>I tried to reuse the exchange service connection and I get this:</p>\n<pre><code>microsoft.exchange.webservices.data.core.exception.service.remote.ServiceRequestException: The request failed. Connection is still allocated\n</code></pre>\n<p>Another question is about streaming subscription that enables client applications to discover events that occur in the Exchange store, I think this is the right fit method for me:</p>\n<pre><code>StreamingSubscriptionConnection conn = new   StreamingSubscriptionConnection(service, 30);\nconn.addSubscription(subscription);\nconn.addOnNotificationEvent(new SubscriptionConnectionListener());\nconn.addOnDisconnect(this);\nconn.open();\n</code></pre>\n<p>So first I need the connection to the ExchangeService to be opened, and then I need to open the SubscriptionConnection. Because SubscriptionConnectionListener should wait all the time for new events I don't close the connection. Connection expiry after 30 minutes. I can catch the expiry connection and opened again. How to deal with that when 1000 users have opened subscription connections with their exchange service, basically if the subscription connection remains opened for new events also the exchange service connection used for subscription should stay alive.</p>\n"},{"tags":["java","eclipse","classloader"],"comments":[{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":0,"creation_date":1527078385,"post_id":50488162,"comment_id":87989508,"body_markdown":"It is hard to tell what is wrong with your project without actually seeing its structure or settings. Maybe you need to use some clear/rebuild options? If that doesn&#39;t help take a look at this question about loading resources: [Loading image resource](https://stackoverflow.com/q/9864267), which for Eclipse points us out to [Runnable JARs missing Images/Files (Resources)](https://stackoverflow.com/q/8960381)","body":"It is hard to tell what is wrong with your project without actually seeing its structure or settings. Maybe you need to use some clear/rebuild options? If that doesn&#39;t help take a look at this question about loading resources: <a href=\"https://stackoverflow.com/q/9864267\">Loading image resource</a>, which for Eclipse points us out to <a href=\"https://stackoverflow.com/q/8960381\">Runnable JARs missing Images/Files (Resources)</a>"},{"owner":{"account_id":19067,"reputation":5283,"user_id":44355,"display_name":"david a."},"score":0,"creation_date":1527078914,"post_id":50488162,"comment_id":87989915,"body_markdown":"Is the Resources directory included in the Java Build Path in your Eclipse project settings?","body":"Is the Resources directory included in the Java Build Path in your Eclipse project settings?"},{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":0,"creation_date":1527078943,"post_id":50488162,"comment_id":87989932,"body_markdown":"Look in the jar (zip format) to find `/Images/logo.png`. Case-sensitive. Marking the folder as source folder should have done it, and `IntroState.class.getResource(&quot;/Images/logo.png&quot;)`.","body":"Look in the jar (zip format) to find <code>&#47;Images&#47;logo.png</code>. Case-sensitive. Marking the folder as source folder should have done it, and <code>IntroState.class.getResource(&quot;&#47;Images&#47;logo.png&quot;)</code>."},{"owner":{"account_id":5203048,"reputation":71,"user_id":4161854,"display_name":"Nafta"},"score":0,"creation_date":1527079101,"post_id":50488162,"comment_id":87990064,"body_markdown":"as already stated in the question, the folder &quot;Resources&quot; is included in the build path as Source Folder. I also rebuilt the Project multiple times.","body":"as already stated in the question, the folder &quot;Resources&quot; is included in the build path as Source Folder. I also rebuilt the Project multiple times."}],"answers":[{"comments":[{"owner":{"account_id":5203048,"reputation":71,"user_id":4161854,"display_name":"Nafta"},"score":0,"creation_date":1527078751,"post_id":50488436,"comment_id":87989802,"body_markdown":"I already had something like this working with the same folder structure and images in &quot;Resources&quot; were found with getClass().getResource(&quot;/images/logo.png&quot;);","body":"I already had something like this working with the same folder structure and images in &quot;Resources&quot; were found with getClass().getResource(&quot;/images/logo.png&quot;);"},{"owner":{"account_id":9144834,"reputation":4430,"user_id":6801443,"display_name":"Sean F"},"score":0,"creation_date":1527087083,"post_id":50488436,"comment_id":87995782,"body_markdown":"https://docs.oracle.com/javase/7/docs/api/java/lang/Class.html#getResource(java.lang.String) : Before delegation, an absolute resource name is constructed from the given resource name using this algorithm:\n\nIf the name begins with a &#39;/&#39; (&#39;\\u002f&#39;), then the absolute name of the resource is the portion of the name following the &#39;/&#39;.\nOtherwise, the absolute name is of the following form:\nmodified_package_name/name\nWhere the modified_package_name is the package name of this object with &#39;/&#39; substituted for &#39;.&#39; (&#39;\\u002e&#39;).","body":"<a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/Class.html#getResource(java.lang.String)\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/7/docs/api/java/lang/&hellip;</a> : Before delegation, an absolute resource name is constructed from the given resource name using this algorithm:  If the name begins with a &#39;/&#39; (&#39;\\u002f&#39;), then the absolute name of the resource is the portion of the name following the &#39;/&#39;. Otherwise, the absolute name is of the following form: modified_package_name/name Where the modified_package_name is the package name of this object with &#39;/&#39; substituted for &#39;.&#39; (&#39;\\u002e&#39;)."},{"owner":{"account_id":9144834,"reputation":4430,"user_id":6801443,"display_name":"Sean F"},"score":0,"creation_date":1527087244,"post_id":50488436,"comment_id":87995916,"body_markdown":"In order to find it, it must be on the class path.  If you don&#39;t know what the class path is, you need a basic java tutorial.  So, it simply cannot be in Project/Resources since no part of that is part of the classpath.  So move it to somewhere under src, and then use either the absolute or relative path from the class path entry of the class for which you call getResource()","body":"In order to find it, it must be on the class path.  If you don&#39;t know what the class path is, you need a basic java tutorial.  So, it simply cannot be in Project/Resources since no part of that is part of the classpath.  So move it to somewhere under src, and then use either the absolute or relative path from the class path entry of the class for which you call getResource()"},{"owner":{"account_id":9144834,"reputation":4430,"user_id":6801443,"display_name":"Sean F"},"score":0,"creation_date":1527087356,"post_id":50488436,"comment_id":87996001,"body_markdown":"If you put it in GameState, and you use IntroState as the class for getResource(), then either &quot;/GameState/logo.png&quot; or just &quot;logo.png&quot; will work","body":"If you put it in GameState, and you use IntroState as the class for getResource(), then either &quot;/GameState/logo.png&quot; or just &quot;logo.png&quot; will work"}],"tags":[],"owner":{"account_id":9144834,"reputation":4430,"user_id":6801443,"display_name":"Sean F"},"comment_count":4,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1527078528,"creation_date":1527078528,"answer_id":50488436,"question_id":50488162,"body_markdown":"It will search for the image based on the location of the class. Since class GamesState.Introstate is found at Project/src (in actual fact in eclipse it is probably found at Project/bin) it will look for the image at Project/src/Images/logo.png when you use the path \r\n/Images/logo.png\r\n","title":"getClass().getResource doesn&#39;t find image file","body":"<p>It will search for the image based on the location of the class. Since class GamesState.Introstate is found at Project/src (in actual fact in eclipse it is probably found at Project/bin) it will look for the image at Project/src/Images/logo.png when you use the path \n/Images/logo.png</p>\n"},{"comments":[{"owner":{"account_id":5203048,"reputation":71,"user_id":4161854,"display_name":"Nafta"},"score":0,"creation_date":1527079415,"post_id":50488671,"comment_id":87990286,"body_markdown":"I still get a NullPointerException","body":"I still get a NullPointerException"},{"owner":{"account_id":4718602,"reputation":2942,"user_id":3817152,"accept_rate":67,"display_name":"Deb"},"score":0,"creation_date":1527079447,"post_id":50488671,"comment_id":87990310,"body_markdown":"@Nafta I am sorry.There was a mistake previously. Did you try the updated version of answer? You should not append the &#39;/&#39; in front of the path","body":"@Nafta I am sorry.There was a mistake previously. Did you try the updated version of answer? You should not append the &#39;/&#39; in front of the path"},{"owner":{"account_id":5203048,"reputation":71,"user_id":4161854,"display_name":"Nafta"},"score":0,"creation_date":1527079689,"post_id":50488671,"comment_id":87990495,"body_markdown":"I tried both ways with and without the &#39;/&#39; and with and without &quot;getClassLoader()&quot;. it always throws an error.","body":"I tried both ways with and without the &#39;/&#39; and with and without &quot;getClassLoader()&quot;. it always throws an error."}],"tags":[],"owner":{"account_id":4718602,"reputation":2942,"user_id":3817152,"accept_rate":67,"display_name":"Deb"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1527079199,"creation_date":1527079199,"answer_id":50488671,"question_id":50488162,"body_markdown":"You should read the file as stream\r\n\r\nTry using:\r\n    \r\n\r\n    getClass().getClassLoader().getResourceAsStream(&quot;Images/logo.png&quot;)\r\n\r\nOr \r\n\r\n    getClass().getClassLoader().getResource(&quot;Images/logo.png&quot;)\r\n","title":"getClass().getResource doesn&#39;t find image file","body":"<p>You should read the file as stream</p>\n\n<p>Try using:</p>\n\n<pre><code>getClass().getClassLoader().getResourceAsStream(\"Images/logo.png\")\n</code></pre>\n\n<p>Or </p>\n\n<pre><code>getClass().getClassLoader().getResource(\"Images/logo.png\")\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9925559,"reputation":430,"user_id":7347278,"accept_rate":86,"display_name":"V&#225;clav"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689335754,"creation_date":1689335024,"answer_id":76687352,"question_id":50488162,"body_markdown":"Say, you have a resource file in your project `Project/src/com/example/icon.PNG`. But this is _not_ where the program is going to look for it. The program is going to look for your file in _classpath_, which is either under `/out`, or `/target` folder, the one which contains your compiled classes.\r\n\r\nGet to know you classpath precise by running `System.getProperty(&quot;java.class.path&quot;)`. It has same structure as your OS `$PATH` variable.\r\n\r\nIn context of location of resource files, **absolute** means _relative to the classpath_, as if the classpath was `/` of your filesystem.\r\n\r\nIn context of location of resource files, **relative** means _relative to the compiled class file_.\r\n\r\nWhen accessing resource files in Java, there are three pairs of options to consider:\r\n\r\n 1. You may access a resource either by using `ClassLoader` (i.e. `this.getClass().getClassLoader()`, or `MyClass.class.getClassLoader()`), or using `Class` (i.e. `MyClass.class`, or `this.getClass()`);\r\n2. You may access a resource either by providing an **absolute** or a **relative** path;\r\n3. You may either obtain resource&#39;s **URL** (i.e. `this.getClass().getClassLoader().getResource(&quot;com/example/icon.PNG&quot;)`, or `com.example.MyClass.class.getResource(&quot;icon.PNG&quot;)`), or you may obtain **InputStream** instead (i.e. `MyClass.class.getClassLoader().getResourceAsStream(&quot;com/example/icon.PNG&quot;))`, or `this.getClass().getResourceAsStream(&quot;/com/example/icon.PNG&quot;)`)\r\n\r\n**YOU CANNOT USE RELATIVE PATHS WITH CLASSLOADER**\r\n\r\nAbsolute paths (relative to your classpath) start with `/` when you access it via **Class**, but never start with `/` when you access it via **ClassLoader**. For example:\r\n\r\n - `this.getClass().getResourceAsStream(&quot;/com/example/icon.PNG&quot;)` finds the file;\r\n - `this.getClass().getClassLoader().getResourceAsStream(&quot;/com/example/icon.PNG&quot;)` returns **null**\r\n - `this.getClass().getResourceAsStream(&quot;com/example/icon.PNG&quot;)` returns **null**\r\n - `this.getClass().getClassLoader().getResourceAsStream(&quot;com/example/icon.PNG&quot;)` finds the file\r\n - `com.example.package1.MyObj1.class.getResource(&quot;../icon.PNG&quot;)` finds the file\r\n- `com.example.MyClass.class.getResource(&quot;icon.PNG&quot;)` finds the file\r\n - `com.example.MyClass.class.getResource(&quot;com/example/icon.PNG&quot;)` returns **null**\r\n\r\n\r\nLast but not least - it would be enough to have read access rights for the resource file in order to copy it to classpath (to `out/production/`, or `target/`, etc.) so even if it is _root_ owned, read-only access rights (`chmod 444 icon.PNG`) then it still would be enough to build your app. If the resource file is unreadable in build time, your classpath simply won&#39;t built at all, so no worries here. If you do make a trick and take away read access rights on the resource which is already on the classpath (i.e. you do `chmod 000 /target/Project/com/example/icon.PNG`), then the obtained URL still won&#39;t be null, but you&#39;re going to simply read 0 bytes from it, with no error. \r\n\r\n","title":"getClass().getResource doesn&#39;t find image file","body":"<p>Say, you have a resource file in your project <code>Project/src/com/example/icon.PNG</code>. But this is <em>not</em> where the program is going to look for it. The program is going to look for your file in <em>classpath</em>, which is either under <code>/out</code>, or <code>/target</code> folder, the one which contains your compiled classes.</p>\n<p>Get to know you classpath precise by running <code>System.getProperty(&quot;java.class.path&quot;)</code>. It has same structure as your OS <code>$PATH</code> variable.</p>\n<p>In context of location of resource files, <strong>absolute</strong> means <em>relative to the classpath</em>, as if the classpath was <code>/</code> of your filesystem.</p>\n<p>In context of location of resource files, <strong>relative</strong> means <em>relative to the compiled class file</em>.</p>\n<p>When accessing resource files in Java, there are three pairs of options to consider:</p>\n<ol>\n<li>You may access a resource either by using <code>ClassLoader</code> (i.e. <code>this.getClass().getClassLoader()</code>, or <code>MyClass.class.getClassLoader()</code>), or using <code>Class</code> (i.e. <code>MyClass.class</code>, or <code>this.getClass()</code>);</li>\n<li>You may access a resource either by providing an <strong>absolute</strong> or a <strong>relative</strong> path;</li>\n<li>You may either obtain resource's <strong>URL</strong> (i.e. <code>this.getClass().getClassLoader().getResource(&quot;com/example/icon.PNG&quot;)</code>, or <code>com.example.MyClass.class.getResource(&quot;icon.PNG&quot;)</code>), or you may obtain <strong>InputStream</strong> instead (i.e. <code>MyClass.class.getClassLoader().getResourceAsStream(&quot;com/example/icon.PNG&quot;))</code>, or <code>this.getClass().getResourceAsStream(&quot;/com/example/icon.PNG&quot;)</code>)</li>\n</ol>\n<p><strong>YOU CANNOT USE RELATIVE PATHS WITH CLASSLOADER</strong></p>\n<p>Absolute paths (relative to your classpath) start with <code>/</code> when you access it via <strong>Class</strong>, but never start with <code>/</code> when you access it via <strong>ClassLoader</strong>. For example:</p>\n<ul>\n<li><code>this.getClass().getResourceAsStream(&quot;/com/example/icon.PNG&quot;)</code> finds the file;</li>\n<li><code>this.getClass().getClassLoader().getResourceAsStream(&quot;/com/example/icon.PNG&quot;)</code> returns <strong>null</strong></li>\n<li><code>this.getClass().getResourceAsStream(&quot;com/example/icon.PNG&quot;)</code> returns <strong>null</strong></li>\n<li><code>this.getClass().getClassLoader().getResourceAsStream(&quot;com/example/icon.PNG&quot;)</code> finds the file</li>\n<li><code>com.example.package1.MyObj1.class.getResource(&quot;../icon.PNG&quot;)</code> finds the file</li>\n<li><code>com.example.MyClass.class.getResource(&quot;icon.PNG&quot;)</code> finds the file</li>\n<li><code>com.example.MyClass.class.getResource(&quot;com/example/icon.PNG&quot;)</code> returns <strong>null</strong></li>\n</ul>\n<p>Last but not least - it would be enough to have read access rights for the resource file in order to copy it to classpath (to <code>out/production/</code>, or <code>target/</code>, etc.) so even if it is <em>root</em> owned, read-only access rights (<code>chmod 444 icon.PNG</code>) then it still would be enough to build your app. If the resource file is unreadable in build time, your classpath simply won't built at all, so no worries here. If you do make a trick and take away read access rights on the resource which is already on the classpath (i.e. you do <code>chmod 000 /target/Project/com/example/icon.PNG</code>), then the obtained URL still won't be null, but you're going to simply read 0 bytes from it, with no error.</p>\n"}],"owner":{"account_id":5203048,"reputation":71,"user_id":4161854,"display_name":"Nafta"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3090,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":3,"score":3,"last_activity_date":1689335754,"creation_date":1527077693,"question_id":50488162,"body_markdown":"My class IntroState.java has the following path:\r\n\r\n    Project/src/GameState/IntroState.java\r\n\r\nMy image is located at:\r\n\r\n    Project/Resources/Images/logo.png\r\n\r\nThe folder Resources is a Source Folder. I use Eclipse oxygen.\r\n\r\ni try to load it with:\r\n\r\n    new BufferedImage image = ImageIO.read(getClass().getResource(&quot;/Images/logo.png&quot;);\r\n\r\nI get a `NullPointerException` when i run it.\r\nThis Code worked fine in an older project, but my Laptop died and i had to reinstall Eclipse and redo my Code, since then it stopped working.\r\nAnyone see the problem?\r\ni tried lots of different paths, i have the feeling that some of my Eclipse settings are wrong maybe.","title":"getClass().getResource doesn&#39;t find image file","body":"<p>My class IntroState.java has the following path:</p>\n\n<pre><code>Project/src/GameState/IntroState.java\n</code></pre>\n\n<p>My image is located at:</p>\n\n<pre><code>Project/Resources/Images/logo.png\n</code></pre>\n\n<p>The folder Resources is a Source Folder. I use Eclipse oxygen.</p>\n\n<p>i try to load it with:</p>\n\n<pre><code>new BufferedImage image = ImageIO.read(getClass().getResource(\"/Images/logo.png\");\n</code></pre>\n\n<p>I get a <code>NullPointerException</code> when i run it.\nThis Code worked fine in an older project, but my Laptop died and i had to reinstall Eclipse and redo my Code, since then it stopped working.\nAnyone see the problem?\ni tried lots of different paths, i have the feeling that some of my Eclipse settings are wrong maybe.</p>\n"},{"tags":["java","swing","jlabel"],"comments":[{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":1,"creation_date":1689335587,"post_id":76687403,"comment_id":135202414,"body_markdown":"If you don&#39;t get a decent answer soon, please consider clarifying your question a bit more. Also, for a blinking effect, simply use a Swing Timer.","body":"If you don&#39;t get a decent answer soon, please consider clarifying your question a bit more. Also, for a blinking effect, simply use a Swing Timer."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":2,"creation_date":1689335667,"post_id":76687403,"comment_id":135202434,"body_markdown":"Also, please consider posting a valid [mre] code post with the question, one that does not require classes and images not available to us. Best to use publicly available images, and to get rid of all imports that (again) we don&#39;t have access to. Your MRE code should have a main method, should be small enough to post in its entirety in your question, and we should be able to copy/paste/compile and run it without alteration. The link should explain the details and how it can help both you and us.","body":"Also, please consider posting a valid <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> code post with the question, one that does not require classes and images not available to us. Best to use publicly available images, and to get rid of all imports that (again) we don&#39;t have access to. Your MRE code should have a main method, should be small enough to post in its entirety in your question, and we should be able to copy/paste/compile and run it without alteration. The link should explain the details and how it can help both you and us."},{"owner":{"account_id":11312615,"reputation":3,"user_id":8295350,"display_name":"aksingh785"},"score":0,"creation_date":1689336697,"post_id":76687403,"comment_id":135202641,"body_markdown":"Issue is visible in 2nd image, when the ICON is hidden the text is not fully visible, Its getting wrapped-up. \nExpected is something like in the third image.","body":"Issue is visible in 2nd image, when the ICON is hidden the text is not fully visible, Its getting wrapped-up.  Expected is something like in the third image."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1689336936,"post_id":76687403,"comment_id":135202685,"body_markdown":"So it is *not* word &quot;wrapping&quot; that you&#39;re seeing but rather an ellipses. What are the constraints to the JLabel regarding its size and expandability? What constraints are on the images? Again, please share more details. Again, consider posting code that *we* can run and test. This would be a new small program that reproduces the problem, and again, the [mre](https://stackoverflow.com/help/minimal-reproducible-example) link will explain what this is.","body":"So it is <i>not</i> word &quot;wrapping&quot; that you&#39;re seeing but rather an ellipses. What are the constraints to the JLabel regarding its size and expandability? What constraints are on the images? Again, please share more details. Again, consider posting code that <i>we</i> can run and test. This would be a new small program that reproduces the problem, and again, the <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">mre</a> link will explain what this is."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1689337261,"post_id":76687403,"comment_id":135202771,"body_markdown":"Also, the layout managers that are used to hold and display the label will matter, but this will be part of your MRE.","body":"Also, the layout managers that are used to hold and display the label will matter, but this will be part of your MRE."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1689337295,"post_id":76687403,"comment_id":135202779,"body_markdown":"`right.setPreferredSize(right.getPreferredSize());` -- huh?","body":"<code>right.setPreferredSize(right.getPreferredSize());</code> -- huh?"},{"owner":{"account_id":11312615,"reputation":3,"user_id":8295350,"display_name":"aksingh785"},"score":0,"creation_date":1689339147,"post_id":76687403,"comment_id":135203222,"body_markdown":"revalidate(); made it work.","body":"revalidate(); made it work."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":1,"creation_date":1689339743,"post_id":76687403,"comment_id":135203346,"body_markdown":"Great, I&#39;m very glad that you have solved your issue and have things working now, but still, I don&#39;t see how any of us could have provided this answer without your posting a [mre] with the question, without having code that *we* could test.","body":"Great, I&#39;m very glad that you have solved your issue and have things working now, but still, I don&#39;t see how any of us could have provided this answer without your posting a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> with the question, without having code that <i>we</i> could test."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1689350367,"post_id":76687403,"comment_id":135205931,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"owner":{"account_id":11312615,"reputation":3,"user_id":8295350,"display_name":"aksingh785"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689335390,"creation_date":1689335390,"question_id":76687403,"body_markdown":"When using Icon in Jlabel the text is getting wrapped. \r\n\r\n1. I want to solve two scenarios, small text with a background Icon\r\n2. Bigger text (No wrap) with no ICON in background \r\n\r\nHow to align the text properly when the ICON is no longer required. \r\nAlso It would be lot helpful if someone can throw some ideas on how to blink the background to create an animation effect. \r\n\r\n\r\n[As Expected](https://i.stack.imgur.com/uP5sc.png)\r\n\r\n[text getting wrapped up](https://i.stack.imgur.com/FUZOT.png)\r\n\r\n[expected (Without background)](https://i.stack.imgur.com/gWfCA.png)\r\n\r\n\r\n\r\n``````\r\npackage test.client.swing.machine.view;\r\n\r\nimport java.awt.*;\r\n\r\nimport javax.swing.*;\r\nimport javax.swing.border.Border;\r\nimport javax.swing.border.EmptyBorder;\r\n\r\nimport test.client.swing.machine.view.ImageFactory.BorderType;\r\n\r\nimport static test.client.swing.machine.view.ComponentNameConstants.LABEL_VALUE_BUTTON_LABEL;\r\nimport static test.client.swing.machine.view.ComponentNameConstants.LABEL_VALUE_BUTTON_VALUE;\r\n\r\n\r\npublic class LabelValueButtonDynamic extends SimpleGraphicButton {\r\n\r\n    protected final JLabel left = new JLabel();\r\n    protected JLabel right = new JLabel();\r\n    protected String label;\r\n    protected Object value;\r\n    protected boolean showBackground = true;\r\n\r\n    public LabelValueButtonDynamic(ImageFactory imageFactory, String label, Object value, Border border,\r\n                            String imageNamePattern, BorderType bType, int width) {\r\n        super(imageFactory);\r\n        try {\r\n            loadDynamicImages(imageNamePattern, bType, width);\r\n        } catch (IllegalArgumentException e) {\r\n            loadStandardImages(imageNamePattern);\r\n        }\r\n        setBorder(border);\r\n        init(label, value); //NOSONAR needs to be overrideable\r\n    }\r\n\r\n    public String getLabel() {\r\n        return label;\r\n    }\r\n\r\n    public void setLabel(String label) {\r\n        this.label = label;\r\n        left.setText(label);\r\n    }\r\n\r\n    public Object getValue() {\r\n        return value;\r\n    }\r\n\r\n    public void setValue(Object value) {\r\n        this.value = value;\r\n        right.setText(String.valueOf(value));\r\n    }\r\n\r\n    @Override\r\n    public void setForeground(Color c) {\r\n        super.setForeground(c);\r\n        if (left != null) {\r\n            left.setForeground(c);\r\n        }\r\n        if (right != null) {\r\n            right.setForeground(Color.RED);\r\n        }\r\n        // repaint anscheinend nicht n&#246;tig\r\n        // repaint();\r\n    }\r\n\r\n    @Override\r\n    public void setFont(Font f) {\r\n        super.setFont(f);\r\n        if (left != null) {\r\n            left.setFont(f);\r\n        }\r\n        if (right != null) {\r\n            right.setFont(f);\r\n        }\r\n        // repaint anscheinend nicht n&#246;tig\r\n        //repaint();\r\n    }\r\n\r\n    @Override\r\n    public Font getFont() {\r\n        return left != null ? left.getFont() : super.getFont();\r\n    }\r\n\r\n    protected void init(String label, Object value) {\r\n\r\n        showBackground = true;\r\n        setLabel(label);\r\n        setValue(value);\r\n        setLayout(new BoxLayout(this, BoxLayout.LINE_AXIS));\r\n        if (getComponentOrientation().isHorizontal()) {\r\n            //\t\t\tadd(Box.createHorizontalStrut(5));\r\n            add(left);\r\n            add(Box.createGlue());\r\n            add(right);\r\n            //\t\t\tadd(Box.createHorizontalStrut(15));\r\n\r\n            left.setAlignmentY(0.5f); // XXX optimalen Wert f&#252;r AlignmentY finden (0.5 ist zu weit oben)\r\n            right.setAlignmentY(0.5f);\r\n            right.setIcon(new ImageIcon(loadStandardImage(&quot;btn_bonus_radio_button_unselected.png&quot;,\r\n                    null)));\r\n            right.setHorizontalAlignment(0);\r\n            right.setHorizontalTextPosition(0);\r\n        } else {\r\n            //\t\t\tadd(Box.createVerticalStrut(5));\r\n            add(left);\r\n            add(Box.createVerticalGlue());\r\n            add(right);\r\n            //\t\t\tadd(Box.createVerticalStrut(15));\r\n        }\r\n        left.setFont(Constants.getFontBold());\r\n        left.setName(LABEL_VALUE_BUTTON_LABEL);\r\n        right.setFont(Constants.getFontBoldMedium());\r\n        right.setName(LABEL_VALUE_BUTTON_VALUE);\r\n        right.setPreferredSize(right.getPreferredSize());\r\n    }\r\n\r\n    public void showCircle(boolean show){\r\n        if(show){\r\n            right.setIcon(new ImageIcon(loadStandardImage(&quot;btn_bonus_radio_button_unselected.png&quot;,\r\n                    null)));\r\n            right.setHorizontalAlignment(javax.swing.SwingConstants.CENTER);\r\n            right.setHorizontalTextPosition(javax.swing.SwingConstants.CENTER);\r\n        }\r\n        else{\r\n            right.setHorizontalAlignment(LEFT);\r\n            right.setHorizontalTextPosition(LEFT);\r\n            right.setIcon(null);\r\n        }\r\n        repaint();\r\n    }\r\n}\r\n\r\n``````\r\n","title":"Jlabel text alignment not working when used with ICON","body":"<p>When using Icon in Jlabel the text is getting wrapped.</p>\n<ol>\n<li>I want to solve two scenarios, small text with a background Icon</li>\n<li>Bigger text (No wrap) with no ICON in background</li>\n</ol>\n<p>How to align the text properly when the ICON is no longer required.\nAlso It would be lot helpful if someone can throw some ideas on how to blink the background to create an animation effect.</p>\n<p><a href=\"https://i.stack.imgur.com/uP5sc.png\" rel=\"nofollow noreferrer\">As Expected</a></p>\n<p><a href=\"https://i.stack.imgur.com/FUZOT.png\" rel=\"nofollow noreferrer\">text getting wrapped up</a></p>\n<p><a href=\"https://i.stack.imgur.com/gWfCA.png\" rel=\"nofollow noreferrer\">expected (Without background)</a></p>\n<pre><code>package test.client.swing.machine.view;\n\nimport java.awt.*;\n\nimport javax.swing.*;\nimport javax.swing.border.Border;\nimport javax.swing.border.EmptyBorder;\n\nimport test.client.swing.machine.view.ImageFactory.BorderType;\n\nimport static test.client.swing.machine.view.ComponentNameConstants.LABEL_VALUE_BUTTON_LABEL;\nimport static test.client.swing.machine.view.ComponentNameConstants.LABEL_VALUE_BUTTON_VALUE;\n\n\npublic class LabelValueButtonDynamic extends SimpleGraphicButton {\n\n    protected final JLabel left = new JLabel();\n    protected JLabel right = new JLabel();\n    protected String label;\n    protected Object value;\n    protected boolean showBackground = true;\n\n    public LabelValueButtonDynamic(ImageFactory imageFactory, String label, Object value, Border border,\n                            String imageNamePattern, BorderType bType, int width) {\n        super(imageFactory);\n        try {\n            loadDynamicImages(imageNamePattern, bType, width);\n        } catch (IllegalArgumentException e) {\n            loadStandardImages(imageNamePattern);\n        }\n        setBorder(border);\n        init(label, value); //NOSONAR needs to be overrideable\n    }\n\n    public String getLabel() {\n        return label;\n    }\n\n    public void setLabel(String label) {\n        this.label = label;\n        left.setText(label);\n    }\n\n    public Object getValue() {\n        return value;\n    }\n\n    public void setValue(Object value) {\n        this.value = value;\n        right.setText(String.valueOf(value));\n    }\n\n    @Override\n    public void setForeground(Color c) {\n        super.setForeground(c);\n        if (left != null) {\n            left.setForeground(c);\n        }\n        if (right != null) {\n            right.setForeground(Color.RED);\n        }\n        // repaint anscheinend nicht nötig\n        // repaint();\n    }\n\n    @Override\n    public void setFont(Font f) {\n        super.setFont(f);\n        if (left != null) {\n            left.setFont(f);\n        }\n        if (right != null) {\n            right.setFont(f);\n        }\n        // repaint anscheinend nicht nötig\n        //repaint();\n    }\n\n    @Override\n    public Font getFont() {\n        return left != null ? left.getFont() : super.getFont();\n    }\n\n    protected void init(String label, Object value) {\n\n        showBackground = true;\n        setLabel(label);\n        setValue(value);\n        setLayout(new BoxLayout(this, BoxLayout.LINE_AXIS));\n        if (getComponentOrientation().isHorizontal()) {\n            //          add(Box.createHorizontalStrut(5));\n            add(left);\n            add(Box.createGlue());\n            add(right);\n            //          add(Box.createHorizontalStrut(15));\n\n            left.setAlignmentY(0.5f); // XXX optimalen Wert für AlignmentY finden (0.5 ist zu weit oben)\n            right.setAlignmentY(0.5f);\n            right.setIcon(new ImageIcon(loadStandardImage(&quot;btn_bonus_radio_button_unselected.png&quot;,\n                    null)));\n            right.setHorizontalAlignment(0);\n            right.setHorizontalTextPosition(0);\n        } else {\n            //          add(Box.createVerticalStrut(5));\n            add(left);\n            add(Box.createVerticalGlue());\n            add(right);\n            //          add(Box.createVerticalStrut(15));\n        }\n        left.setFont(Constants.getFontBold());\n        left.setName(LABEL_VALUE_BUTTON_LABEL);\n        right.setFont(Constants.getFontBoldMedium());\n        right.setName(LABEL_VALUE_BUTTON_VALUE);\n        right.setPreferredSize(right.getPreferredSize());\n    }\n\n    public void showCircle(boolean show){\n        if(show){\n            right.setIcon(new ImageIcon(loadStandardImage(&quot;btn_bonus_radio_button_unselected.png&quot;,\n                    null)));\n            right.setHorizontalAlignment(javax.swing.SwingConstants.CENTER);\n            right.setHorizontalTextPosition(javax.swing.SwingConstants.CENTER);\n        }\n        else{\n            right.setHorizontalAlignment(LEFT);\n            right.setHorizontalTextPosition(LEFT);\n            right.setIcon(null);\n        }\n        repaint();\n    }\n}\n\n</code></pre>\n"},{"tags":["java","maven","assembly"],"comments":[{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":1,"creation_date":1689342831,"post_id":76687337,"comment_id":135204099,"body_markdown":"Please show the pom file of the plugin?","body":"Please show the pom file of the plugin?"},{"owner":{"account_id":3375783,"reputation":1620,"user_id":2833924,"accept_rate":56,"display_name":"siom"},"score":0,"creation_date":1689434975,"post_id":76687337,"comment_id":135214610,"body_markdown":"This is the pom.xml: https://github.com/siom79/jasyncapicmp/blob/main/jasyncapicmp-maven-plugin/pom.xml","body":"This is the pom.xml: <a href=\"https://github.com/siom79/jasyncapicmp/blob/main/jasyncapicmp-maven-plugin/pom.xml\" rel=\"nofollow noreferrer\">github.com/siom79/jasyncapicmp/blob/main/&hellip;</a>"},{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1689503550,"post_id":76687337,"comment_id":135220066,"body_markdown":"The first things I see you have not defined all plugin version in your parent.. (for example surefire plugin, you are not using the most recent versions of plugins( and even worse you have defined different plugin versions in your modules etc... also I can not reproduce the issue...Can you please show how you started your build? Have you run your build from inside your IDE or on plain command line? Also post the full output while getting the error unfortunately I can not recognize where exactly the failure has happened?","body":"The first things I see you have not defined all plugin version in your parent.. (for example surefire plugin, you are not using the most recent versions of plugins( and even worse you have defined different plugin versions in your modules etc... also I can not reproduce the issue...Can you please show how you started your build? Have you run your build from inside your IDE or on plain command line? Also post the full output while getting the error unfortunately I can not recognize where exactly the failure has happened?"},{"owner":{"account_id":3375783,"reputation":1620,"user_id":2833924,"accept_rate":56,"display_name":"siom"},"score":0,"creation_date":1689579775,"post_id":76687337,"comment_id":135227874,"body_markdown":"You can reproduce it by: git clone https://github.com/siom79/jasyncapicmp.git, cd jasyncapicmp, edit pom.xml and change the properties maven.compiler.* from 11 to 17 and run mvn clean package.","body":"You can reproduce it by: git clone <a href=\"https://github.com/siom79/jasyncapicmp.git\" rel=\"nofollow noreferrer\">github.com/siom79/jasyncapicmp.git</a>, cd jasyncapicmp, edit pom.xml and change the properties maven.compiler.* from 11 to 17 and run mvn clean package."},{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1689589081,"post_id":76687337,"comment_id":135229761,"body_markdown":"Upgrade maven-plugin-plugin and maven-plugin-annotations to most recent version....(3.9.0)... what will fix. Use `&lt;maven.compiler.release&gt;17&lt;/maven.compiler.release&gt;`. instead of source/target...","body":"Upgrade maven-plugin-plugin and maven-plugin-annotations to most recent version....(3.9.0)... what will fix. Use <code>&lt;maven.compiler.release&gt;17&lt;&#47;maven.compiler.release&gt;</code>. instead of source/target..."},{"owner":{"account_id":3375783,"reputation":1620,"user_id":2833924,"accept_rate":56,"display_name":"siom"},"score":0,"creation_date":1689671777,"post_id":76687337,"comment_id":135243310,"body_markdown":"After updating to 3.9.0 and maven.compiler.release I get the same issue: Unsupported class file major version 61","body":"After updating to 3.9.0 and maven.compiler.release I get the same issue: Unsupported class file major version 61"}],"owner":{"account_id":3375783,"reputation":1620,"user_id":2833924,"accept_rate":56,"display_name":"siom"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":730,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1689334895,"creation_date":1689334895,"question_id":76687337,"body_markdown":"I want to develop a maven plugin with Java 17. Therefore I have created a maven module using the archetype:\r\n```bash\r\nmvn archetype:generate -DgroupId=com.github.siom79.jasyncapicmp -DartifactId=jasyncapicmp-maven-plugin -DarchetypeGroupId=org.apache.maven.archetypes -DarchetypeArtifactId=maven-archetype-plugin\r\n```\r\nThe maven version was updated to 3.9.2.\r\nI have also included a dependency to a library build with Java 17.\r\n\r\nWhen I run `mvn clean install -X` I get the following exception:\r\n```\r\nCaused by: java.lang.IllegalArgumentException: Unsupported class file major version 61\r\n    at org.objectweb.asm.ClassReader.&lt;init&gt; (ClassReader.java:184)\r\n    at org.objectweb.asm.ClassReader.&lt;init&gt; (ClassReader.java:166)\r\n    at org.objectweb.asm.ClassReader.&lt;init&gt; (ClassReader.java:152)\r\n    at org.objectweb.asm.ClassReader.&lt;init&gt; (ClassReader.java:273)\r\n    at org.apache.maven.tools.plugin.extractor.annotations.scanner.DefaultMojoAnnotationsScanner.analyzeClassStream (DefaultMojoAnnotationsScanner.java:207)\r\n    at org.apache.maven.tools.plugin.extractor.annotations.scanner.DefaultMojoAnnotationsScanner.scanArchive (DefaultMojoAnnotationsScanner.java:142)\r\n    at org.apache.maven.tools.plugin.extractor.annotations.scanner.DefaultMojoAnnotationsScanner.scan (DefaultMojoAnnotationsScanner.java:111)\r\n    at org.apache.maven.tools.plugin.extractor.annotations.scanner.DefaultMojoAnnotationsScanner.scan (DefaultMojoAnnotationsScanner.java:78)\r\n    at org.apache.maven.tools.plugin.extractor.annotations.JavaAnnotationsMojoDescriptorExtractor.scanAnnotations (JavaAnnotationsMojoDescriptorExtractor.java:124)\r\n    at org.apache.maven.tools.plugin.extractor.annotations.JavaAnnotationsMojoDescriptorExtractor.execute (JavaAnnotationsMojoDescriptorExtractor.java:103)\r\n    at org.apache.maven.tools.plugin.scanner.DefaultMojoScanner.populatePluginDescriptor (DefaultMojoScanner.java:96)\r\n    at org.apache.maven.plugin.plugin.AbstractGeneratorMojo.execute (AbstractGeneratorMojo.java:260)\r\n    at org.apache.maven.plugin.plugin.HelpGeneratorMojo.execute (HelpGeneratorMojo.java:92)\r\n    at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:126)\r\n[...]\r\n\r\n```\r\nLooks like the asm `ClassReader` cannot parse class files compiled with Java 17.\r\nForcing the asm library to a new version via `dependencyManagement` didn&#39;t succeed.\r\n\r\nAnyone an idea how to solve this issue?","title":"Maven plugin with Java 17","body":"<p>I want to develop a maven plugin with Java 17. Therefore I have created a maven module using the archetype:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>mvn archetype:generate -DgroupId=com.github.siom79.jasyncapicmp -DartifactId=jasyncapicmp-maven-plugin -DarchetypeGroupId=org.apache.maven.archetypes -DarchetypeArtifactId=maven-archetype-plugin\n</code></pre>\n<p>The maven version was updated to 3.9.2.\nI have also included a dependency to a library build with Java 17.</p>\n<p>When I run <code>mvn clean install -X</code> I get the following exception:</p>\n<pre><code>Caused by: java.lang.IllegalArgumentException: Unsupported class file major version 61\n    at org.objectweb.asm.ClassReader.&lt;init&gt; (ClassReader.java:184)\n    at org.objectweb.asm.ClassReader.&lt;init&gt; (ClassReader.java:166)\n    at org.objectweb.asm.ClassReader.&lt;init&gt; (ClassReader.java:152)\n    at org.objectweb.asm.ClassReader.&lt;init&gt; (ClassReader.java:273)\n    at org.apache.maven.tools.plugin.extractor.annotations.scanner.DefaultMojoAnnotationsScanner.analyzeClassStream (DefaultMojoAnnotationsScanner.java:207)\n    at org.apache.maven.tools.plugin.extractor.annotations.scanner.DefaultMojoAnnotationsScanner.scanArchive (DefaultMojoAnnotationsScanner.java:142)\n    at org.apache.maven.tools.plugin.extractor.annotations.scanner.DefaultMojoAnnotationsScanner.scan (DefaultMojoAnnotationsScanner.java:111)\n    at org.apache.maven.tools.plugin.extractor.annotations.scanner.DefaultMojoAnnotationsScanner.scan (DefaultMojoAnnotationsScanner.java:78)\n    at org.apache.maven.tools.plugin.extractor.annotations.JavaAnnotationsMojoDescriptorExtractor.scanAnnotations (JavaAnnotationsMojoDescriptorExtractor.java:124)\n    at org.apache.maven.tools.plugin.extractor.annotations.JavaAnnotationsMojoDescriptorExtractor.execute (JavaAnnotationsMojoDescriptorExtractor.java:103)\n    at org.apache.maven.tools.plugin.scanner.DefaultMojoScanner.populatePluginDescriptor (DefaultMojoScanner.java:96)\n    at org.apache.maven.plugin.plugin.AbstractGeneratorMojo.execute (AbstractGeneratorMojo.java:260)\n    at org.apache.maven.plugin.plugin.HelpGeneratorMojo.execute (HelpGeneratorMojo.java:92)\n    at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:126)\n[...]\n\n</code></pre>\n<p>Looks like the asm <code>ClassReader</code> cannot parse class files compiled with Java 17.\nForcing the asm library to a new version via <code>dependencyManagement</code> didn't succeed.</p>\n<p>Anyone an idea how to solve this issue?</p>\n"},{"tags":["java","spring-boot","gradle","build","spring-initializr"],"answers":[{"tags":[],"owner":{"account_id":14202137,"reputation":78,"user_id":10259764,"display_name":"desa"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689334711,"creation_date":1689250463,"answer_id":76679260,"question_id":76623583,"body_markdown":"For ref: I&#39;m using VS Code on a MacBook 2020. Using id &#39;org.springframework.boot&#39; version &#39;2.7.13&#39;.\r\n\r\nI just had the same issue. I solved it by creating a `gradle.properties` file in the root of the project and adding this: \r\n```\r\norg.gradle.java.home=&lt;myPathTo&gt;openjdk@17/17.0.7/libexec/openjdk.jdk/Contents/Home/\r\n```\r\nAfterwards, I made sure that port :8080 was available, and then I succeeded running `gradle bootRun` / or executing it using the extension in VSCode.\r\n\r\n\r\n*Between every change I did, I ran the build.clean task which made it clear for me that port 8080 was occupied.*\r\n\r\n-----\r\nFor &#39;org.springframework.boot&#39; version &#39;3.1.1&#39; I followed a combination of the answer from [Vifeng][1] in this [link][2] and my answer above.  \r\n\r\n\r\n  [1]: https://github.com/vifeng\r\n  [2]: https://github.com/redhat-developer/vscode-java/issues/3094","title":"Gradle build is getting failed when i tried to build a spring boot project","body":"<p>For ref: I'm using VS Code on a MacBook 2020. Using id 'org.springframework.boot' version '2.7.13'.</p>\n<p>I just had the same issue. I solved it by creating a <code>gradle.properties</code> file in the root of the project and adding this:</p>\n<pre><code>org.gradle.java.home=&lt;myPathTo&gt;openjdk@17/17.0.7/libexec/openjdk.jdk/Contents/Home/\n</code></pre>\n<p>Afterwards, I made sure that port :8080 was available, and then I succeeded running <code>gradle bootRun</code> / or executing it using the extension in VSCode.</p>\n<p><em>Between every change I did, I ran the build.clean task which made it clear for me that port 8080 was occupied.</em></p>\n<hr />\n<p>For 'org.springframework.boot' version '3.1.1' I followed a combination of the answer from <a href=\"https://github.com/vifeng\" rel=\"nofollow noreferrer\">Vifeng</a> in this <a href=\"https://github.com/redhat-developer/vscode-java/issues/3094\" rel=\"nofollow noreferrer\">link</a> and my answer above.</p>\n"}],"owner":{"account_id":28958149,"reputation":21,"user_id":22181262,"display_name":"Suraj Bhagat"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":785,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1689334711,"creation_date":1688586168,"question_id":76623583,"body_markdown":"\r\nA problem occurred configuring root project &#39;Task_Manager &#39;.\r\n&gt; Could not resolve all files for configuration &#39;:classpath&#39;.\r\n   &gt; Could not resolve org.springframework.boot:spring-boot-gradle-plugin:3.1.1.\r\n     Required by:\r\n         project : &gt; org.springframework.boot:org.springframework.boot.gradle.plugin:3.1.1\r\n      &gt; No matching variant of org.springframework.boot:spring-boot-gradle-plugin:3.1.1 was found. The consumer was configured to find a library for use during runtime, compatible with Java 8, packaged as a jar, and its dependencies declared externally, as well as attribute &#39;org.gradle.plugin.api-version&#39; with value &#39;8.1.1&#39; but:\r\n          - Variant &#39;apiElements&#39; capability org.springframework.boot:spring-boot-gradle-plugin:3.1.1 declares a library, packaged as a jar, and its dependencies declared externally:\r\n              - Incompatible because this component declares a component for use during compile-time, compatible with Java 17 and the consumer needed a component for use during runtime, compatible with Java 8\r\n              - Other compatible attribute:\r\n                  - Doesn&#39;t say anything about org.gradle.plugin.api-version (required &#39;8.1.1&#39;)\r\n          - Variant &#39;javadocElements&#39; capability org.springframework.boot:spring-boot-gradle-plugin:3.1.1 declares a component for use during runtime, and its dependencies declared externally:\r\n              - Incompatible because this component declares documentation and the consumer needed a library\r\n              - Other compatible attributes:\r\n                  - Doesn&#39;t say anything about its target Java version (required compatibility with Java 8)\r\n                  - Doesn&#39;t say anything about its elements (required them packaged as a jar)\r\n                  - Doesn&#39;t say anything about org.gradle.plugin.api-version (required &#39;8.1.1&#39;)\r\n          - Variant &#39;mavenOptionalApiElements&#39; capability org.springframework.boot:spring-boot-gradle-plugin-maven-optional:3.1.1 declares a library, packaged as a jar, and its dependencies declared externally:\r\n              - Incompatible because this component declares a component for use during compile-time, compatible with Java 17 and the consumer needed a component for use during runtime, compatible with Java 8\r\n              - Other compatible attribute:\r\n                  - Doesn&#39;t say anything about org.gradle.plugin.api-version (required &#39;8.1.1&#39;)\r\n          - Variant &#39;mavenOptionalRuntimeElements&#39; capability org.springframework.boot:spring-boot-gradle-plugin-maven-optional:3.1.1 declares a library for use during runtime, packaged as a jar, and its dependencies declared externally:\r\n              - Incompatible because this component declares a component, compatible with Java 17 and the consumer needed a component, compatible with Java 8\r\n              - Other compatible attribute:\r\n                  - Doesn&#39;t say anything about org.gradle.plugin.api-version (required &#39;8.1.1&#39;)\r\n          - Variant &#39;runtimeElements&#39; capability org.springframework.boot:spring-boot-gradle-plugin:3.1.1 declares a library for use during runtime, packaged as a jar, and its dependencies declared externally:\r\n              - Incompatible because this component declares a component, compatible with Java 17 and the consumer needed a component, compatible with Java 8\r\n              - Other compatible attribute:\r\n                  - Doesn&#39;t say anything about org.gradle.plugin.api-version (required &#39;8.1.1&#39;)\r\n          - Variant &#39;sourcesElements&#39; capability org.springframework.boot:spring-boot-gradle-plugin:3.1.1 declares a component for use during runtime, and its dependencies declared externally:\r\n              - Incompatible because this component declares documentation and the consumer needed a library\r\n              - Other compatible attributes:\r\n                  - Doesn&#39;t say anything about its target Java version (required compatibility with Java 8)\r\n                  - Doesn&#39;t say anything about its elements (required them packaged as a jar)\r\n                  - Doesn&#39;t say anything about org.gradle.plugin.api-version (required &#39;8.1.1&#39;)\r\n\r\n","title":"Gradle build is getting failed when i tried to build a spring boot project","body":"<p>A problem occurred configuring root project 'Task_Manager '.</p>\n<blockquote>\n<p>Could not resolve all files for configuration ':classpath'.\nCould not resolve org.springframework.boot:spring-boot-gradle-plugin:3.1.1.\nRequired by:\nproject : &gt; org.springframework.boot:org.springframework.boot.gradle.plugin:3.1.1\n&gt; No matching variant of org.springframework.boot:spring-boot-gradle-plugin:3.1.1 was found. The consumer was configured to find a library for use during runtime, compatible with Java 8, packaged as a jar, and its dependencies declared externally, as well as attribute 'org.gradle.plugin.api-version' with value '8.1.1' but:\n- Variant 'apiElements' capability org.springframework.boot:spring-boot-gradle-plugin:3.1.1 declares a library, packaged as a jar, and its dependencies declared externally:\n- Incompatible because this component declares a component for use during compile-time, compatible with Java 17 and the consumer needed a component for use during runtime, compatible with Java 8\n- Other compatible attribute:\n- Doesn't say anything about org.gradle.plugin.api-version (required '8.1.1')\n- Variant 'javadocElements' capability org.springframework.boot:spring-boot-gradle-plugin:3.1.1 declares a component for use during runtime, and its dependencies declared externally:\n- Incompatible because this component declares documentation and the consumer needed a library\n- Other compatible attributes:\n- Doesn't say anything about its target Java version (required compatibility with Java 8)\n- Doesn't say anything about its elements (required them packaged as a jar)\n- Doesn't say anything about org.gradle.plugin.api-version (required '8.1.1')\n- Variant 'mavenOptionalApiElements' capability org.springframework.boot:spring-boot-gradle-plugin-maven-optional:3.1.1 declares a library, packaged as a jar, and its dependencies declared externally:\n- Incompatible because this component declares a component for use during compile-time, compatible with Java 17 and the consumer needed a component for use during runtime, compatible with Java 8\n- Other compatible attribute:\n- Doesn't say anything about org.gradle.plugin.api-version (required '8.1.1')\n- Variant 'mavenOptionalRuntimeElements' capability org.springframework.boot:spring-boot-gradle-plugin-maven-optional:3.1.1 declares a library for use during runtime, packaged as a jar, and its dependencies declared externally:\n- Incompatible because this component declares a component, compatible with Java 17 and the consumer needed a component, compatible with Java 8\n- Other compatible attribute:\n- Doesn't say anything about org.gradle.plugin.api-version (required '8.1.1')\n- Variant 'runtimeElements' capability org.springframework.boot:spring-boot-gradle-plugin:3.1.1 declares a library for use during runtime, packaged as a jar, and its dependencies declared externally:\n- Incompatible because this component declares a component, compatible with Java 17 and the consumer needed a component, compatible with Java 8\n- Other compatible attribute:\n- Doesn't say anything about org.gradle.plugin.api-version (required '8.1.1')\n- Variant 'sourcesElements' capability org.springframework.boot:spring-boot-gradle-plugin:3.1.1 declares a component for use during runtime, and its dependencies declared externally:\n- Incompatible because this component declares documentation and the consumer needed a library\n- Other compatible attributes:\n- Doesn't say anything about its target Java version (required compatibility with Java 8)\n- Doesn't say anything about its elements (required them packaged as a jar)\n- Doesn't say anything about org.gradle.plugin.api-version (required '8.1.1')</p>\n</blockquote>\n"},{"tags":["java","joptionpane"],"comments":[{"owner":{"account_id":1083854,"reputation":13775,"user_id":1080064,"accept_rate":43,"display_name":"tkausl"},"score":1,"creation_date":1689044929,"post_id":76658467,"comment_id":135153987,"body_markdown":"Because most users are used to popup windows and forms and don&#39;t like to work with a console window.","body":"Because most users are used to popup windows and forms and don&#39;t like to work with a console window."},{"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1689047654,"post_id":76658467,"comment_id":135154159,"body_markdown":"You don&#39;t *need* it. Why do you think otherwise?","body":"You don&#39;t <i>need</i> it. Why do you think otherwise?"},{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":0,"creation_date":1689053420,"post_id":76658467,"comment_id":135154662,"body_markdown":"... because it would be strange when working in Microsoft Word and then having to go to a console window to select font style and size? Not all programs are console-based, some have a graphical user interface (GUI), and when working in a program with a GUI it would be strange to have to enter some information in a console window.","body":"... because it would be strange when working in Microsoft Word and then having to go to a console window to select font style and size? Not all programs are console-based, some have a graphical user interface (GUI), and when working in a program with a GUI it would be strange to have to enter some information in a console window."},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1689062631,"post_id":76658467,"comment_id":135156179,"body_markdown":"[JOptionPane](https://docs.oracle.com/javase/tutorial/uiswing/components/dialog.html) is actually intended for use in _Swing_ applications - even though they can be used in console applications. For a console application, printing messages (using [System.out.println](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/System.html#out)) is preferable (in my opinion), as is getting user input via class `Scanner` (again, in a console application). In other words, for a console application, you do not need to use `JOptionPane`.","body":"<a href=\"https://docs.oracle.com/javase/tutorial/uiswing/components/dialog.html\" rel=\"nofollow noreferrer\">JOptionPane</a> is actually intended for use in <i>Swing</i> applications - even though they can be used in console applications. For a console application, printing messages (using <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/System.html#out\" rel=\"nofollow noreferrer\">System.out.println</a>) is preferable (in my opinion), as is getting user input via class <code>Scanner</code> (again, in a console application). In other words, for a console application, you do not need to use <code>JOptionPane</code>."}],"owner":{"account_id":23841104,"reputation":1,"user_id":17846140,"display_name":"Akshat gupta"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689334704,"creation_date":1689044570,"question_id":76658467,"body_markdown":"This question is regarding Java. Why do we need JOptionPane class to print messages in a separate window when I can simply write the messages using System.out.println and take user input via scanner class?\r\n\r\nI am a beginner and while programming I could not find any significant use of the class JOptionpane as the messages could otherwise also be printed via S.o.p. Pls tell why is it important to have the class JOptionpane to print messages and take user input.","title":"Why do we need JOptionPane class to print messages in a separate window?","body":"<p>This question is regarding Java. Why do we need JOptionPane class to print messages in a separate window when I can simply write the messages using System.out.println and take user input via scanner class?</p>\n<p>I am a beginner and while programming I could not find any significant use of the class JOptionpane as the messages could otherwise also be printed via S.o.p. Pls tell why is it important to have the class JOptionpane to print messages and take user input.</p>\n"},{"tags":["java","loops","keyword"],"comments":[{"owner":{"account_id":2811636,"reputation":1706,"user_id":2417756,"accept_rate":80,"display_name":"Waclock"},"score":0,"creation_date":1401571482,"post_id":23974620,"comment_id":36938764,"body_markdown":"You could use &quot;while&quot; instead of for, for the second loop","body":"You could use &quot;while&quot; instead of for, for the second loop"},{"owner":{"account_id":3911361,"reputation":431,"user_id":3236587,"display_name":"Sumit Tyagi"},"score":1,"creation_date":1401571815,"post_id":23974620,"comment_id":36938828,"body_markdown":"add break; statement in your if condition. break always transfer control out to the current loop only. In your case if you put break statement in if block then it will always take you out to first loop.","body":"add break; statement in your if condition. break always transfer control out to the current loop only. In your case if you put break statement in if block then it will always take you out to first loop."}],"answers":[{"comments":[{"owner":{"account_id":52616,"reputation":1043001,"user_id":157247,"accept_rate":91,"display_name":"T.J. Crowder"},"score":0,"creation_date":1401605427,"post_id":23974631,"comment_id":36944322,"body_markdown":"@ Spundun: Get used to it. :-) People downvote, and people comment, and they&#39;re not usually the same people. (In fact, the closest thing to guidance you&#39;ll see from SO management and moderators is that saying why you downvoted is usually counter-productive for the site.) If you get an answer downvoted, look at it and ask why someone would, and if you don&#39;t figure it out don&#39;t worry about it. (I&#39;m not seeing an issue with your answer, FWIW.)","body":"@ Spundun: Get used to it. :-) People downvote, and people comment, and they&#39;re not usually the same people. (In fact, the closest thing to guidance you&#39;ll see from SO management and moderators is that saying why you downvoted is usually counter-productive for the site.) If you get an answer downvoted, look at it and ask why someone would, and if you don&#39;t figure it out don&#39;t worry about it. (I&#39;m not seeing an issue with your answer, FWIW.)"},{"owner":{"account_id":2017069,"reputation":3956,"user_id":1804124,"accept_rate":100,"display_name":"Spundun"},"score":0,"creation_date":1401613259,"post_id":23974631,"comment_id":36945829,"body_markdown":"@T.J.Crowder Thanks for the support and taking the time to respond :)","body":"@T.J.Crowder Thanks for the support and taking the time to respond :)"},{"owner":{"account_id":2489077,"reputation":3893,"user_id":2166947,"accept_rate":75,"display_name":"Brad Wood"},"score":0,"creation_date":1659550853,"post_id":23974631,"comment_id":129323442,"body_markdown":"Downvoted because this approach will still run code after the inner loop.  The answer with the most votes makes this clear and should be accepted instead.","body":"Downvoted because this approach will still run code after the inner loop.  The answer with the most votes makes this clear and should be accepted instead."}],"tags":[],"owner":{"account_id":2017069,"reputation":3956,"user_id":1804124,"accept_rate":100,"display_name":"Spundun"},"comment_count":3,"down_vote_count":3,"up_vote_count":2,"is_accepted":false,"score":-1,"last_activity_date":1401571567,"creation_date":1401571567,"answer_id":23974631,"question_id":23974620,"body_markdown":"No. Use `break` . That will break you out of the inner loop and you&#39;ll continue with the outer loop.\r\n\r\n    for(Object o : objects){//first loop\r\n      for(int j = 0; i &lt; y; j++){//second loop\r\n        if(something_is_true) break;\r\n      }\r\n    }","title":"Continue at first loop , inside the second loop","body":"<p>No. Use <code>break</code> . That will break you out of the inner loop and you'll continue with the outer loop.</p>\n\n<pre><code>for(Object o : objects){//first loop\n  for(int j = 0; i &lt; y; j++){//second loop\n    if(something_is_true) break;\n  }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":9621730,"reputation":406,"user_id":7142733,"display_name":"AW5"},"score":1,"creation_date":1597287959,"post_id":23974632,"comment_id":112085337,"body_markdown":"The question asked for continuing the first loop from the second loop, not breaking the second loop. This should not be the accepted answer or the question should be reformulated. (That matters in the case the first loop has some instructions after the second loop).","body":"The question asked for continuing the first loop from the second loop, not breaking the second loop. This should not be the accepted answer or the question should be reformulated. (That matters in the case the first loop has some instructions after the second loop)."},{"owner":{"account_id":3521176,"reputation":44445,"user_id":2943403,"display_name":"mickmackusa"},"score":0,"creation_date":1620088581,"post_id":23974632,"comment_id":119092498,"body_markdown":"I agree with @AW5 this is failing to meet the logical requirements wand will be misleading researchers.  I am looking for the equivalent of `continue 2`, but it seems (after researching for a while) that javascript doesn&#39;t offer this kind of control.  For anyone who does [tag:javascript] page curation on SO, this question has some duplicate page consolidation to do.","body":"I agree with @AW5 this is failing to meet the logical requirements wand will be misleading researchers.  I am looking for the equivalent of <code>continue 2</code>, but it seems (after researching for a while) that javascript doesn&#39;t offer this kind of control.  For anyone who does <a href=\"https://stackoverflow.com/questions/tagged/javascript\">javascript</a> page curation on SO, this question has some duplicate page consolidation to do."},{"owner":{"account_id":2489077,"reputation":3893,"user_id":2166947,"accept_rate":75,"display_name":"Brad Wood"},"score":0,"creation_date":1659550845,"post_id":23974632,"comment_id":129323440,"body_markdown":"Downvoted because this approach will still run code after the inner loop.  The answer with the most votes makes this clear and should be accepted instead.","body":"Downvoted because this approach will still run code after the inner loop.  The answer with the most votes makes this clear and should be accepted instead."}],"tags":[],"owner":{"account_id":2149234,"reputation":2245,"user_id":1906108,"accept_rate":100,"display_name":"D&#225;vid Szab&#243;"},"comment_count":3,"down_vote_count":2,"up_vote_count":5,"is_accepted":true,"score":3,"last_activity_date":1401571856,"creation_date":1401571567,"answer_id":23974632,"question_id":23974620,"body_markdown":"No, use &#39;break&#39;.\r\n\r\n    for(Object o : objects){//first loop\r\n      for(int j = 0; i &lt; y; j++){//second loop\r\n    \r\n        if(something_is_true)\r\n           break;\r\n    \r\n      }\r\n    }","title":"Continue at first loop , inside the second loop","body":"<p>No, use 'break'.</p>\n\n<pre><code>for(Object o : objects){//first loop\n  for(int j = 0; i &lt; y; j++){//second loop\n\n    if(something_is_true)\n       break;\n\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3860107,"reputation":1296,"user_id":3198050,"accept_rate":82,"display_name":"Luis Alves"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1401571589,"creation_date":1401571589,"answer_id":23974633,"question_id":23974620,"body_markdown":"If your objective is to get out of the second loop and continue the first you just need to call break. No need for continue (it&#39;s not even called).\r\n","title":"Continue at first loop , inside the second loop","body":"<p>If your objective is to get out of the second loop and continue the first you just need to call break. No need for continue (it's not even called).</p>\n"},{"comments":[{"owner":{"account_id":52616,"reputation":1043001,"user_id":157247,"accept_rate":91,"display_name":"T.J. Crowder"},"score":0,"creation_date":1401571906,"post_id":23974636,"comment_id":36938845,"body_markdown":"Adding the flag doesn&#39;t require using `while`; if you have an initialization, test, and increment, `for` is the correct choice.","body":"Adding the flag doesn&#39;t require using <code>while</code>; if you have an initialization, test, and increment, <code>for</code> is the correct choice."},{"owner":{"account_id":2811636,"reputation":1706,"user_id":2417756,"accept_rate":80,"display_name":"Waclock"},"score":0,"creation_date":1401571955,"post_id":23974636,"comment_id":36938859,"body_markdown":"It is another approach.","body":"It is another approach."}],"tags":[],"owner":{"account_id":2811636,"reputation":1706,"user_id":2417756,"accept_rate":80,"display_name":"Waclock"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1401571609,"creation_date":1401571609,"answer_id":23974636,"question_id":23974620,"body_markdown":"You couuld use &quot;while&quot; instead of &quot;for&quot;, for the second loop:\r\n\r\n    for(Object o : objects){//first loop\r\n      int counter=0;\r\n      while(!something_is_true &amp;&amp; counter&lt;y){//second loop\r\n        counter++\r\n        if(something happens)\r\n          something_is_true=true;\r\n     }\r\n    }","title":"Continue at first loop , inside the second loop","body":"<p>You couuld use \"while\" instead of \"for\", for the second loop:</p>\n\n<pre><code>for(Object o : objects){//first loop\n  int counter=0;\n  while(!something_is_true &amp;&amp; counter&lt;y){//second loop\n    counter++\n    if(something happens)\n      something_is_true=true;\n }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1376461,"reputation":1295,"user_id":3403689,"accept_rate":88,"display_name":"padawan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1401571866,"creation_date":1401571866,"answer_id":23974651,"question_id":23974620,"body_markdown":"I think this is a better approach:\r\n\r\n    for(Object o : objects)\r\n    {\r\n         int j = 0\r\n         while(j &lt; y &amp;&amp; something_is_true)\r\n         {\r\n           do_whatever;\r\n           j++;\r\n         }\r\n    }\r\n\r\n","title":"Continue at first loop , inside the second loop","body":"<p>I think this is a better approach:</p>\n\n<pre><code>for(Object o : objects)\n{\n     int j = 0\n     while(j &lt; y &amp;&amp; something_is_true)\n     {\n       do_whatever;\n       j++;\n     }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1277868,"reputation":4185,"user_id":1232720,"accept_rate":86,"display_name":"Jos&#233; D."},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1401571885,"creation_date":1401571885,"answer_id":23974655,"question_id":23974620,"body_markdown":"From https://stackoverflow.com/questions/886955/breaking-out-of-nested-loops-in-java\r\n\r\nYou can use `break` with a label for the outer loop. For example:\r\n\r\n    public class Test {\r\n      public static void main(String[] args) {\r\n        outerloop:\r\n        for (int i=0; i &lt; 5; i++) {\r\n          for (int j=0; j &lt; 5; j++) {\r\n            if (i * j &gt; 6) {\r\n              System.out.println(&quot;Breaking&quot;);\r\n              break outerloop;\r\n            }\r\n            System.out.println(i + &quot; &quot; + j);\r\n          }\r\n        }\r\n        System.out.println(&quot;Done&quot;);\r\n      }\r\n    }\r\n\r\nThis prints:\r\n\r\n    0 0\r\n    0 1\r\n    0 2\r\n    0 3\r\n    0 4\r\n    1 0\r\n    1 1\r\n    1 2\r\n    1 3\r\n    1 4\r\n    2 0\r\n    2 1\r\n    2 2\r\n    2 3\r\n    Breaking\r\n    Done\r\n\r\n","title":"Continue at first loop , inside the second loop","body":"<p>From <a href=\"https://stackoverflow.com/questions/886955/breaking-out-of-nested-loops-in-java\">Breaking out of nested loops in Java</a></p>\n\n<p>You can use <code>break</code> with a label for the outer loop. For example:</p>\n\n<pre><code>public class Test {\n  public static void main(String[] args) {\n    outerloop:\n    for (int i=0; i &lt; 5; i++) {\n      for (int j=0; j &lt; 5; j++) {\n        if (i * j &gt; 6) {\n          System.out.println(\"Breaking\");\n          break outerloop;\n        }\n        System.out.println(i + \" \" + j);\n      }\n    }\n    System.out.println(\"Done\");\n  }\n}\n</code></pre>\n\n<p>This prints:</p>\n\n<pre><code>0 0\n0 1\n0 2\n0 3\n0 4\n1 0\n1 1\n1 2\n1 3\n1 4\n2 0\n2 1\n2 2\n2 3\nBreaking\nDone\n</code></pre>\n"},{"tags":[],"owner":{"account_id":985197,"reputation":12521,"user_id":1003886,"accept_rate":66,"display_name":"kajacx"},"comment_count":0,"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1401571902,"creation_date":1401571902,"answer_id":23974657,"question_id":23974620,"body_markdown":"You can also use a `label`:\r\n\r\n    myLabel: for(Object o : objects){//first loop\r\n        for(int j = 0; i &lt; y; j++){//second loop\r\n        \r\n            if(something_is_true) {\r\n                continue myLabel;\r\n            }\r\n        }\r\n        //code that will be skipped if you continue to myLabel\r\n        //but will not be skipped if you &#39;break&#39; inside inner loop.\r\n    }","title":"Continue at first loop , inside the second loop","body":"<p>You can also use a <code>label</code>:</p>\n\n<pre><code>myLabel: for(Object o : objects){//first loop\n    for(int j = 0; i &lt; y; j++){//second loop\n\n        if(something_is_true) {\n            continue myLabel;\n        }\n    }\n    //code that will be skipped if you continue to myLabel\n    //but will not be skipped if you 'break' inside inner loop.\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25749235,"reputation":11,"user_id":19502023,"display_name":"Javad NR"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689334608,"creation_date":1689330616,"answer_id":76686848,"question_id":23974620,"body_markdown":"also you can use [javascript labels][1].\r\n\r\nits better choice if you do something after the inner loop inside each iteration of the outer loop, and you want to skip it and go to next outer loop iteration:\r\n\r\n\r\n\r\n    loop1: // an identifier to the first loop statement\r\n    for (...) {\r\n       for (...) {\r\n          if (...) continue loop1;\r\n       }\r\n       doSomething() // this also skips as well\r\n    }\r\n\r\nbut if you use `break;` to terminate the execution of inner loop, the part after the inner loop (`doSomething()` in the example above) still executes before the next iteration of outer loop start.\r\n\r\n\r\n  [1]: https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/label","title":"Continue at first loop , inside the second loop","body":"<p>also you can use <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/label\" rel=\"nofollow noreferrer\">javascript labels</a>.</p>\n<p>its better choice if you do something after the inner loop inside each iteration of the outer loop, and you want to skip it and go to next outer loop iteration:</p>\n<pre><code>loop1: // an identifier to the first loop statement\nfor (...) {\n   for (...) {\n      if (...) continue loop1;\n   }\n   doSomething() // this also skips as well\n}\n</code></pre>\n<p>but if you use <code>break;</code> to terminate the execution of inner loop, the part after the inner loop (<code>doSomething()</code> in the example above) still executes before the next iteration of outer loop start.</p>\n"}],"owner":{"account_id":4329990,"reputation":135,"user_id":3535778,"accept_rate":80,"display_name":"user3535778"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6344,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"accepted_answer_id":23974632,"answer_count":8,"score":3,"last_activity_date":1689334608,"creation_date":1401571394,"question_id":23974620,"body_markdown":"This will help you understand it better:\r\n\r\n    for(Object o : objects){//first loop\r\n        for(int j = 0; i &lt; y; j++){//second loop\r\n\r\n            if(something_is_true)\r\n                stop second loop , continue first loop \r\n\r\n        }\r\n    }\r\n\r\nAm i supposed to use the continue keyword for that&quot;?","title":"Continue at first loop , inside the second loop","body":"<p>This will help you understand it better:</p>\n\n<pre><code>for(Object o : objects){//first loop\n    for(int j = 0; i &lt; y; j++){//second loop\n\n        if(something_is_true)\n            stop second loop , continue first loop \n\n    }\n}\n</code></pre>\n\n<p>Am i supposed to use the continue keyword for that\"?</p>\n"},{"tags":["java","spring-boot","spring-mvc","request-mapping"],"comments":[{"owner":{"account_id":14999839,"reputation":138,"user_id":10827862,"display_name":"smileis2333"},"score":0,"creation_date":1689586706,"post_id":76687011,"comment_id":135229265,"body_markdown":"do you place all of them into  the same module(same spring context)? The common deal is split api declaretion ,  its client and its server implement  to three modules(so there is no need to process context problem).","body":"do you place all of them into  the same module(same spring context)? The common deal is split api declaretion ,  its client and its server implement  to three modules(so there is no need to process context problem)."},{"owner":{"account_id":419537,"reputation":4992,"user_id":796761,"accept_rate":50,"display_name":"dbreaux"},"score":0,"creation_date":1689611987,"post_id":76687011,"comment_id":135234927,"body_markdown":"Why add RequestMapping to an interface, particularly when you intend to have classes implement that interface that are not expecting to serve web requests? Seems like a confusing pattern at best. You could, for instance, have a base server-side implementation class and add the common mappings there.","body":"Why add RequestMapping to an interface, particularly when you intend to have classes implement that interface that are not expecting to serve web requests? Seems like a confusing pattern at best. You could, for instance, have a base server-side implementation class and add the common mappings there."},{"owner":{"account_id":5797834,"reputation":2627,"user_id":4573065,"accept_rate":100,"display_name":"ST-DDT"},"score":0,"creation_date":1689675984,"post_id":76687011,"comment_id":135244176,"body_markdown":"The idea behind using the interface is that you have the controller implement the interface and generate a client using the annotations. The annotations are on the interface to ensure that there aren&#39;t any incompatible changes between the controller and the client.","body":"The idea behind using the interface is that you have the controller implement the interface and generate a client using the annotations. The annotations are on the interface to ensure that there aren&#39;t any incompatible changes between the controller and the client."},{"owner":{"account_id":5797834,"reputation":2627,"user_id":4573065,"accept_rate":100,"display_name":"ST-DDT"},"score":0,"creation_date":1689676039,"post_id":76687011,"comment_id":135244187,"body_markdown":"The client implementation would be done via JDK Proxies. There I have access to the method reflection and thus can analyze it what properties needs to be added where. And my colleagues and I can no longer forget about updating our service methods and no longer have to worry about typos or incorrect formatting of parameters.","body":"The client implementation would be done via JDK Proxies. There I have access to the method reflection and thus can analyze it what properties needs to be added where. And my colleagues and I can no longer forget about updating our service methods and no longer have to worry about typos or incorrect formatting of parameters."},{"owner":{"account_id":5797834,"reputation":2627,"user_id":4573065,"accept_rate":100,"display_name":"ST-DDT"},"score":0,"creation_date":1689677812,"post_id":76687011,"comment_id":135244552,"body_markdown":"The client is currently implemented in a separate package, in the future it will be generated as runtime bean. The interface is in a shared jar used by both server and client. Since the client inherits the methods, it also inherits the annotations. And since the client service is also a web service it tries to map the client methods as well.","body":"The client is currently implemented in a separate package, in the future it will be generated as runtime bean. The interface is in a shared jar used by both server and client. Since the client inherits the methods, it also inherits the annotations. And since the client service is also a web service it tries to map the client methods as well."}],"owner":{"account_id":5797834,"reputation":2627,"user_id":4573065,"accept_rate":100,"display_name":"ST-DDT"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1689334436,"creation_date":1689332175,"question_id":76687011,"body_markdown":"I have a library that contains the DTO and service interface.\r\n\r\n````java\r\n@RequestMappping(&quot;/api/foo&quot;)\r\npublic interface FooApi {\r\n\r\n   @GetMapping(&quot;/{id}&quot;)\r\n   Foo getFooById(@pathVariable long id);\r\n\r\n}\r\n````\r\n\r\nThe server implements that interface:\r\n\r\n````java\r\n@RestController\r\npublic FooController implements FooApi {\r\n\r\n    Foo getFooById(long id) {\r\n         return fooService.getById(id);\r\n    }\r\n\r\n}\r\n````\r\n\r\nAnd I have clients that also implement that interface:\r\n\r\n````java\r\n@Component\r\npublic FooClient implements FooApi {\r\n\r\n    Foo getFooById(long id) {\r\n         return restTemplate.getObject(baseUrl + &quot;/api/foo/{id}&quot;, ...);\r\n    }\r\n\r\n}\r\n````\r\n\r\n(in the future the client implementation will get derived from the annotations at runtime: `clientFactory.createInstance(FooApi.class)`) \r\n\r\nIs there a way to tell Spring to not treat the `FooClient` as a Controller, because I didn&#39;t annotate it as such?\r\n(Without removing the `@RequestMapping`s from the `FooApi` interface entirely?)\r\n\r\nI&#39;m using Spring-Boot 2.7.","title":"Spring adds request mappings for beans that aren&#39;t annotated with @Controller","body":"<p>I have a library that contains the DTO and service interface.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RequestMappping(&quot;/api/foo&quot;)\npublic interface FooApi {\n\n   @GetMapping(&quot;/{id}&quot;)\n   Foo getFooById(@pathVariable long id);\n\n}\n</code></pre>\n<p>The server implements that interface:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RestController\npublic FooController implements FooApi {\n\n    Foo getFooById(long id) {\n         return fooService.getById(id);\n    }\n\n}\n</code></pre>\n<p>And I have clients that also implement that interface:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Component\npublic FooClient implements FooApi {\n\n    Foo getFooById(long id) {\n         return restTemplate.getObject(baseUrl + &quot;/api/foo/{id}&quot;, ...);\n    }\n\n}\n</code></pre>\n<p>(in the future the client implementation will get derived from the annotations at runtime: <code>clientFactory.createInstance(FooApi.class)</code>)</p>\n<p>Is there a way to tell Spring to not treat the <code>FooClient</code> as a Controller, because I didn't annotate it as such?\n(Without removing the <code>@RequestMapping</code>s from the <code>FooApi</code> interface entirely?)</p>\n<p>I'm using Spring-Boot 2.7.</p>\n"},{"tags":["java","apache-spark","google-bigquery","apache-spark-sql"],"comments":[{"owner":{"account_id":30369,"reputation":30094,"user_id":82804,"accept_rate":72,"display_name":"David Rabinowitz"},"score":2,"creation_date":1670016494,"post_id":74655855,"comment_id":131782822,"body_markdown":"We are working on it and json support will be released soon","body":"We are working on it and json support will be released soon"},{"owner":{"account_id":21381582,"reputation":1706,"user_id":15747414,"display_name":"Prajna Rai T"},"score":0,"creation_date":1670489292,"post_id":74655855,"comment_id":131888504,"body_markdown":"Hi @B-Brennan, I have posted the answer as Community wiki. So If my answer addressed your question, please consider upvoting and accepting it. If not, let me know so that the answer can be improved. Accepting an answer will help the community members with their research as well.","body":"Hi @B-Brennan, I have posted the answer as Community wiki. So If my answer addressed your question, please consider upvoting and accepting it. If not, let me know so that the answer can be improved. Accepting an answer will help the community members with their research as well."}],"answers":[{"comments":[{"owner":{"account_id":2231456,"reputation":109,"user_id":1968900,"display_name":"vishalpa"},"score":0,"creation_date":1689333535,"post_id":74674530,"comment_id":135202014,"body_markdown":"I dont see this feature released until now for spark bigquery connector.","body":"I dont see this feature released until now for spark bigquery connector."}],"tags":[],"owner":{"account_id":21381582,"reputation":1706,"user_id":15747414,"display_name":"Prajna Rai T"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1670148678,"creation_date":1670148678,"answer_id":74674530,"question_id":74655855,"body_markdown":"As @DavidRabinowitz mentioned in the comment, feature to insert JSON type data into BigQuery using `spark-bigquery-connector` will be released soon.\r\n\r\nAll the updates regarding the BigQuery features will be updated in this [document](https://cloud.google.com/bigquery/docs/release-notes).\r\n\r\nPosting the answer as community wiki for the benefit of the community that might encounter this use case in the future.\r\n\r\nFeel free to edit this answer for additional information.","title":"Writing to a JSON column type in BigQuery using Spark","body":"<p>As @DavidRabinowitz mentioned in the comment, feature to insert JSON type data into BigQuery using <code>spark-bigquery-connector</code> will be released soon.</p>\n<p>All the updates regarding the BigQuery features will be updated in this <a href=\"https://cloud.google.com/bigquery/docs/release-notes\" rel=\"nofollow noreferrer\">document</a>.</p>\n<p>Posting the answer as community wiki for the benefit of the community that might encounter this use case in the future.</p>\n<p>Feel free to edit this answer for additional information.</p>\n"},{"tags":[],"owner":{"account_id":2231456,"reputation":109,"user_id":1968900,"display_name":"vishalpa"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689334072,"creation_date":1689334072,"answer_id":76687240,"question_id":74655855,"body_markdown":"Based on the comment from @DavidRabinowitz this feature was not available until 2022 and based on our tests and BQ documentation it is not available yet. \r\n\r\nI tried to create a table with JSON type column before publishing from Spark to BQ. After publishing the column type got changed to String.\r\nFor workaround we are using,\r\n\r\n    SELECT PARSE_JSON(jsonField) as json_data FROM `project.dataset.table`","title":"Writing to a JSON column type in BigQuery using Spark","body":"<p>Based on the comment from @DavidRabinowitz this feature was not available until 2022 and based on our tests and BQ documentation it is not available yet.</p>\n<p>I tried to create a table with JSON type column before publishing from Spark to BQ. After publishing the column type got changed to String.\nFor workaround we are using,</p>\n<pre><code>SELECT PARSE_JSON(jsonField) as json_data FROM `project.dataset.table`\n</code></pre>\n"}],"owner":{"account_id":12280100,"reputation":131,"user_id":8962015,"accept_rate":14,"display_name":"B-Brennan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":575,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":74674530,"answer_count":2,"score":2,"last_activity_date":1689334072,"creation_date":1669984449,"question_id":74655855,"body_markdown":"I have a column of type JSON in my BigQuery schema definition. I want to write to this from a Java Spark Pipeline but I cannot seem to find a way that this is possible.\r\n\r\n[![schema definition with type][1]][1]\r\n\r\nIf create a Struct of the JSON it results in a `RECORD` type.\r\nAnd if I use `to_json` like below it turns converts into a `STRING` type.\r\n\r\n`dataframe = dataframe.withColumn(&quot;JSON_COLUMN, functions.to_json(functions.col(&quot;JSON_COLUMN)))`\r\n\r\nI know BigQuery has support for JSON columns but is there any way to write to them with Java Spark currently?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/u5116.png","title":"Writing to a JSON column type in BigQuery using Spark","body":"<p>I have a column of type JSON in my BigQuery schema definition. I want to write to this from a Java Spark Pipeline but I cannot seem to find a way that this is possible.</p>\n<p><a href=\"https://i.stack.imgur.com/u5116.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/u5116.png\" alt=\"schema definition with type\" /></a></p>\n<p>If create a Struct of the JSON it results in a <code>RECORD</code> type.\nAnd if I use <code>to_json</code> like below it turns converts into a <code>STRING</code> type.</p>\n<p><code>dataframe = dataframe.withColumn(&quot;JSON_COLUMN, functions.to_json(functions.col(&quot;JSON_COLUMN)))</code></p>\n<p>I know BigQuery has support for JSON columns but is there any way to write to them with Java Spark currently?</p>\n"},{"tags":["java","jackson"],"comments":[{"owner":{"account_id":3130131,"reputation":4109,"user_id":2648110,"display_name":"Ilya Ovesnov"},"score":5,"creation_date":1420223577,"post_id":27746750,"comment_id":43904624,"body_markdown":"Why you are using different versions of Jackson jars? You have jackson-core, jackson-databind, jackson-annotations but all of them has different versions? As a first step I would recommend to use the same release versions. Just for the info version 2.5 was released today.","body":"Why you are using different versions of Jackson jars? You have jackson-core, jackson-databind, jackson-annotations but all of them has different versions? As a first step I would recommend to use the same release versions. Just for the info version 2.5 was released today."},{"owner":{"account_id":368650,"reputation":3742,"user_id":715592,"accept_rate":71,"display_name":"NullPointerException"},"score":2,"creation_date":1420223610,"post_id":27746750,"comment_id":43904639,"body_markdown":"Your have another version of jackson jars which are loading before these jars. check the other version and remove those","body":"Your have another version of jackson jars which are loading before these jars. check the other version and remove those"},{"owner":{"account_id":5181727,"reputation":104,"user_id":4147255,"display_name":"Imeksbank"},"score":1,"creation_date":1518182807,"post_id":27746750,"comment_id":84412287,"body_markdown":"Worked for me too by using same versions :","body":"Worked for me too by using same versions :"}],"answers":[{"comments":[{"owner":{"account_id":6308745,"reputation":1364,"user_id":4901005,"display_name":"shaneb"},"score":0,"creation_date":1508447699,"post_id":29137413,"comment_id":80625731,"body_markdown":"This worked for me, but note this jar should then occur in the classpath before the jars with the earlier version of jackson.","body":"This worked for me, but note this jar should then occur in the classpath before the jars with the earlier version of jackson."},{"owner":{"account_id":6876679,"reputation":2100,"user_id":5284909,"accept_rate":67,"display_name":"Nilesh"},"score":1,"creation_date":1510825963,"post_id":29137413,"comment_id":81603590,"body_markdown":"This worked for me..thanks.. i have added above both whith my &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt; dependancy","body":"This worked for me..thanks.. i have added above both whith my &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt; dependancy"},{"owner":{"account_id":361112,"reputation":341,"user_id":3282865,"display_name":"Vijay"},"score":0,"creation_date":1571386038,"post_id":29137413,"comment_id":103231290,"body_markdown":"I am using 2.10 version for all three, I m getting this error. Which version would you suggest to resolve this issue .","body":"I am using 2.10 version for all three, I m getting this error. Which version would you suggest to resolve this issue ."},{"owner":{"account_id":2770364,"reputation":1493,"user_id":8390382,"display_name":"lainatnavi"},"score":0,"creation_date":1603813903,"post_id":29137413,"comment_id":114152839,"body_markdown":"If anyone&#39;s getting this error after manually copying the three jackson-\\*.jar-s under Tomcat&#39;s WEB-INF/lib, make sure you don&#39;t have older exploded jars under WEB-INF/classes/com/fasterxml/\\*.","body":"If anyone&#39;s getting this error after manually copying the three jackson-*.jar-s under Tomcat&#39;s WEB-INF/lib, make sure you don&#39;t have older exploded jars under WEB-INF/classes/com/fasterxml/*."},{"owner":{"account_id":2654630,"reputation":137,"user_id":2295582,"accept_rate":50,"display_name":"juanmi"},"score":0,"creation_date":1678375047,"post_id":29137413,"comment_id":133523564,"body_markdown":"This worked for me with version &#39;v2.14.2&#39; for &#39;jackson-databind&#39; and &#39;jackson-dataformat-yaml&#39; and the two additional dependencies mentioned in the answer.","body":"This worked for me with version &#39;v2.14.2&#39; for &#39;jackson-databind&#39; and &#39;jackson-dataformat-yaml&#39; and the two additional dependencies mentioned in the answer."},{"owner":{"account_id":13489625,"reputation":989,"user_id":9732314,"display_name":"Felix"},"score":0,"creation_date":1701252391,"post_id":29137413,"comment_id":136751570,"body_markdown":"In meantime it might be better to add https://github.com/FasterXML/jackson-bom#usage instead of all transitive dependencies, and removing the versions from the dependencies themselves.","body":"In meantime it might be better to add <a href=\"https://github.com/FasterXML/jackson-bom#usage\" rel=\"nofollow noreferrer\">github.com/FasterXML/jackson-bom#usage</a> instead of all transitive dependencies, and removing the versions from the dependencies themselves."}],"tags":[],"owner":{"account_id":1111258,"reputation":1264,"user_id":1101678,"display_name":"Priya Aggarwal"},"comment_count":6,"down_vote_count":0,"up_vote_count":113,"is_accepted":true,"score":113,"last_activity_date":1426740601,"creation_date":1426740601,"answer_id":29137413,"question_id":27746750,"body_markdown":"I was getting the exactly same issue. I was using Maven for dependency management and had added dependency for jackson-databind module only like this \r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\r\n        &lt;version&gt;${jackson.version}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nand then I resolved it by doing this.. I added its transitive dependencies explicitly with the same jackson.version mentioned for each of them in the pom.xml file, as guided [here][1] \r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jackson-annotations&lt;/artifactId&gt;\r\n        &lt;version&gt;${jackson.version}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jackson-core&lt;/artifactId&gt;\r\n        &lt;version&gt;${jackson.version}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n\r\n  [1]: https://github.com/FasterXML/jackson-databind/#get-it","title":"Exception in thread &quot;main&quot; java.lang.NoSuchMethodError: com.fasterxml.jackson.core.JsonFactory.requiresPropertyOrdering()Z","body":"<p>I was getting the exactly same issue. I was using Maven for dependency management and had added dependency for jackson-databind module only like this </p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n    &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n    &lt;version&gt;${jackson.version}&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>and then I resolved it by doing this.. I added its transitive dependencies explicitly with the same jackson.version mentioned for each of them in the pom.xml file, as guided <a href=\"https://github.com/FasterXML/jackson-databind/#get-it\">here</a> </p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n    &lt;artifactId&gt;jackson-annotations&lt;/artifactId&gt;\n    &lt;version&gt;${jackson.version}&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n    &lt;artifactId&gt;jackson-core&lt;/artifactId&gt;\n    &lt;version&gt;${jackson.version}&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3288886,"reputation":11489,"user_id":2767626,"accept_rate":58,"display_name":"Tobias Gassmann"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1447940291,"creation_date":1447940291,"answer_id":33805506,"question_id":27746750,"body_markdown":"I had the same issue. There was some incompatibility between the jackson-version 2.6.3 and another dependency (graphaware-framework-embedded).\r\n\r\n**I could resolve the issue by simply removing the dependency on jackson** in my own pom and just let the other dependency load whatever jackson-version it needed. ","title":"Exception in thread &quot;main&quot; java.lang.NoSuchMethodError: com.fasterxml.jackson.core.JsonFactory.requiresPropertyOrdering()Z","body":"<p>I had the same issue. There was some incompatibility between the jackson-version 2.6.3 and another dependency (graphaware-framework-embedded).</p>\n\n<p><strong>I could resolve the issue by simply removing the dependency on jackson</strong> in my own pom and just let the other dependency load whatever jackson-version it needed. </p>\n"},{"comments":[{"owner":{"account_id":39685,"reputation":12829,"user_id":114549,"display_name":"aaronvargas"},"score":1,"creation_date":1531935107,"post_id":42836160,"comment_id":89786971,"body_markdown":"If you&#39;re using gradle, it should something like this.\n  implementation (&quot;com.google.api-client:google-api-client:1.23.0&quot;) {\n        exclude group: &#39;com.fasterxml.jackson.core&#39;, module: &#39;jackson-core&#39;\n    }","body":"If you&#39;re using gradle, it should something like this.   implementation (&quot;com.google.api-client:google-api-client:1.23.0&quot;) {         exclude group: &#39;com.fasterxml.jackson.core&#39;, module: &#39;jackson-core&#39;     }"}],"tags":[],"owner":{"account_id":6492165,"reputation":269,"user_id":5025897,"display_name":"Jeffrey Hawkins"},"comment_count":1,"down_vote_count":0,"up_vote_count":24,"is_accepted":false,"score":24,"last_activity_date":1489672651,"creation_date":1489672651,"answer_id":42836160,"question_id":27746750,"body_markdown":"I came here with a similar issue on Google App Engine. Here is how I fixed it.\r\n\r\nFirst I ran:\r\n\r\n    mvn dependency:tree\r\nTo find who is using the older version. I then excluded that from the offending dependency like so:\r\n\r\n    &lt;dependency&gt;\r\n\t\t&lt;groupId&gt;com.google.appengine.tools&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;appengine-gcs-client&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;0.6&lt;/version&gt;\r\n\t\t&lt;exclusions&gt;\r\n\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t&lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;jackson-core&lt;/artifactId&gt;\r\n\t\t\t&lt;/exclusion&gt;\r\n\t\t&lt;/exclusions&gt;\r\n\t&lt;/dependency&gt;\r\nNext I added the newer version of the dependency in my pom.xml:\r\n\r\n    &lt;dependency&gt;\r\n\t\t&lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;jackson-core&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.8.7&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\r\nHope this help others who stumble here.","title":"Exception in thread &quot;main&quot; java.lang.NoSuchMethodError: com.fasterxml.jackson.core.JsonFactory.requiresPropertyOrdering()Z","body":"<p>I came here with a similar issue on Google App Engine. Here is how I fixed it.</p>\n\n<p>First I ran:</p>\n\n<pre><code>mvn dependency:tree\n</code></pre>\n\n<p>To find who is using the older version. I then excluded that from the offending dependency like so:</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.google.appengine.tools&lt;/groupId&gt;\n    &lt;artifactId&gt;appengine-gcs-client&lt;/artifactId&gt;\n    &lt;version&gt;0.6&lt;/version&gt;\n    &lt;exclusions&gt;\n        &lt;exclusion&gt;\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-core&lt;/artifactId&gt;\n        &lt;/exclusion&gt;\n    &lt;/exclusions&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>Next I added the newer version of the dependency in my pom.xml:</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n    &lt;artifactId&gt;jackson-core&lt;/artifactId&gt;\n    &lt;version&gt;2.8.7&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>Hope this help others who stumble here.</p>\n"},{"tags":[],"owner":{"account_id":8262953,"reputation":161,"user_id":6213633,"display_name":"mrana"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1564503328,"creation_date":1564503328,"answer_id":57275953,"question_id":27746750,"body_markdown":"I faced the same issue just now while upgrading my project from spring 3 to 4.1.6. \r\n\r\nA little background for reference, just in case if it helps anyone running into same issue===&gt; \r\n       First, it prompted me with error for mappingJacksonconverter vs mappingJackson2converter since the former doesn&#39;t exist anymore with spring 4. Once I changed those references in code, I ran into issue with my dispatcher servlet since it had xsd definitions from spring 3 support. Once that&#39;s corrected, my last step in journey was this error which you all faced as well.\r\n\r\nMy solution:\r\n  I had older versions of following jars:\r\n   jackson-annotations,\r\n   jackson-core,\r\n   jackson-databind,\r\n   jackson-core-asl,\r\n   jackson-mapper-asl\r\n\r\n   I upgraded first 3 jars to 2.10.0.pr1 release and last 2 to 1.9.13 release.\r\n \r\n   I also had one more older jar i.e.com.fasterxml.jackson.core.jar which I had to remove as well. Anyways, as error suggested this was the key reason for the mismatch (Like Tobias said in comment prior to mine)\r\n\r\n  I think only last paragraph is important from this particular question point of view, but I am hoping my narration of issues faced leading up to that may help someone saving 4-5 hrs :) Cheers, folks!\r\n\r\n","title":"Exception in thread &quot;main&quot; java.lang.NoSuchMethodError: com.fasterxml.jackson.core.JsonFactory.requiresPropertyOrdering()Z","body":"<p>I faced the same issue just now while upgrading my project from spring 3 to 4.1.6. </p>\n\n<p>A little background for reference, just in case if it helps anyone running into same issue===> \n       First, it prompted me with error for mappingJacksonconverter vs mappingJackson2converter since the former doesn't exist anymore with spring 4. Once I changed those references in code, I ran into issue with my dispatcher servlet since it had xsd definitions from spring 3 support. Once that's corrected, my last step in journey was this error which you all faced as well.</p>\n\n<p>My solution:\n  I had older versions of following jars:\n   jackson-annotations,\n   jackson-core,\n   jackson-databind,\n   jackson-core-asl,\n   jackson-mapper-asl</p>\n\n<p>I upgraded first 3 jars to 2.10.0.pr1 release and last 2 to 1.9.13 release.</p>\n\n<p>I also had one more older jar i.e.com.fasterxml.jackson.core.jar which I had to remove as well. Anyways, as error suggested this was the key reason for the mismatch (Like Tobias said in comment prior to mine)</p>\n\n<p>I think only last paragraph is important from this particular question point of view, but I am hoping my narration of issues faced leading up to that may help someone saving 4-5 hrs :) Cheers, folks!</p>\n"},{"tags":[],"owner":{"account_id":179998,"reputation":5576,"user_id":413032,"accept_rate":59,"display_name":"Davut G&#252;rb&#252;z"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1600935191,"creation_date":1600935191,"answer_id":64042176,"question_id":27746750,"body_markdown":"\r\nAs of now latest redisson\r\n\r\n    &lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.redisson&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;redisson&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.13.4&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\r\nLatest Jackson jackson.version property is `2.11.2` for me\r\n\r\n\t\t&lt;!-- faster JSON --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${jackson.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jackson-annotations&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${jackson.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jackson-core&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${jackson.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\nUpdating Eclipse references, without this runner configs were accessing earlier edition of jackson project.\r\n\r\n    eclipse:eclipse -U","title":"Exception in thread &quot;main&quot; java.lang.NoSuchMethodError: com.fasterxml.jackson.core.JsonFactory.requiresPropertyOrdering()Z","body":"<p>As of now latest redisson</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.redisson&lt;/groupId&gt;\n    &lt;artifactId&gt;redisson&lt;/artifactId&gt;\n    &lt;version&gt;3.13.4&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Latest Jackson jackson.version property is <code>2.11.2</code> for me</p>\n<pre><code>    &lt;!-- faster JSON --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n        &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n        &lt;version&gt;${jackson.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n        &lt;artifactId&gt;jackson-annotations&lt;/artifactId&gt;\n        &lt;version&gt;${jackson.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n        &lt;artifactId&gt;jackson-core&lt;/artifactId&gt;\n        &lt;version&gt;${jackson.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>Updating Eclipse references, without this runner configs were accessing earlier edition of jackson project.</p>\n<pre><code>eclipse:eclipse -U\n</code></pre>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1636594297,"post_id":69919096,"comment_id":123601830,"body_markdown":"As it’s currently written, your answer is unclear. Please [edit] to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"As it’s currently written, your answer is unclear. Please <a href=\"https://stackoverflow.com/posts/69919096/edit\">edit</a> to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."},{"owner":{"account_id":1740131,"reputation":3810,"user_id":1591777,"display_name":"cstroe"},"score":1,"creation_date":1639712476,"post_id":69919096,"comment_id":124424676,"body_markdown":"I upgraded from Jackson `2.11.4` to version `2.12.4`, the mapping error was fixed.","body":"I upgraded from Jackson <code>2.11.4</code> to version <code>2.12.4</code>, the mapping error was fixed."}],"tags":[],"owner":{"account_id":12579182,"reputation":119,"user_id":9150525,"display_name":"Onkar Singh"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1636572187,"creation_date":1636572187,"answer_id":69919096,"question_id":27746750,"body_markdown":"For me, I updated the version to a recently released version i.e. 2.12.4 and it worked fine.\r\n\r\nNote: I was using another project inside the build path of a larger project in eclipse. The jackson update was done inside the pom.xml file of the smaller project.","title":"Exception in thread &quot;main&quot; java.lang.NoSuchMethodError: com.fasterxml.jackson.core.JsonFactory.requiresPropertyOrdering()Z","body":"<p>For me, I updated the version to a recently released version i.e. 2.12.4 and it worked fine.</p>\n<p>Note: I was using another project inside the build path of a larger project in eclipse. The jackson update was done inside the pom.xml file of the smaller project.</p>\n"},{"tags":[],"owner":{"account_id":27753485,"reputation":11,"user_id":21187484,"display_name":"Pragya"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689333398,"creation_date":1689333398,"answer_id":76687162,"question_id":27746750,"body_markdown":"I have updated jackson dependency version in my maven project from 2.7.4 to 2.15.0 due to vulnerabilities in older versions. After updating I am getting an exception NoClassDefFoundError. I tried to use jackson BOM 2.15.0 but still getting that exception. How to resolve this exception?\r\n\r\n    Caused by: java.lang.NoClassDefFoundError: com/fasterxml/jackson/core/JsonProcessingException\r\n    at java.lang.Class.getDeclaredConstructors0(Native Method)\r\n    at java.lang.Class.privateGetDeclaredConstructors(Class.java:2671)\r\n    at java.lang.Class.getConstructors(Class.java:1651)\r\n    at org.apache.felix.scr.impl.inject.ComponentConstructor.&lt;init&gt;(ComponentConstructor.java:95) [org.apache.felix.scr:2.1.16]\r\n    at org.apache.felix.scr.impl.inject.ComponentMethodsImpl.initComponentMethods(ComponentMethodsImpl.java:106) [org.apache.felix.scr:2.1.16]\r\n    at org.apache.felix.scr.impl.manager.AbstractComponentManager.initDependencyManagers(AbstractComponentManager.java:1008) [org.apache.felix.scr:2.1.16]\r\n    at org.apache.felix.scr.impl.manager.AbstractComponentManager.collectDependencies(AbstractComponentManager.java:1026) [org.apache.felix.scr:2.1.16]\r\n    at org.apache.felix.scr.impl.manager.SingleComponentManager.getServiceInternal(SingleComponentManager.java:935) [org.apache.felix.scr:2.1.16]\r\n    at org.apache.felix.scr.impl.manager.SingleComponentManager.getService(SingleComponentManager.java:900) [org.apache.felix.scr:2.1.16]\r\n    at org.apache.felix.framework.ServiceRegistrationImpl.getFactoryUnchecked(ServiceRegistrationImpl.java:348)\r\n    ... 52 common frames omitted\r\n    Caused by: java.lang.ClassNotFoundException: com.fasterxml.jackson.core.JsonProcessingException not found by com.dunkindonuts.aem.ddcom-ui-businesslogic [791]\r\n    at org.apache.felix.framework.BundleWiringImpl.findClassOrResourceByDelegation(BundleWiringImpl.java:1597)\r\n    at org.apache.felix.framework.BundleWiringImpl.access$300(BundleWiringImpl.java:79)\r\n    at org.apache.felix.framework.BundleWiringImpl$BundleClassLoader.loadClass(BundleWiringImpl.java:1982)\r\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:351)","title":"Exception in thread &quot;main&quot; java.lang.NoSuchMethodError: com.fasterxml.jackson.core.JsonFactory.requiresPropertyOrdering()Z","body":"<p>I have updated jackson dependency version in my maven project from 2.7.4 to 2.15.0 due to vulnerabilities in older versions. After updating I am getting an exception NoClassDefFoundError. I tried to use jackson BOM 2.15.0 but still getting that exception. How to resolve this exception?</p>\n<pre><code>Caused by: java.lang.NoClassDefFoundError: com/fasterxml/jackson/core/JsonProcessingException\nat java.lang.Class.getDeclaredConstructors0(Native Method)\nat java.lang.Class.privateGetDeclaredConstructors(Class.java:2671)\nat java.lang.Class.getConstructors(Class.java:1651)\nat org.apache.felix.scr.impl.inject.ComponentConstructor.&lt;init&gt;(ComponentConstructor.java:95) [org.apache.felix.scr:2.1.16]\nat org.apache.felix.scr.impl.inject.ComponentMethodsImpl.initComponentMethods(ComponentMethodsImpl.java:106) [org.apache.felix.scr:2.1.16]\nat org.apache.felix.scr.impl.manager.AbstractComponentManager.initDependencyManagers(AbstractComponentManager.java:1008) [org.apache.felix.scr:2.1.16]\nat org.apache.felix.scr.impl.manager.AbstractComponentManager.collectDependencies(AbstractComponentManager.java:1026) [org.apache.felix.scr:2.1.16]\nat org.apache.felix.scr.impl.manager.SingleComponentManager.getServiceInternal(SingleComponentManager.java:935) [org.apache.felix.scr:2.1.16]\nat org.apache.felix.scr.impl.manager.SingleComponentManager.getService(SingleComponentManager.java:900) [org.apache.felix.scr:2.1.16]\nat org.apache.felix.framework.ServiceRegistrationImpl.getFactoryUnchecked(ServiceRegistrationImpl.java:348)\n... 52 common frames omitted\nCaused by: java.lang.ClassNotFoundException: com.fasterxml.jackson.core.JsonProcessingException not found by com.dunkindonuts.aem.ddcom-ui-businesslogic [791]\nat org.apache.felix.framework.BundleWiringImpl.findClassOrResourceByDelegation(BundleWiringImpl.java:1597)\nat org.apache.felix.framework.BundleWiringImpl.access$300(BundleWiringImpl.java:79)\nat org.apache.felix.framework.BundleWiringImpl$BundleClassLoader.loadClass(BundleWiringImpl.java:1982)\nat java.lang.ClassLoader.loadClass(ClassLoader.java:351)\n</code></pre>\n"}],"owner":{"account_id":5565691,"reputation":936,"user_id":4413101,"accept_rate":75,"display_name":"jbakirov"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":146436,"favorite_count":0,"down_vote_count":0,"up_vote_count":64,"accepted_answer_id":29137413,"answer_count":7,"score":64,"last_activity_date":1689333398,"creation_date":1420223189,"question_id":27746750,"body_markdown":"I need to convert json to pojo. I Decided to use jackson and have added jackson-core-2.2.0.jar, jackson-databind-2.4.4.jar and jackson-annotations-2.1.2.jar to my project&#39;s classpath\r\n\r\nI created following `Main` class:\r\n\r\n    import java.io.IOException;\r\n    import java.net.MalformedURLException;\r\n    import java.net.URL;\r\n    import java.util.List;\r\n    import com.fasterxml.jackson.core.JsonGenerationException;\r\n    import com.fasterxml.jackson.core.JsonProcessingException;\r\n    import com.fasterxml.jackson.databind.JsonMappingException;\r\n    import com.fasterxml.jackson.databind.JsonNode;\r\n    import com.fasterxml.jackson.databind.ObjectMapper;\r\n    import com.fasterxml.jackson.core.JsonGenerationException;\r\n    import com.fasterxml.jackson.core.type.TypeReference;\r\n    import com.fasterxml.jackson.databind.JsonMappingException;\r\n    import com.fasterxml.jackson.databind.ObjectMapper;\r\n    import com.fasterxml.jackson.databind.DeserializationFeature;\r\n\r\n    public class Json {\r\n\tprivate static String SRC= &quot;&quot;;\r\n\t\r\n\t  public static void main(String[] args) {\r\n\t\t \r\n\t      AwardList awardList = null;\r\n\t      ObjectMapper mapper = new ObjectMapper();\r\n\t    \r\n\t      try{\r\n\t    \t  awardList = (AwardList) mapper.readValue(new URL(SRC), AwardList.class);\r\n\t      }catch (JsonGenerationException e){\r\n\t          e.printStackTrace();\r\n\t       } catch (JsonMappingException e){\r\n\t          e.printStackTrace();\r\n\t       } catch (IOException e){\r\n\t          e.printStackTrace();\r\n\t       }\r\n\t       System.out.println(awardList);\r\n \r\n\t  }\r\n    }\r\n\r\nAnd following `AwardList` class:\r\n\r\n    public class AwardList {\r\n    \t\r\n    \tprivate Flights[] flights;\r\n    \tprivate String[] connections;\r\n    \t\r\n    \tprivate SaverEconomy saverEconomy;\r\n    \tprivate StandartEconomy standartEconomy;\r\n    \tprivate SaverBusiness saverBusiness;\r\n    \tprivate StandartFirst standartFirst;\r\n    \tprivate SaverFirst saverFirst;\r\n    \t\r\n    \r\n    \tpublic Flights[] getFlights() {\r\n    \t\treturn flights;\r\n    \t}\r\n    \r\n    \tpublic void setFlights(Flights[] flights) {\r\n    \t\tthis.flights = flights;\r\n    \t}\r\n    \r\n    \tpublic SaverEconomy getSaverEconomy() {\r\n    \t\treturn saverEconomy;\r\n    \t}\r\n    \r\n    \tpublic void setSaverEconomy(SaverEconomy saverEconomy) {\r\n    \t\tthis.saverEconomy = saverEconomy;\r\n    \t}\r\n    \r\n    \tpublic StandartEconomy getStandartEconomy() {\r\n    \t\treturn standartEconomy;\r\n    \t}\r\n    \r\n    \tpublic void setStandartEconomy(StandartEconomy standartEconomy) {\r\n    \t\tthis.standartEconomy = standartEconomy;\r\n    \t}\r\n    \r\n    \tpublic SaverBusiness getSaverBusiness() {\r\n    \t\treturn saverBusiness;\r\n    \t}\r\n    \r\n    \tpublic void setSaverBusiness(SaverBusiness saverBusiness) {\r\n    \t\tthis.saverBusiness = saverBusiness;\r\n    \t}\r\n    \r\n    \tpublic StandartFirst getStandartFirst() {\r\n    \t\treturn standartFirst;\r\n    \t}\r\n    \r\n    \tpublic void setStandartFirst(StandartFirst standartFirst) {\r\n    \t\tthis.standartFirst = standartFirst;\r\n    \t}\r\n    \r\n    \tpublic SaverFirst getSaverFirst() {\r\n    \t\treturn saverFirst;\r\n    \t}\r\n    \r\n    \tpublic void setSaverFirst(SaverFirst saverFirst) {\r\n    \t\tthis.saverFirst = saverFirst;\r\n    \t}\r\n    \r\n    \tpublic String[] getConnections() {\r\n    \t\treturn connections;\r\n    \t}\r\n    \r\n    \tpublic void setConnections(String[] connections) {\r\n    \t\tthis.connections = connections;\r\n    \t}\r\n    }\r\n\r\nI want to convert json to pojo and save it in the database. I keep getting following error:\r\n\r\n&gt;     Exception in thread &quot;main&quot; java.lang.NoSuchMethodError: com.fasterxml.jackson.core.JsonFactory.requiresPropertyOrdering()Z\r\n&gt;     \tat com.fasterxml.jackson.databind.ObjectMapper.&lt;init&gt;(ObjectMapper.java:457)\r\n&gt;     \tat com.fasterxml.jackson.databind.ObjectMapper.&lt;init&gt;(ObjectMapper.java:379)\r\n&gt;     \tat Json.main(Json.java:72)\r\n\r\n","title":"Exception in thread &quot;main&quot; java.lang.NoSuchMethodError: com.fasterxml.jackson.core.JsonFactory.requiresPropertyOrdering()Z","body":"<p>I need to convert json to pojo. I Decided to use jackson and have added jackson-core-2.2.0.jar, jackson-databind-2.4.4.jar and jackson-annotations-2.1.2.jar to my project's classpath</p>\n\n<p>I created following <code>Main</code> class:</p>\n\n<pre><code>import java.io.IOException;\nimport java.net.MalformedURLException;\nimport java.net.URL;\nimport java.util.List;\nimport com.fasterxml.jackson.core.JsonGenerationException;\nimport com.fasterxml.jackson.core.JsonProcessingException;\nimport com.fasterxml.jackson.databind.JsonMappingException;\nimport com.fasterxml.jackson.databind.JsonNode;\nimport com.fasterxml.jackson.databind.ObjectMapper;\nimport com.fasterxml.jackson.core.JsonGenerationException;\nimport com.fasterxml.jackson.core.type.TypeReference;\nimport com.fasterxml.jackson.databind.JsonMappingException;\nimport com.fasterxml.jackson.databind.ObjectMapper;\nimport com.fasterxml.jackson.databind.DeserializationFeature;\n\npublic class Json {\nprivate static String SRC= \"\";\n\n  public static void main(String[] args) {\n\n      AwardList awardList = null;\n      ObjectMapper mapper = new ObjectMapper();\n\n      try{\n          awardList = (AwardList) mapper.readValue(new URL(SRC), AwardList.class);\n      }catch (JsonGenerationException e){\n          e.printStackTrace();\n       } catch (JsonMappingException e){\n          e.printStackTrace();\n       } catch (IOException e){\n          e.printStackTrace();\n       }\n       System.out.println(awardList);\n\n  }\n}\n</code></pre>\n\n<p>And following <code>AwardList</code> class:</p>\n\n<pre><code>public class AwardList {\n\n    private Flights[] flights;\n    private String[] connections;\n\n    private SaverEconomy saverEconomy;\n    private StandartEconomy standartEconomy;\n    private SaverBusiness saverBusiness;\n    private StandartFirst standartFirst;\n    private SaverFirst saverFirst;\n\n\n    public Flights[] getFlights() {\n        return flights;\n    }\n\n    public void setFlights(Flights[] flights) {\n        this.flights = flights;\n    }\n\n    public SaverEconomy getSaverEconomy() {\n        return saverEconomy;\n    }\n\n    public void setSaverEconomy(SaverEconomy saverEconomy) {\n        this.saverEconomy = saverEconomy;\n    }\n\n    public StandartEconomy getStandartEconomy() {\n        return standartEconomy;\n    }\n\n    public void setStandartEconomy(StandartEconomy standartEconomy) {\n        this.standartEconomy = standartEconomy;\n    }\n\n    public SaverBusiness getSaverBusiness() {\n        return saverBusiness;\n    }\n\n    public void setSaverBusiness(SaverBusiness saverBusiness) {\n        this.saverBusiness = saverBusiness;\n    }\n\n    public StandartFirst getStandartFirst() {\n        return standartFirst;\n    }\n\n    public void setStandartFirst(StandartFirst standartFirst) {\n        this.standartFirst = standartFirst;\n    }\n\n    public SaverFirst getSaverFirst() {\n        return saverFirst;\n    }\n\n    public void setSaverFirst(SaverFirst saverFirst) {\n        this.saverFirst = saverFirst;\n    }\n\n    public String[] getConnections() {\n        return connections;\n    }\n\n    public void setConnections(String[] connections) {\n        this.connections = connections;\n    }\n}\n</code></pre>\n\n<p>I want to convert json to pojo and save it in the database. I keep getting following error:</p>\n\n<blockquote>\n<pre><code>Exception in thread \"main\" java.lang.NoSuchMethodError: com.fasterxml.jackson.core.JsonFactory.requiresPropertyOrdering()Z\n  at com.fasterxml.jackson.databind.ObjectMapper.&lt;init&gt;(ObjectMapper.java:457)\n  at com.fasterxml.jackson.databind.ObjectMapper.&lt;init&gt;(ObjectMapper.java:379)\n  at Json.main(Json.java:72)\n</code></pre>\n</blockquote>\n"},{"tags":["java","android","kotlin"],"comments":[{"owner":{"account_id":11163581,"reputation":1050,"user_id":8192914,"display_name":"ganjaam"},"score":1,"creation_date":1689337765,"post_id":76686891,"comment_id":135202913,"body_markdown":"It would be best to try adding a P2P data transfer feature to your app. Check the android-developers-guides related to p2p data transfer and devise a strategy that suits your requirements.","body":"It would be best to try adding a P2P data transfer feature to your app. Check the android-developers-guides related to p2p data transfer and devise a strategy that suits your requirements."}],"answers":[{"tags":[],"owner":{"account_id":26792175,"reputation":126,"user_id":20385417,"display_name":"Nguyễn Minh Khoa"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689333328,"creation_date":1689333328,"answer_id":76687153,"question_id":76686891,"body_markdown":"I recommend use SD card to save data in this case","title":"Store User Pictures locally in android app and transfer them when the user changes device","body":"<p>I recommend use SD card to save data in this case</p>\n"}],"owner":{"account_id":26292251,"reputation":69,"user_id":19959092,"display_name":"Pantastix"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1689333328,"creation_date":1689330965,"question_id":76686891,"body_markdown":"i am developing an Android app where I need to store some user pictures. Is there an easy way to do this locally and where they get transferred to a new phone in case of an &quot;upgrade&quot; (so when the user changes to a new device)?\r\n\r\nI don&#39;t want you to use cloud options for this as I&#39;m not interested in paying for this at the moment.\r\n\r\nIs there a way like a folder within the Android gallery?\r\n(I am thinking of data transfer with Smart Switch)\r\n\r\nI am developing in Kotlin.","title":"Store User Pictures locally in android app and transfer them when the user changes device","body":"<p>i am developing an Android app where I need to store some user pictures. Is there an easy way to do this locally and where they get transferred to a new phone in case of an &quot;upgrade&quot; (so when the user changes to a new device)?</p>\n<p>I don't want you to use cloud options for this as I'm not interested in paying for this at the moment.</p>\n<p>Is there a way like a folder within the Android gallery?\n(I am thinking of data transfer with Smart Switch)</p>\n<p>I am developing in Kotlin.</p>\n"},{"tags":["java","jvm","garbage-collection","g1gc","session-cache"],"comments":[{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1689333179,"post_id":76686994,"comment_id":135201940,"body_markdown":"@tgdavies For a single SSL connection it has zero effect, because that holds a hard reference to its current session. However, as I understand it, connections can switch sessions, and multiple connections can share a session. If a session is no longer in the cache, it will probably result in some form of renegotiation to establish a new session.","body":"@tgdavies For a single SSL connection it has zero effect, because that holds a hard reference to its current session. However, as I understand it, connections can switch sessions, and multiple connections can share a session. If a session is no longer in the cache, it will probably result in some form of renegotiation to establish a new session."}],"answers":[{"comments":[{"owner":{"account_id":10923818,"reputation":606,"user_id":8085276,"display_name":"Ajay Kumar"},"score":0,"creation_date":1689332987,"post_id":76687095,"comment_id":135201894,"body_markdown":"Perfect. This is what I was looking for.","body":"Perfect. This is what I was looking for."},{"owner":{"account_id":10923818,"reputation":606,"user_id":8085276,"display_name":"Ajay Kumar"},"score":0,"creation_date":1689333181,"post_id":76687095,"comment_id":135201942,"body_markdown":"Also, If I keep the value of this to be 10k, then the only downside I see If I&#39;m creating too many connections frequently and this cache uses LRU, it will evict more items to be able to create new connections which would eventually produce more garbage for GC to pick (in future or right now depends)? Am I correct?","body":"Also, If I keep the value of this to be 10k, then the only downside I see If I&#39;m creating too many connections frequently and this cache uses LRU, it will evict more items to be able to create new connections which would eventually produce more garbage for GC to pick (in future or right now depends)? Am I correct?"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1689333255,"post_id":76687095,"comment_id":135201957,"body_markdown":"I think the downside is that sessions evicted from the cache can&#39;t be resumed, and have to be renegotiated. How often TLS attempts to resume sessions I&#39;m not sure...","body":"I think the downside is that sessions evicted from the cache can&#39;t be resumed, and have to be renegotiated. How often TLS attempts to resume sessions I&#39;m not sure..."},{"owner":{"account_id":10923818,"reputation":606,"user_id":8085276,"display_name":"Ajay Kumar"},"score":0,"creation_date":1689333257,"post_id":76687095,"comment_id":135201958,"body_markdown":"-Djavax.net.ssl.sessionCacheSize=10000 here 10k; is it in bytes? or in KB? Could you please confirm this as well?","body":"-Djavax.net.ssl.sessionCacheSize=10000 here 10k; is it in bytes? or in KB? Could you please confirm this as well?"},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1689333268,"post_id":76687095,"comment_id":135201959,"body_markdown":"@AjayKumar Basically yes, however, I wouldn&#39;t touch the setting unless you have clearly established that you need to change it. Don&#39;t just change it because a previous Java version used a different default.","body":"@AjayKumar Basically yes, however, I wouldn&#39;t touch the setting unless you have clearly established that you need to change it. Don&#39;t just change it because a previous Java version used a different default."},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":2,"creation_date":1689333372,"post_id":76687095,"comment_id":135201970,"body_markdown":"@AjayKumar No, it is the number of sessions in the cache.","body":"@AjayKumar No, it is the number of sessions in the cache."},{"owner":{"account_id":10923818,"reputation":606,"user_id":8085276,"display_name":"Ajay Kumar"},"score":1,"creation_date":1689335648,"post_id":76687095,"comment_id":135202429,"body_markdown":"Incase some future soul comes to comment: here is the link to the file: https://github.com/twosigma/OpenJDK/blob/master/src/java.base/share/classes/sun/security/util/Cache.java#L249","body":"Incase some future soul comes to comment: here is the link to the file: <a href=\"https://github.com/twosigma/OpenJDK/blob/master/src/java.base/share/classes/sun/security/util/Cache.java#L249\" rel=\"nofollow noreferrer\">github.com/twosigma/OpenJDK/blob/master/src/java.base/share/&zwnj;&#8203;&hellip;</a>"},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1689335798,"post_id":76687095,"comment_id":135202460,"body_markdown":"@Mark This needs to be specified properly for `SSLSessionContext`: not necessarily the LRU part but at least a statement that some session will be evicted and therefore cease to be resumeable, Or whatever the specification is supposed to be.","body":"@Mark This needs to be specified properly for <code>SSLSessionContext</code>: not necessarily the LRU part but at least a statement that some session will be evicted and therefore cease to be resumeable, Or whatever the specification is supposed to be."},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1689336937,"post_id":76687095,"comment_id":135202686,"body_markdown":"@user207421 That is covered by the documentation of [`SSLSession`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/javax/net/ssl/SSLSession.html): _&quot;Sessions may be invalidated due to policies affecting security or resource usage, or by an application explicitly calling invalidate. Session management policies are typically used to tune performance.&quot;_","body":"@user207421 That is covered by the documentation of <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/javax/net/ssl/SSLSession.html\" rel=\"nofollow noreferrer\"><code>SSLSession</code></a>: <i>&quot;Sessions may be invalidated due to policies affecting security or resource usage, or by an application explicitly calling invalidate. Session management policies are typically used to tune performance.&quot;</i>"}],"tags":[],"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"comment_count":9,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1689332809,"creation_date":1689332809,"answer_id":76687095,"question_id":76686994,"body_markdown":"In Adoptium OpenJDK 17.0.7 (and thus also other OpenJDK derivatives), the session cache is implemented in `sun.security.util.MemoryCache`, which you should be able to inspect in your IDE. This class uses a `LinkedHashMap` as an LRU (Least Recently Used) style cache, together with expiration and - optionally - reference tracking . When any method is invoked, it will expunge any cache items which are only softly reachable, and for some methods it will expunge expired entries. \r\n\r\nIf after adding new items in the cache, the size exceeds the configured maximum (even after expunging expired entries), it will remove the least recently used items until the cache size is within bounds.\r\n\r\nThis by itself does not trigger any GC, but will produce some garbage which will eventually be collected. It will also not prevent new sessions from being created.","title":"what happens when javax.net.ssl.sessionCacheSize becomes full?","body":"<p>In Adoptium OpenJDK 17.0.7 (and thus also other OpenJDK derivatives), the session cache is implemented in <code>sun.security.util.MemoryCache</code>, which you should be able to inspect in your IDE. This class uses a <code>LinkedHashMap</code> as an LRU (Least Recently Used) style cache, together with expiration and - optionally - reference tracking . When any method is invoked, it will expunge any cache items which are only softly reachable, and for some methods it will expunge expired entries.</p>\n<p>If after adding new items in the cache, the size exceeds the configured maximum (even after expunging expired entries), it will remove the least recently used items until the cache size is within bounds.</p>\n<p>This by itself does not trigger any GC, but will produce some garbage which will eventually be collected. It will also not prevent new sessions from being created.</p>\n"}],"owner":{"account_id":10923818,"reputation":606,"user_id":8085276,"display_name":"Ajay Kumar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":97,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76687095,"answer_count":1,"score":1,"last_activity_date":1689332809,"creation_date":1689331971,"question_id":76686994,"body_markdown":"I am trying to analyse one of our applications running in production, and currently the value of `javax.net.ssl.sessionCacheSize` is set to **10000**.\r\n\r\nwe are using java 17 in production, and by default in Java 17, value of `javax.net.ssl.sessionCacheSize` is set to **20480**.\r\n\r\nI wanted to understand what happens when this *sessionCacheSize* becomes full? Does it trigger a GC event (We use G1GC in Prod)? Or application response times would go high? or application won&#39;t accept new connect until the existing connections get dropped and cache has some space to create the session?","title":"what happens when javax.net.ssl.sessionCacheSize becomes full?","body":"<p>I am trying to analyse one of our applications running in production, and currently the value of <code>javax.net.ssl.sessionCacheSize</code> is set to <strong>10000</strong>.</p>\n<p>we are using java 17 in production, and by default in Java 17, value of <code>javax.net.ssl.sessionCacheSize</code> is set to <strong>20480</strong>.</p>\n<p>I wanted to understand what happens when this <em>sessionCacheSize</em> becomes full? Does it trigger a GC event (We use G1GC in Prod)? Or application response times would go high? or application won't accept new connect until the existing connections get dropped and cache has some space to create the session?</p>\n"},{"tags":["java","spring","hibernate","jpa","h2"],"comments":[{"owner":{"account_id":1223835,"reputation":75878,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":1,"creation_date":1561905656,"post_id":56825663,"comment_id":100203664,"body_markdown":"Your database design makes no sense. Instead of having a single row with dozens of columns for each currency, you should have a row for each currency (pair).","body":"Your database design makes no sense. Instead of having a single row with dozens of columns for each currency, you should have a row for each currency (pair)."},{"owner":{"account_id":6950003,"reputation":1952,"user_id":5332914,"accept_rate":75,"display_name":"user404"},"score":0,"creation_date":1561906041,"post_id":56825663,"comment_id":100203749,"body_markdown":"by this `CurrencyDTO findbyCurrencyDTO(String id);`, what is your purpose and what do you want to achieve?","body":"by this <code>CurrencyDTO findbyCurrencyDTO(String id);</code>, what is your purpose and what do you want to achieve?"},{"owner":{"account_id":15414849,"reputation":201,"user_id":11120659,"display_name":"Grafik Krystian"},"score":0,"creation_date":1561906142,"post_id":56825663,"comment_id":100203765,"body_markdown":"I want to get one value from db.","body":"I want to get one value from db."},{"owner":{"account_id":6390592,"reputation":16008,"user_id":4956907,"display_name":"Michał Krzywański"},"score":0,"creation_date":1561906255,"post_id":56825663,"comment_id":100203790,"body_markdown":"Your current design is really bad. What if you wanted to add another currency? You would have to modify the table! Instead create a table with 2 columns - currency name, and value - this way you will be able to modify, add, update, deleted your currencies in a better way.","body":"Your current design is really bad. What if you wanted to add another currency? You would have to modify the table! Instead create a table with 2 columns - currency name, and value - this way you will be able to modify, add, update, deleted your currencies in a better way."}],"answers":[{"tags":[],"owner":{"account_id":26247698,"reputation":38,"user_id":19920933,"display_name":"GTmember"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1689332730,"creation_date":1689332457,"answer_id":76687049,"question_id":56825663,"body_markdown":"This error occurs because `CurrencyDTO` doesn&#39;t have a `CurrencyDTO` field. For instance, you can add `findByCAD`. In your case, I suppose you can use `JpaRepository` method `findAllById`.","title":"Read from JPA repository No property .. found for type","body":"<p>This error occurs because <code>CurrencyDTO</code> doesn't have a <code>CurrencyDTO</code> field. For instance, you can add <code>findByCAD</code>. In your case, I suppose you can use <code>JpaRepository</code> method <code>findAllById</code>.</p>\n"}],"owner":{"account_id":15414849,"reputation":201,"user_id":11120659,"display_name":"Grafik Krystian"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":238,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76687049,"answer_count":1,"score":0,"last_activity_date":1689332730,"creation_date":1561905264,"question_id":56825663,"body_markdown":"I warmly welcome,\nI&#39;m trying to get one value from my repository. However, I have a problem at the beginning I struggled with a null pointer exeption error. Now I&#39;m getting: \n\n&gt; No property findbyCurrencyDTO found for type CurrencyDTO\n\n!. I am asking for help, I tried in various ways and to no avail.\n\n\n\n    public class Conversion {\n        @Autowired\n    \n        CurrencyRepository currencyRepository;\n    \n        public String conversion () {\n    \n            System.out.println(currencyRepository.findbyCurrencyDTO(&quot;PLN&quot;));\n    \n    \n            return &quot;ok&quot;;\n    \n        }\n\n\n    @Repository\n    public interface CurrencyRepository extends JpaRepository&lt;CurrencyDTO, Long&gt; {\n        CurrencyDTO findbyCurrencyDTO(String id);\n\n    }\n\n\n\n    @Entity\n    @Table(name = &quot;CurrencyDTO&quot;)\n    public class CurrencyDTO extends CurrencyAPIOutput implements Serializable {\n    private static final long serialVersionUID = 1L;\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private Long id;\n\n    private Double cAD;\n\n    private Double hKD;\n    private Double pLN;\n///ETC ,,\n\nTest\n\n\n     public static void main(String[] args) {\n\n        SpringApplication.run(FlightRadarApplication.class, args);\n        Conversion conversion = new Conversion();\n        conversion.conversion();\n\n\n    }\n\n\n\n\n\n&gt; Caused by:\n&gt; org.springframework.data.mapping.PropertyReferenceException: No\n&gt; property findbyCurrencyDTO found for type CurrencyDTO!\n\n[![Database][1]][1]\n\n  [1]: https://i.stack.imgur.com/8ufKe.png","title":"Read from JPA repository No property .. found for type","body":"<p>I warmly welcome,\nI'm trying to get one value from my repository. However, I have a problem at the beginning I struggled with a null pointer exeption error. Now I'm getting:</p>\n<blockquote>\n<p>No property findbyCurrencyDTO found for type CurrencyDTO</p>\n</blockquote>\n<p>!. I am asking for help, I tried in various ways and to no avail.</p>\n<pre><code>public class Conversion {\n    @Autowired\n\n    CurrencyRepository currencyRepository;\n\n    public String conversion () {\n\n        System.out.println(currencyRepository.findbyCurrencyDTO(&quot;PLN&quot;));\n\n\n        return &quot;ok&quot;;\n\n    }\n\n\n@Repository\npublic interface CurrencyRepository extends JpaRepository&lt;CurrencyDTO, Long&gt; {\n    CurrencyDTO findbyCurrencyDTO(String id);\n\n}\n\n\n\n@Entity\n@Table(name = &quot;CurrencyDTO&quot;)\npublic class CurrencyDTO extends CurrencyAPIOutput implements Serializable {\nprivate static final long serialVersionUID = 1L;\n\n@Id\n@GeneratedValue(strategy = GenerationType.AUTO)\nprivate Long id;\n\nprivate Double cAD;\n\nprivate Double hKD;\nprivate Double pLN;\n</code></pre>\n<p>///ETC ,,</p>\n<p>Test</p>\n<pre><code> public static void main(String[] args) {\n\n    SpringApplication.run(FlightRadarApplication.class, args);\n    Conversion conversion = new Conversion();\n    conversion.conversion();\n\n\n}\n</code></pre>\n<blockquote>\n<p>Caused by:\norg.springframework.data.mapping.PropertyReferenceException: No\nproperty findbyCurrencyDTO found for type CurrencyDTO!</p>\n</blockquote>\n<p><a href=\"https://i.stack.imgur.com/8ufKe.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8ufKe.png\" alt=\"Database\" /></a></p>\n"},{"tags":["java","spring-boot","thymeleaf"],"answers":[{"tags":[],"owner":{"account_id":1203431,"reputation":5728,"user_id":1173638,"accept_rate":67,"display_name":"Adder"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689332710,"creation_date":1689332710,"answer_id":76687087,"question_id":76686795,"body_markdown":"I added request and response to the Controller endpoint signature.\r\nThen I created a WebContext using this information.\r\nThe template now renders, I hope correctly.\r\n\r\nThe Controller source code now looks like this:\r\n```\r\n\t@GetMapping(path = &quot;/dynamicDetailInfo/info&quot;, produces = &quot;application/json&quot;)\r\n\t@PreAuthorize(MA_CMA_CHEF_CONDITION)\r\n\tpublic ResponseEntity&lt;AbsenceDynamicDetailInfo&gt; getDynamicDetail(Model model, @PathVariable Long locationId,\r\n\t\t\t@ModelAttribute AbsencePostInfo absencePostInfo, @AuthenticationPrincipal ApplicationUser appUser,\r\n\t\t\tHttpServletRequest request, HttpServletResponse response) {\r\n\t\tAbsenceDynamicDetailInfo dynamicDetailInfo = absenceService.getDynamicDetailInfo(absencePostInfo, appUser);\r\n\t\tdynamicDetailInfo.clearSensitiveData();\r\n\t\t//\r\n\t\t// Create the WebContext using the request and response objects\r\n\t\tWebContext context = new WebContext(request, response, request.getServletContext(), request.getLocale());\r\n\t\t//Set variables to be used in HTML template\r\n\t\tcontext.setVariable(&quot;dynamicDetailInfo&quot;, dynamicDetailInfo);\r\n\t\t// process the template using thymeleaf engine\r\n\t\tString html = templateEngine.process(&quot;includes/_fragment&quot;, singleton(&quot;absenceDynamicDetail&quot;), context);\r\n\t\tdynamicDetailInfo.setHtml(html);\r\n\t\treturn ResponseEntity.ok(dynamicDetailInfo);\r\n\t}\r\n```","title":"How to render a thymeleaf template to a String using a security context in String boot","body":"<p>I added request and response to the Controller endpoint signature.\nThen I created a WebContext using this information.\nThe template now renders, I hope correctly.</p>\n<p>The Controller source code now looks like this:</p>\n<pre><code>    @GetMapping(path = &quot;/dynamicDetailInfo/info&quot;, produces = &quot;application/json&quot;)\n    @PreAuthorize(MA_CMA_CHEF_CONDITION)\n    public ResponseEntity&lt;AbsenceDynamicDetailInfo&gt; getDynamicDetail(Model model, @PathVariable Long locationId,\n            @ModelAttribute AbsencePostInfo absencePostInfo, @AuthenticationPrincipal ApplicationUser appUser,\n            HttpServletRequest request, HttpServletResponse response) {\n        AbsenceDynamicDetailInfo dynamicDetailInfo = absenceService.getDynamicDetailInfo(absencePostInfo, appUser);\n        dynamicDetailInfo.clearSensitiveData();\n        //\n        // Create the WebContext using the request and response objects\n        WebContext context = new WebContext(request, response, request.getServletContext(), request.getLocale());\n        //Set variables to be used in HTML template\n        context.setVariable(&quot;dynamicDetailInfo&quot;, dynamicDetailInfo);\n        // process the template using thymeleaf engine\n        String html = templateEngine.process(&quot;includes/_fragment&quot;, singleton(&quot;absenceDynamicDetail&quot;), context);\n        dynamicDetailInfo.setHtml(html);\n        return ResponseEntity.ok(dynamicDetailInfo);\n    }\n</code></pre>\n"}],"owner":{"account_id":1203431,"reputation":5728,"user_id":1173638,"accept_rate":67,"display_name":"Adder"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1689332710,"creation_date":1689330179,"question_id":76686795,"body_markdown":"I want to render a thymeleaf template to String for use in a JSON return value (returned by the controller).\r\n\r\nMy code is this and it almost works.\r\n\r\n```\r\n//get template engine\r\n\t@Autowired\r\n\tprivate ISpringTemplateEngine templateEngine;\r\n\r\n//Controller code\r\n\t\tContext context = new Context();\r\n\t\tcontext.setVariable(&quot;dynamicDetailInfo&quot;, dynamicDetailInfo);\r\n\t\t\t\tString html = templateEngine.process(&quot;includes/_fragment&quot;, singleton(&quot;absenceDynamicDetail&quot;), context);\r\n\t\t\t\tSystem.out.println(html);\r\n\r\n```\r\n\r\nIt doesn&#39;t work because the template accesses a security context, and I am only providing a simple Context. This line in the template breaks:\r\n\r\n```\r\nsec:authorize=&quot;#authentication.principal.getCompany().getPackOrder().isInclTimetrack()&quot;\r\n```\r\n\r\nThe error message is:\r\n```\r\nCould not obtain authentication object: Thymeleaf context is neither an implementation of IWebContext (for Spring MVC apps) nor ISpringWebFluxContext (for Spring WebFlux apps).\r\n```\r\n\r\nHow can I acquire such a Context and use it with my Controller code?\r\nDo you know any keywords I could search for?","title":"How to render a thymeleaf template to a String using a security context in String boot","body":"<p>I want to render a thymeleaf template to String for use in a JSON return value (returned by the controller).</p>\n<p>My code is this and it almost works.</p>\n<pre><code>//get template engine\n    @Autowired\n    private ISpringTemplateEngine templateEngine;\n\n//Controller code\n        Context context = new Context();\n        context.setVariable(&quot;dynamicDetailInfo&quot;, dynamicDetailInfo);\n                String html = templateEngine.process(&quot;includes/_fragment&quot;, singleton(&quot;absenceDynamicDetail&quot;), context);\n                System.out.println(html);\n\n</code></pre>\n<p>It doesn't work because the template accesses a security context, and I am only providing a simple Context. This line in the template breaks:</p>\n<pre><code>sec:authorize=&quot;#authentication.principal.getCompany().getPackOrder().isInclTimetrack()&quot;\n</code></pre>\n<p>The error message is:</p>\n<pre><code>Could not obtain authentication object: Thymeleaf context is neither an implementation of IWebContext (for Spring MVC apps) nor ISpringWebFluxContext (for Spring WebFlux apps).\n</code></pre>\n<p>How can I acquire such a Context and use it with my Controller code?\nDo you know any keywords I could search for?</p>\n"},{"tags":["java","osgi","eclipse-rcp","log4j2","rcp"],"answers":[{"tags":[],"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1689332630,"creation_date":1689332630,"answer_id":76687075,"question_id":76685874,"body_markdown":"That was reported as issue [apache/logging-log4j2#1367](https://github.com/apache/logging-log4j2/issues/1367) and should be solved in the `2.20.1-SNAPSHOT` snapshots.","title":"Log4j is unable to load OSGI services","body":"<p>That was reported as issue <a href=\"https://github.com/apache/logging-log4j2/issues/1367\" rel=\"nofollow noreferrer\">apache/logging-log4j2#1367</a> and should be solved in the <code>2.20.1-SNAPSHOT</code> snapshots.</p>\n"}],"owner":{"account_id":341185,"reputation":16364,"user_id":671639,"accept_rate":69,"display_name":"BetaRide"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":342,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1689332630,"creation_date":1689322352,"question_id":76685874,"body_markdown":"After updating log4j from 2.17.1 to 2.20.0 for a RCP application (OSGI!) we are getting lot&#39;s of exeptions on start-up.\r\n\r\nFor some years we were happily using the workrounds for OSGI mentioned in \r\n\r\n - https://stackoverflow.com/q/30045873/671639\r\n - https://craftsmen.nl/getting-log4j2-to-work-in-an-osgi-context/\r\n\r\nLooking at the log4j2 source code in github, especially the new [OsgiServiceLocator.java][1] I can see that there are substantial changes regarding OSGI.\r\n\r\nUnfortunately I cannot find any information about how to get this working for an RCP application.\r\n\r\nAny ideas?\r\n\r\nExceptions:\r\n\r\n    ERROR StatusLogger Unable to load OSGI services for service class org.apache.logging.log4j.spi.Provider\r\n     java.lang.NullPointerException: Cannot invoke &quot;org.osgi.framework.BundleContext.getServiceReferences(java.lang.Class, String)&quot; because &quot;ctx&quot; is null\r\n    \tat org.apache.logging.log4j.util.OsgiServiceLocator.loadServices(OsgiServiceLocator.java:61)\r\n    \tat org.apache.logging.log4j.util.ServiceLoaderUtil.loadServices(ServiceLoaderUtil.java:92)\r\n    \tat org.apache.logging.log4j.util.ServiceLoaderUtil.loadServices(ServiceLoaderUtil.java:77)\r\n    \tat org.apache.logging.log4j.util.ProviderUtil.&lt;init&gt;(ProviderUtil.java:67)\r\n    \tat org.apache.logging.log4j.util.ProviderUtil.lazyInit(ProviderUtil.java:145)\r\n    \tat org.apache.logging.log4j.util.ProviderUtil.hasProviders(ProviderUtil.java:129)\r\n    \tat org.apache.logging.log4j.LogManager.&lt;clinit&gt;(LogManager.java:90)\r\n\r\n    ERROR StatusLogger Unable to load OSGI services for service interface org.apache.logging.log4j.core.util.ContextDataProvider\r\n     java.lang.NullPointerException: Cannot invoke &quot;org.osgi.framework.BundleContext.getServiceReferences(java.lang.Class, String)&quot; because &quot;ctx&quot; is null\r\n    \tat org.apache.logging.log4j.util.OsgiServiceLocator.loadServices(OsgiServiceLocator.java:61)\r\n    \tat org.apache.logging.log4j.util.ServiceLoaderUtil.loadServices(ServiceLoaderUtil.java:92)\r\n    \tat org.apache.logging.log4j.util.ServiceLoaderUtil.loadServices(ServiceLoaderUtil.java:77)\r\n    \tat org.apache.logging.log4j.core.impl.ThreadContextDataInjector.getServiceProviders(ThreadContextDataInjector.java:77)\r\n    \tat org.apache.logging.log4j.core.impl.ThreadContextDataInjector.&lt;clinit&gt;(ThreadContextDataInjector.java:64)\r\n    \tat org.apache.logging.log4j.core.impl.ThreadContextDataInjector$ForDefaultThreadContextMap.&lt;init&gt;(ThreadContextDataInjector.java:93)\r\n    \tat org.apache.logging.log4j.core.impl.ContextDataInjectorFactory.createDefaultInjector(ContextDataInjectorFactory.java:91)\r\n    \tat org.apache.logging.log4j.core.impl.ContextDataInjectorFactory.createInjector(ContextDataInjectorFactory.java:71)\r\n    \tat org.apache.logging.log4j.core.lookup.ContextMapLookup.&lt;init&gt;(ContextMapLookup.java:34)\r\n    \tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n    \tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77)\r\n    \tat java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n    \tat java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)\r\n    \tat java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480)\r\n    \tat org.apache.logging.log4j.core.util.ReflectionUtil.instantiate(ReflectionUtil.java:189)\r\n    \tat org.apache.logging.log4j.core.lookup.Interpolator.&lt;init&gt;(Interpolator.java:86)\r\n    \tat org.apache.logging.log4j.core.lookup.Interpolator.&lt;init&gt;(Interpolator.java:105)\r\n    \tat org.apache.logging.log4j.core.config.AbstractConfiguration.&lt;init&gt;(AbstractConfiguration.java:135)\r\n    \tat org.apache.logging.log4j.core.config.NullConfiguration.&lt;init&gt;(NullConfiguration.java:32)\r\n    \tat org.apache.logging.log4j.core.LoggerContext.&lt;clinit&gt;(LoggerContext.java:74)\r\n    \tat org.apache.logging.log4j.core.selector.ClassLoaderContextSelector.createContext(ClassLoaderContextSelector.java:254)\r\n    \tat org.apache.logging.log4j.core.selector.ClassLoaderContextSelector.locateContext(ClassLoaderContextSelector.java:218)\r\n    \tat org.apache.logging.log4j.core.selector.ClassLoaderContextSelector.getContext(ClassLoaderContextSelector.java:136)\r\n    \tat org.apache.logging.log4j.core.selector.ClassLoaderContextSelector.getContext(ClassLoaderContextSelector.java:123)\r\n    \tat org.apache.logging.log4j.core.selector.ClassLoaderContextSelector.getContext(ClassLoaderContextSelector.java:117)\r\n    \tat org.apache.logging.log4j.core.impl.Log4jContextFactory.getContext(Log4jContextFactory.java:150)\r\n    \tat org.apache.logging.log4j.core.impl.Log4jContextFactory.getContext(Log4jContextFactory.java:47)\r\n    \tat org.apache.logging.log4j.LogManager.getContext(LogManager.java:196)\r\n    \tat org.apache.logging.log4j.LogManager.getLogger(LogManager.java:599)\r\n\r\n    ERROR StatusLogger Unable to load OSGI services for service interface org.apache.logging.log4j.core.util.WatchEventService\r\n     java.lang.NullPointerException: Cannot invoke &quot;org.osgi.framework.BundleContext.getServiceReferences(java.lang.Class, String)&quot; because &quot;ctx&quot; is null\r\n    \tat org.apache.logging.log4j.util.OsgiServiceLocator.loadServices(OsgiServiceLocator.java:61)\r\n    \tat org.apache.logging.log4j.util.ServiceLoaderUtil.loadServices(ServiceLoaderUtil.java:92)\r\n    \tat org.apache.logging.log4j.util.ServiceLoaderUtil.loadServices(ServiceLoaderUtil.java:77)\r\n    \tat org.apache.logging.log4j.core.util.WatchManager.&lt;init&gt;(WatchManager.java:137)\r\n    \tat org.apache.logging.log4j.core.config.AbstractConfiguration.&lt;init&gt;(AbstractConfiguration.java:142)\r\n    \tat org.apache.logging.log4j.core.config.NullConfiguration.&lt;init&gt;(NullConfiguration.java:32)\r\n    \tat org.apache.logging.log4j.core.LoggerContext.&lt;clinit&gt;(LoggerContext.java:74)\r\n    \tat org.apache.logging.log4j.core.selector.ClassLoaderContextSelector.createContext(ClassLoaderContextSelector.java:254)\r\n    \tat org.apache.logging.log4j.core.selector.ClassLoaderContextSelector.locateContext(ClassLoaderContextSelector.java:218)\r\n    \tat org.apache.logging.log4j.core.selector.ClassLoaderContextSelector.getContext(ClassLoaderContextSelector.java:136)\r\n    \tat org.apache.logging.log4j.core.selector.ClassLoaderContextSelector.getContext(ClassLoaderContextSelector.java:123)\r\n    \tat org.apache.logging.log4j.core.selector.ClassLoaderContextSelector.getContext(ClassLoaderContextSelector.java:117)\r\n    \tat org.apache.logging.log4j.core.impl.Log4jContextFactory.getContext(Log4jContextFactory.java:150)\r\n    \tat org.apache.logging.log4j.core.impl.Log4jContextFactory.getContext(Log4jContextFactory.java:47)\r\n    \tat org.apache.logging.log4j.LogManager.getContext(LogManager.java:196)\r\n    \tat org.apache.logging.log4j.LogManager.getLogger(LogManager.java:599)\r\n\r\n\r\n  [1]: https://github.com/apache/logging-log4j2/blob/2d3ab5268a3ff7dbdc127eb480086a708b10acf6/log4j-api/src/main/java/org/apache/logging/log4j/util/OsgiServiceLocator.java","title":"Log4j is unable to load OSGI services","body":"<p>After updating log4j from 2.17.1 to 2.20.0 for a RCP application (OSGI!) we are getting lot's of exeptions on start-up.</p>\n<p>For some years we were happily using the workrounds for OSGI mentioned in</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/q/30045873/671639\">Log4j2 api cannot find Log4j2 core in OSGi environment</a></li>\n<li><a href=\"https://craftsmen.nl/getting-log4j2-to-work-in-an-osgi-context/\" rel=\"nofollow noreferrer\">https://craftsmen.nl/getting-log4j2-to-work-in-an-osgi-context/</a></li>\n</ul>\n<p>Looking at the log4j2 source code in github, especially the new <a href=\"https://github.com/apache/logging-log4j2/blob/2d3ab5268a3ff7dbdc127eb480086a708b10acf6/log4j-api/src/main/java/org/apache/logging/log4j/util/OsgiServiceLocator.java\" rel=\"nofollow noreferrer\">OsgiServiceLocator.java</a> I can see that there are substantial changes regarding OSGI.</p>\n<p>Unfortunately I cannot find any information about how to get this working for an RCP application.</p>\n<p>Any ideas?</p>\n<p>Exceptions:</p>\n<pre><code>ERROR StatusLogger Unable to load OSGI services for service class org.apache.logging.log4j.spi.Provider\n java.lang.NullPointerException: Cannot invoke &quot;org.osgi.framework.BundleContext.getServiceReferences(java.lang.Class, String)&quot; because &quot;ctx&quot; is null\n    at org.apache.logging.log4j.util.OsgiServiceLocator.loadServices(OsgiServiceLocator.java:61)\n    at org.apache.logging.log4j.util.ServiceLoaderUtil.loadServices(ServiceLoaderUtil.java:92)\n    at org.apache.logging.log4j.util.ServiceLoaderUtil.loadServices(ServiceLoaderUtil.java:77)\n    at org.apache.logging.log4j.util.ProviderUtil.&lt;init&gt;(ProviderUtil.java:67)\n    at org.apache.logging.log4j.util.ProviderUtil.lazyInit(ProviderUtil.java:145)\n    at org.apache.logging.log4j.util.ProviderUtil.hasProviders(ProviderUtil.java:129)\n    at org.apache.logging.log4j.LogManager.&lt;clinit&gt;(LogManager.java:90)\n\nERROR StatusLogger Unable to load OSGI services for service interface org.apache.logging.log4j.core.util.ContextDataProvider\n java.lang.NullPointerException: Cannot invoke &quot;org.osgi.framework.BundleContext.getServiceReferences(java.lang.Class, String)&quot; because &quot;ctx&quot; is null\n    at org.apache.logging.log4j.util.OsgiServiceLocator.loadServices(OsgiServiceLocator.java:61)\n    at org.apache.logging.log4j.util.ServiceLoaderUtil.loadServices(ServiceLoaderUtil.java:92)\n    at org.apache.logging.log4j.util.ServiceLoaderUtil.loadServices(ServiceLoaderUtil.java:77)\n    at org.apache.logging.log4j.core.impl.ThreadContextDataInjector.getServiceProviders(ThreadContextDataInjector.java:77)\n    at org.apache.logging.log4j.core.impl.ThreadContextDataInjector.&lt;clinit&gt;(ThreadContextDataInjector.java:64)\n    at org.apache.logging.log4j.core.impl.ThreadContextDataInjector$ForDefaultThreadContextMap.&lt;init&gt;(ThreadContextDataInjector.java:93)\n    at org.apache.logging.log4j.core.impl.ContextDataInjectorFactory.createDefaultInjector(ContextDataInjectorFactory.java:91)\n    at org.apache.logging.log4j.core.impl.ContextDataInjectorFactory.createInjector(ContextDataInjectorFactory.java:71)\n    at org.apache.logging.log4j.core.lookup.ContextMapLookup.&lt;init&gt;(ContextMapLookup.java:34)\n    at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n    at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n    at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)\n    at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480)\n    at org.apache.logging.log4j.core.util.ReflectionUtil.instantiate(ReflectionUtil.java:189)\n    at org.apache.logging.log4j.core.lookup.Interpolator.&lt;init&gt;(Interpolator.java:86)\n    at org.apache.logging.log4j.core.lookup.Interpolator.&lt;init&gt;(Interpolator.java:105)\n    at org.apache.logging.log4j.core.config.AbstractConfiguration.&lt;init&gt;(AbstractConfiguration.java:135)\n    at org.apache.logging.log4j.core.config.NullConfiguration.&lt;init&gt;(NullConfiguration.java:32)\n    at org.apache.logging.log4j.core.LoggerContext.&lt;clinit&gt;(LoggerContext.java:74)\n    at org.apache.logging.log4j.core.selector.ClassLoaderContextSelector.createContext(ClassLoaderContextSelector.java:254)\n    at org.apache.logging.log4j.core.selector.ClassLoaderContextSelector.locateContext(ClassLoaderContextSelector.java:218)\n    at org.apache.logging.log4j.core.selector.ClassLoaderContextSelector.getContext(ClassLoaderContextSelector.java:136)\n    at org.apache.logging.log4j.core.selector.ClassLoaderContextSelector.getContext(ClassLoaderContextSelector.java:123)\n    at org.apache.logging.log4j.core.selector.ClassLoaderContextSelector.getContext(ClassLoaderContextSelector.java:117)\n    at org.apache.logging.log4j.core.impl.Log4jContextFactory.getContext(Log4jContextFactory.java:150)\n    at org.apache.logging.log4j.core.impl.Log4jContextFactory.getContext(Log4jContextFactory.java:47)\n    at org.apache.logging.log4j.LogManager.getContext(LogManager.java:196)\n    at org.apache.logging.log4j.LogManager.getLogger(LogManager.java:599)\n\nERROR StatusLogger Unable to load OSGI services for service interface org.apache.logging.log4j.core.util.WatchEventService\n java.lang.NullPointerException: Cannot invoke &quot;org.osgi.framework.BundleContext.getServiceReferences(java.lang.Class, String)&quot; because &quot;ctx&quot; is null\n    at org.apache.logging.log4j.util.OsgiServiceLocator.loadServices(OsgiServiceLocator.java:61)\n    at org.apache.logging.log4j.util.ServiceLoaderUtil.loadServices(ServiceLoaderUtil.java:92)\n    at org.apache.logging.log4j.util.ServiceLoaderUtil.loadServices(ServiceLoaderUtil.java:77)\n    at org.apache.logging.log4j.core.util.WatchManager.&lt;init&gt;(WatchManager.java:137)\n    at org.apache.logging.log4j.core.config.AbstractConfiguration.&lt;init&gt;(AbstractConfiguration.java:142)\n    at org.apache.logging.log4j.core.config.NullConfiguration.&lt;init&gt;(NullConfiguration.java:32)\n    at org.apache.logging.log4j.core.LoggerContext.&lt;clinit&gt;(LoggerContext.java:74)\n    at org.apache.logging.log4j.core.selector.ClassLoaderContextSelector.createContext(ClassLoaderContextSelector.java:254)\n    at org.apache.logging.log4j.core.selector.ClassLoaderContextSelector.locateContext(ClassLoaderContextSelector.java:218)\n    at org.apache.logging.log4j.core.selector.ClassLoaderContextSelector.getContext(ClassLoaderContextSelector.java:136)\n    at org.apache.logging.log4j.core.selector.ClassLoaderContextSelector.getContext(ClassLoaderContextSelector.java:123)\n    at org.apache.logging.log4j.core.selector.ClassLoaderContextSelector.getContext(ClassLoaderContextSelector.java:117)\n    at org.apache.logging.log4j.core.impl.Log4jContextFactory.getContext(Log4jContextFactory.java:150)\n    at org.apache.logging.log4j.core.impl.Log4jContextFactory.getContext(Log4jContextFactory.java:47)\n    at org.apache.logging.log4j.LogManager.getContext(LogManager.java:196)\n    at org.apache.logging.log4j.LogManager.getLogger(LogManager.java:599)\n</code></pre>\n"},{"tags":["java","arrays","kotlin","uml"],"comments":[{"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"score":1,"creation_date":1689246682,"post_id":76678567,"comment_id":135187768,"body_markdown":"Unless you want to produce a general (like Pseudo Code) UML diagram, you should use the data structures (or primitives, if present) of the programming language you use for that project. Since Kotlin does not have any primitives `int[]` seems inappropriate for a UML class diagram of a Kotlin project.","body":"Unless you want to produce a general (like Pseudo Code) UML diagram, you should use the data structures (or primitives, if present) of the programming language you use for that project. Since Kotlin does not have any primitives <code>int[]</code> seems inappropriate for a UML class diagram of a Kotlin project."},{"owner":{"account_id":15980430,"reputation":424,"user_id":11532220,"display_name":"Ali Dehkhodaei"},"score":0,"creation_date":1689247729,"post_id":76678567,"comment_id":135187979,"body_markdown":"My source code is Kotlin, so should I not put my datatype based on Kotlin in uml?","body":"My source code is Kotlin, so should I not put my datatype based on Kotlin in uml?"},{"owner":{"account_id":15980430,"reputation":424,"user_id":11532220,"display_name":"Ali Dehkhodaei"},"score":0,"creation_date":1689247811,"post_id":76678567,"comment_id":135188000,"body_markdown":"Can i use Java data type for Kotlin in uml class?","body":"Can i use Java data type for Kotlin in uml class?"},{"owner":{"account_id":4118713,"reputation":35681,"user_id":3379653,"accept_rate":82,"display_name":"qwerty_so"},"score":1,"creation_date":1689247887,"post_id":76678567,"comment_id":135188024,"body_markdown":"Use the UML notation and leave the rest to the coder reading the diagram. They will know how to handle it. Generally, UML is ignorant to prg-languages. So you keep it on an abstract level. Coders can do the transformation on the fly - even from UML to other prg-lannguages than you initially targeted.","body":"Use the UML notation and leave the rest to the coder reading the diagram. They will know how to handle it. Generally, UML is ignorant to prg-languages. So you keep it on an abstract level. Coders can do the transformation on the fly - even from UML to other prg-lannguages than you initially targeted."},{"owner":{"account_id":15980430,"reputation":424,"user_id":11532220,"display_name":"Ali Dehkhodaei"},"score":0,"creation_date":1689248299,"post_id":76678567,"comment_id":135188118,"body_markdown":"I don&#39;t fine my answer, please expliane more.","body":"I don&#39;t fine my answer, please expliane more."},{"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"score":0,"creation_date":1689249334,"post_id":76678567,"comment_id":135188339,"body_markdown":"What I was trying to say is, if you paint a class diagram for a Kotlin project, then use data types from Kotlin (e.g. `+ myArray: Array&lt;Int&gt;`) and when you do the same thing for Java use Java types (e.g. `+ myArray: int[]`)","body":"What I was trying to say is, if you paint a class diagram for a Kotlin project, then use data types from Kotlin (e.g. <code>+ myArray: Array&lt;Int&gt;</code>) and when you do the same thing for Java use Java types (e.g. <code>+ myArray: int[]</code>)"},{"owner":{"account_id":7177885,"reputation":5820,"user_id":5483079,"accept_rate":60,"display_name":"www.admiraalit.nl"},"score":1,"creation_date":1689250150,"post_id":76678567,"comment_id":135188489,"body_markdown":"If you need to be strictly UML compliant, then the type shall be `Integer[*]`.","body":"If you need to be strictly UML compliant, then the type shall be <code>Integer[*]</code>."},{"owner":{"account_id":15980430,"reputation":424,"user_id":11532220,"display_name":"Ali Dehkhodaei"},"score":0,"creation_date":1689250588,"post_id":76678567,"comment_id":135188560,"body_markdown":"@deHaar I know that in the case of&#160;Int[], the size of the array can be specified as&#160;Int[30]. However, I&#39;m unsure about how to indicate the size of the array using the&#160;Array&lt;Int&gt;&#160;notation.","body":"@deHaar I know that in the case of Int[], the size of the array can be specified as Int[30]. However, I&#39;m unsure about how to indicate the size of the array using the Array&lt;Int&gt; notation."},{"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"score":0,"creation_date":1689250885,"post_id":76678567,"comment_id":135188625,"body_markdown":"OK, in that very special case I would even use an `IntArray` instead of an `Array&lt;Int&gt;` and that can be dimensioned via constructor: `IntArray(5)`. See [Kotlin basic types](https://kotlinlang.org/docs/basic-types.html), the equivalent of Java primitives in Kotlin. If you stick to an `Array&lt;Int&gt;`, use its constructor, too: e.g. `Array&lt;Int&gt;(20)`. Both options contain all the information needed in a class diagram: name, type, type of content and dimension.","body":"OK, in that very special case I would even use an <code>IntArray</code> instead of an <code>Array&lt;Int&gt;</code> and that can be dimensioned via constructor: <code>IntArray(5)</code>. See <a href=\"https://kotlinlang.org/docs/basic-types.html\" rel=\"nofollow noreferrer\">Kotlin basic types</a>, the equivalent of Java primitives in Kotlin. If you stick to an <code>Array&lt;Int&gt;</code>, use its constructor, too: e.g. <code>Array&lt;Int&gt;(20)</code>. Both options contain all the information needed in a class diagram: name, type, type of content and dimension."},{"owner":{"account_id":15980430,"reputation":424,"user_id":11532220,"display_name":"Ali Dehkhodaei"},"score":0,"creation_date":1689251657,"post_id":76678567,"comment_id":135188787,"body_markdown":"Thank you&#128591;&#127995;&#128591;&#127995;","body":"Thank you🙏🏻🙏🏻"},{"owner":{"account_id":238127,"reputation":86162,"user_id":506796,"accept_rate":83,"display_name":"Tenfour04"},"score":1,"creation_date":1689252922,"post_id":76678567,"comment_id":135189129,"body_markdown":"Voted to reopen because the question this was supposedly a duplicate of was entirely different than this question. However, this question might be off-topic for being opinion-based.","body":"Voted to reopen because the question this was supposedly a duplicate of was entirely different than this question. However, this question might be off-topic for being opinion-based."},{"owner":{"account_id":238127,"reputation":86162,"user_id":506796,"accept_rate":83,"display_name":"Tenfour04"},"score":0,"creation_date":1689253248,"post_id":76678567,"comment_id":135189243,"body_markdown":"A Java `int[]` is a Kotlin `IntArray` and a Java `Integer[]` is a Kotlin `Array&lt;Int&gt;`. So, it depends if you want to get into the weeds of primitives vs. non-primitives in your diagram or not. Usually, Lists are preferred to arrays anyway, but I would expect most use cases for a UML to not be so specific about the implementation details.","body":"A Java <code>int[]</code> is a Kotlin <code>IntArray</code> and a Java <code>Integer[]</code> is a Kotlin <code>Array&lt;Int&gt;</code>. So, it depends if you want to get into the weeds of primitives vs. non-primitives in your diagram or not. Usually, Lists are preferred to arrays anyway, but I would expect most use cases for a UML to not be so specific about the implementation details."},{"owner":{"account_id":4589753,"reputation":69966,"user_id":3723423,"accept_rate":50,"display_name":"Christophe"},"score":0,"creation_date":1689704900,"post_id":76678567,"comment_id":135250612,"body_markdown":"@deHaar your approach does not work in a consistent manner in UML.  Because a class `A` having a property  `p:B[0..30]`  is equivalent to a class A being associated with class  B, where the B end is owned by A and its mutiplicity is 0..30.  Both notations are compatible with an `array&lt;B&gt;`. While you would not often use the second notation for arrays of ints or of strings, it is very common with arrays of other types. Your notation with language specific containers would not work with the asocitive notation.","body":"@deHaar your approach does not work in a consistent manner in UML.  Because a class <code>A</code> having a property  <code>p:B[0..30]</code>  is equivalent to a class A being associated with class  B, where the B end is owned by A and its mutiplicity is 0..30.  Both notations are compatible with an <code>array&lt;B&gt;</code>. While you would not often use the second notation for arrays of ints or of strings, it is very common with arrays of other types. Your notation with language specific containers would not work with the asocitive notation."}],"answers":[{"comments":[{"owner":{"account_id":4589753,"reputation":69966,"user_id":3723423,"accept_rate":50,"display_name":"Christophe"},"score":0,"creation_date":1689275467,"post_id":76680085,"comment_id":135194404,"body_markdown":"Very clear answer. When you write &quot;define the specific primitve datatypes&quot;, do you lean a language specific profile?","body":"Very clear answer. When you write &quot;define the specific primitve datatypes&quot;, do you lean a language specific profile?"},{"owner":{"account_id":15980430,"reputation":424,"user_id":11532220,"display_name":"Ali Dehkhodaei"},"score":0,"creation_date":1689332713,"post_id":76680085,"comment_id":135201845,"body_markdown":"Please revirw my question, I was imporove it.","body":"Please revirw my question, I was imporove it."},{"owner":{"account_id":13049371,"reputation":2767,"user_id":9430250,"display_name":"Axel Scheithauer"},"score":0,"creation_date":1689359794,"post_id":76680085,"comment_id":135207761,"body_markdown":"@Christophe No, a profile would not be the right place. It would be a model library. The primitive datatypes of the UML are also defined in a library.","body":"@Christophe No, a profile would not be the right place. It would be a model library. The primitive datatypes of the UML are also defined in a library."},{"owner":{"account_id":13049371,"reputation":2767,"user_id":9430250,"display_name":"Axel Scheithauer"},"score":1,"creation_date":1689360048,"post_id":76680085,"comment_id":135207808,"body_markdown":"@AliDehkhodaei The third option is correct UML (except that the UML datatype is called `Integer`)","body":"@AliDehkhodaei The third option is correct UML (except that the UML datatype is called <code>Integer</code>)"},{"owner":{"account_id":4589753,"reputation":69966,"user_id":3723423,"accept_rate":50,"display_name":"Christophe"},"score":0,"creation_date":1689836473,"post_id":76680085,"comment_id":135270306,"body_markdown":"@AliDehkhodaei the key difference here is semantic. When you write IntArray(30) in kotlin, it means that there is 1 property of type array, whereas in UML Interger[30] means that each instance is linked (&quot;associated&quot;) with 30 integers (i.e. how it is implemented does not matter). If you want to keep UML semantics (because in the end, what matters for you is that there are 30 grades) but give a hint how the association /multiplicity is ilplemented, you could use a language specific stereotype to suggest the container/collection type to be used (e.g. &#171;IntArray&#187;)","body":"@AliDehkhodaei the key difference here is semantic. When you write IntArray(30) in kotlin, it means that there is 1 property of type array, whereas in UML Interger[30] means that each instance is linked (&quot;associated&quot;) with 30 integers (i.e. how it is implemented does not matter). If you want to keep UML semantics (because in the end, what matters for you is that there are 30 grades) but give a hint how the association /multiplicity is ilplemented, you could use a language specific stereotype to suggest the container/collection type to be used (e.g. &#171;IntArray&#187;)"},{"owner":{"account_id":15980430,"reputation":424,"user_id":11532220,"display_name":"Ali Dehkhodaei"},"score":0,"creation_date":1689840397,"post_id":76680085,"comment_id":135271073,"body_markdown":"@Christophe So all three options are correct?","body":"@Christophe So all three options are correct?"},{"owner":{"account_id":4589753,"reputation":69966,"user_id":3723423,"accept_rate":50,"display_name":"Christophe"},"score":0,"creation_date":1689877599,"post_id":76680085,"comment_id":135279282,"body_markdown":"@AliDehkhodaei not really: 1) says you have 30 arrays (not an array of 30 elements);  2) would be ok, if you would define the langage&#39;s primitive types as Axel explained. However no known multiplicity in uml; 3) is correct and accurate as Axel explained. This one could be enriched with a stereotype as explained in my previous comment.","body":"@AliDehkhodaei not really: 1) says you have 30 arrays (not an array of 30 elements);  2) would be ok, if you would define the langage&#39;s primitive types as Axel explained. However no known multiplicity in uml; 3) is correct and accurate as Axel explained. This one could be enriched with a stereotype as explained in my previous comment."}],"tags":[],"owner":{"account_id":13049371,"reputation":2767,"user_id":9430250,"display_name":"Axel Scheithauer"},"comment_count":7,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1689255840,"creation_date":1689255840,"answer_id":76680085,"question_id":76678567,"body_markdown":"In UML there is no concept of an array. Instead there are properties that have a multiplicity. With this you can specify the number of allowed elements and their ordering and uniqueness. An array defines an ordering, but doesn&#39;t require the elements in it to be unique. So it will be specified like this:\r\n\r\n`property1:Integer[10..30]{ordered, non unique}`. \r\n\r\nThis would be shown in the attributes compartment of a class. \r\n\r\nHow this is translated into a textual notation of a programming language is up to the code generator and should be of no concern to the modeler.\r\n\r\nOf course, it might make sense to define the specific primitive datatypes of your programming language, so that readers of the diagram see familiar types. Alternatively you can define a mapping from the predefined UML primitive types.","title":"How to represent an array in UML class diagram for Kotlin?","body":"<p>In UML there is no concept of an array. Instead there are properties that have a multiplicity. With this you can specify the number of allowed elements and their ordering and uniqueness. An array defines an ordering, but doesn't require the elements in it to be unique. So it will be specified like this:</p>\n<p><code>property1:Integer[10..30]{ordered, non unique}</code>.</p>\n<p>This would be shown in the attributes compartment of a class.</p>\n<p>How this is translated into a textual notation of a programming language is up to the code generator and should be of no concern to the modeler.</p>\n<p>Of course, it might make sense to define the specific primitive datatypes of your programming language, so that readers of the diagram see familiar types. Alternatively you can define a mapping from the predefined UML primitive types.</p>\n"}],"owner":{"account_id":15980430,"reputation":424,"user_id":11532220,"display_name":"Ali Dehkhodaei"},"comment_count":13,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":99,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1689332516,"creation_date":1689245619,"question_id":76678567,"body_markdown":"I  have the following Kotlin class:\r\n```\r\nclass Student {\r\n\r\n  private val courses: Array&lt;String&gt; = Array(30) {&quot;&quot;}\r\n  \r\n  private val grades: IntArray = IntArray(30)\r\n\r\n}\r\n```\r\nI am trying to create a UML class diagram for this Kotlin class. I am confused about the way to model the array attributes courses and grades.\r\n\r\nWhich of these UML representations is correct?\r\n\r\n1.\r\n```\r\n-courses: Array&lt;String&gt;[30]\r\n-grades: IntArray[30]\r\n```\r\n2.\r\n```\r\n-courses: Array&lt;String&gt;(30)\r\n-grades: IntArray(30)\r\n```\r\n3.\r\n```\r\n-courses: String[30]\r\n-grades: Int[30]\r\n```","title":"How to represent an array in UML class diagram for Kotlin?","body":"<p>I  have the following Kotlin class:</p>\n<pre><code>class Student {\n\n  private val courses: Array&lt;String&gt; = Array(30) {&quot;&quot;}\n  \n  private val grades: IntArray = IntArray(30)\n\n}\n</code></pre>\n<p>I am trying to create a UML class diagram for this Kotlin class. I am confused about the way to model the array attributes courses and grades.</p>\n<p>Which of these UML representations is correct?</p>\n<p>1.</p>\n<pre><code>-courses: Array&lt;String&gt;[30]\n-grades: IntArray[30]\n</code></pre>\n<ol start=\"2\">\n<li></li>\n</ol>\n<pre><code>-courses: Array&lt;String&gt;(30)\n-grades: IntArray(30)\n</code></pre>\n<ol start=\"3\">\n<li></li>\n</ol>\n<pre><code>-courses: String[30]\n-grades: Int[30]\n</code></pre>\n"},{"tags":["java","algorithm","modular-arithmetic"],"comments":[{"owner":{"account_id":9463219,"reputation":9357,"user_id":7036419,"display_name":"Maurice Perry"},"score":1,"creation_date":1689336169,"post_id":37476168,"comment_id":135202540,"body_markdown":"FYI: there are constants `BigInteger.ZERO` and `BigInteger.ONE`.","body":"FYI: there are constants <code>BigInteger.ZERO</code> and <code>BigInteger.ONE</code>."}],"answers":[{"tags":[],"owner":{"account_id":174366,"reputation":12158,"user_id":403682,"accept_rate":95,"display_name":"Kenny Cason"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1464331651,"creation_date":1464331315,"answer_id":37476521,"question_id":37476168,"body_markdown":"It looks like you got the operations in the final return out of order. You also implemented the third value of Triple incorrectly. Here is my implementation. (I also used BigInteger&#39;s helper constants/methods + renamed variables for clarity.)\r\n\r\n    public class ExtendedEuclidAlgorithm {\r\n        public static void main(final String[] args) {\r\n            System.out.println(&quot;eea(240, 46) = &quot; + apply(BigInteger.valueOf(240), BigInteger.valueOf(46)));\r\n            System.out.println(&quot;eea(65, 40) = &quot; + apply(BigInteger.valueOf(65), BigInteger.valueOf(40)));\r\n            System.out.println(&quot;eea(1239, 735) = &quot; + apply(BigInteger.valueOf(1239), BigInteger.valueOf(735)));\r\n        }\r\n    \r\n        /*\r\n         * extended_euclid(d,s)\r\n              if s = 0\r\n                  than return (d,1,0)\r\n              (d&#39;,s&#39;,t&#39;) &lt;-- extended_euclid(s, d mod s)\r\n              return (d&#39;,t&#39;,s&#39; - (d div s)t&#39;)\r\n         */\r\n        public static Triple apply(final BigInteger a, final BigInteger b) {\r\n            if (b.equals(BigInteger.ZERO)) {\r\n                return new Triple(a, BigInteger.ONE, BigInteger.ZERO);\r\n            } else {\r\n                final Triple extension = apply(b, a.mod(b));\r\n                return new Triple(extension.d, extension.t, extension.s.subtract(a.divide(b).multiply(extension.t)));\r\n            }\r\n        }\r\n    \r\n    \r\n        private static class Triple {\r\n            public final BigInteger d;\r\n            public final BigInteger s;\r\n            public final BigInteger t;\r\n            private Triple(final BigInteger d, final BigInteger s, final BigInteger t) {\r\n                this.d = d;\r\n                this.s = s;\r\n                this.t = t;\r\n            }\r\n            @Override\r\n            public String toString() {\r\n                return &quot;Triple{&quot; +\r\n                        &quot;d=&quot; + d +\r\n                        &quot;, s=&quot; + s +\r\n                        &quot;, t=&quot; + t +\r\n                        &#39;}&#39;;\r\n            }\r\n        }\r\n    }\r\n\r\n&gt; eea(240, 46) = Triple{d=2, s=-9, t=47}\r\n\r\n&gt; eea(65, 40) = Triple{d=5, s=-3, t=5}\r\n\r\n&gt; eea(1239, 735) = Triple{d=21, s=-16, t=27}\r\n\r\nI validated the response values from [Wikipedia][1] and [here][2].\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Extended_Euclidean_algorithm\r\n  [2]: http://www.mast.queensu.ca/~math418/m418oh/m418oh04.pdf","title":"Extended Euclidean algorithm JAVA RSA","body":"<p>It looks like you got the operations in the final return out of order. You also implemented the third value of Triple incorrectly. Here is my implementation. (I also used BigInteger's helper constants/methods + renamed variables for clarity.)</p>\n\n<pre><code>public class ExtendedEuclidAlgorithm {\n    public static void main(final String[] args) {\n        System.out.println(\"eea(240, 46) = \" + apply(BigInteger.valueOf(240), BigInteger.valueOf(46)));\n        System.out.println(\"eea(65, 40) = \" + apply(BigInteger.valueOf(65), BigInteger.valueOf(40)));\n        System.out.println(\"eea(1239, 735) = \" + apply(BigInteger.valueOf(1239), BigInteger.valueOf(735)));\n    }\n\n    /*\n     * extended_euclid(d,s)\n          if s = 0\n              than return (d,1,0)\n          (d',s',t') &lt;-- extended_euclid(s, d mod s)\n          return (d',t',s' - (d div s)t')\n     */\n    public static Triple apply(final BigInteger a, final BigInteger b) {\n        if (b.equals(BigInteger.ZERO)) {\n            return new Triple(a, BigInteger.ONE, BigInteger.ZERO);\n        } else {\n            final Triple extension = apply(b, a.mod(b));\n            return new Triple(extension.d, extension.t, extension.s.subtract(a.divide(b).multiply(extension.t)));\n        }\n    }\n\n\n    private static class Triple {\n        public final BigInteger d;\n        public final BigInteger s;\n        public final BigInteger t;\n        private Triple(final BigInteger d, final BigInteger s, final BigInteger t) {\n            this.d = d;\n            this.s = s;\n            this.t = t;\n        }\n        @Override\n        public String toString() {\n            return \"Triple{\" +\n                    \"d=\" + d +\n                    \", s=\" + s +\n                    \", t=\" + t +\n                    '}';\n        }\n    }\n}\n</code></pre>\n\n<blockquote>\n  <p>eea(240, 46) = Triple{d=2, s=-9, t=47}</p>\n  \n  <p>eea(65, 40) = Triple{d=5, s=-3, t=5}</p>\n  \n  <p>eea(1239, 735) = Triple{d=21, s=-16, t=27}</p>\n</blockquote>\n\n<p>I validated the response values from <a href=\"https://en.wikipedia.org/wiki/Extended_Euclidean_algorithm\" rel=\"nofollow\">Wikipedia</a> and <a href=\"http://www.mast.queensu.ca/~math418/m418oh/m418oh04.pdf\" rel=\"nofollow\">here</a>.</p>\n"}],"owner":{"account_id":7677058,"reputation":581,"user_id":5817580,"display_name":"Paul"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2338,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":37476521,"answer_count":1,"score":1,"last_activity_date":1689332493,"creation_date":1464330052,"question_id":37476168,"body_markdown":"I&#39;m trying to implement the EEA. I found this pattern which I use also. \r\n\r\n    extended_euclid(a,b)\r\n    1  if b = 0\r\n    2      than return (a,1,0)\r\n    3  (d&#39;,s&#39;,t&#39;) &lt;-- extended_euclid(b, a mod b)\r\n    4  (d,s,t) &lt;--- (d&#39;,t&#39;,s&#39; - (a div b)t&#39;)\r\n    5  return (d,s,t)\r\n\r\nAnd my code looks like this:\r\n\r\n    public static Triple extendedEuclid(BigInteger a, BigInteger b) {\r\n        if (b.equals(new BigInteger(&quot;0&quot;))) {\r\n            return new Triple(a, new BigInteger(&quot;1&quot;), new BigInteger(&quot;0&quot;));\r\n        } else {\r\n           Triple i = extendedEuclid(b, a.mod(b));\r\n           return new Triple(i.getA(), i.getB(), (i.getC().divide(i.getB()).multiply(i.getC())));\r\n        }\r\n    }\r\n\r\nI&#39;m not quite sure if my code is correct. I looked up many pages like twenty or so but I still don&#39;t get it. I&#39;m mentally stuck.\r\nThanks.","title":"Extended Euclidean algorithm JAVA RSA","body":"<p>I'm trying to implement the EEA. I found this pattern which I use also.</p>\n<pre><code>extended_euclid(a,b)\n1  if b = 0\n2      than return (a,1,0)\n3  (d',s',t') &lt;-- extended_euclid(b, a mod b)\n4  (d,s,t) &lt;--- (d',t',s' - (a div b)t')\n5  return (d,s,t)\n</code></pre>\n<p>And my code looks like this:</p>\n<pre><code>public static Triple extendedEuclid(BigInteger a, BigInteger b) {\n    if (b.equals(new BigInteger(&quot;0&quot;))) {\n        return new Triple(a, new BigInteger(&quot;1&quot;), new BigInteger(&quot;0&quot;));\n    } else {\n       Triple i = extendedEuclid(b, a.mod(b));\n       return new Triple(i.getA(), i.getB(), (i.getC().divide(i.getB()).multiply(i.getC())));\n    }\n}\n</code></pre>\n<p>I'm not quite sure if my code is correct. I looked up many pages like twenty or so but I still don't get it. I'm mentally stuck.\nThanks.</p>\n"},{"tags":["java","arrays","inputstream","outputstream"],"comments":[{"owner":{"account_id":26000,"reputation":6957,"user_id":67350,"accept_rate":40,"display_name":"kuester2000"},"score":2,"creation_date":1273238344,"post_id":2091454,"comment_id":2824609,"body_markdown":"Shouldn&#39;t the title be &quot;array of bytes ...&quot; or &quot;byte array...&quot; or &quot;byte[]...&quot; instaed of &quot;byte of array...&quot;?","body":"Shouldn&#39;t the title be &quot;array of bytes ...&quot; or &quot;byte array...&quot; or &quot;byte[]...&quot; instaed of &quot;byte of array...&quot;?"},{"owner":{"account_id":110803,"reputation":13276,"user_id":293064,"accept_rate":95,"display_name":"Jay Taylor"},"score":1,"creation_date":1323116924,"post_id":2091454,"comment_id":10359374,"body_markdown":"See the reverse here: http://stackoverflow.com/questions/1264709/convert-inputstream-to-byte-in-java","body":"See the reverse here: <a href=\"http://stackoverflow.com/questions/1264709/convert-inputstream-to-byte-in-java\" title=\"convert inputstream to byte in java\">stackoverflow.com/questions/1264709/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"comment_count":0,"down_vote_count":0,"up_vote_count":208,"is_accepted":true,"score":208,"last_activity_date":1509077531,"creation_date":1263882030,"answer_id":2091524,"question_id":2091454,"body_markdown":"You create and use byte array I/O streams as follows:\r\n\r\n    byte[] source = ...;\r\n    ByteArrayInputStream bis = new ByteArrayInputStream(source);\r\n    // read bytes from bis ...\r\n\r\n    ByteArrayOutputStream bos = new ByteArrayOutputStream();\r\n    // write bytes to bos ...\r\n    byte[] sink = bos.toByteArray();\r\n\r\nAssuming that you are using a JDBC driver that implements the standard [JDBC Blob interface][1] (not all do), you can *also* connect a `InputStream` or `OutputStream` to a blob using the `getBinaryStream` and `setBinaryStream` methods&lt;sup&gt;1&lt;/sup&gt;, and you can also get and set the bytes directly.\r\n\r\n(In general, you should take appropriate steps to handle any exceptions, and close streams.  However, closing `bis` and `bos` in the example above is unnecessary, since they aren&#39;t associated with any external resources; e.g. file descriptors, sockets, database connections.)\r\n\r\n&lt;sup&gt;1 - The `setBinaryStream` method is really a getter.  Go figure.&lt;/sup&gt;  \r\n\r\n  [1]: http://java.sun.com/javase/6/docs/api/java/sql/Blob.html","title":"Byte[] to InputStream or OutputStream","body":"<p>You create and use byte array I/O streams as follows:</p>\n\n<pre><code>byte[] source = ...;\nByteArrayInputStream bis = new ByteArrayInputStream(source);\n// read bytes from bis ...\n\nByteArrayOutputStream bos = new ByteArrayOutputStream();\n// write bytes to bos ...\nbyte[] sink = bos.toByteArray();\n</code></pre>\n\n<p>Assuming that you are using a JDBC driver that implements the standard <a href=\"http://java.sun.com/javase/6/docs/api/java/sql/Blob.html\" rel=\"noreferrer\">JDBC Blob interface</a> (not all do), you can <em>also</em> connect a <code>InputStream</code> or <code>OutputStream</code> to a blob using the <code>getBinaryStream</code> and <code>setBinaryStream</code> methods<sup>1</sup>, and you can also get and set the bytes directly.</p>\n\n<p>(In general, you should take appropriate steps to handle any exceptions, and close streams.  However, closing <code>bis</code> and <code>bos</code> in the example above is unnecessary, since they aren't associated with any external resources; e.g. file descriptors, sockets, database connections.)</p>\n\n<p><sup>1 - The <code>setBinaryStream</code> method is really a getter.  Go figure.</sup>  </p>\n"},{"tags":[],"owner":{"account_id":8326,"reputation":258555,"user_id":14955,"accept_rate":55,"display_name":"Thilo"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1263882058,"creation_date":1263882058,"answer_id":2091527,"question_id":2091454,"body_markdown":"There is no conversion between InputStream/OutputStream and the bytes they are working with. They are made for binary data, and just read (or write) the bytes one by one as is.\r\n\r\nA conversion needs to happen when you want to go from byte to char. Then you need to convert using a character set. This happens when you make String or Reader from bytes, which are made for character data.\r\n\r\n","title":"Byte[] to InputStream or OutputStream","body":"<p>There is no conversion between InputStream/OutputStream and the bytes they are working with. They are made for binary data, and just read (or write) the bytes one by one as is.</p>\n\n<p>A conversion needs to happen when you want to go from byte to char. Then you need to convert using a character set. This happens when you make String or Reader from bytes, which are made for character data.</p>\n"},{"comments":[{"owner":{"account_id":427405,"reputation":3877,"user_id":809152,"accept_rate":89,"display_name":"Avihai Marchiano"},"score":0,"creation_date":1342903519,"post_id":2091540,"comment_id":15346864,"body_markdown":"didnt you mean  - ByteArrayOutputStream out = new ByteArrayOutputStream();  instead ByteArrayOutputStream out = new ByteArrayInputStream();","body":"didnt you mean  - ByteArrayOutputStream out = new ByteArrayOutputStream();  instead ByteArrayOutputStream out = new ByteArrayInputStream();"},{"owner":{"account_id":374564,"reputation":4903,"user_id":724835,"accept_rate":100,"display_name":"JustinKSU"},"score":0,"creation_date":1392737542,"post_id":2091540,"comment_id":33089926,"body_markdown":"CloseQuietly should probably be in a finally clause.","body":"CloseQuietly should probably be in a finally clause."}],"tags":[],"owner":{"account_id":48948,"reputation":35452,"user_id":145574,"accept_rate":90,"display_name":"pstanton"},"comment_count":2,"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1405384065,"creation_date":1263882333,"answer_id":2091540,"question_id":2091454,"body_markdown":"I&#39;m assuming you mean that &#39;use&#39; means read, but what i&#39;ll explain for the read case can be basically reversed for the write case.\r\n\r\nso you end up with a byte[]. this could represent any kind of data which may need special types of conversions (character, encrypted, etc). let&#39;s pretend you want to write this data as is to a file.\r\n\r\nfirstly you could create a [ByteArrayInputStream][1] which is basically a mechanism to supply the bytes to something in sequence.\r\n\r\nthen you could create a [FileOutputStream][2] for the file you want to create. there are many types of InputStreams and OutputStreams for different data sources and destinations.\r\n\r\nlastly you would write the InputStream to the OutputStream. in this case, the array of bytes would be sent in sequence to the FileOutputStream for writing. For this i recommend using [IOUtils][3]\r\n\r\n    byte[] bytes = ...;//\r\n    ByteArrayInputStream in = new ByteArrayInputStream(bytes);\r\n    FileOutputStream out = new FileOutputStream(new File(...));\r\n    IOUtils.copy(in, out);\r\n    IOUtils.closeQuietly(in);\r\n    IOUtils.closeQuietly(out);\r\nand in reverse\r\n\r\n    FileInputStream in = new FileInputStream(new File(...));\r\n    ByteArrayOutputStream out = new ByteArrayOutputStream();\r\n    IOUtils.copy(in, out);\r\n    IOUtils.closeQuietly(in);\r\n    IOUtils.closeQuietly(out);\r\n    byte[] bytes = out.toByteArray();\r\n\r\n\r\n  [1]: http://java.sun.com/javase/6/docs/api/java/io/ByteArrayInputStream.html\r\n  [2]: http://java.sun.com/javase/6/docs/api/java/io/FileOutputStream.html\r\n  [3]: http://commons.apache.org/io/api-1.4/org/apache/commons/io/IOUtils.html\r\n\r\nif you use the above code snippets you&#39;ll need to handle exceptions and i recommend you do the &#39;closes&#39; in a finally block.","title":"Byte[] to InputStream or OutputStream","body":"<p>I'm assuming you mean that 'use' means read, but what i'll explain for the read case can be basically reversed for the write case.</p>\n\n<p>so you end up with a byte[]. this could represent any kind of data which may need special types of conversions (character, encrypted, etc). let's pretend you want to write this data as is to a file.</p>\n\n<p>firstly you could create a <a href=\"http://java.sun.com/javase/6/docs/api/java/io/ByteArrayInputStream.html\" rel=\"noreferrer\">ByteArrayInputStream</a> which is basically a mechanism to supply the bytes to something in sequence.</p>\n\n<p>then you could create a <a href=\"http://java.sun.com/javase/6/docs/api/java/io/FileOutputStream.html\" rel=\"noreferrer\">FileOutputStream</a> for the file you want to create. there are many types of InputStreams and OutputStreams for different data sources and destinations.</p>\n\n<p>lastly you would write the InputStream to the OutputStream. in this case, the array of bytes would be sent in sequence to the FileOutputStream for writing. For this i recommend using <a href=\"http://commons.apache.org/io/api-1.4/org/apache/commons/io/IOUtils.html\" rel=\"noreferrer\">IOUtils</a></p>\n\n<pre><code>byte[] bytes = ...;//\nByteArrayInputStream in = new ByteArrayInputStream(bytes);\nFileOutputStream out = new FileOutputStream(new File(...));\nIOUtils.copy(in, out);\nIOUtils.closeQuietly(in);\nIOUtils.closeQuietly(out);\n</code></pre>\n\n<p>and in reverse</p>\n\n<pre><code>FileInputStream in = new FileInputStream(new File(...));\nByteArrayOutputStream out = new ByteArrayOutputStream();\nIOUtils.copy(in, out);\nIOUtils.closeQuietly(in);\nIOUtils.closeQuietly(out);\nbyte[] bytes = out.toByteArray();\n</code></pre>\n\n<p>if you use the above code snippets you'll need to handle exceptions and i recommend you do the 'closes' in a finally block.</p>\n"},{"comments":[{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1381877456,"post_id":19144548,"comment_id":28742730,"body_markdown":"Circular buffers do not solve the OP&#39;s problem.  In the Question as written, the OP needs the *entire* content in a single byte array.","body":"Circular buffers do not solve the OP&#39;s problem.  In the Question as written, the OP needs the <i>entire</i> content in a single byte array."}],"tags":[],"owner":{"account_id":1912589,"reputation":3588,"user_id":1725975,"display_name":"Sym-Sym"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1380739860,"creation_date":1380739860,"answer_id":19144548,"question_id":2091454,"body_markdown":"I do realize that my answer is way late for this question but I think the community would like [a newer approach to this issue][1]. \r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/6481409/byte-array-of-unknown-length-in-java-part-ii/19144417#19144417","title":"Byte[] to InputStream or OutputStream","body":"<p>I do realize that my answer is way late for this question but I think the community would like <a href=\"https://stackoverflow.com/questions/6481409/byte-array-of-unknown-length-in-java-part-ii/19144417#19144417\">a newer approach to this issue</a>. </p>\n"},{"tags":[],"owner":{"account_id":2300727,"reputation":1,"user_id":2021075,"display_name":"Stas Wishnevetsky"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1422460944,"creation_date":1422460944,"answer_id":28196830,"question_id":2091454,"body_markdown":"    byte[] data = dbEntity.getBlobData();\r\n    response.getOutputStream().write();\r\n\r\nI think this is better since you already have an existing OutputStream in the response object.\r\nno need to create a new OutputStream.","title":"Byte[] to InputStream or OutputStream","body":"<pre><code>byte[] data = dbEntity.getBlobData();\nresponse.getOutputStream().write();\n</code></pre>\n\n<p>I think this is better since you already have an existing OutputStream in the response object.\nno need to create a new OutputStream.</p>\n"},{"tags":[],"owner":{"account_id":4533633,"reputation":59,"user_id":3683433,"display_name":"12cram"},"comment_count":0,"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1441147832,"creation_date":1441147832,"answer_id":32342078,"question_id":2091454,"body_markdown":"we can convert byte[] array into input stream by using ByteArrayInputStream\r\n\r\n    String str = &quot;Welcome to awesome Java World&quot;;\r\n        byte[] content = str.getBytes();\r\n        int size = content.length;\r\n        InputStream is = null;\r\n        byte[] b = new byte[size];\r\n        is = new ByteArrayInputStream(content);\r\n\r\nFor full example please check here http://www.onlinecodegeek.com/2015/09/how-to-convert-byte-into-inputstream.html\r\n","title":"Byte[] to InputStream or OutputStream","body":"<p>we can convert byte[] array into input stream by using ByteArrayInputStream</p>\n\n<pre><code>String str = \"Welcome to awesome Java World\";\n    byte[] content = str.getBytes();\n    int size = content.length;\n    InputStream is = null;\n    byte[] b = new byte[size];\n    is = new ByteArrayInputStream(content);\n</code></pre>\n\n<p>For full example please check here <a href=\"http://www.onlinecodegeek.com/2015/09/how-to-convert-byte-into-inputstream.html\" rel=\"noreferrer\">http://www.onlinecodegeek.com/2015/09/how-to-convert-byte-into-inputstream.html</a></p>\n"},{"tags":[],"owner":{"account_id":553335,"reputation":3722,"user_id":918768,"display_name":"DALDEI"},"comment_count":0,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1474458494,"creation_date":1474458494,"answer_id":39615733,"question_id":2091454,"body_markdown":"    output = new ByteArrayOutputStream();\r\n    ...\r\n    input = new ByteArrayInputStream( output.toByteArray() )","title":"Byte[] to InputStream or OutputStream","body":"<pre><code>output = new ByteArrayOutputStream();\n...\ninput = new ByteArrayInputStream( output.toByteArray() )\n</code></pre>\n"},{"tags":[],"owner":{"account_id":28538177,"reputation":7,"user_id":21844603,"display_name":"BuchuleSidondi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689332171,"creation_date":1689332171,"answer_id":76687009,"question_id":2091454,"body_markdown":"    String info = &quot;somedata&quot;;\t\t\r\n    OutputStream os=new FileOutputStream(&quot;mydata.bin&quot;);\r\n    \t\tbyte [] datas= info.getBytes();\r\n    \t\tos.write(datas);\r\n    \t\r\n    InputStream is=new FileInputStream(&quot;mydata.bin&quot;);\r\n    \r\n    \t\tdatas=new byte[1000];\r\n    \t\tint counts = is.read(datas); //reads all data from bin to datas then returns size\r\n    \r\n    \t\tinfo = new String(datas,0,counts); //\r\n    \t\tis.close();;\r\n    \r\n    \r\n    \t\tSystem.out.println(&quot;From Binary File: &quot; + info);","title":"Byte[] to InputStream or OutputStream","body":"<pre><code>String info = &quot;somedata&quot;;       \nOutputStream os=new FileOutputStream(&quot;mydata.bin&quot;);\n        byte [] datas= info.getBytes();\n        os.write(datas);\n    \nInputStream is=new FileInputStream(&quot;mydata.bin&quot;);\n\n        datas=new byte[1000];\n        int counts = is.read(datas); //reads all data from bin to datas then returns size\n\n        info = new String(datas,0,counts); //\n        is.close();;\n\n\n        System.out.println(&quot;From Binary File: &quot; + info);\n</code></pre>\n"}],"owner":{"account_id":87077,"reputation":25974,"user_id":241717,"accept_rate":73,"display_name":"GuruKulki"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":315992,"favorite_count":0,"down_vote_count":0,"up_vote_count":138,"accepted_answer_id":2091524,"answer_count":8,"score":138,"last_activity_date":1689332171,"creation_date":1263881011,"question_id":2091454,"body_markdown":"I have a blob column in my database table, for which I have to use `byte[]` in my Java program as a mapping and to use this data I have to convert it to `InputStream` or `OutputStream`. But I don&#39;t know what happens internally when I do so. Can anyone briefly explain me what&#39;s happening when I do this conversion?","title":"Byte[] to InputStream or OutputStream","body":"<p>I have a blob column in my database table, for which I have to use <code>byte[]</code> in my Java program as a mapping and to use this data I have to convert it to <code>InputStream</code> or <code>OutputStream</code>. But I don't know what happens internally when I do so. Can anyone briefly explain me what's happening when I do this conversion?</p>\n"},{"tags":["java","powermock"],"comments":[{"owner":{"account_id":359062,"reputation":6355,"user_id":700232,"accept_rate":83,"display_name":"Kalpak Gadre"},"score":0,"creation_date":1366110311,"post_id":16035365,"comment_id":22876394,"body_markdown":"This is a good question. Does not deserve to be downvoted.","body":"This is a good question. Does not deserve to be downvoted."},{"owner":{"account_id":23031,"reputation":10957,"user_id":57423,"accept_rate":78,"display_name":"Bhushan Bhangale"},"score":0,"creation_date":1366110468,"post_id":16035365,"comment_id":22876476,"body_markdown":"Did you try it using PowerMock? PowerMock does mock new object creations inside the method so should work.","body":"Did you try it using PowerMock? PowerMock does mock new object creations inside the method so should work."}],"answers":[{"comments":[{"owner":{"account_id":359062,"reputation":6355,"user_id":700232,"accept_rate":83,"display_name":"Kalpak Gadre"},"score":0,"creation_date":1366110353,"post_id":16035414,"comment_id":22876414,"body_markdown":"Correct. When you cant mock, wrap it in an abstraction (interface) and then mock it.","body":"Correct. When you cant mock, wrap it in an abstraction (interface) and then mock it."},{"owner":{"account_id":2228996,"reputation":15997,"user_id":1967100,"accept_rate":78,"display_name":"cahen"},"score":0,"creation_date":1366449351,"post_id":16035414,"comment_id":23021167,"body_markdown":"But then you are changing the real code to help the tests, it is good and possible to avoid this with EasyMock/PowerMock","body":"But then you are changing the real code to help the tests, it is good and possible to avoid this with EasyMock/PowerMock"},{"owner":{"account_id":2491540,"reputation":13743,"user_id":2168879,"accept_rate":40,"display_name":"NilsH"},"score":0,"creation_date":1366449585,"post_id":16035414,"comment_id":23021205,"body_markdown":"@CarlosHenriqueRodriguez Yes, you are. And that&#39;s a good thing. Writing code that is testable (often) reduces coupling in your code. You should consider the test code to be a part of your architecture.","body":"@CarlosHenriqueRodriguez Yes, you are. And that&#39;s a good thing. Writing code that is testable (often) reduces coupling in your code. You should consider the test code to be a part of your architecture."},{"owner":{"account_id":2228996,"reputation":15997,"user_id":1967100,"accept_rate":78,"display_name":"cahen"},"score":0,"creation_date":1366450307,"post_id":16035414,"comment_id":23021376,"body_markdown":"But even a loosely coupled code will need something more powerful than this. If you need to test the FileServiceImpl behavior, for example, you will need to mock the File constructor anyway.","body":"But even a loosely coupled code will need something more powerful than this. If you need to test the FileServiceImpl behavior, for example, you will need to mock the File constructor anyway."},{"owner":{"account_id":2491540,"reputation":13743,"user_id":2168879,"accept_rate":40,"display_name":"NilsH"},"score":0,"creation_date":1366451126,"post_id":16035414,"comment_id":23021553,"body_markdown":"Sure, I see your point, and I was generalizing. However, at that level I would consider verifying it with an integration test instead, as I would do for a class that does database operations. After all, creating and/or verifying a file is pretty straight forward even without mocking.","body":"Sure, I see your point, and I was generalizing. However, at that level I would consider verifying it with an integration test instead, as I would do for a class that does database operations. After all, creating and/or verifying a file is pretty straight forward even without mocking."}],"tags":[],"owner":{"account_id":2491540,"reputation":13743,"user_id":2168879,"accept_rate":40,"display_name":"NilsH"},"comment_count":5,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1366110584,"creation_date":1366110252,"answer_id":16035414,"question_id":16035365,"body_markdown":"I&#39;m not sure if it&#39;s possible, but I have had such a requirement, and I solved it by creating a `FileService` interface. So instead of creating/accessing files directly, you add an abstraction. Then you can easily mock this interface in your tests.\r\n\r\nFor instance:\r\n\r\n    public interface FileService {\r\n\r\n        InputStream openFile(String path);\r\n        OutputStream createFile(String path);\r\n\r\n    }\r\n\r\nThen in your class using this:\r\n\r\n    public class MyClass {\r\n\r\n        private FileService fileService;\r\n\r\n        public MyClass(FileService fileService) {\r\n            this.fileService = fileService;\r\n        }\r\n\r\n        public void doSomething() {\r\n            // Instead of creating file, use file service\r\n            OutputStream out = fileService.createFile(myFileName);\r\n        }\r\n    }\r\n\r\nAnd in your test\r\n\r\n    @Test\r\n    public void testOperationThatCreatesFile() {\r\n        MyClass myClass = new MyClass(mockFileService);\r\n        // Do your tests\r\n    }\r\n         \r\nThis way, you can even mock it without any mock libraries.","title":"Is it possible to use PowerMock to mock new file creation?","body":"<p>I'm not sure if it's possible, but I have had such a requirement, and I solved it by creating a <code>FileService</code> interface. So instead of creating/accessing files directly, you add an abstraction. Then you can easily mock this interface in your tests.</p>\n\n<p>For instance:</p>\n\n<pre><code>public interface FileService {\n\n    InputStream openFile(String path);\n    OutputStream createFile(String path);\n\n}\n</code></pre>\n\n<p>Then in your class using this:</p>\n\n<pre><code>public class MyClass {\n\n    private FileService fileService;\n\n    public MyClass(FileService fileService) {\n        this.fileService = fileService;\n    }\n\n    public void doSomething() {\n        // Instead of creating file, use file service\n        OutputStream out = fileService.createFile(myFileName);\n    }\n}\n</code></pre>\n\n<p>And in your test</p>\n\n<pre><code>@Test\npublic void testOperationThatCreatesFile() {\n    MyClass myClass = new MyClass(mockFileService);\n    // Do your tests\n}\n</code></pre>\n\n<p>This way, you can even mock it without any mock libraries.</p>\n"},{"tags":[],"owner":{"account_id":2228996,"reputation":15997,"user_id":1967100,"accept_rate":78,"display_name":"cahen"},"comment_count":0,"down_vote_count":1,"up_vote_count":10,"is_accepted":true,"score":9,"last_activity_date":1689331931,"creation_date":1366449159,"answer_id":16118611,"question_id":16035365,"body_markdown":"Mock the constructor, like in this example code. **Don&#39;t forget** to put the class that will invoke the &quot;new File(...)&quot; in the **@PrepareForTest**\r\n\r\n\r\n    package hello.easymock.constructor;\r\n    \r\n    import java.io.File;\r\n    \r\n    import org.easymock.EasyMock;\r\n    import org.junit.Assert;\r\n    import org.junit.Test;\r\n    import org.junit.runner.RunWith;\r\n    import org.powermock.api.easymock.PowerMock;\r\n    import org.powermock.core.classloader.annotations.PrepareForTest;\r\n    import org.powermock.modules.junit4.PowerMockRunner;\r\n    \r\n    @RunWith(PowerMockRunner.class)\r\n    @PrepareForTest({File.class})\r\n    public class ConstructorExampleTest {\r\n    \t\r\n    \t@Test\r\n    \tpublic void testMockFile() throws Exception {\r\n    \t\t// first, create a mock for File\r\n    \t\tfinal File fileMock = EasyMock.createMock(File.class);\r\n    \t\tEasyMock.expect(fileMock.getAbsolutePath()).andReturn(&quot;/my/fake/file/path&quot;);\r\n    \t\tEasyMock.replay(fileMock);\r\n    \r\n    \t\t// then return the mocked object if the constructor is invoked\r\n    \t\tClass&lt;?&gt;[] parameterTypes = new Class[] { String.class };\r\n    \t\tPowerMock.expectNew(File.class, parameterTypes , EasyMock.isA(String.class)).andReturn(fileMock);\r\n    \t\tPowerMock.replay(File.class); \r\n    \r\n    \t\t// try constructing a real File and check if the mock kicked in\r\n    \t\tfinal String mockedFilePath = new File(&quot;/real/path/for/file&quot;).getAbsolutePath();\r\n    \t\tAssert.assertEquals(&quot;/my/fake/file/path&quot;, mockedFilePath);\r\n    \t}\r\n    \r\n    }\r\n","title":"Is it possible to use PowerMock to mock new file creation?","body":"<p>Mock the constructor, like in this example code. <strong>Don't forget</strong> to put the class that will invoke the &quot;new File(...)&quot; in the <strong>@PrepareForTest</strong></p>\n<pre><code>package hello.easymock.constructor;\n\nimport java.io.File;\n\nimport org.easymock.EasyMock;\nimport org.junit.Assert;\nimport org.junit.Test;\nimport org.junit.runner.RunWith;\nimport org.powermock.api.easymock.PowerMock;\nimport org.powermock.core.classloader.annotations.PrepareForTest;\nimport org.powermock.modules.junit4.PowerMockRunner;\n\n@RunWith(PowerMockRunner.class)\n@PrepareForTest({File.class})\npublic class ConstructorExampleTest {\n    \n    @Test\n    public void testMockFile() throws Exception {\n        // first, create a mock for File\n        final File fileMock = EasyMock.createMock(File.class);\n        EasyMock.expect(fileMock.getAbsolutePath()).andReturn(&quot;/my/fake/file/path&quot;);\n        EasyMock.replay(fileMock);\n\n        // then return the mocked object if the constructor is invoked\n        Class&lt;?&gt;[] parameterTypes = new Class[] { String.class };\n        PowerMock.expectNew(File.class, parameterTypes , EasyMock.isA(String.class)).andReturn(fileMock);\n        PowerMock.replay(File.class); \n\n        // try constructing a real File and check if the mock kicked in\n        final String mockedFilePath = new File(&quot;/real/path/for/file&quot;).getAbsolutePath();\n        Assert.assertEquals(&quot;/my/fake/file/path&quot;, mockedFilePath);\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1395473,"reputation":730,"user_id":1325331,"display_name":"Ziya"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1494895783,"creation_date":1440548167,"answer_id":32216101,"question_id":16035365,"body_markdown":"try PowerMockito\r\n\r\n    import org.mockito.Mockito;\r\n    import org.powermock.api.mockito.PowerMockito;\r\n    import org.powermock.core.classloader.annotations.PrepareForTest;\r\n    \r\n    \r\n    @PrepareForTest(YourUtilityClassWhereFileIsCreated.class)\r\n    public class TestClass {\r\n    \r\n     @Test\r\n     public void myTestMethod() {\r\n       File myFile = PowerMockito.mock(File.class);\r\n       PowerMockito.whenNew(File.class).withAnyArguments().thenReturn(myFile);\r\n       Mockito.when(myFile.createNewFile()).thenReturn(true);\r\n     }\r\n    \r\n    }","title":"Is it possible to use PowerMock to mock new file creation?","body":"<p>try PowerMockito</p>\n\n<pre><code>import org.mockito.Mockito;\nimport org.powermock.api.mockito.PowerMockito;\nimport org.powermock.core.classloader.annotations.PrepareForTest;\n\n\n@PrepareForTest(YourUtilityClassWhereFileIsCreated.class)\npublic class TestClass {\n\n @Test\n public void myTestMethod() {\n   File myFile = PowerMockito.mock(File.class);\n   PowerMockito.whenNew(File.class).withAnyArguments().thenReturn(myFile);\n   Mockito.when(myFile.createNewFile()).thenReturn(true);\n }\n\n}\n</code></pre>\n"}],"owner":{"account_id":1391304,"reputation":3822,"user_id":1322076,"accept_rate":56,"display_name":"johnny-b-goode"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13446,"favorite_count":0,"down_vote_count":2,"up_vote_count":11,"accepted_answer_id":16118611,"answer_count":3,"score":9,"last_activity_date":1689331931,"creation_date":1366110113,"question_id":16035365,"body_markdown":"I want to cover a logic, that creates files with unit tests. Is it possible to mock File class and to avoid actual file creation?","title":"Is it possible to use PowerMock to mock new file creation?","body":"<p>I want to cover a logic, that creates files with unit tests. Is it possible to mock File class and to avoid actual file creation?</p>\n"},{"tags":["java","review","google-my-business-api","google-reviews"],"comments":[{"owner":{"account_id":3238786,"reputation":1473,"user_id":3062971,"accept_rate":86,"display_name":"vpgcloud"},"score":1,"creation_date":1646232153,"post_id":71321203,"comment_id":126072352,"body_markdown":"We&#39;ve observed the same, not much you can do about it apart from retrying requests...","body":"We&#39;ve observed the same, not much you can do about it apart from retrying requests..."},{"owner":{"account_id":18991005,"reputation":1312,"user_id":13860286,"display_name":"Shila Mosammami"},"score":0,"creation_date":1646649398,"post_id":71321203,"comment_id":126167393,"body_markdown":"Is there any way to understand if a review has been deleted or not, since google might not be accurate? because I cannot trust if once I do not find the reviewId in the returned list of GMB, so it is deleted.","body":"Is there any way to understand if a review has been deleted or not, since google might not be accurate? because I cannot trust if once I do not find the reviewId in the returned list of GMB, so it is deleted."},{"owner":{"account_id":3238786,"reputation":1473,"user_id":3062971,"accept_rate":86,"display_name":"vpgcloud"},"score":1,"creation_date":1646667731,"post_id":71321203,"comment_id":126174397,"body_markdown":"To check if a review still exists, you can always issue a GET request for that individual review.","body":"To check if a review still exists, you can always issue a GET request for that individual review."}],"answers":[{"tags":[],"owner":{"account_id":3238786,"reputation":1473,"user_id":3062971,"accept_rate":86,"display_name":"vpgcloud"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689331698,"creation_date":1689331698,"answer_id":76686966,"question_id":71321203,"body_markdown":"This is a known bug for locations with many reviews, the only workaround that exists is already close what you are describing: iterate through the reviews multiple times and aggregate all distinct reviews.","title":"How accurate Google My Business api returns the Reviews for all locations of an account?","body":"<p>This is a known bug for locations with many reviews, the only workaround that exists is already close what you are describing: iterate through the reviews multiple times and aggregate all distinct reviews.</p>\n"}],"owner":{"account_id":18991005,"reputation":1312,"user_id":13860286,"display_name":"Shila Mosammami"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":949,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1689331698,"creation_date":1646217317,"question_id":71321203,"body_markdown":"I want to know if google my business api returns ALL reviews in each call or it might not return some of them if the number of reviews are a lot?\r\nUsing this link  \r\n (https://developers.google.com/my-business/reference/rest/v4/accounts.locations.reviews/list) , my code is based on the code provided here (https://developers.google.com/my-business/content/review-data#list_all_reviews). The account I am listing its reviews has more than 83000 reviews for its all locations and once I execute the code it might return about 81000 reviews and the second time  2 or 3 thousands more and another time 75000 reviews. Has anyone encountered something similar?\r\n","title":"How accurate Google My Business api returns the Reviews for all locations of an account?","body":"<p>I want to know if google my business api returns ALL reviews in each call or it might not return some of them if the number of reviews are a lot?\nUsing this link<br />\n(<a href=\"https://developers.google.com/my-business/reference/rest/v4/accounts.locations.reviews/list\" rel=\"nofollow noreferrer\">https://developers.google.com/my-business/reference/rest/v4/accounts.locations.reviews/list</a>) , my code is based on the code provided here (<a href=\"https://developers.google.com/my-business/content/review-data#list_all_reviews\" rel=\"nofollow noreferrer\">https://developers.google.com/my-business/content/review-data#list_all_reviews</a>). The account I am listing its reviews has more than 83000 reviews for its all locations and once I execute the code it might return about 81000 reviews and the second time  2 or 3 thousands more and another time 75000 reviews. Has anyone encountered something similar?</p>\n"},{"tags":["java","iterator","spring-webflux","project-reactor","spliterator"],"answers":[{"comments":[{"owner":{"account_id":3446101,"reputation":11395,"user_id":2886891,"accept_rate":75,"display_name":"Honza Zidek"},"score":0,"creation_date":1689334115,"post_id":76686796,"comment_id":135202122,"body_markdown":"Thanks for explanation, now I do understand. However, **if** they fixed it in reactor, it is indeed unclear why they left the &quot;called twice&quot; text in the method contract. Maybe just forgotten? Because knowing for sure that the iterator can be called only once **is** a big advantage - in some very special cases you even have iterators which cannot be called multiple times.","body":"Thanks for explanation, now I do understand. However, <b>if</b> they fixed it in reactor, it is indeed unclear why they left the &quot;called twice&quot; text in the method contract. Maybe just forgotten? Because knowing for sure that the iterator can be called only once <b>is</b> a big advantage - in some very special cases you even have iterators which cannot be called multiple times."}],"tags":[],"owner":{"account_id":11400015,"reputation":1904,"user_id":8357251,"display_name":"gdomo"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1689330183,"creation_date":1689330183,"answer_id":76686796,"question_id":76685286,"body_markdown":"Until [that][1] issue was recently resolved, `Iterable.iterator()` was actually called twice. [Here][2] is `FluxIterable` source code of   reactor-core 3.4.25:\r\n\r\n\t@Override\r\n\tpublic void subscribe(CoreSubscriber&lt;? super T&gt; actual) {\r\n        // ...\r\n\t\ttry {\r\n\t\t\tknownToBeFinite = FluxIterable.checkFinite(iterable);\r\n\t\t\tit = iterable.iterator();\r\n\t\t}\r\n        // ...\r\n\t}\r\n\r\nwhile `FluxIterable.checkFinite(iterable)` is\r\n\r\n\tstatic &lt;T&gt; boolean checkFinite(Iterable&lt;T&gt; iterable) {\r\n\t\treturn iterable instanceof Collection || iterable.spliterator().hasCharacteristics(Spliterator.SIZED);\r\n\t}\r\n\r\nand `Iterable.spliterator` is\r\n\r\n    default Spliterator&lt;T&gt; spliterator() {\r\n        return Spliterators.spliteratorUnknownSize(iterator(), 0);\r\n    }\r\n\r\n\r\nSo the first call to `.iterator` is made to obtain an `Spliterator` and examine whether it&#39;s finite, and the second call is performed in order to actually obtain iterator that would be used to iterate over the elements.\r\n\r\nSince mentioned issue has been resolved, I&#39;m not sure whether that notice about two `iterator()` calls is still valid. May be calling `iterator()` only once now is a kind of undocumented feature that is not reliable in feature.\r\n\r\n  [1]: https://github.com/reactor/reactor-core/issues/3295\r\n  [2]: https://github.com/reactor/reactor-core/blob/v3.4.25/reactor-core/src/main/java/reactor/core/publisher/FluxIterable.java","title":"Why can Flux.fromIterable(Iterable) call Iterable.iterator() twice?","body":"<p>Until <a href=\"https://github.com/reactor/reactor-core/issues/3295\" rel=\"nofollow noreferrer\">that</a> issue was recently resolved, <code>Iterable.iterator()</code> was actually called twice. <a href=\"https://github.com/reactor/reactor-core/blob/v3.4.25/reactor-core/src/main/java/reactor/core/publisher/FluxIterable.java\" rel=\"nofollow noreferrer\">Here</a> is <code>FluxIterable</code> source code of   reactor-core 3.4.25:</p>\n<pre><code>@Override\npublic void subscribe(CoreSubscriber&lt;? super T&gt; actual) {\n    // ...\n    try {\n        knownToBeFinite = FluxIterable.checkFinite(iterable);\n        it = iterable.iterator();\n    }\n    // ...\n}\n</code></pre>\n<p>while <code>FluxIterable.checkFinite(iterable)</code> is</p>\n<pre><code>static &lt;T&gt; boolean checkFinite(Iterable&lt;T&gt; iterable) {\n    return iterable instanceof Collection || iterable.spliterator().hasCharacteristics(Spliterator.SIZED);\n}\n</code></pre>\n<p>and <code>Iterable.spliterator</code> is</p>\n<pre><code>default Spliterator&lt;T&gt; spliterator() {\n    return Spliterators.spliteratorUnknownSize(iterator(), 0);\n}\n</code></pre>\n<p>So the first call to <code>.iterator</code> is made to obtain an <code>Spliterator</code> and examine whether it's finite, and the second call is performed in order to actually obtain iterator that would be used to iterate over the elements.</p>\n<p>Since mentioned issue has been resolved, I'm not sure whether that notice about two <code>iterator()</code> calls is still valid. May be calling <code>iterator()</code> only once now is a kind of undocumented feature that is not reliable in feature.</p>\n"}],"owner":{"account_id":3446101,"reputation":11395,"user_id":2886891,"accept_rate":75,"display_name":"Honza Zidek"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":116,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1689330183,"creation_date":1689317122,"question_id":76685286,"body_markdown":"The [`Flux.fromIterable(Iterable)`][1] has an interesting sentence in its contract:\r\n\r\n&gt; The `Iterable.iterator()` method will be **invoked** at least once and **at most twice** for each subscriber.\r\n\r\nWhat is the scenario when the method needs to call the `Iterable.iterator()` twice?\r\n\r\nThere **is** an explanation for it in the documentation, however I don&#39;t fully understand it:\r\n\r\n&gt; This operator inspects the `Iterable`&#39;s `Spliterator` to assess if the iteration can be guaranteed to be finite. Since the default `Spliterator` wraps the `Iterator` we can have two `Iterable.iterator()` calls. This second invocation is skipped on a `Collection` however, a type which is assumed to be always finite.\r\n\r\n\r\n  [1]: https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Flux.html#fromIterable-java.lang.Iterable-","title":"Why can Flux.fromIterable(Iterable) call Iterable.iterator() twice?","body":"<p>The <a href=\"https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Flux.html#fromIterable-java.lang.Iterable-\" rel=\"nofollow noreferrer\"><code>Flux.fromIterable(Iterable)</code></a> has an interesting sentence in its contract:</p>\n<blockquote>\n<p>The <code>Iterable.iterator()</code> method will be <strong>invoked</strong> at least once and <strong>at most twice</strong> for each subscriber.</p>\n</blockquote>\n<p>What is the scenario when the method needs to call the <code>Iterable.iterator()</code> twice?</p>\n<p>There <strong>is</strong> an explanation for it in the documentation, however I don't fully understand it:</p>\n<blockquote>\n<p>This operator inspects the <code>Iterable</code>'s <code>Spliterator</code> to assess if the iteration can be guaranteed to be finite. Since the default <code>Spliterator</code> wraps the <code>Iterator</code> we can have two <code>Iterable.iterator()</code> calls. This second invocation is skipped on a <code>Collection</code> however, a type which is assumed to be always finite.</p>\n</blockquote>\n"},{"tags":["java","spring","active-directory","spring-security","ldap"],"answers":[{"tags":[],"owner":{"account_id":2547429,"reputation":909,"user_id":2211943,"display_name":"cabbagery"},"comment_count":0,"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1366481759,"creation_date":1366481759,"answer_id":16123627,"question_id":16113115,"body_markdown":"Spring&#39;s ActiveDirectoryLdapAuthenticationProvider class is `final`, so my only real option (I&#39;ll entertain better ones if there are any takers) was to fork the class. I copied and pasted its contents, refactored slightly, and removed the `final` designation. Then, I created a separate subclass of the forked class, overriding the `loadUserAuthorities()` method, and added my own code for building a permissions mask.\r\n\r\nI was then able to edit my `ldap.xml` file as follows:\r\n\r\n    \t&lt;bean id=&quot;ldapAuthenticationProvider&quot;\r\n\t\t\t\tclass=&quot;my.project.package.OverrideActiveDirectoryLdapAuthenticationProvider&quot;&gt;\t\r\n\t\t\t&lt;constructor-arg value=&quot;test.server&quot;/&gt;\r\n\t\t\t&lt;constructor-arg value=&quot;ldap://192.168.0.2:389&quot;/&gt;\r\n\t\t\t&lt;property name=&quot;convertSubErrorCodesToExceptions&quot; value=&quot;true&quot;/&gt;\r\n\t&lt;/bean&gt;\r\n\r\nFor any other n00bs like me, the subclass looks like this:\r\n\r\n    public class OverrideActiveDirectoryLdapAuthenticationProvider extends TestActiveDirectoryLdapAuthenticationProvider {\r\n\r\n    //my assignments\r\n\t\t\r\n\tpublic OverrideActiveDirectoryLdapAuthenticationProvider(String domain,\r\n\t\t\tString url) {\r\n\t\tsuper(domain, url);\r\n\t}\r\n\t\r\n\t@Override\r\n    protected Collection&lt;? extends GrantedAuthority&gt; loadUserAuthorities(DirContextOperations userData, String username, String password) {\r\n\t//original code with my own additions\r\n    //in my case, I injected code into the for(group : groups) loop\r\n\t}\r\n\r\nWorked like a charm.\r\n\r\nMuch thanks to zagyi for the assistance.","title":"How do I use a custom authorities populator with Spring Security and the ActiveDirectoryLdapAuthenticationProvider?","body":"<p>Spring's ActiveDirectoryLdapAuthenticationProvider class is <code>final</code>, so my only real option (I'll entertain better ones if there are any takers) was to fork the class. I copied and pasted its contents, refactored slightly, and removed the <code>final</code> designation. Then, I created a separate subclass of the forked class, overriding the <code>loadUserAuthorities()</code> method, and added my own code for building a permissions mask.</p>\n\n<p>I was then able to edit my <code>ldap.xml</code> file as follows:</p>\n\n<pre><code>    &lt;bean id=\"ldapAuthenticationProvider\"\n            class=\"my.project.package.OverrideActiveDirectoryLdapAuthenticationProvider\"&gt;   \n        &lt;constructor-arg value=\"test.server\"/&gt;\n        &lt;constructor-arg value=\"ldap://192.168.0.2:389\"/&gt;\n        &lt;property name=\"convertSubErrorCodesToExceptions\" value=\"true\"/&gt;\n&lt;/bean&gt;\n</code></pre>\n\n<p>For any other n00bs like me, the subclass looks like this:</p>\n\n<pre><code>public class OverrideActiveDirectoryLdapAuthenticationProvider extends TestActiveDirectoryLdapAuthenticationProvider {\n\n//my assignments\n\npublic OverrideActiveDirectoryLdapAuthenticationProvider(String domain,\n        String url) {\n    super(domain, url);\n}\n\n@Override\nprotected Collection&lt;? extends GrantedAuthority&gt; loadUserAuthorities(DirContextOperations userData, String username, String password) {\n//original code with my own additions\n//in my case, I injected code into the for(group : groups) loop\n}\n</code></pre>\n\n<p>Worked like a charm.</p>\n\n<p>Much thanks to zagyi for the assistance.</p>\n"},{"tags":[],"owner":{"account_id":9061766,"reputation":111,"user_id":6748084,"display_name":"Serbroda"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689329617,"creation_date":1689329617,"answer_id":76686736,"question_id":16113115,"body_markdown":"Since the class `ActiveDirectoryLdapAuthenticationProvider` is final and cannot be extended, I wrote my own `AuthenticationProvider` class that takes `ActiveDirectoryLdapAuthenticationProvider` as a parameter and uses it as the actual authentication. After authentication I map the existing authorities to my own.\r\n\r\nAuthenticationProvider class:\r\n\r\n    public class AuthorityMappingActiveDirectoryLdapAuthenticationProvider implements AuthenticationProvider {\r\n\r\n        private final ActiveDirectoryLdapAuthenticationProvider provider;\r\n\r\n        private Function&lt;Collection&lt;? extends GrantedAuthority&gt;, Collection&lt;? extends GrantedAuthority&gt;&gt; authorityMapper;\r\n\r\n        public AuthorityMappingActiveDirectoryLdapAuthenticationProvider(ActiveDirectoryLdapAuthenticationProvider provider) {\r\n            this(provider, null);\r\n        }\r\n\r\n        public AuthorityMappingActiveDirectoryLdapAuthenticationProvider(ActiveDirectoryLdapAuthenticationProvider provider,\r\n            Function&lt;Collection&lt;? extends GrantedAuthority&gt;, Collection&lt;? extends GrantedAuthority&gt;&gt; authorityMapper) {\r\n            this.provider = provider;\r\n            this.authorityMapper = authorityMapper;\r\n        }\r\n\r\n        @Override\r\n        public Authentication authenticate(Authentication authentication) throws AuthenticationException {\r\n            Authentication auth = provider.authenticate(authentication);\r\n            if (authorityMapper == null) {\r\n                return auth;\r\n            }\r\n            Collection&lt;? extends GrantedAuthority&gt; authorities = authorityMapper.apply(auth.getAuthorities());\r\n            return UsernamePasswordAuthenticationToken.authenticated(auth.getPrincipal(), auth.getCredentials(), authorities);\r\n        }\r\n\r\n        @Override\r\n        public boolean supports(Class&lt;?&gt; authentication) {\r\n            return provider.supports(authentication);\r\n        }\r\n    }\r\n\r\nUsage\r\n\r\n    @Bean\r\n    public AuthenticationProvider ldapAuthenticationProvider() {\r\n        return new AuthorityMappingActiveDirectoryLdapAuthenticationProvider(\r\n            new ActiveDirectoryLdapAuthenticationProvider(domain, ldapUrl, rootDn), authorities -&gt; {\r\n            List&lt;GrantedAuthority&gt; mappedAuthorities = new ArrayList&lt;&gt;();\r\n            mappedAuthorities.add(new SimpleGrantedAuthority(&quot;ROLE_USER&quot;));\r\n            if (mappedAuthorities.stream()\r\n                .map(a -&gt; a.getAuthority())\r\n                .filter(a -&gt; a.startsWith(&quot;SUDO_USERS&quot;))\r\n                .count() &gt; 0) {\r\n                mappedAuthorities.add(new SimpleGrantedAuthority(&quot;ROLE_ADMIN&quot;));\r\n            }\r\n            return mappedAuthorities;\r\n        });\r\n    }\r\n\r\n","title":"How do I use a custom authorities populator with Spring Security and the ActiveDirectoryLdapAuthenticationProvider?","body":"<p>Since the class <code>ActiveDirectoryLdapAuthenticationProvider</code> is final and cannot be extended, I wrote my own <code>AuthenticationProvider</code> class that takes <code>ActiveDirectoryLdapAuthenticationProvider</code> as a parameter and uses it as the actual authentication. After authentication I map the existing authorities to my own.</p>\n<p>AuthenticationProvider class:</p>\n<pre><code>public class AuthorityMappingActiveDirectoryLdapAuthenticationProvider implements AuthenticationProvider {\n\n    private final ActiveDirectoryLdapAuthenticationProvider provider;\n\n    private Function&lt;Collection&lt;? extends GrantedAuthority&gt;, Collection&lt;? extends GrantedAuthority&gt;&gt; authorityMapper;\n\n    public AuthorityMappingActiveDirectoryLdapAuthenticationProvider(ActiveDirectoryLdapAuthenticationProvider provider) {\n        this(provider, null);\n    }\n\n    public AuthorityMappingActiveDirectoryLdapAuthenticationProvider(ActiveDirectoryLdapAuthenticationProvider provider,\n        Function&lt;Collection&lt;? extends GrantedAuthority&gt;, Collection&lt;? extends GrantedAuthority&gt;&gt; authorityMapper) {\n        this.provider = provider;\n        this.authorityMapper = authorityMapper;\n    }\n\n    @Override\n    public Authentication authenticate(Authentication authentication) throws AuthenticationException {\n        Authentication auth = provider.authenticate(authentication);\n        if (authorityMapper == null) {\n            return auth;\n        }\n        Collection&lt;? extends GrantedAuthority&gt; authorities = authorityMapper.apply(auth.getAuthorities());\n        return UsernamePasswordAuthenticationToken.authenticated(auth.getPrincipal(), auth.getCredentials(), authorities);\n    }\n\n    @Override\n    public boolean supports(Class&lt;?&gt; authentication) {\n        return provider.supports(authentication);\n    }\n}\n</code></pre>\n<p>Usage</p>\n<pre><code>@Bean\npublic AuthenticationProvider ldapAuthenticationProvider() {\n    return new AuthorityMappingActiveDirectoryLdapAuthenticationProvider(\n        new ActiveDirectoryLdapAuthenticationProvider(domain, ldapUrl, rootDn), authorities -&gt; {\n        List&lt;GrantedAuthority&gt; mappedAuthorities = new ArrayList&lt;&gt;();\n        mappedAuthorities.add(new SimpleGrantedAuthority(&quot;ROLE_USER&quot;));\n        if (mappedAuthorities.stream()\n            .map(a -&gt; a.getAuthority())\n            .filter(a -&gt; a.startsWith(&quot;SUDO_USERS&quot;))\n            .count() &gt; 0) {\n            mappedAuthorities.add(new SimpleGrantedAuthority(&quot;ROLE_ADMIN&quot;));\n        }\n        return mappedAuthorities;\n    });\n}\n</code></pre>\n"}],"owner":{"account_id":2547429,"reputation":909,"user_id":2211943,"display_name":"cabbagery"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10017,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"accepted_answer_id":16123627,"answer_count":2,"score":11,"last_activity_date":1689329617,"creation_date":1366403857,"question_id":16113115,"body_markdown":"I&#39;ve successfully connected to Active Directory through LDAP to authenticate, and with the following in my ldap.xml I&#39;ve called my custom authorities populator:\r\n\r\n        &lt;bean id=&quot;ldapAuthenticationProvider&quot;\r\n            class=&quot;org.springframework.security.ldap.authentication.LdapAuthenticationProvider&quot;&gt;\r\n        &lt;constructor-arg ref=&quot;ldapBindAuthenticator&quot;/&gt;\r\n        &lt;constructor-arg ref=&quot;ldapAuthoritiesPopulator&quot;/&gt;\r\n    &lt;/bean&gt;\r\n\r\n    &lt;bean id=&quot;ldapBindAuthenticator&quot;\r\n            class=&quot;org.springframework.security.ldap.authentication.BindAuthenticator&quot;&gt;\r\n        &lt;constructor-arg ref=&quot;ldapServer&quot;/&gt;\r\n        &lt;property name=&quot;userSearch&quot; ref=&quot;ldapSearch&quot;/&gt;\r\n    &lt;/bean&gt;\r\n\r\n    &lt;bean id=&quot;ldapSearch&quot;\r\n            class=&quot;org.springframework.security.ldap.search.FilterBasedLdapUserSearch&quot;&gt;\r\n        &lt;constructor-arg value=&quot;CN=Users&quot;/&gt;\r\n        &lt;constructor-arg value=&quot;(sAMAccountName={0})&quot;/&gt;\r\n        &lt;constructor-arg ref=&quot;ldapServer&quot;/&gt;\r\n    &lt;/bean&gt;\r\n\r\n    &lt;bean id=&quot;ldapAuthoritiesPopulator&quot;\r\n            class=&quot;my.project.package.ActiveDirectoryLdapAuthoritiesPopulator&quot;/&gt;\r\n\r\n    &lt;bean id=&quot;ldapServer&quot;\r\n            class=&quot;org.springframework.security.ldap.DefaultSpringSecurityContextSource&quot;&gt;\r\n        &lt;constructor-arg value=&quot;ldap://192.168.0.2/dc=test,dc=server&quot;/&gt;\r\n\r\n        &lt;property name=&quot;userDn&quot; value=&quot;ldap@test.server&quot;/&gt;\r\n        &lt;property name=&quot;password&quot; value=&quot;ldap&quot;/&gt;\r\n        &lt;property name=&quot;baseEnvironmentProperties&quot;&gt;\r\n        \t&lt;map&gt;\r\n        \t\t&lt;entry key=&quot;java.naming.referral&quot;&gt;\r\n        \t\t\t&lt;value&gt;follow&lt;/value&gt;\r\n        \t\t&lt;/entry&gt;\r\n        \t&lt;/map&gt;\r\n        &lt;/property&gt;\r\n    &lt;/bean&gt;\r\n\r\nThis works fine, and I can ascertain the user&#39;s authorization based on her group membership, but I would rather do this through the built-in Active Directory LDAP Authentication Provider:\r\n\r\n    &lt;bean id=&quot;ldapAuthenticationProvider&quot;\r\n\t\t\tclass=&quot;org.springframework.security.ldap.authentication.ad.ActiveDirectoryLdapAuthenticationProvider&quot;&gt;\r\n\t\t\t\r\n\t\t\t&lt;constructor-arg value=&quot;test.server&quot;/&gt;\r\n\t\t\t&lt;constructor-arg value=&quot;ldap://192.168.0.2:389&quot;/&gt;\r\n\t\t\t&lt;property name=&quot;convertSubErrorCodesToExceptions&quot; value=&quot;true&quot;/&gt;\r\n\t&lt;/bean&gt;\r\n\r\nThe problem with the above is that my custom authorities populator is (obviously) not called, so while I can authenticate my users (which works with the above), I am left without the groups (which I need to determine authorization).\r\n\r\nI feel like this is a simple question, but for the life of me I cannot find an answer here or anywhere else. Do I have to extend the ActiveDirectoryLdapAuthenticationProvider class, and call my authorities populator from there?\r\n\r\n(Thanks for all the help this site has given me for several years running; the effectiveness of this site can be gauged by the fact that I&#39;ve only recently bothered to create an account, and this is my first question. Thanks in advance for your help.)","title":"How do I use a custom authorities populator with Spring Security and the ActiveDirectoryLdapAuthenticationProvider?","body":"<p>I've successfully connected to Active Directory through LDAP to authenticate, and with the following in my ldap.xml I've called my custom authorities populator:</p>\n\n<pre><code>    &lt;bean id=\"ldapAuthenticationProvider\"\n        class=\"org.springframework.security.ldap.authentication.LdapAuthenticationProvider\"&gt;\n    &lt;constructor-arg ref=\"ldapBindAuthenticator\"/&gt;\n    &lt;constructor-arg ref=\"ldapAuthoritiesPopulator\"/&gt;\n&lt;/bean&gt;\n\n&lt;bean id=\"ldapBindAuthenticator\"\n        class=\"org.springframework.security.ldap.authentication.BindAuthenticator\"&gt;\n    &lt;constructor-arg ref=\"ldapServer\"/&gt;\n    &lt;property name=\"userSearch\" ref=\"ldapSearch\"/&gt;\n&lt;/bean&gt;\n\n&lt;bean id=\"ldapSearch\"\n        class=\"org.springframework.security.ldap.search.FilterBasedLdapUserSearch\"&gt;\n    &lt;constructor-arg value=\"CN=Users\"/&gt;\n    &lt;constructor-arg value=\"(sAMAccountName={0})\"/&gt;\n    &lt;constructor-arg ref=\"ldapServer\"/&gt;\n&lt;/bean&gt;\n\n&lt;bean id=\"ldapAuthoritiesPopulator\"\n        class=\"my.project.package.ActiveDirectoryLdapAuthoritiesPopulator\"/&gt;\n\n&lt;bean id=\"ldapServer\"\n        class=\"org.springframework.security.ldap.DefaultSpringSecurityContextSource\"&gt;\n    &lt;constructor-arg value=\"ldap://192.168.0.2/dc=test,dc=server\"/&gt;\n\n    &lt;property name=\"userDn\" value=\"ldap@test.server\"/&gt;\n    &lt;property name=\"password\" value=\"ldap\"/&gt;\n    &lt;property name=\"baseEnvironmentProperties\"&gt;\n        &lt;map&gt;\n            &lt;entry key=\"java.naming.referral\"&gt;\n                &lt;value&gt;follow&lt;/value&gt;\n            &lt;/entry&gt;\n        &lt;/map&gt;\n    &lt;/property&gt;\n&lt;/bean&gt;\n</code></pre>\n\n<p>This works fine, and I can ascertain the user's authorization based on her group membership, but I would rather do this through the built-in Active Directory LDAP Authentication Provider:</p>\n\n<pre><code>&lt;bean id=\"ldapAuthenticationProvider\"\n        class=\"org.springframework.security.ldap.authentication.ad.ActiveDirectoryLdapAuthenticationProvider\"&gt;\n\n        &lt;constructor-arg value=\"test.server\"/&gt;\n        &lt;constructor-arg value=\"ldap://192.168.0.2:389\"/&gt;\n        &lt;property name=\"convertSubErrorCodesToExceptions\" value=\"true\"/&gt;\n&lt;/bean&gt;\n</code></pre>\n\n<p>The problem with the above is that my custom authorities populator is (obviously) not called, so while I can authenticate my users (which works with the above), I am left without the groups (which I need to determine authorization).</p>\n\n<p>I feel like this is a simple question, but for the life of me I cannot find an answer here or anywhere else. Do I have to extend the ActiveDirectoryLdapAuthenticationProvider class, and call my authorities populator from there?</p>\n\n<p>(Thanks for all the help this site has given me for several years running; the effectiveness of this site can be gauged by the fact that I've only recently bothered to create an account, and this is my first question. Thanks in advance for your help.)</p>\n"},{"tags":["java","selenium-webdriver","webdriver","alert"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1689349256,"post_id":76686723,"comment_id":135205686,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":29009350,"reputation":11,"user_id":22221167,"display_name":"dawge4qd"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":12,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1689365627,"answer_count":0,"score":1,"last_activity_date":1689329479,"creation_date":1689329479,"question_id":76686723,"body_markdown":"I have configured my Webbrowser with the options `options.setUnhandledPromptBehaviour(ACCEPT_AND_NOTIFY);`\r\nbut when I run\r\n`WebElement.sendKeys(text);`\r\nit doesn&#39;t return an UnhandledAlertException.\r\n\r\nUsing `driver().executeAsyncScript(SCRIPT)` works, but the sendKeys method does not return the wanted result.","title":"Selenium Actions Sendkeys does not return a UnhandledAlertException if browser if configured with setUnhandledPromptBehaviour(ACCEPT_AND_NOTIFY);","body":"<p>I have configured my Webbrowser with the options <code>options.setUnhandledPromptBehaviour(ACCEPT_AND_NOTIFY);</code>\nbut when I run\n<code>WebElement.sendKeys(text);</code>\nit doesn't return an UnhandledAlertException.</p>\n<p>Using <code>driver().executeAsyncScript(SCRIPT)</code> works, but the sendKeys method does not return the wanted result.</p>\n"},{"tags":["java","collections","filter"],"answers":[{"comments":[{"owner":{"account_id":3324,"reputation":14696,"user_id":4792,"accept_rate":50,"display_name":"Kevin Wong"},"score":3,"creation_date":1222187405,"post_id":122128,"comment_id":27400,"body_markdown":"this is okay, but it&#39;s no generic, and modifies the collection in place (not nice)","body":"this is okay, but it&#39;s no generic, and modifies the collection in place (not nice)"},{"owner":{"account_id":11089,"reputation":400050,"user_id":21234,"accept_rate":91,"display_name":"skaffman"},"score":3,"creation_date":1252249727,"post_id":122128,"comment_id":1226052,"body_markdown":"There are other filter methods in CollectionUtils that do not modify the original collection.","body":"There are other filter methods in CollectionUtils that do not modify the original collection."},{"owner":{"account_id":3165,"reputation":4714,"user_id":4505,"accept_rate":100,"display_name":"Eero"},"score":44,"creation_date":1285763258,"post_id":122128,"comment_id":4055687,"body_markdown":"In particular, the method that does *not* modify the collection in place is\n  org.apache.commons.collections.CollectionUtils#select(Collection,Predicate)","body":"In particular, the method that does <i>not</i> modify the collection in place is   org.apache.commons.collections.CollectionUtils#select(Collec&zwnj;&#8203;tion,Predicate)"},{"owner":{"account_id":58437,"reputation":1694,"user_id":174979,"display_name":"Justin Emery"},"score":5,"creation_date":1402946765,"post_id":122128,"comment_id":37459291,"body_markdown":"In Commons Collections v4 this now uses Generics.","body":"In Commons Collections v4 this now uses Generics."},{"owner":{"account_id":2811288,"reputation":2184,"user_id":2417480,"display_name":"user2417480"},"score":1,"creation_date":1444911514,"post_id":122128,"comment_id":54105942,"body_markdown":"This method should be used with caution as it relies (at least in implementation of commons-collections-3.2.1) on iterator.remove() method which is optional for the collections, so instead of filtering, say, an array, you might get an UnsupportedOperationException.","body":"This method should be used with caution as it relies (at least in implementation of commons-collections-3.2.1) on iterator.remove() method which is optional for the collections, so instead of filtering, say, an array, you might get an UnsupportedOperationException."}],"tags":[],"owner":{"account_id":3324,"reputation":14696,"user_id":4792,"accept_rate":50,"display_name":"Kevin Wong"},"comment_count":5,"down_vote_count":2,"up_vote_count":98,"is_accepted":false,"score":96,"last_activity_date":1447740693,"creation_date":1222187323,"answer_id":122128,"question_id":122105,"body_markdown":"Use [CollectionUtils.filter(Collection,Predicate)][1], from Apache Commons.\r\n\r\n\r\n  [1]: https://commons.apache.org/proper/commons-collections/javadocs/api-release/org/apache/commons/collections4/CollectionUtils.html#filter(java.lang.Iterable,%20org.apache.commons.collections4.Predicate)","title":"How to filter a Java Collection (based on predicate)?","body":"<p>Use <a href=\"https://commons.apache.org/proper/commons-collections/javadocs/api-release/org/apache/commons/collections4/CollectionUtils.html#filter(java.lang.Iterable,%20org.apache.commons.collections4.Predicate)\" rel=\"noreferrer\">CollectionUtils.filter(Collection,Predicate)</a>, from Apache Commons.</p>\n"},{"comments":[{"owner":{"account_id":3324,"reputation":14696,"user_id":4792,"accept_rate":50,"display_name":"Kevin Wong"},"score":0,"creation_date":1222194300,"post_id":122139,"comment_id":27758,"body_markdown":"ya, I knew about the Google collections lib. The version I was using didn&#39;t have Collections2 in it.  I added a new answer to this question that lists the specific method.","body":"ya, I knew about the Google collections lib. The version I was using didn&#39;t have Collections2 in it.  I added a new answer to this question that lists the specific method."},{"owner":{"account_id":69527,"reputation":40466,"user_id":202214,"display_name":"Kevin Bourrillion"},"score":7,"creation_date":1257698629,"post_id":122139,"comment_id":1572496,"body_markdown":"Kevin, Iterables.filter() and Iterators.filter() have been there from the beginning, and are usually all you need.","body":"Kevin, Iterables.filter() and Iterators.filter() have been there from the beginning, and are usually all you need."}],"tags":[],"owner":{"account_id":5864,"reputation":31268,"user_id":9636,"accept_rate":81,"display_name":"Heath Borders"},"comment_count":2,"down_vote_count":2,"up_vote_count":64,"is_accepted":false,"score":62,"last_activity_date":1436815595,"creation_date":1222187389,"answer_id":122139,"question_id":122105,"body_markdown":"Consider [Google Collections](http://code.google.com/p/google-collections/) for an updated Collections framework that supports generics.\r\n\r\n**UPDATE**: The google collections library is now deprecated.  You should use the latest release of [Guava](https://github.com/google/guava) instead.  It still has all the same extensions to the collections framework including a mechanism for filtering based on a predicate.","title":"How to filter a Java Collection (based on predicate)?","body":"<p>Consider <a href=\"http://code.google.com/p/google-collections/\" rel=\"noreferrer\">Google Collections</a> for an updated Collections framework that supports generics.</p>\n\n<p><strong>UPDATE</strong>: The google collections library is now deprecated.  You should use the latest release of <a href=\"https://github.com/google/guava\" rel=\"noreferrer\">Guava</a> instead.  It still has all the same extensions to the collections framework including a mechanism for filtering based on a predicate.</p>\n"},{"tags":[],"owner":{"account_id":6055,"reputation":14786,"user_id":10026,"accept_rate":68,"display_name":"ykaganovich"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1405500213,"creation_date":1222188068,"answer_id":122200,"question_id":122105,"body_markdown":"Are you sure you want to filter the Collection itself, rather than an iterator?\r\n\r\nsee [org.apache.commons.collections.iterators.FilterIterator][1]\r\n\r\nor using version 4 of apache commons [org.apache.commons.collections4.iterators.FilterIterator&lt;E&gt;][2]\r\n\r\n\r\n  [1]: http://commons.apache.org/proper/commons-collections/javadocs/api-3.2.1/org/apache/commons/collections/iterators/FilterIterator.html\r\n  [2]: https://commons.apache.org/proper/commons-collections/apidocs/org/apache/commons/collections4/iterators/FilterIterator.html","title":"How to filter a Java Collection (based on predicate)?","body":"<p>Are you sure you want to filter the Collection itself, rather than an iterator?</p>\n\n<p>see <a href=\"http://commons.apache.org/proper/commons-collections/javadocs/api-3.2.1/org/apache/commons/collections/iterators/FilterIterator.html\" rel=\"nofollow noreferrer\">org.apache.commons.collections.iterators.FilterIterator</a></p>\n\n<p>or using version 4 of apache commons <a href=\"https://commons.apache.org/proper/commons-collections/apidocs/org/apache/commons/collections4/iterators/FilterIterator.html\" rel=\"nofollow noreferrer\">org.apache.commons.collections4.iterators.FilterIterator</a></p>\n"},{"comments":[{"owner":{"account_id":3216,"reputation":12095,"user_id":4600,"display_name":"marcospereira"},"score":2,"creation_date":1222227933,"post_id":122204,"comment_id":29147,"body_markdown":"Fine, but I prefer Alan implementation because you get a copy of the collection instead of altering it. Moreover, Alan&#39;s code is thread safe while yours is not.","body":"Fine, but I prefer Alan implementation because you get a copy of the collection instead of altering it. Moreover, Alan&#39;s code is thread safe while yours is not."}],"tags":[],"owner":{"account_id":7113,"reputation":2520,"user_id":12215,"display_name":"jon"},"comment_count":1,"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1222188087,"creation_date":1222188087,"answer_id":122204,"question_id":122105,"body_markdown":"The setup:\r\n    \r\n    public interface Predicate&lt;T&gt; {\r\n      public boolean filter(T t);\r\n    }\r\n    \r\n    void filterCollection(Collection&lt;T&gt; col, Predicate&lt;T&gt; predicate) {\r\n      for (Iterator i = col.iterator(); i.hasNext();) {\r\n        T obj = i.next();\r\n        if (predicate.filter(obj)) {\r\n          i.remove();\r\n        }\r\n      }\r\n    }\r\n\r\nThe usage:\r\n\r\n    List&lt;MyObject&gt; myList = ...;\r\n    filterCollection(myList, new Predicate&lt;MyObject&gt;() {\r\n      public boolean filter(MyObject obj) {\r\n        return obj.shouldFilter();\r\n      }\r\n    });","title":"How to filter a Java Collection (based on predicate)?","body":"<p>The setup:</p>\n\n<pre><code>public interface Predicate&lt;T&gt; {\n  public boolean filter(T t);\n}\n\nvoid filterCollection(Collection&lt;T&gt; col, Predicate&lt;T&gt; predicate) {\n  for (Iterator i = col.iterator(); i.hasNext();) {\n    T obj = i.next();\n    if (predicate.filter(obj)) {\n      i.remove();\n    }\n  }\n}\n</code></pre>\n\n<p>The usage:</p>\n\n<pre><code>List&lt;MyObject&gt; myList = ...;\nfilterCollection(myList, new Predicate&lt;MyObject&gt;() {\n  public boolean filter(MyObject obj) {\n    return obj.shouldFilter();\n  }\n});\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1405259,"reputation":3061,"user_id":1333157,"accept_rate":92,"display_name":"ZeroOne"},"score":7,"creation_date":1356090055,"post_id":122206,"comment_id":19306794,"body_markdown":"My vote goes for this one: it just works, with no external libraries. I never realized instantiating an Iterator could actually be useful compared to using the for-each syntax, or that you could remove items from a list without a ConcurrentModificationException or something like that. :)","body":"My vote goes for this one: it just works, with no external libraries. I never realized instantiating an Iterator could actually be useful compared to using the for-each syntax, or that you could remove items from a list without a ConcurrentModificationException or something like that. :)"},{"owner":{"account_id":246615,"reputation":7540,"user_id":520857,"accept_rate":40,"display_name":"Populus"},"score":1,"creation_date":1418398684,"post_id":122206,"comment_id":43332921,"body_markdown":"I think this is the best way using standard Java lib without copying. For 1.8 there would be the `stream()` feature, but not everyone gets to play with the newest toys :P","body":"I think this is the best way using standard Java lib without copying. For 1.8 there would be the <code>stream()</code> feature, but not everyone gets to play with the newest toys :P"},{"owner":{"account_id":1352612,"reputation":4119,"user_id":1357094,"accept_rate":85,"display_name":"cellepo"},"score":0,"creation_date":1630049438,"post_id":122206,"comment_id":121854180,"body_markdown":"Question title edited to not ask for subjective &quot;best&quot;","body":"Question title edited to not ask for subjective &quot;best&quot;"}],"tags":[],"owner":{"account_id":11055,"reputation":18190,"user_id":1163802,"accept_rate":83,"display_name":"Vladimir Dyuzhev"},"comment_count":3,"down_vote_count":1,"up_vote_count":69,"is_accepted":false,"score":68,"last_activity_date":1405614389,"creation_date":1222188092,"answer_id":122206,"question_id":122105,"body_markdown":"&quot;Best&quot; way is too wide a request. Is it &quot;shortest&quot;? &quot;Fastest&quot;? &quot;Readable&quot;?\r\nFilter in place or into another collection?\r\n\r\nSimplest (but not most readable) way is to iterate it and use Iterator.remove() method:\r\n\r\n    Iterator&lt;Foo&gt; it = col.iterator();\r\n    while( it.hasNext() ) {\r\n      Foo foo = it.next();\r\n      if( !condition(foo) ) it.remove();\r\n    }\r\n\r\nNow, to make it more readable, you can wrap it into a utility method. Then invent a IPredicate interface, create an anonymous implementation of that interface and do something like:\r\n\r\n    CollectionUtils.filterInPlace(col,\r\n      new IPredicate&lt;Foo&gt;(){\r\n        public boolean keepIt(Foo foo) {\r\n          return foo.isBar();\r\n        }\r\n      });\r\n\r\nwhere filterInPlace() iterate the collection and calls Predicate.keepIt() to learn if the instance to be kept in the collection.\r\n\r\nI don&#39;t really see a justification for bringing in a third-party library just for this task.","title":"How to filter a Java Collection (based on predicate)?","body":"<p>\"Best\" way is too wide a request. Is it \"shortest\"? \"Fastest\"? \"Readable\"?\nFilter in place or into another collection?</p>\n\n<p>Simplest (but not most readable) way is to iterate it and use Iterator.remove() method:</p>\n\n<pre><code>Iterator&lt;Foo&gt; it = col.iterator();\nwhile( it.hasNext() ) {\n  Foo foo = it.next();\n  if( !condition(foo) ) it.remove();\n}\n</code></pre>\n\n<p>Now, to make it more readable, you can wrap it into a utility method. Then invent a IPredicate interface, create an anonymous implementation of that interface and do something like:</p>\n\n<pre><code>CollectionUtils.filterInPlace(col,\n  new IPredicate&lt;Foo&gt;(){\n    public boolean keepIt(Foo foo) {\n      return foo.isBar();\n    }\n  });\n</code></pre>\n\n<p>where filterInPlace() iterate the collection and calls Predicate.keepIt() to learn if the instance to be kept in the collection.</p>\n\n<p>I don't really see a justification for bringing in a third-party library just for this task.</p>\n"},{"comments":[{"owner":{"account_id":3324,"reputation":14696,"user_id":4792,"accept_rate":50,"display_name":"Kevin Wong"},"score":28,"creation_date":1222366689,"post_id":122207,"comment_id":34443,"body_markdown":"Yeah, but I hate to reinvent the wheel, again, repeatedly.  I&#39;d rather find some utility library that does when I want.","body":"Yeah, but I hate to reinvent the wheel, again, repeatedly.  I&#39;d rather find some utility library that does when I want."},{"owner":{"account_id":9538,"reputation":18044,"user_id":2204759,"accept_rate":91,"display_name":"Josh"},"score":2,"creation_date":1223754898,"post_id":122207,"comment_id":72166,"body_markdown":"This isn&#39;t the best way in case you don&#39;t want the new collection. Use the filter iterator metaphor, which may input into a new collection, or it may be all that you a need.","body":"This isn&#39;t the best way in case you don&#39;t want the new collection. Use the filter iterator metaphor, which may input into a new collection, or it may be all that you a need."},{"owner":{"account_id":9336,"reputation":7066,"user_id":17205,"accept_rate":64,"display_name":"Alan"},"score":0,"creation_date":1401827602,"post_id":122207,"comment_id":37032596,"body_markdown":"@Nestor: in a Scala comprehension, filtering would be much simpler: `val authorized = for (user &lt;- users if user.isAuthorized) yield user`","body":"@Nestor: in a Scala comprehension, filtering would be much simpler: <code>val authorized = for (user &lt;- users if user.isAuthorized) yield user</code>"},{"owner":{"account_id":1758641,"reputation":593,"user_id":1606296,"accept_rate":0,"display_name":"Rohan"},"score":0,"creation_date":1457959506,"post_id":122207,"comment_id":59628201,"body_markdown":"Does this modify the original collection or create a brand new one? I tried using this method and logged both my collections(the original and the one returned from the method), they are the same. @Alan","body":"Does this modify the original collection or create a brand new one? I tried using this method and logged both my collections(the original and the one returned from the method), they are the same. @Alan"},{"owner":{"account_id":1758641,"reputation":593,"user_id":1606296,"accept_rate":0,"display_name":"Rohan"},"score":0,"creation_date":1458009885,"post_id":122207,"comment_id":59655985,"body_markdown":"Any idea if this method is meant to modify the original collection. I tried using this method, it ended up filtering my original collection too.","body":"Any idea if this method is meant to modify the original collection. I tried using this method, it ended up filtering my original collection too."},{"owner":{"account_id":9336,"reputation":7066,"user_id":17205,"accept_rate":64,"display_name":"Alan"},"score":1,"creation_date":1465661074,"post_id":122207,"comment_id":63000207,"body_markdown":"@Rohan, this is not meant to mutate the original collection. Note that the result collection above is newly constructed, and the filter method adds to the result collection only if the predicate applies.","body":"@Rohan, this is not meant to mutate the original collection. Note that the result collection above is newly constructed, and the filter method adds to the result collection only if the predicate applies."}],"tags":[],"owner":{"account_id":9336,"reputation":7066,"user_id":17205,"accept_rate":64,"display_name":"Alan"},"comment_count":6,"down_vote_count":0,"up_vote_count":229,"is_accepted":false,"score":229,"last_activity_date":1465661392,"creation_date":1222188101,"answer_id":122207,"question_id":122105,"body_markdown":"Assuming that you are using [Java 1.5][1], and that you cannot add [Google Collections][2], I would do something very similar to what the Google guys did. This is a slight variation on Jon&#39;s comments.\r\n\r\nFirst add this interface to your codebase.\r\n\r\n    public interface IPredicate&lt;T&gt; { boolean apply(T type); }\r\n\r\nIts implementers can answer when a certain predicate is true of a certain type. E.g. If `T` were `User` and `AuthorizedUserPredicate&lt;User&gt;` implements `IPredicate&lt;T&gt;`, then `AuthorizedUserPredicate#apply` returns whether the passed in `User` is authorized.\r\n\r\nThen in some utility class, you could say\r\n\r\n    public static &lt;T&gt; Collection&lt;T&gt; filter(Collection&lt;T&gt; target, IPredicate&lt;T&gt; predicate) {\r\n        Collection&lt;T&gt; result = new ArrayList&lt;T&gt;();\r\n        for (T element: target) {\r\n            if (predicate.apply(element)) {\r\n                result.add(element);\r\n            }\r\n        }\r\n        return result;\r\n    }\r\n\r\nSo, assuming that you have the use of the above might be\r\n\r\n    Predicate&lt;User&gt; isAuthorized = new Predicate&lt;User&gt;() {\r\n        public boolean apply(User user) {\r\n            // binds a boolean method in User to a reference\r\n            return user.isAuthorized();\r\n        }\r\n    };\r\n    // allUsers is a Collection&lt;User&gt;\r\n    Collection&lt;User&gt; authorizedUsers = filter(allUsers, isAuthorized);\r\n\r\nIf performance on the linear check is of concern, then I might want to have a domain object that has the target collection. The domain object that has the target collection would have filtering logic for the methods that initialize, add and set the target collection.\r\n\r\nUPDATE: \r\n\r\nIn the utility class (let&#39;s say Predicate), I have added a select method with an option for default value when the predicate doesn&#39;t return the expected value, and also a static property for params to be used inside the new IPredicate.\r\n\r\n    public class Predicate {\r\n    \tpublic static Object predicateParams;\r\n    \t\r\n    \tpublic static &lt;T&gt; Collection&lt;T&gt; filter(Collection&lt;T&gt; target, IPredicate&lt;T&gt; predicate) {\r\n    \t\tCollection&lt;T&gt; result = new ArrayList&lt;T&gt;();\r\n    \t\tfor (T element : target) {\r\n    \t\t\tif (predicate.apply(element)) {\r\n    \t\t\t\tresult.add(element);\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\treturn result;\r\n    \t}\r\n    \r\n    \tpublic static &lt;T&gt; T select(Collection&lt;T&gt; target, IPredicate&lt;T&gt; predicate) {\r\n    \t\tT result = null;\r\n    \t\tfor (T element : target) {\r\n    \t\t\tif (!predicate.apply(element))\r\n    \t\t\t\tcontinue;\r\n    \t\t\tresult = element;\r\n    \t\t\tbreak;\r\n    \t\t}\r\n    \t\treturn result;\r\n    \t}\r\n    \r\n    \tpublic static &lt;T&gt; T select(Collection&lt;T&gt; target, IPredicate&lt;T&gt; predicate, T defaultValue) {\r\n    \t\tT result = defaultValue;\r\n    \t\tfor (T element : target) {\r\n    \t\t\tif (!predicate.apply(element))\r\n    \t\t\t\tcontinue;\r\n    \t\t\tresult = element;\r\n    \t\t\tbreak;\r\n    \t\t}\r\n    \t\treturn result;\r\n    \t}\r\n    }\r\n\r\n\r\nThe following example looks for missing objects between collections:\r\n\r\n    List&lt;MyTypeA&gt; missingObjects = (List&lt;MyTypeA&gt;) Predicate.filter(myCollectionOfA,\r\n\t\tnew IPredicate&lt;MyTypeA&gt;() {\r\n\t\t\tpublic boolean apply(MyTypeA objectOfA) {\r\n\t\t\t\tPredicate.predicateParams = objectOfA.getName();\r\n\t\t\t\treturn Predicate.select(myCollectionB, new IPredicate&lt;MyTypeB&gt;() {\r\n\t\t\t\t\tpublic boolean apply(MyTypeB objectOfB) {\r\n\t\t\t\t\t\treturn objectOfB.getName().equals(Predicate.predicateParams.toString());\r\n\t\t\t\t\t}\r\n\t\t\t\t}) == null;\r\n\t\t\t}\r\n\t\t});\r\n\r\nThe following example, looks for an instance in a collection, and returns the first element of the collection as default value when the instance is not found:\r\n\r\n    MyType myObject = Predicate.select(collectionOfMyType, new IPredicate&lt;MyType&gt;() {\r\n\tpublic boolean apply(MyType objectOfMyType) {\r\n\t\treturn objectOfMyType.isDefault();\r\n\t}}, collectionOfMyType.get(0));\r\n\r\n\r\nUPDATE (after Java 8 release):\r\n\r\nIt&#39;s been several years since I (Alan) first posted this answer, and I still cannot believe I am collecting SO points for this answer. At any rate, now that Java 8 has introduced closures to the language, my answer would now be considerably different, and simpler. With Java 8, there is no need for a distinct static utility class. So if you want to find the 1st element that matches your predicate.\r\n\r\n    final UserService userService = ... // perhaps injected IoC\r\n    final Optional&lt;UserModel&gt; userOption = userCollection.stream().filter(u -&gt; {\r\n    \tboolean isAuthorized = userService.isAuthorized(u);\r\n    \treturn isAuthorized;\r\n    }).findFirst();\r\n\r\nThe JDK 8 API for optionals has the ability to `get()`, `isPresent()`, `orElse(defaultUser)`, `orElseGet(userSupplier)` and `orElseThrow(exceptionSupplier)`, as well as other &#39;monadic&#39; functions such as `map`, `flatMap` and `filter`.\r\n\r\nIf you want to simply collect all the users which match the predicate, then use the `Collectors` to terminate the stream in the desired collection.\r\n\r\n    final UserService userService = ... // perhaps injected IoC\r\n    final List&lt;UserModel&gt; userOption = userCollection.stream().filter(u -&gt; {\r\n    \tboolean isAuthorized = userService.isAuthorized(u);\r\n    \treturn isAuthorized;\r\n    }).collect(Collectors.toList());\r\n\r\nSee [here][3] for more examples on how Java 8 streams work.\r\n\r\n  [1]: http://java.sun.com/j2se/1.5.0/docs/index.html\r\n  [2]: https://code.google.com/p/guava-libraries/\r\n  [3]: http://winterbe.com/posts/2014/07/31/java8-stream-tutorial-examples/\r\n\r\n\r\n","title":"How to filter a Java Collection (based on predicate)?","body":"<p>Assuming that you are using <a href=\"http://java.sun.com/j2se/1.5.0/docs/index.html\" rel=\"noreferrer\">Java 1.5</a>, and that you cannot add <a href=\"https://code.google.com/p/guava-libraries/\" rel=\"noreferrer\">Google Collections</a>, I would do something very similar to what the Google guys did. This is a slight variation on Jon's comments.</p>\n\n<p>First add this interface to your codebase.</p>\n\n<pre><code>public interface IPredicate&lt;T&gt; { boolean apply(T type); }\n</code></pre>\n\n<p>Its implementers can answer when a certain predicate is true of a certain type. E.g. If <code>T</code> were <code>User</code> and <code>AuthorizedUserPredicate&lt;User&gt;</code> implements <code>IPredicate&lt;T&gt;</code>, then <code>AuthorizedUserPredicate#apply</code> returns whether the passed in <code>User</code> is authorized.</p>\n\n<p>Then in some utility class, you could say</p>\n\n<pre><code>public static &lt;T&gt; Collection&lt;T&gt; filter(Collection&lt;T&gt; target, IPredicate&lt;T&gt; predicate) {\n    Collection&lt;T&gt; result = new ArrayList&lt;T&gt;();\n    for (T element: target) {\n        if (predicate.apply(element)) {\n            result.add(element);\n        }\n    }\n    return result;\n}\n</code></pre>\n\n<p>So, assuming that you have the use of the above might be</p>\n\n<pre><code>Predicate&lt;User&gt; isAuthorized = new Predicate&lt;User&gt;() {\n    public boolean apply(User user) {\n        // binds a boolean method in User to a reference\n        return user.isAuthorized();\n    }\n};\n// allUsers is a Collection&lt;User&gt;\nCollection&lt;User&gt; authorizedUsers = filter(allUsers, isAuthorized);\n</code></pre>\n\n<p>If performance on the linear check is of concern, then I might want to have a domain object that has the target collection. The domain object that has the target collection would have filtering logic for the methods that initialize, add and set the target collection.</p>\n\n<p>UPDATE: </p>\n\n<p>In the utility class (let's say Predicate), I have added a select method with an option for default value when the predicate doesn't return the expected value, and also a static property for params to be used inside the new IPredicate.</p>\n\n<pre><code>public class Predicate {\n    public static Object predicateParams;\n\n    public static &lt;T&gt; Collection&lt;T&gt; filter(Collection&lt;T&gt; target, IPredicate&lt;T&gt; predicate) {\n        Collection&lt;T&gt; result = new ArrayList&lt;T&gt;();\n        for (T element : target) {\n            if (predicate.apply(element)) {\n                result.add(element);\n            }\n        }\n        return result;\n    }\n\n    public static &lt;T&gt; T select(Collection&lt;T&gt; target, IPredicate&lt;T&gt; predicate) {\n        T result = null;\n        for (T element : target) {\n            if (!predicate.apply(element))\n                continue;\n            result = element;\n            break;\n        }\n        return result;\n    }\n\n    public static &lt;T&gt; T select(Collection&lt;T&gt; target, IPredicate&lt;T&gt; predicate, T defaultValue) {\n        T result = defaultValue;\n        for (T element : target) {\n            if (!predicate.apply(element))\n                continue;\n            result = element;\n            break;\n        }\n        return result;\n    }\n}\n</code></pre>\n\n<p>The following example looks for missing objects between collections:</p>\n\n<pre><code>List&lt;MyTypeA&gt; missingObjects = (List&lt;MyTypeA&gt;) Predicate.filter(myCollectionOfA,\n    new IPredicate&lt;MyTypeA&gt;() {\n        public boolean apply(MyTypeA objectOfA) {\n            Predicate.predicateParams = objectOfA.getName();\n            return Predicate.select(myCollectionB, new IPredicate&lt;MyTypeB&gt;() {\n                public boolean apply(MyTypeB objectOfB) {\n                    return objectOfB.getName().equals(Predicate.predicateParams.toString());\n                }\n            }) == null;\n        }\n    });\n</code></pre>\n\n<p>The following example, looks for an instance in a collection, and returns the first element of the collection as default value when the instance is not found:</p>\n\n<pre><code>MyType myObject = Predicate.select(collectionOfMyType, new IPredicate&lt;MyType&gt;() {\npublic boolean apply(MyType objectOfMyType) {\n    return objectOfMyType.isDefault();\n}}, collectionOfMyType.get(0));\n</code></pre>\n\n<p>UPDATE (after Java 8 release):</p>\n\n<p>It's been several years since I (Alan) first posted this answer, and I still cannot believe I am collecting SO points for this answer. At any rate, now that Java 8 has introduced closures to the language, my answer would now be considerably different, and simpler. With Java 8, there is no need for a distinct static utility class. So if you want to find the 1st element that matches your predicate.</p>\n\n<pre><code>final UserService userService = ... // perhaps injected IoC\nfinal Optional&lt;UserModel&gt; userOption = userCollection.stream().filter(u -&gt; {\n    boolean isAuthorized = userService.isAuthorized(u);\n    return isAuthorized;\n}).findFirst();\n</code></pre>\n\n<p>The JDK 8 API for optionals has the ability to <code>get()</code>, <code>isPresent()</code>, <code>orElse(defaultUser)</code>, <code>orElseGet(userSupplier)</code> and <code>orElseThrow(exceptionSupplier)</code>, as well as other 'monadic' functions such as <code>map</code>, <code>flatMap</code> and <code>filter</code>.</p>\n\n<p>If you want to simply collect all the users which match the predicate, then use the <code>Collectors</code> to terminate the stream in the desired collection.</p>\n\n<pre><code>final UserService userService = ... // perhaps injected IoC\nfinal List&lt;UserModel&gt; userOption = userCollection.stream().filter(u -&gt; {\n    boolean isAuthorized = userService.isAuthorized(u);\n    return isAuthorized;\n}).collect(Collectors.toList());\n</code></pre>\n\n<p>See <a href=\"http://winterbe.com/posts/2014/07/31/java8-stream-tutorial-examples/\" rel=\"noreferrer\">here</a> for more examples on how Java 8 streams work.</p>\n"},{"tags":[],"owner":{"account_id":3324,"reputation":14696,"user_id":4792,"accept_rate":50,"display_name":"Kevin Wong"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1344547184,"creation_date":1222194073,"answer_id":122773,"question_id":122105,"body_markdown":"The [Collections2.filter(Collection,Predicate)][1] method in [Google&#39;s Guava library][2] does just what you&#39;re looking for.\r\n\r\n\r\n  [1]: http://docs.guava-libraries.googlecode.com/git/javadoc/com/google/common/collect/Collections2.html#filter%28java.util.Collection,%20com.google.common.base.Predicate%29\r\n  [2]: http://code.google.com/p/guava-libraries/","title":"How to filter a Java Collection (based on predicate)?","body":"<p>The <a href=\"http://docs.guava-libraries.googlecode.com/git/javadoc/com/google/common/collect/Collections2.html#filter%28java.util.Collection,%20com.google.common.base.Predicate%29\" rel=\"nofollow noreferrer\">Collections2.filter(Collection,Predicate)</a> method in <a href=\"http://code.google.com/p/guava-libraries/\" rel=\"nofollow noreferrer\">Google's Guava library</a> does just what you're looking for.</p>\n"},{"comments":[{"owner":{"account_id":9178,"reputation":133593,"user_id":16853,"accept_rate":90,"display_name":"oxbow_lakes"},"score":0,"creation_date":1235598429,"post_id":337135,"comment_id":399942,"body_markdown":"That&#39;s pretty clever! A lot of work to implement a nice Ruby-ish syntax though! The negative is that your filter is not a first-class function and hence cannot be re-used. Roll on closures...","body":"That&#39;s pretty clever! A lot of work to implement a nice Ruby-ish syntax though! The negative is that your filter is not a first-class function and hence cannot be re-used. Roll on closures..."},{"owner":{"account_id":12436,"reputation":27545,"user_id":24468,"accept_rate":100,"display_name":"akuhn"},"score":0,"creation_date":1235836832,"post_id":337135,"comment_id":410386,"body_markdown":"Good point. One way to reuse the loop body is by refactoring the loop into a method that takes the selection query as parameter. That is however by far not as handy and powerful as real closures, for sure.","body":"Good point. One way to reuse the loop body is by refactoring the loop into a method that takes the selection query as parameter. That is however by far not as handy and powerful as real closures, for sure."}],"tags":[],"owner":{"account_id":12436,"reputation":27545,"user_id":24468,"accept_rate":100,"display_name":"akuhn"},"comment_count":2,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1228321221,"creation_date":1228311955,"answer_id":337135,"question_id":122105,"body_markdown":"With the ForEach DSL you may write\r\n\r\n    import static ch.akuhn.util.query.Query.select;\r\n    import static ch.akuhn.util.query.Query.$result;\r\n    import ch.akuhn.util.query.Select;\r\n\r\n    Collection&lt;String&gt; collection = ...\r\n\r\n    for (Select&lt;String&gt; each : select(collection)) {\r\n        each.yield = each.value.length() &gt; 3;\r\n    }\r\n\r\n    Collection&lt;String&gt; result = $result();\r\n\r\nGiven a collection of [The, quick, brown, fox, jumps, over, the, lazy, dog] this results in [quick, brown, jumps, over, lazy], ie all strings longer than three characters.\r\n\r\nAll iteration styles supported by the ForEach DSL are\r\n\r\n  - `AllSatisfy`\r\n  - `AnySatisfy`\r\n  - `Collect`\r\n  - `Counnt`\r\n  - `CutPieces`\r\n  - `Detect`\r\n  - `GroupedBy`\r\n  - `IndexOf`\r\n  - `InjectInto`\r\n  - `Reject`\r\n  - `Select`\r\n\r\nFor more details, please refer to [https://www.iam.unibe.ch/scg/svn_repos/Sources/ForEach][1]\r\n\r\n  [1]: https://www.iam.unibe.ch/scg/svn_repos/Sources/ForEach","title":"How to filter a Java Collection (based on predicate)?","body":"<p>With the ForEach DSL you may write</p>\n\n<pre><code>import static ch.akuhn.util.query.Query.select;\nimport static ch.akuhn.util.query.Query.$result;\nimport ch.akuhn.util.query.Select;\n\nCollection&lt;String&gt; collection = ...\n\nfor (Select&lt;String&gt; each : select(collection)) {\n    each.yield = each.value.length() &gt; 3;\n}\n\nCollection&lt;String&gt; result = $result();\n</code></pre>\n\n<p>Given a collection of [The, quick, brown, fox, jumps, over, the, lazy, dog] this results in [quick, brown, jumps, over, lazy], ie all strings longer than three characters.</p>\n\n<p>All iteration styles supported by the ForEach DSL are</p>\n\n<ul>\n<li><code>AllSatisfy</code></li>\n<li><code>AnySatisfy</code></li>\n<li><code>Collect</code></li>\n<li><code>Counnt</code></li>\n<li><code>CutPieces</code></li>\n<li><code>Detect</code></li>\n<li><code>GroupedBy</code></li>\n<li><code>IndexOf</code></li>\n<li><code>InjectInto</code></li>\n<li><code>Reject</code></li>\n<li><code>Select</code></li>\n</ul>\n\n<p>For more details, please refer to <a href=\"https://www.iam.unibe.ch/scg/svn_repos/Sources/ForEach\" rel=\"noreferrer\">https://www.iam.unibe.ch/scg/svn_repos/Sources/ForEach</a></p>\n"},{"comments":[{"owner":{"account_id":197413,"reputation":2603,"user_id":441478,"accept_rate":86,"display_name":"MikePatel"},"score":38,"creation_date":1331812677,"post_id":1385698,"comment_id":12355768,"body_markdown":"Nice but the static imports obfuscate whats going on. For reference, select/having/on are static imports on  ch.lambdaj.Lambda, greaterThan is org.hamcrest.Matchers","body":"Nice but the static imports obfuscate whats going on. For reference, select/having/on are static imports on  ch.lambdaj.Lambda, greaterThan is org.hamcrest.Matchers"},{"owner":{"account_id":93845,"reputation":4170,"user_id":256561,"accept_rate":100,"display_name":"Doc Davluz"},"score":11,"creation_date":1334058870,"post_id":1385698,"comment_id":12919045,"body_markdown":"LambdaJ is really sexy, but it worths noting that it implies a significant overhead (2.6 average): https://code.google.com/p/lambdaj/wiki/PerformanceAnalysis.","body":"LambdaJ is really sexy, but it worths noting that it implies a significant overhead (2.6 average): <a href=\"https://code.google.com/p/lambdaj/wiki/PerformanceAnalysis\" rel=\"nofollow noreferrer\">code.google.com/p/lambdaj/wiki/PerformanceAnalysis</a>."},{"owner":{"account_id":174053,"reputation":3285,"user_id":403173,"display_name":"Moritz"},"score":7,"creation_date":1368783450,"post_id":1385698,"comment_id":23870877,"body_markdown":"Apparently doesn&#39;t work on Android: https://groups.google.com/forum/#!msg/lambdaj/km7uFgvSd3k/grJhgl3ik5sJ","body":"Apparently doesn&#39;t work on Android: <a href=\"https://groups.google.com/forum/#!msg/lambdaj/km7uFgvSd3k/grJhgl3ik5sJ\" rel=\"nofollow noreferrer\">groups.google.com/forum/#!msg/lambdaj/km7uFgvSd3k/grJhgl3ik5&zwnj;&#8203;sJ</a>"},{"owner":{"account_id":74040,"reputation":1717,"user_id":212950,"accept_rate":75,"display_name":"MAbraham1"},"score":9,"creation_date":1376662596,"post_id":1385698,"comment_id":26806528,"body_markdown":"Really like this example of LamdaJ...similar to .NET built-in Lambda functions.  And where can a person drink at age 16?  We should consider adding a localization constraint.  :P","body":"Really like this example of LamdaJ...similar to .NET built-in Lambda functions.  And where can a person drink at age 16?  We should consider adding a localization constraint.  :P"},{"owner":{"account_id":1539045,"reputation":1412,"user_id":1434175,"accept_rate":67,"display_name":"Nestor Hernandez Loli"},"score":1,"creation_date":1405825773,"post_id":1385698,"comment_id":38581033,"body_markdown":"God! I hate that leak with Lambdaj, now that I&#39;m using Java 8 I&#39;m searching for removing every single use of Lambdaj","body":"God! I hate that leak with Lambdaj, now that I&#39;m using Java 8 I&#39;m searching for removing every single use of Lambdaj"},{"owner":{"account_id":57804,"reputation":1353,"user_id":173190,"accept_rate":79,"display_name":"Evgeni Petrov"},"score":1,"creation_date":1415443856,"post_id":1385698,"comment_id":42203247,"body_markdown":"I tried to incorporated Lambdaj but it was too difficult and it was not readable to people that did not know Lambdaj. That is just my experience though.","body":"I tried to incorporated Lambdaj but it was too difficult and it was not readable to people that did not know Lambdaj. That is just my experience though."},{"owner":{"account_id":1072835,"reputation":2270,"user_id":1071698,"accept_rate":74,"display_name":"Ronen Festinger"},"score":2,"creation_date":1441060675,"post_id":1385698,"comment_id":52517036,"body_markdown":"Too bad it can&#39;t use enums. I switched to Apache Commons.","body":"Too bad it can&#39;t use enums. I switched to Apache Commons."},{"owner":{"account_id":204515,"reputation":11679,"user_id":452775,"accept_rate":63,"display_name":"Lii"},"score":1,"creation_date":1445692137,"post_id":1385698,"comment_id":54434997,"body_markdown":"This answer would be even better if it also mentioned the simplest method (since Java 8): [`Collection.removeIf`](https://docs.oracle.com/javase/8/docs/api/java/util/Collection.html#removeIf-java.util.function.Predicate-)","body":"This answer would be even better if it also mentioned the simplest method (since Java 8): <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Collection.html#removeIf-java.util.function.Predicate-\" rel=\"nofollow noreferrer\"><code>Collection.removeIf</code></a>"},{"owner":{"account_id":1734091,"reputation":92376,"user_id":1587046,"accept_rate":62,"display_name":"Alexis C."},"score":1,"creation_date":1449620708,"post_id":1385698,"comment_id":56084715,"body_markdown":"I&#39;ve edited your answer to include `Collection#removeIf`. Hope you don&#39;t mind!","body":"I&#39;ve edited your answer to include <code>Collection#removeIf</code>. Hope you don&#39;t mind!"},{"owner":{"account_id":84539,"reputation":9548,"user_id":236247,"accept_rate":86,"display_name":"demongolem"},"score":1,"creation_date":1482639767,"post_id":1385698,"comment_id":69840994,"body_markdown":"I wonder why the top half was not given as a new answer.  If this went through the review edits pipeline today, the edit would probably be rejected.  How many upvotes are for the original question and how many are for the edit?","body":"I wonder why the top half was not given as a new answer.  If this went through the review edits pipeline today, the edit would probably be rejected.  How many upvotes are for the original question and how many are for the edit?"},{"owner":{"account_id":1613870,"reputation":135,"user_id":1492100,"accept_rate":50,"display_name":"vim"},"score":3,"creation_date":1486649930,"post_id":1385698,"comment_id":71444264,"body_markdown":"removeIf example should be `persons.removeIf(p -&gt; p.getAge() &lt;= 16);`","body":"removeIf example should be <code>persons.removeIf(p -&gt; p.getAge() &lt;= 16);</code>"},{"owner":{"account_id":2204848,"reputation":4377,"user_id":1948325,"accept_rate":43,"display_name":"Oscar P&#233;rez"},"score":0,"creation_date":1527244339,"post_id":1385698,"comment_id":88065787,"body_markdown":"Caution: if you use lambdas inside an Eclipselink (&lt;2.7) entity class, it will give strange Exceptions","body":"Caution: if you use lambdas inside an Eclipselink (&lt;2.7) entity class, it will give strange Exceptions"},{"owner":{"account_id":74886,"reputation":26643,"user_id":214977,"accept_rate":69,"display_name":"granadaCoder"},"score":0,"creation_date":1538665324,"post_id":1385698,"comment_id":92231603,"body_markdown":"Java (8) finally caught up to dotNet Linq.  Yay!  #circa2007 https://en.wikipedia.org/wiki/Language_Integrated_Query","body":"Java (8) finally caught up to dotNet Linq.  Yay!  #circa2007 <a href=\"https://en.wikipedia.org/wiki/Language_Integrated_Query\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Language_Integrated_Query</a>"},{"owner":{"account_id":7093066,"reputation":6105,"user_id":5427663,"display_name":"TheOperator"},"score":0,"creation_date":1556624351,"post_id":1385698,"comment_id":98493985,"body_markdown":"_Can you imagine something more readable?_ -- have you checked out Kotlin? ;)\n\n`persons.filter { it.age &gt;= 16 }`","body":"<i>Can you imagine something more readable?</i> -- have you checked out Kotlin? ;)  <code>persons.filter { it.age &gt;= 16 }</code>"},{"owner":{"account_id":335069,"reputation":70765,"user_id":661933,"accept_rate":94,"display_name":"nawfal"},"score":0,"creation_date":1593022200,"post_id":1385698,"comment_id":110637005,"body_markdown":"In C# this is just `persons.Where(p =&gt; p.getAge() &gt; 16).ToList()`. Any idea why java requires boilerplate like `stream`, `Collectors.toList` etc?","body":"In C# this is just <code>persons.Where(p =&gt; p.getAge() &gt; 16).ToList()</code>. Any idea why java requires boilerplate like <code>stream</code>, <code>Collectors.toList</code> etc?"},{"owner":{"account_id":4640232,"reputation":5623,"user_id":3760297,"accept_rate":67,"display_name":"Iman Marashi"},"score":0,"creation_date":1604137464,"post_id":1385698,"comment_id":114259469,"body_markdown":"**Call requires API level 24 (current min is 19): `java.util.Collection#removeIf**","body":"<b>Call requires API level 24 (current min is 19): `java.util.Collection#removeIf</b>"},{"owner":{"account_id":3849012,"reputation":341,"user_id":3189611,"display_name":"atLeastD"},"score":0,"creation_date":1690534635,"post_id":1385698,"comment_id":135370369,"body_markdown":"it saved my time.","body":"it saved my time."}],"tags":[],"owner":{"account_id":39135,"reputation":13588,"user_id":112779,"accept_rate":67,"display_name":"Mario Fusco"},"comment_count":17,"down_vote_count":9,"up_vote_count":855,"is_accepted":true,"score":846,"last_activity_date":1661177617,"creation_date":1252244269,"answer_id":1385698,"question_id":122105,"body_markdown":"Java 8 ([2014][1]) solves this problem using streams and lambdas in one line of code:\r\n\r\n    List&lt;Person&gt; beerDrinkers = persons.stream()\r\n        .filter(p -&gt; p.getAge() &gt; 16).collect(Collectors.toList());\r\n\r\nHere&#39;s a [tutorial][2].\r\n\r\nUse [`Collection#removeIf`][3] to modify the collection in place. (Notice: In this case, the predicate will remove objects who satisfy the predicate):\r\n\r\n    persons.removeIf(p -&gt; p.getAge() &lt;= 16);\r\n\r\n---\r\n\r\n[lambdaj][4] allows filtering collections without writing loops or inner classes:\r\n\r\n    List&lt;Person&gt; beerDrinkers = select(persons, having(on(Person.class).getAge(),\r\n        greaterThan(16)));\r\n\r\nCan you imagine something more readable?\r\n\r\n**Disclaimer:** I am a contributor on lambdaj\r\n\r\n\r\n  [1]: https://www.oracle.com/java/technologies/javase/8-whats-new.html &quot;What&#39;s New in JDK 8&quot;\r\n  [2]: http://zeroturnaround.com/rebellabs/java-8-explained-applying-lambdas-to-java-collections/ &quot;Java 8 collections and lambdas&quot;\r\n  [3]: https://docs.oracle.com/javase/8/docs/api/java/util/Collection.html#removeIf-java.util.function.Predicate-\r\n  [4]: https://code.google.com/archive/p/lambdaj/","title":"How to filter a Java Collection (based on predicate)?","body":"<p>Java 8 (<a href=\"https://www.oracle.com/java/technologies/javase/8-whats-new.html\" rel=\"noreferrer\" title=\"What's New in JDK 8\">2014</a>) solves this problem using streams and lambdas in one line of code:</p>\n<pre><code>List&lt;Person&gt; beerDrinkers = persons.stream()\n    .filter(p -&gt; p.getAge() &gt; 16).collect(Collectors.toList());\n</code></pre>\n<p>Here's a <a href=\"http://zeroturnaround.com/rebellabs/java-8-explained-applying-lambdas-to-java-collections/\" rel=\"noreferrer\" title=\"Java 8 collections and lambdas\">tutorial</a>.</p>\n<p>Use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Collection.html#removeIf-java.util.function.Predicate-\" rel=\"noreferrer\"><code>Collection#removeIf</code></a> to modify the collection in place. (Notice: In this case, the predicate will remove objects who satisfy the predicate):</p>\n<pre><code>persons.removeIf(p -&gt; p.getAge() &lt;= 16);\n</code></pre>\n<hr />\n<p><a href=\"https://code.google.com/archive/p/lambdaj/\" rel=\"noreferrer\">lambdaj</a> allows filtering collections without writing loops or inner classes:</p>\n<pre><code>List&lt;Person&gt; beerDrinkers = select(persons, having(on(Person.class).getAge(),\n    greaterThan(16)));\n</code></pre>\n<p>Can you imagine something more readable?</p>\n<p><strong>Disclaimer:</strong> I am a contributor on lambdaj</p>\n"},{"comments":[{"owner":{"account_id":25621,"reputation":21842,"user_id":65977,"accept_rate":79,"display_name":"Tyler"},"score":0,"creation_date":1308609566,"post_id":2106948,"comment_id":7529323,"body_markdown":"Link? Even if your library is inefficient or otherwise unusable it might be interesting to look at if the source is available.","body":"Link? Even if your library is inefficient or otherwise unusable it might be interesting to look at if the source is available."},{"owner":{"account_id":39274,"reputation":6968,"user_id":113173,"accept_rate":75,"display_name":"jdc0589"},"score":0,"creation_date":1308798162,"post_id":2106948,"comment_id":7572566,"body_markdown":"Made the repo public (http://net-machine.com/indefero/p/jdclib/source/tree/master/). You are interested in the expression package. The test package has a tester with example usage. I never really did much work on the string query interface referenced above (didnt feel like writing a real parser), so the explicit query interface in the tester is the way to go.","body":"Made the repo public (<a href=\"http://net-machine.com/indefero/p/jdclib/source/tree/master/\" rel=\"nofollow noreferrer\">net-machine.com/indefero/p/jdclib/source/tree/master</a>). You are interested in the expression package. The test package has a tester with example usage. I never really did much work on the string query interface referenced above (didnt feel like writing a real parser), so the explicit query interface in the tester is the way to go."}],"tags":[],"owner":{"account_id":39274,"reputation":6968,"user_id":113173,"accept_rate":75,"display_name":"jdc0589"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1308801348,"creation_date":1264048530,"answer_id":2106948,"question_id":122105,"body_markdown":"This, combined with the lack of real closures, is my biggest gripe for Java.\r\nHonestly, most of the methods mentioned above are pretty easy to read and REALLY efficient; however, after spending time with .Net, Erlang, etc... list comprehension integrated at the language level makes everything so much cleaner. Without additions at the language level, Java just cant be as clean as many other languages in this area.\r\n\r\nIf performance is a huge concern, Google collections is the way to go (or write your own simple predicate utility). Lambdaj syntax is more readable for some people, but it is not quite as efficient.\r\n\r\nAnd then there is a library I wrote. I will ignore any questions in regard to its efficiency (yea, its that bad)...... Yes, i know its clearly reflection based, and no I don&#39;t actually use it, but it does work:\r\n\r\n    LinkedList&lt;Person&gt; list = ......\r\n    LinkedList&lt;Person&gt; filtered = \r\n               Query.from(list).where(Condition.ensure(&quot;age&quot;, Op.GTE, 21));\r\n\r\n**OR**\r\n\r\n    LinkedList&lt;Person&gt; list = ....\r\n    LinkedList&lt;Person&gt; filtered = Query.from(list).where(&quot;x =&gt; x.age &gt;= 21&quot;);\r\n\r\n","title":"How to filter a Java Collection (based on predicate)?","body":"<p>This, combined with the lack of real closures, is my biggest gripe for Java.\nHonestly, most of the methods mentioned above are pretty easy to read and REALLY efficient; however, after spending time with .Net, Erlang, etc... list comprehension integrated at the language level makes everything so much cleaner. Without additions at the language level, Java just cant be as clean as many other languages in this area.</p>\n\n<p>If performance is a huge concern, Google collections is the way to go (or write your own simple predicate utility). Lambdaj syntax is more readable for some people, but it is not quite as efficient.</p>\n\n<p>And then there is a library I wrote. I will ignore any questions in regard to its efficiency (yea, its that bad)...... Yes, i know its clearly reflection based, and no I don't actually use it, but it does work:</p>\n\n<pre><code>LinkedList&lt;Person&gt; list = ......\nLinkedList&lt;Person&gt; filtered = \n           Query.from(list).where(Condition.ensure(\"age\", Op.GTE, 21));\n</code></pre>\n\n<p><strong>OR</strong></p>\n\n<pre><code>LinkedList&lt;Person&gt; list = ....\nLinkedList&lt;Person&gt; filtered = Query.from(list).where(\"x =&gt; x.age &gt;= 21\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":214,"reputation":35692,"user_id":268,"accept_rate":100,"display_name":"Vincent Robert"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1406130602,"creation_date":1270471391,"answer_id":2578408,"question_id":122105,"body_markdown":"I wrote [an extended Iterable class][1] that support applying functional algorithms without copying the collection content.\r\n\r\nUsage:\r\n\r\n    List&lt;Integer&gt; myList = new ArrayList&lt;Integer&gt;(){ 1, 2, 3, 4, 5 }\r\n\r\n    Iterable&lt;Integer&gt; filtered = Iterable.wrap(myList).select(new Predicate1&lt;Integer&gt;()\r\n    {\r\n    \tpublic Boolean call(Integer n) throws FunctionalException\r\n    \t{\r\n    \t\treturn n % 2 == 0;\r\n    \t}\r\n    })\r\n    \r\n    for( int n : filtered )\r\n    {\r\n    \tSystem.out.println(n);\r\n    }\r\n\r\nThe code above will actually execute\r\n\r\n    for( int n : myList )\r\n    {\r\n    \tif( n % 2 == 0 ) \r\n    \t{\r\n    \t\tSystem.out.println(n);\r\n    \t}\r\n    }\r\n\r\n  [1]: https://github.com/genezys/functional/blob/master/src/main/java/fr/cantor/functional/Iterable.java#L204\r\n\r\n\r\n\r\n","title":"How to filter a Java Collection (based on predicate)?","body":"<p>I wrote <a href=\"https://github.com/genezys/functional/blob/master/src/main/java/fr/cantor/functional/Iterable.java#L204\" rel=\"nofollow noreferrer\">an extended Iterable class</a> that support applying functional algorithms without copying the collection content.</p>\n\n<p>Usage:</p>\n\n<pre><code>List&lt;Integer&gt; myList = new ArrayList&lt;Integer&gt;(){ 1, 2, 3, 4, 5 }\n\nIterable&lt;Integer&gt; filtered = Iterable.wrap(myList).select(new Predicate1&lt;Integer&gt;()\n{\n    public Boolean call(Integer n) throws FunctionalException\n    {\n        return n % 2 == 0;\n    }\n})\n\nfor( int n : filtered )\n{\n    System.out.println(n);\n}\n</code></pre>\n\n<p>The code above will actually execute</p>\n\n<pre><code>for( int n : myList )\n{\n    if( n % 2 == 0 ) \n    {\n        System.out.println(n);\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":440158,"reputation":323231,"user_id":829571,"accept_rate":94,"display_name":"assylias"},"score":2,"creation_date":1333623661,"post_id":10027150,"comment_id":12823985,"body_markdown":"You should disclaim that you are the author (as I think it is the case).","body":"You should disclaim that you are the author (as I think it is the case)."},{"owner":{"account_id":1382301,"reputation":31,"user_id":1315040,"display_name":"Kamran Ali Khan"},"score":0,"creation_date":1333691447,"post_id":10027150,"comment_id":12843374,"body_markdown":"Yes, I am the author of this library.","body":"Yes, I am the author of this library."}],"tags":[],"owner":{"account_id":1382301,"reputation":31,"user_id":1315040,"display_name":"Kamran Ali Khan"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1333622818,"creation_date":1333622818,"answer_id":10027150,"question_id":122105,"body_markdown":"JFilter http://code.google.com/p/jfilter/ is best suited for your requirement.\r\n\r\nJFilter is a simple and high performance open source library to query collection of Java beans.\r\n\r\nKey features\r\n\r\n - Support of collection (java.util.Collection, java.util.Map and Array) properties.\r\n - Support of collection inside collection of any depth.\r\n - Support of inner queries.\r\n - Support of parameterized queries.\r\n - Can filter 1 million records in few 100 ms.\r\n - Filter ( query) is given in simple json format, it is like Mangodb queries. Following are some examples.\r\n - { &quot;id&quot;:{&quot;$le&quot;:&quot;10&quot;}\r\n   - where object id property is less than equals to 10.\r\n - { &quot;id&quot;: {&quot;$in&quot;:[&quot;0&quot;, &quot;100&quot;]}}\r\n   - where object id property is 0 or 100.\r\n - {&quot;lineItems&quot;:{&quot;lineAmount&quot;:&quot;1&quot;}}\r\n   - where lineItems collection property of parameterized type &lt;LineItem&gt; has lineAmount equals to 1.\r\n - { &quot;$and&quot;:[{&quot;id&quot;: &quot;0&quot;}, {&quot;billingAddress&quot;:{&quot;city&quot;:&quot;DEL&quot;}}]}\r\n   - where id property is 0 and billingAddress.city property is DEL.\r\n - {&quot;lineItems&quot;:{&quot;taxes&quot;:{ &quot;key&quot;:{&quot;code&quot;:&quot;GST&quot;}, &quot;value&quot;:{&quot;$gt&quot;: &quot;1.01&quot;}}}}\r\n   - where lineItems collection property of parameterized type &lt;LineItem&gt; which has taxes map type property of parameteriszed type &lt;Tax, Float&gt; has code equals to GST value greater than 1.01.\r\n - {&#39;$or&#39;:[{&#39;code&#39;:&#39;10&#39;},{&#39;skus&#39;: {&#39;$and&#39;:[{&#39;price&#39;:{&#39;$in&#39;:[&#39;20&#39;, &#39;40&#39;]}}, {&#39;code&#39;:&#39;RedApple&#39;}]}}]}\r\n   - Select all products where product code is 10 or sku price in 20 and 40 and sku code is &quot;RedApple&quot;.","title":"How to filter a Java Collection (based on predicate)?","body":"<p>JFilter <a href=\"http://code.google.com/p/jfilter/\" rel=\"nofollow\">http://code.google.com/p/jfilter/</a> is best suited for your requirement.</p>\n\n<p>JFilter is a simple and high performance open source library to query collection of Java beans.</p>\n\n<p>Key features</p>\n\n<ul>\n<li>Support of collection (java.util.Collection, java.util.Map and Array) properties.</li>\n<li>Support of collection inside collection of any depth.</li>\n<li>Support of inner queries.</li>\n<li>Support of parameterized queries.</li>\n<li>Can filter 1 million records in few 100 ms.</li>\n<li>Filter ( query) is given in simple json format, it is like Mangodb queries. Following are some examples.</li>\n<li>{ \"id\":{\"$le\":\"10\"}\n<ul>\n<li>where object id property is less than equals to 10.</li>\n</ul></li>\n<li>{ \"id\": {\"$in\":[\"0\", \"100\"]}}\n<ul>\n<li>where object id property is 0 or 100.</li>\n</ul></li>\n<li>{\"lineItems\":{\"lineAmount\":\"1\"}}\n<ul>\n<li>where lineItems collection property of parameterized type  has lineAmount equals to 1.</li>\n</ul></li>\n<li>{ \"$and\":[{\"id\": \"0\"}, {\"billingAddress\":{\"city\":\"DEL\"}}]}\n<ul>\n<li>where id property is 0 and billingAddress.city property is DEL.</li>\n</ul></li>\n<li>{\"lineItems\":{\"taxes\":{ \"key\":{\"code\":\"GST\"}, \"value\":{\"$gt\": \"1.01\"}}}}\n<ul>\n<li>where lineItems collection property of parameterized type  which has taxes map type property of parameteriszed type  has code equals to GST value greater than 1.01.</li>\n</ul></li>\n<li>{'$or':[{'code':'10'},{'skus': {'$and':[{'price':{'$in':['20', '40']}}, {'code':'RedApple'}]}}]}\n<ul>\n<li>Select all products where product code is 10 or sku price in 20 and 40 and sku code is \"RedApple\".</li>\n</ul></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":429234,"reputation":3009,"user_id":812018,"display_name":"npgall"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1446853076,"creation_date":1343599965,"answer_id":11713441,"question_id":122105,"body_markdown":"Use [Collection Query Engine (CQEngine)](https://github.com/npgall/cqengine). It is by far the fastest way to do this.\r\n\r\nSee also: [How do you query object collections in Java (Criteria/SQL-like)?](https://stackoverflow.com/a/11712925/812018)","title":"How to filter a Java Collection (based on predicate)?","body":"<p>Use <a href=\"https://github.com/npgall/cqengine\" rel=\"nofollow noreferrer\">Collection Query Engine (CQEngine)</a>. It is by far the fastest way to do this.</p>\n\n<p>See also: <a href=\"https://stackoverflow.com/a/11712925/812018\">How do you query object collections in Java (Criteria/SQL-like)?</a></p>\n"},{"comments":[{"owner":{"account_id":1234911,"reputation":576,"user_id":1198692,"accept_rate":67,"display_name":"Vivek Rao"},"score":1,"creation_date":1508187799,"post_id":12573823,"comment_id":80503940,"body_markdown":"How would you do a ```removeIf``` on a list or set for primitives?","body":"How would you do a <code>removeIf</code> on a list or set for primitives?"},{"owner":{"account_id":1712726,"reputation":6528,"user_id":1570415,"display_name":"Donald Raab"},"score":0,"creation_date":1580543732,"post_id":12573823,"comment_id":106139164,"body_markdown":"The API for removeIf was added to primitive collections in EC 9.1.\nhttps://www.eclipse.org/collections/javadoc/9.1.0/org/eclipse/collections/api/collection/primitive/MutableIntCollection.html#removeIf-org.eclipse.collections.api.block.predicate.primitive.IntPredicate-","body":"The API for removeIf was added to primitive collections in EC 9.1. <a href=\"https://www.eclipse.org/collections/javadoc/9.1.0/org/eclipse/collections/api/collection/primitive/MutableIntCollection.html#removeIf-org.eclipse.collections.api.block.predicate.primitive.IntPredicate-\" rel=\"nofollow noreferrer\">eclipse.org/collections/javadoc/9.1.0/org/eclipse/collection&zwnj;&#8203;s/&hellip;</a>"}],"tags":[],"owner":{"account_id":1712726,"reputation":6528,"user_id":1570415,"display_name":"Donald Raab"},"comment_count":2,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1573343828,"creation_date":1348525728,"answer_id":12573823,"question_id":122105,"body_markdown":"Let’s look at how to filter a built-in JDK List and a [MutableList][1] using [Eclipse Collections][2].\r\n \r\n    List&lt;Integer&gt; jdkList = Arrays.asList(1, 2, 3, 4, 5);\r\n    MutableList&lt;Integer&gt; ecList = Lists.mutable.with(1, 2, 3, 4, 5);\r\n \r\nIf you wanted to filter the numbers less than 3, you would expect the following outputs.\r\n \r\n    List&lt;Integer&gt; selected = Lists.mutable.with(1, 2);\r\n    List&lt;Integer&gt; rejected = Lists.mutable.with(3, 4, 5);\r\n\r\nHere’s how you can filter using a Java 8 lambda as the `Predicate`.\r\n \r\n    Assert.assertEquals(selected, Iterate.select(jdkList, each -&gt; each &lt; 3));\r\n    Assert.assertEquals(rejected, Iterate.reject(jdkList, each -&gt; each &lt; 3));\r\n \r\n    Assert.assertEquals(selected, ecList.select(each -&gt; each &lt; 3));\r\n    Assert.assertEquals(rejected, ecList.reject(each -&gt; each &lt; 3));\r\n \r\nHere’s how you can filter using an anonymous inner class as the `Predicate`.\r\n \r\n    Predicate&lt;Integer&gt; lessThan3 = new Predicate&lt;Integer&gt;()\r\n    {\r\n        public boolean accept(Integer each)\r\n        {\r\n            return each &lt; 3;\r\n        }\r\n    };\r\n \r\n    Assert.assertEquals(selected, Iterate.select(jdkList, lessThan3));\r\n    Assert.assertEquals(selected, ecList.select(lessThan3));\r\n \r\nHere are some alternatives to filtering JDK lists and [Eclipse Collections][2] MutableLists using the [Predicates][4] factory.\r\n \r\n    Assert.assertEquals(selected, Iterate.select(jdkList, Predicates.lessThan(3)));\r\n    Assert.assertEquals(selected, ecList.select(Predicates.lessThan(3)));\r\n \r\nHere is a version that doesn&#39;t allocate an object for the predicate, by using the [Predicates2][5] factory instead with the `selectWith` method that takes a `Predicate2`.\r\n \r\n    Assert.assertEquals(\r\n        selected, ecList.selectWith(Predicates2.&lt;Integer&gt;lessThan(), 3));\r\n \r\nSometimes you want to filter on a negative condition.  There is a special method in Eclipse Collections for that called `reject`.\r\n \r\n    Assert.assertEquals(rejected, Iterate.reject(jdkList, lessThan3));\r\n    Assert.assertEquals(rejected, ecList.reject(lessThan3));\r\n\r\n \r\nThe method `partition` will return two collections, containing the elements selected by and rejected by the `Predicate`.\r\n \r\n    PartitionIterable&lt;Integer&gt; jdkPartitioned = Iterate.partition(jdkList, lessThan3);\r\n    Assert.assertEquals(selected, jdkPartitioned.getSelected());\r\n    Assert.assertEquals(rejected, jdkPartitioned.getRejected());\r\n \r\n    PartitionList&lt;Integer&gt; ecPartitioned = gscList.partition(lessThan3);\r\n    Assert.assertEquals(selected, ecPartitioned.getSelected());\r\n    Assert.assertEquals(rejected, ecPartitioned.getRejected());\r\n \r\nNote: I am a committer for Eclipse Collections.\r\n\r\n\r\n  [1]: https://www.eclipse.org/collections/javadoc/10.0.0/org/eclipse/collections/api/list/MutableList.html\r\n  [2]: https://www.eclipse.org/collections/\r\n  [3]: https://github.com/goldmansachs/gs-collections\r\n  [4]: https://www.eclipse.org/collections/javadoc/10.0.0/org/eclipse/collections/impl/block/factory/Predicates.html\r\n  [5]: https://www.eclipse.org/collections/javadoc/10.0.0/org/eclipse/collections/impl/block/factory/Predicates2.html","title":"How to filter a Java Collection (based on predicate)?","body":"<p>Let’s look at how to filter a built-in JDK List and a <a href=\"https://www.eclipse.org/collections/javadoc/10.0.0/org/eclipse/collections/api/list/MutableList.html\" rel=\"nofollow noreferrer\">MutableList</a> using <a href=\"https://www.eclipse.org/collections/\" rel=\"nofollow noreferrer\">Eclipse Collections</a>.</p>\n\n<pre><code>List&lt;Integer&gt; jdkList = Arrays.asList(1, 2, 3, 4, 5);\nMutableList&lt;Integer&gt; ecList = Lists.mutable.with(1, 2, 3, 4, 5);\n</code></pre>\n\n<p>If you wanted to filter the numbers less than 3, you would expect the following outputs.</p>\n\n<pre><code>List&lt;Integer&gt; selected = Lists.mutable.with(1, 2);\nList&lt;Integer&gt; rejected = Lists.mutable.with(3, 4, 5);\n</code></pre>\n\n<p>Here’s how you can filter using a Java 8 lambda as the <code>Predicate</code>.</p>\n\n<pre><code>Assert.assertEquals(selected, Iterate.select(jdkList, each -&gt; each &lt; 3));\nAssert.assertEquals(rejected, Iterate.reject(jdkList, each -&gt; each &lt; 3));\n\nAssert.assertEquals(selected, ecList.select(each -&gt; each &lt; 3));\nAssert.assertEquals(rejected, ecList.reject(each -&gt; each &lt; 3));\n</code></pre>\n\n<p>Here’s how you can filter using an anonymous inner class as the <code>Predicate</code>.</p>\n\n<pre><code>Predicate&lt;Integer&gt; lessThan3 = new Predicate&lt;Integer&gt;()\n{\n    public boolean accept(Integer each)\n    {\n        return each &lt; 3;\n    }\n};\n\nAssert.assertEquals(selected, Iterate.select(jdkList, lessThan3));\nAssert.assertEquals(selected, ecList.select(lessThan3));\n</code></pre>\n\n<p>Here are some alternatives to filtering JDK lists and <a href=\"https://www.eclipse.org/collections/\" rel=\"nofollow noreferrer\">Eclipse Collections</a> MutableLists using the <a href=\"https://www.eclipse.org/collections/javadoc/10.0.0/org/eclipse/collections/impl/block/factory/Predicates.html\" rel=\"nofollow noreferrer\">Predicates</a> factory.</p>\n\n<pre><code>Assert.assertEquals(selected, Iterate.select(jdkList, Predicates.lessThan(3)));\nAssert.assertEquals(selected, ecList.select(Predicates.lessThan(3)));\n</code></pre>\n\n<p>Here is a version that doesn't allocate an object for the predicate, by using the <a href=\"https://www.eclipse.org/collections/javadoc/10.0.0/org/eclipse/collections/impl/block/factory/Predicates2.html\" rel=\"nofollow noreferrer\">Predicates2</a> factory instead with the <code>selectWith</code> method that takes a <code>Predicate2</code>.</p>\n\n<pre><code>Assert.assertEquals(\n    selected, ecList.selectWith(Predicates2.&lt;Integer&gt;lessThan(), 3));\n</code></pre>\n\n<p>Sometimes you want to filter on a negative condition.  There is a special method in Eclipse Collections for that called <code>reject</code>.</p>\n\n<pre><code>Assert.assertEquals(rejected, Iterate.reject(jdkList, lessThan3));\nAssert.assertEquals(rejected, ecList.reject(lessThan3));\n</code></pre>\n\n<p>The method <code>partition</code> will return two collections, containing the elements selected by and rejected by the <code>Predicate</code>.</p>\n\n<pre><code>PartitionIterable&lt;Integer&gt; jdkPartitioned = Iterate.partition(jdkList, lessThan3);\nAssert.assertEquals(selected, jdkPartitioned.getSelected());\nAssert.assertEquals(rejected, jdkPartitioned.getRejected());\n\nPartitionList&lt;Integer&gt; ecPartitioned = gscList.partition(lessThan3);\nAssert.assertEquals(selected, ecPartitioned.getSelected());\nAssert.assertEquals(rejected, ecPartitioned.getRejected());\n</code></pre>\n\n<p>Note: I am a committer for Eclipse Collections.</p>\n"},{"comments":[{"owner":{"account_id":3324,"reputation":14696,"user_id":4792,"accept_rate":50,"display_name":"Kevin Wong"},"score":21,"creation_date":1377869891,"post_id":18508956,"comment_id":27258582,"body_markdown":"Ugh...it&#39;s so verbose.  Why couldn&#39;t they just do: List&lt;Person&gt; result = personList.filter(p -&gt; p.age &gt; 30);","body":"Ugh...it&#39;s so verbose.  Why couldn&#39;t they just do: List&lt;Person&gt; result = personList.filter(p -&gt; p.age &gt; 30);"},{"owner":{"account_id":57788,"reputation":46120,"user_id":173149,"accept_rate":62,"display_name":"gavenkoa"},"score":0,"creation_date":1377870137,"post_id":18508956,"comment_id":27258730,"body_markdown":"@KevinWong I actually get with example from official tutorial so don&#39;t know about another syntax...","body":"@KevinWong I actually get with example from official tutorial so don&#39;t know about another syntax..."},{"owner":{"account_id":3324,"reputation":14696,"user_id":4792,"accept_rate":50,"display_name":"Kevin Wong"},"score":0,"creation_date":1378493891,"post_id":18508956,"comment_id":27487478,"body_markdown":"I don&#39;t doubt that this is the official syntax. I&#39;m just saying that it kinda sucks.","body":"I don&#39;t doubt that this is the official syntax. I&#39;m just saying that it kinda sucks."},{"owner":{"account_id":57788,"reputation":46120,"user_id":173149,"accept_rate":62,"display_name":"gavenkoa"},"score":8,"creation_date":1378562154,"post_id":18508956,"comment_id":27503607,"body_markdown":"To use filter directly on **Collection** you need use **removeIf** call: http://download.java.net/jdk8/docs/api/java/util/Collection.html#removeIf%28java.util.function.Predicate%29","body":"To use filter directly on <b>Collection</b> you need use <b>removeIf</b> call: <a href=\"http://download.java.net/jdk8/docs/api/java/util/Collection.html#removeIf%28java.util.function.Predicate%29\" rel=\"nofollow noreferrer\">download.java.net/jdk8/docs/api/java/util/&hellip;</a>"},{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":7,"creation_date":1399871358,"post_id":18508956,"comment_id":36228515,"body_markdown":"@KevinWong &quot;verbose&quot; pretty much describes the whole language I would think. At least they&#39;re consistent?","body":"@KevinWong &quot;verbose&quot; pretty much describes the whole language I would think. At least they&#39;re consistent?"},{"owner":{"account_id":1539045,"reputation":1412,"user_id":1434175,"accept_rate":67,"display_name":"Nestor Hernandez Loli"},"score":5,"creation_date":1399902329,"post_id":18508956,"comment_id":36245788,"body_markdown":"Why not use Collectors.toList() in the last part?","body":"Why not use Collectors.toList() in the last part?"},{"owner":{"account_id":2087834,"reputation":7167,"user_id":1858327,"accept_rate":71,"display_name":"Captain Man"},"score":3,"creation_date":1434488285,"post_id":18508956,"comment_id":49797103,"body_markdown":"[Here](https://docs.oracle.com/javase/8/docs/api/java/util/Collection.html#removeIf-java.util.function.Predicate-) is a link gavenkoa provided that doesn&#39;t 404. `personList.removeIf(p -&gt; p.age &lt; 30);` Less verbose. Also, I&#39;ve heard talk about starting to implement apis that accept and return `Stream`s rather than `Collection`s because `Stream`s are very useful and fast but going to/from them is slow.","body":"<a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Collection.html#removeIf-java.util.function.Predicate-\" rel=\"nofollow noreferrer\">Here</a> is a link gavenkoa provided that doesn&#39;t 404. <code>personList.removeIf(p -&gt; p.age &lt; 30);</code> Less verbose. Also, I&#39;ve heard talk about starting to implement apis that accept and return <code>Stream</code>s rather than <code>Collection</code>s because <code>Stream</code>s are very useful and fast but going to/from them is slow."}],"tags":[],"owner":{"account_id":57788,"reputation":46120,"user_id":173149,"accept_rate":62,"display_name":"gavenkoa"},"comment_count":7,"down_vote_count":0,"up_vote_count":32,"is_accepted":false,"score":32,"last_activity_date":1427185441,"creation_date":1377773437,"answer_id":18508956,"question_id":122105,"body_markdown":"Wait for Java 8:\r\n\r\n    List&lt;Person&gt; olderThan30 = \r\n      //Create a Stream from the personList\r\n      personList.stream().\r\n      //filter the element to select only those with age &gt;= 30\r\n      filter(p -&gt; p.age &gt;= 30).\r\n      //put those filtered elements into a new List.\r\n      collect(Collectors.toList());\r\n","title":"How to filter a Java Collection (based on predicate)?","body":"<p>Wait for Java 8:</p>\n\n<pre><code>List&lt;Person&gt; olderThan30 = \n  //Create a Stream from the personList\n  personList.stream().\n  //filter the element to select only those with age &gt;= 30\n  filter(p -&gt; p.age &gt;= 30).\n  //put those filtered elements into a new List.\n  collect(Collectors.toList());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1306954,"reputation":11661,"user_id":1255746,"accept_rate":78,"display_name":"Josh M"},"comment_count":0,"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1382910115,"creation_date":1382910115,"answer_id":19623934,"question_id":122105,"body_markdown":"Since the early release of Java 8, you could try something like:\r\n\r\n    Collection&lt;T&gt; collection = ...;\r\n    Stream&lt;T&gt; stream = collection.stream().filter(...);\r\n\r\nFor example, if you had a list of integers and you wanted to filter the numbers that are &gt; 10 and then print out those numbers to the console, you could do something like:\r\n\r\n    List&lt;Integer&gt; numbers = Arrays.asList(12, 74, 5, 8, 16);\r\n    numbers.stream().filter(n -&gt; n &gt; 10).forEach(System.out::println);","title":"How to filter a Java Collection (based on predicate)?","body":"<p>Since the early release of Java 8, you could try something like:</p>\n\n<pre><code>Collection&lt;T&gt; collection = ...;\nStream&lt;T&gt; stream = collection.stream().filter(...);\n</code></pre>\n\n<p>For example, if you had a list of integers and you wanted to filter the numbers that are > 10 and then print out those numbers to the console, you could do something like:</p>\n\n<pre><code>List&lt;Integer&gt; numbers = Arrays.asList(12, 74, 5, 8, 16);\nnumbers.stream().filter(n -&gt; n &gt; 10).forEach(System.out::println);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1539045,"reputation":1412,"user_id":1434175,"accept_rate":67,"display_name":"Nestor Hernandez Loli"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1399871037,"creation_date":1399871037,"answer_id":23601384,"question_id":122105,"body_markdown":"How about some plain and straighforward Java\r\n   \r\n\r\n     List&lt;Customer&gt; list ...;\r\n     List&lt;Customer&gt; newList = new ArrayList&lt;&gt;();\r\n     for (Customer c : list){\r\n        if (c.getName().equals(&quot;dd&quot;)) newList.add(c);\r\n     }\r\n\r\nSimple, readable and easy (and works in Android!)\r\nBut if you&#39;re using Java 8 you can do it in a sweet one line:\r\n  \r\n\r\n    List&lt;Customer&gt; newList = list.stream().filter(c -&gt; c.getName().equals(&quot;dd&quot;)).collect(toList());\r\n\r\nNote that toList() is statically imported","title":"How to filter a Java Collection (based on predicate)?","body":"<p>How about some plain and straighforward Java</p>\n\n<pre><code> List&lt;Customer&gt; list ...;\n List&lt;Customer&gt; newList = new ArrayList&lt;&gt;();\n for (Customer c : list){\n    if (c.getName().equals(\"dd\")) newList.add(c);\n }\n</code></pre>\n\n<p>Simple, readable and easy (and works in Android!)\nBut if you're using Java 8 you can do it in a sweet one line:</p>\n\n<pre><code>List&lt;Customer&gt; newList = list.stream().filter(c -&gt; c.getName().equals(\"dd\")).collect(toList());\n</code></pre>\n\n<p>Note that toList() is statically imported</p>\n"},{"tags":[],"owner":{"account_id":284102,"reputation":634,"user_id":581986,"display_name":"Andrew McKnight"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1404414932,"creation_date":1404413679,"answer_id":24561326,"question_id":122105,"body_markdown":"The simple pre-Java8 solution:\r\n\r\n    ArrayList&lt;Item&gt; filtered = new ArrayList&lt;Item&gt;(); \r\n    for (Item item : items) if (condition(item)) filtered.add(item);\r\n\r\nUnfortunately this solution isn&#39;t fully generic, outputting a list rather than the type of the given collection. Also, bringing in libraries or writing functions that wrap this code seems like overkill to me unless the condition is complex, but then you can write a function for the condition.","title":"How to filter a Java Collection (based on predicate)?","body":"<p>The simple pre-Java8 solution:</p>\n\n<pre><code>ArrayList&lt;Item&gt; filtered = new ArrayList&lt;Item&gt;(); \nfor (Item item : items) if (condition(item)) filtered.add(item);\n</code></pre>\n\n<p>Unfortunately this solution isn't fully generic, outputting a list rather than the type of the given collection. Also, bringing in libraries or writing functions that wrap this code seems like overkill to me unless the condition is complex, but then you can write a function for the condition.</p>\n"},{"tags":[],"owner":{"account_id":281006,"reputation":4173,"user_id":577062,"display_name":"anon"},"comment_count":0,"down_vote_count":1,"up_vote_count":12,"is_accepted":false,"score":11,"last_activity_date":1455492312,"creation_date":1406167981,"answer_id":24924039,"question_id":122105,"body_markdown":"I&#39;ll throw [RxJava](https://github.com/ReactiveX/RxJava) in the ring, which is also available on [Android](https://github.com/ReactiveX/RxAndroid). RxJava might not always be the best option, but it will give you more flexibility if you wish add more transformations on your collection or handle errors while filtering.\r\n\r\n    Observable.from(Arrays.asList(1, 2, 3, 4, 5))\r\n        .filter(new Func1&lt;Integer, Boolean&gt;() {\r\n            public Boolean call(Integer i) {\r\n                return i % 2 != 0;\r\n            }\r\n        })\r\n        .subscribe(new Action1&lt;Integer&gt;() {\r\n            public void call(Integer i) {\r\n                System.out.println(i);\r\n            }\r\n        });\r\n\r\nOutput:\r\n\r\n    1\r\n    3\r\n    5\r\n\r\nMore details on RxJava&#39;s `filter` can be found [here](https://github.com/ReactiveX/RxJava/wiki/Filtering-Observables#filter).","title":"How to filter a Java Collection (based on predicate)?","body":"<p>I'll throw <a href=\"https://github.com/ReactiveX/RxJava\" rel=\"noreferrer\">RxJava</a> in the ring, which is also available on <a href=\"https://github.com/ReactiveX/RxAndroid\" rel=\"noreferrer\">Android</a>. RxJava might not always be the best option, but it will give you more flexibility if you wish add more transformations on your collection or handle errors while filtering.</p>\n\n<pre><code>Observable.from(Arrays.asList(1, 2, 3, 4, 5))\n    .filter(new Func1&lt;Integer, Boolean&gt;() {\n        public Boolean call(Integer i) {\n            return i % 2 != 0;\n        }\n    })\n    .subscribe(new Action1&lt;Integer&gt;() {\n        public void call(Integer i) {\n            System.out.println(i);\n        }\n    });\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>1\n3\n5\n</code></pre>\n\n<p>More details on RxJava's <code>filter</code> can be found <a href=\"https://github.com/ReactiveX/RxJava/wiki/Filtering-Observables#filter\" rel=\"noreferrer\">here</a>.</p>\n"},{"tags":[],"owner":{"account_id":451780,"reputation":6004,"user_id":847853,"accept_rate":68,"display_name":"Low Flying Pelican"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1409749175,"creation_date":1409749175,"answer_id":25645013,"question_id":122105,"body_markdown":"https://code.google.com/p/joquery/\r\n\r\nSupports different possibilities,\r\n\r\nGiven collection,\r\n\r\n    Collection&lt;Dto&gt; testList = new ArrayList&lt;&gt;();\r\n\r\nof type,\r\n\r\n    class Dto\r\n    {\r\n        private int id;\r\n        private String text;\r\n    \r\n        public int getId()\r\n        {\r\n            return id;\r\n        }\r\n    \r\n        public int getText()\r\n        {\r\n            return text;\r\n        }\r\n    }\r\n\r\n**Filter**\r\n\r\n***Java 7***\r\n\r\n    Filter&lt;Dto&gt; query = CQ.&lt;Dto&gt;filter(testList)\r\n        .where()\r\n        .property(&quot;id&quot;).eq().value(1);\r\n    Collection&lt;Dto&gt; filtered = query.list();\r\n\r\n***Java 8***\r\n\r\n    Filter&lt;Dto&gt; query = CQ.&lt;Dto&gt;filter(testList)\r\n        .where()\r\n        .property(Dto::getId)\r\n        .eq().value(1);\r\n    Collection&lt;Dto&gt; filtered = query.list();\r\n\r\nAlso,\r\n\r\n    Filter&lt;Dto&gt; query = CQ.&lt;Dto&gt;filter()\r\n            .from(testList)\r\n            .where()\r\n            .property(Dto::getId).between().value(1).value(2)\r\n            .and()\r\n            .property(Dto::grtText).in().value(new string[]{&quot;a&quot;,&quot;b&quot;});\r\n\r\n\r\n\r\n**Sorting** (also available for the Java 7)\r\n\r\n    Filter&lt;Dto&gt; query = CQ.&lt;Dto&gt;filter(testList)\r\n            .orderBy()\r\n            .property(Dto::getId)\r\n            .property(Dto::getName)\r\n        Collection&lt;Dto&gt; sorted = query.list();\r\n\r\n**Grouping** (also available for the Java 7)\r\n\r\n    GroupQuery&lt;Integer,Dto&gt; query = CQ.&lt;Dto,Dto&gt;query(testList)\r\n            .group()\r\n            .groupBy(Dto::getId)\r\n        Collection&lt;Grouping&lt;Integer,Dto&gt;&gt; grouped = query.list();\r\n\r\n**Joins** (also available for the Java 7)\r\n\r\nGiven,\r\n\r\n    class LeftDto\r\n    {\r\n        private int id;\r\n        private String text;\r\n    \r\n        public int getId()\r\n        {\r\n            return id;\r\n        }\r\n    \r\n        public int getText()\r\n        {\r\n            return text;\r\n        }\r\n    }\r\n    \r\n    class RightDto\r\n    {\r\n        private int id;\r\n        private int leftId;\r\n        private String text;\r\n    \r\n        public int getId()\r\n        {\r\n            return id;\r\n        }\r\n    \r\n        public int getLeftId()\r\n            {\r\n                return leftId;\r\n            }\r\n    \r\n        public int getText()\r\n        {\r\n            return text;\r\n        }\r\n    }\r\n    \r\n    class JoinedDto\r\n    {\r\n        private int leftId;\r\n        private int rightId;\r\n        private String text;\r\n    \r\n        public JoinedDto(int leftId,int rightId,String text)\r\n        {\r\n            this.leftId = leftId;\r\n            this.rightId = rightId;\r\n            this.text = text;\r\n        }\r\n    \r\n        public int getLeftId()\r\n        {\r\n            return leftId;\r\n        }\r\n    \r\n        public int getRightId()\r\n            {\r\n                return rightId;\r\n            }\r\n    \r\n        public int getText()\r\n        {\r\n            return text;\r\n        }\r\n    }\r\n    \r\n    Collection&lt;LeftDto&gt; leftList = new ArrayList&lt;&gt;();\r\n    \r\n    Collection&lt;RightDto&gt; rightList = new ArrayList&lt;&gt;();\r\n\r\nCan be Joined like,\r\n\r\n    Collection&lt;JoinedDto&gt; results = CQ.&lt;LeftDto, LeftDto&gt;query().from(leftList)\r\n                    .&lt;RightDto, JoinedDto&gt;innerJoin(CQ.&lt;RightDto, RightDto&gt;query().from(rightList))\r\n                    .on(LeftFyo::getId, RightDto::getLeftId)\r\n                    .transformDirect(selection -&gt;  new JoinedDto(selection.getLeft().getText()\r\n                                                         , selection.getLeft().getId()\r\n                                                         , selection.getRight().getId())\r\n                                     )\r\n                    .list();\r\n\r\n\r\n**Expressions**\r\n\r\n    Filter&lt;Dto&gt; query = CQ.&lt;Dto&gt;filter()\r\n        .from(testList)\r\n        .where()\r\n        .exec(s -&gt; s.getId() + 1).eq().value(2);\r\n\r\n","title":"How to filter a Java Collection (based on predicate)?","body":"<p><a href=\"https://code.google.com/p/joquery/\" rel=\"nofollow\">https://code.google.com/p/joquery/</a></p>\n\n<p>Supports different possibilities,</p>\n\n<p>Given collection,</p>\n\n<pre><code>Collection&lt;Dto&gt; testList = new ArrayList&lt;&gt;();\n</code></pre>\n\n<p>of type,</p>\n\n<pre><code>class Dto\n{\n    private int id;\n    private String text;\n\n    public int getId()\n    {\n        return id;\n    }\n\n    public int getText()\n    {\n        return text;\n    }\n}\n</code></pre>\n\n<p><strong>Filter</strong></p>\n\n<p><strong><em>Java 7</em></strong></p>\n\n<pre><code>Filter&lt;Dto&gt; query = CQ.&lt;Dto&gt;filter(testList)\n    .where()\n    .property(\"id\").eq().value(1);\nCollection&lt;Dto&gt; filtered = query.list();\n</code></pre>\n\n<p><strong><em>Java 8</em></strong></p>\n\n<pre><code>Filter&lt;Dto&gt; query = CQ.&lt;Dto&gt;filter(testList)\n    .where()\n    .property(Dto::getId)\n    .eq().value(1);\nCollection&lt;Dto&gt; filtered = query.list();\n</code></pre>\n\n<p>Also,</p>\n\n<pre><code>Filter&lt;Dto&gt; query = CQ.&lt;Dto&gt;filter()\n        .from(testList)\n        .where()\n        .property(Dto::getId).between().value(1).value(2)\n        .and()\n        .property(Dto::grtText).in().value(new string[]{\"a\",\"b\"});\n</code></pre>\n\n<p><strong>Sorting</strong> (also available for the Java 7)</p>\n\n<pre><code>Filter&lt;Dto&gt; query = CQ.&lt;Dto&gt;filter(testList)\n        .orderBy()\n        .property(Dto::getId)\n        .property(Dto::getName)\n    Collection&lt;Dto&gt; sorted = query.list();\n</code></pre>\n\n<p><strong>Grouping</strong> (also available for the Java 7)</p>\n\n<pre><code>GroupQuery&lt;Integer,Dto&gt; query = CQ.&lt;Dto,Dto&gt;query(testList)\n        .group()\n        .groupBy(Dto::getId)\n    Collection&lt;Grouping&lt;Integer,Dto&gt;&gt; grouped = query.list();\n</code></pre>\n\n<p><strong>Joins</strong> (also available for the Java 7)</p>\n\n<p>Given,</p>\n\n<pre><code>class LeftDto\n{\n    private int id;\n    private String text;\n\n    public int getId()\n    {\n        return id;\n    }\n\n    public int getText()\n    {\n        return text;\n    }\n}\n\nclass RightDto\n{\n    private int id;\n    private int leftId;\n    private String text;\n\n    public int getId()\n    {\n        return id;\n    }\n\n    public int getLeftId()\n        {\n            return leftId;\n        }\n\n    public int getText()\n    {\n        return text;\n    }\n}\n\nclass JoinedDto\n{\n    private int leftId;\n    private int rightId;\n    private String text;\n\n    public JoinedDto(int leftId,int rightId,String text)\n    {\n        this.leftId = leftId;\n        this.rightId = rightId;\n        this.text = text;\n    }\n\n    public int getLeftId()\n    {\n        return leftId;\n    }\n\n    public int getRightId()\n        {\n            return rightId;\n        }\n\n    public int getText()\n    {\n        return text;\n    }\n}\n\nCollection&lt;LeftDto&gt; leftList = new ArrayList&lt;&gt;();\n\nCollection&lt;RightDto&gt; rightList = new ArrayList&lt;&gt;();\n</code></pre>\n\n<p>Can be Joined like,</p>\n\n<pre><code>Collection&lt;JoinedDto&gt; results = CQ.&lt;LeftDto, LeftDto&gt;query().from(leftList)\n                .&lt;RightDto, JoinedDto&gt;innerJoin(CQ.&lt;RightDto, RightDto&gt;query().from(rightList))\n                .on(LeftFyo::getId, RightDto::getLeftId)\n                .transformDirect(selection -&gt;  new JoinedDto(selection.getLeft().getText()\n                                                     , selection.getLeft().getId()\n                                                     , selection.getRight().getId())\n                                 )\n                .list();\n</code></pre>\n\n<p><strong>Expressions</strong></p>\n\n<pre><code>Filter&lt;Dto&gt; query = CQ.&lt;Dto&gt;filter()\n    .from(testList)\n    .where()\n    .exec(s -&gt; s.getId() + 1).eq().value(2);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1540226,"reputation":1045,"user_id":1435079,"display_name":"Lawrence"},"score":0,"creation_date":1420628955,"post_id":27818083,"comment_id":44042032,"body_markdown":"Just implement the proper excludeItem per filter. You&#39;ll end up having separate filters exactly as you have sorters on Collections...","body":"Just implement the proper excludeItem per filter. You&#39;ll end up having separate filters exactly as you have sorters on Collections..."}],"tags":[],"owner":{"account_id":1540226,"reputation":1045,"user_id":1435079,"display_name":"Lawrence"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1522945368,"creation_date":1420628858,"answer_id":27818083,"question_id":122105,"body_markdown":"Some really great great answers here. Me, I&#39;d like to keep thins as simple and readable as possible:\r\n\r\n    public abstract class AbstractFilter&lt;T&gt; {\r\n\r\n        /**\r\n         * Method that returns whether an item is to be included or not.\r\n         * @param item an item from the given collection.\r\n         * @return true if this item is to be included in the collection, false in case it has to be removed.\r\n         */\r\n        protected abstract boolean excludeItem(T item);\r\n    \r\n        public void filter(Collection&lt;T&gt; collection) {\r\n            if (CollectionUtils.isNotEmpty(collection)) {\r\n                Iterator&lt;T&gt; iterator = collection.iterator();\r\n                while (iterator.hasNext()) {\r\n                    if (excludeItem(iterator.next())) {\r\n                        iterator.remove();\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }","title":"How to filter a Java Collection (based on predicate)?","body":"<p>Some really great great answers here. Me, I'd like to keep thins as simple and readable as possible:</p>\n\n<pre><code>public abstract class AbstractFilter&lt;T&gt; {\n\n    /**\n     * Method that returns whether an item is to be included or not.\n     * @param item an item from the given collection.\n     * @return true if this item is to be included in the collection, false in case it has to be removed.\n     */\n    protected abstract boolean excludeItem(T item);\n\n    public void filter(Collection&lt;T&gt; collection) {\n        if (CollectionUtils.isNotEmpty(collection)) {\n            Iterator&lt;T&gt; iterator = collection.iterator();\n            while (iterator.hasNext()) {\n                if (excludeItem(iterator.next())) {\n                    iterator.remove();\n                }\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2264130,"reputation":38917,"user_id":1993366,"accept_rate":86,"display_name":"vikingsteve"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1429701504,"creation_date":1429701504,"answer_id":29795865,"question_id":122105,"body_markdown":"My answer builds on that from Kevin Wong, here as a one-liner using `CollectionUtils` from *spring* and a Java 8 *lambda* expression.\r\n\r\n    CollectionUtils.filter(list, p -&gt; ((Person) p).getAge() &gt; 16);\r\n\r\nThis is as concise and readable as any alternative I have seen (without using aspect-based libraries)\r\n\r\nSpring [CollectionUtils][1] is available from spring version 4.0.2.RELEASE, and remember you need JDK 1.8 and language level 8+.\r\n\r\n\r\n  [1]: http://docs.spring.io/autorepo/docs/spring/4.0.2.RELEASE/javadoc-api/org/springframework/util/CollectionUtils.html","title":"How to filter a Java Collection (based on predicate)?","body":"<p>My answer builds on that from Kevin Wong, here as a one-liner using <code>CollectionUtils</code> from <em>spring</em> and a Java 8 <em>lambda</em> expression.</p>\n\n<pre><code>CollectionUtils.filter(list, p -&gt; ((Person) p).getAge() &gt; 16);\n</code></pre>\n\n<p>This is as concise and readable as any alternative I have seen (without using aspect-based libraries)</p>\n\n<p>Spring <a href=\"http://docs.spring.io/autorepo/docs/spring/4.0.2.RELEASE/javadoc-api/org/springframework/util/CollectionUtils.html\" rel=\"nofollow\">CollectionUtils</a> is available from spring version 4.0.2.RELEASE, and remember you need JDK 1.8 and language level 8+.</p>\n"},{"tags":[],"owner":{"account_id":1476930,"reputation":9005,"user_id":1387113,"accept_rate":100,"display_name":"hd84335"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1449956875,"creation_date":1449956875,"answer_id":34245383,"question_id":122105,"body_markdown":"Using `java 8`, specifically `lambda expression`, you can do it simply like the below example:\r\n \r\n    myProducts.stream().filter(prod -&gt; prod.price&gt;10).collect(Collectors.toList())\r\n\r\nwhere for each `product` inside `myProducts` collection, if `prod.price&gt;10`, then add this product to the new filtered list.","title":"How to filter a Java Collection (based on predicate)?","body":"<p>Using <code>java 8</code>, specifically <code>lambda expression</code>, you can do it simply like the below example:</p>\n\n<pre><code>myProducts.stream().filter(prod -&gt; prod.price&gt;10).collect(Collectors.toList())\n</code></pre>\n\n<p>where for each <code>product</code> inside <code>myProducts</code> collection, if <code>prod.price&gt;10</code>, then add this product to the new filtered list.</p>\n"},{"tags":[],"owner":{"account_id":362885,"reputation":37276,"user_id":706317,"accept_rate":70,"display_name":"ZhekaKozlov"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1481794004,"creation_date":1481793647,"answer_id":41160462,"question_id":122105,"body_markdown":"With Guava:\r\n\r\n    Collection&lt;Integer&gt; collection = Lists.newArrayList(1, 2, 3, 4, 5);\r\n\r\n    Iterators.removeIf(collection.iterator(), new Predicate&lt;Integer&gt;() {\r\n        @Override\r\n        public boolean apply(Integer i) {\r\n            return i % 2 == 0;\r\n        }\r\n    });\r\n\r\n    System.out.println(collection); // Prints 1, 3, 5","title":"How to filter a Java Collection (based on predicate)?","body":"<p>With Guava:</p>\n\n<pre><code>Collection&lt;Integer&gt; collection = Lists.newArrayList(1, 2, 3, 4, 5);\n\nIterators.removeIf(collection.iterator(), new Predicate&lt;Integer&gt;() {\n    @Override\n    public boolean apply(Integer i) {\n        return i % 2 == 0;\n    }\n});\n\nSystem.out.println(collection); // Prints 1, 3, 5\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1237217,"reputation":307,"user_id":1200563,"display_name":"Fredrik Metcalf"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1497536885,"creation_date":1497536885,"answer_id":44570130,"question_id":122105,"body_markdown":"I needed to filter a list depending on the values already present in the list. For example, remove all values following that is less than the current value. {2 5 3 4 7 5} -&gt; {2 5 7}. Or for example to remove all duplicates {3 5 4 2 3 5 6} -&gt; {3 5 4 2 6}.\r\n\r\n    public class Filter {\r\n        public static &lt;T&gt; void List(List&lt;T&gt; list, Chooser&lt;T&gt; chooser) {\r\n            List&lt;Integer&gt; toBeRemoved = new ArrayList&lt;&gt;();\r\n            leftloop:\r\n            for (int right = 1; right &lt; list.size(); ++right) {\r\n                for (int left = 0; left &lt; right; ++left) {\r\n                    if (toBeRemoved.contains(left)) {\r\n                        continue;\r\n                    }\r\n                    Keep keep = chooser.choose(list.get(left), list.get(right));\r\n                    switch (keep) {\r\n                        case LEFT:\r\n                            toBeRemoved.add(right);\r\n                            continue leftloop;\r\n                        case RIGHT:\r\n                            toBeRemoved.add(left);\r\n                            break;\r\n                        case NONE:\r\n                            toBeRemoved.add(left);\r\n                            toBeRemoved.add(right);\r\n                            continue leftloop;\r\n                    }\r\n                }\r\n            }\r\n    \r\n            Collections.sort(toBeRemoved, new Comparator&lt;Integer&gt;() {\r\n                @Override\r\n                public int compare(Integer o1, Integer o2) {\r\n                    return o2 - o1;\r\n                }\r\n            });\r\n    \r\n            for (int i : toBeRemoved) {\r\n                if (i &gt;= 0 &amp;&amp; i &lt; list.size()) {\r\n                    list.remove(i);\r\n                }\r\n            }\r\n        }\r\n    \r\n        public static &lt;T&gt; void List(List&lt;T&gt; list, Keeper&lt;T&gt; keeper) {\r\n            Iterator&lt;T&gt; iterator = list.iterator();\r\n            while (iterator.hasNext()) {\r\n                if (!keeper.keep(iterator.next())) {\r\n                    iterator.remove();\r\n                }\r\n            }\r\n        }\r\n    \r\n        public interface Keeper&lt;E&gt; {\r\n            boolean keep(E obj);\r\n        }\r\n    \r\n        public interface Chooser&lt;E&gt; {\r\n            Keep choose(E left, E right);\r\n        }\r\n    \r\n        public enum Keep {\r\n            LEFT, RIGHT, BOTH, NONE;\r\n        }\r\n    }\r\n\r\nThis will bee used like this.\r\n\r\n    List&lt;String&gt; names = new ArrayList&lt;&gt;();\r\n    names.add(&quot;Anders&quot;);\r\n    names.add(&quot;Stefan&quot;);\r\n    names.add(&quot;Anders&quot;);\r\n    Filter.List(names, new Filter.Chooser&lt;String&gt;() {\r\n        @Override\r\n        public Filter.Keep choose(String left, String right) {\r\n            return left.equals(right) ? Filter.Keep.LEFT : Filter.Keep.BOTH;\r\n        }\r\n    });","title":"How to filter a Java Collection (based on predicate)?","body":"<p>I needed to filter a list depending on the values already present in the list. For example, remove all values following that is less than the current value. {2 5 3 4 7 5} -> {2 5 7}. Or for example to remove all duplicates {3 5 4 2 3 5 6} -> {3 5 4 2 6}.</p>\n\n<pre><code>public class Filter {\n    public static &lt;T&gt; void List(List&lt;T&gt; list, Chooser&lt;T&gt; chooser) {\n        List&lt;Integer&gt; toBeRemoved = new ArrayList&lt;&gt;();\n        leftloop:\n        for (int right = 1; right &lt; list.size(); ++right) {\n            for (int left = 0; left &lt; right; ++left) {\n                if (toBeRemoved.contains(left)) {\n                    continue;\n                }\n                Keep keep = chooser.choose(list.get(left), list.get(right));\n                switch (keep) {\n                    case LEFT:\n                        toBeRemoved.add(right);\n                        continue leftloop;\n                    case RIGHT:\n                        toBeRemoved.add(left);\n                        break;\n                    case NONE:\n                        toBeRemoved.add(left);\n                        toBeRemoved.add(right);\n                        continue leftloop;\n                }\n            }\n        }\n\n        Collections.sort(toBeRemoved, new Comparator&lt;Integer&gt;() {\n            @Override\n            public int compare(Integer o1, Integer o2) {\n                return o2 - o1;\n            }\n        });\n\n        for (int i : toBeRemoved) {\n            if (i &gt;= 0 &amp;&amp; i &lt; list.size()) {\n                list.remove(i);\n            }\n        }\n    }\n\n    public static &lt;T&gt; void List(List&lt;T&gt; list, Keeper&lt;T&gt; keeper) {\n        Iterator&lt;T&gt; iterator = list.iterator();\n        while (iterator.hasNext()) {\n            if (!keeper.keep(iterator.next())) {\n                iterator.remove();\n            }\n        }\n    }\n\n    public interface Keeper&lt;E&gt; {\n        boolean keep(E obj);\n    }\n\n    public interface Chooser&lt;E&gt; {\n        Keep choose(E left, E right);\n    }\n\n    public enum Keep {\n        LEFT, RIGHT, BOTH, NONE;\n    }\n}\n</code></pre>\n\n<p>This will bee used like this.</p>\n\n<pre><code>List&lt;String&gt; names = new ArrayList&lt;&gt;();\nnames.add(\"Anders\");\nnames.add(\"Stefan\");\nnames.add(\"Anders\");\nFilter.List(names, new Filter.Chooser&lt;String&gt;() {\n    @Override\n    public Filter.Keep choose(String left, String right) {\n        return left.equals(right) ? Filter.Keep.LEFT : Filter.Keep.BOTH;\n    }\n});\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5758401,"reputation":2142,"user_id":4545552,"accept_rate":100,"display_name":"yanefedor"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1527170340,"creation_date":1527170340,"answer_id":50511268,"question_id":122105,"body_markdown":"Since **java 9** `Collectors.filtering` is enabled:\r\n\r\n    public static &lt;T, A, R&gt;\r\n        Collector&lt;T, ?, R&gt; filtering(Predicate&lt;? super T&gt; predicate,\r\n                                     Collector&lt;? super T, A, R&gt; downstream)\r\n\r\nThus filtering should be:\r\n\r\n    collection.stream().collect(Collectors.filtering(predicate, collector))\r\n\r\nExample:\r\n\r\n    List&lt;Integer&gt; oddNumbers = List.of(1, 19, 15, 10, -10).stream()\r\n                .collect(Collectors.filtering(i -&gt; i % 2 == 1, Collectors.toList()));\r\n\r\n","title":"How to filter a Java Collection (based on predicate)?","body":"<p>Since <strong>java 9</strong> <code>Collectors.filtering</code> is enabled:</p>\n\n<pre><code>public static &lt;T, A, R&gt;\n    Collector&lt;T, ?, R&gt; filtering(Predicate&lt;? super T&gt; predicate,\n                                 Collector&lt;? super T, A, R&gt; downstream)\n</code></pre>\n\n<p>Thus filtering should be:</p>\n\n<pre><code>collection.stream().collect(Collectors.filtering(predicate, collector))\n</code></pre>\n\n<p>Example:</p>\n\n<pre><code>List&lt;Integer&gt; oddNumbers = List.of(1, 19, 15, 10, -10).stream()\n            .collect(Collectors.filtering(i -&gt; i % 2 == 1, Collectors.toList()));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5417167,"reputation":184,"user_id":4312010,"display_name":"pramod_m"},"comment_count":0,"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1547765464,"creation_date":1539870004,"answer_id":52875398,"question_id":122105,"body_markdown":"In Java 8, You can directly use this filter method and then do that.\r\n    \r\n    \r\n    \r\n     List&lt;String&gt; lines = Arrays.asList(&quot;java&quot;, &quot;pramod&quot;, &quot;example&quot;);\r\n    \r\n     List&lt;String&gt; result = lines.stream()              \r\n             .filter(line -&gt; !&quot;pramod&quot;.equals(line))     \r\n             .collect(Collectors.toList());              \r\n    \r\n     result.forEach(System.out::println); \r\n\r\n\r\n","title":"How to filter a Java Collection (based on predicate)?","body":"<p>In Java 8, You can directly use this filter method and then do that.</p>\n\n<pre><code> List&lt;String&gt; lines = Arrays.asList(\"java\", \"pramod\", \"example\");\n\n List&lt;String&gt; result = lines.stream()              \n         .filter(line -&gt; !\"pramod\".equals(line))     \n         .collect(Collectors.toList());              \n\n result.forEach(System.out::println); \n</code></pre>\n"},{"tags":[],"owner":{"account_id":10864525,"reputation":289,"user_id":7988380,"display_name":"Muhammad Hamed K"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1627397760,"creation_date":1627397760,"answer_id":68547203,"question_id":122105,"body_markdown":"In my case, I was looking for list with specific field null excluded.\r\nThis could be done with for loop and fill the temporary list of objects who have no null addresses.\r\nbut Thanks to Java 8 Streams\r\n\r\n    List&lt;Person&gt; personsList = persons.stream()\r\n    .filter(p -&gt; p.getAdrress() != null).collect(Collectors.toList());\r\n\r\n#java #collection #collections #java8 #streams\r\n","title":"How to filter a Java Collection (based on predicate)?","body":"<p>In my case, I was looking for list with specific field null excluded.\nThis could be done with for loop and fill the temporary list of objects who have no null addresses.\nbut Thanks to Java 8 Streams</p>\n<pre><code>List&lt;Person&gt; personsList = persons.stream()\n.filter(p -&gt; p.getAdrress() != null).collect(Collectors.toList());\n</code></pre>\n<p>#java #collection #collections #java8 #streams</p>\n"},{"tags":[],"owner":{"account_id":19406719,"reputation":81,"user_id":14192015,"display_name":"Kevin Lano"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633256802,"creation_date":1633256802,"answer_id":69423954,"question_id":122105,"body_markdown":"An alternative (more lightweight) alternative to Java collection streams is the Ocl.java library, which uses vanilla collections and lambdas: https://github.com/eclipse/agileuml/blob/master/Ocl.java\r\n\r\nFor example, a simple filter and sum on an ArrayList&lt;String&gt; words \r\ncould be: \r\n\r\n    ArrayList&lt;Word&gt; sel = Ocl.selectSequence(words, \r\n                                 w -&gt; w.pos.equals(&quot;NN&quot;)); \r\n    int total = Ocl.sumint(Ocl.collectSequence(sel,\r\n                                 w -&gt; w.text.length())); \r\n\r\nWhere Word has  String pos; String text;  attributes. Efficiency seems similar to the streams option, eg, 10000 words are processed in about 50ms in both versions.\r\n\r\nThere are equivalent OCL libraries for Python, Swift, etc. Basically Java collection streams has re-invented the OCL operations -&gt;select, -&gt;collect, etc, which existed in OCL since 1998.\r\n\r\n","title":"How to filter a Java Collection (based on predicate)?","body":"<p>An alternative (more lightweight) alternative to Java collection streams is the Ocl.java library, which uses vanilla collections and lambdas: <a href=\"https://github.com/eclipse/agileuml/blob/master/Ocl.java\" rel=\"nofollow noreferrer\">https://github.com/eclipse/agileuml/blob/master/Ocl.java</a></p>\n<p>For example, a simple filter and sum on an ArrayList words\ncould be:</p>\n<pre><code>ArrayList&lt;Word&gt; sel = Ocl.selectSequence(words, \n                             w -&gt; w.pos.equals(&quot;NN&quot;)); \nint total = Ocl.sumint(Ocl.collectSequence(sel,\n                             w -&gt; w.text.length())); \n</code></pre>\n<p>Where Word has  String pos; String text;  attributes. Efficiency seems similar to the streams option, eg, 10000 words are processed in about 50ms in both versions.</p>\n<p>There are equivalent OCL libraries for Python, Swift, etc. Basically Java collection streams has re-invented the OCL operations -&gt;select, -&gt;collect, etc, which existed in OCL since 1998.</p>\n"},{"comments":[{"owner":{"account_id":4015385,"reputation":5418,"user_id":3307720,"accept_rate":51,"display_name":"nasch"},"score":0,"creation_date":1691628214,"post_id":76686697,"comment_id":135518581,"body_markdown":"This is the same as the accepted answer.","body":"This is the same as the accepted answer."}],"tags":[],"owner":{"account_id":6579550,"reputation":524,"user_id":5084232,"display_name":"Tushar Wasson"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689329314,"creation_date":1689329314,"answer_id":76686697,"question_id":122105,"body_markdown":"I prefer this way: \r\n\r\n \r\n\r\n    public static void main(String[] args) {\r\n        \r\n        //Create predicate\r\n        Predicate&lt;Integer&gt; FILTER_ODD_ONES =\r\n            number -&gt; number % 2 != 0;\r\n        \r\n        //Apply predicate\r\n        Arrays.asList(1, 2, 3, 4, 5, 6, 7, 8, 9, 10)\r\n            .stream()\r\n            .filter(FILTER_ODD_ONES)\r\n            .collect(Collectors.toList());\r\n      }","title":"How to filter a Java Collection (based on predicate)?","body":"<p>I prefer this way:</p>\n<pre><code>public static void main(String[] args) {\n    \n    //Create predicate\n    Predicate&lt;Integer&gt; FILTER_ODD_ONES =\n        number -&gt; number % 2 != 0;\n    \n    //Apply predicate\n    Arrays.asList(1, 2, 3, 4, 5, 6, 7, 8, 9, 10)\n        .stream()\n        .filter(FILTER_ODD_ONES)\n        .collect(Collectors.toList());\n  }\n</code></pre>\n"}],"owner":{"account_id":3324,"reputation":14696,"user_id":4792,"accept_rate":50,"display_name":"Kevin Wong"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":862087,"favorite_count":0,"down_vote_count":3,"up_vote_count":770,"accepted_answer_id":1385698,"answer_count":30,"score":767,"last_activity_date":1689329314,"creation_date":1222187186,"question_id":122105,"body_markdown":"I want to filter a `java.util.Collection` based on a predicate.","title":"How to filter a Java Collection (based on predicate)?","body":"<p>I want to filter a <code>java.util.Collection</code> based on a predicate.</p>\n"},{"tags":["java","xml","xpath","jdom","jdom-2"],"comments":[{"owner":{"account_id":384206,"reputation":50386,"user_id":740553,"accept_rate":46,"display_name":"Mike &#39;Pomax&#39; Kamermans"},"score":0,"creation_date":1689285067,"post_id":76682383,"comment_id":135195940,"body_markdown":"That depends entirely on the code you&#39;re using? Which XML parser/serializer are you using? Where&#39;s your code so far?","body":"That depends entirely on the code you&#39;re using? Which XML parser/serializer are you using? Where&#39;s your code so far?"}],"answers":[{"tags":[],"owner":{"account_id":91947,"reputation":161829,"user_id":252228,"accept_rate":80,"display_name":"Martin Honnen"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1689329067,"creation_date":1689289235,"answer_id":76683760,"question_id":76682383,"body_markdown":"Here is some attempt in XQuery 3.1 (which you can run with Java using Saxon HE or BaseX, not sure whether for both over JDOM, I think Saxon supports that https://www.saxonica.com/html/documentation11/sourcedocs/tree-models/thirdparty.html) to identify and wrap the elements e.g.\r\n\r\n    declare namespace output = &quot;http://www.w3.org/2010/xslt-xquery-serialization&quot;;\r\n    \r\n    declare option output:method &#39;xml&#39;;\r\n    declare option output:indent &#39;yes&#39;;\r\n    \r\n    declare function local:transform($node as node(), $siblings-to-be-wrapped as array(element()*)*) {\r\n      typeswitch ($node)\r\n        case document-node()\r\n          return document { $node!node()!local:transform(., $siblings-to-be-wrapped) }\r\n        case element()\r\n          return \r\n            let $match := $siblings-to-be-wrapped[some $el in ?* satisfies $el is $node]\r\n            return if ($node is $match?1)\r\n                   then &lt;added&gt;{$match}&lt;/added&gt;\r\n                   else if (not(exists($match)))\r\n                   then element { node-name($node) } { $node!@*, $node!node()!local:transform(., $siblings-to-be-wrapped) }\r\n                   else ()\r\n        default\r\n          return $node\r\n    };\r\n    \r\n    let $start-elements := //start,\r\n        $stop-elements := //stop,\r\n        $siblings-to-be-wrapped := for-each-pair(\r\n          $start-elements, \r\n          $stop-elements, \r\n          function($s, $e) { \r\n            let $elements-to-be-wrapped := outermost(root($s)//*[. &gt;&gt; $s and . &lt;&lt; $e][not(some $d in .//* satisfies ($d is $s or $d is $e))])\r\n            for tumbling window $siblings in $elements-to-be-wrapped\r\n            start $s when true()\r\n            end next $n when not($s/.. is $n/..)\r\n            return array { $siblings }\r\n          }\r\n        )\r\n    return\r\n        local:transform(/, $siblings-to-be-wrapped)\r\n\r\n\r\nResult is e.g.\r\n\r\n    &lt;root&gt;\r\n       &lt;a&gt;\r\n          &lt;ax&gt;\r\n             &lt;start/&gt;\r\n          &lt;/ax&gt;\r\n          &lt;added&gt;\r\n             &lt;ay/&gt;\r\n             &lt;az/&gt;\r\n          &lt;/added&gt;\r\n       &lt;/a&gt;\r\n       &lt;added&gt;\r\n          &lt;b&gt;\r\n             &lt;bx/&gt;\r\n          &lt;/b&gt;\r\n       &lt;/added&gt;\r\n       &lt;c&gt;\r\n          &lt;added&gt;\r\n             &lt;cx/&gt;\r\n             &lt;cy/&gt;\r\n          &lt;/added&gt;\r\n          &lt;cz&gt;\r\n             &lt;added&gt;\r\n                &lt;cza/&gt;\r\n             &lt;/added&gt;\r\n             &lt;czb&gt;\r\n                &lt;stop/&gt;\r\n             &lt;/czb&gt;\r\n          &lt;/cz&gt;\r\n       &lt;/c&gt;\r\n    &lt;/root&gt;\r\n\r\n\r\nNot well tested and currently, like in the shown input sample, looking only for element nodes to be wrapped, not expecting mixed contents with text nodes split by e.g. `&lt;start/&gt;` and `&lt;stop/&gt;`.\r\n\r\nMinimal Saxon HE (used 12.3) code to run XQuery against an input file and output the result (for testing to System.out) is e.g.\r\n\r\n    import net.sf.saxon.s9api.*;\r\n    \r\n    import java.io.File;\r\n    import java.io.IOException;\r\n    \r\n    public class Main {\r\n        public static void main(String[] args) throws IOException, SaxonApiException {\r\n            Processor processor = new Processor();\r\n    \r\n            DocumentBuilder docBuilder = processor.newDocumentBuilder();\r\n    \r\n            XdmNode inputDoc = docBuilder.build(new File(&quot;sample1.xml&quot;));\r\n    \r\n            XQueryCompiler xqueryCompiler = processor.newXQueryCompiler();\r\n    \r\n            XQueryExecutable xqueryExecutable = xqueryCompiler.compile(new File(&quot;wrap-siblings-between-milestones1.xq&quot;));\r\n    \r\n            XQueryEvaluator xqueryEvaluator = xqueryExecutable.load();\r\n    \r\n            xqueryEvaluator.setContextItem(inputDoc);\r\n    \r\n            xqueryEvaluator.run(processor.newSerializer(System.out));\r\n        }\r\n    }\r\n\r\nExample online: https://github.com/martin-honnen/SaxonXQueryWrapSiblingsBetweenMileStones\r\n\r\nTo use JDOM2 with Saxon HE you need to download the source from https://github.com/Saxonica/Saxon-HE/tree/main/12/source and compile the `net.sf.saxon.option.jdom2` package into your Java project (and it seems comment out line 50 in JDOM2DocumentWrapper.java before you do that), then the code to run XQuery on the JDOM Document and return a new one is e.g.\r\n\r\n    import net.sf.saxon.option.jdom2.JDOM2ObjectModel;\r\n    import net.sf.saxon.s9api.*;\r\n    import org.jdom2.Document;\r\n    import org.jdom2.JDOMException;\r\n    import org.jdom2.input.SAXBuilder;\r\n    import org.jdom2.output.Format;\r\n    import org.jdom2.output.XMLOutputter;\r\n    import org.jdom2.transform.JDOMResult;\r\n    \r\n    import java.io.File;\r\n    import java.io.IOException;\r\n    \r\n    public class Main {\r\n        public static void main(String[] args) throws IOException, SaxonApiException, JDOMException {\r\n            Processor processor = new Processor();\r\n    \r\n            processor.getUnderlyingConfiguration().registerExternalObjectModel(new JDOM2ObjectModel());\r\n    \r\n            Document jdomDocument = new SAXBuilder().build(new File(&quot;sample1.xml&quot;));\r\n    \r\n            DocumentBuilder docBuilder = processor.newDocumentBuilder();\r\n    \r\n            XdmNode inputDoc = docBuilder.wrap(jdomDocument);\r\n    \r\n            XQueryCompiler xqueryCompiler = processor.newXQueryCompiler();\r\n    \r\n            XQueryExecutable xqueryExecutable = xqueryCompiler.compile(new File(&quot;wrap-siblings-between-milestones1.xq&quot;));\r\n    \r\n            XQueryEvaluator xqueryEvaluator = xqueryExecutable.load();\r\n    \r\n            xqueryEvaluator.setContextItem(inputDoc);\r\n    \r\n            JDOMResult jdomResult = new JDOMResult();\r\n    \r\n            xqueryEvaluator.run(new SAXDestination(jdomResult.getHandler()));\r\n    \r\n            Document resultDoc = jdomResult.getDocument();\r\n    \r\n            XMLOutputter xmlOutputter = new XMLOutputter(Format.getPrettyFormat());\r\n    \r\n            xmlOutputter.output(resultDoc, System.out);\r\n    \r\n        }\r\n    }\r\n\r\nExample online: https://github.com/martin-honnen/SaxonXQueryWrapSiblingsBetweenMileStones/tree/UseJDOM","title":"How can i create a new XML parents for elements which are between two boundary elements","body":"<p>Here is some attempt in XQuery 3.1 (which you can run with Java using Saxon HE or BaseX, not sure whether for both over JDOM, I think Saxon supports that <a href=\"https://www.saxonica.com/html/documentation11/sourcedocs/tree-models/thirdparty.html\" rel=\"nofollow noreferrer\">https://www.saxonica.com/html/documentation11/sourcedocs/tree-models/thirdparty.html</a>) to identify and wrap the elements e.g.</p>\n<pre><code>declare namespace output = &quot;http://www.w3.org/2010/xslt-xquery-serialization&quot;;\n\ndeclare option output:method 'xml';\ndeclare option output:indent 'yes';\n\ndeclare function local:transform($node as node(), $siblings-to-be-wrapped as array(element()*)*) {\n  typeswitch ($node)\n    case document-node()\n      return document { $node!node()!local:transform(., $siblings-to-be-wrapped) }\n    case element()\n      return \n        let $match := $siblings-to-be-wrapped[some $el in ?* satisfies $el is $node]\n        return if ($node is $match?1)\n               then &lt;added&gt;{$match}&lt;/added&gt;\n               else if (not(exists($match)))\n               then element { node-name($node) } { $node!@*, $node!node()!local:transform(., $siblings-to-be-wrapped) }\n               else ()\n    default\n      return $node\n};\n\nlet $start-elements := //start,\n    $stop-elements := //stop,\n    $siblings-to-be-wrapped := for-each-pair(\n      $start-elements, \n      $stop-elements, \n      function($s, $e) { \n        let $elements-to-be-wrapped := outermost(root($s)//*[. &gt;&gt; $s and . &lt;&lt; $e][not(some $d in .//* satisfies ($d is $s or $d is $e))])\n        for tumbling window $siblings in $elements-to-be-wrapped\n        start $s when true()\n        end next $n when not($s/.. is $n/..)\n        return array { $siblings }\n      }\n    )\nreturn\n    local:transform(/, $siblings-to-be-wrapped)\n</code></pre>\n<p>Result is e.g.</p>\n<pre><code>&lt;root&gt;\n   &lt;a&gt;\n      &lt;ax&gt;\n         &lt;start/&gt;\n      &lt;/ax&gt;\n      &lt;added&gt;\n         &lt;ay/&gt;\n         &lt;az/&gt;\n      &lt;/added&gt;\n   &lt;/a&gt;\n   &lt;added&gt;\n      &lt;b&gt;\n         &lt;bx/&gt;\n      &lt;/b&gt;\n   &lt;/added&gt;\n   &lt;c&gt;\n      &lt;added&gt;\n         &lt;cx/&gt;\n         &lt;cy/&gt;\n      &lt;/added&gt;\n      &lt;cz&gt;\n         &lt;added&gt;\n            &lt;cza/&gt;\n         &lt;/added&gt;\n         &lt;czb&gt;\n            &lt;stop/&gt;\n         &lt;/czb&gt;\n      &lt;/cz&gt;\n   &lt;/c&gt;\n&lt;/root&gt;\n</code></pre>\n<p>Not well tested and currently, like in the shown input sample, looking only for element nodes to be wrapped, not expecting mixed contents with text nodes split by e.g. <code>&lt;start/&gt;</code> and <code>&lt;stop/&gt;</code>.</p>\n<p>Minimal Saxon HE (used 12.3) code to run XQuery against an input file and output the result (for testing to System.out) is e.g.</p>\n<pre><code>import net.sf.saxon.s9api.*;\n\nimport java.io.File;\nimport java.io.IOException;\n\npublic class Main {\n    public static void main(String[] args) throws IOException, SaxonApiException {\n        Processor processor = new Processor();\n\n        DocumentBuilder docBuilder = processor.newDocumentBuilder();\n\n        XdmNode inputDoc = docBuilder.build(new File(&quot;sample1.xml&quot;));\n\n        XQueryCompiler xqueryCompiler = processor.newXQueryCompiler();\n\n        XQueryExecutable xqueryExecutable = xqueryCompiler.compile(new File(&quot;wrap-siblings-between-milestones1.xq&quot;));\n\n        XQueryEvaluator xqueryEvaluator = xqueryExecutable.load();\n\n        xqueryEvaluator.setContextItem(inputDoc);\n\n        xqueryEvaluator.run(processor.newSerializer(System.out));\n    }\n}\n</code></pre>\n<p>Example online: <a href=\"https://github.com/martin-honnen/SaxonXQueryWrapSiblingsBetweenMileStones\" rel=\"nofollow noreferrer\">https://github.com/martin-honnen/SaxonXQueryWrapSiblingsBetweenMileStones</a></p>\n<p>To use JDOM2 with Saxon HE you need to download the source from <a href=\"https://github.com/Saxonica/Saxon-HE/tree/main/12/source\" rel=\"nofollow noreferrer\">https://github.com/Saxonica/Saxon-HE/tree/main/12/source</a> and compile the <code>net.sf.saxon.option.jdom2</code> package into your Java project (and it seems comment out line 50 in JDOM2DocumentWrapper.java before you do that), then the code to run XQuery on the JDOM Document and return a new one is e.g.</p>\n<pre><code>import net.sf.saxon.option.jdom2.JDOM2ObjectModel;\nimport net.sf.saxon.s9api.*;\nimport org.jdom2.Document;\nimport org.jdom2.JDOMException;\nimport org.jdom2.input.SAXBuilder;\nimport org.jdom2.output.Format;\nimport org.jdom2.output.XMLOutputter;\nimport org.jdom2.transform.JDOMResult;\n\nimport java.io.File;\nimport java.io.IOException;\n\npublic class Main {\n    public static void main(String[] args) throws IOException, SaxonApiException, JDOMException {\n        Processor processor = new Processor();\n\n        processor.getUnderlyingConfiguration().registerExternalObjectModel(new JDOM2ObjectModel());\n\n        Document jdomDocument = new SAXBuilder().build(new File(&quot;sample1.xml&quot;));\n\n        DocumentBuilder docBuilder = processor.newDocumentBuilder();\n\n        XdmNode inputDoc = docBuilder.wrap(jdomDocument);\n\n        XQueryCompiler xqueryCompiler = processor.newXQueryCompiler();\n\n        XQueryExecutable xqueryExecutable = xqueryCompiler.compile(new File(&quot;wrap-siblings-between-milestones1.xq&quot;));\n\n        XQueryEvaluator xqueryEvaluator = xqueryExecutable.load();\n\n        xqueryEvaluator.setContextItem(inputDoc);\n\n        JDOMResult jdomResult = new JDOMResult();\n\n        xqueryEvaluator.run(new SAXDestination(jdomResult.getHandler()));\n\n        Document resultDoc = jdomResult.getDocument();\n\n        XMLOutputter xmlOutputter = new XMLOutputter(Format.getPrettyFormat());\n\n        xmlOutputter.output(resultDoc, System.out);\n\n    }\n}\n</code></pre>\n<p>Example online: <a href=\"https://github.com/martin-honnen/SaxonXQueryWrapSiblingsBetweenMileStones/tree/UseJDOM\" rel=\"nofollow noreferrer\">https://github.com/martin-honnen/SaxonXQueryWrapSiblingsBetweenMileStones/tree/UseJDOM</a></p>\n"}],"owner":{"account_id":29012300,"reputation":1,"user_id":22223544,"display_name":"marianogaccio"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1689329067,"creation_date":1689273727,"question_id":76682383,"body_markdown":"I would like to create a new XML parents at the highest possible levels for elements which are between two boundary elements in the JDOM2 structure.\r\nPractically there are no limitations to the placement of the `&lt;start&gt;` and `&lt;stop&gt;` elements.\r\n\r\nSimplified example:\r\n\r\n```\r\n&lt;root&gt;\r\n    &lt;a&gt;\r\n        &lt;ax&gt;\r\n            &lt;start&gt;&lt;/start&gt;\r\n        &lt;/ax&gt;\r\n        &lt;ay&gt;&lt;/ay&gt;\r\n        &lt;az&gt;&lt;/az&gt;\r\n    &lt;/a&gt;\r\n    &lt;b&gt;\r\n       &lt;bx&gt;&lt;/bx&gt;\r\n    &lt;/b&gt;\r\n    &lt;c&gt;\r\n        &lt;cx&gt;&lt;/cx&gt;\r\n        &lt;cy&gt;&lt;/cy&gt;\r\n        &lt;cz&gt;\r\n            &lt;cza&gt;&lt;/cza&gt;\r\n            &lt;czb&gt;\r\n                &lt;stop&gt;&lt;/stop&gt;\r\n            &lt;/czb&gt;\r\n        &lt;/cz&gt;\r\n    &lt;/c&gt;\r\n\r\n```\r\n\r\noutput:\r\n\r\n```\r\n&lt;root&gt;\r\n    &lt;a&gt;\r\n        &lt;ax&gt;\r\n            &lt;start&gt;&lt;/start&gt;\r\n        &lt;/ax&gt;\r\n        &lt;added&gt;\r\n            &lt;ay&gt;&lt;/ay&gt;\r\n            &lt;az&gt;&lt;/az&gt;\r\n        &lt;/added&gt;\r\n    &lt;/a&gt;\r\n    &lt;added&gt;\r\n        &lt;b&gt;\r\n            &lt;bx&gt;&lt;/bx&gt;\r\n        &lt;/b&gt;\r\n    &lt;/added&gt;\r\n    &lt;c&gt;\r\n        &lt;added&gt;\r\n            &lt;cx&gt;&lt;/cx&gt;\r\n            &lt;cy&gt;&lt;/cy&gt;\r\n        &lt;/added&gt;\r\n        &lt;cz&gt;\r\n            &lt;added&gt;\r\n                &lt;cza&gt;&lt;/cza&gt;\r\n            &lt;/added&gt;\r\n            &lt;czb&gt;\r\n                &lt;stop&gt;&lt;/stop&gt;\r\n            &lt;/czb&gt;\r\n        &lt;/cz&gt;\r\n    &lt;/c&gt;\r\n\r\n```\r\n","title":"How can i create a new XML parents for elements which are between two boundary elements","body":"<p>I would like to create a new XML parents at the highest possible levels for elements which are between two boundary elements in the JDOM2 structure.\nPractically there are no limitations to the placement of the <code>&lt;start&gt;</code> and <code>&lt;stop&gt;</code> elements.</p>\n<p>Simplified example:</p>\n<pre><code>&lt;root&gt;\n    &lt;a&gt;\n        &lt;ax&gt;\n            &lt;start&gt;&lt;/start&gt;\n        &lt;/ax&gt;\n        &lt;ay&gt;&lt;/ay&gt;\n        &lt;az&gt;&lt;/az&gt;\n    &lt;/a&gt;\n    &lt;b&gt;\n       &lt;bx&gt;&lt;/bx&gt;\n    &lt;/b&gt;\n    &lt;c&gt;\n        &lt;cx&gt;&lt;/cx&gt;\n        &lt;cy&gt;&lt;/cy&gt;\n        &lt;cz&gt;\n            &lt;cza&gt;&lt;/cza&gt;\n            &lt;czb&gt;\n                &lt;stop&gt;&lt;/stop&gt;\n            &lt;/czb&gt;\n        &lt;/cz&gt;\n    &lt;/c&gt;\n\n</code></pre>\n<p>output:</p>\n<pre><code>&lt;root&gt;\n    &lt;a&gt;\n        &lt;ax&gt;\n            &lt;start&gt;&lt;/start&gt;\n        &lt;/ax&gt;\n        &lt;added&gt;\n            &lt;ay&gt;&lt;/ay&gt;\n            &lt;az&gt;&lt;/az&gt;\n        &lt;/added&gt;\n    &lt;/a&gt;\n    &lt;added&gt;\n        &lt;b&gt;\n            &lt;bx&gt;&lt;/bx&gt;\n        &lt;/b&gt;\n    &lt;/added&gt;\n    &lt;c&gt;\n        &lt;added&gt;\n            &lt;cx&gt;&lt;/cx&gt;\n            &lt;cy&gt;&lt;/cy&gt;\n        &lt;/added&gt;\n        &lt;cz&gt;\n            &lt;added&gt;\n                &lt;cza&gt;&lt;/cza&gt;\n            &lt;/added&gt;\n            &lt;czb&gt;\n                &lt;stop&gt;&lt;/stop&gt;\n            &lt;/czb&gt;\n        &lt;/cz&gt;\n    &lt;/c&gt;\n\n</code></pre>\n"},{"tags":["java","string"],"comments":[{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":0,"creation_date":1689154851,"post_id":76669161,"comment_id":135172028,"body_markdown":"You can either `split` the String at every `_` and then re-join it, you can also use `indexOf` and `substring` or use the cleaner approach using a regular expression. Have you tried anything yet?","body":"You can either <code>split</code> the String at every <code>_</code> and then re-join it, you can also use <code>indexOf</code> and <code>substring</code> or use the cleaner approach using a regular expression. Have you tried anything yet?"},{"owner":{"display_name":"user6073886"},"score":0,"creation_date":1689154900,"post_id":76669161,"comment_id":135172040,"body_markdown":"split by underscore, check if last element of array matches V[0-9]+ and depending on that conditionally rejoin your string.","body":"split by underscore, check if last element of array matches V[0-9]+ and depending on that conditionally rejoin your string."},{"owner":{"account_id":216120,"reputation":49213,"user_id":471160,"accept_rate":90,"display_name":"marcinj"},"score":0,"creation_date":1689156540,"post_id":76669161,"comment_id":135172415,"body_markdown":"iterate from the end checking if _v or _V was found, and also if all the characters so far were digits. If _v or _V was found, then use substring on your string to remove unwanted sufix. Or, use regex","body":"iterate from the end checking if _v or _V was found, and also if all the characters so far were digits. If _v or _V was found, then use substring on your string to remove unwanted sufix. Or, use regex"}],"answers":[{"tags":[],"owner":{"account_id":2094057,"reputation":506144,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1689155079,"creation_date":1689155079,"answer_id":76669218,"question_id":76669161,"body_markdown":"Use a regex replacement:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    String input1 = &quot;Abs_es_ten_V1&quot;;\r\n    String input2 = &quot;Abs_es_ten_X2&quot;;\r\n    input1 = input1.replaceAll(&quot;_V[^_]*$&quot;, &quot;&quot;);\r\n    input2 = input2.replaceAll(&quot;_V[^_]*$&quot;, &quot;&quot;);\r\n    System.out.println(input1);  // Abs_es_ten\r\n    System.out.println(input2);  // Abs_es_ten_X2","title":"Remove a word at the end of string if matches certain word in java","body":"<p>Use a regex replacement:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String input1 = &quot;Abs_es_ten_V1&quot;;\nString input2 = &quot;Abs_es_ten_X2&quot;;\ninput1 = input1.replaceAll(&quot;_V[^_]*$&quot;, &quot;&quot;);\ninput2 = input2.replaceAll(&quot;_V[^_]*$&quot;, &quot;&quot;);\nSystem.out.println(input1);  // Abs_es_ten\nSystem.out.println(input2);  // Abs_es_ten_X2\n</code></pre>\n"},{"comments":[{"owner":{"account_id":13462875,"reputation":1315,"user_id":9714255,"display_name":"LoukasPap"},"score":1,"creation_date":1689159992,"post_id":76669480,"comment_id":135173191,"body_markdown":"@KesavanBalakrishnan You are welcome. Please accept my answer or Tim&#39;s answer as the correct one now that they solve your problem. To do this, click on the grey mark next to the voting section of our answers.","body":"@KesavanBalakrishnan You are welcome. Please accept my answer or Tim&#39;s answer as the correct one now that they solve your problem. To do this, click on the grey mark next to the voting section of our answers."}],"tags":[],"owner":{"account_id":13462875,"reputation":1315,"user_id":9714255,"display_name":"LoukasPap"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1689157197,"creation_date":1689156829,"answer_id":76669480,"question_id":76669161,"body_markdown":"Here is another solution, a bit more complicated:\r\n\r\nWe use `substring()` with\r\n* start index (**inclusive**): `lastIndexOf(&quot;_&quot;)` to take the index of the last underscore\r\n* end index (**exclusive**): `lastIndexOf(&quot;_&quot;) + 2` to keep the char after the last underscore in our substring\r\n\r\nand check if it `equals` with &quot;_V&quot;.\r\n\r\nIf it is true, then we substring the inputs without the characters after the final underscore.\r\n\r\n```java\r\nString input1 = &quot;Abs_es_ten_V1&quot;;\r\nString input2 = &quot;Abs_es_ten_X2&quot;;\r\n\r\nif ( input1.substring(input1.lastIndexOf(&quot;_&quot;), (input1.lastIndexOf(&quot;_&quot;)+2)).equals(&quot;_V&quot;) )\r\n    input1 = input1.substring(0, input1.lastIndexOf(&quot;_&quot;));\r\n\r\nif ( input2.substring(input2.lastIndexOf(&quot;_&quot;), (input2.lastIndexOf(&quot;_&quot;)+2)).equals(&quot;_V&quot;) )\r\n    input2 = input2.substring(0, input2.lastIndexOf(&quot;_&quot;));\r\n```","title":"Remove a word at the end of string if matches certain word in java","body":"<p>Here is another solution, a bit more complicated:</p>\n<p>We use <code>substring()</code> with</p>\n<ul>\n<li>start index (<strong>inclusive</strong>): <code>lastIndexOf(&quot;_&quot;)</code> to take the index of the last underscore</li>\n<li>end index (<strong>exclusive</strong>): <code>lastIndexOf(&quot;_&quot;) + 2</code> to keep the char after the last underscore in our substring</li>\n</ul>\n<p>and check if it <code>equals</code> with &quot;_V&quot;.</p>\n<p>If it is true, then we substring the inputs without the characters after the final underscore.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String input1 = &quot;Abs_es_ten_V1&quot;;\nString input2 = &quot;Abs_es_ten_X2&quot;;\n\nif ( input1.substring(input1.lastIndexOf(&quot;_&quot;), (input1.lastIndexOf(&quot;_&quot;)+2)).equals(&quot;_V&quot;) )\n    input1 = input1.substring(0, input1.lastIndexOf(&quot;_&quot;));\n\nif ( input2.substring(input2.lastIndexOf(&quot;_&quot;), (input2.lastIndexOf(&quot;_&quot;)+2)).equals(&quot;_V&quot;) )\n    input2 = input2.substring(0, input2.lastIndexOf(&quot;_&quot;));\n</code></pre>\n"},{"comments":[{"owner":{"account_id":13462875,"reputation":1315,"user_id":9714255,"display_name":"LoukasPap"},"score":0,"creation_date":1689160419,"post_id":76669922,"comment_id":135173270,"body_markdown":"What if it has an input like `Abs_es_Ven_V1`? I don&#39;t know if there is any chance of this input.","body":"What if it has an input like <code>Abs_es_Ven_V1</code>? I don&#39;t know if there is any chance of this input."},{"owner":{"account_id":23134567,"reputation":534,"user_id":17238973,"display_name":"Sahil Patel"},"score":0,"creation_date":1689160836,"post_id":76669922,"comment_id":135173357,"body_markdown":"for `Abs_es_Ven_V1` input it will also give you a output `Abs_es`.","body":"for <code>Abs_es_Ven_V1</code> input it will also give you a output <code>Abs_es</code>."},{"owner":{"account_id":13462875,"reputation":1315,"user_id":9714255,"display_name":"LoukasPap"},"score":1,"creation_date":1689161103,"post_id":76669922,"comment_id":135173404,"body_markdown":"But this is wrong. For input `Abs_es_Ven_V1`, the output should be `Abs_es_Ven`. Because only the *last* &#39;_V&#39; indicates the version (and must be removed). \nMy only concern is if there are inputs like this one. If not, then your answer is OK.","body":"But this is wrong. For input <code>Abs_es_Ven_V1</code>, the output should be <code>Abs_es_Ven</code>. Because only the <i>last</i> &#39;_V&#39; indicates the version (and must be removed).  My only concern is if there are inputs like this one. If not, then your answer is OK."},{"owner":{"account_id":23134567,"reputation":534,"user_id":17238973,"display_name":"Sahil Patel"},"score":0,"creation_date":1689161145,"post_id":76669922,"comment_id":135173413,"body_markdown":"because string are divided into `3 parts : Abs_es, en and 1&#39; and all there parts are stored in array. So when accessing the value at index 0  it will be` Abs_es`.","body":"because string are divided into <code>3 parts : Abs_es, en and 1&#39; and all there parts are stored in array. So when accessing the value at index 0  it will be</code> Abs_es`."}],"tags":[],"owner":{"account_id":23134567,"reputation":534,"user_id":17238973,"display_name":"Sahil Patel"},"comment_count":4,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1689160255,"creation_date":1689160255,"answer_id":76669922,"question_id":76669161,"body_markdown":"you can use split() to get a string before a specific character like below\r\n\r\n    String s= &quot;Abs_es_ten_V1&quot;;\r\n    String[] parts = s.split(&quot;_V&quot;);\r\n    String result = parts[0];\r\n    System.out.println(result);","title":"Remove a word at the end of string if matches certain word in java","body":"<p>you can use split() to get a string before a specific character like below</p>\n<pre><code>String s= &quot;Abs_es_ten_V1&quot;;\nString[] parts = s.split(&quot;_V&quot;);\nString result = parts[0];\nSystem.out.println(result);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23134567,"reputation":534,"user_id":17238973,"display_name":"Sahil Patel"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1689328401,"creation_date":1689320549,"answer_id":76685655,"question_id":76669161,"body_markdown":" \r\nI have solved with another approach.hope it&#39;s help.\r\n\r\n    String input = &quot;Abs_es_Ven_V1&quot;;\r\n    String uInput = input.replaceAll(&quot;_&quot;, &quot; &quot;);\r\n    List&lt;String&gt; words = Arrays.asList(uInput.split(&quot; &quot;));\r\n    int size = words.size() - 1;\r\n    List&lt;String&gt; op = new ArrayList&lt;&gt;();\r\n\r\n    for (int i = 0; i &lt;= size; i++) \r\n        {\r\n           if (words.get(i) != words.get(size)) {\r\n                        op.add(words.get(i));\r\n           }\r\n           if (words.get(i).equals(words.get(size)) &amp;&amp; !words.get(i).contains(&quot;V&quot;)) {\r\n                        op.add(words.get(i));\r\n           }\r\n        }\r\n    String result = String.join(&quot;_&quot;,op);\r\n    System.out.println(&quot;result ::&quot;+result);","title":"Remove a word at the end of string if matches certain word in java","body":"<p>I have solved with another approach.hope it's help.</p>\n<pre><code>String input = &quot;Abs_es_Ven_V1&quot;;\nString uInput = input.replaceAll(&quot;_&quot;, &quot; &quot;);\nList&lt;String&gt; words = Arrays.asList(uInput.split(&quot; &quot;));\nint size = words.size() - 1;\nList&lt;String&gt; op = new ArrayList&lt;&gt;();\n\nfor (int i = 0; i &lt;= size; i++) \n    {\n       if (words.get(i) != words.get(size)) {\n                    op.add(words.get(i));\n       }\n       if (words.get(i).equals(words.get(size)) &amp;&amp; !words.get(i).contains(&quot;V&quot;)) {\n                    op.add(words.get(i));\n       }\n    }\nString result = String.join(&quot;_&quot;,op);\nSystem.out.println(&quot;result ::&quot;+result);\n</code></pre>\n"}],"owner":{"account_id":26225274,"reputation":1,"user_id":19902050,"display_name":"Kesavan Balakrishnan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":83,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":4,"score":-1,"last_activity_date":1689328401,"creation_date":1689154684,"question_id":76669161,"body_markdown":"Need a solution for the below scenario,\r\n\r\nInput String --&gt; **Abs_es_ten_V1**\r\n\r\nExpected output --&gt; **Abs_es_ten**\r\n\r\nFor various input string at the end it may be like --&gt; _v23 ,_v6, _v78 or different\r\n\r\nSo how can I remove the words at the end of string starting with &quot;_v&quot;","title":"Remove a word at the end of string if matches certain word in java","body":"<p>Need a solution for the below scenario,</p>\n<p>Input String --&gt; <strong>Abs_es_ten_V1</strong></p>\n<p>Expected output --&gt; <strong>Abs_es_ten</strong></p>\n<p>For various input string at the end it may be like --&gt; _v23 ,_v6, _v78 or different</p>\n<p>So how can I remove the words at the end of string starting with &quot;_v&quot;</p>\n"},{"tags":["java","return","void"],"owner":{"account_id":28667630,"reputation":1,"user_id":21951314,"display_name":"Haris"},"comment_count":0,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":5,"up_vote_count":0,"closed_date":1689327523,"answer_count":0,"score":-5,"last_activity_date":1689327635,"creation_date":1689327306,"question_id":76686473,"body_markdown":"I tried to write a return statement in void method. I thought it can&#39;t run but it does. How?\r\n\r\nAnyone know that what exactly happens when I give a return statement inside a void method and it works?\r\n\r\n```\r\nclass HelloWorld {\r\n    public void hello(){\r\n        for(int i=0; i&lt;10; i++){\r\n            System.out.println(i);\r\n            if(i==5)\r\n                return;\r\n        }\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        HelloWorld h = new HelloWorld();\r\n        h.hello();\r\n    }\r\n}\r\n```","title":"can I use return statement in void method","body":"<p>I tried to write a return statement in void method. I thought it can't run but it does. How?</p>\n<p>Anyone know that what exactly happens when I give a return statement inside a void method and it works?</p>\n<pre><code>class HelloWorld {\n    public void hello(){\n        for(int i=0; i&lt;10; i++){\n            System.out.println(i);\n            if(i==5)\n                return;\n        }\n    }\n\n    public static void main(String[] args) {\n        HelloWorld h = new HelloWorld();\n        h.hello();\n    }\n}\n</code></pre>\n"},{"tags":["java","base64","rsa","public-key","java-security"],"comments":[{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":2,"creation_date":1689291990,"post_id":76683871,"comment_id":135196636,"body_markdown":"I *think* the key actually has more characters in it than just the literal key itself.  You should print it out and look at it.  It&#39;s your public key, it should be safe to post here as well.","body":"I <i>think</i> the key actually has more characters in it than just the literal key itself.  You should print it out and look at it.  It&#39;s your public key, it should be safe to post here as well."},{"owner":{"account_id":3187825,"reputation":8415,"user_id":2692962,"accept_rate":82,"display_name":"Kleber Mota"},"score":0,"creation_date":1689293051,"post_id":76683871,"comment_id":135196709,"body_markdown":"I copy and paste the content for the file rsa_key.pub in the question. I tried remove the substring &quot;ssh-rsa &quot; with `publicKeyString = publicKeyString.replaceAll(&quot;ssh-rsa &quot;, &quot;&quot;);`, but got the same error because I do not realize the final &quot; kleber@kleber-desktop&quot;. I tried add `publicKeyString = publicKeyString.replaceAll(&quot; kleber@kleber-desktop&quot;, &quot;&quot;);` to remove that part too, but still got the same error. How I got only the key from this string?","body":"I copy and paste the content for the file rsa_key.pub in the question. I tried remove the substring &quot;ssh-rsa &quot; with <code>publicKeyString = publicKeyString.replaceAll(&quot;ssh-rsa &quot;, &quot;&quot;);</code>, but got the same error because I do not realize the final &quot; kleber@kleber-desktop&quot;. I tried add <code>publicKeyString = publicKeyString.replaceAll(&quot; kleber@kleber-desktop&quot;, &quot;&quot;);</code> to remove that part too, but still got the same error. How I got only the key from this string?"},{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1689296977,"post_id":76683871,"comment_id":135197007,"body_markdown":"Probably this part of the file at the end, kleber@kleber-desktop you should remove this and the leading space , and remove ssh-rsa and it&#39;s lagging space before decoding., And perhaps rejoin those onto it in their respective positions after decoding.","body":"Probably this part of the file at the end, kleber@kleber-desktop you should remove this and the leading space , and remove ssh-rsa and it&#39;s lagging space before decoding., And perhaps rejoin those onto it in their respective positions after decoding."}],"answers":[{"comments":[{"owner":{"account_id":3187825,"reputation":8415,"user_id":2692962,"accept_rate":82,"display_name":"Kleber Mota"},"score":0,"creation_date":1689295124,"post_id":76684025,"comment_id":135196860,"body_markdown":"I think this worked for the purpose of remove the extraneous characters, but now I am getting the error `java.security.spec.InvalidKeySpecException: java.security.InvalidKeyException: invalid key format` in the line `return keyFactory.generatePublic(keySpec);`","body":"I think this worked for the purpose of remove the extraneous characters, but now I am getting the error <code>java.security.spec.InvalidKeySpecException: java.security.InvalidKeyException: invalid key format</code> in the line <code>return keyFactory.generatePublic(keySpec);</code>"},{"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1689299669,"post_id":76684025,"comment_id":135197263,"body_markdown":"Not certain about that. Your question was about an illegal base64 character.","body":"Not certain about that. Your question was about an illegal base64 character."}],"tags":[],"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1689294780,"creation_date":1689294780,"answer_id":76684025,"question_id":76683871,"body_markdown":"I believe you may have extraneous characters at the beginning or end of the String.  This worked for me. This ensures that only the string between the blanks is used.\r\n```\r\nkey = key.replaceAll(&quot;ssh-rsa\\\\s+&quot;, &quot;&quot;).replaceAll(&quot;\\\\s.*&quot;,&quot;&quot;);\r\nbyte[]bytes = Base64.getDecoder().decode(s);","title":"Error &#39;Illegal base64 character&#39; while trying convert String to PublicKey class","body":"<p>I believe you may have extraneous characters at the beginning or end of the String.  This worked for me. This ensures that only the string between the blanks is used.</p>\n<pre><code>key = key.replaceAll(&quot;ssh-rsa\\\\s+&quot;, &quot;&quot;).replaceAll(&quot;\\\\s.*&quot;,&quot;&quot;);\nbyte[]bytes = Base64.getDecoder().decode(s);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10905924,"reputation":76322,"user_id":8016720,"display_name":"John Hanley"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1689297002,"creation_date":1689297002,"answer_id":76684123,"question_id":76683871,"body_markdown":"The OpenSSH key format (SSH2) uses a different encoding. \r\n\r\nYou must convert the key to PEM or DER or change your command to:\r\n\r\n`ssh-keygen -b 2048 -t rsa -m PEM`.","title":"Error &#39;Illegal base64 character&#39; while trying convert String to PublicKey class","body":"<p>The OpenSSH key format (SSH2) uses a different encoding.</p>\n<p>You must convert the key to PEM or DER or change your command to:</p>\n<p><code>ssh-keygen -b 2048 -t rsa -m PEM</code>.</p>\n"},{"comments":[{"owner":{"account_id":3187825,"reputation":8415,"user_id":2692962,"accept_rate":82,"display_name":"Kleber Mota"},"score":0,"creation_date":1689326101,"post_id":76685865,"comment_id":135200605,"body_markdown":"this worked, thank you. but can you see what the cause for this other issue: https://stackoverflow.com/questions/76686318/error-javax-crypto-badpaddingexception-decryption-error-while-trying-decrypt","body":"this worked, thank you. but can you see what the cause for this other issue: <a href=\"https://stackoverflow.com/questions/76686318/error-javax-crypto-badpaddingexception-decryption-error-while-trying-decrypt\" title=\"error javax crypto badpaddingexception decryption error while trying decrypt\">stackoverflow.com/questions/76686318/&hellip;</a>"}],"tags":[],"owner":{"account_id":12359353,"reputation":42442,"user_id":9014097,"display_name":"Topaco"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1689326848,"creation_date":1689322289,"answer_id":76685865,"question_id":76683871,"body_markdown":"`X509EncodedKeySpec()` requires a Base64 encoded ASN.1/DER encoded public key in X.509/SPKI format, while `PKCS8EncodedKeySpec()` requires a Base64 encoded ASN.1/DER encoded private key in PKCS#8 format. \r\n\r\nYour ssh-keygen statement generated the keys in OPENSSH format (as already found in [this answer][1]), which cannot be directly processed by the posted Java code.\r\n\r\n---------------\r\n\r\nYou can convert the private OpenSSH key into a private PKCS#8 key as follows (note that the file will be overwritten). The converted key is unencrypted (`-N &quot;&quot;`) as required by the posted Java code:\r\n\r\n```none\r\nssh-keygen -p -N &quot;&quot; -m pkcs8 -f &quot;&lt;path to existing private OpenSSH key&gt;&quot; // attention: original file is overwritten\r\n```\r\n\r\nImportant here is the specifier `-m pkcs8`, which defines PKCS#8 as the target format. The specifier `-m pem` used in the other answer defines PKCS#1, which also cannot be (directly) processed by the posted Java code. \r\n\r\n-----------------\r\n\r\nThe public key in X.509/SPKI format can be determined from the public OpenSSH key as follows:\r\n\r\n```none\r\nssh-keygen -f &quot;&lt;path to existing public OpenSSH key&gt;&quot; -e -m pkcs8 &gt; &quot;&lt;path to X.509 key to be generated&gt;&quot;\r\n```\r\n\r\nor alternatively from the generated private PKCS#8 key:\r\n\r\n```none\r\nssh-keygen -f &quot;&lt;path to existing private PKCS#8 key&gt;&quot; -i -m PKCS8 -e &gt; &quot;&lt;path to X.509 key to be generated&gt;&quot;\r\n```\r\n\r\n--------------------\r\n\r\nAs an alternative to a conversion, the private key can be exported directly in PKCS#8 format:\r\n\r\n```none\r\nssh-keygen -b 2048 -t rsa -N &quot;&quot; -m pkcs8 -f &quot;&lt;path to private PKCS#8 key to be generated&gt;&quot;\r\n```\r\n\r\nas already posted in the other answer but with the required target format.\r\n\r\nNote that the public key generated this way still has the OpenSSH format and must be explicitly converted as described above.\r\n\r\n----------\r\n\r\nThe generated PKCS#8 and X.509/SPKI keys are PEM encoded, i.e. they consist of header, footer and Base64 encoded body with line breaks after 64 characters. If the header, footer and line breaks are removed, the Base64 encoded ASN.1/DER encoded keys are obtained, which can be imported by the posted Java code.\r\n\r\n\r\n[1]: https://stackoverflow.com/a/76684123/9014097","title":"Error &#39;Illegal base64 character&#39; while trying convert String to PublicKey class","body":"<p><code>X509EncodedKeySpec()</code> requires a Base64 encoded ASN.1/DER encoded public key in X.509/SPKI format, while <code>PKCS8EncodedKeySpec()</code> requires a Base64 encoded ASN.1/DER encoded private key in PKCS#8 format.</p>\n<p>Your ssh-keygen statement generated the keys in OPENSSH format (as already found in <a href=\"https://stackoverflow.com/a/76684123/9014097\">this answer</a>), which cannot be directly processed by the posted Java code.</p>\n<hr />\n<p>You can convert the private OpenSSH key into a private PKCS#8 key as follows (note that the file will be overwritten). The converted key is unencrypted (<code>-N &quot;&quot;</code>) as required by the posted Java code:</p>\n<pre class=\"lang-none prettyprint-override\"><code>ssh-keygen -p -N &quot;&quot; -m pkcs8 -f &quot;&lt;path to existing private OpenSSH key&gt;&quot; // attention: original file is overwritten\n</code></pre>\n<p>Important here is the specifier <code>-m pkcs8</code>, which defines PKCS#8 as the target format. The specifier <code>-m pem</code> used in the other answer defines PKCS#1, which also cannot be (directly) processed by the posted Java code.</p>\n<hr />\n<p>The public key in X.509/SPKI format can be determined from the public OpenSSH key as follows:</p>\n<pre class=\"lang-none prettyprint-override\"><code>ssh-keygen -f &quot;&lt;path to existing public OpenSSH key&gt;&quot; -e -m pkcs8 &gt; &quot;&lt;path to X.509 key to be generated&gt;&quot;\n</code></pre>\n<p>or alternatively from the generated private PKCS#8 key:</p>\n<pre class=\"lang-none prettyprint-override\"><code>ssh-keygen -f &quot;&lt;path to existing private PKCS#8 key&gt;&quot; -i -m PKCS8 -e &gt; &quot;&lt;path to X.509 key to be generated&gt;&quot;\n</code></pre>\n<hr />\n<p>As an alternative to a conversion, the private key can be exported directly in PKCS#8 format:</p>\n<pre class=\"lang-none prettyprint-override\"><code>ssh-keygen -b 2048 -t rsa -N &quot;&quot; -m pkcs8 -f &quot;&lt;path to private PKCS#8 key to be generated&gt;&quot;\n</code></pre>\n<p>as already posted in the other answer but with the required target format.</p>\n<p>Note that the public key generated this way still has the OpenSSH format and must be explicitly converted as described above.</p>\n<hr />\n<p>The generated PKCS#8 and X.509/SPKI keys are PEM encoded, i.e. they consist of header, footer and Base64 encoded body with line breaks after 64 characters. If the header, footer and line breaks are removed, the Base64 encoded ASN.1/DER encoded keys are obtained, which can be imported by the posted Java code.</p>\n"}],"owner":{"account_id":3187825,"reputation":8415,"user_id":2692962,"accept_rate":82,"display_name":"Kleber Mota"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":208,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76685865,"answer_count":3,"score":0,"last_activity_date":1689326848,"creation_date":1689291432,"question_id":76683871,"body_markdown":"After generate a pair of keys with the command:\r\n\r\n    ssh-keygen -b 2048 -t rsa\r\n\r\nI am trying use the public key (file: &#39;key_rsa.pub&#39;) in a java/servlet project. In the servlet class, I read the file like this:\r\n\r\n    @WebServlet(name = &quot;Login&quot;, urlPatterns = &quot;/login&quot;)\r\n    public class Login extends HttpServlet {\r\n    ...\r\n            InputStream publicKeyInputStream = getClass().getClassLoader().getResourceAsStream(&quot;key_rsa.pub&quot;);\r\n            if (publicKeyInputStream == null) {\r\n                out.println(&quot;fail - no public key&quot;);\r\n                out.flush();\r\n                return;\r\n            }\r\n            String publicKeyString = new String(publicKeyInputStream.readAllBytes(), StandardCharsets.UTF_8);\r\n            try {\r\n                PublicKey publicKey = util.RSAKeyGenerator.getPublicKey(publicKeyString);\r\n    ...\r\n            } catch (Exception e) {\r\n    ...\r\n            }\r\n    }\r\n\r\nthe method &#39;RSAKeyGenerator.getPublic&#39; looks like that:\r\n\r\n    public class RSAKeyGenerator {\r\n        public static final String RSA_ALGORITHM = &quot;RSA&quot;;\r\n    \r\n        public static final int KEY_SIZE = 2048;\r\n    \r\n        public static KeyPair generateKeyPair() throws NoSuchAlgorithmException {\r\n            KeyPairGenerator keyPairGenerator = KeyPairGenerator.getInstance(RSA_ALGORITHM);\r\n            keyPairGenerator.initialize(KEY_SIZE);\r\n            return keyPairGenerator.generateKeyPair();\r\n        }\r\n    \r\n        public static PublicKey getPublicKey(String publicKeyString) throws Exception {\r\n            byte[] publicKeyBytes = Base64.getDecoder().decode(publicKeyString);\r\n            X509EncodedKeySpec keySpec = new X509EncodedKeySpec(publicKeyBytes);\r\n            KeyFactory keyFactory = KeyFactory.getInstance(RSA_ALGORITHM);\r\n            return keyFactory.generatePublic(keySpec);\r\n        }\r\n    \r\n        public static PrivateKey getPrivateKey(String privateKeyString) throws Exception {\r\n            byte[] privateKeyBytes = Base64.getDecoder().decode(privateKeyString);\r\n            PKCS8EncodedKeySpec keySpec = new PKCS8EncodedKeySpec(privateKeyBytes);\r\n            KeyFactory keyFactory = KeyFactory.getInstance(RSA_ALGORITHM);\r\n            return keyFactory.generatePrivate(keySpec);\r\n        }\r\n    }\r\n\r\nwheh I execute the application, the line &#39;byte[] publicKeyBytes = Base64.getDecoder().decode(publicKeyString);&#39; in the method is giving the error &#39;Illegal base64 character&#39;. What I am done wrong here?\r\n\r\n**arquivo key_rsa.pub**\r\n\r\n    ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQCko/IRJIBoIN6fe3k8mCzsereXnQlTSwHutyMqZh7/JqbWJA31036I0YZUuOJ0d4WAMDWktWrfn7dkAlt+dqQtAlyzPUrqOc/euQ0iZPYhrd8Gn9jn+8WAQyt9L3LemgQ1ZWnXgNUk5Z1Y1vcbp8GsRWWLrxR7uvtbonU7QDJv5vEFnleObPqKeqobbg1iUoaXYkw0IAqhCTNW3ZvfWQic4FeHeNNVtT8XUrGyNPZkSgQ8QHsvSvNiLJ2bROhBD4AUZKBN/XRvNs+OSJM7agGroznHGxpwj7jZ0V+MH1HvHt95+4SnFAQJVfjza3lUPoMIOphq24V6hLzCr17lPECj kleber@kleber-desktop\r\n\r\n**Update**\r\n\r\nI follow the sugestion from @WJS below, and now my getPublicKey method looks like that:\r\n\r\n    public static PublicKey getPublicKey(String publicKeyString) throws Exception {\r\n        publicKeyString = publicKeyString.replaceAll(&quot;ssh-rsa\\\\s+&quot;, &quot;&quot;).replaceAll(&quot;\\\\s.*&quot;,&quot;&quot;);\r\n        byte[] publicKeyBytes = Base64.getDecoder().decode(publicKeyString);\r\n        X509EncodedKeySpec keySpec = new X509EncodedKeySpec(publicKeyBytes);\r\n        KeyFactory keyFactory = KeyFactory.getInstance(RSA_ALGORITHM);\r\n        return keyFactory.generatePublic(keySpec);\r\n    }\r\n I think this works for remove the extra characters at the beginning and at the end of the string, but now I am getting the error `java.security.spec.InvalidKeySpecException: java.security.InvalidKeyException: invalid key format` in the line `return keyFactory.generatePublic(keySpec);`\r\n","title":"Error &#39;Illegal base64 character&#39; while trying convert String to PublicKey class","body":"<p>After generate a pair of keys with the command:</p>\n<pre><code>ssh-keygen -b 2048 -t rsa\n</code></pre>\n<p>I am trying use the public key (file: 'key_rsa.pub') in a java/servlet project. In the servlet class, I read the file like this:</p>\n<pre><code>@WebServlet(name = &quot;Login&quot;, urlPatterns = &quot;/login&quot;)\npublic class Login extends HttpServlet {\n...\n        InputStream publicKeyInputStream = getClass().getClassLoader().getResourceAsStream(&quot;key_rsa.pub&quot;);\n        if (publicKeyInputStream == null) {\n            out.println(&quot;fail - no public key&quot;);\n            out.flush();\n            return;\n        }\n        String publicKeyString = new String(publicKeyInputStream.readAllBytes(), StandardCharsets.UTF_8);\n        try {\n            PublicKey publicKey = util.RSAKeyGenerator.getPublicKey(publicKeyString);\n...\n        } catch (Exception e) {\n...\n        }\n}\n</code></pre>\n<p>the method 'RSAKeyGenerator.getPublic' looks like that:</p>\n<pre><code>public class RSAKeyGenerator {\n    public static final String RSA_ALGORITHM = &quot;RSA&quot;;\n\n    public static final int KEY_SIZE = 2048;\n\n    public static KeyPair generateKeyPair() throws NoSuchAlgorithmException {\n        KeyPairGenerator keyPairGenerator = KeyPairGenerator.getInstance(RSA_ALGORITHM);\n        keyPairGenerator.initialize(KEY_SIZE);\n        return keyPairGenerator.generateKeyPair();\n    }\n\n    public static PublicKey getPublicKey(String publicKeyString) throws Exception {\n        byte[] publicKeyBytes = Base64.getDecoder().decode(publicKeyString);\n        X509EncodedKeySpec keySpec = new X509EncodedKeySpec(publicKeyBytes);\n        KeyFactory keyFactory = KeyFactory.getInstance(RSA_ALGORITHM);\n        return keyFactory.generatePublic(keySpec);\n    }\n\n    public static PrivateKey getPrivateKey(String privateKeyString) throws Exception {\n        byte[] privateKeyBytes = Base64.getDecoder().decode(privateKeyString);\n        PKCS8EncodedKeySpec keySpec = new PKCS8EncodedKeySpec(privateKeyBytes);\n        KeyFactory keyFactory = KeyFactory.getInstance(RSA_ALGORITHM);\n        return keyFactory.generatePrivate(keySpec);\n    }\n}\n</code></pre>\n<p>wheh I execute the application, the line 'byte[] publicKeyBytes = Base64.getDecoder().decode(publicKeyString);' in the method is giving the error 'Illegal base64 character'. What I am done wrong here?</p>\n<p><strong>arquivo key_rsa.pub</strong></p>\n<pre><code>ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQCko/IRJIBoIN6fe3k8mCzsereXnQlTSwHutyMqZh7/JqbWJA31036I0YZUuOJ0d4WAMDWktWrfn7dkAlt+dqQtAlyzPUrqOc/euQ0iZPYhrd8Gn9jn+8WAQyt9L3LemgQ1ZWnXgNUk5Z1Y1vcbp8GsRWWLrxR7uvtbonU7QDJv5vEFnleObPqKeqobbg1iUoaXYkw0IAqhCTNW3ZvfWQic4FeHeNNVtT8XUrGyNPZkSgQ8QHsvSvNiLJ2bROhBD4AUZKBN/XRvNs+OSJM7agGroznHGxpwj7jZ0V+MH1HvHt95+4SnFAQJVfjza3lUPoMIOphq24V6hLzCr17lPECj kleber@kleber-desktop\n</code></pre>\n<p><strong>Update</strong></p>\n<p>I follow the sugestion from @WJS below, and now my getPublicKey method looks like that:</p>\n<pre><code>public static PublicKey getPublicKey(String publicKeyString) throws Exception {\n    publicKeyString = publicKeyString.replaceAll(&quot;ssh-rsa\\\\s+&quot;, &quot;&quot;).replaceAll(&quot;\\\\s.*&quot;,&quot;&quot;);\n    byte[] publicKeyBytes = Base64.getDecoder().decode(publicKeyString);\n    X509EncodedKeySpec keySpec = new X509EncodedKeySpec(publicKeyBytes);\n    KeyFactory keyFactory = KeyFactory.getInstance(RSA_ALGORITHM);\n    return keyFactory.generatePublic(keySpec);\n}\n</code></pre>\n<p>I think this works for remove the extra characters at the beginning and at the end of the string, but now I am getting the error <code>java.security.spec.InvalidKeySpecException: java.security.InvalidKeyException: invalid key format</code> in the line <code>return keyFactory.generatePublic(keySpec);</code></p>\n"},{"tags":["java","cryptography","bouncycastle"],"answers":[{"comments":[{"owner":{"account_id":288696,"reputation":91230,"user_id":589259,"accept_rate":82,"display_name":"Maarten Bodewes"},"score":2,"creation_date":1542739971,"post_id":53398976,"comment_id":93674426,"body_markdown":"Encoding it to binary and then decoding it would be another option. SubjectPublicKeyInfo is the main encoding used for `RSAPublicKey.getEncoded()` and `X509EncodedKeySpec `. I prefer not to encode / decode though, so the above method should probably be prefered if encoding to binary is not required.","body":"Encoding it to binary and then decoding it would be another option. SubjectPublicKeyInfo is the main encoding used for <code>RSAPublicKey.getEncoded()</code> and <code>X509EncodedKeySpec </code>. I prefer not to encode / decode though, so the above method should probably be prefered if encoding to binary is not required."}],"tags":[],"owner":{"account_id":2278936,"reputation":1173,"user_id":2004555,"display_name":"argoth"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1542789137,"creation_date":1542737224,"answer_id":53398976,"question_id":53398788,"body_markdown":"A way to convert the key is using a RSAKeyParameter and RSAPublicKeySpec &#39;to rebuild&#39; the key using the Modulus and Exponent.\r\n\r\n    RSAKeyParameters rsa = (RSAKeyParameters) PublicKeyFactory.createKey(certificate.getSubjectPublicKeyInfo());\r\n        \r\n    RSAPublicKeySpec rsaSpec = new RSAPublicKeySpec(rsa.getModulus(), rsa.getExponent());\r\n    KeyFactory kf = KeyFactory.getInstance(&quot;RSA&quot;);\r\n    java.security.Publickey publicKey = kf.generatePublic(rsaSpec);","title":"Convert SubjectPublicKeyInfo to Java PublicKey","body":"<p>A way to convert the key is using a RSAKeyParameter and RSAPublicKeySpec 'to rebuild' the key using the Modulus and Exponent.</p>\n\n<pre><code>RSAKeyParameters rsa = (RSAKeyParameters) PublicKeyFactory.createKey(certificate.getSubjectPublicKeyInfo());\n\nRSAPublicKeySpec rsaSpec = new RSAPublicKeySpec(rsa.getModulus(), rsa.getExponent());\nKeyFactory kf = KeyFactory.getInstance(\"RSA\");\njava.security.Publickey publicKey = kf.generatePublic(rsaSpec);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":219684,"reputation":37267,"user_id":476716,"accept_rate":77,"display_name":"OrangeDog"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1689326510,"creation_date":1689326510,"answer_id":76686378,"question_id":53398788,"body_markdown":"Using the [`JcaPEMKeyConverter`][1]:\r\n\r\n```java\r\nSubjectPublicKeyInfo spki = certificate.getSubjectPublicKeyInfo();\r\nPublicKey publicKey = new JcaPEMKeyConverter().getPublicKey(spki);\r\n```\r\n\r\nInternally it is pretty simple itself:\r\n\r\n```java\r\nKeyFactory keyFactory = getKeyFactory(spki.getAlgorithm());\r\nPublicKey publicKey = keyFactory.generatePublic(new X509EncodedKeySpec(spki.getEncoded()));\r\n```\r\n\r\n\r\n  [1]: https://www.bouncycastle.org/docs/pkixdocs1.3/org/bouncycastle/openssl/jcajce/JcaPEMKeyConverter.html","title":"Convert SubjectPublicKeyInfo to Java PublicKey","body":"<p>Using the <a href=\"https://www.bouncycastle.org/docs/pkixdocs1.3/org/bouncycastle/openssl/jcajce/JcaPEMKeyConverter.html\" rel=\"nofollow noreferrer\"><code>JcaPEMKeyConverter</code></a>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>SubjectPublicKeyInfo spki = certificate.getSubjectPublicKeyInfo();\nPublicKey publicKey = new JcaPEMKeyConverter().getPublicKey(spki);\n</code></pre>\n<p>Internally it is pretty simple itself:</p>\n<pre class=\"lang-java prettyprint-override\"><code>KeyFactory keyFactory = getKeyFactory(spki.getAlgorithm());\nPublicKey publicKey = keyFactory.generatePublic(new X509EncodedKeySpec(spki.getEncoded()));\n</code></pre>\n"}],"owner":{"account_id":2278936,"reputation":1173,"user_id":2004555,"display_name":"argoth"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1854,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":53398976,"answer_count":2,"score":3,"last_activity_date":1689326510,"creation_date":1542736424,"question_id":53398788,"body_markdown":"My app is using bouncycastle to decode certificates deeper then java native X509Certificate provide, actualy i have bouncy castle certificates ( `org.bouncycastle.asn1.x509.Certificate`).\r\n\r\nMy question is how to secure convert `org.bouncycastle.asn1.x509.SubjectPublicKeyInfo` to a `java.security.Publickey`. ?\r\n\r\ni&#39;d like to use the standard java signature method `java.security.Signature` instead BouncyCastle alternatives.\r\n\r\n\r\n    Signature sig = Signature.getInstance(signatureAlgorithm.getAlgorithm().getId());\r\n            sig.initVerify(getPublicKey());\r\n            sig.update(content);\r\n            return sig.verify(signature);\r\n\r\n\r\n\r\n","title":"Convert SubjectPublicKeyInfo to Java PublicKey","body":"<p>My app is using bouncycastle to decode certificates deeper then java native X509Certificate provide, actualy i have bouncy castle certificates ( <code>org.bouncycastle.asn1.x509.Certificate</code>).</p>\n\n<p>My question is how to secure convert <code>org.bouncycastle.asn1.x509.SubjectPublicKeyInfo</code> to a <code>java.security.Publickey</code>. ?</p>\n\n<p>i'd like to use the standard java signature method <code>java.security.Signature</code> instead BouncyCastle alternatives.</p>\n\n<pre><code>Signature sig = Signature.getInstance(signatureAlgorithm.getAlgorithm().getId());\n        sig.initVerify(getPublicKey());\n        sig.update(content);\n        return sig.verify(signature);\n</code></pre>\n"},{"tags":["java","json","logging","logback","structured-logging"],"answers":[{"tags":[],"owner":{"account_id":6875395,"reputation":1037,"user_id":5284011,"display_name":"JohnXF"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1689325964,"creation_date":1689325964,"answer_id":76686308,"question_id":76636753,"body_markdown":"I discovered the solution to my issue. The problem I had was in a Spring Boot application, and the above question was an attempt to distill a minimal example.\r\n\r\nThe problem is that I am using `org.json.JSONObject` and passing it to a `StructuredArgument`. When I enabled *debug* in the `logback.xml` configuration, like this ...\r\n\r\n```\r\n&lt;configuration debug=&quot;true&quot;&gt;\r\n```\r\n\r\nI get more output - including some errors from logback that caused log lines to not appear. From those errors I was lead to the question [Could not write JSON: JsonObject; nested exception is com.fasterxml.jackson.databind.JsonMappingException: JsonObject][1] where the suggested solution was to enable the Spring property  `spring.mvc.converters.preferred-json-mapper=gson`. I tried this, but it made no difference. \r\nAs I own the application, I changed the code to use Jackson JSON objects directly and then all was good. \r\n\r\nSo the top tip is ... if you have logback JSON logging issues, turn on logback *debug* to see if there are any problems &#39;hidden&#39; from you. \r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/61169128/could-not-write-json-jsonobject-nested-exception-is-com-fasterxml-jackson-data","title":"How do I get JSONObject as a StructuredArgument in a LogStashEncoder logback output?","body":"<p>I discovered the solution to my issue. The problem I had was in a Spring Boot application, and the above question was an attempt to distill a minimal example.</p>\n<p>The problem is that I am using <code>org.json.JSONObject</code> and passing it to a <code>StructuredArgument</code>. When I enabled <em>debug</em> in the <code>logback.xml</code> configuration, like this ...</p>\n<pre><code>&lt;configuration debug=&quot;true&quot;&gt;\n</code></pre>\n<p>I get more output - including some errors from logback that caused log lines to not appear. From those errors I was lead to the question <a href=\"https://stackoverflow.com/questions/61169128/could-not-write-json-jsonobject-nested-exception-is-com-fasterxml-jackson-data\">Could not write JSON: JsonObject; nested exception is com.fasterxml.jackson.databind.JsonMappingException: JsonObject</a> where the suggested solution was to enable the Spring property  <code>spring.mvc.converters.preferred-json-mapper=gson</code>. I tried this, but it made no difference.\nAs I own the application, I changed the code to use Jackson JSON objects directly and then all was good.</p>\n<p>So the top tip is ... if you have logback JSON logging issues, turn on logback <em>debug</em> to see if there are any problems 'hidden' from you.</p>\n"}],"owner":{"account_id":6875395,"reputation":1037,"user_id":5284011,"display_name":"JohnXF"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":256,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76686308,"answer_count":1,"score":1,"last_activity_date":1689325964,"creation_date":1688730714,"question_id":76636753,"body_markdown":"I am using logback and `LogstashEncoder` to write JSON format logging to the console. I am using `StructuredArguments` to pass the objects I want in the log from my code to the logger. However my `JSONObject` is not appearing as a structured object in the JSON, although it appears in the log *message* OK. \r\n\r\nHere is my simple code. Note `Order` is just a simple POJO with a single `orderId` field.\r\n```\r\n        Map&lt;String, String&gt; user = new HashMap&lt;&gt;();\r\n        user.put(&quot;firstName&quot;, &quot;Jane&quot;);\r\n\r\n        JSONObject userDetails = new JSONObject(user);\r\n        \r\n        Order order = new Order(&quot;123&quot;);\r\n\r\n        logger.info(&quot;msg with one KV and 2 patterns {} {} {}&quot;\r\n            , StructuredArguments.keyValue(&quot;user&quot;, user)\r\n            , StructuredArguments.keyValue(&quot;userDetails&quot;, userDetails)\r\n            , StructuredArguments.keyValue(&quot;order&quot;, order)\r\n            );\r\n```\r\n\r\nThis produces the following JSON log message. I have removed some fields (log level, etc.) for brevity. \r\n```\r\n{\r\n   &quot;message&quot;:&quot;msg with one KV and 2 patterns user={firstName=Jane} userDetails={\\&quot;firstName\\&quot;:\\&quot;Jane\\&quot;} order=test.logging.JSONOutputExample$Order@3aa078fd&quot;,\r\n   &quot;level&quot;:&quot;INFO&quot;,\r\n   &quot;user&quot;:{\r\n      &quot;firstName&quot;:&quot;Jane&quot;\r\n   },\r\n   &quot;userDetails&quot;:{\r\n   },\r\n   &quot;order&quot;:{\r\n      &quot;orderId&quot;:&quot;123&quot;\r\n   }\r\n}\r\n```\r\nYou can see the `order` and `user` objects are nicely formatted in the both the message and the JSON object, however the `org.json.JSONObject` `userDetails` appears in the JSON log message but is *empty* in the full structured JSON log.\r\n\r\nI am guessing this is perhaps something to do with a formatter or mapper? I assume `toString()` is used on the objects to get the inline `message` content (hence the `order` object is the fallback instance description - if I add a `toString()` to the `Order` object then I see that instead. However, for the structured JSON object something extra is going on as the `Order` is nicely converted to JSON, as is the `user` `HashMap`. \r\n\r\nHere is my `logback.xml` file:\r\n```\r\n&lt;configuration&gt;\r\n    &lt;appender name=&quot;jsonConsoleAppender&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\r\n        &lt;encoder class=&quot;net.logstash.logback.encoder.LogstashEncoder&quot; /&gt;\r\n    &lt;/appender&gt;\r\n    &lt;root level=&quot;info&quot;&gt;\r\n        &lt;appender-ref ref=&quot;jsonConsoleAppender&quot; /&gt;\r\n    &lt;/root&gt;\r\n&lt;/configuration&gt;\r\n```\r\nAnd here is the dependencies in the `pom.xml`:\r\n```\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.json&lt;/groupId&gt;\r\n            &lt;artifactId&gt;json&lt;/artifactId&gt;\r\n            &lt;version&gt;20180130&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\r\n            &lt;version&gt;2.0.4&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;net.logstash.logback&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;logstash-logback-encoder&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;7.4&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\r\n            &lt;artifactId&gt;logback-core&lt;/artifactId&gt;\r\n            &lt;version&gt;1.4.7&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n   \t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;ch.qos.logback.contrib&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;logback-jackson&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;0.1.5&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n```\r\n\r\nWhat am I missing? Is there a dependency missing that would map the `JSONObject` to actual JSON output? Should I do something different in the code to format it? Any ideas? Thanks in advance. \r\n\r\n===============================================================\r\n\r\n**UPDATE**\r\n\r\nI updated the *version* of the `org.json` dependency to `20230618` and now the `StructuredArgument` output for the `userDetails` is not longer empty, but of the form:\r\n```\r\n   &quot;userDetails&quot;:{\r\n      &quot;empty&quot;:false,\r\n      &quot;mapType&quot;:&quot;java.util.HashMap&quot;\r\n   }\r\n```\r\nCurious..?!? Obviously the &#39;standard&#39; `toString()` type output or something.","title":"How do I get JSONObject as a StructuredArgument in a LogStashEncoder logback output?","body":"<p>I am using logback and <code>LogstashEncoder</code> to write JSON format logging to the console. I am using <code>StructuredArguments</code> to pass the objects I want in the log from my code to the logger. However my <code>JSONObject</code> is not appearing as a structured object in the JSON, although it appears in the log <em>message</em> OK.</p>\n<p>Here is my simple code. Note <code>Order</code> is just a simple POJO with a single <code>orderId</code> field.</p>\n<pre><code>        Map&lt;String, String&gt; user = new HashMap&lt;&gt;();\n        user.put(&quot;firstName&quot;, &quot;Jane&quot;);\n\n        JSONObject userDetails = new JSONObject(user);\n        \n        Order order = new Order(&quot;123&quot;);\n\n        logger.info(&quot;msg with one KV and 2 patterns {} {} {}&quot;\n            , StructuredArguments.keyValue(&quot;user&quot;, user)\n            , StructuredArguments.keyValue(&quot;userDetails&quot;, userDetails)\n            , StructuredArguments.keyValue(&quot;order&quot;, order)\n            );\n</code></pre>\n<p>This produces the following JSON log message. I have removed some fields (log level, etc.) for brevity.</p>\n<pre><code>{\n   &quot;message&quot;:&quot;msg with one KV and 2 patterns user={firstName=Jane} userDetails={\\&quot;firstName\\&quot;:\\&quot;Jane\\&quot;} order=test.logging.JSONOutputExample$Order@3aa078fd&quot;,\n   &quot;level&quot;:&quot;INFO&quot;,\n   &quot;user&quot;:{\n      &quot;firstName&quot;:&quot;Jane&quot;\n   },\n   &quot;userDetails&quot;:{\n   },\n   &quot;order&quot;:{\n      &quot;orderId&quot;:&quot;123&quot;\n   }\n}\n</code></pre>\n<p>You can see the <code>order</code> and <code>user</code> objects are nicely formatted in the both the message and the JSON object, however the <code>org.json.JSONObject</code> <code>userDetails</code> appears in the JSON log message but is <em>empty</em> in the full structured JSON log.</p>\n<p>I am guessing this is perhaps something to do with a formatter or mapper? I assume <code>toString()</code> is used on the objects to get the inline <code>message</code> content (hence the <code>order</code> object is the fallback instance description - if I add a <code>toString()</code> to the <code>Order</code> object then I see that instead. However, for the structured JSON object something extra is going on as the <code>Order</code> is nicely converted to JSON, as is the <code>user</code> <code>HashMap</code>.</p>\n<p>Here is my <code>logback.xml</code> file:</p>\n<pre><code>&lt;configuration&gt;\n    &lt;appender name=&quot;jsonConsoleAppender&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\n        &lt;encoder class=&quot;net.logstash.logback.encoder.LogstashEncoder&quot; /&gt;\n    &lt;/appender&gt;\n    &lt;root level=&quot;info&quot;&gt;\n        &lt;appender-ref ref=&quot;jsonConsoleAppender&quot; /&gt;\n    &lt;/root&gt;\n&lt;/configuration&gt;\n</code></pre>\n<p>And here is the dependencies in the <code>pom.xml</code>:</p>\n<pre><code>    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.json&lt;/groupId&gt;\n            &lt;artifactId&gt;json&lt;/artifactId&gt;\n            &lt;version&gt;20180130&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n            &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\n            &lt;version&gt;2.0.4&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;net.logstash.logback&lt;/groupId&gt;\n            &lt;artifactId&gt;logstash-logback-encoder&lt;/artifactId&gt;\n            &lt;version&gt;7.4&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\n            &lt;artifactId&gt;logback-core&lt;/artifactId&gt;\n            &lt;version&gt;1.4.7&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;ch.qos.logback.contrib&lt;/groupId&gt;\n            &lt;artifactId&gt;logback-jackson&lt;/artifactId&gt;\n            &lt;version&gt;0.1.5&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>What am I missing? Is there a dependency missing that would map the <code>JSONObject</code> to actual JSON output? Should I do something different in the code to format it? Any ideas? Thanks in advance.</p>\n<p>===============================================================</p>\n<p><strong>UPDATE</strong></p>\n<p>I updated the <em>version</em> of the <code>org.json</code> dependency to <code>20230618</code> and now the <code>StructuredArgument</code> output for the <code>userDetails</code> is not longer empty, but of the form:</p>\n<pre><code>   &quot;userDetails&quot;:{\n      &quot;empty&quot;:false,\n      &quot;mapType&quot;:&quot;java.util.HashMap&quot;\n   }\n</code></pre>\n<p>Curious..?!? Obviously the 'standard' <code>toString()</code> type output or something.</p>\n"},{"tags":["java","spring-boot","web-services"],"answers":[{"tags":[],"owner":{"account_id":8653469,"reputation":72,"user_id":6478449,"display_name":"Ranjan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689325639,"creation_date":1689325639,"answer_id":76686263,"question_id":76680706,"body_markdown":"Use the below code \r\n\r\n```private BuyerDataServiceBean armaListaByAll(Map&lt;Integer, Object&gt; mapResults) {\r\n    BuyerDataServiceBean buyerDataServiceBean;\r\n    ArrayList&lt;BuyerDataAdressesBean&gt; addresses;\r\n    Map&lt;Integer, Object&gt; row = (Map&lt;Integer, Object&gt;) mapResults.get(&quot;out_cur_buyer_data&quot;);\r\n\r\n    BuyerDataServiceBean user = new BuyerDataServiceBean();\r\n    for (Map.Entry&lt;Integer, Object&gt; entry : row.entrySet()) {\r\n        buyerDataServiceBean = new BuyerDataServiceBean();\r\n        addresses = new ArrayList&lt;&gt;();\r\n\r\n        buyerDataServiceBean.setBuyerId(entry.getKey());\r\n        for (int i = 0; i &lt; row.size(); i++) {\r\n            Map&lt;String, Object&gt; map = (Map&lt;String, Object&gt;) row.get(i);\r\n\r\n            BuyerDataAdressesBean buyerDataAdressesBean = new BuyerDataAdressesBean();\r\n            if (i == 0) {\r\n                Map&lt;String, Object&gt; userObj = (Map&lt;String, Object&gt;) row.get(0);\r\n                buyerDataServiceBean.setLastName(\r\n                        userObj.get(&quot;NOM_LAST_NAME&quot;) != null &amp;&amp; !userObj.get(&quot;NOM_LAST_NAME&quot;).equals(&quot;&quot;)\r\n                                ? userObj.get(&quot;NOM_LAST_NAME&quot;).toString()\r\n                                : &quot;&quot;);\r\n                // Rest of the code...\r\n\r\n            }\r\n\r\n            // Rest of the code...\r\n\r\n            addresses.add(buyerDataAdressesBean);\r\n        }\r\n\r\n        Adresses userAdresses = new Adresses();\r\n        Map&lt;String, Object&gt; addId = (Map&lt;String, Object&gt;) row.get(0);\r\n        userAdresses.setId(addId.get(&quot;NUM_ADDRESS_LIST_ID&quot;) != null &amp;&amp; !addId.get(&quot;NUM_ADDRESS_LIST_ID&quot;).equals(&quot;&quot;)\r\n                ? Integer.parseInt(addId.get(&quot;NUM_ADDRESS_LIST_ID&quot;).toString())\r\n                : ConstantesUtil.RESP_INT_CERO);\r\n        userAdresses.setAdresses(addresses);\r\n        buyerDataServiceBean.setAddressList(userAdresses);\r\n\r\n        entry.setValue(buyerDataServiceBean);\r\n    }\r\n\r\n    return buyerDataServiceBean;\r\n}\r\n```","title":"Return a list of users","body":"<p>Use the below code</p>\n<pre><code>    BuyerDataServiceBean buyerDataServiceBean;\n    ArrayList&lt;BuyerDataAdressesBean&gt; addresses;\n    Map&lt;Integer, Object&gt; row = (Map&lt;Integer, Object&gt;) mapResults.get(&quot;out_cur_buyer_data&quot;);\n\n    BuyerDataServiceBean user = new BuyerDataServiceBean();\n    for (Map.Entry&lt;Integer, Object&gt; entry : row.entrySet()) {\n        buyerDataServiceBean = new BuyerDataServiceBean();\n        addresses = new ArrayList&lt;&gt;();\n\n        buyerDataServiceBean.setBuyerId(entry.getKey());\n        for (int i = 0; i &lt; row.size(); i++) {\n            Map&lt;String, Object&gt; map = (Map&lt;String, Object&gt;) row.get(i);\n\n            BuyerDataAdressesBean buyerDataAdressesBean = new BuyerDataAdressesBean();\n            if (i == 0) {\n                Map&lt;String, Object&gt; userObj = (Map&lt;String, Object&gt;) row.get(0);\n                buyerDataServiceBean.setLastName(\n                        userObj.get(&quot;NOM_LAST_NAME&quot;) != null &amp;&amp; !userObj.get(&quot;NOM_LAST_NAME&quot;).equals(&quot;&quot;)\n                                ? userObj.get(&quot;NOM_LAST_NAME&quot;).toString()\n                                : &quot;&quot;);\n                // Rest of the code...\n\n            }\n\n            // Rest of the code...\n\n            addresses.add(buyerDataAdressesBean);\n        }\n\n        Adresses userAdresses = new Adresses();\n        Map&lt;String, Object&gt; addId = (Map&lt;String, Object&gt;) row.get(0);\n        userAdresses.setId(addId.get(&quot;NUM_ADDRESS_LIST_ID&quot;) != null &amp;&amp; !addId.get(&quot;NUM_ADDRESS_LIST_ID&quot;).equals(&quot;&quot;)\n                ? Integer.parseInt(addId.get(&quot;NUM_ADDRESS_LIST_ID&quot;).toString())\n                : ConstantesUtil.RESP_INT_CERO);\n        userAdresses.setAdresses(addresses);\n        buyerDataServiceBean.setAddressList(userAdresses);\n\n        entry.setValue(buyerDataServiceBean);\n    }\n\n    return buyerDataServiceBean;\n}\n</code></pre>\n"}],"owner":{"account_id":29011002,"reputation":1,"user_id":22222516,"display_name":"alec"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1689325639,"creation_date":1689259595,"question_id":76680706,"body_markdown":"I have a DB table with users, i want to return all the users from the table I need a method that returns each user and be able to see that array in Postman in order to compare. Each user contains a list as an atribute besides the other attributes\r\n\r\nI&#180;ve created a method that creates the list contained in each user and need to call that method every time i get the user , tried iterating thru a hashmap.\r\n```\r\nprivate BuyerDataServiceBean armaListaByAll(Map&lt;Integer, Object&gt; mapResults) {\r\n\r\n\t\tMap&lt;Integer, Object&gt; row = new HashMap&lt;&gt;();\r\n\r\n\t\tBuyerDataServiceBean buyerDataServiceBean = new BuyerDataServiceBean();\r\n\t\trow = (Map&lt;Integer, Object&gt;) mapResults.get(&quot;out_cur_buyer_data&quot;);\r\n\t\tArrayList&lt;BuyerDataAdressesBean&gt; adresses = new ArrayList&lt;&gt;();\r\n\t\tfor (Map.Entry&lt;Integer, Object&gt; entry : row.entrySet()) {\r\n\t\t\tbuyerDataServiceBean.setBuyerId(entry.getKey());\r\n\t\t\tfor (int i = 0; i &lt; row.size(); i++) {\r\n\t\t\t\tMap&lt;String, Object&gt; map = (Map&lt;String, Object&gt;) row.get(i);\r\n\r\n\t\t\t\tBuyerDataAdressesBean buyerDataAdressesBean = new BuyerDataAdressesBean();\r\n\t\t\t\tif (i == 0) {\r\n\t\t\t\t\tMap&lt;String, Object&gt; userObj = (Map&lt;String, Object&gt;) row.get(0);\r\n\t\t\t\t\tbuyerDataServiceBean.setLastName(\r\n\t\t\t\t\t\t\tuserObj.get(&quot;NOM_LAST_NAME&quot;) != null &amp;&amp; !userObj.get(&quot;NOM_LAST_NAME&quot;).equals(&quot;&quot;)\r\n\t\t\t\t\t\t\t\t\t? userObj.get(&quot;NOM_LAST_NAME&quot;).toString()\r\n\t\t\t\t\t\t\t\t\t: &quot;&quot;);\r\n\t\t\t\t\tbuyerDataServiceBean.setFirstName(\r\n\t\t\t\t\t\t\tuserObj.get(&quot;NOM_FIRST_NAME&quot;) != null &amp;&amp; !userObj.get(&quot;NOM_FIRST_NAME&quot;).equals(&quot;&quot;)\r\n\t\t\t\t\t\t\t\t\t? userObj.get(&quot;NOM_FIRST_NAME&quot;).toString()\r\n\t\t\t\t\t\t\t\t\t: &quot;&quot;);\r\n\t\t\t\t\tbuyerDataServiceBean.setPhoneNumber(userObj.get(&quot;REF_PHONE&quot;) != null &amp;&amp; !userObj.get(&quot;REF_PHONE&quot;).equals(&quot;&quot;)\r\n\t\t\t\t\t\t\t? userObj.get(&quot;REF_PHONE&quot;).toString()\r\n\t\t\t\t\t\t\t: &quot;&quot;);\r\n\t\t\t\t\tbuyerDataServiceBean.setIsDeleted(\r\n\t\t\t\t\t\t\tuserObj.get(&quot;IND_IS_DELETED&quot;) != null &amp;&amp; !userObj.get(&quot;IND_IS_DELETED&quot;).equals(&quot;&quot;)\r\n\t\t\t\t\t\t\t\t\t? userObj.get(&quot;IND_IS_DELETED&quot;).toString()\r\n\t\t\t\t\t\t\t\t\t: &quot;&quot;);\r\n\t\t\t\t\tbuyerDataServiceBean.setTaxId(userObj.get(&quot;REF_TAXID&quot;) != null &amp;&amp; !userObj.get(&quot;REF_TAXID&quot;).equals(&quot;&quot;)\r\n\t\t\t\t\t\t\t? userObj.get(&quot;REF_TAXID&quot;).toString()\r\n\t\t\t\t\t\t\t: &quot;&quot;);\r\n\r\n\t\t\t\t\tbuyerDataServiceBean.setCompany(userObj.get(&quot; REF_COMPANY&quot;) != null &amp;&amp; !userObj.get(&quot;REF_COMPANY&quot;).equals(&quot;&quot;)\r\n\t\t\t\t\t\t\t? userObj.get(&quot;REF_COMPANY&quot;).toString()\r\n\t\t\t\t\t\t\t: &quot;&quot;);\r\n\t\t\t\t\tbuyerDataServiceBean.setEmailId(userObj.get(&quot;REF_EMAIL&quot;) != null &amp;&amp; !userObj.get(&quot;REF_EMAIL&quot;).equals(&quot;&quot;)\r\n\t\t\t\t\t\t\t? userObj.get(&quot;REF_EMAIL&quot;).toString()\r\n\t\t\t\t\t\t\t: &quot;&quot;);\r\n\t\t\t\t\tbuyerDataServiceBean.setRegistration(\r\n\t\t\t\t\t\t\tuserObj.get(&quot;STP_REGISTRATION&quot;) != null &amp;&amp; !userObj.get(&quot;STP_REGISTRATION&quot;).equals(&quot;&quot;)\r\n\t\t\t\t\t\t\t\t\t? userObj.get(&quot;STP_REGISTRATION&quot;).toString()\r\n\t\t\t\t\t\t\t\t\t: &quot;&quot;);\r\n\t\t\t\t\tbuyerDataServiceBean.setId(userObj.get(&quot;CVE_BUYER_ID&quot;) != null &amp;&amp; !userObj.get(&quot;CVE_BUYER_ID&quot;).equals(&quot;&quot;)\r\n\t\t\t\t\t\t\t? Integer.parseInt(userObj.get(&quot;CVE_BUYER_ID&quot;).toString())\r\n\t\t\t\t\t\t\t: ConstantesUtil.RESP_INT_CERO);\r\n\t\t\t\t\tbuyerDataServiceBean.setBuyerId(userObj.get(&quot;NUM_USER_ID&quot;) != null &amp;&amp; !userObj.get(&quot;NUM_USER_ID&quot;).equals(&quot;&quot;)\r\n\t\t\t\t\t\t\t? Integer.parseInt(userObj.get(&quot;NUM_USER_ID&quot;).toString())\r\n\t\t\t\t\t\t\t: ConstantesUtil.RESP_INT_CERO);\r\n\t\t\t\t\tbuyerDataServiceBean.setIsActive(\r\n\t\t\t\t\t\t\tuserObj.get(&quot;IND_IS_ACTIVE&quot;) != null &amp;&amp; !userObj.get(&quot;IND_IS_ACTIVE&quot;).equals(&quot;&quot;)\r\n\t\t\t\t\t\t\t\t\t? userObj.get(&quot;IND_IS_ACTIVE&quot;).toString()\r\n\t\t\t\t\t\t\t\t\t: &quot;&quot;);\r\n\r\n\t\t\t\t}\r\n\t\t\t\tbuyerDataAdressesBean.setNomColony(map.get(&quot;NOM_COLONY&quot;) != null &amp;&amp; !map.get(&quot;NOM_COLONY&quot;).equals(&quot;&quot;)\r\n\t\t\t\t\t\t? map.get(&quot;NOM_COLONY&quot;).toString()\r\n\t\t\t\t\t\t: &quot;&quot;);\r\n\t\t\t\tbuyerDataAdressesBean.setNomTown(\r\n\t\t\t\t\t\tmap.get(&quot;NOM_TOWN&quot;) != null &amp;&amp; !map.get(&quot;NOM_TOWN&quot;).equals(&quot;&quot;) ? map.get(&quot;NOM_TOWN&quot;).toString()\r\n\t\t\t\t\t\t\t\t: &quot;&quot;);\r\n\t\t\t\tbuyerDataAdressesBean\r\n\t\t\t\t\t\t.setDesAddrType(map.get(&quot;DES_ADDR_TYPE&quot;) != null &amp;&amp; !map.get(&quot;DES_ADDR_TYPE&quot;).equals(&quot;&quot;)\r\n\t\t\t\t\t\t\t\t? map.get(&quot;DES_ADDR_TYPE&quot;).toString()\r\n\t\t\t\t\t\t\t\t: &quot;&quot;);\r\n\t\t\t\tbuyerDataAdressesBean.setNomStreet(map.get(&quot;NOM_STREET&quot;) != null &amp;&amp; !map.get(&quot;NOM_STREET&quot;).equals(&quot;&quot;)\r\n\t\t\t\t\t\t? map.get(&quot;NOM_STREET&quot;).toString()\r\n\t\t\t\t\t\t: &quot;&quot;);\r\n\t\t\t\tbuyerDataAdressesBean\r\n\t\t\t\t\t\t.setNumPostalCode(map.get(&quot;NUM_POSTAL_CODE&quot;) != null &amp;&amp; !map.get(&quot;NUM_POSTAL_CODE&quot;).equals(&quot;&quot;)\r\n\t\t\t\t\t\t\t\t? map.get(&quot;NUM_POSTAL_CODE&quot;).toString()\r\n\t\t\t\t\t\t\t\t: &quot;&quot;);\r\n\t\t\t\tbuyerDataAdressesBean.setNomMunicipality(\r\n\t\t\t\t\t\tmap.get(&quot;NOM_MUNICIPALITY&quot;) != null &amp;&amp; !map.get(&quot;NOM_MUNICIPALITY&quot;).equals(&quot;&quot;)\r\n\t\t\t\t\t\t\t\t? map.get(&quot;NOM_MUNICIPALITY&quot;).toString()\r\n\t\t\t\t\t\t\t\t: &quot;&quot;);\r\n\t\t\t\tbuyerDataAdressesBean.setId(map.get(&quot;CVE_ADDR_ID&quot;) != null &amp;&amp; !map.get(&quot;CVE_ADDR_ID&quot;).equals(&quot;&quot;)\r\n\t\t\t\t\t\t? Integer.parseInt(map.get(&quot;CVE_ADDR_ID&quot;).toString())\r\n\t\t\t\t\t\t: ConstantesUtil.RESP_INT_CERO);\r\n\t\t\t\tbuyerDataAdressesBean.setNumState(map.get(&quot;NUM_STATE&quot;) != null &amp;&amp; !map.get(&quot;NUM_STATE&quot;).equals(&quot;&quot;)\r\n\t\t\t\t\t\t? Integer.parseInt(map.get(&quot;NUM_STATE&quot;).toString())\r\n\t\t\t\t\t\t: ConstantesUtil.RESP_INT_CERO);\r\n\r\n\t\t\t\tadresses.add(buyerDataAdressesBean);\r\n\r\n\t\t\t}\r\n\r\n\t\t\tAdresses userAdresses = new Adresses();\r\n\t\t\tMap&lt;String, Object&gt; addId = (Map&lt;String, Object&gt;) row.get(0);\r\n\t\t\tuserAdresses.setId(addId.get(&quot;NUM_ADDRESS_LIST_ID&quot;) != null &amp;&amp; !addId.get(&quot;NUM_ADDRESS_LIST_ID&quot;).equals(&quot;&quot;)\r\n\t\t\t\t\t? Integer.parseInt(addId.get(&quot;NUM_ADDRESS_LIST_ID&quot;).toString())\r\n\t\t\t\t\t: ConstantesUtil.RESP_INT_CERO);\r\n\t\t\tuserAdresses.setAdresses(adresses);\r\n\t\t\tbuyerDataServiceBean.setAddressList(userAdresses);\r\n\t\t\tBuyerDataServiceBean user = (BuyerDataServiceBean) entry.setValue(buyerDataServiceBean);\r\n\t\t}\r\n```\r\n","title":"Return a list of users","body":"<p>I have a DB table with users, i want to return all the users from the table I need a method that returns each user and be able to see that array in Postman in order to compare. Each user contains a list as an atribute besides the other attributes</p>\n<p>I´ve created a method that creates the list contained in each user and need to call that method every time i get the user , tried iterating thru a hashmap.</p>\n<pre><code>private BuyerDataServiceBean armaListaByAll(Map&lt;Integer, Object&gt; mapResults) {\n\n        Map&lt;Integer, Object&gt; row = new HashMap&lt;&gt;();\n\n        BuyerDataServiceBean buyerDataServiceBean = new BuyerDataServiceBean();\n        row = (Map&lt;Integer, Object&gt;) mapResults.get(&quot;out_cur_buyer_data&quot;);\n        ArrayList&lt;BuyerDataAdressesBean&gt; adresses = new ArrayList&lt;&gt;();\n        for (Map.Entry&lt;Integer, Object&gt; entry : row.entrySet()) {\n            buyerDataServiceBean.setBuyerId(entry.getKey());\n            for (int i = 0; i &lt; row.size(); i++) {\n                Map&lt;String, Object&gt; map = (Map&lt;String, Object&gt;) row.get(i);\n\n                BuyerDataAdressesBean buyerDataAdressesBean = new BuyerDataAdressesBean();\n                if (i == 0) {\n                    Map&lt;String, Object&gt; userObj = (Map&lt;String, Object&gt;) row.get(0);\n                    buyerDataServiceBean.setLastName(\n                            userObj.get(&quot;NOM_LAST_NAME&quot;) != null &amp;&amp; !userObj.get(&quot;NOM_LAST_NAME&quot;).equals(&quot;&quot;)\n                                    ? userObj.get(&quot;NOM_LAST_NAME&quot;).toString()\n                                    : &quot;&quot;);\n                    buyerDataServiceBean.setFirstName(\n                            userObj.get(&quot;NOM_FIRST_NAME&quot;) != null &amp;&amp; !userObj.get(&quot;NOM_FIRST_NAME&quot;).equals(&quot;&quot;)\n                                    ? userObj.get(&quot;NOM_FIRST_NAME&quot;).toString()\n                                    : &quot;&quot;);\n                    buyerDataServiceBean.setPhoneNumber(userObj.get(&quot;REF_PHONE&quot;) != null &amp;&amp; !userObj.get(&quot;REF_PHONE&quot;).equals(&quot;&quot;)\n                            ? userObj.get(&quot;REF_PHONE&quot;).toString()\n                            : &quot;&quot;);\n                    buyerDataServiceBean.setIsDeleted(\n                            userObj.get(&quot;IND_IS_DELETED&quot;) != null &amp;&amp; !userObj.get(&quot;IND_IS_DELETED&quot;).equals(&quot;&quot;)\n                                    ? userObj.get(&quot;IND_IS_DELETED&quot;).toString()\n                                    : &quot;&quot;);\n                    buyerDataServiceBean.setTaxId(userObj.get(&quot;REF_TAXID&quot;) != null &amp;&amp; !userObj.get(&quot;REF_TAXID&quot;).equals(&quot;&quot;)\n                            ? userObj.get(&quot;REF_TAXID&quot;).toString()\n                            : &quot;&quot;);\n\n                    buyerDataServiceBean.setCompany(userObj.get(&quot; REF_COMPANY&quot;) != null &amp;&amp; !userObj.get(&quot;REF_COMPANY&quot;).equals(&quot;&quot;)\n                            ? userObj.get(&quot;REF_COMPANY&quot;).toString()\n                            : &quot;&quot;);\n                    buyerDataServiceBean.setEmailId(userObj.get(&quot;REF_EMAIL&quot;) != null &amp;&amp; !userObj.get(&quot;REF_EMAIL&quot;).equals(&quot;&quot;)\n                            ? userObj.get(&quot;REF_EMAIL&quot;).toString()\n                            : &quot;&quot;);\n                    buyerDataServiceBean.setRegistration(\n                            userObj.get(&quot;STP_REGISTRATION&quot;) != null &amp;&amp; !userObj.get(&quot;STP_REGISTRATION&quot;).equals(&quot;&quot;)\n                                    ? userObj.get(&quot;STP_REGISTRATION&quot;).toString()\n                                    : &quot;&quot;);\n                    buyerDataServiceBean.setId(userObj.get(&quot;CVE_BUYER_ID&quot;) != null &amp;&amp; !userObj.get(&quot;CVE_BUYER_ID&quot;).equals(&quot;&quot;)\n                            ? Integer.parseInt(userObj.get(&quot;CVE_BUYER_ID&quot;).toString())\n                            : ConstantesUtil.RESP_INT_CERO);\n                    buyerDataServiceBean.setBuyerId(userObj.get(&quot;NUM_USER_ID&quot;) != null &amp;&amp; !userObj.get(&quot;NUM_USER_ID&quot;).equals(&quot;&quot;)\n                            ? Integer.parseInt(userObj.get(&quot;NUM_USER_ID&quot;).toString())\n                            : ConstantesUtil.RESP_INT_CERO);\n                    buyerDataServiceBean.setIsActive(\n                            userObj.get(&quot;IND_IS_ACTIVE&quot;) != null &amp;&amp; !userObj.get(&quot;IND_IS_ACTIVE&quot;).equals(&quot;&quot;)\n                                    ? userObj.get(&quot;IND_IS_ACTIVE&quot;).toString()\n                                    : &quot;&quot;);\n\n                }\n                buyerDataAdressesBean.setNomColony(map.get(&quot;NOM_COLONY&quot;) != null &amp;&amp; !map.get(&quot;NOM_COLONY&quot;).equals(&quot;&quot;)\n                        ? map.get(&quot;NOM_COLONY&quot;).toString()\n                        : &quot;&quot;);\n                buyerDataAdressesBean.setNomTown(\n                        map.get(&quot;NOM_TOWN&quot;) != null &amp;&amp; !map.get(&quot;NOM_TOWN&quot;).equals(&quot;&quot;) ? map.get(&quot;NOM_TOWN&quot;).toString()\n                                : &quot;&quot;);\n                buyerDataAdressesBean\n                        .setDesAddrType(map.get(&quot;DES_ADDR_TYPE&quot;) != null &amp;&amp; !map.get(&quot;DES_ADDR_TYPE&quot;).equals(&quot;&quot;)\n                                ? map.get(&quot;DES_ADDR_TYPE&quot;).toString()\n                                : &quot;&quot;);\n                buyerDataAdressesBean.setNomStreet(map.get(&quot;NOM_STREET&quot;) != null &amp;&amp; !map.get(&quot;NOM_STREET&quot;).equals(&quot;&quot;)\n                        ? map.get(&quot;NOM_STREET&quot;).toString()\n                        : &quot;&quot;);\n                buyerDataAdressesBean\n                        .setNumPostalCode(map.get(&quot;NUM_POSTAL_CODE&quot;) != null &amp;&amp; !map.get(&quot;NUM_POSTAL_CODE&quot;).equals(&quot;&quot;)\n                                ? map.get(&quot;NUM_POSTAL_CODE&quot;).toString()\n                                : &quot;&quot;);\n                buyerDataAdressesBean.setNomMunicipality(\n                        map.get(&quot;NOM_MUNICIPALITY&quot;) != null &amp;&amp; !map.get(&quot;NOM_MUNICIPALITY&quot;).equals(&quot;&quot;)\n                                ? map.get(&quot;NOM_MUNICIPALITY&quot;).toString()\n                                : &quot;&quot;);\n                buyerDataAdressesBean.setId(map.get(&quot;CVE_ADDR_ID&quot;) != null &amp;&amp; !map.get(&quot;CVE_ADDR_ID&quot;).equals(&quot;&quot;)\n                        ? Integer.parseInt(map.get(&quot;CVE_ADDR_ID&quot;).toString())\n                        : ConstantesUtil.RESP_INT_CERO);\n                buyerDataAdressesBean.setNumState(map.get(&quot;NUM_STATE&quot;) != null &amp;&amp; !map.get(&quot;NUM_STATE&quot;).equals(&quot;&quot;)\n                        ? Integer.parseInt(map.get(&quot;NUM_STATE&quot;).toString())\n                        : ConstantesUtil.RESP_INT_CERO);\n\n                adresses.add(buyerDataAdressesBean);\n\n            }\n\n            Adresses userAdresses = new Adresses();\n            Map&lt;String, Object&gt; addId = (Map&lt;String, Object&gt;) row.get(0);\n            userAdresses.setId(addId.get(&quot;NUM_ADDRESS_LIST_ID&quot;) != null &amp;&amp; !addId.get(&quot;NUM_ADDRESS_LIST_ID&quot;).equals(&quot;&quot;)\n                    ? Integer.parseInt(addId.get(&quot;NUM_ADDRESS_LIST_ID&quot;).toString())\n                    : ConstantesUtil.RESP_INT_CERO);\n            userAdresses.setAdresses(adresses);\n            buyerDataServiceBean.setAddressList(userAdresses);\n            BuyerDataServiceBean user = (BuyerDataServiceBean) entry.setValue(buyerDataServiceBean);\n        }\n</code></pre>\n"},{"tags":["java","class","generics","methods","quarkus"],"comments":[{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":0,"creation_date":1689324188,"post_id":76686054,"comment_id":135200259,"body_markdown":"`BaseConverter.class.getGenericSuperclass()` would return `Object`, because `BaseConverter` has no explicit `extends`. That&#39;s not a generic class. Do you mean `getClass().getGenericSuperclass()`?","body":"<code>BaseConverter.class.getGenericSuperclass()</code> would return <code>Object</code>, because <code>BaseConverter</code> has no explicit <code>extends</code>. That&#39;s not a generic class. Do you mean <code>getClass().getGenericSuperclass()</code>?"}],"owner":{"account_id":27070897,"reputation":25,"user_id":20621559,"display_name":"FelixFeuerdorn"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":89,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689324860,"creation_date":1689323947,"question_id":76686054,"body_markdown":"I&#39;ve been trying for a while to create a mapper that converts 2 objects, i.e. from one object to the other, with specification to the Generic Class. Since I can&#39;t find out the type in a static method without specifying the classes, I created a generic class for it, but my problem is that I don&#39;t know how to initialize my object to be converted and write the individual variables, or more precisely their content, into the object.\r\n\r\nI worked out the following solution using ChatGPT and research, but my problem is that I get a ClassCastException on return when I just use Type. ParameteriziedType doesn&#39;t work for me at all, for reasons unknown to me.\r\n\r\n```java\r\npublic abstract class BaseConverter&lt;TIntoEntity,TFromEntity&gt;{\r\n\r\n    public TIntoEntity convert(TFromEntity from){\r\n        try{\r\n            TIntoEntity into = null;\r\n            Class&lt;?&gt; fromClass = from.getClass();\r\n            Class&lt;?&gt; intoClass = (Class&lt;?&gt;)((ParameterizedType) BaseConverter.class.getGenericSuperclass()).getActualTypeArguments()[0];\r\n\r\n            into = (TIntoEntity) intoClass.getConstructor().newInstance();\r\n\r\n            Map&lt;String, Field&gt; fromFields = this.getFieldMap(fromClass.getDeclaredFields());\r\n            Map&lt;String, Field&gt; intoFields = this.getFieldMap(intoClass.getDeclaredFields());\r\n            \r\n            for (Map.Entry&lt;String, Field&gt; entry : fromFields.entrySet()) {\r\n                String fieldName = entry.getKey();\r\n\r\n                if (intoFields.containsKey(fieldName)) {\r\n                    Field fromField = entry.getValue();\r\n                    Field intoField = intoFields.get(fieldName);\r\n    \r\n                    fromField.setAccessible(true);\r\n                    intoField.setAccessible(true);\r\n    \r\n                    Object value = fromField.get(from);\r\n                    Object intoValue = intoField.get(into);\r\n                    \r\n                    intoValue = DataTypeConverter.convert(intoValue.getClass(),value);\r\n    \r\n                    if(value != null){\r\n                        intoField.set(into, intoValue);\r\n                    }\r\n                }\r\n            }\r\n            return (TIntoEntity) into;\r\n        }catch(Exception e){\r\n            System.out.println(e);\r\n            return null;\r\n        }\r\n    }\r\n\r\n    private Map&lt;String, Field&gt; getFieldMap(Field[] fields) {\r\n        Map&lt;String, Field&gt; fieldMap = new HashMap&lt;&gt;();\r\n        for (Field field : fields) {\r\n            fieldMap.put(field.getName(), field);\r\n        }\r\n        return fieldMap;\r\n    }\r\n}\r\n```\r\nFor calling the method I initialize with the QuarkusFramework (@Inject), the mapper in a resource, and then I use a simple post, with simple class, where names and types are also the same.\r\n\r\n```java\r\n@RequestScoped\r\npublic class Mapper extends BaseConverter&lt;E2, E1&gt; {\r\n    \r\n}\r\n\r\npublic class E1{\r\n    public long l;\r\n    public String s;\r\n}\r\npublic class E2{\r\n    public long l;\r\n    public String s;\r\n}\r\n```\r\n\r\nAnd also with the Fields I&#39;m not sure if it really works like that, because I don&#39;t even think I have the right class for the object, and possibly initiate it wrong. Can someone help me how this should look correct. I sit there already several days on it and just do not understand where the problem lies.\r\n\r\nI don&#39;t want to install any extensions, but create the mapper with &quot;pure Java&quot;.","title":"Java Generic Mapper with Generic Class","body":"<p>I've been trying for a while to create a mapper that converts 2 objects, i.e. from one object to the other, with specification to the Generic Class. Since I can't find out the type in a static method without specifying the classes, I created a generic class for it, but my problem is that I don't know how to initialize my object to be converted and write the individual variables, or more precisely their content, into the object.</p>\n<p>I worked out the following solution using ChatGPT and research, but my problem is that I get a ClassCastException on return when I just use Type. ParameteriziedType doesn't work for me at all, for reasons unknown to me.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public abstract class BaseConverter&lt;TIntoEntity,TFromEntity&gt;{\n\n    public TIntoEntity convert(TFromEntity from){\n        try{\n            TIntoEntity into = null;\n            Class&lt;?&gt; fromClass = from.getClass();\n            Class&lt;?&gt; intoClass = (Class&lt;?&gt;)((ParameterizedType) BaseConverter.class.getGenericSuperclass()).getActualTypeArguments()[0];\n\n            into = (TIntoEntity) intoClass.getConstructor().newInstance();\n\n            Map&lt;String, Field&gt; fromFields = this.getFieldMap(fromClass.getDeclaredFields());\n            Map&lt;String, Field&gt; intoFields = this.getFieldMap(intoClass.getDeclaredFields());\n            \n            for (Map.Entry&lt;String, Field&gt; entry : fromFields.entrySet()) {\n                String fieldName = entry.getKey();\n\n                if (intoFields.containsKey(fieldName)) {\n                    Field fromField = entry.getValue();\n                    Field intoField = intoFields.get(fieldName);\n    \n                    fromField.setAccessible(true);\n                    intoField.setAccessible(true);\n    \n                    Object value = fromField.get(from);\n                    Object intoValue = intoField.get(into);\n                    \n                    intoValue = DataTypeConverter.convert(intoValue.getClass(),value);\n    \n                    if(value != null){\n                        intoField.set(into, intoValue);\n                    }\n                }\n            }\n            return (TIntoEntity) into;\n        }catch(Exception e){\n            System.out.println(e);\n            return null;\n        }\n    }\n\n    private Map&lt;String, Field&gt; getFieldMap(Field[] fields) {\n        Map&lt;String, Field&gt; fieldMap = new HashMap&lt;&gt;();\n        for (Field field : fields) {\n            fieldMap.put(field.getName(), field);\n        }\n        return fieldMap;\n    }\n}\n</code></pre>\n<p>For calling the method I initialize with the QuarkusFramework (@Inject), the mapper in a resource, and then I use a simple post, with simple class, where names and types are also the same.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RequestScoped\npublic class Mapper extends BaseConverter&lt;E2, E1&gt; {\n    \n}\n\npublic class E1{\n    public long l;\n    public String s;\n}\npublic class E2{\n    public long l;\n    public String s;\n}\n</code></pre>\n<p>And also with the Fields I'm not sure if it really works like that, because I don't even think I have the right class for the object, and possibly initiate it wrong. Can someone help me how this should look correct. I sit there already several days on it and just do not understand where the problem lies.</p>\n<p>I don't want to install any extensions, but create the mapper with &quot;pure Java&quot;.</p>\n"},{"tags":["java","arrays","performance","libraries"],"owner":{"account_id":28997460,"reputation":1,"user_id":22211789,"display_name":"Khushi Raghuvanshi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":60,"favorite_count":0,"down_vote_count":4,"up_vote_count":0,"closed_date":1691705911,"answer_count":2,"score":-4,"last_activity_date":1689324785,"creation_date":1689106231,"question_id":76665457,"body_markdown":"I am having a serious problem with my VS Code editor. I want to run java programs and I have downloaded all the extension files and JDK. But I am unable to run the code. When I was done writing my code, I tried running it, but it showed me a &#39;class not found&#39; exception. I have stored everything in the desktop. \r\n\r\n![](https://i.stack.imgur.com/yfYxE.png) is an image of the code and the error.\r\n\r\nI was expecting to setup VS Code for running my java programs. But I am unable to do it because of the problem.","title":"&#39;java.lang.ClassNotFound&#39; Exception in VSCode","body":"<p>I am having a serious problem with my VS Code editor. I want to run java programs and I have downloaded all the extension files and JDK. But I am unable to run the code. When I was done writing my code, I tried running it, but it showed me a 'class not found' exception. I have stored everything in the desktop.</p>\n<p><img src=\"https://i.stack.imgur.com/yfYxE.png\" alt=\"\" /> is an image of the code and the error.</p>\n<p>I was expecting to setup VS Code for running my java programs. But I am unable to do it because of the problem.</p>\n"},{"tags":["java","android","kotlin","android-appcompat"],"owner":{"account_id":27431,"reputation":46866,"user_id":72437,"accept_rate":86,"display_name":"Cheok Yan Cheng"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689324768,"creation_date":1689324384,"question_id":76686118,"body_markdown":"I have 2 projects. 1 is Java, another 1 is Kotlin.\r\n\r\nBoth are using \r\n\r\n    implementation &#39;androidx.appcompat:appcompat:1.6.1&#39;\r\n\r\nHowever, I notice they are calling different function, when I try to call `androidx.appcompat.app.AppCompatActivity.startActivityForResult(Intent, int)`\r\n\r\n\r\n----------\r\n\r\n\r\nIn Java\r\n-------\r\nWhen calling `androidx.appcompat.app.AppCompatActivity.startActivityForResult(Intent, int)`, it will step into \r\n\r\n    androidx.activity.ComponentActivity.startActivityForResult(@NonNull Intent intent, int requestCode)\r\n\r\nwhich is currently deprecated.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n----------\r\n\r\nIn Kotlin\r\n---------\r\n\r\nWhen calling `androidx.appcompat.app.AppCompatActivity.startActivityForResult(Intent, int)`, it will step into \r\n\r\n    androidx.fragment.app.FragmentActivity.startActivityForResult(@SuppressLint(&quot;UnknownNullness&quot;) Intent intent, int requestCode)\r\n\r\nwhich is currently **NOT** deprecated.\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n----------\r\n\r\nThe reason I start to look into this, is because I do not get expected deprecated warning when using `startActivityForResult` in Kotlin project. \r\n\r\nWhen I investigate further, I notice Kotlin has different code path from Java, when calling `androidx.appcompat.app.AppCompatActivity.startActivityForResult(Intent, int)`\r\n\r\nIs this the correct behavior? May I know why it is so?\r\n\r\n  [1]: https://i.stack.imgur.com/rV6ql.png\r\n  [2]: https://i.stack.imgur.com/cOLrX.png","title":"Different deprecation warning behaviour for Kotlin and Java projects, when executing androidx.appcompat.app.AppCompatActivity.startActivityForResult","body":"<p>I have 2 projects. 1 is Java, another 1 is Kotlin.</p>\n<p>Both are using</p>\n<pre><code>implementation 'androidx.appcompat:appcompat:1.6.1'\n</code></pre>\n<p>However, I notice they are calling different function, when I try to call <code>androidx.appcompat.app.AppCompatActivity.startActivityForResult(Intent, int)</code></p>\n<hr />\n<h2>In Java</h2>\n<p>When calling <code>androidx.appcompat.app.AppCompatActivity.startActivityForResult(Intent, int)</code>, it will step into</p>\n<pre><code>androidx.activity.ComponentActivity.startActivityForResult(@NonNull Intent intent, int requestCode)\n</code></pre>\n<p>which is currently deprecated.</p>\n<p><a href=\"https://i.stack.imgur.com/rV6ql.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/rV6ql.png\" alt=\"enter image description here\" /></a></p>\n<hr />\n<h2>In Kotlin</h2>\n<p>When calling <code>androidx.appcompat.app.AppCompatActivity.startActivityForResult(Intent, int)</code>, it will step into</p>\n<pre><code>androidx.fragment.app.FragmentActivity.startActivityForResult(@SuppressLint(&quot;UnknownNullness&quot;) Intent intent, int requestCode)\n</code></pre>\n<p>which is currently <strong>NOT</strong> deprecated.</p>\n<p><a href=\"https://i.stack.imgur.com/cOLrX.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/cOLrX.png\" alt=\"enter image description here\" /></a></p>\n<hr />\n<p>The reason I start to look into this, is because I do not get expected deprecated warning when using <code>startActivityForResult</code> in Kotlin project.</p>\n<p>When I investigate further, I notice Kotlin has different code path from Java, when calling <code>androidx.appcompat.app.AppCompatActivity.startActivityForResult(Intent, int)</code></p>\n<p>Is this the correct behavior? May I know why it is so?</p>\n"},{"tags":["java","gson","deserialization"],"comments":[{"owner":{"account_id":5384013,"reputation":6035,"user_id":4288506,"accept_rate":77,"display_name":"Marcono1234"},"score":0,"creation_date":1689198014,"post_id":76637435,"comment_id":135181191,"body_markdown":"Did you edit your code before pasting it here? Because as far as I know `CustomObject_1.2` is not a valid Java class name. In general please choose valid class names in your examples (e.g. `CustomObject_1_2`) and make sure they actually compile, or even better that they are [minimal and reproducible](https://stackoverflow.com/help/minimal-reproducible-example).","body":"Did you edit your code before pasting it here? Because as far as I know <code>CustomObject_1.2</code> is not a valid Java class name. In general please choose valid class names in your examples (e.g. <code>CustomObject_1_2</code>) and make sure they actually compile, or even better that they are <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal and reproducible</a>."},{"owner":{"account_id":5384013,"reputation":6035,"user_id":4288506,"accept_rate":77,"display_name":"Marcono1234"},"score":0,"creation_date":1689198856,"post_id":76637435,"comment_id":135181302,"body_markdown":"Also it looks like the syntax of the JSON snippets you provided is invalid; `[ ... &quot;CustomObject_1.2.1&quot;: ... ]` is not valid. Did you mean `{ &quot;CustomObject_1.2.1&quot;: ... }`? Please verify that they are correct. Please also provide the code for your `CustomObject_1` class so that the complete structure of your data is clearer.","body":"Also it looks like the syntax of the JSON snippets you provided is invalid; <code>[ ... &quot;CustomObject_1.2.1&quot;: ... ]</code> is not valid. Did you mean <code>{ &quot;CustomObject_1.2.1&quot;: ... }</code>? Please verify that they are correct. Please also provide the code for your <code>CustomObject_1</code> class so that the complete structure of your data is clearer."}],"answers":[{"comments":[{"owner":{"account_id":14861941,"reputation":1836,"user_id":10732434,"display_name":"sanitizedUser"},"score":0,"creation_date":1688978575,"post_id":76637648,"comment_id":135142561,"body_markdown":"This is just another question and should be deleted.","body":"This is just another question and should be deleted."}],"tags":[],"owner":{"account_id":27429920,"reputation":11,"user_id":20926792,"display_name":"Atram"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1689007519,"creation_date":1688738511,"answer_id":76637648,"question_id":76637435,"body_markdown":"I&#39;ve changed my deserializer code like below and it looks like it&#39;s working like it should, although I&#39;m not sure if it makes sense.\r\n\r\n```\r\npublic CustomObject_1.2 deserialize(JsonElement json, Type type, JsonDeserializationContext context) throws JsonParseException {\r\n    if (json.isJsonArray()) {\r\n        JsonArray jsonArray = json.getAsJsonArray();\r\n        if (jsonArray.size() == 0) {\r\n            System.out.println(jsonArray);  // return an empty Totals object\r\n            return new CustomObject_1.2();\r\n        }\r\n    } else if (json.isJsonObject()) {\r\n        JsonObject jsonObject = json.getAsJsonObject();\r\n        if (jsonObject.has(&quot;CustomObject_1.2.1&quot;) &amp;&amp; jsonObject.get(&quot;CustomObject_1.2.1&quot;).isJsonArray()) {\r\n            JsonArray competitorsArray = jsonObject.getAsJsonArray(&quot;competitors&quot;);\r\n            System.out.println(competitorsArray);   //valid object so use default serialization\r\n            return new Gson.fromJson(jsonObject, CustomObject_1.2.class);\r\n        }\r\n    }\r\n    return null;\r\n}\r\n```\r\n","title":"Java ignore custom deserialization on GSON if json format is valid","body":"<p>I've changed my deserializer code like below and it looks like it's working like it should, although I'm not sure if it makes sense.</p>\n<pre><code>public CustomObject_1.2 deserialize(JsonElement json, Type type, JsonDeserializationContext context) throws JsonParseException {\n    if (json.isJsonArray()) {\n        JsonArray jsonArray = json.getAsJsonArray();\n        if (jsonArray.size() == 0) {\n            System.out.println(jsonArray);  // return an empty Totals object\n            return new CustomObject_1.2();\n        }\n    } else if (json.isJsonObject()) {\n        JsonObject jsonObject = json.getAsJsonObject();\n        if (jsonObject.has(&quot;CustomObject_1.2.1&quot;) &amp;&amp; jsonObject.get(&quot;CustomObject_1.2.1&quot;).isJsonArray()) {\n            JsonArray competitorsArray = jsonObject.getAsJsonArray(&quot;competitors&quot;);\n            System.out.println(competitorsArray);   //valid object so use default serialization\n            return new Gson.fromJson(jsonObject, CustomObject_1.2.class);\n        }\n    }\n    return null;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5384013,"reputation":6035,"user_id":4288506,"accept_rate":77,"display_name":"Marcono1234"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689200475,"creation_date":1689200475,"answer_id":76674815,"question_id":76637435,"body_markdown":"Your question is a bit similar to [this question](https://stackoverflow.com/q/43412261) where either a single object or an array of objects should be deserialized. The solution to this is therefore also similar:\r\n\r\nYou can create a custom [`TypeAdapterFactory`](https://javadoc.io/doc/com.google.code.gson/gson/latest/com.google.gson/com/google/gson/TypeAdapterFactory.html) whose created adapter peeks at the JSON data. If it finds a JSON array, it expects that the array is empty and returns `new CustomObject_1_2()`; otherwise it delegates deserialization to the actual adapter (if you haven&#39;t specified one, Gson defaults to using reflection).  \r\n\r\nThe advantage compared to your code is that it uses `TypeAdapterFactory` and `TypeAdapter` rather than `JsonDeserializer` and is therefore likely more efficient because it directly operates on the JSON data stream, and also it reuses the same `Gson` instance and therefore also considers any custom adapters which you might registered for the types of the fields of `CustomObject_1_2`.\r\n\r\nFor example:\r\n```java\r\nclass CustomObject_1_2_AdapterFactory implements TypeAdapterFactory {\r\n    public static final CustomObject_1_2_AdapterFactory INSTANCE = new CustomObject_1_2_AdapterFactory();\r\n\r\n    private CustomObject_1_2_AdapterFactory() { }\r\n\r\n    @Override\r\n    public &lt;T&gt; TypeAdapter&lt;T&gt; create(Gson gson, TypeToken&lt;T&gt; type) {\r\n        // Only handle CustomObject_1_2, let other factories handle all other types\r\n        if (type.getRawType() != CustomObject_1_2.class) {\r\n            return null;\r\n        }\r\n\r\n        TypeAdapter&lt;T&gt; delegate = gson.getDelegateAdapter(this, type);\r\n        return new TypeAdapter&lt;T&gt;() {\r\n            @Override\r\n            public T read(JsonReader in) throws IOException {\r\n                if (in.peek() == JsonToken.BEGIN_ARRAY) {\r\n                    // Expecting an empty JSON array\r\n                    in.beginArray();\r\n                    in.endArray();\r\n\r\n                    // Cast is safe because factory checked that type is CustomObject_1_2\r\n                    @SuppressWarnings(&quot;unchecked&quot;)\r\n                    T t = (T) new CustomObject_1_2();\r\n                    return t;\r\n                } else {\r\n                    return delegate.read(in);\r\n                }\r\n            }\r\n\r\n            @Override\r\n            public void write(JsonWriter out, T value) throws IOException {\r\n                delegate.write(out, value);\r\n            }\r\n        };\r\n    }\r\n}\r\n```\r\n\r\nAnd then register it like this:\r\n```java\r\nGson gson = new GsonBuilder()\r\n    .registerTypeAdapterFactory(CustomObject_1_2_AdapterFactory.INSTANCE)\r\n    .create();\r\n```\r\n\r\nIf you don&#39;t just have to differentiate between whether the data is a JSON array or a JSON object and need additional checks such as for the `CustomObject_1.2.1` property as shown in your code, then it would be more complicated because you would first have to parse the JSON data as `JsonObject` to peek at the fields.","title":"Java ignore custom deserialization on GSON if json format is valid","body":"<p>Your question is a bit similar to <a href=\"https://stackoverflow.com/q/43412261\">this question</a> where either a single object or an array of objects should be deserialized. The solution to this is therefore also similar:</p>\n<p>You can create a custom <a href=\"https://javadoc.io/doc/com.google.code.gson/gson/latest/com.google.gson/com/google/gson/TypeAdapterFactory.html\" rel=\"nofollow noreferrer\"><code>TypeAdapterFactory</code></a> whose created adapter peeks at the JSON data. If it finds a JSON array, it expects that the array is empty and returns <code>new CustomObject_1_2()</code>; otherwise it delegates deserialization to the actual adapter (if you haven't specified one, Gson defaults to using reflection).</p>\n<p>The advantage compared to your code is that it uses <code>TypeAdapterFactory</code> and <code>TypeAdapter</code> rather than <code>JsonDeserializer</code> and is therefore likely more efficient because it directly operates on the JSON data stream, and also it reuses the same <code>Gson</code> instance and therefore also considers any custom adapters which you might registered for the types of the fields of <code>CustomObject_1_2</code>.</p>\n<p>For example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class CustomObject_1_2_AdapterFactory implements TypeAdapterFactory {\n    public static final CustomObject_1_2_AdapterFactory INSTANCE = new CustomObject_1_2_AdapterFactory();\n\n    private CustomObject_1_2_AdapterFactory() { }\n\n    @Override\n    public &lt;T&gt; TypeAdapter&lt;T&gt; create(Gson gson, TypeToken&lt;T&gt; type) {\n        // Only handle CustomObject_1_2, let other factories handle all other types\n        if (type.getRawType() != CustomObject_1_2.class) {\n            return null;\n        }\n\n        TypeAdapter&lt;T&gt; delegate = gson.getDelegateAdapter(this, type);\n        return new TypeAdapter&lt;T&gt;() {\n            @Override\n            public T read(JsonReader in) throws IOException {\n                if (in.peek() == JsonToken.BEGIN_ARRAY) {\n                    // Expecting an empty JSON array\n                    in.beginArray();\n                    in.endArray();\n\n                    // Cast is safe because factory checked that type is CustomObject_1_2\n                    @SuppressWarnings(&quot;unchecked&quot;)\n                    T t = (T) new CustomObject_1_2();\n                    return t;\n                } else {\n                    return delegate.read(in);\n                }\n            }\n\n            @Override\n            public void write(JsonWriter out, T value) throws IOException {\n                delegate.write(out, value);\n            }\n        };\n    }\n}\n</code></pre>\n<p>And then register it like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Gson gson = new GsonBuilder()\n    .registerTypeAdapterFactory(CustomObject_1_2_AdapterFactory.INSTANCE)\n    .create();\n</code></pre>\n<p>If you don't just have to differentiate between whether the data is a JSON array or a JSON object and need additional checks such as for the <code>CustomObject_1.2.1</code> property as shown in your code, then it would be more complicated because you would first have to parse the JSON data as <code>JsonObject</code> to peek at the fields.</p>\n"}],"owner":{"account_id":27429920,"reputation":11,"user_id":20926792,"display_name":"Atram"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76637648,"answer_count":2,"score":0,"last_activity_date":1689324660,"creation_date":1688736588,"question_id":76637435,"body_markdown":"I have been looking around but could not find any conclusion for my problem, I&#39;ll try to describe it the best way I can.\r\n\r\nI&#39;m calling an API that can respond 2 ways (***note that class names are only examples, not the real names***):\r\n\r\nBad response:\r\n```\r\n{\r\n        &quot;CustomObject_1&quot; : {\r\n            &quot;CustomObject_1.1&quot; : {\r\n                ...\r\n            },\r\n            &quot;CustomObject_1.2&quot; : [\r\n                [ ]\r\n            ]\r\n        },\r\n        &quot;CustomObject_2&quot; : {\r\n            ...\r\n        }\r\n```\r\n\r\nGood response:\r\n```\r\n{\r\n        &quot;CustomObject_1&quot; : {\r\n            &quot;CustomObject_1.1&quot; : {\r\n                ...\r\n            },\r\n            &quot;CustomObject_1.2&quot; : [\r\n                &quot;CustomObject_1.2.1&quot; : {\r\n                ...\r\n                }\r\n            ]\r\n        },\r\n        &quot;CustomObject_2&quot; : {\r\n            ...\r\n        }\r\n```\r\n\r\nThe difference is in `CustomObject_1.2` that can be a custom object (that contains more layers of custom objects inside), or it can be an empty array.\r\n\r\nI have a deserializer that corrects the bad response, but it makes the good response null, instead of using the default serialization.\r\n\r\n`class CustomObject_1.2Deserializer`\r\n\r\n```\r\npublic CustomObject_1.2 deserialize(JsonElement json, Type type, JsonDeserializationContext context) throws JsonParseException {\r\n        if (json.isJsonArray()) {\r\n            JsonArray jsonArray = json.getAsJsonArray();\r\n            if (jsonArray.size() == 0) {\r\n                System.out.println(jsonArray);  // return an empty Totals object\r\n                return new CustomObject_1.2();\r\n            }\r\n        } else if (json.isJsonObject()) {\r\n            JsonObject jsonObject = json.getAsJsonObject();\r\n            if (jsonObject.has(&quot;CustomObject_1.2.1&quot;) &amp;&amp; jsonObject.get(&quot;CustomObject_1.2.1&quot;).isJsonArray()) {\r\n                JsonArray competitorsArray = jsonObject.getAsJsonArray(&quot;competitors&quot;);\r\n                System.out.println(competitorsArray);   //valid object so use default serialization\r\n            }\r\n        }\r\n        return null;\r\n    }\r\n```\r\n\r\nIs there a way to ignore the deserialization when the json comes as a valid object?\r\n\r\nIn case it&#39;s needed here is the function that handles the gson serialization:\r\n\r\n```\r\nprivate MyDtoInterface processResponse(String message) {\r\n        MyDtoInterface mDto = null;\r\n        try {\r\n                Gson gson = new GsonBuilder()\r\n                        .registerTypeAdapter(CustomObject_1.2.class, new CustomObject_1.2Deserializer())\r\n                        .create();\r\n                mDto = gson.fromJson(message, CustomparentDTO.class);\r\n        } catch (Exception e) {\r\n            System.out.println(&quot;Json format not compatible with ParentDTO&quot;);\r\n        }\r\n        return mDto;\r\n    }\r\n```\r\n \r\n\r\nThank you in advance!\r\n\r\nI&#39;ve lost count of what I&#39;ve tried. And most examples I can find use primitives and not CustomObjects inside CustomObjects.\r\n\r\nI was trying to only deserialize the invalid json. If I try to build a `new CustomObject_1.2()` it will be endless because it&#39;s attributes are not primites like String, Integer, Date, ... they are custom objecst inside objects.\r\n\r\nThe code above will return the following:\r\nBad response (will build a good DTO):\r\n```\r\n{\r\n        &quot;CustomObject_1&quot; : {\r\n            &quot;CustomObject_1.1&quot; : {\r\n                ...\r\n            },\r\n            &quot;CustomObject_1.2&quot; : [\r\n                &quot;CustomObject_1.2.1&quot; : null\r\n            ]\r\n        },\r\n        &quot;CustomObject_2&quot; : {\r\n            ...\r\n        }\r\n```\r\n\r\nGood response (will build a null DTO):\r\n```\r\n{\r\n        &quot;CustomObject_1&quot; : {\r\n            &quot;CustomObject_1.1&quot; : {\r\n                ...\r\n            },\r\n            &quot;CustomObject_1.2&quot; : [\r\n                All elements are null\r\n            ]\r\n        },\r\n        &quot;CustomObject_2&quot; : {\r\n            ...\r\n        }\r\n```","title":"Java ignore custom deserialization on GSON if json format is valid","body":"<p>I have been looking around but could not find any conclusion for my problem, I'll try to describe it the best way I can.</p>\n<p>I'm calling an API that can respond 2 ways (<em><strong>note that class names are only examples, not the real names</strong></em>):</p>\n<p>Bad response:</p>\n<pre><code>{\n        &quot;CustomObject_1&quot; : {\n            &quot;CustomObject_1.1&quot; : {\n                ...\n            },\n            &quot;CustomObject_1.2&quot; : [\n                [ ]\n            ]\n        },\n        &quot;CustomObject_2&quot; : {\n            ...\n        }\n</code></pre>\n<p>Good response:</p>\n<pre><code>{\n        &quot;CustomObject_1&quot; : {\n            &quot;CustomObject_1.1&quot; : {\n                ...\n            },\n            &quot;CustomObject_1.2&quot; : [\n                &quot;CustomObject_1.2.1&quot; : {\n                ...\n                }\n            ]\n        },\n        &quot;CustomObject_2&quot; : {\n            ...\n        }\n</code></pre>\n<p>The difference is in <code>CustomObject_1.2</code> that can be a custom object (that contains more layers of custom objects inside), or it can be an empty array.</p>\n<p>I have a deserializer that corrects the bad response, but it makes the good response null, instead of using the default serialization.</p>\n<p><code>class CustomObject_1.2Deserializer</code></p>\n<pre><code>public CustomObject_1.2 deserialize(JsonElement json, Type type, JsonDeserializationContext context) throws JsonParseException {\n        if (json.isJsonArray()) {\n            JsonArray jsonArray = json.getAsJsonArray();\n            if (jsonArray.size() == 0) {\n                System.out.println(jsonArray);  // return an empty Totals object\n                return new CustomObject_1.2();\n            }\n        } else if (json.isJsonObject()) {\n            JsonObject jsonObject = json.getAsJsonObject();\n            if (jsonObject.has(&quot;CustomObject_1.2.1&quot;) &amp;&amp; jsonObject.get(&quot;CustomObject_1.2.1&quot;).isJsonArray()) {\n                JsonArray competitorsArray = jsonObject.getAsJsonArray(&quot;competitors&quot;);\n                System.out.println(competitorsArray);   //valid object so use default serialization\n            }\n        }\n        return null;\n    }\n</code></pre>\n<p>Is there a way to ignore the deserialization when the json comes as a valid object?</p>\n<p>In case it's needed here is the function that handles the gson serialization:</p>\n<pre><code>private MyDtoInterface processResponse(String message) {\n        MyDtoInterface mDto = null;\n        try {\n                Gson gson = new GsonBuilder()\n                        .registerTypeAdapter(CustomObject_1.2.class, new CustomObject_1.2Deserializer())\n                        .create();\n                mDto = gson.fromJson(message, CustomparentDTO.class);\n        } catch (Exception e) {\n            System.out.println(&quot;Json format not compatible with ParentDTO&quot;);\n        }\n        return mDto;\n    }\n</code></pre>\n<p>Thank you in advance!</p>\n<p>I've lost count of what I've tried. And most examples I can find use primitives and not CustomObjects inside CustomObjects.</p>\n<p>I was trying to only deserialize the invalid json. If I try to build a <code>new CustomObject_1.2()</code> it will be endless because it's attributes are not primites like String, Integer, Date, ... they are custom objecst inside objects.</p>\n<p>The code above will return the following:\nBad response (will build a good DTO):</p>\n<pre><code>{\n        &quot;CustomObject_1&quot; : {\n            &quot;CustomObject_1.1&quot; : {\n                ...\n            },\n            &quot;CustomObject_1.2&quot; : [\n                &quot;CustomObject_1.2.1&quot; : null\n            ]\n        },\n        &quot;CustomObject_2&quot; : {\n            ...\n        }\n</code></pre>\n<p>Good response (will build a null DTO):</p>\n<pre><code>{\n        &quot;CustomObject_1&quot; : {\n            &quot;CustomObject_1.1&quot; : {\n                ...\n            },\n            &quot;CustomObject_1.2&quot; : [\n                All elements are null\n            ]\n        },\n        &quot;CustomObject_2&quot; : {\n            ...\n        }\n</code></pre>\n"},{"tags":["java","spring-boot","openapi","openapi-generator"],"comments":[{"owner":{"account_id":1806113,"reputation":625,"user_id":1643179,"display_name":"gebi"},"score":0,"creation_date":1690188040,"post_id":76686049,"comment_id":135313117,"body_markdown":"Hi, please make sure your yaml input is valid. OpenAPI generator validates it before generation, but you can also use e.g. editor-next.swagger.io . If the problems still happens, please post your valid input yaml.","body":"Hi, please make sure your yaml input is valid. OpenAPI generator validates it before generation, but you can also use e.g. editor-next.swagger.io . If the problems still happens, please post your valid input yaml."},{"owner":{"account_id":1592400,"reputation":603,"user_id":1475440,"display_name":"some_user"},"score":0,"creation_date":1700574244,"post_id":76686049,"comment_id":136669384,"body_markdown":"@gluwak, did you find a solution to this?","body":"@gluwak, did you find a solution to this?"},{"owner":{"account_id":15089287,"reputation":13,"user_id":10889648,"display_name":"gluwak"},"score":0,"creation_date":1700662216,"post_id":76686049,"comment_id":136682070,"body_markdown":"@some_user have not found solution.","body":"@some_user have not found solution."}],"owner":{"account_id":15089287,"reputation":13,"user_id":10889648,"display_name":"gluwak"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":820,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689323902,"creation_date":1689323902,"question_id":76686049,"body_markdown":"OpenApi generator is used to create Api interfaces. I use `org.openapitools:openapi-generator-gradle-plugin:6.6.0`. It generates code where Set is one of method parameters, but generator do not add `java.util.Set` to import.\r\n\r\nIn method bellow I want to get set of unique countries which user has chosen. Here you can see `Set&lt;String&gt; countryList` , but there is no `import java.util.Set` or even `import java.util.*`.\r\nHere is that generated API method:\r\n\r\n```\r\n\r\nimport com.example.test.model.ErrorResponse;\r\nimport io.swagger.v3.oas.annotations.ExternalDocumentation;\r\nimport io.swagger.v3.oas.annotations.Operation;\r\nimport io.swagger.v3.oas.annotations.Parameter;\r\nimport io.swagger.v3.oas.annotations.Parameters;\r\nimport io.swagger.v3.oas.annotations.media.ArraySchema;\r\nimport io.swagger.v3.oas.annotations.media.Content;\r\nimport io.swagger.v3.oas.annotations.media.Schema;\r\nimport io.swagger.v3.oas.annotations.responses.ApiResponse;\r\nimport io.swagger.v3.oas.annotations.security.SecurityRequirement;\r\nimport io.swagger.v3.oas.annotations.tags.Tag;\r\nimport io.swagger.v3.oas.annotations.enums.ParameterIn;\r\nimport org.springframework.http.HttpStatus;\r\nimport org.springframework.http.MediaType;\r\nimport org.springframework.http.ResponseEntity;\r\nimport org.springframework.validation.annotation.Validated;\r\nimport org.springframework.web.bind.annotation.*;\r\nimport org.springframework.web.context.request.NativeWebRequest;\r\nimport org.springframework.web.multipart.MultipartFile;\r\n\r\nimport jakarta.validation.Valid;\r\nimport jakarta.validation.constraints.*;\r\nimport java.util.List;\r\nimport java.util.Map;\r\nimport java.util.Optional;\r\nimport jakarta.annotation.Generated;\r\n\r\n@Generated(value = &quot;org.openapitools.codegen.languages.SpringCodegen&quot;, date = &quot;2023-07-14T10:05:08.694721+03:00[Europe/Riga]&quot;)\r\n@Validated\r\n@Tag(name = &quot;application&quot;, description = &quot;the application API&quot;)\r\npublic interface ApplicationApi {\r\n\r\n    default Optional&lt;NativeWebRequest&gt; getRequest() {\r\n        return Optional.empty();\r\n    }\r\n\r\n    @Operation(\r\n        operationId = &quot;applicationApplicationIdCountriesPost&quot;,\r\n        summary = &quot;Lets a user to enter his countries&quot;,\r\n        responses = {\r\n            @ApiResponse(responseCode = &quot;200&quot;, description = &quot;Succesfully added countries to {applicationId}&quot;),\r\n            @ApiResponse(responseCode = &quot;400&quot;, description = &quot;Validation error&quot;, content = {\r\n                @Content(mediaType = &quot;*/*&quot;, array = @ArraySchema(schema = @Schema(implementation = ErrorResponse.class)))\r\n            }),\r\n            @ApiResponse(responseCode = &quot;500&quot;, description = &quot;Internal error&quot;)\r\n        }\r\n    )\r\n    @RequestMapping(\r\n        method = RequestMethod.POST,\r\n        value = &quot;/application/{applicationId}/country&quot;,\r\n        produces = { &quot;*/*&quot; },\r\n        consumes = { &quot;application/x-www-form-urlencoded&quot; }\r\n    )\r\n    default ResponseEntity&lt;Void&gt; applicationApplicationIdTaxliabilityPost(\r\n        @Parameter(name = &quot;applicationId&quot;, description = &quot;ID of application&quot;, required = true, in = ParameterIn.PATH) @PathVariable(&quot;applicationId&quot;) Long applicationId,\r\n        @Parameter(name = &quot;countryList&quot;, description = &quot;Country list in ISO 3166-1 alpha-2&quot;, required = true) @Valid @RequestPart(value = &quot;countryList&quot;, required = true) Set&lt;String&gt; countryList\r\n    ) {\r\n        return new ResponseEntity&lt;&gt;(HttpStatus.NOT_IMPLEMENTED);\r\n\r\n    }\r\n}\r\n```\r\n\r\nHere is yaml where from it is generated:\r\n\r\n\r\n```\r\n  &#39;/application/{applicationId}/country&#39;:\r\n    post:\r\n      summary: Lets a user to enter his countries\r\n      operationId: applicationApplicationIdCountriesPost\r\n      consumes:\r\n        - application/x-www-form-urlencoded\r\n      parameters:\r\n        - $ref: &#39;#/parameters/applicationId_pathParam&#39;\r\n        - name: countryList\r\n          in: formData\r\n          description: Country list in ISO 3166-1 alpha-2\r\n          type: array\r\n          minItems: 1\r\n          maxItems: 3\r\n          uniqueItems: true\r\n          items:\r\n            type: string\r\n          required: true\r\n      responses:\r\n        &#39;200&#39;:\r\n          description: &#39;Succesfully added countries to {applicationId}&#39;\r\n        &#39;400&#39;:\r\n          $ref: &#39;#/responses/400&#39;\r\n        &#39;500&#39;:\r\n          $ref: &#39;#/responses/500&#39;\r\n```\r\nAnd openApi gradle config:\r\n\r\n\r\n```\r\nbuildscript {\r\n    dependencies {\r\n    }\r\n    repositories {\r\n        mavenLocal()\r\n    }\r\n}\r\n\r\n\r\n\r\ndef apiPackageFolder = &#39;com.example.test.api&#39;\r\ndef modelPackageFolder = &#39;com.example.test.model&#39;\r\n\r\nopenApiGenerate {\r\n    generatorName.set(&quot;spring&quot;)\r\n    inputSpec.set(&quot;${projectDir}/specs/test.yaml&quot;)\r\n    outputDir.set(&quot;${projectDir}/src/main/java-generated&quot;)\r\n    apiPackage.set(&quot;${apiPackageFolder}&quot;)\r\n    modelPackage.set(&quot;${modelPackageFolder}&quot;)\r\n    configOptions = [\r\n            useSpringBoot3: &quot;true&quot;,\r\n            openApiNullable: &quot;false&quot;,\r\n            useOptional: &quot;true&quot;,\r\n            &quot;interfaceOnly&quot; : &quot;true&quot;,\r\n            sourceFolder: &quot;&quot;\r\n    ]\r\n}\r\ncompileJava.dependsOn tasks.openApiGenerate\r\n```\r\n\r\n\r\n\r\nI&#39;ve tryed to add to openApiGenerate `importMappings.put(&quot;java.util.List&quot;,&quot;java.util.*&quot;)` as a hack.","title":"Spring OpenApi generator do not import Set which is used in generated interface","body":"<p>OpenApi generator is used to create Api interfaces. I use <code>org.openapitools:openapi-generator-gradle-plugin:6.6.0</code>. It generates code where Set is one of method parameters, but generator do not add <code>java.util.Set</code> to import.</p>\n<p>In method bellow I want to get set of unique countries which user has chosen. Here you can see <code>Set&lt;String&gt; countryList</code> , but there is no <code>import java.util.Set</code> or even <code>import java.util.*</code>.\nHere is that generated API method:</p>\n<pre><code>\nimport com.example.test.model.ErrorResponse;\nimport io.swagger.v3.oas.annotations.ExternalDocumentation;\nimport io.swagger.v3.oas.annotations.Operation;\nimport io.swagger.v3.oas.annotations.Parameter;\nimport io.swagger.v3.oas.annotations.Parameters;\nimport io.swagger.v3.oas.annotations.media.ArraySchema;\nimport io.swagger.v3.oas.annotations.media.Content;\nimport io.swagger.v3.oas.annotations.media.Schema;\nimport io.swagger.v3.oas.annotations.responses.ApiResponse;\nimport io.swagger.v3.oas.annotations.security.SecurityRequirement;\nimport io.swagger.v3.oas.annotations.tags.Tag;\nimport io.swagger.v3.oas.annotations.enums.ParameterIn;\nimport org.springframework.http.HttpStatus;\nimport org.springframework.http.MediaType;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.validation.annotation.Validated;\nimport org.springframework.web.bind.annotation.*;\nimport org.springframework.web.context.request.NativeWebRequest;\nimport org.springframework.web.multipart.MultipartFile;\n\nimport jakarta.validation.Valid;\nimport jakarta.validation.constraints.*;\nimport java.util.List;\nimport java.util.Map;\nimport java.util.Optional;\nimport jakarta.annotation.Generated;\n\n@Generated(value = &quot;org.openapitools.codegen.languages.SpringCodegen&quot;, date = &quot;2023-07-14T10:05:08.694721+03:00[Europe/Riga]&quot;)\n@Validated\n@Tag(name = &quot;application&quot;, description = &quot;the application API&quot;)\npublic interface ApplicationApi {\n\n    default Optional&lt;NativeWebRequest&gt; getRequest() {\n        return Optional.empty();\n    }\n\n    @Operation(\n        operationId = &quot;applicationApplicationIdCountriesPost&quot;,\n        summary = &quot;Lets a user to enter his countries&quot;,\n        responses = {\n            @ApiResponse(responseCode = &quot;200&quot;, description = &quot;Succesfully added countries to {applicationId}&quot;),\n            @ApiResponse(responseCode = &quot;400&quot;, description = &quot;Validation error&quot;, content = {\n                @Content(mediaType = &quot;*/*&quot;, array = @ArraySchema(schema = @Schema(implementation = ErrorResponse.class)))\n            }),\n            @ApiResponse(responseCode = &quot;500&quot;, description = &quot;Internal error&quot;)\n        }\n    )\n    @RequestMapping(\n        method = RequestMethod.POST,\n        value = &quot;/application/{applicationId}/country&quot;,\n        produces = { &quot;*/*&quot; },\n        consumes = { &quot;application/x-www-form-urlencoded&quot; }\n    )\n    default ResponseEntity&lt;Void&gt; applicationApplicationIdTaxliabilityPost(\n        @Parameter(name = &quot;applicationId&quot;, description = &quot;ID of application&quot;, required = true, in = ParameterIn.PATH) @PathVariable(&quot;applicationId&quot;) Long applicationId,\n        @Parameter(name = &quot;countryList&quot;, description = &quot;Country list in ISO 3166-1 alpha-2&quot;, required = true) @Valid @RequestPart(value = &quot;countryList&quot;, required = true) Set&lt;String&gt; countryList\n    ) {\n        return new ResponseEntity&lt;&gt;(HttpStatus.NOT_IMPLEMENTED);\n\n    }\n}\n</code></pre>\n<p>Here is yaml where from it is generated:</p>\n<pre><code>  '/application/{applicationId}/country':\n    post:\n      summary: Lets a user to enter his countries\n      operationId: applicationApplicationIdCountriesPost\n      consumes:\n        - application/x-www-form-urlencoded\n      parameters:\n        - $ref: '#/parameters/applicationId_pathParam'\n        - name: countryList\n          in: formData\n          description: Country list in ISO 3166-1 alpha-2\n          type: array\n          minItems: 1\n          maxItems: 3\n          uniqueItems: true\n          items:\n            type: string\n          required: true\n      responses:\n        '200':\n          description: 'Succesfully added countries to {applicationId}'\n        '400':\n          $ref: '#/responses/400'\n        '500':\n          $ref: '#/responses/500'\n</code></pre>\n<p>And openApi gradle config:</p>\n<pre><code>buildscript {\n    dependencies {\n    }\n    repositories {\n        mavenLocal()\n    }\n}\n\n\n\ndef apiPackageFolder = 'com.example.test.api'\ndef modelPackageFolder = 'com.example.test.model'\n\nopenApiGenerate {\n    generatorName.set(&quot;spring&quot;)\n    inputSpec.set(&quot;${projectDir}/specs/test.yaml&quot;)\n    outputDir.set(&quot;${projectDir}/src/main/java-generated&quot;)\n    apiPackage.set(&quot;${apiPackageFolder}&quot;)\n    modelPackage.set(&quot;${modelPackageFolder}&quot;)\n    configOptions = [\n            useSpringBoot3: &quot;true&quot;,\n            openApiNullable: &quot;false&quot;,\n            useOptional: &quot;true&quot;,\n            &quot;interfaceOnly&quot; : &quot;true&quot;,\n            sourceFolder: &quot;&quot;\n    ]\n}\ncompileJava.dependsOn tasks.openApiGenerate\n</code></pre>\n<p>I've tryed to add to openApiGenerate <code>importMappings.put(&quot;java.util.List&quot;,&quot;java.util.*&quot;)</code> as a hack.</p>\n"},{"tags":["java","selenium","selenium-webdriver","automation","appium"],"comments":[{"owner":{"account_id":2772450,"reputation":22416,"user_id":2386774,"display_name":"JeffC"},"score":1,"creation_date":1572494253,"post_id":58636361,"comment_id":103579969,"body_markdown":"Post the relevant HTML of the element you are trying to locate. Odds are we can create a single locator that can find it.","body":"Post the relevant HTML of the element you are trying to locate. Odds are we can create a single locator that can find it."},{"owner":{"account_id":7186894,"reputation":21,"user_id":5488571,"display_name":"Sachin Gupta"},"score":0,"creation_date":1572503483,"post_id":58636361,"comment_id":103582034,"body_markdown":"@JeffC I&#39;m really sorry, i couldn;t get you, I want to use below code in page factory (@FindBy (.....)), how can i use it   driver.findElement(RelativeLocator.withTagName(&quot;input&quot;).above(By.name(&quot;password&quot;)).\n                below(By.xpath(&quot;//td//b[text()=&#39;sign-in here&#39;]&quot;)));","body":"@JeffC I&#39;m really sorry, i couldn;t get you, I want to use below code in page factory (@FindBy (.....)), how can i use it   driver.findElement(RelativeLocator.withTagName(&quot;input&quot;).abov&zwnj;&#8203;e(By.name(&quot;password&quot;&zwnj;&#8203;)).                 below(By.xpath(&quot;//td//b[text()=&#39;sign-in here&#39;]&quot;)));"},{"owner":{"account_id":2772450,"reputation":22416,"user_id":2386774,"display_name":"JeffC"},"score":0,"creation_date":1572535488,"post_id":58636361,"comment_id":103598174,"body_markdown":"I have no idea but if I were to guess, PageFactory has not (and likely will not) be updated to take advantage of the new locator type. PageFactory was written long ago as an example of how you can extend Selenium but was not intended for actual use. The Selenium contributors (Simon Stewart, lead contributor specifically) have stated multiple times during conference talks, etc. that it should not be used.","body":"I have no idea but if I were to guess, PageFactory has not (and likely will not) be updated to take advantage of the new locator type. PageFactory was written long ago as an example of how you can extend Selenium but was not intended for actual use. The Selenium contributors (Simon Stewart, lead contributor specifically) have stated multiple times during conference talks, etc. that it should not be used."},{"owner":{"account_id":7186894,"reputation":21,"user_id":5488571,"display_name":"Sachin Gupta"},"score":0,"creation_date":1572627539,"post_id":58636361,"comment_id":103629262,"body_markdown":"Thanks @JeffC, you are absolutely right, I have also got the answer from the selenium community, here is the clarification:- &quot;Relative locators are dynamic by its nature. They describe an element by its spatial relations to other elements. Java annotations allow to use static expressions only that can be evaluated on compilation stage. So it&#39;s impossible to use relative locators with the current implementation of PageFactory.&quot;","body":"Thanks @JeffC, you are absolutely right, I have also got the answer from the selenium community, here is the clarification:- &quot;Relative locators are dynamic by its nature. They describe an element by its spatial relations to other elements. Java annotations allow to use static expressions only that can be evaluated on compilation stage. So it&#39;s impossible to use relative locators with the current implementation of PageFactory.&quot;"}],"answers":[{"comments":[{"owner":{"account_id":7186894,"reputation":21,"user_id":5488571,"display_name":"Sachin Gupta"},"score":0,"creation_date":1572503277,"post_id":58637091,"comment_id":103581971,"body_markdown":"Hi Mounika, this is the new locator has introduced in selenium 4, I want to use Relative locator (not Relative xpath) in page factory, how can i use below code in page factory,    driver.findElement(RelativeLocator.withTagName(&quot;input&quot;).above(By.name(&quot;password&quot;)).\n                below(By.xpath(&quot;//td//b[text()=&#39;sign-in here&#39;]&quot;)));","body":"Hi Mounika, this is the new locator has introduced in selenium 4, I want to use Relative locator (not Relative xpath) in page factory, how can i use below code in page factory,    driver.findElement(RelativeLocator.withTagName(&quot;input&quot;).abov&zwnj;&#8203;e(By.name(&quot;password&quot;&zwnj;&#8203;)).                 below(By.xpath(&quot;//td//b[text()=&#39;sign-in here&#39;]&quot;)));"},{"owner":{"account_id":7186894,"reputation":21,"user_id":5488571,"display_name":"Sachin Gupta"},"score":0,"creation_date":1572504395,"post_id":58637091,"comment_id":103582319,"body_markdown":"Hi Mounika, please have a look on the video links , i have just added above, please help me if you have any idea of Relative Locator uses in page factory.","body":"Hi Mounika, please have a look on the video links , i have just added above, please help me if you have any idea of Relative Locator uses in page factory."},{"owner":{"account_id":2772450,"reputation":22416,"user_id":2386774,"display_name":"JeffC"},"score":0,"creation_date":1572527523,"post_id":58637091,"comment_id":103593488,"body_markdown":"Are you quoting something? If so, please identify what you are quoting. If not, please remove the quoting format &gt; and format your code as code. If you need help, when you edit your question look to the right for guides.","body":"Are you quoting something? If so, please identify what you are quoting. If not, please remove the quoting format &gt; and format your code as code. If you need help, when you edit your question look to the right for guides."},{"owner":{"account_id":7186894,"reputation":21,"user_id":5488571,"display_name":"Sachin Gupta"},"score":0,"creation_date":1572535260,"post_id":58637091,"comment_id":103598030,"body_markdown":"Thanks @JeffC , I have corrected my code format, hope I will get help soon.","body":"Thanks @JeffC , I have corrected my code format, hope I will get help soon."},{"owner":{"account_id":2772450,"reputation":22416,"user_id":2386774,"display_name":"JeffC"},"score":0,"creation_date":1572535365,"post_id":58637091,"comment_id":103598101,"body_markdown":"Hi @SachinGupta. I was actually talking to Mounika, the writer of this answer. I know you also get notified of my comment but if you look at the location of the comment, you can (generally) tell the context.","body":"Hi @SachinGupta. I was actually talking to Mounika, the writer of this answer. I know you also get notified of my comment but if you look at the location of the comment, you can (generally) tell the context."}],"tags":[],"owner":{"account_id":14970775,"reputation":38,"user_id":10807724,"display_name":"Mounika"},"comment_count":5,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1572497643,"creation_date":1572497643,"answer_id":58637091,"question_id":58636361,"body_markdown":"&gt; Writing the Relative Xpath is as follows\r\n&gt; 1)//{tagName}[contains(@class,&#39;{className})] if you want to validate\r\n&gt; text 2)//{tagName}[contains(text(),&#39;{text})]\r\n&gt; \r\n&gt; I see that in your case you need to identify UserName, Password and\r\n&gt; Sign In button and perform opeartions accordingly\r\n&gt; \r\n&gt; @FindBy(xpath = &quot;//a[contains(text(),&#39;Deals&#39;)]&quot;) WebElement dealsLink;\r\n&gt; \r\n&gt; dealsLink.click();","title":"How can we use RelativeLocator (not Relative xpath) in page factory (@FindBy)?","body":"<blockquote>\n  <p>Writing the Relative Xpath is as follows\n  1)//{tagName}[contains(@class,'{className})] if you want to validate\n  text 2)//{tagName}[contains(text(),'{text})]</p>\n  \n  <p>I see that in your case you need to identify UserName, Password and\n  Sign In button and perform opeartions accordingly</p>\n  \n  <p>@FindBy(xpath = \"//a[contains(text(),'Deals')]\") WebElement dealsLink;</p>\n  \n  <p>dealsLink.click();</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":4818389,"reputation":65,"user_id":3889759,"display_name":"Kiryl K"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659616742,"creation_date":1659616742,"answer_id":73236094,"question_id":58636361,"body_markdown":"According to https://github.com/SeleniumHQ/selenium/issues/7731 it&#39;s impossible to use relative locators with the current implementation of PageFactory.","title":"How can we use RelativeLocator (not Relative xpath) in page factory (@FindBy)?","body":"<p>According to <a href=\"https://github.com/SeleniumHQ/selenium/issues/7731\" rel=\"nofollow noreferrer\">https://github.com/SeleniumHQ/selenium/issues/7731</a> it's impossible to use relative locators with the current implementation of PageFactory.</p>\n"}],"owner":{"account_id":7186894,"reputation":21,"user_id":5488571,"display_name":"Sachin Gupta"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":525,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1689323859,"creation_date":1572490862,"question_id":58636361,"body_markdown":"How can we use RelativeLocator in page factory (@FindBy), please help me here to use below code in page factory\r\n\r\n    driver.findElement(RelativeLocator.withTagName(&quot;input&quot;).above(By.name(&quot;password&quot;)).below(By.xpath(&quot;//td//b[text()=&#39;sign-in here&#39;]&quot;)));\r\n\r\nActually I want to use above code (RelativeLocator) same as below in page factory, it&#39;s a new feature given by selenium community, but I don&#39;t know how to use this page factory. \r\n\r\n    @FindBy(name=&quot;uid&quot;)\r\n     WebElement userName;\r\n\r\nI know it&#39;s normal uses, see the [Relative Locator Video][1] for your reference.\r\n  [1]: https://www.youtube.com/watch?v=R7XOYM7ISRw","title":"How can we use RelativeLocator (not Relative xpath) in page factory (@FindBy)?","body":"<p>How can we use RelativeLocator in page factory (@FindBy), please help me here to use below code in page factory</p>\n\n<pre><code>driver.findElement(RelativeLocator.withTagName(\"input\").above(By.name(\"password\")).below(By.xpath(\"//td//b[text()='sign-in here']\")));\n</code></pre>\n\n<p>Actually I want to use above code (RelativeLocator) same as below in page factory, it's a new feature given by selenium community, but I don't know how to use this page factory. </p>\n\n<pre><code>@FindBy(name=\"uid\")\n WebElement userName;\n</code></pre>\n\n<p>I know it's normal uses, see the <a href=\"https://www.youtube.com/watch?v=R7XOYM7ISRw\" rel=\"nofollow noreferrer\">Relative Locator Video</a> for your reference.</p>\n"},{"tags":["java","eclipse","maven"],"owner":{"account_id":4168155,"reputation":2397,"user_id":3416648,"accept_rate":83,"display_name":"DDS"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689323528,"creation_date":1689323528,"question_id":76686011,"body_markdown":"I&#39;m trying to do in maven the same as what Eclipse does in the export runnable jar by checking &quot;package required libraries into generated jar&quot; as in the picture below  \r\n[![Eclipse option image][1]][1]\r\n\r\nhere is my pom &quot;build&quot; section:\r\n```xml\r\n&lt;build&gt;\r\n\t\t&lt;finalName&gt;MFZ_${version}&lt;/finalName&gt;\r\n\t\t&lt;sourceDirectory&gt;src&lt;/sourceDirectory&gt;\r\n\t\t&lt;resources&gt;\r\n\t\t\t&lt;resource&gt;\r\n\t\t\t\t&lt;directory&gt;src&lt;/directory&gt;\r\n\t\t\t\t&lt;excludes&gt;\r\n\t\t\t\t\t&lt;exclude&gt;**/*.java&lt;/exclude&gt;\r\n\t\t\t\t&lt;/excludes&gt;\r\n\t\t\t&lt;/resource&gt;\r\n\t\t\t&lt;resource&gt;\r\n\t\t\t\t&lt;directory&gt;resources&lt;/directory&gt;\r\n\t\t\t\t&lt;excludes&gt;\r\n\t\t\t\t\t&lt;exclude&gt;**/*.java&lt;/exclude&gt;\r\n\t\t\t\t&lt;/excludes&gt;\r\n\t\t\t&lt;/resource&gt;\r\n\t\t&lt;/resources&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;3.8.1&lt;/version&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;release&gt;17&lt;/release&gt;\r\n\t\t\t\t\t&lt;source&gt;17&lt;/source&gt;\r\n\t\t\t\t\t&lt;target&gt;17&lt;/target&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;javafx-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;0.0.7&lt;/version&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;mainClass&gt;HelloFX&lt;/mainClass&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;!-- https://maven.apache.org/plugins/maven-shade-plugin/examples/executable-jar.html --&gt;\r\n\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;3.5.0&lt;/version&gt;\r\n\t\t\t\t&lt;executions&gt;\r\n\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t&lt;phase&gt;package&lt;/phase&gt;\r\n\t\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t\t&lt;goal&gt;shade&lt;/goal&gt;\r\n\t\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t\t\t&lt;transformers&gt;\r\n\t\t\t\t\t\t\t\t&lt;transformer implementation=&quot;org.apache.maven.plugins.shade.resource.ManifestResourceTransformer&quot;&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;manifestEntries&gt;\r\n\t\t\t\t\t\t\t\t\t\t&lt;Main-Class&gt;com.co.mfz.Main&lt;/Main-Class&gt;\r\n\t\t\t\t\t\t\t\t\t\t&lt;Build-Number&gt;${version}&lt;/Build-Number&gt;\r\n\t\t\t\t\t\t\t\t\t\t&lt;Class-Path&gt;./ ./config/common/ ./config ./img ./ecc &lt;/Class-Path&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;/manifestEntries&gt;\r\n\t\t\t\t\t\t\t\t&lt;/transformer&gt;\r\n\t\t\t\t\t\t\t&lt;/transformers&gt;\r\n\t\t\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t&lt;/executions&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n&lt;/build&gt;\r\n```\r\n\r\n\r\nRight now once I run my application I got\r\n\r\n```\r\nError: A JNI error has occurred, please check your installation and try again\r\nException in thread &quot;main&quot; java.lang.SecurityException: Invalid signature file digest for Manifest main attributes\r\n        at java.base/sun.security.util.SignatureFileVerifier.processImpl(SignatureFileVerifier.java:340)\r\n        at java.base/sun.security.util.SignatureFileVerifier.process(SignatureFileVerifier.java:282)\r\n        at java.base/java.util.jar.JarVerifier.processEntry(JarVerifier.java:321)\r\n        at java.base/java.util.jar.JarVerifier.update(JarVerifier.java:234)\r\n        at java.base/java.util.jar.JarFile.initializeVerifier(JarFile.java:762)\r\n        at java.base/java.util.jar.JarFile.ensureInitialization(JarFile.java:1033)\r\n        at java.base/java.util.jar.JavaUtilJarAccessImpl.ensureInitialization(JavaUtilJarAccessImpl.java:72)\r\n        at java.base/jdk.internal.loader.URLClassPath$JarLoader$2.getManifest(URLClassPath.java:883)\r\n        at java.base/jdk.internal.loader.BuiltinClassLoader.defineClass(BuiltinClassLoader.java:848)\r\n        at java.base/jdk.internal.loader.BuiltinClassLoader.findClassOnClassPathOrNull(BuiltinClassLoader.java:760)\r\n        at java.base/jdk.internal.loader.BuiltinClassLoader.loadClassOrNull(BuiltinClassLoader.java:681)\r\n        at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:639)\r\n        at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\r\n        at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)\r\n        at java.base/java.lang.Class.forName0(Native Method)\r\n        at java.base/java.lang.Class.forName(Class.java:467)\r\n        at java.base/sun.launcher.LauncherHelper.loadMainClass(LauncherHelper.java:780)\r\n        at java.base/sun.launcher.LauncherHelper.checkAndLoadMain(LauncherHelper.java:675)\r\n```\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/4MyT3.png","title":"Maven - set it not to repackage jar dependencies","body":"<p>I'm trying to do in maven the same as what Eclipse does in the export runnable jar by checking &quot;package required libraries into generated jar&quot; as in the picture below<br />\n<a href=\"https://i.stack.imgur.com/4MyT3.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4MyT3.png\" alt=\"Eclipse option image\" /></a></p>\n<p>here is my pom &quot;build&quot; section:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;build&gt;\n        &lt;finalName&gt;MFZ_${version}&lt;/finalName&gt;\n        &lt;sourceDirectory&gt;src&lt;/sourceDirectory&gt;\n        &lt;resources&gt;\n            &lt;resource&gt;\n                &lt;directory&gt;src&lt;/directory&gt;\n                &lt;excludes&gt;\n                    &lt;exclude&gt;**/*.java&lt;/exclude&gt;\n                &lt;/excludes&gt;\n            &lt;/resource&gt;\n            &lt;resource&gt;\n                &lt;directory&gt;resources&lt;/directory&gt;\n                &lt;excludes&gt;\n                    &lt;exclude&gt;**/*.java&lt;/exclude&gt;\n                &lt;/excludes&gt;\n            &lt;/resource&gt;\n        &lt;/resources&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.8.1&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;release&gt;17&lt;/release&gt;\n                    &lt;source&gt;17&lt;/source&gt;\n                    &lt;target&gt;17&lt;/target&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n                &lt;artifactId&gt;javafx-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;0.0.7&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;mainClass&gt;HelloFX&lt;/mainClass&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;!-- https://maven.apache.org/plugins/maven-shade-plugin/examples/executable-jar.html --&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.5.0&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;phase&gt;package&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;shade&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;transformers&gt;\n                                &lt;transformer implementation=&quot;org.apache.maven.plugins.shade.resource.ManifestResourceTransformer&quot;&gt;\n                                    &lt;manifestEntries&gt;\n                                        &lt;Main-Class&gt;com.co.mfz.Main&lt;/Main-Class&gt;\n                                        &lt;Build-Number&gt;${version}&lt;/Build-Number&gt;\n                                        &lt;Class-Path&gt;./ ./config/common/ ./config ./img ./ecc &lt;/Class-Path&gt;\n                                    &lt;/manifestEntries&gt;\n                                &lt;/transformer&gt;\n                            &lt;/transformers&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n&lt;/build&gt;\n</code></pre>\n<p>Right now once I run my application I got</p>\n<pre><code>Error: A JNI error has occurred, please check your installation and try again\nException in thread &quot;main&quot; java.lang.SecurityException: Invalid signature file digest for Manifest main attributes\n        at java.base/sun.security.util.SignatureFileVerifier.processImpl(SignatureFileVerifier.java:340)\n        at java.base/sun.security.util.SignatureFileVerifier.process(SignatureFileVerifier.java:282)\n        at java.base/java.util.jar.JarVerifier.processEntry(JarVerifier.java:321)\n        at java.base/java.util.jar.JarVerifier.update(JarVerifier.java:234)\n        at java.base/java.util.jar.JarFile.initializeVerifier(JarFile.java:762)\n        at java.base/java.util.jar.JarFile.ensureInitialization(JarFile.java:1033)\n        at java.base/java.util.jar.JavaUtilJarAccessImpl.ensureInitialization(JavaUtilJarAccessImpl.java:72)\n        at java.base/jdk.internal.loader.URLClassPath$JarLoader$2.getManifest(URLClassPath.java:883)\n        at java.base/jdk.internal.loader.BuiltinClassLoader.defineClass(BuiltinClassLoader.java:848)\n        at java.base/jdk.internal.loader.BuiltinClassLoader.findClassOnClassPathOrNull(BuiltinClassLoader.java:760)\n        at java.base/jdk.internal.loader.BuiltinClassLoader.loadClassOrNull(BuiltinClassLoader.java:681)\n        at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:639)\n        at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\n        at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)\n        at java.base/java.lang.Class.forName0(Native Method)\n        at java.base/java.lang.Class.forName(Class.java:467)\n        at java.base/sun.launcher.LauncherHelper.loadMainClass(LauncherHelper.java:780)\n        at java.base/sun.launcher.LauncherHelper.checkAndLoadMain(LauncherHelper.java:675)\n</code></pre>\n"},{"tags":["java","spring","configuration","boot","auto"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1689323467,"post_id":76685979,"comment_id":135200120,"body_markdown":"You are using incompatible versions of components. Spring Social is a dead project and hasn&#39;t been supported for a while any more in Spring Boot. That being said don&#39;t add code, stacktrace etc. as images as thos are unreadable and in this case requires a click. Post them as code. Also you have an error but haven&#39;t added your dependencies to the question.","body":"You are using incompatible versions of components. Spring Social is a dead project and hasn&#39;t been supported for a while any more in Spring Boot. That being said don&#39;t add code, stacktrace etc. as images as thos are unreadable and in this case requires a click. Post them as code. Also you have an error but haven&#39;t added your dependencies to the question."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1689353569,"post_id":76685979,"comment_id":135206623,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":22855962,"reputation":1,"user_id":17000832,"display_name":"Harija E"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689323224,"creation_date":1689323224,"question_id":76685979,"body_markdown":"please solve the issues in spring boot related\r\n\r\n[enter image description here](https://i.stack.imgur.com/xuHsi.png)\r\n\r\nl am added new dependency. spring boot upgrade 1.5.10 to 2.1.10 version\r\n\r\nclass path resource [org/springframework/boot/autoconfigure/social/SocialAutoConfigurerAdapter.class] cannot be opened because it does not exist.\r\n\r\nSpring boot is very easy to use and it does a lot of things under the hood, you might not be aware of. In future, a good developer will be who will know exactly what is going on behind spring boot auto configuration, how to use it in your favor and how to disable certain sections which you do not want into your project.","title":"class path resource [org/springframework/boot/autoconfigure/social/SocialAutoConfigurerAdapter.class] cannot be opened because it does not exist","body":"<p>please solve the issues in spring boot related</p>\n<p><a href=\"https://i.stack.imgur.com/xuHsi.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>l am added new dependency. spring boot upgrade 1.5.10 to 2.1.10 version</p>\n<p>class path resource [org/springframework/boot/autoconfigure/social/SocialAutoConfigurerAdapter.class] cannot be opened because it does not exist.</p>\n<p>Spring boot is very easy to use and it does a lot of things under the hood, you might not be aware of. In future, a good developer will be who will know exactly what is going on behind spring boot auto configuration, how to use it in your favor and how to disable certain sections which you do not want into your project.</p>\n"},{"tags":["java","rest-assured","assertion"],"comments":[{"owner":{"account_id":10263942,"reputation":5676,"user_id":7574461,"display_name":"lucas-nguyen-17"},"score":0,"creation_date":1689301456,"post_id":76683689,"comment_id":135197382,"body_markdown":"It seems API is working incorrectly, pls ask rahulshettyacademy.","body":"It seems API is working incorrectly, pls ask rahulshettyacademy."},{"owner":{"account_id":29013311,"reputation":1,"user_id":22224322,"display_name":"aysha"},"score":0,"creation_date":1689423463,"post_id":76683689,"comment_id":135213240,"body_markdown":"Okay, so problem is with the API. Thanks for clarifying it.","body":"Okay, so problem is with the API. Thanks for clarifying it."}],"owner":{"account_id":29013311,"reputation":1,"user_id":22224322,"display_name":"aysha"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":122,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689323111,"creation_date":1689288204,"question_id":76683689,"body_markdown":"**I am trying to run this script to extract address information**.\r\n```\r\nimport io.restassured.RestAssured;\r\n\r\nimport io.restassured.matcher.ResponseAwareMatcher;\r\nimport io.restassured.path.json.JsonPath;\r\nimport io.restassured.response.Response;\r\n\r\nimport static io.restassured.RestAssured.*;\r\nimport static org.hamcrest.Matchers.*;\r\n\r\nimport org.testng.Assert;\r\n\r\nimport Files.Payload;\r\npublic class Basics {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\t// TODO Auto-generated method stub\r\n\r\n\t\tRestAssured.baseURI = &quot;https://rahulshettyacademy.com&quot;;\r\n\t\tString response=given().log().all().queryParam(&quot;key&quot;, &quot;qaclick123&quot;).header(&quot;Content-Type&quot;, &quot;application/json&quot;)\r\n\t\t.body(Payload.AddPlace()).when().post(&quot;maps/api/place/add/json&quot;)\r\n\t\t.then().assertThat().statusCode(200).body(&quot;scope&quot;,equalTo(&quot;APP&quot;))\r\n\t\t.header(&quot;Server&quot;, &quot;Apache/2.4.52 (Ubuntu)&quot;).extract().response().asString();\r\n\t\t\r\n\t\tSystem.out.println(response);\r\n\t\tJsonPath js=new JsonPath(response);//for parsing json\r\n\t\tString PlaceId = js.getString(&quot;place_id&quot;);\r\n\t\tSystem.out.println(PlaceId);\r\n\t\t\r\n\t\t//update place\r\n\t\tString newAddress = &quot;Summerwalk, Africa&quot;;\r\n\t\tgiven().log().all().queryParam(&quot;key&quot;, &quot;qaclik123&quot;).header(&quot;Content-Type&quot;, &quot;application/json&quot;)\r\n\t\t.body(&quot;{\\r\\n&quot;\r\n\t\t\t\t+ &quot;\\&quot;place_id\\&quot;:\\&quot;&quot;+PlaceId+&quot;\\&quot;,\\r\\n&quot;\r\n\t\t\t+ &quot;\\&quot;address\\&quot;:\\&quot;&quot;+newAddress+&quot;\\&quot;,\\r\\n&quot;\r\n\t\t\t\t+ &quot;\\&quot;key\\&quot;:\\&quot;qaclick123\\&quot;\\r\\n&quot;\r\n\t\t\t\t+ &quot;}&quot;).\r\n\t\twhen().put(&quot;maps/api/place/update/json&quot;).\r\n\t\tthen().assertThat().log().all().statusCode(200).body(&quot;msg&quot;, equalTo(&quot;Address successfully updated&quot;));\r\n\t\t\r\n\t\t//get place \r\n\t\tString getPlaceResponse= given().log().all().queryParam(&quot;key&quot;, &quot;qackick123&quot;)\r\n\t\t\t\t.queryParam(&quot;place_id&quot;, PlaceId)\r\n\t\t\t\t.when().get(&quot;maps/api/place/get/json&quot;)\r\n\t\t\t\t.then().assertThat().log().all().statusCode(200).extract().response().asString();\r\n\t\t\t\t\r\n\t\t\t\tJsonPath js1= new JsonPath(getPlaceResponse);\r\n\t\t\t\tString actualAddress = js1.getString(&quot;address&quot;);\r\n\t\t\t\tSystem.out.println(actualAddress);\r\n\t\t\r\n\t}\t\r\n\t\r\n}\r\n```\r\n\r\n**Result:**\r\n\r\n```\r\nRequest method:\tPOST\r\nRequest URI:\thttps://rahulshettyacademy.com/maps/api/place/add/json?key=qaclick123\r\nProxy:\t\t\t&lt;none&gt;\r\nRequest params:\t&lt;none&gt;\r\nQuery params:\tkey=qaclick123\r\nForm params:\t&lt;none&gt;\r\nPath params:\t&lt;none&gt;\r\nHeaders:\t\tAccept=*/*\r\n\t\t\t\tContent-Type=application/json\r\nCookies:\t\t&lt;none&gt;\r\nMultiparts:\t\t&lt;none&gt;\r\nBody:\r\n{\r\n    &quot;location&quot;: {\r\n        &quot;lat&quot;: -38.383494,\r\n        &quot;lng&quot;: 33.427362\r\n    },\r\n    &quot;accuracy&quot;: 50,\r\n    &quot;name&quot;: &quot;Frontline house&quot;,\r\n    &quot;phone_number&quot;: &quot;(+91) 983 893 3937&quot;,\r\n    &quot;address&quot;: &quot;29, side layout, cohen 09&quot;,\r\n    &quot;types&quot;: [\r\n        &quot;shoe park&quot;,\r\n        &quot;shop&quot;\r\n    ],\r\n    &quot;website&quot;: &quot;http://google.com&quot;,\r\n    &quot;language&quot;: &quot;French-IN&quot;\r\n}\r\n{&quot;status&quot;:&quot;OK&quot;,&quot;place_id&quot;:&quot;4a9c2d6cfdbe1736b0ea14ddf13a6c67&quot;,&quot;scope&quot;:&quot;APP&quot;,&quot;reference&quot;:&quot;5165d657949509007fa0e486a5d90f635165d657949509007fa0e486a5d90f63&quot;,&quot;id&quot;:&quot;5165d657949509007fa0e486a5d90f63&quot;}\r\n4a9c2d6cfdbe1736b0ea14ddf13a6c67\r\nRequest method:\tPUT\r\nRequest URI:\thttps://rahulshettyacademy.com/maps/api/place/update/json?key=qaclik123\r\nProxy:\t\t\t&lt;none&gt;\r\nRequest params:\t&lt;none&gt;\r\nQuery params:\tkey=qaclik123\r\nForm params:\t&lt;none&gt;\r\nPath params:\t&lt;none&gt;\r\nHeaders:\t\tAccept=*/*\r\n\t\t\t\tContent-Type=application/json\r\nCookies:\t\t&lt;none&gt;\r\nMultiparts:\t\t&lt;none&gt;\r\nBody:\r\n{\r\n    &quot;place_id&quot;: &quot;4a9c2d6cfdbe1736b0ea14ddf13a6c67&quot;,\r\n    &quot;address&quot;: &quot;Summerwalk, Africa&quot;,\r\n    &quot;key&quot;: &quot;qaclick123&quot;\r\n}\r\nHTTP/1.1 200 OK\r\nDate: Thu, 13 Jul 2023 21:26:43 GMT\r\nServer: Apache/2.4.52 (Ubuntu)\r\nAccess-Control-Allow-Origin: *\r\nAccess-Control-Allow-Methods: POST\r\nAccess-Control-Max-Age: 3600\r\nAccess-Control-Allow-Headers: Content-Type, Access-Control-Allow-Headers, Authorization, X-Requested-With\r\nContent-Length: 38\r\nKeep-Alive: timeout=5, max=100\r\nConnection: Keep-Alive\r\nContent-Type: application/json;charset=UTF-8\r\n\r\n{\r\n    &quot;msg&quot;: &quot;Address successfully updated&quot;\r\n}\r\nRequest method:\tGET\r\nRequest URI:\thttps://rahulshettyacademy.com/maps/api/place/get/json?key=qackick123&amp;place_id=4a9c2d6cfdbe1736b0ea14ddf13a6c67\r\nProxy:\t\t\t&lt;none&gt;\r\nRequest params:\t&lt;none&gt;\r\nQuery params:\tkey=qackick123\r\n\t\t\t\tplace_id=4a9c2d6cfdbe1736b0ea14ddf13a6c67\r\nForm params:\t&lt;none&gt;\r\nPath params:\t&lt;none&gt;\r\nHeaders:\t\tAccept=*/*\r\nCookies:\t\t&lt;none&gt;\r\nMultiparts:\t\t&lt;none&gt;\r\nBody:\t\t\t&lt;none&gt;\r\nHTTP/1.1 404 Not Found\r\nDate: Thu, 13 Jul 2023 21:26:44 GMT\r\nServer: Apache/2.4.52 (Ubuntu)\r\nAccess-Control-Allow-Origin: *\r\nAccess-Control-Allow-Methods: POST\r\nAccess-Control-Max-Age: 3600\r\nAccess-Control-Allow-Headers: Content-Type, Access-Control-Allow-Headers, Authorization, X-Requested-With\r\nContent-Length: 67\r\nKeep-Alive: timeout=5, max=100\r\nConnection: Keep-Alive\r\nContent-Type: application/json;charset=UTF-8\r\n\r\n{\r\n    &quot;msg&quot;: &quot;Get operation failed, looks like place_id  doesn&#39;t exists&quot;\r\n}\r\nException in thread &quot;main&quot; java.lang.AssertionError: 1 expectation failed.\r\nExpected status code &lt;200&gt; but was &lt;404&gt;.\r\n\r\n\tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77)\r\n\tat java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n\tat java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)\r\n\tat java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480)\r\n\tat org.codehaus.groovy.reflection.CachedConstructor.invoke(CachedConstructor.java:73)\r\n\tat org.codehaus.groovy.runtime.callsite.ConstructorSite$ConstructorSiteNoUnwrapNoCoerce.callConstructor(ConstructorSite.java:108)\r\n\tat org.codehaus.groovy.runtime.callsite.CallSiteArray.defaultCallConstructor(CallSiteArray.java:57)\r\n\tat org.codehaus.groovy.runtime.callsite.AbstractCallSite.callConstructor(AbstractCallSite.java:263)\r\n\tat org.codehaus.groovy.runtime.callsite.AbstractCallSite.callConstructor(AbstractCallSite.java:277)\r\n\tat io.restassured.internal.ResponseSpecificationImpl$HamcrestAssertionClosure.validate(ResponseSpecificationImpl.groovy:512)\r\n\tat io.restassured.internal.ResponseSpecificationImpl$HamcrestAssertionClosure$validate$1.call(Unknown Source)\r\n\tat io.restassured.internal.ResponseSpecificationImpl.validateResponseIfRequired(ResponseSpecificationImpl.groovy:696)\r\n\tat io.restassured.internal.ResponseSpecificationImpl.this$2$validateResponseIfRequired(ResponseSpecificationImpl.groovy)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat org.codehaus.groovy.runtime.callsite.PlainObjectMetaMethodSite.doInvoke(PlainObjectMetaMethodSite.java:43)\r\n\tat org.codehaus.groovy.runtime.callsite.PogoMetaMethodSite$PogoCachedMethodSiteNoUnwrapNoCoerce.invoke(PogoMetaMethodSite.java:198)\r\n\tat org.codehaus.groovy.runtime.callsite.PogoMetaMethodSite.callCurrent(PogoMetaMethodSite.java:62)\r\n\tat org.codehaus.groovy.runtime.callsite.AbstractCallSite.callCurrent(AbstractCallSite.java:185)\r\n\tat io.restassured.internal.ResponseSpecificationImpl.statusCode(ResponseSpecificationImpl.groovy:135)\r\n\tat io.restassured.specification.ResponseSpecification$statusCode$0.callCurrent(Unknown Source)\r\n\tat io.restassured.internal.ResponseSpecificationImpl.statusCode(ResponseSpecificationImpl.groovy:143)\r\n\tat io.restassured.internal.ValidatableResponseOptionsImpl.statusCode(ValidatableResponseOptionsImpl.java:89)\r\n\tat Basics.main(Basics.java:44)\r\n\r\n```\r\n\r\nThis code runs as expected till PUT method. But it shows error for GET method as follows:\r\n\r\n&gt; Exception in thread &quot;main&quot; java.lang.AssertionError: 1 expectation failed. Expected status code \\&lt;200&gt; but was \\&lt;404&gt;.\r\n \r\nWhen I remove the code for &quot;Get place&quot;, the code works fine.\r\n**Please help me to fix this error.**\r\n","title":"Getting Assertion Error in rest assured API","body":"<p><strong>I am trying to run this script to extract address information</strong>.</p>\n<pre><code>import io.restassured.RestAssured;\n\nimport io.restassured.matcher.ResponseAwareMatcher;\nimport io.restassured.path.json.JsonPath;\nimport io.restassured.response.Response;\n\nimport static io.restassured.RestAssured.*;\nimport static org.hamcrest.Matchers.*;\n\nimport org.testng.Assert;\n\nimport Files.Payload;\npublic class Basics {\n\n    public static void main(String[] args) {\n        // TODO Auto-generated method stub\n\n        RestAssured.baseURI = &quot;https://rahulshettyacademy.com&quot;;\n        String response=given().log().all().queryParam(&quot;key&quot;, &quot;qaclick123&quot;).header(&quot;Content-Type&quot;, &quot;application/json&quot;)\n        .body(Payload.AddPlace()).when().post(&quot;maps/api/place/add/json&quot;)\n        .then().assertThat().statusCode(200).body(&quot;scope&quot;,equalTo(&quot;APP&quot;))\n        .header(&quot;Server&quot;, &quot;Apache/2.4.52 (Ubuntu)&quot;).extract().response().asString();\n        \n        System.out.println(response);\n        JsonPath js=new JsonPath(response);//for parsing json\n        String PlaceId = js.getString(&quot;place_id&quot;);\n        System.out.println(PlaceId);\n        \n        //update place\n        String newAddress = &quot;Summerwalk, Africa&quot;;\n        given().log().all().queryParam(&quot;key&quot;, &quot;qaclik123&quot;).header(&quot;Content-Type&quot;, &quot;application/json&quot;)\n        .body(&quot;{\\r\\n&quot;\n                + &quot;\\&quot;place_id\\&quot;:\\&quot;&quot;+PlaceId+&quot;\\&quot;,\\r\\n&quot;\n            + &quot;\\&quot;address\\&quot;:\\&quot;&quot;+newAddress+&quot;\\&quot;,\\r\\n&quot;\n                + &quot;\\&quot;key\\&quot;:\\&quot;qaclick123\\&quot;\\r\\n&quot;\n                + &quot;}&quot;).\n        when().put(&quot;maps/api/place/update/json&quot;).\n        then().assertThat().log().all().statusCode(200).body(&quot;msg&quot;, equalTo(&quot;Address successfully updated&quot;));\n        \n        //get place \n        String getPlaceResponse= given().log().all().queryParam(&quot;key&quot;, &quot;qackick123&quot;)\n                .queryParam(&quot;place_id&quot;, PlaceId)\n                .when().get(&quot;maps/api/place/get/json&quot;)\n                .then().assertThat().log().all().statusCode(200).extract().response().asString();\n                \n                JsonPath js1= new JsonPath(getPlaceResponse);\n                String actualAddress = js1.getString(&quot;address&quot;);\n                System.out.println(actualAddress);\n        \n    }   \n    \n}\n</code></pre>\n<p><strong>Result:</strong></p>\n<pre><code>Request method: POST\nRequest URI:    https://rahulshettyacademy.com/maps/api/place/add/json?key=qaclick123\nProxy:          &lt;none&gt;\nRequest params: &lt;none&gt;\nQuery params:   key=qaclick123\nForm params:    &lt;none&gt;\nPath params:    &lt;none&gt;\nHeaders:        Accept=*/*\n                Content-Type=application/json\nCookies:        &lt;none&gt;\nMultiparts:     &lt;none&gt;\nBody:\n{\n    &quot;location&quot;: {\n        &quot;lat&quot;: -38.383494,\n        &quot;lng&quot;: 33.427362\n    },\n    &quot;accuracy&quot;: 50,\n    &quot;name&quot;: &quot;Frontline house&quot;,\n    &quot;phone_number&quot;: &quot;(+91) 983 893 3937&quot;,\n    &quot;address&quot;: &quot;29, side layout, cohen 09&quot;,\n    &quot;types&quot;: [\n        &quot;shoe park&quot;,\n        &quot;shop&quot;\n    ],\n    &quot;website&quot;: &quot;http://google.com&quot;,\n    &quot;language&quot;: &quot;French-IN&quot;\n}\n{&quot;status&quot;:&quot;OK&quot;,&quot;place_id&quot;:&quot;4a9c2d6cfdbe1736b0ea14ddf13a6c67&quot;,&quot;scope&quot;:&quot;APP&quot;,&quot;reference&quot;:&quot;5165d657949509007fa0e486a5d90f635165d657949509007fa0e486a5d90f63&quot;,&quot;id&quot;:&quot;5165d657949509007fa0e486a5d90f63&quot;}\n4a9c2d6cfdbe1736b0ea14ddf13a6c67\nRequest method: PUT\nRequest URI:    https://rahulshettyacademy.com/maps/api/place/update/json?key=qaclik123\nProxy:          &lt;none&gt;\nRequest params: &lt;none&gt;\nQuery params:   key=qaclik123\nForm params:    &lt;none&gt;\nPath params:    &lt;none&gt;\nHeaders:        Accept=*/*\n                Content-Type=application/json\nCookies:        &lt;none&gt;\nMultiparts:     &lt;none&gt;\nBody:\n{\n    &quot;place_id&quot;: &quot;4a9c2d6cfdbe1736b0ea14ddf13a6c67&quot;,\n    &quot;address&quot;: &quot;Summerwalk, Africa&quot;,\n    &quot;key&quot;: &quot;qaclick123&quot;\n}\nHTTP/1.1 200 OK\nDate: Thu, 13 Jul 2023 21:26:43 GMT\nServer: Apache/2.4.52 (Ubuntu)\nAccess-Control-Allow-Origin: *\nAccess-Control-Allow-Methods: POST\nAccess-Control-Max-Age: 3600\nAccess-Control-Allow-Headers: Content-Type, Access-Control-Allow-Headers, Authorization, X-Requested-With\nContent-Length: 38\nKeep-Alive: timeout=5, max=100\nConnection: Keep-Alive\nContent-Type: application/json;charset=UTF-8\n\n{\n    &quot;msg&quot;: &quot;Address successfully updated&quot;\n}\nRequest method: GET\nRequest URI:    https://rahulshettyacademy.com/maps/api/place/get/json?key=qackick123&amp;place_id=4a9c2d6cfdbe1736b0ea14ddf13a6c67\nProxy:          &lt;none&gt;\nRequest params: &lt;none&gt;\nQuery params:   key=qackick123\n                place_id=4a9c2d6cfdbe1736b0ea14ddf13a6c67\nForm params:    &lt;none&gt;\nPath params:    &lt;none&gt;\nHeaders:        Accept=*/*\nCookies:        &lt;none&gt;\nMultiparts:     &lt;none&gt;\nBody:           &lt;none&gt;\nHTTP/1.1 404 Not Found\nDate: Thu, 13 Jul 2023 21:26:44 GMT\nServer: Apache/2.4.52 (Ubuntu)\nAccess-Control-Allow-Origin: *\nAccess-Control-Allow-Methods: POST\nAccess-Control-Max-Age: 3600\nAccess-Control-Allow-Headers: Content-Type, Access-Control-Allow-Headers, Authorization, X-Requested-With\nContent-Length: 67\nKeep-Alive: timeout=5, max=100\nConnection: Keep-Alive\nContent-Type: application/json;charset=UTF-8\n\n{\n    &quot;msg&quot;: &quot;Get operation failed, looks like place_id  doesn't exists&quot;\n}\nException in thread &quot;main&quot; java.lang.AssertionError: 1 expectation failed.\nExpected status code &lt;200&gt; but was &lt;404&gt;.\n\n    at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n    at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n    at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)\n    at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480)\n    at org.codehaus.groovy.reflection.CachedConstructor.invoke(CachedConstructor.java:73)\n    at org.codehaus.groovy.runtime.callsite.ConstructorSite$ConstructorSiteNoUnwrapNoCoerce.callConstructor(ConstructorSite.java:108)\n    at org.codehaus.groovy.runtime.callsite.CallSiteArray.defaultCallConstructor(CallSiteArray.java:57)\n    at org.codehaus.groovy.runtime.callsite.AbstractCallSite.callConstructor(AbstractCallSite.java:263)\n    at org.codehaus.groovy.runtime.callsite.AbstractCallSite.callConstructor(AbstractCallSite.java:277)\n    at io.restassured.internal.ResponseSpecificationImpl$HamcrestAssertionClosure.validate(ResponseSpecificationImpl.groovy:512)\n    at io.restassured.internal.ResponseSpecificationImpl$HamcrestAssertionClosure$validate$1.call(Unknown Source)\n    at io.restassured.internal.ResponseSpecificationImpl.validateResponseIfRequired(ResponseSpecificationImpl.groovy:696)\n    at io.restassured.internal.ResponseSpecificationImpl.this$2$validateResponseIfRequired(ResponseSpecificationImpl.groovy)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at org.codehaus.groovy.runtime.callsite.PlainObjectMetaMethodSite.doInvoke(PlainObjectMetaMethodSite.java:43)\n    at org.codehaus.groovy.runtime.callsite.PogoMetaMethodSite$PogoCachedMethodSiteNoUnwrapNoCoerce.invoke(PogoMetaMethodSite.java:198)\n    at org.codehaus.groovy.runtime.callsite.PogoMetaMethodSite.callCurrent(PogoMetaMethodSite.java:62)\n    at org.codehaus.groovy.runtime.callsite.AbstractCallSite.callCurrent(AbstractCallSite.java:185)\n    at io.restassured.internal.ResponseSpecificationImpl.statusCode(ResponseSpecificationImpl.groovy:135)\n    at io.restassured.specification.ResponseSpecification$statusCode$0.callCurrent(Unknown Source)\n    at io.restassured.internal.ResponseSpecificationImpl.statusCode(ResponseSpecificationImpl.groovy:143)\n    at io.restassured.internal.ValidatableResponseOptionsImpl.statusCode(ValidatableResponseOptionsImpl.java:89)\n    at Basics.main(Basics.java:44)\n\n</code></pre>\n<p>This code runs as expected till PUT method. But it shows error for GET method as follows:</p>\n<blockquote>\n<p>Exception in thread &quot;main&quot; java.lang.AssertionError: 1 expectation failed. Expected status code &lt;200&gt; but was &lt;404&gt;.</p>\n</blockquote>\n<p>When I remove the code for &quot;Get place&quot;, the code works fine.\n<strong>Please help me to fix this error.</strong></p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":1,"creation_date":1689322586,"post_id":76685813,"comment_id":135199941,"body_markdown":"JSP doesn&#39;t magically allow you to include static resources. Those need to be packaged with the app and served along with the JSP files, probably using some static file servlet.","body":"JSP doesn&#39;t magically allow you to include static resources. Those need to be packaged with the app and served along with the JSP files, probably using some static file servlet."},{"owner":{"account_id":551394,"reputation":8315,"user_id":916225,"accept_rate":69,"display_name":"seenukarthi"},"score":1,"creation_date":1689322946,"post_id":76685813,"comment_id":135200008,"body_markdown":"Does this answer your question? [Can&#39;t display images in JSP](https://stackoverflow.com/questions/9366430/cant-display-images-in-jsp)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/9366430/cant-display-images-in-jsp\">Can&#39;t display images in JSP</a>"},{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1689323812,"post_id":76685813,"comment_id":135200195,"body_markdown":"forward slash vs backwards slash?","body":"forward slash vs backwards slash?"},{"owner":{"account_id":28988496,"reputation":1,"user_id":22204839,"display_name":"Eustia"},"score":0,"creation_date":1689329443,"post_id":76685813,"comment_id":135201273,"body_markdown":"@seenukarthi First of all, thanks for answering. I don’t think it’s solved. It’s because the img is placed in the web-imf directory and it’s unrecognizable. The idea I put in the same directory runs fine, but it’s a problem after packaging and deploying.","body":"@seenukarthi First of all, thanks for answering. I don’t think it’s solved. It’s because the img is placed in the web-imf directory and it’s unrecognizable. The idea I put in the same directory runs fine, but it’s a problem after packaging and deploying."},{"owner":{"account_id":28988496,"reputation":1,"user_id":22204839,"display_name":"Eustia"},"score":0,"creation_date":1689329569,"post_id":76685813,"comment_id":135201300,"body_markdown":"@Jorn Thanks, I&#39;ll look into that soon","body":"@Jorn Thanks, I&#39;ll look into that soon"}],"owner":{"account_id":28988496,"reputation":1,"user_id":22204839,"display_name":"Eustia"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689322859,"creation_date":1689321814,"question_id":76685813,"body_markdown":"There is no problem running the project on my idea, and then I packaged it into a war file and tried to deploy it locally, but when I visited, I found that the picture could not be displayed. This is my project structure and running result\r\n[![enter image description here](https://i.stack.imgur.com/gHAgT.png)](https://i.stack.imgur.com/gHAgT.png)\r\n\r\n[![enter image description here](https://i.stack.imgur.com/BItqr.png)](https://i.stack.imgur.com/BItqr.png)\r\n\r\n```\r\n&lt;%@ taglib prefix=&quot;c&quot; uri=&quot;http://java.sun.com/jsp/jstl/core&quot; %&gt;\r\n&lt;%@ page contentType=&quot;text/html;charset=UTF-8&quot; language=&quot;java&quot; isELIgnored=&quot;false&quot; %&gt;\r\n&lt;html&gt;\r\n&lt;head&gt;\r\n    &lt;title&gt;Title&lt;/title&gt;\r\n&lt;/head&gt;\r\n&lt;body&gt;\r\n    &lt;center&gt;\r\n        &lt;div style=&quot;border-radius: 30px;border: solid deepskyblue; width: 350px;&quot;&gt;\r\n        &lt;h3&gt;toy family&lt;/h3&gt;\r\n        &lt;form action=&quot;./ShowServlet&quot; method=&quot;post&quot;&gt;\r\n            toy name：&lt;input type=&quot;text&quot; name=&quot;key&quot;&gt;\r\n            &lt;button type=&quot;submit&quot;&gt;search&lt;/button&gt;&lt;br&gt;&lt;br&gt;\r\n            &lt;table border=&quot;1&quot;&gt;\r\n                &lt;tr&gt;\r\n                    &lt;td&gt;toy name&lt;/td&gt;\r\n                    &lt;td&gt;price&lt;/td&gt;\r\n                    &lt;td&gt;image&lt;/td&gt;\r\n                    &lt;td&gt;operate&lt;/td&gt;\r\n                &lt;/tr&gt;\r\n        &lt;c:set var=&quot;proList&quot; value=&quot;${requestScope.proList}&quot;/&gt;\r\n        &lt;c:forEach var=&quot;pl&quot; items=&quot;${proList}&quot;&gt;\r\n            &lt;tr&gt;\r\n                &lt;td&gt;${pl.PName}&lt;/td&gt;\r\n                &lt;td&gt;${pl.price}&lt;/td&gt;\r\n                &lt;td&gt;&lt;img src=&quot;\\img\\${pl.img}&quot; width=&quot;40&quot; height=&quot;40&quot; alt=&quot;&quot;&gt;&lt;/td&gt;\r\n                &lt;td&gt;&lt;a href=&#39;DelServlet?id=${pl.id}&#39;&gt;delete&lt;/a&gt;&lt;br&gt;&lt;a href=&#39;modify.jsp?id=${pl.id}&amp;PName=${pl.PName}&amp;price=${pl.price}&amp;filename=${pl.img}&#39;&gt;modify&lt;/a&gt;&lt;/td&gt;\r\n            &lt;/tr&gt;\r\n        &lt;/c:forEach&gt;\r\n        &lt;c:if test=&quot;${empty proList}&quot;&gt;\r\n            &lt;c:redirect url=&quot;/ShowServlet&quot;/&gt;\r\n        &lt;/c:if&gt;\r\n            &lt;/table&gt;\r\n        &lt;/form&gt;\r\n        &lt;a href=&quot;add.jsp&quot;&gt;add&lt;/a&gt;\r\n        &lt;a href=&quot;main.jsp&quot;&gt;return&lt;/a&gt;\r\n        &lt;/div&gt;\r\n    &lt;/center&gt;\r\n&lt;/body&gt;\r\n&lt;/html&gt;\r\n\r\n```\r\n\r\n\r\nI tried to use the absolute path but it still can’t be displayed. I wonder if something is missing in the packaging process. I don’t know if the out directory is necessary.","title":"The jsp project deployment image cannot be loaded","body":"<p>There is no problem running the project on my idea, and then I packaged it into a war file and tried to deploy it locally, but when I visited, I found that the picture could not be displayed. This is my project structure and running result\n<a href=\"https://i.stack.imgur.com/gHAgT.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gHAgT.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/BItqr.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/BItqr.png\" alt=\"enter image description here\" /></a></p>\n<pre><code>&lt;%@ taglib prefix=&quot;c&quot; uri=&quot;http://java.sun.com/jsp/jstl/core&quot; %&gt;\n&lt;%@ page contentType=&quot;text/html;charset=UTF-8&quot; language=&quot;java&quot; isELIgnored=&quot;false&quot; %&gt;\n&lt;html&gt;\n&lt;head&gt;\n    &lt;title&gt;Title&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n    &lt;center&gt;\n        &lt;div style=&quot;border-radius: 30px;border: solid deepskyblue; width: 350px;&quot;&gt;\n        &lt;h3&gt;toy family&lt;/h3&gt;\n        &lt;form action=&quot;./ShowServlet&quot; method=&quot;post&quot;&gt;\n            toy name：&lt;input type=&quot;text&quot; name=&quot;key&quot;&gt;\n            &lt;button type=&quot;submit&quot;&gt;search&lt;/button&gt;&lt;br&gt;&lt;br&gt;\n            &lt;table border=&quot;1&quot;&gt;\n                &lt;tr&gt;\n                    &lt;td&gt;toy name&lt;/td&gt;\n                    &lt;td&gt;price&lt;/td&gt;\n                    &lt;td&gt;image&lt;/td&gt;\n                    &lt;td&gt;operate&lt;/td&gt;\n                &lt;/tr&gt;\n        &lt;c:set var=&quot;proList&quot; value=&quot;${requestScope.proList}&quot;/&gt;\n        &lt;c:forEach var=&quot;pl&quot; items=&quot;${proList}&quot;&gt;\n            &lt;tr&gt;\n                &lt;td&gt;${pl.PName}&lt;/td&gt;\n                &lt;td&gt;${pl.price}&lt;/td&gt;\n                &lt;td&gt;&lt;img src=&quot;\\img\\${pl.img}&quot; width=&quot;40&quot; height=&quot;40&quot; alt=&quot;&quot;&gt;&lt;/td&gt;\n                &lt;td&gt;&lt;a href='DelServlet?id=${pl.id}'&gt;delete&lt;/a&gt;&lt;br&gt;&lt;a href='modify.jsp?id=${pl.id}&amp;PName=${pl.PName}&amp;price=${pl.price}&amp;filename=${pl.img}'&gt;modify&lt;/a&gt;&lt;/td&gt;\n            &lt;/tr&gt;\n        &lt;/c:forEach&gt;\n        &lt;c:if test=&quot;${empty proList}&quot;&gt;\n            &lt;c:redirect url=&quot;/ShowServlet&quot;/&gt;\n        &lt;/c:if&gt;\n            &lt;/table&gt;\n        &lt;/form&gt;\n        &lt;a href=&quot;add.jsp&quot;&gt;add&lt;/a&gt;\n        &lt;a href=&quot;main.jsp&quot;&gt;return&lt;/a&gt;\n        &lt;/div&gt;\n    &lt;/center&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n\n</code></pre>\n<p>I tried to use the absolute path but it still can’t be displayed. I wonder if something is missing in the packaging process. I don’t know if the out directory is necessary.</p>\n"},{"tags":["java","visual-studio-code"],"comments":[{"owner":{"account_id":15396644,"reputation":25775,"user_id":11107541,"display_name":"starball"},"score":0,"creation_date":1688883591,"post_id":76646095,"comment_id":135132133,"body_markdown":"quite possibly related: https://stackoverflow.com/q/76641794/11107541 and https://stackoverflow.com/q/76631184/11107541. possibly even https://stackoverflow.com/q/76594445/11107541","body":"quite possibly related: <a href=\"https://stackoverflow.com/q/76641794/11107541\">stackoverflow.com/q/76641794/11107541</a> and <a href=\"https://stackoverflow.com/q/76631184/11107541\">stackoverflow.com/q/76631184/11107541</a>. possibly even <a href=\"https://stackoverflow.com/q/76594445/11107541\">stackoverflow.com/q/76594445/11107541</a>"},{"owner":{"account_id":25311208,"reputation":7305,"user_id":19133920,"display_name":"JialeDu"},"score":0,"creation_date":1688970738,"post_id":76646095,"comment_id":135140917,"body_markdown":"Had the same problem, I opened a [report](https://github.com/redhat-developer/vscode-java/issues/3191) that you can follow.","body":"Had the same problem, I opened a <a href=\"https://github.com/redhat-developer/vscode-java/issues/3191\" rel=\"nofollow noreferrer\">report</a> that you can follow."},{"owner":{"account_id":28979366,"reputation":1,"user_id":22197600,"display_name":"870SIRASIT RUENGSILAPAVILAI"},"score":0,"creation_date":1688997349,"post_id":76646095,"comment_id":135146722,"body_markdown":"oh thx. I hope we will found the solution soon.","body":"oh thx. I hope we will found the solution soon."},{"owner":{"account_id":15396644,"reputation":25775,"user_id":11107541,"display_name":"starball"},"score":0,"creation_date":1689227590,"post_id":76646095,"comment_id":135183985,"body_markdown":"Does this answer your question? [Why aren&#39;t suggestions working properly in new Java files with the Red Hat Java Language Support extension v1.20.0 with VS Code 1.80?](https://stackoverflow.com/questions/76668211/why-arent-suggestions-working-properly-in-new-java-files-with-the-red-hat-java)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/76668211/why-arent-suggestions-working-properly-in-new-java-files-with-the-red-hat-java\">Why aren&#39;t suggestions working properly in new Java files with the Red Hat Java Language Support extension v1.20.0 with VS Code 1.80?</a>"}],"answers":[{"comments":[{"owner":{"account_id":15396644,"reputation":25775,"user_id":11107541,"display_name":"starball"},"score":0,"creation_date":1689322679,"post_id":76685909,"comment_id":135199957,"body_markdown":"please don&#39;t answer duplicate questions. see [answer].","body":"please don&#39;t answer duplicate questions. see <a href=\"https://stackoverflow.com/questions/how-to-answer\">How to Answer</a>."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1689683191,"post_id":76685909,"comment_id":135245726,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/76685909/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."},{"owner":{"account_id":25311208,"reputation":7305,"user_id":19133920,"display_name":"JialeDu"},"score":0,"creation_date":1690768988,"post_id":76685909,"comment_id":135394499,"body_markdown":"You should accept the answer by clicking on tick icon ✅ which is at left of the answer, so that community can understand that the question has been answered.","body":"You should accept the answer by clicking on tick icon ✅ which is at left of the answer, so that community can understand that the question has been answered."}],"tags":[],"owner":{"account_id":28979366,"reputation":1,"user_id":22197600,"display_name":"870SIRASIT RUENGSILAPAVILAI"},"comment_count":3,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1689322649,"creation_date":1689322649,"answer_id":76685909,"question_id":76646095,"body_markdown":"BTW, today the Vscode have an update just update and it&#39;s fixing thx everyone","title":"My VScode intellisense not working in my java project","body":"<p>BTW, today the Vscode have an update just update and it's fixing thx everyone</p>\n"}],"owner":{"account_id":28979366,"reputation":1,"user_id":22197600,"display_name":"870SIRASIT RUENGSILAPAVILAI"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":212,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1689322649,"creation_date":1688882518,"question_id":76646095,"body_markdown":"For example When am create the new test.java file the intellisense only show up only 1 or 2 statement that I don&#39;t want really to use it. the temporary way to fix it I have to restart the Vscode then the test.java file will show all the suggest statement but if I create new file it will have the same problem. So is it have the way to fix it permanent. thankyou.\r\n\r\n\r\n\r\n\r\n# fixing my Vscode problem","title":"My VScode intellisense not working in my java project","body":"<p>For example When am create the new test.java file the intellisense only show up only 1 or 2 statement that I don't want really to use it. the temporary way to fix it I have to restart the Vscode then the test.java file will show all the suggest statement but if I create new file it will have the same problem. So is it have the way to fix it permanent. thankyou.</p>\n<h1>fixing my Vscode problem</h1>\n"},{"tags":["java","groovy","java-stream"],"comments":[{"owner":{"account_id":277416,"reputation":681878,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":3,"creation_date":1445253925,"post_id":33212660,"comment_id":54230334,"body_markdown":"So, what happens if you call `collect(Collectors.toList())`, instead of `collect()`? I&#39;m not a groovy expert, but since you call collect() without argument, why would groovy call Stream.collect(), since that method expects a Collector as argument?","body":"So, what happens if you call <code>collect(Collectors.toList())</code>, instead of <code>collect()</code>? I&#39;m not a groovy expert, but since you call collect() without argument, why would groovy call Stream.collect(), since that method expects a Collector as argument?"},{"owner":{"account_id":4358,"reputation":168420,"user_id":6509,"display_name":"tim_yates"},"score":2,"creation_date":1445280415,"post_id":33212660,"comment_id":54247751,"body_markdown":"I agree with @JBNizet… If you call the groovy method, it&#39;s going to use the groovy method.  Try calling the Java 8 method?","body":"I agree with @JBNizet… If you call the groovy method, it&#39;s going to use the groovy method.  Try calling the Java 8 method?"},{"owner":{"account_id":410776,"reputation":579,"user_id":782818,"display_name":"Jerzyna"},"score":0,"creation_date":1445327257,"post_id":33212660,"comment_id":54265485,"body_markdown":"OK, after some more experimenting I&#39;ve found out what problem I had. In original experiment I wrote `collect{Collectors.toList()}` (note curly braces) which is of course not what it should be. Silly me.","body":"OK, after some more experimenting I&#39;ve found out what problem I had. In original experiment I wrote <code>collect{Collectors.toList()}</code> (note curly braces) which is of course not what it should be. Silly me."}],"answers":[{"tags":[],"owner":{"account_id":100664,"reputation":8069,"user_id":271236,"display_name":"jalopaba"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1445254877,"creation_date":1445254877,"answer_id":33213467,"question_id":33212660,"body_markdown":"Using [`Collectors.toList()`][1] you can get what you want to do:\r\n\r\n    import java.util.stream.*\r\n    \r\n    class Item {\r\n        final String name\r\n        \r\n        Item(name) {\r\n            this.name = name\r\n        }\r\n        \r\n        @Override\r\n        String toString() {\r\n            name\r\n        }\r\n    }\r\n    \r\n    def itemize(String name) {\r\n        Optional.of(new Item(name))\r\n    }\r\n    \r\n    \r\n    def finalCollection = [ &#39;some&#39;, &#39;items&#39;, &#39;really&#39;, &#39;not&#39;, &#39;important&#39; ].stream()\r\n            .map { itemize(it) } //map String to Optional&lt;Item&gt;\r\n            .flatMap { it.map(Stream.&amp;of).orElseGet(Stream.&amp;empty) } //convert to Stream&lt;Item&gt;\r\n            .collect (Collectors.toList()) \r\n    \r\n    assert &#39;java.util.ArrayList&#39; == finalCollection.class.name        \r\n    assert finalCollection.collect { it.name } == [&#39;some&#39;, &#39;items&#39;, &#39;really&#39;, &#39;not&#39;, &#39;important&#39;]\r\n\r\nAnyway, with groovy 2.4.5 the above is working also with\r\n\r\n    def finalCollection = [ &#39;some&#39;, &#39;items&#39;, &#39;really&#39;, &#39;not&#39;, &#39;important&#39; ].stream()\r\n            .map { itemize(it) } //map String to Optional&lt;Item&gt;\r\n            .flatMap { it.map(Stream.&amp;of).orElseGet(Stream.&amp;empty) } //convert to Stream&lt;Item&gt;\r\n            .collect()\r\n\r\nthat uses [groovy&#39;s collect][2]:\r\n\r\n&gt; transforming each item into a new value using Closure.IDENTITY as a\r\n&gt; transformer, basically returning a list of items copied from the\r\n&gt; original object.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/stream/Collectors.html#toList--\r\n  [2]: http://docs.groovy-lang.org/latest/html/api/org/codehaus/groovy/runtime/DefaultGroovyMethods.html#collect(java.lang.Object)","title":"How to call Java&#39;s Stream.collect() from groovy?","body":"<p>Using <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/Collectors.html#toList--\" rel=\"noreferrer\"><code>Collectors.toList()</code></a> you can get what you want to do:</p>\n\n<pre><code>import java.util.stream.*\n\nclass Item {\n    final String name\n\n    Item(name) {\n        this.name = name\n    }\n\n    @Override\n    String toString() {\n        name\n    }\n}\n\ndef itemize(String name) {\n    Optional.of(new Item(name))\n}\n\n\ndef finalCollection = [ 'some', 'items', 'really', 'not', 'important' ].stream()\n        .map { itemize(it) } //map String to Optional&lt;Item&gt;\n        .flatMap { it.map(Stream.&amp;of).orElseGet(Stream.&amp;empty) } //convert to Stream&lt;Item&gt;\n        .collect (Collectors.toList()) \n\nassert 'java.util.ArrayList' == finalCollection.class.name        \nassert finalCollection.collect { it.name } == ['some', 'items', 'really', 'not', 'important']\n</code></pre>\n\n<p>Anyway, with groovy 2.4.5 the above is working also with</p>\n\n<pre><code>def finalCollection = [ 'some', 'items', 'really', 'not', 'important' ].stream()\n        .map { itemize(it) } //map String to Optional&lt;Item&gt;\n        .flatMap { it.map(Stream.&amp;of).orElseGet(Stream.&amp;empty) } //convert to Stream&lt;Item&gt;\n        .collect()\n</code></pre>\n\n<p>that uses <a href=\"http://docs.groovy-lang.org/latest/html/api/org/codehaus/groovy/runtime/DefaultGroovyMethods.html#collect(java.lang.Object)\" rel=\"noreferrer\">groovy's collect</a>:</p>\n\n<blockquote>\n  <p>transforming each item into a new value using Closure.IDENTITY as a\n  transformer, basically returning a list of items copied from the\n  original object.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":10807011,"reputation":2216,"user_id":15016163,"display_name":"Maicon Mauricio"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660321142,"creation_date":1660321142,"answer_id":73337074,"question_id":33212660,"body_markdown":"Groovy 2.5.0 and above adds [`toList`][1] and [`toSet`][2] methods as [enhancements to Stream][3]. No need to use  `Collectors.toList()` anymore.\r\n\r\n    def finalCollection = [ &#39;some&#39;, &#39;items&#39;, &#39;really&#39;, &#39;not&#39;, &#39;important&#39; ].stream()\r\n            .map { it }\r\n            .flatMap { it.map(Stream.&amp;of).orElseGet(Stream.&amp;empty) }\r\n            .toList()\r\n\r\n\r\n  [1]: https://docs.groovy-lang.org/latest/html/groovy-jdk/java/util/stream/Stream.html#toList()\r\n  [2]: https://docs.groovy-lang.org/latest/html/groovy-jdk/java/util/stream/Stream.html#toSet()\r\n  [3]: https://docs.groovy-lang.org/latest/html/groovy-jdk/java/util/stream/Stream.html","title":"How to call Java&#39;s Stream.collect() from groovy?","body":"<p>Groovy 2.5.0 and above adds <a href=\"https://docs.groovy-lang.org/latest/html/groovy-jdk/java/util/stream/Stream.html#toList()\" rel=\"nofollow noreferrer\"><code>toList</code></a> and <a href=\"https://docs.groovy-lang.org/latest/html/groovy-jdk/java/util/stream/Stream.html#toSet()\" rel=\"nofollow noreferrer\"><code>toSet</code></a> methods as <a href=\"https://docs.groovy-lang.org/latest/html/groovy-jdk/java/util/stream/Stream.html\" rel=\"nofollow noreferrer\">enhancements to Stream</a>. No need to use  <code>Collectors.toList()</code> anymore.</p>\n<pre><code>def finalCollection = [ 'some', 'items', 'really', 'not', 'important' ].stream()\n        .map { it }\n        .flatMap { it.map(Stream.&amp;of).orElseGet(Stream.&amp;empty) }\n        .toList()\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9479950,"reputation":21,"user_id":7048209,"display_name":"Vincent Thoul&#233;"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1689322500,"creation_date":1689091385,"answer_id":76663845,"question_id":33212660,"body_markdown":"On my side, I found a solution to use Java Stream, Collectors in Groovy Scripts.\r\n\r\nBy casting the parameter of collect. It forces the usage of `Stream.collect()` instead of Groovy&#39;s collect()\r\n\r\n``` lang-java\r\nimport java.util.stream.Collector\r\nimport java.util.stream.Collectors;\r\n//...\r\nList&lt;String&gt; stringsAsList = [&quot;aa&quot;,&quot;bbb&quot;];\r\nreturn stringsAsList.stream().collect((Collector)Collectors.joining(&quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;));\r\n```","title":"How to call Java&#39;s Stream.collect() from groovy?","body":"<p>On my side, I found a solution to use Java Stream, Collectors in Groovy Scripts.</p>\n<p>By casting the parameter of collect. It forces the usage of <code>Stream.collect()</code> instead of Groovy's collect()</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.stream.Collector\nimport java.util.stream.Collectors;\n//...\nList&lt;String&gt; stringsAsList = [&quot;aa&quot;,&quot;bbb&quot;];\nreturn stringsAsList.stream().collect((Collector)Collectors.joining(&quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;));\n</code></pre>\n"}],"owner":{"account_id":410776,"reputation":579,"user_id":782818,"display_name":"Jerzyna"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":31126,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"accepted_answer_id":33213467,"answer_count":3,"score":11,"last_activity_date":1689322500,"creation_date":1445252344,"question_id":33212660,"body_markdown":"Having some background with FP from Scala I really don&#39;t like Groovy&#39;s names for collections methods. Given that and some architectural choices made above, I found using a Java 8 streams API (plus java.util.Optional) in Groovy code an appealing solution.\r\n\r\nUntil I hit this:\r\n\r\n    def finalCollection = [ &#39;some&#39;, &#39;items&#39;, &#39;really&#39;, &#39;not&#39;, &#39;important&#39; ].stream()\r\n            .map { aMethodReturningOptional(it) } //map String to Optional&lt;Item&gt;\r\n            .flatMap { it.map(Stream.&amp;of).orElseGet(Stream.&amp;empty) } //convert to Stream&lt;Item&gt;\r\n            .collect() //Groovy&#39;s collect, not stream&#39;s!\r\n\r\nNote it works only in Groovy 2+ - [treating closure as lambda][1].\r\nWhat bothers me is the last line of the example code. Groovy translates the call to the `DefaultGroovyMethods.collect()` instead of `Stream.collect()` that I originally wanted to use. Of course then the last line would be:\r\n\r\n            .collect(Collectors.toList()) //Should call Java collect, but it doesn&#39;t\r\n\r\nIt seems counter-intuitive to me, that some extension method is called instead of native, &#39;built-in&#39; method of the class.\r\n\r\nHow can I rewrite the example so the `Stream.collect()` method would be called?\r\n\r\n**UPDATE**: After some more fiddling, I&#39;ve found out what problem I had originally. I wrote `.collect{Collectors.toList()}` (note curly braces), which of course called Groovy method, not Java. Note to self: remember to quadruple-check before posting...\r\n\r\n  [1]: http://mrhaki.blogspot.com/2015/04/groovy-goodness-use-closures-as-java.html","title":"How to call Java&#39;s Stream.collect() from groovy?","body":"<p>Having some background with FP from Scala I really don't like Groovy's names for collections methods. Given that and some architectural choices made above, I found using a Java 8 streams API (plus java.util.Optional) in Groovy code an appealing solution.</p>\n\n<p>Until I hit this:</p>\n\n<pre><code>def finalCollection = [ 'some', 'items', 'really', 'not', 'important' ].stream()\n        .map { aMethodReturningOptional(it) } //map String to Optional&lt;Item&gt;\n        .flatMap { it.map(Stream.&amp;of).orElseGet(Stream.&amp;empty) } //convert to Stream&lt;Item&gt;\n        .collect() //Groovy's collect, not stream's!\n</code></pre>\n\n<p>Note it works only in Groovy 2+ - <a href=\"http://mrhaki.blogspot.com/2015/04/groovy-goodness-use-closures-as-java.html\" rel=\"noreferrer\">treating closure as lambda</a>.\nWhat bothers me is the last line of the example code. Groovy translates the call to the <code>DefaultGroovyMethods.collect()</code> instead of <code>Stream.collect()</code> that I originally wanted to use. Of course then the last line would be:</p>\n\n<pre><code>        .collect(Collectors.toList()) //Should call Java collect, but it doesn't\n</code></pre>\n\n<p>It seems counter-intuitive to me, that some extension method is called instead of native, 'built-in' method of the class.</p>\n\n<p>How can I rewrite the example so the <code>Stream.collect()</code> method would be called?</p>\n\n<p><strong>UPDATE</strong>: After some more fiddling, I've found out what problem I had originally. I wrote <code>.collect{Collectors.toList()}</code> (note curly braces), which of course called Groovy method, not Java. Note to self: remember to quadruple-check before posting...</p>\n"},{"tags":["c#","java",".net","jboss","drools"],"answers":[{"comments":[{"owner":{"account_id":2980871,"reputation":72375,"user_id":2530848,"accept_rate":67,"display_name":"Sriram Sakthivel"},"score":0,"creation_date":1399452789,"post_id":23513116,"comment_id":36062849,"body_markdown":"I guess you posted answer in [wrong thread](http://stackoverflow.com/a/23513101/2530848) :-D","body":"I guess you posted answer in <a href=\"http://stackoverflow.com/a/23513101/2530848\">wrong thread</a> :-D"},{"owner":{"account_id":169636,"reputation":9320,"user_id":395821,"accept_rate":62,"display_name":"Steve"},"score":5,"creation_date":1399456200,"post_id":23513116,"comment_id":36065122,"body_markdown":"Steer well clear of Drools.NET - it hasn&#39;t been updated for years and the syntax has changed a lot since then. It won&#39;t let you re-use any of the DRL from your Java project.","body":"Steer well clear of Drools.NET - it hasn&#39;t been updated for years and the syntax has changed a lot since then. It won&#39;t let you re-use any of the DRL from your Java project."},{"owner":{"account_id":1968493,"reputation":1136,"user_id":1768107,"accept_rate":44,"display_name":"Prasanth V J"},"score":0,"creation_date":1399529185,"post_id":23513116,"comment_id":36102833,"body_markdown":"@Steve- Can i use WWF instead of Drool.NET?Is there any limitation for WWF?","body":"@Steve- Can i use WWF instead of Drool.NET?Is there any limitation for WWF?"}],"tags":[],"owner":{"account_id":148536,"reputation":461,"user_id":360382,"display_name":"Jon Malcolm"},"comment_count":3,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1399452751,"creation_date":1399452751,"answer_id":23513116,"question_id":23512915,"body_markdown":"A quick google search found this - http://droolsdotnet.codehaus.org/, the key bit here seems to be:\r\n\r\n&gt; Drools.NET is a Business Rules Engine (BRE) based on Charles Forgy&#39;s Rete algorithm.     Developers can now exploit a powerful Rule Engine through a completely managed .NET code base! Drools.NET is based on Jboss Rules, and comes with all the features of that Rules Engine. \r\n\r\nSo I would guess this might be what you are after from the point of view of using any existing rules and definitions - I&#39;m assuming you&#39;ll be rewriting the code itself regardless.\r\n","title":"Can we use JAVA based drools rules in .NET","body":"<p>A quick google search found this - <a href=\"http://droolsdotnet.codehaus.org/\" rel=\"nofollow\">http://droolsdotnet.codehaus.org/</a>, the key bit here seems to be:</p>\n\n<blockquote>\n  <p>Drools.NET is a Business Rules Engine (BRE) based on Charles Forgy's Rete algorithm.     Developers can now exploit a powerful Rule Engine through a completely managed .NET code base! Drools.NET is based on Jboss Rules, and comes with all the features of that Rules Engine. </p>\n</blockquote>\n\n<p>So I would guess this might be what you are after from the point of view of using any existing rules and definitions - I'm assuming you'll be rewriting the code itself regardless.</p>\n"},{"tags":[],"owner":{"account_id":169636,"reputation":9320,"user_id":395821,"accept_rate":62,"display_name":"Steve"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1399456492,"creation_date":1399456492,"answer_id":23514481,"question_id":23512915,"body_markdown":"Drools is a Java application, and there is no port that would enable you to re-use DRL in a .NET application.\r\n\r\nIf you want to re-use your knowledge base, then you should expose it as a web service and call that from your .NET application.","title":"Can we use JAVA based drools rules in .NET","body":"<p>Drools is a Java application, and there is no port that would enable you to re-use DRL in a .NET application.</p>\n\n<p>If you want to re-use your knowledge base, then you should expose it as a web service and call that from your .NET application.</p>\n"}],"owner":{"account_id":1968493,"reputation":1136,"user_id":1768107,"accept_rate":44,"display_name":"Prasanth V J"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3370,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":2,"score":1,"last_activity_date":1689321979,"creation_date":1399452161,"question_id":23512915,"body_markdown":"I have a JAVA application which using drools rules.I need create a similar application in .NET.\r\nCan i use same drools rule file in  .NET application?.\r\nIf it need to be converted ,Is there any automated way to achieve it?","title":"Can we use JAVA based drools rules in .NET","body":"<p>I have a JAVA application which using drools rules.I need create a similar application in .NET.\nCan i use same drools rule file in  .NET application?.\nIf it need to be converted ,Is there any automated way to achieve it?</p>\n"},{"tags":["java","grpc-java","appium-java"],"comments":[{"owner":{"account_id":14947494,"reputation":506,"user_id":10792320,"display_name":"San P"},"score":1,"creation_date":1689280820,"post_id":76676879,"comment_id":135195384,"body_markdown":"Couple of things:\n\n - can you use the latest gRPC version (1.56.1)? \n - if it still fails with the grpc latest version, try using the maven enforcer plugin https://maven.apache.org/enforcer/enforcer-rules/requireUpperBoundDeps.html to make sure the build is using the latest required version for Guava. And if the enforced flags an error explicitly depend on that guava version. Hope that works","body":"Couple of things:   - can you use the latest gRPC version (1.56.1)?   - if it still fails with the grpc latest version, try using the maven enforcer plugin <a href=\"https://maven.apache.org/enforcer/enforcer-rules/requireUpperBoundDeps.html\" rel=\"nofollow noreferrer\">maven.apache.org/enforcer/enforcer-rules/&hellip;</a> to make sure the build is using the latest required version for Guava. And if the enforced flags an error explicitly depend on that guava version. Hope that works"},{"owner":{"account_id":26738703,"reputation":91,"user_id":20339845,"display_name":"jon_17z"},"score":0,"creation_date":1689321572,"post_id":76676879,"comment_id":135199754,"body_markdown":"Thankyou I already try it but it&#39;s still generate same error","body":"Thankyou I already try it but it&#39;s still generate same error"}],"answers":[{"tags":[],"owner":{"account_id":26738703,"reputation":91,"user_id":20339845,"display_name":"jon_17z"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1689321799,"creation_date":1689321799,"answer_id":76685808,"question_id":76676879,"body_markdown":"After add guava dependency (not the latest version), the error is resolved. \r\n\r\n    &lt;dependency&gt;\r\n       &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\r\n       &lt;artifactId&gt;guava&lt;/artifactId&gt;\r\n       &lt;version&gt;31.1-jre&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nThankyou to @San P for giving advice.","title":"Java io.appium clashes with io.grpc","body":"<p>After add guava dependency (not the latest version), the error is resolved.</p>\n<pre><code>&lt;dependency&gt;\n   &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\n   &lt;artifactId&gt;guava&lt;/artifactId&gt;\n   &lt;version&gt;31.1-jre&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Thankyou to @San P for giving advice.</p>\n"}],"owner":{"account_id":26738703,"reputation":91,"user_id":20339845,"display_name":"jon_17z"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1689321799,"creation_date":1689233045,"question_id":76676879,"body_markdown":"I&#39;m create some java 11 program (use maven) which using Appium for android testing and gRPC to communicate with other device.\r\n\r\nAppium Dependency\r\n\r\n```\r\n&lt;!-- https://mvnrepository.com/artifact/io.appium/java-client --&gt;\r\n&lt;dependency&gt;\r\n   &lt;groupId&gt;io.appium&lt;/groupId&gt;\r\n   &lt;artifactId&gt;java-client&lt;/artifactId&gt;\r\n   &lt;version&gt;8.3.0&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\ngRPC Dependency\r\n\r\n```\r\n&lt;dependency&gt;\r\n  &lt;groupId&gt;io.grpc&lt;/groupId&gt;\r\n  &lt;artifactId&gt;grpc-netty-shaded&lt;/artifactId&gt;\r\n  &lt;version&gt;1.53.0&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n  &lt;groupId&gt;io.grpc&lt;/groupId&gt;\r\n  &lt;artifactId&gt;grpc-protobuf&lt;/artifactId&gt;\r\n  &lt;version&gt;1.53.0&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n  &lt;groupId&gt;io.grpc&lt;/groupId&gt;\r\n  &lt;artifactId&gt;grpc-stub&lt;/artifactId&gt;\r\n  &lt;version&gt;1.53.0&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\n\r\nWhen I run the program, I got error\r\n\r\n```\r\nWarning: [org.testng.ITest] implementation on class [com.framework.DynamicTest] returned null. Defaulting to method name\r\njava.lang.NoSuchMethodError: com.google.common.collect.ImmutableMap.toImmutableMap(Ljava/util/function/Function;Ljava/util/function/Function;)Ljava/util/stream/Collector;\r\n\tat io.appium.java_client.remote.AppiumNewSessionCommandPayload.makeW3CSafe(AppiumNewSessionCommandPayload.java:40)\r\n\tat io.appium.java_client.remote.AppiumNewSessionCommandPayload.&lt;init&gt;(AppiumNewSessionCommandPayload.java:54)\r\n\tat io.appium.java_client.AppiumDriver.startSession(AppiumDriver.java:229)\r\n\tat org.openqa.selenium.remote.RemoteWebDriver.&lt;init&gt;(RemoteWebDriver.java:157)\r\n\tat io.appium.java_client.AppiumDriver.&lt;init&gt;(AppiumDriver.java:80)\r\n\tat io.appium.java_client.AppiumDriver.&lt;init&gt;(AppiumDriver.java:92)\r\n\tat io.appium.java_client.android.AndroidDriver.&lt;init&gt;(AndroidDriver.java:117)\r\n```\r\n\r\nThe error occurs when I hit this line\r\n\r\n```\r\nmobileDriver = new AndroidDriver(new URL(strURL), capabilities);\r\n```\r\n\r\n\r\nIt&#39;s look like the AndroidDriver not detected. But when I remove gRPC dependency, it&#39;s work.\r\n\r\n\r\n\r\nIs there a possible solution to using io.appium together with io.grpc?","title":"Java io.appium clashes with io.grpc","body":"<p>I'm create some java 11 program (use maven) which using Appium for android testing and gRPC to communicate with other device.</p>\n<p>Appium Dependency</p>\n<pre><code>&lt;!-- https://mvnrepository.com/artifact/io.appium/java-client --&gt;\n&lt;dependency&gt;\n   &lt;groupId&gt;io.appium&lt;/groupId&gt;\n   &lt;artifactId&gt;java-client&lt;/artifactId&gt;\n   &lt;version&gt;8.3.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>gRPC Dependency</p>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;io.grpc&lt;/groupId&gt;\n  &lt;artifactId&gt;grpc-netty-shaded&lt;/artifactId&gt;\n  &lt;version&gt;1.53.0&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n  &lt;groupId&gt;io.grpc&lt;/groupId&gt;\n  &lt;artifactId&gt;grpc-protobuf&lt;/artifactId&gt;\n  &lt;version&gt;1.53.0&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n  &lt;groupId&gt;io.grpc&lt;/groupId&gt;\n  &lt;artifactId&gt;grpc-stub&lt;/artifactId&gt;\n  &lt;version&gt;1.53.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>When I run the program, I got error</p>\n<pre><code>Warning: [org.testng.ITest] implementation on class [com.framework.DynamicTest] returned null. Defaulting to method name\njava.lang.NoSuchMethodError: com.google.common.collect.ImmutableMap.toImmutableMap(Ljava/util/function/Function;Ljava/util/function/Function;)Ljava/util/stream/Collector;\n    at io.appium.java_client.remote.AppiumNewSessionCommandPayload.makeW3CSafe(AppiumNewSessionCommandPayload.java:40)\n    at io.appium.java_client.remote.AppiumNewSessionCommandPayload.&lt;init&gt;(AppiumNewSessionCommandPayload.java:54)\n    at io.appium.java_client.AppiumDriver.startSession(AppiumDriver.java:229)\n    at org.openqa.selenium.remote.RemoteWebDriver.&lt;init&gt;(RemoteWebDriver.java:157)\n    at io.appium.java_client.AppiumDriver.&lt;init&gt;(AppiumDriver.java:80)\n    at io.appium.java_client.AppiumDriver.&lt;init&gt;(AppiumDriver.java:92)\n    at io.appium.java_client.android.AndroidDriver.&lt;init&gt;(AndroidDriver.java:117)\n</code></pre>\n<p>The error occurs when I hit this line</p>\n<pre><code>mobileDriver = new AndroidDriver(new URL(strURL), capabilities);\n</code></pre>\n<p>It's look like the AndroidDriver not detected. But when I remove gRPC dependency, it's work.</p>\n<p>Is there a possible solution to using io.appium together with io.grpc?</p>\n"},{"tags":["java","google-cloud-dataflow","apache-beam","google-cloud-pubsub"],"comments":[{"owner":{"account_id":24454036,"reputation":21,"user_id":18375879,"display_name":"phani geeth"},"score":0,"creation_date":1689597930,"post_id":76681800,"comment_id":135231657,"body_markdown":"It worked in dataflow displaying number of records read from pubsub for every 5 min period. Thanks @Jan Lukavsky","body":"It worked in dataflow displaying number of records read from pubsub for every 5 min period. Thanks @Jan Lukavsky"}],"answers":[{"tags":[],"owner":{"account_id":14694537,"reputation":131,"user_id":10612266,"display_name":"Jan Lukavsky"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689321719,"creation_date":1689321719,"answer_id":76685799,"question_id":76681800,"body_markdown":"Apache Beam uses the concept of *[event time][1]* to ensure consistent computation results on unordered streams. Because every distributed data stream is necessarily unordered there needs to be a way synchronize different workers processing the data. Apache Beam uses for this purpose a *[watermark][2]*, which is a periodically generated marker that flows from sources and propagates though all PTransforms in the Pipeline. The lag you notice is therefore related exactly to the delay between data is processed and when watermark which marks end-of-window arrives.\r\n\r\nWatermarks are most often generated on sources (PubsubIO.Read in your case) by some heuristic. These heuristics tend to produce higher latency for low-volume streams, so you might try to experiment with the volume of data you write to you Pubsub topic.\r\n\r\nLast but not least the lag depends on a runner you choose to run your Pipeline. In the example above I suppose you use DirectRunner, which is mostly used for testing and is not optimized for performance. You can try different runners and see how your outputs change.\r\n\r\n\r\n  [1]: https://beam.apache.org/documentation/programming-guide/#event-time-triggers\r\n  [2]: https://beam.apache.org/documentation/programming-guide/#watermarks-and-late-data","title":"Count incoming unbouned messages from pubsub using apache beam java","body":"<p>Apache Beam uses the concept of <em><a href=\"https://beam.apache.org/documentation/programming-guide/#event-time-triggers\" rel=\"nofollow noreferrer\">event time</a></em> to ensure consistent computation results on unordered streams. Because every distributed data stream is necessarily unordered there needs to be a way synchronize different workers processing the data. Apache Beam uses for this purpose a <em><a href=\"https://beam.apache.org/documentation/programming-guide/#watermarks-and-late-data\" rel=\"nofollow noreferrer\">watermark</a></em>, which is a periodically generated marker that flows from sources and propagates though all PTransforms in the Pipeline. The lag you notice is therefore related exactly to the delay between data is processed and when watermark which marks end-of-window arrives.</p>\n<p>Watermarks are most often generated on sources (PubsubIO.Read in your case) by some heuristic. These heuristics tend to produce higher latency for low-volume streams, so you might try to experiment with the volume of data you write to you Pubsub topic.</p>\n<p>Last but not least the lag depends on a runner you choose to run your Pipeline. In the example above I suppose you use DirectRunner, which is mostly used for testing and is not optimized for performance. You can try different runners and see how your outputs change.</p>\n"}],"owner":{"account_id":24454036,"reputation":21,"user_id":18375879,"display_name":"phani geeth"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":83,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1689321719,"creation_date":1689268082,"question_id":76681800,"body_markdown":"My requirment is to count incoming records from pubsub for every 5min period in apache beam pipeline using java sdk\r\n\r\n\r\n\r\n```\r\nclass Display extends DoFn&lt;Long,String&gt;\r\n{\r\n@ProcessElement\r\npublic void process(ProcessContext c)\r\n{\r\nSystem.out.println(c.element());\r\n}\r\n}\r\npublic class CustomMetrics\r\n{\r\npublic static void main(String args[])\r\n{\r\nPipelineOptions options = PipelineFactory.create();\r\nPipleine pipeline= Pipeline.create(options);\r\n\r\npipeline.apply(PubsubIO.readStrings().fromSubscription(&quot;PubSub Subscription&quot;))\r\n.apply(Window.&lt;String&gt;into(FixedWindows.of(Duration.standardMinutes(5))).triggering(DefaultTrigger.of()))\r\n.apply(Combine.globally(Count.&lt;String&gt;combineFn()).withoutDefaults())\r\n.apply(ParDo.of(new Display()));\r\n\r\npipeline.run().waitUntilFinish();\r\n}\r\n}\r\n```\r\n\r\nAble to count the incoming records but the number is not displayed immediatley its populated randomly after some time.\r\n\r\nIs there any other way to count the incoming unbouneded records using Apache Beam pipleine.","title":"Count incoming unbouned messages from pubsub using apache beam java","body":"<p>My requirment is to count incoming records from pubsub for every 5min period in apache beam pipeline using java sdk</p>\n<pre><code>class Display extends DoFn&lt;Long,String&gt;\n{\n@ProcessElement\npublic void process(ProcessContext c)\n{\nSystem.out.println(c.element());\n}\n}\npublic class CustomMetrics\n{\npublic static void main(String args[])\n{\nPipelineOptions options = PipelineFactory.create();\nPipleine pipeline= Pipeline.create(options);\n\npipeline.apply(PubsubIO.readStrings().fromSubscription(&quot;PubSub Subscription&quot;))\n.apply(Window.&lt;String&gt;into(FixedWindows.of(Duration.standardMinutes(5))).triggering(DefaultTrigger.of()))\n.apply(Combine.globally(Count.&lt;String&gt;combineFn()).withoutDefaults())\n.apply(ParDo.of(new Display()));\n\npipeline.run().waitUntilFinish();\n}\n}\n</code></pre>\n<p>Able to count the incoming records but the number is not displayed immediatley its populated randomly after some time.</p>\n<p>Is there any other way to count the incoming unbouneded records using Apache Beam pipleine.</p>\n"},{"tags":["java","spring-boot","intellij-idea","backend","coder"],"owner":{"account_id":25530390,"reputation":1,"user_id":19318533,"display_name":"Khanh Duy Nguyen"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":9,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1689323553,"answer_count":0,"score":0,"last_activity_date":1689321670,"creation_date":1689321670,"question_id":76685792,"body_markdown":"when I run those codes below , I see an error:\r\nCaused by: Removing a detached instance ...\r\n\r\n```\r\n// in SinhVienDAOIlpm.java\r\n@Override\r\n    public SinhVien getById(int id) {\r\n        return this.entityManager.find(SinhVien.class, id);\r\n    }\r\n@Override\r\n    public void deleteStudent(SinhVien sv) {\r\n        this.entityManager.remove(sv);\r\n    }\r\n\r\n// in main.java\r\nprivate void deleteByID(SinhVienDAOImpl sinhVienDAOImpl) {\r\n    Scanner scanner = new Scanner(System.in);\r\n    System.out.println(&quot;Enter Student&#39;s Id: &quot;);\r\n    int id = scanner.nextInt();\r\n    scanner.nextLine();\r\n    SinhVien sinhVien = sinhVienDAOImpl.getById(id);\r\n    if (sinhVien==null) System.out.println(&quot;Can&#39;t find !!!&quot;);\r\n    else {\r\n        sinhVienDAOImpl.deleteStudent(sinhVien);\r\n        System.out.println(&quot;Deleted!!!&quot;);\r\n    }\r\n}\r\n```\r\nwhen I change entityManager.find to entityManager.getReference , it work good\r\nbut i want to know clearly about the problem when I use entityManager.find\r\n\r\nI hope to see the best explain ^^","title":"different find and getReference in entityManager","body":"<p>when I run those codes below , I see an error:\nCaused by: Removing a detached instance ...</p>\n<pre><code>// in SinhVienDAOIlpm.java\n@Override\n    public SinhVien getById(int id) {\n        return this.entityManager.find(SinhVien.class, id);\n    }\n@Override\n    public void deleteStudent(SinhVien sv) {\n        this.entityManager.remove(sv);\n    }\n\n// in main.java\nprivate void deleteByID(SinhVienDAOImpl sinhVienDAOImpl) {\n    Scanner scanner = new Scanner(System.in);\n    System.out.println(&quot;Enter Student's Id: &quot;);\n    int id = scanner.nextInt();\n    scanner.nextLine();\n    SinhVien sinhVien = sinhVienDAOImpl.getById(id);\n    if (sinhVien==null) System.out.println(&quot;Can't find !!!&quot;);\n    else {\n        sinhVienDAOImpl.deleteStudent(sinhVien);\n        System.out.println(&quot;Deleted!!!&quot;);\n    }\n}\n</code></pre>\n<p>when I change entityManager.find to entityManager.getReference , it work good\nbut i want to know clearly about the problem when I use entityManager.find</p>\n<p>I hope to see the best explain ^^</p>\n"},{"tags":["java","android","wifi"],"comments":[{"owner":{"account_id":5523754,"reputation":19832,"user_id":4385913,"accept_rate":93,"display_name":"Skizo-ozᴉʞS ツ"},"score":1,"creation_date":1550432328,"post_id":54736828,"comment_id":96256281,"body_markdown":"Could you test with the GPS on please?","body":"Could you test with the GPS on please?"}],"answers":[{"comments":[{"owner":{"account_id":130610,"reputation":10655,"user_id":329993,"accept_rate":84,"display_name":"moonlightcheese"},"score":1,"creation_date":1550502370,"post_id":54736996,"comment_id":96282289,"body_markdown":"The solution involved your second code snippet. I was avoiding the compatibility libraries, and it seems that even though the permission is set in the AndriodManifest.xml file, the permission is not actually granted for some reason?  I would like to have the permission granted without using compatibility libraries. This seems like a bug. This does solve the problem, but it forces the user to respond to a prompt and forces me to use compatibility libraries. Not desired behavior at all.","body":"The solution involved your second code snippet. I was avoiding the compatibility libraries, and it seems that even though the permission is set in the AndriodManifest.xml file, the permission is not actually granted for some reason?  I would like to have the permission granted without using compatibility libraries. This seems like a bug. This does solve the problem, but it forces the user to respond to a prompt and forces me to use compatibility libraries. Not desired behavior at all."},{"owner":{"account_id":130610,"reputation":10655,"user_id":329993,"accept_rate":84,"display_name":"moonlightcheese"},"score":2,"creation_date":1550502909,"post_id":54736996,"comment_id":96282616,"body_markdown":"After a bit of research, I was able to find a way to do this without using the compatibility library to check for permissions. I didn&#39;t realize that all permissions were disabled by default when the app is installed. This makes little sense to me, but there you have it. The answer was found in this article:\nhttps://help.kustom.rocks/i1571-ssid-shows-unknown-ssid-after-updating-to-android-8-1-oreo","body":"After a bit of research, I was able to find a way to do this without using the compatibility library to check for permissions. I didn&#39;t realize that all permissions were disabled by default when the app is installed. This makes little sense to me, but there you have it. The answer was found in this article: <a href=\"https://help.kustom.rocks/i1571-ssid-shows-unknown-ssid-after-updating-to-android-8-1-oreo\" rel=\"nofollow noreferrer\">help.kustom.rocks/&hellip;</a>"},{"owner":{"account_id":5523754,"reputation":19832,"user_id":4385913,"accept_rate":93,"display_name":"Skizo-ozᴉʞS ツ"},"score":1,"creation_date":1550503080,"post_id":54736996,"comment_id":96282695,"body_markdown":"That&#39;s why you have to `ActivityCompat.requestPermissions` to activate them :D","body":"That&#39;s why you have to <code>ActivityCompat.requestPermissions</code> to activate them :D"}],"tags":[],"owner":{"account_id":5523754,"reputation":19832,"user_id":4385913,"accept_rate":93,"display_name":"Skizo-ozᴉʞS ツ"},"comment_count":3,"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1679928892,"creation_date":1550432856,"answer_id":54736996,"question_id":54736828,"body_markdown":"Have you tried to check if `getSupplicantState()` is `COMPLETED`?\r\n\r\n    if(wifiInfo.getSupplicantState() == SupplicantState.COMPLETED){\r\n        String ssid = wifiInfo.getSSID();\r\n        wifiSSID.setText(ssid);\r\n    }\r\n\r\nAlso, have you asked for this before running the `BroadcastReceiver` or even inside you can do it: \r\n\r\n    if (ActivityCompat.checkSelfPermission(this, Manifest.permission.ACCESS_FINE_LOCATION) != PackageManager.PERMISSION_GRANTED) {\r\n        ActivityCompat.requestPermissions(this, new String[]{Manifest.permission.ACCESS_FINE_LOCATION}, LOCATION);\r\n    } else {\r\n        setWifiIndicator();\r\n    }","title":"WiFi getSSID() always returns &quot;&lt;unknown ssid&gt;&quot;","body":"<p>Have you tried to check if <code>getSupplicantState()</code> is <code>COMPLETED</code>?</p>\n<pre><code>if(wifiInfo.getSupplicantState() == SupplicantState.COMPLETED){\n    String ssid = wifiInfo.getSSID();\n    wifiSSID.setText(ssid);\n}\n</code></pre>\n<p>Also, have you asked for this before running the <code>BroadcastReceiver</code> or even inside you can do it:</p>\n<pre><code>if (ActivityCompat.checkSelfPermission(this, Manifest.permission.ACCESS_FINE_LOCATION) != PackageManager.PERMISSION_GRANTED) {\n    ActivityCompat.requestPermissions(this, new String[]{Manifest.permission.ACCESS_FINE_LOCATION}, LOCATION);\n} else {\n    setWifiIndicator();\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":10140825,"reputation":391,"user_id":7490633,"display_name":"mgueydan"},"score":1,"creation_date":1589212978,"post_id":59267125,"comment_id":109197409,"body_markdown":"+1 for details depending on version, especially the need to implement Request User level permission for ACCESS_FINE_LOCATION","body":"+1 for details depending on version, especially the need to implement Request User level permission for ACCESS_FINE_LOCATION"},{"owner":{"account_id":230213,"reputation":20200,"user_id":493682,"accept_rate":82,"display_name":"William"},"score":0,"creation_date":1694419464,"post_id":59267125,"comment_id":135883492,"body_markdown":"Switching on Location Services !!!","body":"Switching on Location Services !!!"}],"tags":[],"owner":{"account_id":6210851,"reputation":8700,"user_id":4837177,"display_name":"Gladis Wilson"},"comment_count":2,"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1575981077,"creation_date":1575980508,"answer_id":59267125,"question_id":54736828,"body_markdown":"Wi-Fi Permissions\r\n\r\nAndroid 8.0 and Android 8.1:\r\n\r\nA successful call to WifiManager.getScanResults() requires any one of the following permissions:\r\n\r\n•\tACCESS_FINE_LOCATION\r\n•\tACCESS_COARSE_LOCATION\r\n•\tCHANGE_WIFI_STATE\r\n\r\nIf the calling app does not have any of these permissions, the call fails with a SecurityException.\r\n\r\nAndroid 9:\r\n\r\nA successful call to WifiManager.startScan() requires all of the following conditions to be met:\r\n\r\n•\tYour app has the ACCESS_FINE_LOCATION or ACCESS_COARSE_LOCATION permission.\r\n•\tYour app has the CHANGE_WIFI_STATE permission.\r\n•\tLocation services are enabled on the device (under Settings &gt; Location).\r\n\r\nAndroid 10 (API level 29) and higher:\r\n\r\n\r\nA successful call to WifiManager.startScan() requires all of the following conditions to be met:\r\n\r\n•\tIf your app is targeting Android 10 (API level 29) SDK or higher, your app has the ACCESS_FINE_LOCATION permission.\r\n\r\n•\tIf your app is targeting SDK lower than Android 10 (API level 29), your app has the ACCESS_COARSE_LOCATION or ACCESS_FINE_LOCATION permission.\r\n\r\n•\tYour app has the CHANGE_WIFI_STATE permission.\r\n\r\n•\tLocation services are enabled on the device (under Settings &gt; Location).\r\n\r\nAnd Request User level permission to achieve\r\n\r\nSee this link for more information: https://developer.android.com/guide/topics/connectivity/wifi-scan#wifi-scan-permissions\r\n\r\nXAMARIN FORMS Code Change:\r\n&lt;pre&gt;\r\nif (Android.OS.Build.VERSION.SdkInt &gt;= Android.OS.BuildVersionCodes.O){\r\nstatus = await CrossPermissions.Current.CheckPermissionStatusAsync(Permission.Location);\r\nif (status != PermissionStatus.Granted)\r\n{   \r\nvar results = await CrossPermissions.Current.RequestPermissionsAsync(new[] { Permission.Location });\r\nstatus = results[Permission.Location];\r\n}\r\n}\r\n&lt;/pre&gt;\r\n    \r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/7Qcoh.png","title":"WiFi getSSID() always returns &quot;&lt;unknown ssid&gt;&quot;","body":"<p>Wi-Fi Permissions</p>\n\n<p>Android 8.0 and Android 8.1:</p>\n\n<p>A successful call to WifiManager.getScanResults() requires any one of the following permissions:</p>\n\n<p>•   ACCESS_FINE_LOCATION\n•   ACCESS_COARSE_LOCATION\n•   CHANGE_WIFI_STATE</p>\n\n<p>If the calling app does not have any of these permissions, the call fails with a SecurityException.</p>\n\n<p>Android 9:</p>\n\n<p>A successful call to WifiManager.startScan() requires all of the following conditions to be met:</p>\n\n<p>•   Your app has the ACCESS_FINE_LOCATION or ACCESS_COARSE_LOCATION permission.\n•   Your app has the CHANGE_WIFI_STATE permission.\n•   Location services are enabled on the device (under Settings > Location).</p>\n\n<p>Android 10 (API level 29) and higher:</p>\n\n<p>A successful call to WifiManager.startScan() requires all of the following conditions to be met:</p>\n\n<p>•   If your app is targeting Android 10 (API level 29) SDK or higher, your app has the ACCESS_FINE_LOCATION permission.</p>\n\n<p>•   If your app is targeting SDK lower than Android 10 (API level 29), your app has the ACCESS_COARSE_LOCATION or ACCESS_FINE_LOCATION permission.</p>\n\n<p>•   Your app has the CHANGE_WIFI_STATE permission.</p>\n\n<p>•   Location services are enabled on the device (under Settings > Location).</p>\n\n<p>And Request User level permission to achieve</p>\n\n<p>See this link for more information: <a href=\"https://developer.android.com/guide/topics/connectivity/wifi-scan#wifi-scan-permissions\" rel=\"noreferrer\">https://developer.android.com/guide/topics/connectivity/wifi-scan#wifi-scan-permissions</a></p>\n\n<p>XAMARIN FORMS Code Change:</p>\n\n<pre>\nif (Android.OS.Build.VERSION.SdkInt >= Android.OS.BuildVersionCodes.O){\nstatus = await CrossPermissions.Current.CheckPermissionStatusAsync(Permission.Location);\nif (status != PermissionStatus.Granted)\n{   \nvar results = await CrossPermissions.Current.RequestPermissionsAsync(new[] { Permission.Location });\nstatus = results[Permission.Location];\n}\n}\n</pre>\n\n<p><a href=\"https://i.stack.imgur.com/7Qcoh.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/7Qcoh.png\" alt=\"enter image description here\"></a></p>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1683206236,"post_id":76172299,"comment_id":134333346,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/76172299/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":28486212,"reputation":1,"user_id":21799465,"display_name":"Brian Saitabau"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683196964,"creation_date":1683196964,"answer_id":76172299,"question_id":54736828,"body_markdown":"Go to setting manually and provide location access to your app since it is &quot;NOT ALLOWED&quot; by default","title":"WiFi getSSID() always returns &quot;&lt;unknown ssid&gt;&quot;","body":"<p>Go to setting manually and provide location access to your app since it is &quot;NOT ALLOWED&quot; by default</p>\n"},{"tags":[],"owner":{"account_id":21641464,"reputation":249,"user_id":15963607,"display_name":"veli"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1689321629,"creation_date":1689321629,"answer_id":76685787,"question_id":54736828,"body_markdown":"In addition to all answers, if your device&#39;s GPS is disabled, you may be faced with &lt;unknown ssid&gt; issue.\r\n\r\nSo, please enable your gps from the settings.","title":"WiFi getSSID() always returns &quot;&lt;unknown ssid&gt;&quot;","body":"<p>In addition to all answers, if your device's GPS is disabled, you may be faced with  issue.</p>\n<p>So, please enable your gps from the settings.</p>\n"}],"owner":{"account_id":130610,"reputation":10655,"user_id":329993,"accept_rate":84,"display_name":"moonlightcheese"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15617,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":54736996,"answer_count":4,"score":9,"last_activity_date":1689321629,"creation_date":1550431702,"question_id":54736828,"body_markdown":"This question has already been asked by many people, but the solution that worked for them is not working for me.  I have tested on Android 8.1 and Android 9.0 and cannot get the name of the SSID.\r\n\r\nBroadcast receiver for getting WiFi state changes:\r\n\r\n\tprivate final BroadcastReceiver mReceiver = new BroadcastReceiver() {\r\n\t\tpublic void onReceive(Context context, Intent intent) {\r\n\t\t\tString action = intent.getAction();\r\n\t\t\tif(intent.getAction().equals(WifiManager.WIFI_STATE_CHANGED_ACTION) ||\r\n\t\t\t\t\tintent.getAction().equals(ConnectivityManager.CONNECTIVITY_ACTION) ||\r\n\t\t\t\t\tintent.getAction().equals(WifiManager.SUPPLICANT_STATE_CHANGED_ACTION) ||\r\n\t\t\t\t\tintent.getAction().equals(WifiManager.SUPPLICANT_CONNECTION_CHANGE_ACTION) ||\r\n\t\t\t\t\tintent.getAction().equals(WifiManager.NETWORK_STATE_CHANGED_ACTION)) {\r\n\t\t\t\tsetWifiIndicator();\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\nThe receiver is registered `onCreate` and unregistered in `onDestroy`, which I think is proper, and I&#39;m seeing the log lines when the receiver is called.\r\n\r\nin `onCreate`:\r\n\r\n\tIntentFilter intentFilter = new IntentFilter();\r\n\tintentFilter.addAction(ScannerService.ACTION_READ_SCANNER);\r\n\tintentFilter.addAction(WifiManager.WIFI_STATE_CHANGED_ACTION);\r\n\tintentFilter.addAction(WifiManager.SUPPLICANT_CONNECTION_CHANGE_ACTION);\r\n\tintentFilter.addAction(WifiManager.NETWORK_STATE_CHANGED_ACTION);\r\n\tintentFilter.addAction(ConnectivityManager.CONNECTIVITY_ACTION);\r\n\tintentFilter.addAction(WifiManager.SUPPLICANT_STATE_CHANGED_ACTION);\r\n\tregisterReceiver(mReceiver, intentFilter);\r\n\tsetWifiIndicator();\r\n\r\n`setWifiIndicator` is implemented thusly:\r\n\r\n\tprivate void setWifiIndicator() {\r\n\t\tConnectivityManager connMgr = (ConnectivityManager)getSystemService(Context.CONNECTIVITY_SERVICE);\r\n\t\t//getApplicationContext solves memory leak issues prior to Android N (must use Application Context to get wifi system service.\r\n\t\tWifiManager wifiMgr = (WifiManager)getApplicationContext().getSystemService(Context.WIFI_SERVICE);\r\n\t\tImageView wifiIndicator = (ImageView)findViewById(R.id.wifi_indicator);\r\n\t\tTextView wifiSSID = (TextView)findViewById(R.id.wifi_ssid);\r\n\r\n\t\ttry {\r\n\t\t\tif (wifiMgr != null) {\r\n\t\t\t\tif (wifiMgr.isWifiEnabled()) {\r\n\t\t\t\t\t//wifi is enabled.  toggle on wifi indicator.\r\n\t\t\t\t\twifiIndicator.setImageResource(R.drawable.wifi_indicator);\r\n\t\t\t\t\tString ssid = wifiMgr.getConnectionInfo().getSSID();\r\n\t\t\t\t\tif (ssid != null) {\r\n\t\t\t\t\t\tLog.v(this.getClass().getSimpleName(), &quot;SSID: &quot; + ssid + &quot;  Supplicant State: &quot; + info.getSupplicantState());\r\n\t\t\t\t\t\twifiSSID.setText(ssid);\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\t//wifi is disabled.  toggle off wifi indicator.\r\n\t\t\t\t\twifiSSID.setText(&quot;&quot;);\r\n\r\n\t\t\t\t\t//check for 3G\r\n\t\t\t\t\tNetworkInfo mobileInfo = connMgr.getNetworkInfo(ConnectivityManager.TYPE_MOBILE);\r\n\t\t\t\t\tif (mobileInfo != null &amp;&amp; mobileInfo.getState().equals(NetworkInfo.State.CONNECTED)) {\r\n\t\t\t\t\t\twifiIndicator.setImageResource(R.drawable.cellular_indicator);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\twifiIndicator.setImageResource(R.drawable.down_indicator);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\t//check for 3G\r\n\t\t\t\tNetworkInfo mobileInfo = connMgr.getNetworkInfo(ConnectivityManager.TYPE_MOBILE);\r\n\t\t\t\tif (mobileInfo != null &amp;&amp; mobileInfo.getState().equals(NetworkInfo.State.CONNECTED)) {\r\n\t\t\t\t\twifiIndicator.setImageResource(R.drawable.cellular_indicator);\r\n\t\t\t\t} else {\r\n\t\t\t\t\twifiIndicator.setImageResource(R.drawable.down_indicator);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t} catch(Exception e) {\r\n\t\t\t//catching anything thrown in this block just so it doesn&#39;t crash the program unnecessarily\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t}\r\n\r\nMy app already had permission for `ACCESS_COARSE_LOCATION` but I aslo added `ACCESS_FINE_LOCATION` just in case.  `getSSID()` is till returning `&lt;unknown ssid&gt;`.\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot;/&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_WIFI_STATE&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.CHANGE_WIFI_STATE&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_COARSE_LOCATION&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_FINE_LOCATION&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.BLUETOOTH&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.BLUETOOTH_ADMIN&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.CAMERA&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.GET_TASKS&quot; /&gt;\r\n\r\nPerhaps it has to do with compile target SDK?  I&#39;m really clueless here.\r\n\r\ngradle file:\r\n\r\napply plugin: &#39;com.android.application&#39;\r\n    \r\n    android {\r\n        compileSdkVersion 28\r\n        defaultConfig {\r\n            applicationId &quot;com.noneofyour.business&quot;\r\n            minSdkVersion 15\r\n            targetSdkVersion 28\r\n            versionCode 59\r\n            versionName &quot;1.44&quot;\r\n            testInstrumentationRunner &quot;android.support.test.runner.AndroidJUnitRunner&quot;\r\n        }\r\n        buildTypes {\r\n            release {\r\n                minifyEnabled false\r\n                proguardFiles getDefaultProguardFile(&#39;proguard-android.txt&#39;), &#39;proguard-rules.pro&#39;\r\n            }\r\n        }\r\n    }\r\n    \r\n    dependencies {\r\n        implementation fileTree(include: [&#39;*.jar&#39;], dir: &#39;libs&#39;)\r\n        implementation &#39;com.android.support:appcompat-v7:28.0.0&#39;\r\n        testImplementation &#39;junit:junit:4.12&#39;\r\n        androidTestImplementation &#39;com.android.support.test:runner:1.0.2&#39;\r\n        androidTestImplementation &#39;com.android.support.test.espresso:espresso-core:3.0.2&#39;\r\n        implementation files(&#39;libs/android.jar&#39;)\r\n    }","title":"WiFi getSSID() always returns &quot;&lt;unknown ssid&gt;&quot;","body":"<p>This question has already been asked by many people, but the solution that worked for them is not working for me.  I have tested on Android 8.1 and Android 9.0 and cannot get the name of the SSID.</p>\n\n<p>Broadcast receiver for getting WiFi state changes:</p>\n\n<pre><code>private final BroadcastReceiver mReceiver = new BroadcastReceiver() {\n    public void onReceive(Context context, Intent intent) {\n        String action = intent.getAction();\n        if(intent.getAction().equals(WifiManager.WIFI_STATE_CHANGED_ACTION) ||\n                intent.getAction().equals(ConnectivityManager.CONNECTIVITY_ACTION) ||\n                intent.getAction().equals(WifiManager.SUPPLICANT_STATE_CHANGED_ACTION) ||\n                intent.getAction().equals(WifiManager.SUPPLICANT_CONNECTION_CHANGE_ACTION) ||\n                intent.getAction().equals(WifiManager.NETWORK_STATE_CHANGED_ACTION)) {\n            setWifiIndicator();\n        }\n    }\n};\n</code></pre>\n\n<p>The receiver is registered <code>onCreate</code> and unregistered in <code>onDestroy</code>, which I think is proper, and I'm seeing the log lines when the receiver is called.</p>\n\n<p>in <code>onCreate</code>:</p>\n\n<pre><code>IntentFilter intentFilter = new IntentFilter();\nintentFilter.addAction(ScannerService.ACTION_READ_SCANNER);\nintentFilter.addAction(WifiManager.WIFI_STATE_CHANGED_ACTION);\nintentFilter.addAction(WifiManager.SUPPLICANT_CONNECTION_CHANGE_ACTION);\nintentFilter.addAction(WifiManager.NETWORK_STATE_CHANGED_ACTION);\nintentFilter.addAction(ConnectivityManager.CONNECTIVITY_ACTION);\nintentFilter.addAction(WifiManager.SUPPLICANT_STATE_CHANGED_ACTION);\nregisterReceiver(mReceiver, intentFilter);\nsetWifiIndicator();\n</code></pre>\n\n<p><code>setWifiIndicator</code> is implemented thusly:</p>\n\n<pre><code>private void setWifiIndicator() {\n    ConnectivityManager connMgr = (ConnectivityManager)getSystemService(Context.CONNECTIVITY_SERVICE);\n    //getApplicationContext solves memory leak issues prior to Android N (must use Application Context to get wifi system service.\n    WifiManager wifiMgr = (WifiManager)getApplicationContext().getSystemService(Context.WIFI_SERVICE);\n    ImageView wifiIndicator = (ImageView)findViewById(R.id.wifi_indicator);\n    TextView wifiSSID = (TextView)findViewById(R.id.wifi_ssid);\n\n    try {\n        if (wifiMgr != null) {\n            if (wifiMgr.isWifiEnabled()) {\n                //wifi is enabled.  toggle on wifi indicator.\n                wifiIndicator.setImageResource(R.drawable.wifi_indicator);\n                String ssid = wifiMgr.getConnectionInfo().getSSID();\n                if (ssid != null) {\n                    Log.v(this.getClass().getSimpleName(), \"SSID: \" + ssid + \"  Supplicant State: \" + info.getSupplicantState());\n                    wifiSSID.setText(ssid);\n                }\n            } else {\n                //wifi is disabled.  toggle off wifi indicator.\n                wifiSSID.setText(\"\");\n\n                //check for 3G\n                NetworkInfo mobileInfo = connMgr.getNetworkInfo(ConnectivityManager.TYPE_MOBILE);\n                if (mobileInfo != null &amp;&amp; mobileInfo.getState().equals(NetworkInfo.State.CONNECTED)) {\n                    wifiIndicator.setImageResource(R.drawable.cellular_indicator);\n                } else {\n                    wifiIndicator.setImageResource(R.drawable.down_indicator);\n                }\n            }\n        } else {\n            //check for 3G\n            NetworkInfo mobileInfo = connMgr.getNetworkInfo(ConnectivityManager.TYPE_MOBILE);\n            if (mobileInfo != null &amp;&amp; mobileInfo.getState().equals(NetworkInfo.State.CONNECTED)) {\n                wifiIndicator.setImageResource(R.drawable.cellular_indicator);\n            } else {\n                wifiIndicator.setImageResource(R.drawable.down_indicator);\n            }\n        }\n    } catch(Exception e) {\n        //catching anything thrown in this block just so it doesn't crash the program unnecessarily\n        e.printStackTrace();\n    }\n}\n</code></pre>\n\n<p>My app already had permission for <code>ACCESS_COARSE_LOCATION</code> but I aslo added <code>ACCESS_FINE_LOCATION</code> just in case.  <code>getSSID()</code> is till returning <code>&lt;unknown ssid&gt;</code>.</p>\n\n<pre><code>&lt;uses-permission android:name=\"android.permission.INTERNET\"/&gt;\n&lt;uses-permission android:name=\"android.permission.ACCESS_WIFI_STATE\" /&gt;\n&lt;uses-permission android:name=\"android.permission.ACCESS_NETWORK_STATE\" /&gt;\n&lt;uses-permission android:name=\"android.permission.CHANGE_WIFI_STATE\" /&gt;\n&lt;uses-permission android:name=\"android.permission.ACCESS_COARSE_LOCATION\" /&gt;\n&lt;uses-permission android:name=\"android.permission.ACCESS_FINE_LOCATION\" /&gt;\n&lt;uses-permission android:name=\"android.permission.BLUETOOTH\" /&gt;\n&lt;uses-permission android:name=\"android.permission.BLUETOOTH_ADMIN\" /&gt;\n&lt;uses-permission android:name=\"android.permission.CAMERA\" /&gt;\n&lt;uses-permission android:name=\"android.permission.WRITE_EXTERNAL_STORAGE\" /&gt;\n&lt;uses-permission android:name=\"android.permission.GET_TASKS\" /&gt;\n</code></pre>\n\n<p>Perhaps it has to do with compile target SDK?  I'm really clueless here.</p>\n\n<p>gradle file:</p>\n\n<p>apply plugin: 'com.android.application'</p>\n\n<pre><code>android {\n    compileSdkVersion 28\n    defaultConfig {\n        applicationId \"com.noneofyour.business\"\n        minSdkVersion 15\n        targetSdkVersion 28\n        versionCode 59\n        versionName \"1.44\"\n        testInstrumentationRunner \"android.support.test.runner.AndroidJUnitRunner\"\n    }\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n        }\n    }\n}\n\ndependencies {\n    implementation fileTree(include: ['*.jar'], dir: 'libs')\n    implementation 'com.android.support:appcompat-v7:28.0.0'\n    testImplementation 'junit:junit:4.12'\n    androidTestImplementation 'com.android.support.test:runner:1.0.2'\n    androidTestImplementation 'com.android.support.test.espresso:espresso-core:3.0.2'\n    implementation files('libs/android.jar')\n}\n</code></pre>\n"},{"tags":["java","jdbc","connection-pooling","spring-boot-chaos-monkey","multi-az"],"owner":{"account_id":16997137,"reputation":65,"user_id":12295283,"display_name":"nickz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":0,"score":-1,"last_activity_date":1689321500,"creation_date":1689321500,"question_id":76685771,"body_markdown":"I have been doing multiAz chaos testing and while running the delay of a particular zone (latency injection) I see the response time increased to too much. Since we have 3 availability zones and we are delaying only a single one, we expect response time to increase but not to 50 secs since other zones are still up.\r\n\r\nI have tried tweaking connectionPool properties like maxActive and minIdle connections but that didn&#39;t help.\r\n\r\nWhat could be the possible issue and what approach should I take going forward?","title":"JDBC connection taking too long to read","body":"<p>I have been doing multiAz chaos testing and while running the delay of a particular zone (latency injection) I see the response time increased to too much. Since we have 3 availability zones and we are delaying only a single one, we expect response time to increase but not to 50 secs since other zones are still up.</p>\n<p>I have tried tweaking connectionPool properties like maxActive and minIdle connections but that didn't help.</p>\n<p>What could be the possible issue and what approach should I take going forward?</p>\n"},{"tags":["java","spring-boot","spring-webflux"],"answers":[{"tags":[],"owner":{"account_id":19430343,"reputation":111,"user_id":14210942,"display_name":"Preet"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1689321319,"creation_date":1689321319,"answer_id":76685751,"question_id":76684388,"body_markdown":"NOTE: I am only trying to explain you the concept. You may find more technical reasoning on other answers.\r\n\r\nThe idea behind writing any method as a reactive method is that its computation involves Thread waits, like a DB call or an HTTP request.\r\nIf your service method is expected to perform such operations where in you need not block your thread until you receive the data, you can write such operations in a reactive manner.\r\n\r\nNow to answer your question, assuming you will be using a reactive DB library to make the DB call, your DAO will be returning an instance of `Mono&lt;T&gt;` or `Flux&lt;T&gt;`, that needs to be subscribed to and only then it would execute.\r\n\r\nSo ideally, YES, you should return the `Mono&lt;T&gt;` or `Flux&lt;T&gt;` instances back until your controller &lt;br&gt;or you can call `.block()` which I would not recommend you to, since it would fail the purpose of writing the reactive code &lt;br&gt;or `.subscribe()` that would execute the task in a separate Thread if you do not expect the results of this operation in current Thread like pushing a message to queue.","title":"Do I need to use Mono or Flux as return type of all methods from the Router to the Repository when working with Flux for propper reactive web service?","body":"<p>NOTE: I am only trying to explain you the concept. You may find more technical reasoning on other answers.</p>\n<p>The idea behind writing any method as a reactive method is that its computation involves Thread waits, like a DB call or an HTTP request.\nIf your service method is expected to perform such operations where in you need not block your thread until you receive the data, you can write such operations in a reactive manner.</p>\n<p>Now to answer your question, assuming you will be using a reactive DB library to make the DB call, your DAO will be returning an instance of <code>Mono&lt;T&gt;</code> or <code>Flux&lt;T&gt;</code>, that needs to be subscribed to and only then it would execute.</p>\n<p>So ideally, YES, you should return the <code>Mono&lt;T&gt;</code> or <code>Flux&lt;T&gt;</code> instances back until your controller <br>or you can call <code>.block()</code> which I would not recommend you to, since it would fail the purpose of writing the reactive code <br>or <code>.subscribe()</code> that would execute the task in a separate Thread if you do not expect the results of this operation in current Thread like pushing a message to queue.</p>\n"}],"owner":{"account_id":11883644,"reputation":310,"user_id":8696664,"display_name":"NameTopSecret"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":485,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1689321319,"creation_date":1689302640,"question_id":76684388,"body_markdown":"I want to develop a reactive web server application with Spring WebFlux so my backend can have the most efficient handling of multiple requests and the other benefits of the reactive programming, as they say that it can use one or few threads to handle a lot of requests from the client, different from the traditional Spring Web application that uses one thread for each request.\r\n\r\nSo let&#39;s say I have 3 layers on my architecture: The router and the handler (that would be my rest controllers), the service (that contains all the businesss logic) and the repository (that handles the access to the database).\r\n\r\nI know my router and handler have to work with and return Mono/Flux to be reactive. But my question is: for my application to be fully reactive, do I need to work with and return Mono/Flux type all the way from the router and handler layer, to the service layer, to the repository layer? Or can my application still accomplish that by other means and use Mono/Flux only on the router and handler layer?","title":"Do I need to use Mono or Flux as return type of all methods from the Router to the Repository when working with Flux for propper reactive web service?","body":"<p>I want to develop a reactive web server application with Spring WebFlux so my backend can have the most efficient handling of multiple requests and the other benefits of the reactive programming, as they say that it can use one or few threads to handle a lot of requests from the client, different from the traditional Spring Web application that uses one thread for each request.</p>\n<p>So let's say I have 3 layers on my architecture: The router and the handler (that would be my rest controllers), the service (that contains all the businesss logic) and the repository (that handles the access to the database).</p>\n<p>I know my router and handler have to work with and return Mono/Flux to be reactive. But my question is: for my application to be fully reactive, do I need to work with and return Mono/Flux type all the way from the router and handler layer, to the service layer, to the repository layer? Or can my application still accomplish that by other means and use Mono/Flux only on the router and handler layer?</p>\n"},{"tags":["java","android","firebase","google-cloud-firestore"],"comments":[{"owner":{"account_id":72426,"reputation":573804,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"score":0,"creation_date":1689290558,"post_id":76683176,"comment_id":135196510,"body_markdown":"I&#39;m not sure I understand the problem/question. The use case is clear, but what isn&#39;t working about the code you shared? Is there any error message? If you&#39;re asking how to implement the specific query, can you show what you tried for that specific query - so including filtering on all fields you want to filter on?","body":"I&#39;m not sure I understand the problem/question. The use case is clear, but what isn&#39;t working about the code you shared? Is there any error message? If you&#39;re asking how to implement the specific query, can you show what you tried for that specific query - so including filtering on all fields you want to filter on?"},{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1689314852,"post_id":76683176,"comment_id":135198583,"body_markdown":"Please edit your question and add the information Frank asked for, and please also respond using @.","body":"Please edit your question and add the information Frank asked for, and please also respond using @."},{"owner":{"account_id":29012930,"reputation":1,"user_id":22224027,"display_name":"Kaushalya Vishwanath"},"score":0,"creation_date":1689319848,"post_id":76683176,"comment_id":135199457,"body_markdown":"@FrankvanPuffelen Really sorry for my bad explanation. I have edited the question. I want to implement that query.  Thank you...","body":"@FrankvanPuffelen Really sorry for my bad explanation. I have edited the question. I want to implement that query.  Thank you..."},{"owner":{"account_id":29012930,"reputation":1,"user_id":22224027,"display_name":"Kaushalya Vishwanath"},"score":0,"creation_date":1689319907,"post_id":76683176,"comment_id":135199469,"body_markdown":"@AlexMamo I have edited the question. What I want to do is Implement the query... Thanks...","body":"@AlexMamo I have edited the question. What I want to do is Implement the query... Thanks..."},{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1689321354,"post_id":76683176,"comment_id":135199721,"body_markdown":"Did you create an [index](https://stackoverflow.com/questions/50305328/firestore-whereequalto-orderby-and-limit1-not-working)?","body":"Did you create an <a href=\"https://stackoverflow.com/questions/50305328/firestore-whereequalto-orderby-and-limit1-not-working\">index</a>?"},{"owner":{"account_id":29012930,"reputation":1,"user_id":22224027,"display_name":"Kaushalya Vishwanath"},"score":1,"creation_date":1689329449,"post_id":76683176,"comment_id":135201275,"body_markdown":"@AlexMamo It worked. Thanx a lot....","body":"@AlexMamo It worked. Thanx a lot...."}],"owner":{"account_id":29012930,"reputation":1,"user_id":22224027,"display_name":"Kaushalya Vishwanath"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1689335500,"answer_count":0,"score":0,"last_activity_date":1689320802,"creation_date":1689281681,"question_id":76683176,"body_markdown":"I am currently developing an app using android studio and Java. This is my first project. I have Implemented Firebase Firestore.\r\n\r\nI have a collection that contains my users as documents. For each record, there are field values containing their details. Some are Strings and Some are Numbers.\r\n\r\n**I have 3 exam types**.     *(please refer attached Images)*\r\n\r\n**I want to get all the Documents from a specific exam type**.\r\n\r\n **and order them according to their marks**. *(Marks is a number field)*\r\n\r\n**And I want the top 50 students to add to an ArrayList.**\r\n\r\n\r\n***How to implement that query?***\r\nThanx.\r\n\r\nI have tried this\r\n\r\n \r\n```\r\n CollectionReference colref= db.collection(&quot;Students&quot;);\r\n     colref.whereEqualTo(&quot;UpcomingExam&quot;, &quot;Grade 5&quot;).orderBy(&quot;Marks&quot;, Query.Direction.DESCENDING).limit(3)\r\n                .get()\r\n```\r\nArrayList was Empty. No code errors and also No results.\r\nThis is only a part of the code... adding to ArrayList with for loop and others working correctly... My only concern is the query.\r\n\r\n\r\n\r\n[Firebase Firestore db structure exam type 1][1]\r\n\r\n\r\n[exam type 2][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/OCZLJ.png\r\n  [2]: https://i.stack.imgur.com/wKC35.png","title":"Filter Firebase documents with multiple fields","body":"<p>I am currently developing an app using android studio and Java. This is my first project. I have Implemented Firebase Firestore.</p>\n<p>I have a collection that contains my users as documents. For each record, there are field values containing their details. Some are Strings and Some are Numbers.</p>\n<p><strong>I have 3 exam types</strong>.     <em>(please refer attached Images)</em></p>\n<p><strong>I want to get all the Documents from a specific exam type</strong>.</p>\n<p><strong>and order them according to their marks</strong>. <em>(Marks is a number field)</em></p>\n<p><strong>And I want the top 50 students to add to an ArrayList.</strong></p>\n<p><em><strong>How to implement that query?</strong></em>\nThanx.</p>\n<p>I have tried this</p>\n<pre><code> CollectionReference colref= db.collection(&quot;Students&quot;);\n     colref.whereEqualTo(&quot;UpcomingExam&quot;, &quot;Grade 5&quot;).orderBy(&quot;Marks&quot;, Query.Direction.DESCENDING).limit(3)\n                .get()\n</code></pre>\n<p>ArrayList was Empty. No code errors and also No results.\nThis is only a part of the code... adding to ArrayList with for loop and others working correctly... My only concern is the query.</p>\n<p><a href=\"https://i.stack.imgur.com/OCZLJ.png\" rel=\"nofollow noreferrer\">Firebase Firestore db structure exam type 1</a></p>\n<p><a href=\"https://i.stack.imgur.com/wKC35.png\" rel=\"nofollow noreferrer\">exam type 2</a></p>\n"},{"tags":["java","audio","wav","recording"],"answers":[{"comments":[{"owner":{"account_id":13135798,"reputation":11,"user_id":9488823,"display_name":"apknusel"},"score":0,"creation_date":1602081349,"post_id":64233763,"comment_id":113608047,"body_markdown":"arecord --format=S16_LE --max-file-time=60 --rate=16000 --file-type=wav test.wav","body":"arecord --format=S16_LE --max-file-time=60 --rate=16000 --file-type=wav test.wav"}],"tags":[],"owner":{"account_id":13135798,"reputation":11,"user_id":9488823,"display_name":"apknusel"},"comment_count":1,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1602018247,"creation_date":1602018247,"answer_id":64233763,"question_id":64194039,"body_markdown":"You could have a .wav file that is what you consider &quot;silence&quot; and compare it to the other .wav file to see if they have the same frequency.","title":"Recognize wav files with silence in Java","body":"<p>You could have a .wav file that is what you consider &quot;silence&quot; and compare it to the other .wav file to see if they have the same frequency.</p>\n"},{"comments":[{"owner":{"account_id":761868,"reputation":890,"user_id":784587,"accept_rate":54,"display_name":"Rougher"},"score":0,"creation_date":1602052055,"post_id":64237555,"comment_id":113593663,"body_markdown":"Hi Jeff. It&#39;s my command that I use: arecord --format=S16_LE --max-file-time=60 --rate=16000 --file-type=wav  test.wav","body":"Hi Jeff. It&#39;s my command that I use: arecord --format=S16_LE --max-file-time=60 --rate=16000 --file-type=wav  test.wav"}],"tags":[],"owner":{"account_id":6141709,"reputation":1016,"user_id":4788928,"display_name":"Jeff Bennett"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1602048023,"creation_date":1602047214,"answer_id":64237555,"question_id":64194039,"body_markdown":"Well, the short answer is you&#39;ll want to scan the .WAV data and do a min/max value on it.  A &quot;silent&quot; file the values should essentially all be 0.\r\n\r\nThe longer answer is that you&#39;ll want to understand the .WAV format, which you can find described here (http://soundfile.sapp.org/doc/WaveFormat/).  You can probably skip over the first 44 bytes (RIFF, &#39;fmt&#39;) to get down to the data, then start looking at the bytes.   The &#39;bits-per-sample&#39; value from the header _might_ be important, as 16-bit samples would mean you&#39;d need to consolidate 2 &#39;bytes&#39; together to get a single sample.  But, even so, both bytes would be 0 for a silent, 16-bit sample file.  Ditto for NumChannels - in theory you should understand it, but again, both should be 0 for true &#39;silent&#39;.  If all the data is &#39;0&#39;, it&#39;s silent.\r\n\r\n&quot;Silent&quot; is a bit ambiguous.  Above, I was strict and assumed it meant true &#39;0&#39; only.  However, in a silent room, there would still be very low levels of background ambient noise.  In that case, you&#39;d need to be a bit more forgiving about the comparison.  e.g. calculate a min/max for each sample, and insure that the range is within some tolerance.  It can still be determined, but it just adds code.\r\n\r\nFor completeness:\r\n\r\n    public boolean isSilent(byte[] info) {\r\n        for (int idx = 44; idx &lt; info.length; ++idx) {\r\n            if (info[idx] != 0)\r\n                return false;\r\n        }\r\n        return true;\r\n    }","title":"Recognize wav files with silence in Java","body":"<p>Well, the short answer is you'll want to scan the .WAV data and do a min/max value on it.  A &quot;silent&quot; file the values should essentially all be 0.</p>\n<p>The longer answer is that you'll want to understand the .WAV format, which you can find described here (<a href=\"http://soundfile.sapp.org/doc/WaveFormat/\" rel=\"nofollow noreferrer\">http://soundfile.sapp.org/doc/WaveFormat/</a>).  You can probably skip over the first 44 bytes (RIFF, 'fmt') to get down to the data, then start looking at the bytes.   The 'bits-per-sample' value from the header <em>might</em> be important, as 16-bit samples would mean you'd need to consolidate 2 'bytes' together to get a single sample.  But, even so, both bytes would be 0 for a silent, 16-bit sample file.  Ditto for NumChannels - in theory you should understand it, but again, both should be 0 for true 'silent'.  If all the data is '0', it's silent.</p>\n<p>&quot;Silent&quot; is a bit ambiguous.  Above, I was strict and assumed it meant true '0' only.  However, in a silent room, there would still be very low levels of background ambient noise.  In that case, you'd need to be a bit more forgiving about the comparison.  e.g. calculate a min/max for each sample, and insure that the range is within some tolerance.  It can still be determined, but it just adds code.</p>\n<p>For completeness:</p>\n<pre><code>public boolean isSilent(byte[] info) {\n    for (int idx = 44; idx &lt; info.length; ++idx) {\n        if (info[idx] != 0)\n            return false;\n    }\n    return true;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4821763,"reputation":964,"user_id":3892260,"accept_rate":50,"display_name":"user3892260"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689320768,"creation_date":1689320768,"answer_id":76685680,"question_id":64194039,"body_markdown":"i wrote a function which seems to do a really good job in detecting silence vs. non-silence:\r\n\r\n     private boolean isSilent(byte[] byteArray) {\r\n        IntBuffer intBuf = ByteBuffer.wrap(byteArray).order(ByteOrder.BIG_ENDIAN).asIntBuffer();\r\n        int[] array = new int[intBuf.remaining()];\r\n        intBuf.get(array);\r\n        StandardDeviation sd = new StandardDeviation();\r\n        double[] doubles = Arrays.stream(array).asDoubleStream().toArray();\r\n        double stddev = sd.evaluate(doubles);\r\n        logger.info(&quot;stddev: {}&quot;, stddev);\r\n        return !(stddev &gt; 10000000D);\r\n    }\r\n\r\nbasically analyzes the sound and if it finds small standard deviation moves, then it presumes it is &quot;mostly&quot; quiet, and if the stddev moves are larger, it presume that it is not silent.  the differential between &quot;silent&quot; or &quot;quiet&quot;   and ones with sound is fairly large. i found that a value of over around 10^6 or above is indicative of there being no silence in the audio clip.\r\n","title":"Recognize wav files with silence in Java","body":"<p>i wrote a function which seems to do a really good job in detecting silence vs. non-silence:</p>\n<pre><code> private boolean isSilent(byte[] byteArray) {\n    IntBuffer intBuf = ByteBuffer.wrap(byteArray).order(ByteOrder.BIG_ENDIAN).asIntBuffer();\n    int[] array = new int[intBuf.remaining()];\n    intBuf.get(array);\n    StandardDeviation sd = new StandardDeviation();\n    double[] doubles = Arrays.stream(array).asDoubleStream().toArray();\n    double stddev = sd.evaluate(doubles);\n    logger.info(&quot;stddev: {}&quot;, stddev);\n    return !(stddev &gt; 10000000D);\n}\n</code></pre>\n<p>basically analyzes the sound and if it finds small standard deviation moves, then it presumes it is &quot;mostly&quot; quiet, and if the stddev moves are larger, it presume that it is not silent.  the differential between &quot;silent&quot; or &quot;quiet&quot;   and ones with sound is fairly large. i found that a value of over around 10^6 or above is indicative of there being no silence in the audio clip.</p>\n"}],"owner":{"account_id":761868,"reputation":890,"user_id":784587,"accept_rate":54,"display_name":"Rougher"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":722,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":64237555,"answer_count":3,"score":1,"last_activity_date":1689320768,"creation_date":1601810903,"question_id":64194039,"body_markdown":"I need a function in JAVA, something like this:\r\n\r\nInput: .wav file (or byte[] fileBytes)\r\nOutput: true/false (the file consists of silence only)\r\n\r\nWhat is the best way to do it?\r\n\r\nThank you.\r\n\r\n**UPDATE:**\r\n1. The command that I use for recording:\r\n \r\n\r\n    arecord --format=S16_LE --max-file-time=60 --rate=16000 --file-type=wav randomvalue_i.wav\r\n\r\n2. Silent = no audio at all","title":"Recognize wav files with silence in Java","body":"<p>I need a function in JAVA, something like this:</p>\n<p>Input: .wav file (or byte[] fileBytes)\nOutput: true/false (the file consists of silence only)</p>\n<p>What is the best way to do it?</p>\n<p>Thank you.</p>\n<p><strong>UPDATE:</strong></p>\n<ol>\n<li><p>The command that I use for recording:</p>\n<p>arecord --format=S16_LE --max-file-time=60 --rate=16000 --file-type=wav randomvalue_i.wav</p>\n</li>\n<li><p>Silent = no audio at all</p>\n</li>\n</ol>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":7858,"page":310,"page_size":100}
