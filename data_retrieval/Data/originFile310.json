{"items":[{"tags":["java","maven","junit","java-8","java-17"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1689276718,"post_id":76682673,"comment_id":135194637,"body_markdown":"please post the full pom file here....","body":"please post the full pom file here...."}],"owner":{"account_id":29012551,"reputation":11,"user_id":22223734,"display_name":"Atak"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":225,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1689303447,"creation_date":1689276575,"question_id":76682673,"body_markdown":"Upgrading a project from jdk 8 to jdk 17.. When I run mvn clean install on a project, it fails with the error &quot;class file for org.junit.rules.TestRule not found.&quot; There are no direct imports of this junit class within the directory that is failing, and the TestRule interface doesnt even seem to be used within the entire service. The junit dependency was defined in the pom.xml for the project. \r\n\r\n```\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;junit&lt;/groupId&gt;\r\n    &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n    &lt;version&gt;4.12&lt;/version&gt;\r\n    &lt;scope&gt;test&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nand the line of the failure doesn&#39;t seem very related: mongodExecutable.withExposedPorts(port);\r\n\r\nSome other dependencies: \r\n \r\nMaven compiler plugin is v3.5.1. \r\norg.testcontainers dependency at v1.16.3\r\n\r\n\r\nHave tried altering junit versioning in both files, as well as updating the surefire dependency to 3.0.0-M5 which I saw on another post. Have searched for possible deprecation in the libraries within the file that fails, as well as conflicts between older versions of dependencies/plugins and jdk 17.","title":"&quot;class file for org.junit.rules.TestRule not found&quot; Despite Junit being defined in pom.xml","body":"<p>Upgrading a project from jdk 8 to jdk 17.. When I run mvn clean install on a project, it fails with the error &quot;class file for org.junit.rules.TestRule not found.&quot; There are no direct imports of this junit class within the directory that is failing, and the TestRule interface doesnt even seem to be used within the entire service. The junit dependency was defined in the pom.xml for the project.</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;junit&lt;/groupId&gt;\n    &lt;artifactId&gt;junit&lt;/artifactId&gt;\n    &lt;version&gt;4.12&lt;/version&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>and the line of the failure doesn't seem very related: mongodExecutable.withExposedPorts(port);</p>\n<p>Some other dependencies:</p>\n<p>Maven compiler plugin is v3.5.1.\norg.testcontainers dependency at v1.16.3</p>\n<p>Have tried altering junit versioning in both files, as well as updating the surefire dependency to 3.0.0-M5 which I saw on another post. Have searched for possible deprecation in the libraries within the file that fails, as well as conflicts between older versions of dependencies/plugins and jdk 17.</p>\n"},{"tags":["java","hibernate","hql"],"answers":[{"tags":[],"owner":{"account_id":131213,"reputation":47334,"user_id":331052,"display_name":"Affe"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1279299923,"creation_date":1279299923,"answer_id":3267254,"question_id":3267138,"body_markdown":"Not sure what you mean by wanting the functionality of &#39;any&#39; rather than &#39;in.&#39;  Every DBMS I know treats them as synonymous.\r\n\r\n= ANY is not allowed for lists in MySQL, only for subqueries.  Ostensibly you have your dialect set to MySQL and Hibernate knows this?\r\n\r\nhttp://dev.mysql.com/doc/refman/5.5/en/any-in-some-subqueries.html\r\n\r\n&gt; IN and = ANY are not synonyms when\r\n&gt; used with an expression list. IN can\r\n&gt; take an expression list, but = ANY\r\n&gt; cannot. See Section 11.3.2,\r\n&gt; “Comparison Functions and Operators”.","title":"Hibernate HQL Query : How to properly use ANY function in where clause?","body":"<p>Not sure what you mean by wanting the functionality of 'any' rather than 'in.'  Every DBMS I know treats them as synonymous.</p>\n\n<p>= ANY is not allowed for lists in MySQL, only for subqueries.  Ostensibly you have your dialect set to MySQL and Hibernate knows this?</p>\n\n<p><a href=\"http://dev.mysql.com/doc/refman/5.5/en/any-in-some-subqueries.html\" rel=\"nofollow noreferrer\">http://dev.mysql.com/doc/refman/5.5/en/any-in-some-subqueries.html</a></p>\n\n<blockquote>\n  <p>IN and = ANY are not synonyms when\n  used with an expression list. IN can\n  take an expression list, but = ANY\n  cannot. See Section 11.3.2,\n  “Comparison Functions and Operators”.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":26957,"reputation":564361,"user_id":70604,"display_name":"Pascal Thivent"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1279317437,"creation_date":1279317437,"answer_id":3269149,"question_id":3267138,"body_markdown":"As far as I know, `= ANY` is equivalent to `IN` (and I think they will be transformed into the same queries by the optimizer). From the PostgreSQL documentation:\r\n\r\n&gt; ### [9.16.4. ANY/SOME][1]\r\n&gt; \r\n&gt;     expression operator ANY (subquery)\r\n&gt;     expression operator SOME (subquery)\r\n&gt; \r\n&gt; The right-hand side is a parenthesized\r\n&gt; subquery, which must return exactly\r\n&gt; one column. The left-hand expression\r\n&gt; is evaluated and compared to each row\r\n&gt; of the subquery result using the given\r\n&gt; `operator`, which must yield a Boolean\r\n&gt; result. The result of `ANY` is &quot;true&quot;\r\n&gt; if any true result is obtained. The\r\n&gt; result is &quot;false&quot; if no true result is\r\n&gt; found (including the special case\r\n&gt; where the subquery returns no rows).\r\n&gt; \r\n&gt; `SOME` is a synonym for `ANY`. **`IN` is\r\n&gt; equivalent to `= ANY`**.\r\n\r\nSo I don&#39;t think using `= ANY` will solve your problem anyway. \r\n\r\nOf course, I don&#39;t have the context but are you sure that performing more than 2^15 `OR` comparisons really makes sense?\r\n\r\n  [1]: http://www.postgresql.org/docs/8.2/static/functions-subquery.html#AEN13969","title":"Hibernate HQL Query : How to properly use ANY function in where clause?","body":"<p>As far as I know, <code>= ANY</code> is equivalent to <code>IN</code> (and I think they will be transformed into the same queries by the optimizer). From the PostgreSQL documentation:</p>\n\n<blockquote>\n  <h3><a href=\"http://www.postgresql.org/docs/8.2/static/functions-subquery.html#AEN13969\" rel=\"nofollow noreferrer\">9.16.4. ANY/SOME</a></h3>\n\n<pre><code>expression operator ANY (subquery)\nexpression operator SOME (subquery)\n</code></pre>\n  \n  <p>The right-hand side is a parenthesized\n  subquery, which must return exactly\n  one column. The left-hand expression\n  is evaluated and compared to each row\n  of the subquery result using the given\n  <code>operator</code>, which must yield a Boolean\n  result. The result of <code>ANY</code> is \"true\"\n  if any true result is obtained. The\n  result is \"false\" if no true result is\n  found (including the special case\n  where the subquery returns no rows).</p>\n  \n  <p><code>SOME</code> is a synonym for <code>ANY</code>. <strong><code>IN</code> is\n  equivalent to <code>= ANY</code></strong>.</p>\n</blockquote>\n\n<p>So I don't think using <code>= ANY</code> will solve your problem anyway. </p>\n\n<p>Of course, I don't have the context but are you sure that performing more than 2^15 <code>OR</code> comparisons really makes sense?</p>\n"}],"owner":{"account_id":67159,"reputation":81,"user_id":196672,"display_name":"shlsevencee"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9303,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":2,"score":5,"last_activity_date":1689302858,"creation_date":1279298859,"question_id":3267138,"body_markdown":"I&#39;m struggling to understand my error in an HQL query:\r\n\r\n    public List&lt;Pats&gt; getIds(List&lt;String&gt; patIds) {\r\n        Session session = getSession();\r\n        String hql = &quot;from OurPats where patId = any (:patIds)&quot;;\r\n        // String hql = &quot;from OurPats where patId in (:patIds)&quot;;\r\n        return session.createQuery(hql).setParameterList(&quot;patIds&quot;, patIds).list();\r\n    }\r\n\r\n...the commented out line works properly, but I want the functionality of the non-working ANY comparison as patIds.size() can be greater than 2^15 (causing postgresql to break).\r\n\r\nJudging from http://docs.jboss.org/hibernate/core/3.3/reference/en/html/queryhql.html the ANY function should work. In other forum questions people say not to use the elements function as is stipulated in the above link (I&#39;ve tried with elements and I get an IDENT error). The above code produces an org.hibernate.hql.ast.QuerySyntaxException: unexpected token: : error.\r\n\r\nAny ideas? Thanks for help.","title":"Hibernate HQL Query : How to properly use ANY function in where clause?","body":"<p>I'm struggling to understand my error in an HQL query:</p>\n<pre><code>public List&lt;Pats&gt; getIds(List&lt;String&gt; patIds) {\n    Session session = getSession();\n    String hql = &quot;from OurPats where patId = any (:patIds)&quot;;\n    // String hql = &quot;from OurPats where patId in (:patIds)&quot;;\n    return session.createQuery(hql).setParameterList(&quot;patIds&quot;, patIds).list();\n}\n</code></pre>\n<p>...the commented out line works properly, but I want the functionality of the non-working ANY comparison as patIds.size() can be greater than 2^15 (causing postgresql to break).</p>\n<p>Judging from <a href=\"http://docs.jboss.org/hibernate/core/3.3/reference/en/html/queryhql.html\" rel=\"nofollow noreferrer\">http://docs.jboss.org/hibernate/core/3.3/reference/en/html/queryhql.html</a> the ANY function should work. In other forum questions people say not to use the elements function as is stipulated in the above link (I've tried with elements and I get an IDENT error). The above code produces an org.hibernate.hql.ast.QuerySyntaxException: unexpected token: : error.</p>\n<p>Any ideas? Thanks for help.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":401843,"reputation":89768,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1689305169,"post_id":76684349,"comment_id":135197663,"body_markdown":"NB: The linked-to answer is the first hit when you search the web for javax/xml/bind/DatatypeConverter - search the web before putting in the effort of typing up a question, saves you a lot of time :)","body":"NB: The linked-to answer is the first hit when you search the web for javax/xml/bind/DatatypeConverter - search the web before putting in the effort of typing up a question, saves you a lot of time :)"}],"owner":{"account_id":14905866,"reputation":41,"user_id":10763101,"display_name":"Nguyễn Đức Th&#224;nh"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":9,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1689305123,"answer_count":0,"score":0,"last_activity_date":1689301824,"creation_date":1689301824,"question_id":76684349,"body_markdown":"I have a test project to connect SQL Server but I have an exception\r\n\r\n**MY code:**\r\n```\r\npackage service;\r\nimport java.sql.Connection;\r\nimport java.sql.DatabaseMetaData;\r\nimport java.sql.DriverManager;\r\nimport java.sql.SQLException;\r\nimport java.util.logging.Level;\r\nimport java.util.logging.Logger;\r\npublic class DBconnect { //Kết nối\r\n    private static final String USERNAME = &quot;sa&quot;;\r\n    private static final String PASSWORD = &quot;123456a@&quot;;\r\n    private static final String SERVER = &quot;localhost&quot;;\r\n    private static final String PORT = &quot;1433&quot;;\r\n    private static final String DATABASE_NAME = &quot;TestConnect&quot;;\r\n    private static final boolean USING_SSL = false;\r\n    private static String CONNECT_STRING;\r\n   \r\n    static {\r\n        try {\r\n            Class.forName(&quot;com.microsoft.sqlserver.jdbc.SQLServerDriver&quot;);\r\n           \r\n            StringBuilder connectStringBuilder = new StringBuilder();\r\n            connectStringBuilder.append(&quot;jdbc:sqlserver://&quot;)\r\n                    .append(SERVER).append(&quot;:&quot;).append(PORT).append(&quot;;&quot;)\r\n                    .append(&quot;databaseName=&quot;).append(DATABASE_NAME).append(&quot;;&quot;)\r\n                    .append(&quot;user=&quot;).append(USERNAME).append(&quot;;&quot;)\r\n                    .append(&quot;password=&quot;).append(PASSWORD).append(&quot;;&quot;)\r\n                    ;\r\n            if (USING_SSL) {\r\n                connectStringBuilder.append(&quot;encrypt=true;trustServerCertificate=true;&quot;);\r\n            }\r\n            CONNECT_STRING = connectStringBuilder.toString();\r\n            System.out.println(&quot;Connect String c&#243; dạng: &quot; + CONNECT_STRING);\r\n        } catch (ClassNotFoundException ex) {\r\n            Logger.getLogger(DBconnect.class.getName()).log(Level.SEVERE, null, ex);\r\n        }\r\n    }\r\n   \r\n    public static Connection getConnection()  {\r\n         try {\r\n             return DriverManager.getConnection(CONNECT_STRING);\r\n         } catch (SQLException ex) {\r\n             ex.printStackTrace();\r\n             Logger.getLogger(DBconnect.class.getName()).log(Level.SEVERE, null, ex);\r\n             return null;\r\n         }\r\n    }\r\n   \r\n    public static void main(String[] args) throws Exception {\r\n        Connection conn = getConnection();\r\n        DatabaseMetaData dbmt = conn.getMetaData();\r\n        System.out.println(dbmt.getDriverName());\r\n        System.out.println(dbmt.getDatabaseProductName());\r\n        System.out.println(dbmt.getDatabaseProductVersion());\r\n    }\r\n}\r\n```\r\n\r\n**Exception:**\r\n\r\n    \r\nException in thread &quot;main&quot; java.lang.NoClassDefFoundError: javax/xml/bind/DatatypeConverter\r\n\tat com.microsoft.sqlserver.jdbc.SQLServerConnection.sendLogon(SQLServerConnection.java:4098)\r\n\tat com.microsoft.sqlserver.jdbc.SQLServerConnection.logon(SQLServerConnection.java:3160)\r\n\tat com.microsoft.sqlserver.jdbc.SQLServerConnection.access$100(SQLServerConnection.java:43)\r\n\tat com.microsoft.sqlserver.jdbc.SQLServerConnection$LogonCommand.doExecute(SQLServerConnection.java:3123)\r\n\tat com.microsoft.sqlserver.jdbc.TDSCommand.execute(IOBuffer.java:7505)\r\n\tat com.microsoft.sqlserver.jdbc.SQLServerConnection.executeCommand(SQLServerConnection.java:2445)\r\n\tat com.microsoft.sqlserver.jdbc.SQLServerConnection.connectHelper(SQLServerConnection.java:1981)\r\n\tat com.microsoft.sqlserver.jdbc.SQLServerConnection.login(SQLServerConnection.java:1628)\r\n\tat com.microsoft.sqlserver.jdbc.SQLServerConnection.connectInternal(SQLServerConnection.java:1459)\r\n\tat com.microsoft.sqlserver.jdbc.SQLServerConnection.connect(SQLServerConnection.java:773)\r\n\tat com.microsoft.sqlserver.jdbc.SQLServerDriver.connect(SQLServerDriver.java:1168)\r\n\tat java.sql/java.sql.DriverManager.getConnection(DriverManager.java:683)\r\n\tat java.sql/java.sql.DriverManager.getConnection(DriverManager.java:253)\r\n\tat service.DBconnect.getConnection(DBconnect.java:40)\r\n\tat service.DBconnect.main(DBconnect.java:49)\r\nCaused by: java.lang.ClassNotFoundException: javax.xml.bind.DatatypeConverter\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\r\n\tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\r\n\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)\r\n\t... 15 more\r\n\r\nHow can i fix it?","title":"Java with Ant: Error when connect SQL Server","body":"<p>I have a test project to connect SQL Server but I have an exception</p>\n<p><strong>MY code:</strong></p>\n<pre><code>package service;\nimport java.sql.Connection;\nimport java.sql.DatabaseMetaData;\nimport java.sql.DriverManager;\nimport java.sql.SQLException;\nimport java.util.logging.Level;\nimport java.util.logging.Logger;\npublic class DBconnect { //Kết nối\n    private static final String USERNAME = &quot;sa&quot;;\n    private static final String PASSWORD = &quot;123456a@&quot;;\n    private static final String SERVER = &quot;localhost&quot;;\n    private static final String PORT = &quot;1433&quot;;\n    private static final String DATABASE_NAME = &quot;TestConnect&quot;;\n    private static final boolean USING_SSL = false;\n    private static String CONNECT_STRING;\n   \n    static {\n        try {\n            Class.forName(&quot;com.microsoft.sqlserver.jdbc.SQLServerDriver&quot;);\n           \n            StringBuilder connectStringBuilder = new StringBuilder();\n            connectStringBuilder.append(&quot;jdbc:sqlserver://&quot;)\n                    .append(SERVER).append(&quot;:&quot;).append(PORT).append(&quot;;&quot;)\n                    .append(&quot;databaseName=&quot;).append(DATABASE_NAME).append(&quot;;&quot;)\n                    .append(&quot;user=&quot;).append(USERNAME).append(&quot;;&quot;)\n                    .append(&quot;password=&quot;).append(PASSWORD).append(&quot;;&quot;)\n                    ;\n            if (USING_SSL) {\n                connectStringBuilder.append(&quot;encrypt=true;trustServerCertificate=true;&quot;);\n            }\n            CONNECT_STRING = connectStringBuilder.toString();\n            System.out.println(&quot;Connect String có dạng: &quot; + CONNECT_STRING);\n        } catch (ClassNotFoundException ex) {\n            Logger.getLogger(DBconnect.class.getName()).log(Level.SEVERE, null, ex);\n        }\n    }\n   \n    public static Connection getConnection()  {\n         try {\n             return DriverManager.getConnection(CONNECT_STRING);\n         } catch (SQLException ex) {\n             ex.printStackTrace();\n             Logger.getLogger(DBconnect.class.getName()).log(Level.SEVERE, null, ex);\n             return null;\n         }\n    }\n   \n    public static void main(String[] args) throws Exception {\n        Connection conn = getConnection();\n        DatabaseMetaData dbmt = conn.getMetaData();\n        System.out.println(dbmt.getDriverName());\n        System.out.println(dbmt.getDatabaseProductName());\n        System.out.println(dbmt.getDatabaseProductVersion());\n    }\n}\n</code></pre>\n<p><strong>Exception:</strong></p>\n<p>Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: javax/xml/bind/DatatypeConverter\nat com.microsoft.sqlserver.jdbc.SQLServerConnection.sendLogon(SQLServerConnection.java:4098)\nat com.microsoft.sqlserver.jdbc.SQLServerConnection.logon(SQLServerConnection.java:3160)\nat com.microsoft.sqlserver.jdbc.SQLServerConnection.access$100(SQLServerConnection.java:43)\nat com.microsoft.sqlserver.jdbc.SQLServerConnection$LogonCommand.doExecute(SQLServerConnection.java:3123)\nat com.microsoft.sqlserver.jdbc.TDSCommand.execute(IOBuffer.java:7505)\nat com.microsoft.sqlserver.jdbc.SQLServerConnection.executeCommand(SQLServerConnection.java:2445)\nat com.microsoft.sqlserver.jdbc.SQLServerConnection.connectHelper(SQLServerConnection.java:1981)\nat com.microsoft.sqlserver.jdbc.SQLServerConnection.login(SQLServerConnection.java:1628)\nat com.microsoft.sqlserver.jdbc.SQLServerConnection.connectInternal(SQLServerConnection.java:1459)\nat com.microsoft.sqlserver.jdbc.SQLServerConnection.connect(SQLServerConnection.java:773)\nat com.microsoft.sqlserver.jdbc.SQLServerDriver.connect(SQLServerDriver.java:1168)\nat java.sql/java.sql.DriverManager.getConnection(DriverManager.java:683)\nat java.sql/java.sql.DriverManager.getConnection(DriverManager.java:253)\nat service.DBconnect.getConnection(DBconnect.java:40)\nat service.DBconnect.main(DBconnect.java:49)\nCaused by: java.lang.ClassNotFoundException: javax.xml.bind.DatatypeConverter\nat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\nat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\nat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)\n... 15 more</p>\n<p>How can i fix it?</p>\n"},{"tags":["java","android","google-cast","android-media3"],"comments":[{"owner":{"account_id":7830156,"reputation":192,"user_id":5920500,"display_name":"Troy Heninger"},"score":0,"creation_date":1699915029,"post_id":76684314,"comment_id":136588524,"body_markdown":"That demo code is not using media 3, so have you updated it to media 3?","body":"That demo code is not using media 3, so have you updated it to media 3?"}],"owner":{"account_id":27692449,"reputation":11,"user_id":21138893,"display_name":"Malu"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":105,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689301783,"creation_date":1689301270,"question_id":76684314,"body_markdown":"I am developing an Android app using Cast in media3 v1.1.0. The CastPlayer automatically moves to the next media item when the playback of the current media item finishes. When there is only one media item in the media queue, the media becomes invisible and the control UI on the Android device becomes unresponsive when playback finishes. However, I want the CastPlayer to pause at the end of playback so that the user can replay the media item. What should I do?\r\n\r\nMy code is essentially similar to the cast demo (https://github.com/androidx/media/tree/release/demos/cast).\r\n\r\nI am using the default receiver (androidx.media3.cast.DefaultCastOptionsProvider).\r\n\r\nI attempted to override the onPlaybackStateChanged method in the Player.Listener interface. However, since this callback is invoked after the playback has already ended on the receiver side and the media has become invisible, editing this callback was ineffective.","title":"CastPlayer: How to pause at the end of a media item, not to proceed to the next","body":"<p>I am developing an Android app using Cast in media3 v1.1.0. The CastPlayer automatically moves to the next media item when the playback of the current media item finishes. When there is only one media item in the media queue, the media becomes invisible and the control UI on the Android device becomes unresponsive when playback finishes. However, I want the CastPlayer to pause at the end of playback so that the user can replay the media item. What should I do?</p>\n<p>My code is essentially similar to the cast demo (<a href=\"https://github.com/androidx/media/tree/release/demos/cast\" rel=\"nofollow noreferrer\">https://github.com/androidx/media/tree/release/demos/cast</a>).</p>\n<p>I am using the default receiver (androidx.media3.cast.DefaultCastOptionsProvider).</p>\n<p>I attempted to override the onPlaybackStateChanged method in the Player.Listener interface. However, since this callback is invoked after the playback has already ended on the receiver side and the media has become invisible, editing this callback was ineffective.</p>\n"},{"tags":["java","string","special-characters"],"comments":[{"owner":{"account_id":8670,"reputation":74291,"user_id":15721,"accept_rate":74,"display_name":"Will"},"score":3,"creation_date":1259139448,"post_id":1795402,"comment_id":1683215,"body_markdown":"What&#39;s it for?  I have a nasty feeling this is some kind of field sanitiser to, say, prevent SQL injection attacks on a website.  Oh no!  This would not be the right way to go about that...","body":"What&#39;s it for?  I have a nasty feeling this is some kind of field sanitiser to, say, prevent SQL injection attacks on a website.  Oh no!  This would not be the right way to go about that..."},{"owner":{"account_id":184519,"reputation":22782,"user_id":420613,"accept_rate":87,"display_name":"Muhammad Imran Tariq"},"score":3,"creation_date":1324042220,"post_id":1795402,"comment_id":10571039,"body_markdown":"you need to use regular expression.","body":"you need to use regular expression."}],"answers":[{"tags":[],"owner":{"account_id":39549,"reputation":1408,"user_id":114139,"accept_rate":100,"display_name":"Michael Zilbermann"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1684697975,"creation_date":1259137106,"answer_id":1795413,"question_id":1795402,"body_markdown":"What do you exactly call &quot;special character&quot;? If you mean something like *&quot;anything that is not alphanumeric&quot;* you can use `org.apache.commons.lang.StringUtils` class (methods `IsAlpha/IsNumeric/IsWhitespace/IsAsciiPrintable`).\r\n\r\nIf it is not so trivial, you can use a regex that defines the exact character list you accept and match the string against it.","title":"Check if a String contains a special character","body":"<p>What do you exactly call &quot;special character&quot;? If you mean something like <em>&quot;anything that is not alphanumeric&quot;</em> you can use <code>org.apache.commons.lang.StringUtils</code> class (methods <code>IsAlpha/IsNumeric/IsWhitespace/IsAsciiPrintable</code>).</p>\n<p>If it is not so trivial, you can use a regex that defines the exact character list you accept and match the string against it.</p>\n"},{"tags":[],"owner":{"account_id":30285,"reputation":55210,"user_id":82511,"accept_rate":71,"display_name":"djna"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1259137253,"creation_date":1259137253,"answer_id":1795420,"question_id":1795402,"body_markdown":"\r\n\r\nAll depends on exactly what you mean by &quot;special&quot;. In a regex you can specify\r\n\r\n - \\W  to mean non-alpahnumeric\r\n - \\p{Punct} to mean punctuation characters\r\n\r\nI suspect that the latter is what you mean. But if not use a [] list to specify exactly what you want.\r\n","title":"Check if a String contains a special character","body":"<p>All depends on exactly what you mean by \"special\". In a regex you can specify</p>\n\n<ul>\n<li>\\W  to mean non-alpahnumeric</li>\n<li>\\p{Punct} to mean punctuation characters</li>\n</ul>\n\n<p>I suspect that the latter is what you mean. But if not use a [] list to specify exactly what you want.</p>\n"},{"tags":[],"owner":{"account_id":36858,"reputation":113744,"user_id":105224,"accept_rate":73,"display_name":"Andreas Dolk"},"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1259137352,"creation_date":1259137352,"answer_id":1795424,"question_id":1795402,"body_markdown":"Have a look at the `java.lang.Character` class. It has some test methods and you may find one that fits your needs.\r\n\r\nExamples: `Character.isSpaceChar(c)` or `!Character.isJavaLetter(c)`","title":"Check if a String contains a special character","body":"<p>Have a look at the <code>java.lang.Character</code> class. It has some test methods and you may find one that fits your needs.</p>\n\n<p>Examples: <code>Character.isSpaceChar(c)</code> or <code>!Character.isJavaLetter(c)</code></p>\n"},{"tags":[],"owner":{"account_id":8670,"reputation":74291,"user_id":15721,"accept_rate":74,"display_name":"Will"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1259137477,"creation_date":1259137477,"answer_id":1795432,"question_id":1795402,"body_markdown":"Visit each character in the string to see if that character is in a blacklist of special characters; this is O(n*m).\r\n\r\nThe pseudo-code is:\r\n\r\n    for each char in string:\r\n      if char in blacklist:\r\n        ...\r\n\r\nThe complexity can be slightly improved by sorting the blacklist so that you can early-exit each check.  However, the string find function is probably native code, so this optimisation - which would be in Java byte-code - could well be slower.\r\n","title":"Check if a String contains a special character","body":"<p>Visit each character in the string to see if that character is in a blacklist of special characters; this is O(n*m).</p>\n\n<p>The pseudo-code is:</p>\n\n<pre><code>for each char in string:\n  if char in blacklist:\n    ...\n</code></pre>\n\n<p>The complexity can be slightly improved by sorting the blacklist so that you can early-exit each check.  However, the string find function is probably native code, so this optimisation - which would be in Java byte-code - could well be slower.</p>\n"},{"tags":[],"owner":{"account_id":4203,"reputation":1014,"user_id":6243,"accept_rate":70,"display_name":"Varun"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1259137513,"creation_date":1259137513,"answer_id":1795434,"question_id":1795402,"body_markdown":"First you have to exhaustively identify the special characters that you want to check.\r\n\r\nThen you can write a regular expression and use \r\n\r\n    public boolean matches(String regex)","title":"Check if a String contains a special character","body":"<p>First you have to exhaustively identify the special characters that you want to check.</p>\n\n<p>Then you can write a regular expression and use </p>\n\n<pre><code>public boolean matches(String regex)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":72905,"reputation":2523,"user_id":210258,"accept_rate":75,"display_name":"oliver31"},"down_vote_count":1,"up_vote_count":149,"is_accepted":false,"score":148,"last_activity_date":1322079844,"creation_date":1259137541,"answer_id":1795436,"question_id":1795402,"body_markdown":"    Pattern p = Pattern.compile(&quot;[^a-z0-9 ]&quot;, Pattern.CASE_INSENSITIVE);\r\n    Matcher m = p.matcher(&quot;I am a string&quot;);\r\n    boolean b = m.find();\r\n    \r\n    if (b)\r\n       System.out.println(&quot;There is a special character in my string&quot;);","title":"Check if a String contains a special character","body":"<pre><code>Pattern p = Pattern.compile(\"[^a-z0-9 ]\", Pattern.CASE_INSENSITIVE);\nMatcher m = p.matcher(\"I am a string\");\nboolean b = m.find();\n\nif (b)\n   System.out.println(\"There is a special character in my string\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":324587,"reputation":18467,"user_id":645226,"accept_rate":74,"display_name":"Bhushan"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1308188112,"creation_date":1308188112,"answer_id":6366219,"question_id":1795402,"body_markdown":"    Pattern p = Pattern.compile(&quot;[\\\\p{Alpha}]*[\\\\p{Punct}][\\\\p{Alpha}]*&quot;);\r\n    \t\tMatcher m = p.matcher(&quot;Afsff%esfsf098&quot;);\r\n    \t\tboolean b = m.matches();\r\n    \r\n    \t\tif (b == true)\r\n    \t\t   System.out.println(&quot;There is a sp. character in my string&quot;);\r\n    \t\telse\r\n    \t\t\tSystem.out.println(&quot;There is no sp. char.&quot;);","title":"Check if a String contains a special character","body":"<pre><code>Pattern p = Pattern.compile(\"[\\\\p{Alpha}]*[\\\\p{Punct}][\\\\p{Alpha}]*\");\n        Matcher m = p.matcher(\"Afsff%esfsf098\");\n        boolean b = m.matches();\n\n        if (b == true)\n           System.out.println(\"There is a sp. character in my string\");\n        else\n            System.out.println(\"There is no sp. char.\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":62111,"reputation":40153,"user_id":184730,"accept_rate":72,"display_name":"fastcodejava"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1308188710,"creation_date":1308188710,"answer_id":6366275,"question_id":1795402,"body_markdown":"If it matches regex `[a-zA-Z0-9 ]*` then there is not special characters in it.","title":"Check if a String contains a special character","body":"<p>If it matches regex <code>[a-zA-Z0-9 ]*</code> then there is not special characters in it.</p>\n"},{"tags":[],"owner":{"account_id":4392519,"reputation":337,"user_id":3580475,"display_name":"Ashish Sharma"},"down_vote_count":1,"up_vote_count":29,"is_accepted":false,"score":28,"last_activity_date":1568797464,"creation_date":1403770623,"answer_id":24425607,"question_id":1795402,"body_markdown":"You can use the following code to detect special character from string.\r\n\r\n    import java.util.regex.Matcher;\r\n    import java.util.regex.Pattern;\r\n    \r\n    public class DetectSpecial{ \r\n    public int getSpecialCharacterCount(String s) {\r\n         if (s == null || s.trim().isEmpty()) {\r\n        \t System.out.println(&quot;Incorrect format of string&quot;);\r\n             return 0;\r\n         }\r\n         Pattern p = Pattern.compile(&quot;[^A-Za-z0-9]&quot;);\r\n         Matcher m = p.matcher(s);\r\n        // boolean b = m.matches();\r\n         boolean b = m.find();\r\n         if (b)\r\n            System.out.println(&quot;There is a special character in my string &quot;);\r\n         else\r\n             System.out.println(&quot;There is no special char.&quot;);\r\n         return 0;\r\n     }\r\n    }\r\n","title":"Check if a String contains a special character","body":"<p>You can use the following code to detect special character from string.</p>\n\n<pre><code>import java.util.regex.Matcher;\nimport java.util.regex.Pattern;\n\npublic class DetectSpecial{ \npublic int getSpecialCharacterCount(String s) {\n     if (s == null || s.trim().isEmpty()) {\n         System.out.println(\"Incorrect format of string\");\n         return 0;\n     }\n     Pattern p = Pattern.compile(\"[^A-Za-z0-9]\");\n     Matcher m = p.matcher(s);\n    // boolean b = m.matches();\n     boolean b = m.find();\n     if (b)\n        System.out.println(\"There is a special character in my string \");\n     else\n         System.out.println(\"There is no special char.\");\n     return 0;\n }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1663778,"reputation":10555,"user_id":1564065,"accept_rate":44,"display_name":"Pir Fahim Shah"},"down_vote_count":0,"up_vote_count":29,"is_accepted":false,"score":29,"last_activity_date":1484657376,"creation_date":1484657376,"answer_id":41697673,"question_id":1795402,"body_markdown":"If you want to have LETTERS, SPECIAL CHARACTERS and NUMBERS in your password with at least 8 digit, then use this code, it is working perfectly\r\n\r\n    public static boolean Password_Validation(String password) \r\n\t{\r\n\t \r\n\t\tif(password.length()&gt;=8)\r\n\t\t{\r\n\t\t\tPattern letter = Pattern.compile(&quot;[a-zA-z]&quot;);\r\n\t\t\tPattern digit = Pattern.compile(&quot;[0-9]&quot;);\r\n\t\t\tPattern special = Pattern.compile (&quot;[!@#$%&amp;*()_+=|&lt;&gt;?{}\\\\[\\\\]~-]&quot;);\r\n\t\t\t//Pattern eight = Pattern.compile (&quot;.{8}&quot;);\r\n\t\t\t\r\n\t\t\t\r\n\t\t\t   Matcher hasLetter = letter.matcher(password);\r\n\t\t\t   Matcher hasDigit = digit.matcher(password);\r\n\t\t\t   Matcher hasSpecial = special.matcher(password);\r\n\t\t\t\r\n\t\t\t   return hasLetter.find() &amp;&amp; hasDigit.find() &amp;&amp; hasSpecial.find();\r\n\t\t\t     \r\n\t\t}\r\n\t\telse\r\n\t\t\treturn false;\r\n\t\t\r\n\t}","title":"Check if a String contains a special character","body":"<p>If you want to have LETTERS, SPECIAL CHARACTERS and NUMBERS in your password with at least 8 digit, then use this code, it is working perfectly</p>\n\n<pre><code>public static boolean Password_Validation(String password) \n{\n\n    if(password.length()&gt;=8)\n    {\n        Pattern letter = Pattern.compile(\"[a-zA-z]\");\n        Pattern digit = Pattern.compile(\"[0-9]\");\n        Pattern special = Pattern.compile (\"[!@#$%&amp;*()_+=|&lt;&gt;?{}\\\\[\\\\]~-]\");\n        //Pattern eight = Pattern.compile (\".{8}\");\n\n\n           Matcher hasLetter = letter.matcher(password);\n           Matcher hasDigit = digit.matcher(password);\n           Matcher hasSpecial = special.matcher(password);\n\n           return hasLetter.find() &amp;&amp; hasDigit.find() &amp;&amp; hasSpecial.find();\n\n    }\n    else\n        return false;\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10311188,"reputation":71,"user_id":7606979,"display_name":"saroj routray"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1487791329,"creation_date":1487791329,"answer_id":42400458,"question_id":1795402,"body_markdown":"//without using regular expression........\r\n\t\t\r\n\t\tString specialCharacters=&quot; !#$%&amp;&#39;()*+,-./:;&lt;=&gt;?@[]^_`{|}~0123456789&quot;;\r\n\t\tString name=&quot;3_ saroj@&quot;;\r\n\t\tString str2[]=name.split(&quot;&quot;);\r\n\t\t\r\n\t\tfor (int i=0;i&lt;str2.length;i++)\r\n\t\t{\r\n\t\tif (specialCharacters.contains(str2[i]))\r\n\t\t{\r\n\t\t\tSystem.out.println(&quot;true&quot;);\r\n\t\t\t//break;\r\n\t\t}\r\n\t\telse\r\n\t\t\tSystem.out.println(&quot;false&quot;);\r\n\t\t}","title":"Check if a String contains a special character","body":"<p>//without using regular expression........</p>\n\n<pre><code>    String specialCharacters=\" !#$%&amp;'()*+,-./:;&lt;=&gt;?@[]^_`{|}~0123456789\";\n    String name=\"3_ saroj@\";\n    String str2[]=name.split(\"\");\n\n    for (int i=0;i&lt;str2.length;i++)\n    {\n    if (specialCharacters.contains(str2[i]))\n    {\n        System.out.println(\"true\");\n        //break;\n    }\n    else\n        System.out.println(\"false\");\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10311188,"reputation":71,"user_id":7606979,"display_name":"saroj routray"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1487833031,"creation_date":1487831769,"answer_id":42408656,"question_id":1795402,"body_markdown":"//this is updated version of code that i posted\r\n/*\r\nThe isValidName Method will check whether the name passed as argument should not contain-\r\n1.null value or space\r\n2.any special character\r\n3.Digits (0-9)\r\nExplanation---\r\nHere str2 is String array variable which stores the the splited string of name that is passed as argument\r\nThe count variable will count the number of special character occurs\r\nThe method will return true if it satisfy all the condition\r\n*/\r\n\t\r\n    public boolean isValidName(String name)\r\n    {\r\n    \tString specialCharacters=&quot; !#$%&amp;&#39;()*+,-./:;&lt;=&gt;?@[]^_`{|}~0123456789&quot;;\r\n    \tString str2[]=name.split(&quot;&quot;);\r\n    \tint count=0;\r\n    \tfor (int i=0;i&lt;str2.length;i++)\r\n    \t{\r\n    \t\tif (specialCharacters.contains(str2[i]))\r\n    \t\t{\r\n    \t\t\tcount++;\r\n    \t\t}\r\n    \t}\t\t\r\n    \t\r\n    \tif (name!=null &amp;&amp; count==0 )\r\n    \t{\r\n    \t\treturn true;\r\n    \t}\r\n    \telse\r\n    \t{\r\n    \t\treturn false;\r\n    \t}\r\n    }\r\n    \t","title":"Check if a String contains a special character","body":"<p>//this is updated version of code that i posted\n/*\nThe isValidName Method will check whether the name passed as argument should not contain-\n1.null value or space\n2.any special character\n3.Digits (0-9)\nExplanation---\nHere str2 is String array variable which stores the the splited string of name that is passed as argument\nThe count variable will count the number of special character occurs\nThe method will return true if it satisfy all the condition\n*/</p>\n\n<pre><code>public boolean isValidName(String name)\n{\n    String specialCharacters=\" !#$%&amp;'()*+,-./:;&lt;=&gt;?@[]^_`{|}~0123456789\";\n    String str2[]=name.split(\"\");\n    int count=0;\n    for (int i=0;i&lt;str2.length;i++)\n    {\n        if (specialCharacters.contains(str2[i]))\n        {\n            count++;\n        }\n    }       \n\n    if (name!=null &amp;&amp; count==0 )\n    {\n        return true;\n    }\n    else\n    {\n        return false;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user4423251"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1493117177,"creation_date":1493117177,"answer_id":43608531,"question_id":1795402,"body_markdown":"in the line String str2[]=name.split(&quot;&quot;); give an extra character in Array... \r\nLet me explain by example\r\n&quot;Aditya&quot;.split(&quot;&quot;) would return [, A, d,i,t,y,a] You will have a extra character in your Array... \t \t\r\nThe &quot;Aditya&quot;.split(&quot;&quot;) does not work as expected by saroj routray you will get an extra character in String =&gt; [, A, d,i,t,y,a]. \r\n\r\nI have modified it,see below code it work as expected \r\n\r\n  \r\n     public static boolean isValidName(String inputString) {\r\n        \r\n        String specialCharacters = &quot; !#$%&amp;&#39;()*+,-./:;&lt;=&gt;?@[]^_`{|}~0123456789&quot;;\r\n        String[] strlCharactersArray = new String[inputString.length()];\r\n        for (int i = 0; i &lt; inputString.length(); i++) {\r\n             strlCharactersArray[i] = Character\r\n                .toString(inputString.charAt(i));\r\n        }\r\n        //now  strlCharactersArray[i]=[A, d, i, t, y, a]\r\n        int count = 0;\r\n        for (int i = 0; i &lt;  strlCharactersArray.length; i++) {\r\n            if (specialCharacters.contains( strlCharactersArray[i])) {\r\n                count++;\r\n            }\r\n\r\n        }\r\n        \r\n        if (inputString != null &amp;&amp; count == 0) {\r\n            return true;\r\n        } else {\r\n            return false;\r\n        }\r\n    }","title":"Check if a String contains a special character","body":"<p>in the line String str2[]=name.split(\"\"); give an extra character in Array... \nLet me explain by example\n\"Aditya\".split(\"\") would return [, A, d,i,t,y,a] You will have a extra character in your Array...<br>\nThe \"Aditya\".split(\"\") does not work as expected by saroj routray you will get an extra character in String => [, A, d,i,t,y,a]. </p>\n\n<p>I have modified it,see below code it work as expected </p>\n\n<pre><code> public static boolean isValidName(String inputString) {\n\n    String specialCharacters = \" !#$%&amp;'()*+,-./:;&lt;=&gt;?@[]^_`{|}~0123456789\";\n    String[] strlCharactersArray = new String[inputString.length()];\n    for (int i = 0; i &lt; inputString.length(); i++) {\n         strlCharactersArray[i] = Character\n            .toString(inputString.charAt(i));\n    }\n    //now  strlCharactersArray[i]=[A, d, i, t, y, a]\n    int count = 0;\n    for (int i = 0; i &lt;  strlCharactersArray.length; i++) {\n        if (specialCharacters.contains( strlCharactersArray[i])) {\n            count++;\n        }\n\n    }\n\n    if (inputString != null &amp;&amp; count == 0) {\n        return true;\n    } else {\n        return false;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2863618,"reputation":391,"user_id":2458337,"accept_rate":20,"display_name":"Antroid"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1547708224,"creation_date":1505243102,"answer_id":46183703,"question_id":1795402,"body_markdown":"This worked for me:\r\n\r\n    String s = &quot;string&quot;;\r\n    if (Pattern.matches(&quot;[a-zA-Z]+&quot;, s)) {\r\n     System.out.println(&quot;clear&quot;);\r\n    } else {\r\n     System.out.println(&quot;buzz&quot;);\r\n    }","title":"Check if a String contains a special character","body":"<p>This worked for me:</p>\n\n<pre><code>String s = \"string\";\nif (Pattern.matches(\"[a-zA-Z]+\", s)) {\n System.out.println(\"clear\");\n} else {\n System.out.println(\"buzz\");\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14538124,"reputation":1,"user_id":10500777,"display_name":"Raj"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1547708189,"creation_date":1539467644,"answer_id":52797688,"question_id":1795402,"body_markdown":"Convert the string into char array with all the letters in lower case:\r\n\r\n    char c[] = str.toLowerCase().toCharArray();\r\n\r\nThen you can use `Character.isLetterOrDigit(c[index])` to find out which index has special characters.","title":"Check if a String contains a special character","body":"<p>Convert the string into char array with all the letters in lower case:</p>\n\n<pre><code>char c[] = str.toLowerCase().toCharArray();\n</code></pre>\n\n<p>Then you can use <code>Character.isLetterOrDigit(c[index])</code> to find out which index has special characters.</p>\n"},{"tags":[],"owner":{"account_id":9157919,"reputation":39,"user_id":6810294,"display_name":"Suraj Mahli"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1547715366,"creation_date":1547706531,"answer_id":54230178,"question_id":1795402,"body_markdown":"Use java.util.regex.Pattern class&#39;s static method  matches(regex, String obj)&lt;br&gt;\r\nregex : characters in lower and upper case &amp; digits between 0-9 &lt;br&gt;\r\nString obj : String object you want to check either it contain special character or not.&lt;br&gt;&lt;br&gt;\r\nIt returns boolean value true if only contain characters and numbers, otherwise returns boolean value false&lt;br&gt;&lt;br&gt;\r\nExample.&lt;br&gt;&lt;br&gt;\r\n\r\n    String isin = &quot;12GBIU34RT12&quot;;&lt;br&gt;\r\n    if(Pattern.matches(&quot;[a-zA-Z0-9]+&quot;, isin)&lt;br&gt;{&lt;br&gt;\r\n       &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;System.out.println(&quot;Valid isin&quot;);&lt;br&gt;\r\n    }else{&lt;br&gt;\r\n       &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;System.out.println(&quot;Invalid isin&quot;);&lt;br&gt;\r\n    }\r\n\r\n","title":"Check if a String contains a special character","body":"<p>Use java.util.regex.Pattern class's static method  matches(regex, String obj)<br>\nregex : characters in lower and upper case &amp; digits between 0-9 <br>\nString obj : String object you want to check either it contain special character or not.<br><br>\nIt returns boolean value true if only contain characters and numbers, otherwise returns boolean value false<br><br>\nExample.<br><br></p>\n\n<pre><code>String isin = \"12GBIU34RT12\";&lt;br&gt;\nif(Pattern.matches(\"[a-zA-Z0-9]+\", isin)&lt;br&gt;{&lt;br&gt;\n   &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;System.out.println(\"Valid isin\");&lt;br&gt;\n}else{&lt;br&gt;\n   &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;System.out.println(\"Invalid isin\");&lt;br&gt;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9038276,"reputation":528,"user_id":6733355,"display_name":"Jeanne vie"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1665954046,"creation_date":1572845026,"answer_id":58687604,"question_id":1795402,"body_markdown":"**This is tested in android 7.0 up to android 10.0 and it works**\r\n\r\nUse this code to check if string contains special character and numbers:\r\n\r\n  \r\n      name = firstname.getText().toString(); //name is the variable that holds the string value\r\n\r\n      Pattern special= Pattern.compile(&quot;[^a-z0-9 ]&quot;, Pattern.CASE_INSENSITIVE);\r\n      Pattern number = Pattern.compile(&quot;[0-9]&quot;, Pattern.CASE_INSENSITIVE);\r\n      Matcher matcher = special.matcher(name);\r\n      Matcher matcherNumber = number.matcher(name);\r\n      \r\n      boolean constainsSymbols = matcher.find();\r\n      boolean containsNumber = matcherNumber.find();\r\n\r\n      if(constainsSymbols){\r\n       //string contains special symbol/character\r\n      }\r\n      else if(containsNumber){\r\n       //string contains numbers\r\n      }\r\n      else{\r\n       //string doesn&#39;t contain special characters or numbers\r\n      }","title":"Check if a String contains a special character","body":"<p><strong>This is tested in android 7.0 up to android 10.0 and it works</strong></p>\n<p>Use this code to check if string contains special character and numbers:</p>\n<pre><code>  name = firstname.getText().toString(); //name is the variable that holds the string value\n\n  Pattern special= Pattern.compile(&quot;[^a-z0-9 ]&quot;, Pattern.CASE_INSENSITIVE);\n  Pattern number = Pattern.compile(&quot;[0-9]&quot;, Pattern.CASE_INSENSITIVE);\n  Matcher matcher = special.matcher(name);\n  Matcher matcherNumber = number.matcher(name);\n  \n  boolean constainsSymbols = matcher.find();\n  boolean containsNumber = matcherNumber.find();\n\n  if(constainsSymbols){\n   //string contains special symbol/character\n  }\n  else if(containsNumber){\n   //string contains numbers\n  }\n  else{\n   //string doesn't contain special characters or numbers\n  }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684727299,"creation_date":1684727299,"answer_id":76302927,"question_id":1795402,"body_markdown":"There are a few approaches you can take to determine if a string contains a set of specified characters.\r\n\r\nYou can use a regular expression pattern, specifically a character-class.\r\n\r\n```java\r\n&quot;example*&quot;.matches(&quot;.*?[&quot; + Pattern.quote(&quot;[]{}{)*|:&gt;&quot;) + &quot;].*&quot;);\r\n```\r\n\r\nOr, you can create a for-loop, which returns `true` if it finds a match.\r\n\r\n```java\r\nboolean contains(String string, char... characters) {\r\n    for (char characterA : string.toCharArray()) {\r\n        for (char characterB : characters) {\r\n            if (characterA == characterB)\r\n                return true;\r\n        }\r\n    }\r\n    return false;\r\n}\r\n```\r\n","title":"Check if a String contains a special character","body":"<p>There are a few approaches you can take to determine if a string contains a set of specified characters.</p>\n<p>You can use a regular expression pattern, specifically a character-class.</p>\n<pre class=\"lang-java prettyprint-override\"><code>&quot;example*&quot;.matches(&quot;.*?[&quot; + Pattern.quote(&quot;[]{}{)*|:&gt;&quot;) + &quot;].*&quot;);\n</code></pre>\n<p>Or, you can create a for-loop, which returns <code>true</code> if it finds a match.</p>\n<pre class=\"lang-java prettyprint-override\"><code>boolean contains(String string, char... characters) {\n    for (char characterA : string.toCharArray()) {\n        for (char characterB : characters) {\n            if (characterA == characterB)\n                return true;\n        }\n    }\n    return false;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":28818041,"reputation":13,"user_id":22071214,"display_name":"JoReyner"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689300703,"creation_date":1689300703,"answer_id":76684295,"question_id":1795402,"body_markdown":"Using .replaceAll() and comparing if the resulting string is the same as the original could be a possible method as well. \r\n\r\nFor example:\r\n    \r\n    specialCharRegex = &quot;[,=&#39;:;&gt;&lt;?/~`_.!@#^&amp;*]|\\\\[|\\\\]&quot;;\r\n    \r\n    if(str.equals(str.replaceAll(specialCharRegex, &quot;&quot;)){\r\n        System.out.println(str + &quot; does not contain special characters&quot;)\r\n    }\r\n    else{\r\n        System.out.println(str + &quot; contains special characters&quot;\r\n    }","title":"Check if a String contains a special character","body":"<p>Using .replaceAll() and comparing if the resulting string is the same as the original could be a possible method as well.</p>\n<p>For example:</p>\n<pre><code>specialCharRegex = &quot;[,=':;&gt;&lt;?/~`_.!@#^&amp;*]|\\\\[|\\\\]&quot;;\n\nif(str.equals(str.replaceAll(specialCharRegex, &quot;&quot;)){\n    System.out.println(str + &quot; does not contain special characters&quot;)\n}\nelse{\n    System.out.println(str + &quot; contains special characters&quot;\n}\n</code></pre>\n"}],"owner":{"account_id":571250,"reputation":981,"user_id":218402,"display_name":"blue"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":508232,"favorite_count":0,"down_vote_count":0,"up_vote_count":98,"answer_count":19,"score":98,"last_activity_date":1689300703,"creation_date":1259136904,"question_id":1795402,"body_markdown":"How do you check if a String contains a special character like: \r\n\r\n    [,],{,},{,),*,|,:,&gt;,\r\n","title":"Check if a String contains a special character","body":"<p>How do you check if a String contains a special character like: </p>\n\n<pre><code>[,],{,},{,),*,|,:,&gt;,\n</code></pre>\n"},{"tags":["java","minecraft"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1689365326,"post_id":76683946,"comment_id":135208666,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"owner":{"account_id":28319465,"reputation":1,"user_id":21655511,"display_name":"HowXu"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689300661,"creation_date":1689293022,"question_id":76683946,"body_markdown":"I wrote a simple coremod change to the hasItem method of the InventoryPlayer class. It&#39;s not that hard, but the problem is that Coremod&#39;s change to this class seems to be queued up right before the game. (That doesn&#39;t seem to work?) I wrote a simple event test and it worked out the same way. Then I wrote a Transformer to rewrite the getCommandSender function in the EntityPlayer class, and it worked. And from the log to see changes in   Launching wrapped minecraft {net. Minecraft. Client. The main}  , started after the main, but the change of InventoryPlayer ranked before entering the archive. Source code for https://github.com/HowXuVSCode/Core. I evaluated the replacement hasItem to always return false, but it returned true as soon as I entered the game...\r\n\r\nI checked Google but there&#39;s nothing to look at. And my English was poor, so it was difficult to find useful documents.Maybe I need some practical documentation, or maybe you can help me point out my silly mistakes. Thank you very much for your help in your busy schedule. I wish you a happy life!","title":"Minecraft 1.7.10 Coremod Modifications to InventoryPlayer","body":"<p>I wrote a simple coremod change to the hasItem method of the InventoryPlayer class. It's not that hard, but the problem is that Coremod's change to this class seems to be queued up right before the game. (That doesn't seem to work?) I wrote a simple event test and it worked out the same way. Then I wrote a Transformer to rewrite the getCommandSender function in the EntityPlayer class, and it worked. And from the log to see changes in   Launching wrapped minecraft {net. Minecraft. Client. The main}  , started after the main, but the change of InventoryPlayer ranked before entering the archive. Source code for <a href=\"https://github.com/HowXuVSCode/Core\" rel=\"nofollow noreferrer\">https://github.com/HowXuVSCode/Core</a>. I evaluated the replacement hasItem to always return false, but it returned true as soon as I entered the game...</p>\n<p>I checked Google but there's nothing to look at. And my English was poor, so it was difficult to find useful documents.Maybe I need some practical documentation, or maybe you can help me point out my silly mistakes. Thank you very much for your help in your busy schedule. I wish you a happy life!</p>\n"},{"tags":["java","selenium"],"comments":[{"owner":{"account_id":3758602,"reputation":10072,"user_id":3124333,"accept_rate":100,"display_name":"SiKing"},"score":0,"creation_date":1403020552,"post_id":24267413,"comment_id":37492279,"body_markdown":"Works fine for me. Something else must be going on. Post more code.","body":"Works fine for me. Something else must be going on. Post more code."},{"owner":{"account_id":1418594,"reputation":2009,"user_id":1343698,"display_name":"Furious Duck"},"score":0,"creation_date":1403021631,"post_id":24267413,"comment_id":37492894,"body_markdown":"Your approach seems to be fine. Post an HTML code sample, where you get your error please","body":"Your approach seems to be fine. Post an HTML code sample, where you get your error please"}],"answers":[{"tags":[],"owner":{"account_id":4610537,"reputation":124,"user_id":3738787,"display_name":"twisted_coder"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1689299240,"creation_date":1403022557,"answer_id":24268968,"question_id":24267413,"body_markdown":"Alternatively, can you try using Javascript Executor?\r\n\r\n    WebElement childElement = driver.findElement(By.id(&quot;someIdHere&quot;));\r\n    \r\n    WebElement parent = (WebElement) ((JavascriptExecutor) driver)\r\n    .executeScript(&quot;return arguments[0].parentNode;&quot;, childElement);","title":"How to get parent of WebElement","body":"<p>Alternatively, can you try using Javascript Executor?</p>\n<pre><code>WebElement childElement = driver.findElement(By.id(&quot;someIdHere&quot;));\n\nWebElement parent = (WebElement) ((JavascriptExecutor) driver)\n.executeScript(&quot;return arguments[0].parentNode;&quot;, childElement);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":157039,"reputation":27241,"user_id":374693,"accept_rate":79,"display_name":"JimEvans"},"down_vote_count":0,"up_vote_count":29,"is_accepted":false,"score":29,"last_activity_date":1403030557,"creation_date":1403030557,"answer_id":24271101,"question_id":24267413,"body_markdown":"There are a couple of ways you can accomplish this. If you insist on using XPath to do it, you need to add the context node to the locator, like this:\r\n\r\n    WebElement parentElement = childElement.findElement(By.xpath(&quot;./..&quot;));\r\n\r\nAlternatively, you can use the `JavascriptExecutor` interface, which might be slightly more performant. That would look like this:\r\n\r\n    // NOTE: broken into separate statements for clarity. Could be done as one statement.\r\n    JavascriptExecutor executor = (JavascriptExecutor)driver;\r\n    WebElement parentElement = (WebElement)executor.executeScript(&quot;return arguments[0].parentNode;&quot;, childElement);","title":"How to get parent of WebElement","body":"<p>There are a couple of ways you can accomplish this. If you insist on using XPath to do it, you need to add the context node to the locator, like this:</p>\n\n<pre><code>WebElement parentElement = childElement.findElement(By.xpath(\"./..\"));\n</code></pre>\n\n<p>Alternatively, you can use the <code>JavascriptExecutor</code> interface, which might be slightly more performant. That would look like this:</p>\n\n<pre><code>// NOTE: broken into separate statements for clarity. Could be done as one statement.\nJavascriptExecutor executor = (JavascriptExecutor)driver;\nWebElement parentElement = (WebElement)executor.executeScript(\"return arguments[0].parentNode;\", childElement);\n</code></pre>\n"}],"owner":{"account_id":1343574,"reputation":1526,"user_id":1284735,"accept_rate":62,"display_name":"petabyte"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41444,"favorite_count":0,"down_vote_count":0,"up_vote_count":17,"closed_date":1469121049,"answer_count":2,"score":17,"last_activity_date":1689299240,"creation_date":1403017898,"question_id":24267413,"body_markdown":"I&#39;ve tried \r\n\r\n    private WebElement getParent(final WebElement webElement) {\r\n        return webElement.findElement(By.xpath(&quot;..&quot;));\r\n    }\r\n\r\nBut I&#39;m getting:\r\n\r\n&gt; org.openqa.selenium.InvalidSelectorException: The given selector .. is\r\n&gt; either invalid or does not result in a WebElement. The following error\r\n&gt; occurred:&amp;#10;InvalidSelectorError: The result of the xpath expression\r\n&gt; &amp;quot;..&amp;quot; is: [object XrayWrapper [object HTMLDocument]]. It\r\n&gt; should be an element.&amp;#10;Command duration or timeout: 10\r\n&gt; milliseconds&amp;#10;For documentation on this error,\r\n\r\nIs there a way to get the parent of current element? Thanks","title":"How to get parent of WebElement","body":"<p>I've tried </p>\n\n<pre><code>private WebElement getParent(final WebElement webElement) {\n    return webElement.findElement(By.xpath(\"..\"));\n}\n</code></pre>\n\n<p>But I'm getting:</p>\n\n<blockquote>\n  <p>org.openqa.selenium.InvalidSelectorException: The given selector .. is\n  either invalid or does not result in a WebElement. The following error\n  occurred:&#10;InvalidSelectorError: The result of the xpath expression\n  &quot;..&quot; is: [object XrayWrapper [object HTMLDocument]]. It\n  should be an element.&#10;Command duration or timeout: 10\n  milliseconds&#10;For documentation on this error,</p>\n</blockquote>\n\n<p>Is there a way to get the parent of current element? Thanks</p>\n"},{"tags":["java","jsf-2","session-variables","tomcat8"],"comments":[{"owner":{"account_id":52822,"reputation":1088970,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"score":2,"creation_date":1689253690,"post_id":76678897,"comment_id":135189356,"body_markdown":"There&#39;s a conceptual misunderstanding. JSF **does not** manage sessions. The servlet container and the server(s) do (and actually also the client). You would still have had exactly the same problem when using a different servlet based framework than JSF. You need to reframe your question to focus on that instead. In the servlet end, the most common mistake causing the described symptoms is that the app is deployed on a cluster/cloud with session replication/failover and that the WAR isn&#39;t properly preconfigured for that.","body":"There&#39;s a conceptual misunderstanding. JSF <b>does not</b> manage sessions. The servlet container and the server(s) do (and actually also the client). You would still have had exactly the same problem when using a different servlet based framework than JSF. You need to reframe your question to focus on that instead. In the servlet end, the most common mistake causing the described symptoms is that the app is deployed on a cluster/cloud with session replication/failover and that the WAR isn&#39;t properly preconfigured for that."},{"owner":{"account_id":8786844,"reputation":1,"user_id":6568428,"display_name":"PsPro"},"score":0,"creation_date":1689295942,"post_id":76678897,"comment_id":135196914,"body_markdown":"But I’m not understanding the statement ‘when using a different servlet based framework than JSF’, the app is not using any other framework than JSF. And the deployment is also not on a cluster, but yes the application and the database are on different servers, one server for app and other is for DB. Can this also be problematic?","body":"But I’m not understanding the statement ‘when using a different servlet based framework than JSF’, the app is not using any other framework than JSF. And the deployment is also not on a cluster, but yes the application and the database are on different servers, one server for app and other is for DB. Can this also be problematic?"},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1689297369,"post_id":76678897,"comment_id":135197048,"body_markdown":"It means your question is about whatever container you&#39;re using, not JSF, so should be written and re-tagged accordingly. This seems perfectly clear to me.","body":"It means your question is about whatever container you&#39;re using, not JSF, so should be written and re-tagged accordingly. This seems perfectly clear to me."},{"owner":{"account_id":8786844,"reputation":1,"user_id":6568428,"display_name":"PsPro"},"score":0,"creation_date":1689312584,"post_id":76678897,"comment_id":135198324,"body_markdown":"Ok, thanks for the corrections. Can we discuss on the issue and any possible solution... if you&#39;ve any suggestions or something..","body":"Ok, thanks for the corrections. Can we discuss on the issue and any possible solution... if you&#39;ve any suggestions or something.."},{"owner":{"account_id":52822,"reputation":1088970,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"score":0,"creation_date":1689361936,"post_id":76678897,"comment_id":135208091,"body_markdown":"When you use a different framework than JSF then you would still have observed **exactly the same** problem of sessions not being maintained. Why is that? This is because JSF is **not** responsible for managing sessions. You need to take a step back and focus the problem at server/client level, not at JSF level. Your current question has all information about JSF but very little information about server/client config. All that information about JSF is completely irrelevant to the real problem. You need to rewrite your question. Now re-read the first comment. Do you understand it now?","body":"When you use a different framework than JSF then you would still have observed <b>exactly the same</b> problem of sessions not being maintained. Why is that? This is because JSF is <b>not</b> responsible for managing sessions. You need to take a step back and focus the problem at server/client level, not at JSF level. Your current question has all information about JSF but very little information about server/client config. All that information about JSF is completely irrelevant to the real problem. You need to rewrite your question. Now re-read the first comment. Do you understand it now?"},{"owner":{"account_id":8786844,"reputation":1,"user_id":6568428,"display_name":"PsPro"},"score":0,"creation_date":1689392099,"post_id":76678897,"comment_id":135210789,"body_markdown":"Got your point… let me have a thorough check with the server guys, will come up with the findings if something looks weird… Thank you so much for the suggestions!","body":"Got your point… let me have a thorough check with the server guys, will come up with the findings if something looks weird… Thank you so much for the suggestions!"},{"owner":{"account_id":8786844,"reputation":1,"user_id":6568428,"display_name":"PsPro"},"score":0,"creation_date":1692012468,"post_id":76678897,"comment_id":135563743,"body_markdown":"The issue got solved now. The problem is due to the proxy server. We reconfigured it and is solved now. Thanks for the suggestions!","body":"The issue got solved now. The problem is due to the proxy server. We reconfigured it and is solved now. Thanks for the suggestions!"}],"owner":{"account_id":8786844,"reputation":1,"user_id":6568428,"display_name":"PsPro"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689298327,"creation_date":1689247905,"question_id":76678897,"body_markdown":"We&#39;re having a very large web application, entirely built with JSF (2.0)/PrimeFaces (8.0). Running on remote Tomcat 8 server (Linux OS)\r\nWe are facing a very serious issue due to which our server logs are filling up enormously.\r\n\r\nThe issue is : A user, after login, while working actively on the application [Inactivity timeout (30 mins, default) not reached] like filling up a form, the session attributes are going null unexpectedly and on an Ajax call, filters intercept the request and check for username which is stored in session \r\ncreated at login, on getting username from session, it is giving `null` value and redirecting the user to login page.\r\n\r\nAnd when user logs in again, same issue. And in 3rd attempt it is working absolutely fine. (This is just an example, sometimes started working as expected in 2nd attempt)\r\n\r\nThis is happening randomly, not always. \r\n\r\nWe have checked entire code for `session.invalidate()` but no issues, it is written where it should be like on Primefaces IdleMonitor timeout (10mins) and on logout. Also checked for `.getSession(true)` but no issues, it is written where it should be. Not anywhere in between.\r\n\r\nWe are trying to get it solved for last 3 days but no success...\r\n\r\nBelow is the approach which we are using in our application for session management.\r\n\r\n**Login Bean**\r\n\r\n```\r\n@ManagedBean(name=&quot;login&quot;)\r\n@ViewScoped\r\n\r\npublic class LoginBean implements Serializable\r\n{\r\n\tprivate String username;\r\n\tprivate String password;\r\n\tString baseURL;\r\n\tpublic constructor()\r\n\t{\r\n\t\tHttpSession ss = (HttpSession) FacesContext.getCurrentInstance().getExternalContext().getSession(false);\r\n\t\tif(ss!=null)\r\n\t\t{\r\n\t\t     ss.invalidate();\r\n\t\t}\r\n\r\n\t\tbaseURL = //some https://url where the application is hosted.\r\n\t}\r\n\r\n\tpublic void login()\r\n\t{\r\n\t\t//login DAO to check for login success\r\n\t\tif(loginSuccess)\r\n\t\t{\r\n\t\t\tHttpSession ss = (HttpSession) FacesContext.getCurrentInstance().getExternalContext().getSession(false);\r\n\t\t\tif(ss!=null)\r\n\t\t\t{\r\n\t\t\t     ss.invalidate();\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tss = (HttpSession) FacesContext.getCurrentInstance().getExternalContext().getSession(true);\r\n\t\t\tss.setAttribute(&quot;username&quot;, username);\r\n\r\n\t\t\tPrimeFaces.current().executeScript(&quot;window.location.replace(&#39;&quot;+baseURL+&quot;homePage.xhtml&#39;);&quot;); // just to avoid navigation to login page using browser&#39;s back button\r\n\t\t}\r\n\t}\r\n}\r\n```\r\n\r\n\r\nAfter login, getting values from session on `homePage.xhtml`&#39;s associated bean, this way:\r\n\r\n```\r\n\r\n@ManagedBean(name=&quot;home&quot;)\r\n@ViewScoped\r\n\r\npublic class HomeBean implements Serializable\r\n{\r\n\tprivate String username;\r\n\t\r\n\tpublic constructor()\r\n\t{\r\n\t\tHttpSession ss = (HttpSession) FacesContext.getCurrentInstance().getExternalContext().getSession(false);\r\n\t\tusername = (String) ss.getAttribute(&quot;username&quot;);\r\n\t}\r\n}\r\n```\r\nThis way, we&#39;re accessing username from session in our entire application\r\n\r\n\r\n**Filter :**\r\n\r\n\r\n```\r\npublic class MyFilter implements Filter {\r\n\r\n\tString userName=&quot;&quot;;\r\n\t\r\n\t@Override\r\n\tpublic void destroy() {\r\n\t\t// TODO Auto-generated method stub\r\n\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void doFilter(ServletRequest request, ServletResponse response,\r\n\t\t\tFilterChain chain) throws IOException, ServletException {\r\n\r\n\t\tHttpServletRequest req=(HttpServletRequest) request;\r\n\t\tHttpServletResponse res=(HttpServletResponse) response;\r\n\r\n\t\tHttpSession session = req.getSession(false);\r\n\t\tuserName=(String) req.getSession().getAttribute(&quot;username&quot;);\r\n    \t\r\n    \tString requestUrl = req.getRequestURI();\r\n\t\tString loginURL = req.getContextPath() + &quot;/login.xhtml&quot;;\r\n\t\tString expiryURL = req.getContextPath() + &quot;/expired.xhtml&quot;;\r\n\t\t\r\n\t\t\r\n\t\tif (!requestUrl.contains(ResourceHandler.RESOURCE_IDENTIFIER))\r\n\t\t{\r\n\t\t\tif(!requestUrl.contains(&quot;/login.xhtml&quot;) &amp;&amp; !requestUrl.contains(&quot;/expired.xhtml&quot;))\r\n\t\t\t{\r\n\t\t\t\tif(session == null) {\r\n\t\t            if (&quot;partial/ajax&quot;.equals(req.getHeader(&quot;Faces-Request&quot;))) {\r\n\t\t\t\t        res.setContentType(&quot;text/xml&quot;);\r\n\t\t\t\t        res.getWriter()\r\n\t\t\t\t            .append(&quot;&lt;?xml version=\\&quot;1.0\\&quot; encoding=\\&quot;UTF-8\\&quot;?&gt;&quot;)\r\n\t\t\t\t            .printf(&quot;&lt;partial-response&gt;&lt;redirect url=\\&quot;%s\\&quot;&gt;&lt;/redirect&gt;&lt;/partial-response&gt;&quot;, expiryURL);\r\n\t\t\t\t    } else {\r\n\t\t\t\t    \tres.sendRedirect(expiryURL);\r\n\t\t\t\t    }\r\n\t\t        }\r\n\t\t        else\r\n\t\t        {\r\n    \t\t\r\n\t\t        \tif(userName==null  || userName.equals(&quot;&quot;) )\r\n\t\t        \t{\r\n\t\t        \t\tsession.invalidate();\r\n\r\n\t\t        \t\tif (&quot;partial/ajax&quot;.equals(req.getHeader(&quot;Faces-Request&quot;))) {\r\n\t\t        \t\t\tres.setContentType(&quot;text/xml&quot;);\r\n\t\t\t\t\t        res.getWriter()\r\n\t\t\t\t\t            .append(&quot;&lt;?xml version=\\&quot;1.0\\&quot; encoding=\\&quot;UTF-8\\&quot;?&gt;&quot;)\r\n\t\t\t\t\t            .printf(&quot;&lt;partial-response&gt;&lt;redirect url=\\&quot;%s\\&quot;&gt;&lt;/redirect&gt;&lt;/partial-response&gt;&quot;, expiryURL);\r\n\t\t\t\t\t    } else {\r\n\t\t\t\t\t    \tres.sendRedirect(expiryURL);\r\n\t\t\t\t\t    }\r\n\t\t        \t}\r\n\t\t        \telse\r\n\t\t        \t{\r\n\t\t        \t\tchain.doFilter(request, response);\r\n\t\t        \t}\r\n\t\t        }\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t{\r\n\t\t\t\tif(requestUrl.contains(&quot;/expired.xhtml&quot;))\r\n\t\t\t\t{\r\n\t\t\t\t\tif(session!=null)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tsession.invalidate();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tchain.doFilter(request, response);\r\n\t\t\t}\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tchain.doFilter(request, response);\r\n\t\t}\r\n\r\n\t}\r\n\t@Override\r\n\tpublic void init(FilterConfig arg0) throws ServletException {\r\n\t\t// TODO Auto-generated method stub\r\n\r\n\t}\r\n\r\n}\r\n```\r\n\r\n**Primefaces Idle Monitor :**\r\n\r\n\r\n```\r\n&lt;h:form&gt;\r\n   &lt;p:idleMonitor timeout=&quot;600000&quot;&gt;\r\n       &lt;p:ajax event=&quot;active&quot; listener=&quot;#{idleBean.expire()}&quot; /&gt;\r\n   &lt;/p:idleMonitor&gt;\r\n&lt;/h:form&gt;\r\n```\r\n\r\nThis is included in our UI template using &lt;ui:include&gt; \r\n\r\n**Idle Monitor Bean**\r\n\r\n\r\n```\r\n@ManagedBean(name=&quot;idleBean&quot;)\r\n@ViewScoped\r\n\r\npublic void expire() throws IOException\r\n{\r\n\tHttpSession ss = (HttpSession) FacesContext.getCurrentInstance().getExternalContext().getSession(false);\r\n\tif(ss!=null)\r\n\t{\r\n\t\tss.invalidate();\r\n\t}\r\n\t\r\n\tFacesContext.getCurrentInstance().getExternalContext().redirect(baseURL+&quot;/expired.xhtml&quot;);\r\n\r\n\treturn;\r\n}\r\n```\r\nOne more thing I wanted to add, as the application and the code is a bit old (~5years), it is having a random navigation or page switching mechanism like somewhere `return(pagename.xhtml)` and somewhere `ExternalContext#redirect(pagename.xhtml)`. I&#39;m not sure but suspecting this also for session issues.\r\n\r\nThe issue mentioned above is not coming always but randomly and is very annoying. Like it is happening anytime, while navigating to other page or while filling up a form and during ajax call or button clicks within 3-4 minutes of logging in.\r\n\r\nPlease help me understanding whether this approach is fine or not. If there are any flaws which are causing session attributes going `null`. Please suggest for solving this issue or improving this approach.\r\n\r\n","title":"Understanding HTTP sessions in JSF as session attributres are going null unexpectedly while working actively on the application","body":"<p>We're having a very large web application, entirely built with JSF (2.0)/PrimeFaces (8.0). Running on remote Tomcat 8 server (Linux OS)\nWe are facing a very serious issue due to which our server logs are filling up enormously.</p>\n<p>The issue is : A user, after login, while working actively on the application [Inactivity timeout (30 mins, default) not reached] like filling up a form, the session attributes are going null unexpectedly and on an Ajax call, filters intercept the request and check for username which is stored in session\ncreated at login, on getting username from session, it is giving <code>null</code> value and redirecting the user to login page.</p>\n<p>And when user logs in again, same issue. And in 3rd attempt it is working absolutely fine. (This is just an example, sometimes started working as expected in 2nd attempt)</p>\n<p>This is happening randomly, not always.</p>\n<p>We have checked entire code for <code>session.invalidate()</code> but no issues, it is written where it should be like on Primefaces IdleMonitor timeout (10mins) and on logout. Also checked for <code>.getSession(true)</code> but no issues, it is written where it should be. Not anywhere in between.</p>\n<p>We are trying to get it solved for last 3 days but no success...</p>\n<p>Below is the approach which we are using in our application for session management.</p>\n<p><strong>Login Bean</strong></p>\n<pre><code>@ManagedBean(name=&quot;login&quot;)\n@ViewScoped\n\npublic class LoginBean implements Serializable\n{\n    private String username;\n    private String password;\n    String baseURL;\n    public constructor()\n    {\n        HttpSession ss = (HttpSession) FacesContext.getCurrentInstance().getExternalContext().getSession(false);\n        if(ss!=null)\n        {\n             ss.invalidate();\n        }\n\n        baseURL = //some https://url where the application is hosted.\n    }\n\n    public void login()\n    {\n        //login DAO to check for login success\n        if(loginSuccess)\n        {\n            HttpSession ss = (HttpSession) FacesContext.getCurrentInstance().getExternalContext().getSession(false);\n            if(ss!=null)\n            {\n                 ss.invalidate();\n            }\n            \n            ss = (HttpSession) FacesContext.getCurrentInstance().getExternalContext().getSession(true);\n            ss.setAttribute(&quot;username&quot;, username);\n\n            PrimeFaces.current().executeScript(&quot;window.location.replace('&quot;+baseURL+&quot;homePage.xhtml');&quot;); // just to avoid navigation to login page using browser's back button\n        }\n    }\n}\n</code></pre>\n<p>After login, getting values from session on <code>homePage.xhtml</code>'s associated bean, this way:</p>\n<pre><code>\n@ManagedBean(name=&quot;home&quot;)\n@ViewScoped\n\npublic class HomeBean implements Serializable\n{\n    private String username;\n    \n    public constructor()\n    {\n        HttpSession ss = (HttpSession) FacesContext.getCurrentInstance().getExternalContext().getSession(false);\n        username = (String) ss.getAttribute(&quot;username&quot;);\n    }\n}\n</code></pre>\n<p>This way, we're accessing username from session in our entire application</p>\n<p><strong>Filter :</strong></p>\n<pre><code>public class MyFilter implements Filter {\n\n    String userName=&quot;&quot;;\n    \n    @Override\n    public void destroy() {\n        // TODO Auto-generated method stub\n\n    }\n\n    @Override\n    public void doFilter(ServletRequest request, ServletResponse response,\n            FilterChain chain) throws IOException, ServletException {\n\n        HttpServletRequest req=(HttpServletRequest) request;\n        HttpServletResponse res=(HttpServletResponse) response;\n\n        HttpSession session = req.getSession(false);\n        userName=(String) req.getSession().getAttribute(&quot;username&quot;);\n        \n        String requestUrl = req.getRequestURI();\n        String loginURL = req.getContextPath() + &quot;/login.xhtml&quot;;\n        String expiryURL = req.getContextPath() + &quot;/expired.xhtml&quot;;\n        \n        \n        if (!requestUrl.contains(ResourceHandler.RESOURCE_IDENTIFIER))\n        {\n            if(!requestUrl.contains(&quot;/login.xhtml&quot;) &amp;&amp; !requestUrl.contains(&quot;/expired.xhtml&quot;))\n            {\n                if(session == null) {\n                    if (&quot;partial/ajax&quot;.equals(req.getHeader(&quot;Faces-Request&quot;))) {\n                        res.setContentType(&quot;text/xml&quot;);\n                        res.getWriter()\n                            .append(&quot;&lt;?xml version=\\&quot;1.0\\&quot; encoding=\\&quot;UTF-8\\&quot;?&gt;&quot;)\n                            .printf(&quot;&lt;partial-response&gt;&lt;redirect url=\\&quot;%s\\&quot;&gt;&lt;/redirect&gt;&lt;/partial-response&gt;&quot;, expiryURL);\n                    } else {\n                        res.sendRedirect(expiryURL);\n                    }\n                }\n                else\n                {\n            \n                    if(userName==null  || userName.equals(&quot;&quot;) )\n                    {\n                        session.invalidate();\n\n                        if (&quot;partial/ajax&quot;.equals(req.getHeader(&quot;Faces-Request&quot;))) {\n                            res.setContentType(&quot;text/xml&quot;);\n                            res.getWriter()\n                                .append(&quot;&lt;?xml version=\\&quot;1.0\\&quot; encoding=\\&quot;UTF-8\\&quot;?&gt;&quot;)\n                                .printf(&quot;&lt;partial-response&gt;&lt;redirect url=\\&quot;%s\\&quot;&gt;&lt;/redirect&gt;&lt;/partial-response&gt;&quot;, expiryURL);\n                        } else {\n                            res.sendRedirect(expiryURL);\n                        }\n                    }\n                    else\n                    {\n                        chain.doFilter(request, response);\n                    }\n                }\n            }\n            else\n            {\n                if(requestUrl.contains(&quot;/expired.xhtml&quot;))\n                {\n                    if(session!=null)\n                    {\n                        session.invalidate();\n                    }\n                }\n\n                chain.doFilter(request, response);\n            }\n        }\n        else\n        {\n            chain.doFilter(request, response);\n        }\n\n    }\n    @Override\n    public void init(FilterConfig arg0) throws ServletException {\n        // TODO Auto-generated method stub\n\n    }\n\n}\n</code></pre>\n<p><strong>Primefaces Idle Monitor :</strong></p>\n<pre><code>&lt;h:form&gt;\n   &lt;p:idleMonitor timeout=&quot;600000&quot;&gt;\n       &lt;p:ajax event=&quot;active&quot; listener=&quot;#{idleBean.expire()}&quot; /&gt;\n   &lt;/p:idleMonitor&gt;\n&lt;/h:form&gt;\n</code></pre>\n<p>This is included in our UI template using &lt;ui:include&gt;</p>\n<p><strong>Idle Monitor Bean</strong></p>\n<pre><code>@ManagedBean(name=&quot;idleBean&quot;)\n@ViewScoped\n\npublic void expire() throws IOException\n{\n    HttpSession ss = (HttpSession) FacesContext.getCurrentInstance().getExternalContext().getSession(false);\n    if(ss!=null)\n    {\n        ss.invalidate();\n    }\n    \n    FacesContext.getCurrentInstance().getExternalContext().redirect(baseURL+&quot;/expired.xhtml&quot;);\n\n    return;\n}\n</code></pre>\n<p>One more thing I wanted to add, as the application and the code is a bit old (~5years), it is having a random navigation or page switching mechanism like somewhere <code>return(pagename.xhtml)</code> and somewhere <code>ExternalContext#redirect(pagename.xhtml)</code>. I'm not sure but suspecting this also for session issues.</p>\n<p>The issue mentioned above is not coming always but randomly and is very annoying. Like it is happening anytime, while navigating to other page or while filling up a form and during ajax call or button clicks within 3-4 minutes of logging in.</p>\n<p>Please help me understanding whether this approach is fine or not. If there are any flaws which are causing session attributes going <code>null</code>. Please suggest for solving this issue or improving this approach.</p>\n"},{"tags":["java","selenium","google-chrome","jenkins","selenium-webdriver"],"comments":[{"owner":{"account_id":13335123,"reputation":689,"user_id":9625231,"display_name":"xzesstence"},"score":0,"creation_date":1553610511,"post_id":55359513,"comment_id":97442986,"body_markdown":"its some time ago but..\ncheck if you leave unexpected instances of the chrome driver on your system.. in my case i was doing a massive test with selenium and the problem was that my script left many dead instances of the chrome driver..even if i tried to recycle the chromedriver instances.. in my case the only solution was to dirty work around that, \nAlso in my eyes it was very difficult to run selenium tests async, i just want to point out.\nHope it brings some helpful informations to you.. Cheers","body":"its some time ago but.. check if you leave unexpected instances of the chrome driver on your system.. in my case i was doing a massive test with selenium and the problem was that my script left many dead instances of the chrome driver..even if i tried to recycle the chromedriver instances.. in my case the only solution was to dirty work around that,  Also in my eyes it was very difficult to run selenium tests async, i just want to point out. Hope it brings some helpful informations to you.. Cheers"},{"owner":{"account_id":4297359,"reputation":959,"user_id":3512053,"accept_rate":100,"display_name":"Asyranok"},"score":0,"creation_date":1553616333,"post_id":55359513,"comment_id":97446980,"body_markdown":"A couple things 1) Can we please see the code that the error mentions, where you use `DesiredCapabilities.chrome()`. It would help to see how it is launched. 2) Launch the selenium driver directly, and see if the command prompt that appears stays visible and does not spew errors of any kind. 3) You&#39;ve restarted this machine, right? 4) All you see on a web browser when opening Jenkins is `ERR_CONNECTION_REFUSED` and nothing else, just as plain text?","body":"A couple things 1) Can we please see the code that the error mentions, where you use <code>DesiredCapabilities.chrome()</code>. It would help to see how it is launched. 2) Launch the selenium driver directly, and see if the command prompt that appears stays visible and does not spew errors of any kind. 3) You&#39;ve restarted this machine, right? 4) All you see on a web browser when opening Jenkins is <code>ERR_CONNECTION_REFUSED</code> and nothing else, just as plain text?"},{"owner":{"account_id":10201069,"reputation":5579,"user_id":8625512,"accept_rate":100,"display_name":"Andrei Suvorkov"},"score":0,"creation_date":1553670551,"post_id":55359513,"comment_id":97465494,"body_markdown":"@Asyranok 1) if you mean `ERR_CONNECTION_REFUSED` it happens, when I try to open `Jenkins` webpage. It has nothing to do with `DesiredCapabilities.chrome()` I think. 2) I have launched. No errors. 3) Yes, I have restarted. 4) the full messge is like this (`The website is unavailable localhost has refused the connection.\nTry the following:\n\nCheck connection\nCheck Proxy and Firewall\nERR_CONNECTION_REFUSED`)","body":"@Asyranok 1) if you mean <code>ERR_CONNECTION_REFUSED</code> it happens, when I try to open <code>Jenkins</code> webpage. It has nothing to do with <code>DesiredCapabilities.chrome()</code> I think. 2) I have launched. No errors. 3) Yes, I have restarted. 4) the full messge is like this (<code>The website is unavailable localhost has refused the connection. Try the following:  Check connection Check Proxy and Firewall ERR_CONNECTION_REFUSED</code>)"},{"owner":{"account_id":14255433,"reputation":282,"user_id":10297796,"display_name":"Vikas Piprade"},"score":0,"creation_date":1647944876,"post_id":55359513,"comment_id":126493051,"body_markdown":"I am using Firefox 98.0.1 (64 bit) and my selenium tests invoked from Jenkins build are not launching browser. Same behaviour is on Chrome. All tests are passing and maven surefire plugin reports are perfectly fine. \nI feel like it is something to do with Jenkins launching headless browser.","body":"I am using Firefox 98.0.1 (64 bit) and my selenium tests invoked from Jenkins build are not launching browser. Same behaviour is on Chrome. All tests are passing and maven surefire plugin reports are perfectly fine.  I feel like it is something to do with Jenkins launching headless browser."}],"answers":[{"tags":[],"owner":{"account_id":14631339,"reputation":1976,"user_id":10567003,"display_name":"TheSociety"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1582879489,"creation_date":1553623200,"answer_id":55363565,"question_id":55359513,"body_markdown":"**For Windows:**\r\n\r\n***I would like to add when Jenkins shall show running automation test cases in browser.***\r\n\r\n*First, you should not install Jenkins as windows application.* Even if you do so but Do not enable the checkbox &quot;Allow service to interact with desktop&quot; under Log On Tab, then Jenkins would not be showing running test cases in browser. where to find this tab -\r\n\r\n1) In windows, service select the service of Jenkins\r\n\r\n2) Open properties window of the service -&gt; Logon-&gt; enable the checkbox &quot;Allow service to interact with desktop&quot;\r\n\r\n3) you have to toggle the NoInteractiveServices registry key\r\n\r\n4) After then you should reboot the service, Jenkins.\r\n\r\n***Best Approach*** \r\nYou shall deploy Jenkins from a war file as follows:\r\n\r\n1) Download Jenkins.war from&#160;Jenkins&#39;s official site. (If already installed just go to the folder where Jenkins has installed default path as &quot;C:\\Program Files (x86)\\Jenkins\\&quot;)\r\n\r\n2) Deploy it by the command prompt : java -jar {directoryOfJenkinsFileInWindows}/jenkins.war\r\n\r\n3) Now you can access Jenkins administration on http://localhost:8080","title":"Browser does not open in Jenkins while executing selenium test","body":"<p><strong>For Windows:</strong></p>\n\n<p><strong><em>I would like to add when Jenkins shall show running automation test cases in browser.</em></strong></p>\n\n<p><em>First, you should not install Jenkins as windows application.</em> Even if you do so but Do not enable the checkbox \"Allow service to interact with desktop\" under Log On Tab, then Jenkins would not be showing running test cases in browser. where to find this tab -</p>\n\n<p>1) In windows, service select the service of Jenkins</p>\n\n<p>2) Open properties window of the service -> Logon-> enable the checkbox \"Allow service to interact with desktop\"</p>\n\n<p>3) you have to toggle the NoInteractiveServices registry key</p>\n\n<p>4) After then you should reboot the service, Jenkins.</p>\n\n<p><strong><em>Best Approach</em></strong> \nYou shall deploy Jenkins from a war file as follows:</p>\n\n<p>1) Download Jenkins.war from Jenkins's official site. (If already installed just go to the folder where Jenkins has installed default path as \"C:\\Program Files (x86)\\Jenkins\\\")</p>\n\n<p>2) Deploy it by the command prompt : java -jar {directoryOfJenkinsFileInWindows}/jenkins.war</p>\n\n<p>3) Now you can access Jenkins administration on <a href=\"http://localhost:8080\" rel=\"nofollow noreferrer\">http://localhost:8080</a></p>\n"},{"tags":[],"owner":{"account_id":10049107,"reputation":186627,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1553679130,"creation_date":1553672274,"answer_id":55371996,"question_id":55359513,"body_markdown":"This error message...\r\n\r\n\tM&#228;rz 26, 2019 3:02:23 NACHM. org.openqa.selenium.remote.DesiredCapabilities chrome\r\n\tINFO: Using `new ChromeOptions()` is preferred to `DesiredCapabilities.chrome()`\r\n\tStarting ChromeDriver 73.0.3683.68 (47787ec04b6e38e22703e856e101e840b65afe72) on port 46182\r\n\tOnly local connections are allowed.\r\n\tPlease protect ports used by ChromeDriver and related test frameworks to prevent access by malicious code.\r\n\tM&#228;rz 26, 2019 3:02:25 NACHM. org.openqa.selenium.remote.ProtocolHandshake createSession\r\n\tINFO: Detected dialect: W3C\r\n\r\n...implies that you have used an instance of `DesiredCapabilities()` class and casted for **chrome** but when the session was created the dialect detected was **W3C**\r\n\r\nAs a general consciousness:\r\n\r\n- _Chrome_ and _ChromeDriver_ is **OSS** complaint\r\n- Whereas _GeckoDriver_ / _Firefox_ and _IEDriverServer_ / _Internet Explorer_ is **W3C** complaint.\r\n\r\nYour code block would have helped us to debug the issue in a better way. Perhaps though you have used `DesiredCapabilities()` class and casted for **chrome** but while initializing you have invoked the `FirefoxDriver()` as:\r\n\r\n\tWebDriver driver =  new FirefoxDriver();\r\n\r\n\r\n----------\r\n\r\n\r\nSolution\r\n--------\r\nChange the initialization of _WebDriver_ as:\r\n\r\n\tWebDriver driver = new ChromeDriver();","title":"Browser does not open in Jenkins while executing selenium test","body":"<p>This error message...</p>\n\n<pre><code>März 26, 2019 3:02:23 NACHM. org.openqa.selenium.remote.DesiredCapabilities chrome\nINFO: Using `new ChromeOptions()` is preferred to `DesiredCapabilities.chrome()`\nStarting ChromeDriver 73.0.3683.68 (47787ec04b6e38e22703e856e101e840b65afe72) on port 46182\nOnly local connections are allowed.\nPlease protect ports used by ChromeDriver and related test frameworks to prevent access by malicious code.\nMärz 26, 2019 3:02:25 NACHM. org.openqa.selenium.remote.ProtocolHandshake createSession\nINFO: Detected dialect: W3C\n</code></pre>\n\n<p>...implies that you have used an instance of <code>DesiredCapabilities()</code> class and casted for <strong>chrome</strong> but when the session was created the dialect detected was <strong>W3C</strong></p>\n\n<p>As a general consciousness:</p>\n\n<ul>\n<li><em>Chrome</em> and <em>ChromeDriver</em> is <strong>OSS</strong> complaint</li>\n<li>Whereas <em>GeckoDriver</em> / <em>Firefox</em> and <em>IEDriverServer</em> / <em>Internet Explorer</em> is <strong>W3C</strong> complaint.</li>\n</ul>\n\n<p>Your code block would have helped us to debug the issue in a better way. Perhaps though you have used <code>DesiredCapabilities()</code> class and casted for <strong>chrome</strong> but while initializing you have invoked the <code>FirefoxDriver()</code> as:</p>\n\n<pre><code>WebDriver driver =  new FirefoxDriver();\n</code></pre>\n\n<hr>\n\n<h2>Solution</h2>\n\n<p>Change the initialization of <em>WebDriver</em> as:</p>\n\n<pre><code>WebDriver driver = new ChromeDriver();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10201069,"reputation":5579,"user_id":8625512,"accept_rate":100,"display_name":"Andrei Suvorkov"},"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1553775636,"creation_date":1553749820,"answer_id":55390562,"question_id":55359513,"body_markdown":"So. I have found an issue and it is a Chronium bug. More information can be found [here][1]. I will try to downgrade webdriver and chrome to older version and will share the result.\r\n\r\n***EDIT:***\r\nI have downgraded my Chrome to `Version 72.0.3626.81` and chromedriver to `ChromeDriver 2.46`. It works well.\r\n\r\n***NOTE:***\r\nI found a bit tricky to prevent Chrome from auto-update to the newest version. [Here][2] you can found some useful tipps how to deal with it. I personally choose folder rename ))\r\n\r\n\r\n  [1]: https://bugs.chromium.org/p/chromedriver/issues/detail?id=2827&amp;q=&amp;sort=-id&amp;colspec=ID%20Status%20Pri%20Owner%20Summary\r\n  [2]: https://stackoverflow.com/a/31939624","title":"Browser does not open in Jenkins while executing selenium test","body":"<p>So. I have found an issue and it is a Chronium bug. More information can be found <a href=\"https://bugs.chromium.org/p/chromedriver/issues/detail?id=2827&amp;q=&amp;sort=-id&amp;colspec=ID%20Status%20Pri%20Owner%20Summary\" rel=\"nofollow noreferrer\">here</a>. I will try to downgrade webdriver and chrome to older version and will share the result.</p>\n\n<p><strong><em>EDIT:</em></strong>\nI have downgraded my Chrome to <code>Version 72.0.3626.81</code> and chromedriver to <code>ChromeDriver 2.46</code>. It works well.</p>\n\n<p><strong><em>NOTE:</em></strong>\nI found a bit tricky to prevent Chrome from auto-update to the newest version. <a href=\"https://stackoverflow.com/a/31939624\">Here</a> you can found some useful tipps how to deal with it. I personally choose folder rename ))</p>\n"},{"tags":[],"owner":{"account_id":15568203,"reputation":26,"user_id":11231362,"display_name":"Rajagopal V"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1553845841,"creation_date":1553845841,"answer_id":55412741,"question_id":55359513,"body_markdown":"Mostly it is due to compatibility issue (selenium and chrome driver version). Please refer to http://chromedriver.chromium.org/downloads\r\n\r\nhttps://stackoverflow.com/questions/48450594/selenium-timed-out-receiving-message-from-renderer","title":"Browser does not open in Jenkins while executing selenium test","body":"<p>Mostly it is due to compatibility issue (selenium and chrome driver version). Please refer to <a href=\"http://chromedriver.chromium.org/downloads\" rel=\"nofollow noreferrer\">http://chromedriver.chromium.org/downloads</a></p>\n\n<p><a href=\"https://stackoverflow.com/questions/48450594/selenium-timed-out-receiving-message-from-renderer\">Selenium Timed out receiving message from renderer</a></p>\n"},{"tags":[],"owner":{"account_id":5834407,"reputation":59,"user_id":4597939,"display_name":"Purushoth"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1597152744,"creation_date":1597143509,"answer_id":63356773,"question_id":55359513,"body_markdown":"Working Solution - Install Jenkins by Downloading Generic Java Package(.war), after installation the browser will open automatically when running selenium tests.\r\n\r\nhttps://www.jenkins.io/download/\r\n\r\nPlease refer the below URL for installing Jenkins that supports opening browsers and run tests.\r\nhttps://itsforlavanya.blogspot.com/2020/08/jenkins-installation-install-jenkins-in.html\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/bLf0m.png","title":"Browser does not open in Jenkins while executing selenium test","body":"<p>Working Solution - Install Jenkins by Downloading Generic Java Package(.war), after installation the browser will open automatically when running selenium tests.</p>\n<p><a href=\"https://www.jenkins.io/download/\" rel=\"nofollow noreferrer\">https://www.jenkins.io/download/</a></p>\n<p>Please refer the below URL for installing Jenkins that supports opening browsers and run tests.\n<a href=\"https://itsforlavanya.blogspot.com/2020/08/jenkins-installation-install-jenkins-in.html\" rel=\"nofollow noreferrer\">https://itsforlavanya.blogspot.com/2020/08/jenkins-installation-install-jenkins-in.html</a></p>\n<p><a href=\"https://i.stack.imgur.com/bLf0m.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/bLf0m.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":10201069,"reputation":5579,"user_id":8625512,"accept_rate":100,"display_name":"Andrei Suvorkov"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":19104,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":55390562,"answer_count":5,"score":0,"last_activity_date":1689296350,"creation_date":1553610271,"question_id":55359513,"body_markdown":"I am trying to start a job in `Jenkins`, which executes a `Selenium` script. It was working fine for a few months, but today it is just stopped working for an unknown reason. This job starts the first test as always and then stucks. I am not getting any errors, just nothing happens after this:\r\n\r\n    TEST STARTED: test\r\n    -------------------------------------------------------------------\r\n    [main] INFO net.serenitybdd.core.Serenity - TEST NUMBER: 1\r\n    M&#228;rz 26, 2019 3:02:23 NACHM. org.openqa.selenium.remote.DesiredCapabilities chrome\r\n    INFO: Using `new ChromeOptions()` is preferred to `DesiredCapabilities.chrome()`\r\n    Starting ChromeDriver 73.0.3683.68 (47787ec04b6e38e22703e856e101e840b65afe72) on port 46182\r\n    Only local connections are allowed.\r\n    Please protect ports used by ChromeDriver and related test frameworks to prevent access by malicious code.\r\n    M&#228;rz 26, 2019 3:02:25 NACHM. org.openqa.selenium.remote.ProtocolHandshake createSession\r\n    INFO: Detected dialect: W3C\r\n\r\n\r\n----------\r\n\r\n\r\nI have realised, that every time I am starting a job with chrome a new `Google Chrome` processes adds to task manager, so I assume the chrome windows are showing up. Also when I kill this processes, I am getting this:\r\n\r\n    ...\r\n    [1553694146.113][SEVERE]: Timed out receiving message from renderer: 10.000\r\n    [1553694146.113][WARNING]: screenshot failed, retrying\r\n    [1553694156.113][SEVERE]: Timed out receiving message from renderer: 10.000\r\n    [1553694166.118][SEVERE]: Timed out receiving message from renderer: 10.000\r\n    [1553694166.118][WARNING]: screenshot failed, retrying\r\n    [main] WARN net.thucydides.core.webdriver.WebDriverFacade - Failed to take screenshot (unknown error: session deleted because of page crash\r\n    from unknown error: cannot determine loading status\r\n    from tab crashed\r\n     (Session info: chrome=73.0.3683.86)\r\n     (Driver info: chromedriver=73.0.3683.68 (47787ec04b6e38e22703e856e101e840b65afe72),platform=Windows NT 10.0.17763 x86_64) (WARNING: The server did not provide any stacktrace information)\r\n    Command duration or timeout: 0 milliseconds\r\n    Build info: version: &#39;3.141.59&#39;, revision: &#39;e82be7d358&#39;, time: &#39;2018-11-14T08:17:03&#39;\r\n    System info: host: &#39;DESKTOP-5QTQGUC&#39;, ip: &#39;192.168.178.23&#39;, os.name: &#39;Windows 10&#39;, os.arch: &#39;amd64&#39;, os.version: &#39;10.0&#39;, java.version: &#39;11.0.1&#39;\r\n    Driver info: org.openqa.selenium.remote.RemoteWebDriver\r\n    Capabilities {acceptInsecureCerts: false, acceptSslCerts: false, applicationCacheEnabled: false, browserConnectionEnabled: false, browserName: chrome, chrome: {chromedriverVersion: 73.0.3683.68 (47787ec04b6e3..., userDataDir: C:\\WINDOWS\\TEMP\\scoped_dir5...}, cssSelectorsEnabled: true, databaseEnabled: false, goog:chromeOptions: {debuggerAddress: localhost:3697}, handlesAlerts: true, hasTouchScreen: false, javascriptEnabled: true, locationContextEnabled: true, mobileEmulationEnabled: false, nativeEvents: true, networkConnectionEnabled: false, pageLoadStrategy: normal, platform: XP, platformName: XP, proxy: Proxy(), rotatable: false, setWindowRect: true, strictFileInteractability: false, takesHeapSnapshot: true, takesScreenshot: true, timeouts: {implicit: 0, pageLoad: 300000, script: 30000}, unexpectedAlertBehaviour: ignore, unhandledPromptBehavior: ignore, version: 73.0.3683.86, webStorageEnabled: true}\r\n    Session ID: da5e7153b21e4cb075843ac4e541ab6f)\r\n    [main] ERROR net.thucydides.core.steps.ConsoleLoggingListener -\r\n    ...\r\n\r\n----------\r\nI have tried to update `Jenkins` and all plugins, updated my browser and webdriver, turned off firewall and antivirus. Nothing helped so far. I am still able to run all test local via `ide` and have no idea what went wrong with `Jenkins`, that I am not able to run my tests.\r\n\r\nAny ideas, what could went wrong and how to deal with it?\r\n\r\nPS it works fine in firefox, but I also need chrome\r\n","title":"Browser does not open in Jenkins while executing selenium test","body":"<p>I am trying to start a job in <code>Jenkins</code>, which executes a <code>Selenium</code> script. It was working fine for a few months, but today it is just stopped working for an unknown reason. This job starts the first test as always and then stucks. I am not getting any errors, just nothing happens after this:</p>\n\n<pre><code>TEST STARTED: test\n-------------------------------------------------------------------\n[main] INFO net.serenitybdd.core.Serenity - TEST NUMBER: 1\nMärz 26, 2019 3:02:23 NACHM. org.openqa.selenium.remote.DesiredCapabilities chrome\nINFO: Using `new ChromeOptions()` is preferred to `DesiredCapabilities.chrome()`\nStarting ChromeDriver 73.0.3683.68 (47787ec04b6e38e22703e856e101e840b65afe72) on port 46182\nOnly local connections are allowed.\nPlease protect ports used by ChromeDriver and related test frameworks to prevent access by malicious code.\nMärz 26, 2019 3:02:25 NACHM. org.openqa.selenium.remote.ProtocolHandshake createSession\nINFO: Detected dialect: W3C\n</code></pre>\n\n<hr>\n\n<p>I have realised, that every time I am starting a job with chrome a new <code>Google Chrome</code> processes adds to task manager, so I assume the chrome windows are showing up. Also when I kill this processes, I am getting this:</p>\n\n<pre><code>...\n[1553694146.113][SEVERE]: Timed out receiving message from renderer: 10.000\n[1553694146.113][WARNING]: screenshot failed, retrying\n[1553694156.113][SEVERE]: Timed out receiving message from renderer: 10.000\n[1553694166.118][SEVERE]: Timed out receiving message from renderer: 10.000\n[1553694166.118][WARNING]: screenshot failed, retrying\n[main] WARN net.thucydides.core.webdriver.WebDriverFacade - Failed to take screenshot (unknown error: session deleted because of page crash\nfrom unknown error: cannot determine loading status\nfrom tab crashed\n (Session info: chrome=73.0.3683.86)\n (Driver info: chromedriver=73.0.3683.68 (47787ec04b6e38e22703e856e101e840b65afe72),platform=Windows NT 10.0.17763 x86_64) (WARNING: The server did not provide any stacktrace information)\nCommand duration or timeout: 0 milliseconds\nBuild info: version: '3.141.59', revision: 'e82be7d358', time: '2018-11-14T08:17:03'\nSystem info: host: 'DESKTOP-5QTQGUC', ip: '192.168.178.23', os.name: 'Windows 10', os.arch: 'amd64', os.version: '10.0', java.version: '11.0.1'\nDriver info: org.openqa.selenium.remote.RemoteWebDriver\nCapabilities {acceptInsecureCerts: false, acceptSslCerts: false, applicationCacheEnabled: false, browserConnectionEnabled: false, browserName: chrome, chrome: {chromedriverVersion: 73.0.3683.68 (47787ec04b6e3..., userDataDir: C:\\WINDOWS\\TEMP\\scoped_dir5...}, cssSelectorsEnabled: true, databaseEnabled: false, goog:chromeOptions: {debuggerAddress: localhost:3697}, handlesAlerts: true, hasTouchScreen: false, javascriptEnabled: true, locationContextEnabled: true, mobileEmulationEnabled: false, nativeEvents: true, networkConnectionEnabled: false, pageLoadStrategy: normal, platform: XP, platformName: XP, proxy: Proxy(), rotatable: false, setWindowRect: true, strictFileInteractability: false, takesHeapSnapshot: true, takesScreenshot: true, timeouts: {implicit: 0, pageLoad: 300000, script: 30000}, unexpectedAlertBehaviour: ignore, unhandledPromptBehavior: ignore, version: 73.0.3683.86, webStorageEnabled: true}\nSession ID: da5e7153b21e4cb075843ac4e541ab6f)\n[main] ERROR net.thucydides.core.steps.ConsoleLoggingListener -\n...\n</code></pre>\n\n<hr>\n\n<p>I have tried to update <code>Jenkins</code> and all plugins, updated my browser and webdriver, turned off firewall and antivirus. Nothing helped so far. I am still able to run all test local via <code>ide</code> and have no idea what went wrong with <code>Jenkins</code>, that I am not able to run my tests.</p>\n\n<p>Any ideas, what could went wrong and how to deal with it?</p>\n\n<p>PS it works fine in firefox, but I also need chrome</p>\n"},{"tags":["java","logging","log4j"],"answers":[{"tags":[],"owner":{"account_id":41920,"reputation":56500,"user_id":121993,"accept_rate":77,"display_name":"Jeff Storey"},"down_vote_count":1,"up_vote_count":9,"is_accepted":false,"score":8,"last_activity_date":1270662894,"creation_date":1270662894,"answer_id":2594704,"question_id":2594689,"body_markdown":"Have you tried `java -Dlog4j.configuration=/path/to/log4j.xml -jar &lt;rest-of-args&gt;`","title":"External log4j.xml file","body":"<p>Have you tried <code>java -Dlog4j.configuration=/path/to/log4j.xml -jar &lt;rest-of-args&gt;</code></p>\n"},{"tags":[],"owner":{"account_id":571,"reputation":8829,"user_id":737,"accept_rate":80,"display_name":"Jason Day"},"down_vote_count":0,"up_vote_count":55,"is_accepted":true,"score":55,"last_activity_date":1270730014,"creation_date":1270663374,"answer_id":2594745,"question_id":2594689,"body_markdown":"When using the `-jar` switch to launch an executable jar file, the classpath is obtained from the jar file&#39;s manifest.  The `-cp` switch, if given, is ignored.\r\n\r\n[Jeff Storey&#39;s answer][1] is going to be the easiest solution. Alternatively, you could add a `Class-Path` attribute to the jar file&#39;s [manifest][2].\r\n\r\n**EDIT**\r\nTry enabling log4j debugging, and making the path to `log4j.xml` a fully-qualified URL. For example:\r\n\r\n    java -Dlog4j.debug -Dlog4j.configuration=file:/path/to/log4j.xml -jar ...\r\n\r\n  [1]: https://stackoverflow.com/questions/2594689/external-log4j-xml-file/2594704#2594704\r\n  [2]: http://java.sun.com/javase/6/docs/technotes/guides/jar/jar.html#JAR%20Manifest","title":"External log4j.xml file","body":"<p>When using the <code>-jar</code> switch to launch an executable jar file, the classpath is obtained from the jar file's manifest.  The <code>-cp</code> switch, if given, is ignored.</p>\n\n<p><a href=\"https://stackoverflow.com/questions/2594689/external-log4j-xml-file/2594704#2594704\">Jeff Storey's answer</a> is going to be the easiest solution. Alternatively, you could add a <code>Class-Path</code> attribute to the jar file's <a href=\"http://java.sun.com/javase/6/docs/technotes/guides/jar/jar.html#JAR%20Manifest\" rel=\"noreferrer\">manifest</a>.</p>\n\n<p><strong>EDIT</strong>\nTry enabling log4j debugging, and making the path to <code>log4j.xml</code> a fully-qualified URL. For example:</p>\n\n<pre><code>java -Dlog4j.debug -Dlog4j.configuration=file:/path/to/log4j.xml -jar ...\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689295906,"creation_date":1270670539,"answer_id":2595502,"question_id":2594689,"body_markdown":"&quot;-jar&quot; only uses the classpath inside the executable jar, and -cp is ignored.  Adding &quot;.&quot; to the classpath in the executable jar should allow log4j.xml to be found.","title":"External log4j.xml file","body":"<p>&quot;-jar&quot; only uses the classpath inside the executable jar, and -cp is ignored.  Adding &quot;.&quot; to the classpath in the executable jar should allow log4j.xml to be found.</p>\n"},{"tags":[],"owner":{"account_id":166367,"reputation":667,"user_id":390436,"accept_rate":36,"display_name":"tibi"},"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1279024079,"creation_date":1279024079,"answer_id":3237115,"question_id":2594689,"body_markdown":"this works:\r\n\r\n    java -jar -Dlog4j.configuration=&quot;file:d:\\log4j.xml&quot; myjar.jar\r\n\r\n","title":"External log4j.xml file","body":"<p>this works:</p>\n\n<pre><code>java -jar -Dlog4j.configuration=\"file:d:\\log4j.xml\" myjar.jar\n</code></pre>\n"},{"tags":[],"owner":{"account_id":394533,"reputation":1219,"user_id":757023,"display_name":"VlatkoB"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1322558139,"creation_date":1322558139,"answer_id":8308281,"question_id":2594689,"body_markdown":"I had problems using log4j with Sun&#39;s JDK and automatic configuration.\r\n\r\nYou can use this:\r\n\r\n    String filename = System.getProperty(&quot;log4j.configuration&quot;);\r\n    DOMConfigurator(filename);\r\n\r\nbefore using Logger.","title":"External log4j.xml file","body":"<p>I had problems using log4j with Sun's JDK and automatic configuration.</p>\n\n<p>You can use this:</p>\n\n<pre><code>String filename = System.getProperty(\"log4j.configuration\");\nDOMConfigurator(filename);\n</code></pre>\n\n<p>before using Logger.</p>\n"},{"tags":[],"owner":{"account_id":1290379,"reputation":2877,"user_id":1242601,"accept_rate":73,"display_name":"Koray G&#252;cl&#252;"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1346363658,"creation_date":1346363658,"answer_id":12206110,"question_id":2594689,"body_markdown":"you can define a default properties file in the jar. if no custom properties is defined you can use this default file.if a custom property is defined you can override the default property. \r\n\r\nmyjar.jar file contains log4j.default.configuration\r\n\r\nyou can run your program with this parameters to start your application\r\n\r\n    java  -jar -Dlog4j.configuration=log4j.properties  target\\yourfile-v01_000_01_c002.jar\r\n\r\nExample code\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tString filename = System.getProperty(&quot;log4j.configuration&quot;);\r\n        if(null==filename||filename.trim().equals(&quot;&quot;)) {\r\n        \tlogger.info(&quot;Using default log4j configuration log4j.default.properties.&quot;);\r\n        \tlogger.info(&quot;If you would like to change the default configuration please add following param before startup -Dlog4j.configuration=&lt;log4jfile&gt;&quot;);\r\n  \t\t    PropertyConfigurator.configure( Main.class.getResourceAsStream(&quot;/log4j.default.properties&quot;));\r\n        } else {\r\n  \t\t    File file = new File(filename);\r\n  \t\t    if(!file.exists()) System.out.println(&quot;It is not possible to load the given log4j properties file :&quot;+file.getAbsolutePath());\r\n  \t\t    else PropertyConfigurator.configure(file.getAbsolutePath());\r\n  \t\t    \r\n        }\r\n    }","title":"External log4j.xml file","body":"<p>you can define a default properties file in the jar. if no custom properties is defined you can use this default file.if a custom property is defined you can override the default property. </p>\n\n<p>myjar.jar file contains log4j.default.configuration</p>\n\n<p>you can run your program with this parameters to start your application</p>\n\n<pre><code>java  -jar -Dlog4j.configuration=log4j.properties  target\\yourfile-v01_000_01_c002.jar\n</code></pre>\n\n<p>Example code</p>\n\n<pre><code>public static void main(String[] args) {\n    String filename = System.getProperty(\"log4j.configuration\");\n    if(null==filename||filename.trim().equals(\"\")) {\n        logger.info(\"Using default log4j configuration log4j.default.properties.\");\n        logger.info(\"If you would like to change the default configuration please add following param before startup -Dlog4j.configuration=&lt;log4jfile&gt;\");\n        PropertyConfigurator.configure( Main.class.getResourceAsStream(\"/log4j.default.properties\"));\n    } else {\n        File file = new File(filename);\n        if(!file.exists()) System.out.println(\"It is not possible to load the given log4j properties file :\"+file.getAbsolutePath());\n        else PropertyConfigurator.configure(file.getAbsolutePath());\n\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2349284,"reputation":391,"user_id":2058593,"accept_rate":0,"display_name":"r00tGER"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1418367759,"creation_date":1418367759,"answer_id":27438516,"question_id":2594689,"body_markdown":"For log4j2, use **configurationFile** option:\r\n\r\n    java -Dlog4j.configurationFile=/path/to/log4j2.xml -jar ...\r\n\r\n[http://logging.apache.org/log4j/2.0/manual/configuration.html][1]\r\n\r\n\r\n  [1]: http://logging.apache.org/log4j/2.0/manual/configuration.html","title":"External log4j.xml file","body":"<p>For log4j2, use <strong>configurationFile</strong> option:</p>\n\n<pre><code>java -Dlog4j.configurationFile=/path/to/log4j2.xml -jar ...\n</code></pre>\n\n<p><a href=\"http://logging.apache.org/log4j/2.0/manual/configuration.html\" rel=\"noreferrer\">http://logging.apache.org/log4j/2.0/manual/configuration.html</a></p>\n"},{"tags":[],"owner":{"account_id":2649218,"reputation":5684,"user_id":2291327,"display_name":"Dayong"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1425948662,"creation_date":1425948662,"answer_id":28954399,"question_id":2594689,"body_markdown":"java -cp &quot;path/to/your/log4jxml:path/to/yourjar.jar&quot; your.package.MainClass\r\n\r\nThe log4j.xml in directory &quot;path/to/your/log4jxml&quot; will overwrite the log4j.xml file in &quot;path/to/yourjar.jar&quot;.\r\n \r\nPlease refer to https://stackoverflow.com/questions/219585/setting-multiple-jars-in-java-classpath.","title":"External log4j.xml file","body":"<p>java -cp \"path/to/your/log4jxml:path/to/yourjar.jar\" your.package.MainClass</p>\n\n<p>The log4j.xml in directory \"path/to/your/log4jxml\" will overwrite the log4j.xml file in \"path/to/yourjar.jar\".</p>\n\n<p>Please refer to <a href=\"https://stackoverflow.com/questions/219585/setting-multiple-jars-in-java-classpath\">Setting multiple jars in java classpath</a>.</p>\n"},{"tags":[],"owner":{"account_id":5346811,"reputation":3500,"user_id":4262148,"accept_rate":100,"display_name":"another"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1507500642,"creation_date":1506092771,"answer_id":46367843,"question_id":2594689,"body_markdown":"The simplest path configuration for ``log4j2` is using the `static block` setting `log4j.configurationFile`:\r\n\r\n    public class MyClass {\r\n  \r\n        static {\r\n            System.setProperty(&quot;log4j.configurationFile&quot;, &quot;./config/log4j2.xml&quot;);\r\n        }\r\n\r\n        protected final transient Logger logger =  LogManager.getLogger(IDOLTracker.class);\r\n\r\n        public static void main(String[] args) {\r\n             logger.info(&quot;&quot;);\r\n        }\r\n    }\r\n\r\nThen the structure could be as:\r\n\r\n&gt;ProgramFolder  \r\n |---- /config/log4j2.xml   \r\n |---- MyClass.jar\r\n\r\nWhen you run your jar, it will look outside the jar for the xml file.","title":"External log4j.xml file","body":"<p>The simplest path configuration for ``log4j2<code>is using the</code>static block<code>setting</code>log4j.configurationFile`:</p>\n\n<pre><code>public class MyClass {\n\n    static {\n        System.setProperty(\"log4j.configurationFile\", \"./config/log4j2.xml\");\n    }\n\n    protected final transient Logger logger =  LogManager.getLogger(IDOLTracker.class);\n\n    public static void main(String[] args) {\n         logger.info(\"\");\n    }\n}\n</code></pre>\n\n<p>Then the structure could be as:</p>\n\n<blockquote>\n  <p>ProgramFolder<br>\n   |---- /config/log4j2.xml<br>\n   |---- MyClass.jar</p>\n</blockquote>\n\n<p>When you run your jar, it will look outside the jar for the xml file.</p>\n"}],"owner":{"account_id":13696,"reputation":17521,"user_id":27657,"accept_rate":65,"display_name":"javamonkey79"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":88203,"favorite_count":0,"down_vote_count":0,"up_vote_count":41,"accepted_answer_id":2594745,"answer_count":9,"score":41,"last_activity_date":1689295906,"creation_date":1270662703,"question_id":2594689,"body_markdown":"I am trying to run a jar with the log4j.xml file on the file system outside the jar like so:\r\n\r\n    java -jar MyJarName.jar -cp=/opt/companyName/pathToJar/ log4j.configuration=log4j.xml argToJar1 argToJar2\r\n\r\nI have also tried:\r\n\r\n    java -jar MyJarName.jar -cp=/opt/companyName/pathToJar/ log4j.configuration=/opt/companyName/pathToJar/log4j.xml argToJar1 argToJar2\r\n\r\n\r\nThe log4j.xml is file is in the same directory as the jar (/opt/companyName/pathToJar/), yet I still get the standard warning message:\r\n\r\n    log4j:WARN No appenders could be found for logger (org.apache.axis.i18n.ProjectResourceBundle).\r\n    log4j:WARN Please initialize the log4j system properly.\r\n\r\nIs it possible to have the config file outside the jar, or do I have to package it with the jar? \r\n\r\nTIA","title":"External log4j.xml file","body":"<p>I am trying to run a jar with the log4j.xml file on the file system outside the jar like so:</p>\n\n<pre><code>java -jar MyJarName.jar -cp=/opt/companyName/pathToJar/ log4j.configuration=log4j.xml argToJar1 argToJar2\n</code></pre>\n\n<p>I have also tried:</p>\n\n<pre><code>java -jar MyJarName.jar -cp=/opt/companyName/pathToJar/ log4j.configuration=/opt/companyName/pathToJar/log4j.xml argToJar1 argToJar2\n</code></pre>\n\n<p>The log4j.xml is file is in the same directory as the jar (/opt/companyName/pathToJar/), yet I still get the standard warning message:</p>\n\n<pre><code>log4j:WARN No appenders could be found for logger (org.apache.axis.i18n.ProjectResourceBundle).\nlog4j:WARN Please initialize the log4j system properly.\n</code></pre>\n\n<p>Is it possible to have the config file outside the jar, or do I have to package it with the jar? </p>\n\n<p>TIA</p>\n"},{"tags":["java","java-8","java-time","systemtime"],"answers":[{"tags":[],"owner":{"account_id":440158,"reputation":323231,"user_id":829571,"accept_rate":94,"display_name":"assylias"},"down_vote_count":0,"up_vote_count":167,"is_accepted":true,"score":167,"last_activity_date":1578760074,"creation_date":1443252474,"answer_id":32794740,"question_id":32792000,"body_markdown":"In your code, replace `LocalDate.now()` with [`LocalDate.now(clock);`][1].\r\n\r\nYou can then pass `Clock.systemDefaultZone()` for production and [a fixed clock][2] for testing.\r\n\r\n----------\r\nThis is an example :\r\n\r\nFirst, inject the `Clock`. If you are using spring boot just do a :\r\n    \r\n    @Bean\r\n    public Clock clock() {\r\n        return Clock.systemDefaultZone();\r\n    }\r\n\r\nSecond, call `LocalDate.now(clock)` in your code :\r\n\r\n    @Component\r\n    public class SomeClass{\r\n\r\n        @Autowired\r\n        private Clock clock;\r\n\r\n        public LocalDate someMethod(){\r\n             return LocalDate.now(clock);\r\n        }\r\n    }\r\n\r\nNow, inside your unit test class :\r\n    \r\n    // Some fixed date to make your tests\r\n    private final static LocalDate LOCAL_DATE = LocalDate.of(1989, 01, 13);\r\n\r\n    // mock your tested class\r\n    @InjectMocks\r\n    private SomeClass someClass;\r\n\r\n    //Mock your clock bean\r\n    @Mock\r\n    private Clock clock;\r\n    \r\n    //field that will contain the fixed clock\r\n    private Clock fixedClock;\r\n\r\n\r\n    @Before\r\n    public void initMocks() {\r\n        MockitoAnnotations.initMocks(this);\r\n\r\n        //tell your tests to return the specified LOCAL_DATE when calling LocalDate.now(clock)\r\n        fixedClock = Clock.fixed(LOCAL_DATE.atStartOfDay(ZoneId.systemDefault()).toInstant(), ZoneId.systemDefault());\r\n        doReturn(fixedClock.instant()).when(clock).instant();\r\n        doReturn(fixedClock.getZone()).when(clock).getZone();\r\n    }\r\n\r\n    @Test\r\n    public void testSomeMethod(){\r\n        // call the method to test\r\n        LocalDate returnedLocalDate = someClass.someMethod();\r\n\r\n        //assert\r\n        assertEquals(LOCAL_DATE, returnedLocalDate);\r\n    }\r\n\r\n [1]: https://docs.oracle.com/javase/8/docs/api/java/time/LocalDate.html#now-java.time.Clock-\r\n [2]: https://docs.oracle.com/javase/8/docs/api/java/time/Clock.html#fixed-java.time.Instant-java.time.ZoneId-","title":"How can I mock java.time.LocalDate.now()","body":"<p>In your code, replace <code>LocalDate.now()</code> with <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/LocalDate.html#now-java.time.Clock-\" rel=\"noreferrer\"><code>LocalDate.now(clock);</code></a>.</p>\n\n<p>You can then pass <code>Clock.systemDefaultZone()</code> for production and <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/Clock.html#fixed-java.time.Instant-java.time.ZoneId-\" rel=\"noreferrer\">a fixed clock</a> for testing.</p>\n\n<hr>\n\n<p>This is an example :</p>\n\n<p>First, inject the <code>Clock</code>. If you are using spring boot just do a :</p>\n\n<pre><code>@Bean\npublic Clock clock() {\n    return Clock.systemDefaultZone();\n}\n</code></pre>\n\n<p>Second, call <code>LocalDate.now(clock)</code> in your code :</p>\n\n<pre><code>@Component\npublic class SomeClass{\n\n    @Autowired\n    private Clock clock;\n\n    public LocalDate someMethod(){\n         return LocalDate.now(clock);\n    }\n}\n</code></pre>\n\n<p>Now, inside your unit test class :</p>\n\n<pre><code>// Some fixed date to make your tests\nprivate final static LocalDate LOCAL_DATE = LocalDate.of(1989, 01, 13);\n\n// mock your tested class\n@InjectMocks\nprivate SomeClass someClass;\n\n//Mock your clock bean\n@Mock\nprivate Clock clock;\n\n//field that will contain the fixed clock\nprivate Clock fixedClock;\n\n\n@Before\npublic void initMocks() {\n    MockitoAnnotations.initMocks(this);\n\n    //tell your tests to return the specified LOCAL_DATE when calling LocalDate.now(clock)\n    fixedClock = Clock.fixed(LOCAL_DATE.atStartOfDay(ZoneId.systemDefault()).toInstant(), ZoneId.systemDefault());\n    doReturn(fixedClock.instant()).when(clock).instant();\n    doReturn(fixedClock.getZone()).when(clock).getZone();\n}\n\n@Test\npublic void testSomeMethod(){\n    // call the method to test\n    LocalDate returnedLocalDate = someClass.someMethod();\n\n    //assert\n    assertEquals(LOCAL_DATE, returnedLocalDate);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":44057,"reputation":6418,"user_id":129073,"accept_rate":100,"display_name":"Gebb"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1443260121,"creation_date":1443260121,"answer_id":32795691,"question_id":32792000,"body_markdown":"You might also want to pass a fixed clock in production (the value of which is fixed at the start of a transaction) to avoid using inconsistent &quot;now&quot; in different entities and requests.\r\nSee [this question][1] for details.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/32751702/consistently-using-the-value-of-now-througout-the-transaction","title":"How can I mock java.time.LocalDate.now()","body":"<p>You might also want to pass a fixed clock in production (the value of which is fixed at the start of a transaction) to avoid using inconsistent \"now\" in different entities and requests.\nSee <a href=\"https://stackoverflow.com/questions/32751702/consistently-using-the-value-of-now-througout-the-transaction\">this question</a> for details.</p>\n"},{"tags":[],"owner":{"account_id":1425811,"reputation":10732,"user_id":1349366,"display_name":"Aivean"},"down_vote_count":1,"up_vote_count":12,"is_accepted":false,"score":11,"last_activity_date":1443260428,"creation_date":1443260428,"answer_id":32795733,"question_id":32792000,"body_markdown":"You can refactor you code to make it test-friendly, for example, replace all invocations of `LocalDate.now()` with invocation of some method of custom mockable non-static class.\r\n\r\nAlternatively, you can use [PowerMock&#39;s mockStatic](https://stackoverflow.com/questions/10583202/powermockito-mock-single-static-method-and-return-object).","title":"How can I mock java.time.LocalDate.now()","body":"<p>You can refactor you code to make it test-friendly, for example, replace all invocations of <code>LocalDate.now()</code> with invocation of some method of custom mockable non-static class.</p>\n\n<p>Alternatively, you can use <a href=\"https://stackoverflow.com/questions/10583202/powermockito-mock-single-static-method-and-return-object\">PowerMock's mockStatic</a>.</p>\n"},{"tags":[],"owner":{"account_id":6193930,"reputation":2587,"user_id":4825845,"display_name":"Juan Moreno"},"down_vote_count":2,"up_vote_count":5,"is_accepted":false,"score":3,"last_activity_date":1545922913,"creation_date":1545922913,"answer_id":53947030,"question_id":32792000,"body_markdown":"If we need to mock static methods like now() we can use multiple alternatives like [PowerMock][1]:\r\n\r\n    @RunWith(PowerMockRunner.class)\r\n    @PrepareForTest({ LocalDateTime.class })\r\n    public class LocalDateTimeUnitTest {\r\n    \r\n        @Test\r\n        public void givenLocalDateTimeMock_whenNow_thenGetFixedLocalDateTime() {\r\n            Clock clock = Clock.fixed(Instant.parse(&quot;2014-12-22T10:15:30.00Z&quot;), ZoneId.of(&quot;UTC&quot;));\r\n            LocalDateTime dateTime = LocalDateTime.now(clock);\r\n            mockStatic(LocalDateTime.class);\r\n            when(LocalDateTime.now()).thenReturn(dateTime);\r\n            String dateTimeExpected = &quot;2014-12-22T10:15:30&quot;;\r\n    \r\n            LocalDateTime now = LocalDateTime.now();\r\n    \r\n            assertThat(now).isEqualTo(dateTimeExpected);\r\n        }\r\n    }\r\n\r\nOr [JMockit][2], indeed with JMockit we can use the MockUp class:\r\n\r\n    @Test\r\n    public void givenLocalDateTimeWithJMock_whenNow_thenGetFixedLocalDateTime() {\r\n        Clock clock = Clock.fixed(Instant.parse(&quot;2014-12-21T10:15:30.00Z&quot;), ZoneId.of(&quot;UTC&quot;));\r\n        new MockUp&lt;LocalDateTime&gt;() {\r\n            @Mock\r\n            public LocalDateTime now() {\r\n                return LocalDateTime.now(clock);\r\n            }\r\n        };\r\n        String dateTimeExpected = &quot;2014-12-21T10:15:30&quot;;\r\n    \r\n        LocalDateTime now = LocalDateTime.now();\r\n    \r\n        assertThat(now).isEqualTo(dateTimeExpected);\r\n    }\r\n\r\nOr the Expectations class:\r\n\r\n    @Test\r\n    public void givenLocalDateTimeWithExpectations_whenNow_thenGetFixedLocalDateTime() {\r\n        Clock clock = Clock.fixed(Instant.parse(&quot;2014-12-23T10:15:30.00Z&quot;), ZoneId.of(&quot;UTC&quot;));\r\n        LocalDateTime dateTimeExpected = LocalDateTime.now(clock);\r\n        new Expectations(LocalDateTime.class) {\r\n            {\r\n                LocalDateTime.now();\r\n                result = dateTimeExpected;\r\n            }\r\n        };\r\n    \r\n        LocalDateTime now = LocalDateTime.now();\r\n    \r\n        assertThat(now).isEqualTo(dateTimeExpected);\r\n    }\r\n\r\nWe can find more examples [here][3].\r\n\r\nAnother simple alternative is to use the [now()][4] method with a fixed Clock instance. **Certainly, most of the classes in java.time package have a now() method with a Clock parameter**:\r\n\r\n    @Test\r\n    public void givenFixedClock_whenNow_thenGetFixedLocalDateTime() {\r\n        Clock clock = Clock.fixed(Instant.parse(&quot;2014-12-22T10:15:30.00Z&quot;), ZoneId.of(&quot;UTC&quot;));\r\n        String dateTimeExpected = &quot;2014-12-22T10:15:30&quot;;\r\n     \r\n        LocalDateTime dateTime = LocalDateTime.now(clock);\r\n     \r\n        assertThat(dateTime).isEqualTo(dateTimeExpected);\r\n    }\r\n\r\n\r\n  [1]: http://powermock.github.io/\r\n  [2]: http://jmockit.github.io/\r\n  [3]: https://www.baeldung.com/java-override-system-time\r\n  [4]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/LocalDate.html#now(java.time.Clock)","title":"How can I mock java.time.LocalDate.now()","body":"<p>If we need to mock static methods like now() we can use multiple alternatives like <a href=\"http://powermock.github.io/\" rel=\"nofollow noreferrer\">PowerMock</a>:</p>\n\n<pre><code>@RunWith(PowerMockRunner.class)\n@PrepareForTest({ LocalDateTime.class })\npublic class LocalDateTimeUnitTest {\n\n    @Test\n    public void givenLocalDateTimeMock_whenNow_thenGetFixedLocalDateTime() {\n        Clock clock = Clock.fixed(Instant.parse(\"2014-12-22T10:15:30.00Z\"), ZoneId.of(\"UTC\"));\n        LocalDateTime dateTime = LocalDateTime.now(clock);\n        mockStatic(LocalDateTime.class);\n        when(LocalDateTime.now()).thenReturn(dateTime);\n        String dateTimeExpected = \"2014-12-22T10:15:30\";\n\n        LocalDateTime now = LocalDateTime.now();\n\n        assertThat(now).isEqualTo(dateTimeExpected);\n    }\n}\n</code></pre>\n\n<p>Or <a href=\"http://jmockit.github.io/\" rel=\"nofollow noreferrer\">JMockit</a>, indeed with JMockit we can use the MockUp class:</p>\n\n<pre><code>@Test\npublic void givenLocalDateTimeWithJMock_whenNow_thenGetFixedLocalDateTime() {\n    Clock clock = Clock.fixed(Instant.parse(\"2014-12-21T10:15:30.00Z\"), ZoneId.of(\"UTC\"));\n    new MockUp&lt;LocalDateTime&gt;() {\n        @Mock\n        public LocalDateTime now() {\n            return LocalDateTime.now(clock);\n        }\n    };\n    String dateTimeExpected = \"2014-12-21T10:15:30\";\n\n    LocalDateTime now = LocalDateTime.now();\n\n    assertThat(now).isEqualTo(dateTimeExpected);\n}\n</code></pre>\n\n<p>Or the Expectations class:</p>\n\n<pre><code>@Test\npublic void givenLocalDateTimeWithExpectations_whenNow_thenGetFixedLocalDateTime() {\n    Clock clock = Clock.fixed(Instant.parse(\"2014-12-23T10:15:30.00Z\"), ZoneId.of(\"UTC\"));\n    LocalDateTime dateTimeExpected = LocalDateTime.now(clock);\n    new Expectations(LocalDateTime.class) {\n        {\n            LocalDateTime.now();\n            result = dateTimeExpected;\n        }\n    };\n\n    LocalDateTime now = LocalDateTime.now();\n\n    assertThat(now).isEqualTo(dateTimeExpected);\n}\n</code></pre>\n\n<p>We can find more examples <a href=\"https://www.baeldung.com/java-override-system-time\" rel=\"nofollow noreferrer\">here</a>.</p>\n\n<p>Another simple alternative is to use the <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/LocalDate.html#now(java.time.Clock)\" rel=\"nofollow noreferrer\">now()</a> method with a fixed Clock instance. <strong>Certainly, most of the classes in java.time package have a now() method with a Clock parameter</strong>:</p>\n\n<pre><code>@Test\npublic void givenFixedClock_whenNow_thenGetFixedLocalDateTime() {\n    Clock clock = Clock.fixed(Instant.parse(\"2014-12-22T10:15:30.00Z\"), ZoneId.of(\"UTC\"));\n    String dateTimeExpected = \"2014-12-22T10:15:30\";\n\n    LocalDateTime dateTime = LocalDateTime.now(clock);\n\n    assertThat(dateTime).isEqualTo(dateTimeExpected);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17052943,"reputation":91,"user_id":12338180,"display_name":"Strax"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1576587732,"creation_date":1576586892,"answer_id":59374592,"question_id":32792000,"body_markdown":"Using Spring:\r\n\r\n**ClockConfiguration class:**\r\n\r\n    @Configuration\r\n    public class ClockConfiguration {\r\n        private final static LocalDate LOCAL_DATE = LocalDate.of(2019, 12, 17);\r\n        \r\n        @Bean\r\n        @ConditionalOnMissingBean\r\n        Clock getSystemDefaultZoneClock() {\r\n            return Clock.systemDefaultZone();\r\n        }\r\n        \r\n        @Bean\r\n        @Profile(&quot;test&quot;)\r\n        @Primary\r\n        Clock getFixedClock() {\r\n            return Clock.fixed(LOCAL_DATE.atStartOfDay(ZoneId.systemDefault()).toInstant(), ZoneId.systemDefault());\r\n        }\r\n    }\r\n\r\n**SomeService class:**\r\n\r\n    @Service\r\n    @RequiredArgsConstructor\r\n    public class SomeService {\r\n\r\n    \tprivate final Clock clock;\r\n    \t\r\n    \tpublic void someMethod(){\r\n    \t\t...\r\n\r\n    \t\tLocalDateTime.now(clock)\r\n    \t\tLocalDate.now(clock)\r\n\r\n    \t\t...\r\n    \t}\r\n    }\r\n\r\nYou must have an active &quot;test&quot; profile in the test:\r\n\r\n**SomeServiceTest class:**\r\n\r\n    @ActiveProfiles(&quot;test&quot;)\r\n    @EnableConfigurationProperties\r\n    @SpringBootTest(classes = [YourAppMainClass])\r\n    class SomeServiceTest {\r\n    \t...\r\n    }","title":"How can I mock java.time.LocalDate.now()","body":"<p>Using Spring:</p>\n\n<p><strong>ClockConfiguration class:</strong></p>\n\n<pre><code>@Configuration\npublic class ClockConfiguration {\n    private final static LocalDate LOCAL_DATE = LocalDate.of(2019, 12, 17);\n\n    @Bean\n    @ConditionalOnMissingBean\n    Clock getSystemDefaultZoneClock() {\n        return Clock.systemDefaultZone();\n    }\n\n    @Bean\n    @Profile(\"test\")\n    @Primary\n    Clock getFixedClock() {\n        return Clock.fixed(LOCAL_DATE.atStartOfDay(ZoneId.systemDefault()).toInstant(), ZoneId.systemDefault());\n    }\n}\n</code></pre>\n\n<p><strong>SomeService class:</strong></p>\n\n<pre><code>@Service\n@RequiredArgsConstructor\npublic class SomeService {\n\n    private final Clock clock;\n\n    public void someMethod(){\n        ...\n\n        LocalDateTime.now(clock)\n        LocalDate.now(clock)\n\n        ...\n    }\n}\n</code></pre>\n\n<p>You must have an active \"test\" profile in the test:</p>\n\n<p><strong>SomeServiceTest class:</strong></p>\n\n<pre><code>@ActiveProfiles(\"test\")\n@EnableConfigurationProperties\n@SpringBootTest(classes = [YourAppMainClass])\nclass SomeServiceTest {\n    ...\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16110107,"reputation":21,"user_id":11628537,"display_name":"Ghanshyam Parmar"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1606346328,"creation_date":1606346328,"answer_id":65014036,"question_id":32792000,"body_markdown":"You can use supplier inside your class which you are testing to pass current time wherever date time is used. \r\n\r\n    public Supplier&lt;LocalDateTime&gt; localDateTime = () -&gt; LocalDateTime.now();\r\n\r\nand in the test method just override its value like :\r\n\r\n    myClassObj.localDateTime = () -&gt; LocalDateTime.parse(&quot;2020-11-24T23:59:59.999&quot;);","title":"How can I mock java.time.LocalDate.now()","body":"<p>You can use supplier inside your class which you are testing to pass current time wherever date time is used.</p>\n<pre><code>public Supplier&lt;LocalDateTime&gt; localDateTime = () -&gt; LocalDateTime.now();\n</code></pre>\n<p>and in the test method just override its value like :</p>\n<pre><code>myClassObj.localDateTime = () -&gt; LocalDateTime.parse(&quot;2020-11-24T23:59:59.999&quot;);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2815780,"reputation":99,"user_id":2420898,"display_name":"user2420898"},"down_vote_count":1,"up_vote_count":9,"is_accepted":false,"score":8,"last_activity_date":1622840438,"creation_date":1622840438,"answer_id":67843923,"question_id":32792000,"body_markdown":"We have to mock a static method here. I use following dependency. Remember all our test code has to be in the try block. As soon as we call LocalDate.now() or LocalDate\r\n\r\n    &lt;!-- https://mvnrepository.com/artifact/org.mockito/mockito-inline --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.mockito&lt;/groupId&gt;\r\n        &lt;artifactId&gt;mockito-inline&lt;/artifactId&gt;\r\n        &lt;version&gt;3.11.0&lt;/version&gt;\r\n        &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\n\r\n**The code:**\r\n\r\n     @Test\r\n        void verifykNonLeapYear() {\r\n    \r\n            LocalDate currentLocalDate = LocalDate.of(2010, 2, 13);\r\n            try (MockedStatic&lt;LocalDate&gt; topDateTimeUtilMock = Mockito.mockStatic(LocalDate.class)) {\r\n                topDateTimeUtilMock.when(() -&gt; LocalDate.now()).thenReturn(currentLocalDate);\r\n                assertThat(TopDateTimeUtil.numberOfDaysInCurrentYear(), is(365));\r\n            }\r\n        }","title":"How can I mock java.time.LocalDate.now()","body":"<p>We have to mock a static method here. I use following dependency. Remember all our test code has to be in the try block. As soon as we call LocalDate.now() or LocalDate</p>\n<pre><code>&lt;!-- https://mvnrepository.com/artifact/org.mockito/mockito-inline --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.mockito&lt;/groupId&gt;\n    &lt;artifactId&gt;mockito-inline&lt;/artifactId&gt;\n    &lt;version&gt;3.11.0&lt;/version&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p><strong>The code:</strong></p>\n<pre><code> @Test\n    void verifykNonLeapYear() {\n\n        LocalDate currentLocalDate = LocalDate.of(2010, 2, 13);\n        try (MockedStatic&lt;LocalDate&gt; topDateTimeUtilMock = Mockito.mockStatic(LocalDate.class)) {\n            topDateTimeUtilMock.when(() -&gt; LocalDate.now()).thenReturn(currentLocalDate);\n            assertThat(TopDateTimeUtil.numberOfDaysInCurrentYear(), is(365));\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26749316,"reputation":11,"user_id":20348947,"display_name":"TheLittleChimp"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675324794,"creation_date":1675165094,"answer_id":75296562,"question_id":32792000,"body_markdown":"You can mock final classes with `Mockito`.\r\nAdd this `&#39;mockito-extensions&#39;` directory to your `src/test/resources`\r\ni.e.  `src/test/resources/mockito-extensions`\r\n\r\nAdd this file\r\n\r\n    org.mockito.plugins.MockMaker\r\n\r\nwith content\r\n\r\n    mock-maker-inline\r\n\r\nMockito will check the extensions directory for configuration files when it is loaded. This file will enable the mocking of final methods and classes.\r\n\r\nYou can find more details on this approach using [baeldung](https://www.baeldung.com/mockito-final)\r\n\r\nAnother programmatic approach is using `MockMakers.INLINE` in your code as shown in the [official example](https://github.com/mockito/mockito/blob/main/subprojects/programmatic-test/src/test/java/org/mockito/ProgrammaticMockMakerTest.java#L23):\r\n\r\n```java\r\nMockito.mock(ClassWithFinalMethod.class, withSettings().mockMaker(MockMakers.INLINE));\r\nMockito.when(inlineMock.finalMethodCallingNonFinal()).thenReturn(&quot;MOCKED&quot;);\r\nassertEquals(&quot;MOCKED&quot;, inlineMock.finalMethodCallingNonFinal());\r\n```\r\nYou can also use annotation as described in [the docs](https://web.archive.org/web/20230124182729/https://javadoc.io/doc/org.mockito/mockito-core/latest/org/mockito/Mockito.html#individual_mock_maker):\r\n```\r\n@Mock(mockMaker = MockMakers.INLINE)\r\nFoo mock;\r\n```","title":"How can I mock java.time.LocalDate.now()","body":"<p>You can mock final classes with <code>Mockito</code>.\nAdd this <code>'mockito-extensions'</code> directory to your <code>src/test/resources</code>\ni.e.  <code>src/test/resources/mockito-extensions</code></p>\n<p>Add this file</p>\n<pre><code>org.mockito.plugins.MockMaker\n</code></pre>\n<p>with content</p>\n<pre><code>mock-maker-inline\n</code></pre>\n<p>Mockito will check the extensions directory for configuration files when it is loaded. This file will enable the mocking of final methods and classes.</p>\n<p>You can find more details on this approach using <a href=\"https://www.baeldung.com/mockito-final\" rel=\"nofollow noreferrer\">baeldung</a></p>\n<p>Another programmatic approach is using <code>MockMakers.INLINE</code> in your code as shown in the <a href=\"https://github.com/mockito/mockito/blob/main/subprojects/programmatic-test/src/test/java/org/mockito/ProgrammaticMockMakerTest.java#L23\" rel=\"nofollow noreferrer\">official example</a>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Mockito.mock(ClassWithFinalMethod.class, withSettings().mockMaker(MockMakers.INLINE));\nMockito.when(inlineMock.finalMethodCallingNonFinal()).thenReturn(&quot;MOCKED&quot;);\nassertEquals(&quot;MOCKED&quot;, inlineMock.finalMethodCallingNonFinal());\n</code></pre>\n<p>You can also use annotation as described in <a href=\"https://web.archive.org/web/20230124182729/https://javadoc.io/doc/org.mockito/mockito-core/latest/org/mockito/Mockito.html#individual_mock_maker\" rel=\"nofollow noreferrer\">the docs</a>:</p>\n<pre><code>@Mock(mockMaker = MockMakers.INLINE)\nFoo mock;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11381181,"reputation":203,"user_id":8344055,"display_name":"Beast77"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1675939976,"creation_date":1675939976,"answer_id":75397567,"question_id":32792000,"body_markdown":"If you are here and using `Mockito` and Kotlin, do the following:\r\n\r\n            mockStatic(LocalDate::class.java, Mockito.CALLS_REAL_METHODS).use {\r\n            `when`(LocalDate.now()).thenReturn(date)\r\n            // Do your stuff here\r\n        }\r\n\r\nIf you are using Java, check out this [issue][1] for how it is done.\r\n\r\n\r\n  [1]: https://github.com/mockito/mockito/issues/2676","title":"How can I mock java.time.LocalDate.now()","body":"<p>If you are here and using <code>Mockito</code> and Kotlin, do the following:</p>\n<pre><code>        mockStatic(LocalDate::class.java, Mockito.CALLS_REAL_METHODS).use {\n        `when`(LocalDate.now()).thenReturn(date)\n        // Do your stuff here\n    }\n</code></pre>\n<p>If you are using Java, check out this <a href=\"https://github.com/mockito/mockito/issues/2676\" rel=\"nofollow noreferrer\">issue</a> for how it is done.</p>\n"},{"tags":[],"owner":{"account_id":14640622,"reputation":1728,"user_id":10573307,"display_name":"Aayush Bhattacharya"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1689090176,"creation_date":1689090176,"answer_id":76663689,"question_id":32792000,"body_markdown":"to Mock LocalDate to desired date\r\n=\r\n\r\n        @Test\r\n        public void mockStaticMethod() {\r\n    \t    //dummy data\r\n            try(MockedStatic&lt;LocalDate&gt; mockedStatic=Mockito.mockStatic(LocalDate.class,Mockito.CALLS_REAL_METHODS)){\r\n                LocalDate currentDate=LocalDate.of(2023, 1, 11);\r\n                mockedStatic.when(LocalDate::now).thenReturn(currentDate);\r\n              //yourService.serviceMethod(arguments);\r\n              //assertEquals(expected, actual);\r\n            }\r\n        }","title":"How can I mock java.time.LocalDate.now()","body":"<h1>to Mock LocalDate to desired date</h1>\n<pre><code>    @Test\n    public void mockStaticMethod() {\n        //dummy data\n        try(MockedStatic&lt;LocalDate&gt; mockedStatic=Mockito.mockStatic(LocalDate.class,Mockito.CALLS_REAL_METHODS)){\n            LocalDate currentDate=LocalDate.of(2023, 1, 11);\n            mockedStatic.when(LocalDate::now).thenReturn(currentDate);\n          //yourService.serviceMethod(arguments);\n          //assertEquals(expected, actual);\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":28829784,"reputation":67,"user_id":22080520,"display_name":"vesper"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1689295344,"creation_date":1689278126,"answer_id":76682826,"question_id":32792000,"body_markdown":"given i have a random class with a method that just returns `LocalDate.now()`\r\n\r\n```java\r\nimport java.time.LocalDate;\r\n\r\npublic RandomClass {\r\n\r\n    public LocalDate getTodaysDate() {\r\n        return LocalDate.now();\r\n    }\r\n}\r\n```\r\n\r\nand i want to mock that to return my birthday instead\r\n\r\n```java\r\nimport org.junit.jupiter.api.AfterEach;\r\nimport org.junit.jupiter.api.BeforeEach;\r\nimport org.junit.jupiter.api.Test;\r\nimport org.mockito.MockedStatic;\r\nimport org.mockito.Mockito;\r\n\r\nimport java.time.LocalDate;\r\nimport java.time.Month;\r\n\r\nimport static org.junit.jupiter.api.Assertions.assertEquals;\r\n\r\npublic class RandomClassTest {\r\n\r\n    private RandomClass randomClass;\r\n\r\n    private MockedStatic&lt;LocalDate&gt; localDateMockedStatic;\r\n\r\n    @BeforeEach\r\n    void setUp() {\r\n        randomClass = new RandomClass();\r\n\r\n        // instead of using try-with resources, i decide to initialize the mockedStatic object before each test method\r\n        localDateMockedStatic = Mockito.mockStatic(LocalDate.class, Mockito.CALLS_REAL_METHODS);\r\n    }\r\n\r\n    @AfterEach\r\n    void tearDown() {\r\n        localDateMockedStatic.reset();        \r\n        localDateMockedStatic.close(); // and close the mockedStatic after each test method\r\n    }\r\n\r\n    @Test\r\n    public void getTodaysDateBirthdayTest() {\r\n        LocalDate birthday = LocalDate.of(1999, Month.SEPTEMBER, 29);\r\n\r\n        localDateMockedStatic.when(LocalDate::now).thenReturn(birthday);\r\n\r\n        assertEquals(birthday, randomClass.getTodaysDate());\r\n    }\r\n\r\n    @Test\r\n    public void getTodaysDateDefaultTest() {\r\n        // due to Mockito.CALLS_REAL_METHODS, this has default functionality\r\n        assertEquals(LocalDate.now(), randomClass.getTodaysDate());\r\n    }\r\n}\r\n```\r\n\r\nthis is essentially the same thing as some other responses in this thread but this just looks more visually pleasant to me so this is how i like to do it","title":"How can I mock java.time.LocalDate.now()","body":"<p>given i have a random class with a method that just returns <code>LocalDate.now()</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.time.LocalDate;\n\npublic RandomClass {\n\n    public LocalDate getTodaysDate() {\n        return LocalDate.now();\n    }\n}\n</code></pre>\n<p>and i want to mock that to return my birthday instead</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.junit.jupiter.api.AfterEach;\nimport org.junit.jupiter.api.BeforeEach;\nimport org.junit.jupiter.api.Test;\nimport org.mockito.MockedStatic;\nimport org.mockito.Mockito;\n\nimport java.time.LocalDate;\nimport java.time.Month;\n\nimport static org.junit.jupiter.api.Assertions.assertEquals;\n\npublic class RandomClassTest {\n\n    private RandomClass randomClass;\n\n    private MockedStatic&lt;LocalDate&gt; localDateMockedStatic;\n\n    @BeforeEach\n    void setUp() {\n        randomClass = new RandomClass();\n\n        // instead of using try-with resources, i decide to initialize the mockedStatic object before each test method\n        localDateMockedStatic = Mockito.mockStatic(LocalDate.class, Mockito.CALLS_REAL_METHODS);\n    }\n\n    @AfterEach\n    void tearDown() {\n        localDateMockedStatic.reset();        \n        localDateMockedStatic.close(); // and close the mockedStatic after each test method\n    }\n\n    @Test\n    public void getTodaysDateBirthdayTest() {\n        LocalDate birthday = LocalDate.of(1999, Month.SEPTEMBER, 29);\n\n        localDateMockedStatic.when(LocalDate::now).thenReturn(birthday);\n\n        assertEquals(birthday, randomClass.getTodaysDate());\n    }\n\n    @Test\n    public void getTodaysDateDefaultTest() {\n        // due to Mockito.CALLS_REAL_METHODS, this has default functionality\n        assertEquals(LocalDate.now(), randomClass.getTodaysDate());\n    }\n}\n</code></pre>\n<p>this is essentially the same thing as some other responses in this thread but this just looks more visually pleasant to me so this is how i like to do it</p>\n"}],"owner":{"account_id":6679643,"reputation":2824,"user_id":5153261,"accept_rate":77,"display_name":"Neil"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":128315,"favorite_count":0,"down_vote_count":2,"up_vote_count":103,"accepted_answer_id":32794740,"answer_count":11,"score":101,"last_activity_date":1689295344,"creation_date":1443223603,"question_id":32792000,"body_markdown":"In my test case, I need test time sensitive method, in that method we&#39;re using java 8 class LocalDate, it is **not Joda**.\r\n\r\nWhat can I do to change time, when I&#39;m running test","title":"How can I mock java.time.LocalDate.now()","body":"<p>In my test case, I need test time sensitive method, in that method we're using java 8 class LocalDate, it is <strong>not Joda</strong>.</p>\n\n<p>What can I do to change time, when I'm running test</p>\n"},{"tags":["java","text","fonts","rendering"],"comments":[{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1689295901,"post_id":76683969,"comment_id":135196911,"body_markdown":"Are you asking how to paint on a component with the java.awt.Graphics or are you asking how to make a font definition file to place in the operating system server.   Nb if you use a method from graphics object of the component you want to paint, to set something e.g. drawString(), call thecomponent.repaint() after.","body":"Are you asking how to paint on a component with the java.awt.Graphics or are you asking how to make a font definition file to place in the operating system server.   Nb if you use a method from graphics object of the component you want to paint, to set something e.g. drawString(), call thecomponent.repaint() after."},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1689296485,"post_id":76683969,"comment_id":135196952,"body_markdown":"Are you trying to convert the font to a pixel image?  Or just trying to render text using a specific font?  What toolkit are you using (AWT/Swing/JavaFX/something else) to render the graphics with?","body":"Are you trying to convert the font to a pixel image?  Or just trying to render text using a specific font?  What toolkit are you using (AWT/Swing/JavaFX/something else) to render the graphics with?"},{"owner":{"account_id":28973179,"reputation":1,"user_id":22192981,"display_name":"user22192981"},"score":0,"creation_date":1689297318,"post_id":76683969,"comment_id":135197041,"body_markdown":"I am using a Buffered Image along with `java.awt.image.DataBufferInt`; I only use the graphics component to render the pixel array.  I want to be able to read and store the tff font that is located in the project folder in pixel data, then replace the pixel data with the font&#39;s pixel data to then be rendered on the screen.","body":"I am using a Buffered Image along with <code>java.awt.image.DataBufferInt</code>; I only use the graphics component to render the pixel array.  I want to be able to read and store the tff font that is located in the project folder in pixel data, then replace the pixel data with the font&#39;s pixel data to then be rendered on the screen."},{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1689301539,"post_id":76683969,"comment_id":135197390,"body_markdown":"Wondering if the stream is useable this way, correct way is getResourceAsStream()  not FileInputStram     byte[] pxf = new byte[ttffilelength]; Font pixfont = Font.createFont(Font.TRUETYPE_FONT , new FileInputStream(filenamepathttf).read(pxf,0, ttffilelength)) Qvicky... read in all the file bytes in one long call (use getResourceAsStream not this)","body":"Wondering if the stream is useable this way, correct way is getResourceAsStream()  not FileInputStram     byte[] pxf = new byte[ttffilelength]; Font pixfont = Font.createFont(Font.TRUETYPE_FONT , new FileInputStream(filenamepathttf).read(pxf,0, ttffilelength)) Qvicky... read in all the file bytes in one long call (use getResourceAsStream not this)"}],"owner":{"account_id":28973179,"reputation":1,"user_id":22192981,"display_name":"user22192981"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689293557,"creation_date":1689293557,"question_id":76683969,"body_markdown":"For fun and to lean about Java I&#39;ve tasked myself with creating an application that can render images and lines with a pixel array.\r\n\r\nI have a function that sets a pixel&#39;s colour in that array:\r\n`pixel(int x, int y, int colour)`\r\n\r\n\r\nHow would I go about reading and storing the font data in pixels then rendering it to the screen pixel by pixel?  something like:\r\n`drawText(String text, int colour, float size)`\r\n","title":"How would I be able to read and render fonts in Java with a pixel array?","body":"<p>For fun and to lean about Java I've tasked myself with creating an application that can render images and lines with a pixel array.</p>\n<p>I have a function that sets a pixel's colour in that array:\n<code>pixel(int x, int y, int colour)</code></p>\n<p>How would I go about reading and storing the font data in pixels then rendering it to the screen pixel by pixel?  something like:\n<code>drawText(String text, int colour, float size)</code></p>\n"},{"tags":["java","lazy-evaluation"],"comments":[{"owner":{"account_id":2996624,"reputation":758,"user_id":2543055,"accept_rate":83,"display_name":"Simeon"},"score":0,"creation_date":1615806478,"post_id":15189209,"comment_id":117796240,"body_markdown":"A side note regarding the &amp;&amp; part of your example:\n`return a &amp;&amp; b` might ignore b if a is false, but `return a &amp; b` will also execute the second part of the relation.","body":"A side note regarding the &amp;&amp; part of your example: <code>return a &amp;&amp; b</code> might ignore b if a is false, but <code>return a &amp; b</code> will also execute the second part of the relation."}],"answers":[{"tags":[],"owner":{"account_id":152622,"reputation":490044,"user_id":367273,"accept_rate":96,"display_name":"NPE"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1362335616,"creation_date":1362335616,"answer_id":15189230,"question_id":15189209,"body_markdown":"&gt; Is isATrue() called if isBTrue() returns true?\r\n\r\n\r\n\r\nYes, both are called.","title":"Does Java have lazy evaluation?","body":"<blockquote>\n  <p>Is isATrue() called if isBTrue() returns true?</p>\n</blockquote>\n\n<p>Yes, both are called.</p>\n"},{"tags":[],"owner":{"account_id":44195,"reputation":269033,"user_id":129570,"accept_rate":79,"display_name":"Oliver Charlesworth"},"down_vote_count":1,"up_vote_count":27,"is_accepted":true,"score":26,"last_activity_date":1362488161,"creation_date":1362335629,"answer_id":15189236,"question_id":15189209,"body_markdown":"In Java (and other C-like languages), this is referred to as [*short-circuit evaluation*](http://en.wikipedia.org/wiki/Short-circuit_evaluation).&lt;sup&gt;*&lt;/sup&gt;\r\n\r\nAnd yes, in the second example `isATrue` is always called.  That is, unless the compiler/JVM can determine that it has no observable side-effects, in which case it may choose to optimize, but in which case you wouldn&#39;t notice the difference anyway.\r\n\r\n&lt;hr&gt;\r\n&lt;sub&gt;* &lt;s&gt;The two are quite distinct; the former is essentially an optimization technique, whereas the second is mandated by the language and can affect observable program behaviour.&lt;/s&gt;\r\n\r\nI originally suggested that this was quite distinct from lazy evaluation, but as @Ingo points out in comments below, that&#39;s a dubious assertion.  One may view the short-circuit operators in Java as a very limited application of lazy evaluation.\r\n\r\nHowever, when functional languages mandate lazy-evaluation semantics, it&#39;s usually for a quite different reason, namely prevention of infinite (or at least, excessive) recursion.\r\n&lt;/sub&gt;","title":"Does Java have lazy evaluation?","body":"<p>In Java (and other C-like languages), this is referred to as <a href=\"http://en.wikipedia.org/wiki/Short-circuit_evaluation\" rel=\"noreferrer\"><em>short-circuit evaluation</em></a>.<sup>*</sup></p>\n\n<p>And yes, in the second example <code>isATrue</code> is always called.  That is, unless the compiler/JVM can determine that it has no observable side-effects, in which case it may choose to optimize, but in which case you wouldn't notice the difference anyway.</p>\n\n<p><hr>\n<sub>* <s>The two are quite distinct; the former is essentially an optimization technique, whereas the second is mandated by the language and can affect observable program behaviour.</s></p>\n\n<p>I originally suggested that this was quite distinct from lazy evaluation, but as @Ingo points out in comments below, that's a dubious assertion.  One may view the short-circuit operators in Java as a very limited application of lazy evaluation.</p>\n\n<p>However, when functional languages mandate lazy-evaluation semantics, it's usually for a quite different reason, namely prevention of infinite (or at least, excessive) recursion.\n</sub></p>\n"},{"tags":[],"owner":{"account_id":462208,"reputation":16167,"user_id":864393,"display_name":"Jeremy Roman"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1362335631,"creation_date":1362335631,"answer_id":15189237,"question_id":15189209,"body_markdown":"No, it does not. `isBTrue()` will be invoked, regardless of the result of `isATrue()`. You can verify this yourself by writing such a program, with print statements in each of the methods.","title":"Does Java have lazy evaluation?","body":"<p>No, it does not. <code>isBTrue()</code> will be invoked, regardless of the result of <code>isATrue()</code>. You can verify this yourself by writing such a program, with print statements in each of the methods.</p>\n"},{"tags":[],"owner":{"account_id":401340,"reputation":12595,"user_id":767843,"accept_rate":100,"display_name":"emesx"},"down_vote_count":0,"up_vote_count":36,"is_accepted":false,"score":36,"last_activity_date":1368469766,"creation_date":1362335697,"answer_id":15189253,"question_id":15189209,"body_markdown":"Well, as far as the language is concerned - yes, both functions are called.\r\n\r\nIf you rewrote the function to this:\r\n\r\n    public boolean isTrue() {\r\n        return isBTrue() || isATrue();\r\n    }\r\n\r\nthen the second function will not be called, if the first is true.\r\n\r\n---\r\n\r\nBut this is *short-circuit evaluation*, not *lazy evaluation*. Lazy evaluation case would look something like this:\r\n\r\n    public interface LazyBoolean {\r\n    \tboolean eval();\r\n    }\r\n     \r\n    class CostlyComparison implements LazyBoolean {\r\n      private int a, b;\r\n      \r\n      public CostlyComparison(int a, int b) { \r\n        this.a=a; \r\n        this.b=b; \r\n      }\r\n\r\n      @Override \r\n      public boolean eval() {\r\n        //lots of probably not-always-necessary computation here\r\n        return a &gt; b;\r\n      }\r\n    } \r\n\r\n    public LazyBoolean isATrue() {\r\n      return new CostlyComparison(10,30);  //just an example\r\n    }\r\n\r\n    public boolean isTrue() {        // so now we only pay for creation of 2 objects\r\n        LazyBoolean a = isATrue();   // but the computation is not performed; \r\n        LazyBoolean b = isBTrue();   // instead, it&#39;s encapsulated in a LazyBoolean\r\n        return b.eval() || a.eval(); // and will be evaluated on demand;\r\n                                     // this is the definition of lazy eval.\r\n    }\r\n\r\n","title":"Does Java have lazy evaluation?","body":"<p>Well, as far as the language is concerned - yes, both functions are called.</p>\n\n<p>If you rewrote the function to this:</p>\n\n<pre><code>public boolean isTrue() {\n    return isBTrue() || isATrue();\n}\n</code></pre>\n\n<p>then the second function will not be called, if the first is true.</p>\n\n<hr>\n\n<p>But this is <em>short-circuit evaluation</em>, not <em>lazy evaluation</em>. Lazy evaluation case would look something like this:</p>\n\n<pre><code>public interface LazyBoolean {\n    boolean eval();\n}\n\nclass CostlyComparison implements LazyBoolean {\n  private int a, b;\n\n  public CostlyComparison(int a, int b) { \n    this.a=a; \n    this.b=b; \n  }\n\n  @Override \n  public boolean eval() {\n    //lots of probably not-always-necessary computation here\n    return a &gt; b;\n  }\n} \n\npublic LazyBoolean isATrue() {\n  return new CostlyComparison(10,30);  //just an example\n}\n\npublic boolean isTrue() {        // so now we only pay for creation of 2 objects\n    LazyBoolean a = isATrue();   // but the computation is not performed; \n    LazyBoolean b = isBTrue();   // instead, it's encapsulated in a LazyBoolean\n    return b.eval() || a.eval(); // and will be evaluated on demand;\n                                 // this is the definition of lazy eval.\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2248460,"reputation":12996,"user_id":1981279,"display_name":"Vishal K"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1362335997,"creation_date":1362335997,"answer_id":15189317,"question_id":15189209,"body_markdown":"Yes `isATrue()` will be called because you are calling it explicitly in line `boolean a = isATrue();`\r\n\r\nBut it won&#39;t be called in following case if `isBTrue()` returns `true`:\r\n\r\n    public boolean isTrue() {\r\n        return isBTrue() || isATrue();\r\n    }","title":"Does Java have lazy evaluation?","body":"<p>Yes <code>isATrue()</code> will be called because you are calling it explicitly in line <code>boolean a = isATrue();</code></p>\n\n<p>But it won't be called in following case if <code>isBTrue()</code> returns <code>true</code>:</p>\n\n<pre><code>public boolean isTrue() {\n    return isBTrue() || isATrue();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":44975,"reputation":3045,"user_id":132273,"display_name":"Tony Morris"},"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1369996621,"creation_date":1369996621,"answer_id":16855339,"question_id":15189209,"body_markdown":"No, Java has only eager evaluation for user-defined methods. Some of Java&#39;s language constructs implement non-strict evaluation as you note. Others include `if`, `?:`, `while`.\r\n\r\nI once learned[1] that there is some confusion around what it means to &quot;have lazy evaluation.&quot; First, lazy evaluation means *call-by-need* evaluation. Java has nothing at all like this. However, there is a common trend (which I personally discourage) to loosen the definition of lazy evaluation to also include *call-by-name* evaluation. Functions such as `&amp;&amp;` cannot be distinguished under call-by-need versus call-by-name evaluation; it would be the same regardless, which obscures the matter.\r\n\r\nTaking this loosening into account, some further counter-argue by claiming Java has lazy evaluation by the following:\r\n\r\n    interface Thunk&lt;A&gt; {\r\n      A value();\r\n    }\r\n\r\nThen, you might write a user-defined `&amp;&amp;` like so:\r\n\r\n    boolean and(boolean p, Thunk&lt;Boolean&gt; q) {\r\n      return p &amp;&amp; q();\r\n    }\r\n\r\nThe claim is then put forward that this demonstrates that Java has lazy evaluation. However, this is _not_ lazy evaluation, even in the loose sense. The distinguishing point here is that Java&#39;s type system does not unify the types `boolean`/`Boolean` and `Thunk&lt;Boolean&gt;`. Attempting to use one as the other will result in a *type-error*. In the absence of a static type system, the code would still fail. It is this lack of unification (static typing or not) that answers the question; no, Java does not have user-defined lazy evaluation. Of course, it can be emulated as above, but this is an uninteresting observation which follows from turing-equivalence.\r\n\r\nA language such as Scala has call-by-name evaluation, which allows a user-defined `and` function which is equivalent to the regular `&amp;&amp;` function (taking termination into account. See [1]).\r\n\r\n    // note the =&gt; annotation on the second argument\r\n    def and(p: Boolean, q: =&gt; Boolean) =\r\n      p &amp;&amp; q\r\n\r\nThis allows:\r\n\r\n    def z: Boolean = z\r\n    val r: Boolean = and(false, z)\r\n\r\nNote that this short program snippet *terminates* by providing a value. It also *unifies* values of type `Boolean` as call-by-name. Therefore, if you subscribe to the loose definition of lazy evaluation (and again, I discourage this), you might say that Scala has lazy evaluation. I provide Scala here as a good contrast. I recommend looking at Haskell for true lazy evaluation (call-by-need).\r\n\r\nHope this helps!\r\n\r\n[1] http://blog.tmorris.net/posts/a-fling-with-lazy-evaluation/","title":"Does Java have lazy evaluation?","body":"<p>No, Java has only eager evaluation for user-defined methods. Some of Java's language constructs implement non-strict evaluation as you note. Others include <code>if</code>, <code>?:</code>, <code>while</code>.</p>\n\n<p>I once learned[1] that there is some confusion around what it means to \"have lazy evaluation.\" First, lazy evaluation means <em>call-by-need</em> evaluation. Java has nothing at all like this. However, there is a common trend (which I personally discourage) to loosen the definition of lazy evaluation to also include <em>call-by-name</em> evaluation. Functions such as <code>&amp;&amp;</code> cannot be distinguished under call-by-need versus call-by-name evaluation; it would be the same regardless, which obscures the matter.</p>\n\n<p>Taking this loosening into account, some further counter-argue by claiming Java has lazy evaluation by the following:</p>\n\n<pre><code>interface Thunk&lt;A&gt; {\n  A value();\n}\n</code></pre>\n\n<p>Then, you might write a user-defined <code>&amp;&amp;</code> like so:</p>\n\n<pre><code>boolean and(boolean p, Thunk&lt;Boolean&gt; q) {\n  return p &amp;&amp; q();\n}\n</code></pre>\n\n<p>The claim is then put forward that this demonstrates that Java has lazy evaluation. However, this is <em>not</em> lazy evaluation, even in the loose sense. The distinguishing point here is that Java's type system does not unify the types <code>boolean</code>/<code>Boolean</code> and <code>Thunk&lt;Boolean&gt;</code>. Attempting to use one as the other will result in a <em>type-error</em>. In the absence of a static type system, the code would still fail. It is this lack of unification (static typing or not) that answers the question; no, Java does not have user-defined lazy evaluation. Of course, it can be emulated as above, but this is an uninteresting observation which follows from turing-equivalence.</p>\n\n<p>A language such as Scala has call-by-name evaluation, which allows a user-defined <code>and</code> function which is equivalent to the regular <code>&amp;&amp;</code> function (taking termination into account. See [1]).</p>\n\n<pre><code>// note the =&gt; annotation on the second argument\ndef and(p: Boolean, q: =&gt; Boolean) =\n  p &amp;&amp; q\n</code></pre>\n\n<p>This allows:</p>\n\n<pre><code>def z: Boolean = z\nval r: Boolean = and(false, z)\n</code></pre>\n\n<p>Note that this short program snippet <em>terminates</em> by providing a value. It also <em>unifies</em> values of type <code>Boolean</code> as call-by-name. Therefore, if you subscribe to the loose definition of lazy evaluation (and again, I discourage this), you might say that Scala has lazy evaluation. I provide Scala here as a good contrast. I recommend looking at Haskell for true lazy evaluation (call-by-need).</p>\n\n<p>Hope this helps!</p>\n\n<p>[1] <a href=\"http://blog.tmorris.net/posts/a-fling-with-lazy-evaluation/\" rel=\"noreferrer\">http://blog.tmorris.net/posts/a-fling-with-lazy-evaluation/</a></p>\n"},{"tags":[],"owner":{"account_id":5094363,"reputation":131,"user_id":4086276,"display_name":"Dima"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1411828832,"creation_date":1411828832,"answer_id":26075774,"question_id":15189209,"body_markdown":"SE8 (JDK1.8) has introduced [Lambda expressions][1], which can make lazy evaluations more transparent. Consider the statement in the main method of the following code:\r\n\r\n    @FunctionalInterface\r\n    public interface Lazy&lt;T&gt; {\r\n       T value();\r\n    }\r\n\r\n    class Test {\r\n       private String veryLongMethod() {\r\n          //Very long computation\r\n          return &quot;&quot;;\r\n       }\r\n    \r\n       public static &lt;T&gt; T coalesce(T primary, Lazy&lt;T&gt; secondary) {\r\n          return primary != null? primary : secondary.value();\r\n       }\r\n    \r\n       public static void main(String[] argv) {\r\n          String result = coalesce(argv[0], ()-&gt;veryLongMethod());\r\n       }\r\n    }\r\n\r\nThe called function coalesce returns the first given non-null value (as in SQL). The second parameter in its call is a Lambda expression. The method veryLongMethod() will be called only when argv[0] == null. The only payload in this case is inserting `()-&gt;` before the value to be lazily evaluated on demand.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/tutorial/java/javaOO/lambdaexpressions.html\r\n\r\n","title":"Does Java have lazy evaluation?","body":"<p>SE8 (JDK1.8) has introduced <a href=\"http://docs.oracle.com/javase/tutorial/java/javaOO/lambdaexpressions.html\">Lambda expressions</a>, which can make lazy evaluations more transparent. Consider the statement in the main method of the following code:</p>\n\n<pre><code>@FunctionalInterface\npublic interface Lazy&lt;T&gt; {\n   T value();\n}\n\nclass Test {\n   private String veryLongMethod() {\n      //Very long computation\n      return \"\";\n   }\n\n   public static &lt;T&gt; T coalesce(T primary, Lazy&lt;T&gt; secondary) {\n      return primary != null? primary : secondary.value();\n   }\n\n   public static void main(String[] argv) {\n      String result = coalesce(argv[0], ()-&gt;veryLongMethod());\n   }\n}\n</code></pre>\n\n<p>The called function coalesce returns the first given non-null value (as in SQL). The second parameter in its call is a Lambda expression. The method veryLongMethod() will be called only when argv[0] == null. The only payload in this case is inserting <code>()-&gt;</code> before the value to be lazily evaluated on demand.</p>\n"},{"tags":[],"owner":{"account_id":5320261,"reputation":7235,"user_id":4243908,"accept_rate":77,"display_name":"George"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1485772421,"creation_date":1485772421,"answer_id":41933723,"question_id":15189209,"body_markdown":"For simplicity you can use the Supplier interface from java 8 like this:\r\n\r\n    Supplier&lt;SomeVal&gt; someValSupplier = () -&gt; getSomeValLazily();\r\n\r\nThen in code afterwards you can have:\r\n\r\n    if (iAmLazy) \r\n      someVal = someValSupplier.get(); // lazy getting the value\r\n    else \r\n      someVal = getSomeVal(); // non lazy getting the value\r\n\r\n    \r\n\r\n","title":"Does Java have lazy evaluation?","body":"<p>For simplicity you can use the Supplier interface from java 8 like this:</p>\n\n<pre><code>Supplier&lt;SomeVal&gt; someValSupplier = () -&gt; getSomeValLazily();\n</code></pre>\n\n<p>Then in code afterwards you can have:</p>\n\n<pre><code>if (iAmLazy) \n  someVal = someValSupplier.get(); // lazy getting the value\nelse \n  someVal = getSomeVal(); // non lazy getting the value\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2775064,"reputation":1022,"user_id":2388791,"accept_rate":50,"display_name":"Abdullah Shahin"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1689292609,"creation_date":1521305855,"answer_id":49339508,"question_id":15189209,"body_markdown":"Just wanted to add in addition to what have been mentioned in this question thread, below is from Oracle Documentation on JVM\r\n\r\n&gt; a Java Virtual Machine implementation may choose to resolve each\r\n&gt; symbolic reference in a class or interface individually when it is\r\n&gt; used (&quot;lazy&quot; or &quot;late&quot; resolution), or to resolve them all at once\r\n&gt; when the class is being verified (&quot;eager&quot; or &quot;static&quot; resolution).\r\n&gt; This means that the resolution process may continue, in some\r\n&gt; implementations, after a class or interface has been initialized.\r\n\r\n[reference][1]\r\n\r\nand as an example of the classes that has lazy implementation is Stream, this is from Oracle Documentation on Stream\r\n\r\n&gt; Streams are lazy; computation on the source data is only performed\r\n&gt; when the terminal operation is initiated, and source elements are\r\n&gt; consumed only as needed.\r\n\r\n[reference][2]\r\n\r\nThat being said, if you do the following, nothing will be displayed. Unless you add initiator.\r\n\r\n    Stream.of(1, 2, 3, 4, 5).filter(number -&gt; {\r\n       System.out.println(&quot;This is not going to be logged&quot;);\r\n       return true;\r\n    });\r\n\r\n\r\n \r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/specs/jvms/se9/html/jvms-5.html\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html","title":"Does Java have lazy evaluation?","body":"<p>Just wanted to add in addition to what have been mentioned in this question thread, below is from Oracle Documentation on JVM</p>\n<blockquote>\n<p>a Java Virtual Machine implementation may choose to resolve each\nsymbolic reference in a class or interface individually when it is\nused (&quot;lazy&quot; or &quot;late&quot; resolution), or to resolve them all at once\nwhen the class is being verified (&quot;eager&quot; or &quot;static&quot; resolution).\nThis means that the resolution process may continue, in some\nimplementations, after a class or interface has been initialized.</p>\n</blockquote>\n<p><a href=\"https://docs.oracle.com/javase/specs/jvms/se9/html/jvms-5.html\" rel=\"nofollow noreferrer\">reference</a></p>\n<p>and as an example of the classes that has lazy implementation is Stream, this is from Oracle Documentation on Stream</p>\n<blockquote>\n<p>Streams are lazy; computation on the source data is only performed\nwhen the terminal operation is initiated, and source elements are\nconsumed only as needed.</p>\n</blockquote>\n<p><a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html\" rel=\"nofollow noreferrer\">reference</a></p>\n<p>That being said, if you do the following, nothing will be displayed. Unless you add initiator.</p>\n<pre><code>Stream.of(1, 2, 3, 4, 5).filter(number -&gt; {\n   System.out.println(&quot;This is not going to be logged&quot;);\n   return true;\n});\n</code></pre>\n"}],"owner":{"account_id":483434,"reputation":25487,"user_id":898478,"accept_rate":86,"display_name":"m0skit0"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48627,"favorite_count":0,"down_vote_count":0,"up_vote_count":35,"accepted_answer_id":15189236,"answer_count":9,"score":35,"last_activity_date":1689292609,"creation_date":1362335518,"question_id":15189209,"body_markdown":"I know that Java has smart/lazy evaluation in this case:\r\n\r\n    public boolean isTrue() {\r\n        boolean a = false;\r\n        boolean b = true;\r\n        return b || (a &amp;&amp; b); // (a &amp;&amp; b) is not evaluated since b is true\r\n    }\r\n\r\nBut what about:\r\n\r\n    public boolean isTrue() {\r\n        boolean a = isATrue();\r\n        boolean b = isBTrue();\r\n        return b || a;\r\n    }\r\n\r\nIs `isATrue()` called even if `isBTrue()` returns true?","title":"Does Java have lazy evaluation?","body":"<p>I know that Java has smart/lazy evaluation in this case:</p>\n\n<pre><code>public boolean isTrue() {\n    boolean a = false;\n    boolean b = true;\n    return b || (a &amp;&amp; b); // (a &amp;&amp; b) is not evaluated since b is true\n}\n</code></pre>\n\n<p>But what about:</p>\n\n<pre><code>public boolean isTrue() {\n    boolean a = isATrue();\n    boolean b = isBTrue();\n    return b || a;\n}\n</code></pre>\n\n<p>Is <code>isATrue()</code> called even if <code>isBTrue()</code> returns true?</p>\n"},{"tags":["java","log4j2","slf4j"],"answers":[{"tags":[],"owner":{"account_id":11481923,"reputation":8281,"user_id":8415703,"accept_rate":83,"display_name":"Dovmo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1536772282,"creation_date":1536772282,"answer_id":52300356,"question_id":52300045,"body_markdown":"It doesn&#39;t seem to me from your question you&#39;re trying to specify a *custom* configuration location! See the `Automatic Configuration` section [in the docs][1]:\r\n\r\n&gt; Log4j has the ability to automatically configure itself during\r\n&gt; initialization. When Log4j starts it will locate all the\r\n&gt; ConfigurationFactory plugins and arrange them in weighted order from\r\n&gt; highest to lowest. As delivered, Log4j contains four\r\n&gt; ConfigurationFactory implementations: one for JSON, one for YAML, one\r\n&gt; for properties, and one for XML.\r\n&gt; \r\n&gt; Log4j will inspect the &quot;log4j.configurationFile&quot; system property and,\r\n&gt; if set, will attempt to load the configuration using the\r\n&gt; ConfigurationFactory that matches the file extension.\r\n&gt; \r\n&gt;  - If no system property is set the properties ConfigurationFactory will    look for log4j2-test.properties in the classpath.\r\n&gt; \r\n&gt;  - If no such file is found the YAML ConfigurationFactory will look for log4j2-test.yaml or log4j2-test.yml in the classpath.\r\n&gt; \r\n&gt;  - If no such file is found the JSON ConfigurationFactory will look for log4j2-test.json or log4j2-test.jsn in the classpath.\r\n&gt; \r\n&gt;  - If no such file is found the XML ConfigurationFactory will look for\r\n&gt; log4j2-test.xml in the classpath.\r\n&gt; \r\n&gt;  - If a test file cannot be located the properties ConfigurationFactory will look for log4j2.properties on the classpath.\r\n&gt; \r\n&gt;  - If a properties file cannot be located the YAML ConfigurationFactory will look for log4j2.yaml or log4j2.yml on the\r\n&gt; classpath.\r\n&gt; \r\n&gt;  - If a YAML file cannot be located the JSON ConfigurationFactory will look for log4j2.json or log4j2.jsn on the classpath.\r\n&gt; \r\n&gt;  - If a JSON file cannot be located the XML ConfigurationFactory will try to locate log4j2.xml on the classpath.\r\n&gt; \r\n&gt;  - If no configuration file could be located the DefaultConfiguration will be used. This will cause logging output to go to the console.\r\n\r\nYou might be overthinking it here.\r\n\r\nYou can put it &quot;on the classpath&quot; by placing it in the `src/main/resources` folder or specifying it on the command line with `-cp/-classpath`.\r\n\r\n[1]: https://logging.apache.org/log4j/2.x/manual/configuration.html\r\n\r\n","title":"Initialize slf4j with log4j2.xml","body":"<p>It doesn't seem to me from your question you're trying to specify a <em>custom</em> configuration location! See the <code>Automatic Configuration</code> section <a href=\"https://logging.apache.org/log4j/2.x/manual/configuration.html\" rel=\"nofollow noreferrer\">in the docs</a>:</p>\n\n<blockquote>\n  <p>Log4j has the ability to automatically configure itself during\n  initialization. When Log4j starts it will locate all the\n  ConfigurationFactory plugins and arrange them in weighted order from\n  highest to lowest. As delivered, Log4j contains four\n  ConfigurationFactory implementations: one for JSON, one for YAML, one\n  for properties, and one for XML.</p>\n  \n  <p>Log4j will inspect the \"log4j.configurationFile\" system property and,\n  if set, will attempt to load the configuration using the\n  ConfigurationFactory that matches the file extension.</p>\n  \n  <ul>\n  <li><p>If no system property is set the properties ConfigurationFactory will    look for log4j2-test.properties in the classpath.</p></li>\n  <li><p>If no such file is found the YAML ConfigurationFactory will look for log4j2-test.yaml or log4j2-test.yml in the classpath.</p></li>\n  <li><p>If no such file is found the JSON ConfigurationFactory will look for log4j2-test.json or log4j2-test.jsn in the classpath.</p></li>\n  <li><p>If no such file is found the XML ConfigurationFactory will look for\n  log4j2-test.xml in the classpath.</p></li>\n  <li><p>If a test file cannot be located the properties ConfigurationFactory will look for log4j2.properties on the classpath.</p></li>\n  <li><p>If a properties file cannot be located the YAML ConfigurationFactory will look for log4j2.yaml or log4j2.yml on the\n  classpath.</p></li>\n  <li><p>If a YAML file cannot be located the JSON ConfigurationFactory will look for log4j2.json or log4j2.jsn on the classpath.</p></li>\n  <li><p>If a JSON file cannot be located the XML ConfigurationFactory will try to locate log4j2.xml on the classpath.</p></li>\n  <li><p>If no configuration file could be located the DefaultConfiguration will be used. This will cause logging output to go to the console.</p></li>\n  </ul>\n</blockquote>\n\n<p>You might be overthinking it here.</p>\n\n<p>You can put it \"on the classpath\" by placing it in the <code>src/main/resources</code> folder or specifying it on the command line with <code>-cp/-classpath</code>.</p>\n"},{"tags":[],"owner":{"account_id":10880077,"reputation":1286,"user_id":7999311,"display_name":"Adam Ostrožl&#237;k"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1689292472,"creation_date":1536823270,"answer_id":52308514,"question_id":52300045,"body_markdown":"I have tested this configuration. The log4j2 file has to be in your classpath.\r\n\r\n**Maven**\r\n    \r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n        &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n        &lt;artifactId&gt;log4j-slf4j-impl&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n\r\n**log4j2.xml**\r\n\r\nAlso, adding xsd helps you with creating configuration. I have added Logger for spring framework. Note, that jcl-over-slf4j is needed to work with spring&#39;s internal logging\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;Configuration status=&quot;error&quot;\r\n                   xmlns=&quot;http://logging.apache.org/log4j/2.0/config&quot;\r\n                   xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n                   xsi:schemaLocation=&quot;http://logging.apache.org/log4j/2.0/config\r\n                    https://raw.githubusercontent.com/apache/logging-log4j2/master/log4j-core/src/main/resources/Log4j-config.xsd&quot;&gt;\r\n        &lt;Appenders&gt;\r\n            &lt;Console name=&quot;Console&quot; target=&quot;SYSTEM_OUT&quot;&gt;\r\n                &lt;PatternLayout pattern=&quot;%highlight{%d{HH:mm:ss.SSS} [%t] %-5level %logger{36}} - %msg%n&quot;/&gt;\r\n            &lt;/Console&gt;\r\n        &lt;/Appenders&gt;\r\n        &lt;Loggers&gt;\r\n            &lt;Root level=&quot;debug&quot;&gt;\r\n                &lt;AppenderRef ref=&quot;Console&quot;/&gt;\r\n            &lt;/Root&gt;\r\n            &lt;Logger name=&quot;org.springframework&quot; level=&quot;error&quot;&gt;\r\n                &lt;AppenderRef ref=&quot;Console&quot;/&gt;\r\n            &lt;/Logger&gt;\r\n        &lt;/Loggers&gt;\r\n    &lt;/Configuration&gt;\r\n\r\n","title":"Initialize slf4j with log4j2.xml","body":"<p>I have tested this configuration. The log4j2 file has to be in your classpath.</p>\n<p><strong>Maven</strong></p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n    &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n    &lt;artifactId&gt;log4j-slf4j-impl&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p><strong>log4j2.xml</strong></p>\n<p>Also, adding xsd helps you with creating configuration. I have added Logger for spring framework. Note, that jcl-over-slf4j is needed to work with spring's internal logging</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;Configuration status=&quot;error&quot;\n               xmlns=&quot;http://logging.apache.org/log4j/2.0/config&quot;\n               xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n               xsi:schemaLocation=&quot;http://logging.apache.org/log4j/2.0/config\n                https://raw.githubusercontent.com/apache/logging-log4j2/master/log4j-core/src/main/resources/Log4j-config.xsd&quot;&gt;\n    &lt;Appenders&gt;\n        &lt;Console name=&quot;Console&quot; target=&quot;SYSTEM_OUT&quot;&gt;\n            &lt;PatternLayout pattern=&quot;%highlight{%d{HH:mm:ss.SSS} [%t] %-5level %logger{36}} - %msg%n&quot;/&gt;\n        &lt;/Console&gt;\n    &lt;/Appenders&gt;\n    &lt;Loggers&gt;\n        &lt;Root level=&quot;debug&quot;&gt;\n            &lt;AppenderRef ref=&quot;Console&quot;/&gt;\n        &lt;/Root&gt;\n        &lt;Logger name=&quot;org.springframework&quot; level=&quot;error&quot;&gt;\n            &lt;AppenderRef ref=&quot;Console&quot;/&gt;\n        &lt;/Logger&gt;\n    &lt;/Loggers&gt;\n&lt;/Configuration&gt;\n</code></pre>\n"}],"owner":{"account_id":9624759,"reputation":103,"user_id":7144736,"accept_rate":60,"display_name":"Bogdan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11547,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"answer_count":2,"score":3,"last_activity_date":1689292472,"creation_date":1536770915,"question_id":52300045,"body_markdown":"I want to use slf4j over log4j. I added the following dependencies in my pom.xml (I used 1.7.25 for slf4j and 2.10.0 for log4j2):\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\r\n            &lt;version&gt;${slf4j.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n  \r\n        &lt;dependency&gt;\r\n           &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n           &lt;artifactId&gt;log4j-slf4j-impl&lt;/artifactId&gt;\r\n           &lt;version&gt;${log4j.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n  \r\n        &lt;dependency&gt;\r\n           &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n           &lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\r\n           &lt;version&gt;${log4j.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n  \r\n        &lt;dependency&gt;\r\n           &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n           &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\r\n           &lt;version&gt;${log4j.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt; \r\n\r\nEverything builds just fine, no compilation errors or lack of dependencies, but I failed to specify the configuration (log4j2.xml) file in my class that is responsible for the initialization of the Logger. In this situation it always prints the same warning\r\n\r\n    log4j:WARN No appenders could be found for logger (com.mypackage.etc).\r\n    log4j:WARN Please initialize the log4j system properly.\r\n    log4j:WARN See http://logging.apache.org/log4j/1.2/faq.html#noconfig for more info.\r\n\r\nI searched for a proper way to provide the configuration file and ended up with this:\r\n\r\n    LoggerContext context = (org.apache.logging.log4j.core.LoggerContext) LogManager.getContext(false);\r\n    File file = new File(&quot;path/to/a/different/log4j2.xml&quot;);\r\n    context.setConfigLocation(file.toURI());\r\n\r\nThe problem is that in my case LogManager.getContext(false) will always return an instance of Slf4JLoggerContext (considering that I use slf4j as a facade for the logger) and the initialization will fail with ClassCastException. I tried to store that instance of Slf4JLoggerContext, but it doesn&#39;t offer a setter for the context. Also I failed to find a way to retrieve a LoggerContext from log4j.\r\n\r\nIs there any way to provide the configuration file (log4j2.xml) to slf4j in order to see all the appenders and loggers?\r\n\r\n**Update** \r\nConsider this my configuration file (I replaced the original packages and appenders name):\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;Configuration&gt;\r\n        &lt;Properties&gt;\r\n            &lt;Property name=&quot;def.files.backup.count&quot;&gt;10&lt;/Property&gt;\r\n            &lt;Property name=&quot;log.file.path&quot;&gt;${oo.home}/var/logs&lt;/Property&gt;\r\n            &lt;Property name=&quot;def.file.max.size&quot;&gt;10MB&lt;/Property&gt;\r\n            &lt;Property name=&quot;log.level&quot;&gt;WARN&lt;/Property&gt;\r\n        &lt;/Properties&gt;\r\n    \r\n        &lt;ThresholdFilter/&gt;\r\n    \r\n        &lt;Appenders&gt;\r\n            &lt;RollingFile name=&quot;Appender1&quot; fileName=&quot;${log.file.path}/file1.log&quot; maxFileSize=&quot;${def.file.max.size}&quot;\r\n                         maxBackupIndex=&quot;${def.files.backup.count}&quot;&gt;\r\n                &lt;PatternLayout&gt;org.apache.log4j.PatternLayout&lt;/PatternLayout&gt;\r\n                &lt;Policies&gt;\r\n                    &lt;SizeBasedTriggeringPolicy size=&quot;10MB&quot;/&gt;\r\n                &lt;/Policies&gt;\r\n            &lt;/RollingFile&gt;\r\n    \r\n            &lt;RollingFile name=&quot;Appender2&quot; fileName=&quot;${log.file.path}/file2.log&quot;\r\n                         maxFileSize=&quot;${def.file.max.size}&quot;\r\n                         maxBackupIndex=&quot;${def.files.backup.count}&quot;&gt;\r\n                &lt;PatternLayout&gt;org.apache.log4j.PatternLayout&lt;/PatternLayout&gt;\r\n                &lt;Policies&gt;\r\n                    &lt;SizeBasedTriggeringPolicy size=&quot;10MB&quot;/&gt;\r\n                &lt;/Policies&gt;\r\n            &lt;/RollingFile&gt;\r\n    \r\n            &lt;RollingFile name=&quot;Appender3&quot; fileName=&quot;${log.file.path}/file3.log&quot;\r\n                         maxFileSize=&quot;${def.file.max.size}&quot;\r\n                         maxBackupIndex=&quot;${def.files.backup.count}&quot;&gt;\r\n                &lt;PatternLayout&gt;org.apache.log4j.PatternLayout&lt;/PatternLayout&gt;\r\n                &lt;Policies&gt;\r\n                    &lt;SizeBasedTriggeringPolicy size=&quot;10MB&quot;/&gt;\r\n                &lt;/Policies&gt;\r\n            &lt;/RollingFile&gt;\r\n    \r\n        &lt;/Appenders&gt;\r\n    \r\n        &lt;Loggers&gt;\r\n            &lt;AsyncLogger name=&quot;com.package1.oo&quot; level=&quot;${log.level}&quot; additivity=&quot;false&quot;&gt;\r\n                &lt;AppenderRef ref=&quot;Appender1&quot;/&gt;\r\n            &lt;/AsyncLogger&gt;\r\n    \r\n            &lt;AsyncLogger name=&quot;io.package2&quot; level=&quot;${log.level}&quot; additivity=&quot;false&quot;&gt;\r\n                &lt;AppenderRef ref=&quot;Appender2&quot;/&gt;\r\n            &lt;/AsyncLogger&gt;\r\n    \r\n            &lt;AsyncLogger name=&quot;com.package3.package3&quot; level=&quot;${log.level}&quot; additivity=&quot;false&quot;&gt;\r\n                &lt;AppenderRef ref=&quot;Appender3&quot;/&gt;\r\n            &lt;/AsyncLogger&gt;\r\n    \r\n            &lt;AsyncLogger name=&quot;org.package4&quot; level=&quot;${log.level}&quot;&gt;\r\n    \r\n            &lt;/AsyncLogger&gt;\r\n    \r\n            &lt;AsyncLogger name=&quot;com.package5.Class1&quot; level=&quot;${log.level}&quot;&gt;\r\n    \r\n            &lt;/AsyncLogger&gt;\r\n    \r\n            &lt;AsyncRoot level=&quot;${log.level}&quot;&gt;\r\n                &lt;AppenderRef ref=&quot;Appender1&quot;/&gt;\r\n    \t\t\t&lt;AppenderRef ref=&quot;Appender2&quot;/&gt;\r\n    \t\t\t&lt;AppenderRef ref=&quot;Appender3&quot;/&gt;\r\n    \t\t\r\n            &lt;/AsyncRoot&gt;\r\n        &lt;/Loggers&gt;\r\n    \r\n    &lt;/Configuration&gt;","title":"Initialize slf4j with log4j2.xml","body":"<p>I want to use slf4j over log4j. I added the following dependencies in my pom.xml (I used 1.7.25 for slf4j and 2.10.0 for log4j2):</p>\n\n<pre><code>&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n        &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\n        &lt;version&gt;${slf4j.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n\n\n    &lt;dependency&gt;\n       &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n       &lt;artifactId&gt;log4j-slf4j-impl&lt;/artifactId&gt;\n       &lt;version&gt;${log4j.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n       &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n       &lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\n       &lt;version&gt;${log4j.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n       &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n       &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\n       &lt;version&gt;${log4j.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt; \n</code></pre>\n\n<p>Everything builds just fine, no compilation errors or lack of dependencies, but I failed to specify the configuration (log4j2.xml) file in my class that is responsible for the initialization of the Logger. In this situation it always prints the same warning</p>\n\n<pre><code>log4j:WARN No appenders could be found for logger (com.mypackage.etc).\nlog4j:WARN Please initialize the log4j system properly.\nlog4j:WARN See http://logging.apache.org/log4j/1.2/faq.html#noconfig for more info.\n</code></pre>\n\n<p>I searched for a proper way to provide the configuration file and ended up with this:</p>\n\n<pre><code>LoggerContext context = (org.apache.logging.log4j.core.LoggerContext) LogManager.getContext(false);\nFile file = new File(\"path/to/a/different/log4j2.xml\");\ncontext.setConfigLocation(file.toURI());\n</code></pre>\n\n<p>The problem is that in my case LogManager.getContext(false) will always return an instance of Slf4JLoggerContext (considering that I use slf4j as a facade for the logger) and the initialization will fail with ClassCastException. I tried to store that instance of Slf4JLoggerContext, but it doesn't offer a setter for the context. Also I failed to find a way to retrieve a LoggerContext from log4j.</p>\n\n<p>Is there any way to provide the configuration file (log4j2.xml) to slf4j in order to see all the appenders and loggers?</p>\n\n<p><strong>Update</strong> \nConsider this my configuration file (I replaced the original packages and appenders name):</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;Configuration&gt;\n    &lt;Properties&gt;\n        &lt;Property name=\"def.files.backup.count\"&gt;10&lt;/Property&gt;\n        &lt;Property name=\"log.file.path\"&gt;${oo.home}/var/logs&lt;/Property&gt;\n        &lt;Property name=\"def.file.max.size\"&gt;10MB&lt;/Property&gt;\n        &lt;Property name=\"log.level\"&gt;WARN&lt;/Property&gt;\n    &lt;/Properties&gt;\n\n    &lt;ThresholdFilter/&gt;\n\n    &lt;Appenders&gt;\n        &lt;RollingFile name=\"Appender1\" fileName=\"${log.file.path}/file1.log\" maxFileSize=\"${def.file.max.size}\"\n                     maxBackupIndex=\"${def.files.backup.count}\"&gt;\n            &lt;PatternLayout&gt;org.apache.log4j.PatternLayout&lt;/PatternLayout&gt;\n            &lt;Policies&gt;\n                &lt;SizeBasedTriggeringPolicy size=\"10MB\"/&gt;\n            &lt;/Policies&gt;\n        &lt;/RollingFile&gt;\n\n        &lt;RollingFile name=\"Appender2\" fileName=\"${log.file.path}/file2.log\"\n                     maxFileSize=\"${def.file.max.size}\"\n                     maxBackupIndex=\"${def.files.backup.count}\"&gt;\n            &lt;PatternLayout&gt;org.apache.log4j.PatternLayout&lt;/PatternLayout&gt;\n            &lt;Policies&gt;\n                &lt;SizeBasedTriggeringPolicy size=\"10MB\"/&gt;\n            &lt;/Policies&gt;\n        &lt;/RollingFile&gt;\n\n        &lt;RollingFile name=\"Appender3\" fileName=\"${log.file.path}/file3.log\"\n                     maxFileSize=\"${def.file.max.size}\"\n                     maxBackupIndex=\"${def.files.backup.count}\"&gt;\n            &lt;PatternLayout&gt;org.apache.log4j.PatternLayout&lt;/PatternLayout&gt;\n            &lt;Policies&gt;\n                &lt;SizeBasedTriggeringPolicy size=\"10MB\"/&gt;\n            &lt;/Policies&gt;\n        &lt;/RollingFile&gt;\n\n    &lt;/Appenders&gt;\n\n    &lt;Loggers&gt;\n        &lt;AsyncLogger name=\"com.package1.oo\" level=\"${log.level}\" additivity=\"false\"&gt;\n            &lt;AppenderRef ref=\"Appender1\"/&gt;\n        &lt;/AsyncLogger&gt;\n\n        &lt;AsyncLogger name=\"io.package2\" level=\"${log.level}\" additivity=\"false\"&gt;\n            &lt;AppenderRef ref=\"Appender2\"/&gt;\n        &lt;/AsyncLogger&gt;\n\n        &lt;AsyncLogger name=\"com.package3.package3\" level=\"${log.level}\" additivity=\"false\"&gt;\n            &lt;AppenderRef ref=\"Appender3\"/&gt;\n        &lt;/AsyncLogger&gt;\n\n        &lt;AsyncLogger name=\"org.package4\" level=\"${log.level}\"&gt;\n\n        &lt;/AsyncLogger&gt;\n\n        &lt;AsyncLogger name=\"com.package5.Class1\" level=\"${log.level}\"&gt;\n\n        &lt;/AsyncLogger&gt;\n\n        &lt;AsyncRoot level=\"${log.level}\"&gt;\n            &lt;AppenderRef ref=\"Appender1\"/&gt;\n            &lt;AppenderRef ref=\"Appender2\"/&gt;\n            &lt;AppenderRef ref=\"Appender3\"/&gt;\n\n        &lt;/AsyncRoot&gt;\n    &lt;/Loggers&gt;\n\n&lt;/Configuration&gt;\n</code></pre>\n"},{"tags":["java","hibernate","spring","transactions","xa"],"answers":[{"tags":[],"owner":{"display_name":"Curious Developer"},"down_vote_count":2,"up_vote_count":10,"is_accepted":false,"score":8,"last_activity_date":1416469624,"creation_date":1222276828,"answer_id":128473,"question_id":128377,"body_markdown":"Setup a transaction manager in your context. Spring docs have examples, and it is very simple. Then when you want to execute a transaction:\r\n\r\n    try { \r\n        TransactionTemplate tt = new TransactionTemplate(txManager);\r\n\r\n        tt.execute(new TransactionCallbackWithoutResult(){\r\n\t\tprotected void doInTransactionWithoutResult(\r\n\t\t\t\tTransactionStatus status) {\r\n            updateDb1();\r\n            updateDb2();\r\n        }\r\n    } catch (TransactionException ex) {\r\n        // handle \r\n    }\r\n\r\nFor more examples, and information perhaps look at this:\r\n[XA transactions using Spring][1]\r\n\r\n\r\n  [1]: http://www.javaworld.com/javaworld/jw-04-2007/jw-04-xa.html?page=1","title":"What is the &#39;best&#39; way to do distributed transactions across multiple databases using Spring and Hibernate","body":"<p>Setup a transaction manager in your context. Spring docs have examples, and it is very simple. Then when you want to execute a transaction:</p>\n\n<pre><code>try { \n    TransactionTemplate tt = new TransactionTemplate(txManager);\n\n    tt.execute(new TransactionCallbackWithoutResult(){\n    protected void doInTransactionWithoutResult(\n            TransactionStatus status) {\n        updateDb1();\n        updateDb2();\n    }\n} catch (TransactionException ex) {\n    // handle \n}\n</code></pre>\n\n<p>For more examples, and information perhaps look at this:\n<a href=\"http://www.javaworld.com/javaworld/jw-04-2007/jw-04-xa.html?page=1\" rel=\"nofollow noreferrer\">XA transactions using Spring</a></p>\n"},{"tags":[],"owner":{"account_id":11089,"reputation":400030,"user_id":21234,"accept_rate":91,"display_name":"skaffman"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1222603880,"creation_date":1222603880,"answer_id":145747,"question_id":128377,"body_markdown":"When you say &quot;two different databases&quot;, do you mean different database servers, or two different schemas within the same DB server?  \r\n\r\nIf the former, then if you want full transactionality, then you need the XA transaction API, which provides full two-phase commit.  But more importantly, you also need a transaction coordinator/monitor which manages transaction propagation between the different database systems.  This is part of JavaEE spec, and a pretty rarefied part of it at that. The TX coordinator itself is a complex piece of software.  Your application software (via Spring, if you so wish) talks to the coordinator.\r\n\r\nIf, however, you just mean two databases within the same DB server, then vanilla JDBC transactions should work just fine, just perform your operations against both databases within a single transaction.","title":"What is the &#39;best&#39; way to do distributed transactions across multiple databases using Spring and Hibernate","body":"<p>When you say \"two different databases\", do you mean different database servers, or two different schemas within the same DB server?  </p>\n\n<p>If the former, then if you want full transactionality, then you need the XA transaction API, which provides full two-phase commit.  But more importantly, you also need a transaction coordinator/monitor which manages transaction propagation between the different database systems.  This is part of JavaEE spec, and a pretty rarefied part of it at that. The TX coordinator itself is a complex piece of software.  Your application software (via Spring, if you so wish) talks to the coordinator.</p>\n\n<p>If, however, you just mean two databases within the same DB server, then vanilla JDBC transactions should work just fine, just perform your operations against both databases within a single transaction.</p>\n"},{"tags":[],"owner":{"account_id":20657,"reputation":8081,"user_id":49573,"accept_rate":78,"display_name":"maximdim"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1230484507,"creation_date":1230484507,"answer_id":396403,"question_id":128377,"body_markdown":"In this case you would need a Transaction Monitor (server supporting XA protocol) and make sure your databases supports XA also. Most (all?) J2EE servers comes with Transaction Monitor built in. If your code is running not in J2EE server then there are bunch of standalone alternatives - Atomicos, Bitronix, etc.","title":"What is the &#39;best&#39; way to do distributed transactions across multiple databases using Spring and Hibernate","body":"<p>In this case you would need a Transaction Monitor (server supporting XA protocol) and make sure your databases supports XA also. Most (all?) J2EE servers comes with Transaction Monitor built in. If your code is running not in J2EE server then there are bunch of standalone alternatives - Atomicos, Bitronix, etc.</p>\n"},{"tags":[],"owner":{"account_id":15903,"reputation":323433,"user_id":34088,"accept_rate":77,"display_name":"Aaron Digulla"},"down_vote_count":5,"up_vote_count":50,"is_accepted":true,"score":45,"last_activity_date":1242819528,"creation_date":1242819528,"answer_id":887426,"question_id":128377,"body_markdown":"The best way to distribute transactions over more than one database is: Don&#39;t.\r\n\r\nSome people will point you to XA but XA (or Two Phase Commit) is a lie (or marketese). \r\n\r\nImagine: After the first phase have told the XA manager that it can send the final commit, the network connection to one of the databases fails. Now what? Timeout? That would leave the other database corrupt. Rollback? Two problems: You can&#39;t roll back a commit and how do you know what happened to the second database? Maybe the network connection failed after it successfully committed the data and only the &quot;success&quot; message was lost?\r\n\r\nThe best way is to copy the data in a single place. Use a scheme which allows you to abort the copy and continue it at any time (for example, ignore data which you already have or order the select by ID and request only records &gt; MAX(ID) of your copy). Protect this with a transaction. This is not a problem since you&#39;re only reading data from the source, so when the transaction fails for any reason, you can ignore the source database. Therefore, this is a plain old single source transaction.\r\n\r\nAfter you have copied the data, process it locally.","title":"What is the &#39;best&#39; way to do distributed transactions across multiple databases using Spring and Hibernate","body":"<p>The best way to distribute transactions over more than one database is: Don't.</p>\n\n<p>Some people will point you to XA but XA (or Two Phase Commit) is a lie (or marketese). </p>\n\n<p>Imagine: After the first phase have told the XA manager that it can send the final commit, the network connection to one of the databases fails. Now what? Timeout? That would leave the other database corrupt. Rollback? Two problems: You can't roll back a commit and how do you know what happened to the second database? Maybe the network connection failed after it successfully committed the data and only the \"success\" message was lost?</p>\n\n<p>The best way is to copy the data in a single place. Use a scheme which allows you to abort the copy and continue it at any time (for example, ignore data which you already have or order the select by ID and request only records > MAX(ID) of your copy). Protect this with a transaction. This is not a problem since you're only reading data from the source, so when the transaction fails for any reason, you can ignore the source database. Therefore, this is a plain old single source transaction.</p>\n\n<p>After you have copied the data, process it locally.</p>\n"},{"tags":[],"owner":{"account_id":3370871,"reputation":233,"user_id":2830105,"accept_rate":25,"display_name":"Pani Dhakshnamurthy"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1402531708,"creation_date":1402531708,"answer_id":24174592,"question_id":128377,"body_markdown":"You could try Spring ChainedTransactionManager - http://docs.spring.io/spring-data/commons/docs/1.6.2.RELEASE/api/org/springframework/data/transaction/ChainedTransactionManager.html that supports distributed db transaction. This could be a better alternative to XA","title":"What is the &#39;best&#39; way to do distributed transactions across multiple databases using Spring and Hibernate","body":"<p>You could try Spring ChainedTransactionManager - <a href=\"http://docs.spring.io/spring-data/commons/docs/1.6.2.RELEASE/api/org/springframework/data/transaction/ChainedTransactionManager.html\" rel=\"nofollow\">http://docs.spring.io/spring-data/commons/docs/1.6.2.RELEASE/api/org/springframework/data/transaction/ChainedTransactionManager.html</a> that supports distributed db transaction. This could be a better alternative to XA</p>\n"},{"tags":[],"owner":{"account_id":7686222,"reputation":492,"user_id":5823904,"display_name":"kylebebak"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689291907,"creation_date":1689291907,"answer_id":76683888,"question_id":128377,"body_markdown":"For those suggesting concerns with two-phase commit can be waved away because it&#39;s widely used in practice, I suggest looking at this: https://en.wikipedia.org/wiki/Two-phase_commit_protocol. There&#39;s a link at the bottom of the 2PC article to an article on [three-phase commit](https://en.wikipedia.org/wiki/Three-phase_commit_protocol)(!) \r\n\r\nSome excerpts from the article on 3PC:\r\n\r\n&gt; In computer networking and databases, the three-phase commit protocol (3PC)[1] is a distributed algorithm which lets all nodes in a distributed system agree to commit a transaction. It is a more failure-resilient refinement of the two-phase commit protocol (2PC).\r\n\r\n&gt; Three-phase commit assumes a network with bounded delay and nodes with bounded response times; In most practical systems with unbounded network delay and process pauses, it cannot guarantee atomicity.\r\n\r\nTo summarize:\r\n\r\n- 3PC is more failure-resistant than 2PC\r\n- Not even 3PC guarantees atomicity\r\n- Draw your own conclusions about 2PC","title":"What is the &#39;best&#39; way to do distributed transactions across multiple databases using Spring and Hibernate","body":"<p>For those suggesting concerns with two-phase commit can be waved away because it's widely used in practice, I suggest looking at this: <a href=\"https://en.wikipedia.org/wiki/Two-phase_commit_protocol\" rel=\"nofollow noreferrer\">https://en.wikipedia.org/wiki/Two-phase_commit_protocol</a>. There's a link at the bottom of the 2PC article to an article on <a href=\"https://en.wikipedia.org/wiki/Three-phase_commit_protocol\" rel=\"nofollow noreferrer\">three-phase commit</a>(!)</p>\n<p>Some excerpts from the article on 3PC:</p>\n<blockquote>\n<p>In computer networking and databases, the three-phase commit protocol (3PC)[1] is a distributed algorithm which lets all nodes in a distributed system agree to commit a transaction. It is a more failure-resilient refinement of the two-phase commit protocol (2PC).</p>\n</blockquote>\n<blockquote>\n<p>Three-phase commit assumes a network with bounded delay and nodes with bounded response times; In most practical systems with unbounded network delay and process pauses, it cannot guarantee atomicity.</p>\n</blockquote>\n<p>To summarize:</p>\n<ul>\n<li>3PC is more failure-resistant than 2PC</li>\n<li>Not even 3PC guarantees atomicity</li>\n<li>Draw your own conclusions about 2PC</li>\n</ul>\n"}],"owner":{"account_id":8532,"reputation":13097,"user_id":15452,"accept_rate":57,"display_name":"Vihung"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48267,"favorite_count":0,"down_vote_count":1,"up_vote_count":37,"accepted_answer_id":887426,"answer_count":6,"score":36,"last_activity_date":1689291907,"creation_date":1222275700,"question_id":128377,"body_markdown":"I have an application - more like a utility - that sits in a corner and updates two different databases periodically. \r\n\r\nIt is a little standalone app that has been built with a Spring Application Context. The context has two Hibernate Session Factories configured in it, in turn using Commons DBCP data sources configured in Spring. \r\n\r\nCurrently there is no transaction management, but I would like to add some. The update to one database depends on a successful update to the other.\r\n\r\nThe app does not sit in a Java EE container - it is bootstrapped by a static launcher class called from a shell script. The launcher class instantiates the Application Context and then invokes a method on one of its beans. \r\n\r\nWhat is the &#39;best&#39; way to put transactionality around the database updates?\r\n\r\nI will leave the definition of &#39;best&#39; to you, but I think it should be some function of &#39;easy to set up&#39;, &#39;easy to configure&#39;, &#39;inexpensive&#39;, and &#39;easy to package and redistribute&#39;. Naturally FOSS would be good.","title":"What is the &#39;best&#39; way to do distributed transactions across multiple databases using Spring and Hibernate","body":"<p>I have an application - more like a utility - that sits in a corner and updates two different databases periodically. </p>\n\n<p>It is a little standalone app that has been built with a Spring Application Context. The context has two Hibernate Session Factories configured in it, in turn using Commons DBCP data sources configured in Spring. </p>\n\n<p>Currently there is no transaction management, but I would like to add some. The update to one database depends on a successful update to the other.</p>\n\n<p>The app does not sit in a Java EE container - it is bootstrapped by a static launcher class called from a shell script. The launcher class instantiates the Application Context and then invokes a method on one of its beans. </p>\n\n<p>What is the 'best' way to put transactionality around the database updates?</p>\n\n<p>I will leave the definition of 'best' to you, but I think it should be some function of 'easy to set up', 'easy to configure', 'inexpensive', and 'easy to package and redistribute'. Naturally FOSS would be good.</p>\n"},{"tags":["java","eclipse","spring","maven","jar"],"comments":[{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1429557403,"post_id":29756462,"comment_id":47645197,"body_markdown":"You should be able to install them locally and refer to them as usual in your Eclipse project, assuming you&#39;re using an Eclipse with some form of Maven plugin.","body":"You should be able to install them locally and refer to them as usual in your Eclipse project, assuming you&#39;re using an Eclipse with some form of Maven plugin."},{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1429557733,"post_id":29756462,"comment_id":47645372,"body_markdown":"Write a shell script to do it to all the jars in a directory or something. I mean, that&#39;s kind of the option.","body":"Write a shell script to do it to all the jars in a directory or something. I mean, that&#39;s kind of the option."},{"owner":{"display_name":"user177800"},"score":0,"creation_date":1429558192,"post_id":29756462,"comment_id":47645657,"body_markdown":"*Also, I would like for the eclipse maven plugin to be able to manage this as much as possible.* then you need a real repository server if you want this, you can not have your cake and eat it too!","body":"<i>Also, I would like for the eclipse maven plugin to be able to manage this as much as possible.</i> then you need a real repository server if you want this, you can not have your cake and eat it too!"},{"owner":{"display_name":"user177800"},"score":0,"creation_date":1429558285,"post_id":29756462,"comment_id":47645719,"body_markdown":"he meant write a script to add them to your local maven repository. you seriously need to read up on what maven actually does and how maven actually works","body":"he meant write a script to add them to your local maven repository. you seriously need to read up on what maven actually does and how maven actually works"},{"owner":{"account_id":426537,"reputation":9134,"user_id":807797,"accept_rate":72,"display_name":"CodeMed"},"score":0,"creation_date":1429558309,"post_id":29756462,"comment_id":47645742,"body_markdown":"@JarrodRoberson That is fine. &quot;As much as possible&quot;, could mean very little.  For example, when jars are added to the eclipse build path manually, the eclipse maven plugin seems to bundle them into a resulting war file well enough.","body":"@JarrodRoberson That is fine. &quot;As much as possible&quot;, could mean very little.  For example, when jars are added to the eclipse build path manually, the eclipse maven plugin seems to bundle them into a resulting war file well enough."}],"answers":[{"tags":[],"owner":{"account_id":5601774,"reputation":4444,"user_id":4437780,"accept_rate":80,"display_name":"alainlompo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1429568556,"creation_date":1429558326,"answer_id":29756746,"question_id":29756462,"body_markdown":"I think the simplest way to solve this issue is to add your jars to your maven local repository. There is answer for this on SO [here][1] and also [here][2]. The jars will then be available in Eclipse but also outside eclipse for any of your project that is using maven as a build tool and where the jar is correctly referenced (with the groupId, artifactId and version dependency informations properly provided) as in the following example:\r\n    \r\n    &lt;dependencies&gt;\r\n        ....\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.matlabcontrol&lt;/groupId&gt;\r\n            &lt;artifactId&gt;matlabcontrol&lt;/artifactId&gt;\r\n            &lt;version&gt;4.1.0&lt;/version&gt;\r\n         &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n\r\nAnd then you may easily write a .bat or a .sh (depending on the OS) that will do this operation once and for all.\r\n\r\n[EDIT]\r\n@CodeMed regarding the jars that are behind the link that you&#39;ve shared in your comments, some of them are related to each others and therefore will share the same version as the same groupId and most certainly different artifactId`s`\r\n\r\nExample:\r\n\r\n- org.eclipse.emf.common_2.5.0.v200906151043.jar\r\n- org.eclipse.emf.ecore.xmi_2.5.0.v200906151043.jar\r\n\r\nObviously the suffixed 4 parts number is the version number of the jar. So You already have the version number and since it is common to many jar it is to your advantage to define a variable for it in your .bat file and a property for it in your pom.xml file.\r\n\r\nAlso the groupId will generaly be the same for all related jars. Therefore you could suspect that the groupId would be org.eclipse.emf, and if you google this: `maven dependency for org.eclipse.emf + 2.5.0.v200906151043`you would find among other links a link to a pom.xml file on a related github project with the following depency informations\r\n\r\n![maven dependency][3]\r\n\r\n\r\nI would now be logical to suspect that the artifactId is what&#39;s left from the name of the jar `common`in one case and `ecore.xmi`in the other case. This will be checked against a little googling or on Mvnrepository (for example [here][4] where we see that this artifact id is also prefixed by the group id)\r\n\r\nTherefore we would write the following kind of instructions in a .bat file to install these jars in our local repository\r\n\r\nFirst define a variable to hold the version number\r\n\r\n    set eclipseEmfVersion=2.5.0.v200906151043\r\n    call mvn install:install-file -Dfile=org.eclipse.emf.ecore.xmi_2.5.0.v200906151043.jar -DgroupId=org.eclipse.emf -DartifactId=org.eclipse.emf.ecore.xmi -Dversion=%eclipseEmfVersion% -Dpackaging=jar\r\n    call mvn install:install-file -Dfile=org.eclipse.emf.common_2.5.0.v200906151043.jar -DgroupId=org.eclipse.emf -DartifactId=common -Dversion=%eclipseEmfVersion% -Dpackaging=jar\r\n\r\n  In the case of the second jar however I find on MvnRepository that the artifactId does not set the groupId as its prefix (see [here][5])\r\n\r\nNote also that in a .bat file you need to use call mvn (instead of simply mvn as you would do had you only one instruction to run) to be able to execute many maven instruction sequentially.\r\n\r\nOn the same pattern you can distinguish another group of related jars with the groupId: `org.openhealthtools.mdht.uml.cda`and version number `1.2.0.201405161834`. You can apply the same approach to install them in your local repository\r\n\r\nHere is the successfull test I run (from a bat file that I created in the same directory where I unzip your file) using the first four jars in your list of jars\r\n\r\n    call mvn install:install-file -Dfile=net.sourceforge.lpg.lpgjavaruntime_1.1.0.v200803061910.jar -DgroupId=net.sourceforge.lpg  -DartifactId=net.sourceforge.lpg.lpgjavaruntime -Dversion=1.1.0.v200803061910 -Dpackaging=jar\r\n\r\n    call mvn install:install-file -     Dfile=org.apache.commons.lang_2.3.0.v201005080501.jar -     DgroupId=org.apache.commons -DartifactId=lang -Dversion=2.3.0.v201005080501 -     Dpackaging=jar\r\n\r\n    call mvn install:install-file -    Dfile=org.eclipse.core.runtime_3.8.0.v20120521-2346.jar -    DgroupId=org.eclipse.birt.runtime -DartifactId=org.eclipse.core.runtime -    Dversion=3.8.0.v20120521-2346 -Dpackaging=jar\r\n\r\n    set cdaversion=1.2.0.201405161834\r\n\r\n    call mvn install:install-file -    Dfile=org.openhealthtools.mdht.uml.cda.ihe_1.2.0.201405161834.jar -     DgroupId=org.openhealthtools.mdht.uml.cda -DartifactId=ihe -     Dversion=%cdaversion% -Dpackaging=jar\r\n\r\nYou can easily complete the .bat and after running you may manually check the successfull installation of all the jars in your maven local repository.\r\n\r\n  [1]: https://stackoverflow.com/questions/19049478/how-to-add-third-party-jars-into-local-maven-repository\r\n  [2]: http://www.mkyong.com/maven/how-to-include-library-manully-into-maven-local-repository/\r\n  [3]: http://i.stack.imgur.com/xysZL.png\r\n  [4]: http://mvnrepository.com/artifact/org.eclipse.emf/org.eclipse.emf.ecore.xmi/2.5.0.v20100521-1846\r\n  [5]: http://mvnrepository.com/artifact/org.eclipse.emf/common/2.3.0-v200706262000","title":"Adding many third party jars to Maven Eclipse runtime","body":"<p>I think the simplest way to solve this issue is to add your jars to your maven local repository. There is answer for this on SO <a href=\"https://stackoverflow.com/questions/19049478/how-to-add-third-party-jars-into-local-maven-repository\">here</a> and also <a href=\"http://www.mkyong.com/maven/how-to-include-library-manully-into-maven-local-repository/\" rel=\"nofollow noreferrer\">here</a>. The jars will then be available in Eclipse but also outside eclipse for any of your project that is using maven as a build tool and where the jar is correctly referenced (with the groupId, artifactId and version dependency informations properly provided) as in the following example:</p>\n\n<pre><code>&lt;dependencies&gt;\n    ....\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.matlabcontrol&lt;/groupId&gt;\n        &lt;artifactId&gt;matlabcontrol&lt;/artifactId&gt;\n        &lt;version&gt;4.1.0&lt;/version&gt;\n     &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n\n<p>And then you may easily write a .bat or a .sh (depending on the OS) that will do this operation once and for all.</p>\n\n<p>[EDIT]\n@CodeMed regarding the jars that are behind the link that you've shared in your comments, some of them are related to each others and therefore will share the same version as the same groupId and most certainly different artifactId<code>s</code></p>\n\n<p>Example:</p>\n\n<ul>\n<li>org.eclipse.emf.common_2.5.0.v200906151043.jar</li>\n<li>org.eclipse.emf.ecore.xmi_2.5.0.v200906151043.jar</li>\n</ul>\n\n<p>Obviously the suffixed 4 parts number is the version number of the jar. So You already have the version number and since it is common to many jar it is to your advantage to define a variable for it in your .bat file and a property for it in your pom.xml file.</p>\n\n<p>Also the groupId will generaly be the same for all related jars. Therefore you could suspect that the groupId would be org.eclipse.emf, and if you google this: <code>maven dependency for org.eclipse.emf + 2.5.0.v200906151043</code>you would find among other links a link to a pom.xml file on a related github project with the following depency informations</p>\n\n<p><img src=\"https://i.stack.imgur.com/xysZL.png\" alt=\"maven dependency\"></p>\n\n<p>I would now be logical to suspect that the artifactId is what's left from the name of the jar <code>common</code>in one case and <code>ecore.xmi</code>in the other case. This will be checked against a little googling or on Mvnrepository (for example <a href=\"http://mvnrepository.com/artifact/org.eclipse.emf/org.eclipse.emf.ecore.xmi/2.5.0.v20100521-1846\" rel=\"nofollow noreferrer\">here</a> where we see that this artifact id is also prefixed by the group id)</p>\n\n<p>Therefore we would write the following kind of instructions in a .bat file to install these jars in our local repository</p>\n\n<p>First define a variable to hold the version number</p>\n\n<pre><code>set eclipseEmfVersion=2.5.0.v200906151043\ncall mvn install:install-file -Dfile=org.eclipse.emf.ecore.xmi_2.5.0.v200906151043.jar -DgroupId=org.eclipse.emf -DartifactId=org.eclipse.emf.ecore.xmi -Dversion=%eclipseEmfVersion% -Dpackaging=jar\ncall mvn install:install-file -Dfile=org.eclipse.emf.common_2.5.0.v200906151043.jar -DgroupId=org.eclipse.emf -DartifactId=common -Dversion=%eclipseEmfVersion% -Dpackaging=jar\n</code></pre>\n\n<p>In the case of the second jar however I find on MvnRepository that the artifactId does not set the groupId as its prefix (see <a href=\"http://mvnrepository.com/artifact/org.eclipse.emf/common/2.3.0-v200706262000\" rel=\"nofollow noreferrer\">here</a>)</p>\n\n<p>Note also that in a .bat file you need to use call mvn (instead of simply mvn as you would do had you only one instruction to run) to be able to execute many maven instruction sequentially.</p>\n\n<p>On the same pattern you can distinguish another group of related jars with the groupId: <code>org.openhealthtools.mdht.uml.cda</code>and version number <code>1.2.0.201405161834</code>. You can apply the same approach to install them in your local repository</p>\n\n<p>Here is the successfull test I run (from a bat file that I created in the same directory where I unzip your file) using the first four jars in your list of jars</p>\n\n<pre><code>call mvn install:install-file -Dfile=net.sourceforge.lpg.lpgjavaruntime_1.1.0.v200803061910.jar -DgroupId=net.sourceforge.lpg  -DartifactId=net.sourceforge.lpg.lpgjavaruntime -Dversion=1.1.0.v200803061910 -Dpackaging=jar\n\ncall mvn install:install-file -     Dfile=org.apache.commons.lang_2.3.0.v201005080501.jar -     DgroupId=org.apache.commons -DartifactId=lang -Dversion=2.3.0.v201005080501 -     Dpackaging=jar\n\ncall mvn install:install-file -    Dfile=org.eclipse.core.runtime_3.8.0.v20120521-2346.jar -    DgroupId=org.eclipse.birt.runtime -DartifactId=org.eclipse.core.runtime -    Dversion=3.8.0.v20120521-2346 -Dpackaging=jar\n\nset cdaversion=1.2.0.201405161834\n\ncall mvn install:install-file -    Dfile=org.openhealthtools.mdht.uml.cda.ihe_1.2.0.201405161834.jar -     DgroupId=org.openhealthtools.mdht.uml.cda -DartifactId=ihe -     Dversion=%cdaversion% -Dpackaging=jar\n</code></pre>\n\n<p>You can easily complete the .bat and after running you may manually check the successfull installation of all the jars in your maven local repository.</p>\n"}],"owner":{"account_id":426537,"reputation":9134,"user_id":807797,"accept_rate":72,"display_name":"CodeMed"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3774,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1429558720,"accepted_answer_id":29756746,"answer_count":1,"score":-1,"last_activity_date":1689290177,"creation_date":1429557291,"question_id":29756462,"body_markdown":"I have a group of about 20+ third party jars that I need to add to the RUNTIME of an Eclipse Maven project written in Java.  These jars are not available from mvnrepository.com. How can I accomplish this?\r\n  \r\nI tried `Build Path.. Configure Build Path` and added the jars manually, but this does not make the jar APIs available in Spring MVC controllers because the jars were added to the Build Path and not to the RUNTIME.  \r\n  \r\nI then tried `Project Properties -&gt; Deployment Assembly -&gt; Add -&gt; Archives from file system` as per &lt;a href=&quot;https://stackoverflow.com/questions/5467038/adding-3rd-party-jars-to-web-inf-lib-automatically-using-eclipse-tomcat&quot;&gt;this other posting&lt;/a&gt;.  This imported the jars into /WEB-INF/lib, but did not make their APIs available.  \r\n  \r\nI then read &lt;a href=&quot;https://maven.apache.org/guides/mini/guide-3rd-party-jars-local.html&quot;&gt;these instructions for importing 3rd party jars&lt;/a&gt; into a maven project, but the instructions say to use this line of code `mvn install:install-file -Dfile=&lt;path-to-file&gt;`.  As you can see, this code only specifies one jar, when I have over 20 third party jars to add.  The maven link also does not specify where or when to type the code.  \r\n  \r\nDo I navigate the terminal to the root directory of the Maven repository and then type that line of code with 20 variations, once for each jar?  \r\n  \r\nAnd do I repeat this every time I do a Maven update from within Eclipse? Clearly there has to be an easier way.  \r\n  \r\nWhat is the easiest and most effective way to get Eclipse Maven to add all 20+ jars to the runtime of my project, so that my Spring mvc controllers can call the APIs when I try `Run As... Run on server`, and so that the jars are also bundled up with any war files that get created by Eclipse Maven?**\r\n  \r\nEdit\r\n---\r\n  \r\n@DaveNewton suggested writing a shell script.  How would such a script look?  \r\n  \r\nI tried `mv /path/to/all/the/jars/* /path/to/workspace/MyApp/src/main/webapp/WEB-INF/lib/` and then typed `F5` to make the jars visible in the `/WEB-INF/lib` folder, but this did not resolve the compilation errors from the code elsewhere in the project that calls the API, even after `Project... Clean`.  \r\n  \r\nAlso, I would like for the Eclipse Maven plugin to be able to manage this as much as possible.\r\n\r\nEdit 2\r\n---\r\n  \r\nAs per @alainlompo&#39;s suggestion, I imagine a script that includes the following commands, and then the dependency addition below it.  Here is what might be in the script:  \r\n  \r\n    mvn install:install-file -Dfile=/thefirst.jar -DgroupId=my.group.id -DartifactId=myartifactid -Dversion={version} -Dpackaging=jar  \r\n  \r\n    mvn install:install-file -Dfile=/thesecond.jar -DgroupId=my.group.id -DartifactId=myartifactid -Dversion={version} -Dpackaging=jar  \r\n  \r\n    mvn install:install-file -Dfile=/thethird.jar -DgroupId=my.group.id -DartifactId=myartifactid -Dversion={version} -Dpackaging=jar  \r\n  \r\n    mvn install:install-file -Dfile=/thefourth.jar -DgroupId=my.group.id -DartifactId=myartifactid -Dversion={version} -Dpackaging=jar  \r\n  \r\n    mvn install:install-file -Dfile=/thefifth.jar -DgroupId=my.group.id -DartifactId=myartifactid -Dversion={version} -Dpackaging=jar  \r\n  \r\n    mvn install:install-file -Dfile=/thesixth.jar -DgroupId=my.group.id -DartifactId=myartifactid -Dversion={version} -Dpackaging=jar  \r\n  \r\n    mvn install:install-file -Dfile=/theseventh.jar -DgroupId=my.group.id -DartifactId=myartifactid -Dversion={version} -Dpackaging=jar  \r\n  \r\nAnd so on for all 20+ jars.  \r\n  \r\nHere is what the dependency tag in the pom.xml might be:\r\n  \r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;my.group.id&lt;/groupId&gt;\r\n      &lt;artifactId&gt;myartifactid&lt;/artifactId&gt;\r\n      &lt;version&gt;what goes here?&lt;/version&gt;\r\n    &lt;/dependency&gt;  \r\n  \r\nI would guess I would add some symbols to the groupid to make sure that Maven cannot find anything with the same name at mvnrepository.com.  This way the Eclipse Maven update could be used. But what do I use for the version number?  Many of the jars have different version numbers.  \r\n  \r\nAlso note I am using Linux. What would the actual shell script and dependency tag look like?","title":"Adding many third party jars to Maven Eclipse runtime","body":"<p>I have a group of about 20+ third party jars that I need to add to the RUNTIME of an Eclipse Maven project written in Java.  These jars are not available from mvnrepository.com. How can I accomplish this?</p>\n<p>I tried <code>Build Path.. Configure Build Path</code> and added the jars manually, but this does not make the jar APIs available in Spring MVC controllers because the jars were added to the Build Path and not to the RUNTIME.</p>\n<p>I then tried <code>Project Properties -&gt; Deployment Assembly -&gt; Add -&gt; Archives from file system</code> as per <a href=\"https://stackoverflow.com/questions/5467038/adding-3rd-party-jars-to-web-inf-lib-automatically-using-eclipse-tomcat\">this other posting</a>.  This imported the jars into /WEB-INF/lib, but did not make their APIs available.</p>\n<p>I then read <a href=\"https://maven.apache.org/guides/mini/guide-3rd-party-jars-local.html\" rel=\"nofollow noreferrer\">these instructions for importing 3rd party jars</a> into a maven project, but the instructions say to use this line of code <code>mvn install:install-file -Dfile=&lt;path-to-file&gt;</code>.  As you can see, this code only specifies one jar, when I have over 20 third party jars to add.  The maven link also does not specify where or when to type the code.</p>\n<p>Do I navigate the terminal to the root directory of the Maven repository and then type that line of code with 20 variations, once for each jar?</p>\n<p>And do I repeat this every time I do a Maven update from within Eclipse? Clearly there has to be an easier way.</p>\n<p>What is the easiest and most effective way to get Eclipse Maven to add all 20+ jars to the runtime of my project, so that my Spring mvc controllers can call the APIs when I try <code>Run As... Run on server</code>, and so that the jars are also bundled up with any war files that get created by Eclipse Maven?**</p>\n<h2>Edit</h2>\n<p>@DaveNewton suggested writing a shell script.  How would such a script look?</p>\n<p>I tried <code>mv /path/to/all/the/jars/* /path/to/workspace/MyApp/src/main/webapp/WEB-INF/lib/</code> and then typed <code>F5</code> to make the jars visible in the <code>/WEB-INF/lib</code> folder, but this did not resolve the compilation errors from the code elsewhere in the project that calls the API, even after <code>Project... Clean</code>.</p>\n<p>Also, I would like for the Eclipse Maven plugin to be able to manage this as much as possible.</p>\n<h2>Edit 2</h2>\n<p>As per @alainlompo's suggestion, I imagine a script that includes the following commands, and then the dependency addition below it.  Here is what might be in the script:</p>\n<pre><code>mvn install:install-file -Dfile=/thefirst.jar -DgroupId=my.group.id -DartifactId=myartifactid -Dversion={version} -Dpackaging=jar  \n\nmvn install:install-file -Dfile=/thesecond.jar -DgroupId=my.group.id -DartifactId=myartifactid -Dversion={version} -Dpackaging=jar  \n\nmvn install:install-file -Dfile=/thethird.jar -DgroupId=my.group.id -DartifactId=myartifactid -Dversion={version} -Dpackaging=jar  \n\nmvn install:install-file -Dfile=/thefourth.jar -DgroupId=my.group.id -DartifactId=myartifactid -Dversion={version} -Dpackaging=jar  \n\nmvn install:install-file -Dfile=/thefifth.jar -DgroupId=my.group.id -DartifactId=myartifactid -Dversion={version} -Dpackaging=jar  \n\nmvn install:install-file -Dfile=/thesixth.jar -DgroupId=my.group.id -DartifactId=myartifactid -Dversion={version} -Dpackaging=jar  \n\nmvn install:install-file -Dfile=/theseventh.jar -DgroupId=my.group.id -DartifactId=myartifactid -Dversion={version} -Dpackaging=jar  \n</code></pre>\n<p>And so on for all 20+ jars.</p>\n<p>Here is what the dependency tag in the pom.xml might be:</p>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;my.group.id&lt;/groupId&gt;\n  &lt;artifactId&gt;myartifactid&lt;/artifactId&gt;\n  &lt;version&gt;what goes here?&lt;/version&gt;\n&lt;/dependency&gt;  \n</code></pre>\n<p>I would guess I would add some symbols to the groupid to make sure that Maven cannot find anything with the same name at mvnrepository.com.  This way the Eclipse Maven update could be used. But what do I use for the version number?  Many of the jars have different version numbers.</p>\n<p>Also note I am using Linux. What would the actual shell script and dependency tag look like?</p>\n"},{"tags":["java","pd4ml"],"answers":[{"tags":[],"owner":{"account_id":14313923,"reputation":8884,"user_id":10802527,"display_name":"K J"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1689289896,"creation_date":1689286324,"answer_id":76683560,"question_id":76676627,"body_markdown":"PD4ML uses HTML and CSS (Cascading Style Sheets) as page layout and content definition format. \r\n\r\nThe current default modern gripper margin is usually 8 and that seems to be what you have as the issue trying to get borderless.\r\n\r\nThere are at least two solutions,\r\n\r\n1) simply set the CSS in the HTML string to `&lt;body style=&quot;margin: 0px;&quot;&gt;` like this, or see alternative later \r\n```\r\n&lt;!DOCTYPE html&gt;&lt;html&gt;&lt;head&gt;&lt;meta charset=&quot;utf-8&quot;&gt;&lt;/head&gt;&lt;body style=&quot;margin: 0px;&quot;&gt;&lt;div id=&quot;frontBadgeHeader&quot; style=&quot;color: white; position: relative;width:288px;&quot;&gt;&lt;div id=&quot;frontBadge&quot; style=&quot;width: 288px; height: 216px; background: url(&amp;quot;http://localhost/ERImg/04/12/15/blue_Bg.jpg&amp;quot;) left top / cover no-repeat; z-index: 1;background-size: cover !important&quot;&gt;&lt;/div&gt;&lt;div id=&quot;e8d56a50-2143-11ee-ae2a-893d4c6518ac&quot; style=&quot;color: rgb(0, 0, 0);font-family: Arial;font-size:16pt;height: 32px;left: 20px;position: absolute;top: 98px;width: 200px;z-index: 10&quot;&gt;Very Long First name&lt;/div&gt;&lt;/div&gt;&lt;div id=&quot;backBadgeHeader&quot; style=&quot;color: white; position: relative;width:288px;&quot;&gt;&lt;div id=&quot;backBadge&quot; style=&quot;width: 288px; height: 216px; background: url(&amp;quot;http://localhost/ERImg/04/12/15/Brown_BG.jpg&amp;quot;) left top / cover no-repeat; z-index: 1;background-size: cover !important; background-position: left top&quot;&gt;&lt;/div&gt;&lt;div id=&quot;fb995700-2143-11ee-ae2a-893d4c6518ac&quot; style=&quot;color: rgb(0, 0, 0);font-family: Arial;font-size:13pt;height: 32px;left: 20px;position: absolute;top: 92px;width: 200px;z-index: 10&quot;&gt;PrintBadges_Test_last_name&lt;/div&gt;&lt;/div&gt;&lt;/body&gt;&lt;/html&gt;\r\n```\r\nBut perhaps better for future  \r\n\r\n2) you use the master margin configuration after set page size,  \r\n however **that may need version 4** not ***PD4ML version-3*** which you especially asked.\r\n\r\n```\r\n...\r\n html.setPageSize(new Dimension(288, 216)); // here I&#39;m providing some custom size, which is similar to my HTML width and height\r\n   \r\n// reset page margins for the 1st and following pages\r\n html.setPageMargins(new PageMargins(0, 0, 0, 0), &quot;1+&quot;);\r\n```\r\n\r\nHere Before &lt;body style=&quot;margin: 0px;&quot;&gt; on A4\r\n[![enter image description here][1]][1]\r\n\r\n\r\n**Here After** by also include in body or head with page size which works in browser     \r\n`&lt;head&gt;&lt;meta charset=&quot;utf-8&quot;&gt;&lt;style&gt;@media print {@page {margin:0; size:288px 216px;}}&lt;/style&gt;&lt;/head&gt;&lt;body&gt;`\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/QwZof.png\r\n  [2]: https://i.stack.imgur.com/IiLcf.png","title":"Unwanted extra space in PDF page while converting HTML to PDF using pd4ml in java","body":"<p>PD4ML uses HTML and CSS (Cascading Style Sheets) as page layout and content definition format.</p>\n<p>The current default modern gripper margin is usually 8 and that seems to be what you have as the issue trying to get borderless.</p>\n<p>There are at least two solutions,</p>\n<ol>\n<li>simply set the CSS in the HTML string to <code>&lt;body style=&quot;margin: 0px;&quot;&gt;</code> like this, or see alternative later</li>\n</ol>\n<pre><code>&lt;!DOCTYPE html&gt;&lt;html&gt;&lt;head&gt;&lt;meta charset=&quot;utf-8&quot;&gt;&lt;/head&gt;&lt;body style=&quot;margin: 0px;&quot;&gt;&lt;div id=&quot;frontBadgeHeader&quot; style=&quot;color: white; position: relative;width:288px;&quot;&gt;&lt;div id=&quot;frontBadge&quot; style=&quot;width: 288px; height: 216px; background: url(&amp;quot;http://localhost/ERImg/04/12/15/blue_Bg.jpg&amp;quot;) left top / cover no-repeat; z-index: 1;background-size: cover !important&quot;&gt;&lt;/div&gt;&lt;div id=&quot;e8d56a50-2143-11ee-ae2a-893d4c6518ac&quot; style=&quot;color: rgb(0, 0, 0);font-family: Arial;font-size:16pt;height: 32px;left: 20px;position: absolute;top: 98px;width: 200px;z-index: 10&quot;&gt;Very Long First name&lt;/div&gt;&lt;/div&gt;&lt;div id=&quot;backBadgeHeader&quot; style=&quot;color: white; position: relative;width:288px;&quot;&gt;&lt;div id=&quot;backBadge&quot; style=&quot;width: 288px; height: 216px; background: url(&amp;quot;http://localhost/ERImg/04/12/15/Brown_BG.jpg&amp;quot;) left top / cover no-repeat; z-index: 1;background-size: cover !important; background-position: left top&quot;&gt;&lt;/div&gt;&lt;div id=&quot;fb995700-2143-11ee-ae2a-893d4c6518ac&quot; style=&quot;color: rgb(0, 0, 0);font-family: Arial;font-size:13pt;height: 32px;left: 20px;position: absolute;top: 92px;width: 200px;z-index: 10&quot;&gt;PrintBadges_Test_last_name&lt;/div&gt;&lt;/div&gt;&lt;/body&gt;&lt;/html&gt;\n</code></pre>\n<p>But perhaps better for future</p>\n<ol start=\"2\">\n<li>you use the master margin configuration after set page size,<br />\nhowever <strong>that may need version 4</strong> not <em><strong>PD4ML version-3</strong></em> which you especially asked.</li>\n</ol>\n<pre><code>...\n html.setPageSize(new Dimension(288, 216)); // here I'm providing some custom size, which is similar to my HTML width and height\n   \n// reset page margins for the 1st and following pages\n html.setPageMargins(new PageMargins(0, 0, 0, 0), &quot;1+&quot;);\n</code></pre>\n<p>Here Before  on A4\n<a href=\"https://i.stack.imgur.com/QwZof.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/QwZof.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>Here After</strong> by also include in body or head with page size which works in browser<br />\n<code>&lt;head&gt;&lt;meta charset=&quot;utf-8&quot;&gt;&lt;style&gt;@media print {@page {margin:0; size:288px 216px;}}&lt;/style&gt;&lt;/head&gt;&lt;body&gt;</code></p>\n<p><a href=\"https://i.stack.imgur.com/IiLcf.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/IiLcf.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":5704335,"reputation":257,"user_id":4508409,"accept_rate":65,"display_name":"Kavi Chinna"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":126,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76683560,"answer_count":1,"score":1,"last_activity_date":1689289896,"creation_date":1689231025,"question_id":76676627,"body_markdown":"In my existing project, I&#39;m trying to convert HTML content to PDF using **PD4ML version-3.** I&#39;m facing some padding issue in the PDF page while I&#39;m setting some custom size for the PDF page size.\r\n\r\nPlease find the below java code to convert HTML to PDF\r\n\r\n    import org.zefer.pd4ml.PD4Constants;\r\n    import org.zefer.pd4ml.PD4ML;\r\n    \r\n    public void generateCustomSizeBadge(String content, OutputStream out) throws IOException, BadgeGenerationException {\r\n    \t// Generate PDF Badge with custom size\r\n    \tPD4ML html = new PD4ML();\r\n    \t\r\n    \thtml.setPageSize(new Dimension(288, 216)); // here I&#39;m providing some custom size, which is similar to my HTML width and height\r\n    \thtml.setHtmlWidth(288);\r\n    \thtml.adjustHtmlWidth();\r\n    \r\n    \thtml.setPageInsets(new Insets(0,0, 0, 0));\r\n    \thtml.enableImgSplit(false);\r\n    \thtml.useTTF(&quot;java:&quot;, true);\r\n    \thtml.setDefaultTTFs(&quot;Times New Roman&quot;, &quot;Arial&quot;, &quot;Courier New&quot;);\r\n    \r\n    \tMap&lt;String, String&gt; m = new HashMap&lt;&gt;();\r\n    \tm.put(PD4Constants.PD4ML_CACHE_IMAGES_IN_TMP_DIR, &quot;true&quot;);\r\n    \tm.put(PD4Constants.PD4ML_ABSOLUTE_ADDRESS_SPACE, &quot;document&quot;);\r\n    \thtml.setDynamicParams(m);\r\n    \r\n    \thtml.protectPhysicalUnitDimensions();\r\n    \r\n    \ttry (StringReader sr = new StringReader(content)) {\r\n    \t\thtml.render(sr, out);\r\n    \t}\r\n    }\r\n**Note : here String content in method paramenter is my HTML content which is below**\r\n\r\n    &lt;!DOCTYPE html&gt;&lt;html&gt;&lt;head&gt;&lt;meta charset=&quot;utf-8&quot;&gt;&lt;/head&gt;&lt;body&gt;&lt;div id=&quot;frontBadgeHeader&quot; style=&quot;color: white; position: relative;width:288px;&quot;&gt;&lt;div id=&quot;frontBadge&quot; style=&quot;width: 288px; height: 216px; background: url(&amp;quot;http://localhost/ERImg/04/12/15/blue_Bg.jpg&amp;quot;) left top / cover no-repeat; z-index: 1;background-size: cover !important&quot;&gt;&lt;/div&gt;&lt;div id=&quot;e8d56a50-2143-11ee-ae2a-893d4c6518ac&quot; style=&quot;color: rgb(0, 0, 0);font-family: Arial;font-size:16pt;height: 32px;left: 20px;position: absolute;top: 98px;width: 200px;z-index: 10&quot;&gt;Very Long First name&lt;/div&gt;&lt;/div&gt;&lt;div id=&quot;backBadgeHeader&quot; style=&quot;color: white; position: relative;width:288px;&quot;&gt;&lt;div id=&quot;backBadge&quot; style=&quot;width: 288px; height: 216px; background: url(&amp;quot;http://localhost/ERImg/04/12/15/Brown_BG.jpg&amp;quot;) left top / cover no-repeat; z-index: 1;background-size: cover !important; background-position: left top&quot;&gt;&lt;/div&gt;&lt;div id=&quot;fb995700-2143-11ee-ae2a-893d4c6518ac&quot; style=&quot;color: rgb(0, 0, 0);font-family: Arial;font-size:13pt;height: 32px;left: 20px;position: absolute;top: 92px;width: 200px;z-index: 10&quot;&gt;PrintBadges_Test_last_name&lt;/div&gt;&lt;/div&gt;&lt;/body&gt;&lt;/html&gt;\r\n\r\nThe problem here is, I can able to covert it PDF page, but I could see some extra white space around the content. I didn&#39;t set any page Insets for this. and also I could see the second page slightly moved in first page.\r\n\r\nI tried lot of ways to resolve this issue, but no luck. Please help me to resolve this issue. Thanks in advance.\r\n\r\nPlease find the below PDF pages **(I have attached it as Image here)**. You could see space around the background image. Its not because of background image. I&#39;m facing this issue even I set border to that HTML content.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/PK8Dj.png","title":"Unwanted extra space in PDF page while converting HTML to PDF using pd4ml in java","body":"<p>In my existing project, I'm trying to convert HTML content to PDF using <strong>PD4ML version-3.</strong> I'm facing some padding issue in the PDF page while I'm setting some custom size for the PDF page size.</p>\n<p>Please find the below java code to convert HTML to PDF</p>\n<pre><code>import org.zefer.pd4ml.PD4Constants;\nimport org.zefer.pd4ml.PD4ML;\n\npublic void generateCustomSizeBadge(String content, OutputStream out) throws IOException, BadgeGenerationException {\n    // Generate PDF Badge with custom size\n    PD4ML html = new PD4ML();\n    \n    html.setPageSize(new Dimension(288, 216)); // here I'm providing some custom size, which is similar to my HTML width and height\n    html.setHtmlWidth(288);\n    html.adjustHtmlWidth();\n\n    html.setPageInsets(new Insets(0,0, 0, 0));\n    html.enableImgSplit(false);\n    html.useTTF(&quot;java:&quot;, true);\n    html.setDefaultTTFs(&quot;Times New Roman&quot;, &quot;Arial&quot;, &quot;Courier New&quot;);\n\n    Map&lt;String, String&gt; m = new HashMap&lt;&gt;();\n    m.put(PD4Constants.PD4ML_CACHE_IMAGES_IN_TMP_DIR, &quot;true&quot;);\n    m.put(PD4Constants.PD4ML_ABSOLUTE_ADDRESS_SPACE, &quot;document&quot;);\n    html.setDynamicParams(m);\n\n    html.protectPhysicalUnitDimensions();\n\n    try (StringReader sr = new StringReader(content)) {\n        html.render(sr, out);\n    }\n}\n</code></pre>\n<p><strong>Note : here String content in method paramenter is my HTML content which is below</strong></p>\n<pre><code>&lt;!DOCTYPE html&gt;&lt;html&gt;&lt;head&gt;&lt;meta charset=&quot;utf-8&quot;&gt;&lt;/head&gt;&lt;body&gt;&lt;div id=&quot;frontBadgeHeader&quot; style=&quot;color: white; position: relative;width:288px;&quot;&gt;&lt;div id=&quot;frontBadge&quot; style=&quot;width: 288px; height: 216px; background: url(&amp;quot;http://localhost/ERImg/04/12/15/blue_Bg.jpg&amp;quot;) left top / cover no-repeat; z-index: 1;background-size: cover !important&quot;&gt;&lt;/div&gt;&lt;div id=&quot;e8d56a50-2143-11ee-ae2a-893d4c6518ac&quot; style=&quot;color: rgb(0, 0, 0);font-family: Arial;font-size:16pt;height: 32px;left: 20px;position: absolute;top: 98px;width: 200px;z-index: 10&quot;&gt;Very Long First name&lt;/div&gt;&lt;/div&gt;&lt;div id=&quot;backBadgeHeader&quot; style=&quot;color: white; position: relative;width:288px;&quot;&gt;&lt;div id=&quot;backBadge&quot; style=&quot;width: 288px; height: 216px; background: url(&amp;quot;http://localhost/ERImg/04/12/15/Brown_BG.jpg&amp;quot;) left top / cover no-repeat; z-index: 1;background-size: cover !important; background-position: left top&quot;&gt;&lt;/div&gt;&lt;div id=&quot;fb995700-2143-11ee-ae2a-893d4c6518ac&quot; style=&quot;color: rgb(0, 0, 0);font-family: Arial;font-size:13pt;height: 32px;left: 20px;position: absolute;top: 92px;width: 200px;z-index: 10&quot;&gt;PrintBadges_Test_last_name&lt;/div&gt;&lt;/div&gt;&lt;/body&gt;&lt;/html&gt;\n</code></pre>\n<p>The problem here is, I can able to covert it PDF page, but I could see some extra white space around the content. I didn't set any page Insets for this. and also I could see the second page slightly moved in first page.</p>\n<p>I tried lot of ways to resolve this issue, but no luck. Please help me to resolve this issue. Thanks in advance.</p>\n<p>Please find the below PDF pages <strong>(I have attached it as Image here)</strong>. You could see space around the background image. Its not because of background image. I'm facing this issue even I set border to that HTML content.</p>\n<p><a href=\"https://i.stack.imgur.com/PK8Dj.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/PK8Dj.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","keyboard","keyboardfocusmanager"],"answers":[{"tags":[],"owner":{"account_id":1068073,"reputation":875,"user_id":1068054,"display_name":"Jan Henke"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1333902319,"creation_date":1333902319,"answer_id":10064345,"question_id":10064296,"body_markdown":"It does not seem possible, since it requires the application to poll for the initial status, opposed to the model of events used by AWT/Swing.","title":"Check whether shift key is pressed","body":"<p>It does not seem possible, since it requires the application to poll for the initial status, opposed to the model of events used by AWT/Swing.</p>\n"},{"tags":[],"owner":{"account_id":795711,"reputation":3788,"user_id":888715,"accept_rate":77,"display_name":"awiebe"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1333902329,"creation_date":1333902329,"answer_id":10064346,"question_id":10064296,"body_markdown":"Cleaning up your coding style might help, I find your code difficult to read.\r\n\r\nYour program probably doesn&#39;t listen to a shift that occured before the program started by design, as this shift was sent to the parent program not to it.","title":"Check whether shift key is pressed","body":"<p>Cleaning up your coding style might help, I find your code difficult to read.</p>\n\n<p>Your program probably doesn't listen to a shift that occured before the program started by design, as this shift was sent to the parent program not to it.</p>\n"},{"tags":[],"owner":{"account_id":1252167,"reputation":5353,"user_id":1212363,"accept_rate":82,"display_name":"ulmangt"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1333903445,"creation_date":1333903445,"answer_id":10064498,"question_id":10064296,"body_markdown":"\t\t\r\nI&#39;d characterize this as a hack, but it does solve the problem (with some downsides), so I figured I would mention it as a possibility.\r\n\r\nYou can use the `Robot` class to simulate a keystroke of some key that your application doesn&#39;t care about (perhaps one of the function keys). Run this code right after you register your `KeyListener`. You&#39;ll see a key event which will tell you whether `Shift` is down.\r\n\r\n*Warning:* This will appear to the system as if the `F24` (or whatever key you choose) had actually been pressed and released by the user. That could potentially have unexpected side-effects.\r\n\r\n\t\t(new Thread( )\r\n\t\t{\r\n\t\t\t@Override\r\n\t\t\tpublic void run( )\r\n\t\t\t{\r\n\t\t\t\ttry\r\n\t\t\t\t{\r\n\t\t\t\t\tjava.awt.Robot robot = new Robot();\r\n\t\t\t\t\trobot.delay( 100 );\r\n\t\t\t        robot.keyPress( KeyEvent.VK_F24 );\r\n\t\t\t        robot.keyRelease( KeyEvent.VK_F24 );\r\n\t\t\t\t}\r\n\t\t\t\tcatch ( Exception e )\r\n\t\t\t\t{\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}).start( );","title":"Check whether shift key is pressed","body":"<p>I'd characterize this as a hack, but it does solve the problem (with some downsides), so I figured I would mention it as a possibility.</p>\n\n<p>You can use the <code>Robot</code> class to simulate a keystroke of some key that your application doesn't care about (perhaps one of the function keys). Run this code right after you register your <code>KeyListener</code>. You'll see a key event which will tell you whether <code>Shift</code> is down.</p>\n\n<p><em>Warning:</em> This will appear to the system as if the <code>F24</code> (or whatever key you choose) had actually been pressed and released by the user. That could potentially have unexpected side-effects.</p>\n\n<pre><code>    (new Thread( )\n    {\n        @Override\n        public void run( )\n        {\n            try\n            {\n                java.awt.Robot robot = new Robot();\n                robot.delay( 100 );\n                robot.keyPress( KeyEvent.VK_F24 );\n                robot.keyRelease( KeyEvent.VK_F24 );\n            }\n            catch ( Exception e )\n            {\n            }\n        }\n    }).start( );\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2309641,"reputation":4648,"user_id":2028066,"accept_rate":52,"display_name":"MiguelMunoz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689289227,"creation_date":1689288701,"answer_id":76683726,"question_id":10064296,"body_markdown":"I think you can do this by writing an AWTEventListener and listening for a key event when the shift key is pressed. You would need to install into the ToolKit:\r\n\r\n    Toolkit.getDefaultToolkit().addAWTEventListener(myShiftListener);\r\n\r\nI&#39;m not sure if it would work if you typed the key before launching the application. If you installed the KeyListener as your first operation, then it would be more likely to work if the key was typed after launching, but before the main window opened. That way, your code to build and show the main window could read the event. (You may have to put a small delay in after installing the listener.)","title":"Check whether shift key is pressed","body":"<p>I think you can do this by writing an AWTEventListener and listening for a key event when the shift key is pressed. You would need to install into the ToolKit:</p>\n<pre><code>Toolkit.getDefaultToolkit().addAWTEventListener(myShiftListener);\n</code></pre>\n<p>I'm not sure if it would work if you typed the key before launching the application. If you installed the KeyListener as your first operation, then it would be more likely to work if the key was typed after launching, but before the main window opened. That way, your code to build and show the main window could read the event. (You may have to put a small delay in after installing the listener.)</p>\n"}],"owner":{"account_id":1039902,"reputation":2194,"user_id":1046192,"accept_rate":100,"display_name":"haiyyu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10809,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":10064498,"answer_count":4,"score":2,"last_activity_date":1689289227,"creation_date":1333901828,"question_id":10064296,"body_markdown":"I&#39;m programming an application which should, when started, check whether the shift key is pressed. For that I have created a small class which is responsible for that:\r\n\r\n    import java.awt.KeyEventDispatcher;\r\n    import java.awt.KeyboardFocusManager;\r\n    import java.awt.event.KeyEvent;\r\n    \r\n    public class KeyboardListener {\r\n    \r\n    \tprivate static boolean isShiftDown;\r\n    \t\r\n    \tstatic {\r\n    \t\tKeyboardFocusManager.getCurrentKeyboardFocusManager().addKeyEventDispatcher(\r\n    \t\t\tnew KeyEventDispatcher() {\r\n    \t\t\t\tpublic boolean dispatchKeyEvent(KeyEvent e) {\r\n    \t\t\t\t\tisShiftDown = e.isShiftDown();\r\n    \t\t\t\t\treturn false;\r\n    \t\t\t\t}\r\n    \t\t\t});\r\n    \t}\r\n    \t\r\n    \tpublic static boolean isShiftDown() {\r\n    \t\treturn isShiftDown;\r\n    \t}\r\n    \t\r\n    }\r\n\r\nHowever, it seems that this is not working if the shift key was already pressed when the application started up. The following check always executes the else case.\r\n\r\n    if (KeyboardListener.isShiftDown()) {\r\n        // ...\r\n    } else {\r\n        // this always gets executed\r\n    }\r\n\r\nIs there a way of checking whether the shift key is pressed if it was already pressed when the application started? I know this is possible using WinAPI, but I would prefer a Javaish way of doing it.\r\n\r\nThanks in advance!","title":"Check whether shift key is pressed","body":"<p>I'm programming an application which should, when started, check whether the shift key is pressed. For that I have created a small class which is responsible for that:</p>\n\n<pre><code>import java.awt.KeyEventDispatcher;\nimport java.awt.KeyboardFocusManager;\nimport java.awt.event.KeyEvent;\n\npublic class KeyboardListener {\n\n    private static boolean isShiftDown;\n\n    static {\n        KeyboardFocusManager.getCurrentKeyboardFocusManager().addKeyEventDispatcher(\n            new KeyEventDispatcher() {\n                public boolean dispatchKeyEvent(KeyEvent e) {\n                    isShiftDown = e.isShiftDown();\n                    return false;\n                }\n            });\n    }\n\n    public static boolean isShiftDown() {\n        return isShiftDown;\n    }\n\n}\n</code></pre>\n\n<p>However, it seems that this is not working if the shift key was already pressed when the application started up. The following check always executes the else case.</p>\n\n<pre><code>if (KeyboardListener.isShiftDown()) {\n    // ...\n} else {\n    // this always gets executed\n}\n</code></pre>\n\n<p>Is there a way of checking whether the shift key is pressed if it was already pressed when the application started? I know this is possible using WinAPI, but I would prefer a Javaish way of doing it.</p>\n\n<p>Thanks in advance!</p>\n"},{"tags":["java","flutter","dart","java-threads","dart-isolates"],"answers":[{"tags":[],"owner":{"account_id":28879887,"reputation":163,"user_id":22119575,"display_name":"d-markey"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689288893,"creation_date":1689288893,"answer_id":76683742,"question_id":76538853,"body_markdown":"maybe you can have a look at [Squadron][1] which implements Isolate pools wrapping a service class.\r\n\r\nBasically, you implement a service class and use Squadron annotations to make your service available from an Isolate (or a pool of Isolates managed by Squadron). Annotations are processed by package squadron_builder to generate code for the Isolate/Isolate pool.\r\n\r\n\r\n  [1]: https://pub.dev/packages/squadron","title":"How can I implement the equivalent of a Java HandlerThread in Dart?","body":"<p>maybe you can have a look at <a href=\"https://pub.dev/packages/squadron\" rel=\"nofollow noreferrer\">Squadron</a> which implements Isolate pools wrapping a service class.</p>\n<p>Basically, you implement a service class and use Squadron annotations to make your service available from an Isolate (or a pool of Isolates managed by Squadron). Annotations are processed by package squadron_builder to generate code for the Isolate/Isolate pool.</p>\n"}],"owner":{"account_id":5429762,"reputation":1306,"user_id":4321004,"display_name":"tfrysinger"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":121,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1689288893,"creation_date":1687513189,"question_id":76538853,"body_markdown":"I am porting an Android native app written in Java to Dart/Flutter. One of the features of this app is that it allows two users to transfer 1 or more files simultaneously between devices. \r\n\r\nOn startup, the native Java app creates an instance of a class that is implemented as an Android Service (InTouchCommunicationService) which acts as a central broker for notifications. \r\n\r\nWhen user A wants to send a file to user B, user A spawns an instance of a class (InTouchShareTransfer) which extends the Java HandlerThread class. This class handles a variety of messages that get passed back and forth between user A and B.\r\n\r\nFor example, when user A wants to send a file, it spawns a new InTouchShareTransfer instance, which sends a notification to B (&quot;Are you ready to receive a file?&quot;), B&#39;s InTouchCommunicationService receives this notification, notes it is a request to send a transfer, and creates an instance of InTouchShareTransfer on B.\r\n\r\nThe two InTouchShareTransfer instances on A &amp; B can now create/emit messages, which are handled by the communication service. Each message contains the ID of the InTouchShareTransfer instance it is tied to.\r\n\r\nThe communication service keeps a reference to each InTouchShareTransfer instance it spawns by its numeric ID in a HashMap.\r\n\r\nSo a flow looks like:\r\n\r\nUser A\r\n   app user indicates they want to send a file to user B\r\n   InTouchCommunicationService spawns an InTouchShareTransfer instance, saves it in\r\n       its HashMap\r\n   InTouchShareTransfer initiates the transfer by creating an initiation message: &quot;Are \r\n       you ready to receive a file?&quot;, and sends it to the message queue managed by\r\n       InTouchCommunicationService.\r\n   InTouchCommunicationService handles pushing that message out to B.\r\n\r\nUser B\r\n   InTouchCommunicationService receives the initiation message, notes that there is no\r\n       handler yet set up to receive it, so spawns an InTouchShareTransfer instance,\r\n       and saves it by ID in its hashmap, then passes the received message along for\r\n       it to handle.\r\n    InTouchShareTransfer instance receives the message, and formulates a response: &quot;yes, \r\n       send me your file!&quot;\r\n\r\nUser A\r\n    InTouchCommunicationServices receives the message from B, looks up the ID of the \r\n        appropriate InTouchShareTransfer instance, and passes the response along.\r\n\r\nThis back and forth handshake continues until the file is ready to be sent, which is then done using a data channel with WebRTC.\r\n\r\nThe reason for this design, is that handling of many of these messages (including the file transfer) can take quite some time, thus they need to be handled on their own Java thread.\r\n\r\nSo here is the problem I face:\r\n\r\nFrom my reading of Isolates in Dart, they are automatically destroyed once their event queue is empty. This is very unlike how HandlerThread instances work - which simply keep running (blocking) and will handle events that are submitted to the looper, until the thread is specifically killed.\r\n\r\nSo my first thought of using an Isolate to be the equivalent of a HandlerThread doesn&#39;t seem to be correct. Valid assumption?\r\n\r\nSo is the proper technique to spawn an isolate to handle every message that is processed by InTouchCommunicationService? That seems an expensive setup/teardown - since Isolates use their own memory space, etc. I haven&#39;t seen the concept of an &quot;Isolate pool&quot;, to optimize this setup/teardown the way we have thread pools in Java.\r\n\r\nDesign suggestions welcome!","title":"How can I implement the equivalent of a Java HandlerThread in Dart?","body":"<p>I am porting an Android native app written in Java to Dart/Flutter. One of the features of this app is that it allows two users to transfer 1 or more files simultaneously between devices.</p>\n<p>On startup, the native Java app creates an instance of a class that is implemented as an Android Service (InTouchCommunicationService) which acts as a central broker for notifications.</p>\n<p>When user A wants to send a file to user B, user A spawns an instance of a class (InTouchShareTransfer) which extends the Java HandlerThread class. This class handles a variety of messages that get passed back and forth between user A and B.</p>\n<p>For example, when user A wants to send a file, it spawns a new InTouchShareTransfer instance, which sends a notification to B (&quot;Are you ready to receive a file?&quot;), B's InTouchCommunicationService receives this notification, notes it is a request to send a transfer, and creates an instance of InTouchShareTransfer on B.</p>\n<p>The two InTouchShareTransfer instances on A &amp; B can now create/emit messages, which are handled by the communication service. Each message contains the ID of the InTouchShareTransfer instance it is tied to.</p>\n<p>The communication service keeps a reference to each InTouchShareTransfer instance it spawns by its numeric ID in a HashMap.</p>\n<p>So a flow looks like:</p>\n<p>User A\napp user indicates they want to send a file to user B\nInTouchCommunicationService spawns an InTouchShareTransfer instance, saves it in\nits HashMap\nInTouchShareTransfer initiates the transfer by creating an initiation message: &quot;Are\nyou ready to receive a file?&quot;, and sends it to the message queue managed by\nInTouchCommunicationService.\nInTouchCommunicationService handles pushing that message out to B.</p>\n<p>User B\nInTouchCommunicationService receives the initiation message, notes that there is no\nhandler yet set up to receive it, so spawns an InTouchShareTransfer instance,\nand saves it by ID in its hashmap, then passes the received message along for\nit to handle.\nInTouchShareTransfer instance receives the message, and formulates a response: &quot;yes,\nsend me your file!&quot;</p>\n<p>User A\nInTouchCommunicationServices receives the message from B, looks up the ID of the\nappropriate InTouchShareTransfer instance, and passes the response along.</p>\n<p>This back and forth handshake continues until the file is ready to be sent, which is then done using a data channel with WebRTC.</p>\n<p>The reason for this design, is that handling of many of these messages (including the file transfer) can take quite some time, thus they need to be handled on their own Java thread.</p>\n<p>So here is the problem I face:</p>\n<p>From my reading of Isolates in Dart, they are automatically destroyed once their event queue is empty. This is very unlike how HandlerThread instances work - which simply keep running (blocking) and will handle events that are submitted to the looper, until the thread is specifically killed.</p>\n<p>So my first thought of using an Isolate to be the equivalent of a HandlerThread doesn't seem to be correct. Valid assumption?</p>\n<p>So is the proper technique to spawn an isolate to handle every message that is processed by InTouchCommunicationService? That seems an expensive setup/teardown - since Isolates use their own memory space, etc. I haven't seen the concept of an &quot;Isolate pool&quot;, to optimize this setup/teardown the way we have thread pools in Java.</p>\n<p>Design suggestions welcome!</p>\n"},{"tags":["java","amazon-s3","aws-sdk-java-2.0"],"comments":[{"owner":{"account_id":100740,"reputation":73217,"user_id":271415,"accept_rate":91,"display_name":"jarmod"},"score":1,"creation_date":1689267258,"post_id":76681692,"comment_id":135192852,"body_markdown":"The v2 [S3Object](https://sdk.amazonaws.com/java/api/latest/software/amazon/awssdk/services/s3/model/S3Object.html) class looks similar.","body":"The v2 <a href=\"https://sdk.amazonaws.com/java/api/latest/software/amazon/awssdk/services/s3/model/S3Object.html\" rel=\"nofollow noreferrer\">S3Object</a> class looks similar."}],"answers":[{"tags":[],"owner":{"account_id":26281505,"reputation":427,"user_id":19949926,"display_name":"rlhagerm"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689288189,"creation_date":1689288189,"answer_id":76683685,"question_id":76681692,"body_markdown":"If you were getting `S3ObjectSummary` objects as a result of listing the objects in a bucket, then the equivalent should be `S3Object`, since [ListObjectsV2][1] returns a [response][2] with a `List&lt;S3Object&gt;`.\r\n\r\n\r\n  [1]: https://sdk.amazonaws.com/java/api/latest/software/amazon/awssdk/services/s3/S3Client.html#listObjectsV2(software.amazon.awssdk.services.s3.model.ListObjectsV2Request)\r\n  [2]: https://sdk.amazonaws.com/java/api/latest/software/amazon/awssdk/services/s3/model/ListObjectsV2Response.html","title":"AWS SDK Java Version 2 - Is there an equivalent of S3ObjectSummary from version 1","body":"<p>If you were getting <code>S3ObjectSummary</code> objects as a result of listing the objects in a bucket, then the equivalent should be <code>S3Object</code>, since <a href=\"https://sdk.amazonaws.com/java/api/latest/software/amazon/awssdk/services/s3/S3Client.html#listObjectsV2(software.amazon.awssdk.services.s3.model.ListObjectsV2Request)\" rel=\"nofollow noreferrer\">ListObjectsV2</a> returns a <a href=\"https://sdk.amazonaws.com/java/api/latest/software/amazon/awssdk/services/s3/model/ListObjectsV2Response.html\" rel=\"nofollow noreferrer\">response</a> with a <code>List&lt;S3Object&gt;</code>.</p>\n"}],"owner":{"account_id":19793293,"reputation":25,"user_id":14495826,"display_name":"weezyFjr420"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":112,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1689288189,"creation_date":1689266975,"question_id":76681692,"body_markdown":"I am using S3ObjectSummary previously in my code with version 1 and I am now migrating my code to SDK 2.20. What&#39;s the equivalent of S3ObjectSummary in SDK 2.20?","title":"AWS SDK Java Version 2 - Is there an equivalent of S3ObjectSummary from version 1","body":"<p>I am using S3ObjectSummary previously in my code with version 1 and I am now migrating my code to SDK 2.20. What's the equivalent of S3ObjectSummary in SDK 2.20?</p>\n"},{"tags":["java","spring-boot","spring-security"],"comments":[{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1689286038,"post_id":76683515,"comment_id":135196033,"body_markdown":"You can add `@Import` to your test for adding additional beans, e.g. `@Import({JwtService.class, YourUserDetailService})`","body":"You can add <code>@Import</code> to your test for adding additional beans, e.g. <code>@Import({JwtService.class, YourUserDetailService})</code>"},{"owner":{"account_id":19425009,"reputation":26,"user_id":14206660,"display_name":"Noel Covarrubias"},"score":0,"creation_date":1689286725,"post_id":76683515,"comment_id":135196095,"body_markdown":"Hi @dan1stisonstrike thank you for your response. I tried doing that like this: ```@Import({UserService.class, UserRepository.class, JwtService.class})``` since those are the ones it kept throwing errors for. It gave me a different error so this is good news. The error is something along the lines of  ```&quot;Error creating bean with name &#39;com.league_buddies.backend.user.UserService&#39;: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name &#39;com.league_buddies.backend.user.UserRepository&#39;&quot;``` any knowledge about this that you can share?","body":"Hi @dan1stisonstrike thank you for your response. I tried doing that like this: <code>@Import({UserService.class, UserRepository.class, JwtService.class})</code> since those are the ones it kept throwing errors for. It gave me a different error so this is good news. The error is something along the lines of  <code>&quot;Error creating bean with name &#39;com.league_buddies.backend.user.UserService&#39;: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name &#39;com.league_buddies.backend.user.UserRepository&#39;&quot;</code> any knowledge about this that you can share?"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1689318370,"post_id":76683515,"comment_id":135199211,"body_markdown":"Your test is weird, you want `@WebMvcTest` but then go into configuring everything yourself. THen what is the purpose of `@WebMvcTest`? Also `@WebMvcTest` will only create web related beans so it will **not** create an instance of your `JwtService` or any other service for that matter. Now as it is required for security you will need that. To fix the last error replace `@Mock` with `@MockBean` and remove the `UserService`/`UserController` creation from your setup method, as well as the manual creation of the `MockMvc` just `@Autowired` it.","body":"Your test is weird, you want <code>@WebMvcTest</code> but then go into configuring everything yourself. THen what is the purpose of <code>@WebMvcTest</code>? Also <code>@WebMvcTest</code> will only create web related beans so it will <b>not</b> create an instance of your <code>JwtService</code> or any other service for that matter. Now as it is required for security you will need that. To fix the last error replace <code>@Mock</code> with <code>@MockBean</code> and remove the <code>UserService</code>/<code>UserController</code> creation from your setup method, as well as the manual creation of the <code>MockMvc</code> just <code>@Autowired</code> it."},{"owner":{"account_id":2064278,"reputation":13128,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":1,"creation_date":1689320870,"post_id":76683515,"comment_id":135199648,"body_markdown":"In general using jwts as session tokens is insecure and is the reason why spring does not have a prebuilt implementation for it. You application is now vulnerable for session stealing, cross site scripting attacks and you can not logout the user and your application will be easy to DDoS. Stop using jwts as sessions","body":"In general using jwts as session tokens is insecure and is the reason why spring does not have a prebuilt implementation for it. You application is now vulnerable for session stealing, cross site scripting attacks and you can not logout the user and your application will be easy to DDoS. Stop using jwts as sessions"},{"owner":{"account_id":19425009,"reputation":26,"user_id":14206660,"display_name":"Noel Covarrubias"},"score":0,"creation_date":1689366358,"post_id":76683515,"comment_id":135208834,"body_markdown":"Thanks for that @M.Deinum. I&#39;m new to Spring Security and I was following this one tutorial that implemented JWT tokens and I just sort of followed it. I read the docs from Spring Security but they don&#39;t have examples of how to do things so I had to do it this way. I will keep learning and make the changes you mentioned. Thanks!","body":"Thanks for that @M.Deinum. I&#39;m new to Spring Security and I was following this one tutorial that implemented JWT tokens and I just sort of followed it. I read the docs from Spring Security but they don&#39;t have examples of how to do things so I had to do it this way. I will keep learning and make the changes you mentioned. Thanks!"},{"owner":{"account_id":19425009,"reputation":26,"user_id":14206660,"display_name":"Noel Covarrubias"},"score":0,"creation_date":1689366427,"post_id":76683515,"comment_id":135208844,"body_markdown":"@Toerktumlare, I had no idea. I&#39;m new to Spring Boot and I just went with it because it&#39;s something I&#39;ve used before (JWT tokens). I will look into what you mentioned and look for a good replacement to what I&#39;ve done to make my application secure which is definitely my goal. Appreciate the help.","body":"@Toerktumlare, I had no idea. I&#39;m new to Spring Boot and I just went with it because it&#39;s something I&#39;ve used before (JWT tokens). I will look into what you mentioned and look for a good replacement to what I&#39;ve done to make my application secure which is definitely my goal. Appreciate the help."},{"owner":{"account_id":2064278,"reputation":13128,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1689405867,"post_id":76683515,"comment_id":135211571,"body_markdown":"If you are new you should start with the documentation","body":"If you are new you should start with the documentation"},{"owner":{"account_id":19425009,"reputation":26,"user_id":14206660,"display_name":"Noel Covarrubias"},"score":0,"creation_date":1689448620,"post_id":76683515,"comment_id":135216204,"body_markdown":"@Toerktumlare that&#39;s exactly what I did but the documentation is very complicated for somebody new, and they lack examples that would make it easier to understand. Someone recommended me a book called &quot;Spring Security in Action&quot; so hopefully that helps. Thank you.","body":"@Toerktumlare that&#39;s exactly what I did but the documentation is very complicated for somebody new, and they lack examples that would make it easier to understand. Someone recommended me a book called &quot;Spring Security in Action&quot; so hopefully that helps. Thank you."},{"owner":{"account_id":2064278,"reputation":13128,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":1,"creation_date":1689452022,"post_id":76683515,"comment_id":135216500,"body_markdown":"if you think the docs are complicated, then that would be an excellent question to ask us to clarify something in the documentation if it is complicated. i suggest you start reading here https://docs.spring.io/spring-security/reference/servlet/architecture.html#servlet-architecture and then continue here https://docs.spring.io/spring-security/reference/servlet/authentication/architecture.html if you understand these 2 pages you will understand everything else in the docs","body":"if you think the docs are complicated, then that would be an excellent question to ask us to clarify something in the documentation if it is complicated. i suggest you start reading here <a href=\"https://docs.spring.io/spring-security/reference/servlet/architecture.html#servlet-architecture\" rel=\"nofollow noreferrer\">docs.spring.io/spring-security/reference/servlet/&hellip;</a> and then continue here <a href=\"https://docs.spring.io/spring-security/reference/servlet/authentication/architecture.html\" rel=\"nofollow noreferrer\">docs.spring.io/spring-security/reference/servlet/authenticat&zwnj;&#8203;ion/&hellip;</a> if you understand these 2 pages you will understand everything else in the docs"},{"owner":{"account_id":19425009,"reputation":26,"user_id":14206660,"display_name":"Noel Covarrubias"},"score":0,"creation_date":1689536769,"post_id":76683515,"comment_id":135223915,"body_markdown":"@Toerktumlare I went through those a couple days ago and I did get a good understanding of them. I think what I&#39;m confused or need to learn more about is simply how to implement those things that they mention in the docs. For example Java/Spring Boot has many Interfaces that already have implementations so you don&#39;t have to implement your own and so I don&#39;t know when to use those, which one is best, etc. I think it&#39;s just practice I need though and trial and error. Thank you for your help.","body":"@Toerktumlare I went through those a couple days ago and I did get a good understanding of them. I think what I&#39;m confused or need to learn more about is simply how to implement those things that they mention in the docs. For example Java/Spring Boot has many Interfaces that already have implementations so you don&#39;t have to implement your own and so I don&#39;t know when to use those, which one is best, etc. I think it&#39;s just practice I need though and trial and error. Thank you for your help."},{"owner":{"account_id":2064278,"reputation":13128,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":1,"creation_date":1689537699,"post_id":76683515,"comment_id":135224033,"body_markdown":"`I&#39;m confused or need to learn more about is simply how to implement those things that they mention in the doc` i dont really get it, they have a chpater that is clearly named `Samples` https://docs.spring.io/spring-security/reference/samples.html which linkes to tonnes of samples, and start out with implementing form security https://docs.spring.io/spring-security/reference/servlet/authentication/passwords/form.html","body":"<code>I&#39;m confused or need to learn more about is simply how to implement those things that they mention in the doc</code> i dont really get it, they have a chpater that is clearly named <code>Samples</code> <a href=\"https://docs.spring.io/spring-security/reference/samples.html\" rel=\"nofollow noreferrer\">docs.spring.io/spring-security/reference/samples.html</a> which linkes to tonnes of samples, and start out with implementing form security <a href=\"https://docs.spring.io/spring-security/reference/servlet/authentication/passwords/form.html\" rel=\"nofollow noreferrer\">docs.spring.io/spring-security/reference/servlet/authenticat&zwnj;&#8203;ion/&hellip;</a>"},{"owner":{"account_id":19425009,"reputation":26,"user_id":14206660,"display_name":"Noel Covarrubias"},"score":0,"creation_date":1689645131,"post_id":76683515,"comment_id":135239668,"body_markdown":"Thank you! @Toerktumlare. You&#39;ve been very helpful. I fixed my error with one of the comments before yours. Your comments have been helpful by making me think of the tokens and making me realize I need to dig deeper into the docs. Appreciate the help!","body":"Thank you! @Toerktumlare. You&#39;ve been very helpful. I fixed my error with one of the comments before yours. Your comments have been helpful by making me think of the tokens and making me realize I need to dig deeper into the docs. Appreciate the help!"}],"owner":{"account_id":19425009,"reputation":26,"user_id":14206660,"display_name":"Noel Covarrubias"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":128,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689286350,"creation_date":1689285799,"question_id":76683515,"body_markdown":"I as the title says I have a Spring Boot application that is failing when I run some tests, more specifically the controller tests. The issue came up once I was done adding authentication to the app. I realized the tests for the controllers were not passing, not a single one. When I tried running the debugger, I saw the following error: ```&quot;Parameter 0 of constructor in com.league_buddies.backend.security.authentication.AuthenticationFilter required a bean of type &#39;com.league_buddies.backend.security.jwt.JwtService&#39; that could not be found.&quot;```\r\n\r\nI have the following class that loads up all the beans my application uses:\r\n\r\n```Java\r\n@Configuration\r\n@RequiredArgsConstructor\r\npublic class ApplicationConfiguration {\r\n\r\n    private final UserService userService;\r\n\r\n    @Bean\r\n    public UserDetailsService userDetailsService() {\r\n        return username -&gt; userService.findByEmailAddress(username);\r\n    }\r\n\r\n    @Bean\r\n    public PasswordEncoder passwordEncoder() {\r\n        return new BCryptPasswordEncoder();\r\n\r\n    }\r\n\r\n    @Bean\r\n    public AuthenticationProvider authenticationProvider() {\r\n        DaoAuthenticationProvider daoAuthenticationProvider = new DaoAuthenticationProvider();\r\n        daoAuthenticationProvider.setUserDetailsService(userDetailsService());\r\n        daoAuthenticationProvider.setPasswordEncoder(passwordEncoder());\r\n        return daoAuthenticationProvider;\r\n    }\r\n\r\n    @Bean\r\n    public AuthenticationManager authenticationManager() {\r\n        ProviderManager providerManager = new ProviderManager(authenticationProvider());\r\n        return providerManager;\r\n    }\r\n}\r\n```\r\n\r\nThis is my AuthenticationFilter class:\r\n```Java\r\n@Component\r\n@RequiredArgsConstructor\r\npublic class AuthenticationFilter extends OncePerRequestFilter {\r\n    private final JwtService jwtService;\r\n\r\n    private final UserDetailsService userDetailsService;\r\n\r\n    @Override\r\n    protected void doFilterInternal(\r\n            HttpServletRequest request,\r\n            HttpServletResponse response,\r\n            FilterChain filterChain) throws ServletException, IOException {\r\n        final String authorization = request.getHeader(&quot;Authorization&quot;);\r\n        final String token;\r\n        if (authorization == null || !authorization.startsWith(&quot;Bearer &quot;)) {\r\n            filterChain.doFilter(request, response);\r\n            return;\r\n        }\r\n        // JWT tokens start with &quot;Bearer &quot;. We have to remove that part to get the actual token.\r\n        token = authorization.substring(&quot;Bearer &quot;.length());\r\n        String username = jwtService.extractSubject(token);\r\n        if (username != null &amp;&amp; SecurityContextHolder.getContext().getAuthentication() == null) {\r\n            UserDetails userDetails = this.userDetailsService.loadUserByUsername(username);\r\n            if(jwtService.isTokenValid(token, userDetails)) {\r\n                // This is the recommended way for setting the context by Spring Security.\r\n                SecurityContext context = SecurityContextHolder.createEmptyContext();\r\n                context.setAuthentication(new UsernamePasswordAuthenticationToken(\r\n                        userDetails, null, userDetails.getAuthorities()\r\n                ));\r\n                SecurityContextHolder.setContext(context);\r\n            }\r\n        }\r\n        filterChain.doFilter(request, response);\r\n    }\r\n}\r\n```\r\n\r\nAnd lastly this is my JwtService (The privateKey will change don&#39;t worry):\r\n```Java\r\n@Service\r\npublic class JwtService {\r\n    // TODO move this to application config level.\r\n    private final String privateKey = &quot;SDGJKHJK35346KHJ4/sdfjkhsdka98dsgd357qjahf2897452381!&quot;;\r\n    public String generateToken(String username) {\r\n        return Jwts\r\n                .builder()\r\n                .setSubject(username)\r\n                .setIssuedAt(new Date(System.currentTimeMillis()))\r\n                .setExpiration(new Date(System.currentTimeMillis() + 86400000))\r\n                .signWith(getSignInKey(), SignatureAlgorithm.HS256)\r\n                .compact();\r\n    }\r\n\r\n    private Claims extractClaims(String token) {\r\n        return Jwts.parserBuilder()\r\n                .setSigningKey(getSignInKey())\r\n                .build()\r\n                .parseClaimsJws(token)\r\n                .getBody();\r\n    }\r\n\r\n    public String extractSubject(String token) {\r\n        return extractClaims(token).getSubject();\r\n    }\r\n\r\n    private Date extractExpiration(String token) {\r\n        return extractClaims(token).getExpiration();\r\n    }\r\n\r\n    private Key getSignInKey() {\r\n        byte[] keyBytes = Decoders.BASE64.decode(privateKey);\r\n        return Keys.hmacShaKeyFor(keyBytes);\r\n    }\r\n\r\n    private boolean isTokenExpired(String token) {\r\n        return extractExpiration(token).before(new Date());\r\n    }\r\n\r\n    public boolean isTokenValid(String token, UserDetails userDetails) {\r\n        return extractSubject(token).equals(userDetails.getUsername()) &amp;&amp; !isTokenExpired(token);\r\n    }\r\n}\r\n```\r\n\r\nI believe that by including the annotations that my classes have, Spring Boot should load them and there should be not problems, at least there are no problems when I run the application, it&#39;s only when I try to run the tests for the controllers that this happens. Here is a part of one of them if you want to look at it, I&#39;m using MockMvc to call the endpoints etc:\r\n```Java\r\n@ExtendWith(MockitoExtension.class)\r\n@WebMvcTest(UserControllerTest.class)\r\nclass UserControllerTest {\r\n    // TODO Make a constant for the API url to avoid writing it over and over.\r\n    @Mock\r\n    private UserRepository userRepository;\r\n\r\n    private UserService userService;\r\n\r\n    private UserController userController;\r\n\r\n    @Autowired\r\n    CustomExceptionHandler customExceptionHandler;\r\n\r\n    @Autowired\r\n    private MockMvc mockMvc;\r\n\r\n    @Autowired\r\n    private ObjectMapper objectMapper;\r\n\r\n    private long id;\r\n\r\n    private Optional&lt;User&gt; optionalUser;\r\n\r\n    private String displayName;\r\n\r\n    private String email;\r\n\r\n    private String password;\r\n\r\n    @BeforeEach\r\n    void setUp() {\r\n        // Stub user service with mock user repository\r\n        userService = new UserService(userRepository);\r\n\r\n        // Start controller with user service that has the mock user repository\r\n        userController = new UserController(userService);\r\n\r\n        // Builds a MockMvcBuilder and passes it the CustomExceptionHandler\r\n        // so that it can use it, otherwise it will use the default one Spring Boot\r\n        // comes with.\r\n        mockMvc = MockMvcBuilders.standaloneSetup(userController)\r\n                .setControllerAdvice(customExceptionHandler)\r\n                .build();\r\n\r\n        id = 1L;\r\n        displayName = &quot;Isolated&quot;;\r\n        email = &quot;email@gmail.com&quot;;\r\n        password = &quot;pw12345&quot;;\r\n        User user = new User();\r\n        user.setId(id);\r\n        user.setDisplayName(displayName);\r\n        user.setEmailAddress(email);\r\n        user.setPassword(password);\r\n        optionalUser = Optional.of(user);\r\n    }\r\n\r\n    @Test\r\n    public void throwsWhenUserDoesNotExistInDatabaseWithGivenId() throws Exception {\r\n        // Arrange\r\n        when(userRepository.findById(anyLong())).thenReturn(Optional.empty());\r\n\r\n        // Act\r\n        MockHttpServletResponse response = mockMvc.perform(\r\n                get(String.format(&quot;/api/v1/user/%d&quot;, id)).accept(MediaType.APPLICATION_JSON))\r\n                .andReturn().getResponse();\r\n\r\n        ApiException apiException = objectMapper.readValue(response.getContentAsString(), ApiException.class);\r\n\r\n        // Assert\r\n        assertEquals(HttpStatus.NOT_FOUND.value(), response.getStatus());\r\n        assertEquals(String.format(&quot;User with id: %d was not found.&quot;, id), apiException.getMessage());\r\n    }\r\n\r\n    @Test\r\n    public void throwsWhenGivenNegativeValueToGetById() throws Exception {\r\n        // Act\r\n        id = -1L;\r\n        MockHttpServletResponse response = mockMvc.perform(\r\n                get(String.format(&quot;/api/v1/user/%s&quot;, id)).accept(MediaType.APPLICATION_JSON))\r\n                .andReturn().getResponse();\r\n        ApiException apiException = objectMapper.readValue(response.getContentAsString(), ApiException.class);\r\n\r\n        // Assert\r\n        assertEquals(HttpStatus.BAD_REQUEST.value(), response.getStatus());\r\n        assertEquals(&quot;Id cannot be negative.&quot;, apiException.getMessage());\r\n    }\r\n```\r\n\r\nI tried setting up different profiles so that I could deactivate spring security during the tests but that didn&#39;t seem to work.\r\nI also tried using the annotation @WithMockUser(username = &quot;user1&quot;, password = &quot;pwd&quot;, roles = &quot;USER&quot;) but that&#39;s when I realized the tests weren&#39;t even running. ","title":"How do I fix my Spring Boot application from crashing when running my controller tests?","body":"<p>I as the title says I have a Spring Boot application that is failing when I run some tests, more specifically the controller tests. The issue came up once I was done adding authentication to the app. I realized the tests for the controllers were not passing, not a single one. When I tried running the debugger, I saw the following error: <code>&quot;Parameter 0 of constructor in com.league_buddies.backend.security.authentication.AuthenticationFilter required a bean of type 'com.league_buddies.backend.security.jwt.JwtService' that could not be found.&quot;</code></p>\n<p>I have the following class that loads up all the beans my application uses:</p>\n<pre><code>@Configuration\n@RequiredArgsConstructor\npublic class ApplicationConfiguration {\n\n    private final UserService userService;\n\n    @Bean\n    public UserDetailsService userDetailsService() {\n        return username -&gt; userService.findByEmailAddress(username);\n    }\n\n    @Bean\n    public PasswordEncoder passwordEncoder() {\n        return new BCryptPasswordEncoder();\n\n    }\n\n    @Bean\n    public AuthenticationProvider authenticationProvider() {\n        DaoAuthenticationProvider daoAuthenticationProvider = new DaoAuthenticationProvider();\n        daoAuthenticationProvider.setUserDetailsService(userDetailsService());\n        daoAuthenticationProvider.setPasswordEncoder(passwordEncoder());\n        return daoAuthenticationProvider;\n    }\n\n    @Bean\n    public AuthenticationManager authenticationManager() {\n        ProviderManager providerManager = new ProviderManager(authenticationProvider());\n        return providerManager;\n    }\n}\n</code></pre>\n<p>This is my AuthenticationFilter class:</p>\n<pre><code>@Component\n@RequiredArgsConstructor\npublic class AuthenticationFilter extends OncePerRequestFilter {\n    private final JwtService jwtService;\n\n    private final UserDetailsService userDetailsService;\n\n    @Override\n    protected void doFilterInternal(\n            HttpServletRequest request,\n            HttpServletResponse response,\n            FilterChain filterChain) throws ServletException, IOException {\n        final String authorization = request.getHeader(&quot;Authorization&quot;);\n        final String token;\n        if (authorization == null || !authorization.startsWith(&quot;Bearer &quot;)) {\n            filterChain.doFilter(request, response);\n            return;\n        }\n        // JWT tokens start with &quot;Bearer &quot;. We have to remove that part to get the actual token.\n        token = authorization.substring(&quot;Bearer &quot;.length());\n        String username = jwtService.extractSubject(token);\n        if (username != null &amp;&amp; SecurityContextHolder.getContext().getAuthentication() == null) {\n            UserDetails userDetails = this.userDetailsService.loadUserByUsername(username);\n            if(jwtService.isTokenValid(token, userDetails)) {\n                // This is the recommended way for setting the context by Spring Security.\n                SecurityContext context = SecurityContextHolder.createEmptyContext();\n                context.setAuthentication(new UsernamePasswordAuthenticationToken(\n                        userDetails, null, userDetails.getAuthorities()\n                ));\n                SecurityContextHolder.setContext(context);\n            }\n        }\n        filterChain.doFilter(request, response);\n    }\n}\n</code></pre>\n<p>And lastly this is my JwtService (The privateKey will change don't worry):</p>\n<pre><code>@Service\npublic class JwtService {\n    // TODO move this to application config level.\n    private final String privateKey = &quot;SDGJKHJK35346KHJ4/sdfjkhsdka98dsgd357qjahf2897452381!&quot;;\n    public String generateToken(String username) {\n        return Jwts\n                .builder()\n                .setSubject(username)\n                .setIssuedAt(new Date(System.currentTimeMillis()))\n                .setExpiration(new Date(System.currentTimeMillis() + 86400000))\n                .signWith(getSignInKey(), SignatureAlgorithm.HS256)\n                .compact();\n    }\n\n    private Claims extractClaims(String token) {\n        return Jwts.parserBuilder()\n                .setSigningKey(getSignInKey())\n                .build()\n                .parseClaimsJws(token)\n                .getBody();\n    }\n\n    public String extractSubject(String token) {\n        return extractClaims(token).getSubject();\n    }\n\n    private Date extractExpiration(String token) {\n        return extractClaims(token).getExpiration();\n    }\n\n    private Key getSignInKey() {\n        byte[] keyBytes = Decoders.BASE64.decode(privateKey);\n        return Keys.hmacShaKeyFor(keyBytes);\n    }\n\n    private boolean isTokenExpired(String token) {\n        return extractExpiration(token).before(new Date());\n    }\n\n    public boolean isTokenValid(String token, UserDetails userDetails) {\n        return extractSubject(token).equals(userDetails.getUsername()) &amp;&amp; !isTokenExpired(token);\n    }\n}\n</code></pre>\n<p>I believe that by including the annotations that my classes have, Spring Boot should load them and there should be not problems, at least there are no problems when I run the application, it's only when I try to run the tests for the controllers that this happens. Here is a part of one of them if you want to look at it, I'm using MockMvc to call the endpoints etc:</p>\n<pre><code>@ExtendWith(MockitoExtension.class)\n@WebMvcTest(UserControllerTest.class)\nclass UserControllerTest {\n    // TODO Make a constant for the API url to avoid writing it over and over.\n    @Mock\n    private UserRepository userRepository;\n\n    private UserService userService;\n\n    private UserController userController;\n\n    @Autowired\n    CustomExceptionHandler customExceptionHandler;\n\n    @Autowired\n    private MockMvc mockMvc;\n\n    @Autowired\n    private ObjectMapper objectMapper;\n\n    private long id;\n\n    private Optional&lt;User&gt; optionalUser;\n\n    private String displayName;\n\n    private String email;\n\n    private String password;\n\n    @BeforeEach\n    void setUp() {\n        // Stub user service with mock user repository\n        userService = new UserService(userRepository);\n\n        // Start controller with user service that has the mock user repository\n        userController = new UserController(userService);\n\n        // Builds a MockMvcBuilder and passes it the CustomExceptionHandler\n        // so that it can use it, otherwise it will use the default one Spring Boot\n        // comes with.\n        mockMvc = MockMvcBuilders.standaloneSetup(userController)\n                .setControllerAdvice(customExceptionHandler)\n                .build();\n\n        id = 1L;\n        displayName = &quot;Isolated&quot;;\n        email = &quot;email@gmail.com&quot;;\n        password = &quot;pw12345&quot;;\n        User user = new User();\n        user.setId(id);\n        user.setDisplayName(displayName);\n        user.setEmailAddress(email);\n        user.setPassword(password);\n        optionalUser = Optional.of(user);\n    }\n\n    @Test\n    public void throwsWhenUserDoesNotExistInDatabaseWithGivenId() throws Exception {\n        // Arrange\n        when(userRepository.findById(anyLong())).thenReturn(Optional.empty());\n\n        // Act\n        MockHttpServletResponse response = mockMvc.perform(\n                get(String.format(&quot;/api/v1/user/%d&quot;, id)).accept(MediaType.APPLICATION_JSON))\n                .andReturn().getResponse();\n\n        ApiException apiException = objectMapper.readValue(response.getContentAsString(), ApiException.class);\n\n        // Assert\n        assertEquals(HttpStatus.NOT_FOUND.value(), response.getStatus());\n        assertEquals(String.format(&quot;User with id: %d was not found.&quot;, id), apiException.getMessage());\n    }\n\n    @Test\n    public void throwsWhenGivenNegativeValueToGetById() throws Exception {\n        // Act\n        id = -1L;\n        MockHttpServletResponse response = mockMvc.perform(\n                get(String.format(&quot;/api/v1/user/%s&quot;, id)).accept(MediaType.APPLICATION_JSON))\n                .andReturn().getResponse();\n        ApiException apiException = objectMapper.readValue(response.getContentAsString(), ApiException.class);\n\n        // Assert\n        assertEquals(HttpStatus.BAD_REQUEST.value(), response.getStatus());\n        assertEquals(&quot;Id cannot be negative.&quot;, apiException.getMessage());\n    }\n</code></pre>\n<p>I tried setting up different profiles so that I could deactivate spring security during the tests but that didn't seem to work.\nI also tried using the annotation @WithMockUser(username = &quot;user1&quot;, password = &quot;pwd&quot;, roles = &quot;USER&quot;) but that's when I realized the tests weren't even running.</p>\n"},{"tags":["java","javafx","netbeans","ant","azul-zulu"],"comments":[{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":2,"creation_date":1689286893,"post_id":76683529,"comment_id":135196127,"body_markdown":"The OpenJFX instructions refer to [OpenJDK](https://openjfx.io/openjfx-docs/#install-java), not Zulu JDK FX, which a different distribution.  Though Zulu JDK FX can be used, and is a good option, OpenJFX instructions don&#39;t document how to do that.  Because JDK FX includes JavaFX, you don&#39;t need to include JavaFX modules in your distribution, just have the client install JDK FX and they will be able to use your application without having to specify any JavaFX modules.  You still need to make other 3rd party dependencies available in your distribution if you have them.","body":"The OpenJFX instructions refer to <a href=\"https://openjfx.io/openjfx-docs/#install-java\" rel=\"nofollow noreferrer\">OpenJDK</a>, not Zulu JDK FX, which a different distribution.  Though Zulu JDK FX can be used, and is a good option, OpenJFX instructions don&#39;t document how to do that.  Because JDK FX includes JavaFX, you don&#39;t need to include JavaFX modules in your distribution, just have the client install JDK FX and they will be able to use your application without having to specify any JavaFX modules.  You still need to make other 3rd party dependencies available in your distribution if you have them."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":2,"creation_date":1689287238,"post_id":76683529,"comment_id":135196166,"body_markdown":"*&quot;Is there something else I&#39;m missing here?&quot;* -&gt; yes.  As noted by the error message you see `JavaFX runtime components are missing, and are required to run this application`.  The runtime components are the native code (e.g. native `.dll` or `.so` files) that JavaFX requires to run and differ depending on the target architecture and system.","body":"<i>&quot;Is there something else I&#39;m missing here?&quot;</i> -&gt; yes.  As noted by the error message you see <code>JavaFX runtime components are missing, and are required to run this application</code>.  The runtime components are the native code (e.g. native <code>.dll</code> or <code>.so</code> files) that JavaFX requires to run and differ depending on the target architecture and system."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":1,"creation_date":1689287453,"post_id":76683529,"comment_id":135196185,"body_markdown":"Runtime components are included in classified Maven artifacts (jars) in the Maven central library.  Runtime components are also included in `jmod` files downloadable from Gluon.  The JavaFX SDK also includes runtime components but they are separate native library files like `.dll` or `.so` files, and are not in the jar files bundled with the SDK, so if you just include the jar files bundled with the SDK with your distribution without some way to access the correct native code for the target platform, it will be broken because the &quot;JavaFX runtime components are missing&quot;.","body":"Runtime components are included in classified Maven artifacts (jars) in the Maven central library.  Runtime components are also included in <code>jmod</code> files downloadable from Gluon.  The JavaFX SDK also includes runtime components but they are separate native library files like <code>.dll</code> or <code>.so</code> files, and are not in the jar files bundled with the SDK, so if you just include the jar files bundled with the SDK with your distribution without some way to access the correct native code for the target platform, it will be broken because the &quot;JavaFX runtime components are missing&quot;."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":1,"creation_date":1689287583,"post_id":76683529,"comment_id":135196202,"body_markdown":"Exactly which instructions sections from openjfx.io are you following? It should be something in the [&quot;Runtime Images&quot;](https://openjfx.io/openjfx-docs/#modular) section if you want to run something outside of the IDE.  Because JDK FX includes JavaFX, its function and usage are similar to that in the &quot;Custom JDK+JavaFX image&quot; section of the OpenJFX documentation, only you don&#39;t need to actually build the custom JRE, because Zulu JRE FX can supply a prebuilt one for you to download.","body":"Exactly which instructions sections from openjfx.io are you following? It should be something in the <a href=\"https://openjfx.io/openjfx-docs/#modular\" rel=\"nofollow noreferrer\">&quot;Runtime Images&quot;</a> section if you want to run something outside of the IDE.  Because JDK FX includes JavaFX, its function and usage are similar to that in the &quot;Custom JDK+JavaFX image&quot; section of the OpenJFX documentation, only you don&#39;t need to actually build the custom JRE, because Zulu JRE FX can supply a prebuilt one for you to download."}],"owner":{"account_id":28382762,"reputation":73,"user_id":21709774,"display_name":"Choosechee"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":148,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689285998,"creation_date":1689285998,"question_id":76683529,"body_markdown":"Whenever I try to run my JavaFX jar program in the command line, I get the error:\r\n`Error: JavaFX runtime components are missing, and are required to run this application`\r\nI used JavaFX 17, the Zulu JDK FX 17, and NetBeans 17 to build the project. I used the instructions on openjfx.org to create the project using Ant. I tried using Maven first, and followed the instructions, but I couldn&#39;t get it to work, so please don&#39;t just say &quot;use Maven.&quot; In the lib folder, it seems to have everything it needs to run. Below is a picture:\r\n[![lib directory that contains javafx.base.jar, javafx.controls.jar, javafx.fxml.jar, javafx.graphics.jar, javafx.media.jar, javafx.swing.jar, javafx.web.jar, javafx-swt.jar, and jrt-fs.jar.](https://i.stack.imgur.com/aGyB2.png)](https://i.stack.imgur.com/aGyB2.png)\r\n\r\nI made sure that the JAVA_HOME environment variable is set to\r\nC:\\Program Files\\Java\\zulu17.40.19-ca-fx-jdk17.0.6-win_x64\r\nwhich is where I put the Zulu JDK. Is there something else I&#39;m missing here? Is there another environment variable I need to set? Or is there a library I&#39;m missing?","title":"&quot;Error: JavaFX runtime components are missing, and are required to run this application&quot; when trying to run a JavaFX jar program built by NetBeans","body":"<p>Whenever I try to run my JavaFX jar program in the command line, I get the error:\n<code>Error: JavaFX runtime components are missing, and are required to run this application</code>\nI used JavaFX 17, the Zulu JDK FX 17, and NetBeans 17 to build the project. I used the instructions on openjfx.org to create the project using Ant. I tried using Maven first, and followed the instructions, but I couldn't get it to work, so please don't just say &quot;use Maven.&quot; In the lib folder, it seems to have everything it needs to run. Below is a picture:\n<a href=\"https://i.stack.imgur.com/aGyB2.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/aGyB2.png\" alt=\"lib directory that contains javafx.base.jar, javafx.controls.jar, javafx.fxml.jar, javafx.graphics.jar, javafx.media.jar, javafx.swing.jar, javafx.web.jar, javafx-swt.jar, and jrt-fs.jar.\" /></a></p>\n<p>I made sure that the JAVA_HOME environment variable is set to\nC:\\Program Files\\Java\\zulu17.40.19-ca-fx-jdk17.0.6-win_x64\nwhich is where I put the Zulu JDK. Is there something else I'm missing here? Is there another environment variable I need to set? Or is there a library I'm missing?</p>\n"},{"tags":["java","mockito","integration-testing"],"answers":[{"tags":[],"owner":{"account_id":216120,"reputation":49213,"user_id":471160,"accept_rate":90,"display_name":"marcinj"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1689285844,"creation_date":1689271584,"answer_id":76682150,"question_id":76680342,"body_markdown":"You can use `thenAnswer` to acomplish it:\r\n\r\n        try (MockedStatic&lt;MyClass&gt; mock = Mockito.mockStatic(MyClass.class)) {\r\n            mock.when(() -&gt; MyClass.staticMethod(Mockito.any(TestObject.class))).thenAnswer(\r\n                    (Answer&lt;String&gt;) invocation -&gt; {\r\n                        TestObject arg = invocation.getArgument(0);\r\n                        return arg.test();\r\n                    }\r\n            );\r\n\r\n            var testObj = new TestObject(&quot;someTest&quot;);\r\n            var res = MyClass.staticMethod(testObj);\r\n            System.out.println(res);\r\n        }\r\n\r\nits documented here: https://javadoc.io/doc/org.mockito/mockito-core/latest/org/mockito/Mockito.html#answer_stubs","title":"Mockito. How to mock a static method with args for integration tests","body":"<p>You can use <code>thenAnswer</code> to acomplish it:</p>\n<pre><code>    try (MockedStatic&lt;MyClass&gt; mock = Mockito.mockStatic(MyClass.class)) {\n        mock.when(() -&gt; MyClass.staticMethod(Mockito.any(TestObject.class))).thenAnswer(\n                (Answer&lt;String&gt;) invocation -&gt; {\n                    TestObject arg = invocation.getArgument(0);\n                    return arg.test();\n                }\n        );\n\n        var testObj = new TestObject(&quot;someTest&quot;);\n        var res = MyClass.staticMethod(testObj);\n        System.out.println(res);\n    }\n</code></pre>\n<p>its documented here: <a href=\"https://javadoc.io/doc/org.mockito/mockito-core/latest/org/mockito/Mockito.html#answer_stubs\" rel=\"nofollow noreferrer\">https://javadoc.io/doc/org.mockito/mockito-core/latest/org/mockito/Mockito.html#answer_stubs</a></p>\n"}],"owner":{"account_id":15599124,"reputation":387,"user_id":11344521,"display_name":"Darkin Rall"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":295,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":76682150,"answer_count":1,"score":2,"last_activity_date":1689285844,"creation_date":1689257496,"question_id":76680342,"body_markdown":"I use mockito-core 5.4.0 and try to mock a static method with arguments, but it doesn&#39;t work.\r\n\r\n    public record TestObject(\r\n       String test\r\n    ) {}\r\n\r\n    public class MyClass {\r\n       public static String staticMethod(TestObject obj) {\r\n         // do some logic\r\n       }\r\n    }\r\n\r\n    ======================================\r\n    var mock = Mockito.mockStatic(MyClass.class)\r\n    mock.when(() -&gt; MyClass.staticMethod(any()).thenReturn(&quot;&quot;)\r\n\r\nAnd I&#39;d want to return from mocked static method value of TestObject::test.\r\ne.g. somewhere in deep of my code:\r\n\r\n    var testObj = new TestObject(&quot;someTest&quot;);\r\n    var res = MyClass.staticMethod(testObj);\r\n    sout(res) // here I&#39;d want to see: someTest \r\n\r\nHow can I implement it?\r\n","title":"Mockito. How to mock a static method with args for integration tests","body":"<p>I use mockito-core 5.4.0 and try to mock a static method with arguments, but it doesn't work.</p>\n<pre><code>public record TestObject(\n   String test\n) {}\n\npublic class MyClass {\n   public static String staticMethod(TestObject obj) {\n     // do some logic\n   }\n}\n\n======================================\nvar mock = Mockito.mockStatic(MyClass.class)\nmock.when(() -&gt; MyClass.staticMethod(any()).thenReturn(&quot;&quot;)\n</code></pre>\n<p>And I'd want to return from mocked static method value of TestObject::test.\ne.g. somewhere in deep of my code:</p>\n<pre><code>var testObj = new TestObject(&quot;someTest&quot;);\nvar res = MyClass.staticMethod(testObj);\nsout(res) // here I'd want to see: someTest \n</code></pre>\n<p>How can I implement it?</p>\n"},{"tags":["java","spring-boot","interception","sqslistener"],"owner":{"account_id":29013159,"reputation":1,"user_id":22224205,"display_name":"Ran Spider"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689285053,"creation_date":1689285053,"question_id":76683446,"body_markdown":"I&#39;m trying to do some basic actions once I&#39;m getting a message from the queue - for example - setting the thread name.\r\nThis set of methods will be the same for all of the queue listeners. it is similar to the `preHandle()` interceptor concept for REST API.\r\n\r\nconceptually , I want to do something like this:\r\n\r\n```\r\n@Component\r\npublic class GeneralMethodsQueueListenerHandlerInterceptor implements HandlerInterceptor {\r\n\r\n   @Override\r\n   public boolean SqsListenerInterceptorPreHandle(QueueParam paramsStuff) {\r\n      Thread.currentThread().setName(&quot;sqs_&quot; + RandomStringUtils.randomAlphanumeric(4));\r\n      return true;\r\n   }\r\n\r\n}\r\n```\r\n\r\n\r\nI&#39;ve tried to prevent creating my own custom SqsListener since the existing one is very straight forward and it fits our needs, except the code duplicatation for those common simple action.","title":"interceptor concept for SqsListener","body":"<p>I'm trying to do some basic actions once I'm getting a message from the queue - for example - setting the thread name.\nThis set of methods will be the same for all of the queue listeners. it is similar to the <code>preHandle()</code> interceptor concept for REST API.</p>\n<p>conceptually , I want to do something like this:</p>\n<pre><code>@Component\npublic class GeneralMethodsQueueListenerHandlerInterceptor implements HandlerInterceptor {\n\n   @Override\n   public boolean SqsListenerInterceptorPreHandle(QueueParam paramsStuff) {\n      Thread.currentThread().setName(&quot;sqs_&quot; + RandomStringUtils.randomAlphanumeric(4));\n      return true;\n   }\n\n}\n</code></pre>\n<p>I've tried to prevent creating my own custom SqsListener since the existing one is very straight forward and it fits our needs, except the code duplicatation for those common simple action.</p>\n"},{"tags":["java","hibernate","maven","jpa","jakarta-ee"],"answers":[{"tags":[],"owner":{"account_id":28969902,"reputation":61,"user_id":22190461,"display_name":"Guillem Chesa"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1689074268,"creation_date":1689073890,"answer_id":76661386,"question_id":76661033,"body_markdown":"The `hibernate-core-6.2.6.Final.jar` lib doesn&#39;t include that class. Here&#39;s [a link](https://central.sonatype.com/artifact/org.hibernate.common/hibernate-commons-annotations/6.0.6.Final/overview) to the Maven Central&#39;s repository for the Hibernate Commons Annotations lib which includes the class you&#39;re missing.\r\n\r\nI&#39;ve read that some releases might have incompatibility issues that will throw a similar exception than the one you had. In that case, I guess you can just use another version.\r\n\r\nHope this helps!\r\n\r\nEDIT: yesterday I documented [here](https://stackoverflow.com/questions/76653265/having-problems-setting-up-jakarta-ee-on-netbeans-using-glassfish-and-derby/76653460#76653460) some problems I had with GlassFish 7 and Jakarta EE 10. It&#39;s not directly related to this but you may experience them too.","title":"glassfish 7 + jakarta ee 10 + hibernate entity manager java.lang.NoClassDefFoundError: org/hibernate/annotations/common/reflection/ReflectionManager","body":"<p>The <code>hibernate-core-6.2.6.Final.jar</code> lib doesn't include that class. Here's <a href=\"https://central.sonatype.com/artifact/org.hibernate.common/hibernate-commons-annotations/6.0.6.Final/overview\" rel=\"nofollow noreferrer\">a link</a> to the Maven Central's repository for the Hibernate Commons Annotations lib which includes the class you're missing.</p>\n<p>I've read that some releases might have incompatibility issues that will throw a similar exception than the one you had. In that case, I guess you can just use another version.</p>\n<p>Hope this helps!</p>\n<p>EDIT: yesterday I documented <a href=\"https://stackoverflow.com/questions/76653265/having-problems-setting-up-jakarta-ee-on-netbeans-using-glassfish-and-derby/76653460#76653460\">here</a> some problems I had with GlassFish 7 and Jakarta EE 10. It's not directly related to this but you may experience them too.</p>\n"},{"tags":[],"owner":{"account_id":1656177,"reputation":73,"user_id":1525673,"display_name":"Hendrik"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1689283427,"creation_date":1689079311,"answer_id":76662120,"question_id":76661033,"body_markdown":"I have added now the following jars in the glassfish/domain/domain/lib folder to add the missing classes needed for hibernate:\r\n- hibernate-commons-annotations-6.0.6.Final.jar\r\n- jandex-3.1.2.jar\r\n- byte-buddy-1.12.9.jar\r\n- antlr4-runtime-4.10.1.jar\r\n\r\nWith that all missing classes are added but after the first successful using the entitymanager the next refresh of the page theres an endless loop loading.\r\n\r\nWhen i stop the server the following error message appears:\r\n```\r\n  Error allocating connection: [org.glassfish.resourcebase.resources.api.PoolInfo@f6def2b2[jndiName=test/jpa1, applicationName=null, moduleName=null]: No Pool Meta Data object associated with the pool : org.glassfish.resourcebase.resources.api.PoolInfo@f6def2b2[jndiName=test/jpa1, applicationName=null, moduleName=null]. Try redeploying the application.]]]\r\n\r\n  SQL Error: 0, SQLState: null]]\r\n```\r\n\r\nI found for sql error 0, sqlstate null a post https://stackoverflow.com/questions/37384010/sql-error-0-sqlstate-null\r\n\r\nThe problem was that the EntityManagerFactory was closed and the connection was lost. When i not close the factory the connection will be established as long as the app runs. Thats how i solved it:\r\n```\r\npackage jpa1;\r\n\r\nimport jakarta.persistence.EntityManager;\r\nimport jakarta.persistence.EntityManagerFactory;\r\nimport jakarta.persistence.Persistence;\r\nimport jakarta.servlet.ServletException;\r\nimport jakarta.servlet.annotation.WebServlet;\r\nimport jakarta.servlet.http.HttpServlet;\r\nimport jakarta.servlet.http.HttpServletRequest;\r\nimport jakarta.servlet.http.HttpServletResponse;\r\n\r\nimport java.io.IOException;\r\nimport java.util.List;\r\n\r\n@WebServlet(name = &quot;homeServlet&quot;, value = &quot;/start&quot;)\r\npublic class HomeServlet extends HttpServlet {\r\n\r\n    EntityManagerFactory entityManagerFactory = Persistence.createEntityManagerFactory(&quot;persistence-unit&quot;);\r\n\r\n    @Override\r\n    protected void doGet(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {\r\n\r\n        EntityManager entityManager = entityManagerFactory.createEntityManager();\r\n        entityManager.getTransaction().begin();\r\n\r\n        User user1 = new User(&quot;Max&quot;,&quot;Mustermann&quot;, User.Gender.MALE, 10, 50000, 1000);\r\n\r\n        entityManager.persist(user1);\r\n        entityManager.getTransaction().commit();\r\n\r\n        List&lt;User&gt; results = entityManager\r\n                .createQuery(&quot;Select a from User a&quot;, User.class)\r\n                .getResultList();\r\n\r\n\r\n        entityManager.close();\r\n\r\n        req.setAttribute(&quot;test&quot;, results);\r\n        req.getRequestDispatcher(&quot;start.jsp&quot;).forward(req, resp);\r\n    }\r\n}\r\n```\r\n\r\nEDIT: This only works when you always restart the server. If you redeploy it the endless loading loop continues. \r\n\r\nEDIT 2:\r\nAfter putting the EntityManagerFactory out of the servlet class into a seperate class and make it static theres no loop.\r\n\r\nGlobals class:\r\n```\r\npublic class Globals {\r\n\r\n    public static EntityManagerFactory entityManagerFactory = Persistence.createEntityManagerFactory(&quot;persistence-unit&quot;);\r\n\r\n}\r\n``` ","title":"glassfish 7 + jakarta ee 10 + hibernate entity manager java.lang.NoClassDefFoundError: org/hibernate/annotations/common/reflection/ReflectionManager","body":"<p>I have added now the following jars in the glassfish/domain/domain/lib folder to add the missing classes needed for hibernate:</p>\n<ul>\n<li>hibernate-commons-annotations-6.0.6.Final.jar</li>\n<li>jandex-3.1.2.jar</li>\n<li>byte-buddy-1.12.9.jar</li>\n<li>antlr4-runtime-4.10.1.jar</li>\n</ul>\n<p>With that all missing classes are added but after the first successful using the entitymanager the next refresh of the page theres an endless loop loading.</p>\n<p>When i stop the server the following error message appears:</p>\n<pre><code>  Error allocating connection: [org.glassfish.resourcebase.resources.api.PoolInfo@f6def2b2[jndiName=test/jpa1, applicationName=null, moduleName=null]: No Pool Meta Data object associated with the pool : org.glassfish.resourcebase.resources.api.PoolInfo@f6def2b2[jndiName=test/jpa1, applicationName=null, moduleName=null]. Try redeploying the application.]]]\n\n  SQL Error: 0, SQLState: null]]\n</code></pre>\n<p>I found for sql error 0, sqlstate null a post <a href=\"https://stackoverflow.com/questions/37384010/sql-error-0-sqlstate-null\">SQL Error: 0, SQLState: null</a></p>\n<p>The problem was that the EntityManagerFactory was closed and the connection was lost. When i not close the factory the connection will be established as long as the app runs. Thats how i solved it:</p>\n<pre><code>package jpa1;\n\nimport jakarta.persistence.EntityManager;\nimport jakarta.persistence.EntityManagerFactory;\nimport jakarta.persistence.Persistence;\nimport jakarta.servlet.ServletException;\nimport jakarta.servlet.annotation.WebServlet;\nimport jakarta.servlet.http.HttpServlet;\nimport jakarta.servlet.http.HttpServletRequest;\nimport jakarta.servlet.http.HttpServletResponse;\n\nimport java.io.IOException;\nimport java.util.List;\n\n@WebServlet(name = &quot;homeServlet&quot;, value = &quot;/start&quot;)\npublic class HomeServlet extends HttpServlet {\n\n    EntityManagerFactory entityManagerFactory = Persistence.createEntityManagerFactory(&quot;persistence-unit&quot;);\n\n    @Override\n    protected void doGet(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {\n\n        EntityManager entityManager = entityManagerFactory.createEntityManager();\n        entityManager.getTransaction().begin();\n\n        User user1 = new User(&quot;Max&quot;,&quot;Mustermann&quot;, User.Gender.MALE, 10, 50000, 1000);\n\n        entityManager.persist(user1);\n        entityManager.getTransaction().commit();\n\n        List&lt;User&gt; results = entityManager\n                .createQuery(&quot;Select a from User a&quot;, User.class)\n                .getResultList();\n\n\n        entityManager.close();\n\n        req.setAttribute(&quot;test&quot;, results);\n        req.getRequestDispatcher(&quot;start.jsp&quot;).forward(req, resp);\n    }\n}\n</code></pre>\n<p>EDIT: This only works when you always restart the server. If you redeploy it the endless loading loop continues.</p>\n<p>EDIT 2:\nAfter putting the EntityManagerFactory out of the servlet class into a seperate class and make it static theres no loop.</p>\n<p>Globals class:</p>\n<pre><code>public class Globals {\n\n    public static EntityManagerFactory entityManagerFactory = Persistence.createEntityManagerFactory(&quot;persistence-unit&quot;);\n\n}\n</code></pre>\n"}],"owner":{"account_id":1656177,"reputation":73,"user_id":1525673,"display_name":"Hendrik"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":231,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":76662120,"answer_count":2,"score":2,"last_activity_date":1689283427,"creation_date":1689071363,"question_id":76661033,"body_markdown":"I am trying to get hibernate working with glassfish 7 jdbc. I got the configuration of the pool right and ping is a success. I have put mysql-connector-j-8.0.33.jar and hibernate-core-6.2.6.Final.jar in glassfish/domain/domain1/lib. My persistence.xml looks like this:\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;\r\n&lt;persistence xmlns=&quot;https://jakarta.ee/xml/ns/persistence&quot;\r\n             xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n             xsi:schemaLocation=&quot;https://jakarta.ee/xml/ns/persistence https://jakarta.ee/xml/ns/persistence/persistence_3_0.xsd&quot;\r\n             version=&quot;3.0&quot;&gt;\r\n\r\n    &lt;persistence-unit name=&quot;persistence-unit&quot;&gt;\r\n        &lt;provider&gt;org.hibernate.jpa.HibernatePersistenceProvider&lt;/provider&gt;\r\n        &lt;jta-data-source&gt;jpa1&lt;/jta-data-source&gt;\r\n        &lt;class&gt;jpa1.User&lt;/class&gt;\r\n        &lt;exclude-unlisted-classes&gt;true&lt;/exclude-unlisted-classes&gt;\r\n        &lt;properties&gt;\r\n            &lt;property name=&quot;hibernate.dialect&quot; value=&quot;org.hibernate.dialect.MySQLDialect&quot;/&gt;\r\n            &lt;property name=&quot;jakarta.persistence.schema-generation.database.action&quot; value=&quot;drop-and-create&quot;/&gt;\r\n            &lt;property name=&quot;hibernate.transaction.jta.platform&quot; value=&quot;org.hibernate.service.jta.platform.internal.SunOneJtaPlatform&quot;/&gt;\r\n            &lt;property name=&quot;hibernate.hbm2ddl.auto&quot; value=&quot;update&quot;/&gt;\r\n        &lt;/properties&gt;\r\n    &lt;/persistence-unit&gt;\r\n    &lt;!--\r\n    &lt;persistence-unit name=&quot;persistence-unit&quot; transaction-type=&quot;RESOURCE_LOCAL&quot;&gt;\r\n        &lt;provider&gt;org.hibernate.jpa.HibernatePersistenceProvider&lt;/provider&gt;\r\n        &lt;properties&gt;\r\n            &lt;property name=&quot;jakarta.persistence.jdbc.driver&quot; value=&quot;com.mysql.jdbc.Driver&quot;/&gt;\r\n            &lt;property name=&quot;jakarta.persistence.jdbc.url&quot; value=&quot;jdbc:mysql://127.0.0.1:8889/learn_it_jpa?autoReconnect=true&amp;amp;useSSL=false&quot;/&gt;\r\n            &lt;property name=&quot;jakarta.persistence.jdbc.user&quot; value=&quot;root&quot;/&gt;\r\n            &lt;property name=&quot;jakarta.persistence.jdbc.password&quot; value=&quot;root&quot;/&gt;\r\n            &lt;property name=&quot;hibernate.hbm2ddl.auto&quot; value=&quot;update&quot;/&gt;\r\n            &lt;property name=&quot;jakarta.persistence.schema-generation.database.action&quot; value=&quot;none&quot;/&gt;\r\n            &lt;property name=&quot;hibernate.dialect&quot; value=&quot;org.hibernate.dialect.MySQLDialect&quot;/&gt;\r\n        &lt;/properties&gt;\r\n    &lt;/persistence-unit&gt;\r\n    --&gt;\r\n&lt;/persistence&gt;\r\n```\r\n\r\nWhen I am trying to use hibernate with resource_local there is no error. But when I try to use the jdbc persistence-unit im getting following error:\r\n```\r\njava.lang.NoClassDefFoundError: org/hibernate/annotations/common/reflection/ReflectionManager\r\n```\r\n\r\nI have added hibernate-core-6.2.6.Final.jar in the lib folder of glassfishs domain but i still getting noclassfounderror. With the resource_local persistence-unit i dont get that error. I understand that its possible to add further jar files in the lib folder to solve this problem but i might doing something wrong because the hibernate-core was working with the resource_local persistence-unit.\r\n\r\nMy pom file\r\n```\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n  xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\r\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n  &lt;groupId&gt;org.example&lt;/groupId&gt;\r\n  &lt;artifactId&gt;jpa1&lt;/artifactId&gt;\r\n  &lt;packaging&gt;war&lt;/packaging&gt;\r\n  &lt;properties&gt;\r\n    &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\r\n    &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\r\n  &lt;/properties&gt;\r\n  &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n  &lt;name&gt;jpa1 Maven Webapp&lt;/name&gt;\r\n  &lt;url&gt;http://maven.apache.org&lt;/url&gt;\r\n  &lt;dependencies&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;com.mysql&lt;/groupId&gt;\r\n      &lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\r\n      &lt;version&gt;8.0.33&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;jakarta.platform&lt;/groupId&gt;\r\n      &lt;artifactId&gt;jakarta.jakartaee-api&lt;/artifactId&gt;\r\n      &lt;version&gt;10.0.0&lt;/version&gt;\r\n      &lt;scope&gt;provided&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;jakarta.persistence&lt;/groupId&gt;\r\n      &lt;artifactId&gt;jakarta.persistence-api&lt;/artifactId&gt;\r\n      &lt;version&gt;3.1.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n      &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\r\n      &lt;version&gt;6.2.6.Final&lt;/version&gt;\r\n      &lt;scope&gt;provided&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;junit&lt;/groupId&gt;\r\n      &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n      &lt;version&gt;3.8.1&lt;/version&gt;\r\n      &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n  &lt;/dependencies&gt;\r\n  &lt;build&gt;\r\n    &lt;finalName&gt;jpa1&lt;/finalName&gt;\r\n  &lt;/build&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\nThe code where I am using jpa\r\n```\r\npackage jpa1;\r\n\r\nimport jakarta.persistence.EntityManager;\r\nimport jakarta.persistence.EntityManagerFactory;\r\nimport jakarta.persistence.Persistence;\r\nimport jakarta.servlet.ServletException;\r\nimport jakarta.servlet.annotation.WebServlet;\r\nimport jakarta.servlet.http.HttpServlet;\r\nimport jakarta.servlet.http.HttpServletRequest;\r\nimport jakarta.servlet.http.HttpServletResponse;\r\n\r\nimport java.io.IOException;\r\nimport java.util.List;\r\n\r\n@WebServlet(name = &quot;homeServlet&quot;, value = &quot;/start&quot;)\r\npublic class HomeServlet extends HttpServlet {\r\n\r\n    @Override\r\n    protected void doGet(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {\r\n\r\n        EntityManagerFactory entityManagerFactory = Persistence.createEntityManagerFactory(&quot;persistence-unit&quot;);\r\n        EntityManager entityManager = entityManagerFactory.createEntityManager();\r\n\r\n        entityManager.getTransaction().begin();\r\n\r\n        User user1 = new User(&quot;Max&quot;,&quot;Mustermann&quot;, User.Gender.MALE, 10, 50000, 1000);\r\n\r\n        entityManager.persist(user1);\r\n        entityManager.getTransaction().commit();\r\n\r\n        List&lt;User&gt; results = entityManager\r\n                .createQuery(&quot;Select a from User a&quot;, User.class)\r\n                .getResultList();\r\n\r\n\r\n        entityManager.close();\r\n        entityManagerFactory.close();\r\n\r\n        req.setAttribute(&quot;test&quot;, results);\r\n        req.getRequestDispatcher(&quot;start.jsp&quot;).forward(req, resp);\r\n    }\r\n}\r\n\r\n```\r\n\r\nThe entity:\r\n```\r\npackage jpa1;\r\n\r\nimport jakarta.persistence.*;\r\n\r\n@Entity\r\npublic class User {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    private int id;\r\n\r\n    @Column(name = &quot;first_name&quot;)\r\n    private String firstName;\r\n\r\n    @Column(name = &quot;last_name&quot;)\r\n    private String lastName;\r\n\r\n    @Column(name = &quot;gender&quot;)\r\n    @Enumerated(EnumType.ORDINAL)\r\n    private Gender gender;\r\n\r\n    @Column(name = &quot;age&quot;)\r\n    private int age;\r\n\r\n    @Column(name = &quot;salary&quot;)\r\n    private int salary;\r\n\r\n    @Column(name = &quot;test&quot;)\r\n    private int test;\r\n\r\n    public User() {\r\n\r\n    }\r\n\r\n    public enum Gender {\r\n        MALE,\r\n        FEMALE\r\n    }\r\n\r\n    public User(String firstName, String lastName, Gender gender, int age, int salary, int test) {\r\n        this.firstName = firstName;\r\n        this.lastName = lastName;\r\n        this.gender = gender;\r\n        this.age = age;\r\n        this.salary = salary;\r\n        this.test = test;\r\n    }\r\n\r\n    public String getFirstName() {\r\n        return firstName;\r\n    }\r\n\r\n    public String getLastName() {\r\n        return lastName;\r\n    }\r\n\r\n    public Gender getGender() {\r\n        return gender;\r\n    }\r\n\r\n    public String getGenderStr() {\r\n        switch (gender) {\r\n            case MALE -&gt; {\r\n                return &quot;M&#228;nnlich&quot;;\r\n            }\r\n            case FEMALE -&gt; {\r\n                return &quot;Weiblich&quot;;\r\n            }\r\n            default -&gt; {\r\n                return &quot;&quot;;\r\n            }\r\n        }\r\n    }\r\n\r\n    public int getAge() {\r\n        return age;\r\n    }\r\n}\r\n\r\n```\r\n\r\nWhat I am using:\r\n- glassfish 7.06\r\n- hibernate 6.2.6","title":"glassfish 7 + jakarta ee 10 + hibernate entity manager java.lang.NoClassDefFoundError: org/hibernate/annotations/common/reflection/ReflectionManager","body":"<p>I am trying to get hibernate working with glassfish 7 jdbc. I got the configuration of the pool right and ping is a success. I have put mysql-connector-j-8.0.33.jar and hibernate-core-6.2.6.Final.jar in glassfish/domain/domain1/lib. My persistence.xml looks like this:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;\n&lt;persistence xmlns=&quot;https://jakarta.ee/xml/ns/persistence&quot;\n             xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n             xsi:schemaLocation=&quot;https://jakarta.ee/xml/ns/persistence https://jakarta.ee/xml/ns/persistence/persistence_3_0.xsd&quot;\n             version=&quot;3.0&quot;&gt;\n\n    &lt;persistence-unit name=&quot;persistence-unit&quot;&gt;\n        &lt;provider&gt;org.hibernate.jpa.HibernatePersistenceProvider&lt;/provider&gt;\n        &lt;jta-data-source&gt;jpa1&lt;/jta-data-source&gt;\n        &lt;class&gt;jpa1.User&lt;/class&gt;\n        &lt;exclude-unlisted-classes&gt;true&lt;/exclude-unlisted-classes&gt;\n        &lt;properties&gt;\n            &lt;property name=&quot;hibernate.dialect&quot; value=&quot;org.hibernate.dialect.MySQLDialect&quot;/&gt;\n            &lt;property name=&quot;jakarta.persistence.schema-generation.database.action&quot; value=&quot;drop-and-create&quot;/&gt;\n            &lt;property name=&quot;hibernate.transaction.jta.platform&quot; value=&quot;org.hibernate.service.jta.platform.internal.SunOneJtaPlatform&quot;/&gt;\n            &lt;property name=&quot;hibernate.hbm2ddl.auto&quot; value=&quot;update&quot;/&gt;\n        &lt;/properties&gt;\n    &lt;/persistence-unit&gt;\n    &lt;!--\n    &lt;persistence-unit name=&quot;persistence-unit&quot; transaction-type=&quot;RESOURCE_LOCAL&quot;&gt;\n        &lt;provider&gt;org.hibernate.jpa.HibernatePersistenceProvider&lt;/provider&gt;\n        &lt;properties&gt;\n            &lt;property name=&quot;jakarta.persistence.jdbc.driver&quot; value=&quot;com.mysql.jdbc.Driver&quot;/&gt;\n            &lt;property name=&quot;jakarta.persistence.jdbc.url&quot; value=&quot;jdbc:mysql://127.0.0.1:8889/learn_it_jpa?autoReconnect=true&amp;amp;useSSL=false&quot;/&gt;\n            &lt;property name=&quot;jakarta.persistence.jdbc.user&quot; value=&quot;root&quot;/&gt;\n            &lt;property name=&quot;jakarta.persistence.jdbc.password&quot; value=&quot;root&quot;/&gt;\n            &lt;property name=&quot;hibernate.hbm2ddl.auto&quot; value=&quot;update&quot;/&gt;\n            &lt;property name=&quot;jakarta.persistence.schema-generation.database.action&quot; value=&quot;none&quot;/&gt;\n            &lt;property name=&quot;hibernate.dialect&quot; value=&quot;org.hibernate.dialect.MySQLDialect&quot;/&gt;\n        &lt;/properties&gt;\n    &lt;/persistence-unit&gt;\n    --&gt;\n&lt;/persistence&gt;\n</code></pre>\n<p>When I am trying to use hibernate with resource_local there is no error. But when I try to use the jdbc persistence-unit im getting following error:</p>\n<pre><code>java.lang.NoClassDefFoundError: org/hibernate/annotations/common/reflection/ReflectionManager\n</code></pre>\n<p>I have added hibernate-core-6.2.6.Final.jar in the lib folder of glassfishs domain but i still getting noclassfounderror. With the resource_local persistence-unit i dont get that error. I understand that its possible to add further jar files in the lib folder to solve this problem but i might doing something wrong because the hibernate-core was working with the resource_local persistence-unit.</p>\n<p>My pom file</p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n  xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n  &lt;groupId&gt;org.example&lt;/groupId&gt;\n  &lt;artifactId&gt;jpa1&lt;/artifactId&gt;\n  &lt;packaging&gt;war&lt;/packaging&gt;\n  &lt;properties&gt;\n    &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\n    &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\n  &lt;/properties&gt;\n  &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n  &lt;name&gt;jpa1 Maven Webapp&lt;/name&gt;\n  &lt;url&gt;http://maven.apache.org&lt;/url&gt;\n  &lt;dependencies&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;com.mysql&lt;/groupId&gt;\n      &lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\n      &lt;version&gt;8.0.33&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;jakarta.platform&lt;/groupId&gt;\n      &lt;artifactId&gt;jakarta.jakartaee-api&lt;/artifactId&gt;\n      &lt;version&gt;10.0.0&lt;/version&gt;\n      &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;jakarta.persistence&lt;/groupId&gt;\n      &lt;artifactId&gt;jakarta.persistence-api&lt;/artifactId&gt;\n      &lt;version&gt;3.1.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n      &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\n      &lt;version&gt;6.2.6.Final&lt;/version&gt;\n      &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;junit&lt;/groupId&gt;\n      &lt;artifactId&gt;junit&lt;/artifactId&gt;\n      &lt;version&gt;3.8.1&lt;/version&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n  &lt;build&gt;\n    &lt;finalName&gt;jpa1&lt;/finalName&gt;\n  &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p>The code where I am using jpa</p>\n<pre><code>package jpa1;\n\nimport jakarta.persistence.EntityManager;\nimport jakarta.persistence.EntityManagerFactory;\nimport jakarta.persistence.Persistence;\nimport jakarta.servlet.ServletException;\nimport jakarta.servlet.annotation.WebServlet;\nimport jakarta.servlet.http.HttpServlet;\nimport jakarta.servlet.http.HttpServletRequest;\nimport jakarta.servlet.http.HttpServletResponse;\n\nimport java.io.IOException;\nimport java.util.List;\n\n@WebServlet(name = &quot;homeServlet&quot;, value = &quot;/start&quot;)\npublic class HomeServlet extends HttpServlet {\n\n    @Override\n    protected void doGet(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {\n\n        EntityManagerFactory entityManagerFactory = Persistence.createEntityManagerFactory(&quot;persistence-unit&quot;);\n        EntityManager entityManager = entityManagerFactory.createEntityManager();\n\n        entityManager.getTransaction().begin();\n\n        User user1 = new User(&quot;Max&quot;,&quot;Mustermann&quot;, User.Gender.MALE, 10, 50000, 1000);\n\n        entityManager.persist(user1);\n        entityManager.getTransaction().commit();\n\n        List&lt;User&gt; results = entityManager\n                .createQuery(&quot;Select a from User a&quot;, User.class)\n                .getResultList();\n\n\n        entityManager.close();\n        entityManagerFactory.close();\n\n        req.setAttribute(&quot;test&quot;, results);\n        req.getRequestDispatcher(&quot;start.jsp&quot;).forward(req, resp);\n    }\n}\n\n</code></pre>\n<p>The entity:</p>\n<pre><code>package jpa1;\n\nimport jakarta.persistence.*;\n\n@Entity\npublic class User {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private int id;\n\n    @Column(name = &quot;first_name&quot;)\n    private String firstName;\n\n    @Column(name = &quot;last_name&quot;)\n    private String lastName;\n\n    @Column(name = &quot;gender&quot;)\n    @Enumerated(EnumType.ORDINAL)\n    private Gender gender;\n\n    @Column(name = &quot;age&quot;)\n    private int age;\n\n    @Column(name = &quot;salary&quot;)\n    private int salary;\n\n    @Column(name = &quot;test&quot;)\n    private int test;\n\n    public User() {\n\n    }\n\n    public enum Gender {\n        MALE,\n        FEMALE\n    }\n\n    public User(String firstName, String lastName, Gender gender, int age, int salary, int test) {\n        this.firstName = firstName;\n        this.lastName = lastName;\n        this.gender = gender;\n        this.age = age;\n        this.salary = salary;\n        this.test = test;\n    }\n\n    public String getFirstName() {\n        return firstName;\n    }\n\n    public String getLastName() {\n        return lastName;\n    }\n\n    public Gender getGender() {\n        return gender;\n    }\n\n    public String getGenderStr() {\n        switch (gender) {\n            case MALE -&gt; {\n                return &quot;Männlich&quot;;\n            }\n            case FEMALE -&gt; {\n                return &quot;Weiblich&quot;;\n            }\n            default -&gt; {\n                return &quot;&quot;;\n            }\n        }\n    }\n\n    public int getAge() {\n        return age;\n    }\n}\n\n</code></pre>\n<p>What I am using:</p>\n<ul>\n<li>glassfish 7.06</li>\n<li>hibernate 6.2.6</li>\n</ul>\n"},{"tags":["java","arraylist","pagination"],"comments":[{"owner":{"account_id":137131,"reputation":9069,"user_id":341117,"accept_rate":85,"display_name":"Ravindra Gullapalli"},"score":0,"creation_date":1335349237,"post_id":10313627,"comment_id":13275609,"body_markdown":"Check this. It may help you - http://stackoverflow.com/questions/8755619/java-arraylist-navigation","body":"Check this. It may help you - <a href=\"http://stackoverflow.com/questions/8755619/java-arraylist-navigation\" title=\"java arraylist navigation\">stackoverflow.com/questions/8755619/java-arraylist-navigatio&zwnj;&#8203;n</a>"}],"answers":[{"tags":[],"owner":{"account_id":1114067,"reputation":196781,"user_id":1103872,"accept_rate":82,"display_name":"Marko Topolnik"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1335349767,"creation_date":1335349767,"answer_id":10313837,"question_id":10313627,"body_markdown":"Change\r\n\r\n    if (moveCounter &gt; -1 &amp;&amp; moveCounter &lt;= archive.size())\r\n    {\r\n      renderValues(moveCounter-1, true);\r\n    }\r\n\r\nto\r\n\r\n    if (moveCounter &gt; 0 &amp;&amp; moveCounter &lt;= archive.size())\r\n    {\r\n      renderValues(moveCounter-1, true);\r\n    }\r\n","title":"Paginating an ArrayList","body":"<p>Change</p>\n\n<pre><code>if (moveCounter &gt; -1 &amp;&amp; moveCounter &lt;= archive.size())\n{\n  renderValues(moveCounter-1, true);\n}\n</code></pre>\n\n<p>to</p>\n\n<pre><code>if (moveCounter &gt; 0 &amp;&amp; moveCounter &lt;= archive.size())\n{\n  renderValues(moveCounter-1, true);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":120028,"reputation":35734,"user_id":312172,"accept_rate":86,"display_name":"user unknown"},"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1335351795,"creation_date":1335351795,"answer_id":10314323,"question_id":10313627,"body_markdown":"I would do it like this: \r\n\r\nI&#39;m not sure what renderValues does, and whether we have to substract 1 or maybe defaultStep from the upper bound of the moveCounter.\r\n\r\n    private void pageMove (int step)\r\n    {\r\n    \tmoveCounter = moveCounter + step;\r\n    \tif (moveCounter &lt; 0) moveCounter = 0;\r\n    \tif (moveCounter &gt; values.size ()) moveCounter = values.size ();\r\n    \trenderValues (currentIndex, false);\r\n    }\r\n    \r\n    private void pageNext ()\r\n    {\r\n    \tpageMove (defaultStep);\r\n    }\r\n    \r\n    private void pagePrevious ()\r\n    {\r\n    \tpageMove (-defaultStep);\r\n    }\r\n\r\n\r\nThe first 3 lines could be packed into two big ternary experssions like so: \r\n    \r\n    mc = ((mc + s) &lt; 0) ? 0 : ((mc + s) &gt; vs) ? vs : (mc + s); \r\n\r\nbut the 3 lines solution is better to follow. ","title":"Paginating an ArrayList","body":"<p>I would do it like this: </p>\n\n<p>I'm not sure what renderValues does, and whether we have to substract 1 or maybe defaultStep from the upper bound of the moveCounter.</p>\n\n<pre><code>private void pageMove (int step)\n{\n    moveCounter = moveCounter + step;\n    if (moveCounter &lt; 0) moveCounter = 0;\n    if (moveCounter &gt; values.size ()) moveCounter = values.size ();\n    renderValues (currentIndex, false);\n}\n\nprivate void pageNext ()\n{\n    pageMove (defaultStep);\n}\n\nprivate void pagePrevious ()\n{\n    pageMove (-defaultStep);\n}\n</code></pre>\n\n<p>The first 3 lines could be packed into two big ternary experssions like so: </p>\n\n<pre><code>mc = ((mc + s) &lt; 0) ? 0 : ((mc + s) &gt; vs) ? vs : (mc + s); \n</code></pre>\n\n<p>but the 3 lines solution is better to follow. </p>\n"},{"tags":[],"owner":{"account_id":1140294,"reputation":561,"user_id":1124409,"display_name":"Qussay Najjar"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1469969770,"creation_date":1469969770,"answer_id":38684194,"question_id":10313627,"body_markdown":"Based on &quot;pscuderi&quot; [solution here][1] \r\nI&#39;ve built a wrapping class that can be helpful for someone looking for this:\r\n\r\n    import java.util.ArrayList;\r\n    import java.util.Collections;\r\n    import java.util.List;\r\n\r\n    public class PaginatedList&lt;T&gt; {\r\n\r\n\tprivate static final int DEFAULT_PAGE_SIZE = 10;\r\n\t\r\n\tprivate List&lt;T&gt; list;\r\n\tprivate List&lt;List&lt;T&gt;&gt; listOfPages;\r\n\tprivate int pageSize = DEFAULT_PAGE_SIZE;\r\n\tprivate int currentPage = 0;\r\n\t\r\n\tpublic PaginatedList(List&lt;T&gt; list) {\r\n\t\tthis.list = list;\r\n\t\tinitPages();\r\n\t}\r\n\t\r\n\tpublic PaginatedList(List&lt;T&gt; list, int pageSize) {\r\n\t\tthis.list = list;\r\n\t\tthis.pageSize = pageSize;\r\n\t\tinitPages();\r\n\t}\r\n\t\r\n\tpublic List&lt;T&gt; getPage(int pageNumber) {\r\n\t\tif (listOfPages == null || \r\n\t\t\tpageNumber &gt; listOfPages.size() ||\r\n\t\t\tpageNumber &lt; 1) {\r\n\t\t\treturn Collections.emptyList();\r\n\t\t}\r\n\t\t\r\n\t\tcurrentPage = pageNumber;\r\n\t\tList&lt;T&gt; page = listOfPages.get(--pageNumber);\r\n\t\treturn page;\r\n\t}\r\n\t\r\n\tpublic int numberOfPages() {\r\n\t\tif (listOfPages == null) {\r\n\t\t\treturn 0;\r\n\t\t}\r\n\t\t\r\n\t\treturn listOfPages.size();\r\n\t}\r\n\t\r\n\tpublic List&lt;T&gt; nextPage() {\r\n\t\tList&lt;T&gt; page = getPage(++currentPage);\r\n\t    return page;\r\n\t}\r\n\t\r\n\tpublic List&lt;T&gt; previousPage() {\r\n\t\tList&lt;T&gt; page = getPage(--currentPage);\r\n\t    return page;\r\n\t}\r\n\t\r\n\tpublic void initPages() {\r\n\t    if (list == null || listOfPages != null) {\r\n\t    \treturn;\r\n\t    }\r\n\t    \r\n\t    if (pageSize &lt;= 0 || pageSize &gt; list.size()) {\r\n\t    \tpageSize = list.size();\r\n\t    }\r\n\t    \r\n\t    int numOfPages = (int) Math.ceil((double) list.size() / (double) pageSize);\r\n\t    listOfPages = new ArrayList&lt;List&lt;T&gt;&gt;(numOfPages);\r\n\t    for (int pageNum = 0; pageNum &lt; numOfPages;) {\r\n\t    \tint from = pageNum * pageSize;\r\n\t    \tint to = Math.min(++pageNum * pageSize, list.size());\r\n\t    \tlistOfPages.add(list.subList(from, to));\r\n\t    }\r\n\t}\r\n\t\r\n\tpublic static void main(String[] args) {\r\n\t\tList&lt;Integer&gt; list = new ArrayList&lt;Integer&gt;();\r\n\t\tfor (int i = 1; i &lt;= 62; i++) {\r\n\t\t\tlist.add(i);\r\n\t\t}\r\n\t\t\r\n\t\tPaginatedList&lt;Integer&gt; paginatedList = new PaginatedList&lt;Integer&gt;(list);\r\n\t\twhile (true) {\r\n\t\t\tList&lt;Integer&gt; page = paginatedList.nextPage();\r\n\t\t\tif (page == null || page.isEmpty()) {\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tfor (Integer value : page) {\r\n\t\t\t\tSystem.out.println(value);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tSystem.out.println(&quot;------------&quot;);\r\n\t\t}\r\n\t}\r\n\t\r\n    }\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/22947052/1124409","title":"Paginating an ArrayList","body":"<p>Based on \"pscuderi\" <a href=\"https://stackoverflow.com/a/22947052/1124409\">solution here</a> \nI've built a wrapping class that can be helpful for someone looking for this:</p>\n\n<pre><code>import java.util.ArrayList;\nimport java.util.Collections;\nimport java.util.List;\n\npublic class PaginatedList&lt;T&gt; {\n\nprivate static final int DEFAULT_PAGE_SIZE = 10;\n\nprivate List&lt;T&gt; list;\nprivate List&lt;List&lt;T&gt;&gt; listOfPages;\nprivate int pageSize = DEFAULT_PAGE_SIZE;\nprivate int currentPage = 0;\n\npublic PaginatedList(List&lt;T&gt; list) {\n    this.list = list;\n    initPages();\n}\n\npublic PaginatedList(List&lt;T&gt; list, int pageSize) {\n    this.list = list;\n    this.pageSize = pageSize;\n    initPages();\n}\n\npublic List&lt;T&gt; getPage(int pageNumber) {\n    if (listOfPages == null || \n        pageNumber &gt; listOfPages.size() ||\n        pageNumber &lt; 1) {\n        return Collections.emptyList();\n    }\n\n    currentPage = pageNumber;\n    List&lt;T&gt; page = listOfPages.get(--pageNumber);\n    return page;\n}\n\npublic int numberOfPages() {\n    if (listOfPages == null) {\n        return 0;\n    }\n\n    return listOfPages.size();\n}\n\npublic List&lt;T&gt; nextPage() {\n    List&lt;T&gt; page = getPage(++currentPage);\n    return page;\n}\n\npublic List&lt;T&gt; previousPage() {\n    List&lt;T&gt; page = getPage(--currentPage);\n    return page;\n}\n\npublic void initPages() {\n    if (list == null || listOfPages != null) {\n        return;\n    }\n\n    if (pageSize &lt;= 0 || pageSize &gt; list.size()) {\n        pageSize = list.size();\n    }\n\n    int numOfPages = (int) Math.ceil((double) list.size() / (double) pageSize);\n    listOfPages = new ArrayList&lt;List&lt;T&gt;&gt;(numOfPages);\n    for (int pageNum = 0; pageNum &lt; numOfPages;) {\n        int from = pageNum * pageSize;\n        int to = Math.min(++pageNum * pageSize, list.size());\n        listOfPages.add(list.subList(from, to));\n    }\n}\n\npublic static void main(String[] args) {\n    List&lt;Integer&gt; list = new ArrayList&lt;Integer&gt;();\n    for (int i = 1; i &lt;= 62; i++) {\n        list.add(i);\n    }\n\n    PaginatedList&lt;Integer&gt; paginatedList = new PaginatedList&lt;Integer&gt;(list);\n    while (true) {\n        List&lt;Integer&gt; page = paginatedList.nextPage();\n        if (page == null || page.isEmpty()) {\n            break;\n        }\n\n        for (Integer value : page) {\n            System.out.println(value);\n        }\n\n        System.out.println(\"------------\");\n    }\n}\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4277590,"reputation":455,"user_id":3497854,"accept_rate":45,"display_name":"NitishDeshpande"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1629281849,"creation_date":1629281849,"answer_id":68830522,"question_id":10313627,"body_markdown":"Here is a simple java function for pagination. Note that the `page` starts from 0 (first page)\r\n\r\n    public List&lt;Object&gt; pagedResponse(List&lt;Object&gt; allItems, int page, int limit){\r\n        int totalItems = allItems.size();\r\n        int fromIndex = page*limit;\r\n        int toIndex = fromIndex+limit;\r\n        if(fromIndex &lt;= totalItems) {\r\n            if(toIndex &gt; totalItems){\r\n                toIndex = totalItems;\r\n            }\r\n            return allItems.subList(fromIndex, toIndex);\r\n        }else {\r\n            return Collections.emptyList();\r\n        }\r\n    }","title":"Paginating an ArrayList","body":"<p>Here is a simple java function for pagination. Note that the <code>page</code> starts from 0 (first page)</p>\n<pre><code>public List&lt;Object&gt; pagedResponse(List&lt;Object&gt; allItems, int page, int limit){\n    int totalItems = allItems.size();\n    int fromIndex = page*limit;\n    int toIndex = fromIndex+limit;\n    if(fromIndex &lt;= totalItems) {\n        if(toIndex &gt; totalItems){\n            toIndex = totalItems;\n        }\n        return allItems.subList(fromIndex, toIndex);\n    }else {\n        return Collections.emptyList();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1878619,"reputation":3619,"user_id":1699268,"accept_rate":83,"display_name":"MayurB"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689283401,"creation_date":1689283401,"answer_id":76683321,"question_id":10313627,"body_markdown":"    List&lt;List&lt;T&gt;&gt; partition = Lists.partition(list, pageSize);\r\n\r\nUse the index as the page number to fetch page.","title":"Paginating an ArrayList","body":"<pre><code>List&lt;List&lt;T&gt;&gt; partition = Lists.partition(list, pageSize);\n</code></pre>\n<p>Use the index as the page number to fetch page.</p>\n"}],"owner":{"account_id":136706,"reputation":12442,"user_id":340390,"accept_rate":81,"display_name":"Bitmap"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12775,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":10314323,"answer_count":5,"score":1,"last_activity_date":1689283401,"creation_date":1335348862,"question_id":10313627,"body_markdown":"I am trying to create a simple pagination routine for values held in an `ArrayList`. Basically what I want to do is render the first five elements in the `ArrayList` at first go. And then when users click on `Next (increment by another 5)` and `Previous (decrease by 5)`.\r\n\r\nMy logic looks like this:\r\n\r\n    class foo\r\n    {\r\n       private static final int defaultStep = 5;\r\n       private int moveCounter;\r\n       private List&lt;String&gt; values;\r\n       \r\n       public foo()\r\n       {\r\n         values = new ArrayList&lt;String&gt;();\r\n         values.add(&quot;Fiber Channel&quot;);\r\n         values.add(&quot;Copper Channel&quot;);\r\n         ...\r\n       }\r\n       \r\n      private void pageNext()\r\n      {\r\n       if (moveCounter &gt; -1 &amp;&amp; moveCounter &lt; values.size())\r\n       {\r\n        int currentIndex = (moveCounter + 1);\r\n        renderValues(currentIndex, false);\r\n       }\r\n      }\r\n    \r\n      private void pagePrevious()\r\n      {\r\n       if (moveCounter &gt; -1 &amp;&amp; moveCounter &lt;= values.size())\r\n       {\r\n        renderValues(moveCounter-1, true);\r\n       }\r\n      }\r\n     \r\n     private void renderValues(int startIndex, boolean isPreviousCall)\r\n     {\r\n      if (startIndex &gt; -1)\r\n      {\r\n       StringBuilder html = new StringBuilder();\r\n       List&lt;String&gt; valuesToRender = new ArrayList&lt;String&gt;();\r\n       int checkSteps = 1;\r\n       while (startIndex &lt; values.size())\r\n       {\r\n         valuesToRender.add(values.get(startIndex));\r\n         if (checkSteps == defaultStep) break;\r\n         startIndex++;\r\n         checkSteps++;\r\n       }\r\n       moveCounter = startIndex;\r\n        \r\n       //TODO: Build html String\r\n       ...\r\n       }\r\n     }\r\n    }\r\n\r\nI have an issue with `pagePrevious` call, can you guys help me build the `valuesToRender` **5-steps** up `values array` before adding the value to render to the `valuesToRender` array.\r\n\r\nI tried doing something like this also:\r\n\r\n      for (int start = startIndex, end = values.size() - 1; start &lt; end; start++, end--)\r\n      {\r\n        if (isPreviousCall) valuesToRender.add(values.get(end));\r\n        else valuesToRender.add(values.get(start));\r\n\r\n        if (checkSteps == defaultStep) break;\r\n        checkSteps++;\r\n      }\r\n\r\nBut this doesn&#39;t seems to work neither. Can you guys spot and help me fix this issue.\r\nThanks Guys.","title":"Paginating an ArrayList","body":"<p>I am trying to create a simple pagination routine for values held in an <code>ArrayList</code>. Basically what I want to do is render the first five elements in the <code>ArrayList</code> at first go. And then when users click on <code>Next (increment by another 5)</code> and <code>Previous (decrease by 5)</code>.</p>\n\n<p>My logic looks like this:</p>\n\n<pre><code>class foo\n{\n   private static final int defaultStep = 5;\n   private int moveCounter;\n   private List&lt;String&gt; values;\n\n   public foo()\n   {\n     values = new ArrayList&lt;String&gt;();\n     values.add(\"Fiber Channel\");\n     values.add(\"Copper Channel\");\n     ...\n   }\n\n  private void pageNext()\n  {\n   if (moveCounter &gt; -1 &amp;&amp; moveCounter &lt; values.size())\n   {\n    int currentIndex = (moveCounter + 1);\n    renderValues(currentIndex, false);\n   }\n  }\n\n  private void pagePrevious()\n  {\n   if (moveCounter &gt; -1 &amp;&amp; moveCounter &lt;= values.size())\n   {\n    renderValues(moveCounter-1, true);\n   }\n  }\n\n private void renderValues(int startIndex, boolean isPreviousCall)\n {\n  if (startIndex &gt; -1)\n  {\n   StringBuilder html = new StringBuilder();\n   List&lt;String&gt; valuesToRender = new ArrayList&lt;String&gt;();\n   int checkSteps = 1;\n   while (startIndex &lt; values.size())\n   {\n     valuesToRender.add(values.get(startIndex));\n     if (checkSteps == defaultStep) break;\n     startIndex++;\n     checkSteps++;\n   }\n   moveCounter = startIndex;\n\n   //TODO: Build html String\n   ...\n   }\n }\n}\n</code></pre>\n\n<p>I have an issue with <code>pagePrevious</code> call, can you guys help me build the <code>valuesToRender</code> <strong>5-steps</strong> up <code>values array</code> before adding the value to render to the <code>valuesToRender</code> array.</p>\n\n<p>I tried doing something like this also:</p>\n\n<pre><code>  for (int start = startIndex, end = values.size() - 1; start &lt; end; start++, end--)\n  {\n    if (isPreviousCall) valuesToRender.add(values.get(end));\n    else valuesToRender.add(values.get(start));\n\n    if (checkSteps == defaultStep) break;\n    checkSteps++;\n  }\n</code></pre>\n\n<p>But this doesn't seems to work neither. Can you guys spot and help me fix this issue.\nThanks Guys.</p>\n"},{"tags":["java","android","google-signin","googlesigninaccount"],"owner":{"account_id":17216852,"reputation":23,"user_id":12464661,"display_name":"fiefie"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689282971,"creation_date":1689266735,"question_id":76681658,"body_markdown":"my app currently has a share button which upon click opens a bottom navigation that slides up from the bottom of the android os screen like this by [Jim Blackler][1]:\r\n[Share bottom slide-in menu](https://i.stack.imgur.com/FQKIp.png)\r\n\r\nmy current google sign-in pop window to choose an account:\r\n[my current google sign-in pop-up window](https://i.stack.imgur.com/81Gfa.png)\r\n\r\nwhat I want:\r\n[just like the share bottom slide-in google sign-in/account chooser](https://i.stack.imgur.com/ODW76.png)\r\n\r\n\r\n\r\nThe code I use to do the share, below, I have not successfully changed into a google sign-in prompt to match the share bottom nav slide-in prompt.\r\n\r\nthis is the Share code I use from this website [here](https://stackoverflow.com/questions/5646104/how-to-implement-the-share-function-of-a-android-app) answer by [Jim Blackler][1]:\r\n```\r\nfinal Intent intent = new Intent(Intent.ACTION_SEND);\r\n        intent.setType(&quot;text/plain&quot;);\r\n        intent.putExtra(Intent.EXTRA_TEXT, pageUrl);\r\n\r\n        try {\r\n          startActivity(Intent.createChooser(intent, &quot;Select an action&quot;));\r\n        } catch (android.content.ActivityNotFoundException ex) {\r\n          // (handle error)\r\n        }\r\n```\r\n\r\nmy current google sign-in code:\r\n\r\nvariable:\r\n```\r\nprivate GoogleSignInClient client;\r\n```\r\n\r\nin &quot;onCreate()&quot; method:\r\n```\r\nGoogleSignInOptions options = new GoogleSignInOptions.Builder(GoogleSignInOptions.DEFAULT_SIGN_IN)\r\n                .requestIdToken(getString(R.string.default_web_client_id))\r\n                .requestEmail()\r\n                        .build();\r\n\r\n        client = GoogleSignIn.getClient(this,options);\r\n```\r\n\r\nin onNavigationItemSelected method:\r\n```\r\nIntent intent = client.getSignInIntent();\r\n            startActivityForResult(intent,123);\r\n```\r\n\r\nYour help and time will be greatly appreciated.\r\n\r\n\r\n  [1]: https://stackoverflow.com/users/82515/jim-blackler","title":"Have Google pop-up window account sign in want bottom nav slide-up menu like the Share menu version in pics attached for my android studio app","body":"<p>my app currently has a share button which upon click opens a bottom navigation that slides up from the bottom of the android os screen like this by <a href=\"https://stackoverflow.com/users/82515/jim-blackler\">Jim Blackler</a>:\n<a href=\"https://i.stack.imgur.com/FQKIp.png\" rel=\"nofollow noreferrer\">Share bottom slide-in menu</a></p>\n<p>my current google sign-in pop window to choose an account:\n<a href=\"https://i.stack.imgur.com/81Gfa.png\" rel=\"nofollow noreferrer\">my current google sign-in pop-up window</a></p>\n<p>what I want:\n<a href=\"https://i.stack.imgur.com/ODW76.png\" rel=\"nofollow noreferrer\">just like the share bottom slide-in google sign-in/account chooser</a></p>\n<p>The code I use to do the share, below, I have not successfully changed into a google sign-in prompt to match the share bottom nav slide-in prompt.</p>\n<p>this is the Share code I use from this website <a href=\"https://stackoverflow.com/questions/5646104/how-to-implement-the-share-function-of-a-android-app\">here</a> answer by <a href=\"https://stackoverflow.com/users/82515/jim-blackler\">Jim Blackler</a>:</p>\n<pre><code>final Intent intent = new Intent(Intent.ACTION_SEND);\n        intent.setType(&quot;text/plain&quot;);\n        intent.putExtra(Intent.EXTRA_TEXT, pageUrl);\n\n        try {\n          startActivity(Intent.createChooser(intent, &quot;Select an action&quot;));\n        } catch (android.content.ActivityNotFoundException ex) {\n          // (handle error)\n        }\n</code></pre>\n<p>my current google sign-in code:</p>\n<p>variable:</p>\n<pre><code>private GoogleSignInClient client;\n</code></pre>\n<p>in &quot;onCreate()&quot; method:</p>\n<pre><code>GoogleSignInOptions options = new GoogleSignInOptions.Builder(GoogleSignInOptions.DEFAULT_SIGN_IN)\n                .requestIdToken(getString(R.string.default_web_client_id))\n                .requestEmail()\n                        .build();\n\n        client = GoogleSignIn.getClient(this,options);\n</code></pre>\n<p>in onNavigationItemSelected method:</p>\n<pre><code>Intent intent = client.getSignInIntent();\n            startActivityForResult(intent,123);\n</code></pre>\n<p>Your help and time will be greatly appreciated.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":252190,"reputation":1445,"user_id":530055,"display_name":"Isaiah van der Elst"},"score":0,"creation_date":1688591430,"post_id":76623934,"comment_id":135095858,"body_markdown":"I think you&#39;d be hard pressed to find a machine that can support 50K concurrent users. I&#39;d think about using a load balancer... Also, you could look into using non-block I/O. Requests share threads with non-blocking I/O","body":"I think you&#39;d be hard pressed to find a machine that can support 50K concurrent users. I&#39;d think about using a load balancer... Also, you could look into using non-block I/O. Requests share threads with non-blocking I/O"},{"owner":{"account_id":28104689,"reputation":512,"user_id":21473475,"display_name":"Arfur Narf"},"score":1,"creation_date":1688592225,"post_id":76623934,"comment_id":135096007,"body_markdown":"Smaller thread stack.  More memory available to JVM.  Increased process/resource limits.  But I think the design that needs one thread per socket is wrong.","body":"Smaller thread stack.  More memory available to JVM.  Increased process/resource limits.  But I think the design that needs one thread per socket is wrong."},{"owner":{"account_id":22394789,"reputation":1382,"user_id":16606223,"display_name":"Yahor Barkouski"},"score":1,"creation_date":1688595447,"post_id":76623934,"comment_id":135096390,"body_markdown":"You may try to check `cat /proc/sys/kernel/threads-max`, perhaps there is a limit you&#39;re facing. The suggestions about reducing stack size above also make sense, each thread in a Java program takes a significant amount of native memory in the JVM process for its stack, so it should help too.","body":"You may try to check <code>cat &#47;proc&#47;sys&#47;kernel&#47;threads-max</code>, perhaps there is a limit you&#39;re facing. The suggestions about reducing stack size above also make sense, each thread in a Java program takes a significant amount of native memory in the JVM process for its stack, so it should help too."},{"owner":{"account_id":22394789,"reputation":1382,"user_id":16606223,"display_name":"Yahor Barkouski"},"score":0,"creation_date":1688595565,"post_id":76623934,"comment_id":135096400,"body_markdown":"But please, be aware that having a large number of threads might not be the most efficient way to handle many concurrent tasks due to context-switching overhead, so maybe you&#39;d like to consider alternatives like using a thread pool","body":"But please, be aware that having a large number of threads might not be the most efficient way to handle many concurrent tasks due to context-switching overhead, so maybe you&#39;d like to consider alternatives like using a thread pool"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1688600785,"post_id":76623934,"comment_id":135096881,"body_markdown":"See https://stackoverflow.com/questions/17126998/why-java-nio-can-be-superior-to-standard-java-sockets and https://stackoverflow.com/questions/65100995/java-nio-based-scalable-non-blocking-tcp-client-server-design-recommend-way-to","body":"See <a href=\"https://stackoverflow.com/questions/17126998/why-java-nio-can-be-superior-to-standard-java-sockets\" title=\"why java nio can be superior to standard java sockets\">stackoverflow.com/questions/17126998/&hellip;</a> and <a href=\"https://stackoverflow.com/questions/65100995/java-nio-based-scalable-non-blocking-tcp-client-server-design-recommend-way-to\" title=\"java nio based scalable non blocking tcp client server design recommend way to\">stackoverflow.com/questions/65100995/&hellip;</a>"},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1688607330,"post_id":76623934,"comment_id":135097457,"body_markdown":"Buy more memory.","body":"Buy more memory."},{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":1,"creation_date":1688629623,"post_id":76623934,"comment_id":135099994,"body_markdown":"You don&#39;t need 50,000 threads. You&#39;re model of thread per client is broken, you should try to think of clients as tasks that are performed by threads. That way you have a thread pool to do your work. Although with [Virtual Threads](https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/concurrent/Executors.html#newVirtualThreadPerTaskExecutor()) you might be able to use a thread per client.","body":"You don&#39;t need 50,000 threads. You&#39;re model of thread per client is broken, you should try to think of clients as tasks that are performed by threads. That way you have a thread pool to do your work. Although with <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/concurrent/Executors.html#newVirtualThreadPerTaskExecutor()\" rel=\"nofollow noreferrer\">Virtual Threads</a> you might be able to use a thread per client."},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":1,"creation_date":1688653251,"post_id":76623934,"comment_id":135105382,"body_markdown":"You may want to consider [Project Loom](https://developer.okta.com/blog/2022/08/26/state-of-java-project-loom) in recent versions of OpenJDK.","body":"You may want to consider <a href=\"https://developer.okta.com/blog/2022/08/26/state-of-java-project-loom\" rel=\"nofollow noreferrer\">Project Loom</a> in recent versions of OpenJDK."},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":0,"creation_date":1688653743,"post_id":76623934,"comment_id":135105502,"body_markdown":"[See also](https://wiki.openjdk.org/display/loom/Main)","body":"<a href=\"https://wiki.openjdk.org/display/loom/Main\" rel=\"nofollow noreferrer\">See also</a>"},{"owner":{"account_id":9765477,"reputation":31,"user_id":7239073,"display_name":"Dominick"},"score":0,"creation_date":1688683714,"post_id":76623934,"comment_id":135110747,"body_markdown":"I ran the server on a window 10 laptop with an 3rd gen i5 and 8GB RAM.\nI was able to accept and maintain 41K connection (running 6 clients on 2 other different machines). It did chew up all the RAM, but CPU utilization was between 2 and 5%, with picks at 20% while clients where joining in (bombing the poor thing), this is using TLSv1.3 which comes with a price I am sure.\nSo I don&#39;t think the actually use of threads for doing each client work is such a problem.\nThere is definitely a hard limitation of 9246 maximum threads Debian 11 is imposing on the JVM, and I can&#39;t see to change that.","body":"I ran the server on a window 10 laptop with an 3rd gen i5 and 8GB RAM. I was able to accept and maintain 41K connection (running 6 clients on 2 other different machines). It did chew up all the RAM, but CPU utilization was between 2 and 5%, with picks at 20% while clients where joining in (bombing the poor thing), this is using TLSv1.3 which comes with a price I am sure. So I don&#39;t think the actually use of threads for doing each client work is such a problem. There is definitely a hard limitation of 9246 maximum threads Debian 11 is imposing on the JVM, and I can&#39;t see to change that."},{"owner":{"account_id":252190,"reputation":1445,"user_id":530055,"display_name":"Isaiah van der Elst"},"score":0,"creation_date":1688684663,"post_id":76623934,"comment_id":135110836,"body_markdown":"@Dominick I&#39;m not sure who you&#39;re making this application for. In an enterprise environment, you&#39;d distribute the load over a number of machines. Using NIO and virtual threads is a more efficient mechanism, but scaling out is more important. #1 I&#39;d focus on making the application stateless so that it can scale out. Then #2 make the process efficient and make it so it can scale up.","body":"@Dominick I&#39;m not sure who you&#39;re making this application for. In an enterprise environment, you&#39;d distribute the load over a number of machines. Using NIO and virtual threads is a more efficient mechanism, but scaling out is more important. #1 I&#39;d focus on making the application stateless so that it can scale out. Then #2 make the process efficient and make it so it can scale up."}],"answers":[{"tags":[],"owner":{"account_id":252190,"reputation":1445,"user_id":530055,"display_name":"Isaiah van der Elst"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1688628125,"creation_date":1688592317,"answer_id":76624132,"question_id":76623934,"body_markdown":"The maximum number of threads you can create will be system dependent. Please check your system&#39;s capacity:\r\n\r\n**Windows:** no limit\r\n\r\n**Linux:** `cat /proc/sys/kernel/threads-max`\r\n\r\nThe stack-trace also suggests the issue may be related to memory. Every thread needs its own stack, and each thread will have data on the heap while executing. The JVM has default memory limits. Look into setting the stack and heap sizes.\r\n\r\n\r\n\r\n**Set stack size usage (-Xss)**\r\n\r\n*Usage:* `java -Xss1024k -jar app.jar`\r\n\r\nIn the error, you see `pthread_create failed`. Your jvm is using pthread to create native OS threads. The total stack size will be defined by your host system. It may be configurable through the OS. This property (-Xss) sets the stack size per thread. To avoid running out, try to make the size as small as possible.\r\n\r\n\r\n\r\n**Set heap size (-Xmx)**\r\n\r\n *Usage:* `java -Xmx1024m -jar app.jar`\r\n\r\nAssuming you&#39;re holding variables in these threads, you&#39;ll also want to keep an eye on the heap. Each thread will be running some procedure, allocating memory along the way. That memory will be allocated on the heap. 50,000 threads is a lot concurrent threads. You may be using a lot of memory. Use this property (-Xmx) to increase the heap size.","title":"How can I increase the maximum number of threads that Java can spawn?","body":"<p>The maximum number of threads you can create will be system dependent. Please check your system's capacity:</p>\n<p><strong>Windows:</strong> no limit</p>\n<p><strong>Linux:</strong> <code>cat /proc/sys/kernel/threads-max</code></p>\n<p>The stack-trace also suggests the issue may be related to memory. Every thread needs its own stack, and each thread will have data on the heap while executing. The JVM has default memory limits. Look into setting the stack and heap sizes.</p>\n<p><strong>Set stack size usage (-Xss)</strong></p>\n<p><em>Usage:</em> <code>java -Xss1024k -jar app.jar</code></p>\n<p>In the error, you see <code>pthread_create failed</code>. Your jvm is using pthread to create native OS threads. The total stack size will be defined by your host system. It may be configurable through the OS. This property (-Xss) sets the stack size per thread. To avoid running out, try to make the size as small as possible.</p>\n<p><strong>Set heap size (-Xmx)</strong></p>\n<p><em>Usage:</em> <code>java -Xmx1024m -jar app.jar</code></p>\n<p>Assuming you're holding variables in these threads, you'll also want to keep an eye on the heap. Each thread will be running some procedure, allocating memory along the way. That memory will be allocated on the heap. 50,000 threads is a lot concurrent threads. You may be using a lot of memory. Use this property (-Xmx) to increase the heap size.</p>\n"},{"tags":[],"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1688687399,"creation_date":1688685810,"answer_id":76633070,"question_id":76623934,"body_markdown":"On Linux (wsl2) I can get 30,000 threads with my default settings *and* reduced stack size. (`-Xss150k`) with this program:\r\n```\r\nimport java.lang.management.ManagementFactory;\r\nimport java.lang.management.ThreadMXBean;\r\nimport java.util.concurrent.CountDownLatch;\r\n\r\npublic class App \r\n{\r\n    public static void main( String[] args ) throws InterruptedException {\r\n        CountDownLatch latch = new CountDownLatch(1);\r\n        int numberOfThreads = 33_000; // OK at 30_000\r\n        Thread[] threads = new Thread[numberOfThreads];\r\n        for (int i = 0; i &lt; numberOfThreads; ++i) {\r\n            threads[i] = new Thread(() -&gt; {\r\n                try {\r\n                    latch.await();\r\n                } catch (InterruptedException e) {\r\n                    throw new RuntimeException(e);\r\n                }\r\n            });\r\n            threads[i].start();\r\n        }\r\n        ThreadMXBean bean = ManagementFactory.getThreadMXBean();\r\n        System.out.println(bean.getThreadCount());\r\n        latch.countDown();\r\n        for (int i = 0; i &lt; numberOfThreads; ++i) {\r\n            threads[i].join();\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nThe error that I see at 33,000 threads is:\r\n```\r\n[7.274s][warning][os,thread] Attempt to protect stack guard pages failed (0x00007f6bb46a2000-0x00007f6bb46a6000).\r\n#\r\n# A fatal error has been detected by the Java Runtime Environment:\r\n# Native memory allocation (mprotect) failed to protect 16384 bytes for memory to guard stack pages\r\n# An error report file with more information is saved as:\r\n# /home/tgdavies/dev/so76628100/hs_err_pid395685.log\r\n...\r\nOpenJDK 64-Bit Server VM warning: INFO: os::commit_memory(0x00007f6bb467c000, 16384, 0) failed; error=&#39;Not enough space&#39; (errno=12)\r\n```\r\n\r\nWhich I interpreted as running out of swap. I had 4GB of swap configured. I configured 32GB of swap, but that didn&#39;t help.\r\n\r\nThe error report file has some useful tips, including:\r\n```\r\n#   JVM is running with Zero Based Compressed Oops mode in which the Java heap is\r\n#     placed in the first 32GB address space. The Java Heap base address is the\r\n#     maximum limit for the native heap growth. Please use -XX:HeapBaseMinAddress\r\n#     to set the Java Heap base and to place the Java Heap above 32GB virtual address.\r\n```\r\n\r\nThis blog post looks relevant: https://poonamparhar.github.io/out_of_memory_on_64_bit_platform/ but using uncompressed oops didn&#39;t help.\r\n\r\n\r\n","title":"How can I increase the maximum number of threads that Java can spawn?","body":"<p>On Linux (wsl2) I can get 30,000 threads with my default settings <em>and</em> reduced stack size. (<code>-Xss150k</code>) with this program:</p>\n<pre><code>import java.lang.management.ManagementFactory;\nimport java.lang.management.ThreadMXBean;\nimport java.util.concurrent.CountDownLatch;\n\npublic class App \n{\n    public static void main( String[] args ) throws InterruptedException {\n        CountDownLatch latch = new CountDownLatch(1);\n        int numberOfThreads = 33_000; // OK at 30_000\n        Thread[] threads = new Thread[numberOfThreads];\n        for (int i = 0; i &lt; numberOfThreads; ++i) {\n            threads[i] = new Thread(() -&gt; {\n                try {\n                    latch.await();\n                } catch (InterruptedException e) {\n                    throw new RuntimeException(e);\n                }\n            });\n            threads[i].start();\n        }\n        ThreadMXBean bean = ManagementFactory.getThreadMXBean();\n        System.out.println(bean.getThreadCount());\n        latch.countDown();\n        for (int i = 0; i &lt; numberOfThreads; ++i) {\n            threads[i].join();\n        }\n    }\n}\n</code></pre>\n<p>The error that I see at 33,000 threads is:</p>\n<pre><code>[7.274s][warning][os,thread] Attempt to protect stack guard pages failed (0x00007f6bb46a2000-0x00007f6bb46a6000).\n#\n# A fatal error has been detected by the Java Runtime Environment:\n# Native memory allocation (mprotect) failed to protect 16384 bytes for memory to guard stack pages\n# An error report file with more information is saved as:\n# /home/tgdavies/dev/so76628100/hs_err_pid395685.log\n...\nOpenJDK 64-Bit Server VM warning: INFO: os::commit_memory(0x00007f6bb467c000, 16384, 0) failed; error='Not enough space' (errno=12)\n</code></pre>\n<p>Which I interpreted as running out of swap. I had 4GB of swap configured. I configured 32GB of swap, but that didn't help.</p>\n<p>The error report file has some useful tips, including:</p>\n<pre><code>#   JVM is running with Zero Based Compressed Oops mode in which the Java heap is\n#     placed in the first 32GB address space. The Java Heap base address is the\n#     maximum limit for the native heap growth. Please use -XX:HeapBaseMinAddress\n#     to set the Java Heap base and to place the Java Heap above 32GB virtual address.\n</code></pre>\n<p>This blog post looks relevant: <a href=\"https://poonamparhar.github.io/out_of_memory_on_64_bit_platform/\" rel=\"nofollow noreferrer\">https://poonamparhar.github.io/out_of_memory_on_64_bit_platform/</a> but using uncompressed oops didn't help.</p>\n"},{"tags":[],"owner":{"account_id":9765477,"reputation":31,"user_id":7239073,"display_name":"Dominick"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689282926,"creation_date":1689101680,"answer_id":76664988,"question_id":76623934,"body_markdown":"I was suggested to look into project loom and the virtual threads to be able to make use of effective use of the one thread per client design (haven&#39;t explored that route yet).\r\nBy digging documentation over the weekend, I was able to implement a better way to accept new connections and properly route data to the proper client without needing an individual thread per client. I was able to drastically increase the client count while lowering overhead and system memory usage by implementing the server with the NIO implementation of the socket server. With 3 test PC running a test client I was able to accept 36,036 connections and only spawning a peak of 210 workers threads managed by a thread pool (running the test client on windows you can only spawn about 16400 sockets before the SocketExeption with message maximum connection reached is thrown per PC, lot less under debian 11 from my testing).\r\n\r\n&gt; private final ExecutorService _workers;\r\ninitialized as follow\r\n&gt; this._workers = Executors.newCachedThreadPool();\r\n\r\nBelow is the new sever main loop making use of the NIO implementation with the multiplexer selector object, and a thread pool to do work when the selector returns a slectablekey. New challenge is now in implementing SSL server, since NIO from my current understanding do not offer an alternative from javax.net.ssl.SSLServerSocket.\r\n\r\n        /**\r\n     * The main server thread, this listens and accepts incoming client&#39;s connections.\r\n     */\r\n    @Override\r\n    public void run()\r\n    {\r\n        System.out.println(&quot;Awaiting new client connection!&quot;);\r\n        while (!this._channel.socket().isClosed())\r\n        {\r\n            try\r\n            {\r\n                this._selector.select();\r\n                \r\n                Iterator&lt;SelectionKey&gt; keys = this._selector.selectedKeys().iterator();\r\n                \r\n                while (keys.hasNext())\r\n                {\r\n                    SelectionKey key = keys.next();\r\n                    keys.remove();\r\n                    if (key.isAcceptable())\r\n                    {\r\n                        ServerSocketChannel ssc = (ServerSocketChannel)key.channel();\r\n                        SocketChannel sc = ssc.accept();\r\n                        sc.configureBlocking(false);\r\n                        sc.register(this._selector, SelectionKey.OP_READ);\r\n                        sc.socket().setTcpNoDelay(true);\r\n                        sc.socket().setSoTimeout(this._cliTimeout);\r\n                        var acceptor = this._factory.create(this._clients, sc);\r\n                        var client   = acceptor.createClient(this._workers);\r\n                        if (client != null)\r\n                        {\r\n                            this._clients.put(sc, client);\r\n                            System.out.printf\r\n                            (\r\n                                &quot;Client %s accepter from %s\\n\\r&quot;, \r\n                                client.getSessionID(), \r\n                                client.getRemoteAddress()\r\n                            );\r\n                        }\r\n                        else\r\n                        {\r\n                            System.err.printf(&quot;Client from %s rejected!\\n\\r&quot;, sc.getRemoteAddress());\r\n                            try\r\n                            {\r\n                                sc.socket().setSoLinger(true, 5);\r\n                                sc.close();\r\n                            }\r\n                            catch (IOException ioex)\r\n                            {\r\n                                System.err.printf\r\n                                (\r\n                                    &quot;Client from %s closig error %s!\\n\\r&quot;, \r\n                                    sc.getRemoteAddress(),\r\n                                    ioex.getMessage()\r\n                                );\r\n                            }\r\n                        }\r\n                        System.out.println(&quot;Awaiting new client connection!&quot;);\r\n                    }\r\n                    else if (key.isReadable())\r\n                    {\r\n                        SocketChannel sc = (SocketChannel)key.channel();\r\n                        var client = this._clients.get(sc);\r\n                        if (client != null)\r\n                            this._workers.execute(client);\r\n                        else\r\n                            sc.close();\r\n                    }\r\n                }\r\n            }\r\n            catch (IOException ioex)\r\n            {\r\n                try\r\n                {\r\n                    this.close();\r\n                }\r\n                catch (IOException ioex2)\r\n                {\r\n                    ioex2.printStackTrace();\r\n                }\r\n            }\r\n            catch (ClosedSelectorException csex)\r\n            {\r\n                // The multiplexer (selector) was closed.\r\n                // therefore this thread can finnaly be terminated.\r\n                break;\r\n            }\r\n            catch (CancelledKeyException ckex)\r\n            {\r\n                // Do nothing for this exception, the key operation was canceled.\r\n                // this do not mean the server have problems or was shutdown.\r\n            }\r\n        }\r\n    }\r\n\r\nImplementing SSL socket and the remote peer handlers for each connections. To get the SSL engine to work took me some real documentation digging, but got this working with the following code.\r\n\r\n    /**\r\n     * Main listener thread for this client.\r\n     */\r\n    @Override\r\n    public final void run()\r\n    {\r\n        this.decrypt();\r\n    }\r\n    \r\n    /**\r\n     * Handles the hand shake.\r\n     * @throws java.lang.InterruptedException\r\n     * @throws java.io.IOException\r\n     */\r\n    public void handShake() throws InterruptedException, IOException\r\n    {\r\n        System.out.printf(&quot;SSL handShake %s... Start\\n\\r&quot;, this._id);\r\n        while (true)\r\n        {\r\n            if (this._isHandshakeRxedHello)\r\n            {\r\n                HandshakeStatus status = this._sslEngine.getHandshakeStatus();\r\n                if (null != status)\r\n                    switch (status)\r\n                    {\r\n                        case FINISHED:\r\n                            System.out.printf(&quot;SSL handShake %s... Finish HANDSHAKE INTERRUPTED\\n\\r&quot;, this._id);\r\n                            return;\r\n                        case NOT_HANDSHAKING:\r\n                            if (this._isHandshakeRxedHello)\r\n                            {\r\n                                System.out.printf(&quot;SSL handShake %s... Finish OK\\n\\r&quot;, this._id);\r\n                                this.onConnected();\r\n                                return;\r\n                            }\r\n                            break;\r\n                        case NEED_WRAP:\r\n                            this.encrypt(ByteBuffer.allocate(0));\r\n                            break;\r\n                        case NEED_TASK:\r\n                            this._sslEngine.getDelegatedTask().run();\r\n                            break;\r\n                        default:\r\n                            break;\r\n                    }\r\n            }\r\n            else\r\n            {\r\n                if (this._channel.socket().isClosed())\r\n                {\r\n                    System.out.printf(&quot;SSL handShake %s... Finish ERROR SOCKET CLOSE\\n\\r&quot;, this._id);\r\n                    return;\r\n                }\r\n            }\r\n            Thread.sleep(100);\r\n        }\r\n    }\r\n    \r\n    /**\r\n     * Decrypt RX cypher data, and process the plain text data.\r\n     */\r\n    private synchronized void decrypt()\r\n    {\r\n        try\r\n        {\r\n            this._rxCyper.clear();\r\n            int len = this._channel.read(this._rxCyper);\r\n            if (len == -1)\r\n            {\r\n                this.cleanUpAndClose();\r\n            }\r\n            else if (len &gt; 0)\r\n            {\r\n                this._rxCyper.flip();\r\n                this._rxBuffer.clear();\r\n                this._tsLastRx = Clock.systemUTC().instant().getEpochSecond();\r\n                SSLEngineResult results;\r\n                while (this._rxCyper.hasRemaining())\r\n                {\r\n                    results = this._sslEngine.unwrap(this._rxCyper, this._rxBuffer);\r\n                    if (results.bytesProduced() &gt; 0)\r\n                    {\r\n                        this._rxBuffer.flip();\r\n                        this.onReveived(this._rxBuffer);\r\n                    }\r\n                    else\r\n                        this._isHandshakeRxedHello = true;\r\n                }\r\n            }\r\n        }\r\n        catch (IOException ex)\r\n        {\r\n            this.cleanUpAndClose();\r\n        }\r\n    }\r\n    \r\n    /**\r\n     * Encrypt data and TX cypher to remote peer.\r\n     * @param data the plain text data to be sent.\r\n     * @throws SSLException\r\n     * @throws IOException \r\n     */\r\n    private synchronized void encrypt(final ByteBuffer data) throws SSLException, IOException\r\n    {\r\n        this._txCyper.clear();\r\n        var status = this._sslEngine.wrap(data, this._txCyper);\r\n        if (status.getStatus() == SSLEngineResult.Status.OK)\r\n        {\r\n            this._txCyper.flip();\r\n            this._channel.write(this._txCyper);\r\n            if (status.getHandshakeStatus() == HandshakeStatus.NEED_WRAP)\r\n                this.encrypt(data);\r\n        }\r\n        else if (status.getStatus() == SSLEngineResult.Status.BUFFER_OVERFLOW)\r\n        {\r\n            var b = ByteBuffer.allocate(this._sslEngine.getSession().getPacketBufferSize());\r\n            status = this._sslEngine.wrap(data, b);\r\n            if (status.getStatus() == SSLEngineResult.Status.OK)\r\n            {\r\n                b.flip();\r\n                this._channel.write(b);\r\n            }\r\n            else\r\n            {\r\n                throw new SSLException(&quot;Failed to encrypt!&quot;);\r\n            }\r\n        }\r\n    }\r\n\r\nThis is the main loop for the NIO implementation of a remote peer connection handler without SSL. This will pull new data and do onReceive logics on a thread from the pool, this are non blocking methods.\r\n\r\n    /**\r\n     * Main listener thread for this client.\r\n     */\r\n    @Override\r\n    public final void run()\r\n    {\r\n        this.rxhandler();\r\n    }\r\n    \r\n    /**\r\n     * Low level RX handler.\r\n     */\r\n    private synchronized void rxhandler()\r\n    {\r\n        try\r\n        {\r\n            this._rxBuff.clear();\r\n            int len = this._channel.read(this._rxBuff);\r\n            if (len == -1)\r\n            {\r\n                this.cleanUpAndClose();\r\n                return;\r\n            }\r\n            else if (len &gt; 0)\r\n            {\r\n                this._tsLastRx = Clock.systemUTC().instant().getEpochSecond();\r\n                this._rxBuff.flip();\r\n                this.onReceived(this._rxBuff);\r\n            }\r\n        }\r\n        catch (IOException ex)\r\n        {\r\n            this.cleanUpAndClose();\r\n        }\r\n    }\r\n\r\nFinally to start one of the 4 implementation of the server.\r\nObviously there is alot of code I left out, but this should help someone else trying to implement a non blocking server using NIO and a thread pool.\r\n\r\n    ITCPServer server = null;\r\n        boolean run = true;\r\n        try\r\n        {\r\n            if (nio)\r\n            {\r\n                if (ssl)\r\n                {\r\n                    System.out.println(&quot;Starting NIO:SSL server!&quot;);\r\n                    server = NioTCPServer.create\r\n                    (\r\n                        listeningPort, \r\n                        100000, \r\n                        new NioTCPServerTLSv13AcceptorFactory\r\n                        (\r\n                            new NioDebugTCPRemClientFactory(),\r\n                            &quot;cert.p12&quot;,\r\n                            &quot;password&quot;\r\n                        )\r\n                    );\r\n                    server.setClientTimeout(0);\r\n                }\r\n                else\r\n                {\r\n                    System.out.println(&quot;Starting NIO server!&quot;);\r\n                    server = NioTCPServer.create\r\n                    (\r\n                        listeningPort, \r\n                        100000, \r\n                        new NioTCPServerAcceptorFactory\r\n                        (\r\n                            new NioDebugTCPRemClientFactory()\r\n                        )\r\n                    );\r\n                    server.setClientTimeout(0);\r\n                }\r\n            }\r\n            else\r\n            {\r\n                if (ssl)\r\n                {\r\n                    System.out.println(&quot;Starting SSL server!&quot;);\r\n                    server = TCPServer.createSSL\r\n                    (\r\n                        listeningPort, \r\n                        100000, \r\n                        new DebugTCPRemClientFactory(),\r\n                        &quot;cert.p12&quot;,\r\n                        &quot;password&quot;\r\n                    );\r\n                }\r\n                else\r\n                {\r\n                    System.out.println(&quot;Starting server!&quot;);\r\n                    server = TCPServer.create\r\n                    (\r\n                        listeningPort, \r\n                        100000,\r\n                        new DebugTCPRemClientFactory()\r\n                    );\r\n                }\r\n            }\r\n            Thread t = new Thread(server);\r\n            t.start();\r\n            System.out.printf(&quot;Server started listening at %s:%d\\n\\r&quot;, InetAddress.getLocalHost(), listeningPort);","title":"How can I increase the maximum number of threads that Java can spawn?","body":"<p>I was suggested to look into project loom and the virtual threads to be able to make use of effective use of the one thread per client design (haven't explored that route yet).\nBy digging documentation over the weekend, I was able to implement a better way to accept new connections and properly route data to the proper client without needing an individual thread per client. I was able to drastically increase the client count while lowering overhead and system memory usage by implementing the server with the NIO implementation of the socket server. With 3 test PC running a test client I was able to accept 36,036 connections and only spawning a peak of 210 workers threads managed by a thread pool (running the test client on windows you can only spawn about 16400 sockets before the SocketExeption with message maximum connection reached is thrown per PC, lot less under debian 11 from my testing).</p>\n<blockquote>\n<p>private final ExecutorService _workers;\ninitialized as follow\nthis._workers = Executors.newCachedThreadPool();</p>\n</blockquote>\n<p>Below is the new sever main loop making use of the NIO implementation with the multiplexer selector object, and a thread pool to do work when the selector returns a slectablekey. New challenge is now in implementing SSL server, since NIO from my current understanding do not offer an alternative from javax.net.ssl.SSLServerSocket.</p>\n<pre><code>    /**\n * The main server thread, this listens and accepts incoming client's connections.\n */\n@Override\npublic void run()\n{\n    System.out.println(&quot;Awaiting new client connection!&quot;);\n    while (!this._channel.socket().isClosed())\n    {\n        try\n        {\n            this._selector.select();\n            \n            Iterator&lt;SelectionKey&gt; keys = this._selector.selectedKeys().iterator();\n            \n            while (keys.hasNext())\n            {\n                SelectionKey key = keys.next();\n                keys.remove();\n                if (key.isAcceptable())\n                {\n                    ServerSocketChannel ssc = (ServerSocketChannel)key.channel();\n                    SocketChannel sc = ssc.accept();\n                    sc.configureBlocking(false);\n                    sc.register(this._selector, SelectionKey.OP_READ);\n                    sc.socket().setTcpNoDelay(true);\n                    sc.socket().setSoTimeout(this._cliTimeout);\n                    var acceptor = this._factory.create(this._clients, sc);\n                    var client   = acceptor.createClient(this._workers);\n                    if (client != null)\n                    {\n                        this._clients.put(sc, client);\n                        System.out.printf\n                        (\n                            &quot;Client %s accepter from %s\\n\\r&quot;, \n                            client.getSessionID(), \n                            client.getRemoteAddress()\n                        );\n                    }\n                    else\n                    {\n                        System.err.printf(&quot;Client from %s rejected!\\n\\r&quot;, sc.getRemoteAddress());\n                        try\n                        {\n                            sc.socket().setSoLinger(true, 5);\n                            sc.close();\n                        }\n                        catch (IOException ioex)\n                        {\n                            System.err.printf\n                            (\n                                &quot;Client from %s closig error %s!\\n\\r&quot;, \n                                sc.getRemoteAddress(),\n                                ioex.getMessage()\n                            );\n                        }\n                    }\n                    System.out.println(&quot;Awaiting new client connection!&quot;);\n                }\n                else if (key.isReadable())\n                {\n                    SocketChannel sc = (SocketChannel)key.channel();\n                    var client = this._clients.get(sc);\n                    if (client != null)\n                        this._workers.execute(client);\n                    else\n                        sc.close();\n                }\n            }\n        }\n        catch (IOException ioex)\n        {\n            try\n            {\n                this.close();\n            }\n            catch (IOException ioex2)\n            {\n                ioex2.printStackTrace();\n            }\n        }\n        catch (ClosedSelectorException csex)\n        {\n            // The multiplexer (selector) was closed.\n            // therefore this thread can finnaly be terminated.\n            break;\n        }\n        catch (CancelledKeyException ckex)\n        {\n            // Do nothing for this exception, the key operation was canceled.\n            // this do not mean the server have problems or was shutdown.\n        }\n    }\n}\n</code></pre>\n<p>Implementing SSL socket and the remote peer handlers for each connections. To get the SSL engine to work took me some real documentation digging, but got this working with the following code.</p>\n<pre><code>/**\n * Main listener thread for this client.\n */\n@Override\npublic final void run()\n{\n    this.decrypt();\n}\n\n/**\n * Handles the hand shake.\n * @throws java.lang.InterruptedException\n * @throws java.io.IOException\n */\npublic void handShake() throws InterruptedException, IOException\n{\n    System.out.printf(&quot;SSL handShake %s... Start\\n\\r&quot;, this._id);\n    while (true)\n    {\n        if (this._isHandshakeRxedHello)\n        {\n            HandshakeStatus status = this._sslEngine.getHandshakeStatus();\n            if (null != status)\n                switch (status)\n                {\n                    case FINISHED:\n                        System.out.printf(&quot;SSL handShake %s... Finish HANDSHAKE INTERRUPTED\\n\\r&quot;, this._id);\n                        return;\n                    case NOT_HANDSHAKING:\n                        if (this._isHandshakeRxedHello)\n                        {\n                            System.out.printf(&quot;SSL handShake %s... Finish OK\\n\\r&quot;, this._id);\n                            this.onConnected();\n                            return;\n                        }\n                        break;\n                    case NEED_WRAP:\n                        this.encrypt(ByteBuffer.allocate(0));\n                        break;\n                    case NEED_TASK:\n                        this._sslEngine.getDelegatedTask().run();\n                        break;\n                    default:\n                        break;\n                }\n        }\n        else\n        {\n            if (this._channel.socket().isClosed())\n            {\n                System.out.printf(&quot;SSL handShake %s... Finish ERROR SOCKET CLOSE\\n\\r&quot;, this._id);\n                return;\n            }\n        }\n        Thread.sleep(100);\n    }\n}\n\n/**\n * Decrypt RX cypher data, and process the plain text data.\n */\nprivate synchronized void decrypt()\n{\n    try\n    {\n        this._rxCyper.clear();\n        int len = this._channel.read(this._rxCyper);\n        if (len == -1)\n        {\n            this.cleanUpAndClose();\n        }\n        else if (len &gt; 0)\n        {\n            this._rxCyper.flip();\n            this._rxBuffer.clear();\n            this._tsLastRx = Clock.systemUTC().instant().getEpochSecond();\n            SSLEngineResult results;\n            while (this._rxCyper.hasRemaining())\n            {\n                results = this._sslEngine.unwrap(this._rxCyper, this._rxBuffer);\n                if (results.bytesProduced() &gt; 0)\n                {\n                    this._rxBuffer.flip();\n                    this.onReveived(this._rxBuffer);\n                }\n                else\n                    this._isHandshakeRxedHello = true;\n            }\n        }\n    }\n    catch (IOException ex)\n    {\n        this.cleanUpAndClose();\n    }\n}\n\n/**\n * Encrypt data and TX cypher to remote peer.\n * @param data the plain text data to be sent.\n * @throws SSLException\n * @throws IOException \n */\nprivate synchronized void encrypt(final ByteBuffer data) throws SSLException, IOException\n{\n    this._txCyper.clear();\n    var status = this._sslEngine.wrap(data, this._txCyper);\n    if (status.getStatus() == SSLEngineResult.Status.OK)\n    {\n        this._txCyper.flip();\n        this._channel.write(this._txCyper);\n        if (status.getHandshakeStatus() == HandshakeStatus.NEED_WRAP)\n            this.encrypt(data);\n    }\n    else if (status.getStatus() == SSLEngineResult.Status.BUFFER_OVERFLOW)\n    {\n        var b = ByteBuffer.allocate(this._sslEngine.getSession().getPacketBufferSize());\n        status = this._sslEngine.wrap(data, b);\n        if (status.getStatus() == SSLEngineResult.Status.OK)\n        {\n            b.flip();\n            this._channel.write(b);\n        }\n        else\n        {\n            throw new SSLException(&quot;Failed to encrypt!&quot;);\n        }\n    }\n}\n</code></pre>\n<p>This is the main loop for the NIO implementation of a remote peer connection handler without SSL. This will pull new data and do onReceive logics on a thread from the pool, this are non blocking methods.</p>\n<pre><code>/**\n * Main listener thread for this client.\n */\n@Override\npublic final void run()\n{\n    this.rxhandler();\n}\n\n/**\n * Low level RX handler.\n */\nprivate synchronized void rxhandler()\n{\n    try\n    {\n        this._rxBuff.clear();\n        int len = this._channel.read(this._rxBuff);\n        if (len == -1)\n        {\n            this.cleanUpAndClose();\n            return;\n        }\n        else if (len &gt; 0)\n        {\n            this._tsLastRx = Clock.systemUTC().instant().getEpochSecond();\n            this._rxBuff.flip();\n            this.onReceived(this._rxBuff);\n        }\n    }\n    catch (IOException ex)\n    {\n        this.cleanUpAndClose();\n    }\n}\n</code></pre>\n<p>Finally to start one of the 4 implementation of the server.\nObviously there is alot of code I left out, but this should help someone else trying to implement a non blocking server using NIO and a thread pool.</p>\n<pre><code>ITCPServer server = null;\n    boolean run = true;\n    try\n    {\n        if (nio)\n        {\n            if (ssl)\n            {\n                System.out.println(&quot;Starting NIO:SSL server!&quot;);\n                server = NioTCPServer.create\n                (\n                    listeningPort, \n                    100000, \n                    new NioTCPServerTLSv13AcceptorFactory\n                    (\n                        new NioDebugTCPRemClientFactory(),\n                        &quot;cert.p12&quot;,\n                        &quot;password&quot;\n                    )\n                );\n                server.setClientTimeout(0);\n            }\n            else\n            {\n                System.out.println(&quot;Starting NIO server!&quot;);\n                server = NioTCPServer.create\n                (\n                    listeningPort, \n                    100000, \n                    new NioTCPServerAcceptorFactory\n                    (\n                        new NioDebugTCPRemClientFactory()\n                    )\n                );\n                server.setClientTimeout(0);\n            }\n        }\n        else\n        {\n            if (ssl)\n            {\n                System.out.println(&quot;Starting SSL server!&quot;);\n                server = TCPServer.createSSL\n                (\n                    listeningPort, \n                    100000, \n                    new DebugTCPRemClientFactory(),\n                    &quot;cert.p12&quot;,\n                    &quot;password&quot;\n                );\n            }\n            else\n            {\n                System.out.println(&quot;Starting server!&quot;);\n                server = TCPServer.create\n                (\n                    listeningPort, \n                    100000,\n                    new DebugTCPRemClientFactory()\n                );\n            }\n        }\n        Thread t = new Thread(server);\n        t.start();\n        System.out.printf(&quot;Server started listening at %s:%d\\n\\r&quot;, InetAddress.getLocalHost(), listeningPort);\n</code></pre>\n"}],"owner":{"account_id":9765477,"reputation":31,"user_id":7239073,"display_name":"Dominick"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":353,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1689282926,"creation_date":1688590011,"question_id":76623934,"body_markdown":"I am writing a TCP server application, and I was bench testing how many concurrent TCP sockets I can manage.\r\nAfter acceptance the socket is passed to a client class which spawns a separate listener thread to do work.\r\n\r\nI was able to get 9462 active connections before the JVM failed to spawn more threads and therefore dropping any new connections.\r\n\r\n&gt; [1805.442s][warning][os,thread] Failed to start thread &quot;Unknown thread&quot; - pthread_create failed (EAGAIN) for attributes: stacksize: 1024k, guardsize: 0k, detached.\r\n&gt; [1805.442s][warning][os,thread] Failed to start the native thread for java.lang.Thread &quot;Thread-15915&quot;\r\n&gt; Exception in thread &quot;Thread-0&quot; java.lang.OutOfMemoryError: unable to create native thread: possibly out of memory or process/resource limits reached\r\n&gt; \tat java.base/java.lang.Thread.start0(Native Method)\r\n&gt; \tat java.base/java.lang.Thread.start(Thread.java:802)\r\n&gt; \tat socketservertest.TCPServer.run(TCPServer.java:139)\r\n&gt; \tat java.base/java.lang.Thread.run(Thread.java:833)\r\n\r\nThe system still have 40% available RAM, I suspect this is a limit on the JVM settings or perhaps a restriction on the debian OS itself?\r\nIf so, how can I configure the system to allow more memory?\r\n\r\nRegards Dominick\r\n\r\nWhat I have tried:\r\nLook in the java documentation and other forums for solutions, nothing helpful found.\r\n\r\nDesired outcome:\r\nBe able to handle as many threads as possible (clients), starting goal maybe 50K connections?\r\n\r\nEdit 07/07/2023\r\nSorry for lack of details, for the threadpool solution, from my understanding that works well for short live threads, not my case, as the clients are basically sensors and other embedded devices with small memory and few resources, the reason why I am not using TOMCAT and websocket and directly using TCP sockets and some prorpietary bin messaging system carries a byte for command, and the some other bytes of arg data (raw sensor reading etc.) that will be processed by the server.\r\nThis connection will remain intact as long as the sensor/device is online, reason for that is to have a Real-time ability to control suck devices.\r\n\r\n    this._threadPool    = Executors.newCachedThreadPool();\r\n\r\nThis is the server main loop\r\n\r\n    /**\r\n     * The main server thread, this listens and accepts incoming client&#39;s connections.\r\n     */\r\n    @Override\r\n    public void run()\r\n    {\r\n        System.out.printf(&quot;Server started on port %d%n&quot;, this.getPortN());\r\n        \r\n        while (!this._socket.isClosed())\r\n        {\r\n            System.out.println(&quot;Server awaiting new client!&quot;);\r\n            try\r\n            {\r\n                Socket socket = this._socket.accept();\r\n                socket.setKeepAlive(true);\r\n                socket.setTcpNoDelay(true);\r\n                socket.setSoTimeout(this._timeout);\r\n                String uuid = UUID.randomUUID().toString();\r\n                TCPClient client = this._clientFactory.CreateClientObject(socket, uuid, this._clients);// new TCPClient(this._clients, uuid, socket);\r\n                this._clients.add(client);\r\n                this._threadPool.execute(client);\r\n                //var t = new Thread(client);\r\n                //t.start();\r\n                System.out.printf\r\n                (\r\n                    &quot;Server accepted client %s, with uuid %s\\n\\r&quot;, \r\n                    socket.getRemoteSocketAddress(), \r\n                    uuid\r\n                );\r\n            }\r\n            catch (IOException ioe)\r\n            {\r\n                try\r\n                {\r\n                    this.close();\r\n                }\r\n                catch (IOException ioe2)\r\n                {\r\n                    ioe2.printStackTrace();\r\n                } \r\n            }\r\n        }\r\n        System.out.println(&quot;Server stopped&quot;);\r\n    }","title":"How can I increase the maximum number of threads that Java can spawn?","body":"<p>I am writing a TCP server application, and I was bench testing how many concurrent TCP sockets I can manage.\nAfter acceptance the socket is passed to a client class which spawns a separate listener thread to do work.</p>\n<p>I was able to get 9462 active connections before the JVM failed to spawn more threads and therefore dropping any new connections.</p>\n<blockquote>\n<p>[1805.442s][warning][os,thread] Failed to start thread &quot;Unknown thread&quot; - pthread_create failed (EAGAIN) for attributes: stacksize: 1024k, guardsize: 0k, detached.\n[1805.442s][warning][os,thread] Failed to start the native thread for java.lang.Thread &quot;Thread-15915&quot;\nException in thread &quot;Thread-0&quot; java.lang.OutOfMemoryError: unable to create native thread: possibly out of memory or process/resource limits reached\nat java.base/java.lang.Thread.start0(Native Method)\nat java.base/java.lang.Thread.start(Thread.java:802)\nat socketservertest.TCPServer.run(TCPServer.java:139)\nat java.base/java.lang.Thread.run(Thread.java:833)</p>\n</blockquote>\n<p>The system still have 40% available RAM, I suspect this is a limit on the JVM settings or perhaps a restriction on the debian OS itself?\nIf so, how can I configure the system to allow more memory?</p>\n<p>Regards Dominick</p>\n<p>What I have tried:\nLook in the java documentation and other forums for solutions, nothing helpful found.</p>\n<p>Desired outcome:\nBe able to handle as many threads as possible (clients), starting goal maybe 50K connections?</p>\n<p>Edit 07/07/2023\nSorry for lack of details, for the threadpool solution, from my understanding that works well for short live threads, not my case, as the clients are basically sensors and other embedded devices with small memory and few resources, the reason why I am not using TOMCAT and websocket and directly using TCP sockets and some prorpietary bin messaging system carries a byte for command, and the some other bytes of arg data (raw sensor reading etc.) that will be processed by the server.\nThis connection will remain intact as long as the sensor/device is online, reason for that is to have a Real-time ability to control suck devices.</p>\n<pre><code>this._threadPool    = Executors.newCachedThreadPool();\n</code></pre>\n<p>This is the server main loop</p>\n<pre><code>/**\n * The main server thread, this listens and accepts incoming client's connections.\n */\n@Override\npublic void run()\n{\n    System.out.printf(&quot;Server started on port %d%n&quot;, this.getPortN());\n    \n    while (!this._socket.isClosed())\n    {\n        System.out.println(&quot;Server awaiting new client!&quot;);\n        try\n        {\n            Socket socket = this._socket.accept();\n            socket.setKeepAlive(true);\n            socket.setTcpNoDelay(true);\n            socket.setSoTimeout(this._timeout);\n            String uuid = UUID.randomUUID().toString();\n            TCPClient client = this._clientFactory.CreateClientObject(socket, uuid, this._clients);// new TCPClient(this._clients, uuid, socket);\n            this._clients.add(client);\n            this._threadPool.execute(client);\n            //var t = new Thread(client);\n            //t.start();\n            System.out.printf\n            (\n                &quot;Server accepted client %s, with uuid %s\\n\\r&quot;, \n                socket.getRemoteSocketAddress(), \n                uuid\n            );\n        }\n        catch (IOException ioe)\n        {\n            try\n            {\n                this.close();\n            }\n            catch (IOException ioe2)\n            {\n                ioe2.printStackTrace();\n            } \n        }\n    }\n    System.out.println(&quot;Server stopped&quot;);\n}\n</code></pre>\n"},{"tags":["java","algorithm","bubble-sort"],"answers":[{"tags":[],"owner":{"account_id":7142980,"reputation":323243,"user_id":5459839,"display_name":"trincot"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1689282481,"creation_date":1689281884,"answer_id":76683198,"question_id":76682900,"body_markdown":"Your code is not implementing bubble sort, but a kind of [selection sort](https://en.wikipedia.org/wiki/Selection_sort).\r\n\r\nOne characteristic of bubble sort is that it only swaps *adjacent* values. Your algorithm swaps values that can be far apart.\r\n\r\nYou are right that standard bubble sort will grow a sorted partition at the *right* side of the array, while standard selection sort will grow a sorted partition at the *left* side of the array. (Obviously, these algorithms can be made to run in the opposite direction).\r\n\r\n&gt; I find it is printing the `cnt` value more than what the `bubbleSort` function is printing.\r\n\r\nIt is not *more*. Both of your functions execute a predictable number of comparisons which only depends on the *size* of the input array, not on the actual contents: &#119899;(&#119899;−1)/2\r\n\r\n&gt; Does it really matter the order of sorting in a particular sorting algo ?\r\n\r\nWhen comparing these two algorithms, it doesn&#39;t matter. But more importantly though, these two sorting algorithms do not perform well when the input array is large. For relatively large arrays you&#39;ll get better run times with sorting algorithms that have an average complexity of O(&#119899;log&#119899;), such as quick sort, merge sort, heap sort,...\r\n","title":"Algorithm of Bubble sort optimised way","body":"<p>Your code is not implementing bubble sort, but a kind of <a href=\"https://en.wikipedia.org/wiki/Selection_sort\" rel=\"nofollow noreferrer\">selection sort</a>.</p>\n<p>One characteristic of bubble sort is that it only swaps <em>adjacent</em> values. Your algorithm swaps values that can be far apart.</p>\n<p>You are right that standard bubble sort will grow a sorted partition at the <em>right</em> side of the array, while standard selection sort will grow a sorted partition at the <em>left</em> side of the array. (Obviously, these algorithms can be made to run in the opposite direction).</p>\n<blockquote>\n<p>I find it is printing the <code>cnt</code> value more than what the <code>bubbleSort</code> function is printing.</p>\n</blockquote>\n<p>It is not <em>more</em>. Both of your functions execute a predictable number of comparisons which only depends on the <em>size</em> of the input array, not on the actual contents: 𝑛(𝑛−1)/2</p>\n<blockquote>\n<p>Does it really matter the order of sorting in a particular sorting algo ?</p>\n</blockquote>\n<p>When comparing these two algorithms, it doesn't matter. But more importantly though, these two sorting algorithms do not perform well when the input array is large. For relatively large arrays you'll get better run times with sorting algorithms that have an average complexity of O(𝑛log𝑛), such as quick sort, merge sort, heap sort,...</p>\n"}],"owner":{"account_id":1662847,"reputation":125,"user_id":1530793,"accept_rate":62,"display_name":"summary"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":66,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1689282481,"creation_date":1689278789,"question_id":76682900,"body_markdown":"I have  2 different codes for sorting an array: \r\n\r\n```java\r\n    static void bubbleSort2(int[] arr){\r\n\t\tSystem.out.println( &quot;bubble starts &quot;);\r\n\t\tint  tmp =0;int cnt =0;\r\n\t\tfor (int i=0; i&lt; arr.length-1 ; i++){\r\n\t\t\tfor (int j=i+1; j&lt; arr.length ; j++){\r\n\t\t\t\tif(arr[i] &gt; arr[j]){\r\n\t\t\t\t\ttmp = arr[j];\r\n\t\t\t\t\tarr[j]=arr[i];\r\n\t\t\t\t\tarr[i] = tmp ;\r\n\t\t\t\t}\r\n\t\t\t\tcnt++;\r\n\t\t\t}\r\n\t\t\tprintMe(arr);\r\n\r\n\t\t}\r\n\t\tSystem.out.println(&quot;Bubble cnt=&quot;+cnt);\r\n\t\tprintMe(arr);\r\n\t}\r\n```\r\n\r\nAnd:\r\n\r\n```java\r\n    static void bubbleSort(int a[])\r\n    {\r\n        int len = a.length; \r\n        int cnt=0;\r\n\t\tSystem.out.println( &quot;bubble starts &quot;);\r\n\r\n        for (int i = 0; i &lt; len-1; i++){\r\n            for (int j = 0; j &lt; len-i-1; j++) {\r\n                if (a[j] &gt; a[j+1]) \r\n                {\r\n                    int temp = a[j];\r\n                    a[j] = a[j+1];\r\n                    a[j+1] = temp;\r\n                }\r\n            cnt++;\r\n            }\r\n            printMe(a);\r\n        }\r\n\t\tSystem.out.println(&quot;Bubble cnt=&quot;+cnt);\r\n\t\tprintMe(a);\r\n    }\r\n```\r\n\r\n`bubbleSort2` is written by me, and I find it is printing the `cnt` value more than what the `bubbleSort` function is printing .\r\n\r\nBelow is the output for array --&gt; `int[] bbArr= { 28,6,4,2,24 };`\r\n\r\n```\r\n\tbubbleSort(bbArr);\r\n\tbubbleSort2(ccArr);\r\n```\r\n\r\n```none\r\nbubble starts \r\n\r\n    6,4,2,24,28\r\n    4,2,6,24,28\r\n    2,4,6,24,28\r\n    2,4,6,24,28\r\n    Bubble cnt=10\r\n\r\nbubble starts \r\n\r\n    2,28,6,4,24\r\n    2,4,28,6,24\r\n    2,4,6,28,24\r\n    2,4,6,24,28\r\n    Bubble cnt=10\r\n```\r\n\r\nI see that one method keeps sorting from the starting position, while the  other  method keeps sorting from the last position of array. Does it really matter the order of sorting in a particular sorting algo? \r\n","title":"Algorithm of Bubble sort optimised way","body":"<p>I have  2 different codes for sorting an array:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    static void bubbleSort2(int[] arr){\n        System.out.println( &quot;bubble starts &quot;);\n        int  tmp =0;int cnt =0;\n        for (int i=0; i&lt; arr.length-1 ; i++){\n            for (int j=i+1; j&lt; arr.length ; j++){\n                if(arr[i] &gt; arr[j]){\n                    tmp = arr[j];\n                    arr[j]=arr[i];\n                    arr[i] = tmp ;\n                }\n                cnt++;\n            }\n            printMe(arr);\n\n        }\n        System.out.println(&quot;Bubble cnt=&quot;+cnt);\n        printMe(arr);\n    }\n</code></pre>\n<p>And:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    static void bubbleSort(int a[])\n    {\n        int len = a.length; \n        int cnt=0;\n        System.out.println( &quot;bubble starts &quot;);\n\n        for (int i = 0; i &lt; len-1; i++){\n            for (int j = 0; j &lt; len-i-1; j++) {\n                if (a[j] &gt; a[j+1]) \n                {\n                    int temp = a[j];\n                    a[j] = a[j+1];\n                    a[j+1] = temp;\n                }\n            cnt++;\n            }\n            printMe(a);\n        }\n        System.out.println(&quot;Bubble cnt=&quot;+cnt);\n        printMe(a);\n    }\n</code></pre>\n<p><code>bubbleSort2</code> is written by me, and I find it is printing the <code>cnt</code> value more than what the <code>bubbleSort</code> function is printing .</p>\n<p>Below is the output for array --&gt; <code>int[] bbArr= { 28,6,4,2,24 };</code></p>\n<pre><code>    bubbleSort(bbArr);\n    bubbleSort2(ccArr);\n</code></pre>\n<pre class=\"lang-none prettyprint-override\"><code>bubble starts \n\n    6,4,2,24,28\n    4,2,6,24,28\n    2,4,6,24,28\n    2,4,6,24,28\n    Bubble cnt=10\n\nbubble starts \n\n    2,28,6,4,24\n    2,4,28,6,24\n    2,4,6,28,24\n    2,4,6,24,28\n    Bubble cnt=10\n</code></pre>\n<p>I see that one method keeps sorting from the starting position, while the  other  method keeps sorting from the last position of array. Does it really matter the order of sorting in a particular sorting algo?</p>\n"},{"tags":["java","spring-boot","networking","google-cloud-pubsub"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1689364360,"post_id":76683238,"comment_id":135208492,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":9179537,"reputation":46,"user_id":6823951,"display_name":"sam patel"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689282353,"creation_date":1689282353,"question_id":76683238,"body_markdown":"We have one java based desktop service (Spring Boot Service) which has an implementation of google cloud pub/sub pull subscription. It is working fine without domain network however in domain network it is successfully subscribed to the subscription of Google Cloud Pub/Sub but unable to recieve messages after publishing message to the topic.\r\n\r\nI am looking for the troubleshooting steps for domain network.","title":"Pull Subscription is not working in Domain Network for Java based desktop service","body":"<p>We have one java based desktop service (Spring Boot Service) which has an implementation of google cloud pub/sub pull subscription. It is working fine without domain network however in domain network it is successfully subscribed to the subscription of Google Cloud Pub/Sub but unable to recieve messages after publishing message to the topic.</p>\n<p>I am looking for the troubleshooting steps for domain network.</p>\n"},{"tags":["java","intellij-idea","repository","bitbucket","microservices"],"answers":[{"tags":[],"owner":{"account_id":1188905,"reputation":15517,"user_id":1162233,"accept_rate":95,"display_name":"Kaidul"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1537650476,"creation_date":1537617365,"answer_id":52456460,"question_id":52456287,"body_markdown":"Common practices:\r\n\r\n- Separate microservices as separate project in intellij-idea, not separate module\r\n- Separate repository for each microservice projects\r\n\r\nYou need this degree isolation in project level because you will need to create [CI/CD][1] pipeline for each microservices which is another characteristics of microservice architecture. If these services are combined into one fat project, it would be hard to provide different version of library dependencies for different microservices (even these services are separated by Docker container when deployed). Each team who are working on different microservices should not be worried about project dependencies of another microservice. Though each microservice is part of a large, composite application, from a developer standpoint, it is important to treat each service as an independent unit of code. This makes it possible to deploy newer versions of services without disrupting the application. CI/CD pipelines should be designed to take advantage of the independent versioning.\r\n\r\nThere are too many reasons and beyond scope of discussing in one answer why you need to have different projects per microservice, but for now, go for different project and you will discover once you are into microservices realm. \r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/CI/CD","title":"Microservices + Project in Intellij + Bitbucket","body":"<p>Common practices:</p>\n\n<ul>\n<li>Separate microservices as separate project in intellij-idea, not separate module</li>\n<li>Separate repository for each microservice projects</li>\n</ul>\n\n<p>You need this degree isolation in project level because you will need to create <a href=\"https://en.wikipedia.org/wiki/CI/CD\" rel=\"noreferrer\">CI/CD</a> pipeline for each microservices which is another characteristics of microservice architecture. If these services are combined into one fat project, it would be hard to provide different version of library dependencies for different microservices (even these services are separated by Docker container when deployed). Each team who are working on different microservices should not be worried about project dependencies of another microservice. Though each microservice is part of a large, composite application, from a developer standpoint, it is important to treat each service as an independent unit of code. This makes it possible to deploy newer versions of services without disrupting the application. CI/CD pipelines should be designed to take advantage of the independent versioning.</p>\n\n<p>There are too many reasons and beyond scope of discussing in one answer why you need to have different projects per microservice, but for now, go for different project and you will discover once you are into microservices realm. </p>\n"},{"tags":[],"owner":{"account_id":480617,"reputation":2495,"user_id":893952,"accept_rate":57,"display_name":"Harry Coder"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1689282192,"creation_date":1680380289,"answer_id":75908633,"question_id":52456287,"body_markdown":"[Late Answer] The purpose of microservice architecture is to have isolated services working together. In practice, in enterprises, each microservice is managed by a single team. It is better to have:\r\n\r\n - Isolated projects, here you are free to use any technology\r\n - Each project with an associated repository, to be able to manage **CI/CD** easily and independently.\r\n\r\nRead this [course][1] for more details, about microservices organization in entreprises. You can find this definition from https://microservices.io/ very useful too:\r\n\r\n&gt; Microservices - also known as the microservice architecture - is an\r\n&gt; architectural style that structures an application as a collection of\r\n&gt; services that are:\r\n&gt; \r\n&gt; Independently deployable, \r\n&gt; Loosely coupled,\r\n&gt; Organized around business capabilities, \r\n&gt; Owned by a small team\r\n\r\n\r\n\r\n  [1]: https://www.pluralsight.com/courses/microservices-big-picture","title":"Microservices + Project in Intellij + Bitbucket","body":"<p>[Late Answer] The purpose of microservice architecture is to have isolated services working together. In practice, in enterprises, each microservice is managed by a single team. It is better to have:</p>\n<ul>\n<li>Isolated projects, here you are free to use any technology</li>\n<li>Each project with an associated repository, to be able to manage <strong>CI/CD</strong> easily and independently.</li>\n</ul>\n<p>Read this <a href=\"https://www.pluralsight.com/courses/microservices-big-picture\" rel=\"nofollow noreferrer\">course</a> for more details, about microservices organization in entreprises. You can find this definition from <a href=\"https://microservices.io/\" rel=\"nofollow noreferrer\">https://microservices.io/</a> very useful too:</p>\n<blockquote>\n<p>Microservices - also known as the microservice architecture - is an\narchitectural style that structures an application as a collection of\nservices that are:</p>\n<p>Independently deployable,\nLoosely coupled,\nOrganized around business capabilities,\nOwned by a small team</p>\n</blockquote>\n"}],"owner":{"account_id":7980951,"reputation":2003,"user_id":6022333,"accept_rate":100,"display_name":"Matley"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1474,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"accepted_answer_id":52456460,"answer_count":2,"score":3,"last_activity_date":1689282192,"creation_date":1537615905,"question_id":52456287,"body_markdown":"I&#39;d like to ask you about the structure of the project in **IntelliJ**. I&#39;d like to create my first web application based on microservices architecture. \r\n\r\nI&#39;d like to see all microservices in one project in **IntelliJ** as submodules. My question is if I should commit every microservice into separate repository in **BitBucket** or all microservices into one repository? What&#39;s the best practice?\r\n\r\n\r\nThank you,\r\nMatthew ","title":"Microservices + Project in Intellij + Bitbucket","body":"<p>I'd like to ask you about the structure of the project in <strong>IntelliJ</strong>. I'd like to create my first web application based on microservices architecture.</p>\n<p>I'd like to see all microservices in one project in <strong>IntelliJ</strong> as submodules. My question is if I should commit every microservice into separate repository in <strong>BitBucket</strong> or all microservices into one repository? What's the best practice?</p>\n<p>Thank you,\nMatthew</p>\n"},{"tags":["java","lwjgl"],"owner":{"account_id":29013045,"reputation":1,"user_id":22224116,"display_name":"xNtrow Dev"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689281898,"creation_date":1689281821,"question_id":76683192,"body_markdown":"I dont really know why after some time my app crash or it&#39;s give EXCEPTION_ACCESS_VIOLATION, maybe i&#39;m just bad using nvg memory but anyway if there are someone that can improve this code please help:\r\n\r\n```\r\nprivate void loadFont() {\r\n        try {\r\n            ByteBuffer fontData = readFileToByteBuffer(&quot;/textures/fonts/&quot; + fontName + &quot;.ttf&quot;);\r\n            ByteBuffer fontNameData = MemoryUtil.memUTF8(fontName);\r\n\r\n            if (nvgCreateFontMem(nvg, fontNameData, fontData, false) == -1) {\r\n                throw new IOException(&quot;Failed to load font: &quot; + fontName);\r\n            }\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n    private ByteBuffer readFileToByteBuffer(String resourcePath) {\r\n        try (InputStream inputStream = getClass().getResourceAsStream(resourcePath)) {\r\n            if (inputStream == null) {\r\n                System.err.println(&quot;Font file not found: &quot; + resourcePath);\r\n                return BufferUtils.createByteBuffer(0);\r\n            }\r\n\r\n            ByteArrayOutputStream buffer = new ByteArrayOutputStream();\r\n            byte[] data = new byte[4096];\r\n            int bytesRead;\r\n\r\n            while ((bytesRead = inputStream.read(data, 0, data.length)) != -1) {\r\n                buffer.write(data, 0, bytesRead);\r\n            }\r\n\r\n            buffer.flush();\r\n            byte[] fontBytes = buffer.toByteArray();\r\n\r\n            ByteBuffer byteBuffer = BufferUtils.createByteBuffer(fontBytes.length);\r\n            byteBuffer.put(fontBytes);\r\n            byteBuffer.flip();\r\n\r\n            return byteBuffer;\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n            return BufferUtils.createByteBuffer(0);\r\n        }\r\n    }\r\n```\r\nI&#39;m using this to load the font from the jar itself but seems it&#39;s work but then crash because of the bad memory usage ig","title":"NanoVG LWJGL3 Font Rendering","body":"<p>I dont really know why after some time my app crash or it's give EXCEPTION_ACCESS_VIOLATION, maybe i'm just bad using nvg memory but anyway if there are someone that can improve this code please help:</p>\n<pre><code>private void loadFont() {\n        try {\n            ByteBuffer fontData = readFileToByteBuffer(&quot;/textures/fonts/&quot; + fontName + &quot;.ttf&quot;);\n            ByteBuffer fontNameData = MemoryUtil.memUTF8(fontName);\n\n            if (nvgCreateFontMem(nvg, fontNameData, fontData, false) == -1) {\n                throw new IOException(&quot;Failed to load font: &quot; + fontName);\n            }\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n\n    private ByteBuffer readFileToByteBuffer(String resourcePath) {\n        try (InputStream inputStream = getClass().getResourceAsStream(resourcePath)) {\n            if (inputStream == null) {\n                System.err.println(&quot;Font file not found: &quot; + resourcePath);\n                return BufferUtils.createByteBuffer(0);\n            }\n\n            ByteArrayOutputStream buffer = new ByteArrayOutputStream();\n            byte[] data = new byte[4096];\n            int bytesRead;\n\n            while ((bytesRead = inputStream.read(data, 0, data.length)) != -1) {\n                buffer.write(data, 0, bytesRead);\n            }\n\n            buffer.flush();\n            byte[] fontBytes = buffer.toByteArray();\n\n            ByteBuffer byteBuffer = BufferUtils.createByteBuffer(fontBytes.length);\n            byteBuffer.put(fontBytes);\n            byteBuffer.flip();\n\n            return byteBuffer;\n        } catch (IOException e) {\n            e.printStackTrace();\n            return BufferUtils.createByteBuffer(0);\n        }\n    }\n</code></pre>\n<p>I'm using this to load the font from the jar itself but seems it's work but then crash because of the bad memory usage ig</p>\n"},{"tags":["java","hibernate","spring-data-jpa","table-per-class"],"owner":{"account_id":21377114,"reputation":3,"user_id":15743654,"display_name":"Zygmunt Sześcian"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689281822,"creation_date":1689281822,"question_id":76683193,"body_markdown":"I have two entities:\r\n\r\n```\r\n@Entity\r\n@Inheritance(strategy = InheritanceType.TABLE_PER_CLASS)\r\npublic class Employee {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    private Long id;\r\n\r\n    private String name;\r\n}\r\n```\r\n\r\nand\r\n\r\n\r\n```\r\n@Entity\r\npublic class ActiveEmployee extends Employee {\r\n\r\n    private Double salary;\r\n\r\n    private Date date;\r\n}\r\n```\r\n\r\nNow I want to get all records from two tables and I don&#39;t how to do it?\r\n\r\nIf I use EmployeeRepository and method findAll() I have also records from ActiveEmployee but without its own fields salary and date. I want to get records with this fields and when it is Employee this fields should be null. How to join this tables?","title":"TABLE_PER_CLASS Inheritance how can I get all records from two tables","body":"<p>I have two entities:</p>\n<pre><code>@Entity\n@Inheritance(strategy = InheritanceType.TABLE_PER_CLASS)\npublic class Employee {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private Long id;\n\n    private String name;\n}\n</code></pre>\n<p>and</p>\n<pre><code>@Entity\npublic class ActiveEmployee extends Employee {\n\n    private Double salary;\n\n    private Date date;\n}\n</code></pre>\n<p>Now I want to get all records from two tables and I don't how to do it?</p>\n<p>If I use EmployeeRepository and method findAll() I have also records from ActiveEmployee but without its own fields salary and date. I want to get records with this fields and when it is Employee this fields should be null. How to join this tables?</p>\n"},{"tags":["java","android","android-fileprovider"],"comments":[{"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"score":3,"creation_date":1681679304,"post_id":76030243,"comment_id":134091432,"body_markdown":"What&#39;s the crash?  Is it in your app or the other app?","body":"What&#39;s the crash?  Is it in your app or the other app?"},{"owner":{"account_id":39846,"reputation":991133,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":2,"creation_date":1681679701,"post_id":76030243,"comment_id":134091475,"body_markdown":"Use Logcat to examine the stack trace associated with your crash, if that crash is in your app: https://commonsware.com/Jetpack/pages/chap-debug-001.html","body":"Use Logcat to examine the stack trace associated with your crash, if that crash is in your app: <a href=\"https://commonsware.com/Jetpack/pages/chap-debug-001.html\" rel=\"nofollow noreferrer\">commonsware.com/Jetpack/pages/chap-debug-001.html</a>"}],"owner":{"account_id":28323463,"reputation":1,"user_id":21658862,"display_name":"Andrey"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689281120,"creation_date":1681677794,"question_id":76030243,"body_markdown":"I am quite new in android programming and writing shop assistant with scan from camera. I use fileprovider to not loose quality of photos using standard camera app. But on some phones app crash on moment of taking picture when I press tick in camera app:\r\n\r\n[In this moment i press tick and app crashes on Some phones (but on some works)](https://i.stack.imgur.com/nelQY.png)\r\n\r\nHere is my code of provider:\r\n\r\nManifest:\r\n```\r\n&lt;provider\r\n            android:name=&quot;androidx.core.content.FileProvider&quot;\r\n            android:authorities=&quot;${applicationId}.provider&quot;\r\n            android:exported=&quot;false&quot;\r\n            android:grantUriPermissions=&quot;true&quot;&gt;\r\n            &lt;meta-data\r\n                android:name=&quot;android.support.FILE_PROVIDER_PATHS&quot;\r\n                android:resource=&quot;@xml/provider_paths&quot; /&gt;\r\n        &lt;/provider&gt;\r\n```\r\n\r\n \r\n\r\n\r\nprovider_paths:\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;paths&gt;\r\n    &lt;external-path name=&quot;external_files&quot; path=&quot;/&quot;/&gt;\r\n&lt;/paths&gt;\r\n```\r\n\r\n\r\ntaking picture:\r\n```\r\nprivate void takePicture() {\r\n        try{\r\n            Intent cameraIntent = new Intent(android.provider.MediaStore.ACTION_IMAGE_CAPTURE);\r\n            try {\r\n                String timeStamp = new SimpleDateFormat(&quot;yyyyMMdd_HHmmss&quot;).format(new Date());\r\n                String imageFileName = timeStamp + &quot;.jpg&quot;;\r\n                File storageDir = Environment.getExternalStoragePublicDirectory(\r\n                        Environment.DIRECTORY_PICTURES);\r\n                pictureImagePath = storageDir.getAbsolutePath() + &quot;/&quot; + imageFileName;\r\n                File file = new File(pictureImagePath);\r\n                Uri outputFileUri = FileProvider.getUriForFile(this, this.getApplicationContext().getPackageName() + &quot;.provider&quot;, file);\r\n                cameraIntent.putExtra(MediaStore.EXTRA_OUTPUT, outputFileUri);\r\n            } catch (Exception ignored) {\r\n\r\n            } finally {\r\n                someActivityResultLauncher.launch(cameraIntent);\r\n            }\r\n        }catch (ActivityNotFoundException e){\r\n            Toast.makeText(this, getString(R.string.camera_not_recog), Toast.LENGTH_SHORT).show();\r\n        }\r\n    }\r\n\r\n    ActivityResultLauncher&lt;Intent&gt; someActivityResultLauncher = registerForActivityResult(\r\n            new ActivityResultContracts.StartActivityForResult(),\r\n            new ActivityResultCallback&lt;ActivityResult&gt;() {\r\n                /**\r\n                 * Method to take user&#39;s photo\r\n                 * @param result\r\n                 */\r\n                @Override\r\n                public void onActivityResult(ActivityResult result) {\r\n                    if (result.getResultCode() == Activity.RESULT_OK) {\r\n                        Intent data = result.getData();\r\n                        try {\r\n                            File imgFile = new File(pictureImagePath);\r\n                            // Check if file exists\r\n                            if (imgFile.exists()) {\r\n                                bitmap = BitmapFactory.decodeFile(imgFile.getAbsolutePath());\r\n                            } else {\r\n                                assert data != null;\r\n                                Bundle extras = data.getExtras();\r\n                                bitmap = (Bitmap) extras.get(&quot;data&quot;);\r\n                            }\r\n                        } catch (Exception e) {\r\n                            assert data != null;\r\n                            Bundle extras = data.getExtras();\r\n                            bitmap = (Bitmap) extras.get(&quot;data&quot;);\r\n                        } finally {\r\n                            Intent intent = new Intent(getApplicationContext(), CameraActivity.class);\r\n                            startActivity(intent);\r\n                        }\r\n                    }\r\n                }\r\n            });\r\n```\r\n\r\n","title":"Why doesn&#39;t FileProvider work everywhere?","body":"<p>I am quite new in android programming and writing shop assistant with scan from camera. I use fileprovider to not loose quality of photos using standard camera app. But on some phones app crash on moment of taking picture when I press tick in camera app:</p>\n<p><a href=\"https://i.stack.imgur.com/nelQY.png\" rel=\"nofollow noreferrer\">In this moment i press tick and app crashes on Some phones (but on some works)</a></p>\n<p>Here is my code of provider:</p>\n<p>Manifest:</p>\n<pre><code>&lt;provider\n            android:name=&quot;androidx.core.content.FileProvider&quot;\n            android:authorities=&quot;${applicationId}.provider&quot;\n            android:exported=&quot;false&quot;\n            android:grantUriPermissions=&quot;true&quot;&gt;\n            &lt;meta-data\n                android:name=&quot;android.support.FILE_PROVIDER_PATHS&quot;\n                android:resource=&quot;@xml/provider_paths&quot; /&gt;\n        &lt;/provider&gt;\n</code></pre>\n<p>provider_paths:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;paths&gt;\n    &lt;external-path name=&quot;external_files&quot; path=&quot;/&quot;/&gt;\n&lt;/paths&gt;\n</code></pre>\n<p>taking picture:</p>\n<pre><code>private void takePicture() {\n        try{\n            Intent cameraIntent = new Intent(android.provider.MediaStore.ACTION_IMAGE_CAPTURE);\n            try {\n                String timeStamp = new SimpleDateFormat(&quot;yyyyMMdd_HHmmss&quot;).format(new Date());\n                String imageFileName = timeStamp + &quot;.jpg&quot;;\n                File storageDir = Environment.getExternalStoragePublicDirectory(\n                        Environment.DIRECTORY_PICTURES);\n                pictureImagePath = storageDir.getAbsolutePath() + &quot;/&quot; + imageFileName;\n                File file = new File(pictureImagePath);\n                Uri outputFileUri = FileProvider.getUriForFile(this, this.getApplicationContext().getPackageName() + &quot;.provider&quot;, file);\n                cameraIntent.putExtra(MediaStore.EXTRA_OUTPUT, outputFileUri);\n            } catch (Exception ignored) {\n\n            } finally {\n                someActivityResultLauncher.launch(cameraIntent);\n            }\n        }catch (ActivityNotFoundException e){\n            Toast.makeText(this, getString(R.string.camera_not_recog), Toast.LENGTH_SHORT).show();\n        }\n    }\n\n    ActivityResultLauncher&lt;Intent&gt; someActivityResultLauncher = registerForActivityResult(\n            new ActivityResultContracts.StartActivityForResult(),\n            new ActivityResultCallback&lt;ActivityResult&gt;() {\n                /**\n                 * Method to take user's photo\n                 * @param result\n                 */\n                @Override\n                public void onActivityResult(ActivityResult result) {\n                    if (result.getResultCode() == Activity.RESULT_OK) {\n                        Intent data = result.getData();\n                        try {\n                            File imgFile = new File(pictureImagePath);\n                            // Check if file exists\n                            if (imgFile.exists()) {\n                                bitmap = BitmapFactory.decodeFile(imgFile.getAbsolutePath());\n                            } else {\n                                assert data != null;\n                                Bundle extras = data.getExtras();\n                                bitmap = (Bitmap) extras.get(&quot;data&quot;);\n                            }\n                        } catch (Exception e) {\n                            assert data != null;\n                            Bundle extras = data.getExtras();\n                            bitmap = (Bitmap) extras.get(&quot;data&quot;);\n                        } finally {\n                            Intent intent = new Intent(getApplicationContext(), CameraActivity.class);\n                            startActivity(intent);\n                        }\n                    }\n                }\n            });\n</code></pre>\n"},{"tags":["java","selenium-webdriver","headless","google-chrome-headless"],"answers":[{"tags":[],"owner":{"account_id":10049107,"reputation":186627,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689280267,"creation_date":1689280267,"answer_id":76683044,"question_id":76682574,"body_markdown":"You can initiate two [ChromeDriver](https://stackoverflow.com/a/48080871/7429447) initiated [tag:google-chrome] _browsing context_ simultaneously as follows:\r\n\r\n\tChromeOptions options = new ChromeOptions();\r\n\toptions.addArguments(&quot;--start-maximized&quot;);\r\n\t\r\n\tWebDriver driver1 = new ChromeDriver(options);\r\n\tdriver1.get(&quot;https://www.google.com&quot;);\r\n\t\r\n\tWebDriver driver2 = new ChromeDriver(options);\r\n\tdriver2.get(&quot;https://www.bing.com/&quot;);\r\n\t\r\nand [switch focus between them](https://stackoverflow.com/a/49220645/7429447) as follows: \r\n\r\n\t((JavascriptExecutor) driver1).executeScript(&quot;window.focus();&quot;);\r\n\t((JavascriptExecutor) driver2).executeScript(&quot;window.focus();&quot;);","title":"Having multiple concurrent Selenium Webdriver sessions connected to the same chrome headless process","body":"<p>You can initiate two <a href=\"https://stackoverflow.com/a/48080871/7429447\">ChromeDriver</a> initiated <a href=\"/questions/tagged/google-chrome\" class=\"post-tag\" title=\"show questions tagged &#39;google-chrome&#39;\" aria-label=\"show questions tagged &#39;google-chrome&#39;\" rel=\"tag\" aria-labelledby=\"tag-google-chrome-tooltip-container\">google-chrome</a> <em>browsing context</em> simultaneously as follows:</p>\n<pre><code>ChromeOptions options = new ChromeOptions();\noptions.addArguments(&quot;--start-maximized&quot;);\n\nWebDriver driver1 = new ChromeDriver(options);\ndriver1.get(&quot;https://www.google.com&quot;);\n\nWebDriver driver2 = new ChromeDriver(options);\ndriver2.get(&quot;https://www.bing.com/&quot;);\n</code></pre>\n<p>and <a href=\"https://stackoverflow.com/a/49220645/7429447\">switch focus between them</a> as follows:</p>\n<pre><code>((JavascriptExecutor) driver1).executeScript(&quot;window.focus();&quot;);\n((JavascriptExecutor) driver2).executeScript(&quot;window.focus();&quot;);\n</code></pre>\n"}],"owner":{"account_id":2987419,"reputation":1969,"user_id":2535843,"accept_rate":76,"display_name":"Mahdi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":127,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1689280267,"creation_date":1689275689,"question_id":76682574,"body_markdown":"Is there a way to have one chromedriver process instance running but have two different Selenium WebDrivers connected to it where both run code at the same time? (e.g. navigate to a URL, click on a button, ...)?\r\n\r\nI know that I can open two different pages on the same headless browser and switch between them, but I want to do both processings simultaneously, so that won&#39;t work for me.\r\n\r\nI&#39;m writing this in Java.","title":"Having multiple concurrent Selenium Webdriver sessions connected to the same chrome headless process","body":"<p>Is there a way to have one chromedriver process instance running but have two different Selenium WebDrivers connected to it where both run code at the same time? (e.g. navigate to a URL, click on a button, ...)?</p>\n<p>I know that I can open two different pages on the same headless browser and switch between them, but I want to do both processings simultaneously, so that won't work for me.</p>\n<p>I'm writing this in Java.</p>\n"},{"tags":["java","frameworks","chromium-embedded"],"answers":[{"tags":[],"owner":{"account_id":9067781,"reputation":30720,"user_id":6752050,"display_name":"273K"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689280100,"creation_date":1689280100,"answer_id":76683023,"question_id":76678868,"body_markdown":"You have built JNI for CEF. You have to build CEF in accordance to the manual https://bitbucket.org/chromiumembedded/cef/wiki/MasterBuildQuickStart and optional https://bitbucket.org/chromiumembedded/cef/wiki/BranchesAndBuilding. They use update.bat or update.sh.\r\n\r\nIf you build libcef successfully, you can replace the old libcef. ","title":"JCEF Build with H.264 Codec","body":"<p>You have built JNI for CEF. You have to build CEF in accordance to the manual <a href=\"https://bitbucket.org/chromiumembedded/cef/wiki/MasterBuildQuickStart\" rel=\"nofollow noreferrer\">https://bitbucket.org/chromiumembedded/cef/wiki/MasterBuildQuickStart</a> and optional <a href=\"https://bitbucket.org/chromiumembedded/cef/wiki/BranchesAndBuilding\" rel=\"nofollow noreferrer\">https://bitbucket.org/chromiumembedded/cef/wiki/BranchesAndBuilding</a>. They use update.bat or update.sh.</p>\n<p>If you build libcef successfully, you can replace the old libcef.</p>\n"}],"owner":{"account_id":15728956,"reputation":19,"user_id":11349751,"display_name":"Guenni97"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":114,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1689280100,"creation_date":1689247696,"question_id":76678868,"body_markdown":"for my project I want to integrate the java chromium embedded framework. I was able to build it by myself with this tutorial:https://bitbucket.org/chromiumembedded/java-cef/wiki/BranchesAndBuilding\r\n\r\nIn this builded version the browser is not capable of showing mp4 files / h.264 codecs.\r\nHow is it possible to activate mp4 codec?\r\n\r\nI have read this answer: https://stackoverflow.com/questions/43845493/how-to-enable-h264-support-in-cef3-latest-version\r\n\r\nBut i cannot find the update.bat. Where is it located?\r\n\r\nThank you very much!","title":"JCEF Build with H.264 Codec","body":"<p>for my project I want to integrate the java chromium embedded framework. I was able to build it by myself with this tutorial:<a href=\"https://bitbucket.org/chromiumembedded/java-cef/wiki/BranchesAndBuilding\" rel=\"nofollow noreferrer\">https://bitbucket.org/chromiumembedded/java-cef/wiki/BranchesAndBuilding</a></p>\n<p>In this builded version the browser is not capable of showing mp4 files / h.264 codecs.\nHow is it possible to activate mp4 codec?</p>\n<p>I have read this answer: <a href=\"https://stackoverflow.com/questions/43845493/how-to-enable-h264-support-in-cef3-latest-version\">How to enable H264 support in CEF3 latest version ?</a></p>\n<p>But i cannot find the update.bat. Where is it located?</p>\n<p>Thank you very much!</p>\n"},{"tags":["java","mongodb","multithreading"],"owner":{"account_id":10815791,"reputation":347,"user_id":8375274,"accept_rate":50,"display_name":"m.y.m"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689279004,"creation_date":1689279004,"question_id":76682922,"body_markdown":"I&#39;m running a Java application that spawns multiple threads taking care of writing objects to a mongoDB collection. The input is a huge list of objects, and each thread is taking care of a portion of this list. \r\n\r\nI run the code with relatively small loads around 20K documents and it works Perfect. But when the list size exceeds a certain threshold. I start getting `WriteConflict` exception from MongoDB, even though I verified that each thread is operating on a separate portion of the list and they&#39;re not overlapping nor trying to persist same documents twice. \r\n\r\nWhat can be the cause for such Exception? The exception message is not quite helpful.","title":"MongoDB documents write conflicts in multi-threaded application","body":"<p>I'm running a Java application that spawns multiple threads taking care of writing objects to a mongoDB collection. The input is a huge list of objects, and each thread is taking care of a portion of this list.</p>\n<p>I run the code with relatively small loads around 20K documents and it works Perfect. But when the list size exceeds a certain threshold. I start getting <code>WriteConflict</code> exception from MongoDB, even though I verified that each thread is operating on a separate portion of the list and they're not overlapping nor trying to persist same documents twice.</p>\n<p>What can be the cause for such Exception? The exception message is not quite helpful.</p>\n"},{"tags":["java","spring","spring-boot","maven","apache-commons-logging"],"comments":[{"owner":{"account_id":4688171,"reputation":11056,"user_id":3795036,"accept_rate":88,"display_name":"K.Nicholas"},"score":1,"creation_date":1689280891,"post_id":76682917,"comment_id":135195396,"body_markdown":"Look here `org.springframework:spring-jcl:jar:5.3.20:compile`.","body":"Look here <code>org.springframework:spring-jcl:jar:5.3.20:compile</code>."},{"owner":{"account_id":6749614,"reputation":654,"user_id":5200064,"accept_rate":80,"display_name":"lmk"},"score":0,"creation_date":1689282064,"post_id":76682917,"comment_id":135195560,"body_markdown":"@K.Nicholas Thank you for that pointer! So it looks like the documentation (the logging part I referred above) needs an update to say that Spring Boot uses Spring Commons Logging, which btw [appears](https://github.com/spring-projects/spring-framework/issues/20611#issuecomment-453462024) indeed to be a kind of fork of Apache Commons Logging.","body":"@K.Nicholas Thank you for that pointer! So it looks like the documentation (the logging part I referred above) needs an update to say that Spring Boot uses Spring Commons Logging, which btw <a href=\"https://github.com/spring-projects/spring-framework/issues/20611#issuecomment-453462024\" rel=\"nofollow noreferrer\">appears</a> indeed to be a kind of fork of Apache Commons Logging."},{"owner":{"account_id":6749614,"reputation":654,"user_id":5200064,"accept_rate":80,"display_name":"lmk"},"score":0,"creation_date":1689282291,"post_id":76682917,"comment_id":135195587,"body_markdown":"@K.Nicholas Please feel free to answer &amp; I can mark accordingly (in case someone else comes along &amp; misses the comments). Thanks once again for your time!","body":"@K.Nicholas Please feel free to answer &amp; I can mark accordingly (in case someone else comes along &amp; misses the comments). Thanks once again for your time!"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1689317744,"post_id":76682917,"comment_id":135199090,"body_markdown":"It uses the Commons Logging API but it has been included in Spring itself for various reasons. The reason for this is [in the original issue](https://github.com/spring-projects/spring-framework/issues/19081?page=com.atlassian.jira.plugin.system.issuetabpanels:all-tabpanel). So it is still the Commons Logging API (You could even include it if you like).","body":"It uses the Commons Logging API but it has been included in Spring itself for various reasons. The reason for this is <a href=\"https://github.com/spring-projects/spring-framework/issues/19081?page=com.atlassian.jira.plugin.system.issuetabpanels:all-tabpanel\" rel=\"nofollow noreferrer\">in the original issue</a>. So it is still the Commons Logging API (You could even include it if you like)."},{"owner":{"account_id":6749614,"reputation":654,"user_id":5200064,"accept_rate":80,"display_name":"lmk"},"score":0,"creation_date":1689366197,"post_id":76682917,"comment_id":135208810,"body_markdown":"Thanks @M.Deinum for that additional link with more details on the team thinking that went into the fork. I certainly don&#39;t want to include Apache Commons Logging at all, quite the contrary I want to avoid packaging that as some customers don&#39;t prefer old libraries being packaged. Btw, as I mentioned in the [above](https://github.com/spring-projects/spring-framework/issues/20611#issuecomment-453462024) comment it might help to correct the documentation to note (at the least) the fact that Spring uses Spring Commons Logging which is forked from Apache Commons Logging &amp; only uses its API.","body":"Thanks @M.Deinum for that additional link with more details on the team thinking that went into the fork. I certainly don&#39;t want to include Apache Commons Logging at all, quite the contrary I want to avoid packaging that as some customers don&#39;t prefer old libraries being packaged. Btw, as I mentioned in the <a href=\"https://github.com/spring-projects/spring-framework/issues/20611#issuecomment-453462024\" rel=\"nofollow noreferrer\">above</a> comment it might help to correct the documentation to note (at the least) the fact that Spring uses Spring Commons Logging which is forked from Apache Commons Logging &amp; only uses its API."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1689575508,"post_id":76682917,"comment_id":135227160,"body_markdown":"As Spring depends on the API it will need it and it isn&#39;t Spring COmmons Logging it is still Apache Commons Logging.","body":"As Spring depends on the API it will need it and it isn&#39;t Spring COmmons Logging it is still Apache Commons Logging."},{"owner":{"account_id":6749614,"reputation":654,"user_id":5200064,"accept_rate":80,"display_name":"lmk"},"score":0,"creation_date":1689632753,"post_id":76682917,"comment_id":135238522,"body_markdown":"@M.Deinum Thanks for your response, but just to clear my confusion, my understanding of Spring Commons Logging comes from seeing references to it [here](https://docs.spring.io/spring-framework/reference/core/spring-jcl.html) &amp; [here](https://mvnrepository.com/artifact/org.springframework/spring-jcl) and it made sense aswell given the discussion in the two git issue links referred above that went into the change. If we are to say otherwise (that it is still Apache Commons Logging) then the above 2 may need correction...","body":"@M.Deinum Thanks for your response, but just to clear my confusion, my understanding of Spring Commons Logging comes from seeing references to it <a href=\"https://docs.spring.io/spring-framework/reference/core/spring-jcl.html\" rel=\"nofollow noreferrer\">here</a> &amp; <a href=\"https://mvnrepository.com/artifact/org.springframework/spring-jcl\" rel=\"nofollow noreferrer\">here</a> and it made sense aswell given the discussion in the two git issue links referred above that went into the change. If we are to say otherwise (that it is still Apache Commons Logging) then the above 2 may need correction..."},{"owner":{"account_id":6749614,"reputation":654,"user_id":5200064,"accept_rate":80,"display_name":"lmk"},"score":1,"creation_date":1689634497,"post_id":76682917,"comment_id":135238726,"body_markdown":"Below is why I am not convinced we can say it is still Apache Commons Logging,\n1. Apache Commons Logging artifact is technically _no longer a dependency_ from spring&#39;s core artifacts/starters (as we have forked out to `spring-jcl`) &amp; is _not needed_ to run Spring apps.\n2. While the API may have been retained in the fork (due to considerations discussed/noted in git issue links) the underlying implementation is not the same as noted [here](https://github.com/spring-projects/spring-framework/issues/19081?page=com.atlassian.jira.plugin.system.issuetabpanels:all-tabpanel#issuecomment-453442669)","body":"Below is why I am not convinced we can say it is still Apache Commons Logging, 1. Apache Commons Logging artifact is technically <i>no longer a dependency</i> from spring&#39;s core artifacts/starters (as we have forked out to <code>spring-jcl</code>) &amp; is <i>not needed</i> to run Spring apps. 2. While the API may have been retained in the fork (due to considerations discussed/noted in git issue links) the underlying implementation is not the same as noted <a href=\"https://github.com/spring-projects/spring-framework/issues/19081?page=com.atlassian.jira.plugin.system.issuetabpanels:all-tabpanel#issuecomment-453442669\" rel=\"nofollow noreferrer\">here</a>"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1689658976,"post_id":76682917,"comment_id":135240806,"body_markdown":"The API is still the commons logging API, hence it still is commons logging. All classes, frameworks etc. that use commons logging can use `spring-jcl`. From an API perspective this is still Apache Commons Logging (that is my approach to things, the API is still the same). The only reason to keep the API the same is binary compatibility (moving to SLF4J would have changed the signatures).","body":"The API is still the commons logging API, hence it still is commons logging. All classes, frameworks etc. that use commons logging can use <code>spring-jcl</code>. From an API perspective this is still Apache Commons Logging (that is my approach to things, the API is still the same). The only reason to keep the API the same is binary compatibility (moving to SLF4J would have changed the signatures)."},{"owner":{"account_id":6749614,"reputation":654,"user_id":5200064,"accept_rate":80,"display_name":"lmk"},"score":0,"creation_date":1689722580,"post_id":76682917,"comment_id":135253016,"body_markdown":"@M.Deinum Thank you, I see where you are coming from now from a dev/eng perspective. Only nuance here is unlike pure API specs (like JTA/JPA) which are deployable via their respective artifacts with chosen implementation (BTM/JTA, Hibernate/JPA) here we are talking about the bound API of commons logging where in there is no _contract_ whatsoever that, 1. A future change (however unlikely it is) made in commons logging&#39;s API would be adhered to in `spring-jcl` &amp; 2. `spring-jcl` would not have its API modified _in the future_ in any way so as to &#39;break&#39; the API _contract_ of commons logging.","body":"@M.Deinum Thank you, I see where you are coming from now from a dev/eng perspective. Only nuance here is unlike pure API specs (like JTA/JPA) which are deployable via their respective artifacts with chosen implementation (BTM/JTA, Hibernate/JPA) here we are talking about the bound API of commons logging where in there is no <i>contract</i> whatsoever that, 1. A future change (however unlikely it is) made in commons logging&#39;s API would be adhered to in <code>spring-jcl</code> &amp; 2. <code>spring-jcl</code> would not have its API modified <i>in the future</i> in any way so as to &#39;break&#39; the API <i>contract</i> of commons logging."}],"owner":{"account_id":6749614,"reputation":654,"user_id":5200064,"accept_rate":80,"display_name":"lmk"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":162,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1689278966,"creation_date":1689278966,"question_id":76682917,"body_markdown":"I see in the Spring Boot [documentation][1] that, \r\n\r\n&gt; Spring Boot uses Commons Logging for all internal logging...\r\n\r\nHowever when I search for a (maven) dependency to [Apache Commons Logging][2] from Spring Boot artifacts I don&#39;t see any dependency references to it. \r\n\r\nDoes Spring Boot use a separate internal fork perhaps of [Apache Commons Logging][2]? or am I missing something?\r\n\r\nI couldn&#39;t find much in this connection online. Does someone know &amp; can help share pointers?\r\n\r\nBelow for example is the dependency tree for `org.springframework.boot:spring-boot-starter-web:jar:2.7.0`\r\n\r\n    [INFO] Scanning for projects...\r\n    [INFO] \r\n    [INFO] ------------&lt; dcm.dev.util:maven-dependency-resolver-tool &gt;-------------\r\n    [INFO] Building maven-dependency-resolver-tool 1.0\r\n    [INFO] --------------------------------[ jar ]---------------------------------\r\n    [INFO] \r\n    [INFO] --- maven-dependency-plugin:3.2.0:tree (default-cli) @ maven-dependency-resolver-tool ---\r\n    [INFO] dcm.dev.util:maven-dependency-resolver-tool:jar:1.0\r\n    [INFO] \\- org.springframework.boot:spring-boot-starter-web:jar:2.7.0:compile\r\n    [INFO]    +- org.springframework.boot:spring-boot-starter:jar:2.7.0:compile\r\n    [INFO]    |  +- org.springframework.boot:spring-boot:jar:2.7.0:compile\r\n    [INFO]    |  +- org.springframework.boot:spring-boot-autoconfigure:jar:2.7.0:compile\r\n    [INFO]    |  +- org.springframework.boot:spring-boot-starter-logging:jar:2.7.0:compile\r\n    [INFO]    |  |  +- ch.qos.logback:logback-classic:jar:1.2.11:compile\r\n    [INFO]    |  |  |  +- ch.qos.logback:logback-core:jar:1.2.11:compile\r\n    [INFO]    |  |  |  \\- org.slf4j:slf4j-api:jar:1.7.32:compile\r\n    [INFO]    |  |  +- org.apache.logging.log4j:log4j-to-slf4j:jar:2.17.2:compile\r\n    [INFO]    |  |  |  \\- org.apache.logging.log4j:log4j-api:jar:2.17.2:compile\r\n    [INFO]    |  |  \\- org.slf4j:jul-to-slf4j:jar:1.7.36:compile\r\n    [INFO]    |  +- jakarta.annotation:jakarta.annotation-api:jar:1.3.5:compile\r\n    [INFO]    |  +- org.springframework:spring-core:jar:5.3.20:compile\r\n    [INFO]    |  |  \\- org.springframework:spring-jcl:jar:5.3.20:compile\r\n    [INFO]    |  \\- org.yaml:snakeyaml:jar:1.30:compile\r\n    [INFO]    +- org.springframework.boot:spring-boot-starter-json:jar:2.7.0:compile\r\n    [INFO]    |  +- com.fasterxml.jackson.core:jackson-databind:jar:2.13.3:compile\r\n    [INFO]    |  |  +- com.fasterxml.jackson.core:jackson-annotations:jar:2.13.3:compile\r\n    [INFO]    |  |  \\- com.fasterxml.jackson.core:jackson-core:jar:2.13.3:compile\r\n    [INFO]    |  +- com.fasterxml.jackson.datatype:jackson-datatype-jdk8:jar:2.13.3:compile\r\n    [INFO]    |  +- com.fasterxml.jackson.datatype:jackson-datatype-jsr310:jar:2.13.3:compile\r\n    [INFO]    |  \\- com.fasterxml.jackson.module:jackson-module-parameter-names:jar:2.13.3:compile\r\n    [INFO]    +- org.springframework.boot:spring-boot-starter-tomcat:jar:2.7.0:compile\r\n    [INFO]    |  +- org.apache.tomcat.embed:tomcat-embed-core:jar:9.0.63:compile\r\n    [INFO]    |  +- org.apache.tomcat.embed:tomcat-embed-el:jar:9.0.63:compile\r\n    [INFO]    |  \\- org.apache.tomcat.embed:tomcat-embed-websocket:jar:9.0.63:compile\r\n    [INFO]    +- org.springframework:spring-web:jar:5.3.20:compile\r\n    [INFO]    |  \\- org.springframework:spring-beans:jar:5.3.20:compile\r\n    [INFO]    \\- org.springframework:spring-webmvc:jar:5.3.20:compile\r\n    [INFO]       +- org.springframework:spring-aop:jar:5.3.20:compile\r\n    [INFO]       +- org.springframework:spring-context:jar:5.3.20:compile\r\n    [INFO]       \\- org.springframework:spring-expression:jar:5.3.20:compile\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] BUILD SUCCESS\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] Total time:  03:39 min\r\n    [INFO] Finished at: 2023-07-13T13:40:38-06:00\r\n    [INFO] ------------------------------------------------------------------------\r\n\r\n\r\nThanks\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/current/reference/html/features.html#features.logging\r\n  [2]: https://commons.apache.org/proper/commons-logging/","title":"How does Spring Boot really use Apache Commons Logging given I don&#39;t see a dependency to it from Spring Boot","body":"<p>I see in the Spring Boot <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/features.html#features.logging\" rel=\"nofollow noreferrer\">documentation</a> that,</p>\n<blockquote>\n<p>Spring Boot uses Commons Logging for all internal logging...</p>\n</blockquote>\n<p>However when I search for a (maven) dependency to <a href=\"https://commons.apache.org/proper/commons-logging/\" rel=\"nofollow noreferrer\">Apache Commons Logging</a> from Spring Boot artifacts I don't see any dependency references to it.</p>\n<p>Does Spring Boot use a separate internal fork perhaps of <a href=\"https://commons.apache.org/proper/commons-logging/\" rel=\"nofollow noreferrer\">Apache Commons Logging</a>? or am I missing something?</p>\n<p>I couldn't find much in this connection online. Does someone know &amp; can help share pointers?</p>\n<p>Below for example is the dependency tree for <code>org.springframework.boot:spring-boot-starter-web:jar:2.7.0</code></p>\n<pre><code>[INFO] Scanning for projects...\n[INFO] \n[INFO] ------------&lt; dcm.dev.util:maven-dependency-resolver-tool &gt;-------------\n[INFO] Building maven-dependency-resolver-tool 1.0\n[INFO] --------------------------------[ jar ]---------------------------------\n[INFO] \n[INFO] --- maven-dependency-plugin:3.2.0:tree (default-cli) @ maven-dependency-resolver-tool ---\n[INFO] dcm.dev.util:maven-dependency-resolver-tool:jar:1.0\n[INFO] \\- org.springframework.boot:spring-boot-starter-web:jar:2.7.0:compile\n[INFO]    +- org.springframework.boot:spring-boot-starter:jar:2.7.0:compile\n[INFO]    |  +- org.springframework.boot:spring-boot:jar:2.7.0:compile\n[INFO]    |  +- org.springframework.boot:spring-boot-autoconfigure:jar:2.7.0:compile\n[INFO]    |  +- org.springframework.boot:spring-boot-starter-logging:jar:2.7.0:compile\n[INFO]    |  |  +- ch.qos.logback:logback-classic:jar:1.2.11:compile\n[INFO]    |  |  |  +- ch.qos.logback:logback-core:jar:1.2.11:compile\n[INFO]    |  |  |  \\- org.slf4j:slf4j-api:jar:1.7.32:compile\n[INFO]    |  |  +- org.apache.logging.log4j:log4j-to-slf4j:jar:2.17.2:compile\n[INFO]    |  |  |  \\- org.apache.logging.log4j:log4j-api:jar:2.17.2:compile\n[INFO]    |  |  \\- org.slf4j:jul-to-slf4j:jar:1.7.36:compile\n[INFO]    |  +- jakarta.annotation:jakarta.annotation-api:jar:1.3.5:compile\n[INFO]    |  +- org.springframework:spring-core:jar:5.3.20:compile\n[INFO]    |  |  \\- org.springframework:spring-jcl:jar:5.3.20:compile\n[INFO]    |  \\- org.yaml:snakeyaml:jar:1.30:compile\n[INFO]    +- org.springframework.boot:spring-boot-starter-json:jar:2.7.0:compile\n[INFO]    |  +- com.fasterxml.jackson.core:jackson-databind:jar:2.13.3:compile\n[INFO]    |  |  +- com.fasterxml.jackson.core:jackson-annotations:jar:2.13.3:compile\n[INFO]    |  |  \\- com.fasterxml.jackson.core:jackson-core:jar:2.13.3:compile\n[INFO]    |  +- com.fasterxml.jackson.datatype:jackson-datatype-jdk8:jar:2.13.3:compile\n[INFO]    |  +- com.fasterxml.jackson.datatype:jackson-datatype-jsr310:jar:2.13.3:compile\n[INFO]    |  \\- com.fasterxml.jackson.module:jackson-module-parameter-names:jar:2.13.3:compile\n[INFO]    +- org.springframework.boot:spring-boot-starter-tomcat:jar:2.7.0:compile\n[INFO]    |  +- org.apache.tomcat.embed:tomcat-embed-core:jar:9.0.63:compile\n[INFO]    |  +- org.apache.tomcat.embed:tomcat-embed-el:jar:9.0.63:compile\n[INFO]    |  \\- org.apache.tomcat.embed:tomcat-embed-websocket:jar:9.0.63:compile\n[INFO]    +- org.springframework:spring-web:jar:5.3.20:compile\n[INFO]    |  \\- org.springframework:spring-beans:jar:5.3.20:compile\n[INFO]    \\- org.springframework:spring-webmvc:jar:5.3.20:compile\n[INFO]       +- org.springframework:spring-aop:jar:5.3.20:compile\n[INFO]       +- org.springframework:spring-context:jar:5.3.20:compile\n[INFO]       \\- org.springframework:spring-expression:jar:5.3.20:compile\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD SUCCESS\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time:  03:39 min\n[INFO] Finished at: 2023-07-13T13:40:38-06:00\n[INFO] ------------------------------------------------------------------------\n</code></pre>\n<p>Thanks</p>\n"},{"tags":["java","multithreading","saxon"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1689271218,"post_id":76681173,"comment_id":135193553,"body_markdown":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer.","body":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer."}],"answers":[{"tags":[],"owner":{"account_id":529122,"reputation":158120,"user_id":415448,"accept_rate":33,"display_name":"Michael Kay"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689278926,"creation_date":1689266864,"answer_id":76681677,"question_id":76681173,"body_markdown":"I think you&#39;re seeing a common profiling effect where synchronized methods appear to be taking a high proportion of the total time, when actually what&#39;s happening is that they are much more likely to be sampled. The method `allocateDocumentNumber` is very unlikely to be causing much contention or taking a lot of time, but it could be distorting the profiling. If you have higher level of concurrency than the system can comfortably handle, then the scheduler will be looking for opportunities to pause one thread and give room for another, and these opportunities tend to coincide with calls on synchronized methods, even if those methods actually cause very little contention.\r\n\r\nHowever, if you are hitting this method very heavily, it could suggest that you are creating a large number of temporary trees, which people often do unintentionally by writing code such as\r\n\r\n    &lt;xsl:variable name=&quot;x&quot;&gt;\r\n      &lt;xsl:value-of select=&quot;a/b/c&quot;/&gt;\r\n    &lt;/xsl:variable&gt;\r\n\r\nwhen they should be writing\r\n\r\n    &lt;xsl:variable name=&quot;x&quot; select=&quot;a/b/c&quot;/&gt;\r\n\r\nI&#39;ve seen a five-fold speed-up to a stylesheet when that error was fixed.\r\n\r\nEvery temporary tree needs to be allocated a unique document number for use if generate-id() is called. For some very trivial temporary trees comprising a single parentless node I think we allocate the document number lazily only if it&#39;s needed, but if the tree isn&#39;t completely trivial, the document number gets allocated on creation.\r\n\r\nThe call on `updateStatistics()` is another synchronised method, and is also associated with creation of temporary trees (it is used to learn what size to allocate for future trees, to minimise garbage collection overheads).\r\n\r\nOf course, with any workload like this, allocating the right number of threads is the key to getting the right balance of throughput and response time. 100 threads is almost certainly larger than the optimum, unless you&#39;re using hardware with very high parallelism. I would expect the workload to be heavily CPU-bound, which means there is very little point in allocating more threads than you have CPUs available.","title":"Saxon java methods cause a long blocked state in a multi-threaded application at high-load","body":"<p>I think you're seeing a common profiling effect where synchronized methods appear to be taking a high proportion of the total time, when actually what's happening is that they are much more likely to be sampled. The method <code>allocateDocumentNumber</code> is very unlikely to be causing much contention or taking a lot of time, but it could be distorting the profiling. If you have higher level of concurrency than the system can comfortably handle, then the scheduler will be looking for opportunities to pause one thread and give room for another, and these opportunities tend to coincide with calls on synchronized methods, even if those methods actually cause very little contention.</p>\n<p>However, if you are hitting this method very heavily, it could suggest that you are creating a large number of temporary trees, which people often do unintentionally by writing code such as</p>\n<pre><code>&lt;xsl:variable name=&quot;x&quot;&gt;\n  &lt;xsl:value-of select=&quot;a/b/c&quot;/&gt;\n&lt;/xsl:variable&gt;\n</code></pre>\n<p>when they should be writing</p>\n<pre><code>&lt;xsl:variable name=&quot;x&quot; select=&quot;a/b/c&quot;/&gt;\n</code></pre>\n<p>I've seen a five-fold speed-up to a stylesheet when that error was fixed.</p>\n<p>Every temporary tree needs to be allocated a unique document number for use if generate-id() is called. For some very trivial temporary trees comprising a single parentless node I think we allocate the document number lazily only if it's needed, but if the tree isn't completely trivial, the document number gets allocated on creation.</p>\n<p>The call on <code>updateStatistics()</code> is another synchronised method, and is also associated with creation of temporary trees (it is used to learn what size to allocate for future trees, to minimise garbage collection overheads).</p>\n<p>Of course, with any workload like this, allocating the right number of threads is the key to getting the right balance of throughput and response time. 100 threads is almost certainly larger than the optimum, unless you're using hardware with very high parallelism. I would expect the workload to be heavily CPU-bound, which means there is very little point in allocating more threads than you have CPUs available.</p>\n"}],"owner":{"account_id":25646790,"reputation":1,"user_id":19414758,"display_name":"gsv"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1689278926,"creation_date":1689262732,"question_id":76681173,"body_markdown":"I am trying to embed Saxon HE into our web java application. Each request to an endpoint causes an XSLT transformation. I tried sending 100 concurrent requests at the same time to test Saxon. Using the java profiler, I found that some methods cause a long blocking state. Here is an example of the longest ones that take more than 90% of the time: [enter image description here](https://i.stack.imgur.com/uoeBb.png)\r\n\r\nFor comparison, the time spent in the Runnable state is 2.5 times less.\r\n\r\nIs it possible to somehow solve the blocking state issue?","title":"Saxon java methods cause a long blocked state in a multi-threaded application at high-load","body":"<p>I am trying to embed Saxon HE into our web java application. Each request to an endpoint causes an XSLT transformation. I tried sending 100 concurrent requests at the same time to test Saxon. Using the java profiler, I found that some methods cause a long blocking state. Here is an example of the longest ones that take more than 90% of the time: <a href=\"https://i.stack.imgur.com/uoeBb.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>For comparison, the time spent in the Runnable state is 2.5 times less.</p>\n<p>Is it possible to somehow solve the blocking state issue?</p>\n"},{"tags":["java","spring-boot","jwt","spring-boot-security"],"answers":[{"tags":[],"owner":{"account_id":24440940,"reputation":3122,"user_id":18364656,"display_name":"Andrei Lisa"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1689278500,"creation_date":1689278500,"answer_id":76682870,"question_id":76682194,"body_markdown":"just add a bean in your **ApplicationSecurity**\r\n what is \r\n**Global AuthenticationManager**\r\n\r\n    @Bean public AuthenticationManager authenticationManager(AuthenticationConfiguration authenticationConfiguration) throws Exception {return authenticationConfiguration.getAuthenticationManager();}\r\n\r\nFinally it will work.\r\n\r\n","title":"Spring Boot APPLICATION FAILED TO START due to required a bean of type AuthenticationManager","body":"<p>just add a bean in your <strong>ApplicationSecurity</strong>\nwhat is\n<strong>Global AuthenticationManager</strong></p>\n<pre><code>@Bean public AuthenticationManager authenticationManager(AuthenticationConfiguration authenticationConfiguration) throws Exception {return authenticationConfiguration.getAuthenticationManager();}\n</code></pre>\n<p>Finally it will work.</p>\n"}],"owner":{"account_id":2550873,"reputation":794,"user_id":2214646,"accept_rate":66,"display_name":"Pamba"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":95,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76682870,"answer_count":1,"score":0,"last_activity_date":1689278500,"creation_date":1689271914,"question_id":76682194,"body_markdown":"I am working in a spring web application with JWT.\r\n\r\nSpring Boot: 3.1.0\r\n\r\nJava: 17\r\n\r\nDatabase: mysql\r\n\r\nI can able to build successfully. When I try to run, then getting an error\r\n\r\nField authenticationManager in com.myapp.controller.LoginController required a bean of type &#39;org.springframework.security.authentication.AuthenticationManager&#39; that could not be found.\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n    ***************************\r\n    APPLICATION FAILED TO START\r\n    ***************************\r\n    \r\n    Description:\r\n    \r\n    Field authenticationManager in com.myapp.controller.LoginController required a bean of type &#39;org.springframework.security.authentication.AuthenticationManager&#39; that could not be found.\r\n    \r\n    The injection point has the following annotations:\r\n    \t- @org.springframework.beans.factory.annotation.Autowired(required=true)\r\n    \r\n    \r\n    Action:\r\n    \r\n    Consider defining a bean of type &#39;org.springframework.security.authentication.AuthenticationManager&#39; in your configuration.\r\n\r\nLoginController\r\n\r\n    @Slf4j\r\n    @CrossOrigin(origins = &quot;http://localhost:8080&quot;)\r\n    @RestController\r\n    @RequestMapping(&quot;/api&quot;)\r\n    public class LoginController {\r\n    \r\n    \t@Autowired\r\n    \tUserRepository userRepository;\r\n    \r\n    \t@Autowired\r\n    \tAuthenticationManager authenticationManager;\r\n    \r\n    \t@PostMapping(&quot;/login&quot;)\r\n    \tpublic ResponseEntity&lt;Object&gt; login(@Validated(ValidationOrder.class) Login loginData,\r\n    \t\t\tBindingResult bindingResult) {\r\n    \r\n    \t\ttry {\r\n    \r\n    \t\t\tOptional&lt;User&gt; user = userRepository.findByUserEmailAddress(loginData.getUserEmailAddress());\r\n    \r\n    \t\t\tif (user.isPresent() &amp;&amp; user.get().getUserPassword().equals(loginData.getUserPassword())) {\r\n    \r\n    \t\t\t\treturn ResponseEntity.ok(\r\n    \t\t\t\t\t\tnew RestResponse(ResponseStatus.SUCCESS.toString(), &quot;Login Success&quot;, user.get().getUserName()));\r\n    \r\n    \t\t\t} else {\r\n    \r\n    \t\t\t\treturn ResponseEntity.ok(new RestResponse(ResponseStatus.ERROR.toString(),\r\n    \t\t\t\t\t\t&quot;Login Failed. Invalid username or password!!!&quot;, null));\r\n    \t\t\t}\r\n    \r\n    \t\t} catch (Exception ex) {\r\n    \r\n    \t\t\tlog.error(null, ex);\r\n    \t\t\treturn ResponseEntity.ok(new RestResponse(ResponseStatus.ERROR.toString(), ex.getMessage(), null));\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\nApplicationSecurity \r\n\r\n    @Configuration\r\n    @EnableMethodSecurity\r\n    public class ApplicationSecurity {//extends WebSecurityConfiguration {\r\n    \r\n    \t@Autowired\r\n    \tprivate JwtAuthenticationEntryPoint unauthorizedHandler;\r\n    \r\n    \t@Autowired\r\n    \tJwtUserDetailsService jwtUserDetailsService;\r\n    \r\n    \t@Bean\r\n    \tpublic JwtAuthenticationFilter authenticationJwtTokenFilter() {\r\n    \r\n    \t\treturn new JwtAuthenticationFilter();\r\n    \t}\r\n    \r\n    \t@Bean\r\n    \tpublic DaoAuthenticationProvider authenticationProvider() {\r\n    \r\n    \t\tDaoAuthenticationProvider authProvider = new DaoAuthenticationProvider();\r\n    \r\n    \t\tauthProvider.setUserDetailsService(jwtUserDetailsService);\r\n    \t\tauthProvider.setPasswordEncoder(passwordEncoder());\r\n    \r\n    \t\treturn authProvider;\r\n    \t}\r\n    \r\n    \t@Bean\r\n    \tpublic PasswordEncoder passwordEncoder() {\r\n    \r\n    \t\treturn new BCryptPasswordEncoder();\r\n    \t}\r\n    \r\n    \t@Bean\r\n    \tpublic SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n    \r\n    \t\t//@formatter:off\r\n    \t\thttp.csrf(csrf -&gt; csrf.disable())\r\n    \t\t\t\t.exceptionHandling(exception -&gt; exception.authenticationEntryPoint(unauthorizedHandler))\r\n    \t\t\t\t.sessionManagement(session -&gt; session.sessionCreationPolicy(SessionCreationPolicy.STATELESS))\r\n    \t\t\t\t.authorizeHttpRequests(auth -&gt; auth.requestMatchers(&quot;/api/auth/**&quot;).permitAll()\r\n    \t\t\t\t\t\t\t\t\t\t\t\t   //.requestMatchers(&quot;/api/test/**&quot;).permitAll()\r\n    \t\t\t\t\t\t\t\t\t\t\t\t   .anyRequest()\r\n    \t\t\t\t\t\t\t\t\t\t\t\t   .authenticated()\r\n    \t\t\t\t\t\t\t\t\t  );\r\n    \t\t//@formatter:on\r\n    \r\n    \t\thttp.authenticationProvider(authenticationProvider());\r\n    \r\n    \t\thttp.addFilterBefore(authenticationJwtTokenFilter(), UsernamePasswordAuthenticationFilter.class);\r\n    \r\n    \t\treturn http.build();\r\n    \t}\r\n    }\r\n\r\nJwtAuthenticationEntryPoint \r\n\r\n    @Component\r\n    public class JwtAuthenticationEntryPoint implements AuthenticationEntryPoint, Serializable {\r\n    \r\n    \tprivate static final long serialVersionUID = -7858869558953243875L;\r\n    \r\n    \t@Override\r\n    \tpublic void commence(HttpServletRequest request, HttpServletResponse response,\r\n    \t\t\tAuthenticationException authException) throws IOException {\r\n    \r\n    \t\tresponse.sendError(HttpServletResponse.SC_UNAUTHORIZED, &quot;Unauthorized&quot;);\r\n    \t}\r\n    }\r\n\r\n\r\n\r\n\r\nAny idea about this error.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/wY9al.png","title":"Spring Boot APPLICATION FAILED TO START due to required a bean of type AuthenticationManager","body":"<p>I am working in a spring web application with JWT.</p>\n<p>Spring Boot: 3.1.0</p>\n<p>Java: 17</p>\n<p>Database: mysql</p>\n<p>I can able to build successfully. When I try to run, then getting an error</p>\n<p>Field authenticationManager in com.myapp.controller.LoginController required a bean of type 'org.springframework.security.authentication.AuthenticationManager' that could not be found.</p>\n<p><a href=\"https://i.stack.imgur.com/wY9al.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/wY9al.png\" alt=\"enter image description here\" /></a></p>\n<pre><code>***************************\nAPPLICATION FAILED TO START\n***************************\n\nDescription:\n\nField authenticationManager in com.myapp.controller.LoginController required a bean of type 'org.springframework.security.authentication.AuthenticationManager' that could not be found.\n\nThe injection point has the following annotations:\n    - @org.springframework.beans.factory.annotation.Autowired(required=true)\n\n\nAction:\n\nConsider defining a bean of type 'org.springframework.security.authentication.AuthenticationManager' in your configuration.\n</code></pre>\n<p>LoginController</p>\n<pre><code>@Slf4j\n@CrossOrigin(origins = &quot;http://localhost:8080&quot;)\n@RestController\n@RequestMapping(&quot;/api&quot;)\npublic class LoginController {\n\n    @Autowired\n    UserRepository userRepository;\n\n    @Autowired\n    AuthenticationManager authenticationManager;\n\n    @PostMapping(&quot;/login&quot;)\n    public ResponseEntity&lt;Object&gt; login(@Validated(ValidationOrder.class) Login loginData,\n            BindingResult bindingResult) {\n\n        try {\n\n            Optional&lt;User&gt; user = userRepository.findByUserEmailAddress(loginData.getUserEmailAddress());\n\n            if (user.isPresent() &amp;&amp; user.get().getUserPassword().equals(loginData.getUserPassword())) {\n\n                return ResponseEntity.ok(\n                        new RestResponse(ResponseStatus.SUCCESS.toString(), &quot;Login Success&quot;, user.get().getUserName()));\n\n            } else {\n\n                return ResponseEntity.ok(new RestResponse(ResponseStatus.ERROR.toString(),\n                        &quot;Login Failed. Invalid username or password!!!&quot;, null));\n            }\n\n        } catch (Exception ex) {\n\n            log.error(null, ex);\n            return ResponseEntity.ok(new RestResponse(ResponseStatus.ERROR.toString(), ex.getMessage(), null));\n        }\n    }\n}\n</code></pre>\n<p>ApplicationSecurity</p>\n<pre><code>@Configuration\n@EnableMethodSecurity\npublic class ApplicationSecurity {//extends WebSecurityConfiguration {\n\n    @Autowired\n    private JwtAuthenticationEntryPoint unauthorizedHandler;\n\n    @Autowired\n    JwtUserDetailsService jwtUserDetailsService;\n\n    @Bean\n    public JwtAuthenticationFilter authenticationJwtTokenFilter() {\n\n        return new JwtAuthenticationFilter();\n    }\n\n    @Bean\n    public DaoAuthenticationProvider authenticationProvider() {\n\n        DaoAuthenticationProvider authProvider = new DaoAuthenticationProvider();\n\n        authProvider.setUserDetailsService(jwtUserDetailsService);\n        authProvider.setPasswordEncoder(passwordEncoder());\n\n        return authProvider;\n    }\n\n    @Bean\n    public PasswordEncoder passwordEncoder() {\n\n        return new BCryptPasswordEncoder();\n    }\n\n    @Bean\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n\n        //@formatter:off\n        http.csrf(csrf -&gt; csrf.disable())\n                .exceptionHandling(exception -&gt; exception.authenticationEntryPoint(unauthorizedHandler))\n                .sessionManagement(session -&gt; session.sessionCreationPolicy(SessionCreationPolicy.STATELESS))\n                .authorizeHttpRequests(auth -&gt; auth.requestMatchers(&quot;/api/auth/**&quot;).permitAll()\n                                                   //.requestMatchers(&quot;/api/test/**&quot;).permitAll()\n                                                   .anyRequest()\n                                                   .authenticated()\n                                      );\n        //@formatter:on\n\n        http.authenticationProvider(authenticationProvider());\n\n        http.addFilterBefore(authenticationJwtTokenFilter(), UsernamePasswordAuthenticationFilter.class);\n\n        return http.build();\n    }\n}\n</code></pre>\n<p>JwtAuthenticationEntryPoint</p>\n<pre><code>@Component\npublic class JwtAuthenticationEntryPoint implements AuthenticationEntryPoint, Serializable {\n\n    private static final long serialVersionUID = -7858869558953243875L;\n\n    @Override\n    public void commence(HttpServletRequest request, HttpServletResponse response,\n            AuthenticationException authException) throws IOException {\n\n        response.sendError(HttpServletResponse.SC_UNAUTHORIZED, &quot;Unauthorized&quot;);\n    }\n}\n</code></pre>\n<p>Any idea about this error.</p>\n"},{"tags":["java","selenium-webdriver","selenium-chromedriver","microsoft-edge"],"answers":[{"tags":[],"owner":{"account_id":26682848,"reputation":3533,"user_id":20292589,"display_name":"Yaroslavm"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1689248930,"creation_date":1689248930,"answer_id":76679047,"question_id":76678888,"body_markdown":"If you&#39;re wanting to handle drivers version / installation automatically, I suggest to use Webdriver manager like [this][1]\r\n\r\n\r\nYou can simply add dependency to `pom.xml`\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;io.github.bonigarcia&lt;/groupId&gt;\r\n                &lt;artifactId&gt;webdrivermanager&lt;/artifactId&gt;\r\n                &lt;version&gt;5.3.2&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n[Reference][2]\r\n\r\n\r\n  [1]: https://github.com/bonigarcia/webdrivermanager\r\n  [2]: https://mvnrepository.com/artifact/io.github.bonigarcia/webdrivermanager\r\n\r\nAnd then use code like\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    public class SiteTest extends BaseTest {\r\n\r\n        @BeforeClass\r\n        public static void setupAll() {\r\n            WebDriverManager.edgedriver().setup();\r\n        }\r\n\r\n        @Test\r\n        public void openSite() {\r\n            WebDriver driver = new EdgeDriver();\r\n            driver.get(&quot;https://example.com&quot;);\r\n        }\r\n    }\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nIf this would work for you - so issue with session was in driver compatibility.","title":"Could not start a new session. Response code 500. Message: session not created using Selenium Java with a downloaded chromedriver","body":"<p>If you're wanting to handle drivers version / installation automatically, I suggest to use Webdriver manager like <a href=\"https://github.com/bonigarcia/webdrivermanager\" rel=\"nofollow noreferrer\">this</a></p>\n<p>You can simply add dependency to <code>pom.xml</code></p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>        &lt;dependency&gt;\n            &lt;groupId&gt;io.github.bonigarcia&lt;/groupId&gt;\n            &lt;artifactId&gt;webdrivermanager&lt;/artifactId&gt;\n            &lt;version&gt;5.3.2&lt;/version&gt;\n        &lt;/dependency&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p><a href=\"https://mvnrepository.com/artifact/io.github.bonigarcia/webdrivermanager\" rel=\"nofollow noreferrer\">Reference</a></p>\n<p>And then use code like</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>public class SiteTest extends BaseTest {\n\n    @BeforeClass\n    public static void setupAll() {\n        WebDriverManager.edgedriver().setup();\n    }\n\n    @Test\n    public void openSite() {\n        WebDriver driver = new EdgeDriver();\n        driver.get(\"https://example.com\");\n    }\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>If this would work for you - so issue with session was in driver compatibility.</p>\n"},{"tags":[],"owner":{"account_id":10049107,"reputation":186627,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689278299,"creation_date":1689278299,"answer_id":76682850,"question_id":76678888,"body_markdown":"You need to consider a couple of things:\r\n\r\n- Upgrade to [Selenium](https://stackoverflow.com/a/54482491/7429447) _**v4.6**_ or above so [_**Selenium Manager**_](https://stackoverflow.com/a/76563271/7429447) can automatically download the matching EdgeDriver. So you can remove\r\n\r\n\t  System.setProperty(&quot;webdriver.edge.driver&quot;, &quot;driverpath&quot;);\r\n\t\r\n- `--remote-allow-origins=*` is no more mandatory with Chrome and [ChromeDriver](https://stackoverflow.com/a/59927747/7429447) _version: 114.0_. So you can drop it.\r\n- [_`disable-dev-shm-usage`_](https://stackoverflow.com/a/76615980/7429447)  isn&#39;t effective unless you are using the [_`--no-sandbox`_](https://stackoverflow.com/a/71699916/7429447) argument. So you can drop it.\r\n\r\nMaking the above mentioned adjustments execute your code.","title":"Could not start a new session. Response code 500. Message: session not created using Selenium Java with a downloaded chromedriver","body":"<p>You need to consider a couple of things:</p>\n<ul>\n<li><p>Upgrade to <a href=\"https://stackoverflow.com/a/54482491/7429447\">Selenium</a> <em><strong>v4.6</strong></em> or above so <a href=\"https://stackoverflow.com/a/76563271/7429447\"><em><strong>Selenium Manager</strong></em></a> can automatically download the matching EdgeDriver. So you can remove</p>\n<pre><code>System.setProperty(&quot;webdriver.edge.driver&quot;, &quot;driverpath&quot;);\n</code></pre>\n</li>\n<li><p><code>--remote-allow-origins=*</code> is no more mandatory with Chrome and <a href=\"https://stackoverflow.com/a/59927747/7429447\">ChromeDriver</a> <em>version: 114.0</em>. So you can drop it.</p>\n</li>\n<li><p><a href=\"https://stackoverflow.com/a/76615980/7429447\"><em><code>disable-dev-shm-usage</code></em></a>  isn't effective unless you are using the <a href=\"https://stackoverflow.com/a/71699916/7429447\"><em><code>--no-sandbox</code></em></a> argument. So you can drop it.</p>\n</li>\n</ul>\n<p>Making the above mentioned adjustments execute your code.</p>\n"}],"owner":{"account_id":29009350,"reputation":11,"user_id":22221167,"display_name":"dawge4qd"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":793,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1689278299,"creation_date":1689247868,"question_id":76678888,"body_markdown":"When I try to start a new Microsoft Edge session, I encounter this error:\r\n&gt; Unknown Problem: Could not start a new session. Response code 500. Message: session not created\r\n&gt; from no such execution context: loader has changed while resolving nodes\r\n&gt; (Session info: MicrosoftEdge=114.0.1823.79)\r\n&gt; System info: os.name: &#39;Windows 10&#39;, os.arch: &#39;amd64&#39;, os.version: &#39;10.0&#39;, java.version: &#39;11.0.15&#39;\r\n&gt; Driver info: org.openqa.selenium.edge.EdgeDriver\r\n\r\nI have already researched this specific error, and the only solution I found was to add these two arguments:\r\n&gt;--disable-dev-shm-usage\r\n&gt;--remote-allow-origins=*\r\n\r\nand to add this setting:\r\n&gt;System.setProperty(&quot;webdriver.edge.driver&quot;, &quot;driverpath&quot;);\r\n\r\nwhich I have already done.\r\n\r\nEdit:\r\nThis problem only occurs in our CI, and it happens kind of randomly.","title":"Could not start a new session. Response code 500. Message: session not created using Selenium Java with a downloaded chromedriver","body":"<p>When I try to start a new Microsoft Edge session, I encounter this error:</p>\n<blockquote>\n<p>Unknown Problem: Could not start a new session. Response code 500. Message: session not created\nfrom no such execution context: loader has changed while resolving nodes\n(Session info: MicrosoftEdge=114.0.1823.79)\nSystem info: os.name: 'Windows 10', os.arch: 'amd64', os.version: '10.0', java.version: '11.0.15'\nDriver info: org.openqa.selenium.edge.EdgeDriver</p>\n</blockquote>\n<p>I have already researched this specific error, and the only solution I found was to add these two arguments:</p>\n<blockquote>\n<p>--disable-dev-shm-usage\n--remote-allow-origins=*</p>\n</blockquote>\n<p>and to add this setting:</p>\n<blockquote>\n<p>System.setProperty(&quot;webdriver.edge.driver&quot;, &quot;driverpath&quot;);</p>\n</blockquote>\n<p>which I have already done.</p>\n<p>Edit:\nThis problem only occurs in our CI, and it happens kind of randomly.</p>\n"},{"tags":["java","logging","log4j","log4j2"],"answers":[{"tags":[],"owner":{"account_id":3476450,"reputation":21,"user_id":5941773,"display_name":"Chris Hagn"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1550181255,"creation_date":1550181255,"answer_id":54699648,"question_id":49207604,"body_markdown":"I do something similar with an environment variable.  user.home should be a fully qualified path without any prefix needed.  Example:\r\n`user.home == C:\\Users\\dumbo`\r\n\r\n\r\nTry removing the first slash from your log folder.\r\n\r\nFrom:\r\n`&lt;Property name=&quot;logfolder&quot;&gt;/${sys:user.home}/xx/log/ff&lt;/Property&gt;`\r\n\r\nTo:\r\n`&lt;Property name=&quot;logfolder&quot;&gt;${sys:user.home}/xx/log/ff&lt;/Property&gt;`","title":"Could not create plugin of type class org.apache.logging.log4j.core.appender.RollingFileAppender for element RollingFile","body":"<p>I do something similar with an environment variable.  user.home should be a fully qualified path without any prefix needed.  Example:\n<code>user.home == C:\\Users\\dumbo</code></p>\n\n<p>Try removing the first slash from your log folder.</p>\n\n<p>From:\n<code>&lt;Property name=\"logfolder\"&gt;/${sys:user.home}/xx/log/ff&lt;/Property&gt;</code></p>\n\n<p>To:\n<code>&lt;Property name=\"logfolder\"&gt;${sys:user.home}/xx/log/ff&lt;/Property&gt;</code></p>\n"},{"tags":[],"owner":{"account_id":12519903,"reputation":51,"user_id":9111649,"display_name":"Vijay Gawade"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1573148000,"creation_date":1573148000,"answer_id":58754200,"question_id":49207604,"body_markdown":"add full path to the directory according to **operating system**\r\n\r\nif linux:\r\n\r\n    /opt/tomcat/apache-tomcat-9.0.27/webapps/My_Logs\r\n\r\nif Windows: (Not Need generally append automatically )\r\n\r\n       C:\\Program Files\\Apache Software Foundation\\Tomcat 9.0\\My_Logs","title":"Could not create plugin of type class org.apache.logging.log4j.core.appender.RollingFileAppender for element RollingFile","body":"<p>add full path to the directory according to <strong>operating system</strong></p>\n\n<p>if linux:</p>\n\n<pre><code>/opt/tomcat/apache-tomcat-9.0.27/webapps/My_Logs\n</code></pre>\n\n<p>if Windows: (Not Need generally append automatically )</p>\n\n<pre><code>   C:\\Program Files\\Apache Software Foundation\\Tomcat 9.0\\My_Logs\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2451099,"reputation":911,"user_id":2137378,"display_name":"Amin Heydari Alashti"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1584347415,"creation_date":1584347415,"answer_id":60702572,"question_id":49207604,"body_markdown":"In my case, the user I ran the program had not the permission to create the log directory and write into it. So, I just changed the owner of the working directory and restarted the program without any problem.\r\n\r\n    sudo chown -R runner-user:runner-user working-directory/*","title":"Could not create plugin of type class org.apache.logging.log4j.core.appender.RollingFileAppender for element RollingFile","body":"<p>In my case, the user I ran the program had not the permission to create the log directory and write into it. So, I just changed the owner of the working directory and restarted the program without any problem.</p>\n\n<pre><code>sudo chown -R runner-user:runner-user working-directory/*\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25456819,"reputation":1,"user_id":19257317,"display_name":"Daniela Hernandez"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654699210,"creation_date":1654699210,"answer_id":72547688,"question_id":49207604,"body_markdown":"In my case it was related with **administrator permissions** , so I just executed the Integration Studio as Administrator and the run was success ","title":"Could not create plugin of type class org.apache.logging.log4j.core.appender.RollingFileAppender for element RollingFile","body":"<p>In my case it was related with <strong>administrator permissions</strong> , so I just executed the Integration Studio as Administrator and the run was success</p>\n"},{"tags":[],"owner":{"account_id":4699868,"reputation":363,"user_id":3803726,"display_name":"Chioke Aarhus"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689278216,"creation_date":1689278216,"answer_id":76682836,"question_id":49207604,"body_markdown":"This error typically occurs when the running program either:\r\n- A) does not have the permission to create the log directory and write into it or\r\n- B) the log directory set for the program is invalid.\r\n\r\nI&#39;d recommend first verifying where the log directory is pointing to (is it something explicit like a C: or D: drive or trying to point to a remote location?). Once you&#39;ve validated the log directory, then validate that the program has permissions to write to said directory.\r\n\r\nTry validating your **log4j2.xml** file or **log4js config** and ensuring the path is write accessible.\r\n\r\nHappy coding!","title":"Could not create plugin of type class org.apache.logging.log4j.core.appender.RollingFileAppender for element RollingFile","body":"<p>This error typically occurs when the running program either:</p>\n<ul>\n<li>A) does not have the permission to create the log directory and write into it or</li>\n<li>B) the log directory set for the program is invalid.</li>\n</ul>\n<p>I'd recommend first verifying where the log directory is pointing to (is it something explicit like a C: or D: drive or trying to point to a remote location?). Once you've validated the log directory, then validate that the program has permissions to write to said directory.</p>\n<p>Try validating your <strong>log4j2.xml</strong> file or <strong>log4js config</strong> and ensuring the path is write accessible.</p>\n<p>Happy coding!</p>\n"}],"owner":{"account_id":4144966,"reputation":1077,"user_id":3398989,"accept_rate":86,"display_name":"SyCode"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":35880,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"answer_count":5,"score":8,"last_activity_date":1689278216,"creation_date":1520674974,"question_id":49207604,"body_markdown":"I want my application to output logs to a the logfile in a  user&#39;s home directory.\r\nTherefore I have configured the `log4j2.xml` file as below:\r\n\r\n    &lt;Configuration&gt;\r\n    &lt;Properties&gt;\r\n        &lt;Property name=&quot;logfolder&quot;&gt;/${sys:user.home}/xx/log/ff&lt;/Property&gt;\r\n    &lt;/Properties&gt;\r\n    &lt;Appenders&gt;\r\n        &lt;RollingFile name=&quot;user_file&quot; append=&quot;true&quot; fileName=&quot;${logfolder}/logxyz.csv&quot; filePattern=&quot;${logfolder}/old/$${date:yyyy-MM}/service-%d{MM-dd-yyyy}-%i.csv.gz&quot;&gt;\r\n            &lt;CsvParameterLayout format=&quot;Default&quot; nullString=&quot;&quot; charset=&quot;UTF-8&quot;/&gt; \r\n            &lt;Policies&gt;\r\nI can see the logs in the specified folder, however, some errors are displayed in the console:\r\n\r\n    ERROR Could not create plugin of type class org.apache.logging.log4j.core.appender.RollingFileAppender for element RollingFile : java.nio.file.InvalidPathException: Illegal char &lt;:&gt; at index 2: /C:\\Users\\xx/yy/log/abc/def.csv java.nio.file.InvalidPathException: Illegal char &lt;:&gt; at index 2: /C:\\Users\\xx/yy/log/abc/def.csv\r\n\tat sun.nio.fs.WindowsPathParser.normalize(WindowsPathParser.java:182)\r\n\r\nThe error seems to be related to parsing the windows files system, but I&#39;ve got no idea how to go about this. Will appreciate any directions. I am developing on Windows 10, but the application logging should be cross-platform.","title":"Could not create plugin of type class org.apache.logging.log4j.core.appender.RollingFileAppender for element RollingFile","body":"<p>I want my application to output logs to a the logfile in a  user's home directory.\nTherefore I have configured the <code>log4j2.xml</code> file as below:</p>\n\n<pre><code>&lt;Configuration&gt;\n&lt;Properties&gt;\n    &lt;Property name=\"logfolder\"&gt;/${sys:user.home}/xx/log/ff&lt;/Property&gt;\n&lt;/Properties&gt;\n&lt;Appenders&gt;\n    &lt;RollingFile name=\"user_file\" append=\"true\" fileName=\"${logfolder}/logxyz.csv\" filePattern=\"${logfolder}/old/$${date:yyyy-MM}/service-%d{MM-dd-yyyy}-%i.csv.gz\"&gt;\n        &lt;CsvParameterLayout format=\"Default\" nullString=\"\" charset=\"UTF-8\"/&gt; \n        &lt;Policies&gt;\n</code></pre>\n\n<p>I can see the logs in the specified folder, however, some errors are displayed in the console:</p>\n\n<pre><code>ERROR Could not create plugin of type class org.apache.logging.log4j.core.appender.RollingFileAppender for element RollingFile : java.nio.file.InvalidPathException: Illegal char &lt;:&gt; at index 2: /C:\\Users\\xx/yy/log/abc/def.csv java.nio.file.InvalidPathException: Illegal char &lt;:&gt; at index 2: /C:\\Users\\xx/yy/log/abc/def.csv\nat sun.nio.fs.WindowsPathParser.normalize(WindowsPathParser.java:182)\n</code></pre>\n\n<p>The error seems to be related to parsing the windows files system, but I've got no idea how to go about this. Will appreciate any directions. I am developing on Windows 10, but the application logging should be cross-platform.</p>\n"},{"tags":["java","maven","security","maven-plugin"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":2,"creation_date":1689275677,"post_id":76682522,"comment_id":135194435,"body_markdown":"Probably a good idea to post the pom","body":"Probably a good idea to post the pom"},{"owner":{"account_id":17410477,"reputation":3,"user_id":12617743,"display_name":"Erik Torres"},"score":0,"creation_date":1689277786,"post_id":76682522,"comment_id":135194859,"body_markdown":"Thanks g00se, I have posted it already","body":"Thanks g00se, I have posted it already"}],"owner":{"account_id":17410477,"reputation":3,"user_id":12617743,"display_name":"Erik Torres"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689277740,"creation_date":1689275145,"question_id":76682522,"body_markdown":"Currently my project is using the maven-bundle-plugin 5.1.9 version. Unfortunately we are receiving a vulnerability alert due to the commons-collections 3.2. I&#39;d like to request your kind advice on how it might be possible to exclude this dependency from the plugin or to get it overridden by a newer version.\r\n\r\nFollowing the articule described in [Maven Plugin Exclude Dependency][1]\r\nI&#39;ve tried by creating an additional module with the intention of using it for substituting the problematic version and then add it to the dependencies section of the maven-bundle-plugin but still the same version is coming.\r\n\r\nThank you and I look forward to hearing from you. Kind regards\r\n\r\nAdding the POM: `&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n\txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;com.tree.1987.factory&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;factory-tree-project&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;1.2.0.jiffy-SNAPSHOT&lt;/version&gt;\r\n\t\t&lt;relativePath&gt;../factory-tree-project&lt;/relativePath&gt;\r\n\t&lt;/parent&gt;\r\n\r\n\t&lt;groupId&gt;com.tree.factory&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;factory-access-control&lt;/artifactId&gt;\r\n\t&lt;name&gt;Tree Factory Control&lt;/name&gt;\r\n\t&lt;packaging&gt;bundle&lt;/packaging&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.apache.felix&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-bundle-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;extensions&gt;true&lt;/extensions&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;instructions&gt;\r\n\t\t\t\t\t\t&lt;Import-Package&gt;&lt;![CDATA[\r\n\t\t\t             !org.eclipse.jdt.core.compiler,\r\n\t\t\t\t\t\t com.google.common.base,\r\n\t\t\t\t\t\t org.eclipse.gemini.blueprint.extensions.annotation,\r\n\t\t\t\t\t\t org.springframework.data.mapping,\r\n\t\t\t             org.springframework.util,\r\n\t\t\t             !com.querydsl.apt,\r\n            \t\t\t !com.mysema.codegen,\r\n\t\t\t             *\r\n\t\t\t             ]]&gt;\r\n\t\t\t\t\t\t &lt;/Import-Package&gt;\r\n\t\t\t\t\t\t &lt;Embed-Dependency&gt;\r\n\t\t\t\t\t\t\tspring-data-commons;scope=runtime,\r\n\t\t\t\t\t\t\tspring-data-mongodb;scope=runtime,\r\n\t\t\t\t\t\t\txmlprojector\r\n\t\t\t\t\t\t &lt;/Embed-Dependency&gt;\r\n\t\t\t\t\t&lt;/instructions&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.scalatest&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;scalatest-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.shiro&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;shiro-core&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.shiro&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;shiro-spring&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.shiro&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;shiro-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.servicemix.bundles&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;org.apache.servicemix.bundles.spring-core&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.owasp.encoder&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;encoder&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\r\n\t&lt;/dependencies&gt;\r\n\r\n&lt;/project&gt;\r\n`\r\n\r\n  [1]: https://examples.javacodegeeks.com/maven-plugin-exclude-dependency/?amp=1","title":"Excluding commons-collections 3.2 from maven-bundle-plugin","body":"<p>Currently my project is using the maven-bundle-plugin 5.1.9 version. Unfortunately we are receiving a vulnerability alert due to the commons-collections 3.2. I'd like to request your kind advice on how it might be possible to exclude this dependency from the plugin or to get it overridden by a newer version.</p>\n<p>Following the articule described in <a href=\"https://examples.javacodegeeks.com/maven-plugin-exclude-dependency/?amp=1\" rel=\"nofollow noreferrer\">Maven Plugin Exclude Dependency</a>\nI've tried by creating an additional module with the intention of using it for substituting the problematic version and then add it to the dependencies section of the maven-bundle-plugin but still the same version is coming.</p>\n<p>Thank you and I look forward to hearing from you. Kind regards</p>\n<p>Adding the POM: `\n</p>\n<pre><code>&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n&lt;parent&gt;\n    &lt;groupId&gt;com.tree.1987.factory&lt;/groupId&gt;\n    &lt;artifactId&gt;factory-tree-project&lt;/artifactId&gt;\n    &lt;version&gt;1.2.0.jiffy-SNAPSHOT&lt;/version&gt;\n    &lt;relativePath&gt;../factory-tree-project&lt;/relativePath&gt;\n&lt;/parent&gt;\n\n&lt;groupId&gt;com.tree.factory&lt;/groupId&gt;\n&lt;artifactId&gt;factory-access-control&lt;/artifactId&gt;\n&lt;name&gt;Tree Factory Control&lt;/name&gt;\n&lt;packaging&gt;bundle&lt;/packaging&gt;\n\n&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.felix&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-bundle-plugin&lt;/artifactId&gt;\n            &lt;extensions&gt;true&lt;/extensions&gt;\n            &lt;configuration&gt;\n                &lt;instructions&gt;\n                    &lt;Import-Package&gt;&lt;![CDATA[\n                     !org.eclipse.jdt.core.compiler,\n                     com.google.common.base,\n                     org.eclipse.gemini.blueprint.extensions.annotation,\n                     org.springframework.data.mapping,\n                     org.springframework.util,\n                     !com.querydsl.apt,\n                     !com.mysema.codegen,\n                     *\n                     ]]&gt;\n                     &lt;/Import-Package&gt;\n                     &lt;Embed-Dependency&gt;\n                        spring-data-commons;scope=runtime,\n                        spring-data-mongodb;scope=runtime,\n                        xmlprojector\n                     &lt;/Embed-Dependency&gt;\n                &lt;/instructions&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.scalatest&lt;/groupId&gt;\n            &lt;artifactId&gt;scalatest-maven-plugin&lt;/artifactId&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.shiro&lt;/groupId&gt;\n        &lt;artifactId&gt;shiro-core&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.shiro&lt;/groupId&gt;\n        &lt;artifactId&gt;shiro-spring&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.shiro&lt;/groupId&gt;\n        &lt;artifactId&gt;shiro-web&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.servicemix.bundles&lt;/groupId&gt;\n        &lt;artifactId&gt;org.apache.servicemix.bundles.spring-core&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n        &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.owasp.encoder&lt;/groupId&gt;\n        &lt;artifactId&gt;encoder&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    \n&lt;/dependencies&gt;\n</code></pre>\n\n`\n"},{"tags":["java","leap-year","acm-java-libraries"],"comments":[{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":1,"creation_date":1245502350,"post_id":1021324,"comment_id":831205,"body_markdown":"Best code would be to use a trusted library instead.  Cletus suggestion of using the Calendar class is a prime example hereof.","body":"Best code would be to use a trusted library instead.  Cletus suggestion of using the Calendar class is a prime example hereof."},{"owner":{"account_id":36198,"reputation":3201,"user_id":103132,"accept_rate":100,"display_name":"Ibn Saeed"},"score":0,"creation_date":1245503192,"post_id":1021324,"comment_id":831229,"body_markdown":"You are correct if Im using the regular Java library. But in my course, im using ACM&#39;s Java Task Force&#39;s library.\n\nhttp://www-cs-faculty.stanford.edu/~eroberts/jtf/","body":"You are correct if Im using the regular Java library. But in my course, im using ACM&#39;s Java Task Force&#39;s library.  <a href=\"http://www-cs-faculty.stanford.edu/~eroberts/jtf/\" rel=\"nofollow noreferrer\">www-cs-faculty.stanford.edu/~eroberts/jtf</a>"},{"owner":{"account_id":290230,"reputation":46498,"user_id":591656,"accept_rate":100,"display_name":"CharithJ"},"score":1,"creation_date":1315878080,"post_id":1021324,"comment_id":8933327,"body_markdown":"Here is similar thread. http://stackoverflow.com/questions/7395699/calculate-leap-year-in-java/7395759#7395759","body":"Here is similar thread. <a href=\"http://stackoverflow.com/questions/7395699/calculate-leap-year-in-java/7395759#7395759\" title=\"calculate leap year in java\">stackoverflow.com/questions/7395699/calculate-leap-year-in-j&zwnj;&#8203;ava/&hellip;</a>"},{"owner":{"account_id":32385,"reputation":31109,"user_id":89818,"accept_rate":96,"display_name":"caw"},"score":1,"creation_date":1383589124,"post_id":1021324,"comment_id":29390524,"body_markdown":"The method from the book is for the Gregorian Calendar, your method is just wrong (leap year every 400 years only?) and every four years would be for the Julian Calendar.","body":"The method from the book is for the Gregorian Calendar, your method is just wrong (leap year every 400 years only?) and every four years would be for the Julian Calendar."},{"owner":{"account_id":141848,"reputation":1340,"user_id":349161,"accept_rate":73,"display_name":"dipu"},"score":0,"creation_date":1403121652,"post_id":1021324,"comment_id":37541546,"body_markdown":"if((year % 4 == 0 || year % 400 == 0) &amp;&amp; year % 100 != 0){ println(year +&quot; is leap year&quot;) }","body":"if((year % 4 == 0 || year % 400 == 0) &amp;&amp; year % 100 != 0){ println(year +&quot; is leap year&quot;) }"},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":0,"creation_date":1415969403,"post_id":1021324,"comment_id":42405995,"body_markdown":"@dipu That fails for multiples of 400.","body":"@dipu That fails for multiples of 400."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1523332979,"post_id":1021324,"comment_id":86504693,"body_markdown":"[`java.time.Year`](https://docs.oracle.com/javase/10/docs/api/java/time/Year.html) is your friend. See [Answer](https://stackoverflow.com/a/37380349/642706).","body":"<a href=\"https://docs.oracle.com/javase/10/docs/api/java/time/Year.html\" rel=\"nofollow noreferrer\"><code>java.time.Year</code></a> is your friend. See <a href=\"https://stackoverflow.com/a/37380349/642706\">Answer</a>."}],"answers":[{"tags":[],"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"down_vote_count":0,"up_vote_count":31,"is_accepted":false,"score":31,"last_activity_date":1245491833,"creation_date":1245491833,"answer_id":1021332,"question_id":1021324,"body_markdown":"I suggest you put this code into a method and create a unit test.\r\n\r\n    public static boolean isLeapYear(int year) {\r\n        assert year &gt;= 1583; // not valid before this date.\r\n        return ((year % 4 == 0) &amp;&amp; (year % 100 != 0)) || (year % 400 == 0);\r\n    }\r\n\r\nIn the unit test\r\n\r\n    assertTrue(isLeapYear(2000));\r\n    assertTrue(isLeapYear(1904));\r\n    assertFalse(isLeapYear(1900));\r\n    assertFalse(isLeapYear(1901));\r\n\r\n","title":"Java Code for calculating Leap Year","body":"<p>I suggest you put this code into a method and create a unit test.</p>\n\n<pre><code>public static boolean isLeapYear(int year) {\n    assert year &gt;= 1583; // not valid before this date.\n    return ((year % 4 == 0) &amp;&amp; (year % 100 != 0)) || (year % 400 == 0);\n}\n</code></pre>\n\n<p>In the unit test</p>\n\n<pre><code>assertTrue(isLeapYear(2000));\nassertTrue(isLeapYear(1904));\nassertFalse(isLeapYear(1900));\nassertFalse(isLeapYear(1901));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1146,"reputation":49086,"user_id":1527,"accept_rate":92,"display_name":"Pete Kirkham"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1245492436,"creation_date":1245492436,"answer_id":1021348,"question_id":1021324,"body_markdown":"It&#39;s almost always wrong to have repetition in software. In any engineering discipline, form should follow function, and you have three branches for something which has two possible paths - it&#39;s either a leap year or not.\r\n\r\nThe mechanism which has the test on one line doesn&#39;t have that issue, but generally it would be better to separate the test into a function which takes an int representing a year and returns a boolean representing whether or not the year is a leap year. That way you can do something with it other that print to standard output on the console, and can more easily test it.\r\n\r\nIn code which is known to exceed its performance budget, it&#39;s usual to arrange the tests so that they are not redundant and perform the tests in an order which returns early. The wikipedia example does this - for most years you have to calculate modulo 400,100 and 4, but for a few you only need modulo 400 or 400 and 100. This is a small optimisation in terms of performance ( at best, only one in a hundred inputs are effected ), but it also means the code has less repetition, and there&#39;s less for the programmer to type in. ","title":"Java Code for calculating Leap Year","body":"<p>It's almost always wrong to have repetition in software. In any engineering discipline, form should follow function, and you have three branches for something which has two possible paths - it's either a leap year or not.</p>\n\n<p>The mechanism which has the test on one line doesn't have that issue, but generally it would be better to separate the test into a function which takes an int representing a year and returns a boolean representing whether or not the year is a leap year. That way you can do something with it other that print to standard output on the console, and can more easily test it.</p>\n\n<p>In code which is known to exceed its performance budget, it's usual to arrange the tests so that they are not redundant and perform the tests in an order which returns early. The wikipedia example does this - for most years you have to calculate modulo 400,100 and 4, but for a few you only need modulo 400 or 400 and 100. This is a small optimisation in terms of performance ( at best, only one in a hundred inputs are effected ), but it also means the code has less repetition, and there's less for the programmer to type in. </p>\n"},{"tags":[],"owner":{"account_id":9867,"reputation":618181,"user_id":18393,"accept_rate":82,"display_name":"cletus"},"down_vote_count":1,"up_vote_count":101,"is_accepted":true,"score":100,"last_activity_date":1463664111,"creation_date":1245493307,"answer_id":1021373,"question_id":1021324,"body_markdown":"The correct implementation is:\r\n\r\n    public static boolean isLeapYear(int year) {\r\n      Calendar cal = Calendar.getInstance();\r\n      cal.set(Calendar.YEAR, year);\r\n      return cal.getActualMaximum(Calendar.DAY_OF_YEAR) &gt; 365;\r\n    }\r\n\r\nBut if you are going to reinvent this wheel then:\r\n\r\n    public static boolean isLeapYear(int year) {\r\n      if (year % 4 != 0) {\r\n        return false;\r\n      } else if (year % 400 == 0) {\r\n        return true;\r\n      } else if (year % 100 == 0) {\r\n        return false;\r\n      } else {\r\n        return true;\r\n      }\r\n    }\r\n","title":"Java Code for calculating Leap Year","body":"<p>The correct implementation is:</p>\n\n<pre><code>public static boolean isLeapYear(int year) {\n  Calendar cal = Calendar.getInstance();\n  cal.set(Calendar.YEAR, year);\n  return cal.getActualMaximum(Calendar.DAY_OF_YEAR) &gt; 365;\n}\n</code></pre>\n\n<p>But if you are going to reinvent this wheel then:</p>\n\n<pre><code>public static boolean isLeapYear(int year) {\n  if (year % 4 != 0) {\n    return false;\n  } else if (year % 400 == 0) {\n    return true;\n  } else if (year % 100 == 0) {\n    return false;\n  } else {\n    return true;\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":617310,"reputation":111,"user_id":353251,"display_name":"The Sphinc"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1443607091,"creation_date":1275079200,"answer_id":2932369,"question_id":1021324,"body_markdown":"Pseudo code from Wikipedia translated into the most compact Java\r\n\r\n    (year % 400 == 0) || ((year % 4 == 0) &amp;&amp; (year % 100 != 0))","title":"Java Code for calculating Leap Year","body":"<p>Pseudo code from Wikipedia translated into the most compact Java</p>\n\n<pre><code>(year % 400 == 0) || ((year % 4 == 0) &amp;&amp; (year % 100 != 0))\n</code></pre>\n"},{"tags":[],"owner":{"account_id":380043,"reputation":5610,"user_id":733805,"accept_rate":100,"display_name":"Kevin P. Rice"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1359540932,"creation_date":1342914839,"answer_id":11596723,"question_id":1021324,"body_markdown":"# Most Efficient Leap Year Test: #\r\n\r\n    if ((year &amp; 3) == 0 &amp;&amp; ((year % 25) != 0 || (year &amp; 15) == 0))\r\n    {\r\n        /* leap year */\r\n    }\r\n\r\nThis is an excerpt from my detailed answer at https://stackoverflow.com/a/11595914/733805","title":"Java Code for calculating Leap Year","body":"<h1>Most Efficient Leap Year Test:</h1>\n\n<pre><code>if ((year &amp; 3) == 0 &amp;&amp; ((year % 25) != 0 || (year &amp; 15) == 0))\n{\n    /* leap year */\n}\n</code></pre>\n\n<p>This is an excerpt from my detailed answer at <a href=\"https://stackoverflow.com/a/11595914/733805\">https://stackoverflow.com/a/11595914/733805</a></p>\n"},{"tags":[],"owner":{"account_id":1361242,"reputation":1,"user_id":1298575,"display_name":"Seppola"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1453206907,"creation_date":1354824123,"answer_id":13751556,"question_id":1021324,"body_markdown":"    boolean leapYear = ( ( year % 4 ) == 0 );","title":"Java Code for calculating Leap Year","body":"<pre><code>boolean leapYear = ( ( year % 4 ) == 0 );\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2635870,"reputation":5,"user_id":4168004,"display_name":"Ghada Ali Othman"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1366048460,"creation_date":1366048460,"answer_id":16021655,"question_id":1021324,"body_markdown":"\r\n\r\n    import javax.swing.*;\r\n    public class LeapYear {\r\n        public static void main(String[] args) {\r\n        int year;\r\n    String yearStr = JOptionPane.showInputDialog(null, &quot;Enter radius: &quot; );\r\n    \r\n    year = Integer.parseInt( yearStr );\r\n    \r\n    boolean isLeapYear;\r\n    isLeapYear = (year % 4 == 0 &amp;&amp; year % 100 != 0) || (year % 400 == 0);  \r\n     \r\n     if(isLeapYear){ \r\n    JOptionPane.showMessageDialog(null, &quot;Leap Year!&quot;); \r\n     }  \r\n     else{\r\n    JOptionPane.showMessageDialog(null, &quot;Not a Leap Year!&quot;); \r\n        }\r\n        }\r\n        }\r\n\r\n","title":"Java Code for calculating Leap Year","body":"<pre><code>import javax.swing.*;\npublic class LeapYear {\n    public static void main(String[] args) {\n    int year;\nString yearStr = JOptionPane.showInputDialog(null, \"Enter radius: \" );\n\nyear = Integer.parseInt( yearStr );\n\nboolean isLeapYear;\nisLeapYear = (year % 4 == 0 &amp;&amp; year % 100 != 0) || (year % 400 == 0);  \n\n if(isLeapYear){ \nJOptionPane.showMessageDialog(null, \"Leap Year!\"); \n }  \n else{\nJOptionPane.showMessageDialog(null, \"Not a Leap Year!\"); \n    }\n    }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3339162,"reputation":1,"user_id":2805797,"display_name":"Vincent"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1379911672,"creation_date":1379911672,"answer_id":18951929,"question_id":1021324,"body_markdown":"This is what I came up with. There is an added function to check to see if the int is past the date on which the exceptions were imposed(year$100, year %400). Before 1582 those exceptions weren&#39;t around. \r\n\r\n    import java.util.Scanner;\r\n\r\n    public class lecture{\r\n\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tboolean loop=true;\r\n\t\tScanner console = new Scanner( System.in );\r\n\t\twhile (loop){\r\n\t\t\tSystem.out.print( &quot;Enter the year: &quot; );\r\n\t\t\t   \r\n\t\t\tint year= console.nextInt();\r\n\t\t\tSystem.out.println( &quot;The year is a leap year: &quot;+ leapYear(year) );\r\n\t\t\tSystem.out.print( &quot;again?: &quot; );\r\n\t\t\tint again = console.nextInt();\r\n\t\t\tif (again == 1){\r\n\t\t\t\tloop=false;\r\n\t\t\t}//if\r\n\t\t}\r\n\t}\r\n\tpublic static boolean leapYear ( int year){\r\n\t\tboolean leaped = false;\r\n\t\tif (year%4==0){\r\n\t\t\tleaped = true;\r\n\t\t\tif(year&gt;1582){\r\n\t\t\t\tif (year%100==0&amp;&amp;year%400!=0){\r\n\t\t\t\t\tleaped=false;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}//1st if\r\n\t\treturn leaped;\r\n\t}\r\n    } ","title":"Java Code for calculating Leap Year","body":"<p>This is what I came up with. There is an added function to check to see if the int is past the date on which the exceptions were imposed(year$100, year %400). Before 1582 those exceptions weren't around. </p>\n\n<pre><code>import java.util.Scanner;\n\npublic class lecture{\n\n\npublic static void main(String[] args) {\n    boolean loop=true;\n    Scanner console = new Scanner( System.in );\n    while (loop){\n        System.out.print( \"Enter the year: \" );\n\n        int year= console.nextInt();\n        System.out.println( \"The year is a leap year: \"+ leapYear(year) );\n        System.out.print( \"again?: \" );\n        int again = console.nextInt();\n        if (again == 1){\n            loop=false;\n        }//if\n    }\n}\npublic static boolean leapYear ( int year){\n    boolean leaped = false;\n    if (year%4==0){\n        leaped = true;\n        if(year&gt;1582){\n            if (year%100==0&amp;&amp;year%400!=0){\n                leaped=false;\n            }\n        }\n    }//1st if\n    return leaped;\n}\n} \n</code></pre>\n"},{"tags":[],"owner":{"account_id":3479420,"reputation":1,"user_id":2911887,"display_name":"user2911887"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1382540665,"creation_date":1382539291,"answer_id":19544828,"question_id":1021324,"body_markdown":"    public static void main(String[] args)\r\n    {\r\n    \r\n    String strDate=&quot;Feb 2013&quot;;\r\n    \t\tString[] strArray=strDate.split(&quot;\\\\s+&quot;);\t\t\r\n    \t\t\r\n    \t\tCalendar cal = Calendar.getInstance();\r\n    \t\tcal.setTime(new SimpleDateFormat(&quot;MMM&quot;).parse(strArray[0].toString()));\r\n    \t\tint monthInt = cal.get(Calendar.MONTH);\r\n    \t\tmonthInt++;\r\n    \t\tcal.set(Calendar.YEAR, Integer.parseInt(strArray[1]));\t\t\t\r\n    \t\tstrDate=strArray[1].toString()+&quot;-&quot;+monthInt+&quot;-&quot;+cal.getActualMaximum(Calendar.DAY_OF_MONTH);\r\n    \t\t\r\n    \t\tSystem.out.println(strDate);\t\r\n    \r\n    \r\n    \r\n    }","title":"Java Code for calculating Leap Year","body":"<pre><code>public static void main(String[] args)\n{\n\nString strDate=\"Feb 2013\";\n        String[] strArray=strDate.split(\"\\\\s+\");        \n\n        Calendar cal = Calendar.getInstance();\n        cal.setTime(new SimpleDateFormat(\"MMM\").parse(strArray[0].toString()));\n        int monthInt = cal.get(Calendar.MONTH);\n        monthInt++;\n        cal.set(Calendar.YEAR, Integer.parseInt(strArray[1]));          \n        strDate=strArray[1].toString()+\"-\"+monthInt+\"-\"+cal.getActualMaximum(Calendar.DAY_OF_MONTH);\n\n        System.out.println(strDate);    \n\n\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4066988,"reputation":1,"user_id":3341535,"display_name":"VirusCD"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1393098355,"creation_date":1393096798,"answer_id":21959226,"question_id":1021324,"body_markdown":"    \timport java.util.Scanner;\r\n\r\n    \tpublic class LeapYear {\r\n\t\tpublic static void main(String[] args) {\r\n\t\t\t// TODO Auto-generated method stub\r\n\t\t\tScanner input = new Scanner(System.in);\r\n\t\t\tSystem.out.print(&quot;Enter the year then press Enter : &quot;);\r\n\t\t\tint year = input.nextInt();\r\n\t\r\n\t\t\tif ((year &lt; 1580) &amp;&amp; (year % 4 == 0)) {\r\n\t\t\t\tSystem.out.println(&quot;Leap year: &quot; + year);\r\n\t\t\t} else {\r\n\t\t\t\tif ((year % 4 == 0) &amp;&amp; (year % 100 != 0) || (year % 400 == 0)) {\r\n\t\t\t\t\tSystem.out.println(&quot;Leap year: &quot; + year);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tSystem.out.println(year + &quot; not a leap year!&quot;);\r\n\t\t\t\t}\r\n\t\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n","title":"Java Code for calculating Leap Year","body":"<pre><code>    import java.util.Scanner;\n\n    public class LeapYear {\n    public static void main(String[] args) {\n        // TODO Auto-generated method stub\n        Scanner input = new Scanner(System.in);\n        System.out.print(\"Enter the year then press Enter : \");\n        int year = input.nextInt();\n\n        if ((year &lt; 1580) &amp;&amp; (year % 4 == 0)) {\n            System.out.println(\"Leap year: \" + year);\n        } else {\n            if ((year % 4 == 0) &amp;&amp; (year % 100 != 0) || (year % 400 == 0)) {\n                System.out.println(\"Leap year: \" + year);\n            } else {\n                System.out.println(year + \" not a leap year!\");\n            }\n\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":934397,"reputation":135,"user_id":963601,"display_name":"user963601"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1424163522,"creation_date":1424159128,"answer_id":28557011,"question_id":1021324,"body_markdown":"    new GregorianCalendar().isLeapYear(year);","title":"Java Code for calculating Leap Year","body":"<pre><code>new GregorianCalendar().isLeapYear(year);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2790821,"reputation":2348,"user_id":2401088,"accept_rate":75,"display_name":"Pankaj Prakash"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1432482347,"creation_date":1432482347,"answer_id":30425364,"question_id":1021324,"body_markdown":"As [wikipedia][1] states algorithm for the leap year should be  \r\n\r\n    (((year%4 == 0) &amp;&amp; (year%100 !=0)) || (year%400==0))  \r\n\r\nHere is a sample program [how to check for leap year][2].\r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Leap_year#Algorithm\r\n  [2]: http://codeforwin.blogspot.in/2015/05/c-program-to-check-leap-year.html","title":"Java Code for calculating Leap Year","body":"<p>As <a href=\"http://en.wikipedia.org/wiki/Leap_year#Algorithm\" rel=\"nofollow\">wikipedia</a> states algorithm for the leap year should be  </p>\n\n<pre><code>(((year%4 == 0) &amp;&amp; (year%100 !=0)) || (year%400==0))  \n</code></pre>\n\n<p>Here is a sample program <a href=\"http://codeforwin.blogspot.in/2015/05/c-program-to-check-leap-year.html\" rel=\"nofollow\">how to check for leap year</a>.</p>\n"},{"tags":[],"owner":{"account_id":6889645,"reputation":119,"user_id":5293625,"display_name":"Caleb Woodman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1453394220,"creation_date":1453394220,"answer_id":34929299,"question_id":1021324,"body_markdown":"Your code, as it is, without an additional class, does not appear to work for universal java.\r\nHere is a simplified version that works anywhere, leaning more towards your code.\r\n\r\n    import java.util.*;\r\n    public class LeapYear {\r\n    \tpublic static void main(String[] args) {\r\n    \t\tint year;\r\n    \t\t{\r\n    \t\t\tScanner scan = new Scanner(System.in);\r\n    \t\t\tSystem.out.println(&quot;Enter year: &quot;);\r\n    \t\t\tyear = scan.nextInt();\r\n    \r\n    \t\t\tif ((year % 4 == 0) &amp;&amp; year % 100 != 0) {\r\n    \t\t\t\tSystem.out.println(year + &quot; is a leap year.&quot;);\r\n    \t\t\t} else if ((year % 4 == 0) &amp;&amp; (year % 100 == 0)\r\n    \t\t\t\t\t&amp;&amp; (year % 400 == 0)) {\r\n    \t\t\t\tSystem.out.println(year + &quot; is a leap year.&quot;);\r\n    \t\t\t} else {\r\n    \t\t\t\tSystem.out.println(year + &quot; is not a leap year.&quot;);\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n    }\r\nYour code, in context, works just as well, but note that book code *always works*, and is tested thoroughly. Not to say yours isn&#39;t. :)","title":"Java Code for calculating Leap Year","body":"<p>Your code, as it is, without an additional class, does not appear to work for universal java.\nHere is a simplified version that works anywhere, leaning more towards your code.</p>\n\n<pre><code>import java.util.*;\npublic class LeapYear {\n    public static void main(String[] args) {\n        int year;\n        {\n            Scanner scan = new Scanner(System.in);\n            System.out.println(\"Enter year: \");\n            year = scan.nextInt();\n\n            if ((year % 4 == 0) &amp;&amp; year % 100 != 0) {\n                System.out.println(year + \" is a leap year.\");\n            } else if ((year % 4 == 0) &amp;&amp; (year % 100 == 0)\n                    &amp;&amp; (year % 400 == 0)) {\n                System.out.println(year + \" is a leap year.\");\n            } else {\n                System.out.println(year + \" is not a leap year.\");\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>Your code, in context, works just as well, but note that book code <em>always works</em>, and is tested thoroughly. Not to say yours isn't. :)</p>\n"},{"tags":[],"owner":{"account_id":2123179,"reputation":10922,"user_id":1886012,"display_name":"bowmore"},"down_vote_count":0,"up_vote_count":44,"is_accepted":false,"score":44,"last_activity_date":1565011205,"creation_date":1463956341,"answer_id":37380349,"question_id":1021324,"body_markdown":"# `java.time.Year::isLeap`\r\n\r\nI&#39;d like to add the new [`java.time`][1] way of doing this with the [`Year`][2] class and [`isLeap`][3] method:\r\n\r\n\r\n    java.time.Year.of(year).isLeap();\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/time/package-summary.html\r\n  [2]: https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/time/Year.html\r\n  [3]: https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/time/Year.html#isLeap()","title":"Java Code for calculating Leap Year","body":"<h1><code>java.time.Year::isLeap</code></h1>\n\n<p>I'd like to add the new <a href=\"https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/time/package-summary.html\" rel=\"noreferrer\"><code>java.time</code></a> way of doing this with the <a href=\"https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/time/Year.html\" rel=\"noreferrer\"><code>Year</code></a> class and <a href=\"https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/time/Year.html#isLeap()\" rel=\"noreferrer\"><code>isLeap</code></a> method:</p>\n\n<pre><code>java.time.Year.of(year).isLeap();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5872668,"reputation":519,"user_id":4624524,"accept_rate":80,"display_name":"Felipe Andrade"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1464790696,"creation_date":1464790696,"answer_id":37571325,"question_id":1021324,"body_markdown":"From JAVA&#39;s GregorianCalendar sourcecode:\r\n\r\n    /**\r\n     * Returns true if {@code year} is a leap year.\r\n     */\r\n    public boolean isLeapYear(int year) {\r\n        if (year &gt; changeYear) {\r\n            return year % 4 == 0 &amp;&amp; (year % 100 != 0 || year % 400 == 0);\r\n        }\r\n\r\n        return year % 4 == 0;\r\n    }\r\n\r\nWhere changeYear is the year the Julian Calendar becomes the Gregorian Calendar (1582).\r\n\r\n&gt; The Julian calendar specifies leap years every four years, whereas the\r\n&gt; Gregorian calendar omits century years which are not divisible by 400.\r\n\r\nIn the [Gregorian Calendar documentation][1] you can found more information about it.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/util/GregorianCalendar.html","title":"Java Code for calculating Leap Year","body":"<p>From JAVA's GregorianCalendar sourcecode:</p>\n\n<pre><code>/**\n * Returns true if {@code year} is a leap year.\n */\npublic boolean isLeapYear(int year) {\n    if (year &gt; changeYear) {\n        return year % 4 == 0 &amp;&amp; (year % 100 != 0 || year % 400 == 0);\n    }\n\n    return year % 4 == 0;\n}\n</code></pre>\n\n<p>Where changeYear is the year the Julian Calendar becomes the Gregorian Calendar (1582).</p>\n\n<blockquote>\n  <p>The Julian calendar specifies leap years every four years, whereas the\n  Gregorian calendar omits century years which are not divisible by 400.</p>\n</blockquote>\n\n<p>In the <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/GregorianCalendar.html\" rel=\"noreferrer\">Gregorian Calendar documentation</a> you can found more information about it.</p>\n"},{"tags":[],"owner":{"account_id":1215286,"reputation":7830,"user_id":1183010,"accept_rate":80,"display_name":"R. Oosterholt"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1464792388,"creation_date":1464792388,"answer_id":37571983,"question_id":1021324,"body_markdown":"You can ask the [GregorianCalendar][1] class for this:\r\n\r\n    boolean isLeapyear = new GregorianCalendar().isLeapYear(year);\r\n\r\n[1]:http://docs.oracle.com/javase/7/docs/api/java/util/GregorianCalendar.html#isLeapYear(int)","title":"Java Code for calculating Leap Year","body":"<p>You can ask the <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/GregorianCalendar.html#isLeapYear(int)\" rel=\"nofollow\">GregorianCalendar</a> class for this:</p>\n\n<pre><code>boolean isLeapyear = new GregorianCalendar().isLeapYear(year);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":246063,"reputation":17561,"user_id":2267723,"accept_rate":59,"display_name":"Maher Abuthraa"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1488613972,"creation_date":1488613972,"answer_id":42593611,"question_id":1021324,"body_markdown":"If you are using java8 :\r\n\r\n    java.time.Year.of(year).isLeap()\r\n\r\nJava implementation of above method: \r\n\r\n    public static boolean isLeap(long year) {\r\n            return ((year &amp; 3) == 0) &amp;&amp; ((year % 100) != 0 || (year % 400) == 0);\r\n        }","title":"Java Code for calculating Leap Year","body":"<p>If you are using java8 :</p>\n\n<pre><code>java.time.Year.of(year).isLeap()\n</code></pre>\n\n<p>Java implementation of above method: </p>\n\n<pre><code>public static boolean isLeap(long year) {\n        return ((year &amp; 3) == 0) &amp;&amp; ((year % 100) != 0 || (year % 400) == 0);\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12223708,"reputation":11,"user_id":8922080,"display_name":"Abdihakiim yusuf Adan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1510496039,"creation_date":1510496039,"answer_id":47249829,"question_id":1021324,"body_markdown":"easiest way ta make java leap year and more clear to understand`enter code here`\r\n\r\n    import  java.util.Scanner;\r\n\r\nclass que19{\r\n\r\n\tpublic static void main(String[] args) {\r\n\r\n\t\tScanner input=new Scanner(System.in);\r\n\r\n\t\tdouble a;\r\n\r\n\t\tSystem.out.println(&quot;enter the year here &quot;);\r\n\t\ta=input.nextDouble();\r\n\t\tif ((a % 4 ==0 ) &amp;&amp; (a%100!=0) || (a%400==0)) {\r\n\t\t\tSystem.out.println(&quot;leep year&quot;);\r\n\t\t\t\r\n\t\t}\r\n\t\telse {\r\n\t\t\tSystem.out.println(&quot;not a leap year&quot;);\r\n\t\t}\r\n\t}\r\n}","title":"Java Code for calculating Leap Year","body":"<p>easiest way ta make java leap year and more clear to understand<code>enter code here</code></p>\n\n<pre><code>import  java.util.Scanner;\n</code></pre>\n\n<p>class que19{</p>\n\n<pre><code>public static void main(String[] args) {\n\n    Scanner input=new Scanner(System.in);\n\n    double a;\n\n    System.out.println(\"enter the year here \");\n    a=input.nextDouble();\n    if ((a % 4 ==0 ) &amp;&amp; (a%100!=0) || (a%400==0)) {\n        System.out.println(\"leep year\");\n\n    }\n    else {\n        System.out.println(\"not a leap year\");\n    }\n}\n</code></pre>\n\n<p>}</p>\n"},{"tags":[],"owner":{"account_id":3527815,"reputation":31,"user_id":6289661,"display_name":"peanek"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1564964754,"creation_date":1527779217,"answer_id":50627436,"question_id":1021324,"body_markdown":"With the course of  : [TestMyCode\r\nProgramming assignment evaluator][1], that one of the exercises was this kind of issue, I wrote this answer: \r\n\r\n\r\n    import java.util.Scanner;\r\n    \r\n    public class LeapYear {\r\n    \r\n        public static void main(String[] args) {\r\n            Scanner reader = new Scanner(System.in);\r\n            System.out.println(&quot;Type a year: &quot;);\r\n    \r\n            int year = Integer.parseInt(reader.nextLine());\r\n    \r\n            if (year % 400 == 0 &amp;&amp; year % 100 == 0 &amp;&amp; year % 4 == 0) {\r\n                System.out.println(&quot;The year is a leap year&quot;);\r\n            } else\r\n             if (year % 4 == 0 &amp;&amp; year%100!=0 ) {\r\n                System.out.println(&quot;The year is a leap year&quot;);\r\n            } else \r\n            {\r\n                System.out.println(&quot;The year is not a leap year&quot;);\r\n            }\r\n    \r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://tmc.mooc.fi/","title":"Java Code for calculating Leap Year","body":"<p>With the course of  : <a href=\"https://tmc.mooc.fi/\" rel=\"nofollow noreferrer\">TestMyCode\nProgramming assignment evaluator</a>, that one of the exercises was this kind of issue, I wrote this answer: </p>\n\n<pre><code>import java.util.Scanner;\n\npublic class LeapYear {\n\n    public static void main(String[] args) {\n        Scanner reader = new Scanner(System.in);\n        System.out.println(\"Type a year: \");\n\n        int year = Integer.parseInt(reader.nextLine());\n\n        if (year % 400 == 0 &amp;&amp; year % 100 == 0 &amp;&amp; year % 4 == 0) {\n            System.out.println(\"The year is a leap year\");\n        } else\n         if (year % 4 == 0 &amp;&amp; year%100!=0 ) {\n            System.out.println(\"The year is a leap year\");\n        } else \n        {\n            System.out.println(\"The year is not a leap year\");\n        }\n\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":695155,"reputation":26358,"user_id":274677,"accept_rate":81,"display_name":"Marcus Junius Brutus"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1544472440,"creation_date":1544472440,"answer_id":53712875,"question_id":1021324,"body_markdown":"[this answer][1] is great but it won&#39;t work for years before Christ (using a proleptic Gregorian calendar). If you want it to work for B.C. years, then use the following adaptation:\r\n\r\n    public static boolean isLeapYear(final int year) {\r\n        final Calendar cal = Calendar.getInstance();\r\n        if (year&lt;0) {\r\n            cal.set(Calendar.ERA, GregorianCalendar.BC);\r\n            cal.set(Calendar.YEAR, -year);\r\n        } else\r\n            cal.set(Calendar.YEAR, year);\r\n        return cal.getActualMaximum(Calendar.DAY_OF_YEAR) &gt; 365;\r\n    }\r\nYou can verify that for yourself by considering that year -5 (i.e. 4 BC) should be pronounced as a leap year assuming a proleptic Gregorian calendar. Same with year -1 (the year before 1 AD). The linked to answer does not handle that case whereas the above adapted code does.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/1021373/274677","title":"Java Code for calculating Leap Year","body":"<p><a href=\"https://stackoverflow.com/a/1021373/274677\">this answer</a> is great but it won't work for years before Christ (using a proleptic Gregorian calendar). If you want it to work for B.C. years, then use the following adaptation:</p>\n\n<pre><code>public static boolean isLeapYear(final int year) {\n    final Calendar cal = Calendar.getInstance();\n    if (year&lt;0) {\n        cal.set(Calendar.ERA, GregorianCalendar.BC);\n        cal.set(Calendar.YEAR, -year);\n    } else\n        cal.set(Calendar.YEAR, year);\n    return cal.getActualMaximum(Calendar.DAY_OF_YEAR) &gt; 365;\n}\n</code></pre>\n\n<p>You can verify that for yourself by considering that year -5 (i.e. 4 BC) should be pronounced as a leap year assuming a proleptic Gregorian calendar. Same with year -1 (the year before 1 AD). The linked to answer does not handle that case whereas the above adapted code does.</p>\n"},{"tags":[],"owner":{"account_id":194960,"reputation":709,"user_id":437579,"display_name":"Sami"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1631406096,"creation_date":1631406096,"answer_id":69147612,"question_id":1021324,"body_markdown":"Answer in Kotlin:\r\n```kotlin\r\nfun isLeapYear(year: Int): Boolean =\r\n    when {\r\n        year % 4 != 0 -&gt; false\r\n        year % 100 == 0 -&gt; year % 400 == 0\r\n        else -&gt; true\r\n    }\r\n```\r\n","title":"Java Code for calculating Leap Year","body":"<p>Answer in Kotlin:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>fun isLeapYear(year: Int): Boolean =\n    when {\n        year % 4 != 0 -&gt; false\n        year % 100 == 0 -&gt; year % 400 == 0\n        else -&gt; true\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21250030,"reputation":75,"user_id":15632347,"display_name":"PRR S2 6-8-6 turbine engine"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657160238,"creation_date":1657160238,"answer_id":72891609,"question_id":1021324,"body_markdown":"This is from Clean Code book by Martin R.\r\n\r\n    public static boolean isLeapYear(int year) {\r\n       boolean fourth = year % 4 == 0;\r\n       boolean hundredth = year % 100 == 0;\r\n       boolean fourHundredth = year % 400 == 0;\r\n       return fourth &amp;&amp; (!hundredth || fourHundredth);\r\n    }","title":"Java Code for calculating Leap Year","body":"<p>This is from Clean Code book by Martin R.</p>\n<pre><code>public static boolean isLeapYear(int year) {\n   boolean fourth = year % 4 == 0;\n   boolean hundredth = year % 100 == 0;\n   boolean fourHundredth = year % 400 == 0;\n   return fourth &amp;&amp; (!hundredth || fourHundredth);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":24094538,"reputation":41,"user_id":18067279,"display_name":"Nirmal Chathura"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689277385,"creation_date":1689275041,"answer_id":76682518,"question_id":1021324,"body_markdown":"\r\n``` Method 1: ```\r\n```\r\npublic class LeapYear {\r\n\r\n    public static boolean isLeapYear(int year){\r\n\r\n        return ( !(year &gt;= 1) ? false : (year%4 != 0) ? false : (year%100 != 0) ? true : (year%400 == 0) ? true : false ); \r\n    }\r\n\r\n}\r\n```\r\n\r\n```Method 2:``` \r\n\r\n```\r\npublic class LeapYear {\r\n\r\n    public static boolean isLeapYear(int year){\r\n        \r\n        return ( (year &gt;= 1) &amp;&amp; ( (year%4 == 0 &amp;&amp; !(year%100 == 0)) || (year%400 == 0) )? true : false );\r\n        \r\n    } \r\n}\r\n```","title":"Java Code for calculating Leap Year","body":"<p><code>Method 1:</code></p>\n<pre><code>public class LeapYear {\n\n    public static boolean isLeapYear(int year){\n\n        return ( !(year &gt;= 1) ? false : (year%4 != 0) ? false : (year%100 != 0) ? true : (year%400 == 0) ? true : false ); \n    }\n\n}\n</code></pre>\n<p><code>Method 2:</code></p>\n<pre><code>public class LeapYear {\n\n    public static boolean isLeapYear(int year){\n        \n        return ( (year &gt;= 1) &amp;&amp; ( (year%4 == 0 &amp;&amp; !(year%100 == 0)) || (year%400 == 0) )? true : false );\n        \n    } \n}\n</code></pre>\n"}],"owner":{"account_id":36198,"reputation":3201,"user_id":103132,"accept_rate":100,"display_name":"Ibn Saeed"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":301716,"favorite_count":0,"down_vote_count":1,"up_vote_count":43,"accepted_answer_id":1021373,"answer_count":23,"score":42,"last_activity_date":1689277385,"creation_date":1245491280,"question_id":1021324,"body_markdown":"I am following &quot;The Art and Science of Java&quot; book and it shows how to calculate a leap year.\r\nThe book uses ACM Java Task Force&#39;s library.\r\n\r\nHere is the code the books uses:\r\n\r\n    import acm.program.*;\r\n\r\n    public class LeapYear extends ConsoleProgram {\r\n\t    public void run()\r\n        {\r\n\r\n            println(&quot;This program calculates leap year.&quot;);\r\n            int year = readInt(&quot;Enter the year: &quot;);     \r\n\r\n            boolean isLeapYear = ((year % 4 == 0) &amp;&amp; (year % 100 != 0) || (year % 400 == 0));\r\n\r\n            if (isLeapYear)\r\n            {\r\n                println(year + &quot; is a leap year.&quot;);\r\n            } else\r\n                println(year + &quot; is not a leap year.&quot;);\r\n        }\r\n\r\n    }\r\n\r\n\r\nNow, this is how I calculated the leap year. \r\n\r\n\r\n    import acm.program.*;\r\n\r\n    public class LeapYear extends ConsoleProgram {\r\n\t    public void run()\r\n        {\r\n\r\n            println(&quot;This program calculates leap year.&quot;);\r\n            int year = readInt(&quot;Enter the year: &quot;);\r\n\r\n            if ((year % 4 == 0) &amp;&amp; year % 100 != 0)\r\n            {\r\n                println(year + &quot; is a leap year.&quot;);\r\n            }\r\n            else if ((year % 4 == 0) &amp;&amp; (year % 100 == 0) &amp;&amp; (year % 400 == 0))\r\n            {\r\n                println(year + &quot; is a leap year.&quot;);\r\n            }\r\n            else\r\n            {\r\n                println(year + &quot; is not a leap year.&quot;);\r\n            }\r\n        }\r\n    }\r\n\r\n\r\nIs there anything wrong with my code or should i use the one provided by the book ?\r\n\r\nEDIT :: Both of the above code works fine, What i want to ask is which code is the best way to calculate the leap year. ","title":"Java Code for calculating Leap Year","body":"<p>I am following \"The Art and Science of Java\" book and it shows how to calculate a leap year.\nThe book uses ACM Java Task Force's library.</p>\n\n<p>Here is the code the books uses:</p>\n\n<pre><code>import acm.program.*;\n\npublic class LeapYear extends ConsoleProgram {\n    public void run()\n    {\n\n        println(\"This program calculates leap year.\");\n        int year = readInt(\"Enter the year: \");     \n\n        boolean isLeapYear = ((year % 4 == 0) &amp;&amp; (year % 100 != 0) || (year % 400 == 0));\n\n        if (isLeapYear)\n        {\n            println(year + \" is a leap year.\");\n        } else\n            println(year + \" is not a leap year.\");\n    }\n\n}\n</code></pre>\n\n<p>Now, this is how I calculated the leap year. </p>\n\n<pre><code>import acm.program.*;\n\npublic class LeapYear extends ConsoleProgram {\n    public void run()\n    {\n\n        println(\"This program calculates leap year.\");\n        int year = readInt(\"Enter the year: \");\n\n        if ((year % 4 == 0) &amp;&amp; year % 100 != 0)\n        {\n            println(year + \" is a leap year.\");\n        }\n        else if ((year % 4 == 0) &amp;&amp; (year % 100 == 0) &amp;&amp; (year % 400 == 0))\n        {\n            println(year + \" is a leap year.\");\n        }\n        else\n        {\n            println(year + \" is not a leap year.\");\n        }\n    }\n}\n</code></pre>\n\n<p>Is there anything wrong with my code or should i use the one provided by the book ?</p>\n\n<p>EDIT :: Both of the above code works fine, What i want to ask is which code is the best way to calculate the leap year. </p>\n"},{"tags":["java","tapestry"],"answers":[{"tags":[],"owner":{"account_id":1571268,"reputation":139,"user_id":1458909,"display_name":"Dushko Jovanovski"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1488881363,"creation_date":1488881363,"answer_id":42645379,"question_id":42642853,"body_markdown":"You can accomplish this in a few ways, depending on what you really need. I invite you to read the [documentation][2] and the [IoC cookbook][1].\r\n\r\nUnderstanding the Inversion of Control configuration is important because it&#39;s a very powerful module.\r\n\r\n[1]: https://tapestry.apache.org/ioc-cookbook-basic-services-and-injection.html\r\n[2]: http://tapestry.apache.org/defining-tapestry-ioc-services.html","title":"How to override tapestry AlertManager","body":"<p>You can accomplish this in a few ways, depending on what you really need. I invite you to read the <a href=\"http://tapestry.apache.org/defining-tapestry-ioc-services.html\" rel=\"nofollow noreferrer\">documentation</a> and the <a href=\"https://tapestry.apache.org/ioc-cookbook-basic-services-and-injection.html\" rel=\"nofollow noreferrer\">IoC cookbook</a>.</p>\n\n<p>Understanding the Inversion of Control configuration is important because it's a very powerful module.</p>\n"},{"tags":[],"owner":{"account_id":2808107,"reputation":891,"user_id":2414933,"display_name":"Dmitry Gusev"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1489140892,"creation_date":1489140892,"answer_id":42715806,"question_id":42642853,"body_markdown":"This is because Tapestry IoC tries to find all services that implement an interface when you try to `@Inject` it by interface type only. Your new `AlertManagerExt` also implements the `AlertManager` hence the ambiguity.\r\n\r\nThis is usually resolved by explicitly specifying service ID or marker annotation, but this won&#39;t work for your case as tapestry&#39;s core code already `@Inject`ing `AlertManager` by interface only.","title":"How to override tapestry AlertManager","body":"<p>This is because Tapestry IoC tries to find all services that implement an interface when you try to <code>@Inject</code> it by interface type only. Your new <code>AlertManagerExt</code> also implements the <code>AlertManager</code> hence the ambiguity.</p>\n\n<p>This is usually resolved by explicitly specifying service ID or marker annotation, but this won't work for your case as tapestry's core code already <code>@Inject</code>ing <code>AlertManager</code> by interface only.</p>\n"},{"tags":[],"owner":{"account_id":9825727,"reputation":11,"user_id":7278891,"display_name":"permabei"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689276831,"creation_date":1689276831,"answer_id":76682699,"question_id":42642853,"body_markdown":"I know I&#39;m a bit late to the party but I ran into a similar exception trying to override an internal Tapestry service implementation, (GoogleClosureMinimizerOptionsProvider in my case), and I managed to solve it using by contributing to ServiceOverride.class using the annotation.\r\nFor example in my Tapestry ApplicationModule, I have this:\r\n\r\n    @Contribute(ServiceOverride.class)\r\n    public static void contributeServiceOverride(MappedConfiguration&lt;Class&lt;? extends GoogleClosureMinimizerOptionsProvider&gt;,Object&lt;? super GoogleClosureMinimizerOptionsProvider&gt;&gt; configuration) {\r\n      configuration.addInstance(GoogleClosureMinimizerOptionsProvider.class, CustomGCMCompilerOptions.class)\r\n\r\nI believe this could work in your case as well:\r\n\r\n    @Contribute(ServiceOverride.class)\r\n    public static void contributeServiceOverride(MappedConfiguration&lt;Class&lt;? extends AlertManager,Object&lt;? super AlertManager&gt; configuration) {\r\n    configuration.addInstance(AlertManager.class, AlertManagerExtImpl.class)\r\n\r\nQuick ref to the `ServiceOverride` interface Tapestry5 [APIDocs](https://people.apache.org/~hlship/t5api/apidocs/org/apache/tapestry5/ioc/services/ServiceOverride.html):\r\n\r\n&gt;@UsesMappedConfiguration(key=java.lang.Class.class,\r\n&gt;                         value=java.lang.Object.class)\r\n&gt;public interface ServiceOverride\r\n&gt;\r\n&gt;Used to override built in services. Simply contribute a mapping from a type &gt;to an instance of that type. Anywhere that exact type is injected, without &gt;specifying markers or other annotations, the contributed instance will be &gt;injected, even if there is already a service that implements the interface.\r\n&gt;\r\n&gt;In fact, this is not limited to overriding services; any object that can be &gt;injected based solely on type can be contributed.\r\n\r\n \r\n","title":"How to override tapestry AlertManager","body":"<p>I know I'm a bit late to the party but I ran into a similar exception trying to override an internal Tapestry service implementation, (GoogleClosureMinimizerOptionsProvider in my case), and I managed to solve it using by contributing to ServiceOverride.class using the annotation.\nFor example in my Tapestry ApplicationModule, I have this:</p>\n<pre><code>@Contribute(ServiceOverride.class)\npublic static void contributeServiceOverride(MappedConfiguration&lt;Class&lt;? extends GoogleClosureMinimizerOptionsProvider&gt;,Object&lt;? super GoogleClosureMinimizerOptionsProvider&gt;&gt; configuration) {\n  configuration.addInstance(GoogleClosureMinimizerOptionsProvider.class, CustomGCMCompilerOptions.class)\n</code></pre>\n<p>I believe this could work in your case as well:</p>\n<pre><code>@Contribute(ServiceOverride.class)\npublic static void contributeServiceOverride(MappedConfiguration&lt;Class&lt;? extends AlertManager,Object&lt;? super AlertManager&gt; configuration) {\nconfiguration.addInstance(AlertManager.class, AlertManagerExtImpl.class)\n</code></pre>\n<p>Quick ref to the <code>ServiceOverride</code> interface Tapestry5 <a href=\"https://people.apache.org/%7Ehlship/t5api/apidocs/org/apache/tapestry5/ioc/services/ServiceOverride.html\" rel=\"nofollow noreferrer\">APIDocs</a>:</p>\n<blockquote>\n<p>@UsesMappedConfiguration(key=java.lang.Class.class,\nvalue=java.lang.Object.class)\npublic interface ServiceOverride</p>\n<p>Used to override built in services. Simply contribute a mapping from a type &gt;to an instance of that type. Anywhere that exact type is injected, without &gt;specifying markers or other annotations, the contributed instance will be &gt;injected, even if there is already a service that implements the interface.</p>\n<p>In fact, this is not limited to overriding services; any object that can be &gt;injected based solely on type can be contributed.</p>\n</blockquote>\n"}],"owner":{"account_id":2881559,"reputation":361,"user_id":2472344,"accept_rate":0,"display_name":"xl0e"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":320,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1689276831,"creation_date":1488872685,"question_id":42642853,"body_markdown":"I have created extended alert manager:\r\ninterface\r\n\r\n    public interface AlertManagerExt extends AlertManager {\r\n\t\tvoid successCode(String messageCode, Object... args);\r\n\t\tvoid infoCode(String messageCode, Object... args);\r\n\t\tvoid warnCode(String messageCode, Object... args);\r\n\t\tvoid errorCode(String messageCode, Object... args);\r\n\t}\r\n\r\n\r\nand implementation\r\n\r\n    public class AlertManagerExtImpl extends AlertManagerImpl implements AlertManagerExt {\r\n\t\r\n\t\tprivate final Messages messages;\r\n\t\r\n\t\tpublic AlertManagerExtImpl(ApplicationStateManager asm, Request request, AjaxResponseRenderer ajaxResponseRenderer,\r\n\t\t\t\tPerthreadManager perThreadManager, Messages messages) {\r\n\t\t\tsuper(asm, request, ajaxResponseRenderer, perThreadManager);\r\n\t\t\tthis.messages = messages;\r\n\t\t}\r\n\t\r\n\t\t@Override\r\n\t\tpublic void successCode(String messageCode, Object... args) {\r\n\t\t\tsuccess(getMessage(messageCode, args));\r\n\t\t}\r\n\t\r\n\t\t@Override\r\n\t\tpublic void infoCode(String messageCode, Object... args) {\r\n\t\t\tinfo(getMessage(messageCode, args));\r\n\t\t}\r\n\t\r\n\t\t@Override\r\n\t\tpublic void warnCode(String messageCode, Object... args) {\r\n\t\t\twarn(getMessage(messageCode, args));\r\n\t\t}\r\n\t\r\n\t\t@Override\r\n\t\tpublic void errorCode(String messageCode, Object... args) {\r\n\t\t\terror(getMessage(messageCode, args));\r\n\t\t}\r\n\t\r\n\t\tprotected String getMessage(String code, Object... args) {\r\n\t\t\tif (args.length &gt; 0) {\r\n\t\t\t\treturn messages.format(code, args);\r\n\t\t\t}\r\n\t\t\treturn messages.get(code);\r\n\t\t}\r\n\t}\r\nWhen I tried to bind it via binder:\r\n\r\n    binder.bind(AlertManagerExt.class, AlertManagerExtImpl.class);\r\nI got exception:\r\n\r\n    java.lang.RuntimeException: Service interface org.apache.tapestry5.alerts.AlertManager is matched by 2 services: AlertManager, AlertManagerExtImpl.  Automatic dependency resolution requires that exactly one service implement the interface.\r\n\tat org.apache.tapestry5.ioc.internal.RegistryImpl.getServiceByTypeAlone(RegistryImpl.java:789)\r\n\tat org.apache.tapestry5.ioc.internal.RegistryImpl.getServiceByTypeAndMarkers(RegistryImpl.java:797)\r\n\tat org.apache.tapestry5.ioc.internal.RegistryImpl.getService(RegistryImpl.java:755)\r\n\r\nI know I can copy-and-paste all methods from AlertManager and do not extend it. But may be there is better way?","title":"How to override tapestry AlertManager","body":"<p>I have created extended alert manager:\ninterface</p>\n\n<pre><code>public interface AlertManagerExt extends AlertManager {\n    void successCode(String messageCode, Object... args);\n    void infoCode(String messageCode, Object... args);\n    void warnCode(String messageCode, Object... args);\n    void errorCode(String messageCode, Object... args);\n}\n</code></pre>\n\n<p>and implementation</p>\n\n<pre><code>public class AlertManagerExtImpl extends AlertManagerImpl implements AlertManagerExt {\n\n    private final Messages messages;\n\n    public AlertManagerExtImpl(ApplicationStateManager asm, Request request, AjaxResponseRenderer ajaxResponseRenderer,\n            PerthreadManager perThreadManager, Messages messages) {\n        super(asm, request, ajaxResponseRenderer, perThreadManager);\n        this.messages = messages;\n    }\n\n    @Override\n    public void successCode(String messageCode, Object... args) {\n        success(getMessage(messageCode, args));\n    }\n\n    @Override\n    public void infoCode(String messageCode, Object... args) {\n        info(getMessage(messageCode, args));\n    }\n\n    @Override\n    public void warnCode(String messageCode, Object... args) {\n        warn(getMessage(messageCode, args));\n    }\n\n    @Override\n    public void errorCode(String messageCode, Object... args) {\n        error(getMessage(messageCode, args));\n    }\n\n    protected String getMessage(String code, Object... args) {\n        if (args.length &gt; 0) {\n            return messages.format(code, args);\n        }\n        return messages.get(code);\n    }\n}\n</code></pre>\n\n<p>When I tried to bind it via binder:</p>\n\n<pre><code>binder.bind(AlertManagerExt.class, AlertManagerExtImpl.class);\n</code></pre>\n\n<p>I got exception:</p>\n\n<pre><code>java.lang.RuntimeException: Service interface org.apache.tapestry5.alerts.AlertManager is matched by 2 services: AlertManager, AlertManagerExtImpl.  Automatic dependency resolution requires that exactly one service implement the interface.\nat org.apache.tapestry5.ioc.internal.RegistryImpl.getServiceByTypeAlone(RegistryImpl.java:789)\nat org.apache.tapestry5.ioc.internal.RegistryImpl.getServiceByTypeAndMarkers(RegistryImpl.java:797)\nat org.apache.tapestry5.ioc.internal.RegistryImpl.getService(RegistryImpl.java:755)\n</code></pre>\n\n<p>I know I can copy-and-paste all methods from AlertManager and do not extend it. But may be there is better way?</p>\n"},{"tags":["java","aem","sling"],"answers":[{"tags":[],"owner":{"account_id":20241490,"reputation":159,"user_id":14845251,"display_name":"Vikka"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1663243560,"creation_date":1663243292,"answer_id":73730774,"question_id":73636162,"body_markdown":"    cf.getElement(&quot;summary&quot;).getContent(); \r\n\r\ngetContent() is return only string and if you have node value store which describe String/Text only then recommended to use. \r\n\r\n\r\n     cf.getElement(&quot;summary&quot;).getValue();\r\ngetValue() is returning FragmentData, which have option of multiple types to get value/values\r\n\r\n    cf.getElement(&quot;summary&quot;).getValue().getValue();\r\ngetValue() - which return Object (which you can cast) , \r\ngetValue(T)  - which return converted type T \r\n\r\nNutshell - getContent() is recommended when you have only string/text type. if you have different types you can leverage getValue()\r\n \r\n\r\n    ","title":"How to retrieve data from ContentFragment in AEM","body":"<pre><code>cf.getElement(&quot;summary&quot;).getContent(); \n</code></pre>\n<p>getContent() is return only string and if you have node value store which describe String/Text only then recommended to use.</p>\n<pre><code> cf.getElement(&quot;summary&quot;).getValue();\n</code></pre>\n<p>getValue() is returning FragmentData, which have option of multiple types to get value/values</p>\n<pre><code>cf.getElement(&quot;summary&quot;).getValue().getValue();\n</code></pre>\n<p>getValue() - which return Object (which you can cast) ,\ngetValue(T)  - which return converted type T</p>\n<p>Nutshell - getContent() is recommended when you have only string/text type. if you have different types you can leverage getValue()</p>\n"}],"owner":{"account_id":17966389,"reputation":163,"user_id":13056188,"display_name":"watopin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1569,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73730774,"answer_count":1,"score":1,"last_activity_date":1689275937,"creation_date":1662556312,"question_id":73636162,"body_markdown":"I think there are 2 ways retrieve data from Content Fragment.\r\n\r\n```\r\nContentFragment cf = resourceResolver.resolve(cfPath).adaptTo(ContentFragment.class);\r\n\r\ncf.getElement(&quot;summary&quot;).getContent();                      // way1\r\ncf.getElement(&quot;summary&quot;).getValue().getValue(String.class); // way2\r\n```\r\n\r\nWhen I need to get String value, are there any difference between way1 and way2?\r\nWhich is better way?\r\n\r\nAdditional question:\r\n\r\nWhen I need to get multiple values, is this only way to retrieve data from CF?\r\n\r\n```\r\nString[] array = cf.getElement(&quot;imagePaths&quot;).getValue().getValue(String[].class);\r\n```","title":"How to retrieve data from ContentFragment in AEM","body":"<p>I think there are 2 ways retrieve data from Content Fragment.</p>\n<pre><code>ContentFragment cf = resourceResolver.resolve(cfPath).adaptTo(ContentFragment.class);\n\ncf.getElement(&quot;summary&quot;).getContent();                      // way1\ncf.getElement(&quot;summary&quot;).getValue().getValue(String.class); // way2\n</code></pre>\n<p>When I need to get String value, are there any difference between way1 and way2?\nWhich is better way?</p>\n<p>Additional question:</p>\n<p>When I need to get multiple values, is this only way to retrieve data from CF?</p>\n<pre><code>String[] array = cf.getElement(&quot;imagePaths&quot;).getValue().getValue(String[].class);\n</code></pre>\n"},{"tags":["java","swing","animation","cardlayout"],"comments":[{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":1,"creation_date":1689275628,"post_id":76682545,"comment_id":135194428,"body_markdown":"Your question is broad and is asking several things all at once, and I advice you not to do this -- fix one thing at a time, and ask about one thing, at a time. Having said that, 1) don&#39;t override paint, override paintComponent. Call the super&#39;s painting method in your own painting method (again, super.paintComponent(g)). 3) Never call repaint within a painting method. 4) If you need to redraw a static background image, then draw it as a BufferedImage and then re-draw just that where needed. 5) read any tutorial on Swing graphics.","body":"Your question is broad and is asking several things all at once, and I advice you not to do this -- fix one thing at a time, and ask about one thing, at a time. Having said that, 1) don&#39;t override paint, override paintComponent. Call the super&#39;s painting method in your own painting method (again, super.paintComponent(g)). 3) Never call repaint within a painting method. 4) If you need to redraw a static background image, then draw it as a BufferedImage and then re-draw just that where needed. 5) read any tutorial on Swing graphics."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1689275667,"post_id":76682545,"comment_id":135194434,"body_markdown":"And you are unable to Google the issue because you haven&#39;t yet *isolated* your separate issues. Again, do this first, and Google each individual issue in isolation.","body":"And you are unable to Google the issue because you haven&#39;t yet <i>isolated</i> your separate issues. Again, do this first, and Google each individual issue in isolation."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1689275691,"post_id":76682545,"comment_id":135194442,"body_markdown":"And this does not appear to have anything to do with an issue with CardLayout","body":"And this does not appear to have anything to do with an issue with CardLayout"},{"owner":{"account_id":27957120,"reputation":19,"user_id":21349725,"display_name":"Jon doe"},"score":0,"creation_date":1689275736,"post_id":76682545,"comment_id":135194453,"body_markdown":"@HovercraftFullOfEels Actually I am asking about 1 thing in this post I am asking the cause of performance issues.","body":"@HovercraftFullOfEels Actually I am asking about 1 thing in this post I am asking the cause of performance issues."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1689275839,"post_id":76682545,"comment_id":135194475,"body_markdown":"If you&#39;re asking about performance, then post a question where the question can be answered, including [mre] code that reproduces the issue for us. Again, I posit that this question, as written, is far too broad.","body":"If you&#39;re asking about performance, then post a question where the question can be answered, including <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> code that reproduces the issue for us. Again, I posit that this question, as written, is far too broad."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1689275875,"post_id":76682545,"comment_id":135194479,"body_markdown":"But yeah, get rid of the repaint, use paintComponent, and use a Swing Timer as your animation loop","body":"But yeah, get rid of the repaint, use paintComponent, and use a Swing Timer as your animation loop"},{"owner":{"account_id":27957120,"reputation":19,"user_id":21349725,"display_name":"Jon doe"},"score":0,"creation_date":1689275909,"post_id":76682545,"comment_id":135194482,"body_markdown":"@HovercraftFullOfEels I have posted a minimal repodrucible example this is the code I am running and I described what happens when I run it.","body":"@HovercraftFullOfEels I have posted a minimal repodrucible example this is the code I am running and I described what happens when I run it."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1689275967,"post_id":76682545,"comment_id":135194493,"body_markdown":"Then follow the recommendations that I&#39;ve given you above.","body":"Then follow the recommendations that I&#39;ve given you above."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1689276028,"post_id":76682545,"comment_id":135194502,"body_markdown":"Tutorials: [Swing Timer](http://docs.oracle.com/javase/tutorial/uiswing/misc/timer.html). [Swing Tutorials](http://docs.oracle.com/javase/tutorial/uiswing/index.html). [Lesson: Performing Custom Painting](http://docs.oracle.com/javase/tutorial/uiswing/painting/index.html).","body":"Tutorials: <a href=\"http://docs.oracle.com/javase/tutorial/uiswing/misc/timer.html\" rel=\"nofollow noreferrer\">Swing Timer</a>. <a href=\"http://docs.oracle.com/javase/tutorial/uiswing/index.html\" rel=\"nofollow noreferrer\">Swing Tutorials</a>. <a href=\"http://docs.oracle.com/javase/tutorial/uiswing/painting/index.html\" rel=\"nofollow noreferrer\">Lesson: Performing Custom Painting</a>."},{"owner":{"account_id":27957120,"reputation":19,"user_id":21349725,"display_name":"Jon doe"},"score":0,"creation_date":1689276190,"post_id":76682545,"comment_id":135194527,"body_markdown":"@HovercraftFullOfEels I am not sure you understand the question.","body":"@HovercraftFullOfEels I am not sure you understand the question."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1689276413,"post_id":76682545,"comment_id":135194576,"body_markdown":"I understand that you are doing many many things wrong in this code, several of which can impact on &quot;performance&quot; none of which involve a problem with CardLayout. Again, fix all those bugs mentioned.","body":"I understand that you are doing many many things wrong in this code, several of which can impact on &quot;performance&quot; none of which involve a problem with CardLayout. Again, fix all those bugs mentioned."},{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":1,"creation_date":1689276444,"post_id":76682545,"comment_id":135194583,"body_markdown":"You are producing an &quot;endless loop&quot; by calling `repaint` inside of your implementation of the `paint` method. This will invoke `paint` again. But still: have a look at the linked duplicate, it should give you insights about performant painting in Swing. Also have a look at the javadoc of `paint` and `repaint`.","body":"You are producing an &quot;endless loop&quot; by calling <code>repaint</code> inside of your implementation of the <code>paint</code> method. This will invoke <code>paint</code> again. But still: have a look at the linked duplicate, it should give you insights about performant painting in Swing. Also have a look at the javadoc of <code>paint</code> and <code>repaint</code>."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1689276696,"post_id":76682545,"comment_id":135194633,"body_markdown":"Yes, @cyberbrain is correct, and his suggestions are as I already have mentioned above: never call paint within a painting method. Use a Swing Timer for your animation loop. This code is full of errors.","body":"Yes, @cyberbrain is correct, and his suggestions are as I already have mentioned above: never call paint within a painting method. Use a Swing Timer for your animation loop. This code is full of errors."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1689277052,"post_id":76682545,"comment_id":135194710,"body_markdown":"I&#39;m not sure of the purpose of the `board()` method, since it is never called, and thus doesn&#39;t belong in your [mre]. If you do call it multiple times and if this drawing portion doesn&#39;t change (a non-dynamic or &quot;static&quot; image), then *again*, get rid of the method and instead create a BufferedImage with that drawing and simply draw the background with the buffered image.","body":"I&#39;m not sure of the purpose of the <code>board()</code> method, since it is never called, and thus doesn&#39;t belong in your <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. If you do call it multiple times and if this drawing portion doesn&#39;t change (a non-dynamic or &quot;static&quot; image), then <i>again</i>, get rid of the method and instead create a BufferedImage with that drawing and simply draw the background with the buffered image."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1689277642,"post_id":76682545,"comment_id":135194825,"body_markdown":"Correction: never call `repaint()` within any painting method. This is a &quot;poor-man&#39;s&quot; animation loop, one that you cannot control in any reasonable way.","body":"Correction: never call <code>repaint()</code> within any painting method. This is a &quot;poor-man&#39;s&quot; animation loop, one that you cannot control in any reasonable way."},{"owner":{"account_id":27957120,"reputation":19,"user_id":21349725,"display_name":"Jon doe"},"score":0,"creation_date":1689278002,"post_id":76682545,"comment_id":135194901,"body_markdown":"@HovercraftFullOfEels I understand what you mean now from the other lad too I needed things explained in simpeliar terms to understand it I sincerly thank you for your effort. I have now despite it not being related fixed the performence issue of my previous project. and will now be on my way for this one.","body":"@HovercraftFullOfEels I understand what you mean now from the other lad too I needed things explained in simpeliar terms to understand it I sincerly thank you for your effort. I have now despite it not being related fixed the performence issue of my previous project. and will now be on my way for this one."},{"owner":{"account_id":27957120,"reputation":19,"user_id":21349725,"display_name":"Jon doe"},"score":0,"creation_date":1689278017,"post_id":76682545,"comment_id":135194903,"body_markdown":"@cyberbrain thank you too.","body":"@cyberbrain thank you too."}],"owner":{"account_id":27957120,"reputation":19,"user_id":21349725,"display_name":"Jon doe"},"comment_count":17,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1689275951,"answer_count":0,"score":0,"last_activity_date":1689275728,"creation_date":1689275426,"question_id":76682545,"body_markdown":"So in my previous question I was informed of cardlayout and I tried to implement it in my code but I am having quite severe issues running the code. I am running Linux mint and visual studio code if that matters.\r\n\r\nFirst when I press the red X to close the Jframe there is a 2 second delay before it closes.\r\nSecondly, when I try to move around the frame it pretty much messes my whole screen and everything on it. When I say everything I mean it I have to minimize Firefox to get it back to normal. \r\n\r\nEssentially my question is since I cannot figure out from googling if the issue is caused by something in the code or something else I ask here. \r\n\r\nThe main class below essentially just copied code. \r\n\r\n```\r\npublic class SpaceInvaders extends JFrame implements ActionListener  \r\n{    \r\n  \r\nCardLayout crd;    \r\n  \r\n// button variables to hold the references of buttons  \r\nJButton btn1, btn2, btn3;    \r\nContainer cPane;   \r\nBoard board = new Board();\r\n  \r\n// constructor of the class  \r\nSpaceInvaders()  \r\n{    \r\n  \r\ncPane = getContentPane();    \r\n  \r\n//default constructor used  \r\n// therefore, components will   \r\n// cover the whole area  \r\ncrd = new CardLayout();    \r\n  \r\ncPane.setLayout(crd);    \r\n  \r\n// creating the buttons  \r\nbtn1 = new JButton(&quot;Apple&quot;);      \r\n  \r\n// adding listeners to it  \r\nbtn1.addActionListener(this);       \r\n  \r\ncPane.add(&quot;a&quot;, btn1);\r\ncPane.add(board); // first card is the button btn1  \r\n//cPane.add(&quot;b&quot;, btn2); // first card is the button btn2  \r\n//cPane.add(&quot;c&quot;, btn3);  // first card is the button btn3  \r\n\r\n            \r\n}    \r\npublic void actionPerformed(ActionEvent e)   \r\n{    \r\n// Upon clicking the button, the next card of the container is shown  \r\n// after the last card, again, the first card of the container is shown upon clicking  \r\ncrd.next(cPane);    \r\n}    \r\n  \r\n// main method  \r\npublic static void main(String argvs[])   \r\n{     \r\n// creating an object of the class CardLayoutExample1  \r\nSpaceInvaders crdl = new SpaceInvaders();   \r\ncrdl.setTitle ( &quot;Space invaders&quot; );//Title of the screen\r\ncrdl.setSize ( 900, 900 );//Size of the windowc  \r\n// size is 300 * 300          \r\ncrdl.setVisible(true);    \r\ncrdl.setDefaultCloseOperation(EXIT_ON_CLOSE);    \r\n}    \r\n} \r\n```\r\n\r\nThe board class with some random drawn things.\r\n\r\n\r\n```\r\nimport java.awt.BasicStroke;\r\nimport java.awt.Color;\r\nimport java.awt.Font;\r\nimport java.awt.Graphics;\r\nimport java.awt.Graphics2D;\r\nimport java.awt.Stroke;\r\nimport javax.swing.JPanel;\r\n\r\npublic class Board extends JPanel {\r\n\r\n    public Board(){\r\n\r\n        setFocusable(true);\r\n    }\r\n\r\n\tpublic void paint(Graphics g) {\r\n\t    g.setColor(Color.DARK_GRAY);\r\n\t    g.fillRect(0, 0, 900, 900);\r\n\t    g.setColor(Color.WHITE);\t\t    \r\n\t    g.drawRect (20, 20, 864, 624);  \r\n\t\tg.setColor(Color.BLACK);\r\n\t\tg.fillRect (21, 21, 863, 623);\r\n\t    g.setColor(Color.WHITE);\t\r\n\t    g.setFont(new Font(&quot;arial&quot;,Font.PLAIN,14));\r\n        repaint();\r\n    }\r\n\r\n    public void board(Graphics g) {\r\n        Graphics2D g2d = (Graphics2D) g;\r\n        Stroke stroke1 = new BasicStroke(4f);\r\n        g2d.setColor(Color.white);\r\n        g2d.setStroke(stroke1);\r\n        g2d.drawRect(20, 50, 850, 600);\r\n        g2d.setColor(Color.white);\r\n        float[] dashingPattern2 = {10f, 4f};\r\n        Stroke stroke2 = new BasicStroke(4f, BasicStroke.CAP_BUTT,\r\n        BasicStroke.JOIN_MITER, 1.0f, dashingPattern2, 0.0f);\r\n        g2d.setStroke(stroke2);\r\n        g2d.drawLine(448, 50, 448, 650);\r\n        g.setFont(new Font(&quot;arial&quot;,Font.PLAIN,30));\r\n    }\r\n\r\n\r\n}\r\n```\r\n\r\n\r\n\r\n\r\nI have tried to google the issue but it does not seem to come up so I assume it caused by something else in the code.\r\n\r\nI am thinking of coding the menu in a different way making a new menu class but I wanna have it done using Jbuttons.","title":"Java cardlayout performence issues, is it the code or caused by something else?","body":"<p>So in my previous question I was informed of cardlayout and I tried to implement it in my code but I am having quite severe issues running the code. I am running Linux mint and visual studio code if that matters.</p>\n<p>First when I press the red X to close the Jframe there is a 2 second delay before it closes.\nSecondly, when I try to move around the frame it pretty much messes my whole screen and everything on it. When I say everything I mean it I have to minimize Firefox to get it back to normal.</p>\n<p>Essentially my question is since I cannot figure out from googling if the issue is caused by something in the code or something else I ask here.</p>\n<p>The main class below essentially just copied code.</p>\n<pre><code>public class SpaceInvaders extends JFrame implements ActionListener  \n{    \n  \nCardLayout crd;    \n  \n// button variables to hold the references of buttons  \nJButton btn1, btn2, btn3;    \nContainer cPane;   \nBoard board = new Board();\n  \n// constructor of the class  \nSpaceInvaders()  \n{    \n  \ncPane = getContentPane();    \n  \n//default constructor used  \n// therefore, components will   \n// cover the whole area  \ncrd = new CardLayout();    \n  \ncPane.setLayout(crd);    \n  \n// creating the buttons  \nbtn1 = new JButton(&quot;Apple&quot;);      \n  \n// adding listeners to it  \nbtn1.addActionListener(this);       \n  \ncPane.add(&quot;a&quot;, btn1);\ncPane.add(board); // first card is the button btn1  \n//cPane.add(&quot;b&quot;, btn2); // first card is the button btn2  \n//cPane.add(&quot;c&quot;, btn3);  // first card is the button btn3  \n\n            \n}    \npublic void actionPerformed(ActionEvent e)   \n{    \n// Upon clicking the button, the next card of the container is shown  \n// after the last card, again, the first card of the container is shown upon clicking  \ncrd.next(cPane);    \n}    \n  \n// main method  \npublic static void main(String argvs[])   \n{     \n// creating an object of the class CardLayoutExample1  \nSpaceInvaders crdl = new SpaceInvaders();   \ncrdl.setTitle ( &quot;Space invaders&quot; );//Title of the screen\ncrdl.setSize ( 900, 900 );//Size of the windowc  \n// size is 300 * 300          \ncrdl.setVisible(true);    \ncrdl.setDefaultCloseOperation(EXIT_ON_CLOSE);    \n}    \n} \n</code></pre>\n<p>The board class with some random drawn things.</p>\n<pre><code>import java.awt.BasicStroke;\nimport java.awt.Color;\nimport java.awt.Font;\nimport java.awt.Graphics;\nimport java.awt.Graphics2D;\nimport java.awt.Stroke;\nimport javax.swing.JPanel;\n\npublic class Board extends JPanel {\n\n    public Board(){\n\n        setFocusable(true);\n    }\n\n    public void paint(Graphics g) {\n        g.setColor(Color.DARK_GRAY);\n        g.fillRect(0, 0, 900, 900);\n        g.setColor(Color.WHITE);            \n        g.drawRect (20, 20, 864, 624);  \n        g.setColor(Color.BLACK);\n        g.fillRect (21, 21, 863, 623);\n        g.setColor(Color.WHITE);    \n        g.setFont(new Font(&quot;arial&quot;,Font.PLAIN,14));\n        repaint();\n    }\n\n    public void board(Graphics g) {\n        Graphics2D g2d = (Graphics2D) g;\n        Stroke stroke1 = new BasicStroke(4f);\n        g2d.setColor(Color.white);\n        g2d.setStroke(stroke1);\n        g2d.drawRect(20, 50, 850, 600);\n        g2d.setColor(Color.white);\n        float[] dashingPattern2 = {10f, 4f};\n        Stroke stroke2 = new BasicStroke(4f, BasicStroke.CAP_BUTT,\n        BasicStroke.JOIN_MITER, 1.0f, dashingPattern2, 0.0f);\n        g2d.setStroke(stroke2);\n        g2d.drawLine(448, 50, 448, 650);\n        g.setFont(new Font(&quot;arial&quot;,Font.PLAIN,30));\n    }\n\n\n}\n</code></pre>\n<p>I have tried to google the issue but it does not seem to come up so I assume it caused by something else in the code.</p>\n<p>I am thinking of coding the menu in a different way making a new menu class but I wanna have it done using Jbuttons.</p>\n"},{"tags":["java","android","node.js","server","android-volley"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1689320196,"post_id":76682546,"comment_id":135199524,"body_markdown":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example).","body":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."},{"owner":{"account_id":28077577,"reputation":3,"user_id":21449179,"display_name":"Efe Bostancı"},"score":0,"creation_date":1689352329,"post_id":76682546,"comment_id":135206340,"body_markdown":"all code will help to solve 1 endpoint, 1 activity and the class used in it","body":"all code will help to solve 1 endpoint, 1 activity and the class used in it"}],"owner":{"account_id":28077577,"reputation":3,"user_id":21449179,"display_name":"Efe Bostancı"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689275637,"creation_date":1689275444,"question_id":76682546,"body_markdown":"I am creating a chat page for users, everyone should be able to open their own chat and add chat photos, but somehow I cannot upload the photos I received from the user&#39;s gallery to the server.(only 1 photo will be uploaded at a time)\r\n\r\n# **Endpoint**\r\n\r\n```node.js\r\nconst multer = require(&#39;multer&#39;);\r\nconst path = require(&#39;path&#39;);\r\n\r\nconst storage = multer.diskStorage({\r\n    destination: function (req, file, cb) {\r\n        cb(null, &#39;uploads/&#39;);\r\n    },\r\n    filename: function (req, file, cb) {\r\n        const uniqueSuffix = Date.now() + &#39;-&#39; + Math.round(Math.random() * 1E9);\r\n        const ext = path.extname(file.originalname);\r\n        cb(null, uniqueSuffix + ext);\r\n    }\r\n});\r\n\r\nconst upload = multer({ storage: storage }).single(&#39;image&#39;);\r\n\r\napp.post(&#39;/api/chat/upload&#39;, (req, res) =&gt; {\r\n    upload(req, res, function (err) {\r\n        if (err instanceof multer.MulterError) {\r\n            console.error(&#39;Multer error:&#39;, err);\r\n            return res.status(500).json({ message: &#39;An error occurred during image upload&#39; });\r\n        } else if (err) {\r\n            console.error(&#39;Error:&#39;, err);\r\n            return res.status(500).json({ message: &#39;An error occurred during image upload&#39; });\r\n        }\r\n\r\n        const imageUrl = req.file.path;\r\n        const realImageUrl = `https://projechats.com/api/chat${imageUrl.replace(&#39;uploads/&#39;, &#39;images/&#39;)}`;\r\n        res.status(200).json({ imageUrl: realImageUrl });\r\n    });\r\n});\r\n```\r\n\r\n*other express, link and port codes are available in endpoint\r\n*\r\n\r\n\r\n*code where I take a photo from the user&#39;s gallery, crop it and round it*\r\n# **Activity code**\r\n\r\n\r\n```\r\npublic class FragmentCreateChat extends Fragment {\r\n\r\n    private static final int PICK_IMAGE_REQUEST = 1;\r\n    private static final int CROP_IMAGE_REQUEST = 2;\r\n\r\n    private ImageView selectImage, camIcon;\r\n    private Button createChatButton;\r\n    private Uri imageUri;\r\n\r\n    String groupname, groupdes;\r\n\r\n    @Override\r\n    public void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        getActivity().getWindow().setStatusBarColor(ContextCompat.getColor(getActivity(), R.color.mainColor));\r\n\r\n    }\r\n\r\n    @Override\r\n    public View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) {\r\n        View view = inflater.inflate(R.layout.fragment_create_chat, container, false);\r\n        createChatButton = view.findViewById(R.id.create_chat_button);\r\n        selectImage = view.findViewById(R.id.select_image);\r\n        camIcon = view.findViewById(R.id.camera_icon);\r\n        camIcon.setVisibility(View.VISIBLE);\r\n\r\n        selectImage.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                openGallery();\r\n            }\r\n        });\r\n\r\n        createChatButton.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                EditText createChatTitle = view.findViewById(R.id.create_chat_title);\r\n                EditText createChatDes = view.findViewById(R.id.create_chat_des);\r\n\r\n                groupname = createChatTitle.getText().toString().trim();\r\n                groupdes = createChatDes.getText().toString().trim();\r\n\r\n                if (groupname.isEmpty() || groupdes.isEmpty() || imageUri == null || groupname.matches(&quot;^\\\\s*$&quot;) || groupdes.matches(&quot;^\\\\s*$&quot;)) {\r\n                    Toast.makeText(getActivity(), &quot;Please fill all fields&quot;, Toast.LENGTH_SHORT).show();\r\n                    return;\r\n                } else if (groupname.length() &lt; 6 || groupdes.length() &lt; 20) {\r\n                    Toast.makeText(getActivity(), &quot;Chat name: at least 6 characters, description: at least 20 characters. should be&quot;, Toast.LENGTH_LONG).show();\r\n                    return;\r\n                } else {\r\n                    //sunucuya ve mysqle kayıt\r\n                    uploadImageToServer(((BitmapDrawable) selectImage.getDrawable()).getBitmap());\r\n                }\r\n            }\r\n        });\r\n\r\n        return view;\r\n    }\r\n\r\n    @Override\r\n    public void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {\r\n        super.onActivityResult(requestCode, resultCode, data);\r\n        if (requestCode == PICK_IMAGE_REQUEST &amp;&amp; resultCode == getActivity().RESULT_OK &amp;&amp; data != null &amp;&amp; data.getData() != null) {\r\n            imageUri = data.getData();\r\n            cropImage(imageUri);\r\n        } else if (requestCode == CROP_IMAGE_REQUEST &amp;&amp; resultCode == getActivity().RESULT_OK &amp;&amp; data != null) {\r\n            Bitmap bitmap = data.getParcelableExtra(&quot;data&quot;);\r\n            selectImage.setImageBitmap(bitmap);\r\n            camIcon.setVisibility(View.GONE);\r\n            setCircularImage();\r\n        }\r\n    }\r\n\r\n    private void openGallery() {\r\n        Intent intent = new Intent(Intent.ACTION_PICK, MediaStore.Images.Media.EXTERNAL_CONTENT_URI);\r\n        startActivityForResult(intent, PICK_IMAGE_REQUEST);\r\n    }\r\n\r\n    private void cropImage(Uri imageUri) {\r\n        Intent intent = new Intent(&quot;com.android.camera.action.CROP&quot;);\r\n        intent.setDataAndType(imageUri, &quot;image/*&quot;);\r\n        intent.putExtra(&quot;crop&quot;, &quot;true&quot;);\r\n        intent.putExtra(&quot;aspectX&quot;, 1);\r\n        intent.putExtra(&quot;aspectY&quot;, 1);\r\n        intent.putExtra(&quot;outputX&quot;, 200);\r\n        intent.putExtra(&quot;outputY&quot;, 200);\r\n        intent.putExtra(&quot;return-data&quot;, true);\r\n        startActivityForResult(intent, CROP_IMAGE_REQUEST);\r\n    }\r\n\r\n    private void setCircularImage() {\r\n        Bitmap bitmap = ((BitmapDrawable) selectImage.getDrawable()).getBitmap();\r\n\r\n        int desiredSizeDp = 60;\r\n        float scale = getResources().getDisplayMetrics().density;\r\n        int desiredSizePx = (int) (desiredSizeDp * scale + 0.5f);\r\n\r\n        Bitmap scaledBitmap = Bitmap.createScaledBitmap(bitmap, desiredSizePx, desiredSizePx, false);\r\n        Bitmap circularBitmap = Bitmap.createBitmap(desiredSizePx, desiredSizePx, Bitmap.Config.ARGB_8888);\r\n        Canvas canvas = new Canvas(circularBitmap);\r\n        Paint paint = new Paint();\r\n        RectF rectF = new RectF(0, 0, desiredSizePx, desiredSizePx);\r\n        float radius = desiredSizePx / 2f;\r\n\r\n        paint.setAntiAlias(true);\r\n        canvas.drawARGB(0, 0, 0, 0);\r\n        canvas.drawRoundRect(rectF, radius, radius, paint);\r\n        paint.setXfermode(new android.graphics.PorterDuffXfermode(android.graphics.PorterDuff.Mode.SRC_IN));\r\n        canvas.drawBitmap(scaledBitmap, null, rectF, paint);\r\n\r\n        selectImage.setImageBitmap(circularBitmap);\r\n    }\r\n\r\n    private void createNewChat(String groupphoto, String groupname, String groupdes) {\r\n        SharedPreferences sharedPreferences = getActivity().getSharedPreferences(getString(R.string.MyUserid), Context.MODE_PRIVATE);\r\n        String adminid = sharedPreferences.getString(&quot;userid&quot;, &quot;&quot;);\r\n\r\n        Response.Listener&lt;String&gt; responseListener = new Response.Listener&lt;String&gt;() {\r\n            @Override\r\n            public void onResponse(String response) {\r\n                Toast.makeText(getActivity(), &quot;Successfully created&quot;, Toast.LENGTH_SHORT).show();\r\n                getActivity().finish();\r\n            }\r\n        };\r\n\r\n        Response.ErrorListener errorListener = new Response.ErrorListener() {\r\n            @Override\r\n            public void onErrorResponse(VolleyError error) {\r\n                if (error.networkResponse != null) {\r\n                    if (error.networkResponse.statusCode == 400) {\r\n                        Toast.makeText(getActivity(), &quot;Invalid or missing fields&quot;, Toast.LENGTH_SHORT).show();\r\n                    } else if (error.networkResponse.statusCode == 409) {\r\n                        Toast.makeText(getActivity(), &quot;Group already exists with this name&quot;, Toast.LENGTH_SHORT).show();\r\n                    } else {\r\n                        Toast.makeText(getActivity(), &quot;An error occurred, please try again later&quot;, Toast.LENGTH_SHORT).show();\r\n                    }\r\n                } else {\r\n                    Toast.makeText(getActivity(), &quot;Could not connect to server. Please check your Internet connection&quot;, Toast.LENGTH_SHORT).show();\r\n                }\r\n            }\r\n        };\r\n\r\n        VolleyCreateNewChat createNewChat = new VolleyCreateNewChat(adminid, groupphoto, groupname, groupdes, responseListener, errorListener);\r\n        RequestQueue requestQueue = Volley.newRequestQueue(getActivity());\r\n        requestQueue.add(createNewChat);\r\n    }\r\n\r\n    private void uploadImageToServer(Bitmap imageBitmap) {\r\n        Response.Listener&lt;String&gt; responseListener = new Response.Listener&lt;String&gt;() {\r\n            @Override\r\n            public void onResponse(String response) {\r\n                String imageUrl = response; // &#214;rnek bir URL\r\n                createNewChat(imageUrl, groupname, groupdes);\r\n            }\r\n        };\r\n\r\n        Response.ErrorListener errorListener = new Response.ErrorListener() {\r\n            @Override\r\n            public void onErrorResponse(VolleyError error) {\r\n                Toast.makeText(getActivity(), &quot;An error occurred while uploading the image&quot;, Toast.LENGTH_SHORT).show();\r\n            }\r\n        };\r\n\r\n        VolleyUploadImageRequest uploadImageRequest = new VolleyUploadImageRequest(imageBitmap, responseListener, errorListener);\r\n        RequestQueue requestQueue = Volley.newRequestQueue(getActivity());\r\n        requestQueue.add(uploadImageRequest);\r\n    }\r\n}\r\n```\r\n\r\n--------------------------------------------------------------------------\r\n```java\r\npublic class VolleyUploadImageRequest extends Request&lt;String&gt; {\r\n    private static final String URL = &quot;https://projechats.com/api/chat/upload&quot;; // Sunucu URL&#39;sini buraya yerleştirin\r\n    private static final String BOUNDARY = &quot;*****&quot;;\r\n    private static final String LINE_FEED = &quot;\\r\\n&quot;;\r\n    private static final String TWO_HYPHENS = &quot;--&quot;;\r\n\r\n    private Bitmap imageBitmap;\r\n    private Response.Listener&lt;String&gt; responseListener;\r\n\r\n    public VolleyUploadImageRequest(Bitmap imageBitmap, Response.Listener&lt;String&gt; responseListener, Response.ErrorListener errorListener) {\r\n        super(Method.POST, URL, errorListener);\r\n        this.imageBitmap = imageBitmap;\r\n        this.responseListener = responseListener;\r\n    }\r\n\r\n    @Override\r\n    public String getBodyContentType() {\r\n        return &quot;multipart/form-data;boundary=&quot; + BOUNDARY;\r\n    }\r\n\r\n    @Override\r\n    public byte[] getBody() throws AuthFailureError {\r\n        ByteArrayOutputStream outputStream = new ByteArrayOutputStream();\r\n        DataOutputStream dataOutputStream = new DataOutputStream(outputStream);\r\n\r\n        try {\r\n            // Resim dosyasının başlangıcını işaret et\r\n            dataOutputStream.writeBytes(TWO_HYPHENS + BOUNDARY + LINE_FEED);\r\n            dataOutputStream.writeBytes(&quot;Content-Disposition: form-data; name=\\&quot;file\\&quot;;filename=\\&quot;image.jpg\\&quot;&quot; + LINE_FEED);\r\n            dataOutputStream.writeBytes(LINE_FEED);\r\n\r\n            // Resmi byte dizisine d&#246;n&#252;şt&#252;r\r\n            ByteArrayOutputStream byteArrayOutputStream = new ByteArrayOutputStream();\r\n            imageBitmap.compress(Bitmap.CompressFormat.JPEG, 100, byteArrayOutputStream);\r\n            byte[] imageBytes = byteArrayOutputStream.toByteArray();\r\n\r\n            // Byte dizisini &#231;ıktı akışına yaz\r\n            dataOutputStream.write(imageBytes);\r\n            dataOutputStream.writeBytes(LINE_FEED);\r\n\r\n            // Resim dosyasının sonunu işaret et\r\n            dataOutputStream.writeBytes(TWO_HYPHENS + BOUNDARY + TWO_HYPHENS + LINE_FEED);\r\n            dataOutputStream.flush();\r\n            dataOutputStream.close();\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n\r\n        return outputStream.toByteArray();\r\n    }\r\n\r\n    @Override\r\n    protected Response&lt;String&gt; parseNetworkResponse(NetworkResponse response) {\r\n        try {\r\n            String responseBody = new String(response.data, HttpHeaderParser.parseCharset(response.headers));\r\n            return Response.success(responseBody, HttpHeaderParser.parseCacheHeaders(response));\r\n        } catch (UnsupportedEncodingException e) {\r\n            e.printStackTrace();\r\n            return Response.error(new VolleyError(e));\r\n        }\r\n    }\r\n\r\n    @Override\r\n    protected void deliverResponse(String response) {\r\n        responseListener.onResponse(response);\r\n    }\r\n}\r\n```\r\n\r\nHow can I save the user selected photo to the server and get the url to view the photo later in the app?\r\nmy current codes are giving 500 error i checked everything on server but still not working","title":"Uploading photos to server with node.js using android java, volley","body":"<p>I am creating a chat page for users, everyone should be able to open their own chat and add chat photos, but somehow I cannot upload the photos I received from the user's gallery to the server.(only 1 photo will be uploaded at a time)</p>\n<h1><strong>Endpoint</strong></h1>\n<pre class=\"lang-js prettyprint-override\"><code>const multer = require('multer');\nconst path = require('path');\n\nconst storage = multer.diskStorage({\n    destination: function (req, file, cb) {\n        cb(null, 'uploads/');\n    },\n    filename: function (req, file, cb) {\n        const uniqueSuffix = Date.now() + '-' + Math.round(Math.random() * 1E9);\n        const ext = path.extname(file.originalname);\n        cb(null, uniqueSuffix + ext);\n    }\n});\n\nconst upload = multer({ storage: storage }).single('image');\n\napp.post('/api/chat/upload', (req, res) =&gt; {\n    upload(req, res, function (err) {\n        if (err instanceof multer.MulterError) {\n            console.error('Multer error:', err);\n            return res.status(500).json({ message: 'An error occurred during image upload' });\n        } else if (err) {\n            console.error('Error:', err);\n            return res.status(500).json({ message: 'An error occurred during image upload' });\n        }\n\n        const imageUrl = req.file.path;\n        const realImageUrl = `https://projechats.com/api/chat${imageUrl.replace('uploads/', 'images/')}`;\n        res.status(200).json({ imageUrl: realImageUrl });\n    });\n});\n</code></pre>\n<p>*other express, link and port codes are available in endpoint\n*</p>\n<p><em>code where I take a photo from the user's gallery, crop it and round it</em></p>\n<h1><strong>Activity code</strong></h1>\n<pre><code>public class FragmentCreateChat extends Fragment {\n\n    private static final int PICK_IMAGE_REQUEST = 1;\n    private static final int CROP_IMAGE_REQUEST = 2;\n\n    private ImageView selectImage, camIcon;\n    private Button createChatButton;\n    private Uri imageUri;\n\n    String groupname, groupdes;\n\n    @Override\n    public void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        getActivity().getWindow().setStatusBarColor(ContextCompat.getColor(getActivity(), R.color.mainColor));\n\n    }\n\n    @Override\n    public View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) {\n        View view = inflater.inflate(R.layout.fragment_create_chat, container, false);\n        createChatButton = view.findViewById(R.id.create_chat_button);\n        selectImage = view.findViewById(R.id.select_image);\n        camIcon = view.findViewById(R.id.camera_icon);\n        camIcon.setVisibility(View.VISIBLE);\n\n        selectImage.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                openGallery();\n            }\n        });\n\n        createChatButton.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                EditText createChatTitle = view.findViewById(R.id.create_chat_title);\n                EditText createChatDes = view.findViewById(R.id.create_chat_des);\n\n                groupname = createChatTitle.getText().toString().trim();\n                groupdes = createChatDes.getText().toString().trim();\n\n                if (groupname.isEmpty() || groupdes.isEmpty() || imageUri == null || groupname.matches(&quot;^\\\\s*$&quot;) || groupdes.matches(&quot;^\\\\s*$&quot;)) {\n                    Toast.makeText(getActivity(), &quot;Please fill all fields&quot;, Toast.LENGTH_SHORT).show();\n                    return;\n                } else if (groupname.length() &lt; 6 || groupdes.length() &lt; 20) {\n                    Toast.makeText(getActivity(), &quot;Chat name: at least 6 characters, description: at least 20 characters. should be&quot;, Toast.LENGTH_LONG).show();\n                    return;\n                } else {\n                    //sunucuya ve mysqle kayıt\n                    uploadImageToServer(((BitmapDrawable) selectImage.getDrawable()).getBitmap());\n                }\n            }\n        });\n\n        return view;\n    }\n\n    @Override\n    public void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {\n        super.onActivityResult(requestCode, resultCode, data);\n        if (requestCode == PICK_IMAGE_REQUEST &amp;&amp; resultCode == getActivity().RESULT_OK &amp;&amp; data != null &amp;&amp; data.getData() != null) {\n            imageUri = data.getData();\n            cropImage(imageUri);\n        } else if (requestCode == CROP_IMAGE_REQUEST &amp;&amp; resultCode == getActivity().RESULT_OK &amp;&amp; data != null) {\n            Bitmap bitmap = data.getParcelableExtra(&quot;data&quot;);\n            selectImage.setImageBitmap(bitmap);\n            camIcon.setVisibility(View.GONE);\n            setCircularImage();\n        }\n    }\n\n    private void openGallery() {\n        Intent intent = new Intent(Intent.ACTION_PICK, MediaStore.Images.Media.EXTERNAL_CONTENT_URI);\n        startActivityForResult(intent, PICK_IMAGE_REQUEST);\n    }\n\n    private void cropImage(Uri imageUri) {\n        Intent intent = new Intent(&quot;com.android.camera.action.CROP&quot;);\n        intent.setDataAndType(imageUri, &quot;image/*&quot;);\n        intent.putExtra(&quot;crop&quot;, &quot;true&quot;);\n        intent.putExtra(&quot;aspectX&quot;, 1);\n        intent.putExtra(&quot;aspectY&quot;, 1);\n        intent.putExtra(&quot;outputX&quot;, 200);\n        intent.putExtra(&quot;outputY&quot;, 200);\n        intent.putExtra(&quot;return-data&quot;, true);\n        startActivityForResult(intent, CROP_IMAGE_REQUEST);\n    }\n\n    private void setCircularImage() {\n        Bitmap bitmap = ((BitmapDrawable) selectImage.getDrawable()).getBitmap();\n\n        int desiredSizeDp = 60;\n        float scale = getResources().getDisplayMetrics().density;\n        int desiredSizePx = (int) (desiredSizeDp * scale + 0.5f);\n\n        Bitmap scaledBitmap = Bitmap.createScaledBitmap(bitmap, desiredSizePx, desiredSizePx, false);\n        Bitmap circularBitmap = Bitmap.createBitmap(desiredSizePx, desiredSizePx, Bitmap.Config.ARGB_8888);\n        Canvas canvas = new Canvas(circularBitmap);\n        Paint paint = new Paint();\n        RectF rectF = new RectF(0, 0, desiredSizePx, desiredSizePx);\n        float radius = desiredSizePx / 2f;\n\n        paint.setAntiAlias(true);\n        canvas.drawARGB(0, 0, 0, 0);\n        canvas.drawRoundRect(rectF, radius, radius, paint);\n        paint.setXfermode(new android.graphics.PorterDuffXfermode(android.graphics.PorterDuff.Mode.SRC_IN));\n        canvas.drawBitmap(scaledBitmap, null, rectF, paint);\n\n        selectImage.setImageBitmap(circularBitmap);\n    }\n\n    private void createNewChat(String groupphoto, String groupname, String groupdes) {\n        SharedPreferences sharedPreferences = getActivity().getSharedPreferences(getString(R.string.MyUserid), Context.MODE_PRIVATE);\n        String adminid = sharedPreferences.getString(&quot;userid&quot;, &quot;&quot;);\n\n        Response.Listener&lt;String&gt; responseListener = new Response.Listener&lt;String&gt;() {\n            @Override\n            public void onResponse(String response) {\n                Toast.makeText(getActivity(), &quot;Successfully created&quot;, Toast.LENGTH_SHORT).show();\n                getActivity().finish();\n            }\n        };\n\n        Response.ErrorListener errorListener = new Response.ErrorListener() {\n            @Override\n            public void onErrorResponse(VolleyError error) {\n                if (error.networkResponse != null) {\n                    if (error.networkResponse.statusCode == 400) {\n                        Toast.makeText(getActivity(), &quot;Invalid or missing fields&quot;, Toast.LENGTH_SHORT).show();\n                    } else if (error.networkResponse.statusCode == 409) {\n                        Toast.makeText(getActivity(), &quot;Group already exists with this name&quot;, Toast.LENGTH_SHORT).show();\n                    } else {\n                        Toast.makeText(getActivity(), &quot;An error occurred, please try again later&quot;, Toast.LENGTH_SHORT).show();\n                    }\n                } else {\n                    Toast.makeText(getActivity(), &quot;Could not connect to server. Please check your Internet connection&quot;, Toast.LENGTH_SHORT).show();\n                }\n            }\n        };\n\n        VolleyCreateNewChat createNewChat = new VolleyCreateNewChat(adminid, groupphoto, groupname, groupdes, responseListener, errorListener);\n        RequestQueue requestQueue = Volley.newRequestQueue(getActivity());\n        requestQueue.add(createNewChat);\n    }\n\n    private void uploadImageToServer(Bitmap imageBitmap) {\n        Response.Listener&lt;String&gt; responseListener = new Response.Listener&lt;String&gt;() {\n            @Override\n            public void onResponse(String response) {\n                String imageUrl = response; // Örnek bir URL\n                createNewChat(imageUrl, groupname, groupdes);\n            }\n        };\n\n        Response.ErrorListener errorListener = new Response.ErrorListener() {\n            @Override\n            public void onErrorResponse(VolleyError error) {\n                Toast.makeText(getActivity(), &quot;An error occurred while uploading the image&quot;, Toast.LENGTH_SHORT).show();\n            }\n        };\n\n        VolleyUploadImageRequest uploadImageRequest = new VolleyUploadImageRequest(imageBitmap, responseListener, errorListener);\n        RequestQueue requestQueue = Volley.newRequestQueue(getActivity());\n        requestQueue.add(uploadImageRequest);\n    }\n}\n</code></pre>\n<hr />\n<pre class=\"lang-java prettyprint-override\"><code>public class VolleyUploadImageRequest extends Request&lt;String&gt; {\n    private static final String URL = &quot;https://projechats.com/api/chat/upload&quot;; // Sunucu URL'sini buraya yerleştirin\n    private static final String BOUNDARY = &quot;*****&quot;;\n    private static final String LINE_FEED = &quot;\\r\\n&quot;;\n    private static final String TWO_HYPHENS = &quot;--&quot;;\n\n    private Bitmap imageBitmap;\n    private Response.Listener&lt;String&gt; responseListener;\n\n    public VolleyUploadImageRequest(Bitmap imageBitmap, Response.Listener&lt;String&gt; responseListener, Response.ErrorListener errorListener) {\n        super(Method.POST, URL, errorListener);\n        this.imageBitmap = imageBitmap;\n        this.responseListener = responseListener;\n    }\n\n    @Override\n    public String getBodyContentType() {\n        return &quot;multipart/form-data;boundary=&quot; + BOUNDARY;\n    }\n\n    @Override\n    public byte[] getBody() throws AuthFailureError {\n        ByteArrayOutputStream outputStream = new ByteArrayOutputStream();\n        DataOutputStream dataOutputStream = new DataOutputStream(outputStream);\n\n        try {\n            // Resim dosyasının başlangıcını işaret et\n            dataOutputStream.writeBytes(TWO_HYPHENS + BOUNDARY + LINE_FEED);\n            dataOutputStream.writeBytes(&quot;Content-Disposition: form-data; name=\\&quot;file\\&quot;;filename=\\&quot;image.jpg\\&quot;&quot; + LINE_FEED);\n            dataOutputStream.writeBytes(LINE_FEED);\n\n            // Resmi byte dizisine dönüştür\n            ByteArrayOutputStream byteArrayOutputStream = new ByteArrayOutputStream();\n            imageBitmap.compress(Bitmap.CompressFormat.JPEG, 100, byteArrayOutputStream);\n            byte[] imageBytes = byteArrayOutputStream.toByteArray();\n\n            // Byte dizisini çıktı akışına yaz\n            dataOutputStream.write(imageBytes);\n            dataOutputStream.writeBytes(LINE_FEED);\n\n            // Resim dosyasının sonunu işaret et\n            dataOutputStream.writeBytes(TWO_HYPHENS + BOUNDARY + TWO_HYPHENS + LINE_FEED);\n            dataOutputStream.flush();\n            dataOutputStream.close();\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n\n        return outputStream.toByteArray();\n    }\n\n    @Override\n    protected Response&lt;String&gt; parseNetworkResponse(NetworkResponse response) {\n        try {\n            String responseBody = new String(response.data, HttpHeaderParser.parseCharset(response.headers));\n            return Response.success(responseBody, HttpHeaderParser.parseCacheHeaders(response));\n        } catch (UnsupportedEncodingException e) {\n            e.printStackTrace();\n            return Response.error(new VolleyError(e));\n        }\n    }\n\n    @Override\n    protected void deliverResponse(String response) {\n        responseListener.onResponse(response);\n    }\n}\n</code></pre>\n<p>How can I save the user selected photo to the server and get the url to view the photo later in the app?\nmy current codes are giving 500 error i checked everything on server but still not working</p>\n"},{"tags":["java","spring-boot","tomcat"],"owner":{"account_id":16877725,"reputation":37,"user_id":12204692,"display_name":"Ujjawal Pandey"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689275239,"creation_date":1688386506,"question_id":76604644,"body_markdown":"So what&#39;s happening is, my service is running fine. Fetching data. But the problem is when the table is updated in the database by some other client, the table gets updated but my service is returning the older snapshot of the table, not the updated one.\r\nBut on restarting the service, it does.\r\n\r\nI am literally very new to Spring boot, tried a lot but no success.\r\n\r\nHere&#39;s the relevant portion of code.\r\n\r\n*SomeApi.java*\r\n```\r\n    @Autowired\r\n    private FRPEntityManager frpEntityManager;\r\n\r\n    @Autowired\r\n    private DBI sqlDBI;\r\n    \r\n    public List&lt;Workflow&gt; getFRPStatusFromDB() throws Exception {\r\n    \tHandle h = null;\r\n        List&lt;Workflow&gt; workflowList;\r\n        try {\r\n            h = this.sqlDBI.open();\r\n            h.begin();\r\n            workflowList = this.frpEntityManager.getWfResponseFromDB(h);\r\n        } catch(Exception e) {\r\n            if (h != null) {\r\n                h.rollback();\r\n            }\r\n            throw e;\r\n        }\r\n        finally {\r\n            if (h != null) {\r\n                h.close();\r\n            }\r\n        }\r\n\r\n        return workflowList;\r\n    }\r\n```\r\n\r\n*SqlDB.java*\r\n```\r\n@Configuration\r\n@Component\r\npublic class SqlDB {\r\n\r\n\tprivate static final Logger LOG = Logger.getLogger(SqlDB.class);\r\n    @Bean(name = &quot;sqlDataSource&quot;)\r\n    @ConfigurationProperties(&quot;spring.mysql.datasource&quot;)\r\n    public DataSource sqlDataSource() {\r\n        return DataSourceBuilder.create().build();\r\n    }\r\n\r\n    @Autowired\r\n    @Bean(name = &quot;sqlDBI&quot;)\r\n    public DBI sqlDBI(@Qualifier(&quot;sqlDataSource&quot;) DataSource sqlDataSource) {\r\n        LOG.info(&quot;SQL DBI initialized&quot;);\r\n        synchronized (DBI.class) {\r\n            DBI dbi = new DBI(sqlDataSource);\r\n            LOG.info(&quot;This is SQL DBI&quot;);\r\n            LOG.info(dbi);\r\n            dbi.registerArgumentFactory(new DateTimeAF());\r\n            return dbi;\r\n        }\r\n    }\r\n\r\n    @Autowired\r\n    @Bean(name = &quot;sqlDbiFactory&quot;)\r\n    public DBIFactoryBean sqlDbiFactory(@Qualifier(&quot;sqlDataSource&quot;) DataSource sqlDataSource) {\r\n        final DBIFactoryBean dbiFactoryBean = new DBIFactoryBean();\r\n        LOG.info(&quot;This is SQL Datasource&quot;);\r\n        LOG.info(sqlDataSource);\r\n        dbiFactoryBean.setDataSource(sqlDataSource);\r\n        return dbiFactoryBean;\r\n    }\r\n\r\n    /**\r\n     * @return the objectMapper\r\n     */\r\n    @Bean\r\n    public ObjectMapper getObjectMapper() {\r\n        ObjectMapper objectMapper = new ObjectMapper();\r\n        objectMapper.registerModule(new JodaModule());\r\n        objectMapper.configure(SerializationFeature.WRITE_DATES_AS_TIMESTAMPS, false);\r\n        return objectMapper;\r\n    }\r\n\r\n    @Autowired\r\n    @Bean\r\n    public MonitoringDAO sqlMonitoringDAO(@Qualifier(&quot;sqlDBI&quot;) DBI sqlDBI) {\r\n        LOG.info(&quot;SQL MonitoringDAO initialized&quot;);\r\n        return sqlDBI.onDemand(MonitoringDAO.class);\r\n    }\r\n}\r\n```\r\n\r\n*FRPEntityManager.java*\r\n```\r\n\r\n@Slf4j\r\n@Component\r\npublic class FRPEntityManager {\r\n\r\n\t// reading config from application.properties\r\n\t@Value(&quot;${env.value}&quot;)\r\n    private String env;\r\n\r\n    /**\r\n     *\r\n     * @param h\r\n     * @return\r\n     */\r\n    public List&lt;Workflow&gt; getWfResponseFromDB(Handle h) {\r\n    \tMonitoringDAO dao = null;\r\n        dao = h.attach(MonitoringDAO.class);\r\n        List&lt;Workflow&gt; resultList = new ArrayList&lt;&gt;();\r\n        List&lt;Map&lt;String,String&gt;&gt; resultSet;\r\n        resultSet = dao.getFRPWorkflowList();\r\n        for(Map&lt;String,String&gt; r : resultSet) {\r\n\r\n        \tWorkflow result = new Workflow();\r\n\t        result.setWorkflowID(r.get(&quot;id&quot;));\r\n\t        result.setStatus(r.get(&quot;status&quot;));\r\n\t        resultList.add(result);\r\n        }\r\n        return resultList;\r\n    }\r\n}\r\n```\r\n\r\n*MonitoringDAO.java*\r\n```\r\n@SqlQuery({{{some query}}})\r\n\t@Mapper(ResponseMapper.class)\r\n\tList&lt;Map&lt;String, String&gt;&gt; getFRPWorkflowList();\r\n```\r\n\r\napplication.properties\r\n\r\n```\r\nspring.mysql.datasource.initialization-mode=always\r\nspring.mysql.datasource.tomcat.initial-size=3\r\nspring.mysql.datasource.tomcat.min-idle=2\r\nspring.mysql.datasource.tomcat.max-active=20\r\nspring.mysql.datasource.tomcat.max-idle=3\r\nspring.mysql.datasource.tomcat.max-wait=10000\r\nspring.mysql.datasource.tomcat.test-while-idle=true\r\nspring.mysql.datasource.tomcat.validationQuery = SELECT 1\r\nspring.mysql.datasource.tomcat.time-between-eviction-runs-millis=30000\r\nspring.mysql.datasource.tomcat.min-evictable-idle-time-millis=30000\r\n```","title":"Spring boot API not returning the updated data from the table","body":"<p>So what's happening is, my service is running fine. Fetching data. But the problem is when the table is updated in the database by some other client, the table gets updated but my service is returning the older snapshot of the table, not the updated one.\nBut on restarting the service, it does.</p>\n<p>I am literally very new to Spring boot, tried a lot but no success.</p>\n<p>Here's the relevant portion of code.</p>\n<p><em>SomeApi.java</em></p>\n<pre><code>    @Autowired\n    private FRPEntityManager frpEntityManager;\n\n    @Autowired\n    private DBI sqlDBI;\n    \n    public List&lt;Workflow&gt; getFRPStatusFromDB() throws Exception {\n        Handle h = null;\n        List&lt;Workflow&gt; workflowList;\n        try {\n            h = this.sqlDBI.open();\n            h.begin();\n            workflowList = this.frpEntityManager.getWfResponseFromDB(h);\n        } catch(Exception e) {\n            if (h != null) {\n                h.rollback();\n            }\n            throw e;\n        }\n        finally {\n            if (h != null) {\n                h.close();\n            }\n        }\n\n        return workflowList;\n    }\n</code></pre>\n<p><em>SqlDB.java</em></p>\n<pre><code>@Configuration\n@Component\npublic class SqlDB {\n\n    private static final Logger LOG = Logger.getLogger(SqlDB.class);\n    @Bean(name = &quot;sqlDataSource&quot;)\n    @ConfigurationProperties(&quot;spring.mysql.datasource&quot;)\n    public DataSource sqlDataSource() {\n        return DataSourceBuilder.create().build();\n    }\n\n    @Autowired\n    @Bean(name = &quot;sqlDBI&quot;)\n    public DBI sqlDBI(@Qualifier(&quot;sqlDataSource&quot;) DataSource sqlDataSource) {\n        LOG.info(&quot;SQL DBI initialized&quot;);\n        synchronized (DBI.class) {\n            DBI dbi = new DBI(sqlDataSource);\n            LOG.info(&quot;This is SQL DBI&quot;);\n            LOG.info(dbi);\n            dbi.registerArgumentFactory(new DateTimeAF());\n            return dbi;\n        }\n    }\n\n    @Autowired\n    @Bean(name = &quot;sqlDbiFactory&quot;)\n    public DBIFactoryBean sqlDbiFactory(@Qualifier(&quot;sqlDataSource&quot;) DataSource sqlDataSource) {\n        final DBIFactoryBean dbiFactoryBean = new DBIFactoryBean();\n        LOG.info(&quot;This is SQL Datasource&quot;);\n        LOG.info(sqlDataSource);\n        dbiFactoryBean.setDataSource(sqlDataSource);\n        return dbiFactoryBean;\n    }\n\n    /**\n     * @return the objectMapper\n     */\n    @Bean\n    public ObjectMapper getObjectMapper() {\n        ObjectMapper objectMapper = new ObjectMapper();\n        objectMapper.registerModule(new JodaModule());\n        objectMapper.configure(SerializationFeature.WRITE_DATES_AS_TIMESTAMPS, false);\n        return objectMapper;\n    }\n\n    @Autowired\n    @Bean\n    public MonitoringDAO sqlMonitoringDAO(@Qualifier(&quot;sqlDBI&quot;) DBI sqlDBI) {\n        LOG.info(&quot;SQL MonitoringDAO initialized&quot;);\n        return sqlDBI.onDemand(MonitoringDAO.class);\n    }\n}\n</code></pre>\n<p><em>FRPEntityManager.java</em></p>\n<pre><code>\n@Slf4j\n@Component\npublic class FRPEntityManager {\n\n    // reading config from application.properties\n    @Value(&quot;${env.value}&quot;)\n    private String env;\n\n    /**\n     *\n     * @param h\n     * @return\n     */\n    public List&lt;Workflow&gt; getWfResponseFromDB(Handle h) {\n        MonitoringDAO dao = null;\n        dao = h.attach(MonitoringDAO.class);\n        List&lt;Workflow&gt; resultList = new ArrayList&lt;&gt;();\n        List&lt;Map&lt;String,String&gt;&gt; resultSet;\n        resultSet = dao.getFRPWorkflowList();\n        for(Map&lt;String,String&gt; r : resultSet) {\n\n            Workflow result = new Workflow();\n            result.setWorkflowID(r.get(&quot;id&quot;));\n            result.setStatus(r.get(&quot;status&quot;));\n            resultList.add(result);\n        }\n        return resultList;\n    }\n}\n</code></pre>\n<p><em>MonitoringDAO.java</em></p>\n<pre><code>@SqlQuery({{{some query}}})\n    @Mapper(ResponseMapper.class)\n    List&lt;Map&lt;String, String&gt;&gt; getFRPWorkflowList();\n</code></pre>\n<p>application.properties</p>\n<pre><code>spring.mysql.datasource.initialization-mode=always\nspring.mysql.datasource.tomcat.initial-size=3\nspring.mysql.datasource.tomcat.min-idle=2\nspring.mysql.datasource.tomcat.max-active=20\nspring.mysql.datasource.tomcat.max-idle=3\nspring.mysql.datasource.tomcat.max-wait=10000\nspring.mysql.datasource.tomcat.test-while-idle=true\nspring.mysql.datasource.tomcat.validationQuery = SELECT 1\nspring.mysql.datasource.tomcat.time-between-eviction-runs-millis=30000\nspring.mysql.datasource.tomcat.min-evictable-idle-time-millis=30000\n</code></pre>\n"},{"tags":["java","android","kotlin","icu"],"owner":{"account_id":7740347,"reputation":452,"user_id":5860352,"display_name":"Doron Ben-Ari"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689275020,"creation_date":1689274455,"question_id":76682457,"body_markdown":"I know how to get a localized formatted string of a measure value. For example to get &quot;10 meters&quot; I would use \r\n\r\n    val formatter = MeasureFormat.getInstance(ULocale.getDefault(), MeasureFormat.FormatWidth.WIDE)\r\n    val text = formatter.format(Measure(10, MeasureUnit.METER))\r\n\r\nBut when I need only the unit name, i.e. &quot;meter&quot;, how to get it?\r\nI currently did it by manipulating the string:\r\n\r\n    formatter.format(Measure(1, measureUnit))\r\n                     .replace(&quot;1&quot;, &quot;&quot;)\r\n                     .replace(&quot; &quot;, &quot;&quot;)\r\n\r\nBut languages have very different ways to express &quot;1 meter&quot;. I am looking for a robust way to do it.\r\n","title":"How to get localized unit name of a MeasureUnit?","body":"<p>I know how to get a localized formatted string of a measure value. For example to get &quot;10 meters&quot; I would use</p>\n<pre><code>val formatter = MeasureFormat.getInstance(ULocale.getDefault(), MeasureFormat.FormatWidth.WIDE)\nval text = formatter.format(Measure(10, MeasureUnit.METER))\n</code></pre>\n<p>But when I need only the unit name, i.e. &quot;meter&quot;, how to get it?\nI currently did it by manipulating the string:</p>\n<pre><code>formatter.format(Measure(1, measureUnit))\n                 .replace(&quot;1&quot;, &quot;&quot;)\n                 .replace(&quot; &quot;, &quot;&quot;)\n</code></pre>\n<p>But languages have very different ways to express &quot;1 meter&quot;. I am looking for a robust way to do it.</p>\n"},{"tags":["java","spring-boot","docker","maven","gitlab"],"owner":{"account_id":14482834,"reputation":3894,"user_id":10461625,"display_name":"PatPanda"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":198,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1689273884,"creation_date":1676273472,"question_id":75432974,"body_markdown":"Small question regarding GitLap and SpringBoot 3 native images with GraalVM please.\r\n\r\nI am new to GitLab, got a fresh GitLab instance.\r\n\r\nI do not think the GitLab instance got GraalVM installed.\r\n\r\nWith that said, here is the pom of my project:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;3.0.2&lt;/version&gt;\r\n        &lt;relativePath/&gt;\r\n    &lt;/parent&gt;\r\n\r\n    &lt;groupId&gt;com.question&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring&lt;/artifactId&gt;\r\n    &lt;version&gt;1.1&lt;/version&gt;\r\n    &lt;name&gt;spring&lt;/name&gt;\r\n    &lt;description&gt;Spring Boot&lt;/description&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;java.version&gt;17&lt;/java.version&gt;\r\n        &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.graalvm.buildtools&lt;/groupId&gt;\r\n                &lt;artifactId&gt;native-maven-plugin&lt;/artifactId&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n    \r\n&lt;/project&gt;\r\n\r\n```\r\n\r\nI am very sure if I run ```mvn -Pnative spring-boot:build-image``` on my local machine, I get a docker image of the SpringBoot app with native binary. I can run the native binary fine.\r\n\r\nI would like to just create the same, using GitLab.\r\n\r\nWhat did I try:\r\n\r\nSo far, I am trying to follow tutorials on how to build SpringBoot apps with GitLab. However, it is dealing with regular SpringBoot non-native, non GraalVM apps, and it requires a Dockerfile. There is no Dockerfile in my project, since I am generating the Docker image directly using ```mvn -Pnative spring-boot:build-image```\r\n\r\nMay I ask what is the command to add to ```.gitlab-ci.yml``` in order to build a native SpringBoot app please?\r\n\r\nThank you","title":"GitLab .gitlab-ci.yml -&gt; run mvn -Pnative spring-boot:build-image to build SpringBoot native image","body":"<p>Small question regarding GitLap and SpringBoot 3 native images with GraalVM please.</p>\n<p>I am new to GitLab, got a fresh GitLab instance.</p>\n<p>I do not think the GitLab instance got GraalVM installed.</p>\n<p>With that said, here is the pom of my project:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.0.2&lt;/version&gt;\n        &lt;relativePath/&gt;\n    &lt;/parent&gt;\n\n    &lt;groupId&gt;com.question&lt;/groupId&gt;\n    &lt;artifactId&gt;spring&lt;/artifactId&gt;\n    &lt;version&gt;1.1&lt;/version&gt;\n    &lt;name&gt;spring&lt;/name&gt;\n    &lt;description&gt;Spring Boot&lt;/description&gt;\n\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n        &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.graalvm.buildtools&lt;/groupId&gt;\n                &lt;artifactId&gt;native-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n    \n&lt;/project&gt;\n\n</code></pre>\n<p>I am very sure if I run <code>mvn -Pnative spring-boot:build-image</code> on my local machine, I get a docker image of the SpringBoot app with native binary. I can run the native binary fine.</p>\n<p>I would like to just create the same, using GitLab.</p>\n<p>What did I try:</p>\n<p>So far, I am trying to follow tutorials on how to build SpringBoot apps with GitLab. However, it is dealing with regular SpringBoot non-native, non GraalVM apps, and it requires a Dockerfile. There is no Dockerfile in my project, since I am generating the Docker image directly using <code>mvn -Pnative spring-boot:build-image</code></p>\n<p>May I ask what is the command to add to <code>.gitlab-ci.yml</code> in order to build a native SpringBoot app please?</p>\n<p>Thank you</p>\n"},{"tags":["java","intellij-idea","refactoring","checkstyle"],"answers":[{"tags":[],"owner":{"account_id":251728,"reputation":450,"user_id":529321,"display_name":"skomp"},"down_vote_count":3,"up_vote_count":6,"is_accepted":false,"score":3,"last_activity_date":1487597923,"creation_date":1487597923,"answer_id":42346066,"question_id":42345926,"body_markdown":"Disclaimer: I don&#39;t want to start an IDE war and I don&#39;t use intelliJ, so there might be a way to do it there. But since you asked about a tool to do that and the manual effort could justify using a different IDE for it, here you go in eclipse.\r\n\r\nIn eclipse you can configure the &quot;clean up&quot; task to add final wherever possible. The clean up task can be run on single editor windows and also on the whole project from the &quot;source&quot; context menu.","title":"Massively refactor - how to add final keyword to Java method argument","body":"<p>Disclaimer: I don't want to start an IDE war and I don't use intelliJ, so there might be a way to do it there. But since you asked about a tool to do that and the manual effort could justify using a different IDE for it, here you go in eclipse.</p>\n\n<p>In eclipse you can configure the \"clean up\" task to add final wherever possible. The clean up task can be run on single editor windows and also on the whole project from the \"source\" context menu.</p>\n"},{"tags":[],"owner":{"account_id":2818342,"reputation":299828,"user_id":2422776,"display_name":"Mureinik"},"down_vote_count":0,"up_vote_count":65,"is_accepted":true,"score":65,"last_activity_date":1487598145,"creation_date":1487598145,"answer_id":42346149,"question_id":42345926,"body_markdown":"You can use IntelliJ&#39;s inspections mechanism for this:\r\n\r\n1. Navigate to Analyze-&gt;Run Inspection by Name\r\n2. Search for the &quot;Local variable or parameter can be final&quot; warning\r\n3. Make sure that &quot;Report method parameters&quot; is the only option checked.\r\n4. Select the root of the tree (it should read Local variable or parameter can be final&quot;\r\n5. Click &lt;kbd&gt;ALT&lt;/kbd&gt;+&lt;kbd&gt;ENTER&lt;/kbd&gt; and select &quot;make final&quot;. This should add the `final` modifier in all the missing places.\r\n\r\nOnce you&#39;ve done this, you may want to enable this inspection in your IDE so it warns you about making further mistakes:\r\n\r\n1. Navigate to File-&gt;Settings-&gt;Editor-&gt;Inspections\r\n2. Search for the &quot;Local variable or parameter can be final&quot; warning\r\n3. Make sure that &quot;Report method parameters&quot; is the only option checked.\r\n\r\n","title":"Massively refactor - how to add final keyword to Java method argument","body":"<p>You can use IntelliJ's inspections mechanism for this:</p>\n\n<ol>\n<li>Navigate to Analyze->Run Inspection by Name</li>\n<li>Search for the \"Local variable or parameter can be final\" warning</li>\n<li>Make sure that \"Report method parameters\" is the only option checked.</li>\n<li>Select the root of the tree (it should read Local variable or parameter can be final\"</li>\n<li>Click <kbd>ALT</kbd>+<kbd>ENTER</kbd> and select \"make final\". This should add the <code>final</code> modifier in all the missing places.</li>\n</ol>\n\n<p>Once you've done this, you may want to enable this inspection in your IDE so it warns you about making further mistakes:</p>\n\n<ol>\n<li>Navigate to File->Settings->Editor->Inspections</li>\n<li>Search for the \"Local variable or parameter can be final\" warning</li>\n<li>Make sure that \"Report method parameters\" is the only option checked.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":517348,"reputation":15463,"user_id":1238957,"accept_rate":70,"display_name":"Christian Vielma"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1524494526,"creation_date":1524494526,"answer_id":49983831,"question_id":42345926,"body_markdown":"In IntelliJ you can check the &quot;Make generated local variables final&quot; and &quot;Make generated parameters final&quot; options enabled.\r\n\r\nIn IntelliJ 2017.3 it&#39;s in Preferences -&gt; Editor -&gt; Code Style -&gt; Java -&gt; Code Generation tab.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/RTbG4.png","title":"Massively refactor - how to add final keyword to Java method argument","body":"<p>In IntelliJ you can check the \"Make generated local variables final\" and \"Make generated parameters final\" options enabled.</p>\n\n<p>In IntelliJ 2017.3 it's in Preferences -> Editor -> Code Style -> Java -> Code Generation tab.</p>\n\n<p><a href=\"https://i.stack.imgur.com/RTbG4.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/RTbG4.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":7098080,"reputation":930,"user_id":5430811,"accept_rate":83,"display_name":"Semaphor"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1689273596,"creation_date":1689273596,"answer_id":76682373,"question_id":42345926,"body_markdown":"This question was asked a couple of years ago, but there is also another approach with OpenRewrite. This is the recipe for it: [Finalize method arguments][1]\r\n\r\n\r\n  [1]: https://docs.openrewrite.org/recipes/staticanalysis/finalizemethodarguments","title":"Massively refactor - how to add final keyword to Java method argument","body":"<p>This question was asked a couple of years ago, but there is also another approach with OpenRewrite. This is the recipe for it: <a href=\"https://docs.openrewrite.org/recipes/staticanalysis/finalizemethodarguments\" rel=\"nofollow noreferrer\">Finalize method arguments</a></p>\n"}],"owner":{"account_id":6863705,"reputation":1063,"user_id":5276885,"display_name":"John Zhang"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13448,"favorite_count":0,"down_vote_count":1,"up_vote_count":34,"accepted_answer_id":42346149,"answer_count":4,"score":33,"last_activity_date":1689273596,"creation_date":1487597579,"question_id":42345926,"body_markdown":"This might be a simple question: How can I massively refactor my Java code to make most of the method argument as &quot;final&quot;? This is to follow one of our &quot;checkstyle&quot; rule. We have thousands of Java files, so manually edit all of them seems not an acceptable solution to us.\r\n\r\nI didn&#39;t find any such refactor option in IntelliJ. Anybody knows any tool that can help? Or any smart approach to achieve that?","title":"Massively refactor - how to add final keyword to Java method argument","body":"<p>This might be a simple question: How can I massively refactor my Java code to make most of the method argument as \"final\"? This is to follow one of our \"checkstyle\" rule. We have thousands of Java files, so manually edit all of them seems not an acceptable solution to us.</p>\n\n<p>I didn't find any such refactor option in IntelliJ. Anybody knows any tool that can help? Or any smart approach to achieve that?</p>\n"},{"tags":["java","linux","tomcat","raspberry-pi","debian"],"answers":[{"tags":[],"owner":{"account_id":3280644,"reputation":4811,"user_id":3582831,"display_name":"0xh3xa"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1689273449,"creation_date":1589399433,"answer_id":61783615,"question_id":61783481,"body_markdown":"Add the tomcat to a group and grant this group the required access to that files, i.g. you can create a group called `webserver`. Then restart tomcat and try again.\r\n\r\n## Steps\r\n\r\n1. Create a new group\r\n    ```sh\r\n    sudo groupadd webserver\r\n    ```\r\n1. Add tomcat9 user to group webserver\r\n    ```sh\r\n    sudo usermod -a -G webserver tomcat9\r\n    ```\r\n1. Change group ownership\r\n    ```sh\r\n    sudo chgrp webserver configuration.yaml\r\n    ```\r\n1. Add read and write permission to file\r\n    ```sh\r\n    sudo chmod g=rw configuration.yaml\r\n    ```\r\n1. Restart tomcat\r\n    ```sh\r\n    sudo systemctl restart tomcat9\r\n    ```\r\n\r\nUpdate the group ownership of the directories (that contains the files) by adding the permissions to it\r\n\r\n```sh\r\nsudo chgrp webserver /opt/zigbee2mqtt/data/\r\nsudo chgrp webserver /opt/zigbee2mqtt/ \r\n```\r\n\r\n```sh\r\nsudo chmod g=rwx /opt/zigbee2mqtt/data/\r\nsudo chmod g=rwx /opt/zigbee2mqtt/\r\n```","title":"How to grant Tomcat 9 access on other files","body":"<p>Add the tomcat to a group and grant this group the required access to that files, i.g. you can create a group called <code>webserver</code>. Then restart tomcat and try again.</p>\n<h2>Steps</h2>\n<ol>\n<li>Create a new group\n<pre class=\"lang-bash prettyprint-override\"><code>sudo groupadd webserver\n</code></pre>\n</li>\n<li>Add tomcat9 user to group webserver\n<pre class=\"lang-bash prettyprint-override\"><code>sudo usermod -a -G webserver tomcat9\n</code></pre>\n</li>\n<li>Change group ownership\n<pre class=\"lang-bash prettyprint-override\"><code>sudo chgrp webserver configuration.yaml\n</code></pre>\n</li>\n<li>Add read and write permission to file\n<pre class=\"lang-bash prettyprint-override\"><code>sudo chmod g=rw configuration.yaml\n</code></pre>\n</li>\n<li>Restart tomcat\n<pre class=\"lang-bash prettyprint-override\"><code>sudo systemctl restart tomcat9\n</code></pre>\n</li>\n</ol>\n<p>Update the group ownership of the directories (that contains the files) by adding the permissions to it</p>\n<pre class=\"lang-bash prettyprint-override\"><code>sudo chgrp webserver /opt/zigbee2mqtt/data/\nsudo chgrp webserver /opt/zigbee2mqtt/ \n</code></pre>\n<pre class=\"lang-bash prettyprint-override\"><code>sudo chmod g=rwx /opt/zigbee2mqtt/data/\nsudo chmod g=rwx /opt/zigbee2mqtt/\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1096470,"reputation":26066,"user_id":1089967,"accept_rate":59,"display_name":"lance-java"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1589400056,"creation_date":1589399729,"answer_id":61783680,"question_id":61783481,"body_markdown":"The permissions of the yaml file are &quot;-rw-rw-r--&quot; which reads left to right \r\n\r\n- the owner of the file can read and write (not execute)\r\n- the group of the owner of the file can read and write (not execute) \r\n- everyone else can read the file\r\n\r\nSo, it depends on which user is running the tomcat process if you can write to the file. But everyone should be able to read the file. If you can&#39;t read the file then you probably opening the file in read/write mode instead of read mode \r\n\r\nYou could `chmod 666` the file to change the permissions to &quot;-rw-rw-rw-&quot;\r\n\r\n","title":"How to grant Tomcat 9 access on other files","body":"<p>The permissions of the yaml file are \"-rw-rw-r--\" which reads left to right </p>\n\n<ul>\n<li>the owner of the file can read and write (not execute)</li>\n<li>the group of the owner of the file can read and write (not execute) </li>\n<li>everyone else can read the file</li>\n</ul>\n\n<p>So, it depends on which user is running the tomcat process if you can write to the file. But everyone should be able to read the file. If you can't read the file then you probably opening the file in read/write mode instead of read mode </p>\n\n<p>You could <code>chmod 666</code> the file to change the permissions to \"-rw-rw-rw-\"</p>\n"}],"owner":{"account_id":15419304,"reputation":1018,"user_id":11123801,"display_name":"ru4ert"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4260,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":61783615,"answer_count":2,"score":5,"last_activity_date":1689273449,"creation_date":1589398888,"question_id":61783481,"body_markdown":"Tomcat 9 is sandboxed.\r\n\r\n**I want to read data of a log file.**\r\n\r\n**The file is in &quot;/opt/zigbee2mqtt/data/*.*&quot;**\r\n\r\nI read this thread already and tried it. \r\nhttps://stackoverflow.com/questions/56827735/how-to-allow-tomcat-war-app-to-write-in-folder\r\n\r\nI edited the file, and did ```systemctl daemon-reload``` as well as ```systemctl restart tomcat9```.\r\n\r\nThen I wrote my java class with should read the data out of the log file. But I get an exception. \r\n\r\n```\r\njava.io.FileNotFoundException: /opt/zigbee2mqtt/data/configuration.yaml (Permission denied)\r\n        at java.base/java.io.FileOutputStream.open0(Native Method)\r\n        at java.base/java.io.FileOutputStream.open(FileOutputStream.java:298)\r\n        at java.base/java.io.FileOutputStream.&lt;init&gt;(FileOutputStream.java:237)\r\n        at java.base/java.io.FileOutputStream.&lt;init&gt;(FileOutputStream.java:187)\r\n        at com.fasterxml.jackson.dataformat.yaml.YAMLFactory.createGenerator(YAMLFactory.java:437)\r\n        at com.fasterxml.jackson.databind.ObjectMapper.createGenerator(ObjectMapper.java:1156)\r\n        at com.fasterxml.jackson.databind.ObjectMapper.writeValue(ObjectMapper.java:3570)\r\n        at zigbee.main.doupdateconfiguration(main.java:81)\r\n        at Servlet.configuration.doPost(configuration.java:72)\r\n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:660)\r\n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:741)\r\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)\r\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n        at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\r\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n        at org.apache.catalina.filters.ExpiresFilter.doFilter(ExpiresFilter.java:1226)\r\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n        at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:200)\r\n        at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)\r\n        at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:490)\r\n        at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)\r\n        at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\r\n        at org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:668)\r\n        at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)\r\n        at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)\r\n        at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:408)\r\n        at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)\r\n        at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:834)\r\n        at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1415)\r\n        at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\r\n        at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\r\n        at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\r\n        at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n        at java.base/java.lang.Thread.run(Thread.java:834)\r\n\r\n```\r\nI think if I change something with chmod or chown, but maybe the Zigbee service won&#39;t work? I am not the Linux expert. I don&#39;t want to do anything wrong or insecure.\r\n\r\n```\r\nroot@raspberrypi:/opt/zigbee2mqtt/data# ls -halt\r\ntotal 24K\r\ndrwxr-xr-x  6 pi pi 4.0K May 12 09:17 log\r\ndrwxr-xr-x  3 pi pi 4.0K May 10 18:31 .\r\n-rw-r--r--  1 pi pi 4.0K May 10 18:31 database.db\r\n-rw-rw-r--  1 pi pi  360 May 10 18:31 state.json\r\n-rw-rw-r--  1 pi pi  330 May 10 17:23 configuration.yaml\r\ndrwxr--r-- 12 pi pi 4.0K May 10 11:16 ..\r\n\r\n```\r\n\r\nWhat would be the best solution that Tomcat 9 can read the file and Zigbee can update it either?\r\n\r\n\r\n\r\n**Update:**\r\n```\r\nroot@raspberrypi:/opt/zigbee2mqtt/data# ll\r\ntotal 24K\r\n-rw-rw-r--  1 pi webservice  360 May 13 22:03 state.json\r\ndrwxrw-r-x  6 pi webservice 4.0K May 12 09:17 log\r\ndrwxr-xr-x  3 pi pi         4.0K May 10 18:31 .\r\n-rw-rw-r--  1 pi webservice 4.0K May 10 18:31 database.db\r\n-rw-rw-r--  1 pi webservice  330 May 10 17:23 configuration.yaml\r\ndrwxr--r-- 12 pi pi         4.0K May 10 11:16 ..\r\nroot@raspberrypi:/opt/zigbee2mqtt/data# id tomcat\r\nuid=1001(tomcat) gid=1001(tomcat) groups=1001(tomcat),1002(webservice)\r\n```\r\nExtraxt of: ```/etc/systemd/system/tomcat9.service.d/override.conf```\r\n```\r\n[Service]\r\nReadWritePaths=/usr/local/jakarta-tomcat/webapps/smartzig/_x_logs/\r\nReadWritePaths=/opt/zigbee2mqtt/data/\r\nReadWritePaths=/opt/zigbee2mqtt/\r\nReadWritePaths=/opt/\r\n```","title":"How to grant Tomcat 9 access on other files","body":"<p>Tomcat 9 is sandboxed.</p>\n\n<p><strong>I want to read data of a log file.</strong></p>\n\n<p><strong>The file is in \"/opt/zigbee2mqtt/data/<em>.</em>\"</strong></p>\n\n<p>I read this thread already and tried it. \n<a href=\"https://stackoverflow.com/questions/56827735/how-to-allow-tomcat-war-app-to-write-in-folder\">How to allow Tomcat war app to write in folder</a></p>\n\n<p>I edited the file, and did <code>systemctl daemon-reload</code> as well as <code>systemctl restart tomcat9</code>.</p>\n\n<p>Then I wrote my java class with should read the data out of the log file. But I get an exception. </p>\n\n<pre><code>java.io.FileNotFoundException: /opt/zigbee2mqtt/data/configuration.yaml (Permission denied)\n        at java.base/java.io.FileOutputStream.open0(Native Method)\n        at java.base/java.io.FileOutputStream.open(FileOutputStream.java:298)\n        at java.base/java.io.FileOutputStream.&lt;init&gt;(FileOutputStream.java:237)\n        at java.base/java.io.FileOutputStream.&lt;init&gt;(FileOutputStream.java:187)\n        at com.fasterxml.jackson.dataformat.yaml.YAMLFactory.createGenerator(YAMLFactory.java:437)\n        at com.fasterxml.jackson.databind.ObjectMapper.createGenerator(ObjectMapper.java:1156)\n        at com.fasterxml.jackson.databind.ObjectMapper.writeValue(ObjectMapper.java:3570)\n        at zigbee.main.doupdateconfiguration(main.java:81)\n        at Servlet.configuration.doPost(configuration.java:72)\n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:660)\n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:741)\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n        at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n        at org.apache.catalina.filters.ExpiresFilter.doFilter(ExpiresFilter.java:1226)\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n        at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:200)\n        at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)\n        at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:490)\n        at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)\n        at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\n        at org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:668)\n        at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)\n        at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)\n        at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:408)\n        at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)\n        at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:834)\n        at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1415)\n        at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\n        at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\n        at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\n        at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n        at java.base/java.lang.Thread.run(Thread.java:834)\n\n</code></pre>\n\n<p>I think if I change something with chmod or chown, but maybe the Zigbee service won't work? I am not the Linux expert. I don't want to do anything wrong or insecure.</p>\n\n<pre><code>root@raspberrypi:/opt/zigbee2mqtt/data# ls -halt\ntotal 24K\ndrwxr-xr-x  6 pi pi 4.0K May 12 09:17 log\ndrwxr-xr-x  3 pi pi 4.0K May 10 18:31 .\n-rw-r--r--  1 pi pi 4.0K May 10 18:31 database.db\n-rw-rw-r--  1 pi pi  360 May 10 18:31 state.json\n-rw-rw-r--  1 pi pi  330 May 10 17:23 configuration.yaml\ndrwxr--r-- 12 pi pi 4.0K May 10 11:16 ..\n\n</code></pre>\n\n<p>What would be the best solution that Tomcat 9 can read the file and Zigbee can update it either?</p>\n\n<p><strong>Update:</strong></p>\n\n<pre><code>root@raspberrypi:/opt/zigbee2mqtt/data# ll\ntotal 24K\n-rw-rw-r--  1 pi webservice  360 May 13 22:03 state.json\ndrwxrw-r-x  6 pi webservice 4.0K May 12 09:17 log\ndrwxr-xr-x  3 pi pi         4.0K May 10 18:31 .\n-rw-rw-r--  1 pi webservice 4.0K May 10 18:31 database.db\n-rw-rw-r--  1 pi webservice  330 May 10 17:23 configuration.yaml\ndrwxr--r-- 12 pi pi         4.0K May 10 11:16 ..\nroot@raspberrypi:/opt/zigbee2mqtt/data# id tomcat\nuid=1001(tomcat) gid=1001(tomcat) groups=1001(tomcat),1002(webservice)\n</code></pre>\n\n<p>Extraxt of: <code>/etc/systemd/system/tomcat9.service.d/override.conf</code></p>\n\n<pre><code>[Service]\nReadWritePaths=/usr/local/jakarta-tomcat/webapps/smartzig/_x_logs/\nReadWritePaths=/opt/zigbee2mqtt/data/\nReadWritePaths=/opt/zigbee2mqtt/\nReadWritePaths=/opt/\n</code></pre>\n"},{"tags":["java","spring-annotations"],"answers":[{"tags":[],"owner":{"account_id":19347892,"reputation":155,"user_id":14145992,"display_name":"Nicholas Leach"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1608345926,"creation_date":1608335082,"answer_id":65365307,"question_id":65365181,"body_markdown":"Spring can not inject those values into a POJO, because by definition POJO&#39;s are not managed by Spring&#39;s IoC Container.\r\n\r\nIf you look at the Spring documentation for the @Value annotation (linked at bottom), it specifies &quot;Note that actual processing of the @Value annotation is performed by a BeanPostProcessor&quot;, this is pretty explicit in it&#39;s own right that the class has to be a Spring bean, but if context isn&#39;t enough, looking at the BeanPostProcessor documentation (also linked at bottom): &quot;Factory hook that allows for custom modification of new bean instances — for example, checking for marker interfaces or wrapping beans with proxies&quot;\r\n\r\nSo no, if the class is not managed by Spring&#39;s IoC container (i.e., if the class is not a Spring bean), the value annotation will not be caught by the BeanPostProcessor, and will therefore not be useful.\r\n\r\n\r\nValue annotation doc: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/beans/factory/annotation/Value.html\r\n\r\nBeanPostProcessor doc: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/beans/factory/config/BeanPostProcessor.html\r\n\r\n\r\nYou can always go the route of using jdk-native classes to read values from properties files if that&#39;s absolutely necessary (quick example: https://www.javatpoint.com/properties-class-in-java)\r\n\r\nFor the record, the specification of what a POJO is, means that the class cannot contain pre-specified annotations. So even in another world where @Value could work on a non-spring bean, it would still, by definition, break the POJO aspect of the class.","title":"Spring possibility to @Value on a Pojo / object","body":"<p>Spring can not inject those values into a POJO, because by definition POJO's are not managed by Spring's IoC Container.</p>\n<p>If you look at the Spring documentation for the @Value annotation (linked at bottom), it specifies &quot;Note that actual processing of the @Value annotation is performed by a BeanPostProcessor&quot;, this is pretty explicit in it's own right that the class has to be a Spring bean, but if context isn't enough, looking at the BeanPostProcessor documentation (also linked at bottom): &quot;Factory hook that allows for custom modification of new bean instances — for example, checking for marker interfaces or wrapping beans with proxies&quot;</p>\n<p>So no, if the class is not managed by Spring's IoC container (i.e., if the class is not a Spring bean), the value annotation will not be caught by the BeanPostProcessor, and will therefore not be useful.</p>\n<p>Value annotation doc: <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/beans/factory/annotation/Value.html\" rel=\"noreferrer\">https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/beans/factory/annotation/Value.html</a></p>\n<p>BeanPostProcessor doc: <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/beans/factory/config/BeanPostProcessor.html\" rel=\"noreferrer\">https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/beans/factory/config/BeanPostProcessor.html</a></p>\n<p>You can always go the route of using jdk-native classes to read values from properties files if that's absolutely necessary (quick example: <a href=\"https://www.javatpoint.com/properties-class-in-java\" rel=\"noreferrer\">https://www.javatpoint.com/properties-class-in-java</a>)</p>\n<p>For the record, the specification of what a POJO is, means that the class cannot contain pre-specified annotations. So even in another world where @Value could work on a non-spring bean, it would still, by definition, break the POJO aspect of the class.</p>\n"},{"tags":[],"owner":{"account_id":949072,"reputation":546,"user_id":975638,"accept_rate":100,"display_name":"kyxap"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688184959,"creation_date":1688184959,"answer_id":76593252,"question_id":65365181,"body_markdown":"Pretty old question but there no alternatives on how to get POJO from your spring-boot config.\r\nYou can try to use `@Autowired` for that, here is some example:\r\n\r\nconfig.json\r\n\r\n```json\r\n{\r\n  &quot;homePage&quot;: &quot;from config3&quot;,\r\n  &quot;login&quot;: &quot;login2&quot;,\r\n  &quot;pass&quot;: &quot;pass2&quot;\r\n}\r\n```\r\n\r\nExpected POJO:\r\n```java\r\n@Component\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\n@PropertySource(value = &quot;config.json&quot;)\r\n@ConfigurationProperties\r\npublic class TestConfig {\r\n    @Getter\r\n    @Setter\r\n    private String homePage;\r\n\r\n    @Getter\r\n    @Setter\r\n    private String login;\r\n\r\n    @Getter\r\n    @Setter\r\n    private String pass;\r\n}\r\n```\r\n\r\nConfig class with injection:\r\n```java\r\n@Configuration\r\npublic class MyConfig {\r\n\r\n    @Autowired\r\n    private TestConfig testConfig;\r\n```\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\nAnd POJO in the debug^\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/9ggRj.png","title":"Spring possibility to @Value on a Pojo / object","body":"<p>Pretty old question but there no alternatives on how to get POJO from your spring-boot config.\nYou can try to use <code>@Autowired</code> for that, here is some example:</p>\n<p>config.json</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;homePage&quot;: &quot;from config3&quot;,\n  &quot;login&quot;: &quot;login2&quot;,\n  &quot;pass&quot;: &quot;pass2&quot;\n}\n</code></pre>\n<p>Expected POJO:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Component\n@AllArgsConstructor\n@NoArgsConstructor\n@PropertySource(value = &quot;config.json&quot;)\n@ConfigurationProperties\npublic class TestConfig {\n    @Getter\n    @Setter\n    private String homePage;\n\n    @Getter\n    @Setter\n    private String login;\n\n    @Getter\n    @Setter\n    private String pass;\n}\n</code></pre>\n<p>Config class with injection:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\npublic class MyConfig {\n\n    @Autowired\n    private TestConfig testConfig;\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/9ggRj.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/9ggRj.png\" alt=\"enter image description here\" /></a></p>\n<p>And POJO in the debug^</p>\n"}],"owner":{"account_id":14482834,"reputation":3894,"user_id":10461625,"display_name":"PatPanda"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4583,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":65365307,"answer_count":2,"score":4,"last_activity_date":1689272996,"creation_date":1608333993,"question_id":65365181,"body_markdown":"Small question regarding the spring annotation @Value please.\r\n\r\nThis annotation is powerful, well known and offers the possibility out of the box to bind types such as boolean, String, and even more complex data structures such as List&lt;Integer&gt;, Map&lt;String, Integer&gt; via configuration.\r\n\r\n```\r\n    @Value(&quot;${my.string}&quot;)\r\n    private String               myString;\r\n\r\n    @Value(&quot;${my.flag}&quot;)\r\n    private Boolean               someFlag;\r\n\r\n @Value(&quot;#{&#39;${my.list.of.strings}&#39;.split(&#39;,&#39;)}&quot;)\r\n    private List&lt;String&gt;         myListOfStrings;\r\n\r\n    @Value(&quot;#{${my.hashmap}}&quot;)\r\nprivate Map&lt;String, Integer&gt; myHashMap;\r\n\r\n```\r\n\r\n```\r\napplication.properties\r\nmy.string=something\r\nmy.flag=true\r\nmy.list.of.strings=hello,world\r\nmy.hashmap={&#39;hello&#39;:&#39;world&#39;,&#39;aaa&#39;:&#39;bbb&#39;,&#39;ccc&#39;:&#39;ddd&#39;}\r\n```\r\n\r\n**Question: Is it possible to use @Value on some POJO I defined please?**\r\nsomething like:\r\n\r\n```\r\n  @Value(&quot;${my.pojo}&quot;)\r\n    private MyPojo myPojo;\r\n\r\npublic class MyPojo {\r\n    \r\n    private String firstName;\r\n    private String lastName;\r\n    private int age;\r\n    private boolean isMarried;\r\n    \r\n}\r\n\r\napplication.properties\r\nmy.pojo={ &quot;firstname&quot;: &quot;john&quot;, &quot;lastname&quot;: &quot;doe&quot;, &quot;isMarried&quot;: false, &quot;age&quot;: 20 }\r\n```\r\n\r\nAnd have the @Value (or maybe something else) pick it up.\r\nI tried above and did not get the myPojo. What would be a solution to have this configurable under @Value please?\r\n\r\nThank you","title":"Spring possibility to @Value on a Pojo / object","body":"<p>Small question regarding the spring annotation @Value please.</p>\n<p>This annotation is powerful, well known and offers the possibility out of the box to bind types such as boolean, String, and even more complex data structures such as List, Map&lt;String, Integer&gt; via configuration.</p>\n<pre><code>    @Value(&quot;${my.string}&quot;)\n    private String               myString;\n\n    @Value(&quot;${my.flag}&quot;)\n    private Boolean               someFlag;\n\n @Value(&quot;#{'${my.list.of.strings}'.split(',')}&quot;)\n    private List&lt;String&gt;         myListOfStrings;\n\n    @Value(&quot;#{${my.hashmap}}&quot;)\nprivate Map&lt;String, Integer&gt; myHashMap;\n\n</code></pre>\n<pre><code>application.properties\nmy.string=something\nmy.flag=true\nmy.list.of.strings=hello,world\nmy.hashmap={'hello':'world','aaa':'bbb','ccc':'ddd'}\n</code></pre>\n<p><strong>Question: Is it possible to use @Value on some POJO I defined please?</strong>\nsomething like:</p>\n<pre><code>  @Value(&quot;${my.pojo}&quot;)\n    private MyPojo myPojo;\n\npublic class MyPojo {\n    \n    private String firstName;\n    private String lastName;\n    private int age;\n    private boolean isMarried;\n    \n}\n\napplication.properties\nmy.pojo={ &quot;firstname&quot;: &quot;john&quot;, &quot;lastname&quot;: &quot;doe&quot;, &quot;isMarried&quot;: false, &quot;age&quot;: 20 }\n</code></pre>\n<p>And have the @Value (or maybe something else) pick it up.\nI tried above and did not get the myPojo. What would be a solution to have this configurable under @Value please?</p>\n<p>Thank you</p>\n"},{"tags":["java","spring-boot","posix","r.java-file"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":1,"creation_date":1689057741,"post_id":76659204,"comment_id":135155281,"body_markdown":"looks like that&#39;s not happening. It seems to me your os is telling you you can&#39;t do it (not that way, anyway)","body":"looks like that&#39;s not happening. It seems to me your os is telling you you can&#39;t do it (not that way, anyway)"},{"owner":{"account_id":28927438,"reputation":11,"user_id":22156985,"display_name":"PuneethC99"},"score":0,"creation_date":1689271525,"post_id":76659204,"comment_id":135193613,"body_markdown":"Is there any other way i could achieve this? @Stultuske","body":"Is there any other way i could achieve this? @Stultuske"}],"owner":{"account_id":28927438,"reputation":11,"user_id":22156985,"display_name":"PuneethC99"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":125,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1689272812,"creation_date":1689056796,"question_id":76659204,"body_markdown":"I have a java function in my springboot application where I am trying to set 777 POSIX permissions to all the folders and sub folders in my NAS path.\r\n\r\n   \r\n```\r\n    @Async\r\n\t@EventListener(ApplicationReadyEvent.class)\r\n\tpublic void setNasPathPermissions(){\r\n\t\ttry {\r\n\t\t\tLOGGER.info(&quot;Inside setNasPathPermissions()&quot;);\r\n\t\t\tString rootDir = getRootNasDir(nasPath);\r\n\t\t\tLOGGER.info(&quot;rootDir: {}&quot;, rootDir);\r\n\t\t\tFile mainDir = new File(rootDir);\r\n\t\t\tsetPosixPermissions(mainDir);\r\n\t\t\tFile[] files = mainDir.listFiles();\r\n\t\t\tshowAndSetPerms(files);\r\n\t\t} catch (Exception e) {\r\n\t\t\tLOGGER.error(&quot;Somethign went wrong in setNasPathPermssions()&quot;);\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t}\r\n  \r\n    public void showAndSetPerms(File[] files){\r\n\t\ttry {\r\n\t\t\tfor (File file : files) {\r\n\t\t\t\tif (file.isDirectory()) {\r\n\t\t\t\t\tLOGGER.info(&quot;Directory: {}&quot;, file.getAbsolutePath());\r\n\t\t\t\t\t\tsetPosixPermissions(file);\r\n\t\t\t\t\tshowAndSetPerms(file.listFiles()); // Calls same method again.\r\n\t\t\t\t} else {\r\n\t\t\t\t\tLOGGER.info(&quot;File: {}&quot; + file.getAbsolutePath());\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t} catch (Exception e) {\r\n\t\t\tLOGGER.info(&quot;Something went wrong in showAndSetPerms()&quot;);\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t}\r\n\r\n\tpublic String getRootNasDir(String nasPath){\r\n\t\tint idx = nasPath.indexOf(&quot;templates/&quot;);\r\n\t\treturn nasPath.substring(0, idx);\r\n\t}\r\n```\r\n\r\nThis throws the following error - \r\n\r\n```\r\n&quot;logLevel&quot;:&quot;ERROR&quot;,&quot;msg&quot;:&quot;Somethign went wrong in setNasPathPermssions()&quot;\r\n\r\njava.nio.file.FileSystemException: path/to/the/folder: Operation not permitted\r\n```\r\nHow do I fix this?\r\n\r\npermissions set to POSIX 777 is expected.","title":"Why do I get Operation Not Permitted for Files.setPosixFilePermissions?","body":"<p>I have a java function in my springboot application where I am trying to set 777 POSIX permissions to all the folders and sub folders in my NAS path.</p>\n<pre><code>    @Async\n    @EventListener(ApplicationReadyEvent.class)\n    public void setNasPathPermissions(){\n        try {\n            LOGGER.info(&quot;Inside setNasPathPermissions()&quot;);\n            String rootDir = getRootNasDir(nasPath);\n            LOGGER.info(&quot;rootDir: {}&quot;, rootDir);\n            File mainDir = new File(rootDir);\n            setPosixPermissions(mainDir);\n            File[] files = mainDir.listFiles();\n            showAndSetPerms(files);\n        } catch (Exception e) {\n            LOGGER.error(&quot;Somethign went wrong in setNasPathPermssions()&quot;);\n            e.printStackTrace();\n        }\n    }\n  \n    public void showAndSetPerms(File[] files){\n        try {\n            for (File file : files) {\n                if (file.isDirectory()) {\n                    LOGGER.info(&quot;Directory: {}&quot;, file.getAbsolutePath());\n                        setPosixPermissions(file);\n                    showAndSetPerms(file.listFiles()); // Calls same method again.\n                } else {\n                    LOGGER.info(&quot;File: {}&quot; + file.getAbsolutePath());\n                }\n            }\n        } catch (Exception e) {\n            LOGGER.info(&quot;Something went wrong in showAndSetPerms()&quot;);\n            e.printStackTrace();\n        }\n    }\n\n    public String getRootNasDir(String nasPath){\n        int idx = nasPath.indexOf(&quot;templates/&quot;);\n        return nasPath.substring(0, idx);\n    }\n</code></pre>\n<p>This throws the following error -</p>\n<pre><code>&quot;logLevel&quot;:&quot;ERROR&quot;,&quot;msg&quot;:&quot;Somethign went wrong in setNasPathPermssions()&quot;\n\njava.nio.file.FileSystemException: path/to/the/folder: Operation not permitted\n</code></pre>\n<p>How do I fix this?</p>\n<p>permissions set to POSIX 777 is expected.</p>\n"},{"tags":["java","ssl","junit","wiremock"],"answers":[{"tags":[],"owner":{"account_id":9107988,"reputation":3190,"user_id":6777695,"display_name":"Hakan54"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1689230869,"creation_date":1689204053,"answer_id":76674993,"question_id":76674968,"body_markdown":"I think your issue is related to the content of the certificate (Subject Alternative Name field), similar as the following answer which I also provided here: [Certificate for &lt;localhost&gt; doesn&#39;t match any of the subject alternative names][1]\r\n\r\nCan you retry with a newly created certificate with the additional extension containing the SAN field value of localhost? So something similar to:\r\n\r\n```\r\nkeytool -genkeypair -keyalg RSA -keysize 2048 -alias stackoverflow \\\r\n-dname &quot;CN=stackoverflow,OU=Hakan,O=Hakan,C=NL&quot; \\\r\n-ext &quot;SAN:c=DNS:localhost,IP:127.0.0.1&quot; -validity 3650 \\\r\n-storepass mypassword -keypass mypassword \\\r\n-keystore identity.jks -deststoretype pkcs12\r\n```\r\n\r\nAnd use that new keystore in your wiremock configuration like the snippet below:\r\n```java\r\n@Rule\r\npublic WireMockRule wireMockRule = new WireMockRule(wireMockConfig()\r\n    .httpsPort(8443)\r\n    .keystorePath(&quot;/path/to/identity.jks&quot;) // Either a path to a file or a resource on the classpath\r\n    .keystorePassword(&quot;mypassword&quot;) // The password used to access the keystore. Defaults to &quot;password&quot; if omitted\r\n    .keyManagerPassword(&quot;mypassword&quot;)); // The password used to access individual keys in the keystore. Defaults to &quot;password&quot; if omitted\r\n```\r\n\r\nExport the server certificate from wiremock and add it to your https url connection:\r\n```java\r\nKeyStore trustStore = KeyStore.getInstance(KeyStore.getDefaultType());\r\ntrustStore.load(null, &quot;secret&quot;.toCharArray());\r\n\r\nCertificateFactory certificateFactory = CertificateFactory.getInstance(&quot;X.509&quot;);\r\ntry (InputStream inputStream = Files.newInputStream(Paths.get(&quot;/path/to/trusted-server-certificate.crt&quot;));) {\r\n    Certificate certificate = certificateFactory.generateCertificate(inputStream);\r\n    trustStore.setCertificateEntry(&quot;wiremock-server-certificate&quot;, certificate);\r\n}\r\n\r\nTrustManagerFactory trustManagerFactory = TrustManagerFactory.getInstance(TrustManagerFactory.getDefaultAlgorithm());\r\ntrustManagerFactory.init(trustStore);\r\nSSLContext sslContext = SSLContext.getInstance(&quot;TLS&quot;);\r\nsslContext.init(null, trustManagerFactory.getTrustManagers(), null);\r\n\r\nHttpsURLConnection connection = (HttpsURLConnection) new URL(&quot;https://localhost:8443&quot;).openConnection();\r\nconnection.setSSLSocketFactory(sslContext.getSocketFactory());\r\n```\r\n\r\nCan you give this a try and share your results?\r\n\r\n  [1]: https://stackoverflow.com/a/53822999/6777695","title":"Error javax.net.ssl.SSLHandshakeException: No name matching localhost found when using WireMock Self Signed SSL","body":"<p>I think your issue is related to the content of the certificate (Subject Alternative Name field), similar as the following answer which I also provided here: <a href=\"https://stackoverflow.com/a/53822999/6777695\">Certificate for  doesn't match any of the subject alternative names</a></p>\n<p>Can you retry with a newly created certificate with the additional extension containing the SAN field value of localhost? So something similar to:</p>\n<pre><code>keytool -genkeypair -keyalg RSA -keysize 2048 -alias stackoverflow \\\n-dname &quot;CN=stackoverflow,OU=Hakan,O=Hakan,C=NL&quot; \\\n-ext &quot;SAN:c=DNS:localhost,IP:127.0.0.1&quot; -validity 3650 \\\n-storepass mypassword -keypass mypassword \\\n-keystore identity.jks -deststoretype pkcs12\n</code></pre>\n<p>And use that new keystore in your wiremock configuration like the snippet below:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Rule\npublic WireMockRule wireMockRule = new WireMockRule(wireMockConfig()\n    .httpsPort(8443)\n    .keystorePath(&quot;/path/to/identity.jks&quot;) // Either a path to a file or a resource on the classpath\n    .keystorePassword(&quot;mypassword&quot;) // The password used to access the keystore. Defaults to &quot;password&quot; if omitted\n    .keyManagerPassword(&quot;mypassword&quot;)); // The password used to access individual keys in the keystore. Defaults to &quot;password&quot; if omitted\n</code></pre>\n<p>Export the server certificate from wiremock and add it to your https url connection:</p>\n<pre class=\"lang-java prettyprint-override\"><code>KeyStore trustStore = KeyStore.getInstance(KeyStore.getDefaultType());\ntrustStore.load(null, &quot;secret&quot;.toCharArray());\n\nCertificateFactory certificateFactory = CertificateFactory.getInstance(&quot;X.509&quot;);\ntry (InputStream inputStream = Files.newInputStream(Paths.get(&quot;/path/to/trusted-server-certificate.crt&quot;));) {\n    Certificate certificate = certificateFactory.generateCertificate(inputStream);\n    trustStore.setCertificateEntry(&quot;wiremock-server-certificate&quot;, certificate);\n}\n\nTrustManagerFactory trustManagerFactory = TrustManagerFactory.getInstance(TrustManagerFactory.getDefaultAlgorithm());\ntrustManagerFactory.init(trustStore);\nSSLContext sslContext = SSLContext.getInstance(&quot;TLS&quot;);\nsslContext.init(null, trustManagerFactory.getTrustManagers(), null);\n\nHttpsURLConnection connection = (HttpsURLConnection) new URL(&quot;https://localhost:8443&quot;).openConnection();\nconnection.setSSLSocketFactory(sslContext.getSocketFactory());\n</code></pre>\n<p>Can you give this a try and share your results?</p>\n"},{"tags":[],"owner":{"account_id":4206618,"reputation":808,"user_id":4180447,"accept_rate":47,"display_name":"tarekahf"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689272786,"creation_date":1689272383,"answer_id":76682237,"question_id":76674968,"body_markdown":"I found the answer here:\r\n\r\nhttps://stackoverflow.com/questions/3093112/certificateexception-no-name-matching-ssl-someurl-de-found\r\n\r\nand here:\r\n\r\nhttps://mkyong.com/webservices/jax-ws/java-security-cert-certificateexception-no-name-matching-localhost-found/\r\n\r\nI just added the code block below to the test class:\r\n\r\n```\r\n\tstatic {\r\n\t\t//for localhost testing only\r\n\t\tjavax.net.ssl.HttpsURLConnection.setDefaultHostnameVerifier(newJavaKeyword javax.net.ssl.HostnameVerifier() {\r\n\t\t\tpublic boolean verify(String hostname, javax.net.ssl.SSLSession sslSession) {\r\n\t\t\t\tif (hostname.equals(&quot;localhost&quot;)) {\r\n\t\t\t\t\treturn true;\r\n\t\t\t\t}\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n```\r\n\r\nNote: replace the keyword above `newJavaKeyword` with `new` as it won&#39;t let me post it using `new` for some reason.\r\n\r\nAnd it worked right away. This is just fine as during testing, all I want is to make sure my SSL code is working fine.\r\n\r\nTo summarize, I executed the unit test, and put a breakpoint after the WireMock server was started using the following code:\r\n\r\n```\r\n\tprivate final static int WIREMOCK_PORT = 8089;\r\n\tprivate final static int WIREMOCK_PORT_SSL = 8443;\r\n\tprivate final static String BASE_URL = &quot;http://localhost:&quot; + WIREMOCK_PORT + &quot;/&quot;;\r\n\tprivate final static String BASE_URL_SSL = &quot;https://localhost:&quot; + WIREMOCK_PORT_SSL + &quot;/&quot;;\r\n\r\n\t@BeforeClass\r\n\tpublic static void setup() {\r\n\t\tSystem.out.println(&quot;This is the Setup Method&quot;);\r\n\t\twireMockServer = new WireMockServer(options().port(WIREMOCK_PORT).httpsPort(WIREMOCK_PORT_SSL).notifier(new ConsoleNotifier(false)));\r\n\t\twireMockServer.start();\r\n\t}\r\n\t\r\n```\r\n\r\nThen, I used the Java tool `InstallCert.java` to extract the WireMock trust store file and I used it to create the `SSLContext` object in Java. You can check the details of creating the trust store file in the question body above.","title":"Error javax.net.ssl.SSLHandshakeException: No name matching localhost found when using WireMock Self Signed SSL","body":"<p>I found the answer here:</p>\n<p><a href=\"https://stackoverflow.com/questions/3093112/certificateexception-no-name-matching-ssl-someurl-de-found\">CertificateException: No name matching ssl.someUrl.de found</a></p>\n<p>and here:</p>\n<p><a href=\"https://mkyong.com/webservices/jax-ws/java-security-cert-certificateexception-no-name-matching-localhost-found/\" rel=\"nofollow noreferrer\">https://mkyong.com/webservices/jax-ws/java-security-cert-certificateexception-no-name-matching-localhost-found/</a></p>\n<p>I just added the code block below to the test class:</p>\n<pre><code>    static {\n        //for localhost testing only\n        javax.net.ssl.HttpsURLConnection.setDefaultHostnameVerifier(newJavaKeyword javax.net.ssl.HostnameVerifier() {\n            public boolean verify(String hostname, javax.net.ssl.SSLSession sslSession) {\n                if (hostname.equals(&quot;localhost&quot;)) {\n                    return true;\n                }\n                return false;\n            }\n        });\n    }\n</code></pre>\n<p>Note: replace the keyword above <code>newJavaKeyword</code> with <code>new</code> as it won't let me post it using <code>new</code> for some reason.</p>\n<p>And it worked right away. This is just fine as during testing, all I want is to make sure my SSL code is working fine.</p>\n<p>To summarize, I executed the unit test, and put a breakpoint after the WireMock server was started using the following code:</p>\n<pre><code>    private final static int WIREMOCK_PORT = 8089;\n    private final static int WIREMOCK_PORT_SSL = 8443;\n    private final static String BASE_URL = &quot;http://localhost:&quot; + WIREMOCK_PORT + &quot;/&quot;;\n    private final static String BASE_URL_SSL = &quot;https://localhost:&quot; + WIREMOCK_PORT_SSL + &quot;/&quot;;\n\n    @BeforeClass\n    public static void setup() {\n        System.out.println(&quot;This is the Setup Method&quot;);\n        wireMockServer = new WireMockServer(options().port(WIREMOCK_PORT).httpsPort(WIREMOCK_PORT_SSL).notifier(new ConsoleNotifier(false)));\n        wireMockServer.start();\n    }\n    \n</code></pre>\n<p>Then, I used the Java tool <code>InstallCert.java</code> to extract the WireMock trust store file and I used it to create the <code>SSLContext</code> object in Java. You can check the details of creating the trust store file in the question body above.</p>\n"}],"owner":{"account_id":4206618,"reputation":808,"user_id":4180447,"accept_rate":47,"display_name":"tarekahf"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":313,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1689272786,"creation_date":1689203537,"question_id":76674968,"body_markdown":"I followed the same steps when I tried to use Mockoon Self-Signed SSL, and all worked fine. I exported the Mockoon SSL using Chrome Browser and added it to jssecacerts using keytool and it worked fine. Also, I used the tool &#39;InstallCert.java&#39; from GitHub and followed the steps to create a new trust store file, it also worked fine.\r\n\r\nI managed to start a WireMock server with SSL as per the steps here:\r\n\r\nhttps://wiremock.org/docs/https/\r\n\r\nI used this code below in a JUnit 4 test class to configure the server and test invoking REST services with SSL from my local:\r\n\r\n```\r\nwireMockServer = new WireMockServer(WireMockConfiguration.wireMockConfig().httpsPort(8443).port(8089));\r\n\r\nwireMockServer.start();\r\n```\r\n\r\nThen, I run the test above and put a break-point before stopping the server, to test the setup using Chrome Browser and Postman.\r\n\r\nI confirmed that &quot;HTTPS&quot; is working fine from Chrome Browser. I tried to export the certificate from Chrome Browser and added it to jssecacerts or an existing trust store file I have, I got an error when I invoke the service with SSL from my local. I set up the mock service using a JSON mapping file under the mappings folder, and I enable SSL in Java, I get the following error when executing this line of code:\r\n\r\n```\r\n((HttpURLConnection)urlConnection).connect();\r\n```\r\n\r\nThe error is:\r\n\r\n```\r\njavax.net.ssl.SSLHandshakeException: No name matching localhost found\r\n```\r\n\r\nI did some digging, and I think the WireMock Self-Signed certificate is not marked with the correct CN name. I think the CN should be &quot;localhost&quot;. See the command line output of the steps I followed using the tool &#39;InstallCert.java&#39; and you can see the `CN=Tom Akehurst`:\r\n\r\n```\r\nC:\\Projects\\SAT\\install certificate&gt;C:\\apps\\jdk1.8.0_351\\bin\\java InstallCert localhost:8443\r\nLoading KeyStore jssecacerts...\r\nOpening connection to localhost:8443 ...\r\nStarting SSL handshake...\r\n\r\njavax.net.ssl.SSLHandshakeException: sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\r\n        at sun.security.ssl.Alert.createSSLException(Alert.java:131)\r\n        at sun.security.ssl.TransportContext.fatal(TransportContext.java:370)\r\n        at sun.security.ssl.TransportContext.fatal(TransportContext.java:313)\r\n        at sun.security.ssl.TransportContext.fatal(TransportContext.java:308)\r\n        at sun.security.ssl.CertificateMessage$T13CertificateConsumer.checkServerCerts(CertificateMessage.java:1355)\r\n        at sun.security.ssl.CertificateMessage$T13CertificateConsumer.onConsumeCertificate(CertificateMessage.java:1230)\r\n        at sun.security.ssl.CertificateMessage$T13CertificateConsumer.consume(CertificateMessage.java:1173)\r\n        at sun.security.ssl.SSLHandshake.consume(SSLHandshake.java:376)\r\n        at sun.security.ssl.HandshakeContext.dispatch(HandshakeContext.java:479)\r\n        at sun.security.ssl.HandshakeContext.dispatch(HandshakeContext.java:457)\r\n        at sun.security.ssl.TransportContext.dispatch(TransportContext.java:200)\r\n        at sun.security.ssl.SSLTransport.decode(SSLTransport.java:155)\r\n        at sun.security.ssl.SSLSocketImpl.decode(SSLSocketImpl.java:1320)\r\n        at sun.security.ssl.SSLSocketImpl.readHandshakeRecord(SSLSocketImpl.java:1233)\r\n        at sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:417)\r\n        at sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:389)\r\n        at InstallCert.main(InstallCert.java:150)\r\nCaused by: sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\r\n        at sun.security.validator.PKIXValidator.doBuild(PKIXValidator.java:439)\r\n        at sun.security.validator.PKIXValidator.engineValidate(PKIXValidator.java:306)\r\n        at sun.security.validator.Validator.validate(Validator.java:271)\r\n        at sun.security.ssl.X509TrustManagerImpl.validate(X509TrustManagerImpl.java:312)\r\n        at sun.security.ssl.X509TrustManagerImpl.checkTrusted(X509TrustManagerImpl.java:232)\r\n        at sun.security.ssl.X509TrustManagerImpl.checkServerTrusted(X509TrustManagerImpl.java:109)\r\n        at InstallCert$SavingTrustManager.checkServerTrusted(InstallCert.java:248)\r\n        at sun.security.ssl.AbstractTrustManagerWrapper.checkServerTrusted(SSLContextImpl.java:1257)\r\n        at sun.security.ssl.CertificateMessage$T13CertificateConsumer.checkServerCerts(CertificateMessage.java:1339)\r\n        ... 12 more\r\nCaused by: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\r\n        at sun.security.provider.certpath.SunCertPathBuilder.build(SunCertPathBuilder.java:141)\r\n        at sun.security.provider.certpath.SunCertPathBuilder.engineBuild(SunCertPathBuilder.java:126)\r\n        at java.security.cert.CertPathBuilder.build(CertPathBuilder.java:280)\r\n        at sun.security.validator.PKIXValidator.doBuild(PKIXValidator.java:434)\r\n        ... 20 more\r\n\r\nServer sent 1 certificate(s):\r\n\r\n 1 Subject CN=Tom Akehurst, OU=Unknown, O=Unknown, L=Unknown, ST=Unknown, C=Unknown\r\n   Issuer  CN=Tom Akehurst, OU=Unknown, O=Unknown, L=Unknown, ST=Unknown, C=Unknown\r\n   sha1    6f b3 cc 4f 53 f3 89 4c 70 6f cc 1d 43 f4 ea b3 55 f0 ad 95\r\n   md5     a8 cb 72 1e 19 e2 3d a1 d1 80 9c e8 08 48 04 b3\r\n\r\nEnter certificate to add to trusted keystore or &#39;q&#39; to quit: [1]\r\n1\r\n\r\n[\r\n[\r\n  Version: V3\r\n  Subject: CN=Tom Akehurst, OU=Unknown, O=Unknown, L=Unknown, ST=Unknown, C=Unknown\r\n  Signature Algorithm: SHA256withRSA, OID = 1.2.840.113549.1.1.11\r\n\r\n  Key:  Sun RSA public key, 2048 bits\r\n  params: null\r\n  modulus: 16162811599997437670024325232093400418478212143396095301325549189805590306783227883083284364453457615893858264294238688239430771669295437290996184629436638130978501233955452329850079285658793303035959256253528976045906886986406333317493030534226253285257726086357068697209146911044976286072066873509393816195164204783023078735828350752718589222442240996413022972362184792369971488626885171029793821887871975122481690953784562330474007286147206795416645490450507513174892201829940700367426767157759073817765308911582508302203841860388208167091799369665611086691071592657494061212129654521104283864301320982025481461669\r\n  public exponent: 65537\r\n  Validity: [From: Tue Feb 24 08:58:50 EST 2015,\r\n               To: Thu Jan 31 08:58:50 EST 2115]\r\n  Issuer: CN=Tom Akehurst, OU=Unknown, O=Unknown, L=Unknown, ST=Unknown, C=Unknown\r\n  SerialNumber: [    1d892e4f]\r\n\r\nCertificate Extensions: 1\r\n[1]: ObjectId: 2.5.29.14 Criticality=false\r\nSubjectKeyIdentifier [\r\nKeyIdentifier [\r\n0000: 36 7A B2 85 D1 C4 3F CD   DA 7E 5B FB E0 95 AD 66  6z....?...[....f\r\n0010: EB 5C B2 96                                        .\\..\r\n]\r\n]\r\n\r\n]\r\n  Algorithm: [SHA256withRSA]\r\n  Signature:\r\n0000: 62 3D F0 94 83 B1 07 CF   CA 68 46 06 4B EB 43 F3  b=.......hF.K.C.\r\n0010: 31 DC 9A 28 BC 1A 7C 6B   45 76 C8 66 63 5C BD BF  1..(...kEv.fc\\..\r\n0020: 3A 4F 24 8A 05 70 81 FB   72 B4 AC 99 47 11 93 E5  :O$..p..r...G...\r\n0030: D2 8F 95 A1 4A BE 11 4F   7C B5 E4 9B 1F 67 2F 77  ....J..O.....g/w\r\n0040: E7 4E 7B 7F 49 27 11 71   1F A2 BF 86 8B C0 65 0D  .N..I&#39;.q......e.\r\n0050: A0 B7 DE A5 FE EA DC 22   01 AB 9B D6 29 C4 0D CD  .......&quot;....)...\r\n0060: 36 F1 91 6D 13 06 F3 25   06 20 26 8D 46 BC B1 B6  6..m...%. &amp;.F...\r\n0070: A3 60 4C 64 1D 42 E4 5F   A4 36 6F 63 6B 0B B8 AD  .`Ld.B._.6ock...\r\n0080: 33 6D 5E 4B 57 96 83 61   A3 1A D2 5A DC 84 52 80  3m^KW..a...Z..R.\r\n0090: C0 BC 68 01 56 70 09 C1   05 DC 7D AC 96 AB 70 2C  ..h.Vp........p,\r\n00A0: 0A BF 64 A4 72 37 6C 1C   0B 27 D3 40 18 2E 0C F2  ..d.r7l..&#39;.@....\r\n00B0: 3E F3 F4 0C 3B D4 91 A6   C0 10 E4 D6 8A 00 3B A2  &gt;...;.........;.\r\n00C0: FC D9 6E C3 58 16 0F CE   92 D7 5D E5 E6 1D 10 B1  ..n.X.....].....\r\n00D0: A6 E8 CA 59 AB DE 01 5D   93 72 0B 10 68 29 B3 CB  ...Y...].r..h)..\r\n00E0: 6F 62 F8 5D 37 A4 B9 7B   56 2A 38 12 2F B3 F5 74  ob.]7...V*8./..t\r\n00F0: 20 66 23 78 03 08 B0 CF   D0 FE 96 C8 67 2A E2 08   f#x........g*..\r\n\r\n]\r\n\r\nAdded certificate to keystore &#39;jssecacerts&#39; using alias &#39;localhost-1&#39;\r\n\r\nC:\\Projects\\SAT\\install certificate&gt;C:\\apps\\jdk1.8.0_351\\bin\\java InstallCert localhost:8443\r\nLoading KeyStore jssecacerts...\r\nOpening connection to localhost:8443 ...\r\nStarting SSL handshake...\r\n\r\nNo errors, certificate is already trusted\r\n\r\nServer sent 1 certificate(s):\r\n\r\n 1 Subject CN=Tom Akehurst, OU=Unknown, O=Unknown, L=Unknown, ST=Unknown, C=Unknown\r\n   Issuer  CN=Tom Akehurst, OU=Unknown, O=Unknown, L=Unknown, ST=Unknown, C=Unknown\r\n   sha1    6f b3 cc 4f 53 f3 89 4c 70 6f cc 1d 43 f4 ea b3 55 f0 ad 95\r\n   md5     a8 cb 72 1e 19 e2 3d a1 d1 80 9c e8 08 48 04 b3\r\n\r\nEnter certificate to add to trusted keystore or &#39;q&#39; to quit: [1]\r\nq\r\nKeyStore not changed\r\n\r\nC:\\Projects\\SAT\\install certificate&gt;keytool -exportcert -alias localhost-1 -keystore jssecacerts -storepass changeit -file mywiremock.cer\r\nCertificate stored in file &lt;mywiremock.cer&gt;\r\n\r\nC:\\Projects\\SAT\\install certificate&gt;keytool -importcert -file mywiremock.cer -keystore wiremockstore.jks -alias localhost-1 -storepass changeit\r\nOwner: CN=Tom Akehurst, OU=Unknown, O=Unknown, L=Unknown, ST=Unknown, C=Unknown\r\nIssuer: CN=Tom Akehurst, OU=Unknown, O=Unknown, L=Unknown, ST=Unknown, C=Unknown\r\nSerial number: 1d892e4f\r\nValid from: Tue Feb 24 08:58:50 EST 2015 until: Thu Jan 31 08:58:50 EST 2115\r\nCertificate fingerprints:\r\n         SHA1: 6F:B3:CC:4F:53:F3:89:4C:70:6F:CC:1D:43:F4:EA:B3:55:F0:AD:95\r\n         SHA256: 66:02:81:F6:DD:F9:C1:DE:66:21:10:8B:69:A9:85:42:9A:5B:CE:17:9A:4A:6C:F4:89:59:A1:BD:A6:E1:9C:31\r\nSignature algorithm name: SHA256withRSA\r\nSubject Public Key Algorithm: 2048-bit RSA key\r\nVersion: 3\r\n\r\nExtensions:\r\n\r\n#1: ObjectId: 2.5.29.14 Criticality=false\r\nSubjectKeyIdentifier [\r\nKeyIdentifier [\r\n0000: 36 7A B2 85 D1 C4 3F CD   DA 7E 5B FB E0 95 AD 66  6z....?...[....f\r\n0010: EB 5C B2 96                                        .\\..\r\n]\r\n]\r\n\r\nTrust this certificate? [no]:  yes\r\nCertificate was added to keystore\r\n```\r\n\r\nI appreciate your help to fix this issue. I want to be able to mock the service on my local and use SSL. It is not working with WireMock. How I can solve this error:\r\n\r\n```\r\njavax.net.ssl.SSLHandshakeException: No name matching localhost found\r\n```","title":"Error javax.net.ssl.SSLHandshakeException: No name matching localhost found when using WireMock Self Signed SSL","body":"<p>I followed the same steps when I tried to use Mockoon Self-Signed SSL, and all worked fine. I exported the Mockoon SSL using Chrome Browser and added it to jssecacerts using keytool and it worked fine. Also, I used the tool 'InstallCert.java' from GitHub and followed the steps to create a new trust store file, it also worked fine.</p>\n<p>I managed to start a WireMock server with SSL as per the steps here:</p>\n<p><a href=\"https://wiremock.org/docs/https/\" rel=\"nofollow noreferrer\">https://wiremock.org/docs/https/</a></p>\n<p>I used this code below in a JUnit 4 test class to configure the server and test invoking REST services with SSL from my local:</p>\n<pre><code>wireMockServer = new WireMockServer(WireMockConfiguration.wireMockConfig().httpsPort(8443).port(8089));\n\nwireMockServer.start();\n</code></pre>\n<p>Then, I run the test above and put a break-point before stopping the server, to test the setup using Chrome Browser and Postman.</p>\n<p>I confirmed that &quot;HTTPS&quot; is working fine from Chrome Browser. I tried to export the certificate from Chrome Browser and added it to jssecacerts or an existing trust store file I have, I got an error when I invoke the service with SSL from my local. I set up the mock service using a JSON mapping file under the mappings folder, and I enable SSL in Java, I get the following error when executing this line of code:</p>\n<pre><code>((HttpURLConnection)urlConnection).connect();\n</code></pre>\n<p>The error is:</p>\n<pre><code>javax.net.ssl.SSLHandshakeException: No name matching localhost found\n</code></pre>\n<p>I did some digging, and I think the WireMock Self-Signed certificate is not marked with the correct CN name. I think the CN should be &quot;localhost&quot;. See the command line output of the steps I followed using the tool 'InstallCert.java' and you can see the <code>CN=Tom Akehurst</code>:</p>\n<pre><code>C:\\Projects\\SAT\\install certificate&gt;C:\\apps\\jdk1.8.0_351\\bin\\java InstallCert localhost:8443\nLoading KeyStore jssecacerts...\nOpening connection to localhost:8443 ...\nStarting SSL handshake...\n\njavax.net.ssl.SSLHandshakeException: sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\n        at sun.security.ssl.Alert.createSSLException(Alert.java:131)\n        at sun.security.ssl.TransportContext.fatal(TransportContext.java:370)\n        at sun.security.ssl.TransportContext.fatal(TransportContext.java:313)\n        at sun.security.ssl.TransportContext.fatal(TransportContext.java:308)\n        at sun.security.ssl.CertificateMessage$T13CertificateConsumer.checkServerCerts(CertificateMessage.java:1355)\n        at sun.security.ssl.CertificateMessage$T13CertificateConsumer.onConsumeCertificate(CertificateMessage.java:1230)\n        at sun.security.ssl.CertificateMessage$T13CertificateConsumer.consume(CertificateMessage.java:1173)\n        at sun.security.ssl.SSLHandshake.consume(SSLHandshake.java:376)\n        at sun.security.ssl.HandshakeContext.dispatch(HandshakeContext.java:479)\n        at sun.security.ssl.HandshakeContext.dispatch(HandshakeContext.java:457)\n        at sun.security.ssl.TransportContext.dispatch(TransportContext.java:200)\n        at sun.security.ssl.SSLTransport.decode(SSLTransport.java:155)\n        at sun.security.ssl.SSLSocketImpl.decode(SSLSocketImpl.java:1320)\n        at sun.security.ssl.SSLSocketImpl.readHandshakeRecord(SSLSocketImpl.java:1233)\n        at sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:417)\n        at sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:389)\n        at InstallCert.main(InstallCert.java:150)\nCaused by: sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\n        at sun.security.validator.PKIXValidator.doBuild(PKIXValidator.java:439)\n        at sun.security.validator.PKIXValidator.engineValidate(PKIXValidator.java:306)\n        at sun.security.validator.Validator.validate(Validator.java:271)\n        at sun.security.ssl.X509TrustManagerImpl.validate(X509TrustManagerImpl.java:312)\n        at sun.security.ssl.X509TrustManagerImpl.checkTrusted(X509TrustManagerImpl.java:232)\n        at sun.security.ssl.X509TrustManagerImpl.checkServerTrusted(X509TrustManagerImpl.java:109)\n        at InstallCert$SavingTrustManager.checkServerTrusted(InstallCert.java:248)\n        at sun.security.ssl.AbstractTrustManagerWrapper.checkServerTrusted(SSLContextImpl.java:1257)\n        at sun.security.ssl.CertificateMessage$T13CertificateConsumer.checkServerCerts(CertificateMessage.java:1339)\n        ... 12 more\nCaused by: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\n        at sun.security.provider.certpath.SunCertPathBuilder.build(SunCertPathBuilder.java:141)\n        at sun.security.provider.certpath.SunCertPathBuilder.engineBuild(SunCertPathBuilder.java:126)\n        at java.security.cert.CertPathBuilder.build(CertPathBuilder.java:280)\n        at sun.security.validator.PKIXValidator.doBuild(PKIXValidator.java:434)\n        ... 20 more\n\nServer sent 1 certificate(s):\n\n 1 Subject CN=Tom Akehurst, OU=Unknown, O=Unknown, L=Unknown, ST=Unknown, C=Unknown\n   Issuer  CN=Tom Akehurst, OU=Unknown, O=Unknown, L=Unknown, ST=Unknown, C=Unknown\n   sha1    6f b3 cc 4f 53 f3 89 4c 70 6f cc 1d 43 f4 ea b3 55 f0 ad 95\n   md5     a8 cb 72 1e 19 e2 3d a1 d1 80 9c e8 08 48 04 b3\n\nEnter certificate to add to trusted keystore or 'q' to quit: [1]\n1\n\n[\n[\n  Version: V3\n  Subject: CN=Tom Akehurst, OU=Unknown, O=Unknown, L=Unknown, ST=Unknown, C=Unknown\n  Signature Algorithm: SHA256withRSA, OID = 1.2.840.113549.1.1.11\n\n  Key:  Sun RSA public key, 2048 bits\n  params: null\n  modulus: 16162811599997437670024325232093400418478212143396095301325549189805590306783227883083284364453457615893858264294238688239430771669295437290996184629436638130978501233955452329850079285658793303035959256253528976045906886986406333317493030534226253285257726086357068697209146911044976286072066873509393816195164204783023078735828350752718589222442240996413022972362184792369971488626885171029793821887871975122481690953784562330474007286147206795416645490450507513174892201829940700367426767157759073817765308911582508302203841860388208167091799369665611086691071592657494061212129654521104283864301320982025481461669\n  public exponent: 65537\n  Validity: [From: Tue Feb 24 08:58:50 EST 2015,\n               To: Thu Jan 31 08:58:50 EST 2115]\n  Issuer: CN=Tom Akehurst, OU=Unknown, O=Unknown, L=Unknown, ST=Unknown, C=Unknown\n  SerialNumber: [    1d892e4f]\n\nCertificate Extensions: 1\n[1]: ObjectId: 2.5.29.14 Criticality=false\nSubjectKeyIdentifier [\nKeyIdentifier [\n0000: 36 7A B2 85 D1 C4 3F CD   DA 7E 5B FB E0 95 AD 66  6z....?...[....f\n0010: EB 5C B2 96                                        .\\..\n]\n]\n\n]\n  Algorithm: [SHA256withRSA]\n  Signature:\n0000: 62 3D F0 94 83 B1 07 CF   CA 68 46 06 4B EB 43 F3  b=.......hF.K.C.\n0010: 31 DC 9A 28 BC 1A 7C 6B   45 76 C8 66 63 5C BD BF  1..(...kEv.fc\\..\n0020: 3A 4F 24 8A 05 70 81 FB   72 B4 AC 99 47 11 93 E5  :O$..p..r...G...\n0030: D2 8F 95 A1 4A BE 11 4F   7C B5 E4 9B 1F 67 2F 77  ....J..O.....g/w\n0040: E7 4E 7B 7F 49 27 11 71   1F A2 BF 86 8B C0 65 0D  .N..I'.q......e.\n0050: A0 B7 DE A5 FE EA DC 22   01 AB 9B D6 29 C4 0D CD  .......&quot;....)...\n0060: 36 F1 91 6D 13 06 F3 25   06 20 26 8D 46 BC B1 B6  6..m...%. &amp;.F...\n0070: A3 60 4C 64 1D 42 E4 5F   A4 36 6F 63 6B 0B B8 AD  .`Ld.B._.6ock...\n0080: 33 6D 5E 4B 57 96 83 61   A3 1A D2 5A DC 84 52 80  3m^KW..a...Z..R.\n0090: C0 BC 68 01 56 70 09 C1   05 DC 7D AC 96 AB 70 2C  ..h.Vp........p,\n00A0: 0A BF 64 A4 72 37 6C 1C   0B 27 D3 40 18 2E 0C F2  ..d.r7l..'.@....\n00B0: 3E F3 F4 0C 3B D4 91 A6   C0 10 E4 D6 8A 00 3B A2  &gt;...;.........;.\n00C0: FC D9 6E C3 58 16 0F CE   92 D7 5D E5 E6 1D 10 B1  ..n.X.....].....\n00D0: A6 E8 CA 59 AB DE 01 5D   93 72 0B 10 68 29 B3 CB  ...Y...].r..h)..\n00E0: 6F 62 F8 5D 37 A4 B9 7B   56 2A 38 12 2F B3 F5 74  ob.]7...V*8./..t\n00F0: 20 66 23 78 03 08 B0 CF   D0 FE 96 C8 67 2A E2 08   f#x........g*..\n\n]\n\nAdded certificate to keystore 'jssecacerts' using alias 'localhost-1'\n\nC:\\Projects\\SAT\\install certificate&gt;C:\\apps\\jdk1.8.0_351\\bin\\java InstallCert localhost:8443\nLoading KeyStore jssecacerts...\nOpening connection to localhost:8443 ...\nStarting SSL handshake...\n\nNo errors, certificate is already trusted\n\nServer sent 1 certificate(s):\n\n 1 Subject CN=Tom Akehurst, OU=Unknown, O=Unknown, L=Unknown, ST=Unknown, C=Unknown\n   Issuer  CN=Tom Akehurst, OU=Unknown, O=Unknown, L=Unknown, ST=Unknown, C=Unknown\n   sha1    6f b3 cc 4f 53 f3 89 4c 70 6f cc 1d 43 f4 ea b3 55 f0 ad 95\n   md5     a8 cb 72 1e 19 e2 3d a1 d1 80 9c e8 08 48 04 b3\n\nEnter certificate to add to trusted keystore or 'q' to quit: [1]\nq\nKeyStore not changed\n\nC:\\Projects\\SAT\\install certificate&gt;keytool -exportcert -alias localhost-1 -keystore jssecacerts -storepass changeit -file mywiremock.cer\nCertificate stored in file &lt;mywiremock.cer&gt;\n\nC:\\Projects\\SAT\\install certificate&gt;keytool -importcert -file mywiremock.cer -keystore wiremockstore.jks -alias localhost-1 -storepass changeit\nOwner: CN=Tom Akehurst, OU=Unknown, O=Unknown, L=Unknown, ST=Unknown, C=Unknown\nIssuer: CN=Tom Akehurst, OU=Unknown, O=Unknown, L=Unknown, ST=Unknown, C=Unknown\nSerial number: 1d892e4f\nValid from: Tue Feb 24 08:58:50 EST 2015 until: Thu Jan 31 08:58:50 EST 2115\nCertificate fingerprints:\n         SHA1: 6F:B3:CC:4F:53:F3:89:4C:70:6F:CC:1D:43:F4:EA:B3:55:F0:AD:95\n         SHA256: 66:02:81:F6:DD:F9:C1:DE:66:21:10:8B:69:A9:85:42:9A:5B:CE:17:9A:4A:6C:F4:89:59:A1:BD:A6:E1:9C:31\nSignature algorithm name: SHA256withRSA\nSubject Public Key Algorithm: 2048-bit RSA key\nVersion: 3\n\nExtensions:\n\n#1: ObjectId: 2.5.29.14 Criticality=false\nSubjectKeyIdentifier [\nKeyIdentifier [\n0000: 36 7A B2 85 D1 C4 3F CD   DA 7E 5B FB E0 95 AD 66  6z....?...[....f\n0010: EB 5C B2 96                                        .\\..\n]\n]\n\nTrust this certificate? [no]:  yes\nCertificate was added to keystore\n</code></pre>\n<p>I appreciate your help to fix this issue. I want to be able to mock the service on my local and use SSL. It is not working with WireMock. How I can solve this error:</p>\n<pre><code>javax.net.ssl.SSLHandshakeException: No name matching localhost found\n</code></pre>\n"},{"tags":["java","file","unixodbc","r.java-file"],"comments":[{"owner":{"account_id":28927438,"reputation":11,"user_id":22156985,"display_name":"PuneethC99"},"score":0,"creation_date":1689308755,"post_id":76682289,"comment_id":135197949,"body_markdown":"I used that but it says &quot;Operation not permitted&quot; @user16320675","body":"I used that but it says &quot;Operation not permitted&quot; @user16320675"}],"owner":{"account_id":28927438,"reputation":11,"user_id":22156985,"display_name":"PuneethC99"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689272775,"creation_date":1689272775,"question_id":76682289,"body_markdown":"I am trying to set read/write/executable permissions to an EXISTING directory in Java on UNIX platform.\r\nThe code I have - \r\n```\r\nFile dir = new File(path);\r\nboolean rc1 = dir.setExecutable(true, false);\r\nboolean rc2 = dir.setReadable(true, false);\r\nboolean rc3 = dir.setWritable(true, false);\r\n```\r\nAll three booleans rc1,rc2,rc3 are evaluated to false.\r\nHow do I fix this?\r\n\r\nAll three booleans should evaluate to TRUE.","title":"Setting FILE permissions always returns FALSE for the existing directories","body":"<p>I am trying to set read/write/executable permissions to an EXISTING directory in Java on UNIX platform.\nThe code I have -</p>\n<pre><code>File dir = new File(path);\nboolean rc1 = dir.setExecutable(true, false);\nboolean rc2 = dir.setReadable(true, false);\nboolean rc3 = dir.setWritable(true, false);\n</code></pre>\n<p>All three booleans rc1,rc2,rc3 are evaluated to false.\nHow do I fix this?</p>\n<p>All three booleans should evaluate to TRUE.</p>\n"},{"tags":["java","android","mobile-development"],"comments":[{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1689318608,"post_id":76682286,"comment_id":135199247,"body_markdown":"The error message already contains two links where you find the instructions how to initialize the library correctly. Have you read them and performed the described steps?","body":"The error message already contains two links where you find the instructions how to initialize the library correctly. Have you read them and performed the described steps?"}],"owner":{"account_id":23392570,"reputation":1,"user_id":17457051,"display_name":"Abdul Hannan Hassan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":124,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689272746,"creation_date":1689272746,"question_id":76682286,"body_markdown":"**When I add this library:** implementation &#39;com.google.android.gms:play-services-ads:22.2.0&#39; **my app not open and crash when Delete this library and related code then working correct, why I need to fix this here error showing below. And I want to place ads please help me.**    \r\n\r\n\r\n\r\nE/libc: Access denied finding property &quot;ro.vendor.pref_scale_resolution&quot;\r\nD/AndroidRuntime: Shutting down VM\r\nE/AndroidRuntime: FATAL EXCEPTION: main\r\n    Process: com.hannanmentor.sciencimalumaat, PID: 17041\r\n    java.lang.RuntimeException: Unable to get provider com.google.android.gms.ads.MobileAdsInitProvider: java.lang.IllegalStateException: \r\n    \r\n    ******************************************************************************\r\n    * The Google Mobile Ads SDK was initialized incorrectly. AdMob publishers    *\r\n    * should follow the instructions here:                                       *\r\n    * https://googlemobileadssdk.page.link/admob-android-update-manifest         *\r\n    * to add a valid App ID inside the AndroidManifest.                          *\r\n    * Google Ad Manager publishers should follow instructions here:              *\r\n    * https://googlemobileadssdk.page.link/ad-manager-android-update-manifest.   *\r\n    ******************************************************************************\r\n    \r\n    \r\n        at android.app.ActivityThread.installProvider(ActivityThread.java:7587)\r\n        at android.app.ActivityThread.installContentProviders(ActivityThread.java:7118)\r\n        at android.app.ActivityThread.handleBindApplication(ActivityThread.java:7035)\r\n        at android.app.ActivityThread.access$1500(ActivityThread.java:263)\r\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2032)\r\n        at android.os.Handler.dispatchMessage(Handler.java:106)\r\n        at android.os.Looper.loop(Looper.java:268)\r\n        at android.app.ActivityThread.main(ActivityThread.java:8016)\r\n        at java.lang.reflect.Method.invoke(Native Method)\r\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:627)\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:997)\r\n     Caused by: java.lang.IllegalStateException: \r\n    \r\n    ******************************************************************************\r\n    * The Google Mobile Ads SDK was initialized incorrectly. AdMob publishers    *\r\n    * should follow the instructions here:                                       *\r\n    * https://googlemobileadssdk.page.link/admob-android-update-manifest         *\r\n    * to add a valid App ID inside the AndroidManifest.                          *\r\n    * Google Ad Manager publishers should follow instructions here:              *\r\n    * https://googlemobileadssdk.page.link/ad-manager-android-update-manifest.   *\r\n    ******************************************************************************\r\n    \r\n    \r\n        at com.google.android.gms.ads.internal.client.zzek.attachInfo(com.google.android.gms:play-services-ads-lite@@22.2.0:26)\r\n        at com.google.android.gms.ads.MobileAdsInitProvider.attachInfo(com.google.android.gms:play-services-ads-lite@@22.2.0:1)\r\n        at android.app.ActivityThread.installProvider(ActivityThread.java:7582)\r\n        \t... 10 more","title":"Android Studio App Crash When I Add Google Play Services Library (Google Admob)","body":"<p><strong>When I add this library:</strong> implementation 'com.google.android.gms:play-services-ads:22.2.0' <strong>my app not open and crash when Delete this library and related code then working correct, why I need to fix this here error showing below. And I want to place ads please help me.</strong></p>\n<p>E/libc: Access denied finding property &quot;ro.vendor.pref_scale_resolution&quot;\nD/AndroidRuntime: Shutting down VM\nE/AndroidRuntime: FATAL EXCEPTION: main\nProcess: com.hannanmentor.sciencimalumaat, PID: 17041\njava.lang.RuntimeException: Unable to get provider com.google.android.gms.ads.MobileAdsInitProvider: java.lang.IllegalStateException:</p>\n<pre><code>******************************************************************************\n* The Google Mobile Ads SDK was initialized incorrectly. AdMob publishers    *\n* should follow the instructions here:                                       *\n* https://googlemobileadssdk.page.link/admob-android-update-manifest         *\n* to add a valid App ID inside the AndroidManifest.                          *\n* Google Ad Manager publishers should follow instructions here:              *\n* https://googlemobileadssdk.page.link/ad-manager-android-update-manifest.   *\n******************************************************************************\n\n\n    at android.app.ActivityThread.installProvider(ActivityThread.java:7587)\n    at android.app.ActivityThread.installContentProviders(ActivityThread.java:7118)\n    at android.app.ActivityThread.handleBindApplication(ActivityThread.java:7035)\n    at android.app.ActivityThread.access$1500(ActivityThread.java:263)\n    at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2032)\n    at android.os.Handler.dispatchMessage(Handler.java:106)\n    at android.os.Looper.loop(Looper.java:268)\n    at android.app.ActivityThread.main(ActivityThread.java:8016)\n    at java.lang.reflect.Method.invoke(Native Method)\n    at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:627)\n    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:997)\n Caused by: java.lang.IllegalStateException: \n\n******************************************************************************\n* The Google Mobile Ads SDK was initialized incorrectly. AdMob publishers    *\n* should follow the instructions here:                                       *\n* https://googlemobileadssdk.page.link/admob-android-update-manifest         *\n* to add a valid App ID inside the AndroidManifest.                          *\n* Google Ad Manager publishers should follow instructions here:              *\n* https://googlemobileadssdk.page.link/ad-manager-android-update-manifest.   *\n******************************************************************************\n\n\n    at com.google.android.gms.ads.internal.client.zzek.attachInfo(com.google.android.gms:play-services-ads-lite@@22.2.0:26)\n    at com.google.android.gms.ads.MobileAdsInitProvider.attachInfo(com.google.android.gms:play-services-ads-lite@@22.2.0:1)\n    at android.app.ActivityThread.installProvider(ActivityThread.java:7582)\n        ... 10 more\n</code></pre>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":1931201,"reputation":5150,"user_id":1740554,"display_name":"Udo Klimaschewski"},"score":2,"creation_date":1418136859,"post_id":27381781,"comment_id":43212430,"body_markdown":"Maybe this helps: http://stackoverflow.com/questions/20405474/spring-boot-context-root","body":"Maybe this helps: <a href=\"http://stackoverflow.com/questions/20405474/spring-boot-context-root\" title=\"spring boot context root\">stackoverflow.com/questions/20405474/spring-boot-context-roo&zwnj;&#8203;t</a>"},{"owner":{"account_id":1360035,"reputation":7094,"user_id":1297578,"accept_rate":82,"display_name":"Shoham"},"score":3,"creation_date":1418138084,"post_id":27381781,"comment_id":43213291,"body_markdown":"@UdoKlimaschewski It shows how to map `http://localhost:8080/appName` but its not what I need...","body":"@UdoKlimaschewski It shows how to map <code>http:&#47;&#47;localhost:8080&#47;appName</code> but its not what I need..."},{"owner":{"account_id":1422340,"reputation":165,"user_id":1346730,"accept_rate":25,"display_name":"user1346730"},"score":1,"creation_date":1543336507,"post_id":27381781,"comment_id":93877728,"body_markdown":"WebMvcConfigurerAdapter is deprecated","body":"WebMvcConfigurerAdapter is deprecated"}],"answers":[{"tags":[],"owner":{"account_id":1311122,"reputation":56893,"user_id":1259109,"display_name":"Dave Syer"},"down_vote_count":1,"up_vote_count":181,"is_accepted":true,"score":180,"last_activity_date":1431337271,"creation_date":1418141280,"answer_id":27383522,"question_id":27381781,"body_markdown":"It would have worked out of the box if you hadn&#39;t used `@EnableWebMvc` annotation. When you do that you switch off all the things that Spring Boot does for you in `WebMvcAutoConfiguration`. You could remove that annotation, or you could add back the view controller that you switched off:\r\n\r\n\t@Override\r\n\tpublic void addViewControllers(ViewControllerRegistry registry) {\r\n        registry.addViewController(&quot;/&quot;).setViewName(&quot;forward:/index.html&quot;);\r\n\t}","title":"Java Spring Boot: How to map my app root (“/”) to index.html?","body":"<p>It would have worked out of the box if you hadn't used <code>@EnableWebMvc</code> annotation. When you do that you switch off all the things that Spring Boot does for you in <code>WebMvcAutoConfiguration</code>. You could remove that annotation, or you could add back the view controller that you switched off:</p>\n\n<pre><code>@Override\npublic void addViewControllers(ViewControllerRegistry registry) {\n    registry.addViewController(\"/\").setViewName(\"forward:/index.html\");\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":966863,"reputation":3437,"user_id":990159,"accept_rate":88,"display_name":"justin"},"down_vote_count":0,"up_vote_count":45,"is_accepted":false,"score":45,"last_activity_date":1689272443,"creation_date":1436138862,"answer_id":31235990,"question_id":27381781,"body_markdown":"An example of Dave Syer&#39;s [answer](https://stackoverflow.com/a/27383522/3665178) and [comment](https://stackoverflow.com/questions/27381781/java-spring-boot-how-to-map-my-app-root-to-index-html#comment43242465_27383522):\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.context.annotation.Configuration;\r\n    import org.springframework.web.servlet.config.annotation.ViewControllerRegistry;\r\n    import org.springframework.web.servlet.config.annotation.WebMvcConfigurerAdapter;\r\n    \r\n    @Configuration\r\n    public class MyWebMvcConfig {\r\n    \r\n    \t@Bean\r\n    \tpublic WebMvcConfigurerAdapter forwardToIndex() {\r\n    \t\treturn new WebMvcConfigurerAdapter() {\r\n    \t\t\t@Override\r\n    \t\t\tpublic void addViewControllers(ViewControllerRegistry registry) {\r\n    \t\t\t\t// forward requests to /admin and /user to their index.html\r\n    \t\t\t\tregistry.addViewController(&quot;/admin&quot;).setViewName(\r\n    \t\t\t\t\t\t&quot;forward:/admin/index.html&quot;);\r\n    \t\t\t\tregistry.addViewController(&quot;/user&quot;).setViewName(\r\n    \t\t\t\t\t\t&quot;forward:/user/index.html&quot;);\r\n    \t\t\t}\r\n    \t\t};\r\n    \t}\r\n    \r\n    }\r\n","title":"Java Spring Boot: How to map my app root (“/”) to index.html?","body":"<p>An example of Dave Syer's <a href=\"https://stackoverflow.com/a/27383522/3665178\">answer</a> and <a href=\"https://stackoverflow.com/questions/27381781/java-spring-boot-how-to-map-my-app-root-to-index-html#comment43242465_27383522\">comment</a>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.web.servlet.config.annotation.ViewControllerRegistry;\nimport org.springframework.web.servlet.config.annotation.WebMvcConfigurerAdapter;\n\n@Configuration\npublic class MyWebMvcConfig {\n\n    @Bean\n    public WebMvcConfigurerAdapter forwardToIndex() {\n        return new WebMvcConfigurerAdapter() {\n            @Override\n            public void addViewControllers(ViewControllerRegistry registry) {\n                // forward requests to /admin and /user to their index.html\n                registry.addViewController(&quot;/admin&quot;).setViewName(\n                        &quot;forward:/admin/index.html&quot;);\n                registry.addViewController(&quot;/user&quot;).setViewName(\n                        &quot;forward:/user/index.html&quot;);\n            }\n        };\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8613736,"reputation":724,"user_id":6451395,"accept_rate":50,"display_name":"Krish"},"down_vote_count":0,"up_vote_count":35,"is_accepted":false,"score":35,"last_activity_date":1500580268,"creation_date":1500580268,"answer_id":45224024,"question_id":27381781,"body_markdown":"if it is a Spring boot App. \r\n\r\nSpring Boot automatically detects index.html in public/static/webapp folder. If you have written any controller `@Requestmapping(&quot;/&quot;)` it will override the default feature and it will not show the `index.html` unless you type `localhost:8080/index.html`","title":"Java Spring Boot: How to map my app root (“/”) to index.html?","body":"<p>if it is a Spring boot App. </p>\n\n<p>Spring Boot automatically detects index.html in public/static/webapp folder. If you have written any controller <code>@Requestmapping(\"/\")</code> it will override the default feature and it will not show the <code>index.html</code> unless you type <code>localhost:8080/index.html</code></p>\n"},{"tags":[],"owner":{"account_id":1075349,"reputation":249,"user_id":1073634,"display_name":"Rodrigo Ribeiro"},"down_vote_count":1,"up_vote_count":19,"is_accepted":false,"score":18,"last_activity_date":1502856028,"creation_date":1502856028,"answer_id":45704913,"question_id":27381781,"body_markdown":"    @Configuration  \r\n    @EnableWebMvc  \r\n    public class WebAppConfig extends WebMvcConfigurerAdapter {  \r\n\t\r\n\t    @Override\r\n\t    public void addViewControllers(ViewControllerRegistry registry) {\r\n\t\t    registry.addRedirectViewController(&quot;/&quot;, &quot;index.html&quot;);\r\n\t    }\r\n\t\r\n    }","title":"Java Spring Boot: How to map my app root (“/”) to index.html?","body":"<pre><code>@Configuration  \n@EnableWebMvc  \npublic class WebAppConfig extends WebMvcConfigurerAdapter {  \n\n    @Override\n    public void addViewControllers(ViewControllerRegistry registry) {\n        registry.addRedirectViewController(\"/\", \"index.html\");\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12924182,"reputation":849,"user_id":9345535,"display_name":"Pravind Kumar"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1521222333,"creation_date":1521221579,"answer_id":49326510,"question_id":27381781,"body_markdown":" 1. index.html file should come under below location - \r\n       src/resources/public/index.html OR\r\n       src/resources/static/index.html\r\n    if both location defined then which first occur index.html will call from that directory.\r\n 2. The source code looks like - \r\n\r\n        package com.bluestone.pms.app.boot; \r\n        import org.springframework.boot.Banner;\r\n        import org.springframework.boot.Banner;\r\n        import org.springframework.boot.SpringApplication;\r\n        import org.springframework.boot.autoconfigure.EnableAutoConfiguration;\r\n        import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n        import org.springframework.boot.builder.SpringApplicationBuilder;\r\n        import org.springframework.boot.web.support.SpringBootServletInitializer;\r\n        import org.springframework.context.annotation.ComponentScan;\r\n\r\n\r\n\r\n        @SpringBootApplication \r\n        @EnableAutoConfiguration\r\n        @ComponentScan(basePackages = {&quot;com.your.pkg&quot;}) \r\n        public class BootApplication extends SpringBootServletInitializer {\r\n\r\n\r\n\r\n        /**\r\n         * @param args Arguments\r\n        */\r\n        public static void main(String[] args) {\r\n        SpringApplication application = new SpringApplication(BootApplication.class);\r\n        /* Setting Boot banner off default value is true */\r\n        application.setBannerMode(Banner.Mode.OFF);\r\n        application.run(args);\r\n        }\r\n\r\n        /**\r\n          * @param builder a builder for the application context\r\n          * @return the application builder\r\n          * @see SpringApplicationBuilder\r\n         */\r\n         @Override\r\n         protected SpringApplicationBuilder configure(SpringApplicationBuilder \r\n          builder) {\r\n            return super.configure(builder);\r\n           }\r\n        }","title":"Java Spring Boot: How to map my app root (“/”) to index.html?","body":"<ol>\n<li>index.html file should come under below location - \n   src/resources/public/index.html OR\n   src/resources/static/index.html\nif both location defined then which first occur index.html will call from that directory.</li>\n<li><p>The source code looks like - </p>\n\n<pre><code>package com.bluestone.pms.app.boot; \nimport org.springframework.boot.Banner;\nimport org.springframework.boot.Banner;\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.EnableAutoConfiguration;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.boot.builder.SpringApplicationBuilder;\nimport org.springframework.boot.web.support.SpringBootServletInitializer;\nimport org.springframework.context.annotation.ComponentScan;\n\n\n\n@SpringBootApplication \n@EnableAutoConfiguration\n@ComponentScan(basePackages = {\"com.your.pkg\"}) \npublic class BootApplication extends SpringBootServletInitializer {\n\n\n\n/**\n * @param args Arguments\n*/\npublic static void main(String[] args) {\nSpringApplication application = new SpringApplication(BootApplication.class);\n/* Setting Boot banner off default value is true */\napplication.setBannerMode(Banner.Mode.OFF);\napplication.run(args);\n}\n\n/**\n  * @param builder a builder for the application context\n  * @return the application builder\n  * @see SpringApplicationBuilder\n */\n @Override\n protected SpringApplicationBuilder configure(SpringApplicationBuilder \n  builder) {\n    return super.configure(builder);\n   }\n}\n</code></pre></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":4835491,"reputation":4717,"user_id":3902339,"accept_rate":100,"display_name":"ArifMustafa"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1523889490,"creation_date":1523889490,"answer_id":49859973,"question_id":27381781,"body_markdown":"Inside `Spring Boot`, I always put the webpages inside a folder like `public` or `webapps` or `views` and place it inside `src/main/resources` directory as you can see in `application.properties` also.\r\n\r\n[![Spring_Boot-Project-Explorer-View][1]][1]\r\n\r\nand this is my `application.properties`:\r\n\r\n    server.port=15800\r\n    spring.mvc.view.prefix=/public/\r\n    spring.mvc.view.suffix=.html\r\n    spring.datasource.url=jdbc:mysql://localhost:3306/hibernatedb\r\n    spring.datasource.username=root\r\n    spring.datasource.password=password\r\n    spring.datasource.driver-class-name=com.mysql.jdbc.Driver\r\n    \r\n    spring.jpa.properties.hibernate.dialect = org.hibernate.dialect.MySQL5InnoDBDialect\r\n    spring.jpa.hibernate.ddl-auto = update\r\n    spring.jpa.properties.hibernate.format_sql = true\r\n    \r\n    logging.level.org.hibernate.SQL=DEBUG\r\n    logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE\r\n\r\nas soon you put the url like `servername:15800` and this request received by Spring Boot occupied Servlet dispatcher it will exactly search the `index.html` and this name will in case sensitive as the `spring.mvc.view.suffix` which would be html, jsp, htm etc.\r\n\r\nHope it would help manyone.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/JgkZg.png","title":"Java Spring Boot: How to map my app root (“/”) to index.html?","body":"<p>Inside <code>Spring Boot</code>, I always put the webpages inside a folder like <code>public</code> or <code>webapps</code> or <code>views</code> and place it inside <code>src/main/resources</code> directory as you can see in <code>application.properties</code> also.</p>\n\n<p><a href=\"https://i.stack.imgur.com/JgkZg.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/JgkZg.png\" alt=\"Spring_Boot-Project-Explorer-View\"></a></p>\n\n<p>and this is my <code>application.properties</code>:</p>\n\n<pre><code>server.port=15800\nspring.mvc.view.prefix=/public/\nspring.mvc.view.suffix=.html\nspring.datasource.url=jdbc:mysql://localhost:3306/hibernatedb\nspring.datasource.username=root\nspring.datasource.password=password\nspring.datasource.driver-class-name=com.mysql.jdbc.Driver\n\nspring.jpa.properties.hibernate.dialect = org.hibernate.dialect.MySQL5InnoDBDialect\nspring.jpa.hibernate.ddl-auto = update\nspring.jpa.properties.hibernate.format_sql = true\n\nlogging.level.org.hibernate.SQL=DEBUG\nlogging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE\n</code></pre>\n\n<p>as soon you put the url like <code>servername:15800</code> and this request received by Spring Boot occupied Servlet dispatcher it will exactly search the <code>index.html</code> and this name will in case sensitive as the <code>spring.mvc.view.suffix</code> which would be html, jsp, htm etc.</p>\n\n<p>Hope it would help manyone.</p>\n"},{"tags":[],"owner":{"account_id":1414426,"reputation":338,"user_id":1340354,"accept_rate":0,"display_name":"sampathlk"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1547840764,"creation_date":1547840764,"answer_id":54260515,"question_id":27381781,"body_markdown":"Update: Jan-2019\r\n\r\nFirst create public folder under resources and create index.html file.\r\nUse WebMvcConfigurer instead of WebMvcConfigurerAdapter.\r\n\r\n    import org.springframework.context.annotation.Configuration;\r\n    import org.springframework.web.servlet.config.annotation.ViewControllerRegistry;\r\n    import org.springframework.web.servlet.config.annotation.WebMvcConfigurer;\r\n    \r\n    @Configuration\r\n    public class WebAppConfig implements WebMvcConfigurer {\r\n    \r\n        @Override\r\n        public void addViewControllers(ViewControllerRegistry registry) {\r\n            registry.addViewController(&quot;/&quot;).setViewName(&quot;forward:/index.html&quot;);\r\n        }\r\n    \r\n    }\r\n\r\n","title":"Java Spring Boot: How to map my app root (“/”) to index.html?","body":"<p>Update: Jan-2019</p>\n\n<p>First create public folder under resources and create index.html file.\nUse WebMvcConfigurer instead of WebMvcConfigurerAdapter.</p>\n\n<pre><code>import org.springframework.context.annotation.Configuration;\nimport org.springframework.web.servlet.config.annotation.ViewControllerRegistry;\nimport org.springframework.web.servlet.config.annotation.WebMvcConfigurer;\n\n@Configuration\npublic class WebAppConfig implements WebMvcConfigurer {\n\n    @Override\n    public void addViewControllers(ViewControllerRegistry registry) {\n        registry.addViewController(\"/\").setViewName(\"forward:/index.html\");\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14870107,"reputation":121,"user_id":10737839,"display_name":"Yuriy K"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1569166363,"creation_date":1569166363,"answer_id":58050711,"question_id":27381781,"body_markdown":"I had the same problem. Spring boot knows where static html files are located.\r\n\r\n 1. Add index.html into resources/static folder\r\n 2. Then delete full controller method for root path like @RequestMapping(&quot;/&quot;) etc\r\n 3. Run app and check http://localhost:8080 (Should work)\r\n","title":"Java Spring Boot: How to map my app root (“/”) to index.html?","body":"<p>I had the same problem. Spring boot knows where static html files are located.</p>\n\n<ol>\n<li>Add index.html into resources/static folder</li>\n<li>Then delete full controller method for root path like @RequestMapping(\"/\") etc</li>\n<li>Run app and check <a href=\"http://localhost:8080\" rel=\"noreferrer\">http://localhost:8080</a> (Should work)</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":2492679,"reputation":20748,"user_id":2169845,"accept_rate":91,"display_name":"zappee"},"down_vote_count":0,"up_vote_count":22,"is_accepted":false,"score":22,"last_activity_date":1636022260,"creation_date":1569596601,"answer_id":58137087,"question_id":27381781,"body_markdown":"If you use the latest `spring-boot 2.1.6.RELEASE` with a simple `@RestController` annotation then you do not need to do anything, just add your `index.html` file under the `resources/static` folder:\r\n\r\n    project\r\n      ├── src\r\n       &#160;&#160; ├── main\r\n       &#160;&#160;  &#160;&#160; └── resources\r\n       &#160;&#160;  &#160;&#160;     └── static\r\n       &#160;&#160;  &#160;&#160;         └── index.html\r\n\r\n\r\nThen hit the root URL of your app [http://localhost:8080][1].\r\n\r\n\r\nThe solution above works out of the box with Spring and Tomcat and your HTTP request to the root `/`  is mapped automatically to the `index.html` file. But if you used `@EnableWebMvc` annotation then you switch off that Spring Boot does for you. In this case, you have two options: \r\n\r\n**(1)** remove that annotation\r\n\r\n**(2)** or you could add back the view controller that you switched off\r\n\r\n    @Configuration\r\n    public class WebConfiguration implements WebMvcConfigurer {\r\n    \r\n       @Override\r\n       public void addViewControllers(ViewControllerRegistry registry) {\r\n           registry.addViewController(&quot;/&quot;).setViewName(&quot;forward:/index.html&quot;);\r\n       }\r\n       \r\n    }\r\n\r\nHope that it will help everyone.\r\n\r\n  [1]: http://localhost:8080\r\n\r\n\r\n\r\n\r\n","title":"Java Spring Boot: How to map my app root (“/”) to index.html?","body":"<p>If you use the latest <code>spring-boot 2.1.6.RELEASE</code> with a simple <code>@RestController</code> annotation then you do not need to do anything, just add your <code>index.html</code> file under the <code>resources/static</code> folder:</p>\n<pre><code>project\n  ├── src\n      ├── main\n          └── resources\n              └── static\n                  └── index.html\n</code></pre>\n<p>Then hit the root URL of your app <a href=\"http://localhost:8080\" rel=\"noreferrer\">http://localhost:8080</a>.</p>\n<p>The solution above works out of the box with Spring and Tomcat and your HTTP request to the root <code>/</code>  is mapped automatically to the <code>index.html</code> file. But if you used <code>@EnableWebMvc</code> annotation then you switch off that Spring Boot does for you. In this case, you have two options:</p>\n<p><strong>(1)</strong> remove that annotation</p>\n<p><strong>(2)</strong> or you could add back the view controller that you switched off</p>\n<pre><code>@Configuration\npublic class WebConfiguration implements WebMvcConfigurer {\n\n   @Override\n   public void addViewControllers(ViewControllerRegistry registry) {\n       registry.addViewController(&quot;/&quot;).setViewName(&quot;forward:/index.html&quot;);\n   }\n   \n}\n</code></pre>\n<p>Hope that it will help everyone.</p>\n"},{"tags":[],"owner":{"account_id":5096768,"reputation":1551,"user_id":4087817,"display_name":"ngg"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1588160912,"creation_date":1588160912,"answer_id":61501106,"question_id":27381781,"body_markdown":"You can add a RedirectViewController like:\r\n\r\n    @Configuration\r\n    public class WebConfiguration implements WebMvcConfigurer {\r\n    \r\n        @Override\r\n        public void addViewControllers(ViewControllerRegistry registry) {\r\n            registry.addRedirectViewController(&quot;/&quot;, &quot;/index.html&quot;);\r\n        }\r\n    }","title":"Java Spring Boot: How to map my app root (“/”) to index.html?","body":"<p>You can add a RedirectViewController like:</p>\n\n<pre><code>@Configuration\npublic class WebConfiguration implements WebMvcConfigurer {\n\n    @Override\n    public void addViewControllers(ViewControllerRegistry registry) {\n        registry.addRedirectViewController(\"/\", \"/index.html\");\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":1360035,"reputation":7094,"user_id":1297578,"accept_rate":82,"display_name":"Shoham"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":267702,"favorite_count":0,"down_vote_count":0,"up_vote_count":172,"accepted_answer_id":27383522,"answer_count":10,"score":172,"last_activity_date":1689272443,"creation_date":1418136572,"question_id":27381781,"body_markdown":"How can I map my app root `http://localhost:8080/` to a static `index.html`?\r\nIf I navigate to `http://localhost:8080/index.html` its works fine.\r\n\r\nMy app structure is :\r\n\r\n![dirs][1]\r\n\r\nMy `config\\WebConfig.java` looks like this:\r\n\r\n    @Configuration\r\n    @EnableWebMvc\r\n    @ComponentScan\r\n    public class WebConfig extends WebMvcConfigurerAdapter {\r\n    \r\n        @Override\r\n        public void addResourceHandlers(ResourceHandlerRegistry registry) {\r\n            registry.addResourceHandler(&quot;/**&quot;).addResourceLocations(&quot;/&quot;);\r\n            }\r\n    }\r\n\r\nI tried to add `registry.addResourceHandler(&quot;/&quot;).addResourceLocations(&quot;/index.html&quot;);` but it fails.\r\n\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/bMEaw.png","title":"Java Spring Boot: How to map my app root (“/”) to index.html?","body":"<p>How can I map my app root <code>http://localhost:8080/</code> to a static <code>index.html</code>?\nIf I navigate to <code>http://localhost:8080/index.html</code> its works fine.</p>\n<p>My app structure is :</p>\n<p><img src=\"https://i.stack.imgur.com/bMEaw.png\" alt=\"dirs\" /></p>\n<p>My <code>config\\WebConfig.java</code> looks like this:</p>\n<pre><code>@Configuration\n@EnableWebMvc\n@ComponentScan\npublic class WebConfig extends WebMvcConfigurerAdapter {\n\n    @Override\n    public void addResourceHandlers(ResourceHandlerRegistry registry) {\n        registry.addResourceHandler(&quot;/**&quot;).addResourceLocations(&quot;/&quot;);\n        }\n}\n</code></pre>\n<p>I tried to add <code>registry.addResourceHandler(&quot;/&quot;).addResourceLocations(&quot;/index.html&quot;);</code> but it fails.</p>\n"},{"tags":["java","spring-boot","drools"],"comments":[{"owner":{"account_id":4809624,"reputation":3467,"user_id":3883475,"accept_rate":85,"display_name":"Ironluca"},"score":1,"creation_date":1604654789,"post_id":64709676,"comment_id":114418787,"body_markdown":"In extreme situations a spanner can be used as a hammer; however, a spanner is not designed to be used as a hammer. Drools is not a good fit for your use case. Suggestion is to use util streams or a more direct approach.","body":"In extreme situations a spanner can be used as a hammer; however, a spanner is not designed to be used as a hammer. Drools is not a good fit for your use case. Suggestion is to use util streams or a more direct approach."}],"answers":[{"tags":[],"owner":{"account_id":183966,"reputation":14606,"user_id":419705,"accept_rate":67,"display_name":"Roddy of the Frozen Peas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1604719176,"creation_date":1604669930,"answer_id":64715682,"question_id":64709676,"body_markdown":"As Ironluca points out in the comments, you are using the wrong tool for the job. The correct solution would be to use Java streams; even a simple for-loop would solve your problem.\r\n\r\nOf course, since you _can_ use a hammer on a screw, you can do this with Drools. I will include an example rule and an explanation, though it will be _much_ less efficient than a stream-based solution (or even a for-loop.)\r\n\r\nI will assume this model, with appropriate getters, setters, and an all-args constructor:\r\n\r\n```\r\nclass Account {\r\n  String name;\r\n  int quantity;\r\n}\r\n```\r\n\r\nThen this rule will populate an &#39;output&#39; list with the &quot;grouped&quot; accounts. I&#39;ve declared this &#39;output&#39; list as a global, which isn&#39;t best-practice but none of this is recommended anyway since it&#39;s not the appropriate tool for the job.\r\n\r\n```\r\nglobal List $output;\r\n\r\nrule &quot;Consolidate duplicates&quot;\r\nwhen\r\n  $inputs: List()\r\n  Account( $name: name ) from $inputs\r\n  $duplicates: List() \r\n               from collect( Account( name == $name ) from $inputs )\r\n  $total: Number()\r\n          from accumulate( Account( $value: quantity ) from $duplicates, sum( $value ) )\r\nthen\r\n  $output.add(new Account($name, $total));\r\nend\r\n```\r\n\r\nThe first part of the rule identifies the subset of Account instances in the input list which share the same name. I use [`collect`](drl-rules-WHEN-elements-ref_drl-rules) because this is a simple subset of the original input. The next step is to use `accumulate` to sum up the quantities from those duplicates. Then we add a new instances to the output list on the rule&#39;s RHS with the consolidated quantity and the shared name. Note that the rule works the same for Accounts which have unique names; there is no constraint on length for `$duplicates`, and the accumulation would just be the one identified quantity.\r\n\r\nModifying `$inputs` in-place is also do-able, but tricky, since you have to worry about concurrent modification exceptions. The much cleaner implementation is to use \r\n\r\n---\r\n\r\nOf course this is way more complicated than it has to be. Java 8 streams provide a `groupingBy` collector which allows you to trivially create a map by a property within the object:\r\n\r\n```\r\nMap&lt;String, List&lt;Account&gt;&gt; accountsByName = accounts.stream()\r\n  .collect(groupingBy(Account::getName));\r\n```\r\n\r\nYou could then easily transform this by iterating over the valueset.\r\n\r\n\r\nThis other question goes into detail for other &#39;summation of duplicates in a stream&#39; scenarios: https://stackoverflow.com/questions/44747750/java-8-stream-sum-entries-for-duplicate-keys","title":"How to Group elements inside the list using drools","body":"<p>As Ironluca points out in the comments, you are using the wrong tool for the job. The correct solution would be to use Java streams; even a simple for-loop would solve your problem.</p>\n<p>Of course, since you <em>can</em> use a hammer on a screw, you can do this with Drools. I will include an example rule and an explanation, though it will be <em>much</em> less efficient than a stream-based solution (or even a for-loop.)</p>\n<p>I will assume this model, with appropriate getters, setters, and an all-args constructor:</p>\n<pre><code>class Account {\n  String name;\n  int quantity;\n}\n</code></pre>\n<p>Then this rule will populate an 'output' list with the &quot;grouped&quot; accounts. I've declared this 'output' list as a global, which isn't best-practice but none of this is recommended anyway since it's not the appropriate tool for the job.</p>\n<pre><code>global List $output;\n\nrule &quot;Consolidate duplicates&quot;\nwhen\n  $inputs: List()\n  Account( $name: name ) from $inputs\n  $duplicates: List() \n               from collect( Account( name == $name ) from $inputs )\n  $total: Number()\n          from accumulate( Account( $value: quantity ) from $duplicates, sum( $value ) )\nthen\n  $output.add(new Account($name, $total));\nend\n</code></pre>\n<p>The first part of the rule identifies the subset of Account instances in the input list which share the same name. I use <code>collect</code> because this is a simple subset of the original input. The next step is to use <code>accumulate</code> to sum up the quantities from those duplicates. Then we add a new instances to the output list on the rule's RHS with the consolidated quantity and the shared name. Note that the rule works the same for Accounts which have unique names; there is no constraint on length for <code>$duplicates</code>, and the accumulation would just be the one identified quantity.</p>\n<p>Modifying <code>$inputs</code> in-place is also do-able, but tricky, since you have to worry about concurrent modification exceptions. The much cleaner implementation is to use</p>\n<hr />\n<p>Of course this is way more complicated than it has to be. Java 8 streams provide a <code>groupingBy</code> collector which allows you to trivially create a map by a property within the object:</p>\n<pre><code>Map&lt;String, List&lt;Account&gt;&gt; accountsByName = accounts.stream()\n  .collect(groupingBy(Account::getName));\n</code></pre>\n<p>You could then easily transform this by iterating over the valueset.</p>\n<p>This other question goes into detail for other 'summation of duplicates in a stream' scenarios: <a href=\"https://stackoverflow.com/questions/44747750/java-8-stream-sum-entries-for-duplicate-keys\">Java 8 stream sum entries for duplicate keys</a></p>\n"},{"tags":[],"owner":{"account_id":13441459,"reputation":1433,"user_id":9698517,"display_name":"Christopher Chianelli"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689272344,"creation_date":1689272344,"answer_id":76682236,"question_id":64709676,"body_markdown":"Using `groupby`, introduced in Drools `8.41.0.Final`, this is now possible:\r\n\r\n```\r\nrule &quot;Sum account amount by name&quot;\r\nwhen\r\n    groupby(\r\n        $account: /accounts;\r\n        $name: $account.name;\r\n        $total: sum($account.amount)\r\n    )\r\nthen\r\n    System.out.println(&quot;Account &quot; + $name + &quot; has a total of &quot; + $total);\r\nend\r\n```\r\n\r\n(the example given use the OOPath syntax, but the [traditional syntax is also supported][1])\r\n\r\n\r\n  [1]: https://docs.drools.org/8.39.0.Final/drools-docs/docs-website/drools/language-reference/index.html#new-and-traditional-syntax_drl-rules","title":"How to Group elements inside the list using drools","body":"<p>Using <code>groupby</code>, introduced in Drools <code>8.41.0.Final</code>, this is now possible:</p>\n<pre><code>rule &quot;Sum account amount by name&quot;\nwhen\n    groupby(\n        $account: /accounts;\n        $name: $account.name;\n        $total: sum($account.amount)\n    )\nthen\n    System.out.println(&quot;Account &quot; + $name + &quot; has a total of &quot; + $total);\nend\n</code></pre>\n<p>(the example given use the OOPath syntax, but the <a href=\"https://docs.drools.org/8.39.0.Final/drools-docs/docs-website/drools/language-reference/index.html#new-and-traditional-syntax_drl-rules\" rel=\"nofollow noreferrer\">traditional syntax is also supported</a>)</p>\n"}],"owner":{"account_id":19910137,"reputation":1,"user_id":14588301,"display_name":"john"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":742,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1689272344,"creation_date":1604643044,"question_id":64709676,"body_markdown":"I am new to Drools and i am struggling to find the solution for below problem:\r\n\r\nI have a list of Account class:\r\n\r\n    class Account {\r\n        private String name;\r\n        private float amount;\r\n    }\r\n\r\nI want to group the list of Account using name in drools. \r\nFor example:\r\n\r\n    Account a = new Account(&quot;Science&quot;, 100);\r\n    Account b = new Account(&quot;Science&quot;, 200);\r\n    List&lt;Account&gt; list = new ArrayList&lt;String&gt;();\r\n    list.add(a);\r\n    list.add(b);\r\n\r\nNow I need a drool rule that should group the elements inside the list using name and provide the list that will have &quot;Science, 300&quot;.\r\n\r\nPlease suggest.","title":"How to Group elements inside the list using drools","body":"<p>I am new to Drools and i am struggling to find the solution for below problem:</p>\n<p>I have a list of Account class:</p>\n<pre><code>class Account {\n    private String name;\n    private float amount;\n}\n</code></pre>\n<p>I want to group the list of Account using name in drools.\nFor example:</p>\n<pre><code>Account a = new Account(&quot;Science&quot;, 100);\nAccount b = new Account(&quot;Science&quot;, 200);\nList&lt;Account&gt; list = new ArrayList&lt;String&gt;();\nlist.add(a);\nlist.add(b);\n</code></pre>\n<p>Now I need a drool rule that should group the elements inside the list using name and provide the list that will have &quot;Science, 300&quot;.</p>\n<p>Please suggest.</p>\n"},{"tags":["java","javafx"],"comments":[{"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"score":2,"creation_date":1689256994,"post_id":76679849,"comment_id":135190264,"body_markdown":"I would suggest moving away from `Fontawesomefx` and moving to [`Ikonli`](https://kordamp.org/ikonli/)","body":"I would suggest moving away from <code>Fontawesomefx</code> and moving to <a href=\"https://kordamp.org/ikonli/\" rel=\"nofollow noreferrer\"><code>Ikonli</code></a>"},{"owner":{"account_id":12824901,"reputation":1708,"user_id":9278333,"display_name":"trilogy"},"score":1,"creation_date":1689262671,"post_id":76679849,"comment_id":135191795,"body_markdown":"@SedJ601 Is there a reason why?","body":"@SedJ601 Is there a reason why?"},{"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"score":0,"creation_date":1689343476,"post_id":76679849,"comment_id":135204252,"body_markdown":"1. More icons. 2. Ease of use. 3. Better Documentation. 4. More recently maintained.","body":"1. More icons. 2. Ease of use. 3. Better Documentation. 4. More recently maintained."}],"answers":[{"tags":[],"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1689271967,"creation_date":1689257222,"answer_id":76680307,"question_id":76679849,"body_markdown":"Here is one way to do what you want.\r\n\r\nDon&#39;t use the default `Label`. Use an `HBox` with your icon, a spaceholder pane, and a new `Label`.\r\n\r\n\r\n----------\r\n\r\n\r\n## Main ##\r\n```\r\nimport javafx.application.Application;\r\nimport javafx.geometry.Pos;\r\nimport javafx.scene.Scene;\r\nimport javafx.scene.control.Label;\r\nimport javafx.scene.control.RadioButton;\r\nimport javafx.scene.control.ToggleGroup;\r\nimport javafx.scene.layout.HBox;\r\nimport javafx.scene.layout.Pane;\r\nimport javafx.scene.layout.Priority;\r\nimport javafx.scene.layout.VBox;\r\nimport javafx.stage.Stage;\r\nimport org.kordamp.ikonli.javafx.FontIcon;\r\n\r\n\r\npublic class App extends Application\r\n{\r\n\r\n    public static void main(String[] args)\r\n    {\r\n        launch(args);\r\n    }\r\n\r\n    @Override\r\n    public void start(Stage primaryStage)\r\n    {\r\n        primaryStage.setTitle(&quot;Hello World!&quot;);\r\n        \r\n        RadioButton companyButton = new RadioButton();        \r\n        FontIcon icon = new FontIcon(&quot;bi-alarm&quot;);\r\n        Pane placeHolder = new Pane();\r\n        Label label = new Label(&quot;Company&quot;);\r\n        placeHolder.setMaxWidth(Double.MAX_VALUE);\r\n        HBox.setHgrow(placeHolder, Priority.ALWAYS);\r\n        HBox hbox = new HBox(icon, placeHolder, label);\r\n        hbox.setAlignment(Pos.CENTER);\r\n        companyButton.setGraphic(hbox);\r\n        \r\n        stylizeAndSetButtons( companyButton);\r\n\r\n        VBox root = new VBox();\r\n        root.getChildren().addAll( companyButton);\r\n        primaryStage.setScene(new Scene(root, 300, 250));\r\n        primaryStage.show();\r\n    }\r\n\r\n    private static void stylizeAndSetButtons(RadioButton... buttons)\r\n    {\r\n        ToggleGroup group = new ToggleGroup();\r\n\r\n        for (RadioButton button : buttons)\r\n        {\r\n            button.setPrefWidth(150);\r\n            button.setMinHeight(50);\r\n            button.getStyleClass().remove(&quot;radio-button&quot;);\r\n            button.getStyleClass().add(&quot;toggle-button&quot;);\r\n            button.getStyleClass().add(&quot;default&quot;);\r\n            \r\n\r\n            button.setToggleGroup(group);\r\n\r\n        }\r\n    }\r\n\r\n}\r\n```\r\n\r\n----------\r\n\r\n\r\n## Module-Info ##\r\n```\r\nmodule sed.home.testonesimplefx {\r\n    requires javafx.controls;\r\n    requires org.kordamp.ikonli.core;\r\n    requires org.kordamp.ikonli.javafx;\r\n    requires org.kordamp.ikonli.bootstrapicons;    \r\n    exports sed.home.testonesimplefx;\r\n}\r\n```\r\n\r\n----------\r\n\r\n\r\n## Dependencies ##\r\n```\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.kordamp.ikonli&lt;/groupId&gt;\r\n            &lt;artifactId&gt;ikonli-javafx&lt;/artifactId&gt;\r\n            &lt;version&gt;12.3.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.kordamp.ikonli&lt;/groupId&gt;\r\n            &lt;artifactId&gt;ikonli-bootstrapicons-pack&lt;/artifactId&gt;\r\n            &lt;version&gt;12.3.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n```\r\n\r\n\r\n----------\r\n## Output ##\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nNote: This uses `Ikonli` but the ideas should be the same.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/oA9UF.png","title":"How to align graphic and text to opposite sides on a RadioButton","body":"<p>Here is one way to do what you want.</p>\n<p>Don't use the default <code>Label</code>. Use an <code>HBox</code> with your icon, a spaceholder pane, and a new <code>Label</code>.</p>\n<hr />\n<h2>Main</h2>\n<pre><code>import javafx.application.Application;\nimport javafx.geometry.Pos;\nimport javafx.scene.Scene;\nimport javafx.scene.control.Label;\nimport javafx.scene.control.RadioButton;\nimport javafx.scene.control.ToggleGroup;\nimport javafx.scene.layout.HBox;\nimport javafx.scene.layout.Pane;\nimport javafx.scene.layout.Priority;\nimport javafx.scene.layout.VBox;\nimport javafx.stage.Stage;\nimport org.kordamp.ikonli.javafx.FontIcon;\n\n\npublic class App extends Application\n{\n\n    public static void main(String[] args)\n    {\n        launch(args);\n    }\n\n    @Override\n    public void start(Stage primaryStage)\n    {\n        primaryStage.setTitle(&quot;Hello World!&quot;);\n        \n        RadioButton companyButton = new RadioButton();        \n        FontIcon icon = new FontIcon(&quot;bi-alarm&quot;);\n        Pane placeHolder = new Pane();\n        Label label = new Label(&quot;Company&quot;);\n        placeHolder.setMaxWidth(Double.MAX_VALUE);\n        HBox.setHgrow(placeHolder, Priority.ALWAYS);\n        HBox hbox = new HBox(icon, placeHolder, label);\n        hbox.setAlignment(Pos.CENTER);\n        companyButton.setGraphic(hbox);\n        \n        stylizeAndSetButtons( companyButton);\n\n        VBox root = new VBox();\n        root.getChildren().addAll( companyButton);\n        primaryStage.setScene(new Scene(root, 300, 250));\n        primaryStage.show();\n    }\n\n    private static void stylizeAndSetButtons(RadioButton... buttons)\n    {\n        ToggleGroup group = new ToggleGroup();\n\n        for (RadioButton button : buttons)\n        {\n            button.setPrefWidth(150);\n            button.setMinHeight(50);\n            button.getStyleClass().remove(&quot;radio-button&quot;);\n            button.getStyleClass().add(&quot;toggle-button&quot;);\n            button.getStyleClass().add(&quot;default&quot;);\n            \n\n            button.setToggleGroup(group);\n\n        }\n    }\n\n}\n</code></pre>\n<hr />\n<h2>Module-Info</h2>\n<pre><code>module sed.home.testonesimplefx {\n    requires javafx.controls;\n    requires org.kordamp.ikonli.core;\n    requires org.kordamp.ikonli.javafx;\n    requires org.kordamp.ikonli.bootstrapicons;    \n    exports sed.home.testonesimplefx;\n}\n</code></pre>\n<hr />\n<h2>Dependencies</h2>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;org.kordamp.ikonli&lt;/groupId&gt;\n            &lt;artifactId&gt;ikonli-javafx&lt;/artifactId&gt;\n            &lt;version&gt;12.3.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.kordamp.ikonli&lt;/groupId&gt;\n            &lt;artifactId&gt;ikonli-bootstrapicons-pack&lt;/artifactId&gt;\n            &lt;version&gt;12.3.1&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<hr />\n<h2>Output</h2>\n<p><a href=\"https://i.stack.imgur.com/oA9UF.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/oA9UF.png\" alt=\"enter image description here\" /></a></p>\n<p>Note: This uses <code>Ikonli</code> but the ideas should be the same.</p>\n"}],"owner":{"account_id":12824901,"reputation":1708,"user_id":9278333,"display_name":"trilogy"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76680307,"answer_count":1,"score":1,"last_activity_date":1689271967,"creation_date":1689254530,"question_id":76679849,"body_markdown":"How do I left align the icon graphic and right align the text of these buttons (Java8)?\r\n\r\n    &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;de.jensd&lt;/groupId&gt;\r\n                &lt;artifactId&gt;fontawesomefx-materialdesignfont&lt;/artifactId&gt;\r\n                &lt;version&gt;1.7.22-4&lt;/version&gt;\r\n                &lt;type&gt;jar&lt;/type&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;de.jensd&lt;/groupId&gt;\r\n                &lt;artifactId&gt;fontawesomefx-commons&lt;/artifactId&gt;\r\n                &lt;version&gt;8.15&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n\r\n[![enter image description here][1]][1]    \r\n\r\nShould be more like this:\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n    import de.jensd.fx.glyphs.materialdesignicons.MaterialDesignIcon;\r\n    import de.jensd.fx.glyphs.materialdesignicons.MaterialDesignIconView;\r\n    import javafx.application.Application;\r\n    import javafx.scene.Scene;\r\n    import javafx.scene.control.RadioButton;\r\n    import javafx.scene.control.ToggleGroup;\r\n    import javafx.scene.layout.VBox;\r\n    import javafx.stage.Stage;\r\n    \r\n    \r\n    public class Main extends Application\r\n    {\r\n    \r\n        public static void main(String[] args)\r\n        {\r\n            launch(args);\r\n        }\r\n    \r\n        @Override\r\n        public void start(Stage primaryStage)\r\n        {\r\n            primaryStage.setTitle(&quot;Hello World!&quot;);\r\n            RadioButton memberButton = new RadioButton(&quot;Members&quot;);\r\n            memberButton.setGraphic(new MaterialDesignIconView(MaterialDesignIcon.WORKER));\r\n            RadioButton companyButton = new RadioButton(&quot;Companies&quot;);\r\n            companyButton.setGraphic(new MaterialDesignIconView(MaterialDesignIcon.CITY));\r\n            RadioButton settingsButton = new RadioButton(&quot;Settings&quot;);\r\n            settingsButton.setGraphic(new MaterialDesignIconView(MaterialDesignIcon.WRENCH));\r\n    \r\n            stylizeAndSetButtons(memberButton, companyButton, settingsButton);\r\n    \r\n            VBox root = new VBox();\r\n            root.getChildren().addAll(memberButton, companyButton, settingsButton);\r\n            primaryStage.setScene(new Scene(root, 300, 250));\r\n            primaryStage.show();\r\n        }\r\n    \r\n        private static void stylizeAndSetButtons(RadioButton... buttons)\r\n        {\r\n            ToggleGroup group = new ToggleGroup();\r\n    \r\n            for (RadioButton button : buttons)\r\n            {\r\n                button.setPrefWidth(150);\r\n                button.setMinHeight(50);\r\n                button.getStyleClass().remove(&quot;radio-button&quot;);\r\n                button.getStyleClass().add(&quot;toggle-button&quot;);\r\n                button.getStyleClass().add(&quot;default&quot;);\r\n                \r\n    \r\n                button.setToggleGroup(group);\r\n    \r\n            }\r\n        }\r\n    \r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/vUMeE.png\r\n  [2]: https://i.stack.imgur.com/SUrDz.png","title":"How to align graphic and text to opposite sides on a RadioButton","body":"<p>How do I left align the icon graphic and right align the text of these buttons (Java8)?</p>\n<pre><code>&lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;de.jensd&lt;/groupId&gt;\n            &lt;artifactId&gt;fontawesomefx-materialdesignfont&lt;/artifactId&gt;\n            &lt;version&gt;1.7.22-4&lt;/version&gt;\n            &lt;type&gt;jar&lt;/type&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;de.jensd&lt;/groupId&gt;\n            &lt;artifactId&gt;fontawesomefx-commons&lt;/artifactId&gt;\n            &lt;version&gt;8.15&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/vUMeE.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vUMeE.png\" alt=\"enter image description here\" /></a></p>\n<p>Should be more like this:</p>\n<p><a href=\"https://i.stack.imgur.com/SUrDz.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/SUrDz.png\" alt=\"enter image description here\" /></a></p>\n<pre><code>import de.jensd.fx.glyphs.materialdesignicons.MaterialDesignIcon;\nimport de.jensd.fx.glyphs.materialdesignicons.MaterialDesignIconView;\nimport javafx.application.Application;\nimport javafx.scene.Scene;\nimport javafx.scene.control.RadioButton;\nimport javafx.scene.control.ToggleGroup;\nimport javafx.scene.layout.VBox;\nimport javafx.stage.Stage;\n\n\npublic class Main extends Application\n{\n\n    public static void main(String[] args)\n    {\n        launch(args);\n    }\n\n    @Override\n    public void start(Stage primaryStage)\n    {\n        primaryStage.setTitle(&quot;Hello World!&quot;);\n        RadioButton memberButton = new RadioButton(&quot;Members&quot;);\n        memberButton.setGraphic(new MaterialDesignIconView(MaterialDesignIcon.WORKER));\n        RadioButton companyButton = new RadioButton(&quot;Companies&quot;);\n        companyButton.setGraphic(new MaterialDesignIconView(MaterialDesignIcon.CITY));\n        RadioButton settingsButton = new RadioButton(&quot;Settings&quot;);\n        settingsButton.setGraphic(new MaterialDesignIconView(MaterialDesignIcon.WRENCH));\n\n        stylizeAndSetButtons(memberButton, companyButton, settingsButton);\n\n        VBox root = new VBox();\n        root.getChildren().addAll(memberButton, companyButton, settingsButton);\n        primaryStage.setScene(new Scene(root, 300, 250));\n        primaryStage.show();\n    }\n\n    private static void stylizeAndSetButtons(RadioButton... buttons)\n    {\n        ToggleGroup group = new ToggleGroup();\n\n        for (RadioButton button : buttons)\n        {\n            button.setPrefWidth(150);\n            button.setMinHeight(50);\n            button.getStyleClass().remove(&quot;radio-button&quot;);\n            button.getStyleClass().add(&quot;toggle-button&quot;);\n            button.getStyleClass().add(&quot;default&quot;);\n            \n\n            button.setToggleGroup(group);\n\n        }\n    }\n\n}\n</code></pre>\n"},{"tags":["java","spring","junit"],"comments":[{"owner":{"account_id":13712379,"reputation":301,"user_id":9894387,"display_name":"Alexander Golovnya"},"score":0,"creation_date":1689271374,"post_id":76682077,"comment_id":135193583,"body_markdown":"Please post your pom.xml and the main application.properties file.","body":"Please post your pom.xml and the main application.properties file."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1689272926,"post_id":76682077,"comment_id":135193903,"body_markdown":"Please don&#39;t add additional information in the comments as that is totally unreadable, instead edit your question.","body":"Please don&#39;t add additional information in the comments as that is totally unreadable, instead edit your question."}],"answers":[{"tags":[],"owner":{"account_id":13712379,"reputation":301,"user_id":9894387,"display_name":"Alexander Golovnya"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1689271547,"creation_date":1689271547,"answer_id":76682145,"question_id":76682077,"body_markdown":"This issue seems to be related to a misconfiguration with Hibernate and your H2 database. When you use the spring.jpa.hibernate.ddl-auto=create-drop property, Hibernate will create the necessary tables based on the @Entity classes. However, it seems that the creation of your user sequence (_USER_SEQ) is failing.\r\n\r\nThe main issue is your table and column naming. In SQL, identifiers that start with an underscore _ are considered as system identifiers and should be avoided. When Hibernate tries to create a table with a system identifier, it might fail or cause unexpected behaviors.\r\n\r\nTry changing the table name from _user to something without an underscore like user or app_user:\r\n```java\r\n@Table(name = &quot;app_user&quot;)\r\n```\r\n\r\nThis change should also affect the sequence name that Hibernate will use for the @GeneratedValue of your id field.\r\n\r\nAlso, you&#39;re using `org.hibernate.dialect.MySQLDialect` which is for MySQL, but your database is H2. You should use the appropriate dialect for your H2 database:\r\n```javascript\r\nspring.jpa.properties.hibernate.dialect=org.hibernate.dialect.H2Dialect\r\n```\r\n","title":"org.springframework.dao.InvalidDataAccessResourceUsageException: error performing isolated work; SQL","body":"<p>This issue seems to be related to a misconfiguration with Hibernate and your H2 database. When you use the spring.jpa.hibernate.ddl-auto=create-drop property, Hibernate will create the necessary tables based on the @Entity classes. However, it seems that the creation of your user sequence (_USER_SEQ) is failing.</p>\n<p>The main issue is your table and column naming. In SQL, identifiers that start with an underscore _ are considered as system identifiers and should be avoided. When Hibernate tries to create a table with a system identifier, it might fail or cause unexpected behaviors.</p>\n<p>Try changing the table name from _user to something without an underscore like user or app_user:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Table(name = &quot;app_user&quot;)\n</code></pre>\n<p>This change should also affect the sequence name that Hibernate will use for the @GeneratedValue of your id field.</p>\n<p>Also, you're using <code>org.hibernate.dialect.MySQLDialect</code> which is for MySQL, but your database is H2. You should use the appropriate dialect for your H2 database:</p>\n<pre class=\"lang-js prettyprint-override\"><code>spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.H2Dialect\n</code></pre>\n"}],"owner":{"account_id":23197145,"reputation":89,"user_id":17292614,"display_name":"Davido"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":612,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76682145,"answer_count":1,"score":1,"last_activity_date":1689271547,"creation_date":1689270802,"question_id":76682077,"body_markdown":"I want to test my UserRepository, but I keep getting this error ```org.springframework.dao.InvalidDataAccessResourceUsageException: error performing isolated work; SQL [n/a]```` I don&#39;t know where I went wrong. I want to use H2 as the database for my tests, hence why h2 dependency scope is test. I was thinking perhaps the reason is this\r\n```\r\nCaused by: org.h2.jdbc.JdbcSQLSyntaxErrorException: Table &quot;_USER_SEQ&quot; not found (this database is empty); SQL statement:\r\nselect next_val as id_val from _user_seq for update [42104-214]\r\n```\r\nBut I don&#39;t know, please help.\r\n\r\n\r\nUserRepositoryTest:\r\n```\r\npackage com.david.caterest.repository;\r\n\r\nimport com.david.caterest.entity.User;\r\nimport org.junit.jupiter.api.Disabled;\r\nimport org.junit.jupiter.api.Test;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTest;\r\n\r\nimport java.util.Optional;\r\n\r\nimport static org.assertj.core.api.Assertions.assertThat;\r\n\r\n@DataJpaTest\r\nclass UserRepositoryTest {\r\n\r\n    @Autowired\r\n    private UserRepository userRepository;\r\n\r\n    @Test\r\n    void shouldFindStudentWhenGivenExistentEmail() {\r\n        // given\r\n        String email = &quot;test@gmail.com&quot;;\r\n        User user = new User();\r\n        user.setEmail(email);\r\n//        when(userRepository.findByEmail(email)).thenReturn(Optional.of(user));\r\n        userRepository.save(user);\r\n        // when\r\n        Optional&lt;User&gt; result = userRepository.findByEmail(email);\r\n\r\n        // then\r\n        assertThat(result).isPresent();\r\n        assertThat(result.get()).isEqualTo(user);\r\n    }\r\n\r\n    @Disabled\r\n    @Test\r\n    void shouldNotFindStudentWhenGivenNonexistentEmail() {\r\n        \r\n    }\r\n    \r\n}\r\n```\r\nUserRepository:\r\n```\r\npublic interface UserRepository extends JpaRepository&lt;User, Long&gt; {\r\n    Optional&lt;User&gt; findByDisplayNameAndPassword(String username, String password);\r\n    Optional&lt;User&gt; findByDisplayName(String username);\r\n    Optional&lt;User&gt; findByEmail(String email);\r\n    Boolean existsByEmail(String email);\r\n\r\n}\r\n```\r\n\r\nUser:\r\n```\r\npackage com.david.caterest.entity;\r\n\r\nimport jakarta.persistence.*;\r\nimport lombok.Getter;\r\nimport lombok.RequiredArgsConstructor;\r\nimport lombok.Setter;\r\nimport org.springframework.security.core.GrantedAuthority;\r\nimport org.springframework.security.core.authority.SimpleGrantedAuthority;\r\nimport org.springframework.security.core.userdetails.UserDetails;\r\n\r\nimport java.time.LocalDate;\r\nimport java.util.ArrayList;\r\nimport java.util.Collection;\r\nimport java.util.List;\r\n\r\n@Setter\r\n@Getter\r\n@RequiredArgsConstructor\r\n@Entity\r\n@Table(name = &quot;_user&quot;)\r\npublic class User implements UserDetails {\r\n\r\n    @Id @GeneratedValue(strategy = GenerationType.AUTO)\r\n    private Long id;\r\n\r\n    @Lob\r\n    @Column(length = 31_457_280) // 30MB\r\n    private Byte[] profilePicture;\r\n\r\n//    @NotBlank\r\n    private String displayName;\r\n\r\n//    @NotBlank\r\n    private String firstName;\r\n\r\n//    @NotBlank\r\n    private String lastName;\r\n\r\n//    @NotBlank\r\n    @Column(unique = true)\r\n    private String email;\r\n\r\n//    @NotBlank\r\n    private String password;\r\n\r\n    private String biography;\r\n    private LocalDate dateOfBirth;\r\n    private String telephoneNumber;\r\n    private String city;\r\n    private String country;\r\n    @OneToMany(cascade = CascadeType.ALL, mappedBy = &quot;user&quot;)\r\n    private List&lt;Picture&gt; pictures = new ArrayList&lt;&gt;();\r\n\r\n    @Enumerated(EnumType.STRING)\r\n    private Role role;\r\n\r\n    @Override\r\n    public Collection&lt;? extends GrantedAuthority&gt; getAuthorities() {\r\n        return List.of(new SimpleGrantedAuthority(role.name()));\r\n    }\r\n\r\n    public String getUsername() {\r\n        return email;\r\n    }\r\n\r\n    @Override\r\n    public boolean isAccountNonExpired() {\r\n        return true;\r\n    }\r\n\r\n    @Override\r\n    public boolean isAccountNonLocked() {\r\n        return true;\r\n    }\r\n\r\n    @Override\r\n    public boolean isCredentialsNonExpired() {\r\n        return true;\r\n    }\r\n\r\n    @Override\r\n    public boolean isEnabled() {\r\n        return true;\r\n    }\r\n}\r\n```\r\n\r\napplication.properties (test):\r\n```\r\nspring.datasource.url=jdbc:h2://mem:db;DB_CLOSE_DELAY=-1\r\n#spring.datasource.url=jdbc:h2:mem:test_db\r\nspring.datasource.username=sa\r\nspring.datasource.password=sa\r\nspring.datasource.driver-class-name=org.h2.Driver\r\nspring.jpa.hibernate.ddl-auto=create-drop\r\nspring.jpa.show-sql=true\r\nspring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQLDialect\r\nspring.jpa.properties.hibernate.format_sql=true\r\n\r\nspring.servlet.multipart.max-file-size=10MB\r\nserver.error.include-message=always\r\n```\r\nStacktrace:\r\n```\r\norg.springframework.dao.InvalidDataAccessResourceUsageException: error performing isolated work; SQL [n/a]\r\n\r\n\tat org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:256)\r\n\tat org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:232)\r\n\tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:550)\r\n\tat org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)\r\n\tat org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:242)\r\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:152)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\r\n\tat org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:163)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\r\n\tat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\r\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:218)\r\n\tat jdk.proxy2/jdk.proxy2.$Proxy117.save(Unknown Source)\r\n\tat com.david.caterest.repository.UserRepositoryTest.shouldFindStudentWhenGivenExistentEmail(UserRepositoryTest.java:26)\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\r\n...\r\n...\r\nCaused by: org.hibernate.exception.SQLGrammarException: error performing isolated work\r\n\tat org.hibernate.exception.internal.SQLExceptionTypeDelegate.convert(SQLExceptionTypeDelegate.java:64)\r\n\tat org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:56)\r\n\tat org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:109)\r\n\tat org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:95)\r\n\tat org.hibernate.resource.transaction.backend.jdbc.internal.JdbcIsolationDelegate.delegateWork(JdbcIsolationDelegate.java:79)\r\n\tat org.hibernate.id.enhanced.TableStructure$1.getNextValue(TableStructure.java:135)\r\n\tat org.hibernate.id.enhanced.PooledOptimizer.generate(PooledOptimizer.java:73)\r\n\tat org.hibernate.id.enhanced.SequenceStyleGenerator.generate(SequenceStyleGenerator.java:536)\r\n\tat org.hibernate.event.internal.AbstractSaveEventListener.saveWithGeneratedId(AbstractSaveEventListener.java:114)\r\n\tat org.hibernate.event.internal.DefaultPersistEventListener.entityIsTransient(DefaultPersistEventListener.java:184)\r\n\tat org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:129)\r\n\tat org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:53)\r\n\tat org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:107)\r\n\tat org.hibernate.internal.SessionImpl.firePersist(SessionImpl.java:737)\r\n\tat org.hibernate.internal.SessionImpl.persist(SessionImpl.java:721)\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:577)\r\n\tat org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:311)\r\n\tat jdk.proxy2/jdk.proxy2.$Proxy108.persist(Unknown Source)\r\n\tat org.springframework.data.jpa.repository.support.SimpleJpaRepository.save(SimpleJpaRepository.java:613)\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:577)\r\n\tat org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:288)\r\n\tat org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:136)\r\n\tat org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:120)\r\n\tat org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:516)\r\n\tat org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:285)\r\n\tat org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:628)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\r\n\tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:168)\r\n\tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:143)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\r\n\tat org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:77)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\r\n\tat org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)\r\n\tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:391)\r\n\tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\r\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)\r\n\t... 76 more\r\nCaused by: org.h2.jdbc.JdbcSQLSyntaxErrorException: Table &quot;_USER_SEQ&quot; not found (this database is empty); SQL statement:\r\nselect next_val as id_val from _user_seq for update [42104-214]\r\n```","title":"org.springframework.dao.InvalidDataAccessResourceUsageException: error performing isolated work; SQL","body":"<p>I want to test my UserRepository, but I keep getting this error ```org.springframework.dao.InvalidDataAccessResourceUsageException: error performing isolated work; SQL [n/a]```` I don't know where I went wrong. I want to use H2 as the database for my tests, hence why h2 dependency scope is test. I was thinking perhaps the reason is this</p>\n<pre><code>Caused by: org.h2.jdbc.JdbcSQLSyntaxErrorException: Table &quot;_USER_SEQ&quot; not found (this database is empty); SQL statement:\nselect next_val as id_val from _user_seq for update [42104-214]\n</code></pre>\n<p>But I don't know, please help.</p>\n<p>UserRepositoryTest:</p>\n<pre><code>package com.david.caterest.repository;\n\nimport com.david.caterest.entity.User;\nimport org.junit.jupiter.api.Disabled;\nimport org.junit.jupiter.api.Test;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTest;\n\nimport java.util.Optional;\n\nimport static org.assertj.core.api.Assertions.assertThat;\n\n@DataJpaTest\nclass UserRepositoryTest {\n\n    @Autowired\n    private UserRepository userRepository;\n\n    @Test\n    void shouldFindStudentWhenGivenExistentEmail() {\n        // given\n        String email = &quot;test@gmail.com&quot;;\n        User user = new User();\n        user.setEmail(email);\n//        when(userRepository.findByEmail(email)).thenReturn(Optional.of(user));\n        userRepository.save(user);\n        // when\n        Optional&lt;User&gt; result = userRepository.findByEmail(email);\n\n        // then\n        assertThat(result).isPresent();\n        assertThat(result.get()).isEqualTo(user);\n    }\n\n    @Disabled\n    @Test\n    void shouldNotFindStudentWhenGivenNonexistentEmail() {\n        \n    }\n    \n}\n</code></pre>\n<p>UserRepository:</p>\n<pre><code>public interface UserRepository extends JpaRepository&lt;User, Long&gt; {\n    Optional&lt;User&gt; findByDisplayNameAndPassword(String username, String password);\n    Optional&lt;User&gt; findByDisplayName(String username);\n    Optional&lt;User&gt; findByEmail(String email);\n    Boolean existsByEmail(String email);\n\n}\n</code></pre>\n<p>User:</p>\n<pre><code>package com.david.caterest.entity;\n\nimport jakarta.persistence.*;\nimport lombok.Getter;\nimport lombok.RequiredArgsConstructor;\nimport lombok.Setter;\nimport org.springframework.security.core.GrantedAuthority;\nimport org.springframework.security.core.authority.SimpleGrantedAuthority;\nimport org.springframework.security.core.userdetails.UserDetails;\n\nimport java.time.LocalDate;\nimport java.util.ArrayList;\nimport java.util.Collection;\nimport java.util.List;\n\n@Setter\n@Getter\n@RequiredArgsConstructor\n@Entity\n@Table(name = &quot;_user&quot;)\npublic class User implements UserDetails {\n\n    @Id @GeneratedValue(strategy = GenerationType.AUTO)\n    private Long id;\n\n    @Lob\n    @Column(length = 31_457_280) // 30MB\n    private Byte[] profilePicture;\n\n//    @NotBlank\n    private String displayName;\n\n//    @NotBlank\n    private String firstName;\n\n//    @NotBlank\n    private String lastName;\n\n//    @NotBlank\n    @Column(unique = true)\n    private String email;\n\n//    @NotBlank\n    private String password;\n\n    private String biography;\n    private LocalDate dateOfBirth;\n    private String telephoneNumber;\n    private String city;\n    private String country;\n    @OneToMany(cascade = CascadeType.ALL, mappedBy = &quot;user&quot;)\n    private List&lt;Picture&gt; pictures = new ArrayList&lt;&gt;();\n\n    @Enumerated(EnumType.STRING)\n    private Role role;\n\n    @Override\n    public Collection&lt;? extends GrantedAuthority&gt; getAuthorities() {\n        return List.of(new SimpleGrantedAuthority(role.name()));\n    }\n\n    public String getUsername() {\n        return email;\n    }\n\n    @Override\n    public boolean isAccountNonExpired() {\n        return true;\n    }\n\n    @Override\n    public boolean isAccountNonLocked() {\n        return true;\n    }\n\n    @Override\n    public boolean isCredentialsNonExpired() {\n        return true;\n    }\n\n    @Override\n    public boolean isEnabled() {\n        return true;\n    }\n}\n</code></pre>\n<p>application.properties (test):</p>\n<pre><code>spring.datasource.url=jdbc:h2://mem:db;DB_CLOSE_DELAY=-1\n#spring.datasource.url=jdbc:h2:mem:test_db\nspring.datasource.username=sa\nspring.datasource.password=sa\nspring.datasource.driver-class-name=org.h2.Driver\nspring.jpa.hibernate.ddl-auto=create-drop\nspring.jpa.show-sql=true\nspring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQLDialect\nspring.jpa.properties.hibernate.format_sql=true\n\nspring.servlet.multipart.max-file-size=10MB\nserver.error.include-message=always\n</code></pre>\n<p>Stacktrace:</p>\n<pre><code>org.springframework.dao.InvalidDataAccessResourceUsageException: error performing isolated work; SQL [n/a]\n\n    at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:256)\n    at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:232)\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:550)\n    at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)\n    at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:242)\n    at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:152)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n    at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:163)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n    at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:218)\n    at jdk.proxy2/jdk.proxy2.$Proxy117.save(Unknown Source)\n    at com.david.caterest.repository.UserRepositoryTest.shouldFindStudentWhenGivenExistentEmail(UserRepositoryTest.java:26)\n    at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\n...\n...\nCaused by: org.hibernate.exception.SQLGrammarException: error performing isolated work\n    at org.hibernate.exception.internal.SQLExceptionTypeDelegate.convert(SQLExceptionTypeDelegate.java:64)\n    at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:56)\n    at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:109)\n    at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:95)\n    at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcIsolationDelegate.delegateWork(JdbcIsolationDelegate.java:79)\n    at org.hibernate.id.enhanced.TableStructure$1.getNextValue(TableStructure.java:135)\n    at org.hibernate.id.enhanced.PooledOptimizer.generate(PooledOptimizer.java:73)\n    at org.hibernate.id.enhanced.SequenceStyleGenerator.generate(SequenceStyleGenerator.java:536)\n    at org.hibernate.event.internal.AbstractSaveEventListener.saveWithGeneratedId(AbstractSaveEventListener.java:114)\n    at org.hibernate.event.internal.DefaultPersistEventListener.entityIsTransient(DefaultPersistEventListener.java:184)\n    at org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:129)\n    at org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:53)\n    at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:107)\n    at org.hibernate.internal.SessionImpl.firePersist(SessionImpl.java:737)\n    at org.hibernate.internal.SessionImpl.persist(SessionImpl.java:721)\n    at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:577)\n    at org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:311)\n    at jdk.proxy2/jdk.proxy2.$Proxy108.persist(Unknown Source)\n    at org.springframework.data.jpa.repository.support.SimpleJpaRepository.save(SimpleJpaRepository.java:613)\n    at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:577)\n    at org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:288)\n    at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:136)\n    at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:120)\n    at org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:516)\n    at org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:285)\n    at org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:628)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n    at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:168)\n    at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:143)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n    at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:77)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n    at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)\n    at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:391)\n    at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n    at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)\n    ... 76 more\nCaused by: org.h2.jdbc.JdbcSQLSyntaxErrorException: Table &quot;_USER_SEQ&quot; not found (this database is empty); SQL statement:\nselect next_val as id_val from _user_seq for update [42104-214]\n</code></pre>\n"},{"tags":["java","file-io","java-io","r.java-file"],"comments":[{"owner":{"account_id":2067336,"reputation":2848,"user_id":1842599,"display_name":"Andrej Istomin"},"score":2,"creation_date":1688155647,"post_id":76591915,"comment_id":135041220,"body_markdown":"I&#39;d suggest to log `folder.getAbsolutePath()` instead of `folder.getName()` to make sure that your program looks into correct directory.","body":"I&#39;d suggest to log <code>folder.getAbsolutePath()</code> instead of <code>folder.getName()</code> to make sure that your program looks into correct directory."},{"owner":{"account_id":5998820,"reputation":12656,"user_id":4712734,"display_name":"DuncG"},"score":0,"creation_date":1688157672,"post_id":76591915,"comment_id":135041548,"body_markdown":"What is the result code of `setReadable`  and `exists()`? Most likely the path you expect does not exist and these calls have failed.","body":"What is the result code of <code>setReadable</code>  and <code>exists()</code>? Most likely the path you expect does not exist and these calls have failed."},{"owner":{"account_id":401843,"reputation":89768,"user_id":768644,"display_name":"rzwitserloot"},"score":2,"creation_date":1688158614,"post_id":76591915,"comment_id":135041668,"body_markdown":"As the `src` name suggests, __it is source code__, that is not available at runtime. This isn&#39;t how you read resources. Use `MyClass.class.getResource` - there are many, many tutorials about it.","body":"As the <code>src</code> name suggests, <b>it is source code</b>, that is not available at runtime. This isn&#39;t how you read resources. Use <code>MyClass.class.getResource</code> - there are many, many tutorials about it."},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1688168614,"post_id":76591915,"comment_id":135042661,"body_markdown":"Don’t reference src in your code - it won’t exist once your program is packaged","body":"Don’t reference src in your code - it won’t exist once your program is packaged"},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1688168925,"post_id":76591915,"comment_id":135042686,"body_markdown":"From the [JavaDocs](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/File.html#list()) - *&quot;Returns null if this abstract pathname does not denote a directory, or if an I/O error occurs.&quot;* - remember, `File` is a **abstract** representation, it does not denote or represent and actual file on the file system.","body":"From the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/File.html#list()\" rel=\"nofollow noreferrer\">JavaDocs</a> - <i>&quot;Returns null if this abstract pathname does not denote a directory, or if an I/O error occurs.&quot;</i> - remember, <code>File</code> is a <b>abstract</b> representation, it does not denote or represent and actual file on the file system."}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688276961,"creation_date":1688170732,"answer_id":76592818,"question_id":76591915,"body_markdown":"There is little doubt that the root cause of the problem is the obvious one.  The directory that you have told it to list does not exist ... on the *execution* platform ... with that relative pathname ... when resolved relative to the *executing* application&#39;s current directory.\r\n\r\nThere are a couple of clues as to why that would be:\r\n\r\n1.  Java **says** it doesn&#39;t exist!  The javadocs say that `Files.list()` returns `null` if the object denoted by the pathname does not exist, is not readable, or is not a directory.\r\n\r\n2.  Your pathname appears to be specified relative to your project directory.  When you attempt to run (say) the JAR for your application on a different machine, that project directory won&#39;t be there.  And even if it is there, the chances are that you (or some other user) won&#39;t have `cd`&#39;d to that directory before running your JAR.\r\n\r\nNow I don&#39;t know for sure what the purpose of the `download` directory is.  But putting it in the &quot;&lt;project&gt;/src/resources&quot; tree is probably a mistake ... even on the development platform.  \r\n\r\nWhy?  Because the files in the &quot;resources&quot; tree will (typically) be incorporated into the JAR (or WAR or whatever) file generated by your build tool.\r\n\r\n-------------------\r\n\r\nThere is insufficient context in your question to give you the most appropriate solution.  One alternative is to make the location of the downloads directory a configuration parameter that the person deploying or running your application can modify.\r\n\r\nAlso, it advisable to use the `Files` and `Path` APIs rather than the legacy `File` API.  The former will throw exceptions with informative exception messages if something goes wrong.  For example, the message for a failed &quot;list&quot; will tell you is the problem is that the path is incorrect, the object is not accessible or if it is not a directory.  No guesswork required.","title":"File.list() returns null in Java - Springboot","body":"<p>There is little doubt that the root cause of the problem is the obvious one.  The directory that you have told it to list does not exist ... on the <em>execution</em> platform ... with that relative pathname ... when resolved relative to the <em>executing</em> application's current directory.</p>\n<p>There are a couple of clues as to why that would be:</p>\n<ol>\n<li><p>Java <strong>says</strong> it doesn't exist!  The javadocs say that <code>Files.list()</code> returns <code>null</code> if the object denoted by the pathname does not exist, is not readable, or is not a directory.</p>\n</li>\n<li><p>Your pathname appears to be specified relative to your project directory.  When you attempt to run (say) the JAR for your application on a different machine, that project directory won't be there.  And even if it is there, the chances are that you (or some other user) won't have <code>cd</code>'d to that directory before running your JAR.</p>\n</li>\n</ol>\n<p>Now I don't know for sure what the purpose of the <code>download</code> directory is.  But putting it in the &quot;/src/resources&quot; tree is probably a mistake ... even on the development platform.</p>\n<p>Why?  Because the files in the &quot;resources&quot; tree will (typically) be incorporated into the JAR (or WAR or whatever) file generated by your build tool.</p>\n<hr />\n<p>There is insufficient context in your question to give you the most appropriate solution.  One alternative is to make the location of the downloads directory a configuration parameter that the person deploying or running your application can modify.</p>\n<p>Also, it advisable to use the <code>Files</code> and <code>Path</code> APIs rather than the legacy <code>File</code> API.  The former will throw exceptions with informative exception messages if something goes wrong.  For example, the message for a failed &quot;list&quot; will tell you is the problem is that the path is incorrect, the object is not accessible or if it is not a directory.  No guesswork required.</p>\n"},{"tags":[],"owner":{"account_id":28927438,"reputation":11,"user_id":22156985,"display_name":"PuneethC99"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689271472,"creation_date":1689271472,"answer_id":76682139,"question_id":76591915,"body_markdown":"Using ResourceLoader fixed the issue for me.","title":"File.list() returns null in Java - Springboot","body":"<p>Using ResourceLoader fixed the issue for me.</p>\n"}],"owner":{"account_id":28927438,"reputation":11,"user_id":22156985,"display_name":"PuneethC99"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":74,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1689271472,"creation_date":1688155093,"question_id":76591915,"body_markdown":"I have the following code \r\n\r\n```\r\nFile folder = new File(&quot;./src/main/resources/uploads&quot;);\r\nLOGGER.info(&quot;Read folder - {}&quot;, folder.getName()); // prints uploads correctly\r\nfolder.setReadable(true, false);\r\nfolder.setWritable(true, false);\r\nString[] directories = folder.list();\r\nSystem.out.println(directories.length)// throws an NPE here.\r\n```\r\n\r\nMy code works on my windows machine fine but fails with an NPE on my UNIX environment.\r\nAm I doing something wrong here?\r\n\r\nI tried with and without the following code\r\n```\r\nfolder.setReadable(true, false);\r\nfolder.setWritable(true, false);\r\n```\r\n\r\nUploads is definitely a directory which I created manually. Besides, it works fine on my local machine.\r\n\r\nThanks in advance.","title":"File.list() returns null in Java - Springboot","body":"<p>I have the following code</p>\n<pre><code>File folder = new File(&quot;./src/main/resources/uploads&quot;);\nLOGGER.info(&quot;Read folder - {}&quot;, folder.getName()); // prints uploads correctly\nfolder.setReadable(true, false);\nfolder.setWritable(true, false);\nString[] directories = folder.list();\nSystem.out.println(directories.length)// throws an NPE here.\n</code></pre>\n<p>My code works on my windows machine fine but fails with an NPE on my UNIX environment.\nAm I doing something wrong here?</p>\n<p>I tried with and without the following code</p>\n<pre><code>folder.setReadable(true, false);\nfolder.setWritable(true, false);\n</code></pre>\n<p>Uploads is definitely a directory which I created manually. Besides, it works fine on my local machine.</p>\n<p>Thanks in advance.</p>\n"},{"tags":["java","jquery","spring","datatables"],"comments":[{"owner":{"account_id":7384360,"reputation":1070,"user_id":5619827,"accept_rate":80,"display_name":"Horsing"},"score":0,"creation_date":1462769828,"post_id":37107570,"comment_id":61757960,"body_markdown":"It seems what you post is not the real part of your question. The exception is obvious from your service and it could be triggered by your click but obviously you do not post the request part. You should check the real request to your web server not behavior after the request done. If you are not sure, you can publish  you project on github and post the repository here to let us know, it could be helpful.","body":"It seems what you post is not the real part of your question. The exception is obvious from your service and it could be triggered by your click but obviously you do not post the request part. You should check the real request to your web server not behavior after the request done. If you are not sure, you can publish  you project on github and post the repository here to let us know, it could be helpful."}],"answers":[{"tags":[],"owner":{"account_id":7291923,"reputation":1651,"user_id":5558042,"accept_rate":89,"display_name":"FreezY"},"down_vote_count":0,"up_vote_count":22,"is_accepted":true,"score":22,"last_activity_date":1602565941,"creation_date":1463641678,"answer_id":37316201,"question_id":37107570,"body_markdown":"From the exception, your problem likely occurs because the `@RequestMapping` doesn&#39;t find the parameter being sent from previous the page.\r\n\r\nIn this case, it is likely like this:\r\n\r\n    @RequestMapping(value = &quot;/check&quot;)\r\n    public String getID(@RequestParam(value = &quot;params&quot;) String params){\r\n    //your logic code here\r\n    }\r\n\r\nFrom here, the exception occurs when the `@RequestMapping` doesn&#39;t find `&quot;params&quot;`:\r\n\r\n    @RequestParam(value = &quot;params&quot;) String params\r\n\r\nThis happens because, by default, `@RequestParam` tries to get the value. It then returns an exception when the value is not found.\r\n\r\nSo you have two ways to resolve this, \r\n\r\n1) You can supply the URL `/check` with a `params` variable or,\r\n\r\n2) You can change the `@RequestParam` requirement to false like this:\r\n\r\n    @RequestParam(value = &quot;params&quot;, required = false) String params\r\n\r\nTake note that this is an example to reflect your scenario and problem. Gud luk.","title":"Exception: org.springframework.web.bind.MissingServletRequestParameterException: Required String parameter &#39;params&#39; is not present","body":"<p>From the exception, your problem likely occurs because the <code>@RequestMapping</code> doesn't find the parameter being sent from previous the page.</p>\n<p>In this case, it is likely like this:</p>\n<pre><code>@RequestMapping(value = &quot;/check&quot;)\npublic String getID(@RequestParam(value = &quot;params&quot;) String params){\n//your logic code here\n}\n</code></pre>\n<p>From here, the exception occurs when the <code>@RequestMapping</code> doesn't find <code>&quot;params&quot;</code>:</p>\n<pre><code>@RequestParam(value = &quot;params&quot;) String params\n</code></pre>\n<p>This happens because, by default, <code>@RequestParam</code> tries to get the value. It then returns an exception when the value is not found.</p>\n<p>So you have two ways to resolve this,</p>\n<ol>\n<li><p>You can supply the URL <code>/check</code> with a <code>params</code> variable or,</p>\n</li>\n<li><p>You can change the <code>@RequestParam</code> requirement to false like this:</p>\n<p>@RequestParam(value = &quot;params&quot;, required = false) String params</p>\n</li>\n</ol>\n<p>Take note that this is an example to reflect your scenario and problem. Gud luk.</p>\n"},{"tags":[],"owner":{"account_id":6532574,"reputation":2212,"user_id":5053266,"accept_rate":67,"display_name":"RotS"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1573662599,"creation_date":1573662599,"answer_id":58841493,"question_id":37107570,"body_markdown":"I had the same error message. My mistake was that I wrote on Javascript side:\r\n\r\n    MyService.getStatus(vm.id);\r\n\r\ninstead of:\r\n\r\n    MyService.getStatus({id : vm.id});\r\n\r\nso the parameter was not named as expected on Java side:\r\n\r\n    @GetMapping(&quot;/myservice/getStatus&quot;)\r\n    @Timed\r\n    public ResponseEntity&lt;String&gt; getStatus(@RequestParam(&quot;id&quot;) Long id) {","title":"Exception: org.springframework.web.bind.MissingServletRequestParameterException: Required String parameter &#39;params&#39; is not present","body":"<p>I had the same error message. My mistake was that I wrote on Javascript side:</p>\n\n<pre><code>MyService.getStatus(vm.id);\n</code></pre>\n\n<p>instead of:</p>\n\n<pre><code>MyService.getStatus({id : vm.id});\n</code></pre>\n\n<p>so the parameter was not named as expected on Java side:</p>\n\n<pre><code>@GetMapping(\"/myservice/getStatus\")\n@Timed\npublic ResponseEntity&lt;String&gt; getStatus(@RequestParam(\"id\") Long id) {\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20952855,"reputation":435,"user_id":15394108,"display_name":"cng.buff"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1650918798,"creation_date":1650613889,"answer_id":71965248,"question_id":37107570,"body_markdown":"It was fixed by adding `required = false` like this:\r\n\r\n\r\n\r\nBefore adding:\r\n\r\n    public String saveOrUpdate(\r\n\t\t@RequestParam(&quot;studentId&quot;) String studentId,\r\n\t\t@RequestParam(&quot;name&quot;) String name) {\r\n\r\nAfter adding:\r\n\r\n    public String saveOrUpdate(\r\n    \t\t@RequestParam(value = &quot;studentId&quot;, required = false) String studentId,\r\n    \t\t@RequestParam(&quot;name&quot;) String name) {\r\n\r\n","title":"Exception: org.springframework.web.bind.MissingServletRequestParameterException: Required String parameter &#39;params&#39; is not present","body":"<p>It was fixed by adding <code>required = false</code> like this:</p>\n<p>Before adding:</p>\n<pre><code>public String saveOrUpdate(\n    @RequestParam(&quot;studentId&quot;) String studentId,\n    @RequestParam(&quot;name&quot;) String name) {\n</code></pre>\n<p>After adding:</p>\n<pre><code>public String saveOrUpdate(\n        @RequestParam(value = &quot;studentId&quot;, required = false) String studentId,\n        @RequestParam(&quot;name&quot;) String name) {\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16137588,"reputation":1,"user_id":11649649,"display_name":"dflopez"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684388347,"creation_date":1684388347,"answer_id":76278026,"question_id":37107570,"body_markdown":"Try replacing `@RequestParam(value = &quot;params&quot;) String params` with `@PathVariable String id`","title":"Exception: org.springframework.web.bind.MissingServletRequestParameterException: Required String parameter &#39;params&#39; is not present","body":"<p>Try replacing <code>@RequestParam(value = &quot;params&quot;) String params</code> with <code>@PathVariable String id</code></p>\n"}],"owner":{"account_id":7410719,"reputation":107,"user_id":5638110,"display_name":"Vanan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":97808,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":37316201,"answer_count":4,"score":7,"last_activity_date":1689271393,"creation_date":1462766590,"question_id":37107570,"body_markdown":"When i clicked the edit button the values from dataTable should display in form. But somehow it doesn&#39;t work. Below are my codes for reference.\r\n\r\nCall DataTable:\r\n\r\n    $(&quot;#tranTable&quot;).on(&quot;click&quot;, &quot;#edit&quot;, function(){\r\n \t\tvar row = $(this).closest(&quot;tr&quot;);\r\n\t\t\r\n\t\t$(&quot;#Own-Account&quot;).removeClass(&quot;hidden&quot;);\r\n\t\t$(&quot;fieldset#addToListMethod&quot;).addClass(&quot;hidden&quot;);\r\n\t\t$(&quot;fieldset#Own-Account #templateTrxId&quot;).val( row.find(&quot;[name$=templateTrxId]&quot;).val() )\r\n\t\t$(&quot;fieldset#Own-Account #templateId&quot;)\t.val( row.find(&quot;[name$=templateId]&quot;).val() )\r\n\t\t$(&quot;fieldset#newFT #fromAccNo&quot;)\t\t\t.val( row.find(&quot;[name$=fromAccNo]&quot;).val() ), \r\n\t\t$(&quot;fieldset#newFT #methodOfTransfer&quot;)\t.val( row.find(&quot;[name$=methodOfTransfer]&quot;).val() ), \r\n\t\t$(&quot;fieldset#Own-Account #toAccNo&quot;)\t\t.val( row.find(&quot;[name$=toAccNo]&quot;).val() ), \r\n\t\t$(&quot;fieldset#Own-Account #paymentRef&quot;)\t.val( row.find(&quot;[name$=paymentRef]&quot;).val() ),\r\n\t\t$(&quot;fieldset#Own-Account #amount&quot;)\t\t.val( row.find(&quot;[name$=amount]&quot;).val() ),\r\n\t\t            \r\n\t\t//hidden\r\n\t\t$(&quot;fieldset#Own-Account #otherPaymentDetail&quot;).val( row.find(&quot;[name$=otherPaymentDetail]&quot;).val() ),\r\n\t\t$(&quot;fieldset#Own-Account #email1&quot;).val( row.find(&quot;[name$=email1]&quot;).val() ),\t\t\t\r\n\t\t$(&quot;fieldset#Own-Account #email2&quot;).val( row.find(&quot;[name$=email2]&quot;).val() ),\r\n\t\t$(&quot;fieldset#Own-Account #sms1&quot;).val( row.find(&quot;[name$=sms1]&quot;).val() ),\r\n\t\t$(&quot;fieldset#Own-Account #sms2&quot;).val( row.find(&quot;[name$=sms2]&quot;).val() ),\r\n\t\t$(&quot;fieldset#Own-Account #purpose&quot;).val( row.find(&quot;[name$=purpose]&quot;).val() )\r\n\t\t$(&quot;fieldset#Own-Account #isEdit&quot;).val(1);\r\n\t\t$(&quot;fieldset#Own-Account #dataTableRowId&quot;).val(row.data(&quot;row-id&quot;));\r\n\t\t\r\n\t\t\r\n\t});","title":"Exception: org.springframework.web.bind.MissingServletRequestParameterException: Required String parameter &#39;params&#39; is not present","body":"<p>When i clicked the edit button the values from dataTable should display in form. But somehow it doesn't work. Below are my codes for reference.</p>\n\n<p>Call DataTable:</p>\n\n<pre><code>$(\"#tranTable\").on(\"click\", \"#edit\", function(){\n    var row = $(this).closest(\"tr\");\n\n    $(\"#Own-Account\").removeClass(\"hidden\");\n    $(\"fieldset#addToListMethod\").addClass(\"hidden\");\n    $(\"fieldset#Own-Account #templateTrxId\").val( row.find(\"[name$=templateTrxId]\").val() )\n    $(\"fieldset#Own-Account #templateId\")   .val( row.find(\"[name$=templateId]\").val() )\n    $(\"fieldset#newFT #fromAccNo\")          .val( row.find(\"[name$=fromAccNo]\").val() ), \n    $(\"fieldset#newFT #methodOfTransfer\")   .val( row.find(\"[name$=methodOfTransfer]\").val() ), \n    $(\"fieldset#Own-Account #toAccNo\")      .val( row.find(\"[name$=toAccNo]\").val() ), \n    $(\"fieldset#Own-Account #paymentRef\")   .val( row.find(\"[name$=paymentRef]\").val() ),\n    $(\"fieldset#Own-Account #amount\")       .val( row.find(\"[name$=amount]\").val() ),\n\n    //hidden\n    $(\"fieldset#Own-Account #otherPaymentDetail\").val( row.find(\"[name$=otherPaymentDetail]\").val() ),\n    $(\"fieldset#Own-Account #email1\").val( row.find(\"[name$=email1]\").val() ),          \n    $(\"fieldset#Own-Account #email2\").val( row.find(\"[name$=email2]\").val() ),\n    $(\"fieldset#Own-Account #sms1\").val( row.find(\"[name$=sms1]\").val() ),\n    $(\"fieldset#Own-Account #sms2\").val( row.find(\"[name$=sms2]\").val() ),\n    $(\"fieldset#Own-Account #purpose\").val( row.find(\"[name$=purpose]\").val() )\n    $(\"fieldset#Own-Account #isEdit\").val(1);\n    $(\"fieldset#Own-Account #dataTableRowId\").val(row.data(\"row-id\"));\n\n\n});\n</code></pre>\n"},{"tags":["java","freemarker"],"answers":[{"tags":[],"owner":{"account_id":299854,"reputation":29886,"user_id":606679,"accept_rate":25,"display_name":"ddekany"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1689271358,"creation_date":1689271358,"answer_id":76682125,"question_id":76674279,"body_markdown":"Ideally, the Java code that calls FreeMarker sets the `locale` setting to the desired locale (via the FreeMarker settings API, like `Environment.setLocale(locale)` for single template processing), and you have to do nothing in the template itself. Numbers by default are formatted for human audience, which is already locale sensitive.\r\n\r\nIf, for whatever reason, you can&#39;t achieve that (like you aren&#39;t developing the Java code, and those who do can&#39;t be reasoned with), then you can set the `locale` in the template too with the `#setting` directive. For example:\r\n\r\n    &lt;#setting locale=&quot;en_US&quot;&gt;\r\n    ${3.14}\r\n    &lt;#setting locale=&quot;fi_FI&quot;&gt;\r\n    ${3.14}\r\n\r\nwill print:\r\n\r\n    3.14\r\n    3,14\r\n","title":"How to use Locale in freemarker template","body":"<p>Ideally, the Java code that calls FreeMarker sets the <code>locale</code> setting to the desired locale (via the FreeMarker settings API, like <code>Environment.setLocale(locale)</code> for single template processing), and you have to do nothing in the template itself. Numbers by default are formatted for human audience, which is already locale sensitive.</p>\n<p>If, for whatever reason, you can't achieve that (like you aren't developing the Java code, and those who do can't be reasoned with), then you can set the <code>locale</code> in the template too with the <code>#setting</code> directive. For example:</p>\n<pre><code>&lt;#setting locale=&quot;en_US&quot;&gt;\n${3.14}\n&lt;#setting locale=&quot;fi_FI&quot;&gt;\n${3.14}\n</code></pre>\n<p>will print:</p>\n<pre><code>3.14\n3,14\n</code></pre>\n"}],"owner":{"account_id":19463827,"reputation":305,"user_id":14237523,"display_name":"The_new_coder"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":97,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76682125,"answer_count":1,"score":0,"last_activity_date":1689271358,"creation_date":1689194150,"question_id":76674279,"body_markdown":"I am very new to free marker , I having an issue , I want to create a PDF using ftl , there I need to show the data as per locale ,data I want to format as per locale is (double)amount.\r\ne.g \r\n\r\n \r\n\r\n       DataDto{\r\n          double amount;\r\n       }\r\n    \r\nNow I want to show this data in pdf as per locale e.g. for fi_FI 1.00 -&gt; 1,00 and for us_US 1.00 -&gt; 1.00.\r\nI checked [this][1] and [this][2] and [this][3] too, but did not get any solid answer..\r\nI tried to make method in dto which will return the formatted number as string but when tried to call this method in ftl got the error like InvalidReferenceException.\r\nI am not getting any way to get it done , Is there any way we can achieve this like can we using something is setting directives if I define locale in dto class and get it in ftl.\r\nor can call the method in ftl.\r\n\r\n${data.amount?string(&quot;${data.locale}&quot;)} gives current locale-&gt; en \r\nI dont know how to do it right \r\n\r\nAny lead would be appreciated:)\r\nThank you !  \r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/19765706/get-locale-in-freemarker-template\r\n  [2]: https://stackoverflow.com/questions/2522248/how-to-get-locale-from-its-string-representation-in-java\r\n  [3]: https://freemarker.apache.org/docs/dgui_misc_computer_vs_human_format.html","title":"How to use Locale in freemarker template","body":"<p>I am very new to free marker , I having an issue , I want to create a PDF using ftl , there I need to show the data as per locale ,data I want to format as per locale is (double)amount.\ne.g</p>\n<pre><code>   DataDto{\n      double amount;\n   }\n</code></pre>\n<p>Now I want to show this data in pdf as per locale e.g. for fi_FI 1.00 -&gt; 1,00 and for us_US 1.00 -&gt; 1.00.\nI checked <a href=\"https://stackoverflow.com/questions/19765706/get-locale-in-freemarker-template\">this</a> and <a href=\"https://stackoverflow.com/questions/2522248/how-to-get-locale-from-its-string-representation-in-java\">this</a> and <a href=\"https://freemarker.apache.org/docs/dgui_misc_computer_vs_human_format.html\" rel=\"nofollow noreferrer\">this</a> too, but did not get any solid answer..\nI tried to make method in dto which will return the formatted number as string but when tried to call this method in ftl got the error like InvalidReferenceException.\nI am not getting any way to get it done , Is there any way we can achieve this like can we using something is setting directives if I define locale in dto class and get it in ftl.\nor can call the method in ftl.</p>\n<p>${data.amount?string(&quot;${data.locale}&quot;)} gives current locale-&gt; en\nI dont know how to do it right</p>\n<p>Any lead would be appreciated:)\nThank you !</p>\n"},{"tags":["java","solr","solr-query-syntax"],"comments":[{"owner":{"account_id":2979716,"reputation":12923,"user_id":2529954,"display_name":"EricLavault"},"score":1,"creation_date":1661787148,"post_id":73530239,"comment_id":129848825,"body_markdown":"Note that a _phrase_ query must be surrounded by quotes, the string should be set as `&#39;&quot;hello darkness my old friend&quot;&#39;` so that Solr can parse `&quot;hello darkness my old friend&quot;`.","body":"Note that a <i>phrase</i> query must be surrounded by quotes, the string should be set as <code>&#39;&quot;hello darkness my old friend&quot;&#39;</code> so that Solr can parse <code>&quot;hello darkness my old friend&quot;</code>."},{"owner":{"account_id":16539707,"reputation":955,"user_id":11961036,"display_name":"Marco Frag Delle Monache"},"score":0,"creation_date":1661787369,"post_id":73530239,"comment_id":129848900,"body_markdown":"yes, you are absolutely right","body":"yes, you are absolutely right"}],"answers":[{"tags":[],"owner":{"account_id":29012274,"reputation":26,"user_id":22223523,"display_name":"akanarsky"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1689271240,"creation_date":1689271240,"answer_id":76682113,"question_id":73530239,"body_markdown":"If you&#39;re using the unified highlighter in Solr 7 and newer, you can set the `hl.weightMatches` parameter to `true` to get the phrase highlighting exactly how you want. In Solr 8 this option is enabled by default.","title":"Highlighting only the entire phrase in custom Solr Query builder in Java","body":"<p>If you're using the unified highlighter in Solr 7 and newer, you can set the <code>hl.weightMatches</code> parameter to <code>true</code> to get the phrase highlighting exactly how you want. In Solr 8 this option is enabled by default.</p>\n"}],"owner":{"account_id":16539707,"reputation":955,"user_id":11961036,"display_name":"Marco Frag Delle Monache"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":129,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76682113,"answer_count":1,"score":0,"last_activity_date":1689271240,"creation_date":1661782705,"question_id":73530239,"body_markdown":"I&#39;m trying to let Solr highlight only the entire phrase and not every word of the query. Supposing stopwords aren&#39;t a problem, my query phrase is: ```&quot;hello darkness my old friend&quot;``` and the highlighted result will be: ```&quot;&lt;em&gt;hello&lt;/em&gt; &lt;em&gt;darkness&lt;/em&gt; &lt;em&gt;my&lt;/em&gt; &lt;em&gt;old&lt;/em&gt; &lt;em&gt;friend&lt;/em&gt;. &lt;em&gt;hello&lt;/em&gt; there.&quot;```. What is the Java code to have this result? ```&quot;&lt;em&gt;hello darkness my old friend&lt;/em&gt;. hello there.&quot;```?\r\n\r\nHere is your minimum replicable example:\r\n\r\n    import org.apache.solr.client.solrj.SolrQuery;\r\n    \r\n    String query = &quot;hello darkness my old friend&quot;;\r\n    SolrQuery q = new SolrQuery(query);\r\n    q.setHighlightSimplePre(&quot;&lt;em&gt;&quot;);\r\n\tq.setHighlightSimplePost(&quot;&lt;/em&gt;&quot;);\r\n    String[] queryArray = query.split(&quot; &quot;);\r\n    \r\nI have already tried with:\r\n\r\n    q.setHighlightFragsize(query.length());\r\n    q.set(&quot;hl.usePhraseHighlighter&quot;, true);\r\n    q.set(&quot;hl.useFastVectorHighlighter&quot;, true);\r\n    q.setTermsMinCount(queryArray.length);\r\n    q.set(&quot;hl.multiTermQuery&quot;, true);\r\n\r\nbut with no luck.\r\n\r\nNote: for bool values eg. `usePhraseHighlighter` i even tried putting `true` as string. Nothing changed\r\n\r\nThank you everybody in advance","title":"Highlighting only the entire phrase in custom Solr Query builder in Java","body":"<p>I'm trying to let Solr highlight only the entire phrase and not every word of the query. Supposing stopwords aren't a problem, my query phrase is: <code>&quot;hello darkness my old friend&quot;</code> and the highlighted result will be: <code>&quot;&lt;em&gt;hello&lt;/em&gt; &lt;em&gt;darkness&lt;/em&gt; &lt;em&gt;my&lt;/em&gt; &lt;em&gt;old&lt;/em&gt; &lt;em&gt;friend&lt;/em&gt;. &lt;em&gt;hello&lt;/em&gt; there.&quot;</code>. What is the Java code to have this result? <code>&quot;&lt;em&gt;hello darkness my old friend&lt;/em&gt;. hello there.&quot;</code>?</p>\n<p>Here is your minimum replicable example:</p>\n<pre><code>import org.apache.solr.client.solrj.SolrQuery;\n\nString query = &quot;hello darkness my old friend&quot;;\nSolrQuery q = new SolrQuery(query);\nq.setHighlightSimplePre(&quot;&lt;em&gt;&quot;);\nq.setHighlightSimplePost(&quot;&lt;/em&gt;&quot;);\nString[] queryArray = query.split(&quot; &quot;);\n</code></pre>\n<p>I have already tried with:</p>\n<pre><code>q.setHighlightFragsize(query.length());\nq.set(&quot;hl.usePhraseHighlighter&quot;, true);\nq.set(&quot;hl.useFastVectorHighlighter&quot;, true);\nq.setTermsMinCount(queryArray.length);\nq.set(&quot;hl.multiTermQuery&quot;, true);\n</code></pre>\n<p>but with no luck.</p>\n<p>Note: for bool values eg. <code>usePhraseHighlighter</code> i even tried putting <code>true</code> as string. Nothing changed</p>\n<p>Thank you everybody in advance</p>\n"},{"tags":["java","spring","spring-boot","openapi","openapi-generator"],"answers":[{"tags":[],"owner":{"account_id":16471480,"reputation":1,"user_id":11900409,"display_name":"Patrick"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689270069,"creation_date":1689270069,"answer_id":76682001,"question_id":76680242,"body_markdown":"Found the solution. This creates a header param in the @RequestParam annotation enabling versioning.\r\n\r\n     \r\n     - in: header\r\n        name: X-API-VERSION\r\n        required: true\r\n        schema:\r\n          default: 2\r\n          type: integer\r\n          x-version-param: true\r\n        x-version-param: true","title":"How to add custom request headers that have pre-defined values for versioning purposes using the openapi spring server codegenerator","body":"<p>Found the solution. This creates a header param in the @RequestParam annotation enabling versioning.</p>\n<pre><code> - in: header\n    name: X-API-VERSION\n    required: true\n    schema:\n      default: 2\n      type: integer\n      x-version-param: true\n    x-version-param: true\n</code></pre>\n"}],"owner":{"account_id":16471480,"reputation":1,"user_id":11900409,"display_name":"Patrick"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":258,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1689270069,"creation_date":1689256884,"question_id":76680242,"body_markdown":"I have one endpoint that is mapped to one springboot application.\r\n\r\nThat endpoint is GET `/places` that returns a list of places.\r\n\r\nI want to use a custom header called ``x-api-version`` that specifies which controller in my code should be used.\r\n\r\nSimple example. If I send a request to GET /places and this header is supplied with a corresponding value `x-api-version=2` then that request should be directed to `PlacesControllerV2#getPlacesV2()` and `x-api-version=3` should be directed to `PlacesControllerV3#getPlacesV3()`\r\n\r\nIn normal spring code this usually works like this without any bean mapping issues:\r\n\r\n```\r\n@RequestMapping(\r\n            method = RequestMethod.GET,\r\n            value = &quot;/places&quot;,\r\n            produces = {&quot;application/json&quot;, &quot;application/problem+json&quot;},\r\n            headers = {&quot;X-API-VERSION=2&quot;}\r\n    )\r\npublic ResponseEntity&lt;PlaceResponseV2&gt; getPlacesV2()\r\n{}\r\n```\r\n\r\nHowever when trying to do it using then openapi codegenerator I only get the header as a parameter `getPlacesV2(Integer xAPIVERSION){}` but that is already too late since I need to make the switch between controllers before I get to a controller. This also causes a bean mapping error since spring can&#39;t differentiate between the mapped path in the two controllers PlacesControllerV2 and PlacesControllerV3.\r\n\r\nThis is my build.gradle file:\r\n\r\n```\r\n    generatorName = &quot;spring&quot;\r\n    inputSpec = &quot;$rootDir/src/main/resources/openapi/OSDM-online-api-v2.0.5-rc.yml&quot;\r\n    outputDir = &quot;$buildDir/generated-osdm-oas&quot;\r\n    apiPackage = &quot;com.bene_system.osdm.facade.v2&quot;\r\n    modelPackage = &quot;com.bene_system.osdm&quot;\r\n    library = &quot;spring-boot&quot;\r\n    generateApiTests = false\r\n    generateApiDocumentation = false\r\n    configOptions = [\r\n            interfaceOnly: &quot;true&quot;,\r\n            dateLibrary: &quot;java8&quot;\r\n    ]\r\n    groupId = &#39;com.bene_system.osdm_facade&#39;\r\n    id = &#39;osdm-facade&#39;\r\n    skipValidateSpec = true\r\n    logToStderr = true\r\n    generateAliasAsModel = false\r\n    enablePostProcessFile = false\r\n    modelNameSuffix = &#39;V2&#39;\r\n    apiNameSuffix = &#39;V2&#39;\r\n```\r\n\r\nAnd this my yaml file:\r\n\r\n```paths:\r\n  /places:\r\n    get:\r\n      summary: Returns all places.\r\n      operationId: getPlacesV2\r\n      parameters:\r\n      - name: Requestor\r\n        in: header\r\n        description: &quot;The requestor header contains detailed information about who is calling the API. It can include information such as channel, organization, sales unit or workstation id and be used to configure e.g. the fare range provided to the caller. The content of the string is part of a bilateral contract by the two parties and not standardized by OSDM. It is recommend to encrypt the information transferred.&quot;\r\n        required: true\r\n        style: simple\r\n        explode: false\r\n        schema:\r\n          type: string\r\n      - name: Accept-Language\r\n        in: header\r\n        description: Describes the set of natural languages that are preferred for localized text in the response to the request (see RFC2616-sec14.4). Supporting English (en) is a must.\r\n        required: false\r\n        style: simple\r\n        explode: false\r\n        schema:\r\n          type: string\r\n      - name: traceparent\r\n        in: header\r\n        description: &quot;The traceparent header describes the position of the incoming request in its trace graph in a portable, fixed-length format. Its design focuses on fast parsing. Every tracing tool MUST properly set traceparent even when it only relies on vendor-specific information in tracestate (see W3C Trace Context).&quot;\r\n        required: false\r\n        style: simple\r\n        explode: false\r\n        schema:\r\n          type: string\r\n      - name: tracestate\r\n        in: header\r\n        description: The tracestate extends traceparent with vendor-specific data represented by a set of name/value pairs. Storing information in tracestate is optional (see W3C Trace Context).\r\n        required: false\r\n        style: simple\r\n        explode: false\r\n        schema:\r\n          type: string\r\n      - name: page\r\n        in: query\r\n        description: can be used for pagination\r\n        required: false\r\n        style: form\r\n        explode: true\r\n        schema:\r\n          type: string\r\n      - name: x-API-VERSION\r\n        in: header\r\n        description: Is used for versioning\r\n        required: true\r\n        style: simple\r\n        explode: false\r\n        schema:\r\n          type: integer\r\n          format: int32\r\n      responses:\r\n        &quot;200&quot;:\r\n          description: the requested places\r\n          headers:\r\n            Cache-Control:\r\n              style: simple\r\n              explode: false\r\n              schema:\r\n                type: string\r\n                description: Resource is fairly persistent and has a medium time to live to allow short-term caching.\r\n                default: &quot;public, max-age=10000&quot;\r\n          content:\r\n            application/json:\r\n              schema:\r\n                $ref: &#39;#/components/schemas/PlaceResponse&#39;\r\n```\r\n\r\nI tried setting an empty requestBody with content defined as `&quot;application/json;X-API-Version=2&quot;` like so:\r\n\r\n```\r\nrequestBody:\r\ncontent:\r\n&quot;application/json;X-API-Version=2&quot;:\r\nschema:\r\n```","title":"How to add custom request headers that have pre-defined values for versioning purposes using the openapi spring server codegenerator","body":"<p>I have one endpoint that is mapped to one springboot application.</p>\n<p>That endpoint is GET <code>/places</code> that returns a list of places.</p>\n<p>I want to use a custom header called <code>x-api-version</code> that specifies which controller in my code should be used.</p>\n<p>Simple example. If I send a request to GET /places and this header is supplied with a corresponding value <code>x-api-version=2</code> then that request should be directed to <code>PlacesControllerV2#getPlacesV2()</code> and <code>x-api-version=3</code> should be directed to <code>PlacesControllerV3#getPlacesV3()</code></p>\n<p>In normal spring code this usually works like this without any bean mapping issues:</p>\n<pre><code>@RequestMapping(\n            method = RequestMethod.GET,\n            value = &quot;/places&quot;,\n            produces = {&quot;application/json&quot;, &quot;application/problem+json&quot;},\n            headers = {&quot;X-API-VERSION=2&quot;}\n    )\npublic ResponseEntity&lt;PlaceResponseV2&gt; getPlacesV2()\n{}\n</code></pre>\n<p>However when trying to do it using then openapi codegenerator I only get the header as a parameter <code>getPlacesV2(Integer xAPIVERSION){}</code> but that is already too late since I need to make the switch between controllers before I get to a controller. This also causes a bean mapping error since spring can't differentiate between the mapped path in the two controllers PlacesControllerV2 and PlacesControllerV3.</p>\n<p>This is my build.gradle file:</p>\n<pre><code>    generatorName = &quot;spring&quot;\n    inputSpec = &quot;$rootDir/src/main/resources/openapi/OSDM-online-api-v2.0.5-rc.yml&quot;\n    outputDir = &quot;$buildDir/generated-osdm-oas&quot;\n    apiPackage = &quot;com.bene_system.osdm.facade.v2&quot;\n    modelPackage = &quot;com.bene_system.osdm&quot;\n    library = &quot;spring-boot&quot;\n    generateApiTests = false\n    generateApiDocumentation = false\n    configOptions = [\n            interfaceOnly: &quot;true&quot;,\n            dateLibrary: &quot;java8&quot;\n    ]\n    groupId = 'com.bene_system.osdm_facade'\n    id = 'osdm-facade'\n    skipValidateSpec = true\n    logToStderr = true\n    generateAliasAsModel = false\n    enablePostProcessFile = false\n    modelNameSuffix = 'V2'\n    apiNameSuffix = 'V2'\n</code></pre>\n<p>And this my yaml file:</p>\n<pre><code>  /places:\n    get:\n      summary: Returns all places.\n      operationId: getPlacesV2\n      parameters:\n      - name: Requestor\n        in: header\n        description: &quot;The requestor header contains detailed information about who is calling the API. It can include information such as channel, organization, sales unit or workstation id and be used to configure e.g. the fare range provided to the caller. The content of the string is part of a bilateral contract by the two parties and not standardized by OSDM. It is recommend to encrypt the information transferred.&quot;\n        required: true\n        style: simple\n        explode: false\n        schema:\n          type: string\n      - name: Accept-Language\n        in: header\n        description: Describes the set of natural languages that are preferred for localized text in the response to the request (see RFC2616-sec14.4). Supporting English (en) is a must.\n        required: false\n        style: simple\n        explode: false\n        schema:\n          type: string\n      - name: traceparent\n        in: header\n        description: &quot;The traceparent header describes the position of the incoming request in its trace graph in a portable, fixed-length format. Its design focuses on fast parsing. Every tracing tool MUST properly set traceparent even when it only relies on vendor-specific information in tracestate (see W3C Trace Context).&quot;\n        required: false\n        style: simple\n        explode: false\n        schema:\n          type: string\n      - name: tracestate\n        in: header\n        description: The tracestate extends traceparent with vendor-specific data represented by a set of name/value pairs. Storing information in tracestate is optional (see W3C Trace Context).\n        required: false\n        style: simple\n        explode: false\n        schema:\n          type: string\n      - name: page\n        in: query\n        description: can be used for pagination\n        required: false\n        style: form\n        explode: true\n        schema:\n          type: string\n      - name: x-API-VERSION\n        in: header\n        description: Is used for versioning\n        required: true\n        style: simple\n        explode: false\n        schema:\n          type: integer\n          format: int32\n      responses:\n        &quot;200&quot;:\n          description: the requested places\n          headers:\n            Cache-Control:\n              style: simple\n              explode: false\n              schema:\n                type: string\n                description: Resource is fairly persistent and has a medium time to live to allow short-term caching.\n                default: &quot;public, max-age=10000&quot;\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/PlaceResponse'\n</code></pre>\n<p>I tried setting an empty requestBody with content defined as <code>&quot;application/json;X-API-Version=2&quot;</code> like so:</p>\n<pre><code>requestBody:\ncontent:\n&quot;application/json;X-API-Version=2&quot;:\nschema:\n</code></pre>\n"},{"tags":["java","android","arcore","sceneform"],"answers":[{"tags":[],"owner":{"account_id":9339124,"reputation":136,"user_id":6932487,"display_name":"Bobek Bobekos"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1559599993,"creation_date":1559599993,"answer_id":56435157,"question_id":56185866,"body_markdown":"Not all models have a predefined texture sampler. So if you try to set a texture to a model wich doesn&#39;t have any texture channel you must first set a custom material to it.\r\n\r\nWhen you convert you model to sfb via android studio you can specify a custom material file. Here a simple example of a material where you can set a custom texture:\r\n\r\n```\r\nmaterial {\r\n    name : &quot;Textured material&quot;,\r\n    parameters : [\r\n        {\r\n           type : sampler2d,\r\n           name : texture\r\n        }\r\n    ],\r\n    requires : [\r\n        uv0\r\n    ],\r\n    shadingModel : lit,\r\n    blending : opaque\r\n}\r\n\r\nfragment {\r\n    void material(inout MaterialInputs material) {\r\n        prepareMaterial(material);\r\n        material.baseColor = texture(materialParams_texture, getUV0());\r\n    }\r\n}\r\n```\r\n\r\nJust save this as a .mat file, create the sfb with this material and then you code from above should work. If you want to apply the material at runtime it is not possible at moment without a small workaround. Just create a simple 3d model (for example a triangle) and convert it with this material to sfb. Then load the material at runtime and copy the material from it. Now when you load you model which you want to show you can simply override the original material with you custom one. ","title":"Applying Dynamic texture in arcore 3D model","body":"<p>Not all models have a predefined texture sampler. So if you try to set a texture to a model wich doesn't have any texture channel you must first set a custom material to it.</p>\n\n<p>When you convert you model to sfb via android studio you can specify a custom material file. Here a simple example of a material where you can set a custom texture:</p>\n\n<pre><code>material {\n    name : \"Textured material\",\n    parameters : [\n        {\n           type : sampler2d,\n           name : texture\n        }\n    ],\n    requires : [\n        uv0\n    ],\n    shadingModel : lit,\n    blending : opaque\n}\n\nfragment {\n    void material(inout MaterialInputs material) {\n        prepareMaterial(material);\n        material.baseColor = texture(materialParams_texture, getUV0());\n    }\n}\n</code></pre>\n\n<p>Just save this as a .mat file, create the sfb with this material and then you code from above should work. If you want to apply the material at runtime it is not possible at moment without a small workaround. Just create a simple 3d model (for example a triangle) and convert it with this material to sfb. Then load the material at runtime and copy the material from it. Now when you load you model which you want to show you can simply override the original material with you custom one. </p>\n"},{"tags":[],"owner":{"account_id":16059704,"reputation":243,"user_id":14576798,"display_name":"Rohit gupta"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689269965,"creation_date":1689269965,"answer_id":76681995,"question_id":56185866,"body_markdown":"This is how I built a texture completableFuture\r\n\r\n    val texture = Texture.builder()\r\n                            .setSource(\r\n                                requireContext(),\r\n                                Uri.parse(filePath.absolutePath) //&quot;assets.png&quot;\r\n                            )\r\n                            .setUsage(Texture.Usage.DATA)\r\n                            .setSampler(\r\n                                Texture.Sampler.builder()\r\n                                    .setMagFilter(Texture.Sampler.MagFilter.LINEAR)\r\n                                    .setMinFilter(Texture.Sampler.MinFilter.LINEAR_MIPMAP_LINEAR)\r\n                                    .build()\r\n                            ).build()\r\n\r\n//inside achor, I tried initiating the model further \r\n\r\n    val anchor = hitResult.createAnchor()\r\n            model?.thenAccept { modelRenderable -&gt;\r\n                addModelToScene(arFragment, anchor, modelRenderable)\r\n                viewModel.modelRenderable = modelRenderable\r\n            }\r\n    enter code here\r\n\r\nInside the addModelToScene I tried applying the texture to the loaded model. \r\n\r\n     private fun addModelToScene(\r\n            arFragment: ARFragment,\r\n            anchor: Anchor?,\r\n            modelRenderable: ModelRenderable?,\r\n        ) {\r\n            val anchorNode = anchor?.let { AnchorNode(it) }\r\n    \r\n    \r\n    arFragment.transformationSystem.selectionVisualizer =\r\n                ARSupportHelper.Companion.HideCircleOnSelectionVisualiser()\r\n    \r\n            \r\n    \r\n    \r\n    val transformableNode =\r\n                TransformableNode(arFragment.transformationSystem)\r\n    \r\n    texture?.thenAccept { texture -&gt;\r\n    \r\n                MaterialFactory.makeOpaqueWithTexture(requireContext(), texture)\r\n                    .thenAccept { material: Material? -&gt;\r\n                        // Apply the material to the model\r\n    \r\n                        // Set the texture as a diffuse map\r\n                        material?.setFloat3(\r\n                            MaterialFactory.MATERIAL_COLOR,\r\n                            com.google.ar.sceneform.rendering.Color(0.219f, 0.172f, 0.52f)\r\n                        )\r\n                        material?.setTexture(MaterialFactory.MATERIAL_TEXTURE, texture)\r\n                        transformableNode.renderable?.material = material\r\n                    }\r\n                    .exceptionally { throwable: Throwable -&gt;\r\n                        val builder = AlertDialog.Builder(requireContext())\r\n                        builder.setTitle(&quot;Material Load Err!&quot;)\r\n                        builder.setMessage(throwable.message).show()\r\n                        return@exceptionally null\r\n                    }\r\n            }\r\n\r\nThere are multiple options like `makeOpaqueWithTexture`, `makeOpaqueWithColor`, `makeTransparentWithTexture`, `makeTransparentWithColor`\r\n\r\n","title":"Applying Dynamic texture in arcore 3D model","body":"<p>This is how I built a texture completableFuture</p>\n<pre><code>val texture = Texture.builder()\n                        .setSource(\n                            requireContext(),\n                            Uri.parse(filePath.absolutePath) //&quot;assets.png&quot;\n                        )\n                        .setUsage(Texture.Usage.DATA)\n                        .setSampler(\n                            Texture.Sampler.builder()\n                                .setMagFilter(Texture.Sampler.MagFilter.LINEAR)\n                                .setMinFilter(Texture.Sampler.MinFilter.LINEAR_MIPMAP_LINEAR)\n                                .build()\n                        ).build()\n</code></pre>\n<p>//inside achor, I tried initiating the model further</p>\n<pre><code>val anchor = hitResult.createAnchor()\n        model?.thenAccept { modelRenderable -&gt;\n            addModelToScene(arFragment, anchor, modelRenderable)\n            viewModel.modelRenderable = modelRenderable\n        }\nenter code here\n</code></pre>\n<p>Inside the addModelToScene I tried applying the texture to the loaded model.</p>\n<pre><code> private fun addModelToScene(\n        arFragment: ARFragment,\n        anchor: Anchor?,\n        modelRenderable: ModelRenderable?,\n    ) {\n        val anchorNode = anchor?.let { AnchorNode(it) }\n\n\narFragment.transformationSystem.selectionVisualizer =\n            ARSupportHelper.Companion.HideCircleOnSelectionVisualiser()\n\n        \n\n\nval transformableNode =\n            TransformableNode(arFragment.transformationSystem)\n\ntexture?.thenAccept { texture -&gt;\n\n            MaterialFactory.makeOpaqueWithTexture(requireContext(), texture)\n                .thenAccept { material: Material? -&gt;\n                    // Apply the material to the model\n\n                    // Set the texture as a diffuse map\n                    material?.setFloat3(\n                        MaterialFactory.MATERIAL_COLOR,\n                        com.google.ar.sceneform.rendering.Color(0.219f, 0.172f, 0.52f)\n                    )\n                    material?.setTexture(MaterialFactory.MATERIAL_TEXTURE, texture)\n                    transformableNode.renderable?.material = material\n                }\n                .exceptionally { throwable: Throwable -&gt;\n                    val builder = AlertDialog.Builder(requireContext())\n                    builder.setTitle(&quot;Material Load Err!&quot;)\n                    builder.setMessage(throwable.message).show()\n                    return@exceptionally null\n                }\n        }\n</code></pre>\n<p>There are multiple options like <code>makeOpaqueWithTexture</code>, <code>makeOpaqueWithColor</code>, <code>makeTransparentWithTexture</code>, <code>makeTransparentWithColor</code></p>\n"}],"owner":{"account_id":15957725,"reputation":186,"user_id":11515554,"display_name":"Bilz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1470,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1689269965,"creation_date":1558093953,"question_id":56185866,"body_markdown":"i am unable to apply texture on 3d model which is convert from google scene form plugin. \r\ni only able to add texture on &quot;andy&quot; model,\r\nall custom models are not taking any texture. \r\n\r\ni have tried to apply texture technique which i found on github here is the link where i found \r\nhttps://github.com/google-ar/sceneform-android-sdk/issues/41\r\n\r\n        CompletableFuture&lt;Texture&gt; futuretexture= Texture.builder().setSource(this, R.drawable.texture).build();\r\n        ModelRenderable.builder()\r\n                .setSource(this, R.raw.model)\r\n                .build()\r\n                .thenAcceptBoth(futuretexture, (renderable, texture) -&gt; {\r\n                    andyRenderable = renderable;\r\n                    andyRenderable.getMaterial().setTexture(MaterialFactory.MATERIAL_TEXTURE, texture);\r\n                })\r\n                .exceptionally(\r\n                        throwable -&gt; {\r\n                            Toast toast =\r\n                                    Toast.makeText(this, &quot;Unable to load model_node renderable&quot;, Toast.LENGTH_LONG);\r\n                            toast.setGravity(Gravity.CENTER, 0, 0);\r\n                            toast.show();\r\n                            return null;\r\n                        });\r\n\r\n\r\ni expected to have texture which we selected on button click is applied on projected 3d model in ar core android","title":"Applying Dynamic texture in arcore 3D model","body":"<p>i am unable to apply texture on 3d model which is convert from google scene form plugin. \ni only able to add texture on \"andy\" model,\nall custom models are not taking any texture. </p>\n\n<p>i have tried to apply texture technique which i found on github here is the link where i found \n<a href=\"https://github.com/google-ar/sceneform-android-sdk/issues/41\" rel=\"nofollow noreferrer\">https://github.com/google-ar/sceneform-android-sdk/issues/41</a></p>\n\n<pre><code>    CompletableFuture&lt;Texture&gt; futuretexture= Texture.builder().setSource(this, R.drawable.texture).build();\n    ModelRenderable.builder()\n            .setSource(this, R.raw.model)\n            .build()\n            .thenAcceptBoth(futuretexture, (renderable, texture) -&gt; {\n                andyRenderable = renderable;\n                andyRenderable.getMaterial().setTexture(MaterialFactory.MATERIAL_TEXTURE, texture);\n            })\n            .exceptionally(\n                    throwable -&gt; {\n                        Toast toast =\n                                Toast.makeText(this, \"Unable to load model_node renderable\", Toast.LENGTH_LONG);\n                        toast.setGravity(Gravity.CENTER, 0, 0);\n                        toast.show();\n                        return null;\n                    });\n</code></pre>\n\n<p>i expected to have texture which we selected on button click is applied on projected 3d model in ar core android</p>\n"},{"tags":["java","prolog","jpl"],"answers":[{"tags":[],"owner":{"account_id":48334,"reputation":19092,"user_id":143585,"accept_rate":67,"display_name":"Denis Tulskiy"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1350878152,"creation_date":1350878152,"answer_id":13004788,"question_id":13003661,"body_markdown":"There should be a jpl dll or so, depending on your platform. You should either make it accessible somewhere in %PATH% or specify its location with `-Djava.library.path=&lt;path to jpl.dll&gt;` java property.\r\n\r\nRead more about [JPL installation][1]\r\n\r\n\r\n  [1]: http://www.swi-prolog.org/packages/jpl/installation.html","title":"Connect between java and swi prolog","body":"<p>There should be a jpl dll or so, depending on your platform. You should either make it accessible somewhere in %PATH% or specify its location with <code>-Djava.library.path=&lt;path to jpl.dll&gt;</code> java property.</p>\n\n<p>Read more about <a href=\"http://www.swi-prolog.org/packages/jpl/installation.html\" rel=\"nofollow\">JPL installation</a></p>\n"},{"tags":[],"owner":{"account_id":1890207,"reputation":383,"user_id":1708509,"display_name":"Felix Dobslaw"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1360602973,"creation_date":1360602973,"answer_id":14817262,"question_id":13003661,"body_markdown":"I had the same problem. This helped me on Ubuntu:\r\n\r\n1) Point the native library location of the jpl jar to the folder where you hold your &quot;libswipl.so&quot; (I do that via the &quot;Java Build Path&quot; settings of the project). For me that is:\r\n\r\n/usr/lib/swipl-6.2.6/lib/x86_64-linux\r\n\r\n2) Add the folder where you hold your &quot;libjava.so&quot; to your LD_LIBRARY_PATH variable (I do that in my run configuration under the Environment tab). For me that is:\r\n\r\n/usr/lib/jvm/java-6-openjdk/jre/lib/amd64","title":"Connect between java and swi prolog","body":"<p>I had the same problem. This helped me on Ubuntu:</p>\n\n<p>1) Point the native library location of the jpl jar to the folder where you hold your \"libswipl.so\" (I do that via the \"Java Build Path\" settings of the project). For me that is:</p>\n\n<p>/usr/lib/swipl-6.2.6/lib/x86_64-linux</p>\n\n<p>2) Add the folder where you hold your \"libjava.so\" to your LD_LIBRARY_PATH variable (I do that in my run configuration under the Environment tab). For me that is:</p>\n\n<p>/usr/lib/jvm/java-6-openjdk/jre/lib/amd64</p>\n"},{"tags":[],"owner":{"account_id":4881680,"reputation":6434,"user_id":3935325,"accept_rate":86,"display_name":"villasv"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1414101522,"creation_date":1414101522,"answer_id":26538186,"question_id":13003661,"body_markdown":"I had this problem today on Debian, and my solution was similar to Felix Dobslaw&#39;s. Because I couldn&#39;t find it elsewhere, I&#39;ll post how I solved it today.\n\nMy SWI-Prolog and JPL were installed via apt-get. Change the path folders accordinly to your environment.\n\n* Copy **libswipl.so** from `/usr/lib` to `usr/lib/swi-prolog/lib/amd64`\n\n  (`sudo cp &lt;probably-user-lib&gt;/libswipl.so &lt;installation-folder-swi&gt;/lib/&lt;architeture&gt;`)\n\n* Add `-Djava.library.path=&quot;/usr/lib/swi-prolog/lib/amd64&quot;` as VM Option\n\n  (Project Properties -&gt; Run -&gt; VM Options)","title":"Connect between java and swi prolog","body":"<p>I had this problem today on Debian, and my solution was similar to Felix Dobslaw's. Because I couldn't find it elsewhere, I'll post how I solved it today.</p>\n<p>My SWI-Prolog and JPL were installed via apt-get. Change the path folders accordinly to your environment.</p>\n<ul>\n<li><p>Copy <strong>libswipl.so</strong> from <code>/usr/lib</code> to <code>usr/lib/swi-prolog/lib/amd64</code></p>\n<p>(<code>sudo cp &lt;probably-user-lib&gt;/libswipl.so &lt;installation-folder-swi&gt;/lib/&lt;architeture&gt;</code>)</p>\n</li>\n<li><p>Add <code>-Djava.library.path=&quot;/usr/lib/swi-prolog/lib/amd64&quot;</code> as VM Option</p>\n<p>(Project Properties -&gt; Run -&gt; VM Options)</p>\n</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":210819,"reputation":2485,"user_id":462642,"accept_rate":63,"display_name":"d135-1r43"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1497959201,"creation_date":1497959201,"answer_id":44652212,"question_id":13003661,"body_markdown":"Solution for Eclipse Neon and homebrew:\r\n\r\n    brew update\r\n    brew install swi-prolog --with-jpl\r\n\r\nIn your Eclipse Run/Debug-Configuration set as VM-Arg:\r\n\r\n    -Djava.library.path=/usr/local/Cellar/swi-prolog/7.4.2/libexec/lib/swipl-7.4.2/lib/x86_64-darwin16.6.0\r\n\r\nActual path may vary. ","title":"Connect between java and swi prolog","body":"<p>Solution for Eclipse Neon and homebrew:</p>\n\n<pre><code>brew update\nbrew install swi-prolog --with-jpl\n</code></pre>\n\n<p>In your Eclipse Run/Debug-Configuration set as VM-Arg:</p>\n\n<pre><code>-Djava.library.path=/usr/local/Cellar/swi-prolog/7.4.2/libexec/lib/swipl-7.4.2/lib/x86_64-darwin16.6.0\n</code></pre>\n\n<p>Actual path may vary. </p>\n"}],"owner":{"account_id":259307,"reputation":165,"user_id":542094,"display_name":"Noray"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4514,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":4,"score":4,"last_activity_date":1689269816,"creation_date":1350866339,"question_id":13003661,"body_markdown":"I am trying to run swi prolog from java.\r\n\r\nI am using eclipse and I have inserted jpl.jar into the project (properties-&gt;libraries-&gt;add external jar) and when I try to run a program (it is a sample of jpl so it should work..) I get an error:\r\n\r\n    Exception in thread &quot;main&quot; java.lang.UnsatisfiedLinkError: no jpl in java.library.path\r\n    \tat java.lang.ClassLoader.loadLibrary(ClassLoader.java:1758)\r\n    \tat java.lang.Runtime.loadLibrary0(Runtime.java:823)\r\n    \tat java.lang.System.loadLibrary(System.java:1045)\r\n    \tat jpl.JPL.loadNativeLibrary(JPL.java:100)\r\n    \tat jpl.fli.Prolog.&lt;clinit&gt;(Prolog.java:85)\r\n    \tat jpl.Query.open(Query.java:286)\r\n    \tat jpl.Util.textToTerm(Util.java:162)\r\n    \tat jpl.Query.&lt;init&gt;(Query.java:198)\r\n    \tat faf.Main.main(Main.java:10) &lt;br&gt;\r\n\r\nWhat am I missing?\r\n","title":"Connect between java and swi prolog","body":"<p>I am trying to run swi prolog from java.</p>\n<p>I am using eclipse and I have inserted jpl.jar into the project (properties-&gt;libraries-&gt;add external jar) and when I try to run a program (it is a sample of jpl so it should work..) I get an error:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.UnsatisfiedLinkError: no jpl in java.library.path\n    at java.lang.ClassLoader.loadLibrary(ClassLoader.java:1758)\n    at java.lang.Runtime.loadLibrary0(Runtime.java:823)\n    at java.lang.System.loadLibrary(System.java:1045)\n    at jpl.JPL.loadNativeLibrary(JPL.java:100)\n    at jpl.fli.Prolog.&lt;clinit&gt;(Prolog.java:85)\n    at jpl.Query.open(Query.java:286)\n    at jpl.Util.textToTerm(Util.java:162)\n    at jpl.Query.&lt;init&gt;(Query.java:198)\n    at faf.Main.main(Main.java:10) &lt;br&gt;\n</code></pre>\n<p>What am I missing?</p>\n"},{"tags":["java","aws-lambda"],"answers":[{"tags":[],"owner":{"account_id":101503,"reputation":703,"user_id":273043,"display_name":"foal"},"down_vote_count":0,"up_vote_count":19,"is_accepted":true,"score":19,"last_activity_date":1582045187,"creation_date":1506708622,"answer_id":46494684,"question_id":46080448,"body_markdown":"Yes, you can. Just add the following dependencies to your project:\r\n\r\n&lt;!-- language: lang-xml --&gt;\r\n\r\n    \t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jcl-over-slf4j&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.7.25&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.7.25&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;aws-lambda-java-log4j&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.0.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\nand create correct `log4j.properties` in `/src/main/resources/` of your project, e.g.\r\n\r\n&lt;!-- language: lang-bash --&gt;\r\n\r\n    log = .\r\n    log4j.rootLogger = DEBUG, LAMBDA\r\n    \r\n    # Define the LAMBDA appender\r\n    log4j.appender.LAMBDA=com.amazonaws.services.lambda.runtime.log4j.LambdaAppender\r\n    log4j.appender.LAMBDA.layout=org.apache.log4j.PatternLayout\r\n    log4j.appender.LAMBDA.layout.conversionPattern=%d{yyyy-MM-dd HH:mm:ss} &lt;%X{AWSRequestId}&gt; %-5p %c{1}:%m%n","title":"Logging in AWS Lambda with slf4j","body":"<p>Yes, you can. Just add the following dependencies to your project:</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n        &lt;artifactId&gt;jcl-over-slf4j&lt;/artifactId&gt;\n        &lt;version&gt;1.7.25&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n        &lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt;\n        &lt;version&gt;1.7.25&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\n        &lt;artifactId&gt;aws-lambda-java-log4j&lt;/artifactId&gt;\n        &lt;version&gt;1.0.0&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n\n<p>and create correct <code>log4j.properties</code> in <code>/src/main/resources/</code> of your project, e.g.</p>\n\n<pre class=\"lang-bash prettyprint-override\"><code>log = .\nlog4j.rootLogger = DEBUG, LAMBDA\n\n# Define the LAMBDA appender\nlog4j.appender.LAMBDA=com.amazonaws.services.lambda.runtime.log4j.LambdaAppender\nlog4j.appender.LAMBDA.layout=org.apache.log4j.PatternLayout\nlog4j.appender.LAMBDA.layout.conversionPattern=%d{yyyy-MM-dd HH:mm:ss} &lt;%X{AWSRequestId}&gt; %-5p %c{1}:%m%n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":467725,"reputation":19389,"user_id":873282,"accept_rate":55,"display_name":"koppor"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1579466212,"creation_date":1518294558,"answer_id":48725259,"question_id":46080448,"body_markdown":"Just include following dependency:\r\n\r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;io.symphonia&lt;/groupId&gt;\r\n    &lt;artifactId&gt;lambda-logging&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0.0&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nSource of lambda-logging code available at &lt;https://github.com/symphoniacloud/lambda-monitoring/tree/master/lambda-logging&gt;.\r\n\r\nBackground information available at: https://blog.symphonia.io/a-love-letter-to-lambda-logging-974b0eb49273\r\n\r\n","title":"Logging in AWS Lambda with slf4j","body":"<p>Just include following dependency:</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;io.symphonia&lt;/groupId&gt;\n    &lt;artifactId&gt;lambda-logging&lt;/artifactId&gt;\n    &lt;version&gt;1.0.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>Source of lambda-logging code available at <a href=\"https://github.com/symphoniacloud/lambda-monitoring/tree/master/lambda-logging\" rel=\"nofollow noreferrer\">https://github.com/symphoniacloud/lambda-monitoring/tree/master/lambda-logging</a>.</p>\n\n<p>Background information available at: <a href=\"https://blog.symphonia.io/a-love-letter-to-lambda-logging-974b0eb49273\" rel=\"nofollow noreferrer\">https://blog.symphonia.io/a-love-letter-to-lambda-logging-974b0eb49273</a></p>\n"},{"tags":[],"owner":{"account_id":3021655,"reputation":2368,"user_id":2562544,"display_name":"Igor Akkerman"},"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1551994443,"creation_date":1532037771,"answer_id":51432338,"question_id":46080448,"body_markdown":"The [jlib AWS Lambda Logback Appender](https://github.com/jlib-framework/jlib-awslambda-logback) allows you to use [SLF4J](https://www.slf4j.org/) with [Logback](https://logback.qos.ch/) from your AWS Lambda functions. \r\n\r\nSimply add these dependencies:\r\n\r\n**Gradle (_build.gradle_)**\r\n\r\n    dependencies {\r\n        implementation &#39;org.slf4j:slf4j-api:1.8.0-beta2&#39;\r\n        runtimeOnly &#39;org.jlib:jlib-awslambda-logback:1.0.0&#39;\r\n    }\r\n\r\n**Maven (_pom.xml_)**\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n        &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\r\n        &lt;version&gt;1.8.0-beta2&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.jlib&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jlib-awslambda-logback&lt;/artifactId&gt;\r\n        &lt;version&gt;1.0.0&lt;/version&gt;\r\n        &lt;scope&gt;runtime&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\nThen use the `AwsLambdaAppender` in your logging configuration:\r\n\r\n**Example XML configuration (_src/main/resources/logback.xml_)**\r\n\r\n    &lt;configuration&gt;\r\n    \r\n        &lt;appender name=&quot;awslambda&quot; class=&quot;org.jlib.cloud.aws.lambda.logback.AwsLambdaAppender&quot;&gt;\r\n            &lt;encoder type=&quot;ch.qos.logback.classic.encoder.PatternLayoutEncoder&quot;&gt;\r\n                &lt;pattern&gt;[%d{yyyy-MM-dd HH:mm:ss.SSS}] &amp;lt;%-36X{AWSRequestId:-request-id-not-set-by-lambda-runtime}&amp;gt;\r\n    %-5level %logger{10} - %msg%n&lt;/pattern&gt;\r\n            &lt;/encoder&gt;\r\n        &lt;/appender&gt;\r\n    \r\n        &lt;root level=&quot;INFO&quot;&gt;\r\n            &lt;appender-ref ref=&quot;awslambda&quot; /&gt;\r\n        &lt;/root&gt;\r\n    \r\n    &lt;/configuration&gt;\r\n\r\nUnlike other solutions, this Logback Appender correctly handles _multi-line_ log messages, especially _stack traces_, and produces only _a single_ CloudWatch Logs event per message.\r\n\r\nThe library also allows you to include the AWSRequestId, provided by the AWS Lambda runtime, in every single log message for better tracing.\r\n\r\nWhile log4j2 requires additional handling in the build when you create an uber-jar, this solution works out of the box.\r\n\r\n_Disclaimer:_ I&#39;m the developer of _jlib_","title":"Logging in AWS Lambda with slf4j","body":"<p>The <a href=\"https://github.com/jlib-framework/jlib-awslambda-logback\" rel=\"noreferrer\">jlib AWS Lambda Logback Appender</a> allows you to use <a href=\"https://www.slf4j.org/\" rel=\"noreferrer\">SLF4J</a> with <a href=\"https://logback.qos.ch/\" rel=\"noreferrer\">Logback</a> from your AWS Lambda functions. </p>\n\n<p>Simply add these dependencies:</p>\n\n<p><strong>Gradle (<em>build.gradle</em>)</strong></p>\n\n<pre><code>dependencies {\n    implementation 'org.slf4j:slf4j-api:1.8.0-beta2'\n    runtimeOnly 'org.jlib:jlib-awslambda-logback:1.0.0'\n}\n</code></pre>\n\n<p><strong>Maven (<em>pom.xml</em>)</strong></p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n    &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\n    &lt;version&gt;1.8.0-beta2&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.jlib&lt;/groupId&gt;\n    &lt;artifactId&gt;jlib-awslambda-logback&lt;/artifactId&gt;\n    &lt;version&gt;1.0.0&lt;/version&gt;\n    &lt;scope&gt;runtime&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>Then use the <code>AwsLambdaAppender</code> in your logging configuration:</p>\n\n<p><strong>Example XML configuration (<em>src/main/resources/logback.xml</em>)</strong></p>\n\n<pre><code>&lt;configuration&gt;\n\n    &lt;appender name=\"awslambda\" class=\"org.jlib.cloud.aws.lambda.logback.AwsLambdaAppender\"&gt;\n        &lt;encoder type=\"ch.qos.logback.classic.encoder.PatternLayoutEncoder\"&gt;\n            &lt;pattern&gt;[%d{yyyy-MM-dd HH:mm:ss.SSS}] &amp;lt;%-36X{AWSRequestId:-request-id-not-set-by-lambda-runtime}&amp;gt;\n%-5level %logger{10} - %msg%n&lt;/pattern&gt;\n        &lt;/encoder&gt;\n    &lt;/appender&gt;\n\n    &lt;root level=\"INFO\"&gt;\n        &lt;appender-ref ref=\"awslambda\" /&gt;\n    &lt;/root&gt;\n\n&lt;/configuration&gt;\n</code></pre>\n\n<p>Unlike other solutions, this Logback Appender correctly handles <em>multi-line</em> log messages, especially <em>stack traces</em>, and produces only <em>a single</em> CloudWatch Logs event per message.</p>\n\n<p>The library also allows you to include the AWSRequestId, provided by the AWS Lambda runtime, in every single log message for better tracing.</p>\n\n<p>While log4j2 requires additional handling in the build when you create an uber-jar, this solution works out of the box.</p>\n\n<p><em>Disclaimer:</em> I'm the developer of <em>jlib</em></p>\n"},{"tags":[],"owner":{"account_id":455917,"reputation":6566,"user_id":854386,"accept_rate":86,"display_name":"Andrey"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1672719095,"creation_date":1604981750,"answer_id":64762806,"question_id":46080448,"body_markdown":"Ever since [the AWS guide][1] has been updated with details on Log4j 2 and SLF4J integration. The code snippets below are based on the guide with slf4j and log4j versions updated to the more recent ones.\r\n\r\n\r\n`pom.xml`:\r\n```\r\n&lt;dependencyManagement&gt;\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;log4j-bom&lt;/artifactId&gt;\r\n            &lt;version&gt;2.19.0&lt;/version&gt;\r\n            &lt;type&gt;pom&lt;/type&gt;\r\n            &lt;scope&gt;import&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n&lt;/dependencyManagement&gt;\r\n&lt;dependencies&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\r\n        &lt;artifactId&gt;aws-lambda-java-log4j2&lt;/artifactId&gt;\r\n        &lt;version&gt;1.5.1&lt;/version&gt;\r\n        &lt;scope&gt;runtime&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n        &lt;artifactId&gt;log4j-slf4j2-impl&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n        &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\r\n        &lt;version&gt;2.0.6&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n&lt;/dependencies&gt;\r\n```\r\n\r\nAnd `src/main/resources/log4j2.xml`:\r\n```\r\n&lt;Configuration status=&quot;WARN&quot;&gt;\r\n    &lt;Appenders&gt;\r\n        &lt;Lambda name=&quot;Lambda&quot;&gt;\r\n            &lt;PatternLayout&gt;\r\n                &lt;pattern&gt;%d{yyyy-MM-dd HH:mm:ss} %X{AWSRequestId} %-5p %c{1} - %m%n&lt;/pattern&gt;\r\n            &lt;/PatternLayout&gt;\r\n        &lt;/Lambda&gt;\r\n    &lt;/Appenders&gt;\r\n    &lt;Loggers&gt;\r\n        &lt;Root level=&quot;INFO&quot;&gt;\r\n            &lt;AppenderRef ref=&quot;Lambda&quot;/&gt;\r\n        &lt;/Root&gt;\r\n        &lt;Logger name=&quot;software.amazon.awssdk&quot; level=&quot;WARN&quot;/&gt;\r\n        &lt;Logger name=&quot;software.amazon.awssdk.request&quot; level=&quot;DEBUG&quot;/&gt;\r\n    &lt;/Loggers&gt;\r\n&lt;/Configuration&gt;\r\n```\r\n\r\n\r\n  [1]: https://docs.aws.amazon.com/lambda/latest/dg/java-logging.html#java-logging-log4j2","title":"Logging in AWS Lambda with slf4j","body":"<p>Ever since <a href=\"https://docs.aws.amazon.com/lambda/latest/dg/java-logging.html#java-logging-log4j2\" rel=\"nofollow noreferrer\">the AWS guide</a> has been updated with details on Log4j 2 and SLF4J integration. The code snippets below are based on the guide with slf4j and log4j versions updated to the more recent ones.</p>\n<p><code>pom.xml</code>:</p>\n<pre><code>&lt;dependencyManagement&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n            &lt;artifactId&gt;log4j-bom&lt;/artifactId&gt;\n            &lt;version&gt;2.19.0&lt;/version&gt;\n            &lt;type&gt;pom&lt;/type&gt;\n            &lt;scope&gt;import&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n&lt;/dependencyManagement&gt;\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\n        &lt;artifactId&gt;aws-lambda-java-log4j2&lt;/artifactId&gt;\n        &lt;version&gt;1.5.1&lt;/version&gt;\n        &lt;scope&gt;runtime&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n        &lt;artifactId&gt;log4j-slf4j2-impl&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n        &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\n        &lt;version&gt;2.0.6&lt;/version&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n<p>And <code>src/main/resources/log4j2.xml</code>:</p>\n<pre><code>&lt;Configuration status=&quot;WARN&quot;&gt;\n    &lt;Appenders&gt;\n        &lt;Lambda name=&quot;Lambda&quot;&gt;\n            &lt;PatternLayout&gt;\n                &lt;pattern&gt;%d{yyyy-MM-dd HH:mm:ss} %X{AWSRequestId} %-5p %c{1} - %m%n&lt;/pattern&gt;\n            &lt;/PatternLayout&gt;\n        &lt;/Lambda&gt;\n    &lt;/Appenders&gt;\n    &lt;Loggers&gt;\n        &lt;Root level=&quot;INFO&quot;&gt;\n            &lt;AppenderRef ref=&quot;Lambda&quot;/&gt;\n        &lt;/Root&gt;\n        &lt;Logger name=&quot;software.amazon.awssdk&quot; level=&quot;WARN&quot;/&gt;\n        &lt;Logger name=&quot;software.amazon.awssdk.request&quot; level=&quot;DEBUG&quot;/&gt;\n    &lt;/Loggers&gt;\n&lt;/Configuration&gt;\n</code></pre>\n"}],"owner":{"account_id":6455986,"reputation":3964,"user_id":5001360,"accept_rate":42,"display_name":"chrisrhyno2003"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":37938,"favorite_count":0,"down_vote_count":0,"up_vote_count":29,"accepted_answer_id":46494684,"answer_count":4,"score":29,"last_activity_date":1689269228,"creation_date":1504716127,"question_id":46080448,"body_markdown":"I am using a lambda function and writing it in Java. I was looking up logging for Lambda functions when I read the docs and they support log4j - http://docs.aws.amazon.com/lambda/latest/dg/java-logging.html#java-wt-logging-using-log4j. \r\n\r\nI was wondering if we could use logging using the Slf4j annotation as well since Slf4j is only a binding annotation. Has anybody tried using Slf4j before with lambda? \r\n","title":"Logging in AWS Lambda with slf4j","body":"<p>I am using a lambda function and writing it in Java. I was looking up logging for Lambda functions when I read the docs and they support log4j - <a href=\"http://docs.aws.amazon.com/lambda/latest/dg/java-logging.html#java-wt-logging-using-log4j\" rel=\"noreferrer\">http://docs.aws.amazon.com/lambda/latest/dg/java-logging.html#java-wt-logging-using-log4j</a>. </p>\n\n<p>I was wondering if we could use logging using the Slf4j annotation as well since Slf4j is only a binding annotation. Has anybody tried using Slf4j before with lambda? </p>\n"},{"tags":["java","r","rjava"],"comments":[{"owner":{"account_id":4273426,"reputation":1033,"user_id":3494714,"display_name":"BigFinger"},"score":0,"creation_date":1688910800,"post_id":76631341,"comment_id":135134919,"body_markdown":"First let&#39;s check the Java version(s) you have installed. Could you please post the output of the following command?   /usr/libexec/java_home -V","body":"First let&#39;s check the Java version(s) you have installed. Could you please post the output of the following command?   /usr/libexec/java_home -V"},{"owner":{"account_id":4273426,"reputation":1033,"user_id":3494714,"display_name":"BigFinger"},"score":0,"creation_date":1688912324,"post_id":76631341,"comment_id":135135071,"body_markdown":"Also, you showed the error message, but what produced it? What is the particular command or action that reproduces the error?","body":"Also, you showed the error message, but what produced it? What is the particular command or action that reproduces the error?"},{"owner":{"account_id":8713117,"reputation":441,"user_id":6518696,"display_name":"Gabriella"},"score":0,"creation_date":1689268736,"post_id":76631341,"comment_id":135193108,"body_markdown":"Apologies, I ended up downloading Azul https://www.azul.com/core-post-download/?endpoint=zulu&amp;uuid=cf6e06ec-c897-4b5a-9859-e1c547ff5864, which rectified the issue","body":"Apologies, I ended up downloading Azul <a href=\"https://www.azul.com/core-post-download/?endpoint=zulu&amp;uuid=cf6e06ec-c897-4b5a-9859-e1c547ff5864\" rel=\"nofollow noreferrer\">azul.com/core-post-download/&hellip;</a>, which rectified the issue"}],"answers":[{"tags":[],"owner":{"account_id":8713117,"reputation":441,"user_id":6518696,"display_name":"Gabriella"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1689268750,"creation_date":1689268750,"answer_id":76681872,"question_id":76631341,"body_markdown":"This was rectified by downloading Azul https://www.azul.com/core-post-download/?endpoint=zulu&amp;uuid=cf6e06ec-c897-4b5a-9859-e1c547ff5864","title":"Struggling with rJava and dependent packages in Rstudio Mac M1. Error: package or namespace load failed for ‘rJava’:","body":"<p>This was rectified by downloading Azul <a href=\"https://www.azul.com/core-post-download/?endpoint=zulu&amp;uuid=cf6e06ec-c897-4b5a-9859-e1c547ff5864\" rel=\"nofollow noreferrer\">https://www.azul.com/core-post-download/?endpoint=zulu&amp;uuid=cf6e06ec-c897-4b5a-9859-e1c547ff5864</a></p>\n"}],"owner":{"account_id":8713117,"reputation":441,"user_id":6518696,"display_name":"Gabriella"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"accepted_answer_id":76681872,"answer_count":1,"score":-1,"last_activity_date":1689268750,"creation_date":1688665453,"question_id":76631341,"body_markdown":"I&#39;m really struggling with rJava. I have a new machine (Mac M1) and am running r code from an older project on an old intel Mac, and it isn&#39;t working at all. I am not especially familiar or confident with this, or using the terminal so please bare this in mind when answering :)\r\n\r\nThe error message I am getting is:\r\n\r\n```Error: package or namespace load failed for ‘rJava’:\r\n .onLoad failed in loadNamespace() for &#39;rJava&#39;, details:\r\n  call: dyn.load(jli, FALSE)\r\n  error: unable to load shared object &#39;/Library/Internet Plug-Ins/JavaAppletPlugin.plugin/Contents/Home/lib/jli/libjli.dylib&#39;:\r\n  dlopen(/Library/Internet Plug-Ins/JavaAppletPlugin.plugin/Contents/Home/lib/jli/libjli.dylib, 0x000A): tried: &#39;/Library/Internet Plug-Ins/JavaAppletPlugin.plugin/Contents/Home/lib/jli/libjli.dylib&#39; (mach-o file, but is an incompatible architecture (have &#39;x86_64&#39;, need &#39;arm64&#39;)), &#39;/System/Volumes/Preboot/Cryptexes/OS/Library/Internet Plug-Ins/JavaAppletPlugin.plugin/Contents/Home/lib/jli/libjli.dylib&#39; (no such file), &#39;/Library/Internet Plug-Ins/JavaAppletPlugin.plugin/Contents/Home/lib/jli/libjli.dylib&#39; (mach-o file, but is an incompatible architecture (have &#39;x86_64&#39;, need &#39;arm64&#39;))\r\nI think one issue is that if I run\r\n$/usr/libexec/java_home /usr/libexec/java_home /Library/Internet Plug-Ins/JavaAppletPlugin.plugin/Contents/Home \r\n```\r\nIt thinks java is not in the right place?\r\n\r\nI tried to rectify this by doing:\r\n```JAVA_HOME=/Library/Java/JavaVirtualMachines/jdk-1.8.jdk/Contents/Home ```\r\nbut it doesn&#39;t seem to make a difference.\r\n\r\nGrateful for any advice","title":"Struggling with rJava and dependent packages in Rstudio Mac M1. Error: package or namespace load failed for ‘rJava’:","body":"<p>I'm really struggling with rJava. I have a new machine (Mac M1) and am running r code from an older project on an old intel Mac, and it isn't working at all. I am not especially familiar or confident with this, or using the terminal so please bare this in mind when answering :)</p>\n<p>The error message I am getting is:</p>\n<pre><code> .onLoad failed in loadNamespace() for 'rJava', details:\n  call: dyn.load(jli, FALSE)\n  error: unable to load shared object '/Library/Internet Plug-Ins/JavaAppletPlugin.plugin/Contents/Home/lib/jli/libjli.dylib':\n  dlopen(/Library/Internet Plug-Ins/JavaAppletPlugin.plugin/Contents/Home/lib/jli/libjli.dylib, 0x000A): tried: '/Library/Internet Plug-Ins/JavaAppletPlugin.plugin/Contents/Home/lib/jli/libjli.dylib' (mach-o file, but is an incompatible architecture (have 'x86_64', need 'arm64')), '/System/Volumes/Preboot/Cryptexes/OS/Library/Internet Plug-Ins/JavaAppletPlugin.plugin/Contents/Home/lib/jli/libjli.dylib' (no such file), '/Library/Internet Plug-Ins/JavaAppletPlugin.plugin/Contents/Home/lib/jli/libjli.dylib' (mach-o file, but is an incompatible architecture (have 'x86_64', need 'arm64'))\nI think one issue is that if I run\n$/usr/libexec/java_home /usr/libexec/java_home /Library/Internet Plug-Ins/JavaAppletPlugin.plugin/Contents/Home \n</code></pre>\n<p>It thinks java is not in the right place?</p>\n<p>I tried to rectify this by doing:\n<code>JAVA_HOME=/Library/Java/JavaVirtualMachines/jdk-1.8.jdk/Contents/Home </code>\nbut it doesn't seem to make a difference.</p>\n<p>Grateful for any advice</p>\n"},{"tags":["java","maven","log4j2"],"answers":[{"tags":[],"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679983455,"creation_date":1679907650,"answer_id":75853861,"question_id":75838785,"body_markdown":"Your problem is a variation of the recurrent &quot;Maven Shade Plugin breaks Log4j2&quot; problem (cf. [this SO question](https://stackoverflow.com/q/67230924/11748454) or [this Github question](https://github.com/apache/logging-log4j2/issues/1386)).\r\n\r\nThis is caused by this configuration snippet:\r\n\r\n```lang-xml\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\r\n                ...\r\n                &lt;configuration&gt;\r\n                    &lt;filters&gt;\r\n                        &lt;filter&gt;\r\n                            &lt;artifact&gt;*:*&lt;/artifact&gt;\r\n                            &lt;excludes&gt;\r\n                                &lt;exclude&gt;**/Log4j2Plugins.dat&lt;/exclude&gt;\r\n                            &lt;/excludes&gt;\r\n                        &lt;/filter&gt;\r\n                    &lt;/filters&gt;\r\n                &lt;/configuration&gt;\r\n                ...\r\n            &lt;/plugin&gt;\r\n```\r\nAlthough this &quot;solution&quot; often appears in SO answers, it **breaks** the main (and fastest) plugin detection mechanism used by Log4j 2.x. This causes Log4j 2.x to _fall back_ onto a (much slower) package scanning mechanism that detects **only** the plugins in `log4j-core`. That is why `JsonTemplateLayout` is not detected.\r\n\r\n**Solution (edited):** Since you are using `spring-boot-starter-parent` as project&#39;s parent, just **drop** the `maven-shade-plugin`  and add the `spring-boot-maven-plugin` to the build:\r\n\r\n```lang-xml\r\n&lt;plugin&gt;\r\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n&lt;/plugin&gt;\r\n```\r\n\r\nThe [`spring-boot-maven-plugin`](https://docs.spring.io/spring-boot/docs/current/maven-plugin/reference/htmlsingle/) configuration you inherit from the parent POM performs the same job as the `maven-shade-plugin` but **does** not break apart dependency JARs (cf. [executable JAR format](https://docs.spring.io/spring-boot/docs/current/reference/html/executable-jar.html#appendix.executable-jar.nested-jars.jar-structure)).","title":"Console contains an invalid element or attribute &quot;JsonTemplateLayout&quot; even after adding dependency","body":"<p>Your problem is a variation of the recurrent &quot;Maven Shade Plugin breaks Log4j2&quot; problem (cf. <a href=\"https://stackoverflow.com/q/67230924/11748454\">this SO question</a> or <a href=\"https://github.com/apache/logging-log4j2/issues/1386\" rel=\"nofollow noreferrer\">this Github question</a>).</p>\n<p>This is caused by this configuration snippet:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\n                ...\n                &lt;configuration&gt;\n                    &lt;filters&gt;\n                        &lt;filter&gt;\n                            &lt;artifact&gt;*:*&lt;/artifact&gt;\n                            &lt;excludes&gt;\n                                &lt;exclude&gt;**/Log4j2Plugins.dat&lt;/exclude&gt;\n                            &lt;/excludes&gt;\n                        &lt;/filter&gt;\n                    &lt;/filters&gt;\n                &lt;/configuration&gt;\n                ...\n            &lt;/plugin&gt;\n</code></pre>\n<p>Although this &quot;solution&quot; often appears in SO answers, it <strong>breaks</strong> the main (and fastest) plugin detection mechanism used by Log4j 2.x. This causes Log4j 2.x to <em>fall back</em> onto a (much slower) package scanning mechanism that detects <strong>only</strong> the plugins in <code>log4j-core</code>. That is why <code>JsonTemplateLayout</code> is not detected.</p>\n<p><strong>Solution (edited):</strong> Since you are using <code>spring-boot-starter-parent</code> as project's parent, just <strong>drop</strong> the <code>maven-shade-plugin</code>  and add the <code>spring-boot-maven-plugin</code> to the build:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>The <a href=\"https://docs.spring.io/spring-boot/docs/current/maven-plugin/reference/htmlsingle/\" rel=\"nofollow noreferrer\"><code>spring-boot-maven-plugin</code></a> configuration you inherit from the parent POM performs the same job as the <code>maven-shade-plugin</code> but <strong>does</strong> not break apart dependency JARs (cf. <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/executable-jar.html#appendix.executable-jar.nested-jars.jar-structure\" rel=\"nofollow noreferrer\">executable JAR format</a>).</p>\n"},{"tags":[],"owner":{"account_id":6442492,"reputation":335,"user_id":4992072,"display_name":"Rhineb"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689268453,"creation_date":1689267295,"answer_id":76681723,"question_id":75838785,"body_markdown":"So the answer by Piotr P. Karwasz is not necessarily wrong but I would say is incomplete as far as what needs to be corrected. It is more a statement of what is wrong or highly specific to Spring than what is necessary to fix the issue. He is correct in saying that using shadowJar and log4j2 does not work correctly and falls back to a much simpler version of logging and while adding in the `&lt;exclude&gt;**/Log4j2Plugins.dat&lt;/exclude&gt;` does change the operation is not sufficient to correct the issue.\r\n\r\n**Fixing the issue in Gradle**\r\n\r\nIf you are using a gradle build in the main `build.gradle` add the following import\r\n```\r\nimport com.github.jengelman.gradle.plugins.shadow.transformers.Log4j2PluginsCacheFileTransformer\r\n```\r\nand update your shadowJar block as follows\r\n```\r\nshadowJar {\r\n    transform(Log4j2PluginsCacheFileTransformer)\r\n}\r\n```\r\nMy understanding is this is more or less performing the same task as the previously discussed `exclude` but with some additional corrective action.\r\n\r\nThe original post that helped me understand this is [here][1].\r\n\r\n***Note: It is important that the `shadowJar` block is in the &quot;main&quot; `build.gradle` file. For some reason if you try to place this in a sub `*.gradle` file and apply it to the main build the import does not work correctly and the transform will not be applied***\r\n\r\n**Fixing the issue in Maven**\r\n\r\nI have not personally tested this way but you can find discussion on how to do the same in maven [here][2] (this also discusses the above solution). In this case add the following imports\r\n```\r\n&lt;dependencies&gt;\r\n  ...\r\n  &lt;dependency&gt;\r\n    &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\r\n    &lt;artifactId&gt;aws-lambda-java-log4j2&lt;/artifactId&gt;\r\n    &lt;version&gt;1.5.1&lt;/version&gt;\r\n  &lt;/dependency&gt;\r\n  &lt;dependency&gt;\r\n    &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n    &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\r\n    &lt;version&gt;2.17.1&lt;/version&gt;\r\n  &lt;/dependency&gt;\r\n  &lt;dependency&gt;\r\n    &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n    &lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\r\n    &lt;version&gt;2.17.1&lt;/version&gt;\r\n  &lt;/dependency&gt;\r\n  ....\r\n&lt;/dependencies&gt;\r\n```\r\nand add the following transformation\r\n```\r\n&lt;plugins&gt;\r\n  ...\r\n  &lt;plugin&gt;\r\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\r\n    &lt;version&gt;2.4.3&lt;/version&gt;\r\n    &lt;executions&gt;\r\n      &lt;execution&gt;\r\n        &lt;phase&gt;package&lt;/phase&gt;\r\n        &lt;goals&gt;\r\n          &lt;goal&gt;shade&lt;/goal&gt;\r\n        &lt;/goals&gt;\r\n        &lt;configuration&gt;\r\n          &lt;transformers&gt;\r\n            &lt;transformer\r\n                    implementation=&quot;com.github.edwgiz.mavenShadePlugin.log4j2CacheTransformer.PluginsCacheFileTransformer&quot;&gt;\r\n            &lt;/transformer&gt;\r\n          &lt;/transformers&gt;\r\n        &lt;/configuration&gt;\r\n      &lt;/execution&gt;\r\n    &lt;/executions&gt;\r\n    &lt;dependencies&gt;\r\n      &lt;dependency&gt;\r\n        &lt;groupId&gt;com.github.edwgiz&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-shade-plugin.log4j2-cachefile-transformer&lt;/artifactId&gt;\r\n        &lt;version&gt;2.8.1&lt;/version&gt;\r\n      &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n  &lt;/plugin&gt;\r\n  ...\r\n&lt;/plugins&gt;\r\n```\r\n\r\nOther related posts\r\n- https://stackoverflow.com/questions/49973441/logging-using-log4j2-on-aws-lambda-class-not-found/76681833#76681833\r\n\r\n  [1]: https://stackoverflow.com/questions/71458136/log4j-jsontemplatelayout-doesnt-work-when-jar-file-built-by-shadowjar\r\n  [2]: https://github.com/aws/aws-lambda-java-libs/blob/main/aws-lambda-java-log4j2/README.md","title":"Console contains an invalid element or attribute &quot;JsonTemplateLayout&quot; even after adding dependency","body":"<p>So the answer by Piotr P. Karwasz is not necessarily wrong but I would say is incomplete as far as what needs to be corrected. It is more a statement of what is wrong or highly specific to Spring than what is necessary to fix the issue. He is correct in saying that using shadowJar and log4j2 does not work correctly and falls back to a much simpler version of logging and while adding in the <code>&lt;exclude&gt;**/Log4j2Plugins.dat&lt;/exclude&gt;</code> does change the operation is not sufficient to correct the issue.</p>\n<p><strong>Fixing the issue in Gradle</strong></p>\n<p>If you are using a gradle build in the main <code>build.gradle</code> add the following import</p>\n<pre><code>import com.github.jengelman.gradle.plugins.shadow.transformers.Log4j2PluginsCacheFileTransformer\n</code></pre>\n<p>and update your shadowJar block as follows</p>\n<pre><code>shadowJar {\n    transform(Log4j2PluginsCacheFileTransformer)\n}\n</code></pre>\n<p>My understanding is this is more or less performing the same task as the previously discussed <code>exclude</code> but with some additional corrective action.</p>\n<p>The original post that helped me understand this is <a href=\"https://stackoverflow.com/questions/71458136/log4j-jsontemplatelayout-doesnt-work-when-jar-file-built-by-shadowjar\">here</a>.</p>\n<p><em><strong>Note: It is important that the <code>shadowJar</code> block is in the &quot;main&quot; <code>build.gradle</code> file. For some reason if you try to place this in a sub <code>*.gradle</code> file and apply it to the main build the import does not work correctly and the transform will not be applied</strong></em></p>\n<p><strong>Fixing the issue in Maven</strong></p>\n<p>I have not personally tested this way but you can find discussion on how to do the same in maven <a href=\"https://github.com/aws/aws-lambda-java-libs/blob/main/aws-lambda-java-log4j2/README.md\" rel=\"nofollow noreferrer\">here</a> (this also discusses the above solution). In this case add the following imports</p>\n<pre><code>&lt;dependencies&gt;\n  ...\n  &lt;dependency&gt;\n    &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\n    &lt;artifactId&gt;aws-lambda-java-log4j2&lt;/artifactId&gt;\n    &lt;version&gt;1.5.1&lt;/version&gt;\n  &lt;/dependency&gt;\n  &lt;dependency&gt;\n    &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n    &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\n    &lt;version&gt;2.17.1&lt;/version&gt;\n  &lt;/dependency&gt;\n  &lt;dependency&gt;\n    &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n    &lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\n    &lt;version&gt;2.17.1&lt;/version&gt;\n  &lt;/dependency&gt;\n  ....\n&lt;/dependencies&gt;\n</code></pre>\n<p>and add the following transformation</p>\n<pre><code>&lt;plugins&gt;\n  ...\n  &lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\n    &lt;version&gt;2.4.3&lt;/version&gt;\n    &lt;executions&gt;\n      &lt;execution&gt;\n        &lt;phase&gt;package&lt;/phase&gt;\n        &lt;goals&gt;\n          &lt;goal&gt;shade&lt;/goal&gt;\n        &lt;/goals&gt;\n        &lt;configuration&gt;\n          &lt;transformers&gt;\n            &lt;transformer\n                    implementation=&quot;com.github.edwgiz.mavenShadePlugin.log4j2CacheTransformer.PluginsCacheFileTransformer&quot;&gt;\n            &lt;/transformer&gt;\n          &lt;/transformers&gt;\n        &lt;/configuration&gt;\n      &lt;/execution&gt;\n    &lt;/executions&gt;\n    &lt;dependencies&gt;\n      &lt;dependency&gt;\n        &lt;groupId&gt;com.github.edwgiz&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-shade-plugin.log4j2-cachefile-transformer&lt;/artifactId&gt;\n        &lt;version&gt;2.8.1&lt;/version&gt;\n      &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n  &lt;/plugin&gt;\n  ...\n&lt;/plugins&gt;\n</code></pre>\n<p>Other related posts</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/49973441/logging-using-log4j2-on-aws-lambda-class-not-found/76681833#76681833\">Logging using Log4J2 on aws lambda - Class not found</a></li>\n</ul>\n"}],"owner":{"account_id":5555543,"reputation":79,"user_id":4407043,"accept_rate":33,"display_name":"Vaibhav Dhore"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1605,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1689268453,"creation_date":1679699889,"question_id":75838785,"body_markdown":"Below is my log4j.xml\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;Configuration&gt;\r\n    &lt;Appenders&gt;\r\n        &lt;Console name=&quot;JsonAppender&quot; target=&quot;SYSTEM_OUT&quot;&gt;\r\n            &lt;JsonTemplateLayout eventTemplateUri=&quot;classpath:LambdaJsonLayout.json&quot; /&gt;\r\n        &lt;/Console&gt;\r\n    &lt;/Appenders&gt;\r\n    &lt;Loggers&gt;\r\n        &lt;Logger name=&quot;JsonLogger&quot; level=&quot;INFO&quot; additivity=&quot;false&quot;&gt;\r\n            &lt;AppenderRef ref=&quot;JsonAppender&quot;/&gt;\r\n        &lt;/Logger&gt;\r\n        &lt;Root level=&quot;info&quot;&gt;\r\n            &lt;AppenderRef ref=&quot;JsonAppender&quot;/&gt;\r\n        &lt;/Root&gt;\r\n    &lt;/Loggers&gt;\r\n&lt;/Configuration&gt;\r\n```\r\nand below is my pom.xml. I have added the log4j-layout-template-json dependency and tried the different versions. It works fine locally, however when deployed to lambda, the cloudwatch error shows **Console contains an invalid element or attribute &quot;JsonTemplateLayout&quot;**. Appreciate any help.\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;2.7.7&lt;/version&gt;\r\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    &lt;/parent&gt;\r\n    &lt;version&gt;1.0.3&lt;/version&gt;\r\n    &lt;name&gt;ServiceLambda&lt;/name&gt;\r\n    &lt;description&gt;Service Lambda&lt;/description&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;java.version&gt;11&lt;/java.version&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\r\n        &lt;log4j.version&gt;2.19.0&lt;/log4j.version&gt;\r\n        &lt;aws.powertools.version&gt;1.12.2&lt;/aws.powertools.version&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;!-- Exclude Spring Boot&#39;s Default Logging --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\r\n            &lt;exclusions&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;spring-boot-starter-logging&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n            &lt;/exclusions&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!-- Add Log4j2 Dependency --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-log4j2&lt;/artifactId&gt;\r\n            &lt;version&gt;2.6.6&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;software.amazon.lambda&lt;/groupId&gt;\r\n            &lt;artifactId&gt;powertools-logging&lt;/artifactId&gt;\r\n            &lt;version&gt;${aws.powertools.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;software.amazon.lambda&lt;/groupId&gt;\r\n            &lt;artifactId&gt;powertools-sqs&lt;/artifactId&gt;\r\n            &lt;version&gt;${aws.powertools.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.github.crac&lt;/groupId&gt;\r\n            &lt;artifactId&gt;org-crac&lt;/artifactId&gt;\r\n            &lt;version&gt;0.1.3&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.amazonaws.serverless&lt;/groupId&gt;\r\n            &lt;artifactId&gt;aws-serverless-java-container-springboot2&lt;/artifactId&gt;\r\n            &lt;version&gt;1.9&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;software.amazon.awssdk&lt;/groupId&gt;\r\n            &lt;artifactId&gt;dynamodb&lt;/artifactId&gt;\r\n            &lt;version&gt;2.17.292&lt;/version&gt;\r\n            &lt;exclusions&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;software.amazon.awssdk&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;netty-nio-client&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;software.amazon.awssdk&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;apache-client&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n            &lt;/exclusions&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;software.amazon.awssdk&lt;/groupId&gt;\r\n            &lt;artifactId&gt;aws-crt-client&lt;/artifactId&gt;\r\n            &lt;version&gt;2.17.282-PREVIEW&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\r\n            &lt;version&gt;${log4j.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\r\n            &lt;version&gt;${log4j.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;log4j-layout-template-json&lt;/artifactId&gt;\r\n            &lt;version&gt;2.18.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!-- OpenAPI docs --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\r\n            &lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;\r\n            &lt;version&gt;1.6.14&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!-- Test dependencies --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-jupiter&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.4.0&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;createDependencyReducedPom&gt;false&lt;/createDependencyReducedPom&gt;\r\n                    &lt;filters&gt;\r\n                        &lt;filter&gt;\r\n                            &lt;artifact&gt;*:*&lt;/artifact&gt;\r\n                            &lt;excludes&gt;\r\n                                &lt;exclude&gt;**/Log4j2Plugins.dat&lt;/exclude&gt;\r\n                            &lt;/excludes&gt;\r\n                        &lt;/filter&gt;\r\n                    &lt;/filters&gt;\r\n                &lt;/configuration&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;phase&gt;package&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;shade&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;artifactSet&gt;\r\n                                &lt;excludes&gt;\r\n                                    &lt;exclude&gt;org.apache.tomcat.embed:*&lt;/exclude&gt;\r\n                                &lt;/excludes&gt;\r\n                            &lt;/artifactSet&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n                &lt;artifactId&gt;aspectj-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;1.14.0&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;source&gt;1.8&lt;/source&gt;\r\n                    &lt;target&gt;1.8&lt;/target&gt;\r\n                    &lt;complianceLevel&gt;1.8&lt;/complianceLevel&gt;\r\n                    &lt;aspectLibraries&gt;\r\n                        &lt;aspectLibrary&gt;\r\n                            &lt;groupId&gt;software.amazon.lambda&lt;/groupId&gt;\r\n                            &lt;artifactId&gt;powertools-logging&lt;/artifactId&gt;\r\n                        &lt;/aspectLibrary&gt;\r\n                        &lt;aspectLibrary&gt;\r\n                            &lt;groupId&gt;software.amazon.lambda&lt;/groupId&gt;\r\n                            &lt;artifactId&gt;powertools-sqs&lt;/artifactId&gt;\r\n                        &lt;/aspectLibrary&gt;\r\n                    &lt;/aspectLibraries&gt;\r\n                &lt;/configuration&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;compile&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/3WiGp.png","title":"Console contains an invalid element or attribute &quot;JsonTemplateLayout&quot; even after adding dependency","body":"<p>Below is my log4j.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;Configuration&gt;\n    &lt;Appenders&gt;\n        &lt;Console name=&quot;JsonAppender&quot; target=&quot;SYSTEM_OUT&quot;&gt;\n            &lt;JsonTemplateLayout eventTemplateUri=&quot;classpath:LambdaJsonLayout.json&quot; /&gt;\n        &lt;/Console&gt;\n    &lt;/Appenders&gt;\n    &lt;Loggers&gt;\n        &lt;Logger name=&quot;JsonLogger&quot; level=&quot;INFO&quot; additivity=&quot;false&quot;&gt;\n            &lt;AppenderRef ref=&quot;JsonAppender&quot;/&gt;\n        &lt;/Logger&gt;\n        &lt;Root level=&quot;info&quot;&gt;\n            &lt;AppenderRef ref=&quot;JsonAppender&quot;/&gt;\n        &lt;/Root&gt;\n    &lt;/Loggers&gt;\n&lt;/Configuration&gt;\n</code></pre>\n<p>and below is my pom.xml. I have added the log4j-layout-template-json dependency and tried the different versions. It works fine locally, however when deployed to lambda, the cloudwatch error shows <strong>Console contains an invalid element or attribute &quot;JsonTemplateLayout&quot;</strong>. Appreciate any help.</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.7.7&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;version&gt;1.0.3&lt;/version&gt;\n    &lt;name&gt;ServiceLambda&lt;/name&gt;\n    &lt;description&gt;Service Lambda&lt;/description&gt;\n\n    &lt;properties&gt;\n        &lt;java.version&gt;11&lt;/java.version&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\n        &lt;log4j.version&gt;2.19.0&lt;/log4j.version&gt;\n        &lt;aws.powertools.version&gt;1.12.2&lt;/aws.powertools.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;!-- Exclude Spring Boot's Default Logging --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                    &lt;artifactId&gt;spring-boot-starter-logging&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- Add Log4j2 Dependency --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-log4j2&lt;/artifactId&gt;\n            &lt;version&gt;2.6.6&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;software.amazon.lambda&lt;/groupId&gt;\n            &lt;artifactId&gt;powertools-logging&lt;/artifactId&gt;\n            &lt;version&gt;${aws.powertools.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;software.amazon.lambda&lt;/groupId&gt;\n            &lt;artifactId&gt;powertools-sqs&lt;/artifactId&gt;\n            &lt;version&gt;${aws.powertools.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.github.crac&lt;/groupId&gt;\n            &lt;artifactId&gt;org-crac&lt;/artifactId&gt;\n            &lt;version&gt;0.1.3&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.amazonaws.serverless&lt;/groupId&gt;\n            &lt;artifactId&gt;aws-serverless-java-container-springboot2&lt;/artifactId&gt;\n            &lt;version&gt;1.9&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;software.amazon.awssdk&lt;/groupId&gt;\n            &lt;artifactId&gt;dynamodb&lt;/artifactId&gt;\n            &lt;version&gt;2.17.292&lt;/version&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;software.amazon.awssdk&lt;/groupId&gt;\n                    &lt;artifactId&gt;netty-nio-client&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;software.amazon.awssdk&lt;/groupId&gt;\n                    &lt;artifactId&gt;apache-client&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;software.amazon.awssdk&lt;/groupId&gt;\n            &lt;artifactId&gt;aws-crt-client&lt;/artifactId&gt;\n            &lt;version&gt;2.17.282-PREVIEW&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n            &lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\n            &lt;version&gt;${log4j.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n            &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\n            &lt;version&gt;${log4j.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n            &lt;artifactId&gt;log4j-layout-template-json&lt;/artifactId&gt;\n            &lt;version&gt;2.18.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- OpenAPI docs --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\n            &lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;\n            &lt;version&gt;1.6.14&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- Test dependencies --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-jupiter&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.4.0&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;createDependencyReducedPom&gt;false&lt;/createDependencyReducedPom&gt;\n                    &lt;filters&gt;\n                        &lt;filter&gt;\n                            &lt;artifact&gt;*:*&lt;/artifact&gt;\n                            &lt;excludes&gt;\n                                &lt;exclude&gt;**/Log4j2Plugins.dat&lt;/exclude&gt;\n                            &lt;/excludes&gt;\n                        &lt;/filter&gt;\n                    &lt;/filters&gt;\n                &lt;/configuration&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;phase&gt;package&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;shade&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;artifactSet&gt;\n                                &lt;excludes&gt;\n                                    &lt;exclude&gt;org.apache.tomcat.embed:*&lt;/exclude&gt;\n                                &lt;/excludes&gt;\n                            &lt;/artifactSet&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n                &lt;artifactId&gt;aspectj-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;1.14.0&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;1.8&lt;/source&gt;\n                    &lt;target&gt;1.8&lt;/target&gt;\n                    &lt;complianceLevel&gt;1.8&lt;/complianceLevel&gt;\n                    &lt;aspectLibraries&gt;\n                        &lt;aspectLibrary&gt;\n                            &lt;groupId&gt;software.amazon.lambda&lt;/groupId&gt;\n                            &lt;artifactId&gt;powertools-logging&lt;/artifactId&gt;\n                        &lt;/aspectLibrary&gt;\n                        &lt;aspectLibrary&gt;\n                            &lt;groupId&gt;software.amazon.lambda&lt;/groupId&gt;\n                            &lt;artifactId&gt;powertools-sqs&lt;/artifactId&gt;\n                        &lt;/aspectLibrary&gt;\n                    &lt;/aspectLibraries&gt;\n                &lt;/configuration&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;compile&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/3WiGp.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/3WiGp.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","amazon-web-services","aws-lambda","log4j2"],"answers":[{"tags":[],"owner":{"account_id":2345911,"reputation":1174,"user_id":2056182,"accept_rate":88,"display_name":"Karl"},"down_vote_count":0,"up_vote_count":34,"is_accepted":true,"score":34,"last_activity_date":1664837046,"creation_date":1524458259,"answer_id":49973486,"question_id":49973441,"body_markdown":"I also had this problem. It turns out that there is a typo bug in the AWS example documentation.\r\n\r\nThe `packages` in the `&lt;Configuration ..` tag is wrong.\r\n\r\nAccording to the log4j [plugin configuration docs][1] the `packages` parameter is a package not a class.\r\n\r\nSo modify your log4j2.xml configuration to be...\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;Configuration packages=&quot;com.amazonaws.services.lambda.runtime.log4j2&quot;&gt;\r\n      &lt;Appenders&gt;\r\n        &lt;Lambda name=&quot;Lambda&quot;&gt;\r\n          &lt;PatternLayout&gt;\r\n              &lt;pattern&gt;%d{yyyy-MM-dd HH:mm:ss} %X{AWSRequestId} %-5p %c{1}:%L - %m%n&lt;/pattern&gt;\r\n          &lt;/PatternLayout&gt;\r\n        &lt;/Lambda&gt;\r\n      &lt;/Appenders&gt;\r\n      &lt;Loggers&gt;\r\n        &lt;Root level=&quot;debug&quot;&gt;\r\n          &lt;AppenderRef ref=&quot;Lambda&quot; /&gt;\r\n        &lt;/Root&gt;\r\n      &lt;/Loggers&gt;\r\n    &lt;/Configuration&gt;\r\n\r\n\r\n\r\n  [1]: https://logging.apache.org/log4j/log4j-2.1/manual/configuration.html#ConfigurationSyntax","title":"Logging using Log4J2 on aws lambda - Class not found","body":"<p>I also had this problem. It turns out that there is a typo bug in the AWS example documentation.</p>\n<p>The <code>packages</code> in the <code>&lt;Configuration ..</code> tag is wrong.</p>\n<p>According to the log4j <a href=\"https://logging.apache.org/log4j/log4j-2.1/manual/configuration.html#ConfigurationSyntax\" rel=\"nofollow noreferrer\">plugin configuration docs</a> the <code>packages</code> parameter is a package not a class.</p>\n<p>So modify your log4j2.xml configuration to be...</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;Configuration packages=&quot;com.amazonaws.services.lambda.runtime.log4j2&quot;&gt;\n  &lt;Appenders&gt;\n    &lt;Lambda name=&quot;Lambda&quot;&gt;\n      &lt;PatternLayout&gt;\n          &lt;pattern&gt;%d{yyyy-MM-dd HH:mm:ss} %X{AWSRequestId} %-5p %c{1}:%L - %m%n&lt;/pattern&gt;\n      &lt;/PatternLayout&gt;\n    &lt;/Lambda&gt;\n  &lt;/Appenders&gt;\n  &lt;Loggers&gt;\n    &lt;Root level=&quot;debug&quot;&gt;\n      &lt;AppenderRef ref=&quot;Lambda&quot; /&gt;\n    &lt;/Root&gt;\n  &lt;/Loggers&gt;\n&lt;/Configuration&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4935211,"reputation":851,"user_id":10477323,"display_name":"TheCoolDrop"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676358968,"creation_date":1676358968,"answer_id":75444501,"question_id":49973441,"body_markdown":"Despite there already being an accepted answer there is a different solution. If you are using AWS Lambda logging with Log4j and have following dependency\r\n\r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\r\n    &lt;artifactId&gt;aws-lambda-java-log4j2&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n``` \r\n\r\nand are using Maven shade plugin, then you must configure the Maven shade plugin as follows:\r\n\r\n```xml\r\n&lt;plugins&gt;\r\n  ...\r\n  &lt;plugin&gt;\r\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\r\n    &lt;version&gt;2.4.3&lt;/version&gt;\r\n    &lt;executions&gt;\r\n      &lt;execution&gt;\r\n        &lt;phase&gt;package&lt;/phase&gt;\r\n        &lt;goals&gt;\r\n          &lt;goal&gt;shade&lt;/goal&gt;\r\n        &lt;/goals&gt;\r\n        &lt;configuration&gt;\r\n          &lt;transformers&gt;\r\n            &lt;transformer\r\n                    implementation=&quot;com.github.edwgiz.mavenShadePlugin.log4j2CacheTransformer.PluginsCacheFileTransformer&quot;&gt;\r\n            &lt;/transformer&gt;\r\n          &lt;/transformers&gt;\r\n        &lt;/configuration&gt;\r\n      &lt;/execution&gt;\r\n    &lt;/executions&gt;\r\n    &lt;dependencies&gt;\r\n      &lt;dependency&gt;\r\n        &lt;groupId&gt;com.github.edwgiz&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-shade-plugin.log4j2-cachefile-transformer&lt;/artifactId&gt;\r\n        &lt;version&gt;2.8.1&lt;/version&gt;\r\n      &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n  &lt;/plugin&gt;\r\n  ...\r\n&lt;/plugins&gt;\r\n```\r\n\r\nThe reason for that is that there are open issues in Log4j2, which prevents loading of Log4j plugins when using Maven shading.\r\n\r\nMore details in following sites:\r\n\r\n - https://github.com/aws/aws-lambda-java-libs/tree/main/aws-lambda-java-log4j2\r\n - https://github.com/edwgiz/maven-shaded-log4j-transformer\r\n - https://issues.apache.org/jira/browse/LOG4J2-673\r\n - https://issues.apache.org/jira/browse/LOG4J2-954\r\n","title":"Logging using Log4J2 on aws lambda - Class not found","body":"<p>Despite there already being an accepted answer there is a different solution. If you are using AWS Lambda logging with Log4j and have following dependency</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\n    &lt;artifactId&gt;aws-lambda-java-log4j2&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>and are using Maven shade plugin, then you must configure the Maven shade plugin as follows:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;plugins&gt;\n  ...\n  &lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\n    &lt;version&gt;2.4.3&lt;/version&gt;\n    &lt;executions&gt;\n      &lt;execution&gt;\n        &lt;phase&gt;package&lt;/phase&gt;\n        &lt;goals&gt;\n          &lt;goal&gt;shade&lt;/goal&gt;\n        &lt;/goals&gt;\n        &lt;configuration&gt;\n          &lt;transformers&gt;\n            &lt;transformer\n                    implementation=&quot;com.github.edwgiz.mavenShadePlugin.log4j2CacheTransformer.PluginsCacheFileTransformer&quot;&gt;\n            &lt;/transformer&gt;\n          &lt;/transformers&gt;\n        &lt;/configuration&gt;\n      &lt;/execution&gt;\n    &lt;/executions&gt;\n    &lt;dependencies&gt;\n      &lt;dependency&gt;\n        &lt;groupId&gt;com.github.edwgiz&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-shade-plugin.log4j2-cachefile-transformer&lt;/artifactId&gt;\n        &lt;version&gt;2.8.1&lt;/version&gt;\n      &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n  &lt;/plugin&gt;\n  ...\n&lt;/plugins&gt;\n</code></pre>\n<p>The reason for that is that there are open issues in Log4j2, which prevents loading of Log4j plugins when using Maven shading.</p>\n<p>More details in following sites:</p>\n<ul>\n<li><a href=\"https://github.com/aws/aws-lambda-java-libs/tree/main/aws-lambda-java-log4j2\" rel=\"nofollow noreferrer\">https://github.com/aws/aws-lambda-java-libs/tree/main/aws-lambda-java-log4j2</a></li>\n<li><a href=\"https://github.com/edwgiz/maven-shaded-log4j-transformer\" rel=\"nofollow noreferrer\">https://github.com/edwgiz/maven-shaded-log4j-transformer</a></li>\n<li><a href=\"https://issues.apache.org/jira/browse/LOG4J2-673\" rel=\"nofollow noreferrer\">https://issues.apache.org/jira/browse/LOG4J2-673</a></li>\n<li><a href=\"https://issues.apache.org/jira/browse/LOG4J2-954\" rel=\"nofollow noreferrer\">https://issues.apache.org/jira/browse/LOG4J2-954</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":6442492,"reputation":335,"user_id":4992072,"display_name":"Rhineb"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689268387,"creation_date":1689268387,"answer_id":76681833,"question_id":49973441,"body_markdown":"To try to tie all of these posts together and require less digging @TheCoolDrop has the real answer here. I tried the accepted answer fix of the package name being wrong and saw some folks complaining the doc was never updated but I don&#39;t think that fix works and I think the doc is correct and the package declaration is not necessary.\r\n\r\nThis question is for lambda which requires using shadowJar (or a shaded jar) which does not play nice with log4j2. It is a known (albeit somewhat hard to find / determine) issue. One of the reasons it is so hard to understand is that your logging config just doesn&#39;t work, no errors, and you still get logs ... just not what you are expecting. \r\n\r\nAgain @TheCoolDrop I believe has the real solution above but you can also see the following.\r\n- https://stackoverflow.com/questions/75838785/console-contains-an-invalid-element-or-attribute-jsontemplatelayout-even-after/76681723#76681723\r\n     - Has a full answer of how to do the transform for both maven and gradle\r\n- https://stackoverflow.com/questions/71458136/log4j-jsontemplatelayout-doesnt-work-when-jar-file-built-by-shadowjar\r\n     - Original post that finally clued me in\r\n- https://stackoverflow.com/questions/74739764/how-correctly-log-aws-lambda-event-with-lambda-powertools/76681756#76681756\r\n     - If your using powertools which uses log4j2\r\n- https://github.com/aws/aws-lambda-java-libs/blob/main/aws-lambda-java-log4j2/README.md\r\n","title":"Logging using Log4J2 on aws lambda - Class not found","body":"<p>To try to tie all of these posts together and require less digging @TheCoolDrop has the real answer here. I tried the accepted answer fix of the package name being wrong and saw some folks complaining the doc was never updated but I don't think that fix works and I think the doc is correct and the package declaration is not necessary.</p>\n<p>This question is for lambda which requires using shadowJar (or a shaded jar) which does not play nice with log4j2. It is a known (albeit somewhat hard to find / determine) issue. One of the reasons it is so hard to understand is that your logging config just doesn't work, no errors, and you still get logs ... just not what you are expecting.</p>\n<p>Again @TheCoolDrop I believe has the real solution above but you can also see the following.</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/75838785/console-contains-an-invalid-element-or-attribute-jsontemplatelayout-even-after/76681723#76681723\">Console contains an invalid element or attribute &quot;JsonTemplateLayout&quot; even after adding dependency</a>\n<ul>\n<li>Has a full answer of how to do the transform for both maven and gradle</li>\n</ul>\n</li>\n<li><a href=\"https://stackoverflow.com/questions/71458136/log4j-jsontemplatelayout-doesnt-work-when-jar-file-built-by-shadowjar\">log4j JsonTemplateLayout doesn&#39;t work when jar file built by shadowJar</a>\n<ul>\n<li>Original post that finally clued me in</li>\n</ul>\n</li>\n<li><a href=\"https://stackoverflow.com/questions/74739764/how-correctly-log-aws-lambda-event-with-lambda-powertools/76681756#76681756\">How correctly log AWS Lambda event with lambda powertools</a>\n<ul>\n<li>If your using powertools which uses log4j2</li>\n</ul>\n</li>\n<li><a href=\"https://github.com/aws/aws-lambda-java-libs/blob/main/aws-lambda-java-log4j2/README.md\" rel=\"nofollow noreferrer\">https://github.com/aws/aws-lambda-java-libs/blob/main/aws-lambda-java-log4j2/README.md</a></li>\n</ul>\n"}],"owner":{"account_id":1849503,"reputation":1361,"user_id":1808048,"display_name":"dvanrensburg"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16354,"favorite_count":0,"down_vote_count":0,"up_vote_count":20,"accepted_answer_id":49973486,"answer_count":3,"score":20,"last_activity_date":1689268387,"creation_date":1524457838,"question_id":49973441,"body_markdown":"I am trying to use Log4J2 logging as described here in the AWS docs:\r\n\r\nhttps://docs.aws.amazon.com/lambda/latest/dg/java-logging.html#java-wt-logging-using-log4j2.8\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;Configuration packages=&quot;com.amazonaws.services.lambda.runtime.log4j2.LambdaAppender&quot;&gt;\r\n      &lt;Appenders&gt;\r\n        &lt;Lambda name=&quot;Lambda&quot;&gt;\r\n          &lt;PatternLayout&gt;\r\n              &lt;pattern&gt;%d{yyyy-MM-dd HH:mm:ss} %X{AWSRequestId} %-5p %c{1}:%L - %m%n&lt;/pattern&gt;\r\n          &lt;/PatternLayout&gt;\r\n        &lt;/Lambda&gt;\r\n      &lt;/Appenders&gt;\r\n      &lt;Loggers&gt;\r\n        &lt;Root level=&quot;debug&quot;&gt;\r\n          &lt;AppenderRef ref=&quot;Lambda&quot; /&gt;\r\n        &lt;/Root&gt;\r\n      &lt;/Loggers&gt;\r\n    &lt;/Configuration&gt;\r\n\r\n**Error**\r\nHowever I am getting the following error when running the lambda: (I removed timestamps below to improve readability)\r\n\r\n    ERROR Error processing element Lambda ([Appenders: null]): CLASS_NOT_FOUND\r\n    ERROR Unable to locate appender &quot;Lambda&quot; for logger config &quot;root&quot;\r\n\r\n\r\n**Tried**\r\nI made sure that the log4J libs and `log4j-core`, `log4j-api`, `aws-lambda-java-log4j2` and `aws-lamda-java-core` are all in the package.","title":"Logging using Log4J2 on aws lambda - Class not found","body":"<p>I am trying to use Log4J2 logging as described here in the AWS docs:</p>\n\n<p><a href=\"https://docs.aws.amazon.com/lambda/latest/dg/java-logging.html#java-wt-logging-using-log4j2.8\" rel=\"noreferrer\">https://docs.aws.amazon.com/lambda/latest/dg/java-logging.html#java-wt-logging-using-log4j2.8</a></p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;Configuration packages=\"com.amazonaws.services.lambda.runtime.log4j2.LambdaAppender\"&gt;\n  &lt;Appenders&gt;\n    &lt;Lambda name=\"Lambda\"&gt;\n      &lt;PatternLayout&gt;\n          &lt;pattern&gt;%d{yyyy-MM-dd HH:mm:ss} %X{AWSRequestId} %-5p %c{1}:%L - %m%n&lt;/pattern&gt;\n      &lt;/PatternLayout&gt;\n    &lt;/Lambda&gt;\n  &lt;/Appenders&gt;\n  &lt;Loggers&gt;\n    &lt;Root level=\"debug\"&gt;\n      &lt;AppenderRef ref=\"Lambda\" /&gt;\n    &lt;/Root&gt;\n  &lt;/Loggers&gt;\n&lt;/Configuration&gt;\n</code></pre>\n\n<p><strong>Error</strong>\nHowever I am getting the following error when running the lambda: (I removed timestamps below to improve readability)</p>\n\n<pre><code>ERROR Error processing element Lambda ([Appenders: null]): CLASS_NOT_FOUND\nERROR Unable to locate appender \"Lambda\" for logger config \"root\"\n</code></pre>\n\n<p><strong>Tried</strong>\nI made sure that the log4J libs and <code>log4j-core</code>, <code>log4j-api</code>, <code>aws-lambda-java-log4j2</code> and <code>aws-lamda-java-core</code> are all in the package.</p>\n"},{"tags":["javascript","java","jquery","ajax","oracle11g"],"comments":[{"owner":{"account_id":17782616,"reputation":6789,"user_id":12913491,"display_name":"pmdba"},"score":0,"creation_date":1689274727,"post_id":76681831,"comment_id":135194283,"body_markdown":"You&#39;ll need to find the log from the server that details exactly what the &quot;500&quot; error is. It could be many, many things and we cannot diagnose your problem based on what you&#39;ve provided.","body":"You&#39;ll need to find the log from the server that details exactly what the &quot;500&quot; error is. It could be many, many things and we cannot diagnose your problem based on what you&#39;ve provided."}],"owner":{"account_id":24082092,"reputation":47,"user_id":18056626,"display_name":"Shinxx"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":13,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689268363,"creation_date":1689268363,"question_id":76681831,"body_markdown":"      public Integer getRecordCount(ErdbcrBean erdbcrBean/*String empid, String tocod*/)\r\n      {\r\n        SqlSession session = getSqlSessionFactory().openSession();\r\n        try\r\n        {\r\n          return (Integer)session.selectOne(&quot;getRecordCount&quot;, erdbcrBean);\r\n        }catch (Exception e){\r\n          this.logger.error(&quot;getRecordCount &quot; + erdbcrBean, e);\r\n          return 1;\r\n        }finally{\r\n          session.close();\r\n        }\r\n      }\r\nthis the DAOImpl java code I am using to see the result if the data in the database was duplicated or not. \r\n\r\n   \r\n     public String getRecordCount() throws Exception {\r\n          logName = (String) request.getSession().getAttribute(&quot;userName&quot;);\r\n          \r\n          if (logName == null)\r\n              return &quot;notLogin&quot;;\r\n          else {\r\n              /*Gson gson = new Gson();\r\n              Type collectionType = new TypeToken&lt;ErdbcrBean&gt;() {\r\n              }.getType();\r\n              erdbcrBean = (ErdbcrBean)gson.fromJson(data, collectionType);*/\r\n              Gson gson = new Gson();\r\n              ErdbcrBean erdbcrBean = gson.fromJson(data, ErdbcrBean.class);\r\n              amsBillingFacade.getBillingFacade().getR3BillHeaderDAO().execPREnable(ROLE_DESC);\r\n              recordCount = amsBillingFacade.getBillingFacade().getR3BillHeaderDAO().getRecordCount(erdbcrBean);\r\n              \r\n              return SUCCESS;\r\n          }\r\n      }\r\n\r\nThis code is for the java controller to call in the DAOImpl.\r\n\r\n    $.getJSON(&#39;getrecordcount.html&#39;, {\r\n                    data: JSON.stringify(entries)\r\n              }, function (record) {\r\n                  if (record &gt; 0) {\r\n                      $(&#39;#errorDialog&#39;).data(&#39;msg&#39;, &#39;Data already exist.&#39;).dialog(&#39;open&#39;);\r\n    }\r\n    }\r\n\r\nthis is the code that calls all the server-side to display in the front-end.\r\n\r\n\r\nI am having difficulties with the codes above with error message:\r\n http://10.0.2.58:7101/erdbcr/getrecordcount.html?data=%5B%7B%22usernm%22%3A%22MOERW03%22%2C%22memon%22%3A%22111111%22%2C%22itmno%22%3A%22%22%2C%22eridn%22%3A%220617439970%22%2C%22tocod%22%3A%2239%22%2C%22ssamt%22%3A%22480.00%22%2C%22mcamt%22%3A%220.00%22%2C%22ecamt%22%3A%220.00%22%2C%22orgcd%22%3A%221%22%2C%22pytyp%22%3A%221%22%2C%22prnum%22%3A%22%22%2C%22valda%22%3A%22190828%22%2C%22tsnum%22%3A%22190828%22%2C%22fapld%22%3A%221907%22%2C%22tapld%22%3A%221%22%2C%22sbpda%22%3A%22190828%22%7D%5D (500: Internal Server Error)","title":"500: Internal Server Error with java and javascript using Oracle11g","body":"<pre><code>  public Integer getRecordCount(ErdbcrBean erdbcrBean/*String empid, String tocod*/)\n  {\n    SqlSession session = getSqlSessionFactory().openSession();\n    try\n    {\n      return (Integer)session.selectOne(&quot;getRecordCount&quot;, erdbcrBean);\n    }catch (Exception e){\n      this.logger.error(&quot;getRecordCount &quot; + erdbcrBean, e);\n      return 1;\n    }finally{\n      session.close();\n    }\n  }\n</code></pre>\n<p>this the DAOImpl java code I am using to see the result if the data in the database was duplicated or not.</p>\n<pre><code> public String getRecordCount() throws Exception {\n      logName = (String) request.getSession().getAttribute(&quot;userName&quot;);\n      \n      if (logName == null)\n          return &quot;notLogin&quot;;\n      else {\n          /*Gson gson = new Gson();\n          Type collectionType = new TypeToken&lt;ErdbcrBean&gt;() {\n          }.getType();\n          erdbcrBean = (ErdbcrBean)gson.fromJson(data, collectionType);*/\n          Gson gson = new Gson();\n          ErdbcrBean erdbcrBean = gson.fromJson(data, ErdbcrBean.class);\n          amsBillingFacade.getBillingFacade().getR3BillHeaderDAO().execPREnable(ROLE_DESC);\n          recordCount = amsBillingFacade.getBillingFacade().getR3BillHeaderDAO().getRecordCount(erdbcrBean);\n          \n          return SUCCESS;\n      }\n  }\n</code></pre>\n<p>This code is for the java controller to call in the DAOImpl.</p>\n<pre><code>$.getJSON('getrecordcount.html', {\n                data: JSON.stringify(entries)\n          }, function (record) {\n              if (record &gt; 0) {\n                  $('#errorDialog').data('msg', 'Data already exist.').dialog('open');\n}\n}\n</code></pre>\n<p>this is the code that calls all the server-side to display in the front-end.</p>\n<p>I am having difficulties with the codes above with error message:\n<a href=\"http://10.0.2.58:7101/erdbcr/getrecordcount.html?data=%5B%7B%22usernm%22%3A%22MOERW03%22%2C%22memon%22%3A%22111111%22%2C%22itmno%22%3A%22%22%2C%22eridn%22%3A%220617439970%22%2C%22tocod%22%3A%2239%22%2C%22ssamt%22%3A%22480.00%22%2C%22mcamt%22%3A%220.00%22%2C%22ecamt%22%3A%220.00%22%2C%22orgcd%22%3A%221%22%2C%22pytyp%22%3A%221%22%2C%22prnum%22%3A%22%22%2C%22valda%22%3A%22190828%22%2C%22tsnum%22%3A%22190828%22%2C%22fapld%22%3A%221907%22%2C%22tapld%22%3A%221%22%2C%22sbpda%22%3A%22190828%22%7D%5D\" rel=\"nofollow noreferrer\">http://10.0.2.58:7101/erdbcr/getrecordcount.html?data=%5B%7B%22usernm%22%3A%22MOERW03%22%2C%22memon%22%3A%22111111%22%2C%22itmno%22%3A%22%22%2C%22eridn%22%3A%220617439970%22%2C%22tocod%22%3A%2239%22%2C%22ssamt%22%3A%22480.00%22%2C%22mcamt%22%3A%220.00%22%2C%22ecamt%22%3A%220.00%22%2C%22orgcd%22%3A%221%22%2C%22pytyp%22%3A%221%22%2C%22prnum%22%3A%22%22%2C%22valda%22%3A%22190828%22%2C%22tsnum%22%3A%22190828%22%2C%22fapld%22%3A%221907%22%2C%22tapld%22%3A%221%22%2C%22sbpda%22%3A%22190828%22%7D%5D</a> (500: Internal Server Error)</p>\n"},{"tags":["java","android","android-imagebutton"],"owner":{"account_id":25846168,"reputation":133,"user_id":19580991,"display_name":"eliasciur"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689267293,"creation_date":1689267293,"question_id":76681722,"body_markdown":"I have this weird issue I can not find any information about online. I am trying to make a stackmat timer app to use when speedcubing. There are two buttons on the left and right side of the screen that are used as &quot;pads&quot; to start and stop the timer. [![app image](https://i.stack.imgur.com/nFtv0.png)](https://i.stack.imgur.com/nFtv0.png) \r\n\r\nThe buttons reach the end of the screen which gives me this weird issue whenever I press the button with one of my fingers on the black space between my phone screen and frame.[![image for context](https://i.stack.imgur.com/Fx9Ic.png)](https://i.stack.imgur.com/Fx9Ic.png) \r\n\r\nWhenever I release the button android doesn&#39;t register the event. I have put text above each pad to help me debug why this was happening but I still don&#39;t know why it happens. I have used another phone to see if it was a problem with my phone but the same thing happened. I have been trying to solve this problem for days without any luck. If anyone can help I would greatly appreciate it.\r\n\r\n\r\n```\r\n    @Override\r\n    public boolean onTouch(View view, MotionEvent motionEvent) {\r\n\r\n        if (motionEvent.getAction() == MotionEvent.ACTION_DOWN) {\r\n\r\n            this.isPressed = true;\r\n            this.onPressListener.onPressEvent(new OnPressEvent(this));\r\n\r\n        }\r\n\r\n        else if (motionEvent.getAction() == MotionEvent.ACTION_UP) {\r\n\r\n            this.isPressed = false;\r\n            this.onReleaseListener.onReleaseEvent(new OnReleaseEvent(this));\r\n\r\n        }\r\n\r\n        return true;\r\n\r\n    }\r\n```\r\n","title":"Android doesn&#39;t register MotionEvent.ACTION_UP if I press the black space around my phone","body":"<p>I have this weird issue I can not find any information about online. I am trying to make a stackmat timer app to use when speedcubing. There are two buttons on the left and right side of the screen that are used as &quot;pads&quot; to start and stop the timer. <a href=\"https://i.stack.imgur.com/nFtv0.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/nFtv0.png\" alt=\"app image\" /></a></p>\n<p>The buttons reach the end of the screen which gives me this weird issue whenever I press the button with one of my fingers on the black space between my phone screen and frame.<a href=\"https://i.stack.imgur.com/Fx9Ic.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Fx9Ic.png\" alt=\"image for context\" /></a></p>\n<p>Whenever I release the button android doesn't register the event. I have put text above each pad to help me debug why this was happening but I still don't know why it happens. I have used another phone to see if it was a problem with my phone but the same thing happened. I have been trying to solve this problem for days without any luck. If anyone can help I would greatly appreciate it.</p>\n<pre><code>    @Override\n    public boolean onTouch(View view, MotionEvent motionEvent) {\n\n        if (motionEvent.getAction() == MotionEvent.ACTION_DOWN) {\n\n            this.isPressed = true;\n            this.onPressListener.onPressEvent(new OnPressEvent(this));\n\n        }\n\n        else if (motionEvent.getAction() == MotionEvent.ACTION_UP) {\n\n            this.isPressed = false;\n            this.onReleaseListener.onReleaseEvent(new OnReleaseEvent(this));\n\n        }\n\n        return true;\n\n    }\n</code></pre>\n"},{"tags":["java","maven","junit","github-actions","cicd"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1689268693,"post_id":76681702,"comment_id":135193103,"body_markdown":"Do you have a link to your project? Why have you defined the platform runner as a dependency? Which Maven version do you use ? Have you defined the maven-surefire-plugin version? I doubt you have? please check (https://www.youtube.com/@khmarbaise) also https://github.com/khmarbaise/youtube-videos/blob/main/episode-2/pom.xml","body":"Do you have a link to your project? Why have you defined the platform runner as a dependency? Which Maven version do you use ? Have you defined the maven-surefire-plugin version? I doubt you have? please check (<a href=\"https://www.youtube.com/@khmarbaise\" rel=\"nofollow noreferrer\">youtube.com/@khmarbaise</a>) also <a href=\"https://github.com/khmarbaise/youtube-videos/blob/main/episode-2/pom.xml\" rel=\"nofollow noreferrer\">github.com/khmarbaise/youtube-videos/blob/main/episode-2/&hellip;</a>"},{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1689271252,"post_id":76681702,"comment_id":135193559,"body_markdown":"Junit4 and junit5 works differently. You need to be certain you invoke it the same way as you do locally.","body":"Junit4 and junit5 works differently. You need to be certain you invoke it the same way as you do locally."},{"owner":{"account_id":10402418,"reputation":12349,"user_id":7670262,"display_name":"Azeem"},"score":0,"creation_date":1689310093,"post_id":76681702,"comment_id":135198077,"body_markdown":"Please include your workflow along with the run logs in your question.","body":"Please include your workflow along with the run logs in your question."}],"owner":{"account_id":20996700,"reputation":9,"user_id":15428378,"display_name":"Br0grammer"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689267066,"creation_date":1689267066,"question_id":76681702,"body_markdown":"I have been trying to create a github workflow to run my junit test cases when there is a push to my repository but when I try doing it the &quot;actions&quot; tab says it was successful but if I look into the logger it says it ran zero tests. can someone help me with the yml file that goes into .github -&gt; .workflows -&gt; XXXXX.yml \r\n\r\nBelow are my Java files \r\n\r\n**RobotMotion.Java**\r\n\r\n    package com.github.DaBrogrammer;\r\n    \r\n    import java.util.Arrays;\r\n    import java.util.Scanner;\r\n    \r\n    public class RobotMotion {\r\n        private static int[][] floor;\r\n        private static int posX;\r\n        private static int posY;\r\n        private static boolean penDown;\r\n        private static Direction direction;\r\n    \r\n        public static Object[] getFloor() {\r\n            return floor;\r\n        }\r\n    \r\n        public static int getPosX() {\r\n            return posX;\r\n        }\r\n    \r\n        public static int getPosY() {\r\n            return posY;\r\n        }\r\n    \r\n        public static boolean isPenDown() {\r\n            return penDown;\r\n        }\r\n        \r\n        public static void setPen(boolean setting) {\r\n        \tpenDown = setting;\r\n        }\r\n    \r\n        public static Direction getDirection() {\r\n            return direction;\r\n        }\r\n    \r\n        enum Direction {\r\n            NORTH, EAST, SOUTH, WEST\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            Scanner scanner = new Scanner(System.in);\r\n            boolean running = true;\r\n    \r\n            while (running) {\r\n                System.out.print(&quot;Enter command: &quot;);\r\n                String command = scanner.nextLine();\r\n    \r\n                if (command.length() &gt; 0) {\r\n                    char commandChar = Character.toLowerCase(command.charAt(0));\r\n                    String commandArgs = command.length() &gt; 1 ? command.substring(2) : &quot;&quot;;\r\n    \r\n                    switch (commandChar) {\r\n                        case &#39;i&#39; -&gt; {\r\n                            int n = Integer.parseInt(commandArgs);\r\n                            initializeSystem(n);\r\n                        }\r\n                        case &#39;c&#39; -&gt; printCurrentPosition();\r\n                        case &#39;d&#39; -&gt; setPen(true);\r\n                        case &#39;u&#39; -&gt; setPen(false);\r\n                        case &#39;r&#39; -&gt; turnRight();\r\n                        case &#39;l&#39; -&gt; turnLeft();\r\n                        case &#39;m&#39; -&gt; {\r\n                            int spaces = Integer.parseInt(commandArgs);\r\n                            move(spaces);\r\n                        }\r\n                        case &#39;p&#39; -&gt; printFloor();\r\n                        case &#39;q&#39; -&gt; running = false;\r\n                        default -&gt; System.out.println(&quot;Invalid command!&quot;);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    \r\n        static void initializeSystem(int n) {\r\n            floor = new int[n][n];\r\n            for (int[] row : floor) {\r\n                Arrays.fill(row, 0);\r\n            }\r\n            posX = 0;\r\n            posY = 0;\r\n            penDown = false;\r\n            direction = Direction.NORTH;\r\n        }\r\n    \r\n        static void printCurrentPosition() {\r\n            System.out.printf(&quot;Position: %d, %d - Pen: %s - Facing: %s\\n&quot;,\r\n                    posX, posY, penDown ? &quot;down&quot; : &quot;up&quot;, direction.toString().toLowerCase());\r\n        }\r\n    \r\n        static void turnRight() {\r\n            switch (direction) {\r\n                case NORTH -&gt; direction = Direction.EAST;\r\n                case EAST -&gt; direction = Direction.SOUTH;\r\n                case SOUTH -&gt; direction = Direction.WEST;\r\n                case WEST -&gt; direction = Direction.NORTH;\r\n            }\r\n        }\r\n    \r\n        static void turnLeft() {\r\n            switch (direction) {\r\n                case NORTH -&gt; direction = Direction.WEST;\r\n                case EAST -&gt; direction = Direction.NORTH;\r\n                case SOUTH -&gt; direction = Direction.EAST;\r\n                case WEST -&gt; direction = Direction.SOUTH;\r\n            }\r\n        }\r\n    \r\n        static void move(int spaces) {\r\n    \r\n            if (penDown) {\r\n                floor[posX][posY] = 1; // Mark the initial position with &quot;*&quot; if pen is down\r\n            }\r\n    \r\n            switch (direction) {\r\n                case NORTH -&gt; {\r\n                    for (int i = 0; i &lt; spaces; i++) {\r\n                        if (posY &lt; floor.length - 1) {\r\n                            posY++;\r\n                            if (penDown) {\r\n                                floor[posX][posY] = 1;\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n                case EAST -&gt; {\r\n                    for (int i = 0; i &lt; spaces; i++) {\r\n                        if (posX &lt; floor.length - 1) {\r\n                            posX++;\r\n                            if (penDown) {\r\n                                floor[posX][posY] = 1;\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n                case SOUTH -&gt; {\r\n                    for (int i = 0; i &lt; spaces; i++) {\r\n                        if (posY &gt; 0) {\r\n                            posY--;\r\n                            if (penDown) {\r\n                                floor[posX][posY] = 1;\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n                case WEST -&gt; {\r\n                    for (int i = 0; i &lt; spaces; i++) {\r\n                        if (posX &gt; 0) {\r\n                            posX--;\r\n                            if (penDown) {\r\n                                floor[posX][posY] = 1;\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    \r\n        static void printFloor() {\r\n            int size = floor.length;\r\n    \r\n            // Print the top border\r\n            System.out.print(&quot;  +&quot;);\r\n            for (int i = 0; i &lt; size; i++) {\r\n                System.out.print(&quot;--&quot;);\r\n            }\r\n            System.out.println(&quot;+&quot;);\r\n    \r\n            // Print the rows\r\n            for (int j = size - 1; j &gt;= 0; j--) {\r\n                System.out.print(j + &quot; |&quot;); // Print the row number\r\n    \r\n                for (int i = 0; i &lt; size; i++) {\r\n                    if (i == posX &amp;&amp; j == posY) {\r\n                        System.out.print(penDown ? &quot;* &quot; : &quot;  &quot;); // Check pen state before printing\r\n                    } else {\r\n                        System.out.print(floor[i][j] == 1 ? &quot;* &quot; : &quot;  &quot;);\r\n                    }\r\n                }\r\n                System.out.println(&quot;|&quot;);\r\n            }\r\n    \r\n            // Print the bottom border\r\n            System.out.print(&quot;  +&quot;);\r\n            for (int i = 0; i &lt; size; i++) {\r\n                System.out.print(&quot;--&quot;);\r\n            }\r\n            System.out.println(&quot;+&quot;);\r\n    \r\n            // Print the column numbers\r\n            System.out.print(&quot;   &quot;);\r\n            for (int i = 0; i &lt; size; i++) {\r\n                System.out.print(i + &quot; &quot;);\r\n            }\r\n            System.out.println();\r\n        }\r\n    \r\n    }\r\n\r\n\r\n**RobotMotionTest.java**\r\n\r\n    package com.github.DaBrogrammer;\r\n    \r\n    import org.junit.jupiter.api.Assertions;\r\n    import org.junit.jupiter.api.BeforeEach;\r\n    import org.junit.jupiter.api.Test;\r\n    \r\n    import java.io.ByteArrayOutputStream;\r\n    import java.io.PrintStream;\r\n    \r\n    public class RobotMotionTest {\r\n        private final ByteArrayOutputStream outputStream = new ByteArrayOutputStream();\r\n    \r\n        @BeforeEach\r\n        public void setUp() {\r\n            System.setOut(new PrintStream(outputStream));\r\n        }\r\n    \r\n        @Test\r\n        public void testInitializeSystem() {\r\n            RobotMotion.initializeSystem(3);\r\n    \r\n            int[][] expectedFloor = {{0, 0, 0}, {0, 0, 0}, {0, 0, 0}};\r\n            Assertions.assertArrayEquals(expectedFloor, RobotMotion.getFloor());\r\n    \r\n            Assertions.assertEquals(0, RobotMotion.getPosX());\r\n            Assertions.assertEquals(0, RobotMotion.getPosY());\r\n    \r\n            Assertions.assertFalse(RobotMotion.isPenDown());\r\n    \r\n            Assertions.assertEquals(RobotMotion.Direction.NORTH, RobotMotion.getDirection());\r\n        }\r\n    \r\n        @Test\r\n        public void testTurnRight() {\r\n            RobotMotion.initializeSystem(3);\r\n    \r\n            RobotMotion.turnRight();\r\n            Assertions.assertEquals(RobotMotion.Direction.EAST, RobotMotion.getDirection());\r\n    \r\n            RobotMotion.turnRight();\r\n            Assertions.assertEquals(RobotMotion.Direction.SOUTH, RobotMotion.getDirection());\r\n    \r\n            RobotMotion.turnRight();\r\n            Assertions.assertEquals(RobotMotion.Direction.WEST, RobotMotion.getDirection());\r\n    \r\n            RobotMotion.turnRight();\r\n            Assertions.assertEquals(RobotMotion.Direction.NORTH, RobotMotion.getDirection());\r\n        }\r\n    \r\n        @Test\r\n        public void testTurnLeft() {\r\n            RobotMotion.initializeSystem(3);\r\n    \r\n            RobotMotion.turnLeft();\r\n            Assertions.assertEquals(RobotMotion.Direction.WEST, RobotMotion.getDirection());\r\n    \r\n            RobotMotion.turnLeft();\r\n            Assertions.assertEquals(RobotMotion.Direction.SOUTH, RobotMotion.getDirection());\r\n    \r\n            RobotMotion.turnLeft();\r\n            Assertions.assertEquals(RobotMotion.Direction.EAST, RobotMotion.getDirection());\r\n    \r\n            RobotMotion.turnLeft();\r\n            Assertions.assertEquals(RobotMotion.Direction.NORTH, RobotMotion.getDirection());\r\n        }\r\n        \r\n        @Test\r\n        public void testSetPenDown() {\r\n        \tRobotMotion.initializeSystem(3);\r\n        \tRobotMotion.setPen(true);\r\n        \tAssertions.assertTrue(RobotMotion.isPenDown());\r\n        }\r\n        \r\n        @Test\r\n        public void testSetPenUp() {\r\n        \tRobotMotion.initializeSystem(3);\r\n        \tAssertions.assertFalse(RobotMotion.isPenDown());\r\n        \tRobotMotion.setPen(false);\r\n        \tAssertions.assertFalse(RobotMotion.isPenDown());\r\n        }\r\n    \r\n        @Test\r\n        public void testMove() {\r\n            RobotMotion.initializeSystem(3);\r\n            \r\n            RobotMotion.setPen(true); // must set pen down in order to draw\r\n            RobotMotion.move(2);\r\n            Assertions.assertEquals(0, RobotMotion.getPosX());\r\n            Assertions.assertEquals(2, RobotMotion.getPosY());\r\n            //Assertions.assertFalse(RobotMotion.isPenDown());\r\n    \r\n            RobotMotion.turnRight();\r\n            RobotMotion.move(1);\r\n            Assertions.assertEquals(1, RobotMotion.getPosX());\r\n            Assertions.assertEquals(2, RobotMotion.getPosY());\r\n            //Assertions.assertFalse(RobotMotion.isPenDown());\r\n        }\r\n    \r\n        @Test\r\n        public void testPrintCurrentPosition() {\r\n            RobotMotion.initializeSystem(3);\r\n    \r\n            RobotMotion.printCurrentPosition();\r\n            Assertions.assertEquals(&quot;Position: 0, 0 - Pen: up - Facing: north\\n&quot;, outputStream.toString());\r\n            \r\n            outputStream.reset();\r\n            RobotMotion.setPen(true); // must set pen down in order to draw\r\n            RobotMotion.turnRight();\r\n            RobotMotion.move(2);\r\n            RobotMotion.printCurrentPosition();\r\n            Assertions.assertEquals(&quot;Position: 2, 0 - Pen: down - Facing: east\\n&quot;, outputStream.toString());\r\n            \r\n            outputStream.reset();\r\n            RobotMotion.turnLeft();\r\n            RobotMotion.move(1);\r\n            RobotMotion.printCurrentPosition();\r\n            Assertions.assertEquals(&quot;Position: 2, 1 - Pen: down - Facing: north\\n&quot;, outputStream.toString());\r\n        }\r\n    \r\n        @Test\r\n        public void testPrintFloor() {\r\n            RobotMotion.initializeSystem(3);\r\n    \r\n            RobotMotion.move(2);\r\n            RobotMotion.turnRight();\r\n            RobotMotion.move(1);\r\n    \r\n            outputStream.reset();\r\n            RobotMotion.printFloor();\r\n    \r\n            String expectedOutput = &quot;  +------+&quot; + System.lineSeparator() +\r\n                    &quot;2 |      |&quot; + System.lineSeparator() +\r\n                    &quot;1 |      |&quot; + System.lineSeparator() +\r\n                    &quot;0 |      |&quot; + System.lineSeparator() +\r\n                    &quot;  +------+&quot; + System.lineSeparator() +\r\n                    &quot;   0 1 2 &quot; + System.lineSeparator();\r\n    \r\n            Assertions.assertEquals(expectedOutput, outputStream.toString());\r\n        }\r\n    \r\n    }\r\n\r\n\r\n**pom.xml**\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n             xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n             xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n        &lt;groupId&gt;com.github.DaBrogrammer&lt;/groupId&gt;\r\n        &lt;artifactId&gt;RobotMotion&lt;/artifactId&gt;\r\n        &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n    \r\n        &lt;properties&gt;\r\n            &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\r\n            &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\r\n            &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;/properties&gt;\r\n    \r\n        &lt;dependencies&gt;\r\n    \r\n            &lt;!-- junit 5, unit test --&gt;\r\n            &lt;!-- https://mvnrepository.com/artifact/org.junit.jupiter/junit-jupiter-engine --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n                &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\r\n                &lt;version&gt;5.9.3&lt;/version&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;!-- https://mvnrepository.com/artifact/org.junit.platform/junit-platform-runner --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.junit.platform&lt;/groupId&gt;\r\n                &lt;artifactId&gt;junit-platform-runner&lt;/artifactId&gt;\r\n                &lt;version&gt;1.9.3&lt;/version&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n        &lt;/dependencies&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\n\r\nHere is a screenshot of my directory:\r\n\r\n[My code directory structure][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/5p07N.png","title":"How do I create a yml file to run CI/CD on github for java maven project","body":"<p>I have been trying to create a github workflow to run my junit test cases when there is a push to my repository but when I try doing it the &quot;actions&quot; tab says it was successful but if I look into the logger it says it ran zero tests. can someone help me with the yml file that goes into .github -&gt; .workflows -&gt; XXXXX.yml</p>\n<p>Below are my Java files</p>\n<p><strong>RobotMotion.Java</strong></p>\n<pre><code>package com.github.DaBrogrammer;\n\nimport java.util.Arrays;\nimport java.util.Scanner;\n\npublic class RobotMotion {\n    private static int[][] floor;\n    private static int posX;\n    private static int posY;\n    private static boolean penDown;\n    private static Direction direction;\n\n    public static Object[] getFloor() {\n        return floor;\n    }\n\n    public static int getPosX() {\n        return posX;\n    }\n\n    public static int getPosY() {\n        return posY;\n    }\n\n    public static boolean isPenDown() {\n        return penDown;\n    }\n    \n    public static void setPen(boolean setting) {\n        penDown = setting;\n    }\n\n    public static Direction getDirection() {\n        return direction;\n    }\n\n    enum Direction {\n        NORTH, EAST, SOUTH, WEST\n    }\n\n    public static void main(String[] args) {\n        Scanner scanner = new Scanner(System.in);\n        boolean running = true;\n\n        while (running) {\n            System.out.print(&quot;Enter command: &quot;);\n            String command = scanner.nextLine();\n\n            if (command.length() &gt; 0) {\n                char commandChar = Character.toLowerCase(command.charAt(0));\n                String commandArgs = command.length() &gt; 1 ? command.substring(2) : &quot;&quot;;\n\n                switch (commandChar) {\n                    case 'i' -&gt; {\n                        int n = Integer.parseInt(commandArgs);\n                        initializeSystem(n);\n                    }\n                    case 'c' -&gt; printCurrentPosition();\n                    case 'd' -&gt; setPen(true);\n                    case 'u' -&gt; setPen(false);\n                    case 'r' -&gt; turnRight();\n                    case 'l' -&gt; turnLeft();\n                    case 'm' -&gt; {\n                        int spaces = Integer.parseInt(commandArgs);\n                        move(spaces);\n                    }\n                    case 'p' -&gt; printFloor();\n                    case 'q' -&gt; running = false;\n                    default -&gt; System.out.println(&quot;Invalid command!&quot;);\n                }\n            }\n        }\n    }\n\n    static void initializeSystem(int n) {\n        floor = new int[n][n];\n        for (int[] row : floor) {\n            Arrays.fill(row, 0);\n        }\n        posX = 0;\n        posY = 0;\n        penDown = false;\n        direction = Direction.NORTH;\n    }\n\n    static void printCurrentPosition() {\n        System.out.printf(&quot;Position: %d, %d - Pen: %s - Facing: %s\\n&quot;,\n                posX, posY, penDown ? &quot;down&quot; : &quot;up&quot;, direction.toString().toLowerCase());\n    }\n\n    static void turnRight() {\n        switch (direction) {\n            case NORTH -&gt; direction = Direction.EAST;\n            case EAST -&gt; direction = Direction.SOUTH;\n            case SOUTH -&gt; direction = Direction.WEST;\n            case WEST -&gt; direction = Direction.NORTH;\n        }\n    }\n\n    static void turnLeft() {\n        switch (direction) {\n            case NORTH -&gt; direction = Direction.WEST;\n            case EAST -&gt; direction = Direction.NORTH;\n            case SOUTH -&gt; direction = Direction.EAST;\n            case WEST -&gt; direction = Direction.SOUTH;\n        }\n    }\n\n    static void move(int spaces) {\n\n        if (penDown) {\n            floor[posX][posY] = 1; // Mark the initial position with &quot;*&quot; if pen is down\n        }\n\n        switch (direction) {\n            case NORTH -&gt; {\n                for (int i = 0; i &lt; spaces; i++) {\n                    if (posY &lt; floor.length - 1) {\n                        posY++;\n                        if (penDown) {\n                            floor[posX][posY] = 1;\n                        }\n                    }\n                }\n            }\n            case EAST -&gt; {\n                for (int i = 0; i &lt; spaces; i++) {\n                    if (posX &lt; floor.length - 1) {\n                        posX++;\n                        if (penDown) {\n                            floor[posX][posY] = 1;\n                        }\n                    }\n                }\n            }\n            case SOUTH -&gt; {\n                for (int i = 0; i &lt; spaces; i++) {\n                    if (posY &gt; 0) {\n                        posY--;\n                        if (penDown) {\n                            floor[posX][posY] = 1;\n                        }\n                    }\n                }\n            }\n            case WEST -&gt; {\n                for (int i = 0; i &lt; spaces; i++) {\n                    if (posX &gt; 0) {\n                        posX--;\n                        if (penDown) {\n                            floor[posX][posY] = 1;\n                        }\n                    }\n                }\n            }\n        }\n    }\n\n    static void printFloor() {\n        int size = floor.length;\n\n        // Print the top border\n        System.out.print(&quot;  +&quot;);\n        for (int i = 0; i &lt; size; i++) {\n            System.out.print(&quot;--&quot;);\n        }\n        System.out.println(&quot;+&quot;);\n\n        // Print the rows\n        for (int j = size - 1; j &gt;= 0; j--) {\n            System.out.print(j + &quot; |&quot;); // Print the row number\n\n            for (int i = 0; i &lt; size; i++) {\n                if (i == posX &amp;&amp; j == posY) {\n                    System.out.print(penDown ? &quot;* &quot; : &quot;  &quot;); // Check pen state before printing\n                } else {\n                    System.out.print(floor[i][j] == 1 ? &quot;* &quot; : &quot;  &quot;);\n                }\n            }\n            System.out.println(&quot;|&quot;);\n        }\n\n        // Print the bottom border\n        System.out.print(&quot;  +&quot;);\n        for (int i = 0; i &lt; size; i++) {\n            System.out.print(&quot;--&quot;);\n        }\n        System.out.println(&quot;+&quot;);\n\n        // Print the column numbers\n        System.out.print(&quot;   &quot;);\n        for (int i = 0; i &lt; size; i++) {\n            System.out.print(i + &quot; &quot;);\n        }\n        System.out.println();\n    }\n\n}\n</code></pre>\n<p><strong>RobotMotionTest.java</strong></p>\n<pre><code>package com.github.DaBrogrammer;\n\nimport org.junit.jupiter.api.Assertions;\nimport org.junit.jupiter.api.BeforeEach;\nimport org.junit.jupiter.api.Test;\n\nimport java.io.ByteArrayOutputStream;\nimport java.io.PrintStream;\n\npublic class RobotMotionTest {\n    private final ByteArrayOutputStream outputStream = new ByteArrayOutputStream();\n\n    @BeforeEach\n    public void setUp() {\n        System.setOut(new PrintStream(outputStream));\n    }\n\n    @Test\n    public void testInitializeSystem() {\n        RobotMotion.initializeSystem(3);\n\n        int[][] expectedFloor = {{0, 0, 0}, {0, 0, 0}, {0, 0, 0}};\n        Assertions.assertArrayEquals(expectedFloor, RobotMotion.getFloor());\n\n        Assertions.assertEquals(0, RobotMotion.getPosX());\n        Assertions.assertEquals(0, RobotMotion.getPosY());\n\n        Assertions.assertFalse(RobotMotion.isPenDown());\n\n        Assertions.assertEquals(RobotMotion.Direction.NORTH, RobotMotion.getDirection());\n    }\n\n    @Test\n    public void testTurnRight() {\n        RobotMotion.initializeSystem(3);\n\n        RobotMotion.turnRight();\n        Assertions.assertEquals(RobotMotion.Direction.EAST, RobotMotion.getDirection());\n\n        RobotMotion.turnRight();\n        Assertions.assertEquals(RobotMotion.Direction.SOUTH, RobotMotion.getDirection());\n\n        RobotMotion.turnRight();\n        Assertions.assertEquals(RobotMotion.Direction.WEST, RobotMotion.getDirection());\n\n        RobotMotion.turnRight();\n        Assertions.assertEquals(RobotMotion.Direction.NORTH, RobotMotion.getDirection());\n    }\n\n    @Test\n    public void testTurnLeft() {\n        RobotMotion.initializeSystem(3);\n\n        RobotMotion.turnLeft();\n        Assertions.assertEquals(RobotMotion.Direction.WEST, RobotMotion.getDirection());\n\n        RobotMotion.turnLeft();\n        Assertions.assertEquals(RobotMotion.Direction.SOUTH, RobotMotion.getDirection());\n\n        RobotMotion.turnLeft();\n        Assertions.assertEquals(RobotMotion.Direction.EAST, RobotMotion.getDirection());\n\n        RobotMotion.turnLeft();\n        Assertions.assertEquals(RobotMotion.Direction.NORTH, RobotMotion.getDirection());\n    }\n    \n    @Test\n    public void testSetPenDown() {\n        RobotMotion.initializeSystem(3);\n        RobotMotion.setPen(true);\n        Assertions.assertTrue(RobotMotion.isPenDown());\n    }\n    \n    @Test\n    public void testSetPenUp() {\n        RobotMotion.initializeSystem(3);\n        Assertions.assertFalse(RobotMotion.isPenDown());\n        RobotMotion.setPen(false);\n        Assertions.assertFalse(RobotMotion.isPenDown());\n    }\n\n    @Test\n    public void testMove() {\n        RobotMotion.initializeSystem(3);\n        \n        RobotMotion.setPen(true); // must set pen down in order to draw\n        RobotMotion.move(2);\n        Assertions.assertEquals(0, RobotMotion.getPosX());\n        Assertions.assertEquals(2, RobotMotion.getPosY());\n        //Assertions.assertFalse(RobotMotion.isPenDown());\n\n        RobotMotion.turnRight();\n        RobotMotion.move(1);\n        Assertions.assertEquals(1, RobotMotion.getPosX());\n        Assertions.assertEquals(2, RobotMotion.getPosY());\n        //Assertions.assertFalse(RobotMotion.isPenDown());\n    }\n\n    @Test\n    public void testPrintCurrentPosition() {\n        RobotMotion.initializeSystem(3);\n\n        RobotMotion.printCurrentPosition();\n        Assertions.assertEquals(&quot;Position: 0, 0 - Pen: up - Facing: north\\n&quot;, outputStream.toString());\n        \n        outputStream.reset();\n        RobotMotion.setPen(true); // must set pen down in order to draw\n        RobotMotion.turnRight();\n        RobotMotion.move(2);\n        RobotMotion.printCurrentPosition();\n        Assertions.assertEquals(&quot;Position: 2, 0 - Pen: down - Facing: east\\n&quot;, outputStream.toString());\n        \n        outputStream.reset();\n        RobotMotion.turnLeft();\n        RobotMotion.move(1);\n        RobotMotion.printCurrentPosition();\n        Assertions.assertEquals(&quot;Position: 2, 1 - Pen: down - Facing: north\\n&quot;, outputStream.toString());\n    }\n\n    @Test\n    public void testPrintFloor() {\n        RobotMotion.initializeSystem(3);\n\n        RobotMotion.move(2);\n        RobotMotion.turnRight();\n        RobotMotion.move(1);\n\n        outputStream.reset();\n        RobotMotion.printFloor();\n\n        String expectedOutput = &quot;  +------+&quot; + System.lineSeparator() +\n                &quot;2 |      |&quot; + System.lineSeparator() +\n                &quot;1 |      |&quot; + System.lineSeparator() +\n                &quot;0 |      |&quot; + System.lineSeparator() +\n                &quot;  +------+&quot; + System.lineSeparator() +\n                &quot;   0 1 2 &quot; + System.lineSeparator();\n\n        Assertions.assertEquals(expectedOutput, outputStream.toString());\n    }\n\n}\n</code></pre>\n<p><strong>pom.xml</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;com.github.DaBrogrammer&lt;/groupId&gt;\n    &lt;artifactId&gt;RobotMotion&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n\n    &lt;properties&gt;\n        &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n\n        &lt;!-- junit 5, unit test --&gt;\n        &lt;!-- https://mvnrepository.com/artifact/org.junit.jupiter/junit-jupiter-engine --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\n            &lt;version&gt;5.9.3&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- https://mvnrepository.com/artifact/org.junit.platform/junit-platform-runner --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.platform&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-platform-runner&lt;/artifactId&gt;\n            &lt;version&gt;1.9.3&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n    &lt;/dependencies&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>Here is a screenshot of my directory:</p>\n<p><a href=\"https://i.stack.imgur.com/5p07N.png\" rel=\"nofollow noreferrer\">My code directory structure</a></p>\n"},{"tags":["java","spring","oracle"],"owner":{"account_id":1801257,"reputation":8969,"user_id":1639556,"accept_rate":79,"display_name":"Leos Literak"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689267007,"creation_date":1689259195,"question_id":76680634,"body_markdown":"We have upgraded some old Spring code to Spring boot 2.7.x. There was the following statement that is not compilable anymore:\r\n\r\n    jdbcTemplate.setNativeJdbcExtractor(new org.springframework.jdbc.support.nativejdbc.OracleJdbc4NativeJdbcExtractor());\r\n    map = (new SimpleJdbcCall(jdbcTemplate)).withSchemaName(schemaName).withCatalogName(packageName)\r\n    .withProcedureName(procedureName).execute(sqlParameterSource);\r\n\r\nWhen I run the app without the first line (`setNativeJdbcExtractor`), it fails on:\r\n\r\n    java.lang.ClassCastException: class com.zaxxer.hikari.pool.HikariProxyConnection cannot be cast to class oracle.jdbc.OracleConnection (com.zaxxer.hikari.pool.HikariProxyConnection and oracle.jdbc.OracleConnection are in unnamed module of loader &#39;app&#39;)\r\n            at oracle.sql.TypeDescriptor.setPhysicalConnectionOf(TypeDescriptor.java:805) ~[ojdbc8-19.6.0.0.jar:19.6.0.0.0]\r\n            at oracle.sql.TypeDescriptor.&lt;init&gt;(TypeDescriptor.java:587) ~[ojdbc8-19.6.0.0.jar:19.6.0.0.0]\r\n            at oracle.sql.ArrayDescriptor.&lt;init&gt;(ArrayDescriptor.java:273) ~[ojdbc8-19.6.0.0.jar:19.6.0.0.0]\r\n            at org.springframework.data.jdbc.support.oracle.SqlArrayValue.createTypeValue(SqlArrayValue.java:90) ~[spring-data-oracle-1.2.1.RELEASE.jar:na]\r\n            at org.springframework.jdbc.core.support.AbstractSqlTypeValue.setTypeValue(AbstractSqlTypeValue.java:60) ~[spring-jdbc-5.3.26.jar:5.3.26]\r\n            at org.springframework.jdbc.core.StatementCreatorUtils.setValue(StatementCreatorUtils.java:298) ~[spring-jdbc-5.3.26.jar:5.3.26]\r\n            at org.springframework.jdbc.core.StatementCreatorUtils.setParameterValueInternal(StatementCreatorUtils.java:237) ~[spring-jdbc-5.3.26.jar:5.3.26]\r\n            at org.springframework.jdbc.core.StatementCreatorUtils.setParameterValue(StatementCreatorUtils.java:152) ~[spring-jdbc-5.3.26.jar:5.3.26]\r\n            at org.springframework.jdbc.core.CallableStatementCreatorFactory$CallableStatementCreatorImpl.createCallableStatement(CallableStatementCreatorFactory.java:209) ~[spring-jdbc-5.3.26.jar:5.3.26]\r\n            at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:1188) ~[spring-jdbc-5.3.26.jar:5.3.26]\r\n            at org.springframework.jdbc.core.JdbcTemplate.call(JdbcTemplate.java:1245) ~[spring-jdbc-5.3.26.jar:5.3.26]\r\n            at org.springframework.jdbc.core.simple.AbstractJdbcCall.executeCallInternal(AbstractJdbcCall.java:412) ~[spring-jdbc-5.3.26.jar:5.3.26]\r\n            at org.springframework.jdbc.core.simple.AbstractJdbcCall.doExecute(AbstractJdbcCall.java:395) ~[spring-jdbc-5.3.26.jar:5.3.26]\r\n            at org.springframework.jdbc.core.simple.SimpleJdbcCall.execute(SimpleJdbcCall.java:193) ~[spring-jdbc-5.3.26.jar:5.3.26]\r\n\r\nI found some questions about a removal of org.springframework.jdbc.support.nativejdbc package in Spring 5. This question looks similar \r\n\r\nhttps://stackoverflow.com/questions/50295340/what-is-the-spring-5-jdbc-approach-when-nativejdbcextractor-is-needed\r\n\r\nI use jdbcTemplate, so I cannot unwrap the native Connection. And the overloaded method `AbstractSqlTypeValue.setTypeValue()` - where does it belong? How can I provide my implementation?","title":"ClassCastException after removal of setNativeJdbcExtractor in Spring","body":"<p>We have upgraded some old Spring code to Spring boot 2.7.x. There was the following statement that is not compilable anymore:</p>\n<pre><code>jdbcTemplate.setNativeJdbcExtractor(new org.springframework.jdbc.support.nativejdbc.OracleJdbc4NativeJdbcExtractor());\nmap = (new SimpleJdbcCall(jdbcTemplate)).withSchemaName(schemaName).withCatalogName(packageName)\n.withProcedureName(procedureName).execute(sqlParameterSource);\n</code></pre>\n<p>When I run the app without the first line (<code>setNativeJdbcExtractor</code>), it fails on:</p>\n<pre><code>java.lang.ClassCastException: class com.zaxxer.hikari.pool.HikariProxyConnection cannot be cast to class oracle.jdbc.OracleConnection (com.zaxxer.hikari.pool.HikariProxyConnection and oracle.jdbc.OracleConnection are in unnamed module of loader 'app')\n        at oracle.sql.TypeDescriptor.setPhysicalConnectionOf(TypeDescriptor.java:805) ~[ojdbc8-19.6.0.0.jar:19.6.0.0.0]\n        at oracle.sql.TypeDescriptor.&lt;init&gt;(TypeDescriptor.java:587) ~[ojdbc8-19.6.0.0.jar:19.6.0.0.0]\n        at oracle.sql.ArrayDescriptor.&lt;init&gt;(ArrayDescriptor.java:273) ~[ojdbc8-19.6.0.0.jar:19.6.0.0.0]\n        at org.springframework.data.jdbc.support.oracle.SqlArrayValue.createTypeValue(SqlArrayValue.java:90) ~[spring-data-oracle-1.2.1.RELEASE.jar:na]\n        at org.springframework.jdbc.core.support.AbstractSqlTypeValue.setTypeValue(AbstractSqlTypeValue.java:60) ~[spring-jdbc-5.3.26.jar:5.3.26]\n        at org.springframework.jdbc.core.StatementCreatorUtils.setValue(StatementCreatorUtils.java:298) ~[spring-jdbc-5.3.26.jar:5.3.26]\n        at org.springframework.jdbc.core.StatementCreatorUtils.setParameterValueInternal(StatementCreatorUtils.java:237) ~[spring-jdbc-5.3.26.jar:5.3.26]\n        at org.springframework.jdbc.core.StatementCreatorUtils.setParameterValue(StatementCreatorUtils.java:152) ~[spring-jdbc-5.3.26.jar:5.3.26]\n        at org.springframework.jdbc.core.CallableStatementCreatorFactory$CallableStatementCreatorImpl.createCallableStatement(CallableStatementCreatorFactory.java:209) ~[spring-jdbc-5.3.26.jar:5.3.26]\n        at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:1188) ~[spring-jdbc-5.3.26.jar:5.3.26]\n        at org.springframework.jdbc.core.JdbcTemplate.call(JdbcTemplate.java:1245) ~[spring-jdbc-5.3.26.jar:5.3.26]\n        at org.springframework.jdbc.core.simple.AbstractJdbcCall.executeCallInternal(AbstractJdbcCall.java:412) ~[spring-jdbc-5.3.26.jar:5.3.26]\n        at org.springframework.jdbc.core.simple.AbstractJdbcCall.doExecute(AbstractJdbcCall.java:395) ~[spring-jdbc-5.3.26.jar:5.3.26]\n        at org.springframework.jdbc.core.simple.SimpleJdbcCall.execute(SimpleJdbcCall.java:193) ~[spring-jdbc-5.3.26.jar:5.3.26]\n</code></pre>\n<p>I found some questions about a removal of org.springframework.jdbc.support.nativejdbc package in Spring 5. This question looks similar</p>\n<p><a href=\"https://stackoverflow.com/questions/50295340/what-is-the-spring-5-jdbc-approach-when-nativejdbcextractor-is-needed\">What is the Spring 5 JDBC approach when nativeJdbcExtractor is needed?</a></p>\n<p>I use jdbcTemplate, so I cannot unwrap the native Connection. And the overloaded method <code>AbstractSqlTypeValue.setTypeValue()</code> - where does it belong? How can I provide my implementation?</p>\n"},{"tags":["java","configuration-management","netflix","apache-commons-config","netflix-archaius"],"comments":[{"owner":{"account_id":1422699,"reputation":4139,"user_id":1346996,"display_name":"Ant&#243;nio Ribeiro"},"score":0,"creation_date":1455662782,"post_id":35444426,"comment_id":58587113,"body_markdown":"Please provide us with a specific question.","body":"Please provide us with a specific question."},{"owner":{"account_id":6175511,"reputation":311,"user_id":5937486,"accept_rate":0,"display_name":"Bharat"},"score":0,"creation_date":1455662964,"post_id":35444426,"comment_id":58587189,"body_markdown":"When this program runs it prints the value of property named &quot;Fields&quot; from testproperty.properties file. Now while this program is running I am updating the value of &quot;Fields&quot; property, so archaius should fetch change value dynamically. But it is still printing older value.","body":"When this program runs it prints the value of property named &quot;Fields&quot; from testproperty.properties file. Now while this program is running I am updating the value of &quot;Fields&quot; property, so archaius should fetch change value dynamically. But it is still printing older value."},{"owner":{"account_id":1422699,"reputation":4139,"user_id":1346996,"display_name":"Ant&#243;nio Ribeiro"},"score":0,"creation_date":1455663203,"post_id":35444426,"comment_id":58587292,"body_markdown":"Ok, I understand you&#39;ve a problem. But you&#39;re still not asking anything. Do you mind update your post with your doubts?","body":"Ok, I understand you&#39;ve a problem. But you&#39;re still not asking anything. Do you mind update your post with your doubts?"},{"owner":{"account_id":6175511,"reputation":311,"user_id":5937486,"accept_rate":0,"display_name":"Bharat"},"score":1,"creation_date":1455663444,"post_id":35444426,"comment_id":58587387,"body_markdown":"Updated ..Please check and let me know if its OK","body":"Updated ..Please check and let me know if its OK"},{"owner":{"account_id":1422699,"reputation":4139,"user_id":1346996,"display_name":"Ant&#243;nio Ribeiro"},"score":0,"creation_date":1455664437,"post_id":35444426,"comment_id":58587804,"body_markdown":"Have you tried to use `DynamicPropertyFactor.getInstance()..getBackingConfigurationSource() ` (doc in [here](http://netflix.github.io/archaius/archaius-core-javadoc/com/netflix/config/DynamicPropertyFactory.html#getBackingConfigurationSource())) in order to retrieve the `Configuration` and then [adding](http://netflix.github.io/archaius/archaius-core-javadoc/com/netflix/config/ConcurrentCompositeConfiguration.htm) the property you want?","body":"Have you tried to use <code>DynamicPropertyFactor.getInstance()..getBackingConfiguration&zwnj;&#8203;Source() </code> (doc in <a href=\"http://netflix.github.io/archaius/archaius-core-javadoc/com/netflix/config/DynamicPropertyFactory.html#getBackingConfigurationSource()\" rel=\"nofollow noreferrer\">here</a>) in order to retrieve the <code>Configuration</code> and then <a href=\"http://netflix.github.io/archaius/archaius-core-javadoc/com/netflix/config/ConcurrentCompositeConfiguration.htm\" rel=\"nofollow noreferrer\">adding</a> the property you want?"},{"owner":{"account_id":1015647,"reputation":229,"user_id":1027257,"display_name":"abhishekmahawar"},"score":1,"creation_date":1483967605,"post_id":35444426,"comment_id":70302495,"body_markdown":"I&#39;m also facing similar issue. Overriding the proerty via backing configuration works but the default poller is not updating the property. I also made sure that the poller properties are updated so that polling is done at a faster pace i.e. these two commands were also executed : System.setProperty(&quot;archaius.fixedDelayPollingScheduler.initialDelayMills&quot;, &quot;1&quot;);\n        System.setProperty(&quot;archaius.fixedDelayPollingScheduler.delayMills&quot;, &quot;100&quot;);","body":"I&#39;m also facing similar issue. Overriding the proerty via backing configuration works but the default poller is not updating the property. I also made sure that the poller properties are updated so that polling is done at a faster pace i.e. these two commands were also executed : System.setProperty(&quot;archaius.fixedDelayPollingScheduler.init&zwnj;&#8203;ialDelayMills&quot;, &quot;1&quot;);         System.setProperty(&quot;archaius.fixedDelayPollingScheduler.dela&zwnj;&#8203;yMills&quot;, &quot;100&quot;);"}],"answers":[{"tags":[],"owner":{"account_id":5259405,"reputation":328,"user_id":4204142,"display_name":"linkcrux"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653322423,"creation_date":1515869413,"answer_id":48243194,"question_id":35444426,"body_markdown":"The idea is to implement a custom PolledConfigurationSource, so Archaius can poll the source and update the property for consumption. I have also included a callback that the smart way to consume the property without your App polling it again (remember Archaius is doing the polling part for you).\r\n\r\nImportant note on the sample code : The program exits after the first callback. If you want to test more callbacks, increase the counter at class variable &#39;latch&#39;\r\n\r\n    package com.test.config;\r\n    \r\n    import java.util.HashMap;\r\n    import java.util.Map;\r\n    import java.util.concurrent.CountDownLatch;\r\n    \r\n    import org.apache.commons.configuration.PropertiesConfiguration;\r\n    import org.junit.Test;\r\n    \r\n    import com.netflix.config.AbstractPollingScheduler;\r\n    import com.netflix.config.ConcurrentMapConfiguration;\r\n    import com.netflix.config.ConfigurationManager;\r\n    import com.netflix.config.DynamicConfiguration;\r\n    import com.netflix.config.DynamicPropertyFactory;\r\n    import com.netflix.config.DynamicStringProperty;\r\n    import com.netflix.config.FixedDelayPollingScheduler;\r\n    import com.netflix.config.PollResult;\r\n    import com.netflix.config.PolledConfigurationSource;\r\n    \r\n    public class TestArchaius {\r\n        CountDownLatch latch = new CountDownLatch(1);\r\n    \r\n        @Test\r\n        public void tes() throws Exception {\r\n            AbstractPollingScheduler scheduler = new FixedDelayPollingScheduler(0, 1000, false);\r\n            DynamicConfiguration dynamicConfiguration = new DynamicConfiguration(new MyPolledConfigurationSource(), scheduler);\r\n    \r\n            ConfigurationManager.install(dynamicConfiguration);\r\n    \r\n            DynamicStringProperty fieldsProperty = DynamicPropertyFactory.getInstance().getStringProperty(&quot;fields&quot;, &quot;&quot;);\r\n            fieldsProperty.addCallback(() -&gt; {\r\n                System.out.println(fieldsProperty.get());\r\n                latch.countDown();\r\n            });\r\n    \r\n            latch.await();\r\n        }\r\n    \r\n        class MyPolledConfigurationSource implements PolledConfigurationSource {\r\n    \r\n            @Override\r\n            public PollResult poll(boolean initial, Object checkPoint) throws Exception {\r\n                ConcurrentMapConfiguration configFromPropertiesFile = new ConcurrentMapConfiguration(\r\n                        new PropertiesConfiguration(&quot;TestProperty.properties&quot;));\r\n                Map&lt;String, Object&gt; fullProperties = new HashMap&lt;String, Object&gt;();\r\n                configFromPropertiesFile.getProperties().forEach((k, v) -&gt; fullProperties.put((String) k, v));\r\n                return PollResult.createFull(fullProperties);\r\n            }\r\n    \r\n        }\r\n    }","title":"Netflix archaius cannot read updated property file value","body":"<p>The idea is to implement a custom PolledConfigurationSource, so Archaius can poll the source and update the property for consumption. I have also included a callback that the smart way to consume the property without your App polling it again (remember Archaius is doing the polling part for you).</p>\n<p>Important note on the sample code : The program exits after the first callback. If you want to test more callbacks, increase the counter at class variable 'latch'</p>\n<pre><code>package com.test.config;\n\nimport java.util.HashMap;\nimport java.util.Map;\nimport java.util.concurrent.CountDownLatch;\n\nimport org.apache.commons.configuration.PropertiesConfiguration;\nimport org.junit.Test;\n\nimport com.netflix.config.AbstractPollingScheduler;\nimport com.netflix.config.ConcurrentMapConfiguration;\nimport com.netflix.config.ConfigurationManager;\nimport com.netflix.config.DynamicConfiguration;\nimport com.netflix.config.DynamicPropertyFactory;\nimport com.netflix.config.DynamicStringProperty;\nimport com.netflix.config.FixedDelayPollingScheduler;\nimport com.netflix.config.PollResult;\nimport com.netflix.config.PolledConfigurationSource;\n\npublic class TestArchaius {\n    CountDownLatch latch = new CountDownLatch(1);\n\n    @Test\n    public void tes() throws Exception {\n        AbstractPollingScheduler scheduler = new FixedDelayPollingScheduler(0, 1000, false);\n        DynamicConfiguration dynamicConfiguration = new DynamicConfiguration(new MyPolledConfigurationSource(), scheduler);\n\n        ConfigurationManager.install(dynamicConfiguration);\n\n        DynamicStringProperty fieldsProperty = DynamicPropertyFactory.getInstance().getStringProperty(&quot;fields&quot;, &quot;&quot;);\n        fieldsProperty.addCallback(() -&gt; {\n            System.out.println(fieldsProperty.get());\n            latch.countDown();\n        });\n\n        latch.await();\n    }\n\n    class MyPolledConfigurationSource implements PolledConfigurationSource {\n\n        @Override\n        public PollResult poll(boolean initial, Object checkPoint) throws Exception {\n            ConcurrentMapConfiguration configFromPropertiesFile = new ConcurrentMapConfiguration(\n                    new PropertiesConfiguration(&quot;TestProperty.properties&quot;));\n            Map&lt;String, Object&gt; fullProperties = new HashMap&lt;String, Object&gt;();\n            configFromPropertiesFile.getProperties().forEach((k, v) -&gt; fullProperties.put((String) k, v));\n            return PollResult.createFull(fullProperties);\n        }\n\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23771513,"reputation":330,"user_id":17785521,"display_name":"Mahadev K"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659086000,"creation_date":1659086000,"answer_id":73164275,"question_id":35444426,"body_markdown":"I ran into this issue recently. I wanted to implement a use case such as the DynamicPropertyFactory&#39;s prop should be updated via a REST API request. I had googled a lot on how to do that since the property was not getting updated after using the \r\n```.setProperty(String prop, String value)``` method. But I found that if a property is not defined before then the property gets added with the help of this method.\r\nSo the problem comes down like its not possible to override a property.\r\nAlso I found that it is using ```ConcurrentCompositeConfiguration``` for the Config instance and not the ```ConcurrentMapConfiguration```. As I googled further found tabnine posts and found there is a method called\r\n```\r\nsetOverrideProperty(java.lang.String key, java.lang.Object finalValue)\r\n          Override the same property in any other configurations in the list.\r\n```\r\nSo casting to this class setting the override property resolved the issue. Property got updated successfully.\r\n\r\n#Reference to ConcurrentCompositeConfiguration - http://netflix.github.io/archaius/archaius-core-javadoc/com/netflix/config/ConcurrentCompositeConfiguration.html","title":"Netflix archaius cannot read updated property file value","body":"<p>I ran into this issue recently. I wanted to implement a use case such as the DynamicPropertyFactory's prop should be updated via a REST API request. I had googled a lot on how to do that since the property was not getting updated after using the\n<code>.setProperty(String prop, String value)</code> method. But I found that if a property is not defined before then the property gets added with the help of this method.\nSo the problem comes down like its not possible to override a property.\nAlso I found that it is using <code>ConcurrentCompositeConfiguration</code> for the Config instance and not the <code>ConcurrentMapConfiguration</code>. As I googled further found tabnine posts and found there is a method called</p>\n<pre><code>setOverrideProperty(java.lang.String key, java.lang.Object finalValue)\n          Override the same property in any other configurations in the list.\n</code></pre>\n<p>So casting to this class setting the override property resolved the issue. Property got updated successfully.</p>\n<p>#Reference to ConcurrentCompositeConfiguration - <a href=\"http://netflix.github.io/archaius/archaius-core-javadoc/com/netflix/config/ConcurrentCompositeConfiguration.html\" rel=\"nofollow noreferrer\">http://netflix.github.io/archaius/archaius-core-javadoc/com/netflix/config/ConcurrentCompositeConfiguration.html</a></p>\n"},{"tags":[],"owner":{"account_id":14987410,"reputation":21,"user_id":10819591,"display_name":"Aithosa"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689265642,"creation_date":1689066815,"answer_id":76660380,"question_id":35444426,"body_markdown":"The probable reason for its failure is that you used the IDE to modify config file, you don&#39;t know when ide really write change to file and save(of couese you can change ide settint). try to open config file with other software as windows notebook or notepad, change the config value and save the file, you may see the code print the latest config value after setting time.","title":"Netflix archaius cannot read updated property file value","body":"<p>The probable reason for its failure is that you used the IDE to modify config file, you don't know when ide really write change to file and save(of couese you can change ide settint). try to open config file with other software as windows notebook or notepad, change the config value and save the file, you may see the code print the latest config value after setting time.</p>\n"}],"owner":{"account_id":6175511,"reputation":311,"user_id":5937486,"accept_rate":0,"display_name":"Bharat"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2430,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":3,"score":5,"last_activity_date":1689265642,"creation_date":1455662446,"question_id":35444426,"body_markdown":"I am a very much new to Netflix archaius. I have a code snippet which reads Java property file and prints property value. \r\n\r\nWhen this program runs it prints the value of property named &quot;Fields&quot; from testproperty.properties file. Now while this program is running I am updating the value of &quot;Fields&quot; property, so archaius should fetch change value dynamically. But it is still printing older value.\r\n\r\nWhat is the correct way to use archaius with this Java Program? Or to update properties in a program without restarting it ? If someone can point out correction in this code snippet it would be helpful.\r\n\r\nI want to run a demo with Netflix archaius, so I have imported archaius through maven in my project.\r\n\r\nNow I am updating my properties file. But still it prints the old property value. (P.S.: I have kept the continuous while loop in driver program to see if archaius picks the update property value runtime. I guess that&#39;s what archaius suppose to do. Fetching the updated property without restarting application. Correct me if I am wrong.)\r\n\r\nBelow is my code snippet :\r\n\r\n    import com.netflix.config.DynamicPropertyFactory;\r\n    import com.netflix.config.DynamicStringProperty;\r\n\r\n    public class PropertyChangetest {\r\n    \r\n        public static void main(String args[]) {\r\n\r\n            DynamicPropertyFactory sampleProp = DynamicPropertyFactory.getInstance();\r\n            System.setProperty(&quot;archaius.configurationSource.defaultFileName&quot;, &quot;TestProperty.properties&quot;);\r\n            System.setProperty(&quot;archaius.fixedDelayPollingScheduler.delayMills&quot;, &quot;500&quot;);\r\n\r\n            while(true) {\r\n                DynamicStringProperty sampleProp1 = sampleProp.getStringProperty(&quot;fields&quot;,&quot;&quot;);\r\n                System.out.println(sampleProp1.get());\r\n            }\r\n        }\r\n    }\r\n\r\nMy &quot;TestProperty.properties&quot; file only have one property called fields. After running the program, I am updating my property file but it still prints older value.","title":"Netflix archaius cannot read updated property file value","body":"<p>I am a very much new to Netflix archaius. I have a code snippet which reads Java property file and prints property value. </p>\n\n<p>When this program runs it prints the value of property named \"Fields\" from testproperty.properties file. Now while this program is running I am updating the value of \"Fields\" property, so archaius should fetch change value dynamically. But it is still printing older value.</p>\n\n<p>What is the correct way to use archaius with this Java Program? Or to update properties in a program without restarting it ? If someone can point out correction in this code snippet it would be helpful.</p>\n\n<p>I want to run a demo with Netflix archaius, so I have imported archaius through maven in my project.</p>\n\n<p>Now I am updating my properties file. But still it prints the old property value. (P.S.: I have kept the continuous while loop in driver program to see if archaius picks the update property value runtime. I guess that's what archaius suppose to do. Fetching the updated property without restarting application. Correct me if I am wrong.)</p>\n\n<p>Below is my code snippet :</p>\n\n<pre><code>import com.netflix.config.DynamicPropertyFactory;\nimport com.netflix.config.DynamicStringProperty;\n\npublic class PropertyChangetest {\n\n    public static void main(String args[]) {\n\n        DynamicPropertyFactory sampleProp = DynamicPropertyFactory.getInstance();\n        System.setProperty(\"archaius.configurationSource.defaultFileName\", \"TestProperty.properties\");\n        System.setProperty(\"archaius.fixedDelayPollingScheduler.delayMills\", \"500\");\n\n        while(true) {\n            DynamicStringProperty sampleProp1 = sampleProp.getStringProperty(\"fields\",\"\");\n            System.out.println(sampleProp1.get());\n        }\n    }\n}\n</code></pre>\n\n<p>My \"TestProperty.properties\" file only have one property called fields. After running the program, I am updating my property file but it still prints older value.</p>\n"},{"tags":["java","thymeleaf","nested-loops"],"answers":[{"tags":[],"owner":{"account_id":14626064,"reputation":67,"user_id":10563376,"display_name":"Roland T&#246;m&#246;sk&#246;zi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1689079329,"creation_date":1689078222,"answer_id":76661950,"question_id":76660429,"body_markdown":"I simplified the 2 blocks to one. After that you just have to copy the line and so you have 2 blocks next to each other.\r\n\r\nBackend:\r\n```\r\nprivate Map&lt;String, Object&gt; createAdditionalContext() {\r\n   Map&lt;String, Object&gt; additionalContext = new HashMap&lt;&gt;();\r\n\r\n   int[][] array = new int[5][5];\r\n   int number = 1;\r\n\r\n   for (int i = 0; i &lt; array.length; i++) {\r\n       for (int j = 0; j &lt; array[i].length; j++) {\r\n           array[i][j] = number;\r\n           number++;\r\n       }\r\n   }\r\n\r\n   additionalContext.put(&quot;array&quot;, array);\r\n\r\n   return additionalContext;\r\n}\r\n```\r\n\r\nFrontend:\r\n```\r\n&lt;table&gt;\r\n   &lt;tbody&gt;\r\n      &lt;tr th:each=&quot;row : ${array}&quot;&gt;\r\n        &lt;td th:each=&quot;element : ${row}&quot; th:text=&quot;${element}&quot;&gt;&lt;/td&gt;\r\n        &lt;td th:each=&quot;element : ${row}&quot; th:text=&quot;${element}&quot;&gt;&lt;/td&gt;\r\n      &lt;/tr&gt;\r\n   &lt;/tbody&gt;\r\n&lt;/table&gt;\r\n```","title":"How to display a table dynamically in Thymleaf with Java?","body":"<p>I simplified the 2 blocks to one. After that you just have to copy the line and so you have 2 blocks next to each other.</p>\n<p>Backend:</p>\n<pre><code>private Map&lt;String, Object&gt; createAdditionalContext() {\n   Map&lt;String, Object&gt; additionalContext = new HashMap&lt;&gt;();\n\n   int[][] array = new int[5][5];\n   int number = 1;\n\n   for (int i = 0; i &lt; array.length; i++) {\n       for (int j = 0; j &lt; array[i].length; j++) {\n           array[i][j] = number;\n           number++;\n       }\n   }\n\n   additionalContext.put(&quot;array&quot;, array);\n\n   return additionalContext;\n}\n</code></pre>\n<p>Frontend:</p>\n<pre><code>&lt;table&gt;\n   &lt;tbody&gt;\n      &lt;tr th:each=&quot;row : ${array}&quot;&gt;\n        &lt;td th:each=&quot;element : ${row}&quot; th:text=&quot;${element}&quot;&gt;&lt;/td&gt;\n        &lt;td th:each=&quot;element : ${row}&quot; th:text=&quot;${element}&quot;&gt;&lt;/td&gt;\n      &lt;/tr&gt;\n   &lt;/tbody&gt;\n&lt;/table&gt;\n</code></pre>\n"}],"owner":{"account_id":14626064,"reputation":67,"user_id":10563376,"display_name":"Roland T&#246;m&#246;sk&#246;zi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76661950,"answer_count":1,"score":1,"last_activity_date":1689265631,"creation_date":1689067159,"question_id":76660429,"body_markdown":"How can I display a table in HTML code using Thymleaf and Java?\r\n\r\nBackend: (I created a HTML Template with TemplateEngine)\r\n```\r\nprivate Map&lt;String, Object&gt; createAdditionalContext() {\r\n\r\n  Map&lt;String, Object&gt; additionalContext = new HashMap&lt;&gt;();\r\n\r\n  ArrayList&lt;Integer&gt; rows = new ArrayList&lt;&gt;();\r\n  ArrayList&lt;Integer&gt; columns = new ArrayList&lt;&gt;();\r\n\r\n  // Number of columns and rows in the table\r\n  int numColumns = 10;\r\n  int numRows = 1;\r\n\r\n\r\n for (int i = 0; i &lt;= 0; i++) {\r\n     rows.add(i);\r\n\r\n     for (int j = 1; j &lt;= 25; j++) {\r\n         columns.add(j);\r\n\r\n         // FIXME\r\n         if (j % 5 == 0) {\r\n             rows.add(i);\r\n             break;\r\n         }\r\n     }\r\n }\r\n\r\n additionalContext.put(&quot;rows&quot;, rows);\r\n additionalContext.put(&quot;columns&quot;, columns);\r\n\r\n return additionalContext;\r\n}\r\n```\r\n\r\nFrontend:\r\n```\r\n&lt;table&gt;\r\n   &lt;tbody&gt;\r\n      &lt;tr th:each=&quot;row: ${rows}&quot;&gt;\r\n         &lt;td th:each=&quot;col: ${columns}&quot; th:text=&quot;${col}&quot;&gt;&lt;/td&gt;\r\n      &lt;/tr&gt;\r\n   &lt;/tbody&gt;\r\n&lt;/table&gt;\r\n```\r\nOutput now:\r\n\r\n|  |  |  |  |  |\r\n|--|--|--|--|--|\r\n| 1 | 2 | 3 | 4 | 5 |\r\n| 1 | 2 | 3 | 4 | 5 |\r\n\r\n&lt;br&gt;\r\nOutput should be:\r\n\r\n|  |  |  |  |  |  |  |  |  |  |\r\n|--|--|--|--|--|--|--|--|--|--|\r\n| 1 | 2 | 3 | 4 | 5 | 1 | 2 | 3 | 4 | 5 |\r\n| 6 | 7 | 8 | 9 | 10 | 6 | 7 | 8 | 9 | 10 |\r\n| 11 | 12 | 13 | 14 | 15 | 11 | 12 | 13 | 14 | 15 |\r\n| 16 | 17 | 18 | 19 | 20 | 16 | 17 | 18 | 19 | 20 |\r\n| 21| 22 | 23 | 24 | 25 | 21 | 22 | 23 | 24 | 25 |\r\n\r\n\r\n\r\n","title":"How to display a table dynamically in Thymleaf with Java?","body":"<p>How can I display a table in HTML code using Thymleaf and Java?</p>\n<p>Backend: (I created a HTML Template with TemplateEngine)</p>\n<pre><code>private Map&lt;String, Object&gt; createAdditionalContext() {\n\n  Map&lt;String, Object&gt; additionalContext = new HashMap&lt;&gt;();\n\n  ArrayList&lt;Integer&gt; rows = new ArrayList&lt;&gt;();\n  ArrayList&lt;Integer&gt; columns = new ArrayList&lt;&gt;();\n\n  // Number of columns and rows in the table\n  int numColumns = 10;\n  int numRows = 1;\n\n\n for (int i = 0; i &lt;= 0; i++) {\n     rows.add(i);\n\n     for (int j = 1; j &lt;= 25; j++) {\n         columns.add(j);\n\n         // FIXME\n         if (j % 5 == 0) {\n             rows.add(i);\n             break;\n         }\n     }\n }\n\n additionalContext.put(&quot;rows&quot;, rows);\n additionalContext.put(&quot;columns&quot;, columns);\n\n return additionalContext;\n}\n</code></pre>\n<p>Frontend:</p>\n<pre><code>&lt;table&gt;\n   &lt;tbody&gt;\n      &lt;tr th:each=&quot;row: ${rows}&quot;&gt;\n         &lt;td th:each=&quot;col: ${columns}&quot; th:text=&quot;${col}&quot;&gt;&lt;/td&gt;\n      &lt;/tr&gt;\n   &lt;/tbody&gt;\n&lt;/table&gt;\n</code></pre>\n<p>Output now:</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th></th>\n<th></th>\n<th></th>\n<th></th>\n<th></th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>1</td>\n<td>2</td>\n<td>3</td>\n<td>4</td>\n<td>5</td>\n</tr>\n<tr>\n<td>1</td>\n<td>2</td>\n<td>3</td>\n<td>4</td>\n<td>5</td>\n</tr>\n</tbody>\n</table>\n</div><br>\nOutput should be:\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th></th>\n<th></th>\n<th></th>\n<th></th>\n<th></th>\n<th></th>\n<th></th>\n<th></th>\n<th></th>\n<th></th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>1</td>\n<td>2</td>\n<td>3</td>\n<td>4</td>\n<td>5</td>\n<td>1</td>\n<td>2</td>\n<td>3</td>\n<td>4</td>\n<td>5</td>\n</tr>\n<tr>\n<td>6</td>\n<td>7</td>\n<td>8</td>\n<td>9</td>\n<td>10</td>\n<td>6</td>\n<td>7</td>\n<td>8</td>\n<td>9</td>\n<td>10</td>\n</tr>\n<tr>\n<td>11</td>\n<td>12</td>\n<td>13</td>\n<td>14</td>\n<td>15</td>\n<td>11</td>\n<td>12</td>\n<td>13</td>\n<td>14</td>\n<td>15</td>\n</tr>\n<tr>\n<td>16</td>\n<td>17</td>\n<td>18</td>\n<td>19</td>\n<td>20</td>\n<td>16</td>\n<td>17</td>\n<td>18</td>\n<td>19</td>\n<td>20</td>\n</tr>\n<tr>\n<td>21</td>\n<td>22</td>\n<td>23</td>\n<td>24</td>\n<td>25</td>\n<td>21</td>\n<td>22</td>\n<td>23</td>\n<td>24</td>\n<td>25</td>\n</tr>\n</tbody>\n</table>\n</div>"},{"tags":["java","stanford-nlp","sentiment-analysis"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1689271094,"post_id":76673794,"comment_id":135193530,"body_markdown":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer.","body":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer."}],"owner":{"account_id":29004942,"reputation":1,"user_id":22217717,"display_name":"jessicaaamango"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689265436,"creation_date":1689189225,"question_id":76673794,"body_markdown":"I am trying to retrain the Sentiment Analysis Annotator. I am struggling with trying to change my file to a binarized tree with the following call:\r\n\r\n`$ java -mx5g edu.stanford.nlp.sentiment.BuildBinarizedDataset -input sample.txt`\r\n\r\n**Here are the errors I keep running into:**\r\n\r\n    BuildBinarizedDataset.java:7: error: package edu.stanford.nlp.io does not exist\r\n    import edu.stanford.nlp.io.IOUtils;\r\n                              ^\r\n    BuildBinarizedDataset.java:8: error: package edu.stanford.nlp.ling does not exist\r\n    import edu.stanford.nlp.ling.CoreAnnotations;\r\n                                ^\r\n    BuildBinarizedDataset.java:9: error: package edu.stanford.nlp.ling does not exist\r\n    import edu.stanford.nlp.ling.CoreLabel;\r\n                                ^\r\n    BuildBinarizedDataset.java:10: error: package edu.stanford.nlp.ling does not exist\r\n    import edu.stanford.nlp.ling.HasWord;\r\n                                ^\r\n    BuildBinarizedDataset.java:11: error: package edu.stanford.nlp.neural.rnn does not exist\r\n    import edu.stanford.nlp.neural.rnn.RNNCoreAnnotations;\r\n                                      ^\r\n    BuildBinarizedDataset.java:12: error: package edu.stanford.nlp.parser.lexparser does not exist\r\n    import edu.stanford.nlp.parser.lexparser.LexicalizedParser;\r\n                                            ^\r\n    BuildBinarizedDataset.java:13: error: package edu.stanford.nlp.parser.lexparser does not exist\r\n    import edu.stanford.nlp.parser.lexparser.TreeBinarizer;\r\n                                            ^\r\n    BuildBinarizedDataset.java:14: error: package edu.stanford.nlp.process does not exist\r\n    import edu.stanford.nlp.process.DocumentPreprocessor;\r\n                                   ^\r\n    BuildBinarizedDataset.java:15: error: package edu.stanford.nlp.trees does not exist\r\n    import edu.stanford.nlp.trees.Tree;\r\n                                 ^\r\n    BuildBinarizedDataset.java:16: error: package edu.stanford.nlp.trees does not exist\r\n    import edu.stanford.nlp.trees.Trees;\r\n                                 ^\r\n    BuildBinarizedDataset.java:17: error: package edu.stanford.nlp.util does not exist\r\n    import edu.stanford.nlp.util.Generics;\r\n                                ^\r\n    BuildBinarizedDataset.java:18: error: package edu.stanford.nlp.util does not exist\r\n    import edu.stanford.nlp.util.Pair;\r\n                                ^\r\n    BuildBinarizedDataset.java:19: error: package edu.stanford.nlp.util.logging does not exist\r\n    import edu.stanford.nlp.util.logging.Redwood;\r\n                                        ^\r\n    BuildBinarizedDataset.java:28: error: package Redwood does not exist\r\n      private static final Redwood.RedwoodChannels log = Redwood.channels(BuildBinarizedDataset.class);\r\n                                  ^\r\n    BuildBinarizedDataset.java:35: error: cannot find symbol\r\n      public static void setUnknownLabels(Tree tree, Integer defaultLabel) {\r\n                                          ^\r\n      symbol:   class Tree\r\n      location: class BuildBinarizedDataset\r\n    BuildBinarizedDataset.java:47: error: cannot find symbol\r\n      public static void setPredictedLabels(Tree tree) {\r\n                                            ^\r\n      symbol:   class Tree\r\n      location: class BuildBinarizedDataset\r\n    BuildBinarizedDataset.java:59: error: cannot find symbol\r\n      public static void extractLabels(Map&lt;Pair&lt;Integer, Integer&gt;, String&gt; spanToLabels, List&lt;HasWord&gt; tokens, String line) {\r\n                                           ^\r\n      symbol:   class Pair\r\n      location: class BuildBinarizedDataset\r\n    BuildBinarizedDataset.java:59: error: cannot find symbol\r\n      public static void extractLabels(Map&lt;Pair&lt;Integer, Integer&gt;, String&gt; spanToLabels, List&lt;HasWord&gt; tokens, String line) {\r\n                                                                                              ^\r\n      symbol:   class HasWord\r\n      location: class BuildBinarizedDataset\r\n    BuildBinarizedDataset.java:84: error: cannot find symbol\r\n      public static boolean setSpanLabel(Tree tree, Pair&lt;Integer, Integer&gt; span, String value) {\r\n                                         ^\r\n      symbol:   class Tree\r\n      location: class BuildBinarizedDataset\r\n    BuildBinarizedDataset.java:84: error: cannot find symbol\r\n      public static boolean setSpanLabel(Tree tree, Pair&lt;Integer, Integer&gt; span, String value) {\r\n                                                    ^\r\n      symbol:   class Pair\r\n      location: class BuildBinarizedDataset\r\n    BuildBinarizedDataset.java:28: error: cannot find symbol\r\n      private static final Redwood.RedwoodChannels log = Redwood.channels(BuildBinarizedDataset.class);\r\n                                                         ^\r\n      symbol:   variable Redwood\r\n      location: class BuildBinarizedDataset\r\n    BuildBinarizedDataset.java:40: error: cannot find symbol\r\n        for (Tree child : tree.children()) {\r\n             ^\r\n      symbol:   class Tree\r\n      location: class BuildBinarizedDataset\r\n    BuildBinarizedDataset.java:52: error: cannot find symbol\r\n        for (Tree child : tree.children()) {\r\n             ^\r\n      symbol:   class Tree\r\n      location: class BuildBinarizedDataset\r\n    BuildBinarizedDataset.java:56: error: cannot find symbol\r\n        tree.label().setValue(Integer.toString(RNNCoreAnnotations.getPredictedClass(tree)));\r\n                                               ^\r\n      symbol:   variable RNNCoreAnnotations\r\n      location: class BuildBinarizedDataset\r\n    BuildBinarizedDataset.java:79: error: cannot find symbol\r\n            spanToLabels.put(new Pair&lt;&gt;(i, i + pieces.length - 1), pieces[0]);\r\n                                 ^\r\n      symbol:   class Pair\r\n      location: class BuildBinarizedDataset\r\n    BuildBinarizedDataset.java:85: error: cannot find symbol\r\n        if (!(tree.label() instanceof CoreLabel)) {\r\n                                      ^\r\n      symbol:   class CoreLabel\r\n      location: class BuildBinarizedDataset\r\n    BuildBinarizedDataset.java:88: error: cannot find symbol\r\n        CoreLabel label = (CoreLabel) tree.label();\r\n        ^\r\n      symbol:   class CoreLabel\r\n      location: class BuildBinarizedDataset\r\n    BuildBinarizedDataset.java:88: error: cannot find symbol\r\n        CoreLabel label = (CoreLabel) tree.label();\r\n                           ^\r\n      symbol:   class CoreLabel\r\n      location: class BuildBinarizedDataset\r\n    BuildBinarizedDataset.java:89: error: package CoreAnnotations does not exist\r\n        if (label.get(CoreAnnotations.BeginIndexAnnotation.class).equals(span.first) &amp;&amp;\r\n                                     ^\r\n    BuildBinarizedDataset.java:90: error: package CoreAnnotations does not exist\r\n            label.get(CoreAnnotations.EndIndexAnnotation.class).equals(span.second)) {\r\n                                     ^\r\n    BuildBinarizedDataset.java:94: error: package CoreAnnotations does not exist\r\n        if (label.get(CoreAnnotations.BeginIndexAnnotation.class) &gt; span.first &amp;&amp;\r\n                                     ^\r\n    BuildBinarizedDataset.java:95: error: package CoreAnnotations does not exist\r\n            label.get(CoreAnnotations.EndIndexAnnotation.class) &lt; span.second) {\r\n                                     ^\r\n    BuildBinarizedDataset.java:98: error: cannot find symbol\r\n        for (Tree child : tree.children()) {\r\n             ^\r\n      symbol:   class Tree\r\n      location: class BuildBinarizedDataset\r\n    BuildBinarizedDataset.java:160: error: cannot find symbol\r\n        CollapseUnaryTransformer transformer = new CollapseUnaryTransformer();\r\n        ^\r\n      symbol:   class CollapseUnaryTransformer\r\n      location: class BuildBinarizedDataset\r\n    BuildBinarizedDataset.java:160: error: cannot find symbol\r\n        CollapseUnaryTransformer transformer = new CollapseUnaryTransformer();\r\n                                                   ^\r\n      symbol:   class CollapseUnaryTransformer\r\n      location: class BuildBinarizedDataset\r\n    BuildBinarizedDataset.java:167: error: cannot find symbol\r\n        SentimentModel sentimentModel = null;\r\n        ^\r\n      symbol:   class SentimentModel\r\n      location: class BuildBinarizedDataset\r\n    BuildBinarizedDataset.java:189: error: cannot find symbol\r\n        LexicalizedParser parser = LexicalizedParser.loadModel(parserModel);\r\n        ^\r\n      symbol:   class LexicalizedParser\r\n      location: class BuildBinarizedDataset\r\n    BuildBinarizedDataset.java:189: error: cannot find symbol\r\n        LexicalizedParser parser = LexicalizedParser.loadModel(parserModel);\r\n                                   ^\r\n      symbol:   variable LexicalizedParser\r\n      location: class BuildBinarizedDataset\r\n    BuildBinarizedDataset.java:190: error: cannot find symbol\r\n        TreeBinarizer binarizer = TreeBinarizer.simpleTreeBinarizer(parser.getTLPParams().headFinder(), parser.treebankLanguagePack());\r\n        ^\r\n      symbol:   class TreeBinarizer\r\n      location: class BuildBinarizedDataset\r\n    BuildBinarizedDataset.java:190: error: cannot find symbol\r\n        TreeBinarizer binarizer = TreeBinarizer.simpleTreeBinarizer(parser.getTLPParams().headFinder(), parser.treebankLanguagePack());\r\n                                  ^\r\n      symbol:   variable TreeBinarizer\r\n      location: class BuildBinarizedDataset\r\n    BuildBinarizedDataset.java:193: error: cannot find symbol\r\n          sentimentModel = SentimentModel.loadSerialized(sentimentModelPath);\r\n                           ^\r\n      symbol:   variable SentimentModel\r\n      location: class BuildBinarizedDataset\r\n    BuildBinarizedDataset.java:196: error: cannot find symbol\r\n        String text = IOUtils.slurpFileNoExceptions(inputPath);\r\n                      ^\r\n      symbol:   variable IOUtils\r\n      location: class BuildBinarizedDataset\r\n    BuildBinarizedDataset.java:211: error: cannot find symbol\r\n          DocumentPreprocessor document = new DocumentPreprocessor(sin);\r\n          ^\r\n      symbol:   class DocumentPreprocessor\r\n      location: class BuildBinarizedDataset\r\n    BuildBinarizedDataset.java:211: error: cannot find symbol\r\n          DocumentPreprocessor document = new DocumentPreprocessor(sin);\r\n                                              ^\r\n      symbol:   class DocumentPreprocessor\r\n      location: class BuildBinarizedDataset\r\n    BuildBinarizedDataset.java:213: error: cannot find symbol\r\n          List&lt;HasWord&gt; tokens = document.iterator().next();\r\n               ^\r\n      symbol:   class HasWord\r\n      location: class BuildBinarizedDataset\r\n    BuildBinarizedDataset.java:219: error: cannot find symbol\r\n          Map&lt;Pair&lt;Integer, Integer&gt;, String&gt; spanToLabels = Generics.newHashMap();\r\n              ^\r\n      symbol:   class Pair\r\n      location: class BuildBinarizedDataset\r\n    BuildBinarizedDataset.java:219: error: cannot find symbol\r\n          Map&lt;Pair&lt;Integer, Integer&gt;, String&gt; spanToLabels = Generics.newHashMap();\r\n                                                             ^\r\n      symbol:   variable Generics\r\n      location: class BuildBinarizedDataset\r\n    BuildBinarizedDataset.java:226: error: cannot find symbol\r\n          Tree tree = parser.apply(tokens);\r\n          ^\r\n      symbol:   class Tree\r\n      location: class BuildBinarizedDataset\r\n    BuildBinarizedDataset.java:227: error: cannot find symbol\r\n          Tree binarized = binarizer.transformTree(tree);\r\n          ^\r\n      symbol:   class Tree\r\n      location: class BuildBinarizedDataset\r\n    BuildBinarizedDataset.java:228: error: cannot find symbol\r\n          Tree collapsedUnary = transformer.transformTree(binarized);\r\n          ^\r\n      symbol:   class Tree\r\n      location: class BuildBinarizedDataset\r\n    BuildBinarizedDataset.java:233: error: cannot find symbol\r\n            Trees.convertToCoreLabels(collapsedUnary);\r\n            ^\r\n      symbol:   variable Trees\r\n      location: class BuildBinarizedDataset\r\n    BuildBinarizedDataset.java:234: error: cannot find symbol\r\n            SentimentCostAndGradient scorer = new SentimentCostAndGradient(sentimentModel, null);\r\n            ^\r\n      symbol:   class SentimentCostAndGradient\r\n      location: class BuildBinarizedDataset\r\n    BuildBinarizedDataset.java:234: error: cannot find symbol\r\n            SentimentCostAndGradient scorer = new SentimentCostAndGradient(sentimentModel, null);\r\n                                                  ^\r\n      symbol:   class SentimentCostAndGradient\r\n      location: class BuildBinarizedDataset\r\n    BuildBinarizedDataset.java:241: error: cannot find symbol\r\n          Trees.convertToCoreLabels(collapsedUnary);\r\n          ^\r\n      symbol:   variable Trees\r\n      location: class BuildBinarizedDataset\r\n    BuildBinarizedDataset.java:244: error: cannot find symbol\r\n          for (Map.Entry&lt;Pair&lt;Integer, Integer&gt;, String&gt; pairStringEntry : spanToLabels.entrySet()) {\r\n                         ^\r\n      symbol:   class Pair\r\n      location: class BuildBinarizedDataset\r\n    55 errors\r\n    error: compilation failed\r\n\r\n**Can someone help me figure out how to fix this please? I have already tried adding the CoreNLP repository to eclipse and adding the jar files, however, it&#39;s still not working. What do I do?**","title":"Retraining Sentiment Analysis Annotator: Changing File to a Binarized Tree Issues","body":"<p>I am trying to retrain the Sentiment Analysis Annotator. I am struggling with trying to change my file to a binarized tree with the following call:</p>\n<p><code>$ java -mx5g edu.stanford.nlp.sentiment.BuildBinarizedDataset -input sample.txt</code></p>\n<p><strong>Here are the errors I keep running into:</strong></p>\n<pre><code>BuildBinarizedDataset.java:7: error: package edu.stanford.nlp.io does not exist\nimport edu.stanford.nlp.io.IOUtils;\n                          ^\nBuildBinarizedDataset.java:8: error: package edu.stanford.nlp.ling does not exist\nimport edu.stanford.nlp.ling.CoreAnnotations;\n                            ^\nBuildBinarizedDataset.java:9: error: package edu.stanford.nlp.ling does not exist\nimport edu.stanford.nlp.ling.CoreLabel;\n                            ^\nBuildBinarizedDataset.java:10: error: package edu.stanford.nlp.ling does not exist\nimport edu.stanford.nlp.ling.HasWord;\n                            ^\nBuildBinarizedDataset.java:11: error: package edu.stanford.nlp.neural.rnn does not exist\nimport edu.stanford.nlp.neural.rnn.RNNCoreAnnotations;\n                                  ^\nBuildBinarizedDataset.java:12: error: package edu.stanford.nlp.parser.lexparser does not exist\nimport edu.stanford.nlp.parser.lexparser.LexicalizedParser;\n                                        ^\nBuildBinarizedDataset.java:13: error: package edu.stanford.nlp.parser.lexparser does not exist\nimport edu.stanford.nlp.parser.lexparser.TreeBinarizer;\n                                        ^\nBuildBinarizedDataset.java:14: error: package edu.stanford.nlp.process does not exist\nimport edu.stanford.nlp.process.DocumentPreprocessor;\n                               ^\nBuildBinarizedDataset.java:15: error: package edu.stanford.nlp.trees does not exist\nimport edu.stanford.nlp.trees.Tree;\n                             ^\nBuildBinarizedDataset.java:16: error: package edu.stanford.nlp.trees does not exist\nimport edu.stanford.nlp.trees.Trees;\n                             ^\nBuildBinarizedDataset.java:17: error: package edu.stanford.nlp.util does not exist\nimport edu.stanford.nlp.util.Generics;\n                            ^\nBuildBinarizedDataset.java:18: error: package edu.stanford.nlp.util does not exist\nimport edu.stanford.nlp.util.Pair;\n                            ^\nBuildBinarizedDataset.java:19: error: package edu.stanford.nlp.util.logging does not exist\nimport edu.stanford.nlp.util.logging.Redwood;\n                                    ^\nBuildBinarizedDataset.java:28: error: package Redwood does not exist\n  private static final Redwood.RedwoodChannels log = Redwood.channels(BuildBinarizedDataset.class);\n                              ^\nBuildBinarizedDataset.java:35: error: cannot find symbol\n  public static void setUnknownLabels(Tree tree, Integer defaultLabel) {\n                                      ^\n  symbol:   class Tree\n  location: class BuildBinarizedDataset\nBuildBinarizedDataset.java:47: error: cannot find symbol\n  public static void setPredictedLabels(Tree tree) {\n                                        ^\n  symbol:   class Tree\n  location: class BuildBinarizedDataset\nBuildBinarizedDataset.java:59: error: cannot find symbol\n  public static void extractLabels(Map&lt;Pair&lt;Integer, Integer&gt;, String&gt; spanToLabels, List&lt;HasWord&gt; tokens, String line) {\n                                       ^\n  symbol:   class Pair\n  location: class BuildBinarizedDataset\nBuildBinarizedDataset.java:59: error: cannot find symbol\n  public static void extractLabels(Map&lt;Pair&lt;Integer, Integer&gt;, String&gt; spanToLabels, List&lt;HasWord&gt; tokens, String line) {\n                                                                                          ^\n  symbol:   class HasWord\n  location: class BuildBinarizedDataset\nBuildBinarizedDataset.java:84: error: cannot find symbol\n  public static boolean setSpanLabel(Tree tree, Pair&lt;Integer, Integer&gt; span, String value) {\n                                     ^\n  symbol:   class Tree\n  location: class BuildBinarizedDataset\nBuildBinarizedDataset.java:84: error: cannot find symbol\n  public static boolean setSpanLabel(Tree tree, Pair&lt;Integer, Integer&gt; span, String value) {\n                                                ^\n  symbol:   class Pair\n  location: class BuildBinarizedDataset\nBuildBinarizedDataset.java:28: error: cannot find symbol\n  private static final Redwood.RedwoodChannels log = Redwood.channels(BuildBinarizedDataset.class);\n                                                     ^\n  symbol:   variable Redwood\n  location: class BuildBinarizedDataset\nBuildBinarizedDataset.java:40: error: cannot find symbol\n    for (Tree child : tree.children()) {\n         ^\n  symbol:   class Tree\n  location: class BuildBinarizedDataset\nBuildBinarizedDataset.java:52: error: cannot find symbol\n    for (Tree child : tree.children()) {\n         ^\n  symbol:   class Tree\n  location: class BuildBinarizedDataset\nBuildBinarizedDataset.java:56: error: cannot find symbol\n    tree.label().setValue(Integer.toString(RNNCoreAnnotations.getPredictedClass(tree)));\n                                           ^\n  symbol:   variable RNNCoreAnnotations\n  location: class BuildBinarizedDataset\nBuildBinarizedDataset.java:79: error: cannot find symbol\n        spanToLabels.put(new Pair&lt;&gt;(i, i + pieces.length - 1), pieces[0]);\n                             ^\n  symbol:   class Pair\n  location: class BuildBinarizedDataset\nBuildBinarizedDataset.java:85: error: cannot find symbol\n    if (!(tree.label() instanceof CoreLabel)) {\n                                  ^\n  symbol:   class CoreLabel\n  location: class BuildBinarizedDataset\nBuildBinarizedDataset.java:88: error: cannot find symbol\n    CoreLabel label = (CoreLabel) tree.label();\n    ^\n  symbol:   class CoreLabel\n  location: class BuildBinarizedDataset\nBuildBinarizedDataset.java:88: error: cannot find symbol\n    CoreLabel label = (CoreLabel) tree.label();\n                       ^\n  symbol:   class CoreLabel\n  location: class BuildBinarizedDataset\nBuildBinarizedDataset.java:89: error: package CoreAnnotations does not exist\n    if (label.get(CoreAnnotations.BeginIndexAnnotation.class).equals(span.first) &amp;&amp;\n                                 ^\nBuildBinarizedDataset.java:90: error: package CoreAnnotations does not exist\n        label.get(CoreAnnotations.EndIndexAnnotation.class).equals(span.second)) {\n                                 ^\nBuildBinarizedDataset.java:94: error: package CoreAnnotations does not exist\n    if (label.get(CoreAnnotations.BeginIndexAnnotation.class) &gt; span.first &amp;&amp;\n                                 ^\nBuildBinarizedDataset.java:95: error: package CoreAnnotations does not exist\n        label.get(CoreAnnotations.EndIndexAnnotation.class) &lt; span.second) {\n                                 ^\nBuildBinarizedDataset.java:98: error: cannot find symbol\n    for (Tree child : tree.children()) {\n         ^\n  symbol:   class Tree\n  location: class BuildBinarizedDataset\nBuildBinarizedDataset.java:160: error: cannot find symbol\n    CollapseUnaryTransformer transformer = new CollapseUnaryTransformer();\n    ^\n  symbol:   class CollapseUnaryTransformer\n  location: class BuildBinarizedDataset\nBuildBinarizedDataset.java:160: error: cannot find symbol\n    CollapseUnaryTransformer transformer = new CollapseUnaryTransformer();\n                                               ^\n  symbol:   class CollapseUnaryTransformer\n  location: class BuildBinarizedDataset\nBuildBinarizedDataset.java:167: error: cannot find symbol\n    SentimentModel sentimentModel = null;\n    ^\n  symbol:   class SentimentModel\n  location: class BuildBinarizedDataset\nBuildBinarizedDataset.java:189: error: cannot find symbol\n    LexicalizedParser parser = LexicalizedParser.loadModel(parserModel);\n    ^\n  symbol:   class LexicalizedParser\n  location: class BuildBinarizedDataset\nBuildBinarizedDataset.java:189: error: cannot find symbol\n    LexicalizedParser parser = LexicalizedParser.loadModel(parserModel);\n                               ^\n  symbol:   variable LexicalizedParser\n  location: class BuildBinarizedDataset\nBuildBinarizedDataset.java:190: error: cannot find symbol\n    TreeBinarizer binarizer = TreeBinarizer.simpleTreeBinarizer(parser.getTLPParams().headFinder(), parser.treebankLanguagePack());\n    ^\n  symbol:   class TreeBinarizer\n  location: class BuildBinarizedDataset\nBuildBinarizedDataset.java:190: error: cannot find symbol\n    TreeBinarizer binarizer = TreeBinarizer.simpleTreeBinarizer(parser.getTLPParams().headFinder(), parser.treebankLanguagePack());\n                              ^\n  symbol:   variable TreeBinarizer\n  location: class BuildBinarizedDataset\nBuildBinarizedDataset.java:193: error: cannot find symbol\n      sentimentModel = SentimentModel.loadSerialized(sentimentModelPath);\n                       ^\n  symbol:   variable SentimentModel\n  location: class BuildBinarizedDataset\nBuildBinarizedDataset.java:196: error: cannot find symbol\n    String text = IOUtils.slurpFileNoExceptions(inputPath);\n                  ^\n  symbol:   variable IOUtils\n  location: class BuildBinarizedDataset\nBuildBinarizedDataset.java:211: error: cannot find symbol\n      DocumentPreprocessor document = new DocumentPreprocessor(sin);\n      ^\n  symbol:   class DocumentPreprocessor\n  location: class BuildBinarizedDataset\nBuildBinarizedDataset.java:211: error: cannot find symbol\n      DocumentPreprocessor document = new DocumentPreprocessor(sin);\n                                          ^\n  symbol:   class DocumentPreprocessor\n  location: class BuildBinarizedDataset\nBuildBinarizedDataset.java:213: error: cannot find symbol\n      List&lt;HasWord&gt; tokens = document.iterator().next();\n           ^\n  symbol:   class HasWord\n  location: class BuildBinarizedDataset\nBuildBinarizedDataset.java:219: error: cannot find symbol\n      Map&lt;Pair&lt;Integer, Integer&gt;, String&gt; spanToLabels = Generics.newHashMap();\n          ^\n  symbol:   class Pair\n  location: class BuildBinarizedDataset\nBuildBinarizedDataset.java:219: error: cannot find symbol\n      Map&lt;Pair&lt;Integer, Integer&gt;, String&gt; spanToLabels = Generics.newHashMap();\n                                                         ^\n  symbol:   variable Generics\n  location: class BuildBinarizedDataset\nBuildBinarizedDataset.java:226: error: cannot find symbol\n      Tree tree = parser.apply(tokens);\n      ^\n  symbol:   class Tree\n  location: class BuildBinarizedDataset\nBuildBinarizedDataset.java:227: error: cannot find symbol\n      Tree binarized = binarizer.transformTree(tree);\n      ^\n  symbol:   class Tree\n  location: class BuildBinarizedDataset\nBuildBinarizedDataset.java:228: error: cannot find symbol\n      Tree collapsedUnary = transformer.transformTree(binarized);\n      ^\n  symbol:   class Tree\n  location: class BuildBinarizedDataset\nBuildBinarizedDataset.java:233: error: cannot find symbol\n        Trees.convertToCoreLabels(collapsedUnary);\n        ^\n  symbol:   variable Trees\n  location: class BuildBinarizedDataset\nBuildBinarizedDataset.java:234: error: cannot find symbol\n        SentimentCostAndGradient scorer = new SentimentCostAndGradient(sentimentModel, null);\n        ^\n  symbol:   class SentimentCostAndGradient\n  location: class BuildBinarizedDataset\nBuildBinarizedDataset.java:234: error: cannot find symbol\n        SentimentCostAndGradient scorer = new SentimentCostAndGradient(sentimentModel, null);\n                                              ^\n  symbol:   class SentimentCostAndGradient\n  location: class BuildBinarizedDataset\nBuildBinarizedDataset.java:241: error: cannot find symbol\n      Trees.convertToCoreLabels(collapsedUnary);\n      ^\n  symbol:   variable Trees\n  location: class BuildBinarizedDataset\nBuildBinarizedDataset.java:244: error: cannot find symbol\n      for (Map.Entry&lt;Pair&lt;Integer, Integer&gt;, String&gt; pairStringEntry : spanToLabels.entrySet()) {\n                     ^\n  symbol:   class Pair\n  location: class BuildBinarizedDataset\n55 errors\nerror: compilation failed\n</code></pre>\n<p><strong>Can someone help me figure out how to fix this please? I have already tried adding the CoreNLP repository to eclipse and adding the jar files, however, it's still not working. What do I do?</strong></p>\n"},{"tags":["java","javafx"],"comments":[{"owner":{"account_id":3212023,"reputation":1016,"user_id":17856705,"display_name":"Computable"},"score":2,"creation_date":1689265849,"post_id":76681471,"comment_id":135192582,"body_markdown":"Your `updatePositions` uses `body.isFixed()` which you haven&#39;t shown - and seems to contradict what is stated about `isImmovable`.","body":"Your <code>updatePositions</code> uses <code>body.isFixed()</code> which you haven&#39;t shown - and seems to contradict what is stated about <code>isImmovable</code>."},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":2,"creation_date":1689266142,"post_id":76681471,"comment_id":135192646,"body_markdown":"it is *very hard* to debug a program without having its source - usually better to include a [mre] in the question","body":"it is <i>very hard</i> to debug a program without having its source - usually better to include a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> in the question"},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":2,"creation_date":1689272398,"post_id":76681471,"comment_id":135193780,"body_markdown":"I&#39;d _expect_ the Sun to orbit the [barycenter](https://en.wikipedia.org/wiki/Barycenter) of the bodies in a simulation.","body":"I&#39;d <i>expect</i> the Sun to orbit the <a href=\"https://en.wikipedia.org/wiki/Barycenter\" rel=\"nofollow noreferrer\">barycenter</a> of the bodies in a simulation."}],"owner":{"account_id":28920934,"reputation":19,"user_id":22151901,"display_name":"gocdev78"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":84,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1689265053,"creation_date":1689265053,"question_id":76681471,"body_markdown":"I am working on a simulation of a solar system using JavaFX. I have a class CelestialBody representing each celestial body, and an additional boolean field isImmovable which is supposed to control whether a celestial body is affected by gravitational forces or not. The idea was to make the Sun immovable, while planets orbit around it.\r\n\r\nMy problem is that despite setting the Sun as immovable (isImmovable = true), it still moves around in the simulation as if it is being influenced by the gravity of other celestial bodies.\r\n\r\nHere is the constructor for the CelestialBody class:\r\n```\r\npublic CelestialBody(String name, double mass, double radius, Vector3D position, Vector3D velocity, String textureFilename, double orbitalSpeed, boolean isImmovable) {\r\n    this.name = name;\r\n    this.mass = mass;\r\n    this.radius = radius;\r\n    this.position = position;\r\n    this.velocity = velocity;\r\n    this.textureFilename = textureFilename;\r\n    this.rotationAngle = 0.0;\r\n    this.orbitalSpeed = orbitalSpeed;\r\n    this.isImmovable = isImmovable;\r\n}\r\n```\r\nAnd here is how I initialize the Sun: \r\n```\r\nCelestialBody sunBody = new CelestialBody(&quot;Sun&quot;, 1.989 * Math.pow(10, 30), 15.0 * earthRadius, new Vector3D(0, 0, 0), zeroVelocity, &quot;sun.jpg&quot;, 0.0, true);\r\n```\r\nIn the part of the code that calculates the new position for each celestial body, I have the following:\r\n```\r\nif (!body.isImmovable()) {\r\n    // Here I calculate and update the new position for the celestial body\r\n}\r\n```\r\nThis should skip the position update for the Sun, however, it still moves. Does anyone have any idea why this might be the case and how I could fix this? Any help would be much appreciated.\r\n[![enter image description here](https://i.stack.imgur.com/lUPUf.png)](https://i.stack.imgur.com/lUPUf.png)\r\n\r\nMainApp:\r\n```\r\npublic class MainApp extends Application {\r\n    @Override\r\n    public void start(Stage stage) throws Exception {\r\n        SolarSystem solarSystem = initSolarSystem();\r\n        SolarSystemSimulation simulation = new SolarSystemSimulation(solarSystem);\r\n\r\n        // Stworzenie AnchorPane i dodanie do niego symulacji\r\n        AnchorPane root = new AnchorPane();\r\n        root.getChildren().add(simulation);\r\n        AnchorPane.setTopAnchor(simulation, 0.0);\r\n        AnchorPane.setBottomAnchor(simulation, 0.0);\r\n        AnchorPane.setLeftAnchor(simulation, 0.0);\r\n        AnchorPane.setRightAnchor(simulation, 0.0);\r\n\r\n        // Wczytanie obrazu tła i ustawienie go jako tła dla sceny\r\n        Image spaceBackground = new Image(getClass().getResource(&quot;/space_background.jpg&quot;).toExternalForm());\r\n        root.setBackground(new Background(new BackgroundFill(new ImagePattern(spaceBackground), CornerRadii.EMPTY, Insets.EMPTY)));\r\n\r\n        Scene scene = new Scene(root, 1200, 900);\r\n\r\n        PerspectiveCamera camera = new PerspectiveCamera();\r\n        camera.setNearClip(0.0001);\r\n        camera.setFarClip(900.0);\r\n        camera.setTranslateZ(-30);\r\n        camera.setRotate(0); // Dodaj obroty\r\n        camera.setTranslateY(0); // Dodaj przesunięcie\r\n        camera.setTranslateX(0); // Dodaj przesunięcie\r\n        scene.setCamera(camera);\r\n\r\n        // Przesuwanie symulacji, aby środek symulacji pokrywał się ze środkiem ekranu\r\n        simulation.setTranslateX(scene.getWidth() / 2);\r\n        simulation.setTranslateY(scene.getHeight() / 2);\r\n\r\n        stage.setScene(scene);\r\n        stage.show();\r\n\r\n        simulation.start();\r\n\r\n        // Ustawienie większego promienia dla słońca\r\n        DisplayedCelestialBody sun = solarSystem.getBodies().get(0);\r\n        sun.getCelestialBody().setRadius(1000);\r\n\r\n        // Dodanie obsługi zdarzenia scroll na scenie\r\n        scene.setOnScroll(event -&gt; {\r\n            double delta = event.getDeltaY();\r\n            camera.setTranslateZ(camera.getTranslateZ() + delta);\r\n        });\r\n    }\r\n\r\n    private SolarSystem initSolarSystem() {\r\n        SolarSystem solarSystem = new SolarSystem();\r\n\r\n        double earthRadius = 1.0;\r\n        double oneAU = 50.0;\r\n        double earthOrbitalPeriod = 365.25;  // Okres orbitalny Ziemi\r\n\r\n        Vector3D zeroVelocity = new Vector3D(0, 0, 0);\r\n\r\n        CelestialBody sunBody = new CelestialBody(&quot;Sun&quot;, 1.989 * Math.pow(10, 30), 15.0 * earthRadius, new Vector3D(0, 0, 0), zeroVelocity, &quot;sun.jpg&quot;, 0.0,true);;\r\n        Sphere sunSphere = new Sphere(sunBody.getRadius());\r\n        DisplayedCelestialBody sun = new DisplayedCelestialBody(sunBody, sunSphere);\r\n        solarSystem.addBody(sun);\r\n\r\n        // Dodajemy resztę ciał niebieskich\r\n        String[] planetNames = {&quot;Mercury&quot;, &quot;Venus&quot;, &quot;Earth&quot;, &quot;Mars&quot;, &quot;Jupiter&quot;, &quot;Saturn&quot;, &quot;Uranus&quot;, &quot;Neptune&quot;};\r\n        double[] planetSizes = {0.383, 0.949, 1.0, 0.532, 11.21, 9.45, 4.01, 3.88};\r\n        double[] distancesFromSun = {0.39, 0.723, 1.0, 1.52, 5.20, 9.58, 19.18, 30.07};\r\n        double[] orbitalPeriods = {88.0, 225.0, 365.25, 1.88, 11.86, 29.46, 84.02, 164.8};\r\n\r\n        for (int i = 0; i &lt; planetNames.length; i++) {\r\n            CelestialBody body = new CelestialBody(planetNames[i], 1.0, planetSizes[i]*earthRadius, new Vector3D(0, 0, distancesFromSun[i]*oneAU), zeroVelocity, planetNames[i].toLowerCase() + &quot;.jpg&quot;, orbitalPeriods[i] / earthOrbitalPeriod, false);\r\n\r\n            Sphere sphere = new Sphere(body.getRadius());\r\n            DisplayedCelestialBody displayedBody = new DisplayedCelestialBody(body, sphere);\r\n            solarSystem.addBody(displayedBody);\r\n        }\r\n\r\n        return solarSystem;\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        launch(args);\r\n    }\r\n}\r\n```\r\nSolarSystemSimulation:\r\n```\r\n    public class SolarSystemSimulation extends Group {\r\n    private SolarSystem solarSystem;\r\n    private double anchorX, anchorY;\r\n    private double anchorAngleX = 0;\r\n    private double anchorAngleY = 0;\r\n\r\n    public SolarSystemSimulation(SolarSystem solarSystem) {\r\n        this.solarSystem = solarSystem;\r\n\r\n        for (DisplayedCelestialBody displayedBody : solarSystem.getBodies()) {\r\n            CelestialBody body = displayedBody.getCelestialBody();\r\n            Sphere sphere = displayedBody.getDisplayObject();\r\n            PhongMaterial material = new PhongMaterial();\r\n            Image texture = loadImage(body.getTextureFilename());\r\n            if (texture != null) {\r\n                material.setDiffuseMap(texture);\r\n            }\r\n            sphere.setMaterial(material);\r\n            getChildren().add(sphere);\r\n        }\r\n\r\n        // Wypisanie promieni sfer\r\n        for (DisplayedCelestialBody displayedBody : solarSystem.getBodies()) {\r\n            CelestialBody body = displayedBody.getCelestialBody();\r\n            Sphere sphere = displayedBody.getDisplayObject();\r\n            System.out.println(&quot;Promień &quot; + body.getName() + &quot;: &quot; + sphere.getRadius());\r\n        }\r\n    }\r\n\r\n    public void setRadius(DisplayedCelestialBody displayedBody, double radius) {\r\n        Sphere sphere = displayedBody.getDisplayObject();\r\n        sphere.setRadius(radius);\r\n    }\r\n\r\n    private Image loadImage(String filename) {\r\n        InputStream inputStream = getClass().getResourceAsStream(&quot;/&quot; + filename);\r\n        return new Image(inputStream);\r\n    }\r\n\r\n    public void updatePositions(double deltaTime) {\r\n        List&lt;DisplayedCelestialBody&gt; bodies = solarSystem.getBodies();\r\n        for (int i = 1; i &lt; bodies.size(); i++) {\r\n            DisplayedCelestialBody displayedBody = bodies.get(i);\r\n            CelestialBody body = displayedBody.getCelestialBody();\r\n\r\n            // Prędkość kątowa każdego ciała niebieskiego\r\n            double angularSpeed = 2 * Math.PI / (body.getOrbitalSpeed() * 60);\r\n\r\n            // Pomijamy aktualizacje pozycji dla &quot;fixed&quot; obiekt&#243;w\r\n            if (body.isFixed()) {\r\n                continue;\r\n            }\r\n\r\n            // Obliczenie nowej pozycji ciała niebieskiego\r\n            Vector3D currentPosition = body.getPosition();\r\n            double angle = angularSpeed * deltaTime;\r\n            double newX = currentPosition.getX() * Math.cos(angle) - currentPosition.getZ() * Math.sin(angle);\r\n            double newZ = currentPosition.getX() * Math.sin(angle) + currentPosition.getZ() * Math.cos(angle);\r\n            Vector3D newPosition = new Vector3D(newX, currentPosition.getY(), newZ);\r\n\r\n            body.setPosition(newPosition);\r\n            }\r\n        }\r\n\r\n    public void start() {\r\n        setOnMousePressed(event -&gt; {\r\n            anchorX = event.getSceneX();\r\n            anchorY = event.getSceneY();\r\n            anchorAngleX = getRotate();\r\n            anchorAngleY = getRotate();\r\n\r\n        });\r\n\r\n        setOnMouseDragged(event -&gt; {\r\n            getTransforms().clear();\r\n            Rotate rotateX = new Rotate(anchorAngleX + (event.getSceneY() - anchorY), Rotate.X_AXIS);\r\n            Rotate rotateY = new Rotate(anchorAngleY - (event.getSceneX() - anchorX), Rotate.Y_AXIS);\r\n            getTransforms().addAll(rotateX, rotateY);\r\n\r\n        });\r\n\r\n        new AnimationTimer() {\r\n            @Override\r\n            public void handle(long now) {\r\n                // Obliczamy r&#243;żnicę czasu w sekundach\r\n                double deltaTime = 1.0 / 60.0;\r\n\r\n                updatePositions(deltaTime);\r\n\r\n                List&lt;DisplayedCelestialBody&gt; sortedDisplayedBodies = new ArrayList&lt;&gt;(solarSystem.getBodies());\r\n                sortedDisplayedBodies.sort((body1, body2) -&gt; {\r\n                    CelestialBody celestialBody1 = body1.getCelestialBody();\r\n                    CelestialBody celestialBody2 = body2.getCelestialBody();\r\n                    if (celestialBody1.getName().equals(&quot;Sun&quot;)) return 1;\r\n                    else if (celestialBody2.getName().equals(&quot;Sun&quot;)) return -1;\r\n                    else {\r\n                        Sphere sphere1 = body1.getDisplayObject();\r\n                        Sphere sphere2 = body2.getDisplayObject();\r\n                        double distance1 = calculateDistanceToCamera(sphere1);\r\n                        double distance2 = calculateDistanceToCamera(sphere2);\r\n                        return Double.compare(distance2, distance1);\r\n                    }\r\n                });\r\n\r\n                getChildren().clear();\r\n\r\n                for (DisplayedCelestialBody displayedBody : sortedDisplayedBodies) {\r\n                    CelestialBody body = displayedBody.getCelestialBody();\r\n                    Sphere sphere = displayedBody.getDisplayObject();\r\n                    sphere.setTranslateX(body.getPosition().getX());\r\n                    sphere.setTranslateY(body.getPosition().getY());\r\n                    sphere.setTranslateZ(body.getPosition().getZ());\r\n\r\n                    body.updateRotation(deltaTime);\r\n\r\n                    if (!body.getName().equals(&quot;Sun&quot;)) {\r\n                        sphere.getTransforms().clear();\r\n                        Rotate rotate = new Rotate(body.getRotationAngle(), Rotate.Y_AXIS);\r\n                        sphere.getTransforms().add(rotate);\r\n                    }\r\n\r\n                    getChildren().add(sphere);\r\n                }\r\n            }\r\n        }.start();\r\n    }\r\n\r\n\r\n    private double calculateDistanceToCamera(Sphere sphere) {\r\n        double cameraX = 0;  // Podstawowe wartości, jeśli kamera jest na pozycji (0,0,0)\r\n        double cameraY = 0;\r\n        double cameraZ = 0;\r\n        return Math.sqrt(Math.pow(sphere.getTranslateX() - cameraX, 2) +\r\n                Math.pow(sphere.getTranslateY() - cameraY, 2) +\r\n                Math.pow(sphere.getTranslateZ() - cameraZ, 2));\r\n    }\r\n}\r\n```\r\n","title":"JavaFX solar system simulation - Sun moving despite being set as immovable","body":"<p>I am working on a simulation of a solar system using JavaFX. I have a class CelestialBody representing each celestial body, and an additional boolean field isImmovable which is supposed to control whether a celestial body is affected by gravitational forces or not. The idea was to make the Sun immovable, while planets orbit around it.</p>\n<p>My problem is that despite setting the Sun as immovable (isImmovable = true), it still moves around in the simulation as if it is being influenced by the gravity of other celestial bodies.</p>\n<p>Here is the constructor for the CelestialBody class:</p>\n<pre><code>public CelestialBody(String name, double mass, double radius, Vector3D position, Vector3D velocity, String textureFilename, double orbitalSpeed, boolean isImmovable) {\n    this.name = name;\n    this.mass = mass;\n    this.radius = radius;\n    this.position = position;\n    this.velocity = velocity;\n    this.textureFilename = textureFilename;\n    this.rotationAngle = 0.0;\n    this.orbitalSpeed = orbitalSpeed;\n    this.isImmovable = isImmovable;\n}\n</code></pre>\n<p>And here is how I initialize the Sun:</p>\n<pre><code>CelestialBody sunBody = new CelestialBody(&quot;Sun&quot;, 1.989 * Math.pow(10, 30), 15.0 * earthRadius, new Vector3D(0, 0, 0), zeroVelocity, &quot;sun.jpg&quot;, 0.0, true);\n</code></pre>\n<p>In the part of the code that calculates the new position for each celestial body, I have the following:</p>\n<pre><code>if (!body.isImmovable()) {\n    // Here I calculate and update the new position for the celestial body\n}\n</code></pre>\n<p>This should skip the position update for the Sun, however, it still moves. Does anyone have any idea why this might be the case and how I could fix this? Any help would be much appreciated.\n<a href=\"https://i.stack.imgur.com/lUPUf.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/lUPUf.png\" alt=\"enter image description here\" /></a></p>\n<p>MainApp:</p>\n<pre><code>public class MainApp extends Application {\n    @Override\n    public void start(Stage stage) throws Exception {\n        SolarSystem solarSystem = initSolarSystem();\n        SolarSystemSimulation simulation = new SolarSystemSimulation(solarSystem);\n\n        // Stworzenie AnchorPane i dodanie do niego symulacji\n        AnchorPane root = new AnchorPane();\n        root.getChildren().add(simulation);\n        AnchorPane.setTopAnchor(simulation, 0.0);\n        AnchorPane.setBottomAnchor(simulation, 0.0);\n        AnchorPane.setLeftAnchor(simulation, 0.0);\n        AnchorPane.setRightAnchor(simulation, 0.0);\n\n        // Wczytanie obrazu tła i ustawienie go jako tła dla sceny\n        Image spaceBackground = new Image(getClass().getResource(&quot;/space_background.jpg&quot;).toExternalForm());\n        root.setBackground(new Background(new BackgroundFill(new ImagePattern(spaceBackground), CornerRadii.EMPTY, Insets.EMPTY)));\n\n        Scene scene = new Scene(root, 1200, 900);\n\n        PerspectiveCamera camera = new PerspectiveCamera();\n        camera.setNearClip(0.0001);\n        camera.setFarClip(900.0);\n        camera.setTranslateZ(-30);\n        camera.setRotate(0); // Dodaj obroty\n        camera.setTranslateY(0); // Dodaj przesunięcie\n        camera.setTranslateX(0); // Dodaj przesunięcie\n        scene.setCamera(camera);\n\n        // Przesuwanie symulacji, aby środek symulacji pokrywał się ze środkiem ekranu\n        simulation.setTranslateX(scene.getWidth() / 2);\n        simulation.setTranslateY(scene.getHeight() / 2);\n\n        stage.setScene(scene);\n        stage.show();\n\n        simulation.start();\n\n        // Ustawienie większego promienia dla słońca\n        DisplayedCelestialBody sun = solarSystem.getBodies().get(0);\n        sun.getCelestialBody().setRadius(1000);\n\n        // Dodanie obsługi zdarzenia scroll na scenie\n        scene.setOnScroll(event -&gt; {\n            double delta = event.getDeltaY();\n            camera.setTranslateZ(camera.getTranslateZ() + delta);\n        });\n    }\n\n    private SolarSystem initSolarSystem() {\n        SolarSystem solarSystem = new SolarSystem();\n\n        double earthRadius = 1.0;\n        double oneAU = 50.0;\n        double earthOrbitalPeriod = 365.25;  // Okres orbitalny Ziemi\n\n        Vector3D zeroVelocity = new Vector3D(0, 0, 0);\n\n        CelestialBody sunBody = new CelestialBody(&quot;Sun&quot;, 1.989 * Math.pow(10, 30), 15.0 * earthRadius, new Vector3D(0, 0, 0), zeroVelocity, &quot;sun.jpg&quot;, 0.0,true);;\n        Sphere sunSphere = new Sphere(sunBody.getRadius());\n        DisplayedCelestialBody sun = new DisplayedCelestialBody(sunBody, sunSphere);\n        solarSystem.addBody(sun);\n\n        // Dodajemy resztę ciał niebieskich\n        String[] planetNames = {&quot;Mercury&quot;, &quot;Venus&quot;, &quot;Earth&quot;, &quot;Mars&quot;, &quot;Jupiter&quot;, &quot;Saturn&quot;, &quot;Uranus&quot;, &quot;Neptune&quot;};\n        double[] planetSizes = {0.383, 0.949, 1.0, 0.532, 11.21, 9.45, 4.01, 3.88};\n        double[] distancesFromSun = {0.39, 0.723, 1.0, 1.52, 5.20, 9.58, 19.18, 30.07};\n        double[] orbitalPeriods = {88.0, 225.0, 365.25, 1.88, 11.86, 29.46, 84.02, 164.8};\n\n        for (int i = 0; i &lt; planetNames.length; i++) {\n            CelestialBody body = new CelestialBody(planetNames[i], 1.0, planetSizes[i]*earthRadius, new Vector3D(0, 0, distancesFromSun[i]*oneAU), zeroVelocity, planetNames[i].toLowerCase() + &quot;.jpg&quot;, orbitalPeriods[i] / earthOrbitalPeriod, false);\n\n            Sphere sphere = new Sphere(body.getRadius());\n            DisplayedCelestialBody displayedBody = new DisplayedCelestialBody(body, sphere);\n            solarSystem.addBody(displayedBody);\n        }\n\n        return solarSystem;\n    }\n\n    public static void main(String[] args) {\n        launch(args);\n    }\n}\n</code></pre>\n<p>SolarSystemSimulation:</p>\n<pre><code>    public class SolarSystemSimulation extends Group {\n    private SolarSystem solarSystem;\n    private double anchorX, anchorY;\n    private double anchorAngleX = 0;\n    private double anchorAngleY = 0;\n\n    public SolarSystemSimulation(SolarSystem solarSystem) {\n        this.solarSystem = solarSystem;\n\n        for (DisplayedCelestialBody displayedBody : solarSystem.getBodies()) {\n            CelestialBody body = displayedBody.getCelestialBody();\n            Sphere sphere = displayedBody.getDisplayObject();\n            PhongMaterial material = new PhongMaterial();\n            Image texture = loadImage(body.getTextureFilename());\n            if (texture != null) {\n                material.setDiffuseMap(texture);\n            }\n            sphere.setMaterial(material);\n            getChildren().add(sphere);\n        }\n\n        // Wypisanie promieni sfer\n        for (DisplayedCelestialBody displayedBody : solarSystem.getBodies()) {\n            CelestialBody body = displayedBody.getCelestialBody();\n            Sphere sphere = displayedBody.getDisplayObject();\n            System.out.println(&quot;Promień &quot; + body.getName() + &quot;: &quot; + sphere.getRadius());\n        }\n    }\n\n    public void setRadius(DisplayedCelestialBody displayedBody, double radius) {\n        Sphere sphere = displayedBody.getDisplayObject();\n        sphere.setRadius(radius);\n    }\n\n    private Image loadImage(String filename) {\n        InputStream inputStream = getClass().getResourceAsStream(&quot;/&quot; + filename);\n        return new Image(inputStream);\n    }\n\n    public void updatePositions(double deltaTime) {\n        List&lt;DisplayedCelestialBody&gt; bodies = solarSystem.getBodies();\n        for (int i = 1; i &lt; bodies.size(); i++) {\n            DisplayedCelestialBody displayedBody = bodies.get(i);\n            CelestialBody body = displayedBody.getCelestialBody();\n\n            // Prędkość kątowa każdego ciała niebieskiego\n            double angularSpeed = 2 * Math.PI / (body.getOrbitalSpeed() * 60);\n\n            // Pomijamy aktualizacje pozycji dla &quot;fixed&quot; obiektów\n            if (body.isFixed()) {\n                continue;\n            }\n\n            // Obliczenie nowej pozycji ciała niebieskiego\n            Vector3D currentPosition = body.getPosition();\n            double angle = angularSpeed * deltaTime;\n            double newX = currentPosition.getX() * Math.cos(angle) - currentPosition.getZ() * Math.sin(angle);\n            double newZ = currentPosition.getX() * Math.sin(angle) + currentPosition.getZ() * Math.cos(angle);\n            Vector3D newPosition = new Vector3D(newX, currentPosition.getY(), newZ);\n\n            body.setPosition(newPosition);\n            }\n        }\n\n    public void start() {\n        setOnMousePressed(event -&gt; {\n            anchorX = event.getSceneX();\n            anchorY = event.getSceneY();\n            anchorAngleX = getRotate();\n            anchorAngleY = getRotate();\n\n        });\n\n        setOnMouseDragged(event -&gt; {\n            getTransforms().clear();\n            Rotate rotateX = new Rotate(anchorAngleX + (event.getSceneY() - anchorY), Rotate.X_AXIS);\n            Rotate rotateY = new Rotate(anchorAngleY - (event.getSceneX() - anchorX), Rotate.Y_AXIS);\n            getTransforms().addAll(rotateX, rotateY);\n\n        });\n\n        new AnimationTimer() {\n            @Override\n            public void handle(long now) {\n                // Obliczamy różnicę czasu w sekundach\n                double deltaTime = 1.0 / 60.0;\n\n                updatePositions(deltaTime);\n\n                List&lt;DisplayedCelestialBody&gt; sortedDisplayedBodies = new ArrayList&lt;&gt;(solarSystem.getBodies());\n                sortedDisplayedBodies.sort((body1, body2) -&gt; {\n                    CelestialBody celestialBody1 = body1.getCelestialBody();\n                    CelestialBody celestialBody2 = body2.getCelestialBody();\n                    if (celestialBody1.getName().equals(&quot;Sun&quot;)) return 1;\n                    else if (celestialBody2.getName().equals(&quot;Sun&quot;)) return -1;\n                    else {\n                        Sphere sphere1 = body1.getDisplayObject();\n                        Sphere sphere2 = body2.getDisplayObject();\n                        double distance1 = calculateDistanceToCamera(sphere1);\n                        double distance2 = calculateDistanceToCamera(sphere2);\n                        return Double.compare(distance2, distance1);\n                    }\n                });\n\n                getChildren().clear();\n\n                for (DisplayedCelestialBody displayedBody : sortedDisplayedBodies) {\n                    CelestialBody body = displayedBody.getCelestialBody();\n                    Sphere sphere = displayedBody.getDisplayObject();\n                    sphere.setTranslateX(body.getPosition().getX());\n                    sphere.setTranslateY(body.getPosition().getY());\n                    sphere.setTranslateZ(body.getPosition().getZ());\n\n                    body.updateRotation(deltaTime);\n\n                    if (!body.getName().equals(&quot;Sun&quot;)) {\n                        sphere.getTransforms().clear();\n                        Rotate rotate = new Rotate(body.getRotationAngle(), Rotate.Y_AXIS);\n                        sphere.getTransforms().add(rotate);\n                    }\n\n                    getChildren().add(sphere);\n                }\n            }\n        }.start();\n    }\n\n\n    private double calculateDistanceToCamera(Sphere sphere) {\n        double cameraX = 0;  // Podstawowe wartości, jeśli kamera jest na pozycji (0,0,0)\n        double cameraY = 0;\n        double cameraZ = 0;\n        return Math.sqrt(Math.pow(sphere.getTranslateX() - cameraX, 2) +\n                Math.pow(sphere.getTranslateY() - cameraY, 2) +\n                Math.pow(sphere.getTranslateZ() - cameraZ, 2));\n    }\n}\n</code></pre>\n"},{"tags":["java","android","kotlin","authentication","smsmanager"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1689263618,"post_id":76681211,"comment_id":135192011,"body_markdown":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer.","body":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer."}],"owner":{"account_id":28994592,"reputation":3,"user_id":22209533,"display_name":"Kaviyarasan M"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689264796,"creation_date":1689262990,"question_id":76681211,"body_markdown":"I need to send sms to my number without notification using SmsManager for the authentication purpose. Please suggest me how to solve this.\r\n\r\nI&#39;m using broadcast receiver to read the SMS, so need to send the SMS in silent mode\r\n\r\nUsing the below logic to send SMS\r\n\r\n  `SmsManager.getSmsManagerForSubscriptionId(subscriptionId).sendTextMessage(phoneNumber, null, randomNumber, null, null);`  \r\n","title":"Android send sms without notification","body":"<p>I need to send sms to my number without notification using SmsManager for the authentication purpose. Please suggest me how to solve this.</p>\n<p>I'm using broadcast receiver to read the SMS, so need to send the SMS in silent mode</p>\n<p>Using the below logic to send SMS</p>\n<p><code>SmsManager.getSmsManagerForSubscriptionId(subscriptionId).sendTextMessage(phoneNumber, null, randomNumber, null, null);</code></p>\n"},{"tags":["java","spring","amazon-web-services","amazon-s3","storage"],"comments":[{"owner":{"account_id":100740,"reputation":73217,"user_id":271415,"accept_rate":91,"display_name":"jarmod"},"score":0,"creation_date":1689261465,"post_id":76680861,"comment_id":135191479,"body_markdown":"Creating a pre-signed URL does not actually require a network API request. All AWS SDKs implement this locally.","body":"Creating a pre-signed URL does not actually require a network API request. All AWS SDKs implement this locally."},{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1689262751,"post_id":76680861,"comment_id":135191812,"body_markdown":"https://drive.google.com/file/d/1gjHmdC-BW0Q2vXiQYmp1rzPU497sybNy/view?usp=drivesdk","body":"<a href=\"https://drive.google.com/file/d/1gjHmdC-BW0Q2vXiQYmp1rzPU497sybNy/view?usp=drivesdk\" rel=\"nofollow noreferrer\">drive.google.com/file/d/1gjHmdC-BW0Q2vXiQYmp1rzPU497sybNy/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":29008459,"reputation":66,"user_id":22220433,"display_name":"Emil J"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1689264649,"creation_date":1689264649,"answer_id":76681431,"question_id":76680861,"body_markdown":"# Cache Friendly Pre-Signed URL:s\r\n\r\nCreating a pre-signed url is a purely client-side operation and has neither a cost or limit associated to it. Hence, I would not be concerned about the actual creation of url:s.\r\n\r\nHowever, signing new urls for every load will make browsers unable to cache your images because the url will always change.\r\n\r\nTo get around that you can make sure to sign all url:s during a set time-span with the same expiration time. That way the image url:s will be identical between requests for a set amount of time. For example you could always set the expiration to be the next following quarter hour, like this: \r\n\r\n````\r\nprivate String generateCacheFriendlyUrl(String fileName, HttpMethod httpMethod) {\r\n    Calendar calendar = Calendar.getInstance();\r\n    calendar.setTime(new Date());\r\n\r\n    // Add 5 minutes to make sure we don&#39;t get an immediately expiring url \r\n    calendar.add(Calendar.MINUTE, 5); \r\n    \r\n    // Round time up to next quarter hour\r\n    int unroundedMinutes = calendar.get(Calendar.MINUTE);\r\n    int mod = unroundedMinutes % 15;\r\n    calendar.add(Calendar.MINUTE, 15-mod);\r\n\r\n    return amazonS3.generatePresignedUrl(s3BucketName, fileName, calendar.getTime(), httpMethod).toString();\r\n}\r\n````\r\n\r\nThat way images can be cached by browsers during the time-span where url:s have the same expiration time.\r\n","title":"Storing Images on File System vs S3 and accessing them easily","body":"<h1>Cache Friendly Pre-Signed URL:s</h1>\n<p>Creating a pre-signed url is a purely client-side operation and has neither a cost or limit associated to it. Hence, I would not be concerned about the actual creation of url:s.</p>\n<p>However, signing new urls for every load will make browsers unable to cache your images because the url will always change.</p>\n<p>To get around that you can make sure to sign all url:s during a set time-span with the same expiration time. That way the image url:s will be identical between requests for a set amount of time. For example you could always set the expiration to be the next following quarter hour, like this:</p>\n<pre><code>private String generateCacheFriendlyUrl(String fileName, HttpMethod httpMethod) {\n    Calendar calendar = Calendar.getInstance();\n    calendar.setTime(new Date());\n\n    // Add 5 minutes to make sure we don't get an immediately expiring url \n    calendar.add(Calendar.MINUTE, 5); \n    \n    // Round time up to next quarter hour\n    int unroundedMinutes = calendar.get(Calendar.MINUTE);\n    int mod = unroundedMinutes % 15;\n    calendar.add(Calendar.MINUTE, 15-mod);\n\n    return amazonS3.generatePresignedUrl(s3BucketName, fileName, calendar.getTime(), httpMethod).toString();\n}\n</code></pre>\n<p>That way images can be cached by browsers during the time-span where url:s have the same expiration time.</p>\n"}],"owner":{"account_id":15695822,"reputation":37,"user_id":11325421,"display_name":"Ariya nazari"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":76681431,"answer_count":1,"score":-1,"last_activity_date":1689264649,"creation_date":1689260536,"question_id":76680861,"body_markdown":"Im building a marketplace application and want to store user uploaded images. The images are going to be viewable by any non-authentcated/authenticated user. It seems like S3 is the only solution I could find. But having pre-signed urls for all the images on the page, would presumably be a lot of get request. Specially as a user goes back and forth between categories. So im not sure how realistic it would be or if I need a cache system. I really do not want to overcomplicate it so if there is a better solution im open to it. ","title":"Storing Images on File System vs S3 and accessing them easily","body":"<p>Im building a marketplace application and want to store user uploaded images. The images are going to be viewable by any non-authentcated/authenticated user. It seems like S3 is the only solution I could find. But having pre-signed urls for all the images on the page, would presumably be a lot of get request. Specially as a user goes back and forth between categories. So im not sure how realistic it would be or if I need a cache system. I really do not want to overcomplicate it so if there is a better solution im open to it.</p>\n"},{"tags":["java","snakeyaml"],"comments":[{"owner":{"account_id":19327960,"reputation":33,"user_id":14130190,"display_name":"Eric"},"score":0,"creation_date":1689274799,"post_id":76681400,"comment_id":135194293,"body_markdown":"replace with lYaml.loadAs(inputStream, InterimTopologyData.class) will resolve the issue.","body":"replace with lYaml.loadAs(inputStream, InterimTopologyData.class) will resolve the issue."}],"owner":{"account_id":19327960,"reputation":33,"user_id":14130190,"display_name":"Eric"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":145,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689264412,"creation_date":1689264412,"question_id":76681400,"body_markdown":"the application worked in snakeyaml 1.23. but after upgrade to snakeyaml 2.0.\r\nwe got the exception:\r\n\r\njava.lang.ClassCastException: class java.util.LinkedHashMap cannot be cast to class mytest.InterimYAMLLoader$InterimTopologyData (java.util.LinkedHashMap is in module java.base of loader &#39;bootstrap&#39;; mytest.InterimYAMLLoader$InterimTopologyData is in unnamed module of loader &#39;app&#39;) \r\n\tat mytest.YamlTest.main(YamlTest.java:29)\r\nI tried to change the InterimTopologyData config (and all the private members) into public, still doesn&#39;t work.\r\nif I \r\n```\r\n\tpublic static void main(String args[])\r\n\t{\r\n\t\t// Create a yaml document object based on InterimTopologyData\r\n        Yaml lYaml = new Yaml(new CustomClassLoaderConstructor(\r\n                                    InterimTopologyData.class.getClassLoader(),\r\n                                    new LoaderOptions()));\r\n        try\r\n        {\r\n        \t File initialFile = new File(&quot;C:\\\\test\\\\Configuration.yaml&quot;);\r\n             InputStream lInputStream = new FileInputStream(initialFile);\r\n          \r\n         // Parse the yaml file and load it into the custom object\r\n line 29           InterimTopologyData lInterimTopologyData = lYaml.load(lInputStream); \r\n      \r\n         // then I changed the custom class object into a normal Object, it will print string like &quot;{config={topology={spspartition=[{id=1, ..&quot;\r\n        \tObject data = lYaml.load(lInputStream); \r\n        \tSystem.out.println(data);\r\n        }\r\n        catch (Exception e)\r\n        {\r\n        \te.printStackTrace();\r\n        }\r\n\r\n\t}\r\n```\r\n```\r\npublic class InterimYAMLLoader\r\n{\r\n    private InterimYAMLLoader()\r\n    {\r\n    }\r\n\r\n    @Data\r\n    public static class InterimTopologyData\r\n    {\r\n        public InterimConfig config;\r\n    }\r\n\r\n    @Data\r\n    public static class InterimConfig\r\n    {\r\n        private InterimTopology topology;\r\n    }\r\n\r\n```","title":"snakeyaml 2.0 java.lang.ClassCastException: class java.util.LinkedHashMap cannot be cast to a user defined class","body":"<p>the application worked in snakeyaml 1.23. but after upgrade to snakeyaml 2.0.\nwe got the exception:</p>\n<p>java.lang.ClassCastException: class java.util.LinkedHashMap cannot be cast to class mytest.InterimYAMLLoader$InterimTopologyData (java.util.LinkedHashMap is in module java.base of loader 'bootstrap'; mytest.InterimYAMLLoader$InterimTopologyData is in unnamed module of loader 'app')\nat mytest.YamlTest.main(YamlTest.java:29)\nI tried to change the InterimTopologyData config (and all the private members) into public, still doesn't work.\nif I</p>\n<pre><code>    public static void main(String args[])\n    {\n        // Create a yaml document object based on InterimTopologyData\n        Yaml lYaml = new Yaml(new CustomClassLoaderConstructor(\n                                    InterimTopologyData.class.getClassLoader(),\n                                    new LoaderOptions()));\n        try\n        {\n             File initialFile = new File(&quot;C:\\\\test\\\\Configuration.yaml&quot;);\n             InputStream lInputStream = new FileInputStream(initialFile);\n          \n         // Parse the yaml file and load it into the custom object\n line 29           InterimTopologyData lInterimTopologyData = lYaml.load(lInputStream); \n      \n         // then I changed the custom class object into a normal Object, it will print string like &quot;{config={topology={spspartition=[{id=1, ..&quot;\n            Object data = lYaml.load(lInputStream); \n            System.out.println(data);\n        }\n        catch (Exception e)\n        {\n            e.printStackTrace();\n        }\n\n    }\n</code></pre>\n<pre><code>public class InterimYAMLLoader\n{\n    private InterimYAMLLoader()\n    {\n    }\n\n    @Data\n    public static class InterimTopologyData\n    {\n        public InterimConfig config;\n    }\n\n    @Data\n    public static class InterimConfig\n    {\n        private InterimTopology topology;\n    }\n\n</code></pre>\n"},{"tags":["java","apache-poi"],"comments":[{"owner":{"account_id":36137,"reputation":178789,"user_id":102937,"accept_rate":90,"display_name":"Robert Harvey"},"score":0,"creation_date":1646653067,"post_id":71380469,"comment_id":126168579,"body_markdown":"Show us the relevant code, in your question.","body":"Show us the relevant code, in your question."},{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":2,"creation_date":1646653433,"post_id":71380469,"comment_id":126168695,"body_markdown":"`apache poi 5.2.1` cannot be used together with `poi-ooxml-schemas-4.1.2.jar`. It needs to be used with `poi-ooxml-lite-5.2.1.jar`.","body":"<code>apache poi 5.2.1</code> cannot be used together with <code>poi-ooxml-schemas-4.1.2.jar</code>. It needs to be used with <code>poi-ooxml-lite-5.2.1.jar</code>."}],"answers":[{"tags":[],"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1646655091,"creation_date":1646654012,"answer_id":71380678,"question_id":71380469,"body_markdown":"While using `apache poi` **never** mix jars from different versions. See [faq-N10204](https://poi.apache.org/help/faq.html#faq-N10204).\r\n\r\nSo when used `apache poi` version `5.2.1` **all** `apache poi` jars needs to be from that version. So in your case `apache poi 5.2.1` cannot be used together with `poi-ooxml-schemas-4.1.2.jar`. It needs to be used with either `poi-ooxml-lite-5.2.1.jar` or `poi-ooxml-full-5.2.1.jar`.\r\n\r\nTo avoid conflicts, furthermore all jars from not matching versions should be excluded from class path while running `apache poi` code. \r\n\r\nSo in your case using `apache poi 5.2.1` there should not be any `poi-ooxml-schemas-4.1.2.jar` in class path additional to either `poi-ooxml-lite-5.2.1.jar` or `poi-ooxml-full-5.2.1.jar`. Also `ooxml-schemas-1.4.jar` should not be in class path while using `apache poi 5`.  The `ooxml-schemas-1.4.jar` was the former version of `poi-ooxml-full-5.*.jar` and also cannot be used together with `apache poi 5`.\r\n\r\n","title":"Exception in thread &quot;main&quot; java.lang.NoSuchFieldError: Factory question","body":"<p>While using <code>apache poi</code> <strong>never</strong> mix jars from different versions. See <a href=\"https://poi.apache.org/help/faq.html#faq-N10204\" rel=\"nofollow noreferrer\">faq-N10204</a>.</p>\n<p>So when used <code>apache poi</code> version <code>5.2.1</code> <strong>all</strong> <code>apache poi</code> jars needs to be from that version. So in your case <code>apache poi 5.2.1</code> cannot be used together with <code>poi-ooxml-schemas-4.1.2.jar</code>. It needs to be used with either <code>poi-ooxml-lite-5.2.1.jar</code> or <code>poi-ooxml-full-5.2.1.jar</code>.</p>\n<p>To avoid conflicts, furthermore all jars from not matching versions should be excluded from class path while running <code>apache poi</code> code.</p>\n<p>So in your case using <code>apache poi 5.2.1</code> there should not be any <code>poi-ooxml-schemas-4.1.2.jar</code> in class path additional to either <code>poi-ooxml-lite-5.2.1.jar</code> or <code>poi-ooxml-full-5.2.1.jar</code>. Also <code>ooxml-schemas-1.4.jar</code> should not be in class path while using <code>apache poi 5</code>.  The <code>ooxml-schemas-1.4.jar</code> was the former version of <code>poi-ooxml-full-5.*.jar</code> and also cannot be used together with <code>apache poi 5</code>.</p>\n"}],"owner":{"account_id":12062848,"reputation":23,"user_id":8821204,"display_name":"Busuioc Razvan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4575,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":71380678,"answer_count":1,"score":2,"last_activity_date":1689263602,"creation_date":1646652957,"question_id":71380469,"body_markdown":"I&#39;m trying to test a xml to excel converter in Java and I have the following exception\r\n\r\n    Exception in thread &quot;main&quot; java.lang.NoSuchFieldError: Factory\r\n    \tat org.apache.poi.xssf.usermodel.XSSFWorkbook.onWorkbookCreate(XSSFWorkbook.java:475)\r\n    \tat org.apache.poi.xssf.usermodel.XSSFWorkbook.&lt;init&gt;(XSSFWorkbook.java:232)\r\n    \tat org.apache.poi.xssf.usermodel.XSSFWorkbook.&lt;init&gt;(XSSFWorkbook.java:226)\r\n    \tat org.apache.poi.xssf.usermodel.XSSFWorkbook.&lt;init&gt;(XSSFWorkbook.java:214)\r\n    \tat xmlToExcel.Converter.initXls(Converter.java:135)\r\n    \tat xmlToExcel.Converter.getAndReadXml(Converter.java:60)\r\n    \tat xmlToExcel.Converter.main(Converter.java:36)\r\n\r\n\r\nThe exception refers to the this line:\r\n\r\n      workbook = new XSSFWorkbook();\r\n\r\nAnd here are my current jars\r\n\r\n[![enter image description here][1]][1]\r\n\r\nHow can I solve this? Are there any conflicts in the jars?\r\n\r\nEDIT 1: Here is the code for the method which initialises the POI workbook and writes the header row\r\n\r\n\r\n        workbook = new XSSFWorkbook();\r\n\r\n        CellStyle style = workbook.createCellStyle();\r\n        Font boldFont = workbook.createFont();\r\n        boldFont.setBold(true);\r\n        style.setFont(boldFont);\r\n        style.setAlignment(HorizontalAlignment.CENTER);\r\n\r\n        Sheet sheet = workbook.createSheet();\r\n        rowNum = 0;\r\n        Row row = sheet.createRow(rowNum++);\r\n        Cell cell = row.createCell(SUBSTANCE_NAME_COLUMN);\r\n        cell.setCellValue(&quot;Substance name&quot;);\r\n        cell.setCellStyle(style);\r\n\r\nThe exception references the first line, the creation of the workbook.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/hUGm8.png","title":"Exception in thread &quot;main&quot; java.lang.NoSuchFieldError: Factory question","body":"<p>I'm trying to test a xml to excel converter in Java and I have the following exception</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.NoSuchFieldError: Factory\n    at org.apache.poi.xssf.usermodel.XSSFWorkbook.onWorkbookCreate(XSSFWorkbook.java:475)\n    at org.apache.poi.xssf.usermodel.XSSFWorkbook.&lt;init&gt;(XSSFWorkbook.java:232)\n    at org.apache.poi.xssf.usermodel.XSSFWorkbook.&lt;init&gt;(XSSFWorkbook.java:226)\n    at org.apache.poi.xssf.usermodel.XSSFWorkbook.&lt;init&gt;(XSSFWorkbook.java:214)\n    at xmlToExcel.Converter.initXls(Converter.java:135)\n    at xmlToExcel.Converter.getAndReadXml(Converter.java:60)\n    at xmlToExcel.Converter.main(Converter.java:36)\n</code></pre>\n<p>The exception refers to the this line:</p>\n<pre><code>  workbook = new XSSFWorkbook();\n</code></pre>\n<p>And here are my current jars</p>\n<p><a href=\"https://i.stack.imgur.com/hUGm8.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hUGm8.png\" alt=\"enter image description here\" /></a></p>\n<p>How can I solve this? Are there any conflicts in the jars?</p>\n<p>EDIT 1: Here is the code for the method which initialises the POI workbook and writes the header row</p>\n<pre><code>    workbook = new XSSFWorkbook();\n\n    CellStyle style = workbook.createCellStyle();\n    Font boldFont = workbook.createFont();\n    boldFont.setBold(true);\n    style.setFont(boldFont);\n    style.setAlignment(HorizontalAlignment.CENTER);\n\n    Sheet sheet = workbook.createSheet();\n    rowNum = 0;\n    Row row = sheet.createRow(rowNum++);\n    Cell cell = row.createCell(SUBSTANCE_NAME_COLUMN);\n    cell.setCellValue(&quot;Substance name&quot;);\n    cell.setCellStyle(style);\n</code></pre>\n<p>The exception references the first line, the creation of the workbook.</p>\n"},{"tags":["java","spring","spring-boot","gradle","h2"],"comments":[{"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"score":0,"creation_date":1689264430,"post_id":76681270,"comment_id":135192240,"body_markdown":"Caused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type &#39;com.application.service.usermanagement.repository.UserLoginOTPRepository&#39; available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}","body":"Caused by: org.springframework.beans.factory.NoSuchBeanDefinitionExcept&zwnj;&#8203;ion: No qualifying bean of type &#39;com.application.service.usermanagement.repository.UserLogin&zwnj;&#8203;OTPRepository&#39; available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(req&zwnj;&#8203;uired=true)}"},{"owner":{"account_id":28304674,"reputation":3,"user_id":21642865,"display_name":"Ashish kulkarni"},"score":0,"creation_date":1689267759,"post_id":76681270,"comment_id":135192940,"body_markdown":"This exception is coming only for the application-user-management fat jar. Also the application starts successfully with gradle bootrun. If there is exception it should also come during bootrun also","body":"This exception is coming only for the application-user-management fat jar. Also the application starts successfully with gradle bootrun. If there is exception it should also come during bootrun also"},{"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"score":0,"creation_date":1689272295,"post_id":76681270,"comment_id":135193757,"body_markdown":"Your bean wiring is wrong, regardless of how you run it.  Fix that.","body":"Your bean wiring is wrong, regardless of how you run it.  Fix that."},{"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"score":0,"creation_date":1689272880,"post_id":76681270,"comment_id":135193894,"body_markdown":"Sounds like &quot;it runs on my machine.&quot;  Not buying it.  Fix the problem where it lives and move on to the next one until everything is working.","body":"Sounds like &quot;it runs on my machine.&quot;  Not buying it.  Fix the problem where it lives and move on to the next one until everything is working."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1689321715,"post_id":76681270,"comment_id":135199783,"body_markdown":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example).","body":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."}],"owner":{"account_id":28304674,"reputation":3,"user_id":21642865,"display_name":"Ashish kulkarni"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689263528,"creation_date":1689263419,"question_id":76681270,"body_markdown":"I have a multi project application where the project structure is like\r\n```\r\nroot\r\n|\r\n├───applicatiom-api-gateway\r\n│   └───src\r\n│       ├───main\r\n│       │   ├───java\r\n... mainclass\r\n... resource\r\n├───application-commons-lib\r\n│   └───src\r\n│       └───main\r\n│           └───java\r\n... NoMainClass\r\n...\r\n├───application-service\r\n│   └───src\r\n│       ├───main\r\n│       │   ├───java\r\n│       │   │   └───com\r\n... mainClass\r\n... resource\r\n├───application-service-discovery\r\n│   └───src\r\n│       ├───main\r\n│       │   ├───java\r\n.. mainClass\r\n├───application-user-management-client-lib\r\n│   └───src\r\n│       └───main\r\n│           └───java\r\n.. mainClass\r\n.. resource\r\n\r\n├───application-web\r\n│   └───src\r\n│       ├───main\r\n│       │   ├───java\r\n│       │   │   └───com\r\n.. mainclass\r\n.. resource\r\nbuild.gradle\r\ngradle.properties\r\n\r\n```\r\n\r\nThe whole build.gradle file is \r\n```\r\nbuildscript {\r\n    ext {\r\n        springBootVersion = &#39;3.1.0&#39;\r\n    }\r\n    ext {\r\n        springCloudVersion = &#39;2022.0.3&#39;\r\n    }\r\n    repositories {\r\n        mavenCentral()\r\n    }\r\n    dependencies {\r\n        classpath(&quot;org.springframework.boot:spring-boot-gradle-plugin:${springBootVersion}&quot;)\r\n\r\n    }\r\n}\r\n\r\nsubprojects {\r\n    apply plugin: &#39;java-library&#39;\r\n    apply plugin: &#39;io.spring.dependency-management&#39;\r\n    apply plugin: &#39;org.springframework.boot&#39;\r\n\r\n    tasks.named(&#39;test&#39;) {\r\n        useJUnitPlatform()\r\n    }\r\n\r\n    repositories {\r\n        mavenCentral()\r\n    }\r\n\r\n    configurations {\r\n        testArtifacts\r\n        developmentOnly\r\n        runtimeClasspath {\r\n            extendsFrom developmentOnly\r\n        }\r\n    }\r\n\r\n    dependencyManagement {\r\n        imports {\r\n            mavenBom &quot;org.springframework.boot:spring-boot-dependencies:${springBootVersion}&quot;\r\n            mavenBom &quot;org.springframework.cloud:spring-cloud-dependencies:${springCloudVersion}&quot;\r\n        }\r\n    }\r\n\r\n    dependencies {\r\n//        implementation(&#39;org.springframework.boot:spring-boot-starter-web&#39;)\r\n        implementation(&#39;org.mapstruct:mapstruct:1.5.5.Final&#39;)\r\n//        implementation(&#39;io.springfox:springfox-boot-starter:3.0.0&#39;)\r\n        annotationProcessor(&#39;org.mapstruct:mapstruct-processor:1.5.5.Final&#39;)\r\n        developmentOnly(&#39;org.springframework.boot:spring-boot-devtools&#39;)\r\n        testImplementation(&#39;org.springframework.boot:spring-boot-starter-test&#39;)\r\n    }\r\n\r\n    sourceCompatibility = &#39;17&#39;\r\n\r\n    ext {\r\n        projectName = &quot;$rootProjectName-$project.name&quot;\r\n    }\r\n\r\n    bootJar {\r\n        enabled = false\r\n    }\r\n\r\n    jar {\r\n        enabled = true\r\n    }\r\n\r\n    task testJar(type: Jar, dependsOn: testClasses) {\r\n        from sourceSets.test.output\r\n        classifier &#39;tests&#39;\r\n    }\r\n\r\n    artifacts {\r\n        testArtifacts testJar\r\n    }\r\n}\r\n\r\nproject(&#39;:application-commons-lib&#39;) {\r\n    jar {\r\n        duplicatesStrategy = DuplicatesStrategy.EXCLUDE\r\n\r\n        from {\r\n            configurations.runtimeClasspath.collect { it.isDirectory() ? it : zipTree(it) }\r\n        }\r\n        exclude &#39;META-INF/*.RSA&#39;\r\n        exclude &#39;META-INF/*.SF&#39;\r\n        exclude &#39;META-INF/*.DSA&#39;\r\n    }\r\n    dependencies {\r\n    }\r\n}\r\n\r\nproject(&#39;:application-web&#39;) {\r\n    bootRun {\r\n        environment SPRING_PROFILES_ACTIVE: environment.SPRING_PROFILES_ACTIVE ?: &#39;local&#39;\r\n    }\r\n\r\n    jar {\r\n        manifest {\r\n            attributes &quot;Main-Class&quot;: &quot;com.application.application.web.WebApplicationService&quot;\r\n        }\r\n        duplicatesStrategy = DuplicatesStrategy.EXCLUDE\r\n\r\n        from {\r\n            configurations.runtimeClasspath.collect { it.isDirectory() ? it : zipTree(it) }\r\n        }\r\n    }\r\n\r\n    dependencies {\r\n        implementation(&#39;org.springframework.boot:spring-boot-starter-web&#39;)\r\n    }\r\n}\r\n\r\nproject(&#39;:application-service-discovery&#39;) {\r\n\r\n    jar {\r\n        manifest {\r\n            attributes &quot;Main-Class&quot;: &quot;com.application.service.discovery.ServiceDiscoveryApplication&quot;\r\n        }\r\n        duplicatesStrategy = DuplicatesStrategy.EXCLUDE\r\n\r\n        from {\r\n            configurations.runtimeClasspath.collect { it.isDirectory() ? it : zipTree(it) }\r\n        }\r\n        exclude &#39;META-INF/*.RSA&#39;\r\n        exclude &#39;META-INF/*.SF&#39;\r\n        exclude &#39;META-INF/*.DSA&#39;\r\n    }\r\n\r\n    dependencies {\r\n        api(&#39;org.springframework.cloud:spring-cloud-starter-netflix-eureka-server&#39;)\r\n    }\r\n}\r\n\r\n\r\nproject(&#39;:application-user-management-client-lib&#39;) {\r\n    jar {\r\n        duplicatesStrategy = DuplicatesStrategy.EXCLUDE\r\n\r\n        from {\r\n            configurations.runtimeClasspath.collect { it.isDirectory() ? it : zipTree(it) }\r\n        }\r\n        exclude &#39;META-INF/*.RSA&#39;\r\n        exclude &#39;META-INF/*.SF&#39;\r\n        exclude &#39;META-INF/*.DSA&#39;\r\n    }\r\n    dependencies {\r\n        api(&#39;org.springframework.boot:spring-boot-starter-data-jpa&#39;)\r\n    }\r\n}\r\n\r\nproject(&#39;:application-user-management&#39;) {\r\n\r\n    jar {\r\n        manifest {\r\n            attributes &quot;Main-Class&quot;: &quot;com.application.service.usermanagement.UserManagementService&quot;\r\n        }\r\n        duplicatesStrategy = DuplicatesStrategy.EXCLUDE\r\n\r\n        from {\r\n            configurations.runtimeClasspath.collect { it.isDirectory() ? it : zipTree(it) }\r\n        }\r\n        exclude &#39;META-INF/*.RSA&#39;\r\n        exclude &#39;META-INF/*.SF&#39;\r\n        exclude &#39;META-INF/*.DSA&#39;\r\n    }\r\n\r\n    dependencies {\r\n        api project(&#39;:application-commons-lib&#39;)\r\n        api project(&#39;:application-user-management-client-lib&#39;)\r\n\r\n        implementation(&#39;org.springframework.boot:spring-boot-starter-web&#39;)\r\n        api(&#39;org.springframework.cloud:spring-cloud-starter-netflix-eureka-client&#39;)\r\n        api(&#39;org.springframework.cloud:spring-cloud-starter-openfeign&#39;)\r\n        api(&#39;org.springdoc:springdoc-openapi-ui:1.7.0&#39;)\r\n        api(&#39;com.h2database:h2:2.1.214&#39;)\r\n        api(&#39;org.springframework.boot:spring-boot-starter-security&#39;)\r\n        api(&#39;com.auth0:java-jwt:4.4.0&#39;)\r\n    }\r\n}\r\n\r\nproject(&#39;:application-api-gateway&#39;) {\r\n    jar {\r\n        manifest {\r\n            attributes &quot;Main-Class&quot;: &quot;com.application.service.gateway.ApiGatewayService&quot;\r\n        }\r\n        duplicatesStrategy = DuplicatesStrategy.EXCLUDE\r\n\r\n        from {\r\n            configurations.runtimeClasspath.collect { it.isDirectory() ? it : zipTree(it) }\r\n        }\r\n        exclude &#39;META-INF/*.RSA&#39;\r\n        exclude &#39;META-INF/*.SF&#39;\r\n        exclude &#39;META-INF/*.DSA&#39;\r\n    }\r\n\r\n    dependencies {\r\n\r\n        api(&#39;org.springframework.boot:spring-boot-starter-actuator&#39;)\r\n        api(&#39;org.springframework.cloud:spring-cloud-starter-gateway&#39;)\r\n        api(&#39;org.springframework.cloud:spring-cloud-starter-netflix-eureka-client&#39;)\r\n        api(&#39;org.springframework.cloud:spring-cloud-starter-openfeign&#39;)\r\n        api(&#39;com.auth0:java-jwt:4.4.0&#39;)\r\n\r\n    }\r\n}\r\n\r\nproject(&#39;:application-ledger&#39;) {\r\n    jar {\r\n        manifest {\r\n            attributes &quot;Main-Class&quot;: &quot;com.application.service.ledger.LedgerApplication&quot;\r\n        }\r\n        duplicatesStrategy = DuplicatesStrategy.EXCLUDE\r\n\r\n        from {\r\n            configurations.runtimeClasspath.collect { it.isDirectory() ? it : zipTree(it) }\r\n        }\r\n        exclude &#39;META-INF/*.RSA&#39;\r\n        exclude &#39;META-INF/*.SF&#39;\r\n        exclude &#39;META-INF/*.DSA&#39;\r\n    }\r\n\r\n    dependencies {\r\n        api project(&#39;:application-user-management-client-lib&#39;)\r\n\r\n        implementation(&#39;org.springframework.boot:spring-boot-starter-web&#39;)\r\n        implementation(&#39;org.springframework.boot:spring-boot-starter-validation&#39;)\r\n        api(&#39;org.springframework.boot:spring-boot-starter-data-jpa&#39;)\r\n        api(&#39;org.springframework.cloud:spring-cloud-starter-netflix-eureka-client&#39;)\r\n        api(&#39;org.springframework.cloud:spring-cloud-starter-openfeign&#39;)\r\n        api(&#39;com.h2database:h2:2.1.214&#39;)\r\n\r\n        testImplementation(&#39;org.junit.vintage:junit-vintage-engine:5.9.3&#39;)\r\n\r\n    }\r\n}\r\n\r\n```\r\n\r\nAs I have five different sub projects or projects which will be deployed as independent fat jar. But when I run the jar task it creates the jar and when I start the start it displays that application started successfully but after that it closes the application. I mean application is not always listening to the port in fact it starts and closes the application\r\n\r\n```\r\n21:15:53.725 [main] INFO com.application.service.discovery.ServiceDiscoveryApplication -- No active profile set, falling back to 1 default profile: &quot;default&quot;\r\n21:15:54.312 [main] INFO com.application.service.discovery.ServiceDiscoveryApplication -- Started ServiceDiscoveryApplication in 0.896 seconds (process running for 1.355)\r\n\r\nProcess finished with exit code 0\r\n```\r\nWhere as for other project of UserManagement it gives error for repository \r\n```\r\nCaused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type &#39;com.application.service.usermanagement.repository.UserLoginOTPRepository&#39; available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.raiseNoMatchingBeanFound(DefaultListableBeanFactory.java:1824)\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1383)\r\n```\r\n\r\nbut when I start the application from Intellij then it runs without any issues. \r\n\r\nMay I know why this is happening ? I highly appreciate help.\r\n\r\nI tried with multiple spring configuration changes for error but nothing is working.","title":"Unable to start the fatjar","body":"<p>I have a multi project application where the project structure is like</p>\n<pre><code>root\n|\n├───applicatiom-api-gateway\n│   └───src\n│       ├───main\n│       │   ├───java\n... mainclass\n... resource\n├───application-commons-lib\n│   └───src\n│       └───main\n│           └───java\n... NoMainClass\n...\n├───application-service\n│   └───src\n│       ├───main\n│       │   ├───java\n│       │   │   └───com\n... mainClass\n... resource\n├───application-service-discovery\n│   └───src\n│       ├───main\n│       │   ├───java\n.. mainClass\n├───application-user-management-client-lib\n│   └───src\n│       └───main\n│           └───java\n.. mainClass\n.. resource\n\n├───application-web\n│   └───src\n│       ├───main\n│       │   ├───java\n│       │   │   └───com\n.. mainclass\n.. resource\nbuild.gradle\ngradle.properties\n\n</code></pre>\n<p>The whole build.gradle file is</p>\n<pre><code>buildscript {\n    ext {\n        springBootVersion = '3.1.0'\n    }\n    ext {\n        springCloudVersion = '2022.0.3'\n    }\n    repositories {\n        mavenCentral()\n    }\n    dependencies {\n        classpath(&quot;org.springframework.boot:spring-boot-gradle-plugin:${springBootVersion}&quot;)\n\n    }\n}\n\nsubprojects {\n    apply plugin: 'java-library'\n    apply plugin: 'io.spring.dependency-management'\n    apply plugin: 'org.springframework.boot'\n\n    tasks.named('test') {\n        useJUnitPlatform()\n    }\n\n    repositories {\n        mavenCentral()\n    }\n\n    configurations {\n        testArtifacts\n        developmentOnly\n        runtimeClasspath {\n            extendsFrom developmentOnly\n        }\n    }\n\n    dependencyManagement {\n        imports {\n            mavenBom &quot;org.springframework.boot:spring-boot-dependencies:${springBootVersion}&quot;\n            mavenBom &quot;org.springframework.cloud:spring-cloud-dependencies:${springCloudVersion}&quot;\n        }\n    }\n\n    dependencies {\n//        implementation('org.springframework.boot:spring-boot-starter-web')\n        implementation('org.mapstruct:mapstruct:1.5.5.Final')\n//        implementation('io.springfox:springfox-boot-starter:3.0.0')\n        annotationProcessor('org.mapstruct:mapstruct-processor:1.5.5.Final')\n        developmentOnly('org.springframework.boot:spring-boot-devtools')\n        testImplementation('org.springframework.boot:spring-boot-starter-test')\n    }\n\n    sourceCompatibility = '17'\n\n    ext {\n        projectName = &quot;$rootProjectName-$project.name&quot;\n    }\n\n    bootJar {\n        enabled = false\n    }\n\n    jar {\n        enabled = true\n    }\n\n    task testJar(type: Jar, dependsOn: testClasses) {\n        from sourceSets.test.output\n        classifier 'tests'\n    }\n\n    artifacts {\n        testArtifacts testJar\n    }\n}\n\nproject(':application-commons-lib') {\n    jar {\n        duplicatesStrategy = DuplicatesStrategy.EXCLUDE\n\n        from {\n            configurations.runtimeClasspath.collect { it.isDirectory() ? it : zipTree(it) }\n        }\n        exclude 'META-INF/*.RSA'\n        exclude 'META-INF/*.SF'\n        exclude 'META-INF/*.DSA'\n    }\n    dependencies {\n    }\n}\n\nproject(':application-web') {\n    bootRun {\n        environment SPRING_PROFILES_ACTIVE: environment.SPRING_PROFILES_ACTIVE ?: 'local'\n    }\n\n    jar {\n        manifest {\n            attributes &quot;Main-Class&quot;: &quot;com.application.application.web.WebApplicationService&quot;\n        }\n        duplicatesStrategy = DuplicatesStrategy.EXCLUDE\n\n        from {\n            configurations.runtimeClasspath.collect { it.isDirectory() ? it : zipTree(it) }\n        }\n    }\n\n    dependencies {\n        implementation('org.springframework.boot:spring-boot-starter-web')\n    }\n}\n\nproject(':application-service-discovery') {\n\n    jar {\n        manifest {\n            attributes &quot;Main-Class&quot;: &quot;com.application.service.discovery.ServiceDiscoveryApplication&quot;\n        }\n        duplicatesStrategy = DuplicatesStrategy.EXCLUDE\n\n        from {\n            configurations.runtimeClasspath.collect { it.isDirectory() ? it : zipTree(it) }\n        }\n        exclude 'META-INF/*.RSA'\n        exclude 'META-INF/*.SF'\n        exclude 'META-INF/*.DSA'\n    }\n\n    dependencies {\n        api('org.springframework.cloud:spring-cloud-starter-netflix-eureka-server')\n    }\n}\n\n\nproject(':application-user-management-client-lib') {\n    jar {\n        duplicatesStrategy = DuplicatesStrategy.EXCLUDE\n\n        from {\n            configurations.runtimeClasspath.collect { it.isDirectory() ? it : zipTree(it) }\n        }\n        exclude 'META-INF/*.RSA'\n        exclude 'META-INF/*.SF'\n        exclude 'META-INF/*.DSA'\n    }\n    dependencies {\n        api('org.springframework.boot:spring-boot-starter-data-jpa')\n    }\n}\n\nproject(':application-user-management') {\n\n    jar {\n        manifest {\n            attributes &quot;Main-Class&quot;: &quot;com.application.service.usermanagement.UserManagementService&quot;\n        }\n        duplicatesStrategy = DuplicatesStrategy.EXCLUDE\n\n        from {\n            configurations.runtimeClasspath.collect { it.isDirectory() ? it : zipTree(it) }\n        }\n        exclude 'META-INF/*.RSA'\n        exclude 'META-INF/*.SF'\n        exclude 'META-INF/*.DSA'\n    }\n\n    dependencies {\n        api project(':application-commons-lib')\n        api project(':application-user-management-client-lib')\n\n        implementation('org.springframework.boot:spring-boot-starter-web')\n        api('org.springframework.cloud:spring-cloud-starter-netflix-eureka-client')\n        api('org.springframework.cloud:spring-cloud-starter-openfeign')\n        api('org.springdoc:springdoc-openapi-ui:1.7.0')\n        api('com.h2database:h2:2.1.214')\n        api('org.springframework.boot:spring-boot-starter-security')\n        api('com.auth0:java-jwt:4.4.0')\n    }\n}\n\nproject(':application-api-gateway') {\n    jar {\n        manifest {\n            attributes &quot;Main-Class&quot;: &quot;com.application.service.gateway.ApiGatewayService&quot;\n        }\n        duplicatesStrategy = DuplicatesStrategy.EXCLUDE\n\n        from {\n            configurations.runtimeClasspath.collect { it.isDirectory() ? it : zipTree(it) }\n        }\n        exclude 'META-INF/*.RSA'\n        exclude 'META-INF/*.SF'\n        exclude 'META-INF/*.DSA'\n    }\n\n    dependencies {\n\n        api('org.springframework.boot:spring-boot-starter-actuator')\n        api('org.springframework.cloud:spring-cloud-starter-gateway')\n        api('org.springframework.cloud:spring-cloud-starter-netflix-eureka-client')\n        api('org.springframework.cloud:spring-cloud-starter-openfeign')\n        api('com.auth0:java-jwt:4.4.0')\n\n    }\n}\n\nproject(':application-ledger') {\n    jar {\n        manifest {\n            attributes &quot;Main-Class&quot;: &quot;com.application.service.ledger.LedgerApplication&quot;\n        }\n        duplicatesStrategy = DuplicatesStrategy.EXCLUDE\n\n        from {\n            configurations.runtimeClasspath.collect { it.isDirectory() ? it : zipTree(it) }\n        }\n        exclude 'META-INF/*.RSA'\n        exclude 'META-INF/*.SF'\n        exclude 'META-INF/*.DSA'\n    }\n\n    dependencies {\n        api project(':application-user-management-client-lib')\n\n        implementation('org.springframework.boot:spring-boot-starter-web')\n        implementation('org.springframework.boot:spring-boot-starter-validation')\n        api('org.springframework.boot:spring-boot-starter-data-jpa')\n        api('org.springframework.cloud:spring-cloud-starter-netflix-eureka-client')\n        api('org.springframework.cloud:spring-cloud-starter-openfeign')\n        api('com.h2database:h2:2.1.214')\n\n        testImplementation('org.junit.vintage:junit-vintage-engine:5.9.3')\n\n    }\n}\n\n</code></pre>\n<p>As I have five different sub projects or projects which will be deployed as independent fat jar. But when I run the jar task it creates the jar and when I start the start it displays that application started successfully but after that it closes the application. I mean application is not always listening to the port in fact it starts and closes the application</p>\n<pre><code>21:15:53.725 [main] INFO com.application.service.discovery.ServiceDiscoveryApplication -- No active profile set, falling back to 1 default profile: &quot;default&quot;\n21:15:54.312 [main] INFO com.application.service.discovery.ServiceDiscoveryApplication -- Started ServiceDiscoveryApplication in 0.896 seconds (process running for 1.355)\n\nProcess finished with exit code 0\n</code></pre>\n<p>Where as for other project of UserManagement it gives error for repository</p>\n<pre><code>Caused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'com.application.service.usermanagement.repository.UserLoginOTPRepository' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.raiseNoMatchingBeanFound(DefaultListableBeanFactory.java:1824)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1383)\n</code></pre>\n<p>but when I start the application from Intellij then it runs without any issues.</p>\n<p>May I know why this is happening ? I highly appreciate help.</p>\n<p>I tried with multiple spring configuration changes for error but nothing is working.</p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":19580981,"reputation":106,"user_id":14330061,"display_name":"dauthDaert06"},"score":0,"creation_date":1689317539,"post_id":76681253,"comment_id":135199053,"body_markdown":"Custom exception should work. You can create a @RestControllerAdvice and catch that exception there, return whatever Http code and body you want. You can refer to [this](https://www.baeldung.com/exception-handling-for-rest-with-spring)","body":"Custom exception should work. You can create a @RestControllerAdvice and catch that exception there, return whatever Http code and body you want. You can refer to <a href=\"https://www.baeldung.com/exception-handling-for-rest-with-spring\" rel=\"nofollow noreferrer\">this</a>"},{"owner":{"account_id":5808495,"reputation":219,"user_id":4580401,"accept_rate":57,"display_name":"JSB"},"score":0,"creation_date":1689753135,"post_id":76681253,"comment_id":135256139,"body_markdown":"Ah i guess i couldn&#39;t just throw an error of type response but your solution was indeed a better one. the intercept just worked Thx!","body":"Ah i guess i couldn&#39;t just throw an error of type response but your solution was indeed a better one. the intercept just worked Thx!"}],"owner":{"account_id":5808495,"reputation":219,"user_id":4580401,"accept_rate":57,"display_name":"JSB"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689263290,"creation_date":1689263290,"question_id":76681253,"body_markdown":"Hi i am building a springboot application which has lots of rest calls to a third party.\r\nall these rest calls have mappers that map to my models.\r\n\r\nIf one of these rest calls returns a no-content or created i want to to skip the whole return chain.\r\n\r\nIf i already know its an empty body is there a way to &quot;throw&quot; a response entity?\r\nOr am i doomed to check in all the mappers and other checks for an empty body?\r\n\r\nI feel like i can create a custom exception and throw this with a http 2xx code.\r\n\r\nexample:\r\n ```\r\n    if (response.getStatusCode().is2xxSuccessful() &amp;&amp; !response.hasBody()) {\r\n      // but this one also has an error object body in the response\r\n      throw new ResponseStatusException(response.getStatusCode());\r\n    }\r\n    if (HttpStatus.NOT_FOUND.equals(response.getStatusCode())) {\r\n      throw new ResponseStatusException.builder(response.getStatusCode())\r\n ```\r\n\r\nAny ideas are welcome","title":"Is there a way to bypass the return flow and throw a response.no_content?","body":"<p>Hi i am building a springboot application which has lots of rest calls to a third party.\nall these rest calls have mappers that map to my models.</p>\n<p>If one of these rest calls returns a no-content or created i want to to skip the whole return chain.</p>\n<p>If i already know its an empty body is there a way to &quot;throw&quot; a response entity?\nOr am i doomed to check in all the mappers and other checks for an empty body?</p>\n<p>I feel like i can create a custom exception and throw this with a http 2xx code.</p>\n<p>example:</p>\n<pre><code>   if (response.getStatusCode().is2xxSuccessful() &amp;&amp; !response.hasBody()) {\n     // but this one also has an error object body in the response\n     throw new ResponseStatusException(response.getStatusCode());\n   }\n   if (HttpStatus.NOT_FOUND.equals(response.getStatusCode())) {\n     throw new ResponseStatusException.builder(response.getStatusCode())\n</code></pre>\n<p>Any ideas are welcome</p>\n"},{"tags":["java","swing","notifications","awt","java-11"],"owner":{"account_id":15801712,"reputation":1294,"user_id":11402025,"display_name":"Tanu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":17,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689263210,"creation_date":1689254941,"question_id":76679916,"body_markdown":"I am using ch.swingfx.twinkle NotificationBuilder in my application.\r\n\r\n\r\n```\r\n\r\n\r\nNotificationBuilder builder = new NotificationBuilder().withMessage(message).withTitle(title).withStyle(notificationStyle).withFadeInAnimation(true).withFadeOutAnimation(true);\r\n\r\nbuilder.showNotification()\r\n\r\n```\r\n\r\nI want the notification to appear on the monitor screen my application is present. How to achieve the same ?\r\n\r\nI tried using withPosition but it did not work.\r\n\r\n```\r\nNotificationBuilder builder = new NotificationBuilder().withMessage(message).withTitle(title).withStyle(notificationStyle).withFadeInAnimation(true).withFadeOutAnimation(true).withPosition(\r\n            new ch.swingfx.twinkle.window.IPosition() {\r\n                @Override\r\n                public java.awt.Point getPosition(java.awt.Dimension dimension, java.awt.Insets insets,\r\n                                                  javax.swing.JWindow jWindow,\r\n                                                  ch.swingfx.twinkle.style.INotificationStyle iNotificationStyle) {\r\n                    JWindow window = new javax.swing.JWindow(this.getGraphicsConfiguration());\r\n                    int x = dimension.width / 2 - window.getWidth() / 2;\r\n                    int y = dimension.height / 2 - window.getHeight() / 2 - iNotificationStyle.getWindowInsets().bottom / 2 + iNotificationStyle.getWindowInsets().top / 2;\r\n                    return new Point(x, y);\r\n                }\r\n            });\r\n```\r\n\r\n\r\n\r\n","title":"Notification to show on the same screen as the application","body":"<p>I am using ch.swingfx.twinkle NotificationBuilder in my application.</p>\n<pre><code>\n\nNotificationBuilder builder = new NotificationBuilder().withMessage(message).withTitle(title).withStyle(notificationStyle).withFadeInAnimation(true).withFadeOutAnimation(true);\n\nbuilder.showNotification()\n\n</code></pre>\n<p>I want the notification to appear on the monitor screen my application is present. How to achieve the same ?</p>\n<p>I tried using withPosition but it did not work.</p>\n<pre><code>NotificationBuilder builder = new NotificationBuilder().withMessage(message).withTitle(title).withStyle(notificationStyle).withFadeInAnimation(true).withFadeOutAnimation(true).withPosition(\n            new ch.swingfx.twinkle.window.IPosition() {\n                @Override\n                public java.awt.Point getPosition(java.awt.Dimension dimension, java.awt.Insets insets,\n                                                  javax.swing.JWindow jWindow,\n                                                  ch.swingfx.twinkle.style.INotificationStyle iNotificationStyle) {\n                    JWindow window = new javax.swing.JWindow(this.getGraphicsConfiguration());\n                    int x = dimension.width / 2 - window.getWidth() / 2;\n                    int y = dimension.height / 2 - window.getHeight() / 2 - iNotificationStyle.getWindowInsets().bottom / 2 + iNotificationStyle.getWindowInsets().top / 2;\n                    return new Point(x, y);\n                }\n            });\n</code></pre>\n"},{"tags":["java","spell-checking","languagetool"],"answers":[{"tags":[],"owner":{"account_id":2702906,"reputation":22658,"user_id":2333222,"display_name":"SubOptimal"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1488896926,"creation_date":1429864555,"answer_id":29842510,"question_id":26003377,"body_markdown":"An `ignore.txt` file is supported since version 2.9. see the [CHANGES.txt](https://github.com/languagetool-org/languagetool/blob/master/languagetool-standalone/CHANGES.md) at bullet `-Spelling`.\r\n\r\nTwo word phrases are not supported. see the check in method `loadWordsToBeIgnored` in [SpellingCheckRule.java](https://github.com/languagetool-org/languagetool/blob/master/languagetool-core/src/main/java/org/languagetool/rules/spelling/SpellingCheckRule.java#L258). (if you would do so the check will fail with a &quot;RuntimeException: No space expected in ...&quot;)","title":"How to add two-word patterns to be ignored by LanguageTool?","body":"<p>An <code>ignore.txt</code> file is supported since version 2.9. see the <a href=\"https://github.com/languagetool-org/languagetool/blob/master/languagetool-standalone/CHANGES.md\" rel=\"nofollow noreferrer\">CHANGES.txt</a> at bullet <code>-Spelling</code>.</p>\n\n<p>Two word phrases are not supported. see the check in method <code>loadWordsToBeIgnored</code> in <a href=\"https://github.com/languagetool-org/languagetool/blob/master/languagetool-core/src/main/java/org/languagetool/rules/spelling/SpellingCheckRule.java#L258\" rel=\"nofollow noreferrer\">SpellingCheckRule.java</a>. (if you would do so the check will fail with a \"RuntimeException: No space expected in ...\")</p>\n"},{"tags":[],"owner":{"account_id":1620438,"reputation":15219,"user_id":1497139,"accept_rate":68,"display_name":"Wolfgang Fahl"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689262482,"creation_date":1689262482,"answer_id":76681141,"question_id":26003377,"body_markdown":"One approach might be to extend the existing SpellingCheckRule and override the method which generates potential spelling corrections. In the new method, we add logic that considers two words together as a single token. This might look something like the following:\r\n\r\n\r\n```python\r\nclass MultiWordSpellingCheckRule extends SpellingCheckRule {\r\n    private Set&lt;String&gt; ignoredTokens;\r\n\r\n    MultiWordSpellingCheckRule (ResourceBundle messages, Language language, UserConfig userConfig, List&lt;Language&gt; altLanguages, IgnoreWordsSupplier ignoreWordsSupplier) {\r\n        super(messages, language, userConfig, altLanguages, ignoreWordsSupplier);\r\n        ignoredTokens = new HashSet&lt;&gt;();\r\n    }\r\n\r\n    @Override\r\n    public RuleMatch[] match(AnalyzedSentence sentence) throws IOException {\r\n        String[] tokens = sentence.getText().split(&quot;\\\\s+&quot;);\r\n        for (int i = 0; i &lt; tokens.length - 1; i++) {\r\n            String twoWordToken = tokens[i] + &quot; &quot; + tokens[i+1];\r\n            if (ignoredTokens.contains(twoWordToken)) {\r\n                // Skip checking this two-word token.\r\n                i++;\r\n                continue;\r\n            }\r\n        }\r\n        return super.match(sentence);\r\n    }\r\n\r\n    public void addIgnoreTokens(List&lt;String&gt; tokens) {\r\n        ignoredTokens.addAll(tokens);\r\n    }\r\n}\r\n```\r\n\r\nYou can now add multi-word tokens to the list like so:\r\n\r\n```java\r\nString [] words = {&quot;word1&quot;, &quot;word2&quot;, &quot;Guest bathroom&quot;, &quot;French word&quot;, &quot;test application&quot;};\r\n```\r\n\r\nAlso, please note, you would need to deal with punctuation and other aspects of tokenization in a real-world scenario. The given code assumes only space-separated words.","title":"How to add two-word patterns to be ignored by LanguageTool?","body":"<p>One approach might be to extend the existing SpellingCheckRule and override the method which generates potential spelling corrections. In the new method, we add logic that considers two words together as a single token. This might look something like the following:</p>\n<pre class=\"lang-py prettyprint-override\"><code>class MultiWordSpellingCheckRule extends SpellingCheckRule {\n    private Set&lt;String&gt; ignoredTokens;\n\n    MultiWordSpellingCheckRule (ResourceBundle messages, Language language, UserConfig userConfig, List&lt;Language&gt; altLanguages, IgnoreWordsSupplier ignoreWordsSupplier) {\n        super(messages, language, userConfig, altLanguages, ignoreWordsSupplier);\n        ignoredTokens = new HashSet&lt;&gt;();\n    }\n\n    @Override\n    public RuleMatch[] match(AnalyzedSentence sentence) throws IOException {\n        String[] tokens = sentence.getText().split(&quot;\\\\s+&quot;);\n        for (int i = 0; i &lt; tokens.length - 1; i++) {\n            String twoWordToken = tokens[i] + &quot; &quot; + tokens[i+1];\n            if (ignoredTokens.contains(twoWordToken)) {\n                // Skip checking this two-word token.\n                i++;\n                continue;\n            }\n        }\n        return super.match(sentence);\n    }\n\n    public void addIgnoreTokens(List&lt;String&gt; tokens) {\n        ignoredTokens.addAll(tokens);\n    }\n}\n</code></pre>\n<p>You can now add multi-word tokens to the list like so:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String [] words = {&quot;word1&quot;, &quot;word2&quot;, &quot;Guest bathroom&quot;, &quot;French word&quot;, &quot;test application&quot;};\n</code></pre>\n<p>Also, please note, you would need to deal with punctuation and other aspects of tokenization in a real-world scenario. The given code assumes only space-separated words.</p>\n"}],"owner":{"account_id":1620438,"reputation":15219,"user_id":1497139,"accept_rate":68,"display_name":"Wolfgang Fahl"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1269,"favorite_count":0,"down_vote_count":0,"up_vote_count":22,"answer_count":2,"score":22,"last_activity_date":1689262482,"creation_date":1411501132,"question_id":26003377,"body_markdown":"**Situation:**\r\n\r\nAs a workaround for the [not yet implemented feature to add a user dictionary of words to Languagetool][1], I came up with this code snippet:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    JLanguageTool langTool = new JLanguageTool(lang);\r\n\tlangTool.activateDefaultPatternRules();\r\n\tList&lt;Rule&gt; rules = langTool.getAllActiveRules();\r\n\tfor (Rule rule:rules) {\r\n\t\t// System.out.println(rule.getId());\r\n\t\tif (rule.getId().equals(&quot;GERMAN_SPELLER_RULE&quot;)) {\r\n\t\t\tif (rule instanceof SpellingCheckRule) {\r\n\t\t\t\tSpellingCheckRule srule=(SpellingCheckRule) rule;\r\n\t\t\t\tString [] words={&quot;word1&quot;, &quot;word2&quot;};\r\n\t\t\t\tList&lt;String&gt; tokens=new ArrayList&lt;String&gt;();\r\n\t\t\t\tfor (String word:words) {\r\n\t\t\t\t\ttokens.add(word);\r\n\t\t\t\t}\r\n\t\t\t\tsrule.addIgnoreTokens(tokens);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\nwhich will nicely add the list of words specified by\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    String [] words={&quot;word1&quot;, &quot;word2&quot;};\r\n\r\nto the list of ignored words. But how about word combinations/two word patterns\r\nlike &quot;Guest bathroom&quot;, &quot;French word&quot; &quot;test application&quot; - how could I get these ignored without modifying the orginal grammar file? I assume creating some user defined rule could do the trick and might also be a more elegant solution for the above code snippet. \r\n\r\n**Question:**\r\n\r\nWhat would be a working approach to get a user-dictionary work-around going that ignores single and two-word phrases?\r\n\r\n[1]: https://github.com/languagetool-org/languagetool/issues/65","title":"How to add two-word patterns to be ignored by LanguageTool?","body":"<p><strong>Situation:</strong></p>\n\n<p>As a workaround for the <a href=\"https://github.com/languagetool-org/languagetool/issues/65\" rel=\"noreferrer\">not yet implemented feature to add a user dictionary of words to Languagetool</a>, I came up with this code snippet:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>JLanguageTool langTool = new JLanguageTool(lang);\nlangTool.activateDefaultPatternRules();\nList&lt;Rule&gt; rules = langTool.getAllActiveRules();\nfor (Rule rule:rules) {\n    // System.out.println(rule.getId());\n    if (rule.getId().equals(\"GERMAN_SPELLER_RULE\")) {\n        if (rule instanceof SpellingCheckRule) {\n            SpellingCheckRule srule=(SpellingCheckRule) rule;\n            String [] words={\"word1\", \"word2\"};\n            List&lt;String&gt; tokens=new ArrayList&lt;String&gt;();\n            for (String word:words) {\n                tokens.add(word);\n            }\n            srule.addIgnoreTokens(tokens);\n        }\n    }\n}\n</code></pre>\n\n<p>which will nicely add the list of words specified by</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>String [] words={\"word1\", \"word2\"};\n</code></pre>\n\n<p>to the list of ignored words. But how about word combinations/two word patterns\nlike \"Guest bathroom\", \"French word\" \"test application\" - how could I get these ignored without modifying the orginal grammar file? I assume creating some user defined rule could do the trick and might also be a more elegant solution for the above code snippet. </p>\n\n<p><strong>Question:</strong></p>\n\n<p>What would be a working approach to get a user-dictionary work-around going that ignores single and two-word phrases?</p>\n"},{"tags":["java","android","webview","anychart"],"comments":[{"owner":{"account_id":14770391,"reputation":113,"user_id":10667045,"display_name":"Buratino Apps"},"score":0,"creation_date":1681233745,"post_id":75988346,"comment_id":134022431,"body_markdown":"`minSdkVersion=29`","body":"<code>minSdkVersion=29</code>"},{"owner":{"account_id":17216852,"reputation":23,"user_id":12464661,"display_name":"fiefie"},"score":0,"creation_date":1682516479,"post_id":75988346,"comment_id":134228428,"body_markdown":"I have contacted Anychart via their support. They were looking into the issue, but gave not received an update for some time now.","body":"I have contacted Anychart via their support. They were looking into the issue, but gave not received an update for some time now."},{"owner":{"account_id":17216852,"reputation":23,"user_id":12464661,"display_name":"fiefie"},"score":0,"creation_date":1682516631,"post_id":75988346,"comment_id":134228466,"body_markdown":"Today I installed the latest Android Studio and updated all components. (my system was up to date before the new Android Studio release installation). Now the Heatmap chart is functioning correctly.","body":"Today I installed the latest Android Studio and updated all components. (my system was up to date before the new Android Studio release installation). Now the Heatmap chart is functioning correctly."}],"answers":[{"tags":[],"owner":{"account_id":17216852,"reputation":23,"user_id":12464661,"display_name":"fiefie"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1689262421,"creation_date":1682516821,"answer_id":76111541,"question_id":75988346,"body_markdown":"To correct this issue:\r\n\r\nMy code was correct, however at the end it wasn&#39;t drawing the view.\r\n\r\nadded after:\r\n```\r\nriskMap.data(data);\r\n        \r\nanyChartView.setChart(riskMap);\r\n```\r\n\r\nThis line to resolve the issue.\r\n```\r\nriskMap.draw(true);\r\n```\r\n\r\nIn other Anychart charts using Cartesian, such as bar, line, and combination graphs of bars and lines, etc....use:\r\n\r\nafter this:\r\n```\r\nanyChartView.setChart(cartesian);\r\n```\r\n\r\nAdd this line to draw the view:\r\n```\r\ncartesian.draw(true);\r\n```\r\n\r\neither way at the end a &quot;.draw()&quot; must be included.","title":"I am getting errors implementing a HeatMap Chart using Anychart via Android Studio","body":"<p>To correct this issue:</p>\n<p>My code was correct, however at the end it wasn't drawing the view.</p>\n<p>added after:</p>\n<pre><code>riskMap.data(data);\n        \nanyChartView.setChart(riskMap);\n</code></pre>\n<p>This line to resolve the issue.</p>\n<pre><code>riskMap.draw(true);\n</code></pre>\n<p>In other Anychart charts using Cartesian, such as bar, line, and combination graphs of bars and lines, etc....use:</p>\n<p>after this:</p>\n<pre><code>anyChartView.setChart(cartesian);\n</code></pre>\n<p>Add this line to draw the view:</p>\n<pre><code>cartesian.draw(true);\n</code></pre>\n<p>either way at the end a &quot;.draw()&quot; must be included.</p>\n"}],"owner":{"account_id":17216852,"reputation":23,"user_id":12464661,"display_name":"fiefie"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":293,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76111541,"answer_count":1,"score":0,"last_activity_date":1689262421,"creation_date":1681231732,"question_id":75988346,"body_markdown":"I am trying to add an AnyChart HeatMap Chart to my ANdroid Studio Java app.\r\nTo learn about implementing it I am starting by using the AnyChart HeatMap exmaple code.\r\nUpon running my app and opening the activity window that displays the chart it shows the following error in the run tab at the bottom of Android Studio. Also, the app when the activity window opens for the HeatMap Chart is comes up and a white blank window.\r\n\r\n[app upon opening activity ][1]\r\n\r\nI get this in my error in the &quot;run&quot; tab in Android studio:\r\n\r\nD/EGL_emulation: app_time_stats: avg=867.14ms min=16.75ms max=6646.87ms count=8\r\nI/WebViewFactory: Loading com.google.android.webview version 95.0.4638.74 (code 463807437)\r\nW/.example.hortu: Accessing hidden method Landroid/os/Trace;-&gt;isTagEnabled(J)Z (unsupported, reflection, allowed)\r\nW/.example.hortu: Accessing hidden method Landroid/os/Trace;-&gt;traceBegin(JLjava/lang/String;)V (unsupported, reflection, allowed)\r\nW/.example.hortu: Accessing hidden method Landroid/os/Trace;-&gt;traceEnd(J)V (unsupported, reflection, allowed)\r\nW/.example.hortu: Accessing hidden method Landroid/os/Trace;-&gt;asyncTraceBegin(JLjava/lang/String;I)V (unsupported, reflection, allowed)\r\nW/.example.hortu: Accessing hidden method Landroid/os/Trace;-&gt;asyncTraceEnd(JLjava/lang/String;I)V (unsupported, reflection, allowed)\r\nI/cr_WVCFactoryProvider: Loaded version=95.0.4638.74 minSdkVersion=29 isBundle=false multiprocess=true packageId=2\r\nI/cr_VariationsUtils: Failed reading seed file &quot;/data/user/0/com.example.hortus/app_webview/variations_seed_new&quot;\r\nI/cr_VariationsUtils: Failed reading seed file &quot;/data/user/0/com.example.hortus/app_webview/variations_seed&quot;\r\nI/cr_LibraryLoader: Successfully loaded native library\r\nI/cr_CachingUmaRecorder: Flushed 8 samples from 8 histograms.\r\nW/chromium: [WARNING:dns_config_service_android.cc(153)] Failed to read DnsConfig.\r\nE/chromium: [ERROR:network_service_instance_impl.cc(179)] Failed to grant sandbox access to network context data for /data/user/0/com.example.hortus/app_webview/Default with result 7: No such file or directory (2)\r\nD/CompatibilityChangeReporter: Compat change id reported: 171228096; UID 10148; state: ENABLED\r\nW/.example.hortu: Accessing hidden method Landroid/media/AudioManager;-&gt;getOutputLatency(I)I (unsupported, reflection, allowed)\r\nD/HostConnection: createUnique: call\r\nD/HostConnection: HostConnection::get() New Host Connection established 0x7c704dc1e590, tid 16265\r\nW/cr_media: Requires BLUETOOTH permission\r\nD/HostConnection: HostComposition ext ANDROID_EMU_CHECKSUM_HELPER_v1 ANDROID_EMU_native_sync_v2 ANDROID_EMU_native_sync_v3 ANDROID_EMU_native_sync_v4 ANDROID_EMU_dma_v1 ANDROID_EMU_direct_mem ANDROID_EMU_host_composition_v1 ANDROID_EMU_host_composition_v2 ANDROID_EMU_vulkan ANDROID_EMU_deferred_vulkan_commands ANDROID_EMU_vulkan_null_optional_strings ANDROID_EMU_vulkan_create_resources_with_requirements ANDROID_EMU_YUV_Cache ANDROID_EMU_vulkan_ignored_handles ANDROID_EMU_has_shared_slots_host_memory_allocator ANDROID_EMU_vulkan_free_memory_sync ANDROID_EMU_vulkan_shader_float16_int8 ANDROID_EMU_vulkan_async_queue_submit ANDROID_EMU_vulkan_queue_submit_with_commands ANDROID_EMU_sync_buffer_data ANDROID_EMU_vulkan_async_qsri ANDROID_EMU_read_color_buffer_dma ANDROID_EMU_hwc_multi_configs GL_OES_vertex_array_object GL_KHR_texture_compression_astc_ldr ANDROID_EMU_host_side_tracing ANDROID_EMU_gles_max_version_2 \r\nE/chromium: [ERROR:gl_surface_egl.cc(584)] eglChooseConfig failed with error EGL_SUCCESS\r\nD/EGL_emulation: eglCreateContext: 0x7c704dc1d8d0: maj 2 min 0 rcv 2\r\nD/EGL_emulation: eglMakeCurrent: 0x7c704dc1d8d0: ver 2 0 (tinfo 0x7c7272a2a100) (first time)\r\nE/chromium: [ERROR:gl_surface_egl.cc(584)] eglChooseConfig failed with error EGL_SUCCESS\r\nD/EGL_emulation: eglCreateContext: 0x7c704dc20c90: maj 2 min 0 rcv 2\r\nD/EGL_emulation: app_time_stats: avg=8.06ms min=3.42ms max=31.32ms count=33\r\nI/Choreographer: Skipped 53 frames!  The application may be doing too much work on its main thread.\r\nD/EGL_emulation: eglCreateContext: 0x7c704dc1d8d0: maj 2 min 0 rcv 2\r\nI/OpenGLRenderer: Davey! duration=1000ms; Flags=1, FrameTimelineVsyncId=19783, IntendedVsync=5347614875222, Vsync=5348498208520, InputEventId=0, HandleInputStart=5348507529000, AnimationStart=5348507578000, PerformTraversalsStart=5348510589100, DrawStart=5348585297400, FrameDeadline=5347631541888, FrameInterval=5348506764600, FrameStartTime=16666666, SyncQueued=5348588150600, SyncStart=5348609703100, IssueDrawCommandsStart=5348610035600, SwapBuffers=5348619661900, FrameCompleted=5348636693000, DequeueBufferDuration=36800, QueueBufferDuration=15211600, GpuCompleted=5348636405500, SwapBuffersCompleted=5348636693000, DisplayPresentTime=0, \r\nD/EGL_emulation: app_time_stats: avg=249.81ms min=34.80ms max=1027.62ms count=6\r\n\r\n\r\nmy java code is:\r\n\r\n```\r\npackage com.example.hortus;\r\n\r\n\r\n\r\nimport android.os.Bundle;\r\n\r\nimport android.webkit.WebView;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport com.anychart.AnyChart;\r\nimport com.anychart.AnyChartView;\r\nimport com.anychart.chart.common.dataentry.DataEntry;\r\nimport com.anychart.chart.common.dataentry.HeatDataEntry;\r\nimport com.anychart.charts.HeatMap;\r\nimport com.anychart.enums.SelectionMode;\r\nimport com.anychart.graphics.vector.SolidFill;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\npublic class VPDChartActivity extends AppCompatActivity {\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n\r\n        super.onCreate(savedInstanceState);\r\n\r\n        setContentView(R.layout.activity_vpd_chart);\r\n\r\n        AnyChartView anyChartView = findViewById(R.id.any_chart_view);\r\n       anyChartView.webview.getSettings().setDomStorageEnabled(true);\r\n        anyChartView.setProgressBar(findViewById(R.id.progress_bar));\r\n\r\n\r\n\r\n        HeatMap riskMap = AnyChart.heatMap();\r\n\r\n        riskMap.stroke(&quot;1 #fff&quot;);\r\n        riskMap.hovered()\r\n                .stroke(&quot;6 #fff&quot;)\r\n                .fill(new SolidFill(&quot;#545f69&quot;, 1d))\r\n                .labels(&quot;{ fontColor: &#39;#fff&#39; }&quot;);\r\n\r\n        riskMap.interactivity().selectionMode(SelectionMode.NONE);\r\n\r\n        riskMap.title().enabled(true);\r\n        riskMap.title()\r\n                .text(&quot;Risk Matrix in Project Server&quot;)\r\n                .padding(0d, 0d, 20d, 0d);\r\n\r\n        riskMap.labels().enabled(true);\r\n        riskMap.labels()\r\n                .minFontSize(14d)\r\n                .format(&quot;function() {\\n&quot; +\r\n                        &quot;      var namesList = [\\&quot;Low\\&quot;, \\&quot;Medium\\&quot;, \\&quot;High\\&quot;, \\&quot;Extreme\\&quot;];\\n&quot; +\r\n                        &quot;      return namesList[this.heat];\\n&quot; +\r\n                        &quot;    }&quot;);\r\n\r\n        riskMap.yAxis(0).stroke(null);\r\n        riskMap.yAxis(0).labels().padding(0d, 15d, 0d, 0d);\r\n        riskMap.yAxis(0).ticks(false);\r\n        riskMap.xAxis(0).stroke(null);\r\n        riskMap.xAxis(0).ticks(false);\r\n\r\n        riskMap.tooltip().title().useHtml(true);\r\n        riskMap.tooltip()\r\n                .useHtml(true)\r\n                .titleFormat(&quot;function() {\\n&quot; +\r\n                        &quot;      var namesList = [\\&quot;Low\\&quot;, \\&quot;Medium\\&quot;, \\&quot;High\\&quot;, \\&quot;Extreme\\&quot;];\\n&quot; +\r\n                        &quot;      return &#39;&lt;b&gt;&#39; + namesList[this.heat] + &#39;&lt;/b&gt; Residual Risk&#39;;\\n&quot; +\r\n                        &quot;    }&quot;)\r\n                .format(&quot;function () {\\n&quot; +\r\n                        &quot;       return &#39;&lt;span style=\\&quot;color: #CECECE\\&quot;&gt;Likelihood: &lt;/span&gt;&#39; + this.x + &#39;&lt;br/&gt;&#39; +\\n&quot; +\r\n                        &quot;           &#39;&lt;span style=\\&quot;color: #CECECE\\&quot;&gt;Consequence: &lt;/span&gt;&#39; + this.y;\\n&quot; +\r\n                        &quot;   }&quot;);\r\n\r\n        List&lt;DataEntry&gt; data = new ArrayList&lt;&gt;();\r\n        data.add(new CustomHeatDataEntry(&quot;Rare&quot;, &quot;Insignificant&quot;, 0, &quot;#90caf9&quot;));\r\n        data.add(new CustomHeatDataEntry(&quot;Rare&quot;, &quot;Minor&quot;, 0, &quot;#90caf9&quot;));\r\n        data.add(new CustomHeatDataEntry(&quot;Rare&quot;, &quot;Moderate&quot;, 0, &quot;#90caf9&quot;));\r\n        data.add(new CustomHeatDataEntry(&quot;Rare&quot;, &quot;Major&quot;, 0, &quot;#90caf9&quot;));\r\n        data.add(new CustomHeatDataEntry(&quot;Rare&quot;, &quot;Extreme&quot;, 0, &quot;#90caf9&quot;));\r\n        data.add(new CustomHeatDataEntry(&quot;Unlikely&quot;, &quot;Insignificant&quot;, 0, &quot;#90caf9&quot;));\r\n        data.add(new CustomHeatDataEntry(&quot;Unlikely&quot;, &quot;Minor&quot;, 0, &quot;#90caf9&quot;));\r\n        data.add(new CustomHeatDataEntry(&quot;Unlikely&quot;, &quot;Moderate&quot;, 0, &quot;#90caf9&quot;));\r\n        data.add(new CustomHeatDataEntry(&quot;Unlikely&quot;, &quot;Major&quot;, 1, &quot;#ffb74d&quot;));\r\n        data.add(new CustomHeatDataEntry(&quot;Unlikely&quot;, &quot;Extreme&quot;, 1, &quot;#ffb74d&quot;));\r\n        data.add(new CustomHeatDataEntry(&quot;Possible&quot;, &quot;Insignificant&quot;, 0, &quot;#90caf9&quot;));\r\n        data.add(new CustomHeatDataEntry(&quot;Possible&quot;, &quot;Minor&quot;, 0, &quot;#90caf9&quot;));\r\n        data.add(new CustomHeatDataEntry(&quot;Possible&quot;, &quot;Moderate&quot;, 1, &quot;#ffb74d&quot;));\r\n        data.add(new CustomHeatDataEntry(&quot;Possible&quot;, &quot;Major&quot;, 1, &quot;#ffb74d&quot;));\r\n        data.add(new CustomHeatDataEntry(&quot;Possible&quot;, &quot;Extreme&quot;, 1, &quot;#ffb74d&quot;));\r\n        data.add(new CustomHeatDataEntry(&quot;Likely&quot;, &quot;Insignificant&quot;, 0, &quot;#90caf9&quot;));\r\n        data.add(new CustomHeatDataEntry(&quot;Likely&quot;, &quot;Minor&quot;, 1, &quot;#ffb74d&quot;));\r\n        data.add(new CustomHeatDataEntry(&quot;Likely&quot;, &quot;Moderate&quot;, 1, &quot;#ffb74d&quot;));\r\n        data.add(new CustomHeatDataEntry(&quot;Likely&quot;, &quot;Major&quot;, 2, &quot;#ef6c00&quot;));\r\n        data.add(new CustomHeatDataEntry(&quot;Likely&quot;, &quot;Extreme&quot;, 2, &quot;#ef6c00&quot;));\r\n        data.add(new CustomHeatDataEntry(&quot;Almost\\\\nCertain&quot;, &quot;Insignificant&quot;, 0, &quot;#90caf9&quot;));\r\n        data.add(new CustomHeatDataEntry(&quot;Almost\\\\nCertain&quot;, &quot;Minor&quot;, 1, &quot;#ffb74d&quot;));\r\n        data.add(new CustomHeatDataEntry(&quot;Almost\\\\nCertain&quot;, &quot;Moderate&quot;, 1, &quot;#ffb74d&quot;));\r\n        data.add(new CustomHeatDataEntry(&quot;Almost\\\\nCertain&quot;, &quot;Major&quot;, 2, &quot;#ef6c00&quot;));\r\n        data.add(new CustomHeatDataEntry(&quot;Almost\\\\nCertain&quot;, &quot;Extreme&quot;, 3, &quot;#d84315&quot;));\r\n\r\n        riskMap.data(data);\r\n\r\n\r\n        anyChartView.setChart(riskMap);\r\n    }\r\n\r\n    private static class CustomHeatDataEntry extends HeatDataEntry {\r\n        CustomHeatDataEntry(String x, String y, Integer heat, String fill) {\r\n            super(x, y, heat);\r\n            setValue(&quot;fill&quot;, fill);\r\n        }\r\n\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\nmy xml code is:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;androidx.constraintlayout.widget.ConstraintLayout\r\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    tools:context=&quot;.VPDChartActivity&quot;&gt;\r\n\r\n    &lt;!-- Page Title --&gt;\r\n    &lt;TextView\r\n        android:id=&quot;@+id/text_view_vpd_title&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:text=&quot;@string/title_activity_vpd_hm_chart&quot;\r\n        android:textAlignment=&quot;center&quot;\r\n        android:textSize=&quot;24sp&quot;\r\n        android:textStyle=&quot;bold&quot;\r\n        android:visibility=&quot;visible&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;@+id/progress_bar&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toBottomOf=&quot;@+id/progress_bar&quot; /&gt;\r\n\r\n\r\n    &lt;com.anychart.AnyChartView\r\n        android:id=&quot;@+id/any_chart_view&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:visibility=&quot;visible&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n\r\n\r\n    &lt;ProgressBar\r\n        android:id=&quot;@+id/progress_bar&quot;\r\n        style=&quot;?android:attr/progressBarStyleHorizontal&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:visibility=&quot;visible&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;@+id/any_chart_view&quot; /&gt;\r\n\r\n\r\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n```\r\n\r\n\r\nI have searched the internet to no avail....\r\n\r\nI have found that setting:\r\n`anyChartView.webview.getSettings().setDomStorageEnabled(true);`\r\n\r\nshould fix the issue but when I try to use it the import of &quot;import android.webkit.WebView;&quot; stays grey and shows it isn&#39;t used.\r\nas well as the &quot;webview&quot; of `anyChartView.webview.getSettings().setDomStorageEnabled(true);` show red and states &quot;cannot resolve symbol.\r\n\r\nI understand what &quot;cannot resolve symbol means and thought the import would solve that.\r\n\r\nI am just stuck and after three weeks on this I am finally coming here for help.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/IWt3Y.png","title":"I am getting errors implementing a HeatMap Chart using Anychart via Android Studio","body":"<p>I am trying to add an AnyChart HeatMap Chart to my ANdroid Studio Java app.\nTo learn about implementing it I am starting by using the AnyChart HeatMap exmaple code.\nUpon running my app and opening the activity window that displays the chart it shows the following error in the run tab at the bottom of Android Studio. Also, the app when the activity window opens for the HeatMap Chart is comes up and a white blank window.</p>\n<p><a href=\"https://i.stack.imgur.com/IWt3Y.png\" rel=\"nofollow noreferrer\">app upon opening activity </a></p>\n<p>I get this in my error in the &quot;run&quot; tab in Android studio:</p>\n<p>D/EGL_emulation: app_time_stats: avg=867.14ms min=16.75ms max=6646.87ms count=8\nI/WebViewFactory: Loading com.google.android.webview version 95.0.4638.74 (code 463807437)\nW/.example.hortu: Accessing hidden method Landroid/os/Trace;-&gt;isTagEnabled(J)Z (unsupported, reflection, allowed)\nW/.example.hortu: Accessing hidden method Landroid/os/Trace;-&gt;traceBegin(JLjava/lang/String;)V (unsupported, reflection, allowed)\nW/.example.hortu: Accessing hidden method Landroid/os/Trace;-&gt;traceEnd(J)V (unsupported, reflection, allowed)\nW/.example.hortu: Accessing hidden method Landroid/os/Trace;-&gt;asyncTraceBegin(JLjava/lang/String;I)V (unsupported, reflection, allowed)\nW/.example.hortu: Accessing hidden method Landroid/os/Trace;-&gt;asyncTraceEnd(JLjava/lang/String;I)V (unsupported, reflection, allowed)\nI/cr_WVCFactoryProvider: Loaded version=95.0.4638.74 minSdkVersion=29 isBundle=false multiprocess=true packageId=2\nI/cr_VariationsUtils: Failed reading seed file &quot;/data/user/0/com.example.hortus/app_webview/variations_seed_new&quot;\nI/cr_VariationsUtils: Failed reading seed file &quot;/data/user/0/com.example.hortus/app_webview/variations_seed&quot;\nI/cr_LibraryLoader: Successfully loaded native library\nI/cr_CachingUmaRecorder: Flushed 8 samples from 8 histograms.\nW/chromium: [WARNING:dns_config_service_android.cc(153)] Failed to read DnsConfig.\nE/chromium: [ERROR:network_service_instance_impl.cc(179)] Failed to grant sandbox access to network context data for /data/user/0/com.example.hortus/app_webview/Default with result 7: No such file or directory (2)\nD/CompatibilityChangeReporter: Compat change id reported: 171228096; UID 10148; state: ENABLED\nW/.example.hortu: Accessing hidden method Landroid/media/AudioManager;-&gt;getOutputLatency(I)I (unsupported, reflection, allowed)\nD/HostConnection: createUnique: call\nD/HostConnection: HostConnection::get() New Host Connection established 0x7c704dc1e590, tid 16265\nW/cr_media: Requires BLUETOOTH permission\nD/HostConnection: HostComposition ext ANDROID_EMU_CHECKSUM_HELPER_v1 ANDROID_EMU_native_sync_v2 ANDROID_EMU_native_sync_v3 ANDROID_EMU_native_sync_v4 ANDROID_EMU_dma_v1 ANDROID_EMU_direct_mem ANDROID_EMU_host_composition_v1 ANDROID_EMU_host_composition_v2 ANDROID_EMU_vulkan ANDROID_EMU_deferred_vulkan_commands ANDROID_EMU_vulkan_null_optional_strings ANDROID_EMU_vulkan_create_resources_with_requirements ANDROID_EMU_YUV_Cache ANDROID_EMU_vulkan_ignored_handles ANDROID_EMU_has_shared_slots_host_memory_allocator ANDROID_EMU_vulkan_free_memory_sync ANDROID_EMU_vulkan_shader_float16_int8 ANDROID_EMU_vulkan_async_queue_submit ANDROID_EMU_vulkan_queue_submit_with_commands ANDROID_EMU_sync_buffer_data ANDROID_EMU_vulkan_async_qsri ANDROID_EMU_read_color_buffer_dma ANDROID_EMU_hwc_multi_configs GL_OES_vertex_array_object GL_KHR_texture_compression_astc_ldr ANDROID_EMU_host_side_tracing ANDROID_EMU_gles_max_version_2\nE/chromium: [ERROR:gl_surface_egl.cc(584)] eglChooseConfig failed with error EGL_SUCCESS\nD/EGL_emulation: eglCreateContext: 0x7c704dc1d8d0: maj 2 min 0 rcv 2\nD/EGL_emulation: eglMakeCurrent: 0x7c704dc1d8d0: ver 2 0 (tinfo 0x7c7272a2a100) (first time)\nE/chromium: [ERROR:gl_surface_egl.cc(584)] eglChooseConfig failed with error EGL_SUCCESS\nD/EGL_emulation: eglCreateContext: 0x7c704dc20c90: maj 2 min 0 rcv 2\nD/EGL_emulation: app_time_stats: avg=8.06ms min=3.42ms max=31.32ms count=33\nI/Choreographer: Skipped 53 frames!  The application may be doing too much work on its main thread.\nD/EGL_emulation: eglCreateContext: 0x7c704dc1d8d0: maj 2 min 0 rcv 2\nI/OpenGLRenderer: Davey! duration=1000ms; Flags=1, FrameTimelineVsyncId=19783, IntendedVsync=5347614875222, Vsync=5348498208520, InputEventId=0, HandleInputStart=5348507529000, AnimationStart=5348507578000, PerformTraversalsStart=5348510589100, DrawStart=5348585297400, FrameDeadline=5347631541888, FrameInterval=5348506764600, FrameStartTime=16666666, SyncQueued=5348588150600, SyncStart=5348609703100, IssueDrawCommandsStart=5348610035600, SwapBuffers=5348619661900, FrameCompleted=5348636693000, DequeueBufferDuration=36800, QueueBufferDuration=15211600, GpuCompleted=5348636405500, SwapBuffersCompleted=5348636693000, DisplayPresentTime=0,\nD/EGL_emulation: app_time_stats: avg=249.81ms min=34.80ms max=1027.62ms count=6</p>\n<p>my java code is:</p>\n<pre><code>package com.example.hortus;\n\n\n\nimport android.os.Bundle;\n\nimport android.webkit.WebView;\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport com.anychart.AnyChart;\nimport com.anychart.AnyChartView;\nimport com.anychart.chart.common.dataentry.DataEntry;\nimport com.anychart.chart.common.dataentry.HeatDataEntry;\nimport com.anychart.charts.HeatMap;\nimport com.anychart.enums.SelectionMode;\nimport com.anychart.graphics.vector.SolidFill;\n\nimport java.util.ArrayList;\nimport java.util.List;\n\npublic class VPDChartActivity extends AppCompatActivity {\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n\n        super.onCreate(savedInstanceState);\n\n        setContentView(R.layout.activity_vpd_chart);\n\n        AnyChartView anyChartView = findViewById(R.id.any_chart_view);\n       anyChartView.webview.getSettings().setDomStorageEnabled(true);\n        anyChartView.setProgressBar(findViewById(R.id.progress_bar));\n\n\n\n        HeatMap riskMap = AnyChart.heatMap();\n\n        riskMap.stroke(&quot;1 #fff&quot;);\n        riskMap.hovered()\n                .stroke(&quot;6 #fff&quot;)\n                .fill(new SolidFill(&quot;#545f69&quot;, 1d))\n                .labels(&quot;{ fontColor: '#fff' }&quot;);\n\n        riskMap.interactivity().selectionMode(SelectionMode.NONE);\n\n        riskMap.title().enabled(true);\n        riskMap.title()\n                .text(&quot;Risk Matrix in Project Server&quot;)\n                .padding(0d, 0d, 20d, 0d);\n\n        riskMap.labels().enabled(true);\n        riskMap.labels()\n                .minFontSize(14d)\n                .format(&quot;function() {\\n&quot; +\n                        &quot;      var namesList = [\\&quot;Low\\&quot;, \\&quot;Medium\\&quot;, \\&quot;High\\&quot;, \\&quot;Extreme\\&quot;];\\n&quot; +\n                        &quot;      return namesList[this.heat];\\n&quot; +\n                        &quot;    }&quot;);\n\n        riskMap.yAxis(0).stroke(null);\n        riskMap.yAxis(0).labels().padding(0d, 15d, 0d, 0d);\n        riskMap.yAxis(0).ticks(false);\n        riskMap.xAxis(0).stroke(null);\n        riskMap.xAxis(0).ticks(false);\n\n        riskMap.tooltip().title().useHtml(true);\n        riskMap.tooltip()\n                .useHtml(true)\n                .titleFormat(&quot;function() {\\n&quot; +\n                        &quot;      var namesList = [\\&quot;Low\\&quot;, \\&quot;Medium\\&quot;, \\&quot;High\\&quot;, \\&quot;Extreme\\&quot;];\\n&quot; +\n                        &quot;      return '&lt;b&gt;' + namesList[this.heat] + '&lt;/b&gt; Residual Risk';\\n&quot; +\n                        &quot;    }&quot;)\n                .format(&quot;function () {\\n&quot; +\n                        &quot;       return '&lt;span style=\\&quot;color: #CECECE\\&quot;&gt;Likelihood: &lt;/span&gt;' + this.x + '&lt;br/&gt;' +\\n&quot; +\n                        &quot;           '&lt;span style=\\&quot;color: #CECECE\\&quot;&gt;Consequence: &lt;/span&gt;' + this.y;\\n&quot; +\n                        &quot;   }&quot;);\n\n        List&lt;DataEntry&gt; data = new ArrayList&lt;&gt;();\n        data.add(new CustomHeatDataEntry(&quot;Rare&quot;, &quot;Insignificant&quot;, 0, &quot;#90caf9&quot;));\n        data.add(new CustomHeatDataEntry(&quot;Rare&quot;, &quot;Minor&quot;, 0, &quot;#90caf9&quot;));\n        data.add(new CustomHeatDataEntry(&quot;Rare&quot;, &quot;Moderate&quot;, 0, &quot;#90caf9&quot;));\n        data.add(new CustomHeatDataEntry(&quot;Rare&quot;, &quot;Major&quot;, 0, &quot;#90caf9&quot;));\n        data.add(new CustomHeatDataEntry(&quot;Rare&quot;, &quot;Extreme&quot;, 0, &quot;#90caf9&quot;));\n        data.add(new CustomHeatDataEntry(&quot;Unlikely&quot;, &quot;Insignificant&quot;, 0, &quot;#90caf9&quot;));\n        data.add(new CustomHeatDataEntry(&quot;Unlikely&quot;, &quot;Minor&quot;, 0, &quot;#90caf9&quot;));\n        data.add(new CustomHeatDataEntry(&quot;Unlikely&quot;, &quot;Moderate&quot;, 0, &quot;#90caf9&quot;));\n        data.add(new CustomHeatDataEntry(&quot;Unlikely&quot;, &quot;Major&quot;, 1, &quot;#ffb74d&quot;));\n        data.add(new CustomHeatDataEntry(&quot;Unlikely&quot;, &quot;Extreme&quot;, 1, &quot;#ffb74d&quot;));\n        data.add(new CustomHeatDataEntry(&quot;Possible&quot;, &quot;Insignificant&quot;, 0, &quot;#90caf9&quot;));\n        data.add(new CustomHeatDataEntry(&quot;Possible&quot;, &quot;Minor&quot;, 0, &quot;#90caf9&quot;));\n        data.add(new CustomHeatDataEntry(&quot;Possible&quot;, &quot;Moderate&quot;, 1, &quot;#ffb74d&quot;));\n        data.add(new CustomHeatDataEntry(&quot;Possible&quot;, &quot;Major&quot;, 1, &quot;#ffb74d&quot;));\n        data.add(new CustomHeatDataEntry(&quot;Possible&quot;, &quot;Extreme&quot;, 1, &quot;#ffb74d&quot;));\n        data.add(new CustomHeatDataEntry(&quot;Likely&quot;, &quot;Insignificant&quot;, 0, &quot;#90caf9&quot;));\n        data.add(new CustomHeatDataEntry(&quot;Likely&quot;, &quot;Minor&quot;, 1, &quot;#ffb74d&quot;));\n        data.add(new CustomHeatDataEntry(&quot;Likely&quot;, &quot;Moderate&quot;, 1, &quot;#ffb74d&quot;));\n        data.add(new CustomHeatDataEntry(&quot;Likely&quot;, &quot;Major&quot;, 2, &quot;#ef6c00&quot;));\n        data.add(new CustomHeatDataEntry(&quot;Likely&quot;, &quot;Extreme&quot;, 2, &quot;#ef6c00&quot;));\n        data.add(new CustomHeatDataEntry(&quot;Almost\\\\nCertain&quot;, &quot;Insignificant&quot;, 0, &quot;#90caf9&quot;));\n        data.add(new CustomHeatDataEntry(&quot;Almost\\\\nCertain&quot;, &quot;Minor&quot;, 1, &quot;#ffb74d&quot;));\n        data.add(new CustomHeatDataEntry(&quot;Almost\\\\nCertain&quot;, &quot;Moderate&quot;, 1, &quot;#ffb74d&quot;));\n        data.add(new CustomHeatDataEntry(&quot;Almost\\\\nCertain&quot;, &quot;Major&quot;, 2, &quot;#ef6c00&quot;));\n        data.add(new CustomHeatDataEntry(&quot;Almost\\\\nCertain&quot;, &quot;Extreme&quot;, 3, &quot;#d84315&quot;));\n\n        riskMap.data(data);\n\n\n        anyChartView.setChart(riskMap);\n    }\n\n    private static class CustomHeatDataEntry extends HeatDataEntry {\n        CustomHeatDataEntry(String x, String y, Integer heat, String fill) {\n            super(x, y, heat);\n            setValue(&quot;fill&quot;, fill);\n        }\n\n    }\n}\n</code></pre>\n<p>my xml code is:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    tools:context=&quot;.VPDChartActivity&quot;&gt;\n\n    &lt;!-- Page Title --&gt;\n    &lt;TextView\n        android:id=&quot;@+id/text_view_vpd_title&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:text=&quot;@string/title_activity_vpd_hm_chart&quot;\n        android:textAlignment=&quot;center&quot;\n        android:textSize=&quot;24sp&quot;\n        android:textStyle=&quot;bold&quot;\n        android:visibility=&quot;visible&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;@+id/progress_bar&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toBottomOf=&quot;@+id/progress_bar&quot; /&gt;\n\n\n    &lt;com.anychart.AnyChartView\n        android:id=&quot;@+id/any_chart_view&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;\n        android:visibility=&quot;visible&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n\n\n    &lt;ProgressBar\n        android:id=&quot;@+id/progress_bar&quot;\n        style=&quot;?android:attr/progressBarStyleHorizontal&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:visibility=&quot;visible&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;@+id/any_chart_view&quot; /&gt;\n\n\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n<p>I have searched the internet to no avail....</p>\n<p>I have found that setting:\n<code>anyChartView.webview.getSettings().setDomStorageEnabled(true);</code></p>\n<p>should fix the issue but when I try to use it the import of &quot;import android.webkit.WebView;&quot; stays grey and shows it isn't used.\nas well as the &quot;webview&quot; of <code>anyChartView.webview.getSettings().setDomStorageEnabled(true);</code> show red and states &quot;cannot resolve symbol.</p>\n<p>I understand what &quot;cannot resolve symbol means and thought the import would solve that.</p>\n<p>I am just stuck and after three weeks on this I am finally coming here for help.</p>\n"},{"tags":["java","sonarqube","sonar-runner","sonarqube5.1","sonarqube-scan"],"comments":[{"owner":{"account_id":3148809,"reputation":22476,"user_id":2662707,"display_name":"G. Ann - SonarSource Team"},"score":0,"creation_date":1473156294,"post_id":39290983,"comment_id":66022072,"body_markdown":"try appending `-DsonarRunner.dumpToFile=out.txt` to the command line &amp; examining the paths","body":"try appending <code>-DsonarRunner.dumpToFile=out.txt</code> to the command line &amp; examining the paths"},{"owner":{"account_id":3108503,"reputation":413,"user_id":2630810,"display_name":"Mark"},"score":0,"creation_date":1473321844,"post_id":39290983,"comment_id":66098166,"body_markdown":"Thanks for the reply, but this gave me no knew information. I&#39;ve updated my post with the new information. Could you take a further look please?","body":"Thanks for the reply, but this gave me no knew information. I&#39;ve updated my post with the new information. Could you take a further look please?"},{"owner":{"account_id":3148809,"reputation":22476,"user_id":2662707,"display_name":"G. Ann - SonarSource Team"},"score":0,"creation_date":1473326324,"post_id":39290983,"comment_id":66100736,"body_markdown":"I find the mix of \\\\ and / in your resolved paths odd. Can you try with all the slashes pointing in the same direction?","body":"I find the mix of \\\\ and / in your resolved paths odd. Can you try with all the slashes pointing in the same direction?"},{"owner":{"account_id":3108503,"reputation":413,"user_id":2630810,"display_name":"Mark"},"score":0,"creation_date":1474011613,"post_id":39290983,"comment_id":66367386,"body_markdown":"Did another analysis with only back slashes, but still no result.","body":"Did another analysis with only back slashes, but still no result."},{"owner":{"account_id":3148809,"reputation":22476,"user_id":2662707,"display_name":"G. Ann - SonarSource Team"},"score":0,"creation_date":1474631918,"post_id":39290983,"comment_id":66622108,"body_markdown":"I did try reproducing this, but I&#39;m on Linux &amp; I can&#39;t rule that out as a factor. I&#39;d try: 1) removing property interpolation from your paths (just to make sure) 2) upgrading. :-/","body":"I did try reproducing this, but I&#39;m on Linux &amp; I can&#39;t rule that out as a factor. I&#39;d try: 1) removing property interpolation from your paths (just to make sure) 2) upgrading. :-/"},{"owner":{"account_id":3108503,"reputation":413,"user_id":2630810,"display_name":"Mark"},"score":0,"creation_date":1478685450,"post_id":39290983,"comment_id":68251119,"body_markdown":"I haven&#39;t forgetting this issue, it is still on my to do list. I just haven&#39;t had time to properly do this (full sprint backlog). I will comment when I did an analyze with full paths. Upgrading is on the back log, I doubt that I can do that soonish. I will be upgrading to 5.6.3 LTS.","body":"I haven&#39;t forgetting this issue, it is still on my to do list. I just haven&#39;t had time to properly do this (full sprint backlog). I will comment when I did an analyze with full paths. Upgrading is on the back log, I doubt that I can do that soonish. I will be upgrading to 5.6.3 LTS."},{"owner":{"account_id":3108503,"reputation":413,"user_id":2630810,"display_name":"Mark"},"score":0,"creation_date":1485521043,"post_id":39290983,"comment_id":70970375,"body_markdown":"I upgraded to SonarQube 5.6.5 LTS. It seems as if the problem has gone away. I can&#39;t see the same error in the log anymore. How can I see if this problem really has gone away, i.e., what functionality did I gain?","body":"I upgraded to SonarQube 5.6.5 LTS. It seems as if the problem has gone away. I can&#39;t see the same error in the log anymore. How can I see if this problem really has gone away, i.e., what functionality did I gain?"},{"owner":{"account_id":3108503,"reputation":413,"user_id":2630810,"display_name":"Mark"},"score":0,"creation_date":1485758549,"post_id":39290983,"comment_id":71040803,"body_markdown":"Is this perhaps related to the dropped DSM features? http://blog.hello2morrow.com/2017/01/use-sonarqube-sonargraph-plugin-to-detect-cyclic-dependencies/","body":"Is this perhaps related to the dropped DSM features? <a href=\"http://blog.hello2morrow.com/2017/01/use-sonarqube-sonargraph-plugin-to-detect-cyclic-dependencies/\" rel=\"nofollow noreferrer\">blog.hello2morrow.com/2017/01/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":4125740,"reputation":1190,"user_id":3384941,"accept_rate":67,"display_name":"David Hunsicker"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1554388925,"creation_date":1510752111,"answer_id":47308511,"question_id":39290983,"body_markdown":"This is what I use, and it works.\r\n\r\n    sonar-scanner -Dsonar.projectKey=projectName\r\n    -Dsonar.gitlab.commit_sha=$CI_BUILD_REF\r\n    -Dsonar.gitlab.ref_name=$CI_BUILD_REF_NAME -Dsonar.sources=directory\\src\\\r\n    -Dsonar.java.binaries=.build\\libs\\\r\n\r\nYou need to point sonar.java.binaries to a directory that contains jars. I would&#39;t try to get fancy with wildcards and file extensions, that&#39;s not the same thing. You need a directory as an argument, not a regular expression for files.\r\n\r\nI don&#39;t know everything about sonar scanner, but my configuration works.\r\n\r\nTake my example into context, I use it in a gitlab runner pipeline. Your double backslashes should be fine, but you can always substitute them for forwards slashes in your config files.\r\n\r\n","title":"How to correctly configure the property &quot;sonar.java.binaries&quot;?","body":"<p>This is what I use, and it works.</p>\n\n<pre><code>sonar-scanner -Dsonar.projectKey=projectName\n-Dsonar.gitlab.commit_sha=$CI_BUILD_REF\n-Dsonar.gitlab.ref_name=$CI_BUILD_REF_NAME -Dsonar.sources=directory\\src\\\n-Dsonar.java.binaries=.build\\libs\\\n</code></pre>\n\n<p>You need to point sonar.java.binaries to a directory that contains jars. I would't try to get fancy with wildcards and file extensions, that's not the same thing. You need a directory as an argument, not a regular expression for files.</p>\n\n<p>I don't know everything about sonar scanner, but my configuration works.</p>\n\n<p>Take my example into context, I use it in a gitlab runner pipeline. Your double backslashes should be fine, but you can always substitute them for forwards slashes in your config files.</p>\n"},{"tags":[],"owner":{"account_id":3477991,"reputation":3445,"user_id":2910751,"accept_rate":90,"display_name":"Martin Frank"},"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1557227568,"creation_date":1557227568,"answer_id":56021328,"question_id":39290983,"body_markdown":"you have to provide the parameter `sonar.java.libraries`.\r\n\r\nif you use [maven][1] you can add these inside the `pom.xml` as a property\r\n\r\n\r\n    &lt;project&gt;\r\n        ...\r\n        &lt;properties&gt;\r\n            ...\r\n            &lt;sonar.java.libraries&gt;target&lt;/sonar.java.libraries&gt;\r\n\r\n        &lt;/properties&gt;\r\n\r\n    &lt;/project&gt;   \r\n\r\nor as run parameter `-Dsonar.java.libraries=target`\r\n\r\n\r\n  [1]: https://maven.apache.org/","title":"How to correctly configure the property &quot;sonar.java.binaries&quot;?","body":"<p>you have to provide the parameter <code>sonar.java.libraries</code>.</p>\n\n<p>if you use <a href=\"https://maven.apache.org/\" rel=\"nofollow noreferrer\">maven</a> you can add these inside the <code>pom.xml</code> as a property</p>\n\n<pre><code>&lt;project&gt;\n    ...\n    &lt;properties&gt;\n        ...\n        &lt;sonar.java.libraries&gt;target&lt;/sonar.java.libraries&gt;\n\n    &lt;/properties&gt;\n\n&lt;/project&gt;   \n</code></pre>\n\n<p>or as run parameter <code>-Dsonar.java.libraries=target</code></p>\n"},{"tags":[],"owner":{"account_id":4574567,"reputation":189,"user_id":3713353,"display_name":"elem103"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1566085277,"creation_date":1566085277,"answer_id":57540668,"question_id":39290983,"body_markdown":"Based on the documentation at https://docs.sonarqube.org/latest/analysis/languages/java/\r\n\r\nThe purpose of `sonar.java.binaries` path is:\r\n\r\n&gt; Comma-separated paths to directories containing the compiled bytecode files corresponding to your source files.\r\n\r\nFor Gradle, the default path is at `build/classes`, so I would set:\r\n```\r\nsonar.java.binaries=build/classes\r\n```","title":"How to correctly configure the property &quot;sonar.java.binaries&quot;?","body":"<p>Based on the documentation at <a href=\"https://docs.sonarqube.org/latest/analysis/languages/java/\" rel=\"nofollow noreferrer\">https://docs.sonarqube.org/latest/analysis/languages/java/</a></p>\n\n<p>The purpose of <code>sonar.java.binaries</code> path is:</p>\n\n<blockquote>\n  <p>Comma-separated paths to directories containing the compiled bytecode files corresponding to your source files.</p>\n</blockquote>\n\n<p>For Gradle, the default path is at <code>build/classes</code>, so I would set:</p>\n\n<pre><code>sonar.java.binaries=build/classes\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1925323,"reputation":1521,"user_id":1735931,"accept_rate":43,"display_name":"Akom"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1599237845,"creation_date":1599237845,"answer_id":63745086,"question_id":39290983,"body_markdown":"Here are some **options** for a Gradle multi-project.  I&#39;m running in CI (Jenkins) but the principles apply.\r\n\r\n**Options:**\r\n\r\n1. Hand-maintain a hardcoded `sonar.java.binaries` entry, eg: \r\n    ```sonar.java.binaries=subproject1/build/classes,subproject2/build/classes,``` (etc)\r\n\r\n1. Set it to the top-level directory of the project:\r\n    \r\n    ```sonar.java.binaries=.```\r\n1. Use a script to generate your own props file at runtime, for example:\r\n\r\n    \r\n    ```bash\r\n    cat &gt; sonar-project.properties &lt;&lt;EOF\r\n    sonar.projectKey=XXXX\r\n    sonar.projectVersion=YYYY\r\n    sonar.sources=$(find . -path &#39;*/src/main&#39; | xargs | tr &#39; &#39; &#39;,&#39;)\r\n    sonar.java.binaries=$(find . -path &#39;*/build/classes/java&#39; | xargs | tr &#39; &#39; &#39;,&#39;)\r\n    EOF\r\n    ```\r\n\r\n\r\nNote that the above also applies to `sonar.sources`, and it is likely going to need to be in sync with `sonar.java.binaries`.  Having binaries be a superset of source seems to be OK.   Obviously, if your sources value is too broad (ie includes tests, etc), you&#39;ll get more noise.  The advantage of using a script is that you can customize these heuristics to your taste.","title":"How to correctly configure the property &quot;sonar.java.binaries&quot;?","body":"<p>Here are some <strong>options</strong> for a Gradle multi-project.  I'm running in CI (Jenkins) but the principles apply.</p>\n<p><strong>Options:</strong></p>\n<ol>\n<li><p>Hand-maintain a hardcoded <code>sonar.java.binaries</code> entry, eg:\n<code>sonar.java.binaries=subproject1/build/classes,subproject2/build/classes,</code> (etc)</p>\n</li>\n<li><p>Set it to the top-level directory of the project:</p>\n<p><code>sonar.java.binaries=.</code></p>\n</li>\n<li><p>Use a script to generate your own props file at runtime, for example:</p>\n<pre class=\"lang-sh prettyprint-override\"><code>cat &gt; sonar-project.properties &lt;&lt;EOF\nsonar.projectKey=XXXX\nsonar.projectVersion=YYYY\nsonar.sources=$(find . -path '*/src/main' | xargs | tr ' ' ',')\nsonar.java.binaries=$(find . -path '*/build/classes/java' | xargs | tr ' ' ',')\nEOF\n</code></pre>\n</li>\n</ol>\n<p>Note that the above also applies to <code>sonar.sources</code>, and it is likely going to need to be in sync with <code>sonar.java.binaries</code>.  Having binaries be a superset of source seems to be OK.   Obviously, if your sources value is too broad (ie includes tests, etc), you'll get more noise.  The advantage of using a script is that you can customize these heuristics to your taste.</p>\n"},{"tags":[],"owner":{"account_id":24022456,"reputation":346,"user_id":18004537,"display_name":"Muhammet"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1667231742,"creation_date":1667231742,"answer_id":74265927,"question_id":39290983,"body_markdown":"IDK but adding this `sonar.java.binaries= **/*.bin` to sonar-project.properties helped me","title":"How to correctly configure the property &quot;sonar.java.binaries&quot;?","body":"<p>IDK but adding this <code>sonar.java.binaries= **/*.bin</code> to sonar-project.properties helped me</p>\n"},{"tags":[],"owner":{"account_id":23166632,"reputation":1,"user_id":17266459,"display_name":"otite Akpofure"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1689262207,"creation_date":1689262207,"answer_id":76681093,"question_id":39290983,"body_markdown":"Solving this issue is relatively simple, if you are using Sonarcube manually then do the following. go to this webpage (https://docs.sonarsource.com/sonarqube/latest/analyzing-source-code/languages/java/)\r\n\r\nThen on your own sonarcube localhost at port 9000, in the taskbar you will see the tab called administration then follow this path \r\n\r\nAdministration &gt; General Settings &gt; Languages &gt; Java.\r\n\r\nThen in the input tag associated with java fill in the form with sonar.java.binaries and rescan your code in your cli and it would work ","title":"How to correctly configure the property &quot;sonar.java.binaries&quot;?","body":"<p>Solving this issue is relatively simple, if you are using Sonarcube manually then do the following. go to this webpage (<a href=\"https://docs.sonarsource.com/sonarqube/latest/analyzing-source-code/languages/java/\" rel=\"nofollow noreferrer\">https://docs.sonarsource.com/sonarqube/latest/analyzing-source-code/languages/java/</a>)</p>\n<p>Then on your own sonarcube localhost at port 9000, in the taskbar you will see the tab called administration then follow this path</p>\n<p>Administration &gt; General Settings &gt; Languages &gt; Java.</p>\n<p>Then in the input tag associated with java fill in the form with sonar.java.binaries and rescan your code in your cli and it would work</p>\n"}],"owner":{"account_id":3108503,"reputation":413,"user_id":2630810,"display_name":"Mark"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":120542,"favorite_count":0,"down_vote_count":0,"up_vote_count":23,"answer_count":6,"score":23,"last_activity_date":1689262207,"creation_date":1472814738,"question_id":39290983,"body_markdown":"We are using SonarQube 5.1.2 using Ant runner 2.2 and Java pluging 3.12 for the analysis. I can succesfully analyse my project. I just keep getting this error:\r\n\r\n    Java bytecode has not been made available to the analyzer. The org.sonar.java.bytecode.visitor.DependenciesVisitor@d678716, org.sonar.java.checks.unused.UnusedPrivateMethodCheck@58e28efd, CycleBetweenPackages rule are disabled.\r\n\r\nSo I need to configure my sonar.java.binaries and sonar.java.test.binaries properties (following http://docs.sonarqube.org/display/PLUG/Java+Plugin+and+Bytecode). \r\n\r\nWhich I think I have done correctly:\r\n\r\n    &lt;property name=&quot;project.dir&quot; value=&quot;${basedir}/xalg.prj/h3_service_fo&quot; /&gt;\t\r\n    &lt;property name=&quot;sonar.java.binaries&quot; location=&quot;${project.build.dir}/classes/main&quot; /&gt;\r\n    &lt;property name=&quot;sonar.java.test.binaries&quot; value=&quot;${project.build.dir}/classes/test&quot; /&gt;\r\n\r\nWhich resolve to the following valid directories for the above properties:\r\n\r\n    basedir=D\\:\\\\appl\\\\BuildAgent\\\\work\\\\H3\\\\src.prj\\\\java.prj\r\n    project.dir=D\\:\\\\appl\\\\BuildAgent\\\\work\\\\H3\\\\src.prj\\\\java.prj/xalg.prj/h3_service_fo\r\n    sonar.java.binaries=D\\:\\\\appl\\\\BuildAgent\\\\work\\\\H3\\\\src.prj\\\\java.prj\\\\xalg.prj\\\\h3_service_fo\\\\build\\\\classes\\\\main\r\n    sonar.java.test.binaries=D\\:\\\\appl\\\\BuildAgent\\\\work\\\\H3\\\\src.prj\\\\java.prj/xalg.prj/h3_service_fo/build/classes/test\r\n    \r\nBut I keep getting:\r\n\r\n    Java bytecode has not been made available to the analyzer. The org.sonar.java.bytecode.visitor.DependenciesVisitor@d678716, org.sonar.java.checks.unused.UnusedPrivateMethodCheck@58e28efd, CycleBetweenPackages rule are disabled.\r\n    \r\nAnd for the life of me, I can not figure out what values I need to give the sonar.java.binaries and sonar.java.test.binaries properties. I even tried using sonar.binaries, which gave me the following output:\r\n\r\n    Binary dirs: xalg.prj/h3_service_fo/build/classes\r\n    \r\nWhich I did not get using either sonar.java.binaries or sonar.java.test.binaries. I also got:\r\n\r\n    JavaClasspath initialization...\r\n    sonar.binaries and sonar.libraries are deprecated since version 2.5 of sonar-java-plugin, please use sonar.java.binaries and sonar.java.libraries instead\r\n    \r\nWhich is to be expected for a deprecated property. But using the sonar.java.binaries property I did not get the &quot;Binary dirs&quot; line in my log.\r\n\r\nUsing sonar.java.binaries:\r\n\r\n    Language is forced to java\r\n    Load rules\r\n    Load rules (done) | time=761ms\r\n    Code colorizer, supported languages: cs,plsql\r\n    Initializers : \r\n    Base dir: D:\\appl\\BuildAgent\\work\\H3\\src.prj\\java.prj\r\n    Working dir: D:\\appl\\BuildAgent\\work\\H3\\src.prj\\java.prj\\.sonar\r\n    Source paths: xalg.prj/h3_service_fo/src/main/java\r\n    Test paths: xalg.prj/h3_service_fo/src/test/java\r\n    Source encoding: windows-1252, default locale: en_US\r\n    Index files\r\n    \r\nVersus using sonar.binaries:\r\n\r\n    Language is forced to java\r\n    Load rules\r\n    Load rules (done) | time=736ms\r\n    Code colorizer, supported languages: cs,plsql\r\n    Initializers : \r\n    Base dir: D:\\appl\\BuildAgent\\work\\H3\\src.prj\\java.prj\r\n    Working dir: D:\\appl\\BuildAgent\\work\\H3\\src.prj\\java.prj\\.sonar\r\n    Source paths: xalg.prj/h3_service_fo/src/main/java\r\n    Test paths: xalg.prj/h3_service_fo/src/test/java\r\n    Binary dirs: xalg.prj/h3_service_fo/build/classes\r\n    Source encoding: windows-1252, default locale: en_US\r\n    Index files\r\n    \r\nI also looked into the source code of SonarQube, SonarQube Java Plugin and the SonarQube Scanner for instances of either &quot;Java bytecode has not been made available to the analyzer.&quot; or sonar.java.binaries. I found plenty on sonar.java.binaries, but nothing on &quot;Java bytecode has not been made available to the analyzer.&quot; So I have no clue what conditions exactly trigger that error.\r\n\r\nI also tried the following permutations on sonar.java.binaries:\r\n\r\n    &lt;property name=&quot;sonar.java.binaries&quot; location=&quot;${project.build.dir}/classes&quot; /&gt;\r\n    &lt;property name=&quot;sonar.java.binaries&quot; location=&quot;${project.build.dir}/classes/main/nl&quot; /&gt;\r\n\r\nBut that did nothing either.\r\n\r\nWhat is weird is that Squid seems to resolve the classpath just fine:\r\n\r\n    ----- Classpath analyzed by Squid:\r\n    D:\\appl\\BuildAgent\\work\\H3\\src.prj\\java.prj\\xalg.prj\\h3_service_fo\\build\\classes\\main\r\n   \r\nSo, what am I missing? What am I doing wrong? Thanks in advance.\r\n\r\n**Update 2016-09-08**:  \r\nRemoved the entire log, the post become to long.\r\n\r\nA subset with the (I think) relevant paths:\r\n\r\n    project.build.dir=D\\:\\\\appl\\\\BuildAgent\\\\work\\\\H3\\\\src.prj\\\\java.prj/xalg.prj/h3_service_fo/build\r\n    project.dir=D\\:\\\\appl\\\\BuildAgent\\\\work\\\\H3\\\\src.prj\\\\java.prj/xalg.prj/h3_service_fo\r\n    project.src.dir=D\\:\\\\appl\\\\BuildAgent\\\\work\\\\H3\\\\src.prj\\\\java.prj/xalg.prj/h3_service_fo/src\r\n    \r\n    sonar.dir=D\\:/appl/sonarqube-5.1.2\r\n    sonar.working.directory=D\\:\\\\appl\\\\BuildAgent\\\\work\\\\H3\\\\src.prj\\\\java.prj\\\\.sonar\r\n    sonar.projectBaseDir=D\\:\\\\appl\\\\BuildAgent\\\\work\\\\H3\\\\src.prj\\\\java.prj\r\n    \r\n    sonar.jacoco.reportPath=D\\:\\\\appl\\\\BuildAgent\\\\work\\\\H3\\\\src.prj\\\\java.prj/xalg.prj/h3_service_fo/build/jacoco/test.exec\r\n    sonar.junit.reportsPath=D\\:\\\\appl\\\\BuildAgent\\\\work\\\\H3\\\\src.prj\\\\java.prj/xalg.prj/h3_service_fo/build/test-results\r\n    \r\n    sonar.sources=D\\:\\\\appl\\\\BuildAgent\\\\work\\\\H3\\\\src.prj\\\\java.prj/xalg.prj/h3_service_fo/src/main/java\r\n    sonar.java.binaries=D\\:\\\\appl\\\\BuildAgent\\\\work\\\\H3\\\\src.prj\\\\java.prj\\\\xalg.prj\\\\h3_service_fo\\\\build\\\\classes\\\\main\r\n    \r\n    sonar.java.libraries=D\\:\\\\appl\\\\BuildAgent\\\\work\\\\H3\\\\src.prj\\\\java.prj/_deploy/*.jar,D\\:\\\\appl\\\\BuildAgent\\\\work\\\\H3\\\\src.prj\\\\java.prj/_repos/lib/*.jar,D\\:\\\\appl\\\\BuildAgent\\\\work\\\\H3\\\\src.prj\\\\java.prj/_repos/provided/*.jar\r\n    \r\n    sonar.tests=D\\:\\\\appl\\\\BuildAgent\\\\work\\\\H3\\\\src.prj\\\\java.prj/xalg.prj/h3_service_fo/src/test/java\r\n    sonar.java.test.binaries=D\\:\\\\appl\\\\BuildAgent\\\\work\\\\H3\\\\src.prj\\\\java.prj/xalg.prj/h3_service_fo/build/classes/test\r\n    sonar.java.test.libraries=D\\:\\\\appl\\\\BuildAgent\\\\work\\\\H3\\\\src.prj\\\\java.prj/_deploy/*.jar,D\\:\\\\appl\\\\BuildAgent\\\\work\\\\H3\\\\src.prj\\\\java.prj/_repos/lib/*.jar,D\\:\\\\appl\\\\BuildAgent\\\\work\\\\H3\\\\src.prj\\\\java.prj/_repos/provided/*.jar\r\n\r\nThe paths have exactly the same format as in my post. Could it be that the Sonar Ant runner can&#39;t figure out a path with both backslashes and slashes?\r\n\r\n**Update 2016-09-16**:  \r\nRemoved the entire log, the post become to long.\r\n    \r\nA subset with the (I think) relevant paths:\r\n\r\n    project.build.dir=xalg.prj\\\\\\\\h3_service_fo\\\\\\\\build\r\n    project.dir=xalg.prj\\\\\\\\h3_service_fo\r\n    project.src.dir=xalg.prj\\\\\\\\h3_service_fo\\\\\\\\src\r\n    \r\n    sonar.dir=D\\:\\\\\\\\appl\\\\\\\\sonarqube-5.1.2\r\n    sonar.working.directory=D\\:\\\\appl\\\\BuildAgent\\\\work\\\\H3\\\\src.prj\\\\java.prj\\\\.sonar\r\n    sonar.projectBaseDir=D\\:\\\\appl\\\\BuildAgent\\\\work\\\\H3\\\\src.prj\\\\java.prj\r\n    \r\n    sonar.jacoco.reportPath=xalg.prj\\\\\\\\h3_service_fo\\\\\\\\build\\\\\\\\jacoco/test.exec\r\n    sonar.junit.reportsPath=xalg.prj\\\\\\\\h3_service_fo\\\\\\\\build\\\\\\\\test-results\r\n    \r\n    sonar.sources=xalg.prj\\\\\\\\h3_service_fo\\\\\\\\src\\\\\\\\main\\\\\\\\java\r\n    sonar.java.binaries=D\\:\\\\appl\\\\BuildAgent\\\\work\\\\H3\\\\src.prj\\\\java.prj\\\\xalg.prj\\\\h3_service_fo\\\\build\\\\classes\\\\main\r\n    sonar.java.libraries=D\\:\\\\appl\\\\BuildAgent\\\\work\\\\H3\\\\src.prj\\\\java.prj\\\\\\\\_deploy\\\\\\\\*.jar,D\\:\\\\appl\\\\BuildAgent\\\\work\\\\H3\\\\src.prj\\\\java.prj\\\\\\\\_repos\\\\\\\\lib\\\\\\\\*.jar,D\\:\\\\appl\\\\BuildAgent\\\\work\\\\H3\\\\src.prj\\\\java.prj\\\\\\\\_repos\\\\\\\\provided\\\\\\\\*.jar\r\n    \r\n    sonar.tests=xalg.prj\\\\\\\\h3_service_fo\\\\\\\\src\\\\\\\\test\\\\\\\\java\r\n    sonar.java.test.binaries=xalg.prj\\\\\\\\h3_service_fo\\\\\\\\build\\\\\\\\classes\\\\\\\\test\r\n    sonar.java.test.libraries=D\\:\\\\appl\\\\BuildAgent\\\\work\\\\H3\\\\src.prj\\\\java.prj\\\\\\\\_deploy\\\\\\\\*.jar,D\\:\\\\appl\\\\BuildAgent\\\\work\\\\H3\\\\src.prj\\\\java.prj\\\\\\\\_repos\\\\\\\\lib\\\\\\\\*.jar,D\\:\\\\appl\\\\BuildAgent\\\\work\\\\H3\\\\src.prj\\\\java.prj\\\\\\\\_repos\\\\\\\\provided\\\\\\\\*.jar\r\n    \r\nSome paths have become relative, but I think that is because TeamCity changed the Ant file to the file in SVN.\r\nThe sonar.java.binaries is absolute and it **definitely** points to the correct directory. \r\n\r\nBut I still get this error:\r\n\r\n    09:17:52.299 INFO  - Java Main Files AST scan done: 1579 ms\r\n    09:17:52.301 INFO  - 2/2 source files have been analyzed\r\n    09:17:52.305 WARN  - Java bytecode has not been made available to the analyzer. The org.sonar.java.bytecode.visitor.DependenciesVisitor@757a48f9, org.sonar.java.checks.unused.UnusedPrivateMethodCheck@1adf492b, CycleBetweenPackages rule are disabled.\r\n\r\nThe classpath is still interpreted just fine:\r\n\r\n    [sonar:sonar] 09:17:51.971 DEBUG - ----- Classpath analyzed by Squid:\r\n    [sonar:sonar] 09:17:51.972 DEBUG - D:\\appl\\BuildAgent\\work\\H3\\src.prj\\java.prj\\xalg.prj\\h3_service_fo\\build\\classes\\main\r\n    [sonar:sonar] 09:17:51.973 DEBUG - D:\\appl\\BuildAgent\\work\\H3\\src.prj\\java.prj\\_deploy\\batch.daemon.jar\r\n    [sonar:sonar] 09:17:51.974 DEBUG - D:\\appl\\BuildAgent\\work\\H3\\src.prj\\java.prj\\_deploy\\buildinfo.jar\r\n    [sonar:sonar] 09:17:51.975 DEBUG - D:\\appl\\BuildAgent\\work\\H3\\src.prj\\java.prj\\_deploy\\h2_shared.jar\r\n    [sonar:sonar] 09:17:51.975 DEBUG - D:\\appl\\BuildAgent\\work\\H3\\src.prj\\java.prj\\_deploy\\h3_generator.jar\r\n    [sonar:sonar] 09:17:51.976 DEBUG - D:\\appl\\BuildAgent\\work\\H3\\src.prj\\java.prj\\_deploy\\h3_loadtest.jar\r\n    [sonar:sonar] 09:17:51.977 DEBUG - D:\\appl\\BuildAgent\\work\\H3\\src.prj\\java.prj\\_deploy\\h3_model_common.jar\r\n    [sonar:sonar] 09:17:51.977 DEBUG - D:\\appl\\BuildAgent\\work\\H3\\src.prj\\java.prj\\_deploy\\h3_model_xalg.jar\r\n    [sonar:sonar] 09:17:51.978 DEBUG - D:\\appl\\BuildAgent\\work\\H3\\src.prj\\java.prj\\_deploy\\h3_model_xalg_dao.jar\r\n    [sonar:sonar] 09:17:51.979 DEBUG - D:\\appl\\BuildAgent\\work\\H3\\src.prj\\java.prj\\_deploy\\h3_model_xalg_mappers.jar\r\n    [sonar:sonar] 09:17:51.979 DEBUG - D:\\appl\\BuildAgent\\work\\H3\\src.prj\\java.prj\\_deploy\\h3_model_xalg_procedures.jar\r\n    [sonar:sonar] 09:17:51.980 DEBUG - D:\\appl\\BuildAgent\\work\\H3\\src.prj\\java.prj\\_deploy\\h3_model_xcare.jar\r\n    [sonar:sonar] 09:17:51.981 DEBUG - D:\\appl\\BuildAgent\\work\\H3\\src.prj\\java.prj\\_deploy\\h3_model_xcare_dao.jar\r\n    [sonar:sonar] 09:17:51.982 DEBUG - D:\\appl\\BuildAgent\\work\\H3\\src.prj\\java.prj\\_deploy\\h3_model_xcare_mappers.jar\r\n    [sonar:sonar] 09:17:51.982 DEBUG - D:\\appl\\BuildAgent\\work\\H3\\src.prj\\java.prj\\_deploy\\h3_model_xcare_procedures.jar\r\n\r\nCould the Sonar Ant runner have a problem with the escaped back slashes?","title":"How to correctly configure the property &quot;sonar.java.binaries&quot;?","body":"<p>We are using SonarQube 5.1.2 using Ant runner 2.2 and Java pluging 3.12 for the analysis. I can succesfully analyse my project. I just keep getting this error:</p>\n\n<pre><code>Java bytecode has not been made available to the analyzer. The org.sonar.java.bytecode.visitor.DependenciesVisitor@d678716, org.sonar.java.checks.unused.UnusedPrivateMethodCheck@58e28efd, CycleBetweenPackages rule are disabled.\n</code></pre>\n\n<p>So I need to configure my sonar.java.binaries and sonar.java.test.binaries properties (following <a href=\"http://docs.sonarqube.org/display/PLUG/Java+Plugin+and+Bytecode\" rel=\"noreferrer\">http://docs.sonarqube.org/display/PLUG/Java+Plugin+and+Bytecode</a>). </p>\n\n<p>Which I think I have done correctly:</p>\n\n<pre><code>&lt;property name=\"project.dir\" value=\"${basedir}/xalg.prj/h3_service_fo\" /&gt;   \n&lt;property name=\"sonar.java.binaries\" location=\"${project.build.dir}/classes/main\" /&gt;\n&lt;property name=\"sonar.java.test.binaries\" value=\"${project.build.dir}/classes/test\" /&gt;\n</code></pre>\n\n<p>Which resolve to the following valid directories for the above properties:</p>\n\n<pre><code>basedir=D\\:\\\\appl\\\\BuildAgent\\\\work\\\\H3\\\\src.prj\\\\java.prj\nproject.dir=D\\:\\\\appl\\\\BuildAgent\\\\work\\\\H3\\\\src.prj\\\\java.prj/xalg.prj/h3_service_fo\nsonar.java.binaries=D\\:\\\\appl\\\\BuildAgent\\\\work\\\\H3\\\\src.prj\\\\java.prj\\\\xalg.prj\\\\h3_service_fo\\\\build\\\\classes\\\\main\nsonar.java.test.binaries=D\\:\\\\appl\\\\BuildAgent\\\\work\\\\H3\\\\src.prj\\\\java.prj/xalg.prj/h3_service_fo/build/classes/test\n</code></pre>\n\n<p>But I keep getting:</p>\n\n<pre><code>Java bytecode has not been made available to the analyzer. The org.sonar.java.bytecode.visitor.DependenciesVisitor@d678716, org.sonar.java.checks.unused.UnusedPrivateMethodCheck@58e28efd, CycleBetweenPackages rule are disabled.\n</code></pre>\n\n<p>And for the life of me, I can not figure out what values I need to give the sonar.java.binaries and sonar.java.test.binaries properties. I even tried using sonar.binaries, which gave me the following output:</p>\n\n<pre><code>Binary dirs: xalg.prj/h3_service_fo/build/classes\n</code></pre>\n\n<p>Which I did not get using either sonar.java.binaries or sonar.java.test.binaries. I also got:</p>\n\n<pre><code>JavaClasspath initialization...\nsonar.binaries and sonar.libraries are deprecated since version 2.5 of sonar-java-plugin, please use sonar.java.binaries and sonar.java.libraries instead\n</code></pre>\n\n<p>Which is to be expected for a deprecated property. But using the sonar.java.binaries property I did not get the \"Binary dirs\" line in my log.</p>\n\n<p>Using sonar.java.binaries:</p>\n\n<pre><code>Language is forced to java\nLoad rules\nLoad rules (done) | time=761ms\nCode colorizer, supported languages: cs,plsql\nInitializers : \nBase dir: D:\\appl\\BuildAgent\\work\\H3\\src.prj\\java.prj\nWorking dir: D:\\appl\\BuildAgent\\work\\H3\\src.prj\\java.prj\\.sonar\nSource paths: xalg.prj/h3_service_fo/src/main/java\nTest paths: xalg.prj/h3_service_fo/src/test/java\nSource encoding: windows-1252, default locale: en_US\nIndex files\n</code></pre>\n\n<p>Versus using sonar.binaries:</p>\n\n<pre><code>Language is forced to java\nLoad rules\nLoad rules (done) | time=736ms\nCode colorizer, supported languages: cs,plsql\nInitializers : \nBase dir: D:\\appl\\BuildAgent\\work\\H3\\src.prj\\java.prj\nWorking dir: D:\\appl\\BuildAgent\\work\\H3\\src.prj\\java.prj\\.sonar\nSource paths: xalg.prj/h3_service_fo/src/main/java\nTest paths: xalg.prj/h3_service_fo/src/test/java\nBinary dirs: xalg.prj/h3_service_fo/build/classes\nSource encoding: windows-1252, default locale: en_US\nIndex files\n</code></pre>\n\n<p>I also looked into the source code of SonarQube, SonarQube Java Plugin and the SonarQube Scanner for instances of either \"Java bytecode has not been made available to the analyzer.\" or sonar.java.binaries. I found plenty on sonar.java.binaries, but nothing on \"Java bytecode has not been made available to the analyzer.\" So I have no clue what conditions exactly trigger that error.</p>\n\n<p>I also tried the following permutations on sonar.java.binaries:</p>\n\n<pre><code>&lt;property name=\"sonar.java.binaries\" location=\"${project.build.dir}/classes\" /&gt;\n&lt;property name=\"sonar.java.binaries\" location=\"${project.build.dir}/classes/main/nl\" /&gt;\n</code></pre>\n\n<p>But that did nothing either.</p>\n\n<p>What is weird is that Squid seems to resolve the classpath just fine:</p>\n\n<pre><code>----- Classpath analyzed by Squid:\nD:\\appl\\BuildAgent\\work\\H3\\src.prj\\java.prj\\xalg.prj\\h3_service_fo\\build\\classes\\main\n</code></pre>\n\n<p>So, what am I missing? What am I doing wrong? Thanks in advance.</p>\n\n<p><strong>Update 2016-09-08</strong>:<br>\nRemoved the entire log, the post become to long.</p>\n\n<p>A subset with the (I think) relevant paths:</p>\n\n<pre><code>project.build.dir=D\\:\\\\appl\\\\BuildAgent\\\\work\\\\H3\\\\src.prj\\\\java.prj/xalg.prj/h3_service_fo/build\nproject.dir=D\\:\\\\appl\\\\BuildAgent\\\\work\\\\H3\\\\src.prj\\\\java.prj/xalg.prj/h3_service_fo\nproject.src.dir=D\\:\\\\appl\\\\BuildAgent\\\\work\\\\H3\\\\src.prj\\\\java.prj/xalg.prj/h3_service_fo/src\n\nsonar.dir=D\\:/appl/sonarqube-5.1.2\nsonar.working.directory=D\\:\\\\appl\\\\BuildAgent\\\\work\\\\H3\\\\src.prj\\\\java.prj\\\\.sonar\nsonar.projectBaseDir=D\\:\\\\appl\\\\BuildAgent\\\\work\\\\H3\\\\src.prj\\\\java.prj\n\nsonar.jacoco.reportPath=D\\:\\\\appl\\\\BuildAgent\\\\work\\\\H3\\\\src.prj\\\\java.prj/xalg.prj/h3_service_fo/build/jacoco/test.exec\nsonar.junit.reportsPath=D\\:\\\\appl\\\\BuildAgent\\\\work\\\\H3\\\\src.prj\\\\java.prj/xalg.prj/h3_service_fo/build/test-results\n\nsonar.sources=D\\:\\\\appl\\\\BuildAgent\\\\work\\\\H3\\\\src.prj\\\\java.prj/xalg.prj/h3_service_fo/src/main/java\nsonar.java.binaries=D\\:\\\\appl\\\\BuildAgent\\\\work\\\\H3\\\\src.prj\\\\java.prj\\\\xalg.prj\\\\h3_service_fo\\\\build\\\\classes\\\\main\n\nsonar.java.libraries=D\\:\\\\appl\\\\BuildAgent\\\\work\\\\H3\\\\src.prj\\\\java.prj/_deploy/*.jar,D\\:\\\\appl\\\\BuildAgent\\\\work\\\\H3\\\\src.prj\\\\java.prj/_repos/lib/*.jar,D\\:\\\\appl\\\\BuildAgent\\\\work\\\\H3\\\\src.prj\\\\java.prj/_repos/provided/*.jar\n\nsonar.tests=D\\:\\\\appl\\\\BuildAgent\\\\work\\\\H3\\\\src.prj\\\\java.prj/xalg.prj/h3_service_fo/src/test/java\nsonar.java.test.binaries=D\\:\\\\appl\\\\BuildAgent\\\\work\\\\H3\\\\src.prj\\\\java.prj/xalg.prj/h3_service_fo/build/classes/test\nsonar.java.test.libraries=D\\:\\\\appl\\\\BuildAgent\\\\work\\\\H3\\\\src.prj\\\\java.prj/_deploy/*.jar,D\\:\\\\appl\\\\BuildAgent\\\\work\\\\H3\\\\src.prj\\\\java.prj/_repos/lib/*.jar,D\\:\\\\appl\\\\BuildAgent\\\\work\\\\H3\\\\src.prj\\\\java.prj/_repos/provided/*.jar\n</code></pre>\n\n<p>The paths have exactly the same format as in my post. Could it be that the Sonar Ant runner can't figure out a path with both backslashes and slashes?</p>\n\n<p><strong>Update 2016-09-16</strong>:<br>\nRemoved the entire log, the post become to long.</p>\n\n<p>A subset with the (I think) relevant paths:</p>\n\n<pre><code>project.build.dir=xalg.prj\\\\\\\\h3_service_fo\\\\\\\\build\nproject.dir=xalg.prj\\\\\\\\h3_service_fo\nproject.src.dir=xalg.prj\\\\\\\\h3_service_fo\\\\\\\\src\n\nsonar.dir=D\\:\\\\\\\\appl\\\\\\\\sonarqube-5.1.2\nsonar.working.directory=D\\:\\\\appl\\\\BuildAgent\\\\work\\\\H3\\\\src.prj\\\\java.prj\\\\.sonar\nsonar.projectBaseDir=D\\:\\\\appl\\\\BuildAgent\\\\work\\\\H3\\\\src.prj\\\\java.prj\n\nsonar.jacoco.reportPath=xalg.prj\\\\\\\\h3_service_fo\\\\\\\\build\\\\\\\\jacoco/test.exec\nsonar.junit.reportsPath=xalg.prj\\\\\\\\h3_service_fo\\\\\\\\build\\\\\\\\test-results\n\nsonar.sources=xalg.prj\\\\\\\\h3_service_fo\\\\\\\\src\\\\\\\\main\\\\\\\\java\nsonar.java.binaries=D\\:\\\\appl\\\\BuildAgent\\\\work\\\\H3\\\\src.prj\\\\java.prj\\\\xalg.prj\\\\h3_service_fo\\\\build\\\\classes\\\\main\nsonar.java.libraries=D\\:\\\\appl\\\\BuildAgent\\\\work\\\\H3\\\\src.prj\\\\java.prj\\\\\\\\_deploy\\\\\\\\*.jar,D\\:\\\\appl\\\\BuildAgent\\\\work\\\\H3\\\\src.prj\\\\java.prj\\\\\\\\_repos\\\\\\\\lib\\\\\\\\*.jar,D\\:\\\\appl\\\\BuildAgent\\\\work\\\\H3\\\\src.prj\\\\java.prj\\\\\\\\_repos\\\\\\\\provided\\\\\\\\*.jar\n\nsonar.tests=xalg.prj\\\\\\\\h3_service_fo\\\\\\\\src\\\\\\\\test\\\\\\\\java\nsonar.java.test.binaries=xalg.prj\\\\\\\\h3_service_fo\\\\\\\\build\\\\\\\\classes\\\\\\\\test\nsonar.java.test.libraries=D\\:\\\\appl\\\\BuildAgent\\\\work\\\\H3\\\\src.prj\\\\java.prj\\\\\\\\_deploy\\\\\\\\*.jar,D\\:\\\\appl\\\\BuildAgent\\\\work\\\\H3\\\\src.prj\\\\java.prj\\\\\\\\_repos\\\\\\\\lib\\\\\\\\*.jar,D\\:\\\\appl\\\\BuildAgent\\\\work\\\\H3\\\\src.prj\\\\java.prj\\\\\\\\_repos\\\\\\\\provided\\\\\\\\*.jar\n</code></pre>\n\n<p>Some paths have become relative, but I think that is because TeamCity changed the Ant file to the file in SVN.\nThe sonar.java.binaries is absolute and it <strong>definitely</strong> points to the correct directory. </p>\n\n<p>But I still get this error:</p>\n\n<pre><code>09:17:52.299 INFO  - Java Main Files AST scan done: 1579 ms\n09:17:52.301 INFO  - 2/2 source files have been analyzed\n09:17:52.305 WARN  - Java bytecode has not been made available to the analyzer. The org.sonar.java.bytecode.visitor.DependenciesVisitor@757a48f9, org.sonar.java.checks.unused.UnusedPrivateMethodCheck@1adf492b, CycleBetweenPackages rule are disabled.\n</code></pre>\n\n<p>The classpath is still interpreted just fine:</p>\n\n<pre><code>[sonar:sonar] 09:17:51.971 DEBUG - ----- Classpath analyzed by Squid:\n[sonar:sonar] 09:17:51.972 DEBUG - D:\\appl\\BuildAgent\\work\\H3\\src.prj\\java.prj\\xalg.prj\\h3_service_fo\\build\\classes\\main\n[sonar:sonar] 09:17:51.973 DEBUG - D:\\appl\\BuildAgent\\work\\H3\\src.prj\\java.prj\\_deploy\\batch.daemon.jar\n[sonar:sonar] 09:17:51.974 DEBUG - D:\\appl\\BuildAgent\\work\\H3\\src.prj\\java.prj\\_deploy\\buildinfo.jar\n[sonar:sonar] 09:17:51.975 DEBUG - D:\\appl\\BuildAgent\\work\\H3\\src.prj\\java.prj\\_deploy\\h2_shared.jar\n[sonar:sonar] 09:17:51.975 DEBUG - D:\\appl\\BuildAgent\\work\\H3\\src.prj\\java.prj\\_deploy\\h3_generator.jar\n[sonar:sonar] 09:17:51.976 DEBUG - D:\\appl\\BuildAgent\\work\\H3\\src.prj\\java.prj\\_deploy\\h3_loadtest.jar\n[sonar:sonar] 09:17:51.977 DEBUG - D:\\appl\\BuildAgent\\work\\H3\\src.prj\\java.prj\\_deploy\\h3_model_common.jar\n[sonar:sonar] 09:17:51.977 DEBUG - D:\\appl\\BuildAgent\\work\\H3\\src.prj\\java.prj\\_deploy\\h3_model_xalg.jar\n[sonar:sonar] 09:17:51.978 DEBUG - D:\\appl\\BuildAgent\\work\\H3\\src.prj\\java.prj\\_deploy\\h3_model_xalg_dao.jar\n[sonar:sonar] 09:17:51.979 DEBUG - D:\\appl\\BuildAgent\\work\\H3\\src.prj\\java.prj\\_deploy\\h3_model_xalg_mappers.jar\n[sonar:sonar] 09:17:51.979 DEBUG - D:\\appl\\BuildAgent\\work\\H3\\src.prj\\java.prj\\_deploy\\h3_model_xalg_procedures.jar\n[sonar:sonar] 09:17:51.980 DEBUG - D:\\appl\\BuildAgent\\work\\H3\\src.prj\\java.prj\\_deploy\\h3_model_xcare.jar\n[sonar:sonar] 09:17:51.981 DEBUG - D:\\appl\\BuildAgent\\work\\H3\\src.prj\\java.prj\\_deploy\\h3_model_xcare_dao.jar\n[sonar:sonar] 09:17:51.982 DEBUG - D:\\appl\\BuildAgent\\work\\H3\\src.prj\\java.prj\\_deploy\\h3_model_xcare_mappers.jar\n[sonar:sonar] 09:17:51.982 DEBUG - D:\\appl\\BuildAgent\\work\\H3\\src.prj\\java.prj\\_deploy\\h3_model_xcare_procedures.jar\n</code></pre>\n\n<p>Could the Sonar Ant runner have a problem with the escaped back slashes?</p>\n"},{"tags":["java","threadpool","executorservice","thread-synchronization"],"comments":[{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":1,"creation_date":1689261921,"post_id":76680932,"comment_id":135191601,"body_markdown":"Poor `ForkJoinPool` was left to the wind I suppose. A single-threaded `ExecutorService` is very different from `synchronized` and its usages, what do you mean by &quot;Synchronized operations&quot;? Note that the single thread in that `ExecutorService` is _not_ the current thread, so you&#39;re submitting tasks for that other thread to consume. You&#39;d want this if the tasks you&#39;re submitting might take a long time / block the current thread, or if that service is responsible for some single area (e.g. a gui rendering thread)","body":"Poor <code>ForkJoinPool</code> was left to the wind I suppose. A single-threaded <code>ExecutorService</code> is very different from <code>synchronized</code> and its usages, what do you mean by &quot;Synchronized operations&quot;? Note that the single thread in that <code>ExecutorService</code> is <i>not</i> the current thread, so you&#39;re submitting tasks for that other thread to consume. You&#39;d want this if the tasks you&#39;re submitting might take a long time / block the current thread, or if that service is responsible for some single area (e.g. a gui rendering thread)"},{"owner":{"account_id":5998820,"reputation":12656,"user_id":4712734,"display_name":"DuncG"},"score":0,"creation_date":1689264776,"post_id":76680932,"comment_id":135192345,"body_markdown":"Thread pool and synchronization are not related. A single thread executor just ensures a sequential order of some tasks, it does not stop another thread accessing the same set of underlying objects in use by those tasks.","body":"Thread pool and synchronization are not related. A single thread executor just ensures a sequential order of some tasks, it does not stop another thread accessing the same set of underlying objects in use by those tasks."}],"answers":[{"tags":[],"owner":{"account_id":4280753,"reputation":164,"user_id":3500197,"display_name":"shailb"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1689261504,"creation_date":1689261504,"answer_id":76681004,"question_id":76680932,"body_markdown":"SingleThreadExecutor makes sure all requests gets executed by a single thread. Imagine a physical kiosk taking orders from customers in queue.","title":"What is benefit of SingleThreadPool over synchronization?","body":"<p>SingleThreadExecutor makes sure all requests gets executed by a single thread. Imagine a physical kiosk taking orders from customers in queue.</p>\n"},{"tags":[],"owner":{"account_id":11400015,"reputation":1904,"user_id":8357251,"display_name":"gdomo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1689261702,"creation_date":1689261702,"answer_id":76681025,"question_id":76680932,"body_markdown":"You can implement analog of single thread executor with a Thread and some synchronized code, however it would take lots of effort. For example, some things you have to implement manually:\r\n\r\n 1. A queue of tasks. Task submission (not execution) to an executor would be performed immediately, task would be stored for later execution. Every call to synchronized block would wait, so you have to store task manually in order to archive similar behaviour.\r\n2. Order of task execution.\r\n3. Task submission to an executor returns a Future\r\n\r\nSo look at a executors API and think how could you implement it manually and you see a lot of work to do.","title":"What is benefit of SingleThreadPool over synchronization?","body":"<p>You can implement analog of single thread executor with a Thread and some synchronized code, however it would take lots of effort. For example, some things you have to implement manually:</p>\n<ol>\n<li>A queue of tasks. Task submission (not execution) to an executor would be performed immediately, task would be stored for later execution. Every call to synchronized block would wait, so you have to store task manually in order to archive similar behaviour.</li>\n<li>Order of task execution.</li>\n<li>Task submission to an executor returns a Future</li>\n</ol>\n<p>So look at a executors API and think how could you implement it manually and you see a lot of work to do.</p>\n"}],"owner":{"account_id":20185812,"reputation":249,"user_id":14805169,"display_name":"Santrupta Dash"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1689261702,"creation_date":1689260973,"question_id":76680932,"body_markdown":"I was studing about ExecutorService. \r\nI found that there are 4 types of Thread pools. &lt;br/&gt;\r\n        1. FixedThreadPool &lt;br/&gt;\r\n         \r\n\r\n         \r\n\r\n    int coreCount = Runtime.getRuntime().availableProcessors();  \r\n    ExecutorService service = Executors.newFixedThreadPool(coreCount);\r\n\r\n\r\n   2. CachedThreadPool&lt;br/&gt;\r\n   \r\n\r\n    ExecutorService service = Executors.newCachedThreadPool();\r\n\r\n   here threads are automatically created if no created thread is free and deleted when a thread is idle by JVM.\r\n   Threads are stored in queue. \r\n\r\n   3. ScheduledThreadPool&lt;br/&gt;\r\n      Threads are stored in a delay queue\r\n      this queue can sort the element based on their scheduled occurrence. &lt;br/&gt;\r\n  \r\n\r\n   Service.schedule&lt;br&gt;\r\n   Service.scheduleAtFixedRate&lt;br&gt;\r\n   Service.scheduleAtFixedDelay&lt;br&gt;\r\n\r\nSchedule the tasks to run based on time delay (and retrigger for fixedRate / fixedDelay)&lt;br/&gt;\r\nLife Cycle: More threads are created if required.\r\n \r\n\r\n    ScheduledExecutorService scheduledExecutorService = Executors.newScheduledThreadPool ( 10);\r\n    // task to run after 10 second delay\r\n    scheduledExecutorService.schedule(new Task(),  10, TimeUnit.SECONDS);\r\n    \r\n    // task to run repeatedly every 10 seconds\r\n    scheduledExecutorService.scheduleAtFixedRate(new Task(),  15,  10, TimeUnit.SECONDS);\r\n\r\n    // task to run repeatedly 10 seconds after previous task completes\r\n    scheduledExecutorService.scheduleWithFixedDelay(new Task(),  15,  10, TimeUnit.SECONDS);\r\n\r\n  4. SingleThreadedExecutor&lt;br/&gt;\r\n    when you require to run thread in a sequential order you should use SingleThreadPoolService.&lt;br/&gt;\r\n\r\n    ExecutorService service = Executors.newSingleThreadExecutor(); \r\n\r\n**So my question is the single Thread Executor looks very similar to Synchronized operations. Can anyone please describe any difference between those two. any benefit over synchronization. What was the motivation for a Single Thread executor ? means why thread at all ?** ","title":"What is benefit of SingleThreadPool over synchronization?","body":"<p>I was studing about ExecutorService.\nI found that there are 4 types of Thread pools. <br/>\n1. FixedThreadPool <br/></p>\n<pre><code>int coreCount = Runtime.getRuntime().availableProcessors();  \nExecutorService service = Executors.newFixedThreadPool(coreCount);\n</code></pre>\n<ol start=\"2\">\n<li>CachedThreadPool<br/></li>\n</ol>\n<pre><code>ExecutorService service = Executors.newCachedThreadPool();\n</code></pre>\n<p>here threads are automatically created if no created thread is free and deleted when a thread is idle by JVM.\nThreads are stored in queue.</p>\n<ol start=\"3\">\n<li>ScheduledThreadPool<br/>\nThreads are stored in a delay queue\nthis queue can sort the element based on their scheduled occurrence. <br/></li>\n</ol>\n<p>Service.schedule<br>\nService.scheduleAtFixedRate<br>\nService.scheduleAtFixedDelay<br></p>\n<p>Schedule the tasks to run based on time delay (and retrigger for fixedRate / fixedDelay)<br/>\nLife Cycle: More threads are created if required.</p>\n<pre><code>ScheduledExecutorService scheduledExecutorService = Executors.newScheduledThreadPool ( 10);\n// task to run after 10 second delay\nscheduledExecutorService.schedule(new Task(),  10, TimeUnit.SECONDS);\n\n// task to run repeatedly every 10 seconds\nscheduledExecutorService.scheduleAtFixedRate(new Task(),  15,  10, TimeUnit.SECONDS);\n\n// task to run repeatedly 10 seconds after previous task completes\nscheduledExecutorService.scheduleWithFixedDelay(new Task(),  15,  10, TimeUnit.SECONDS);\n</code></pre>\n<ol start=\"4\">\n<li>SingleThreadedExecutor<br/>\nwhen you require to run thread in a sequential order you should use SingleThreadPoolService.<br/></li>\n</ol>\n<pre><code>ExecutorService service = Executors.newSingleThreadExecutor(); \n</code></pre>\n<p><strong>So my question is the single Thread Executor looks very similar to Synchronized operations. Can anyone please describe any difference between those two. any benefit over synchronization. What was the motivation for a Single Thread executor ? means why thread at all ?</strong></p>\n"},{"tags":["java","swing","powerpoint"],"comments":[{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1689048719,"post_id":76658525,"comment_id":135154232,"body_markdown":"`setLayout(null);` and `setPreferredSize(new Dimension(200, 0));` are not good starting points","body":"<code>setLayout(null);</code> and <code>setPreferredSize(new Dimension(200, 0));</code> are not good starting points"},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1689048775,"post_id":76658525,"comment_id":135154241,"body_markdown":"`slide.paint(g);` should probably be `slide.printAll(g)`, but you will need to size the panel to a reasonable size, otherwise nothing gets painted","body":"<code>slide.paint(g);</code> should probably be <code>slide.printAll(g)</code>, but you will need to size the panel to a reasonable size, otherwise nothing gets painted"},{"owner":{"account_id":28991204,"reputation":9,"user_id":22206888,"display_name":"Robot"},"score":0,"creation_date":1689139581,"post_id":76658525,"comment_id":135169004,"body_markdown":"Thanks for answering, the problem has been solved, really appreciated","body":"Thanks for answering, the problem has been solved, really appreciated"}],"owner":{"account_id":28991204,"reputation":9,"user_id":22206888,"display_name":"Robot"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1689261604,"creation_date":1689045716,"question_id":76658525,"body_markdown":"```\r\npublic class SlideThumbnailPanel extends JPanel {\r\n\t\r\n\tprivate List&lt;SlidePanel&gt; slides;\r\n\tprivate int currentSlideIndex;\r\n\t\r\n\tpublic SlideThumbnailPanel() {\r\n\t\tslides = new ArrayList&lt;&gt;();\r\n\t\tcurrentSlideIndex = -1;\r\n\t\t//setLayout(new BoxLayout(this, BoxLayout.Y_AXIS));\r\n\t\tsetLayout(null);\r\n\t\tsetPreferredSize(new Dimension(200, 0));\r\n\t\tsetBackground(Color.LIGHT_GRAY);\r\n\t}\r\n\r\n\tpublic void addSlide() {\r\n\t\tSlidePanel newSlide = new SlidePanel();\r\n\t\tslides.add(newSlide);\r\n\t\tcurrentSlideIndex = slides.size() - 1;\r\n\t\tImageIcon thumbnail = createThumbnail(newSlide);\r\n\t\tJLabel thumbnailLabel = new JLabel(thumbnail);\r\n\t        thumbnailLabel.setPreferredSize(new Dimension(200, 112));\r\n\t        add(thumbnailLabel);\r\n\t\trevalidate();\r\n\t\trepaint();\r\n\t}\r\n\r\n\tpublic void removeSlide() {\r\n\t\tif (currentSlideIndex &gt;= 0 &amp;&amp; currentSlideIndex &lt; slides.size()) {\r\n\t\t\tslides.remove(currentSlideIndex);\r\n\t\t\tremove(currentSlideIndex);\r\n\t\t\tif (slides.size() &gt; 0) {\r\n\t\t\t\tcurrentSlideIndex = Math.max(0, currentSlideIndex - 1);\r\n\t\t\t} else {\r\n\t\t\t\tcurrentSlideIndex = -1;\r\n\t\t\t}\r\n\t\t\trevalidate();\r\n\t\t\trepaint();\r\n\t\t}\r\n\t}\r\n\r\n\tprivate ImageIcon createThumbnail(SlidePanel slide) {\r\n\t\tBufferedImage thumbnailImage = new BufferedImage(200, 112, BufferedImage.TYPE_INT_ARGB);\r\n\t\tGraphics2D g = thumbnailImage.createGraphics();\r\n\t\tslide.paint(g);\r\n\t\tg.dispose();\r\n\t\treturn new ImageIcon(thumbnailImage);\r\n\t}\r\n}\r\n```\r\n\r\nUnable to display expected results. When adding a slide, nothing changes the thumbnail and the method `addSlide(`) can be called normally.\r\n\r\n","title":"Generating Thumbnails for .ppt and .pptx in swing","body":"<pre><code>public class SlideThumbnailPanel extends JPanel {\n    \n    private List&lt;SlidePanel&gt; slides;\n    private int currentSlideIndex;\n    \n    public SlideThumbnailPanel() {\n        slides = new ArrayList&lt;&gt;();\n        currentSlideIndex = -1;\n        //setLayout(new BoxLayout(this, BoxLayout.Y_AXIS));\n        setLayout(null);\n        setPreferredSize(new Dimension(200, 0));\n        setBackground(Color.LIGHT_GRAY);\n    }\n\n    public void addSlide() {\n        SlidePanel newSlide = new SlidePanel();\n        slides.add(newSlide);\n        currentSlideIndex = slides.size() - 1;\n        ImageIcon thumbnail = createThumbnail(newSlide);\n        JLabel thumbnailLabel = new JLabel(thumbnail);\n            thumbnailLabel.setPreferredSize(new Dimension(200, 112));\n            add(thumbnailLabel);\n        revalidate();\n        repaint();\n    }\n\n    public void removeSlide() {\n        if (currentSlideIndex &gt;= 0 &amp;&amp; currentSlideIndex &lt; slides.size()) {\n            slides.remove(currentSlideIndex);\n            remove(currentSlideIndex);\n            if (slides.size() &gt; 0) {\n                currentSlideIndex = Math.max(0, currentSlideIndex - 1);\n            } else {\n                currentSlideIndex = -1;\n            }\n            revalidate();\n            repaint();\n        }\n    }\n\n    private ImageIcon createThumbnail(SlidePanel slide) {\n        BufferedImage thumbnailImage = new BufferedImage(200, 112, BufferedImage.TYPE_INT_ARGB);\n        Graphics2D g = thumbnailImage.createGraphics();\n        slide.paint(g);\n        g.dispose();\n        return new ImageIcon(thumbnailImage);\n    }\n}\n</code></pre>\n<p>Unable to display expected results. When adding a slide, nothing changes the thumbnail and the method <code>addSlide(</code>) can be called normally.</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":3253096,"reputation":4401,"user_id":2987755,"accept_rate":50,"display_name":"dkb"},"score":1,"creation_date":1554234813,"post_id":55481362,"comment_id":97674888,"body_markdown":"can you add application.properties file content in question.","body":"can you add application.properties file content in question."}],"answers":[{"tags":[],"owner":{"account_id":13949734,"reputation":33,"user_id":10076221,"display_name":"Eder Rodrigues"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1554302541,"creation_date":1554231711,"answer_id":55481846,"question_id":55481362,"body_markdown":"There are a few possibilities for this, but the first time there are three things you need to do.\r\n\r\n1 - Specific compatibles versions of your dependencies on your pom.xml\r\n\r\n2 - You need add database driverConnector on pom.xml\r\n\r\n3 - Create an application.properties on &#39;src/main/resources/application.properties&#39; directory and put your db configuration there.\r\n\r\napplication.properties (NOTE: Change de values with your database configuration)\r\n\r\n    spring.jpa.hibernate.ddl-auto=create\r\n\r\n    spring.datasource.url=jdbc:mysql://localhost:3306/db_example\r\n\r\n    spring.datasource.username=user\r\n\r\n    spring.datasource.password=ThePassword\r\n\r\nyou can check a template here:\r\nhttps://spring.io/guides/gs/accessing-data-mysql/","title":"Spring Boot: Failed to configure a DataSource: &#39;url&#39; attribute is not specified and no embedded datasource could be configured","body":"<p>There are a few possibilities for this, but the first time there are three things you need to do.</p>\n\n<p>1 - Specific compatibles versions of your dependencies on your pom.xml</p>\n\n<p>2 - You need add database driverConnector on pom.xml</p>\n\n<p>3 - Create an application.properties on 'src/main/resources/application.properties' directory and put your db configuration there.</p>\n\n<p>application.properties (NOTE: Change de values with your database configuration)</p>\n\n<pre><code>spring.jpa.hibernate.ddl-auto=create\n\nspring.datasource.url=jdbc:mysql://localhost:3306/db_example\n\nspring.datasource.username=user\n\nspring.datasource.password=ThePassword\n</code></pre>\n\n<p>you can check a template here:\n<a href=\"https://spring.io/guides/gs/accessing-data-mysql/\" rel=\"nofollow noreferrer\">https://spring.io/guides/gs/accessing-data-mysql/</a></p>\n"},{"tags":[],"owner":{"account_id":13046436,"reputation":2207,"user_id":9428155,"display_name":"Francesc Recio"},"down_vote_count":0,"up_vote_count":12,"is_accepted":true,"score":12,"last_activity_date":1557394065,"creation_date":1557394065,"answer_id":56056330,"question_id":55481362,"body_markdown":"If you read your trace of error:\r\n\r\n    Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaConfiguration&#39;: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;dataSource&#39; defined in class path resource [org/springframework/boot/autoconfigure/jdbc/DataSourceConfiguration$Hikari.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.zaxxer.hikari.HikariDataSource]: Factory method &#39;dataSource&#39; threw exception; nested exception is org.springframework.boot.autoconfigure.jdbc.DataSourceProperties$DataSourceBeanCreationException: Failed to determine a suitable driver class\r\n\r\nYou will notice that he is trying to use hikari datasource to configure the connection to bd. What&#39;s going on? \r\n\r\nYou use spring boot 2. And by this version of spring boot has changed the default configuration.\r\n\r\nAs you can see at this address:\r\n\r\nhttps://www.baeldung.com/spring-boot-hikari#spring-boot-2\r\n\r\n&gt; In Spring Boot 2, Hikari is the default DataSource implementation.\r\n\r\n&gt; This is what’s changed from Spring Boot 1.x:\r\n\r\n&gt; &#183; the dependency to Hikari is now automatically included in spring-boot-starter-data-jpa\r\n\r\n&gt; &#183; the discovery algorithm that automatically determines a DataSource implementation now prefers Hikari over TomcatJDBC (see the reference manual).\r\n\r\n&gt; Thus, we have nothing to do if we want to use Hikari in an application based on Spring Boot 2.x.\r\n\r\nAnd the configuration of Hikari is diferent.\r\n\r\nThen, I imagine that you want use tomcat conection pool. You can to do:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n        &lt;exclusions&gt;\r\n            &lt;exclusion&gt;\r\n                &lt;groupId&gt;com.zaxxer&lt;/groupId&gt;\r\n                &lt;artifactId&gt;HikariCP&lt;/artifactId&gt;\r\n            &lt;/exclusion&gt;\r\n        &lt;/exclusions&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.apache.tomcat&lt;/groupId&gt;\r\n        &lt;artifactId&gt;tomcat-jdbc&lt;/artifactId&gt;\r\n        &lt;version&gt;9.0.10&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n&gt; This will exclude Hikari by default from your spring jpa configuration and then you will need tomcat-jdbc. The you can configure de datasource:\r\n\r\n&gt; This simple approach allows us to get Spring Boot using a Tomcat connection pool without having to write a @Configuration class and programmatically define a DataSource bean.\r\n\r\n&gt; It’s also worth noting that in this case, we’re using the H2 in-memory database. Spring Boot will autoconfigure H2 for us, without having to specify a database URL, user, and password.\r\n\r\n&gt; We just need to include the corresponding dependency in the “pom.xml” file and Spring Boot will do the rest for us.\r\n\r\n&gt; Alternatively, it’s possible to skip the connection pool scanning algorithm that Spring Boot uses and explicitly specify a connection pooling datasource in the “application.properties” file, using the “spring.datasource.type” property:\r\n\r\n    spring.datasource.type=org.apache.tomcat.jdbc.pool.DataSource\r\n    // other spring datasource properties\r\n    spring.datasource.url=...\r\n    spring.datasource.username=...\r\n    spring.datasource.password=...\r\n    ...\r\n\r\nHere you have the complete reference to disable Hikari, and configure tomcat:\r\n\r\nhttps://www.baeldung.com/spring-boot-tomcat-connection-pool\r\n\r\nIf you want use Hikari the configuration is diferent:\r\n\r\nhttps://www.baeldung.com/spring-boot-hikari\r\n\r\nBut one of these two options will fix your problem.","title":"Spring Boot: Failed to configure a DataSource: &#39;url&#39; attribute is not specified and no embedded datasource could be configured","body":"<p>If you read your trace of error:</p>\n\n<pre><code>Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaConfiguration': Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource' defined in class path resource [org/springframework/boot/autoconfigure/jdbc/DataSourceConfiguration$Hikari.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.zaxxer.hikari.HikariDataSource]: Factory method 'dataSource' threw exception; nested exception is org.springframework.boot.autoconfigure.jdbc.DataSourceProperties$DataSourceBeanCreationException: Failed to determine a suitable driver class\n</code></pre>\n\n<p>You will notice that he is trying to use hikari datasource to configure the connection to bd. What's going on? </p>\n\n<p>You use spring boot 2. And by this version of spring boot has changed the default configuration.</p>\n\n<p>As you can see at this address:</p>\n\n<p><a href=\"https://www.baeldung.com/spring-boot-hikari#spring-boot-2\" rel=\"noreferrer\">https://www.baeldung.com/spring-boot-hikari#spring-boot-2</a></p>\n\n<blockquote>\n  <p>In Spring Boot 2, Hikari is the default DataSource implementation.</p>\n  \n  <p>This is what’s changed from Spring Boot 1.x:</p>\n  \n  <p>· the dependency to Hikari is now automatically included in spring-boot-starter-data-jpa</p>\n  \n  <p>· the discovery algorithm that automatically determines a DataSource implementation now prefers Hikari over TomcatJDBC (see the reference manual).</p>\n  \n  <p>Thus, we have nothing to do if we want to use Hikari in an application based on Spring Boot 2.x.</p>\n</blockquote>\n\n<p>And the configuration of Hikari is diferent.</p>\n\n<p>Then, I imagine that you want use tomcat conection pool. You can to do:</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n    &lt;exclusions&gt;\n        &lt;exclusion&gt;\n            &lt;groupId&gt;com.zaxxer&lt;/groupId&gt;\n            &lt;artifactId&gt;HikariCP&lt;/artifactId&gt;\n        &lt;/exclusion&gt;\n    &lt;/exclusions&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.tomcat&lt;/groupId&gt;\n    &lt;artifactId&gt;tomcat-jdbc&lt;/artifactId&gt;\n    &lt;version&gt;9.0.10&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<blockquote>\n  <p>This will exclude Hikari by default from your spring jpa configuration and then you will need tomcat-jdbc. The you can configure de datasource:</p>\n  \n  <p>This simple approach allows us to get Spring Boot using a Tomcat connection pool without having to write a @Configuration class and programmatically define a DataSource bean.</p>\n  \n  <p>It’s also worth noting that in this case, we’re using the H2 in-memory database. Spring Boot will autoconfigure H2 for us, without having to specify a database URL, user, and password.</p>\n  \n  <p>We just need to include the corresponding dependency in the “pom.xml” file and Spring Boot will do the rest for us.</p>\n  \n  <p>Alternatively, it’s possible to skip the connection pool scanning algorithm that Spring Boot uses and explicitly specify a connection pooling datasource in the “application.properties” file, using the “spring.datasource.type” property:</p>\n</blockquote>\n\n<pre><code>spring.datasource.type=org.apache.tomcat.jdbc.pool.DataSource\n// other spring datasource properties\nspring.datasource.url=...\nspring.datasource.username=...\nspring.datasource.password=...\n...\n</code></pre>\n\n<p>Here you have the complete reference to disable Hikari, and configure tomcat:</p>\n\n<p><a href=\"https://www.baeldung.com/spring-boot-tomcat-connection-pool\" rel=\"noreferrer\">https://www.baeldung.com/spring-boot-tomcat-connection-pool</a></p>\n\n<p>If you want use Hikari the configuration is diferent:</p>\n\n<p><a href=\"https://www.baeldung.com/spring-boot-hikari\" rel=\"noreferrer\">https://www.baeldung.com/spring-boot-hikari</a></p>\n\n<p>But one of these two options will fix your problem.</p>\n"},{"tags":[],"owner":{"account_id":2497935,"reputation":3239,"user_id":2173890,"accept_rate":30,"display_name":"sifr_dot_in"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1648533727,"creation_date":1648533727,"answer_id":71657163,"question_id":55481362,"body_markdown":"**if anyone has faced this issue after creating &quot;project.jar&quot; file&lt;br&gt;**\r\nwhile\r\nevery thing is fine when the project is run in IDE / STS (spring tool suit).&lt;br&gt;\r\nhere is what to do:\r\n\r\nunnecessary spaces &quot; &quot; in the &quot;application.yml&quot; file can cause this.\r\n```\r\nserver:\r\n  port: 8085\r\n\r\n\r\nspring:\r\n datasource:\r\n  url: jdbc:mysql://localhost:3306/studentdb\r\n  username: root\r\n  password: root\r\n  driver-class-name: com.mysql.cj.jdbc.Driver\r\n jpa:\r\n   hibernate:\r\n    ddl-auto: update\r\n   show-sql: true\r\n   database-platform: org.hibernate.dialect.MySQL5InnoDBDialect\r\n application:\r\n  name: STUDENT-SERVICE\r\n```\r\n\r\ninstead of tweaking my &quot;application.yml&quot; file&lt;br&gt;\r\ni simply moved all my statements in &quot;application.yml&quot; file to&lt;br&gt;\r\n&quot;application.properties&quot; file and formatted the statements like required in &quot;.properties&quot;.\r\n```\r\nspring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\r\nspring.datasource.url=jdbc:mysql://localhost:3306/studentdb\r\nspring.datasource.username=root\r\nspring.datasource.password=root\r\nspring.jpa.hibernate.ddl-auto = update\r\nspring.jpa.properties.hibernate.dialect = org.hibernate.dialect.MySQL5Dialect\r\n\r\nspring.jpa.show-sql=true\r\nspring.jpa.properties.hibernate.format.sql=true\r\n\r\nspring.application.name=student-service\r\n\r\nserver.port=8085\r\n```\r\n**and voil&#224;**\r\n\r\n\r\n*(you can add params at the end of url)*&lt;br&gt;\r\n*(spring.datasource.url=jdbc:mysql://localhost:3306/studentdb?allowPublicKeyRetrieval=true&amp;useSSL=false)*\r\n\r\n","title":"Spring Boot: Failed to configure a DataSource: &#39;url&#39; attribute is not specified and no embedded datasource could be configured","body":"<p><strong>if anyone has faced this issue after creating &quot;project.jar&quot; file<br></strong>\nwhile\nevery thing is fine when the project is run in IDE / STS (spring tool suit).<br>\nhere is what to do:</p>\n<p>unnecessary spaces &quot; &quot; in the &quot;application.yml&quot; file can cause this.</p>\n<pre><code>server:\n  port: 8085\n\n\nspring:\n datasource:\n  url: jdbc:mysql://localhost:3306/studentdb\n  username: root\n  password: root\n  driver-class-name: com.mysql.cj.jdbc.Driver\n jpa:\n   hibernate:\n    ddl-auto: update\n   show-sql: true\n   database-platform: org.hibernate.dialect.MySQL5InnoDBDialect\n application:\n  name: STUDENT-SERVICE\n</code></pre>\n<p>instead of tweaking my &quot;application.yml&quot; file<br>\ni simply moved all my statements in &quot;application.yml&quot; file to<br>\n&quot;application.properties&quot; file and formatted the statements like required in &quot;.properties&quot;.</p>\n<pre><code>spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\nspring.datasource.url=jdbc:mysql://localhost:3306/studentdb\nspring.datasource.username=root\nspring.datasource.password=root\nspring.jpa.hibernate.ddl-auto = update\nspring.jpa.properties.hibernate.dialect = org.hibernate.dialect.MySQL5Dialect\n\nspring.jpa.show-sql=true\nspring.jpa.properties.hibernate.format.sql=true\n\nspring.application.name=student-service\n\nserver.port=8085\n</code></pre>\n<p><strong>and voilà</strong></p>\n<p><em>(you can add params at the end of url)</em><br>\n<em>(spring.datasource.url=jdbc:mysql://localhost:3306/studentdb?allowPublicKeyRetrieval=true&amp;useSSL=false)</em></p>\n"},{"tags":[],"owner":{"account_id":7718945,"reputation":709,"user_id":5845739,"display_name":"Pratik Gaurav"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1662624993,"creation_date":1662624993,"answer_id":73645778,"question_id":55481362,"body_markdown":"Sometimes things can be funny.\r\n\r\nI&#39;ve checked alot of solution, including the [baeldung][1]\r\nand [Stackoverflow][2]\r\n\r\nMy mistake was, **wrong package**, I kept my Configuration Class outside the main component scan package, I placed it correctly and it worked like a charm.\r\n\r\n\r\n  [1]: https://www.baeldung.com/spring-boot-failed-to-configure-data-source\r\n  [2]: https://stackoverflow.com/questions/51221777/failed-to-configure-a-datasource-url-attribute-is-not-specified-and-no-embedd","title":"Spring Boot: Failed to configure a DataSource: &#39;url&#39; attribute is not specified and no embedded datasource could be configured","body":"<p>Sometimes things can be funny.</p>\n<p>I've checked alot of solution, including the <a href=\"https://www.baeldung.com/spring-boot-failed-to-configure-data-source\" rel=\"nofollow noreferrer\">baeldung</a>\nand <a href=\"https://stackoverflow.com/questions/51221777/failed-to-configure-a-datasource-url-attribute-is-not-specified-and-no-embedd\">Stackoverflow</a></p>\n<p>My mistake was, <strong>wrong package</strong>, I kept my Configuration Class outside the main component scan package, I placed it correctly and it worked like a charm.</p>\n"},{"tags":[],"owner":{"account_id":29011109,"reputation":9,"user_id":22222603,"display_name":"akshay silgari"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1689260071,"creation_date":1689260071,"answer_id":76680802,"question_id":55481362,"body_markdown":"Select project - rus as - run configuration - classpath- user entries - select your resources folders . This error because your support was not able to read your resources.propertiesfile.","title":"Spring Boot: Failed to configure a DataSource: &#39;url&#39; attribute is not specified and no embedded datasource could be configured","body":"<p>Select project - rus as - run configuration - classpath- user entries - select your resources folders . This error because your support was not able to read your resources.propertiesfile.</p>\n"}],"owner":{"account_id":11078123,"reputation":3977,"user_id":8134164,"display_name":"INDRAJITH EKANAYAKE"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":64630,"favorite_count":0,"down_vote_count":1,"up_vote_count":5,"accepted_answer_id":56056330,"answer_count":5,"score":4,"last_activity_date":1689260071,"creation_date":1554229697,"question_id":55481362,"body_markdown":"Following error is thrown when I running my web app.\r\n\r\n    Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaConfiguration&#39;: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;dataSource&#39; defined in class path resource [org/springframework/boot/autoconfigure/jdbc/DataSourceConfiguration$Hikari.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.zaxxer.hikari.HikariDataSource]: Factory method &#39;dataSource&#39; threw exception; nested exception is org.springframework.boot.autoconfigure.jdbc.DataSourceProperties$DataSourceBeanCreationException: Failed to determine a suitable driver class\r\n\r\nThe description for the thrown error as follows,\r\n\r\n    Description:\r\n    \r\n    Failed to configure a DataSource: &#39;url&#39; attribute is not specified and no embedded datasource could be configured.\r\n    \r\n    Reason: Failed to determine a suitable driver class\r\n    \r\n    \r\n        Action:\r\n        \r\n        Consider the following:&lt;br&gt;\r\n        \tIf you want an embedded database (H2, HSQL or Derby), please put it on the classpath.\r\n    &lt;br&gt;  \tIf you have database settings to be loaded from a particular profile you may need to activate it (no profiles are currently active).\r\n\r\nAfter referring [this answer][1], I know I have to do some changes with my `pom.xml` file. But I don&#39;t know what to change and even similar type questions on StackOverflow couldn&#39;t help me to sort this out.\r\n\r\nMy `pom.xml` as follows(when I creating project I have added &quot;Web&quot;, &quot;JPA&quot;, &quot;MySQL&quot; dependencies),\r\n\r\n\r\n        &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n        &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n        \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n        \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n        \t&lt;parent&gt;\r\n        \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        \t\t&lt;version&gt;2.1.3.RELEASE&lt;/version&gt;\r\n        \t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n        \t&lt;/parent&gt;\r\n        \t&lt;groupId&gt;com.example&lt;/groupId&gt;\r\n        \t&lt;artifactId&gt;SL2INDUSTRY&lt;/artifactId&gt;\r\n        \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n        \t&lt;name&gt;SL2INDUSTRY&lt;/name&gt;\r\n        \t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n        \r\n        \t&lt;properties&gt;\r\n        \t\t&lt;java.version&gt;1.8&lt;/java.version&gt;\r\n        \t&lt;/properties&gt;\r\n        \r\n        \t&lt;dependencies&gt;\r\n        \t\t&lt;dependency&gt;\r\n        \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        \t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n        \t\t&lt;/dependency&gt;\r\n        \t\t&lt;dependency&gt;\r\n        \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        \t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        \t\t&lt;/dependency&gt;\r\n        \r\n        \t\t&lt;dependency&gt;\r\n        \t\t\t&lt;groupId&gt;mysql&lt;/groupId&gt;\r\n        \t\t\t&lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n        \t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n        \t\t&lt;/dependency&gt;\r\n        \t\t&lt;dependency&gt;\r\n        \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        \t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n        \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n        \t\t&lt;/dependency&gt;\r\n        \t\t&lt;!-- https://mvnrepository.com/artifact/org.apache.tomcat.embed/tomcat-embed-jasper --&gt;\r\n        \t\t&lt;dependency&gt;\r\n        \t\t\t&lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\r\n        \t\t\t&lt;artifactId&gt;tomcat-embed-jasper&lt;/artifactId&gt;\r\n        \t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n        \t\t&lt;/dependency&gt;\r\n        \r\n        \t\t&lt;!-- https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-tomcat --&gt;\r\n        \t\t&lt;dependency&gt;\r\n        \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        \t\t\t&lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n        \t\t\t&lt;version&gt;2.1.3.RELEASE&lt;/version&gt;\r\n        \t\t&lt;/dependency&gt;\r\n        \r\n        \t\t&lt;!-- https://mvnrepository.com/artifact/com.fasterxml.jackson.dataformat/jackson-dataformat-xml --&gt;\r\n        \t\t&lt;dependency&gt;\r\n        \t\t\t&lt;groupId&gt;com.fasterxml.jackson.dataformat&lt;/groupId&gt;\r\n        \t\t\t&lt;artifactId&gt;jackson-dataformat-xml&lt;/artifactId&gt;\r\n        \t\t\t&lt;version&gt;2.9.8&lt;/version&gt;\r\n        \t\t&lt;/dependency&gt;\r\n        \t&lt;/dependencies&gt;\r\n        \r\n        \t&lt;build&gt;\r\n        \t\t&lt;plugins&gt;\r\n        \t\t\t&lt;plugin&gt;\r\n        \t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        \t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n        \t\t\t&lt;/plugin&gt;\r\n        \t\t&lt;/plugins&gt;\r\n        \t&lt;/build&gt;\r\n        \r\n        &lt;/project&gt;\r\n     \r\n&gt;Plese note that I don&#39;t need to deal with H2 databases in this situation so H2 is not a solution for me.\r\n\r\nEdits:\r\n`application.properties` file\r\n\r\n    spring.mvc.view.suffix=.jsp\r\n\r\n\r\n\r\n \r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/24074749/spring-boot-cannot-determine-embedded-database-driver-class-for-database-type\r\n\r\n","title":"Spring Boot: Failed to configure a DataSource: &#39;url&#39; attribute is not specified and no embedded datasource could be configured","body":"<p>Following error is thrown when I running my web app.</p>\n\n<pre><code>Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaConfiguration': Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource' defined in class path resource [org/springframework/boot/autoconfigure/jdbc/DataSourceConfiguration$Hikari.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.zaxxer.hikari.HikariDataSource]: Factory method 'dataSource' threw exception; nested exception is org.springframework.boot.autoconfigure.jdbc.DataSourceProperties$DataSourceBeanCreationException: Failed to determine a suitable driver class\n</code></pre>\n\n<p>The description for the thrown error as follows,</p>\n\n<pre><code>Description:\n\nFailed to configure a DataSource: 'url' attribute is not specified and no embedded datasource could be configured.\n\nReason: Failed to determine a suitable driver class\n\n\n    Action:\n\n    Consider the following:&lt;br&gt;\n        If you want an embedded database (H2, HSQL or Derby), please put it on the classpath.\n&lt;br&gt;    If you have database settings to be loaded from a particular profile you may need to activate it (no profiles are currently active).\n</code></pre>\n\n<p>After referring <a href=\"https://stackoverflow.com/questions/24074749/spring-boot-cannot-determine-embedded-database-driver-class-for-database-type\">this answer</a>, I know I have to do some changes with my <code>pom.xml</code> file. But I don't know what to change and even similar type questions on StackOverflow couldn't help me to sort this out.</p>\n\n<p>My <code>pom.xml</code> as follows(when I creating project I have added \"Web\", \"JPA\", \"MySQL\" dependencies),</p>\n\n<pre><code>    &lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n    &lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n        xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n        &lt;parent&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n            &lt;version&gt;2.1.3.RELEASE&lt;/version&gt;\n            &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n        &lt;/parent&gt;\n        &lt;groupId&gt;com.example&lt;/groupId&gt;\n        &lt;artifactId&gt;SL2INDUSTRY&lt;/artifactId&gt;\n        &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n        &lt;name&gt;SL2INDUSTRY&lt;/name&gt;\n        &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n\n        &lt;properties&gt;\n            &lt;java.version&gt;1.8&lt;/java.version&gt;\n        &lt;/properties&gt;\n\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n            &lt;/dependency&gt;\n\n            &lt;dependency&gt;\n                &lt;groupId&gt;mysql&lt;/groupId&gt;\n                &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n                &lt;scope&gt;runtime&lt;/scope&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n                &lt;scope&gt;test&lt;/scope&gt;\n            &lt;/dependency&gt;\n            &lt;!-- https://mvnrepository.com/artifact/org.apache.tomcat.embed/tomcat-embed-jasper --&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\n                &lt;artifactId&gt;tomcat-embed-jasper&lt;/artifactId&gt;\n                &lt;scope&gt;provided&lt;/scope&gt;\n            &lt;/dependency&gt;\n\n            &lt;!-- https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-tomcat --&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n                &lt;version&gt;2.1.3.RELEASE&lt;/version&gt;\n            &lt;/dependency&gt;\n\n            &lt;!-- https://mvnrepository.com/artifact/com.fasterxml.jackson.dataformat/jackson-dataformat-xml --&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;com.fasterxml.jackson.dataformat&lt;/groupId&gt;\n                &lt;artifactId&gt;jackson-dataformat-xml&lt;/artifactId&gt;\n                &lt;version&gt;2.9.8&lt;/version&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n\n        &lt;build&gt;\n            &lt;plugins&gt;\n                &lt;plugin&gt;\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                    &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;/plugin&gt;\n            &lt;/plugins&gt;\n        &lt;/build&gt;\n\n    &lt;/project&gt;\n</code></pre>\n\n<blockquote>\n  <p>Plese note that I don't need to deal with H2 databases in this situation so H2 is not a solution for me.</p>\n</blockquote>\n\n<p>Edits:\n<code>application.properties</code> file</p>\n\n<pre><code>spring.mvc.view.suffix=.jsp\n</code></pre>\n"},{"tags":["java","binary-tree","heapsort","min-heap","max-heap"],"comments":[{"owner":{"account_id":1441481,"reputation":10825,"user_id":1361506,"display_name":"azurefrog"},"score":0,"creation_date":1395438649,"post_id":22570126,"comment_id":34355593,"body_markdown":"I expect that would depend on the implementation.  Do you have have one in mind?","body":"I expect that would depend on the implementation.  Do you have have one in mind?"}],"answers":[{"tags":[],"owner":{"account_id":3856284,"reputation":7406,"user_id":3195128,"display_name":"ucsunil"},"down_vote_count":0,"up_vote_count":40,"is_accepted":true,"score":40,"last_activity_date":1395438933,"creation_date":1395438933,"answer_id":22570225,"question_id":22570126,"body_markdown":"Yes, they can. You can read about this in &#39;Introduction to Algorithms&#39; (by Charles E. Leiserson, Clifford Stein, Thomas H. Cormen, and Ronald Rivest). According to the definition of binary heaps in Wikipedia:\r\n\r\n    \r\n\r\n&gt; All nodes are either [greater than or equal to](**max heaps**) or\r\n&gt; [less than or equal to](**min heaps**) each of its children, according\r\n&gt; to a comparison predicate defined for the heap.","title":"Can max/min heap trees contain duplicate values?","body":"<p>Yes, they can. You can read about this in 'Introduction to Algorithms' (by Charles E. Leiserson, Clifford Stein, Thomas H. Cormen, and Ronald Rivest). According to the definition of binary heaps in Wikipedia:</p>\n\n<blockquote>\n  <p>All nodes are either [greater than or equal to](<strong>max heaps</strong>) or\n  [less than or equal to](<strong>min heaps</strong>) each of its children, according\n  to a comparison predicate defined for the heap.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":2772818,"reputation":3381,"user_id":2387054,"accept_rate":46,"display_name":"zgc7009"},"down_vote_count":2,"up_vote_count":6,"is_accepted":false,"score":4,"last_activity_date":1395438987,"creation_date":1395438987,"answer_id":22570234,"question_id":22570126,"body_markdown":"Yes, but I would say no. For efficiency they shouldn&#39;t have different nodes with duplicate values or it loses it&#39;s purpose a bit (you would have to search child nodes and such). However, you could design each node to contain a variable that declares how many copies of that value you have in your data.\r\n\r\nAgain this is my opinion. If this is a bad way of doing it I would love if someone could explain why. I might just have to do some efficiency testing. If you are storing simple data types like ints then I would see it being less efficient but for larger object nodes that have ids it&#39;s been nice, it seems.","title":"Can max/min heap trees contain duplicate values?","body":"<p>Yes, but I would say no. For efficiency they shouldn't have different nodes with duplicate values or it loses it's purpose a bit (you would have to search child nodes and such). However, you could design each node to contain a variable that declares how many copies of that value you have in your data.</p>\n\n<p>Again this is my opinion. If this is a bad way of doing it I would love if someone could explain why. I might just have to do some efficiency testing. If you are storing simple data types like ints then I would see it being less efficient but for larger object nodes that have ids it's been nice, it seems.</p>\n"},{"tags":[],"owner":{"account_id":65624,"reputation":2384,"user_id":193004,"display_name":"Raul Guiu"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1395439495,"creation_date":1395439006,"answer_id":22570238,"question_id":22570126,"body_markdown":"**Yes they can have duplicates.** From [wikipedia][1] definition of Heap: \r\n\r\n&gt; Either the keys of parent nodes are always **greater than or equal**\r\n&gt; to those of the children and the highest key is in the root node (this\r\n&gt; kind of heap is called max heap) or the keys of parent nodes are\r\n&gt; **less than or equal** to those of the children and the lowest key is in the root node (min heap)\r\n\r\nSo if they have children nodes that are equal means that they can have duplicated.\r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Heap_%28data_structure%29","title":"Can max/min heap trees contain duplicate values?","body":"<p><strong>Yes they can have duplicates.</strong> From <a href=\"http://en.wikipedia.org/wiki/Heap_%28data_structure%29\" rel=\"noreferrer\">wikipedia</a> definition of Heap: </p>\n\n<blockquote>\n  <p>Either the keys of parent nodes are always <strong>greater than or equal</strong>\n  to those of the children and the highest key is in the root node (this\n  kind of heap is called max heap) or the keys of parent nodes are\n  <strong>less than or equal</strong> to those of the children and the lowest key is in the root node (min heap)</p>\n</blockquote>\n\n<p>So if they have children nodes that are equal means that they can have duplicated.</p>\n"},{"tags":[],"owner":{"account_id":9208381,"reputation":11,"user_id":6842713,"display_name":"Efren Lopes"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689259749,"creation_date":1689259269,"answer_id":76680650,"question_id":22570126,"body_markdown":"My short answer is that heaps can have duplicate **keys** but no duplicate **elements**. What does that mean?\r\n\r\nIn heaps, we have two different entities: (i) the **element** (which Cormen calls an object); and (ii) the **key**. Each element has a key associated with it. The element is an application object stored in the heap, and the key is a comparable value used in heap organization.\r\n\r\nIn Cormen&#39;s book, in the section about Heaps, he uses integers as keys in his examples. In this case, the elements are implicit, so we can have duplicate values because these values are keys.\r\n\r\nOn the other hand, in the section about Priority Queues, he explains:\r\n&gt; &quot;When you use a heap to implement a priority queue within a given\r\n&gt; application, elements of the priority queue correspond to objects in\r\n&gt; the application. Each object contains a key&quot;.\r\n\r\nOne example of this is the Prim algorithm. In this algorithm, the heap (priority queue) stores vertices as elements, and each vertex has a key value (the weight of a light edge connecting this vertex to the tree). In other words, the vertices are elements, and the keys are numbers associated with these vertices. Different vertices can have the same key value.\r\n\r\nOk! But why can&#39;t we have duplicate elements?&#160;Cormen explains:\r\n&gt; &quot;If the priority queue is implemented by a heap, you need to determine\r\n&gt; which application object corresponds to a given heap element, and vice\r\n&gt; versa. Because the heap elements are stored in an array, you need a\r\n&gt; way to map application objects to and from array indices. One way to\r\n&gt; map between application objects and heap elements uses handles... As\r\n&gt; an alternative to incorporating handles in application objects, you\r\n&gt; can store within the priority queue a mapping from application objects\r\n&gt; to array indices in the heap… One option for the mapping is a hash\r\n&gt; table.&quot;\r\n\r\nIn other words, given an element, the heap must find its heap index in constant time. We can do this using a hash table. How can we have the same element in two different places on the heap if the hash function will generate the same index for it!? The answer is that we cannot. Using handles, we have the same limitation.","title":"Can max/min heap trees contain duplicate values?","body":"<p>My short answer is that heaps can have duplicate <strong>keys</strong> but no duplicate <strong>elements</strong>. What does that mean?</p>\n<p>In heaps, we have two different entities: (i) the <strong>element</strong> (which Cormen calls an object); and (ii) the <strong>key</strong>. Each element has a key associated with it. The element is an application object stored in the heap, and the key is a comparable value used in heap organization.</p>\n<p>In Cormen's book, in the section about Heaps, he uses integers as keys in his examples. In this case, the elements are implicit, so we can have duplicate values because these values are keys.</p>\n<p>On the other hand, in the section about Priority Queues, he explains:</p>\n<blockquote>\n<p>&quot;When you use a heap to implement a priority queue within a given\napplication, elements of the priority queue correspond to objects in\nthe application. Each object contains a key&quot;.</p>\n</blockquote>\n<p>One example of this is the Prim algorithm. In this algorithm, the heap (priority queue) stores vertices as elements, and each vertex has a key value (the weight of a light edge connecting this vertex to the tree). In other words, the vertices are elements, and the keys are numbers associated with these vertices. Different vertices can have the same key value.</p>\n<p>Ok! But why can't we have duplicate elements? Cormen explains:</p>\n<blockquote>\n<p>&quot;If the priority queue is implemented by a heap, you need to determine\nwhich application object corresponds to a given heap element, and vice\nversa. Because the heap elements are stored in an array, you need a\nway to map application objects to and from array indices. One way to\nmap between application objects and heap elements uses handles... As\nan alternative to incorporating handles in application objects, you\ncan store within the priority queue a mapping from application objects\nto array indices in the heap… One option for the mapping is a hash\ntable.&quot;</p>\n</blockquote>\n<p>In other words, given an element, the heap must find its heap index in constant time. We can do this using a hash table. How can we have the same element in two different places on the heap if the hash function will generate the same index for it!? The answer is that we cannot. Using handles, we have the same limitation.</p>\n"}],"owner":{"account_id":4019228,"reputation":1891,"user_id":3310212,"accept_rate":80,"display_name":"Vimzy"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":50460,"favorite_count":0,"down_vote_count":0,"up_vote_count":37,"accepted_answer_id":22570225,"answer_count":4,"score":37,"last_activity_date":1689259749,"creation_date":1395438470,"question_id":22570126,"body_markdown":"I&#39;m wondering if a max or min heap tree is allowed to have duplicate values? I&#39;ve been unsuccessful in trying to find information regarding this with online resources alone.\r\n\r\n","title":"Can max/min heap trees contain duplicate values?","body":"<p>I'm wondering if a max or min heap tree is allowed to have duplicate values? I've been unsuccessful in trying to find information regarding this with online resources alone.</p>\n"},{"tags":["java","android","rx-android","reactivex"],"comments":[{"owner":{"account_id":7139664,"reputation":50256,"user_id":5457853,"accept_rate":75,"display_name":"Thracian"},"score":0,"creation_date":1601538024,"post_id":64142690,"comment_id":113440397,"body_markdown":"You can catch the error in `onResumeNext` and call the method you wish based on instance of that `Exception`. Since the error itself also will end up in `onError` callback of `subscribe` you can set it do nothing, or simply ignore that kind of error there.","body":"You can catch the error in <code>onResumeNext</code> and call the method you wish based on instance of that <code>Exception</code>. Since the error itself also will end up in <code>onError</code> callback of <code>subscribe</code> you can set it do nothing, or simply ignore that kind of error there."}],"answers":[{"tags":[],"owner":{"account_id":15528157,"reputation":485,"user_id":11202401,"display_name":"nt95"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1601486819,"creation_date":1601486819,"answer_id":64142776,"question_id":64142690,"body_markdown":"Have you tried catching the error like so\r\n\r\n    \r\n        Observable.range(0, 5)\r\n            .subscribeOn(Schedulers.newThread())\r\n            .doOnError {\r\n                //your error caught here\r\n            }         \r\n            .observeOn(AndroidSchedulers.mainThread())\r\n            .map({ i -&gt; throw RuntimeException() })\r\n            .subscribe()","title":"Is it possible to re-throw an error in the calling method in RxAndroid?","body":"<p>Have you tried catching the error like so</p>\n<pre><code>    Observable.range(0, 5)\n        .subscribeOn(Schedulers.newThread())\n        .doOnError {\n            //your error caught here\n        }         \n        .observeOn(AndroidSchedulers.mainThread())\n        .map({ i -&gt; throw RuntimeException() })\n        .subscribe()\n</code></pre>\n"},{"tags":[],"owner":{"account_id":233907,"reputation":10571,"user_id":499721,"accept_rate":83,"display_name":"bavaza"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1689259113,"creation_date":1601559667,"answer_id":64156640,"question_id":64142690,"body_markdown":"Here&#39;s what I ended up doing. As far as I can tell, this is the only way to leave the ReactiveX pipe, and let the surrounding code handle the error. Would be happy if someone has a more elegant way:\r\n\r\n    public void testRxJava() {\r\n        try {\r\n            // will be null if no error, will hold a Throwable on error\r\n            AtomicReference&lt;Throwable&gt; opError = new AtomicReference&lt;&gt;(null);\r\n    \r\n            Observable.range(0, 5)\r\n                .subscribeOn(Schedulers.newThread())\r\n                .observeOn(AndroidSchedulers.mainThread())\r\n                .map(i -&gt; { throw new RuntimeException(); }) // throws\r\n                .blockingSubscribe(\r\n                    result -&gt; Log.i(TAG, &quot;will never happen&quot;),\r\n                    error -&gt; { opError.set(error); } // sets reference to the error without crashing the app\r\n                );\r\n    \r\n            // re-throw\r\n            if(opError.get() != null) {\r\n                throw new Exception(opError.get());\r\n            }\r\n\r\n        } catch (Exception ex) {\r\n            Log.e(&quot;Test&quot;, &quot;exception&quot;, ex);\r\n        }\r\n    }","title":"Is it possible to re-throw an error in the calling method in RxAndroid?","body":"<p>Here's what I ended up doing. As far as I can tell, this is the only way to leave the ReactiveX pipe, and let the surrounding code handle the error. Would be happy if someone has a more elegant way:</p>\n<pre><code>public void testRxJava() {\n    try {\n        // will be null if no error, will hold a Throwable on error\n        AtomicReference&lt;Throwable&gt; opError = new AtomicReference&lt;&gt;(null);\n\n        Observable.range(0, 5)\n            .subscribeOn(Schedulers.newThread())\n            .observeOn(AndroidSchedulers.mainThread())\n            .map(i -&gt; { throw new RuntimeException(); }) // throws\n            .blockingSubscribe(\n                result -&gt; Log.i(TAG, &quot;will never happen&quot;),\n                error -&gt; { opError.set(error); } // sets reference to the error without crashing the app\n            );\n\n        // re-throw\n        if(opError.get() != null) {\n            throw new Exception(opError.get());\n        }\n\n    } catch (Exception ex) {\n        Log.e(&quot;Test&quot;, &quot;exception&quot;, ex);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":233907,"reputation":10571,"user_id":499721,"accept_rate":83,"display_name":"bavaza"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":352,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":64156640,"answer_count":2,"score":1,"last_activity_date":1689259113,"creation_date":1601486445,"question_id":64142690,"body_markdown":"Inspired by [.Net TPL][1], I&#39;m trying to find a way to handle an error outside the RX pipe. Specifically, on error, I wish the Observer pipe to stop, and pass control back to the surrounding method. Something like:\r\n\r\n    public void testRxJava() {\r\n        try {\r\n            Observable.range(0, 5)\r\n                .subscribeOn(Schedulers.newThread())\r\n                .observeOn(AndroidSchedulers.mainThread())\r\n                .map(i -&gt; { throw new RuntimeException(); })\r\n                .subscribe();\r\n        } catch (Exception ex) {\r\n            // I was hoping to get here on the main thread, but crashed instead\r\n            Log.i(&quot;Test&quot;, &quot;Will never get here&quot;);\r\n        }\r\n    }\r\n\r\nThis will cause the application to crash with an `io.reactivex.rxjava3.exceptions.OnErrorNotImplementedException`, which will not be caught in the `catch` clause, and will instead invoke the main thread&#39;s `uncaughtException()` handler.\r\n\r\nTrying to throw from the error handler in `subscribe()` does not work either, again falling back to the `uncaughtException()` handler.\r\n\r\nIs there a way to re-throw or otherwise pass the error information to the calling method?\r\n\r\nA similar question for C# is found [here][2].\r\n\r\n\r\n  [1]: https://learn.microsoft.com/en-us/dotnet/standard/parallel-programming/task-parallel-library-tpl\r\n  [2]: https://stackoverflow.com/questions/48581889/rx-rethrow-an-error-in-containing-method","title":"Is it possible to re-throw an error in the calling method in RxAndroid?","body":"<p>Inspired by <a href=\"https://learn.microsoft.com/en-us/dotnet/standard/parallel-programming/task-parallel-library-tpl\" rel=\"nofollow noreferrer\">.Net TPL</a>, I'm trying to find a way to handle an error outside the RX pipe. Specifically, on error, I wish the Observer pipe to stop, and pass control back to the surrounding method. Something like:</p>\n<pre><code>public void testRxJava() {\n    try {\n        Observable.range(0, 5)\n            .subscribeOn(Schedulers.newThread())\n            .observeOn(AndroidSchedulers.mainThread())\n            .map(i -&gt; { throw new RuntimeException(); })\n            .subscribe();\n    } catch (Exception ex) {\n        // I was hoping to get here on the main thread, but crashed instead\n        Log.i(&quot;Test&quot;, &quot;Will never get here&quot;);\n    }\n}\n</code></pre>\n<p>This will cause the application to crash with an <code>io.reactivex.rxjava3.exceptions.OnErrorNotImplementedException</code>, which will not be caught in the <code>catch</code> clause, and will instead invoke the main thread's <code>uncaughtException()</code> handler.</p>\n<p>Trying to throw from the error handler in <code>subscribe()</code> does not work either, again falling back to the <code>uncaughtException()</code> handler.</p>\n<p>Is there a way to re-throw or otherwise pass the error information to the calling method?</p>\n<p>A similar question for C# is found <a href=\"https://stackoverflow.com/questions/48581889/rx-rethrow-an-error-in-containing-method\">here</a>.</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":10643203,"reputation":541,"user_id":7837530,"display_name":"Geeth"},"score":0,"creation_date":1627318375,"post_id":68533222,"comment_id":121118949,"body_markdown":"url should be  localhost:9090/adminserver.  please try this.","body":"url should be  localhost:9090/adminserver.  please try this."},{"owner":{"account_id":8794729,"reputation":15297,"user_id":6572971,"display_name":"Alien"},"score":0,"creation_date":1627319111,"post_id":68533222,"comment_id":121119249,"body_markdown":"Does localhost:9090 work?","body":"Does localhost:9090 work?"}],"answers":[{"tags":[],"owner":{"account_id":1202593,"reputation":9569,"user_id":1173495,"accept_rate":46,"display_name":"SANN3"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1627369546,"creation_date":1627369546,"answer_id":68540358,"question_id":68533222,"body_markdown":"The admin URL will be **http://localhost:9090** not localhost:9090/admin","title":"Getting 404 when access spring admin","body":"<p>The admin URL will be <strong>http://localhost:9090</strong> not localhost:9090/admin</p>\n"},{"tags":[],"owner":{"account_id":20233195,"reputation":1,"user_id":14839172,"display_name":"Kartik Pandey"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689258937,"creation_date":1689258937,"answer_id":76680586,"question_id":68533222,"body_markdown":"For me I have used @EnableAdminServer before @SpringBootApplication\r\nthis was causing the issue I have changed the order and it worked","title":"Getting 404 when access spring admin","body":"<p>For me I have used @EnableAdminServer before @SpringBootApplication\nthis was causing the issue I have changed the order and it worked</p>\n"}],"owner":{"account_id":19364249,"reputation":111,"user_id":14158918,"display_name":"bootlover123"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":571,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":68540358,"answer_count":2,"score":2,"last_activity_date":1689258937,"creation_date":1627316005,"question_id":68533222,"body_markdown":"I have a very simple app:\r\n\r\nThis is my main class:\r\n\r\n    \r\n    @EnableAdminServer\r\n    @Configuration\r\n    @SpringBootApplication\r\n    public class DemoApplication {\r\n    \tpublic static void main(String[] args) {\r\n    \t\tSpringApplication.run(DemoApplication.class, args);\r\n    \t}\r\n    }\r\n\r\nAnd this is my pom.xml which is showing the dependency and parent tags:\r\n\r\n    \t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.4.9&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.example&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;demo&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;demo&lt;/name&gt;\r\n\t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;11&lt;/java.version&gt;\r\n\t\t&lt;spring-boot-admin.version&gt;2.3.1&lt;/spring-boot-admin.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;de.codecentric&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-admin-starter-server&lt;/artifactId&gt;\r\n            &lt;version&gt;2.3.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\nAnd my properties file:\r\n\r\n    management.endpoints.web.exposure.include=*\r\n    management.endpoint.health.show-details=always\r\n    server.port = 9090\r\n    spring.application.name = adminserver\r\n\r\n\r\nAnd now all the tutorials i&#39;ve come across, they say simply adding the @EnableAdminServer should be enough set up the server. But when i go onto localhost:9090/admin, it results in a 404. I can go to the /actuator endpoint and see ?","title":"Getting 404 when access spring admin","body":"<p>I have a very simple app:</p>\n<p>This is my main class:</p>\n<pre><code>@EnableAdminServer\n@Configuration\n@SpringBootApplication\npublic class DemoApplication {\n    public static void main(String[] args) {\n        SpringApplication.run(DemoApplication.class, args);\n    }\n}\n</code></pre>\n<p>And this is my pom.xml which is showing the dependency and parent tags:</p>\n<pre><code>    &lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;2.4.9&lt;/version&gt;\n    &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n&lt;/parent&gt;\n&lt;groupId&gt;com.example&lt;/groupId&gt;\n&lt;artifactId&gt;demo&lt;/artifactId&gt;\n&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n&lt;name&gt;demo&lt;/name&gt;\n&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n&lt;properties&gt;\n    &lt;java.version&gt;11&lt;/java.version&gt;\n    &lt;spring-boot-admin.version&gt;2.3.1&lt;/spring-boot-admin.version&gt;\n&lt;/properties&gt;\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;de.codecentric&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-admin-starter-server&lt;/artifactId&gt;\n        &lt;version&gt;2.3.1&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n<p>And my properties file:</p>\n<pre><code>management.endpoints.web.exposure.include=*\nmanagement.endpoint.health.show-details=always\nserver.port = 9090\nspring.application.name = adminserver\n</code></pre>\n<p>And now all the tutorials i've come across, they say simply adding the @EnableAdminServer should be enough set up the server. But when i go onto localhost:9090/admin, it results in a 404. I can go to the /actuator endpoint and see ?</p>\n"},{"tags":["java","json","spring-boot","spring-mvc"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":2,"creation_date":1688565895,"post_id":76620990,"comment_id":135090712,"body_markdown":"There already is a solution in one of the questions you link, which you should use/prefer. If you really want to hack it like this use the spring created objectmapper not your own and write to a byte[] and count that length. This will however double the execution of your controller as you are serializing the payload twice (hence the recommendation for the other solution).","body":"There already is a solution in one of the questions you link, which you should use/prefer. If you really want to hack it like this use the spring created objectmapper not your own and write to a byte[] and count that length. This will however double the execution of your controller as you are serializing the payload twice (hence the recommendation for the other solution)."},{"owner":{"account_id":14924783,"reputation":161,"user_id":10776001,"display_name":"Heyyou"},"score":0,"creation_date":1689258557,"post_id":76620990,"comment_id":135190685,"body_markdown":"@M.Deinum Thanks for the comment. I have achieved it by modifying my code slightly.","body":"@M.Deinum Thanks for the comment. I have achieved it by modifying my code slightly."}],"answers":[{"tags":[],"owner":{"account_id":14924783,"reputation":161,"user_id":10776001,"display_name":"Heyyou"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1689258393,"creation_date":1689258393,"answer_id":76680509,"question_id":76620990,"body_markdown":"I have done some modifications to the answer in one of the questions linked above. Below code gives me correct value for content-length header and my response json is served fully.\r\n\r\n    import java.io.ByteArrayOutputStream;\r\n    import java.io.IOException;\r\n    import java.util.List;\r\n    import java.util.Map;\r\n\r\n    import org.springframework.http.HttpHeaders;\r\n    import org.springframework.http.ResponseEntity;\r\n    import org.springframework.web.bind.annotation.RestController;\r\n\r\n    import com.fasterxml.jackson.core.JsonGenerator;\r\n    import com.fasterxml.jackson.databind.ObjectMapper;\r\n\r\n    @RestController\r\n    @RequestMapping(&quot;/rest&quot;)\r\n    public class EmployeeController {\r\n        @GetMapping(value = /employees, produces = MediaType.APPLICATION_JSON_VALUE)\r\n        public ResponseEntity&lt;Map&lt;String, List&lt;Object&gt;&gt;&gt; getEmployeeDetails(@RequestParam(value = &quot;organization_id&quot;, required = false) Integer orgId) throws IOException {\r\n            Map&lt;String, List&lt;Object&gt;&gt; responseMap = //some method returns the data\r\n            ObjectMapper objMapper = new ObjectMapper();\r\n            ByteArrayOutputStream byteArrayOutputStream = new ByteArrayOutputStream();\r\n            //getFactory() and createJsonGenerator() methods are deprecated\r\n            JsonGenerator jsonGenerator = objMapper.getFactory().createGenerator(byteArrayOutputStream);\r\n            objMapper.writeValue(jsonGenerator, responseMap);\r\n            HttpHeaders httpHeaders = new HttpHeaders();\r\n            httpHeaders.add(HttpHeaders.CONTENT_LENGTH,String.valueOf(byteArrayOutputStream.size()));\r\n            return ResponseEntity.ok().headers(httpHeaders).body(responseMap);\r\n        }\r\n    }","title":"Set Content-Length header in Response Entity (Spring Boot) using Java","body":"<p>I have done some modifications to the answer in one of the questions linked above. Below code gives me correct value for content-length header and my response json is served fully.</p>\n<pre><code>import java.io.ByteArrayOutputStream;\nimport java.io.IOException;\nimport java.util.List;\nimport java.util.Map;\n\nimport org.springframework.http.HttpHeaders;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.web.bind.annotation.RestController;\n\nimport com.fasterxml.jackson.core.JsonGenerator;\nimport com.fasterxml.jackson.databind.ObjectMapper;\n\n@RestController\n@RequestMapping(&quot;/rest&quot;)\npublic class EmployeeController {\n    @GetMapping(value = /employees, produces = MediaType.APPLICATION_JSON_VALUE)\n    public ResponseEntity&lt;Map&lt;String, List&lt;Object&gt;&gt;&gt; getEmployeeDetails(@RequestParam(value = &quot;organization_id&quot;, required = false) Integer orgId) throws IOException {\n        Map&lt;String, List&lt;Object&gt;&gt; responseMap = //some method returns the data\n        ObjectMapper objMapper = new ObjectMapper();\n        ByteArrayOutputStream byteArrayOutputStream = new ByteArrayOutputStream();\n        //getFactory() and createJsonGenerator() methods are deprecated\n        JsonGenerator jsonGenerator = objMapper.getFactory().createGenerator(byteArrayOutputStream);\n        objMapper.writeValue(jsonGenerator, responseMap);\n        HttpHeaders httpHeaders = new HttpHeaders();\n        httpHeaders.add(HttpHeaders.CONTENT_LENGTH,String.valueOf(byteArrayOutputStream.size()));\n        return ResponseEntity.ok().headers(httpHeaders).body(responseMap);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":14924783,"reputation":161,"user_id":10776001,"display_name":"Heyyou"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1623,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76680509,"answer_count":1,"score":0,"last_activity_date":1689258673,"creation_date":1688564775,"question_id":76620990,"body_markdown":"I would like to set the content-length response header to one of my controllers as it is needed. After referring these two questions ([First][1], [Second][2]), I can able to understand that setting response header would be critical. But, I need this for sure. My code snippet is as follows,\r\n\r\n    @GetMapping(value = /employees, produces = MediaType.APPLICATION_JSON_VALUE)\r\n    public ResponseEntity&lt;Map&lt;String, List&lt;Object&gt;&gt;&gt; getEmployeeDetails(@RequestParam(value = &quot;organization_id&quot;, required = false) Integer orgId) {\r\n    \r\n          Map&lt;String, List&lt;Object&gt;&gt; responseMap = //some method returns the data\r\n          ObjectMapper objMapper = new ObjectMapper();\r\n          String responseString = objMapper.writeValueAsString(responseMap);\r\n          HttpHeaders httpHeaders = new HttpHeaders();\r\n          httpHeaders.add(HttpHeaders.CONTENT_LENGTH, String.valueOf(responseString.length()));\r\n          return ResponseEntity.ok().headers(httpHeaders).body(responseMap);\r\n    }\r\n    \r\nIn the above case, Content-Length is not calculated correctly and the response json is shrinked. (i.e if the map contains 50 objects, response is shrinked somewhere inbetween)\r\n\r\nPlease help how to achieve the expected outcome. Thanks in advance.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/26840190/set-content-length-using-mappingjacksonhttpmessageconverter\r\n  [2]: https://stackoverflow.com/questions/12380404/how-to-have-mappingjacksonhttpmessageconverter-set-the-content-length","title":"Set Content-Length header in Response Entity (Spring Boot) using Java","body":"<p>I would like to set the content-length response header to one of my controllers as it is needed. After referring these two questions (<a href=\"https://stackoverflow.com/questions/26840190/set-content-length-using-mappingjacksonhttpmessageconverter\">First</a>, <a href=\"https://stackoverflow.com/questions/12380404/how-to-have-mappingjacksonhttpmessageconverter-set-the-content-length\">Second</a>), I can able to understand that setting response header would be critical. But, I need this for sure. My code snippet is as follows,</p>\n<pre><code>@GetMapping(value = /employees, produces = MediaType.APPLICATION_JSON_VALUE)\npublic ResponseEntity&lt;Map&lt;String, List&lt;Object&gt;&gt;&gt; getEmployeeDetails(@RequestParam(value = &quot;organization_id&quot;, required = false) Integer orgId) {\n\n      Map&lt;String, List&lt;Object&gt;&gt; responseMap = //some method returns the data\n      ObjectMapper objMapper = new ObjectMapper();\n      String responseString = objMapper.writeValueAsString(responseMap);\n      HttpHeaders httpHeaders = new HttpHeaders();\n      httpHeaders.add(HttpHeaders.CONTENT_LENGTH, String.valueOf(responseString.length()));\n      return ResponseEntity.ok().headers(httpHeaders).body(responseMap);\n}\n</code></pre>\n<p>In the above case, Content-Length is not calculated correctly and the response json is shrinked. (i.e if the map contains 50 objects, response is shrinked somewhere inbetween)</p>\n<p>Please help how to achieve the expected outcome. Thanks in advance.</p>\n"},{"tags":["java","spring-boot","udp","spring-integration","spring-integration-dsl"],"answers":[{"tags":[],"owner":{"account_id":3273937,"reputation":114855,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689258200,"creation_date":1689258200,"answer_id":76680479,"question_id":76677487,"body_markdown":"There is no Outbound Gateway implementation for UDP: https://github.com/spring-projects/spring-integration/issues/5796.\r\n\r\nYou can use two channel adapters combination and specify a `UnicastSendingMessageHandler.socketExpression` for `UnicastReceivingChannelAdapter.getSocket()`.\r\n\r\nThen you can use a `BarrierMessageHandler` to correlate request and reply. The server side must ensure to transfer a correlation data back to the reply.\r\n\r\nhttps://docs.spring.io/spring-integration/docs/current/reference/html/ip.html#udp-adapters\r\n\r\nhttps://docs.spring.io/spring-integration/docs/current/reference/html/message-routing.html#barrier\r\n\r\nI understand that it is much involved, but there is no way right now to easy implement a gateway solution in Spring Integration.","title":"How to convert UDP DatagramSocket to Spring Integration","body":"<p>There is no Outbound Gateway implementation for UDP: <a href=\"https://github.com/spring-projects/spring-integration/issues/5796\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-integration/issues/5796</a>.</p>\n<p>You can use two channel adapters combination and specify a <code>UnicastSendingMessageHandler.socketExpression</code> for <code>UnicastReceivingChannelAdapter.getSocket()</code>.</p>\n<p>Then you can use a <code>BarrierMessageHandler</code> to correlate request and reply. The server side must ensure to transfer a correlation data back to the reply.</p>\n<p><a href=\"https://docs.spring.io/spring-integration/docs/current/reference/html/ip.html#udp-adapters\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-integration/docs/current/reference/html/ip.html#udp-adapters</a></p>\n<p><a href=\"https://docs.spring.io/spring-integration/docs/current/reference/html/message-routing.html#barrier\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-integration/docs/current/reference/html/message-routing.html#barrier</a></p>\n<p>I understand that it is much involved, but there is no way right now to easy implement a gateway solution in Spring Integration.</p>\n"}],"owner":{"account_id":28633305,"reputation":1,"user_id":21923878,"display_name":"Andrea P."},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1689258200,"creation_date":1689237862,"question_id":76677487,"body_markdown":"I&#39;m new about Spring Integration, and I&#39;m a little confusing about how to implements a request-response UDP using Spring Integration.\r\n\r\nI&#39;m usigin java17 and spring-boot 3.1.\r\n\r\nI need to send one UDP message to a external System (in specific a PLC) and wait a response from it.\r\nI would like to convert this code \r\n\r\n```\r\nbyte[] receiveData = new byte[1000]; // Max numeber of byte when I read a PLC Omron\r\n\t\tDatagramPacket receivePacket = new DatagramPacket(receiveData, receiveData.length);\r\n\t\ttry (DatagramSocket clientSocket = new DatagramSocket()) {\r\n//cmd - byte[] cmd\r\n\t\t\tDatagramPacket sendPacket = new DatagramPacket(cmd, cmd.length, getIpAddress(), getPort());\r\n\t\t\tclientSocket.send(sendPacket);\r\n\r\n\t\t\tclientSocket.setSoTimeout(1000);\r\n\t\t\t// wait response\r\n\t\t\tclientSocket.receive(receivePacket);// blocking with timeout\r\n\t\t\t\r\n\t\t} \r\n```\r\n\r\ninto Spring Integration approach ( if it is possible )\r\n\r\n\r\n\r\nI have tried to use  \r\n\r\n```\r\nUnicastSendingMessageHandler adapter = new UnicastSendingMessageHandler(getHost(), getPort());\r\nunicastSendingMessageHandler.handleMessage(MessageBuilder.withPayload(messageToSend).build());\r\n```\r\ngetHost, getPort and messageToSend can be changing. They depend on how many different system I need to contact.\r\n\r\nIn this way I send the message to the system but, I don&#39;t know what I need to do to wait the response.\r\n\r\nAnyone can help me?\r\nThanks a lot!\r\n","title":"How to convert UDP DatagramSocket to Spring Integration","body":"<p>I'm new about Spring Integration, and I'm a little confusing about how to implements a request-response UDP using Spring Integration.</p>\n<p>I'm usigin java17 and spring-boot 3.1.</p>\n<p>I need to send one UDP message to a external System (in specific a PLC) and wait a response from it.\nI would like to convert this code</p>\n<pre><code>byte[] receiveData = new byte[1000]; // Max numeber of byte when I read a PLC Omron\n        DatagramPacket receivePacket = new DatagramPacket(receiveData, receiveData.length);\n        try (DatagramSocket clientSocket = new DatagramSocket()) {\n//cmd - byte[] cmd\n            DatagramPacket sendPacket = new DatagramPacket(cmd, cmd.length, getIpAddress(), getPort());\n            clientSocket.send(sendPacket);\n\n            clientSocket.setSoTimeout(1000);\n            // wait response\n            clientSocket.receive(receivePacket);// blocking with timeout\n            \n        } \n</code></pre>\n<p>into Spring Integration approach ( if it is possible )</p>\n<p>I have tried to use</p>\n<pre><code>UnicastSendingMessageHandler adapter = new UnicastSendingMessageHandler(getHost(), getPort());\nunicastSendingMessageHandler.handleMessage(MessageBuilder.withPayload(messageToSend).build());\n</code></pre>\n<p>getHost, getPort and messageToSend can be changing. They depend on how many different system I need to contact.</p>\n<p>In this way I send the message to the system but, I don't know what I need to do to wait the response.</p>\n<p>Anyone can help me?\nThanks a lot!</p>\n"},{"tags":["java","kotlin","gradle","dependencies"],"comments":[{"owner":{"account_id":21741636,"reputation":1166,"user_id":16048914,"display_name":"David Weber"},"score":0,"creation_date":1689258788,"post_id":76680419,"comment_id":135190754,"body_markdown":"If you are using Gradle: Gradle does not load transitive dependencies by default, but it does, if you are using the dependency not with &quot;implementation ABC&quot; but with &quot;api ABC&quot;. Maybe this will help you.","body":"If you are using Gradle: Gradle does not load transitive dependencies by default, but it does, if you are using the dependency not with &quot;implementation ABC&quot; but with &quot;api ABC&quot;. Maybe this will help you."},{"owner":{"account_id":5218565,"reputation":1034,"user_id":6540591,"display_name":"User51"},"score":0,"creation_date":1689262210,"post_id":76680419,"comment_id":135191669,"body_markdown":"AFAIK, no native support exists for it...  But, several workarounds come to mind... you could wrap one of the versions (perhaps the older one), and take the time to fat jar all the deps into that, and then import the fat jar into your outer fat jar..  You could fork either of the versions and work out the differences in upgrading it (prob what I&#39;d do).  You could open an issue w/ `a` or `b` (or both) and ask them to upgrade to latest....  That&#39;s just what comes to mind.","body":"AFAIK, no native support exists for it...  But, several workarounds come to mind... you could wrap one of the versions (perhaps the older one), and take the time to fat jar all the deps into that, and then import the fat jar into your outer fat jar..  You could fork either of the versions and work out the differences in upgrading it (prob what I&#39;d do).  You could open an issue w/ <code>a</code> or <code>b</code> (or both) and ask them to upgrade to latest....  That&#39;s just what comes to mind."},{"owner":{"account_id":13203350,"reputation":868,"user_id":9535950,"display_name":"Thomas Behr"},"score":0,"creation_date":1689263828,"post_id":76680419,"comment_id":135192064,"body_markdown":"There is no easy solution. The most versatile one is probably the &quot;module framework&quot; approach that is used by frameworks like OSGi: Do *not* bundle your dependencies into the same jar as your main application. Do *not* specify those dependencies on the application classpath. Do load each dependency and its transitive dependencies explicitly through a new [URLClassLoader](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/net/URLClassLoader.html) instance. (I.e. you need a separate class loader instance for each dependency.) Lots of work, tough to get right.","body":"There is no easy solution. The most versatile one is probably the &quot;module framework&quot; approach that is used by frameworks like OSGi: Do <i>not</i> bundle your dependencies into the same jar as your main application. Do <i>not</i> specify those dependencies on the application classpath. Do load each dependency and its transitive dependencies explicitly through a new <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/net/URLClassLoader.html\" rel=\"nofollow noreferrer\">URLClassLoader</a> instance. (I.e. you need a separate class loader instance for each dependency.) Lots of work, tough to get right."},{"owner":{"account_id":202054,"reputation":23899,"user_id":448875,"display_name":"broot"},"score":0,"creation_date":1689281480,"post_id":76680419,"comment_id":135195478,"body_markdown":"I think shadow relocate is indeed a way to go, but it seems to me you use it incorrectly. You should create lib A and lib B, each of them having a different dependency C and in both of them (or at least B) you should relocate C to another package. You should not relocate A or B as you do. Then in your final application you should use fat jars of A and B (not their regular jars) without any further relocations.","body":"I think shadow relocate is indeed a way to go, but it seems to me you use it incorrectly. You should create lib A and lib B, each of them having a different dependency C and in both of them (or at least B) you should relocate C to another package. You should not relocate A or B as you do. Then in your final application you should use fat jars of A and B (not their regular jars) without any further relocations."}],"owner":{"account_id":29010572,"reputation":1,"user_id":22222175,"display_name":"TomMo"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":114,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689257950,"creation_date":1689257950,"question_id":76680419,"body_markdown":"Currently I am using 2 packages in my project, let&#39;s name them `com.example.a` and `com.example.b`.\r\n\r\nThe problem is that these two packages depend on the same other lib, let&#39;s name it `com.example.c`, but not the same version. Unfortunately when I run my fat jar that includes those libs, I have exceptions indicating there is a conflict because `com.example.b` needs a different version of `com.example.c` that the one included into the jar.\r\n\r\n\r\nTo solve this I tried to relocate the `com.example.a` package using the `shadow` plugin in order to make each lib have its own version of `com.example.c`. Using gradle:\r\n\r\n```\r\ntasks.getByName&lt;ShadowJar&gt;(&quot;shadowJar&quot;) {\r\n    relocate(&quot;com.example.a&quot;, &quot;com.example.relocated.a&quot;)\r\n}\r\n```\r\n\r\nBut since the `relocate` method is not recursive, only the lib `com.example.a` itself has been relocated but not its dependencies so the problem was not solved.\r\n\r\nIs there a way to recurcively relocate a package and all its dependencies in order to it to use its own version of `com.example.c`? Or at least is there a way to build a jar containing the two versions of the same dependency?\r\n","title":"Java two libraries depend on the same lib but different versions?","body":"<p>Currently I am using 2 packages in my project, let's name them <code>com.example.a</code> and <code>com.example.b</code>.</p>\n<p>The problem is that these two packages depend on the same other lib, let's name it <code>com.example.c</code>, but not the same version. Unfortunately when I run my fat jar that includes those libs, I have exceptions indicating there is a conflict because <code>com.example.b</code> needs a different version of <code>com.example.c</code> that the one included into the jar.</p>\n<p>To solve this I tried to relocate the <code>com.example.a</code> package using the <code>shadow</code> plugin in order to make each lib have its own version of <code>com.example.c</code>. Using gradle:</p>\n<pre><code>tasks.getByName&lt;ShadowJar&gt;(&quot;shadowJar&quot;) {\n    relocate(&quot;com.example.a&quot;, &quot;com.example.relocated.a&quot;)\n}\n</code></pre>\n<p>But since the <code>relocate</code> method is not recursive, only the lib <code>com.example.a</code> itself has been relocated but not its dependencies so the problem was not solved.</p>\n<p>Is there a way to recurcively relocate a package and all its dependencies in order to it to use its own version of <code>com.example.c</code>? Or at least is there a way to build a jar containing the two versions of the same dependency?</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9682,"page":310,"page_size":100}
