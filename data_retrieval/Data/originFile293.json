{"items":[{"tags":["java","discord-jda"],"comments":[{"owner":{"account_id":1564273,"reputation":1454,"user_id":1453413,"display_name":"HoRn"},"score":0,"creation_date":1658495616,"post_id":73079928,"comment_id":129072156,"body_markdown":"I would advise you to carefully study [ask]","body":"I would advise you to carefully study <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>"},{"owner":{"account_id":14719989,"reputation":5877,"user_id":10630900,"display_name":"Minn"},"score":1,"creation_date":1658498168,"post_id":73079928,"comment_id":129073265,"body_markdown":"@HoRn the question is fine, OP is getting a warning when using getContentStripped(). This is an absolutely acceptable question.","body":"@HoRn the question is fine, OP is getting a warning when using getContentStripped(). This is an absolutely acceptable question."}],"answers":[{"tags":[],"owner":{"account_id":14719989,"reputation":5877,"user_id":10630900,"display_name":"Minn"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1658498101,"creation_date":1658498101,"answer_id":73081511,"question_id":73079928,"body_markdown":"You have to explicitly enable the MESSAGE_CONTENT intent. This is explained in the link from the warning: https://jda.wiki/using-jda/gateway-intents-and-member-cache-policy/\r\n\r\nWhen building your JDA instance with a `JDABuilder`, you have to use `enableIntents(GatewayIntent.MESSAGE_CONTENT)`. See the [docs](https://ci.dv8tion.net/job/JDA5/javadoc/net/dv8tion/jda/api/JDABuilder.html#enableIntents(net.dv8tion.jda.api.requests.GatewayIntent,net.dv8tion.jda.api.requests.GatewayIntent...)).","title":"Attempting to access message content without GatewayIntent","body":"<p>You have to explicitly enable the MESSAGE_CONTENT intent. This is explained in the link from the warning: <a href=\"https://jda.wiki/using-jda/gateway-intents-and-member-cache-policy/\" rel=\"nofollow noreferrer\">https://jda.wiki/using-jda/gateway-intents-and-member-cache-policy/</a></p>\n<p>When building your JDA instance with a <code>JDABuilder</code>, you have to use <code>enableIntents(GatewayIntent.MESSAGE_CONTENT)</code>. See the <a href=\"https://ci.dv8tion.net/job/JDA5/javadoc/net/dv8tion/jda/api/JDABuilder.html#enableIntents(net.dv8tion.jda.api.requests.GatewayIntent,net.dv8tion.jda.api.requests.GatewayIntent...)\" rel=\"nofollow noreferrer\">docs</a>.</p>\n"},{"tags":[],"owner":{"account_id":25534154,"reputation":11,"user_id":19321573,"display_name":"Gavier"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690160794,"creation_date":1689791138,"answer_id":76724239,"question_id":73079928,"body_markdown":"It&#39;s simple: you just need to allow your bot to do it in the dev portal. \r\n![](https://i.stack.imgur.com/5XX72.png)","title":"Attempting to access message content without GatewayIntent","body":"<p>It's simple: you just need to allow your bot to do it in the dev portal.\n<img src=\"https://i.stack.imgur.com/5XX72.png\" alt=\"\" /></p>\n"}],"owner":{"account_id":25870024,"reputation":21,"user_id":19601060,"display_name":"Pizzzabote"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2928,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"answer_count":2,"score":0,"last_activity_date":1690160794,"creation_date":1658490763,"question_id":73079928,"body_markdown":"I want that whenever I write a message that says hello, the bot responses with a message in the console, but it&#39;s just giving me an error:\r\n\r\n```none\r\n[JDA MainWS-ReadThread] WARN JDA - Attempting to access message content without GatewayIntent.MESSAGE_CONTENT.\r\nDiscord now requires to explicitly enable access to this using the MESSAGE_CONTENT intent.\r\nUseful resources to learn more:\r\n\t- https://support-dev.discord.com/hc/en-us/articles/4404772028055-Message-Content-Privileged-Intent-FAQ\r\n\t- https://jda.wiki/using-jda/gateway-intents-and-member-cache-policy/\r\n\t- https://jda.wiki/using-jda/troubleshooting/#im-getting-closecode4014-disallowed-intents\r\nOr suppress this warning if this is intentional with Message.suppressContentIntentWarning()\r\n```\r\n\r\nI tried using the links, but it didn&#39;t work.\r\n\r\n\r\n    public class NachrichtenReaktion extends ListenerAdapter {\r\n    \r\n        public void onMessageReceived (MessageReceivedEvent ereignis)\r\n        {\r\n    \r\n            if(ereignis.isFromGuild())\r\n            {\r\n    \r\n                if(ereignis.getMessage().getContentStripped().equals(&quot;hallo&quot;)) {\r\n                    \r\n                    System.out.println(&quot;ufhsdijhsdifhdshfuihduisfh&quot;);\r\n                    \r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n","title":"Attempting to access message content without GatewayIntent","body":"<p>I want that whenever I write a message that says hello, the bot responses with a message in the console, but it's just giving me an error:</p>\n<pre class=\"lang-none prettyprint-override\"><code>[JDA MainWS-ReadThread] WARN JDA - Attempting to access message content without GatewayIntent.MESSAGE_CONTENT.\nDiscord now requires to explicitly enable access to this using the MESSAGE_CONTENT intent.\nUseful resources to learn more:\n    - https://support-dev.discord.com/hc/en-us/articles/4404772028055-Message-Content-Privileged-Intent-FAQ\n    - https://jda.wiki/using-jda/gateway-intents-and-member-cache-policy/\n    - https://jda.wiki/using-jda/troubleshooting/#im-getting-closecode4014-disallowed-intents\nOr suppress this warning if this is intentional with Message.suppressContentIntentWarning()\n</code></pre>\n<p>I tried using the links, but it didn't work.</p>\n<pre><code>public class NachrichtenReaktion extends ListenerAdapter {\n\n    public void onMessageReceived (MessageReceivedEvent ereignis)\n    {\n\n        if(ereignis.isFromGuild())\n        {\n\n            if(ereignis.getMessage().getContentStripped().equals(&quot;hallo&quot;)) {\n                \n                System.out.println(&quot;ufhsdijhsdifhdshfuihduisfh&quot;);\n                \n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1327250,"reputation":420272,"user_id":1271826,"accept_rate":100,"display_name":"Rob"},"score":0,"creation_date":1344824031,"post_id":5787761,"comment_id":15884957,"body_markdown":"With absolutely no offense to any of the respondents, who were just answering the question, but I would **not** advise that programmers adopt this practice of sacrificing legibility just to save a few lines of code. Compilers are good at optimization, so let them do their job, and let&#39;s focus on making the code comprehendible. And if you had a situation where you did this sort of code optimization, it would be incumbent upon the developer to put in some lines of comments in the code to make the intent clear.","body":"With absolutely no offense to any of the respondents, who were just answering the question, but I would <b>not</b> advise that programmers adopt this practice of sacrificing legibility just to save a few lines of code. Compilers are good at optimization, so let them do their job, and let&#39;s focus on making the code comprehendible. And if you had a situation where you did this sort of code optimization, it would be incumbent upon the developer to put in some lines of comments in the code to make the intent clear."}],"answers":[{"tags":[],"owner":{"account_id":369459,"reputation":5002,"user_id":716851,"accept_rate":100,"display_name":"Chris Snowden"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1303806583,"creation_date":1303806583,"answer_id":5787782,"question_id":5787761,"body_markdown":"height = width = width &lt; height ? width : height;","title":"Assign smaller number to variable in 1 line","body":"<p>height = width = width &lt; height ? width : height;</p>\n"},{"tags":[],"owner":{"account_id":126508,"reputation":14184,"user_id":323051,"accept_rate":70,"display_name":"jcvandan"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1690160754,"creation_date":1303806589,"answer_id":5787783,"question_id":5787761,"body_markdown":"```java\r\nwidth = height = width &lt; height ? width : height;\r\n```","title":"Assign smaller number to variable in 1 line","body":"<pre class=\"lang-java prettyprint-override\"><code>width = height = width &lt; height ? width : height;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":329612,"reputation":71055,"user_id":653230,"display_name":"WhiteFang34"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1303806602,"creation_date":1303806602,"answer_id":5787787,"question_id":5787761,"body_markdown":"It is possible:\r\n\r\n\twidth = height = width &lt; height ? width : height;\r\n\r\nHowever it&#39;s generally not the convention in Java to assign multiple variables on one line.\r\n","title":"Assign smaller number to variable in 1 line","body":"<p>It is possible:</p>\n\n<pre><code>width = height = width &lt; height ? width : height;\n</code></pre>\n\n<p>However it's generally not the convention in Java to assign multiple variables on one line.</p>\n"},{"tags":[],"owner":{"account_id":300633,"reputation":15049,"user_id":607874,"accept_rate":100,"display_name":"Jose Rui Santos"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1303806855,"creation_date":1303806855,"answer_id":5787840,"question_id":5787761,"body_markdown":"    width = height = Math.min(width, height);","title":"Assign smaller number to variable in 1 line","body":"<pre><code>width = height = Math.min(width, height);\n</code></pre>\n"}],"owner":{"account_id":210381,"reputation":1465,"user_id":461971,"accept_rate":82,"display_name":"Justin Wong"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":402,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":5787787,"answer_count":4,"score":1,"last_activity_date":1690160754,"creation_date":1303806452,"question_id":5787761,"body_markdown":"Is there a one-liner for this function?\r\n\r\n    int side = width &lt; height ? width : height;\r\n    width = side;\r\n    height = side;\r\n\r\n","title":"Assign smaller number to variable in 1 line","body":"<p>Is there a one-liner for this function?</p>\n\n<pre><code>int side = width &lt; height ? width : height;\nwidth = side;\nheight = side;\n</code></pre>\n"},{"tags":["java","lambda","java-8","java-stream"],"comments":[{"owner":{"account_id":11390996,"reputation":300,"user_id":10334839,"display_name":"HomeworkHopper"},"score":6,"creation_date":1689875015,"post_id":76732188,"comment_id":135278736,"body_markdown":"Exceptions thrown from within a lambda must be handled from within the expression. They cannot &quot;escape&quot; the lambda and be handled in the outer scope. Please see: https://stackoverflow.com/questions/31637892/throwing-exception-from-lambda/31638189","body":"Exceptions thrown from within a lambda must be handled from within the expression. They cannot &quot;escape&quot; the lambda and be handled in the outer scope. Please see: <a href=\"https://stackoverflow.com/questions/31637892/throwing-exception-from-lambda/31638189\" title=\"throwing exception from lambda\">stackoverflow.com/questions/31637892/&hellip;</a>"},{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":1,"creation_date":1689877865,"post_id":76732188,"comment_id":135279321,"body_markdown":"Most of the functional interfaces provided by JSE don&#39;t support checked exceptions (Callable is one of the few that does). Unchecked exceptions can escape lambdas, but if a method used inside a lambda can throw a checked exception, you need to catch it inside the lambda (and possibly rethrow wrapped in an unchecked exception).","body":"Most of the functional interfaces provided by JSE don&#39;t support checked exceptions (Callable is one of the few that does). Unchecked exceptions can escape lambdas, but if a method used inside a lambda can throw a checked exception, you need to catch it inside the lambda (and possibly rethrow wrapped in an unchecked exception)."},{"owner":{"account_id":13039762,"reputation":294,"user_id":9423518,"display_name":"Black Bear"},"score":0,"creation_date":1689879216,"post_id":76732188,"comment_id":135279579,"body_markdown":"might be helpful\nhttps://www.oreilly.com/content/handling-checked-exceptions-in-java-streams/","body":"might be helpful <a href=\"https://www.oreilly.com/content/handling-checked-exceptions-in-java-streams/\" rel=\"nofollow noreferrer\">oreilly.com/content/handling-checked-exceptions-in-java-stre&zwnj;&#8203;ams</a>"},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":1,"creation_date":1689919157,"post_id":76732188,"comment_id":135283841,"body_markdown":"I would say this code should be rewritten so that `Accountant::pay` does not throw. Going over budget is an expected situation (obviously, since you handle it) and you should not use exceptions for flow control to handle expected occurrences.","body":"I would say this code should be rewritten so that <code>Accountant::pay</code> does not throw. Going over budget is an expected situation (obviously, since you handle it) and you should not use exceptions for flow control to handle expected occurrences."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":3,"creation_date":1689929656,"post_id":76732188,"comment_id":135285636,"body_markdown":"Letting the exception handling aside, why do you think this stream version is an improvement over the original `for` loop?","body":"Letting the exception handling aside, why do you think this stream version is an improvement over the original <code>for</code> loop?"},{"owner":{"account_id":1361675,"reputation":1849,"user_id":1298918,"accept_rate":72,"display_name":"antnewbee"},"score":0,"creation_date":1689930765,"post_id":76732188,"comment_id":135285835,"body_markdown":"@Holger because my client think so and wouldn&#39;t approve the PR. Sometimes using stream help in clean code","body":"@Holger because my client think so and wouldn&#39;t approve the PR. Sometimes using stream help in clean code"},{"owner":{"account_id":1361675,"reputation":1849,"user_id":1298918,"accept_rate":72,"display_name":"antnewbee"},"score":0,"creation_date":1689930863,"post_id":76732188,"comment_id":135285853,"body_markdown":"So I fixed the issue by making BudgetOverException extend RunTimeException","body":"So I fixed the issue by making BudgetOverException extend RunTimeException"},{"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"score":0,"creation_date":1689933158,"post_id":76732188,"comment_id":135286295,"body_markdown":"There is no need to use `stream()` in your code. Just `employees.forEach(...)`.","body":"There is no need to use <code>stream()</code> in your code. Just <code>employees.forEach(...)</code>."}],"answers":[{"tags":[],"owner":{"account_id":13993199,"reputation":129,"user_id":10362945,"display_name":"Sagar"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1689913501,"creation_date":1689913501,"answer_id":76735117,"question_id":76732188,"body_markdown":"The foreach construct expects a consumer object\r\n&gt; void forEach(Consumer&lt;? super T&gt; action);\r\n\r\nThe abstract method of consumer is\r\n&gt;void accept(T t);\r\n\r\nNote the above abstract method of consumer does not throw any checked exception so you need to handle it for each employee object unlike in above foreach loop.\r\nYou could just handle and rethrow runtime exception.Its not a recommended way but the above code implies you are good to exit as soon as one of the employee&#39;s pay fail so we could go ahead with it.\r\n```\r\n    private void method() {\r\n        try {\r\n        Accountant accountant = getAccountant(employees);\r\n        employees.stream()\r\n                .forEach(emp -&gt; paySalary(accountant, emp, this));\r\n        allSalariesPaid = true;\r\n        }catch(RuntimeException e){\r\n            allSalariesPaid = false;\r\n        }\r\n    }\r\n\r\n    private void paySalary(Accountant accountant, Employee emp, CurrentClass currentClassRef) {\r\n        try {\r\n            accountant.pay(emp, currentClassRef);\r\n        } catch (BudgetIsOverException exception) {\r\n            throw new RuntimeException(exception);\r\n        }\r\n    }\r\n```","title":"Converting a java for loop to stream is asking to handle exception again","body":"<p>The foreach construct expects a consumer object</p>\n<blockquote>\n<p>void forEach(Consumer&lt;? super T&gt; action);</p>\n</blockquote>\n<p>The abstract method of consumer is</p>\n<blockquote>\n<p>void accept(T t);</p>\n</blockquote>\n<p>Note the above abstract method of consumer does not throw any checked exception so you need to handle it for each employee object unlike in above foreach loop.\nYou could just handle and rethrow runtime exception.Its not a recommended way but the above code implies you are good to exit as soon as one of the employee's pay fail so we could go ahead with it.</p>\n<pre><code>    private void method() {\n        try {\n        Accountant accountant = getAccountant(employees);\n        employees.stream()\n                .forEach(emp -&gt; paySalary(accountant, emp, this));\n        allSalariesPaid = true;\n        }catch(RuntimeException e){\n            allSalariesPaid = false;\n        }\n    }\n\n    private void paySalary(Accountant accountant, Employee emp, CurrentClass currentClassRef) {\n        try {\n            accountant.pay(emp, currentClassRef);\n        } catch (BudgetIsOverException exception) {\n            throw new RuntimeException(exception);\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690160102,"creation_date":1689917923,"answer_id":76735361,"question_id":76732188,"body_markdown":"The lambda may not throw checked exceptions.\r\n\r\nYou can achieve the same result this way (and in 1 line):\r\n\r\n    boolean allSalariesPaid = employees.stream()\r\n        .allMatch(e -&gt; {\r\n            try {\r\n                accountant.pay(e, this);\r\n                return true;\r\n            } catch (BudgetIsOverException ex) {  // must catch checked exceptions\r\n                return false;\r\n            }\r\n        });\r\n","title":"Converting a java for loop to stream is asking to handle exception again","body":"<p>The lambda may not throw checked exceptions.</p>\n<p>You can achieve the same result this way (and in 1 line):</p>\n<pre><code>boolean allSalariesPaid = employees.stream()\n    .allMatch(e -&gt; {\n        try {\n            accountant.pay(e, this);\n            return true;\n        } catch (BudgetIsOverException ex) {  // must catch checked exceptions\n            return false;\n        }\n    });\n</code></pre>\n"}],"owner":{"account_id":1361675,"reputation":1849,"user_id":1298918,"accept_rate":72,"display_name":"antnewbee"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":87,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76735117,"answer_count":2,"score":0,"last_activity_date":1690160102,"creation_date":1689872757,"question_id":76732188,"body_markdown":"I have a `for` loop as below which is working fine.\r\n```java\r\ntry {\r\n    Accountant accountant = getAccountant(employees);\r\n    for (Employee person : employees) {\r\n        accountant.pay(person, this); // throws BudgetIsOverException\r\n    }\r\n    allSalariesPaid = true;\r\n}\r\ncatch (BudgetIsOverException e){\r\n    allSalariesPaid = false;\r\n}\r\n```\r\nBut when I use a stream API instead, it asks me to handle the `BudgetIsOverException` and shows an error at `accountant.pay` even though it is properly caught after the `try` statement. Below the code:\r\n```java\r\ntry {\r\n    Accountant accountant = getAccountant(employees);\r\n    employees.stream()\r\n             .forEach(e-&gt;accountant.pay(e,this)); // throws BudgetIsOverException\r\n    allSalariesPaid = true;\r\n}\r\ncatch (BudgetIsOverException e) {\r\n    allSalariesPaid = false;\r\n}\r\n```\r\nMy question is why is stream API expecting an exception to be caught inside the `foreach` block?","title":"Converting a java for loop to stream is asking to handle exception again","body":"<p>I have a <code>for</code> loop as below which is working fine.</p>\n<pre class=\"lang-java prettyprint-override\"><code>try {\n    Accountant accountant = getAccountant(employees);\n    for (Employee person : employees) {\n        accountant.pay(person, this); // throws BudgetIsOverException\n    }\n    allSalariesPaid = true;\n}\ncatch (BudgetIsOverException e){\n    allSalariesPaid = false;\n}\n</code></pre>\n<p>But when I use a stream API instead, it asks me to handle the <code>BudgetIsOverException</code> and shows an error at <code>accountant.pay</code> even though it is properly caught after the <code>try</code> statement. Below the code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>try {\n    Accountant accountant = getAccountant(employees);\n    employees.stream()\n             .forEach(e-&gt;accountant.pay(e,this)); // throws BudgetIsOverException\n    allSalariesPaid = true;\n}\ncatch (BudgetIsOverException e) {\n    allSalariesPaid = false;\n}\n</code></pre>\n<p>My question is why is stream API expecting an exception to be caught inside the <code>foreach</code> block?</p>\n"},{"tags":["java","sql","spring","hibernate","validation"],"answers":[{"tags":[],"owner":{"account_id":9146887,"reputation":151,"user_id":6802723,"display_name":"EdmarSM"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1690160052,"creation_date":1690159837,"answer_id":76750848,"question_id":76723840,"body_markdown":"I think the better way to solve this is to separate password validation logic from the entity itself. You can have a DTO (Data Transfer Object) in your controller responsible for validating the rules of password requirements and after implementing password salt you can convert it to the entity before passing it to the service responsible for creating the object in the database.\r\n\r\nThe DTO must be like this:\r\n```java\r\npublic class UserDTO {\r\n    private long id;\r\n\r\n    @Pattern(regexp = &quot;[\\\\w-\\\\.]+@([\\\\w-]+\\\\.)+[\\\\w-]{2,4}&quot;, message = &quot;Must be a valid e-mail address&quot;)\r\n    private String email;\r\n    \r\n    @Pattern(regexp = &quot;(?=.*[A-Za-z])(?=.*\\\\d)[A-Za-z\\\\d]{6,}&quot;,\r\n           message = &quot;Must be minimum 6 characters, at least one letter and one number&quot;)\r\n    private String password;\r\n}\r\n```\r\n\r\nYour entity will remove at least the validation for the password rule:\r\n```java\r\npublic class User {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private long id;\r\n\r\n    @Pattern(regexp = &quot;[\\\\w-\\\\.]+@([\\\\w-]+\\\\.)+[\\\\w-]{2,4}&quot;, message = &quot;Must be a valid e-mail address&quot;)\r\n    @Column(name = &quot;email&quot;, nullable = false, unique = true)\r\n    private String email;\r\n    \r\n    @NotNull\r\n    @Column(name = &quot;password&quot;, nullable = false)\r\n    private String password;\r\n}\r\n```\r\n\r\nOf course, you can also add `@Valid` to the service&#39;s created method to validate another expression before sending it to database validation.\r\n\r\nYour controller method should look like this:\r\n```java\r\npublic String create(@Valid @ModelAttribute(&quot;user&quot;) UserDTO user, BindingResult result) throws EntityNotFoundException {\r\n    User userEntity = new User();\r\n    userEntity.setId(user.getId());\r\n    userEntity.getEmail(user.getEmail());\r\n    userEntity.setPassword(new BCryptPasswordEncoder().encode(user.getPassword())); // &lt;-- hashing\r\n    userService.create(userEntity);\r\n    return &quot;redirect:/profile&quot;;\r\n}\r\n```\r\n\r\nYou can also use some libraries like [MapStruct](https://mapstruct.org/) to reduce the boilerplate of mapping those values between similar objects like that.","title":"How can I save into DB hashed password if I use hibernate&#39;s annotation @Pattern?","body":"<p>I think the better way to solve this is to separate password validation logic from the entity itself. You can have a DTO (Data Transfer Object) in your controller responsible for validating the rules of password requirements and after implementing password salt you can convert it to the entity before passing it to the service responsible for creating the object in the database.</p>\n<p>The DTO must be like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class UserDTO {\n    private long id;\n\n    @Pattern(regexp = &quot;[\\\\w-\\\\.]+@([\\\\w-]+\\\\.)+[\\\\w-]{2,4}&quot;, message = &quot;Must be a valid e-mail address&quot;)\n    private String email;\n    \n    @Pattern(regexp = &quot;(?=.*[A-Za-z])(?=.*\\\\d)[A-Za-z\\\\d]{6,}&quot;,\n           message = &quot;Must be minimum 6 characters, at least one letter and one number&quot;)\n    private String password;\n}\n</code></pre>\n<p>Your entity will remove at least the validation for the password rule:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class User {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private long id;\n\n    @Pattern(regexp = &quot;[\\\\w-\\\\.]+@([\\\\w-]+\\\\.)+[\\\\w-]{2,4}&quot;, message = &quot;Must be a valid e-mail address&quot;)\n    @Column(name = &quot;email&quot;, nullable = false, unique = true)\n    private String email;\n    \n    @NotNull\n    @Column(name = &quot;password&quot;, nullable = false)\n    private String password;\n}\n</code></pre>\n<p>Of course, you can also add <code>@Valid</code> to the service's created method to validate another expression before sending it to database validation.</p>\n<p>Your controller method should look like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public String create(@Valid @ModelAttribute(&quot;user&quot;) UserDTO user, BindingResult result) throws EntityNotFoundException {\n    User userEntity = new User();\n    userEntity.setId(user.getId());\n    userEntity.getEmail(user.getEmail());\n    userEntity.setPassword(new BCryptPasswordEncoder().encode(user.getPassword())); // &lt;-- hashing\n    userService.create(userEntity);\n    return &quot;redirect:/profile&quot;;\n}\n</code></pre>\n<p>You can also use some libraries like <a href=\"https://mapstruct.org/\" rel=\"nofollow noreferrer\">MapStruct</a> to reduce the boilerplate of mapping those values between similar objects like that.</p>\n"}],"owner":{"account_id":28879862,"reputation":39,"user_id":22119553,"display_name":"jackeylove271"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76750848,"answer_count":1,"score":1,"last_activity_date":1690160052,"creation_date":1689787635,"question_id":76723840,"body_markdown":"I have the User entity:\r\n\r\n```@Entity\r\npublic class User {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private long id;\r\n\r\n    @Pattern(regexp = &quot;[\\\\w-\\\\.]+@([\\\\w-]+\\\\.)+[\\\\w-]{2,4}&quot;, message = &quot;Must be a valid e-mail address&quot;)\r\n    @Column(name = &quot;email&quot;, nullable = false, unique = true)\r\n    private String email;\r\n    \r\n    @Pattern(regexp = &quot;(?=.*[A-Za-z])(?=.*\\\\d)[A-Za-z\\\\d]{6,}&quot;,\r\n           message = &quot;Must be minimum 6 characters, at least one letter and one number&quot;)\r\n    @Column(name = &quot;password&quot;, nullable = false)\r\n    private String password;\r\n}\r\n```\r\n\r\nOn the web app, the user can register so I receive in the Controller username and password using `@Validated`:\r\n\r\n```\r\npublic String create(@Validated @ModelAttribute(&quot;user&quot;) User user, BindingResult result) throws EntityNotFoundException {\r\n\tuser.setPassword(new BCryptPasswordEncoder().encode(user.getPassword())); // &lt;-- hashing\r\n\tuserService.create(user);\r\n\treturn &quot;redirect:/profile&quot;;\r\n}\r\n```\r\n\r\nAs I understand, Spring goes here to the User entity and checks that `@Pattern` annotation. Then, if the password matches the pattern I need to hash it. But after hashing I tried to save the User in DB with the method like this:\r\n\r\n```\r\n   @Override\r\n   public User create(User user) {\r\n   return userRepository.save(user); // JPA repo\r\n}\r\n```\r\n\r\nbut Spring again goes to the User entity to check `@Pattern` annotation and it doesn&#39;t match. So it doesn&#39;t create a new user in DB. How can I fix this? Any classic solutions? Will be thankful for any advice. I want to save in the DB user with a hashed password without deleting `@Pattern` in the Entity.","title":"How can I save into DB hashed password if I use hibernate&#39;s annotation @Pattern?","body":"<p>I have the User entity:</p>\n<pre><code>public class User {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private long id;\n\n    @Pattern(regexp = &quot;[\\\\w-\\\\.]+@([\\\\w-]+\\\\.)+[\\\\w-]{2,4}&quot;, message = &quot;Must be a valid e-mail address&quot;)\n    @Column(name = &quot;email&quot;, nullable = false, unique = true)\n    private String email;\n    \n    @Pattern(regexp = &quot;(?=.*[A-Za-z])(?=.*\\\\d)[A-Za-z\\\\d]{6,}&quot;,\n           message = &quot;Must be minimum 6 characters, at least one letter and one number&quot;)\n    @Column(name = &quot;password&quot;, nullable = false)\n    private String password;\n}\n</code></pre>\n<p>On the web app, the user can register so I receive in the Controller username and password using <code>@Validated</code>:</p>\n<pre><code>public String create(@Validated @ModelAttribute(&quot;user&quot;) User user, BindingResult result) throws EntityNotFoundException {\n    user.setPassword(new BCryptPasswordEncoder().encode(user.getPassword())); // &lt;-- hashing\n    userService.create(user);\n    return &quot;redirect:/profile&quot;;\n}\n</code></pre>\n<p>As I understand, Spring goes here to the User entity and checks that <code>@Pattern</code> annotation. Then, if the password matches the pattern I need to hash it. But after hashing I tried to save the User in DB with the method like this:</p>\n<pre><code>   @Override\n   public User create(User user) {\n   return userRepository.save(user); // JPA repo\n}\n</code></pre>\n<p>but Spring again goes to the User entity to check <code>@Pattern</code> annotation and it doesn't match. So it doesn't create a new user in DB. How can I fix this? Any classic solutions? Will be thankful for any advice. I want to save in the DB user with a hashed password without deleting <code>@Pattern</code> in the Entity.</p>\n"},{"tags":["java","json","list","jackson"],"comments":[{"owner":{"account_id":7291967,"reputation":57515,"user_id":5558072,"accept_rate":100,"display_name":"Youcef LAIDANI"},"score":2,"creation_date":1690126478,"post_id":76749045,"comment_id":135306731,"body_markdown":"Your json is not valid!","body":"Your json is not valid!"},{"owner":{"account_id":1912742,"reputation":15070,"user_id":1726083,"display_name":"erik258"},"score":1,"creation_date":1690126571,"post_id":76749045,"comment_id":135306741,"body_markdown":"Specifically, your test string is missing `{` and `}`.  The rest of it looks good to my human eyes","body":"Specifically, your test string is missing <code>{</code> and <code>}</code>.  The rest of it looks good to my human eyes"},{"owner":{"account_id":384206,"reputation":50386,"user_id":740553,"accept_rate":46,"display_name":"Mike &#39;Pomax&#39; Kamermans"},"score":1,"creation_date":1690131245,"post_id":76749045,"comment_id":135307371,"body_markdown":"And so, protip: don&#39;t put your string inside a string. Put it in a file, give that file a `.json` extension, and then load that file instead. Now you get the benefit of your IDE being able to properly flag errors in your JSON file. Also: if you&#39;re going to edit the code in your post, _run that updated code first_ to see if your problem even still exists with those edits.","body":"And so, protip: don&#39;t put your string inside a string. Put it in a file, give that file a <code>.json</code> extension, and then load that file instead. Now you get the benefit of your IDE being able to properly flag errors in your JSON file. Also: if you&#39;re going to edit the code in your post, <i>run that updated code first</i> to see if your problem even still exists with those edits."},{"owner":{"account_id":1860350,"reputation":540,"user_id":1685034,"accept_rate":47,"display_name":"Mallik Kumar"},"score":0,"creation_date":1690131950,"post_id":76749045,"comment_id":135307440,"body_markdown":"I have updated the code with changes for my side. I have added constructors after running my code again and then updated the errors I have received.","body":"I have updated the code with changes for my side. I have added constructors after running my code again and then updated the errors I have received."}],"answers":[{"comments":[{"owner":{"account_id":1860350,"reputation":540,"user_id":1685034,"accept_rate":47,"display_name":"Mallik Kumar"},"score":0,"creation_date":1690132393,"post_id":76749424,"comment_id":135307493,"body_markdown":"Exception says: Cannot deserialize value of type `com.simadvisory.Condition` from Array value (token `JsonToken.START_ARRAY`)","body":"Exception says: Cannot deserialize value of type <code>com.simadvisory.Condition</code> from Array value (token <code>JsonToken.START_ARRAY</code>)"},{"owner":{"account_id":5776025,"reputation":90,"user_id":4558050,"display_name":"Marius"},"score":0,"creation_date":1690133525,"post_id":76749424,"comment_id":135307615,"body_markdown":"Yes, class Condition is not an array. Try it like I said.","body":"Yes, class Condition is not an array. Try it like I said."},{"owner":{"account_id":1860350,"reputation":540,"user_id":1685034,"accept_rate":47,"display_name":"Mallik Kumar"},"score":0,"creation_date":1690133920,"post_id":76749424,"comment_id":135307664,"body_markdown":"You have misread my question. The Condition array contains a list of conditions within which lies a subCondition which is also a type of Condition. Check my Condition class.","body":"You have misread my question. The Condition array contains a list of conditions within which lies a subCondition which is also a type of Condition. Check my Condition class."},{"owner":{"account_id":5776025,"reputation":90,"user_id":4558050,"display_name":"Marius"},"score":0,"creation_date":1690134657,"post_id":76749424,"comment_id":135307758,"body_markdown":"I think the list of conditions called &quot;condition&quot; is as confusing to your parser as it is to me. However, your json denotes an object called condition, which contains an array of these condition objects, while your code seems to expect a list as the root object.","body":"I think the list of conditions called &quot;condition&quot; is as confusing to your parser as it is to me. However, your json denotes an object called condition, which contains an array of these condition objects, while your code seems to expect a list as the root object."},{"owner":{"account_id":1860350,"reputation":540,"user_id":1685034,"accept_rate":47,"display_name":"Mallik Kumar"},"score":0,"creation_date":1690135119,"post_id":76749424,"comment_id":135307817,"body_markdown":"Please check the edit.","body":"Please check the edit."},{"owner":{"account_id":5776025,"reputation":90,"user_id":4558050,"display_name":"Marius"},"score":0,"creation_date":1690135669,"post_id":76749424,"comment_id":135307896,"body_markdown":"I still think you should not have the array inside the condition object, but start the file with &quot;[&quot;.","body":"I still think you should not have the array inside the condition object, but start the file with &quot;[&quot;."}],"tags":[],"owner":{"account_id":5776025,"reputation":90,"user_id":4558050,"display_name":"Marius"},"comment_count":6,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1690135467,"creation_date":1690131773,"answer_id":76749424,"question_id":76749045,"body_markdown":"In your JSON, the &quot;condition&quot; object starts with a &quot;[&quot;, setting its type to an array. This isn&#39;t how your condition object class look like.\r\n\r\nIt should be more like:\r\n\r\n    [\r\n        {\r\n            &quot;type&quot; : &quot;NONE&quot;,\r\n            &quot;subConditions&quot; : []\r\n        }\r\n    ]","title":"Unable to convert JSON Array into a List in Java","body":"<p>In your JSON, the &quot;condition&quot; object starts with a &quot;[&quot;, setting its type to an array. This isn't how your condition object class look like.</p>\n<p>It should be more like:</p>\n<pre><code>[\n    {\n        &quot;type&quot; : &quot;NONE&quot;,\n        &quot;subConditions&quot; : []\n    }\n]\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1860350,"reputation":540,"user_id":1685034,"accept_rate":47,"display_name":"Mallik Kumar"},"score":0,"creation_date":1690168940,"post_id":76750781,"comment_id":135310679,"body_markdown":"That is a wonderful answer @Reilas. The output is exactly as I want! But my project needs Jackson.","body":"That is a wonderful answer @Reilas. The output is exactly as I want! But my project needs Jackson."}],"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690157672,"creation_date":1690157672,"answer_id":76750781,"question_id":76749045,"body_markdown":"If you have no objection to switching to _[Gson](https://en.wikipedia.org/wiki/Gson)_, here is a basic parse.\r\n\r\n```java\r\nString test = Files.readString(Path.of(&quot;test.json&quot;));\r\nGson gson = new Gson();\r\nJsonElement element = gson.fromJson(test, JsonObject.class).get(&quot;condition&quot;);\r\nList&lt;Condition&gt; conditions = Arrays.asList(gson.fromJson(element, Condition[].class));\r\n```\r\n\r\n```java\r\nclass Condition {\r\n    Type type;\r\n    List&lt;Condition&gt; subConditions;\r\n\r\n    @Override\r\n    public String toString() {\r\n        return &quot;(%s, %s)&quot;.formatted(type, subConditions);\r\n    }\r\n}\r\n\r\nenum Type {\r\n    NONE, AND, OR\r\n}\r\n```\r\n\r\nOutput\r\n\r\n```none\r\n(NONE, [(NONE, []), (AND, [(NONE, [])])])\r\n(OR, [])\r\n```","title":"Unable to convert JSON Array into a List in Java","body":"<p>If you have no objection to switching to <em><a href=\"https://en.wikipedia.org/wiki/Gson\" rel=\"nofollow noreferrer\">Gson</a></em>, here is a basic parse.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String test = Files.readString(Path.of(&quot;test.json&quot;));\nGson gson = new Gson();\nJsonElement element = gson.fromJson(test, JsonObject.class).get(&quot;condition&quot;);\nList&lt;Condition&gt; conditions = Arrays.asList(gson.fromJson(element, Condition[].class));\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>class Condition {\n    Type type;\n    List&lt;Condition&gt; subConditions;\n\n    @Override\n    public String toString() {\n        return &quot;(%s, %s)&quot;.formatted(type, subConditions);\n    }\n}\n\nenum Type {\n    NONE, AND, OR\n}\n</code></pre>\n<p>Output</p>\n<pre class=\"lang-none prettyprint-override\"><code>(NONE, [(NONE, []), (AND, [(NONE, [])])])\n(OR, [])\n</code></pre>\n"}],"owner":{"account_id":1860350,"reputation":540,"user_id":1685034,"accept_rate":47,"display_name":"Mallik Kumar"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":84,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1690157672,"creation_date":1690126177,"question_id":76749045,"body_markdown":"I have an issue in converting JSONArray into a List using Jackson Object Mapper.\r\n\r\n    public class Main {\r\n\r\n\tpublic static void main(String[] args) throws Exception {\r\n\t\tString test = Files.readString(Path.of(&quot;test.json&quot;));\r\n\t\tcallRequired(test);\r\n\t}\r\n\r\n\tpublic static void callRequired(String test) {\r\n\t\tObjectMapper mapper = new ObjectMapper();\r\n\t\ttry {\r\n\t\t\tList&lt;Condition&gt; result = mapper.readerForListOf(Condition.class).readValue(test.trim());\r\n\t\t\tSystem.out.println(result);\r\n\t\t} catch (JsonMappingException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t} catch (JsonProcessingException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t}\r\n}\r\n\r\nThe test.json is:\r\n\r\n    {\r\n\t\t&quot;condition&quot;: [\r\n\t\t\t{\r\n\t\t\t\t&quot;type&quot;: &quot;NONE&quot;,\r\n\t\t\t\t&quot;subConditons&quot;: [\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\t&quot;type&quot;: &quot;NONE&quot;,\r\n\t\t\t\t\t\t&quot;subConditions&quot;: []\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\t&quot;type&quot;: &quot;AND&quot;,\r\n\t\t\t\t\t\t&quot;subConditions&quot;: [\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t&quot;type&quot;: &quot;NONE&quot;,\r\n\t\t\t\t\t\t\t\t&quot;subConditions&quot;: []\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t]\r\n\t\t\t\t\t}\r\n\t\t\t\t]\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t&quot;type&quot;: &quot;OR&quot;,\r\n\t\t\t\t&quot;subConditions&quot;: []\r\n\t\t\t}\r\n\t\t]\r\n\t}\r\n\r\nThe Condition class is as follows:\r\n\r\n    public class Condition {\r\n    Type type = Type.NONE;\r\n    List&lt;Condition&gt; subConditions;\r\n    \r\n    public Condition() {\r\n    \t\r\n    }\r\n    \r\n    public Condition(Type type, List&lt;Condition&gt; subConditions) {\r\n    \tthis.type = type;\r\n    \tthis.subConditions = subConditions;\r\n    }\r\n\r\n    public List&lt;Condition&gt; getSubConditions() {\r\n        return subConditions;\r\n    }\r\n\r\n    public void setSubConditions(List&lt;Condition&gt; subConditions) {\r\n        this.subConditions = subConditions;\r\n    }\r\n\r\n    public Type getType() {\r\n        return type;\r\n    }\r\n\r\n    public void setType(Type type) {\r\n        this.type = type;\r\n    }\r\n    \r\n    public enum Type {\r\n        NONE,\r\n        AND,\r\n        OR;\r\n    }\r\n\r\n\t@Override\r\n\tpublic String toString() {\r\n\t\treturn &quot;Condition [type=&quot; + type + &quot;, subConditions=&quot; + subConditions + &quot;]&quot;;\r\n\t    }\r\n    }\r\n**Edit**: The Condition array contains a list of conditions within which lies a subCondition which is also a type of Condition.\r\n\r\n**EDIT:** Thanks, I have added the requisite braces and checked for its validity. I have also added an all args construcutor and a no args constructor as well.\r\n\r\n**How do I change the JSON so that I receive a List of conditions with the proper subconditions nested with Jackson.**","title":"Unable to convert JSON Array into a List in Java","body":"<p>I have an issue in converting JSONArray into a List using Jackson Object Mapper.</p>\n<pre><code>public class Main {\n\npublic static void main(String[] args) throws Exception {\n    String test = Files.readString(Path.of(&quot;test.json&quot;));\n    callRequired(test);\n}\n\npublic static void callRequired(String test) {\n    ObjectMapper mapper = new ObjectMapper();\n    try {\n        List&lt;Condition&gt; result = mapper.readerForListOf(Condition.class).readValue(test.trim());\n        System.out.println(result);\n    } catch (JsonMappingException e) {\n        e.printStackTrace();\n    } catch (JsonProcessingException e) {\n        e.printStackTrace();\n    }\n}\n</code></pre>\n<p>}</p>\n<p>The test.json is:</p>\n<pre><code>{\n    &quot;condition&quot;: [\n        {\n            &quot;type&quot;: &quot;NONE&quot;,\n            &quot;subConditons&quot;: [\n                {\n                    &quot;type&quot;: &quot;NONE&quot;,\n                    &quot;subConditions&quot;: []\n                },\n                {\n                    &quot;type&quot;: &quot;AND&quot;,\n                    &quot;subConditions&quot;: [\n                        {\n                            &quot;type&quot;: &quot;NONE&quot;,\n                            &quot;subConditions&quot;: []\n                        }\n                    ]\n                }\n            ]\n        },\n        {\n            &quot;type&quot;: &quot;OR&quot;,\n            &quot;subConditions&quot;: []\n        }\n    ]\n}\n</code></pre>\n<p>The Condition class is as follows:</p>\n<pre><code>public class Condition {\nType type = Type.NONE;\nList&lt;Condition&gt; subConditions;\n\npublic Condition() {\n    \n}\n\npublic Condition(Type type, List&lt;Condition&gt; subConditions) {\n    this.type = type;\n    this.subConditions = subConditions;\n}\n\npublic List&lt;Condition&gt; getSubConditions() {\n    return subConditions;\n}\n\npublic void setSubConditions(List&lt;Condition&gt; subConditions) {\n    this.subConditions = subConditions;\n}\n\npublic Type getType() {\n    return type;\n}\n\npublic void setType(Type type) {\n    this.type = type;\n}\n\npublic enum Type {\n    NONE,\n    AND,\n    OR;\n}\n\n@Override\npublic String toString() {\n    return &quot;Condition [type=&quot; + type + &quot;, subConditions=&quot; + subConditions + &quot;]&quot;;\n    }\n}\n</code></pre>\n<p><strong>Edit</strong>: The Condition array contains a list of conditions within which lies a subCondition which is also a type of Condition.</p>\n<p><strong>EDIT:</strong> Thanks, I have added the requisite braces and checked for its validity. I have also added an all args construcutor and a no args constructor as well.</p>\n<p><strong>How do I change the JSON so that I receive a List of conditions with the proper subconditions nested with Jackson.</strong></p>\n"},{"tags":["java","spring","spring-webflux","spring-webclient"],"answers":[{"tags":[],"owner":{"account_id":8263976,"reputation":1032,"user_id":6214284,"accept_rate":50,"display_name":"sawim"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1690156707,"creation_date":1608583957,"answer_id":65399816,"question_id":65341166,"body_markdown":"From Javadoc, method [uri(URI uri)][1] \r\n\r\n&gt; Specify the `URI` using an absolute, fully constructed `URI`\r\n\r\nso this version of method does not use base url from configuration.\r\n\r\nInstead, you should have specified URI using UriBuilder, which is injected into method [uri(Function&lt;UriBuilder,URI&gt; uriFunction)][2].\r\n\r\n    String user = webClient.get()\r\n                           .uri(uriBuilder -&gt; uriBuilder.path(&quot;/api/v1/user/1&quot;).build())\r\n                           ...\r\n\r\n\r\n  [1]:\r\n https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/reactive/function/client/WebClient.UriSpec.html#uri-java.util.function.Function-\r\n  [2]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/reactive/function/client/WebClient.UriSpec.html#uri-java.util.function.Function-","title":"How to set Base URI to Spring WebClient","body":"<p>From Javadoc, method <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/reactive/function/client/WebClient.UriSpec.html#uri-java.util.function.Function-\" rel=\"nofollow noreferrer\">uri(URI uri)</a></p>\n<blockquote>\n<p>Specify the <code>URI</code> using an absolute, fully constructed <code>URI</code></p>\n</blockquote>\n<p>so this version of method does not use base url from configuration.</p>\n<p>Instead, you should have specified URI using UriBuilder, which is injected into method <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/reactive/function/client/WebClient.UriSpec.html#uri-java.util.function.Function-\" rel=\"nofollow noreferrer\">uri(Function&lt;UriBuilder,URI&gt; uriFunction)</a>.</p>\n<pre><code>String user = webClient.get()\n                       .uri(uriBuilder -&gt; uriBuilder.path(&quot;/api/v1/user/1&quot;).build())\n                       ...\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3298176,"reputation":7146,"user_id":2774914,"accept_rate":94,"display_name":"diziaq"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643974525,"creation_date":1643974525,"answer_id":70985707,"question_id":65341166,"body_markdown":"There are two methods in `WebClient.UriSpec` that could help.\r\n\r\n\tinterface UriSpec&lt;S extends RequestHeadersSpec&lt;?&gt;&gt; {\r\n\r\n\t\tS uri(String uri, Object... uriVariables);\r\n\r\n\t\tS uri(String uri, Map&lt;String, ?&gt; uriVariables);\r\n\r\n        ...\r\n\t}\r\n\r\nIn the simplest case just pass `String` instead of `URI` as the argument.\r\n\r\n    String user = webClient\r\n                    .get()\r\n                    .uri(&quot;/api/v1/user/1&quot;)        // &lt;- just String\r\n                    .retrieve()\r\n                    .bodyToMono(String.class)\r\n                    .block();","title":"How to set Base URI to Spring WebClient","body":"<p>There are two methods in <code>WebClient.UriSpec</code> that could help.</p>\n<pre><code>interface UriSpec&lt;S extends RequestHeadersSpec&lt;?&gt;&gt; {\n\n    S uri(String uri, Object... uriVariables);\n\n    S uri(String uri, Map&lt;String, ?&gt; uriVariables);\n\n    ...\n}\n</code></pre>\n<p>In the simplest case just pass <code>String</code> instead of <code>URI</code> as the argument.</p>\n<pre><code>String user = webClient\n                .get()\n                .uri(&quot;/api/v1/user/1&quot;)        // &lt;- just String\n                .retrieve()\n                .bodyToMono(String.class)\n                .block();\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1609777,"reputation":1063,"user_id":1489121,"display_name":"Krzysztof Tomaszewski"},"score":0,"creation_date":1671201090,"post_id":73793585,"comment_id":132054325,"body_markdown":"This is ridiculous. You&#39;re setting base URL twice. One of these places is irrelevant. Which one?","body":"This is ridiculous. You&#39;re setting base URL twice. One of these places is irrelevant. Which one?"}],"tags":[],"owner":{"account_id":13454962,"reputation":31,"user_id":9708758,"display_name":"M Sn"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663716641,"creation_date":1663716641,"answer_id":73793585,"question_id":65341166,"body_markdown":"You&#39;re using TcpClient, in my version I used HttpClient and had to specify the baseUrl parameter on that as well.\r\ni.e.\r\n\r\n    HttpClient httpClient = HttpClient\r\n                            .create()\r\n                            .baseUrl(getRootUrl())\r\n                            .responseTimeout(Duration.ofMillis(&lt;timeout in millis&gt;));\r\n\r\n    return WebClient\r\n                            .builder()\r\n                            .baseUrl(getRootUrl())\r\n                            .clientConnector(new ReactorClientHttpConnector(httpClient))\r\n                            .defaultHeaders(headers -&gt; {\r\n                                if (!headers.containsKey(HttpHeaders.CONTENT_TYPE)) {\r\n                                    headers.add(HttpHeaders.CONTENT_TYPE, MediaType.APPLICATION_OCTET_STREAM.toString());\r\n                                }\r\n\r\n                                headers.add(&quot;Authorization&quot;, &quot;Bearer &quot; + accessKey);\r\n                            })\r\n                            .build();\r\n\r\n\r\nHope that helps.","title":"How to set Base URI to Spring WebClient","body":"<p>You're using TcpClient, in my version I used HttpClient and had to specify the baseUrl parameter on that as well.\ni.e.</p>\n<pre><code>HttpClient httpClient = HttpClient\n                        .create()\n                        .baseUrl(getRootUrl())\n                        .responseTimeout(Duration.ofMillis(&lt;timeout in millis&gt;));\n\nreturn WebClient\n                        .builder()\n                        .baseUrl(getRootUrl())\n                        .clientConnector(new ReactorClientHttpConnector(httpClient))\n                        .defaultHeaders(headers -&gt; {\n                            if (!headers.containsKey(HttpHeaders.CONTENT_TYPE)) {\n                                headers.add(HttpHeaders.CONTENT_TYPE, MediaType.APPLICATION_OCTET_STREAM.toString());\n                            }\n\n                            headers.add(&quot;Authorization&quot;, &quot;Bearer &quot; + accessKey);\n                        })\n                        .build();\n</code></pre>\n<p>Hope that helps.</p>\n"}],"owner":{"account_id":1697177,"reputation":1903,"user_id":1558312,"accept_rate":46,"display_name":"keepmoving"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5259,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":3,"score":3,"last_activity_date":1690156707,"creation_date":1608209738,"question_id":65341166,"body_markdown":"I am trying to create a Spring `WebClient` to call REST API. For that, I wrote the following piece of code. \r\n\r\n```lang-java\r\n@Bean\r\npublic WebClient defaultWebClient() {\r\n\r\n    var tcpClient = TcpClient.create()\r\n            .option(ChannelOption.CONNECT_TIMEOUT_MILLIS, 3_000)\r\n            .doOnConnected(connection -&gt;\r\n                    connection.addHandlerLast(new ReadTimeoutHandler(3))\r\n                            .addHandlerLast(new WriteTimeoutHandler(3)));\r\n\r\n    return WebClient.builder()\r\n            .baseUrl(&quot;https://test.com&quot;)\r\n            .clientConnector(new ReactorClientHttpConnector(HttpClient.from(tcpClient)))\r\n            .defaultHeader(HttpHeaders.ACCEPT, &quot;application/vnd.api+json&quot;)\r\n            .build();\r\n}\r\n```\r\n\r\nthen the actual URI with the following code.\r\n\r\n```lang-java\r\nString user = webClient.get()\r\n                       .uri(URI.create(&quot;/api/v1/user/1&quot;))\r\n                       .header(&quot;Authorization&quot;, TOKEN)\r\n                       .header(HttpHeaders.ACCEPT, &quot;application/json&quot;)\r\n                       .retrieve()\r\n                       .bodyToMono(String.class)\r\n                       .block();\r\n```\r\n\r\nbut when the above code executed then it throws the following exception. \r\n\r\n    {&quot;timestamp&quot;:&quot;1608209276546&quot;,&quot;level&quot;:&quot;ERROR&quot;,&quot;thread&quot;:&quot;http-nio-8080-exec-1&quot;,&quot;mdc&quot;:{&quot;tenantId&quot;:null},&quot;logger&quot;:&quot;org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/].[dispatcherServlet]&quot;,&quot;message&quot;:&quot;Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.web.reactive.function.client.WebClientRequestException: Connection refused: no further information: /127.0.0.1:12012; nested exception is io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: no further information: /127.0.0.1:12012] with root cause&quot;,&quot;context&quot;:&quot;default&quot;,&quot;exception&quot;:&quot;java.net.ConnectException: Connection refused: no further information\\r\\n\\tat java.base/sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)\\r\\n\\tat\r\n\r\nas raw too:\r\n\r\n&gt;{&quot;timestamp&quot;:&quot;1608209276546&quot;,&quot;level&quot;:&quot;ERROR&quot;,&quot;thread&quot;:&quot;http-nio-8080-exec-1&quot;,&quot;mdc&quot;:{&quot;tenantId&quot;:null},&quot;logger&quot;:&quot;org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/].[dispatcherServlet]&quot;,&quot;message&quot;:&quot;Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.web.reactive.function.client.WebClientRequestException: Connection refused: no further information: /127.0.0.1:12012; nested exception is io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: no further information: /127.0.0.1:12012] with root cause&quot;,&quot;context&quot;:&quot;default&quot;,&quot;exception&quot;:&quot;java.net.ConnectException: Connection refused: no further information\\r\\n\\tat java.base/sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)\\r\\n\\tat \r\n\r\nI am not sure where I need to change here so that it starts pointing to base URI instead of localhost (127.0.0.1:12012).\r\nAnother thing is if I pass the fully qualified name (https://test.com/api/v1/user/1) on API call then it works fine.\r\n","title":"How to set Base URI to Spring WebClient","body":"<p>I am trying to create a Spring <code>WebClient</code> to call REST API. For that, I wrote the following piece of code.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\npublic WebClient defaultWebClient() {\n\n    var tcpClient = TcpClient.create()\n            .option(ChannelOption.CONNECT_TIMEOUT_MILLIS, 3_000)\n            .doOnConnected(connection -&gt;\n                    connection.addHandlerLast(new ReadTimeoutHandler(3))\n                            .addHandlerLast(new WriteTimeoutHandler(3)));\n\n    return WebClient.builder()\n            .baseUrl(&quot;https://test.com&quot;)\n            .clientConnector(new ReactorClientHttpConnector(HttpClient.from(tcpClient)))\n            .defaultHeader(HttpHeaders.ACCEPT, &quot;application/vnd.api+json&quot;)\n            .build();\n}\n</code></pre>\n<p>then the actual URI with the following code.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String user = webClient.get()\n                       .uri(URI.create(&quot;/api/v1/user/1&quot;))\n                       .header(&quot;Authorization&quot;, TOKEN)\n                       .header(HttpHeaders.ACCEPT, &quot;application/json&quot;)\n                       .retrieve()\n                       .bodyToMono(String.class)\n                       .block();\n</code></pre>\n<p>but when the above code executed then it throws the following exception.</p>\n<pre><code>{&quot;timestamp&quot;:&quot;1608209276546&quot;,&quot;level&quot;:&quot;ERROR&quot;,&quot;thread&quot;:&quot;http-nio-8080-exec-1&quot;,&quot;mdc&quot;:{&quot;tenantId&quot;:null},&quot;logger&quot;:&quot;org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/].[dispatcherServlet]&quot;,&quot;message&quot;:&quot;Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.web.reactive.function.client.WebClientRequestException: Connection refused: no further information: /127.0.0.1:12012; nested exception is io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: no further information: /127.0.0.1:12012] with root cause&quot;,&quot;context&quot;:&quot;default&quot;,&quot;exception&quot;:&quot;java.net.ConnectException: Connection refused: no further information\\r\\n\\tat java.base/sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)\\r\\n\\tat\n</code></pre>\n<p>as raw too:</p>\n<blockquote>\n<p>{&quot;timestamp&quot;:&quot;1608209276546&quot;,&quot;level&quot;:&quot;ERROR&quot;,&quot;thread&quot;:&quot;http-nio-8080-exec-1&quot;,&quot;mdc&quot;:{&quot;tenantId&quot;:null},&quot;logger&quot;:&quot;org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/].[dispatcherServlet]&quot;,&quot;message&quot;:&quot;Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.web.reactive.function.client.WebClientRequestException: Connection refused: no further information: /127.0.0.1:12012; nested exception is io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: no further information: /127.0.0.1:12012] with root cause&quot;,&quot;context&quot;:&quot;default&quot;,&quot;exception&quot;:&quot;java.net.ConnectException: Connection refused: no further information\\r\\n\\tat java.base/sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)\\r\\n\\tat</p>\n</blockquote>\n<p>I am not sure where I need to change here so that it starts pointing to base URI instead of localhost (127.0.0.1:12012).\nAnother thing is if I pass the fully qualified name (<a href=\"https://test.com/api/v1/user/1\" rel=\"nofollow noreferrer\">https://test.com/api/v1/user/1</a>) on API call then it works fine.</p>\n"},{"tags":["java","android","broadcastreceiver","sms"],"comments":[{"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"score":0,"creation_date":1690157026,"post_id":76750720,"comment_id":135309870,"body_markdown":"Not unless you&#39;re the default SMS app.  Possibly not even then-  it would work for texts via the texting app, but might not work via programatically sending a text.","body":"Not unless you&#39;re the default SMS app.  Possibly not even then-  it would work for texts via the texting app, but might not work via programatically sending a text."}],"owner":{"account_id":29076731,"reputation":1,"user_id":22273694,"display_name":"crumbelivable"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690156250,"creation_date":1690156250,"question_id":76750720,"body_markdown":"I am a college student working on their capstone project and was wondering whether it was possible in recent versions of Android, specifically Android 13, to intercept and potentially block an SMS message before it is sent. If so, how would one implement something such as a BroadcastReceiver in order to detect such a thing and keep it from being sent? All the research I&#39;ve done so far leads me to the conclusion that it is not possible to detect an SMS message being sent on android, as no broadcast is made of such a thing happening, but all the sources I get on that claim are old StackOverflow messages from a decade ago or more. Can anyone confirm whether or not I am correct in my assumption, and if not, how would I go about implementing such a functionality?\r\n\r\n\r\nI have attempted to create a BroadcastReceiver method for detecting when a text message for a certain blocked number is sent, and everything appeared to be in order. However, nothing seemed to occur, even though the method was run through, and I could still send messages to the allegedly blocked number. I am not sure if it&#39;s even something that can be done on Android anymore, if it ever was, based on the aforementioned decade-old StackOverflow threads and the recent changes to the API. ","title":"Is it possible to detect and intercept an outgoing SMS message using a BroadcastReceiver in Android 13?","body":"<p>I am a college student working on their capstone project and was wondering whether it was possible in recent versions of Android, specifically Android 13, to intercept and potentially block an SMS message before it is sent. If so, how would one implement something such as a BroadcastReceiver in order to detect such a thing and keep it from being sent? All the research I've done so far leads me to the conclusion that it is not possible to detect an SMS message being sent on android, as no broadcast is made of such a thing happening, but all the sources I get on that claim are old StackOverflow messages from a decade ago or more. Can anyone confirm whether or not I am correct in my assumption, and if not, how would I go about implementing such a functionality?</p>\n<p>I have attempted to create a BroadcastReceiver method for detecting when a text message for a certain blocked number is sent, and everything appeared to be in order. However, nothing seemed to occur, even though the method was run through, and I could still send messages to the allegedly blocked number. I am not sure if it's even something that can be done on Android anymore, if it ever was, based on the aforementioned decade-old StackOverflow threads and the recent changes to the API.</p>\n"},{"tags":["java","spring","spring-webflux"],"comments":[{"owner":{"account_id":1424899,"reputation":4365,"user_id":1348691,"accept_rate":67,"display_name":"Tiina"},"score":1,"creation_date":1582035007,"post_id":54733280,"comment_id":106631881,"body_markdown":"I think this is a bug. It happens to `URI` and `String`","body":"I think this is a bug. It happens to <code>URI</code> and <code>String</code>"}],"answers":[{"tags":[],"owner":{"account_id":66241,"reputation":467,"user_id":1286611,"display_name":"Konstantin Pozhidaev"},"comment_count":0,"down_vote_count":0,"up_vote_count":16,"is_accepted":true,"score":16,"last_activity_date":1690155874,"creation_date":1550408191,"answer_id":54733477,"question_id":54733280,"body_markdown":"If you pass new `URI` object, you override base `URI`.\r\nYou should use `uri` method with lambda as a parameter, like in example:\r\n```java\r\nfinal WebClient webClient = WebClient.builder()\r\n                                     .baseUrl(&quot;http://localhost&quot;)\r\n                                     .build();\r\n\r\nwebClient.get()\r\n         .uri(uriBuilder -&gt; uriBuilder.pathSegment(&quot;api&quot;, &quot;v2&quot;, &quot;json&quot;, &quot;test&quot;).build())\r\n         .exchange();\r\n```","title":"How to keep baseUrl when using uri() in spring webflux","body":"<p>If you pass new <code>URI</code> object, you override base <code>URI</code>.\nYou should use <code>uri</code> method with lambda as a parameter, like in example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>final WebClient webClient = WebClient.builder()\n                                     .baseUrl(&quot;http://localhost&quot;)\n                                     .build();\n\nwebClient.get()\n         .uri(uriBuilder -&gt; uriBuilder.pathSegment(&quot;api&quot;, &quot;v2&quot;, &quot;json&quot;, &quot;test&quot;).build())\n         .exchange();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1537637,"reputation":933,"user_id":1433172,"accept_rate":0,"display_name":"Prosunjit Biswas"},"comment_count":0,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1690155987,"creation_date":1599597732,"answer_id":63801282,"question_id":54733280,"body_markdown":"A slightly different way - use **path** instead of **pathSegment** on existing uri object. It helps to maintain the path conveniently in configuration/constant form.\r\n\r\n    final WebClient webClient = WebClient.builder()\r\n                                         .baseUrl(&quot;http://localhost&quot;)\r\n                                         .build();\r\n\r\n    webClient.get()\r\n             .uri(uriBuilder -&gt; uriBuilder.path(&quot;api/v2/json/test&quot;).build())\r\n             .exchange();\r\n","title":"How to keep baseUrl when using uri() in spring webflux","body":"<p>A slightly different way - use <strong>path</strong> instead of <strong>pathSegment</strong> on existing uri object. It helps to maintain the path conveniently in configuration/constant form.</p>\n<pre><code>final WebClient webClient = WebClient.builder()\n                                     .baseUrl(&quot;http://localhost&quot;)\n                                     .build();\n\nwebClient.get()\n         .uri(uriBuilder -&gt; uriBuilder.path(&quot;api/v2/json/test&quot;).build())\n         .exchange();\n</code></pre>\n"},{"comments":[{"owner":{"account_id":543838,"reputation":2239,"user_id":913093,"accept_rate":43,"display_name":"denu"},"score":1,"creation_date":1666354136,"post_id":69982059,"comment_id":130922973,"body_markdown":"This actually solves the problem posted by OP. I don&#39;t want to use uriBuilder lambda as I have my URI provided from the caller. I&#39;d rather like to use .uri( URI ) which sounds like it&#39;s more elegant but if the WebClient is broken I can go with .uri ( URI.toString() ). Thanks!","body":"This actually solves the problem posted by OP. I don&#39;t want to use uriBuilder lambda as I have my URI provided from the caller. I&#39;d rather like to use .uri( URI ) which sounds like it&#39;s more elegant but if the WebClient is broken I can go with .uri ( URI.toString() ). Thanks!"}],"tags":[],"owner":{"account_id":8466597,"reputation":511,"user_id":6350583,"accept_rate":100,"display_name":"4javier"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1637018408,"creation_date":1637018408,"answer_id":69982059,"question_id":54733280,"body_markdown":"Once you setup a `UriBuilderFactory` like you do by `baseUrl(String uri)` call, the simplest way to add the needed branch is to use \r\n[uri(String uri,Object... uriVariables)][1] signature, without specifying the second parameter given that&#39;s declared as varargs then can be 0 length.\r\n\r\nIn your case it simply reduces to:\r\n```java\r\npublic WebClient webClient() {\r\n  return WebClient.builder()\r\n    .baseUrl(&quot;https://example.com&quot;)\r\n    .build();\r\n}\r\n\r\nwebClient.get().uri(&quot;/foo/bar&quot;)\r\n```\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/reactive/function/client/WebClient.UriSpec.html#uri-java.lang.String-java.util.function.Function-","title":"How to keep baseUrl when using uri() in spring webflux","body":"<p>Once you setup a <code>UriBuilderFactory</code> like you do by <code>baseUrl(String uri)</code> call, the simplest way to add the needed branch is to use\n<a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/reactive/function/client/WebClient.UriSpec.html#uri-java.lang.String-java.util.function.Function-\" rel=\"nofollow noreferrer\">uri(String uri,Object... uriVariables)</a> signature, without specifying the second parameter given that's declared as varargs then can be 0 length.</p>\n<p>In your case it simply reduces to:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public WebClient webClient() {\n  return WebClient.builder()\n    .baseUrl(&quot;https://example.com&quot;)\n    .build();\n}\n\nwebClient.get().uri(&quot;/foo/bar&quot;)\n</code></pre>\n"}],"owner":{"account_id":4963389,"reputation":72161,"user_id":3993662,"accept_rate":93,"display_name":"baao"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":18194,"favorite_count":0,"down_vote_count":0,"up_vote_count":20,"accepted_answer_id":54733477,"answer_count":3,"score":20,"last_activity_date":1690155987,"creation_date":1550406778,"question_id":54733280,"body_markdown":"Using `Spring Boot` 2.1.3.RELEASE: `WebClient` will stop using the provided `baseUrl` when passing an `URI` to `uri()` method. It will keep `baseUrl` when a string is passed to `uri()` though.\r\n\r\nHow can I provide a `baseUrl` and pass an `URI`?\r\n\r\n    public WebClient webClient() {\r\n      return WebClient.builder()\r\n        .baseUrl(&quot;https://example.com/&quot;)\r\n        .build();\r\n    }\r\n\r\nand\r\n\r\n    webClient.get().uri(URI.create(&quot;/foo/%23bar&quot;))... \r\n\r\nthrows \r\n\r\n    java.lang.IllegalArgumentException: URI is not absolute:\r\n\r\nand the request url becomes \r\n\r\n    request url: /foo/%23bar","title":"How to keep baseUrl when using uri() in spring webflux","body":"<p>Using <code>Spring Boot</code> 2.1.3.RELEASE: <code>WebClient</code> will stop using the provided <code>baseUrl</code> when passing an <code>URI</code> to <code>uri()</code> method. It will keep <code>baseUrl</code> when a string is passed to <code>uri()</code> though.</p>\n<p>How can I provide a <code>baseUrl</code> and pass an <code>URI</code>?</p>\n<pre><code>public WebClient webClient() {\n  return WebClient.builder()\n    .baseUrl(&quot;https://example.com/&quot;)\n    .build();\n}\n</code></pre>\n<p>and</p>\n<pre><code>webClient.get().uri(URI.create(&quot;/foo/%23bar&quot;))... \n</code></pre>\n<p>throws</p>\n<pre><code>java.lang.IllegalArgumentException: URI is not absolute:\n</code></pre>\n<p>and the request url becomes</p>\n<pre><code>request url: /foo/%23bar\n</code></pre>\n"},{"tags":["java","swing","mouseevent"],"comments":[{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":3,"creation_date":1690154683,"post_id":76750661,"comment_id":135309744,"body_markdown":"I&#39;m not sure I&#39;d use seperate panels for this, but, I wouldn&#39;t be adding a `MouseListener` to each one individually, instead, I&#39;d have a &quot;common&quot; (single instance) listener which could be added to all other them.  Having said that, we&#39;re going to need more context before we can really help you. Consider providing a [mcve]","body":"I&#39;m not sure I&#39;d use seperate panels for this, but, I wouldn&#39;t be adding a <code>MouseListener</code> to each one individually, instead, I&#39;d have a &quot;common&quot; (single instance) listener which could be added to all other them.  Having said that, we&#39;re going to need more context before we can really help you. Consider providing a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>"},{"owner":{"account_id":1324952,"reputation":5977,"user_id":1270000,"accept_rate":100,"display_name":"sorifiend"},"score":0,"creation_date":1690156293,"post_id":76750661,"comment_id":135309841,"body_markdown":"I agree with the above comment, or depending on your needs you could use a single [glass pane](https://docs.oracle.com/javase/tutorial/uiswing/components/rootpane.html) to manage events where you can just use the co-ordinates of each click to work out which panel in your array is being clicked.","body":"I agree with the above comment, or depending on your needs you could use a single <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/components/rootpane.html\" rel=\"nofollow noreferrer\">glass pane</a> to manage events where you can just use the co-ordinates of each click to work out which panel in your array is being clicked."},{"owner":{"account_id":27855828,"reputation":1,"user_id":21269332,"display_name":"aduvvuri007"},"score":0,"creation_date":1690156845,"post_id":76750661,"comment_id":135309863,"body_markdown":"@MadProgrammer Would I add the MouseListener to the gameboard JPanel or the panel JPanel?","body":"@MadProgrammer Would I add the MouseListener to the gameboard JPanel or the panel JPanel?"},{"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1690156896,"post_id":76750661,"comment_id":135309866,"body_markdown":"You don&#39;t need coordinates.  You can get the source of the event from via `MouseEvent.getSource()` and then cast it to access the panel instance.  Assuming the panels are subclassed, you can put identifying information in each one to know which panel received the event.","body":"You don&#39;t need coordinates.  You can get the source of the event from via <code>MouseEvent.getSource()</code> and then cast it to access the panel instance.  Assuming the panels are subclassed, you can put identifying information in each one to know which panel received the event."},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":2,"creation_date":1690157086,"post_id":76750661,"comment_id":135309877,"body_markdown":"@aduvvuri007 You would create a single instance of your mouse handler, and apply it to each instance of `Spot`, so all you &quot;spots&quot; would share the same instance of the `MouseHandler`, this lets you do some clever things, like track the last spot which was clicked","body":"@aduvvuri007 You would create a single instance of your mouse handler, and apply it to each instance of <code>Spot</code>, so all you &quot;spots&quot; would share the same instance of the <code>MouseHandler</code>, this lets you do some clever things, like track the last spot which was clicked"},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1690168172,"post_id":76750661,"comment_id":135310621,"body_markdown":"For [example](https://gist.github.com/RustyKnight/d5e3622392f9d02ddf72ff1e78513ac4)","body":"For <a href=\"https://gist.github.com/RustyKnight/d5e3622392f9d02ddf72ff1e78513ac4\" rel=\"nofollow noreferrer\">example</a>"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1690190836,"post_id":76750661,"comment_id":135313758,"body_markdown":"A &quot;Spot&quot; would normally be  a Square would it not? Notionally very simple. The component *name* attribute is the Hungarian notation location on the board and that can be got from the common listener","body":"A &quot;Spot&quot; would normally be  a Square would it not? Notionally very simple. The component <i>name</i> attribute is the Hungarian notation location on the board and that can be got from the common listener"},{"owner":{"account_id":1352170,"reputation":34246,"user_id":1291492,"accept_rate":100,"display_name":"ControlAltDel"},"score":0,"creation_date":1690211377,"post_id":76750661,"comment_id":135318238,"body_markdown":"Using MVC, you would start by creating a (non-graphical, non-swing) *model* for your chess game. Once that&#39;s working and tested, either implement javax.swing.TableModel on your model class, or create a new class that implements it and uses your game class. Then, use a JLayeredPane for dragging pieces.","body":"Using MVC, you would start by creating a (non-graphical, non-swing) <i>model</i> for your chess game. Once that&#39;s working and tested, either implement javax.swing.TableModel on your model class, or create a new class that implements it and uses your game class. Then, use a JLayeredPane for dragging pieces."},{"owner":{"account_id":27855828,"reputation":1,"user_id":21269332,"display_name":"aduvvuri007"},"score":0,"creation_date":1690315528,"post_id":76750661,"comment_id":135335732,"body_markdown":"@MadProgrammer I tried what you suggested and it ended up working! Thank you!","body":"@MadProgrammer I tried what you suggested and it ended up working! Thank you!"}],"owner":{"account_id":27855828,"reputation":1,"user_id":21269332,"display_name":"aduvvuri007"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690155461,"creation_date":1690154188,"question_id":76750661,"body_markdown":"I am making a Chess program and I am at the point where I am trying to get a single Spot (extended from JPanel) within a 2D array of Spots (named &quot;board&quot;) to change its background color when I press my mouse over that Spot. I have assigned a MouseListener to each individual Spot but it does not seem to do anything. Please let me know what I can do to fix this problem.\r\n\r\nThe way it works is that the current class is a JFrame class with a panel (called &quot;panel&quot; in the code) inside of it that encompasses 2 JPanels, a &quot;gameboard&quot; and the timers (which is &quot;Players&quot;). The gameboard encompasses the actual 2D array of Spots. Below is a relevant code snippet from my code.\r\n\r\n```\r\nfor(int i = 0; i &lt; board.length; i++){\r\n            for (int j = 0; j &lt; board[0].length; j++){\r\n                board[i][j] = new Spot(new GridLayout(1, 1), i, j, piece);\r\n            }\r\n        }\r\n\r\n        for (int i = 0; i &lt; board.length; i++){\r\n            for (int j = 0; j &lt; board[0].length; j++){\r\n                gameboard.add(board[i][j]);\r\n            }\r\n        }\r\n\r\n        for(int i = 0; i &lt; board.length; i++){\r\n            for (int j = 0; j &lt; board[0].length; j++){\r\n                board[i][j].addMouseListener(new MouseAdapter() {\r\n                    public void MousePressed(MouseEvent e) {\r\n                        Spot spot = (Spot)e.getSource();\r\n                        spot.setBackground(new Color(195, 208, 227)); \r\n                    }\r\n                });\r\n            }\r\n        }\r\n\r\n        \r\n        Players players = new Players();\r\n\r\n        panel.add(gameboard);\r\n        panel.setBorder(new EmptyBorder(0, 0, 0, 200));\r\n        panel.add(players, BorderLayout.EAST);\r\n        this.add(panel);\r\n```\r\nPlease let me know if you need any more information. ","title":"How do I add a MouseListener to a 2D array of JPanels?","body":"<p>I am making a Chess program and I am at the point where I am trying to get a single Spot (extended from JPanel) within a 2D array of Spots (named &quot;board&quot;) to change its background color when I press my mouse over that Spot. I have assigned a MouseListener to each individual Spot but it does not seem to do anything. Please let me know what I can do to fix this problem.</p>\n<p>The way it works is that the current class is a JFrame class with a panel (called &quot;panel&quot; in the code) inside of it that encompasses 2 JPanels, a &quot;gameboard&quot; and the timers (which is &quot;Players&quot;). The gameboard encompasses the actual 2D array of Spots. Below is a relevant code snippet from my code.</p>\n<pre><code>for(int i = 0; i &lt; board.length; i++){\n            for (int j = 0; j &lt; board[0].length; j++){\n                board[i][j] = new Spot(new GridLayout(1, 1), i, j, piece);\n            }\n        }\n\n        for (int i = 0; i &lt; board.length; i++){\n            for (int j = 0; j &lt; board[0].length; j++){\n                gameboard.add(board[i][j]);\n            }\n        }\n\n        for(int i = 0; i &lt; board.length; i++){\n            for (int j = 0; j &lt; board[0].length; j++){\n                board[i][j].addMouseListener(new MouseAdapter() {\n                    public void MousePressed(MouseEvent e) {\n                        Spot spot = (Spot)e.getSource();\n                        spot.setBackground(new Color(195, 208, 227)); \n                    }\n                });\n            }\n        }\n\n        \n        Players players = new Players();\n\n        panel.add(gameboard);\n        panel.setBorder(new EmptyBorder(0, 0, 0, 200));\n        panel.add(players, BorderLayout.EAST);\n        this.add(panel);\n</code></pre>\n<p>Please let me know if you need any more information.</p>\n"},{"tags":["java","httpclient"],"answers":[{"tags":[],"owner":{"account_id":5686961,"reputation":631,"user_id":4496194,"accept_rate":75,"display_name":"taranion"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1671826327,"creation_date":1671826327,"answer_id":74903645,"question_id":73264239,"body_markdown":"Digest authentication is not supported directly by the new HttpClient - see here: https://bugs.openjdk.org/browse/JDK-8285888\r\n\r\nYou are expected to handle the authentication process yourself, it seems.","title":"Digest Authentication java.net.http.HttpClient","body":"<p>Digest authentication is not supported directly by the new HttpClient - see here: <a href=\"https://bugs.openjdk.org/browse/JDK-8285888\" rel=\"nofollow noreferrer\">https://bugs.openjdk.org/browse/JDK-8285888</a></p>\n<p>You are expected to handle the authentication process yourself, it seems.</p>\n"},{"tags":[],"owner":{"account_id":2368629,"reputation":1042,"user_id":2073804,"display_name":"ron190"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1690153923,"creation_date":1690153923,"answer_id":76750652,"question_id":73264239,"body_markdown":"You have to implement the handshake algorithm, and I advise to use `curl` to validate the process first.\r\n\r\nI did the implementation following this algorithm:\r\n\r\n 1. Call the Digest endpoint: response is 401 with header `www-authenticate`\r\n 3. Get params `realm`, `qop` and `nonce` from header `www-authenticate`\r\n 4. Build `HA1`, `HA2`, `response` and digest header `Authorization`\r\n 5. Call endpoint a second time with the header `Authorization`\r\n 6. Response should be 200 OK\r\n\r\nDigest implementation validated with Spring: https://github.com/ron190/jsql-injection/blob/master/model/src/main/java/com/jsql/util/DigestUtil.java\r\n\r\nInspired by following resources:\r\n\r\n - https://en.wikipedia.org/wiki/Digest_access_authentication\r\n - https://gist.github.com/usamadar/2912088","title":"Digest Authentication java.net.http.HttpClient","body":"<p>You have to implement the handshake algorithm, and I advise to use <code>curl</code> to validate the process first.</p>\n<p>I did the implementation following this algorithm:</p>\n<ol>\n<li>Call the Digest endpoint: response is 401 with header <code>www-authenticate</code></li>\n<li>Get params <code>realm</code>, <code>qop</code> and <code>nonce</code> from header <code>www-authenticate</code></li>\n<li>Build <code>HA1</code>, <code>HA2</code>, <code>response</code> and digest header <code>Authorization</code></li>\n<li>Call endpoint a second time with the header <code>Authorization</code></li>\n<li>Response should be 200 OK</li>\n</ol>\n<p>Digest implementation validated with Spring: <a href=\"https://github.com/ron190/jsql-injection/blob/master/model/src/main/java/com/jsql/util/DigestUtil.java\" rel=\"nofollow noreferrer\">https://github.com/ron190/jsql-injection/blob/master/model/src/main/java/com/jsql/util/DigestUtil.java</a></p>\n<p>Inspired by following resources:</p>\n<ul>\n<li><a href=\"https://en.wikipedia.org/wiki/Digest_access_authentication\" rel=\"nofollow noreferrer\">https://en.wikipedia.org/wiki/Digest_access_authentication</a></li>\n<li><a href=\"https://gist.github.com/usamadar/2912088\" rel=\"nofollow noreferrer\">https://gist.github.com/usamadar/2912088</a></li>\n</ul>\n"}],"owner":{"account_id":25997634,"reputation":51,"user_id":19708712,"display_name":"Dontea"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":856,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":2,"score":5,"last_activity_date":1690153923,"creation_date":1659834069,"question_id":73264239,"body_markdown":"I&#39;m trying to connect to a website protected with digest authentication.\r\nMy credentials work fine if I try to log in via Insomnia or Firefox but I fail to get it to work in Java 17 (Insomnia&#39;s automatically generated Code also doesn&#39;t work).\r\n\r\nI tried to follow and understand the following tutorials/docs:\r\n\r\nhttps://www.baeldung.com/java-9-http-client\r\n\r\nhttps://docs.oracle.com/javase/7/docs/technotes/guides/net/http-auth.html\r\n\r\nBoth mention that Digest is supported, as far as I understand.\r\n\r\nThe result I get is always status code 401 &amp; the expected header when digest auth fails:\r\n\r\n&gt;www-authenticate=[Digest realm=&quot;api-realm&quot;, qop=&quot;auth&quot;, nonce=&quot;NONCE==&quot;\r\n\r\n\r\nHere is the current code. The method *getPasswordAuthentication* doesn&#39;t get executed:\r\n\r\n    public void checkIsAPIRunning() {\r\n\r\n\t\tHttpRequest request = HttpRequest.newBuilder()\r\n\t\t\t\t.uri(URI.create(&quot;https://the-site-I-try-to-connect-with:443/api/function&quot;))\r\n\t\t\t\t.method(&quot;GET&quot;, HttpRequest.BodyPublishers.noBody()).build();\r\n\t\tHttpResponse&lt;String&gt; response = null;\r\n\t\ttry {\r\n\t\t\tresponse = HttpClient.newBuilder().authenticator(new Authenticator() {\r\n\t\t\t\t@Override\r\n\t\t\t\tprotected PasswordAuthentication getPasswordAuthentication() {\r\n\t\t\t\t\treturn new PasswordAuthentication(&quot;user&quot;, &quot;pass&quot;.toCharArray());\r\n\t\t\t\t}\r\n\t\t\t}).build().send(request, BodyHandlers.ofString());\t\t\t\r\n\t\t} catch (IOException e) {\r\n\t\t\t// TODO Auto-generated catch block\r\n\t\t\te.printStackTrace();\r\n\t\t} catch (InterruptedException e) {\r\n\t\t\t// TODO Auto-generated catch block\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\r\n\t}\r\n\r\nAm I misunderstanding the docs? I&#39;d appreciate any help or pointers :)","title":"Digest Authentication java.net.http.HttpClient","body":"<p>I'm trying to connect to a website protected with digest authentication.\nMy credentials work fine if I try to log in via Insomnia or Firefox but I fail to get it to work in Java 17 (Insomnia's automatically generated Code also doesn't work).</p>\n<p>I tried to follow and understand the following tutorials/docs:</p>\n<p><a href=\"https://www.baeldung.com/java-9-http-client\" rel=\"noreferrer\">https://www.baeldung.com/java-9-http-client</a></p>\n<p><a href=\"https://docs.oracle.com/javase/7/docs/technotes/guides/net/http-auth.html\" rel=\"noreferrer\">https://docs.oracle.com/javase/7/docs/technotes/guides/net/http-auth.html</a></p>\n<p>Both mention that Digest is supported, as far as I understand.</p>\n<p>The result I get is always status code 401 &amp; the expected header when digest auth fails:</p>\n<blockquote>\n<p>www-authenticate=[Digest realm=&quot;api-realm&quot;, qop=&quot;auth&quot;, nonce=&quot;NONCE==&quot;</p>\n</blockquote>\n<p>Here is the current code. The method <em>getPasswordAuthentication</em> doesn't get executed:</p>\n<pre><code>public void checkIsAPIRunning() {\n\n    HttpRequest request = HttpRequest.newBuilder()\n            .uri(URI.create(&quot;https://the-site-I-try-to-connect-with:443/api/function&quot;))\n            .method(&quot;GET&quot;, HttpRequest.BodyPublishers.noBody()).build();\n    HttpResponse&lt;String&gt; response = null;\n    try {\n        response = HttpClient.newBuilder().authenticator(new Authenticator() {\n            @Override\n            protected PasswordAuthentication getPasswordAuthentication() {\n                return new PasswordAuthentication(&quot;user&quot;, &quot;pass&quot;.toCharArray());\n            }\n        }).build().send(request, BodyHandlers.ofString());          \n    } catch (IOException e) {\n        // TODO Auto-generated catch block\n        e.printStackTrace();\n    } catch (InterruptedException e) {\n        // TODO Auto-generated catch block\n        e.printStackTrace();\n    }\n\n}\n</code></pre>\n<p>Am I misunderstanding the docs? I'd appreciate any help or pointers :)</p>\n"},{"tags":["java","android","colors","searchview","android-theme"],"owner":{"account_id":12277358,"reputation":1,"user_id":8960405,"display_name":"Firex"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690152958,"creation_date":1690152580,"question_id":76750601,"body_markdown":"I&#39;d appreciate your assistance in changing the appearance of the text selection handles, which are the bubbles that appear when highlighting text. Currently, these bubbles seem to replicate the background color in some way, and I&#39;m looking for guidance on how to modify their color.\r\n\r\nIssue:\r\n[Image](https://i.stack.imgur.com/ideNh.jpg)\r\n\r\nSomethings I tried:\r\n\r\n    &lt;item name=&quot;android:textSelectHandle&quot;&gt;@style/CustomTextSelectHandle&lt;/item&gt; \r\nto theme and the following as a style:\r\n\r\n    &lt;style name=&quot;CustomTextSelectHandle&quot;&gt;\r\n        &lt;item name=&quot;android:colorControlActivated&quot;&gt;@color/primary&lt;/item&gt;&lt;/style&gt;\r\n\r\n\r\n\r\n\r\n\r\nAdditionally, I have a SearchView in my Android Studio project, and I&#39;d like to change both the text color and the hint color of the SearchView. I attempted a solution from a Stack Overflow post (https://stackoverflow.com/questions/17791388/changing-action-bar-searchview-hint-text-color), but it didn&#39;t work for me, or I might have implemented it incorrectly, particularly for changing the hint color of the SearchView. I&#39;d appreciate your help in achieving this customization. Thank you for your support, and let me know if you require further information.\r\nI assume that this is something to do with the themes file. This is my themes file with some stuff extracted:\r\n\r\n```\r\n&lt;resources xmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;\r\n    &lt;style name=&quot;Base.Theme.GameOn&quot; parent=&quot;Theme.Material3.DayNight.NoActionBar&quot;&gt;\r\n        &lt;item name=&quot;colorPrimary&quot;&gt;@color/primary&lt;/item&gt;\r\n        &lt;item name=&quot;colorPrimaryDark&quot;&gt;@color/primary&lt;/item&gt;\r\n        &lt;item name=&quot;colorAccent&quot;&gt;@color/primary&lt;/item&gt;\r\n        &lt;item name=&quot;android:statusBarColor&quot; tools:targetApi=&quot;1&quot;&gt;@color/background&lt;/item&gt;\r\n    &lt;/style&gt;\r\n\r\n    &lt;style name=&quot;Theme.GameOn&quot; parent=&quot;Base.Theme.GameOn&quot; /&gt;\r\n&lt;/resources&gt;```\r\n\r\n","title":"How do I change the colour of the text select handles that appear when I&#39;m highlighting text? (Android Studio Java)","body":"<p>I'd appreciate your assistance in changing the appearance of the text selection handles, which are the bubbles that appear when highlighting text. Currently, these bubbles seem to replicate the background color in some way, and I'm looking for guidance on how to modify their color.</p>\n<p>Issue:\n<a href=\"https://i.stack.imgur.com/ideNh.jpg\" rel=\"nofollow noreferrer\">Image</a></p>\n<p>Somethings I tried:</p>\n<pre><code>&lt;item name=&quot;android:textSelectHandle&quot;&gt;@style/CustomTextSelectHandle&lt;/item&gt; \n</code></pre>\n<p>to theme and the following as a style:</p>\n<pre><code>&lt;style name=&quot;CustomTextSelectHandle&quot;&gt;\n    &lt;item name=&quot;android:colorControlActivated&quot;&gt;@color/primary&lt;/item&gt;&lt;/style&gt;\n</code></pre>\n<p>Additionally, I have a SearchView in my Android Studio project, and I'd like to change both the text color and the hint color of the SearchView. I attempted a solution from a Stack Overflow post (<a href=\"https://stackoverflow.com/questions/17791388/changing-action-bar-searchview-hint-text-color\">Changing action bar searchview hint text color</a>), but it didn't work for me, or I might have implemented it incorrectly, particularly for changing the hint color of the SearchView. I'd appreciate your help in achieving this customization. Thank you for your support, and let me know if you require further information.\nI assume that this is something to do with the themes file. This is my themes file with some stuff extracted:</p>\n<pre><code>&lt;resources xmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;\n    &lt;style name=&quot;Base.Theme.GameOn&quot; parent=&quot;Theme.Material3.DayNight.NoActionBar&quot;&gt;\n        &lt;item name=&quot;colorPrimary&quot;&gt;@color/primary&lt;/item&gt;\n        &lt;item name=&quot;colorPrimaryDark&quot;&gt;@color/primary&lt;/item&gt;\n        &lt;item name=&quot;colorAccent&quot;&gt;@color/primary&lt;/item&gt;\n        &lt;item name=&quot;android:statusBarColor&quot; tools:targetApi=&quot;1&quot;&gt;@color/background&lt;/item&gt;\n    &lt;/style&gt;\n\n    &lt;style name=&quot;Theme.GameOn&quot; parent=&quot;Base.Theme.GameOn&quot; /&gt;\n&lt;/resources&gt;```\n\n</code></pre>\n"},{"tags":["java","spring-data-jpa","dynamicquery"],"answers":[{"tags":[],"owner":{"account_id":8628424,"reputation":91,"user_id":6460906,"display_name":"Dmitrii Podlesnykh"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690146632,"creation_date":1690146632,"answer_id":76750341,"question_id":76750012,"body_markdown":"Option 1 - Workaround: You can use EntityManager:\r\n--------------------------------------------------------------------\r\n\r\n    static final String QUERY = &quot;SELECT (%s),E,F,G,H FROM TABLEname where id=:id&quot;;        \r\n    \r\n    @Autowired\r\n    EntityManager entityManager;\r\n    \r\n    Query createQuery(String dynamicColName, String id) {\r\n        String sql = String.format(QUERY, dynamicColName);\r\n        Query query = entityManager.createNativeQuery(sql, YourTableEntityName.class);\r\n    \tquery .setParameter(&quot;id&quot;, id);\r\n    \treturn query;\r\n    }\r\n    \r\n    public List&lt;YourTableEntityName&gt; findById(String dynamicColName, String id) {\r\n        Query q = createQuery(dynamicColName, id);\r\n    \treturn q.getResultList();\t\r\n    }\r\n\r\n\r\nOption 2 - CASE block: add a condition inside the SELECT query part:\r\n--------------------------------------------------------------------\r\n\r\n    SELECT\r\n     CASE \r\n    \tWHEN (t.id &gt;= 1000) THEN colunm1 \r\n    \tWHEN (e.id &lt; 1000) THEN colunm2 \r\n    \tELSE colunm3 END,\r\n     E,F,G,H\r\n    FROM TABLEname t\r\n    WHERE id=:id\r\n\r\n\r\nThe solution will looks like this:\r\n\r\n    @Query(&quot;SELECT CASE WHEN (t.id &gt;= 1000) THEN dynamicColName1 WHEN (e.id &lt; 1000) THEN dynamicColName2 ELSE dynamicColName3  END, E,F,G,H FROM TABLEname t WHERE id=:id &quot;) \r\n    List findById(@Param(&quot;id&quot;)String id );\r\n\r\n\r\n[Reference Wikipedia article: New in JPA 2.0 ][1]\r\n\r\nOption 3 - JPA Criteria API\r\n-------------------\r\n\r\n\r\n    EntityManager em = ... ; \r\n    CriteriaBuilder queryBuilder = em.getCriteriaBuilder();\r\n    CriteriaQuery qdef = queryBuilder.createQuery();\r\n    \r\n    if (someCondition1) {\r\n        //select columnA\r\n        qdef.select(customer.get(TableEntity_.columnA));\r\n    } else if (someCondition2) {\r\n        //select columnB\r\n        qdef.select(customer.get(TableEntity_.columnB));\r\n    }\r\n    // where condition with ID check.\r\n\r\n\r\n[ OpenJPA:  Chapter 11. JPA Criteria][2]\r\n\r\n\r\n[Bueldung: JPA Criteria Queries][3]\r\n\r\n\r\n  [1]: https://en.wikibooks.org/wiki/Java_Persistence/JPQL_BNF#New_in_JPA_2.0\r\n  [2]: https://openjpa.apache.org/builds/2.2.2/apache-openjpa/docs/jpa_overview_criteria.html#:~:text=The%20select()%20method%20defines,qdef.\r\n  [3]: https://www.baeldung.com/hibernate-criteria-queries\r\n","title":"Dynamically selecting table column","body":"<h2>Option 1 - Workaround: You can use EntityManager:</h2>\n<pre><code>static final String QUERY = &quot;SELECT (%s),E,F,G,H FROM TABLEname where id=:id&quot;;        \n\n@Autowired\nEntityManager entityManager;\n\nQuery createQuery(String dynamicColName, String id) {\n    String sql = String.format(QUERY, dynamicColName);\n    Query query = entityManager.createNativeQuery(sql, YourTableEntityName.class);\n    query .setParameter(&quot;id&quot;, id);\n    return query;\n}\n\npublic List&lt;YourTableEntityName&gt; findById(String dynamicColName, String id) {\n    Query q = createQuery(dynamicColName, id);\n    return q.getResultList();   \n}\n</code></pre>\n<h2>Option 2 - CASE block: add a condition inside the SELECT query part:</h2>\n<pre><code>SELECT\n CASE \n    WHEN (t.id &gt;= 1000) THEN colunm1 \n    WHEN (e.id &lt; 1000) THEN colunm2 \n    ELSE colunm3 END,\n E,F,G,H\nFROM TABLEname t\nWHERE id=:id\n</code></pre>\n<p>The solution will looks like this:</p>\n<pre><code>@Query(&quot;SELECT CASE WHEN (t.id &gt;= 1000) THEN dynamicColName1 WHEN (e.id &lt; 1000) THEN dynamicColName2 ELSE dynamicColName3  END, E,F,G,H FROM TABLEname t WHERE id=:id &quot;) \nList findById(@Param(&quot;id&quot;)String id );\n</code></pre>\n<p><a href=\"https://en.wikibooks.org/wiki/Java_Persistence/JPQL_BNF#New_in_JPA_2.0\" rel=\"nofollow noreferrer\">Reference Wikipedia article: New in JPA 2.0 </a></p>\n<h2>Option 3 - JPA Criteria API</h2>\n<pre><code>EntityManager em = ... ; \nCriteriaBuilder queryBuilder = em.getCriteriaBuilder();\nCriteriaQuery qdef = queryBuilder.createQuery();\n\nif (someCondition1) {\n    //select columnA\n    qdef.select(customer.get(TableEntity_.columnA));\n} else if (someCondition2) {\n    //select columnB\n    qdef.select(customer.get(TableEntity_.columnB));\n}\n// where condition with ID check.\n</code></pre>\n<p><a href=\"https://openjpa.apache.org/builds/2.2.2/apache-openjpa/docs/jpa_overview_criteria.html#:%7E:text=The%20select()%20method%20defines,qdef.\" rel=\"nofollow noreferrer\"> OpenJPA:  Chapter 11. JPA Criteria</a></p>\n<p><a href=\"https://www.baeldung.com/hibernate-criteria-queries\" rel=\"nofollow noreferrer\">Bueldung: JPA Criteria Queries</a></p>\n"},{"tags":[],"owner":{"account_id":28758112,"reputation":401,"user_id":22024689,"display_name":"Iman Hosseinzadeh"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1690152561,"creation_date":1690152561,"answer_id":76750600,"question_id":76750012,"body_markdown":"One of the easiest ways to implement dynamic queries is to use the **Spring Data JPA Specification**\r\n\r\nThe result will be something like this, you can choose the parameter you want to query with it.\r\n\r\n    List&lt;PostComment&gt; comments = postCommentRepository.findAll(\r\n        orderByCreatedOn(\r\n            byPost(post)\r\n                .and(byStatus(PostComment.Status.PENDING))\r\n                .and(byReviewLike(reviewPattern))\r\n                .and(byVotesGreaterThanEqual(minVotes))\r\n        )\r\n    );\r\n\r\n\r\nmore information:\r\nhttps://vladmihalcea.com/spring-data-jpa-specification/","title":"Dynamically selecting table column","body":"<p>One of the easiest ways to implement dynamic queries is to use the <strong>Spring Data JPA Specification</strong></p>\n<p>The result will be something like this, you can choose the parameter you want to query with it.</p>\n<pre><code>List&lt;PostComment&gt; comments = postCommentRepository.findAll(\n    orderByCreatedOn(\n        byPost(post)\n            .and(byStatus(PostComment.Status.PENDING))\n            .and(byReviewLike(reviewPattern))\n            .and(byVotesGreaterThanEqual(minVotes))\n    )\n);\n</code></pre>\n<p>more information:\n<a href=\"https://vladmihalcea.com/spring-data-jpa-specification/\" rel=\"nofollow noreferrer\">https://vladmihalcea.com/spring-data-jpa-specification/</a></p>\n"}],"owner":{"account_id":29075992,"reputation":11,"user_id":22273138,"display_name":"SAMADHAN SHEJUL"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1690152561,"creation_date":1690141044,"question_id":76750012,"body_markdown":"I&#39;m using JAVA JPA in spring boot. The scenario is my table is having around 8 columns (suppose id, A,B,C,D,E,F,G,H)\r\nfrom these I want 5 column as result E,F,G,H **and only one from A,B,C,D which will be not fixed for every execution**. \r\n\r\nI have written like this.\r\n\r\n@Query(&quot;Select :dynamicColName ,E,F,G,H FROM TABLEname where id= :id &quot;)\r\nList&lt;EntityProjection&gt; findById(@Param(&quot;dynamicColName&quot;)String dynamicColName, @Param(&quot;id&quot;)String id );\r\n\r\nIt&#39;s not working. \r\nHere query isn&#39;t refering value of :dynamicColName as column name here.\r\n\r\nSuggestion are highly appreciated.\r\n\r\nDynamic column name injection in query ","title":"Dynamically selecting table column","body":"<p>I'm using JAVA JPA in spring boot. The scenario is my table is having around 8 columns (suppose id, A,B,C,D,E,F,G,H)\nfrom these I want 5 column as result E,F,G,H <strong>and only one from A,B,C,D which will be not fixed for every execution</strong>.</p>\n<p>I have written like this.</p>\n<p>@Query(&quot;Select :dynamicColName ,E,F,G,H FROM TABLEname where id= :id &quot;)\nList findById(@Param(&quot;dynamicColName&quot;)String dynamicColName, @Param(&quot;id&quot;)String id );</p>\n<p>It's not working.\nHere query isn't refering value of :dynamicColName as column name here.</p>\n<p>Suggestion are highly appreciated.</p>\n<p>Dynamic column name injection in query</p>\n"},{"tags":["java","spring","spring-boot","spring-data-jpa"],"answers":[{"tags":[],"owner":{"account_id":15252247,"reputation":227,"user_id":11005237,"display_name":"Sy3d"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690152367,"creation_date":1690152367,"answer_id":76750592,"question_id":76750557,"body_markdown":"It&#39;s because the `JpaRepository` interface expects the first generic parameter to be an Entity. An Entity is an object that can be persisted in a database. Mark your `Country` class with `@Entity` &amp; that should resolve the exception.\r\n\r\nAlso you should name your field variables following camelCase - java convention. `country_name` should be `countryName`.","title":"SpringBoot error org.springframework.beans.factory.UnsatisfiedDependencyException","body":"<p>It's because the <code>JpaRepository</code> interface expects the first generic parameter to be an Entity. An Entity is an object that can be persisted in a database. Mark your <code>Country</code> class with <code>@Entity</code> &amp; that should resolve the exception.</p>\n<p>Also you should name your field variables following camelCase - java convention. <code>country_name</code> should be <code>countryName</code>.</p>\n"}],"owner":{"account_id":21054824,"reputation":11,"user_id":15474342,"display_name":"archercomprehensive"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1690152367,"creation_date":1690151348,"question_id":76750557,"body_markdown":"I am very new to SpringBoot and I am getting error while trying to implement a JPArepository class.The error I am getting is org.springframework.beans.factory.UnsatisfiedDependencyException:  Error creating bean with name &#39;requestMappingHandleradapter&#39; defined in class path resource.\r\n\r\nThis is my CountryRepository class that extends the JPArepository. So far I have written any code inside the class.\r\n\r\n```\r\npackage com.example.demo.DAO;\r\nimport com.example.demo.Entities.Country;\r\nimport org.springframework.data.jpa.repository.JpaRepository;\r\n\r\npublic interface CountryRepository extends JpaRepository&lt;Country, Long&gt; {    }\r\n```\r\n\r\nThis is my Country entity class:\r\n\r\n```\r\npackage com.example.demo.Entities;\r\nimport java.util.Date;\r\nimport java.util.Set;\r\nimport lombok.Data;\r\n\r\n@Data\r\npublic class Country {   \r\n     \r\nprivate Long id;    \r\nprivate String country_name;    \r\nprivate Date create_date;    \r\nprivate Date last_update;    \r\nprivate Set&lt;Division&gt; divisions;    \r\npublic Country() {}\r\n\r\n}\r\n\r\n\r\n```\r\n\r\nThis is the class that runs the SpringBoot application\r\n\r\n\r\n```\r\npackage com.example.demo;\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\n\r\n@SpringBootApplication\r\npublic class DemoApplication {    \r\npublic static void main(String[] args) {        \r\n    SpringApplication.run(DemoApplication.class, args);    \r\n }\r\n}\r\n```\r\n\r\nThis is the dependencies form the pom.xml\r\n\r\n\r\n```\r\n&lt;dependencies&gt;        \r\n    &lt;dependency&gt;            \r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;            \r\n        &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;        \r\n    &lt;/dependency&gt;        \r\n\r\n    &lt;dependency&gt;            \r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;            \r\n        &lt;artifactId&gt;spring-boot-starter-data-rest&lt;/artifactId&gt;        \r\n    &lt;/dependency&gt;        \r\n    \r\n     &lt;dependency&gt;            \r\n        &lt;groupId&gt;com.mysql&lt;/groupId&gt;           \r\n        &lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;            \r\n        &lt;scope&gt;runtime&lt;/scope&gt;        \r\n     &lt;/dependency&gt;        \r\n    \r\n     &lt;dependency&gt;            \r\n        &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;            \r\n        &lt;artifactId&gt;lombok&lt;/artifactId&gt;           \r\n        &lt;optional&gt;true&lt;/optional&gt;        \r\n     &lt;/dependency&gt;        \r\n\r\n     &lt;dependency&gt;           \r\n         &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;            \r\n         &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;            \r\n         &lt;scope&gt;test&lt;/scope&gt;        \r\n     &lt;/dependency&gt;    \r\n&lt;/dependencies&gt;\r\n```\r\n\r\nI also have this config class \r\n\r\n\r\n```\r\npackage com.example.demo.Config;\r\nimport com.example.demo.Entities.*;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.data.rest.core.config.RepositoryRestConfiguration;\r\nimport org.springframework.data.rest.webmvc.config.RepositoryRestConfigurer;\r\nimport org.springframework.web.servlet.config.annotation.CorsRegistry;\r\n\r\n@Configurationpublic \r\npublic class RestDataConfig implements RepositoryRestConfigurer {\r\n    @Override    \r\n    public void configureRepositoryRestConfiguration(RepositoryRestConfiguration config, CorsRegistry cors) {        \r\n         config.exposeIdsFor(Country.class);        \r\n         config.exposeIdsFor(Customer.class);        \r\n         config.exposeIdsFor(Division.class);        \r\n         config.exposeIdsFor(Excursion.class);        \r\n         config.exposeIdsFor(Vacation.class);        \r\n         config.setDefaultPageSize(Integer.MAX_VALUE);                      \r\n         config.setMaxPageSize(Integer.MAX_VALUE);   \r\n }\r\n}\r\n```\r\n\r\n\r\n\r\n\r\nI&#39;ve looked around but haven&#39;t found any help that satisfies my application. Everything works up until I add the CountryRepository class.\r\nAny help is appreciated.","title":"SpringBoot error org.springframework.beans.factory.UnsatisfiedDependencyException","body":"<p>I am very new to SpringBoot and I am getting error while trying to implement a JPArepository class.The error I am getting is org.springframework.beans.factory.UnsatisfiedDependencyException:  Error creating bean with name 'requestMappingHandleradapter' defined in class path resource.</p>\n<p>This is my CountryRepository class that extends the JPArepository. So far I have written any code inside the class.</p>\n<pre><code>package com.example.demo.DAO;\nimport com.example.demo.Entities.Country;\nimport org.springframework.data.jpa.repository.JpaRepository;\n\npublic interface CountryRepository extends JpaRepository&lt;Country, Long&gt; {    }\n</code></pre>\n<p>This is my Country entity class:</p>\n<pre><code>package com.example.demo.Entities;\nimport java.util.Date;\nimport java.util.Set;\nimport lombok.Data;\n\n@Data\npublic class Country {   \n     \nprivate Long id;    \nprivate String country_name;    \nprivate Date create_date;    \nprivate Date last_update;    \nprivate Set&lt;Division&gt; divisions;    \npublic Country() {}\n\n}\n\n\n</code></pre>\n<p>This is the class that runs the SpringBoot application</p>\n<pre><code>package com.example.demo;\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\n\n@SpringBootApplication\npublic class DemoApplication {    \npublic static void main(String[] args) {        \n    SpringApplication.run(DemoApplication.class, args);    \n }\n}\n</code></pre>\n<p>This is the dependencies form the pom.xml</p>\n<pre><code>&lt;dependencies&gt;        \n    &lt;dependency&gt;            \n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;            \n        &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;        \n    &lt;/dependency&gt;        \n\n    &lt;dependency&gt;            \n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;            \n        &lt;artifactId&gt;spring-boot-starter-data-rest&lt;/artifactId&gt;        \n    &lt;/dependency&gt;        \n    \n     &lt;dependency&gt;            \n        &lt;groupId&gt;com.mysql&lt;/groupId&gt;           \n        &lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;            \n        &lt;scope&gt;runtime&lt;/scope&gt;        \n     &lt;/dependency&gt;        \n    \n     &lt;dependency&gt;            \n        &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;            \n        &lt;artifactId&gt;lombok&lt;/artifactId&gt;           \n        &lt;optional&gt;true&lt;/optional&gt;        \n     &lt;/dependency&gt;        \n\n     &lt;dependency&gt;           \n         &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;            \n         &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;            \n         &lt;scope&gt;test&lt;/scope&gt;        \n     &lt;/dependency&gt;    \n&lt;/dependencies&gt;\n</code></pre>\n<p>I also have this config class</p>\n<pre><code>package com.example.demo.Config;\nimport com.example.demo.Entities.*;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.data.rest.core.config.RepositoryRestConfiguration;\nimport org.springframework.data.rest.webmvc.config.RepositoryRestConfigurer;\nimport org.springframework.web.servlet.config.annotation.CorsRegistry;\n\n@Configurationpublic \npublic class RestDataConfig implements RepositoryRestConfigurer {\n    @Override    \n    public void configureRepositoryRestConfiguration(RepositoryRestConfiguration config, CorsRegistry cors) {        \n         config.exposeIdsFor(Country.class);        \n         config.exposeIdsFor(Customer.class);        \n         config.exposeIdsFor(Division.class);        \n         config.exposeIdsFor(Excursion.class);        \n         config.exposeIdsFor(Vacation.class);        \n         config.setDefaultPageSize(Integer.MAX_VALUE);                      \n         config.setMaxPageSize(Integer.MAX_VALUE);   \n }\n}\n</code></pre>\n<p>I've looked around but haven't found any help that satisfies my application. Everything works up until I add the CountryRepository class.\nAny help is appreciated.</p>\n"},{"tags":["java","maps"],"owner":{"account_id":15508011,"reputation":13,"user_id":11187605,"display_name":"adamf7f376a1"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690152349,"creation_date":1690151762,"question_id":76750568,"body_markdown":"I have a Java web app and it to display dynamically generated maps (in form of images) with some markers. I have found [Unfolding maps lib](http://unfoldingmaps.org/tutorials/) that looks interesting and I want to use it. However, all [examples ](https://github.com/tillnagel/unfolding/tree/master/examples) of this library contain only desktop apps. I have no idea how to transform UnfoldingMap object into png file without displaying it on a screen (i am building web, not desktop app).\r\n\r\nIf you know better libraries for this purpose, you can also let me know.\r\n\r\nI have tried following code inside SatelliteProviderMapApp example, however it throws Nullpointer\r\n\r\n```\r\n\tpublic static void main(String[] args) {\r\n\t\tSatelliteProviderMapApp map = new SatelliteProviderMapApp();\r\n\t\tPApplet.runSketch(new String[] { SatelliteProviderMapApp.class.getName() }, map);\r\n\t\tLargeMapImageUtils util = new LargeMapImageUtils(map, map.map);\r\n\t\tPImage pImage = util.makeSnapshot();\r\n\t\tpImage.save(&quot;aa.png&quot;);\r\n\t}\r\n```\r\n\r\n```\r\nException in thread &quot;main&quot; java.lang.NullPointerException\r\n\tat de.fhpotsdam.unfolding.utils.LargeMapImageUtils.makeSnapshot(LargeMapImageUtils.java:169)\r\n\tat de.fhpotsdam.unfolding.examples.provider.SatelliteProviderMapApp.main(SatelliteProviderMapApp.java:47)\r\nUnfolding Map v0.9.93\r\nUsing OpenGLMapDisplay with processing.opengl.PGraphics2D\r\ntranslate() with x, y, and z coordinates can only be used with a renderer that supports 3D, such as P3D. Use a version without a z-coordinate instead.\r\n```\r\n","title":"How to generate screenshots of Unfolding maps as files/bytearrays?","body":"<p>I have a Java web app and it to display dynamically generated maps (in form of images) with some markers. I have found <a href=\"http://unfoldingmaps.org/tutorials/\" rel=\"nofollow noreferrer\">Unfolding maps lib</a> that looks interesting and I want to use it. However, all <a href=\"https://github.com/tillnagel/unfolding/tree/master/examples\" rel=\"nofollow noreferrer\">examples </a> of this library contain only desktop apps. I have no idea how to transform UnfoldingMap object into png file without displaying it on a screen (i am building web, not desktop app).</p>\n<p>If you know better libraries for this purpose, you can also let me know.</p>\n<p>I have tried following code inside SatelliteProviderMapApp example, however it throws Nullpointer</p>\n<pre><code>    public static void main(String[] args) {\n        SatelliteProviderMapApp map = new SatelliteProviderMapApp();\n        PApplet.runSketch(new String[] { SatelliteProviderMapApp.class.getName() }, map);\n        LargeMapImageUtils util = new LargeMapImageUtils(map, map.map);\n        PImage pImage = util.makeSnapshot();\n        pImage.save(&quot;aa.png&quot;);\n    }\n</code></pre>\n<pre><code>Exception in thread &quot;main&quot; java.lang.NullPointerException\n    at de.fhpotsdam.unfolding.utils.LargeMapImageUtils.makeSnapshot(LargeMapImageUtils.java:169)\n    at de.fhpotsdam.unfolding.examples.provider.SatelliteProviderMapApp.main(SatelliteProviderMapApp.java:47)\nUnfolding Map v0.9.93\nUsing OpenGLMapDisplay with processing.opengl.PGraphics2D\ntranslate() with x, y, and z coordinates can only be used with a renderer that supports 3D, such as P3D. Use a version without a z-coordinate instead.\n</code></pre>\n"},{"tags":["java","apache-flink","streaming","pyflink"],"answers":[{"comments":[{"owner":{"account_id":13280511,"reputation":324,"user_id":9588300,"display_name":"Eugenio.Gastelum96"},"score":0,"creation_date":1690145557,"post_id":76746645,"comment_id":135309007,"body_markdown":"Thanks for this! I&#39;m still a bit confused on batch mode if the source is Kafka. I assume if we want a Kafka source to be run in batch mode, we then first start it as stream mode until a condition we set is complete, so we then stop advancing the offsets and switch into batch mode with the data we had collected. Correct? That&#39;s more less what I understand from this, as I am a bit confused how a natively streaming application (like Kafka) can run as batch mode https://nightlies.apache.org/flink/flink-docs-release-1.13/docs/connectors/datastream/kafka/#boundedness","body":"Thanks for this! I&#39;m still a bit confused on batch mode if the source is Kafka. I assume if we want a Kafka source to be run in batch mode, we then first start it as stream mode until a condition we set is complete, so we then stop advancing the offsets and switch into batch mode with the data we had collected. Correct? That&#39;s more less what I understand from this, as I am a bit confused how a natively streaming application (like Kafka) can run as batch mode <a href=\"https://nightlies.apache.org/flink/flink-docs-release-1.13/docs/connectors/datastream/kafka/#boundedness\" rel=\"nofollow noreferrer\">nightlies.apache.org/flink/flink-docs-release-1.13/docs/&hellip;</a>"},{"owner":{"account_id":2274094,"reputation":40374,"user_id":2000823,"display_name":"David Anderson"},"score":0,"creation_date":1690151256,"post_id":76746645,"comment_id":135309480,"body_markdown":"See part (5) of my answer, which I just added.","body":"See part (5) of my answer, which I just added."}],"tags":[],"owner":{"account_id":2274094,"reputation":40374,"user_id":2000823,"display_name":"David Anderson"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1690151237,"creation_date":1690086400,"answer_id":76746645,"question_id":76746490,"body_markdown":"Allow me to try to clarify a few points:\r\n\r\n(1) A bounded stream can either be processed in batch mode or in streaming mode. Batch mode will be more efficient, because various optimizations can be applied if the Flink runtime knows that there&#39;s a finite amount of data to process. On the other hand, unbounded inputs can only be processed in streaming mode.\r\n\r\n(2) Applying windows does not convert an unbounded streaming job into a batch job. The fact that windowing is happening doesn&#39;t have any effect on how the job is executed -- it could be an unbounded streaming job, a bounded streaming job, or a bounded batch job, depending on whether the inputs are bounded or unbounded, and the choice of execution mode.\r\n\r\n(3) The various stages of the pipeline run independently of one another. There may be lots of windows open concurrently, especially if event time semantics are being used, and the event stream is significantly out-of-order.\r\n\r\n(4) Currently the entire job must be running in either batch mode or streaming job. It&#39;s not (yet) possible to mix and match the two execution modes.\r\n\r\n(5) Only sources built using the FLIP-27 interface support both batch and streaming, e.g., the `KafkaSource` (and not the legacy `FlinkKafkaConsumer`). As the [docs](https://nightlies.apache.org/flink/flink-docs-stable/docs/connectors/datastream/kafka/#boundedness) explain:\r\n\r\n&gt; `KafkaSource` is designed to support both streaming and batch running mode. By default, the `KafkaSource` is set to run in streaming manner, thus never stops until Flink job fails or is cancelled. You can use `setBounded(OffsetsInitializer)` to specify stopping offsets and set the source running in batch mode. When all partitions have reached their stopping offsets, the source will exit.  \r\n&gt;  \r\n&gt; You can also set `KafkaSource` running in streaming mode, but still stop at the stopping offset by using `setUnbounded(OffsetsInitializer)`. The source will exit when all partitions reach their specified stopping offset.\r\n\r\n\r\n","title":"Flink Batch vs Stream how they process real time data","body":"<p>Allow me to try to clarify a few points:</p>\n<p>(1) A bounded stream can either be processed in batch mode or in streaming mode. Batch mode will be more efficient, because various optimizations can be applied if the Flink runtime knows that there's a finite amount of data to process. On the other hand, unbounded inputs can only be processed in streaming mode.</p>\n<p>(2) Applying windows does not convert an unbounded streaming job into a batch job. The fact that windowing is happening doesn't have any effect on how the job is executed -- it could be an unbounded streaming job, a bounded streaming job, or a bounded batch job, depending on whether the inputs are bounded or unbounded, and the choice of execution mode.</p>\n<p>(3) The various stages of the pipeline run independently of one another. There may be lots of windows open concurrently, especially if event time semantics are being used, and the event stream is significantly out-of-order.</p>\n<p>(4) Currently the entire job must be running in either batch mode or streaming job. It's not (yet) possible to mix and match the two execution modes.</p>\n<p>(5) Only sources built using the FLIP-27 interface support both batch and streaming, e.g., the <code>KafkaSource</code> (and not the legacy <code>FlinkKafkaConsumer</code>). As the <a href=\"https://nightlies.apache.org/flink/flink-docs-stable/docs/connectors/datastream/kafka/#boundedness\" rel=\"nofollow noreferrer\">docs</a> explain:</p>\n<blockquote>\n<p><code>KafkaSource</code> is designed to support both streaming and batch running mode. By default, the <code>KafkaSource</code> is set to run in streaming manner, thus never stops until Flink job fails or is cancelled. You can use <code>setBounded(OffsetsInitializer)</code> to specify stopping offsets and set the source running in batch mode. When all partitions have reached their stopping offsets, the source will exit.</p>\n<p>You can also set <code>KafkaSource</code> running in streaming mode, but still stop at the stopping offset by using <code>setUnbounded(OffsetsInitializer)</code>. The source will exit when all partitions reach their specified stopping offset.</p>\n</blockquote>\n"}],"owner":{"account_id":13280511,"reputation":324,"user_id":9588300,"display_name":"Eugenio.Gastelum96"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":344,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76746645,"answer_count":1,"score":0,"last_activity_date":1690151237,"creation_date":1690080671,"question_id":76746490,"body_markdown":"I have read the documentation of streaming mode and batch mode. I assume that if I have an unbounded stream and I apply windows (like tumbling) on it it becomes a bounded stream? Please correct and stop me here if I am wrong. But that&#39;s what I understood from the documentation and this picture, which apparently represents a bounded stream can exist inside an unbounded stream, practically what windows (i.e Tumbling) does:\r\n\r\n[![Bounded vs Unbounded][1]][1]\r\n\r\n\r\n\r\n...\r\nIn case that&#39;s right, If I am applying tumbling window on an unbounded input stream (thus converting it to bounded) and set it to be on batch mode, does the first window filling up have to reach the sink so the new incoming window can be read? For example, if window #1 is formed and it takes 5 seconds for each window to reach the sink, but before those 5 seconds at second 2 a window#2 would have already been ready at the source, does flink in batch mode will NOT read window#2 until window#1 has reached the sink?\r\n\r\nIn other words, which of these is correct?\r\n\r\n - Window#1 arrives at t=1, and until it reaches the sink at t=5 then\r\n   window#2 is read at t=5, which means window#2 leaves the sink at t=10 \r\n - Window#1 arrives at t=1, and as it progresses through the operators downstreams, window#2 arrives at t=2 and it also flows downstream, meaning the entire pipeline has windows 1 and 2 on different stages, but both present in the pipeline at the same time. Eventually window#1 leaves the sink at t=5 and window#2 around t=7\r\n\r\nOption 1 Implies there can only be one window at a time anywhere in the pipeline. Option 2 implies there can be multiple windows in the pipeline (regardless of the operator they are at) at the same time\r\n\r\n \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/lfye5.png","title":"Flink Batch vs Stream how they process real time data","body":"<p>I have read the documentation of streaming mode and batch mode. I assume that if I have an unbounded stream and I apply windows (like tumbling) on it it becomes a bounded stream? Please correct and stop me here if I am wrong. But that's what I understood from the documentation and this picture, which apparently represents a bounded stream can exist inside an unbounded stream, practically what windows (i.e Tumbling) does:</p>\n<p><a href=\"https://i.stack.imgur.com/lfye5.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/lfye5.png\" alt=\"Bounded vs Unbounded\" /></a></p>\n<p>...\nIn case that's right, If I am applying tumbling window on an unbounded input stream (thus converting it to bounded) and set it to be on batch mode, does the first window filling up have to reach the sink so the new incoming window can be read? For example, if window #1 is formed and it takes 5 seconds for each window to reach the sink, but before those 5 seconds at second 2 a window#2 would have already been ready at the source, does flink in batch mode will NOT read window#2 until window#1 has reached the sink?</p>\n<p>In other words, which of these is correct?</p>\n<ul>\n<li>Window#1 arrives at t=1, and until it reaches the sink at t=5 then\nwindow#2 is read at t=5, which means window#2 leaves the sink at t=10</li>\n<li>Window#1 arrives at t=1, and as it progresses through the operators downstreams, window#2 arrives at t=2 and it also flows downstream, meaning the entire pipeline has windows 1 and 2 on different stages, but both present in the pipeline at the same time. Eventually window#1 leaves the sink at t=5 and window#2 around t=7</li>\n</ul>\n<p>Option 1 Implies there can only be one window at a time anywhere in the pipeline. Option 2 implies there can be multiple windows in the pipeline (regardless of the operator they are at) at the same time</p>\n"},{"tags":["java","kotlin","kotlin-interop"],"comments":[{"owner":{"account_id":9280154,"reputation":57862,"user_id":6891563,"accept_rate":75,"display_name":"Khemraj Sharma"},"score":0,"creation_date":1535447858,"post_id":52054104,"comment_id":91058701,"body_markdown":"Both lists are java List?","body":"Both lists are java List?"},{"owner":{"account_id":6302434,"reputation":5409,"user_id":4896651,"accept_rate":75,"display_name":"Shadov"},"score":0,"creation_date":1535447970,"post_id":52054104,"comment_id":91058767,"body_markdown":"Is the list of different type perhaps? For example `ArrayList` vs `LinkedList`.","body":"Is the list of different type perhaps? For example <code>ArrayList</code> vs <code>LinkedList</code>."},{"owner":{"account_id":1551744,"reputation":1184,"user_id":1443981,"accept_rate":70,"display_name":"Aswin"},"score":0,"creation_date":1535448172,"post_id":52054104,"comment_id":91058910,"body_markdown":"Yes both are java list. And they are not different types; I am comparing the list with the new updated list after x seconds.","body":"Yes both are java list. And they are not different types; I am comparing the list with the new updated list after x seconds."},{"owner":{"account_id":4362282,"reputation":92954,"user_id":3558960,"accept_rate":60,"display_name":"Robby Cornelissen"},"score":0,"creation_date":1535448730,"post_id":52054104,"comment_id":91059254,"body_markdown":"When you say &quot;items are same and equal&quot;, what do you mean? [Referential equality or structural equality](https://kotlinlang.org/docs/reference/equality.html)? I.e. does `MyObject` override the `equals()` method?","body":"When you say &quot;items are same and equal&quot;, what do you mean? <a href=\"https://kotlinlang.org/docs/reference/equality.html\" rel=\"nofollow noreferrer\">Referential equality or structural equality</a>? I.e. does <code>MyObject</code> override the <code>equals()</code> method?"},{"owner":{"account_id":1551744,"reputation":1184,"user_id":1443981,"accept_rate":70,"display_name":"Aswin"},"score":0,"creation_date":1535449340,"post_id":52054104,"comment_id":91059643,"body_markdown":"I meant for structural equality. Not sure about `equals()` method is override&#39;d in library.","body":"I meant for structural equality. Not sure about <code>equals()</code> method is override&#39;d in library."},{"owner":{"account_id":4362282,"reputation":92954,"user_id":3558960,"accept_rate":60,"display_name":"Robby Cornelissen"},"score":0,"creation_date":1535449627,"post_id":52054104,"comment_id":91059836,"body_markdown":"Cannot have structural equality without overriding `equals()`.","body":"Cannot have structural equality without overriding <code>equals()</code>."},{"owner":{"account_id":5645,"reputation":168060,"user_id":9204,"accept_rate":82,"display_name":"Alexey Romanov"},"score":2,"creation_date":1535449630,"post_id":52054104,"comment_id":91059837,"body_markdown":"In Java, &quot;In other words, two lists are defined to be equal if they contain the same elements in the same order. This definition ensures that the equals method works properly across different implementations of the List interface.&quot; So if it returns false, there must be different elements. (And different List types shouldn&#39;t matter.)","body":"In Java, &quot;In other words, two lists are defined to be equal if they contain the same elements in the same order. This definition ensures that the equals method works properly across different implementations of the List interface.&quot; So if it returns false, there must be different elements. (And different List types shouldn&#39;t matter.)"}],"answers":[{"comments":[{"owner":{"account_id":62423,"reputation":3486,"user_id":185498,"display_name":"Manushin Igor"},"score":2,"creation_date":1593596857,"post_id":52056258,"comment_id":110834240,"body_markdown":"This method can fail if lists have different sizes. Also this method allocates new list in memory.","body":"This method can fail if lists have different sizes. Also this method allocates new list in memory."}],"tags":[],"owner":{"account_id":2190769,"reputation":547,"user_id":1937886,"accept_rate":0,"display_name":"Viral Thakker"},"comment_count":1,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1535510088,"creation_date":1535454021,"answer_id":52056258,"question_id":52054104,"body_markdown":"You can iterate through one list and check the corresponding position value from second list. Take the example below for reference.\r\n\r\n    var list1 = mutableListOf&lt;String&gt;()\r\n    var list2 = mutableListOf&lt;String&gt;()\r\n        \r\n    list1.forEachIndexed { i, value -&gt;\r\n        if (list2[i] == value)\r\n        {\r\n            // your implementaion\r\n        }  \r\n    }\r\n\r\nAdditionally you can filter list for the changed values.\r\n\r\n    var list1 = mutableListOf&lt;String&gt;()\r\n    var list2 = mutableListOf&lt;String&gt;()\r\n\r\n    val changedList = list1.filterIndexed { i, value -&gt; \r\n        list2[i] != value)\r\n    }\r\n\r\n\r\n","title":"Comparing two lists in kotlin","body":"<p>You can iterate through one list and check the corresponding position value from second list. Take the example below for reference.</p>\n\n<pre><code>var list1 = mutableListOf&lt;String&gt;()\nvar list2 = mutableListOf&lt;String&gt;()\n\nlist1.forEachIndexed { i, value -&gt;\n    if (list2[i] == value)\n    {\n        // your implementaion\n    }  \n}\n</code></pre>\n\n<p>Additionally you can filter list for the changed values.</p>\n\n<pre><code>var list1 = mutableListOf&lt;String&gt;()\nvar list2 = mutableListOf&lt;String&gt;()\n\nval changedList = list1.filterIndexed { i, value -&gt; \n    list2[i] != value)\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1551744,"reputation":1184,"user_id":1443981,"accept_rate":70,"display_name":"Aswin"},"score":1,"creation_date":1535539853,"post_id":52058412,"comment_id":91100847,"body_markdown":"`MyObject` is a class from library, so I cannot override `equals()` method.","body":"<code>MyObject</code> is a class from library, so I cannot override <code>equals()</code> method."},{"owner":{"account_id":6082188,"reputation":17560,"user_id":4747587,"accept_rate":64,"display_name":"Henry"},"score":1,"creation_date":1556924843,"post_id":52058412,"comment_id":98606468,"body_markdown":"You could always extend `MyObject` and then override `equals()`, if possible.","body":"You could always extend <code>MyObject</code> and then override <code>equals()</code>, if possible."},{"owner":{"account_id":7407971,"reputation":2389,"user_id":5636313,"accept_rate":76,"display_name":"Farid"},"score":0,"creation_date":1638292542,"post_id":52058412,"comment_id":124047806,"body_markdown":"Yeah, easy-peasy. What happens if MyObject is final?","body":"Yeah, easy-peasy. What happens if MyObject is final?"},{"owner":{"account_id":295795,"reputation":5373,"user_id":600379,"display_name":"Dakshinamurthy Karra"},"score":0,"creation_date":1638371001,"post_id":52058412,"comment_id":124070692,"body_markdown":"Use a decorator?","body":"Use a decorator?"}],"tags":[],"owner":{"account_id":295795,"reputation":5373,"user_id":600379,"display_name":"Dakshinamurthy Karra"},"comment_count":4,"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1535460698,"creation_date":1535460698,"answer_id":52058412,"question_id":52054104,"body_markdown":"Java lists implement `equals` method and two lists are defined to be equal if they contain the same elements in the same order. I guess, you are missing `equals` method in your `MyObject` class.\r\n","title":"Comparing two lists in kotlin","body":"<p>Java lists implement <code>equals</code> method and two lists are defined to be equal if they contain the same elements in the same order. I guess, you are missing <code>equals</code> method in your <code>MyObject</code> class.</p>\n"},{"comments":[{"owner":{"account_id":62423,"reputation":3486,"user_id":185498,"display_name":"Manushin Igor"},"score":2,"creation_date":1593596779,"post_id":56651856,"comment_id":110834200,"body_markdown":"This method allocates several unnesesary objects: at least one new list and new Pair per each element from the longest list. In addition several enumerators are allocated, however JIT can put them on stack. So this method requires O(N) additional memory in heap.","body":"This method allocates several unnesesary objects: at least one new list and new Pair per each element from the longest list. In addition several enumerators are allocated, however JIT can put them on stack. So this method requires O(N) additional memory in heap."},{"owner":{"account_id":128374,"reputation":501,"user_id":326162,"display_name":"amynbe"},"score":1,"creation_date":1593628154,"post_id":56651856,"comment_id":110850662,"body_markdown":"Good point. In that regard, @XIII-th &#39;s answer below is better https://stackoverflow.com/a/58310635/326162","body":"Good point. In that regard, @XIII-th &#39;s answer below is better <a href=\"https://stackoverflow.com/a/58310635/326162\">stackoverflow.com/a/58310635/326162</a>"}],"tags":[],"owner":{"account_id":128374,"reputation":501,"user_id":326162,"display_name":"amynbe"},"comment_count":2,"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1560869546,"creation_date":1560869546,"answer_id":56651856,"question_id":52054104,"body_markdown":"Using [zip][1] \r\n\r\n&gt; `zip` returns a list of pairs built from the elements of this array and the other array with the same index. The returned list has length of the shortest collection.\r\n\r\n    fun listsEqual(list1: List&lt;Any&gt;, list2: List&lt;Any&gt;): Boolean {\r\n        \r\n        if (list1.size != list2.size)\r\n            return false\r\n        \r\n        val pairList = list1.zip(list2)\r\n        \r\n        return pairList.all { (elt1, elt2) -&gt;\r\n            elt1 == elt2       \r\n        }\r\n    }\r\n\r\n\r\n\r\n  [1]: https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/zip.html","title":"Comparing two lists in kotlin","body":"<p>Using <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/zip.html\" rel=\"noreferrer\">zip</a> </p>\n\n<blockquote>\n  <p><code>zip</code> returns a list of pairs built from the elements of this array and the other array with the same index. The returned list has length of the shortest collection.</p>\n</blockquote>\n\n<pre><code>fun listsEqual(list1: List&lt;Any&gt;, list2: List&lt;Any&gt;): Boolean {\n\n    if (list1.size != list2.size)\n        return false\n\n    val pairList = list1.zip(list2)\n\n    return pairList.all { (elt1, elt2) -&gt;\n        elt1 == elt2       \n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2406465,"reputation":15358,"user_id":2102794,"accept_rate":45,"display_name":"Sai"},"score":0,"creation_date":1611207374,"post_id":57756549,"comment_id":116377647,"body_markdown":"Thanks. And for the people who wonder about this `listOfdataClass1.map { it.string } == listOfdataClass2.map { it.string }` also works as expected.","body":"Thanks. And for the people who wonder about this <code>listOfdataClass1.map { it.string } == listOfdataClass2.map { it.string }</code> also works as expected."},{"owner":{"account_id":6730117,"reputation":76,"user_id":5186781,"display_name":"Salim Mazari Boufares"},"score":11,"creation_date":1633510078,"post_id":57756549,"comment_id":122775846,"body_markdown":"This won&#39;t work if the elements don&#39;t have the same order, an option is to sort both lists before to compare them.","body":"This won&#39;t work if the elements don&#39;t have the same order, an option is to sort both lists before to compare them."},{"owner":{"account_id":7407971,"reputation":2389,"user_id":5636313,"accept_rate":76,"display_name":"Farid"},"score":1,"creation_date":1666379457,"post_id":57756549,"comment_id":130931587,"body_markdown":"@SalimMazariBoufares Sort and check is totally wrong approach. Let&#39;s say we sort by id and `A1` and `A2` has the same id. `list1 = [A1, A2]` after the sort this list will still be `[A1, A2]`. `list1 = [A2, A1]` after the sort the list will still be `[A2, A1]` and if `equals` method contains any other param than id, then you are f*cked.","body":"@SalimMazariBoufares Sort and check is totally wrong approach. Let&#39;s say we sort by id and <code>A1</code> and <code>A2</code> has the same id. <code>list1 = [A1, A2]</code> after the sort this list will still be <code>[A1, A2]</code>. <code>list1 = [A2, A1]</code> after the sort the list will still be <code>[A2, A1]</code> and if <code>equals</code> method contains any other param than id, then you are f*cked."},{"owner":{"account_id":6730117,"reputation":76,"user_id":5186781,"display_name":"Salim Mazari Boufares"},"score":0,"creation_date":1666947777,"post_id":57756549,"comment_id":131059877,"body_markdown":"@Farid wdym by id? Id means identifier, by definition id is unique, so A1 and A2 can&#39;t have the same id only if they&#39;re the same, and this won&#39;t cause problems.","body":"@Farid wdym by id? Id means identifier, by definition id is unique, so A1 and A2 can&#39;t have the same id only if they&#39;re the same, and this won&#39;t cause problems."},{"owner":{"account_id":6730117,"reputation":76,"user_id":5186781,"display_name":"Salim Mazari Boufares"},"score":0,"creation_date":1666960655,"post_id":57756549,"comment_id":131064022,"body_markdown":"wdym by id? Id means identifier, it is unique and then both objects are the same. But I got your point, it depends on the sorting strategy, if two different objects are having the same value on which the sorting is done then they can have switched positions in two lists having same elements. In case of literals it will not cause problems.","body":"wdym by id? Id means identifier, it is unique and then both objects are the same. But I got your point, it depends on the sorting strategy, if two different objects are having the same value on which the sorting is done then they can have switched positions in two lists having same elements. In case of literals it will not cause problems."},{"owner":{"account_id":7407971,"reputation":2389,"user_id":5636313,"accept_rate":76,"display_name":"Farid"},"score":0,"creation_date":1667039061,"post_id":57756549,"comment_id":131079357,"body_markdown":"@SalimMazariBoufares Write a simple test case for my example and you will see the problem","body":"@SalimMazariBoufares Write a simple test case for my example and you will see the problem"},{"owner":{"account_id":6730117,"reputation":76,"user_id":5186781,"display_name":"Salim Mazari Boufares"},"score":0,"creation_date":1667060168,"post_id":57756549,"comment_id":131083449,"body_markdown":"@Farid, I already did write tests before to write the comment, first I told you that you&#39;re using a wrong terminology, then I did say you&#39;re right, except if the two objects are the same.","body":"@Farid, I already did write tests before to write the comment, first I told you that you&#39;re using a wrong terminology, then I did say you&#39;re right, except if the two objects are the same."}],"tags":[],"owner":{"account_id":10898766,"reputation":4116,"user_id":8011713,"display_name":"Rene Ferrari"},"comment_count":7,"down_vote_count":0,"up_vote_count":37,"is_accepted":false,"score":37,"last_activity_date":1567427926,"creation_date":1567425384,"answer_id":57756549,"question_id":52054104,"body_markdown":"Just fyi you can call `list1 == list2` without any extra work, if your custom object is based off of a `data class` (which automatically overrides equals for you).","title":"Comparing two lists in kotlin","body":"<p>Just fyi you can call <code>list1 == list2</code> without any extra work, if your custom object is based off of a <code>data class</code> (which automatically overrides equals for you).</p>\n"},{"comments":[{"owner":{"account_id":62423,"reputation":3486,"user_id":185498,"display_name":"Manushin Igor"},"score":1,"creation_date":1593785187,"post_id":58024474,"comment_id":110908849,"body_markdown":"Please note, that this function requires the same elements order for ```true``` answer.","body":"Please note, that this function requires the same elements order for <code>true</code> answer."}],"tags":[],"owner":{"account_id":9725840,"reputation":1489,"user_id":7212836,"display_name":"Evgenii Vorobei"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1568967418,"creation_date":1568967418,"answer_id":58024474,"question_id":52054104,"body_markdown":"You could use arrays and `contentDeepEquals`:\r\n\r\n    infix fun &lt;T&gt; Array&lt;out T&gt;.contentDeepEquals(\r\n        other: Array&lt;out T&gt;\r\n    ): Boolean\r\n    JVM\r\n    1.1\r\n    @JvmName(&quot;contentDeepEqualsInline&quot;) infix fun &lt;T&gt; Array&lt;out T&gt;.contentDeepEquals(\r\n        other: Array&lt;out T&gt;\r\n    ): Boolean\r\n\r\nhttps://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/content-deep-equals.html","title":"Comparing two lists in kotlin","body":"<p>You could use arrays and <code>contentDeepEquals</code>:</p>\n\n<pre><code>infix fun &lt;T&gt; Array&lt;out T&gt;.contentDeepEquals(\n    other: Array&lt;out T&gt;\n): Boolean\nJVM\n1.1\n@JvmName(\"contentDeepEqualsInline\") infix fun &lt;T&gt; Array&lt;out T&gt;.contentDeepEquals(\n    other: Array&lt;out T&gt;\n): Boolean\n</code></pre>\n\n<p><a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/content-deep-equals.html\" rel=\"nofollow noreferrer\">https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/content-deep-equals.html</a></p>\n"},{"comments":[{"owner":{"account_id":62423,"reputation":3486,"user_id":185498,"display_name":"Manushin Igor"},"score":2,"creation_date":1593775364,"post_id":58310635,"comment_id":110903956,"body_markdown":"Second answer has O(N^2) complexity. Statement ```it in other``` has O(N) complexity for list and it is called N times. Right solution for second case is something like ```return this.toSet() == other.toSet()```","body":"Second answer has O(N^2) complexity. Statement <code>it in other</code> has O(N) complexity for list and it is called N times. Right solution for second case is something like <code>return this.toSet() == other.toSet()</code>"},{"owner":{"account_id":4869472,"reputation":5293,"user_id":3926506,"accept_rate":89,"display_name":"Sergei Bubenshchikov"},"score":1,"creation_date":1593776714,"post_id":58310635,"comment_id":110904554,"body_markdown":"@ManushinIgor yes, your solution is better the thаn my. Thanks","body":"@ManushinIgor yes, your solution is better the thаn my. Thanks"}],"tags":[],"owner":{"account_id":4869472,"reputation":5293,"user_id":3926506,"accept_rate":89,"display_name":"Sergei Bubenshchikov"},"comment_count":2,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1570647774,"creation_date":1570647774,"answer_id":58310635,"question_id":52054104,"body_markdown":"You can use implementations below for comparing of two `Collection`:\r\n\r\n    infix fun &lt;T&gt; Collection&lt;T&gt;.deepEqualTo(other: Collection&lt;T&gt;): Boolean {\r\n        // check collections aren&#39;t same\r\n        if (this !== other) {\r\n            // fast check of sizes\r\n            if (this.size != other.size) return false\r\n            val areNotEqual = this.asSequence()\r\n                .zip(other.asSequence())\r\n                // check this and other contains same elements at position\r\n                .map { (fromThis, fromOther) -&gt; fromThis == fromOther }\r\n                // searching for first negative answer\r\n                .contains(false)\r\n            if (areNotEqual) return false\r\n        }\r\n        // collections are same or they are contains same elements with same order\r\n        return true\r\n    }\r\n\r\nOr order ignore variant: \r\n\r\n    infix fun &lt;T&gt; Collection&lt;T&gt;.deepEqualToIgnoreOrder(other: Collection&lt;T&gt;): Boolean {\r\n        // check collections aren&#39;t same\r\n        if (this !== other) {\r\n            // fast check of sizes\r\n            if (this.size != other.size) return false\r\n            val areNotEqual = this.asSequence()\r\n                // check other contains next element from this\r\n                .map { it in other }\r\n                // searching for first negative answer\r\n                .contains(false)\r\n            if (areNotEqual) return false\r\n        }\r\n        // collections are same or they are contains same elements\r\n        return true\r\n    }\r\n\r\n_Note: both function compare only first level of deep_","title":"Comparing two lists in kotlin","body":"<p>You can use implementations below for comparing of two <code>Collection</code>:</p>\n\n<pre><code>infix fun &lt;T&gt; Collection&lt;T&gt;.deepEqualTo(other: Collection&lt;T&gt;): Boolean {\n    // check collections aren't same\n    if (this !== other) {\n        // fast check of sizes\n        if (this.size != other.size) return false\n        val areNotEqual = this.asSequence()\n            .zip(other.asSequence())\n            // check this and other contains same elements at position\n            .map { (fromThis, fromOther) -&gt; fromThis == fromOther }\n            // searching for first negative answer\n            .contains(false)\n        if (areNotEqual) return false\n    }\n    // collections are same or they are contains same elements with same order\n    return true\n}\n</code></pre>\n\n<p>Or order ignore variant: </p>\n\n<pre><code>infix fun &lt;T&gt; Collection&lt;T&gt;.deepEqualToIgnoreOrder(other: Collection&lt;T&gt;): Boolean {\n    // check collections aren't same\n    if (this !== other) {\n        // fast check of sizes\n        if (this.size != other.size) return false\n        val areNotEqual = this.asSequence()\n            // check other contains next element from this\n            .map { it in other }\n            // searching for first negative answer\n            .contains(false)\n        if (areNotEqual) return false\n    }\n    // collections are same or they are contains same elements\n    return true\n}\n</code></pre>\n\n<p><em>Note: both function compare only first level of deep</em></p>\n"},{"comments":[{"owner":{"account_id":1770214,"reputation":6814,"user_id":1615183,"accept_rate":65,"display_name":"Hola Soy Edu Feliz Navidad"},"score":0,"creation_date":1576848996,"post_id":59339338,"comment_id":105038319,"body_markdown":"That&#39;s the most logical answer.","body":"That&#39;s the most logical answer."},{"owner":{"account_id":148782,"reputation":23519,"user_id":360811,"accept_rate":55,"display_name":"shabunc"},"score":18,"creation_date":1578754506,"post_id":59339338,"comment_id":105545954,"body_markdown":"I&#39;m downvoting this - this is definitely not the best way to do it.","body":"I&#39;m downvoting this - this is definitely not the best way to do it."},{"owner":{"account_id":4450733,"reputation":2372,"user_id":3622695,"accept_rate":75,"display_name":"DruidKuma"},"score":2,"creation_date":1578849521,"post_id":59339338,"comment_id":105564913,"body_markdown":"@shabunc Could you please state what is wrong about this way?","body":"@shabunc Could you please state what is wrong about this way?"},{"owner":{"account_id":148782,"reputation":23519,"user_id":360811,"accept_rate":55,"display_name":"shabunc"},"score":5,"creation_date":1578865975,"post_id":59339338,"comment_id":105568954,"body_markdown":"@DruidKuma because instead of O(n) comparisons you basically calling containsAll twice and this just can not have better performance than linear comparison per index. - check  this for instance - https://stackoverflow.com/questions/10199772/what-is-the-cost-of-containsall-in-java","body":"@DruidKuma because instead of O(n) comparisons you basically calling containsAll twice and this just can not have better performance than linear comparison per index. - check  this for instance - <a href=\"https://stackoverflow.com/questions/10199772/what-is-the-cost-of-containsall-in-java\" title=\"what is the cost of containsall in java\">stackoverflow.com/questions/10199772/&hellip;</a>"},{"owner":{"account_id":3031277,"reputation":544,"user_id":2570235,"accept_rate":0,"display_name":"Dilroop Singh"},"score":0,"creation_date":1583701234,"post_id":59339338,"comment_id":107196484,"body_markdown":"answer mentions if you dont bother the order of elements","body":"answer mentions if you dont bother the order of elements"},{"owner":{"account_id":62423,"reputation":3486,"user_id":185498,"display_name":"Manushin Igor"},"score":3,"creation_date":1593785128,"post_id":59339338,"comment_id":110908827,"body_markdown":"Instead of ```List```, ```Set``` should be used. ```HashSet``` (not ```TreeSet``` - it is important) collections have O(1) lookup complexity (list have O(N)). So just replace both ```mutableListOf``` to ```mutableSetOf```.","body":"Instead of <code>List</code>, <code>Set</code> should be used. <code>HashSet</code> (not <code>TreeSet</code> - it is important) collections have O(1) lookup complexity (list have O(N)). So just replace both <code>mutableListOf</code> to <code>mutableSetOf</code>."},{"owner":{"account_id":5510395,"reputation":736,"user_id":4376839,"display_name":"handhand"},"score":5,"creation_date":1599126568,"post_id":59339338,"comment_id":112679515,"body_markdown":"If there are no duplicates in your list, you can compare the sizes first, then one containsAll()  will be enough.","body":"If there are no duplicates in your list, you can compare the sizes first, then one containsAll()  will be enough."},{"owner":{"account_id":10692508,"reputation":5229,"user_id":7870874,"accept_rate":70,"display_name":"Sira Lam"},"score":0,"creation_date":1617194616,"post_id":59339338,"comment_id":118235453,"body_markdown":"Performance wise, `containsAll()` is very slow. Sort and check equals is way faster.","body":"Performance wise, <code>containsAll()</code> is very slow. Sort and check equals is way faster."},{"owner":{"account_id":7407971,"reputation":2389,"user_id":5636313,"accept_rate":76,"display_name":"Farid"},"score":0,"creation_date":1666378813,"post_id":59339338,"comment_id":130931417,"body_markdown":"@shabunc so your solution would be what?","body":"@shabunc so your solution would be what?"}],"tags":[],"owner":{"account_id":4450733,"reputation":2372,"user_id":3622695,"accept_rate":75,"display_name":"DruidKuma"},"comment_count":9,"down_vote_count":11,"up_vote_count":32,"is_accepted":false,"score":21,"last_activity_date":1576359178,"creation_date":1576359178,"answer_id":59339338,"question_id":52054104,"body_markdown":"If you don&#39;t bother about order of elements in both lists, and your goal is to just check that two lists are of exactly same elements, without any others, you can consider two mutual `containsAll` calls like:\r\n\r\n    var list1 = mutableListOf&lt;String&gt;()\r\n    var list2 = mutableListOf&lt;String&gt;()\r\n\r\n    if(list1.containsAll(list2) &amp;&amp; list2.containsAll(list1)) {\r\n        //both lists are of the same elements\r\n    }","title":"Comparing two lists in kotlin","body":"<p>If you don't bother about order of elements in both lists, and your goal is to just check that two lists are of exactly same elements, without any others, you can consider two mutual <code>containsAll</code> calls like:</p>\n\n<pre><code>var list1 = mutableListOf&lt;String&gt;()\nvar list2 = mutableListOf&lt;String&gt;()\n\nif(list1.containsAll(list2) &amp;&amp; list2.containsAll(list1)) {\n    //both lists are of the same elements\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":10976539,"reputation":133,"user_id":8065056,"display_name":"Jakob Ulbrich"},"score":7,"creation_date":1590413623,"post_id":59781517,"comment_id":109662446,"body_markdown":"To break early and avoid iterating over the whole list, you should use `this.asSequence().mapIndexed {...}`","body":"To break early and avoid iterating over the whole list, you should use <code>this.asSequence().mapIndexed {...}</code>"}],"tags":[],"owner":{"account_id":231521,"reputation":4557,"user_id":495800,"accept_rate":68,"display_name":"joecks"},"comment_count":1,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1690150934,"creation_date":1579237651,"answer_id":59781517,"question_id":52054104,"body_markdown":"Here&#39;s a short version using a extension function:\r\n\r\n```kotlin\r\nfun &lt;T&gt; List&lt;T&gt;.deepEquals(other: List&lt;T&gt;) =\r\n    size == other.size &amp;&amp; asSequence()\r\n        .mapIndexed { index, element -&gt; element == other[index] }\r\n        .all { it }\r\n```\r\n\r\nAnd you can use it like this:\r\n\r\n    listOf(&quot;Hola&quot;, &quot;Mundo&quot;).deepEquals(listOf(&quot;Hello&quot;, &quot;World&quot;))","title":"Comparing two lists in kotlin","body":"<p>Here's a short version using a extension function:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>fun &lt;T&gt; List&lt;T&gt;.deepEquals(other: List&lt;T&gt;) =\n    size == other.size &amp;&amp; asSequence()\n        .mapIndexed { index, element -&gt; element == other[index] }\n        .all { it }\n</code></pre>\n<p>And you can use it like this:</p>\n<pre><code>listOf(&quot;Hola&quot;, &quot;Mundo&quot;).deepEquals(listOf(&quot;Hello&quot;, &quot;World&quot;))\n</code></pre>\n"},{"tags":[],"owner":{"account_id":93255,"reputation":8911,"user_id":255244,"accept_rate":93,"display_name":"Marty Neal"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1608663351,"creation_date":1608663351,"answer_id":65414342,"question_id":52054104,"body_markdown":"The questions and answers so far are primarily focused on equals/!equals, but since the title talks about comparing, I&#39;ll give a slightly more generic answer that implements compareTo returning -1,0,1 for &lt;, =, &gt;\r\n\r\n```\r\nfun &lt;T: Comparable&lt;T&gt;&gt; Iterable&lt;T&gt;.compareTo(other: Iterable&lt;T&gt;): Int {\r\n    val otherI = other.iterator()\r\n    for (e in this) {\r\n        if (!otherI.hasNext()) return 1 // other has run out of elements, so `this` is larger\r\n        val c = e.compareTo(otherI.next())\r\n        if (c != 0) return c // found a position with a difference\r\n    }\r\n    if (otherI.hasNext()) return -1 // `this` has run out of elements, but other has some more, so other is larger\r\n    return 0 // they&#39;re the same\r\n}\r\n```","title":"Comparing two lists in kotlin","body":"<p>The questions and answers so far are primarily focused on equals/!equals, but since the title talks about comparing, I'll give a slightly more generic answer that implements compareTo returning -1,0,1 for &lt;, =, &gt;</p>\n<pre><code>fun &lt;T: Comparable&lt;T&gt;&gt; Iterable&lt;T&gt;.compareTo(other: Iterable&lt;T&gt;): Int {\n    val otherI = other.iterator()\n    for (e in this) {\n        if (!otherI.hasNext()) return 1 // other has run out of elements, so `this` is larger\n        val c = e.compareTo(otherI.next())\n        if (c != 0) return c // found a position with a difference\n    }\n    if (otherI.hasNext()) return -1 // `this` has run out of elements, but other has some more, so other is larger\n    return 0 // they're the same\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8985637,"reputation":41,"user_id":6699278,"display_name":"The Zero"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1614675029,"creation_date":1614675029,"answer_id":66436099,"question_id":52054104,"body_markdown":"Another answer in case you want to compare two lists, that have the same number of the same elements, and no care about the order:\r\n\r\n    infix fun &lt;T&gt; List&lt;T&gt;.elementEquals(other: List&lt;T&gt;): Boolean {\r\n      if (this.size != other.size) return false\r\n\r\n      val tracker = BooleanArray(this.size)\r\n      var counter = 0\r\n\r\n      root@ for (value in this) {\r\n        destination@ for ((i, o) in other.withIndex()) {\r\n          if (tracker[i]) {\r\n            continue@destination\r\n          } else if (value?.equals(o) == true) {\r\n            counter++\r\n            tracker[i] = true\r\n            continue@root\r\n          }\r\n        }\r\n      }\r\n\r\n      return counter == this.size\r\n    }","title":"Comparing two lists in kotlin","body":"<p>Another answer in case you want to compare two lists, that have the same number of the same elements, and no care about the order:</p>\n<pre><code>infix fun &lt;T&gt; List&lt;T&gt;.elementEquals(other: List&lt;T&gt;): Boolean {\n  if (this.size != other.size) return false\n\n  val tracker = BooleanArray(this.size)\n  var counter = 0\n\n  root@ for (value in this) {\n    destination@ for ((i, o) in other.withIndex()) {\n      if (tracker[i]) {\n        continue@destination\n      } else if (value?.equals(o) == true) {\n        counter++\n        tracker[i] = true\n        continue@root\n      }\n    }\n  }\n\n  return counter == this.size\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10692508,"reputation":5229,"user_id":7870874,"accept_rate":70,"display_name":"Sira Lam"},"comment_count":0,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1617200840,"creation_date":1617194771,"answer_id":66888169,"question_id":52054104,"body_markdown":"Want to say that `containsAll()` is way slower than just sort and check equal.\r\n\r\nI have tested it using an online Kotlin console, and here is the result:\r\n[![enter image description here][1]][1]\r\n\r\n\r\nBut the fastest way is probably using `Set` instead.\r\n(But, set does not allow duplicate elements. So be careful of your use case)\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/8D9Vz.png\r\n  [2]: https://i.stack.imgur.com/pPhO3.png","title":"Comparing two lists in kotlin","body":"<p>Want to say that <code>containsAll()</code> is way slower than just sort and check equal.</p>\n<p>I have tested it using an online Kotlin console, and here is the result:\n<a href=\"https://i.stack.imgur.com/8D9Vz.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8D9Vz.png\" alt=\"enter image description here\" /></a></p>\n<p>But the fastest way is probably using <code>Set</code> instead.\n(But, set does not allow duplicate elements. So be careful of your use case)</p>\n<p><a href=\"https://i.stack.imgur.com/pPhO3.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/pPhO3.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":2401597,"reputation":9579,"user_id":3240381,"accept_rate":74,"display_name":"Cabezas"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1662384772,"creation_date":1617900061,"answer_id":67008353,"question_id":52054104,"body_markdown":"When I want to compare to list on kotlin I like this way:  \r\n\r\n    data class Element(val id: String, val name: String)\r\n    var list1 = mutableListOf&lt;Element&gt;()\r\n    var list2 = mutableListOf&lt;Element&gt;()\r\n    fun deleteRepeated(\r\n            list1: List&lt;Element&gt;,\r\n            newElementsList: List&lt;Element&gt;\r\n        ): List&lt;FileInfo&gt; {\r\n            return list2.filterNot { isTheSameID(it, list1) }\r\n     }\r\n     private fun isTheSameID(element: Element, list1: List&lt;FileInfo&gt;): Boolean {\r\n         list1.forEach {\r\n             if (element.id == it.id){\r\n                 return true\r\n             }\r\n         }\r\n         return false\r\n     }\r\nExample usage:  \r\n\r\n    list1 = [(id=1, name=Eva),(id=2, name=Ana), id=3, name=Abraham)]\r\n\r\n    list2 = [(id=2, name=Ana), id=3, name=Abraham)]\r\n\r\n    deleteRepeated(list1, list2)\r\n\r\n    // [(id=1, name=Eva)]","title":"Comparing two lists in kotlin","body":"<p>When I want to compare to list on kotlin I like this way:</p>\n<pre><code>data class Element(val id: String, val name: String)\nvar list1 = mutableListOf&lt;Element&gt;()\nvar list2 = mutableListOf&lt;Element&gt;()\nfun deleteRepeated(\n        list1: List&lt;Element&gt;,\n        newElementsList: List&lt;Element&gt;\n    ): List&lt;FileInfo&gt; {\n        return list2.filterNot { isTheSameID(it, list1) }\n }\n private fun isTheSameID(element: Element, list1: List&lt;FileInfo&gt;): Boolean {\n     list1.forEach {\n         if (element.id == it.id){\n             return true\n         }\n     }\n     return false\n }\n</code></pre>\n<p>Example usage:</p>\n<pre><code>list1 = [(id=1, name=Eva),(id=2, name=Ana), id=3, name=Abraham)]\n\nlist2 = [(id=2, name=Ana), id=3, name=Abraham)]\n\ndeleteRepeated(list1, list2)\n\n// [(id=1, name=Eva)]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18228916,"reputation":2352,"user_id":13268194,"display_name":"Tarun Anchala"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1658900710,"creation_date":1658900710,"answer_id":73132782,"question_id":52054104,"body_markdown":"***Best way to compare 2 lists***\r\n\r\nCreate Extension function as below. This will be useful if order doesn&#39;t matters\r\n\r\n    fun &lt;T&gt; List&lt;T&gt;.isEqualsIgnoreOrder(other: List&lt;T&gt;) = this.size == other.size &amp;&amp; this.toSet() == other.toSet()\r\n\r\nUse Extension function in your classes to compare lists as below.It returns boolean.\r\n\r\n    list1.isEqualsIgnoreOrder(list2)\r\n\r\n","title":"Comparing two lists in kotlin","body":"<p><em><strong>Best way to compare 2 lists</strong></em></p>\n<p>Create Extension function as below. This will be useful if order doesn't matters</p>\n<pre><code>fun &lt;T&gt; List&lt;T&gt;.isEqualsIgnoreOrder(other: List&lt;T&gt;) = this.size == other.size &amp;&amp; this.toSet() == other.toSet()\n</code></pre>\n<p>Use Extension function in your classes to compare lists as below.It returns boolean.</p>\n<pre><code>list1.isEqualsIgnoreOrder(list2)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10038794,"reputation":802,"user_id":8229399,"display_name":"philoopher97"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1684132929,"creation_date":1684132929,"answer_id":76251458,"question_id":52054104,"body_markdown":"I know it&#39;s not a good solution but it works.\r\n\r\n```kotlin\r\nval list1 = listOf&lt;String&gt;()\r\nval list2 = listOf&lt;String&gt;()\r\n\r\nfun &lt;T&gt; isSame(list1: List&lt;T&gt;, list2: List&lt;T&gt;): Boolean {\r\n    if (list1.size != list2.size) return false\r\n\r\n    val hash1 = list1.map { it.hashCode() }.toSet()\r\n    val hash2 = list2.map { it.hashCode() }.toSet()\r\n\r\n    return (hash1.intersect(hash2)).size == hash1.size\r\n}\r\n```\r\n\r\nImplement the `hasCode()` method if you use objects other than `String`.","title":"Comparing two lists in kotlin","body":"<p>I know it's not a good solution but it works.</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>val list1 = listOf&lt;String&gt;()\nval list2 = listOf&lt;String&gt;()\n\nfun &lt;T&gt; isSame(list1: List&lt;T&gt;, list2: List&lt;T&gt;): Boolean {\n    if (list1.size != list2.size) return false\n\n    val hash1 = list1.map { it.hashCode() }.toSet()\n    val hash2 = list2.map { it.hashCode() }.toSet()\n\n    return (hash1.intersect(hash2)).size == hash1.size\n}\n</code></pre>\n<p>Implement the <code>hasCode()</code> method if you use objects other than <code>String</code>.</p>\n"}],"owner":{"account_id":1551744,"reputation":1184,"user_id":1443981,"accept_rate":70,"display_name":"Aswin"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":104608,"favorite_count":0,"down_vote_count":0,"up_vote_count":57,"answer_count":14,"score":57,"last_activity_date":1690150934,"creation_date":1535447347,"question_id":52054104,"body_markdown":"I came across with kotlin [equals][1] function to compare two list of same type. It works fine for pure Kotlin with data classes.\r\n\r\nI&#39;am using a Java library in Kotlin project in which a callback method returns a list of objects for a time interval of X seconds. Trying to compare the old list with new list for every call, but equals returns false even the items are same and equal.\r\n\r\n\r\n    val mOldList: MutableList&lt;MyObject&gt;()? = null\r\n    \r\n    override fun updatedList(list: MutableList&lt;MyObject&gt;){\r\n        // other code\r\n        if (mOldList.equals(list)) // false everytime\r\n    }\r\n\r\nIs this because of Java&#39;s equals method from library?\r\n\r\nAlternative suggestions for list compare would be appreciative. \r\n\r\n\r\n  [1]: https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/-abstract-list/equals.html","title":"Comparing two lists in kotlin","body":"<p>I came across with kotlin <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/-abstract-list/equals.html\" rel=\"noreferrer\">equals</a> function to compare two list of same type. It works fine for pure Kotlin with data classes.</p>\n\n<p>I'am using a Java library in Kotlin project in which a callback method returns a list of objects for a time interval of X seconds. Trying to compare the old list with new list for every call, but equals returns false even the items are same and equal.</p>\n\n<pre><code>val mOldList: MutableList&lt;MyObject&gt;()? = null\n\noverride fun updatedList(list: MutableList&lt;MyObject&gt;){\n    // other code\n    if (mOldList.equals(list)) // false everytime\n}\n</code></pre>\n\n<p>Is this because of Java's equals method from library?</p>\n\n<p>Alternative suggestions for list compare would be appreciative. </p>\n"},{"tags":["java","docker","opencv","ubuntu-18.04"],"comments":[{"owner":{"account_id":11577675,"reputation":4383,"user_id":8482479,"display_name":"b0gusb"},"score":0,"creation_date":1570446481,"post_id":58262682,"comment_id":102903789,"body_markdown":"Have you tried building OpenCV with [BUILD_SHARED_LIBS=ON](https://cmake.org/cmake/help/v3.0/variable/BUILD_SHARED_LIBS.html)?","body":"Have you tried building OpenCV with <a href=\"https://cmake.org/cmake/help/v3.0/variable/BUILD_SHARED_LIBS.html\" rel=\"nofollow noreferrer\">BUILD_SHARED_LIBS=ON</a>?"},{"owner":{"account_id":5359648,"reputation":427,"user_id":4271331,"display_name":"Gustavo Ponce"},"score":0,"creation_date":1570486264,"post_id":58262682,"comment_id":102921834,"body_markdown":"Yes, I already tried with BUILD_SHARED_LIBS=ON and behaves in the same way","body":"Yes, I already tried with BUILD_SHARED_LIBS=ON and behaves in the same way"},{"owner":{"account_id":232720,"reputation":1625,"user_id":497753,"accept_rate":70,"display_name":"Mannie"},"score":0,"creation_date":1591786887,"post_id":58262682,"comment_id":110186530,"body_markdown":"@GustavoPonce - did you ever resolve this?","body":"@GustavoPonce - did you ever resolve this?"}],"answers":[{"comments":[{"owner":{"account_id":17902900,"reputation":1,"user_id":13006762,"display_name":"RajVadrevu"},"score":0,"creation_date":1583334755,"post_id":60529064,"comment_id":107082054,"body_markdown":"also if .so files are not generated, please try this","body":"also if .so files are not generated, please try this"},{"owner":{"account_id":17902900,"reputation":1,"user_id":13006762,"display_name":"RajVadrevu"},"score":0,"creation_date":1583334764,"post_id":60529064,"comment_id":107082058,"body_markdown":"cmake -D CMAKE_BUILD_TYPE=Release -D CMAKE_INSTALL_PREFIX=/usr ..","body":"cmake -D CMAKE_BUILD_TYPE=Release -D CMAKE_INSTALL_PREFIX=/usr .."}],"tags":[],"owner":{"account_id":17902900,"reputation":1,"user_id":13006762,"display_name":"RajVadrevu"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1583341489,"creation_date":1583334525,"answer_id":60529064,"question_id":58262682,"body_markdown":"Copy the `libopencv_java342.so` file from `/usr/local/lib` to `/usr/lib`.\r\n\r\nIf the `.so` files are not generated, try this:\r\n```\r\ncmake -D CMAKE_BUILD_TYPE=Release -D CMAKE_INSTALL_PREFIX=/usr ..\r\n```","title":"Docker + Java + OpenCV, no opencv_java342 in java.library.path","body":"<p>Copy the <code>libopencv_java342.so</code> file from <code>/usr/local/lib</code> to <code>/usr/lib</code>.</p>\n\n<p>If the <code>.so</code> files are not generated, try this:</p>\n\n<pre><code>cmake -D CMAKE_BUILD_TYPE=Release -D CMAKE_INSTALL_PREFIX=/usr ..\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8594874,"reputation":531,"user_id":6438191,"display_name":"Juan Cabello"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1627308873,"creation_date":1627308873,"answer_id":68531482,"question_id":58262682,"body_markdown":"I had a similar issue and I notice from your post two things that are missing\r\n1. In the OpenCV Compilation process file, in the section &quot;OpenCV modules: To be built: &quot;, I don&#39;t see java. According to the official documentation java must be there.\r\n\r\n&gt; Examine the output of CMake and ensure java is one of the modules &quot;To be built&quot;. If not, it&#39;s likely you&#39;re missing a dependency. \r\n\r\n2. I don&#39;t see Python in your Dockerfile and you need it. This is requirement mentioned in the official doc. \r\n&gt;  In order to build OpenCV with Java bindings you need JDK (Java Development Kit) (we recommend Oracle/Sun JDK 6 or 7), Apache Ant and Python v2.6 or higher to be installed.\r\n\r\nI used this line\r\n\r\n    RUN apt-get install -y python3.8\r\n\r\nCuriously, when I added python, java was included in the &quot;OpenCV modules to be built&quot;\r\n\r\n","title":"Docker + Java + OpenCV, no opencv_java342 in java.library.path","body":"<p>I had a similar issue and I notice from your post two things that are missing</p>\n<ol>\n<li>In the OpenCV Compilation process file, in the section &quot;OpenCV modules: To be built: &quot;, I don't see java. According to the official documentation java must be there.</li>\n</ol>\n<blockquote>\n<p>Examine the output of CMake and ensure java is one of the modules &quot;To be built&quot;. If not, it's likely you're missing a dependency.</p>\n</blockquote>\n<ol start=\"2\">\n<li>I don't see Python in your Dockerfile and you need it. This is requirement mentioned in the official doc.</li>\n</ol>\n<blockquote>\n<p>In order to build OpenCV with Java bindings you need JDK (Java Development Kit) (we recommend Oracle/Sun JDK 6 or 7), Apache Ant and Python v2.6 or higher to be installed.</p>\n</blockquote>\n<p>I used this line</p>\n<pre><code>RUN apt-get install -y python3.8\n</code></pre>\n<p>Curiously, when I added python, java was included in the &quot;OpenCV modules to be built&quot;</p>\n"},{"tags":[],"owner":{"account_id":28151621,"reputation":1,"user_id":21513046,"display_name":"Baljeet Sandhu"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690149946,"creation_date":1690149946,"answer_id":76750478,"question_id":58262682,"body_markdown":"**Open CV 4.8 with Java** \r\n\r\n- This Docker file downloads source and builds an OpenCV in a Debian\r\n   container \r\n- Image contains the Java Jar (opencv-480.jar) and the corresponding share libs (libopencv_java480.so). These are needed for Java &lt;&gt; OpenCV interop \r\n- All transitive dependent .so libs are copied into the `opencvlibs` dir. If you are deploying on Debian linux, copy the contents of `opencvlibs` to your `libs` dir. Linux will then find them by convention\r\n\r\nRunning with Java:\r\n- The Jar must be on classpath\r\n- The .so must be specified via `java.library.path` \r\n\r\nDocker file:\r\n\r\n```\r\nFROM debian:11 AS opencv-libs\r\n\r\n# Install minimal prerequisites (Ubuntu 18.04 as reference)\r\n# Build tools for OpenCV\r\n# libavcodec, libavformat, libswscale, libavutil, libswresample are needed by ffmpeg. See https://ffmpeg.org/about.html\r\nRUN apt update &amp;&amp; \\\r\napt install \\\r\ncmake build-essential g++ openjdk-17-jdk wget unzip ant python3 python3-numpy \\\r\nlibtbb-dev libeigen3-dev \\\r\nlibavcodec-dev libavformat-dev libswscale-dev libavutil-dev libswresample-dev liblzma-dev \\\r\nffmpeg libpulse0 -y\r\n\r\n# Download and unpack OpenCV sources\r\n# Note that the Java jar version must match the version we build here - 4.8 at the moment\r\nRUN wget -O opencv.zip https://github.com/opencv/opencv/archive/4.x.zip &amp;&amp; unzip opencv.zip\r\n\r\n# Create build directory\r\nRUN mkdir -p build &amp;&amp; cd build\r\n\r\n# Configure OpenCV. Turn off features we do not need to restrict size\r\n# See: https://docs.opencv.org/4.x/db/d05/tutorial_config_reference.html\r\n#\r\n# CMAKE OUTPUT, MUST LOOK LIKE SHOWN BELOW:\r\n# Important things to note:\r\n# - Java/ant/JNI are enabled under Java:\r\n# - FFMPEG is enabled under Video I/O:\r\n#\r\n# CMAKE OUTPUT #################################################################################################################################\r\n#11 28.73 --   OpenCV modules:\r\n#11 28.74 --     To be built:                 calib3d core features2d flann gapi imgcodecs imgproc java objdetect photo stitching video videoio\r\n#11 28.74 --     Disabled:                    dnn highgui ml world\r\n#11 28.74 --     Disabled by dependency:      -\r\n#11 28.74 --     Unavailable:                 python2 python3 ts\r\n#11 28.74 --     Applications:                -\r\n#11 28.74 --     Documentation:               NO\r\n#11 28.74 --     Non-free algorithms:         NO\r\n#11 28.74 --\r\n#11 28.74 --   GUI:\r\n#11 28.74 --     GTK+:                        NO\r\n#11 28.74 --     VTK support:                 NO\r\n#11 28.74 --\r\n#11 28.74 --   Media I/O:\r\n#11 28.74 --     ZLib:                        zlib (ver 1.2.13)\r\n#11 28.74 --     JPEG:                        libjpeg-turbo (ver 2.1.3-62)\r\n#11 28.74 --     WEBP:                        build (ver encoder: 0x020f)\r\n#11 28.74 --     PNG:                         build (ver 1.6.37)\r\n#11 28.74 --     TIFF:                        build (ver 42 - 4.2.0)\r\n#11 28.74 --     JPEG 2000:                   build (ver 2.5.0)\r\n#11 28.74 --     OpenEXR:                     build (ver 2.3.0)\r\n#11 28.75 --     HDR:                         YES\r\n#11 28.75 --     SUNRASTER:                   YES\r\n#11 28.75 --     PXM:                         YES\r\n#11 28.75 --     PFM:                         YES\r\n#11 28.75 --\r\n#11 28.75 --   Video I/O:\r\n#11 28.75 --     DC1394:                      NO\r\n#11 28.75 --     FFMPEG:                      YES\r\n#11 28.75 --       avcodec:                   YES (58.91.100)\r\n#11 28.75 --       avformat:                  YES (58.45.100)\r\n#11 28.75 --       avutil:                    YES (56.51.100)\r\n#11 28.75 --       swscale:                   YES (5.7.100)\r\n#11 28.75 --       avresample:                NO\r\n#11 28.75 --\r\n#...\r\n#11 28.76 --   Java:\r\n#11 28.76 --     ant:                         /usr/bin/ant (ver 1.10.9)\r\n#11 28.76 --     Java:                        NO\r\n#11 28.76 --     JNI:                         /usr/lib/jvm/java-17-openjdk-amd64/include /usr/lib/jvm/java-17-openjdk-amd64/include/linux /usr/lib/jvm/java-17-openjdk-amd64/include\r\n#11 28.76 --     Java wrappers:               YES (ANT)\r\n#11 28.76 --     Java tests:                  NO\r\n# ########################################################################################################################################################\r\n\r\n# OpenCV build needs JDK\r\nENV JAVA_HOME=/usr/lib/jvm/java-17-openjdk-amd64\r\n\r\nRUN cmake -DWITH_GSTREAMER=OFF \\\r\n-DBUILD_opencv_highgui=OFF \\\r\n-DBUILD_opencv_dnn=OFF \\\r\n-DBUILD_opencv_ml=OFF \\\r\n-DBUILD_opencv_apps=OFF \\\r\n-DBUILD_opencv_js=OFF \\\r\n-DBUILD_opencv_ts=OFF \\\r\n-DBUILD_opencv_viz=OFF \\\r\n-DBUILD_opencv_lagacy=OFF \\\r\n-DBUILD_opencv_androidcamera=OFF \\\r\n-DBUILD_SHARED_LIBS=OFF \\\r\n-DBUILD_PERF_TESTS=OFF \\\r\n-DBUILD_TESTS=OFF \\\r\n-DBUILD_opencv_python2=OFF  \\\r\n-DOPENCV_FFMPEG_SKIP_BUILD_CHECK=ON \\\r\n-DWITH_V4L=OFF \\\r\n-DWITH_FFMPEG=ON \\\r\n-DBUILD_opencv_python3=OFF ../opencv-4.x\r\n\r\n# Build OpenCV Java shared lib\r\nRUN make -j8\r\n\r\nFROM debian:11 AS opencv\r\n\r\nCOPY --from=opencv-libs /usr/bin/ffmpeg /usr/bin/ffmpeg\r\n\r\n# Big(ish) static lib from the OpenCV build. Contains all OpenCV deps.\r\n# OpenCV JNI layer needs this to work\r\nCOPY --from=opencv-libs /lib/libopencv_java480.so /opencvlibs/\r\nCOPY --from=opencv-libs /bin/opencv-480.jar /opencvlibs/\r\n\r\n# These are all the shared libs needed by OpenCV - not available in the Distroless container\r\n# Copy all the /lib dir. Linux will pick up shared libs from /lib by default convention\r\nCOPY --from=opencv-libs /lib/liblzma* \\\r\n/lib/x86_64-linux-gnu/liblzma* \\\r\n/lib/x86_64-linux-gnu/libbz2* \\\r\n/lib/x86_64-linux-gnu/libgpg-error* \\\r\n/lib/x86_64-linux-gnu/libselinux* \\\r\n/lib/x86_64-linux-gnu/libcom_err* \\\r\n/lib/x86_64-linux-gnu/libkeyutils* \\\r\n/lib/x86_64-linux-gnu/libncursesw.so.6 \\\r\n/lib/x86_64-linux-gnu/libtinfo.so.6 \\\r\n/lib/x86_64-linux-gnu/libdbus-1.so.3 \\\r\n/lib/x86_64-linux-gnu/libtirpc.so.3 \\\r\n/usr/lib/x86_64-linux-gnu/libavcodec.so.58 \\\r\n/usr/lib/x86_64-linux-gnu/libavutil.so.56 \\\r\n/usr/lib/x86_64-linux-gnu/libswscale.so.5 \\\r\n/usr/lib/x86_64-linux-gnu/libavformat.so.58 \\\r\n/usr/lib/x86_64-linux-gnu/libswresample.so.3 \\\r\n/usr/lib/x86_64-linux-gnu/libavdevice.so.58 \\\r\n/usr/lib/x86_64-linux-gnu/libavfilter.so.7 \\\r\n/usr/lib/x86_64-linux-gnu/libavresample.so.4 \\\r\n/usr/lib/x86_64-linux-gnu/libpostproc.so.55 \\\r\n/usr/lib/x86_64-linux-gnu/libraw1394.so.11 \\\r\n/usr/lib/x86_64-linux-gnu/libavc1394.so.0 \\\r\n/usr/lib/x86_64-linux-gnu/librom1394.so.0 \\\r\n/usr/lib/x86_64-linux-gnu/libiec61883.so.0 \\\r\n/usr/lib/x86_64-linux-gnu/libjack.so.0 \\\r\n/usr/lib/x86_64-linux-gnu/libopenal.so.1 \\\r\n/usr/lib/x86_64-linux-gnu/libcdio_paranoia.so.2 \\\r\n/usr/lib/x86_64-linux-gnu/libcdio_cdda.so.2 \\\r\n/usr/lib/x86_64-linux-gnu/libdc1394.so.25 \\\r\n/usr/lib/x86_64-linux-gnu/libcaca.so.0 \\\r\n/usr/lib/x86_64-linux-gnu/libpulse.so.0 \\\r\n/usr/lib/x86_64-linux-gnu/pulseaudio/libpulsecommon-14.2.so \\\r\n/usr/lib/x86_64-linux-gnu/libwrap.so.0 \\\r\n/usr/lib/x86_64-linux-gnu/libsndfile.so.1 \\\r\n/usr/lib/x86_64-linux-gnu/libasyncns.so.0 \\\r\n/usr/lib/x86_64-linux-gnu/libwayland-server.so.0 \\\r\n/usr/lib/x86_64-linux-gnu/libgfortran.so.5 \\\r\n/usr/lib/x86_64-linux-gnu/libSDL2-2.0.so.0 \\\r\n/usr/lib/x86_64-linux-gnu/libpocketsphinx.so.3 \\\r\n/usr/lib/x86_64-linux-gnu/libsphinxbase.so.3 \\\r\n/usr/lib/x86_64-linux-gnu/libbs2b.so.0 \\\r\n/usr/lib/x86_64-linux-gnu/liblilv-0.so.0 \\\r\n/usr/lib/x86_64-linux-gnu/libquadmath.so.0 \\\r\n/usr/lib/x86_64-linux-gnu/librubberband.so.2 \\\r\n/usr/lib/x86_64-linux-gnu/libmysofa.so.1 \\\r\n/usr/lib/x86_64-linux-gnu/libFLAC.so.8 \\\r\n/usr/lib/x86_64-linux-gnu/libflite_cmu_us_awb.so.1 \\\r\n/usr/lib/x86_64-linux-gnu/libflite_cmu_us_kal.so.1 \\\r\n/usr/lib/x86_64-linux-gnu/libflite_cmu_us_kal16.so.1 \\\r\n/usr/lib/x86_64-linux-gnu/libflite_cmu_us_rms.so.1 \\\r\n/usr/lib/x86_64-linux-gnu/libflite_cmu_us_slt.so.1 \\\r\n/usr/lib/x86_64-linux-gnu/libflite.so.1 \\\r\n/usr/lib/x86_64-linux-gnu/libass.so.9 \\\r\n/usr/lib/x86_64-linux-gnu/libusb-1.0.so.0 \\\r\n/usr/lib/x86_64-linux-gnu/libslang.so.2 \\\r\n/usr/lib/x86_64-linux-gnu/libXss.so.1 \\\r\n/usr/lib/x86_64-linux-gnu/libgbm.so.1 \\\r\n/usr/lib/x86_64-linux-gnu/libwayland-egl.so.1 \\\r\n/usr/lib/x86_64-linux-gnu/libwayland-cursor.so.0 \\\r\n/usr/lib/x86_64-linux-gnu/libxkbcommon.so.0 \\\r\n/usr/lib/x86_64-linux-gnu/libblas.so.3 \\\r\n/usr/lib/x86_64-linux-gnu/liblapack.so.3 \\\r\n/usr/lib/x86_64-linux-gnu/libserd-0.so.0 \\\r\n/usr/lib/x86_64-linux-gnu/libsord-0.so.0 \\\r\n/usr/lib/x86_64-linux-gnu/libsratom-0.so.0 \\\r\n/usr/lib/x86_64-linux-gnu/libsamplerate.so.0 \\\r\n/usr/lib/x86_64-linux-gnu/libfftw3.so.3 \\\r\n/usr/lib/x86_64-linux-gnu/libflite_usenglish.so.1 \\\r\n/usr/lib/x86_64-linux-gnu/libflite_cmulex.so.1 \\\r\n/usr/lib/x86_64-linux-gnu/libflite_usenglish.so.1 \\\r\n/usr/lib/x86_64-linux-gnu/libvidstab.so.1.1 \\\r\n/usr/lib/x86_64-linux-gnu/libsndio.so.7.0 \\\r\n/usr/lib/x86_64-linux-gnu/libcdio.so.19 \\\r\n/usr/lib/x86_64-linux-gnu/libcdio.so.19 \\\r\n/usr/lib/x86_64-linux-gnu/libdc1394.so.25 \\\r\n/usr/lib/x86_64-linux-gnu/libaom* \\\r\n/usr/lib/x86_64-linux-gnu/libbluray* \\\r\n/usr/lib/x86_64-linux-gnu/libcairo.so.2 \\\r\n/usr/lib/x86_64-linux-gnu/libcairo-gobject.so.2 \\\r\n/usr/lib/x86_64-linux-gnu/libchromaprint* \\\r\n/usr/lib/x86_64-linux-gnu/libcodec2* \\\r\n/usr/lib/x86_64-linux-gnu/libdav1d.so.4 \\\r\n/usr/lib/x86_64-linux-gnu/libdrm* \\\r\n/usr/lib/x86_64-linux-gnu/libglib-2* \\\r\n/usr/lib/x86_64-linux-gnu/libgme* \\\r\n/usr/lib/x86_64-linux-gnu/libgobject-2* \\\r\n/usr/lib/x86_64-linux-gnu/libgsm* \\\r\n/usr/lib/x86_64-linux-gnu/libmfx* \\\r\n/usr/lib/x86_64-linux-gnu/libmp3lame.so.0 \\\r\n/usr/lib/x86_64-linux-gnu/libOpenCL* \\\r\n/usr/lib/x86_64-linux-gnu/libopenjp2* \\\r\n/usr/lib/x86_64-linux-gnu/libopenmpt.so.0 \\\r\n/usr/lib/x86_64-linux-gnu/libopus* \\\r\n/usr/lib/x86_64-linux-gnu/librabbitmq* \\\r\n/usr/lib/x86_64-linux-gnu/librsvg-2.so.2 \\\r\n/usr/lib/x86_64-linux-gnu/libshine* \\\r\n/usr/lib/x86_64-linux-gnu/libsnappy* \\\r\n/usr/lib/x86_64-linux-gnu/libsoxr* \\\r\n/usr/lib/x86_64-linux-gnu/libspeex* \\\r\n/usr/lib/x86_64-linux-gnu/libsrt-gnutls.so.1.4 \\\r\n/usr/lib/x86_64-linux-gnu/libssh-gcrypt.so.4 \\\r\n/usr/lib/x86_64-linux-gnu/libtheoradec* \\\r\n/usr/lib/x86_64-linux-gnu/libtheoraenc.so.1 \\\r\n/usr/lib/x86_64-linux-gnu/libtwolame* \\\r\n/usr/lib/x86_64-linux-gnu/libva-drm* \\\r\n/usr/lib/x86_64-linux-gnu/libva* \\\r\n/usr/lib/x86_64-linux-gnu/libvdpau* \\\r\n/usr/lib/x86_64-linux-gnu/libvorbis* \\\r\n/usr/lib/x86_64-linux-gnu/libvorbisenc.so.2 \\\r\n/usr/lib/x86_64-linux-gnu/libvpx.so.6 \\\r\n/usr/lib/x86_64-linux-gnu/libwavpack* \\\r\n/usr/lib/x86_64-linux-gnu/libwebp.so.6 \\\r\n/usr/lib/x86_64-linux-gnu/libwebpmux* \\\r\n/usr/lib/x86_64-linux-gnu/libX11.so.6 \\\r\n/usr/lib/x86_64-linux-gnu/ibx26460* \\\r\n/usr/lib/x86_64-linux-gnu/libx26592* \\\r\n/usr/lib/x86_64-linux-gnu/libxml2.so.2 \\\r\n/usr/lib/x86_64-linux-gnu/libxvidcore.so.4 \\\r\n/usr/lib/x86_64-linux-gnu/libzmq.so.5 \\\r\n/usr/lib/x86_64-linux-gnu/libzvbi.so.0 \\\r\n/usr/lib/x86_64-linux-gnu/libpangocairo-1.0* \\\r\n/usr/lib/x86_64-linux-gnu/libxcb-shm* \\\r\n/usr/lib/x86_64-linux-gnu/libxcb* \\\r\n/usr/lib/x86_64-linux-gnu/libXrender* \\\r\n/usr/lib/x86_64-linux-gnu/libffi* \\\r\n/usr/lib/x86_64-linux-gnu/libpango-1.0* \\\r\n/usr/lib/x86_64-linux-gnu/libpixman-1.so.0 \\\r\n/usr/lib/x86_64-linux-gnu/libgdk_pixbuf* \\\r\n/usr/lib/x86_64-linux-gnu/libgnutls.so.30 \\\r\n/usr/lib/x86_64-linux-gnu/libx264* \\\r\n/usr/lib/x86_64-linux-gnu/libx265* \\\r\n/usr/lib/x86_64-linux-gnu/libogg* \\\r\n/usr/lib/x86_64-linux-gnu/libnuma* \\\r\n/usr/lib/x86_64-linux-gnu/libmpg123* \\\r\n/usr/lib/x86_64-linux-gnu/libudfread* \\\r\n/usr/lib/x86_64-linux-gnu/libsodium.so.23 \\\r\n/usr/lib/x86_64-linux-gnu/libpgm-5.3* \\\r\n/usr/lib/x86_64-linux-gnu/libnorm.so.1 \\\r\n/usr/lib/x86_64-linux-gnu/libgomp.so.1 \\\r\n/usr/lib/x86_64-linux-gnu/libXext* \\\r\n/usr/lib/x86_64-linux-gnu/libicuuc.so.67 \\\r\n/usr/lib/x86_64-linux-gnu/libp11-kit.so.0 \\\r\n/usr/lib/x86_64-linux-gnu/libidn2* \\\r\n/usr/lib/x86_64-linux-gnu/libunistring.so.2 \\\r\n/usr/lib/x86_64-linux-gnu/libtasn1* \\\r\n/usr/lib/x86_64-linux-gnu/libnettle.so.8 \\\r\n/usr/lib/x86_64-linux-gnu/libhogweed.so.6 \\\r\n/usr/lib/x86_64-linux-gnu/libgmp.so.10 \\\r\n/usr/lib/x86_64-linux-gnu/libgcrypt.so.20 \\\r\n/usr/lib/x86_64-linux-gnu/libgssapi_krb5* \\\r\n/usr/lib/x86_64-linux-gnu/libbsd* \\\r\n/usr/lib/x86_64-linux-gnu/libXfixes* \\\r\n/usr/lib/x86_64-linux-gnu/libmount.so.1 \\\r\n/usr/lib/x86_64-linux-gnu/libpangoft2-1.0* \\\r\n/usr/lib/x86_64-linux-gnu/libfribidi* \\\r\n/usr/lib/x86_64-linux-gnu/libthai* \\\r\n/usr/lib/x86_64-linux-gnu/libXau* \\\r\n/usr/lib/x86_64-linux-gnu/libXdmcp* \\\r\n/usr/lib/x86_64-linux-gnu/libicudata.so.67 \\\r\n/usr/lib/x86_64-linux-gnu/libkrb5.so.3 \\\r\n/usr/lib/x86_64-linux-gnu/libkrb5support.so.0 \\\r\n/usr/lib/x86_64-linux-gnu/libk5crypto* \\\r\n/usr/lib/x86_64-linux-gnu/libmd* \\\r\n/usr/lib/x86_64-linux-gnu/libblkid* \\\r\n/usr/lib/x86_64-linux-gnu/libpcre2-8.so.0 \\\r\n/usr/lib/x86_64-linux-gnu/libdatrie* \\\r\n/usr/lib/x86_64-linux-gnu/libasound.so.2 \\\r\n/usr/lib/x86_64-linux-gnu/libGL.so.1 \\\r\n/usr/lib/x86_64-linux-gnu/libXv.so.1 \\\r\n/usr/lib/x86_64-linux-gnu/libGLdispatch.so.0 \\\r\n/usr/lib/x86_64-linux-gnu/libGLX.so.0 \\\r\n/usr/lib/x86_64-linux-gnu/libXcursor.so.1 \\\r\n/usr/lib/x86_64-linux-gnu/libXinerama.so.1 \\\r\n/usr/lib/x86_64-linux-gnu/libXi.so.6 \\\r\n/usr/lib/x86_64-linux-gnu/libXrandr.so.2 \\\r\n/usr/lib/x86_64-linux-gnu/libXxf86vm.so.1 \\\r\n/usr/lib/x86_64-linux-gnu/libwayland-client.so.0 \\\r\n/usr/lib/x86_64-linux-gnu/libudev.so.1 \\\r\n/usr/lib/x86_64-linux-gnu/libsystemd.so.0 \\\r\n/usr/lib/x86_64-linux-gnu/libzstd.so.1 \\\r\n/usr/lib/x86_64-linux-gnu/liblz4.so.1 \\\r\n/usr/lib/x86_64-linux-gnu/libnsl.so.2 \\\r\n/opencvlibs/\r\n\r\nENTRYPOINT [&quot;ls&quot;, &quot;opencvlibs&quot;]\r\n\r\n```","title":"Docker + Java + OpenCV, no opencv_java342 in java.library.path","body":"<p><strong>Open CV 4.8 with Java</strong></p>\n<ul>\n<li>This Docker file downloads source and builds an OpenCV in a Debian\ncontainer</li>\n<li>Image contains the Java Jar (opencv-480.jar) and the corresponding share libs (libopencv_java480.so). These are needed for Java &lt;&gt; OpenCV interop</li>\n<li>All transitive dependent .so libs are copied into the <code>opencvlibs</code> dir. If you are deploying on Debian linux, copy the contents of <code>opencvlibs</code> to your <code>libs</code> dir. Linux will then find them by convention</li>\n</ul>\n<p>Running with Java:</p>\n<ul>\n<li>The Jar must be on classpath</li>\n<li>The .so must be specified via <code>java.library.path</code></li>\n</ul>\n<p>Docker file:</p>\n<pre><code>FROM debian:11 AS opencv-libs\n\n# Install minimal prerequisites (Ubuntu 18.04 as reference)\n# Build tools for OpenCV\n# libavcodec, libavformat, libswscale, libavutil, libswresample are needed by ffmpeg. See https://ffmpeg.org/about.html\nRUN apt update &amp;&amp; \\\napt install \\\ncmake build-essential g++ openjdk-17-jdk wget unzip ant python3 python3-numpy \\\nlibtbb-dev libeigen3-dev \\\nlibavcodec-dev libavformat-dev libswscale-dev libavutil-dev libswresample-dev liblzma-dev \\\nffmpeg libpulse0 -y\n\n# Download and unpack OpenCV sources\n# Note that the Java jar version must match the version we build here - 4.8 at the moment\nRUN wget -O opencv.zip https://github.com/opencv/opencv/archive/4.x.zip &amp;&amp; unzip opencv.zip\n\n# Create build directory\nRUN mkdir -p build &amp;&amp; cd build\n\n# Configure OpenCV. Turn off features we do not need to restrict size\n# See: https://docs.opencv.org/4.x/db/d05/tutorial_config_reference.html\n#\n# CMAKE OUTPUT, MUST LOOK LIKE SHOWN BELOW:\n# Important things to note:\n# - Java/ant/JNI are enabled under Java:\n# - FFMPEG is enabled under Video I/O:\n#\n# CMAKE OUTPUT #################################################################################################################################\n#11 28.73 --   OpenCV modules:\n#11 28.74 --     To be built:                 calib3d core features2d flann gapi imgcodecs imgproc java objdetect photo stitching video videoio\n#11 28.74 --     Disabled:                    dnn highgui ml world\n#11 28.74 --     Disabled by dependency:      -\n#11 28.74 --     Unavailable:                 python2 python3 ts\n#11 28.74 --     Applications:                -\n#11 28.74 --     Documentation:               NO\n#11 28.74 --     Non-free algorithms:         NO\n#11 28.74 --\n#11 28.74 --   GUI:\n#11 28.74 --     GTK+:                        NO\n#11 28.74 --     VTK support:                 NO\n#11 28.74 --\n#11 28.74 --   Media I/O:\n#11 28.74 --     ZLib:                        zlib (ver 1.2.13)\n#11 28.74 --     JPEG:                        libjpeg-turbo (ver 2.1.3-62)\n#11 28.74 --     WEBP:                        build (ver encoder: 0x020f)\n#11 28.74 --     PNG:                         build (ver 1.6.37)\n#11 28.74 --     TIFF:                        build (ver 42 - 4.2.0)\n#11 28.74 --     JPEG 2000:                   build (ver 2.5.0)\n#11 28.74 --     OpenEXR:                     build (ver 2.3.0)\n#11 28.75 --     HDR:                         YES\n#11 28.75 --     SUNRASTER:                   YES\n#11 28.75 --     PXM:                         YES\n#11 28.75 --     PFM:                         YES\n#11 28.75 --\n#11 28.75 --   Video I/O:\n#11 28.75 --     DC1394:                      NO\n#11 28.75 --     FFMPEG:                      YES\n#11 28.75 --       avcodec:                   YES (58.91.100)\n#11 28.75 --       avformat:                  YES (58.45.100)\n#11 28.75 --       avutil:                    YES (56.51.100)\n#11 28.75 --       swscale:                   YES (5.7.100)\n#11 28.75 --       avresample:                NO\n#11 28.75 --\n#...\n#11 28.76 --   Java:\n#11 28.76 --     ant:                         /usr/bin/ant (ver 1.10.9)\n#11 28.76 --     Java:                        NO\n#11 28.76 --     JNI:                         /usr/lib/jvm/java-17-openjdk-amd64/include /usr/lib/jvm/java-17-openjdk-amd64/include/linux /usr/lib/jvm/java-17-openjdk-amd64/include\n#11 28.76 --     Java wrappers:               YES (ANT)\n#11 28.76 --     Java tests:                  NO\n# ########################################################################################################################################################\n\n# OpenCV build needs JDK\nENV JAVA_HOME=/usr/lib/jvm/java-17-openjdk-amd64\n\nRUN cmake -DWITH_GSTREAMER=OFF \\\n-DBUILD_opencv_highgui=OFF \\\n-DBUILD_opencv_dnn=OFF \\\n-DBUILD_opencv_ml=OFF \\\n-DBUILD_opencv_apps=OFF \\\n-DBUILD_opencv_js=OFF \\\n-DBUILD_opencv_ts=OFF \\\n-DBUILD_opencv_viz=OFF \\\n-DBUILD_opencv_lagacy=OFF \\\n-DBUILD_opencv_androidcamera=OFF \\\n-DBUILD_SHARED_LIBS=OFF \\\n-DBUILD_PERF_TESTS=OFF \\\n-DBUILD_TESTS=OFF \\\n-DBUILD_opencv_python2=OFF  \\\n-DOPENCV_FFMPEG_SKIP_BUILD_CHECK=ON \\\n-DWITH_V4L=OFF \\\n-DWITH_FFMPEG=ON \\\n-DBUILD_opencv_python3=OFF ../opencv-4.x\n\n# Build OpenCV Java shared lib\nRUN make -j8\n\nFROM debian:11 AS opencv\n\nCOPY --from=opencv-libs /usr/bin/ffmpeg /usr/bin/ffmpeg\n\n# Big(ish) static lib from the OpenCV build. Contains all OpenCV deps.\n# OpenCV JNI layer needs this to work\nCOPY --from=opencv-libs /lib/libopencv_java480.so /opencvlibs/\nCOPY --from=opencv-libs /bin/opencv-480.jar /opencvlibs/\n\n# These are all the shared libs needed by OpenCV - not available in the Distroless container\n# Copy all the /lib dir. Linux will pick up shared libs from /lib by default convention\nCOPY --from=opencv-libs /lib/liblzma* \\\n/lib/x86_64-linux-gnu/liblzma* \\\n/lib/x86_64-linux-gnu/libbz2* \\\n/lib/x86_64-linux-gnu/libgpg-error* \\\n/lib/x86_64-linux-gnu/libselinux* \\\n/lib/x86_64-linux-gnu/libcom_err* \\\n/lib/x86_64-linux-gnu/libkeyutils* \\\n/lib/x86_64-linux-gnu/libncursesw.so.6 \\\n/lib/x86_64-linux-gnu/libtinfo.so.6 \\\n/lib/x86_64-linux-gnu/libdbus-1.so.3 \\\n/lib/x86_64-linux-gnu/libtirpc.so.3 \\\n/usr/lib/x86_64-linux-gnu/libavcodec.so.58 \\\n/usr/lib/x86_64-linux-gnu/libavutil.so.56 \\\n/usr/lib/x86_64-linux-gnu/libswscale.so.5 \\\n/usr/lib/x86_64-linux-gnu/libavformat.so.58 \\\n/usr/lib/x86_64-linux-gnu/libswresample.so.3 \\\n/usr/lib/x86_64-linux-gnu/libavdevice.so.58 \\\n/usr/lib/x86_64-linux-gnu/libavfilter.so.7 \\\n/usr/lib/x86_64-linux-gnu/libavresample.so.4 \\\n/usr/lib/x86_64-linux-gnu/libpostproc.so.55 \\\n/usr/lib/x86_64-linux-gnu/libraw1394.so.11 \\\n/usr/lib/x86_64-linux-gnu/libavc1394.so.0 \\\n/usr/lib/x86_64-linux-gnu/librom1394.so.0 \\\n/usr/lib/x86_64-linux-gnu/libiec61883.so.0 \\\n/usr/lib/x86_64-linux-gnu/libjack.so.0 \\\n/usr/lib/x86_64-linux-gnu/libopenal.so.1 \\\n/usr/lib/x86_64-linux-gnu/libcdio_paranoia.so.2 \\\n/usr/lib/x86_64-linux-gnu/libcdio_cdda.so.2 \\\n/usr/lib/x86_64-linux-gnu/libdc1394.so.25 \\\n/usr/lib/x86_64-linux-gnu/libcaca.so.0 \\\n/usr/lib/x86_64-linux-gnu/libpulse.so.0 \\\n/usr/lib/x86_64-linux-gnu/pulseaudio/libpulsecommon-14.2.so \\\n/usr/lib/x86_64-linux-gnu/libwrap.so.0 \\\n/usr/lib/x86_64-linux-gnu/libsndfile.so.1 \\\n/usr/lib/x86_64-linux-gnu/libasyncns.so.0 \\\n/usr/lib/x86_64-linux-gnu/libwayland-server.so.0 \\\n/usr/lib/x86_64-linux-gnu/libgfortran.so.5 \\\n/usr/lib/x86_64-linux-gnu/libSDL2-2.0.so.0 \\\n/usr/lib/x86_64-linux-gnu/libpocketsphinx.so.3 \\\n/usr/lib/x86_64-linux-gnu/libsphinxbase.so.3 \\\n/usr/lib/x86_64-linux-gnu/libbs2b.so.0 \\\n/usr/lib/x86_64-linux-gnu/liblilv-0.so.0 \\\n/usr/lib/x86_64-linux-gnu/libquadmath.so.0 \\\n/usr/lib/x86_64-linux-gnu/librubberband.so.2 \\\n/usr/lib/x86_64-linux-gnu/libmysofa.so.1 \\\n/usr/lib/x86_64-linux-gnu/libFLAC.so.8 \\\n/usr/lib/x86_64-linux-gnu/libflite_cmu_us_awb.so.1 \\\n/usr/lib/x86_64-linux-gnu/libflite_cmu_us_kal.so.1 \\\n/usr/lib/x86_64-linux-gnu/libflite_cmu_us_kal16.so.1 \\\n/usr/lib/x86_64-linux-gnu/libflite_cmu_us_rms.so.1 \\\n/usr/lib/x86_64-linux-gnu/libflite_cmu_us_slt.so.1 \\\n/usr/lib/x86_64-linux-gnu/libflite.so.1 \\\n/usr/lib/x86_64-linux-gnu/libass.so.9 \\\n/usr/lib/x86_64-linux-gnu/libusb-1.0.so.0 \\\n/usr/lib/x86_64-linux-gnu/libslang.so.2 \\\n/usr/lib/x86_64-linux-gnu/libXss.so.1 \\\n/usr/lib/x86_64-linux-gnu/libgbm.so.1 \\\n/usr/lib/x86_64-linux-gnu/libwayland-egl.so.1 \\\n/usr/lib/x86_64-linux-gnu/libwayland-cursor.so.0 \\\n/usr/lib/x86_64-linux-gnu/libxkbcommon.so.0 \\\n/usr/lib/x86_64-linux-gnu/libblas.so.3 \\\n/usr/lib/x86_64-linux-gnu/liblapack.so.3 \\\n/usr/lib/x86_64-linux-gnu/libserd-0.so.0 \\\n/usr/lib/x86_64-linux-gnu/libsord-0.so.0 \\\n/usr/lib/x86_64-linux-gnu/libsratom-0.so.0 \\\n/usr/lib/x86_64-linux-gnu/libsamplerate.so.0 \\\n/usr/lib/x86_64-linux-gnu/libfftw3.so.3 \\\n/usr/lib/x86_64-linux-gnu/libflite_usenglish.so.1 \\\n/usr/lib/x86_64-linux-gnu/libflite_cmulex.so.1 \\\n/usr/lib/x86_64-linux-gnu/libflite_usenglish.so.1 \\\n/usr/lib/x86_64-linux-gnu/libvidstab.so.1.1 \\\n/usr/lib/x86_64-linux-gnu/libsndio.so.7.0 \\\n/usr/lib/x86_64-linux-gnu/libcdio.so.19 \\\n/usr/lib/x86_64-linux-gnu/libcdio.so.19 \\\n/usr/lib/x86_64-linux-gnu/libdc1394.so.25 \\\n/usr/lib/x86_64-linux-gnu/libaom* \\\n/usr/lib/x86_64-linux-gnu/libbluray* \\\n/usr/lib/x86_64-linux-gnu/libcairo.so.2 \\\n/usr/lib/x86_64-linux-gnu/libcairo-gobject.so.2 \\\n/usr/lib/x86_64-linux-gnu/libchromaprint* \\\n/usr/lib/x86_64-linux-gnu/libcodec2* \\\n/usr/lib/x86_64-linux-gnu/libdav1d.so.4 \\\n/usr/lib/x86_64-linux-gnu/libdrm* \\\n/usr/lib/x86_64-linux-gnu/libglib-2* \\\n/usr/lib/x86_64-linux-gnu/libgme* \\\n/usr/lib/x86_64-linux-gnu/libgobject-2* \\\n/usr/lib/x86_64-linux-gnu/libgsm* \\\n/usr/lib/x86_64-linux-gnu/libmfx* \\\n/usr/lib/x86_64-linux-gnu/libmp3lame.so.0 \\\n/usr/lib/x86_64-linux-gnu/libOpenCL* \\\n/usr/lib/x86_64-linux-gnu/libopenjp2* \\\n/usr/lib/x86_64-linux-gnu/libopenmpt.so.0 \\\n/usr/lib/x86_64-linux-gnu/libopus* \\\n/usr/lib/x86_64-linux-gnu/librabbitmq* \\\n/usr/lib/x86_64-linux-gnu/librsvg-2.so.2 \\\n/usr/lib/x86_64-linux-gnu/libshine* \\\n/usr/lib/x86_64-linux-gnu/libsnappy* \\\n/usr/lib/x86_64-linux-gnu/libsoxr* \\\n/usr/lib/x86_64-linux-gnu/libspeex* \\\n/usr/lib/x86_64-linux-gnu/libsrt-gnutls.so.1.4 \\\n/usr/lib/x86_64-linux-gnu/libssh-gcrypt.so.4 \\\n/usr/lib/x86_64-linux-gnu/libtheoradec* \\\n/usr/lib/x86_64-linux-gnu/libtheoraenc.so.1 \\\n/usr/lib/x86_64-linux-gnu/libtwolame* \\\n/usr/lib/x86_64-linux-gnu/libva-drm* \\\n/usr/lib/x86_64-linux-gnu/libva* \\\n/usr/lib/x86_64-linux-gnu/libvdpau* \\\n/usr/lib/x86_64-linux-gnu/libvorbis* \\\n/usr/lib/x86_64-linux-gnu/libvorbisenc.so.2 \\\n/usr/lib/x86_64-linux-gnu/libvpx.so.6 \\\n/usr/lib/x86_64-linux-gnu/libwavpack* \\\n/usr/lib/x86_64-linux-gnu/libwebp.so.6 \\\n/usr/lib/x86_64-linux-gnu/libwebpmux* \\\n/usr/lib/x86_64-linux-gnu/libX11.so.6 \\\n/usr/lib/x86_64-linux-gnu/ibx26460* \\\n/usr/lib/x86_64-linux-gnu/libx26592* \\\n/usr/lib/x86_64-linux-gnu/libxml2.so.2 \\\n/usr/lib/x86_64-linux-gnu/libxvidcore.so.4 \\\n/usr/lib/x86_64-linux-gnu/libzmq.so.5 \\\n/usr/lib/x86_64-linux-gnu/libzvbi.so.0 \\\n/usr/lib/x86_64-linux-gnu/libpangocairo-1.0* \\\n/usr/lib/x86_64-linux-gnu/libxcb-shm* \\\n/usr/lib/x86_64-linux-gnu/libxcb* \\\n/usr/lib/x86_64-linux-gnu/libXrender* \\\n/usr/lib/x86_64-linux-gnu/libffi* \\\n/usr/lib/x86_64-linux-gnu/libpango-1.0* \\\n/usr/lib/x86_64-linux-gnu/libpixman-1.so.0 \\\n/usr/lib/x86_64-linux-gnu/libgdk_pixbuf* \\\n/usr/lib/x86_64-linux-gnu/libgnutls.so.30 \\\n/usr/lib/x86_64-linux-gnu/libx264* \\\n/usr/lib/x86_64-linux-gnu/libx265* \\\n/usr/lib/x86_64-linux-gnu/libogg* \\\n/usr/lib/x86_64-linux-gnu/libnuma* \\\n/usr/lib/x86_64-linux-gnu/libmpg123* \\\n/usr/lib/x86_64-linux-gnu/libudfread* \\\n/usr/lib/x86_64-linux-gnu/libsodium.so.23 \\\n/usr/lib/x86_64-linux-gnu/libpgm-5.3* \\\n/usr/lib/x86_64-linux-gnu/libnorm.so.1 \\\n/usr/lib/x86_64-linux-gnu/libgomp.so.1 \\\n/usr/lib/x86_64-linux-gnu/libXext* \\\n/usr/lib/x86_64-linux-gnu/libicuuc.so.67 \\\n/usr/lib/x86_64-linux-gnu/libp11-kit.so.0 \\\n/usr/lib/x86_64-linux-gnu/libidn2* \\\n/usr/lib/x86_64-linux-gnu/libunistring.so.2 \\\n/usr/lib/x86_64-linux-gnu/libtasn1* \\\n/usr/lib/x86_64-linux-gnu/libnettle.so.8 \\\n/usr/lib/x86_64-linux-gnu/libhogweed.so.6 \\\n/usr/lib/x86_64-linux-gnu/libgmp.so.10 \\\n/usr/lib/x86_64-linux-gnu/libgcrypt.so.20 \\\n/usr/lib/x86_64-linux-gnu/libgssapi_krb5* \\\n/usr/lib/x86_64-linux-gnu/libbsd* \\\n/usr/lib/x86_64-linux-gnu/libXfixes* \\\n/usr/lib/x86_64-linux-gnu/libmount.so.1 \\\n/usr/lib/x86_64-linux-gnu/libpangoft2-1.0* \\\n/usr/lib/x86_64-linux-gnu/libfribidi* \\\n/usr/lib/x86_64-linux-gnu/libthai* \\\n/usr/lib/x86_64-linux-gnu/libXau* \\\n/usr/lib/x86_64-linux-gnu/libXdmcp* \\\n/usr/lib/x86_64-linux-gnu/libicudata.so.67 \\\n/usr/lib/x86_64-linux-gnu/libkrb5.so.3 \\\n/usr/lib/x86_64-linux-gnu/libkrb5support.so.0 \\\n/usr/lib/x86_64-linux-gnu/libk5crypto* \\\n/usr/lib/x86_64-linux-gnu/libmd* \\\n/usr/lib/x86_64-linux-gnu/libblkid* \\\n/usr/lib/x86_64-linux-gnu/libpcre2-8.so.0 \\\n/usr/lib/x86_64-linux-gnu/libdatrie* \\\n/usr/lib/x86_64-linux-gnu/libasound.so.2 \\\n/usr/lib/x86_64-linux-gnu/libGL.so.1 \\\n/usr/lib/x86_64-linux-gnu/libXv.so.1 \\\n/usr/lib/x86_64-linux-gnu/libGLdispatch.so.0 \\\n/usr/lib/x86_64-linux-gnu/libGLX.so.0 \\\n/usr/lib/x86_64-linux-gnu/libXcursor.so.1 \\\n/usr/lib/x86_64-linux-gnu/libXinerama.so.1 \\\n/usr/lib/x86_64-linux-gnu/libXi.so.6 \\\n/usr/lib/x86_64-linux-gnu/libXrandr.so.2 \\\n/usr/lib/x86_64-linux-gnu/libXxf86vm.so.1 \\\n/usr/lib/x86_64-linux-gnu/libwayland-client.so.0 \\\n/usr/lib/x86_64-linux-gnu/libudev.so.1 \\\n/usr/lib/x86_64-linux-gnu/libsystemd.so.0 \\\n/usr/lib/x86_64-linux-gnu/libzstd.so.1 \\\n/usr/lib/x86_64-linux-gnu/liblz4.so.1 \\\n/usr/lib/x86_64-linux-gnu/libnsl.so.2 \\\n/opencvlibs/\n\nENTRYPOINT [&quot;ls&quot;, &quot;opencvlibs&quot;]\n\n</code></pre>\n"}],"owner":{"account_id":5359648,"reputation":427,"user_id":4271331,"display_name":"Gustavo Ponce"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":3064,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1690149946,"creation_date":1570413616,"question_id":58262682,"body_markdown":"I am trying to generate a docker image with the following characteristics\r\n\r\n - **SO** --&gt; ubuntu:18.04 \r\n - **Java** --&gt; openjdk-11-jdk \r\n - **OpenCV** --&gt; 3.4.2 version\r\n\r\nI am able to generate the images successfully but the java342 file is not generated in the lib folder, I am getting this exception: **no opencv_java342 in java.library.path**\r\n\r\nI am launching my app using the following command as entrypoint:\r\n\r\n    java -Djava.library.path=/var/lib/opencv-3.4.2/build/lib -jar Application.jar \r\n\r\n**Log Output**\r\n\r\n    Constructor threw exception; nested exception is java.lang.UnsatisfiedLinkError: no opencv_java342 in java.library.path: [/var/lib/opencv-3.4.2/build/lib]\r\n            at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateBean(AbstractAutowireCapableBeanFactory.java:1303) ~[spring-beans-5.1.8.RELEASE.jar!/:5.1.8.RELEASE]\r\n            at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1197) ~[spring-beans-5.1.8.RELEASE.jar!/:5.1.8.RELEASE]\r\n            at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:555) ~[spring-beans-5.1.8.RELEASE.jar!/:5.1.8.RELEASE]\r\n            at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515) ~[spring-beans-5.1.8.RELEASE.jar!/:5.1.8.RELEASE]\r\n            at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320) ~[spring-beans-5.1.8.RELEASE.jar!/:5.1.8.RELEASE]\r\n            at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.1.8.RELEASE.jar!/:5.1.8.RELEASE]\r\n            at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318) ~[spring-beans-5.1.8.RELEASE.jar!/:5.1.8.RELEASE]\r\n            at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.1.8.RELEASE.jar!/:5.1.8.RELEASE]\r\n            at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:845) ~[spring-beans-5.1.8.RELEASE.jar!/:5.1.8.RELEASE]\r\n            at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:877) ~[spring-context-5.1.8.RELEASE.jar!/:5.1.8.RELEASE]\r\n            at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:549) ~[spring-context-5.1.8.RELEASE.jar!/:5.1.8.RELEASE]\r\n            at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:742) ~[spring-boot-2.1.6.RELEASE.jar!/:2.1.6.RELEASE]\r\n            at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:389) ~[spring-boot-2.1.6.RELEASE.jar!/:2.1.6.RELEASE]\r\n            at org.springframework.boot.SpringApplication.run(SpringApplication.java:311) ~[spring-boot-2.1.6.RELEASE.jar!/:2.1.6.RELEASE]\r\n            at org.springframework.boot.SpringApplication.run(SpringApplication.java:1213) ~[spring-boot-2.1.6.RELEASE.jar!/:2.1.6.RELEASE]\r\n            at org.springframework.boot.SpringApplication.run(SpringApplication.java:1202) ~[spring-boot-2.1.6.RELEASE.jar!/:2.1.6.RELEASE]\r\n            at com.etaluma.oem.controller.camera.CameraServerApplication.main(CameraServerApplication.java:11) ~[classes!/:0.8.11-SNAPSHOT]\r\n            at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n            at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]\r\n            at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n            at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\r\n            at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:47) ~[CameraServerSimulator.jar:0.8.11-SNAPSHOT]\r\n            at org.springframework.boot.loader.Launcher.launch(Launcher.java:86) ~[CameraServerSimulator.jar:0.8.11-SNAPSHOT]\r\n            at org.springframework.boot.loader.Launcher.launch(Launcher.java:50) ~[CameraServerSimulator.jar:0.8.11-SNAPSHOT]\r\n            at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:51) ~[CameraServerSimulator.jar:0.8.11-SNAPSHOT]\r\n    Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.etaluma.oem.controller.camera.CameraServerImpl]: Constructor threw exception; nested exception is java.lang.UnsatisfiedLinkError: no opencv_java342 in java.library.path: [/var/lib/opencv-3.4.2/build/lib]\r\n            at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:184) ~[spring-beans-5.1.8.RELEASE.jar!/:5.1.8.RELEASE]\r\n            at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:87) ~[spring-beans-5.1.8.RELEASE.jar!/:5.1.8.RELEASE]\r\n            at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateBean(AbstractAutowireCapableBeanFactory.java:1295) ~[spring-beans-5.1.8.RELEASE.jar!/:5.1.8.RELEASE]\r\n            ... 24 common frames omitted\r\n    Caused by: java.lang.UnsatisfiedLinkError: no opencv_java342 in java.library.path: [/var/lib/opencv-3.4.2/build/lib]\r\n            at java.base/java.lang.ClassLoader.loadLibrary(ClassLoader.java:2660) ~[na:na]\r\n            at java.base/java.lang.Runtime.loadLibrary0(Runtime.java:829) ~[na:na]\r\n            at java.base/java.lang.System.loadLibrary(System.java:1867) ~[na:na]\r\n            at com.etaluma.oem.controller.camera.CameraServerImpl.&lt;init&gt;(CameraServerImpl.java:24) ~[classes!/:0.8.11-SNAPSHOT]\r\n            at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[na:na]\r\n            at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62) ~[na:na]\r\n            at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[na:na]\r\n            at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:490) ~[na:na]\r\n            at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:172) ~[spring-beans-5.1.8.RELEASE.jar!/:5.1.8.RELEASE]\r\n            ... 26 common frames omitted\r\n\r\n\r\n**Docker File**\r\n\r\n    FROM ubuntu:18.04\r\n    \r\n    RUN apt-get update\r\n    RUN apt-get install -y ant\r\n    RUN apt-get install -y openjdk-11-jdk\r\n    ARG JAVA_HOME=&quot;/usr/lib/jvm/java-11-openjdk-amd64&quot;\r\n    ENV JAVA_HOME=&quot;/usr/lib/jvm/java-11-openjdk-amd64&quot;\r\n    RUN echo $JAVA_HOME\r\n    RUN apt-get install -y wget\r\n    RUN apt-get install -y cmake\r\n    RUN apt-get install -y g++\r\n    RUN apt-get install -y unzip\r\n    RUN apt-get install -y vim\r\n    RUN java -version\r\n    \r\n    RUN wget https://github.com/opencv/opencv/archive/3.4.2.zip\r\n    RUN unzip 3.4.2.zip -d /var/lib/\r\n    RUN mkdir /var/lib/opencv-3.4.2/build\r\n    WORKDIR /var/lib/opencv-3.4.2/build\r\n    RUN cmake -DBUILD_SHARED_LIBS=OFF ..\r\n    RUN make -j8\r\n\r\n**Docker File System**\r\n[![enter image description here][1]][1]\r\n\r\n\r\n**General configuration from the OpenCV compilation process**\r\n\r\n    -- General configuration for OpenCV 3.4.2 =====================================\r\n    --   Version control:               unknown\r\n    --\r\n    --   Platform:\r\n    --     Timestamp:                   2019-10-07T00:32:28Z\r\n    --     Host:                        Linux 4.9.184-linuxkit x86_64\r\n    --     CMake:                       3.10.2\r\n    --     CMake generator:             Unix Makefiles\r\n    --     CMake build tool:            /usr/bin/make\r\n    --     Configuration:               Release\r\n    --\r\n    --   CPU/HW features:\r\n    --     Baseline:                    SSE SSE2 SSE3\r\n    --       requested:                 SSE3\r\n    --     Dispatched code generation:  SSE4_1 SSE4_2 FP16 AVX AVX2 AVX512_SKX\r\n    --       requested:                 SSE4_1 SSE4_2 AVX FP16 AVX2 AVX512_SKX\r\n    --       SSE4_1 (3 files):          + SSSE3 SSE4_1\r\n    --       SSE4_2 (1 files):          + SSSE3 SSE4_1 POPCNT SSE4_2\r\n    --       FP16 (2 files):            + SSSE3 SSE4_1 POPCNT SSE4_2 FP16 AVX\r\n    --       AVX (5 files):             + SSSE3 SSE4_1 POPCNT SSE4_2 AVX\r\n    --       AVX2 (9 files):            + SSSE3 SSE4_1 POPCNT SSE4_2 FP16 FMA3 AVX AVX2\r\n    --       AVX512_SKX (1 files):      + SSSE3 SSE4_1 POPCNT SSE4_2 FP16 FMA3 AVX AVX2 AVX_512F AVX512_SKX\r\n    --\r\n    --   C/C++:\r\n    --     Built as dynamic libs?:      NO\r\n    --     C++11:                       YES\r\n    --     C++ Compiler:                /usr/bin/c++  (ver 7.4.0)\r\n    --     C++ flags (Release):         -fsigned-char -W -Wall -Werror=return-type -Werror=non-virtual-dtor -Werror=address -Werror=sequence-point -Wformat -Werror=format-security -Wmissing-declarations -Wundef -Winit-self -Wpointer-arith -Wshadow -Wsign-promo -Wuninitialized -Winit-self -Wno-narrowing -Wno-delete-non-virtual-dtor -Wno-comment -Wimplicit-fallthrough=3 -fdiagnostics-show-option -Wno-long-long -pthread -fomit-frame-pointer -ffunction-sections -fdata-sections  -msse -msse2 -msse3 -fvisibility=hidden -fvisibility-inlines-hidden -O3 -DNDEBUG  -DNDEBUG\r\n    --     C++ flags (Debug):           -fsigned-char -W -Wall -Werror=return-type -Werror=non-virtual-dtor -Werror=address -Werror=sequence-point -Wformat -Werror=format-security -Wmissing-declarations -Wundef -Winit-self -Wpointer-arith -Wshadow -Wsign-promo -Wuninitialized -Winit-self -Wno-narrowing -Wno-delete-non-virtual-dtor -Wno-comment -Wimplicit-fallthrough=3 -fdiagnostics-show-option -Wno-long-long -pthread -fomit-frame-pointer -ffunction-sections -fdata-sections  -msse -msse2 -msse3 -fvisibility=hidden -fvisibility-inlines-hidden -g  -O0 -DDEBUG -D_DEBUG\r\n    --     C Compiler:                  /usr/bin/cc\r\n    --     C flags (Release):           -fsigned-char -W -Wall -Werror=return-type -Werror=non-virtual-dtor -Werror=address -Werror=sequence-point -Wformat -Werror=format-security -Wmissing-declarations -Wmissing-prototypes -Wstrict-prototypes -Wundef -Winit-self -Wpointer-arith -Wshadow -Wuninitialized -Winit-self -Wno-narrowing -Wno-comment -Wimplicit-fallthrough=3 -fdiagnostics-show-option -Wno-long-long -pthread -fomit-frame-pointer -ffunction-sections -fdata-sections  -msse -msse2 -msse3 -fvisibility=hidden -O3 -DNDEBUG  -DNDEBUG\r\n    --     C flags (Debug):             -fsigned-char -W -Wall -Werror=return-type -Werror=non-virtual-dtor -Werror=address -Werror=sequence-point -Wformat -Werror=format-security -Wmissing-declarations -Wmissing-prototypes -Wstrict-prototypes -Wundef -Winit-self -Wpointer-arith -Wshadow -Wuninitialized -Winit-self -Wno-narrowing -Wno-comment -Wimplicit-fallthrough=3 -fdiagnostics-show-option -Wno-long-long -pthread -fomit-frame-pointer -ffunction-sections -fdata-sections  -msse -msse2 -msse3 -fvisibility=hidden -g  -O0 -DDEBUG -D_DEBUG\r\n    --     Linker flags (Release):\r\n    --     Linker flags (Debug):\r\n    --     ccache:                      NO\r\n    --     Precompiled headers:         YES\r\n    --     Extra dependencies:          dl m pthread rt\r\n    --     3rdparty dependencies:       ittnotify libprotobuf zlib libjpeg-turbo libwebp libpng libtiff libjasper IlmImf ippiw ippicv\r\n    --\r\n    --   OpenCV modules:\r\n    --     To be built:                 calib3d core dnn features2d flann highgui imgcodecs imgproc java_bindings_generator ml objdetect photo python_bindings_generator shape stitching superres ts video videoio videostab\r\n    --     Disabled:                    js world\r\n    --     Disabled by dependency:      -\r\n    --     Unavailable:                 cudaarithm cudabgsegm cudacodec cudafeatures2d cudafilters cudaimgproc cudalegacy cudaobjdetect cudaoptflow cudastereo cudawarping cudev java python2 python3 viz\r\n    --     Applications:                tests perf_tests apps\r\n    --     Documentation:               NO\r\n    --     Non-free algorithms:         NO\r\n    --\r\n    --   GUI:\r\n    --     GTK+:                        NO\r\n    --     VTK support:                 NO\r\n    --\r\n    --   Media I/O:\r\n    --     ZLib:                        build (ver 1.2.11)\r\n    --     JPEG:                        libjpeg-turbo (ver 1.5.3-62)\r\n    --     WEBP:                        build (ver encoder: 0x020e)\r\n    --     PNG:                         build (ver 1.6.34)\r\n    --     TIFF:                        build (ver 42 - 4.0.9)\r\n    --     JPEG 2000:                   build (ver 1.900.1)\r\n    --     OpenEXR:                     build (ver 1.7.1)\r\n    --     HDR:                         YES\r\n    --     SUNRASTER:                   YES\r\n    --     PXM:                         YES\r\n    --\r\n    --   Video I/O:\r\n    --     DC1394:                      NO\r\n    --     FFMPEG:                      NO\r\n    --       avcodec:                   NO\r\n    --       avformat:                  NO\r\n    --       avutil:                    NO\r\n    --       swscale:                   NO\r\n    --       avresample:                NO\r\n    --     GStreamer:                   NO\r\n    --     libv4l/libv4l2:              NO\r\n    --     v4l/v4l2:                    linux/videodev2.h\r\n    --     gPhoto2:                     NO\r\n    --\r\n    --   Parallel framework:            pthreads\r\n    --\r\n    --   Trace:                         YES (with Intel ITT)\r\n    --\r\n    --   Other third-party libraries:\r\n    --     Intel IPP:                   2017.0.3 [2017.0.3]\r\n    --            at:                   /var/lib/opencv-3.4.2/build/3rdparty/ippicv/ippicv_lnx\r\n    --     Intel IPP IW:                sources (2017.0.3)\r\n    --               at:                /var/lib/opencv-3.4.2/build/3rdparty/ippicv/ippiw_lnx\r\n    --     Lapack:                      NO\r\n    --     Eigen:                       NO\r\n    --     Custom HAL:                  NO\r\n    --     Protobuf:                    build (3.5.1)\r\n    --\r\n    --   OpenCL:                        YES (no extra features)\r\n    --     Include path:                /var/lib/opencv-3.4.2/3rdparty/include/opencl/1.2\r\n    --     Link libraries:              Dynamic load\r\n    --\r\n    --   Python (for build):            NO\r\n    --\r\n    --   Java:\r\n    --     ant:                         /usr/bin/ant (ver 1.10.5)\r\n    --     JNI:                         /usr/lib/jvm/java-11-openjdk-amd64/include /usr/lib/jvm/java-11-openjdk-amd64/include/linux /usr/lib/jvm/java-11-openjdk-amd64/include\r\n    --     Java wrappers:               NO\r\n    --     Java tests:                  NO\r\n    --\r\n    --   Matlab:                        NO\r\n    --\r\n    --   Install to:                    /usr/local\r\n    -- -----------------------------------------------------------------\r\n    --\r\n    -- Configuring done\r\n    -- Generating done\r\n    -- Build files have been written to: /var/lib/opencv-3.4.2/build\r\n\r\n\r\nSo I would like to know if I am missing something in the docker file or in the openCV compilation process.\r\n\r\nNote: If I execute the same process in a native machine everything works as expected\r\n\r\nAny suggestions?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/A6uYR.png\r\n","title":"Docker + Java + OpenCV, no opencv_java342 in java.library.path","body":"<p>I am trying to generate a docker image with the following characteristics</p>\n\n<ul>\n<li><strong>SO</strong> --> ubuntu:18.04 </li>\n<li><strong>Java</strong> --> openjdk-11-jdk </li>\n<li><strong>OpenCV</strong> --> 3.4.2 version</li>\n</ul>\n\n<p>I am able to generate the images successfully but the java342 file is not generated in the lib folder, I am getting this exception: <strong>no opencv_java342 in java.library.path</strong></p>\n\n<p>I am launching my app using the following command as entrypoint:</p>\n\n<pre><code>java -Djava.library.path=/var/lib/opencv-3.4.2/build/lib -jar Application.jar \n</code></pre>\n\n<p><strong>Log Output</strong></p>\n\n<pre><code>Constructor threw exception; nested exception is java.lang.UnsatisfiedLinkError: no opencv_java342 in java.library.path: [/var/lib/opencv-3.4.2/build/lib]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateBean(AbstractAutowireCapableBeanFactory.java:1303) ~[spring-beans-5.1.8.RELEASE.jar!/:5.1.8.RELEASE]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1197) ~[spring-beans-5.1.8.RELEASE.jar!/:5.1.8.RELEASE]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:555) ~[spring-beans-5.1.8.RELEASE.jar!/:5.1.8.RELEASE]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515) ~[spring-beans-5.1.8.RELEASE.jar!/:5.1.8.RELEASE]\n        at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320) ~[spring-beans-5.1.8.RELEASE.jar!/:5.1.8.RELEASE]\n        at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.1.8.RELEASE.jar!/:5.1.8.RELEASE]\n        at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318) ~[spring-beans-5.1.8.RELEASE.jar!/:5.1.8.RELEASE]\n        at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.1.8.RELEASE.jar!/:5.1.8.RELEASE]\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:845) ~[spring-beans-5.1.8.RELEASE.jar!/:5.1.8.RELEASE]\n        at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:877) ~[spring-context-5.1.8.RELEASE.jar!/:5.1.8.RELEASE]\n        at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:549) ~[spring-context-5.1.8.RELEASE.jar!/:5.1.8.RELEASE]\n        at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:742) ~[spring-boot-2.1.6.RELEASE.jar!/:2.1.6.RELEASE]\n        at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:389) ~[spring-boot-2.1.6.RELEASE.jar!/:2.1.6.RELEASE]\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:311) ~[spring-boot-2.1.6.RELEASE.jar!/:2.1.6.RELEASE]\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1213) ~[spring-boot-2.1.6.RELEASE.jar!/:2.1.6.RELEASE]\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1202) ~[spring-boot-2.1.6.RELEASE.jar!/:2.1.6.RELEASE]\n        at com.etaluma.oem.controller.camera.CameraServerApplication.main(CameraServerApplication.java:11) ~[classes!/:0.8.11-SNAPSHOT]\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n        at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\n        at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:47) ~[CameraServerSimulator.jar:0.8.11-SNAPSHOT]\n        at org.springframework.boot.loader.Launcher.launch(Launcher.java:86) ~[CameraServerSimulator.jar:0.8.11-SNAPSHOT]\n        at org.springframework.boot.loader.Launcher.launch(Launcher.java:50) ~[CameraServerSimulator.jar:0.8.11-SNAPSHOT]\n        at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:51) ~[CameraServerSimulator.jar:0.8.11-SNAPSHOT]\nCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.etaluma.oem.controller.camera.CameraServerImpl]: Constructor threw exception; nested exception is java.lang.UnsatisfiedLinkError: no opencv_java342 in java.library.path: [/var/lib/opencv-3.4.2/build/lib]\n        at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:184) ~[spring-beans-5.1.8.RELEASE.jar!/:5.1.8.RELEASE]\n        at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:87) ~[spring-beans-5.1.8.RELEASE.jar!/:5.1.8.RELEASE]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateBean(AbstractAutowireCapableBeanFactory.java:1295) ~[spring-beans-5.1.8.RELEASE.jar!/:5.1.8.RELEASE]\n        ... 24 common frames omitted\nCaused by: java.lang.UnsatisfiedLinkError: no opencv_java342 in java.library.path: [/var/lib/opencv-3.4.2/build/lib]\n        at java.base/java.lang.ClassLoader.loadLibrary(ClassLoader.java:2660) ~[na:na]\n        at java.base/java.lang.Runtime.loadLibrary0(Runtime.java:829) ~[na:na]\n        at java.base/java.lang.System.loadLibrary(System.java:1867) ~[na:na]\n        at com.etaluma.oem.controller.camera.CameraServerImpl.&lt;init&gt;(CameraServerImpl.java:24) ~[classes!/:0.8.11-SNAPSHOT]\n        at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[na:na]\n        at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62) ~[na:na]\n        at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[na:na]\n        at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:490) ~[na:na]\n        at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:172) ~[spring-beans-5.1.8.RELEASE.jar!/:5.1.8.RELEASE]\n        ... 26 common frames omitted\n</code></pre>\n\n<p><strong>Docker File</strong></p>\n\n<pre><code>FROM ubuntu:18.04\n\nRUN apt-get update\nRUN apt-get install -y ant\nRUN apt-get install -y openjdk-11-jdk\nARG JAVA_HOME=\"/usr/lib/jvm/java-11-openjdk-amd64\"\nENV JAVA_HOME=\"/usr/lib/jvm/java-11-openjdk-amd64\"\nRUN echo $JAVA_HOME\nRUN apt-get install -y wget\nRUN apt-get install -y cmake\nRUN apt-get install -y g++\nRUN apt-get install -y unzip\nRUN apt-get install -y vim\nRUN java -version\n\nRUN wget https://github.com/opencv/opencv/archive/3.4.2.zip\nRUN unzip 3.4.2.zip -d /var/lib/\nRUN mkdir /var/lib/opencv-3.4.2/build\nWORKDIR /var/lib/opencv-3.4.2/build\nRUN cmake -DBUILD_SHARED_LIBS=OFF ..\nRUN make -j8\n</code></pre>\n\n<p><strong>Docker File System</strong>\n<a href=\"https://i.stack.imgur.com/A6uYR.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/A6uYR.png\" alt=\"enter image description here\"></a></p>\n\n<p><strong>General configuration from the OpenCV compilation process</strong></p>\n\n<pre><code>-- General configuration for OpenCV 3.4.2 =====================================\n--   Version control:               unknown\n--\n--   Platform:\n--     Timestamp:                   2019-10-07T00:32:28Z\n--     Host:                        Linux 4.9.184-linuxkit x86_64\n--     CMake:                       3.10.2\n--     CMake generator:             Unix Makefiles\n--     CMake build tool:            /usr/bin/make\n--     Configuration:               Release\n--\n--   CPU/HW features:\n--     Baseline:                    SSE SSE2 SSE3\n--       requested:                 SSE3\n--     Dispatched code generation:  SSE4_1 SSE4_2 FP16 AVX AVX2 AVX512_SKX\n--       requested:                 SSE4_1 SSE4_2 AVX FP16 AVX2 AVX512_SKX\n--       SSE4_1 (3 files):          + SSSE3 SSE4_1\n--       SSE4_2 (1 files):          + SSSE3 SSE4_1 POPCNT SSE4_2\n--       FP16 (2 files):            + SSSE3 SSE4_1 POPCNT SSE4_2 FP16 AVX\n--       AVX (5 files):             + SSSE3 SSE4_1 POPCNT SSE4_2 AVX\n--       AVX2 (9 files):            + SSSE3 SSE4_1 POPCNT SSE4_2 FP16 FMA3 AVX AVX2\n--       AVX512_SKX (1 files):      + SSSE3 SSE4_1 POPCNT SSE4_2 FP16 FMA3 AVX AVX2 AVX_512F AVX512_SKX\n--\n--   C/C++:\n--     Built as dynamic libs?:      NO\n--     C++11:                       YES\n--     C++ Compiler:                /usr/bin/c++  (ver 7.4.0)\n--     C++ flags (Release):         -fsigned-char -W -Wall -Werror=return-type -Werror=non-virtual-dtor -Werror=address -Werror=sequence-point -Wformat -Werror=format-security -Wmissing-declarations -Wundef -Winit-self -Wpointer-arith -Wshadow -Wsign-promo -Wuninitialized -Winit-self -Wno-narrowing -Wno-delete-non-virtual-dtor -Wno-comment -Wimplicit-fallthrough=3 -fdiagnostics-show-option -Wno-long-long -pthread -fomit-frame-pointer -ffunction-sections -fdata-sections  -msse -msse2 -msse3 -fvisibility=hidden -fvisibility-inlines-hidden -O3 -DNDEBUG  -DNDEBUG\n--     C++ flags (Debug):           -fsigned-char -W -Wall -Werror=return-type -Werror=non-virtual-dtor -Werror=address -Werror=sequence-point -Wformat -Werror=format-security -Wmissing-declarations -Wundef -Winit-self -Wpointer-arith -Wshadow -Wsign-promo -Wuninitialized -Winit-self -Wno-narrowing -Wno-delete-non-virtual-dtor -Wno-comment -Wimplicit-fallthrough=3 -fdiagnostics-show-option -Wno-long-long -pthread -fomit-frame-pointer -ffunction-sections -fdata-sections  -msse -msse2 -msse3 -fvisibility=hidden -fvisibility-inlines-hidden -g  -O0 -DDEBUG -D_DEBUG\n--     C Compiler:                  /usr/bin/cc\n--     C flags (Release):           -fsigned-char -W -Wall -Werror=return-type -Werror=non-virtual-dtor -Werror=address -Werror=sequence-point -Wformat -Werror=format-security -Wmissing-declarations -Wmissing-prototypes -Wstrict-prototypes -Wundef -Winit-self -Wpointer-arith -Wshadow -Wuninitialized -Winit-self -Wno-narrowing -Wno-comment -Wimplicit-fallthrough=3 -fdiagnostics-show-option -Wno-long-long -pthread -fomit-frame-pointer -ffunction-sections -fdata-sections  -msse -msse2 -msse3 -fvisibility=hidden -O3 -DNDEBUG  -DNDEBUG\n--     C flags (Debug):             -fsigned-char -W -Wall -Werror=return-type -Werror=non-virtual-dtor -Werror=address -Werror=sequence-point -Wformat -Werror=format-security -Wmissing-declarations -Wmissing-prototypes -Wstrict-prototypes -Wundef -Winit-self -Wpointer-arith -Wshadow -Wuninitialized -Winit-self -Wno-narrowing -Wno-comment -Wimplicit-fallthrough=3 -fdiagnostics-show-option -Wno-long-long -pthread -fomit-frame-pointer -ffunction-sections -fdata-sections  -msse -msse2 -msse3 -fvisibility=hidden -g  -O0 -DDEBUG -D_DEBUG\n--     Linker flags (Release):\n--     Linker flags (Debug):\n--     ccache:                      NO\n--     Precompiled headers:         YES\n--     Extra dependencies:          dl m pthread rt\n--     3rdparty dependencies:       ittnotify libprotobuf zlib libjpeg-turbo libwebp libpng libtiff libjasper IlmImf ippiw ippicv\n--\n--   OpenCV modules:\n--     To be built:                 calib3d core dnn features2d flann highgui imgcodecs imgproc java_bindings_generator ml objdetect photo python_bindings_generator shape stitching superres ts video videoio videostab\n--     Disabled:                    js world\n--     Disabled by dependency:      -\n--     Unavailable:                 cudaarithm cudabgsegm cudacodec cudafeatures2d cudafilters cudaimgproc cudalegacy cudaobjdetect cudaoptflow cudastereo cudawarping cudev java python2 python3 viz\n--     Applications:                tests perf_tests apps\n--     Documentation:               NO\n--     Non-free algorithms:         NO\n--\n--   GUI:\n--     GTK+:                        NO\n--     VTK support:                 NO\n--\n--   Media I/O:\n--     ZLib:                        build (ver 1.2.11)\n--     JPEG:                        libjpeg-turbo (ver 1.5.3-62)\n--     WEBP:                        build (ver encoder: 0x020e)\n--     PNG:                         build (ver 1.6.34)\n--     TIFF:                        build (ver 42 - 4.0.9)\n--     JPEG 2000:                   build (ver 1.900.1)\n--     OpenEXR:                     build (ver 1.7.1)\n--     HDR:                         YES\n--     SUNRASTER:                   YES\n--     PXM:                         YES\n--\n--   Video I/O:\n--     DC1394:                      NO\n--     FFMPEG:                      NO\n--       avcodec:                   NO\n--       avformat:                  NO\n--       avutil:                    NO\n--       swscale:                   NO\n--       avresample:                NO\n--     GStreamer:                   NO\n--     libv4l/libv4l2:              NO\n--     v4l/v4l2:                    linux/videodev2.h\n--     gPhoto2:                     NO\n--\n--   Parallel framework:            pthreads\n--\n--   Trace:                         YES (with Intel ITT)\n--\n--   Other third-party libraries:\n--     Intel IPP:                   2017.0.3 [2017.0.3]\n--            at:                   /var/lib/opencv-3.4.2/build/3rdparty/ippicv/ippicv_lnx\n--     Intel IPP IW:                sources (2017.0.3)\n--               at:                /var/lib/opencv-3.4.2/build/3rdparty/ippicv/ippiw_lnx\n--     Lapack:                      NO\n--     Eigen:                       NO\n--     Custom HAL:                  NO\n--     Protobuf:                    build (3.5.1)\n--\n--   OpenCL:                        YES (no extra features)\n--     Include path:                /var/lib/opencv-3.4.2/3rdparty/include/opencl/1.2\n--     Link libraries:              Dynamic load\n--\n--   Python (for build):            NO\n--\n--   Java:\n--     ant:                         /usr/bin/ant (ver 1.10.5)\n--     JNI:                         /usr/lib/jvm/java-11-openjdk-amd64/include /usr/lib/jvm/java-11-openjdk-amd64/include/linux /usr/lib/jvm/java-11-openjdk-amd64/include\n--     Java wrappers:               NO\n--     Java tests:                  NO\n--\n--   Matlab:                        NO\n--\n--   Install to:                    /usr/local\n-- -----------------------------------------------------------------\n--\n-- Configuring done\n-- Generating done\n-- Build files have been written to: /var/lib/opencv-3.4.2/build\n</code></pre>\n\n<p>So I would like to know if I am missing something in the docker file or in the openCV compilation process.</p>\n\n<p>Note: If I execute the same process in a native machine everything works as expected</p>\n\n<p>Any suggestions?</p>\n"},{"tags":["java","swing","transparency","repaint"],"answers":[{"comments":[{"owner":{"account_id":2371535,"reputation":185,"user_id":2076052,"accept_rate":75,"display_name":"pmkrefeld"},"score":0,"creation_date":1418212685,"post_id":27400052,"comment_id":43245951,"body_markdown":"Unfortunately it had no effect for me. I should mention that i am runnung it on Java 6 (no Lambdas for me :)). I will try it with JDK8, hopefully it won&#39;t fix it. JDK bugs are the worst.","body":"Unfortunately it had no effect for me. I should mention that i am runnung it on Java 6 (no Lambdas for me :)). I will try it with JDK8, hopefully it won&#39;t fix it. JDK bugs are the worst."}],"tags":[],"owner":{"account_id":1114067,"reputation":196801,"user_id":1103872,"accept_rate":82,"display_name":"Marko Topolnik"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1418211419,"creation_date":1418211419,"answer_id":27400052,"question_id":27399910,"body_markdown":"You should respect Swing&#39;s threading policy and have the GUI initialized on the GUI thread:\r\n\r\n    SwingUtilities.invokeLater(() -&gt; new OpacityBug());\r\n\r\nI can&#39;t tell whether this is all it will take to correct the behavior on your side, but it has done just that on mine (OS X).","title":"Swing transparent background not being repainted","body":"<p>You should respect Swing's threading policy and have the GUI initialized on the GUI thread:</p>\n\n<pre><code>SwingUtilities.invokeLater(() -&gt; new OpacityBug());\n</code></pre>\n\n<p>I can't tell whether this is all it will take to correct the behavior on your side, but it has done just that on mine (OS X).</p>\n"},{"comments":[{"owner":{"account_id":2371535,"reputation":185,"user_id":2076052,"accept_rate":75,"display_name":"pmkrefeld"},"score":0,"creation_date":1418216294,"post_id":27400765,"comment_id":43248015,"body_markdown":"My actual code runs on EDT, I forgot to implement it in the SSCCE. I have updated the SSCCE to run on EDT, but it has not solved the problem.","body":"My actual code runs on EDT, I forgot to implement it in the SSCCE. I have updated the SSCCE to run on EDT, but it has not solved the problem."},{"owner":{"account_id":3477393,"reputation":854,"user_id":2910269,"accept_rate":93,"display_name":"MSB"},"score":0,"creation_date":1418216950,"post_id":27400765,"comment_id":43248401,"body_markdown":"Just to be clear you are running this code on Java6? If so does upgrading to Java7(or 8) fix this issue?","body":"Just to be clear you are running this code on Java6? If so does upgrading to Java7(or 8) fix this issue?"},{"owner":{"account_id":2371535,"reputation":185,"user_id":2076052,"accept_rate":75,"display_name":"pmkrefeld"},"score":0,"creation_date":1418217041,"post_id":27400765,"comment_id":43248461,"body_markdown":"Nope, thankfully not. It would kill my day if there was a Swing bug in JDK6","body":"Nope, thankfully not. It would kill my day if there was a Swing bug in JDK6"}],"tags":[],"owner":{"account_id":3477393,"reputation":854,"user_id":2910269,"accept_rate":93,"display_name":"MSB"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1418213717,"creation_date":1418213717,"answer_id":27400765,"question_id":27399910,"body_markdown":"I cannot stress this enough, I see a ton of people not doing this while it is vital to ensure correct behavior from Swing; ALL GUI instances must run on the EDT(Event Dispatch Thread)\r\n\r\nPlease read the below article and adjust your code and report back with the effects.\r\n\r\nhttps://docs.oracle.com/javase/tutorial/uiswing/concurrency/dispatch.html","title":"Swing transparent background not being repainted","body":"<p>I cannot stress this enough, I see a ton of people not doing this while it is vital to ensure correct behavior from Swing; ALL GUI instances must run on the EDT(Event Dispatch Thread)</p>\n\n<p>Please read the below article and adjust your code and report back with the effects.</p>\n\n<p><a href=\"https://docs.oracle.com/javase/tutorial/uiswing/concurrency/dispatch.html\" rel=\"nofollow\">https://docs.oracle.com/javase/tutorial/uiswing/concurrency/dispatch.html</a></p>\n"},{"comments":[{"owner":{"account_id":2371535,"reputation":185,"user_id":2076052,"accept_rate":75,"display_name":"pmkrefeld"},"score":0,"creation_date":1418230195,"post_id":27405421,"comment_id":43257475,"body_markdown":"Thumbs up for providing a link. I updated my question as I see no reason why the background should not be painted on non-opaque components.","body":"Thumbs up for providing a link. I updated my question as I see no reason why the background should not be painted on non-opaque components."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1418231008,"post_id":27405421,"comment_id":43257961,"body_markdown":"@pmkrefeld, the link explains that... and gives the solution.","body":"@pmkrefeld, the link explains that... and gives the solution."},{"owner":{"account_id":2371535,"reputation":185,"user_id":2076052,"accept_rate":75,"display_name":"pmkrefeld"},"score":0,"creation_date":1418289379,"post_id":27405421,"comment_id":43281293,"body_markdown":"As this is actually the best way to do this aside from changing the JDK definition I&#39;ll accept this answer.","body":"As this is actually the best way to do this aside from changing the JDK definition I&#39;ll accept this answer."}],"tags":[],"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"comment_count":3,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1690148515,"creation_date":1418227125,"answer_id":27405421,"question_id":27399910,"body_markdown":"By using a semi-transparent background you are breaking Swings painting rules and Swing doesn&#39;t handle this automatically. \r\n\r\nBasically, when the component is opaque, you promise to paint the background of the component. However, when the background is semi-transparent it is not cleared completely so you get painting artifacts. \r\n\r\nThe solution is to make the component non-opaque, which means the parent component will be painted first to completely clear the background, and then the component will paint the semi-transparent background. Something like:\r\n\r\n    JPanel panel = new JPanel()\r\n    {\r\n        protected void paintComponent(Graphics g)\r\n        {\r\n            g.setColor( getBackground() );\r\n            g.fillRect(0, 0, getWidth(), getHeight());\r\n            super.paintComponent(g);\r\n        }\r\n    };\r\n    panel.setOpaque(false); // background of parent will be painted first\r\n    panel.setBackground( new Color(255, 0, 0, 20) );\r\n    frame.add(panel);\r\n\r\nCheck out [Backgrounds With Transparency](http://tips4java.wordpress.com/2009/05/31/backgrounds-with-transparency/) for more information. The link also contains a class called the `AlphaContainer` which allows you to wrap any component with a transparent background.\r\n\r\nAlso, note this only applies when using partial transparency. If you want full transparency then simply make the component non-opaque:\r\n\r\n    component.setOpaque( false );","title":"Swing transparent background not being repainted","body":"<p>By using a semi-transparent background you are breaking Swings painting rules and Swing doesn't handle this automatically.</p>\n<p>Basically, when the component is opaque, you promise to paint the background of the component. However, when the background is semi-transparent it is not cleared completely so you get painting artifacts.</p>\n<p>The solution is to make the component non-opaque, which means the parent component will be painted first to completely clear the background, and then the component will paint the semi-transparent background. Something like:</p>\n<pre><code>JPanel panel = new JPanel()\n{\n    protected void paintComponent(Graphics g)\n    {\n        g.setColor( getBackground() );\n        g.fillRect(0, 0, getWidth(), getHeight());\n        super.paintComponent(g);\n    }\n};\npanel.setOpaque(false); // background of parent will be painted first\npanel.setBackground( new Color(255, 0, 0, 20) );\nframe.add(panel);\n</code></pre>\n<p>Check out <a href=\"http://tips4java.wordpress.com/2009/05/31/backgrounds-with-transparency/\" rel=\"nofollow noreferrer\">Backgrounds With Transparency</a> for more information. The link also contains a class called the <code>AlphaContainer</code> which allows you to wrap any component with a transparent background.</p>\n<p>Also, note this only applies when using partial transparency. If you want full transparency then simply make the component non-opaque:</p>\n<pre><code>component.setOpaque( false );\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7121994,"reputation":2012,"user_id":5446285,"display_name":"Jack&#39;"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1513961920,"creation_date":1513961920,"answer_id":47944928,"question_id":27399910,"body_markdown":"You should use `setOpaque(false)` on the component that has a problem, **and do the same with all the parents** !\r\n\r\nFor example, if you have a `JList` &#39;jList&#39; inside a `JScrollPane` &#39;scrollPane&#39;, the whole thing being inside a `JPanel` &#39;jPanel&#39;, you should use :\r\n\r\n    jList.setOpaque(false);\r\n    scrollPane.setOpaque(false);\r\n    scrollPane.getViewport().setOpaque(false);\r\n    jPanel.setOpaque(false);\r\n\r\nAnd yes, if you have a `JScrollPane`, you should set its viewport&#39;s opacity to false as well.\r\n\r\nThis will prevent painting problems on your components with transparent backgrounds.","title":"Swing transparent background not being repainted","body":"<p>You should use <code>setOpaque(false)</code> on the component that has a problem, <strong>and do the same with all the parents</strong> !</p>\n\n<p>For example, if you have a <code>JList</code> 'jList' inside a <code>JScrollPane</code> 'scrollPane', the whole thing being inside a <code>JPanel</code> 'jPanel', you should use :</p>\n\n<pre><code>jList.setOpaque(false);\nscrollPane.setOpaque(false);\nscrollPane.getViewport().setOpaque(false);\njPanel.setOpaque(false);\n</code></pre>\n\n<p>And yes, if you have a <code>JScrollPane</code>, you should set its viewport's opacity to false as well.</p>\n\n<p>This will prevent painting problems on your components with transparent backgrounds.</p>\n"}],"owner":{"account_id":2371535,"reputation":185,"user_id":2076052,"accept_rate":75,"display_name":"pmkrefeld"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1400,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":27405421,"answer_count":4,"score":1,"last_activity_date":1690148515,"creation_date":1418211018,"question_id":27399910,"body_markdown":"I have a problem using transparent backgrounds in Swing.\r\nThere are a lot of artefacts produced as swing is not repainting changed regions.\r\n\r\n![buggy][1]\r\n\r\nAs far as I can tell there are 2 out-of-the-box ways to use transparent backgrounds:\r\n\r\n1. an opaque component with transparent color set as background (left txt field)\r\n\r\n**Problem**: the transparent part of the background is never refreshed -&gt; Artefacts.\r\n\r\n2. an non-opaque component with transparent color set as background (right txt field)\r\n\r\n**Problem**: background is not being drawn at all.\r\n\r\nWhat I do **not** want to do:\r\n\r\n- to use timers to auto repaint the frame (super awful)\r\n- to override paintComponent method (which actually works, but is really really awful)\r\n\r\nI am running on Win7 x64\r\n\r\nAaaand here is my SSCCEEE:\r\n\r\n**Update 1: init with invokeLater (still won&#39;t work)**\r\n\r\n    public class OpacityBug {\r\n\r\n\t    public static void main(String[] args) {\r\n\t\t    SwingUtilities.invokeLater(new Runnable() {\r\n\t\t\t    @Override\r\n\t\t\t    public void run() {\r\n\t\t\t\t    new OpacityBug();\r\n\t\t\t    }\r\n\t\t    });\r\n\t    }\r\n\t\r\n\t    static final Color transparentBlue = new Color(0f, 1f, 0f, 0.5f); \r\n\t\r\n\t    JFrame frame;\r\n\t    JPanel content;\r\n\t\r\n\t    JTextField txt1;\r\n\t    JTextField txt2;\r\n\t\r\n\t    public OpacityBug() {\r\n\t\t    initFrame();\r\n\t\t    initContent();\r\n\t    }\r\n\t\r\n\t    void initFrame() {\r\n\t\t    frame = new JFrame();\r\n\t\t    frame.setSize(300, 80);\r\n\t\t    frame.setDefaultCloseOperation(WindowConstants.EXIT_ON_CLOSE);\r\n\t\t    frame.setVisible(true);\r\n\t    }\r\n\t\r\n\t    void initContent() {\r\n\t\t    content = new JPanel();\r\n\t\t    content.setDoubleBuffered(true);\r\n\t\t    content.setBackground(Color.red);\r\n\t\t    frame.getContentPane().add(content);\r\n\t\t\r\n\t\t    txt1 = new JTextField() {\r\n\t\t\t    @Override\r\n\t\t\t    public void setBorder(Border border) {\r\n\t\t\t\t    super.setBorder(null); //nope border\r\n\t\t\t    }\r\n\t\t    };\r\n\t\t    txt1.setText(&quot;Hi! I am Buggy!&quot;);\r\n\t\t    txt1.setOpaque(true);\r\n\t\t    txt1.setBackground(transparentBlue);\r\n\t\t    content.add(txt1);\r\n\t\t\r\n\t\t    txt2 = new JTextField() {\r\n\t\t\t    @Override\r\n\t\t\t    public void setBorder(Border border) {\r\n\t\t\t\t    super.setBorder(null); //nope border\r\n\t\t\t    }\r\n\t\t    };\r\n\t\t    txt2.setText(&quot;And I have no BG!&quot;);\r\n\t\t    txt2.setOpaque(false);\r\n\t\t    txt2.setBackground(transparentBlue);\r\n\t\t    content.add(txt2);\r\n\t\t\t\t\r\n\t\t    content.revalidate();\r\n\t\t    content.repaint();\r\n\t    }\r\n    }\r\n\r\n**Update 2**\r\n\r\nAs some of you noticed, it seems Swing that swing is unable to paint transparent backgrounds.\r\nBut it is not (yet) clear to me why, I searched for the piece of code responsible for drawing the background of the component and have found the following code in ComponentUI.java :\r\n\r\n    public void update(Graphics g, JComponent c) {\r\n\tif (c.isOpaque()) {\r\n\t    g.setColor(c.getBackground());\r\n\t    g.fillRect(0, 0, c.getWidth(),c.getHeight());\r\n\t}\r\n\tpaint(g, c);\r\n    }\r\n\r\nAs you can see, it assumes that if a component is not opaque the background doesn&#39;t need to be repainted. I say that this is a very vague assumption.\r\n\r\nI would propose following implementation:\r\n\r\n\r\n    public void update(Graphics g, JComponent c) {\r\n    if(c.isOpaque() || (!c.isOpaque() &amp;&amp; c.isBackgroundSet())) {\r\n        g.setColor(c.getBackground());\r\n        g.fillRect(0, 0, c.getWidth(), c.getHeight());\r\n    }\r\n\tpaint(g, c);\r\n    }\r\n\r\nI simply check if the background was set at all when the component is not opaque.\r\nThis simple addition would allow us to use transparent backgrounds in swing.\r\nAt least I do not know any reasons why it should not be done that way.\r\n\r\n  [1]: http://i.stack.imgur.com/35wEg.png","title":"Swing transparent background not being repainted","body":"<p>I have a problem using transparent backgrounds in Swing.\nThere are a lot of artefacts produced as swing is not repainting changed regions.</p>\n\n<p><img src=\"https://i.stack.imgur.com/35wEg.png\" alt=\"buggy\"></p>\n\n<p>As far as I can tell there are 2 out-of-the-box ways to use transparent backgrounds:</p>\n\n<ol>\n<li>an opaque component with transparent color set as background (left txt field)</li>\n</ol>\n\n<p><strong>Problem</strong>: the transparent part of the background is never refreshed -> Artefacts.</p>\n\n<ol start=\"2\">\n<li>an non-opaque component with transparent color set as background (right txt field)</li>\n</ol>\n\n<p><strong>Problem</strong>: background is not being drawn at all.</p>\n\n<p>What I do <strong>not</strong> want to do:</p>\n\n<ul>\n<li>to use timers to auto repaint the frame (super awful)</li>\n<li>to override paintComponent method (which actually works, but is really really awful)</li>\n</ul>\n\n<p>I am running on Win7 x64</p>\n\n<p>Aaaand here is my SSCCEEE:</p>\n\n<p><strong>Update 1: init with invokeLater (still won't work)</strong></p>\n\n<pre><code>public class OpacityBug {\n\n    public static void main(String[] args) {\n        SwingUtilities.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                new OpacityBug();\n            }\n        });\n    }\n\n    static final Color transparentBlue = new Color(0f, 1f, 0f, 0.5f); \n\n    JFrame frame;\n    JPanel content;\n\n    JTextField txt1;\n    JTextField txt2;\n\n    public OpacityBug() {\n        initFrame();\n        initContent();\n    }\n\n    void initFrame() {\n        frame = new JFrame();\n        frame.setSize(300, 80);\n        frame.setDefaultCloseOperation(WindowConstants.EXIT_ON_CLOSE);\n        frame.setVisible(true);\n    }\n\n    void initContent() {\n        content = new JPanel();\n        content.setDoubleBuffered(true);\n        content.setBackground(Color.red);\n        frame.getContentPane().add(content);\n\n        txt1 = new JTextField() {\n            @Override\n            public void setBorder(Border border) {\n                super.setBorder(null); //nope border\n            }\n        };\n        txt1.setText(\"Hi! I am Buggy!\");\n        txt1.setOpaque(true);\n        txt1.setBackground(transparentBlue);\n        content.add(txt1);\n\n        txt2 = new JTextField() {\n            @Override\n            public void setBorder(Border border) {\n                super.setBorder(null); //nope border\n            }\n        };\n        txt2.setText(\"And I have no BG!\");\n        txt2.setOpaque(false);\n        txt2.setBackground(transparentBlue);\n        content.add(txt2);\n\n        content.revalidate();\n        content.repaint();\n    }\n}\n</code></pre>\n\n<p><strong>Update 2</strong></p>\n\n<p>As some of you noticed, it seems Swing that swing is unable to paint transparent backgrounds.\nBut it is not (yet) clear to me why, I searched for the piece of code responsible for drawing the background of the component and have found the following code in ComponentUI.java :</p>\n\n<pre><code>public void update(Graphics g, JComponent c) {\nif (c.isOpaque()) {\n    g.setColor(c.getBackground());\n    g.fillRect(0, 0, c.getWidth(),c.getHeight());\n}\npaint(g, c);\n}\n</code></pre>\n\n<p>As you can see, it assumes that if a component is not opaque the background doesn't need to be repainted. I say that this is a very vague assumption.</p>\n\n<p>I would propose following implementation:</p>\n\n<pre><code>public void update(Graphics g, JComponent c) {\nif(c.isOpaque() || (!c.isOpaque() &amp;&amp; c.isBackgroundSet())) {\n    g.setColor(c.getBackground());\n    g.fillRect(0, 0, c.getWidth(), c.getHeight());\n}\npaint(g, c);\n}\n</code></pre>\n\n<p>I simply check if the background was set at all when the component is not opaque.\nThis simple addition would allow us to use transparent backgrounds in swing.\nAt least I do not know any reasons why it should not be done that way.</p>\n"},{"tags":["java","spring-boot","gitlab"],"comments":[{"owner":{"account_id":19535095,"reputation":2874,"user_id":14294053,"display_name":"Mar-Z"},"score":0,"creation_date":1690179286,"post_id":76750372,"comment_id":135311601,"body_markdown":"Consider using H2 in-memory embedded database for integration tests only.","body":"Consider using H2 in-memory embedded database for integration tests only."},{"owner":{"account_id":13429807,"reputation":1816,"user_id":9689945,"display_name":"hhrzc"},"score":0,"creation_date":1690201476,"post_id":76750372,"comment_id":135315968,"body_markdown":"@Mar-Z problem in that - in general, I don&#39;t need DB for tests. That is the main issue - why test ask database connection if I don&#39;t need it.","body":"@Mar-Z problem in that - in general, I don&#39;t need DB for tests. That is the main issue - why test ask database connection if I don&#39;t need it."}],"owner":{"account_id":13429807,"reputation":1816,"user_id":9689945,"display_name":"hhrzc"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690148049,"creation_date":1690147309,"question_id":76750372,"body_markdown":"**TASK:**\r\n\r\n - I want to deploy my project via GitLab CI-CD process.\r\n - This is logically I need have opportunity to execute tests of this project during deploying.\r\n\r\n**ISSUE:**\r\n\r\n - I am receiving `UnknownHostException: mysql: Name or service not known` during test execution, **however** I do not need to use MySQL connection during test.\r\n\r\n---\r\n\r\n\r\nSo:\r\n\r\n - gitlab-ci.yml:\r\n\r\n```\r\nrun-test:\r\n  image: gradle:7.2.0-jdk17\r\n  script:\r\n    - gradle :business:test\r\n```\r\n\r\n - test:\r\n\r\n```java\r\n\r\n@Slf4j\r\n@SpringBootTest\r\npublic class PersonControllerTest {\r\n\r\n    @Test\r\n    public void businessHealthCheckTest(){\r\n        log.info(&quot;Test started&quot;);\r\n        Assertions.assertThat(true).isTrue();\r\n        log.info(&quot;Test finished&quot;);\r\n    }\r\n}\r\n```\r\n\r\nAs I understand, I receive this error, since I use `@SpringBootTest` annotation, and it means the Spring tries establish connection to the database. So, I researched and found such &quot;solution&quot;, that I added to the .yml file:\r\n\r\n```yml\r\nrun-test:\r\n  image: gradle:7.2.0-jdk17\r\n  services:\r\n    - mysql:latest\r\n  variables:\r\n    MYSQL_DATABASE: &quot;my_test_db&quot;\r\n    MYSQL_USER: &quot;test_user&quot;\r\n    MYSQL_PASSWORD: &quot;test_password&quot;\r\n    MYSQL_ROOT_PASSWORD: &quot;root_password&quot;\r\n  script:\r\n    - gradle :business:test\r\n```\r\n\r\nand I also updated connection string in application.properties file (I changed localhost:3306 to the mysql:3306):\r\n\r\n```\r\nspring.datasource.url=jdbc:mysql://mysql:3306/my_test_db?useUnicode=yes&amp;characterEncoding=UTF-8&amp;createDatabaseIfNotExist=true\r\n```\r\n\r\nBut I still can&#39;t execute tests with deploying process. \r\n\r\nSo, probably, two question:\r\n\r\n1) Why do I need establish connection if I do not use DB connection during tests? How to avoid this, but use `@SpringBootTest` annotation.\r\n2) Main question: How to correctly use this mysql `service` in my case?\r\n ","title":"Can&#39;t establish connection to the MySQL during gitlab ci-cd job: UnknownHostException: mysql: Name or service not known","body":"<p><strong>TASK:</strong></p>\n<ul>\n<li>I want to deploy my project via GitLab CI-CD process.</li>\n<li>This is logically I need have opportunity to execute tests of this project during deploying.</li>\n</ul>\n<p><strong>ISSUE:</strong></p>\n<ul>\n<li>I am receiving <code>UnknownHostException: mysql: Name or service not known</code> during test execution, <strong>however</strong> I do not need to use MySQL connection during test.</li>\n</ul>\n<hr />\n<p>So:</p>\n<ul>\n<li>gitlab-ci.yml:</li>\n</ul>\n<pre><code>run-test:\n  image: gradle:7.2.0-jdk17\n  script:\n    - gradle :business:test\n</code></pre>\n<ul>\n<li>test:</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>\n@Slf4j\n@SpringBootTest\npublic class PersonControllerTest {\n\n    @Test\n    public void businessHealthCheckTest(){\n        log.info(&quot;Test started&quot;);\n        Assertions.assertThat(true).isTrue();\n        log.info(&quot;Test finished&quot;);\n    }\n}\n</code></pre>\n<p>As I understand, I receive this error, since I use <code>@SpringBootTest</code> annotation, and it means the Spring tries establish connection to the database. So, I researched and found such &quot;solution&quot;, that I added to the .yml file:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>run-test:\n  image: gradle:7.2.0-jdk17\n  services:\n    - mysql:latest\n  variables:\n    MYSQL_DATABASE: &quot;my_test_db&quot;\n    MYSQL_USER: &quot;test_user&quot;\n    MYSQL_PASSWORD: &quot;test_password&quot;\n    MYSQL_ROOT_PASSWORD: &quot;root_password&quot;\n  script:\n    - gradle :business:test\n</code></pre>\n<p>and I also updated connection string in application.properties file (I changed localhost:3306 to the mysql:3306):</p>\n<pre><code>spring.datasource.url=jdbc:mysql://mysql:3306/my_test_db?useUnicode=yes&amp;characterEncoding=UTF-8&amp;createDatabaseIfNotExist=true\n</code></pre>\n<p>But I still can't execute tests with deploying process.</p>\n<p>So, probably, two question:</p>\n<ol>\n<li>Why do I need establish connection if I do not use DB connection during tests? How to avoid this, but use <code>@SpringBootTest</code> annotation.</li>\n<li>Main question: How to correctly use this mysql <code>service</code> in my case?</li>\n</ol>\n"},{"tags":["java","licensing","license-key","truelicense"],"comments":[{"owner":{"account_id":974021,"reputation":63348,"user_id":995891,"accept_rate":83,"display_name":"zapl"},"score":0,"creation_date":1354753563,"post_id":13734925,"comment_id":18871266,"body_markdown":"`File keyFile = new File(&quot;license.lic&quot;)` means it is in the current directory","body":"<code>File keyFile = new File(&quot;license.lic&quot;)</code> means it is in the current directory"},{"owner":{"account_id":1322932,"reputation":415,"user_id":1268342,"display_name":"Poorav"},"score":0,"creation_date":1354790625,"post_id":13734925,"comment_id":18882162,"body_markdown":"We specify the license file when actually installing the license. But in subsequent runs of the application `licenseManager.verify()` returns successfully meaning the license is installed, but no file is specified here. Note, this time no license file is specified since it is not being installed. How does the licenseManager know where the license file is or how is this information persisted. I hope that clarifies my question.","body":"We specify the license file when actually installing the license. But in subsequent runs of the application <code>licenseManager.verify()</code> returns successfully meaning the license is installed, but no file is specified here. Note, this time no license file is specified since it is not being installed. How does the licenseManager know where the license file is or how is this information persisted. I hope that clarifies my question."},{"owner":{"account_id":1079954,"reputation":3224,"user_id":1077190,"accept_rate":54,"display_name":"Sunny Sunny"},"score":0,"creation_date":1360672109,"post_id":13734925,"comment_id":20782252,"body_markdown":"Can truelicense be applied to application which is extension of open source third party application","body":"Can truelicense be applied to application which is extension of open source third party application"}],"answers":[{"comments":[{"owner":{"account_id":1322932,"reputation":415,"user_id":1268342,"display_name":"Poorav"},"score":1,"creation_date":1368370885,"post_id":15079411,"comment_id":23699487,"body_markdown":"Thanks! Sorry about the late response, but this answers my question.","body":"Thanks! Sorry about the late response, but this answers my question."}],"tags":[],"owner":{"account_id":368684,"reputation":413,"user_id":715640,"display_name":"Justin Smith"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1361839800,"creation_date":1361839800,"answer_id":15079411,"question_id":13734925,"body_markdown":"From the source-code (TrueLicense):\r\n\r\n    /**\r\n     * Installs the given license key as the current license key.\r\n     * If {@code key} is {@code null}, the current license key gets\r\n     * uninstalled (but the cached license certificate is not cleared).\r\n     */\r\n    protected synchronized void setLicenseKey(final byte[] key) {\r\n        final Preferences prefs = getLicenseParam().getPreferences();\r\n        if (null != key)\r\n            prefs.putByteArray(PREFERENCES_KEY, key);\r\n        else\r\n            prefs.remove(PREFERENCES_KEY);\r\n    }\r\n\r\nIf you use the standard Java preferences API ([java.util.prefs.Preferences][1]), you will see this in the registry on Windows.  On Linux and OS X, there is a hidden &quot;.&quot; directory that has these keys.\r\n\r\nTypically, I just use the [userNodeForPackage][2] method, since it does not require an admin on Windows.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/6/docs/api/java/util/prefs/Preferences.html\r\n  [2]: http://docs.oracle.com/javase/6/docs/api/java/util/prefs/Preferences.html#userNodeForPackage%28java.lang.Class%29","title":"where does truelicense persist the license file","body":"<p>From the source-code (TrueLicense):</p>\n\n<pre><code>/**\n * Installs the given license key as the current license key.\n * If {@code key} is {@code null}, the current license key gets\n * uninstalled (but the cached license certificate is not cleared).\n */\nprotected synchronized void setLicenseKey(final byte[] key) {\n    final Preferences prefs = getLicenseParam().getPreferences();\n    if (null != key)\n        prefs.putByteArray(PREFERENCES_KEY, key);\n    else\n        prefs.remove(PREFERENCES_KEY);\n}\n</code></pre>\n\n<p>If you use the standard Java preferences API (<a href=\"http://docs.oracle.com/javase/6/docs/api/java/util/prefs/Preferences.html\" rel=\"nofollow\">java.util.prefs.Preferences</a>), you will see this in the registry on Windows.  On Linux and OS X, there is a hidden \".\" directory that has these keys.</p>\n\n<p>Typically, I just use the <a href=\"http://docs.oracle.com/javase/6/docs/api/java/util/prefs/Preferences.html#userNodeForPackage%28java.lang.Class%29\" rel=\"nofollow\">userNodeForPackage</a> method, since it does not require an admin on Windows.</p>\n"},{"tags":[],"owner":{"account_id":1421465,"reputation":137,"user_id":1345986,"display_name":"Ilie Daniel Stefan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1361907685,"creation_date":1361907685,"answer_id":15097826,"question_id":13734925,"body_markdown":"Open regedit tool;\r\nUnder `HKEY_CURRENT_USER/Software/JavaSoft/Prefs/{$the.package.of.your.license.classes}.`\r\n\r\nNote: this is only for windows and is the default behaviour. (with original `PREFERENCES_KEY` value)","title":"where does truelicense persist the license file","body":"<p>Open regedit tool;\nUnder <code>HKEY_CURRENT_USER/Software/JavaSoft/Prefs/{$the.package.of.your.license.classes}.</code></p>\n\n<p>Note: this is only for windows and is the default behaviour. (with original <code>PREFERENCES_KEY</code> value)</p>\n"}],"owner":{"account_id":1322932,"reputation":415,"user_id":1268342,"display_name":"Poorav"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1771,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":15079411,"answer_count":2,"score":2,"last_activity_date":1690147724,"creation_date":1354753055,"question_id":13734925,"body_markdown":"This question is very specific to the implementation of TrueLicense and its workings. With the help of the tutorials [here][1] and the more helpful [here][2], I have successfully been able to apply licensing on my software using TrueLicense. However, I am still not clear on certain aspects of TrueLicense and how it works, and am hoping somebody can enlighten me. For now, what I don&#39;t understand is that when I call the \r\n\r\n    licenseManager.install() \r\n\r\nmethod (making sure the rest of the prerequisites are fulfilled) where is the license file actually getting persisted. I know that it is getting persisted somehow because the second time I start the application and run the \r\n\r\n    licenseManager.verify() \r\n\r\nmethod it returns happy. I would really appreciate some insight on this. \r\n\r\n\r\n  [1]: http://truelicense.java.net/tutorial.html\r\n  [2]: http://alvinalexander.com/java/true-license-java-client-java-license-manager","title":"where does truelicense persist the license file","body":"<p>This question is very specific to the implementation of TrueLicense and its workings. With the help of the tutorials <a href=\"http://truelicense.java.net/tutorial.html\" rel=\"nofollow\">here</a> and the more helpful <a href=\"http://alvinalexander.com/java/true-license-java-client-java-license-manager\" rel=\"nofollow\">here</a>, I have successfully been able to apply licensing on my software using TrueLicense. However, I am still not clear on certain aspects of TrueLicense and how it works, and am hoping somebody can enlighten me. For now, what I don't understand is that when I call the </p>\n\n<pre><code>licenseManager.install() \n</code></pre>\n\n<p>method (making sure the rest of the prerequisites are fulfilled) where is the license file actually getting persisted. I know that it is getting persisted somehow because the second time I start the application and run the </p>\n\n<pre><code>licenseManager.verify() \n</code></pre>\n\n<p>method it returns happy. I would really appreciate some insight on this. </p>\n"},{"tags":["java","spring","spring-webflux","spring-aop","mdc"],"comments":[{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1689767449,"post_id":76719316,"comment_id":135259234,"body_markdown":"Welcome to SO. Please learn [how to ask a question on SO](https://stackoverflow.com/help/how-to-ask) and provide a [minimal, complete, and verifiable example](https://stackoverflow.com/help/mcve). Thank you.","body":"Welcome to SO. Please learn <a href=\"https://stackoverflow.com/help/how-to-ask\">how to ask a question on SO</a> and provide a <a href=\"https://stackoverflow.com/help/mcve\">minimal, complete, and verifiable example</a>. Thank you."},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1689767590,"post_id":76719316,"comment_id":135259263,"body_markdown":"In particular, you are presenting an aspect without the target class it is meant to intercept. You also talk about MDC, thread-locals and Micrometer, but none of the code related to those is visible here. Unfortunately, that means: Without any magical crystal globe, probably nobondy will be able to help you.","body":"In particular, you are presenting an aspect without the target class it is meant to intercept. You also talk about MDC, thread-locals and Micrometer, but none of the code related to those is visible here. Unfortunately, that means: Without any magical crystal globe, probably nobondy will be able to help you."},{"owner":{"account_id":20048900,"reputation":23,"user_id":14697988,"display_name":"amir"},"score":0,"creation_date":1690147084,"post_id":76719316,"comment_id":135309157,"body_markdown":"By Adding `implementation &#39;io.micrometer:micrometer-tracing-bridge-brave&#39;` we will have traceId But when we want to upload file we can not access to traceId","body":"By Adding <code>implementation &#39;io.micrometer:micrometer-tracing-bridge-brave&#39;</code> we will have traceId But when we want to upload file we can not access to traceId"},{"owner":{"account_id":20048900,"reputation":23,"user_id":14697988,"display_name":"amir"},"score":0,"creation_date":1690147197,"post_id":76719316,"comment_id":135309170,"body_markdown":"target class for aspect is controller witch contains rest apis","body":"target class for aspect is controller witch contains rest apis"}],"owner":{"account_id":20048900,"reputation":23,"user_id":14697988,"display_name":"amir"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":153,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690147145,"creation_date":1689755298,"question_id":76719316,"body_markdown":"Hello Im using spring boot 3 and spring webflux and micrometer package for tracing in app \r\n\r\nmy dependency for tracing using micrometer:\r\n\r\n```\r\nimplementation &#39;io.micrometer:micrometer-tracing-bridge-brave&#39;\r\nimplementation &#39;io.micrometer:context-propagation:latest.integration&#39;\r\n```\r\nI also add `Hooks.enableAutomaticContextPropagation();` to main method to access MDC and  restore the **ThreadLocal** I always work but when I want to call api for uploading multipart data I can not access MDC keys .\r\nI think it happens because uploading file is blocking request and it schedule it to another thread \r\n\r\nMy log aspect:\r\n\r\n```\r\n@Aspect\r\n@Component\r\n@Slf4j\r\n@RequiredArgsConstructor\r\npublic class LogAop {\r\n    @Pointcut(&quot;within(@org.springframework.web.bind.annotation.RestController *)&quot;)\r\n    public void controllerPointCut() {\r\n    }\r\n\r\n    @Before(value = &quot;controllerPointCut()&quot;)\r\n    public void logAdvice(JoinPoint joinPoint) {\r\n        log.info(&quot;signature:{}, args:{}&quot;, joinPoint.getSignature().toShortString(), joinPoint.getArgs());\r\n    }\r\n}\r\n```\r\n```\r\n2023-07-19T12:53:29.842+04:30  INFO [                                ,                 ] 19064 --- [or-http-epoll-3] ir.zarebin.profile.aspects.LogAop        : signature:ProfileController.update(..), args:[ab8a8daf-d4f9-4777-b54b-682f0326ceea, ProfileIn[displayName=fuckboy, username=asdssad, image=file:test.jpg], DefaultFilePart{file (test.jpg)}]\r\n```\r\nAs you see It cant log traceId but after change thread It can access traceId.\r\n\r\n```\r\n2023-07-19T12:53:31.895+04:30  INFO [64b79d810a5369e8ec79c012fa6299a1, ec79c012fa6299a1] 19064 --- [nc-response-1-1] i.z.p.services.impl.CephFileService      : [I198] creating BytBuffer from 1 chunks\r\n2023-07-19T12:53:31.896+04:30  INFO [64b79d810a5369e8ec79c012fa6299a1, ec79c012fa6299a1] 19064 --- [nc-response-1-1] i.z.p.services.impl.CephFileService      : [I208] partData: size=45380\r\n```\r\n\r\nmy controller for upload file:\r\n```\r\n    public Mono&lt;ProfileOut&gt; update(@RequestParam UUID userId,\r\n                                   @RequestPart(&quot;data&quot;) @Valid ProfileIn body,\r\n                                   @RequestPart(value = &quot;file&quot;, required = false) FilePart image) {\r\n       return Mono.deferContextual(contextView -&gt; {\r\n                   ContextSnapshotFactory.builder().contextRegistry(ContextRegistry.getInstance().loadThreadLocalAccessors())\r\n                           .build().captureAll();\r\n\r\n                    return Mono.just(contextView);\r\n                })\r\n                .flatMap(o -&gt; service.update(userId, body, image));\r\n    }\r\n```\r\nHow can I access traceId when I need?\r\n\r\n\r\n ","title":"Access MDC in aspect when uploading multipart in spring webflux","body":"<p>Hello Im using spring boot 3 and spring webflux and micrometer package for tracing in app</p>\n<p>my dependency for tracing using micrometer:</p>\n<pre><code>implementation 'io.micrometer:micrometer-tracing-bridge-brave'\nimplementation 'io.micrometer:context-propagation:latest.integration'\n</code></pre>\n<p>I also add <code>Hooks.enableAutomaticContextPropagation();</code> to main method to access MDC and  restore the <strong>ThreadLocal</strong> I always work but when I want to call api for uploading multipart data I can not access MDC keys .\nI think it happens because uploading file is blocking request and it schedule it to another thread</p>\n<p>My log aspect:</p>\n<pre><code>@Aspect\n@Component\n@Slf4j\n@RequiredArgsConstructor\npublic class LogAop {\n    @Pointcut(&quot;within(@org.springframework.web.bind.annotation.RestController *)&quot;)\n    public void controllerPointCut() {\n    }\n\n    @Before(value = &quot;controllerPointCut()&quot;)\n    public void logAdvice(JoinPoint joinPoint) {\n        log.info(&quot;signature:{}, args:{}&quot;, joinPoint.getSignature().toShortString(), joinPoint.getArgs());\n    }\n}\n</code></pre>\n<pre><code>2023-07-19T12:53:29.842+04:30  INFO [                                ,                 ] 19064 --- [or-http-epoll-3] ir.zarebin.profile.aspects.LogAop        : signature:ProfileController.update(..), args:[ab8a8daf-d4f9-4777-b54b-682f0326ceea, ProfileIn[displayName=fuckboy, username=asdssad, image=file:test.jpg], DefaultFilePart{file (test.jpg)}]\n</code></pre>\n<p>As you see It cant log traceId but after change thread It can access traceId.</p>\n<pre><code>2023-07-19T12:53:31.895+04:30  INFO [64b79d810a5369e8ec79c012fa6299a1, ec79c012fa6299a1] 19064 --- [nc-response-1-1] i.z.p.services.impl.CephFileService      : [I198] creating BytBuffer from 1 chunks\n2023-07-19T12:53:31.896+04:30  INFO [64b79d810a5369e8ec79c012fa6299a1, ec79c012fa6299a1] 19064 --- [nc-response-1-1] i.z.p.services.impl.CephFileService      : [I208] partData: size=45380\n</code></pre>\n<p>my controller for upload file:</p>\n<pre><code>    public Mono&lt;ProfileOut&gt; update(@RequestParam UUID userId,\n                                   @RequestPart(&quot;data&quot;) @Valid ProfileIn body,\n                                   @RequestPart(value = &quot;file&quot;, required = false) FilePart image) {\n       return Mono.deferContextual(contextView -&gt; {\n                   ContextSnapshotFactory.builder().contextRegistry(ContextRegistry.getInstance().loadThreadLocalAccessors())\n                           .build().captureAll();\n\n                    return Mono.just(contextView);\n                })\n                .flatMap(o -&gt; service.update(userId, body, image));\n    }\n</code></pre>\n<p>How can I access traceId when I need?</p>\n"},{"tags":["java","spring","multithreading","hashmap","synchronized"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1690151122,"post_id":76749903,"comment_id":135309471,"body_markdown":"Does this answer your question? [Does the synchronized keyword solve the visibility problem?](https://stackoverflow.com/questions/75714538/does-the-synchronized-keyword-solve-the-visibility-problem)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/75714538/does-the-synchronized-keyword-solve-the-visibility-problem\">Does the synchronized keyword solve the visibility problem?</a>"}],"answers":[{"tags":[],"owner":{"account_id":15064163,"reputation":13516,"user_id":10871900,"display_name":"dan1st is crying"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690147094,"creation_date":1690146685,"answer_id":76750343,"question_id":76749903,"body_markdown":"`HashMap` is not thread-safe but `singletonFactories` is only used in `synchronized`-blocks.\r\n\r\nIf we take a look at one of the methods accessing it, we can see that:\r\n```java\r\n//code from https://github.com/spring-projects/spring-framework/blob/b595dc1dfad9db534ca7b9e8f46bb9926b88ab5a/spring-beans/src/main/java/org/springframework/beans/factory/support/DefaultSingletonBeanRegistry.java#L137-L144\r\n//licensed under Apache 2\r\n//comments have been added\r\nprotected void addSingleton(String beanName, Object singletonObject) {\r\n\t\tsynchronized (this.singletonObjects) {//synchronized here\r\n\t\t\tthis.singletonObjects.put(beanName, singletonObject);\r\n\t\t\tthis.singletonFactories.remove(beanName);//access inside synchronized block\r\n\t\t\tthis.earlySingletonObjects.remove(beanName);\r\n\t\t\tthis.registeredSingletons.add(beanName);\r\n\t\t}\r\n\t}\r\n```\r\n\r\nSince all uses to the `HashMap` are guarded using the intrinsic lock of `singletonObjects` (`synchronized`-blocks), the code is thread-safe even though it uses a `HashMap`.\r\n\r\nIt is probably done this way as `singletonFactories` is mainly used for initialization and/or rarely contended or synchronization is necessary anyways due to the objects needing to be changed together (e.g. maybe they want to avoid two methods updating it at the same time) and if there is a `synchronized` block, no `ConcurrentHashMap` is necessary.\r\n\r\nOn the other side, existing Spring beans may be read very often/from different threads so access to them could have higher contention resulting in `ConcurrentHashMap` being required.\r\n\r\nNote that I&#39;m not a Spring developer/I have not written this code. I am just making assumptions based on the code I&#39;m reading.","title":"Visibility of HashMap elements in synchronized block","body":"<p><code>HashMap</code> is not thread-safe but <code>singletonFactories</code> is only used in <code>synchronized</code>-blocks.</p>\n<p>If we take a look at one of the methods accessing it, we can see that:</p>\n<pre class=\"lang-java prettyprint-override\"><code>//code from https://github.com/spring-projects/spring-framework/blob/b595dc1dfad9db534ca7b9e8f46bb9926b88ab5a/spring-beans/src/main/java/org/springframework/beans/factory/support/DefaultSingletonBeanRegistry.java#L137-L144\n//licensed under Apache 2\n//comments have been added\nprotected void addSingleton(String beanName, Object singletonObject) {\n        synchronized (this.singletonObjects) {//synchronized here\n            this.singletonObjects.put(beanName, singletonObject);\n            this.singletonFactories.remove(beanName);//access inside synchronized block\n            this.earlySingletonObjects.remove(beanName);\n            this.registeredSingletons.add(beanName);\n        }\n    }\n</code></pre>\n<p>Since all uses to the <code>HashMap</code> are guarded using the intrinsic lock of <code>singletonObjects</code> (<code>synchronized</code>-blocks), the code is thread-safe even though it uses a <code>HashMap</code>.</p>\n<p>It is probably done this way as <code>singletonFactories</code> is mainly used for initialization and/or rarely contended or synchronization is necessary anyways due to the objects needing to be changed together (e.g. maybe they want to avoid two methods updating it at the same time) and if there is a <code>synchronized</code> block, no <code>ConcurrentHashMap</code> is necessary.</p>\n<p>On the other side, existing Spring beans may be read very often/from different threads so access to them could have higher contention resulting in <code>ConcurrentHashMap</code> being required.</p>\n<p>Note that I'm not a Spring developer/I have not written this code. I am just making assumptions based on the code I'm reading.</p>\n"}],"owner":{"account_id":29075771,"reputation":43,"user_id":22272977,"display_name":"Роман Григорьев"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1690147094,"creation_date":1690139138,"question_id":76749903,"body_markdown":"I have researched many times to find out an answer for my question.\r\nIn Spring, we have this class https://github.com/spring-projects/spring-framework/blob/b595dc1dfad9db534ca7b9e8f46bb9926b88ab5a/spring-beans/src/main/java/org/springframework/beans/factory/support/DefaultSingletonBeanRegistry.java.\r\n\r\nAnd I have a question about singletonFactories field(line 81) and its usage. \r\n1. Why this field has type of HashMap instead of for example ConcurrentHashMap? Is it thread safe?\r\n\r\nI suppose because this field is only used within synchronized block using always the same monitor object(this.singletonObjects) and changes after exit synchronized block will be visible to others at the enter of block with the same monitor.\r\nAnd my second question is: 2. Will all changes of singletonFactories(put operations) will be visible to other threads?\r\nWill thread 2 see new value added by thread 1 some millis ago? Array in HashMap is not volatile.\r\n\r\nYes, we have synchronization on this.singletonObjects, but it works only for assigning a new value to singletonFactories field, isn&#39;t it? Or flushing field at the exit means that all embedded fields are also flushed into main memory? And all threads will see actual reference on singletonFactories, but I&#39;m not sure that changes(putting new object into map) with singletonFactories will be visible after exit a synchronized block.\r\n\r\nI suppose that is thread safe but I want to know more.\r\n\r\nThanks for help!!!\r\n\r\nI expect thread safe behavior but I&#39;m not sure that I understand it well.","title":"Visibility of HashMap elements in synchronized block","body":"<p>I have researched many times to find out an answer for my question.\nIn Spring, we have this class <a href=\"https://github.com/spring-projects/spring-framework/blob/b595dc1dfad9db534ca7b9e8f46bb9926b88ab5a/spring-beans/src/main/java/org/springframework/beans/factory/support/DefaultSingletonBeanRegistry.java\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-framework/blob/b595dc1dfad9db534ca7b9e8f46bb9926b88ab5a/spring-beans/src/main/java/org/springframework/beans/factory/support/DefaultSingletonBeanRegistry.java</a>.</p>\n<p>And I have a question about singletonFactories field(line 81) and its usage.</p>\n<ol>\n<li>Why this field has type of HashMap instead of for example ConcurrentHashMap? Is it thread safe?</li>\n</ol>\n<p>I suppose because this field is only used within synchronized block using always the same monitor object(this.singletonObjects) and changes after exit synchronized block will be visible to others at the enter of block with the same monitor.\nAnd my second question is: 2. Will all changes of singletonFactories(put operations) will be visible to other threads?\nWill thread 2 see new value added by thread 1 some millis ago? Array in HashMap is not volatile.</p>\n<p>Yes, we have synchronization on this.singletonObjects, but it works only for assigning a new value to singletonFactories field, isn't it? Or flushing field at the exit means that all embedded fields are also flushed into main memory? And all threads will see actual reference on singletonFactories, but I'm not sure that changes(putting new object into map) with singletonFactories will be visible after exit a synchronized block.</p>\n<p>I suppose that is thread safe but I want to know more.</p>\n<p>Thanks for help!!!</p>\n<p>I expect thread safe behavior but I'm not sure that I understand it well.</p>\n"},{"tags":["java","maven","intellij-idea"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1690149103,"post_id":76750349,"comment_id":135309324,"body_markdown":"You don&#39;t need to manually add dependencies to the IDEA project structure. Just click &quot;Reload all maven projects&quot; when you edit your pom. Have you run `mvn install` on your dependency project, to install that jar in your local maven repository? Incidentally, why are you using `provided` scope?","body":"You don&#39;t need to manually add dependencies to the IDEA project structure. Just click &quot;Reload all maven projects&quot; when you edit your pom. Have you run <code>mvn install</code> on your dependency project, to install that jar in your local maven repository? Incidentally, why are you using <code>provided</code> scope?"},{"owner":{"account_id":22065043,"reputation":11,"user_id":16952911,"display_name":"Alberto Plaza Montes"},"score":0,"creation_date":1690182566,"post_id":76750349,"comment_id":135312110,"body_markdown":"I did not run mvn install in my dependency project because I&#39;m programming on windows and using IDEA integrated maven so I don&#39;t even have installed maven and don&#39;t have a local repository, so I tought I needed to add it to IDEA","body":"I did not run mvn install in my dependency project because I&#39;m programming on windows and using IDEA integrated maven so I don&#39;t even have installed maven and don&#39;t have a local repository, so I tought I needed to add it to IDEA"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1690186639,"post_id":76750349,"comment_id":135312848,"body_markdown":"You can run maven targets from IDEA. Run `install` for your dependency. Then IDEA should find it for your other project.","body":"You can run maven targets from IDEA. Run <code>install</code> for your dependency. Then IDEA should find it for your other project."},{"owner":{"account_id":17693330,"reputation":3781,"user_id":12844632,"display_name":"Egor Klepikov"},"score":0,"creation_date":1690188935,"post_id":76750349,"comment_id":135313317,"body_markdown":"See also https://stackoverflow.com/a/22300875/12844632 on how to correctly add your own dependency to the Maven based project","body":"See also <a href=\"https://stackoverflow.com/a/22300875/12844632\">stackoverflow.com/a/22300875/12844632</a> on how to correctly add your own dependency to the Maven based project"},{"owner":{"account_id":22065043,"reputation":11,"user_id":16952911,"display_name":"Alberto Plaza Montes"},"score":0,"creation_date":1690456982,"post_id":76750349,"comment_id":135358039,"body_markdown":"Thanks you very much @tgdavies I didn&#39;t know about the IDEA targets. It works correctly!","body":"Thanks you very much @tgdavies I didn&#39;t know about the IDEA targets. It works correctly!"}],"owner":{"account_id":22065043,"reputation":11,"user_id":16952911,"display_name":"Alberto Plaza Montes"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690146829,"creation_date":1690146829,"question_id":76750349,"body_markdown":"I&#39;m using Intellij with Maven. I created a java program with an API interface. When I add it to maven, it seems to work because it even recommends me the Java API classes, but when I try to compile it, it says my package doesn&#39;t exists.\r\n&gt; package htt.layeredstructures does not exist\r\n\r\n[Intellij recommends me using the class I imported from my .jar](https://i.stack.imgur.com/onnTL.png)\r\n\r\n\r\nAm I missing something?\r\n\r\nThe process I did was the following one: \r\n\r\n1. File\r\n2. Project Structure\r\n3. Modules\r\n4. Dependencies\r\n5. add\r\n6. JARs or directories \r\n7. Clicked the jar file and ok. \r\n\r\n[How it looks like](https://i.stack.imgur.com/4nU1e.png)\r\n\r\n\r\nI also added it to my pom.xml like this:\r\n\r\n\r\n```\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;htt&lt;/groupId&gt;\r\n            &lt;artifactId&gt;LayeredStructures&lt;/artifactId&gt;\r\n            &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n```\r\n\r\nAnd it matches with the pom.xml of the provider program (the API one)\r\n\r\n\r\n```\r\n    &lt;groupId&gt;htt&lt;/groupId&gt;\r\n    &lt;artifactId&gt;LayeredStructures&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n    &lt;packaging&gt;jar&lt;/packaging&gt;\r\n```\r\n\r\n\r\n\r\n","title":"Intellij with maven seems to detect my dependency but then says not found","body":"<p>I'm using Intellij with Maven. I created a java program with an API interface. When I add it to maven, it seems to work because it even recommends me the Java API classes, but when I try to compile it, it says my package doesn't exists.</p>\n<blockquote>\n<p>package htt.layeredstructures does not exist</p>\n</blockquote>\n<p><a href=\"https://i.stack.imgur.com/onnTL.png\" rel=\"nofollow noreferrer\">Intellij recommends me using the class I imported from my .jar</a></p>\n<p>Am I missing something?</p>\n<p>The process I did was the following one:</p>\n<ol>\n<li>File</li>\n<li>Project Structure</li>\n<li>Modules</li>\n<li>Dependencies</li>\n<li>add</li>\n<li>JARs or directories</li>\n<li>Clicked the jar file and ok.</li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/4nU1e.png\" rel=\"nofollow noreferrer\">How it looks like</a></p>\n<p>I also added it to my pom.xml like this:</p>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;htt&lt;/groupId&gt;\n            &lt;artifactId&gt;LayeredStructures&lt;/artifactId&gt;\n            &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>And it matches with the pom.xml of the provider program (the API one)</p>\n<pre><code>    &lt;groupId&gt;htt&lt;/groupId&gt;\n    &lt;artifactId&gt;LayeredStructures&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n</code></pre>\n"},{"tags":["java","memory"],"comments":[{"owner":{"account_id":1535561,"reputation":7664,"user_id":1431720,"accept_rate":89,"display_name":"Robert"},"score":0,"creation_date":1690134782,"post_id":76749378,"comment_id":135307767,"body_markdown":"IMHO one should not use singletons in the first place; they get in the way of unit testing and are just messy to deal with. So I&#39;d make the field non-static, so that the class can be relieved of its singleton status easily. I don&#39;t know what that field is, but being concerned about performance and memory management here is probably premature optimization, which is a really bad idea, even worse than singletons.","body":"IMHO one should not use singletons in the first place; they get in the way of unit testing and are just messy to deal with. So I&#39;d make the field non-static, so that the class can be relieved of its singleton status easily. I don&#39;t know what that field is, but being concerned about performance and memory management here is probably premature optimization, which is a really bad idea, even worse than singletons."},{"owner":{"account_id":1054395,"reputation":53333,"user_id":1057429,"accept_rate":100,"display_name":"Nir Alfasi"},"score":0,"creation_date":1690134834,"post_id":76749378,"comment_id":135307778,"body_markdown":"There are [different ways](https://stackoverflow.com/questions/70689/what-is-an-efficient-way-to-implement-a-singleton-pattern-in-java) of implementing a singleton in Java - you have to be specific which implementation you&#39;re discussing.","body":"There are <a href=\"https://stackoverflow.com/questions/70689/what-is-an-efficient-way-to-implement-a-singleton-pattern-in-java\">different ways</a> of implementing a singleton in Java - you have to be specific which implementation you&#39;re discussing."},{"owner":{"account_id":28906329,"reputation":13,"user_id":22140292,"display_name":"Luca Blanchi"},"score":0,"creation_date":1690137574,"post_id":76749378,"comment_id":135308189,"body_markdown":"@NirAlfasi thank you for your feedback, I have added the relevant information.","body":"@NirAlfasi thank you for your feedback, I have added the relevant information."},{"owner":{"account_id":1054395,"reputation":53333,"user_id":1057429,"accept_rate":100,"display_name":"Nir Alfasi"},"score":0,"creation_date":1690145982,"post_id":76749378,"comment_id":135309052,"body_markdown":"This is a &quot;what is your opinion&quot; kind of question - there isn&#39;t a &quot;best practice.","body":"This is a &quot;what is your opinion&quot; kind of question - there isn&#39;t a &quot;best practice."},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1690149490,"post_id":76749378,"comment_id":135309347,"body_markdown":"A static context would be irrelevant if the class is a singleton.","body":"A static context would be irrelevant if the class is a singleton."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1690160638,"post_id":76749378,"comment_id":135310104,"body_markdown":"Constants should always be static, regardless of singletons. There is no reason to instantiate them per object instance.","body":"Constants should always be static, regardless of singletons. There is no reason to instantiate them per object instance."}],"answers":[{"comments":[{"owner":{"account_id":15064163,"reputation":13516,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1690148329,"post_id":76750348,"comment_id":135309267,"body_markdown":"Note that the objects (assuming it is not a primitive and not a `String` though ot probably holds for the latter as well) will always be stored on the heap - just the reference mad be stored differently. Aside from that, inlining of constants happens with `static final` primitives/strings _iff_ they are not not obtained using only arithmetic operations/string concatenation and other `static final` variables (Also I like the GIT compiler typo:))","body":"Note that the objects (assuming it is not a primitive and not a <code>String</code> though ot probably holds for the latter as well) will always be stored on the heap - just the reference mad be stored differently. Aside from that, inlining of constants happens with <code>static final</code> primitives/strings <i>iff</i> they are not not obtained using only arithmetic operations/string concatenation and other <code>static final</code> variables (Also I like the GIT compiler typo:))"}],"tags":[],"owner":{"account_id":3449131,"reputation":12148,"user_id":2889165,"accept_rate":73,"display_name":"Andreas Lundgren"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1690146819,"creation_date":1690146819,"answer_id":76750348,"question_id":76749378,"body_markdown":"I would say that you are on to the answer already, it&#39;s heap vs meta space. For the non-static version, the data needs to be in both, it needs to be in metaspace all the time, and copied over to the (singelton) instance of the object once it&#39;s instantiated. \r\n\r\n**If it&#39;s small data**, like a single primitive value, it can be stored directly in the instruction memory itself if declared static final, and are then likely to be accessed within a single clock cycle during execution. But who knows, maybe the GIT compiler can achieve this anyway. &#129335;\r\n\r\n**If it is a lagre dataset**, declaring it static final avoid a data copy (or more if the singelton intention is overridden using serialization or reflection) since only the version in metaspace is needed. \r\n\r\nSo I would say no reason to not have it declared static final. It will probably not do any harm. A byte saved is a byte earned. &#128516;","title":"Should one make constants in singletons static in java?","body":"<p>I would say that you are on to the answer already, it's heap vs meta space. For the non-static version, the data needs to be in both, it needs to be in metaspace all the time, and copied over to the (singelton) instance of the object once it's instantiated.</p>\n<p><strong>If it's small data</strong>, like a single primitive value, it can be stored directly in the instruction memory itself if declared static final, and are then likely to be accessed within a single clock cycle during execution. But who knows, maybe the GIT compiler can achieve this anyway. 🤷</p>\n<p><strong>If it is a lagre dataset</strong>, declaring it static final avoid a data copy (or more if the singelton intention is overridden using serialization or reflection) since only the version in metaspace is needed.</p>\n<p>So I would say no reason to not have it declared static final. It will probably not do any harm. A byte saved is a byte earned. 😄</p>\n"}],"owner":{"account_id":28906329,"reputation":13,"user_id":22140292,"display_name":"Luca Blanchi"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":93,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76750348,"answer_count":1,"score":1,"last_activity_date":1690146819,"creation_date":1690131215,"question_id":76749378,"body_markdown":"A final field in a singleton class should be constant (assuming immutability) regardless of whether it is static, as there cannot be multiple instances of the class holding different values.\r\n\r\nAre there reasons to still declare the field as static, or not to do so?\r\n\r\nOne reason to make it static is clear declaration of intent. But are there nuances regarding memory management that could make one practice best?\r\n\r\nTo my understanding, what differs is that in the non-static case, the reference to the object assigned to the field is stored in the class instance in heap space, while in the static case it&#39;s stored in metaspace, but I don&#39;t know which one (if any) is to be preferred.\r\n\r\nEdit: A user noted that the implementation of the singleton may make a difference. This question came up regarding Spring components, where manually creating multiple instances could be done, but will not happen in practice.","title":"Should one make constants in singletons static in java?","body":"<p>A final field in a singleton class should be constant (assuming immutability) regardless of whether it is static, as there cannot be multiple instances of the class holding different values.</p>\n<p>Are there reasons to still declare the field as static, or not to do so?</p>\n<p>One reason to make it static is clear declaration of intent. But are there nuances regarding memory management that could make one practice best?</p>\n<p>To my understanding, what differs is that in the non-static case, the reference to the object assigned to the field is stored in the class instance in heap space, while in the static case it's stored in metaspace, but I don't know which one (if any) is to be preferred.</p>\n<p>Edit: A user noted that the implementation of the singleton may make a difference. This question came up regarding Spring components, where manually creating multiple instances could be done, but will not happen in practice.</p>\n"},{"tags":["java","android","json","indexing","lucene"],"comments":[{"owner":{"account_id":4774522,"reputation":642,"user_id":3858121,"display_name":"Japu_D_Cret"},"score":0,"creation_date":1490617216,"post_id":43046248,"comment_id":73176607,"body_markdown":"yes it is possible and you&#39;re looking for this http://www.avajava.com/tutorials/lessons/how-do-i-use-lucene-to-index-and-search-text-files.html","body":"yes it is possible and you&#39;re looking for this <a href=\"http://www.avajava.com/tutorials/lessons/how-do-i-use-lucene-to-index-and-search-text-files.html\" rel=\"nofollow noreferrer\">avajava.com/tutorials/lessons/&hellip;</a>"},{"owner":{"account_id":6299516,"reputation":141,"user_id":4894564,"accept_rate":25,"display_name":"vikrant"},"score":0,"creation_date":1490617368,"post_id":43046248,"comment_id":73176711,"body_markdown":"i am looking for indexing json data","body":"i am looking for indexing json data"}],"answers":[{"comments":[{"owner":{"account_id":6299516,"reputation":141,"user_id":4894564,"accept_rate":25,"display_name":"vikrant"},"score":1,"creation_date":1490624176,"post_id":43046556,"comment_id":73181993,"body_markdown":"i am using lucene 4.10.4 and getting error in StandardAnalyzer()\nError:(59, 33) error: cannot find symbol class StandardAnalyzer","body":"i am using lucene 4.10.4 and getting error in StandardAnalyzer() Error:(59, 33) error: cannot find symbol class StandardAnalyzer"},{"owner":{"account_id":4774522,"reputation":642,"user_id":3858121,"display_name":"Japu_D_Cret"},"score":1,"creation_date":1490624340,"post_id":43046556,"comment_id":73182125,"body_markdown":"@vikrant can you show us your code so far? Please add includes ; Also here is the documentation for your version of the StandardAnalyzer https://lucene.apache.org/core/4_10_4/analyzers-common/org/apache/lucene/analysis/standard/StandardAnalyzer.html","body":"@vikrant can you show us your code so far? Please add includes ; Also here is the documentation for your version of the StandardAnalyzer <a href=\"https://lucene.apache.org/core/4_10_4/analyzers-common/org/apache/lucene/analysis/standard/StandardAnalyzer.html\" rel=\"nofollow noreferrer\">lucene.apache.org/core/4_10_4/analyzers-common/org/apache/&hellip;</a>"},{"owner":{"account_id":1787149,"reputation":32983,"user_id":1628375,"display_name":"femtoRgon"},"score":2,"creation_date":1490624476,"post_id":43046556,"comment_id":73182225,"body_markdown":"@vikrant - Add the analyzers-common jar to your classpath.","body":"@vikrant - Add the analyzers-common jar to your classpath."},{"owner":{"account_id":4774522,"reputation":642,"user_id":3858121,"display_name":"Japu_D_Cret"},"score":1,"creation_date":1490624532,"post_id":43046556,"comment_id":73182271,"body_markdown":"@femtoRgon thanks for mentioned that - I forgot it, added the missing dependency accordingly","body":"@femtoRgon thanks for mentioned that - I forgot it, added the missing dependency accordingly"},{"owner":{"account_id":6299516,"reputation":141,"user_id":4894564,"accept_rate":25,"display_name":"vikrant"},"score":0,"creation_date":1490626789,"post_id":43046556,"comment_id":73184026,"body_markdown":"getting error on indexWriter : \njava.lang.NoSuchMethodError: No virtual method toPath()Ljava/nio/file/Path; in class Ljava/io/File; or its super classes (declaration of &#39;java.io.File&#39; appears in /system/framework/core-libart.jar)","body":"getting error on indexWriter :  java.lang.NoSuchMethodError: No virtual method toPath()Ljava/nio/file/Path; in class Ljava/io/File; or its super classes (declaration of &#39;java.io.File&#39; appears in /system/framework/core-libart.jar)"},{"owner":{"account_id":6299516,"reputation":141,"user_id":4894564,"accept_rate":25,"display_name":"vikrant"},"score":0,"creation_date":1490627489,"post_id":43046556,"comment_id":73184540,"body_markdown":"i think this is android related issue, i am trying to read json file and index it. getting error on  &quot;indexWriter = new IndexWriter(directory, indexwriterconfig)&quot; this line.","body":"i think this is android related issue, i am trying to read json file and index it. getting error on  &quot;indexWriter = new IndexWriter(directory, indexwriterconfig)&quot; this line."},{"owner":{"account_id":4774522,"reputation":642,"user_id":3858121,"display_name":"Japu_D_Cret"},"score":0,"creation_date":1490629239,"post_id":43046556,"comment_id":73185689,"body_markdown":"@vikrant yes it is related - but maybe you can supress the issue causing dependency, for reference http://stackoverflow.com/questions/37415045/gcm-error-googlecloudmessaging-register - maybe try to force that this dependency is a newer version","body":"@vikrant yes it is related - but maybe you can supress the issue causing dependency, for reference <a href=\"http://stackoverflow.com/questions/37415045/gcm-error-googlecloudmessaging-register\" title=\"gcm error googlecloudmessaging register\">stackoverflow.com/questions/37415045/&hellip;</a> - maybe try to force that this dependency is a newer version"},{"owner":{"account_id":6299516,"reputation":141,"user_id":4894564,"accept_rate":25,"display_name":"vikrant"},"score":0,"creation_date":1490710455,"post_id":43046556,"comment_id":73227397,"body_markdown":"is there any other way to index document offline in android using NLP or Machine Learning?","body":"is there any other way to index document offline in android using NLP or Machine Learning?"},{"owner":{"account_id":1787149,"reputation":32983,"user_id":1628375,"display_name":"femtoRgon"},"score":0,"creation_date":1490799611,"post_id":43046556,"comment_id":73275790,"body_markdown":"@vikrant - Lucene 4.10.4 does not use `Path`. Sounds like you have added the wrong version of a jar. Make sure all your Lucene jars are 4.10.4.","body":"@vikrant - Lucene 4.10.4 does not use <code>Path</code>. Sounds like you have added the wrong version of a jar. Make sure all your Lucene jars are 4.10.4."},{"owner":{"account_id":4774522,"reputation":642,"user_id":3858121,"display_name":"Japu_D_Cret"},"score":0,"creation_date":1490799675,"post_id":43046556,"comment_id":73275836,"body_markdown":"@femtoRgon it might not, but apparently one of its dependencies and without what it&#39;s useless","body":"@femtoRgon it might not, but apparently one of its dependencies and without what it&#39;s useless"},{"owner":{"account_id":1787149,"reputation":32983,"user_id":1628375,"display_name":"femtoRgon"},"score":0,"creation_date":1490799936,"post_id":43046556,"comment_id":73276040,"body_markdown":"@Japu_D_Cret - Lucene 4.10.4 is made in Java 6. The `Path` class did not exist in Java 6. Also, the error listed says it&#39;s coming from `IndexWriter`, a Lucene class, not one of it&#39;s dependencies. Sounds like they have the wrong version of the Lucene core jar in the classpath. Might even have two versions of it in the classpath, or something like that.","body":"@Japu_D_Cret - Lucene 4.10.4 is made in Java 6. The <code>Path</code> class did not exist in Java 6. Also, the error listed says it&#39;s coming from <code>IndexWriter</code>, a Lucene class, not one of it&#39;s dependencies. Sounds like they have the wrong version of the Lucene core jar in the classpath. Might even have two versions of it in the classpath, or something like that."}],"tags":[],"owner":{"account_id":4774522,"reputation":642,"user_id":3858121,"display_name":"Japu_D_Cret"},"comment_count":11,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1490624760,"creation_date":1490617891,"answer_id":43046556,"question_id":43046248,"body_markdown":"use this as a base http://www.avajava.com/tutorials/lessons/how-do-i-use-lucene-to-index-and-search-text-files.html\r\n\r\nand use this to add JSON objects to the index\r\n\r\n    public void addDocuments(IndexWriter indexWriter, JSONArray jsonObjects) {\r\n        for (JSONObject object : (List&lt;JSONObject&gt;) jsonObjects) {\r\n            Document doc = new Document();\r\n            final FieldType bodyOptions = new FieldType();\r\n            bodyOptions.setIndexed(true);\r\n            bodyOptions.setIndexOptions(FieldInfo.IndexOptions.DOCS_AND_FREQS_AND_POSITIONS_AND_OFFSETS);\r\n            bodyOptions.setStored(true);\r\n            bodyOptions.setStoreTermVectors(true);\r\n            bodyOptions.setTokenized(true);\r\n            for (String field : (Set&lt;String&gt;) object.keySet()) {\r\n                doc.add(new Field(field, (String) object.get(field), bodyOptions));\r\n            }\r\n            try {\r\n                System.out.println(doc);\r\n                indexWriter.addDocument(doc);\r\n            } catch (IOException ex) {\r\n                System.err.println(&quot;Error adding documents to the index. &quot; + ex.getMessage());\r\n            }\r\n        }\r\n    }\r\n\r\nyou might need to add the following dependency\r\n\r\n    &lt;!-- https://mvnrepository.com/artifact/org.apache.lucene/lucene-analyzers-common --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.apache.lucene&lt;/groupId&gt;\r\n        &lt;artifactId&gt;lucene-analyzers-common&lt;/artifactId&gt;\r\n        &lt;version&gt;4.10.4&lt;/version&gt;\r\n    &lt;/dependency&gt;","title":"Indexing json document offline in native android app using lucene","body":"<p>use this as a base <a href=\"http://www.avajava.com/tutorials/lessons/how-do-i-use-lucene-to-index-and-search-text-files.html\" rel=\"nofollow noreferrer\">http://www.avajava.com/tutorials/lessons/how-do-i-use-lucene-to-index-and-search-text-files.html</a></p>\n\n<p>and use this to add JSON objects to the index</p>\n\n<pre><code>public void addDocuments(IndexWriter indexWriter, JSONArray jsonObjects) {\n    for (JSONObject object : (List&lt;JSONObject&gt;) jsonObjects) {\n        Document doc = new Document();\n        final FieldType bodyOptions = new FieldType();\n        bodyOptions.setIndexed(true);\n        bodyOptions.setIndexOptions(FieldInfo.IndexOptions.DOCS_AND_FREQS_AND_POSITIONS_AND_OFFSETS);\n        bodyOptions.setStored(true);\n        bodyOptions.setStoreTermVectors(true);\n        bodyOptions.setTokenized(true);\n        for (String field : (Set&lt;String&gt;) object.keySet()) {\n            doc.add(new Field(field, (String) object.get(field), bodyOptions));\n        }\n        try {\n            System.out.println(doc);\n            indexWriter.addDocument(doc);\n        } catch (IOException ex) {\n            System.err.println(\"Error adding documents to the index. \" + ex.getMessage());\n        }\n    }\n}\n</code></pre>\n\n<p>you might need to add the following dependency</p>\n\n<pre><code>&lt;!-- https://mvnrepository.com/artifact/org.apache.lucene/lucene-analyzers-common --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.lucene&lt;/groupId&gt;\n    &lt;artifactId&gt;lucene-analyzers-common&lt;/artifactId&gt;\n    &lt;version&gt;4.10.4&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3210846,"reputation":727,"user_id":2870922,"display_name":"Chenmunka"},"score":0,"creation_date":1690116318,"post_id":76719984,"comment_id":135305396,"body_markdown":"While this link may answer the question, it is better to include the essential parts of the answer here and provide the link for reference.  Link-only answers can become invalid if the linked page changes. - [From Review](/review/late-answers/34713592)","body":"While this link may answer the question, it is better to include the essential parts of the answer here and provide the link for reference.  Link-only answers can become invalid if the linked page changes. - <a href=\"/review/late-answers/34713592\">From Review</a>"}],"tags":[],"owner":{"account_id":29047512,"reputation":1,"user_id":22251021,"display_name":"texopher"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690146228,"creation_date":1689760094,"answer_id":76719984,"question_id":43046248,"body_markdown":"You can use this modification of Lucene 7.3.0 for searching in Android 8.0 or above: https://github.com/texophen/lucene-android\r\n\r\nSee this answer ( https://stackoverflow.com/a/76719477/22251021 ) for how to use it.\r\n\r\nIn order to use Lucene in Android, you can:\r\n\r\n+ Extends org.apache.lucene.store.BaseDirectory:\r\n```\r\npackage com.texopher.gophoxes;\r\n\r\nimport java.io.IOException;\r\nimport java.nio.file.Path;\r\nimport java.util.Collection;\r\nimport java.util.List;\r\nimport java.util.UUID;\r\n\r\nimport org.apache.lucene.store.BaseDirectory;\r\nimport org.apache.lucene.store.IOContext;\r\nimport org.apache.lucene.store.IndexInput;\r\nimport org.apache.lucene.store.IndexOutput;\r\nimport org.apache.lucene.store.LockFactory;\r\n\r\npublic class BucketDirectory extends BaseDirectory {\r\n\r\n\tprotected Bucket bucket;\r\n\t\r\n\tpublic BucketDirectory(Bucket bucket, LockFactory lockFactory) {\r\n\t\tsuper(lockFactory);\r\n\t\tthis.bucket = bucket;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void close() throws IOException {\r\n\t}\r\n\r\n\t@Override\r\n\tpublic IndexOutput createOutput(String name, IOContext context) throws IOException {\r\n\t\treturn new BucketIndexOutput(bucket, name);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic IndexOutput createTempOutput(String prefix, String suffix, IOContext context) throws IOException {\r\n\t\treturn new BucketIndexOutput(bucket, prefix + UUID.randomUUID().toString().replaceAll(&quot;-&quot;, &quot;&quot;) + suffix);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void deleteFile(String name) throws IOException {\r\n\t\ttry {\r\n\t\t\tbucket.deleteFile(name);\r\n\t\t} catch (Exception e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t}\r\n\r\n\t@Override\r\n\tpublic long fileLength(String name) throws IOException {\r\n\t\ttry {\r\n\t\t\treturn bucket.fileLength(name);\r\n\t\t} catch (Exception e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\treturn 0;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic String[] listAll() throws IOException {\r\n\t\tString[] tag = new String[0];\r\n\t\ttry {\r\n\t\t\tList&lt;String&gt; tmp = bucket.listFiles();\r\n\t\t\ttag = new String[tmp.size()];\r\n\t\t\tfor (int i = 0; i &lt; tmp.size(); i++) {\r\n\t\t\t\ttag[i] = tmp.get(i);\r\n\t\t\t}\r\n\t\t} catch (Exception e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\treturn tag;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic IndexInput openInput(String name, IOContext context) throws IOException {\r\n\t\ttry {\r\n\t\t\treturn new BucketIndexInput(bucket, name);\r\n\t\t} catch (Exception e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\treturn null;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void rename(String source, String dest) throws IOException {\r\n\t\ttry {\r\n\t\t\tbucket.rename(source, dest);;\r\n\t\t} catch (Exception e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void sync(Collection&lt;String&gt; arg0) throws IOException {\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void syncMetaData() throws IOException {\r\n\t}\r\n\r\n}\r\n```\r\n\r\n+ Use following code for searching:\r\n```\r\nQuery qr = new TermQuery(new Term(&quot;code&quot;, this.md5(link)));\r\nBucket bk = new Bucket(this.gopherServer, this.hole, this.magic);\r\nDirectory indexDirectory = new BucketDirectory(bk, new SingleInstanceLockFactory());\r\nIndexReader reader = DirectoryReader.open(indexDirectory);\r\nIndexSearcher searcher = new IndexSearcher(reader);\r\nTopDocs docs = searcher.search(qr, 1);\r\nScoreDoc[] hits = docs.scoreDocs;\r\n```","title":"Indexing json document offline in native android app using lucene","body":"<p>You can use this modification of Lucene 7.3.0 for searching in Android 8.0 or above: <a href=\"https://github.com/texophen/lucene-android\" rel=\"nofollow noreferrer\">https://github.com/texophen/lucene-android</a></p>\n<p>See this answer ( <a href=\"https://stackoverflow.com/a/76719477/22251021\">https://stackoverflow.com/a/76719477/22251021</a> ) for how to use it.</p>\n<p>In order to use Lucene in Android, you can:</p>\n<ul>\n<li>Extends org.apache.lucene.store.BaseDirectory:</li>\n</ul>\n<pre><code>package com.texopher.gophoxes;\n\nimport java.io.IOException;\nimport java.nio.file.Path;\nimport java.util.Collection;\nimport java.util.List;\nimport java.util.UUID;\n\nimport org.apache.lucene.store.BaseDirectory;\nimport org.apache.lucene.store.IOContext;\nimport org.apache.lucene.store.IndexInput;\nimport org.apache.lucene.store.IndexOutput;\nimport org.apache.lucene.store.LockFactory;\n\npublic class BucketDirectory extends BaseDirectory {\n\n    protected Bucket bucket;\n    \n    public BucketDirectory(Bucket bucket, LockFactory lockFactory) {\n        super(lockFactory);\n        this.bucket = bucket;\n    }\n\n    @Override\n    public void close() throws IOException {\n    }\n\n    @Override\n    public IndexOutput createOutput(String name, IOContext context) throws IOException {\n        return new BucketIndexOutput(bucket, name);\n    }\n\n    @Override\n    public IndexOutput createTempOutput(String prefix, String suffix, IOContext context) throws IOException {\n        return new BucketIndexOutput(bucket, prefix + UUID.randomUUID().toString().replaceAll(&quot;-&quot;, &quot;&quot;) + suffix);\n    }\n\n    @Override\n    public void deleteFile(String name) throws IOException {\n        try {\n            bucket.deleteFile(name);\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n\n    @Override\n    public long fileLength(String name) throws IOException {\n        try {\n            return bucket.fileLength(name);\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n        return 0;\n    }\n\n    @Override\n    public String[] listAll() throws IOException {\n        String[] tag = new String[0];\n        try {\n            List&lt;String&gt; tmp = bucket.listFiles();\n            tag = new String[tmp.size()];\n            for (int i = 0; i &lt; tmp.size(); i++) {\n                tag[i] = tmp.get(i);\n            }\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n        return tag;\n    }\n\n    @Override\n    public IndexInput openInput(String name, IOContext context) throws IOException {\n        try {\n            return new BucketIndexInput(bucket, name);\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n        return null;\n    }\n\n    @Override\n    public void rename(String source, String dest) throws IOException {\n        try {\n            bucket.rename(source, dest);;\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n\n    @Override\n    public void sync(Collection&lt;String&gt; arg0) throws IOException {\n    }\n\n    @Override\n    public void syncMetaData() throws IOException {\n    }\n\n}\n</code></pre>\n<ul>\n<li>Use following code for searching:</li>\n</ul>\n<pre><code>Query qr = new TermQuery(new Term(&quot;code&quot;, this.md5(link)));\nBucket bk = new Bucket(this.gopherServer, this.hole, this.magic);\nDirectory indexDirectory = new BucketDirectory(bk, new SingleInstanceLockFactory());\nIndexReader reader = DirectoryReader.open(indexDirectory);\nIndexSearcher searcher = new IndexSearcher(reader);\nTopDocs docs = searcher.search(qr, 1);\nScoreDoc[] hits = docs.scoreDocs;\n</code></pre>\n"}],"owner":{"account_id":6299516,"reputation":141,"user_id":4894564,"accept_rate":25,"display_name":"vikrant"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":405,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1690146228,"creation_date":1490617134,"question_id":43046248,"body_markdown":"Is it possible to index documents offline in native android app using lucene?\r\n\r\nWe build it for web but looking for something which will work offline in native android apps.\r\n\r\nsample data:\r\n\r\n[\r\n{\r\n&quot;name&quot;:&quot;abc&quot;,\r\n&quot;desc&quot;:&quot;ndex documents offline&quot;\r\n},\r\n{\r\n&quot;name&quot;:&quot;jjj&quot;,\r\n&quot;desc&quot;:&quot;index my data&quot;\r\n}\r\n]\r\n\r\n\r\nI have to index my data and search from it\r\n\r\n\r\n\r\nAnalyzer code:\r\n\r\n    //  Directory dir = FSDirectory.open(&quot;/libs/g&quot;);\r\n    //Analyzer analyzer = new StandardAnalyzer();\r\n    // IndexWriterConfig iwc = new IndexWriterConfig();\r\n    // Analyzer analyzer = new StandardAnalyzer();\r\n    \r\n    Directory directory = new RAMDirectory();\r\n    // To store an index on disk, use this instead:\r\n    //Directory directory = FSDirectory.open(&quot;/tmp/testindex&quot;);\r\n    IndexWriterConfig config = new IndexWriterConfig(Version.LUCENE_4_10_4,new Analyzer(){\r\n    \r\n    protected TokenStreamComponents createComponents(String fieldName, Reader reader) {\r\n        return null;\r\n        }\r\n    });\r\n    config.setOpenMode(OpenMode.CREATE_OR_APPEND);\r\n    indexWriter = new IndexWriter(directory, config);\r\n    \r\n    //Always overwrite the directory\r\n    //iwriter.setOpenMode(OpenMode.CREATE);\r\n    //indexWriter = new IndexWriter(dir, iwc);\r\n\r\n","title":"Indexing json document offline in native android app using lucene","body":"<p>Is it possible to index documents offline in native android app using lucene?</p>\n\n<p>We build it for web but looking for something which will work offline in native android apps.</p>\n\n<p>sample data:</p>\n\n<p>[\n{\n\"name\":\"abc\",\n\"desc\":\"ndex documents offline\"\n},\n{\n\"name\":\"jjj\",\n\"desc\":\"index my data\"\n}\n]</p>\n\n<p>I have to index my data and search from it</p>\n\n<p>Analyzer code:</p>\n\n<pre><code>//  Directory dir = FSDirectory.open(\"/libs/g\");\n//Analyzer analyzer = new StandardAnalyzer();\n// IndexWriterConfig iwc = new IndexWriterConfig();\n// Analyzer analyzer = new StandardAnalyzer();\n\nDirectory directory = new RAMDirectory();\n// To store an index on disk, use this instead:\n//Directory directory = FSDirectory.open(\"/tmp/testindex\");\nIndexWriterConfig config = new IndexWriterConfig(Version.LUCENE_4_10_4,new Analyzer(){\n\nprotected TokenStreamComponents createComponents(String fieldName, Reader reader) {\n    return null;\n    }\n});\nconfig.setOpenMode(OpenMode.CREATE_OR_APPEND);\nindexWriter = new IndexWriter(directory, config);\n\n//Always overwrite the directory\n//iwriter.setOpenMode(OpenMode.CREATE);\n//indexWriter = new IndexWriter(dir, iwc);\n</code></pre>\n"},{"tags":["java","spring-boot"],"answers":[{"comments":[{"owner":{"account_id":26672592,"reputation":27,"user_id":20283825,"display_name":"Sheriff Sulemana"},"score":0,"creation_date":1690230801,"post_id":76750154,"comment_id":135321752,"body_markdown":"I think you are right the access modifier was a actually the problem. But after changing it which i think makes sense actually output the last exception:       catch (Exception exception){}\n        throw new ApiException(&quot;An error occurred. Please try again.&quot;); which means it does not run the code.","body":"I think you are right the access modifier was a actually the problem. But after changing it which i think makes sense actually output the last exception:       catch (Exception exception){}         throw new ApiException(&quot;An error occurred. Please try again.&quot;); which means it does not run the code."},{"owner":{"account_id":10345313,"reputation":330,"user_id":7630468,"display_name":"SwathiP"},"score":0,"creation_date":1690231468,"post_id":76750154,"comment_id":135321844,"body_markdown":"The last exception you received seems to be related to something within your repository implementation when creating a user. You may have to debug each line and find out where exactly it fails. If you provide complete stack trace, I can probably help. Could you mark my answer as accepted since it solves the original issue?","body":"The last exception you received seems to be related to something within your repository implementation when creating a user. You may have to debug each line and find out where exactly it fails. If you provide complete stack trace, I can probably help. Could you mark my answer as accepted since it solves the original issue?"},{"owner":{"account_id":26672592,"reputation":27,"user_id":20283825,"display_name":"Sheriff Sulemana"},"score":1,"creation_date":1690247133,"post_id":76750154,"comment_id":135323539,"body_markdown":"After series of debugging i have been able to get to somewhere interesting and very inciting though i haven&#39;t got the final solution yet but i have got the idea where it&#39;s leading me to, am taking a break. Thanks so much i highly appreciate your time for me i wish i could double accept your answer.","body":"After series of debugging i have been able to get to somewhere interesting and very inciting though i haven&#39;t got the final solution yet but i have got the idea where it&#39;s leading me to, am taking a break. Thanks so much i highly appreciate your time for me i wish i could double accept your answer."}],"tags":[],"owner":{"account_id":10345313,"reputation":330,"user_id":7630468,"display_name":"SwathiP"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1690145904,"creation_date":1690143446,"answer_id":76750154,"question_id":76749380,"body_markdown":"&quot;jdbc&quot; is not injected as a bean and not initialized, therefore you are getting NullPointerException. Replace \r\n\r\n    public NamedParameterJdbcTemplate jdbc;\r\n\r\nwith \r\n\r\n    private final NamedParameterJdbcTemplate jdbc;","title":"java.lang.NullPointerException: Cannot invoke &quot;org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate.queryForObject","body":"<p>&quot;jdbc&quot; is not injected as a bean and not initialized, therefore you are getting NullPointerException. Replace</p>\n<pre><code>public NamedParameterJdbcTemplate jdbc;\n</code></pre>\n<p>with</p>\n<pre><code>private final NamedParameterJdbcTemplate jdbc;\n</code></pre>\n"}],"owner":{"account_id":26672592,"reputation":27,"user_id":20283825,"display_name":"Sheriff Sulemana"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":197,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1690163612,"accepted_answer_id":76750154,"answer_count":1,"score":0,"last_activity_date":1690145904,"creation_date":1690131286,"question_id":76749380,"body_markdown":"     This is my spring boot v3.10 api, a post request to register user and check if email already exist.\r\nBut i got this error:  &quot;java.lang.NullPointerException: Cannot invoke &quot;org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate.queryForObject(String, java.util.Map, java.lang.Class)&quot; because &quot;this.jdbc&quot; is null&quot;\r\n\r\nthis is the class that creates a new user but before creating it checks if an email already exist in the user table with the getEmailCount() method but this where i get the error.\r\n\r\n    @Repository\r\n    @RequiredArgsConstructor\r\n    @Slf4j\r\n    public class UserRepositoryImplementation implements UserRepository&lt;User&gt; {\r\n        public NamedParameterJdbcTemplate jdbc;\r\n        private final RoleRepository&lt;Role&gt; roleRepository;\r\n        private final BCryptPasswordEncoder encoder;\r\n    \r\n        @Override\r\n        public User create(User user) {\r\n            // check if email is unique\r\n            if(getEmailCount(user.getEmail().trim().toLowerCase()) &gt; 0) {\r\n                throw new ApiException(&quot;Email already in use. Please use a different email and try again.&quot;);\r\n            }\r\n            // save new user\r\n            try{\r\n                KeyHolder holder = new GeneratedKeyHolder();\r\n                SqlParameterSource parameters = getSqlParameterSource(user);\r\n                jdbc.update(INSERT_USER_QUERY, parameters, holder);\r\n                user.setId(requireNonNull(holder.getKey()).longValue());\r\n    \r\n                // add role to the user\r\n                roleRepository.addRoleToUser(user.getId(), ROLE_USER.name());\r\n    \r\n                // send verification URL\r\n                String verificationUrl = getVerificationUrl(UUID.randomUUID().toString(), ACCOUNT.getType());\r\n    \r\n                // save URL in verification table\r\n                jdbc.update(INSERT_VERIFICATION_QUERY, Map.of(&quot;userId&quot;, user.getId(), &quot;url&quot;, verificationUrl));\r\n    \r\n                // send email to user with verification URL\r\n                //emailSerivice.sendVerificationUrl(user.getFirstName(), user.getEmail(), verificationUrl, ACCOUNT);\r\n                user.setEnabled(false);\r\n                user.setNotLocked(true);\r\n    \r\n                // return the newly created user\r\n                return user;\r\n                // if any errors, throw exception with proper message\r\n            }catch (Exception exception){}\r\n            throw new ApiException(&quot;An error occurred. Please try again.&quot;);\r\n        }\r\n\r\n\r\nThis is the method that handles the query to check if the email already exist: \r\n\r\n     private Integer getEmailCount(String email){\r\n            return jdbc.queryForObject(COUNT_USER_EMAIL_QUERY, Map.of(&quot;email&quot;, email), Integer.class);\r\n        }\r\n\r\nAs error said the jdbc is null.\r\nThis the query for the COUNT_USER_EMAIL_QUERY variable:  COUNT_USER_EMAIL_QUERY = &quot;SELECT COUNT(*) FROM Users WHERE email = :email&quot;;\r\n","title":"java.lang.NullPointerException: Cannot invoke &quot;org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate.queryForObject","body":"<pre><code> This is my spring boot v3.10 api, a post request to register user and check if email already exist.\n</code></pre>\n<p>But i got this error:  &quot;java.lang.NullPointerException: Cannot invoke &quot;org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate.queryForObject(String, java.util.Map, java.lang.Class)&quot; because &quot;this.jdbc&quot; is null&quot;</p>\n<p>this is the class that creates a new user but before creating it checks if an email already exist in the user table with the getEmailCount() method but this where i get the error.</p>\n<pre><code>@Repository\n@RequiredArgsConstructor\n@Slf4j\npublic class UserRepositoryImplementation implements UserRepository&lt;User&gt; {\n    public NamedParameterJdbcTemplate jdbc;\n    private final RoleRepository&lt;Role&gt; roleRepository;\n    private final BCryptPasswordEncoder encoder;\n\n    @Override\n    public User create(User user) {\n        // check if email is unique\n        if(getEmailCount(user.getEmail().trim().toLowerCase()) &gt; 0) {\n            throw new ApiException(&quot;Email already in use. Please use a different email and try again.&quot;);\n        }\n        // save new user\n        try{\n            KeyHolder holder = new GeneratedKeyHolder();\n            SqlParameterSource parameters = getSqlParameterSource(user);\n            jdbc.update(INSERT_USER_QUERY, parameters, holder);\n            user.setId(requireNonNull(holder.getKey()).longValue());\n\n            // add role to the user\n            roleRepository.addRoleToUser(user.getId(), ROLE_USER.name());\n\n            // send verification URL\n            String verificationUrl = getVerificationUrl(UUID.randomUUID().toString(), ACCOUNT.getType());\n\n            // save URL in verification table\n            jdbc.update(INSERT_VERIFICATION_QUERY, Map.of(&quot;userId&quot;, user.getId(), &quot;url&quot;, verificationUrl));\n\n            // send email to user with verification URL\n            //emailSerivice.sendVerificationUrl(user.getFirstName(), user.getEmail(), verificationUrl, ACCOUNT);\n            user.setEnabled(false);\n            user.setNotLocked(true);\n\n            // return the newly created user\n            return user;\n            // if any errors, throw exception with proper message\n        }catch (Exception exception){}\n        throw new ApiException(&quot;An error occurred. Please try again.&quot;);\n    }\n</code></pre>\n<p>This is the method that handles the query to check if the email already exist:</p>\n<pre><code> private Integer getEmailCount(String email){\n        return jdbc.queryForObject(COUNT_USER_EMAIL_QUERY, Map.of(&quot;email&quot;, email), Integer.class);\n    }\n</code></pre>\n<p>As error said the jdbc is null.\nThis the query for the COUNT_USER_EMAIL_QUERY variable:  COUNT_USER_EMAIL_QUERY = &quot;SELECT COUNT(*) FROM Users WHERE email = :email&quot;;</p>\n"},{"tags":["java","maven","tomcat"],"owner":{"account_id":27432673,"reputation":1,"user_id":22273179,"display_name":"Satyadeep Yenumula"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":17,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690142612,"creation_date":1690142612,"question_id":76750107,"body_markdown":"when I try to access one page , I&#39;m getting two errors. Same build is working fine in my local windows environment. It is failing in linux. Apache-tomcat-6.0.37 . Here is the stack.\r\n\r\n```\r\nERROR org.apache.tiles.jsp.context.JspTilesRequestContext- JSPException while including path &#39;/degreeView/viewStudentInfo.jsp&#39;. \r\njavax.servlet.jsp.JspException: ServletException while including page.\r\n\tat org.apache.tiles.jsp.context.JspUtil.doInclude(JspUtil.java:102)\r\n\tat org.apache.tiles.jsp.context.JspTilesRequestContext.include(JspTilesRequestContext.java:88)\r\n\tat org.apache.tiles.jsp.context.JspTilesRequestContext.dispatch(JspTilesRequestContext.java:82)\r\n\tat org.apache.tiles.impl.BasicTilesContainer.render(BasicTilesContainer.java:457)\r\n\tat org.apache.tiles.jsp.taglib.InsertAttributeTag.render(InsertAttributeTag.java:140)\r\n\tat org.apache.tiles.jsp.taglib.InsertAttributeTag.render(InsertAttributeTag.java:117)\r\n\tat org.apache.tiles.jsp.taglib.RenderTagSupport.execute(RenderTagSupport.java:171)\r\n\tat org.apache.tiles.jsp.taglib.RoleSecurityTagSupport.doEndTag(RoleSecurityTagSupport.java:75)\r\n\tat org.apache.tiles.jsp.taglib.ContainerTagSupport.doEndTag(ContainerTagSupport.java:80)\r\n\tat org.apache.jsp.common.tiles.mainLayout_jsp._jspx_meth_tiles_005finsertAttribute_005f1(mainLayout_jsp.java:386)\r\n\tat org.apache.jsp.common.tiles.mainLayout_jsp._jspService(mainLayout_jsp.java:315)\r\n\tat org.apache.jasper.runtime.HttpJspBase.service(HttpJspBase.java:70)\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:717)\r\n\tat org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:377)\r\n\tat org.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:313)\r\n\tat org.apache.jasper.servlet.JspServlet.service(JspServlet.java:260)\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:717)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:290)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)\r\n\tat org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:646)\r\n\tat org.apache.catalina.core.ApplicationDispatcher.processRequest(ApplicationDispatcher.java:436)\r\n\tat org.apache.catalina.core.ApplicationDispatcher.doForward(ApplicationDispatcher.java:374)\r\n\tat org.apache.catalina.core.ApplicationDispatcher.forward(ApplicationDispatcher.java:302)\r\n\tat org.apache.tiles.servlet.context.ServletTilesRequestContext.forward(ServletTilesRequestContext.java:198)\r\n\tat org.apache.tiles.servlet.context.ServletTilesRequestContext.dispatch(ServletTilesRequestContext.java:185)\r\n\tat org.apache.tiles.impl.BasicTilesContainer.render(BasicTilesContainer.java:417)\r\n\tat org.apache.tiles.impl.BasicTilesContainer.render(BasicTilesContainer.java:368)\r\n\tat org.apache.tiles.web.util.TilesDispatchServlet.doGet(TilesDispatchServlet.java:83)\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:617)\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:717)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:290)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)\r\n\tat org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:646)\r\n\tat org.apache.catalina.core.ApplicationDispatcher.processRequest(ApplicationDispatcher.java:436)\r\n\tat org.apache.catalina.core.ApplicationDispatcher.doForward(ApplicationDispatcher.java:374)\r\n\tat org.apache.catalina.core.ApplicationDispatcher.forward(ApplicationDispatcher.java:302)\r\n\tat org.apache.struts.action.RequestProcessor.doForward(RequestProcessor.java:1054)\r\n\tat org.apache.struts.action.RequestProcessor.processForwardConfig(RequestProcessor.java:386)\r\n\tat org.apache.struts.action.RequestProcessor.process(RequestProcessor.java:229)\r\n\tat com.apollo.s3.struts.action.S3RequestProcessor.process(S3RequestProcessor.java:26)\r\n\tat org.apache.struts.action.ActionServlet.process(ActionServlet.java:1192)\r\n\tat org.apache.struts.action.ActionServlet.doGet(ActionServlet.java:412)\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:617)\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:717)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:290)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)\r\n\tat org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:646)\r\n\tat org.apache.catalina.core.ApplicationDispatcher.processRequest(ApplicationDispatcher.java:436)\r\n\tat org.apache.catalina.core.ApplicationDispatcher.doForward(ApplicationDispatcher.java:374)\r\n\tat org.apache.catalina.core.ApplicationDispatcher.forward(ApplicationDispatcher.java:302)\r\n\tat org.apache.struts.action.RequestProcessor.doForward(RequestProcessor.java:1054)\r\n\tat org.apache.struts.action.RequestProcessor.processForwardConfig(RequestProcessor.java:386)\r\n\tat org.apache.struts.action.RequestProcessor.process(RequestProcessor.java:229)\r\n\tat com.apollo.s3.struts.action.S3RequestProcessor.process(S3RequestProcessor.java:26)\r\n\tat org.apache.struts.action.ActionServlet.process(ActionServlet.java:1192)\r\n\tat org.apache.struts.action.ActionServlet.doGet(ActionServlet.java:412)\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:617)\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:717)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:290)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)\r\n\tat org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:646)\r\n\tat org.apache.catalina.core.ApplicationDispatcher.processRequest(ApplicationDispatcher.java:436)\r\n\tat org.apache.catalina.core.ApplicationDispatcher.doForward(ApplicationDispatcher.java:374)\r\n\tat org.apache.catalina.core.ApplicationDispatcher.forward(ApplicationDispatcher.java:302)\r\n\tat org.apache.struts.action.RequestProcessor.doForward(RequestProcessor.java:1054)\r\n\tat org.apache.struts.action.RequestProcessor.processForwardConfig(RequestProcessor.java:386)\r\n\tat org.apache.struts.action.RequestProcessor.process(RequestProcessor.java:229)\r\n\tat com.apollo.s3.struts.action.S3RequestProcessor.process(S3RequestProcessor.java:26)\r\n\tat org.apache.struts.action.ActionServlet.process(ActionServlet.java:1192)\r\n\tat org.apache.struts.action.ActionServlet.doGet(ActionServlet.java:412)\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:617)\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:717)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:290)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)\r\n\tat com.apollogrp.sso.client.AuthenticationFilter.doFilter(AuthenticationFilter.java:101)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)\r\n\tat com.apollo.s3.filter.LoadTimeFilter.doFilter(LoadTimeFilter.java:51)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)\r\n\tat com.apollo.s3.filter.CharacterEncodingFilter.doFilter(CharacterEncodingFilter.java:51)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:233)\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:191)\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:470)\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:127)\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:102)\r\n\tat org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:555)\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:109)\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:298)\r\n\tat org.apache.coyote.http11.Http11Processor.process(Http11Processor.java:857)\r\n\tat org.apache.coyote.http11.Http11Protocol$Http11ConnectionHandler.process(Http11Protocol.java:588)\r\n\tat org.apache.tomcat.util.net.JIoEndpoint$Worker.run(JIoEndpoint.java:489)\r\n\tat java.lang.Thread.run(Thread.java:745)\r\nCaused by: org.apache.jasper.JasperException: An exception occurred processing JSP page /degreeView/viewStudentInfo.jsp at line 16\r\n\r\n13: \r\n14: &lt;div id=&quot;viewStudentInfo&quot; style=&quot;width: 100%&quot; &gt;\r\n15:            &lt;div id=&quot;degreeAuditReportContainer&quot;&gt;\r\n16:                 &lt;jsp:include page=&quot;/version2/scheduleGuide/degreeAuditReport.jsp&quot;\r\n17:                              flush=&quot;false&quot; /&gt;\r\n18:             &lt;/div&gt;\r\n19: \t\t    &lt;div id=&quot;viewGGroundStudentInfoScheduleDisplayContainer&quot;&gt;\r\n\r\n\r\nStacktrace:\r\n\tat org.apache.jasper.servlet.JspServletWrapper.handleJspException(JspServletWrapper.java:510)\r\n\tat org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:401)\r\n\tat org.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:313)\r\n\tat org.apache.jasper.servlet.JspServlet.service(JspServlet.java:260)\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:717)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:290)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)\r\n\tat org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:646)\r\n\tat org.apache.catalina.core.ApplicationDispatcher.doInclude(ApplicationDispatcher.java:551)\r\n\tat org.apache.catalina.core.ApplicationDispatcher.include(ApplicationDispatcher.java:488)\r\n\tat org.apache.jasper.runtime.JspRuntimeLibrary.include(JspRuntimeLibrary.java:968)\r\n\tat org.apache.jasper.runtime.PageContextImpl.include(PageContextImpl.java:621)\r\n\tat org.apache.tiles.jsp.context.JspUtil.doInclude(JspUtil.java:98)\r\n\t... 94 more\r\nCaused by: org.apache.jasper.JasperException: An exception occurred processing JSP page /version2/scheduleGuide/degreeAuditReport.jsp at line 54\r\n\r\n51: \t      &lt;td width=&quot;367&quot; align=&quot;right&quot; valign=&quot;top&quot;&gt;\r\n52: \t      &lt;!-- Audit and Guide --&gt;\r\n53: \t          &lt;div id=&quot;scheduleGuideSection&quot; style=&quot;visibility:hidden&quot;&gt;\r\n54: \t            &lt;jsp:include page=&quot;/version2/scheduleGuide/scheduleGuide.jsp&quot; flush=&quot;false&quot;/&gt;\r\n55: \t          &lt;/div&gt;\r\n56: \t      &lt;!-- Audit and Guide --&gt;\r\n57: \t\t  &lt;/td&gt;\r\n\r\n\r\nStacktrace:\r\n\tat org.apache.jasper.servlet.JspServletWrapper.handleJspException(JspServletWrapper.java:510)\r\n\tat org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:401)\r\n\tat org.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:313)\r\n\tat org.apache.jasper.servlet.JspServlet.service(JspServlet.java:260)\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:717)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:290)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)\r\n\tat org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:646)\r\n\tat org.apache.catalina.core.ApplicationDispatcher.doInclude(ApplicationDispatcher.java:551)\r\n\tat org.apache.catalina.core.ApplicationDispatcher.include(ApplicationDispatcher.java:488)\r\n\tat org.apache.jasper.runtime.JspRuntimeLibrary.include(JspRuntimeLibrary.java:968)\r\n\tat org.apache.jsp.degreeView.viewStudentInfo_jsp._jspService(viewStudentInfo_jsp.java:67)\r\n\tat org.apache.jasper.runtime.HttpJspBase.service(HttpJspBase.java:70)\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:717)\r\n\tat org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:377)\r\n\t... 105 more\r\nCaused by: org.apache.jasper.JasperException: An exception occurred processing JSP page /version2/scheduleGuide/scheduleGuide.jsp at line 329\r\n\r\n326: \t    &lt;tr&gt;\r\n327: \t        &lt;td align=&quot;left&quot;&gt;\r\n328: \t            &lt;div id=&quot;scheduleGuideContainer&quot;&gt;\r\n329: \t\t\t\t\t&lt;jsp:include page=&quot;/version2/scheduleGuide/scheduleGuideTreeview.jsp&quot;/&gt;\r\n330: \t\t\t\t&lt;/div&gt;\r\n331: \t\t\t&lt;/td&gt;\r\n332: \t\t&lt;/tr&gt;\r\n\r\n\r\nStacktrace:\r\n\tat org.apache.jasper.servlet.JspServletWrapper.handleJspException(JspServletWrapper.java:510)\r\n\tat org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:401)\r\n\tat org.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:313)\r\n\tat org.apache.jasper.servlet.JspServlet.service(JspServlet.java:260)\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:717)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:290)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)\r\n\tat org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:646)\r\n\tat org.apache.catalina.core.ApplicationDispatcher.doInclude(ApplicationDispatcher.java:551)\r\n\tat org.apache.catalina.core.ApplicationDispatcher.include(ApplicationDispatcher.java:488)\r\n\tat org.apache.jasper.runtime.JspRuntimeLibrary.include(JspRuntimeLibrary.java:968)\r\n\tat org.apache.jsp.version2.scheduleGuide.degreeAuditReport_jsp._jspx_meth_logic_005fequal_005f0(degreeAuditReport_jsp.java:176)\r\n\tat org.apache.jsp.version2.scheduleGuide.degreeAuditReport_jsp._jspService(degreeAuditReport_jsp.java:127)\r\n\tat org.apache.jasper.runtime.HttpJspBase.service(HttpJspBase.java:70)\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:717)\r\n\tat org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:377)\r\n\t... 118 more\r\nCaused by: org.apache.jasper.JasperException: org.apache.jasper.JasperException: Unable to load class for JSP\r\n\tat org.apache.jasper.servlet.JspServletWrapper.getServlet(JspServletWrapper.java:156)\r\n\tat org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:329)\r\n\tat org.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:313)\r\n\tat org.apache.jasper.servlet.JspServlet.service(JspServlet.java:260)\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:717)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:290)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)\r\n\tat org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:646)\r\n\tat org.apache.catalina.core.ApplicationDispatcher.doInclude(ApplicationDispatcher.java:551)\r\n\tat org.apache.catalina.core.ApplicationDispatcher.include(ApplicationDispatcher.java:488)\r\n\tat org.apache.jasper.runtime.JspRuntimeLibrary.include(JspRuntimeLibrary.java:968)\r\n\tat org.apache.jsp.version2.scheduleGuide.scheduleGuide_jsp._jspService(scheduleGuide_jsp.java:493)\r\n\tat org.apache.jasper.runtime.HttpJspBase.service(HttpJspBase.java:70)\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:717)\r\n\tat org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:377)\r\n\t... 132 more\r\nCaused by: org.apache.jasper.JasperException: Unable to load class for JSP\r\n\tat org.apache.jasper.JspCompilationContext.load(JspCompilationContext.java:630)\r\n\tat org.apache.jasper.servlet.JspServletWrapper.getServlet(JspServletWrapper.java:144)\r\n\t... 146 more\r\nCaused by: java.lang.ClassNotFoundException: org.apache.jsp.version2.scheduleGuide.scheduleGuideTreeview_jsp\r\n\tat java.net.URLClassLoader.findClass(URLClassLoader.java:381)\r\n\tat org.apache.jasper.servlet.JasperLoader.loadClass(JasperLoader.java:134)\r\n\tat org.apache.jasper.servlet.JasperLoader.loadClass(JasperLoader.java:66)\r\n\tat org.apache.jasper.JspCompilationContext.load(JspCompilationContext.java:628)\r\n//2nd error\r\n ERROR org.apache.tiles.jsp.taglib.RoleSecurityTagSupport- IO Error executing tag: JSPException while including path &#39;/degreeView/viewStudentInfo.jsp&#39;. ServletException while including page.\r\njava.io.IOException: JSPException while including path &#39;/degreeView/viewStudentInfo.jsp&#39;. ServletException while including page.\r\n//3rd error\r\n ERROR org.apache.tiles.jsp.taglib.RenderTagSupport- Error during rendering\r\njavax.servlet.jsp.JspException: IO Error executing tag: JSPException while including path &#39;/degreeView/viewStudentInfo.jsp&#39;. ServletException while including page.\r\n\tat org.apache.tiles.jsp.taglib.RoleSecurityTagSupport.doEndTag(RoleSecurityTagSupport.java:84)\r\nCaused by: java.io.IOException: JSPException while including path &#39;/degreeView/viewStudentInfo.jsp&#39;. ServletException while including page.\r\n\tat org.apache.tiles.jsp.context.JspTilesRequestContext.include(JspTilesRequestContext.java:91)\r\n\tat org.apache.tiles.jsp.context.JspTilesRequestContext.dispatch(JspTilesRequestContext.java:82)\r\n\tat org.apache.tiles.impl.BasicTilesContainer.render(BasicTilesContainer.java:457)\r\n\tat org.apache.tiles.jsp.taglib.InsertAttributeTag.render(InsertAttributeTag.java:140)\r\n\tat org.apache.tiles.jsp.taglib.InsertAttributeTag.render(InsertAttributeTag.java:117)\r\n\tat org.apache.tiles.jsp.taglib.RenderTagSupport.execute(RenderTagSupport.java:171)\r\n\tat org.apache.tiles.jsp.taglib.RoleSecurityTagSupport.doEndTag(RoleSecurityTagSupport.java:75)\r\n\r\n```\r\nI tried deleting the work folder and any temp folder on the server. This class exists on the following path in work folder org.apache.jsp.version2.scheduleGuide.scheduleGuideTreeview_jsp.","title":"JSP class not found: java.lang.ClassNotFoundException: org.apache.jsp.version2.scheduleGuide.scheduleGuideTreeview_jsp","body":"<p>when I try to access one page , I'm getting two errors. Same build is working fine in my local windows environment. It is failing in linux. Apache-tomcat-6.0.37 . Here is the stack.</p>\n<pre><code>ERROR org.apache.tiles.jsp.context.JspTilesRequestContext- JSPException while including path '/degreeView/viewStudentInfo.jsp'. \njavax.servlet.jsp.JspException: ServletException while including page.\n    at org.apache.tiles.jsp.context.JspUtil.doInclude(JspUtil.java:102)\n    at org.apache.tiles.jsp.context.JspTilesRequestContext.include(JspTilesRequestContext.java:88)\n    at org.apache.tiles.jsp.context.JspTilesRequestContext.dispatch(JspTilesRequestContext.java:82)\n    at org.apache.tiles.impl.BasicTilesContainer.render(BasicTilesContainer.java:457)\n    at org.apache.tiles.jsp.taglib.InsertAttributeTag.render(InsertAttributeTag.java:140)\n    at org.apache.tiles.jsp.taglib.InsertAttributeTag.render(InsertAttributeTag.java:117)\n    at org.apache.tiles.jsp.taglib.RenderTagSupport.execute(RenderTagSupport.java:171)\n    at org.apache.tiles.jsp.taglib.RoleSecurityTagSupport.doEndTag(RoleSecurityTagSupport.java:75)\n    at org.apache.tiles.jsp.taglib.ContainerTagSupport.doEndTag(ContainerTagSupport.java:80)\n    at org.apache.jsp.common.tiles.mainLayout_jsp._jspx_meth_tiles_005finsertAttribute_005f1(mainLayout_jsp.java:386)\n    at org.apache.jsp.common.tiles.mainLayout_jsp._jspService(mainLayout_jsp.java:315)\n    at org.apache.jasper.runtime.HttpJspBase.service(HttpJspBase.java:70)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:717)\n    at org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:377)\n    at org.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:313)\n    at org.apache.jasper.servlet.JspServlet.service(JspServlet.java:260)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:717)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:290)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)\n    at org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:646)\n    at org.apache.catalina.core.ApplicationDispatcher.processRequest(ApplicationDispatcher.java:436)\n    at org.apache.catalina.core.ApplicationDispatcher.doForward(ApplicationDispatcher.java:374)\n    at org.apache.catalina.core.ApplicationDispatcher.forward(ApplicationDispatcher.java:302)\n    at org.apache.tiles.servlet.context.ServletTilesRequestContext.forward(ServletTilesRequestContext.java:198)\n    at org.apache.tiles.servlet.context.ServletTilesRequestContext.dispatch(ServletTilesRequestContext.java:185)\n    at org.apache.tiles.impl.BasicTilesContainer.render(BasicTilesContainer.java:417)\n    at org.apache.tiles.impl.BasicTilesContainer.render(BasicTilesContainer.java:368)\n    at org.apache.tiles.web.util.TilesDispatchServlet.doGet(TilesDispatchServlet.java:83)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:617)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:717)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:290)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)\n    at org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:646)\n    at org.apache.catalina.core.ApplicationDispatcher.processRequest(ApplicationDispatcher.java:436)\n    at org.apache.catalina.core.ApplicationDispatcher.doForward(ApplicationDispatcher.java:374)\n    at org.apache.catalina.core.ApplicationDispatcher.forward(ApplicationDispatcher.java:302)\n    at org.apache.struts.action.RequestProcessor.doForward(RequestProcessor.java:1054)\n    at org.apache.struts.action.RequestProcessor.processForwardConfig(RequestProcessor.java:386)\n    at org.apache.struts.action.RequestProcessor.process(RequestProcessor.java:229)\n    at com.apollo.s3.struts.action.S3RequestProcessor.process(S3RequestProcessor.java:26)\n    at org.apache.struts.action.ActionServlet.process(ActionServlet.java:1192)\n    at org.apache.struts.action.ActionServlet.doGet(ActionServlet.java:412)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:617)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:717)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:290)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)\n    at org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:646)\n    at org.apache.catalina.core.ApplicationDispatcher.processRequest(ApplicationDispatcher.java:436)\n    at org.apache.catalina.core.ApplicationDispatcher.doForward(ApplicationDispatcher.java:374)\n    at org.apache.catalina.core.ApplicationDispatcher.forward(ApplicationDispatcher.java:302)\n    at org.apache.struts.action.RequestProcessor.doForward(RequestProcessor.java:1054)\n    at org.apache.struts.action.RequestProcessor.processForwardConfig(RequestProcessor.java:386)\n    at org.apache.struts.action.RequestProcessor.process(RequestProcessor.java:229)\n    at com.apollo.s3.struts.action.S3RequestProcessor.process(S3RequestProcessor.java:26)\n    at org.apache.struts.action.ActionServlet.process(ActionServlet.java:1192)\n    at org.apache.struts.action.ActionServlet.doGet(ActionServlet.java:412)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:617)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:717)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:290)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)\n    at org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:646)\n    at org.apache.catalina.core.ApplicationDispatcher.processRequest(ApplicationDispatcher.java:436)\n    at org.apache.catalina.core.ApplicationDispatcher.doForward(ApplicationDispatcher.java:374)\n    at org.apache.catalina.core.ApplicationDispatcher.forward(ApplicationDispatcher.java:302)\n    at org.apache.struts.action.RequestProcessor.doForward(RequestProcessor.java:1054)\n    at org.apache.struts.action.RequestProcessor.processForwardConfig(RequestProcessor.java:386)\n    at org.apache.struts.action.RequestProcessor.process(RequestProcessor.java:229)\n    at com.apollo.s3.struts.action.S3RequestProcessor.process(S3RequestProcessor.java:26)\n    at org.apache.struts.action.ActionServlet.process(ActionServlet.java:1192)\n    at org.apache.struts.action.ActionServlet.doGet(ActionServlet.java:412)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:617)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:717)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:290)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)\n    at com.apollogrp.sso.client.AuthenticationFilter.doFilter(AuthenticationFilter.java:101)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)\n    at com.apollo.s3.filter.LoadTimeFilter.doFilter(LoadTimeFilter.java:51)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)\n    at com.apollo.s3.filter.CharacterEncodingFilter.doFilter(CharacterEncodingFilter.java:51)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:233)\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:191)\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:470)\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:127)\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:102)\n    at org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:555)\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:109)\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:298)\n    at org.apache.coyote.http11.Http11Processor.process(Http11Processor.java:857)\n    at org.apache.coyote.http11.Http11Protocol$Http11ConnectionHandler.process(Http11Protocol.java:588)\n    at org.apache.tomcat.util.net.JIoEndpoint$Worker.run(JIoEndpoint.java:489)\n    at java.lang.Thread.run(Thread.java:745)\nCaused by: org.apache.jasper.JasperException: An exception occurred processing JSP page /degreeView/viewStudentInfo.jsp at line 16\n\n13: \n14: &lt;div id=&quot;viewStudentInfo&quot; style=&quot;width: 100%&quot; &gt;\n15:            &lt;div id=&quot;degreeAuditReportContainer&quot;&gt;\n16:                 &lt;jsp:include page=&quot;/version2/scheduleGuide/degreeAuditReport.jsp&quot;\n17:                              flush=&quot;false&quot; /&gt;\n18:             &lt;/div&gt;\n19:             &lt;div id=&quot;viewGGroundStudentInfoScheduleDisplayContainer&quot;&gt;\n\n\nStacktrace:\n    at org.apache.jasper.servlet.JspServletWrapper.handleJspException(JspServletWrapper.java:510)\n    at org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:401)\n    at org.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:313)\n    at org.apache.jasper.servlet.JspServlet.service(JspServlet.java:260)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:717)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:290)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)\n    at org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:646)\n    at org.apache.catalina.core.ApplicationDispatcher.doInclude(ApplicationDispatcher.java:551)\n    at org.apache.catalina.core.ApplicationDispatcher.include(ApplicationDispatcher.java:488)\n    at org.apache.jasper.runtime.JspRuntimeLibrary.include(JspRuntimeLibrary.java:968)\n    at org.apache.jasper.runtime.PageContextImpl.include(PageContextImpl.java:621)\n    at org.apache.tiles.jsp.context.JspUtil.doInclude(JspUtil.java:98)\n    ... 94 more\nCaused by: org.apache.jasper.JasperException: An exception occurred processing JSP page /version2/scheduleGuide/degreeAuditReport.jsp at line 54\n\n51:           &lt;td width=&quot;367&quot; align=&quot;right&quot; valign=&quot;top&quot;&gt;\n52:           &lt;!-- Audit and Guide --&gt;\n53:               &lt;div id=&quot;scheduleGuideSection&quot; style=&quot;visibility:hidden&quot;&gt;\n54:                 &lt;jsp:include page=&quot;/version2/scheduleGuide/scheduleGuide.jsp&quot; flush=&quot;false&quot;/&gt;\n55:               &lt;/div&gt;\n56:           &lt;!-- Audit and Guide --&gt;\n57:           &lt;/td&gt;\n\n\nStacktrace:\n    at org.apache.jasper.servlet.JspServletWrapper.handleJspException(JspServletWrapper.java:510)\n    at org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:401)\n    at org.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:313)\n    at org.apache.jasper.servlet.JspServlet.service(JspServlet.java:260)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:717)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:290)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)\n    at org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:646)\n    at org.apache.catalina.core.ApplicationDispatcher.doInclude(ApplicationDispatcher.java:551)\n    at org.apache.catalina.core.ApplicationDispatcher.include(ApplicationDispatcher.java:488)\n    at org.apache.jasper.runtime.JspRuntimeLibrary.include(JspRuntimeLibrary.java:968)\n    at org.apache.jsp.degreeView.viewStudentInfo_jsp._jspService(viewStudentInfo_jsp.java:67)\n    at org.apache.jasper.runtime.HttpJspBase.service(HttpJspBase.java:70)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:717)\n    at org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:377)\n    ... 105 more\nCaused by: org.apache.jasper.JasperException: An exception occurred processing JSP page /version2/scheduleGuide/scheduleGuide.jsp at line 329\n\n326:        &lt;tr&gt;\n327:            &lt;td align=&quot;left&quot;&gt;\n328:                &lt;div id=&quot;scheduleGuideContainer&quot;&gt;\n329:                    &lt;jsp:include page=&quot;/version2/scheduleGuide/scheduleGuideTreeview.jsp&quot;/&gt;\n330:                &lt;/div&gt;\n331:            &lt;/td&gt;\n332:        &lt;/tr&gt;\n\n\nStacktrace:\n    at org.apache.jasper.servlet.JspServletWrapper.handleJspException(JspServletWrapper.java:510)\n    at org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:401)\n    at org.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:313)\n    at org.apache.jasper.servlet.JspServlet.service(JspServlet.java:260)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:717)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:290)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)\n    at org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:646)\n    at org.apache.catalina.core.ApplicationDispatcher.doInclude(ApplicationDispatcher.java:551)\n    at org.apache.catalina.core.ApplicationDispatcher.include(ApplicationDispatcher.java:488)\n    at org.apache.jasper.runtime.JspRuntimeLibrary.include(JspRuntimeLibrary.java:968)\n    at org.apache.jsp.version2.scheduleGuide.degreeAuditReport_jsp._jspx_meth_logic_005fequal_005f0(degreeAuditReport_jsp.java:176)\n    at org.apache.jsp.version2.scheduleGuide.degreeAuditReport_jsp._jspService(degreeAuditReport_jsp.java:127)\n    at org.apache.jasper.runtime.HttpJspBase.service(HttpJspBase.java:70)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:717)\n    at org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:377)\n    ... 118 more\nCaused by: org.apache.jasper.JasperException: org.apache.jasper.JasperException: Unable to load class for JSP\n    at org.apache.jasper.servlet.JspServletWrapper.getServlet(JspServletWrapper.java:156)\n    at org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:329)\n    at org.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:313)\n    at org.apache.jasper.servlet.JspServlet.service(JspServlet.java:260)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:717)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:290)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)\n    at org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:646)\n    at org.apache.catalina.core.ApplicationDispatcher.doInclude(ApplicationDispatcher.java:551)\n    at org.apache.catalina.core.ApplicationDispatcher.include(ApplicationDispatcher.java:488)\n    at org.apache.jasper.runtime.JspRuntimeLibrary.include(JspRuntimeLibrary.java:968)\n    at org.apache.jsp.version2.scheduleGuide.scheduleGuide_jsp._jspService(scheduleGuide_jsp.java:493)\n    at org.apache.jasper.runtime.HttpJspBase.service(HttpJspBase.java:70)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:717)\n    at org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:377)\n    ... 132 more\nCaused by: org.apache.jasper.JasperException: Unable to load class for JSP\n    at org.apache.jasper.JspCompilationContext.load(JspCompilationContext.java:630)\n    at org.apache.jasper.servlet.JspServletWrapper.getServlet(JspServletWrapper.java:144)\n    ... 146 more\nCaused by: java.lang.ClassNotFoundException: org.apache.jsp.version2.scheduleGuide.scheduleGuideTreeview_jsp\n    at java.net.URLClassLoader.findClass(URLClassLoader.java:381)\n    at org.apache.jasper.servlet.JasperLoader.loadClass(JasperLoader.java:134)\n    at org.apache.jasper.servlet.JasperLoader.loadClass(JasperLoader.java:66)\n    at org.apache.jasper.JspCompilationContext.load(JspCompilationContext.java:628)\n//2nd error\n ERROR org.apache.tiles.jsp.taglib.RoleSecurityTagSupport- IO Error executing tag: JSPException while including path '/degreeView/viewStudentInfo.jsp'. ServletException while including page.\njava.io.IOException: JSPException while including path '/degreeView/viewStudentInfo.jsp'. ServletException while including page.\n//3rd error\n ERROR org.apache.tiles.jsp.taglib.RenderTagSupport- Error during rendering\njavax.servlet.jsp.JspException: IO Error executing tag: JSPException while including path '/degreeView/viewStudentInfo.jsp'. ServletException while including page.\n    at org.apache.tiles.jsp.taglib.RoleSecurityTagSupport.doEndTag(RoleSecurityTagSupport.java:84)\nCaused by: java.io.IOException: JSPException while including path '/degreeView/viewStudentInfo.jsp'. ServletException while including page.\n    at org.apache.tiles.jsp.context.JspTilesRequestContext.include(JspTilesRequestContext.java:91)\n    at org.apache.tiles.jsp.context.JspTilesRequestContext.dispatch(JspTilesRequestContext.java:82)\n    at org.apache.tiles.impl.BasicTilesContainer.render(BasicTilesContainer.java:457)\n    at org.apache.tiles.jsp.taglib.InsertAttributeTag.render(InsertAttributeTag.java:140)\n    at org.apache.tiles.jsp.taglib.InsertAttributeTag.render(InsertAttributeTag.java:117)\n    at org.apache.tiles.jsp.taglib.RenderTagSupport.execute(RenderTagSupport.java:171)\n    at org.apache.tiles.jsp.taglib.RoleSecurityTagSupport.doEndTag(RoleSecurityTagSupport.java:75)\n\n</code></pre>\n<p>I tried deleting the work folder and any temp folder on the server. This class exists on the following path in work folder org.apache.jsp.version2.scheduleGuide.scheduleGuideTreeview_jsp.</p>\n"},{"tags":["java","intellij-idea","jar","executable-jar","packaging"],"comments":[{"owner":{"account_id":21088177,"reputation":9,"user_id":15500753,"display_name":"MrClaps"},"score":0,"creation_date":1690140644,"post_id":76749991,"comment_id":135308511,"body_markdown":"Basically wondering if this is even possible","body":"Basically wondering if this is even possible"},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":2,"creation_date":1690144467,"post_id":76749991,"comment_id":135308888,"body_markdown":"See [`java.util.jar`](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/jar/package-summary.html), [`jdk.jartool`](https://docs.oracle.com/en/java/javase/20/docs/api/jdk.jartool/module-summary.html) + [`ToolProvider`](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/spi/ToolProvider.html), or even [`ProcessBuilder`](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/ProcessBuilder.html).","body":"See <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/jar/package-summary.html\" rel=\"nofollow noreferrer\"><code>java.util.jar</code></a>, <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/jdk.jartool/module-summary.html\" rel=\"nofollow noreferrer\"><code>jdk.jartool</code></a> + <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/spi/ToolProvider.html\" rel=\"nofollow noreferrer\"><code>ToolProvider</code></a>, or even <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/ProcessBuilder.html\" rel=\"nofollow noreferrer\"><code>ProcessBuilder</code></a>."},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":2,"creation_date":1690144613,"post_id":76749991,"comment_id":135308900,"body_markdown":"And the [ZIP File System Provider](https://docs.oracle.com/en/java/javase/20/docs/api/jdk.zipfs/module-summary.html) (a JAR file is essentially just a ZIP file, by the way).","body":"And the <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/jdk.zipfs/module-summary.html\" rel=\"nofollow noreferrer\">ZIP File System Provider</a> (a JAR file is essentially just a ZIP file, by the way)."}],"answers":[{"tags":[],"owner":{"account_id":8628424,"reputation":91,"user_id":6460906,"display_name":"Dmitrii Podlesnykh"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1690142556,"creation_date":1690142556,"answer_id":76750103,"question_id":76749991,"body_markdown":"Yes, this is possible.\r\n\r\nThe sequence of actions:\r\n------------------------\r\n\r\n 1. Need to pass Java code into the **JavaCompiler API**\r\n 2. FileManager extracts the source code for `JavaCompiler`\r\n 3. `JavaCompiler` compiles it and returns the bytecode\r\n 4. Generate an executable JAR. Create a `JarOutputStream` with a manifest that declares the main class.\r\n\r\n\r\n\r\n\r\nTechnical articles on the topic:\r\n--------------------------------\r\n\r\n[Baeldung: Compiling and Executing Code From a String in Java][1]\r\n\r\n\r\n[Baeldung: Creating JAR Files Programmatically][2]\r\n\r\n\r\n  [1]: https://www.baeldung.com/java-string-compile-execute-code#tools-and-strategy\r\n  [2]: https://www.baeldung.com/jar-create-programatically","title":"How to package a .jar file using a java program","body":"<p>Yes, this is possible.</p>\n<h2>The sequence of actions:</h2>\n<ol>\n<li>Need to pass Java code into the <strong>JavaCompiler API</strong></li>\n<li>FileManager extracts the source code for <code>JavaCompiler</code></li>\n<li><code>JavaCompiler</code> compiles it and returns the bytecode</li>\n<li>Generate an executable JAR. Create a <code>JarOutputStream</code> with a manifest that declares the main class.</li>\n</ol>\n<h2>Technical articles on the topic:</h2>\n<p><a href=\"https://www.baeldung.com/java-string-compile-execute-code#tools-and-strategy\" rel=\"nofollow noreferrer\">Baeldung: Compiling and Executing Code From a String in Java</a></p>\n<p><a href=\"https://www.baeldung.com/jar-create-programatically\" rel=\"nofollow noreferrer\">Baeldung: Creating JAR Files Programmatically</a></p>\n"}],"owner":{"account_id":21088177,"reputation":9,"user_id":15500753,"display_name":"MrClaps"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":50,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"accepted_answer_id":76750103,"answer_count":1,"score":-1,"last_activity_date":1690142556,"creation_date":1690140612,"question_id":76749991,"body_markdown":"How does one package a jar file using java code? I want a .jar file to be created with custom code whenever (for example) a button is pressed, how would I do this? There doesn&#39;t seem to be any documentation about this so I figured I would go here, I&#39;ve tried searching everywhere on the web.","title":"How to package a .jar file using a java program","body":"<p>How does one package a jar file using java code? I want a .jar file to be created with custom code whenever (for example) a button is pressed, how would I do this? There doesn't seem to be any documentation about this so I figured I would go here, I've tried searching everywhere on the web.</p>\n"},{"tags":["javascript","java","selenium-webdriver"],"comments":[{"owner":{"account_id":26682848,"reputation":3568,"user_id":20292589,"display_name":"Yaroslavm"},"score":0,"creation_date":1690142127,"post_id":76750009,"comment_id":135308659,"body_markdown":"It&#39;s not the best way to assign value property. Can you assign it via action with input directly? \nSmth like `input.sendKeys(value)?`","body":"It&#39;s not the best way to assign value property. Can you assign it via action with input directly?  Smth like <code>input.sendKeys(value)?</code>"},{"owner":{"account_id":26682848,"reputation":3568,"user_id":20292589,"display_name":"Yaroslavm"},"score":0,"creation_date":1690142473,"post_id":76750009,"comment_id":135308708,"body_markdown":"Actually, if you assign input value, it would work, but without submitting it, after refresh default value would be shown.","body":"Actually, if you assign input value, it would work, but without submitting it, after refresh default value would be shown."},{"owner":{"account_id":3623811,"reputation":21,"user_id":3021955,"display_name":"user3021955"},"score":0,"creation_date":1690145574,"post_id":76750009,"comment_id":135309010,"body_markdown":"The element in question is a &lt;a href/&gt; tag.","body":"The element in question is a &lt;a href/&gt; tag."},{"owner":{"account_id":3623811,"reputation":21,"user_id":3021955,"display_name":"user3021955"},"score":0,"creation_date":1690145600,"post_id":76750009,"comment_id":135309013,"body_markdown":"I want to erase it if a certain condition is met","body":"I want to erase it if a certain condition is met"},{"owner":{"account_id":10049107,"reputation":186647,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"score":0,"creation_date":1690151021,"post_id":76750009,"comment_id":135309466,"body_markdown":"Why would you extract the textContext and set it as the value to the _`value`_ attribute? What is your usecase?","body":"Why would you extract the textContext and set it as the value to the <i><code>value</code></i> attribute? What is your usecase?"},{"owner":{"account_id":12360572,"reputation":1730,"user_id":9014957,"accept_rate":17,"display_name":"pburgr"},"score":0,"creation_date":1690176428,"post_id":76750009,"comment_id":135311277,"body_markdown":"After the is made you just need to create a new instance of the element and test the changes on this new instance.","body":"After the is made you just need to create a new instance of the element and test the changes on this new instance."},{"owner":{"account_id":3623811,"reputation":21,"user_id":3021955,"display_name":"user3021955"},"score":0,"creation_date":1690198267,"post_id":76750009,"comment_id":135315246,"body_markdown":"That&#39;s an error the line is","body":"That&#39;s an error the line is"},{"owner":{"account_id":3623811,"reputation":21,"user_id":3021955,"display_name":"user3021955"},"score":0,"creation_date":1690198270,"post_id":76750009,"comment_id":135315247,"body_markdown":"jse.executeScript(&quot;arguments[0].value=&#39;&#39;;&quot;, element);","body":"jse.executeScript(&quot;arguments[0].value=&#39;&#39;;&quot;, element);"}],"owner":{"account_id":3623811,"reputation":21,"user_id":3021955,"display_name":"user3021955"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690141007,"creation_date":1690141007,"question_id":76750009,"body_markdown":"I have a driver in java selenium :\r\n\r\n    driver.get(url);\r\n\r\nI have made some changes to the page with this method :\r\n\r\n    JavascriptExecutor jse = (JavascriptExecutor) driver;\r\n    jse.executeScript(&quot;arguments[0].value=&#39;&quot;+element.getText()+&quot;&#39;;&quot;, element);\r\n\r\nHow do I reload the page with the modifications ?\r\nI have tried driver.navigate.refresh() but that doesn&#39;t work.\r\n\r\nThank you for your ideas.","title":"Changes to a page in selenium in java, how to refresh the page to load the modifications","body":"<p>I have a driver in java selenium :</p>\n<pre><code>driver.get(url);\n</code></pre>\n<p>I have made some changes to the page with this method :</p>\n<pre><code>JavascriptExecutor jse = (JavascriptExecutor) driver;\njse.executeScript(&quot;arguments[0].value='&quot;+element.getText()+&quot;';&quot;, element);\n</code></pre>\n<p>How do I reload the page with the modifications ?\nI have tried driver.navigate.refresh() but that doesn't work.</p>\n<p>Thank you for your ideas.</p>\n"},{"tags":["java","spring-boot","unit-testing","dto","spring-boot-test"],"comments":[{"owner":{"account_id":1054395,"reputation":53333,"user_id":1057429,"accept_rate":100,"display_name":"Nir Alfasi"},"score":1,"creation_date":1690134329,"post_id":76749561,"comment_id":135307718,"body_markdown":"Maybe I&#39;m missing something but it looks like you&#39;re calling `setOwnerId` only once for the first pet but not for the second. Pay attention that you&#39;re putting the &quot;expected&quot; and the &quot;actual&quot; in opposite places (hence the weird error). It should be `assertEquals(expected, actual)` meaning it should be: `Assertions.assertEquals(2, pets.size());`","body":"Maybe I&#39;m missing something but it looks like you&#39;re calling <code>setOwnerId</code> only once for the first pet but not for the second. Pay attention that you&#39;re putting the &quot;expected&quot; and the &quot;actual&quot; in opposite places (hence the weird error). It should be <code>assertEquals(expected, actual)</code> meaning it should be: <code>Assertions.assertEquals(2, pets.size());</code>"},{"owner":{"account_id":13017862,"reputation":55,"user_id":9408379,"display_name":"Othello"},"score":0,"creation_date":1690134467,"post_id":76749561,"comment_id":135307734,"body_markdown":"Someone else wrote the unit testing which is part of an online course. My gut feeling is pass by reference but I could be wrong. I wrote the code in the other classes which is probably the location of the bug. Not sure","body":"Someone else wrote the unit testing which is part of an online course. My gut feeling is pass by reference but I could be wrong. I wrote the code in the other classes which is probably the location of the bug. Not sure"},{"owner":{"account_id":322960,"reputation":7711,"user_id":642680,"accept_rate":74,"display_name":"D-Dᴙum"},"score":1,"creation_date":1690135138,"post_id":76749561,"comment_id":135307821,"body_markdown":"What guarantee do you have in the ordering of results when `petController.getPetsByOwner(newCustomer.getId());` is called? Is there any ordering applied in the SQL query? If not, there&#39;s likely no guarantee in the order which the results are returned.","body":"What guarantee do you have in the ordering of results when <code>petController.getPetsByOwner(newCustomer.getId());</code> is called? Is there any ordering applied in the SQL query? If not, there&#39;s likely no guarantee in the order which the results are returned."},{"owner":{"account_id":13017862,"reputation":55,"user_id":9408379,"display_name":"Othello"},"score":0,"creation_date":1690135467,"post_id":76749561,"comment_id":135307867,"body_markdown":"@D-Dᴙum The order of the pets returned for ```petController.getPetsByOwner(newCustomer.getId)``` seems to have been constant when I used the IntelliJ debugger","body":"@D-Dᴙum The order of the pets returned for <code>petController.getPetsByOwner(newCustomer.getId)</code> seems to have been constant when I used the IntelliJ debugger"},{"owner":{"account_id":322960,"reputation":7711,"user_id":642680,"accept_rate":74,"display_name":"D-Dᴙum"},"score":0,"creation_date":1690135996,"post_id":76749561,"comment_id":135307947,"body_markdown":"I don&#39;t understand. When is the failure happening? When you run it in the debugger, or does the build server fail?","body":"I don&#39;t understand. When is the failure happening? When you run it in the debugger, or does the build server fail?"},{"owner":{"account_id":13017862,"reputation":55,"user_id":9408379,"display_name":"Othello"},"score":0,"creation_date":1690136259,"post_id":76749561,"comment_id":135307987,"body_markdown":"@D-Dᴙum I get the above result interms of Expected: 1, Actual: 2 when I the test in both debug or normal &quot;run&quot; mode. Hope that makes sense?","body":"@D-Dᴙum I get the above result interms of Expected: 1, Actual: 2 when I the test in both debug or normal &quot;run&quot; mode. Hope that makes sense?"}],"answers":[{"comments":[{"owner":{"account_id":13017862,"reputation":55,"user_id":9408379,"display_name":"Othello"},"score":0,"creation_date":1690141302,"post_id":76749775,"comment_id":135308568,"body_markdown":"When I ran the test in debugger mode, newPet.getId = 2 and newPet2.getId = 2. This why I am thinking this might be related to pass-by-reference.","body":"When I ran the test in debugger mode, newPet.getId = 2 and newPet2.getId = 2. This why I am thinking this might be related to pass-by-reference."},{"owner":{"account_id":322960,"reputation":7711,"user_id":642680,"accept_rate":74,"display_name":"D-Dᴙum"},"score":0,"creation_date":1690142405,"post_id":76749775,"comment_id":135308697,"body_markdown":"This is additional information to the original question. You are re-using `petDTO` during the saves. As well as making it difficult to follow the test it&#39;s not a good practice. Create two distinct petDTO objects and save them. I suspect during the first save the id is being populated on `petDTO` in the background by JPA (if I remember correctly how it works) - put a breakpoint in the `save()` method to confirm or otherwise.","body":"This is additional information to the original question. You are re-using <code>petDTO</code> during the saves. As well as making it difficult to follow the test it&#39;s not a good practice. Create two distinct petDTO objects and save them. I suspect during the first save the id is being populated on <code>petDTO</code> in the background by JPA (if I remember correctly how it works) - put a breakpoint in the <code>save()</code> method to confirm or otherwise."},{"owner":{"account_id":13017862,"reputation":55,"user_id":9408379,"display_name":"Othello"},"score":0,"creation_date":1690152540,"post_id":76749775,"comment_id":135309562,"body_markdown":"Thanks for the suggestion of creating another petDTO. The unit test no longer fails.","body":"Thanks for the suggestion of creating another petDTO. The unit test no longer fails."}],"tags":[],"owner":{"account_id":322960,"reputation":7711,"user_id":642680,"accept_rate":74,"display_name":"D-Dᴙum"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1690137196,"creation_date":1690137196,"answer_id":76749775,"question_id":76749561,"body_markdown":"In your test you are assuming the ordering of the results when you call:\r\n```\r\nList&lt;PetDTO&gt; pets = petController.getPetsByOwner(newCustomer.getId());\r\n```\r\n\r\nWithout seeing the query in the method `getPetsByOwner()` I would think that no ordering is being applied or is being applied in descending order. If you are not able to see the code, or there is no guarantee of any ordering then you should alter your test to something like:\r\n\r\n```java\r\nint pet1Id = newPet.getId();\r\nint pet2Id = newPet2.getId();\r\nfor (PetDto pet : pets) {\r\n    if (pet.getID() == newPet.getId() {\r\n         //newPet specific tests\r\n    } else if (pet.getId() == newPet2.getId() {\r\n        // newPet2 specific tests\r\n    } else {\r\n        throw new RuntimeException(&quot;Unexpected ID&quot;);\r\n    }\r\n}\r\n```\r\n\r\nAlso ensure your values are ordered correctly in your assertions otherwise it will lead to confusing logging messages.","title":"Java: Why does this unit testing not work (One to Many Relationship)?","body":"<p>In your test you are assuming the ordering of the results when you call:</p>\n<pre><code>List&lt;PetDTO&gt; pets = petController.getPetsByOwner(newCustomer.getId());\n</code></pre>\n<p>Without seeing the query in the method <code>getPetsByOwner()</code> I would think that no ordering is being applied or is being applied in descending order. If you are not able to see the code, or there is no guarantee of any ordering then you should alter your test to something like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>int pet1Id = newPet.getId();\nint pet2Id = newPet2.getId();\nfor (PetDto pet : pets) {\n    if (pet.getID() == newPet.getId() {\n         //newPet specific tests\n    } else if (pet.getId() == newPet2.getId() {\n        // newPet2 specific tests\n    } else {\n        throw new RuntimeException(&quot;Unexpected ID&quot;);\n    }\n}\n</code></pre>\n<p>Also ensure your values are ordered correctly in your assertions otherwise it will lead to confusing logging messages.</p>\n"}],"owner":{"account_id":13017862,"reputation":55,"user_id":9408379,"display_name":"Othello"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76749775,"answer_count":1,"score":0,"last_activity_date":1690140740,"creation_date":1690133974,"question_id":76749561,"body_markdown":"I have the following code that relates to java unit testing\r\n```\r\n    @Test\r\n    public void testFindPetsByOwner() {\r\n        CustomerDTO customerDTO = createCustomerDTO();\r\n        CustomerDTO newCustomer = userController.saveCustomer(customerDTO);\r\n\r\n        PetDTO petDTO = createPetDTO();\r\n        petDTO.setOwnerId(newCustomer.getId());\r\n        PetDTO newPet = petController.savePet(petDTO);\r\n        petDTO.setType(PetType.DOG);\r\n        petDTO.setName(&quot;DogName&quot;);\r\n        PetDTO newPet2 = petController.savePet(petDTO);\r\n\r\n        List&lt;PetDTO&gt; pets = petController.getPetsByOwner(newCustomer.getId());\r\n        Assertions.assertEquals(pets.size(), 2);\r\n        Assertions.assertEquals(pets.get(0).getOwnerId(), newCustomer.getId());\r\n        Assertions.assertEquals(pets.get(0).getId(), newPet.getId());\r\n    }\r\n```\r\n\r\nThe result from that last assert.equals fails as seen below\r\n```\r\n\r\norg.opentest4j.AssertionFailedError: \r\nExpected :1\r\nActual   :2\r\n&lt;Click to see difference&gt;\r\n\r\n```\r\n\r\nPetController.java\r\n```\r\n    @PostMapping\r\n    public PetDTO savePet(@RequestBody PetDTO petDTO) {\r\n\r\n        Pet newPet = new Pet();\r\n        BeanUtils.copyProperties(petDTO, newPet, &quot;id&quot;);\r\n        Pet savedPet = petService.save(newPet);\r\n        BeanUtils.copyProperties(savedPet, petDTO);\r\n        return petDTO;\r\n    }\r\n\r\n    @GetMapping(&quot;/owner/{ownerId}&quot;)\r\n    public List&lt;PetDTO&gt; getPetsByOwner(@PathVariable long ownerId) {\r\n\r\n        List&lt;Pet&gt; petsByOwner = petService.getPetsByOwner(ownerId);\r\n        List&lt;PetDTO&gt; petDTOList = new ArrayList&lt;&gt;();\r\n        for(Pet pet:petsByOwner){\r\n            PetDTO petDTO = new PetDTO();\r\n            BeanUtils.copyProperties(pet, petDTO);\r\n            petDTOList.add(petDTO);\r\n        }\r\n        return petDTOList;\r\n    }\r\n```\r\n\r\nPetService.java\r\n```\r\n    public Pet save(Pet pet){\r\n\r\n        Customer customer = customerRepository.findById(pet.getOwnerId()).orElseThrow(() -&gt; new CustomerNotFoundException());\r\n\r\n        pet.setCustomer(customer);\r\n        customer.getPets().add(pet);\r\n        customerRepository.save(customer);\r\n        List&lt;Pet&gt; savedPets =  customer.getPets();\r\n        Pet nPet =  savedPets.get(savedPets.size() - 1 );\r\n        return nPet;\r\n    }\r\n\r\n    public List&lt;Pet&gt; getPetsByOwner(long ownerId) {\r\n        return petRepository.findByOwnerId(ownerId);\r\n    }\r\n```\r\n\r\nPetDTO.java\r\n```\r\npublic class PetDTO {\r\n    private long id;\r\n    private PetType type;\r\n    private String name;\r\n    private long ownerId;\r\n    private LocalDate birthDate;\r\n    private String notes;\r\n// getters and setters\r\n}\r\n```\r\nPet.java\r\n```\r\n@Entity\r\npublic class Pet {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.SEQUENCE)\r\n    private long id;\r\n\r\n    @NotNull\r\n    @Enumerated(EnumType.STRING)\r\n    private PetType type;\r\n\r\n    private String name;\r\n    \r\n    private long ownerId;\r\n\r\n    private LocalDate birthDate;\r\n\r\n    private String notes;\r\n\r\n    @ManyToMany(mappedBy = &quot;pets&quot;)\r\n    private List&lt;Schedule&gt; schedules;\r\n\r\n    @ManyToOne(fetch = FetchType.EAGER)\r\n    @JoinColumn(name = &quot;customer_id&quot;)\r\n    private Customer customer;\r\n//getters and setters\r\n}\r\n```\r\n\r\nCustomer.java\r\n```\r\n@Entity\r\npublic class Customer extends Person {\r\n\r\n    private String phoneNumber;\r\n\r\n    private String notes;\r\n    \r\n    @OneToMany(fetch = FetchType.LAZY, mappedBy = &quot;customer&quot;, cascade = CascadeType.ALL )\r\n    private List&lt;Pet&gt; pets = new ArrayList&lt;&gt;();\r\n//getters and setters\r\n}\r\n```\r\n\r\nPerson.java\r\n```\r\n@MappedSuperclass\r\npublic class Person {\r\n\r\n    @Id\r\n    // watch out if this generation strategy becomes a bug later\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    protected long id;\r\n    @Nationalized\r\n    private String name;\r\n...\r\n}\r\n```\r\n\r\nPetRepository.java\r\n```\r\n@Repository\r\npublic interface PetRepository extends JpaRepository&lt;Pet, Long&gt; {\r\n\r\n    List&lt;Pet&gt; findByOwnerId(long ownerId);\r\n    \r\n}\r\n```\r\n\r\nThe related classes to the bug can be seen below. I suspect the bug could be related to pass by reference  in the unit testing.\r\nNB: I have edited the post adding the relevant classes requested by one of the contributors","title":"Java: Why does this unit testing not work (One to Many Relationship)?","body":"<p>I have the following code that relates to java unit testing</p>\n<pre><code>    @Test\n    public void testFindPetsByOwner() {\n        CustomerDTO customerDTO = createCustomerDTO();\n        CustomerDTO newCustomer = userController.saveCustomer(customerDTO);\n\n        PetDTO petDTO = createPetDTO();\n        petDTO.setOwnerId(newCustomer.getId());\n        PetDTO newPet = petController.savePet(petDTO);\n        petDTO.setType(PetType.DOG);\n        petDTO.setName(&quot;DogName&quot;);\n        PetDTO newPet2 = petController.savePet(petDTO);\n\n        List&lt;PetDTO&gt; pets = petController.getPetsByOwner(newCustomer.getId());\n        Assertions.assertEquals(pets.size(), 2);\n        Assertions.assertEquals(pets.get(0).getOwnerId(), newCustomer.getId());\n        Assertions.assertEquals(pets.get(0).getId(), newPet.getId());\n    }\n</code></pre>\n<p>The result from that last assert.equals fails as seen below</p>\n<pre><code>\norg.opentest4j.AssertionFailedError: \nExpected :1\nActual   :2\n&lt;Click to see difference&gt;\n\n</code></pre>\n<p>PetController.java</p>\n<pre><code>    @PostMapping\n    public PetDTO savePet(@RequestBody PetDTO petDTO) {\n\n        Pet newPet = new Pet();\n        BeanUtils.copyProperties(petDTO, newPet, &quot;id&quot;);\n        Pet savedPet = petService.save(newPet);\n        BeanUtils.copyProperties(savedPet, petDTO);\n        return petDTO;\n    }\n\n    @GetMapping(&quot;/owner/{ownerId}&quot;)\n    public List&lt;PetDTO&gt; getPetsByOwner(@PathVariable long ownerId) {\n\n        List&lt;Pet&gt; petsByOwner = petService.getPetsByOwner(ownerId);\n        List&lt;PetDTO&gt; petDTOList = new ArrayList&lt;&gt;();\n        for(Pet pet:petsByOwner){\n            PetDTO petDTO = new PetDTO();\n            BeanUtils.copyProperties(pet, petDTO);\n            petDTOList.add(petDTO);\n        }\n        return petDTOList;\n    }\n</code></pre>\n<p>PetService.java</p>\n<pre><code>    public Pet save(Pet pet){\n\n        Customer customer = customerRepository.findById(pet.getOwnerId()).orElseThrow(() -&gt; new CustomerNotFoundException());\n\n        pet.setCustomer(customer);\n        customer.getPets().add(pet);\n        customerRepository.save(customer);\n        List&lt;Pet&gt; savedPets =  customer.getPets();\n        Pet nPet =  savedPets.get(savedPets.size() - 1 );\n        return nPet;\n    }\n\n    public List&lt;Pet&gt; getPetsByOwner(long ownerId) {\n        return petRepository.findByOwnerId(ownerId);\n    }\n</code></pre>\n<p>PetDTO.java</p>\n<pre><code>public class PetDTO {\n    private long id;\n    private PetType type;\n    private String name;\n    private long ownerId;\n    private LocalDate birthDate;\n    private String notes;\n// getters and setters\n}\n</code></pre>\n<p>Pet.java</p>\n<pre><code>@Entity\npublic class Pet {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.SEQUENCE)\n    private long id;\n\n    @NotNull\n    @Enumerated(EnumType.STRING)\n    private PetType type;\n\n    private String name;\n    \n    private long ownerId;\n\n    private LocalDate birthDate;\n\n    private String notes;\n\n    @ManyToMany(mappedBy = &quot;pets&quot;)\n    private List&lt;Schedule&gt; schedules;\n\n    @ManyToOne(fetch = FetchType.EAGER)\n    @JoinColumn(name = &quot;customer_id&quot;)\n    private Customer customer;\n//getters and setters\n}\n</code></pre>\n<p>Customer.java</p>\n<pre><code>@Entity\npublic class Customer extends Person {\n\n    private String phoneNumber;\n\n    private String notes;\n    \n    @OneToMany(fetch = FetchType.LAZY, mappedBy = &quot;customer&quot;, cascade = CascadeType.ALL )\n    private List&lt;Pet&gt; pets = new ArrayList&lt;&gt;();\n//getters and setters\n}\n</code></pre>\n<p>Person.java</p>\n<pre><code>@MappedSuperclass\npublic class Person {\n\n    @Id\n    // watch out if this generation strategy becomes a bug later\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    protected long id;\n    @Nationalized\n    private String name;\n...\n}\n</code></pre>\n<p>PetRepository.java</p>\n<pre><code>@Repository\npublic interface PetRepository extends JpaRepository&lt;Pet, Long&gt; {\n\n    List&lt;Pet&gt; findByOwnerId(long ownerId);\n    \n}\n</code></pre>\n<p>The related classes to the bug can be seen below. I suspect the bug could be related to pass by reference  in the unit testing.\nNB: I have edited the post adding the relevant classes requested by one of the contributors</p>\n"},{"tags":["java","spring","spring-boot","servlets","inversion-of-control"],"owner":{"account_id":25845637,"reputation":534,"user_id":19580540,"display_name":"ayush"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1690140164,"creation_date":1690049862,"question_id":76745231,"body_markdown":"I was going through some core **Spring Concepts** and came across **DispatcherServlet** and **IOC Container/ApplicationContext**.   \r\nIs it possible to have multiple IOC containers in the same Spring Boot application? If yes, how to create them and in what scenarios will they be required?   \r\n (https://coderanch.com/t/563755/frameworks/Spring-Multiple-IoC-Containers-Singleton)\r\nIs it possible to have multiple DispatcherServlets in Spring Boot application. If yes, how are they created and why they might be required?  \r\nI found something related to this here-  \r\n https://www.interviewbit.com/spring-interview-questions/#:~:text=Spring%20MVC%20allows%20instantiating%20multiple%20DispatcherServlet%20and%20each%20of%20them%20have%20multiple%20contexts%20specific%20to%20them.%20They%20can%20have%20the%20same%20root%20context%20too.","title":"Can Spring Application have multiple IOC containers and multiple DispatcherServlets?","body":"<p>I was going through some core <strong>Spring Concepts</strong> and came across <strong>DispatcherServlet</strong> and <strong>IOC Container/ApplicationContext</strong>.<br />\nIs it possible to have multiple IOC containers in the same Spring Boot application? If yes, how to create them and in what scenarios will they be required?<br />\n(<a href=\"https://coderanch.com/t/563755/frameworks/Spring-Multiple-IoC-Containers-Singleton\" rel=\"nofollow noreferrer\">https://coderanch.com/t/563755/frameworks/Spring-Multiple-IoC-Containers-Singleton</a>)\nIs it possible to have multiple DispatcherServlets in Spring Boot application. If yes, how are they created and why they might be required?<br />\nI found something related to this here-<br />\n<a href=\"https://www.interviewbit.com/spring-interview-questions/#:%7E:text=Spring%20MVC%20allows%20instantiating%20multiple%20DispatcherServlet%20and%20each%20of%20them%20have%20multiple%20contexts%20specific%20to%20them.%20They%20can%20have%20the%20same%20root%20context%20too\" rel=\"nofollow noreferrer\">https://www.interviewbit.com/spring-interview-questions/#:~:text=Spring%20MVC%20allows%20instantiating%20multiple%20DispatcherServlet%20and%20each%20of%20them%20have%20multiple%20contexts%20specific%20to%20them.%20They%20can%20have%20the%20same%20root%20context%20too</a>.</p>\n"},{"tags":["java","selenium-webdriver","automated-tests","selenium-grid"],"answers":[{"comments":[{"owner":{"account_id":12097062,"reputation":23,"user_id":8840059,"display_name":"tedtrain"},"score":0,"creation_date":1689715570,"post_id":76716301,"comment_id":135252328,"body_markdown":"Thanks for your response. How do I set  **--enable-managed-downloads**  to **true** using docker-compose? \nI use docker-compose to start up my hub and node.","body":"Thanks for your response. How do I set  <b>--enable-managed-downloads</b>  to <b>true</b> using docker-compose?  I use docker-compose to start up my hub and node."}],"tags":[],"owner":{"account_id":10049107,"reputation":186647,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1689712066,"creation_date":1689711750,"answer_id":76716301,"question_id":76716094,"body_markdown":"[_**se:downloadsEnabled**_](https://www.selenium.dev/documentation/grid/configuration/cli_options/#start-the-node-with-manage-downloads-enabled)\r\n---------------------------\r\n[se:downloadsEnabled](https://www.selenium.dev/documentation/grid/configuration/cli_options/#set-the-capability-at-the-test-level) is only in [**Grid**](https://stackoverflow.com/a/59648301/7429447) configuration which is used to set the capability at the test level as follows:\r\n\r\n\toptions.setCapability(&quot;se:downloadsEnabled&quot;, true);\r\n\r\n`se:downloadsEnabled` when set to _`true`_ within a Grid infrastructure will try to match a session request with `se:downloadsEnabled` against only those nodes which were started with `--enable-managed-downloads` set to `true`. If a session is matched, then the Node automatically sets the required capabilities to let the browser know, as to where should a file be downloaded.\r\n\r\nThen only the Node will allow a user to:\r\n\r\n- List all the files that were downloaded for a specific session\r\n- Retrieve a specific file from the list of files.\r\n\r\nHowever, the directory into which files were downloaded for a specific session gets automatically cleaned up when the session ends (or) timesout due to inactivity.\r\n\r\n**Note**: Currently this capability is supported only on:\r\n\r\n- Edge\r\n- Firefox\r\n- Chrome ","title":"SessionNotCreatedException when I set se:downloadsEnabled capability","body":"<h2><a href=\"https://www.selenium.dev/documentation/grid/configuration/cli_options/#start-the-node-with-manage-downloads-enabled\" rel=\"nofollow noreferrer\"><em><strong>se:downloadsEnabled</strong></em></a></h2>\n<p><a href=\"https://www.selenium.dev/documentation/grid/configuration/cli_options/#set-the-capability-at-the-test-level\" rel=\"nofollow noreferrer\">se:downloadsEnabled</a> is only in <a href=\"https://stackoverflow.com/a/59648301/7429447\"><strong>Grid</strong></a> configuration which is used to set the capability at the test level as follows:</p>\n<pre><code>options.setCapability(&quot;se:downloadsEnabled&quot;, true);\n</code></pre>\n<p><code>se:downloadsEnabled</code> when set to <em><code>true</code></em> within a Grid infrastructure will try to match a session request with <code>se:downloadsEnabled</code> against only those nodes which were started with <code>--enable-managed-downloads</code> set to <code>true</code>. If a session is matched, then the Node automatically sets the required capabilities to let the browser know, as to where should a file be downloaded.</p>\n<p>Then only the Node will allow a user to:</p>\n<ul>\n<li>List all the files that were downloaded for a specific session</li>\n<li>Retrieve a specific file from the list of files.</li>\n</ul>\n<p>However, the directory into which files were downloaded for a specific session gets automatically cleaned up when the session ends (or) timesout due to inactivity.</p>\n<p><strong>Note</strong>: Currently this capability is supported only on:</p>\n<ul>\n<li>Edge</li>\n<li>Firefox</li>\n<li>Chrome</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":12097062,"reputation":23,"user_id":8840059,"display_name":"tedtrain"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690139883,"creation_date":1689776777,"answer_id":76722381,"question_id":76716094,"body_markdown":"I figured it out.\r\nIn your `docker-compose.yml` file  under the environment, add \r\n```\r\n- SE_OPTS=--enable-managed-downloads true\r\n``` \r\n","title":"SessionNotCreatedException when I set se:downloadsEnabled capability","body":"<p>I figured it out.\nIn your <code>docker-compose.yml</code> file  under the environment, add</p>\n<pre><code>- SE_OPTS=--enable-managed-downloads true\n</code></pre>\n"}],"owner":{"account_id":12097062,"reputation":23,"user_id":8840059,"display_name":"tedtrain"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":151,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1690139883,"creation_date":1689709669,"question_id":76716094,"body_markdown":"I am getting this error message thrown \r\n\r\n**org.openqa.selenium.SessionNotCreatedException:\r\nCould not start a new session. Possible causes are invalid address of the remote server or browser start-up failure.**\r\n\r\nwhen I set the capability to download files from the grid nodes. \r\n\r\nIf I comment out **options.setCapability(&quot;se:downloadsEnabled&quot;, &quot;true&quot;)**  the browser launches with the session created.\r\n\r\n    if (browser.equalsIgnoreCase(&quot;chrome&quot;)) {\r\n    \t\t\t\tChromeOptions options = new ChromeOptions();\r\n    \t\t\t\toptions.setCapability(&quot;platformName&quot;, Platform.LINUX); \t\t\t\t    \r\n    \t\t\t\toptions.setCapability(&quot;se:downloadsEnabled&quot;, true); // Works when commented\t\t\t\t\r\n    \t\t\t\tHashMap&lt;String, Object&gt; chromePref = new HashMap&lt;&gt;();\t\t\t\t\r\n    \t\t\t\tchromePref.put(&quot;plugins.always_open_pdf_externally&quot;, Boolean.valueOf(true));\r\n    \t\t\t\tchromePref.put(&quot;download.prompt_for_download&quot;, Boolean.valueOf(false));\r\n    \t\t\t\tchromePref.put(&quot;safebrowsing_for_trusted_sources_enabled&quot;, oolean.valueOf(false));\r\n    \t\t\t\toptions.setExperimentalOption(&quot;prefs&quot;, chromePref);\t\t\t\t\r\n    \t\t\t\tdriver = new RemoteWebDriver(new URL(&quot;http://localhost:4444/&quot;), options);\r\n    \r\n    }\r\n\r\n\r\n - Chrome browser:114.0 \r\n - Selenium: 4.9.0 \r\n - ChromeDriver 114.0.5735.90\r\n\r\n \r\n\r\nI&#39;d appreciate any help from anyone.\r\n\r\nThanks","title":"SessionNotCreatedException when I set se:downloadsEnabled capability","body":"<p>I am getting this error message thrown</p>\n<p><strong>org.openqa.selenium.SessionNotCreatedException:\nCould not start a new session. Possible causes are invalid address of the remote server or browser start-up failure.</strong></p>\n<p>when I set the capability to download files from the grid nodes.</p>\n<p>If I comment out <strong>options.setCapability(&quot;se:downloadsEnabled&quot;, &quot;true&quot;)</strong>  the browser launches with the session created.</p>\n<pre><code>if (browser.equalsIgnoreCase(&quot;chrome&quot;)) {\n                ChromeOptions options = new ChromeOptions();\n                options.setCapability(&quot;platformName&quot;, Platform.LINUX);                  \n                options.setCapability(&quot;se:downloadsEnabled&quot;, true); // Works when commented             \n                HashMap&lt;String, Object&gt; chromePref = new HashMap&lt;&gt;();               \n                chromePref.put(&quot;plugins.always_open_pdf_externally&quot;, Boolean.valueOf(true));\n                chromePref.put(&quot;download.prompt_for_download&quot;, Boolean.valueOf(false));\n                chromePref.put(&quot;safebrowsing_for_trusted_sources_enabled&quot;, oolean.valueOf(false));\n                options.setExperimentalOption(&quot;prefs&quot;, chromePref);             \n                driver = new RemoteWebDriver(new URL(&quot;http://localhost:4444/&quot;), options);\n\n}\n</code></pre>\n<ul>\n<li>Chrome browser:114.0</li>\n<li>Selenium: 4.9.0</li>\n<li>ChromeDriver 114.0.5735.90</li>\n</ul>\n<p>I'd appreciate any help from anyone.</p>\n<p>Thanks</p>\n"},{"tags":["java","android-studio","intellij-idea","pycharm","webstorm"],"answers":[{"comments":[{"owner":{"account_id":223484,"reputation":61176,"user_id":482717,"accept_rate":66,"display_name":"Paul Verest"},"score":0,"creation_date":1689975373,"post_id":76740201,"comment_id":135293750,"body_markdown":"While these are all good thoughts, it is not answering question. And it looks like you have not read it.","body":"While these are all good thoughts, it is not answering question. And it looks like you have not read it."},{"owner":{"account_id":26176043,"reputation":187,"user_id":19860192,"display_name":"incongruentDoughnut"},"score":0,"creation_date":1690137922,"post_id":76740201,"comment_id":135308226,"body_markdown":"The &#39;no&#39; is in quotation marks to suggest that while you technically can, you probably shouldn&#39;t. I then provided you several methods by which you can re-locate your .idea folder or achieve what seems to be your end goal: to not have git &quot;puts project into dirty state right after import.&quot; and &quot;so that when I work on the project current .idea folder is not used and not modified&quot;.  Regardless of where you move the .idea folder, it is intrinsic to the operation of the IDEA family of applications and will not remain &#39;unmodified&#39; while using them.","body":"The &#39;no&#39; is in quotation marks to suggest that while you technically can, you probably shouldn&#39;t. I then provided you several methods by which you can re-locate your .idea folder or achieve what seems to be your end goal: to not have git &quot;puts project into dirty state right after import.&quot; and &quot;so that when I work on the project current .idea folder is not used and not modified&quot;.  Regardless of where you move the .idea folder, it is intrinsic to the operation of the IDEA family of applications and will not remain &#39;unmodified&#39; while using them."},{"owner":{"account_id":26176043,"reputation":187,"user_id":19860192,"display_name":"incongruentDoughnut"},"score":0,"creation_date":1690138390,"post_id":76740201,"comment_id":135308280,"body_markdown":"@LazyOne has provided yet another way that you can change the location of that folder, but, as someone using Jetbrains products for ~15 years, I would discourage moving that folder. It often leads to more headaches and overhead, requiring you to be dilligent about maintaining that new folder location and its contents since it won&#39;t be removed when you delete your project folder and will likely end up out of date if you try to re-create the project. It sounds like you&#39;re trying to avoid polluting the teams project space and the best path to that is to use the .gitignore guidance.","body":"@LazyOne has provided yet another way that you can change the location of that folder, but, as someone using Jetbrains products for ~15 years, I would discourage moving that folder. It often leads to more headaches and overhead, requiring you to be dilligent about maintaining that new folder location and its contents since it won&#39;t be removed when you delete your project folder and will likely end up out of date if you try to re-create the project. It sounds like you&#39;re trying to avoid polluting the teams project space and the best path to that is to use the .gitignore guidance."}],"tags":[],"owner":{"account_id":26176043,"reputation":187,"user_id":19860192,"display_name":"incongruentDoughnut"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689962129,"creation_date":1689962129,"answer_id":76740201,"question_id":76740158,"body_markdown":"&#39;No&#39;. The `.idea` folder is specific to Jetbrains IDEA applications (Intellij, Webstorm, etc..) and is used to configure your IDE per your workstation environment or shared developer settings. \r\n\r\nThat being said, you do have options:\r\n- If you&#39;re the only person on your team using Jetbrains tools, you can safely add the folder to your `.gitignore` file. That will stop git (and IDEA) from monitoring or caring about changes.\r\n- Jetbrains has guidance on what each file is for and which ones you might consider [checking in to your VCS](https://intellij-support.jetbrains.com/hc/en-us/articles/206544839) and they have a default `.gitignore` you can use [here](https://github.com/github/gitignore/blob/main/Global/JetBrains.gitignore)\r\n- You could also setup a symlink to a different directory if you really wanted to. However, that comes with some risks in terms of backing up files and I think `git` will still see those file changes. You would definitely want to add `.idea` to your `.gitignore` then, as other developers won&#39;t have the same folder structure and the symlink will &#39;break&#39; for them.","title":"Use alternative location for .idea folder?","body":"<p>'No'. The <code>.idea</code> folder is specific to Jetbrains IDEA applications (Intellij, Webstorm, etc..) and is used to configure your IDE per your workstation environment or shared developer settings.</p>\n<p>That being said, you do have options:</p>\n<ul>\n<li>If you're the only person on your team using Jetbrains tools, you can safely add the folder to your <code>.gitignore</code> file. That will stop git (and IDEA) from monitoring or caring about changes.</li>\n<li>Jetbrains has guidance on what each file is for and which ones you might consider <a href=\"https://intellij-support.jetbrains.com/hc/en-us/articles/206544839\" rel=\"nofollow noreferrer\">checking in to your VCS</a> and they have a default <code>.gitignore</code> you can use <a href=\"https://github.com/github/gitignore/blob/main/Global/JetBrains.gitignore\" rel=\"nofollow noreferrer\">here</a></li>\n<li>You could also setup a symlink to a different directory if you really wanted to. However, that comes with some risks in terms of backing up files and I think <code>git</code> will still see those file changes. You would definitely want to add <code>.idea</code> to your <code>.gitignore</code> then, as other developers won't have the same folder structure and the symlink will 'break' for them.</li>\n</ul>\n"},{"comments":[{"owner":{"account_id":26176043,"reputation":187,"user_id":19860192,"display_name":"incongruentDoughnut"},"score":0,"creation_date":1690138109,"post_id":76741640,"comment_id":135308247,"body_markdown":"The ticket you linked to doesn&#39;t exists and I wasn&#39;t able to find any with that issue-id.","body":"The ticket you linked to doesn&#39;t exists and I wasn&#39;t able to find any with that issue-id."},{"owner":{"account_id":410966,"reputation":160392,"user_id":783119,"display_name":"LazyOne"},"score":0,"creation_date":1690139486,"post_id":76741640,"comment_id":135308382,"body_markdown":"Sorry. Somehow added an extra `2` to the ticket number.","body":"Sorry. Somehow added an extra <code>2</code> to the ticket number."},{"owner":{"account_id":26176043,"reputation":187,"user_id":19860192,"display_name":"incongruentDoughnut"},"score":0,"creation_date":1690145172,"post_id":76741640,"comment_id":135308965,"body_markdown":"No worries. I was curious about the use cases and they&#39;re all ones that seem like they&#39;re trying to solve a different problem. Namely, not checking in project files. There&#39;s the &#39;clearcase&#39; outlier, but that&#39;s a whole different set of problems. *shrug*.  Thanks again for the link!","body":"No worries. I was curious about the use cases and they&#39;re all ones that seem like they&#39;re trying to solve a different problem. Namely, not checking in project files. There&#39;s the &#39;clearcase&#39; outlier, but that&#39;s a whole different set of problems. <i>shrug</i>.  Thanks again for the link!"}],"tags":[],"owner":{"account_id":410966,"reputation":160392,"user_id":783119,"display_name":"LazyOne"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1690139437,"creation_date":1689980000,"answer_id":76741640,"question_id":76740158,"body_markdown":"&gt;is there a way to **configure alternative location for IDE `.idea` folder**, so that when I work on the project current `.idea` folder is not used and not modified?\r\n\r\nYes, you can keep your `.idea` elsewhere.\r\n\r\n**Please note:**\r\n- I will be using PhpStorm as an IDE (JetBrains IDE I&#39;m using). It has simple project config (where the project consists of a single module of `WEB_MODULE` type; the same applies to WebStorm) while Java/Python/Ruby one have more complicated project settings (where it&#39;s normal (especially for Java world) to have multiple modules per project).\r\n- I&#39;m not sure how easy it is to change this for _existing project_ (it&#39;s not a problem for a new project). Might be possible to do manually by editing the config files directly, but cannot guarantee that it will not have some side effects (especially if it&#39;s multi-module one, while the IDE is closed of course).\r\n\r\n  So it&#39;s much better to go with a new project and configure it from scratch (most of the config files can be copied over from old `.idea` into the new one).\r\n\r\n#### Anyway, the overall idea is as follows:\r\n\r\n1. In your IDE, create a new project where you want to keep your `.idea` -- lets assume this will be `C:\\JetBrainsProjectsStore\\MyProject`.\r\n\r\n2. Go to the project settings and find a place where you configure your Content Roots. In PhpStorm/WebStorm this will be `Settings/Preferences | Directories`.\r\n\r\n3. Remove existing Content Root (by default every project has one). In our example this will be the aforementioned `C:\\JetBrainsProjectsStore\\MyProject` folder.\r\n\r\n4. Add a New Content Root instead: point it to the folder where your project files actually are (or where you want to keep them). Lets assume this will be `C:\\Projects\\MyActualProject`.\r\n\r\n5. Save. That&#39;s it (well, repeat steps 3-4 for other modules if your project has them).\r\n\r\nNow your project config is stored in `C:\\JetBrainsProjectsStore\\MyProject\\.idea` while the actual code files are in `C:\\Projects\\MyActualProject`.\r\n\r\nObviously, if you now need to use `Open` in the IDE to open a project or open it from the command line, you need to use the parent folder where the actual `.idea` is -- `C:\\JetBrainsProjectsStore\\MyProject`.\r\n\r\n-----\r\n\r\nThere is a ticket that asks for the same: https://youtrack.jetbrains.com/issue/IDEA-170102. Watch it (star/vote/comment) to get notified with any progress.\r\n","title":"Use alternative location for .idea folder?","body":"<blockquote>\n<p>is there a way to <strong>configure alternative location for IDE <code>.idea</code> folder</strong>, so that when I work on the project current <code>.idea</code> folder is not used and not modified?</p>\n</blockquote>\n<p>Yes, you can keep your <code>.idea</code> elsewhere.</p>\n<p><strong>Please note:</strong></p>\n<ul>\n<li><p>I will be using PhpStorm as an IDE (JetBrains IDE I'm using). It has simple project config (where the project consists of a single module of <code>WEB_MODULE</code> type; the same applies to WebStorm) while Java/Python/Ruby one have more complicated project settings (where it's normal (especially for Java world) to have multiple modules per project).</p>\n</li>\n<li><p>I'm not sure how easy it is to change this for <em>existing project</em> (it's not a problem for a new project). Might be possible to do manually by editing the config files directly, but cannot guarantee that it will not have some side effects (especially if it's multi-module one, while the IDE is closed of course).</p>\n<p>So it's much better to go with a new project and configure it from scratch (most of the config files can be copied over from old <code>.idea</code> into the new one).</p>\n</li>\n</ul>\n<h4>Anyway, the overall idea is as follows:</h4>\n<ol>\n<li><p>In your IDE, create a new project where you want to keep your <code>.idea</code> -- lets assume this will be <code>C:\\JetBrainsProjectsStore\\MyProject</code>.</p>\n</li>\n<li><p>Go to the project settings and find a place where you configure your Content Roots. In PhpStorm/WebStorm this will be <code>Settings/Preferences | Directories</code>.</p>\n</li>\n<li><p>Remove existing Content Root (by default every project has one). In our example this will be the aforementioned <code>C:\\JetBrainsProjectsStore\\MyProject</code> folder.</p>\n</li>\n<li><p>Add a New Content Root instead: point it to the folder where your project files actually are (or where you want to keep them). Lets assume this will be <code>C:\\Projects\\MyActualProject</code>.</p>\n</li>\n<li><p>Save. That's it (well, repeat steps 3-4 for other modules if your project has them).</p>\n</li>\n</ol>\n<p>Now your project config is stored in <code>C:\\JetBrainsProjectsStore\\MyProject\\.idea</code> while the actual code files are in <code>C:\\Projects\\MyActualProject</code>.</p>\n<p>Obviously, if you now need to use <code>Open</code> in the IDE to open a project or open it from the command line, you need to use the parent folder where the actual <code>.idea</code> is -- <code>C:\\JetBrainsProjectsStore\\MyProject</code>.</p>\n<hr />\n<p>There is a ticket that asks for the same: <a href=\"https://youtrack.jetbrains.com/issue/IDEA-170102\" rel=\"nofollow noreferrer\">https://youtrack.jetbrains.com/issue/IDEA-170102</a>. Watch it (star/vote/comment) to get notified with any progress.</p>\n"}],"owner":{"account_id":223484,"reputation":61176,"user_id":482717,"accept_rate":66,"display_name":"Paul Verest"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":115,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":76741640,"answer_count":2,"score":-1,"last_activity_date":1690139437,"creation_date":1689961656,"question_id":76740158,"body_markdown":"In our project there is `.idea` folder checked-in into git repository with old content  \r\n (there is even [.iml file that is actually previous generation][1]),  \r\nand it puts project into dirty state right after import.\r\n\r\nWhile ultimate  solution will be to remove `.idea` folder completely,  \r\nis there a way to **configure alternative location for IDE `.idea` folder**,  \r\nso that when I work on the project current `.idea` folder is not used and not modified.\r\n\r\n\r\n\r\n[![.idea content][2]][2]\r\n\r\n\r\n  [1]: https://intellij-support.jetbrains.com/hc/en-us/articles/206544839-How-to-manage-projects-under-Version-Control-Systems\r\n  [2]: https://i.stack.imgur.com/cTFC9.png","title":"Use alternative location for .idea folder?","body":"<p>In our project there is <code>.idea</code> folder checked-in into git repository with old content<br />\n(there is even <a href=\"https://intellij-support.jetbrains.com/hc/en-us/articles/206544839-How-to-manage-projects-under-Version-Control-Systems\" rel=\"nofollow noreferrer\">.iml file that is actually previous generation</a>),<br />\nand it puts project into dirty state right after import.</p>\n<p>While ultimate  solution will be to remove <code>.idea</code> folder completely,<br />\nis there a way to <strong>configure alternative location for IDE <code>.idea</code> folder</strong>,<br />\nso that when I work on the project current <code>.idea</code> folder is not used and not modified.</p>\n<p><a href=\"https://i.stack.imgur.com/cTFC9.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/cTFC9.png\" alt=\".idea content\" /></a></p>\n"},{"tags":["java","windows"],"comments":[{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1690163686,"post_id":76749912,"comment_id":135310341,"body_markdown":"By the installer, for a start, and by IDEs such as Netbeans.","body":"By the installer, for a start, and by IDEs such as Netbeans."},{"owner":{"account_id":17002054,"reputation":105,"user_id":12299208,"display_name":"Sayan Dasgupta"},"score":0,"creation_date":1690370626,"post_id":76749912,"comment_id":135343223,"body_markdown":"@user207421 Could you please place it as an answer, I will then accept it.","body":"@user207421 Could you please place it as an answer, I will then accept it."}],"owner":{"account_id":17002054,"reputation":105,"user_id":12299208,"display_name":"Sayan Dasgupta"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690139290,"creation_date":1690139290,"question_id":76749912,"body_markdown":"While I was doing multiple Oracle JDK installations (JDK 16.0.1 and JDK 17.0.8) for my Windows 10 pc, I came across Windows Registries like this :&lt;br&gt;\r\n[![enter image description here][1]][1]\r\n\r\nWhat is the use of these registry entries and where are they used ?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/w1bzv.png","title":"What is the use of Computer\\HKEY_LOCAL_MACHINE\\SOFTWARE\\JavaSoft\\JDK registry key?","body":"<p>While I was doing multiple Oracle JDK installations (JDK 16.0.1 and JDK 17.0.8) for my Windows 10 pc, I came across Windows Registries like this :<br>\n<a href=\"https://i.stack.imgur.com/w1bzv.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/w1bzv.png\" alt=\"enter image description here\" /></a></p>\n<p>What is the use of these registry entries and where are they used ?</p>\n"},{"tags":["java","swing"],"comments":[{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":1,"creation_date":1690119994,"post_id":76748519,"comment_id":135305878,"body_markdown":"A [mre] would be helpful, at least for me. If you don&#39;t get a decent answer soon, consider creating and posting one.","body":"A <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> would be helpful, at least for me. If you don&#39;t get a decent answer soon, consider creating and posting one."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":1,"creation_date":1690120754,"post_id":76748519,"comment_id":135305965,"body_markdown":"See the `PersonTableModel` example from [Row Table Model](https://tips4java.wordpress.com/2008/11/21/row-table-model/) on how to extend AbstractTableModel to implement a custom model for your PageLabel class.","body":"See the <code>PersonTableModel</code> example from <a href=\"https://tips4java.wordpress.com/2008/11/21/row-table-model/\" rel=\"nofollow noreferrer\">Row Table Model</a> on how to extend AbstractTableModel to implement a custom model for your PageLabel class."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1690122932,"post_id":76748519,"comment_id":135306253,"body_markdown":"This, `private final List&lt;PageLabel&gt; pageLabels = new ArrayList&lt;&gt;();`, is wrong. A DefaultTableModel uses its own data nucleus and you shouldn&#39;t try to shadow it as you&#39;re doing. Either use the native data nucleus (get rid of this array list) or else extend an AbstractTableModel as @camickr suggests above.","body":"This, <code>private final List&lt;PageLabel&gt; pageLabels = new ArrayList&lt;&gt;();</code>, is wrong. A DefaultTableModel uses its own data nucleus and you shouldn&#39;t try to shadow it as you&#39;re doing. Either use the native data nucleus (get rid of this array list) or else extend an AbstractTableModel as @camickr suggests above."},{"owner":{"account_id":3142733,"reputation":616,"user_id":2657875,"accept_rate":77,"display_name":"menteith"},"score":0,"creation_date":1690137401,"post_id":76748519,"comment_id":135308160,"body_markdown":"Thank you for you comments @camickr and  Hovercraft Full Of Eels. I&#39;ve rewritten the code to use AbstractTableModel as camickr has suggested. I&#39;ve lost drag&amp;drop feature `DefaultTableModel` gives by default but I will try to implement it using camickr&#39;s code.","body":"Thank you for you comments @camickr and  Hovercraft Full Of Eels. I&#39;ve rewritten the code to use AbstractTableModel as camickr has suggested. I&#39;ve lost drag&amp;drop feature <code>DefaultTableModel</code> gives by default but I will try to implement it using camickr&#39;s code."}],"answers":[{"tags":[],"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1690138579,"creation_date":1690138579,"answer_id":76749868,"question_id":76748519,"body_markdown":"Hopefully you can build on this minimal refactor of your `PageLabelTableModel` class.\r\n```java\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\nimport javax.swing.table.AbstractTableModel;\r\n\r\npublic class PageLabelTableModel extends AbstractTableModel {\r\n    private static final String[] columnNames = { &quot;Label&quot;, &quot;Start page&quot;, &quot;Style&quot; };\r\n    private final List&lt;PageLabel&gt; pageLabels;\r\n\r\n    public PageLabelTableModel() {\r\n        this(new ArrayList&lt;&gt;());\r\n    }\r\n\r\n    public PageLabelTableModel(List&lt;PageLabel&gt; labels) {\r\n        pageLabels = labels;\r\n    }\r\n\r\n    public void addRow(PageLabel label) {\r\n        pageLabels.add(label);\r\n        int count = getRowCount();\r\n        fireTableRowsInserted(count, count);\r\n    }\r\n\r\n    @Override\r\n    public int getRowCount() {\r\n        return pageLabels == null ? 0 : pageLabels.size();\r\n    }\r\n\r\n    public Class&lt;?&gt; getColumnClass(int columnIndex) {\r\n        Class&lt;?&gt; theClass;\r\n        switch (columnIndex) {\r\n            case 0:\r\n                theClass = String.class;\r\n                break;\r\n            case 1:\r\n                theClass = Number.class;\r\n                break;\r\n            case 2:\r\n                theClass = LabelStyle.class;\r\n                break;\r\n            default:\r\n                theClass = Object.class;\r\n        }\r\n        return theClass;\r\n    }\r\n\r\n    @Override\r\n    public int getColumnCount() {\r\n        return columnNames.length;\r\n    }\r\n\r\n    public String getColumnName(int column) {\r\n        return columnNames[column];\r\n    }\r\n\r\n    @Override\r\n    public Object getValueAt(int rowIndex, int columnIndex) {\r\n        Object value;\r\n        PageLabel pageLabel = pageLabels.get(rowIndex);\r\n        switch (columnIndex) {\r\n            case 0:\r\n                value = pageLabel.getLabel();\r\n                break;\r\n            case 1:\r\n                value = Integer.valueOf(pageLabel.getStartPage());\r\n                break;\r\n            case 2:\r\n                value = pageLabel.getStyle();\r\n                break;\r\n            default:\r\n                value = null;\r\n        }\r\n        return value;\r\n    }\r\n\r\n    @Override\r\n    public boolean isCellEditable(final int rowIndex, final int columnIndex) {\r\n       return columnIndex &gt;= 0;\r\n    }\r\n}\r\n```\r\n- Classes that extend `AbstractTableModel` **must** implement the following three methods:\r\n    1. `getRowCount`\r\n    2. `getColumnCount`\r\n    3. `getValueAt`\r\n- It is also recommended to override other `AbstractTableModel` methods, including:\r\n    1. `getColumnName`  \r\n       (Look at code of that method in class `AbstractTableModel` to understand why.)\r\n    2. `getColumnClass`  \r\n       (To make use of the default renderers. Refer to [How to Use Tables][1] for more details.)\r\n    3. `isCellEditable`  \r\n       (But you have already overridden this.)\r\n- Note in the `addRow` method, the call to `fireTableRowsInserted`. This is to notify the `JTable` class that the data in the model has changed. Again, refer to _How to Use Tables_ for more details.\r\n\r\nAlso, I added a `toString` method to `LabelStyle`:\r\n```java\r\npublic enum LabelStyle {\r\n    DECIMAL(&quot;Decimal&quot;),\r\n    ROMAN_LOWER(&quot;Roman lower&quot;),\r\n    ROMAN_UPPER(&quot;Roman upper&quot;),\r\n    LETTER_UPPPER(&quot;Letters upper&quot;),\r\n    LETTER_LOWER(&quot;Letters lower&quot;),\r\n    NONE(&quot;None&quot;);\r\n\r\n    private final String style;\r\n\r\n    LabelStyle(final String style) {\r\n       this.style = style;\r\n    }\r\n\r\n    public String toString() {\r\n        return style;\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/uiswing/components/table.html","title":"How do I dynamically add rows in custom DefaultTableModel?","body":"<p>Hopefully you can build on this minimal refactor of your <code>PageLabelTableModel</code> class.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.ArrayList;\nimport java.util.List;\n\nimport javax.swing.table.AbstractTableModel;\n\npublic class PageLabelTableModel extends AbstractTableModel {\n    private static final String[] columnNames = { &quot;Label&quot;, &quot;Start page&quot;, &quot;Style&quot; };\n    private final List&lt;PageLabel&gt; pageLabels;\n\n    public PageLabelTableModel() {\n        this(new ArrayList&lt;&gt;());\n    }\n\n    public PageLabelTableModel(List&lt;PageLabel&gt; labels) {\n        pageLabels = labels;\n    }\n\n    public void addRow(PageLabel label) {\n        pageLabels.add(label);\n        int count = getRowCount();\n        fireTableRowsInserted(count, count);\n    }\n\n    @Override\n    public int getRowCount() {\n        return pageLabels == null ? 0 : pageLabels.size();\n    }\n\n    public Class&lt;?&gt; getColumnClass(int columnIndex) {\n        Class&lt;?&gt; theClass;\n        switch (columnIndex) {\n            case 0:\n                theClass = String.class;\n                break;\n            case 1:\n                theClass = Number.class;\n                break;\n            case 2:\n                theClass = LabelStyle.class;\n                break;\n            default:\n                theClass = Object.class;\n        }\n        return theClass;\n    }\n\n    @Override\n    public int getColumnCount() {\n        return columnNames.length;\n    }\n\n    public String getColumnName(int column) {\n        return columnNames[column];\n    }\n\n    @Override\n    public Object getValueAt(int rowIndex, int columnIndex) {\n        Object value;\n        PageLabel pageLabel = pageLabels.get(rowIndex);\n        switch (columnIndex) {\n            case 0:\n                value = pageLabel.getLabel();\n                break;\n            case 1:\n                value = Integer.valueOf(pageLabel.getStartPage());\n                break;\n            case 2:\n                value = pageLabel.getStyle();\n                break;\n            default:\n                value = null;\n        }\n        return value;\n    }\n\n    @Override\n    public boolean isCellEditable(final int rowIndex, final int columnIndex) {\n       return columnIndex &gt;= 0;\n    }\n}\n</code></pre>\n<ul>\n<li>Classes that extend <code>AbstractTableModel</code> <strong>must</strong> implement the following three methods:\n<ol>\n<li><code>getRowCount</code></li>\n<li><code>getColumnCount</code></li>\n<li><code>getValueAt</code></li>\n</ol>\n</li>\n<li>It is also recommended to override other <code>AbstractTableModel</code> methods, including:\n<ol>\n<li><code>getColumnName</code><br />\n(Look at code of that method in class <code>AbstractTableModel</code> to understand why.)</li>\n<li><code>getColumnClass</code><br />\n(To make use of the default renderers. Refer to <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/components/table.html\" rel=\"nofollow noreferrer\">How to Use Tables</a> for more details.)</li>\n<li><code>isCellEditable</code><br />\n(But you have already overridden this.)</li>\n</ol>\n</li>\n<li>Note in the <code>addRow</code> method, the call to <code>fireTableRowsInserted</code>. This is to notify the <code>JTable</code> class that the data in the model has changed. Again, refer to <em>How to Use Tables</em> for more details.</li>\n</ul>\n<p>Also, I added a <code>toString</code> method to <code>LabelStyle</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public enum LabelStyle {\n    DECIMAL(&quot;Decimal&quot;),\n    ROMAN_LOWER(&quot;Roman lower&quot;),\n    ROMAN_UPPER(&quot;Roman upper&quot;),\n    LETTER_UPPPER(&quot;Letters upper&quot;),\n    LETTER_LOWER(&quot;Letters lower&quot;),\n    NONE(&quot;None&quot;);\n\n    private final String style;\n\n    LabelStyle(final String style) {\n       this.style = style;\n    }\n\n    public String toString() {\n        return style;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":3142733,"reputation":616,"user_id":2657875,"accept_rate":77,"display_name":"menteith"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76749868,"answer_count":1,"score":0,"last_activity_date":1690138579,"creation_date":1690119275,"question_id":76748519,"body_markdown":"I have subclassed `DefaultTableModel` so that my table could show values from enum stored in JComboBox. This works fine provided that I add immediately data to this table in constructor. Let me show you what I mean by that.\r\n\r\n    final List&lt;PageLabel&gt; pageLabels = new ArrayList&lt;&gt;();\r\n    // add some data\r\n    pageLabels.add(....);\r\n    final PageLabelTableModel tableModel = new PageLabelTableModel(pageLabels);\r\n\r\nThe thing is my application gets data from some text file. Only when this file is processed, the application should add the data the table. So, in other words, I&#39;d like to dynamically add rows to the table. In theory it should be easy. In practice, however, it is not. I wrote a simple method to fill the table:\r\n\r\n\r\n    public void fillTable(final List&lt;PageLabel&gt; labels) {\r\n       for (final PageLabel label : labels) {\r\n          final Vector&lt;PageLabel&gt; rowData = new Vector&lt;&gt;();\r\n          rowData.add(label);\r\n          tableModel.addRow(rowData);\r\n       }\r\n    }\r\n\r\nIt fails with the exception:\r\n\r\n    Exception in thread &quot;Thread-1&quot; java.lang.ArrayIndexOutOfBoundsException: 0 &gt;= 0\r\n    \tat java.base/java.util.Vector.elementAt(Vector.java:466)\r\n    \tat java.desktop/javax.swing.table.DefaultTableModel.justifyRows(DefaultTableModel.java:278)\r\n    \tat java.desktop/javax.swing.table.DefaultTableModel.insertRow(DefaultTableModel.java:382)\r\n    \tat java.desktop/javax.swing.table.DefaultTableModel.addRow(DefaultTableModel.java:357)\r\n\r\nWhy is that? Here&#39;s my custom table model class:\r\n\r\n    // the code heavily borrows from\r\n    // https://www.codejava.net/java-se/swing/how-to-create-jcombobox-cell-editor-for-jtable\r\n    public class PageLabelTableModel extends DefaultTableModel {\r\n    \r\n       private static final String[] columnNames = { &quot;Label&quot;, &quot;Start page&quot;, &quot;Style&quot; };\r\n    \r\n       private final List&lt;PageLabel&gt; pageLabels = new ArrayList&lt;&gt;();\r\n    \r\n       public PageLabelTableModel() {\r\n          super(columnNames, 0);\r\n       }\r\n    \r\n       @Override\r\n       public Class&lt;?&gt; getColumnClass(final int column) {\r\n          return getValueAt(0, column).getClass();\r\n       }\r\n    \r\n       @Override\r\n       public int getRowCount() {\r\n          return pageLabels != null ? pageLabels.size() : 0;\r\n       }\r\n    \r\n       @Override\r\n       public int getColumnCount() {\r\n          return columnNames.length;\r\n       }\r\n    \r\n       @Override\r\n       public String getColumnName(final int column) {\r\n          return columnNames[column];\r\n       }\r\n    \r\n       @Override\r\n       public boolean isCellEditable(final int rowIndex, final int columnIndex) {\r\n          return columnIndex &gt;= 0;\r\n       }\r\n    \r\n       @Override\r\n       public Object getValueAt(final int rowIndex, final int columnIndex) {\r\n    \r\n          final PageLabel pageLabel = pageLabels.get(rowIndex);\r\n    \r\n          final Object returnValue;\r\n    \r\n          switch (columnIndex) {\r\n             case 0 -&gt; returnValue = pageLabel.label();\r\n             case 1 -&gt; returnValue = pageLabel.startPage();\r\n             case 2 -&gt; returnValue = pageLabel.style();\r\n             default -&gt; throw new IllegalArgumentException(\r\n                 String.format(&quot;Column index %d not found!&quot;, columnIndex)\r\n             );\r\n          }\r\n    \r\n          return returnValue;\r\n       }\r\n    \r\n       @Override\r\n       public void setValueAt(final Object value, final int rowIndex, final int columnIndex) {\r\n    \r\n          final PageLabel pageLabel = pageLabels.get(rowIndex);\r\n    \r\n          switch (columnIndex) {\r\n             case 0 -&gt; pageLabel.label((String) value);\r\n             case 1 -&gt; pageLabel.startPage((int) value);\r\n             case 2 -&gt; pageLabel.style((LabelStyle) value);\r\n             default -&gt; throw new IllegalArgumentException(\r\n                 String.format(&quot;Column index %d not found!&quot;, columnIndex)\r\n             );\r\n          }\r\n       }\r\n    }\r\n\r\nAs per comment by @Abra I provide the code for PageLabel class:\r\n\r\n    public class PageLabel {\r\n    \r\n        private String label;\r\n        private int startPage;\r\n        private LabelStyle style;\r\n    \r\n         // no-args, all-args, getters/setters\r\n         // omitted for brevity\r\n     \r\n    }\r\n\r\nBelow is enum used by the above-mentioned class:\r\n\r\n    public enum LabelStyle {\r\n    \r\n       DECIMAL(&quot;Decimal&quot;),\r\n       ROMAN_LOWER(&quot;Roman lower&quot;),\r\n       ROMAN_UPPER(&quot;Roman upper&quot;),\r\n       LETTER_UPPPER(&quot;Letters upper&quot;),\r\n       LETTER_LOWER(&quot;Letters lower&quot;),\r\n       NONE(&quot;None&quot;);\r\n    \r\n       private final String style;\r\n    \r\n       LabelStyle(final String style) {\r\n          this.style = style;\r\n       }\r\n    }","title":"How do I dynamically add rows in custom DefaultTableModel?","body":"<p>I have subclassed <code>DefaultTableModel</code> so that my table could show values from enum stored in JComboBox. This works fine provided that I add immediately data to this table in constructor. Let me show you what I mean by that.</p>\n<pre><code>final List&lt;PageLabel&gt; pageLabels = new ArrayList&lt;&gt;();\n// add some data\npageLabels.add(....);\nfinal PageLabelTableModel tableModel = new PageLabelTableModel(pageLabels);\n</code></pre>\n<p>The thing is my application gets data from some text file. Only when this file is processed, the application should add the data the table. So, in other words, I'd like to dynamically add rows to the table. In theory it should be easy. In practice, however, it is not. I wrote a simple method to fill the table:</p>\n<pre><code>public void fillTable(final List&lt;PageLabel&gt; labels) {\n   for (final PageLabel label : labels) {\n      final Vector&lt;PageLabel&gt; rowData = new Vector&lt;&gt;();\n      rowData.add(label);\n      tableModel.addRow(rowData);\n   }\n}\n</code></pre>\n<p>It fails with the exception:</p>\n<pre><code>Exception in thread &quot;Thread-1&quot; java.lang.ArrayIndexOutOfBoundsException: 0 &gt;= 0\n    at java.base/java.util.Vector.elementAt(Vector.java:466)\n    at java.desktop/javax.swing.table.DefaultTableModel.justifyRows(DefaultTableModel.java:278)\n    at java.desktop/javax.swing.table.DefaultTableModel.insertRow(DefaultTableModel.java:382)\n    at java.desktop/javax.swing.table.DefaultTableModel.addRow(DefaultTableModel.java:357)\n</code></pre>\n<p>Why is that? Here's my custom table model class:</p>\n<pre><code>// the code heavily borrows from\n// https://www.codejava.net/java-se/swing/how-to-create-jcombobox-cell-editor-for-jtable\npublic class PageLabelTableModel extends DefaultTableModel {\n\n   private static final String[] columnNames = { &quot;Label&quot;, &quot;Start page&quot;, &quot;Style&quot; };\n\n   private final List&lt;PageLabel&gt; pageLabels = new ArrayList&lt;&gt;();\n\n   public PageLabelTableModel() {\n      super(columnNames, 0);\n   }\n\n   @Override\n   public Class&lt;?&gt; getColumnClass(final int column) {\n      return getValueAt(0, column).getClass();\n   }\n\n   @Override\n   public int getRowCount() {\n      return pageLabels != null ? pageLabels.size() : 0;\n   }\n\n   @Override\n   public int getColumnCount() {\n      return columnNames.length;\n   }\n\n   @Override\n   public String getColumnName(final int column) {\n      return columnNames[column];\n   }\n\n   @Override\n   public boolean isCellEditable(final int rowIndex, final int columnIndex) {\n      return columnIndex &gt;= 0;\n   }\n\n   @Override\n   public Object getValueAt(final int rowIndex, final int columnIndex) {\n\n      final PageLabel pageLabel = pageLabels.get(rowIndex);\n\n      final Object returnValue;\n\n      switch (columnIndex) {\n         case 0 -&gt; returnValue = pageLabel.label();\n         case 1 -&gt; returnValue = pageLabel.startPage();\n         case 2 -&gt; returnValue = pageLabel.style();\n         default -&gt; throw new IllegalArgumentException(\n             String.format(&quot;Column index %d not found!&quot;, columnIndex)\n         );\n      }\n\n      return returnValue;\n   }\n\n   @Override\n   public void setValueAt(final Object value, final int rowIndex, final int columnIndex) {\n\n      final PageLabel pageLabel = pageLabels.get(rowIndex);\n\n      switch (columnIndex) {\n         case 0 -&gt; pageLabel.label((String) value);\n         case 1 -&gt; pageLabel.startPage((int) value);\n         case 2 -&gt; pageLabel.style((LabelStyle) value);\n         default -&gt; throw new IllegalArgumentException(\n             String.format(&quot;Column index %d not found!&quot;, columnIndex)\n         );\n      }\n   }\n}\n</code></pre>\n<p>As per comment by @Abra I provide the code for PageLabel class:</p>\n<pre><code>public class PageLabel {\n\n    private String label;\n    private int startPage;\n    private LabelStyle style;\n\n     // no-args, all-args, getters/setters\n     // omitted for brevity\n \n}\n</code></pre>\n<p>Below is enum used by the above-mentioned class:</p>\n<pre><code>public enum LabelStyle {\n\n   DECIMAL(&quot;Decimal&quot;),\n   ROMAN_LOWER(&quot;Roman lower&quot;),\n   ROMAN_UPPER(&quot;Roman upper&quot;),\n   LETTER_UPPPER(&quot;Letters upper&quot;),\n   LETTER_LOWER(&quot;Letters lower&quot;),\n   NONE(&quot;None&quot;);\n\n   private final String style;\n\n   LabelStyle(final String style) {\n      this.style = style;\n   }\n}\n</code></pre>\n"},{"tags":["java","android","ftp","apache-commons","apache-commons-net"],"owner":{"account_id":103637,"reputation":10150,"user_id":277480,"accept_rate":68,"display_name":"StealthRT"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690138066,"creation_date":1690138066,"question_id":76749833,"body_markdown":"Hey all I am trying to figure out how to do a nice, clean stop of a downloading file if I hit the **back button** during the download process.\r\n\r\nI have the back button detection like this:\r\n\r\n    mProgress = new ProgressDialog(activity){\r\n       @Override\r\n       public void onBackPressed() {\r\n            mProgress.cancel();\r\n            mProgress.dismiss();\r\n\r\n            if (ftp.isConnected()) {\r\n              try {\r\n                     abortDownload = true;\r\n              } catch (Exception e) {\r\n                     Log.d(&quot;&quot;, &quot;error: &quot; + e.getMessage());\r\n              }\r\n            }\r\n       }\r\n\r\n       mProgress.setMessage(&quot;Downloading new apk .. Please wait...&quot;);\r\n       mProgress.setProgressStyle(ProgressDialog.STYLE_HORIZONTAL);\r\n       mProgress.show();\r\n    };\r\n\r\nAnd once the `abortDownload` is set to true it triggers this part of the code which is already looping in order to get the current % downloaded:\r\n\r\n    CountingOutputStream cos = new CountingOutputStream(output) {\r\n        protected void beforeWrite(int n) {\r\n             super.beforeWrite(n);\r\n\r\n             if (abortDownload) {\r\n                try {\r\n                    output.close();\r\n                    abortDownload = false;\r\n                    ftp.logout();\r\n                    ftp.disconnect();\r\n                } catch (IOException e) {\r\n                    throw new RuntimeException(e);\r\n                }\r\n             } else {\r\n                 int percent = (int) Math.round((getCount() * 100.0) / lenghtOfFile);\r\n                 mProgress.setProgress(percent);\r\n             }\r\n        }\r\n    };\r\n\r\nThe `output.close();` does seem to stop the download but it never continues after the `ftp.logout();` part.\r\n\r\nIf I do `ftp.disconnect();` and remove the `ftp.logout();` it goes into one of its catches:\r\n\r\n    } catch (IOException e) {\r\n       Log.d(&quot;FTP_DOWNLOAD&quot;, &quot;ERROR IOException:&quot; + e);\r\n    }\r\n\r\nWhich the error is \r\n\r\n&gt; org.apache.commons.net.io.CopyStreamException: IOException caught while copying.\r\n\r\nSo I am not sure how to do this since I&#39;m not seeing a lot of examples around dealing with hitting the back button while its downloading.","title":"Apache commons net ftp unable to stop download when hitting back button","body":"<p>Hey all I am trying to figure out how to do a nice, clean stop of a downloading file if I hit the <strong>back button</strong> during the download process.</p>\n<p>I have the back button detection like this:</p>\n<pre><code>mProgress = new ProgressDialog(activity){\n   @Override\n   public void onBackPressed() {\n        mProgress.cancel();\n        mProgress.dismiss();\n\n        if (ftp.isConnected()) {\n          try {\n                 abortDownload = true;\n          } catch (Exception e) {\n                 Log.d(&quot;&quot;, &quot;error: &quot; + e.getMessage());\n          }\n        }\n   }\n\n   mProgress.setMessage(&quot;Downloading new apk .. Please wait...&quot;);\n   mProgress.setProgressStyle(ProgressDialog.STYLE_HORIZONTAL);\n   mProgress.show();\n};\n</code></pre>\n<p>And once the <code>abortDownload</code> is set to true it triggers this part of the code which is already looping in order to get the current % downloaded:</p>\n<pre><code>CountingOutputStream cos = new CountingOutputStream(output) {\n    protected void beforeWrite(int n) {\n         super.beforeWrite(n);\n\n         if (abortDownload) {\n            try {\n                output.close();\n                abortDownload = false;\n                ftp.logout();\n                ftp.disconnect();\n            } catch (IOException e) {\n                throw new RuntimeException(e);\n            }\n         } else {\n             int percent = (int) Math.round((getCount() * 100.0) / lenghtOfFile);\n             mProgress.setProgress(percent);\n         }\n    }\n};\n</code></pre>\n<p>The <code>output.close();</code> does seem to stop the download but it never continues after the <code>ftp.logout();</code> part.</p>\n<p>If I do <code>ftp.disconnect();</code> and remove the <code>ftp.logout();</code> it goes into one of its catches:</p>\n<pre><code>} catch (IOException e) {\n   Log.d(&quot;FTP_DOWNLOAD&quot;, &quot;ERROR IOException:&quot; + e);\n}\n</code></pre>\n<p>Which the error is</p>\n<blockquote>\n<p>org.apache.commons.net.io.CopyStreamException: IOException caught while copying.</p>\n</blockquote>\n<p>So I am not sure how to do this since I'm not seeing a lot of examples around dealing with hitting the back button while its downloading.</p>\n"},{"tags":["java","android","proguard","obfuscation"],"owner":{"account_id":945974,"reputation":1683,"user_id":973237,"accept_rate":79,"display_name":"Vincent"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690137352,"creation_date":1690130860,"question_id":76749357,"body_markdown":"I use Retrofit to catch a json string that fills a POJO\r\n\r\nThe POJO class is:\r\n\r\n    public class Entries{\r\n\r\n     \tpublic ArrayList&lt;Entry&gt; entries;\r\n\r\n\r\n    \tpublic Entry entry(int index){\r\n\r\n    \t\treturn entries.get(index);\r\n\t   }\r\n\t}\r\n\r\nCalling the `entry()` method creates a Fatal Exception:\r\n                                                                                               `java.lang.ClassCastException: java.util.LinkedHashMap cannot be cast to com.example.model.Entry`\r\n\r\nI tried this rule in the proguard rules file\r\n\r\n    -keepattributes SourceFile,LineNumberTable,Signature,*Annotation*\r\n\r\nbut got no luck.\r\n\r\nWhat is the proguard rule that would unlock the situation? Many thanks\r\n\r\n**UPDATE**\r\n\r\nHere is the solution:\r\n\r\n    -keep class com.example.myapp.**.model.** {*; }\r\n\r\nAnswer found [here][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/q/32852395/973237","title":"Proguard obfuscation creates fafal exception LinkedHashMap cannot be cast","body":"<p>I use Retrofit to catch a json string that fills a POJO</p>\n<p>The POJO class is:</p>\n<pre><code>public class Entries{\n\n    public ArrayList&lt;Entry&gt; entries;\n\n\n    public Entry entry(int index){\n\n        return entries.get(index);\n   }\n}\n</code></pre>\n<p>Calling the <code>entry()</code> method creates a Fatal Exception:\n<code>java.lang.ClassCastException: java.util.LinkedHashMap cannot be cast to com.example.model.Entry</code></p>\n<p>I tried this rule in the proguard rules file</p>\n<pre><code>-keepattributes SourceFile,LineNumberTable,Signature,*Annotation*\n</code></pre>\n<p>but got no luck.</p>\n<p>What is the proguard rule that would unlock the situation? Many thanks</p>\n<p><strong>UPDATE</strong></p>\n<p>Here is the solution:</p>\n<pre><code>-keep class com.example.myapp.**.model.** {*; }\n</code></pre>\n<p>Answer found <a href=\"https://stackoverflow.com/q/32852395/973237\">here</a></p>\n"},{"tags":["java","sockets","jpos"],"owner":{"account_id":3396845,"reputation":416,"user_id":2850227,"display_name":"rookie"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":345,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1690137095,"creation_date":1616609493,"question_id":66786903,"body_markdown":"I have written a basic jpos client application  that is deployed on tomcat and it sends 8583 messages to a jpos server. The jpos server implementation has been working for a long time and it has other clients connected to it. The client jpos application that I wrote is  triggered by a  rest end point  and it works fine when the requests are executed serially. When the load is increased  by running multiple threads ,I see the below exceptions in logs. Any idea what might be happening in this case?\r\n\r\nCode\r\n```\r\nclass JposClient{\r\n\r\nprivate CSChannel csChannel;\r\n\r\npublic ISOMsg send(ISOMsg request){\r\nISOMsg response\r\ncsChannel=getCSChannel();\r\ncsChannel.connect();\r\njposChannel.send(request);\r\ndo {\r\n\tresponse = jposChannel.receive();\r\n\t}while(response.getMTI().startsWith(&quot;08&quot;));\r\n\r\n}\r\n\r\nreturn response;\r\n\r\n}\r\n\r\nprivate CSChannel getCSChannel() throws IOException {\r\n    \r\n\t\tif(csChannel!=null){\r\nreturn csChannel;\r\n}\r\n\t\ttry {\r\n\t\t\tcsChannel = new CSChannel();\r\n\t\t\tConfiguration configuration = new SimpleConfiguration();\r\n\t\t\tconfiguration.put(&quot;keep-alive&quot;, &quot;true&quot;);\r\n\t\t\tconfiguration.put(&quot;expect-keep-alive&quot;, &quot;true&quot;);\r\n\t\t\tconfiguration.put(&quot;host&quot;, &quot;127.0.0.1&quot;);\r\n\t\t\tconfiguration.put(&quot;port&quot;, String.valueOf(5456));\r\n\t\t\tcsChannel.setConfiguration(configuration);\r\n\t\t\tcsChannel.setPackager(new GenericPackager(\r\n\t\t\t\t&quot;packager.xml&quot;););\r\n\t\t} catch (ISOException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\treturn csChannel;\r\n\t}\r\n\r\n}\r\n\r\n```\r\n\r\nLogs\r\n```\r\njava.net.SocketException: Socket is closed\r\n        at java.net.Socket.getInputStream(Socket.java:921)\r\n        at org.jpos.iso.BaseChannel.connect(BaseChannel.java:280)\r\n        at org.jpos.iso.BaseChannel.connect(BaseChannel.java:414)\r\n        at org.jpos.iso.BaseChannel.reconnect(BaseChannel.java:845)\r\n\r\n\r\njava.io.EOFException: null\r\n        at java.io.DataInputStream.readFully(DataInputStream.java:197)\r\n        at org.jpos.iso.channel.CSChannel.getMessageLength(CSChannel.java:97)\r\n        at org.jpos.iso.BaseChannel.receive(BaseChannel.java:712)\r\n```","title":"Jpos java.net.SocketException","body":"<p>I have written a basic jpos client application  that is deployed on tomcat and it sends 8583 messages to a jpos server. The jpos server implementation has been working for a long time and it has other clients connected to it. The client jpos application that I wrote is  triggered by a  rest end point  and it works fine when the requests are executed serially. When the load is increased  by running multiple threads ,I see the below exceptions in logs. Any idea what might be happening in this case?</p>\n<p>Code</p>\n<pre><code>class JposClient{\n\nprivate CSChannel csChannel;\n\npublic ISOMsg send(ISOMsg request){\nISOMsg response\ncsChannel=getCSChannel();\ncsChannel.connect();\njposChannel.send(request);\ndo {\n    response = jposChannel.receive();\n    }while(response.getMTI().startsWith(&quot;08&quot;));\n\n}\n\nreturn response;\n\n}\n\nprivate CSChannel getCSChannel() throws IOException {\n    \n        if(csChannel!=null){\nreturn csChannel;\n}\n        try {\n            csChannel = new CSChannel();\n            Configuration configuration = new SimpleConfiguration();\n            configuration.put(&quot;keep-alive&quot;, &quot;true&quot;);\n            configuration.put(&quot;expect-keep-alive&quot;, &quot;true&quot;);\n            configuration.put(&quot;host&quot;, &quot;127.0.0.1&quot;);\n            configuration.put(&quot;port&quot;, String.valueOf(5456));\n            csChannel.setConfiguration(configuration);\n            csChannel.setPackager(new GenericPackager(\n                &quot;packager.xml&quot;););\n        } catch (ISOException e) {\n            e.printStackTrace();\n        }\n        return csChannel;\n    }\n\n}\n\n</code></pre>\n<p>Logs</p>\n<pre><code>java.net.SocketException: Socket is closed\n        at java.net.Socket.getInputStream(Socket.java:921)\n        at org.jpos.iso.BaseChannel.connect(BaseChannel.java:280)\n        at org.jpos.iso.BaseChannel.connect(BaseChannel.java:414)\n        at org.jpos.iso.BaseChannel.reconnect(BaseChannel.java:845)\n\n\njava.io.EOFException: null\n        at java.io.DataInputStream.readFully(DataInputStream.java:197)\n        at org.jpos.iso.channel.CSChannel.getMessageLength(CSChannel.java:97)\n        at org.jpos.iso.BaseChannel.receive(BaseChannel.java:712)\n</code></pre>\n"},{"tags":["java","loops","actionlistener","jtextfield","typing"],"comments":[{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1690079073,"post_id":76746301,"comment_id":135302479,"body_markdown":"What changes the size of the text? You should not be polling with a while loop, but in stead should be listening for changes in size at the source of where the size change occurs. This code us unknown to us. Please create and post a [mre] (please read the link) to help us to fully understand your code and your problem.","body":"What changes the size of the text? You should not be polling with a while loop, but in stead should be listening for changes in size at the source of where the size change occurs. This code us unknown to us. Please create and post a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> (please read the link) to help us to fully understand your code and your problem."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1690079180,"post_id":76746301,"comment_id":135302485,"body_markdown":"@HovercraftFullOfEels I think they mean length, i.e. a character being typed.","body":"@HovercraftFullOfEels I think they mean length, i.e. a character being typed."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1690079236,"post_id":76746301,"comment_id":135302490,"body_markdown":"@tgdavies, ah, that would make sense. Then I would use a DocumentListener, not a KeyListener and *never* a loop.","body":"@tgdavies, ah, that would make sense. Then I would use a DocumentListener, not a KeyListener and <i>never</i> a loop."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1690079268,"post_id":76746301,"comment_id":135302491,"body_markdown":"@tgdavies, which means that your dupe is a valid dupe.","body":"@tgdavies, which means that your dupe is a valid dupe."},{"owner":{"account_id":28290193,"reputation":1,"user_id":21630439,"display_name":"dorzao"},"score":0,"creation_date":1690134547,"post_id":76746301,"comment_id":135307744,"body_markdown":"thanks everyone! i was solved whith DocumentListener using @override insertUpdate and removeUpdate methods!","body":"thanks everyone! i was solved whith DocumentListener using @override insertUpdate and removeUpdate methods!"}],"owner":{"account_id":28290193,"reputation":1,"user_id":21630439,"display_name":"dorzao"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1690079255,"answer_count":0,"score":0,"last_activity_date":1690136571,"creation_date":1690074332,"question_id":76746301,"body_markdown":"I would like to validate with each change the size of the text, perform an action! I put one while isolated, 2 ifs inside an ActionListener, created a separate method and it didn&#39;t work. The idea is: while the person types in JTextfield, if the text size is different from 11, a Jlabel below the textfield will turn red and with an invalid message; if it is equal to 11, it will turn green and the message will be valid. And this validation must be done as the user types. (I wouldn&#39;t want to put a button to validate when clicked).\r\n\r\nI solve this with DocumentListener:\r\n\r\n```\r\npackage Janelas;\r\n\r\nimport javax.swing.JPanel;\r\nimport java.awt.Color;\r\nimport javax.swing.JLabel;\r\nimport java.awt.Font;\r\nimport java.awt.event.ActionEvent;\r\nimport java.awt.event.ActionListener;\r\nimport java.awt.event.KeyListener;\r\nimport javax.swing.event.DocumentListener;\r\nimport javax.swing.SwingConstants;import javax.swing.event.DocumentEvent;\r\nimport javax.swing.event.DocumentListener;\r\nimport javax.swing.JTextField;\r\nimport javax.swing.JButton;\r\n\r\npublic class Cadastro extends JPanel {\r\n\tprivate JTextField textFieldCampoNIS;\r\n\tprivate JLabel lblStatus = new JLabel(&quot;&quot;);\r\n\tpublic Cadastro(String titulo) {\r\n\t\tsetBackground(new Color(0, 0, 0));\r\n\t\tsetLayout(null);\r\n\t\t\r\n\t\tJLabel lblNewLabel = new JLabel(titulo);\r\n\t\tlblNewLabel.setHorizontalAlignment(SwingConstants.CENTER);\r\n\t\tlblNewLabel.setFont(new Font(&quot;Dialog&quot;, Font.BOLD, 24));\r\n\t\tlblNewLabel.setForeground(new Color(222, 221, 218));\r\n\t\tlblNewLabel.setBounds(12, 46, 426, 35);\r\n\t\tadd(lblNewLabel);\r\n\t\t\r\n\t\tJLabel lblNISFamilia = new JLabel(&quot;NIS da Fam&#237;lia:&quot;);\r\n\t\tlblNISFamilia.setHorizontalAlignment(SwingConstants.CENTER);\r\n\t\tlblNISFamilia.setForeground(new Color(222, 221, 218));\r\n\t\tlblNISFamilia.setFont(new Font(&quot;Dialog&quot;, Font.BOLD, 18));\r\n\t\tlblNISFamilia.setBounds(12, 110, 158, 35);\r\n\t\tadd(lblNISFamilia);\r\n\t\t\r\n\t\tJLabel lblStatus = new JLabel(&quot;&quot;);\r\n\t\tlblStatus.setBounds(165, 152, 158, 17);\r\n\t\tadd(lblStatus);\r\n\t\t\r\n\t\ttextFieldCampoNIS = new JTextField();\r\n\t\ttextFieldCampoNIS.setBounds(165, 119, 158, 21);\r\n\t\tadd(textFieldCampoNIS);\r\n\t\ttextFieldCampoNIS.setColumns(11);\r\n\t\ttextFieldCampoNIS.getDocument().addDocumentListener(new DocumentListener() {\r\n\t\t\r\n\t\t\t@Override\r\n\t\t\tpublic void insertUpdate(DocumentEvent e) {\r\n\t\t\t\t// TODO Auto-generated method stub\r\n\t\t\t\tint sizer =textFieldCampoNIS.getText().length();\r\n\t\t\t\t//System.out.println(sizer);\r\n\t\t\t\tif (sizer != 11 &amp;&amp; sizer != 0) {\r\n\t\t\t\tlblStatus.setText(&quot;NIS inv&#225;lido!&quot;);\r\n\t\t\t\tlblStatus.setForeground(new Color(200, 10, 10));\r\n\t\t\t\t\r\n\t\t\t\t} else if (sizer == 11) {\r\n\t\t\t\t\tlblStatus.setText(&quot;NIS &#233; v&#225;lido!&quot;);\r\n\t\t\t\t\tlblStatus.setForeground(new Color(10, 200, 10));\r\n\t\t\t\t\t\r\n\t\t\t\t} else {\r\n\t\t\t\t\tlblStatus.setText(&quot;&quot;);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t@Override\r\n\t\t\tpublic void removeUpdate(DocumentEvent e) {\r\n\t\t\t\t// TODO Auto-generated method stub\r\n\t\t\t\tint sizer =textFieldCampoNIS.getText().length();\r\n\t\t\t\t//System.out.println(sizer);\r\n\t\t\t\tif (sizer != 11 &amp;&amp; sizer != 0) {\r\n\t\t\t\tlblStatus.setText(&quot;NIS inv&#225;lido!&quot;);\r\n\t\t\t\tlblStatus.setForeground(new Color(200, 10, 10));\r\n\t\t\t\t\r\n\t\t\t\t} else if (sizer == 11) {\r\n\t\t\t\t\tlblStatus.setText(&quot;NIS &#233; v&#225;lido!&quot;);\r\n\t\t\t\t\tlblStatus.setForeground(new Color(10, 200, 10));\r\n\t\t\t\t\t\r\n\t\t\t\t} else {\r\n\t\t\t\t\tlblStatus.setText(&quot;&quot;);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t@Override\r\n\t\t\tpublic void changedUpdate(DocumentEvent e) {\r\n\t\t\t\t// TODO Auto-generated method stub\r\n\t\t\t\t\r\n\t\t\t} \r\n\t\t});\r\n\t\t\r\n\t}\r\n\t\r\n}\r\n\r\n```\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"Solved: How to add a loop in a JTextField? What is the right method?","body":"<p>I would like to validate with each change the size of the text, perform an action! I put one while isolated, 2 ifs inside an ActionListener, created a separate method and it didn't work. The idea is: while the person types in JTextfield, if the text size is different from 11, a Jlabel below the textfield will turn red and with an invalid message; if it is equal to 11, it will turn green and the message will be valid. And this validation must be done as the user types. (I wouldn't want to put a button to validate when clicked).</p>\n<p>I solve this with DocumentListener:</p>\n<pre><code>package Janelas;\n\nimport javax.swing.JPanel;\nimport java.awt.Color;\nimport javax.swing.JLabel;\nimport java.awt.Font;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport java.awt.event.KeyListener;\nimport javax.swing.event.DocumentListener;\nimport javax.swing.SwingConstants;import javax.swing.event.DocumentEvent;\nimport javax.swing.event.DocumentListener;\nimport javax.swing.JTextField;\nimport javax.swing.JButton;\n\npublic class Cadastro extends JPanel {\n    private JTextField textFieldCampoNIS;\n    private JLabel lblStatus = new JLabel(&quot;&quot;);\n    public Cadastro(String titulo) {\n        setBackground(new Color(0, 0, 0));\n        setLayout(null);\n        \n        JLabel lblNewLabel = new JLabel(titulo);\n        lblNewLabel.setHorizontalAlignment(SwingConstants.CENTER);\n        lblNewLabel.setFont(new Font(&quot;Dialog&quot;, Font.BOLD, 24));\n        lblNewLabel.setForeground(new Color(222, 221, 218));\n        lblNewLabel.setBounds(12, 46, 426, 35);\n        add(lblNewLabel);\n        \n        JLabel lblNISFamilia = new JLabel(&quot;NIS da Família:&quot;);\n        lblNISFamilia.setHorizontalAlignment(SwingConstants.CENTER);\n        lblNISFamilia.setForeground(new Color(222, 221, 218));\n        lblNISFamilia.setFont(new Font(&quot;Dialog&quot;, Font.BOLD, 18));\n        lblNISFamilia.setBounds(12, 110, 158, 35);\n        add(lblNISFamilia);\n        \n        JLabel lblStatus = new JLabel(&quot;&quot;);\n        lblStatus.setBounds(165, 152, 158, 17);\n        add(lblStatus);\n        \n        textFieldCampoNIS = new JTextField();\n        textFieldCampoNIS.setBounds(165, 119, 158, 21);\n        add(textFieldCampoNIS);\n        textFieldCampoNIS.setColumns(11);\n        textFieldCampoNIS.getDocument().addDocumentListener(new DocumentListener() {\n        \n            @Override\n            public void insertUpdate(DocumentEvent e) {\n                // TODO Auto-generated method stub\n                int sizer =textFieldCampoNIS.getText().length();\n                //System.out.println(sizer);\n                if (sizer != 11 &amp;&amp; sizer != 0) {\n                lblStatus.setText(&quot;NIS inválido!&quot;);\n                lblStatus.setForeground(new Color(200, 10, 10));\n                \n                } else if (sizer == 11) {\n                    lblStatus.setText(&quot;NIS é válido!&quot;);\n                    lblStatus.setForeground(new Color(10, 200, 10));\n                    \n                } else {\n                    lblStatus.setText(&quot;&quot;);\n                }\n            }\n            @Override\n            public void removeUpdate(DocumentEvent e) {\n                // TODO Auto-generated method stub\n                int sizer =textFieldCampoNIS.getText().length();\n                //System.out.println(sizer);\n                if (sizer != 11 &amp;&amp; sizer != 0) {\n                lblStatus.setText(&quot;NIS inválido!&quot;);\n                lblStatus.setForeground(new Color(200, 10, 10));\n                \n                } else if (sizer == 11) {\n                    lblStatus.setText(&quot;NIS é válido!&quot;);\n                    lblStatus.setForeground(new Color(10, 200, 10));\n                    \n                } else {\n                    lblStatus.setText(&quot;&quot;);\n                }\n            }\n            @Override\n            public void changedUpdate(DocumentEvent e) {\n                // TODO Auto-generated method stub\n                \n            } \n        });\n        \n    }\n    \n}\n\n</code></pre>\n"},{"tags":["java","spring","spring-boot"],"answers":[{"comments":[{"owner":{"account_id":7738097,"reputation":336,"user_id":5858995,"display_name":"Dzeri96"},"score":0,"creation_date":1686665137,"post_id":76442223,"comment_id":134828203,"body_markdown":"I&#39;m trying to build something more involved on top of what you provided, but the class loader can&#39;t find a file in the resources dir with the error `class path resource [application.properties] cannot be resolved to URL because it does not exist`","body":"I&#39;m trying to build something more involved on top of what you provided, but the class loader can&#39;t find a file in the resources dir with the error <code>class path resource [application.properties] cannot be resolved to URL because it does not exist</code>"}],"tags":[],"owner":{"account_id":23128,"reputation":13127,"user_id":57719,"display_name":"Chin Huang"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1686329306,"creation_date":1686328744,"answer_id":76442223,"question_id":76441703,"body_markdown":"This code does not implement all of the property sources in the [official documentation](https://docs.spring.io/spring-boot/docs/current/reference/html/features.html#features.external-config). It implements enough to read an application properties file from the class path:\r\n```java\r\nvar environment = new StandardEnvironment();\r\nvar resource = new ClassPathResource(&quot;application.yml&quot;);\r\nPropertySource&lt;?&gt; propertySource;\r\ntry {\r\n  var propertySources = new YamlPropertySourceLoader().load(resource.toString(), resource);\r\n  propertySource = propertySources.get(0);\r\n} catch (IOException e) {\r\n  throw new IllegalStateException(&quot;Failed to load file &quot; + resource, e);\r\n}\r\n\r\nenvironment.getPropertySources().addLast(propertySource);\r\nenvironment.setActiveProfiles(ACTIVE_PROFILE);\r\n```","title":"Replicate the way Spring Boot parses properties by default, outside of Spring","body":"<p>This code does not implement all of the property sources in the <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/features.html#features.external-config\" rel=\"nofollow noreferrer\">official documentation</a>. It implements enough to read an application properties file from the class path:</p>\n<pre class=\"lang-java prettyprint-override\"><code>var environment = new StandardEnvironment();\nvar resource = new ClassPathResource(&quot;application.yml&quot;);\nPropertySource&lt;?&gt; propertySource;\ntry {\n  var propertySources = new YamlPropertySourceLoader().load(resource.toString(), resource);\n  propertySource = propertySources.get(0);\n} catch (IOException e) {\n  throw new IllegalStateException(&quot;Failed to load file &quot; + resource, e);\n}\n\nenvironment.getPropertySources().addLast(propertySource);\nenvironment.setActiveProfiles(ACTIVE_PROFILE);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7738097,"reputation":336,"user_id":5858995,"display_name":"Dzeri96"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1690135327,"creation_date":1687711961,"answer_id":76551508,"question_id":76441703,"body_markdown":"*I will simply copy my answer to the [question][1] I referenced above:*\r\n\r\nI was struggling with this recently and found it surprising that there is no straightforward way to achieve this functionality. I even opened an [issue][2] with Spring Boot, but the feature was deemed too complex to implement.\r\n\r\nNevertheless, I&#39;ve made a proof of concept that supports multiple Spring profiles, precedence and variable interpolation together with ENV variable overriding. It&#39;s not the cleanest and doesn&#39;t mirror Spring Boot entirely, but it should have you covered for most cases. This is how I integrated it in my build.gradle file:\r\n\r\n```groovy\r\nimport org.springframework.core.env.StandardEnvironment\r\nimport org.springframework.core.io.support.PathMatchingResourcePatternResolver\r\nimport org.springframework.core.io.support.ResourcePropertySource\r\n\r\nsourceSets {\r\n\tmain {\r\n\t\tjava {\r\n\t\t\tsrcDir (&quot;src/main/java&quot;)\r\n\t\t\tsrcDir (&quot;build/generated/sources&quot;)\r\n\t\t}\r\n\t}\r\n}\r\n\r\n// Rest of build.gradle\r\n\r\n// Extract properties as Spring Boot would\r\nStandardEnvironment springBootEnvironment = new StandardEnvironment();\r\nPathMatchingResourcePatternResolver resourcePatternResolver = new PathMatchingResourcePatternResolver()\r\nString activeProfilesEnvVariable = &quot;$System.env.spring_profiles_active&quot;\r\nString[] profiles = activeProfilesEnvVariable.split(&quot;,&quot;)\r\nprintln &quot;Active spring profiles: &quot; + profiles\r\nif (activeProfilesEnvVariable != &quot;null&quot; &amp;&amp; profiles.length != 0) {\r\n\tfor (final def profile in profiles) {\r\n\t\tfor (final def resDir in sourceSets.main.getResources().srcDirs) {\r\n\t\t\tString searchPath = Paths.get(&quot;file:&quot; + resDir.toString(), &quot;application-&quot; + profile + &quot;.properties&quot;).toString()\r\n\t\t\tvar resources = resourcePatternResolver.getResources(searchPath)\r\n\t\t\tfor (final def res in resources) {\r\n\t\t\t\tspringBootEnvironment.getPropertySources().addLast(new ResourcePropertySource(res))\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\nspringBootEnvironment\r\n\t\t.getPropertySources()\r\n\t\t.addLast(\r\n\t\t\t\tnew ResourcePropertySource(\r\n\t\t\t\t\t\tresourcePatternResolver.getResource(&quot;file:src/main/resources/application.properties&quot;)\r\n\t\t\t\t)\r\n\t\t)\r\n\r\n// Use a property\r\nspringBootEnvironment.getProperty(&quot;spring.datasource.username&quot;)\r\n```\r\nAs you can see, most of the code deals with the precedence and discovery of properties files. If you use yaml property files, you can use the `YamlPropertySourceLoader`.\r\n\r\n  [2]: https://github.com/spring-projects/spring-boot/issues/35852\r\n\r\n  [1]: https://stackoverflow.com/questions/68159509/how-to-parse-spring-format-application-properties-file-outside-spring-applicatio","title":"Replicate the way Spring Boot parses properties by default, outside of Spring","body":"<p><em>I will simply copy my answer to the <a href=\"https://stackoverflow.com/questions/68159509/how-to-parse-spring-format-application-properties-file-outside-spring-applicatio\">question</a> I referenced above:</em></p>\n<p>I was struggling with this recently and found it surprising that there is no straightforward way to achieve this functionality. I even opened an <a href=\"https://github.com/spring-projects/spring-boot/issues/35852\" rel=\"nofollow noreferrer\">issue</a> with Spring Boot, but the feature was deemed too complex to implement.</p>\n<p>Nevertheless, I've made a proof of concept that supports multiple Spring profiles, precedence and variable interpolation together with ENV variable overriding. It's not the cleanest and doesn't mirror Spring Boot entirely, but it should have you covered for most cases. This is how I integrated it in my build.gradle file:</p>\n<pre><code>import org.springframework.core.env.StandardEnvironment\nimport org.springframework.core.io.support.PathMatchingResourcePatternResolver\nimport org.springframework.core.io.support.ResourcePropertySource\n\nsourceSets {\n    main {\n        java {\n            srcDir (&quot;src/main/java&quot;)\n            srcDir (&quot;build/generated/sources&quot;)\n        }\n    }\n}\n\n// Rest of build.gradle\n\n// Extract properties as Spring Boot would\nStandardEnvironment springBootEnvironment = new StandardEnvironment();\nPathMatchingResourcePatternResolver resourcePatternResolver = new PathMatchingResourcePatternResolver()\nString activeProfilesEnvVariable = &quot;$System.env.spring_profiles_active&quot;\nString[] profiles = activeProfilesEnvVariable.split(&quot;,&quot;)\nprintln &quot;Active spring profiles: &quot; + profiles\nif (activeProfilesEnvVariable != &quot;null&quot; &amp;&amp; profiles.length != 0) {\n    for (final def profile in profiles) {\n        for (final def resDir in sourceSets.main.getResources().srcDirs) {\n            String searchPath = Paths.get(&quot;file:&quot; + resDir.toString(), &quot;application-&quot; + profile + &quot;.properties&quot;).toString()\n            var resources = resourcePatternResolver.getResources(searchPath)\n            for (final def res in resources) {\n                springBootEnvironment.getPropertySources().addLast(new ResourcePropertySource(res))\n            }\n        }\n    }\n}\nspringBootEnvironment\n        .getPropertySources()\n        .addLast(\n                new ResourcePropertySource(\n                        resourcePatternResolver.getResource(&quot;file:src/main/resources/application.properties&quot;)\n                )\n        )\n\n// Use a property\nspringBootEnvironment.getProperty(&quot;spring.datasource.username&quot;)\n</code></pre>\n<p>As you can see, most of the code deals with the precedence and discovery of properties files. If you use yaml property files, you can use the <code>YamlPropertySourceLoader</code>.</p>\n"}],"owner":{"account_id":7738097,"reputation":336,"user_id":5858995,"display_name":"Dzeri96"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76551508,"answer_count":2,"score":0,"last_activity_date":1690135327,"creation_date":1686324684,"question_id":76441703,"body_markdown":"My question is very similar to [this one][1] (no answers), but more general.\r\nI&#39;m looking to replicate the way Spring Boot parses properties, but outside of a running Spring Aplication, for example in gradle, so I can use the properties in a task.\r\nIn short, this means passing the profile name(s) and following the same precedence logic like in the [official documentation][2].\r\n\r\nFrom what I&#39;ve gathered, an instance of `Environment` is the first step, but I can&#39;t get much further than that. Ideally I&#39;d just call the same code path that the Spring Boot runtime calls when starting an application.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/68159509/how-to-parse-spring-format-application-properties-file-outside-spring-applicatio\r\n  [2]: https://docs.spring.io/spring-boot/docs/1.2.3.RELEASE/reference/html/boot-features-external-config.html","title":"Replicate the way Spring Boot parses properties by default, outside of Spring","body":"<p>My question is very similar to <a href=\"https://stackoverflow.com/questions/68159509/how-to-parse-spring-format-application-properties-file-outside-spring-applicatio\">this one</a> (no answers), but more general.\nI'm looking to replicate the way Spring Boot parses properties, but outside of a running Spring Aplication, for example in gradle, so I can use the properties in a task.\nIn short, this means passing the profile name(s) and following the same precedence logic like in the <a href=\"https://docs.spring.io/spring-boot/docs/1.2.3.RELEASE/reference/html/boot-features-external-config.html\" rel=\"nofollow noreferrer\">official documentation</a>.</p>\n<p>From what I've gathered, an instance of <code>Environment</code> is the first step, but I can't get much further than that. Ideally I'd just call the same code path that the Spring Boot runtime calls when starting an application.</p>\n"},{"tags":["java","spring","hibernate","transactions","spring-transactions"],"comments":[{"owner":{"account_id":1913180,"reputation":5333,"user_id":1726423,"display_name":"mh-dev"},"score":0,"creation_date":1477147769,"post_id":40190515,"comment_id":67652896,"body_markdown":"Can you check what the type of the class is that you get via  factory.getCurrentSession()","body":"Can you check what the type of the class is that you get via  factory.getCurrentSession()"},{"owner":{"account_id":6558074,"reputation":3092,"user_id":5070158,"accept_rate":94,"display_name":"Andrii Plotnikov"},"score":0,"creation_date":1477148932,"post_id":40190515,"comment_id":67653251,"body_markdown":"try to make interface for genericDao, and then implement it. or add @Transactional to getAll(..)","body":"try to make interface for genericDao, and then implement it. or add @Transactional to getAll(..)"},{"owner":{"account_id":435280,"reputation":14323,"user_id":821786,"display_name":"Gergely Bacso"},"score":0,"creation_date":1477150004,"post_id":40190515,"comment_id":67653562,"body_markdown":"Could you post a stacktrace?","body":"Could you post a stacktrace?"},{"owner":{"account_id":8071732,"reputation":666,"user_id":6084277,"display_name":"Wukash"},"score":0,"creation_date":1477150395,"post_id":40190515,"comment_id":67653689,"body_markdown":"The object I&#39;m getting from `getCurrentSession()` is SessionImpl","body":"The object I&#39;m getting from <code>getCurrentSession()</code> is SessionImpl"},{"owner":{"account_id":8071732,"reputation":666,"user_id":6084277,"display_name":"Wukash"},"score":0,"creation_date":1477150468,"post_id":40190515,"comment_id":67653708,"body_markdown":"To clarify: method executes till the end even when I call `getCurrentSession()`. It&#39;s just that if I do call it inside I get exception after method completes","body":"To clarify: method executes till the end even when I call <code>getCurrentSession()</code>. It&#39;s just that if I do call it inside I get exception after method completes"}],"answers":[{"comments":[{"owner":{"account_id":430584,"reputation":542,"user_id":814113,"display_name":"Pieter Degraeuwe"},"score":0,"creation_date":1559747133,"post_id":40204747,"comment_id":99517957,"body_markdown":"Indeed. There seems to be a problem with the Hibernate plugin.Disable that one and you can still take full advantage of the hotswap functionality that DVEVEM provides. (see https://github.com/HotswapProjects/HotswapAgent/issues/187)","body":"Indeed. There seems to be a problem with the Hibernate plugin.Disable that one and you can still take full advantage of the hotswap functionality that DVEVEM provides. (see <a href=\"https://github.com/HotswapProjects/HotswapAgent/issues/187\" rel=\"nofollow noreferrer\">github.com/HotswapProjects/HotswapAgent/issues/187</a>)"},{"owner":{"account_id":2488321,"reputation":1753,"user_id":2166335,"display_name":"Melvin Sy"},"score":0,"creation_date":1585549415,"post_id":40204747,"comment_id":107788155,"body_markdown":"After spending a couple of days iterating over different solutions, this is the only fix that I need in order to get past this frustrating issue.","body":"After spending a couple of days iterating over different solutions, this is the only fix that I need in order to get past this frustrating issue."}],"tags":[],"owner":{"account_id":8071732,"reputation":666,"user_id":6084277,"display_name":"Wukash"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1477237723,"creation_date":1477237723,"answer_id":40204747,"question_id":40190515,"body_markdown":"Apparently the problem is in using Java DCEVM with HotswapAgent. When I remove   `-XXaltjvm=dcevm -javaagent:C:\\hotswap-agent.jar` from tomcat run configuration everything works as expected. I guess this is one of the side effects of using &quot;hacky&quot; software. My knowledge in these things is too small to even try to guess what the actual problem is.","title":"Hibernate Spring Transactional no transaction is in progress","body":"<p>Apparently the problem is in using Java DCEVM with HotswapAgent. When I remove   <code>-XXaltjvm=dcevm -javaagent:C:\\hotswap-agent.jar</code> from tomcat run configuration everything works as expected. I guess this is one of the side effects of using \"hacky\" software. My knowledge in these things is too small to even try to guess what the actual problem is.</p>\n"},{"tags":[],"owner":{"account_id":19299916,"reputation":1,"user_id":14108077,"display_name":"iu 159"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690133350,"creation_date":1689738610,"answer_id":76717871,"question_id":40190515,"body_markdown":"facing the same problem on springboot project, solved by config adding config like: \r\n```\r\nspring.jpa.properties.hibernate.current_session_context_class=org.springframework.orm.hibernate5.SpringSessionContext\r\nspring.jpa.properties.hibernate.allow_update_outside_transaction=true\r\n```","title":"Hibernate Spring Transactional no transaction is in progress","body":"<p>facing the same problem on springboot project, solved by config adding config like:</p>\n<pre><code>spring.jpa.properties.hibernate.current_session_context_class=org.springframework.orm.hibernate5.SpringSessionContext\nspring.jpa.properties.hibernate.allow_update_outside_transaction=true\n</code></pre>\n"}],"owner":{"account_id":8071732,"reputation":666,"user_id":6084277,"display_name":"Wukash"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2857,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":40204747,"answer_count":2,"score":5,"last_activity_date":1690133350,"creation_date":1477128709,"question_id":40190515,"body_markdown":"I&#39;m trying to get hibernate working with spring managed transactions. No matter what I do I always get &#39;no transaction is in progress&#39; exception. The only thing I don&#39;t understand is this:\r\n\r\nIf I don&#39;t call `sessionFactory.getCurrentSession()` in my `@Transactional` method, everything goes fine and I can see `HibernateTransactionManager` transaction lifecycle methods being called - `doGetTransaction(...), doCommit(...)` etc. and no error is thrown. \r\n\r\nWhen I add `sessionFactory.getCurrentSession()` in my method I still see `doGetTransaction()` (obviously), but as soon as `getCurrentSession()` is called I&#39;m starting to see `doRollback()` and in the end I&#39;m getting &#39;no transaction is in progress&#39; exception. I&#39;ve already spent whole day on it, hope someone helps. Tried changing transaction scope, xml configuration, basically everything I can think of. Using latest spring and hibernate versions (4.3.3 and 5.2.3 respectively)\r\n\r\napplicationContext.xml:\r\n\r\n    &lt;bean id=&quot;dataSource&quot; class=&quot;org.springframework.jdbc.datasource.DriverManagerDataSource&quot;&gt;\r\n        &lt;property name=&quot;driverClassName&quot; value=&quot;com.mysql.jdbc.Driver&quot;/&gt;\r\n        &lt;property name=&quot;url&quot; value=&quot;jdbc:mysql://localhost:3306/trainings&quot;/&gt;\r\n        &lt;property name=&quot;password&quot; value=&quot;xxx&quot;/&gt;\r\n        &lt;property name=&quot;username&quot; value=&quot;xxx&quot;/&gt;\r\n    &lt;/bean&gt;\r\n\r\n    &lt;bean id=&quot;sessionFactory&quot; class=&quot;org.springframework.orm.hibernate5.LocalSessionFactoryBean&quot;&gt;\r\n        &lt;property name=&quot;hibernateProperties&quot;&gt;\r\n            &lt;props&gt;\r\n                &lt;prop key=&quot;hibernate.show_sql&quot;&gt;true&lt;/prop&gt;\r\n                &lt;prop key=&quot;hibernate.dialect&quot;&gt;org.hibernate.dialect.MySQLDialect&lt;/prop&gt;\r\n            &lt;/props&gt;\r\n        &lt;/property&gt;\r\n        &lt;property name=&quot;dataSource&quot; ref=&quot;dataSource&quot;/&gt;\r\n    &lt;/bean&gt;\r\n\r\n    &lt;bean id=&quot;transactionManager&quot; class=&quot;org.springframework.orm.hibernate5.HibernateTransactionManager&quot; &gt;\r\n        &lt;property name=&quot;sessionFactory&quot; ref=&quot;sessionFactory&quot;/&gt;\r\n        &lt;property name=&quot;dataSource&quot; ref=&quot;dataSource&quot; /&gt;\r\n    &lt;/bean&gt;\r\n\r\n    &lt;context:annotation-config/&gt;\r\n\r\n    &lt;context:component-scan base-package=&quot;webtrainings.beans&quot;/&gt;\r\n\r\n    &lt;tx:annotation-driven transaction-manager=&quot;transactionManager&quot; /&gt;\r\n\r\nGenericDAO.java:\r\n\r\n    @Repository(&quot;genericDao&quot;)\r\n    @Scope(value = &quot;singleton&quot;)\r\n    public class GenericDAO&lt;T&gt; {\r\n    \r\n        @Autowired\r\n        private SessionFactory sessionFactory;\r\n    \r\n        @Autowired\r\n        private ApplicationContext appContext;\r\n    \r\n        public void getAll(Class&lt;T&gt; clazz) {\r\n            factory.getCurrentSession();\r\n        }\r\n    }\r\nMyService.java:\r\n\r\n    @Service(&quot;myService&quot;)\r\n    @Transactional\r\n    public class MyService {\r\n    \r\n        @Autowired\r\n        GenericDAO genericDAO;\r\n    \r\n        @Transactional\r\n        public void hehe() {\r\n            genericDAO.getAll(Training.class);\r\n        }\r\n    }\r\n\r\nHelloController.java:\r\n\r\n    @Controller\r\n    @RequestMapping(value = &quot;/welcome&quot;)\r\n    public class HelloController {\r\n    \r\n        @Autowired\r\n        MyService myService;\r\n    \r\n        @Autowired\r\n        ApplicationContext applicationContext;\r\n    \r\n        @RequestMapping(method = RequestMethod.GET)\r\n        public ModelAndView handleRequestInternal(HttpServletRequest request,\r\n                                                  HttpServletResponse response) throws Exception {\r\n            ModelAndView model = new ModelAndView(&quot;hello&quot;);\r\n            model.addObject(&quot;msg&quot;, &quot;hello world&quot;);\r\n            myService.hehe();\r\n    \r\n            return model;\r\n        }\r\n    }\r\n\r\nspring-servlet.xml (mvc):\r\n\r\n    &lt;context:component-scan base-package=&quot;webtrainings.utils&quot;/&gt;\r\n    \r\n    &lt;bean id=&quot;viewResolver&quot;\r\n              class=&quot;org.springframework.web.servlet.view.InternalResourceViewResolver&quot; &gt;\r\n            &lt;property name=&quot;prefix&quot;&gt;\r\n                &lt;value&gt;/WEB-INF/jsp/&lt;/value&gt;\r\n            &lt;/property&gt;\r\n            &lt;property name=&quot;suffix&quot;&gt;\r\n                &lt;value&gt;.jsp&lt;/value&gt;\r\n            &lt;/property&gt;\r\n    &lt;/bean&gt;\r\n\r\nStacktrace:\r\n\r\n    javax.persistence.TransactionRequiredException: no transaction is in progress\r\n    \torg.hibernate.internal.SessionImpl.checkTransactionNeeded(SessionImpl.java:3430)\r\n    \torg.hibernate.internal.SessionImpl.doFlush(SessionImpl.java:1397)\r\n    \torg.hibernate.internal.SessionImpl.flush(SessionImpl.java:1393)\r\n    \torg.springframework.orm.hibernate5.SessionFactoryUtils.flush(SessionFactoryUtils.java:144)\r\n    \torg.springframework.orm.hibernate5.SpringSessionSynchronization.beforeCommit(SpringSessionSynchronization.java:95)\r\n    \torg.springframework.transaction.support.TransactionSynchronizationUtils.triggerBeforeCommit(TransactionSynchronizationUtils.java:95)\r\n    \torg.springframework.transaction.support.AbstractPlatformTransactionManager.triggerBeforeCommit(AbstractPlatformTransactionManager.java:932)\r\n    \torg.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:744)\r\n    \torg.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:730)\r\n    \torg.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:487)\r\n    \torg.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:291)\r\n    \torg.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96)\r\n    \torg.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\r\n    \torg.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:655)\r\n    \twebtrainings.beans.MyService$$EnhancerBySpringCGLIB$$3fca725c.hehe(&lt;generated&gt;)\r\n    \twebtrainings.utils.HelloController.handleRequestInternal(HelloController.java:32)\r\n    \tsun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tsun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tsun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tjava.lang.reflect.Method.invoke(Method.java:498)\r\n    \torg.springframework.web.bind.annotation.support.HandlerMethodInvoker.invokeHandlerMethod(HandlerMethodInvoker.java:180)\r\n    \torg.springframework.web.servlet.mvc.annotation.AnnotationMethodHandlerAdapter.invokeHandlerMethod(AnnotationMethodHandlerAdapter.java:440)\r\n    \torg.springframework.web.servlet.mvc.annotation.AnnotationMethodHandlerAdapter.handle(AnnotationMethodHandlerAdapter.java:428)\r\n    \torg.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:963)\r\n    \torg.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:897)\r\n    \torg.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970)\r\n    \torg.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:861)\r\n    \tjavax.servlet.http.HttpServlet.service(HttpServlet.java:622)\r\n    \torg.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846)\r\n    \tjavax.servlet.http.HttpServlet.service(HttpServlet.java:729)\r\n    \torg.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)","title":"Hibernate Spring Transactional no transaction is in progress","body":"<p>I'm trying to get hibernate working with spring managed transactions. No matter what I do I always get 'no transaction is in progress' exception. The only thing I don't understand is this:</p>\n\n<p>If I don't call <code>sessionFactory.getCurrentSession()</code> in my <code>@Transactional</code> method, everything goes fine and I can see <code>HibernateTransactionManager</code> transaction lifecycle methods being called - <code>doGetTransaction(...), doCommit(...)</code> etc. and no error is thrown. </p>\n\n<p>When I add <code>sessionFactory.getCurrentSession()</code> in my method I still see <code>doGetTransaction()</code> (obviously), but as soon as <code>getCurrentSession()</code> is called I'm starting to see <code>doRollback()</code> and in the end I'm getting 'no transaction is in progress' exception. I've already spent whole day on it, hope someone helps. Tried changing transaction scope, xml configuration, basically everything I can think of. Using latest spring and hibernate versions (4.3.3 and 5.2.3 respectively)</p>\n\n<p>applicationContext.xml:</p>\n\n<pre><code>&lt;bean id=\"dataSource\" class=\"org.springframework.jdbc.datasource.DriverManagerDataSource\"&gt;\n    &lt;property name=\"driverClassName\" value=\"com.mysql.jdbc.Driver\"/&gt;\n    &lt;property name=\"url\" value=\"jdbc:mysql://localhost:3306/trainings\"/&gt;\n    &lt;property name=\"password\" value=\"xxx\"/&gt;\n    &lt;property name=\"username\" value=\"xxx\"/&gt;\n&lt;/bean&gt;\n\n&lt;bean id=\"sessionFactory\" class=\"org.springframework.orm.hibernate5.LocalSessionFactoryBean\"&gt;\n    &lt;property name=\"hibernateProperties\"&gt;\n        &lt;props&gt;\n            &lt;prop key=\"hibernate.show_sql\"&gt;true&lt;/prop&gt;\n            &lt;prop key=\"hibernate.dialect\"&gt;org.hibernate.dialect.MySQLDialect&lt;/prop&gt;\n        &lt;/props&gt;\n    &lt;/property&gt;\n    &lt;property name=\"dataSource\" ref=\"dataSource\"/&gt;\n&lt;/bean&gt;\n\n&lt;bean id=\"transactionManager\" class=\"org.springframework.orm.hibernate5.HibernateTransactionManager\" &gt;\n    &lt;property name=\"sessionFactory\" ref=\"sessionFactory\"/&gt;\n    &lt;property name=\"dataSource\" ref=\"dataSource\" /&gt;\n&lt;/bean&gt;\n\n&lt;context:annotation-config/&gt;\n\n&lt;context:component-scan base-package=\"webtrainings.beans\"/&gt;\n\n&lt;tx:annotation-driven transaction-manager=\"transactionManager\" /&gt;\n</code></pre>\n\n<p>GenericDAO.java:</p>\n\n<pre><code>@Repository(\"genericDao\")\n@Scope(value = \"singleton\")\npublic class GenericDAO&lt;T&gt; {\n\n    @Autowired\n    private SessionFactory sessionFactory;\n\n    @Autowired\n    private ApplicationContext appContext;\n\n    public void getAll(Class&lt;T&gt; clazz) {\n        factory.getCurrentSession();\n    }\n}\n</code></pre>\n\n<p>MyService.java:</p>\n\n<pre><code>@Service(\"myService\")\n@Transactional\npublic class MyService {\n\n    @Autowired\n    GenericDAO genericDAO;\n\n    @Transactional\n    public void hehe() {\n        genericDAO.getAll(Training.class);\n    }\n}\n</code></pre>\n\n<p>HelloController.java:</p>\n\n<pre><code>@Controller\n@RequestMapping(value = \"/welcome\")\npublic class HelloController {\n\n    @Autowired\n    MyService myService;\n\n    @Autowired\n    ApplicationContext applicationContext;\n\n    @RequestMapping(method = RequestMethod.GET)\n    public ModelAndView handleRequestInternal(HttpServletRequest request,\n                                              HttpServletResponse response) throws Exception {\n        ModelAndView model = new ModelAndView(\"hello\");\n        model.addObject(\"msg\", \"hello world\");\n        myService.hehe();\n\n        return model;\n    }\n}\n</code></pre>\n\n<p>spring-servlet.xml (mvc):</p>\n\n<pre><code>&lt;context:component-scan base-package=\"webtrainings.utils\"/&gt;\n\n&lt;bean id=\"viewResolver\"\n          class=\"org.springframework.web.servlet.view.InternalResourceViewResolver\" &gt;\n        &lt;property name=\"prefix\"&gt;\n            &lt;value&gt;/WEB-INF/jsp/&lt;/value&gt;\n        &lt;/property&gt;\n        &lt;property name=\"suffix\"&gt;\n            &lt;value&gt;.jsp&lt;/value&gt;\n        &lt;/property&gt;\n&lt;/bean&gt;\n</code></pre>\n\n<p>Stacktrace:</p>\n\n<pre><code>javax.persistence.TransactionRequiredException: no transaction is in progress\n    org.hibernate.internal.SessionImpl.checkTransactionNeeded(SessionImpl.java:3430)\n    org.hibernate.internal.SessionImpl.doFlush(SessionImpl.java:1397)\n    org.hibernate.internal.SessionImpl.flush(SessionImpl.java:1393)\n    org.springframework.orm.hibernate5.SessionFactoryUtils.flush(SessionFactoryUtils.java:144)\n    org.springframework.orm.hibernate5.SpringSessionSynchronization.beforeCommit(SpringSessionSynchronization.java:95)\n    org.springframework.transaction.support.TransactionSynchronizationUtils.triggerBeforeCommit(TransactionSynchronizationUtils.java:95)\n    org.springframework.transaction.support.AbstractPlatformTransactionManager.triggerBeforeCommit(AbstractPlatformTransactionManager.java:932)\n    org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:744)\n    org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:730)\n    org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:487)\n    org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:291)\n    org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96)\n    org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\n    org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:655)\n    webtrainings.beans.MyService$$EnhancerBySpringCGLIB$$3fca725c.hehe(&lt;generated&gt;)\n    webtrainings.utils.HelloController.handleRequestInternal(HelloController.java:32)\n    sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    java.lang.reflect.Method.invoke(Method.java:498)\n    org.springframework.web.bind.annotation.support.HandlerMethodInvoker.invokeHandlerMethod(HandlerMethodInvoker.java:180)\n    org.springframework.web.servlet.mvc.annotation.AnnotationMethodHandlerAdapter.invokeHandlerMethod(AnnotationMethodHandlerAdapter.java:440)\n    org.springframework.web.servlet.mvc.annotation.AnnotationMethodHandlerAdapter.handle(AnnotationMethodHandlerAdapter.java:428)\n    org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:963)\n    org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:897)\n    org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970)\n    org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:861)\n    javax.servlet.http.HttpServlet.service(HttpServlet.java:622)\n    org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846)\n    javax.servlet.http.HttpServlet.service(HttpServlet.java:729)\n    org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)\n</code></pre>\n"},{"tags":["java","soap","axis","wss4j"],"comments":[{"owner":{"account_id":1795625,"reputation":1575,"user_id":1635072,"accept_rate":70,"display_name":"Don Srinath"},"score":0,"creation_date":1403582436,"post_id":14219542,"comment_id":37701133,"body_markdown":"Have you tired with Apache cxf, it works for me as expected.","body":"Have you tired with Apache cxf, it works for me as expected."}],"answers":[{"tags":[],"owner":{"account_id":2523586,"reputation":11,"user_id":3218547,"display_name":"user3218547"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1496718767,"creation_date":1496717364,"answer_id":44380623,"question_id":14219542,"body_markdown":"Try this:\r\n\r\n\tWsuIdAllocator idAllocator = new WsuIdAllocator() {\r\n\t\tpublic String createId(String prefix, Object o) {\r\n\t\t\treturn &quot;SecurityToken-&quot; + UUIDGenerator.getUUID();\r\n\t\t}\r\n\r\n\t\tpublic String createSecureId(String prefix, Object o) {\r\n\t\t\treturn &quot;SecurityToken-&quot; + UUIDGenerator.getUUID();\r\n\t\t}\r\n\t};\r\n\t\r\n\tWSSecUsernameToken utBuilder = new WSSecUsernameToken();\r\n\tWSSConfig wsConfig = new WSSConfig();\r\n\twsConfig.setIdAllocator(idAllocator);\r\n\t\r\n\tutBuilder.setWsConfig(wsConfig);\r\n\tutBuilder.setPasswordType( WSConstants.PASSWORD_TEXT );\r\n\tutBuilder.setUserInfo( &quot;stan&quot;, &quot;secrit&quot; );\r\n","title":"UsernameToken with attribute wsu:Id=&quot;SecurityToken-...&quot;","body":"<p>Try this:</p>\n\n<pre><code>WsuIdAllocator idAllocator = new WsuIdAllocator() {\n    public String createId(String prefix, Object o) {\n        return \"SecurityToken-\" + UUIDGenerator.getUUID();\n    }\n\n    public String createSecureId(String prefix, Object o) {\n        return \"SecurityToken-\" + UUIDGenerator.getUUID();\n    }\n};\n\nWSSecUsernameToken utBuilder = new WSSecUsernameToken();\nWSSConfig wsConfig = new WSSConfig();\nwsConfig.setIdAllocator(idAllocator);\n\nutBuilder.setWsConfig(wsConfig);\nutBuilder.setPasswordType( WSConstants.PASSWORD_TEXT );\nutBuilder.setUserInfo( \"stan\", \"secrit\" );\n</code></pre>\n"}],"owner":{"account_id":146250,"reputation":186,"user_id":356587,"display_name":"Bjarni S&#230;varsson"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8592,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1690131710,"creation_date":1357662345,"question_id":14219542,"body_markdown":"I am using WSS4J 1.6 and Axis 1.4.\r\n\r\nI am creating the UsernameToken using org.apache.ws.security.message.WSSecUsernameToken.\r\n\r\nWhat I do not understand is the **wsu:Id** attribute.\r\nAccording to the web service specs it has to be in the form of *&quot;SecurityToken-24ada6f8-4626-4269-b786-a22361bfde78&quot;*.  \r\n\r\nNo matter what I do the **wsu:Id** attribute contains &quot;UsernameToken-123&quot; but, according to the web service specs it has to be on the form &quot;SecurityToken-24ada6f8-4626-4269-b786-a22361bfde78&quot;.\r\n\r\nI have absolutely no idea how to achieve this and Google has run dry.  \r\nSo, can anyone tell me what I need to do?\r\n\r\nThe UsernameToken xml as it comes is now.\r\n&lt;!-- language: lang-xml --&gt;\r\n\r\n    &lt;wsse:UsernameToken wsu:Id=&quot;UsernameToken-133&quot;\r\n         xmlns:wsse=&quot;http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd&quot;\r\n         xmlns:wsu=&quot;http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd&quot;&gt;\r\n        &lt;wsse:Username&gt;stan&lt;/wsse:Username&gt;\r\n        &lt;wsse:Password Type=&quot;http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-username-token-profile-1.0#PasswordText&quot;&gt;secrit&lt;/wsse:Password&gt;\r\n      &lt;/wsse:UsernameToken&gt;\r\n\r\nThe UsernameToken xml as I want it to come out.\r\n&lt;!-- language: lang-xml --&gt;\r\n\r\n    &lt;wsse:UsernameToken wsu:Id=&quot;SecurityToken-24ada6f8-4626-4269-b786-a22361bfde78&quot;\r\n         xmlns:wsse=&quot;http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd&quot;\r\n         xmlns:wsu=&quot;http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd&quot;&gt;\r\n        &lt;wsse:Username&gt;stan&lt;/wsse:Username&gt;\r\n        &lt;wsse:Password Type=&quot;http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-username-token-profile-1.0#PasswordText&quot;&gt;secrit&lt;/wsse:Password&gt;\r\n      &lt;/wsse:UsernameToken&gt;\r\n\r\nHere is the code I use to create the soap message.\r\n\r\n    public String soapTest() throws Exception {\r\n\t\tMessageFactoryImpl messageFactory = new MessageFactoryImpl();\r\n\t\tSOAPMessage soapMessage = null;\r\n\t\tsoapMessage = messageFactory.createMessage();\r\n\t\tMessage message = (Message)soapMessage;\r\n\t\tSOAPEnvelope unsignedEnvelope = message.getSOAPEnvelope();\r\n\t\tunsignedEnvelope.addNamespaceDeclaration( &quot;xsd&quot;, &quot;http://www.w3.org/2001/XMLSchema&quot; );\r\n\t\tunsignedEnvelope.addNamespaceDeclaration( &quot;xsi&quot;, &quot;http://www.w3.org/2001/XMLSchema-instance&quot; );\r\n\t\tunsignedEnvelope.addNamespaceDeclaration( &quot;enc&quot;, &quot;http://schemas.xmlsoap.org/soap/encoding/&quot; );\r\n\t\tunsignedEnvelope.addNamespaceDeclaration( &quot;env&quot;, &quot;http://schemas.xmlsoap.org/soap/envelop/&quot; );\r\n\t\tunsignedEnvelope.addNamespaceDeclaration( &quot;wsa&quot;, &quot;http://schemas.xmlsoap.org/ws/2004/03/addressing&quot; );\r\n\t\tunsignedEnvelope.addNamespaceDeclaration( &quot;wsse&quot;, &quot;http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd&quot; );\r\n\t\tunsignedEnvelope.addNamespaceDeclaration( &quot;wsu&quot;, &quot;http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd&quot; );\r\n\t\tunsignedEnvelope.addNamespaceDeclaration( &quot;ws&quot;, &quot;http://ws.stupidsoap.com&quot; );\r\n\r\n\t\tSOAPBody soapMsgBody = (SOAPBody)soapMessage.getSOAPBody();\r\n\t\torg.apache.axis.message.SOAPEnvelope soapMsgEnvelope = ((Message)soapMessage).getSOAPEnvelope();\r\n\r\n\t\tSOAPBodyElement be = (SOAPBodyElement)soapMsgBody.addChildElement( soapMsgEnvelope.createName( &quot;addTwoNumbers&quot;, &quot;&quot;, &quot;http://ws.stupidsoap.com&quot; ) );\r\n\t\tbe.addChildElement( &quot;number1&quot; ).addTextNode( &quot;5&quot; );\r\n\t\tbe.addChildElement( &quot;number2&quot; ).addTextNode( &quot;10&quot; );\r\n\r\n\t\torg.w3c.dom.Document doc = (org.w3c.dom.Document)soapMsgEnvelope.getAsDocument();\r\n\t\tWSSecHeader secHeader = new WSSecHeader();\r\n\t\tsecHeader.insertSecurityHeader( doc );\r\n\r\n\t\tWSSecUsernameToken utBuilder = new WSSecUsernameToken();\r\n\t\tutBuilder.setPasswordType( WSConstants.PASSWORD_TEXT );\r\n\t\tutBuilder.setUserInfo( &quot;stan&quot;, &quot;secrit&quot; );\r\n\t\tutBuilder.addNonce();\r\n\t\tutBuilder.addCreated();\r\n\t\tutBuilder.build( doc, secHeader );\r\n\r\n\t\treturn org.apache.ws.security.util.XMLUtils.PrettyDocumentToString( doc );\r\n\t}","title":"UsernameToken with attribute wsu:Id=&quot;SecurityToken-...&quot;","body":"<p>I am using WSS4J 1.6 and Axis 1.4.</p>\n\n<p>I am creating the UsernameToken using org.apache.ws.security.message.WSSecUsernameToken.</p>\n\n<p>What I do not understand is the <strong>wsu:Id</strong> attribute.\nAccording to the web service specs it has to be in the form of <em>\"SecurityToken-24ada6f8-4626-4269-b786-a22361bfde78\"</em>.  </p>\n\n<p>No matter what I do the <strong>wsu:Id</strong> attribute contains \"UsernameToken-123\" but, according to the web service specs it has to be on the form \"SecurityToken-24ada6f8-4626-4269-b786-a22361bfde78\".</p>\n\n<p>I have absolutely no idea how to achieve this and Google has run dry.<br>\nSo, can anyone tell me what I need to do?</p>\n\n<p>The UsernameToken xml as it comes is now.\n</p>\n\n<pre><code>&lt;wsse:UsernameToken wsu:Id=\"UsernameToken-133\"\n     xmlns:wsse=\"http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd\"\n     xmlns:wsu=\"http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd\"&gt;\n    &lt;wsse:Username&gt;stan&lt;/wsse:Username&gt;\n    &lt;wsse:Password Type=\"http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-username-token-profile-1.0#PasswordText\"&gt;secrit&lt;/wsse:Password&gt;\n  &lt;/wsse:UsernameToken&gt;\n</code></pre>\n\n<p>The UsernameToken xml as I want it to come out.\n</p>\n\n<pre><code>&lt;wsse:UsernameToken wsu:Id=\"SecurityToken-24ada6f8-4626-4269-b786-a22361bfde78\"\n     xmlns:wsse=\"http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd\"\n     xmlns:wsu=\"http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd\"&gt;\n    &lt;wsse:Username&gt;stan&lt;/wsse:Username&gt;\n    &lt;wsse:Password Type=\"http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-username-token-profile-1.0#PasswordText\"&gt;secrit&lt;/wsse:Password&gt;\n  &lt;/wsse:UsernameToken&gt;\n</code></pre>\n\n<p>Here is the code I use to create the soap message.</p>\n\n<pre><code>public String soapTest() throws Exception {\n    MessageFactoryImpl messageFactory = new MessageFactoryImpl();\n    SOAPMessage soapMessage = null;\n    soapMessage = messageFactory.createMessage();\n    Message message = (Message)soapMessage;\n    SOAPEnvelope unsignedEnvelope = message.getSOAPEnvelope();\n    unsignedEnvelope.addNamespaceDeclaration( \"xsd\", \"http://www.w3.org/2001/XMLSchema\" );\n    unsignedEnvelope.addNamespaceDeclaration( \"xsi\", \"http://www.w3.org/2001/XMLSchema-instance\" );\n    unsignedEnvelope.addNamespaceDeclaration( \"enc\", \"http://schemas.xmlsoap.org/soap/encoding/\" );\n    unsignedEnvelope.addNamespaceDeclaration( \"env\", \"http://schemas.xmlsoap.org/soap/envelop/\" );\n    unsignedEnvelope.addNamespaceDeclaration( \"wsa\", \"http://schemas.xmlsoap.org/ws/2004/03/addressing\" );\n    unsignedEnvelope.addNamespaceDeclaration( \"wsse\", \"http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd\" );\n    unsignedEnvelope.addNamespaceDeclaration( \"wsu\", \"http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd\" );\n    unsignedEnvelope.addNamespaceDeclaration( \"ws\", \"http://ws.stupidsoap.com\" );\n\n    SOAPBody soapMsgBody = (SOAPBody)soapMessage.getSOAPBody();\n    org.apache.axis.message.SOAPEnvelope soapMsgEnvelope = ((Message)soapMessage).getSOAPEnvelope();\n\n    SOAPBodyElement be = (SOAPBodyElement)soapMsgBody.addChildElement( soapMsgEnvelope.createName( \"addTwoNumbers\", \"\", \"http://ws.stupidsoap.com\" ) );\n    be.addChildElement( \"number1\" ).addTextNode( \"5\" );\n    be.addChildElement( \"number2\" ).addTextNode( \"10\" );\n\n    org.w3c.dom.Document doc = (org.w3c.dom.Document)soapMsgEnvelope.getAsDocument();\n    WSSecHeader secHeader = new WSSecHeader();\n    secHeader.insertSecurityHeader( doc );\n\n    WSSecUsernameToken utBuilder = new WSSecUsernameToken();\n    utBuilder.setPasswordType( WSConstants.PASSWORD_TEXT );\n    utBuilder.setUserInfo( \"stan\", \"secrit\" );\n    utBuilder.addNonce();\n    utBuilder.addCreated();\n    utBuilder.build( doc, secHeader );\n\n    return org.apache.ws.security.util.XMLUtils.PrettyDocumentToString( doc );\n}\n</code></pre>\n"},{"tags":["java","quarkus-oidc","qarkus"],"owner":{"account_id":3615835,"reputation":1759,"user_id":3015723,"accept_rate":100,"display_name":"Snappawapa"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690131509,"creation_date":1690131509,"question_id":76749396,"body_markdown":"I am working on setting up OIDC on my app, which has both regular REST endpoints, and UI ones. I want to setup the OIDC auth flow for the UI endpoints, and a simpler 401 situation for the other REST endpoints. \r\n\r\nI noticed that `quarkus.oidc.application-type` has the `hybrid` value, but having a hard time determining how to use this correctly, or what annotations would be appropriate in the different cases. Is my use case what `hybrid` is made for?\r\n\r\nI noticed there is `@Authenticated`, `@OAuthFlow(s)`, `@OAuthScope`, but it isn&#39;t clear how these fit together.\r\n","title":"Quarkus OIDC- Hybrid application type. How to specify type at endpoint level","body":"<p>I am working on setting up OIDC on my app, which has both regular REST endpoints, and UI ones. I want to setup the OIDC auth flow for the UI endpoints, and a simpler 401 situation for the other REST endpoints.</p>\n<p>I noticed that <code>quarkus.oidc.application-type</code> has the <code>hybrid</code> value, but having a hard time determining how to use this correctly, or what annotations would be appropriate in the different cases. Is my use case what <code>hybrid</code> is made for?</p>\n<p>I noticed there is <code>@Authenticated</code>, <code>@OAuthFlow(s)</code>, <code>@OAuthScope</code>, but it isn't clear how these fit together.</p>\n"},{"tags":["java","macos","swing","look-and-feel"],"comments":[{"owner":{"account_id":485731,"reputation":5563,"user_id":902217,"accept_rate":86,"display_name":"CAMOBAP"},"score":1,"creation_date":1354984575,"post_id":13777067,"comment_id":18946810,"body_markdown":"http://weblogs.java.net/blog/lordy/archive/2006/08/mustang_and_mac.html - samples","body":"<a href=\"http://weblogs.java.net/blog/lordy/archive/2006/08/mustang_and_mac.html\" rel=\"nofollow noreferrer\">weblogs.java.net/blog/lordy/archive/2006/08/&hellip;</a> - samples"}],"answers":[{"comments":[{"owner":{"account_id":1818352,"reputation":448,"user_id":1652984,"accept_rate":0,"display_name":"Alan Snyder"},"score":1,"creation_date":1690120747,"post_id":13779287,"comment_id":135305963,"body_markdown":"The system property &quot;apple.awt.documentModalSheet&quot; is mis-named. What it creates is a document-modal utility pane.","body":"The system property &quot;apple.awt.documentModalSheet&quot; is mis-named. What it creates is a document-modal utility pane."}],"tags":[],"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1355074039,"creation_date":1354983468,"answer_id":13779287,"question_id":13777067,"body_markdown":"I haven&#39;t tried it, but [*Java on OS X v10.5 Update 1*][1] says, &quot;*Document Modal Sheets* can be created by setting the the `apple.awt.documentModalSheet` client property to `Boolean.TRUE` on the `JRootPane` of `JDialog`.&quot; I&#39;m guessing something like this:\r\n\r\n    rootPanel.putClientProperty(&quot;apple.awt.documentModalSheet&quot;, Boolean.TRUE);\r\n\r\nYou might also see if [*Mac Widgets for Java*][2] has added anything recently.\r\n\r\n  [1]: https://developer.apple.com/library/mac/#releasenotes/Java/JavaLeopardUpdate1RN/Introduction/Introduction.html\r\n  [2]: http://code.google.com/p/macwidgets/","title":"Swing - Native look-and-feel for JDialog in MacOS","body":"<p>I haven't tried it, but <a href=\"https://developer.apple.com/library/mac/#releasenotes/Java/JavaLeopardUpdate1RN/Introduction/Introduction.html\" rel=\"nofollow\"><em>Java on OS X v10.5 Update 1</em></a> says, \"<em>Document Modal Sheets</em> can be created by setting the the <code>apple.awt.documentModalSheet</code> client property to <code>Boolean.TRUE</code> on the <code>JRootPane</code> of <code>JDialog</code>.\" I'm guessing something like this:</p>\n\n<pre><code>rootPanel.putClientProperty(\"apple.awt.documentModalSheet\", Boolean.TRUE);\n</code></pre>\n\n<p>You might also see if <a href=\"http://code.google.com/p/macwidgets/\" rel=\"nofollow\"><em>Mac Widgets for Java</em></a> has added anything recently.</p>\n"},{"tags":[],"owner":{"account_id":1818352,"reputation":448,"user_id":1652984,"accept_rate":0,"display_name":"Alan Snyder"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1690130916,"creation_date":1690121398,"answer_id":76748659,"question_id":13777067,"body_markdown":"I am the author of a Swing look and feel called [VAqua][1], which supports displaying windows as native sheets using an associated client library.\r\n\r\nFor example:\r\n\r\n        JFrame owner = ...;\r\n        JWindow w = new JWindow(owner);\r\n        try {\r\n            VSheet.displayAsSheet(w, null);\r\n        } catch (UnsupportedOperationException ex) {\r\n            ...\r\n        }\r\n\r\nDetails [here][2].\r\n\r\n\r\n  [1]: https://violetlib.org/vaqua/clientlibrary.html\r\n  [2]: https://violetlib.org/vaqua/sheets.html","title":"Swing - Native look-and-feel for JDialog in MacOS","body":"<p>I am the author of a Swing look and feel called <a href=\"https://violetlib.org/vaqua/clientlibrary.html\" rel=\"nofollow noreferrer\">VAqua</a>, which supports displaying windows as native sheets using an associated client library.</p>\n<p>For example:</p>\n<pre><code>    JFrame owner = ...;\n    JWindow w = new JWindow(owner);\n    try {\n        VSheet.displayAsSheet(w, null);\n    } catch (UnsupportedOperationException ex) {\n        ...\n    }\n</code></pre>\n<p>Details <a href=\"https://violetlib.org/vaqua/sheets.html\" rel=\"nofollow noreferrer\">here</a>.</p>\n"}],"owner":{"account_id":485731,"reputation":5563,"user_id":902217,"accept_rate":86,"display_name":"CAMOBAP"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1577,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":13779287,"answer_count":2,"score":1,"last_activity_date":1690130916,"creation_date":1354966467,"question_id":13777067,"body_markdown":"Does `Swing` support native dialog like below:\r\n![enter image description here][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/wQWrS.png\r\n\r\nOr maybe exists some third party&#39;s `JNI` library? ","title":"Swing - Native look-and-feel for JDialog in MacOS","body":"<p>Does <code>Swing</code> support native dialog like below:\n<img src=\"https://i.stack.imgur.com/wQWrS.png\" alt=\"enter image description here\"></p>\n\n<p>Or maybe exists some third party's <code>JNI</code> library? </p>\n"},{"tags":["java","arrays","multidimensional-array"],"answers":[{"tags":[],"owner":{"account_id":5941380,"reputation":4127,"user_id":4672460,"accept_rate":100,"display_name":"Selaka Nanayakkara"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1690114777,"creation_date":1690112736,"answer_id":76748047,"question_id":76747554,"body_markdown":"**Here is full java based solution:** \r\n\r\n\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n\r\n    class ArrayOperations {\r\n\r\n         public static void main(String[] args) {\r\n            int[][] multiDimensionalArray1 = {\r\n                {1, 2, 3},\r\n                {4, 5, 6},\r\n                {7, 8, 9}\r\n            };\r\n            \r\n            int[][] multiDimensionalArray2 = {\r\n                {1, 2},\r\n                {4, 5}\r\n            };\r\n    \r\n            int[][] multiDimensionalArray3 = {\r\n                {1}\r\n            };\r\n            \r\n            \r\n            \r\n            int[][] transformedArray1 = transformToMultiDimensionalArray(multiDimensionalArray1, 2);\r\n            int[][] transformedArray2 = transformToMultiDimensionalArray(multiDimensionalArray2, 2);\r\n            int[][] transformedArray3 = transformToMultiDimensionalArray(multiDimensionalArray3, 2);\r\n       \r\n            for (int[] subarray : transformedArray1) {\r\n                for (int element : subarray) {\r\n                    System.out.print(element + &quot; &quot;);\r\n                }\r\n                System.out.println();\r\n            }\r\n            \r\n         \r\n            System.out.println(&quot;------------------------------------&quot;);\r\n            \r\n            for (int[] subarray : transformedArray2) {\r\n                for (int element : subarray) {\r\n                    System.out.print(element + &quot; &quot;);\r\n                }\r\n                System.out.println();\r\n            }\r\n            \r\n    \r\n            System.out.println(&quot;------------------------------------&quot;);\r\n            \r\n            for (int[] subarray : transformedArray3) {\r\n                for (int element : subarray) {\r\n                    System.out.print(element + &quot; &quot;);\r\n                }\r\n                System.out.println();\r\n            }\r\n        }\r\n    \r\n        public static int[][] transformToMultiDimensionalArray(int[][] matrix, int elementsPerSubarray) {\r\n            int rows = matrix.length;\r\n            int cols = matrix[0].length;\r\n    \r\n            if (rows == 1 &amp;&amp; cols == 1) {\r\n                return new int[][]{{matrix[0][0]}};\r\n            }\r\n    \r\n            List&lt;Integer&gt; corners = new ArrayList&lt;&gt;();\r\n    \r\n            for (int row = 0; row &lt; rows; row++) {\r\n                for (int col = 0; col &lt; cols; col++) {\r\n                    if (row == 0 &amp;&amp; col == 0) {\r\n                        corners.add(matrix[row][col]); // first element first row\r\n                    } else if (row == 0 &amp;&amp; col == cols - 1) {\r\n                        corners.add(matrix[row][col]); // last element first row\r\n                    } else if (row == rows - 1 &amp;&amp; col == 0) {\r\n                        corners.add(matrix[row][col]); // first element last row\r\n                    } else if (row == rows - 1 &amp;&amp; col == cols - 1) {\r\n                        corners.add(matrix[row][col]); // last element last row\r\n                    }\r\n                }\r\n            }\r\n    \r\n            int[][] multiDimensionalArray = new int[corners.size() / elementsPerSubarray][elementsPerSubarray];\r\n            for (int i = 0; i &lt; corners.size(); i++) {\r\n                int row = i / elementsPerSubarray;\r\n                int col = i % elementsPerSubarray;\r\n                multiDimensionalArray[row][col] = corners.get(i);\r\n            }\r\n    \r\n            return multiDimensionalArray;\r\n        }\r\n    }\r\n\r\n\r\n\r\n\r\n**This is not from Java. I&#39;ve used javascript. For presentational purposes, I&#39;ve adopted javascript based answer for this. But logic remains the same as above java solution.**\r\n\r\nRefer the code below:\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    function printCornerElements(matrix, elementsPerSubarray) {\r\n      let rows = matrix.length;\r\n      let cols = matrix[0].length;\r\n\r\n      if (rows === 1 &amp;&amp; cols === 1) { \r\n        return [matrix[0][0]];\r\n      }\r\n\r\n      let corners = [];\r\n\r\n      for (let row = 0; row &lt; rows; row++) {\r\n        for (let col = 0; col &lt; cols; col++) {\r\n          if (row === 0 &amp;&amp; col === 0) {\r\n            corners.push(matrix[row][col]); // first element first row\r\n          } else if (row === 0 &amp;&amp; col === cols - 1) {\r\n            corners.push(matrix[row][col]); // last element first row\r\n          } else if (row === rows - 1 &amp;&amp; col === 0) {\r\n            corners.push(matrix[row][col]); // first element last row\r\n          } else if (row === rows - 1 &amp;&amp; col === cols - 1) {\r\n            corners.push(matrix[row][col]); // last element last row\r\n          }\r\n        }\r\n      }\r\n      \r\n      let multiDimensionalArray = [];\r\n      for (let i = 0; i &lt; corners.length; i += elementsPerSubarray) {\r\n        let subarray = corners.slice(i, i + elementsPerSubarray);\r\n        multiDimensionalArray.push(subarray);\r\n      }\r\n\r\n      return multiDimensionalArray;\r\n    }\r\n\r\n    const multiDimensionalArray1 = [\r\n      [1, 2,3],\r\n      [4, 5,6],\r\n      [7, 8,9],\r\n\r\n    ];\r\n\r\n    const multiDimensionalArray2 = [\r\n      [1, 2],\r\n      [4, 5],\r\n\r\n    ];\r\n\r\n    const multiDimensionalArray3 = [\r\n      [1]\r\n    ];\r\n\r\n    console.log(JSON.stringify(printCornerElements(multiDimensionalArray1,2)));\r\n    console.log(JSON.stringify(printCornerElements(multiDimensionalArray2,2)));\r\n    console.log(JSON.stringify(printCornerElements(multiDimensionalArray3,2)));\r\n\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"Multidimensional array - dimmension of input array","body":"<p><strong>Here is full java based solution:</strong></p>\n<pre><code>import java.util.ArrayList;\nimport java.util.List;\n\nclass ArrayOperations {\n\n     public static void main(String[] args) {\n        int[][] multiDimensionalArray1 = {\n            {1, 2, 3},\n            {4, 5, 6},\n            {7, 8, 9}\n        };\n        \n        int[][] multiDimensionalArray2 = {\n            {1, 2},\n            {4, 5}\n        };\n\n        int[][] multiDimensionalArray3 = {\n            {1}\n        };\n        \n        \n        \n        int[][] transformedArray1 = transformToMultiDimensionalArray(multiDimensionalArray1, 2);\n        int[][] transformedArray2 = transformToMultiDimensionalArray(multiDimensionalArray2, 2);\n        int[][] transformedArray3 = transformToMultiDimensionalArray(multiDimensionalArray3, 2);\n   \n        for (int[] subarray : transformedArray1) {\n            for (int element : subarray) {\n                System.out.print(element + &quot; &quot;);\n            }\n            System.out.println();\n        }\n        \n     \n        System.out.println(&quot;------------------------------------&quot;);\n        \n        for (int[] subarray : transformedArray2) {\n            for (int element : subarray) {\n                System.out.print(element + &quot; &quot;);\n            }\n            System.out.println();\n        }\n        \n\n        System.out.println(&quot;------------------------------------&quot;);\n        \n        for (int[] subarray : transformedArray3) {\n            for (int element : subarray) {\n                System.out.print(element + &quot; &quot;);\n            }\n            System.out.println();\n        }\n    }\n\n    public static int[][] transformToMultiDimensionalArray(int[][] matrix, int elementsPerSubarray) {\n        int rows = matrix.length;\n        int cols = matrix[0].length;\n\n        if (rows == 1 &amp;&amp; cols == 1) {\n            return new int[][]{{matrix[0][0]}};\n        }\n\n        List&lt;Integer&gt; corners = new ArrayList&lt;&gt;();\n\n        for (int row = 0; row &lt; rows; row++) {\n            for (int col = 0; col &lt; cols; col++) {\n                if (row == 0 &amp;&amp; col == 0) {\n                    corners.add(matrix[row][col]); // first element first row\n                } else if (row == 0 &amp;&amp; col == cols - 1) {\n                    corners.add(matrix[row][col]); // last element first row\n                } else if (row == rows - 1 &amp;&amp; col == 0) {\n                    corners.add(matrix[row][col]); // first element last row\n                } else if (row == rows - 1 &amp;&amp; col == cols - 1) {\n                    corners.add(matrix[row][col]); // last element last row\n                }\n            }\n        }\n\n        int[][] multiDimensionalArray = new int[corners.size() / elementsPerSubarray][elementsPerSubarray];\n        for (int i = 0; i &lt; corners.size(); i++) {\n            int row = i / elementsPerSubarray;\n            int col = i % elementsPerSubarray;\n            multiDimensionalArray[row][col] = corners.get(i);\n        }\n\n        return multiDimensionalArray;\n    }\n}\n</code></pre>\n<p><strong>This is not from Java. I've used javascript. For presentational purposes, I've adopted javascript based answer for this. But logic remains the same as above java solution.</strong></p>\n<p>Refer the code below:</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function printCornerElements(matrix, elementsPerSubarray) {\n  let rows = matrix.length;\n  let cols = matrix[0].length;\n\n  if (rows === 1 &amp;&amp; cols === 1) { \n    return [matrix[0][0]];\n  }\n\n  let corners = [];\n\n  for (let row = 0; row &lt; rows; row++) {\n    for (let col = 0; col &lt; cols; col++) {\n      if (row === 0 &amp;&amp; col === 0) {\n        corners.push(matrix[row][col]); // first element first row\n      } else if (row === 0 &amp;&amp; col === cols - 1) {\n        corners.push(matrix[row][col]); // last element first row\n      } else if (row === rows - 1 &amp;&amp; col === 0) {\n        corners.push(matrix[row][col]); // first element last row\n      } else if (row === rows - 1 &amp;&amp; col === cols - 1) {\n        corners.push(matrix[row][col]); // last element last row\n      }\n    }\n  }\n  \n  let multiDimensionalArray = [];\n  for (let i = 0; i &lt; corners.length; i += elementsPerSubarray) {\n    let subarray = corners.slice(i, i + elementsPerSubarray);\n    multiDimensionalArray.push(subarray);\n  }\n\n  return multiDimensionalArray;\n}\n\nconst multiDimensionalArray1 = [\n  [1, 2,3],\n  [4, 5,6],\n  [7, 8,9],\n\n];\n\nconst multiDimensionalArray2 = [\n  [1, 2],\n  [4, 5],\n\n];\n\nconst multiDimensionalArray3 = [\n  [1]\n];\n\nconsole.log(JSON.stringify(printCornerElements(multiDimensionalArray1,2)));\nconsole.log(JSON.stringify(printCornerElements(multiDimensionalArray2,2)));\nconsole.log(JSON.stringify(printCornerElements(multiDimensionalArray3,2)));</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"},{"comments":[{"owner":{"account_id":25716889,"reputation":13,"user_id":19474511,"display_name":"Krystian Kowalczyk"},"score":0,"creation_date":1690136655,"post_id":76748236,"comment_id":135308053,"body_markdown":"Your&#39;re right, I did more complex solution, than it&#39;s actually needed. Anyway thank you for the input. Everything is right to the point!","body":"Your&#39;re right, I did more complex solution, than it&#39;s actually needed. Anyway thank you for the input. Everything is right to the point!"}],"tags":[],"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1690115355,"creation_date":1690115355,"answer_id":76748236,"question_id":76747554,"body_markdown":"You seem to be making this more complicated than it needs to be. The indexes of the corner elements can easily be determined as follows:\r\n- top left = 0, 0\r\n- top right = 0, length of row minus one\r\n- bottom left = number of rows minus one, 0\r\n- bottom right = number of rows minus one, length of row minus one\r\n```java\r\npublic class ArrayOperations {\r\n    public static void printCorners(int[][] twoDimArray) {\r\n        int n = 2;\r\n        int[][] myTable = new int[n][n];\r\n        myTable[0][0] = twoDimArray[0][0];\r\n        myTable[0][1] = twoDimArray[0][twoDimArray[0].length - 1];\r\n        myTable[1][0] = twoDimArray[twoDimArray.length - 1][0];\r\n        myTable[1][1] = twoDimArray[twoDimArray.length - 1][twoDimArray[0].length - 1];\r\n        for (int row = 0; row &lt; 2; row++) {\r\n            for (int col = 0; col &lt; 2; col++) {\r\n                System.out.print(myTable[row][col] + &quot; &quot;);\r\n            }\r\n            System.out.println();\r\n        }\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        printCorners(new int[][]{{1}, {2}, {3}});\r\n        System.out.println(&quot;====================================================================&quot;);\r\n        printCorners(new int[][]{{1, 0, 2},\r\n                                 {0, 0, 0},\r\n                                 {3, 0, 4}});\r\n    }\r\n}\r\n```\r\nRunning above code produces following output:\r\n```none\r\n1 1 \r\n3 3 \r\n====================================================================\r\n1 2 \r\n3 4\r\n```","title":"Multidimensional array - dimmension of input array","body":"<p>You seem to be making this more complicated than it needs to be. The indexes of the corner elements can easily be determined as follows:</p>\n<ul>\n<li>top left = 0, 0</li>\n<li>top right = 0, length of row minus one</li>\n<li>bottom left = number of rows minus one, 0</li>\n<li>bottom right = number of rows minus one, length of row minus one</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>public class ArrayOperations {\n    public static void printCorners(int[][] twoDimArray) {\n        int n = 2;\n        int[][] myTable = new int[n][n];\n        myTable[0][0] = twoDimArray[0][0];\n        myTable[0][1] = twoDimArray[0][twoDimArray[0].length - 1];\n        myTable[1][0] = twoDimArray[twoDimArray.length - 1][0];\n        myTable[1][1] = twoDimArray[twoDimArray.length - 1][twoDimArray[0].length - 1];\n        for (int row = 0; row &lt; 2; row++) {\n            for (int col = 0; col &lt; 2; col++) {\n                System.out.print(myTable[row][col] + &quot; &quot;);\n            }\n            System.out.println();\n        }\n    }\n\n    public static void main(String[] args) {\n        printCorners(new int[][]{{1}, {2}, {3}});\n        System.out.println(&quot;====================================================================&quot;);\n        printCorners(new int[][]{{1, 0, 2},\n                                 {0, 0, 0},\n                                 {3, 0, 4}});\n    }\n}\n</code></pre>\n<p>Running above code produces following output:</p>\n<pre class=\"lang-none prettyprint-override\"><code>1 1 \n3 3 \n====================================================================\n1 2 \n3 4\n</code></pre>\n"},{"comments":[{"owner":{"account_id":25716889,"reputation":13,"user_id":19474511,"display_name":"Krystian Kowalczyk"},"score":1,"creation_date":1690136575,"post_id":76749026,"comment_id":135308044,"body_markdown":"Thank you so much for your contribution!","body":"Thank you so much for your contribution!"}],"tags":[],"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690130732,"creation_date":1690125942,"answer_id":76749026,"question_id":76747554,"body_markdown":"&gt;You need to implement `printCorners` method. It should print all corner elements of the `twoDimArray` in the following order: left to right and top to bottom.\r\n\r\nSince all you are asked to do is print the arrays, there is no need to build a new array. Also evidenced by the method being declared void and does not permit the return of the created array.\r\n\r\n**Some test Data**\r\n```\r\nint[][] a1 = {{1},{2},{3}};\r\nint[][] a2 = {{1,2,3,4},{2,3,4,5},{4,5,6,7}};\r\nint[][] jagged = {{1},{2,3},{3,4},{5,6,7,7}};\r\n```\r\n**The Method**\r\n\r\nTo make it easy, define some positions\r\n- `lri` -  last row index\r\n- `lifr` - last index of first row\r\n- `lilr` - last index of last row\r\n```\r\npublic static void printCorners(int[][] arr) {\r\n    int lri = arr.length-1;\r\n    int lifr = arr[0].length-1;\r\n    int lilr = arr[lri].length-1;\r\n    System.out.printf(&quot;%d %d%n&quot;, arr[0][0],arr[0][lifr]);\r\n    System.out.printf(&quot;%d %d%n&quot;, arr[lri][0],arr[lri][lilr]);\r\n}\r\nprintCorners(a1);  System.out.println();\r\nprintCorners(a2);  System.out.println();\r\nprintCorners(jagged);  System.out.println();\r\n```\r\nprints\r\n```\r\n1 1\r\n3 3\r\n\r\n1 4\r\n4 7\r\n\r\n1 1\r\n5 7\r\n","title":"Multidimensional array - dimmension of input array","body":"<blockquote>\n<p>You need to implement <code>printCorners</code> method. It should print all corner elements of the <code>twoDimArray</code> in the following order: left to right and top to bottom.</p>\n</blockquote>\n<p>Since all you are asked to do is print the arrays, there is no need to build a new array. Also evidenced by the method being declared void and does not permit the return of the created array.</p>\n<p><strong>Some test Data</strong></p>\n<pre><code>int[][] a1 = {{1},{2},{3}};\nint[][] a2 = {{1,2,3,4},{2,3,4,5},{4,5,6,7}};\nint[][] jagged = {{1},{2,3},{3,4},{5,6,7,7}};\n</code></pre>\n<p><strong>The Method</strong></p>\n<p>To make it easy, define some positions</p>\n<ul>\n<li><code>lri</code> -  last row index</li>\n<li><code>lifr</code> - last index of first row</li>\n<li><code>lilr</code> - last index of last row</li>\n</ul>\n<pre><code>public static void printCorners(int[][] arr) {\n    int lri = arr.length-1;\n    int lifr = arr[0].length-1;\n    int lilr = arr[lri].length-1;\n    System.out.printf(&quot;%d %d%n&quot;, arr[0][0],arr[0][lifr]);\n    System.out.printf(&quot;%d %d%n&quot;, arr[lri][0],arr[lri][lilr]);\n}\nprintCorners(a1);  System.out.println();\nprintCorners(a2);  System.out.println();\nprintCorners(jagged);  System.out.println();\n</code></pre>\n<p>prints</p>\n<pre><code>1 1\n3 3\n\n1 4\n4 7\n\n1 1\n5 7\n</code></pre>\n"}],"owner":{"account_id":25716889,"reputation":13,"user_id":19474511,"display_name":"Krystian Kowalczyk"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":65,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":76748236,"answer_count":3,"score":0,"last_activity_date":1690130732,"creation_date":1690105287,"question_id":76747554,"body_markdown":"I am doing course in Hyperskill platform - Introduction to Java. I am facing with an error of compilation which is not described anywhere (**Failed test #6 of 8. Wrong answer**)\r\n\r\nWould you be able to look into my code and help me?\r\n\r\nPlease see the task description.\r\n\r\nYou need to implement `printCorners` method. It should print all corner elements of the `twoDimArray` in the following order: left to right and top to bottom.\r\n\r\nThe elements must be separated by space and printed as an example below.\r\n\r\nInput array:\r\n\r\n    1 0 2\r\n    0 0 0\r\n    3 0 4\r\n\r\nPrinted corners:\r\n\r\n    1 2\r\n    3 4\r\n\r\nNotice, that you must always print 4 corners, for example:\r\n\r\nInput array:\r\n\r\n    1\r\n    2\r\n    3\r\n\r\nPrinted corners:\r\n\r\n    1 1\r\n    3 3\r\n\r\ncode:\r\n```java\r\npublic class ArrayOperations {\r\n    public static void printCorners(int[][] twoDimArray) {\r\n        int n = 2;\r\n        int[][] myTable = new int[n][n];\r\n        int cols = twoDimArray[0].length;\r\n        if (cols == 1) {\r\n            for (int i = 0; i &lt; twoDimArray.length; i++) {\r\n                if (i == 0) {\r\n                    myTable[0][0] = twoDimArray[i][0];\r\n                    myTable[0][1] = twoDimArray[i][0];\r\n                    myTable[1][0] = twoDimArray[i][0];\r\n                    myTable[1][1] = twoDimArray[i][0];\r\n                }\r\n                else if (i &lt; twoDimArray.length - 1) {\r\n                    myTable[1][0] = twoDimArray[i][0];\r\n                    myTable[1][1] = twoDimArray[i][0];\r\n                }\r\n            }\r\n            System.out.println(myTable[0][0] + &quot; &quot; + myTable[0][0]);\r\n            System.out.println(myTable[1][0] + &quot; &quot; + myTable[1][1]);\r\n        }\r\n        else if (cols &gt; 1) {\r\n            for (int i = 0; i &lt; twoDimArray.length; i++) {\r\n                for (int j = 0; j &lt; twoDimArray[i].length; j++) {\r\n                    if (i == 0 &amp;&amp; j == 0) {\r\n                        myTable[0][0] = twoDimArray[i][j];\r\n                    }\r\n                    else if (i == 0 &amp;&amp; j == twoDimArray[i].length - 1) {\r\n                        myTable[0][1] = twoDimArray[i][j];\r\n                    }\r\n                    else if (i == twoDimArray.length - 1 &amp;&amp; j == 0) {\r\n                        myTable[1][0] = twoDimArray[i][j];\r\n                    }\r\n                    else if (i == twoDimArray.length - 1 &amp;&amp; j == twoDimArray[i].length - 1) {\r\n                        myTable[1][1] = twoDimArray[i][j];\r\n                    }\r\n                }\r\n            }\r\n            for (int i = 0; i &lt; myTable.length; i++) {\r\n                for (int j = 0; j &lt; myTable[i].length; j++) {\r\n                    System.out.print(myTable[i][j] + &quot; &quot;);\r\n                }\r\n                System.out.println();\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n","title":"Multidimensional array - dimmension of input array","body":"<p>I am doing course in Hyperskill platform - Introduction to Java. I am facing with an error of compilation which is not described anywhere (<strong>Failed test #6 of 8. Wrong answer</strong>)</p>\n<p>Would you be able to look into my code and help me?</p>\n<p>Please see the task description.</p>\n<p>You need to implement <code>printCorners</code> method. It should print all corner elements of the <code>twoDimArray</code> in the following order: left to right and top to bottom.</p>\n<p>The elements must be separated by space and printed as an example below.</p>\n<p>Input array:</p>\n<pre><code>1 0 2\n0 0 0\n3 0 4\n</code></pre>\n<p>Printed corners:</p>\n<pre><code>1 2\n3 4\n</code></pre>\n<p>Notice, that you must always print 4 corners, for example:</p>\n<p>Input array:</p>\n<pre><code>1\n2\n3\n</code></pre>\n<p>Printed corners:</p>\n<pre><code>1 1\n3 3\n</code></pre>\n<p>code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class ArrayOperations {\n    public static void printCorners(int[][] twoDimArray) {\n        int n = 2;\n        int[][] myTable = new int[n][n];\n        int cols = twoDimArray[0].length;\n        if (cols == 1) {\n            for (int i = 0; i &lt; twoDimArray.length; i++) {\n                if (i == 0) {\n                    myTable[0][0] = twoDimArray[i][0];\n                    myTable[0][1] = twoDimArray[i][0];\n                    myTable[1][0] = twoDimArray[i][0];\n                    myTable[1][1] = twoDimArray[i][0];\n                }\n                else if (i &lt; twoDimArray.length - 1) {\n                    myTable[1][0] = twoDimArray[i][0];\n                    myTable[1][1] = twoDimArray[i][0];\n                }\n            }\n            System.out.println(myTable[0][0] + &quot; &quot; + myTable[0][0]);\n            System.out.println(myTable[1][0] + &quot; &quot; + myTable[1][1]);\n        }\n        else if (cols &gt; 1) {\n            for (int i = 0; i &lt; twoDimArray.length; i++) {\n                for (int j = 0; j &lt; twoDimArray[i].length; j++) {\n                    if (i == 0 &amp;&amp; j == 0) {\n                        myTable[0][0] = twoDimArray[i][j];\n                    }\n                    else if (i == 0 &amp;&amp; j == twoDimArray[i].length - 1) {\n                        myTable[0][1] = twoDimArray[i][j];\n                    }\n                    else if (i == twoDimArray.length - 1 &amp;&amp; j == 0) {\n                        myTable[1][0] = twoDimArray[i][j];\n                    }\n                    else if (i == twoDimArray.length - 1 &amp;&amp; j == twoDimArray[i].length - 1) {\n                        myTable[1][1] = twoDimArray[i][j];\n                    }\n                }\n            }\n            for (int i = 0; i &lt; myTable.length; i++) {\n                for (int j = 0; j &lt; myTable[i].length; j++) {\n                    System.out.print(myTable[i][j] + &quot; &quot;);\n                }\n                System.out.println();\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","graphics","colors"],"answers":[{"comments":[{"owner":{"account_id":1217036,"reputation":229,"user_id":1184413,"accept_rate":100,"display_name":"tech_geek23"},"score":0,"creation_date":1354074658,"post_id":13597469,"comment_id":18639785,"body_markdown":"Ah! Right on the money! I figured there was a reason that the comments were listed the way they were.... just didn&#39;t think it though","body":"Ah! Right on the money! I figured there was a reason that the comments were listed the way they were.... just didn&#39;t think it though"}],"tags":[],"owner":{"account_id":2034607,"reputation":9202,"user_id":1817269,"display_name":"username tbd"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1354074485,"creation_date":1354074485,"answer_id":13597469,"question_id":13597454,"body_markdown":"Instead of this:\r\n\r\n    int colorValue1 = (int)(Math.random() * 256);\r\n    int colorValue2 = (int)(Math.random() * 256);\r\n    int colorValue3 = (int)(Math.random() * 256);\r\n\r\n    Color random = new Color(colorValue1, colorValue2, colorValue3);\r\n    window.setColor(random);\r\n    //for loop to to across the x - getWidth() might be useful\r\n    for(int x = 30; x &lt;= getWidth()- 30; x+=15){\r\n        for(int y = 100; y &lt;= getHeight() - 30; y+= 15){\r\n            window.fillRect(x, y, 8, 8);\r\n        }\r\n    }\r\n\r\nTry this:\r\n\r\n    //for loop to to across the x - getWidth() might be useful\r\n    for(int x = 30; x &lt;= getWidth()- 30; x+=15){\r\n        for(int y = 100; y &lt;= getHeight() - 30; y+= 15){\r\n            int colorValue1 = (int)(Math.random() * 256);\r\n            int colorValue2 = (int)(Math.random() * 256);\r\n            int colorValue3 = (int)(Math.random() * 256);\r\n        \r\n            Color random = new Color(colorValue1, colorValue2, colorValue3);\r\n            window.setColor(random);\r\n    \r\n            window.fillRect(x, y, 8, 8);\r\n        }\r\n    }\r\n\r\nThe basic difference is creating the new color (and calling `window.setColor` as well) from inside the loop- that way each time the loop starts, before drawing in the box, a new random color will be used.","title":"How can I make my code to where each square is a different color from the other?","body":"<p>Instead of this:</p>\n\n<pre><code>int colorValue1 = (int)(Math.random() * 256);\nint colorValue2 = (int)(Math.random() * 256);\nint colorValue3 = (int)(Math.random() * 256);\n\nColor random = new Color(colorValue1, colorValue2, colorValue3);\nwindow.setColor(random);\n//for loop to to across the x - getWidth() might be useful\nfor(int x = 30; x &lt;= getWidth()- 30; x+=15){\n    for(int y = 100; y &lt;= getHeight() - 30; y+= 15){\n        window.fillRect(x, y, 8, 8);\n    }\n}\n</code></pre>\n\n<p>Try this:</p>\n\n<pre><code>//for loop to to across the x - getWidth() might be useful\nfor(int x = 30; x &lt;= getWidth()- 30; x+=15){\n    for(int y = 100; y &lt;= getHeight() - 30; y+= 15){\n        int colorValue1 = (int)(Math.random() * 256);\n        int colorValue2 = (int)(Math.random() * 256);\n        int colorValue3 = (int)(Math.random() * 256);\n\n        Color random = new Color(colorValue1, colorValue2, colorValue3);\n        window.setColor(random);\n\n        window.fillRect(x, y, 8, 8);\n    }\n}\n</code></pre>\n\n<p>The basic difference is creating the new color (and calling <code>window.setColor</code> as well) from inside the loop- that way each time the loop starts, before drawing in the box, a new random color will be used.</p>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1690451973,"post_id":76749319,"comment_id":135356993,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/76749319/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":29075306,"reputation":1,"user_id":22272629,"display_name":"user22272629"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1690130336,"creation_date":1690130336,"answer_id":76749319,"question_id":13597454,"body_markdown":"#Python program to demonstrate\r\n#Circle drawing\r\n\r\nimport turtle\r\n\r\n#Initializing the turtle\r\nt=turtle.Turtle()\r\n\r\nr=50\r\nt.circle(r)","title":"How can I make my code to where each square is a different color from the other?","body":"<p>#Python program to demonstrate\n#Circle drawing</p>\n<p>import turtle</p>\n<p>#Initializing the turtle\nt=turtle.Turtle()</p>\n<p>r=50\nt.circle(r)</p>\n"}],"owner":{"account_id":1217036,"reputation":229,"user_id":1184413,"accept_rate":100,"display_name":"tech_geek23"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2889,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":13597469,"answer_count":2,"score":0,"last_activity_date":1690130336,"creation_date":1354074361,"question_id":13597454,"body_markdown":"I&#39;ve got my code functioning and repeatedly changing the colors of the squares in my code, but all the squares are the same colors when the change.\r\n\r\nMain program:\r\n\r\n    import java.awt.Graphics;\r\n    import java.awt.Color;\r\n    import java.awt.Font;\r\n    import java.util.Random;\r\n    import javax.swing.Timer;\r\n    import java.awt.event.ActionListener;\r\n    import java.awt.event.ActionEvent;\r\n    import java.awt.Canvas;\r\n    import javax.swing.JPanel;\r\n\r\n    public class RandomColoredBoxes extends JPanel\r\n    {\r\n\tprivate Timer timer;\r\n\tprivate final static int SLEEP = 110;\r\n\t\r\n\tpublic RandomColoredBoxes()\r\n\t{\t\t\r\n\t\tsetBackground(Color.BLACK);\r\n\t\tsetVisible(true);\r\n\r\n\t\tActionListener paintCaller = new ActionListener(){\r\n\t\t\tpublic void actionPerformed(ActionEvent event)\r\n\t\t\t{\r\n\t\t\t\trepaint();  \r\n\t\t\t}\r\n\t\t};\r\n\t\ttimer = new Timer(SLEEP, paintCaller);\r\n\t\ttimer.start();\r\n\t}\t\r\n\r\n\tpublic void paintComponent( Graphics window )\r\n\t{\r\n\t\tsuper.paintComponent(window);\r\n\t\t\r\n\t\twindow.setColor(Color.RED);\r\n\t\twindow.setFont(new Font(&quot;TAHOMA&quot;,Font.BOLD,12));\r\n\t  \twindow.drawString(&quot;Graphics Lab Lab11k &quot;, 20, 40);\r\n\t  \twindow.drawString(&quot;Drawing boxes with nested loops &quot;, 20, 80);\r\n\r\n\t  \tdrawBoxes(window);\r\n\t}\r\n\r\n\tpublic void drawBoxes(Graphics window)\r\n\t{\r\n\t\tint colorValue1 = (int)(Math.random() * 256);\r\n\t\tint colorValue2 = (int)(Math.random() * 256);\r\n\t\tint colorValue3 = (int)(Math.random() * 256);\r\n\t\r\n\t\tColor random = new Color(colorValue1, colorValue2, colorValue3);\r\n\t\twindow.setColor(random);\r\n\t\t//for loop to to across the x - getWidth() might be useful\r\n\t\tfor(int x = 30; x &lt;= getWidth()- 30; x+=15){\r\n\t\t\tfor(int y = 100; y &lt;= getHeight() - 30; y+= 15){\r\n\t\t\t\twindow.fillRect(x, y, 8, 8);\r\n\t\t\t}\r\n\t\t}\r\n\t\t\t//for loop to go down the y - getHeight() might be useful\r\n\t\t\t\r\n\t\t\t\t//draw random colored boxes\r\n\t}\r\n    }\r\n\r\n\r\nAnd my graphics runner class:\r\n\r\n    import javax.swing.JFrame;\r\n\r\n    public class GraphicsRunnerRandom extends JFrame\r\n    {\r\n\tprivate static final int WIDTH = 800;\r\n\tprivate static final int HEIGHT = 600;\r\n\r\n\tpublic GraphicsRunnerRandom()\r\n\t{\r\n\t\tsuper(&quot;Graphics Runner&quot;);\r\n\t\tsetSize(WIDTH,HEIGHT);\r\n\t\t\t\t\t\t\r\n\t\tgetContentPane().add(new RandomColoredBoxes());\t\t\t\t\t\r\n\t\t\t\t\t\t\r\n\t\t//getContentPane().add(new RandomColoredBoxes());\r\n\t\t\t\t\r\n\t\tsetVisible(true);\r\n\t}\r\n\t\r\n\tpublic static void main( String args[] )\r\n\t{\r\n\t\tGraphicsRunnerRandom run = new GraphicsRunnerRandom();\r\n\t}\r\n    }\r\n\r\nother than the squares changing all-together, everything else is functioning as it should","title":"How can I make my code to where each square is a different color from the other?","body":"<p>I've got my code functioning and repeatedly changing the colors of the squares in my code, but all the squares are the same colors when the change.</p>\n\n<p>Main program:</p>\n\n<pre><code>import java.awt.Graphics;\nimport java.awt.Color;\nimport java.awt.Font;\nimport java.util.Random;\nimport javax.swing.Timer;\nimport java.awt.event.ActionListener;\nimport java.awt.event.ActionEvent;\nimport java.awt.Canvas;\nimport javax.swing.JPanel;\n\npublic class RandomColoredBoxes extends JPanel\n{\nprivate Timer timer;\nprivate final static int SLEEP = 110;\n\npublic RandomColoredBoxes()\n{       \n    setBackground(Color.BLACK);\n    setVisible(true);\n\n    ActionListener paintCaller = new ActionListener(){\n        public void actionPerformed(ActionEvent event)\n        {\n            repaint();  \n        }\n    };\n    timer = new Timer(SLEEP, paintCaller);\n    timer.start();\n}   \n\npublic void paintComponent( Graphics window )\n{\n    super.paintComponent(window);\n\n    window.setColor(Color.RED);\n    window.setFont(new Font(\"TAHOMA\",Font.BOLD,12));\n    window.drawString(\"Graphics Lab Lab11k \", 20, 40);\n    window.drawString(\"Drawing boxes with nested loops \", 20, 80);\n\n    drawBoxes(window);\n}\n\npublic void drawBoxes(Graphics window)\n{\n    int colorValue1 = (int)(Math.random() * 256);\n    int colorValue2 = (int)(Math.random() * 256);\n    int colorValue3 = (int)(Math.random() * 256);\n\n    Color random = new Color(colorValue1, colorValue2, colorValue3);\n    window.setColor(random);\n    //for loop to to across the x - getWidth() might be useful\n    for(int x = 30; x &lt;= getWidth()- 30; x+=15){\n        for(int y = 100; y &lt;= getHeight() - 30; y+= 15){\n            window.fillRect(x, y, 8, 8);\n        }\n    }\n        //for loop to go down the y - getHeight() might be useful\n\n            //draw random colored boxes\n}\n}\n</code></pre>\n\n<p>And my graphics runner class:</p>\n\n<pre><code>import javax.swing.JFrame;\n\npublic class GraphicsRunnerRandom extends JFrame\n{\nprivate static final int WIDTH = 800;\nprivate static final int HEIGHT = 600;\n\npublic GraphicsRunnerRandom()\n{\n    super(\"Graphics Runner\");\n    setSize(WIDTH,HEIGHT);\n\n    getContentPane().add(new RandomColoredBoxes());                 \n\n    //getContentPane().add(new RandomColoredBoxes());\n\n    setVisible(true);\n}\n\npublic static void main( String args[] )\n{\n    GraphicsRunnerRandom run = new GraphicsRunnerRandom();\n}\n}\n</code></pre>\n\n<p>other than the squares changing all-together, everything else is functioning as it should</p>\n"},{"tags":["java","inner-classes","static-members"],"comments":[{"owner":{"account_id":15064163,"reputation":13516,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1690125370,"post_id":76748971,"comment_id":135306551,"body_markdown":"Which document are you talking about? The JLS [specifies](https://docs.oracle.com/javase/specs/jls/se20/html/jls-8.html#jls-8.1.3) static members of inner classes.","body":"Which document are you talking about? The JLS <a href=\"https://docs.oracle.com/javase/specs/jls/se20/html/jls-8.html#jls-8.1.3\" rel=\"nofollow noreferrer\">specifies</a> static members of inner classes."},{"owner":{"account_id":5998820,"reputation":12676,"user_id":4712734,"display_name":"DuncG"},"score":0,"creation_date":1690125504,"post_id":76748971,"comment_id":135306570,"body_markdown":"Just read about JEP395 and see also other questions [like this](https://stackoverflow.com/questions/66734377/what-is-the-true-reason-of-inner-classes-not-able-to-contain-static-fields-or-me)","body":"Just read about JEP395 and see also other questions <a href=\"https://stackoverflow.com/questions/66734377/what-is-the-true-reason-of-inner-classes-not-able-to-contain-static-fields-or-me\">like this</a>"},{"owner":{"account_id":1079173,"reputation":42590,"user_id":1076640,"display_name":"yshavit"},"score":0,"creation_date":1690128649,"post_id":76748971,"comment_id":135306981,"body_markdown":"I&#39;m a bit confused why this is being downvoted. OP described the context, described what they expected and why (citing the official docs, no less!), described what happened instead, and provided a minimal yet working code snippet along with their Java version. It seems like a perfect question to me, tbh. Downvoted shouldn&#39;t be shorthand for &quot;I the voter already know the answer to this question.&quot;","body":"I&#39;m a bit confused why this is being downvoted. OP described the context, described what they expected and why (citing the official docs, no less!), described what happened instead, and provided a minimal yet working code snippet along with their Java version. It seems like a perfect question to me, tbh. Downvoted shouldn&#39;t be shorthand for &quot;I the voter already know the answer to this question.&quot;"},{"owner":{"account_id":1079173,"reputation":42590,"user_id":1076640,"display_name":"yshavit"},"score":0,"creation_date":1690128984,"post_id":76748971,"comment_id":135307049,"body_markdown":"Adding: maybe it&#39;s because it&#39;s a duplicate? If so, just mark it as a duplicate.","body":"Adding: maybe it&#39;s because it&#39;s a duplicate? If so, just mark it as a duplicate."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1697900015,"post_id":76748971,"comment_id":136338830,"body_markdown":"Maybe because he didn’t cite his ‘articles’ and ‘documents’?","body":"Maybe because he didn’t cite his ‘articles’ and ‘documents’?"}],"answers":[{"tags":[],"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1690126061,"creation_date":1690126061,"answer_id":76749037,"question_id":76748971,"body_markdown":"From the Oracle docs:\r\n\r\n&gt; The Java Tutorials have been written for JDK 8. Examples and practices described in this page don&#39;t take advantage of improvements introduced in later releases and might use technology no longer available.\r\n\r\nAnd a proposal to relax rules of static members, from [openjdk.org][1]:\r\n\r\n&gt; Resolution: Approved. \r\n&gt; Fix Version/s: 16\r\n\r\nSo, yeah, it&#39;s allowed for inner classes to have static members, but the Oracle documentation was written to include features of up to Java 8. The rules have changed since Java 16.\r\n\r\n[1]: https://bugs.openjdk.org/browse/JDK-8254321","title":"Inner classes can have the static members inside it in java 17?","body":"<p>From the Oracle docs:</p>\n<blockquote>\n<p>The Java Tutorials have been written for JDK 8. Examples and practices described in this page don't take advantage of improvements introduced in later releases and might use technology no longer available.</p>\n</blockquote>\n<p>And a proposal to relax rules of static members, from <a href=\"https://bugs.openjdk.org/browse/JDK-8254321\" rel=\"nofollow noreferrer\">openjdk.org</a>:</p>\n<blockquote>\n<p>Resolution: Approved.\nFix Version/s: 16</p>\n</blockquote>\n<p>So, yeah, it's allowed for inner classes to have static members, but the Oracle documentation was written to include features of up to Java 8. The rules have changed since Java 16.</p>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1690129945,"creation_date":1690128019,"answer_id":76749158,"question_id":76748971,"body_markdown":"From Java 6 language specification.\r\n\r\n&gt; An inner class is a nested class that is not explicitly or implicitly declared static. Inner classes may not declare static initializers (&#167;8.7) or member interfaces. Inner classes may not declare static members, unless they are compile-time constant fields (&#167;15.28).\r\n\r\nTo illustrate these rules, consider the example below: (Taken from the Java 6 LS)\r\n```\r\nclass HasStatic{\r\n\tstatic int j = 100;\r\n}\r\nclass Outer{\r\n\tclass Inner extends HasStatic{\r\n\t\tstatic final int x = 3;\t\t\t// ok - compile-time constant\r\n\t\tstatic int y = 4; \t\t\t// compile-time error, an inner class\r\n\t}\r\n\tstatic class NestedButNotInner{\r\n\t\tstatic int z = 5; \t\t\t// ok, not an inner class\r\n\t}\r\n\tinterface NeverInner{}\t\t\t\t// interfaces are never inner\r\n}\r\n```\r\nThis was relaxed in [JEP 395](https://openjdk.org/jeps/395) that finalized the inclusion of `record` as a standard feature of the language. The statement reads:\r\n\r\n&gt;This JEP proposes to finalize the feature in JDK 16, with the following refinement:\r\n&gt; \r\n&gt;Relax the longstanding restriction whereby an inner class cannot declare a member that is explicitly or implicitly static. This will become legal and, in particular, will allow an inner class to declare a member that is a record class.","title":"Inner classes can have the static members inside it in java 17?","body":"<p>From Java 6 language specification.</p>\n<blockquote>\n<p>An inner class is a nested class that is not explicitly or implicitly declared static. Inner classes may not declare static initializers (§8.7) or member interfaces. Inner classes may not declare static members, unless they are compile-time constant fields (§15.28).</p>\n</blockquote>\n<p>To illustrate these rules, consider the example below: (Taken from the Java 6 LS)</p>\n<pre><code>class HasStatic{\n    static int j = 100;\n}\nclass Outer{\n    class Inner extends HasStatic{\n        static final int x = 3;         // ok - compile-time constant\n        static int y = 4;           // compile-time error, an inner class\n    }\n    static class NestedButNotInner{\n        static int z = 5;           // ok, not an inner class\n    }\n    interface NeverInner{}              // interfaces are never inner\n}\n</code></pre>\n<p>This was relaxed in <a href=\"https://openjdk.org/jeps/395\" rel=\"nofollow noreferrer\">JEP 395</a> that finalized the inclusion of <code>record</code> as a standard feature of the language. The statement reads:</p>\n<blockquote>\n<p>This JEP proposes to finalize the feature in JDK 16, with the following refinement:</p>\n<p>Relax the longstanding restriction whereby an inner class cannot declare a member that is explicitly or implicitly static. This will become legal and, in particular, will allow an inner class to declare a member that is a record class.</p>\n</blockquote>\n"}],"owner":{"account_id":15237582,"reputation":9,"user_id":10994795,"display_name":"Rishi Bharadwaj"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":122,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"closed_date":1690129041,"answer_count":2,"score":-2,"last_activity_date":1690129945,"creation_date":1690125122,"question_id":76748971,"body_markdown":"I was reading the articles regarding the inner classes and out of curiosity I declared the static members within the inner class. Strangely no compile time error was shown and the code just executed fine.\r\n\r\nI referred back the oracle documents and could still found the statement : &#39;because an inner class is associated with an instance, it cannot define any static members itself.&#39;\r\n\r\nI am really confused, if there is an enhancement to the inner classes done with the later versions of java where we can now declare the static members within the inner classes as well?\r\n\r\nAny light on that will be appreciated.\r\n\r\nHere is the code snippet you may try with Java 17:\r\n\r\n\r\n```\r\nclass Outer{\r\n     class Inner{\r\n          static int i =10;\r\n          public static void method(){\r\n              System.out.println(&quot;The static members can be now declared within Inner classes!!!!&quot;);\r\n          }\r\n     }\r\n}\r\n```\r\n","title":"Inner classes can have the static members inside it in java 17?","body":"<p>I was reading the articles regarding the inner classes and out of curiosity I declared the static members within the inner class. Strangely no compile time error was shown and the code just executed fine.</p>\n<p>I referred back the oracle documents and could still found the statement : 'because an inner class is associated with an instance, it cannot define any static members itself.'</p>\n<p>I am really confused, if there is an enhancement to the inner classes done with the later versions of java where we can now declare the static members within the inner classes as well?</p>\n<p>Any light on that will be appreciated.</p>\n<p>Here is the code snippet you may try with Java 17:</p>\n<pre><code>class Outer{\n     class Inner{\n          static int i =10;\n          public static void method(){\n              System.out.println(&quot;The static members can be now declared within Inner classes!!!!&quot;);\n          }\n     }\n}\n</code></pre>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":3,"creation_date":1690037738,"post_id":76744392,"comment_id":135298568,"body_markdown":"Either use a Cache or store that data somewhere else (not in-memory) like a database, a file, ...","body":"Either use a Cache or store that data somewhere else (not in-memory) like a database, a file, ..."}],"answers":[{"comments":[{"owner":{"account_id":27094406,"reputation":23,"user_id":21064700,"display_name":"Alok Kumar"},"score":0,"creation_date":1690356357,"post_id":76746471,"comment_id":135340270,"body_markdown":"If I plan to use Redis cache. Is it free to be used in an enterprise app?","body":"If I plan to use Redis cache. Is it free to be used in an enterprise app?"},{"owner":{"account_id":21960464,"reputation":294,"user_id":16238436,"display_name":"Todd"},"score":0,"creation_date":1690389391,"post_id":76746471,"comment_id":135347787,"body_markdown":"Redis itself is open source software under the BSD license.  I am not a lawyer, but that likely means it is free to use for most use-cases.If you are asking about a hosted instance of Redis it would depend on the hosting party.  I am also not affiliated with Google and have not actually used the GCP hosted Redis or Memcached products, but Google does offer hosted Redis ([https://cloud.google.com/memorystore?](https://cloud.google.com/memorystore?)).","body":"Redis itself is open source software under the BSD license.  I am not a lawyer, but that likely means it is free to use for most use-cases.If you are asking about a hosted instance of Redis it would depend on the hosting party.  I am also not affiliated with Google and have not actually used the GCP hosted Redis or Memcached products, but Google does offer hosted Redis (<a href=\"https://cloud.google.com/memorystore?\" rel=\"nofollow noreferrer\">https://cloud.google.com/memorystore?</a>)."},{"owner":{"account_id":21960464,"reputation":294,"user_id":16238436,"display_name":"Todd"},"score":0,"creation_date":1690389901,"post_id":76746471,"comment_id":135347909,"body_markdown":"GCP cost is all based on usage.  Google does have a free tier for most things that is typically more than enough for small or personal or school projects, etc.","body":"GCP cost is all based on usage.  Google does have a free tier for most things that is typically more than enough for small or personal or school projects, etc."}],"tags":[],"owner":{"account_id":21960464,"reputation":294,"user_id":16238436,"display_name":"Todd"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690129556,"creation_date":1690080027,"answer_id":76746471,"question_id":76744392,"body_markdown":"Well 20k objects in a list may NOT be too much to just keep in memory.  That would depend on the size of each object.  For example, if each object only uses 1k I&#39;d say using 20k in memory is likely fine and would keep things nice and fast.\r\n\r\nIf it is too much to just leave in RAM, then your best bet for performance is something local, like a file on disk.  Anything that needs to call out over the wire to another system is likely to incur a bigger performance hit.  However...\r\n\r\nIf you are in a hosted environment like, say, GCP, then network calls within that environment may be very fast.  In this case you could consider other options.  In the case of GCP you might look at Google&#39;s hosted Memcached service.  That would likely get you very close to in-memory performance (Memcached is, in fact, in memory, just not yours, and is designed to hold huge amounts of data in-memory).","title":"Where to store the intermediate data","body":"<p>Well 20k objects in a list may NOT be too much to just keep in memory.  That would depend on the size of each object.  For example, if each object only uses 1k I'd say using 20k in memory is likely fine and would keep things nice and fast.</p>\n<p>If it is too much to just leave in RAM, then your best bet for performance is something local, like a file on disk.  Anything that needs to call out over the wire to another system is likely to incur a bigger performance hit.  However...</p>\n<p>If you are in a hosted environment like, say, GCP, then network calls within that environment may be very fast.  In this case you could consider other options.  In the case of GCP you might look at Google's hosted Memcached service.  That would likely get you very close to in-memory performance (Memcached is, in fact, in memory, just not yours, and is designed to hold huge amounts of data in-memory).</p>\n"}],"owner":{"account_id":27094406,"reputation":23,"user_id":21064700,"display_name":"Alok Kumar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1690129556,"creation_date":1690037635,"question_id":76744392,"body_markdown":"I need to develop an application which fetches data from an external system. The data returned is huge like a List of 10k to 20k objects or more. Now the user can click on info button and the data matching from that earlier list needs to be displayed to the user. Retrieving data from external system is costly. So what options do I have to store that list. I am using Spring Boot framework.\r\nI guess session should not be used.\r\n","title":"Where to store the intermediate data","body":"<p>I need to develop an application which fetches data from an external system. The data returned is huge like a List of 10k to 20k objects or more. Now the user can click on info button and the data matching from that earlier list needs to be displayed to the user. Retrieving data from external system is costly. So what options do I have to store that list. I am using Spring Boot framework.\nI guess session should not be used.</p>\n"},{"tags":["java","arrays","list","arraylist","integer"],"comments":[{"owner":{"account_id":22450291,"reputation":364,"user_id":16653700,"display_name":"Alias Cartellano"},"score":2,"creation_date":1690061165,"post_id":76745830,"comment_id":135301336,"body_markdown":"Try looking at [Removing an element from an Array(Java)](https://stackoverflow.com/questions/642897/removing-an-element-from-an-array-java).","body":"Try looking at <a href=\"https://stackoverflow.com/questions/642897/removing-an-element-from-an-array-java\">Removing an element from an Array(Java)</a>."},{"owner":{"account_id":29054788,"reputation":29,"user_id":22256782,"display_name":"Amalshanth"},"score":0,"creation_date":1690061630,"post_id":76745830,"comment_id":135301379,"body_markdown":"apologies for that.i did correct it","body":"apologies for that.i did correct it"}],"answers":[{"tags":[],"owner":{"account_id":3557625,"reputation":199021,"user_id":2970947,"display_name":"Elliott Frisch"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1690061185,"creation_date":1690061185,"answer_id":76745845,"question_id":76745830,"body_markdown":"You have the line `returnarrayList = null;`, then you attempt to invoke a method on `null` at the next line. I would just create a new array of `myArray.length - 1` (because you&#39;re removing one element); then copy from `0` to `index` and then from `index + 1` to the new array. Like,\r\n\r\n\tstatic int[] arrayRemover(int[] myArray, int index) {\r\n\t\tif (myArray == null || myArray.length &lt; 2) {\r\n\t\t\treturn myArray;\r\n\t\t}\r\n\t\tint[] r = new int[myArray.length - 1];\r\n\t\tSystem.arraycopy(myArray, 0, r, 0, index);\r\n\t\tSystem.arraycopy(myArray, index + 1, r, index, myArray.length - index - 1);\r\n\t\treturn r;\r\n\t}","title":"removing an element from an array using ArrayList(java)","body":"<p>You have the line <code>returnarrayList = null;</code>, then you attempt to invoke a method on <code>null</code> at the next line. I would just create a new array of <code>myArray.length - 1</code> (because you're removing one element); then copy from <code>0</code> to <code>index</code> and then from <code>index + 1</code> to the new array. Like,</p>\n<pre><code>static int[] arrayRemover(int[] myArray, int index) {\n    if (myArray == null || myArray.length &lt; 2) {\n        return myArray;\n    }\n    int[] r = new int[myArray.length - 1];\n    System.arraycopy(myArray, 0, r, 0, index);\n    System.arraycopy(myArray, index + 1, r, index, myArray.length - index - 1);\n    return r;\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":29054788,"reputation":29,"user_id":22256782,"display_name":"Amalshanth"},"score":0,"creation_date":1690096243,"post_id":76746424,"comment_id":135303386,"body_markdown":"Showing the package org is not accessible","body":"Showing the package org is not accessible"},{"owner":{"account_id":21960464,"reputation":294,"user_id":16238436,"display_name":"Todd"},"score":0,"creation_date":1690129317,"post_id":76746424,"comment_id":135307090,"body_markdown":"Odd.  Maybe you are recreating the entire unit test?  If so, I&#39;ve updated my answer to include some imports and a word about the test itself.  The line of Java streaming code that actually answers the question is 100% standard Java (Java 8 or higher).","body":"Odd.  Maybe you are recreating the entire unit test?  If so, I&#39;ve updated my answer to include some imports and a word about the test itself.  The line of Java streaming code that actually answers the question is 100% standard Java (Java 8 or higher)."}],"tags":[],"owner":{"account_id":21960464,"reputation":294,"user_id":16238436,"display_name":"Todd"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690129011,"creation_date":1690078155,"answer_id":76746424,"question_id":76745830,"body_markdown":"I&#39;ve become a big fan of streams for this sort of thing if you&#39;re on java 8 or later.  It collapses a lot of boilerplate code, often down to one line.  Here is a working unit test I put together demonstrating doing this with streams.\r\n\r\n    import java.io.IOException;\r\n    import java.util.Arrays;\r\n    import java.util.stream.IntStream;\r\n\r\nThose are the imports for the code inside the test method.  If you are actually recreating the test itself place the method in a class and include  your favorite unit test framework (in my case `import org.junit.jupiter.api.Test;`).\r\n\r\n\t@Test\r\n\tpublic void testRemoveArrayElement() throws IOException {\r\n\t\tint[] myArray = new int[] { 10, 20, 30, 40, 50, 60 };\r\n\t\tint indexToRemove = 3;\r\n\r\n\t\tSystem.out.println(Arrays.toString(myArray));    // Prints: [10, 20, 30, 40, 50, 60]\r\n\t\tint[] myFilteredArray = IntStream.range(0, myArray.length).filter(i -&gt; i != indexToRemove).map(i -&gt; myArray[i]).toArray();\r\n\t\tSystem.out.println(Arrays.toString(myFilteredArray));    // Prints: [10, 20, 30, 50, 60]\r\n\t}\r\n\r\n","title":"removing an element from an array using ArrayList(java)","body":"<p>I've become a big fan of streams for this sort of thing if you're on java 8 or later.  It collapses a lot of boilerplate code, often down to one line.  Here is a working unit test I put together demonstrating doing this with streams.</p>\n<pre><code>import java.io.IOException;\nimport java.util.Arrays;\nimport java.util.stream.IntStream;\n</code></pre>\n<p>Those are the imports for the code inside the test method.  If you are actually recreating the test itself place the method in a class and include  your favorite unit test framework (in my case <code>import org.junit.jupiter.api.Test;</code>).</p>\n<pre><code>@Test\npublic void testRemoveArrayElement() throws IOException {\n    int[] myArray = new int[] { 10, 20, 30, 40, 50, 60 };\n    int indexToRemove = 3;\n\n    System.out.println(Arrays.toString(myArray));    // Prints: [10, 20, 30, 40, 50, 60]\n    int[] myFilteredArray = IntStream.range(0, myArray.length).filter(i -&gt; i != indexToRemove).map(i -&gt; myArray[i]).toArray();\n    System.out.println(Arrays.toString(myFilteredArray));    // Prints: [10, 20, 30, 50, 60]\n}\n</code></pre>\n"}],"owner":{"account_id":29054788,"reputation":29,"user_id":22256782,"display_name":"Amalshanth"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":106,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1690083018,"accepted_answer_id":76745845,"answer_count":2,"score":-2,"last_activity_date":1690129011,"creation_date":1690060901,"question_id":76745830,"body_markdown":"I am trying to remove an element from an array using **ArrayList**. however I cannot seem to get it to work. I&#39;m new to java.\r\nHere is the code what i do\r\n\r\n```\r\npackage workspace;\r\nimport java.util.*;\r\nimport java.util.stream.*;\r\npublic class Worksapce{\r\n\tprivate static Collection&lt;Integer&gt; returnarrayList;\r\n\tstatic int[] arrayRemover(int[] myArray,int index) {\r\n\t\tList&lt;Integer&gt;arrayList = IntStream.of(myArray) .boxed().collect(Collectors.toList()); \r\n\t \tarrayList.remove(2); \r\n\t \treturnarrayList = null;\r\n\t \treturn returnarrayList.stream().mapToInt(Integer::intValue).toArray(); \r\n\t}\r\npublic static void main(String[] args)  { \r\n\tint myArray[]= {1,2,3,4};\r\n\tint index=2;\r\n\tmyArray=arrayRemover(myArray,index);\r\n\tSystem.out.println(Arrays.toString(myArray));\r\n}\r\n}\r\n```\r\nHere is the error showing\r\n\r\n[![enter image description here](https://i.stack.imgur.com/rwqzs.png)](https://i.stack.imgur.com/rwqzs.png)\r\n\r\nI want to remove an element from the array.I know there is&#39;nt a direct method in java to remove an element from the array.But there are exist several indirect methods.There I&#39;m trying to remove element using **arraylist**. I didnt get the result. What are the mistakes in it? What i need to change?","title":"removing an element from an array using ArrayList(java)","body":"<p>I am trying to remove an element from an array using <strong>ArrayList</strong>. however I cannot seem to get it to work. I'm new to java.\nHere is the code what i do</p>\n<pre><code>package workspace;\nimport java.util.*;\nimport java.util.stream.*;\npublic class Worksapce{\n    private static Collection&lt;Integer&gt; returnarrayList;\n    static int[] arrayRemover(int[] myArray,int index) {\n        List&lt;Integer&gt;arrayList = IntStream.of(myArray) .boxed().collect(Collectors.toList()); \n        arrayList.remove(2); \n        returnarrayList = null;\n        return returnarrayList.stream().mapToInt(Integer::intValue).toArray(); \n    }\npublic static void main(String[] args)  { \n    int myArray[]= {1,2,3,4};\n    int index=2;\n    myArray=arrayRemover(myArray,index);\n    System.out.println(Arrays.toString(myArray));\n}\n}\n</code></pre>\n<p>Here is the error showing</p>\n<p><a href=\"https://i.stack.imgur.com/rwqzs.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/rwqzs.png\" alt=\"enter image description here\" /></a></p>\n<p>I want to remove an element from the array.I know there is'nt a direct method in java to remove an element from the array.But there are exist several indirect methods.There I'm trying to remove element using <strong>arraylist</strong>. I didnt get the result. What are the mistakes in it? What i need to change?</p>\n"},{"tags":["java","maven","mapstruct","annotation-processing","mapper"],"answers":[{"comments":[{"owner":{"account_id":11882388,"reputation":13,"user_id":8695753,"display_name":"Sergey Gotsev"},"score":1,"creation_date":1690134643,"post_id":76749225,"comment_id":135307756,"body_markdown":"Thank you, it worked. Made a slightly versatile  ` List&lt;ParticipantDto&gt; mapToDtoList(Collection&lt;ParticipantEntity&gt; set);\n\n    Set&lt;ParticipantEntity&gt; mapToEntitySet(Collection&lt;ParticipantDto&gt; list);`","body":"Thank you, it worked. Made a slightly versatile  ` List&lt;ParticipantDto&gt; mapToDtoList(Collection&lt;ParticipantEntity&gt; set);      Set&lt;ParticipantEntity&gt; mapToEntitySet(Collection&lt;ParticipantDto&gt; list);`"}],"tags":[],"owner":{"account_id":8628424,"reputation":91,"user_id":6460906,"display_name":"Dmitrii Podlesnykh"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1690128931,"creation_date":1690128931,"answer_id":76749225,"question_id":76748919,"body_markdown":"The `RoomFullDto#participant` field type is `java.util.List&lt;ParticipantDto&gt;` (not `ParticipantDto`)\r\n\r\nThe `ParticipantEntity#participant` field type `is java.util.Set&lt;ParticipantEntity&gt;` (not `ParticipantEntity`)\r\n\r\nWe need to declare the mapping process between two **different types**: `Set&lt;ParticipantEntity&gt;` and `List&lt;ParticipantDto&gt;`\r\n\r\n 1. `Set&lt;ParticipantEntity&gt;` -&gt; `List&lt;ParticipantDto&gt;` transformation\r\n 2. `List&lt;ParticipantDto&gt;` -&gt; `Set&lt;ParticipantEntity&gt;` transformation\r\n\r\nPlease try to add 2 more methods for ParticipantMapper.java:\r\n------------------------------------------------------------\r\n\r\n  Create a new method ParticipantMapper#mapToList:\r\n\r\n    @Mapper\r\n    public interface ParticipantMapper {\r\n      \r\n\r\n        ParticipantMapper INSTANCE = Mappers.getMapper(ParticipantMapper.class);\r\n\r\n        @Named(&quot;DataToEntity&quot;)\r\n        @Mapping(target = &quot;room.id&quot;, source = &quot;roomId&quot;)\r\n        @Mapping(target = &quot;user.id&quot;, source = &quot;userId&quot;)\r\n        @Mapping(target = &quot;nicknameInRoom&quot;, source = &quot;username&quot;)\r\n        ParticipantEntity dtoToEntity (ParticipantDto participantDto);\r\n\r\n        @Named(&quot;EntityToData&quot;)\r\n        @Mapping(target = &quot;roomId&quot;, source = &quot;room.id&quot;)\r\n        @Mapping(target = &quot;userId&quot;, source = &quot;user.id&quot;)\r\n        @Mapping(target = &quot;username&quot;, source = &quot;nicknameInRoom&quot;)\r\n        ParticipantDto entityToDto (ParticipantEntity participantDto);\r\n      \r\n    \r\n        //+ 2 additional mapping methods without any annota\r\n        List&lt;ParticipantDto&gt; mapToDtoList(Set&lt;ParticipantEntity&gt; set);\r\n\r\n        Set&lt;ParticipantEntity&gt; mapToEntitySet(List&lt;ParticipantDto&gt; list);\r\n    }\r\n\r\n[MapStruct Documentation: 6. Mapping collections ][1]\r\n\r\n\r\n  [1]: https://mapstruct.org/documentation/stable/reference/html/#mapping-collections","title":"Mapstruct uses not working, how to make mapstruct &quot;uses&quot; use other mapper for inner fields","body":"<p>The <code>RoomFullDto#participant</code> field type is <code>java.util.List&lt;ParticipantDto&gt;</code> (not <code>ParticipantDto</code>)</p>\n<p>The <code>ParticipantEntity#participant</code> field type <code>is java.util.Set&lt;ParticipantEntity&gt;</code> (not <code>ParticipantEntity</code>)</p>\n<p>We need to declare the mapping process between two <strong>different types</strong>: <code>Set&lt;ParticipantEntity&gt;</code> and <code>List&lt;ParticipantDto&gt;</code></p>\n<ol>\n<li><code>Set&lt;ParticipantEntity&gt;</code> -&gt; <code>List&lt;ParticipantDto&gt;</code> transformation</li>\n<li><code>List&lt;ParticipantDto&gt;</code> -&gt; <code>Set&lt;ParticipantEntity&gt;</code> transformation</li>\n</ol>\n<h2>Please try to add 2 more methods for ParticipantMapper.java:</h2>\n<p>Create a new method ParticipantMapper#mapToList:</p>\n<pre><code>@Mapper\npublic interface ParticipantMapper {\n  \n\n    ParticipantMapper INSTANCE = Mappers.getMapper(ParticipantMapper.class);\n\n    @Named(&quot;DataToEntity&quot;)\n    @Mapping(target = &quot;room.id&quot;, source = &quot;roomId&quot;)\n    @Mapping(target = &quot;user.id&quot;, source = &quot;userId&quot;)\n    @Mapping(target = &quot;nicknameInRoom&quot;, source = &quot;username&quot;)\n    ParticipantEntity dtoToEntity (ParticipantDto participantDto);\n\n    @Named(&quot;EntityToData&quot;)\n    @Mapping(target = &quot;roomId&quot;, source = &quot;room.id&quot;)\n    @Mapping(target = &quot;userId&quot;, source = &quot;user.id&quot;)\n    @Mapping(target = &quot;username&quot;, source = &quot;nicknameInRoom&quot;)\n    ParticipantDto entityToDto (ParticipantEntity participantDto);\n  \n\n    //+ 2 additional mapping methods without any annota\n    List&lt;ParticipantDto&gt; mapToDtoList(Set&lt;ParticipantEntity&gt; set);\n\n    Set&lt;ParticipantEntity&gt; mapToEntitySet(List&lt;ParticipantDto&gt; list);\n}\n</code></pre>\n<p><a href=\"https://mapstruct.org/documentation/stable/reference/html/#mapping-collections\" rel=\"nofollow noreferrer\">MapStruct Documentation: 6. Mapping collections </a></p>\n"}],"owner":{"account_id":11882388,"reputation":13,"user_id":8695753,"display_name":"Sergey Gotsev"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":217,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76749225,"answer_count":1,"score":1,"last_activity_date":1690128931,"creation_date":1690124461,"question_id":76748919,"body_markdown":"Mapstruct &quot;uses&quot; not working, it maps all entities in one mapper, instead of using different mappers for different entities\r\nI have pom \r\n```\r\n`&lt;plugin&gt;\r\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;${compiler.version}&lt;/version&gt;\r\n            &lt;configuration&gt;\r\n                &lt;source&gt;17&lt;/source&gt;\r\n                &lt;target&gt;17&lt;/target&gt;\r\n                &lt;annotationProcessorPaths&gt;\r\n                    &lt;path&gt;\r\n                        &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n                        &lt;version&gt;${lombok.version}&lt;/version&gt;\r\n                    &lt;/path&gt;\r\n                    &lt;path&gt;\r\n                        &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;mapstruct-processor&lt;/artifactId&gt;\r\n                        &lt;version&gt;${mapstruct.version}&lt;/version&gt;\r\n                    &lt;/path&gt;\r\n                    &lt;path&gt;\r\n                        &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;lombok-mapstruct-binding&lt;/artifactId&gt;\r\n                        &lt;version&gt;0.2.0&lt;/version&gt;\r\n                    &lt;/path&gt;\r\n                &lt;/annotationProcessorPaths&gt;\r\n            &lt;/configuration&gt;\r\n        &lt;/plugin&gt;`\r\n```\r\n\r\n```\r\n@Mapper(uses = {ParticipantMapper.class})\r\npublic interface RoomMapper {\r\n\r\n    RoomMapper INSTANCE = Mappers.getMapper(RoomMapper.class);\r\n\r\n    @Mapping(target = &quot;participant&quot;, source = &quot;participant&quot;)\r\n    RoomFullDto entityToData(RoomEntity entity);\r\n\r\n    @Mapping(target = &quot;participant&quot;, source = &quot;participant&quot;)\r\n    RoomEntity dataToEntity(RoomFullDto entity);\r\n\r\n    @Named(&quot;EntityToShortData&quot;)\r\n    RoomShortDto entityToShortData(RoomEntity entity);\r\n\r\n    @Named(&quot;DataToEntity&quot;)\r\n    RoomEntity shortDataToEntity(RoomShortDto entity);\r\n}\r\n```\r\n\r\nand \r\n```\r\n@Mapper\r\npublic interface ParticipantMapper {\r\n\r\n\r\n    ParticipantMapper INSTANCE = Mappers.getMapper(ParticipantMapper.class);\r\n\r\n    @Named(&quot;DataToEntity&quot;)\r\n    @Mapping(target = &quot;room.id&quot;, source = &quot;roomId&quot;)\r\n    @Mapping(target = &quot;user.id&quot;, source = &quot;userId&quot;)\r\n    @Mapping(target = &quot;nicknameInRoom&quot;, source = &quot;username&quot;)\r\n    ParticipantEntity dtoToEntity (ParticipantDto participantDto);\r\n\r\n    @Named(&quot;EntityToData&quot;)\r\n    @Mapping(target = &quot;roomId&quot;, source = &quot;room.id&quot;)\r\n    @Mapping(target = &quot;userId&quot;, source = &quot;user.id&quot;)\r\n    @Mapping(target = &quot;username&quot;, source = &quot;nicknameInRoom&quot;)\r\n    ParticipantDto entityToDto (ParticipantEntity participantDto);\r\n}\r\n```\r\n\r\nin RoomMapperImpl mapstruct generate without using ParticipantMapper, so i cant&#39;t configure how to map fields and it ignores some fields \r\n```\r\npublic RoomFullDto entityToData(RoomEntity entity) {\r\n        if ( entity == null ) {\r\n            return null;\r\n        }\r\n\r\n        RoomFullDto roomFullDto = new RoomFullDto();\r\n\r\n        roomFullDto.setParticipant( participantEntitySetToParticipantDtoList( entity.getParticipant() ) );\r\n        roomFullDto.setId( entity.getId() );\r\n        roomFullDto.setName( entity.getName() );\r\n\r\n        return roomFullDto;\r\n    }\r\n\r\nprotected List&lt;ParticipantDto&gt; participantEntitySetToParticipantDtoList(Set&lt;ParticipantEntity&gt; set) {\r\n        if ( set == null ) {\r\n            return null;\r\n        }\r\n\r\n        List&lt;ParticipantDto&gt; list = new ArrayList&lt;ParticipantDto&gt;( set.size() );\r\n        for ( ParticipantEntity participantEntity : set ) {\r\n            list.add( participantEntityToParticipantDto( participantEntity ) );\r\n        }\r\n\r\n        return list;\r\n    }\r\n\r\nParticipantDto participantEntityToParticipantDto(ParticipantEntity participantEntity) {\r\n        if ( participantEntity == null ) {\r\n            return null;\r\n        }\r\n\r\n        ParticipantDto participantDto = new ParticipantDto();\r\n\r\n        participantDto.setId( participantEntity.getId() );\r\n        participantDto.setIsBanned( participantEntity.getIsBanned() );\r\n        if ( participantEntity.getRole() != null ) {\r\n            participantDto.setRole( participantEntity.getRole().name() );\r\n        }\r\n\r\n        return participantDto;\r\n    }\r\n```\r\n\r\nI tried to configure different versions of dependencies and annotationProcessors, it dont works","title":"Mapstruct uses not working, how to make mapstruct &quot;uses&quot; use other mapper for inner fields","body":"<p>Mapstruct &quot;uses&quot; not working, it maps all entities in one mapper, instead of using different mappers for different entities\nI have pom</p>\n<pre><code>`&lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n            &lt;version&gt;${compiler.version}&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;source&gt;17&lt;/source&gt;\n                &lt;target&gt;17&lt;/target&gt;\n                &lt;annotationProcessorPaths&gt;\n                    &lt;path&gt;\n                        &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                        &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;version&gt;${lombok.version}&lt;/version&gt;\n                    &lt;/path&gt;\n                    &lt;path&gt;\n                        &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\n                        &lt;artifactId&gt;mapstruct-processor&lt;/artifactId&gt;\n                        &lt;version&gt;${mapstruct.version}&lt;/version&gt;\n                    &lt;/path&gt;\n                    &lt;path&gt;\n                        &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                        &lt;artifactId&gt;lombok-mapstruct-binding&lt;/artifactId&gt;\n                        &lt;version&gt;0.2.0&lt;/version&gt;\n                    &lt;/path&gt;\n                &lt;/annotationProcessorPaths&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;`\n</code></pre>\n<pre><code>@Mapper(uses = {ParticipantMapper.class})\npublic interface RoomMapper {\n\n    RoomMapper INSTANCE = Mappers.getMapper(RoomMapper.class);\n\n    @Mapping(target = &quot;participant&quot;, source = &quot;participant&quot;)\n    RoomFullDto entityToData(RoomEntity entity);\n\n    @Mapping(target = &quot;participant&quot;, source = &quot;participant&quot;)\n    RoomEntity dataToEntity(RoomFullDto entity);\n\n    @Named(&quot;EntityToShortData&quot;)\n    RoomShortDto entityToShortData(RoomEntity entity);\n\n    @Named(&quot;DataToEntity&quot;)\n    RoomEntity shortDataToEntity(RoomShortDto entity);\n}\n</code></pre>\n<p>and</p>\n<pre><code>@Mapper\npublic interface ParticipantMapper {\n\n\n    ParticipantMapper INSTANCE = Mappers.getMapper(ParticipantMapper.class);\n\n    @Named(&quot;DataToEntity&quot;)\n    @Mapping(target = &quot;room.id&quot;, source = &quot;roomId&quot;)\n    @Mapping(target = &quot;user.id&quot;, source = &quot;userId&quot;)\n    @Mapping(target = &quot;nicknameInRoom&quot;, source = &quot;username&quot;)\n    ParticipantEntity dtoToEntity (ParticipantDto participantDto);\n\n    @Named(&quot;EntityToData&quot;)\n    @Mapping(target = &quot;roomId&quot;, source = &quot;room.id&quot;)\n    @Mapping(target = &quot;userId&quot;, source = &quot;user.id&quot;)\n    @Mapping(target = &quot;username&quot;, source = &quot;nicknameInRoom&quot;)\n    ParticipantDto entityToDto (ParticipantEntity participantDto);\n}\n</code></pre>\n<p>in RoomMapperImpl mapstruct generate without using ParticipantMapper, so i cant't configure how to map fields and it ignores some fields</p>\n<pre><code>public RoomFullDto entityToData(RoomEntity entity) {\n        if ( entity == null ) {\n            return null;\n        }\n\n        RoomFullDto roomFullDto = new RoomFullDto();\n\n        roomFullDto.setParticipant( participantEntitySetToParticipantDtoList( entity.getParticipant() ) );\n        roomFullDto.setId( entity.getId() );\n        roomFullDto.setName( entity.getName() );\n\n        return roomFullDto;\n    }\n\nprotected List&lt;ParticipantDto&gt; participantEntitySetToParticipantDtoList(Set&lt;ParticipantEntity&gt; set) {\n        if ( set == null ) {\n            return null;\n        }\n\n        List&lt;ParticipantDto&gt; list = new ArrayList&lt;ParticipantDto&gt;( set.size() );\n        for ( ParticipantEntity participantEntity : set ) {\n            list.add( participantEntityToParticipantDto( participantEntity ) );\n        }\n\n        return list;\n    }\n\nParticipantDto participantEntityToParticipantDto(ParticipantEntity participantEntity) {\n        if ( participantEntity == null ) {\n            return null;\n        }\n\n        ParticipantDto participantDto = new ParticipantDto();\n\n        participantDto.setId( participantEntity.getId() );\n        participantDto.setIsBanned( participantEntity.getIsBanned() );\n        if ( participantEntity.getRole() != null ) {\n            participantDto.setRole( participantEntity.getRole().name() );\n        }\n\n        return participantDto;\n    }\n</code></pre>\n<p>I tried to configure different versions of dependencies and annotationProcessors, it dont works</p>\n"},{"tags":["java","mysql","amazon-web-services","spring-boot","amazon-ec2"],"answers":[{"comments":[{"owner":{"account_id":27874325,"reputation":11,"user_id":21284127,"display_name":"it_tony"},"score":0,"creation_date":1690127739,"post_id":76747368,"comment_id":135306878,"body_markdown":"Yes it was a typo. I just edited the post to accurately reflect the current inbound rules on my EC2 instance. I have a rule for Port Range 3306 with type MYSQL/Aurora. Still to no avail.","body":"Yes it was a typo. I just edited the post to accurately reflect the current inbound rules on my EC2 instance. I have a rule for Port Range 3306 with type MYSQL/Aurora. Still to no avail."}],"tags":[],"owner":{"account_id":3364774,"reputation":141,"user_id":2825691,"display_name":"cloudyian"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690102234,"creation_date":1690102234,"answer_id":76747368,"question_id":76746527,"body_markdown":"Notice the highlighted part from what you&#39;ve mentioned\r\n[![enter image description here][1]][1]\r\n\r\n  [1]: https://i.stack.imgur.com/K9929.png\r\n\r\nI don&#39;t think this is properly set. \r\nFirst of of, the port should be 3306. I believe this is a typo, you might have set the port to 3306.    \r\nYet there is another problem, you might want to set the rule like this: (assuming your ec2 secuirty group id is sg-1234abcd)\r\n\r\n| MySQL/Aurora | TCP | 3306 | sg-1234abcd |\r\n\r\nthe source is &#39;sg-1234abcd&#39;, which means you want all ec2 in this security group have the permissions to access the mysql.\r\n","title":"Java SpringBoot MySQL, AWS EC2 Ubuntu Instance Deployment, EntityNotFoundException, Unable to connect to MySQL DB","body":"<p>Notice the highlighted part from what you've mentioned\n<a href=\"https://i.stack.imgur.com/K9929.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/K9929.png\" alt=\"enter image description here\" /></a></p>\n<p>I don't think this is properly set.\nFirst of of, the port should be 3306. I believe this is a typo, you might have set the port to 3306.<br />\nYet there is another problem, you might want to set the rule like this: (assuming your ec2 secuirty group id is sg-1234abcd)</p>\n<p>| MySQL/Aurora | TCP | 3306 | sg-1234abcd |</p>\n<p>the source is 'sg-1234abcd', which means you want all ec2 in this security group have the permissions to access the mysql.</p>\n"}],"owner":{"account_id":27874325,"reputation":11,"user_id":21284127,"display_name":"it_tony"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1690127636,"creation_date":1690081929,"question_id":76746527,"body_markdown":"I have deployed a Java SpringBoot project utilizing AWS EC2 Ubuntu instance and am receiving the error:\r\n\r\nServlet.service() for servlet [jsp] threw exception: jakarta.persistence.EntityNotFoundException\r\n\r\nI am new to AWS deployment and this is my first time using it, so I am unsure where to even begin in finding the cause for the error. The nature of the error leads me to believe that the server cannot communicate with MySQL. I presume that is due to a missing/improper security group within my EC2 instance, or a missing connection from MySQL to the server. Attached is the relevant code:\r\n\r\npom.xml\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.1.1&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.anthony.messagingapp&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;MessagingApp&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;packaging&gt;war&lt;/packaging&gt;\r\n\t&lt;name&gt;MessagingApp&lt;/name&gt;\r\n\t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\r\n        &lt;artifactId&gt;tomcat-embed-jasper&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;jakarta.servlet.jsp.jstl&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jakarta.servlet.jsp.jstl-api&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.glassfish.web&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jakarta.servlet.jsp.jstl&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.mysql&lt;/groupId&gt;\r\n        &lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\r\n        &lt;scope&gt;runtime&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.mindrot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jbcrypt&lt;/artifactId&gt;\r\n        &lt;version&gt;0.4&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.webjars&lt;/groupId&gt;\r\n        &lt;artifactId&gt;bootstrap&lt;/artifactId&gt;\r\n        &lt;version&gt;4.5.2&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.webjars.bower&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jquery&lt;/artifactId&gt;\r\n        &lt;version&gt;3.5.1&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\t\t\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n\r\n```\r\n\r\napplication.properties\r\n\r\n```\r\n    spring.mvc.view.prefix=/WEB-INF/\r\n    spring.datasource.url=jdbc:mysql://localhost:3306/liaisonmessaging\r\n    spring.datasource.username=root\r\n    spring.datasource.password=rootroot\r\n    spring.jpa.hibernate.ddl-auto=update\r\n    spring.mvc.hiddenmethod.filter.enabled=true\r\n```\r\n\r\nApplication.java file\r\n\r\n```\r\npackage com.anthony.messagingapp;\r\n\r\nimport org.apache.catalina.connector.Connector;\r\nimport org.apache.coyote.ajp.AbstractAjpProtocol;\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\nimport org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory;\r\nimport org.springframework.context.annotation.Bean;\r\n\r\n@SpringBootApplication\r\npublic class MessagingAppApplication {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(MessagingAppApplication.class, args);\r\n\t}\r\n\t\r\n\t@Bean\r\n    public TomcatServletWebServerFactory servletContainer() {\r\n        TomcatServletWebServerFactory tomcat = new TomcatServletWebServerFactory();\r\n        Connector ajpConnector = new Connector(&quot;AJP/1.3&quot;);\r\n        ajpConnector.setPort(9090);\r\n        ajpConnector.setSecure(false);\r\n        ajpConnector.setAllowTrace(false);\r\n        ajpConnector.setScheme(&quot;http&quot;);\r\n((AbstractAjpProtocol)ajpConnector.getProtocolHandler()).setSecretRequired(false);\r\n        tomcat.addAdditionalTomcatConnectors(ajpConnector);\r\n        return tomcat;\r\n\r\n}\r\n```\r\nInbound Security Groups on EC2 instance\r\n\r\n1. Port Range: **9090**\r\n- Type: TCP\r\n- Source: 0.0.0.0/0\r\n2. Port Range: **80**\r\n- Type: HTTP\r\n- Source: ::/0\r\n3. Port Range: **22**\r\n- Type: SSH\r\n- Source: My private IP\r\n4. Port Range: **3306**\r\n- MYSQL/Aurora\r\n- Source: 0.0.0.0/0\r\n5. Port Range: **443**\r\n- Type: HTTPS\r\n6. Port Range: **9090**\r\n- Type: TCP\r\n- Source: ::/0\r\n7. Port Range: **80**\r\n- Type: HTTP\r\n- Source: 0.0.0.0/0\r\n8. Port Range: **3306**\r\n- Type: MYSQL/Aurora\r\n- Source: ::/0\r\n9. Port Range: **8888**\r\n- Type: Custom TCP \r\n- Source: 0.0.0.0/0\r\n\r\nMy process to deploy is as follows: \r\n1. Create instance with the following details:\r\n- Ubuntu AMI, x64 bit architecture\r\n- Instance Type: t2.micro\r\n- Key Pair: RSA, .pem\r\n- Allowing SSH traffic from my IP, HTTP &amp; HTTPS traffic from the internet\r\n2. SSH into the instance from my terminal\r\n- update &amp; upgrade dependencies\r\n3. Install MySQL Server &amp; connect\r\n- sudo apt-get install mysql-server\r\n- sudo apt-get update \r\n- sudo mysql -uroot -p\r\n- within sql shell: ALTER USER &#39;root&#39;@&#39;localhost&#39; IDENTIFIED WITH mysql_native_password BY &#39;*mysql_password*&#39;;\r\n- within sql shell: FLUSH PRIVILEGES;\r\n- outside of sql shell: sudo mysql_secure_installation\r\n- I then configure security settings \r\n- Finally, I export my database into a dump file, and then paste the contents of the dump file in the sql shell in the server\r\n4. Install Apache\r\n- sudo apt-get install apache2\r\n5. Create a .war file of my SpringBoot application and secure copy it into my instance \r\n6. Create proxy in server \r\n- sudo a2enmod proxy \r\n- sudo a2enmod ajp-proxy\r\n7. add ProxyPass into the virtual host conf file\r\n- cd etc/apache2/sites-available\r\n- sudo vim 000-default.conf\r\n- INSERT ProxyPass / ajp://localhost:9090/\r\n- INSERT ProxyPassReverse / ajp://localhost:9090/\r\n8. Restart Apache\r\n- sudo service apache2 restart\r\n9. Install Java JDK\r\n- sudo apt install openjdk-17-jdk\r\n10. Run .war file \r\n- java -jar MessagingApp-0.0.1-SNAPSHOT.war\r\n\r\nMy application runs without issue when deployed on my local server, but runs with EntityNotFoundException when deployed and accessed through public AWS EC2 instance IP address. I confirmed in the terminal that the server is listening on port 80, and I am able to access the root route when requesting http://{PUBLIC.IP}\r\nAny and all help is greatly appreciated. Thank you!","title":"Java SpringBoot MySQL, AWS EC2 Ubuntu Instance Deployment, EntityNotFoundException, Unable to connect to MySQL DB","body":"<p>I have deployed a Java SpringBoot project utilizing AWS EC2 Ubuntu instance and am receiving the error:</p>\n<p>Servlet.service() for servlet [jsp] threw exception: jakarta.persistence.EntityNotFoundException</p>\n<p>I am new to AWS deployment and this is my first time using it, so I am unsure where to even begin in finding the cause for the error. The nature of the error leads me to believe that the server cannot communicate with MySQL. I presume that is due to a missing/improper security group within my EC2 instance, or a missing connection from MySQL to the server. Attached is the relevant code:</p>\n<p>pom.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.1.1&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.anthony.messagingapp&lt;/groupId&gt;\n    &lt;artifactId&gt;MessagingApp&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;war&lt;/packaging&gt;\n    &lt;name&gt;MessagingApp&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        \n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\n        &lt;artifactId&gt;tomcat-embed-jasper&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;jakarta.servlet.jsp.jstl&lt;/groupId&gt;\n        &lt;artifactId&gt;jakarta.servlet.jsp.jstl-api&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.glassfish.web&lt;/groupId&gt;\n        &lt;artifactId&gt;jakarta.servlet.jsp.jstl&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.mysql&lt;/groupId&gt;\n        &lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\n        &lt;scope&gt;runtime&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.mindrot&lt;/groupId&gt;\n        &lt;artifactId&gt;jbcrypt&lt;/artifactId&gt;\n        &lt;version&gt;0.4&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.webjars&lt;/groupId&gt;\n        &lt;artifactId&gt;bootstrap&lt;/artifactId&gt;\n        &lt;version&gt;4.5.2&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.webjars.bower&lt;/groupId&gt;\n        &lt;artifactId&gt;jquery&lt;/artifactId&gt;\n        &lt;version&gt;3.5.1&lt;/version&gt;\n    &lt;/dependency&gt;\n        \n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n\n</code></pre>\n<p>application.properties</p>\n<pre><code>    spring.mvc.view.prefix=/WEB-INF/\n    spring.datasource.url=jdbc:mysql://localhost:3306/liaisonmessaging\n    spring.datasource.username=root\n    spring.datasource.password=rootroot\n    spring.jpa.hibernate.ddl-auto=update\n    spring.mvc.hiddenmethod.filter.enabled=true\n</code></pre>\n<p>Application.java file</p>\n<pre><code>package com.anthony.messagingapp;\n\nimport org.apache.catalina.connector.Connector;\nimport org.apache.coyote.ajp.AbstractAjpProtocol;\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory;\nimport org.springframework.context.annotation.Bean;\n\n@SpringBootApplication\npublic class MessagingAppApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(MessagingAppApplication.class, args);\n    }\n    \n    @Bean\n    public TomcatServletWebServerFactory servletContainer() {\n        TomcatServletWebServerFactory tomcat = new TomcatServletWebServerFactory();\n        Connector ajpConnector = new Connector(&quot;AJP/1.3&quot;);\n        ajpConnector.setPort(9090);\n        ajpConnector.setSecure(false);\n        ajpConnector.setAllowTrace(false);\n        ajpConnector.setScheme(&quot;http&quot;);\n((AbstractAjpProtocol)ajpConnector.getProtocolHandler()).setSecretRequired(false);\n        tomcat.addAdditionalTomcatConnectors(ajpConnector);\n        return tomcat;\n\n}\n</code></pre>\n<p>Inbound Security Groups on EC2 instance</p>\n<ol>\n<li>Port Range: <strong>9090</strong></li>\n</ol>\n<ul>\n<li>Type: TCP</li>\n<li>Source: 0.0.0.0/0</li>\n</ul>\n<ol start=\"2\">\n<li>Port Range: <strong>80</strong></li>\n</ol>\n<ul>\n<li>Type: HTTP</li>\n<li>Source: ::/0</li>\n</ul>\n<ol start=\"3\">\n<li>Port Range: <strong>22</strong></li>\n</ol>\n<ul>\n<li>Type: SSH</li>\n<li>Source: My private IP</li>\n</ul>\n<ol start=\"4\">\n<li>Port Range: <strong>3306</strong></li>\n</ol>\n<ul>\n<li>MYSQL/Aurora</li>\n<li>Source: 0.0.0.0/0</li>\n</ul>\n<ol start=\"5\">\n<li>Port Range: <strong>443</strong></li>\n</ol>\n<ul>\n<li>Type: HTTPS</li>\n</ul>\n<ol start=\"6\">\n<li>Port Range: <strong>9090</strong></li>\n</ol>\n<ul>\n<li>Type: TCP</li>\n<li>Source: ::/0</li>\n</ul>\n<ol start=\"7\">\n<li>Port Range: <strong>80</strong></li>\n</ol>\n<ul>\n<li>Type: HTTP</li>\n<li>Source: 0.0.0.0/0</li>\n</ul>\n<ol start=\"8\">\n<li>Port Range: <strong>3306</strong></li>\n</ol>\n<ul>\n<li>Type: MYSQL/Aurora</li>\n<li>Source: ::/0</li>\n</ul>\n<ol start=\"9\">\n<li>Port Range: <strong>8888</strong></li>\n</ol>\n<ul>\n<li>Type: Custom TCP</li>\n<li>Source: 0.0.0.0/0</li>\n</ul>\n<p>My process to deploy is as follows:</p>\n<ol>\n<li>Create instance with the following details:</li>\n</ol>\n<ul>\n<li>Ubuntu AMI, x64 bit architecture</li>\n<li>Instance Type: t2.micro</li>\n<li>Key Pair: RSA, .pem</li>\n<li>Allowing SSH traffic from my IP, HTTP &amp; HTTPS traffic from the internet</li>\n</ul>\n<ol start=\"2\">\n<li>SSH into the instance from my terminal</li>\n</ol>\n<ul>\n<li>update &amp; upgrade dependencies</li>\n</ul>\n<ol start=\"3\">\n<li>Install MySQL Server &amp; connect</li>\n</ol>\n<ul>\n<li>sudo apt-get install mysql-server</li>\n<li>sudo apt-get update</li>\n<li>sudo mysql -uroot -p</li>\n<li>within sql shell: ALTER USER 'root'@'localhost' IDENTIFIED WITH mysql_native_password BY '<em>mysql_password</em>';</li>\n<li>within sql shell: FLUSH PRIVILEGES;</li>\n<li>outside of sql shell: sudo mysql_secure_installation</li>\n<li>I then configure security settings</li>\n<li>Finally, I export my database into a dump file, and then paste the contents of the dump file in the sql shell in the server</li>\n</ul>\n<ol start=\"4\">\n<li>Install Apache</li>\n</ol>\n<ul>\n<li>sudo apt-get install apache2</li>\n</ul>\n<ol start=\"5\">\n<li>Create a .war file of my SpringBoot application and secure copy it into my instance</li>\n<li>Create proxy in server</li>\n</ol>\n<ul>\n<li>sudo a2enmod proxy</li>\n<li>sudo a2enmod ajp-proxy</li>\n</ul>\n<ol start=\"7\">\n<li>add ProxyPass into the virtual host conf file</li>\n</ol>\n<ul>\n<li>cd etc/apache2/sites-available</li>\n<li>sudo vim 000-default.conf</li>\n<li>INSERT ProxyPass / ajp://localhost:9090/</li>\n<li>INSERT ProxyPassReverse / ajp://localhost:9090/</li>\n</ul>\n<ol start=\"8\">\n<li>Restart Apache</li>\n</ol>\n<ul>\n<li>sudo service apache2 restart</li>\n</ul>\n<ol start=\"9\">\n<li>Install Java JDK</li>\n</ol>\n<ul>\n<li>sudo apt install openjdk-17-jdk</li>\n</ul>\n<ol start=\"10\">\n<li>Run .war file</li>\n</ol>\n<ul>\n<li>java -jar MessagingApp-0.0.1-SNAPSHOT.war</li>\n</ul>\n<p>My application runs without issue when deployed on my local server, but runs with EntityNotFoundException when deployed and accessed through public AWS EC2 instance IP address. I confirmed in the terminal that the server is listening on port 80, and I am able to access the root route when requesting http://{PUBLIC.IP}\nAny and all help is greatly appreciated. Thank you!</p>\n"},{"tags":["java","spring","postgresql","hibernate"],"comments":[{"owner":{"account_id":16761030,"reputation":8829,"user_id":12115778,"display_name":"richyen"},"score":0,"creation_date":1663100062,"post_id":73708502,"comment_id":130159075,"body_markdown":"Which method in `ArtifactBlobs` class is failing? I think it&#39;s a bit hard to help if we don&#39;t know which method is being called","body":"Which method in <code>ArtifactBlobs</code> class is failing? I think it&#39;s a bit hard to help if we don&#39;t know which method is being called"},{"owner":{"account_id":13774907,"reputation":15,"user_id":9941479,"display_name":"Harish Arutla"},"score":0,"creation_date":1663120220,"post_id":73708502,"comment_id":130162654,"body_markdown":"private ArtifactsBlobs \n\t\tgetArtifactBlobById(\n\t\t\tString workspaceId,\n\t\t\tString blobId) \n\t{\n\t\tMap&lt;String, Object&gt; valuesMap = new HashMap&lt;&gt;();\n\t\tvaluesMap.put(&quot;workspaceId&quot;, workspaceId);\n\t\tvaluesMap.put(&quot;blobId&quot;, blobId);\n\t\tArtifactsBlobs artifactBlob = \n\t\t\tiGenericDAO.getEntity(\n\t\t\t\tSqlQuery.GET_ARTIFACT_BLOB_BY_ID,\n\t\t\t\tvaluesMap);\n\t\t\n\t\tif (artifactBlob == null) \n\t\t{\n\t\t\tthrow new DataIntegrityViolationException(\n\t\t\t\t&quot;An unexpected error has occured while processing the request. Please try again later.&quot;);\n\t\t}\n\t\t\n\t\treturn artifactBlob;\n\t}","body":"private ArtifactsBlobs  \t\tgetArtifactBlobById( \t\t\tString workspaceId, \t\t\tString blobId)  \t{ \t\tMap&lt;String, Object&gt; valuesMap = new HashMap&lt;&gt;(); \t\tvaluesMap.put(&quot;workspaceId&quot;, workspaceId); \t\tvaluesMap.put(&quot;blobId&quot;, blobId); \t\tArtifactsBlobs artifactBlob =  \t\t\tiGenericDAO.getEntity( \t\t\t\tSqlQuery.GET_ARTIFACT_BLOB_BY_ID, \t\t\t\tvaluesMap); \t\t \t\tif (artifactBlob == null)  \t\t{ \t\t\tthrow new DataIntegrityViolationException( \t\t\t\t&quot;An unexpected error has occured while processing the request. Please try again later.&quot;); \t\t} \t\t \t\treturn artifactBlob; \t}"},{"owner":{"account_id":13774907,"reputation":15,"user_id":9941479,"display_name":"Harish Arutla"},"score":0,"creation_date":1663120321,"post_id":73708502,"comment_id":130162675,"body_markdown":"And the sql query is\n public static final String GET_ARTIFACT_BLOB_BY_ID = &quot;from ArtifactsBlobs A where A.guid = :blobId and A.workspaceId = :workspaceId&quot;;","body":"And the sql query is  public static final String GET_ARTIFACT_BLOB_BY_ID = &quot;from ArtifactsBlobs A where A.guid = :blobId and A.workspaceId = :workspaceId&quot;;"}],"answers":[{"tags":[],"owner":{"account_id":476510,"reputation":156,"user_id":887462,"display_name":"Ratman"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690126646,"creation_date":1690126646,"answer_id":76749077,"question_id":73708502,"body_markdown":"Your artifact blob column stores a byte array. In Postgresql, this is commonly managed using a LOB locator, which is an ID of type long. This ID is then used to retrieve the actual blob from another table. All of this is handled behind the scenes, but the retrieved data cannot be converted to a blob without a hint regarding the data type.\r\n\r\nTo map the blob property in your ArtifactBlobs class using annotations, try this:\r\n\r\n    @Lob\r\n    @Type(type = &quot;org.hibernate.type.BinaryType&quot;)\r\n    private Blob artifactBlobValue;\r\n\r\nFor a clob, which is a blob containing only text data:\r\n\r\n    @Type(type = &quot;org.hibernate.type.TextType&quot;)\r\n\r\nI am unsure about how to translate this annotation into XML mapping. I recommend switching to Java annotation mapping, as it is a straightforward process.","title":"Bad value for type long in postgres","body":"<p>Your artifact blob column stores a byte array. In Postgresql, this is commonly managed using a LOB locator, which is an ID of type long. This ID is then used to retrieve the actual blob from another table. All of this is handled behind the scenes, but the retrieved data cannot be converted to a blob without a hint regarding the data type.</p>\n<p>To map the blob property in your ArtifactBlobs class using annotations, try this:</p>\n<pre><code>@Lob\n@Type(type = &quot;org.hibernate.type.BinaryType&quot;)\nprivate Blob artifactBlobValue;\n</code></pre>\n<p>For a clob, which is a blob containing only text data:</p>\n<pre><code>@Type(type = &quot;org.hibernate.type.TextType&quot;)\n</code></pre>\n<p>I am unsure about how to translate this annotation into XML mapping. I recommend switching to Java annotation mapping, as it is a straightforward process.</p>\n"}],"owner":{"account_id":13774907,"reputation":15,"user_id":9941479,"display_name":"Harish Arutla"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":559,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1690126646,"creation_date":1663098296,"question_id":73708502,"body_markdown":"I am having a java application with Pojo being \r\n\r\n     public class ArtifactBlobs{\r\n    \tprivate static final long serialVersionUID = 1L;\r\n    \tprivate String guid;\r\n    \tprivate String workspaceId;\r\n    \tprivate Blob artifactBlobValue;\r\n    \tprivate Date createdAt;\r\n    \tprivate Long createdBy;\r\n    \tprivate Date updatedAt;\r\n    \tprivate Long updatedBy;\r\n    \tprivate Set waasArtifactsBlobsMetas = new HashSet(0);\r\n    \r\n    \tpublic ArtifactsBlobs() {\r\n    \t}\r\n    \r\n    \tpublic ArtifactsBlobs(String guid, Date createdAt, Date updatedAt) {\r\n    \t\tthis.guid = guid;\r\n    \t\tthis.createdAt = createdAt;\r\n    \t\tthis.updatedAt = updatedAt;\r\n    \t}\r\n    \r\n    \tpublic ArtifactsBlobs(String guid, String workspaceId,\r\n    \t\t\tBlob artifactBlobValue, Date createdAt, Long createdBy,\r\n    \t\t\tDate updatedAt, Long updatedBy) {\r\n    \t\tthis.guid = guid;\r\n    \t\tthis.workspaceId = workspaceId;\r\n    \t\tthis.artifactBlobValue = artifactBlobValue;\r\n    \t\tthis.createdAt = createdAt;\r\n    \t\tthis.createdBy = createdBy;\r\n    \t\tthis.updatedAt = updatedAt;\r\n    \t\tthis.updatedBy = updatedBy;\r\n    \t}\r\n    \r\n    \tpublic String getGuid() {\r\n    \t\treturn this.guid;\r\n    \t}\r\n    \r\n    \tpublic void setGuid(String guid) {\r\n    \t\tthis.guid = guid;\r\n    \t}\r\n    \r\n    \tpublic String getWorkspaceId() {\r\n    \t\treturn this.workspaceId;\r\n    \t}\r\n    \r\n    \tpublic void setWorkspaceId(String workspaceId) {\r\n    \t\tthis.workspaceId = workspaceId;\r\n    \t}\r\n    \r\n    \tpublic Blob getArtifactBlobValue() {\r\n    \t\treturn this.artifactBlobValue;\r\n    \t}\r\n    \r\n    \t@SuppressWarnings(&quot;CPD-START&quot;)\r\n    \tpublic void setArtifactBlobValue(Blob artifactBlobValue) {\r\n    \t\tthis.artifactBlobValue = artifactBlobValue;\r\n    \t}\r\n    \r\n    \tpublic Date getCreatedAt() {\r\n    \t\treturn this.createdAt;\r\n    \t}\r\n    \r\n    \tpublic void setCreatedAt(Date createdAt) {\r\n    \t\tthis.createdAt = createdAt;\r\n    \t}\r\n    \r\n    \tpublic Long getCreatedBy() {\r\n    \t\treturn this.createdBy;\r\n    \t}\r\n    \r\n    \tpublic void setCreatedBy(Long createdBy) {\r\n    \t\tthis.createdBy = createdBy;\r\n    \t}\r\n    \r\n    \tpublic Date getUpdatedAt() {\r\n    \t\treturn this.updatedAt;\r\n    \t}\r\n    \r\n    \tpublic void setUpdatedAt(Date updatedAt) {\r\n    \t\tthis.updatedAt = updatedAt;\r\n    \t}\r\n    \r\n    \tpublic Long getUpdatedBy() {\r\n    \t\treturn this.updatedBy;\r\n    \t}\r\n    \r\n    \tpublic void setUpdatedBy(Long updatedBy) {\r\n    \t\tthis.updatedBy = updatedBy;\r\n    \t}\r\n    \r\n    \tpublic Set getWaasArtifactsBlobsMetas() {\r\n    \t\treturn this.waasArtifactsBlobsMetas;\r\n    \t}\r\n    \r\n    \tpublic void setWaasArtifactsBlobsMetas(Set waasArtifactsBlobsMetas) {\r\n    \t\tthis.waasArtifactsBlobsMetas = waasArtifactsBlobsMetas;\r\n    \t}\r\n                         }\r\nExactly this method was failing\r\n\r\n    private ArtifactsBlobs \r\n    \t\tgetArtifactBlobById(\r\n    \t\t\tString workspaceId,\r\n    \t\t\tString blobId) \r\n    \t{\r\n    public static final String GET_ARTIFACT_BLOB_BY_ID = &quot;from ArtifactsBlobs A where A.guid = :blobId and A.workspaceId = :workspaceId&quot;;\r\n    \t\tMap&lt;String, Object&gt; valuesMap = new HashMap&lt;&gt;();\r\n    \t\tvaluesMap.put(&quot;workspaceId&quot;, workspaceId);\r\n    \t\tvaluesMap.put(&quot;blobId&quot;, blobId);\r\n    \t\tArtifactsBlobs artifactBlob = \r\n    \t\t\tiGenericDAO.getEntity(\r\n    \t\t\t\tSqlQuery.GET_ARTIFACT_BLOB_BY_ID,\r\n    \t\t\t\tvaluesMap);\r\n    \t\t\r\n    \t\tif (artifactBlob == null) \r\n    \t\t{\r\n    \t\t\t// Since the blobId is derived from data stored in artifacts table, \r\n    \t\t\t// absence of corr. entry in blobs table indicates data is incorrect in DB\r\n    \t\t\tthrow new DataIntegrityViolationException(\r\n    \t\t\t\t&quot;An unexpected error has occured while processing the request. Please try again later.&quot;);\r\n    \t\t}\r\n    \t\t\r\n    \t\treturn artifactBlob;\r\n    \t}\r\n\r\nAnd the hibernate bean configuration being \r\n\r\n    &lt;?xml version=&quot;1.0&quot;?&gt;\r\n    &lt;!DOCTYPE hibernate-mapping PUBLIC &quot;-//Hibernate/Hibernate Mapping DTD 3.0//EN&quot;\r\n    &quot;http://www.hibernate.org/dtd/hibernate-mapping-3.0.dtd&quot;&gt;\r\n    &lt;!-- Generated 23 Sep, 2014 12:10:11 PM by Hibernate Tools 3.4.0.CR1 --&gt;\r\n        &lt;hibernate-mapping&gt;\r\n            &lt;class name=&quot;com.db.entity.autogen.ArtifactsBlobs&quot; table=&quot;artifacts_blobs&quot;&gt;\r\n                &lt;id name=&quot;guid&quot; type=&quot;string&quot;&gt;\r\n                    &lt;column name=&quot;id&quot; length=&quot;36&quot; /&gt;\r\n                    &lt;generator class=&quot;assigned&quot; /&gt;\r\n                &lt;/id&gt;\r\n                &lt;property name=&quot;workspaceId&quot; type=&quot;string&quot;&gt;\r\n                    &lt;column name=&quot;workspace_id&quot; length=&quot;36&quot; /&gt;\r\n                &lt;/property&gt;\r\n                &lt;property name=&quot;artifactBlobValue&quot; type=&quot;blob&quot;&gt;\r\n                    &lt;column name=&quot;artifact_blob_value&quot; not-null=&quot;true&quot;/&gt;\r\n                &lt;/property&gt;\r\n                &lt;property name=&quot;createdAt&quot; type=&quot;timestamp&quot;&gt;\r\n                    &lt;column name=&quot;created_at&quot; length=&quot;19&quot; not-null=&quot;true&quot; /&gt;\r\n                &lt;/property&gt;\r\n                &lt;property name=&quot;createdBy&quot; type=&quot;java.lang.Long&quot;&gt;\r\n                    &lt;column name=&quot;created_by&quot; /&gt;\r\n                &lt;/property&gt;\r\n                &lt;property name=&quot;updatedAt&quot; type=&quot;timestamp&quot;&gt;\r\n                    &lt;column name=&quot;updated_at&quot; length=&quot;19&quot; not-null=&quot;true&quot; /&gt;\r\n                &lt;/property&gt;\r\n                &lt;property name=&quot;updatedBy&quot; type=&quot;java.lang.Long&quot;&gt;\r\n                    &lt;column name=&quot;updated_by&quot; /&gt;\r\n                &lt;/property&gt;\r\n                &lt;set name=&quot;waasArtifactsBlobsMetas&quot; table=&quot;waas_artifacts_blobs_meta&quot; inverse=&quot;true&quot; lazy=&quot;true&quot; fetch=&quot;select&quot;&gt;\r\n                    &lt;key&gt;\r\n                        &lt;column name=&quot;blob_id&quot; length=&quot;36&quot; not-null=&quot;true&quot; /&gt;\r\n                    &lt;/key&gt;\r\n                    &lt;one-to-many class=&quot;com.kony.waas.db.entity.autogen.WaasArtifactsBlobsMeta&quot; /&gt;\r\n                &lt;/set&gt;\r\n            &lt;/class&gt;\r\n        &lt;/hibernate-mapping&gt;\r\n    \r\n    and the Db Structure is \r\n    \r\n        CREATE TABLE artifacts_blobs (\r\n          id varchar(36) NOT NULL,\r\n          workspace_id varchar(36) NOT NULL,\r\n          artifact_blob_value bytea NOT NULL,\r\n          created_at timestamp(0) NOT NULL DEFAULT CURRENT_TIMESTAMP,\r\n          created_by bigint NOT NULL,\r\n          updated_at timestamp(0) NOT NULL DEFAULT CURRENT_TIMESTAMP,\r\n          updated_by bigint NOT NULL,\r\n          PRIMARY KEY (id)\r\n        ) ;\r\n    \r\n    The saving of the POJO class is going fine but while retrieving I am facing this error\r\n   \r\n    \r\n\r\njavax.persistence.PersistenceException: org.hibernate.exception.DataException: could not execute query\r\n    \tat org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:154) ~[hibernate-core-5.3.20.Final.jar:5.3.20.Final]\r\n    \tat org.hibernate.query.internal.AbstractProducedQuery.list(AbstractProducedQuery.java:1575) ~[hibernate-core-5.3.20.Final.jar:5.3.20.Final]\r\n    \tat org.hibernate.query.internal.AbstractProducedQuery.uniqueResult(AbstractProducedQuery.java:1608) ~[hibernate-core-5.3.20.Final.jar:5.3.20.Final]\r\n\r\nCaused by: org.postgresql.util.PSQLException: Bad value for type long : \\x35313162373838396435613932383937613638303266336663303236633964366332393838393638356663613039323163623538383562666164366163643039306633656335613162333734313638353539303335343662306336666164343232353362306261306\r\n\tat org.postgresql.jdbc.PgResultSet.toLong(PgResultSet.java:3253) ~[postgresql-42.5.0.jar:42.5.0]\r\n\tat org.postgresql.jdbc.PgResultSet.getLong(PgResultSet.java:2436) ~[postgresql-42.5.0.jar:42.5.0]\r\n\tat org.postgresql.jdbc.PgResultSet.getBlob(PgResultSet.java:456) ~[postgresql-42.5.0.jar:42.5.0]\r\n\tat org.postgresql.jdbc.PgResultSet.getBlob(PgResultSet.java:442) ~[postgresql-42.5.0.jar:42.5.0]\r\n\r\n\r\n\r\n\r\n","title":"Bad value for type long in postgres","body":"<p>I am having a java application with Pojo being</p>\n<pre><code> public class ArtifactBlobs{\n    private static final long serialVersionUID = 1L;\n    private String guid;\n    private String workspaceId;\n    private Blob artifactBlobValue;\n    private Date createdAt;\n    private Long createdBy;\n    private Date updatedAt;\n    private Long updatedBy;\n    private Set waasArtifactsBlobsMetas = new HashSet(0);\n\n    public ArtifactsBlobs() {\n    }\n\n    public ArtifactsBlobs(String guid, Date createdAt, Date updatedAt) {\n        this.guid = guid;\n        this.createdAt = createdAt;\n        this.updatedAt = updatedAt;\n    }\n\n    public ArtifactsBlobs(String guid, String workspaceId,\n            Blob artifactBlobValue, Date createdAt, Long createdBy,\n            Date updatedAt, Long updatedBy) {\n        this.guid = guid;\n        this.workspaceId = workspaceId;\n        this.artifactBlobValue = artifactBlobValue;\n        this.createdAt = createdAt;\n        this.createdBy = createdBy;\n        this.updatedAt = updatedAt;\n        this.updatedBy = updatedBy;\n    }\n\n    public String getGuid() {\n        return this.guid;\n    }\n\n    public void setGuid(String guid) {\n        this.guid = guid;\n    }\n\n    public String getWorkspaceId() {\n        return this.workspaceId;\n    }\n\n    public void setWorkspaceId(String workspaceId) {\n        this.workspaceId = workspaceId;\n    }\n\n    public Blob getArtifactBlobValue() {\n        return this.artifactBlobValue;\n    }\n\n    @SuppressWarnings(&quot;CPD-START&quot;)\n    public void setArtifactBlobValue(Blob artifactBlobValue) {\n        this.artifactBlobValue = artifactBlobValue;\n    }\n\n    public Date getCreatedAt() {\n        return this.createdAt;\n    }\n\n    public void setCreatedAt(Date createdAt) {\n        this.createdAt = createdAt;\n    }\n\n    public Long getCreatedBy() {\n        return this.createdBy;\n    }\n\n    public void setCreatedBy(Long createdBy) {\n        this.createdBy = createdBy;\n    }\n\n    public Date getUpdatedAt() {\n        return this.updatedAt;\n    }\n\n    public void setUpdatedAt(Date updatedAt) {\n        this.updatedAt = updatedAt;\n    }\n\n    public Long getUpdatedBy() {\n        return this.updatedBy;\n    }\n\n    public void setUpdatedBy(Long updatedBy) {\n        this.updatedBy = updatedBy;\n    }\n\n    public Set getWaasArtifactsBlobsMetas() {\n        return this.waasArtifactsBlobsMetas;\n    }\n\n    public void setWaasArtifactsBlobsMetas(Set waasArtifactsBlobsMetas) {\n        this.waasArtifactsBlobsMetas = waasArtifactsBlobsMetas;\n    }\n                     }\n</code></pre>\n<p>Exactly this method was failing</p>\n<pre><code>private ArtifactsBlobs \n        getArtifactBlobById(\n            String workspaceId,\n            String blobId) \n    {\npublic static final String GET_ARTIFACT_BLOB_BY_ID = &quot;from ArtifactsBlobs A where A.guid = :blobId and A.workspaceId = :workspaceId&quot;;\n        Map&lt;String, Object&gt; valuesMap = new HashMap&lt;&gt;();\n        valuesMap.put(&quot;workspaceId&quot;, workspaceId);\n        valuesMap.put(&quot;blobId&quot;, blobId);\n        ArtifactsBlobs artifactBlob = \n            iGenericDAO.getEntity(\n                SqlQuery.GET_ARTIFACT_BLOB_BY_ID,\n                valuesMap);\n        \n        if (artifactBlob == null) \n        {\n            // Since the blobId is derived from data stored in artifacts table, \n            // absence of corr. entry in blobs table indicates data is incorrect in DB\n            throw new DataIntegrityViolationException(\n                &quot;An unexpected error has occured while processing the request. Please try again later.&quot;);\n        }\n        \n        return artifactBlob;\n    }\n</code></pre>\n<p>And the hibernate bean configuration being</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot;?&gt;\n&lt;!DOCTYPE hibernate-mapping PUBLIC &quot;-//Hibernate/Hibernate Mapping DTD 3.0//EN&quot;\n&quot;http://www.hibernate.org/dtd/hibernate-mapping-3.0.dtd&quot;&gt;\n&lt;!-- Generated 23 Sep, 2014 12:10:11 PM by Hibernate Tools 3.4.0.CR1 --&gt;\n    &lt;hibernate-mapping&gt;\n        &lt;class name=&quot;com.db.entity.autogen.ArtifactsBlobs&quot; table=&quot;artifacts_blobs&quot;&gt;\n            &lt;id name=&quot;guid&quot; type=&quot;string&quot;&gt;\n                &lt;column name=&quot;id&quot; length=&quot;36&quot; /&gt;\n                &lt;generator class=&quot;assigned&quot; /&gt;\n            &lt;/id&gt;\n            &lt;property name=&quot;workspaceId&quot; type=&quot;string&quot;&gt;\n                &lt;column name=&quot;workspace_id&quot; length=&quot;36&quot; /&gt;\n            &lt;/property&gt;\n            &lt;property name=&quot;artifactBlobValue&quot; type=&quot;blob&quot;&gt;\n                &lt;column name=&quot;artifact_blob_value&quot; not-null=&quot;true&quot;/&gt;\n            &lt;/property&gt;\n            &lt;property name=&quot;createdAt&quot; type=&quot;timestamp&quot;&gt;\n                &lt;column name=&quot;created_at&quot; length=&quot;19&quot; not-null=&quot;true&quot; /&gt;\n            &lt;/property&gt;\n            &lt;property name=&quot;createdBy&quot; type=&quot;java.lang.Long&quot;&gt;\n                &lt;column name=&quot;created_by&quot; /&gt;\n            &lt;/property&gt;\n            &lt;property name=&quot;updatedAt&quot; type=&quot;timestamp&quot;&gt;\n                &lt;column name=&quot;updated_at&quot; length=&quot;19&quot; not-null=&quot;true&quot; /&gt;\n            &lt;/property&gt;\n            &lt;property name=&quot;updatedBy&quot; type=&quot;java.lang.Long&quot;&gt;\n                &lt;column name=&quot;updated_by&quot; /&gt;\n            &lt;/property&gt;\n            &lt;set name=&quot;waasArtifactsBlobsMetas&quot; table=&quot;waas_artifacts_blobs_meta&quot; inverse=&quot;true&quot; lazy=&quot;true&quot; fetch=&quot;select&quot;&gt;\n                &lt;key&gt;\n                    &lt;column name=&quot;blob_id&quot; length=&quot;36&quot; not-null=&quot;true&quot; /&gt;\n                &lt;/key&gt;\n                &lt;one-to-many class=&quot;com.kony.waas.db.entity.autogen.WaasArtifactsBlobsMeta&quot; /&gt;\n            &lt;/set&gt;\n        &lt;/class&gt;\n    &lt;/hibernate-mapping&gt;\n\nand the Db Structure is \n\n    CREATE TABLE artifacts_blobs (\n      id varchar(36) NOT NULL,\n      workspace_id varchar(36) NOT NULL,\n      artifact_blob_value bytea NOT NULL,\n      created_at timestamp(0) NOT NULL DEFAULT CURRENT_TIMESTAMP,\n      created_by bigint NOT NULL,\n      updated_at timestamp(0) NOT NULL DEFAULT CURRENT_TIMESTAMP,\n      updated_by bigint NOT NULL,\n      PRIMARY KEY (id)\n    ) ;\n\nThe saving of the POJO class is going fine but while retrieving I am facing this error\n</code></pre>\n<p>javax.persistence.PersistenceException: org.hibernate.exception.DataException: could not execute query\nat org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:154) ~[hibernate-core-5.3.20.Final.jar:5.3.20.Final]\nat org.hibernate.query.internal.AbstractProducedQuery.list(AbstractProducedQuery.java:1575) ~[hibernate-core-5.3.20.Final.jar:5.3.20.Final]\nat org.hibernate.query.internal.AbstractProducedQuery.uniqueResult(AbstractProducedQuery.java:1608) ~[hibernate-core-5.3.20.Final.jar:5.3.20.Final]</p>\n<p>Caused by: org.postgresql.util.PSQLException: Bad value for type long : \\x35313162373838396435613932383937613638303266336663303236633964366332393838393638356663613039323163623538383562666164366163643039306633656335613162333734313638353539303335343662306336666164343232353362306261306\nat org.postgresql.jdbc.PgResultSet.toLong(PgResultSet.java:3253) ~[postgresql-42.5.0.jar:42.5.0]\nat org.postgresql.jdbc.PgResultSet.getLong(PgResultSet.java:2436) ~[postgresql-42.5.0.jar:42.5.0]\nat org.postgresql.jdbc.PgResultSet.getBlob(PgResultSet.java:456) ~[postgresql-42.5.0.jar:42.5.0]\nat org.postgresql.jdbc.PgResultSet.getBlob(PgResultSet.java:442) ~[postgresql-42.5.0.jar:42.5.0]</p>\n"},{"tags":["java","maven"],"comments":[{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1690107975,"post_id":18389064,"comment_id":135304518,"body_markdown":"Doing this so it works in every scenario is not at all trivial. Plugins, BOMs jar/aar differences (if using Android), can all make this difficult. When we faced the issue, we ended up making a Gradle script, defining a custom repository, and having a proxy to capture all URLs as they were resolved.","body":"Doing this so it works in every scenario is not at all trivial. Plugins, BOMs jar/aar differences (if using Android), can all make this difficult. When we faced the issue, we ended up making a Gradle script, defining a custom repository, and having a proxy to capture all URLs as they were resolved."}],"answers":[{"comments":[{"owner":{"account_id":2930965,"reputation":10535,"user_id":2511197,"accept_rate":50,"display_name":"rec"},"score":0,"creation_date":1377202479,"post_id":18389128,"comment_id":27008038,"body_markdown":"Ivy is a good way to embed the resolving of Maven artifacts in an application. It is also possible to embed Maven itself, but the code to drive Maven handling the downloads ends up much more complicated than Ivy. I tried both approaches and stuck with Ivy in the end.","body":"Ivy is a good way to embed the resolving of Maven artifacts in an application. It is also possible to embed Maven itself, but the code to drive Maven handling the downloads ends up much more complicated than Ivy. I tried both approaches and stuck with Ivy in the end."}],"tags":[],"owner":{"account_id":45842,"reputation":13608,"user_id":135294,"display_name":"cjstehno"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1377199299,"creation_date":1377199299,"answer_id":18389128,"question_id":18389064,"body_markdown":"Something like [ivy](http://ant.apache.org/ivy/) would be more easily embedded in the manner you are suggesting. Ivy can use the same layout as maven, or a custom layout.","title":"Resolving Maven artifact URLs programmatically","body":"<p>Something like <a href=\"http://ant.apache.org/ivy/\" rel=\"nofollow\">ivy</a> would be more easily embedded in the manner you are suggesting. Ivy can use the same layout as maven, or a custom layout.</p>\n"},{"comments":[{"owner":{"account_id":2273,"reputation":132125,"user_id":3146,"accept_rate":79,"display_name":"1800 INFORMATION"},"score":0,"creation_date":1568175123,"post_id":18389231,"comment_id":102186822,"body_markdown":"This is perfect for me. The docs for nexus are https://help.sonatype.com/repomanager3/rest-and-integration-api/search-api","body":"This is perfect for me. The docs for nexus are <a href=\"https://help.sonatype.com/repomanager3/rest-and-integration-api/search-api\" rel=\"nofollow noreferrer\">help.sonatype.com/repomanager3/rest-and-integration-api/&hellip;</a>"}],"tags":[],"owner":{"account_id":1770094,"reputation":13649,"user_id":1615086,"display_name":"andersschuller"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1377199725,"creation_date":1377199725,"answer_id":18389231,"question_id":18389064,"body_markdown":"Many Maven repositories have an API that you can use to search for artifacts. For example, the central Maven repository has one, for which the documentation is [here](http://search.maven.org/#api).\r\n\r\nFor your example, the API of the central repository serves the following URL for linking directly to a search: \r\n\r\n[http://search.maven.org/#search|ga|1|g:&quot;org.apache.maven&quot; AND a:&quot;maven-core&quot; AND v:&quot;3.0&quot;](http://search.maven.org/#search%7Cga%7C1%7Cg%3A%22org.apache.maven%22%20AND%20a%3A%22maven-core%22%20AND%20v%3A%223.0%22)\r\n\r\nAnd the following URL for returning XML data (or JSON, by changing the last parameter):\r\n\r\n[http://search.maven.org/solrsearch/select?q=g:&quot;org.apache.maven&quot; AND a:&quot;maven-core&quot; AND v:&quot;3.0&quot;&amp;wt=xml](http://search.maven.org/solrsearch/select?q=g:%22org.apache.maven%22%20AND%20a:%22maven-core%22%20AND%20v:%223.0%22&amp;wt=xml)\r\n\r\nIn this case, you still have to create a URL for the JAR manually (or scrape the search results for it), but other repositories (like [Nexus](http://www.sonatype.org/nexus/)) provide this in the API results directly.","title":"Resolving Maven artifact URLs programmatically","body":"<p>Many Maven repositories have an API that you can use to search for artifacts. For example, the central Maven repository has one, for which the documentation is <a href=\"http://search.maven.org/#api\" rel=\"nofollow\">here</a>.</p>\n\n<p>For your example, the API of the central repository serves the following URL for linking directly to a search: </p>\n\n<p><a href=\"http://search.maven.org/#search%7Cga%7C1%7Cg%3A%22org.apache.maven%22%20AND%20a%3A%22maven-core%22%20AND%20v%3A%223.0%22\" rel=\"nofollow\">http://search.maven.org/#search|ga|1|g:\"org.apache.maven\" AND a:\"maven-core\" AND v:\"3.0\"</a></p>\n\n<p>And the following URL for returning XML data (or JSON, by changing the last parameter):</p>\n\n<p><a href=\"http://search.maven.org/solrsearch/select?q=g%3a%22org.apache.maven%22%20AND%20a%3a%22maven-core%22%20AND%20v%3a%223.0%22&amp;wt=xml\" rel=\"nofollow\">http://search.maven.org/solrsearch/select?q=g:\"org.apache.maven\" AND a:\"maven-core\" AND v:\"3.0\"&amp;wt=xml</a></p>\n\n<p>In this case, you still have to create a URL for the JAR manually (or scrape the search results for it), but other repositories (like <a href=\"http://www.sonatype.org/nexus/\" rel=\"nofollow\">Nexus</a>) provide this in the API results directly.</p>\n"},{"tags":[],"owner":{"account_id":19092422,"reputation":51311,"user_id":13942448,"display_name":"jccampanero"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1690126186,"creation_date":1690067307,"answer_id":76746092,"question_id":18389064,"body_markdown":"Please, consider running the following command:\r\n\r\n```\r\nmvn -X -U compile\r\n```\r\n\r\nusing this test `pom.xml` (note that the provided Jackson version not - yet - exists):\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;groupId&gt;org.example&lt;/groupId&gt;\r\n    &lt;artifactId&gt;mvn-test&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n\r\n    &lt;dependencies&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\r\n            &lt;version&gt;20.14.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n    &lt;/dependencies&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\nPlease, note that among information Maven will provide the following logs:\r\n\r\n```\r\n[DEBUG] =======================================================================\r\n[DEBUG] Using transporter WagonTransporter with priority -1.0 for https://repo.maven.apache.org/maven2\r\n[DEBUG] Using connector BasicRepositoryConnector with priority 0.0 for https://repo.maven.apache.org/maven2\r\nDownloading from central: https://repo.maven.apache.org/maven2/com/fasterxml/jackson/core/jackson-databind/20.14.2/jackson-databind-20.14.2.pom\r\n[DEBUG] Writing tracking file /Users/jccampanero/.m2/repository/com/fasterxml/jackson/core/jackson-databind/20.14.2/jackson-databind-20.14.2.pom.lastUpdated\r\n...\r\n```\r\n\r\nand this error trace:\r\n\r\n```\r\nCaused by: org.eclipse.aether.transfer.ArtifactNotFoundException: Could not find artifact com.fasterxml.jackson.core:jackson-databind:jar:20.14.2 in central (https://repo.maven.apache.org/maven2)\r\n    at org.eclipse.aether.connector.basic.ArtifactTransportListener.transferFailed (ArtifactTransportListener.java:48)\r\n    at org.eclipse.aether.connector.basic.BasicRepositoryConnector$TaskRunner.run (BasicRepositoryConnector.java:369)\r\n    at org.eclipse.aether.util.concurrency.RunnableErrorForwarder$1.run (RunnableErrorForwarder.java:75)\r\n    at org.eclipse.aether.connector.basic.BasicRepositoryConnector$DirectExecutor.execute (BasicRepositoryConnector.java:628)\r\n    at org.eclipse.aether.connector.basic.BasicRepositoryConnector.get (BasicRepositoryConnector.java:262)\r\n    at org.eclipse.aether.internal.impl.DefaultArtifactResolver.performDownloads (DefaultArtifactResolver.java:513)\r\n    at org.eclipse.aether.internal.impl.DefaultArtifactResolver.resolve (DefaultArtifactResolver.java:401)\r\n    at org.eclipse.aether.internal.impl.DefaultArtifactResolver.resolveArtifacts (DefaultArtifactResolver.java:229)\r\n    at org.eclipse.aether.internal.impl.DefaultRepositorySystem.resolveDependencies (DefaultRepositorySystem.java:340)\r\n```\r\n\r\nAs you can see, by default Maven uses [`BasicRepositoryConnector`](https://github.com/apache/maven-resolver/blob/master/maven-resolver-connector-basic/src/main/java/org/eclipse/aether/connector/basic/BasicRepositoryConnector.java) and [`Wagon`](https://github.com/apache/maven-resolver/blob/04a6c3c5f43eae00a9d190ccbb7ef93c7c8b8540/maven-resolver-transport-wagon/src/main/java/org/eclipse/aether/transport/wagon/WagonTransporter.java#L67) to download the requested artifacts.\r\n\r\nThe actual download is performed in the [`get`](https://github.com/apache/maven-resolver/blob/04a6c3c5f43eae00a9d190ccbb7ef93c7c8b8540/maven-resolver-connector-basic/src/main/java/org/eclipse/aether/connector/basic/BasicRepositoryConnector.java#L179) method: please, note it within the provided error trace.\r\n\r\nFor the actual download, among other things, it will use a [`RepositoryLayout`](https://github.com/apache/maven-resolver/blob/04a6c3c5f43eae00a9d190ccbb7ef93c7c8b8540/maven-resolver-spi/src/main/java/org/eclipse/aether/spi/connector/layout/RepositoryLayout.java#L35) provided by the configured [`RepositoryLayoutFactory`](https://github.com/apache/maven-resolver/blob/04a6c3c5f43eae00a9d190ccbb7ef93c7c8b8540/maven-resolver-spi/src/main/java/org/eclipse/aether/spi/connector/layout/RepositoryLayoutFactory.java) by default, see [here](https://github.com/apache/maven-resolver/blob/04a6c3c5f43eae00a9d190ccbb7ef93c7c8b8540/maven-resolver-impl/src/main/java/org/eclipse/aether/impl/DefaultServiceLocator.java#L189) and [here](https://github.com/apache/maven-resolver/blob/04a6c3c5f43eae00a9d190ccbb7ef93c7c8b8540/maven-resolver-impl/src/main/java/org/eclipse/aether/impl/guice/AetherModule.java#L177-L180), [`Maven2RepositoryLayoutFactory`](https://github.com/apache/maven-resolver/blob/04a6c3c5f43eae00a9d190ccbb7ef93c7c8b8540/maven-resolver-impl/src/main/java/org/eclipse/aether/impl/DefaultServiceLocator.java#L189).\r\n\r\nPlease, consider review the implemented [`getLocation`](https://github.com/apache/maven-resolver/blob/04a6c3c5f43eae00a9d190ccbb7ef93c7c8b8540/maven-resolver-impl/src/main/java/org/eclipse/aether/internal/impl/Maven2RepositoryLayoutFactory.java#L172-L213) methods for the default `Maven2RepositoryLayoutFactory`, written partially here for completeness:\r\n\r\n```java\r\npublic URI getLocation(Artifact artifact, boolean upload) {\r\n    StringBuilder path = new StringBuilder(128);\r\n\r\n\r\n    path.append(artifact.getGroupId().replace(&#39;.&#39;, &#39;/&#39;)).append(&#39;/&#39;);\r\n\r\n\r\n    path.append(artifact.getArtifactId()).append(&#39;/&#39;);\r\n\r\n\r\n    path.append(artifact.getBaseVersion()).append(&#39;/&#39;);\r\n\r\n\r\n    path.append(artifact.getArtifactId()).append(&#39;-&#39;).append(artifact.getVersion());\r\n\r\n\r\n    if (artifact.getClassifier().length() &gt; 0) {\r\n        path.append(&#39;-&#39;).append(artifact.getClassifier());\r\n    }\r\n\r\n\r\n    if (artifact.getExtension().length() &gt; 0) {\r\n        path.append(&#39;.&#39;).append(artifact.getExtension());\r\n    }\r\n\r\n\r\n    return toUri(path.toString());\r\n}\r\n```\r\n\r\nAs you can see it matches exactly the path of the URL used for the actual download:\r\n\r\n```\r\nhttps://repo.maven.apache.org/maven2/com/fasterxml/jackson/core/jackson-databind/20.14.2/jackson-databind-20.14.2.jar\r\n```\r\n\r\nYou can include new repository layouts if required although I never did myself: I came across some blogs like [this one](https://kthoms.wordpress.com/2009/10/13/how-to-register-a-custom-maven-repository-layout/) that could be of help.\r\n\r\nI am aware that the repository layout is typically conceived for local directory structure, but as described in the `RepositoryLayoutFactory` interface javadoc:\r\n\r\n```java\r\n/**\r\n * A factory to obtain repository layouts. A repository layout is responsible to map an artifact or some metadata to a\r\n * URI relative to the repository root where the resource resides. When the repository system needs to access a given\r\n * remote repository, it iterates the registered factories in descending order of their priority and calls\r\n * {@link #newInstance(RepositorySystemSession, RemoteRepository)} on them. The first layout returned by a factory will\r\n * then be used for transferring artifacts/metadata.\r\n */\r\n```\r\n\r\nAnd the description of the [`getLocation` methods](https://github.com/apache/maven-resolver/blob/04a6c3c5f43eae00a9d190ccbb7ef93c7c8b8540/maven-resolver-spi/src/main/java/org/eclipse/aether/spi/connector/layout/RepositoryLayout.java#L147-L167) in `RepositoryLayout`:\r\n\r\n```java\r\n/**\r\n * Gets the location within a remote repository where the specified artifact resides. The URI is relative to the\r\n * root directory of the repository.\r\n *\r\n * @param artifact The artifact to get the URI for, must not be {@code null}.\r\n * @param upload   {@code false} if the artifact is being downloaded, {@code true} if the artifact is being\r\n *                 uploaded.\r\n * @return The relative URI to the artifact, never {@code null}.\r\n */\r\nURI getLocation(Artifact artifact, boolean upload);\r\n\r\n\r\n/**\r\n * Gets the location within a remote repository where the specified metadata resides. The URI is relative to the\r\n * root directory of the repository.\r\n *\r\n * @param metadata The metadata to get the URI for, must not be {@code null}.\r\n * @param upload   {@code false} if the metadata is being downloaded, {@code true} if the metadata is being\r\n *                 uploaded.\r\n * @return The relative URI to the metadata, never {@code null}.\r\n */\r\nURI getLocation(Metadata metadata, boolean upload);\r\n```\r\n\r\nThat means that in order to resolve the URL of a certain artifact there is not a single answer, it will depend on the Maven Repository Layout provided.","title":"Resolving Maven artifact URLs programmatically","body":"<p>Please, consider running the following command:</p>\n<pre><code>mvn -X -U compile\n</code></pre>\n<p>using this test <code>pom.xml</code> (note that the provided Jackson version not - yet - exists):</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;org.example&lt;/groupId&gt;\n    &lt;artifactId&gt;mvn-test&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n\n    &lt;dependencies&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n            &lt;version&gt;20.14.2&lt;/version&gt;\n        &lt;/dependency&gt;\n\n    &lt;/dependencies&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>Please, note that among information Maven will provide the following logs:</p>\n<pre><code>[DEBUG] =======================================================================\n[DEBUG] Using transporter WagonTransporter with priority -1.0 for https://repo.maven.apache.org/maven2\n[DEBUG] Using connector BasicRepositoryConnector with priority 0.0 for https://repo.maven.apache.org/maven2\nDownloading from central: https://repo.maven.apache.org/maven2/com/fasterxml/jackson/core/jackson-databind/20.14.2/jackson-databind-20.14.2.pom\n[DEBUG] Writing tracking file /Users/jccampanero/.m2/repository/com/fasterxml/jackson/core/jackson-databind/20.14.2/jackson-databind-20.14.2.pom.lastUpdated\n...\n</code></pre>\n<p>and this error trace:</p>\n<pre><code>Caused by: org.eclipse.aether.transfer.ArtifactNotFoundException: Could not find artifact com.fasterxml.jackson.core:jackson-databind:jar:20.14.2 in central (https://repo.maven.apache.org/maven2)\n    at org.eclipse.aether.connector.basic.ArtifactTransportListener.transferFailed (ArtifactTransportListener.java:48)\n    at org.eclipse.aether.connector.basic.BasicRepositoryConnector$TaskRunner.run (BasicRepositoryConnector.java:369)\n    at org.eclipse.aether.util.concurrency.RunnableErrorForwarder$1.run (RunnableErrorForwarder.java:75)\n    at org.eclipse.aether.connector.basic.BasicRepositoryConnector$DirectExecutor.execute (BasicRepositoryConnector.java:628)\n    at org.eclipse.aether.connector.basic.BasicRepositoryConnector.get (BasicRepositoryConnector.java:262)\n    at org.eclipse.aether.internal.impl.DefaultArtifactResolver.performDownloads (DefaultArtifactResolver.java:513)\n    at org.eclipse.aether.internal.impl.DefaultArtifactResolver.resolve (DefaultArtifactResolver.java:401)\n    at org.eclipse.aether.internal.impl.DefaultArtifactResolver.resolveArtifacts (DefaultArtifactResolver.java:229)\n    at org.eclipse.aether.internal.impl.DefaultRepositorySystem.resolveDependencies (DefaultRepositorySystem.java:340)\n</code></pre>\n<p>As you can see, by default Maven uses <a href=\"https://github.com/apache/maven-resolver/blob/master/maven-resolver-connector-basic/src/main/java/org/eclipse/aether/connector/basic/BasicRepositoryConnector.java\" rel=\"nofollow noreferrer\"><code>BasicRepositoryConnector</code></a> and <a href=\"https://github.com/apache/maven-resolver/blob/04a6c3c5f43eae00a9d190ccbb7ef93c7c8b8540/maven-resolver-transport-wagon/src/main/java/org/eclipse/aether/transport/wagon/WagonTransporter.java#L67\" rel=\"nofollow noreferrer\"><code>Wagon</code></a> to download the requested artifacts.</p>\n<p>The actual download is performed in the <a href=\"https://github.com/apache/maven-resolver/blob/04a6c3c5f43eae00a9d190ccbb7ef93c7c8b8540/maven-resolver-connector-basic/src/main/java/org/eclipse/aether/connector/basic/BasicRepositoryConnector.java#L179\" rel=\"nofollow noreferrer\"><code>get</code></a> method: please, note it within the provided error trace.</p>\n<p>For the actual download, among other things, it will use a <a href=\"https://github.com/apache/maven-resolver/blob/04a6c3c5f43eae00a9d190ccbb7ef93c7c8b8540/maven-resolver-spi/src/main/java/org/eclipse/aether/spi/connector/layout/RepositoryLayout.java#L35\" rel=\"nofollow noreferrer\"><code>RepositoryLayout</code></a> provided by the configured <a href=\"https://github.com/apache/maven-resolver/blob/04a6c3c5f43eae00a9d190ccbb7ef93c7c8b8540/maven-resolver-spi/src/main/java/org/eclipse/aether/spi/connector/layout/RepositoryLayoutFactory.java\" rel=\"nofollow noreferrer\"><code>RepositoryLayoutFactory</code></a> by default, see <a href=\"https://github.com/apache/maven-resolver/blob/04a6c3c5f43eae00a9d190ccbb7ef93c7c8b8540/maven-resolver-impl/src/main/java/org/eclipse/aether/impl/DefaultServiceLocator.java#L189\" rel=\"nofollow noreferrer\">here</a> and <a href=\"https://github.com/apache/maven-resolver/blob/04a6c3c5f43eae00a9d190ccbb7ef93c7c8b8540/maven-resolver-impl/src/main/java/org/eclipse/aether/impl/guice/AetherModule.java#L177-L180\" rel=\"nofollow noreferrer\">here</a>, <a href=\"https://github.com/apache/maven-resolver/blob/04a6c3c5f43eae00a9d190ccbb7ef93c7c8b8540/maven-resolver-impl/src/main/java/org/eclipse/aether/impl/DefaultServiceLocator.java#L189\" rel=\"nofollow noreferrer\"><code>Maven2RepositoryLayoutFactory</code></a>.</p>\n<p>Please, consider review the implemented <a href=\"https://github.com/apache/maven-resolver/blob/04a6c3c5f43eae00a9d190ccbb7ef93c7c8b8540/maven-resolver-impl/src/main/java/org/eclipse/aether/internal/impl/Maven2RepositoryLayoutFactory.java#L172-L213\" rel=\"nofollow noreferrer\"><code>getLocation</code></a> methods for the default <code>Maven2RepositoryLayoutFactory</code>, written partially here for completeness:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public URI getLocation(Artifact artifact, boolean upload) {\n    StringBuilder path = new StringBuilder(128);\n\n\n    path.append(artifact.getGroupId().replace('.', '/')).append('/');\n\n\n    path.append(artifact.getArtifactId()).append('/');\n\n\n    path.append(artifact.getBaseVersion()).append('/');\n\n\n    path.append(artifact.getArtifactId()).append('-').append(artifact.getVersion());\n\n\n    if (artifact.getClassifier().length() &gt; 0) {\n        path.append('-').append(artifact.getClassifier());\n    }\n\n\n    if (artifact.getExtension().length() &gt; 0) {\n        path.append('.').append(artifact.getExtension());\n    }\n\n\n    return toUri(path.toString());\n}\n</code></pre>\n<p>As you can see it matches exactly the path of the URL used for the actual download:</p>\n<pre><code>https://repo.maven.apache.org/maven2/com/fasterxml/jackson/core/jackson-databind/20.14.2/jackson-databind-20.14.2.jar\n</code></pre>\n<p>You can include new repository layouts if required although I never did myself: I came across some blogs like <a href=\"https://kthoms.wordpress.com/2009/10/13/how-to-register-a-custom-maven-repository-layout/\" rel=\"nofollow noreferrer\">this one</a> that could be of help.</p>\n<p>I am aware that the repository layout is typically conceived for local directory structure, but as described in the <code>RepositoryLayoutFactory</code> interface javadoc:</p>\n<pre class=\"lang-java prettyprint-override\"><code>/**\n * A factory to obtain repository layouts. A repository layout is responsible to map an artifact or some metadata to a\n * URI relative to the repository root where the resource resides. When the repository system needs to access a given\n * remote repository, it iterates the registered factories in descending order of their priority and calls\n * {@link #newInstance(RepositorySystemSession, RemoteRepository)} on them. The first layout returned by a factory will\n * then be used for transferring artifacts/metadata.\n */\n</code></pre>\n<p>And the description of the <a href=\"https://github.com/apache/maven-resolver/blob/04a6c3c5f43eae00a9d190ccbb7ef93c7c8b8540/maven-resolver-spi/src/main/java/org/eclipse/aether/spi/connector/layout/RepositoryLayout.java#L147-L167\" rel=\"nofollow noreferrer\"><code>getLocation</code> methods</a> in <code>RepositoryLayout</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>/**\n * Gets the location within a remote repository where the specified artifact resides. The URI is relative to the\n * root directory of the repository.\n *\n * @param artifact The artifact to get the URI for, must not be {@code null}.\n * @param upload   {@code false} if the artifact is being downloaded, {@code true} if the artifact is being\n *                 uploaded.\n * @return The relative URI to the artifact, never {@code null}.\n */\nURI getLocation(Artifact artifact, boolean upload);\n\n\n/**\n * Gets the location within a remote repository where the specified metadata resides. The URI is relative to the\n * root directory of the repository.\n *\n * @param metadata The metadata to get the URI for, must not be {@code null}.\n * @param upload   {@code false} if the metadata is being downloaded, {@code true} if the metadata is being\n *                 uploaded.\n * @return The relative URI to the metadata, never {@code null}.\n */\nURI getLocation(Metadata metadata, boolean upload);\n</code></pre>\n<p>That means that in order to resolve the URL of a certain artifact there is not a single answer, it will depend on the Maven Repository Layout provided.</p>\n"}],"owner":{"account_id":3207984,"reputation":51,"user_id":2708622,"display_name":"Shashir Reddy"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2525,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":3,"score":4,"last_activity_date":1690126186,"creation_date":1377198990,"question_id":18389064,"body_markdown":"**Short:** Given (groupId, artifactId, version, repository URL) can I programmatically have Maven resolve the artifact URL? \r\n\r\n**Long:** Given (groupId, artifactId, version, repository URL), one can download a Maven artifact. Usually the URL to the artifact looks like:\r\n\r\nscheme://{repository}/{groupId}/{artifactId}/{version}/{artifactId}-{version}.jar\r\n\r\nFor (org.apache.maven, maven-core, 3.0.0, http://repo.maven.org/maven2), the artifact URL resolves to:\r\n\r\nhttp://repo.maven.org/maven2/org/apache/maven/maven-core/3.0.0/maven-core-3.0.0.jar\r\n\r\nUsing the inferred pattern above, I can use string concatenations to produce the artifact URL for any given (groupId, artifactId, version, repository URL). However, I do not want to rely on this inferred pattern since it is subject to change in future versions of Maven.\r\n\r\nCan I programmatically have Maven resolve the artifact URL for me given (groupId, artifactId, version, repository URL)?","title":"Resolving Maven artifact URLs programmatically","body":"<p><strong>Short:</strong> Given (groupId, artifactId, version, repository URL) can I programmatically have Maven resolve the artifact URL? </p>\n\n<p><strong>Long:</strong> Given (groupId, artifactId, version, repository URL), one can download a Maven artifact. Usually the URL to the artifact looks like:</p>\n\n<p>scheme://{repository}/{groupId}/{artifactId}/{version}/{artifactId}-{version}.jar</p>\n\n<p>For (org.apache.maven, maven-core, 3.0.0, <a href=\"http://repo.maven.org/maven2\" rel=\"nofollow\">http://repo.maven.org/maven2</a>), the artifact URL resolves to:</p>\n\n<p><a href=\"http://repo.maven.org/maven2/org/apache/maven/maven-core/3.0.0/maven-core-3.0.0.jar\" rel=\"nofollow\">http://repo.maven.org/maven2/org/apache/maven/maven-core/3.0.0/maven-core-3.0.0.jar</a></p>\n\n<p>Using the inferred pattern above, I can use string concatenations to produce the artifact URL for any given (groupId, artifactId, version, repository URL). However, I do not want to rely on this inferred pattern since it is subject to change in future versions of Maven.</p>\n\n<p>Can I programmatically have Maven resolve the artifact URL for me given (groupId, artifactId, version, repository URL)?</p>\n"},{"tags":["java","anylogic","pojo"],"comments":[{"owner":{"account_id":4196914,"reputation":8766,"user_id":3438111,"accept_rate":100,"display_name":"Felipe"},"score":0,"creation_date":1690177371,"post_id":76749021,"comment_id":135311367,"body_markdown":"i would say that this is probably completely determined by programmer style and the context of what needs to be done, hence it&#39;s just about opinion and doesn&#39;t have a definitive answer.","body":"i would say that this is probably completely determined by programmer style and the context of what needs to be done, hence it&#39;s just about opinion and doesn&#39;t have a definitive answer."}],"owner":{"account_id":27475771,"reputation":11,"user_id":20963792,"display_name":"Sharif Khaleghparast"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1690125862,"creation_date":1690125862,"question_id":76749021,"body_markdown":"In Anylogic, I use a POJO class that keeps the input data of an agent. I instantiate a POJO object for an agent and feed it to that agent as a parameter. After I instantiate a POJO object for an agent, fill the POJO with the agent&#39;s input data, and feed it to the agent as a parameter, there are 3 ways to process that parameter:\r\n\r\n 1. **Assign Parameter to Agent Field and Use Getters:** Assign the POJO parameter to an agent field and use getter methods to retrieve specific data from that field. This approach allows you to encapsulate the POJO data within the agent while providing controlled access to the data through getters and promotes information hiding.\r\n\r\n        public class MyAgent extends Agent {\r\n            private InputData inputData; // Assuming InputData is the POJO class\r\n            \r\n            public MyAgent(InputData inputData) {\r\n                this.inputData = inputData;\r\n            }\r\n            \r\n            // Example getter method\r\n            public double getSomeValue() {\r\n                return inputData.getSomeValue(); // Assuming getSomeValue() is a method in InputData\r\n            }\r\n        }\r\n\r\n 2. **Assign Parameter to Agent Field and Define Other Fields:** Assign the POJO parameter to an agent field, but you also define other fields in the agent to directly store relevant data from the POJO. This approach allows you to extract and store specific data from the POJO upfront, potentially providing faster access during simulation.\r\n\r\n        public class MyAgent extends Agent {\r\n            private InputData inputData; // Assuming InputData is the POJO class\r\n            private double someValue; // Other field to store a specific value from the POJO\r\n            \r\n            public MyAgent(InputData inputData) {\r\n                this.inputData = inputData;\r\n                this.someValue = inputData.getSomeValue(); // Assuming getSomeValue() is a method in InputData\r\n            }\r\n            \r\n            // Example getter method\r\n            public double getSomeValue() {\r\n                return someValue;\r\n            }\r\n        }\r\n\r\n 3. **Directly Assign Parameter Data to Agent Fields:** Directly assign specific data from the POJO parameter to corresponding agent fields without storing the entire POJO within the agent. This approach provides direct access to the necessary data while avoiding additional indirection.\r\n\r\n        public class MyAgent extends Agent {\r\n            private double someValue; // Agent field to store a specific value from the POJO\r\n            \r\n            public MyAgent(InputData inputData) {\r\n                this.someValue = inputData.getSomeValue(); // Assuming getSomeValue() is a method in InputData\r\n            }\r\n        \r\n            // Example getter method\r\n            public double getSomeValue() {\r\n                return someValue;\r\n            }\r\n        }\r\n\r\nAs we normally have data fields in the POJO that directly map to agent fields, the second or third approach may be more suitable. I am wondering what is the best practice inline with OOP principles in this context?","title":"Should input POJOs be assigned to an agent field (variable) and define other fields (variables)?","body":"<p>In Anylogic, I use a POJO class that keeps the input data of an agent. I instantiate a POJO object for an agent and feed it to that agent as a parameter. After I instantiate a POJO object for an agent, fill the POJO with the agent's input data, and feed it to the agent as a parameter, there are 3 ways to process that parameter:</p>\n<ol>\n<li><p><strong>Assign Parameter to Agent Field and Use Getters:</strong> Assign the POJO parameter to an agent field and use getter methods to retrieve specific data from that field. This approach allows you to encapsulate the POJO data within the agent while providing controlled access to the data through getters and promotes information hiding.</p>\n<pre><code>public class MyAgent extends Agent {\n    private InputData inputData; // Assuming InputData is the POJO class\n\n    public MyAgent(InputData inputData) {\n        this.inputData = inputData;\n    }\n\n    // Example getter method\n    public double getSomeValue() {\n        return inputData.getSomeValue(); // Assuming getSomeValue() is a method in InputData\n    }\n}\n</code></pre>\n</li>\n<li><p><strong>Assign Parameter to Agent Field and Define Other Fields:</strong> Assign the POJO parameter to an agent field, but you also define other fields in the agent to directly store relevant data from the POJO. This approach allows you to extract and store specific data from the POJO upfront, potentially providing faster access during simulation.</p>\n<pre><code>public class MyAgent extends Agent {\n    private InputData inputData; // Assuming InputData is the POJO class\n    private double someValue; // Other field to store a specific value from the POJO\n\n    public MyAgent(InputData inputData) {\n        this.inputData = inputData;\n        this.someValue = inputData.getSomeValue(); // Assuming getSomeValue() is a method in InputData\n    }\n\n    // Example getter method\n    public double getSomeValue() {\n        return someValue;\n    }\n}\n</code></pre>\n</li>\n<li><p><strong>Directly Assign Parameter Data to Agent Fields:</strong> Directly assign specific data from the POJO parameter to corresponding agent fields without storing the entire POJO within the agent. This approach provides direct access to the necessary data while avoiding additional indirection.</p>\n<pre><code>public class MyAgent extends Agent {\n    private double someValue; // Agent field to store a specific value from the POJO\n\n    public MyAgent(InputData inputData) {\n        this.someValue = inputData.getSomeValue(); // Assuming getSomeValue() is a method in InputData\n    }\n\n    // Example getter method\n    public double getSomeValue() {\n        return someValue;\n    }\n}\n</code></pre>\n</li>\n</ol>\n<p>As we normally have data fields in the POJO that directly map to agent fields, the second or third approach may be more suitable. I am wondering what is the best practice inline with OOP principles in this context?</p>\n"},{"tags":["java","android","audio","webrtc","webrtc-android"],"owner":{"account_id":6413964,"reputation":101,"user_id":5058118,"display_name":"Dan Burdetsky"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":118,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690123645,"creation_date":1690123645,"question_id":76748860,"body_markdown":"I am currently experiencing an issue with my Android STB device when I attempt to play a WebRTC stream with stereo audio (two audio channels). The main issue is that the device always downmixes the Left/Right channels to mono, regardless of the different tests and actions I&#39;ve taken.\r\n\r\nThe WebRTC stream is received from Red5 Stream Manager servers, and I&#39;m using the org.webrtc:google-webrtc:1.0.32006 library.\r\n\r\nHere&#39;s a summary of the actions I&#39;ve undertaken and the corresponding findings:\r\n\r\n - I tested the source audio on both the PC Chrome browser and Android Chrome browser on the STB. The audio played correctly in stereo on both, confirming that the source audio is functioning properly.\r\n \r\n - To confirm that the audio stream arrives in stereo, I implemented additional logging. The analysis confirmed that the audio stream does indeed arrive with two channels:\r\n\r\n&gt;  Stats ID: RTCCodec_audio_Outbound_111\r\n&gt;                                                                                                     Stats Type: codec\r\n&gt;                                                                                                     payloadType: 111\r\n&gt;                                                                                                     mimeType: audio/opus\r\n&gt;                                                                                                     clockRate: 48000\r\n&gt;                                                                                                     channels: 2\r\n&gt;                                                                                                     sdpFmtpLine:\r\n&gt; maxaveragebitrate=128000;maxplaybackrate=48000;minptime=10;sprop-stereo=1;stereo=1;useinbandfec=1\r\n&gt;                                                                                                     --------------------------------------------------\r\n\r\n - I tried various audio-related implementations, but the audio output continued to play in mono, so decided to stick with ***javaAudioDeviceModule***\r\n\r\n - I also attempted SDP munging manipulation and performed component updates, but neither action resolved the issue.\r\n\r\n - I made adjustments to audio parameters within the app, but the desired stereo output remained elusive:\r\n\r\n&gt;          JavaAudioDeviceModule javaAudioDeviceModule = JavaAudioDeviceModule.builder(context)\r\n&gt;                 .setSamplesReadyCallback(null)\r\n&gt;                 .setUseHardwareAcousticEchoCanceler(false)\r\n&gt;                 .setUseHardwareNoiseSuppressor(false)\r\n&gt;                 .setAudioRecordErrorCallback(null)\r\n&gt;                 .setAudioTrackErrorCallback(null)\r\n&gt;                 .setUseStereoInput(true)\r\n&gt;                 .setUseStereoOutput(true)\r\n&gt;                 .createAudioDeviceModule();\r\n\r\n - The issue persists across various devices, including the Amino Amigo, Amino H-200, and an XIAOMI Android cell phone.\r\n\r\nBelow is the relevant code class that I&#39;m working with:\r\n\r\n    package com.twizted.videoflowplayer.webrtc;\r\n    \r\n    import android.content.Context;\r\n    import android.os.Handler;\r\n    import android.os.Looper;\r\n    import android.util.Log;\r\n    \r\n    import org.webrtc.AudioSource;\r\n    import org.webrtc.AudioTrack;\r\n    import org.webrtc.CandidatePairChangeEvent;\r\n    import org.webrtc.DataChannel;\r\n    import org.webrtc.DefaultVideoDecoderFactory;\r\n    import org.webrtc.DefaultVideoEncoderFactory;\r\n    import org.webrtc.EglBase;\r\n    import org.webrtc.IceCandidate;\r\n    import org.webrtc.MediaConstraints;\r\n    import org.webrtc.MediaStream;\r\n    import org.webrtc.PeerConnection;\r\n    import org.webrtc.PeerConnectionFactory;\r\n    import org.webrtc.RTCStats;\r\n    import org.webrtc.RTCStatsCollectorCallback;\r\n    import org.webrtc.RTCStatsReport;\r\n    import org.webrtc.RendererCommon;\r\n    import org.webrtc.RtpReceiver;\r\n    import org.webrtc.RtpTransceiver;\r\n    import org.webrtc.SessionDescription;\r\n    import org.webrtc.SurfaceViewRenderer;\r\n    import org.webrtc.VideoTrack;\r\n    import org.webrtc.audio.JavaAudioDeviceModule;\r\n    \r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    import java.util.Map;\r\n    import java.util.Timer;\r\n    import java.util.TimerTask;\r\n    \r\n    public class WebRTCNativeClient implements PeerConnection.Observer, Red5MediaSignallingEvents {\r\n        private static final String TAG = &quot;WebRTCNativeClient&quot;;\r\n    \r\n        private Handler handler = new Handler(Looper.getMainLooper());\r\n    \r\n        private Context context;\r\n        private final IWebRTCListener webRTCListener;\r\n    \r\n        private String stunServerUri = &quot;stun:stun.l.google.com:19302&quot;;\r\n        private List&lt;PeerConnection.IceServer&gt; peerIceServers = new ArrayList&lt;&gt;();\r\n    \r\n        private PeerConnection peerConnection;\r\n        private PeerConnectionFactory peerConnectionFactory;\r\n        private EglBase rootEglBase;\r\n        private SurfaceViewRenderer renderer;\r\n        private MediaConstraints sdpMediaConstraints;\r\n        private boolean iceConnected;\r\n    \r\n        private WebSocketHandler wsHandler;\r\n        private Timer statsTimer;\r\n    \r\n        private String streamId;\r\n        private boolean debug;\r\n        private String url;\r\n    \r\n        private AudioTrack localAudioTrack;\r\n    \r\n        public WebRTCNativeClient(IWebRTCListener webRTCListener, Context context) {\r\n            this.webRTCListener = webRTCListener;\r\n            this.context = context;\r\n        }\r\n    \r\n        public void setRenderer(SurfaceViewRenderer renderer) {\r\n            this.renderer = renderer;\r\n        }\r\n    \r\n        public void init(String url, String streamId, boolean debug) {\r\n            if (peerConnection != null) {\r\n                Log.w(TAG, &quot;There is already an active peerconnection client &quot;);\r\n                return;\r\n            }\r\n    \r\n            if (url == null) {\r\n                Log.e(TAG, &quot;Didn&#39;t get any URL!&quot;);\r\n                return;\r\n            }\r\n    \r\n            this.url = url;\r\n            this.streamId = streamId;\r\n            this.debug = debug;\r\n            iceConnected = false;\r\n    \r\n            sdpMediaConstraints = new MediaConstraints();\r\n            sdpMediaConstraints.mandatory.add(\r\n                    new MediaConstraints.KeyValuePair(&quot;OfferToReceiveAudio&quot;, &quot;true&quot;));\r\n            sdpMediaConstraints.mandatory.add(new MediaConstraints.KeyValuePair(\r\n                    &quot;OfferToReceiveVideo&quot;, &quot;true&quot;));\r\n    \r\n            PeerConnection.IceServer peerIceServer = PeerConnection.IceServer.builder(stunServerUri).createIceServer();\r\n            peerIceServers.add(peerIceServer);\r\n    \r\n            rootEglBase = EglBase.create();\r\n            renderer.init(rootEglBase.getEglBaseContext(), null);\r\n            renderer.setZOrderMediaOverlay(true);\r\n            renderer.setScalingType(RendererCommon.ScalingType.SCALE_ASPECT_FIT);\r\n    \r\n            // Initialize PeerConnectionFactory globals.\r\n            PeerConnectionFactory.InitializationOptions initializationOptions =\r\n                    PeerConnectionFactory.InitializationOptions.builder(context)\r\n                            .createInitializationOptions();\r\n            PeerConnectionFactory.initialize(initializationOptions);\r\n    \r\n            // Create a new PeerConnectionFactory instance - using Hardware encoder and decoder.\r\n            PeerConnectionFactory.Options options = new PeerConnectionFactory.Options();\r\n    \r\n            DefaultVideoEncoderFactory defaultVideoEncoderFactory = new DefaultVideoEncoderFactory(\r\n                    rootEglBase.getEglBaseContext(), true, true);\r\n            DefaultVideoDecoderFactory defaultVideoDecoderFactory = new DefaultVideoDecoderFactory(rootEglBase.getEglBaseContext());\r\n    \r\n            JavaAudioDeviceModule javaAudioDeviceModule = JavaAudioDeviceModule.builder(context)\r\n                    .setSamplesReadyCallback(null)\r\n                    .setUseHardwareAcousticEchoCanceler(false)\r\n                    .setUseHardwareNoiseSuppressor(false)\r\n                    .setAudioRecordErrorCallback(null)\r\n                    .setAudioTrackErrorCallback(null)\r\n                    .setUseStereoInput(true)\r\n                    .setUseStereoOutput(true)\r\n                    .createAudioDeviceModule();\r\n    \r\n            peerConnectionFactory = PeerConnectionFactory.builder()\r\n                    .setOptions(options)\r\n                    .setAudioDeviceModule(javaAudioDeviceModule)\r\n                    .setVideoEncoderFactory(defaultVideoEncoderFactory)\r\n                    .setVideoDecoderFactory(defaultVideoDecoderFactory)\r\n                    .createPeerConnectionFactory();\r\n    \r\n            createPeerConnection();\r\n        }\r\n    \r\n        private void createPeerConnection() {\r\n            PeerConnection.RTCConfiguration rtcConfig =\r\n                    new PeerConnection.RTCConfiguration(peerIceServers);\r\n            rtcConfig.iceTransportsType = PeerConnection.IceTransportsType.ALL;\r\n            rtcConfig.tcpCandidatePolicy = PeerConnection.TcpCandidatePolicy.DISABLED;\r\n            rtcConfig.bundlePolicy = PeerConnection.BundlePolicy.MAXBUNDLE;\r\n            rtcConfig.rtcpMuxPolicy = PeerConnection.RtcpMuxPolicy.REQUIRE;\r\n            rtcConfig.continualGatheringPolicy = PeerConnection.ContinualGatheringPolicy.GATHER_CONTINUALLY;\r\n            rtcConfig.keyType = PeerConnection.KeyType.ECDSA;\r\n            peerConnection = peerConnectionFactory.createPeerConnection(rtcConfig, this);\r\n    \r\n            // Set up audio track\r\n    //        final AudioSource audioSource = peerConnectionFactory.createAudioSource(new MediaConstraints());\r\n    //        localAudioTrack = peerConnectionFactory.createAudioTrack(&quot;my-audio-track&quot;, audioSource);\r\n    //\r\n    //        if (peerConnection != null) {\r\n    //            peerConnection.addTrack(localAudioTrack);\r\n    //        }\r\n        }\r\n    \r\n        public void startStream(String url, String streamId, boolean debug) {\r\n            init(url, streamId, debug);\r\n            if (wsHandler == null) {\r\n                wsHandler = new WebSocketHandler(this, handler, this.streamId);\r\n                wsHandler.connect(url);\r\n            } else if (!wsHandler.isConnected()) {\r\n                wsHandler.disconnect(true);\r\n                wsHandler = new WebSocketHandler(this, handler, this.streamId);\r\n                wsHandler.connect(url);\r\n            }\r\n            wsHandler.startPlay();\r\n        }\r\n    \r\n        public void stopStream() {\r\n            disconnect();\r\n        }\r\n    \r\n        public void disconnect() {\r\n            release();\r\n        }\r\n    \r\n        private void release() {\r\n            iceConnected = false;\r\n            cancelTimer();\r\n            if (wsHandler != null &amp;&amp; wsHandler.getSignallingListener().equals(this)) {\r\n                wsHandler.disconnect(true);\r\n                wsHandler = null;\r\n            }\r\n    \r\n            if (renderer != null) {\r\n                renderer.release();\r\n            }\r\n    \r\n            if (peerConnection != null) {\r\n                peerConnection.close();\r\n                peerConnection = null;\r\n            }\r\n        }\r\n    \r\n        private void cancelTimer() {\r\n            if (statsTimer != null) {\r\n                statsTimer.cancel();\r\n                statsTimer = null;\r\n            }\r\n        }\r\n    \r\n        public boolean isStreaming() {\r\n            return iceConnected;\r\n        }\r\n    \r\n        private void gotRemoteStream(MediaStream stream) {\r\n            final VideoTrack videoTrack = stream.videoTracks.get(0);\r\n            handler.post(() -&gt; {\r\n                try {\r\n                    videoTrack.addSink(renderer);\r\n                } catch (Exception e) {\r\n                    e.printStackTrace();\r\n                }\r\n            });\r\n        }\r\n    \r\n        @Override\r\n        public void onSignalingChange(PeerConnection.SignalingState signalingState) {\r\n            Log.d(TAG, &quot;onSignalingChange() called with: signalingState = [&quot; + signalingState + &quot;]&quot;);\r\n        }\r\n    \r\n        @Override\r\n        public void onIceConnectionChange(PeerConnection.IceConnectionState iceConnectionState) {\r\n            Log.d(TAG, &quot;onIceConnectionChange() called with: iceConnectionState = [&quot; + iceConnectionState + &quot;]&quot;);\r\n            handler.post(() -&gt; {\r\n                if (iceConnectionState == PeerConnection.IceConnectionState.CONNECTED) {\r\n                    iceConnected = true;\r\n                    enableStatsEvents(debug, 1000);\r\n                    if (webRTCListener != null) {\r\n                        webRTCListener.onIceConnected();\r\n                    }\r\n                } else if (iceConnectionState == PeerConnection.IceConnectionState.DISCONNECTED ||\r\n                        iceConnectionState == PeerConnection.IceConnectionState.CLOSED) {\r\n                    iceConnected = false;\r\n                    disconnect();\r\n                    if (webRTCListener != null) {\r\n                        webRTCListener.onIceDisconnected();\r\n                    }\r\n                } else if (iceConnectionState == PeerConnection.IceConnectionState.FAILED) {\r\n                    iceConnected = false;\r\n                    disconnect();\r\n                    if (webRTCListener != null) {\r\n                        webRTCListener.onError(&quot;ICE connection failed.&quot;);\r\n                    }\r\n                }\r\n            });\r\n    \r\n        }\r\n    \r\n        public void enableStatsEvents(boolean enable, int periodMs) {\r\n            Log.d(TAG, &quot;enableStatsEvents() called with: enabled = [&quot; + enable + &quot;]  --- [&quot; + handler + &quot;]  --- [&quot; + peerConnection + &quot;]  --- [&quot; + webRTCListener + &quot;]&quot;);\r\n            if (enable) {\r\n                try {\r\n                    if (statsTimer == null) statsTimer = new Timer();\r\n                    statsTimer.schedule(new TimerTask() {\r\n                        @Override\r\n                        public void run() {\r\n                            handler.post(() -&gt; {\r\n                                if (peerConnection == null) return;\r\n                                peerConnection.getStats(new RTCStatsCollectorCallback() {\r\n                                    @Override\r\n                                    public void onStatsDelivered(RTCStatsReport rtcStatsReport) {\r\n                                        if (webRTCListener != null)\r\n                                            webRTCListener.onReport(rtcStatsReport);\r\n                                        printAudioStats(rtcStatsReport);\r\n                                    }\r\n                                });\r\n                            });\r\n                        }\r\n                    }, 0, periodMs);\r\n                } catch (Exception e) {\r\n                    Log.e(TAG, &quot;Can not schedule statistics timer&quot;, e);\r\n                }\r\n            } else {\r\n                cancelTimer();\r\n            }\r\n        }\r\n    \r\n        private void printAudioStats(RTCStatsReport rtcStatsReport) {\r\n            StringBuilder stringBuilder = new StringBuilder();\r\n            stringBuilder.append(&quot;Audio Statistics:\\n&quot;);\r\n            for (RTCStats stats : rtcStatsReport.getStatsMap().values()) {\r\n                stringBuilder.append(&quot;Stats ID: &quot;).append(stats.getId()).append(&quot;\\n&quot;);\r\n                stringBuilder.append(&quot;Stats Type: &quot;).append(stats.getType()).append(&quot;\\n&quot;);\r\n                Map&lt;String, Object&gt; members = stats.getMembers();\r\n                for (String statKey : members.keySet()) {\r\n                    stringBuilder.append(statKey).append(&quot;: &quot;).append(members.get(statKey)).append(&quot;\\n&quot;);\r\n                }\r\n                stringBuilder.append(&quot;--------------------------------------------------\\n&quot;);\r\n            }\r\n            Log.d(TAG, stringBuilder.toString());\r\n        }\r\n    \r\n        @Override\r\n        public void onStandardizedIceConnectionChange(PeerConnection.IceConnectionState newState) {\r\n            Log.d(TAG, &quot;onStandardizedIceConnectionChange() called with: newState = [&quot; + newState + &quot;]&quot;);\r\n        }\r\n    \r\n        @Override\r\n        public void onConnectionChange(PeerConnection.PeerConnectionState newState) {\r\n            Log.d(TAG, &quot;onConnectionChange() called with: newState = [&quot; + newState + &quot;]&quot;);\r\n        }\r\n    \r\n        @Override\r\n        public void onIceConnectionReceivingChange(boolean b) {\r\n            Log.d(TAG, &quot;onIceConnectionReceivingChange() called with: b = [&quot; + b + &quot;]&quot;);\r\n        }\r\n    \r\n        @Override\r\n        public void onIceGatheringChange(PeerConnection.IceGatheringState iceGatheringState) {\r\n            Log.d(TAG, &quot;onIceGatheringChange() called with: iceGatheringState = [&quot; + iceGatheringState + &quot;]&quot;);\r\n        }\r\n    \r\n        @Override\r\n        public void onIceCandidate(IceCandidate iceCandidate) {\r\n            Log.d(TAG, &quot;onIceCandidate() called with: iceCandidate = [&quot; + iceCandidate + &quot;]&quot;);\r\n            handler.post(() -&gt; {\r\n                if (wsHandler != null) wsHandler.sendLocalIceCandidate(iceCandidate);\r\n            });\r\n        }\r\n    \r\n        @Override\r\n        public void onIceCandidatesRemoved(IceCandidate[] iceCandidates) {\r\n            Log.d(TAG, &quot;onIceCandidatesRemoved() called with: iceCandidates = [&quot; + iceCandidates + &quot;]&quot;);\r\n        }\r\n    \r\n        @Override\r\n        public void onSelectedCandidatePairChanged(CandidatePairChangeEvent event) {\r\n            Log.d(TAG, &quot;onSelectedCandidatePairChanged() called with: event = [&quot; + event + &quot;]&quot;);\r\n        }\r\n    \r\n        @Override\r\n        public void onAddStream(MediaStream mediaStream) {\r\n            Log.d(TAG, &quot;onAddStream() called with: mediaStream = [&quot; + mediaStream + &quot;]&quot;);\r\n            gotRemoteStream(mediaStream);\r\n        }\r\n    \r\n        @Override\r\n        public void onRemoveStream(MediaStream mediaStream) {\r\n            Log.d(TAG, &quot;onRemoveStream() called with: mediaStream = [&quot; + mediaStream + &quot;]&quot;);\r\n        }\r\n    \r\n        @Override\r\n        public void onDataChannel(DataChannel dataChannel) {\r\n            Log.d(TAG, &quot;onDataChannel() called with: dataChannel = [&quot; + dataChannel + &quot;]&quot;);\r\n        }\r\n    \r\n        @Override\r\n        public void onRenegotiationNeeded() {\r\n            Log.d(TAG, &quot;onRenegotiationNeeded() called&quot;);\r\n        }\r\n    \r\n        @Override\r\n        public void onAddTrack(RtpReceiver rtpReceiver, MediaStream[] mediaStreams) {\r\n            Log.d(TAG, &quot;onAddTrack() called with: rtpReceiver = [&quot; + rtpReceiver + &quot;]  -- mediaStreams = [&quot; + mediaStreams + &quot;]&quot;);\r\n        }\r\n    \r\n        @Override\r\n        public void onTrack(RtpTransceiver transceiver) {\r\n            Log.d(TAG, &quot;onTrack() called with: transceiver = [&quot; + transceiver + &quot;]&quot;);\r\n        }\r\n    \r\n        @Override\r\n        public void onRemoteIceCandidate(String streamId, IceCandidate candidate) {\r\n            handler.post(() -&gt; {\r\n                if (peerConnection == null) {\r\n                    Log.e(TAG, &quot;Received ICE candidate for a non-initialized peer connection.&quot;);\r\n                    return;\r\n                }\r\n                peerConnection.addIceCandidate(candidate);\r\n            });\r\n        }\r\n    \r\n        @Override\r\n        public void onTakeConfiguration(String streamId, SessionDescription sdp) {\r\n            handler.post(() -&gt; {\r\n                if (sdp.type == SessionDescription.Type.OFFER) {\r\n                    peerConnection.setRemoteDescription(new CustomSdpObserver(&quot;remoteDesc&quot;), sdp);\r\n    \r\n                    peerConnection.createAnswer(new CustomSdpObserver(&quot;createAnswer&quot;) {\r\n                        @Override\r\n                        public void onCreateSuccess(SessionDescription sessionDescription) {\r\n                            super.onCreateSuccess(sessionDescription);\r\n                            peerConnection.setLocalDescription(new CustomSdpObserver(&quot;setLocalDescription&quot;), sessionDescription);\r\n                            handler.post(() -&gt; wsHandler.sendConfiguration(sessionDescription, WebSocketConstants.ANSWER));\r\n                        }\r\n                    }, sdpMediaConstraints);\r\n                }\r\n            });\r\n        }\r\n    \r\n        @Override\r\n        public void onPlayStarted(String streamId) {\r\n            handler.post(() -&gt; {\r\n                if (webRTCListener != null) {\r\n                    webRTCListener.onPlayStarted();\r\n                }\r\n            });\r\n        }\r\n    \r\n        @Override\r\n        public void onPlayFinished(String streamId) {\r\n            handler.post(() -&gt; {\r\n                if (webRTCListener != null) {\r\n                    webRTCListener.onPlayFinished();\r\n                }\r\n                disconnect();\r\n            });\r\n        }\r\n    \r\n        @Override\r\n        public void noStreamExistsToPlay(String streamId) {\r\n            handler.post(() -&gt; {\r\n                if (webRTCListener != null) {\r\n                    webRTCListener.noStreamExistsToPlay();\r\n                }\r\n            });\r\n        }\r\n    \r\n        @Override\r\n        public void onStreamLeaved(String streamId) {\r\n    \r\n        }\r\n    \r\n        @Override\r\n        public void onBitrateMeasurement(String streamId, int targetBitrate, int videoBitrate, int audioBitrate) {\r\n    \r\n        }\r\n    }\r\n\r\nCan anyone help me understand why the device continues to downmix the stereo audio to mono, and how I might fix this issue? Any guidance or suggestions would be greatly appreciated. Thanks in advance!\r\n","title":"Android WebRTC stream always downmixes stereo audio to mono","body":"<p>I am currently experiencing an issue with my Android STB device when I attempt to play a WebRTC stream with stereo audio (two audio channels). The main issue is that the device always downmixes the Left/Right channels to mono, regardless of the different tests and actions I've taken.</p>\n<p>The WebRTC stream is received from Red5 Stream Manager servers, and I'm using the org.webrtc:google-webrtc:1.0.32006 library.</p>\n<p>Here's a summary of the actions I've undertaken and the corresponding findings:</p>\n<ul>\n<li><p>I tested the source audio on both the PC Chrome browser and Android Chrome browser on the STB. The audio played correctly in stereo on both, confirming that the source audio is functioning properly.</p>\n</li>\n<li><p>To confirm that the audio stream arrives in stereo, I implemented additional logging. The analysis confirmed that the audio stream does indeed arrive with two channels:</p>\n</li>\n</ul>\n<blockquote>\n<p>Stats ID: RTCCodec_audio_Outbound_111\nStats Type: codec\npayloadType: 111\nmimeType: audio/opus\nclockRate: 48000\nchannels: 2\nsdpFmtpLine:\nmaxaveragebitrate=128000;maxplaybackrate=48000;minptime=10;sprop-stereo=1;stereo=1;useinbandfec=1\n--------------------------------------------------</p>\n</blockquote>\n<ul>\n<li><p>I tried various audio-related implementations, but the audio output continued to play in mono, so decided to stick with <em><strong>javaAudioDeviceModule</strong></em></p>\n</li>\n<li><p>I also attempted SDP munging manipulation and performed component updates, but neither action resolved the issue.</p>\n</li>\n<li><p>I made adjustments to audio parameters within the app, but the desired stereo output remained elusive:</p>\n</li>\n</ul>\n<blockquote>\n<pre><code>     JavaAudioDeviceModule javaAudioDeviceModule = JavaAudioDeviceModule.builder(context)\n            .setSamplesReadyCallback(null)\n            .setUseHardwareAcousticEchoCanceler(false)\n            .setUseHardwareNoiseSuppressor(false)\n            .setAudioRecordErrorCallback(null)\n            .setAudioTrackErrorCallback(null)\n            .setUseStereoInput(true)\n            .setUseStereoOutput(true)\n            .createAudioDeviceModule();\n</code></pre>\n</blockquote>\n<ul>\n<li>The issue persists across various devices, including the Amino Amigo, Amino H-200, and an XIAOMI Android cell phone.</li>\n</ul>\n<p>Below is the relevant code class that I'm working with:</p>\n<pre><code>package com.twizted.videoflowplayer.webrtc;\n\nimport android.content.Context;\nimport android.os.Handler;\nimport android.os.Looper;\nimport android.util.Log;\n\nimport org.webrtc.AudioSource;\nimport org.webrtc.AudioTrack;\nimport org.webrtc.CandidatePairChangeEvent;\nimport org.webrtc.DataChannel;\nimport org.webrtc.DefaultVideoDecoderFactory;\nimport org.webrtc.DefaultVideoEncoderFactory;\nimport org.webrtc.EglBase;\nimport org.webrtc.IceCandidate;\nimport org.webrtc.MediaConstraints;\nimport org.webrtc.MediaStream;\nimport org.webrtc.PeerConnection;\nimport org.webrtc.PeerConnectionFactory;\nimport org.webrtc.RTCStats;\nimport org.webrtc.RTCStatsCollectorCallback;\nimport org.webrtc.RTCStatsReport;\nimport org.webrtc.RendererCommon;\nimport org.webrtc.RtpReceiver;\nimport org.webrtc.RtpTransceiver;\nimport org.webrtc.SessionDescription;\nimport org.webrtc.SurfaceViewRenderer;\nimport org.webrtc.VideoTrack;\nimport org.webrtc.audio.JavaAudioDeviceModule;\n\nimport java.util.ArrayList;\nimport java.util.List;\nimport java.util.Map;\nimport java.util.Timer;\nimport java.util.TimerTask;\n\npublic class WebRTCNativeClient implements PeerConnection.Observer, Red5MediaSignallingEvents {\n    private static final String TAG = &quot;WebRTCNativeClient&quot;;\n\n    private Handler handler = new Handler(Looper.getMainLooper());\n\n    private Context context;\n    private final IWebRTCListener webRTCListener;\n\n    private String stunServerUri = &quot;stun:stun.l.google.com:19302&quot;;\n    private List&lt;PeerConnection.IceServer&gt; peerIceServers = new ArrayList&lt;&gt;();\n\n    private PeerConnection peerConnection;\n    private PeerConnectionFactory peerConnectionFactory;\n    private EglBase rootEglBase;\n    private SurfaceViewRenderer renderer;\n    private MediaConstraints sdpMediaConstraints;\n    private boolean iceConnected;\n\n    private WebSocketHandler wsHandler;\n    private Timer statsTimer;\n\n    private String streamId;\n    private boolean debug;\n    private String url;\n\n    private AudioTrack localAudioTrack;\n\n    public WebRTCNativeClient(IWebRTCListener webRTCListener, Context context) {\n        this.webRTCListener = webRTCListener;\n        this.context = context;\n    }\n\n    public void setRenderer(SurfaceViewRenderer renderer) {\n        this.renderer = renderer;\n    }\n\n    public void init(String url, String streamId, boolean debug) {\n        if (peerConnection != null) {\n            Log.w(TAG, &quot;There is already an active peerconnection client &quot;);\n            return;\n        }\n\n        if (url == null) {\n            Log.e(TAG, &quot;Didn't get any URL!&quot;);\n            return;\n        }\n\n        this.url = url;\n        this.streamId = streamId;\n        this.debug = debug;\n        iceConnected = false;\n\n        sdpMediaConstraints = new MediaConstraints();\n        sdpMediaConstraints.mandatory.add(\n                new MediaConstraints.KeyValuePair(&quot;OfferToReceiveAudio&quot;, &quot;true&quot;));\n        sdpMediaConstraints.mandatory.add(new MediaConstraints.KeyValuePair(\n                &quot;OfferToReceiveVideo&quot;, &quot;true&quot;));\n\n        PeerConnection.IceServer peerIceServer = PeerConnection.IceServer.builder(stunServerUri).createIceServer();\n        peerIceServers.add(peerIceServer);\n\n        rootEglBase = EglBase.create();\n        renderer.init(rootEglBase.getEglBaseContext(), null);\n        renderer.setZOrderMediaOverlay(true);\n        renderer.setScalingType(RendererCommon.ScalingType.SCALE_ASPECT_FIT);\n\n        // Initialize PeerConnectionFactory globals.\n        PeerConnectionFactory.InitializationOptions initializationOptions =\n                PeerConnectionFactory.InitializationOptions.builder(context)\n                        .createInitializationOptions();\n        PeerConnectionFactory.initialize(initializationOptions);\n\n        // Create a new PeerConnectionFactory instance - using Hardware encoder and decoder.\n        PeerConnectionFactory.Options options = new PeerConnectionFactory.Options();\n\n        DefaultVideoEncoderFactory defaultVideoEncoderFactory = new DefaultVideoEncoderFactory(\n                rootEglBase.getEglBaseContext(), true, true);\n        DefaultVideoDecoderFactory defaultVideoDecoderFactory = new DefaultVideoDecoderFactory(rootEglBase.getEglBaseContext());\n\n        JavaAudioDeviceModule javaAudioDeviceModule = JavaAudioDeviceModule.builder(context)\n                .setSamplesReadyCallback(null)\n                .setUseHardwareAcousticEchoCanceler(false)\n                .setUseHardwareNoiseSuppressor(false)\n                .setAudioRecordErrorCallback(null)\n                .setAudioTrackErrorCallback(null)\n                .setUseStereoInput(true)\n                .setUseStereoOutput(true)\n                .createAudioDeviceModule();\n\n        peerConnectionFactory = PeerConnectionFactory.builder()\n                .setOptions(options)\n                .setAudioDeviceModule(javaAudioDeviceModule)\n                .setVideoEncoderFactory(defaultVideoEncoderFactory)\n                .setVideoDecoderFactory(defaultVideoDecoderFactory)\n                .createPeerConnectionFactory();\n\n        createPeerConnection();\n    }\n\n    private void createPeerConnection() {\n        PeerConnection.RTCConfiguration rtcConfig =\n                new PeerConnection.RTCConfiguration(peerIceServers);\n        rtcConfig.iceTransportsType = PeerConnection.IceTransportsType.ALL;\n        rtcConfig.tcpCandidatePolicy = PeerConnection.TcpCandidatePolicy.DISABLED;\n        rtcConfig.bundlePolicy = PeerConnection.BundlePolicy.MAXBUNDLE;\n        rtcConfig.rtcpMuxPolicy = PeerConnection.RtcpMuxPolicy.REQUIRE;\n        rtcConfig.continualGatheringPolicy = PeerConnection.ContinualGatheringPolicy.GATHER_CONTINUALLY;\n        rtcConfig.keyType = PeerConnection.KeyType.ECDSA;\n        peerConnection = peerConnectionFactory.createPeerConnection(rtcConfig, this);\n\n        // Set up audio track\n//        final AudioSource audioSource = peerConnectionFactory.createAudioSource(new MediaConstraints());\n//        localAudioTrack = peerConnectionFactory.createAudioTrack(&quot;my-audio-track&quot;, audioSource);\n//\n//        if (peerConnection != null) {\n//            peerConnection.addTrack(localAudioTrack);\n//        }\n    }\n\n    public void startStream(String url, String streamId, boolean debug) {\n        init(url, streamId, debug);\n        if (wsHandler == null) {\n            wsHandler = new WebSocketHandler(this, handler, this.streamId);\n            wsHandler.connect(url);\n        } else if (!wsHandler.isConnected()) {\n            wsHandler.disconnect(true);\n            wsHandler = new WebSocketHandler(this, handler, this.streamId);\n            wsHandler.connect(url);\n        }\n        wsHandler.startPlay();\n    }\n\n    public void stopStream() {\n        disconnect();\n    }\n\n    public void disconnect() {\n        release();\n    }\n\n    private void release() {\n        iceConnected = false;\n        cancelTimer();\n        if (wsHandler != null &amp;&amp; wsHandler.getSignallingListener().equals(this)) {\n            wsHandler.disconnect(true);\n            wsHandler = null;\n        }\n\n        if (renderer != null) {\n            renderer.release();\n        }\n\n        if (peerConnection != null) {\n            peerConnection.close();\n            peerConnection = null;\n        }\n    }\n\n    private void cancelTimer() {\n        if (statsTimer != null) {\n            statsTimer.cancel();\n            statsTimer = null;\n        }\n    }\n\n    public boolean isStreaming() {\n        return iceConnected;\n    }\n\n    private void gotRemoteStream(MediaStream stream) {\n        final VideoTrack videoTrack = stream.videoTracks.get(0);\n        handler.post(() -&gt; {\n            try {\n                videoTrack.addSink(renderer);\n            } catch (Exception e) {\n                e.printStackTrace();\n            }\n        });\n    }\n\n    @Override\n    public void onSignalingChange(PeerConnection.SignalingState signalingState) {\n        Log.d(TAG, &quot;onSignalingChange() called with: signalingState = [&quot; + signalingState + &quot;]&quot;);\n    }\n\n    @Override\n    public void onIceConnectionChange(PeerConnection.IceConnectionState iceConnectionState) {\n        Log.d(TAG, &quot;onIceConnectionChange() called with: iceConnectionState = [&quot; + iceConnectionState + &quot;]&quot;);\n        handler.post(() -&gt; {\n            if (iceConnectionState == PeerConnection.IceConnectionState.CONNECTED) {\n                iceConnected = true;\n                enableStatsEvents(debug, 1000);\n                if (webRTCListener != null) {\n                    webRTCListener.onIceConnected();\n                }\n            } else if (iceConnectionState == PeerConnection.IceConnectionState.DISCONNECTED ||\n                    iceConnectionState == PeerConnection.IceConnectionState.CLOSED) {\n                iceConnected = false;\n                disconnect();\n                if (webRTCListener != null) {\n                    webRTCListener.onIceDisconnected();\n                }\n            } else if (iceConnectionState == PeerConnection.IceConnectionState.FAILED) {\n                iceConnected = false;\n                disconnect();\n                if (webRTCListener != null) {\n                    webRTCListener.onError(&quot;ICE connection failed.&quot;);\n                }\n            }\n        });\n\n    }\n\n    public void enableStatsEvents(boolean enable, int periodMs) {\n        Log.d(TAG, &quot;enableStatsEvents() called with: enabled = [&quot; + enable + &quot;]  --- [&quot; + handler + &quot;]  --- [&quot; + peerConnection + &quot;]  --- [&quot; + webRTCListener + &quot;]&quot;);\n        if (enable) {\n            try {\n                if (statsTimer == null) statsTimer = new Timer();\n                statsTimer.schedule(new TimerTask() {\n                    @Override\n                    public void run() {\n                        handler.post(() -&gt; {\n                            if (peerConnection == null) return;\n                            peerConnection.getStats(new RTCStatsCollectorCallback() {\n                                @Override\n                                public void onStatsDelivered(RTCStatsReport rtcStatsReport) {\n                                    if (webRTCListener != null)\n                                        webRTCListener.onReport(rtcStatsReport);\n                                    printAudioStats(rtcStatsReport);\n                                }\n                            });\n                        });\n                    }\n                }, 0, periodMs);\n            } catch (Exception e) {\n                Log.e(TAG, &quot;Can not schedule statistics timer&quot;, e);\n            }\n        } else {\n            cancelTimer();\n        }\n    }\n\n    private void printAudioStats(RTCStatsReport rtcStatsReport) {\n        StringBuilder stringBuilder = new StringBuilder();\n        stringBuilder.append(&quot;Audio Statistics:\\n&quot;);\n        for (RTCStats stats : rtcStatsReport.getStatsMap().values()) {\n            stringBuilder.append(&quot;Stats ID: &quot;).append(stats.getId()).append(&quot;\\n&quot;);\n            stringBuilder.append(&quot;Stats Type: &quot;).append(stats.getType()).append(&quot;\\n&quot;);\n            Map&lt;String, Object&gt; members = stats.getMembers();\n            for (String statKey : members.keySet()) {\n                stringBuilder.append(statKey).append(&quot;: &quot;).append(members.get(statKey)).append(&quot;\\n&quot;);\n            }\n            stringBuilder.append(&quot;--------------------------------------------------\\n&quot;);\n        }\n        Log.d(TAG, stringBuilder.toString());\n    }\n\n    @Override\n    public void onStandardizedIceConnectionChange(PeerConnection.IceConnectionState newState) {\n        Log.d(TAG, &quot;onStandardizedIceConnectionChange() called with: newState = [&quot; + newState + &quot;]&quot;);\n    }\n\n    @Override\n    public void onConnectionChange(PeerConnection.PeerConnectionState newState) {\n        Log.d(TAG, &quot;onConnectionChange() called with: newState = [&quot; + newState + &quot;]&quot;);\n    }\n\n    @Override\n    public void onIceConnectionReceivingChange(boolean b) {\n        Log.d(TAG, &quot;onIceConnectionReceivingChange() called with: b = [&quot; + b + &quot;]&quot;);\n    }\n\n    @Override\n    public void onIceGatheringChange(PeerConnection.IceGatheringState iceGatheringState) {\n        Log.d(TAG, &quot;onIceGatheringChange() called with: iceGatheringState = [&quot; + iceGatheringState + &quot;]&quot;);\n    }\n\n    @Override\n    public void onIceCandidate(IceCandidate iceCandidate) {\n        Log.d(TAG, &quot;onIceCandidate() called with: iceCandidate = [&quot; + iceCandidate + &quot;]&quot;);\n        handler.post(() -&gt; {\n            if (wsHandler != null) wsHandler.sendLocalIceCandidate(iceCandidate);\n        });\n    }\n\n    @Override\n    public void onIceCandidatesRemoved(IceCandidate[] iceCandidates) {\n        Log.d(TAG, &quot;onIceCandidatesRemoved() called with: iceCandidates = [&quot; + iceCandidates + &quot;]&quot;);\n    }\n\n    @Override\n    public void onSelectedCandidatePairChanged(CandidatePairChangeEvent event) {\n        Log.d(TAG, &quot;onSelectedCandidatePairChanged() called with: event = [&quot; + event + &quot;]&quot;);\n    }\n\n    @Override\n    public void onAddStream(MediaStream mediaStream) {\n        Log.d(TAG, &quot;onAddStream() called with: mediaStream = [&quot; + mediaStream + &quot;]&quot;);\n        gotRemoteStream(mediaStream);\n    }\n\n    @Override\n    public void onRemoveStream(MediaStream mediaStream) {\n        Log.d(TAG, &quot;onRemoveStream() called with: mediaStream = [&quot; + mediaStream + &quot;]&quot;);\n    }\n\n    @Override\n    public void onDataChannel(DataChannel dataChannel) {\n        Log.d(TAG, &quot;onDataChannel() called with: dataChannel = [&quot; + dataChannel + &quot;]&quot;);\n    }\n\n    @Override\n    public void onRenegotiationNeeded() {\n        Log.d(TAG, &quot;onRenegotiationNeeded() called&quot;);\n    }\n\n    @Override\n    public void onAddTrack(RtpReceiver rtpReceiver, MediaStream[] mediaStreams) {\n        Log.d(TAG, &quot;onAddTrack() called with: rtpReceiver = [&quot; + rtpReceiver + &quot;]  -- mediaStreams = [&quot; + mediaStreams + &quot;]&quot;);\n    }\n\n    @Override\n    public void onTrack(RtpTransceiver transceiver) {\n        Log.d(TAG, &quot;onTrack() called with: transceiver = [&quot; + transceiver + &quot;]&quot;);\n    }\n\n    @Override\n    public void onRemoteIceCandidate(String streamId, IceCandidate candidate) {\n        handler.post(() -&gt; {\n            if (peerConnection == null) {\n                Log.e(TAG, &quot;Received ICE candidate for a non-initialized peer connection.&quot;);\n                return;\n            }\n            peerConnection.addIceCandidate(candidate);\n        });\n    }\n\n    @Override\n    public void onTakeConfiguration(String streamId, SessionDescription sdp) {\n        handler.post(() -&gt; {\n            if (sdp.type == SessionDescription.Type.OFFER) {\n                peerConnection.setRemoteDescription(new CustomSdpObserver(&quot;remoteDesc&quot;), sdp);\n\n                peerConnection.createAnswer(new CustomSdpObserver(&quot;createAnswer&quot;) {\n                    @Override\n                    public void onCreateSuccess(SessionDescription sessionDescription) {\n                        super.onCreateSuccess(sessionDescription);\n                        peerConnection.setLocalDescription(new CustomSdpObserver(&quot;setLocalDescription&quot;), sessionDescription);\n                        handler.post(() -&gt; wsHandler.sendConfiguration(sessionDescription, WebSocketConstants.ANSWER));\n                    }\n                }, sdpMediaConstraints);\n            }\n        });\n    }\n\n    @Override\n    public void onPlayStarted(String streamId) {\n        handler.post(() -&gt; {\n            if (webRTCListener != null) {\n                webRTCListener.onPlayStarted();\n            }\n        });\n    }\n\n    @Override\n    public void onPlayFinished(String streamId) {\n        handler.post(() -&gt; {\n            if (webRTCListener != null) {\n                webRTCListener.onPlayFinished();\n            }\n            disconnect();\n        });\n    }\n\n    @Override\n    public void noStreamExistsToPlay(String streamId) {\n        handler.post(() -&gt; {\n            if (webRTCListener != null) {\n                webRTCListener.noStreamExistsToPlay();\n            }\n        });\n    }\n\n    @Override\n    public void onStreamLeaved(String streamId) {\n\n    }\n\n    @Override\n    public void onBitrateMeasurement(String streamId, int targetBitrate, int videoBitrate, int audioBitrate) {\n\n    }\n}\n</code></pre>\n<p>Can anyone help me understand why the device continues to downmix the stereo audio to mono, and how I might fix this issue? Any guidance or suggestions would be greatly appreciated. Thanks in advance!</p>\n"},{"tags":["java","integer","css-float"],"answers":[{"comments":[{"owner":{"account_id":27806428,"reputation":3,"user_id":21229721,"display_name":"user21229721"},"score":0,"creation_date":1689705462,"post_id":76715614,"comment_id":135250701,"body_markdown":"So you mean something like this: \n\t\tif (input.hasNextInt()) {\n\t\t\tint initial = input.nextInt();\n\t\t\tSystem.out.println(&quot;\\nEnter the second number: &quot;);\n\t\t\tfloat second = input.nextFloat();\n\t\t\t\n\t\t\tSystem.out.println(&quot;Your answer is: &quot;);System.out.println(initial + second);","body":"So you mean something like this:  \t\tif (input.hasNextInt()) { \t\t\tint initial = input.nextInt(); \t\t\tSystem.out.println(&quot;\\nEnter the second number: &quot;); \t\t\tfloat second = input.nextFloat(); \t\t\t \t\t\tSystem.out.println(&quot;Your answer is: &quot;);System.out.println(initial + second);"},{"owner":{"account_id":13170666,"reputation":78679,"user_id":9513184,"display_name":"Unmitigated"},"score":0,"creation_date":1689705476,"post_id":76715614,"comment_id":135250706,"body_markdown":"@user21229721 Yes, you could do that.","body":"@user21229721 Yes, you could do that."},{"owner":{"account_id":13170666,"reputation":78679,"user_id":9513184,"display_name":"Unmitigated"},"score":0,"creation_date":1689705552,"post_id":76715614,"comment_id":135250719,"body_markdown":"@user21229721 It is not necessary, as you can just read two floats directly.","body":"@user21229721 It is not necessary, as you can just read two floats directly."},{"owner":{"account_id":27806428,"reputation":3,"user_id":21229721,"display_name":"user21229721"},"score":0,"creation_date":1689705854,"post_id":76715614,"comment_id":135250764,"body_markdown":"got it, thanks so much!","body":"got it, thanks so much!"},{"owner":{"account_id":13170666,"reputation":78679,"user_id":9513184,"display_name":"Unmitigated"},"score":0,"creation_date":1689706052,"post_id":76715614,"comment_id":135250791,"body_markdown":"@user21229721 Happy to help.","body":"@user21229721 Happy to help."}],"tags":[],"owner":{"account_id":13170666,"reputation":78679,"user_id":9513184,"display_name":"Unmitigated"},"comment_count":5,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1689704607,"creation_date":1689704607,"answer_id":76715614,"question_id":76715500,"body_markdown":"In the if block for `if (input.hasNextInt())` (i.e. the first input is an integer), you only try to read two ints (using `input.nextInt()`), so inputs with decimals will not be accepted for the second number. \r\n\r\nOne way to fix this is to use `float second = input.nextFloat();` and just use the `+` operator to sum `first` and `second`.\r\n\r\nSince integers can be considered real numbers with no fractional part, you can also simply read two floats (or doubles, for higher precision) and add them with the `+` operator.","title":"Can you use the sum method for both float and int using user input in JAVA?","body":"<p>In the if block for <code>if (input.hasNextInt())</code> (i.e. the first input is an integer), you only try to read two ints (using <code>input.nextInt()</code>), so inputs with decimals will not be accepted for the second number.</p>\n<p>One way to fix this is to use <code>float second = input.nextFloat();</code> and just use the <code>+</code> operator to sum <code>first</code> and <code>second</code>.</p>\n<p>Since integers can be considered real numbers with no fractional part, you can also simply read two floats (or doubles, for higher precision) and add them with the <code>+</code> operator.</p>\n"},{"tags":[],"owner":{"account_id":27806428,"reputation":3,"user_id":21229721,"display_name":"user21229721"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690123617,"creation_date":1689705801,"answer_id":76715738,"question_id":76715500,"body_markdown":"I updated my code and thanks to the responses. I decided to stick with floats. \r\n\r\n```java\r\nimport java.util.Scanner;\r\n\r\n// Basic Intro/ Refresher for Sums using User Input\r\npublic class BasicSums {\r\n\t\r\n\tpublic static void main(String[] args) {\r\n\t\t\r\n\t\t// User input \r\n\t\tScanner input = new Scanner (System.in);\r\n\t\tSystem.out.println(&quot;Enter the first number: &quot;);\r\n\t\t//Using Float to consider possibility of decimal values \r\n\t\tfloat first = input.nextFloat();\r\n\t\tSystem.out.println(&quot;Enter the second number: &quot;);\r\n\t\tfloat second = input.nextFloat();\t\r\n\t\tSystem.out.println(&quot;Your answer is: &quot; + Float.sum(first, second));\t\r\n\t\t\r\n\t\t\r\n\t\t}\r\n}\r\n```\r\nThis allows for either. ","title":"Can you use the sum method for both float and int using user input in JAVA?","body":"<p>I updated my code and thanks to the responses. I decided to stick with floats.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Scanner;\n\n// Basic Intro/ Refresher for Sums using User Input\npublic class BasicSums {\n    \n    public static void main(String[] args) {\n        \n        // User input \n        Scanner input = new Scanner (System.in);\n        System.out.println(&quot;Enter the first number: &quot;);\n        //Using Float to consider possibility of decimal values \n        float first = input.nextFloat();\n        System.out.println(&quot;Enter the second number: &quot;);\n        float second = input.nextFloat();   \n        System.out.println(&quot;Your answer is: &quot; + Float.sum(first, second));  \n        \n        \n        }\n}\n</code></pre>\n<p>This allows for either.</p>\n"}],"owner":{"account_id":27806428,"reputation":3,"user_id":21229721,"display_name":"user21229721"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76715614,"answer_count":2,"score":0,"last_activity_date":1690123617,"creation_date":1689703392,"question_id":76715500,"body_markdown":"So I am working on a project and my code works when I put a float or int in the first input and then add with an int in second input. But if I try to add a int in the first input and a float in the second input it does not work. \r\n\r\nFor example, \r\nEnter the first number: \r\n34.6\r\nThis input is of type float.\r\n\r\nEnter the second number: \r\n90\r\nYour answer is: 124.6\r\nThe above works. \r\n\r\n\r\nBelow does not work. \r\nEnter the first number: \r\n90\r\n\r\nEnter the second number: \r\n34.7\r\n\r\n\r\nHere is my code: \r\n&gt; import java.util.Scanner;\r\n\r\n// Basic Intro/ Refresher for Sums using User Input\r\npublic class BasicSums {\r\n\t\r\n\tpublic static void main(String[] args) {\r\n\t\t\r\n\t\t// User input \r\n\t\tScanner input = new Scanner (System.in);\r\n\t\tSystem.out.println(&quot;Enter the first number: &quot;);\r\n\t\t\r\n\t\t\r\n\t\tif (input.hasNextInt()) {\r\n\t\t\tint initial = input.nextInt();\r\n\t\t\tSystem.out.println(&quot;\\nEnter the second number: &quot;);\r\n\t\t\tint second = input.nextInt();\r\n\t\t\t\r\n\t\t\tSystem.out.println(&quot;Your answer is: &quot; + Integer.sum(initial, second));\r\n\t\t\r\n\t\t//Considering the possibility of the user entering a decimal value \t\r\n\t\t} else if (input.hasNextFloat()) {\r\n\t\t\tSystem.out.println(&quot;This input is of type float.\\n&quot;);\r\n\t\t\tfloat first = input.nextFloat();\r\n\t\t\tSystem.out.println(&quot;Enter the second number: &quot;);\r\n\t\t\tfloat second = input.nextFloat();\t\r\n\t\t\tSystem.out.println(&quot;Your answer is: &quot; + Float.sum(first, second));\t\t\t\r\n\t\t} \r\n\t\t\r\n\t\t\r\n\t\t\r\n\t\t}\r\n}\r\n","title":"Can you use the sum method for both float and int using user input in JAVA?","body":"<p>So I am working on a project and my code works when I put a float or int in the first input and then add with an int in second input. But if I try to add a int in the first input and a float in the second input it does not work.</p>\n<p>For example,\nEnter the first number:\n34.6\nThis input is of type float.</p>\n<p>Enter the second number:\n90\nYour answer is: 124.6\nThe above works.</p>\n<p>Below does not work.\nEnter the first number:\n90</p>\n<p>Enter the second number:\n34.7</p>\n<p>Here is my code:</p>\n<blockquote>\n<p>import java.util.Scanner;</p>\n</blockquote>\n<p>// Basic Intro/ Refresher for Sums using User Input\npublic class BasicSums {</p>\n<pre><code>public static void main(String[] args) {\n    \n    // User input \n    Scanner input = new Scanner (System.in);\n    System.out.println(&quot;Enter the first number: &quot;);\n    \n    \n    if (input.hasNextInt()) {\n        int initial = input.nextInt();\n        System.out.println(&quot;\\nEnter the second number: &quot;);\n        int second = input.nextInt();\n        \n        System.out.println(&quot;Your answer is: &quot; + Integer.sum(initial, second));\n    \n    //Considering the possibility of the user entering a decimal value  \n    } else if (input.hasNextFloat()) {\n        System.out.println(&quot;This input is of type float.\\n&quot;);\n        float first = input.nextFloat();\n        System.out.println(&quot;Enter the second number: &quot;);\n        float second = input.nextFloat();   \n        System.out.println(&quot;Your answer is: &quot; + Float.sum(first, second));          \n    } \n    \n    \n    \n    }\n</code></pre>\n<p>}</p>\n"},{"tags":["java","eclipse","maven","spring-boot","spring-tool-suite"],"answers":[{"comments":[{"owner":{"account_id":375036,"reputation":3318,"user_id":725619,"accept_rate":53,"display_name":"RKodakandla"},"score":3,"creation_date":1556482932,"post_id":49147397,"comment_id":98445009,"body_markdown":"Any idea about for those using Gradle? There is no such option for build.gradle","body":"Any idea about for those using Gradle? There is no such option for build.gradle"},{"owner":{"account_id":2082386,"reputation":6063,"user_id":1854124,"display_name":"Martin Lippert"},"score":1,"creation_date":1556605982,"post_id":49147397,"comment_id":98484594,"body_markdown":"No, there is no such feature for gradle build configs yet, but feel free to raise an enhancement request at https://github.com/spring-projects/sts4/issues","body":"No, there is no such feature for gradle build configs yet, but feel free to raise an enhancement request at <a href=\"https://github.com/spring-projects/sts4/issues\" rel=\"nofollow noreferrer\">github.com/spring-projects/sts4/issues</a>"},{"owner":{"account_id":4508336,"reputation":15533,"user_id":3665178,"accept_rate":73,"display_name":"Manuel Jordan"},"score":0,"creation_date":1690123632,"post_id":49147397,"comment_id":135306348,"body_markdown":"@MartinLippert Was it added for Gradle too? If not, pls let me know to create the respective issue.","body":"@MartinLippert Was it added for Gradle too? If not, pls let me know to create the respective issue."},{"owner":{"account_id":2082386,"reputation":6063,"user_id":1854124,"display_name":"Martin Lippert"},"score":1,"creation_date":1690261041,"post_id":49147397,"comment_id":135324639,"body_markdown":"@ManuelJordan We don&#39;t support Gradle based projects in the Add Starters wizard yet.","body":"@ManuelJordan We don&#39;t support Gradle based projects in the Add Starters wizard yet."}],"tags":[],"owner":{"account_id":2082386,"reputation":6063,"user_id":1854124,"display_name":"Martin Lippert"},"comment_count":4,"down_vote_count":0,"up_vote_count":31,"is_accepted":true,"score":31,"last_activity_date":1520411873,"creation_date":1520411873,"answer_id":49147397,"question_id":49133904,"body_markdown":"Yes, you can. Right click on the pom of the generated project and choose `Spring -&gt; Edit Starters` from the context-menu. It opens up the same dialog and lets you add additional dependencies.\r\n\r\nYou just need to take care of the correct Spring Boot version yourself, it isn&#39;t set automatically to the version that you chose when you created the project. It doesn&#39;t cause any huge trouble if you choose the wrong version, but spring starter modules might show up that aren&#39;t compatible with your project.","title":"Eclipse Spring Tool Suite add dependencies using GUI after project creation","body":"<p>Yes, you can. Right click on the pom of the generated project and choose <code>Spring -&gt; Edit Starters</code> from the context-menu. It opens up the same dialog and lets you add additional dependencies.</p>\n\n<p>You just need to take care of the correct Spring Boot version yourself, it isn't set automatically to the version that you chose when you created the project. It doesn't cause any huge trouble if you choose the wrong version, but spring starter modules might show up that aren't compatible with your project.</p>\n"}],"owner":{"account_id":9706906,"reputation":3705,"user_id":7200088,"accept_rate":100,"display_name":"Michael Dz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12351,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"accepted_answer_id":49147397,"answer_count":1,"score":12,"last_activity_date":1690123523,"creation_date":1520348571,"question_id":49133904,"body_markdown":"Every time I start a new `Spring Boot` project - using _Spring Tool Suite_ and now as _STS4_ - through `Spring Starter Project` I can add dependencies using GUI like on the screenshot below. \r\n\r\n[![Adding dependencies in GUI][1]][1]\r\n\r\nIt&#39;s very convenient to choose dependencies in GUI. But sometimes I forget to add some dependencies and have to add them to the `pom.xml` file manually. \r\n\r\nIs it possible to add new dependencies using GUI the same way like during `Spring Starter Project` configuration after project creation?\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/xRRzf.png","title":"Eclipse Spring Tool Suite add dependencies using GUI after project creation","body":"<p>Every time I start a new <code>Spring Boot</code> project - using <em>Spring Tool Suite</em> and now as <em>STS4</em> - through <code>Spring Starter Project</code> I can add dependencies using GUI like on the screenshot below.</p>\n<p><a href=\"https://i.stack.imgur.com/xRRzf.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/xRRzf.png\" alt=\"Adding dependencies in GUI\" /></a></p>\n<p>It's very convenient to choose dependencies in GUI. But sometimes I forget to add some dependencies and have to add them to the <code>pom.xml</code> file manually.</p>\n<p>Is it possible to add new dependencies using GUI the same way like during <code>Spring Starter Project</code> configuration after project creation?</p>\n"},{"tags":["java","spring-boot","spring-data-redis","lettuce"],"owner":{"account_id":21725914,"reputation":3,"user_id":22272154,"display_name":"Ajay Pilaniya"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":798,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690123168,"creation_date":1690123168,"question_id":76748818,"body_markdown":"I am using spring-boot-starter-cache for redis interaction and below is the code which I am using to intialize the configurations :\r\n\r\n```\r\n@Autowired\r\n    private LettuceConfigProperties lettuceConfigProperties;\r\n\r\n    @Bean\r\n    public RedisConnectionFactory redisConnectionFactory() {\r\n        RedisClusterConfiguration clusterConfiguration = new RedisClusterConfiguration();\r\n\r\n        for (RedisNodeDetails nodeDetails : lettuceConfigProperties.getServers()) {\r\n            if (nodeDetails.getPort() == null) {\r\n                nodeDetails.setPort(lettuceConfigProperties.getDefaultPort());\r\n            }\r\n            clusterConfiguration.addClusterNode(new RedisNode(nodeDetails.getHost(), nodeDetails.getPort()));\r\n        }\r\n        clusterConfiguration.setPassword(lettuceConfigProperties.getPassword());\r\n\r\n        if (clusterConfiguration.getClusterNodes().size() == 1) {\r\n            RedisStandaloneConfiguration standaloneConfiguration = new RedisStandaloneConfiguration();\r\n            standaloneConfiguration.setPassword(lettuceConfigProperties.getPassword());\r\n            standaloneConfiguration.setHostName(lettuceConfigProperties.getServers().get(0).getHost());\r\n            standaloneConfiguration.setPort(lettuceConfigProperties.getServers().get(0).getPort());\r\n            var lettuceConnectionFactory = new LettuceConnectionFactory(standaloneConfiguration, createLettuceClientConfiguration());\r\n            lettuceConnectionFactory.setShareNativeConnection(false);\r\n            return lettuceConnectionFactory;\r\n        }\r\n\r\n        var lettuceConnectionFactory = new LettuceConnectionFactory(clusterConfiguration, createLettuceClientConfiguration());\r\n        lettuceConnectionFactory.setShareNativeConnection(false);\r\n        return lettuceConnectionFactory;\r\n    }\r\n\r\n    @Bean\r\n    public RedisTemplate&lt;String, Object&gt; redisTemplate() {\r\n        RedisTemplate&lt;String, Object&gt; template = new RedisTemplate&lt;&gt;();\r\n        template.setConnectionFactory(redisConnectionFactory());\r\n        template.setKeySerializer(new StringRedisSerializer());\r\n        template.setValueSerializer(new Jackson2JsonRedisSerializer&lt;&gt;(Object.class)); // Customize based on your needs\r\n        template.afterPropertiesSet();\r\n        return template;\r\n    }\r\n\r\n    @Bean\r\n    public RedisCacheManager cacheManager(RedisConnectionFactory connectionFactory) {\r\n        RedisCacheConfiguration cacheConfiguration = RedisCacheConfiguration.defaultCacheConfig()\r\n                .disableCachingNullValues()\r\n                .serializeKeysWith(RedisSerializationContext.SerializationPair.fromSerializer(new StringRedisSerializer()))\r\n                .serializeValuesWith(RedisSerializationContext.SerializationPair.fromSerializer(new Jackson2JsonRedisSerializer&lt;&gt;(Object.class))); // Customize based on your needs\r\n        log.info(&quot;[LETTUCE] Initializing.....&quot;);\r\n        return RedisCacheManager.builder(connectionFactory)\r\n                .cacheDefaults(cacheConfiguration)\r\n                .build();\r\n    }\r\n\r\n    @Bean\r\n    @Primary\r\n    public LettuceClientConfiguration createLettuceClientConfiguration() {\r\n        return LettucePoolingClientConfiguration.builder()\r\n                .poolConfig(createPoolConfig())\r\n                .clientOptions(clientOptions())\r\n                .clientResources(lettuceClientResources())\r\n                .commandTimeout(Duration.ofMillis(lettuceConfigProperties.getConnections().getCommandTimeout()))\r\n                .build();\r\n    }\r\n\r\n    @Bean\r\n    public ClientOptions clientOptions() {\r\n        return ClientOptions.builder()\r\n                //Controls auto-reconnect behavior on connections. If auto-reconnect is true (default), it is enabled.\r\n                //As soon as a connection gets closed/reset without the intention to close it, the client will try to reconnect and re-issue any queued commands. This flag has also the effect that disconnected connections will refuse commands and cancel these with an exception.\r\n                .autoReconnect(true)\r\n                //Request queue size for a connection. This value applies per connection. The command invocation will throw a RedisException if the queue size is exceeded and a new command is requested. Defaults to Integer.MAX_VALUE.\r\n                .requestQueueSize(lettuceConfigProperties.getMaxRequestQueueSize())\r\n                .socketOptions(SocketOptions.builder()\r\n                        .connectTimeout(Duration.ofMillis(lettuceConfigProperties.getConnections().getSocketTimeout()))\r\n                        .keepAlive(SocketOptions.KeepAliveOptions.builder()\r\n                                .enable().idle(Duration.ofMillis(lettuceConfigProperties.getConnections().getKeepAliveIdleTimeout())).build())\r\n                        /**\r\n                         * true to disable Nagle&#39;s algorithm, false to enable Nagle&#39;s algorithm.\r\n                         * The Nagle algorithm processes data on the sending side of TCP applications by a method called Nagling.\r\n                         * It detects small-sized messages and accumulates those messages into larger TCP packets before sending data across the wire.\r\n                         * This process avoids the generation of unnecessarily large numbers of small packets.\r\n                         * But this adds some latency sp we are disabling this\r\n                         */\r\n                        .tcpNoDelay(true)\r\n                        .build())\r\n                .timeoutOptions(\r\n                        /**\r\n                         * Options for command timeouts. These options configure how and whether commands time out once they were dispatched. Command timeout begins:\r\n                         * When the command is sent successfully to the transport\r\n                         * Queued while the connection was inactive\r\n                         * The timeout is canceled upon command completion/cancellation. Timeouts are not tied to a specific API and expire commands regardless of the synchronization method provided by the API that was used to enqueue the command.\r\n                         */\r\n                        TimeoutOptions.builder()\r\n                                .timeoutCommands() //true if commands should time out.\r\n                                .connectionTimeout() //To apply connection timeouts declared on connection level. This will apply -1 as connection timeout in which case connection level configuration will be applied for command connections timeouts\r\n                                .build()\r\n                )\r\n                .build();\r\n    }\r\n\r\n    /**\r\n     * Strategy interface to provide all the infrastructure building blocks like environment settings and thread pools so that the client can work with it properly.\r\n     * ClientResources can be shared amongst multiple client instances if created outside the client creation. Implementations of ClientResources are stateful and must be shutdown() after they are no longer in use.\r\n     */\r\n    @Bean(destroyMethod = &quot;shutdown&quot;)\r\n    public ClientResources lettuceClientResources() {\r\n        return DefaultClientResources.create();\r\n    }\r\n\r\n    private GenericObjectPoolConfig&lt;?&gt; createPoolConfig() {\r\n        GenericObjectPoolConfig&lt;?&gt; poolConfig = new GenericObjectPoolConfig&lt;&gt;();\r\n\r\n        // Maximum number of idle connections in the pool\r\n        poolConfig.setMaxIdle(lettuceConfigProperties.getConnections().getMaxIdle());\r\n\r\n        // Maximum number of connections that can be created in the pool\r\n        poolConfig.setMaxTotal(lettuceConfigProperties.getConnections().getMax());\r\n\r\n        //Minimum number of idle connections in the pool\r\n        poolConfig.setMinIdle(lettuceConfigProperties.getConnections().getMinIdle());\r\n\r\n        //The maximum number of milliseconds that the pool will wait (when there are no available connections and the getMaxActive() has been reached) for a connection to be returned before throwing an exception.\r\n        poolConfig.setMaxWait(Duration.ofMillis(lettuceConfigProperties.getConnections().getMaxWait()));\r\n\r\n        //The minimum amount of time an object must sit idle in the pool before it is eligible for eviction.\r\n        poolConfig.setMinEvictableIdleTime(Duration.ofMillis(lettuceConfigProperties.getConnections().getMinIdleEvictTime()));\r\n\r\n        //Whether to test idle connections for eviction\r\n        poolConfig.setTestWhileIdle(true);\r\n\r\n        //The indication of whether objects will be validated before being borrowed from the pool. Keep this false as it will add some latency for every request\r\n        poolConfig.setTestOnBorrow(false);\r\n\r\n        // Whether to test connections when they are returned to the pool\r\n        poolConfig.setTestOnReturn(false);\r\n\r\n        // Whether to test connections during the eviction process\r\n        poolConfig.setTestOnCreate(false);\r\n\r\n        // Whether the pool uses LIFO (last in, first out) or FIFO (first in, first out) for ordering idle objects\r\n        poolConfig.setLifo(true);\r\n\r\n        //If the pool is exhausted (no available idle instances and no capacity to create new ones), this method will either block if set to true\r\n        //Or throw a NoSuchElementException if set to false\r\n        poolConfig.setBlockWhenExhausted(true);\r\n\r\n        return poolConfig;\r\n    }\r\n```\r\n\r\nWhen I am listing all active threads for lettuce only below threads were found :\r\n```\r\n&quot;lettuce-eventExecutorLoop-1-1&quot;,\r\n&quot;lettuce-timer-3-1&quot;,\r\n&quot;lettuce-nioEventLoop-4-1&quot;,\r\n&quot;lettuce-eventExecutorLoop-1-2&quot;\r\n```\r\n\r\nI am using below properties for connection pool :\r\n```\r\n  default_port: 6379\r\n  password: ********\r\n  maxRequestQueueSize: 200000\r\n  servers:\r\n    - host: *.*.*.*\r\n      port: 6379\r\n  connections:\r\n    max: 20\r\n    minIdle: 5\r\n    maxIdle: 10\r\n    commandTimeout : 1000\r\n    socketTimeout: 1000\r\n    keepAliveIdleTimeout: 60000\r\n    maxWait: 5000\r\n    minIdleEvictTime: 60000\r\n```\r\n\r\nI have checked that LettuceClientConfiguration are intialized correctly and all properties are set accordingly but still it is not initializing connection pool. What could be the possible reason here? I have gone through all the documentations and only thing I found that we need to set property to false of shareNativeConnection which I already did. Any help would be appreciated.","title":"Spring Boot Redis - Lettuce is not creating connection pool","body":"<p>I am using spring-boot-starter-cache for redis interaction and below is the code which I am using to intialize the configurations :</p>\n<pre><code>@Autowired\n    private LettuceConfigProperties lettuceConfigProperties;\n\n    @Bean\n    public RedisConnectionFactory redisConnectionFactory() {\n        RedisClusterConfiguration clusterConfiguration = new RedisClusterConfiguration();\n\n        for (RedisNodeDetails nodeDetails : lettuceConfigProperties.getServers()) {\n            if (nodeDetails.getPort() == null) {\n                nodeDetails.setPort(lettuceConfigProperties.getDefaultPort());\n            }\n            clusterConfiguration.addClusterNode(new RedisNode(nodeDetails.getHost(), nodeDetails.getPort()));\n        }\n        clusterConfiguration.setPassword(lettuceConfigProperties.getPassword());\n\n        if (clusterConfiguration.getClusterNodes().size() == 1) {\n            RedisStandaloneConfiguration standaloneConfiguration = new RedisStandaloneConfiguration();\n            standaloneConfiguration.setPassword(lettuceConfigProperties.getPassword());\n            standaloneConfiguration.setHostName(lettuceConfigProperties.getServers().get(0).getHost());\n            standaloneConfiguration.setPort(lettuceConfigProperties.getServers().get(0).getPort());\n            var lettuceConnectionFactory = new LettuceConnectionFactory(standaloneConfiguration, createLettuceClientConfiguration());\n            lettuceConnectionFactory.setShareNativeConnection(false);\n            return lettuceConnectionFactory;\n        }\n\n        var lettuceConnectionFactory = new LettuceConnectionFactory(clusterConfiguration, createLettuceClientConfiguration());\n        lettuceConnectionFactory.setShareNativeConnection(false);\n        return lettuceConnectionFactory;\n    }\n\n    @Bean\n    public RedisTemplate&lt;String, Object&gt; redisTemplate() {\n        RedisTemplate&lt;String, Object&gt; template = new RedisTemplate&lt;&gt;();\n        template.setConnectionFactory(redisConnectionFactory());\n        template.setKeySerializer(new StringRedisSerializer());\n        template.setValueSerializer(new Jackson2JsonRedisSerializer&lt;&gt;(Object.class)); // Customize based on your needs\n        template.afterPropertiesSet();\n        return template;\n    }\n\n    @Bean\n    public RedisCacheManager cacheManager(RedisConnectionFactory connectionFactory) {\n        RedisCacheConfiguration cacheConfiguration = RedisCacheConfiguration.defaultCacheConfig()\n                .disableCachingNullValues()\n                .serializeKeysWith(RedisSerializationContext.SerializationPair.fromSerializer(new StringRedisSerializer()))\n                .serializeValuesWith(RedisSerializationContext.SerializationPair.fromSerializer(new Jackson2JsonRedisSerializer&lt;&gt;(Object.class))); // Customize based on your needs\n        log.info(&quot;[LETTUCE] Initializing.....&quot;);\n        return RedisCacheManager.builder(connectionFactory)\n                .cacheDefaults(cacheConfiguration)\n                .build();\n    }\n\n    @Bean\n    @Primary\n    public LettuceClientConfiguration createLettuceClientConfiguration() {\n        return LettucePoolingClientConfiguration.builder()\n                .poolConfig(createPoolConfig())\n                .clientOptions(clientOptions())\n                .clientResources(lettuceClientResources())\n                .commandTimeout(Duration.ofMillis(lettuceConfigProperties.getConnections().getCommandTimeout()))\n                .build();\n    }\n\n    @Bean\n    public ClientOptions clientOptions() {\n        return ClientOptions.builder()\n                //Controls auto-reconnect behavior on connections. If auto-reconnect is true (default), it is enabled.\n                //As soon as a connection gets closed/reset without the intention to close it, the client will try to reconnect and re-issue any queued commands. This flag has also the effect that disconnected connections will refuse commands and cancel these with an exception.\n                .autoReconnect(true)\n                //Request queue size for a connection. This value applies per connection. The command invocation will throw a RedisException if the queue size is exceeded and a new command is requested. Defaults to Integer.MAX_VALUE.\n                .requestQueueSize(lettuceConfigProperties.getMaxRequestQueueSize())\n                .socketOptions(SocketOptions.builder()\n                        .connectTimeout(Duration.ofMillis(lettuceConfigProperties.getConnections().getSocketTimeout()))\n                        .keepAlive(SocketOptions.KeepAliveOptions.builder()\n                                .enable().idle(Duration.ofMillis(lettuceConfigProperties.getConnections().getKeepAliveIdleTimeout())).build())\n                        /**\n                         * true to disable Nagle's algorithm, false to enable Nagle's algorithm.\n                         * The Nagle algorithm processes data on the sending side of TCP applications by a method called Nagling.\n                         * It detects small-sized messages and accumulates those messages into larger TCP packets before sending data across the wire.\n                         * This process avoids the generation of unnecessarily large numbers of small packets.\n                         * But this adds some latency sp we are disabling this\n                         */\n                        .tcpNoDelay(true)\n                        .build())\n                .timeoutOptions(\n                        /**\n                         * Options for command timeouts. These options configure how and whether commands time out once they were dispatched. Command timeout begins:\n                         * When the command is sent successfully to the transport\n                         * Queued while the connection was inactive\n                         * The timeout is canceled upon command completion/cancellation. Timeouts are not tied to a specific API and expire commands regardless of the synchronization method provided by the API that was used to enqueue the command.\n                         */\n                        TimeoutOptions.builder()\n                                .timeoutCommands() //true if commands should time out.\n                                .connectionTimeout() //To apply connection timeouts declared on connection level. This will apply -1 as connection timeout in which case connection level configuration will be applied for command connections timeouts\n                                .build()\n                )\n                .build();\n    }\n\n    /**\n     * Strategy interface to provide all the infrastructure building blocks like environment settings and thread pools so that the client can work with it properly.\n     * ClientResources can be shared amongst multiple client instances if created outside the client creation. Implementations of ClientResources are stateful and must be shutdown() after they are no longer in use.\n     */\n    @Bean(destroyMethod = &quot;shutdown&quot;)\n    public ClientResources lettuceClientResources() {\n        return DefaultClientResources.create();\n    }\n\n    private GenericObjectPoolConfig&lt;?&gt; createPoolConfig() {\n        GenericObjectPoolConfig&lt;?&gt; poolConfig = new GenericObjectPoolConfig&lt;&gt;();\n\n        // Maximum number of idle connections in the pool\n        poolConfig.setMaxIdle(lettuceConfigProperties.getConnections().getMaxIdle());\n\n        // Maximum number of connections that can be created in the pool\n        poolConfig.setMaxTotal(lettuceConfigProperties.getConnections().getMax());\n\n        //Minimum number of idle connections in the pool\n        poolConfig.setMinIdle(lettuceConfigProperties.getConnections().getMinIdle());\n\n        //The maximum number of milliseconds that the pool will wait (when there are no available connections and the getMaxActive() has been reached) for a connection to be returned before throwing an exception.\n        poolConfig.setMaxWait(Duration.ofMillis(lettuceConfigProperties.getConnections().getMaxWait()));\n\n        //The minimum amount of time an object must sit idle in the pool before it is eligible for eviction.\n        poolConfig.setMinEvictableIdleTime(Duration.ofMillis(lettuceConfigProperties.getConnections().getMinIdleEvictTime()));\n\n        //Whether to test idle connections for eviction\n        poolConfig.setTestWhileIdle(true);\n\n        //The indication of whether objects will be validated before being borrowed from the pool. Keep this false as it will add some latency for every request\n        poolConfig.setTestOnBorrow(false);\n\n        // Whether to test connections when they are returned to the pool\n        poolConfig.setTestOnReturn(false);\n\n        // Whether to test connections during the eviction process\n        poolConfig.setTestOnCreate(false);\n\n        // Whether the pool uses LIFO (last in, first out) or FIFO (first in, first out) for ordering idle objects\n        poolConfig.setLifo(true);\n\n        //If the pool is exhausted (no available idle instances and no capacity to create new ones), this method will either block if set to true\n        //Or throw a NoSuchElementException if set to false\n        poolConfig.setBlockWhenExhausted(true);\n\n        return poolConfig;\n    }\n</code></pre>\n<p>When I am listing all active threads for lettuce only below threads were found :</p>\n<pre><code>&quot;lettuce-eventExecutorLoop-1-1&quot;,\n&quot;lettuce-timer-3-1&quot;,\n&quot;lettuce-nioEventLoop-4-1&quot;,\n&quot;lettuce-eventExecutorLoop-1-2&quot;\n</code></pre>\n<p>I am using below properties for connection pool :</p>\n<pre><code>  default_port: 6379\n  password: ********\n  maxRequestQueueSize: 200000\n  servers:\n    - host: *.*.*.*\n      port: 6379\n  connections:\n    max: 20\n    minIdle: 5\n    maxIdle: 10\n    commandTimeout : 1000\n    socketTimeout: 1000\n    keepAliveIdleTimeout: 60000\n    maxWait: 5000\n    minIdleEvictTime: 60000\n</code></pre>\n<p>I have checked that LettuceClientConfiguration are intialized correctly and all properties are set accordingly but still it is not initializing connection pool. What could be the possible reason here? I have gone through all the documentations and only thing I found that we need to set property to false of shareNativeConnection which I already did. Any help would be appreciated.</p>\n"},{"tags":["java","spring","spring-security","spring-security-oauth2","oauth2client"],"answers":[{"comments":[{"owner":{"account_id":28880960,"reputation":33,"user_id":22120450,"display_name":"Inquisitive"},"score":0,"creation_date":1687629005,"post_id":76546907,"comment_id":134964745,"body_markdown":"Thanks for your reply. I agree, permitting access to these paths makes sense, but there&#39;s something else that is broken - behavior remains unchanged. While executing the code in the `OAuth2LoginAuthenticationFilter` the same [condition](https://github.com/spring-projects/spring-security/blob/7e0fcb7daeb19543e90aa0375308b4bd67f70b94/oauth2/oauth2-client/src/main/java/org/springframework/security/oauth2/client/web/OAuth2LoginAuthenticationFilter.java#L171) gets triggered because `authorizationRequest` appear to be `null` and exception gets thrown.","body":"Thanks for your reply. I agree, permitting access to these paths makes sense, but there&#39;s something else that is broken - behavior remains unchanged. While executing the code in the <code>OAuth2LoginAuthenticationFilter</code> the same <a href=\"https://github.com/spring-projects/spring-security/blob/7e0fcb7daeb19543e90aa0375308b4bd67f70b94/oauth2/oauth2-client/src/main/java/org/springframework/security/oauth2/client/web/OAuth2LoginAuthenticationFilter.java#L171\" rel=\"nofollow noreferrer\">condition</a> gets triggered because <code>authorizationRequest</code> appear to be <code>null</code> and exception gets thrown."},{"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"score":0,"creation_date":1687739634,"post_id":76546907,"comment_id":134974227,"body_markdown":"You probably haven&#39;t provided what is required when [opting out the default login page](https://docs.spring.io/spring-security/reference/servlet/oauth2/login/advanced.html#oauth2login-advanced-login-page)","body":"You probably haven&#39;t provided what is required when <a href=\"https://docs.spring.io/spring-security/reference/servlet/oauth2/login/advanced.html#oauth2login-advanced-login-page\" rel=\"nofollow noreferrer\">opting out the default login page</a>"},{"owner":{"account_id":28880960,"reputation":33,"user_id":22120450,"display_name":"Inquisitive"},"score":0,"creation_date":1687780295,"post_id":76546907,"comment_id":134979835,"body_markdown":"Can you please elaborate your comment (or update the answer), I didn&#39;t get what exactly is missing. Reference documentation says that it&#39;s mandatory to configure login page with `oauth2Login().loginPage()`, which is done, and actual redirect is consistent with this configuration: `target-page` -&gt; `localhost:7070/oauth2/authorization/main-clien (i.e. login page)` -&gt; `authorization-server`. What else regarding the login page should be specified?","body":"Can you please elaborate your comment (or update the answer), I didn&#39;t get what exactly is missing. Reference documentation says that it&#39;s mandatory to configure login page with <code>oauth2Login().loginPage()</code>, which is done, and actual redirect is consistent with this configuration: <code>target-page</code> -&gt; <code>localhost:7070&#47;oauth2&#47;authorization&#47;main-clien (i.e. login page)</code> -&gt; <code>authorization-server</code>. What else regarding the login page should be specified?"},{"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"score":0,"creation_date":1687785931,"post_id":76546907,"comment_id":134981099,"body_markdown":"You didn&#39;t read it. It doesn&#39;t say that it is mandatory to configure login Page. It says that if you do so, you have more to configure.","body":"You didn&#39;t read it. It doesn&#39;t say that it is mandatory to configure login Page. It says that if you do so, you have more to configure."},{"owner":{"account_id":28880960,"reputation":33,"user_id":22120450,"display_name":"Inquisitive"},"score":0,"creation_date":1687809636,"post_id":76546907,"comment_id":134985931,"body_markdown":"I meant mandatory for overriding the login page. Forgive me, but I don&#39;t see what do you mean by saying &quot;more to configure&quot;. Documentation states that the redirection endpoint needs to be configured if the base URI differs from default `/login/oauth2/code/*`, but in this case the client uses default. I don&#39;t know how to explain `OAuth2AuthorizationRequest` associated with the session is not present in the request repository and what is lacking in my configuration. I&#39;ll be glad if you point out the cause.","body":"I meant mandatory for overriding the login page. Forgive me, but I don&#39;t see what do you mean by saying &quot;more to configure&quot;. Documentation states that the redirection endpoint needs to be configured if the base URI differs from default <code>&#47;login&#47;oauth2&#47;code&#47;*</code>, but in this case the client uses default. I don&#39;t know how to explain <code>OAuth2AuthorizationRequest</code> associated with the session is not present in the request repository and what is lacking in my configuration. I&#39;ll be glad if you point out the cause."},{"owner":{"account_id":28880960,"reputation":33,"user_id":22120450,"display_name":"Inquisitive"},"score":0,"creation_date":1687811684,"post_id":76546907,"comment_id":134986229,"body_markdown":"I also found that this [sample configuration](https://github.com/sjohnr/spring-authorization-server/blob/02d521a4835d8fd93c7efc0aabd5f289aff76139/samples/messages-client/src/main/java/sample/config/SecurityConfig.java#L42) of the client which uses authorization code grant provided by Joe Grandja and Steve Riesenberg has nothing extra added, it&#39;s pretty much like my initial one posted in the question.","body":"I also found that this <a href=\"https://github.com/sjohnr/spring-authorization-server/blob/02d521a4835d8fd93c7efc0aabd5f289aff76139/samples/messages-client/src/main/java/sample/config/SecurityConfig.java#L42\" rel=\"nofollow noreferrer\">sample configuration</a> of the client which uses authorization code grant provided by Joe Grandja and Steve Riesenberg has nothing extra added, it&#39;s pretty much like my initial one posted in the question."},{"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"score":0,"creation_date":1687827597,"post_id":76546907,"comment_id":134987928,"body_markdown":"from the exact paragraph I linked in the doc __To override the default login page, configure oauth2Login().loginPage() and (optionally) oauth2Login().authorizationEndpoint().baseUri()__ and just after the code sample, a big red warning __You need to provide a @Controller with a @RequestMapping(&quot;/login/oauth2&quot;) that is capable of rendering the custom login page.__","body":"from the exact paragraph I linked in the doc <b>To override the default login page, configure oauth2Login().loginPage() and (optionally) oauth2Login().authorizationEndpoint().baseUri()</b> and just after the code sample, a big red warning <b>You need to provide a @Controller with a @RequestMapping(&quot;/login/oauth2&quot;) that is capable of rendering the custom login page.</b>"}],"tags":[],"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"comment_count":7,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687827873,"creation_date":1687622769,"answer_id":76546907,"question_id":76543725,"body_markdown":"You can&#39;t have all routes requiring an authenticated user in an OAuth2 client using authorization code flow: in your case (which is following the default Spring Boot convention) `/login/**` and `/oauth2/**` are accessed during the user authentication process, which means before the user is authenticated.\r\n\r\n```java\r\n@Configuration\r\npublic class SecurityConfig {\r\n    \r\n    @Bean\r\n    SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\r\n        \r\n        http.oauth2Client(withDefaults())\r\n            .oauth2Login(oauth2Login -&gt;\r\n                oauth2Login.loginPage(&quot;/oauth2/authorization/main-client&quot;)\r\n            );\r\n        \r\n        http.authorizeHttpRequests(authorize -&gt;\r\n                authorize\r\n                    .requestMatchers(&quot;/login/**&quot;, &quot;/oauth2/**&quot;).permitAll()\r\n                    .anyRequest().authenticated()\r\n            );\r\n        \r\n        return http.build();\r\n    }\r\n}\r\n```\r\nBut this requires to meet the requirements when providing a `loginPage` (providing with a `@Controller` for it, to start with).\r\n\r\nProvided that you have `spring-boot-starter-oauth2-client` in the classpath and Spring Boot OAuth2 client properties in `application.properties` (or yaml), it seems that this would be just fine:\r\n```java\r\n@Configuration\r\npublic class SecurityConfig {\r\n}\r\n```\r\n\r\nI suggest you have a look at [my tutorials][1] for your clients (and resource servers) configuration.\r\n\r\n\r\n  [1]: https://github.com/ch4mpy/spring-addons","title":"Spring OAuth2 Client - authorization code exchange fails","body":"<p>You can't have all routes requiring an authenticated user in an OAuth2 client using authorization code flow: in your case (which is following the default Spring Boot convention) <code>/login/**</code> and <code>/oauth2/**</code> are accessed during the user authentication process, which means before the user is authenticated.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\npublic class SecurityConfig {\n    \n    @Bean\n    SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\n        \n        http.oauth2Client(withDefaults())\n            .oauth2Login(oauth2Login -&gt;\n                oauth2Login.loginPage(&quot;/oauth2/authorization/main-client&quot;)\n            );\n        \n        http.authorizeHttpRequests(authorize -&gt;\n                authorize\n                    .requestMatchers(&quot;/login/**&quot;, &quot;/oauth2/**&quot;).permitAll()\n                    .anyRequest().authenticated()\n            );\n        \n        return http.build();\n    }\n}\n</code></pre>\n<p>But this requires to meet the requirements when providing a <code>loginPage</code> (providing with a <code>@Controller</code> for it, to start with).</p>\n<p>Provided that you have <code>spring-boot-starter-oauth2-client</code> in the classpath and Spring Boot OAuth2 client properties in <code>application.properties</code> (or yaml), it seems that this would be just fine:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\npublic class SecurityConfig {\n}\n</code></pre>\n<p>I suggest you have a look at <a href=\"https://github.com/ch4mpy/spring-addons\" rel=\"nofollow noreferrer\">my tutorials</a> for your clients (and resource servers) configuration.</p>\n"},{"tags":[],"owner":{"account_id":28576136,"reputation":131,"user_id":21877718,"display_name":"Will Phi"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1689608874,"creation_date":1689608874,"answer_id":76706154,"question_id":76543725,"body_markdown":"That is usually because of cookie overwriting, see:\r\n\r\nhttps://github.com/spring-projects/spring-security/issues/5946\r\n\r\nAdd a line to hosts file:\r\n\r\n    127.0.0.1 auth-server\r\n\r\nAnd then change &quot;localhost:8080&quot; to &quot;auth-server:8080&quot; in ClientsConfig.\r\n\r\n","title":"Spring OAuth2 Client - authorization code exchange fails","body":"<p>That is usually because of cookie overwriting, see:</p>\n<p><a href=\"https://github.com/spring-projects/spring-security/issues/5946\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-security/issues/5946</a></p>\n<p>Add a line to hosts file:</p>\n<pre><code>127.0.0.1 auth-server\n</code></pre>\n<p>And then change &quot;localhost:8080&quot; to &quot;auth-server:8080&quot; in ClientsConfig.</p>\n"},{"tags":[],"owner":{"account_id":28880960,"reputation":33,"user_id":22120450,"display_name":"Inquisitive"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690123127,"creation_date":1690123127,"answer_id":76748814,"question_id":76543725,"body_markdown":"The [answer](https://stackoverflow.com/a/76706154/22120450) provided by *Will Phi* is correct. \r\n\r\nBrowsers map cookies to the **host** (port is not taken into account), therefore after redirect to `localhost:8080` JSESSIONID cookie gets overwritten and the client is not able to recognize it.\r\n\r\nAs *Will Phi* has pointed out, to resolve the problem we can set an alias to `127.0.0.1` in the `hosts` file (`/etc/hosts` - Linux, `Windows\\System32\\drivers\\etc\\hosts` - Windows).\r\n\r\nThere&#39;s another solution, instead we can simply use paths starting with `127.0.0.1:7070` for client and paths starting with `localhost:8080` for authorization server. I.e. client registration would look like that:\r\n\r\n    @Bean\r\n    public ClientRegistration mainWebClient() {\r\n\r\n        return ClientRegistration\r\n            .withRegistrationId(&quot;main-client&quot;)\r\n            .clientId(&quot;test_web_client&quot;)\r\n            .clientName(&quot;test_web_client&quot;)\r\n            .clientSecret(&quot;secret&quot;)\r\n            .clientAuthenticationMethod(ClientAuthenticationMethod.CLIENT_SECRET_BASIC)\r\n            .authorizationGrantType(AuthorizationGrantType.AUTHORIZATION_CODE)\r\n            .scope(OidcScopes.OPENID)\r\n            .redirectUri(&quot;http://127.0.0.1:7070/login/oauth2/code/main-client&quot;)\r\n            .authorizationUri(&quot;http://localhost:8080/oauth2/authorize&quot;)\r\n            .tokenUri(&quot;http://localhost:8080/oauth2/token&quot;)\r\n            .build();\r\n    }\r\n\r\nAnd `127.0.0.1:7070` also should be used in the redirect URI in client-configuration of the authorization server.","title":"Spring OAuth2 Client - authorization code exchange fails","body":"<p>The <a href=\"https://stackoverflow.com/a/76706154/22120450\">answer</a> provided by <em>Will Phi</em> is correct.</p>\n<p>Browsers map cookies to the <strong>host</strong> (port is not taken into account), therefore after redirect to <code>localhost:8080</code> JSESSIONID cookie gets overwritten and the client is not able to recognize it.</p>\n<p>As <em>Will Phi</em> has pointed out, to resolve the problem we can set an alias to <code>127.0.0.1</code> in the <code>hosts</code> file (<code>/etc/hosts</code> - Linux, <code>Windows\\System32\\drivers\\etc\\hosts</code> - Windows).</p>\n<p>There's another solution, instead we can simply use paths starting with <code>127.0.0.1:7070</code> for client and paths starting with <code>localhost:8080</code> for authorization server. I.e. client registration would look like that:</p>\n<pre><code>@Bean\npublic ClientRegistration mainWebClient() {\n\n    return ClientRegistration\n        .withRegistrationId(&quot;main-client&quot;)\n        .clientId(&quot;test_web_client&quot;)\n        .clientName(&quot;test_web_client&quot;)\n        .clientSecret(&quot;secret&quot;)\n        .clientAuthenticationMethod(ClientAuthenticationMethod.CLIENT_SECRET_BASIC)\n        .authorizationGrantType(AuthorizationGrantType.AUTHORIZATION_CODE)\n        .scope(OidcScopes.OPENID)\n        .redirectUri(&quot;http://127.0.0.1:7070/login/oauth2/code/main-client&quot;)\n        .authorizationUri(&quot;http://localhost:8080/oauth2/authorize&quot;)\n        .tokenUri(&quot;http://localhost:8080/oauth2/token&quot;)\n        .build();\n}\n</code></pre>\n<p>And <code>127.0.0.1:7070</code> also should be used in the redirect URI in client-configuration of the authorization server.</p>\n"}],"owner":{"account_id":28880960,"reputation":33,"user_id":22120450,"display_name":"Inquisitive"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1159,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":76706154,"answer_count":3,"score":0,"last_activity_date":1690123127,"creation_date":1687558292,"question_id":76543725,"body_markdown":"Suppose we have a confidential *OAuth2 Client* performing authorization against the *Authorization Server* using *authorization code* grant type.\r\n\r\nHere&#39;s a minimal reproducible example.\r\n\r\nClient application is running on port `7070`, authorization server on `8080`.\r\n\r\nClient configuration:\r\n\r\n```\r\n@Configuration\r\npublic class ClientsConfig {\r\n    \r\n    @Bean\r\n    public ClientRegistration mainWebClient() {\r\n        \r\n        return ClientRegistration\r\n            .withRegistrationId(&quot;main-client&quot;)\r\n            .clientId(&quot;test_web_client&quot;)\r\n            .clientName(&quot;test_web_client&quot;)\r\n            .clientSecret(&quot;secret&quot;)\r\n            .clientAuthenticationMethod(ClientAuthenticationMethod.CLIENT_SECRET_BASIC)\r\n            .authorizationGrantType(AuthorizationGrantType.AUTHORIZATION_CODE)\r\n            .scope(OidcScopes.OPENID)\r\n            .authorizationUri(&quot;http://localhost:8080/oauth2/authorize&quot;)\r\n            .tokenUri(&quot;http://localhost:8080/oauth2/token&quot;)\r\n            .redirectUri(&quot;http://localhost:7070/login/oauth2/code/main-client&quot;)\r\n            .build();\r\n    }\r\n    \r\n    @Bean\r\n    public ClientRegistrationRepository clientRegistrationRepository() {\r\n        \r\n        return new InMemoryClientRegistrationRepository(\r\n            mainWebClient()\r\n        );\r\n    }\r\n    \r\n    @Bean\r\n    public OAuth2AuthorizedClientManager oauth2AuthorizedClientManager(\r\n        OAuth2AuthorizedClientRepository authorizedClientRepository) {\r\n        \r\n        var clientManager =\r\n            new DefaultOAuth2AuthorizedClientManager(\r\n                clientRegistrationRepository(),\r\n                authorizedClientRepository\r\n            );\r\n        \r\n        clientManager\r\n            .setAuthorizedClientProvider(\r\n                OAuth2AuthorizedClientProviderBuilder.builder()\r\n                    .authorizationCode()\r\n                    .refreshToken()\r\n                    .build()\r\n            );\r\n        \r\n        return clientManager;\r\n    }\r\n}\r\n```\r\n\r\n`SecurityFilterChain` - configured login page and for simplicity every request is permitted (`OAuth2AuthorizedClient` client injected in controller as a method argument would trigger the authorization flow):\r\n\r\n```\r\n@Configuration\r\npublic class SecurityConfig {\r\n    \r\n    @Bean\r\n    SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\r\n        \r\n        http.oauth2Client(withDefaults())\r\n            .oauth2Login(oauth2Login -&gt;\r\n                oauth2Login.loginPage(&quot;/oauth2/authorization/main-client&quot;)\r\n            );\r\n        \r\n        http.authorizeHttpRequests(authorize -&gt;\r\n                authorize.anyRequest().permitAll()\r\n            );\r\n        \r\n        return http.build();\r\n    }\r\n}\r\n```\r\n\r\nSimplistic controller with `OAuth2AuthorizedClient` injected:\r\n\r\n```\r\n@RestController\r\npublic class TokenController {\r\n    \r\n    @GetMapping(&quot;/hello&quot;)\r\n    public String getToken(\r\n        @RegisteredOAuth2AuthorizedClient(&quot;main-client&quot;)\r\n        OAuth2AuthorizedClient client) {\r\n        \r\n        return &quot;access token: &quot; +\r\n            client.getAccessToken().getTokenType() + &quot; &quot; +\r\n            client.getAccessToken().getTokenValue();\r\n    }\r\n}\r\n```\r\n\r\nIt&#39;s important to emphasize that the **problem is rooted in the client&#39;s configuration**.\r\n\r\nAuthorization server does its job **flawlessly** issuing codes and tokens (specifically for the client shown above, server behavior was verified using browser to obtain authorization code and Postman to exchange the code for an access token).\r\n\r\nFor some reason, the client application is not capable to complete the authorization flow. It receives an authorization code from the authorization server but fails to exchange it.\r\n\r\nHere&#39;s what happens. Firstly, as expected, the unauthorized request gets redirected to the authorization server running on port 8080.\r\n\r\n[![Redirect to Authorization server][1]][1]\r\n\r\nUser credentials provided to the server, and it responds with the authorization code, after receiving the code authorization attempt fails and client application perform the second redirect to the authorization server.\r\n\r\n[![Authorization attempt fails, second redirect][2]][2]\r\n\r\nIn the client&#39;s logs I found that an `OAuth2AuthenticationException` with the error-code `authorization_request_not_found` occurred in the `OAuth2LoginAuthenticationFilter` while invoking `attemptAuthentication()` method.\r\n\r\nHere are log-messages starting from the point when authorization code was received:\r\n\r\n&gt; 2023-06-15T22:28:23.268+03:00 DEBUG 7732 --- [nio-7070-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /login/oauth2/code/main-client?code=Dpv-xhYJZcdp4T6B3VoRQZ1UzXR7w9SR2rWYiEUUO5XtGWwJvzxV-WqR2hVwG5Sc1OmsciBkGau65d4Lf7RX5YIoTseudmI6qJbdsBMM7dN2iHnDwXLnsSCAu0WhbS6_&amp;state=EKLnVsMKTT6jx4RrBn3wCbJ-a7mT0ee4xHwgAmEPI5o%3D\r\n&gt; 2023-06-15T22:28:23.269+03:00 TRACE 7732 --- [nio-7070-exec-3] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/15)\r\n&gt; 2023-06-15T22:28:23.269+03:00 TRACE 7732 --- [nio-7070-exec-3] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/15)\r\n&gt; 2023-06-15T22:28:23.269+03:00 TRACE 7732 --- [nio-7070-exec-3] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/15)\r\n&gt; 2023-06-15T22:28:23.269+03:00 TRACE 7732 --- [nio-7070-exec-3] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/15)\r\n&gt; 2023-06-15T22:28:23.269+03:00 TRACE 7732 --- [nio-7070-exec-3] o.s.security.web.FilterChainProxy        : Invoking CsrfFilter (5/15)\r\n&gt; 2023-06-15T22:28:23.269+03:00 TRACE 7732 --- [nio-7070-exec-3] o.s.security.web.csrf.CsrfFilter         : Did not protect against CSRF since request did not match CsrfNotRequired [TRACE, HEAD, GET, OPTIONS]\r\n&gt; 2023-06-15T22:28:23.269+03:00 TRACE 7732 --- [nio-7070-exec-3] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/15)\r\n&gt; 2023-06-15T22:28:23.269+03:00 TRACE 7732 --- [nio-7070-exec-3] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Ant [pattern=&#39;/logout&#39;, POST]\r\n&gt; 2023-06-15T22:28:23.269+03:00 TRACE 7732 --- [nio-7070-exec-3] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (7/15)\r\n&gt; 2023-06-15T22:28:23.269+03:00 TRACE 7732 --- [nio-7070-exec-3] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (8/15)\r\n&gt; 2023-06-15T22:28:23.270+03:00 TRACE 7732 --- [nio-7070-exec-3] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (9/15)\r\n&gt; 2023-06-15T22:28:23.271+03:00 TRACE 7732 --- [nio-7070-exec-3] .s.o.c.w.OAuth2LoginAuthenticationFilter : Failed to process authentication request\r\n&gt; \r\n&gt; org.springframework.security.oauth2.core.OAuth2AuthenticationException: [authorization_request_not_found]\r\n&gt; at org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter.attemptAuthentication(OAuth2LoginAuthenticationFilter.java:173) ~[spring-security-oauth2-client-6.1.0.jar:6.1.0]\r\n&gt; at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:231) ~[spring-security-web-6.1.0.jar:6.1.0]\r\n&gt; at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221) ~[spring-security-web-6.1.0.jar:6.1.0]\r\n&gt; \r\n&gt; *** few lines omitted ***\r\n&gt; \r\n&gt; 2023-06-15T22:28:23.272+03:00 TRACE 7732 --- [nio-7070-exec-3] .s.o.c.w.OAuth2LoginAuthenticationFilter : Cleared SecurityContextHolder\r\n&gt; 2023-06-15T22:28:23.272+03:00 TRACE 7732 --- [nio-7070-exec-3] .s.o.c.w.OAuth2LoginAuthenticationFilter : Handling authentication failure\r\n&gt; 2023-06-15T22:28:23.272+03:00 DEBUG 7732 --- [nio-7070-exec-3] o.s.s.web.DefaultRedirectStrategy        : Redirecting to /oauth2/authorization/main-client?error\r\n&gt; \r\n&gt; *** few lines omitted ***\r\n&gt; \r\n&gt; 2023-06-15T22:28:23.304+03:00 TRACE 7732 --- [nio-7070-exec-4] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (7/15)\r\n&gt; 2023-06-15T22:28:23.305+03:00 DEBUG 7732 --- [nio-7070-exec-4] o.s.s.web.DefaultRedirectStrategy        : Redirecting to http://localhost:8080/oauth2/authorize?response_type=code&amp;client_id=test_web_client&amp;scope=openid&amp;state=norrUwgtNOpX4olrhN7-nPyVoBhmGYWSU5NJppnjxGA%3D&amp;redirect_uri=http://localhost:7070/login/oauth2/code/main-client&amp;nonce=6fiTfM0ul1ASzKKf581SUvy092AN4Jq1Vg_a97FMMqs\r\n&gt; 2023-06-15T22:28:23.305+03:00 TRACE 7732 --- [nio-7070-exec-4] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]\r\n&gt; \r\n\r\nCan you please give me hint how can it be fixed?\r\n\r\n&lt;h3&gt;Note&lt;/h3&gt;\r\n\r\nTo verify the behavior I&#39;ve described, **any** sort of OAuth2 authorization server can be used.\r\n\r\nJust for the sake of completeness, here&#39;s a minimal configuration of the Spring OAuth2 **Authorization Server** which is aware of the client shown previously.\r\n\r\n```\r\n@Configuration\r\npublic class SecurityConfig {\r\n    \r\n    @Order(1)\r\n    @Bean\r\n    public SecurityFilterChain authSecurityFilterChain(HttpSecurity http) throws Exception {\r\n        \r\n        OAuth2AuthorizationServerConfiguration.applyDefaultSecurity(http);\r\n        \r\n        http.getConfigurer(OAuth2AuthorizationServerConfigurer.class)\r\n            .authorizationEndpoint(endPoint -&gt; endPoint\r\n                .authenticationProviders(LocalhostCompliantValidator::apply)\r\n            )\r\n            .oidc(Customizer.withDefaults());\r\n        \r\n        http.exceptionHandling(c -&gt;\r\n            c.authenticationEntryPoint(\r\n                new LoginUrlAuthenticationEntryPoint(&quot;/login&quot;)\r\n            )\r\n        );\r\n        \r\n        return http.build();\r\n    }\r\n    \r\n    @Order(2)\r\n    @Bean\r\n    public SecurityFilterChain appSecurityFilterChain(HttpSecurity http) throws Exception {\r\n        \r\n        http.formLogin(Customizer.withDefaults());\r\n        \r\n        http.authorizeHttpRequests(auth -&gt;\r\n            auth.anyRequest().authenticated()\r\n        );\r\n        \r\n        return http.build();\r\n    }\r\n    \r\n    @Bean\r\n    public AuthorizationServerSettings authorizationServerSettings() {\r\n        return AuthorizationServerSettings.builder().build();\r\n    }\r\n    \r\n    @Bean\r\n    public UserDetailsService userDetailsService() {\r\n        var user = User.withUsername(&quot;user&quot;)\r\n            .password(&quot;password&quot;)\r\n            .authorities(&quot;read&quot;, &quot;write&quot;)\r\n            .build();\r\n        \r\n        return new InMemoryUserDetailsManager(user);\r\n    }\r\n    \r\n    @Bean\r\n    @SuppressWarnings(&quot;deprecation&quot;)\r\n    public PasswordEncoder passwordEncoder() {\r\n        return NoOpPasswordEncoder.getInstance();\r\n    }\r\n    \r\n    @Bean\r\n    public RegisteredClientRepository registeredClientRepository() {\r\n        RegisteredClient mainClient = RegisteredClient.withId(&quot;1&quot;)\r\n            .clientId(&quot;test_web_client&quot;)\r\n            .clientSecret(&quot;secret&quot;)\r\n            .clientAuthenticationMethod(ClientAuthenticationMethod.CLIENT_SECRET_BASIC)\r\n            .scope(OidcScopes.OPENID)\r\n            .authorizationGrantType(AuthorizationGrantType.AUTHORIZATION_CODE)\r\n            .authorizationGrantType(AuthorizationGrantType.REFRESH_TOKEN)\r\n            .redirectUri(&quot;http://localhost:7070/login/oauth2/code/main-client&quot;)\r\n            .tokenSettings(\r\n                TokenSettings.builder()\r\n                    .accessTokenFormat(OAuth2TokenFormat.REFERENCE)\r\n                    .accessTokenTimeToLive(Duration.ofHours(24))\r\n                    .build()\r\n            )\r\n            .clientSettings(\r\n                ClientSettings.builder()\r\n                    .requireProofKey(false)\r\n                    .requireAuthorizationConsent(false)\r\n                    .build()\r\n            )\r\n            .build();\r\n        \r\n        return new InMemoryRegisteredClientRepository(mainClient);\r\n    }\r\n}\r\n```\r\n\r\nUsing `localhost` as a redirect URI is against specification and therefore in order to work with the client on `localhost:7070` requires implementing a custom validator, which might look like this:\r\n\r\n```\r\npublic class LocalhostCompliantValidator implements Consumer&lt;OAuth2AuthorizationCodeRequestAuthenticationContext&gt; {\r\n    public static void apply(List&lt;AuthenticationProvider&gt; providers) {\r\n        \r\n        for (var provider: providers) {\r\n            if (provider instanceof OAuth2AuthorizationCodeRequestAuthenticationProvider oauth2Provider) {\r\n                oauth2Provider.setAuthenticationValidator(new LocalhostCompliantValidator());\r\n            }\r\n        }\r\n    }\r\n    \r\n    @Override\r\n    public void accept(OAuth2AuthorizationCodeRequestAuthenticationContext context) {\r\n        \r\n        var token = getAuthenticationToken(context);\r\n        \r\n        boolean clientHasRequestedUri = getRegisteredUris(context)\r\n            .contains(token.getRedirectUri());\r\n        \r\n        if (!clientHasRequestedUri) {\r\n            throwAuthenticationException(token);\r\n        }\r\n    }\r\n    \r\n    private static Set&lt;String&gt; getRegisteredUris(OAuth2AuthorizationCodeRequestAuthenticationContext context) {\r\n        return context\r\n            .getRegisteredClient()\r\n            .getRedirectUris();\r\n    }\r\n    \r\n    private static OAuth2AuthorizationCodeRequestAuthenticationToken getAuthenticationToken(OAuth2AuthorizationCodeRequestAuthenticationContext context) {\r\n        \r\n        return context.getAuthentication();\r\n    }\r\n    \r\n    private static void throwAuthenticationException(OAuth2AuthorizationCodeRequestAuthenticationToken token) {\r\n        throw new OAuth2AuthorizationCodeRequestAuthenticationException(\r\n            new OAuth2Error(OAuth2ErrorCodes.INVALID_REQUEST), token\r\n        );\r\n    }\r\n}\r\n```\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/yZIGv.jpg\r\n  [2]: https://i.stack.imgur.com/DuA8t.jpg","title":"Spring OAuth2 Client - authorization code exchange fails","body":"<p>Suppose we have a confidential <em>OAuth2 Client</em> performing authorization against the <em>Authorization Server</em> using <em>authorization code</em> grant type.</p>\n<p>Here's a minimal reproducible example.</p>\n<p>Client application is running on port <code>7070</code>, authorization server on <code>8080</code>.</p>\n<p>Client configuration:</p>\n<pre><code>@Configuration\npublic class ClientsConfig {\n    \n    @Bean\n    public ClientRegistration mainWebClient() {\n        \n        return ClientRegistration\n            .withRegistrationId(&quot;main-client&quot;)\n            .clientId(&quot;test_web_client&quot;)\n            .clientName(&quot;test_web_client&quot;)\n            .clientSecret(&quot;secret&quot;)\n            .clientAuthenticationMethod(ClientAuthenticationMethod.CLIENT_SECRET_BASIC)\n            .authorizationGrantType(AuthorizationGrantType.AUTHORIZATION_CODE)\n            .scope(OidcScopes.OPENID)\n            .authorizationUri(&quot;http://localhost:8080/oauth2/authorize&quot;)\n            .tokenUri(&quot;http://localhost:8080/oauth2/token&quot;)\n            .redirectUri(&quot;http://localhost:7070/login/oauth2/code/main-client&quot;)\n            .build();\n    }\n    \n    @Bean\n    public ClientRegistrationRepository clientRegistrationRepository() {\n        \n        return new InMemoryClientRegistrationRepository(\n            mainWebClient()\n        );\n    }\n    \n    @Bean\n    public OAuth2AuthorizedClientManager oauth2AuthorizedClientManager(\n        OAuth2AuthorizedClientRepository authorizedClientRepository) {\n        \n        var clientManager =\n            new DefaultOAuth2AuthorizedClientManager(\n                clientRegistrationRepository(),\n                authorizedClientRepository\n            );\n        \n        clientManager\n            .setAuthorizedClientProvider(\n                OAuth2AuthorizedClientProviderBuilder.builder()\n                    .authorizationCode()\n                    .refreshToken()\n                    .build()\n            );\n        \n        return clientManager;\n    }\n}\n</code></pre>\n<p><code>SecurityFilterChain</code> - configured login page and for simplicity every request is permitted (<code>OAuth2AuthorizedClient</code> client injected in controller as a method argument would trigger the authorization flow):</p>\n<pre><code>@Configuration\npublic class SecurityConfig {\n    \n    @Bean\n    SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\n        \n        http.oauth2Client(withDefaults())\n            .oauth2Login(oauth2Login -&gt;\n                oauth2Login.loginPage(&quot;/oauth2/authorization/main-client&quot;)\n            );\n        \n        http.authorizeHttpRequests(authorize -&gt;\n                authorize.anyRequest().permitAll()\n            );\n        \n        return http.build();\n    }\n}\n</code></pre>\n<p>Simplistic controller with <code>OAuth2AuthorizedClient</code> injected:</p>\n<pre><code>@RestController\npublic class TokenController {\n    \n    @GetMapping(&quot;/hello&quot;)\n    public String getToken(\n        @RegisteredOAuth2AuthorizedClient(&quot;main-client&quot;)\n        OAuth2AuthorizedClient client) {\n        \n        return &quot;access token: &quot; +\n            client.getAccessToken().getTokenType() + &quot; &quot; +\n            client.getAccessToken().getTokenValue();\n    }\n}\n</code></pre>\n<p>It's important to emphasize that the <strong>problem is rooted in the client's configuration</strong>.</p>\n<p>Authorization server does its job <strong>flawlessly</strong> issuing codes and tokens (specifically for the client shown above, server behavior was verified using browser to obtain authorization code and Postman to exchange the code for an access token).</p>\n<p>For some reason, the client application is not capable to complete the authorization flow. It receives an authorization code from the authorization server but fails to exchange it.</p>\n<p>Here's what happens. Firstly, as expected, the unauthorized request gets redirected to the authorization server running on port 8080.</p>\n<p><a href=\"https://i.stack.imgur.com/yZIGv.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/yZIGv.jpg\" alt=\"Redirect to Authorization server\" /></a></p>\n<p>User credentials provided to the server, and it responds with the authorization code, after receiving the code authorization attempt fails and client application perform the second redirect to the authorization server.</p>\n<p><a href=\"https://i.stack.imgur.com/DuA8t.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/DuA8t.jpg\" alt=\"Authorization attempt fails, second redirect\" /></a></p>\n<p>In the client's logs I found that an <code>OAuth2AuthenticationException</code> with the error-code <code>authorization_request_not_found</code> occurred in the <code>OAuth2LoginAuthenticationFilter</code> while invoking <code>attemptAuthentication()</code> method.</p>\n<p>Here are log-messages starting from the point when authorization code was received:</p>\n<blockquote>\n<p>2023-06-15T22:28:23.268+03:00 DEBUG 7732 --- [nio-7070-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /login/oauth2/code/main-client?code=Dpv-xhYJZcdp4T6B3VoRQZ1UzXR7w9SR2rWYiEUUO5XtGWwJvzxV-WqR2hVwG5Sc1OmsciBkGau65d4Lf7RX5YIoTseudmI6qJbdsBMM7dN2iHnDwXLnsSCAu0WhbS6_&amp;state=EKLnVsMKTT6jx4RrBn3wCbJ-a7mT0ee4xHwgAmEPI5o%3D\n2023-06-15T22:28:23.269+03:00 TRACE 7732 --- [nio-7070-exec-3] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/15)\n2023-06-15T22:28:23.269+03:00 TRACE 7732 --- [nio-7070-exec-3] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/15)\n2023-06-15T22:28:23.269+03:00 TRACE 7732 --- [nio-7070-exec-3] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/15)\n2023-06-15T22:28:23.269+03:00 TRACE 7732 --- [nio-7070-exec-3] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/15)\n2023-06-15T22:28:23.269+03:00 TRACE 7732 --- [nio-7070-exec-3] o.s.security.web.FilterChainProxy        : Invoking CsrfFilter (5/15)\n2023-06-15T22:28:23.269+03:00 TRACE 7732 --- [nio-7070-exec-3] o.s.security.web.csrf.CsrfFilter         : Did not protect against CSRF since request did not match CsrfNotRequired [TRACE, HEAD, GET, OPTIONS]\n2023-06-15T22:28:23.269+03:00 TRACE 7732 --- [nio-7070-exec-3] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/15)\n2023-06-15T22:28:23.269+03:00 TRACE 7732 --- [nio-7070-exec-3] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Ant [pattern='/logout', POST]\n2023-06-15T22:28:23.269+03:00 TRACE 7732 --- [nio-7070-exec-3] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (7/15)\n2023-06-15T22:28:23.269+03:00 TRACE 7732 --- [nio-7070-exec-3] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (8/15)\n2023-06-15T22:28:23.270+03:00 TRACE 7732 --- [nio-7070-exec-3] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (9/15)\n2023-06-15T22:28:23.271+03:00 TRACE 7732 --- [nio-7070-exec-3] .s.o.c.w.OAuth2LoginAuthenticationFilter : Failed to process authentication request</p>\n<p>org.springframework.security.oauth2.core.OAuth2AuthenticationException: [authorization_request_not_found]\nat org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter.attemptAuthentication(OAuth2LoginAuthenticationFilter.java:173) ~[spring-security-oauth2-client-6.1.0.jar:6.1.0]\nat org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:231) ~[spring-security-web-6.1.0.jar:6.1.0]\nat org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221) ~[spring-security-web-6.1.0.jar:6.1.0]</p>\n<p>*** few lines omitted ***</p>\n<p>2023-06-15T22:28:23.272+03:00 TRACE 7732 --- [nio-7070-exec-3] .s.o.c.w.OAuth2LoginAuthenticationFilter : Cleared SecurityContextHolder\n2023-06-15T22:28:23.272+03:00 TRACE 7732 --- [nio-7070-exec-3] .s.o.c.w.OAuth2LoginAuthenticationFilter : Handling authentication failure\n2023-06-15T22:28:23.272+03:00 DEBUG 7732 --- [nio-7070-exec-3] o.s.s.web.DefaultRedirectStrategy        : Redirecting to /oauth2/authorization/main-client?error</p>\n<p>*** few lines omitted ***</p>\n<p>2023-06-15T22:28:23.304+03:00 TRACE 7732 --- [nio-7070-exec-4] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (7/15)\n2023-06-15T22:28:23.305+03:00 DEBUG 7732 --- [nio-7070-exec-4] o.s.s.web.DefaultRedirectStrategy        : Redirecting to http://localhost:8080/oauth2/authorize?response_type=code&amp;client_id=test_web_client&amp;scope=openid&amp;state=norrUwgtNOpX4olrhN7-nPyVoBhmGYWSU5NJppnjxGA%3D&amp;redirect_uri=http://localhost:7070/login/oauth2/code/main-client&amp;nonce=6fiTfM0ul1ASzKKf581SUvy092AN4Jq1Vg_a97FMMqs\n2023-06-15T22:28:23.305+03:00 TRACE 7732 --- [nio-7070-exec-4] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]</p>\n</blockquote>\n<p>Can you please give me hint how can it be fixed?</p>\n<h3>Note</h3>\n<p>To verify the behavior I've described, <strong>any</strong> sort of OAuth2 authorization server can be used.</p>\n<p>Just for the sake of completeness, here's a minimal configuration of the Spring OAuth2 <strong>Authorization Server</strong> which is aware of the client shown previously.</p>\n<pre><code>@Configuration\npublic class SecurityConfig {\n    \n    @Order(1)\n    @Bean\n    public SecurityFilterChain authSecurityFilterChain(HttpSecurity http) throws Exception {\n        \n        OAuth2AuthorizationServerConfiguration.applyDefaultSecurity(http);\n        \n        http.getConfigurer(OAuth2AuthorizationServerConfigurer.class)\n            .authorizationEndpoint(endPoint -&gt; endPoint\n                .authenticationProviders(LocalhostCompliantValidator::apply)\n            )\n            .oidc(Customizer.withDefaults());\n        \n        http.exceptionHandling(c -&gt;\n            c.authenticationEntryPoint(\n                new LoginUrlAuthenticationEntryPoint(&quot;/login&quot;)\n            )\n        );\n        \n        return http.build();\n    }\n    \n    @Order(2)\n    @Bean\n    public SecurityFilterChain appSecurityFilterChain(HttpSecurity http) throws Exception {\n        \n        http.formLogin(Customizer.withDefaults());\n        \n        http.authorizeHttpRequests(auth -&gt;\n            auth.anyRequest().authenticated()\n        );\n        \n        return http.build();\n    }\n    \n    @Bean\n    public AuthorizationServerSettings authorizationServerSettings() {\n        return AuthorizationServerSettings.builder().build();\n    }\n    \n    @Bean\n    public UserDetailsService userDetailsService() {\n        var user = User.withUsername(&quot;user&quot;)\n            .password(&quot;password&quot;)\n            .authorities(&quot;read&quot;, &quot;write&quot;)\n            .build();\n        \n        return new InMemoryUserDetailsManager(user);\n    }\n    \n    @Bean\n    @SuppressWarnings(&quot;deprecation&quot;)\n    public PasswordEncoder passwordEncoder() {\n        return NoOpPasswordEncoder.getInstance();\n    }\n    \n    @Bean\n    public RegisteredClientRepository registeredClientRepository() {\n        RegisteredClient mainClient = RegisteredClient.withId(&quot;1&quot;)\n            .clientId(&quot;test_web_client&quot;)\n            .clientSecret(&quot;secret&quot;)\n            .clientAuthenticationMethod(ClientAuthenticationMethod.CLIENT_SECRET_BASIC)\n            .scope(OidcScopes.OPENID)\n            .authorizationGrantType(AuthorizationGrantType.AUTHORIZATION_CODE)\n            .authorizationGrantType(AuthorizationGrantType.REFRESH_TOKEN)\n            .redirectUri(&quot;http://localhost:7070/login/oauth2/code/main-client&quot;)\n            .tokenSettings(\n                TokenSettings.builder()\n                    .accessTokenFormat(OAuth2TokenFormat.REFERENCE)\n                    .accessTokenTimeToLive(Duration.ofHours(24))\n                    .build()\n            )\n            .clientSettings(\n                ClientSettings.builder()\n                    .requireProofKey(false)\n                    .requireAuthorizationConsent(false)\n                    .build()\n            )\n            .build();\n        \n        return new InMemoryRegisteredClientRepository(mainClient);\n    }\n}\n</code></pre>\n<p>Using <code>localhost</code> as a redirect URI is against specification and therefore in order to work with the client on <code>localhost:7070</code> requires implementing a custom validator, which might look like this:</p>\n<pre><code>public class LocalhostCompliantValidator implements Consumer&lt;OAuth2AuthorizationCodeRequestAuthenticationContext&gt; {\n    public static void apply(List&lt;AuthenticationProvider&gt; providers) {\n        \n        for (var provider: providers) {\n            if (provider instanceof OAuth2AuthorizationCodeRequestAuthenticationProvider oauth2Provider) {\n                oauth2Provider.setAuthenticationValidator(new LocalhostCompliantValidator());\n            }\n        }\n    }\n    \n    @Override\n    public void accept(OAuth2AuthorizationCodeRequestAuthenticationContext context) {\n        \n        var token = getAuthenticationToken(context);\n        \n        boolean clientHasRequestedUri = getRegisteredUris(context)\n            .contains(token.getRedirectUri());\n        \n        if (!clientHasRequestedUri) {\n            throwAuthenticationException(token);\n        }\n    }\n    \n    private static Set&lt;String&gt; getRegisteredUris(OAuth2AuthorizationCodeRequestAuthenticationContext context) {\n        return context\n            .getRegisteredClient()\n            .getRedirectUris();\n    }\n    \n    private static OAuth2AuthorizationCodeRequestAuthenticationToken getAuthenticationToken(OAuth2AuthorizationCodeRequestAuthenticationContext context) {\n        \n        return context.getAuthentication();\n    }\n    \n    private static void throwAuthenticationException(OAuth2AuthorizationCodeRequestAuthenticationToken token) {\n        throw new OAuth2AuthorizationCodeRequestAuthenticationException(\n            new OAuth2Error(OAuth2ErrorCodes.INVALID_REQUEST), token\n        );\n    }\n}\n</code></pre>\n"},{"tags":["java","spring-boot","audio","inputstream","openai-api"],"owner":{"account_id":29067499,"reputation":3,"user_id":22266706,"display_name":"Subhash-23"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":133,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690122828,"creation_date":1690122767,"question_id":76748782,"body_markdown":"CONTROLLER CLASS\r\n~~~\r\n@RestController\r\n@RequestMapping(&quot;/bot&quot;)\r\n@CrossOrigin(origins = &quot;*&quot;, allowedHeaders = &quot;*&quot;)\r\npublic class SttController {\r\n\r\n\t@Autowired\r\n\tSttService service;\r\n\t\r\n\t@PostMapping(value = &quot;/transcribeAudio&quot;, consumes = MediaType.MULTIPART_FORM_DATA_VALUE)\r\n\tpublic Flux&lt;SttResponse&gt; transcription(@ModelAttribute SttRequest sttRequest){\r\n\t\treturn service.transcribeAudio(sttRequest);\r\n\t}\r\n}\r\n~~~\r\n\r\nSERVICE LAYER\r\n~~~\r\n@Service\r\npublic class SttService {\r\n\r\n\t@Value(&quot;${openai.api.model}&quot;)\r\n\tprivate String model;\r\n\t\r\n\t@Value(&quot;${openai.api.url}&quot;)\r\n\tprivate String apiURL;\r\n\t\r\n\tWebClient builder = WebClient.create();\r\n\t\r\n\tpublic Flux&lt;SttResponse&gt; transcribeAudio(SttRequest sttRequest){\r\n\t\tSttRequest audioRequest = SttRequest.builder()\r\n\t              .model(model)\r\n\t              .file(sttRequest.getFile())\r\n\t              .build();\r\n\t\treturn builder.post().uri(apiURL).bodyValue(audioRequest).retrieve().bodyToFlux(SttResponse.class);\r\n\t}\r\n}\r\n~~~\r\n\r\n~~~\r\n2023-07-23T19:55:28.513+05:30 ERROR 215000 --- [nio-9090-exec-3] o.a.c.c.C.[.[.[/].[dispatcherServlet]   Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.springframework.core.codec.CodecException: Type definition error: [simple type, class sun.nio.ch.ChannelInputStream]] with root cause\r\n\r\ncom.fasterxml.jackson.databind.exc.InvalidDefinitionException: No serializer found for class sun.nio.ch.ChannelInputStream and no properties discovered to create BeanSerializer (to avoid exception, disable SerializationFeature.FAIL_ON_EMPTY_BEANS) (through reference chain: com.stt.dto.SttRequest[&quot;file&quot;]-&gt;org.springframework.web.multipart.support.StandardMultipartHttpServletRequest$StandardMultipartFile[&quot;inputStream&quot;])\r\n\tat com.fasterxml.jackson.databind.exc.InvalidDefinitionException.from(InvalidDefinitionException.java:77) ~[jackson-databind-2.15.2.jar:2.15.2]\r\n\tat com.fasterxml.jackson.databind.SerializerProvider.reportBadDefinition(SerializerProvider.java:1308) ~[jackson-databind-2.15.2.jar:2.15.2]\r\n\tat com.fasterxml.jackson.databind.DatabindContext.reportBadDefinition(DatabindContext.java:414) ~[jackson-databind-2.15.2.jar:2.15.2]\r\n\tat com.fasterxml.jackson.databind.ser.impl.UnknownSerializer.failForEmpty(UnknownSerializer.java:53) ~[jackson-databind-2.15.2.jar:2.15.2]\r\n\tat com.fasterxml.jackson.databind.ser.impl.UnknownSerializer.serialize(UnknownSerializer.java:30) ~[jackson-databind-2.15.2.jar:2.15.2]\r\n\tat com.fasterxml.jackson.databind.ser.BeanPropertyWriter.serializeAsField(BeanPropertyWriter.java:732) ~[jackson-databind-2.15.2.jar:2.15.2]\r\n\tat com.fasterxml.jackson.databind.ser.std.BeanSerializerBase.serializeFields(BeanSerializerBase.java:772) ~[jackson-databind-2.15.2.jar:2.15.2]\r\n\tat com.fasterxml.jackson.databind.ser.BeanSerializer.serialize(BeanSerializer.java:178) ~[jackson-databind-2.15.2.jar:2.15.2]\r\n\tat com.fasterxml.jackson.databind.ser.BeanPropertyWriter.serializeAsField(BeanPropertyWriter.java:732) ~[jackson-databind-2.15.2.jar:2.15.2]\r\n\tat com.fasterxml.jackson.databind.ser.std.BeanSerializerBase.serializeFields(BeanSerializerBase.java:772) ~[jackson-databind-2.15.2.jar:2.15.2]\r\n\tat com.fasterxml.jackson.databind.ser.BeanSerializer.serialize(BeanSerializer.java:178) ~[jackson-databind-2.15.2.jar:2.15.2]\r\n\tat com.fasterxml.jackson.databind.ser.DefaultSerializerProvider._serialize(DefaultSerializerProvider.java:479) ~[jackson-databind-2.15.2.jar:2.15.2]\r\n\tat com.fasterxml.jackson.databind.ser.DefaultSerializerProvider.serializeValue(DefaultSerializerProvider.java:318) ~[jackson-databind-2.15.2.jar:2.15.2]\r\n\tat com.fasterxml.jackson.databind.ObjectWriter$Prefetch.serialize(ObjectWriter.java:1572) ~[jackson-databind-2.15.2.jar:2.15.2]\r\n\tat com.fasterxml.jackson.databind.ObjectWriter.writeValue(ObjectWriter.java:1061) ~[jackson-databind-2.15.2.jar:2.15.2]\r\n\tat org.springframework.http.codec.json.AbstractJackson2Encoder.encodeValue(AbstractJackson2Encoder.java:252) ~[spring-web-6.0.11.jar:6.0.11]\r\n\tat org.springframework.http.codec.json.AbstractJackson2Encoder.lambda$encode$0(AbstractJackson2Encoder.java:158) ~[spring-web-6.0.11.jar:6.0.11]\r\n\tat reactor.core.publisher.FluxMapFuseable$MapFuseableSubscriber.onNext(FluxMapFuseable.java:113) ~[reactor-core-3.5.8.jar:3.5.8]\r\n\tat reactor.core.publisher.Operators$ScalarSubscription.request(Operators.java:2545) ~[reactor-core-3.5.8.jar:3.5.8]\r\n\tat reactor.core.publisher.FluxMapFuseable$MapFuseableSubscriber.request(FluxMapFuseable.java:171) ~[reactor-core-3.5.8.jar:3.5.8]\r\n\tat reactor.core.publisher.MonoSingle$SingleSubscriber.doOnRequest(MonoSingle.java:103) ~[reactor-core-3.5.8.jar:3.5.8]\r\n\tat reactor.core.publisher.Operators$MonoInnerProducerBase.request(Operators.java:2878) ~[reactor-core-3.5.8.jar:3.5.8]\r\n\tat reactor.core.publisher.Operators$MultiSubscriptionSubscriber.set(Operators.java:2341) ~[reactor-core-3.5.8.jar:3.5.8]\r\n\tat reactor.core.publisher.Operators$MultiSubscriptionSubscriber.onSubscribe(Operators.java:2215) ~[reactor-core-3.5.8.jar:3.5.8]\r\n\tat reactor.core.publisher.MonoSingle$SingleSubscriber.onSubscribe(MonoSingle.java:115) ~[reactor-core-3.5.8.jar:3.5.8]\r\n\tat reactor.core.publisher.FluxMapFuseable$MapFuseableSubscriber.onSubscribe(FluxMapFuseable.java:96) ~[reactor-core-3.5.8.jar:3.5.8]\r\n\tat reactor.core.publisher.MonoJust.subscribe(MonoJust.java:55) ~[reactor-core-3.5.8.jar:3.5.8]\r\n\tat reactor.core.publisher.FluxFromMonoOperator.subscribe(FluxFromMonoOperator.java:83) ~[reactor-core-3.5.8.jar:3.5.8]\r\n\tat reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57) ~[reactor-core-3.5.8.jar:3.5.8]\r\n\tat reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:64) ~[reactor-core-3.5.8.jar:3.5.8]\r\n\tat reactor.core.publisher.MonoDefer.subscribe(MonoDefer.java:53) ~[reactor-core-3.5.8.jar:3.5.8]\r\n\tat reactor.netty.http.client.HttpClientConnect$HttpIOHandlerObserver.onStateChange(HttpClientConnect.java:445) ~[reactor-netty-http-1.1.9.jar:1.1.9]\r\n\tat reactor.netty.ReactorNetty$CompositeConnectionObserver.onStateChange(ReactorNetty.java:710) ~[reactor-netty-core-1.1.9.jar:1.1.9]\r\n\tat reactor.netty.resources.DefaultPooledConnectionProvider$DisposableAcquire.onStateChange(DefaultPooledConnectionProvider.java:195) ~[reactor-netty-core-1.1.9.jar:1.1.9]\r\n\tat reactor.netty.resources.DefaultPooledConnectionProvider$PooledConnection.onStateChange(DefaultPooledConnectionProvider.java:456) ~[reactor-netty-core-1.1.9.jar:1.1.9]\r\n\tat reactor.netty.channel.ChannelOperationsHandler.channelActive(ChannelOperationsHandler.java:62) ~[reactor-netty-core-1.1.9.jar:1.1.9]\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelActive(AbstractChannelHandlerContext.java:262) ~[netty-transport-4.1.94.Final.jar:4.1.94.Final]\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelActive(AbstractChannelHandlerContext.java:238) ~[netty-transport-4.1.94.Final.jar:4.1.94.Final]\r\n\tat io.netty.channel.AbstractChannelHandlerContext.fireChannelActive(AbstractChannelHandlerContext.java:231) ~[netty-transport-4.1.94.Final.jar:4.1.94.Final]\r\n\tat io.netty.channel.CombinedChannelDuplexHandler$DelegatingChannelHandlerContext.fireChannelActive(CombinedChannelDuplexHandler.java:412) ~[netty-transport-4.1.94.Final.jar:4.1.94.Final]\r\n\tat io.netty.channel.ChannelInboundHandlerAdapter.channelActive(ChannelInboundHandlerAdapter.java:69) ~[netty-transport-4.1.94.Final.jar:4.1.94.Final]\r\n\tat io.netty.channel.CombinedChannelDuplexHandler.channelActive(CombinedChannelDuplexHandler.java:211) ~[netty-transport-4.1.94.Final.jar:4.1.94.Final]\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelActive(AbstractChannelHandlerContext.java:260) ~[netty-transport-4.1.94.Final.jar:4.1.94.Final]\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelActive(AbstractChannelHandlerContext.java:238) ~[netty-transport-4.1.94.Final.jar:4.1.94.Final]\r\n\tat io.netty.channel.AbstractChannelHandlerContext.fireChannelActive(AbstractChannelHandlerContext.java:231) ~[netty-transport-4.1.94.Final.jar:4.1.94.Final]\r\n\tat reactor.netty.tcp.SslProvider$SslReadHandler.userEventTriggered(SslProvider.java:856) ~[reactor-netty-core-1.1.9.jar:1.1.9]\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeUserEventTriggered(AbstractChannelHandlerContext.java:400) ~[netty-transport-4.1.94.Final.jar:4.1.94.Final]\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeUserEventTriggered(AbstractChannelHandlerContext.java:376) ~[netty-transport-4.1.94.Final.jar:4.1.94.Final]\r\n\tat io.netty.channel.AbstractChannelHandlerContext.fireUserEventTriggered(AbstractChannelHandlerContext.java:368) ~[netty-transport-4.1.94.Final.jar:4.1.94.Final]\r\n\tat io.netty.handler.ssl.SslHandler.setHandshakeSuccess(SslHandler.java:1848) ~[netty-handler-4.1.94.Final.jar:4.1.94.Final]\r\n\tat io.netty.handler.ssl.SslHandler.wrapNonAppData(SslHandler.java:952) ~[netty-handler-4.1.94.Final.jar:4.1.94.Final]\r\n\tat io.netty.handler.ssl.SslHandler.unwrap(SslHandler.java:1419) ~[netty-handler-4.1.94.Final.jar:4.1.94.Final]\r\n\tat io.netty.handler.ssl.SslHandler.decodeJdkCompatible(SslHandler.java:1246) ~[netty-handler-4.1.94.Final.jar:4.1.94.Final]\r\n\tat io.netty.handler.ssl.SslHandler.decode(SslHandler.java:1295) ~[netty-handler-4.1.94.Final.jar:4.1.94.Final]\r\n\tat io.netty.handler.codec.ByteToMessageDecoder.decodeRemovalReentryProtection(ByteToMessageDecoder.java:529) ~[netty-codec-4.1.94.Final.jar:4.1.94.Final]\r\n\tat io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:468) ~[netty-codec-4.1.94.Final.jar:4.1.94.Final]\r\n\tat io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:290) ~[netty-codec-4.1.94.Final.jar:4.1.94.Final]\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444) ~[netty-transport-4.1.94.Final.jar:4.1.94.Final]\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420) ~[netty-transport-4.1.94.Final.jar:4.1.94.Final]\r\n\tat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412) ~[netty-transport-4.1.94.Final.jar:4.1.94.Final]\r\n\tat io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410) ~[netty-transport-4.1.94.Final.jar:4.1.94.Final]\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:440) ~[netty-transport-4.1.94.Final.jar:4.1.94.Final]\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420) ~[netty-transport-4.1.94.Final.jar:4.1.94.Final]\r\n\tat io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919) ~[netty-transport-4.1.94.Final.jar:4.1.94.Final]\r\n\tat io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166) ~[netty-transport-4.1.94.Final.jar:4.1.94.Final]\r\n\tat io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:788) ~[netty-transport-4.1.94.Final.jar:4.1.94.Final]\r\n\tat io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724) ~[netty-transport-4.1.94.Final.jar:4.1.94.Final]\r\n\tat io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650) ~[netty-transport-4.1.94.Final.jar:4.1.94.Final]\r\n\tat io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562) ~[netty-transport-4.1.94.Final.jar:4.1.94.Final]\r\n\tat io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997) ~[netty-common-4.1.94.Final.jar:4.1.94.Final]\r\n\tat io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.94.Final.jar:4.1.94.Final]\r\n\tat io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.94.Final.jar:4.1.94.Final]\r\n\tat java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\r\n~~~\r\n\r\n\r\nI am trying to use openAI&#39;s whisper-1 API to transcribe audio to text using springboot. I am using webflux to hit the whisper-1 API&#39;s endpoint, which I specified in the application properties.  But I am getting this error: \r\n\r\ncom.fasterxml.jackson.databind.exc.InvalidDefinitionException: No serializer found for class sun.nio.ch.ChannelInputStream and no properties discovered to create BeanSerializer (to avoid exception, disable SerializationFeature.FAIL_ON_EMPTY_BEANS) (through reference chain: com.stt.dto.SttRequest[&quot;file&quot;]-&gt;org.springframework.web.multipart.support.StandardMultipartHttpServletRequest$StandardMultipartFile[&quot;inputStream&quot;])\r\n","title":"Error while using Whisper-1 API for audio transcription in SpringBoot webapplication","body":"<p>CONTROLLER CLASS</p>\n<pre><code>@RestController\n@RequestMapping(&quot;/bot&quot;)\n@CrossOrigin(origins = &quot;*&quot;, allowedHeaders = &quot;*&quot;)\npublic class SttController {\n\n    @Autowired\n    SttService service;\n    \n    @PostMapping(value = &quot;/transcribeAudio&quot;, consumes = MediaType.MULTIPART_FORM_DATA_VALUE)\n    public Flux&lt;SttResponse&gt; transcription(@ModelAttribute SttRequest sttRequest){\n        return service.transcribeAudio(sttRequest);\n    }\n}\n</code></pre>\n<p>SERVICE LAYER</p>\n<pre><code>@Service\npublic class SttService {\n\n    @Value(&quot;${openai.api.model}&quot;)\n    private String model;\n    \n    @Value(&quot;${openai.api.url}&quot;)\n    private String apiURL;\n    \n    WebClient builder = WebClient.create();\n    \n    public Flux&lt;SttResponse&gt; transcribeAudio(SttRequest sttRequest){\n        SttRequest audioRequest = SttRequest.builder()\n                  .model(model)\n                  .file(sttRequest.getFile())\n                  .build();\n        return builder.post().uri(apiURL).bodyValue(audioRequest).retrieve().bodyToFlux(SttResponse.class);\n    }\n}\n</code></pre>\n<pre><code>2023-07-23T19:55:28.513+05:30 ERROR 215000 --- [nio-9090-exec-3] o.a.c.c.C.[.[.[/].[dispatcherServlet]   Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.springframework.core.codec.CodecException: Type definition error: [simple type, class sun.nio.ch.ChannelInputStream]] with root cause\n\ncom.fasterxml.jackson.databind.exc.InvalidDefinitionException: No serializer found for class sun.nio.ch.ChannelInputStream and no properties discovered to create BeanSerializer (to avoid exception, disable SerializationFeature.FAIL_ON_EMPTY_BEANS) (through reference chain: com.stt.dto.SttRequest[&quot;file&quot;]-&gt;org.springframework.web.multipart.support.StandardMultipartHttpServletRequest$StandardMultipartFile[&quot;inputStream&quot;])\n    at com.fasterxml.jackson.databind.exc.InvalidDefinitionException.from(InvalidDefinitionException.java:77) ~[jackson-databind-2.15.2.jar:2.15.2]\n    at com.fasterxml.jackson.databind.SerializerProvider.reportBadDefinition(SerializerProvider.java:1308) ~[jackson-databind-2.15.2.jar:2.15.2]\n    at com.fasterxml.jackson.databind.DatabindContext.reportBadDefinition(DatabindContext.java:414) ~[jackson-databind-2.15.2.jar:2.15.2]\n    at com.fasterxml.jackson.databind.ser.impl.UnknownSerializer.failForEmpty(UnknownSerializer.java:53) ~[jackson-databind-2.15.2.jar:2.15.2]\n    at com.fasterxml.jackson.databind.ser.impl.UnknownSerializer.serialize(UnknownSerializer.java:30) ~[jackson-databind-2.15.2.jar:2.15.2]\n    at com.fasterxml.jackson.databind.ser.BeanPropertyWriter.serializeAsField(BeanPropertyWriter.java:732) ~[jackson-databind-2.15.2.jar:2.15.2]\n    at com.fasterxml.jackson.databind.ser.std.BeanSerializerBase.serializeFields(BeanSerializerBase.java:772) ~[jackson-databind-2.15.2.jar:2.15.2]\n    at com.fasterxml.jackson.databind.ser.BeanSerializer.serialize(BeanSerializer.java:178) ~[jackson-databind-2.15.2.jar:2.15.2]\n    at com.fasterxml.jackson.databind.ser.BeanPropertyWriter.serializeAsField(BeanPropertyWriter.java:732) ~[jackson-databind-2.15.2.jar:2.15.2]\n    at com.fasterxml.jackson.databind.ser.std.BeanSerializerBase.serializeFields(BeanSerializerBase.java:772) ~[jackson-databind-2.15.2.jar:2.15.2]\n    at com.fasterxml.jackson.databind.ser.BeanSerializer.serialize(BeanSerializer.java:178) ~[jackson-databind-2.15.2.jar:2.15.2]\n    at com.fasterxml.jackson.databind.ser.DefaultSerializerProvider._serialize(DefaultSerializerProvider.java:479) ~[jackson-databind-2.15.2.jar:2.15.2]\n    at com.fasterxml.jackson.databind.ser.DefaultSerializerProvider.serializeValue(DefaultSerializerProvider.java:318) ~[jackson-databind-2.15.2.jar:2.15.2]\n    at com.fasterxml.jackson.databind.ObjectWriter$Prefetch.serialize(ObjectWriter.java:1572) ~[jackson-databind-2.15.2.jar:2.15.2]\n    at com.fasterxml.jackson.databind.ObjectWriter.writeValue(ObjectWriter.java:1061) ~[jackson-databind-2.15.2.jar:2.15.2]\n    at org.springframework.http.codec.json.AbstractJackson2Encoder.encodeValue(AbstractJackson2Encoder.java:252) ~[spring-web-6.0.11.jar:6.0.11]\n    at org.springframework.http.codec.json.AbstractJackson2Encoder.lambda$encode$0(AbstractJackson2Encoder.java:158) ~[spring-web-6.0.11.jar:6.0.11]\n    at reactor.core.publisher.FluxMapFuseable$MapFuseableSubscriber.onNext(FluxMapFuseable.java:113) ~[reactor-core-3.5.8.jar:3.5.8]\n    at reactor.core.publisher.Operators$ScalarSubscription.request(Operators.java:2545) ~[reactor-core-3.5.8.jar:3.5.8]\n    at reactor.core.publisher.FluxMapFuseable$MapFuseableSubscriber.request(FluxMapFuseable.java:171) ~[reactor-core-3.5.8.jar:3.5.8]\n    at reactor.core.publisher.MonoSingle$SingleSubscriber.doOnRequest(MonoSingle.java:103) ~[reactor-core-3.5.8.jar:3.5.8]\n    at reactor.core.publisher.Operators$MonoInnerProducerBase.request(Operators.java:2878) ~[reactor-core-3.5.8.jar:3.5.8]\n    at reactor.core.publisher.Operators$MultiSubscriptionSubscriber.set(Operators.java:2341) ~[reactor-core-3.5.8.jar:3.5.8]\n    at reactor.core.publisher.Operators$MultiSubscriptionSubscriber.onSubscribe(Operators.java:2215) ~[reactor-core-3.5.8.jar:3.5.8]\n    at reactor.core.publisher.MonoSingle$SingleSubscriber.onSubscribe(MonoSingle.java:115) ~[reactor-core-3.5.8.jar:3.5.8]\n    at reactor.core.publisher.FluxMapFuseable$MapFuseableSubscriber.onSubscribe(FluxMapFuseable.java:96) ~[reactor-core-3.5.8.jar:3.5.8]\n    at reactor.core.publisher.MonoJust.subscribe(MonoJust.java:55) ~[reactor-core-3.5.8.jar:3.5.8]\n    at reactor.core.publisher.FluxFromMonoOperator.subscribe(FluxFromMonoOperator.java:83) ~[reactor-core-3.5.8.jar:3.5.8]\n    at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:57) ~[reactor-core-3.5.8.jar:3.5.8]\n    at reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:64) ~[reactor-core-3.5.8.jar:3.5.8]\n    at reactor.core.publisher.MonoDefer.subscribe(MonoDefer.java:53) ~[reactor-core-3.5.8.jar:3.5.8]\n    at reactor.netty.http.client.HttpClientConnect$HttpIOHandlerObserver.onStateChange(HttpClientConnect.java:445) ~[reactor-netty-http-1.1.9.jar:1.1.9]\n    at reactor.netty.ReactorNetty$CompositeConnectionObserver.onStateChange(ReactorNetty.java:710) ~[reactor-netty-core-1.1.9.jar:1.1.9]\n    at reactor.netty.resources.DefaultPooledConnectionProvider$DisposableAcquire.onStateChange(DefaultPooledConnectionProvider.java:195) ~[reactor-netty-core-1.1.9.jar:1.1.9]\n    at reactor.netty.resources.DefaultPooledConnectionProvider$PooledConnection.onStateChange(DefaultPooledConnectionProvider.java:456) ~[reactor-netty-core-1.1.9.jar:1.1.9]\n    at reactor.netty.channel.ChannelOperationsHandler.channelActive(ChannelOperationsHandler.java:62) ~[reactor-netty-core-1.1.9.jar:1.1.9]\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelActive(AbstractChannelHandlerContext.java:262) ~[netty-transport-4.1.94.Final.jar:4.1.94.Final]\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelActive(AbstractChannelHandlerContext.java:238) ~[netty-transport-4.1.94.Final.jar:4.1.94.Final]\n    at io.netty.channel.AbstractChannelHandlerContext.fireChannelActive(AbstractChannelHandlerContext.java:231) ~[netty-transport-4.1.94.Final.jar:4.1.94.Final]\n    at io.netty.channel.CombinedChannelDuplexHandler$DelegatingChannelHandlerContext.fireChannelActive(CombinedChannelDuplexHandler.java:412) ~[netty-transport-4.1.94.Final.jar:4.1.94.Final]\n    at io.netty.channel.ChannelInboundHandlerAdapter.channelActive(ChannelInboundHandlerAdapter.java:69) ~[netty-transport-4.1.94.Final.jar:4.1.94.Final]\n    at io.netty.channel.CombinedChannelDuplexHandler.channelActive(CombinedChannelDuplexHandler.java:211) ~[netty-transport-4.1.94.Final.jar:4.1.94.Final]\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelActive(AbstractChannelHandlerContext.java:260) ~[netty-transport-4.1.94.Final.jar:4.1.94.Final]\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelActive(AbstractChannelHandlerContext.java:238) ~[netty-transport-4.1.94.Final.jar:4.1.94.Final]\n    at io.netty.channel.AbstractChannelHandlerContext.fireChannelActive(AbstractChannelHandlerContext.java:231) ~[netty-transport-4.1.94.Final.jar:4.1.94.Final]\n    at reactor.netty.tcp.SslProvider$SslReadHandler.userEventTriggered(SslProvider.java:856) ~[reactor-netty-core-1.1.9.jar:1.1.9]\n    at io.netty.channel.AbstractChannelHandlerContext.invokeUserEventTriggered(AbstractChannelHandlerContext.java:400) ~[netty-transport-4.1.94.Final.jar:4.1.94.Final]\n    at io.netty.channel.AbstractChannelHandlerContext.invokeUserEventTriggered(AbstractChannelHandlerContext.java:376) ~[netty-transport-4.1.94.Final.jar:4.1.94.Final]\n    at io.netty.channel.AbstractChannelHandlerContext.fireUserEventTriggered(AbstractChannelHandlerContext.java:368) ~[netty-transport-4.1.94.Final.jar:4.1.94.Final]\n    at io.netty.handler.ssl.SslHandler.setHandshakeSuccess(SslHandler.java:1848) ~[netty-handler-4.1.94.Final.jar:4.1.94.Final]\n    at io.netty.handler.ssl.SslHandler.wrapNonAppData(SslHandler.java:952) ~[netty-handler-4.1.94.Final.jar:4.1.94.Final]\n    at io.netty.handler.ssl.SslHandler.unwrap(SslHandler.java:1419) ~[netty-handler-4.1.94.Final.jar:4.1.94.Final]\n    at io.netty.handler.ssl.SslHandler.decodeJdkCompatible(SslHandler.java:1246) ~[netty-handler-4.1.94.Final.jar:4.1.94.Final]\n    at io.netty.handler.ssl.SslHandler.decode(SslHandler.java:1295) ~[netty-handler-4.1.94.Final.jar:4.1.94.Final]\n    at io.netty.handler.codec.ByteToMessageDecoder.decodeRemovalReentryProtection(ByteToMessageDecoder.java:529) ~[netty-codec-4.1.94.Final.jar:4.1.94.Final]\n    at io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:468) ~[netty-codec-4.1.94.Final.jar:4.1.94.Final]\n    at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:290) ~[netty-codec-4.1.94.Final.jar:4.1.94.Final]\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444) ~[netty-transport-4.1.94.Final.jar:4.1.94.Final]\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420) ~[netty-transport-4.1.94.Final.jar:4.1.94.Final]\n    at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412) ~[netty-transport-4.1.94.Final.jar:4.1.94.Final]\n    at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410) ~[netty-transport-4.1.94.Final.jar:4.1.94.Final]\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:440) ~[netty-transport-4.1.94.Final.jar:4.1.94.Final]\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420) ~[netty-transport-4.1.94.Final.jar:4.1.94.Final]\n    at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919) ~[netty-transport-4.1.94.Final.jar:4.1.94.Final]\n    at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166) ~[netty-transport-4.1.94.Final.jar:4.1.94.Final]\n    at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:788) ~[netty-transport-4.1.94.Final.jar:4.1.94.Final]\n    at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724) ~[netty-transport-4.1.94.Final.jar:4.1.94.Final]\n    at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650) ~[netty-transport-4.1.94.Final.jar:4.1.94.Final]\n    at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562) ~[netty-transport-4.1.94.Final.jar:4.1.94.Final]\n    at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997) ~[netty-common-4.1.94.Final.jar:4.1.94.Final]\n    at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.94.Final.jar:4.1.94.Final]\n    at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.94.Final.jar:4.1.94.Final]\n    at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\n</code></pre>\n<p>I am trying to use openAI's whisper-1 API to transcribe audio to text using springboot. I am using webflux to hit the whisper-1 API's endpoint, which I specified in the application properties.  But I am getting this error:</p>\n<p>com.fasterxml.jackson.databind.exc.InvalidDefinitionException: No serializer found for class sun.nio.ch.ChannelInputStream and no properties discovered to create BeanSerializer (to avoid exception, disable SerializationFeature.FAIL_ON_EMPTY_BEANS) (through reference chain: com.stt.dto.SttRequest[&quot;file&quot;]-&gt;org.springframework.web.multipart.support.StandardMultipartHttpServletRequest$StandardMultipartFile[&quot;inputStream&quot;])</p>\n"},{"tags":["java","libgdx"],"comments":[{"owner":{"account_id":21733129,"reputation":95,"user_id":16041552,"display_name":"Fullaccess "},"score":0,"creation_date":1691629558,"post_id":76748683,"comment_id":135518670,"body_markdown":"I had a [similar problem](https://stackoverflow.com/questions/76863861/what-are-the-use-cases-for-the-tiledmap-class), I managed to &quot;fix&quot; it by changing the layer&#39;s offset each frame.","body":"I had a <a href=\"https://stackoverflow.com/questions/76863861/what-are-the-use-cases-for-the-tiledmap-class\">similar problem</a>, I managed to &quot;fix&quot; it by changing the layer&#39;s offset each frame."}],"owner":{"account_id":7498844,"reputation":11,"user_id":5698035,"display_name":"Sagnik Dutta"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1690122131,"creation_date":1690121612,"question_id":76748683,"body_markdown":"I have the following code for rendering a TiledMap and moving around a Texture representing the player on top of it and the camera is setup to follow the texture around. \r\n\r\nHowever, when I try to move the player which in turn moves the camera, it seems like the tilemap moves as well resulting in the player not moving at all. Here&#39;s a gif showing the problem: [Video](https://i.imgur.com/RJdimlZ.gif) \r\n\r\nI am not sure what I am doing wrong but I would appreciate if anyone could help me out.\r\n\r\n```\r\npackage com.worldgen.game;\r\n\r\nimport com.badlogic.gdx.ApplicationAdapter;\r\nimport com.badlogic.gdx.Gdx;\r\nimport com.badlogic.gdx.Input;\r\nimport com.badlogic.gdx.graphics.OrthographicCamera;\r\nimport com.badlogic.gdx.graphics.Texture;\r\nimport com.badlogic.gdx.graphics.g2d.SpriteBatch;\r\nimport com.badlogic.gdx.maps.tiled.TiledMapRenderer;\r\nimport com.badlogic.gdx.maps.tiled.renderers.OrthogonalTiledMapRenderer;\r\nimport com.badlogic.gdx.math.Rectangle;\r\nimport com.badlogic.gdx.utils.ScreenUtils;\r\nimport com.worldgen.map.WorldMap;\r\n\r\npublic class WorldGenGame extends ApplicationAdapter {\r\n\tprivate static final int MAP_WIDTH = 512;\r\n\tprivate static final int MAP_HEIGHT = 512;\r\n\tprivate static final int TILE_SIZE = 16;\r\n\tpublic final static float VP_WIDTH = 32;\r\n\tpublic final static float VP_HEIGHT = 18;\r\n\r\n\tprivate SpriteBatch batch;\r\n\tprivate OrthographicCamera camera;\r\n\r\n\tWorldMap worldMap;\r\n\tprivate TiledMapRenderer tiledMapRenderer;\r\n\r\n\tprivate Texture playerTexture;\r\n\tprivate Rectangle player;\r\n\t\r\n\t@Override\r\n\tpublic void create () {\r\n\t\tbatch = new SpriteBatch();\r\n\t\tplayerTexture = new Texture(Gdx.files.internal(&quot;badlogic.jpg&quot;));\r\n\t\tplayer = new Rectangle(0, 0, 1, 1);\r\n\r\n\t\tcamera = new OrthographicCamera();\r\n\t\tcamera.setToOrtho(false, VP_WIDTH, VP_HEIGHT);\r\n\r\n\t\tworldMap = new WorldMap(MAP_WIDTH, MAP_HEIGHT, TILE_SIZE, TILE_SIZE);\r\n\t\ttiledMapRenderer = new OrthogonalTiledMapRenderer(worldMap.getMap(), 1f/TILE_SIZE);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void render () {\r\n\t\tScreenUtils.clear(0, 0, 0, 1, true);\r\n\t\t// Update\r\n\t\tfloat deltaTime = Gdx.graphics.getDeltaTime();\r\n\t\tupdateCamera(deltaTime);\r\n\t\tupdatePlayer(deltaTime);\r\n\r\n\t\t//Draw map\r\n\t\ttiledMapRenderer.setView(camera);\r\n\t\ttiledMapRenderer.render();\r\n\r\n\t\t//Draw player\r\n\t\tbatch.setProjectionMatrix(camera.combined);\r\n\t\tbatch.begin();\r\n\t\tbatch.draw(playerTexture, player.x, player.y, player.width, player.height);\r\n\t\tbatch.end();\r\n\t}\r\n\t\r\n\t@Override\r\n\tpublic void dispose () {\r\n\t\tbatch.dispose();\r\n\t\tworldMap.dispose();\r\n\t\tplayerTexture.dispose();\r\n\t}\r\n\r\n\tprivate void updatePlayer(float deltaTime) {\r\n\t\tfloat movementAmount = 4 * deltaTime;\r\n\t\tif (Gdx.input.isKeyPressed(Input.Keys.A)) {\r\n\t\t\tplayer.x -= movementAmount;\r\n\t\t}\r\n\t\tif (Gdx.input.isKeyPressed(Input.Keys.D)) {\r\n\t\t\tplayer.x += movementAmount;\r\n\t\t}\r\n\t\tif (Gdx.input.isKeyPressed(Input.Keys.W)) {\r\n\t\t\tplayer.y += movementAmount;\r\n\t\t}\r\n\t\tif (Gdx.input.isKeyPressed(Input.Keys.S)) {\r\n\t\t\tplayer.y -= movementAmount;\r\n\t\t}\r\n\t}\r\n\r\n\tprivate void updateCamera(float deltaTime) {\r\n\t\tcamera.position.set(player.getX(), player.getY(), 0);\r\n\t\tcamera.update();\r\n\t}\r\n}\r\n```\r\n\r\n\r\nI suspect the camera position update is where the problem lies because if I comment out the camera update code, I can move around the player on the tilemap. Result: [Video](https://i.imgur.com/ZkEQcUo.gif)\r\n\r\n```\r\n\tprivate void updateCamera(float deltaTime) {\r\n//\t\tcamera.position.set(player.getX(), player.getY(), 0);\r\n\t\tcamera.update();\r\n\t}\r\n```","title":"How do I move a camera around a tiledmap in Libgdx?","body":"<p>I have the following code for rendering a TiledMap and moving around a Texture representing the player on top of it and the camera is setup to follow the texture around.</p>\n<p>However, when I try to move the player which in turn moves the camera, it seems like the tilemap moves as well resulting in the player not moving at all. Here's a gif showing the problem: <a href=\"https://i.imgur.com/RJdimlZ.gif\" rel=\"nofollow noreferrer\">Video</a></p>\n<p>I am not sure what I am doing wrong but I would appreciate if anyone could help me out.</p>\n<pre><code>package com.worldgen.game;\n\nimport com.badlogic.gdx.ApplicationAdapter;\nimport com.badlogic.gdx.Gdx;\nimport com.badlogic.gdx.Input;\nimport com.badlogic.gdx.graphics.OrthographicCamera;\nimport com.badlogic.gdx.graphics.Texture;\nimport com.badlogic.gdx.graphics.g2d.SpriteBatch;\nimport com.badlogic.gdx.maps.tiled.TiledMapRenderer;\nimport com.badlogic.gdx.maps.tiled.renderers.OrthogonalTiledMapRenderer;\nimport com.badlogic.gdx.math.Rectangle;\nimport com.badlogic.gdx.utils.ScreenUtils;\nimport com.worldgen.map.WorldMap;\n\npublic class WorldGenGame extends ApplicationAdapter {\n    private static final int MAP_WIDTH = 512;\n    private static final int MAP_HEIGHT = 512;\n    private static final int TILE_SIZE = 16;\n    public final static float VP_WIDTH = 32;\n    public final static float VP_HEIGHT = 18;\n\n    private SpriteBatch batch;\n    private OrthographicCamera camera;\n\n    WorldMap worldMap;\n    private TiledMapRenderer tiledMapRenderer;\n\n    private Texture playerTexture;\n    private Rectangle player;\n    \n    @Override\n    public void create () {\n        batch = new SpriteBatch();\n        playerTexture = new Texture(Gdx.files.internal(&quot;badlogic.jpg&quot;));\n        player = new Rectangle(0, 0, 1, 1);\n\n        camera = new OrthographicCamera();\n        camera.setToOrtho(false, VP_WIDTH, VP_HEIGHT);\n\n        worldMap = new WorldMap(MAP_WIDTH, MAP_HEIGHT, TILE_SIZE, TILE_SIZE);\n        tiledMapRenderer = new OrthogonalTiledMapRenderer(worldMap.getMap(), 1f/TILE_SIZE);\n    }\n\n    @Override\n    public void render () {\n        ScreenUtils.clear(0, 0, 0, 1, true);\n        // Update\n        float deltaTime = Gdx.graphics.getDeltaTime();\n        updateCamera(deltaTime);\n        updatePlayer(deltaTime);\n\n        //Draw map\n        tiledMapRenderer.setView(camera);\n        tiledMapRenderer.render();\n\n        //Draw player\n        batch.setProjectionMatrix(camera.combined);\n        batch.begin();\n        batch.draw(playerTexture, player.x, player.y, player.width, player.height);\n        batch.end();\n    }\n    \n    @Override\n    public void dispose () {\n        batch.dispose();\n        worldMap.dispose();\n        playerTexture.dispose();\n    }\n\n    private void updatePlayer(float deltaTime) {\n        float movementAmount = 4 * deltaTime;\n        if (Gdx.input.isKeyPressed(Input.Keys.A)) {\n            player.x -= movementAmount;\n        }\n        if (Gdx.input.isKeyPressed(Input.Keys.D)) {\n            player.x += movementAmount;\n        }\n        if (Gdx.input.isKeyPressed(Input.Keys.W)) {\n            player.y += movementAmount;\n        }\n        if (Gdx.input.isKeyPressed(Input.Keys.S)) {\n            player.y -= movementAmount;\n        }\n    }\n\n    private void updateCamera(float deltaTime) {\n        camera.position.set(player.getX(), player.getY(), 0);\n        camera.update();\n    }\n}\n</code></pre>\n<p>I suspect the camera position update is where the problem lies because if I comment out the camera update code, I can move around the player on the tilemap. Result: <a href=\"https://i.imgur.com/ZkEQcUo.gif\" rel=\"nofollow noreferrer\">Video</a></p>\n<pre><code>    private void updateCamera(float deltaTime) {\n//      camera.position.set(player.getX(), player.getY(), 0);\n        camera.update();\n    }\n</code></pre>\n"},{"tags":["java","recursion"],"comments":[{"owner":{"account_id":5632560,"reputation":1847,"user_id":4459069,"accept_rate":100,"display_name":"sleepToken"},"score":0,"creation_date":1576508586,"post_id":59359076,"comment_id":104912607,"body_markdown":"Did you try commenting out this line and testing it yourself, and checking the result?","body":"Did you try commenting out this line and testing it yourself, and checking the result?"},{"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1690071488,"post_id":59359076,"comment_id":135302069,"body_markdown":"See [Backtracking](https://en.wikipedia.org/wiki/Backtracking).","body":"See <a href=\"https://en.wikipedia.org/wiki/Backtracking\" rel=\"nofollow noreferrer\">Backtracking</a>."}],"answers":[{"tags":[],"owner":{"account_id":1234084,"reputation":6052,"user_id":1198067,"accept_rate":100,"display_name":"Andrea"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1576509196,"creation_date":1576508895,"answer_id":59359308,"question_id":59359076,"body_markdown":"It is backtracking logic. See those instruction this way (comments added):\r\n\r\n    sb.append(board[i][j]); // Mark\r\n    if(i == rows-1 &amp;&amp; j == cols-1){\r\n        out.add(sb.toString());\r\n        \r\n       /*\r\n       Here, you reached the bottom-right element of the matrix. \r\n       You can no longer go down or right, so you perform a backtracking \r\n       by deleting the last element read. \r\n       */\r\n        sb.deleteCharAt(sb.length()-1);\r\n        return;\r\n    }\r\n    search(i+1,j,board,sb,out); // Search Down\r\n    search(i,j+1,board,sb,out); // Search Right\r\n\r\n    /*\r\n    Here, you exhausted the elements on bottom and right \r\n    (because you just returned from the two search() calls). Perform a backtracking by\r\n    removing the last element (which is a dead end) before returning to the calling \r\n    recursion step:\r\n    */\r\n    sb.deleteCharAt(sb.length()-1); // Un-Mark","title":"It is backtracking logic. See those instruction this way (comments added):","body":"<p>It is backtracking logic. See those instruction this way (comments added):</p>\n\n<pre><code>sb.append(board[i][j]); // Mark\nif(i == rows-1 &amp;&amp; j == cols-1){\n    out.add(sb.toString());\n\n   /*\n   Here, you reached the bottom-right element of the matrix. \n   You can no longer go down or right, so you perform a backtracking \n   by deleting the last element read. \n   */\n    sb.deleteCharAt(sb.length()-1);\n    return;\n}\nsearch(i+1,j,board,sb,out); // Search Down\nsearch(i,j+1,board,sb,out); // Search Right\n\n/*\nHere, you exhausted the elements on bottom and right \n(because you just returned from the two search() calls). Perform a backtracking by\nremoving the last element (which is a dead end) before returning to the calling \nrecursion step:\n*/\nsb.deleteCharAt(sb.length()-1); // Un-Mark\n</code></pre>\n"}],"owner":{"account_id":16654557,"reputation":1,"user_id":12383032,"display_name":"freudianrudin"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":98,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1690121903,"creation_date":1576508011,"question_id":59359076,"body_markdown":"It is backtracking logic. See those instruction this way (comments added):It is backtracking logic. See those instruction this way (comments added):It is backtracking logic. See those instruction this way (comments added):It is backtracking logic. See those instruction this way (comments added):It is backtracking logic. See those instruction this way (comments added):","title":"It is backtracking logic. See those instruction this way (comments added):","body":"<p>It is backtracking logic. See those instruction this way (comments added):It is backtracking logic. See those instruction this way (comments added):It is backtracking logic. See those instruction this way (comments added):It is backtracking logic. See those instruction this way (comments added):It is backtracking logic. See those instruction this way (comments added):</p>\n"},{"tags":["java","android","tensorflow","tensorflow-lite","image-classification"],"owner":{"account_id":26890258,"reputation":1,"user_id":20469144,"display_name":"Promatheuz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690121883,"creation_date":1680070119,"question_id":75873685,"body_markdown":"This is my image classifier code in java. When I upload anything to the app, every time I get result Tuberkuloz because every time MaxPos value is 0.     \r\n\r\n```java\r\npublic void classifyImage(Bitmap image) {\r\n    int imageSize = 180;\r\n    try {\r\n        Model model = Model.newInstance(getApplicationContext());\r\n\r\n        TensorBuffer inputFeature0 = createFixedSize(new int[]{1, 180, 180, 3}, DataType.FLOAT32);\r\n\r\n        ByteBuffer byteBuffer;\r\n        byteBuffer = ByteBuffer.allocateDirect(4 * 180 * 180 * 3);\r\n        byteBuffer.order(ByteOrder.nativeOrder());\r\n\r\n        int[] intValues = new int[180 * 180];\r\n        image.getPixels(intValues, 0, image.getWidth(), 0, 0, image.getWidth(), image.getHeight());\r\n\r\n        int pixel = 0;\r\n        for (int i = 0; i &lt; 180; i++) {\r\n            for (int j = 0; j &lt; 180; j++) {\r\n                int val = intValues[pixel++]; //RGB values\r\n                byteBuffer.putFloat(((val &gt;&gt; 16) &amp; 0xFF) * (1.f / 1));\r\n                byteBuffer.putFloat(((val &gt;&gt; 8) &amp; 0xFF) * (1.f / 1));\r\n                byteBuffer.putFloat((val &amp; 0xFF) * (1.f / 1));\r\n            }\r\n        }\r\n\r\n        inputFeature0.loadBuffer(byteBuffer);\r\n\r\n        Model.Outputs outputs = model.process(inputFeature0);\r\n        TensorBuffer outputFeature0 = outputs.getOutputFeature0AsTensorBuffer();\r\n\r\n        float[] confidences = outputFeature0.getFloatArray();\r\n        int maxPos = 0;\r\n        float maxConfidence = 0;\r\n        for (int i = 0; i &lt; confidences.length; i++) {\r\n            if (confidences[i] &gt; maxConfidence) {\r\n                maxConfidence = confidences[i];\r\n                maxPos = i;\r\n            }\r\n        }\r\n        String[] classes = {&quot;Tuberkuloz&quot;, &quot;Covid-19&quot;, &quot;Zaturre&quot;,&quot;Normal&quot;};\r\n        binding.result.setText(classes[maxPos]);\r\n\r\n\r\n        // Releases model resources if no longer used.\r\n        model.close();\r\n    } catch (IOException e) {\r\n        // TODO Handle the exception\r\n    }\r\n}\r\n```\r\n\r\nI think my code can&#39;t get model. My model path is &quot;HST2(my apps name)/app/src/main/ml/model.tflite\r\n","title":"Different input but same output every time in my image classification Android app","body":"<p>This is my image classifier code in java. When I upload anything to the app, every time I get result Tuberkuloz because every time MaxPos value is 0.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void classifyImage(Bitmap image) {\n    int imageSize = 180;\n    try {\n        Model model = Model.newInstance(getApplicationContext());\n\n        TensorBuffer inputFeature0 = createFixedSize(new int[]{1, 180, 180, 3}, DataType.FLOAT32);\n\n        ByteBuffer byteBuffer;\n        byteBuffer = ByteBuffer.allocateDirect(4 * 180 * 180 * 3);\n        byteBuffer.order(ByteOrder.nativeOrder());\n\n        int[] intValues = new int[180 * 180];\n        image.getPixels(intValues, 0, image.getWidth(), 0, 0, image.getWidth(), image.getHeight());\n\n        int pixel = 0;\n        for (int i = 0; i &lt; 180; i++) {\n            for (int j = 0; j &lt; 180; j++) {\n                int val = intValues[pixel++]; //RGB values\n                byteBuffer.putFloat(((val &gt;&gt; 16) &amp; 0xFF) * (1.f / 1));\n                byteBuffer.putFloat(((val &gt;&gt; 8) &amp; 0xFF) * (1.f / 1));\n                byteBuffer.putFloat((val &amp; 0xFF) * (1.f / 1));\n            }\n        }\n\n        inputFeature0.loadBuffer(byteBuffer);\n\n        Model.Outputs outputs = model.process(inputFeature0);\n        TensorBuffer outputFeature0 = outputs.getOutputFeature0AsTensorBuffer();\n\n        float[] confidences = outputFeature0.getFloatArray();\n        int maxPos = 0;\n        float maxConfidence = 0;\n        for (int i = 0; i &lt; confidences.length; i++) {\n            if (confidences[i] &gt; maxConfidence) {\n                maxConfidence = confidences[i];\n                maxPos = i;\n            }\n        }\n        String[] classes = {&quot;Tuberkuloz&quot;, &quot;Covid-19&quot;, &quot;Zaturre&quot;,&quot;Normal&quot;};\n        binding.result.setText(classes[maxPos]);\n\n\n        // Releases model resources if no longer used.\n        model.close();\n    } catch (IOException e) {\n        // TODO Handle the exception\n    }\n}\n</code></pre>\n<p>I think my code can't get model. My model path is &quot;HST2(my apps name)/app/src/main/ml/model.tflite</p>\n"},{"tags":["java","android-studio","kotlin","exoplayer","exoplayer2.x"],"answers":[{"tags":[],"owner":{"account_id":13947824,"reputation":53,"user_id":10072131,"display_name":"Amine Dev"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1597636932,"creation_date":1597636932,"answer_id":63444407,"question_id":63444406,"body_markdown":"I used multiple emulator versions but the weird thing is that some devices couldn&#39;t either load the video (sudden stop) or it loads it till showing the thumbnail and it freezes, so the answer is basically that nothing is wrong with ExoPlayer, it&#39;s just the emulator that cannot play the media with an emulator with lower API than 23 due to a decoder issue but mainly on a usual use ExoPlayer will function properly with android devices of 16+ API. you can check the [DOCUMENTATION](https://exoplayer.dev/supported-devices.html) for more details.","title":"why ExoPlayer doesn&#39;t work on old devices with android API lower than 23?","body":"<p>I used multiple emulator versions but the weird thing is that some devices couldn't either load the video (sudden stop) or it loads it till showing the thumbnail and it freezes, so the answer is basically that nothing is wrong with ExoPlayer, it's just the emulator that cannot play the media with an emulator with lower API than 23 due to a decoder issue but mainly on a usual use ExoPlayer will function properly with android devices of 16+ API. you can check the <a href=\"https://exoplayer.dev/supported-devices.html\" rel=\"nofollow noreferrer\">DOCUMENTATION</a> for more details.</p>\n"},{"tags":[],"owner":{"account_id":13814681,"reputation":142,"user_id":9971552,"display_name":"welcomeworld"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690121590,"creation_date":1690121590,"answer_id":76748682,"question_id":63444406,"body_markdown":"It might be late,but hope help someone.  \r\nExcerpt from [ExoPlayer Doc](https://exoplayer.dev/supported-devices.html). Some Android emulators do not properly implement components of Android’s media stack, and as a result do not support ExoPlayer. This is an issue with the emulator, not with ExoPlayer. Android’s official emulator (“Virtual Devices” in Android Studio) supports ExoPlayer provided the system image has an API level of at least 23. System images with earlier API levels do not support ExoPlayer. The level of support provided by third party emulators varies. Issues running ExoPlayer on third party emulators should be reported to the developer of the emulator rather than to the ExoPlayer team. Where possible, we recommend testing media applications on physical devices rather than emulators.","title":"why ExoPlayer doesn&#39;t work on old devices with android API lower than 23?","body":"<p>It might be late,but hope help someone.<br />\nExcerpt from <a href=\"https://exoplayer.dev/supported-devices.html\" rel=\"nofollow noreferrer\">ExoPlayer Doc</a>. Some Android emulators do not properly implement components of Android’s media stack, and as a result do not support ExoPlayer. This is an issue with the emulator, not with ExoPlayer. Android’s official emulator (“Virtual Devices” in Android Studio) supports ExoPlayer provided the system image has an API level of at least 23. System images with earlier API levels do not support ExoPlayer. The level of support provided by third party emulators varies. Issues running ExoPlayer on third party emulators should be reported to the developer of the emulator rather than to the ExoPlayer team. Where possible, we recommend testing media applications on physical devices rather than emulators.</p>\n"}],"owner":{"account_id":13947824,"reputation":53,"user_id":10072131,"display_name":"Amine Dev"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":787,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1690121590,"creation_date":1597636932,"question_id":63444406,"body_markdown":"it took quite a few days to realize that something wrong is going on with old devices with API lower than 23 and I searched intensively but without an answer. So when I found my answer I thought that it&#39;s worth sharing with the community","title":"why ExoPlayer doesn&#39;t work on old devices with android API lower than 23?","body":"<p>it took quite a few days to realize that something wrong is going on with old devices with API lower than 23 and I searched intensively but without an answer. So when I found my answer I thought that it's worth sharing with the community</p>\n"},{"tags":["java","mysql","spring","docker"],"comments":[{"owner":{"account_id":13863020,"reputation":137043,"user_id":10008173,"display_name":"David Maze"},"score":0,"creation_date":1690110106,"post_id":76747674,"comment_id":135304736,"body_markdown":"Spring is complaining that it can&#39;t find an instance of `IpBlockedAddressesRepository` in between your `@Configuration` classes and anything `@ComponentScan` turns up.  This isn&#39;t obviously a Docker-related problem (though it happens the `spring.datasource.url` is visibly wrong); does the application start without Docker?","body":"Spring is complaining that it can&#39;t find an instance of <code>IpBlockedAddressesRepository</code> in between your <code>@Configuration</code> classes and anything <code>@ComponentScan</code> turns up.  This isn&#39;t obviously a Docker-related problem (though it happens the <code>spring.datasource.url</code> is visibly wrong); does the application start without Docker?"},{"owner":{"account_id":19436109,"reputation":1,"user_id":14215539,"display_name":"Stoian Delev"},"score":0,"creation_date":1690111288,"post_id":76747674,"comment_id":135304850,"body_markdown":"I add some comments for the issue, can you see them? And the YES app starts normally without Docker, what is should be spring. datasource.url  @David Maze","body":"I add some comments for the issue, can you see them? And the YES app starts normally without Docker, what is should be spring. datasource.url  @David Maze"},{"owner":{"account_id":13863020,"reputation":137043,"user_id":10008173,"display_name":"David Maze"},"score":0,"creation_date":1690114016,"post_id":76747674,"comment_id":135305145,"body_markdown":"You might set an environment variable `DEBUG=true` (with a `docker run -e` option or Compose `environment:`), which will cause Spring to print out more diagnostics about the bean initialization process.  For the other issue, see for example [Docker Compose + Spring Boot + Postgres connection](https://stackoverflow.com/questions/44790923/docker-compose-spring-boot-postgres-connection).","body":"You might set an environment variable <code>DEBUG=true</code> (with a <code>docker run -e</code> option or Compose <code>environment:</code>), which will cause Spring to print out more diagnostics about the bean initialization process.  For the other issue, see for example <a href=\"https://stackoverflow.com/questions/44790923/docker-compose-spring-boot-postgres-connection\">Docker Compose + Spring Boot + Postgres connection</a>."},{"owner":{"account_id":19436109,"reputation":1,"user_id":14215539,"display_name":"Stoian Delev"},"score":0,"creation_date":1690115004,"post_id":76747674,"comment_id":135305252,"body_markdown":"This is error in debug mode -&gt; 15:20:00.376 [main] WARN org.springframework.context.annotation.AnnotationConfigApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;webConfigurationInterceptor&#39; defined in URL [jar:file:/Users/stoiandelev/Desktop/Favourite-place-in-the-world/target/School.jar!/com/example/favouritePlaceInTheWorld/config/WebConfigurationInterceptor.class]: Unsatisfied dependency expressed through constructor parameter 1;","body":"This is error in debug mode -&gt; 15:20:00.376 [main] WARN org.springframework.context.annotation.AnnotationConfigAppli&zwnj;&#8203;cationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyExcep&zwnj;&#8203;tion: Error creating bean with name &#39;webConfigurationInterceptor&#39; defined in URL [jar:file:/Users/stoiandelev/Desktop/Favourite-place-in-the-&zwnj;&#8203;world/target/School.&zwnj;&#8203;jar!/com/example/fav&zwnj;&#8203;ouritePlaceInTheWorl&zwnj;&#8203;d/config/WebConfigur&zwnj;&#8203;ationInterceptor.cla&zwnj;&#8203;ss]: Unsatisfied dependency expressed through constructor parameter 1;"},{"owner":{"account_id":19436109,"reputation":1,"user_id":14215539,"display_name":"Stoian Delev"},"score":0,"creation_date":1690115043,"post_id":76747674,"comment_id":135305260,"body_markdown":"I think is some problem with WebConfigurationInterceptor.class","body":"I think is some problem with WebConfigurationInterceptor.class"},{"owner":{"account_id":13863020,"reputation":137043,"user_id":10008173,"display_name":"David Maze"},"score":0,"creation_date":1690115117,"post_id":76747674,"comment_id":135305267,"body_markdown":"That seems like the same exception you quoted in the question; it can&#39;t find an `IpBlockedAddressesRepository` and I&#39;d try to figure out why.  This looks like a class in your code.  If it&#39;s a Spring Data JPA repository, then the incorrect database URL could in fact be a root cause.","body":"That seems like the same exception you quoted in the question; it can&#39;t find an <code>IpBlockedAddressesRepository</code> and I&#39;d try to figure out why.  This looks like a class in your code.  If it&#39;s a Spring Data JPA repository, then the incorrect database URL could in fact be a root cause."},{"owner":{"account_id":19436109,"reputation":1,"user_id":14215539,"display_name":"Stoian Delev"},"score":0,"creation_date":1690115628,"post_id":76747674,"comment_id":135305312,"body_markdown":"Yes is Spring Data JPA repository, I try with this:         url: jdbc:mysql://localhost:3306\nbut the some issue","body":"Yes is Spring Data JPA repository, I try with this:         url: jdbc:mysql://localhost:3306 but the some issue"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1690121903,"post_id":76747674,"comment_id":135306123,"body_markdown":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example).","body":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."}],"answers":[{"comments":[{"owner":{"account_id":19436109,"reputation":1,"user_id":14215539,"display_name":"Stoian Delev"},"score":0,"creation_date":1690130700,"post_id":76748658,"comment_id":135307293,"body_markdown":"I apply changes: spring:\n    datasource:\n        driverClassName: com.mysql.cj.jdbc.Driver\n        username: root\n        password: 12345678\n        url: jdbc:mysql://mysql:3306\n    jpa:\n        hibernate:\n            ddl-auto: update\n        open-in-view: true\n        properties:\n            hibernate:\n                dialect: org.hibernate.dialect.MySQL8Dialect\n                format_sql: true.................. But I have received some mistake:","body":"I apply changes: spring:     datasource:         driverClassName: com.mysql.cj.jdbc.Driver         username: root         password: 12345678         url: jdbc:mysql://mysql:3306     jpa:         hibernate:             ddl-auto: update         open-in-view: true         properties:             hibernate:                 dialect: org.hibernate.dialect.MySQL8Dialect                 format_sql: true.................. But I have received some mistake:"},{"owner":{"account_id":19436109,"reputation":1,"user_id":14215539,"display_name":"Stoian Delev"},"score":0,"creation_date":1690130815,"post_id":76748658,"comment_id":135307309,"body_markdown":"Caused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type &#39;com.example.favouritePlaceInTheWorld.repository.IpBlockedAddressesRepository&#39; available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}","body":"Caused by: org.springframework.beans.factory.NoSuchBeanDefinitionExcept&zwnj;&#8203;ion: No qualifying bean of type &#39;com.example.favouritePlaceInTheWorld.repository.IpBlockedAd&zwnj;&#8203;dressesRepository&#39; available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}"},{"owner":{"account_id":19436109,"reputation":1,"user_id":14215539,"display_name":"Stoian Delev"},"score":0,"creation_date":1690132575,"post_id":76748658,"comment_id":135307512,"body_markdown":"I really don&#39;t see where the problem is - Annotations are used throughout to let Spring know which class is what. :(","body":"I really don&#39;t see where the problem is - Annotations are used throughout to let Spring know which class is what. :("}],"tags":[],"owner":{"account_id":7300136,"reputation":1160,"user_id":5563263,"accept_rate":57,"display_name":"Loading"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690121389,"creation_date":1690121389,"answer_id":76748658,"question_id":76747674,"body_markdown":"docker url of your db connection needs to be changed:\r\n\r\ninside a docker container, the url should be (if you start it with docker-compose and the service of mysql is called &quot;mysql&quot;):\r\n\r\n    jdbc:mysql://mysql:3306 \r\n\r\nLocalhost inside a docker container is not the localhost of your computer.\r\n\r\nWithin a docker-compose network you access the service by its service name\r\n","title":"Issue launching the Docker with Spring-boot and MySQL","body":"<p>docker url of your db connection needs to be changed:</p>\n<p>inside a docker container, the url should be (if you start it with docker-compose and the service of mysql is called &quot;mysql&quot;):</p>\n<pre><code>jdbc:mysql://mysql:3306 \n</code></pre>\n<p>Localhost inside a docker container is not the localhost of your computer.</p>\n<p>Within a docker-compose network you access the service by its service name</p>\n"}],"owner":{"account_id":19436109,"reputation":1,"user_id":14215539,"display_name":"Stoian Delev"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":126,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1690121389,"creation_date":1690106867,"question_id":76747674,"body_markdown":"I create a spring app with the database MySQL. When I run normally is works fine. But I want to use docker for the app. \r\n\r\nWhen I launch the  spring-boot application I receive this error:\r\n\r\n```\r\n09:53:56.898 [main] WARN org.springframework.context.annotation.AnnotationConfigApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;webConfigurationInterceptor&#39; defined in URL [jar:file:/app.jar!/com/example/favouritePlaceInTheWorld/config/WebConfigurationInterceptor.class]: Unsatisfied dependency expressed through constructor parameter 1; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;ipBlackListInterceptor&#39; defined in URL [jar:file:/app.jar!/com/example/favouritePlaceInTheWorld/web/interceptors/IpBlackListInterceptor.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;ipBlockedAddressesServiceImpl&#39; defined in URL [jar:file:/app.jar!/com/example/favouritePlaceInTheWorld/service/impl/IpBlockedAddressesServiceImpl.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type &#39;com.example.favouritePlaceInTheWorld.repository.IpBlockedAddressesRepository&#39; available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}\r\n09:53:56.931 [main] ERROR org.springframework.boot.SpringApplication - Application run failed\r\norg.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;webConfigurationInterceptor&#39; defined in URL [jar:file:/app.jar!/com/example/favouritePlaceInTheWorld/config/WebConfigurationInterceptor.class]: Unsatisfied dependency expressed through constructor parameter 1; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;ipBlackListInterceptor&#39; defined in URL [jar:file:/app.jar!/com/example/favouritePlaceInTheWorld/web/interceptors/IpBlackListInterceptor.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;ipBlockedAddressesServiceImpl&#39; defined in URL [jar:file:/app.jar!/com/example/favouritePlaceInTheWorld/service/impl/IpBlockedAddressesServiceImpl.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type &#39;com.example.favouritePlaceInTheWorld.repository.IpBlockedAddressesRepository&#39; available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}\r\n        at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:800)\r\n        at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:229)\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1372)\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1222)\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)\r\n        at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)\r\n        at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\r\n        at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)\r\n        at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\r\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:953)\r\n        at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918)\r\n        at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)\r\n        at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:740)\r\n        at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:415)\r\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:303)\r\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1312)\r\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1301)\r\n        at com.example.favouritePlaceInTheWorld.FavouritePlaceApplication.main(FavouritePlaceApplication.java:12)\r\nCaused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;ipBlackListInterceptor&#39; defined in URL [jar:file:/app.jar!/com/example/favouritePlaceInTheWorld/web/interceptors/IpBlackListInterceptor.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;ipBlockedAddressesServiceImpl&#39; defined in URL [jar:file:/app.jar!/com/example/favouritePlaceInTheWorld/service/impl/IpBlockedAddressesServiceImpl.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type &#39;com.example.favouritePlaceInTheWorld.repository.IpBlockedAddressesRepository&#39; available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}\r\n        at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:800)\r\n        at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:229)\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1372)\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1222)\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)\r\n        at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)\r\n        at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\r\n        at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)\r\n        at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\r\n        at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)\r\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1389)\r\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1309)\r\n        at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:887)\r\n        at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)\r\n        ... 18 common frames omitted\r\nCaused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;ipBlockedAddressesServiceImpl&#39; defined in URL [jar:file:/app.jar!/com/example/favouritePlaceInTheWorld/service/impl/IpBlockedAddressesServiceImpl.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type &#39;com.example.favouritePlaceInTheWorld.repository.IpBlockedAddressesRepository&#39; available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}\r\n        at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:800)\r\n        at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:229)\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1372)\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1222)\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)\r\n        at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)\r\n        at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\r\n        at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)\r\n        at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\r\n        at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)\r\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1389)\r\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1309)\r\n        at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:887)\r\n        at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)\r\n        ... 32 common frames omitted\r\nCaused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type &#39;com.example.favouritePlaceInTheWorld.repository.IpBlockedAddressesRepository&#39; available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}\r\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory.raiseNoMatchingBeanFound(DefaultListableBeanFactory.java:1799)\r\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1355)\r\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1309)\r\n        at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:887)\r\n        at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)\r\n        ... 46 common frames omitted\r\n\r\n```\r\n\r\nThis is my Dockerfile:\r\n\r\nFROM openjdk:17  \r\nADD target/School.jar app.jar  \r\nENTRYPOINT \\[&quot;java&quot;, &quot;-jar&quot;, &quot;app.jar&quot;\\]\r\n\r\nMy Application.yml\r\n\r\n```\r\nspring:\r\n    datasource:\r\n        driverClassName: com.mysql.cj.jdbc.Driver\r\n        username: root\r\n        password: 12345678\r\n        url: jdbc:mysql://localhost:3306/favourite_place_in_the_world?useSSL=false&amp;createDatabaseIfNotExist=true\r\n    jpa:\r\n        hibernate:\r\n            ddl-auto: update\r\n        open-in-view: false\r\n        properties:\r\n            hibernate:\r\n                dialect: org.hibernate.dialect.MySQL8Dialect\r\n                format_sql: true\r\n    mvc:\r\n        hiddenmethod:\r\n            filter:\r\n                enabled: true\r\n\r\n#this is for mailHog SMTP server test\r\nmail:\r\n    host: &quot;localhost&quot;\r\n    port: 1025\r\n    username: ${mailHog_username}\r\n    password: ${mailHog_password}\r\n\r\n#this is for check the time AOP SLO in MilliSeconds 1000 ms = 1s\r\n#ex -&gt; 60 for local. 500 for remote\r\nslos-config:\r\n    slos:\r\n        -\r\n            id: local_operation\r\n            threshold: 60\r\n        -\r\n            id: remote_operation\r\n            threshold: 5\r\n\r\n#for actuator endpoint\r\nmanagement:\r\n    server:\r\n        port: 8081\r\n    metrics:\r\n        enabled: true\r\n        export:\r\n            prometheus:\r\n                enabled: true\r\n    endpoint:\r\n        web:\r\n            base-path: /actuator\r\n        prometheus:\r\n            enabled: true\r\n    endpoints:\r\n        jmx:\r\n            exposure:\r\n                include: &quot;*&quot;\r\n        web:\r\n            exposure:\r\n                include: &quot;*&quot;\r\n    info:\r\n        env:\r\n            enabled: true\r\n\r\n#for grafana and prometheus\r\nglobal:\r\n    scrape_interval: 5s\r\n    evaluation_interval: 15s\r\n\r\nscrape_configs:\r\n    - job_name: &#39;prometheus&#39;\r\n\r\n      honor_labels: true\r\n\r\n      metric_path: /actuator/prometheus\r\n      scheme: http\r\n\r\n      static_configs:\r\n          - targets: [&#39;localhost:8080&#39;]\r\n\r\n\r\n# data_source=jdbc:mysql://localhost:3306/favourite_place_in_the_world?useSSL\\=false&amp;createDatabaseIfNotExist\\=true\r\n# mailHog_username=favourite-place@favourite-place.com\r\n```\r\n\r\nMy pom.xml file\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;2.6.7&lt;/version&gt;\r\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    &lt;/parent&gt;\r\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\r\n    &lt;artifactId&gt;School&lt;/artifactId&gt;\r\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    &lt;name&gt;School&lt;/name&gt;\r\n    &lt;description&gt;School&lt;/description&gt;\r\n    &lt;properties&gt;\r\n        &lt;java.version&gt;17&lt;/java.version&gt;\r\n    &lt;/properties&gt;\r\n    &lt;dependencies&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n            &lt;scope&gt;runtime&lt;/scope&gt;\r\n            &lt;optional&gt;true&lt;/optional&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n            &lt;version&gt;8.0.30&lt;/version&gt;\r\n            &lt;scope&gt;runtime&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.modelmapper&lt;/groupId&gt;\r\n            &lt;artifactId&gt;modelmapper&lt;/artifactId&gt;\r\n            &lt;version&gt;3.1.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-security-core&lt;/artifactId&gt;\r\n            &lt;version&gt;5.7.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n            &lt;version&gt;2.7.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.thymeleaf.extras&lt;/groupId&gt;\r\n            &lt;artifactId&gt;thymeleaf-extras-springsecurity5&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-mail&lt;/artifactId&gt;\r\n            &lt;version&gt;2.5.4&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!-- https://mvnrepository.com/artifact/org.springframework/spring-aop --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-aop&lt;/artifactId&gt;\r\n            &lt;version&gt;5.3.20&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!--        for configuration in SLO config--&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-configuration-processor&lt;/artifactId&gt;\r\n            &lt;version&gt;2.7.0&lt;/version&gt;\r\n            &lt;optional&gt;true&lt;/optional&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!--for test --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\r\n            &lt;version&gt;5.5.2&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!--for test --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.hsqldb&lt;/groupId&gt;\r\n            &lt;artifactId&gt;hsqldb&lt;/artifactId&gt;\r\n            &lt;version&gt;2.4.1&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!--for actuator --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\r\n            &lt;version&gt;2.6.3&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n\r\n        &lt;!--for prometheus --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.micrometer&lt;/groupId&gt;\r\n            &lt;artifactId&gt;micrometer-registry-prometheus&lt;/artifactId&gt;\r\n            &lt;version&gt;1.8.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n\r\n\r\n\r\n\r\nAlso i connect docker container with mysql with \r\ncreate network\r\ndocker network create spring-net\r\ndocker network connect spring-net mysqldb\r\n\r\nI check is work find with - docker container inspect mysqldb\r\n\r\nBut when i start with - \r\n docker run -p 9000:8080 --name app --net spring-net -e MYSQL_HOST=mysqldb -e MYSQL_USER=root -e MYSQL_PASSWORD=12345678 -e MYSQL_PORT=3306 app\r\n is generate this issue.\r\n\r\n\r\n\r\nThis is my configuration file:\r\n\r\n@Configuration\r\npublic class WebConfigurationInterceptor implements WebMvcConfigurer {\r\n\r\n    private final StatsInterceptor statsInterceptor;\r\n    private final IpBlackListInterceptor ipBlackListInterceptor;\r\n    private final MaintenanceInterceptor maintenanceInterceptor;\r\n\r\n    public WebConfigurationInterceptor(StatsInterceptor statsInterceptor,\r\n                                       IpBlackListInterceptor ipBlackListInterceptor,\r\n                                       MaintenanceInterceptor maintenanceInterceptor) {\r\n        this.statsInterceptor = statsInterceptor;\r\n        this.ipBlackListInterceptor = ipBlackListInterceptor;\r\n        this.maintenanceInterceptor = maintenanceInterceptor;\r\n    }\r\n\r\n    @Override\r\n    public void addInterceptors(InterceptorRegistry registry) {\r\n        registry.addInterceptor(statsInterceptor);\r\n        registry.addInterceptor(ipBlackListInterceptor);\r\n        registry.addInterceptor(maintenanceInterceptor);\r\n    }\r\n}\r\n\r\n\r\nEntity for class\r\n\r\n@Entity\r\n@Table(name = &quot;ip_blocked_address&quot;)\r\npublic class IpBlockedAddress extends BaseEntity{\r\n\r\n    private String name;\r\n\r\n    public IpBlockedAddress() {\r\n    }\r\n\r\n    public String getName() {\r\n        return name;\r\n    }\r\n\r\n    public IpBlockedAddress setName(String name) {\r\n        this.name = name;\r\n        return this;\r\n    }\r\n}\r\n\r\nService for model entity\r\n\r\npublic class IpBlockedAddressServiceModel {\r\n\r\n    @NotBlank\r\n    @Size(min = 10)\r\n    private String textContent;\r\n\r\n    public IpBlockedAddressServiceModel() {\r\n    }\r\n\r\n    public String getTextContent() {\r\n        return textContent;\r\n    }\r\n\r\n    public IpBlockedAddressServiceModel setTextContent(String textContent) {\r\n        this.textContent = textContent;\r\n        return this;\r\n    }\r\n}\r\n\r\n\r\nRepository\r\n\r\n@Repository\r\npublic interface IpBlockedAddressesRepository extends JpaRepository&lt;IpBlockedAddress, Long&gt; {\r\n\r\n    Optional&lt;IpBlockedAddress&gt; findByName(String name);\r\n}\r\n\r\nInterface:\r\n\r\npublic interface IpBlockedAddressesService {\r\n\r\n    IpBlockedAddress findByName(String name);\r\n\r\n    void addBlockedIpToDB(IpBlockedAddressServiceModel ipBlockedAddressServiceModel);\r\n}\r\n\r\n\r\nImplementation of Interface\r\n\r\npackage com.example.favouritePlaceInTheWorld.service.impl;\r\n\r\nimport com.example.favouritePlaceInTheWorld.model.entity.IpBlockedAddress;\r\nimport com.example.favouritePlaceInTheWorld.model.service.IpBlockedAddressServiceModel;\r\nimport com.example.favouritePlaceInTheWorld.repository.IpBlockedAddressesRepository;\r\nimport com.example.favouritePlaceInTheWorld.service.IpBlockedAddressesService;\r\nimport org.springframework.stereotype.Service;\r\n\r\n@Service\r\npublic class IpBlockedAddressesServiceImpl implements IpBlockedAddressesService {\r\n\r\n    private final IpBlockedAddressesRepository ipBlockedAddressesRepository;\r\n\r\n    public IpBlockedAddressesServiceImpl(IpBlockedAddressesRepository ipBlockedAddressesRepository) {\r\n        this.ipBlockedAddressesRepository = ipBlockedAddressesRepository;\r\n    }\r\n\r\n    @Override\r\n    public IpBlockedAddress findByName(String name) {\r\n        return ipBlockedAddressesRepository\r\n                .findByName(name)\r\n                .orElse(null);\r\n    }\r\n\r\n    @Override\r\n    public void addBlockedIpToDB(IpBlockedAddressServiceModel ipBlockedAddressServiceModel) {\r\n        IpBlockedAddress ipBlockedAddress = new IpBlockedAddress();\r\n\r\n        ipBlockedAddress.setName(ipBlockedAddressServiceModel.getTextContent());\r\n\r\n        ipBlockedAddressesRepository.save(ipBlockedAddress);\r\n    }\r\n}\r\n\r\n\r\nAnd Interceptor\r\n\r\npackage com.example.favouritePlaceInTheWorld.web.interceptors;\r\n\r\nimport com.example.favouritePlaceInTheWorld.model.entity.IpBlockedAddress;\r\nimport com.example.favouritePlaceInTheWorld.service.IpBlockedAddressesService;\r\nimport org.springframework.beans.factory.annotation.Qualifier;\r\nimport org.springframework.stereotype.Component;\r\nimport org.springframework.web.servlet.HandlerInterceptor;\r\n\r\nimport javax.servlet.http.HttpServletRequest;\r\nimport javax.servlet.http.HttpServletResponse;\r\n\r\n@Component\r\npublic class IpBlackListInterceptor implements HandlerInterceptor {\r\n\r\n\r\n    private final IpBlockedAddressesService ipBlockedAddressesService;\r\n\r\n    public IpBlackListInterceptor(IpBlockedAddressesService ipBlockedAddressesService) {\r\n        this.ipBlockedAddressesService = ipBlockedAddressesService;\r\n    }\r\n\r\n    /**\r\n     * this is method from HandlerInterceptor interface\r\n     * request is have method getRemoteAddr()\r\n     */\r\n    @Override\r\n    public boolean preHandle(HttpServletRequest request, HttpServletResponse response, Object handler) throws Exception {\r\n        String ipAddress = request.getRemoteAddr();\r\n        IpBlockedAddress blockedIp = ipBlockedAddressesService.findByName(ipAddress);\r\n        return blockedIp == null;\r\n    }\r\n}\r\n\r\n```","title":"Issue launching the Docker with Spring-boot and MySQL","body":"<p>I create a spring app with the database MySQL. When I run normally is works fine. But I want to use docker for the app.</p>\n<p>When I launch the  spring-boot application I receive this error:</p>\n<pre><code>09:53:56.898 [main] WARN org.springframework.context.annotation.AnnotationConfigApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'webConfigurationInterceptor' defined in URL [jar:file:/app.jar!/com/example/favouritePlaceInTheWorld/config/WebConfigurationInterceptor.class]: Unsatisfied dependency expressed through constructor parameter 1; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'ipBlackListInterceptor' defined in URL [jar:file:/app.jar!/com/example/favouritePlaceInTheWorld/web/interceptors/IpBlackListInterceptor.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'ipBlockedAddressesServiceImpl' defined in URL [jar:file:/app.jar!/com/example/favouritePlaceInTheWorld/service/impl/IpBlockedAddressesServiceImpl.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'com.example.favouritePlaceInTheWorld.repository.IpBlockedAddressesRepository' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}\n09:53:56.931 [main] ERROR org.springframework.boot.SpringApplication - Application run failed\norg.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'webConfigurationInterceptor' defined in URL [jar:file:/app.jar!/com/example/favouritePlaceInTheWorld/config/WebConfigurationInterceptor.class]: Unsatisfied dependency expressed through constructor parameter 1; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'ipBlackListInterceptor' defined in URL [jar:file:/app.jar!/com/example/favouritePlaceInTheWorld/web/interceptors/IpBlackListInterceptor.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'ipBlockedAddressesServiceImpl' defined in URL [jar:file:/app.jar!/com/example/favouritePlaceInTheWorld/service/impl/IpBlockedAddressesServiceImpl.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'com.example.favouritePlaceInTheWorld.repository.IpBlockedAddressesRepository' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}\n        at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:800)\n        at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:229)\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1372)\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1222)\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)\n        at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)\n        at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\n        at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)\n        at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:953)\n        at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918)\n        at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)\n        at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:740)\n        at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:415)\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:303)\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1312)\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1301)\n        at com.example.favouritePlaceInTheWorld.FavouritePlaceApplication.main(FavouritePlaceApplication.java:12)\nCaused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'ipBlackListInterceptor' defined in URL [jar:file:/app.jar!/com/example/favouritePlaceInTheWorld/web/interceptors/IpBlackListInterceptor.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'ipBlockedAddressesServiceImpl' defined in URL [jar:file:/app.jar!/com/example/favouritePlaceInTheWorld/service/impl/IpBlockedAddressesServiceImpl.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'com.example.favouritePlaceInTheWorld.repository.IpBlockedAddressesRepository' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}\n        at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:800)\n        at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:229)\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1372)\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1222)\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)\n        at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)\n        at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\n        at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)\n        at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\n        at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1389)\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1309)\n        at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:887)\n        at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)\n        ... 18 common frames omitted\nCaused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'ipBlockedAddressesServiceImpl' defined in URL [jar:file:/app.jar!/com/example/favouritePlaceInTheWorld/service/impl/IpBlockedAddressesServiceImpl.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'com.example.favouritePlaceInTheWorld.repository.IpBlockedAddressesRepository' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}\n        at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:800)\n        at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:229)\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1372)\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1222)\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)\n        at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)\n        at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\n        at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)\n        at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\n        at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1389)\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1309)\n        at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:887)\n        at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)\n        ... 32 common frames omitted\nCaused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'com.example.favouritePlaceInTheWorld.repository.IpBlockedAddressesRepository' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory.raiseNoMatchingBeanFound(DefaultListableBeanFactory.java:1799)\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1355)\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1309)\n        at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:887)\n        at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)\n        ... 46 common frames omitted\n\n</code></pre>\n<p>This is my Dockerfile:</p>\n<p>FROM openjdk:17<br />\nADD target/School.jar app.jar<br />\nENTRYPOINT [&quot;java&quot;, &quot;-jar&quot;, &quot;app.jar&quot;]</p>\n<p>My Application.yml</p>\n<pre><code>spring:\n    datasource:\n        driverClassName: com.mysql.cj.jdbc.Driver\n        username: root\n        password: 12345678\n        url: jdbc:mysql://localhost:3306/favourite_place_in_the_world?useSSL=false&amp;createDatabaseIfNotExist=true\n    jpa:\n        hibernate:\n            ddl-auto: update\n        open-in-view: false\n        properties:\n            hibernate:\n                dialect: org.hibernate.dialect.MySQL8Dialect\n                format_sql: true\n    mvc:\n        hiddenmethod:\n            filter:\n                enabled: true\n\n#this is for mailHog SMTP server test\nmail:\n    host: &quot;localhost&quot;\n    port: 1025\n    username: ${mailHog_username}\n    password: ${mailHog_password}\n\n#this is for check the time AOP SLO in MilliSeconds 1000 ms = 1s\n#ex -&gt; 60 for local. 500 for remote\nslos-config:\n    slos:\n        -\n            id: local_operation\n            threshold: 60\n        -\n            id: remote_operation\n            threshold: 5\n\n#for actuator endpoint\nmanagement:\n    server:\n        port: 8081\n    metrics:\n        enabled: true\n        export:\n            prometheus:\n                enabled: true\n    endpoint:\n        web:\n            base-path: /actuator\n        prometheus:\n            enabled: true\n    endpoints:\n        jmx:\n            exposure:\n                include: &quot;*&quot;\n        web:\n            exposure:\n                include: &quot;*&quot;\n    info:\n        env:\n            enabled: true\n\n#for grafana and prometheus\nglobal:\n    scrape_interval: 5s\n    evaluation_interval: 15s\n\nscrape_configs:\n    - job_name: 'prometheus'\n\n      honor_labels: true\n\n      metric_path: /actuator/prometheus\n      scheme: http\n\n      static_configs:\n          - targets: ['localhost:8080']\n\n\n# data_source=jdbc:mysql://localhost:3306/favourite_place_in_the_world?useSSL\\=false&amp;createDatabaseIfNotExist\\=true\n# mailHog_username=favourite-place@favourite-place.com\n</code></pre>\n<p>My pom.xml file</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.6.7&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;School&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;School&lt;/name&gt;\n    &lt;description&gt;School&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n            &lt;version&gt;8.0.30&lt;/version&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.modelmapper&lt;/groupId&gt;\n            &lt;artifactId&gt;modelmapper&lt;/artifactId&gt;\n            &lt;version&gt;3.1.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-core&lt;/artifactId&gt;\n            &lt;version&gt;5.7.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n            &lt;version&gt;2.7.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.thymeleaf.extras&lt;/groupId&gt;\n            &lt;artifactId&gt;thymeleaf-extras-springsecurity5&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-mail&lt;/artifactId&gt;\n            &lt;version&gt;2.5.4&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- https://mvnrepository.com/artifact/org.springframework/spring-aop --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-aop&lt;/artifactId&gt;\n            &lt;version&gt;5.3.20&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!--        for configuration in SLO config--&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-configuration-processor&lt;/artifactId&gt;\n            &lt;version&gt;2.7.0&lt;/version&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n\n        &lt;!--for test --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\n            &lt;version&gt;5.5.2&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;!--for test --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hsqldb&lt;/groupId&gt;\n            &lt;artifactId&gt;hsqldb&lt;/artifactId&gt;\n            &lt;version&gt;2.4.1&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;!--for actuator --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\n            &lt;version&gt;2.6.3&lt;/version&gt;\n        &lt;/dependency&gt;\n\n\n        &lt;!--for prometheus --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.micrometer&lt;/groupId&gt;\n            &lt;artifactId&gt;micrometer-registry-prometheus&lt;/artifactId&gt;\n            &lt;version&gt;1.8.2&lt;/version&gt;\n        &lt;/dependency&gt;\n\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n\n\n\n\nAlso i connect docker container with mysql with \ncreate network\ndocker network create spring-net\ndocker network connect spring-net mysqldb\n\nI check is work find with - docker container inspect mysqldb\n\nBut when i start with - \n docker run -p 9000:8080 --name app --net spring-net -e MYSQL_HOST=mysqldb -e MYSQL_USER=root -e MYSQL_PASSWORD=12345678 -e MYSQL_PORT=3306 app\n is generate this issue.\n\n\n\nThis is my configuration file:\n\n@Configuration\npublic class WebConfigurationInterceptor implements WebMvcConfigurer {\n\n    private final StatsInterceptor statsInterceptor;\n    private final IpBlackListInterceptor ipBlackListInterceptor;\n    private final MaintenanceInterceptor maintenanceInterceptor;\n\n    public WebConfigurationInterceptor(StatsInterceptor statsInterceptor,\n                                       IpBlackListInterceptor ipBlackListInterceptor,\n                                       MaintenanceInterceptor maintenanceInterceptor) {\n        this.statsInterceptor = statsInterceptor;\n        this.ipBlackListInterceptor = ipBlackListInterceptor;\n        this.maintenanceInterceptor = maintenanceInterceptor;\n    }\n\n    @Override\n    public void addInterceptors(InterceptorRegistry registry) {\n        registry.addInterceptor(statsInterceptor);\n        registry.addInterceptor(ipBlackListInterceptor);\n        registry.addInterceptor(maintenanceInterceptor);\n    }\n}\n\n\nEntity for class\n\n@Entity\n@Table(name = &quot;ip_blocked_address&quot;)\npublic class IpBlockedAddress extends BaseEntity{\n\n    private String name;\n\n    public IpBlockedAddress() {\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public IpBlockedAddress setName(String name) {\n        this.name = name;\n        return this;\n    }\n}\n\nService for model entity\n\npublic class IpBlockedAddressServiceModel {\n\n    @NotBlank\n    @Size(min = 10)\n    private String textContent;\n\n    public IpBlockedAddressServiceModel() {\n    }\n\n    public String getTextContent() {\n        return textContent;\n    }\n\n    public IpBlockedAddressServiceModel setTextContent(String textContent) {\n        this.textContent = textContent;\n        return this;\n    }\n}\n\n\nRepository\n\n@Repository\npublic interface IpBlockedAddressesRepository extends JpaRepository&lt;IpBlockedAddress, Long&gt; {\n\n    Optional&lt;IpBlockedAddress&gt; findByName(String name);\n}\n\nInterface:\n\npublic interface IpBlockedAddressesService {\n\n    IpBlockedAddress findByName(String name);\n\n    void addBlockedIpToDB(IpBlockedAddressServiceModel ipBlockedAddressServiceModel);\n}\n\n\nImplementation of Interface\n\npackage com.example.favouritePlaceInTheWorld.service.impl;\n\nimport com.example.favouritePlaceInTheWorld.model.entity.IpBlockedAddress;\nimport com.example.favouritePlaceInTheWorld.model.service.IpBlockedAddressServiceModel;\nimport com.example.favouritePlaceInTheWorld.repository.IpBlockedAddressesRepository;\nimport com.example.favouritePlaceInTheWorld.service.IpBlockedAddressesService;\nimport org.springframework.stereotype.Service;\n\n@Service\npublic class IpBlockedAddressesServiceImpl implements IpBlockedAddressesService {\n\n    private final IpBlockedAddressesRepository ipBlockedAddressesRepository;\n\n    public IpBlockedAddressesServiceImpl(IpBlockedAddressesRepository ipBlockedAddressesRepository) {\n        this.ipBlockedAddressesRepository = ipBlockedAddressesRepository;\n    }\n\n    @Override\n    public IpBlockedAddress findByName(String name) {\n        return ipBlockedAddressesRepository\n                .findByName(name)\n                .orElse(null);\n    }\n\n    @Override\n    public void addBlockedIpToDB(IpBlockedAddressServiceModel ipBlockedAddressServiceModel) {\n        IpBlockedAddress ipBlockedAddress = new IpBlockedAddress();\n\n        ipBlockedAddress.setName(ipBlockedAddressServiceModel.getTextContent());\n\n        ipBlockedAddressesRepository.save(ipBlockedAddress);\n    }\n}\n\n\nAnd Interceptor\n\npackage com.example.favouritePlaceInTheWorld.web.interceptors;\n\nimport com.example.favouritePlaceInTheWorld.model.entity.IpBlockedAddress;\nimport com.example.favouritePlaceInTheWorld.service.IpBlockedAddressesService;\nimport org.springframework.beans.factory.annotation.Qualifier;\nimport org.springframework.stereotype.Component;\nimport org.springframework.web.servlet.HandlerInterceptor;\n\nimport javax.servlet.http.HttpServletRequest;\nimport javax.servlet.http.HttpServletResponse;\n\n@Component\npublic class IpBlackListInterceptor implements HandlerInterceptor {\n\n\n    private final IpBlockedAddressesService ipBlockedAddressesService;\n\n    public IpBlackListInterceptor(IpBlockedAddressesService ipBlockedAddressesService) {\n        this.ipBlockedAddressesService = ipBlockedAddressesService;\n    }\n\n    /**\n     * this is method from HandlerInterceptor interface\n     * request is have method getRemoteAddr()\n     */\n    @Override\n    public boolean preHandle(HttpServletRequest request, HttpServletResponse response, Object handler) throws Exception {\n        String ipAddress = request.getRemoteAddr();\n        IpBlockedAddress blockedIp = ipBlockedAddressesService.findByName(ipAddress);\n        return blockedIp == null;\n    }\n}\n\n</code></pre>\n"},{"tags":["java","itext","font-embedding"],"comments":[{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":1,"creation_date":1690014130,"post_id":76737422,"comment_id":135296191,"body_markdown":"Have you added the *pdfCalligraph* add-on? It&#39;s necessary for properly displaying text of many languages...","body":"Have you added the <i>pdfCalligraph</i> add-on? It&#39;s necessary for properly displaying text of many languages..."},{"owner":{"account_id":29061695,"reputation":1,"user_id":22262182,"display_name":"Madushanka Gamlath"},"score":0,"creation_date":1690195963,"post_id":76737422,"comment_id":135314826,"body_markdown":"Could you please tell me how to type &quot;ම් &quot; like letters??","body":"Could you please tell me how to type &quot;ම් &quot; like letters??"}],"owner":{"account_id":29061695,"reputation":1,"user_id":22262182,"display_name":"Madushanka Gamlath"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":80,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690120475,"creation_date":1689937688,"question_id":76737422,"body_markdown":"I&#39;m using the iText7 library in Java to generate a PDF document that contains Sinhala text.&lt;br&gt;\r\nI&#39;ve followed the code example below to embed a custom Sinhala font and render the text properly. &lt;br&gt;\r\nHowever, when I run the code, the Sinhala text doesn&#39;t render correctly in the output PDF. Instead, it appears as garbled characters or boxes. &lt;br&gt;\r\nI&#39;ve verified that the font file (NotoSansSinhala-VariableFont_wdth,wght.ttf) is present at the specified path. &lt;br&gt;&lt;br&gt; \r\nCan someone help me identify what I might be doing wrong in my code or suggest a solution to properly render Sinhala text in the generated PDF using iText? &lt;br&gt; \r\nAny insights or corrections to my code would be greatly appreciated. Thank you!\r\n\r\n\r\n```\r\npackage mlib;\r\n\r\nimport com.itextpdf.io.font.PdfEncodings;\r\nimport com.itextpdf.kernel.font.PdfFont;\r\nimport com.itextpdf.kernel.font.PdfFontFactory;\r\nimport com.itextpdf.kernel.font.PdfFontFactory.EmbeddingStrategy;\r\nimport com.itextpdf.kernel.pdf.PdfDocument;\r\nimport com.itextpdf.kernel.pdf.PdfWriter;\r\nimport com.itextpdf.layout.Document;\r\nimport com.itextpdf.layout.element.Paragraph;\r\n\r\nimport java.io.IOException;\r\nimport java.nio.file.Files;\r\nimport java.nio.file.Paths;\r\n\r\npublic class App {\r\n\r\n    public static void main(String[] args) throws IOException {\r\n        try (PdfWriter writer = new PdfWriter(&quot;output.pdf&quot;);\r\n             PdfDocument pdfDocument = new PdfDocument(writer)) {\r\n\r\n            // Load font data and create a PdfFont object with the desired Sinhala font\r\n            byte[] fontData = Files.readAllBytes(Paths.get(&quot;C:\\\\Users\\\\madushankag\\\\Desktop\\\\Sinhala_iText\\\\NotoSansSinhala-VariableFont_wdth,wght.ttf&quot;));\r\n            PdfFont sinhalaFont = PdfFontFactory.createFont(fontData, PdfEncodings.IDENTITY_H, EmbeddingStrategy.FORCE_EMBEDDED, false);\r\n            \r\n\r\n            // Open the document\r\n            Document document = new Document(pdfDocument);\r\n\r\n            //Add content with the Sinhala font\r\n            String sinhalaText = &quot;කොහොමද සැප සනිප?&quot;;\r\n            Paragraph paragraph = new Paragraph(sinhalaText).setFont(sinhalaFont);\r\n            document.add(paragraph);\r\n\r\n            //Close the document\r\n            document.close();\r\n\r\n            System.out.println(&quot;PDF generation completed successfully.&quot;);\r\n        }\r\n    }\r\n}\r\n\r\n```\r\n\r\nOutput pdf file:\r\n\r\n[![Output pdf file][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/EbMMC.png","title":"Sinhala text not properly rendering in PDF output using iText7 in Java","body":"<p>I'm using the iText7 library in Java to generate a PDF document that contains Sinhala text.<br>\nI've followed the code example below to embed a custom Sinhala font and render the text properly. <br>\nHowever, when I run the code, the Sinhala text doesn't render correctly in the output PDF. Instead, it appears as garbled characters or boxes. <br>\nI've verified that the font file (NotoSansSinhala-VariableFont_wdth,wght.ttf) is present at the specified path. <br><br>\nCan someone help me identify what I might be doing wrong in my code or suggest a solution to properly render Sinhala text in the generated PDF using iText? <br>\nAny insights or corrections to my code would be greatly appreciated. Thank you!</p>\n<pre><code>package mlib;\n\nimport com.itextpdf.io.font.PdfEncodings;\nimport com.itextpdf.kernel.font.PdfFont;\nimport com.itextpdf.kernel.font.PdfFontFactory;\nimport com.itextpdf.kernel.font.PdfFontFactory.EmbeddingStrategy;\nimport com.itextpdf.kernel.pdf.PdfDocument;\nimport com.itextpdf.kernel.pdf.PdfWriter;\nimport com.itextpdf.layout.Document;\nimport com.itextpdf.layout.element.Paragraph;\n\nimport java.io.IOException;\nimport java.nio.file.Files;\nimport java.nio.file.Paths;\n\npublic class App {\n\n    public static void main(String[] args) throws IOException {\n        try (PdfWriter writer = new PdfWriter(&quot;output.pdf&quot;);\n             PdfDocument pdfDocument = new PdfDocument(writer)) {\n\n            // Load font data and create a PdfFont object with the desired Sinhala font\n            byte[] fontData = Files.readAllBytes(Paths.get(&quot;C:\\\\Users\\\\madushankag\\\\Desktop\\\\Sinhala_iText\\\\NotoSansSinhala-VariableFont_wdth,wght.ttf&quot;));\n            PdfFont sinhalaFont = PdfFontFactory.createFont(fontData, PdfEncodings.IDENTITY_H, EmbeddingStrategy.FORCE_EMBEDDED, false);\n            \n\n            // Open the document\n            Document document = new Document(pdfDocument);\n\n            //Add content with the Sinhala font\n            String sinhalaText = &quot;කොහොමද සැප සනිප?&quot;;\n            Paragraph paragraph = new Paragraph(sinhalaText).setFont(sinhalaFont);\n            document.add(paragraph);\n\n            //Close the document\n            document.close();\n\n            System.out.println(&quot;PDF generation completed successfully.&quot;);\n        }\n    }\n}\n\n</code></pre>\n<p>Output pdf file:</p>\n<p><a href=\"https://i.stack.imgur.com/EbMMC.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/EbMMC.png\" alt=\"Output pdf file\" /></a></p>\n"},{"tags":["java","jframe","jpanel","netbeans-8.2"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1690119238,"post_id":76748480,"comment_id":135305773,"body_markdown":"Sounds like you need a `CardLayout`","body":"Sounds like you need a <code>CardLayout</code>"}],"owner":{"account_id":29074159,"reputation":1,"user_id":22271760,"display_name":"papa-jayy"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":11,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1690120189,"answer_count":0,"score":0,"last_activity_date":1690120225,"creation_date":1690118728,"question_id":76748480,"body_markdown":"i coded a game in java (the crome offline game but with my own textures). The the game screen incoded in a class that extends a jPanel and it is called by a different class that extends a jFrame. \r\nThe other screens, e.g. highscore screen and the title screen were created in a jPanel form design in NetBeans IDE 8.2 (it allowed me design the gui&#39;s by dragging and droping while it made uneditable auto-generated code for the Panels)\r\nEach jPanel form it&#39;s own class and as i did with the game screen called by the JFrame class by instantiating and using: \r\n```\r\nadd(*jPanelName*);\r\n```\r\ni did this for all my screens and to switch between them ive been closing the window, commenting out all panels excluding the one i want to see when i run and clicking run again.\r\n\r\nhow can i switch between them using thier respective buttons?\r\n\r\nim sorry for my post being so long and for if im not punctual.\r\n\r\ni tried a switch statment that would change depending on a variable (currentScreen) that i made public in hopes that if i changed it upon clicking a button, it would trigger the switch statment and the screen would change. this is what the code in the buttons looks like: \r\n```\r\nprivate void jHighScoresActionPerformed(java.awt.event.ActionEvent evt) {                                       \r\n        GameWindow.currentScreen = 2;\r\n        System.out.println(GameWindow.currentScreen); //confirms if it changes when clicked (it does)\r\n```\r\nthe attenpted switch statment:\r\n\r\n```\r\n    private PlayScreen playScreen;\r\n    private TitleScreen titleScreen;\r\n    private HighScoreScreen highScoreScreen;\r\n    \r\n    private final int TITLE = 0;\r\n    private final int PLAY = 1;\r\n    private final int HISHSCORE = 2;\r\n    \r\n    public static int currentScreen;\r\n\r\npublic GameWindow() {\r\n        ...code to set the frame...\r\n        \r\n        \r\n        playScreen = new PlayScreen();\r\n        titleScreen = new TitleScreen();\r\n        highScoreScreen = new HighScoreScreen();\r\n        \r\n                highScoreScreen.setVisible(false);\r\n                titleScreen.setVisible(false);\r\n                playScreen.setVisible(false);\r\n\r\n        setScreen();\r\n    }\r\n\r\n\r\npublic void setScreen(){\r\n        switch(currentScreen){\r\n            case TITLE:\r\n                remove(playScreen);\r\n                remove(highScoreScreen);\r\n                add(titleScreen);\r\n                playScreen.setVisible(true);\r\n            case PLAY:\r\n                remove(titleScreen);\r\n                add(playScreen);\r\n                addKeyListener(playScreen);\r\n                titleScreen.setVisible(false);\r\n                playScreen.setVisible(true);\r\n                break;\r\n            case HISHSCORE:\r\n                remove(titleScreen);\r\n                add(highScoreScreen);\r\n                titleScreen.setVisible(false);\r\n                playScreen.setVisible(true);\r\n                break;\r\n        }\r\n    }\r\n```","title":"Switch between JPanels, that are in different classes, within a JFrame class, using JButtonsb (sorry)","body":"<p>i coded a game in java (the crome offline game but with my own textures). The the game screen incoded in a class that extends a jPanel and it is called by a different class that extends a jFrame.\nThe other screens, e.g. highscore screen and the title screen were created in a jPanel form design in NetBeans IDE 8.2 (it allowed me design the gui's by dragging and droping while it made uneditable auto-generated code for the Panels)\nEach jPanel form it's own class and as i did with the game screen called by the JFrame class by instantiating and using:</p>\n<pre><code>add(*jPanelName*);\n</code></pre>\n<p>i did this for all my screens and to switch between them ive been closing the window, commenting out all panels excluding the one i want to see when i run and clicking run again.</p>\n<p>how can i switch between them using thier respective buttons?</p>\n<p>im sorry for my post being so long and for if im not punctual.</p>\n<p>i tried a switch statment that would change depending on a variable (currentScreen) that i made public in hopes that if i changed it upon clicking a button, it would trigger the switch statment and the screen would change. this is what the code in the buttons looks like:</p>\n<pre><code>private void jHighScoresActionPerformed(java.awt.event.ActionEvent evt) {                                       \n        GameWindow.currentScreen = 2;\n        System.out.println(GameWindow.currentScreen); //confirms if it changes when clicked (it does)\n</code></pre>\n<p>the attenpted switch statment:</p>\n<pre><code>    private PlayScreen playScreen;\n    private TitleScreen titleScreen;\n    private HighScoreScreen highScoreScreen;\n    \n    private final int TITLE = 0;\n    private final int PLAY = 1;\n    private final int HISHSCORE = 2;\n    \n    public static int currentScreen;\n\npublic GameWindow() {\n        ...code to set the frame...\n        \n        \n        playScreen = new PlayScreen();\n        titleScreen = new TitleScreen();\n        highScoreScreen = new HighScoreScreen();\n        \n                highScoreScreen.setVisible(false);\n                titleScreen.setVisible(false);\n                playScreen.setVisible(false);\n\n        setScreen();\n    }\n\n\npublic void setScreen(){\n        switch(currentScreen){\n            case TITLE:\n                remove(playScreen);\n                remove(highScoreScreen);\n                add(titleScreen);\n                playScreen.setVisible(true);\n            case PLAY:\n                remove(titleScreen);\n                add(playScreen);\n                addKeyListener(playScreen);\n                titleScreen.setVisible(false);\n                playScreen.setVisible(true);\n                break;\n            case HISHSCORE:\n                remove(titleScreen);\n                add(highScoreScreen);\n                titleScreen.setVisible(false);\n                playScreen.setVisible(true);\n                break;\n        }\n    }\n</code></pre>\n"},{"tags":["java","apache-poi"],"comments":[{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":2,"creation_date":1690120074,"post_id":76748560,"comment_id":135305889,"body_markdown":"Please read https://poi.apache.org/components/spreadsheet/quick-guide.html. Especially https://poi.apache.org/components/spreadsheet/quick-guide.html#CellContents","body":"Please read <a href=\"https://poi.apache.org/components/spreadsheet/quick-guide.html\" rel=\"nofollow noreferrer\">poi.apache.org/components/spreadsheet/quick-guide.html</a>. Especially <a href=\"https://poi.apache.org/components/spreadsheet/quick-guide.html#CellContents\" rel=\"nofollow noreferrer\">poi.apache.org/components/spreadsheet/&hellip;</a>"},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1690149683,"post_id":76748560,"comment_id":135309358,"body_markdown":"See also [_Can I access/modify workbooks/documents/slideshows in multiple threads?_](https://poi.apache.org/help/faq.html#faq-N10224)","body":"See also <a href=\"https://poi.apache.org/help/faq.html#faq-N10224\" rel=\"nofollow noreferrer\"><i>Can I access/modify workbooks/documents/slideshows in multiple threads?</i></a>"}],"owner":{"account_id":21852678,"reputation":1,"user_id":16144524,"display_name":"QasyeefSunnymizer"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690119816,"creation_date":1690119816,"question_id":76748560,"body_markdown":"I&#39;m having issues with &quot;Cannot get a NUMERIC value from a STRING cell&quot;. Sorry for the bad explanation, I am a new student to CS. I have just learned to include Apache POI into the IntelliJ project and finally understanding how to put in the file directory. I still am having issues with the entirety of Apache POI in a whole.\r\n\r\n```\r\nimport java.io.FileInputStream;\r\nimport org.apache.poi.ss.usermodel.Cell;\r\nimport org.apache.poi.ss.usermodel.Row;\r\nimport org.apache.poi.xssf.usermodel.XSSFWorkbook;\r\nimport java.io.IOException;\r\nimport java.io.InputStream;\r\nimport java.util.HashMap;\r\nimport java.util.Map;\r\nimport java.util.concurrent.ExecutorService;\r\nimport java.util.concurrent.Executors;\r\nimport org.apache.poi.ss.usermodel.*;\r\n\r\npublic class DataSetTest {\r\n    private static final String EXCEL_FILE_PATH = &quot;C:/Users/assignment/src/dataset.xlsx&quot;;\r\n    private static final int NUM_THREADS = 4;\r\n\r\n    public static void main(String[] args) {\r\n        ExecutorService executorService = Executors.newFixedThreadPool(NUM_THREADS);\r\n\r\n        Map&lt;String, Double&gt; userSpendingMap = new HashMap&lt;&gt;();\r\n        double totalMoneySpent = 0.0;\r\n\r\n        try (InputStream fis = new FileInputStream(EXCEL_FILE_PATH);\r\n             Workbook workbook = new XSSFWorkbook(fis)) {\r\n\r\n            Sheet sheet = workbook.getSheetAt(0);\r\n\r\n            for (Row row : sheet) {\r\n                executorService.execute(() -&gt; processTransaction(row, userSpendingMap));\r\n            }\r\n\r\n            executorService.shutdown();\r\n\r\n            while (!executorService.isTerminated()) {\r\n                Thread.sleep(100); // Sleep for a short interval to avoid busy waiting\r\n            }\r\n\r\n            for (Double amount : userSpendingMap.values()) {\r\n                totalMoneySpent += amount;\r\n            }\r\n\r\n            System.out.println(&quot;User ID\\tTotal Money Spent&quot;);\r\n            for (Map.Entry&lt;String, Double&gt; entry : userSpendingMap.entrySet()) {\r\n                System.out.println(entry.getKey() + &quot;\\t&quot; + entry.getValue());\r\n            }\r\n\r\n            System.out.println(&quot;Total money spent by all users: &quot; + totalMoneySpent);\r\n\r\n        } catch (IOException | InterruptedException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n    private static void processTransaction(Row row, Map&lt;String, Double&gt; userSpendingMap) {\r\n        Cell userIdCell = row.getCell(1);\r\n        Cell sharePriceCell = row.getCell(2);\r\n        Cell shareBoughtCell = row.getCell(3);\r\n\r\n        if (userIdCell != null &amp;&amp; sharePriceCell != null &amp;&amp; shareBoughtCell != null) {\r\n            String userId = userIdCell.getStringCellValue();\r\n            double sharePrice = sharePriceCell.getNumericCellValue();\r\n            int shareBought = (int) shareBoughtCell.getNumericCellValue();\r\n\r\n            double transactionAmount = sharePrice * shareBought;\r\n\r\n            synchronized (userSpendingMap) {\r\n                userSpendingMap.put(userId, userSpendingMap.getOrDefault(userId, 0.0) + transactionAmount);\r\n            }\r\n        }\r\n    }\r\n}\r\n```","title":"Issues with .xlxs file using Apache POI","body":"<p>I'm having issues with &quot;Cannot get a NUMERIC value from a STRING cell&quot;. Sorry for the bad explanation, I am a new student to CS. I have just learned to include Apache POI into the IntelliJ project and finally understanding how to put in the file directory. I still am having issues with the entirety of Apache POI in a whole.</p>\n<pre><code>import java.io.FileInputStream;\nimport org.apache.poi.ss.usermodel.Cell;\nimport org.apache.poi.ss.usermodel.Row;\nimport org.apache.poi.xssf.usermodel.XSSFWorkbook;\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.util.HashMap;\nimport java.util.Map;\nimport java.util.concurrent.ExecutorService;\nimport java.util.concurrent.Executors;\nimport org.apache.poi.ss.usermodel.*;\n\npublic class DataSetTest {\n    private static final String EXCEL_FILE_PATH = &quot;C:/Users/assignment/src/dataset.xlsx&quot;;\n    private static final int NUM_THREADS = 4;\n\n    public static void main(String[] args) {\n        ExecutorService executorService = Executors.newFixedThreadPool(NUM_THREADS);\n\n        Map&lt;String, Double&gt; userSpendingMap = new HashMap&lt;&gt;();\n        double totalMoneySpent = 0.0;\n\n        try (InputStream fis = new FileInputStream(EXCEL_FILE_PATH);\n             Workbook workbook = new XSSFWorkbook(fis)) {\n\n            Sheet sheet = workbook.getSheetAt(0);\n\n            for (Row row : sheet) {\n                executorService.execute(() -&gt; processTransaction(row, userSpendingMap));\n            }\n\n            executorService.shutdown();\n\n            while (!executorService.isTerminated()) {\n                Thread.sleep(100); // Sleep for a short interval to avoid busy waiting\n            }\n\n            for (Double amount : userSpendingMap.values()) {\n                totalMoneySpent += amount;\n            }\n\n            System.out.println(&quot;User ID\\tTotal Money Spent&quot;);\n            for (Map.Entry&lt;String, Double&gt; entry : userSpendingMap.entrySet()) {\n                System.out.println(entry.getKey() + &quot;\\t&quot; + entry.getValue());\n            }\n\n            System.out.println(&quot;Total money spent by all users: &quot; + totalMoneySpent);\n\n        } catch (IOException | InterruptedException e) {\n            e.printStackTrace();\n        }\n    }\n\n    private static void processTransaction(Row row, Map&lt;String, Double&gt; userSpendingMap) {\n        Cell userIdCell = row.getCell(1);\n        Cell sharePriceCell = row.getCell(2);\n        Cell shareBoughtCell = row.getCell(3);\n\n        if (userIdCell != null &amp;&amp; sharePriceCell != null &amp;&amp; shareBoughtCell != null) {\n            String userId = userIdCell.getStringCellValue();\n            double sharePrice = sharePriceCell.getNumericCellValue();\n            int shareBought = (int) shareBoughtCell.getNumericCellValue();\n\n            double transactionAmount = sharePrice * shareBought;\n\n            synchronized (userSpendingMap) {\n                userSpendingMap.put(userId, userSpendingMap.getOrDefault(userId, 0.0) + transactionAmount);\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","git","maven","maven-release-plugin"],"comments":[{"owner":{"account_id":2366187,"reputation":60162,"user_id":2071828,"accept_rate":88,"display_name":"Boris the Spider"},"score":1,"creation_date":1628922061,"post_id":68780779,"comment_id":121554408,"body_markdown":"http://maven.apache.org/maven-release/maven-release-plugin/perform-mojo.html#goals","body":"<a href=\"http://maven.apache.org/maven-release/maven-release-plugin/perform-mojo.html#goals\" rel=\"nofollow noreferrer\">maven.apache.org/maven-release/maven-release-plugin/&hellip;</a>"},{"owner":{"account_id":6125530,"reputation":2720,"user_id":4777670,"accept_rate":100,"display_name":"Saif"},"score":0,"creation_date":1628922538,"post_id":68780779,"comment_id":121554483,"body_markdown":"@BoristheSpider, do I need to set the &lt;configuration.goal&gt; to something specific?","body":"@BoristheSpider, do I need to set the &lt;configuration.goal&gt; to something specific?"},{"owner":{"account_id":2366187,"reputation":60162,"user_id":2071828,"accept_rate":88,"display_name":"Boris the Spider"},"score":1,"creation_date":1628922574,"post_id":68780779,"comment_id":121554490,"body_markdown":"I’ll leave that as an exercise to the reader. Hint: what is it set to by default and what behaviour do you want to change?","body":"I’ll leave that as an exercise to the reader. Hint: what is it set to by default and what behaviour do you want to change?"},{"owner":{"account_id":6125530,"reputation":2720,"user_id":4777670,"accept_rate":100,"display_name":"Saif"},"score":1,"creation_date":1628922779,"post_id":68780779,"comment_id":121554524,"body_markdown":"@BoristheSpider From deploy to install?","body":"@BoristheSpider From deploy to install?"},{"owner":{"account_id":379763,"reputation":29886,"user_id":733345,"display_name":"Joe"},"score":0,"creation_date":1628926155,"post_id":68780779,"comment_id":121555104,"body_markdown":"Does this answer your question? [Updating version numbers of modules in a multi-module Maven project](https://stackoverflow.com/questions/5726291/updating-version-numbers-of-modules-in-a-multi-module-maven-project)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/5726291/updating-version-numbers-of-modules-in-a-multi-module-maven-project\">Updating version numbers of modules in a multi-module Maven project</a>"},{"owner":{"account_id":6125530,"reputation":2720,"user_id":4777670,"accept_rate":100,"display_name":"Saif"},"score":0,"creation_date":1629136067,"post_id":68780779,"comment_id":121602214,"body_markdown":"@Joe nope......","body":"@Joe nope......"}],"answers":[{"tags":[],"owner":{"account_id":17598442,"reputation":21,"user_id":13287589,"display_name":"Saeed"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690119676,"creation_date":1690119676,"answer_id":76748550,"question_id":68780779,"body_markdown":"remove the release:perform and only run with release:prepare , it is enough for your usecase.\r\n\r\nif you want to re-run release from the beginning at every run, add release:clean :\r\n\r\nmvn release:clean release:prepare","title":"How to only bump up the maven project version on git with maven release plugin?","body":"<p>remove the release:perform and only run with release:prepare , it is enough for your usecase.</p>\n<p>if you want to re-run release from the beginning at every run, add release:clean :</p>\n<p>mvn release:clean release:prepare</p>\n"}],"owner":{"account_id":6125530,"reputation":2720,"user_id":4777670,"accept_rate":100,"display_name":"Saif"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":488,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1690119676,"creation_date":1628921283,"question_id":68780779,"body_markdown":"I want to automatically bump up the version, such that on each release a new version is tagged on the commit and the main branch is set to the next SNAPSHOT version.\r\n\r\nThe usual release:prepare, release:perform also deploys the artifacts to a binary repository. However, I only want to bump up the version and push to git and not deploy the artifacts anywhere. I get the following error as I don&#39;t have a &lt;distributionManagement&gt; in my pom.xml (as my intention is not to deploy anywhere).\r\n\r\n```\r\nFailed to execute goal org.apache.maven.plugins:maven-deploy-plugin:2.8.2:deploy (default-deploy) on project rp-demo-app: Deployment failed: repository element was not specified in the POM inside distributionManagement element or in -DaltDeploymentRepository=id::layout::url parameter -&gt; [Help 1]\r\n```\r\n\r\nI am running `$ mvn release:prepare release:perform`","title":"How to only bump up the maven project version on git with maven release plugin?","body":"<p>I want to automatically bump up the version, such that on each release a new version is tagged on the commit and the main branch is set to the next SNAPSHOT version.</p>\n<p>The usual release:prepare, release:perform also deploys the artifacts to a binary repository. However, I only want to bump up the version and push to git and not deploy the artifacts anywhere. I get the following error as I don't have a  in my pom.xml (as my intention is not to deploy anywhere).</p>\n<pre><code>Failed to execute goal org.apache.maven.plugins:maven-deploy-plugin:2.8.2:deploy (default-deploy) on project rp-demo-app: Deployment failed: repository element was not specified in the POM inside distributionManagement element or in -DaltDeploymentRepository=id::layout::url parameter -&gt; [Help 1]\n</code></pre>\n<p>I am running <code>$ mvn release:prepare release:perform</code></p>\n"},{"tags":["java","android","memcached","exoplayer2.x"],"answers":[{"tags":[],"owner":{"account_id":14846069,"reputation":11,"user_id":10721354,"display_name":"Mohammad Karami Darabi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657084804,"creation_date":1657084366,"answer_id":72878210,"question_id":72878109,"body_markdown":"Use Builder class to create player object and set MediaSourceFactory to caching like this:\r\n\r\n                val databaseProvider = StandaloneDatabaseProvider(context)\r\n            context.getExternalFilesDir(&quot;voice/$artistId/$albumNumber&quot;)?.let {\r\n                simpleCache = SimpleCache(\r\n                    it,\r\n                    NoOpCacheEvictor(),\r\n                    databaseProvider\r\n                )\r\n                val defaultDataSourceFactory = DefaultDataSource.Factory(context)\r\n                val cacheDataSourceFactory = CacheDataSource.Factory()\r\n                    .setCache(simpleCache!!)\r\n                    .setUpstreamDataSourceFactory(defaultDataSourceFactory)\r\n                player = ExoPlayer\r\n                    .Builder(context)\r\n                    .setMediaSourceFactory(DefaultMediaSourceFactory(cacheDataSourceFactory))\r\n                    .build()\r\n            } ?: kotlin.run {\r\n                player = ExoPlayer.Builder(context).build()\r\n            }","title":"Video Cache In ExoPlayer","body":"<p>Use Builder class to create player object and set MediaSourceFactory to caching like this:</p>\n<pre><code>            val databaseProvider = StandaloneDatabaseProvider(context)\n        context.getExternalFilesDir(&quot;voice/$artistId/$albumNumber&quot;)?.let {\n            simpleCache = SimpleCache(\n                it,\n                NoOpCacheEvictor(),\n                databaseProvider\n            )\n            val defaultDataSourceFactory = DefaultDataSource.Factory(context)\n            val cacheDataSourceFactory = CacheDataSource.Factory()\n                .setCache(simpleCache!!)\n                .setUpstreamDataSourceFactory(defaultDataSourceFactory)\n            player = ExoPlayer\n                .Builder(context)\n                .setMediaSourceFactory(DefaultMediaSourceFactory(cacheDataSourceFactory))\n                .build()\n        } ?: kotlin.run {\n            player = ExoPlayer.Builder(context).build()\n        }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7864640,"reputation":2014,"user_id":10109704,"display_name":"Hadi Ahmadi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690118399,"creation_date":1690118399,"answer_id":76748455,"question_id":72878109,"body_markdown":"    const val CACHE_DIR_NAME = &quot;cached_audio&quot;\r\n    const val MAX_CACHE_SIZE = 256 * 1024 * 1024L//256MB\r\n    \r\n    class MediaCache private constructor(context: Context) {\r\n    \r\n        val cacheFactory: CacheDataSource.Factory\r\n    \r\n        init {\r\n            cacheFactory = setupExoPlayerCache(context)\r\n        }\r\n    \r\n        companion object {\r\n            @Volatile\r\n            private lateinit var instance: MediaCache\r\n    \r\n            fun getInstance(context: Context): MediaCache {\r\n                synchronized(this) {\r\n                    if (!::instance.isInitialized) {\r\n                        instance = MediaCache(context)\r\n                    }\r\n                    return instance\r\n                }\r\n            }\r\n        }\r\n    \r\n        @SuppressLint(&quot;UnsafeOptInUsageError&quot;)\r\n        private fun setupExoPlayerCache(context: Context): CacheDataSource.Factory {\r\n            val cacheEvictor = LeastRecentlyUsedCacheEvictor(MAX_CACHE_SIZE)\r\n            val databaseProvider = StandaloneDatabaseProvider(context)\r\n            val cache = SimpleCache(\r\n                File(context.cacheDir, CACHE_DIR_NAME),\r\n                cacheEvictor, databaseProvider\r\n            )\r\n            val upstreamFactory = DefaultDataSource.Factory(context)\r\n            return CacheDataSource.Factory().apply {\r\n                setCache(cache)\r\n                setUpstreamDataSourceFactory(upstreamFactory)\r\n                setFlags(CacheDataSource.FLAG_IGNORE_CACHE_ON_ERROR)\r\n            }\r\n        }\r\n    }\r\n\r\nand then everywhere you pass media source to exoplayer:\r\n\r\n                val mediaItem = MediaItem.fromUri(uri)\r\n    \r\n                val mediaSourceFactory =\r\n                    ProgressiveMediaSource.Factory(MediaCache.getInstance(this@PlaybackService).cacheFactory)\r\n                val mediaSource = mediaSourceFactory.createMediaSource(mediaItem)\r\n    \r\n                player.setMediaSource(mediaSource, true)","title":"Video Cache In ExoPlayer","body":"<pre><code>const val CACHE_DIR_NAME = &quot;cached_audio&quot;\nconst val MAX_CACHE_SIZE = 256 * 1024 * 1024L//256MB\n\nclass MediaCache private constructor(context: Context) {\n\n    val cacheFactory: CacheDataSource.Factory\n\n    init {\n        cacheFactory = setupExoPlayerCache(context)\n    }\n\n    companion object {\n        @Volatile\n        private lateinit var instance: MediaCache\n\n        fun getInstance(context: Context): MediaCache {\n            synchronized(this) {\n                if (!::instance.isInitialized) {\n                    instance = MediaCache(context)\n                }\n                return instance\n            }\n        }\n    }\n\n    @SuppressLint(&quot;UnsafeOptInUsageError&quot;)\n    private fun setupExoPlayerCache(context: Context): CacheDataSource.Factory {\n        val cacheEvictor = LeastRecentlyUsedCacheEvictor(MAX_CACHE_SIZE)\n        val databaseProvider = StandaloneDatabaseProvider(context)\n        val cache = SimpleCache(\n            File(context.cacheDir, CACHE_DIR_NAME),\n            cacheEvictor, databaseProvider\n        )\n        val upstreamFactory = DefaultDataSource.Factory(context)\n        return CacheDataSource.Factory().apply {\n            setCache(cache)\n            setUpstreamDataSourceFactory(upstreamFactory)\n            setFlags(CacheDataSource.FLAG_IGNORE_CACHE_ON_ERROR)\n        }\n    }\n}\n</code></pre>\n<p>and then everywhere you pass media source to exoplayer:</p>\n<pre><code>            val mediaItem = MediaItem.fromUri(uri)\n\n            val mediaSourceFactory =\n                ProgressiveMediaSource.Factory(MediaCache.getInstance(this@PlaybackService).cacheFactory)\n            val mediaSource = mediaSourceFactory.createMediaSource(mediaItem)\n\n            player.setMediaSource(mediaSource, true)\n</code></pre>\n"}],"owner":{"account_id":18702916,"reputation":389,"user_id":13634739,"display_name":"StackOverflower"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1732,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1690118399,"creation_date":1657083291,"question_id":72878109,"body_markdown":"I have searched for cache in/of `ExoPlayer` but i neither understoond them nor could implement them correctly.\r\n\r\n[In this asked question][1] for ***using cache in Exoplayer*** there are some answers with sample code. [The first answer][2] that i&#39;m not able to implement it is in part two of sample code which said to use the class `DefaultHttpDataSourceFactory` that i suppose it was changed with the class `DefaultHttpDataSource.Factory()` that does not seem much of a problem but the main problem i faced was this line of code\r\n\r\n    BandwidthMeter bandwidthMeter = new DefaultBandwidthMeter();\r\n    TrackSelection.Factory videoTrackSelectionFactory =\r\n        new AdaptiveTrackSelection.Factory(bandwidthMeter);\r\n    TrackSelector trackSelector = new DefaultTrackSelector(videoTrackSelectionFactory);\r\n\r\n    SimpleExoPlayer exoPlayer = ExoPlayerFactory.newSimpleInstance(this, trackSelector);\r\n    MediaSource audioSource = new ExtractorMediaSource(Uri.parse(url),\r\n            new CacheDataSourceFactory(context, 100 * 1024 * 1024, 5 * 1024 * 1024), new DefaultExtractorsFactory(), null, null);\r\n    exoPlayer.setPlayWhenReady(true); \r\n    exoPlayer.prepare(audioSource);\r\n\r\nthat says use class `ExtractorMediaSource` which there is not calss by this name, i even did not find in `depricated` classes of exoplayer document. Almost evetything has changed in exoplayer in version `2.18.0`. For instance, the part that we should set `MediaSource` for exoplayer now it is sepreated into two parts:\r\n\r\n    final DataSource.Factory dataSourceFactory = new DefaultDataSourceFactory(context, &quot;agent name&quot;); //part one\r\n    final ProgressiveMediaSource.Factory mediaSourceFactory = new ProgressiveMediaSource.Factory(dataSourceFactory); //part two\r\nI hope you have seen the differences and my problem with this solution\r\n\r\nAnd now next solution and its problem: [This dear friend][3] suggest to use [This Library][4] which sound good and some how solved my problem but what this dependency `compile &#39;com.danikula:videocache:2.7.1&#39;` actually does is to download the video and save it in app folder. since android `Pie(9)` and new privacy plicy of google and android phone producers, they do not allow to access app folder.\r\n\r\nAnd the same issue with other solutions that are in Kotlin, the classes in exoplayer are missing.\r\n\r\n**What i want:**\r\nI want to use cache in exoplayer2(or cache of exoplayer2) like `Glide` that save image in app cache i want to implement similar functionality for my exoplayer2, i have searched almost everywhere.\r\n\r\n***Note:***\r\nI use these dependecies of `ExoPlayer`:\r\n\r\n    implementation &#39;com.google.android.exoplayer:exoplayer-core:2.18.0&#39;\r\n    implementation &#39;com.google.android.exoplayer:exoplayer-dash:2.18.0&#39;\r\n    implementation &#39;com.google.android.exoplayer:exoplayer-ui:2.18.0&#39;\r\n    implementation &#39;com.google.android.exoplayer:exoplayer:2.18.0&#39;\r\n\r\nI am finished with my app just need to figure out this part of it.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/28700391/using-cache-in-exoplayer\r\n  [2]: https://stackoverflow.com/a/45488510/13634739\r\n  [3]: https://stackoverflow.com/a/58678208/13634739\r\n  [4]: https://github.com/danikula/AndroidVideoCache","title":"Video Cache In ExoPlayer","body":"<p>I have searched for cache in/of <code>ExoPlayer</code> but i neither understoond them nor could implement them correctly.</p>\n<p><a href=\"https://stackoverflow.com/questions/28700391/using-cache-in-exoplayer\">In this asked question</a> for <em><strong>using cache in Exoplayer</strong></em> there are some answers with sample code. <a href=\"https://stackoverflow.com/a/45488510/13634739\">The first answer</a> that i'm not able to implement it is in part two of sample code which said to use the class <code>DefaultHttpDataSourceFactory</code> that i suppose it was changed with the class <code>DefaultHttpDataSource.Factory()</code> that does not seem much of a problem but the main problem i faced was this line of code</p>\n<pre><code>BandwidthMeter bandwidthMeter = new DefaultBandwidthMeter();\nTrackSelection.Factory videoTrackSelectionFactory =\n    new AdaptiveTrackSelection.Factory(bandwidthMeter);\nTrackSelector trackSelector = new DefaultTrackSelector(videoTrackSelectionFactory);\n\nSimpleExoPlayer exoPlayer = ExoPlayerFactory.newSimpleInstance(this, trackSelector);\nMediaSource audioSource = new ExtractorMediaSource(Uri.parse(url),\n        new CacheDataSourceFactory(context, 100 * 1024 * 1024, 5 * 1024 * 1024), new DefaultExtractorsFactory(), null, null);\nexoPlayer.setPlayWhenReady(true); \nexoPlayer.prepare(audioSource);\n</code></pre>\n<p>that says use class <code>ExtractorMediaSource</code> which there is not calss by this name, i even did not find in <code>depricated</code> classes of exoplayer document. Almost evetything has changed in exoplayer in version <code>2.18.0</code>. For instance, the part that we should set <code>MediaSource</code> for exoplayer now it is sepreated into two parts:</p>\n<pre><code>final DataSource.Factory dataSourceFactory = new DefaultDataSourceFactory(context, &quot;agent name&quot;); //part one\nfinal ProgressiveMediaSource.Factory mediaSourceFactory = new ProgressiveMediaSource.Factory(dataSourceFactory); //part two\n</code></pre>\n<p>I hope you have seen the differences and my problem with this solution</p>\n<p>And now next solution and its problem: <a href=\"https://stackoverflow.com/a/58678208/13634739\">This dear friend</a> suggest to use <a href=\"https://github.com/danikula/AndroidVideoCache\" rel=\"nofollow noreferrer\">This Library</a> which sound good and some how solved my problem but what this dependency <code>compile 'com.danikula:videocache:2.7.1'</code> actually does is to download the video and save it in app folder. since android <code>Pie(9)</code> and new privacy plicy of google and android phone producers, they do not allow to access app folder.</p>\n<p>And the same issue with other solutions that are in Kotlin, the classes in exoplayer are missing.</p>\n<p><strong>What i want:</strong>\nI want to use cache in exoplayer2(or cache of exoplayer2) like <code>Glide</code> that save image in app cache i want to implement similar functionality for my exoplayer2, i have searched almost everywhere.</p>\n<p><em><strong>Note:</strong></em>\nI use these dependecies of <code>ExoPlayer</code>:</p>\n<pre><code>implementation 'com.google.android.exoplayer:exoplayer-core:2.18.0'\nimplementation 'com.google.android.exoplayer:exoplayer-dash:2.18.0'\nimplementation 'com.google.android.exoplayer:exoplayer-ui:2.18.0'\nimplementation 'com.google.android.exoplayer:exoplayer:2.18.0'\n</code></pre>\n<p>I am finished with my app just need to figure out this part of it.</p>\n"},{"tags":["java","json","spring-mvc","properties","mapstruct"],"answers":[{"comments":[{"owner":{"account_id":18044315,"reputation":1227,"user_id":13115701,"display_name":"Paul Marcelin Bejan"},"score":0,"creation_date":1594718826,"post_id":62878516,"comment_id":111216594,"body_markdown":"@ApiModelProperty(hidden = true) will remove them (the two lists sosPast and sosPresentFuture) also from the in the research :(                                                                     I Only need to remove them from the insert.","body":"@ApiModelProperty(hidden = true) will remove them (the two lists sosPast and sosPresentFuture) also from the in the research :(                                                                     I Only need to remove them from the insert."},{"owner":{"account_id":7812117,"reputation":2519,"user_id":5908014,"display_name":"tpschmidt"},"score":3,"creation_date":1594719030,"post_id":62878516,"comment_id":111216703,"body_markdown":"You should split your DTOs then. One for the incoming request and one for the outgoing response. It&#39;s also good regarding separation of concerns :)","body":"You should split your DTOs then. One for the incoming request and one for the outgoing response. It&#39;s also good regarding separation of concerns :)"}],"tags":[],"owner":{"account_id":7812117,"reputation":2519,"user_id":5908014,"display_name":"tpschmidt"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1594652133,"creation_date":1594652133,"answer_id":62878516,"question_id":62878259,"body_markdown":"1. If you want to hide something from Swagger you can use `@ApiModelProperty(hidden = true)`.\r\n2. If you want to completely remove the field from being serialized by jackson you can do `@JsonIgnore` on your response DTO.\r\n\r\nDoes this help?","title":"How to hide a JsonProperty in the DTO?","body":"<ol>\n<li>If you want to hide something from Swagger you can use <code>@ApiModelProperty(hidden = true)</code>.</li>\n<li>If you want to completely remove the field from being serialized by jackson you can do <code>@JsonIgnore</code> on your response DTO.</li>\n</ol>\n<p>Does this help?</p>\n"},{"tags":[],"owner":{"account_id":18044315,"reputation":1227,"user_id":13115701,"display_name":"Paul Marcelin Bejan"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1690118142,"creation_date":1594976399,"answer_id":62950634,"question_id":62878259,"body_markdown":"The best solution, as mentioned by @tpschmidt, is to split the DTOs.\r\n\r\nBut if you still want to use the same DTO, you can solve the problem by adding @ReadOnlyProperty and @ApiModelProperty(hidden = true):\r\n\r\n    @JsonProperty(&quot;sosPast&quot;)\r\n    @ReadOnlyProperty\r\n    @ApiModelProperty(hidden = true)\r\n    private List&lt;aDTO&gt; sosPast;\r\n    \r\n    @JsonProperty(&quot;sosPresentFuture&quot;)\r\n    @ReadOnlyProperty\r\n    @ApiModelProperty(hidden = true)\r\n    private List &lt;aDTO&gt; sosPresentFuture;\r\n\r\nNote that in newer version of swagger-annotations @ApiModelProperty is replaced by @Schema","title":"How to hide a JsonProperty in the DTO?","body":"<p>The best solution, as mentioned by @tpschmidt, is to split the DTOs.</p>\n<p>But if you still want to use the same DTO, you can solve the problem by adding @ReadOnlyProperty and @ApiModelProperty(hidden = true):</p>\n<pre><code>@JsonProperty(&quot;sosPast&quot;)\n@ReadOnlyProperty\n@ApiModelProperty(hidden = true)\nprivate List&lt;aDTO&gt; sosPast;\n\n@JsonProperty(&quot;sosPresentFuture&quot;)\n@ReadOnlyProperty\n@ApiModelProperty(hidden = true)\nprivate List &lt;aDTO&gt; sosPresentFuture;\n</code></pre>\n<p>Note that in newer version of swagger-annotations @ApiModelProperty is replaced by @Schema</p>\n"}],"owner":{"account_id":18044315,"reputation":1227,"user_id":13115701,"display_name":"Paul Marcelin Bejan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3906,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":62950634,"answer_count":2,"score":2,"last_activity_date":1690118142,"creation_date":1594651256,"question_id":62878259,"body_markdown":"I am using a DTO for both the insertion of an object and for the search that returns the data.\r\n\r\nin particular, I was interested to understand if there is a way to hide some fields:\r\n\r\n        private List &lt;aDTO&gt; sos;\r\n\r\n        private List &lt;aDTO&gt; sosPast;\r\n    \r\n        private List &lt;aDTO&gt; sosPresentFuture;\r\n\r\nsos is used in writing to insert a list of objects.\r\nin the research, I need two separate elements, one that returns the past objects, one that returns the present and/or future objects.\r\n\r\nso in insertion, I will have to show only\r\n\r\n        private List &lt;aDTO&gt; sos;\r\n\r\nin the research, I will have to show only\r\n\r\n        private List &lt;aDTO&gt; sosPast;\r\n        private List &lt;aDTO&gt; sosPresentFuture;\r\n\r\n(In research the problem was solved by \r\n\r\n        @Mapping(target = &quot;sos&quot;, ignore = true)\r\n\r\nin the mapper)\r\n\r\nNow I need something to hide the two lists (sosPast and sosPresentFuture) in order to leave only the sos list.","title":"How to hide a JsonProperty in the DTO?","body":"<p>I am using a DTO for both the insertion of an object and for the search that returns the data.</p>\n<p>in particular, I was interested to understand if there is a way to hide some fields:</p>\n<pre><code>    private List &lt;aDTO&gt; sos;\n\n    private List &lt;aDTO&gt; sosPast;\n\n    private List &lt;aDTO&gt; sosPresentFuture;\n</code></pre>\n<p>sos is used in writing to insert a list of objects.\nin the research, I need two separate elements, one that returns the past objects, one that returns the present and/or future objects.</p>\n<p>so in insertion, I will have to show only</p>\n<pre><code>    private List &lt;aDTO&gt; sos;\n</code></pre>\n<p>in the research, I will have to show only</p>\n<pre><code>    private List &lt;aDTO&gt; sosPast;\n    private List &lt;aDTO&gt; sosPresentFuture;\n</code></pre>\n<p>(In research the problem was solved by</p>\n<pre><code>    @Mapping(target = &quot;sos&quot;, ignore = true)\n</code></pre>\n<p>in the mapper)</p>\n<p>Now I need something to hide the two lists (sosPast and sosPresentFuture) in order to leave only the sos list.</p>\n"},{"tags":["java","android","android-edittext","text-processing","text-extraction"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1688913039,"post_id":76647316,"comment_id":135135153,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"owner":{"account_id":27959544,"reputation":21,"user_id":21351661,"display_name":"fkybrd"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690116380,"creation_date":1688903447,"question_id":76647316,"body_markdown":"I&#39;m looking for customizable shortcut text in Android Java. I tried this:\r\n\r\n```\r\n@Override\r\npublic void onCreate(Bundle savedInstanceState) {\r\n    String strxd = &quot;Hello World XD&quot;;\r\n    int xdindex = strxd.indexOf(&quot;XD&quot;);\r\n    EditText et = new EditText(IssueActivity.this);\r\n    SpannableString ss = new SpannableString(strxd);\r\n    ss.setSpan(\r\n        new ImageSpan(\r\n            IssueActivity.this,\r\n            R.drawable.xd_emoji,\r\n            DynamicDrawableSpan.ALIGN_BASELINE\r\n            ),\r\n        xdindex,\r\n        xdindex + 2,\r\n        0\r\n        );\r\n    et.setText(ss);\r\n    setContentView(et);\r\n    }\r\n```\r\n\r\nor like this:\r\n\r\n```\r\n@Override\r\npublic void onCreate(Bundle savedInstanceState) {\r\n    RelativeLayout rl = new RelativeLayout(IssueActivity.this);\r\n    rl.setLayoutParams(\r\n        new ViewGroup.LayoutParams(\r\n            ViewGroup.LayoutParams.MATCH_PARENT,\r\n            ViewGroup.LayoutParams.MATCH_PARENT\r\n            )\r\n        );\r\n    EditText publicEditor = new EditText(IssueActivity.this);\r\n    publicEditor.setLayoutParams(\r\n        new ViewGroup.LayoutParams(\r\n            ViewGroup.LayoutParams.MATCH_PARENT,\r\n            ViewGroup.LayoutParams.MATCH_PARENT\r\n            )\r\n        );\r\n    publicEditor.setBackgroundColor(Color.TRANSPARENT);\r\n    EditText hintEditor = new EditText(IssueActivity.this);\r\n    hintEditor.setLayoutParams(\r\n        new ViewGroup.LayoutParams(\r\n            ViewGroup.LayoutParams.MATCH_PARENT,\r\n            ViewGroup.LayoutParams.MATCH_PARENT\r\n            )\r\n        );\r\n    hintEditor.setBackgroundColor(Color.TRANSPARENT); \r\n    hintEditor.setTextColor(Color.GRAY);\r\n    String publicText = &quot;Hello World&quot;;\r\n    ArrayList&lt;Integer&gt; spaceIndexes = new ArrayList&lt;Integer&gt;();\r\n    int nextIndex = 0;\r\n    int tmpIndex = 0;\r\n    while (nextIndex != -1) {\r\n        tmpIndex =  publicText.substring(nextIndex).indexOf(&quot; &quot;);\r\n        if (tmpIndex == -1) {\r\n            nextIndex = -1;\r\n            }\r\n        else {\r\n            nextIndex += tmpIndex;\r\n            spaceIndexes.add(nextIndex);\r\n            nextIndex++;\r\n            }\r\n        }\r\n    String hintText = &quot;&quot;;\r\n    int loop = spaceIndexes.size();\r\n    int j = 0;\r\n    int k = 0;\r\n    for (int i = 0; i &lt; loop; i++) {\r\n        k = i == 0 ? spaceIndexes.get(i) : (spaceIndexes.get(i) - spaceIndexes.get(i - 1) - 1);\r\n        for (j = 0; j &lt; k; j++) {\r\n            hintText += &quot; &quot;;\r\n            }\r\n        hintText += &quot;•&quot;;\r\n        }\r\n    publicEditor.setText(publicText);\r\n    hintEditor.setText(hintText);\r\n    rl.addView(hintEditor);\r\n    rl.addView(publicEditor);\r\n    setContentView(rl);\r\n    }\r\n```\r\n\r\nThere is a problem here. Everything is working successful but can this reference of shortened text be to typeface graphics, layout widgets or like `ReplacementSpan` objects as shortcut and acceptable?\r\n\r\nOr in alternative code, spanned text printed on two `EditText`. The method will be bottleneck for long texts. If I call `Editable` object of `publicEditor` with `getText()`, code not returned masked text object. Is this job possible with one `EditText`.\r\n\r\nShortened text issue","title":"Easy way shortened text in EditText","body":"<p>I'm looking for customizable shortcut text in Android Java. I tried this:</p>\n<pre><code>@Override\npublic void onCreate(Bundle savedInstanceState) {\n    String strxd = &quot;Hello World XD&quot;;\n    int xdindex = strxd.indexOf(&quot;XD&quot;);\n    EditText et = new EditText(IssueActivity.this);\n    SpannableString ss = new SpannableString(strxd);\n    ss.setSpan(\n        new ImageSpan(\n            IssueActivity.this,\n            R.drawable.xd_emoji,\n            DynamicDrawableSpan.ALIGN_BASELINE\n            ),\n        xdindex,\n        xdindex + 2,\n        0\n        );\n    et.setText(ss);\n    setContentView(et);\n    }\n</code></pre>\n<p>or like this:</p>\n<pre><code>@Override\npublic void onCreate(Bundle savedInstanceState) {\n    RelativeLayout rl = new RelativeLayout(IssueActivity.this);\n    rl.setLayoutParams(\n        new ViewGroup.LayoutParams(\n            ViewGroup.LayoutParams.MATCH_PARENT,\n            ViewGroup.LayoutParams.MATCH_PARENT\n            )\n        );\n    EditText publicEditor = new EditText(IssueActivity.this);\n    publicEditor.setLayoutParams(\n        new ViewGroup.LayoutParams(\n            ViewGroup.LayoutParams.MATCH_PARENT,\n            ViewGroup.LayoutParams.MATCH_PARENT\n            )\n        );\n    publicEditor.setBackgroundColor(Color.TRANSPARENT);\n    EditText hintEditor = new EditText(IssueActivity.this);\n    hintEditor.setLayoutParams(\n        new ViewGroup.LayoutParams(\n            ViewGroup.LayoutParams.MATCH_PARENT,\n            ViewGroup.LayoutParams.MATCH_PARENT\n            )\n        );\n    hintEditor.setBackgroundColor(Color.TRANSPARENT); \n    hintEditor.setTextColor(Color.GRAY);\n    String publicText = &quot;Hello World&quot;;\n    ArrayList&lt;Integer&gt; spaceIndexes = new ArrayList&lt;Integer&gt;();\n    int nextIndex = 0;\n    int tmpIndex = 0;\n    while (nextIndex != -1) {\n        tmpIndex =  publicText.substring(nextIndex).indexOf(&quot; &quot;);\n        if (tmpIndex == -1) {\n            nextIndex = -1;\n            }\n        else {\n            nextIndex += tmpIndex;\n            spaceIndexes.add(nextIndex);\n            nextIndex++;\n            }\n        }\n    String hintText = &quot;&quot;;\n    int loop = spaceIndexes.size();\n    int j = 0;\n    int k = 0;\n    for (int i = 0; i &lt; loop; i++) {\n        k = i == 0 ? spaceIndexes.get(i) : (spaceIndexes.get(i) - spaceIndexes.get(i - 1) - 1);\n        for (j = 0; j &lt; k; j++) {\n            hintText += &quot; &quot;;\n            }\n        hintText += &quot;•&quot;;\n        }\n    publicEditor.setText(publicText);\n    hintEditor.setText(hintText);\n    rl.addView(hintEditor);\n    rl.addView(publicEditor);\n    setContentView(rl);\n    }\n</code></pre>\n<p>There is a problem here. Everything is working successful but can this reference of shortened text be to typeface graphics, layout widgets or like <code>ReplacementSpan</code> objects as shortcut and acceptable?</p>\n<p>Or in alternative code, spanned text printed on two <code>EditText</code>. The method will be bottleneck for long texts. If I call <code>Editable</code> object of <code>publicEditor</code> with <code>getText()</code>, code not returned masked text object. Is this job possible with one <code>EditText</code>.</p>\n<p>Shortened text issue</p>\n"},{"tags":["java","spring","spring-boot","hibernate","jpa"],"comments":[{"owner":{"account_id":7292020,"reputation":868,"user_id":5558106,"display_name":"Serg Vasylchak"},"score":0,"creation_date":1619015242,"post_id":67197737,"comment_id":118777837,"body_markdown":"I assume your `spring.jpa.open-in-view` configuration property is set to false? I also wonder if the relation  is loaded successfully in the response, or if it also fails?","body":"I assume your <code>spring.jpa.open-in-view</code> configuration property is set to false? I also wonder if the relation  is loaded successfully in the response, or if it also fails?"},{"owner":{"account_id":1100252,"reputation":10087,"user_id":1092818,"display_name":"crizzis"},"score":0,"creation_date":1619018928,"post_id":67197737,"comment_id":118779608,"body_markdown":"Does this answer your question? [How to fix org.hibernate.LazyInitializationException - could not initialize proxy - no Session](https://stackoverflow.com/questions/21574236/how-to-fix-org-hibernate-lazyinitializationexception-could-not-initialize-prox)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/21574236/how-to-fix-org-hibernate-lazyinitializationexception-could-not-initialize-prox\">How to fix org.hibernate.LazyInitializationException - could not initialize proxy - no Session</a>"}],"answers":[{"comments":[{"owner":{"account_id":13822754,"reputation":392,"user_id":9977815,"display_name":"mnagdev"},"score":1,"creation_date":1673341077,"post_id":67203798,"comment_id":132471222,"body_markdown":"The @Transactional is from org.springframework.transaction.annotation.Transactional;","body":"The @Transactional is from org.springframework.transaction.annotation.Transactional;"},{"owner":{"account_id":8651915,"reputation":188,"user_id":6477292,"accept_rate":67,"display_name":"fudge"},"score":0,"creation_date":1676672506,"post_id":67203798,"comment_id":133191804,"body_markdown":"@mnagdev thank you, I had to search way to long to get this clarification. there is a jakarta one with the same annotation name and I wasn&#39;t sure.","body":"@mnagdev thank you, I had to search way to long to get this clarification. there is a jakarta one with the same annotation name and I wasn&#39;t sure."}],"tags":[],"owner":{"account_id":5892758,"reputation":291,"user_id":4638830,"display_name":"Andres Herrero"},"comment_count":2,"down_vote_count":0,"up_vote_count":25,"is_accepted":false,"score":25,"last_activity_date":1619040996,"creation_date":1619040996,"answer_id":67203798,"question_id":67197737,"body_markdown":"You are trying to use lazy data after closing a transaction, and yes, one of the ways is usage EAGER.\r\nAnother way - usage @Transactional on a method that using this data.","title":"Spring boot Unable to evaluate the expression Method threw &#39;org.hibernate.LazyInitializationException&#39; exception. using getter, ManyToMany relation","body":"<p>You are trying to use lazy data after closing a transaction, and yes, one of the ways is usage EAGER.\nAnother way - usage @Transactional on a method that using this data.</p>\n"},{"tags":[],"owner":{"account_id":17737955,"reputation":1051,"user_id":12878982,"display_name":"CodingBee"},"comment_count":0,"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1640166017,"creation_date":1640166017,"answer_id":70447006,"question_id":67197737,"body_markdown":"I was getting this error: \r\n&gt; Method threw &#39;org.hibernate.LazyInitializationException&#39; exception. \r\n\r\nThis is because currently there is no session present. Hibernate opens a session and closes it, but for &quot;lazy = true&quot; or &quot;fetch = FetchType.LAZY&quot; such fields are populated by proxies. When you try to find the value for such a field, it will attempt to go to the database using the active session to retrieve the data. If no such session can be found, you get this exception.\r\n \r\nYou can fix it using &quot;lazy=false&quot; or check whether you have used @Transcational properly (try to use this in your service layer than your data access layer), you can also use\r\n\r\n\r\n&gt; @Transactional(propagation = Propagation.REQUIRED, rollbackFor = Exception.class)\r\n\r\nOR\r\n\r\n&gt; @Transactional","title":"Spring boot Unable to evaluate the expression Method threw &#39;org.hibernate.LazyInitializationException&#39; exception. using getter, ManyToMany relation","body":"<p>I was getting this error:</p>\n<blockquote>\n<p>Method threw 'org.hibernate.LazyInitializationException' exception.</p>\n</blockquote>\n<p>This is because currently there is no session present. Hibernate opens a session and closes it, but for &quot;lazy = true&quot; or &quot;fetch = FetchType.LAZY&quot; such fields are populated by proxies. When you try to find the value for such a field, it will attempt to go to the database using the active session to retrieve the data. If no such session can be found, you get this exception.</p>\n<p>You can fix it using &quot;lazy=false&quot; or check whether you have used @Transcational properly (try to use this in your service layer than your data access layer), you can also use</p>\n<blockquote>\n<p>@Transactional(propagation = Propagation.REQUIRED, rollbackFor = Exception.class)</p>\n</blockquote>\n<p>OR</p>\n<blockquote>\n<p>@Transactional</p>\n</blockquote>\n"}],"owner":{"account_id":21352087,"reputation":151,"user_id":15721496,"display_name":"Skysenzz"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":36631,"favorite_count":0,"down_vote_count":0,"up_vote_count":15,"answer_count":2,"score":15,"last_activity_date":1690115582,"creation_date":1619014751,"question_id":67197737,"body_markdown":"I&#39;ve got two classes **Participant** and **TimeWindow**.\r\nMultiple participants can register for multiple TimeWindow, hence the ManyToMany relation\r\n```java\r\n@Entity\r\n@Table\r\npublic class Participant {\r\n    @Id\r\n    @SequenceGenerator(\r\n            name = &quot;participant_sequence&quot;,\r\n            sequenceName = &quot;particant_sequence&quot;,\r\n            allocationSize = 1\r\n    )\r\n    @GeneratedValue(\r\n            strategy = GenerationType.SEQUENCE,\r\n            generator = &quot;participant_sequence&quot;\r\n    )\r\n    private Long id;\r\n    private String name;\r\n    private String number;\r\n    private String details;\r\n\r\n    @ManyToMany(fetch = FetchType.LAZY)\r\n    @JoinTable(name = &quot;ParticipantCreneaux&quot;)\r\n    private Collection&lt;TimeWindow&gt; registeredTimeWindow;\r\n\r\n\r\n    public Participant() {\r\n\r\n    }\r\n    public Participant(String nom, String num, String details) {\r\n        this.name = nom;\r\n        this.number = num;\r\n        this.details = details;\r\n        this.registeredTimeWindow = new ArrayList&lt;&gt;();\r\n    }\r\n    public void addTimeWindow(TimeWindow c){\r\n        registeredTimeWindow.add(c);\r\n    }\r\n    public void removeTimeWindow(TimeWindow c){\r\n        registeredTimeWindow.remove(c);\r\n    }\r\n\r\n    public String getName() {\r\n        return name;\r\n    }\r\n\r\n    public void setName(String name) {\r\n        this.name = name;\r\n    }\r\n\r\n    public String getNumber() {\r\n        return number;\r\n    }\r\n\r\n    public void setNumber(String number) {\r\n        this.number = number;\r\n    }\r\n\r\n    public String getDetails() {\r\n        return details;\r\n    }\r\n\r\n    public void setDetails(String details) {\r\n        this.details = details;\r\n    }\r\n\r\n    public void setId(Long id) {\r\n        this.id = id;\r\n    }\r\n\r\n    public Long getId() {\r\n        return id;\r\n    }\r\n\r\n    public Collection&lt;TimeWindow&gt; getRegisteredTimeWindow() {\r\n        return registeredTimeWindow;\r\n    }\r\n}\r\n```\r\n\r\nAnd the TimeWindow class:\r\n```java\r\n@Entity\r\n@Table\r\npublic class TimeWindow {\r\n    @Id\r\n    @SequenceGenerator(\r\n            name = &quot;creneau_sequence&quot;,\r\n            sequenceName = &quot;creneau_sequence&quot;,\r\n            allocationSize = 1\r\n    )\r\n    @GeneratedValue(\r\n            strategy = GenerationType.SEQUENCE,\r\n            generator = &quot;creneau_sequence&quot;\r\n    )\r\n    private Long id;\r\n    private LocalTime hourStart;\r\n    private LocalTime hourEnd;\r\n\r\n    public Collection&lt;Participant&gt; getListParticipants() {\r\n        return listParticipants;\r\n    }\r\n\r\n    @ManyToMany(fetch = FetchType.LAZY,cascade=CascadeType.ALL,mappedBy = &quot;registeredTimeWindow&quot;)\r\n    private Collection&lt;Participant&gt; listParticipants;\r\n\r\n    public TimeWindow(LocalTime hourStart, LocalTime hourEnd) {\r\n        this.hourStart = hourStart;\r\n        this.hourEnd = hourEnd;\r\n        this.listParticipants = new ArrayList&lt;&gt;();\r\n    }\r\n\r\n    public TimeWindow() { }\r\n\r\n    public LocalTime getHourEnd() {\r\n        return hourEnd;\r\n    }\r\n\r\n    public void setHourStart(LocalTime hourStart) {\r\n        this.hourStart = hourStart;\r\n    }\r\n\r\n    public void setHourEnd(LocalTime hourEnd) {\r\n        this.hourEnd = hourEnd;\r\n    }\r\n\r\n    public LocalTime getHourStart() {\r\n        return hourStart;\r\n    }\r\n\r\n    public int getNbParticipants(){\r\n        return listParticipants.size();\r\n    }\r\n    public void addParticipant(Participant participant){\r\n        this.listParticipants.add(participant);\r\n    }\r\n    public void removeParticipant(Participant participant){\r\n        this.listParticipants.remove(participant);\r\n    }\r\n\r\n    public void setId(Long id) {\r\n        this.id = id;\r\n    }\r\n\r\n    public Long getId() {\r\n        return id;\r\n    }\r\n}\r\n```\r\n\r\nRight now I&#39;m still learning Spring boot, I haven&#39;t found anything about it so far or anything that helped me. \r\n\r\nThe error is when I summon my participant&#39;s TimeWindow Collection that i&#39;ve gotten through the DataBase in the Config class. In the debugger my Participant looks like this \r\n```\r\nid:123\r\nname:&quot;hisName&quot;\r\nnumber:&quot;321&quot;\r\ndetails:&quot;some details&quot;\r\nregisteredTimeWindow:{PersistentBag@10927}Unable to evaluate the expression Method threw &#39;org.hibernate.LazyInitializationException&#39; exception.\r\n```\r\nAt first i thought it was normal because of the Lazy option, i had to invoke the array through the getter, however it is wrong and the getter give me the exact same object.\r\n\r\n\r\nFetchType.EAGER works fine, however I can&#39;t afford to do it. I&#39;ve tried to get some help from someone a bit more experienced than I am, but without success. It should be possible to work around that issue within the JPA Repositories, but it feels like such a waste not to be able to use the getter.","title":"Spring boot Unable to evaluate the expression Method threw &#39;org.hibernate.LazyInitializationException&#39; exception. using getter, ManyToMany relation","body":"<p>I've got two classes <strong>Participant</strong> and <strong>TimeWindow</strong>.\nMultiple participants can register for multiple TimeWindow, hence the ManyToMany relation</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Table\npublic class Participant {\n    @Id\n    @SequenceGenerator(\n            name = &quot;participant_sequence&quot;,\n            sequenceName = &quot;particant_sequence&quot;,\n            allocationSize = 1\n    )\n    @GeneratedValue(\n            strategy = GenerationType.SEQUENCE,\n            generator = &quot;participant_sequence&quot;\n    )\n    private Long id;\n    private String name;\n    private String number;\n    private String details;\n\n    @ManyToMany(fetch = FetchType.LAZY)\n    @JoinTable(name = &quot;ParticipantCreneaux&quot;)\n    private Collection&lt;TimeWindow&gt; registeredTimeWindow;\n\n\n    public Participant() {\n\n    }\n    public Participant(String nom, String num, String details) {\n        this.name = nom;\n        this.number = num;\n        this.details = details;\n        this.registeredTimeWindow = new ArrayList&lt;&gt;();\n    }\n    public void addTimeWindow(TimeWindow c){\n        registeredTimeWindow.add(c);\n    }\n    public void removeTimeWindow(TimeWindow c){\n        registeredTimeWindow.remove(c);\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public String getNumber() {\n        return number;\n    }\n\n    public void setNumber(String number) {\n        this.number = number;\n    }\n\n    public String getDetails() {\n        return details;\n    }\n\n    public void setDetails(String details) {\n        this.details = details;\n    }\n\n    public void setId(Long id) {\n        this.id = id;\n    }\n\n    public Long getId() {\n        return id;\n    }\n\n    public Collection&lt;TimeWindow&gt; getRegisteredTimeWindow() {\n        return registeredTimeWindow;\n    }\n}\n</code></pre>\n<p>And the TimeWindow class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Table\npublic class TimeWindow {\n    @Id\n    @SequenceGenerator(\n            name = &quot;creneau_sequence&quot;,\n            sequenceName = &quot;creneau_sequence&quot;,\n            allocationSize = 1\n    )\n    @GeneratedValue(\n            strategy = GenerationType.SEQUENCE,\n            generator = &quot;creneau_sequence&quot;\n    )\n    private Long id;\n    private LocalTime hourStart;\n    private LocalTime hourEnd;\n\n    public Collection&lt;Participant&gt; getListParticipants() {\n        return listParticipants;\n    }\n\n    @ManyToMany(fetch = FetchType.LAZY,cascade=CascadeType.ALL,mappedBy = &quot;registeredTimeWindow&quot;)\n    private Collection&lt;Participant&gt; listParticipants;\n\n    public TimeWindow(LocalTime hourStart, LocalTime hourEnd) {\n        this.hourStart = hourStart;\n        this.hourEnd = hourEnd;\n        this.listParticipants = new ArrayList&lt;&gt;();\n    }\n\n    public TimeWindow() { }\n\n    public LocalTime getHourEnd() {\n        return hourEnd;\n    }\n\n    public void setHourStart(LocalTime hourStart) {\n        this.hourStart = hourStart;\n    }\n\n    public void setHourEnd(LocalTime hourEnd) {\n        this.hourEnd = hourEnd;\n    }\n\n    public LocalTime getHourStart() {\n        return hourStart;\n    }\n\n    public int getNbParticipants(){\n        return listParticipants.size();\n    }\n    public void addParticipant(Participant participant){\n        this.listParticipants.add(participant);\n    }\n    public void removeParticipant(Participant participant){\n        this.listParticipants.remove(participant);\n    }\n\n    public void setId(Long id) {\n        this.id = id;\n    }\n\n    public Long getId() {\n        return id;\n    }\n}\n</code></pre>\n<p>Right now I'm still learning Spring boot, I haven't found anything about it so far or anything that helped me.</p>\n<p>The error is when I summon my participant's TimeWindow Collection that i've gotten through the DataBase in the Config class. In the debugger my Participant looks like this</p>\n<pre><code>id:123\nname:&quot;hisName&quot;\nnumber:&quot;321&quot;\ndetails:&quot;some details&quot;\nregisteredTimeWindow:{PersistentBag@10927}Unable to evaluate the expression Method threw 'org.hibernate.LazyInitializationException' exception.\n</code></pre>\n<p>At first i thought it was normal because of the Lazy option, i had to invoke the array through the getter, however it is wrong and the getter give me the exact same object.</p>\n<p>FetchType.EAGER works fine, however I can't afford to do it. I've tried to get some help from someone a bit more experienced than I am, but without success. It should be possible to work around that issue within the JPA Repositories, but it feels like such a waste not to be able to use the getter.</p>\n"},{"tags":["java","arrays","exception","arrayindexoutofboundsexception"],"comments":[{"owner":{"account_id":74379,"reputation":14630,"user_id":213758,"accept_rate":100,"display_name":"justkt"},"score":1,"creation_date":1302019079,"post_id":5554734,"comment_id":6316063,"body_markdown":"In reference to the last question, code would be helpful.  Are you accessing the array with a known index, or do you have to start debugging to figure out how the index is calculated when the error occurs?","body":"In reference to the last question, code would be helpful.  Are you accessing the array with a known index, or do you have to start debugging to figure out how the index is calculated when the error occurs?"},{"owner":{"account_id":39267,"reputation":16578,"user_id":113158,"accept_rate":88,"display_name":"Jean Hominal"},"score":51,"creation_date":1302020051,"post_id":5554734,"comment_id":6316363,"body_markdown":"Replace `i &lt;= name.length` with `i &lt; name.length` - or better, write an enhanced for loop. (`for (String aName : name) { ... }`)","body":"Replace <code>i &lt;= name.length</code> with <code>i &lt; name.length</code> - or better, write an enhanced for loop. (<code>for (String aName : name) { ... }</code>)"},{"owner":{"account_id":2288786,"reputation":10956,"user_id":2012219,"accept_rate":83,"display_name":"hbk"},"score":2,"creation_date":1361555446,"post_id":5554734,"comment_id":21121330,"body_markdown":"it means, that you want to get element of array that not exist, &#39;i&lt;=name.length&#39; means that you want to get element length+1 - its not exist.","body":"it means, that you want to get element of array that not exist, &#39;i&lt;=name.length&#39; means that you want to get element length+1 - its not exist."},{"owner":{"account_id":181829,"reputation":14010,"user_id":416100,"accept_rate":67,"display_name":"sakhunzai"},"score":1,"creation_date":1492491928,"post_id":5554734,"comment_id":73983425,"body_markdown":"https://en.wikipedia.org/wiki/Off-by-one_error","body":"<a href=\"https://en.wikipedia.org/wiki/Off-by-one_error\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Off-by-one_error</a>"},{"owner":{"account_id":13748957,"reputation":544,"user_id":10940547,"display_name":"Jyotirmay"},"score":0,"creation_date":1585197615,"post_id":5554734,"comment_id":107679581,"body_markdown":"The array goes out of bounds when the index you try to manipulate is more than the length of the array. For correctness, your indices should always be one less than the total no. of array elements because the array index starts from 0 and not 1.","body":"The array goes out of bounds when the index you try to manipulate is more than the length of the array. For correctness, your indices should always be one less than the total no. of array elements because the array index starts from 0 and not 1."}],"answers":[{"comments":[{"owner":{"account_id":61438,"reputation":16572,"user_id":183110,"accept_rate":83,"display_name":"John Giotta"},"score":5,"creation_date":1302019181,"post_id":5554757,"comment_id":6316085,"body_markdown":"Bounds are the limits within range. i.e.; 0-5","body":"Bounds are the limits within range. i.e.; 0-5"}],"tags":[],"owner":{"account_id":183046,"reputation":39445,"user_id":418183,"accept_rate":100,"display_name":"Octavian Helm"},"comment_count":1,"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1302019291,"creation_date":1302018957,"answer_id":5554757,"question_id":5554734,"body_markdown":"It means that you are trying to access an index of an array which is not valid as it is not in between the bounds.\r\n\r\nFor example this would initialize a primitive integer array with the upper bound 4.\r\n\r\n    int intArray[] = new int[5];\r\n\r\nProgrammers count from zero. So this for example would throw an `ArrayIndexOutOfBoundsException` as the upper bound is 4 and not 5.\r\n\r\n    intArray[5];","title":"What causes a java.lang.ArrayIndexOutOfBoundsException and how do I prevent it?","body":"<p>It means that you are trying to access an index of an array which is not valid as it is not in between the bounds.</p>\n\n<p>For example this would initialize a primitive integer array with the upper bound 4.</p>\n\n<pre><code>int intArray[] = new int[5];\n</code></pre>\n\n<p>Programmers count from zero. So this for example would throw an <code>ArrayIndexOutOfBoundsException</code> as the upper bound is 4 and not 5.</p>\n\n<pre><code>intArray[5];\n</code></pre>\n"},{"comments":[{"owner":{"account_id":4248401,"reputation":2523,"user_id":3476320,"display_name":"Andrey"},"score":4,"creation_date":1488492281,"post_id":5554781,"comment_id":72267685,"body_markdown":"I&#39;d add that for multidimensional arrays that might have an arbitrary shape in Java, the nested loops should check for the relevant subarray length: `for (int nestedIndex = 0; nestedIndex &lt; array[outerIndex].length; nestedIndex++) { ... array[outerIndex][nestedIndex] ... }`.","body":"I&#39;d add that for multidimensional arrays that might have an arbitrary shape in Java, the nested loops should check for the relevant subarray length: <code>for (int nestedIndex = 0; nestedIndex &lt; array[outerIndex].length; nestedIndex++) { ... array[outerIndex][nestedIndex] ... }</code>."},{"owner":{"account_id":3466983,"reputation":8589,"user_id":3800782,"accept_rate":77,"display_name":"rghome"},"score":0,"creation_date":1638949760,"post_id":5554781,"comment_id":124220858,"body_markdown":"It would be could to mention in the answer that the stack trace should be consulted to find the exact line where the error occurs. IMO, this is the first port of call.","body":"It would be could to mention in the answer that the stack trace should be consulted to find the exact line where the error occurs. IMO, this is the first port of call."},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1638950293,"post_id":5554781,"comment_id":124221000,"body_markdown":"@rghome: That&#39;s not an answer to &quot;What does ArrayIndexOutOfBoundsException mean&quot; though. I think before trying to understand what in your code causes it, you need to understand what it means. If I tell you that you&#39;ve got a GrobulatorError in a given line of code, how would you expect to identify what&#39;s causing it if you have no idea what a GrobulatorError is?","body":"@rghome: That&#39;s not an answer to &quot;What does ArrayIndexOutOfBoundsException mean&quot; though. I think before trying to understand what in your code causes it, you need to understand what it means. If I tell you that you&#39;ve got a GrobulatorError in a given line of code, how would you expect to identify what&#39;s causing it if you have no idea what a GrobulatorError is?"},{"owner":{"account_id":3466983,"reputation":8589,"user_id":3800782,"accept_rate":77,"display_name":"rghome"},"score":0,"creation_date":1638952754,"post_id":5554781,"comment_id":124221820,"body_markdown":"Yes - but. We get a **lot** of these and there is a need to find a link for the close-as-duplicate. Often the OP hasn&#39;t even identified the line of code it happened on. There is another question on how to analyse a stack trace, but I am thinking it would be good to have a single procedure for finding the IOOB, so that someone can close the question confident that the OP can then solve it for themselves with the link.","body":"Yes - but. We get a <b>lot</b> of these and there is a need to find a link for the close-as-duplicate. Often the OP hasn&#39;t even identified the line of code it happened on. There is another question on how to analyse a stack trace, but I am thinking it would be good to have a single procedure for finding the IOOB, so that someone can close the question confident that the OP can then solve it for themselves with the link."},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1638952932,"post_id":5554781,"comment_id":124221872,"body_markdown":"@rghome: A canonical question and answer sounds fine, but I don&#39;t think this is necessarily the right one. Or even if it *is* the right one, I&#39;d still say the first thing to do is understand what the error means, before looking in your code to see why it happens.","body":"@rghome: A canonical question and answer sounds fine, but I don&#39;t think this is necessarily the right one. Or even if it <i>is</i> the right one, I&#39;d still say the first thing to do is understand what the error means, before looking in your code to see why it happens."}],"tags":[],"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"comment_count":5,"down_vote_count":0,"up_vote_count":345,"is_accepted":true,"score":345,"last_activity_date":1445031506,"creation_date":1302019067,"answer_id":5554781,"question_id":5554734,"body_markdown":"Your first port of call should be the [documentation][1] which explains it reasonably clearly:\r\n\r\n&gt; Thrown to indicate that an array has been accessed with an illegal index. The index is either negative or greater than or equal to the size of the array.\r\n\r\nSo for example:\r\n\r\n    int[] array = new int[5];\r\n    int boom = array[10]; // Throws the exception\r\n\r\nAs for how to avoid it... um, don&#39;t do that. Be careful with your array indexes.\r\n\r\nOne problem people sometimes run into is thinking that arrays are 1-indexed, e.g.\r\n\r\n    int[] array = new int[5];\r\n    // ... populate the array here ...\r\n    for (int index = 1; index &lt;= array.length; index++)\r\n    {\r\n        System.out.println(array[index]);\r\n    }\r\n\r\nThat will miss out the first element (index 0) and throw an exception when index is 5. The valid indexes here are 0-4 inclusive. The correct, idiomatic `for` statement here would be:\r\n\r\n    for (int index = 0; index &lt; array.length; index++)\r\n\r\n(That&#39;s assuming you *need* the index, of course. If you can use the enhanced for loop instead, do so.)\r\n\r\n  [1]: http://download.oracle.com/javase/6/docs/api/java/lang/ArrayIndexOutOfBoundsException.html","title":"What causes a java.lang.ArrayIndexOutOfBoundsException and how do I prevent it?","body":"<p>Your first port of call should be the <a href=\"http://download.oracle.com/javase/6/docs/api/java/lang/ArrayIndexOutOfBoundsException.html\" rel=\"noreferrer\">documentation</a> which explains it reasonably clearly:</p>\n\n<blockquote>\n  <p>Thrown to indicate that an array has been accessed with an illegal index. The index is either negative or greater than or equal to the size of the array.</p>\n</blockquote>\n\n<p>So for example:</p>\n\n<pre><code>int[] array = new int[5];\nint boom = array[10]; // Throws the exception\n</code></pre>\n\n<p>As for how to avoid it... um, don't do that. Be careful with your array indexes.</p>\n\n<p>One problem people sometimes run into is thinking that arrays are 1-indexed, e.g.</p>\n\n<pre><code>int[] array = new int[5];\n// ... populate the array here ...\nfor (int index = 1; index &lt;= array.length; index++)\n{\n    System.out.println(array[index]);\n}\n</code></pre>\n\n<p>That will miss out the first element (index 0) and throw an exception when index is 5. The valid indexes here are 0-4 inclusive. The correct, idiomatic <code>for</code> statement here would be:</p>\n\n<pre><code>for (int index = 0; index &lt; array.length; index++)\n</code></pre>\n\n<p>(That's assuming you <em>need</em> the index, of course. If you can use the enhanced for loop instead, do so.)</p>\n"},{"tags":[],"owner":{"account_id":52822,"reputation":1089035,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"comment_count":0,"down_vote_count":0,"up_vote_count":61,"is_accepted":false,"score":61,"last_activity_date":1685793771,"creation_date":1302019188,"answer_id":5554811,"question_id":5554734,"body_markdown":"Basically:\r\n\r\n    if (index &lt; 0 || index &gt;= array.length) {\r\n        // Don&#39;t use this index. This is out of bounds (borders, limits, whatever).\r\n    } else {\r\n        // Yes, you can safely use this index. The index is present in the array.\r\n        Object element = array[index];\r\n    }\r\n\r\nIn your specific case,\r\n\r\n    for (int i = 0; i&lt;=name.length; i++)\r\n\r\nthe index is inclusive the array&#39;s length. This is out of bounds. You need to replace `&lt;=` by `&lt;`.\r\n\r\n    for (int i = 0; i &lt; name.length; i++)\r\n\r\n### See also:\r\n\r\n- [The Java Tutorials - Language Basics - Arrays][1]\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/java/nutsandbolts/arrays.html","title":"What causes a java.lang.ArrayIndexOutOfBoundsException and how do I prevent it?","body":"<p>Basically:</p>\n<pre><code>if (index &lt; 0 || index &gt;= array.length) {\n    // Don't use this index. This is out of bounds (borders, limits, whatever).\n} else {\n    // Yes, you can safely use this index. The index is present in the array.\n    Object element = array[index];\n}\n</code></pre>\n<p>In your specific case,</p>\n<pre><code>for (int i = 0; i&lt;=name.length; i++)\n</code></pre>\n<p>the index is inclusive the array's length. This is out of bounds. You need to replace <code>&lt;=</code> by <code>&lt;</code>.</p>\n<pre><code>for (int i = 0; i &lt; name.length; i++)\n</code></pre>\n<h3>See also:</h3>\n<ul>\n<li><a href=\"https://docs.oracle.com/javase/tutorial/java/nutsandbolts/arrays.html\" rel=\"nofollow noreferrer\">The Java Tutorials - Language Basics - Arrays</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":223013,"reputation":958,"user_id":481963,"display_name":"Kyri Sarantakos"},"comment_count":0,"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1513504474,"creation_date":1302019597,"answer_id":5554895,"question_id":5554734,"body_markdown":"The most common case I&#39;ve seen for seemingly mysterious ArrayIndexOutOfBoundsExceptions, i.e. apparently not caused by your own array handling code, is the concurrent use of SimpleDateFormat. Particularly in a servlet or controller:\r\n\r\n    public class MyController {\r\n      SimpleDateFormat dateFormat = new SimpleDateFormat(&quot;MM/dd/yyyy&quot;);\r\n\r\n      public void handleRequest(ServletRequest req, ServletResponse res) {\r\n        Date date = dateFormat.parse(req.getParameter(&quot;date&quot;));\r\n      }\r\n    }\r\n\r\nIf two threads enter the SimplateDateFormat.parse() method together you will likely see an ArrayIndexOutOfBoundsException. Note the synchronization section of the [class javadoc for SimpleDateFormat][1].\r\n\r\nMake sure there is no place in your code that are accessing thread unsafe classes like SimpleDateFormat in a concurrent manner like in a servlet or controller. Check all instance variables of your servlets and controllers for likely suspects.\r\n\r\n  [1]: http://download.oracle.com/javase/6/docs/api/java/text/SimpleDateFormat.html\r\n\r\n","title":"What causes a java.lang.ArrayIndexOutOfBoundsException and how do I prevent it?","body":"<p>The most common case I've seen for seemingly mysterious ArrayIndexOutOfBoundsExceptions, i.e. apparently not caused by your own array handling code, is the concurrent use of SimpleDateFormat. Particularly in a servlet or controller:</p>\n\n<pre><code>public class MyController {\n  SimpleDateFormat dateFormat = new SimpleDateFormat(\"MM/dd/yyyy\");\n\n  public void handleRequest(ServletRequest req, ServletResponse res) {\n    Date date = dateFormat.parse(req.getParameter(\"date\"));\n  }\n}\n</code></pre>\n\n<p>If two threads enter the SimplateDateFormat.parse() method together you will likely see an ArrayIndexOutOfBoundsException. Note the synchronization section of the <a href=\"http://download.oracle.com/javase/6/docs/api/java/text/SimpleDateFormat.html\" rel=\"nofollow noreferrer\">class javadoc for SimpleDateFormat</a>.</p>\n\n<p>Make sure there is no place in your code that are accessing thread unsafe classes like SimpleDateFormat in a concurrent manner like in a servlet or controller. Check all instance variables of your servlets and controllers for likely suspects.</p>\n"},{"tags":[],"owner":{"account_id":102965,"reputation":415240,"user_id":276052,"accept_rate":80,"display_name":"aioobe"},"comment_count":0,"down_vote_count":0,"up_vote_count":29,"is_accepted":false,"score":29,"last_activity_date":1570550547,"creation_date":1302020109,"answer_id":5554998,"question_id":5554734,"body_markdown":"From this excellent article: [ArrayIndexOutOfBoundsException in for loop](https://programming.guide/java/arrayindexoutofboundsexception-in-for-loop.html)\r\n\r\nTo put it briefly:\r\n\r\nIn the last iteration of\r\n\r\n    for (int i = 0; i &lt;= name.length; i++) {\r\n\r\n`i` will equal `name.length` which is an illegal index, since array indices are zero-based.\r\n\r\nYour code should read\r\n\r\n    for (int i = 0; i &lt; name.length; i++) \r\n                      ^","title":"What causes a java.lang.ArrayIndexOutOfBoundsException and how do I prevent it?","body":"<p>From this excellent article: <a href=\"https://programming.guide/java/arrayindexoutofboundsexception-in-for-loop.html\" rel=\"noreferrer\">ArrayIndexOutOfBoundsException in for loop</a></p>\n\n<p>To put it briefly:</p>\n\n<p>In the last iteration of</p>\n\n<pre><code>for (int i = 0; i &lt;= name.length; i++) {\n</code></pre>\n\n<p><code>i</code> will equal <code>name.length</code> which is an illegal index, since array indices are zero-based.</p>\n\n<p>Your code should read</p>\n\n<pre><code>for (int i = 0; i &lt; name.length; i++) \n                  ^\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1082858,"reputation":104688,"user_id":1079354,"accept_rate":93,"display_name":"Makoto"},"comment_count":0,"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1445252418,"creation_date":1445031956,"answer_id":33180044,"question_id":5554734,"body_markdown":"To avoid an array index out-of-bounds exception, one should use the [enhanced-`for`](https://docs.oracle.com/javase/tutorial/java/nutsandbolts/for.html) statement where and when they can.\r\n\r\nThe primary motivation (and use case) is when you are iterating and you do not require any complicated iteration steps.  You would *not* be able to use an enhanced-`for` to move backwards in an array or only iterate on every other element.\r\n\r\nYou&#39;re guaranteed not to run out of elements to iterate over when doing this, and your [corrected] example is easily converted over.\r\n\r\nThe code below:\r\n\r\n    String[] name = {&quot;tom&quot;, &quot;dick&quot;, &quot;harry&quot;};\r\n    for(int i = 0; i&lt; name.length; i++) {\r\n        System.out.print(name[i] + &quot;\\n&quot;);\r\n    }\r\n\r\n...is equivalent to this:\r\n\r\n    String[] name = {&quot;tom&quot;, &quot;dick&quot;, &quot;harry&quot;};\r\n    for(String firstName : name) {\r\n        System.out.println(firstName + &quot;\\n&quot;);\r\n    }","title":"What causes a java.lang.ArrayIndexOutOfBoundsException and how do I prevent it?","body":"<p>To avoid an array index out-of-bounds exception, one should use the <a href=\"https://docs.oracle.com/javase/tutorial/java/nutsandbolts/for.html\" rel=\"noreferrer\">enhanced-<code>for</code></a> statement where and when they can.</p>\n\n<p>The primary motivation (and use case) is when you are iterating and you do not require any complicated iteration steps.  You would <em>not</em> be able to use an enhanced-<code>for</code> to move backwards in an array or only iterate on every other element.</p>\n\n<p>You're guaranteed not to run out of elements to iterate over when doing this, and your [corrected] example is easily converted over.</p>\n\n<p>The code below:</p>\n\n<pre><code>String[] name = {\"tom\", \"dick\", \"harry\"};\nfor(int i = 0; i&lt; name.length; i++) {\n    System.out.print(name[i] + \"\\n\");\n}\n</code></pre>\n\n<p>...is equivalent to this:</p>\n\n<pre><code>String[] name = {\"tom\", \"dick\", \"harry\"};\nfor(String firstName : name) {\n    System.out.println(firstName + \"\\n\");\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1049814,"reputation":11925,"user_id":1054021,"accept_rate":81,"display_name":"Tobb"},"comment_count":0,"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1671917155,"creation_date":1453222556,"answer_id":34882569,"question_id":5554734,"body_markdown":"**What causes `ArrayIndexOutOfBoundsException`?**\r\n\r\nIf you think of a variable as a &quot;box&quot; where you can place a value, then an array is a series of boxes placed next to each other, where the number of boxes is a finite and explicit integer.\r\n\r\nCreating an array like this:\r\n\r\n    final int[] myArray = new int[5]\r\n\r\ncreates a row of 5 boxes, each holding an `int`. Each of the boxes has an index, a position in the series of boxes. This index starts at 0 and ends at N-1, where N is the size of the array (the number of boxes).\r\n\r\nTo retrieve one of the values from this series of boxes, you can refer to it through its index, like this:\r\n\r\n    myArray[3]\r\n\r\nWhich will give you the value of the 4th box in the series (since the first box has an index of 0).\r\n\r\nAn `ArrayIndexOutOfBoundsException` is caused by trying to retrieve a &quot;box&quot; that does not exist, by passing an index that is higher than the index of the last &quot;box&quot;, or negative.\r\n\r\nWith my running example, these code snippets would produce such an exception:\r\n\r\n    myArray[5] //tries to retrieve the 6th &quot;box&quot; when there is only 5\r\n    myArray[-1] //just makes no sense\r\n    myArray[1337] //way to high\r\n\r\n**How to avoid `ArrayIndexOutOfBoundsException`**\r\n\r\nIn order to prevent `ArrayIndexOutOfBoundsException`, there are some key points to consider:\r\n\r\n**Looping**\r\n\r\nWhen looping through an array, always make sure that the index you are retrieving is strictly smaller than the length of the array (the number of boxes). For instance:\r\n\r\n    for (int i = 0; i &lt; myArray.length; i++) {\r\n\r\nNotice the `&lt;`, never mix a `=` in there..\r\n\r\nYou might want to be tempted to do something like this:\r\n\r\n    for (int i = 1; i &lt;= myArray.length; i++) {\r\n        final int someint = myArray[i - 1]\r\n\r\nJust don&#39;t. Stick to the one above (if you need to use the index) and it will save you a lot of pain.\r\n\r\nWhere possible, use foreach:\r\n\r\n    for (int value : myArray) {\r\n\r\nThis way you won&#39;t have to think about indexes at all.\r\n\r\nWhen looping, whatever you do, NEVER change the value of the loop iterator (here: `i`). The only place this should change value is to keep the loop going. Changing it otherwise is just risking an exception, and is in most cases not necessary.\r\n\r\n**Retrieval/update**\r\n\r\nWhen retrieving an arbitrary element of the array, always check that it is a valid index against the length of the array:\r\n\r\n    public Integer getArrayElement(final int index) {\r\n        if (index &lt; 0 || index &gt;= myArray.length) {\r\n            return null; //although I would much prefer an actual exception being thrown when this happens.\r\n        }\r\n        return myArray[index];\r\n    }\r\n","title":"What causes a java.lang.ArrayIndexOutOfBoundsException and how do I prevent it?","body":"<p><strong>What causes <code>ArrayIndexOutOfBoundsException</code>?</strong></p>\n<p>If you think of a variable as a &quot;box&quot; where you can place a value, then an array is a series of boxes placed next to each other, where the number of boxes is a finite and explicit integer.</p>\n<p>Creating an array like this:</p>\n<pre><code>final int[] myArray = new int[5]\n</code></pre>\n<p>creates a row of 5 boxes, each holding an <code>int</code>. Each of the boxes has an index, a position in the series of boxes. This index starts at 0 and ends at N-1, where N is the size of the array (the number of boxes).</p>\n<p>To retrieve one of the values from this series of boxes, you can refer to it through its index, like this:</p>\n<pre><code>myArray[3]\n</code></pre>\n<p>Which will give you the value of the 4th box in the series (since the first box has an index of 0).</p>\n<p>An <code>ArrayIndexOutOfBoundsException</code> is caused by trying to retrieve a &quot;box&quot; that does not exist, by passing an index that is higher than the index of the last &quot;box&quot;, or negative.</p>\n<p>With my running example, these code snippets would produce such an exception:</p>\n<pre><code>myArray[5] //tries to retrieve the 6th &quot;box&quot; when there is only 5\nmyArray[-1] //just makes no sense\nmyArray[1337] //way to high\n</code></pre>\n<p><strong>How to avoid <code>ArrayIndexOutOfBoundsException</code></strong></p>\n<p>In order to prevent <code>ArrayIndexOutOfBoundsException</code>, there are some key points to consider:</p>\n<p><strong>Looping</strong></p>\n<p>When looping through an array, always make sure that the index you are retrieving is strictly smaller than the length of the array (the number of boxes). For instance:</p>\n<pre><code>for (int i = 0; i &lt; myArray.length; i++) {\n</code></pre>\n<p>Notice the <code>&lt;</code>, never mix a <code>=</code> in there..</p>\n<p>You might want to be tempted to do something like this:</p>\n<pre><code>for (int i = 1; i &lt;= myArray.length; i++) {\n    final int someint = myArray[i - 1]\n</code></pre>\n<p>Just don't. Stick to the one above (if you need to use the index) and it will save you a lot of pain.</p>\n<p>Where possible, use foreach:</p>\n<pre><code>for (int value : myArray) {\n</code></pre>\n<p>This way you won't have to think about indexes at all.</p>\n<p>When looping, whatever you do, NEVER change the value of the loop iterator (here: <code>i</code>). The only place this should change value is to keep the loop going. Changing it otherwise is just risking an exception, and is in most cases not necessary.</p>\n<p><strong>Retrieval/update</strong></p>\n<p>When retrieving an arbitrary element of the array, always check that it is a valid index against the length of the array:</p>\n<pre><code>public Integer getArrayElement(final int index) {\n    if (index &lt; 0 || index &gt;= myArray.length) {\n        return null; //although I would much prefer an actual exception being thrown when this happens.\n    }\n    return myArray[index];\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5381284,"reputation":885,"user_id":4336546,"display_name":"Mohit"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1513504686,"creation_date":1478852517,"answer_id":40543866,"question_id":5554734,"body_markdown":"**For any array of length n, elements of the array will have an index from 0 to n-1.**\r\n\r\nIf your program is trying to access any element (or memory) having array index greater than n-1, then Java will throw **ArrayIndexOutOfBoundsException**\r\n\r\nSo here are two solutions that we can use in a program\r\n\r\n1. Maintaining count:\r\n\r\n        for(int count = 0; count &lt; array.length; count++) {\r\n            System.out.println(array[count]);\r\n        }\r\n\r\n    Or some other looping statement like\r\n\r\n        int count = 0;\r\n        while(count &lt; array.length) {\r\n            System.out.println(array[count]);\r\n            count++;\r\n        }\r\n\r\n2. A better way go with a for each loop, in this method a programmer has no need to bother about the number of elements in the array.\r\n\r\n        for(String str : array) {\r\n            System.out.println(str);\r\n        }\r\n","title":"What causes a java.lang.ArrayIndexOutOfBoundsException and how do I prevent it?","body":"<p><strong>For any array of length n, elements of the array will have an index from 0 to n-1.</strong></p>\n\n<p>If your program is trying to access any element (or memory) having array index greater than n-1, then Java will throw <strong>ArrayIndexOutOfBoundsException</strong></p>\n\n<p>So here are two solutions that we can use in a program</p>\n\n<ol>\n<li><p>Maintaining count:</p>\n\n<pre><code>for(int count = 0; count &lt; array.length; count++) {\n    System.out.println(array[count]);\n}\n</code></pre>\n\n<p>Or some other looping statement like</p>\n\n<pre><code>int count = 0;\nwhile(count &lt; array.length) {\n    System.out.println(array[count]);\n    count++;\n}\n</code></pre></li>\n<li><p>A better way go with a for each loop, in this method a programmer has no need to bother about the number of elements in the array.</p>\n\n<pre><code>for(String str : array) {\n    System.out.println(str);\n}\n</code></pre></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":6701313,"reputation":7980,"user_id":5167682,"accept_rate":29,"display_name":"roottraveller"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1513504809,"creation_date":1488790811,"answer_id":42621364,"question_id":5554734,"body_markdown":"You are getting `ArrayIndexOutOfBoundsException` due to `i&lt;=name.length` part. `name.length` return the length of the string `name`, which is 3. Hence when you try to access `name[3]`, it&#39;s illegal and throws an exception.\r\n\r\nResolved code:\r\n\r\n    String[] name = {&quot;tom&quot;, &quot;dick&quot;, &quot;harry&quot;};\r\n    for(int i = 0; i &lt; name.length; i++) { //use &lt; insteadof &lt;=\r\n      System.out.print(name[i] +&#39;\\n&#39;);\r\n    }\r\n\r\nIt&#39;s defined in the [Java language specification][1]:\r\n\r\n&gt; The `public final` field `length`, which contains the number of components\r\n&gt; of the array. `length` may be positive or zero.\r\n\r\n  [1]: http://docs.oracle.com/javase/specs/jls/se7/html/jls-10.html#jls-10.7\r\n","title":"What causes a java.lang.ArrayIndexOutOfBoundsException and how do I prevent it?","body":"<p>You are getting <code>ArrayIndexOutOfBoundsException</code> due to <code>i&lt;=name.length</code> part. <code>name.length</code> return the length of the string <code>name</code>, which is 3. Hence when you try to access <code>name[3]</code>, it's illegal and throws an exception.</p>\n\n<p>Resolved code:</p>\n\n<pre><code>String[] name = {\"tom\", \"dick\", \"harry\"};\nfor(int i = 0; i &lt; name.length; i++) { //use &lt; insteadof &lt;=\n  System.out.print(name[i] +'\\n');\n}\n</code></pre>\n\n<p>It's defined in the <a href=\"http://docs.oracle.com/javase/specs/jls/se7/html/jls-10.html#jls-10.7\" rel=\"nofollow noreferrer\">Java language specification</a>:</p>\n\n<blockquote>\n  <p>The <code>public final</code> field <code>length</code>, which contains the number of components\n  of the array. <code>length</code> may be positive or zero.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":4097798,"reputation":315,"user_id":3364088,"display_name":"Johny"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1513504924,"creation_date":1488977772,"answer_id":42671988,"question_id":5554734,"body_markdown":"[![Array index out of bounds exception][1]][1]\r\n\r\nThat&#39;s how this type of exception looks when thrown in Eclipse. The number in red signifies the index you tried to access. So the code would look like this:\r\n\r\n    myArray[5]\r\n\r\nThe error is thrown when you try to access an index which doesn&#39;t exist in that array. If an array has a length of 3,\r\n\r\n    int[] intArray = new int[3];\r\n\r\nthen the only valid indexes are:\r\n\r\n    intArray[0]\r\n    intArray[1]\r\n    intArray[2]\r\n\r\nIf an array has a length of 1,\r\n\r\n    int[] intArray = new int[1];\r\n\r\nthen the only valid index is:\r\n\r\n    intArray[0]\r\n\r\nAny integer equal to the length of the array, or bigger than it: is out of bounds.\r\n\r\nAny integer less than 0: is out of bounds;\r\n\r\nP.S.: If you look to have a better understanding of arrays and do some practical exercises, there&#39;s a video here: [tutorial on arrays in Java][2]\r\n\r\n  [1]: https://i.stack.imgur.com/pjfvS.png\r\n  [2]: https://www.youtube.com/watch?v=k1i42DMrcMk &quot;Arrays in Java&quot;\r\n","title":"What causes a java.lang.ArrayIndexOutOfBoundsException and how do I prevent it?","body":"<p><a href=\"https://i.stack.imgur.com/pjfvS.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/pjfvS.png\" alt=\"Array index out of bounds exception\"></a></p>\n\n<p>That's how this type of exception looks when thrown in Eclipse. The number in red signifies the index you tried to access. So the code would look like this:</p>\n\n<pre><code>myArray[5]\n</code></pre>\n\n<p>The error is thrown when you try to access an index which doesn't exist in that array. If an array has a length of 3,</p>\n\n<pre><code>int[] intArray = new int[3];\n</code></pre>\n\n<p>then the only valid indexes are:</p>\n\n<pre><code>intArray[0]\nintArray[1]\nintArray[2]\n</code></pre>\n\n<p>If an array has a length of 1,</p>\n\n<pre><code>int[] intArray = new int[1];\n</code></pre>\n\n<p>then the only valid index is:</p>\n\n<pre><code>intArray[0]\n</code></pre>\n\n<p>Any integer equal to the length of the array, or bigger than it: is out of bounds.</p>\n\n<p>Any integer less than 0: is out of bounds;</p>\n\n<p>P.S.: If you look to have a better understanding of arrays and do some practical exercises, there's a video here: <a href=\"https://www.youtube.com/watch?v=k1i42DMrcMk\" rel=\"nofollow noreferrer\" title=\"Arrays in Java\">tutorial on arrays in Java</a></p>\n"},{"tags":[],"owner":{"account_id":10103446,"reputation":543,"user_id":7466782,"display_name":"Madhusudan chowdary"},"comment_count":0,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1606216705,"creation_date":1498021065,"answer_id":44667145,"question_id":5554734,"body_markdown":"In your code you have accessed the elements from index 0 to the length of the string array. `name.length` gives the number of string objects in your array of string objects i.e. 3, but you can access only up to index 2 `name[2]`,\r\nbecause the array can be accessed from index 0 to `name.length - 1` where you get `name.length` number of objects.\r\n\r\nEven while using a `for` loop you have started with index zero and you should end with `name.length - 1`. In an array a[n] you can access form a[0] to a[n-1].\r\n\r\nFor example:\r\n\r\n    String[] a={&quot;str1&quot;, &quot;str2&quot;, &quot;str3&quot; ..., &quot;strn&quot;};\r\n\r\n    for(int i=0; i&lt;a.length(); i++)\r\n        System.out.println(a[i]);\r\n\r\nIn your case:\r\n\r\n    String[] name = {&quot;tom&quot;, &quot;dick&quot;, &quot;harry&quot;};\r\n\r\n    for(int i = 0; i&lt;=name.length; i++) {\r\n        System.out.print(name[i] +&#39;\\n&#39;);\r\n    }\r\n\r\n","title":"What causes a java.lang.ArrayIndexOutOfBoundsException and how do I prevent it?","body":"<p>In your code you have accessed the elements from index 0 to the length of the string array. <code>name.length</code> gives the number of string objects in your array of string objects i.e. 3, but you can access only up to index 2 <code>name[2]</code>,\nbecause the array can be accessed from index 0 to <code>name.length - 1</code> where you get <code>name.length</code> number of objects.</p>\n<p>Even while using a <code>for</code> loop you have started with index zero and you should end with <code>name.length - 1</code>. In an array a[n] you can access form a[0] to a[n-1].</p>\n<p>For example:</p>\n<pre><code>String[] a={&quot;str1&quot;, &quot;str2&quot;, &quot;str3&quot; ..., &quot;strn&quot;};\n\nfor(int i=0; i&lt;a.length(); i++)\n    System.out.println(a[i]);\n</code></pre>\n<p>In your case:</p>\n<pre><code>String[] name = {&quot;tom&quot;, &quot;dick&quot;, &quot;harry&quot;};\n\nfor(int i = 0; i&lt;=name.length; i++) {\n    System.out.print(name[i] +'\\n');\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5160541,"reputation":357,"user_id":5332993,"accept_rate":40,"display_name":"Satyendra Kumar"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1508917107,"creation_date":1508917107,"answer_id":46926619,"question_id":5554734,"body_markdown":"So much for this simple question, but I just wanted to highlight a new feature in Java which will avoid all confusions around indexing in arrays even for beginners. Java-8 has abstracted the task of iterating for you.\r\n\r\n    int[] array = new int[5];\r\n    \r\n    //If you need just the items\r\n    Arrays.stream(array).forEach(item -&gt; { println(item); });\r\n\r\n    //If you need the index as well\r\n    IntStream.range(0, array.length).forEach(index -&gt; { println(array[index]); })\r\nWhat&#39;s the benefit? Well, one thing is the readability like English. Second, you need not worry about the `ArrayIndexOutOfBoundsException `","title":"What causes a java.lang.ArrayIndexOutOfBoundsException and how do I prevent it?","body":"<p>So much for this simple question, but I just wanted to highlight a new feature in Java which will avoid all confusions around indexing in arrays even for beginners. Java-8 has abstracted the task of iterating for you.</p>\n\n<pre><code>int[] array = new int[5];\n\n//If you need just the items\nArrays.stream(array).forEach(item -&gt; { println(item); });\n\n//If you need the index as well\nIntStream.range(0, array.length).forEach(index -&gt; { println(array[index]); })\n</code></pre>\n\n<p>What's the benefit? Well, one thing is the readability like English. Second, you need not worry about the <code>ArrayIndexOutOfBoundsException</code></p>\n"},{"tags":[],"owner":{"account_id":1703795,"reputation":1264,"user_id":1563286,"accept_rate":44,"display_name":"adn.911"},"comment_count":0,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1512060077,"creation_date":1512060077,"answer_id":47578376,"question_id":5554734,"body_markdown":"`ArrayIndexOutOfBoundsException` means that you are trying to access an index of the array that does not exist or out of the bound of this array. Array indexes start from **0** and end at **length - 1**. \r\n\r\nIn your case \r\n\r\n    for(int i = 0; i&lt;=name.length; i++) {\r\n        System.out.print(name[i] +&#39;\\n&#39;); // i goes from 0 to length, Not correct\r\n    }\r\n\r\n`ArrayIndexOutOfBoundsException` happens when you are trying to access \r\nthe name.length indexed element which does not exist (array index ends at  length -1). just replacing &lt;= with &lt; would solve this problem. \r\n\r\n    for(int i = 0; i &lt; name.length; i++) {\r\n        System.out.print(name[i] +&#39;\\n&#39;);  // i goes from 0 to length - 1, Correct\r\n    }\r\n \r\n\r\n","title":"What causes a java.lang.ArrayIndexOutOfBoundsException and how do I prevent it?","body":"<p><code>ArrayIndexOutOfBoundsException</code> means that you are trying to access an index of the array that does not exist or out of the bound of this array. Array indexes start from <strong>0</strong> and end at <strong>length - 1</strong>. </p>\n\n<p>In your case </p>\n\n<pre><code>for(int i = 0; i&lt;=name.length; i++) {\n    System.out.print(name[i] +'\\n'); // i goes from 0 to length, Not correct\n}\n</code></pre>\n\n<p><code>ArrayIndexOutOfBoundsException</code> happens when you are trying to access \nthe name.length indexed element which does not exist (array index ends at  length -1). just replacing &lt;= with &lt; would solve this problem. </p>\n\n<pre><code>for(int i = 0; i &lt; name.length; i++) {\n    System.out.print(name[i] +'\\n');  // i goes from 0 to length - 1, Correct\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5702921,"reputation":108,"user_id":4507377,"display_name":"nIKHIL"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1516104813,"creation_date":1516104813,"answer_id":48281013,"question_id":5554734,"body_markdown":"For your given array the length of the array is 3(i.e. name.length = 3). But as it stores element starting from index 0, it has max index 2.\r\n\r\nSo, instead of  &#39;i**&lt;=**name.length&#39; you should write &#39;i**&lt;**name.length&#39; to avoid &#39;ArrayIndexOutOfBoundsException&#39;.","title":"What causes a java.lang.ArrayIndexOutOfBoundsException and how do I prevent it?","body":"<p>For your given array the length of the array is 3(i.e. name.length = 3). But as it stores element starting from index 0, it has max index 2.</p>\n\n<p>So, instead of  'i**&lt;=<strong>name.length' you should write 'i</strong>&lt;**name.length' to avoid 'ArrayIndexOutOfBoundsException'.</p>\n"},{"tags":[],"owner":{"account_id":12547245,"reputation":63,"user_id":9130097,"display_name":"Abhishek Agarwal"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1522059360,"creation_date":1522051719,"answer_id":49486727,"question_id":5554734,"body_markdown":"According to your Code :\r\n\r\n    String[] name = {&quot;tom&quot;, &quot;dick&quot;, &quot;harry&quot;};\r\n    for(int i = 0; i&lt;=name.length; i++) {\r\n      System.out.print(name[i] +&#39;\\n&#39;);\r\n    }\r\n\r\nIf You check\r\nSystem.out.print(name.length);\r\n\r\nyou will get 3;\r\n\r\nthat mean your name length is 3\r\n\r\nyour loop is running from 0 to 3 \r\nwhich should be running either &quot;0 to 2&quot; or &quot;1 to 3&quot;\r\n\r\n**Answer**\r\n\r\n    String[] name = {&quot;tom&quot;, &quot;dick&quot;, &quot;harry&quot;};\r\n    for(int i = 0; i&lt;name.length; i++) {\r\n      System.out.print(name[i] +&#39;\\n&#39;);\r\n    }\r\n\r\n","title":"What causes a java.lang.ArrayIndexOutOfBoundsException and how do I prevent it?","body":"<p>According to your Code :</p>\n\n<pre><code>String[] name = {\"tom\", \"dick\", \"harry\"};\nfor(int i = 0; i&lt;=name.length; i++) {\n  System.out.print(name[i] +'\\n');\n}\n</code></pre>\n\n<p>If You check\nSystem.out.print(name.length);</p>\n\n<p>you will get 3;</p>\n\n<p>that mean your name length is 3</p>\n\n<p>your loop is running from 0 to 3 \nwhich should be running either \"0 to 2\" or \"1 to 3\"</p>\n\n<p><strong>Answer</strong></p>\n\n<pre><code>String[] name = {\"tom\", \"dick\", \"harry\"};\nfor(int i = 0; i&lt;name.length; i++) {\n  System.out.print(name[i] +'\\n');\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13523589,"reputation":60,"user_id":9756048,"display_name":"Madhusudan Sharma"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1526528818,"creation_date":1526527678,"answer_id":50382905,"question_id":5554734,"body_markdown":"`ArrayIndexOutOfBoundsException` name itself explains that If you trying to access the value at the index which is out of the scope of Array size then such kind of exception occur. \r\n\r\nIn your case, You can just remove equal sign from your for loop.\r\n\r\n    for(int i = 0; i&lt;name.length; i++)\r\n\r\nThe better option is to iterate an array: \r\n\r\n    for(String i : name )\r\n          System.out.println(i);","title":"What causes a java.lang.ArrayIndexOutOfBoundsException and how do I prevent it?","body":"<p><code>ArrayIndexOutOfBoundsException</code> name itself explains that If you trying to access the value at the index which is out of the scope of Array size then such kind of exception occur. </p>\n\n<p>In your case, You can just remove equal sign from your for loop.</p>\n\n<pre><code>for(int i = 0; i&lt;name.length; i++)\n</code></pre>\n\n<p>The better option is to iterate an array: </p>\n\n<pre><code>for(String i : name )\n      System.out.println(i);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":970,"reputation":399857,"user_id":1288,"accept_rate":93,"display_name":"Bill the Lizard"},"score":0,"creation_date":1528832690,"post_id":50824686,"comment_id":88654336,"body_markdown":"Added a code example from [Why does my for loop not work when i change the condition(multidimensional arrays)?](https://stackoverflow.com/q/50824437/1288) since this question gets used as a dupe target for any question dealing with ArrayIndexOutOfBoundsException.","body":"Added a code example from <a href=\"https://stackoverflow.com/q/50824437/1288\">Why does my for loop not work when i change the condition(multidimensional arrays)?</a> since this question gets used as a dupe target for any question dealing with ArrayIndexOutOfBoundsException."}],"tags":[],"owner":{"account_id":970,"reputation":399857,"user_id":1288,"accept_rate":93,"display_name":"Bill the Lizard"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1528832498,"creation_date":1528832498,"answer_id":50824686,"question_id":5554734,"body_markdown":"For multidimensional arrays, it can be tricky to make sure you access the `length` property of the right dimension. Take the following code for example:\r\n\r\n    int [][][] a  = new int [2][3][4];\r\n\r\n    for(int i = 0; i &lt; a.length; i++){\r\n        for(int j = 0; j &lt; a[i].length; j++){\r\n            for(int k = 0; k &lt; a[j].length; k++){\r\n                System.out.print(a[i][j][k]);\r\n            }\r\n            System.out.println();\r\n        }\r\n        System.out.println();\r\n    }\r\n\r\nEach dimension has a different length, so the subtle bug is that the middle and inner loops use the `length` property of the same dimension (because `a[i].length` is the same as `a[j].length`).\r\n\r\nInstead, the inner loop should use `a[i][j].length` (or `a[0][0].length`, for simplicity).","title":"What causes a java.lang.ArrayIndexOutOfBoundsException and how do I prevent it?","body":"<p>For multidimensional arrays, it can be tricky to make sure you access the <code>length</code> property of the right dimension. Take the following code for example:</p>\n\n<pre><code>int [][][] a  = new int [2][3][4];\n\nfor(int i = 0; i &lt; a.length; i++){\n    for(int j = 0; j &lt; a[i].length; j++){\n        for(int k = 0; k &lt; a[j].length; k++){\n            System.out.print(a[i][j][k]);\n        }\n        System.out.println();\n    }\n    System.out.println();\n}\n</code></pre>\n\n<p>Each dimension has a different length, so the subtle bug is that the middle and inner loops use the <code>length</code> property of the same dimension (because <code>a[i].length</code> is the same as <code>a[j].length</code>).</p>\n\n<p>Instead, the inner loop should use <code>a[i][j].length</code> (or <code>a[0][0].length</code>, for simplicity).</p>\n"},{"tags":[],"owner":{"account_id":13274351,"reputation":163,"user_id":9584195,"display_name":"Gayan Sampath"},"comment_count":0,"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1531796625,"creation_date":1531796625,"answer_id":51372649,"question_id":5554734,"body_markdown":"This error is occurs at runs loop  overlimit times.Let&#39;s consider simple example like this,\r\n\r\n    class demo{\r\n\t  public static void main(String a[]){\r\n\r\n\t\tint[] numberArray={4,8,2,3,89,5};\r\n\r\n\t\tint i;\r\n\t\t\r\n\t\tfor(i=0;i&lt;numberArray.length;i++){\r\n\t\t\tSystem.out.print(numberArray[i+1]+&quot;  &quot;);\r\n\t\t}\r\n\t}\r\n\r\n\r\nAt first, I have initialized an array as &#39;numberArray&#39;. then , some array elements are printed using for loop. When loop is running &#39;i&#39; time , print the (numberArray[i+1] element..(when i value is 1, numberArray[i+1] element is printed.)..Suppose that, when i=(numberArray.length-2), last element of array is printed..When &#39;i&#39; value goes to (numberArray.length-1) , no value for printing..In that point , &#39;ArrayIndexOutOfBoundsException&#39; is occur.I hope to you could get idea.thank you !","title":"What causes a java.lang.ArrayIndexOutOfBoundsException and how do I prevent it?","body":"<p>This error is occurs at runs loop  overlimit times.Let's consider simple example like this,</p>\n\n<pre><code>class demo{\n  public static void main(String a[]){\n\n    int[] numberArray={4,8,2,3,89,5};\n\n    int i;\n\n    for(i=0;i&lt;numberArray.length;i++){\n        System.out.print(numberArray[i+1]+\"  \");\n    }\n}\n</code></pre>\n\n<p>At first, I have initialized an array as 'numberArray'. then , some array elements are printed using for loop. When loop is running 'i' time , print the (numberArray[i+1] element..(when i value is 1, numberArray[i+1] element is printed.)..Suppose that, when i=(numberArray.length-2), last element of array is printed..When 'i' value goes to (numberArray.length-1) , no value for printing..In that point , 'ArrayIndexOutOfBoundsException' is occur.I hope to you could get idea.thank you !</p>\n"},{"tags":[],"owner":{"account_id":10187245,"reputation":442,"user_id":7521742,"display_name":"sgrpwr"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1537007358,"creation_date":1537007358,"answer_id":52343850,"question_id":5554734,"body_markdown":"ArrayIndexOutOfBoundsException whenever this exception is coming it mean you are trying to use an index of array which is out of its bounds or in lay man terms you are requesting more than than you have initialised.\r\n\r\nTo prevent this always make sure that you are not requesting a index which is not present in array i.e. if array length is 10 then your index must range between 0 to 9","title":"What causes a java.lang.ArrayIndexOutOfBoundsException and how do I prevent it?","body":"<p>ArrayIndexOutOfBoundsException whenever this exception is coming it mean you are trying to use an index of array which is out of its bounds or in lay man terms you are requesting more than than you have initialised.</p>\n\n<p>To prevent this always make sure that you are not requesting a index which is not present in array i.e. if array length is 10 then your index must range between 0 to 9</p>\n"},{"tags":[],"owner":{"account_id":7517862,"reputation":374,"user_id":5710725,"display_name":"ZiadM"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1539854667,"creation_date":1539854667,"answer_id":52870938,"question_id":5554734,"body_markdown":"Each item in an array is called an element, and each element is accessed by its numerical index. As shown in the preceding illustration, **numbering begins with 0**. The 9th element, for example, would therefore be accessed at index 8.\r\n\r\nIndexOutOfBoundsException is thrown to indicate that an index of some sort (such as to an array, to a string, or to a vector) is out of range.\r\n\r\nAny array X, can be accessed from [0 to (X.length - 1)]\r\n","title":"What causes a java.lang.ArrayIndexOutOfBoundsException and how do I prevent it?","body":"<p>Each item in an array is called an element, and each element is accessed by its numerical index. As shown in the preceding illustration, <strong>numbering begins with 0</strong>. The 9th element, for example, would therefore be accessed at index 8.</p>\n\n<p>IndexOutOfBoundsException is thrown to indicate that an index of some sort (such as to an array, to a string, or to a vector) is out of range.</p>\n\n<p>Any array X, can be accessed from [0 to (X.length - 1)]</p>\n"},{"tags":[],"owner":{"account_id":5705184,"reputation":589,"user_id":4508988,"display_name":"John Czukkermann"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1542132503,"creation_date":1542132503,"answer_id":53287081,"question_id":5554734,"body_markdown":"I see all the answers here explaining how to work with arrays and how to avoid the index out of bounds exceptions.  I personally avoid arrays at all costs.  I use the Collections classes, which avoids all the silliness of having to deal with array indices entirely.  The looping constructs work beautifully with collections supporting code that is both easier to write, understand and maintain.","title":"What causes a java.lang.ArrayIndexOutOfBoundsException and how do I prevent it?","body":"<p>I see all the answers here explaining how to work with arrays and how to avoid the index out of bounds exceptions.  I personally avoid arrays at all costs.  I use the Collections classes, which avoids all the silliness of having to deal with array indices entirely.  The looping constructs work beautifully with collections supporting code that is both easier to write, understand and maintain.</p>\n"},{"tags":[],"owner":{"display_name":"user10486861"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1544749018,"creation_date":1544746126,"answer_id":53771839,"question_id":5554734,"body_markdown":"ArrayIndexOutOfBounds means you are trying to index a position within an array that is not allocated.\r\n\r\nIn this case:\r\n\r\n    String[] name = { &quot;tom&quot;, &quot;dick&quot;, &quot;harry&quot; };\r\n    for (int i = 0; i &lt;= name.length; i++) {\r\n        System.out.println(name[i]);\r\n    }\r\n\r\n - name.length is 3 since the array has been defined with 3 String objects.\r\n - When accessing the contents of an array, position starts from 0. Since there are 3 items, it would mean name[0]=&quot;tom&quot;, name[1]=&quot;dick&quot; and name[2]=&quot;harry\r\n - When you loop, since *i* can be less than or equal to name.length, you are trying to access name[3] which is not available.\r\n\r\nTo get around this... \r\n\r\n - In your for loop, you can do i &lt; name.length. This would prevent looping to name[3] and would instead stop at name[2]\r\n\r\n   `for(int i = 0; i&lt;name.length; i++)`\r\n - Use a for each loop\r\n\r\n    `String[] name = { &quot;tom&quot;, &quot;dick&quot;, &quot;harry&quot; };\r\n    for(String n : name) {\r\n        System.out.println(n);\r\n    }`\r\n - Use list.forEach(Consumer&lt;? super T&gt; action) (requires Java8)\r\n\r\n   `String[] name = { &quot;tom&quot;, &quot;dick&quot;, &quot;harry&quot; };\r\n   Arrays.asList(name).forEach(System.out::println);`\r\n - Convert array to stream - this is a good option if you want to perform additional &#39;operations&#39; to your array e.g. filter, transform the text, convert to a map etc (requires Java8)\r\n\r\n   `String[] name = { &quot;tom&quot;, &quot;dick&quot;, &quot;harry&quot; };\r\n    ---  Arrays.asList(name).stream().forEach(System.out::println);\r\n    ---  Stream.of(name).forEach(System.out::println);`","title":"What causes a java.lang.ArrayIndexOutOfBoundsException and how do I prevent it?","body":"<p>ArrayIndexOutOfBounds means you are trying to index a position within an array that is not allocated.</p>\n\n<p>In this case:</p>\n\n<pre><code>String[] name = { \"tom\", \"dick\", \"harry\" };\nfor (int i = 0; i &lt;= name.length; i++) {\n    System.out.println(name[i]);\n}\n</code></pre>\n\n<ul>\n<li>name.length is 3 since the array has been defined with 3 String objects.</li>\n<li>When accessing the contents of an array, position starts from 0. Since there are 3 items, it would mean name[0]=\"tom\", name[1]=\"dick\" and name[2]=\"harry</li>\n<li>When you loop, since <em>i</em> can be less than or equal to name.length, you are trying to access name[3] which is not available.</li>\n</ul>\n\n<p>To get around this... </p>\n\n<ul>\n<li><p>In your for loop, you can do i &lt; name.length. This would prevent looping to name[3] and would instead stop at name[2]</p>\n\n<p><code>for(int i = 0; i&lt;name.length; i++)</code></p></li>\n<li><p>Use a for each loop</p>\n\n<p><code>String[] name = { \"tom\", \"dick\", \"harry\" };\nfor(String n : name) {\n    System.out.println(n);\n}</code></p></li>\n<li><p>Use list.forEach(Consumer action) (requires Java8)</p>\n\n<p><code>String[] name = { \"tom\", \"dick\", \"harry\" };\nArrays.asList(name).forEach(System.out::println);</code></p></li>\n<li><p>Convert array to stream - this is a good option if you want to perform additional 'operations' to your array e.g. filter, transform the text, convert to a map etc (requires Java8)</p>\n\n<p><code>String[] name = { \"tom\", \"dick\", \"harry\" };\n---  Arrays.asList(name).stream().forEach(System.out::println);\n---  Stream.of(name).forEach(System.out::println);</code></p></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":13069368,"reputation":386,"user_id":9443465,"display_name":"Sachithra Dilshan"},"comment_count":0,"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1555041573,"creation_date":1555036986,"answer_id":55643744,"question_id":5554734,"body_markdown":"If you use an array&#39;s length to control iteration of a **for** loop, always remember that the index of the first item in an array is **0**. So the index of the last element in an array is one less than the array&#39;s length.","title":"What causes a java.lang.ArrayIndexOutOfBoundsException and how do I prevent it?","body":"<p>If you use an array's length to control iteration of a <strong>for</strong> loop, always remember that the index of the first item in an array is <strong>0</strong>. So the index of the last element in an array is one less than the array's length.</p>\n"},{"tags":[],"owner":{"account_id":8703448,"reputation":97,"user_id":6512432,"display_name":"Andrey Lavrukhin"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1568722563,"creation_date":1568722563,"answer_id":57974025,"question_id":5554734,"body_markdown":"You can use Optional in functional style to avoid `NullPointerException` and `ArrayIndexOutOfBoundsException` :\r\n\r\n    String[] array = new String[]{&quot;aaa&quot;, null, &quot;ccc&quot;};\r\n    for (int i = 0; i &lt; 4; i++) {\r\n    \tString result = Optional.ofNullable(array.length &gt; i ? array[i] : null)\r\n    \t\t\t.map(x -&gt; x.toUpperCase()) //some operation here\r\n    \t\t\t.orElse(&quot;NO_DATA&quot;);\r\n    \tSystem.out.println(result);\r\n    }\r\n\r\nOutput:\r\n\r\n    AAA\r\n    NO_DATA\r\n    CCC\r\n    NO_DATA\r\n\r\n","title":"What causes a java.lang.ArrayIndexOutOfBoundsException and how do I prevent it?","body":"<p>You can use Optional in functional style to avoid <code>NullPointerException</code> and <code>ArrayIndexOutOfBoundsException</code> :</p>\n\n<pre><code>String[] array = new String[]{\"aaa\", null, \"ccc\"};\nfor (int i = 0; i &lt; 4; i++) {\n    String result = Optional.ofNullable(array.length &gt; i ? array[i] : null)\n            .map(x -&gt; x.toUpperCase()) //some operation here\n            .orElse(\"NO_DATA\");\n    System.out.println(result);\n}\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>AAA\nNO_DATA\nCCC\nNO_DATA\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8008499,"reputation":225,"user_id":6041068,"display_name":"Dhanushka Sampath"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1690114594,"creation_date":1690114594,"answer_id":76748188,"question_id":5554734,"body_markdown":"An ArrayIdexOutOfBoundException occurs when you try to access an index of an array which does not exists. In your scenario when i = 3, you try to retrieve the 3rd index of the names array. But names array holds values up to 2nd index. \r\n\r\nSince there are no value at 3rd index of the array, This Exception is thrown.    ","title":"What causes a java.lang.ArrayIndexOutOfBoundsException and how do I prevent it?","body":"<p>An ArrayIdexOutOfBoundException occurs when you try to access an index of an array which does not exists. In your scenario when i = 3, you try to retrieve the 3rd index of the names array. But names array holds values up to 2nd index.</p>\n<p>Since there are no value at 3rd index of the array, This Exception is thrown.</p>\n"}],"owner":{"account_id":298708,"reputation":11365,"user_id":604864,"accept_rate":98,"display_name":"Aaron"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":991315,"favorite_count":0,"down_vote_count":5,"up_vote_count":361,"accepted_answer_id":5554781,"answer_count":25,"score":356,"last_activity_date":1690114594,"creation_date":1302018843,"question_id":5554734,"body_markdown":"What does `ArrayIndexOutOfBoundsException` mean and how do I get rid of it? \r\n\r\nHere is a code sample that triggers the exception:\r\n\r\n    String[] names = { &quot;tom&quot;, &quot;bob&quot;, &quot;harry&quot; };\r\n    for (int i = 0; i &lt;= names.length; i++) {\r\n        System.out.println(names[i]);\r\n    }\r\n","title":"What causes a java.lang.ArrayIndexOutOfBoundsException and how do I prevent it?","body":"<p>What does <code>ArrayIndexOutOfBoundsException</code> mean and how do I get rid of it? </p>\n\n<p>Here is a code sample that triggers the exception:</p>\n\n<pre><code>String[] names = { \"tom\", \"bob\", \"harry\" };\nfor (int i = 0; i &lt;= names.length; i++) {\n    System.out.println(names[i]);\n}\n</code></pre>\n"},{"tags":["java","arrays","arraylist"],"comments":[{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":1,"creation_date":1690106886,"post_id":76747649,"comment_id":135304414,"body_markdown":"&quot;I know that what is getting returned is the reference and not the actual value.&quot; No you don&#39;t. What is returrned is `true` or `false`. The problem here is that `ArrayList` works on object equality, and `int[]` doesn&#39;t override `Object.equals()` to compare the contents of the arrays, so you get object *identity*, via the `==` operator; so `contains()` returns false as you must be supplying a different `int[]` from the one that is already in the `ArrayList`, *even if its element values are the same.* Moral: `int[]` isn&#39;t a great datatype to use in an `ArrayList`.","body":"&quot;I know that what is getting returned is the reference and not the actual value.&quot; No you don&#39;t. What is returrned is <code>true</code> or <code>false</code>. The problem here is that <code>ArrayList</code> works on object equality, and <code>int[]</code> doesn&#39;t override <code>Object.equals()</code> to compare the contents of the arrays, so you get object <i>identity</i>, via the <code>==</code> operator; so <code>contains()</code> returns false as you must be supplying a different <code>int[]</code> from the one that is already in the <code>ArrayList</code>, <i>even if its element values are the same.</i> Moral: <code>int[]</code> isn&#39;t a great datatype to use in an <code>ArrayList</code>."},{"owner":{"account_id":16507504,"reputation":1,"user_id":11927188,"display_name":"Stan"},"score":0,"creation_date":1690114157,"post_id":76747649,"comment_id":135305163,"body_markdown":"You&#39;re right, I didn&#39;t express myself properly. What I meant to say is that the values which are compared are the reference values, not the actual values.","body":"You&#39;re right, I didn&#39;t express myself properly. What I meant to say is that the values which are compared are the reference values, not the actual values."},{"owner":{"account_id":24299570,"reputation":549,"user_id":18243271,"display_name":"Sadeed_pv"},"score":0,"creation_date":1690223245,"post_id":76747649,"comment_id":135320462,"body_markdown":"Please see [How to create a Minimal, Reproducible Example](https://stackoverflow.com/help/minimal-reproducible-example)","body":"Please see <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">How to create a Minimal, Reproducible Example</a>"}],"answers":[{"tags":[],"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1690107108,"creation_date":1690107108,"answer_id":76747700,"question_id":76747649,"body_markdown":"As you already determined, `List.contains` will return results if the contained element and the given element are equal according to `Object.equals`. The problem is, arrays don&#39;t implement that the way you&#39;d expect. You want `Arrays.equals` instead:\r\n\r\n```\r\nfor (int[] element : myList) {\r\n  if (Arrays.equals(element, target)) {\r\n    // found it!\r\n  }\r\n}\r\n```\r\n","title":"Find specific int[] element inside ArrayList&lt;int[]&gt;","body":"<p>As you already determined, <code>List.contains</code> will return results if the contained element and the given element are equal according to <code>Object.equals</code>. The problem is, arrays don't implement that the way you'd expect. You want <code>Arrays.equals</code> instead:</p>\n<pre><code>for (int[] element : myList) {\n  if (Arrays.equals(element, target)) {\n    // found it!\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":16507504,"reputation":1,"user_id":11927188,"display_name":"Stan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":51,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1690114017,"creation_date":1690106531,"question_id":76747649,"body_markdown":"I&#39;m trying to find if a specific int[] exists within an ArrayList&lt;int[]&gt;, but when I use the method \r\n.contains(value) it always returns false. I know that what is getting compared are the reference values. \r\n\r\nI&#39;ve tried converting each array element into a primitive hash, and storing it in another arrayList,  but this process takes too long and when I submit my code I go past the time limit.","title":"Find specific int[] element inside ArrayList&lt;int[]&gt;","body":"<p>I'm trying to find if a specific int[] exists within an ArrayList&lt;int[]&gt;, but when I use the method\n.contains(value) it always returns false. I know that what is getting compared are the reference values.</p>\n<p>I've tried converting each array element into a primitive hash, and storing it in another arrayList,  but this process takes too long and when I submit my code I go past the time limit.</p>\n"},{"tags":["java","generics"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":3,"creation_date":1690110321,"post_id":76747889,"comment_id":135304757,"body_markdown":"`&lt;?&gt;` denotes that one does not know the generic type. This concept is known as wildcard. I recommend reading a tutorial on the topic, e.g. [this one at `docs.oracle.com`](https://docs.oracle.com/javase/tutorial/extra/generics/wildcards.html).","body":"<code>&lt;?&gt;</code> denotes that one does not know the generic type. This concept is known as wildcard. I recommend reading a tutorial on the topic, e.g. <a href=\"https://docs.oracle.com/javase/tutorial/extra/generics/wildcards.html\" rel=\"nofollow noreferrer\">this one at <code>docs.oracle.com</code></a>."}],"answers":[{"comments":[{"owner":{"account_id":14010051,"reputation":1143,"user_id":10118965,"display_name":"davidalayachew"},"score":0,"creation_date":1690129173,"post_id":76748133,"comment_id":135307073,"body_markdown":"The reason you are getting downvoted is because your answer strongly implies reification, which is exactly what Java generics ***DO NOT DO***. Maybe you meant something else?","body":"The reason you are getting downvoted is because your answer strongly implies reification, which is exactly what Java generics <b><i>DO NOT DO</i></b>. Maybe you meant something else?"}],"tags":[],"owner":{"account_id":18144473,"reputation":100,"user_id":13197949,"display_name":"simonecocco"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1690113821,"creation_date":1690113821,"answer_id":76748133,"question_id":76747889,"body_markdown":"The generic type `T` serves as a _&quot;special variable&quot;_ that stores a data type. During compilation, it is replaced with the specific type that it represents. \r\n\r\nThis offers flexibility when creating new objects.\r\n\r\nFor instance, instead of having `IntegerArrayList` or `StringArrayList`, we can utilize a single class with a custom data type (which is translated at compile time), such as `new ArrayList&lt;Integer&gt;` or `ArrayList&lt;String&gt;`. These are identical classes, only differing in the data type they store.\r\n\r\nThe wildcard (`?`) operates in a similar way, but in contrast to the generic type `T`, it requires knowledge about the superclass.\r\n\r\nWith a wildcard, there are two possibilities:\r\n1. Using `List&lt;? extends MyClass&gt;`, we can ensure that each object in the list is of type `MyClass`.\r\n2. On the other hand, with `List&lt;? super MyClass&gt;`, we can guarantee that the list is capable of containing `MyClass` type, but the objects cannot be directly instances of `MyClass`.\r\n\r\nI hope this helps clarify things.\r\n\r\n(Source: [Wikipedia](https://en.wikipedia.org/wiki/Wildcard_(Java)))","title":"Java programming- generics and jokers","body":"<p>The generic type <code>T</code> serves as a <em>&quot;special variable&quot;</em> that stores a data type. During compilation, it is replaced with the specific type that it represents.</p>\n<p>This offers flexibility when creating new objects.</p>\n<p>For instance, instead of having <code>IntegerArrayList</code> or <code>StringArrayList</code>, we can utilize a single class with a custom data type (which is translated at compile time), such as <code>new ArrayList&lt;Integer&gt;</code> or <code>ArrayList&lt;String&gt;</code>. These are identical classes, only differing in the data type they store.</p>\n<p>The wildcard (<code>?</code>) operates in a similar way, but in contrast to the generic type <code>T</code>, it requires knowledge about the superclass.</p>\n<p>With a wildcard, there are two possibilities:</p>\n<ol>\n<li>Using <code>List&lt;? extends MyClass&gt;</code>, we can ensure that each object in the list is of type <code>MyClass</code>.</li>\n<li>On the other hand, with <code>List&lt;? super MyClass&gt;</code>, we can guarantee that the list is capable of containing <code>MyClass</code> type, but the objects cannot be directly instances of <code>MyClass</code>.</li>\n</ol>\n<p>I hope this helps clarify things.</p>\n<p>(Source: <a href=\"https://en.wikipedia.org/wiki/Wildcard_(Java)\" rel=\"nofollow noreferrer\">Wikipedia</a>)</p>\n"}],"owner":{"account_id":27076796,"reputation":9,"user_id":22271336,"display_name":"Roy Dahan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":64,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1690113821,"creation_date":1690110124,"question_id":76747889,"body_markdown":"I&#39;m a CS student learning to a Test in Software (introductory course in OOP and Java), and I didn&#39;t understand the Core difference between generic type (`&lt;T&gt;`) and Joker types (`&lt;?&gt;`). However, I did understand that the joker is more &quot;inclusive&quot;.\r\ncan someone denote the differences, and similarities between those?\r\nthanks!\r\n\r\nfor example, I know that the first method is compiled successfully, yet the second is not.\r\n\r\n```\r\npublic &lt;T&gt; void f1(List&lt;T&gt; list) {\r\n    list.add(list.get(0));\r\n}\r\n```\r\n\r\n```\r\npublic void f2(List&lt;?&gt; list) {\r\n    list.add(list.get(0));\r\n}\r\n```\r\n","title":"Java programming- generics and jokers","body":"<p>I'm a CS student learning to a Test in Software (introductory course in OOP and Java), and I didn't understand the Core difference between generic type (<code>&lt;T&gt;</code>) and Joker types (<code>&lt;?&gt;</code>). However, I did understand that the joker is more &quot;inclusive&quot;.\ncan someone denote the differences, and similarities between those?\nthanks!</p>\n<p>for example, I know that the first method is compiled successfully, yet the second is not.</p>\n<pre><code>public &lt;T&gt; void f1(List&lt;T&gt; list) {\n    list.add(list.get(0));\n}\n</code></pre>\n<pre><code>public void f2(List&lt;?&gt; list) {\n    list.add(list.get(0));\n}\n</code></pre>\n"},{"tags":["java","object","recursion","processing"],"comments":[{"owner":{"account_id":7142980,"reputation":323263,"user_id":5459839,"display_name":"trincot"},"score":0,"creation_date":1690182433,"post_id":76748029,"comment_id":135312092,"body_markdown":"What is `generations`? It is nowhere defined. Where do you set it to 4 (or whatever)? Please provide the code that is necessary to *reproduce* the problem.","body":"What is <code>generations</code>? It is nowhere defined. Where do you set it to 4 (or whatever)? Please provide the code that is necessary to <i>reproduce</i> the problem."},{"owner":{"account_id":384206,"reputation":50386,"user_id":740553,"accept_rate":46,"display_name":"Mike &#39;Pomax&#39; Kamermans"},"score":0,"creation_date":1690220722,"post_id":76748029,"comment_id":135320065,"body_markdown":"There is no recursive function in your code. Your `gen(float)` creates a new object, then you call that object&#39;s `get(float)` method. A recursive function calls itself (with updated arguments that at some point lead to an immediate return). Also, what is your &quot;regular&quot; code supposed to do? You&#39;ve created a float array, so by default all its values are 0, then you back-propagate all the values, which does nothing. You still have an all zero array. Then you set [0] to a random value, and then you sum that one value plus all the remaining zeros, which is just that one value. Why use arrays then?","body":"There is no recursive function in your code. Your <code>gen(float)</code> creates a new object, then you call that object&#39;s <code>get(float)</code> method. A recursive function calls itself (with updated arguments that at some point lead to an immediate return). Also, what is your &quot;regular&quot; code supposed to do? You&#39;ve created a float array, so by default all its values are 0, then you back-propagate all the values, which does nothing. You still have an all zero array. Then you set [0] to a random value, and then you sum that one value plus all the remaining zeros, which is just that one value. Why use arrays then?"},{"owner":{"account_id":7717241,"reputation":3149,"user_id":5844572,"display_name":"laancelot"},"score":0,"creation_date":1690238482,"post_id":76748029,"comment_id":135322766,"body_markdown":"You do not need recursion here. As a matter of fact, I suspect that it would make your code worse, even if it could be clever. And believe me, I love recursion with a passion. But real non-idiotic examples of needing recursion are surprising uncommon, and it&#39;s even less when working as part of a team because you have to make certain that your code is maintainable. Back to this example, I would tell you to use an iterative logic without a hint of a doubt, unless you want to experiment with recursion just for kicks.","body":"You do not need recursion here. As a matter of fact, I suspect that it would make your code worse, even if it could be clever. And believe me, I love recursion with a passion. But real non-idiotic examples of needing recursion are surprising uncommon, and it&#39;s even less when working as part of a team because you have to make certain that your code is maintainable. Back to this example, I would tell you to use an iterative logic without a hint of a doubt, unless you want to experiment with recursion just for kicks."},{"owner":{"account_id":29073862,"reputation":1,"user_id":22271518,"display_name":"firewall"},"score":0,"creation_date":1690277225,"post_id":76748029,"comment_id":135327425,"body_markdown":"@Mike&#39;Pomax&#39;Kamermans Thank you for reading! With the gen(float) I am calling the new objects gen(float) with the previous output as input making it recursive.","body":"@Mike&#39;Pomax&#39;Kamermans Thank you for reading! With the gen(float) I am calling the new objects gen(float) with the previous output as input making it recursive."},{"owner":{"account_id":7142980,"reputation":323263,"user_id":5459839,"display_name":"trincot"},"score":0,"creation_date":1690277327,"post_id":76748029,"comment_id":135327445,"body_markdown":"Please provide the code that is necessary to *reproduce* the problem. The driving code is missing.","body":"Please provide the code that is necessary to <i>reproduce</i> the problem. The driving code is missing."},{"owner":{"account_id":384206,"reputation":50386,"user_id":740553,"accept_rate":46,"display_name":"Mike &#39;Pomax&#39; Kamermans"},"score":0,"creation_date":1690297921,"post_id":76748029,"comment_id":135332166,"body_markdown":"@firewall only in the &quot;if you squint very hard&quot; sense. You&#39;re not making a function recurse,  you&#39;re creating a chain of objects that you delegate a single step in a function to (it&#39;s similar to recursion, but it&#39;s not recursion). So of course the main question is: why are you creating new objects at all instead of using actual recursion, given that those objects are all going to get garbage collected, so why spend the time on object creation and GC overhead?","body":"@firewall only in the &quot;if you squint very hard&quot; sense. You&#39;re not making a function recurse,  you&#39;re creating a chain of objects that you delegate a single step in a function to (it&#39;s similar to recursion, but it&#39;s not recursion). So of course the main question is: why are you creating new objects at all instead of using actual recursion, given that those objects are all going to get garbage collected, so why spend the time on object creation and GC overhead?"},{"owner":{"account_id":29073862,"reputation":1,"user_id":22271518,"display_name":"firewall"},"score":0,"creation_date":1690366931,"post_id":76748029,"comment_id":135342509,"body_markdown":"@Mike&#39;Pomax&#39;Kamermans I think I am not quite fluent enough in objects to see the difference.\n\nThe &quot;regular&quot; code generates random numbers and fills an array with the latest 100 numbers. By taking the average of the array i get a continually changing random number with smoother movement. By iterating this proces with the previous output as input the change gets smoother with each iteration. \n\nIn the &quot;regular&quot; code I have to define new arrays and variables for each iteration. I was thinking that using an object would be simpler by creating the needed data in the object instead.","body":"@Mike&#39;Pomax&#39;Kamermans I think I am not quite fluent enough in objects to see the difference.  The &quot;regular&quot; code generates random numbers and fills an array with the latest 100 numbers. By taking the average of the array i get a continually changing random number with smoother movement. By iterating this proces with the previous output as input the change gets smoother with each iteration.   In the &quot;regular&quot; code I have to define new arrays and variables for each iteration. I was thinking that using an object would be simpler by creating the needed data in the object instead."},{"owner":{"account_id":384206,"reputation":50386,"user_id":740553,"accept_rate":46,"display_name":"Mike &#39;Pomax&#39; Kamermans"},"score":0,"creation_date":1690383594,"post_id":76748029,"comment_id":135346441,"body_markdown":"That&#39;s not what it does. You start on frame one with an array `random` that is all zeroes. You then run through it backwards, moving all elements in it to the right one spot. So now it&#39;s _still_ all zeroes. Then you set `random[0]` to a random number. Now it&#39;s an array with one random number, and all zeroes everywhere else. Then you sum and normalize. On the next frame, you move everything again, set a new [0] to a random number, and then resum and normalize. _why_? How is this any better than just generating a new random number directly? You&#39;re not making things &quot;more random&quot;.","body":"That&#39;s not what it does. You start on frame one with an array <code>random</code> that is all zeroes. You then run through it backwards, moving all elements in it to the right one spot. So now it&#39;s <i>still</i> all zeroes. Then you set <code>random[0]</code> to a random number. Now it&#39;s an array with one random number, and all zeroes everywhere else. Then you sum and normalize. On the next frame, you move everything again, set a new [0] to a random number, and then resum and normalize. <i>why</i>? How is this any better than just generating a new random number directly? You&#39;re not making things &quot;more random&quot;."}],"owner":{"account_id":29073862,"reputation":1,"user_id":22271518,"display_name":"firewall"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690112695,"creation_date":1690112468,"question_id":76748029,"body_markdown":"I&#39;m learning with Processing and I am trying to create smooth random motion. I have successfully done this in a very long winded way and noticed that this would benefit from a recursive function within an object creating new copys of itself. I tried this method but was unable to recreate the behavior i acheived manually.\r\n\r\n\r\n\r\nThe manual approach I used is seen below. With a function I generate randomGaussian numbers and update an array with the latest 100 numbers each frame. Taking the average of the array each frame gives a smoother set of random numbers. Iterating this process with the previous output as the input gives smoother still random nummbers.\r\n\r\n\r\n```\r\nfloat x;\r\nfloat y;\r\nint elements;\r\n\r\nfloat[] random;\r\nfloat[] random0;\r\nfloat[] random1;\r\nfloat[] random2;\r\n\r\n\r\nfloat sum;\r\nfloat sum0;\r\nfloat sum1;\r\nfloat sum2;\r\n\r\nvoid setup() {\r\n  size(800 ,800);\r\n  frameRate(120);\r\n  \r\n  x = 0;\r\n  y = 0;\r\n  elements = 100;\r\n  \r\n  sum = 0;\r\n  sum0 = 0;\r\n  sum1 = 0;\r\n  sum2 = 0;\r\n\r\n\r\n  random = new float[elements];  \r\n  random0 = new float[elements];\r\n  random1 = new float[elements];\r\n  random2 = new float[elements];\r\n\r\n}\r\n\r\nvoid draw() {\r\n  translate(width/2, height/2);\r\n  background(0);\r\n  stroke(255);  \r\n  line(-width/2, 0, width/2, 0); \r\n  \r\n  \r\n  // random\r\n  for (int i = elements-1; i &gt; 0; i--) {\r\n    random[i] = random[i-1];\r\n  }\r\n  random[0] = randomGaussian();\r\n  for (int i = 0  ; i &lt; elements; i++) {\r\n    sum += random[i];\r\n  }\r\n  sum = sum/elements;\r\n  \r\n  \r\n  //random0 \r\n  for (int i = elements-1; i &gt; 0; i--) {\r\n    random0[i] = random0[i-1];\r\n  }  \r\n  random0[0] = sum;\r\n  for (int i = 0  ; i &lt; elements; i++) {\r\n    sum0 += random0[i];\r\n  }  \r\n  sum0 = sum0/elements;\r\n  \r\n  \r\n  //random1\r\n  for (int i = elements-1; i &gt; 0; i--) {\r\n    random1[i] = random1[i-1];\r\n  }\r\n  random1[0] = sum0;\r\n  for (int i = 0  ; i &lt; elements; i++) {\r\n    sum1 += random1[i];\r\n  }\r\n   sum1 = sum1/elements;\r\n  \r\n  \r\n  //random2\r\n  for (int i = elements-1; i &gt; 0; i--) {\r\n    random2[i] = random2[i-1];\r\n  }\r\n   random2[0] = sum1;\r\n  for (int i = 0  ; i &lt; elements; i++) {\r\n    sum2 += random2[i];\r\n  }\r\n  sum2 = sum2/elements;\r\n\r\n  //circle motion\r\n  noStroke();\r\n  ellipse(0,y,20,20);\r\n  float speed = 20;\r\n  y += sum2*speed;\r\n    \r\n  if ((y &lt; -height/2) || (y &gt; height/2)) {\r\n    y = 0;\r\n  }\r\n}\r\n```\r\n\r\n \r\nAs you can see, I create many copys of the same variables and arrays making me suspect an object based approach with a recursive function would be smart.\r\n\r\nThe object I use in my unsuccessful attempt at this is seen below. I limit the recursive function with the generations variable set to 3 in the main program. This approach seems to only call 1 instance of the function. What is the problem I&#39;m not seeing?\r\n\r\n```\r\nclass Generator {\r\n  float[] array;\r\n  float output;\r\n  \r\n  Generator() {\r\n    array = new float[elements];\r\n    output = 0;\r\n  }\r\n\r\n  float gen(float input) {\r\n    for (int i = elements-1; i &gt; 0; i--) {\r\n      array[i] = array[i-1];\r\n    }\r\n    array[0] = input;\r\n    for (int i = 0  ; i &lt; elements; i++) {\r\n      output += array[i];\r\n    }\r\n    output = output/elements;\r\n    \r\n    if (generations &gt; 0) {\r\n      generations --;\r\n      Generator n = new Generator();\r\n      n.gen(output);\r\n      return 0;\r\n      \r\n    } else {            \r\n    return output;\r\n    \r\n    }\r\n  }\r\n}\r\n```\r\n\r\n","title":"How can i create new objects with a recursive function in Processing to help make smooth random motion?","body":"<p>I'm learning with Processing and I am trying to create smooth random motion. I have successfully done this in a very long winded way and noticed that this would benefit from a recursive function within an object creating new copys of itself. I tried this method but was unable to recreate the behavior i acheived manually.</p>\n<p>The manual approach I used is seen below. With a function I generate randomGaussian numbers and update an array with the latest 100 numbers each frame. Taking the average of the array each frame gives a smoother set of random numbers. Iterating this process with the previous output as the input gives smoother still random nummbers.</p>\n<pre><code>float x;\nfloat y;\nint elements;\n\nfloat[] random;\nfloat[] random0;\nfloat[] random1;\nfloat[] random2;\n\n\nfloat sum;\nfloat sum0;\nfloat sum1;\nfloat sum2;\n\nvoid setup() {\n  size(800 ,800);\n  frameRate(120);\n  \n  x = 0;\n  y = 0;\n  elements = 100;\n  \n  sum = 0;\n  sum0 = 0;\n  sum1 = 0;\n  sum2 = 0;\n\n\n  random = new float[elements];  \n  random0 = new float[elements];\n  random1 = new float[elements];\n  random2 = new float[elements];\n\n}\n\nvoid draw() {\n  translate(width/2, height/2);\n  background(0);\n  stroke(255);  \n  line(-width/2, 0, width/2, 0); \n  \n  \n  // random\n  for (int i = elements-1; i &gt; 0; i--) {\n    random[i] = random[i-1];\n  }\n  random[0] = randomGaussian();\n  for (int i = 0  ; i &lt; elements; i++) {\n    sum += random[i];\n  }\n  sum = sum/elements;\n  \n  \n  //random0 \n  for (int i = elements-1; i &gt; 0; i--) {\n    random0[i] = random0[i-1];\n  }  \n  random0[0] = sum;\n  for (int i = 0  ; i &lt; elements; i++) {\n    sum0 += random0[i];\n  }  \n  sum0 = sum0/elements;\n  \n  \n  //random1\n  for (int i = elements-1; i &gt; 0; i--) {\n    random1[i] = random1[i-1];\n  }\n  random1[0] = sum0;\n  for (int i = 0  ; i &lt; elements; i++) {\n    sum1 += random1[i];\n  }\n   sum1 = sum1/elements;\n  \n  \n  //random2\n  for (int i = elements-1; i &gt; 0; i--) {\n    random2[i] = random2[i-1];\n  }\n   random2[0] = sum1;\n  for (int i = 0  ; i &lt; elements; i++) {\n    sum2 += random2[i];\n  }\n  sum2 = sum2/elements;\n\n  //circle motion\n  noStroke();\n  ellipse(0,y,20,20);\n  float speed = 20;\n  y += sum2*speed;\n    \n  if ((y &lt; -height/2) || (y &gt; height/2)) {\n    y = 0;\n  }\n}\n</code></pre>\n<p>As you can see, I create many copys of the same variables and arrays making me suspect an object based approach with a recursive function would be smart.</p>\n<p>The object I use in my unsuccessful attempt at this is seen below. I limit the recursive function with the generations variable set to 3 in the main program. This approach seems to only call 1 instance of the function. What is the problem I'm not seeing?</p>\n<pre><code>class Generator {\n  float[] array;\n  float output;\n  \n  Generator() {\n    array = new float[elements];\n    output = 0;\n  }\n\n  float gen(float input) {\n    for (int i = elements-1; i &gt; 0; i--) {\n      array[i] = array[i-1];\n    }\n    array[0] = input;\n    for (int i = 0  ; i &lt; elements; i++) {\n      output += array[i];\n    }\n    output = output/elements;\n    \n    if (generations &gt; 0) {\n      generations --;\n      Generator n = new Generator();\n      n.gen(output);\n      return 0;\n      \n    } else {            \n    return output;\n    \n    }\n  }\n}\n</code></pre>\n"},{"tags":["java","scala"],"comments":[{"owner":{"account_id":1369470,"reputation":25454,"user_id":1305121,"accept_rate":90,"display_name":"Mateusz Kubuszok"},"score":0,"creation_date":1690102067,"post_id":76746461,"comment_id":135303911,"body_markdown":"Do you have an option to write a helper in Scala? It would be much easier if you could create an `object` or `class` with some helpers translating from-Scala-to-Java in Scala but exposing Java API, that you would just call from Java.","body":"Do you have an option to write a helper in Scala? It would be much easier if you could create an <code>object</code> or <code>class</code> with some helpers translating from-Scala-to-Java in Scala but exposing Java API, that you would just call from Java."},{"owner":{"account_id":4750876,"reputation":1347,"user_id":3840940,"accept_rate":87,"display_name":"Joseph Hwang"},"score":0,"creation_date":1690112463,"post_id":76746461,"comment_id":135304978,"body_markdown":"Thanks for the reply. Kindly check my &#39;updated part 2&#39;. and if you have any question, pls do not hesitate giving me reply.","body":"Thanks for the reply. Kindly check my &#39;updated part 2&#39;. and if you have any question, pls do not hesitate giving me reply."},{"owner":{"account_id":1369470,"reputation":25454,"user_id":1305121,"accept_rate":90,"display_name":"Mateusz Kubuszok"},"score":4,"creation_date":1690139765,"post_id":76746461,"comment_id":135308408,"body_markdown":"Sweet Jesus, Spark was never intended to be used from Java - it is supposed to be used from Scala, Python or R. You&#39;re gonna have to rewrite this code on a regular basic because some things were designed to be &quot;source-compatible&quot; not &quot;binary compatible&quot;: code would look the same in Scala 2.12 and 2.13 (or 3) while the bytecode would look completely different! Scala was intended to be superset of Java and trying to use it the other way round is like trying to using C++ from C while manually mangling functions&#39; names and reverse engineering vtables. It doesn&#39;t scale at all.","body":"Sweet Jesus, Spark was never intended to be used from Java - it is supposed to be used from Scala, Python or R. You&#39;re gonna have to rewrite this code on a regular basic because some things were designed to be &quot;source-compatible&quot; not &quot;binary compatible&quot;: code would look the same in Scala 2.12 and 2.13 (or 3) while the bytecode would look completely different! Scala was intended to be superset of Java and trying to use it the other way round is like trying to using C++ from C while manually mangling functions&#39; names and reverse engineering vtables. It doesn&#39;t scale at all."}],"answers":[{"comments":[{"owner":{"account_id":4750876,"reputation":1347,"user_id":3840940,"accept_rate":87,"display_name":"Joseph Hwang"},"score":0,"creation_date":1690097211,"post_id":76746525,"comment_id":135303454,"body_markdown":"Thanks for your immediate reply. But the error is thrown from the codes. Kindly check my Updated Part. I am afraid some APIs are deprecated.","body":"Thanks for your immediate reply. But the error is thrown from the codes. Kindly check my Updated Part. I am afraid some APIs are deprecated."}],"tags":[],"owner":{"account_id":1490931,"reputation":410,"user_id":1398030,"display_name":"Madhawa Gunasekara"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690081917,"creation_date":1690081917,"answer_id":76746525,"question_id":76746461,"body_markdown":"@Joseph Hwang I think you need to deal with Tuples to do this conversion by using **asScalaBuffer**. Please try with the below approach to get the Scala Map.\r\n\r\n        private static &lt;A,B&gt; scala.collection.immutable.Map&lt;A, B&gt; toScalaMap(java.util.Map&lt;A, B&gt; m) {\r\n          List&lt;Tuple2&lt;A,B&gt;&gt; javaTuples = javaMap.entrySet().stream()\r\n                    .map(x -&gt; Tuple2.apply(x.getKey(), x.getValue()))\r\n                    .collect(Collectors.toList());\r\n        \r\n          scala.collection.Map scalaMap = scala.collection.Map$.MODULE$.apply(JavaConversions.asScalaBuffer(javaTuples).toSeq());\r\n          return scalaMap;\r\n    }\r\n\r\nFor further details refere to this post as well.\r\n\r\nhttps://stackoverflow.com/questions/11903167/convert-java-util-hashmap-to-scala-collection-immutable-map-in-java/45373345#45373345\r\n","title":"how to convert java map to scala map using scala.collection.JavaConverters","body":"<p>@Joseph Hwang I think you need to deal with Tuples to do this conversion by using <strong>asScalaBuffer</strong>. Please try with the below approach to get the Scala Map.</p>\n<pre><code>    private static &lt;A,B&gt; scala.collection.immutable.Map&lt;A, B&gt; toScalaMap(java.util.Map&lt;A, B&gt; m) {\n      List&lt;Tuple2&lt;A,B&gt;&gt; javaTuples = javaMap.entrySet().stream()\n                .map(x -&gt; Tuple2.apply(x.getKey(), x.getValue()))\n                .collect(Collectors.toList());\n    \n      scala.collection.Map scalaMap = scala.collection.Map$.MODULE$.apply(JavaConversions.asScalaBuffer(javaTuples).toSeq());\n      return scalaMap;\n}\n</code></pre>\n<p>For further details refere to this post as well.</p>\n<p><a href=\"https://stackoverflow.com/questions/11903167/convert-java-util-hashmap-to-scala-collection-immutable-map-in-java/45373345#45373345\">Convert java.util.HashMap to scala.collection.immutable.Map in java</a></p>\n"}],"owner":{"account_id":4750876,"reputation":1347,"user_id":3840940,"accept_rate":87,"display_name":"Joseph Hwang"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":99,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1690112284,"creation_date":1690079612,"question_id":76746461,"body_markdown":"I try to convert java map to scala map in java static function.\r\n\r\n    OS: windows 11 \r\n    jdk: 17\r\n    spark : spark-3.4.1-bin-hadoop3\r\n    ide : visual studio code\r\n\r\nBelow codes are the converting function.\r\n\r\n    import scala.Predef;\r\n    import scala.Tuple2;\r\n    import scala.collection.JavaConverters;\r\n    \r\n    private static &lt;A,B&gt; scala.collection.immutable.Map&lt;A, B&gt; toScalaMap(java.util.Map&lt;A, B&gt; m) {\r\n         return JavaConverters.mapAsScalaMapConverter(m).asScala().toMap(Predef.&lt;Tuple2&lt;A,B&gt;&gt;$conforms());\r\n    }\r\n\r\nBut the toMap function throws the exception.\r\n\r\n    The method toMap($less$colon$less&lt;Tuple2&lt;A,B&gt;,Tuple2&lt;K$,V$&gt;&gt;) in the type IterableOnceOps&lt;Tuple2&lt;A,B&gt;,Iterable,Map&lt;A,B&gt;&gt; is not applicable for the arguments (Function1&lt;Tuple2&lt;A,B&gt;,Tuple2&lt;A,B&gt;&gt;)\r\n\r\nIt seems that the parameters of toMap function are not correct. But I am a newbie of scala and I have no idea how to correct the toMap function parameters. Kindly inform me what the correct parameters have to be. \r\n\r\n\r\n**== Updated Part**\r\n\r\nKindly check my codes. Below codes throw Errors.\r\n\r\n\r\n    private static &lt;A,B&gt; scala.collection.immutable.Map&lt;A, B&gt; toScalaMap(java.util.Map&lt;A, B&gt; m) {\r\n            List&lt;Tuple2&lt;A,B&gt;&gt; javaTuples = m.entrySet().stream()\r\n                    .map(x -&gt; Tuple2.apply(x.getKey(), x.getValue()))\r\n                    .collect(Collectors.toList());\r\n        \r\n            scala.collection.Map&lt;A,B&gt; scalaMap = scala.collection.Map$.MODULE$.apply(JavaConversions.asScalaBuffer(javaTuples).toSeq());\r\n            return scalaMap;\r\n        }\r\n\r\n\r\nThe errors are \r\n\r\n    The method asScalaBuffer(List&lt;Tuple2&lt;A,B&gt;&gt;) is undefined for the type JavaConversions. \r\n\r\n\r\n**== Updated Part 2**\r\n\r\nThese are my java codes.\r\n\r\n    private static &lt;A,B&gt; scala.collection.immutable.Map&lt;A, B&gt; toScalaMap(Map&lt;A, B&gt; m) {\r\n    \treturn JavaConverters.mapAsScalaMapConverter(m).asScala().toMap(Predef.$conforms());\r\n    }\r\n    \r\n    SparkSession spark = SparkSession.builder().master(&quot;local[*]&quot;).appName(appName).getOrCreate();\r\n    \r\n    Dataset&lt;Row&gt; df = spark.read().format(&quot;kafka&quot;)\r\n    \t\t\t.options(kafkaParams)\r\n    \t\t\t.load()\r\n    \t\t\t.selectExpr(&quot;CAST(value AS STRING) as column&quot;).filter(not(col(&quot;column&quot;).startsWith(&quot;date&quot;)));\r\n    \r\n    Map&lt;String, String&gt; options = new HashMap&lt;String, String&gt;();\r\n    \t\t\t\r\n    Dataset&lt;Row&gt; dfs = df.select(from_csv(col(&quot;column&quot;), StoredColumnPojo.getStructType(), toScalaMap(options))\r\n    \t\t\t.as(&quot;entityStoredPojo&quot;))\r\n    \t\t\t.selectExpr(&quot;entityStoredPojo.date&quot;, &quot;entityStoredPojo.value&quot;, &quot;entityStoredPojo.id&quot;, \r\n    \t\t\t\t\t\t&quot;entityStoredPojo.title&quot;, &quot;entityStoredPojo.state&quot;, &quot;entityStoredPojo.frequency_short&quot;, \r\n    \t\t\t\t\t\t&quot;entityStoredPojo.units_short&quot;, &quot;entityStoredPojo.seasonal_adjustment_short&quot;).toDF();\r\n\t\t\t\t\t\t\r\nAs you see, `toScalaMap(options)` method is parameter function to execute spark dataframe api. The above codes works successfully with spark-core_2.12, version 3.2.1. But I upgrade the spark-core_2.13 and the toScalaMap function throws the exception. I think the error is the matter of version problem, but I have no idea why.","title":"how to convert java map to scala map using scala.collection.JavaConverters","body":"<p>I try to convert java map to scala map in java static function.</p>\n<pre><code>OS: windows 11 \njdk: 17\nspark : spark-3.4.1-bin-hadoop3\nide : visual studio code\n</code></pre>\n<p>Below codes are the converting function.</p>\n<pre><code>import scala.Predef;\nimport scala.Tuple2;\nimport scala.collection.JavaConverters;\n\nprivate static &lt;A,B&gt; scala.collection.immutable.Map&lt;A, B&gt; toScalaMap(java.util.Map&lt;A, B&gt; m) {\n     return JavaConverters.mapAsScalaMapConverter(m).asScala().toMap(Predef.&lt;Tuple2&lt;A,B&gt;&gt;$conforms());\n}\n</code></pre>\n<p>But the toMap function throws the exception.</p>\n<pre><code>The method toMap($less$colon$less&lt;Tuple2&lt;A,B&gt;,Tuple2&lt;K$,V$&gt;&gt;) in the type IterableOnceOps&lt;Tuple2&lt;A,B&gt;,Iterable,Map&lt;A,B&gt;&gt; is not applicable for the arguments (Function1&lt;Tuple2&lt;A,B&gt;,Tuple2&lt;A,B&gt;&gt;)\n</code></pre>\n<p>It seems that the parameters of toMap function are not correct. But I am a newbie of scala and I have no idea how to correct the toMap function parameters. Kindly inform me what the correct parameters have to be.</p>\n<p><strong>== Updated Part</strong></p>\n<p>Kindly check my codes. Below codes throw Errors.</p>\n<pre><code>private static &lt;A,B&gt; scala.collection.immutable.Map&lt;A, B&gt; toScalaMap(java.util.Map&lt;A, B&gt; m) {\n        List&lt;Tuple2&lt;A,B&gt;&gt; javaTuples = m.entrySet().stream()\n                .map(x -&gt; Tuple2.apply(x.getKey(), x.getValue()))\n                .collect(Collectors.toList());\n    \n        scala.collection.Map&lt;A,B&gt; scalaMap = scala.collection.Map$.MODULE$.apply(JavaConversions.asScalaBuffer(javaTuples).toSeq());\n        return scalaMap;\n    }\n</code></pre>\n<p>The errors are</p>\n<pre><code>The method asScalaBuffer(List&lt;Tuple2&lt;A,B&gt;&gt;) is undefined for the type JavaConversions. \n</code></pre>\n<p><strong>== Updated Part 2</strong></p>\n<p>These are my java codes.</p>\n<pre><code>private static &lt;A,B&gt; scala.collection.immutable.Map&lt;A, B&gt; toScalaMap(Map&lt;A, B&gt; m) {\n    return JavaConverters.mapAsScalaMapConverter(m).asScala().toMap(Predef.$conforms());\n}\n\nSparkSession spark = SparkSession.builder().master(&quot;local[*]&quot;).appName(appName).getOrCreate();\n\nDataset&lt;Row&gt; df = spark.read().format(&quot;kafka&quot;)\n            .options(kafkaParams)\n            .load()\n            .selectExpr(&quot;CAST(value AS STRING) as column&quot;).filter(not(col(&quot;column&quot;).startsWith(&quot;date&quot;)));\n\nMap&lt;String, String&gt; options = new HashMap&lt;String, String&gt;();\n            \nDataset&lt;Row&gt; dfs = df.select(from_csv(col(&quot;column&quot;), StoredColumnPojo.getStructType(), toScalaMap(options))\n            .as(&quot;entityStoredPojo&quot;))\n            .selectExpr(&quot;entityStoredPojo.date&quot;, &quot;entityStoredPojo.value&quot;, &quot;entityStoredPojo.id&quot;, \n                        &quot;entityStoredPojo.title&quot;, &quot;entityStoredPojo.state&quot;, &quot;entityStoredPojo.frequency_short&quot;, \n                        &quot;entityStoredPojo.units_short&quot;, &quot;entityStoredPojo.seasonal_adjustment_short&quot;).toDF();\n                    \n</code></pre>\n<p>As you see, <code>toScalaMap(options)</code> method is parameter function to execute spark dataframe api. The above codes works successfully with spark-core_2.12, version 3.2.1. But I upgrade the spark-core_2.13 and the toScalaMap function throws the exception. I think the error is the matter of version problem, but I have no idea why.</p>\n"},{"tags":["java","hibernate"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1690112441,"post_id":76747800,"comment_id":135304973,"body_markdown":"You should run your program under the debugger and step through it.","body":"You should run your program under the debugger and step through it."}],"answers":[{"comments":[{"owner":{"account_id":26174937,"reputation":27,"user_id":19859254,"display_name":"Sai Chakra"},"score":1,"creation_date":1690120128,"post_id":76747999,"comment_id":135305894,"body_markdown":"Hi @Dmitrii Podlesnykh first of all Thanks for your Solution. Yeah you are correct I have used String for Primary Key and I came to know this Issue by using (Exception e)  e.getCause() method before looking into your answer and Fixed it Once again Thanks a lot. But I have used Integer that also worked for me.","body":"Hi @Dmitrii Podlesnykh first of all Thanks for your Solution. Yeah you are correct I have used String for Primary Key and I came to know this Issue by using (Exception e)  e.getCause() method before looking into your answer and Fixed it Once again Thanks a lot. But I have used Integer that also worked for me."}],"tags":[],"owner":{"account_id":8628424,"reputation":91,"user_id":6460906,"display_name":"Dmitrii Podlesnykh"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1690111962,"creation_date":1690111962,"answer_id":76747999,"question_id":76747800,"body_markdown":"It looks like your data was not saved to the data storage.\r\nProbable reason: incorrect generated Primary Key.\r\n\r\nYour Accounts entity has an ID type = **String**.\r\n\r\nPlease try to use the following annotations for your primary key:\r\n-----------------------------------------------------------------\r\n\r\n 1. the Generic generator annotation\r\n 2. @GeneratedValue(generator = &quot;uuid&quot;)\r\n\r\nExample:\r\n\r\n    @Id\r\n    @GeneratedValue(generator = &quot;uuid&quot;)\r\n    @GenericGenerator(name = &quot;uuid&quot;, strategy = &quot;uuid2&quot;)\r\n    private String accountNumber;\r\n\r\n\r\n\r\nThe second option:\r\n------------------\r\n\r\n&lt;br&gt;You can use **Integer/Long/UUID** type for your primary key:\r\nEntity field:\r\n\r\n    @Id\r\n    @GeneratedValue\r\n    private Long accountNumber;\r\n\r\nRepository (CrudRepository&lt;Accounts, **Long**&gt; );\r\n\r\n    @Repository\r\n    public interface AccountsRespository extends CrudRepository&lt;Accounts, Long&gt; \r\n    {\r\n   \r\n    }","title":"Why I am getting this Exception in Springboot application?","body":"<p>It looks like your data was not saved to the data storage.\nProbable reason: incorrect generated Primary Key.</p>\n<p>Your Accounts entity has an ID type = <strong>String</strong>.</p>\n<h2>Please try to use the following annotations for your primary key:</h2>\n<ol>\n<li>the Generic generator annotation</li>\n<li>@GeneratedValue(generator = &quot;uuid&quot;)</li>\n</ol>\n<p>Example:</p>\n<pre><code>@Id\n@GeneratedValue(generator = &quot;uuid&quot;)\n@GenericGenerator(name = &quot;uuid&quot;, strategy = &quot;uuid2&quot;)\nprivate String accountNumber;\n</code></pre>\n<h2>The second option:</h2>\n<p><br>You can use <strong>Integer/Long/UUID</strong> type for your primary key:\nEntity field:</p>\n<pre><code>@Id\n@GeneratedValue\nprivate Long accountNumber;\n</code></pre>\n<p>Repository (CrudRepository&lt;Accounts, <strong>Long</strong>&gt; );</p>\n<pre><code>@Repository\npublic interface AccountsRespository extends CrudRepository&lt;Accounts, Long&gt; \n{\n\n}\n</code></pre>\n"}],"owner":{"account_id":26174937,"reputation":27,"user_id":19859254,"display_name":"Sai Chakra"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1690124961,"accepted_answer_id":76747999,"answer_count":1,"score":1,"last_activity_date":1690111962,"creation_date":1690108913,"question_id":76747800,"body_markdown":"-How to Solve this Issue \r\n     \r\n\r\n\r\n\r\n&gt; How can I solve this Issue ? what is the exact mistake I did, I am not able to identify ?\r\n\r\n`ControllerClass`\r\n\r\n````\r\n@RestController\r\npublic class CustomerAccountsControllerImpl  {\r\n\r\n\t@Autowired \r\n\tprivate AccountsService accountService;\r\n\t\r\n\t\r\n\t@RequestMapping(value=&quot;/createAccount&quot;,method = RequestMethod.POST)\r\n\tpublic Accounts createAccount(@RequestBody Accounts value,@RequestHeader(name = &quot;User-Id&quot;,required = true) \r\n\t@Pattern(regexp = &quot;^[0-9a-z]{12}&quot;, message = &quot;Please enter valid UserId&quot;)\r\n\t@Valid @Parameter(name =&quot;User-Id&quot;,description = &quot;user id&quot;) Integer userId) throws AccountCreationException {\r\n\t\t \r\n\t\t\r\n\tAccounts AccountCreated = accountService.createAccount(value, userId);\r\n\tSystem.out.println(&quot;Dear&quot; + userId + &quot;your Account has been created&quot;);\r\n\tif(AccountCreated!=null)\r\n\t{\r\n\t\tint user = value.getUserId();\r\n\t\tSystem.out.println(&quot;Dear&quot; + user + &quot;your Account has been created&quot;);\r\n\t}\r\n\telse\r\n\t{\r\n\t\tthrow new AccountCreationException(&quot;There is an Issue while Creating &quot;\r\n\t\t\t\t+ &quot;your account please try after sometime&quot;);\r\n\t}\r\n\t\t\r\n\t\treturn AccountCreated;\r\n\t}\r\n\r\n}\r\n````\r\n\r\n`Service Implementation`\r\n\r\n```\r\npackage com.icicibank.accounts.service;\r\n\r\nimport org.slf4j.Logger;\r\nimport org.slf4j.LoggerFactory;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.stereotype.Service;\r\n\r\nimport com.icicibank.accounts.model.Accounts;\r\nimport com.icicibank.accounts.repository.AccountsRespository;\r\n\r\n@Service\r\npublic class AccountsServiceImpl implements AccountsService {\r\n\r\n\t@Autowired\r\n\tprivate AccountsRespository accountrepo;\r\n\r\n\tprivate static final Logger LOG = LoggerFactory.getLogger(AccountsServiceImpl.class);\r\n\r\n\tAccounts created = null;\r\n\t@Override\r\n\tpublic Accounts createAccount(Accounts data, Integer userId) {\r\n\t\ttry {\r\n\t\t\t\r\n\t\t\tif (data != null &amp;&amp; !userId.equals(null))\r\n\t\t\t{\r\n\t\t\t\tdata.setUserId(userId);\r\n\t\t\t\tcreated = accountrepo.save(data);\r\n\t\t\t} \r\n\t\t\telse \r\n\t\t\t{\r\n\t\t\t\tLOG.debug(&quot;Data input is empty or userId is null please check the iputs once again&quot;);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t} \r\n\t\tcatch (Exception e) {\r\n\t\t\tLOG.debug(&quot;Hey there is an Exception while calling the craeteAccount &quot; + \r\n\t\t&quot;method in AccountsServiceImpl&quot;);\r\n\t\t}\r\n\t\treturn created;\r\n\r\n\t}\r\n\r\n}\r\n````\r\n`Repository Interface`\r\n\r\n```\r\n@Repository\r\npublic interface AccountsRespository extends CrudRepository&lt;Accounts,String&gt; \r\n{\r\n\t//@SuppressWarnings(&quot;unchecked&quot;)\r\n\t//public Accounts save(Accounts craeteAccount);\r\n\t\r\n}\r\n````\r\n`Model Class`\r\n```\r\n@Entity\r\n@Data\r\npublic class Accounts {\r\n\t\r\n\t@Id\r\n\t@GeneratedValue(strategy = GenerationType.AUTO)\r\n\tprivate String accountNumber;\r\n\t\r\n\t@Column\r\n\tprivate int transactionNumber;\r\n\t\r\n\t@Column\r\n\tprivate int userId;\r\n\t\r\n\t@Column\r\n\tprivate int upiIdLimit;\r\n\t\r\n\t@Column\r\n\tprivate double accountBalance;\r\n\t\r\n\t@Column\r\n\tprivate String transactionLimitPerDay;\r\n}\r\n```\r\n`application.properties file`\r\n\r\n```\r\nserver.port = 8083\r\nspring.mvc.pathmatch.matching-strategy=ant-path-matcher\r\nspring.datasource.username=user\r\nspring.datasource.password=usernames\r\nspring.datasource.url=jdbc:mysql://localhost:3306/ICICIBANKBHIMUPIDB\r\nspring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\r\nspring.jpa.hibernate.ddl-auto=update\r\nspring.jpa.show-sql=true\r\nspring.jpa.database-platform=org.hibernate.dialect.MySQL5InnoDBDialect\r\nspring.application.name=Accounts\r\n```\r\n \r\n\r\n`Log File`\r\n```\r\n[2m2023-07-23 15:35:53.024[0;39m [32m INFO[0;39m [35m11284[0;39m [2m---[0;39m [2m[nio-8083-exec-2][0;39m [36mo.s.web.servlet.DispatcherServlet       [0;39m [2m:[0;39m Initializing Servlet &#39;dispatcherServlet&#39;\r\n[2m2023-07-23 15:35:53.026[0;39m [32m INFO[0;39m [35m11284[0;39m [2m---[0;39m [2m[nio-8083-exec-2][0;39m [36mo.s.web.servlet.DispatcherServlet       [0;39m [2m:[0;39m Completed initialization in 2 ms\r\nDear543214466your Account has been created\r\n[2m2023-07-23 15:35:53.155[0;39m [31mERROR[0;39m [35m11284[0;39m [2m---[0;39m [2m[nio-8083-exec-2][0;39m [36mo.a.c.c.C.[.[.[/].[dispatcherServlet]   [0;39m [2m:[0;39m Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is com.icicibank.accounts.Exceptions.AccountCreationException: There is an Issue while Creating your account please try after sometime] with root cause\r\n```\r\n\r\n         Here is the Log File \r\n\r\n`Root Cause in Log File`\r\n\r\n```\r\ncom.icicibank.accounts.Exceptions.AccountCreationException: There is an Issue while Creating your account please try after sometime\r\n\tat com.icicibank.accounts.controller.CustomerAccountsControllerImpl.createAccount(CustomerAccountsControllerImpl.java:38) ~[classes/:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-5.3.29.jar:5.3.29]\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-5.3.29.jar:5.3.29]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.29.jar:5.3.29]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.29.jar:5.3.29]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.29.jar:5.3.29]\r\n\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.29.jar:5.3.29]\r\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072) ~[spring-webmvc-5.3.29.jar:5.3.29]\r\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965) ~[spring-webmvc-5.3.29.jar:5.3.29]\r\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.29.jar:5.3.29]\r\n\tat org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909) ~[spring-webmvc-5.3.29.jar:5.3.29]\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:555) ~[tomcat-embed-core-9.0.78.jar:4.0.FR]\r\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.29.jar:5.3.29]\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:623) ~[tomcat-embed-core-9.0.78.jar:4.0.FR]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209) ~[tomcat-embed-core-9.0.78.jar:9.0.78]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.78.jar:9.0.78]\r\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-9.0.78.jar:9.0.78]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.78.jar:9.0.78]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.78.jar:9.0.78]\r\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.29.jar:5.3.29]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.29.jar:5.3.29]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.78.jar:9.0.78]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.78.jar:9.0.78]\r\n\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.29.jar:5.3.29]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.29.jar:5.3.29]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.78.jar:9.0.78]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.78.jar:9.0.78]\r\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.29.jar:5.3.29]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.29.jar:5.3.29]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.78.jar:9.0.78]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.78.jar:9.0.78]\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-9.0.78.jar:9.0.78]\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-9.0.78.jar:9.0.78]\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481) ~[tomcat-embed-core-9.0.78.jar:9.0.78]\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130) ~[tomcat-embed-core-9.0.78.jar:9.0.78]\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-9.0.78.jar:9.0.78]\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-9.0.78.jar:9.0.78]\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343) ~[tomcat-embed-core-9.0.78.jar:9.0.78]\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390) ~[tomcat-embed-core-9.0.78.jar:9.0.78]\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-9.0.78.jar:9.0.78]\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:926) ~[tomcat-embed-core-9.0.78.jar:9.0.78]\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1791) ~[tomcat-embed-core-9.0.78.jar:9.0.78]\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-9.0.78.jar:9.0.78]\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.78.jar:9.0.78]\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.78.jar:9.0.78]\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.78.jar:9.0.78]\r\n\tat java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\r\n``` \r\n\r\n\r\n\r\n\r\n\r\n\r\n..................................................................................................................................................................................................................\r\n\r\n\r\n\r\n\r\n\r\n","title":"Why I am getting this Exception in Springboot application?","body":"<p>-How to Solve this Issue</p>\n<blockquote>\n<p>How can I solve this Issue ? what is the exact mistake I did, I am not able to identify ?</p>\n</blockquote>\n<p><code>ControllerClass</code></p>\n<pre><code>@RestController\npublic class CustomerAccountsControllerImpl  {\n\n    @Autowired \n    private AccountsService accountService;\n    \n    \n    @RequestMapping(value=&quot;/createAccount&quot;,method = RequestMethod.POST)\n    public Accounts createAccount(@RequestBody Accounts value,@RequestHeader(name = &quot;User-Id&quot;,required = true) \n    @Pattern(regexp = &quot;^[0-9a-z]{12}&quot;, message = &quot;Please enter valid UserId&quot;)\n    @Valid @Parameter(name =&quot;User-Id&quot;,description = &quot;user id&quot;) Integer userId) throws AccountCreationException {\n         \n        \n    Accounts AccountCreated = accountService.createAccount(value, userId);\n    System.out.println(&quot;Dear&quot; + userId + &quot;your Account has been created&quot;);\n    if(AccountCreated!=null)\n    {\n        int user = value.getUserId();\n        System.out.println(&quot;Dear&quot; + user + &quot;your Account has been created&quot;);\n    }\n    else\n    {\n        throw new AccountCreationException(&quot;There is an Issue while Creating &quot;\n                + &quot;your account please try after sometime&quot;);\n    }\n        \n        return AccountCreated;\n    }\n\n}\n</code></pre>\n<p><code>Service Implementation</code></p>\n<pre><code>package com.icicibank.accounts.service;\n\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Service;\n\nimport com.icicibank.accounts.model.Accounts;\nimport com.icicibank.accounts.repository.AccountsRespository;\n\n@Service\npublic class AccountsServiceImpl implements AccountsService {\n\n    @Autowired\n    private AccountsRespository accountrepo;\n\n    private static final Logger LOG = LoggerFactory.getLogger(AccountsServiceImpl.class);\n\n    Accounts created = null;\n    @Override\n    public Accounts createAccount(Accounts data, Integer userId) {\n        try {\n            \n            if (data != null &amp;&amp; !userId.equals(null))\n            {\n                data.setUserId(userId);\n                created = accountrepo.save(data);\n            } \n            else \n            {\n                LOG.debug(&quot;Data input is empty or userId is null please check the iputs once again&quot;);\n            }\n            \n        } \n        catch (Exception e) {\n            LOG.debug(&quot;Hey there is an Exception while calling the craeteAccount &quot; + \n        &quot;method in AccountsServiceImpl&quot;);\n        }\n        return created;\n\n    }\n\n}\n</code></pre>\n<p><code>Repository Interface</code></p>\n<pre><code>@Repository\npublic interface AccountsRespository extends CrudRepository&lt;Accounts,String&gt; \n{\n    //@SuppressWarnings(&quot;unchecked&quot;)\n    //public Accounts save(Accounts craeteAccount);\n    \n}\n</code></pre>\n<p><code>Model Class</code></p>\n<pre><code>@Entity\n@Data\npublic class Accounts {\n    \n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private String accountNumber;\n    \n    @Column\n    private int transactionNumber;\n    \n    @Column\n    private int userId;\n    \n    @Column\n    private int upiIdLimit;\n    \n    @Column\n    private double accountBalance;\n    \n    @Column\n    private String transactionLimitPerDay;\n}\n</code></pre>\n<p><code>application.properties file</code></p>\n<pre><code>server.port = 8083\nspring.mvc.pathmatch.matching-strategy=ant-path-matcher\nspring.datasource.username=user\nspring.datasource.password=usernames\nspring.datasource.url=jdbc:mysql://localhost:3306/ICICIBANKBHIMUPIDB\nspring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\nspring.jpa.hibernate.ddl-auto=update\nspring.jpa.show-sql=true\nspring.jpa.database-platform=org.hibernate.dialect.MySQL5InnoDBDialect\nspring.application.name=Accounts\n</code></pre>\n<p><code>Log File</code></p>\n<pre><code>[2m2023-07-23 15:35:53.024[0;39m [32m INFO[0;39m [35m11284[0;39m [2m---[0;39m [2m[nio-8083-exec-2][0;39m [36mo.s.web.servlet.DispatcherServlet       [0;39m [2m:[0;39m Initializing Servlet 'dispatcherServlet'\n[2m2023-07-23 15:35:53.026[0;39m [32m INFO[0;39m [35m11284[0;39m [2m---[0;39m [2m[nio-8083-exec-2][0;39m [36mo.s.web.servlet.DispatcherServlet       [0;39m [2m:[0;39m Completed initialization in 2 ms\nDear543214466your Account has been created\n[2m2023-07-23 15:35:53.155[0;39m [31mERROR[0;39m [35m11284[0;39m [2m---[0;39m [2m[nio-8083-exec-2][0;39m [36mo.a.c.c.C.[.[.[/].[dispatcherServlet]   [0;39m [2m:[0;39m Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is com.icicibank.accounts.Exceptions.AccountCreationException: There is an Issue while Creating your account please try after sometime] with root cause\n</code></pre>\n<pre><code>     Here is the Log File \n</code></pre>\n<p><code>Root Cause in Log File</code></p>\n<pre><code>com.icicibank.accounts.Exceptions.AccountCreationException: There is an Issue while Creating your account please try after sometime\n    at com.icicibank.accounts.controller.CustomerAccountsControllerImpl.createAccount(CustomerAccountsControllerImpl.java:38) ~[classes/:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\n    at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-5.3.29.jar:5.3.29]\n    at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-5.3.29.jar:5.3.29]\n    at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.29.jar:5.3.29]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.29.jar:5.3.29]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.29.jar:5.3.29]\n    at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.29.jar:5.3.29]\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072) ~[spring-webmvc-5.3.29.jar:5.3.29]\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965) ~[spring-webmvc-5.3.29.jar:5.3.29]\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.29.jar:5.3.29]\n    at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909) ~[spring-webmvc-5.3.29.jar:5.3.29]\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:555) ~[tomcat-embed-core-9.0.78.jar:4.0.FR]\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.29.jar:5.3.29]\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:623) ~[tomcat-embed-core-9.0.78.jar:4.0.FR]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209) ~[tomcat-embed-core-9.0.78.jar:9.0.78]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.78.jar:9.0.78]\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-9.0.78.jar:9.0.78]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.78.jar:9.0.78]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.78.jar:9.0.78]\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.29.jar:5.3.29]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.29.jar:5.3.29]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.78.jar:9.0.78]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.78.jar:9.0.78]\n    at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.29.jar:5.3.29]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.29.jar:5.3.29]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.78.jar:9.0.78]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.78.jar:9.0.78]\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.29.jar:5.3.29]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.29.jar:5.3.29]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.78.jar:9.0.78]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.78.jar:9.0.78]\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-9.0.78.jar:9.0.78]\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-9.0.78.jar:9.0.78]\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481) ~[tomcat-embed-core-9.0.78.jar:9.0.78]\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130) ~[tomcat-embed-core-9.0.78.jar:9.0.78]\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-9.0.78.jar:9.0.78]\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-9.0.78.jar:9.0.78]\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343) ~[tomcat-embed-core-9.0.78.jar:9.0.78]\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390) ~[tomcat-embed-core-9.0.78.jar:9.0.78]\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-9.0.78.jar:9.0.78]\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:926) ~[tomcat-embed-core-9.0.78.jar:9.0.78]\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1791) ~[tomcat-embed-core-9.0.78.jar:9.0.78]\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-9.0.78.jar:9.0.78]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.78.jar:9.0.78]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.78.jar:9.0.78]\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.78.jar:9.0.78]\n    at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\n</code></pre>\n<p>..................................................................................................................................................................................................................</p>\n"},{"tags":["java","collections"],"comments":[{"owner":{"account_id":20937,"reputation":167576,"user_id":50476,"accept_rate":100,"display_name":"Bart Kiers"},"score":3,"creation_date":1269334096,"post_id":2497063,"comment_id":2492817,"body_markdown":"Why do you need this information?","body":"Why do you need this information?"},{"owner":{"account_id":112682,"reputation":25734,"user_id":297115,"accept_rate":56,"display_name":"JavaUser"},"score":3,"creation_date":1269356522,"post_id":2497063,"comment_id":2495426,"body_markdown":"Bark ..Nothing specific ..I had this in an interview","body":"Bark ..Nothing specific ..I had this in an interview"},{"owner":{"account_id":78031,"reputation":25203,"user_id":222356,"accept_rate":78,"display_name":"ericsoco"},"score":1,"creation_date":1346875113,"post_id":2497063,"comment_id":16483977,"body_markdown":"Google led me here.  The reason i need this info -- I have an ArrayBlockingQueue that I&#39;m take()ing through, processing, and storing results in another Collection.  Thought it would be nice to use an initial capacity for the results Collection that matches the capacity of the ABQ.  Not such an odd use case, no?  There are other ways around it for me (e.g. storing capacity as a static final and referencing that), but not necessarily in all cases.","body":"Google led me here.  The reason i need this info -- I have an ArrayBlockingQueue that I&#39;m take()ing through, processing, and storing results in another Collection.  Thought it would be nice to use an initial capacity for the results Collection that matches the capacity of the ABQ.  Not such an odd use case, no?  There are other ways around it for me (e.g. storing capacity as a static final and referencing that), but not necessarily in all cases."},{"owner":{"account_id":12205927,"reputation":563,"user_id":9691976,"display_name":"Mohammad Kholghi"},"score":0,"creation_date":1593968936,"post_id":2497063,"comment_id":110956053,"body_markdown":"Look at  https://stackoverflow.com/a/3564928/9691976","body":"Look at  <a href=\"https://stackoverflow.com/a/3564928/9691976\">stackoverflow.com/a/3564928/9691976</a>"}],"answers":[{"comments":[{"owner":{"account_id":112682,"reputation":25734,"user_id":297115,"accept_rate":56,"display_name":"JavaUser"},"score":1,"creation_date":1269310050,"post_id":2497090,"comment_id":2491350,"body_markdown":"What abt the same case regarding with Vectors ?","body":"What abt the same case regarding with Vectors ?"},{"owner":{"account_id":7501,"reputation":187982,"user_id":13070,"accept_rate":90,"display_name":"Mark B"},"score":4,"creation_date":1269310280,"post_id":2497090,"comment_id":2491367,"body_markdown":"Vector has a capacity() method that returns the current capacity.  Have you taken the time to look at the API at all?  http://java.sun.com/j2se/1.4.2/docs/api/java/util/Vector.html","body":"Vector has a capacity() method that returns the current capacity.  Have you taken the time to look at the API at all?  <a href=\"http://java.sun.com/j2se/1.4.2/docs/api/java/util/Vector.html\" rel=\"nofollow noreferrer\">java.sun.com/j2se/1.4.2/docs/api/java/util/Vector.html</a>"},{"owner":{"account_id":112682,"reputation":25734,"user_id":297115,"accept_rate":56,"display_name":"JavaUser"},"score":2,"creation_date":1269310505,"post_id":2497090,"comment_id":2491383,"body_markdown":"No mbaird , I am just looking into your answer.Thx","body":"No mbaird , I am just looking into your answer.Thx"},{"owner":{"account_id":897403,"reputation":731,"user_id":934370,"display_name":"jack"},"score":2,"creation_date":1489945508,"post_id":2497090,"comment_id":72881514,"body_markdown":"How can you decide when to call trimToSize() if you don&#39;t know the capacity? It&#39;s not efficient to call trimToSize() all the time. It&#39;s a mistake not to expose capacity.","body":"How can you decide when to call trimToSize() if you don&#39;t know the capacity? It&#39;s not efficient to call trimToSize() all the time. It&#39;s a mistake not to expose capacity."}],"tags":[],"owner":{"account_id":7501,"reputation":187982,"user_id":13070,"accept_rate":90,"display_name":"Mark B"},"comment_count":4,"down_vote_count":1,"up_vote_count":21,"is_accepted":true,"score":20,"last_activity_date":1564754569,"creation_date":1269309785,"answer_id":2497090,"question_id":2497063,"body_markdown":"I don&#39;t think this is possible.  What is your use case?  I believe C# ArrayLists have a `.capacity` property, but the Java ArrayList class doesn&#39;t expose this information.\r\n\r\nYou have the constructor that takes an initial capacity argument, and you have the `ensureCapacity()` method which you could use to reduce the amount of incremental reallocation.\r\n\r\nYou also have the `trimToSize()` method you can use if you are really worried about memory usage.","title":"How to get the capacity of the ArrayList in Java?","body":"<p>I don't think this is possible.  What is your use case?  I believe C# ArrayLists have a <code>.capacity</code> property, but the Java ArrayList class doesn't expose this information.</p>\n\n<p>You have the constructor that takes an initial capacity argument, and you have the <code>ensureCapacity()</code> method which you could use to reduce the amount of incremental reallocation.</p>\n\n<p>You also have the <code>trimToSize()</code> method you can use if you are really worried about memory usage.</p>\n"},{"comments":[{"owner":{"account_id":7501,"reputation":187982,"user_id":13070,"accept_rate":90,"display_name":"Mark B"},"score":0,"creation_date":1269310057,"post_id":2497092,"comment_id":2491351,"body_markdown":"Not sure how useful this would be to help him find the current capacity at runtime though.  Unless he took the source and added a method to expose the capacity, and then used his custom version of ArrayList everywhere.","body":"Not sure how useful this would be to help him find the current capacity at runtime though.  Unless he took the source and added a method to expose the capacity, and then used his custom version of ArrayList everywhere."},{"owner":{"account_id":26261,"reputation":1495,"user_id":68150,"accept_rate":50,"display_name":"instcode"},"score":1,"creation_date":1269310281,"post_id":2497092,"comment_id":2491368,"body_markdown":"Haha, first s.o upvote then s.o else downvote :)) I gave him a rod but you gave him a fish... Now what, he gonna ask for Vector, LinkedList..? :))","body":"Haha, first s.o upvote then s.o else downvote :)) I gave him a rod but you gave him a fish... Now what, he gonna ask for Vector, LinkedList..? :))"},{"owner":{"account_id":298913,"reputation":1516,"user_id":605195,"display_name":"bjornars"},"score":0,"creation_date":1297094834,"post_id":2497092,"comment_id":5486055,"body_markdown":"@mbaird &#39;you could do it yourself&#39; probably meant &#39;you can find out if there is a way to get the capacity by looking at the source code&#39;, not &#39;you can change the source code&#39;.","body":"@mbaird &#39;you could do it yourself&#39; probably meant &#39;you can find out if there is a way to get the capacity by looking at the source code&#39;, not &#39;you can change the source code&#39;."}],"tags":[],"owner":{"account_id":26261,"reputation":1495,"user_id":68150,"accept_rate":50,"display_name":"instcode"},"comment_count":3,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1269309795,"creation_date":1269309795,"answer_id":2497092,"question_id":2497063,"body_markdown":"Don&#39;t remember if it has but you could do it yourself by looking at the source code of ArrayList. Java developers should take advantage of the source code bundled with the SDK.","title":"How to get the capacity of the ArrayList in Java?","body":"<p>Don't remember if it has but you could do it yourself by looking at the source code of ArrayList. Java developers should take advantage of the source code bundled with the SDK.</p>\n"},{"tags":[],"owner":{"account_id":98341,"reputation":6023,"user_id":266261,"accept_rate":63,"display_name":"chama"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1269309889,"creation_date":1269309889,"answer_id":2497094,"question_id":2497063,"body_markdown":"I just checked out the sun documentation on the &lt;a href=&quot;http://java.sun.com/javase/6/docs/api/&quot;&gt;ArrayList&lt;/a&gt; class, and the only method I saw that related to the capacity was ensureCapacity(int minCapacity), which is not exactly what you want. Good luck!","title":"How to get the capacity of the ArrayList in Java?","body":"<p>I just checked out the sun documentation on the <a href=\"http://java.sun.com/javase/6/docs/api/\" rel=\"nofollow noreferrer\">ArrayList</a> class, and the only method I saw that related to the capacity was ensureCapacity(int minCapacity), which is not exactly what you want. Good luck!</p>\n"},{"comments":[{"owner":{"account_id":7501,"reputation":187982,"user_id":13070,"accept_rate":90,"display_name":"Mark B"},"score":1,"creation_date":1269310482,"post_id":2497100,"comment_id":2491382,"body_markdown":"ensureCapacity() just ensures that it has at least that much space.  If it has more space it will do nothing.  If later you keep adding elements so that it needs even more, it will grow.  None of these cases would be handled by your example code.  All your code will do is allow you to be reminded of what value you passed to ensureCapacity() earlier, which may have no real bearing on what the true capacity is later on.","body":"ensureCapacity() just ensures that it has at least that much space.  If it has more space it will do nothing.  If later you keep adding elements so that it needs even more, it will grow.  None of these cases would be handled by your example code.  All your code will do is allow you to be reminded of what value you passed to ensureCapacity() earlier, which may have no real bearing on what the true capacity is later on."},{"owner":{"account_id":13508,"reputation":30357,"user_id":27198,"accept_rate":72,"display_name":"Itay Maman"},"score":0,"creation_date":1269310648,"post_id":2497100,"comment_id":2491400,"body_markdown":"By all means, I don&#39;t say this is a perfect solution nor is it a portable one. It is just a step in the right direction.","body":"By all means, I don&#39;t say this is a perfect solution nor is it a portable one. It is just a step in the right direction."}],"tags":[],"owner":{"account_id":13508,"reputation":30357,"user_id":27198,"accept_rate":72,"display_name":"Itay Maman"},"comment_count":2,"down_vote_count":3,"up_vote_count":4,"is_accepted":false,"score":1,"last_activity_date":1269310714,"creation_date":1269309987,"answer_id":2497100,"question_id":2497063,"body_markdown":"Looking at [ArrayList&#39;s spec][1] I see no method that provides this information. \r\n\r\nThat said, the [ensureCapacity][2] method does seem like a step in the right direction (caution: *it is does not guarantee a correct answer*): When called it ensures that the capacity is at least the specified argument. So, if the `ArrayList` implementation uses this method to ensure capacity (as opposed to calling some private method/manipulating the relevant fields directly) you can obtain the current capacity by overriding this method. You also need to override `trimToSize()` in a similar manner.\r\n\r\nOf course, this solution is not very portable as a different implementation of `ArrayList` (on a JVM from another vendor) may do things differently. \r\n\r\n\r\nHere&#39;s how the code should look like\r\n\r\n    public class CapacityTrackingArrayList&lt;T&gt; extends ArrayList&lt;T&gt; {\r\n\r\n       // declare a constructor for each ArrayList constructor ...\r\n\r\n\r\n       // Now, capacity tracking stuff:\r\n       private int currentCapacity = 10;\r\n\r\n       public int getCapacity() { return currentCapacity; }\r\n\r\n       public void ensureCapacity(int arg) {\r\n         currentCapacity = arg;\r\n         super.ensureCapacity(arg);\r\n       }\r\n\r\n       public void trimToSize() { currentCapacity = size(); super.trimToSize(); }\r\n\r\n    }\r\n\r\n\r\n\r\n  [1]: http://java.sun.com/javase/6/docs/api/java/util/ArrayList.html\r\n  [2]: http://java.sun.com/javase/6/docs/api/java/util/ArrayList.html#ensureCapacity%28int%29","title":"How to get the capacity of the ArrayList in Java?","body":"<p>Looking at <a href=\"http://java.sun.com/javase/6/docs/api/java/util/ArrayList.html\" rel=\"nofollow noreferrer\">ArrayList's spec</a> I see no method that provides this information. </p>\n\n<p>That said, the <a href=\"http://java.sun.com/javase/6/docs/api/java/util/ArrayList.html#ensureCapacity%28int%29\" rel=\"nofollow noreferrer\">ensureCapacity</a> method does seem like a step in the right direction (caution: <em>it is does not guarantee a correct answer</em>): When called it ensures that the capacity is at least the specified argument. So, if the <code>ArrayList</code> implementation uses this method to ensure capacity (as opposed to calling some private method/manipulating the relevant fields directly) you can obtain the current capacity by overriding this method. You also need to override <code>trimToSize()</code> in a similar manner.</p>\n\n<p>Of course, this solution is not very portable as a different implementation of <code>ArrayList</code> (on a JVM from another vendor) may do things differently. </p>\n\n<p>Here's how the code should look like</p>\n\n<pre><code>public class CapacityTrackingArrayList&lt;T&gt; extends ArrayList&lt;T&gt; {\n\n   // declare a constructor for each ArrayList constructor ...\n\n\n   // Now, capacity tracking stuff:\n   private int currentCapacity = 10;\n\n   public int getCapacity() { return currentCapacity; }\n\n   public void ensureCapacity(int arg) {\n     currentCapacity = arg;\n     super.ensureCapacity(arg);\n   }\n\n   public void trimToSize() { currentCapacity = size(); super.trimToSize(); }\n\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":17835,"reputation":303905,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":7,"creation_date":1269330160,"post_id":2498232,"comment_id":2492543,"body_markdown":"This will fail horribly, when the field is not called `elementData`. And since that name is not specified in the API, any implementation (and any version!) is free to call it something else entirely.","body":"This will fail horribly, when the field is not called <code>elementData</code>. And since that name is not specified in the API, any implementation (and any version!) is free to call it something else entirely."},{"owner":{"account_id":4087511,"reputation":726,"user_id":3356446,"accept_rate":67,"display_name":"BaSsGaz"},"score":4,"creation_date":1481846047,"post_id":2498232,"comment_id":69551067,"body_markdown":"@JoachimSauer still called elementData, don&#39;t see why&#39;d they&#39;d change that, still you can easily modify the code if/when they do!","body":"@JoachimSauer still called elementData, don&#39;t see why&#39;d they&#39;d change that, still you can easily modify the code if/when they do!"},{"owner":{"account_id":1769203,"reputation":8965,"user_id":1614378,"accept_rate":55,"display_name":"devops"},"score":0,"creation_date":1632463881,"post_id":2498232,"comment_id":122503697,"body_markdown":"2021 still called &#39;elementData&#39;... this workaround is valid and not bad.","body":"2021 still called &#39;elementData&#39;... this workaround is valid and not bad."},{"owner":{"account_id":470974,"reputation":5658,"user_id":878469,"accept_rate":69,"display_name":"predi"},"score":0,"creation_date":1670333628,"post_id":2498232,"comment_id":131848374,"body_markdown":"This workaround [is not valid](https://blogs.oracle.com/javamagazine/post/a-peek-into-java-17-continuing-the-drive-to-encapsulate-the-java-runtime-internals) since JDK 17+. Illegal reflective access (making private fields accessible) will fail. Versions after 9 and prior to 16 produce warnings, 16 requires a JVM parameter to make it work and this parameter is removed completely in 17. Don&#39;t do this.","body":"This workaround <a href=\"https://blogs.oracle.com/javamagazine/post/a-peek-into-java-17-continuing-the-drive-to-encapsulate-the-java-runtime-internals\" rel=\"nofollow noreferrer\">is not valid</a> since JDK 17+. Illegal reflective access (making private fields accessible) will fail. Versions after 9 and prior to 16 produce warnings, 16 requires a JVM parameter to make it work and this parameter is removed completely in 17. Don&#39;t do this."}],"tags":[],"owner":{"account_id":7340,"reputation":12654,"user_id":12719,"display_name":"pgras"},"comment_count":4,"down_vote_count":1,"up_vote_count":18,"is_accepted":false,"score":17,"last_activity_date":1269329658,"creation_date":1269329658,"answer_id":2498232,"question_id":2497063,"body_markdown":"You can get it by reflection:\r\n\r\n    public abstract class ArrayListHelper {\r\n\r\n        static final Field field;\r\n        static {\r\n            try {\r\n                field = ArrayList.class.getDeclaredField(&quot;elementData&quot;);\r\n                field.setAccessible(true);\r\n            } catch (Exception e) {\r\n                throw new ExceptionInInitializerError(e);\r\n            }\r\n        }\r\n\r\n        @SuppressWarnings(&quot;unchecked&quot;)\r\n        public static &lt;E&gt; int getArrayListCapacity(ArrayList&lt;E&gt; arrayList) {\r\n            try {\r\n                final E[] elementData = (E[]) field.get(arrayList);\r\n                return elementData.length;\r\n            } catch (Exception e) {\r\n                throw new RuntimeException(e);\r\n            }\r\n\r\n        }\r\n    }","title":"How to get the capacity of the ArrayList in Java?","body":"<p>You can get it by reflection:</p>\n\n<pre><code>public abstract class ArrayListHelper {\n\n    static final Field field;\n    static {\n        try {\n            field = ArrayList.class.getDeclaredField(\"elementData\");\n            field.setAccessible(true);\n        } catch (Exception e) {\n            throw new ExceptionInInitializerError(e);\n        }\n    }\n\n    @SuppressWarnings(\"unchecked\")\n    public static &lt;E&gt; int getArrayListCapacity(ArrayList&lt;E&gt; arrayList) {\n        try {\n            final E[] elementData = (E[]) field.get(arrayList);\n            return elementData.length;\n        } catch (Exception e) {\n            throw new RuntimeException(e);\n        }\n\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1920229,"reputation":3923,"user_id":1731935,"accept_rate":75,"display_name":"Manuel"},"score":6,"creation_date":1375168208,"post_id":17940032,"comment_id":26215504,"body_markdown":"The OP clearly wanted the capacity of an `ArrayList`, not a `Vector`.","body":"The OP clearly wanted the capacity of an <code>ArrayList</code>, not a <code>Vector</code>."},{"owner":{"account_id":897403,"reputation":731,"user_id":934370,"display_name":"jack"},"score":2,"creation_date":1489945398,"post_id":17940032,"comment_id":72881476,"body_markdown":"Vector can achieve the same as ArrayList. It&#39;s Java&#39;s fault not to expose capacity. How can you decide when to call trimtosize if you don&#39;t know the capacity? It&#39;s not efficient to call trimtosize all the time. In such situation change to use Vector is a great idea.","body":"Vector can achieve the same as ArrayList. It&#39;s Java&#39;s fault not to expose capacity. How can you decide when to call trimtosize if you don&#39;t know the capacity? It&#39;s not efficient to call trimtosize all the time. In such situation change to use Vector is a great idea."}],"tags":[],"owner":{"account_id":3111257,"reputation":97,"user_id":2632932,"display_name":"Varun"},"comment_count":2,"down_vote_count":2,"up_vote_count":3,"is_accepted":false,"score":1,"last_activity_date":1375166773,"creation_date":1375166773,"answer_id":17940032,"question_id":2497063,"body_markdown":"You can use Vector instead of ArrayList. Vector supports capacity() method.","title":"How to get the capacity of the ArrayList in Java?","body":"<p>You can use Vector instead of ArrayList. Vector supports capacity() method.</p>\n"},{"tags":[],"owner":{"account_id":7154325,"reputation":31,"user_id":5467330,"display_name":"Nishant Srivastava"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1504592686,"creation_date":1445347418,"answer_id":33237877,"question_id":2497063,"body_markdown":"Default capacity of `ArrayList` is 10.once the max size is reached,new capacity will be:\r\n\r\nnew capacity=(currentcapacity*3/2)+1.\r\n\r\n","title":"How to get the capacity of the ArrayList in Java?","body":"<p>Default capacity of <code>ArrayList</code> is 10.once the max size is reached,new capacity will be:</p>\n\n<p>new capacity=(currentcapacity*3/2)+1.</p>\n"},{"tags":[],"owner":{"account_id":11437702,"reputation":124,"user_id":8384511,"display_name":"K_holla"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1501385560,"creation_date":1501385560,"answer_id":45396083,"question_id":2497063,"body_markdown":"The whole point of using ArrayList is to dynamically add new element, So there is no specific method to get the capacity of the ArrayList. \r\n\r\nEvery time we add an element dynamically causes reallocation and since reallocation is costly in terms of time, preventing reallocation improves performance and hence you can manually increase the capacity of ArrayList by calling ensureCapacity() but again you can not find out the capacity of the ArrayList. ","title":"How to get the capacity of the ArrayList in Java?","body":"<p>The whole point of using ArrayList is to dynamically add new element, So there is no specific method to get the capacity of the ArrayList. </p>\n\n<p>Every time we add an element dynamically causes reallocation and since reallocation is costly in terms of time, preventing reallocation improves performance and hence you can manually increase the capacity of ArrayList by calling ensureCapacity() but again you can not find out the capacity of the ArrayList. </p>\n"},{"comments":[{"owner":{"account_id":13819119,"reputation":1911,"user_id":9975029,"display_name":"Dyno Cris"},"score":2,"creation_date":1554843915,"post_id":46633960,"comment_id":97898497,"body_markdown":"Oh, many thanks, man. You saved my day!\nP.S. If you catch exception &quot;No field elementData&quot;, I don&#39;t know what is it but I switched to NetBeans from Android Studio and exception is gone.","body":"Oh, many thanks, man. You saved my day! P.S. If you catch exception &quot;No field elementData&quot;, I don&#39;t know what is it but I switched to NetBeans from Android Studio and exception is gone."}],"tags":[],"owner":{"account_id":7375104,"reputation":908,"user_id":5614029,"display_name":"Shant Dashjian"},"comment_count":1,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1524259780,"creation_date":1507483528,"answer_id":46633960,"question_id":2497063,"body_markdown":"You can get the current capacity of an ArrayList in Java using *reflection*. Here is an example:\r\n\r\n    package examples1;\r\n\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    import java.lang.reflect.Field;\r\n\r\n    public class Numbers {\r\n\r\n\t    public static void main(String[] args) throws Exception {\r\n\t\t    List&lt;Integer&gt; numbers = new ArrayList&lt;&gt;();\r\n\t\t    numbers.add(1);\r\n\t\t    System.out.println(getCapacity(numbers));\r\n\t    }\r\n\r\n\t    static int getCapacity(List al) throws Exception {\r\n\t\t    Field field = ArrayList.class.getDeclaredField(&quot;elementData&quot;);\r\n\t\t    field.setAccessible(true);\r\n\t\t    return ((Object[]) field.get(al)).length;\r\n\t    }\r\n    }\r\n\r\nThis will output: `10`\r\n\r\n**Notes:**\r\n\r\n 1. `getCapacity()` method modified from the original at http://javaonlineguide.net/2015/08/find-capacity-of-an-arraylist-in-java-size-vs-capacity-in-java-list-example.html\r\n 2. Note that the default capacity of 10 is granted after the first add to the list. If you try this before adding, you will get an output of `0`\r\n 3. To force a capacity without adding, pass it in the constructor like so:\r\n \r\n        List&lt;Integer&gt; numbers = new ArrayList&lt;&gt;(20);\r\n","title":"How to get the capacity of the ArrayList in Java?","body":"<p>You can get the current capacity of an ArrayList in Java using <em>reflection</em>. Here is an example:</p>\n\n<pre><code>package examples1;\n\nimport java.util.ArrayList;\nimport java.util.List;\nimport java.lang.reflect.Field;\n\npublic class Numbers {\n\n    public static void main(String[] args) throws Exception {\n        List&lt;Integer&gt; numbers = new ArrayList&lt;&gt;();\n        numbers.add(1);\n        System.out.println(getCapacity(numbers));\n    }\n\n    static int getCapacity(List al) throws Exception {\n        Field field = ArrayList.class.getDeclaredField(\"elementData\");\n        field.setAccessible(true);\n        return ((Object[]) field.get(al)).length;\n    }\n}\n</code></pre>\n\n<p>This will output: <code>10</code></p>\n\n<p><strong>Notes:</strong></p>\n\n<ol>\n<li><code>getCapacity()</code> method modified from the original at <a href=\"http://javaonlineguide.net/2015/08/find-capacity-of-an-arraylist-in-java-size-vs-capacity-in-java-list-example.html\" rel=\"noreferrer\">http://javaonlineguide.net/2015/08/find-capacity-of-an-arraylist-in-java-size-vs-capacity-in-java-list-example.html</a></li>\n<li>Note that the default capacity of 10 is granted after the first add to the list. If you try this before adding, you will get an output of <code>0</code></li>\n<li><p>To force a capacity without adding, pass it in the constructor like so:</p>\n\n<pre><code>List&lt;Integer&gt; numbers = new ArrayList&lt;&gt;(20);\n</code></pre></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":10015346,"reputation":89,"user_id":7406832,"display_name":"susheelbhargavk"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1613681994,"creation_date":1613681994,"answer_id":66268090,"question_id":2497063,"body_markdown":"The default capacity is 2 for an Array List in java. I am not able to find the vague documentation I read a while ago. But the size will be zero upon initialization.\r\nOnce we add the third element it will creates an array of double the capacity in another memory location. The reference will be shifted accordingly and the previous array will be garbage collected\r\n\r\n","title":"How to get the capacity of the ArrayList in Java?","body":"<p>The default capacity is 2 for an Array List in java. I am not able to find the vague documentation I read a while ago. But the size will be zero upon initialization.\nOnce we add the third element it will creates an array of double the capacity in another memory location. The reference will be shifted accordingly and the previous array will be garbage collected</p>\n"},{"tags":[],"owner":{"account_id":29056580,"reputation":1,"user_id":22258239,"display_name":"Hameed"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690110090,"creation_date":1690110090,"answer_id":76747885,"question_id":2497063,"body_markdown":"I dont think there is a direct method to check ArrayList Capacity. But, there is a method to Check the Size of the array list. \r\n\r\ns.o.p.ln(arraylist.size());\r\n\r\nYou can say this in interview. We cannot tell the ArrayList Capacity, but we can check the Size. Then, according to the size, we can calculate the Capacity by our own. Initial Capacity of Arraylist = 10. When it is full, new List is formed with a Capacity of CurrentCapacity * (3/2) +1   . So, in this method, you can calculate the capacity of ArrayList. ","title":"How to get the capacity of the ArrayList in Java?","body":"<p>I dont think there is a direct method to check ArrayList Capacity. But, there is a method to Check the Size of the array list.</p>\n<p>s.o.p.ln(arraylist.size());</p>\n<p>You can say this in interview. We cannot tell the ArrayList Capacity, but we can check the Size. Then, according to the size, we can calculate the Capacity by our own. Initial Capacity of Arraylist = 10. When it is full, new List is formed with a Capacity of CurrentCapacity * (3/2) +1   . So, in this method, you can calculate the capacity of ArrayList.</p>\n"}],"owner":{"account_id":112682,"reputation":25734,"user_id":297115,"accept_rate":56,"display_name":"JavaUser"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48789,"favorite_count":0,"down_vote_count":1,"up_vote_count":28,"accepted_answer_id":2497090,"answer_count":11,"score":27,"last_activity_date":1690110090,"creation_date":1269309409,"question_id":2497063,"body_markdown":"Its known that Java ArrayList is implemented using arrays and initializes with capacity of 10 and increases its size by 50% . How to get the current ArrayList capacity not the Size of the ArrayList.\r\n\r\nThx","title":"How to get the capacity of the ArrayList in Java?","body":"<p>Its known that Java ArrayList is implemented using arrays and initializes with capacity of 10 and increases its size by 50% . How to get the current ArrayList capacity not the Size of the ArrayList.</p>\n\n<p>Thx</p>\n"},{"tags":["java","android","sdk","pos"],"comments":[{"owner":{"account_id":388928,"reputation":2941,"user_id":3692110,"display_name":"erosb"},"score":0,"creation_date":1624436905,"post_id":68096216,"comment_id":120355973,"body_markdown":"Please edit the question. The images are missing.","body":"Please edit the question. The images are missing."},{"owner":{"account_id":18127491,"reputation":1,"user_id":13182901,"display_name":"Maher"},"score":0,"creation_date":1624437557,"post_id":68096216,"comment_id":120356260,"body_markdown":"sorry the image link","body":"sorry the image link"},{"owner":{"account_id":18127491,"reputation":1,"user_id":13182901,"display_name":"Maher"},"score":0,"creation_date":1624437562,"post_id":68096216,"comment_id":120356263,"body_markdown":"https://i.stack.imgur.com/jtb2H.jpg","body":"<a href=\"https://i.stack.imgur.com/jtb2H.jpg\" rel=\"nofollow noreferrer\">i.stack.imgur.com/jtb2H.jpg</a>"}],"answers":[{"comments":[{"owner":{"account_id":18127491,"reputation":1,"user_id":13182901,"display_name":"Maher"},"score":0,"creation_date":1624438107,"post_id":68096286,"comment_id":120356507,"body_markdown":"I added all *.so files to the jniLibs folder but still not working.","body":"I added all *.so files to the jniLibs folder but still not working."}],"tags":[],"owner":{"account_id":388928,"reputation":2941,"user_id":3692110,"display_name":"erosb"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1624437023,"creation_date":1624437023,"answer_id":68096286,"question_id":68096216,"body_markdown":"It may be related to the `java.library.path` system property not being correct. You can try fixing it by passing the `-Djava.library.path=&lt;your-directory-containing-the-so-file&gt;` parameter.","title":"The application couldn&#39;t find &quot;libnexgo_sdkemvjni.so&quot;","body":"<p>It may be related to the <code>java.library.path</code> system property not being correct. You can try fixing it by passing the <code>-Djava.library.path=&lt;your-directory-containing-the-so-file&gt;</code> parameter.</p>\n"},{"tags":[],"owner":{"account_id":12332405,"reputation":1,"user_id":12277287,"display_name":"uttom"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690109068,"creation_date":1690109068,"answer_id":76747810,"question_id":68096216,"body_markdown":"\r\n\r\n[inside app &gt;&gt; build.gradle &gt;&gt; defaultConfig &gt;&gt; please paste this code][1]\r\n\r\n ndk {\r\n        moduleName &quot;app&quot;\r\n        abiFilters &quot;armeabi-v7a&quot;\r\n     }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/AoASd.png","title":"The application couldn&#39;t find &quot;libnexgo_sdkemvjni.so&quot;","body":"<p><a href=\"https://i.stack.imgur.com/AoASd.png\" rel=\"nofollow noreferrer\">inside app &gt;&gt; build.gradle &gt;&gt; defaultConfig &gt;&gt; please paste this code</a></p>\n<p>ndk {\nmoduleName &quot;app&quot;\nabiFilters &quot;armeabi-v7a&quot;\n}</p>\n"}],"owner":{"account_id":18127491,"reputation":1,"user_id":13182901,"display_name":"Maher"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":204,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1690109068,"creation_date":1624436689,"question_id":68096216,"body_markdown":"\r\nI&#39;m trying To use NexGo SDK to print the receipt Using NexGo p200\r\nbut when I run the application I got the error that shown in the image below.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nThe Code is : \r\n\r\n    public void print() {\r\n        try {\r\n            deviceEngine =APIProxy.getDeviceEngine(MainActivity.this);\r\n            Log.e(&quot;device&quot;,deviceEngine.toString());\r\n        }catch (RuntimeException e){\r\n            e.printStackTrace();\r\n        }\r\n        printer = deviceEngine.getPrinter();\r\n        printer.setTypeface(Typeface.DEFAULT);\r\n        printer.initPrinter();\r\n        printer.setTypeface(Typeface.DEFAULT);\r\n        printer.setLetterSpacing(5);\r\n        printer.appendPrnStr(getString(R.string.print_merchantname), 24, AlignEnum.LEFT, false);\r\n        printer.appendPrnStr(getString(R.string.print_merchantno), 24, AlignEnum.LEFT, false);\r\n        printer.appendPrnStr(getString(R.string.print_terminalno), getString(R.string.print_operator), 24, false);\r\n        printer.appendPrnStr(getString(R.string.print_issurebank), 24, AlignEnum.LEFT, false);\r\n        printer.appendPrnStr(getString(R.string.print_shoudan), 24, AlignEnum.LEFT, false);\r\n        printer.appendPrnStr(getString(R.string.print_expiredate), 24, AlignEnum.LEFT, false);\r\n        printer.appendPrnStr(getString(R.string.cardnum), 24, AlignEnum.LEFT, false);\r\n        printer.appendPrnStr(getString(R.string.print_cardinfo), 24, AlignEnum.LEFT, false);\r\n        printer.appendPrnStr(getString(R.string.print_tradetype), 24, AlignEnum.LEFT, false);\r\n        printer.appendPrnStr(getString(R.string.print_batchno), 24, AlignEnum.LEFT, false);\r\n        printer.appendPrnStr(getString(R.string.print_voucher), getString(R.string.print_authorcode), 24, false);\r\n        printer.appendPrnStr(getString(R.string.print_refrenceno), 24, AlignEnum.LEFT, false);\r\n        printer.appendPrnStr(getString(R.string.print_tradedate), 24, AlignEnum.LEFT, false);\r\n        printer.appendPrnStr(getString(R.string.print_amount), 24, AlignEnum.LEFT, false);\r\n        printer.appendPrnStr(getString(R.string.money), 24, AlignEnum.LEFT, false);\r\n        printer.appendPrnStr(getString(R.string.print_beizhu), 24, AlignEnum.LEFT, false);\r\n        printer.appendPrnStr(getString(R.string.print_originalvoucher), 24, AlignEnum.LEFT, false);\r\n        printer.appendPrnStr(getString(R.string.print_addinfo), 24, AlignEnum.LEFT, false);\r\n        printer.appendBarcode(getString(R.string.print_barcode), 50, 0, 2, BarcodeFormatEnum.CODE_128, AlignEnum.CENTER);\r\n        printer.appendQRcode(getString(R.string.print_qrcode), 200, AlignEnum.CENTER);\r\n        printer.appendPrnStr(&quot;---------------------------&quot;, 24, AlignEnum.LEFT, false);\r\n        printer.appendPrnStr(getString(R.string.print_cardhold), 24, AlignEnum.LEFT, false);\r\n        printer.appendPrnStr(&quot;\\n&quot;, 24, AlignEnum.LEFT, false);\r\n        printer.appendPrnStr(&quot;\\n&quot;, 24, AlignEnum.LEFT, false);\r\n        printer.appendPrnStr(&quot;\\n&quot;, 24, AlignEnum.LEFT, false);\r\n        printer.appendPrnStr(&quot;---------------------------&quot;, 24, AlignEnum.LEFT, false);\r\n        printer.appendPrnStr(getString(R.string.print_cardhold_ensure), 24, AlignEnum.LEFT, false);\r\n        printer.appendPrnStr(getString(R.string.print_cardhold_ensure), 24, AlignEnum.LEFT, false);\r\n        printer.appendPrnStr(&quot;---------------------------&quot;, 24, AlignEnum.LEFT, false);\r\n        printer.appendPrnStr(getString(R.string.print_merchant_dan), 24, AlignEnum.RIGHT, false);\r\n        printer.startPrint(false, new OnPrintListener() {\r\n            @Override\r\n            public void onPrintResult(final int retCode) {\r\n                runOnUiThread(new Runnable() {\r\n                    @Override\r\n                    public void run() {\r\n                        Toast.makeText(MainActivity.this, retCode + &quot;&quot;, Toast.LENGTH_SHORT).show();\r\n                    }\r\n                });\r\n            }\r\n        });\r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/jtb2H.jpg","title":"The application couldn&#39;t find &quot;libnexgo_sdkemvjni.so&quot;","body":"<p>I'm trying To use NexGo SDK to print the receipt Using NexGo p200\nbut when I run the application I got the error that shown in the image below.</p>\n<p><a href=\"https://i.stack.imgur.com/jtb2H.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/jtb2H.jpg\" alt=\"enter image description here\" /></a></p>\n<p>The Code is :</p>\n<pre><code>public void print() {\n    try {\n        deviceEngine =APIProxy.getDeviceEngine(MainActivity.this);\n        Log.e(&quot;device&quot;,deviceEngine.toString());\n    }catch (RuntimeException e){\n        e.printStackTrace();\n    }\n    printer = deviceEngine.getPrinter();\n    printer.setTypeface(Typeface.DEFAULT);\n    printer.initPrinter();\n    printer.setTypeface(Typeface.DEFAULT);\n    printer.setLetterSpacing(5);\n    printer.appendPrnStr(getString(R.string.print_merchantname), 24, AlignEnum.LEFT, false);\n    printer.appendPrnStr(getString(R.string.print_merchantno), 24, AlignEnum.LEFT, false);\n    printer.appendPrnStr(getString(R.string.print_terminalno), getString(R.string.print_operator), 24, false);\n    printer.appendPrnStr(getString(R.string.print_issurebank), 24, AlignEnum.LEFT, false);\n    printer.appendPrnStr(getString(R.string.print_shoudan), 24, AlignEnum.LEFT, false);\n    printer.appendPrnStr(getString(R.string.print_expiredate), 24, AlignEnum.LEFT, false);\n    printer.appendPrnStr(getString(R.string.cardnum), 24, AlignEnum.LEFT, false);\n    printer.appendPrnStr(getString(R.string.print_cardinfo), 24, AlignEnum.LEFT, false);\n    printer.appendPrnStr(getString(R.string.print_tradetype), 24, AlignEnum.LEFT, false);\n    printer.appendPrnStr(getString(R.string.print_batchno), 24, AlignEnum.LEFT, false);\n    printer.appendPrnStr(getString(R.string.print_voucher), getString(R.string.print_authorcode), 24, false);\n    printer.appendPrnStr(getString(R.string.print_refrenceno), 24, AlignEnum.LEFT, false);\n    printer.appendPrnStr(getString(R.string.print_tradedate), 24, AlignEnum.LEFT, false);\n    printer.appendPrnStr(getString(R.string.print_amount), 24, AlignEnum.LEFT, false);\n    printer.appendPrnStr(getString(R.string.money), 24, AlignEnum.LEFT, false);\n    printer.appendPrnStr(getString(R.string.print_beizhu), 24, AlignEnum.LEFT, false);\n    printer.appendPrnStr(getString(R.string.print_originalvoucher), 24, AlignEnum.LEFT, false);\n    printer.appendPrnStr(getString(R.string.print_addinfo), 24, AlignEnum.LEFT, false);\n    printer.appendBarcode(getString(R.string.print_barcode), 50, 0, 2, BarcodeFormatEnum.CODE_128, AlignEnum.CENTER);\n    printer.appendQRcode(getString(R.string.print_qrcode), 200, AlignEnum.CENTER);\n    printer.appendPrnStr(&quot;---------------------------&quot;, 24, AlignEnum.LEFT, false);\n    printer.appendPrnStr(getString(R.string.print_cardhold), 24, AlignEnum.LEFT, false);\n    printer.appendPrnStr(&quot;\\n&quot;, 24, AlignEnum.LEFT, false);\n    printer.appendPrnStr(&quot;\\n&quot;, 24, AlignEnum.LEFT, false);\n    printer.appendPrnStr(&quot;\\n&quot;, 24, AlignEnum.LEFT, false);\n    printer.appendPrnStr(&quot;---------------------------&quot;, 24, AlignEnum.LEFT, false);\n    printer.appendPrnStr(getString(R.string.print_cardhold_ensure), 24, AlignEnum.LEFT, false);\n    printer.appendPrnStr(getString(R.string.print_cardhold_ensure), 24, AlignEnum.LEFT, false);\n    printer.appendPrnStr(&quot;---------------------------&quot;, 24, AlignEnum.LEFT, false);\n    printer.appendPrnStr(getString(R.string.print_merchant_dan), 24, AlignEnum.RIGHT, false);\n    printer.startPrint(false, new OnPrintListener() {\n        @Override\n        public void onPrintResult(final int retCode) {\n            runOnUiThread(new Runnable() {\n                @Override\n                public void run() {\n                    Toast.makeText(MainActivity.this, retCode + &quot;&quot;, Toast.LENGTH_SHORT).show();\n                }\n            });\n        }\n    });\n}\n</code></pre>\n"},{"tags":["java","selenium","webdriver","microsoft-edge"],"comments":[{"owner":{"account_id":14272201,"reputation":10579,"user_id":10309381,"display_name":"Deepak-MSFT"},"score":0,"creation_date":1562338077,"post_id":56905050,"comment_id":100355135,"body_markdown":"Looks like you are making test with new MS Edge (Chromium). you can try to refer this thread may help you to get the idea about how to run it. Ref: https://stackoverflow.com/questions/56076421/selenium-and-edge-dev-chromium-based/56134530#56134530","body":"Looks like you are making test with new MS Edge (Chromium). you can try to refer this thread may help you to get the idea about how to run it. Ref: <a href=\"https://stackoverflow.com/questions/56076421/selenium-and-edge-dev-chromium-based/56134530#56134530\" title=\"selenium and edge dev chromium based\">stackoverflow.com/questions/56076421/&hellip;</a>"},{"owner":{"account_id":14272201,"reputation":10579,"user_id":10309381,"display_name":"Deepak-MSFT"},"score":0,"creation_date":1565678903,"post_id":56905050,"comment_id":101417187,"body_markdown":"You can try to change new EdgeDriver() to new ChromeDriver(). New Edge web driver can only be work when initialized as a chrome driver. So you can try to replace it and again try to make a test. let us know about your testing result. We will try to provide further suggestions if issue persists.Thanks for your understanding.","body":"You can try to change new EdgeDriver() to new ChromeDriver(). New Edge web driver can only be work when initialized as a chrome driver. So you can try to replace it and again try to make a test. let us know about your testing result. We will try to provide further suggestions if issue persists.Thanks for your understanding."},{"owner":{"account_id":14043485,"reputation":1,"user_id":10144347,"display_name":"Archana Deshpande"},"score":0,"creation_date":1578637739,"post_id":56905050,"comment_id":105510931,"body_markdown":"https://stackoverflow.com/questions/56076421/selenium-and-edge-dev-chromium-based/56134530#56134530 This worked for me.","body":"<a href=\"https://stackoverflow.com/questions/56076421/selenium-and-edge-dev-chromium-based/56134530#56134530\" title=\"selenium and edge dev chromium based\">stackoverflow.com/questions/56076421/&hellip;</a> This worked for me."}],"answers":[{"comments":[{"owner":{"account_id":9072254,"reputation":1014,"user_id":6754986,"display_name":"LinFelix"},"score":1,"creation_date":1690363387,"post_id":76747777,"comment_id":135341721,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/76747777/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":22930240,"reputation":1,"user_id":17064677,"display_name":"Vignesh Kumar"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690108557,"creation_date":1690108557,"answer_id":76747777,"question_id":56905050,"body_markdown":"import org.openqa.selenium.WebDriver;\r\nimport org.openqa.selenium.edge.EdgeDriver;\r\n\r\npublic class Pr22072023 {\r\n\r\n    public static void main(String[] args){\r\n\r\n        System.setProperty(&quot;webdriver.edge.driver&quot;, &quot;D:\\\\Qtree Tech\\\\Selenium\\\\Driver\\\\msedgedriver.exe&quot;);\r\n        WebDriver driver = new EdgeDriver();\r\n\r\n        driver.get(&quot;https://www.google.co.in/&quot;);\r\n\r\n        driver.close();\r\n    }\r\n\r\n}","title":"How can I start the selenium Microsoft Edge?","body":"<p>import org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.edge.EdgeDriver;</p>\n<p>public class Pr22072023 {</p>\n<pre><code>public static void main(String[] args){\n\n    System.setProperty(&quot;webdriver.edge.driver&quot;, &quot;D:\\\\Qtree Tech\\\\Selenium\\\\Driver\\\\msedgedriver.exe&quot;);\n    WebDriver driver = new EdgeDriver();\n\n    driver.get(&quot;https://www.google.co.in/&quot;);\n\n    driver.close();\n}\n</code></pre>\n<p>}</p>\n"}],"owner":{"account_id":16263924,"reputation":31,"user_id":11744557,"display_name":"Rafael Carneiro"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1990,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1690108557,"creation_date":1562337091,"question_id":56905050,"body_markdown":"I&#39;m learning about Selenium webdriver test using Java to test my application.\r\n\r\nI&#39;m already implemented my tests to Google Chrome and Firefox, but the msedgedriver.exe is not opening the edge browser.\r\n\r\nI&#39;d like some help!\r\n\r\n\tpublic WebDriver getDriver() {\r\n\t\treturn driver;\r\n\t\t\r\n\t}\r\n\t\r\n\t@BeforeAll\r\n\t/*--- INICIALIZA&#199;&#195;O DO OGFIN*/\r\n\t\r\n\tpublic void abrirOgfin() throws Exception {\r\n\t\tString link;\r\n\t\tint x=2;\r\n\t\t\r\n\t\tswitch(x) {\r\n\t\t\tcase 1:\r\n\t\t\t\tSystem.setProperty(&quot;webdriver.gecko.driver&quot;, &quot;C:\\\\workspace\\\\conf\\\\firefox\\\\geckodriver.exe&quot;);\r\n\t\t\t\tdriver = new FirefoxDriver();\r\n\t\t\t\t//link = &quot;http://sistema.ogfin.com.br/ogfin/Login&quot;;     //Servidor\r\n\t\t\t\tlink = &quot;http://192.168.1.46:8888/ogfin/Login&quot;;         //Local\r\n\t\t\t\tbreak;\r\n\t\t\tcase 2:\r\n\t\t\t\tSystem.setProperty(&quot;webdriver.edge.driver&quot;, &quot;C:\\\\workspace\\\\conf\\\\edge\\\\msedgedriver.exe&quot;);\r\n\t\t\t\tdriver = new EdgeDriver();\r\n\t\t\t\t//link = &quot;http://sistema.ogfin.com.br/ogfin/Login&quot;;     //Servidor\r\n\t\t\t\tlink = &quot;http://192.168.1.46:8888/ogfin/Login&quot;;         //Local\r\n\t\t\t\tbreak;\r\n\t\t\tdefault:\r\n\t\t\t\tSystem.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;C:\\\\workspace\\\\conf\\\\chromedriver.exe&quot;);\r\n\t\t\t\tdriver = new ChromeDriver();\r\n\t\t\t\tlink = &quot;http://sistema.ogfin.com.br/ogfin/Login&quot;;     //Servidor\r\n\t\t\t\t//link = &quot;http://192.168.1.46:8888/ogfin/Login&quot;;     //Local\r\n\t\t}\r\n\t\t\r\n\t\tdriver.manage().window().maximize();\r\n\t\tdriver.get(link);\r\n\t}\r\n\r\nWhen I run the code, the console show: \r\n\r\n    Starting MSEdgeDriver 75.0.139.20 (02d0ed4079b152f381df65e7da8a795530021fb1) on port 9579\r\n    Only local connections are allowed.\r\n    Please protect ports used by the WebDriver and related test frameworks to prevent access by malicious code.\r\n    ","title":"How can I start the selenium Microsoft Edge?","body":"<p>I'm learning about Selenium webdriver test using Java to test my application.</p>\n\n<p>I'm already implemented my tests to Google Chrome and Firefox, but the msedgedriver.exe is not opening the edge browser.</p>\n\n<p>I'd like some help!</p>\n\n<pre><code>public WebDriver getDriver() {\n    return driver;\n\n}\n\n@BeforeAll\n/*--- INICIALIZAÇÃO DO OGFIN*/\n\npublic void abrirOgfin() throws Exception {\n    String link;\n    int x=2;\n\n    switch(x) {\n        case 1:\n            System.setProperty(\"webdriver.gecko.driver\", \"C:\\\\workspace\\\\conf\\\\firefox\\\\geckodriver.exe\");\n            driver = new FirefoxDriver();\n            //link = \"http://sistema.ogfin.com.br/ogfin/Login\";     //Servidor\n            link = \"http://192.168.1.46:8888/ogfin/Login\";         //Local\n            break;\n        case 2:\n            System.setProperty(\"webdriver.edge.driver\", \"C:\\\\workspace\\\\conf\\\\edge\\\\msedgedriver.exe\");\n            driver = new EdgeDriver();\n            //link = \"http://sistema.ogfin.com.br/ogfin/Login\";     //Servidor\n            link = \"http://192.168.1.46:8888/ogfin/Login\";         //Local\n            break;\n        default:\n            System.setProperty(\"webdriver.chrome.driver\", \"C:\\\\workspace\\\\conf\\\\chromedriver.exe\");\n            driver = new ChromeDriver();\n            link = \"http://sistema.ogfin.com.br/ogfin/Login\";     //Servidor\n            //link = \"http://192.168.1.46:8888/ogfin/Login\";     //Local\n    }\n\n    driver.manage().window().maximize();\n    driver.get(link);\n}\n</code></pre>\n\n<p>When I run the code, the console show: </p>\n\n<pre><code>Starting MSEdgeDriver 75.0.139.20 (02d0ed4079b152f381df65e7da8a795530021fb1) on port 9579\nOnly local connections are allowed.\nPlease protect ports used by the WebDriver and related test frameworks to prevent access by malicious code.\n</code></pre>\n"},{"tags":["java","spring","mapstruct"],"answers":[{"tags":[],"owner":{"account_id":18044315,"reputation":1227,"user_id":13115701,"display_name":"Paul Marcelin Bejan"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1690105932,"creation_date":1658959026,"answer_id":73145037,"question_id":72799807,"body_markdown":"You can create a method with your specific logic and use it with the property qualifiedByName:\r\n\r\nCause you don&#39;t provide the mapper, take this as an example.\r\n\r\n    @Mapper(componentModel = &quot;spring&quot;)\r\n    public interface MyMapper {\r\n    \r\n        @Mapping(target = &quot;targetFieldName&quot;, source = &quot;pdfFieldName&quot;, qualifiedByName = &quot;setTargetFieldName&quot;)\r\n        Target toTarget(Source source);\r\n\r\n        @Named(&quot;setTargetFieldName&quot;) \r\n        default String setTargetFieldName(String pdfFieldName){\r\n            return pdfFieldName.replace(&quot;apple&quot;, &quot;apples&quot;);\r\n        }\r\n    \r\n    }\r\n\r\n- Official documentation: [adding-custom-methods][1]\r\n- Baeldung tutorial: [mapstruct-custom-mapper][2]\r\n\r\n\r\n  [1]: https://mapstruct.org/documentation/stable/reference/html/#adding-custom-methods\r\n  [2]: https://www.baeldung.com/mapstruct-custom-mapper\r\n  [3]: https://mapstruct.org/documentation/stable/reference/html/#expressions","title":"BeanMapping: Replace value in set within mapping expression?","body":"<p>You can create a method with your specific logic and use it with the property qualifiedByName:</p>\n<p>Cause you don't provide the mapper, take this as an example.</p>\n<pre><code>@Mapper(componentModel = &quot;spring&quot;)\npublic interface MyMapper {\n\n    @Mapping(target = &quot;targetFieldName&quot;, source = &quot;pdfFieldName&quot;, qualifiedByName = &quot;setTargetFieldName&quot;)\n    Target toTarget(Source source);\n\n    @Named(&quot;setTargetFieldName&quot;) \n    default String setTargetFieldName(String pdfFieldName){\n        return pdfFieldName.replace(&quot;apple&quot;, &quot;apples&quot;);\n    }\n\n}\n</code></pre>\n<ul>\n<li>Official documentation: <a href=\"https://mapstruct.org/documentation/stable/reference/html/#adding-custom-methods\" rel=\"nofollow noreferrer\">adding-custom-methods</a></li>\n<li>Baeldung tutorial: <a href=\"https://www.baeldung.com/mapstruct-custom-mapper\" rel=\"nofollow noreferrer\">mapstruct-custom-mapper</a></li>\n</ul>\n"}],"owner":{"account_id":3033786,"reputation":25,"user_id":2572315,"display_name":"trypophobe"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":479,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1690105932,"creation_date":1656498396,"question_id":72799807,"body_markdown":"I have a string Set I&#39;m mapping into a bean for a PDF form content extraction:\r\n\r\n    @Mapping(target = &quot;targetFieldName&quot;, expression = &quot;java(contentMapperService.convertStringToSet(pdfFieldsMap.get(\\&quot;PDF_field_name\\&quot;)))&quot;)\r\n\r\nLet&#39;s say the input String from the PDF field is &quot;apple,banana&quot;\r\n\r\nIf we find the value &quot;apple&quot;, we want to replace it with &quot;apples&quot; before the set is mapped to the target.\r\n\r\nIs this possible to do within an expression?","title":"BeanMapping: Replace value in set within mapping expression?","body":"<p>I have a string Set I'm mapping into a bean for a PDF form content extraction:</p>\n<pre><code>@Mapping(target = &quot;targetFieldName&quot;, expression = &quot;java(contentMapperService.convertStringToSet(pdfFieldsMap.get(\\&quot;PDF_field_name\\&quot;)))&quot;)\n</code></pre>\n<p>Let's say the input String from the PDF field is &quot;apple,banana&quot;</p>\n<p>If we find the value &quot;apple&quot;, we want to replace it with &quot;apples&quot; before the set is mapped to the target.</p>\n<p>Is this possible to do within an expression?</p>\n"},{"tags":["java","recursion","data-structures"],"comments":[{"owner":{"account_id":3654040,"reputation":5772,"user_id":3045515,"accept_rate":93,"display_name":"Sambhav Sharma"},"score":0,"creation_date":1398508928,"post_id":23309691,"comment_id":35685945,"body_markdown":"that&#39;s probably because of the return null; at the end of the function? Did you try to debug your program step by step for small inputs? like one node, two nodes and three nodes? I think you will get what you&#39;re doing wrong by that..","body":"that&#39;s probably because of the return null; at the end of the function? Did you try to debug your program step by step for small inputs? like one node, two nodes and three nodes? I think you will get what you&#39;re doing wrong by that.."},{"owner":{"account_id":61566,"reputation":68934,"user_id":183406,"accept_rate":74,"display_name":"meriton"},"score":0,"creation_date":1398511992,"post_id":23309691,"comment_id":35686940,"body_markdown":"You can investigate such problems yourself by using a debugger.","body":"You can investigate such problems yourself by using a debugger."}],"answers":[{"tags":[],"owner":{"account_id":134022,"reputation":717193,"user_id":335858,"accept_rate":81,"display_name":"Sergey Kalinichenko"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1690105337,"creation_date":1398508954,"answer_id":23309732,"question_id":23309691,"body_markdown":"Your code is very close to working correctly. Here is the problem:\r\n\r\n    if (!prefix.equals(&quot;&quot;))\r\n        // You make a recursive invocation, and then...\r\n        prefix_last_child(STN.getNexts().get(alphabet_place(prefix[0])), prefix.substring(1));\r\n    // ...ignore its return value, and return null instead!\r\n    return null;\r\n\r\nReplace with\r\n\r\n    if (!prefix.equals(&quot;&quot;))\r\n        return prefix_last_child(STN.getNexts().get(alphabet_place(prefix[0])), prefix.substring(1));\r\n    //  ^^^^^^\r\n    return null;\r\n\r\nto fix the problem.","title":"Recursive method returns only null in Java","body":"<p>Your code is very close to working correctly. Here is the problem:</p>\n<pre><code>if (!prefix.equals(&quot;&quot;))\n    // You make a recursive invocation, and then...\n    prefix_last_child(STN.getNexts().get(alphabet_place(prefix[0])), prefix.substring(1));\n// ...ignore its return value, and return null instead!\nreturn null;\n</code></pre>\n<p>Replace with</p>\n<pre><code>if (!prefix.equals(&quot;&quot;))\n    return prefix_last_child(STN.getNexts().get(alphabet_place(prefix[0])), prefix.substring(1));\n//  ^^^^^^\nreturn null;\n</code></pre>\n<p>to fix the problem.</p>\n"},{"comments":[{"owner":{"account_id":134022,"reputation":717193,"user_id":335858,"accept_rate":81,"display_name":"Sergey Kalinichenko"},"score":0,"creation_date":1398509184,"post_id":23309734,"comment_id":35686030,"body_markdown":"`STN` *is* a meaningful value that the OP is after.","body":"<code>STN</code> <i>is</i> a meaningful value that the OP is after."}],"tags":[],"owner":{"account_id":89838,"reputation":37282,"user_id":247623,"accept_rate":72,"display_name":"Erik Kaplun"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1398509363,"creation_date":1398509014,"answer_id":23309734,"question_id":23309691,"body_markdown":"You are only ever returning `null` or the constant `STN` from the function. There is no way a meaningful/non-fixed value can even be returned. ","title":"Recursive method returns only null in Java","body":"<p>You are only ever returning <code>null</code> or the constant <code>STN</code> from the function. There is no way a meaningful/non-fixed value can even be returned. </p>\n"},{"comments":[{"owner":{"account_id":198585,"reputation":10472,"user_id":443341,"accept_rate":88,"display_name":"Tomasz Kowalczyk"},"score":0,"creation_date":1398510795,"post_id":23309737,"comment_id":35686530,"body_markdown":"When answering by code fragment please describe how it works and what it fixes.","body":"When answering by code fragment please describe how it works and what it fixes."}],"tags":[],"owner":{"account_id":2790308,"reputation":1025,"user_id":2400664,"accept_rate":67,"display_name":"fasadat"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690105311,"creation_date":1398509041,"answer_id":23309737,"question_id":23309691,"body_markdown":"To write a recursive method, replace\r\n\r\n     if (!prefix.equals(&quot;&quot;))\r\n            prefix_last_child(STN.getNexts().get(alphabet_place(prefix[0])), prefix.substring(1));\r\n\r\nwith\r\n\r\n     if (!prefix.equals(&quot;&quot;))\r\n          return  prefix_last_child(STN.getNexts().get(alphabet_place(prefix[0])), prefix.substring(1));","title":"Recursive method returns only null in Java","body":"<p>To write a recursive method, replace</p>\n<pre><code> if (!prefix.equals(&quot;&quot;))\n        prefix_last_child(STN.getNexts().get(alphabet_place(prefix[0])), prefix.substring(1));\n</code></pre>\n<p>with</p>\n<pre><code> if (!prefix.equals(&quot;&quot;))\n      return  prefix_last_child(STN.getNexts().get(alphabet_place(prefix[0])), prefix.substring(1));\n</code></pre>\n"}],"owner":{"account_id":4112911,"reputation":107,"user_id":3375287,"accept_rate":71,"display_name":"BK Tomer"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":438,"favorite_count":0,"down_vote_count":2,"up_vote_count":3,"accepted_answer_id":23309732,"answer_count":3,"score":1,"last_activity_date":1690105337,"creation_date":1398508728,"question_id":23309691,"body_markdown":"I&#39;ve written a recursive method that should return a tree node which fits a specific course. The method works great but instead of returning the value it returns only null.\r\nAny idea how to solve it? Here is the code: \r\n\r\n    private TrieNode&lt;String,V&gt; prefix_last_child(TrieNode&lt;String,V&gt; STN , String prefix) {\r\n\t\tif (prefix.equals(&quot;&quot;)) {\r\n\t\t\treturn STN;\r\n\t\t}\r\n\t\tchar[] prefix = prefix.toCharArray();\r\n\t\tif (STN.getNexts().get(alphabet_place(prefix[0])) == null) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\tif (!prefix.equals(&quot;&quot;))\r\n\t\t\tprefix_last_child(STN.getNexts().get(alphabet_place(prefix[0])), prefix.substring(1));\r\n\t\treturn null;\r\n\t}","title":"Recursive method returns only null in Java","body":"<p>I've written a recursive method that should return a tree node which fits a specific course. The method works great but instead of returning the value it returns only null.\nAny idea how to solve it? Here is the code:</p>\n<pre><code>private TrieNode&lt;String,V&gt; prefix_last_child(TrieNode&lt;String,V&gt; STN , String prefix) {\n    if (prefix.equals(&quot;&quot;)) {\n        return STN;\n    }\n    char[] prefix = prefix.toCharArray();\n    if (STN.getNexts().get(alphabet_place(prefix[0])) == null) {\n        return null;\n    }\n    if (!prefix.equals(&quot;&quot;))\n        prefix_last_child(STN.getNexts().get(alphabet_place(prefix[0])), prefix.substring(1));\n    return null;\n}\n</code></pre>\n"},{"tags":["java","spring","hibernate","spring-data-jpa","spring-data"],"answers":[{"tags":[],"owner":{"account_id":8986732,"reputation":1074,"user_id":6700091,"display_name":"Kamil Bęben"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1673459870,"creation_date":1673459870,"answer_id":75087221,"question_id":75033308,"body_markdown":"Using just JOIN in your query merely narrows the results, eg - it won&#39;t loads banks without any clients and credit details.\r\n\r\nYou can tell hibernate to load each of these associations eagerly using JOIN FETCH jpql keyword.\r\n\r\n    SELECT bank\r\n    FROM Bank bank\r\n    JOIN FETCH bank.clients\r\n    JOIN FETCH bank.creditDetails\r\n    WHERE bank.id = :bankId\r\n\r\nKeep in mind that this is a jpql query, so you have to remove `nativeQuery = true` parameter. Also, note that by default, join is inner and not outer - meaning that this query also won&#39;t return a bank without clients or credit details. You can change that by using `LEFT JOIN FETCH`, but that will reduce performance, so choose whatever strategy suits best your use-case.\r\n\r\n[Further reading][1]\r\n\r\n\r\n  [1]: https://vladmihalcea.com/hibernate-facts-the-importance-of-fetch-strategy/","title":"How to load two collections of related entities with a minimum number of sql queries?","body":"<p>Using just JOIN in your query merely narrows the results, eg - it won't loads banks without any clients and credit details.</p>\n<p>You can tell hibernate to load each of these associations eagerly using JOIN FETCH jpql keyword.</p>\n<pre><code>SELECT bank\nFROM Bank bank\nJOIN FETCH bank.clients\nJOIN FETCH bank.creditDetails\nWHERE bank.id = :bankId\n</code></pre>\n<p>Keep in mind that this is a jpql query, so you have to remove <code>nativeQuery = true</code> parameter. Also, note that by default, join is inner and not outer - meaning that this query also won't return a bank without clients or credit details. You can change that by using <code>LEFT JOIN FETCH</code>, but that will reduce performance, so choose whatever strategy suits best your use-case.</p>\n<p><a href=\"https://vladmihalcea.com/hibernate-facts-the-importance-of-fetch-strategy/\" rel=\"nofollow noreferrer\">Further reading</a></p>\n"}],"owner":{"account_id":18085962,"reputation":19,"user_id":15626126,"display_name":"Smetana Po Aktsii"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75087221,"answer_count":1,"score":0,"last_activity_date":1690105150,"creation_date":1673021131,"question_id":75033308,"body_markdown":"I have the entities:\r\n\r\nBank:\r\n\r\n```java\r\npublic class Bank {\r\n\r\n    @Id\r\n    @Column(name = &quot;bank_id&quot;)\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private UUID id;\r\n\r\n    @Column(name = &quot;bank_name&quot;)\r\n    private String bankName;\r\n\r\n    @OneToMany(orphanRemoval = true, cascade = CascadeType.ALL,\r\n            mappedBy = &quot;bank&quot;, fetch = FetchType.LAZY)\r\n    private List&lt;CreditDetails&gt; creditDetails = new ArrayList&lt;&gt;();\r\n\r\n    @OneToMany(orphanRemoval = true, cascade = CascadeType.ALL,\r\n            mappedBy = &quot;bank&quot;, fetch = FetchType.LAZY)\r\n    private List&lt;Client&gt; clients = new ArrayList&lt;&gt;();\r\n}\r\n```\r\n\r\nClient:\r\n\r\n```java\r\npublic class Client {\r\n\r\n    @Id\r\n    @Column(name = &quot;client_id&quot;)\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    private UUID id;\r\n\r\n    @Column(name = &quot;client_name&quot;)\r\n    private String clientName;\r\n\r\n    @Column(name = &quot;client_surname&quot;)\r\n    private String clientSurName;\r\n\r\n    @Column(name = &quot;client_full_name&quot;)\r\n    private String clientFullName;\r\n\r\n    @Column(name = &quot;telephone_number&quot;)\r\n    private Long telephoneNumber;\r\n\r\n    @Column(name = &quot;email&quot;)\r\n    private String email;\r\n\r\n    @Column(name = &quot;passport_number&quot;)\r\n    private Long passportNumber;\r\n\r\n    @ManyToOne(\r\n            cascade = {CascadeType.DETACH, CascadeType.MERGE, CascadeType.PERSIST, CascadeType.REFRESH})\r\n    @JoinColumn(name = &quot;bank_id&quot;)\r\n    private Bank bank;\r\n\r\n    @OneToMany(cascade = CascadeType.ALL,\r\n            mappedBy = &quot;client&quot;)\r\n    private List&lt;CreditOffer&gt; creditOffers = new ArrayList&lt;&gt;();\r\n\r\n}\r\n```\r\n\r\nCredit Details:\r\n\r\n```java\r\npublic class CreditDetails {\r\n\r\n    @Id\r\n    @Column(name = &quot;credit_details_id&quot;)\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    private UUID id;\r\n\r\n    @Column(name = &quot;credit_limit&quot;)\r\n    private BigDecimal creditLimit;\r\n\r\n    @Column(name = &quot;credit_percent&quot;)\r\n    private BigDecimal creditPercent;\r\n\r\n    @ManyToOne(targetEntity = Bank.class, cascade = {CascadeType.DETACH, CascadeType.MERGE, CascadeType.PERSIST, CascadeType.REFRESH}, fetch = FetchType.EAGER)\r\n    @JoinColumn(name = &quot;bank_id&quot;)\r\n    private Bank bank;\r\n\r\n    @OneToMany(cascade = CascadeType.ALL,\r\n            mappedBy = &quot;creditDetails&quot;)\r\n    List&lt;CreditOffer&gt; creditOffers = new ArrayList&lt;&gt;();\r\n}\r\n```\r\n\r\nMy task is to load Clients and Credit Details with the least number of requests using Spring Data.\r\n\r\nI tried to solve this problem using graphs, I added the following construction above the bank entity:\r\n\r\n```java\r\n@NamedEntityGraph(name = &quot;BankWithClientsAndDetails&quot;, attributeNodes = {\r\n        @NamedAttributeNode(value = &quot;creditDetails&quot;),\r\n        @NamedAttributeNode(value = &quot;clients&quot;,subgraph = &quot;ClientWithBank&quot;)\r\n})\r\n```\r\n\r\nHowever, when calling the method, I received a `MultiBagFetchException`, googled that this occurs due to the fact that a Cartesian product is obtained in the request.\r\n\r\nNext, I tried to solve the problem by writing a SQL query manually, I made a test method of the following form:\r\n\r\n```java\r\n@Query(value = &quot;SELECT * FROM banks \\n&quot; +\r\n            &quot;JOIN clients ON clients.bank_id = banks.bank_id  \\n&quot; +\r\n            &quot;JOIN credit_details ON credit_details.bank_id = banks.bank_id \\n&quot; +\r\n            &quot;WHERE banks.bank_id = :id&quot;,nativeQuery = true)\r\n    Optional&lt;Bank&gt; findBankWithSubEntitiesById(@Param(value = &quot;id&quot;) UUID id);\r\n```\r\n\r\nThe number of requests has remained huge, since related entities have more related entities, and those have one more. At this stage, my hands dropped and I came to you to ask for help. How would you solve this situation? Do I really have to put up with N + 1 in my case. I would be grateful for any help","title":"How to load two collections of related entities with a minimum number of sql queries?","body":"<p>I have the entities:</p>\n<p>Bank:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Bank {\n\n    @Id\n    @Column(name = &quot;bank_id&quot;)\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private UUID id;\n\n    @Column(name = &quot;bank_name&quot;)\n    private String bankName;\n\n    @OneToMany(orphanRemoval = true, cascade = CascadeType.ALL,\n            mappedBy = &quot;bank&quot;, fetch = FetchType.LAZY)\n    private List&lt;CreditDetails&gt; creditDetails = new ArrayList&lt;&gt;();\n\n    @OneToMany(orphanRemoval = true, cascade = CascadeType.ALL,\n            mappedBy = &quot;bank&quot;, fetch = FetchType.LAZY)\n    private List&lt;Client&gt; clients = new ArrayList&lt;&gt;();\n}\n</code></pre>\n<p>Client:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Client {\n\n    @Id\n    @Column(name = &quot;client_id&quot;)\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private UUID id;\n\n    @Column(name = &quot;client_name&quot;)\n    private String clientName;\n\n    @Column(name = &quot;client_surname&quot;)\n    private String clientSurName;\n\n    @Column(name = &quot;client_full_name&quot;)\n    private String clientFullName;\n\n    @Column(name = &quot;telephone_number&quot;)\n    private Long telephoneNumber;\n\n    @Column(name = &quot;email&quot;)\n    private String email;\n\n    @Column(name = &quot;passport_number&quot;)\n    private Long passportNumber;\n\n    @ManyToOne(\n            cascade = {CascadeType.DETACH, CascadeType.MERGE, CascadeType.PERSIST, CascadeType.REFRESH})\n    @JoinColumn(name = &quot;bank_id&quot;)\n    private Bank bank;\n\n    @OneToMany(cascade = CascadeType.ALL,\n            mappedBy = &quot;client&quot;)\n    private List&lt;CreditOffer&gt; creditOffers = new ArrayList&lt;&gt;();\n\n}\n</code></pre>\n<p>Credit Details:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class CreditDetails {\n\n    @Id\n    @Column(name = &quot;credit_details_id&quot;)\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private UUID id;\n\n    @Column(name = &quot;credit_limit&quot;)\n    private BigDecimal creditLimit;\n\n    @Column(name = &quot;credit_percent&quot;)\n    private BigDecimal creditPercent;\n\n    @ManyToOne(targetEntity = Bank.class, cascade = {CascadeType.DETACH, CascadeType.MERGE, CascadeType.PERSIST, CascadeType.REFRESH}, fetch = FetchType.EAGER)\n    @JoinColumn(name = &quot;bank_id&quot;)\n    private Bank bank;\n\n    @OneToMany(cascade = CascadeType.ALL,\n            mappedBy = &quot;creditDetails&quot;)\n    List&lt;CreditOffer&gt; creditOffers = new ArrayList&lt;&gt;();\n}\n</code></pre>\n<p>My task is to load Clients and Credit Details with the least number of requests using Spring Data.</p>\n<p>I tried to solve this problem using graphs, I added the following construction above the bank entity:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@NamedEntityGraph(name = &quot;BankWithClientsAndDetails&quot;, attributeNodes = {\n        @NamedAttributeNode(value = &quot;creditDetails&quot;),\n        @NamedAttributeNode(value = &quot;clients&quot;,subgraph = &quot;ClientWithBank&quot;)\n})\n</code></pre>\n<p>However, when calling the method, I received a <code>MultiBagFetchException</code>, googled that this occurs due to the fact that a Cartesian product is obtained in the request.</p>\n<p>Next, I tried to solve the problem by writing a SQL query manually, I made a test method of the following form:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Query(value = &quot;SELECT * FROM banks \\n&quot; +\n            &quot;JOIN clients ON clients.bank_id = banks.bank_id  \\n&quot; +\n            &quot;JOIN credit_details ON credit_details.bank_id = banks.bank_id \\n&quot; +\n            &quot;WHERE banks.bank_id = :id&quot;,nativeQuery = true)\n    Optional&lt;Bank&gt; findBankWithSubEntitiesById(@Param(value = &quot;id&quot;) UUID id);\n</code></pre>\n<p>The number of requests has remained huge, since related entities have more related entities, and those have one more. At this stage, my hands dropped and I came to you to ask for help. How would you solve this situation? Do I really have to put up with N + 1 in my case. I would be grateful for any help</p>\n"},{"tags":["java","jarsigner"],"comments":[{"owner":{"account_id":3557625,"reputation":199021,"user_id":2970947,"display_name":"Elliott Frisch"},"score":1,"creation_date":1644462381,"post_id":71059252,"comment_id":125615661,"body_markdown":"I use (and recommend) [SDKMAN](https://sdkman.io/) to manage my Java environments.","body":"I use (and recommend) <a href=\"https://sdkman.io/\" rel=\"nofollow noreferrer\">SDKMAN</a> to manage my Java environments."},{"owner":{"account_id":24059439,"reputation":282,"user_id":18036868,"display_name":"HUTUTU"},"score":2,"creation_date":1644462445,"post_id":71059252,"comment_id":125615674,"body_markdown":"I think you installed jre instead of jdk","body":"I think you installed jre instead of jdk"},{"owner":{"account_id":24059439,"reputation":282,"user_id":18036868,"display_name":"HUTUTU"},"score":0,"creation_date":1644462601,"post_id":71059252,"comment_id":125615703,"body_markdown":"Or the environment variables are incorrectly configured. The jarsigner is in JAVA_HOME/bin.","body":"Or the environment variables are incorrectly configured. The jarsigner is in JAVA_HOME/bin."},{"owner":{"account_id":5283622,"reputation":2730,"user_id":4218245,"display_name":"gaohomway"},"score":0,"creation_date":1644462945,"post_id":71059252,"comment_id":125615761,"body_markdown":"my jarsigner location is here `% whereis jarsigner /usr/bin/jarsigner`","body":"my jarsigner location is here <code>% whereis jarsigner &#47;usr&#47;bin&#47;jarsigner</code>"},{"owner":{"account_id":5283622,"reputation":2730,"user_id":4218245,"display_name":"gaohomway"},"score":0,"creation_date":1644462976,"post_id":71059252,"comment_id":125615764,"body_markdown":"How to determine if jdk is installed?","body":"How to determine if jdk is installed?"}],"answers":[{"comments":[{"owner":{"account_id":16842843,"reputation":387,"user_id":12177820,"display_name":"DrRaspberry"},"score":4,"creation_date":1652380374,"post_id":71059860,"comment_id":127598561,"body_markdown":"I used this link to avoid having to create an account with oracle but this worked for me too. https://www.oracle.com/java/technologies/downloads/#jdk18-mac","body":"I used this link to avoid having to create an account with oracle but this worked for me too. <a href=\"https://www.oracle.com/java/technologies/downloads/#jdk18-mac\" rel=\"nofollow noreferrer\">oracle.com/java/technologies/downloads/#jdk18-mac</a>"},{"owner":{"account_id":17808653,"reputation":117,"user_id":14965404,"display_name":"R__"},"score":0,"creation_date":1674585646,"post_id":71059860,"comment_id":132744185,"body_markdown":"Do I need to do something more to make it work? I have installed it but it doesn&#39;t work? Should I deactivate the virtual environment? Thanks","body":"Do I need to do something more to make it work? I have installed it but it doesn&#39;t work? Should I deactivate the virtual environment? Thanks"}],"tags":[],"owner":{"account_id":5283622,"reputation":2730,"user_id":4218245,"display_name":"gaohomway"},"comment_count":2,"down_vote_count":0,"up_vote_count":16,"is_accepted":true,"score":16,"last_activity_date":1644467699,"creation_date":1644467699,"answer_id":71059860,"question_id":71059252,"body_markdown":"I finally solved it by downloading the [JDK][1]\r\n\r\n\r\n  [1]: https://www.oracle.com/java/technologies/javase/javase-jdk8-downloads.html","title":"Mac The operation couldn’t be completed. Unable to locate a Java Runtime that supports jarsigner","body":"<p>I finally solved it by downloading the <a href=\"https://www.oracle.com/java/technologies/javase/javase-jdk8-downloads.html\" rel=\"noreferrer\">JDK</a></p>\n"},{"comments":[{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1663898451,"post_id":73822244,"comment_id":130352892,"body_markdown":"You shouldn&#39;t need to symlink. Most programs respect `JAVA_HOME` env-var","body":"You shouldn&#39;t need to symlink. Most programs respect <code>JAVA_HOME</code> env-var"},{"owner":{"account_id":3627579,"reputation":621,"user_id":3024757,"display_name":"Polo"},"score":1,"creation_date":1664649877,"post_id":73822244,"comment_id":130522147,"body_markdown":"It&#39;s an alternate way to point Java to correct JDK. For me, first time setup with brew required me to execute symlink. Second scenario, in case you have multiple Java JDK, symlink to switch to correct JDK also works.","body":"It&#39;s an alternate way to point Java to correct JDK. For me, first time setup with brew required me to execute symlink. Second scenario, in case you have multiple Java JDK, symlink to switch to correct JDK also works."},{"owner":{"account_id":155220,"reputation":6787,"user_id":371720,"accept_rate":58,"display_name":"Shihab Uddin"},"score":1,"creation_date":1681287454,"post_id":73822244,"comment_id":134030572,"body_markdown":"symlink command needed in MacOS","body":"symlink command needed in MacOS"}],"tags":[],"owner":{"account_id":3627579,"reputation":621,"user_id":3024757,"display_name":"Polo"},"comment_count":3,"down_vote_count":0,"up_vote_count":62,"is_accepted":false,"score":62,"last_activity_date":1668452065,"creation_date":1663897907,"answer_id":73822244,"question_id":71059252,"body_markdown":"Mac users, follow the below steps:\r\n\r\n1. ```shell\r\n   brew install openjdk@11\r\n   ```\r\n1. For the system Java wrappers to find this JDK, symlink it with:\r\n   ```shell\r\n   sudo ln -sfn $(brew --prefix)/opt/openjdk@11/libexec/openjdk.jdk /Library/Java/JavaVirtualMachines/openjdk-11.jdk\r\n   ```\r\n\r\nReference: https://formulae.brew.sh/formula/openjdk@11\r\n\r\nThis approach will also work for other versions.\r\n","title":"Mac The operation couldn’t be completed. Unable to locate a Java Runtime that supports jarsigner","body":"<p>Mac users, follow the below steps:</p>\n<ol>\n<li>\n<pre class=\"lang-bash prettyprint-override\"><code>brew install openjdk@11\n</code></pre>\n</li>\n<li>For the system Java wrappers to find this JDK, symlink it with:\n<pre class=\"lang-bash prettyprint-override\"><code>sudo ln -sfn $(brew --prefix)/opt/openjdk@11/libexec/openjdk.jdk /Library/Java/JavaVirtualMachines/openjdk-11.jdk\n</code></pre>\n</li>\n</ol>\n<p>Reference: <a href=\"https://formulae.brew.sh/formula/openjdk@11\" rel=\"noreferrer\">https://formulae.brew.sh/formula/openjdk@11</a></p>\n<p>This approach will also work for other versions.</p>\n"},{"comments":[{"owner":{"account_id":15502427,"reputation":438,"user_id":11910879,"display_name":"Sagar Davara"},"score":0,"creation_date":1691143430,"post_id":76747533,"comment_id":135455093,"body_markdown":"I did the same thing ans still I have same error","body":"I did the same thing ans still I have same error"},{"owner":{"account_id":17290149,"reputation":661,"user_id":12521876,"display_name":"Tom GODDARD"},"score":1,"creation_date":1692058052,"post_id":76747533,"comment_id":135571338,"body_markdown":"This actually worked, and now Xcode is happy to build the Kotlin Multiplatform project.","body":"This actually worked, and now Xcode is happy to build the Kotlin Multiplatform project."}],"tags":[],"owner":{"account_id":29073415,"reputation":21,"user_id":22271171,"display_name":"Aleksandr Galko"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1690105011,"creation_date":1690105011,"answer_id":76747533,"question_id":71059252,"body_markdown":"You need to check jdk version which installed to our system.\r\nThis example is for mac os with m1.\r\n\r\nEnter in your terminal:\r\n\r\n    java -version\r\n\r\nOutput:\r\n\r\n    openjdk version &quot;1.8.0_372&quot;\r\n    OpenJDK Runtime Environment (Zulu 8.70.0.23-CA-macos-aarch64) (build 1.8.0_372-b07)\r\n    OpenJDK 64-Bit Server VM (Zulu 8.70.0.23-CA-macos-aarch64) (build 25.372-b07, mixed mode)\r\n\r\nThen input the commands:\r\n1. `sudo ln -sfn /opt/homebrew/opt/openjdk/libexec/openjdk.jdk /Library/Java/JavaVirtualMachines/openjdk.jdk`\r\n\r\n2. echo &#39;export PATH=&quot;/opt/homebrew/opt/openjdk/bin:$PATH&quot;&#39; &gt;&gt; ~/.zshrc\r\n or ~/.bashrc\r\n3.  export CPPFLAGS=&quot;-I/opt/homebrew/opt/openjdk/include&quot;\r\n\r\nIt worked for me\r\n","title":"Mac The operation couldn’t be completed. Unable to locate a Java Runtime that supports jarsigner","body":"<p>You need to check jdk version which installed to our system.\nThis example is for mac os with m1.</p>\n<p>Enter in your terminal:</p>\n<pre><code>java -version\n</code></pre>\n<p>Output:</p>\n<pre><code>openjdk version &quot;1.8.0_372&quot;\nOpenJDK Runtime Environment (Zulu 8.70.0.23-CA-macos-aarch64) (build 1.8.0_372-b07)\nOpenJDK 64-Bit Server VM (Zulu 8.70.0.23-CA-macos-aarch64) (build 25.372-b07, mixed mode)\n</code></pre>\n<p>Then input the commands:</p>\n<ol>\n<li><p><code>sudo ln -sfn /opt/homebrew/opt/openjdk/libexec/openjdk.jdk /Library/Java/JavaVirtualMachines/openjdk.jdk</code></p>\n</li>\n<li><p>echo 'export PATH=&quot;/opt/homebrew/opt/openjdk/bin:$PATH&quot;' &gt;&gt; ~/.zshrc\nor ~/.bashrc</p>\n</li>\n<li><p>export CPPFLAGS=&quot;-I/opt/homebrew/opt/openjdk/include&quot;</p>\n</li>\n</ol>\n<p>It worked for me</p>\n"}],"owner":{"account_id":5283622,"reputation":2730,"user_id":4218245,"display_name":"gaohomway"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":79410,"favorite_count":0,"down_vote_count":0,"up_vote_count":28,"accepted_answer_id":71059860,"answer_count":3,"score":28,"last_activity_date":1690105011,"creation_date":1644461839,"question_id":71059252,"body_markdown":"My purpose is to use jarsigner to sign apk.\r\n\r\nI get the following prompt：\r\n\r\n```\r\n% jarsigner     \r\nThe operation couldn’t be completed. Unable to locate a Java Runtime that supports jarsigner.\r\nPlease visit http://www.java.com for information on installing Java.\r\n```\r\n\r\nmy java version hint：\r\n\r\n```\r\n% java -version\r\njava version &quot;1.8.0_321&quot;\r\nJava(TM) SE Runtime Environment (build 1.8.0_321-b07)\r\nJava HotSpot(TM) 64-Bit Server VM (build 25.321-b07, mixed mode)\r\n```\r\nMac version is 11.6.3 \r\n\r\nHow can I solve this problem please?\r\n\r\n","title":"Mac The operation couldn’t be completed. Unable to locate a Java Runtime that supports jarsigner","body":"<p>My purpose is to use jarsigner to sign apk.</p>\n<p>I get the following prompt：</p>\n<pre><code>% jarsigner     \nThe operation couldn’t be completed. Unable to locate a Java Runtime that supports jarsigner.\nPlease visit http://www.java.com for information on installing Java.\n</code></pre>\n<p>my java version hint：</p>\n<pre><code>% java -version\njava version &quot;1.8.0_321&quot;\nJava(TM) SE Runtime Environment (build 1.8.0_321-b07)\nJava HotSpot(TM) 64-Bit Server VM (build 25.321-b07, mixed mode)\n</code></pre>\n<p>Mac version is 11.6.3</p>\n<p>How can I solve this problem please?</p>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":551394,"reputation":8315,"user_id":916225,"accept_rate":69,"display_name":"seenukarthi"},"score":0,"creation_date":1690102877,"post_id":76747388,"comment_id":135303977,"body_markdown":"Please [edit] and improve your question, showing what you&#39;ve tried and using your attempt to help write a better and more site-appropriate question. As written, it could be seen by some as a no-effort homework dump, putting it at risk of being closed. If you improve it as per the [How to Ask](https://stackoverflow.com/questions/how-to-ask), tour and [How do I ask and answer Homework questions](http://meta.stackexchange.com/a/10812/162852) links, then it has a better chance of remaining open and being answered.","body":"Please <a href=\"https://stackoverflow.com/posts/76747388/edit\">edit</a> and improve your question, showing what you&#39;ve tried and using your attempt to help write a better and more site-appropriate question. As written, it could be seen by some as a no-effort homework dump, putting it at risk of being closed. If you improve it as per the <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>, tour and <a href=\"http://meta.stackexchange.com/a/10812/162852\">How do I ask and answer Homework questions</a> links, then it has a better chance of remaining open and being answered."}],"answers":[{"tags":[],"owner":{"account_id":20430190,"reputation":505,"user_id":14989217,"display_name":"S H"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690104554,"creation_date":1690104554,"answer_id":76747510,"question_id":76747388,"body_markdown":"Create a &quot;pointer&quot; to the start of the array, just an int initialized to 0.&lt;br&gt;\r\nNow you have two possible cases, either the number you&#39;re currently pointing at is equal to the next one, in which case it&#39;s duplicated, or it&#39;s not and you can skip it.&lt;br&gt;\r\nIf it&#39;s not equal skip it, otherwise create a new temporary pointer and loop until it reaches a number that is different than the one pointed at by the original pointer, or you reached the end of the array.&lt;br&gt;\r\npseudocode:\r\n```python3\r\nind = 0\r\nwhile (ind&lt;(n-1)):\r\n    if arr[ind]==arr[ind+1]:\r\n        print(temp, end = &quot; &quot;)\r\n    temp = ind+1\r\n    while temp&lt;n and arr[temp]!=arr[ind]: temp+=1 #if not duplicate this will stop imediatly\r\n    ind = temp\r\n```","title":"Print the elements that occur more than once in a sorted array","body":"<p>Create a &quot;pointer&quot; to the start of the array, just an int initialized to 0.<br>\nNow you have two possible cases, either the number you're currently pointing at is equal to the next one, in which case it's duplicated, or it's not and you can skip it.<br>\nIf it's not equal skip it, otherwise create a new temporary pointer and loop until it reaches a number that is different than the one pointed at by the original pointer, or you reached the end of the array.<br>\npseudocode:</p>\n<pre class=\"lang-py prettyprint-override\"><code>ind = 0\nwhile (ind&lt;(n-1)):\n    if arr[ind]==arr[ind+1]:\n        print(temp, end = &quot; &quot;)\n    temp = ind+1\n    while temp&lt;n and arr[temp]!=arr[ind]: temp+=1 #if not duplicate this will stop imediatly\n    ind = temp\n</code></pre>\n"}],"owner":{"account_id":29073275,"reputation":19,"user_id":22271060,"display_name":"Basavaraj. Malagi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":149,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":1,"score":1,"last_activity_date":1690104554,"creation_date":1690102524,"question_id":76747388,"body_markdown":"Print the elements that occur more than once in a sorted array.\r\n\r\nInput Format\r\nThe input consists of two lines:\r\n\r\nThe first line contains a single integer N, representing the size of the array (1 ≤ N ≤ 10^5).\r\n\r\nThe second line contains N space-separated integers, A[1], A[2], ..., A[N], representing the elements of the array (-10^9 ≤ A[i] ≤ 10^9).\r\n\r\nOutput Format\r\nPrint the repeating elements in a single line, separated by a space, or -1 if no element is repeating.\r\n\r\nSample Inputs &amp; Outputs\r\nSample Input 1\r\n8\r\n1 2 3 3 4 4 4 5\r\nSample Output 1\r\n3 4\r\n\r\n.\r\n\r\nOutput Format\r\nPrint\r\n the repeating elements in a single line, separated by a space, or -1 if no element is repeating.\r\nSample Inputs &amp; Outputs\r\nSample Input 1\r\n8\r\n1 2 3 3 4 4 4 5\r\nSample Output 1\r\n3 4","title":"Print the elements that occur more than once in a sorted array","body":"<p>Print the elements that occur more than once in a sorted array.</p>\n<p>Input Format\nThe input consists of two lines:</p>\n<p>The first line contains a single integer N, representing the size of the array (1 ≤ N ≤ 10^5).</p>\n<p>The second line contains N space-separated integers, A[1], A[2], ..., A[N], representing the elements of the array (-10^9 ≤ A[i] ≤ 10^9).</p>\n<p>Output Format\nPrint the repeating elements in a single line, separated by a space, or -1 if no element is repeating.</p>\n<p>Sample Inputs &amp; Outputs\nSample Input 1\n8\n1 2 3 3 4 4 4 5\nSample Output 1\n3 4</p>\n<p>.</p>\n<p>Output Format\nPrint\nthe repeating elements in a single line, separated by a space, or -1 if no element is repeating.\nSample Inputs &amp; Outputs\nSample Input 1\n8\n1 2 3 3 4 4 4 5\nSample Output 1\n3 4</p>\n"},{"tags":["java","sql","database","h2"],"answers":[{"comments":[{"owner":{"account_id":72101,"reputation":15566,"user_id":208288,"accept_rate":67,"display_name":"Laird Nelson"},"score":0,"creation_date":1299545609,"post_id":5226353,"comment_id":5881597,"body_markdown":"Yes, and that is the *catalog* or *database*, not a schema within it.  So you might open a connection to jdbc:h2:mem:test, for example, but by default you are placed in the PUBLIC schema, and no other schemata exist.","body":"Yes, and that is the <i>catalog</i> or <i>database</i>, not a schema within it.  So you might open a connection to jdbc:h2:mem:test, for example, but by default you are placed in the PUBLIC schema, and no other schemata exist."}],"tags":[],"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"comment_count":1,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1299572881,"creation_date":1299538975,"answer_id":5226353,"question_id":5225700,"body_markdown":"&quot;By default, when an application calls `DriverManager.getConnection(url, ...)` and the database specified in the URL does not yet exist, a new (empty) database is created.&quot;—[H2 Database][1].\r\n\r\nAddendum: @Thomas Mueller shows how to [*Execute SQL on Connection*][2], but I sometimes just create and populate in the code, as suggested below.\r\n\r\n[1]:http://www.h2database.com/html/features.html#database_only_if_exists\r\n[2]:http://www.h2database.com/html/features.html#execute_sql_on_connection\r\n\r\n    import java.sql.Connection;\r\n    import java.sql.DriverManager;\r\n    import java.sql.ResultSet;\r\n    import java.sql.Statement;\r\n    \r\n    /** @see http://stackoverflow.com/questions/5225700 */\r\n    public class H2MemTest {\r\n    \r\n        public static void main(String[] args) throws Exception {\r\n            Connection conn = DriverManager.getConnection(&quot;jdbc:h2:mem:&quot;, &quot;sa&quot;, &quot;&quot;);\r\n            Statement st = conn.createStatement();\r\n            st.execute(&quot;create table customer(id integer, name varchar(10))&quot;);\r\n            st.execute(&quot;insert into customer values (1, &#39;Thomas&#39;)&quot;);\r\n            Statement stmt = conn.createStatement();\r\n            ResultSet rset = stmt.executeQuery(&quot;select name from customer&quot;);\r\n            while (rset.next()) {\r\n                String name = rset.getString(1);\r\n                System.out.println(name);\r\n            }\r\n        }\r\n    }\r\n\r\n","title":"Can I have H2 autocreate a schema in an in-memory database?","body":"<p>\"By default, when an application calls <code>DriverManager.getConnection(url, ...)</code> and the database specified in the URL does not yet exist, a new (empty) database is created.\"—<a href=\"http://www.h2database.com/html/features.html#database_only_if_exists\" rel=\"noreferrer\">H2 Database</a>.</p>\n\n<p>Addendum: @Thomas Mueller shows how to <a href=\"http://www.h2database.com/html/features.html#execute_sql_on_connection\" rel=\"noreferrer\"><em>Execute SQL on Connection</em></a>, but I sometimes just create and populate in the code, as suggested below.</p>\n\n<pre><code>import java.sql.Connection;\nimport java.sql.DriverManager;\nimport java.sql.ResultSet;\nimport java.sql.Statement;\n\n/** @see http://stackoverflow.com/questions/5225700 */\npublic class H2MemTest {\n\n    public static void main(String[] args) throws Exception {\n        Connection conn = DriverManager.getConnection(\"jdbc:h2:mem:\", \"sa\", \"\");\n        Statement st = conn.createStatement();\n        st.execute(\"create table customer(id integer, name varchar(10))\");\n        st.execute(\"insert into customer values (1, 'Thomas')\");\n        Statement stmt = conn.createStatement();\n        ResultSet rset = stmt.executeQuery(\"select name from customer\");\n        while (rset.next()) {\n            String name = rset.getString(1);\n            System.out.println(name);\n        }\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":72101,"reputation":15566,"user_id":208288,"accept_rate":67,"display_name":"Laird Nelson"},"score":0,"creation_date":1299587390,"post_id":5228564,"comment_id":5888485,"body_markdown":"Thank you very much; not sure how I missed that in the (excellent) documentation.","body":"Thank you very much; not sure how I missed that in the (excellent) documentation."},{"owner":{"account_id":125069,"reputation":6156,"user_id":320594,"accept_rate":77,"display_name":"Jaime Hablutzel"},"score":0,"creation_date":1310422900,"post_id":5228564,"comment_id":7869322,"body_markdown":"Thank you, it made the work as I was using generated changesets from liquibase that use the schema name for generated xml.","body":"Thank you, it made the work as I was using generated changesets from liquibase that use the schema name for generated xml."},{"owner":{"account_id":204969,"reputation":1965,"user_id":453482,"display_name":"Johnny"},"score":2,"creation_date":1313081052,"post_id":5228564,"comment_id":8398153,"body_markdown":"Note that if you use H2 with hibernate and want to run multiple scripts by calling **RUNSCRIPT**, you should type triple backslash (\\\\\\\\). For example, you should set up `&lt;property name=&quot;hibernate.connection.url&quot;&gt;jdbc:h2:mem:test;INIT=RUNSCRIPT FROM &#39;script1.sql&#39;\\\\\\;RUNSCRIPT FROM script2.sql&#39;&lt;/property&gt;` in your hibernate config.","body":"Note that if you use H2 with hibernate and want to run multiple scripts by calling <b>RUNSCRIPT</b>, you should type triple backslash (\\\\\\&#41;. For example, you should set up <code>&lt;property name=&quot;hibernate.connection.url&quot;&gt;jdbc:h2:mem:test;INIT=RUNSCR&zwnj;&#8203;IPT FROM &#39;script1.sql&#39;\\\\\\;RUNSCRIPT FROM script2.sql&#39;&lt;&#47;property&gt;</code> in your hibernate config."},{"owner":{"account_id":161745,"reputation":49245,"user_id":382763,"accept_rate":92,"display_name":"Thomas Mueller"},"score":0,"creation_date":1313082679,"post_id":5228564,"comment_id":8398658,"body_markdown":"@Johnny Are you sure? It looks like the `;` doesn&#39;t need to be escaped (there is an unescaped `;` before the `INIT`). Could you try if using only one backslash works? `&#39;script1.sql&#39;\\;RUNSCRIPT...`","body":"@Johnny Are you sure? It looks like the <code>;</code> doesn&#39;t need to be escaped (there is an unescaped <code>;</code> before the <code>INIT</code>). Could you try if using only one backslash works? <code>&#39;script1.sql&#39;\\;RUNSCRIPT...</code>"},{"owner":{"account_id":204969,"reputation":1965,"user_id":453482,"display_name":"Johnny"},"score":0,"creation_date":1313131973,"post_id":5228564,"comment_id":8408038,"body_markdown":"You are right, @Thomas. It works. But with triple slash it also works fine.","body":"You are right, @Thomas. It works. But with triple slash it also works fine."},{"owner":{"account_id":2730129,"reputation":4790,"user_id":2354099,"accept_rate":74,"display_name":"pinkpanther"},"score":0,"creation_date":1475253345,"post_id":5228564,"comment_id":66885100,"body_markdown":"is it possible to fetch script from classpath file?","body":"is it possible to fetch script from classpath file?"},{"owner":{"account_id":161745,"reputation":49245,"user_id":382763,"accept_rate":92,"display_name":"Thomas Mueller"},"score":2,"creation_date":1475563846,"post_id":5228564,"comment_id":66980522,"body_markdown":"@pinkpanther yes, see http://stackoverflow.com/questions/4490138/problem-with-init-runscript-and-relative-paths","body":"@pinkpanther yes, see <a href=\"http://stackoverflow.com/questions/4490138/problem-with-init-runscript-and-relative-paths\" title=\"problem with init runscript and relative paths\">stackoverflow.com/questions/4490138/&hellip;</a>"}],"tags":[],"owner":{"account_id":161745,"reputation":49245,"user_id":382763,"accept_rate":92,"display_name":"Thomas Mueller"},"comment_count":7,"down_vote_count":1,"up_vote_count":213,"is_accepted":true,"score":212,"last_activity_date":1373356969,"creation_date":1299560727,"answer_id":5228564,"question_id":5225700,"body_markdown":"Yes, H2 supports [executing SQL statements when connecting][1]. You could run a script, or just a statement or two:\r\n\r\n    String url = &quot;jdbc:h2:mem:test;&quot; + \r\n                 &quot;INIT=CREATE SCHEMA IF NOT EXISTS TEST&quot;\r\n    String url = &quot;jdbc:h2:mem:test;&quot; + \r\n                 &quot;INIT=CREATE SCHEMA IF NOT EXISTS TEST\\\\;&quot; + \r\n                      &quot;SET SCHEMA TEST&quot;;\r\n    String url = &quot;jdbc:h2:mem;&quot; + \r\n                 &quot;INIT=RUNSCRIPT FROM &#39;~/create.sql&#39;\\\\;&quot; + \r\n                      &quot;RUNSCRIPT FROM &#39;~/populate.sql&#39;&quot;;\r\n\r\nPlease note the double backslash (`\\\\`) is only required within Java. The backslash(es) before `;` within the `INIT` is required.\r\n\r\n  [1]: http://h2database.com/html/features.html#execute_sql_on_connection","title":"Can I have H2 autocreate a schema in an in-memory database?","body":"<p>Yes, H2 supports <a href=\"http://h2database.com/html/features.html#execute_sql_on_connection\" rel=\"noreferrer\">executing SQL statements when connecting</a>. You could run a script, or just a statement or two:</p>\n\n<pre><code>String url = \"jdbc:h2:mem:test;\" + \n             \"INIT=CREATE SCHEMA IF NOT EXISTS TEST\"\nString url = \"jdbc:h2:mem:test;\" + \n             \"INIT=CREATE SCHEMA IF NOT EXISTS TEST\\\\;\" + \n                  \"SET SCHEMA TEST\";\nString url = \"jdbc:h2:mem;\" + \n             \"INIT=RUNSCRIPT FROM '~/create.sql'\\\\;\" + \n                  \"RUNSCRIPT FROM '~/populate.sql'\";\n</code></pre>\n\n<p>Please note the double backslash (<code>\\\\</code>) is only required within Java. The backslash(es) before <code>;</code> within the <code>INIT</code> is required.</p>\n"},{"comments":[{"owner":{"account_id":6442492,"reputation":335,"user_id":4992072,"display_name":"Rhineb"},"score":0,"creation_date":1528293020,"post_id":48020306,"comment_id":88452632,"body_markdown":"It is also possible to create a schema this way in Grails 3","body":"It is also possible to create a schema this way in Grails 3"},{"owner":{"account_id":19255478,"reputation":8414,"user_id":14072498,"display_name":"Roar S."},"score":2,"creation_date":1659014144,"post_id":48020306,"comment_id":129198565,"body_markdown":"And if you want to set schema as well:\n`INIT=CREATE SCHEMA IF NOT EXISTS calendar\\;SET SCHEMA calendar`","body":"And if you want to set schema as well: <code>INIT=CREATE SCHEMA IF NOT EXISTS calendar\\;SET SCHEMA calendar</code>"}],"tags":[],"owner":{"account_id":1240724,"reputation":7685,"user_id":1203394,"accept_rate":68,"display_name":"Marquis Blount"},"comment_count":2,"down_vote_count":1,"up_vote_count":35,"is_accepted":false,"score":34,"last_activity_date":1629374833,"creation_date":1514539691,"answer_id":48020306,"question_id":5225700,"body_markdown":"If you are using spring with `application.yml`, the following will work for you:\r\n\r\n    spring:\r\n      datasource:\r\n        url: jdbc:h2:mem:mydb;DB_CLOSE_ON_EXIT=FALSE;MODE=PostgreSQL;INIT=CREATE SCHEMA IF NOT EXISTS calendar","title":"Can I have H2 autocreate a schema in an in-memory database?","body":"<p>If you are using spring with <code>application.yml</code>, the following will work for you:</p>\n<pre><code>spring:\n  datasource:\n    url: jdbc:h2:mem:mydb;DB_CLOSE_ON_EXIT=FALSE;MODE=PostgreSQL;INIT=CREATE SCHEMA IF NOT EXISTS calendar\n</code></pre>\n"},{"tags":[],"owner":{"account_id":94864,"reputation":6426,"user_id":258741,"accept_rate":57,"display_name":"Zeus"},"comment_count":0,"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1523027677,"creation_date":1523025218,"answer_id":49695179,"question_id":5225700,"body_markdown":"What Thomas has written is correct, in addition to that, if you want to initialize multiple schemas you can use the following. Note there is a `\\\\;` separating the two create statements. \r\n\r\n        EmbeddedDatabase db = new EmbeddedDatabaseBuilder()\r\n                        .setType(EmbeddedDatabaseType.H2)\r\n                        .setName(&quot;testDb;DB_CLOSE_ON_EXIT=FALSE;MODE=Oracle;INIT=create &quot; +\r\n                                &quot;schema if not exists &quot; +\r\n                                &quot;schema_a\\\\;create schema if not exists schema_b;&quot; +\r\n                                &quot;DB_CLOSE_DELAY=-1;&quot;)\r\n                        .addScript(&quot;sql/provPlan/createTable.sql&quot;)\r\n                        .addScript(&quot;sql/provPlan/insertData.sql&quot;)\r\n                        .addScript(&quot;sql/provPlan/insertSpecRel.sql&quot;)\r\n                        .build();\r\n\r\n\r\n\r\nref : http://www.h2database.com/html/features.html#execute_sql_on_connection","title":"Can I have H2 autocreate a schema in an in-memory database?","body":"<p>What Thomas has written is correct, in addition to that, if you want to initialize multiple schemas you can use the following. Note there is a <code>\\\\;</code> separating the two create statements. </p>\n\n<pre><code>    EmbeddedDatabase db = new EmbeddedDatabaseBuilder()\n                    .setType(EmbeddedDatabaseType.H2)\n                    .setName(\"testDb;DB_CLOSE_ON_EXIT=FALSE;MODE=Oracle;INIT=create \" +\n                            \"schema if not exists \" +\n                            \"schema_a\\\\;create schema if not exists schema_b;\" +\n                            \"DB_CLOSE_DELAY=-1;\")\n                    .addScript(\"sql/provPlan/createTable.sql\")\n                    .addScript(\"sql/provPlan/insertData.sql\")\n                    .addScript(\"sql/provPlan/insertSpecRel.sql\")\n                    .build();\n</code></pre>\n\n<p>ref : <a href=\"http://www.h2database.com/html/features.html#execute_sql_on_connection\" rel=\"noreferrer\">http://www.h2database.com/html/features.html#execute_sql_on_connection</a></p>\n"},{"tags":[],"owner":{"account_id":2774008,"reputation":18025,"user_id":2387977,"accept_rate":69,"display_name":"Dherik"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1575981783,"creation_date":1575922057,"answer_id":59255868,"question_id":5225700,"body_markdown":"If you are using Spring Framework with `application.yml` and having trouble to make the test find the SQL file on the `INIT` property, you can use the `classpath:` notation.\r\n\r\nFor example, if you have a `init.sql` SQL file on the `src/test/resources`, [just use][1]:\r\n\r\n    url=jdbc:h2:~/test;INIT=RUNSCRIPT FROM &#39;classpath:init.sql&#39;;DB_CLOSE_DELAY=-1;\r\n\r\n\r\n  [1]: https://cinhtau.net/2015/10/29/excecute-sql-on-connection-with-h2/","title":"Can I have H2 autocreate a schema in an in-memory database?","body":"<p>If you are using Spring Framework with <code>application.yml</code> and having trouble to make the test find the SQL file on the <code>INIT</code> property, you can use the <code>classpath:</code> notation.</p>\n\n<p>For example, if you have a <code>init.sql</code> SQL file on the <code>src/test/resources</code>, <a href=\"https://cinhtau.net/2015/10/29/excecute-sql-on-connection-with-h2/\" rel=\"noreferrer\">just use</a>:</p>\n\n<pre><code>url=jdbc:h2:~/test;INIT=RUNSCRIPT FROM 'classpath:init.sql';DB_CLOSE_DELAY=-1;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12058348,"reputation":116,"user_id":8818274,"accept_rate":75,"display_name":"Bozhidar Marinov"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1624875024,"creation_date":1624875024,"answer_id":68161534,"question_id":5225700,"body_markdown":"If you are using spring and xml configuration, here is an example how this should be done:\r\n\r\n    &lt;bean id=&quot;dataSource&quot; class=&quot;org.apache.commons.dbcp.BasicDataSource&quot;\r\n        destroy-method=&quot;close&quot; depends-on=&quot;h2Server&quot;&gt;\r\n    &lt;property name=&quot;driverClassName&quot; value=&quot;org.h2.Driver&quot;/&gt;\r\n    &lt;property name=&quot;url&quot;\r\n              value=&quot;jdbc:h2:mem:testdb;INIT=RUNSCRIPT FROM &#39;classpath:db/create_tables.sql&#39;\\;RUNSCRIPT FROM &#39;classpath:db/insert.sql&#39;;TRACE_LEVEL_FILE=4;TRACE_LEVEL_SYSTEM_OUT=3;&quot;/&gt;\r\n    &lt;property name=&quot;username&quot; value=&quot;sa&quot;/&gt;\r\n    &lt;property name=&quot;password&quot; value=&quot;&quot;/&gt;\r\n &lt;/bean&gt;","title":"Can I have H2 autocreate a schema in an in-memory database?","body":"<p>If you are using spring and xml configuration, here is an example how this should be done:</p>\n<pre><code>&lt;bean id=&quot;dataSource&quot; class=&quot;org.apache.commons.dbcp.BasicDataSource&quot;\n    destroy-method=&quot;close&quot; depends-on=&quot;h2Server&quot;&gt;\n&lt;property name=&quot;driverClassName&quot; value=&quot;org.h2.Driver&quot;/&gt;\n&lt;property name=&quot;url&quot;\n          value=&quot;jdbc:h2:mem:testdb;INIT=RUNSCRIPT FROM 'classpath:db/create_tables.sql'\\;RUNSCRIPT FROM 'classpath:db/insert.sql';TRACE_LEVEL_FILE=4;TRACE_LEVEL_SYSTEM_OUT=3;&quot;/&gt;\n&lt;property name=&quot;username&quot; value=&quot;sa&quot;/&gt;\n&lt;property name=&quot;password&quot; value=&quot;&quot;/&gt;\n</code></pre>\n \n"},{"tags":[],"owner":{"account_id":1548558,"reputation":1083,"user_id":1441476,"accept_rate":40,"display_name":"Homayoun Behzadian"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690101736,"creation_date":1690101736,"answer_id":76747333,"question_id":5225700,"body_markdown":"I had a problem that causes confusing message! I had been added \r\n```\r\nspring.jpa.properties.hibernate.globally_quoted_identifiers=true\r\n```\r\nto the configuration for handling keyword names. but it keeps saying category `&quot;menu&quot;` does not exists.\r\nI tried to verify if INIT script is running by tampring it to something wrong, and h2 causes an error (which is a true behaviour).\r\nSo I was sure that `menu` schema will be generated. \r\n\r\nFinally I found that h2 database says `&quot;menu&quot;` schema does not exists not `menu` schema!\r\n\r\nThen I removed globally_quoted_identifiers and everything goes fine!","title":"Can I have H2 autocreate a schema in an in-memory database?","body":"<p>I had a problem that causes confusing message! I had been added</p>\n<pre><code>spring.jpa.properties.hibernate.globally_quoted_identifiers=true\n</code></pre>\n<p>to the configuration for handling keyword names. but it keeps saying category <code>&quot;menu&quot;</code> does not exists.\nI tried to verify if INIT script is running by tampring it to something wrong, and h2 causes an error (which is a true behaviour).\nSo I was sure that <code>menu</code> schema will be generated.</p>\n<p>Finally I found that h2 database says <code>&quot;menu&quot;</code> schema does not exists not <code>menu</code> schema!</p>\n<p>Then I removed globally_quoted_identifiers and everything goes fine!</p>\n"}],"owner":{"account_id":72101,"reputation":15566,"user_id":208288,"accept_rate":67,"display_name":"Laird Nelson"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":167488,"favorite_count":0,"down_vote_count":0,"up_vote_count":116,"accepted_answer_id":5228564,"answer_count":7,"score":116,"last_activity_date":1690101736,"creation_date":1299534644,"question_id":5225700,"body_markdown":"(I&#39;ve already seen the [H2 database In memory - Init schema via Spring/Hibernate][1] question; it is not applicable here.)\r\n\r\nI&#39;d like to know if there&#39;s a setting in H2 that will allow me to auto-create a schema upon connecting to it.  If it helps, I&#39;m only interested in the in-memory case.\r\n\r\nH2 supports various semicolon-separated modifiers at the end of the URL, but I didn&#39;t find one for automatically creating a schema.  Is there such a feature?\r\n\r\n  [1]: https://stackoverflow.com/questions/1945175/h2-database-in-memory-init-schema-via-spring-hibernate","title":"Can I have H2 autocreate a schema in an in-memory database?","body":"<p>(I've already seen the <a href=\"https://stackoverflow.com/questions/1945175/h2-database-in-memory-init-schema-via-spring-hibernate\">H2 database In memory - Init schema via Spring/Hibernate</a> question; it is not applicable here.)</p>\n\n<p>I'd like to know if there's a setting in H2 that will allow me to auto-create a schema upon connecting to it.  If it helps, I'm only interested in the in-memory case.</p>\n\n<p>H2 supports various semicolon-separated modifiers at the end of the URL, but I didn't find one for automatically creating a schema.  Is there such a feature?</p>\n"},{"tags":["java","spring","spring-mvc"],"owner":{"account_id":26194357,"reputation":15,"user_id":19875663,"display_name":"Luffyyy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":11,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690101091,"creation_date":1690101091,"question_id":76747301,"body_markdown":"I am creating a new web application but my servlet cant seem to map to my controller\r\n\r\n**Web.xml**\r\n[![enter image description here](https://i.stack.imgur.com/UPLwJ.png)](https://i.stack.imgur.com/UPLwJ.png)\r\n**servlet.xml**\r\n[![enter image description here](https://i.stack.imgur.com/0GwFl.png)](https://i.stack.imgur.com/0GwFl.png)\r\n**Controller**\r\n[![enter image description here](https://i.stack.imgur.com/wZuFB.png)](https://i.stack.imgur.com/wZuFB.png)\r\n**Project explorer**\r\nis there anything wrong with the placement of my jsp?\r\n[![enter image description here](https://i.stack.imgur.com/DTaRb.png)](https://i.stack.imgur.com/DTaRb.png)\r\n\r\nI have configured the web.xml and servlet.xml and also annotated my Controller but i keep getting error 404 not found and my console does not show any error.","title":"Spring MVC gives error 404 not found with InternalResourceViewResolver","body":"<p>I am creating a new web application but my servlet cant seem to map to my controller</p>\n<p><strong>Web.xml</strong>\n<a href=\"https://i.stack.imgur.com/UPLwJ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/UPLwJ.png\" alt=\"enter image description here\" /></a>\n<strong>servlet.xml</strong>\n<a href=\"https://i.stack.imgur.com/0GwFl.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0GwFl.png\" alt=\"enter image description here\" /></a>\n<strong>Controller</strong>\n<a href=\"https://i.stack.imgur.com/wZuFB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/wZuFB.png\" alt=\"enter image description here\" /></a>\n<strong>Project explorer</strong>\nis there anything wrong with the placement of my jsp?\n<a href=\"https://i.stack.imgur.com/DTaRb.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/DTaRb.png\" alt=\"enter image description here\" /></a></p>\n<p>I have configured the web.xml and servlet.xml and also annotated my Controller but i keep getting error 404 not found and my console does not show any error.</p>\n"},{"tags":["java","algorithm"],"comments":[{"owner":{"account_id":2345668,"reputation":13002,"user_id":2055998,"accept_rate":68,"display_name":"PM 77-1"},"score":5,"creation_date":1574272220,"post_id":58960449,"comment_id":104176204,"body_markdown":"[Code Review](https://codereview.stackexchange.com/) site is better suited for such questions.","body":"<a href=\"https://codereview.stackexchange.com/\">Code Review</a> site is better suited for such questions."},{"owner":{"account_id":959813,"reputation":116499,"user_id":984421,"display_name":"ekhumoro"},"score":2,"creation_date":1574272407,"post_id":58960449,"comment_id":104176311,"body_markdown":"I&#39;m voting to close this question as off-topic because it is asking to review code that is already working.","body":"I&#39;m voting to close this question as off-topic because it is asking to review code that is already working."},{"owner":{"account_id":4010701,"reputation":15103,"user_id":4398966,"accept_rate":64,"display_name":"DCR"},"score":0,"creation_date":1574272529,"post_id":58960449,"comment_id":104176373,"body_markdown":"use arraylist.  You can easily remove items from the list and eliminate the last for loop","body":"use arraylist.  You can easily remove items from the list and eliminate the last for loop"}],"answers":[{"tags":[],"owner":{"account_id":36812,"reputation":3352,"user_id":105085,"accept_rate":67,"display_name":"palako"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1574272800,"creation_date":1574272800,"answer_id":58960671,"question_id":58960449,"body_markdown":"Yes, you can reduce the complexity of this to O(n). Iterate the input array just once and for each new element found create an entry in a hash map with a value of 1. If you find a repeated entry, increment the value of that entry in the map.\r\n\r\nWhen you complete the pass, iterate the items in the map dividing their values by two, keep only the integer part of the division, and add the cumulative sum. ","title":"Can we solve this Sock Merchant problem in less complexity?","body":"<p>Yes, you can reduce the complexity of this to O(n). Iterate the input array just once and for each new element found create an entry in a hash map with a value of 1. If you find a repeated entry, increment the value of that entry in the map.</p>\n\n<p>When you complete the pass, iterate the items in the map dividing their values by two, keep only the integer part of the division, and add the cumulative sum. </p>\n"},{"tags":[],"owner":{"account_id":3580374,"reputation":108855,"user_id":2988730,"accept_rate":96,"display_name":"Mad Physicist"},"comment_count":0,"down_vote_count":1,"up_vote_count":13,"is_accepted":true,"score":12,"last_activity_date":1574273768,"creation_date":1574272857,"answer_id":58960683,"question_id":58960449,"body_markdown":"You can solve this in a single pass (`O(n)`) using a [`HashSet`][1], which has `O(1)` put and lookup time. Each element is already in the set, in which case it gets removed and the pair counter is incremented, or it&#39;s not, in which case you add it:\r\n\r\n    int[] arr = new int[]{10, 20, 20, 10, 10, 30, 50, 10, 20};\r\n\r\n    HashSet&lt;Integer&gt; unmatched = new HashSet&lt;&gt;();\r\n    int pairs = 0;\r\n    for(int i = 0; i &lt; arr.length; i++) {\r\n        if(!unmatched.add(arr[i])) {\r\n            unmatched.remove(arr[i]);\r\n            pairs++;\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/HashSet.html","title":"Can we solve this Sock Merchant problem in less complexity?","body":"<p>You can solve this in a single pass (<code>O(n)</code>) using a <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/HashSet.html\" rel=\"noreferrer\"><code>HashSet</code></a>, which has <code>O(1)</code> put and lookup time. Each element is already in the set, in which case it gets removed and the pair counter is incremented, or it's not, in which case you add it:</p>\n\n<pre><code>int[] arr = new int[]{10, 20, 20, 10, 10, 30, 50, 10, 20};\n\nHashSet&lt;Integer&gt; unmatched = new HashSet&lt;&gt;();\nint pairs = 0;\nfor(int i = 0; i &lt; arr.length; i++) {\n    if(!unmatched.add(arr[i])) {\n        unmatched.remove(arr[i]);\n        pairs++;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6174988,"reputation":11040,"user_id":4812170,"accept_rate":73,"display_name":"vaquar khan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1586665020,"creation_date":1586665020,"answer_id":61166789,"question_id":58960449,"body_markdown":"    package com.java.example.sock;\r\n    \r\n    import java.io.IOException;\r\n    /**\r\n     * \r\n     * @author Vaquar Khan\r\n     *\r\n     */\r\n    public class Solution1 {\r\n    \r\n    // Complete the sockMerchant function below.\r\n    \t/*\r\n    \t * John works at a clothing store. He has a large pile of socks that he must pair by color for sale. Given an array of integers representing the color of each sock, determine how many pairs\r\n         * of socks with matching colors there are.\r\n         * For example, there are  socks with colors . There is one pair of color  and one of color . There are three odd socks left, one of each color. The number of pairs is .\r\n    \t */\r\n    \tstatic int sockMerchant(int n, int[] ar) {\r\n    \r\n    \t\tint counter = 0;\r\n    \t\tint count = 0;\r\n    \t\t//\r\n    \t\tfor (int i = 0; i &lt; ar.length; i++) {\r\n    \t\t\tcount = 1;\r\n    \t\t\t//\r\n    \t\t\tfor (int j = i + 1; j &lt; ar.length; j++) {\r\n    \t\t\t\tif (ar[i] == ar[j]) {\r\n    \t\t\t\t\tcount++;\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t\t\r\n    \t\t\tif (count % 2 == 0) {\r\n    \t\t\t\tcounter++;\r\n    \t\t\t}\r\n    \t\t}\r\n    \r\n    \t\treturn counter;\r\n    \t}\r\n    \r\n    \tpublic static void main(String[] args) throws IOException {\r\n    \r\n    \t\tint array[] = { 10, 20, 20 ,10 ,10, 30, 50, 10 ,20};\r\n    \r\n    \t\tSystem.out.println(sockMerchant(9, array));\r\n    \t}\r\n    }\r\n\r\n","title":"Can we solve this Sock Merchant problem in less complexity?","body":"<pre><code>package com.java.example.sock;\n\nimport java.io.IOException;\n/**\n * \n * @author Vaquar Khan\n *\n */\npublic class Solution1 {\n\n// Complete the sockMerchant function below.\n    /*\n     * John works at a clothing store. He has a large pile of socks that he must pair by color for sale. Given an array of integers representing the color of each sock, determine how many pairs\n     * of socks with matching colors there are.\n     * For example, there are  socks with colors . There is one pair of color  and one of color . There are three odd socks left, one of each color. The number of pairs is .\n     */\n    static int sockMerchant(int n, int[] ar) {\n\n        int counter = 0;\n        int count = 0;\n        //\n        for (int i = 0; i &lt; ar.length; i++) {\n            count = 1;\n            //\n            for (int j = i + 1; j &lt; ar.length; j++) {\n                if (ar[i] == ar[j]) {\n                    count++;\n                }\n            }\n\n            if (count % 2 == 0) {\n                counter++;\n            }\n        }\n\n        return counter;\n    }\n\n    public static void main(String[] args) throws IOException {\n\n        int array[] = { 10, 20, 20 ,10 ,10, 30, 50, 10 ,20};\n\n        System.out.println(sockMerchant(9, array));\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10838861,"reputation":11,"user_id":13179717,"display_name":"J David Gonz&#225;lez"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1588909096,"creation_date":1588909096,"answer_id":61671628,"question_id":58960449,"body_markdown":"Here my solution with JAVA for Sock Merchant test on HackerRank\r\n \r\n\r\n    import java.io.*;\r\n    import java.util.*;\r\n\r\n    public class sockMerchant {\r\n\r\n    public static void main(String[] args) {\r\n        Scanner en = new Scanner(System.in);\r\n        int n=en.nextInt();\r\n        int[] hash = new int[300];\r\n        for(int i=0; i&lt;n; i++){\r\n            hash[en.nextInt()]++;\r\n        }\r\n        long res=0;\r\n        for(int f: hash){\r\n            res+=f/2;\r\n        }\r\n        System.out.println(res);\r\n     }\r\n    }","title":"Can we solve this Sock Merchant problem in less complexity?","body":"<p>Here my solution with JAVA for Sock Merchant test on HackerRank</p>\n\n<pre><code>import java.io.*;\nimport java.util.*;\n\npublic class sockMerchant {\n\npublic static void main(String[] args) {\n    Scanner en = new Scanner(System.in);\n    int n=en.nextInt();\n    int[] hash = new int[300];\n    for(int i=0; i&lt;n; i++){\n        hash[en.nextInt()]++;\n    }\n    long res=0;\n    for(int f: hash){\n        res+=f/2;\n    }\n    System.out.println(res);\n }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9718766,"reputation":1,"user_id":7208146,"display_name":"rajesh revanwar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1594014822,"creation_date":1594014822,"answer_id":62750014,"question_id":58960449,"body_markdown":"    Refer below one using HashMap and having complexity O(1)\r\n    \r\n    static int sockMerchant(int n, int[] ar) {\r\n            int pairs=0;\r\n            Map&lt;Integer, Integer&gt; map = new HashMap&lt;&gt;();\r\n            for(int i=0;i&lt;n;i++){\r\n                if(map.containsKey(ar[i])){\r\n                    int count=map.get(ar[i]);\r\n                    map.put(ar[i],++count);\r\n                }\r\n                else{\r\n                    map.put(ar[i],1);\r\n                }\r\n            }\r\n            for(int i : map.values()){\r\n                pairs=pairs+(i/2);\r\n            } \r\n            return pairs;\r\n    \r\n        }","title":"Can we solve this Sock Merchant problem in less complexity?","body":"<pre><code>Refer below one using HashMap and having complexity O(1)\n\nstatic int sockMerchant(int n, int[] ar) {\n        int pairs=0;\n        Map&lt;Integer, Integer&gt; map = new HashMap&lt;&gt;();\n        for(int i=0;i&lt;n;i++){\n            if(map.containsKey(ar[i])){\n                int count=map.get(ar[i]);\n                map.put(ar[i],++count);\n            }\n            else{\n                map.put(ar[i],1);\n            }\n        }\n        for(int i : map.values()){\n            pairs=pairs+(i/2);\n        } \n        return pairs;\n\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19174943,"reputation":11,"user_id":14007842,"display_name":"Divyansh"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1595923158,"creation_date":1595919705,"answer_id":63128657,"question_id":58960449,"body_markdown":"Py3 solution for the problem using dictionaries\r\n```py\r\ndef sockMerchant(n, ar):\r\n    pair = 0\r\n    d = {}\r\n    for i in ar:\r\n        if i in d:\r\n            d[i] += 1\r\n        if i not in d:\r\n            d[i] = 1\r\n    print(d)\r\n    for x in d:\r\n        u = d[x]//2\r\n        pair += u\r\n    return pair\r\n```","title":"Can we solve this Sock Merchant problem in less complexity?","body":"<p>Py3 solution for the problem using dictionaries</p>\n<pre class=\"lang-py prettyprint-override\"><code>def sockMerchant(n, ar):\n    pair = 0\n    d = {}\n    for i in ar:\n        if i in d:\n            d[i] += 1\n        if i not in d:\n            d[i] = 1\n    print(d)\n    for x in d:\n        u = d[x]//2\n        pair += u\n    return pair\n</code></pre>\n"},{"comments":[{"owner":{"account_id":11131625,"reputation":2347,"user_id":8171453,"display_name":"Emoun"},"score":1,"creation_date":1598786201,"post_id":63656730,"comment_id":112566030,"body_markdown":"Perhaps you could add an explanation of your code to make it easier to see how works? Maybe highlight the notable differences between you solution and the original?","body":"Perhaps you could add an explanation of your code to make it easier to see how works? Maybe highlight the notable differences between you solution and the original?"}],"tags":[],"owner":{"account_id":16834527,"reputation":1,"user_id":12171580,"display_name":"ahror nematov"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1598785147,"creation_date":1598785147,"answer_id":63656730,"question_id":58960449,"body_markdown":"    static int sockMerchant(int n, int[] ar) {\r\n        int pairs = 0;\r\n        for (int i = 0; i &lt; ar.length; i++) {\r\n            int counter = 0;\r\n            for (int j = 0; j &lt; ar.length; j++) {\r\n                if (j &lt; i &amp;&amp; ar[j] == ar[i]) break;\r\n                if(ar[j]==ar[i]) counter++;\r\n            }\r\n            pairs+=counter/2;\r\n        }\r\n        return pairs;\r\n    }","title":"Can we solve this Sock Merchant problem in less complexity?","body":"<pre><code>static int sockMerchant(int n, int[] ar) {\n    int pairs = 0;\n    for (int i = 0; i &lt; ar.length; i++) {\n        int counter = 0;\n        for (int j = 0; j &lt; ar.length; j++) {\n            if (j &lt; i &amp;&amp; ar[j] == ar[i]) break;\n            if(ar[j]==ar[i]) counter++;\n        }\n        pairs+=counter/2;\n    }\n    return pairs;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13389938,"reputation":108,"user_id":9662571,"display_name":"Pravi"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1600060820,"creation_date":1600060820,"answer_id":63878474,"question_id":58960449,"body_markdown":"Code for python 3 \r\n\r\n    n = 9\r\n    ar = [10, 20, 20, 10, 10, 30, 50, 10, 20]\r\n    def sockMerchant(n, ar):\r\n        totalpair = 0\r\n        test= list(set(ar))\r\n        for i in test:\r\n            pair = 0\r\n            for j in ar:\r\n                if i==j:\r\n                    pair+=1\r\n            if pair&gt;=2:\r\n                totalpair=totalpair+int(pair/2)\r\n        return totalpair\r\n    print(sockMerchant(n,ar))\r\n","title":"Can we solve this Sock Merchant problem in less complexity?","body":"<p>Code for python 3</p>\n<pre><code>n = 9\nar = [10, 20, 20, 10, 10, 30, 50, 10, 20]\ndef sockMerchant(n, ar):\n    totalpair = 0\n    test= list(set(ar))\n    for i in test:\n        pair = 0\n        for j in ar:\n            if i==j:\n                pair+=1\n        if pair&gt;=2:\n            totalpair=totalpair+int(pair/2)\n    return totalpair\nprint(sockMerchant(n,ar))\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19541044,"reputation":1,"user_id":14298772,"display_name":"Prabhat kumar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1600411585,"creation_date":1600411585,"answer_id":63950601,"question_id":58960449,"body_markdown":"def sockMerchant(n, ar):\r\n    \r\n    socks = dict()\r\n    pairs = 0\r\n    for i in ar:\r\n        if i in socks:\r\n            socks[i] = socks[i]+1\r\n        if i not in socks:\r\n            socks[i] = 1\r\n        if socks[i]%2 == 0:\r\n            pairs += 1\r\n    \r\n    return pairs  ","title":"Can we solve this Sock Merchant problem in less complexity?","body":"<p>def sockMerchant(n, ar):</p>\n<pre><code>socks = dict()\npairs = 0\nfor i in ar:\n    if i in socks:\n        socks[i] = socks[i]+1\n    if i not in socks:\n        socks[i] = 1\n    if socks[i]%2 == 0:\n        pairs += 1\n\nreturn pairs  \n</code></pre>\n"},{"comments":[{"owner":{"account_id":20258760,"reputation":523,"user_id":14857732,"display_name":"yongchang"},"score":1,"creation_date":1644556113,"post_id":65513571,"comment_id":125643414,"body_markdown":"This works for c# too","body":"This works for c# too"}],"tags":[],"owner":{"account_id":17948592,"reputation":49,"user_id":13042253,"display_name":"VMaz"},"comment_count":1,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1609362620,"creation_date":1609362278,"answer_id":65513571,"question_id":58960449,"body_markdown":"This works for java 8!!\r\n\r\n```\r\nstatic int sockMerchant(int n, int[] ar) {\r\n        Set&lt;Integer&gt; list = new HashSet&lt;Integer&gt;();\r\n        int count = 0;\r\n        for(int i= 0; i &lt; n; i++){\r\n            if(list.contains(ar[i])){\r\n                count++;\r\n                list.remove(ar[i]);\r\n            }\r\n            else{\r\n                list.add(ar[i]);\r\n            }\r\n        }\r\n        return count;\r\n    }\r\n```","title":"Can we solve this Sock Merchant problem in less complexity?","body":"<p>This works for java 8!!</p>\n<pre><code>static int sockMerchant(int n, int[] ar) {\n        Set&lt;Integer&gt; list = new HashSet&lt;Integer&gt;();\n        int count = 0;\n        for(int i= 0; i &lt; n; i++){\n            if(list.contains(ar[i])){\n                count++;\n                list.remove(ar[i]);\n            }\n            else{\n                list.add(ar[i]);\n            }\n        }\n        return count;\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15188234,"reputation":11,"user_id":10959540,"display_name":"Qazi Arsalan shah"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1612813104,"creation_date":1612813104,"answer_id":66108207,"question_id":58960449,"body_markdown":"**We can use a Hash Table, for it. As Hash Table&#39;s Complexity is O(1)**&lt;br&gt;\r\nLook at below code snippet, i created a dictionary in python i.e. Hash Table having key and value. In dictionary, there only exists a unique Key for each value. So, at start dictionary will be empty. We will loop over the provided list and check values in dictionary keys. If that value is not in dictionary key, it means it is unique, add it to the dictionary. if we find value in dictionary key, simply increment **pairs counter** and remove that key value pair from hash table i.e. dictionary.\r\n  \r\n\r\n    def sockMerchant(n, ar):\r\n        hash_map = dict()\r\n        pairs = 0\r\n        for x in range(len(ar)):\r\n            if ar[x] in hash_map.keys():\r\n                del hash_map[ar[x]]\r\n                pairs += 1\r\n            else:\r\n                hash_map.setdefault(ar[x])\r\n        return pairs\r\n\r\n","title":"Can we solve this Sock Merchant problem in less complexity?","body":"<p><strong>We can use a Hash Table, for it. As Hash Table's Complexity is O(1)</strong><br>\nLook at below code snippet, i created a dictionary in python i.e. Hash Table having key and value. In dictionary, there only exists a unique Key for each value. So, at start dictionary will be empty. We will loop over the provided list and check values in dictionary keys. If that value is not in dictionary key, it means it is unique, add it to the dictionary. if we find value in dictionary key, simply increment <strong>pairs counter</strong> and remove that key value pair from hash table i.e. dictionary.</p>\n<pre><code>def sockMerchant(n, ar):\n    hash_map = dict()\n    pairs = 0\n    for x in range(len(ar)):\n        if ar[x] in hash_map.keys():\n            del hash_map[ar[x]]\n            pairs += 1\n        else:\n            hash_map.setdefault(ar[x])\n    return pairs\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19681974,"reputation":71,"user_id":14408887,"display_name":"Hardik poudel"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1614575092,"creation_date":1614575092,"answer_id":66416912,"question_id":58960449,"body_markdown":"This is my simple code for beginners to understand using c++ which prints the count of numbers of pair in the user-defined vector:\r\n```\r\n#include &lt;bits/stdc++.h&gt;\r\n\r\nusing namespace std;\r\n\r\nvector&lt;string&gt; split_string(string);\r\n\r\n// Complete the sockMerchant function below.\r\nint sockMerchant(int n, vector&lt;int&gt; ar) {\r\n  int count=0;\r\n  vector&lt;int&gt; x;\r\n  for(int i=0;i&lt;n;i++){\r\n    if(ar[i]!=0)\r\n    {\r\n      for(int j=i+1;j&lt;n;j++)\r\n        {\r\n          if(ar[i]==ar[j]){\r\n            count++;\r\n            ar[j]=0;\r\n            break;\r\n        }\r\n    }}\r\n  }\r\n  return count;\r\n}\r\n\r\nint main()\r\n{\r\n  int a,b;\r\n  vector&lt;int&gt; v;\r\n  cin&gt;&gt;a;\r\n  for(int i=0;i&lt;a;i++){\r\n    cin&gt;&gt;b;\r\n    v.push_back(b);\r\n    \r\n  }\r\n  cout&lt;&lt;sockMerchant(a,v);\r\n}\r\n```","title":"Can we solve this Sock Merchant problem in less complexity?","body":"<p>This is my simple code for beginners to understand using c++ which prints the count of numbers of pair in the user-defined vector:</p>\n<pre><code>#include &lt;bits/stdc++.h&gt;\n\nusing namespace std;\n\nvector&lt;string&gt; split_string(string);\n\n// Complete the sockMerchant function below.\nint sockMerchant(int n, vector&lt;int&gt; ar) {\n  int count=0;\n  vector&lt;int&gt; x;\n  for(int i=0;i&lt;n;i++){\n    if(ar[i]!=0)\n    {\n      for(int j=i+1;j&lt;n;j++)\n        {\n          if(ar[i]==ar[j]){\n            count++;\n            ar[j]=0;\n            break;\n        }\n    }}\n  }\n  return count;\n}\n\nint main()\n{\n  int a,b;\n  vector&lt;int&gt; v;\n  cin&gt;&gt;a;\n  for(int i=0;i&lt;a;i++){\n    cin&gt;&gt;b;\n    v.push_back(b);\n    \n  }\n  cout&lt;&lt;sockMerchant(a,v);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19999087,"reputation":11,"user_id":14658441,"display_name":"Coding Master"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1617472177,"creation_date":1617472177,"answer_id":66934209,"question_id":58960449,"body_markdown":"This problem can be done easily with a hashset. We can take advantage of the HashSet&#39;s ability to not store duplicate elements. Here is the code below. \r\n\r\n   \r\n\r\n        Set&lt;Integer&gt; set = new HashSet&lt;&gt;();\r\n        int pairCount = 0;\r\n        for(int i = 0; i &lt; arr.length; i++) {\r\n            if(set.add(a[i])\r\n               set.add(a[i])\r\n            else {\r\n               pairCount++; \r\n               set.remove(a[i]);\r\n            }\r\n        }\r\n        return pairCount;","title":"Can we solve this Sock Merchant problem in less complexity?","body":"<p>This problem can be done easily with a hashset. We can take advantage of the HashSet's ability to not store duplicate elements. Here is the code below.</p>\n<pre><code>    Set&lt;Integer&gt; set = new HashSet&lt;&gt;();\n    int pairCount = 0;\n    for(int i = 0; i &lt; arr.length; i++) {\n        if(set.add(a[i])\n           set.add(a[i])\n        else {\n           pairCount++; \n           set.remove(a[i]);\n        }\n    }\n    return pairCount;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2756471,"reputation":129,"user_id":2374387,"display_name":"Purushotam Rai"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1621283795,"creation_date":1621283795,"answer_id":67576729,"question_id":58960449,"body_markdown":"   \r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    /*\r\n     * Complete the &#39;sockMerchant&#39; function below.\r\n     *\r\n     * The function is expected to return an INTEGER.\r\n     * The function accepts following parameters:\r\n     *  1. INTEGER n\r\n     *  2. INTEGER_ARRAY ar\r\n     */\r\n\r\n    function sockMerchant(n, ar) {\r\n        // Write your code here    \r\n        let count = [];\r\n        for (var i = 0; i &lt; ar.length; i++) {\r\n            if (count.hasOwnProperty(ar[i])) {\r\n                count[ar[i]]++;\r\n            }\r\n            else {\r\n                count[ar[i]] = 1;\r\n            }\r\n        }\r\n        \r\n        let number = 0;\r\n        for (const key in count) {\r\n            number += parseInt(count[key] / 2);\r\n        }\r\n        return number;\r\n    }\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"Can we solve this Sock Merchant problem in less complexity?","body":"<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>/*\n * Complete the 'sockMerchant' function below.\n *\n * The function is expected to return an INTEGER.\n * The function accepts following parameters:\n *  1. INTEGER n\n *  2. INTEGER_ARRAY ar\n */\n\nfunction sockMerchant(n, ar) {\n    // Write your code here    \n    let count = [];\n    for (var i = 0; i &lt; ar.length; i++) {\n        if (count.hasOwnProperty(ar[i])) {\n            count[ar[i]]++;\n        }\n        else {\n            count[ar[i]] = 1;\n        }\n    }\n    \n    let number = 0;\n    for (const key in count) {\n        number += parseInt(count[key] / 2);\n    }\n    return number;\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"},{"tags":[],"owner":{"account_id":18271963,"reputation":41,"user_id":13302562,"display_name":"Swapnamoy Hazra"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1622260545,"creation_date":1622260545,"answer_id":67747594,"question_id":58960449,"body_markdown":"    My answer in C\r\n            int sockMerchant(int n, int ar_count, int* ar) {\r\n            int matchcounter =0;// each number repeating count\r\n            int paircounter=0;//total pair\r\n            int size=0;int i,j,k;\r\n            bool num_av=false;//number available or not in new array\r\n            int numberarray[n];//creating new (same length) array of length n\r\n           for(i=0;i&lt;n;i++){\r\n              num_av=false;\r\n              for(k=0;k&lt;=size;k++){\r\n                if(numberarray[k] == ar[i]){\r\n                  num_av=true;\r\n                  break;  \r\n                }\r\n              }\r\n              if(!num_av){\r\n                    size+=1;\r\n                    numberarray[size-1]=ar[i];\r\n                    for(j=0;j&lt;n;j++){\r\n                        if(ar[i]==ar[j]){\r\n                            matchcounter++;\r\n                        }\r\n                    }\r\n                    paircounter += matchcounter/2;\r\n                    matchcounter=0;\r\n              }\r\n               \r\n           }\r\n           return paircounter;\r\n        }","title":"Can we solve this Sock Merchant problem in less complexity?","body":"<pre><code>My answer in C\n        int sockMerchant(int n, int ar_count, int* ar) {\n        int matchcounter =0;// each number repeating count\n        int paircounter=0;//total pair\n        int size=0;int i,j,k;\n        bool num_av=false;//number available or not in new array\n        int numberarray[n];//creating new (same length) array of length n\n       for(i=0;i&lt;n;i++){\n          num_av=false;\n          for(k=0;k&lt;=size;k++){\n            if(numberarray[k] == ar[i]){\n              num_av=true;\n              break;  \n            }\n          }\n          if(!num_av){\n                size+=1;\n                numberarray[size-1]=ar[i];\n                for(j=0;j&lt;n;j++){\n                    if(ar[i]==ar[j]){\n                        matchcounter++;\n                    }\n                }\n                paircounter += matchcounter/2;\n                matchcounter=0;\n          }\n           \n       }\n       return paircounter;\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16871184,"reputation":1,"user_id":12199642,"display_name":"Kamaldeep Sagar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1622630676,"creation_date":1622630676,"answer_id":67803618,"question_id":58960449,"body_markdown":"I wanted to solve this using Array. Here is my solution for Sock Merchant problem on HackerRank (Java 8):\r\n\r\n....\r\nimport org.apache.commons.lang3.ArrayUtils;\r\nimport java.util.Arrays;\r\n\r\nclass Result {\r\n\r\n    public static int sockMerchant(int n, List&lt;Integer&gt; ar) {\r\n    \r\n    int[] arr = ar.stream().mapToInt(i-&gt;i).toArray();\r\n    \r\n    int counter = 0;\r\n    \r\n    for(int i = 0; i&lt;n; i++) {\r\n        if(arr[i]&gt;0) {\r\n            int t = arr[i];\r\n            arr[i] = -1;\r\n            int j = ArrayUtils.indexOf(arr, t);\r\n            if(j == -1) {\r\n                continue;\r\n            } else {\r\n                arr[j] = -1;\r\n                counter += 1;\r\n            }\r\n        } else {\r\n            continue;\r\n        }\r\n    }\r\n    \r\n    return counter;    \r\n\r\n    }\r\n\r\n}\r\n\r\nThis has a O(n) time complexity.","title":"Can we solve this Sock Merchant problem in less complexity?","body":"<p>I wanted to solve this using Array. Here is my solution for Sock Merchant problem on HackerRank (Java 8):</p>\n<p>....\nimport org.apache.commons.lang3.ArrayUtils;\nimport java.util.Arrays;</p>\n<p>class Result {</p>\n<pre><code>public static int sockMerchant(int n, List&lt;Integer&gt; ar) {\n\nint[] arr = ar.stream().mapToInt(i-&gt;i).toArray();\n\nint counter = 0;\n\nfor(int i = 0; i&lt;n; i++) {\n    if(arr[i]&gt;0) {\n        int t = arr[i];\n        arr[i] = -1;\n        int j = ArrayUtils.indexOf(arr, t);\n        if(j == -1) {\n            continue;\n        } else {\n            arr[j] = -1;\n            counter += 1;\n        }\n    } else {\n        continue;\n    }\n}\n\nreturn counter;    \n\n}\n</code></pre>\n<p>}</p>\n<p>This has a O(n) time complexity.</p>\n"},{"tags":[],"owner":{"account_id":16419834,"reputation":1,"user_id":11861315,"display_name":"Kayode"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1623766273,"creation_date":1623766273,"answer_id":67987939,"question_id":58960449,"body_markdown":"Code for Javascript\r\n\r\n    const set = new Set()\r\n\tlet count = 0;\r\n\t\r\n\tfor(let i = 0; i &lt; i; i++) {\r\n\t\tif (set.has(ar[i])) {\r\n\t\t\tcount++;\r\n\t\t\tset.delete(ar[i])\r\n\t\t} else {\r\n\t\t\tset.add(ar[i])\r\n\t\t}\r\n\t}","title":"Can we solve this Sock Merchant problem in less complexity?","body":"<p>Code for Javascript</p>\n<pre><code>const set = new Set()\nlet count = 0;\n\nfor(let i = 0; i &lt; i; i++) {\n    if (set.has(ar[i])) {\n        count++;\n        set.delete(ar[i])\n    } else {\n        set.add(ar[i])\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16892711,"reputation":11,"user_id":12216037,"display_name":"gakin95"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1623930827,"creation_date":1623930827,"answer_id":68018817,"question_id":58960449,"body_markdown":"\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    function sockMerchant(n, ar) {\r\n      //Need to initiate a count variable to count pairs and return the value\r\n      let count = 0\r\n      //sort the given array\r\n      ar = ar.sort()\r\n      //loop through the sorted array \r\n      for (let i=0; i &lt; n-1; i++) {\r\n        //if the current item equals to the next item \r\n        if(ar[i] === ar[i+1]){\r\n          //then that&#39;s a pair, increment our count variable\r\n          count++\r\n          //also increment i to skip the next item\r\n          i+=1\r\n        }\r\n      }\r\n      //return the count value\r\n      return count\r\n    }\r\n\r\n    sockMerchant(9, [10, 20, 20, 10, 10, 30, 50, 10, 20])\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"Can we solve this Sock Merchant problem in less complexity?","body":"<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function sockMerchant(n, ar) {\n  //Need to initiate a count variable to count pairs and return the value\n  let count = 0\n  //sort the given array\n  ar = ar.sort()\n  //loop through the sorted array \n  for (let i=0; i &lt; n-1; i++) {\n    //if the current item equals to the next item \n    if(ar[i] === ar[i+1]){\n      //then that's a pair, increment our count variable\n      count++\n      //also increment i to skip the next item\n      i+=1\n    }\n  }\n  //return the count value\n  return count\n}\n\nsockMerchant(9, [10, 20, 20, 10, 10, 30, 50, 10, 20])</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"},{"tags":[],"owner":{"account_id":18225832,"reputation":321,"user_id":13265646,"display_name":"Prem"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1624708600,"creation_date":1624708600,"answer_id":68142115,"question_id":58960449,"body_markdown":"  \r\n You can count the number of times a number appears in the list and divide them by 2 \r\n\r\n    def sockMerchant(n, ar):\r\n         unq = set(ar)\r\n         count = 0\r\n         for i in unq:\r\n          count_vals = ar.count(i)\r\n          if count_vals&gt;1:\r\n            count = count + int(count_vals/2)\r\n         return count","title":"Can we solve this Sock Merchant problem in less complexity?","body":"<p>You can count the number of times a number appears in the list and divide them by 2</p>\n<pre><code>def sockMerchant(n, ar):\n     unq = set(ar)\n     count = 0\n     for i in unq:\n      count_vals = ar.count(i)\n      if count_vals&gt;1:\n        count = count + int(count_vals/2)\n     return count\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3319340,"reputation":884,"user_id":2790894,"accept_rate":0,"display_name":"Milan Sheth"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1624829810,"creation_date":1624829810,"answer_id":68155472,"question_id":58960449,"body_markdown":"The more easiest way I preferred. Answer in Kotlin\r\n\r\n    var counter = 0\r\n    for (i in 0 until n) {\r\n    \tif (arr[i] != 0) {\r\n    \t\tloop@ for (j in i + 1 until n) {\r\n    \t\t\tif (arr[i] == arr[j]) {\r\n    \t\t\t\tcounter++\r\n    \t\t\t\tarr[j] = 0\r\n    \t\t\t\tbreak@loop\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\nCommenting for better programming","title":"Can we solve this Sock Merchant problem in less complexity?","body":"<p>The more easiest way I preferred. Answer in Kotlin</p>\n<pre><code>var counter = 0\nfor (i in 0 until n) {\n    if (arr[i] != 0) {\n        loop@ for (j in i + 1 until n) {\n            if (arr[i] == arr[j]) {\n                counter++\n                arr[j] = 0\n                break@loop\n            }\n        }\n    }\n}\n</code></pre>\n<p>Commenting for better programming</p>\n"},{"tags":[],"owner":{"account_id":17221869,"reputation":52,"user_id":12468458,"display_name":"Omkar Nilakhe"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1627997794,"creation_date":1627997794,"answer_id":68637080,"question_id":58960449,"body_markdown":"it can also be solved using the built in Set data type as below (my try) - \r\n\r\n````\r\nfunction sockMerchant(n, ar) {\r\n    // Write your code here\r\n    let numberSet = [...new Set(ar)];\r\n    let pairs = 0;\r\n    for(let i=0;i&lt;numberSet.length;i++){\r\n        let count = 0;\r\n        ar.filter(x =&gt; {\r\n           if(x == numberSet[i])\r\n               count++;\r\n        });\r\n        pairs+= count / 2 &gt;= 1 ? Math.trunc(count / 2) : 0;\r\n    }\r\n    return pairs;\r\n}\r\n````","title":"Can we solve this Sock Merchant problem in less complexity?","body":"<p>it can also be solved using the built in Set data type as below (my try) -</p>\n<pre><code>function sockMerchant(n, ar) {\n    // Write your code here\n    let numberSet = [...new Set(ar)];\n    let pairs = 0;\n    for(let i=0;i&lt;numberSet.length;i++){\n        let count = 0;\n        ar.filter(x =&gt; {\n           if(x == numberSet[i])\n               count++;\n        });\n        pairs+= count / 2 &gt;= 1 ? Math.trunc(count / 2) : 0;\n    }\n    return pairs;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11901551,"reputation":9,"user_id":8917608,"display_name":"Hardik Jain"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1628271029,"creation_date":1628271029,"answer_id":68685490,"question_id":58960449,"body_markdown":"Using Python 3:\r\n\r\n    def sockMerchant(n, ar):\r\n    \r\n        flag = 0\r\n        for i in range(n):\r\n            if ar[i:].count(ar[i])%2==0:\r\n                flag+=1\r\n        return flag","title":"Can we solve this Sock Merchant problem in less complexity?","body":"<p>Using Python 3:</p>\n<pre><code>def sockMerchant(n, ar):\n\n    flag = 0\n    for i in range(n):\n        if ar[i:].count(ar[i])%2==0:\n            flag+=1\n    return flag\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22481156,"reputation":1,"user_id":16680217,"display_name":"Michael Lau"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1629124636,"creation_date":1629124636,"answer_id":68804675,"question_id":58960449,"body_markdown":"Think how you would do it in real life. If someone handed you these socks one-by-one, you&#39;d like think, &quot;Do I have one of these already?&quot; If not, you&#39;d set it down and move on to check on the next sock. When you find one you&#39;ve already set down, you&#39;d move the pair to the side and count that as another found pair.\r\n\r\nProgrammatically you may take advantage of a HashSet given it&#39;s quick access (constant) and that it only allows for one entry per unique key. Therefore, you can attempt add to the set. Failure to do so means it already exists, count and remove the pair, and continue.\r\n\r\n*Time-complexity:* O(n) [n = number of socks]\r\n\r\n*Space-complexity:* O(m) [m = number of UNIQUE sock types] \r\n\r\n**Java 8:**\r\n\r\n    public static int sockMerchant(int n, List&lt;Integer&gt; ar) \r\n        {    \r\n            Set&lt;Integer&gt; uniqueSockFound = new HashSet&lt;Integer&gt;(); \r\n            int countedPairs = 0;\r\n            \r\n            //Iterate through each sock checking if a match has been found already or not\r\n            for(Integer sock: ar)\r\n            {\r\n                //If adding the sock to the set is a success, it doesn&#39;t exist yet\r\n                //Otherwise, a pair exists, so remove the item and increment the count of pairs\r\n                if(!uniqueSockFound.add(sock))\r\n                {\r\n                    countedPairs++;\r\n                    uniqueSockFound.remove(sock);\r\n                }\r\n            }\r\n    \r\n            //Return count of pairs\r\n            return countedPairs;\r\n        }","title":"Can we solve this Sock Merchant problem in less complexity?","body":"<p>Think how you would do it in real life. If someone handed you these socks one-by-one, you'd like think, &quot;Do I have one of these already?&quot; If not, you'd set it down and move on to check on the next sock. When you find one you've already set down, you'd move the pair to the side and count that as another found pair.</p>\n<p>Programmatically you may take advantage of a HashSet given it's quick access (constant) and that it only allows for one entry per unique key. Therefore, you can attempt add to the set. Failure to do so means it already exists, count and remove the pair, and continue.</p>\n<p><em>Time-complexity:</em> O(n) [n = number of socks]</p>\n<p><em>Space-complexity:</em> O(m) [m = number of UNIQUE sock types]</p>\n<p><strong>Java 8:</strong></p>\n<pre><code>public static int sockMerchant(int n, List&lt;Integer&gt; ar) \n    {    \n        Set&lt;Integer&gt; uniqueSockFound = new HashSet&lt;Integer&gt;(); \n        int countedPairs = 0;\n        \n        //Iterate through each sock checking if a match has been found already or not\n        for(Integer sock: ar)\n        {\n            //If adding the sock to the set is a success, it doesn't exist yet\n            //Otherwise, a pair exists, so remove the item and increment the count of pairs\n            if(!uniqueSockFound.add(sock))\n            {\n                countedPairs++;\n                uniqueSockFound.remove(sock);\n            }\n        }\n\n        //Return count of pairs\n        return countedPairs;\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15289192,"reputation":11,"user_id":11031242,"display_name":"Nte"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1630118222,"creation_date":1630118222,"answer_id":68960943,"question_id":58960449,"body_markdown":"For Javascript\r\n\r\n    function sockMerchant(n, ar) {\r\n        // Create an initial variable to hold the pairs\r\n        let pairs = 0;\r\n\r\n        // create an object to temporarily assign pairs\r\n        const temp = {};\r\n        \r\n        // loop through the provided array\r\n        for (let n of ar) {\r\n\r\n            // check if current value already exist in your temp object\r\n            if (temp[n] in temp) {\r\n                // if current value already exist in temp \r\n                // delete the value and increase pairs\r\n                delete temp[n];\r\n                pairs += 1;\r\n            } else {\r\n                // else add current value to the object\r\n                temp[n] = n;\r\n            }\r\n        }\r\n    \r\n        // return pairs\r\n        return pairs;\r\n    }","title":"Can we solve this Sock Merchant problem in less complexity?","body":"<p>For Javascript</p>\n<pre><code>function sockMerchant(n, ar) {\n    // Create an initial variable to hold the pairs\n    let pairs = 0;\n\n    // create an object to temporarily assign pairs\n    const temp = {};\n    \n    // loop through the provided array\n    for (let n of ar) {\n\n        // check if current value already exist in your temp object\n        if (temp[n] in temp) {\n            // if current value already exist in temp \n            // delete the value and increase pairs\n            delete temp[n];\n            pairs += 1;\n        } else {\n            // else add current value to the object\n            temp[n] = n;\n        }\n    }\n\n    // return pairs\n    return pairs;\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":5820826,"reputation":1244,"user_id":4588977,"accept_rate":100,"display_name":"Luan Kevin Ferreira"},"score":0,"creation_date":1631811751,"post_id":69211801,"comment_id":122330053,"body_markdown":"Could you please format the code of your answer?","body":"Could you please format the code of your answer?"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1631812647,"post_id":69211801,"comment_id":122330386,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-ask).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/69211801/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-ask\">in the help center</a>."}],"tags":[],"owner":{"account_id":22772861,"reputation":1,"user_id":16929981,"display_name":"Najeem Fazil"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1631817140,"creation_date":1631808672,"answer_id":69211801,"question_id":58960449,"body_markdown":"Here is my solution and it worked for the given set of inputs.\r\n\r\n```\r\nimport java.util.*;\r\n\r\npublic class Main {\r\n\tpublic static void main(String[] args) {\r\n\t\tScanner sc = new Scanner(System.in);\r\n\t\tint size = sc.nextInt();\r\n\t\tint[] arr = new int[size];\r\n\t\tfor (int i = 0 ; i &lt; size ; i++) {\r\n\t\t    arr[i] = sc.nextInt();\r\n\t\t}\r\n\t\tint flag = 0; \r\n\t\tfor (int j = 0; j &lt; size; j++) {\r\n\t\t    int count = 0;\r\n\t\t    for(int i = j + 1; i &lt; size ; i++) {\r\n\t\t        if (arr[j] == arr[i]) {\r\n\t\t            count++;\r\n\t\t        }\r\n\t\t    }\r\n\t\t    flag += count / 2;\r\n\t\t}\r\n\t\tSystem.out.println(flag);\r\n    }\r\n}\r\n```","title":"Can we solve this Sock Merchant problem in less complexity?","body":"<p>Here is my solution and it worked for the given set of inputs.</p>\n<pre><code>import java.util.*;\n\npublic class Main {\n    public static void main(String[] args) {\n        Scanner sc = new Scanner(System.in);\n        int size = sc.nextInt();\n        int[] arr = new int[size];\n        for (int i = 0 ; i &lt; size ; i++) {\n            arr[i] = sc.nextInt();\n        }\n        int flag = 0; \n        for (int j = 0; j &lt; size; j++) {\n            int count = 0;\n            for(int i = j + 1; i &lt; size ; i++) {\n                if (arr[j] == arr[i]) {\n                    count++;\n                }\n            }\n            flag += count / 2;\n        }\n        System.out.println(flag);\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1634190344,"post_id":69563861,"comment_id":122959717,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/69563861/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":22999702,"reputation":19,"user_id":17123841,"display_name":"Hamka Satria"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634172255,"creation_date":1634172255,"answer_id":69563861,"question_id":58960449,"body_markdown":"I solve it with golang\r\n\r\n```\r\nfunc sockMerchant(n int32, ar []int32) int32 {\r\n    // Write your code here\r\n    var indexPairs []int;\r\n    var count int32;\r\n    var operation bool;\r\n        \r\n     for i := 0; i&lt; len(ar)-1; i++{\r\n        for j := i+1; j&lt; len(ar); j++{\r\n            //check indexPairs\r\n            operation = true;\r\n            for k := 0; k&lt; len(indexPairs); k++{\r\n                if indexPairs[k] == i || indexPairs[k]==j{\r\n                    operation = false;\r\n                }\r\n            }\r\n            if operation {\r\n                if(ar[i]==ar[j]){\r\n                    count ++;\r\n                    indexPairs = append(indexPairs, i, j)\r\n                }\r\n            }\r\n        }\r\n    }\r\n    return count; \r\n}```","title":"Can we solve this Sock Merchant problem in less complexity?","body":"<p>I solve it with golang</p>\n<pre><code>func sockMerchant(n int32, ar []int32) int32 {\n    // Write your code here\n    var indexPairs []int;\n    var count int32;\n    var operation bool;\n        \n     for i := 0; i&lt; len(ar)-1; i++{\n        for j := i+1; j&lt; len(ar); j++{\n            //check indexPairs\n            operation = true;\n            for k := 0; k&lt; len(indexPairs); k++{\n                if indexPairs[k] == i || indexPairs[k]==j{\n                    operation = false;\n                }\n            }\n            if operation {\n                if(ar[i]==ar[j]){\n                    count ++;\n                    indexPairs = append(indexPairs, i, j)\n                }\n            }\n        }\n    }\n    return count; \n}```\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8709840,"reputation":1285,"user_id":6516391,"accept_rate":67,"display_name":"DvixExtract"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1639538005,"creation_date":1639537598,"answer_id":70358007,"question_id":58960449,"body_markdown":"It can also be solved using a dictionary as follows in Swift:\r\n\r\n```\r\nfunc sockMerchant(n: Int, ar: [Int]) -&gt; Int {\r\n \r\n    var dictionary: [Int: Int] = [:]\r\n    var totalNumberOfPairs: Int = 0\r\n    \r\n    // Store all array elements in a dictionary\r\n    // with element as key and occurrence as value\r\n    ar.forEach{\r\n        dictionary[$0] = (dictionary[$0] ?? 0) + 1\r\n    }\r\n    \r\n    // Iterate over the dictionary while checking for occurrence greater or equal 2.\r\n    // If found add the integer division of the occurrence to the current total number of pairs\r\n    dictionary.forEach { (key, value) in\r\n        if value &gt;= 2 {\r\n            totalNumberOfPairs = totalNumberOfPairs + (value / 2)\r\n        }\r\n    }\r\n    \r\n    return totalNumberOfPairs\r\n}\r\n```","title":"Can we solve this Sock Merchant problem in less complexity?","body":"<p>It can also be solved using a dictionary as follows in Swift:</p>\n<pre><code>func sockMerchant(n: Int, ar: [Int]) -&gt; Int {\n \n    var dictionary: [Int: Int] = [:]\n    var totalNumberOfPairs: Int = 0\n    \n    // Store all array elements in a dictionary\n    // with element as key and occurrence as value\n    ar.forEach{\n        dictionary[$0] = (dictionary[$0] ?? 0) + 1\n    }\n    \n    // Iterate over the dictionary while checking for occurrence greater or equal 2.\n    // If found add the integer division of the occurrence to the current total number of pairs\n    dictionary.forEach { (key, value) in\n        if value &gt;= 2 {\n            totalNumberOfPairs = totalNumberOfPairs + (value / 2)\n        }\n    }\n    \n    return totalNumberOfPairs\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1645487377,"post_id":71209494,"comment_id":125879831,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/71209494/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":21252183,"reputation":1,"user_id":15634282,"display_name":"Parthasarathi"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645459669,"creation_date":1645459669,"answer_id":71209494,"question_id":58960449,"body_markdown":"using **PYTHON** language\r\n\r\n    from itertools import groupby\r\n    def sockmerchant(n,ar):\r\n         c=0\r\n         a=[]\r\n         ar.sort()\r\n         for k,g in groupby(ar):   # in this same elements group into one list\r\n               a.append(len(list(g)))\r\n         for i in a:\r\n               c=c+(i//2)\r\n         return c\r\n    n=int(input())\r\n    ar=list(map(int,input().split(&#39; &#39;)))\r\n    print(sockMerchant(n,ar))         ","title":"Can we solve this Sock Merchant problem in less complexity?","body":"<p>using <strong>PYTHON</strong> language</p>\n<pre><code>from itertools import groupby\ndef sockmerchant(n,ar):\n     c=0\n     a=[]\n     ar.sort()\n     for k,g in groupby(ar):   # in this same elements group into one list\n           a.append(len(list(g)))\n     for i in a:\n           c=c+(i//2)\n     return c\nn=int(input())\nar=list(map(int,input().split(' ')))\nprint(sockMerchant(n,ar))         \n</code></pre>\n"},{"tags":[],"owner":{"account_id":4054290,"reputation":1,"user_id":3332809,"display_name":"Hariharan Palanisamy"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647029109,"creation_date":1647028750,"answer_id":71444043,"question_id":58960449,"body_markdown":"\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n\r\n    function sockMerchant(n, ar){\r\n      let res = 0;\r\n      let arr= {};\r\n      for (let element of ar){\r\n            arr[element] = arr[element]+1 || 1\r\n            if(arr[element]%2 == 0){\r\n                res++;\r\n            }\r\n        }\r\n      return res;\r\n    }\r\n\r\nsockMerchant(4,[10,10,20,20]);\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"Can we solve this Sock Merchant problem in less complexity?","body":"<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>function sockMerchant(n, ar){\n  let res = 0;\n  let arr= {};\n  for (let element of ar){\n        arr[element] = arr[element]+1 || 1\n        if(arr[element]%2 == 0){\n            res++;\n        }\n    }\n  return res;\n}\n\nsockMerchant(4,[10,10,20,20]);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"},{"tags":[],"owner":{"account_id":2594018,"reputation":390,"user_id":2248063,"accept_rate":20,"display_name":"Vikrant_Dev"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649172247,"creation_date":1649172247,"answer_id":71754433,"question_id":58960449,"body_markdown":"    public static int sockMerchant(int n, List&lt;Integer&gt; ar) {\r\n        int pair = 0;\r\n        List&lt;Integer&gt; matchedIndices = new ArrayList&lt;&gt;();\r\n        for (int i = 0; i &lt; n; i++) {\r\n            if (matchedIndices.contains(i)) {\r\n                continue;\r\n            }\r\n            for (int j = 0; j &lt; n; j++) {\r\n                if (j == i || matchedIndices.contains(j)) {\r\n                    continue;\r\n                }\r\n                if (ar.get(i) == ar.get(j)) {\r\n                    pair++;\r\n                    matchedIndices.add(i);\r\n                    matchedIndices.add(j);\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n        \r\n        return pair;\r\n    }","title":"Can we solve this Sock Merchant problem in less complexity?","body":"<pre><code>public static int sockMerchant(int n, List&lt;Integer&gt; ar) {\n    int pair = 0;\n    List&lt;Integer&gt; matchedIndices = new ArrayList&lt;&gt;();\n    for (int i = 0; i &lt; n; i++) {\n        if (matchedIndices.contains(i)) {\n            continue;\n        }\n        for (int j = 0; j &lt; n; j++) {\n            if (j == i || matchedIndices.contains(j)) {\n                continue;\n            }\n            if (ar.get(i) == ar.get(j)) {\n                pair++;\n                matchedIndices.add(i);\n                matchedIndices.add(j);\n                break;\n            }\n        }\n    }\n    \n    return pair;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9870856,"reputation":21,"user_id":7310561,"display_name":"Nick Maletsky"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663261919,"creation_date":1663261528,"answer_id":73735003,"question_id":58960449,"body_markdown":"I will give an example of solving this problem in C++ using unordered_map. It&#39;s overkill, to be honest, and it&#39;s done with unordered_set as well (removing the element as a replacement for a boolean in the map). But this more clearly shows the coding path to first do everything right, and only after that take an optimization step and convert to unordered_set.\r\n&lt;!-- language: lang-С++ --&gt;\r\n\r\n```lang-c++\r\nusing namespace std;\r\n/*\r\n * Complete the &#39;sockMerchant&#39; function below.\r\n *\r\n * The function is expected to return an INTEGER.\r\n * The function accepts following parameters:\r\n *  1. INTEGER n\r\n *  2. INTEGER_ARRAY ar\r\n */\r\n\r\nint sockMerchant(int n, vector&lt;int&gt; ar) {\r\n if (n&lt;1 &amp;&amp; n&gt;100 )  return 0;\r\n unordered_map&lt;int, bool&gt; scExtract;\r\n int result=0;\r\n// false --first sock finded\r\n// true --second sock funded\r\n for (auto sCol:ar) {\r\n     if (sCol&lt;1 &amp;&amp; sCol&gt;100 )   return 0;\r\n    if (scExtract.find(sCol) != scExtract.end()) {\r\n         if ( scExtract[sCol]) {\r\n          scExtract[sCol]=false;   \r\n        } else {\r\n          scExtract[sCol]=true;\r\n          result++;  \r\n        }\r\n    } else {\r\n    scExtract.insert(pair&lt;int, bool&gt;(sCol, false));\r\n    }\r\n }\r\nreturn result;\r\n}\r\n\r\n```","title":"Can we solve this Sock Merchant problem in less complexity?","body":"<p>I will give an example of solving this problem in C++ using unordered_map. It's overkill, to be honest, and it's done with unordered_set as well (removing the element as a replacement for a boolean in the map). But this more clearly shows the coding path to first do everything right, and only after that take an optimization step and convert to unordered_set.</p>\n\n<pre class=\"lang-c++ prettyprint-override\"><code>using namespace std;\n/*\n * Complete the 'sockMerchant' function below.\n *\n * The function is expected to return an INTEGER.\n * The function accepts following parameters:\n *  1. INTEGER n\n *  2. INTEGER_ARRAY ar\n */\n\nint sockMerchant(int n, vector&lt;int&gt; ar) {\n if (n&lt;1 &amp;&amp; n&gt;100 )  return 0;\n unordered_map&lt;int, bool&gt; scExtract;\n int result=0;\n// false --first sock finded\n// true --second sock funded\n for (auto sCol:ar) {\n     if (sCol&lt;1 &amp;&amp; sCol&gt;100 )   return 0;\n    if (scExtract.find(sCol) != scExtract.end()) {\n         if ( scExtract[sCol]) {\n          scExtract[sCol]=false;   \n        } else {\n          scExtract[sCol]=true;\n          result++;  \n        }\n    } else {\n    scExtract.insert(pair&lt;int, bool&gt;(sCol, false));\n    }\n }\nreturn result;\n}\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11016240,"reputation":31,"user_id":8092008,"display_name":"Fazna "},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663316586,"creation_date":1663316586,"answer_id":73741950,"question_id":58960449,"body_markdown":"\r\n\r\nHere one in golang\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: null --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n        func sockMerchant(n int32, ar []int32) int32 {\r\n        // Write your code here\r\n        var dict= make (map[int32]int)\r\n        for _,key:= range ar{\r\n            dict[key]=dict[key]+1\r\n        }\r\n         count:= 0\r\n        for _, value:= range dict{\r\n            v:=value/2\r\n            if v != 0{\r\n               count = count + v  \r\n            }    \r\n        }\r\n        return int32(count)\r\n    \r\n    }\r\n\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"Can we solve this Sock Merchant problem in less complexity?","body":"<p>Here one in golang</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>    func sockMerchant(n int32, ar []int32) int32 {\n    // Write your code here\n    var dict= make (map[int32]int)\n    for _,key:= range ar{\n        dict[key]=dict[key]+1\n    }\n     count:= 0\n    for _, value:= range dict{\n        v:=value/2\n        if v != 0{\n           count = count + v  \n        }    \n    }\n    return int32(count)\n\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"},{"tags":[],"owner":{"account_id":2083780,"reputation":1993,"user_id":1855177,"display_name":"Abdullah Tahan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676386083,"creation_date":1676386083,"answer_id":75449514,"question_id":58960449,"body_markdown":"Here&#39;s C# version using the even method\r\n\r\n     public static int sockMerchant(int n, List&lt;int&gt; ar)\r\n        {\r\n            Dictionary&lt;int, int&gt; matches = new Dictionary&lt;int, int&gt;();\r\n            int pairs=0;\r\n            for(int i=0; i&lt;ar.Count; i++)\r\n            {\r\n                if(!matches.ContainsKey(ar[i]))\r\n                {\r\n                    matches.Add(ar[i], 1);  \r\n                }\r\n                else\r\n                {\r\n                    matches[ar[i]]++;\r\n                    if(matches[ar[i]] % 2 ==0)\r\n                    {\r\n                        pairs++;  \r\n                    }\r\n                }\r\n            }\r\n            return pairs;\r\n        }\r\n\r\n","title":"Can we solve this Sock Merchant problem in less complexity?","body":"<p>Here's C# version using the even method</p>\n<pre><code> public static int sockMerchant(int n, List&lt;int&gt; ar)\n    {\n        Dictionary&lt;int, int&gt; matches = new Dictionary&lt;int, int&gt;();\n        int pairs=0;\n        for(int i=0; i&lt;ar.Count; i++)\n        {\n            if(!matches.ContainsKey(ar[i]))\n            {\n                matches.Add(ar[i], 1);  \n            }\n            else\n            {\n                matches[ar[i]]++;\n                if(matches[ar[i]] % 2 ==0)\n                {\n                    pairs++;  \n                }\n            }\n        }\n        return pairs;\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17376347,"reputation":944,"user_id":12589424,"display_name":"Chukwunazaekpere"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690100539,"creation_date":1690100539,"answer_id":76747261,"question_id":58960449,"body_markdown":"```\r\ndef sockMerchant(n, ar):\r\n    # Write your code here\r\n    pair_dict = {}\r\n    for num in ar:\r\n        if num in pair_dict.keys():\r\n            pair_dict[num] +=1\r\n        else:\r\n            pair_dict[num] = 1\r\n    dict_vals = list(pair_dict.values());\r\n    pairs = 0\r\n    for vals in dict_vals:\r\n        whole = vals//2\r\n        pairs+=whole\r\n    return pairs\r\n```","title":"Can we solve this Sock Merchant problem in less complexity?","body":"<pre><code>def sockMerchant(n, ar):\n    # Write your code here\n    pair_dict = {}\n    for num in ar:\n        if num in pair_dict.keys():\n            pair_dict[num] +=1\n        else:\n            pair_dict[num] = 1\n    dict_vals = list(pair_dict.values());\n    pairs = 0\n    for vals in dict_vals:\n        whole = vals//2\n        pairs+=whole\n    return pairs\n</code></pre>\n"}],"owner":{"account_id":3331453,"reputation":569,"user_id":2800318,"display_name":"MANITORATION"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44721,"favorite_count":0,"down_vote_count":3,"up_vote_count":12,"accepted_answer_id":58960683,"answer_count":34,"score":9,"last_activity_date":1690100539,"creation_date":1574271947,"question_id":58960449,"body_markdown":"I have solved the hackerrank Sock Merchant problem But I want to **reduce the complexity of the code**(I am not sure that it is possible or not).\r\n  \r\n\r\n&gt; John works at a clothing store. He has a large pile of socks that he must pair by color for sale. Given an array of integers representing the color of each sock, determine how many pairs of socks with matching colors there are.\r\n\r\n&gt; For example, there are **n=7** socks with colors **ar= [1,2,1,2,1,3,2]**. There is one pair of color  **1** and one of color **2**. There are three odd socks left, one of each color. The number of pairs is 2.\r\n\r\n&gt; **Function Description**\r\n\r\n&gt; Complete the sockMerchant function in the editor below. It must return an integer representing the number of matching pairs of socks that are available.\r\n\r\n&gt; sockMerchant has the following parameter(s):\r\n\r\n  \r\n&gt; \r\n - n: the number of socks in the pile\r\n\r\n \r\n&gt; \r\n - ar: the colors of each sock\r\n\r\n&gt;**Input Format**\r\n\r\n&gt;The first line contains an integer **n**, the number of socks represented in **ar**.\r\nThe second line contains **n** space-separated integers describing the colors **ar[i]** of the socks in the pile.\r\n\r\n&gt;**Constraints**\r\n\r\n&gt;- 1 &lt;= n &lt;= 100\r\n\r\n&gt;- 1 &lt;= ar[i] &lt;= 100  where 0 &lt;= i &lt; n\r\n\r\n&gt; Output Format\r\n\r\n&gt;Return the total number of matching pairs of socks that John can sell.\r\n\r\n&gt;Sample Input\r\n\r\n    9\r\n    10 20 20 10 10 30 50 10 20\r\n\r\n&gt;Sample Output\r\n\r\n    3\r\n&gt;---------------------------------------------------------------------------\r\nMy solutions :\r\n\r\n    package com.hackerrank.test;\r\n    \r\n    public class Solution {\r\n        public static void main(String[] args) {\r\n            //Initialize array\r\n            int[] arr = new int[]{10, 20, 20, 10, 10, 30, 50, 10, 20};\r\n            //Array fr will store frequencies of element\r\n    \r\n    \r\n            System.out.println(&quot;---------------------------------------&quot;);\r\n            System.out.println(&quot; sockMerchant output &quot; + sockMerchant(9, arr));\r\n            System.out.println(&quot;---------------------------------------&quot;);\r\n    \r\n        }\r\n    \r\n        static int sockMerchant(int n, int[] ar) {\r\n            int pairs = 0;\r\n            int frequencyArray[] = new int[ar.length];\r\n            int frequencyTemp = -1;\r\n            for (int i = 0; i &lt; ar.length; i++) {\r\n                int count = 1;\r\n                for (int j = i + 1; j &lt; ar.length; j++) {\r\n                    if (ar[i] == ar[j]) {\r\n                        count++;\r\n                        frequencyArray[j] = frequencyTemp;\r\n                    }\r\n                }\r\n                if (frequencyArray[i] != frequencyTemp) {\r\n                    frequencyArray[i] = count;\r\n                }\r\n            }\r\n    \r\n            for (int i = 0; i &lt; frequencyArray.length; i++) {\r\n                if (frequencyArray[i] != frequencyTemp) {\r\n                    int divide = frequencyArray[i] / 2;\r\n                    pairs += divide;\r\n                }\r\n            }\r\n            return pairs;\r\n        }\r\n    }\r\n\r\nAnd the output is : \r\n\r\n        ---------------------------------------\r\n        sockMerchant frequency 3\r\n        ---------------------------------------","title":"Can we solve this Sock Merchant problem in less complexity?","body":"<p>I have solved the hackerrank Sock Merchant problem But I want to <strong>reduce the complexity of the code</strong>(I am not sure that it is possible or not).</p>\n\n<blockquote>\n  <p>John works at a clothing store. He has a large pile of socks that he must pair by color for sale. Given an array of integers representing the color of each sock, determine how many pairs of socks with matching colors there are.</p>\n  \n  <p>For example, there are <strong>n=7</strong> socks with colors <strong>ar= [1,2,1,2,1,3,2]</strong>. There is one pair of color  <strong>1</strong> and one of color <strong>2</strong>. There are three odd socks left, one of each color. The number of pairs is 2.</p>\n  \n  <p><strong>Function Description</strong></p>\n  \n  <p>Complete the sockMerchant function in the editor below. It must return an integer representing the number of matching pairs of socks that are available.</p>\n  \n  <p>sockMerchant has the following parameter(s):</p>\n  \n  <ul>\n  <li><p>n: the number of socks in the pile</p></li>\n  <li><p>ar: the colors of each sock</p></li>\n  </ul>\n  \n  <p><strong>Input Format</strong></p>\n  \n  <p>The first line contains an integer <strong>n</strong>, the number of socks represented in <strong>ar</strong>.\n  The second line contains <strong>n</strong> space-separated integers describing the colors <strong>ar[i]</strong> of the socks in the pile.</p>\n  \n  <p><strong>Constraints</strong></p>\n  \n  <ul>\n  <li><p>1 &lt;= n &lt;= 100</p></li>\n  <li><p>1 &lt;= ar[i] &lt;= 100  where 0 &lt;= i &lt; n</p></li>\n  </ul>\n  \n  <p>Output Format</p>\n  \n  <p>Return the total number of matching pairs of socks that John can sell.</p>\n  \n  <p>Sample Input</p>\n</blockquote>\n\n<pre><code>9\n10 20 20 10 10 30 50 10 20\n</code></pre>\n\n<blockquote>\n  <p>Sample Output</p>\n</blockquote>\n\n<pre><code>3\n</code></pre>\n\n<blockquote>\n  <hr>\n  \n  <p>My solutions :</p>\n</blockquote>\n\n<pre><code>package com.hackerrank.test;\n\npublic class Solution {\n    public static void main(String[] args) {\n        //Initialize array\n        int[] arr = new int[]{10, 20, 20, 10, 10, 30, 50, 10, 20};\n        //Array fr will store frequencies of element\n\n\n        System.out.println(\"---------------------------------------\");\n        System.out.println(\" sockMerchant output \" + sockMerchant(9, arr));\n        System.out.println(\"---------------------------------------\");\n\n    }\n\n    static int sockMerchant(int n, int[] ar) {\n        int pairs = 0;\n        int frequencyArray[] = new int[ar.length];\n        int frequencyTemp = -1;\n        for (int i = 0; i &lt; ar.length; i++) {\n            int count = 1;\n            for (int j = i + 1; j &lt; ar.length; j++) {\n                if (ar[i] == ar[j]) {\n                    count++;\n                    frequencyArray[j] = frequencyTemp;\n                }\n            }\n            if (frequencyArray[i] != frequencyTemp) {\n                frequencyArray[i] = count;\n            }\n        }\n\n        for (int i = 0; i &lt; frequencyArray.length; i++) {\n            if (frequencyArray[i] != frequencyTemp) {\n                int divide = frequencyArray[i] / 2;\n                pairs += divide;\n            }\n        }\n        return pairs;\n    }\n}\n</code></pre>\n\n<p>And the output is : </p>\n\n<pre><code>    ---------------------------------------\n    sockMerchant frequency 3\n    ---------------------------------------\n</code></pre>\n"},{"tags":["java","xslt","ehcache","saxon"],"comments":[{"owner":{"account_id":529122,"reputation":158120,"user_id":415448,"accept_rate":33,"display_name":"Michael Kay"},"score":0,"creation_date":1572393197,"post_id":58611353,"comment_id":103543272,"body_markdown":"You need to tell us exactly what you are doing and exactly how it is failing. (Having said that, I have no knowledge of ehCache and after a quick glance at the documentation I have very little idea why I would want to use it.)","body":"You need to tell us exactly what you are doing and exactly how it is failing. (Having said that, I have no knowledge of ehCache and after a quick glance at the documentation I have very little idea why I would want to use it.)"},{"owner":{"account_id":16041999,"reputation":131,"user_id":11578204,"display_name":"Sambit Swain"},"score":0,"creation_date":1572605114,"post_id":58611353,"comment_id":103618830,"body_markdown":"More updated provided over the port, please could you refer above and let me know if you need more details","body":"More updated provided over the port, please could you refer above and let me know if you need more details"},{"owner":{"account_id":529122,"reputation":158120,"user_id":415448,"accept_rate":33,"display_name":"Michael Kay"},"score":0,"creation_date":1572611430,"post_id":58611353,"comment_id":103621588,"body_markdown":"Thanks, the additional information shows that you&#39;re using a technology stack that I know very little about.","body":"Thanks, the additional information shows that you&#39;re using a technology stack that I know very little about."}],"answers":[{"comments":[{"owner":{"account_id":16041999,"reputation":131,"user_id":11578204,"display_name":"Sambit Swain"},"score":0,"creation_date":1572607454,"post_id":58658210,"comment_id":103619781,"body_markdown":"Thanks @Marc, we have around 300 xslt&#39;s and 90K input files received a day. Do I need to create 300 getXsltExecutableXXX methods as spring bean??   There are 5 java api&#39;s (running in docker containers) which would be trying to transform input files. That&#39;s why we need to make these compiled transforms available in cache so that all API&#39;s can access it.","body":"Thanks @Marc, we have around 300 xslt&#39;s and 90K input files received a day. Do I need to create 300 getXsltExecutableXXX methods as spring bean??   There are 5 java api&#39;s (running in docker containers) which would be trying to transform input files. That&#39;s why we need to make these compiled transforms available in cache so that all API&#39;s can access it."},{"owner":{"account_id":5613556,"reputation":2315,"user_id":4445625,"accept_rate":50,"display_name":"Marc Stroebel"},"score":0,"creation_date":1572622174,"post_id":58658210,"comment_id":103626692,"body_markdown":"create an XsltManager-Bean which holds all your XsltExecutables in a Map and inject this bean. So you don&#39;t need the getxxx - Methods. XsltExecutable would be cached once per container.","body":"create an XsltManager-Bean which holds all your XsltExecutables in a Map and inject this bean. So you don&#39;t need the getxxx - Methods. XsltExecutable would be cached once per container."}],"tags":[],"owner":{"account_id":5613556,"reputation":2315,"user_id":4445625,"accept_rate":50,"display_name":"Marc Stroebel"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1572606504,"creation_date":1572606504,"answer_id":58658210,"question_id":58611353,"body_markdown":"you could provide the compiled stylesheet as a spring bean instead\r\n\r\n    @Configuration\r\n    public class XsltConfiguration {\r\n        @Bean\r\n        @Qualifier(&quot;XslA&quot;)\r\n        XsltExecutable getXsltExecutableA() {\r\n            XsltCompiler compiler = new Processor(true).newXsltCompiler();\r\n            //load xsl ...\r\n            return compiler.compile(xslSource);\r\n        }\r\n    \r\n        @Bean\r\n        @Qualifier(&quot;XslB&quot;)\r\n        XsltExecutable getXsltExecutableB() {\r\n            XsltCompiler compiler = new   Processor(true).newXsltCompiler();\r\n            //load xsl ...\r\n            return compiler.compile(xslSource);\r\n        }\r\n    }","title":"Un-load compiled XSLT (xsltExecutable) from ehCache","body":"<p>you could provide the compiled stylesheet as a spring bean instead</p>\n\n<pre><code>@Configuration\npublic class XsltConfiguration {\n    @Bean\n    @Qualifier(\"XslA\")\n    XsltExecutable getXsltExecutableA() {\n        XsltCompiler compiler = new Processor(true).newXsltCompiler();\n        //load xsl ...\n        return compiler.compile(xslSource);\n    }\n\n    @Bean\n    @Qualifier(\"XslB\")\n    XsltExecutable getXsltExecutableB() {\n        XsltCompiler compiler = new   Processor(true).newXsltCompiler();\n        //load xsl ...\n        return compiler.compile(xslSource);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":16041999,"reputation":131,"user_id":11578204,"display_name":"Sambit Swain"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":384,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1690098627,"creation_date":1572365485,"question_id":58611353,"body_markdown":"In my application, we have around 300 XSLT files which are stored in config folder. These XSLT&#39;s are required to transform input messages. In a day our application is expected to received 90K input files, and all of them need transformation.\r\n\r\nThat&#39;s why we want to store compiled XSLT&#39;s in cache to improve the transformation process. To do so, I have created a **net.sf.saxon.s9api.XsltExecutable** object in java, and managed to store it in ehCache.\r\n\r\nThe issue is while retrieving this object back from cache, because xsltExecutable object cannot be serialized. And **cache.get(&quot;fileName&quot;)** returns ValueWrapper object which does not return xsltExecutable object anyway.\r\n\r\nPlease provide me as much suggestions are possible here...\r\n\r\n    import java.io.File;\r\n    import java.io.FileInputStream;\r\n    import java.io.InputStream;\r\n    import java.util.Properties;\r\n    \r\n    import javax.xml.transform.stream.StreamSource;\r\n    \r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.cache.Cache;\r\n    import org.springframework.cache.CacheManager;\r\n    import org.springframework.cache.annotation.Cacheable;\r\n    import org.springframework.stereotype.Service;\r\n\r\n    import net.sf.saxon.s9api.Processor;\r\n    import net.sf.saxon.s9api.XsltCompiler;\r\n    import net.sf.saxon.s9api.XsltExecutable;\r\n\r\n    File transformerDirectory = new File(&quot;C:\\\\path\\\\transformer\\\\&quot;);\r\n\r\n    @Cacheable(value = &quot;transformerCache&quot;, key = &quot;#name&quot;)\r\n    private boolean loadCompiledTransformers(String fileName) throws Exception {\r\n\r\n\tCache cache = cacheManager.getCache(&quot;transformerCache&quot;);\r\n\tif (fileName.equalsIgnoreCase(&quot;all&quot;)) {\r\n\t\tfor (File file : transformerDirectory.listFiles()) {\r\n\t\t\tif (file.getName().contains(&quot;xsl&quot;)) {\r\n\t\t\t\tcache.put(file.getName(), loadServiceTransforms(file));\r\n\t\t\t}\r\n\t\t}\r\n\t} else {\r\n\t\tcache.put(fileName, loadServiceTransforms(new File(transformerDirectory+&quot;\\\\&quot;+fileName)));\r\n\t}\r\n\treturn true;\r\n    }\r\n\r\n    private XsltExecutable loadServiceTransforms(File file) throws Exception {\r\n\r\n\tXsltExecutable template = null;\r\n\tStreamSource xslSource;\r\n\r\n\txslSource = new StreamSource(file);\r\n\ttry {\r\n\t\tXsltCompiler compiler = new Processor(true).newXsltCompiler();\r\n\t\ttemplate = compiler.compile(xslSource);\r\n\t} catch (Exception e) {\r\n\t\tthrow e;\r\n\t}\r\n\treturn template;\r\n    }\r\n\r\ncache.xml looks as below:\r\n\r\n    &lt;config xmlns:xsi=&#39;http://www.w3.org/2001/XMLSchema-instance&#39;\r\n\txmlns=&#39;http://www.ehcache.org/v3&#39;\r\n\txmlns:jsr107=&#39;http://www.ehcache.org/v3/jsr107&#39;&gt;\r\n\r\n\t&lt;service&gt;\r\n\t\t&lt;jsr107:defaults enable-statistics=&quot;true&quot; /&gt;\r\n\t&lt;/service&gt;\r\n\r\n\t&lt;cache alias=&quot;serviceCache&quot;&gt;\r\n\t\t&lt;key-type&gt;java.lang.String&lt;/key-type&gt;\r\n\t\t&lt;value-type&gt;java.util.Properties&lt;/value-type&gt;\r\n\t\t&lt;expiry&gt;\r\n\t\t\t&lt;ttl unit=&quot;seconds&quot;&gt;20&lt;/ttl&gt;\r\n\t\t&lt;/expiry&gt;\r\n\t\t&lt;resources&gt;\r\n\t\t\t&lt;heap unit=&quot;entries&quot;&gt;2000&lt;/heap&gt;\r\n\t\t\t&lt;offheap unit=&quot;MB&quot;&gt;100&lt;/offheap&gt;\r\n\t\t&lt;/resources&gt;\r\n\t&lt;/cache&gt;\r\n\t\r\n\t&lt;cache alias=&quot;transformerCache&quot;&gt;\r\n\t\t&lt;key-type&gt;java.lang.String&lt;/key-type&gt;\r\n\t\t&lt;value-type&gt;net.sf.saxon.s9api.XsltExecutable&lt;/value-type&gt;\r\n\t\t&lt;expiry&gt;\r\n\t\t\t&lt;ttl unit=&quot;seconds&quot;&gt;10&lt;/ttl&gt;\r\n\t\t&lt;/expiry&gt;\r\n\t\t&lt;resources&gt;\r\n\t\t\t&lt;heap unit=&quot;entries&quot;&gt;2000&lt;/heap&gt;\r\n\t\t\t&lt;offheap unit=&quot;MB&quot;&gt;100&lt;/offheap&gt;\r\n\t\t&lt;/resources&gt;\r\n\t&lt;/cache&gt;\r\n&lt;/config&gt;\r\n\r\nTransforms are compiled successfully, but below stack trace while applying caching:\r\n\r\n    ERROR 27600 --- [nio-8080-exec-1] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.http.converter.HttpMessageConversionException: Type definition error: [simple type, class net.sf.saxon.serialize.charcode.CharacterSetFactory]; nested exception is com.fasterxml.jackson.databind.exc.InvalidDefinitionException: No serializer found for class net.sf.saxon.serialize.charcode.CharacterSetFactory and no properties discovered to create BeanSerializer (to avoid exception, disable SerializationFeature.FAIL_ON_EMPTY_BEANS) (through reference chain: net.sf.saxon.s9api.XsltExecutable[&quot;processor&quot;]-&gt;net.sf.saxon.s9api.Processor[&quot;schemaManager&quot;]-&gt;com.saxonica.ee.s9api.SchemaManagerImpl[&quot;schemaURIResolver&quot;]-&gt;com.saxonica.config.ee.StandardSchemaResolver[&quot;configuration&quot;]-&gt;com.saxonica.config.EnterpriseConfiguration[&quot;characterSetFactory&quot;])] with root cause\r\n    \r\n    com.fasterxml.jackson.databind.exc.InvalidDefinitionException: No serializer found for class net.sf.saxon.serialize.charcode.CharacterSetFactory and no properties discovered to create BeanSerializer (to avoid exception, disable SerializationFeature.FAIL_ON_EMPTY_BEANS) (through reference chain: net.sf.saxon.s9api.XsltExecutable[&quot;processor&quot;]-&gt;net.sf.saxon.s9api.Processor[&quot;schemaManager&quot;]-&gt;com.saxonica.ee.s9api.SchemaManagerImpl[&quot;schemaURIResolver&quot;]-&gt;com.saxonica.config.ee.StandardSchemaResolver[&quot;configuration&quot;]-&gt;com.saxonica.config.EnterpriseConfiguration[&quot;characterSetFactory&quot;])\r\n    at com.fasterxml.jackson.databind.exc.InvalidDefinitionException.from(InvalidDefinitionException.java:77) ~[jackson-databind-2.10.0.jar:2.10.0]\r\n    at com.fasterxml.jackson.databind.SerializerProvider.reportBadDefinition(SerializerProvider.java:1191) ~[jackson-databind-2.10.0.jar:2.10.0]\r\n    at com.fasterxml.jackson.databind.DatabindContext.reportBadDefinition(DatabindContext.java:403) ~[jackson-databind-2.10.0.jar:2.10.0]\r\n    at com.fasterxml.jackson.databind.ser.impl.UnknownSerializer.failForEmpty(UnknownSerializer.java:71) ~[jackson-databind-2.10.0.jar:2.10.0]\r\n    at com.fasterxml.jackson.databind.ser.impl.UnknownSerializer.serialize(UnknownSerializer.java:33) ~[jackson-databind-2.10.0.jar:2.10.0]\r\n    at com.fasterxml.jackson.databind.ser.BeanPropertyWriter.serializeAsField(BeanPropertyWriter.java:727) ~[jackson-databind-2.10.0.jar:2.10.0]\r\n    at com.fasterxml.jackson.databind.ser.std.BeanSerializerBase.serializeFields(BeanSerializerBase.java:721) ~[jackson-databind-2.10.0.jar:2.10.0]\r\n    at com.fasterxml.jackson.databind.ser.BeanSerializer.serialize(BeanSerializer.java:166) ~[jackson-databind-2.10.0.jar:2.10.0]\r\n    at com.fasterxml.jackson.databind.ser.BeanPropertyWriter.serializeAsField(BeanPropertyWriter.java:727) ~[jackson-databind-2.10.0.jar:2.10.0]\r\n    at com.fasterxml.jackson.databind.ser.std.BeanSerializerBase.serializeFields(BeanSerializerBase.java:721) ~[jackson-databind-2.10.0.jar:2.10.0]\r\n    at com.fasterxml.jackson.databind.ser.BeanSerializer.serialize(BeanSerializer.java:166) ~[jackson-databind-2.10.0.jar:2.10.0]\r\n    at com.fasterxml.jackson.databind.ser.BeanPropertyWriter.serializeAsField(BeanPropertyWriter.java:727) ~[jackson-databind-2.10.0.jar:2.10.0]\r\n    at com.fasterxml.jackson.databind.ser.std.BeanSerializerBase.serializeFields(BeanSerializerBase.java:721) ~[jackson-databind-2.10.0.jar:2.10.0]\r\n    at com.fasterxml.jackson.databind.ser.BeanSerializer.serialize(BeanSerializer.java:166) ~[jackson-databind-2.10.0.jar:2.10.0]\r\n    at com.fasterxml.jackson.databind.ser.BeanPropertyWriter.serializeAsField(BeanPropertyWriter.java:727) ~[jackson-databind-2.10.0.jar:2.10.0]\r\n    at com.fasterxml.jackson.databind.ser.std.BeanSerializerBase.serializeFields(BeanSerializerBase.java:721) ~[jackson-databind-2.10.0.jar:2.10.0]\r\n    at com.fasterxml.jackson.databind.ser.BeanSerializer.serialize(BeanSerializer.java:166) ~[jackson-databind-2.10.0.jar:2.10.0]\r\n    at com.fasterxml.jackson.databind.ser.BeanPropertyWriter.serializeAsField(BeanPropertyWriter.java:727) ~[jackson-databind-2.10.0.jar:2.10.0]\r\n    at com.fasterxml.jackson.databind.ser.std.BeanSerializerBase.serializeFields(BeanSerializerBase.java:721) ~[jackson-databind-2.10.0.jar:2.10.0]\r\n    at com.fasterxml.jackson.databind.ser.BeanSerializer.serialize(BeanSerializer.java:166) ~[jackson-databind-2.10.0.jar:2.10.0]\r\n    at com.fasterxml.jackson.databind.ser.DefaultSerializerProvider._serialize(DefaultSerializerProvider.java:480) ~[jackson-databind-2.10.0.jar:2.10.0]\r\n    at com.fasterxml.jackson.databind.ser.DefaultSerializerProvider.serializeValue(DefaultSerializerProvider.java:319) ~[jackson-databind-2.10.0.jar:2.10.0]\r\n    at com.fasterxml.jackson.databind.ObjectWriter$Prefetch.serialize(ObjectWriter.java:1433) ~[jackson-databind-2.10.0.jar:2.10.0]\r\n    at com.fasterxml.jackson.databind.ObjectWriter.writeValue(ObjectWriter.java:921) ~[jackson-databind-2.10.0.jar:2.10.0]\r\n    at org.springframework.http.converter.json.AbstractJackson2HttpMessageConverter.writeInternal(AbstractJackson2HttpMessageConverter.java:287) ~[spring-web-5.2.0.RELEASE.jar:5.2.0.RELEASE]\r\n    at org.springframework.http.converter.AbstractGenericHttpMessageConverter.write(AbstractGenericHttpMessageConverter.java:104) ~[spring-web-5.2.0.RELEASE.jar:5.2.0.RELEASE]\r\n    at org.springframework.web.servlet.mvc.method.annotation.AbstractMessageConverterMethodProcessor.writeWithMessageConverters(AbstractMessageConverterMethodProcessor.java:295) ~[spring-webmvc-5.2.0.RELEASE.jar:5.2.0.RELEASE]\r\n    at org.springframework.web.servlet.mvc.method.annotation.RequestResponseBodyMethodProcessor.handleReturnValue(RequestResponseBodyMethodProcessor.java:181) ~[spring-webmvc-5.2.0.RELEASE.jar:5.2.0.RELEASE]\r\n    at org.springframework.web.method.support.HandlerMethodReturnValueHandlerComposite.handleReturnValue(HandlerMethodReturnValueHandlerComposite.java:82) ~[spring-web-5.2.0.RELEASE.jar:5.2.0.RELEASE]\r\n    at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:124) ~[spring-webmvc-5.2.0.RELEASE.jar:5.2.0.RELEASE]\r\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:888) ~[spring-webmvc-5.2.0.RELEASE.jar:5.2.0.RELEASE]\r\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:793) ~[spring-webmvc-5.2.0.RELEASE.jar:5.2.0.RELEASE]\r\n    at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.2.0.RELEASE.jar:5.2.0.RELEASE]\r\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1040) ~[spring-webmvc-5.2.0.RELEASE.jar:5.2.0.RELEASE]\r\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943) ~[spring-webmvc-5.2.0.RELEASE.jar:5.2.0.RELEASE]\r\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.2.0.RELEASE.jar:5.2.0.RELEASE]\r\n    at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898) ~[spring-webmvc-5.2.0.RELEASE.jar:5.2.0.RELEASE]\r\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:634) ~[tomcat-embed-core-9.0.27.jar:9.0.27]\r\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.2.0.RELEASE.jar:5.2.0.RELEASE]\r\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:741) ~[tomcat-embed-core-9.0.27.jar:9.0.27]\r\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) ~[tomcat-embed-core-9.0.27.jar:9.0.27]\r\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.27.jar:9.0.27]\r\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.27.jar:9.0.27]\r\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.27.jar:9.0.27]\r\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.27.jar:9.0.27]\r\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.2.0.RELEASE.jar:5.2.0.RELEASE]\r\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.0.RELEASE.jar:5.2.0.RELEASE]\r\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.27.jar:9.0.27]\r\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.27.jar:9.0.27]\r\n    at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.2.0.RELEASE.jar:5.2.0.RELEASE]\r\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.0.RELEASE.jar:5.2.0.RELEASE]\r\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.27.jar:9.0.27]\r\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.27.jar:9.0.27]\r\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.2.0.RELEASE.jar:5.2.0.RELEASE]\r\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.0.RELEASE.jar:5.2.0.RELEASE]\r\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.27.jar:9.0.27]\r\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.27.jar:9.0.27]\r\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202) ~[tomcat-embed-core-9.0.27.jar:9.0.27]\r\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-9.0.27.jar:9.0.27]\r\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:526) [tomcat-embed-core-9.0.27.jar:9.0.27]\r\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139) [tomcat-embed-core-9.0.27.jar:9.0.27]\r\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) [tomcat-embed-core-9.0.27.jar:9.0.27]\r\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) [tomcat-embed-core-9.0.27.jar:9.0.27]\r\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343) [tomcat-embed-core-9.0.27.jar:9.0.27]\r\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:408) [tomcat-embed-core-9.0.27.jar:9.0.27]\r\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-9.0.27.jar:9.0.27]\r\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:861) [tomcat-embed-core-9.0.27.jar:9.0.27]\r\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1579) [tomcat-embed-core-9.0.27.jar:9.0.27]\r\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-9.0.27.jar:9.0.27]\r\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source) [na:1.8.0_221]\r\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source) [na:1.8.0_221]\r\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-9.0.27.jar:9.0.27]\r\n    at java.lang.Thread.run(Unknown Source) [na:1.8.0_221]","title":"Un-load compiled XSLT (xsltExecutable) from ehCache","body":"<p>In my application, we have around 300 XSLT files which are stored in config folder. These XSLT's are required to transform input messages. In a day our application is expected to received 90K input files, and all of them need transformation.</p>\n\n<p>That's why we want to store compiled XSLT's in cache to improve the transformation process. To do so, I have created a <strong>net.sf.saxon.s9api.XsltExecutable</strong> object in java, and managed to store it in ehCache.</p>\n\n<p>The issue is while retrieving this object back from cache, because xsltExecutable object cannot be serialized. And <strong>cache.get(\"fileName\")</strong> returns ValueWrapper object which does not return xsltExecutable object anyway.</p>\n\n<p>Please provide me as much suggestions are possible here...</p>\n\n<pre><code>import java.io.File;\nimport java.io.FileInputStream;\nimport java.io.InputStream;\nimport java.util.Properties;\n\nimport javax.xml.transform.stream.StreamSource;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.cache.Cache;\nimport org.springframework.cache.CacheManager;\nimport org.springframework.cache.annotation.Cacheable;\nimport org.springframework.stereotype.Service;\n\nimport net.sf.saxon.s9api.Processor;\nimport net.sf.saxon.s9api.XsltCompiler;\nimport net.sf.saxon.s9api.XsltExecutable;\n\nFile transformerDirectory = new File(\"C:\\\\path\\\\transformer\\\\\");\n\n@Cacheable(value = \"transformerCache\", key = \"#name\")\nprivate boolean loadCompiledTransformers(String fileName) throws Exception {\n\nCache cache = cacheManager.getCache(\"transformerCache\");\nif (fileName.equalsIgnoreCase(\"all\")) {\n    for (File file : transformerDirectory.listFiles()) {\n        if (file.getName().contains(\"xsl\")) {\n            cache.put(file.getName(), loadServiceTransforms(file));\n        }\n    }\n} else {\n    cache.put(fileName, loadServiceTransforms(new File(transformerDirectory+\"\\\\\"+fileName)));\n}\nreturn true;\n}\n\nprivate XsltExecutable loadServiceTransforms(File file) throws Exception {\n\nXsltExecutable template = null;\nStreamSource xslSource;\n\nxslSource = new StreamSource(file);\ntry {\n    XsltCompiler compiler = new Processor(true).newXsltCompiler();\n    template = compiler.compile(xslSource);\n} catch (Exception e) {\n    throw e;\n}\nreturn template;\n}\n</code></pre>\n\n<p>cache.xml looks as below:</p>\n\n<pre><code>&lt;config xmlns:xsi='http://www.w3.org/2001/XMLSchema-instance'\nxmlns='http://www.ehcache.org/v3'\nxmlns:jsr107='http://www.ehcache.org/v3/jsr107'&gt;\n\n&lt;service&gt;\n    &lt;jsr107:defaults enable-statistics=\"true\" /&gt;\n&lt;/service&gt;\n\n&lt;cache alias=\"serviceCache\"&gt;\n    &lt;key-type&gt;java.lang.String&lt;/key-type&gt;\n    &lt;value-type&gt;java.util.Properties&lt;/value-type&gt;\n    &lt;expiry&gt;\n        &lt;ttl unit=\"seconds\"&gt;20&lt;/ttl&gt;\n    &lt;/expiry&gt;\n    &lt;resources&gt;\n        &lt;heap unit=\"entries\"&gt;2000&lt;/heap&gt;\n        &lt;offheap unit=\"MB\"&gt;100&lt;/offheap&gt;\n    &lt;/resources&gt;\n&lt;/cache&gt;\n\n&lt;cache alias=\"transformerCache\"&gt;\n    &lt;key-type&gt;java.lang.String&lt;/key-type&gt;\n    &lt;value-type&gt;net.sf.saxon.s9api.XsltExecutable&lt;/value-type&gt;\n    &lt;expiry&gt;\n        &lt;ttl unit=\"seconds\"&gt;10&lt;/ttl&gt;\n    &lt;/expiry&gt;\n    &lt;resources&gt;\n        &lt;heap unit=\"entries\"&gt;2000&lt;/heap&gt;\n        &lt;offheap unit=\"MB\"&gt;100&lt;/offheap&gt;\n    &lt;/resources&gt;\n&lt;/cache&gt;\n</code></pre>\n\n<p></p>\n\n<p>Transforms are compiled successfully, but below stack trace while applying caching:</p>\n\n<pre><code>ERROR 27600 --- [nio-8080-exec-1] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.http.converter.HttpMessageConversionException: Type definition error: [simple type, class net.sf.saxon.serialize.charcode.CharacterSetFactory]; nested exception is com.fasterxml.jackson.databind.exc.InvalidDefinitionException: No serializer found for class net.sf.saxon.serialize.charcode.CharacterSetFactory and no properties discovered to create BeanSerializer (to avoid exception, disable SerializationFeature.FAIL_ON_EMPTY_BEANS) (through reference chain: net.sf.saxon.s9api.XsltExecutable[\"processor\"]-&gt;net.sf.saxon.s9api.Processor[\"schemaManager\"]-&gt;com.saxonica.ee.s9api.SchemaManagerImpl[\"schemaURIResolver\"]-&gt;com.saxonica.config.ee.StandardSchemaResolver[\"configuration\"]-&gt;com.saxonica.config.EnterpriseConfiguration[\"characterSetFactory\"])] with root cause\n\ncom.fasterxml.jackson.databind.exc.InvalidDefinitionException: No serializer found for class net.sf.saxon.serialize.charcode.CharacterSetFactory and no properties discovered to create BeanSerializer (to avoid exception, disable SerializationFeature.FAIL_ON_EMPTY_BEANS) (through reference chain: net.sf.saxon.s9api.XsltExecutable[\"processor\"]-&gt;net.sf.saxon.s9api.Processor[\"schemaManager\"]-&gt;com.saxonica.ee.s9api.SchemaManagerImpl[\"schemaURIResolver\"]-&gt;com.saxonica.config.ee.StandardSchemaResolver[\"configuration\"]-&gt;com.saxonica.config.EnterpriseConfiguration[\"characterSetFactory\"])\nat com.fasterxml.jackson.databind.exc.InvalidDefinitionException.from(InvalidDefinitionException.java:77) ~[jackson-databind-2.10.0.jar:2.10.0]\nat com.fasterxml.jackson.databind.SerializerProvider.reportBadDefinition(SerializerProvider.java:1191) ~[jackson-databind-2.10.0.jar:2.10.0]\nat com.fasterxml.jackson.databind.DatabindContext.reportBadDefinition(DatabindContext.java:403) ~[jackson-databind-2.10.0.jar:2.10.0]\nat com.fasterxml.jackson.databind.ser.impl.UnknownSerializer.failForEmpty(UnknownSerializer.java:71) ~[jackson-databind-2.10.0.jar:2.10.0]\nat com.fasterxml.jackson.databind.ser.impl.UnknownSerializer.serialize(UnknownSerializer.java:33) ~[jackson-databind-2.10.0.jar:2.10.0]\nat com.fasterxml.jackson.databind.ser.BeanPropertyWriter.serializeAsField(BeanPropertyWriter.java:727) ~[jackson-databind-2.10.0.jar:2.10.0]\nat com.fasterxml.jackson.databind.ser.std.BeanSerializerBase.serializeFields(BeanSerializerBase.java:721) ~[jackson-databind-2.10.0.jar:2.10.0]\nat com.fasterxml.jackson.databind.ser.BeanSerializer.serialize(BeanSerializer.java:166) ~[jackson-databind-2.10.0.jar:2.10.0]\nat com.fasterxml.jackson.databind.ser.BeanPropertyWriter.serializeAsField(BeanPropertyWriter.java:727) ~[jackson-databind-2.10.0.jar:2.10.0]\nat com.fasterxml.jackson.databind.ser.std.BeanSerializerBase.serializeFields(BeanSerializerBase.java:721) ~[jackson-databind-2.10.0.jar:2.10.0]\nat com.fasterxml.jackson.databind.ser.BeanSerializer.serialize(BeanSerializer.java:166) ~[jackson-databind-2.10.0.jar:2.10.0]\nat com.fasterxml.jackson.databind.ser.BeanPropertyWriter.serializeAsField(BeanPropertyWriter.java:727) ~[jackson-databind-2.10.0.jar:2.10.0]\nat com.fasterxml.jackson.databind.ser.std.BeanSerializerBase.serializeFields(BeanSerializerBase.java:721) ~[jackson-databind-2.10.0.jar:2.10.0]\nat com.fasterxml.jackson.databind.ser.BeanSerializer.serialize(BeanSerializer.java:166) ~[jackson-databind-2.10.0.jar:2.10.0]\nat com.fasterxml.jackson.databind.ser.BeanPropertyWriter.serializeAsField(BeanPropertyWriter.java:727) ~[jackson-databind-2.10.0.jar:2.10.0]\nat com.fasterxml.jackson.databind.ser.std.BeanSerializerBase.serializeFields(BeanSerializerBase.java:721) ~[jackson-databind-2.10.0.jar:2.10.0]\nat com.fasterxml.jackson.databind.ser.BeanSerializer.serialize(BeanSerializer.java:166) ~[jackson-databind-2.10.0.jar:2.10.0]\nat com.fasterxml.jackson.databind.ser.BeanPropertyWriter.serializeAsField(BeanPropertyWriter.java:727) ~[jackson-databind-2.10.0.jar:2.10.0]\nat com.fasterxml.jackson.databind.ser.std.BeanSerializerBase.serializeFields(BeanSerializerBase.java:721) ~[jackson-databind-2.10.0.jar:2.10.0]\nat com.fasterxml.jackson.databind.ser.BeanSerializer.serialize(BeanSerializer.java:166) ~[jackson-databind-2.10.0.jar:2.10.0]\nat com.fasterxml.jackson.databind.ser.DefaultSerializerProvider._serialize(DefaultSerializerProvider.java:480) ~[jackson-databind-2.10.0.jar:2.10.0]\nat com.fasterxml.jackson.databind.ser.DefaultSerializerProvider.serializeValue(DefaultSerializerProvider.java:319) ~[jackson-databind-2.10.0.jar:2.10.0]\nat com.fasterxml.jackson.databind.ObjectWriter$Prefetch.serialize(ObjectWriter.java:1433) ~[jackson-databind-2.10.0.jar:2.10.0]\nat com.fasterxml.jackson.databind.ObjectWriter.writeValue(ObjectWriter.java:921) ~[jackson-databind-2.10.0.jar:2.10.0]\nat org.springframework.http.converter.json.AbstractJackson2HttpMessageConverter.writeInternal(AbstractJackson2HttpMessageConverter.java:287) ~[spring-web-5.2.0.RELEASE.jar:5.2.0.RELEASE]\nat org.springframework.http.converter.AbstractGenericHttpMessageConverter.write(AbstractGenericHttpMessageConverter.java:104) ~[spring-web-5.2.0.RELEASE.jar:5.2.0.RELEASE]\nat org.springframework.web.servlet.mvc.method.annotation.AbstractMessageConverterMethodProcessor.writeWithMessageConverters(AbstractMessageConverterMethodProcessor.java:295) ~[spring-webmvc-5.2.0.RELEASE.jar:5.2.0.RELEASE]\nat org.springframework.web.servlet.mvc.method.annotation.RequestResponseBodyMethodProcessor.handleReturnValue(RequestResponseBodyMethodProcessor.java:181) ~[spring-webmvc-5.2.0.RELEASE.jar:5.2.0.RELEASE]\nat org.springframework.web.method.support.HandlerMethodReturnValueHandlerComposite.handleReturnValue(HandlerMethodReturnValueHandlerComposite.java:82) ~[spring-web-5.2.0.RELEASE.jar:5.2.0.RELEASE]\nat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:124) ~[spring-webmvc-5.2.0.RELEASE.jar:5.2.0.RELEASE]\nat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:888) ~[spring-webmvc-5.2.0.RELEASE.jar:5.2.0.RELEASE]\nat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:793) ~[spring-webmvc-5.2.0.RELEASE.jar:5.2.0.RELEASE]\nat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.2.0.RELEASE.jar:5.2.0.RELEASE]\nat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1040) ~[spring-webmvc-5.2.0.RELEASE.jar:5.2.0.RELEASE]\nat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943) ~[spring-webmvc-5.2.0.RELEASE.jar:5.2.0.RELEASE]\nat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.2.0.RELEASE.jar:5.2.0.RELEASE]\nat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898) ~[spring-webmvc-5.2.0.RELEASE.jar:5.2.0.RELEASE]\nat javax.servlet.http.HttpServlet.service(HttpServlet.java:634) ~[tomcat-embed-core-9.0.27.jar:9.0.27]\nat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.2.0.RELEASE.jar:5.2.0.RELEASE]\nat javax.servlet.http.HttpServlet.service(HttpServlet.java:741) ~[tomcat-embed-core-9.0.27.jar:9.0.27]\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) ~[tomcat-embed-core-9.0.27.jar:9.0.27]\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.27.jar:9.0.27]\nat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.27.jar:9.0.27]\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.27.jar:9.0.27]\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.27.jar:9.0.27]\nat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.2.0.RELEASE.jar:5.2.0.RELEASE]\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.0.RELEASE.jar:5.2.0.RELEASE]\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.27.jar:9.0.27]\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.27.jar:9.0.27]\nat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.2.0.RELEASE.jar:5.2.0.RELEASE]\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.0.RELEASE.jar:5.2.0.RELEASE]\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.27.jar:9.0.27]\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.27.jar:9.0.27]\nat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.2.0.RELEASE.jar:5.2.0.RELEASE]\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.0.RELEASE.jar:5.2.0.RELEASE]\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.27.jar:9.0.27]\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.27.jar:9.0.27]\nat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202) ~[tomcat-embed-core-9.0.27.jar:9.0.27]\nat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-9.0.27.jar:9.0.27]\nat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:526) [tomcat-embed-core-9.0.27.jar:9.0.27]\nat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139) [tomcat-embed-core-9.0.27.jar:9.0.27]\nat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) [tomcat-embed-core-9.0.27.jar:9.0.27]\nat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) [tomcat-embed-core-9.0.27.jar:9.0.27]\nat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343) [tomcat-embed-core-9.0.27.jar:9.0.27]\nat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:408) [tomcat-embed-core-9.0.27.jar:9.0.27]\nat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-9.0.27.jar:9.0.27]\nat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:861) [tomcat-embed-core-9.0.27.jar:9.0.27]\nat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1579) [tomcat-embed-core-9.0.27.jar:9.0.27]\nat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-9.0.27.jar:9.0.27]\nat java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source) [na:1.8.0_221]\nat java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source) [na:1.8.0_221]\nat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-9.0.27.jar:9.0.27]\nat java.lang.Thread.run(Unknown Source) [na:1.8.0_221]\n</code></pre>\n"},{"tags":["java","math"],"comments":[{"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":1,"creation_date":1690094524,"post_id":76746909,"comment_id":135303214,"body_markdown":"f(x) = (5x - 2) / (1 - 3x) is not a polynomial. You can use a polynomial to approximate it if you like.","body":"f(x) = (5x - 2) / (1 - 3x) is not a polynomial. You can use a polynomial to approximate it if you like."},{"owner":{"account_id":12149555,"reputation":260,"user_id":16074188,"display_name":"Elec1"},"score":0,"creation_date":1690094683,"post_id":76746909,"comment_id":135303226,"body_markdown":"Sweeper: No easy task to approximate this function with a polynomial near x = 1 /3.","body":"Sweeper: No easy task to approximate this function with a polynomial near x = 1 /3."},{"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":1,"creation_date":1690094822,"post_id":76746909,"comment_id":135303236,"body_markdown":"This might be an [XY Problem](http://xyproblem.info/). Why are you trying to use a `PolynomialFunction`? Why not simply `UnivariateFunction` or something like that? You don&#39;t seem to be using anything specific to `PolynomialFunction`s.","body":"This might be an <a href=\"http://xyproblem.info/\" rel=\"nofollow noreferrer\">XY Problem</a>. Why are you trying to use a <code>PolynomialFunction</code>? Why not simply <code>UnivariateFunction</code> or something like that? You don&#39;t seem to be using anything specific to <code>PolynomialFunction</code>s."},{"owner":{"account_id":3366819,"reputation":2646,"user_id":2827181,"display_name":"Marc Le Bihan"},"score":0,"creation_date":1690094992,"post_id":76746909,"comment_id":135303260,"body_markdown":"@Sweeper Maybe my title isn&#39;t perfect. What I&#39;m willing to do is to enter an _u(x) / v(x)_ function (with u(x) = 5x -2, v(x) = 1 - 3x), whose derivative is u&#39;.v - u.v&#39; / v&#178;, etc. like we studied a lot at school.","body":"@Sweeper Maybe my title isn&#39;t perfect. What I&#39;m willing to do is to enter an <i>u(x) / v(x)</i> function (with u(x) = 5x -2, v(x) = 1 - 3x), whose derivative is u&#39;.v - u.v&#39; / v&#178;, etc. like we studied a lot at school."},{"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":1,"creation_date":1690095271,"post_id":76746909,"comment_id":135303296,"body_markdown":"What do you mean by &quot;how may I enter it&quot;? Don&#39;t use a `PolynomialFunction` and you can easily do `UnivariateFunction f = (x -&gt; (5 * x - 2)/(1 - 3 * x));` Is that what you are after?","body":"What do you mean by &quot;how may I enter it&quot;? Don&#39;t use a <code>PolynomialFunction</code> and you can easily do <code>UnivariateFunction f = (x -&gt; (5 * x - 2)&#47;(1 - 3 * x));</code> Is that what you are after?"},{"owner":{"account_id":3366819,"reputation":2646,"user_id":2827181,"display_name":"Marc Le Bihan"},"score":0,"creation_date":1690095819,"post_id":76746909,"comment_id":135303335,"body_markdown":"@Sweeper Yes it is. Thanks a lot!","body":"@Sweeper Yes it is. Thanks a lot!"}],"answers":[{"comments":[{"owner":{"account_id":3366819,"reputation":2646,"user_id":2827181,"display_name":"Marc Le Bihan"},"score":0,"creation_date":1690110098,"post_id":76747107,"comment_id":135304733,"body_markdown":"That&#39;s interesting. I didn&#39;t have a clue about how succeeding to have the derivative number from a function with apache math3, I am just discovering, and you showed it to me. Thanks again!","body":"That&#39;s interesting. I didn&#39;t have a clue about how succeeding to have the derivative number from a function with apache math3, I am just discovering, and you showed it to me. Thanks again!"},{"owner":{"account_id":3366819,"reputation":2646,"user_id":2827181,"display_name":"Marc Le Bihan"},"score":0,"creation_date":1690124681,"post_id":76747107,"comment_id":135306474,"body_markdown":"How does it work if you have parameters of higher degrees? How do you write a `numerator` such as: `3x&#178; + 5x -2`? `x.pow(2).multiply(3).add(x.multiply(5).substract(2))`?","body":"How does it work if you have parameters of higher degrees? How do you write a <code>numerator</code> such as: <code>3x&#178; + 5x -2</code>? <code>x.pow(2).multiply(3).add(x.multiply(5).substract(2))</code>?"},{"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1690124783,"post_id":76747107,"comment_id":135306480,"body_markdown":"@MarcLeBihan That seems correct. If you have further problems, consider posting a new question.","body":"@MarcLeBihan That seems correct. If you have further problems, consider posting a new question."}],"tags":[],"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"comment_count":3,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1690097845,"creation_date":1690097845,"answer_id":76747107,"question_id":76746909,"body_markdown":"(5x - 2) / (1 - 3x) is not a [polynomial][1], so you should not use `PolynomialFunction` here.\r\n\r\nYou can use the more general `UnivariantFunction` type to represent it. You can directly assign a lambda to it:\r\n\r\n```\r\nUnivariateFunction f = x -&gt; (5 * x - 2)/(1 - 3 * x);\r\n```\r\n\r\nAfter replacing all the `PolynomialFunction`s in your code, you can pass `f` to `derivee.getNombreDerive` without compiler errors. You are not using anything exclusive to `PolynomialFunction`s.\r\n\r\nNote that other than doing your own differentiation using `(f.value(x+h) - f.value(x)) / h`, you can also use `DerivativeStructure` from Apache.\r\n\r\nYou can make a `UnivariantDifferentiableFunction` like this:\r\n\r\n```\r\nvar f = new UnivariateDifferentiableFunction() {\r\n    @Override\r\n    public double value(double x) {\r\n        return (5 * x - 2)/(1 - 3 * x);\r\n    }\r\n\r\n    @Override\r\n    public DerivativeStructure value(DerivativeStructure x) throws DimensionMismatchException {\r\n        var numerator = x.multiply(5).subtract(2);\r\n        var denominator = x.multiply(-3).add(1);\r\n        return numerator.divide(denominator);\r\n    }\r\n};\r\n```\r\n\r\nAnd get the derivative at a certain point like this:\r\n\r\n```\r\nvar point = 2; // suppose you want the derivative at x = 2.\r\nvar x = new DerivativeStructure(1, 1, 0, point);\r\nSystem.out.println(f.value(x).getPartialDerivative(1));\r\n```\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Polynomial","title":"Define f(x) = (5x - 2) / (1 - 3x) with PolynomialFunction (or another class?) from org.apache.commons.math3.analysis.polynomials","body":"<p>(5x - 2) / (1 - 3x) is not a <a href=\"https://en.wikipedia.org/wiki/Polynomial\" rel=\"nofollow noreferrer\">polynomial</a>, so you should not use <code>PolynomialFunction</code> here.</p>\n<p>You can use the more general <code>UnivariantFunction</code> type to represent it. You can directly assign a lambda to it:</p>\n<pre><code>UnivariateFunction f = x -&gt; (5 * x - 2)/(1 - 3 * x);\n</code></pre>\n<p>After replacing all the <code>PolynomialFunction</code>s in your code, you can pass <code>f</code> to <code>derivee.getNombreDerive</code> without compiler errors. You are not using anything exclusive to <code>PolynomialFunction</code>s.</p>\n<p>Note that other than doing your own differentiation using <code>(f.value(x+h) - f.value(x)) / h</code>, you can also use <code>DerivativeStructure</code> from Apache.</p>\n<p>You can make a <code>UnivariantDifferentiableFunction</code> like this:</p>\n<pre><code>var f = new UnivariateDifferentiableFunction() {\n    @Override\n    public double value(double x) {\n        return (5 * x - 2)/(1 - 3 * x);\n    }\n\n    @Override\n    public DerivativeStructure value(DerivativeStructure x) throws DimensionMismatchException {\n        var numerator = x.multiply(5).subtract(2);\n        var denominator = x.multiply(-3).add(1);\n        return numerator.divide(denominator);\n    }\n};\n</code></pre>\n<p>And get the derivative at a certain point like this:</p>\n<pre><code>var point = 2; // suppose you want the derivative at x = 2.\nvar x = new DerivativeStructure(1, 1, 0, point);\nSystem.out.println(f.value(x).getPartialDerivative(1));\n</code></pre>\n"}],"owner":{"account_id":3366819,"reputation":2646,"user_id":2827181,"display_name":"Marc Le Bihan"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76747107,"answer_count":1,"score":0,"last_activity_date":1690097845,"creation_date":1690093987,"question_id":76746909,"body_markdown":"I wrote this simple class and test for my training in using `PolynomialFunction` of `org.apache.commons.math3.analysis.polynomials`.\r\n\r\n```java\r\npublic class Derivee {\r\n   /**\r\n    * Obtenir un nombre d&#233;riv&#233;.\r\n    * @param f Fonction.\r\n    * @param x Valeur x0 o&#249; l&#39;on veut le nombre d&#233;riv&#233;.\r\n    * @param h &#233;cart pour calculer la limite.\r\n    * @return Nombre d&#233;riv&#233;.\r\n    * @throws IllegalArgumentException si h vaut z&#233;ro.\r\n    */\r\n   public double getNombreDerive(PolynomialFunction f, double x, double h) {\r\n      Objects.requireNonNull(f, &quot;La fonction ne peut pas valoir null&quot;);\r\n\r\n      if (h == 0) {\r\n         throw new IllegalArgumentException(&quot;L&#39;&#233;cart pour calculer le nombre d&#233;riv&#233; d&#39;un polyn&#244;me ne peut pas valoir z&#233;ro.&quot;);\r\n      }\r\n\r\n      double nombreDerive = (f.value(x+h) - f.value(x)) / h;\r\n\r\n      if (LOGGER.isDebugEnabled()) {\r\n         LOGGER.debug(&quot;Le nombre d&#233;riv&#233; en {} est {} pour p(x) = {}, mesur&#233; avec h = {}.&quot;, x, nombreDerive, f, h);\r\n      }\r\n\r\n      return nombreDerive;\r\n   }\r\n}\r\n```\r\n\r\n```java\r\nclass DeriveeTest {\r\n   @Test @DisplayName(&quot;nombres d&#233;riv&#233;s&quot;)\r\n   void nombresDerives() {\r\n      PolynomialFunction f = new PolynomialFunction(new double[] {-2.0, 5.0});\r\n      Derivee derivee = new Derivee();\r\n\r\n      assertEquals(5.0, derivee.getNombreDerive(f, 3.0, 0.5), 0.01, &quot;Le nombre d&#233;riv&#233; n&#39;est pas celui attendu&quot;);\r\n      assertThrows(IllegalArgumentException.class, () -&gt; derivee.getNombreDerive(f, 3.0, 0), &quot;Un h = 0 a &#233;t&#233; accept&#233; : il aurait d&#251; &#234;tre refus&#233;&quot;);\r\n   }\r\n}\r\n```\r\n\r\n```log\r\n07:57:51.863 [main] DEBUG fr.ecoemploi.domain.utils.math.derivees.Derivee - \r\n   Le nombre d&#233;riv&#233; en 3.0 est 5.0 pour p(x) = -2 + 5 x, mesur&#233; avec h = 0.5.\r\n```\r\n\r\nIt does work well. But how may I enter, for polynomial, the combination:  \r\n_f(x) = (5x - 2) / (1 - 3x)_ ?\r\n","title":"Define f(x) = (5x - 2) / (1 - 3x) with PolynomialFunction (or another class?) from org.apache.commons.math3.analysis.polynomials","body":"<p>I wrote this simple class and test for my training in using <code>PolynomialFunction</code> of <code>org.apache.commons.math3.analysis.polynomials</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Derivee {\n   /**\n    * Obtenir un nombre dérivé.\n    * @param f Fonction.\n    * @param x Valeur x0 où l'on veut le nombre dérivé.\n    * @param h écart pour calculer la limite.\n    * @return Nombre dérivé.\n    * @throws IllegalArgumentException si h vaut zéro.\n    */\n   public double getNombreDerive(PolynomialFunction f, double x, double h) {\n      Objects.requireNonNull(f, &quot;La fonction ne peut pas valoir null&quot;);\n\n      if (h == 0) {\n         throw new IllegalArgumentException(&quot;L'écart pour calculer le nombre dérivé d'un polynôme ne peut pas valoir zéro.&quot;);\n      }\n\n      double nombreDerive = (f.value(x+h) - f.value(x)) / h;\n\n      if (LOGGER.isDebugEnabled()) {\n         LOGGER.debug(&quot;Le nombre dérivé en {} est {} pour p(x) = {}, mesuré avec h = {}.&quot;, x, nombreDerive, f, h);\n      }\n\n      return nombreDerive;\n   }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>class DeriveeTest {\n   @Test @DisplayName(&quot;nombres dérivés&quot;)\n   void nombresDerives() {\n      PolynomialFunction f = new PolynomialFunction(new double[] {-2.0, 5.0});\n      Derivee derivee = new Derivee();\n\n      assertEquals(5.0, derivee.getNombreDerive(f, 3.0, 0.5), 0.01, &quot;Le nombre dérivé n'est pas celui attendu&quot;);\n      assertThrows(IllegalArgumentException.class, () -&gt; derivee.getNombreDerive(f, 3.0, 0), &quot;Un h = 0 a été accepté : il aurait dû être refusé&quot;);\n   }\n}\n</code></pre>\n<pre><code>07:57:51.863 [main] DEBUG fr.ecoemploi.domain.utils.math.derivees.Derivee - \n   Le nombre dérivé en 3.0 est 5.0 pour p(x) = -2 + 5 x, mesuré avec h = 0.5.\n</code></pre>\n<p>It does work well. But how may I enter, for polynomial, the combination:<br />\n<em>f(x) = (5x - 2) / (1 - 3x)</em> ?</p>\n"},{"tags":["java","android","kotlin","protocol-buffers","protobuf-java"],"answers":[{"comments":[{"owner":{"account_id":1832501,"reputation":655,"user_id":2441468,"accept_rate":83,"display_name":"Sudev Ambadi"},"score":0,"creation_date":1690378590,"post_id":76746945,"comment_id":135345201,"body_markdown":"Thanks for the answer. Event though it&#39;s implementing for some reason we are not able to use the structs from here.","body":"Thanks for the answer. Event though it&#39;s implementing for some reason we are not able to use the structs from here."},{"owner":{"account_id":1832501,"reputation":655,"user_id":2441468,"accept_rate":83,"display_name":"Sudev Ambadi"},"score":0,"creation_date":1690378627,"post_id":76746945,"comment_id":135345208,"body_markdown":"I understand your point of how beneficial is to use protobuf when the structure is loosely typed. But the struct is only a small part of a much bigger payload(I have omitted the bigger payload here for simplicity) and struct only contributes a small part of the bigger payload.","body":"I understand your point of how beneficial is to use protobuf when the structure is loosely typed. But the struct is only a small part of a much bigger payload(I have omitted the bigger payload here for simplicity) and struct only contributes a small part of the bigger payload."}],"tags":[],"owner":{"account_id":2918786,"reputation":637,"user_id":3576968,"display_name":"Daniel Schr&#246;der"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690094881,"creation_date":1690094881,"answer_id":76746945,"question_id":76688634,"body_markdown":"Going after the documentation of the Protobuf Java Lite runtime, I found some answers for your first and second topics. What you want is in the [MessageLite][1] interface.\r\n\r\n&gt; Does protobuf-lite library which is recommended for android support google.protobuf.Struct?\r\n\r\nYes. You can see from the &quot;All Known Implementing Classes&quot; that `Struct` and `Value` implement the `MessageLite` interface. Meaning that they&#39;re available in that runtime level.\r\n\r\n&gt; Where can we find the list of known proto types that are supported by the javalite runtime for protobuf?\r\n\r\nThat list of &quot;All Known Implementing Classes&quot; is the closest thing I found for you.\r\n\r\n---\r\n\r\nThe thing is that this might not solve your problem. Protobuf requires you to define the structure you want to serialize. That being said, if you don&#39;t want to define it beforehand, you&#39;ll need to handle it yourself. One option is to use JSON (or any other serialization format) to serialize the Object and inject it into your message as a raw value.\r\n\r\n  [1]: https://protobuf.dev/reference/java/api-docs/com/google/protobuf/MessageLite","title":"Does Protobuf JavaLite support google.protobuf.Struct / google.protobuf.Value?","body":"<p>Going after the documentation of the Protobuf Java Lite runtime, I found some answers for your first and second topics. What you want is in the <a href=\"https://protobuf.dev/reference/java/api-docs/com/google/protobuf/MessageLite\" rel=\"nofollow noreferrer\">MessageLite</a> interface.</p>\n<blockquote>\n<p>Does protobuf-lite library which is recommended for android support google.protobuf.Struct?</p>\n</blockquote>\n<p>Yes. You can see from the &quot;All Known Implementing Classes&quot; that <code>Struct</code> and <code>Value</code> implement the <code>MessageLite</code> interface. Meaning that they're available in that runtime level.</p>\n<blockquote>\n<p>Where can we find the list of known proto types that are supported by the javalite runtime for protobuf?</p>\n</blockquote>\n<p>That list of &quot;All Known Implementing Classes&quot; is the closest thing I found for you.</p>\n<hr />\n<p>The thing is that this might not solve your problem. Protobuf requires you to define the structure you want to serialize. That being said, if you don't want to define it beforehand, you'll need to handle it yourself. One option is to use JSON (or any other serialization format) to serialize the Object and inject it into your message as a raw value.</p>\n"}],"owner":{"account_id":1832501,"reputation":655,"user_id":2441468,"accept_rate":83,"display_name":"Sudev Ambadi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":145,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1690094881,"creation_date":1689344775,"question_id":76688634,"body_markdown":"\r\nHere is the proto message that we trying to send. \r\n```\r\nmessage Cta {\r\n  string title = 1;\r\n  string pid = 2;\r\n  google.protobuf.Struct params = 3;\r\n}\r\n``` \r\n\r\n * Does `protobuf-lite` library which is recommended for android support `google.protobuf.Struct`? \r\n\r\n * Where can we find the list of known proto types that are supported by the javalite runtime for protobuf? \r\n\r\n * If in case Struct / Vaule is not supported by the java-lite then what is recommended proto type for `HashMap&lt;String, Object&gt;` ?\r\n\r\n\r\n\r\nGradle that we using to generate the java code from proto. \r\n```\r\nplugins {\r\n    id &#39;com.android.library&#39;\r\n    id &#39;kotlin-android&#39;\r\n    id &#39;com.google.protobuf&#39;\r\n    id &#39;org.jetbrains.kotlin.android&#39;\r\n}\r\n\r\njava {\r\n    sourceCompatibility = JavaVersion.VERSION_1_7\r\n    targetCompatibility = JavaVersion.VERSION_1_7\r\n}\r\n\r\nandroid {\r\n    compileSdkVersion 33\r\n    buildToolsVersion &quot;30.0.3&quot;\r\n    namespace &#39;com.boom.protobuf&#39;\r\n\r\n}\r\n\r\nprotobuf {\r\n    protoc {\r\n        artifact = &quot;com.google.protobuf:protoc:3.20.1&quot;\r\n    }\r\n\r\n    generateProtoTasks {\r\n        all().each { task -&gt;\r\n            task.builtins {\r\n                java {\r\n                    option &#39;lite&#39;\r\n                }\r\n                kotlin {\r\n                    option &#39;lite&#39;\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\ndependencies {\r\n    api &#39;com.google.protobuf:protobuf-kotlin-lite:3.23.0&#39;\r\n    api &#39;com.google.protobuf:protobuf-javalite:3.23.0&#39;\r\n}\r\n```","title":"Does Protobuf JavaLite support google.protobuf.Struct / google.protobuf.Value?","body":"<p>Here is the proto message that we trying to send.</p>\n<pre><code>message Cta {\n  string title = 1;\n  string pid = 2;\n  google.protobuf.Struct params = 3;\n}\n</code></pre>\n<ul>\n<li><p>Does <code>protobuf-lite</code> library which is recommended for android support <code>google.protobuf.Struct</code>?</p>\n</li>\n<li><p>Where can we find the list of known proto types that are supported by the javalite runtime for protobuf?</p>\n</li>\n<li><p>If in case Struct / Vaule is not supported by the java-lite then what is recommended proto type for <code>HashMap&lt;String, Object&gt;</code> ?</p>\n</li>\n</ul>\n<p>Gradle that we using to generate the java code from proto.</p>\n<pre><code>plugins {\n    id 'com.android.library'\n    id 'kotlin-android'\n    id 'com.google.protobuf'\n    id 'org.jetbrains.kotlin.android'\n}\n\njava {\n    sourceCompatibility = JavaVersion.VERSION_1_7\n    targetCompatibility = JavaVersion.VERSION_1_7\n}\n\nandroid {\n    compileSdkVersion 33\n    buildToolsVersion &quot;30.0.3&quot;\n    namespace 'com.boom.protobuf'\n\n}\n\nprotobuf {\n    protoc {\n        artifact = &quot;com.google.protobuf:protoc:3.20.1&quot;\n    }\n\n    generateProtoTasks {\n        all().each { task -&gt;\n            task.builtins {\n                java {\n                    option 'lite'\n                }\n                kotlin {\n                    option 'lite'\n                }\n            }\n        }\n    }\n}\n\ndependencies {\n    api 'com.google.protobuf:protobuf-kotlin-lite:3.23.0'\n    api 'com.google.protobuf:protobuf-javalite:3.23.0'\n}\n</code></pre>\n"},{"tags":["java","maven","intellij-idea"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1690050020,"post_id":76745121,"comment_id":135300140,"body_markdown":"It&#39;s nothing to do with dependencies. I wonder if it could be that you&#39;re debugging *into JRE source* that&#39;s &lt; Java 11. Can you check the source version? I&#39;m assuming it compiles OK *and* will *run* OK","body":"It&#39;s nothing to do with dependencies. I wonder if it could be that you&#39;re debugging <i>into JRE source</i> that&#39;s &lt; Java 11. Can you check the source version? I&#39;m assuming it compiles OK <i>and</i> will <i>run</i> OK"},{"owner":{"account_id":4641623,"reputation":8841,"user_id":3761297,"accept_rate":94,"display_name":"committedandroider"},"score":0,"creation_date":1690051307,"post_id":76745121,"comment_id":135300293,"body_markdown":"@g00se how do I check/set source version in Intellij? When I google searched, i only found project version which I have in that screenshot","body":"@g00se how do I check/set source version in Intellij? When I google searched, i only found project version which I have in that screenshot"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1690054900,"post_id":76745121,"comment_id":135300640,"body_markdown":"I don&#39;t know - I don&#39;t use it. Does it *compile* and *run* (not in debug mode)?","body":"I don&#39;t know - I don&#39;t use it. Does it <i>compile</i> and <i>run</i> (not in debug mode)?"},{"owner":{"account_id":4641623,"reputation":8841,"user_id":3761297,"accept_rate":94,"display_name":"committedandroider"},"score":0,"creation_date":1690094303,"post_id":76745121,"comment_id":135303189,"body_markdown":"@g00se I figured it out and posted an answer. I didn&#39;t know each module was also associated with its own Java version. I thought it was just the top level project","body":"@g00se I figured it out and posted an answer. I didn&#39;t know each module was also associated with its own Java version. I thought it was just the top level project"}],"answers":[{"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1690095810,"post_id":76746921,"comment_id":135303333,"body_markdown":"Glad you sorted it out","body":"Glad you sorted it out"}],"tags":[],"owner":{"account_id":4641623,"reputation":8841,"user_id":3761297,"accept_rate":94,"display_name":"committedandroider"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690094203,"creation_date":1690094203,"answer_id":76746921,"question_id":76745121,"body_markdown":"Under project structure, the project was set at Java 17 but not all of the modules were set to that version\r\n\r\nIf you experience this, make sure all your modules are also set at the correct java version","title":"How can I debug my IDE(Intellij) not resolving a dependency when maven can with the same java version?","body":"<p>Under project structure, the project was set at Java 17 but not all of the modules were set to that version</p>\n<p>If you experience this, make sure all your modules are also set at the correct java version</p>\n"}],"owner":{"account_id":4641623,"reputation":8841,"user_id":3761297,"accept_rate":94,"display_name":"committedandroider"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1690094203,"creation_date":1690047932,"question_id":76745121,"body_markdown":"This is a short code sample in my unit test\r\n\r\n     if (retries &gt;= maxRetries) {\r\n        return InputStream.nullInputStream();\r\n     }\r\n\r\nI&#39;m able to run the tests fine (w this code sample) using mvn test\r\n\r\nHowever in Intellij, when I try to debug these tests(Run -&gt; Debug), I get the error &quot;cannot find symbol - method nullInputStream()&quot;\r\n\r\nDoes anyone know what could be causing this?\r\n\r\nnullInputStream looks like it was introduced in Java 11 but my Intellij IDE is set at 17(See screenshot)\r\n\r\nMy maven which recognizes this dependency is also set at Java version 17(See output below)\r\n\r\n    ...@...-mac .... % mvn -v  \r\n    Apache Maven 3.6.3 (cecedd343002696d0abb50b32b541b8a6ba2883f)\r\n    Maven home: /usr/local/apache-maven\r\n    Java version: 17.0.7, vendor: Oracle Corporation, runtime: /Library/Java/JavaVirtualMachines/jdk-17.jdk/Contents/Home\r\n    Default locale: en_US, platform encoding: UTF-8\r\n    OS name: &quot;mac os x&quot;, version: &quot;13.2.1&quot;, arch: &quot;aarch64&quot;, family: &quot;mac&quot;\r\n\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/nolH3.png","title":"How can I debug my IDE(Intellij) not resolving a dependency when maven can with the same java version?","body":"<p>This is a short code sample in my unit test</p>\n<pre><code> if (retries &gt;= maxRetries) {\n    return InputStream.nullInputStream();\n }\n</code></pre>\n<p>I'm able to run the tests fine (w this code sample) using mvn test</p>\n<p>However in Intellij, when I try to debug these tests(Run -&gt; Debug), I get the error &quot;cannot find symbol - method nullInputStream()&quot;</p>\n<p>Does anyone know what could be causing this?</p>\n<p>nullInputStream looks like it was introduced in Java 11 but my Intellij IDE is set at 17(See screenshot)</p>\n<p>My maven which recognizes this dependency is also set at Java version 17(See output below)</p>\n<pre><code>...@...-mac .... % mvn -v  \nApache Maven 3.6.3 (cecedd343002696d0abb50b32b541b8a6ba2883f)\nMaven home: /usr/local/apache-maven\nJava version: 17.0.7, vendor: Oracle Corporation, runtime: /Library/Java/JavaVirtualMachines/jdk-17.jdk/Contents/Home\nDefault locale: en_US, platform encoding: UTF-8\nOS name: &quot;mac os x&quot;, version: &quot;13.2.1&quot;, arch: &quot;aarch64&quot;, family: &quot;mac&quot;\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/nolH3.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/nolH3.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","list","multithreading"],"answers":[{"comments":[{"owner":{"account_id":24792239,"reputation":413,"user_id":18675173,"display_name":"lant"},"score":0,"creation_date":1690161361,"post_id":76742681,"comment_id":135310165,"body_markdown":"Thansk. I&#39;ll try.","body":"Thansk. I&#39;ll try."}],"tags":[],"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1690009673,"creation_date":1690009673,"answer_id":76742681,"question_id":76742574,"body_markdown":"With your current design, `process` appears to hold the lock until all HTTP request is complete, assuming the the HTTP request occurs at the line `// http sent afterConvert list`.\r\n\r\nThis means that calls to `push` will block.\r\n\r\nInstead you can rewrite `process` like this, so that it holds the lock only very briefly, and `push` can immediately start adding string to `strings`.\r\n```\r\npublic void process() {\r\n        List&lt;String&gt; toConvert;\r\n\r\n        synchronized (lock) {\r\n            // save the current list of Strings to convert and send\r\n            toConvert = strings;\r\n            // start recording Strings in a new batch\r\n            strings = new ArrayList&lt;&gt;();\r\n        }\r\n        List&lt;String&gt; afterConvert = new ArrayList&lt;&gt;();\r\n\r\n        for (String string : toConvert) {\r\n            // String tmp = convert(string)\r\n            // afterConvert.add(tmp);\r\n        }\r\n        // http sent afterConvert list\r\n    }\r\n```","title":"How to implement a queue for bulk delivery","body":"<p>With your current design, <code>process</code> appears to hold the lock until all HTTP request is complete, assuming the the HTTP request occurs at the line <code>// http sent afterConvert list</code>.</p>\n<p>This means that calls to <code>push</code> will block.</p>\n<p>Instead you can rewrite <code>process</code> like this, so that it holds the lock only very briefly, and <code>push</code> can immediately start adding string to <code>strings</code>.</p>\n<pre><code>public void process() {\n        List&lt;String&gt; toConvert;\n\n        synchronized (lock) {\n            // save the current list of Strings to convert and send\n            toConvert = strings;\n            // start recording Strings in a new batch\n            strings = new ArrayList&lt;&gt;();\n        }\n        List&lt;String&gt; afterConvert = new ArrayList&lt;&gt;();\n\n        for (String string : toConvert) {\n            // String tmp = convert(string)\n            // afterConvert.add(tmp);\n        }\n        // http sent afterConvert list\n    }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":24792239,"reputation":413,"user_id":18675173,"display_name":"lant"},"score":0,"creation_date":1690161366,"post_id":76746903,"comment_id":135310166,"body_markdown":"Thansk. I&#39;ll try.","body":"Thansk. I&#39;ll try."}],"tags":[],"owner":{"account_id":13993199,"reputation":129,"user_id":10362945,"display_name":"Sagar"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1690093827,"creation_date":1690093827,"answer_id":76746903,"question_id":76742574,"body_markdown":"The list is being modified at `push` method **only** so `updateListLock` is required to update the collection (since not using concurrent collection)\r\n\r\nWhile the scheduler runs it copies the entire list and reset the new list to blank. We made the list volatile so that we maintain happens-before while reassigning list variable.\r\n\r\nWe need to have `resetListLock` to avoid issue if multiple `ScheduleTask` run in parallel.\r\nChoice of ScheduledExecutorService needs to be revisited since the documentation says \r\n&gt; If any execution of this task takes longer than its period, then subsequent executions may start late, but will not concurrently execute.\r\n\r\n```\r\nclass ProduceTest {\r\n    public static void main(String[] args) {\r\n        Producer producer = new Producer();\r\n        for (int i = 0; i &lt; 1000; i++) {\r\n            producer.push(String.valueOf(i));\r\n        }\r\n    }\r\n}\r\n\r\nclass Producer{\r\n    ScheduledExecutorService service = new ScheduledThreadPoolExecutor(1);\r\n    final Object resetListLock = new Object();\r\n    final Object updateListLock = new Object();\r\n    volatile List&lt;String&gt; strings = new ArrayList&lt;&gt;();\r\n    public Producer() {\r\n        service.scheduleAtFixedRate(new ScheduleTask(), 0, 2000, TimeUnit.MILLISECONDS);\r\n    }\r\n    public void push(String str) {\r\n        if (str!=null &amp;&amp; str.length()&gt;0) {\r\n            synchronized (updateListLock) { //considering strings list is being updated here only\r\n                strings.add(str);\r\n            }\r\n        }\r\n    }\r\n\r\n    public List&lt;String&gt; getAndResetProducerList() {\r\n        List&lt;String&gt; newProducerList = new LinkedList&lt;&gt;();//since frequent operation is add and sequential read\r\n        List&lt;String&gt; newConsumerList = null;\r\n\r\n        synchronized (resetListLock){\r\n            newConsumerList = strings;\r\n            strings = newProducerList;\r\n        }\r\n        return newConsumerList;\r\n    }\r\n\r\n\r\n    public void process(){\r\n        List&lt;String&gt; consumerList = getAndResetProducerList();\r\n        List&lt;String&gt; afterConvert = new ArrayList&lt;&gt;();\r\n            for (String string : consumerList) {\r\n                // String tmp = convert(string)\r\n                // afterConvert.add(tmp);\r\n            }\r\n            // http sent afterConvert list\r\n    }\r\n    class ScheduleTask implements Runnable{\r\n\r\n        @Override\r\n        public void run() {\r\n            process();\r\n        }\r\n    }\r\n}\r\n```","title":"How to implement a queue for bulk delivery","body":"<p>The list is being modified at <code>push</code> method <strong>only</strong> so <code>updateListLock</code> is required to update the collection (since not using concurrent collection)</p>\n<p>While the scheduler runs it copies the entire list and reset the new list to blank. We made the list volatile so that we maintain happens-before while reassigning list variable.</p>\n<p>We need to have <code>resetListLock</code> to avoid issue if multiple <code>ScheduleTask</code> run in parallel.\nChoice of ScheduledExecutorService needs to be revisited since the documentation says</p>\n<blockquote>\n<p>If any execution of this task takes longer than its period, then subsequent executions may start late, but will not concurrently execute.</p>\n</blockquote>\n<pre><code>class ProduceTest {\n    public static void main(String[] args) {\n        Producer producer = new Producer();\n        for (int i = 0; i &lt; 1000; i++) {\n            producer.push(String.valueOf(i));\n        }\n    }\n}\n\nclass Producer{\n    ScheduledExecutorService service = new ScheduledThreadPoolExecutor(1);\n    final Object resetListLock = new Object();\n    final Object updateListLock = new Object();\n    volatile List&lt;String&gt; strings = new ArrayList&lt;&gt;();\n    public Producer() {\n        service.scheduleAtFixedRate(new ScheduleTask(), 0, 2000, TimeUnit.MILLISECONDS);\n    }\n    public void push(String str) {\n        if (str!=null &amp;&amp; str.length()&gt;0) {\n            synchronized (updateListLock) { //considering strings list is being updated here only\n                strings.add(str);\n            }\n        }\n    }\n\n    public List&lt;String&gt; getAndResetProducerList() {\n        List&lt;String&gt; newProducerList = new LinkedList&lt;&gt;();//since frequent operation is add and sequential read\n        List&lt;String&gt; newConsumerList = null;\n\n        synchronized (resetListLock){\n            newConsumerList = strings;\n            strings = newProducerList;\n        }\n        return newConsumerList;\n    }\n\n\n    public void process(){\n        List&lt;String&gt; consumerList = getAndResetProducerList();\n        List&lt;String&gt; afterConvert = new ArrayList&lt;&gt;();\n            for (String string : consumerList) {\n                // String tmp = convert(string)\n                // afterConvert.add(tmp);\n            }\n            // http sent afterConvert list\n    }\n    class ScheduleTask implements Runnable{\n\n        @Override\n        public void run() {\n            process();\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":24792239,"reputation":413,"user_id":18675173,"display_name":"lant"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1690093827,"creation_date":1690007095,"question_id":76742574,"body_markdown":"I need to read tens of millions of rows of data and send it through an HTTP request.In order to reduce the number of HTTP requests and accelerate execution speed, I want to use a queue to cache the data, and then use a scheduled task to send every two seconds(the sending frequency is yet to be determined through testing),after sending the data, the queue need to cache data again for the next time.\r\n\r\nData is not continuously added, and there may be uncertain time intervals. However, data needs to be transmitted through HTTP in a timely manner, so I cannot determine whether it needs to be sent based on the number of data items in the queue. To ensure the timeliness of data transmission through HTTP, I can only use a timed transmission method.\r\n\r\nI use `synchronized` to ensure thread safe,but this means that for every recod  added into the list  need `synchronized` first. \r\n\r\nI would like to know if there is a more efficient or elegant implementation method.\r\n\r\nThis is my code.\r\n\r\nThanks a lot.\r\n\r\n\r\n\r\n\r\n\r\n\r\n    public class ProduceTest {\r\n        public static void main(String[] args) {\r\n            Producer producer = new Producer();\r\n            for (int i = 0; i &lt; 1000000; i++) {\r\n               producer.push(String.valueOf(i));\r\n            }\r\n       }\r\n    }\r\n\r\n    class Producer{\r\n        ScheduledExecutorService service = new ScheduledThreadPoolExecutor(1);\r\n        final Object lock = new Object();\r\n        List&lt;String&gt; strings = new ArrayList&lt;&gt;();\r\n        public Producer() {\r\n            service.scheduleAtFixedRate(new ScheduleTask(), 0, 2000, TimeUnit.MILLISECONDS);\r\n        }\r\n        public void push(String str) {\r\n            if (str!=null &amp;&amp; str.length()&gt;0) {\r\n                synchronized (lock) {\r\n                    strings.add(str);\r\n                }\r\n            }\r\n        }\r\n        public void process(){\r\n            synchronized (lock) {\r\n                List&lt;String&gt; afterConvert = new ArrayList&lt;&gt;();\r\n                for (String string : strings) {\r\n                    // String tmp = convert(string)\r\n                    // afterConvert.add(tmp);\r\n                }\r\n                // http sent afterConvert list\r\n                strings = new ArrayList&lt;&gt;();\r\n            }\r\n        }\r\n        class ScheduleTask implements Runnable{\r\n    \r\n            @Override\r\n            public void run() {\r\n                process();\r\n            }\r\n        }\r\n    }\r\n\r\n","title":"How to implement a queue for bulk delivery","body":"<p>I need to read tens of millions of rows of data and send it through an HTTP request.In order to reduce the number of HTTP requests and accelerate execution speed, I want to use a queue to cache the data, and then use a scheduled task to send every two seconds(the sending frequency is yet to be determined through testing),after sending the data, the queue need to cache data again for the next time.</p>\n<p>Data is not continuously added, and there may be uncertain time intervals. However, data needs to be transmitted through HTTP in a timely manner, so I cannot determine whether it needs to be sent based on the number of data items in the queue. To ensure the timeliness of data transmission through HTTP, I can only use a timed transmission method.</p>\n<p>I use <code>synchronized</code> to ensure thread safe,but this means that for every recod  added into the list  need <code>synchronized</code> first.</p>\n<p>I would like to know if there is a more efficient or elegant implementation method.</p>\n<p>This is my code.</p>\n<p>Thanks a lot.</p>\n<pre><code>public class ProduceTest {\n    public static void main(String[] args) {\n        Producer producer = new Producer();\n        for (int i = 0; i &lt; 1000000; i++) {\n           producer.push(String.valueOf(i));\n        }\n   }\n}\n\nclass Producer{\n    ScheduledExecutorService service = new ScheduledThreadPoolExecutor(1);\n    final Object lock = new Object();\n    List&lt;String&gt; strings = new ArrayList&lt;&gt;();\n    public Producer() {\n        service.scheduleAtFixedRate(new ScheduleTask(), 0, 2000, TimeUnit.MILLISECONDS);\n    }\n    public void push(String str) {\n        if (str!=null &amp;&amp; str.length()&gt;0) {\n            synchronized (lock) {\n                strings.add(str);\n            }\n        }\n    }\n    public void process(){\n        synchronized (lock) {\n            List&lt;String&gt; afterConvert = new ArrayList&lt;&gt;();\n            for (String string : strings) {\n                // String tmp = convert(string)\n                // afterConvert.add(tmp);\n            }\n            // http sent afterConvert list\n            strings = new ArrayList&lt;&gt;();\n        }\n    }\n    class ScheduleTask implements Runnable{\n\n        @Override\n        public void run() {\n            process();\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","ssl","oauth-2.0"],"comments":[{"owner":{"account_id":288696,"reputation":91230,"user_id":589259,"accept_rate":82,"display_name":"Maarten Bodewes"},"score":0,"creation_date":1690044350,"post_id":76743526,"comment_id":135299435,"body_markdown":"You haven&#39;t included enough of your exception stack trace; like this we&#39;re stuck with &quot;internal error&quot; which doesn&#39;t tell us much. Have you tried to connect in other ways, e.g. with a browser with the trusted certificate installed?","body":"You haven&#39;t included enough of your exception stack trace; like this we&#39;re stuck with &quot;internal error&quot; which doesn&#39;t tell us much. Have you tried to connect in other ways, e.g. with a browser with the trusted certificate installed?"},{"owner":{"account_id":14701186,"reputation":499,"user_id":10617165,"display_name":"Faizan Khokhar"},"score":0,"creation_date":1690093315,"post_id":76743526,"comment_id":135303112,"body_markdown":"@MaartenBodewes-onstrike\nI have edited the question to include the stack trace. Furthermore, In the workflow, the Tomcat server directly communicates with the external Oauth server without the involvement of a browser. Just an API to API communication, that&#39;s why I added the ssl in java keystore","body":"@MaartenBodewes-onstrike I have edited the question to include the stack trace. Furthermore, In the workflow, the Tomcat server directly communicates with the external Oauth server without the involvement of a browser. Just an API to API communication, that&#39;s why I added the ssl in java keystore"},{"owner":{"account_id":288696,"reputation":91230,"user_id":589259,"accept_rate":82,"display_name":"Maarten Bodewes"},"score":0,"creation_date":1690132312,"post_id":76743526,"comment_id":135307479,"body_markdown":"The fact that the error occurs in `readHandshakeRecord` ... `decode` indicates that it probably receives a handshake record that it cannot parse. You need to troubleshoot with the other party to see what is going wrong. &quot;custom OAuth server&quot; indeed, probably the error is in their TLS implementation or configuration.","body":"The fact that the error occurs in <code>readHandshakeRecord</code> ... <code>decode</code> indicates that it probably receives a handshake record that it cannot parse. You need to troubleshoot with the other party to see what is going wrong. &quot;custom OAuth server&quot; indeed, probably the error is in their TLS implementation or configuration."}],"owner":{"account_id":14701186,"reputation":499,"user_id":10617165,"display_name":"Faizan Khokhar"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":111,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1690093438,"creation_date":1690024508,"question_id":76743526,"body_markdown":"I have a spring boot application that uses an access token to receive user information from a custom OAuth server. In doing so, it gives an exception,\r\n\r\n    javax.net.ssl.SSLException: Received fatal alert: internal_error\r\n        at java.base/sun.security.ssl.Alert.createSSLException(Alert.java:129)\r\n        at java.base/sun.security.ssl.Alert.createSSLException(Alert.java:117)\r\n        at java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:308)\r\n        at java.base/sun.security.ssl.Alert$AlertConsumer.consume(Alert.java:279)\r\n        at java.base/sun.security.ssl.TransportContext.dispatch(TransportContext.java:181)\r\n        at java.base/sun.security.ssl.SSLTransport.decode(SSLTransport.java:164)\r\n        at java.base/sun.security.ssl.SSLSocketImpl.decode(SSLSocketImpl.java:1152)\r\n        at java.base/sun.security.ssl.SSLSocketImpl.readHandshakeRecord(SSLSocketImpl.java:1063)\r\n        at java.base/sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:402)\r\n        at java.base/sun.net.www.protocol.https.HttpsClient.afterConnect(HttpsClient.java:567)\r\n        at java.base/sun.net.www.protocol.https.AbstractDelegateHttpsURLConnection.connect(AbstractDelegateHttpsURLConnection.java:185)\r\n        at java.base/sun.net.www.protocol.https.HttpsURLConnectionImpl.connect(HttpsURLConnectionImpl.java:163)\r\n        at org.springframework.http.client.SimpleBufferingClientHttpRequest.executeInternal(SimpleBufferingClientHttpRequest.java:76)\r\n        at org.springframework.http.client.AbstractBufferingClientHttpRequest.executeInternal(AbstractBufferingClientHttpRequest.java:48)\r\n        at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:66)\r\n        at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:776)\r\n        at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:660)\r\n        at org.springframework.security.oauth2.client.endpoint.DefaultAuthorizationCodeTokenResponseClient.getResponse(DefaultAuthorizationCodeTokenResponseClient.java:96)\r\n        at org.springframework.security.oauth2.client.endpoint.DefaultAuthorizationCodeTokenResponseClient.getTokenResponse(DefaultAuthorizationCodeTokenResponseClient.java:78)\r\n        at org.springframework.security.oauth2.client.endpoint.DefaultAuthorizationCodeTokenResponseClient.getTokenResponse(DefaultAuthorizationCodeTokenResponseClient.java:57)\r\n        at org.springframework.security.oauth2.client.oidc.authentication.OidcAuthorizationCodeAuthenticationProvider.getResponse(OidcAuthorizationCodeAuthenticationProvider.java:170)\r\n        at org.springframework.security.oauth2.client.oidc.authentication.OidcAuthorizationCodeAuthenticationProvider.authenticate(OidcAuthorizationCodeAuthenticationProvider.java:144)\r\n        at org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:182)\r\n        at org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter.attemptAuthentication(OAuth2LoginAuthenticationFilter.java:195)\r\n        at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227)\r\n        at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:217)\r\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)\r\n        at org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter.doFilterInternal(OAuth2AuthorizationRequestRedirectFilter.java:178)\r\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\r\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)\r\n        at org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter.doFilterInternal(OAuth2AuthorizationRequestRedirectFilter.java:178)\r\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\r\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)\r\n        at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103)\r\n        at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89)\r\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)\r\n        at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)\r\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\r\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)\r\n        at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)\r\n        at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)\r\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\r\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)\r\n        at org.springframework.security.web.context.SecurityContextHolderFilter.doFilterInternal(SecurityContextHolderFilter.java:64)\r\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\r\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)\r\n        at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55)\r\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\r\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)\r\n        at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)\r\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\r\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)\r\n        at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:221)\r\n        at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186)\r\n        at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354)\r\n        at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267)\r\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)\r\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)\r\n        at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\r\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\r\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)\r\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)\r\n        at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\r\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\r\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)\r\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)\r\n        at org.springframework.session.web.http.SessionRepositoryFilter.doFilterInternal(SessionRepositoryFilter.java:142)\r\n        at org.springframework.session.web.http.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:82)\r\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)\r\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)\r\n        at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96)\r\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\r\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)\r\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)\r\n        at org.springframework.boot.web.servlet.support.ErrorPageFilter.doFilter(ErrorPageFilter.java:126)\r\n        at org.springframework.boot.web.servlet.support.ErrorPageFilter.access$000(ErrorPageFilter.java:64)\r\n        at org.springframework.boot.web.servlet.support.ErrorPageFilter$1.doFilterInternal(ErrorPageFilter.java:101)\r\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\r\n        at org.springframework.boot.web.servlet.support.ErrorPageFilter.doFilter(ErrorPageFilter.java:119)\r\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)\r\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)\r\n        at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\r\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\r\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)\r\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)\r\n        at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)\r\n        at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)\r\n        at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481)\r\n        at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130)\r\n        at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)\r\n        at org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:673)\r\n        at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)\r\n        at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)\r\n        at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:389)\r\n        at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)\r\n        at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:926)\r\n        at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1791)\r\n        at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)\r\n        at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\r\n        at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\r\n        at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n        at java.base/java.lang.Thread.run(Thread.java:834)}\r\n\r\n    Authentication failed: [invalid_token_response] An error occurred while attempting to retrieve the OAuth 2.0 Access Token Response: I/O error on POST request for &quot;https://api.external_server.com/oauth/token&quot;: Received fatal alert: internal_error; nested exception is javax.net.ssl.SSLException: Received fatal alert: internal_error\r\n\r\nThe workflow runs fine on Postman but not on the live server.\r\nMy source code is\r\n&lt;br&gt;\r\napplication.yml:\r\n\r\n    security:\r\n      oauth2:\r\n        client:     \r\n          registration:\r\n            idme:\r\n              client-id: ${security_oauth2_client_registration_idme_client_id}\r\n              client-secret: ${security_oauth2_client_registration_idme_client_secret}\r\n              scope: openid,http://external_server.com/erx\r\n              redirect-uri: https://my-application.com/token\r\n          provider:\r\n            customoauthprovider:\r\n              issuer-uri: https://api.external_server.com/oidc\r\n              user-name-attribute: fname\r\n\r\nSecurityConfiguration.java:\r\n\r\n    @Bean\r\n\tpublic SecurityFilterChain filterChainForOauth(HttpSecurity http) throws Exception\r\n\t{\r\n\t\tSecurityContext sc = SecurityContextHolder.getContext();\r\n\r\n\t\thttp.securityContext().requireExplicitSave(true).and().cors().and().csrf().disable().\r\n\t\t\trequestMatchers().antMatchers(&quot;/customoauthprovider/verify&quot;, &quot;/login/oauth2/code/customoauthprovider/**&quot;).and()\r\n\t\t\t.oauth2Client().and().oauth2Login()\r\n\t\t\t.failureHandler(customAuthenticationFailureHandler)\r\n\r\n\r\n\t\t\t.authorizationEndpoint().authorizationRequestResolver(\r\n\t\t\t\t\tnew IdMeAuthorizationRequestResolver(clientRegistrationRepository, &quot;customoauthprovider&quot;));\r\n\r\n\t\tDefaultSecurityFilterChain toReturn = http.build();\r\n\r\n\t\treturn toReturn;\r\n\t}\r\nAnd CustomAuthenticationFailureHandler:\r\n\r\n    public class CustomAuthenticationFailureHandler extends SimpleUrlAuthenticationFailureHandler {    \r\n    @Override\r\n    public void onAuthenticationFailure(HttpServletRequest request, HttpServletResponse response, AuthenticationException exception) throws IOException, ServletException {\r\n\r\n        log.error(&quot;Exctption {}&quot;, exception);\r\n        exception.printStackTrace();\r\n        System.out.println(&quot;Authentication failed: &quot; + exception.getMessage());\r\n\r\n      }\r\n    }\r\n\r\n&gt; I even installed the SSL certificate of the custom OAuth provider in the Java key store but still no success.\r\n&lt;br&gt;I am using openjdk version &quot;11&quot; 2018-09-25 on my Azure Windows based virtual machine","title":"Why Spring boot custom oauth is giving me SSLException?","body":"<p>I have a spring boot application that uses an access token to receive user information from a custom OAuth server. In doing so, it gives an exception,</p>\n<pre><code>javax.net.ssl.SSLException: Received fatal alert: internal_error\n    at java.base/sun.security.ssl.Alert.createSSLException(Alert.java:129)\n    at java.base/sun.security.ssl.Alert.createSSLException(Alert.java:117)\n    at java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:308)\n    at java.base/sun.security.ssl.Alert$AlertConsumer.consume(Alert.java:279)\n    at java.base/sun.security.ssl.TransportContext.dispatch(TransportContext.java:181)\n    at java.base/sun.security.ssl.SSLTransport.decode(SSLTransport.java:164)\n    at java.base/sun.security.ssl.SSLSocketImpl.decode(SSLSocketImpl.java:1152)\n    at java.base/sun.security.ssl.SSLSocketImpl.readHandshakeRecord(SSLSocketImpl.java:1063)\n    at java.base/sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:402)\n    at java.base/sun.net.www.protocol.https.HttpsClient.afterConnect(HttpsClient.java:567)\n    at java.base/sun.net.www.protocol.https.AbstractDelegateHttpsURLConnection.connect(AbstractDelegateHttpsURLConnection.java:185)\n    at java.base/sun.net.www.protocol.https.HttpsURLConnectionImpl.connect(HttpsURLConnectionImpl.java:163)\n    at org.springframework.http.client.SimpleBufferingClientHttpRequest.executeInternal(SimpleBufferingClientHttpRequest.java:76)\n    at org.springframework.http.client.AbstractBufferingClientHttpRequest.executeInternal(AbstractBufferingClientHttpRequest.java:48)\n    at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:66)\n    at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:776)\n    at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:660)\n    at org.springframework.security.oauth2.client.endpoint.DefaultAuthorizationCodeTokenResponseClient.getResponse(DefaultAuthorizationCodeTokenResponseClient.java:96)\n    at org.springframework.security.oauth2.client.endpoint.DefaultAuthorizationCodeTokenResponseClient.getTokenResponse(DefaultAuthorizationCodeTokenResponseClient.java:78)\n    at org.springframework.security.oauth2.client.endpoint.DefaultAuthorizationCodeTokenResponseClient.getTokenResponse(DefaultAuthorizationCodeTokenResponseClient.java:57)\n    at org.springframework.security.oauth2.client.oidc.authentication.OidcAuthorizationCodeAuthenticationProvider.getResponse(OidcAuthorizationCodeAuthenticationProvider.java:170)\n    at org.springframework.security.oauth2.client.oidc.authentication.OidcAuthorizationCodeAuthenticationProvider.authenticate(OidcAuthorizationCodeAuthenticationProvider.java:144)\n    at org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:182)\n    at org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter.attemptAuthentication(OAuth2LoginAuthenticationFilter.java:195)\n    at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227)\n    at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:217)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)\n    at org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter.doFilterInternal(OAuth2AuthorizationRequestRedirectFilter.java:178)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)\n    at org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter.doFilterInternal(OAuth2AuthorizationRequestRedirectFilter.java:178)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)\n    at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103)\n    at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)\n    at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)\n    at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)\n    at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)\n    at org.springframework.security.web.context.SecurityContextHolderFilter.doFilterInternal(SecurityContextHolderFilter.java:64)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)\n    at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)\n    at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)\n    at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:221)\n    at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186)\n    at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354)\n    at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)\n    at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)\n    at org.springframework.session.web.http.SessionRepositoryFilter.doFilterInternal(SessionRepositoryFilter.java:142)\n    at org.springframework.session.web.http.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:82)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)\n    at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)\n    at org.springframework.boot.web.servlet.support.ErrorPageFilter.doFilter(ErrorPageFilter.java:126)\n    at org.springframework.boot.web.servlet.support.ErrorPageFilter.access$000(ErrorPageFilter.java:64)\n    at org.springframework.boot.web.servlet.support.ErrorPageFilter$1.doFilterInternal(ErrorPageFilter.java:101)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\n    at org.springframework.boot.web.servlet.support.ErrorPageFilter.doFilter(ErrorPageFilter.java:119)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481)\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130)\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)\n    at org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:673)\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:389)\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:926)\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1791)\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n    at java.base/java.lang.Thread.run(Thread.java:834)}\n\nAuthentication failed: [invalid_token_response] An error occurred while attempting to retrieve the OAuth 2.0 Access Token Response: I/O error on POST request for &quot;https://api.external_server.com/oauth/token&quot;: Received fatal alert: internal_error; nested exception is javax.net.ssl.SSLException: Received fatal alert: internal_error\n</code></pre>\n<p>The workflow runs fine on Postman but not on the live server.\nMy source code is\n<br>\napplication.yml:</p>\n<pre><code>security:\n  oauth2:\n    client:     \n      registration:\n        idme:\n          client-id: ${security_oauth2_client_registration_idme_client_id}\n          client-secret: ${security_oauth2_client_registration_idme_client_secret}\n          scope: openid,http://external_server.com/erx\n          redirect-uri: https://my-application.com/token\n      provider:\n        customoauthprovider:\n          issuer-uri: https://api.external_server.com/oidc\n          user-name-attribute: fname\n</code></pre>\n<p>SecurityConfiguration.java:</p>\n<pre><code>@Bean\npublic SecurityFilterChain filterChainForOauth(HttpSecurity http) throws Exception\n{\n    SecurityContext sc = SecurityContextHolder.getContext();\n\n    http.securityContext().requireExplicitSave(true).and().cors().and().csrf().disable().\n        requestMatchers().antMatchers(&quot;/customoauthprovider/verify&quot;, &quot;/login/oauth2/code/customoauthprovider/**&quot;).and()\n        .oauth2Client().and().oauth2Login()\n        .failureHandler(customAuthenticationFailureHandler)\n\n\n        .authorizationEndpoint().authorizationRequestResolver(\n                new IdMeAuthorizationRequestResolver(clientRegistrationRepository, &quot;customoauthprovider&quot;));\n\n    DefaultSecurityFilterChain toReturn = http.build();\n\n    return toReturn;\n}\n</code></pre>\n<p>And CustomAuthenticationFailureHandler:</p>\n<pre><code>public class CustomAuthenticationFailureHandler extends SimpleUrlAuthenticationFailureHandler {    \n@Override\npublic void onAuthenticationFailure(HttpServletRequest request, HttpServletResponse response, AuthenticationException exception) throws IOException, ServletException {\n\n    log.error(&quot;Exctption {}&quot;, exception);\n    exception.printStackTrace();\n    System.out.println(&quot;Authentication failed: &quot; + exception.getMessage());\n\n  }\n}\n</code></pre>\n<blockquote>\n<p>I even installed the SSL certificate of the custom OAuth provider in the Java key store but still no success.\n<br>I am using openjdk version &quot;11&quot; 2018-09-25 on my Azure Windows based virtual machine</p>\n</blockquote>\n"},{"tags":["java","indexoutofboundsexception","parseint"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":1,"creation_date":1511785963,"post_id":47511069,"comment_id":81977778,"body_markdown":"that statement can not cause that exception. check the line again","body":"that statement can not cause that exception. check the line again"},{"owner":{"account_id":44195,"reputation":269053,"user_id":129570,"accept_rate":79,"display_name":"Oliver Charlesworth"},"score":0,"creation_date":1511785970,"post_id":47511069,"comment_id":81977782,"body_markdown":"Then you are probably reading out of the bounds of your array.","body":"Then you are probably reading out of the bounds of your array."},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1511786002,"post_id":47511069,"comment_id":81977807,"body_markdown":"/*trying to take 3  command line arguments */ -&gt; how are you trying that?","body":"/*trying to take 3  command line arguments */ -&gt; how are you trying that?"},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":1,"creation_date":1511786057,"post_id":47511069,"comment_id":81977841,"body_markdown":"That appear, if you run the program with less than 3 arguments","body":"That appear, if you run the program with less than 3 arguments"},{"owner":{"account_id":4819600,"reputation":56500,"user_id":3890632,"display_name":"khelwood"},"score":2,"creation_date":1511786065,"post_id":47511069,"comment_id":81977846,"body_markdown":"The _compiler_ is showing an error? Are you sure it is not an exception happening at runtime?","body":"The <i>compiler</i> is showing an error? Are you sure it is not an exception happening at runtime?"},{"owner":{"account_id":1937019,"reputation":4428,"user_id":1744230,"accept_rate":100,"display_name":"QBrute"},"score":0,"creation_date":1511786486,"post_id":47511069,"comment_id":81978120,"body_markdown":"It would be really helpful if you posted the actual stacktrace. Other than that, it&#39;s probably because you&#39;re **1.** not providing three arguments to your program or **2.** your program throws it here `for(i=0;i&lt;=array.length;i++) {`","body":"It would be really helpful if you posted the actual stacktrace. Other than that, it&#39;s probably because you&#39;re <b>1.</b> not providing three arguments to your program or <b>2.</b> your program throws it here <code>for(i=0;i&lt;=array.length;i++) {</code>"},{"owner":{"account_id":12359639,"reputation":41,"user_id":9014316,"display_name":"Pallab Mahata"},"score":0,"creation_date":1511807775,"post_id":47511069,"comment_id":81991320,"body_markdown":"it was due to the ide and the System.out.printf(&quot;%5d%8d\\n&quot;,&quot;index&quot;, &quot;value&quot;) line.also i corrected the loop .thank u","body":"it was due to the ide and the System.out.printf(&quot;%5d%8d\\n&quot;,&quot;index&quot;, &quot;value&quot;) line.also i corrected the loop .thank u"}],"answers":[{"comments":[{"owner":{"account_id":12359639,"reputation":41,"user_id":9014316,"display_name":"Pallab Mahata"},"score":0,"creation_date":1511803114,"post_id":47511207,"comment_id":81988807,"body_markdown":"im using eclipse IDE.the command line arguments print just fine .is shows the  same error on Netbeans.","body":"im using eclipse IDE.the command line arguments print just fine .is shows the  same error on Netbeans."},{"owner":{"account_id":12359639,"reputation":41,"user_id":9014316,"display_name":"Pallab Mahata"},"score":0,"creation_date":1511803490,"post_id":47511207,"comment_id":81989032,"body_markdown":"also when i pass 2 or any other no. of  command line arguments it works fine and prints the first part of if clause and prints &quot;error&quot;.","body":"also when i pass 2 or any other no. of  command line arguments it works fine and prints the first part of if clause and prints &quot;error&quot;."},{"owner":{"account_id":12359639,"reputation":41,"user_id":9014316,"display_name":"Pallab Mahata"},"score":0,"creation_date":1511804754,"post_id":47511207,"comment_id":81989728,"body_markdown":"sorry guys.. i turns out it was a problem related to IDE.and System.out.printf(&quot;%5d%8d\\n&quot;,&quot;index&quot;, &quot;value&quot;);\nthis line.now its works fine","body":"sorry guys.. i turns out it was a problem related to IDE.and System.out.printf(&quot;%5d%8d\\n&quot;,&quot;index&quot;, &quot;value&quot;); this line.now its works fine"},{"owner":{"account_id":11052106,"reputation":3581,"user_id":8116173,"display_name":"Przemysław Moskal"},"score":0,"creation_date":1511806036,"post_id":47511207,"comment_id":81990471,"body_markdown":"Yes, but the line I mentioned will cause ArrayIndexOutOfBoundsException too because in the last loop it will try to make use of array[length] when last index of your array is array[length - 1]. Sooner or later you need to change it too.","body":"Yes, but the line I mentioned will cause ArrayIndexOutOfBoundsException too because in the last loop it will try to make use of array[length] when last index of your array is array[length - 1]. Sooner or later you need to change it too."}],"tags":[],"owner":{"account_id":11052106,"reputation":3581,"user_id":8116173,"display_name":"Przemysław Moskal"},"comment_count":4,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1511788826,"creation_date":1511786289,"answer_id":47511207,"question_id":47511069,"body_markdown":"In last for loop in your program you have:\n\n    for(i=0; i &lt;= array.length; i++)\nIt should be changed to \n\n    for(i=0; i &lt; array.length; i++)\n\nAlso I would suggest to check if you pass the arguments the right way (especially when using IDE you have to pass them the way your IDE requires it), because if they are not read correctly it may cause `ArrayIndexOutOfBoundsException` in your program. I suggest you to firstly print content of arrays to check if they are correctly filled with data you desired to store in them just to make sure everything is done properly. ","title":"Integer.parseInt() statement shows array index out of bound error while taking command line input in java","body":"<p>In last for loop in your program you have:</p>\n\n<pre><code>for(i=0; i &lt;= array.length; i++)\n</code></pre>\n\n<p>It should be changed to </p>\n\n<pre><code>for(i=0; i &lt; array.length; i++)\n</code></pre>\n\n<p>Also I would suggest to check if you pass the arguments the right way (especially when using IDE you have to pass them the way your IDE requires it), because if they are not read correctly it may cause <code>ArrayIndexOutOfBoundsException</code> in your program. I suggest you to firstly print content of arrays to check if they are correctly filled with data you desired to store in them just to make sure everything is done properly. </p>\n"},{"tags":[],"owner":{"account_id":12109070,"reputation":1,"user_id":8846680,"display_name":"ALLEN"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1511788904,"creation_date":1511788904,"answer_id":47511983,"question_id":47511069,"body_markdown":"As you are trying to take three command line arguments then :\r\n\r\narray.length = 3 , where indexes run from 0 , 1 and 2.\r\n\r\nIn last for loop of your program you have :\r\n\r\nfor(i=0; i &lt;= array.length; i++)\r\n\r\nNow , for i = 3 we have 3 &lt;= array.length as true and when you try to access \r\n\r\narray[3] in your for loop exception is raised . In order to avoid it \r\n\r\nchange follow\r\n\r\nfor(i=0; i &lt; array.length; i++)\r\n","title":"Integer.parseInt() statement shows array index out of bound error while taking command line input in java","body":"<p>As you are trying to take three command line arguments then :</p>\n\n<p>array.length = 3 , where indexes run from 0 , 1 and 2.</p>\n\n<p>In last for loop of your program you have :</p>\n\n<p>for(i=0; i &lt;= array.length; i++)</p>\n\n<p>Now , for i = 3 we have 3 &lt;= array.length as true and when you try to access </p>\n\n<p>array[3] in your for loop exception is raised . In order to avoid it </p>\n\n<p>change follow</p>\n\n<p>for(i=0; i &lt; array.length; i++)</p>\n"}],"owner":{"account_id":12359639,"reputation":41,"user_id":9014316,"display_name":"Pallab Mahata"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1261,"favorite_count":0,"down_vote_count":5,"up_vote_count":1,"answer_count":2,"score":-4,"last_activity_date":1690091182,"creation_date":1511785882,"question_id":47511069,"body_markdown":"I was trying to take three command line arguments as input and do some basic maths operations, but the compiler is showing arrayindex out of bound error in lines having `Integer.parseInt()`.\r\n\t\r\n    public class testarray {\r\n        \t\r\n        public static void main(String args[]) {\r\n        \r\n        \tint i=0;\r\n            int length,start,increment;\r\n            /*trying to take 3  command line arguments */\r\n            length=Integer.parseInt(args[0]);\r\n        \tint array[]=new int[length];\r\n        \tstart=Integer.parseInt(args[1]);\r\n        \tincrement=Integer.parseInt(args[2]);\r\n            if(args.length!=3) {\r\n        \t\tSystem.out.println(&quot;error&quot;);\r\n        \t}\r\n        \telse\r\n        \t{\r\n        \t\tfor( i=0;i&lt;array.length;i++) {\r\n        \t\t\tarray[i]=start+(start+increment);\r\n        \t\t}\r\n        \t\tSystem.out.printf(&quot;%5d%8d\\n&quot;,&quot;index&quot;, &quot;value&quot;);\r\n        \t\r\n        \t    for(i=0;i&lt;=array.length;i++) {\r\n        \t        System.out.printf(&quot;%d%d\\n&quot;,i,array[i]);\r\n        \t    }\r\n            }\r\n        }\r\n    }","title":"Integer.parseInt() statement shows array index out of bound error while taking command line input in java","body":"<p>I was trying to take three command line arguments as input and do some basic maths operations, but the compiler is showing arrayindex out of bound error in lines having <code>Integer.parseInt()</code>.</p>\n<pre><code>public class testarray {\n        \n    public static void main(String args[]) {\n    \n        int i=0;\n        int length,start,increment;\n        /*trying to take 3  command line arguments */\n        length=Integer.parseInt(args[0]);\n        int array[]=new int[length];\n        start=Integer.parseInt(args[1]);\n        increment=Integer.parseInt(args[2]);\n        if(args.length!=3) {\n            System.out.println(&quot;error&quot;);\n        }\n        else\n        {\n            for( i=0;i&lt;array.length;i++) {\n                array[i]=start+(start+increment);\n            }\n            System.out.printf(&quot;%5d%8d\\n&quot;,&quot;index&quot;, &quot;value&quot;);\n        \n            for(i=0;i&lt;=array.length;i++) {\n                System.out.printf(&quot;%d%d\\n&quot;,i,array[i]);\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","git","svn","version-control","git-merge"],"answers":[{"tags":[],"owner":{"account_id":6367122,"reputation":1369,"user_id":4940780,"accept_rate":86,"display_name":"Antho Christen"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690091139,"creation_date":1511959194,"answer_id":47553122,"question_id":47552821,"body_markdown":"Generally that is why we must pull changes frequently so that that our code is always up-to-date with that of the masters. In your case, you will have to merge the changes manually.\r\n\r\nIf you&#39;d like to incrementally apply the changes done in your branch on top of master, do a [rebase][1]\r\n\r\nLike,\r\n\r\n    git checkout your_branch\r\n    git rebase -i master\r\n\r\nThis will allow you to apply your commits in chronological order, so you&#39;d have merge the change commit by commit..thus decreasing the number of conflicts.\r\n\r\n\r\n  [1]: https://git-scm.com/docs/git-rebase","title":"Easiest way of compare classes of two branch","body":"<p>Generally that is why we must pull changes frequently so that that our code is always up-to-date with that of the masters. In your case, you will have to merge the changes manually.</p>\n<p>If you'd like to incrementally apply the changes done in your branch on top of master, do a <a href=\"https://git-scm.com/docs/git-rebase\" rel=\"nofollow noreferrer\">rebase</a></p>\n<p>Like,</p>\n<pre><code>git checkout your_branch\ngit rebase -i master\n</code></pre>\n<p>This will allow you to apply your commits in chronological order, so you'd have merge the change commit by commit..thus decreasing the number of conflicts.</p>\n"},{"tags":[],"owner":{"account_id":372122,"reputation":52355,"user_id":720999,"accept_rate":100,"display_name":"kostix"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1511962440,"creation_date":1511962440,"answer_id":47554119,"question_id":47552821,"body_markdown":"You appear to confuse merging-as-joining-histories\r\nand merging-as-reconciling-changes.\r\nThese two most of the time are done at the same time — when one performs\r\na merge operation using their VCS, — and that&#39;s why they&#39;re not usually\r\nbeing mentally distinguished in one&#39;s mind.\r\n\r\nBut in fact, they are distinct and you can use this to your advantage:\r\n\r\n1. Run a normal merge operation using your VCS.\r\n\r\n    You will have conflicts. That&#39;s inevitable and is okay.\r\n\r\n1. Have the conflicts in the offending file resolved by using\r\n*either* of the both sides of the merge.\r\n\r\n    Something like `svn checkout --theirs ^path/to/that/file.java`\r\n\r\n1. Take both versions of the *class implementation* and come up with\r\nanother one which reconciles them both in a sensible way (code-wise).\r\n\r\n1. Update the file with the implementation. Run tests to ensure it\r\nworks as expected.\r\n\r\n1. Commit.","title":"Easiest way of compare classes of two branch","body":"<p>You appear to confuse merging-as-joining-histories\nand merging-as-reconciling-changes.\nThese two most of the time are done at the same time — when one performs\na merge operation using their VCS, — and that's why they're not usually\nbeing mentally distinguished in one's mind.</p>\n\n<p>But in fact, they are distinct and you can use this to your advantage:</p>\n\n<ol>\n<li><p>Run a normal merge operation using your VCS.</p>\n\n<p>You will have conflicts. That's inevitable and is okay.</p></li>\n<li><p>Have the conflicts in the offending file resolved by using\n<em>either</em> of the both sides of the merge.</p>\n\n<p>Something like <code>svn checkout --theirs ^path/to/that/file.java</code></p></li>\n<li><p>Take both versions of the <em>class implementation</em> and come up with\nanother one which reconciles them both in a sensible way (code-wise).</p></li>\n<li><p>Update the file with the implementation. Run tests to ensure it\nworks as expected.</p></li>\n<li><p>Commit.</p></li>\n</ol>\n"}],"owner":{"account_id":1251965,"reputation":244,"user_id":1472060,"accept_rate":50,"display_name":"maskapsiz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":299,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":47554119,"answer_count":2,"score":0,"last_activity_date":1690091139,"creation_date":1511958253,"question_id":47552821,"body_markdown":"We created two branches and one developers group committed to master branch and another developer groups committed to development branch. We developed different requirements in two branches in last 2 months and now we want to merge these two branches. We are using SVN but it is not easy to merge these classes, because same class in two branches are changed several times and it&#39;s very complicated to merge now. What is the easiest way to merge these two branches? Branch history is not important for us. We can use git tools also, or visual tools. ","title":"Easiest way of compare classes of two branch","body":"<p>We created two branches and one developers group committed to master branch and another developer groups committed to development branch. We developed different requirements in two branches in last 2 months and now we want to merge these two branches. We are using SVN but it is not easy to merge these classes, because same class in two branches are changed several times and it's very complicated to merge now. What is the easiest way to merge these two branches? Branch history is not important for us. We can use git tools also, or visual tools. </p>\n"},{"tags":["java","hashmap","copy"],"comments":[{"owner":{"account_id":5483053,"reputation":406,"user_id":4358787,"display_name":"Gaurav"},"score":1,"creation_date":1536749283,"post_id":28288546,"comment_id":91534452,"body_markdown":"Using cloning library saved the day for me!  https://github.com/kostaskougios/cloning","body":"Using cloning library saved the day for me!  <a href=\"https://github.com/kostaskougios/cloning\" rel=\"nofollow noreferrer\">github.com/kostaskougios/cloning</a>"}],"answers":[{"tags":[],"owner":{"account_id":5558760,"reputation":336,"user_id":4409067,"display_name":"Brian"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1422918951,"creation_date":1422918951,"answer_id":28288637,"question_id":28288546,"body_markdown":"You are making a copy of the HashMap itself, so changing the HashMap copy will not change the original HashMap (i.e. adding or removing entries), but because the objects you have stored are not primitive types, the List that you retrieve with a given key will be the same whether retrieved from the first or the second Map.\r\n\r\nThus, there is still only ONE copy of that list, referenced by both maps: changing the List changes it no matter which reference you use to access it.\r\n\r\nIf you want the actual List to be a separate copy, you will have to do as you said: iterate over the entry set of the HashMap and create a copy of each List manually, adding it to the new map as you go.\r\n\r\nIf there is a better way than that, I don&#39;t know what it is.","title":"How to copy HashMap (not shallow copy) in Java","body":"<p>You are making a copy of the HashMap itself, so changing the HashMap copy will not change the original HashMap (i.e. adding or removing entries), but because the objects you have stored are not primitive types, the List that you retrieve with a given key will be the same whether retrieved from the first or the second Map.</p>\n\n<p>Thus, there is still only ONE copy of that list, referenced by both maps: changing the List changes it no matter which reference you use to access it.</p>\n\n<p>If you want the actual List to be a separate copy, you will have to do as you said: iterate over the entry set of the HashMap and create a copy of each List manually, adding it to the new map as you go.</p>\n\n<p>If there is a better way than that, I don't know what it is.</p>\n"},{"comments":[{"owner":{"account_id":4138429,"reputation":701,"user_id":3394494,"display_name":"Mathis"},"score":1,"creation_date":1422921383,"post_id":28288641,"comment_id":44931865,"body_markdown":"In the for loop declaration, shoudn&#39;t there be original.entrySet() instead of copy.entrySet() ?","body":"In the for loop declaration, shoudn&#39;t there be original.entrySet() instead of copy.entrySet() ?"},{"owner":{"account_id":1888343,"reputation":176617,"user_id":1707091,"display_name":"rgettman"},"score":1,"creation_date":1422921443,"post_id":28288641,"comment_id":44931880,"body_markdown":"@user3394494 Yes, you&#39;re right.  I guess that&#39;s what happens when I type the code quickly.  Modified.","body":"@user3394494 Yes, you&#39;re right.  I guess that&#39;s what happens when I type the code quickly.  Modified."},{"owner":{"account_id":3579213,"reputation":306,"user_id":2987814,"accept_rate":75,"display_name":"Johnson"},"score":0,"creation_date":1562921971,"post_id":28288641,"comment_id":100540135,"body_markdown":"Be aware that this solution will not work as expected, if multiple `keys` in your `Map` reference the same `value` object! Using above method the clone will have new objects for each `value`. Actually, I came here looking for a better option than using a second `Map` from original `values` to cloned `values` during the clone process in such cases.","body":"Be aware that this solution will not work as expected, if multiple <code>keys</code> in your <code>Map</code> reference the same <code>value</code> object! Using above method the clone will have new objects for each <code>value</code>. Actually, I came here looking for a better option than using a second <code>Map</code> from original <code>values</code> to cloned <code>values</code> during the clone process in such cases."}],"tags":[],"owner":{"account_id":1888343,"reputation":176617,"user_id":1707091,"display_name":"rgettman"},"comment_count":3,"down_vote_count":1,"up_vote_count":41,"is_accepted":true,"score":40,"last_activity_date":1422921472,"creation_date":1422918974,"answer_id":28288641,"question_id":28288546,"body_markdown":"You&#39;re right that a shallow copy won&#39;t meet your requirements.  It will have copies of the `List`s from your original map, but those `List`s will refer to the same `List` objects, so that a modification to a `List` from one `HashMap` will appear in the corresponding `List` from the other `HashMap`.\r\n\r\nThere is no deep copying supplied for a `HashMap` in Java, so you will still have to loop through all of the entries and `put` them in the new `HashMap`.  But you should also make a copy of the `List` each time also.  Something like this:\r\n\r\n    public static HashMap&lt;Integer, List&lt;MySpecialClass&gt;&gt; copy(\r\n        HashMap&lt;Integer, List&lt;MySpecialClass&gt;&gt; original)\r\n    {\r\n        HashMap&lt;Integer, List&lt;MySpecialClass&gt;&gt; copy = new HashMap&lt;Integer, List&lt;MySpecialClass&gt;&gt;();\r\n        for (Map.Entry&lt;Integer, List&lt;MySpecialClass&gt;&gt; entry : original.entrySet())\r\n        {\r\n            copy.put(entry.getKey(),\r\n               // Or whatever List implementation you&#39;d like here.\r\n               new ArrayList&lt;MySpecialClass&gt;(entry.getValue()));\r\n        }\r\n        return copy;\r\n    }\r\n\r\nIf you want to modify your individual `MySpecialClass` objects, and have the changes not be reflected in the `List`s of your copied `HashMap`, then you will need to make new copies of them too.","title":"How to copy HashMap (not shallow copy) in Java","body":"<p>You're right that a shallow copy won't meet your requirements.  It will have copies of the <code>List</code>s from your original map, but those <code>List</code>s will refer to the same <code>List</code> objects, so that a modification to a <code>List</code> from one <code>HashMap</code> will appear in the corresponding <code>List</code> from the other <code>HashMap</code>.</p>\n\n<p>There is no deep copying supplied for a <code>HashMap</code> in Java, so you will still have to loop through all of the entries and <code>put</code> them in the new <code>HashMap</code>.  But you should also make a copy of the <code>List</code> each time also.  Something like this:</p>\n\n<pre><code>public static HashMap&lt;Integer, List&lt;MySpecialClass&gt;&gt; copy(\n    HashMap&lt;Integer, List&lt;MySpecialClass&gt;&gt; original)\n{\n    HashMap&lt;Integer, List&lt;MySpecialClass&gt;&gt; copy = new HashMap&lt;Integer, List&lt;MySpecialClass&gt;&gt;();\n    for (Map.Entry&lt;Integer, List&lt;MySpecialClass&gt;&gt; entry : original.entrySet())\n    {\n        copy.put(entry.getKey(),\n           // Or whatever List implementation you'd like here.\n           new ArrayList&lt;MySpecialClass&gt;(entry.getValue()));\n    }\n    return copy;\n}\n</code></pre>\n\n<p>If you want to modify your individual <code>MySpecialClass</code> objects, and have the changes not be reflected in the <code>List</code>s of your copied <code>HashMap</code>, then you will need to make new copies of them too.</p>\n"},{"comments":[{"owner":{"account_id":4138429,"reputation":701,"user_id":3394494,"display_name":"Mathis"},"score":2,"creation_date":1422921708,"post_id":28288729,"comment_id":44931974,"body_markdown":"I&#39;m not that familiar with streams. When I tried your solution it gives an error :  non-static method getKey() cannot be referenced from a static context, same with getValue(), how to edit it so it works? Thanks","body":"I&#39;m not that familiar with streams. When I tried your solution it gives an error :  non-static method getKey() cannot be referenced from a static context, same with getValue(), how to edit it so it works? Thanks"},{"owner":{"account_id":4563475,"reputation":27298,"user_id":3705127,"accept_rate":52,"display_name":"sprinter"},"score":1,"creation_date":1422924597,"post_id":28288729,"comment_id":44932789,"body_markdown":"Unfortunately I&#39;m not at a compiler at the moment so I haven&#39;t had a chance to test it. Try this and if it doesn&#39;t work I&#39;ll remove the answer until I&#39;ve had a chance to test it.","body":"Unfortunately I&#39;m not at a compiler at the moment so I haven&#39;t had a chance to test it. Try this and if it doesn&#39;t work I&#39;ll remove the answer until I&#39;ve had a chance to test it."},{"owner":{"account_id":4257484,"reputation":2514,"user_id":4563947,"accept_rate":67,"display_name":"Ben"},"score":1,"creation_date":1490108575,"post_id":28288729,"comment_id":72959023,"body_markdown":"In a general context, your solution works. The non-static method error seems to be related to the static context of the method of the OP&#180;s problem.","body":"In a general context, your solution works. The non-static method error seems to be related to the static context of the method of the OP&#180;s problem."},{"owner":{"account_id":5080491,"reputation":15131,"user_id":4076764,"accept_rate":74,"display_name":"Adam Hughes"},"score":3,"creation_date":1503922119,"post_id":28288729,"comment_id":78795691,"body_markdown":"Wouldn&#39;t `getValue()` just be passing a reference though?","body":"Wouldn&#39;t <code>getValue()</code> just be passing a reference though?"},{"owner":{"account_id":8739741,"reputation":6543,"user_id":6537157,"accept_rate":100,"display_name":"akop"},"score":0,"creation_date":1572352756,"post_id":28288729,"comment_id":103526006,"body_markdown":"`List.copyOf()` returns a unmodifiable List. In case of copies should `new ArrayList()` be preferred.","body":"<code>List.copyOf()</code> returns a unmodifiable List. In case of copies should <code>new ArrayList()</code> be preferred."},{"owner":{"account_id":10075353,"reputation":1753,"user_id":7447660,"display_name":"Koenigsberg"},"score":0,"creation_date":1596620105,"post_id":28288729,"comment_id":111867238,"body_markdown":"Code snippet has syntax errors, `ArrayList` is a raw type, etc.","body":"Code snippet has syntax errors, <code>ArrayList</code> is a raw type, etc."}],"tags":[],"owner":{"account_id":4563475,"reputation":27298,"user_id":3705127,"accept_rate":52,"display_name":"sprinter"},"comment_count":6,"down_vote_count":1,"up_vote_count":50,"is_accepted":false,"score":49,"last_activity_date":1596669815,"creation_date":1422919501,"answer_id":28288729,"question_id":28288546,"body_markdown":"This does need iteration unfortunately. But it&#39;s pretty trivial with Java 8 streams:\r\n\r\n    mapCopy = map.entrySet().stream()\r\n        .collect(Collectors.toMap(e -&gt; e.getKey(), e -&gt; List.copyOf(e.getValue())))","title":"How to copy HashMap (not shallow copy) in Java","body":"<p>This does need iteration unfortunately. But it's pretty trivial with Java 8 streams:</p>\n<pre><code>mapCopy = map.entrySet().stream()\n    .collect(Collectors.toMap(e -&gt; e.getKey(), e -&gt; List.copyOf(e.getValue())))\n</code></pre>\n"},{"comments":[{"owner":{"account_id":9583,"reputation":9226,"user_id":17772,"accept_rate":82,"display_name":"Ron Klein"},"score":7,"creation_date":1541919062,"post_id":46074721,"comment_id":93377948,"body_markdown":"I guess that the downvotes were about the performance penalty of this technique, but IMO this is a legit answer, despite its performance costs.","body":"I guess that the downvotes were about the performance penalty of this technique, but IMO this is a legit answer, despite its performance costs."},{"owner":{"account_id":1003774,"reputation":355,"user_id":1018024,"accept_rate":57,"display_name":"james.cookie"},"score":0,"creation_date":1543594259,"post_id":46074721,"comment_id":93987844,"body_markdown":"Perfect for my test code (where I don&#39;t care about performance), of course you can use any json serializer such as `com.fasterxml.jackson.databind.ObjectMapper` : `Map&lt;String, Object&gt; mapCopy = mapper.readValue(mapper.writeValueAsString(originalMap), new TypeReference&lt;Map&lt;String, Object&gt;&gt;() {})`","body":"Perfect for my test code (where I don&#39;t care about performance), of course you can use any json serializer such as <code>com.fasterxml.jackson.databind.ObjectMapper</code> : <code>Map&lt;String, Object&gt; mapCopy = mapper.readValue(mapper.writeValueAsString(originalMap), new TypeReference&lt;Map&lt;String, Object&gt;&gt;() {})</code>"},{"owner":{"account_id":2554069,"reputation":1281,"user_id":2216472,"accept_rate":79,"display_name":"Ajeetkumar"},"score":1,"creation_date":1579174382,"post_id":46074721,"comment_id":105681271,"body_markdown":"This is useful in cases where your data is really deeply referenced.","body":"This is useful in cases where your data is really deeply referenced."},{"owner":{"account_id":2900414,"reputation":5120,"user_id":2487263,"accept_rate":58,"display_name":"raspacorp"},"score":0,"creation_date":1617829475,"post_id":46074721,"comment_id":118420397,"body_markdown":"This is a real deep copy, guarantees that none of your embedded objects will point to the same reference","body":"This is a real deep copy, guarantees that none of your embedded objects will point to the same reference"},{"owner":{"account_id":1024933,"reputation":703,"user_id":1034461,"display_name":"horvoje"},"score":0,"creation_date":1657959822,"post_id":46074721,"comment_id":128937515,"body_markdown":"Didn&#39;t put a downvote but imho this is pretty bad solution as you have to use external dependency and also you&#39;re doing conversion which is not needed (if we say performance is not needed).","body":"Didn&#39;t put a downvote but imho this is pretty bad solution as you have to use external dependency and also you&#39;re doing conversion which is not needed (if we say performance is not needed)."},{"owner":{"account_id":450779,"reputation":508,"user_id":846284,"accept_rate":100,"display_name":"treaz"},"score":0,"creation_date":1663263015,"post_id":46074721,"comment_id":130203965,"body_markdown":"This solution has a problem because Gson will serializes keys using the toString method. For example, toJson for Map&lt;String, Map&lt;Long,Object&gt;&gt; will create a JSON string that has string keys, not numeric. And then the serialization will lead to having Map&lt;String, Map&lt;String,Object&gt;&gt;.","body":"This solution has a problem because Gson will serializes keys using the toString method. For example, toJson for Map&lt;String, Map&lt;Long,Object&gt;&gt; will create a JSON string that has string keys, not numeric. And then the serialization will lead to having Map&lt;String, Map&lt;String,Object&gt;&gt;."}],"tags":[],"owner":{"account_id":7660,"reputation":15986,"user_id":13365,"accept_rate":70,"display_name":"neu242"},"comment_count":6,"down_vote_count":4,"up_vote_count":30,"is_accepted":false,"score":26,"last_activity_date":1504699668,"creation_date":1504699345,"answer_id":46074721,"question_id":28288546,"body_markdown":"Serialize to json and deserialize afterwards:\r\n\r\n    Map&lt;String, Object&gt; originalMap = new HashMap&lt;&gt;();\r\n    String json = new Gson().toJson(originalMap);\r\n    Map&lt;String, Object&gt; mapCopy = new Gson().fromJson(\r\n        json, new TypeToken&lt;Map&lt;String, Object&gt;&gt;() {}.getType());\r\n\r\nFor special classes you might need to [write a custom deserializer][1].\r\n\r\n\r\n  [1]: https://github.com/google/gson/blob/master/UserGuide.md#TOC-Writing-a-Deserializer","title":"How to copy HashMap (not shallow copy) in Java","body":"<p>Serialize to json and deserialize afterwards:</p>\n\n<pre><code>Map&lt;String, Object&gt; originalMap = new HashMap&lt;&gt;();\nString json = new Gson().toJson(originalMap);\nMap&lt;String, Object&gt; mapCopy = new Gson().fromJson(\n    json, new TypeToken&lt;Map&lt;String, Object&gt;&gt;() {}.getType());\n</code></pre>\n\n<p>For special classes you might need to <a href=\"https://github.com/google/gson/blob/master/UserGuide.md#TOC-Writing-a-Deserializer\" rel=\"noreferrer\">write a custom deserializer</a>.</p>\n"},{"tags":[],"owner":{"account_id":21266941,"reputation":159,"user_id":15647041,"display_name":"Ігор Колобов"},"comment_count":0,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1621513121,"creation_date":1621512014,"answer_id":67619929,"question_id":28288546,"body_markdown":"Just use Apache Commons Lang - SerializationUtils.clone();\r\n\r\nSomething like these:\r\n\r\n        Map&lt;String, List&lt;MySpecialClass&gt;&gt; originalMap = new HashMap();\r\n        HashMap&lt;String, List&lt;MySpecialClass&gt;&gt; deepCopy = SerializationUtils.clone(new HashMap&lt;&gt;(originalMap));\r\n\r\nAlso make sure MySpecialClass implements Serializable interface.\r\n\r\n    public class MySpecialClass implements Serializable{}","title":"How to copy HashMap (not shallow copy) in Java","body":"<p>Just use Apache Commons Lang - SerializationUtils.clone();</p>\n<p>Something like these:</p>\n<pre><code>    Map&lt;String, List&lt;MySpecialClass&gt;&gt; originalMap = new HashMap();\n    HashMap&lt;String, List&lt;MySpecialClass&gt;&gt; deepCopy = SerializationUtils.clone(new HashMap&lt;&gt;(originalMap));\n</code></pre>\n<p>Also make sure MySpecialClass implements Serializable interface.</p>\n<pre><code>public class MySpecialClass implements Serializable{}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":450779,"reputation":508,"user_id":846284,"accept_rate":100,"display_name":"treaz"},"score":1,"creation_date":1663262638,"post_id":73344730,"comment_id":130203822,"body_markdown":"are you sure this won&#39;t give you a shallow copy?","body":"are you sure this won&#39;t give you a shallow copy?"},{"owner":{"account_id":19017729,"reputation":165,"user_id":13882338,"display_name":"vishal patel"},"score":1,"creation_date":1663308264,"post_id":73344730,"comment_id":130212840,"body_markdown":"Yes I have tested it multiple times. It returns deep copy of HashMap.","body":"Yes I have tested it multiple times. It returns deep copy of HashMap."},{"owner":{"account_id":450779,"reputation":508,"user_id":846284,"accept_rate":100,"display_name":"treaz"},"score":6,"creation_date":1663400892,"post_id":73344730,"comment_id":130234844,"body_markdown":"Indeed it will work for Integer (and probably for other primitive wrappers), but it won&#39;t work for other classes. Here&#39;s an example of what I mean: https://gist.github.com/horiaconstantin-cpi/e65db961a360fa637cbcd7dc2ab761a1 So, it&#39;s a shallow copy.\nOn the other hand, SerializationUtils.clone will not change the values of the original map.","body":"Indeed it will work for Integer (and probably for other primitive wrappers), but it won&#39;t work for other classes. Here&#39;s an example of what I mean: <a href=\"https://gist.github.com/horiaconstantin-cpi/e65db961a360fa637cbcd7dc2ab761a1\" rel=\"nofollow noreferrer\">gist.github.com/horiaconstantin-cpi/&hellip;</a> So, it&#39;s a shallow copy. On the other hand, SerializationUtils.clone will not change the values of the original map."}],"tags":[],"owner":{"account_id":19017729,"reputation":165,"user_id":13882338,"display_name":"vishal patel"},"comment_count":3,"down_vote_count":2,"up_vote_count":4,"is_accepted":false,"score":2,"last_activity_date":1690090460,"creation_date":1660397576,"answer_id":73344730,"question_id":28288546,"body_markdown":"I am not sure about Java 8, but if you are using Java version 11 or above, then the below code will give you a deep copy of Map.\r\n**If data inside it is of primitively type**\r\n\r\n    HashMap&lt;String, Integer&gt; map = new HashMap&lt;&gt;();\r\n    HashMap&lt;String, Integer&gt; deepCopiedMap = new HashMap&lt;&gt;(map);","title":"How to copy HashMap (not shallow copy) in Java","body":"<p>I am not sure about Java 8, but if you are using Java version 11 or above, then the below code will give you a deep copy of Map.\n<strong>If data inside it is of primitively type</strong></p>\n<pre><code>HashMap&lt;String, Integer&gt; map = new HashMap&lt;&gt;();\nHashMap&lt;String, Integer&gt; deepCopiedMap = new HashMap&lt;&gt;(map);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":379152,"reputation":3080,"user_id":732328,"accept_rate":40,"display_name":"Kayvan Tehrani"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676484471,"creation_date":1676484471,"answer_id":75463837,"question_id":28288546,"body_markdown":"[This answer][1] was good in case you were asking for an immutable copy, but the question indicates you are going to change the list values.\r\n\r\nSo in this case you need to create a new list for each of the map values as follows:\r\n\r\n    mapCopy = map.entrySet().stream()\r\n                .collect(Collectors.toMap(Map.Entry::getKey, e -&gt; new ArrayList&lt;&gt;(e.getValue())));\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/28288729/732328","title":"How to copy HashMap (not shallow copy) in Java","body":"<p><a href=\"https://stackoverflow.com/a/28288729/732328\">This answer</a> was good in case you were asking for an immutable copy, but the question indicates you are going to change the list values.</p>\n<p>So in this case you need to create a new list for each of the map values as follows:</p>\n<pre><code>mapCopy = map.entrySet().stream()\n            .collect(Collectors.toMap(Map.Entry::getKey, e -&gt; new ArrayList&lt;&gt;(e.getValue())));\n</code></pre>\n"}],"owner":{"account_id":4138429,"reputation":701,"user_id":3394494,"display_name":"Mathis"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":96376,"favorite_count":0,"down_vote_count":0,"up_vote_count":70,"accepted_answer_id":28288641,"answer_count":7,"score":70,"last_activity_date":1690090460,"creation_date":1422918466,"question_id":28288546,"body_markdown":"I need to make a copy of `HashMap&lt;Integer, List&lt;MySpecialClass&gt; &gt;` but when I change something in the copy I want the original to stay the same. i.e when I remove something from the `List&lt;MySpecialClass&gt;` from the copy it stays in the `List&lt;MySpecialClass&gt;` in the original. \r\n\r\nIf I understand it correctly, these two methods create just shallow copy which is not what I want:\r\n\r\n    mapCopy = new HashMap&lt;&gt;(originalMap);\r\n    mapCopy = (HashMap) originalMap.clone();\r\n\r\nAm I right?\r\n\r\nIs there a better way to do it than just iterate through all the keys and all the list items and copy it manually?","title":"How to copy HashMap (not shallow copy) in Java","body":"<p>I need to make a copy of <code>HashMap&lt;Integer, List&lt;MySpecialClass&gt; &gt;</code> but when I change something in the copy I want the original to stay the same. i.e when I remove something from the <code>List&lt;MySpecialClass&gt;</code> from the copy it stays in the <code>List&lt;MySpecialClass&gt;</code> in the original. </p>\n\n<p>If I understand it correctly, these two methods create just shallow copy which is not what I want:</p>\n\n<pre><code>mapCopy = new HashMap&lt;&gt;(originalMap);\nmapCopy = (HashMap) originalMap.clone();\n</code></pre>\n\n<p>Am I right?</p>\n\n<p>Is there a better way to do it than just iterate through all the keys and all the list items and copy it manually?</p>\n"},{"tags":["java","hibernate","jpa"],"answers":[{"comments":[{"owner":{"account_id":2535057,"reputation":25855,"user_id":2202415,"display_name":"Maciej Kowalski"},"score":0,"creation_date":1487627899,"post_id":42018816,"comment_id":71860585,"body_markdown":"any luck with the tests?","body":"any luck with the tests?"},{"owner":{"account_id":10814530,"reputation":4195,"user_id":7954021,"display_name":"Renis1235"},"score":0,"creation_date":1646144921,"post_id":42018816,"comment_id":126047477,"body_markdown":"This will not work. You have to fo through all the children and set **their** parent null and not the other way around.","body":"This will not work. You have to fo through all the children and set <b>their</b> parent null and not the other way around."}],"tags":[],"owner":{"account_id":2535057,"reputation":25855,"user_id":2202415,"display_name":"Maciej Kowalski"},"comment_count":2,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1486106491,"creation_date":1486106491,"answer_id":42018816,"question_id":42018631,"body_markdown":"Yes, though you must remember about two things:\r\n\r\n**1)** Your child entity must allow null on the foreign key to the child\r\n\r\n**2)** You must remember to NOT have CascadeType.DELETE on the @OneToMany relationship in the parent.\r\n\r\n**3)** Before removing the parent, clear the children collection first:\r\n\r\n    parent.setChildren(null);\r\n    session.delete(parent);","title":"How to delete parent object without delete the child object?","body":"<p>Yes, though you must remember about two things:</p>\n\n<p><strong>1)</strong> Your child entity must allow null on the foreign key to the child</p>\n\n<p><strong>2)</strong> You must remember to NOT have CascadeType.DELETE on the @OneToMany relationship in the parent.</p>\n\n<p><strong>3)</strong> Before removing the parent, clear the children collection first:</p>\n\n<pre><code>parent.setChildren(null);\nsession.delete(parent);\n</code></pre>\n"}],"owner":{"account_id":4309179,"reputation":1075,"user_id":3520773,"accept_rate":0,"display_name":"Deepak Gupta"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1683,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1690089849,"creation_date":1486105766,"question_id":42018631,"body_markdown":"How can I delete the parent object without deleting child object in Hibernate? In my case a child has multiple parents. I just want to remove one parent object from child object.","title":"How to delete parent object without delete the child object?","body":"<p>How can I delete the parent object without deleting child object in Hibernate? In my case a child has multiple parents. I just want to remove one parent object from child object.</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":7875,"page":293,"page_size":100}
